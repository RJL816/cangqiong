"use strict";(self.webpackChunkfinance_agent=self.webpackChunkfinance_agent||[]).push([[717],{2145:function(at,X,r){r.r(X),r.d(X,{default:function(){return nt}});var ge=r(15009),U=r.n(ge),De=r(99289),K=r.n(De),Ne=r(5574),Z=r.n(Ne),s=r(67294),Ce=Object.defineProperty,$=Object.getOwnPropertySymbols,je=Object.prototype.hasOwnProperty,xe=Object.prototype.propertyIsEnumerable,q=(a,t,n)=>t in a?Ce(a,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[t]=n,Ae=(a,t)=>{for(var n in t||(t={}))je.call(t,n)&&q(a,n,t[n]);if($)for(var n of $(t))xe.call(t,n)&&q(a,n,t[n]);return a};const it=a=>React.createElement("svg",Ae({width:168,height:96,xmlns:"http://www.w3.org/2000/svg"},a),React.createElement("title",null,"\u901A\u7528/\u65E0\u6D88\u606F"),React.createElement("defs",null,React.createElement("linearGradient",{x1:"50%",y1:"0%",x2:"50%",y2:"100%",id:"no-notification-list_svg__a"},React.createElement("stop",{stopColor:"#D6DCE7",offset:"0%"}),React.createElement("stop",{stopColor:"#D6DCE7",stopOpacity:0,offset:"100%"}))),React.createElement("g",{fill:"none",fillRule:"evenodd"},React.createElement("path",{d:"M3 39V24C3 15.716 9.716 9 18 9c7.462 0 13.65 5.448 14.806 12.584A9 9 0 0 1 45 30v9H3Z",transform:"translate(108 40)",fill:"url(#no-notification-list_svg__a)",opacity:.3}),React.createElement("path",{d:"M3 39V24C3 15.716 9.716 9 18 9c7.462 0 13.65 5.448 14.806 12.584A9 9 0 0 1 45 30v9H3Z",transform:"matrix(-1 0 0 1 60 32)",fill:"url(#no-notification-list_svg__a)",opacity:.3}),React.createElement("path",{d:"M78 45h45a3 3 0 0 1 3 3v24a3 3 0 0 1-3 3H78a3 3 0 0 1-3-3V48a3 3 0 0 1 3-3Z",fill:"#D6DCE7"}),React.createElement("path",{d:"M45 15h66a3 3 0 0 1 3 3v36a3 3 0 0 1-3 3H45a3 3 0 0 1-3-3V18a3 3 0 0 1 3-3Z",fill:"#E2E8F3"}),React.createElement("path",{fill:"#E2E8F3",d:"M51 51v15l12-12z"}),React.createElement("path",{fill:"#D6DCE7",d:"M120 69v12l-12-12z"}),React.createElement("path",{d:"M66 39a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm12 0a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm12 0a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z",fill:"#CAD0DB"})));var Se="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTY4IiBoZWlnaHQ9Ijk2IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxkZWZzPjxsaW5lYXJHcmFkaWVudCB4MT0iNTAlIiB5MT0iMCUiIHgyPSI1MCUiIHkyPSIxMDAlIiBpZD0iYSI+PHN0b3Agc3RvcC1jb2xvcj0iI0Q2RENFNyIgb2Zmc2V0PSIwJSIvPjxzdG9wIHN0b3AtY29sb3I9IiNENkRDRTciIHN0b3Atb3BhY2l0eT0iMCIgb2Zmc2V0PSIxMDAlIi8+PC9saW5lYXJHcmFkaWVudD48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNMyAzOVYyNEMzIDE1LjcxNiA5LjcxNiA5IDE4IDljNy40NjIgMCAxMy42NSA1LjQ0OCAxNC44MDYgMTIuNTg0QTkgOSAwIDAgMSA0NSAzMHY5SDNaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMDggNDApIiBmaWxsPSJ1cmwoI2EpIiBvcGFjaXR5PSIuMyIvPjxwYXRoIGQ9Ik0zIDM5VjI0QzMgMTUuNzE2IDkuNzE2IDkgMTggOWM3LjQ2MiAwIDEzLjY1IDUuNDQ4IDE0LjgwNiAxMi41ODRBOSA5IDAgMCAxIDQ1IDMwdjlIM1oiIHRyYW5zZm9ybT0ibWF0cml4KC0xIDAgMCAxIDYwIDMyKSIgZmlsbD0idXJsKCNhKSIgb3BhY2l0eT0iLjMiLz48cGF0aCBkPSJNNzggNDVoNDVhMyAzIDAgMCAxIDMgM3YyNGEzIDMgMCAwIDEtMyAzSDc4YTMgMyAwIDAgMS0zLTNWNDhhMyAzIDAgMCAxIDMtM1oiIGZpbGw9IiNENkRDRTciLz48cGF0aCBkPSJNNDUgMTVoNjZhMyAzIDAgMCAxIDMgM3YzNmEzIDMgMCAwIDEtMyAzSDQ1YTMgMyAwIDAgMS0zLTNWMThhMyAzIDAgMCAxIDMtM1oiIGZpbGw9IiNFMkU4RjMiLz48cGF0aCBmaWxsPSIjRTJFOEYzIiBkPSJNNTEgNTF2MTVsMTItMTJ6Ii8+PHBhdGggZmlsbD0iI0Q2RENFNyIgZD0iTTEyMCA2OXYxMmwtMTItMTJ6Ii8+PHBhdGggZD0iTTY2IDM5YTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNlptMTIgMGEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZabTEyIDBhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2WiIgZmlsbD0iI0NBRDBEQiIvPjwvZz48L3N2Zz4=",e=r(85893),ye=function(t){var n=t.url,u=t.text;return(0,e.jsxs)("div",{className:"null-tip",children:[(0,e.jsx)("img",{src:n,alt:"\u7A7A\u63D0\u793A\u56FE\u6807"}),(0,e.jsx)("div",{className:"tip",children:u})]})},_=ye,m=r(38295),T=r(38085),D=r(89575),ee=function(t,n){var u=(0,s.useState)(!1),o=Z()(u,2),g=o[0],N=o[1];return(0,s.useEffect)(function(){var y=function(h){h.scrollHeight-(h.scrollTop+h.clientHeight)<=0?N(!0):N(!1)},v=t.current;return v&&v.addEventListener("scroll",function(){y(v)}),function(){v&&v.removeEventListener("scroll",function(){y(v)})}},[n]),{isBottom:g}},te=r(64783),p=r(93377),H=r(92437),V=r(10207),Ee=r(15417),ne=r(61763),Re=r(93967),k=r.n(Re),ae=r(96486),Le=function(t){var n=t.avatar,u=t.tip;return(0,e.jsxs)("div",{className:"modal-delete-body",children:[(0,e.jsx)("div",{className:"avatar",children:D.tq?(0,e.jsx)(p.Z,{type:"warning-solid"}):(0,e.jsx)("img",{src:n,alt:"\u5934\u50CF"})}),(0,e.jsx)("div",{className:"tip",children:u})]})},Te=Le,ie=r(69538),oe=r(63827),pe=function(t){var n=t.className,u=t.children,o=t.title,g=t.placeholder,N=t.modalTitle,y=t.modalTip,v=t.modalVisible,x=t.visible,h=t.tip,A=t.onClose,M=t.onSearchChange,E=t.onOk,C=t.onCancel,j=(0,m.Z)(function(d){return{hoverRecordItem:d.hoverRecordItem,selectedAssistant:d.selectedAssistant}}),S=j.hoverRecordItem,I=j.selectedAssistant,L=(0,s.useRef)(null),b=(0,s.useRef)(null),O=k()(n,"sidebar-box",{show:x}),Y=function(){return I!=null&&I.avatar?D.r8?r(756)("./".concat(I.avatar,".png")):I.avatar:""}(),B=function(){A==null||A()},P=(0,s.useCallback)((0,ae.debounce)(function(d){M==null||M(d)},300),[]),Q=function(){E==null||E()},f=function(){C==null||C()};return(0,s.useEffect)(function(){if(S!=null&&S.editing&&b.current){var d;(d=b.current)===null||d===void 0||d.focus()}},[S]),(0,e.jsxs)("div",{className:O,ref:L,children:[(0,e.jsxs)("div",{className:"header-area",children:[(0,e.jsx)("div",{className:"left",children:o}),(0,e.jsx)("div",{className:"right",onClick:B,children:(0,e.jsx)(p.Z,{type:"close"})})]}),(0,e.jsxs)("div",{className:"content-area",children:[h&&(0,e.jsx)("div",{className:"tip",children:h}),(0,e.jsx)("div",{className:"search-box",children:(0,e.jsx)(ie.ZP,{placeholder:g,onChange:P,borderType:"bordered",prefix:(0,e.jsx)(p.Z,{type:"search"})})}),u]}),(0,e.jsx)(oe.ZP,{focusTriggerAfterClose:!1,visible:v,className:k()("agent-modal",{ios:(0,D.gn)()}),title:N,showline:!!D.tq,type:"confirm",body:(0,e.jsx)(Te,{avatar:Y,tip:y}),getContainer:function(){return L==null?void 0:L.current},onOk:Q,onCancel:f,width:D.tq?284:460,height:D.tq?188:340,draggable:!1})]})},re=pe,le=function(){return(0,e.jsx)(te.Z,{type:"container",className:"inner-spin"})},ze=function(t){var n=t.item,u=(0,s.useState)(!0),o=Z()(u,2),g=o[0],N=o[1],y=(0,s.useState)(!1),v=Z()(y,2),x=v[0],h=v[1],A=(0,s.useRef)(null),M=k()("info",{"is-expand":!g,ellipsis:x&&g});(0,s.useLayoutEffect)(function(){A.current&&h((0,D.FQ)(A))},[]);var E=function(S){x&&S.stopPropagation(),N(!1)},C=function(){N(!0)};return(0,e.jsxs)("div",{ref:A,className:M,title:n.content,onClick:function(S){E(S)},children:[n.content,x&&g&&(0,e.jsx)(p.Z,{type:"arrow-down"}),x&&!g&&(0,e.jsx)(p.Z,{type:"arrow-up",onClick:function(S){S.stopPropagation(),C()}})]})},we=function(){var t=(0,m.Z)(function(f){return{showNotification:f.showNotification,notificationList:f.notificationList,showNotificationDeleteConfirmModal:f.showNotificationDeleteConfirmModal,isUnread:f.isUnread,notificationPageNumber:f.notificationPageNumber,sidebarSearchContent:f.sidebarSearchContent}}),n=t.showNotification,u=t.notificationList,o=t.showNotificationDeleteConfirmModal,g=t.isUnread,N=t.notificationPageNumber,y=t.sidebarSearchContent,v=(0,s.useState)(),x=Z()(v,2),h=x[0],A=x[1],M=(0,s.useRef)(null),E=ee(M,u),C=E.isBottom;(0,s.useEffect)(function(){C&&N!==-1&&(A(!0),(0,T.y4)(N,y))},[C]),(0,s.useEffect)(function(){A(!1)},[N]),(0,s.useEffect)(function(){if(M!=null&&M.current){var f=M.current;f.scrollTo({top:-M.current.scrollTop})}},[g,n]);var j=function(d){return D.tq?d.mobilehandleurl||"":d.pchandleurl||""},S=function(){m.Z.setState({showNotification:!1})},I=function(d){m.Z.setState({hoverNotificationItem:d})},L=function(d){(0,T.NE)(d)},b=(0,s.useCallback)((0,ae.debounce)(function(f){m.Z.setState({isUnread:f.target.checked}),(0,T.y4)(1,y)},200),[]),O=function(){(0,T.dr)()},Y=function(d){m.Z.setState({sidebarSearchContent:d.target.value}),(0,T.y4)(1,d.target.value)},B=function(){m.Z.setState({showNotificationDeleteConfirmModal:!0})},P=function(){var d=function(l){return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:"header",children:[(0,e.jsxs)("div",{className:"left",children:[(0,e.jsxs)("div",{className:"avatar",children:[(0,e.jsx)("img",{src:D.r8?l.image.replace("https://feature.kingdee.com:1026","/devImage"):l.image,alt:"\u5934\u50CF"}),l.isread==="1"&&(0,e.jsx)("div",{className:"dot"})]}),(0,e.jsx)("div",{className:"name",children:l.position+l.name})]}),(0,e.jsx)("div",{className:"right",children:l.createtime})]}),(0,e.jsxs)("div",{className:"content",children:[(0,e.jsx)("div",{className:"title",title:l.title,children:l.title}),(0,e.jsx)(ze,{item:l}),j(l)&&(0,e.jsx)("div",{className:"fast-processing",children:(0,e.jsx)("a",{href:j(l),target:"_blank",rel:"noreferrer",children:"\u5FEB\u901F\u5904\u7406"})})]})]})};if(D.tq){var J=[{key:"delete",text:"\u5220\u9664",color:"danger",onClick:function(){B()}}];return(0,e.jsxs)("div",{className:"notification-list",ref:M,children:[u.map(function(i){return(0,e.jsx)(ne.Y,{rightActions:J,onActionsReveal:function(){I(i)},children:(0,e.jsx)("div",{onClick:function(){L(i)},className:"notification-card",children:d(i)})},i.id)}),h&&(0,e.jsx)(le,{}),N===-1&&(0,e.jsx)(H.ZP,{orientation:"center",className:"no-msg",children:"\u6682\u65E0\u66F4\u591A\u6D88\u606F"})]})}return(0,e.jsxs)("div",{className:"notification-list",ref:M,children:[u.map(function(i){return(0,e.jsx)(V.Z,{popperClassName:"notification-list-item-tools",menu:Q(),trigger:"contextMenu",arrow:!0,arrowOffset:40,scrollHidden:!0,children:(0,e.jsx)("div",{className:"notification-card",onMouseEnter:function(){I(i)},onClick:function(){L(i)},children:d(i)})},i.id)}),h&&(0,e.jsx)(le,{}),N===-1&&(0,e.jsx)(H.ZP,{orientation:"center",className:"no-msg",children:"\u6682\u65E0\u66F4\u591A\u6D88\u606F"})]})},Q=function(){return(0,e.jsx)(V.Z.Menu,{children:(0,e.jsx)(V.Z.Item,{children:(0,e.jsx)("a",{onClick:B,children:"\u5220\u9664"})})})};return(0,e.jsxs)(re,{className:"notification",title:"\u50AC\u529E\u6D88\u606F",modalTitle:"\u64CD\u4F5C\u786E\u8BA4",modalTip:"\u5220\u9664\u6D88\u606F\u540E\u5C06\u65E0\u6CD5\u6062\u590D\uFF0C\u786E\u5B9A\u8981\u5220\u9664\u8BE5\u6D88\u606F\u5417\uFF1F",placeholder:"\u8F93\u5165\u63A8\u9001\u5185\u5BB9",visible:n,modalVisible:o,onClose:S,onOk:T.Eg,onSearchChange:Y,onCancel:function(){m.Z.setState({showNotificationDeleteConfirmModal:!1})},children:[(0,e.jsxs)("div",{className:"markread",children:[(0,e.jsx)("div",{className:"left",children:(0,e.jsx)(Ee.ZP,{onChange:b,children:"\u53EA\u663E\u793A\u672A\u8BFB"})}),(0,e.jsx)("div",{className:"right",onClick:O,children:"\u4E00\u952E\u5DF2\u8BFB"})]}),u!=null&&u.length?P():(0,e.jsx)(_,{url:Se,text:"\u6682\u65E0\u63A8\u9001\u6D88\u606F\u3002"})]})},be=we,Ze=6e5,ce=r(41614),Oe=r(10570),z=r(30604),G=r(24409),Be=r(14244),Pe=r(97857),w=r.n(Pe),Fe=Object.defineProperty,se=Object.getOwnPropertySymbols,ke=Object.prototype.hasOwnProperty,Ye=Object.prototype.propertyIsEnumerable,ue=(a,t,n)=>t in a?Fe(a,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[t]=n,Qe=(a,t)=>{for(var n in t||(t={}))ke.call(t,n)&&ue(a,n,t[n]);if(se)for(var n of se(t))Ye.call(t,n)&&ue(a,n,t[n]);return a};const ot=a=>React.createElement("svg",Qe({width:24,height:24,xmlns:"http://www.w3.org/2000/svg"},a),React.createElement("title",null,"\u5BF9\u8BDD"),React.createElement("g",{fill:"none",fillRule:"evenodd"},React.createElement("path",{d:"M0 0h24v24H0z"}),React.createElement("path",{d:"M17.229 17.32c1.783-.954 2.964-2.601 2.964-4.477 0-1.186-.477-2.278-1.275-3.164.057-.349.087-.701.09-1.054 0-.164-.02-.324-.03-.485 1.476 1.166 2.4 2.808 2.4 4.633 0 2.047-1.161 3.865-2.963 5.037V21l-3.324-1.941a9.27 9.27 0 0 1-1.42.113c-2.282 0-3.734-.829-5.146-2.138.233.012.464.028.7.028.331 0 .658-.015.98-.04 1.115.728 1.931 1.165 3.467 1.165a7.885 7.885 0 0 0 1.533-.155l2.024 1.28V17.32Zm-6.522-1.382a18.269 18.269 0 0 1-1.994-.149l-3.341 1.836v-3.19C3.822 13.184 3 11.445 3 9.398 3 5.865 6.445 3 10.707 3c3.544 0 7.115 2.865 7.115 6.398 0 3.534-2.858 6.54-7.115 6.54Zm-2.126-1.28c.493.097 1.597.154 2.126.154 3.602 0 5.929-2.392 5.929-5.343 0-2.952-2.98-5.344-5.929-5.344-3.703 0-6.521 2.393-6.521 5.344 0 1.875.925 3.362 2.371 4.475v1.994l2.024-1.28Zm5.387-4.346c-.482-.006-.868-.387-.864-.851.005-.465.398-.838.881-.836.482.002.872.38.872.844a.835.835 0 0 1-.263.599.901.901 0 0 1-.626.244Zm-3.557 0c-.483-.006-.869-.387-.864-.851.005-.465.398-.838.88-.836.483.002.873.38.873.844-.003.469-.401.847-.89.843Zm-3.557 0c-.483-.006-.869-.387-.864-.851.004-.465.398-.838.88-.836.483.002.873.38.873.844a.835.835 0 0 1-.263.599.901.901 0 0 1-.626.244Z",fill:"#00173C",fillRule:"nonzero"})));var de="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNMCAwaDI0djI0SDB6Ii8+PHBhdGggZD0iTTE3LjIyOSAxNy4zMmMxLjc4My0uOTU0IDIuOTY0LTIuNjAxIDIuOTY0LTQuNDc3IDAtMS4xODYtLjQ3Ny0yLjI3OC0xLjI3NS0zLjE2NC4wNTctLjM0OS4wODctLjcwMS4wOS0xLjA1NCAwLS4xNjQtLjAyLS4zMjQtLjAzLS40ODUgMS40NzYgMS4xNjYgMi40IDIuODA4IDIuNCA0LjYzMyAwIDIuMDQ3LTEuMTYxIDMuODY1LTIuOTYzIDUuMDM3VjIxbC0zLjMyNC0xLjk0MWE5LjI3IDkuMjcgMCAwIDEtMS40Mi4xMTNjLTIuMjgyIDAtMy43MzQtLjgyOS01LjE0Ni0yLjEzOC4yMzMuMDEyLjQ2NC4wMjguNy4wMjguMzMxIDAgLjY1OC0uMDE1Ljk4LS4wNCAxLjExNS43MjggMS45MzEgMS4xNjUgMy40NjcgMS4xNjVhNy44ODUgNy44ODUgMCAwIDAgMS41MzMtLjE1NWwyLjAyNCAxLjI4VjE3LjMyWm0tNi41MjItMS4zODJhMTguMjY5IDE4LjI2OSAwIDAgMS0xLjk5NC0uMTQ5bC0zLjM0MSAxLjgzNnYtMy4xOUMzLjgyMiAxMy4xODQgMyAxMS40NDUgMyA5LjM5OCAzIDUuODY1IDYuNDQ1IDMgMTAuNzA3IDNjMy41NDQgMCA3LjExNSAyLjg2NSA3LjExNSA2LjM5OCAwIDMuNTM0LTIuODU4IDYuNTQtNy4xMTUgNi41NFptLTIuMTI2LTEuMjhjLjQ5My4wOTcgMS41OTcuMTU0IDIuMTI2LjE1NCAzLjYwMiAwIDUuOTI5LTIuMzkyIDUuOTI5LTUuMzQzIDAtMi45NTItMi45OC01LjM0NC01LjkyOS01LjM0NC0zLjcwMyAwLTYuNTIxIDIuMzkzLTYuNTIxIDUuMzQ0IDAgMS44NzUuOTI1IDMuMzYyIDIuMzcxIDQuNDc1djEuOTk0bDIuMDI0LTEuMjhabTUuMzg3LTQuMzQ2Yy0uNDgyLS4wMDYtLjg2OC0uMzg3LS44NjQtLjg1MS4wMDUtLjQ2NS4zOTgtLjgzOC44ODEtLjgzNi40ODIuMDAyLjg3Mi4zOC44NzIuODQ0YS44MzUuODM1IDAgMCAxLS4yNjMuNTk5LjkwMS45MDEgMCAwIDEtLjYyNi4yNDRabS0zLjU1NyAwYy0uNDgzLS4wMDYtLjg2OS0uMzg3LS44NjQtLjg1MS4wMDUtLjQ2NS4zOTgtLjgzOC44OC0uODM2LjQ4My4wMDIuODczLjM4Ljg3My44NDQtLjAwMy40NjktLjQwMS44NDctLjg5Ljg0M1ptLTMuNTU3IDBjLS40ODMtLjAwNi0uODY5LS4zODctLjg2NC0uODUxLjAwNC0uNDY1LjM5OC0uODM4Ljg4LS44MzYuNDgzLjAwMi44NzMuMzguODczLjg0NGEuODM1LjgzNSAwIDAgMS0uMjYzLjU5OS45MDEuOTAxIDAgMCAxLS42MjYuMjQ0WiIgZmlsbD0iIzAwMTczQyIgZmlsbC1ydWxlPSJub256ZXJvIi8+PC9nPjwvc3ZnPg==",Ue=Object.defineProperty,fe=Object.getOwnPropertySymbols,He=Object.prototype.hasOwnProperty,Ge=Object.prototype.propertyIsEnumerable,me=(a,t,n)=>t in a?Ue(a,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[t]=n,We=(a,t)=>{for(var n in t||(t={}))He.call(t,n)&&me(a,n,t[n]);if(fe)for(var n of fe(t))Ge.call(t,n)&&me(a,n,t[n]);return a};const rt=a=>React.createElement("svg",We({width:168,height:96,xmlns:"http://www.w3.org/2000/svg"},a),React.createElement("title",null,"\u901A\u7528/\u641C\u7D22\u65E0\u6570\u636E"),React.createElement("defs",null,React.createElement("linearGradient",{x1:"50%",y1:"0%",x2:"50%",y2:"100%",id:"no-chat-list_svg__a"},React.createElement("stop",{stopColor:"#D6DCE7",offset:"0%"}),React.createElement("stop",{stopColor:"#D6DCE7",stopOpacity:0,offset:"100%"}))),React.createElement("g",{fill:"none",fillRule:"evenodd"},React.createElement("path",{d:"M3 39V24C3 15.716 9.716 9 18 9c7.462 0 13.65 5.448 14.806 12.584A9 9 0 0 1 45 30v9H3Z",transform:"translate(108 40)",fill:"url(#no-chat-list_svg__a)",opacity:.3}),React.createElement("path",{d:"M3 39V24C3 15.716 9.716 9 18 9c7.462 0 13.65 5.448 14.806 12.584A9 9 0 0 1 45 30v9H3Z",transform:"matrix(-1 0 0 1 60 32)",fill:"url(#no-chat-list_svg__a)",opacity:.3}),React.createElement("g",{transform:"translate(42 6)"},React.createElement("path",{fill:"#CAD0DB",fillRule:"nonzero",d:"m53.121 48.879 27 27-4.242 4.242-27-27z"}),React.createElement("path",{d:"M33 0c18.225 0 33 14.775 33 33S51.225 66 33 66 0 51.225 0 33 14.775 0 33 0Zm0 9C19.745 9 9 19.745 9 33s10.745 24 24 24 24-10.745 24-24S46.255 9 33 9Z",fill:"#E2E8F3",fillRule:"nonzero"}),React.createElement("circle",{fill:"#E2E8F3",opacity:.1,cx:33,cy:33,r:24}),React.createElement("rect",{fill:"#E2E8F3",transform:"rotate(-45 69.879 69.879)",x:63.879,y:54.879,width:12,height:30,rx:3}))));var Ve="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTY4IiBoZWlnaHQ9Ijk2IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxkZWZzPjxsaW5lYXJHcmFkaWVudCB4MT0iNTAlIiB5MT0iMCUiIHgyPSI1MCUiIHkyPSIxMDAlIiBpZD0iYSI+PHN0b3Agc3RvcC1jb2xvcj0iI0Q2RENFNyIgb2Zmc2V0PSIwJSIvPjxzdG9wIHN0b3AtY29sb3I9IiNENkRDRTciIHN0b3Atb3BhY2l0eT0iMCIgb2Zmc2V0PSIxMDAlIi8+PC9saW5lYXJHcmFkaWVudD48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNMyAzOVYyNEMzIDE1LjcxNiA5LjcxNiA5IDE4IDljNy40NjIgMCAxMy42NSA1LjQ0OCAxNC44MDYgMTIuNTg0QTkgOSAwIDAgMSA0NSAzMHY5SDNaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMDggNDApIiBmaWxsPSJ1cmwoI2EpIiBvcGFjaXR5PSIuMyIvPjxwYXRoIGQ9Ik0zIDM5VjI0QzMgMTUuNzE2IDkuNzE2IDkgMTggOWM3LjQ2MiAwIDEzLjY1IDUuNDQ4IDE0LjgwNiAxMi41ODRBOSA5IDAgMCAxIDQ1IDMwdjlIM1oiIHRyYW5zZm9ybT0ibWF0cml4KC0xIDAgMCAxIDYwIDMyKSIgZmlsbD0idXJsKCNhKSIgb3BhY2l0eT0iLjMiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0MiA2KSI+PHBhdGggZmlsbD0iI0NBRDBEQiIgZmlsbC1ydWxlPSJub256ZXJvIiBkPSJtNTMuMTIxIDQ4Ljg3OSAyNyAyNy00LjI0MiA0LjI0Mi0yNy0yN3oiLz48cGF0aCBkPSJNMzMgMGMxOC4yMjUgMCAzMyAxNC43NzUgMzMgMzNTNTEuMjI1IDY2IDMzIDY2IDAgNTEuMjI1IDAgMzMgMTQuNzc1IDAgMzMgMFptMCA5QzE5Ljc0NSA5IDkgMTkuNzQ1IDkgMzNzMTAuNzQ1IDI0IDI0IDI0IDI0LTEwLjc0NSAyNC0yNFM0Ni4yNTUgOSAzMyA5WiIgZmlsbD0iI0UyRThGMyIgZmlsbC1ydWxlPSJub256ZXJvIi8+PGNpcmNsZSBmaWxsPSIjRTJFOEYzIiBvcGFjaXR5PSIuMSIgY3g9IjMzIiBjeT0iMzMiIHI9IjI0Ii8+PHJlY3QgZmlsbD0iI0UyRThGMyIgdHJhbnNmb3JtPSJyb3RhdGUoLTQ1IDY5Ljg3OSA2OS44NzkpIiB4PSI2My44NzkiIHk9IjU0Ljg3OSIgd2lkdGg9IjEyIiBoZWlnaHQ9IjMwIiByeD0iMyIvPjwvZz48L2c+PC9zdmc+",Je=r(99659),Xe=function(){var t=(0,m.Z)(function(o){return{hoverRecordItem:o.hoverRecordItem}}),n=t.hoverRecordItem,u=function(g){m.Z.setState({hoverRecordItem:w()(w()({},n),{},{tempName:g.target.value})})};return(0,e.jsxs)("div",{className:"modal-edit-body",children:[(0,e.jsx)("div",{className:"title",children:"\u7F16\u8F91"}),(0,e.jsx)(Je.Z,{autoSize:{minRows:3,maxRows:3},borderType:"bordered",countPosition:"inner",maxLength:25,value:n==null?void 0:n.tempName,onChange:u})]})},Ke=Xe,ve=r(74215),$e=r(44373),he=function(t){t==null||t.stopPropagation(),D.tq?m.Z.setState({showMobileRecordEditNameConfirmModal:!0}):m.Z.setState(function(n){return{hoverRecordItem:w()(w()({},n.hoverRecordItem),{},{editing:!0,showToolsPanel:!1})}})},Ie=function(t){t==null||t.stopPropagation(),m.Z.setState({showRecordDeleteConfirmModal:!0})},qe=function(){return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:"tool-item",onClick:function(n){he(n)},children:[(0,e.jsx)(p.Z,{type:"edit"}),"\u91CD\u547D\u540D"]}),(0,e.jsxs)("div",{className:"tool-item",onClick:function(n){Ie(n)},children:[(0,e.jsx)(p.Z,{type:"delete"}),"\u5220\u9664"]})]})},_e=qe,Me=function(){return(0,e.jsx)(te.Z,{type:"container",className:"inner-spin"})},et=function(){var t=(0,m.Z)(function(i){return{chatRecordList:i.chatRecordList,hoverRecordItem:i.hoverRecordItem,activeRecordItem:i.activeRecordItem,showRecordDeleteConfirmModal:i.showRecordDeleteConfirmModal,showChatRecord:i.showChatRecord,showMobileRecordEditNameConfirmModal:i.showMobileRecordEditNameConfirmModal,recordPageNumber:i.recordPageNumber,sidebarSearchContent:i.sidebarSearchContent}}),n=t.showChatRecord,u=t.chatRecordList,o=t.hoverRecordItem,g=t.activeRecordItem,N=t.showRecordDeleteConfirmModal,y=t.showMobileRecordEditNameConfirmModal,v=t.recordPageNumber,x=t.sidebarSearchContent,h=(0,s.useState)(),A=Z()(h,2),M=A[0],E=A[1],C=(0,s.useRef)(null),j=(0,s.useRef)(null),S=(0,s.useRef)(null),I=(0,s.useRef)(null),L=ee(I,u),b=L.isBottom,O=function(l){return k()("record-item",{active:(g==null?void 0:g.number)===l.number})};(0,s.useEffect)(function(){b&&v!==-1&&(E(!0),(0,z.gf)(v,x))},[b]),(0,s.useEffect)(function(){E(!1)},[v]),(0,s.useEffect)(function(){if(I!=null&&I.current){var i=I.current;i.scrollTo({top:-I.current.scrollTop})}},[n]);var Y=function(){m.Z.setState({showChatRecord:!1})},B=function(l){(0,z.FM)(l)},P=function(l){m.Z.setState({hoverRecordItem:w()(w()({},l),{},{editing:!1,showToolsPanel:!1},D.tq&&{tempName:l.name})})},Q=function(l,c){(0,z.Dt)(c,l.target.value||c.name)},f=function(){var i=K()(U()().mark(function l(c){var R;return U()().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(c.number!==((R=m.Z.getState().activeRecordItem)===null||R===void 0?void 0:R.number)){F.next=2;break}return F.abrupt("return");case 2:return(0,z.gf)(v-1,x),m.Z.setState({chat:[]}),(0,G.P0)(),F.next=7,(0,ve.Gf)(c);case 7:(0,G.fv)(!1),D.tq&&m.Z.setState({showChatRecord:!1});case 9:case"end":return F.stop()}},l)}));return function(c){return i.apply(this,arguments)}}(),d=function(l){m.Z.setState({sidebarSearchContent:l.target.value}),(0,z.gf)(1,l.target.value)};(0,s.useEffect)(function(){if(o!=null&&o.editing&&j.current){var i;(i=j.current)===null||i===void 0||i.focus()}},[o]);var J=function(){if(D.tq){var l=[{key:"edit",text:"\u7F16\u8F91",color:"primary",onClick:function(){he()}},{key:"delete",text:"\u5220\u9664",color:"danger",onClick:function(){Ie()}}];return(0,e.jsxs)("div",{className:"record-list",ref:I,children:[u.map(function(c){return(0,e.jsx)(ne.Y,{ref:S,rightActions:l,closeOnAction:!0,closeOnTouchOutside:!0,stopPropagation:["click","touchstart"],onActionsReveal:function(){P(c)},children:(0,e.jsxs)("div",{onClick:function(){f(c)},className:O(c),children:[(0,e.jsx)("div",{className:"icon",children:(0,e.jsx)("img",{src:de,alt:"\u5BF9\u8BDD\u5386\u53F2\u8BB0\u5F55\u56FE\u6807"})}),(0,e.jsxs)("div",{className:"content",children:[(0,e.jsx)("div",{className:"name",title:c.name,children:c.name}),(0,e.jsx)("div",{className:"time",children:c.modifytime})]})]})},c.number)}),M&&(0,e.jsx)(Me,{}),v===-1&&(0,e.jsx)(H.ZP,{orientation:"center",className:"no-msg",children:"\u6682\u65E0\u66F4\u591A\u6D88\u606F"})]})}return(0,e.jsxs)("div",{className:"record-list",ref:I,children:[u.map(function(c){return(0,e.jsxs)("div",{className:O(c),id:"record-item".concat(c.number),onClick:function(){f(c)},children:[(0,e.jsx)("div",{className:"icon",children:(0,e.jsx)("img",{src:de,alt:"\u5BF9\u8BDD\u5386\u53F2\u8BB0\u5F55\u56FE\u6807"})}),(0,e.jsxs)("div",{className:"content",children:[o!=null&&o.editing&&c.number===o.number?(0,e.jsx)(ie.ZP,{defaultValue:c.name,ref:j,maxLength:25,onBlur:function(W){Q(W,c)}}):(0,e.jsx)("div",{className:"name",title:c.name,children:c.name}),(0,e.jsx)("div",{className:"time",children:c.modifytime})]}),!D.tq&&(0,e.jsx)($e.Z,{tip:(0,e.jsx)(_e,{}),getPopupContainer:function(){return document.getElementById("record-item".concat(c.number))||document.body},arrow:!1,placement:"bottomRight",popperClassName:"record-list-item-tools",onVisibleChange:function(W){return B(W)},visible:(o==null?void 0:o.number)===c.number&&(o==null?void 0:o.showToolsPanel),children:(0,e.jsx)("div",{className:"more",onMouseEnter:function(){P(c)},children:(0,e.jsx)(p.Z,{type:"more"})})})]},c.number)}),M&&(0,e.jsx)(Me,{}),v===-1&&(0,e.jsx)(H.ZP,{className:"no-msg",orientation:"center",children:"\u6682\u65E0\u66F4\u591A\u6D88\u606F"})]})};return(0,e.jsxs)(re,{className:"record",tip:"\u60A8\u53EF\u67E5\u770B\u8FD130\u65E5\u7684\u5386\u53F2\u4F1A\u8BDD\u8BB0\u5F55",title:"\u5BF9\u8BDD\u8BB0\u5F55",modalTitle:"\u64CD\u4F5C\u786E\u8BA4",modalTip:"\u5220\u9664\u5BF9\u8BDD\u540E\u5C06\u65E0\u6CD5\u6062\u590D\uFF0C\u786E\u5B9A\u8981\u5220\u9664\u8BE5\u5BF9\u8BDD\u5417\uFF1F",placeholder:"\u8F93\u5165\u804A\u5929\u5185\u5BB9",modalVisible:N,visible:n,onClose:Y,onSearchChange:d,onOk:z.pn,onCancel:function(){m.Z.setState({showRecordDeleteConfirmModal:!1})},children:[u!=null&&u.length?J():(0,e.jsx)(_,{url:Ve,text:"\u672A\u627E\u5230\u8BE5\u6D88\u606F\u3002"}),!!D.tq&&(0,e.jsx)("div",{ref:C,children:(0,e.jsx)(oe.ZP,{visible:y,className:k()("agent-modal",{ios:(0,D.gn)()}),showline:!0,type:"confirm",body:(0,e.jsx)(Ke,{}),focusTriggerAfterClose:!1,onOk:function(){o!=null&&o.tempName&&(0,z.Dt)(o,o.tempName)},getContainer:function(){return C==null?void 0:C.current},onCancel:function(){m.Z.setState(function(l){var c;return{showMobileRecordEditNameConfirmModal:!1,hoverRecordItem:w()(w()({},l.hoverRecordItem),{},{tempName:(c=l.hoverRecordItem)===null||c===void 0?void 0:c.name})}})},width:284,height:210})})]})},tt=et,nt=function(){var a=(0,m.Z)(function(h){return{wsAddress:h.wsAddress,assistants:h.assistants,chatRecordList:h.chatRecordList,userInfo:h.userInfo,sidebarSearchContent:h.sidebarSearchContent}}),t=a.wsAddress,n=a.assistants,u=a.userInfo,o=a.chatRecordList,g=a.sidebarSearchContent,N=(0,s.useState)(!0),y=Z()(N,2),v=y[0],x=y[1];return(0,s.useEffect)(function(){(0,Oe.ps)(),(0,ce.xK)(),(0,z.gf)(1),(0,T.y4)(1);var h=setInterval(function(){(0,T.y4)(1,g)},Ze);return function(){clearInterval(h)}},[]),(0,s.useEffect)(function(){u&&n.length&&o&&v&&(x(!1),(0,ce.JT)())},[n,o,v,u]),(0,s.useEffect)(function(){if(o.length){var h=function(){var E=K()(U()().mark(function C(j){return U()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,(0,ve.Gf)(j);case 2:case"end":return I.stop()}},C)}));return function(j){return E.apply(this,arguments)}}();if(sessionStorage.getItem("chat_number")){var A=sessionStorage.getItem("chat_number"),M=m.Z.getState().chatRecordList.find(function(E){return E.number===A});h(M)}}},[o]),(0,s.useEffect)(function(){return t&&(0,G.Os)(t),function(){(0,G.P0)()}},[t]),(0,e.jsxs)("div",{className:"layout",children:[(0,e.jsx)(tt,{}),(0,e.jsx)(be,{}),(0,e.jsx)(Be.Outlet,{})]})}}}]);
