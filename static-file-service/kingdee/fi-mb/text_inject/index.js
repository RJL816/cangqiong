(()=>{"use strict";(()=>{function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}var t="padding: 1px 4px; margin: 5px 0; border-radius: 0 3px 3px 0; color: #fff; background:",n={title:"".concat("padding: 1px 4px; margin: 5px 0; border-radius: 3px 0 0 3px; color: #fff; background:").concat("#606060",";"),content:{info:"".concat(t).concat("#3282b8",";"),success:"".concat(t).concat("#42c02e",";"),warning:"".concat(t).concat("#f07b3f",";"),error:"".concat(t).concat("#ea5455",";")}};function o(t){return function(o,c){var r,a=[];switch(e(c)){case"string":a=a.concat("%c".concat(o,"%c").concat(c),n.title,n.content[t]);break;case"object":Array.isArray(c)?(a=a.concat("%c".concat(o,"%cArray\r\n"),n.title,n.content[t],[c]),console.log("%c".concat(o,"%cArray\r\n"),n.title,n.content[t],c)):a=a.concat("%c".concat(o,"%cObject\r\n"),n.title,n.content[t],c);break;case"number":a=Number.isInteger(c)?a.concat("%c".concat(o,"%c%d"),n.title,n.content[t],c):a.concat("%c".concat(o,"%c%f"),n.title,n.content[t],c)}for(var i=arguments.length,d=new Array(i>2?i-2:0),l=2;l<i;l++)d[l-2]=arguments[l];d.length&&(a=(r=a).concat.apply(r,["\r\n附加信息："].concat(d))),console.log.apply(null,a)}}const c={info:o("info"),success:o("success"),warning:o("warning"),error:o("error")},r=JSON.parse('{"u":"text_inject","i":"2021/8/16 下午4:57:01"}');!function(e){var t=r.u,n=r.i;function o(e){this._setModel(e)}c.info(t,"版本：".concat(n)),o.prototype={_setModel:function(e){this.model=e},init:function(e){c.info(t,"init",this.model,e),a(this.model,e)},update:function(e){c.info(t,"update",this.model,e),i(this.model,e)},destoryed:function(){c.info(t,"destoryed",this.model)}};var a=function(e,n){var o=e.metaData.ci,r={};if(o&&o.forEach((function(e){r[e.key]=e.value})),r.platformInfo){var a=function(){var e=navigator.userAgent,t={platformName:"未知",platformId:"unknown",deviceId:"",deviceName:"",clientId:"",os:"",brand:"",model:"",lang:""};return window.qing&&(window.qing.isDesktop&&(t.platformId="desktop",t.platformName="Desktop"),window.qing.isMobile&&(t.platformId="mobile",t.platformName="Mobile"),window.qing.isSupportNativeJsBridge&&(t.platformId="yzj",t.platformName="云之家",/deviceId:(.*?);deviceName:(.*?);clientId:(.*?);os:(.*?);brand:(.*?);model:(.*?);lang:(.*?);/.test(e)&&(t.deviceId=RegExp.$1,t.deviceName=RegExp.$2,t.clientId="10200"===RegExp.$3?"iOS":"10201"===RegExp.$3?"Android":"10208"===RegExp.$3?"iPad":"unknown",t.os=RegExp.$4,t.brand=RegExp.$5,t.model=RegExp.$6,t.lang=RegExp.$7)),window.qing.isWX&&(t.platformId="wx",t.platformName="微信")),e.startsWith("Qing")&&(t.platformId="yzj",t.platformName="云之家",/deviceId:(.*?);deviceName:(.*?);clientId:(.*?);os:(.*?);brand:(.*?);model:(.*?);lang:(.*?);/.test(e)&&(t.deviceId=RegExp.$1,t.deviceName=RegExp.$2,t.clientId="10200"===RegExp.$3?"iOS":"10201"===RegExp.$3?"Android":"10208"===RegExp.$3?"iPad":"unknown",t.os=RegExp.$4,t.brand=RegExp.$5,t.model=RegExp.$6,t.lang=RegExp.$7)),t}();c.info(t,"平台信息",a),e.invoke("PlatformInfo",a)}d(e,r)},i=function(e,t){e.invoke,e.dom;var n=t.data,o=e.metaData.ci,c={};o&&o.forEach((function(e){c[e.key]=e.value})),d(e,c,n)};function d(n,o){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=o.parentLevel||1,i=r.type||o.type||"insert",d=r.text||o["text_".concat(n.lang)]||e.getLangMsg(n,o.text)||o.text,s=r.classList||o.classList||"",p=r.targetElement||o.targetElement,f=r.element||o.element||"span",m=r.index||o.index||0;if(!d)return c.error(t,"配置错误","text 未配置"),"";if(!p)return c.error(t,"配置错误","targetElement 未配置"),"";var g=l(n.dom,a),u=g.querySelector(p),x="custom_control_text_inject-".concat(n.pageId),v=g.querySelector("#".concat(x));v?v.remove():((v=document.createElement(f)).classList=s,v.id=x),v.innerHTML=d,"insert"===i&&m>=0?(m>u.childNodes.length&&(m=u.childNodes.length-1),u.insertBefore(v,u.childNodes[m])):u.appendChild(v)}function l(e,t){if(!t||t<0)return e;for(var n=e,o=0;o<t;o++)n=n.parentNode;return n}e.register(t,o,{isMulLang:!0})}(window.KDApi)})()})();