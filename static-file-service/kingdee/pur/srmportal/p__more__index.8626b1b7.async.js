"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[40],{47212:function(e,n,i){i.r(n),i.d(n,{More:function(){return M},default:function(){return D}});var t=i(19632),s=i.n(t),r=i(97857),a=i.n(r),l=i(5574),c=i.n(l),o=i(73445),d=i(93377),m=i(18162),u=i(75561),h=i(94491),x=i(83350),v=i(54718),p=i(27504),j=i(30381),f=i.n(j),g=i(67294),N=i(40735),b=i(61534),y=i(19607),w=i(40396),k=i(7921),Z=i(57294),C=i(31288),S=i(77538),Y=i(38568),A=i(24335),I=i(85893),M=function(){var e=o.Z.Option,n=(0,b.useModel)("baseData"),i=n.lan,t=n.basic,r=n.components,l=t.constant,j=l.whole,M=l.type,D=l.timeframe,T=l.timeform,z=l.timeto,J=l.input,E=l.back,P=l.nodata,q=l.querymore,F=l.query,U=l.unknown,K=l.operation,O=l.nomore,Q=l.confirm,W=r.find((function(e){return"1"===e.component.type})),_={textAlign:"center",maxWidth:40,flex:1},B="YYYY-MM-DD",L=(0,g.useState)([]),G=c()(L,2),H=G[0],R=G[1],V=(0,g.useState)([]),X=c()(V,2),$=X[0],ee=X[1],ne=(0,g.useState)(500),ie=c()(ne,2),te=ie[0],se=ie[1],re=(0,g.useState)(1),ae=c()(re,2),le=ae[0],ce=ae[1],oe=(0,g.useState)(20),de=c()(oe,2),me=de[0],ue=de[1],he=(0,g.useState)("all"),xe=c()(he,2),ve=xe[0],pe=xe[1],je=(0,g.useState)([]),fe=c()(je,2),ge=fe[0],Ne=fe[1],be=(0,g.useState)(""),ye=c()(be,2),we=ye[0],ke=ye[1],Ze=(0,g.useState)([]),Ce=c()(Ze,2),Se=Ce[0],Ye=Ce[1],Ae=(0,g.useState)(!1),Ie=c()(Ae,2),Me=Ie[0],De=Ie[1],Te=(0,g.useState)(!1),ze=c()(Te,2),Je=ze[0],Ee=ze[1],Pe=(0,g.useState)(!1),qe=c()(Pe,2),Fe=qe[0],Ue=qe[1],Ke=localStorage.getItem(y.ue),Oe=localStorage.getItem(y.JU),Qe=[];localStorage.getItem(y.gJ)&&(Qe=JSON.parse(localStorage.getItem(y.gJ)||"[]"));var We=Qe.map((function(e){return{value:e.key,name:e.name}})),_e=function(e){var n={flex:1};return"sourcetype"===e&&(n={width:100,textAlign:"center"}),"status"===e&&(n={width:100,textAlign:"center"}),"publishtime"===e&&(n={width:100,textAlign:"center"}),"noticename"===e&&(n={flex:1,cursor:"pointer"}),n},Be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=a()({page:le,size:me,type:"all"===ve?We.map((function(e){return e.value})).join(","):ve,name:we||void 0,datetimefrom:ge&&ge.length?f()(ge[0]).format(B):void 0,datetimeto:ge&&ge.length?f()(ge[1]).format(B):void 0,componentid:Oe&&"undefined"!==Oe?Oe:void 0},e);De(!0),(0,w.A9)(n).then((function(e){var n=e.data,t=n.showfields,s=n.noticedata,r=n.total;se(r),R(s),Array.isArray(t)&&t.length?ee(t):ee("zh_TW"===i?y.oK:"es_US"===i?y.UK:y.Lr)})).finally((function(){setTimeout((function(){De(!1)}),300)}))},Le=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];ce(1),pe(e),n&&Be({type:"all"===e?We.map((function(e){return e.value})).join(","):e,page:1})},Ge=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];ce(1),Ne(e||null),n&&Be({datetimefrom:e&&e.length?f()(e[0]).format(B):void 0,datetimeto:e&&e.length?f()(e[1]).format(B):void 0,page:1})},He=function(e){ce(1),ke(e.target.value)},Re=function(e){switch(e){case"1":return"success";case"2":return"process";case"3":return"warning";case"4":return"expired";default:return"end"}};return(0,g.useEffect)((function(){Be()}),[]),(0,g.useEffect)((function(){Be()}),[i]),(0,I.jsxs)("div",{className:"srm-app",children:[(0,I.jsxs)("div",{className:"srm-app-header-and-carousel",children:[(0,I.jsx)(Z.Z,{}),(0,I.jsx)(C.Z,{data:W})]}),(0,I.jsx)("div",{className:"srm-app-more",children:(0,I.jsxs)("div",{className:"srm-app-more-main center-content",children:[(0,I.jsxs)("div",{className:"more-back",onClick:function(){b.history.push("/")},children:[(0,I.jsx)(d.Z,{type:"double-arrow-left"}),(0,I.jsx)("div",{children:E})]}),(0,I.jsxs)("div",{className:"more-content",children:[(0,I.jsx)("div",{className:"content-title",children:(0,I.jsxs)("div",{className:"title",children:[(0,I.jsx)(N.Q,{src:A.Z}),(0,I.jsx)("div",{children:Ke})]})}),(0,I.jsxs)("div",{className:"content-filter",children:[(0,I.jsxs)("div",{children:[(0,I.jsxs)("div",{className:"filter-item",children:[(0,I.jsx)("div",{children:M}),(0,I.jsx)("div",{children:(0,I.jsxs)(o.Z,{borderType:"bordered",value:ve,onChange:function(e){return Le(e)},children:[(0,I.jsx)(e,{value:"all",children:j}),We.map((function(n,i){return(0,I.jsx)(e,{value:n.value,children:n.name},i)}))]})})]}),(0,I.jsxs)("div",{className:"filter-item",children:[(0,I.jsx)("div",{children:D}),(0,I.jsx)("div",{children:(0,I.jsx)(m.Z,{value:ge,borderType:"bordered",placeholder:[T,z],onChange:Ge})})]})]}),(0,I.jsx)(u.ZP,{prefix:(0,I.jsx)(d.Z,{type:"search"}),borderType:"bordered",placeholder:J,value:we,onChange:He,allowClear:!0,onPressEnter:function(){return Be()}})]}),(0,I.jsxs)("div",{className:"content-table",children:[(0,I.jsxs)("div",{className:"table-item table-item-header",children:[(0,I.jsx)("div",{className:"srm-item-big-card-dot"}),$.map((function(e,n){return(0,I.jsx)("div",{style:_e(e.key),children:e.name},n)})),(0,I.jsx)("div",{style:_,children:K})]}),(0,I.jsx)("div",{className:"table-body",children:Me?(0,I.jsx)(S.Z,{height:"500px"}):(0,I.jsx)(I.Fragment,{children:H.length?H.map((function(e,n){return(0,I.jsxs)("div",{className:"table-item",children:[(0,I.jsx)("div",{className:"srm-item-big-card-dot",children:e.istop?(0,I.jsx)("div",{className:"srm-item-dot-top",children:(0,I.jsx)(d.Z,{type:"put-top"})}):(0,I.jsx)("div",{className:"srm-item-dot"})}),$.map((function(n,i){var t=n.key;if("status"===t)return(0,I.jsx)("div",{style:_e(t),children:(0,I.jsx)("div",{className:"srm-app-tag srm-app-tag-".concat(Re(e.statusleve)),children:e.status||U})},i);if("publishtime"===t)return(0,I.jsx)("div",{style:_e(t),children:f()(e.publishtime).format("YYYY-MM-DD")},i);if("type"===t){var s=We.find((function(n){return n.value===e.type}));return(0,I.jsx)("div",{style:_e(t),children:s?s.name:"未知"},i)}return"noticename"===t?(0,I.jsx)("div",{className:"srm-app-allow-click",style:_e(t),title:e.noticename&&e.noticename.length>9?e.noticename:void 0,onClick:function(){window.open(e.url)},children:e.noticename||"--"},i):"orgname"===t?(0,I.jsx)("div",{style:_e(t),title:e.orgname&&e.orgname.length>9?e.orgname:void 0,children:e.orgname||"--"},i):(0,I.jsx)("div",{style:_e(t),children:e[t]},i)})),(0,I.jsx)("div",{style:_,children:(0,I.jsx)("div",{className:"item-query",onClick:function(){window.open(e.url)},children:F})})]},n)})):(0,I.jsx)("div",{className:"content-nodata",children:(0,I.jsx)(h.Z,{description:P})})})})]}),H.length?(0,I.jsx)("div",{className:"content-page",children:(0,I.jsx)(x.Z,{pageType:"nicety",total:te,current:le,pageSize:me,showSizeChanger:!0,showQuickJumper:!1,onChange:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:me;ce(e),ue(n),Be({page:e,size:n})}})}):null]})]})}),(0,I.jsxs)("div",{className:"srm-app-more-mobile",children:[(0,I.jsx)("div",{className:"mobile-input",children:(0,I.jsx)(u.ZP,{className:"mobile-input-main",prefix:(0,I.jsx)(d.Z,{type:"search"}),borderType:"bordered",placeholder:J,value:we,onChange:He,allowClear:!0,onPressEnter:function(){return Be()},onBlur:function(){return Be()}})}),(0,I.jsxs)("div",{className:"mobile-filter",children:[(0,I.jsxs)("div",{className:Je?"filter-item item-active":"filter-item",onClick:function(){return Ee(!0)},children:[(0,I.jsx)("div",{children:M}),(0,I.jsx)(d.Z,{type:Je?"arrow-down-solid":"arrow-up-solid"})]}),(0,I.jsxs)("div",{className:Fe?"filter-item item-active":"filter-item",onClick:function(){return Ue(!0)},children:[(0,I.jsx)("div",{children:D}),(0,I.jsx)(d.Z,{type:Fe?"arrow-down-solid":"arrow-up-solid"})]})]}),(0,I.jsx)("div",{className:"big-list",children:Me?(0,I.jsx)(S.Z,{height:"208px"}):(0,I.jsx)(I.Fragment,{children:H.length?H.map((function(e,n){var i=$.filter((function(e){return!y.l3.includes(e.key)}));return(0,I.jsxs)("div",{className:Se.includes(e.noticeId)?"big-item open":"big-item",onClick:function(){Se.includes(e.noticeId)?Ye(s()(Se.filter((function(n){return n!==e.noticeId})))):Ye([].concat(s()(Se),[e.noticeId]))},children:[(0,I.jsxs)("div",{className:"item-top",children:[(0,I.jsxs)("div",{className:"srm-app-allow-click srm-app-table-item-title",onClick:function(){window.open(e.mobileurl)},children:[e.istop?(0,I.jsx)("div",{className:"srm-item-dot-top",children:(0,I.jsx)(d.Z,{type:"put-top"})}):null,(0,I.jsx)("div",{className:"text-name",children:e.noticename})]}),(0,I.jsx)("div",{className:Se.includes(e.noticeId)?"srm-triangle-up":"srm-triangle-down",children:(0,I.jsx)("img",{src:Y.Z,alt:""})})]}),(0,I.jsxs)("div",{className:"item-main",children:[(0,I.jsxs)("div",{className:"main-content",children:[e.orgname?(0,I.jsx)("div",{children:e.orgname}):null,Array.isArray(i)&&i.length?i.map((function(n,i){return(0,I.jsx)("div",{children:e[n.key]},i)})):null]}),(0,I.jsxs)("div",{className:"main-bottom",children:[(0,I.jsx)("div",{style:{textAlign:"center"},children:(0,I.jsx)("div",{className:"srm-app-tag srm-app-tag-".concat(Re(e.statusleve)),children:e.status||U})}),(0,I.jsx)("div",{children:f()(e.publishtime).format("YYYY-MM-DD")})]})]})]},n)})):(0,I.jsx)("div",{className:"srm-app-table-empty",children:(0,I.jsx)(h.Z,{description:P})})})}),H.length?(0,I.jsx)(I.Fragment,{children:0!==te&&le*me<te?(0,I.jsxs)("div",{className:"big-more",children:[(0,I.jsx)("div",{onClick:function(){return ce(le+1),void Be({page:le+1})},children:q}),(0,I.jsx)(d.Z,{type:"arrow-down-solid"})]}):(0,I.jsxs)("div",{className:"big-end",children:[O,"~"]})}):null]}),(0,I.jsx)(k.Z,{}),(0,I.jsxs)(v.Z,{className:"srm-more-mobile-drawer",placement:"bottom",visible:Je,onClose:function(){return Ee(!1)},children:[(0,I.jsxs)("div",{className:"srm-more-drawer-list",children:[(0,I.jsxs)("div",{className:"list-item",onClick:function(){Le("all",!1)},children:[(0,I.jsx)("div",{children:j}),"all"===ve&&(0,I.jsx)(d.Z,{type:"right-bold"})]}),We.map((function(e){return(0,I.jsxs)("div",{className:"list-item",onClick:function(){return Le(e.value,!1)},children:[(0,I.jsx)("div",{children:e.name}),ve===e.value&&(0,I.jsx)(d.Z,{type:"right-bold"})]},e.name)}))]}),(0,I.jsx)("div",{className:"srm-more-drawer-button",children:(0,I.jsx)("div",{className:"srm-more-drawer-button-main",onClick:function(){Ee(!1),Be()},children:(0,I.jsx)("div",{children:Q})})})]}),(0,I.jsxs)(v.Z,{className:"srm-more-mobile-drawer",placement:"bottom",visible:Fe,onClose:function(){return Ue(!1)},children:[(0,I.jsx)("div",{className:"srm-more-drawer-cal",children:(0,I.jsx)(p.f,{value:ge,allowClear:!0,selectionMode:"range",onChange:function(e){Ge(e,!1)}})}),(0,I.jsx)("div",{className:"srm-more-drawer-button",children:(0,I.jsx)("div",{className:"srm-more-drawer-button-main",onClick:function(){Ue(!1),Be()},children:(0,I.jsx)("div",{children:Q})})})]})]})},D=M}}]);