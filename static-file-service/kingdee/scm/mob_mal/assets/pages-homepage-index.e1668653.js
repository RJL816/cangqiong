var e=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,l=(e,t,a)=>new Promise(((l,s)=>{var o=e=>{try{d(a.next(e))}catch(t){s(t)}},r=e=>{try{d(a.throw(e))}catch(t){s(t)}},d=e=>e.done?l(e.value):Promise.resolve(e.value).then(o,r);d((a=a.apply(e,t)).next())}));import{r as s,c as o,w as r,s as d,n as i,o as c,a as n,b as u,d as p,e as m,f as g,g as h,h as v,i as f,F as _,j as w,u as y,k as b,l as k,t as D,m as C,p as I,S,q as x,v as O,x as T,y as L,z as $,A as B,B as F,C as A,D as j,E as P,G as M,H as G,I as N,J as E,K as H,L as W}from"./index-45b322f7.js";import{_ as q}from"./s-layout.940eafb4.js";import{_ as z}from"./uni-search-bar.48a9b35c.js";import{s as R,a as U,b as K,c as Y}from"./index.f474d5f6.js";import{_ as V}from"./_plugin-vue_export-helper.1b428a4d.js";import"./uni-icons.c22fa7d9.js";const J=V({__name:"topNavBar",props:{tabOption:Array},emits:["onSearchFocus"],setup(e,{emit:t}){const a=e,x=s(!1),O=s(!0),T=o((()=>a.tabOption&&Array.isArray(a.tabOption)?a.tabOption.slice(0,10):[])),L=s(!1),$=s(""),B=o((()=>a.tabOption&&a.tabOption.length?a.tabOption[0].value:""));r(B,((e,t)=>{""===t&&($.value="kd"+e,d.$store("homepage").updateConfigId(e))}));const F=()=>{L.value=!L.value},A=()=>{L.value=!1},j=e=>l(this,null,(function*(){if($.value===e.value)return;$.value="kd"+e.value,d.$store("homepage").updateConfigId(e.value);const t={mainPageConfigId:e.value},a=yield d.$api.homepage.getMainPageConfig(t);a.status&&d.$store("homepage").updateMainConfig(a.data),L.value=!1})),P=()=>{},M=()=>{t("onSearchFocus")};return r(T,(e=>{x.value&&e.length&&(console.log(e),i((()=>{const e=document.body.clientWidth,t=document.querySelectorAll(".tab-panel");let a=0;t.forEach((e=>{a+=e.clientWidth})),console.log(e,t,a),a<e?(O.value=!0,document.querySelector(".uni-scroll-view-content").classList.add("scroll-view-content-flex")):(O.value=!1,document.querySelector(".uni-scroll-view-content").classList.remove("scroll-view-content-flex"))})))})),c((()=>{x.value=!0})),(e,t)=>{const a=n(u("uni-search-bar"),z),l=I,s=S;return p(),m(l,{class:"top-nav-bar"},{default:g((()=>[h(l,{class:"search-bar"},{default:g((()=>[h(a,{class:"search-input",onBlur:P,onFocus:M,onClear:e.clear,cancelButton:"none",placeholder:"点击开始搜索"},null,8,["onClear"])])),_:1}),h(l,{class:"channel-container"},{default:g((()=>[h(s,{class:"scroll-view_H","scroll-x":"true",onScroll:e.scroll,"scroll-into-view":$.value,"scroll-with-animation":"",style:v({width:O.value?"100%":"calc(100% - 84.615rpx)"})},{default:g((()=>[(p(!0),f(_,null,w(y(T),(e=>(p(),m(l,{id:"kd"+e.value,key:e.value,class:"tab-panel",onClick:t=>j(e)},{default:g((()=>[h(l,{class:b(["tab-panel-text",{"active-channel":"kd"+e.value===$.value}])},{default:g((()=>[k(D(e.title),1)])),_:2},1032,["class"])])),_:2},1032,["id","onClick"])))),128))])),_:1},8,["onScroll","scroll-into-view","style"]),O.value?C("",!0):(p(),m(l,{key:0,class:"dropdown-btn",onClick:F},{default:g((()=>[h(y(R),{fill:"#999999",class:b(["dropdown-icon",{"rotate-active":L.value}])},null,8,["class"])])),_:1})),h(l,{class:b(["popper-up",{"popup-show":L.value}])},{default:g((()=>[h(l,{class:"dropdown-channel-list"},{default:g((()=>[(p(!0),f(_,null,w(y(T),(e=>(p(),m(l,{class:b(["dropdown-channel-item",{"active-dropdown-channel":"kd"+e.value===$.value}]),key:e.value,onClick:t=>j(e)},{default:g((()=>[k(D(e.title),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1},8,["class"]),h(l,{class:b(["popper-mask",{"mask-show":L.value}]),onClick:A},null,8,["class"])])),_:1})])),_:1})}}},[["__scopeId","data-v-c64ab619"]]),Q=V({__name:"swiperBanner",props:{malSwiper:Object},setup(e){const t=e,a=o((()=>t.malSwiper&&t.malSwiper.swiperSlide?t.malSwiper.swiperSlide:[])),l=o((()=>t.malSwiper&&t.malSwiper.swiperSlide?t.malSwiper.swiperSlide:2e3)),s=o((()=>t.malSwiper&&t.malSwiper.swiperSlide?t.malSwiper.swiperSlide:500));return(e,t)=>{const o=x,r=O,d=T,i=I;return p(),m(i,{class:"swiper-container"},{default:g((()=>[h(d,{class:"swiper",circular:"",autoplay:!0,interval:y(l),duration:y(s)},{default:g((()=>[(p(!0),f(_,null,w(y(a),(e=>(p(),m(r,{key:e.imgSrc},{default:g((()=>[h(o,{class:"banner",src:e.imgSrc,mode:"aspectFill"},null,8,["src"])])),_:2},1024)))),128))])),_:1},8,["interval","duration"])])),_:1})}}},[["__scopeId","data-v-2beb18ea"]]);const X=V({name:"NewUniDrawer",components:{keypress:{name:"Keypress",props:{disable:{type:Boolean,default:!1}},mounted(){const e={esc:["Esc","Escape"],tab:"Tab",enter:"Enter",space:[" ","Spacebar"],up:["Up","ArrowUp"],left:["Left","ArrowLeft"],right:["Right","ArrowRight"],down:["Down","ArrowDown"],delete:["Backspace","Delete","Del"]};document.addEventListener("keyup",(t=>{if(this.disable)return;const a=Object.keys(e).find((a=>{const l=t.key,s=e[a];return s===l||Array.isArray(s)&&s.includes(l)}));a&&setTimeout((()=>{this.$emit(a,{})}),0)}))},render:()=>{}}},emits:["change"],props:{mode:{type:String,default:""},mask:{type:Boolean,default:!0},maskClick:{type:Boolean,default:!0},width:{type:Number,default:220},clearSelectedState:{type:Function,default:()=>{}}},data:()=>({visibleSync:!1,showDrawer:!1,rightMode:!1,watchTimer:null,drawerWidth:220,windowTopHeight:0,windowBottomHeight:0}),created(){this.drawerWidth=this.width,this.rightMode="right"===this.mode},mounted(){setTimeout((()=>{const e=L(),t=e.statusBarHeight,a=e.windowTop;this.windowTopHeight=t+a,this.windowBottomHeight=e.windowBottom,console.log("this.windowTopHeight==>",this.windowTopHeight)}),500)},methods:{clear(){},close(e){("mask"!==e||this.maskClick)&&this.visibleSync&&(this._change("showDrawer","visibleSync",!1),this.clearSelectedState())},open(){this.visibleSync||this._change("visibleSync","showDrawer",!0)},_change(e,t,a){this[e]=a,this.watchTimer&&clearTimeout(this.watchTimer),this.watchTimer=setTimeout((()=>{this[t]=a,this.$emit("change",a)}),a?50:300)}}},[["render",function(e,t,a,l,s,o){const r=I,d=$("keypress");return s.visibleSync?(p(),m(r,{key:0,class:b([{"uni-drawer--visible":s.showDrawer},"uni-drawer"]),onTouchmove:F(o.clear,["stop","prevent"])},{default:g((()=>[h(r,{class:b(["uni-drawer__mask",{"uni-drawer__mask--visible":s.showDrawer&&a.mask}]),onClick:t[0]||(t[0]=e=>o.close("mask"))},null,8,["class"]),h(r,{class:b(["uni-drawer__content",{"uni-drawer--right":s.rightMode,"uni-drawer--left":!s.rightMode,"uni-drawer__content--visible":s.showDrawer}]),style:v({width:s.drawerWidth+"rpx"})},{default:g((()=>[B(e.$slots,"default",{},void 0,!0)])),_:3},8,["class","style"]),h(d,{onEsc:t[1]||(t[1]=e=>o.close("mask"))})])),_:3},8,["class","onTouchmove"])):C("",!0)}],["__scopeId","data-v-cf3028d6"]]),Z=V({__name:"categoryDrawer",props:{activeMenuItem:String,menuData:Array},setup(e,{expose:t}){const a=e,l=s(),i=s(),c=s(),n=s(),u=s(),v=o((()=>i.value&&i.value.children?i.value.children:[])),C=o((()=>n.value&&n.value.children?n.value.children:[])),x=s(),O=s(""),T=()=>{c.value="",i.value={},u.value="",n.value={}},L=()=>{l.value.close(),T()};return r((()=>a.activeMenuItem),(e=>{if(e){const t=e.split("."),a=menuData.find((e=>e.number===t[0])),l=a.children.find((e=>e.number===t[1])),s=l.children.find((e=>e.number===t[2]));i.value=a,n.value=l,x.value=s,c.value=a.id,u.value=l.id,O.value=s.id,console.log(a,l)}}),{immediate:!0}),t({showDrawer:e=>{l.value.open(),e&&(console.log("activeFirstItem",e),c.value=e.id,i.value=e,e.children&&e.children.length>0&&(n.value=e.children[0],u.value=e.children[0].id))}}),(t,a)=>{const s=A,o=I,r=S;return p(),m(X,{ref_key:"drawerRef",ref:l,mode:"right",width:657.692,clearSelectedState:T},{default:g((()=>[h(o,{class:"drawer-header"},{default:g((()=>[h(s,null,{default:g((()=>[k("全部分类")])),_:1}),h(y(U),{onClick:L,size:"20",fill:"#d9d9d9"})])),_:1}),h(o,{class:"drawer-body"},{default:g((()=>[h(r,{"scroll-y":"true",class:"scroll-Y first-level-list","scroll-into-view":"kd"+c.value,"scroll-with-animation":""},{default:g((()=>[(p(!0),f(_,null,w(e.menuData,(e=>(p(),m(o,{class:b([{activeFirstItem:e.id===c.value},"scroll-view-item first-level-list-item"]),id:"kd"+e.id,onClick:t=>{var a;(a=e).id!==c.value&&(i.value=a,c.value=a.id,Array.isArray(a.children)&&a.children.length>0?(n.value=a.children[0],u.value=a.children[0].id):(n.value=null,u.value=""))}},{default:g((()=>[k(D(e.name),1)])),_:2},1032,["class","id","onClick"])))),256))])),_:1},8,["scroll-into-view"]),h(r,{"scroll-y":"true",class:"scroll-Y second-level-list","scroll-into-view":"kd"+u.value},{default:g((()=>[(p(!0),f(_,null,w(y(v),(e=>(p(),m(o,{class:b(["scroll-view-item second-level-list-item",{activeSecondItem:e.id===u.value}]),onClick:t=>{return a=e,n.value=a,void(u.value=a.id);var a},id:"kd"+e.id},{default:g((()=>[k(D(e.name),1)])),_:2},1032,["class","onClick","id"])))),256))])),_:1},8,["scroll-into-view"]),h(r,{"scroll-y":"true",class:"scroll-Y third-level-list","scroll-into-view":"kd"+O.value,"scroll-with-animation":""},{default:g((()=>[(p(!0),f(_,null,w(y(C),(e=>(p(),m(o,{class:"scroll-view-item third-level-list-item","scroll-with-animation":"",id:"kd"+e.id},{default:g((()=>[h(s,{class:b(["third-level-list-item-name",{activeThirdItem:e.id===O.value}]),onClick:t=>{return a=e,x.value=a,O.value=a.id,void d.$router.go("/pages/goods/list",{keyword:"",searchType:"",categoryLongNumber:a.longNumber,typeFilter:!0,selectedFirstListItemId:c.value,selectedSecondListItemId:u.value,selectedThirdListItemId:O.value,source:a.source});var a}},{default:g((()=>[k(D(e.name),1)])),_:2},1032,["class","onClick"])])),_:2},1032,["id"])))),256))])),_:1},8,["scroll-into-view"])])),_:1})])),_:1},8,["width"])}}},[["__scopeId","data-v-fd72152c"]]),ee=V({__name:"categoryList",props:{menuData:Array},setup(e,{expose:t}){const a=e,l=s(null),o=(e=null)=>{null===e&&a.menuData&&a.menuData.length>0&&l.value&&l.value.showDrawer(a.menuData[0]),l.value&&l.value.showDrawer(e)};return t({show:o}),(t,a)=>{const s=I,r=S;return p(),m(s,{class:"category-list-container"},{default:g((()=>[h(r,{class:"scroll-view_category","scroll-x":"true",onScroll:t.scroll},{default:g((()=>[(p(!0),f(_,null,w(e.menuData,(e=>(p(),m(s,{key:e.id,class:"scroll-view-item_category-tag",onClick:t=>o(e)},{default:g((()=>[k(D(e.name),1)])),_:2},1032,["onClick"])))),128))])),_:1},8,["onScroll"]),null!=e.menuData&&null!=e.menuData&&0!=e.menuData.length?(p(),m(s,{key:0,class:"drawer-button",onClick:a[0]||(a[0]=()=>o())},{default:g((()=>[h(y(K),{fill:"#999999"})])),_:1})):C("",!0),h(Z,{ref_key:"category",ref:l,menuData:e.menuData},null,8,["menuData"])])),_:1})}}},[["__scopeId","data-v-4ab82396"]]),te=V({__name:"moduleTitle",props:{cardData:Object},setup:e=>(t,a)=>{const l=I;return p(),m(l,{class:"module-title"},{default:g((()=>[h(l,{class:"split-line-left"}),h(l,{class:"title-name"},{default:g((()=>[k(D(e.cardData&&e.cardData.title||""),1)])),_:1}),h(l,{class:"split-line-right"})])),_:1})}},[["__scopeId","data-v-7f6bd5a2"]]),ae=V({__name:"goodListOne",props:{cardData:Object},setup(e){const t=e,a=o((()=>t.cardData&&t.cardData.cardOption?t.cardData.cardOption:null)),l=o((()=>t.cardData&&t.cardData.banner?t.cardData.banner:null)),s=o((()=>t.cardData&&t.cardData.goodsGroup&&Array.isArray(t.cardData.goodsGroup)?t.cardData.goodsGroup.slice(0,10):[])),r=()=>{d.$router.go("/pages/goods/list",{productObtainId:a.value.productObtainId})};return(e,t)=>{const o=A,i=I,c=x,n=S;return p(),m(i,{class:"good-list-one"},{default:g((()=>[h(i,{class:"header"},{default:g((()=>[h(i,{class:"header-text ss-line-1"},{default:g((()=>[h(o,{class:"header-title"},{default:g((()=>[k(D(y(l)&&y(l).title||y(a)&&y(a).title),1)])),_:1}),h(o,{class:"header-description"},{default:g((()=>[k(D(y(l)&&y(l).subTitle),1)])),_:1})])),_:1}),h(y(K),{class:"skip-to-search-btn",fill:"#999999",onClick:r})])),_:1}),h(n,{class:"good-list-slide","scroll-x":"true"},{default:g((()=>[(p(!0),f(_,null,w(y(s),(e=>(p(),m(i,{class:"good-list-item",key:e.id,onClick:()=>{return t=e,void d.$router.go("/pages/goods/index",{goodsid:t.productId,platform:t.source});var t}},{default:g((()=>[h(c,{class:"good-list-item-image",src:e.productImgPath,mode:"aspectFill"},null,8,["src"]),h(i,{class:"good-list-item-name"},{default:g((()=>[k(D(e.productName),1)])),_:2},1024),h(i,{class:"good-list-item-suppier"},{default:g((()=>[k(D(e.supplier),1)])),_:2},1024),h(i,{class:"good-list-item-price"},{default:g((()=>[k("￥"+D(e.shopPrice),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})}}},[["__scopeId","data-v-c873818f"]]),le=V({__name:"goodListFive",props:{cardData:Object|Array},setup(e){const t=e,a=s(3),l=o((()=>t.cardData&&t.cardData.goodsList?t.cardData.goodsList.slice(0,12):[])),r=o((()=>l.value.slice(0,a.value))),i=o((()=>12===r.value.length||r.value.length===l.value.length)),c=o((()=>t.cardData&&t.cardData.cardOption?t.cardData.cardOption:null)),n=o((()=>t.cardData&&t.cardData.banner?t.cardData.banner:null)),u=()=>{i.value?a.value=3:a.value+=3},v=()=>{d.$router.go("/pages/goods/list",{productObtainId:c.value.productObtainId})};return(e,t)=>{const a=A,s=I,o=x;return p(),m(s,{class:"good-list-five"},{default:g((()=>[h(s,{class:"header"},{default:g((()=>[h(s,{class:"header-text ss-line-1"},{default:g((()=>[h(a,{class:"header-title"},{default:g((()=>[k(D(y(n)&&y(n).title||y(c)&&y(c).title),1)])),_:1}),h(a,{class:"header-description"},{default:g((()=>[k(D(y(n)&&y(n).subTitle),1)])),_:1})])),_:1}),h(y(K),{class:"skip-to-search-btn",fill:"#999999",onClick:v})])),_:1}),h(s,{class:"good-list-slide"},{default:g((()=>[(p(!0),f(_,null,w(y(r),(e=>(p(),m(s,{class:"good-list-item",key:e.id,onClick:()=>{return t=e,void d.$router.go("/pages/goods/index",{goodsid:t.productId,platform:t.source});var t}},{default:g((()=>[h(o,{class:"good-image",src:e.productImgPath,mode:"aspectFill"},null,8,["src"]),h(s,{class:"good-name"},{default:g((()=>[k(D(e.productName),1)])),_:2},1024),h(s,{class:"good-suppier"},{default:g((()=>[k(D(e.supplier),1)])),_:2},1024),h(s,{class:"good-price"},{default:g((()=>[k("￥"+D(e.shopPrice),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1}),y(l).length>3?(p(),m(s,{key:0,class:"get-more"},{default:g((()=>[h(a,{onClick:u},{default:g((()=>[k(D(y(i)?"收起":"展开更多"),1)])),_:1}),h(y(Y),{onClick:u,rotate:y(i)?180:0},null,8,["rotate"])])),_:1})):C("",!0)])),_:1})}}},[["__scopeId","data-v-7c4f2881"]]);const se=V({name:"UniSwiperDot",emits:["clickItem"],props:{info:{type:Array,default:()=>[]},current:{type:Number,default:0},dotsStyles:{type:Object,default:()=>({})},mode:{type:String,default:"default"},field:{type:String,default:""}},data:()=>({dots:{width:4,height:4,bottom:10,color:"#fff",backgroundColor:"rgba(0, 0, 0, .3)",border:"1px rgba(0, 0, 0, .3) solid",selectedBackgroundColor:"#333",selectedBorder:"1px rgba(0, 0, 0, .9) solid"}}),watch:{dotsStyles(e){this.dots=Object.assign(this.dots,this.dotsStyles)},mode(e){"indexes"===e?(this.dots.width=14,this.dots.height=14):(this.dots.width=6,this.dots.height=6)}},created(){"indexes"===this.mode&&(this.dots.width=12,this.dots.height=12),this.dots=Object.assign(this.dots,this.dotsStyles)},methods:{clickItem(e){this.$emit("clickItem",e)}}},[["render",function(e,t,a,l,s,o){const r=I,d=A;return p(),m(r,{class:"uni-swiper__warp"},{default:g((()=>[B(e.$slots,"default",{},void 0,!0),"default"===a.mode?(p(),m(r,{style:v({bottom:s.dots.bottom+"px"}),class:"uni-swiper__dots-box",key:"default"},{default:g((()=>[(p(!0),f(_,null,w(a.info,((e,t)=>(p(),m(r,{onClick:e=>o.clickItem(t),style:v({width:(t===a.current?2*s.dots.width:s.dots.width)+"px",height:s.dots.width/2+"px","background-color":t!==a.current?s.dots.backgroundColor:s.dots.selectedBackgroundColor,"border-radius":"0px"}),key:t,class:"uni-swiper__dots-item uni-swiper__dots-bar"},null,8,["onClick","style"])))),128))])),_:1},8,["style"])):C("",!0),"dot"===a.mode?(p(),m(r,{style:v({bottom:s.dots.bottom+"px"}),class:"uni-swiper__dots-box",key:"dot"},{default:g((()=>[(p(!0),f(_,null,w(a.info,((e,t)=>(p(),m(r,{onClick:e=>o.clickItem(t),style:v({width:s.dots.width+"px",height:s.dots.height+"px","background-color":t!==a.current?s.dots.backgroundColor:s.dots.selectedBackgroundColor,border:t!==a.current?s.dots.border:s.dots.selectedBorder}),key:t,class:"uni-swiper__dots-item"},null,8,["onClick","style"])))),128))])),_:1},8,["style"])):C("",!0),"round"===a.mode?(p(),m(r,{class:"uni-swiper__dots-box",key:"round"},{default:g((()=>[(p(!0),f(_,null,w(a.info,((e,t)=>(p(),m(r,{onClick:e=>o.clickItem(t),class:b([[t===a.current&&"uni-swiper__dots-long"],"uni-swiper__dots-item"]),style:v({width:(t===a.current?3*s.dots.width:s.dots.width)+"px",height:s.dots.height+"px","background-color":t!==a.current?s.dots.backgroundColor:s.dots.selectedBackgroundColor,border:t!==a.current?s.dots.border:s.dots.selectedBorder}),key:t},null,8,["onClick","class","style"])))),128))])),_:1})):C("",!0),"nav"===a.mode?(p(),m(r,{key:"nav",style:v({"background-color":a.dotsStyles.backgroundColor,bottom:"0"}),class:"uni-swiper__dots-box uni-swiper__dots-nav"},{default:g((()=>[h(d,{style:v({color:a.dotsStyles.color}),class:"uni-swiper__dots-nav-item"},{default:g((()=>[k(D(a.current+1+"/"+a.info.length+" "+a.info[a.current][a.field]),1)])),_:1},8,["style"])])),_:1},8,["style"])):C("",!0),"indexes"===a.mode?(p(),m(r,{key:"indexes",style:v({bottom:s.dots.bottom+"px"}),class:"uni-swiper__dots-box"},{default:g((()=>[(p(!0),f(_,null,w(a.info,((e,t)=>(p(),m(r,{onClick:e=>o.clickItem(t),style:v({width:s.dots.width+"px",height:s.dots.height+"px",color:t===a.current?s.dots.selectedColor:s.dots.color,"background-color":t!==a.current?s.dots.backgroundColor:s.dots.selectedBackgroundColor,border:t!==a.current?s.dots.border:s.dots.selectedBorder}),key:t,class:"uni-swiper__dots-item uni-swiper__dots-indexes"},{default:g((()=>[h(d,{class:"uni-swiper__dots-indexes-text"},{default:g((()=>[k(D(t+1),1)])),_:2},1024)])),_:2},1032,["onClick","style"])))),128))])),_:1},8,["style"])):C("",!0)])),_:3})}],["__scopeId","data-v-fd5c6344"]]),oe=V({__name:"goodListFour",props:{cardData:Object},setup(e){const t=e,a=s(0),l=s({backgroundColor:"rgba(83, 200, 249,0.3)",border:"1px rgba(83, 200, 249,0.3) solid",color:"#fff",selectedBackgroundColor:"#5797FF",selectedBorder:"1px #5797FF solid"}),r=o((()=>c.value.length>1?c.value:[])),i=o((()=>t.cardData&&t.cardData.storeList?t.cardData.storeList:[])),c=o((()=>{let e=[];for(let t=0;t<i.value.length;t+=4)e.push(i.value.slice(t,t+4));return e})),b=o((()=>i.value.length>2?461.538:230.792));function C(e){a.value=e.detail.current}return(t,s)=>{const o=I,i=x,S=O,L=T,$=n(u("uni-swiper-dot"),se);return p(),m(o,{class:"good-list-four"},{default:g((()=>[h(o,null,{default:g((()=>[h($,{current:a.value,info:y(r),mode:"round","dots-styles":l.value},{default:g((()=>[h(o,{class:"header"},{default:g((()=>[h(o,{class:"header-text"},{default:g((()=>[k(D(e.cardData&&e.cardData.cardTitle),1)])),_:1})])),_:1}),h(L,{class:"store-list-swiper",style:v({height:y(b)+"rpx"}),circular:"",onChange:C},{default:g((()=>[(p(!0),f(_,null,w(y(c),(e=>(p(),m(S,{class:"store-list-swiper-item"},{default:g((()=>[(p(!0),f(_,null,w(e,(e=>(p(),m(o,{key:e.storeId,class:"store-img-container",onClick:()=>(e=>{d.$router.go("/pages/goods/list",{productObtainId:e.productObtainId})})(e)},{default:g((()=>[h(i,{class:"store-img",src:e.storeImgPath,mode:"aspectFill"},null,8,["src"]),h(o,{class:"store-title",style:v({color:e.cardTitleColor})},{default:g((()=>[k(D(e.cardTitle),1)])),_:2},1032,["style"]),h(o,{class:"store-description"},{default:g((()=>[k(D(e.description),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:2},1024)))),256))])),_:1},8,["style"])])),_:1},8,["current","info","dots-styles"])])),_:1})])),_:1})}}},[["__scopeId","data-v-b8c2b084"]]),re=V({__name:"goodListThree",props:{cardData:Object},setup(e){const t=e,a=s([]),l=s(""),i=o((()=>t.cardData&&t.cardData.categoryGoods?t.cardData.categoryGoods:[])),c=o((()=>t.cardData&&t.cardData.cardOption?t.cardData.cardOption:{})),n=o((()=>Array.isArray(i.value)&&i.value.length>1)),u=()=>{d.$router.go("/pages/goods/list",{productObtainId:c.value.productObtainId})};return r(i,(e=>{l.value=e[0].id,a.value=e[0].goodsList.slice(0,4)}),{immediate:!0,deep:!0}),(e,t)=>{const s=A,o=I,r=x;return p(),m(o,{class:"good-list-three"},{default:g((()=>[h(o,{class:"header"},{default:g((()=>[h(o,{class:"header-text"},{default:g((()=>[h(s,{class:"header-title"},{default:g((()=>[k(D(y(c).title),1)])),_:1})])),_:1}),h(o,{class:"skip-to-search-btn",onClick:u},{default:g((()=>[h(s,null,{default:g((()=>[k("全部")])),_:1}),h(y(K),{class:"skip-to-search-btn"})])),_:1})])),_:1}),y(n)?(p(),m(o,{key:0,class:"category-list"},{default:g((()=>[(p(!0),f(_,null,w(y(i),(e=>(p(),m(o,{key:e.id,class:b(["category-list-item",{activeTab:e.id===l.value}]),onClick:t=>(e=>{l.value=e.id,a.value=e.goodsList.slice(0,4)})(e)},{default:g((()=>[k(D(e.category.name),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})):C("",!0),h(o,{class:"good-list"},{default:g((()=>[(p(!0),f(_,null,w(a.value,(e=>(p(),m(o,{class:"good-list-item",key:e.id,onClick:()=>(e=>{d.$router.go("/pages/goods/index",{goodsid:e.productId,platform:e.source})})(e)},{default:g((()=>[h(r,{class:"good-list-item-img",src:e.productImgPath,mode:"aspectFill"},null,8,["src"]),h(o,{class:"good-list-item-name"},{default:g((()=>[k(D(e.productName),1)])),_:2},1024),h(o,{class:"good-list-item-supplier"},{default:g((()=>[k(D(e.supplier),1)])),_:2},1024),h(o,{class:"good-list-item-price"},{default:g((()=>[k("￥"+D(e.shopPrice),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})}}},[["__scopeId","data-v-047128e1"]]),de=V({__name:"goodListTwo",props:{cardData:Object},setup(e){const t=e,a=o((()=>t.cardData&&t.cardData.cardTitle?t.cardData.cardTitle:"")),l=o((()=>{if(t.cardData&&t.cardData.categoryGoods&&Array.isArray(t.cardData.categoryGoods))return t.cardData.categoryGoods.slice(0,3)}));return(e,t)=>{const s=A,o=I,r=x,i=S;return p(),m(o,{class:"good-list-two"},{default:g((()=>[h(o,{class:"header"},{default:g((()=>[h(o,{class:"header-text"},{default:g((()=>[h(s,{class:"header-title"},{default:g((()=>[k(D(y(a)),1)])),_:1})])),_:1})])),_:1}),h(o,{class:"good-list-container"},{default:g((()=>[(p(!0),f(_,null,w(y(l),(e=>(p(),m(o,{class:"good-list"},{default:g((()=>[h(o,{class:"good-list-category",onClick:()=>(e=>{d.$router.go("/pages/goods/list",{categoryLongNumber:e.longNumber})})(e.category)},{default:g((()=>[k(D(e.category.name),1)])),_:2},1032,["onClick"]),h(i,{class:"scroll-list"},{default:g((()=>[e.goodsList&&e.goodsList.length>0?(p(!0),f(_,{key:0},w(e.goodsList,(e=>(p(),m(o,null,{default:g((()=>[h(o,{onClick:()=>(e=>{d.$router.go("/pages/goods/index",{goodsid:e.productId,platform:e.source})})(e)},{default:g((()=>[h(r,{class:"good-list-item-img",src:e.productImgPath,mode:"aspectFill"},null,8,["src"]),h(o,{class:"good-list-item-name"},{default:g((()=>[k(D(e.productName),1)])),_:2},1024),h(o,{class:"good-list-item-price"},{default:g((()=>[k("￥"+D(e.shopPrice),1)])),_:2},1024)])),_:2},1032,["onClick"])])),_:2},1024)))),256)):C("",!0)])),_:2},1024)])),_:2},1024)))),256))])),_:1})])),_:1})}}},[["__scopeId","data-v-cb513fde"]]),ie=V({__name:"cardBody",setup(e,{expose:t}){const a=s(0),r=s(0),i=s([]),c=o((()=>d.$store("homepage").configId)),n=(e,t,s)=>l(this,null,(function*(){if(!1===s&&a.value>=r.value)return;const l={start:e,size:t};c.value&&(l.mainPageConfigId=c.value);const o=yield d.$api.homepage.getFloors(l);if(!0===o.status){const{cardBodies:e,total:t}=o.data;i.value=i.value.concat(e),a.value=a.value+4,r.value=t}}));j((e=>{n(0,4,!0)}));return t({getMoreFloors:()=>{n(a.value,4,!1)}}),(e,t)=>{const a=I;return p(),m(a,{class:"card-body"},{default:g((()=>[(p(!0),f(_,null,w(i.value,(e=>(p(),f(_,{key:e.id},["moduleTitle"===e.component?(p(),m(te,{key:0,cardData:e.data},null,8,["cardData"])):"GoodsListOne"===e.component?(p(),m(ae,{key:1,cardData:e.data},null,8,["cardData"])):"GoodsListFive"===e.component?(p(),m(le,{key:2,cardData:e.data},null,8,["cardData"])):"GoodsListFour"===e.component?(p(),m(oe,{key:3,cardData:e.data},null,8,["cardData"])):"GoodsListThree"===e.component?(p(),m(re,{key:4,cardData:e.data},null,8,["cardData"])):(p(),m(de,{key:5,cardData:e.data},null,8,["cardData"]))],64)))),128))])),_:1})}}},[["__scopeId","data-v-38c0c4a1"]]);function ce(e){return"function"==typeof e?e():y(e)}function ne(e){var t;const a=ce(e);return null!=(t=null==a?void 0:a.$el)?t:a}const ue="undefined"!=typeof window&&"undefined"!=typeof document?window:void 0;function pe(e){const t=function(){const e=s(!1);return G()&&c((()=>{e.value=!0})),e}();return o((()=>(t.value,Boolean(e()))))}function me(l,s,o={}){const d=o,{window:i=ue}=d,c=((l,s)=>{var o={};for(var r in l)t.call(l,r)&&s.indexOf(r)<0&&(o[r]=l[r]);if(null!=l&&e)for(var r of e(l))s.indexOf(r)<0&&a.call(l,r)&&(o[r]=l[r]);return o})(d,["window"]);let n;const u=pe((()=>i&&"MutationObserver"in i)),p=()=>{n&&(n.disconnect(),n=void 0)},m=r((()=>ne(l)),(e=>{p(),u.value&&i&&e&&(n=new MutationObserver(s),n.observe(e,c))}),{immediate:!0}),g=()=>{p(),m()};var h;return h=g,P()&&M(h),{isSupported:u,stop:g}}const ge=V({__name:"index",setup(e){const t=s(null),a=o((()=>d.$store("homepage").mainConfigData)),i=o((()=>a.value&&a.value.userInfo&&a.value.userInfo.themeColor?a.value.userInfo.themeColor:"#276ff5")),c=function(e,t,a={}){const{window:l=ue,initialValue:d="",observe:i=!1}=a,c=s(d),n=o((()=>{var e;return ne(t)||(null==(e=null==l?void 0:l.document)?void 0:e.documentElement)}));function u(){var t;const a=ce(e),s=ce(n);if(s&&l){const e=null==(t=l.getComputedStyle(s).getPropertyValue(a))?void 0:t.trim();c.value=e||d}}return i&&me(n,u,{attributeFilter:["style","class"],window:l}),r([n,()=>ce(e)],u,{immediate:!0}),r(c,(t=>{var a;(null==(a=n.value)?void 0:a.style)&&n.value.style.setProperty(ce(e),t)})),c}("--mall-theme-color",document.body),v=o((()=>d.$store("homepage").configId)),f=o((()=>a.value&&a.value.tabOption?a.value.tabOption:[])),_=o((()=>a.value&&a.value.menuData?a.value.menuData:[])),w=o((()=>a.value&&a.value.malSwiper?a.value.malSwiper:null)),b=()=>{d.$router.go("/pages/index/search")},k=()=>l(this,null,(function*(){let e=W("kdcdc");console.log("当前数据中心的id是："+e),d.$store("homepage").updateKdcdc(e);let t=yield d.$api.homepage.getMainPageConfig();t.status&&(d.$store("homepage").updateMainConfig(t.data),d.$store("address").getAddressList(t.data.userInfo.userId),d.$store("cart").getList(),d.$store("searchTypes").getSearchTypeList())}));return j((e=>{k()})),r(a,(e=>{console.log(e)})),r(i,(e=>{d.$store("homepage").updateThemeColor(e),c.value=e})),N((()=>{t.value.getMoreFloors()})),E((()=>{k(),setTimeout((function(){H()}),800)})),(e,a)=>{const l=I,s=n(u("s-layout"),q);return p(),m(s,{tabbar:"/pages/homepage/index",color:"#fff"},{default:g((()=>[h(l,{class:"homepage"},{default:g((()=>[h(J,{tabOption:y(f),onOnSearchFocus:b},null,8,["tabOption"]),h(l,{class:"body-content"},{default:g((()=>[h(Q,{malSwiper:y(w)},null,8,["malSwiper"]),h(ee,{menuData:y(_)},null,8,["menuData"]),(p(),m(ie,{key:y(v),ref_key:"cardBodyRef",ref:t}))])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-2c9f7dc7"]]);export{ge as default};
