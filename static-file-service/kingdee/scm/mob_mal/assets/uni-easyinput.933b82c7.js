import{_ as e}from"./uni-icons.c22fa7d9.js";import{a as t,b as s,d as o,e as i,f as l,g as r,k as a,h as n,m as c,i as u,F as d,A as p,ae as h,P as m,p as f}from"./index-45b322f7.js";import{_ as y}from"./_plugin-vue_export-helper.1b428a4d.js";const g=y({name:"uni-easyinput",emits:["click","iconClick","update:modelValue","input","focus","blur","confirm"],model:{prop:"modelValue",event:"update:modelValue"},props:{name:String,value:[Number,String],modelValue:[Number,String],type:{type:String,default:"text"},clearable:{type:Boolean,default:!0},autoHeight:{type:Boolean,default:!1},placeholder:String,placeholderStyle:String,focus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},maxlength:{type:[Number,String],default:140},confirmType:{type:String,default:"done"},clearSize:{type:[Number,String],default:15},inputBorder:{type:Boolean,default:!0},prefixIcon:{type:String,default:""},suffixIcon:{type:String,default:""},trim:{type:[Boolean,String],default:!0},passwordIcon:{type:Boolean,default:!0},styles:{type:Object,default:()=>({color:"#333",disableColor:"#F7F6F6",borderColor:"#e5e5e5"})},errorMessage:{type:[String,Boolean],default:""},paddingLeft:{type:[Number,String],default:0}},data:()=>({focused:!1,errMsg:"",val:"",showMsg:"",border:!1,isFirstBorder:!1,showClearIcon:!1,showPassword:!1}),computed:{msg(){return this.errorMessage||this.errMsg},inputMaxlength(){return Number(this.maxlength)}},watch:{value(e){this.errMsg&&(this.errMsg=""),this.val=e,this.form&&this.formItem&&!this.is_reset&&(this.is_reset=!1,this.formItem.setValue(e))},modelValue(e){this.errMsg&&(this.errMsg=""),this.val=e,this.form&&this.formItem&&!this.is_reset&&(this.is_reset=!1,this.formItem.setValue(e))},focus(e){this.$nextTick((()=>{this.focused=this.focus}))}},created(){this.value||0===this.value||(this.val=this.modelValue),this.modelValue||0===this.modelValue||(this.val=this.value),this.form=this.getForm("uniForms"),this.formItem=this.getForm("uniFormsItem"),this.form&&this.formItem&&this.formItem.name&&(this.is_reset||(this.is_reset=!1,this.formItem.setValue(this.val)),this.rename=this.formItem.name,this.form.inputChildrens.push(this))},mounted(){this.$nextTick((()=>{this.focused=this.focus}))},methods:{init(){},onClickIcon(e){this.$emit("iconClick",e)},getForm(e="uniForms"){let t=this.$parent,s=t.$options.name;for(;s!==e;){if(t=t.$parent,!t)return!1;s=t.$options.name}return t},onEyes(){this.showPassword=!this.showPassword},onInput(e){let t=e.detail.value;this.trim&&("boolean"==typeof this.trim&&this.trim&&(t=this.trimStr(t)),"string"==typeof this.trim&&(t=this.trimStr(t,this.trim))),this.errMsg&&(this.errMsg=""),this.val=t,this.$emit("input",t),this.$emit("update:modelValue",t)},onFocus(e){this.$emit("focus",e)},onBlur(e){e.detail.value,this.$emit("blur",e)},onConfirm(e){this.$emit("confirm",e.detail.value)},onClear(e){this.val="",this.$emit("input",""),this.$emit("update:modelValue","")},fieldClick(){this.$emit("click")},trimStr:(e,t="both")=>"both"===t?e.trim():"left"===t?e.trimLeft():"right"===t?e.trimRight():"start"===t?e.trimStart():"end"===t?e.trimEnd():"all"===t?e.replace(/\s+/g,""):e}},[["render",function(y,g,b,x,I,C){const v=t(s("uni-icons"),e),k=h,S=m,_=f;return o(),i(_,{class:a(["uni-easyinput",{"uni-easyinput-error":C.msg}]),style:n({color:b.inputBorder&&C.msg?"#e43d33":b.styles.color})},{default:l((()=>[r(_,{class:a(["uni-easyinput__content",{"is-input-border":b.inputBorder,"is-input-error-border":b.inputBorder&&C.msg,"is-textarea":"textarea"===b.type,"is-disabled":b.disabled}]),style:n({"border-color":b.inputBorder&&C.msg?"#dd524d":b.styles.borderColor,"background-color":b.disabled?b.styles.disableColor:""})},{default:l((()=>[b.prefixIcon?(o(),i(v,{key:0,class:"content-clear-icon",type:b.prefixIcon,color:"#c0c4cc",onClick:g[0]||(g[0]=e=>C.onClickIcon("prefix"))},null,8,["type"])):c("",!0),"textarea"===b.type?(o(),i(k,{key:1,class:a(["uni-easyinput__content-textarea",{"input-padding":b.inputBorder}]),name:b.name,value:I.val,placeholder:b.placeholder,placeholderStyle:b.placeholderStyle,disabled:b.disabled,"placeholder-class":"uni-easyinput__placeholder-class",maxlength:C.inputMaxlength,focus:I.focused,autoHeight:b.autoHeight,onInput:C.onInput,onBlur:C.onBlur,onFocus:C.onFocus,onConfirm:C.onConfirm},null,8,["class","name","value","placeholder","placeholderStyle","disabled","maxlength","focus","autoHeight","onInput","onBlur","onFocus","onConfirm"])):(o(),i(S,{key:2,type:"password"===b.type?"text":b.type,class:"uni-easyinput__content-input",style:n({"padding-right":"password"===b.type||b.clearable||b.prefixIcon?"":"10px","padding-left":b.paddingLeft+"px"}),name:b.name,value:I.val,password:!I.showPassword&&"password"===b.type,placeholder:b.placeholder,placeholderStyle:b.placeholderStyle,"placeholder-class":"uni-easyinput__placeholder-class",disabled:b.disabled,maxlength:C.inputMaxlength,focus:I.focused,confirmType:b.confirmType,onFocus:C.onFocus,onBlur:C.onBlur,onInput:C.onInput,onChange:C.onInput,onConfirm:C.onConfirm,"cursor-spacing":30,"always-embed":""},null,8,["type","style","name","value","password","placeholder","placeholderStyle","disabled","maxlength","focus","confirmType","onFocus","onBlur","onInput","onChange","onConfirm"])),"password"===b.type&&b.passwordIcon?(o(),u(d,{key:3},[I.val?(o(),i(v,{key:0,class:a(["content-clear-icon",{"is-textarea-icon":"textarea"===b.type}]),type:I.showPassword?"eye-slash-filled":"eye-filled",size:18,color:"#c0c4cc",onClick:C.onEyes},null,8,["class","type","onClick"])):c("",!0)],64)):b.suffixIcon?(o(),u(d,{key:4},[b.suffixIcon?(o(),i(v,{key:0,class:"content-clear-icon",type:b.suffixIcon,color:"#c0c4cc",onClick:g[1]||(g[1]=e=>C.onClickIcon("suffix"))},null,8,["type"])):c("",!0)],64)):(o(),u(d,{key:5},[b.clearable&&I.val&&!b.disabled?(o(),i(v,{key:0,class:a(["content-clear-icon",{"is-textarea-icon":"textarea"===b.type}]),type:"clear",size:b.clearSize,color:"#c0c4cc",onClick:C.onClear},null,8,["class","size","onClick"])):c("",!0)],64)),p(y.$slots,"right",{},void 0,!0)])),_:3},8,["class","style"])])),_:3},8,["class","style"])}],["__scopeId","data-v-6265d107"]]);export{g as _};
