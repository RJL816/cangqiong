import{ad as e,a as t,b as s,d as i,e as l,f as a,g as n,k as o,A as c,m as r,l as h,t as d,h as p,q as u,C as m,p as f,M as g,D as _,s as y,i as v,j as b,F as w}from"./index-45b322f7.js";import{_ as C}from"./uni-icons.c22fa7d9.js";import{_ as S}from"./_plugin-vue_export-helper.1b428a4d.js";import{_ as O}from"./s-empty.081ad1d8.js";import{_ as x}from"./s-layout.940eafb4.js";const A=S({name:"uniCollapseItem",props:{title:{type:String,default:""},name:{type:[Number,String],default:""},disabled:{type:Boolean,default:!1},showAnimation:{type:Boolean,default:!0},open:{type:Boolean,default:!1},thumb:{type:String,default:""},titleBorder:{type:String,default:"auto"},border:{type:Boolean,default:!0},showArrow:{type:Boolean,default:!0}},data:()=>({isOpen:!1,isheight:null,height:0,elId:`Uni_${Math.ceil(1e6*Math.random()).toString(36)}`,nameSync:0}),watch:{open(e){this.isOpen=e,this.onClick(e,"init")}},updated(e){this.$nextTick((()=>{this.init(!0)}))},created(){this.collapse=this.getCollapse(),this.oldHeight=0,this.onClick(this.open,"init")},unmounted(){this.__isUnmounted=!0,this.uninstall()},mounted(){this.collapse&&(""!==this.name?this.nameSync=this.name:this.nameSync=this.collapse.childrens.length+"",-1===this.collapse.names.indexOf(this.nameSync)?this.collapse.names.push(this.nameSync):console.warn(`name 值 ${this.nameSync} 重复`),-1===this.collapse.childrens.indexOf(this)&&this.collapse.childrens.push(this),this.init())},methods:{init(e){this.getCollapseHeight(e)},uninstall(){this.collapse&&(this.collapse.childrens.forEach(((e,t)=>{e===this&&this.collapse.childrens.splice(t,1)})),this.collapse.names.forEach(((e,t)=>{e===this.nameSync&&this.collapse.names.splice(t,1)})))},onClick(e,t){this.disabled||(this.isOpen=e,this.isOpen&&this.collapse&&this.collapse.setAccordion(this),"init"!==t&&this.collapse.onChange(e,this))},getCollapseHeight(t,s=0){e().in(this).select(`#${this.elId}`).fields({size:!0},(e=>{if(!(s>=10)){if(!e)return s++,void this.getCollapseHeight(!1,s);this.height=e.height,this.isheight=!0,t||this.onClick(this.isOpen,"init")}})).exec()},getNvueHwight(e){dom.getComponentRect(this.$refs["collapse--hook"],(t=>{if(t&&t.result&&t.size){if(this.height=t.size.height,this.isheight=!0,e)return;this.onClick(this.open,"init")}}))},getCollapse(e="uniCollapse"){let t=this.$parent,s=t.$options.name;for(;s!==e;){if(t=t.$parent,!t)return!1;s=t.$options.name}return t}}},[["render",function(e,g,_,y,v,b){const w=u,S=m,O=f,x=t(s("uni-icons"),C);return i(),l(O,{class:"uni-collapse-item"},{default:a((()=>[n(O,{onClick:g[0]||(g[0]=e=>b.onClick(!v.isOpen)),class:o(["uni-collapse-item__title",{"is-open":v.isOpen&&"auto"===_.titleBorder,"uni-collapse-item-border":"none"!==_.titleBorder}])},{default:a((()=>[n(O,{class:"uni-collapse-item__title-wrap"},{default:a((()=>[c(e.$slots,"title",{},(()=>[n(O,{class:o(["uni-collapse-item__title-box",{"is-disabled":_.disabled}])},{default:a((()=>[_.thumb?(i(),l(w,{key:0,src:_.thumb,class:"uni-collapse-item__title-img"},null,8,["src"])):r("",!0),n(S,{class:"uni-collapse-item__title-text"},{default:a((()=>[h(d(_.title),1)])),_:1})])),_:1},8,["class"])]),!0)])),_:3}),_.showArrow?(i(),l(O,{key:0,class:o([{"uni-collapse-item__title-arrow-active":v.isOpen,"uni-collapse-item--animation":!0===_.showAnimation},"uni-collapse-item__title-arrow"])},{default:a((()=>[n(x,{color:_.disabled?"#ddd":"#bbb",size:"14",type:"bottom"},null,8,["color"])])),_:1},8,["class"])):r("",!0)])),_:3},8,["class"]),n(O,{class:o(["uni-collapse-item__wrap",{"is--transition":_.showAnimation}]),style:p({height:(v.isOpen?v.height:0)+"px"})},{default:a((()=>[n(O,{id:v.elId,ref:"collapse--hook",class:o(["uni-collapse-item__wrap-content",{open:v.isheight,"uni-collapse-item--border":_.border&&v.isOpen}])},{default:a((()=>[c(e.$slots,"default",{},void 0,!0)])),_:3},8,["id","class"])])),_:3},8,["class","style"])])),_:3})}],["__scopeId","data-v-d9eb4150"]]);const $=S({name:"uniCollapse",emits:["change","activeItem","input","update:modelValue"],props:{value:{type:[String,Array],default:""},modelValue:{type:[String,Array],default:""},accordion:{type:[Boolean,String],default:!1}},data:()=>({}),computed:{dataValue(){let e="string"==typeof this.value&&""===this.value||Array.isArray(this.value)&&0===this.value.length;"string"==typeof this.modelValue&&""===this.modelValue||Array.isArray(this.modelValue)&&this.modelValue.length;return e?this.modelValue:this.value}},watch:{dataValue(e){this.setOpen(e)}},created(){this.childrens=[],this.names=[]},mounted(){this.$nextTick((()=>{this.setOpen(this.dataValue)}))},methods:{setOpen(e){let t="string"==typeof e,s=Array.isArray(e);this.childrens.forEach(((i,l)=>{if(t&&e===i.nameSync){if(!this.accordion)return void console.warn("accordion 属性为 false ,v-model 类型应该为 array");i.isOpen=!0}s&&e.forEach((e=>{if(e===i.nameSync){if(this.accordion)return void console.warn("accordion 属性为 true ,v-model 类型应该为 string");i.isOpen=!0}}))})),this.emit(e)},setAccordion(e){this.accordion&&this.childrens.forEach(((t,s)=>{e!==t&&(t.isOpen=!1)}))},resize(){this.childrens.forEach(((e,t)=>{e.getCollapseHeight()}))},onChange(e,t){let s=[];this.accordion?s=e?t.nameSync:"":this.childrens.forEach(((e,t)=>{e.isOpen&&s.push(e.nameSync)})),this.$emit("change",s),this.emit(s)},emit(e){this.$emit("input",e),this.$emit("update:modelValue",e)}}},[["render",function(e,t,s,n,o,r){const h=f;return i(),l(h,{class:"uni-collapse"},{default:a((()=>[c(e.$slots,"default",{},void 0,!0)])),_:3})}],["__scopeId","data-v-3aec18a2"]]),k=S({__name:"faq",setup(e){const o=g({list:[],loading:!0});function c(){return e=this,t=null,s=function*(){const{error:e,data:t}=yield y.$api.data.faq();0===e&&(o.list=t,o.loading=!1)},new Promise(((i,l)=>{var a=e=>{try{o(s.next(e))}catch(t){l(t)}},n=e=>{try{o(s.throw(e))}catch(t){l(t)}},o=e=>e.done?i(e.value):Promise.resolve(e.value).then(a,n);o((s=s.apply(e,t)).next())}));var e,t,s}return _((()=>{c()})),(e,c)=>{const p=f,u=m,g=t(s("uni-collapse-item"),A),_=t(s("uni-collapse"),$),y=t(s("s-empty"),O),C=t(s("s-layout"),x);return i(),l(C,{class:"set-wrap",title:"常见问题",bgStyle:{color:"#FFF"}},{default:a((()=>[n(_,null,{default:a((()=>[(i(!0),v(w,null,b(o.list,((e,t)=>(i(),l(g,{key:e},{title:a((()=>[n(p,{class:"ss-flex ss-col-center header"},{default:a((()=>[n(p,{class:"ss-m-l-20 ss-m-r-20 icon"},{default:a((()=>[n(p,{class:"rectangle"},{default:a((()=>[n(p,{class:"num ss-flex ss-row-center ss-col-center"},{default:a((()=>[h(d(t+1<10?"0"+(t+1):t+1),1)])),_:2},1024)])),_:2},1024),n(p,{class:"triangle"})])),_:2},1024),n(p,{class:"title ss-m-t-36 ss-m-b-36"},{default:a((()=>[h(d(e.title),1)])),_:2},1024)])),_:2},1024)])),default:a((()=>[n(p,{class:"content ss-p-l-78 ss-p-r-40 ss-p-b-50 ss-p-t-20"},{default:a((()=>[n(u,{class:"text"},{default:a((()=>[h(d(e.content),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1}),0!==o.list.length||o.loading?r("",!0):(i(),l(y,{key:0,text:"暂无常见问题",icon:"/static/collect-empty.png"}))])),_:1})}}},[["__scopeId","data-v-23fffa7a"]]);export{k as default};
