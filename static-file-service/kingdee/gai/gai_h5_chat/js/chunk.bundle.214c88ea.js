// Build date: 2025/3/25 10:28:03
 // Version: 6.0.0
 /*! For license information please see chunk.bundle.214c88ea.js.LICENSE.txt */
"use strict";(self.webpackChunkgpt_gai=self.webpackChunkgpt_gai||[]).push([[23],{24241:function(e,t,r){r.r(t),r.d(t,{default:function(){return Vg}});r(1559),r(18331),r(18919),r(32544),r(51828),r(20416),r(82160),r(23071),r(81736),r(80117),r(55823),r(98754);var n=r(35049),a=r(69535),i=r(83900),l=(r(30902),r(19423),r(94434)),o=r(88206),c=r(70039),u=r.n(c),s=r(87368),f=r(20843),m=r.n(f),d=(r(66604),r(32669),r(28067),r(80103),r(4914),r(93780),r(28863),r(91992),r(65944)),p=["blue","green","orange","purple","red"],v=r(40083),y=v.d4;function g(e){return function(t){var r=(0,v.wA)(),n=e.actions[t];return function(e){r(n(e))}}}function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){E(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function E(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=A(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=A(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==A(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var S={deviceType:void 0,isMobile:!1,count:1,isInited:!1,model:null,theme:"blue",showIcon:!1,switchSide:!1,newPortal:!0,showClose:!1,slideEnv:"H5",lockSide:!1,selectedProcessId:null,hasChangeSelectedProcessId:!1,chatSessionId:"",promptLocked:!1,userAgree:!0,firstInitial:!1,assistantId:void 0,assistantName:"Cosmic助手",avatar:void 0,openingSpeech:"",introduce:"",skillList:[],currentSkill:{},chatUser:{},isFullScreen:!1,sideMode:"side",disableDragging:!1,isStartChat:!1,isQingAnalysisTab:!1,isMobileShowMore:!1,ds:!1,allowAutoScroll:!0,hadGetSkill:!1,showHistory:!1,inputCustomActions:{recommendToInput:""}},w=(0,d.Z0)({name:"global",initialState:S,reducers:{setShowHistory:function(e,t){e.showHistory=t.payload},setIsMobileShowMore:function(e,t){e.isMobileShowMore=t.payload},setAllowAutoScroll:function(e,t){e.allowAutoScroll=t.payload},setPromptLocked:function(e,t){e.promptLocked=t.payload},setDeviceType:function(e,t){e.isMobile=t.payload.isMobile,e.deviceType=t.payload},setIsInited:function(e,t){e.isInited=t.payload},setModel:function(e,t){e.model=t.payload},setUserAgree:function(e,t){var r=null==t?void 0:t.payload;e.userAgree=r,e.isStartChat=!r},setTheme:function(e,t){p.includes(t.payload)?e.theme=t.payload:e.theme="blue"},setShowIcon:function(e,t){e.showIcon=t.payload},setSelectedProcessId:function(e,t){var r=t.payload,n=e.skillList.find((function(e){return e.id===r}));e.currentSkill=n||{},e.selectedProcessId=r},setSwitchSide:function(e,t){e.switchSide=t.payload},setAssistantName:function(e,t){e.assistantName=t.payload},setAvatar:function(e,t){e.avatar=t.payload},setSlideEnv:function(e,t){e.slideEnv=t.payload},setLockSide:function(e,t){e.lockSide=t.payload},setShowClose:function(e,t){e.showClose=t.payload},setInitial:function(e,t){var r,n={isQingAnalysisTab:!1};("qing_workbench"===t.payload.tabChangeTo&&(n.isQingAnalysisTab=!0),"initial"===t.payload.type)&&(!t.payload.userAgree&&null!==(r=t.payload.chatUser)&&void 0!==r&&r.userId?n.isStartChat=!0:n.isStartChat=!1,n.isInited=!0);return b(b(b(b({},e),t.payload),n),{},{firstInitial:!0})},setSkillList:function(e,t){var r=t.payload,n={};return!e.hasChangeSelectedProcessId&&e.skillList.length||(n.currentSkill=r.find((function(t){return t.id===e.selectedProcessId}))||{},n.hasChangeSelectedProcessId=!1),b(b(b({},e),n),{},{skillList:r,hadGetSkill:!0})},setCurrentSkill:function(e,t){return b(b({},e),{},{selectedProcessId:t.payload.id,currentSkill:b({suggestedAsks:[]},t.payload)})},forward:function(e,t){var r;return null===(r=e.model)||void 0===r||r.invokeAsync(t.payload.key,t.payload.value),b({},e)},setIsFullScreen:function(e,t){e.isFullScreen=t.payload,t.payload&&(e.disableDragging=!0)},setSideMode:function(e,t){e.sideMode=t.payload},setDisableDragging:function(e,t){e.disableDragging=t.payload},setChatSessionId:function(e,t){e.chatSessionId=t.payload},setIsStartChat:function(e,t){e.isStartChat=t.payload},setIdentifySkillId:function(e,t){e.identifySkillId=t.payload},setHasChangeSelectedProcessId:function(e,t){e.hasChangeSelectedProcessId=t.payload},changeTimerCount:function(e){var t=e.count+1;e.count=t>99999?1:t}},extraReducers:function(e){e.addCase("chat/setChatList",(function(e,t){var r;!e.isStartChat&&null!==(r=t.payload)&&void 0!==r&&r.length&&(e.isStartChat=!0)}))}}),O=w.actions,I=(O.setAllowAutoScroll,O.setIsMobileShowMore,O.setDeviceType,O.setPromptLocked,O.setIsInited,O.setModel),x=(O.setTheme,O.setUserAgree),j=O.setInitial,k=(O.setSelectedProcessId,O.setHasChangeSelectedProcessId),C=O.setSwitchSide,P=(O.setAssistantName,O.setAvatar,O.setShowIcon,O.setShowClose,O.setLockSide),N=(O.setSlideEnv,O.forward,O.setSkillList),R=O.setCurrentSkill,L=(O.setIsFullScreen,O.setSideMode,O.setDisableDragging,O.setChatSessionId),z=O.setIsStartChat,B=O.setIdentifySkillId,M=O.changeTimerCount,T=g(w),F=w.reducer,Q=(r(78070),r(64365),r(15530),r(13102),r(78174),r(9131),r(31449),r(40413),r(96532),r(62882),r(26569));r(23006),r(67600),r(9054);function U(e){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U(e)}function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){J(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function J(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=U(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=U(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==U(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var G=(0,d.Z0)({name:"chat",initialState:{chatList:[],removeFlowIdList:[],isChat:{status:!1,waiting:!1,stream:!1,taskId:"",flowId:"",runId:"",isRunStepLoading:!1,isAskUser:!1,allowUserInput:!1},stoppedTaskId:[],isStoppedWaitingDelay:!1,recommendList:[],promptParams:{llm:"",llmStyle:"",promptTemplate:"",variableMap:{},input:"",stream:!1,readyToSend:!1},files:[],extraInput:"",runStepStatusList:[],hasMore:!1,historyList:[],chatScrollTop:!0,agentAllowUserInput:!0,isDeep:!0},reducers:{setChatStatus:function(e,t){e.isChat=D(D({},e.isChat),t.payload)},addStoppedTaskId:function(e,t){e.stoppedTaskId=e.stoppedTaskId.concat(t.payload)},setIsStoppedWaitingDelay:function(e,t){e.isStoppedWaitingDelay=t.payload},setChatList:function(e,t){var r=t.payload.chatType;if(r&&"chatHistory"===r){var n,a,i=e.chatList.slice();i=(null!==(n=null===(a=t.payload)||void 0===a?void 0:a.chatList)&&void 0!==n?n:[]).concat(i),e.chatList=i}else e.chatList=t.payload},clearChatList:function(e){e.chatList=[]},setRecommend:function(e,t){e.recommendList=t.payload},setRemoveFlowIdList:function(e,t){e.removeFlowIdList=t.payload},setChatRequest:function(e,t){e.chatList=e.chatList.concat(D({type:"ask"},t.payload))},setChatAnswer:function(e,t){e.chatList=e.chatList.concat(D({type:"answer"},t.payload))},setPromptParams:function(e,t){e.promptParams=D(D({},e.promptParams),t.payload)},setReadyToSend:function(e,t){e.promptParams.readyToSend=t.payload},changeVariableMapValue:function(e,t){e.promptParams.variableMap[t.payload.key].value=t.payload.value},updateVariableMap:function(e,t){var r={};Object.keys(t.payload).forEach((function(n){e.promptParams.variableMap[n]?r[n]=e.promptParams.variableMap[n]:r[n]={name:t.payload[n],value:""}})),e.promptParams.variableMap=r},setFiles:function(e,t){var r=e.files.concat(),n=t.payload,a=n.tempId||n.fileId,i=r.filter((function(e){return e.fileId===a}));if(i.length>0){var l=i[0];l=D(D(D({},l),n),{},{status:null!=n&&n.status?n.status:1});var o=r.findIndex((function(e){return e.fileId===a}));o>-1&&r.splice(o,1,l)}else r.push(t.payload);e.files=r},clearFiles:function(e){e.files=[]},replaceAllFiles:function(e,t){var r=e.files.concat(),n=r.map((function(e){return e.fileId})),a=(t.payload||[]).filter((function(e){return!n.includes(e.fileId)}));e.files=r.concat(a)},delFiles:function(e,t){var r=t.payload.fileId,n=e.files.findIndex((function(e){return e.fileId===r})),a=e.files.concat();a.splice(n,1),e.files=a},setExtraInput:function(e,t){e.extraInput=t.payload},setRunStepStatus:function(e,t){e.runStepStatusList=t.payload},clearRunStepStatus:function(e){e.runStepStatusList=[]},setChatScrollTop:function(e,t){e.chatScrollTop=t.payload},setAgentAllowUserInput:function(e,t){e.agentAllowUserInput=t.payload},setIsDeep:function(e,t){e.isDeep=t.payload}}}),W=g(G),X=G.actions,K=(X.setIsDeep,X.setChatStatus),Y=X.addStoppedTaskId,V=X.setIsStoppedWaitingDelay,Z=X.setChatList,q=X.clearChatList,_=X.setRecommend,$=(X.setRemoveFlowIdList,X.setChatRequest),ee=(X.setChatAnswer,X.setPromptParams,X.setReadyToSend,X.changeVariableMapValue,X.updateVariableMap),te=X.setFiles,re=X.clearFiles,ne=(X.delFiles,X.setExtraInput,X.replaceAllFiles),ae=X.setChatScrollTop,ie=X.setAgentAllowUserInput,le=G.reducer,oe={"gai-userType-format":"gai-userType-format--Uu2LX"};function ce(e){return ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ce(e)}function ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function se(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(r),!0).forEach((function(t){fe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ue(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function fe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=ce(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ce(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ce(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var me=function(e){return e.FILE_TEXT="txt",e.FILE_PDF="pdf",e.FILE_CSV="csv",e.FILE_XLS="xls",e.FILE_JSON="json",e.FILE_RAR="rar",e.FILE_PPT="ppt",e.FILE_ZIP="zip",e.FILE_VIDEO="video",e.FILE_DOC="doc",e}({});function de(e){var t=e.showDel,r=e.files,a=void 0===r?[]:r,i=e.style,l=e.canPreview,o=void 0!==l&&l,c=e.fixedImgSize,u=W("delFiles"),s=function(e){switch(e){case 0:return"loading";case 1:return"success";case-1:return"error";default:return"success"}};return a.length?n.createElement(Q.A,{style:i,showDel:t,preview:o,fixedImgSize:c,content:a.map((function(e){var t,r=e.previewUrl,n=e.fileUrl,a=e.status;return se(se({},e),{},{src:null!==(t=r||n)&&void 0!==t?t:"",type:(null==e?void 0:e.fileType)||(null==e?void 0:e.type),status:s(a)})})),onRemove:function(e){var t=e.fileId;u({fileId:t})},iconRender:function(e){var t;switch(function(e){if(!e)return;var t=e.lastIndexOf("."),r=e.substring(t+1);if(r.includes("json"))return me.FILE_JSON;if(r.includes("pdf"))return me.FILE_PDF;if(r.includes("csv"))return me.FILE_CSV;if(r.includes("txt"))return me.FILE_TEXT;if(r.includes("xls"))return me.FILE_XLS;if(r.includes("doc"))return me.FILE_DOC;if(r.includes("rar"))return me.FILE_RAR;if(r.includes("zip"))return me.FILE_ZIP;if(r.includes("ppt"))return me.FILE_PPT;if(r.includes("mov"))return me.FILE_VIDEO;if(r.includes("avi"))return me.FILE_VIDEO;if(r.includes("mp4"))return me.FILE_VIDEO}(e.name)){case me.FILE_PDF:t="data:image/png;base64,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";break;case me.FILE_JSON:t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAGD0lEQVRYCW2XP48cVRDEe2Znd0+2kbDBEmcSQoQlJAQCAkI+BJFjyJEgcgAiRkTkDgj5AJAjQ+AAYSIIDwvbyJI5+8ze7gz1q+63e7fy8828f91V1f16ZtbddPf6Yjz+54uY+hvRxWF0nf66cOurb3P6WtrZ5dokB/uxb3vWmbAT92LqbsU0v9ldv7tiobVhfCzyiM+im4SdDtNkuOjGdDcOYlhPJrlMnpZLkhWf/QsvzTsFJo7+FN7PubXWxzjd8ETg05iXfJNMJMaEWHtbATg0G+1hw940jsZgnhjqa88OUyQXa9UGbRwaDFO8po7YcpsMEEnXCz/XnA3EMOCCWNakH5NO9pP8DKcu15Bh/0MNzrWBdcANbL3pnYCGlgP7kO18oQU2W81KRJKnOCuxo+ZOS/PJfkhy1BegiRp8Ejv6DMWkllV2hlGGfETqLJwMaZx2BJhkz+GP3otFbiKdoz2dRw09L3EgtYt6acgQ0lirMT3Y7rX1PHJclIFKORjklMhoDbwSbTJSHO2A9cxYD1lK5waRAIJgABx2+pdPWdvNXtWFOkxTMcQZdTmy18R4XJiVGaODBY77nX2bI946Gg521VSEqc0kigSVrQAN0CxhMEzWy1Q1QMYpgcxxF/2svDgO1qtlBiP+/spAhPvXbHHpYwuwurohh5ZVL7NtscnANmlBMOs4iJhfTcGn92Loxxg3U/QWJJA6LQM2zJoojGvj6vhba7Q6eEkVPeq5YCFD1WvRY8pmvdb40vuxfOfnWLx9O8b5a7HebHwU1JV9KpizhVn81U2vOgPnFonSBwF5ptuR20ibCNJ4fSqxay/6tlptYtB81isDGLil+MyiFlqB1y7d4Mekveepcg5VFJM/RBprzdVbxIgbZbNWsN2GHGdjrhPwXvuGobRrk5bJ5lB9ZkCG0GbwvnuhHT/pNJB6NxFxDC21rG0U/egnIwvAT1YB4EYWCjkx6j6w6CzIIIl2++aTAc5+NLffBGUBUaUnPZQ1ZWZbQ40NcmkyNoL2Wj4FJh9N5Mo9cyTtzBsJcSDGRJPyPp5oizWN1bL4GGXE1rgVuh1g4OZvASSctZs6p1Y9Kw3AWbCdooSQjVF53zwpNy00Y3qmBekvqp5N+9h6dzuTgaxurPK8BWCQLDqrkUh0cv6SoH1FbQEI0pjHb1S+yeD2fHBgqzK84/bIAhDcIszzRgwgEad63mdXPojZ5XdjPP491g9+1J5eOGMXs07um2OZSeRK/cwuYoNRoPmWATxF7JEzFQId0chOyn2GRKrVjd5q6/UUy2sfRf/C60rpMp4d/WA83gOLg6vOAC+e9bOH0V0EiscD8bp4pOmF3wLU5FzLg0GEFOyqGBDFqbTxcvvvwU968/wbw4tvRVx6M56eyHbxSlw8/FDrT2Lz+DcFSxE6bxkEeERFhIVNv9/0k0yNDadJTjhonJWe/aM/v4/ly+9Fv3wpLr/xaVyeVHx9uoaO4NEf38VcH6EZ5y6sLNKKmkcT7EzEPr/emn55pKMVa4gGX7rNqKnxaRz98qUycduZiPGZIx+fHsX9X7+Ok4d3JEC25kksB0VgdZknQc+JqDAgLKU4yBDVM11zFdZyruNY3Y+jO9/EZhpifuFKrFdPVIAncbCIuHDQ285vXTi3Zw8XeCRV6ljfa0MWisycIhH7WyqrMiaqpd6XqnN9brvY6IWzWT+IBSlf6musEBA41x6/boBpR3CWzke7R85U7mWmzpXanlcpVgUIlCxkv5AQPRhKFkKTaKa1QRc/Lh2l9oxIxJXVLMbKwp6IIesGQAqueh8DDnmBOOgogB5IlXOtDhHm4SWj+C1ei/gDzOa2EY6lbVcY5KsYED15zh9+baDe0RpHq/QGxjXNcwRne9M1EkD5a/OG2zyy70Wg/zgyUfQ4kEKBuSeiyoYWsriwrfrY2qR7EmqPddv7pWTw3RzbM40k3sIY0HTM3QzUoRcxAgGryySFdIaQROOLmb095pZrOWj37mhYbNY3VzOexumGCA5xMl7z1pmfqw/qJA9eDABzTHQpViNxm1UDrcnG5Swj+2Ggphm/ij/5H7Lg/5st32JGAAAAAElFTkSuQmCC";break;case me.FILE_TEXT:t="data:image/png;base64,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";break;case me.FILE_CSV:t="data:image/png;base64,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";break;case me.FILE_XLS:t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAHVklEQVRYCW2XX4xdVRXG1zn3z0xrh2pK64xNaYmVYicxhBdSDQgxIcbIGzHRNMUHIhqfeJGGByB9MzHGJ4wkJICJvqBNEFM1vhj/IoYS0yE0BISmFFqESmda5s7ce47f71v73NtG99x99z5rr/Wttb61975nquWVx4YLm1uOVXUciaiXIqqo6ipmI9NaXwySl3lU0lNndGedtf8jl/CdKtpn3ru07ZGV5a9tGKx89RdGc8eiah6KBqBWPaJtGDVBhqBu9CiIhsecY9+iRmyzCWI9pr1tHFAsSfLQzuvWWD7KV9fqtm2OhFZx2jaNuwEBobMoeRCUZZqXNdkWfdRyDoZtim2l0QlZWh3RcE3rC0y0y4iM8afGoHz1p/QEUNW1BoBFOyvMVQ5TjgPZI+dDK6qGBc32yap8XdsIQB+5NFXmUxog4TwDIytA0KX524B6cOCSsE6TDoGlGE0So2wze+uVrzopS0Nnhg3lkJEDwx1BTiam0jIAASCgMjcOgVpMOWSj7meNjdYSD8NZ6wtBikRoSD2VeTKeIGV360HqmakdwpqYwoaUTZCwPC84bTPRsxiZ+bxm1k/ngKhBH/W2CtFj5hwcPcdw5riTp0PHr1PEvrEzWHPgICAH1StG7768B2DBjSxKBskIWWlNx9BZ5WDVtp3kvrCtWHE8fEG1QvddIlt/KM3/Ogeon3URsoxwgqGxHJPkNNGOXgZV5rBBcGoVTsudkZcViaAvOZhAoCqG9h69vZ3ftjWqQX1uOBh+uzAATDafWdcMCgGvtYHGAlOWlKfKmrJIfadMOX6CYzIrJc4LcmLooSTzqSvj0Y+nxzDPOnUHpFA+aWNxbrvDJ8ELm6sRPWn0JNJaR9LO4YLEPQd8vrlsFsmY3Kd3SVdeyfgQRFu1uxUANJNNdxKSVmn4OD6w5874yq5bnMR3Tz0dL176l0ABJpWIW7fti8cPHvb6iQ9OxbE3fx1VXxFSFt8diYt+xwaBJXMKz5sOZ0TkTj0b0a7DNZ7E908dj3dHH9rB0f1fjcFY8o3NiM1J1KNJfO/GL3sNdn5w+nnfF41KYyw2NNhECjbPmqcf5Fx3RSEvoWIwNYpYHV2OR0/+DLPYM78jvrn3i9GMNmOyvhFf330o9m253kDHTj0bl6SbeBIJwxl3jhn1Zx46KroAOha8ATvnRMtmUs1fePd0/PzMn+3ovj13xO7e9vhEzMX9e++07Nlzf4+/SodNamrFHgGAm4mJtavYmJWgCu0BMKSskY2OUbeztW+i7dVRD3vxo5d+GYeuPxA3bt0ZDx68J65MRrG1N4yz6xfjhyePRwyl1+eUKGh1aMYefLvwhFtU+4c1ljTyczytjaNwMCVyaflci4VNXUYP/+2pWJusx2079sddu5YVxEY8/OJP4yMdTYKErXSKV3CTBeZ2CAuEYCVGkZYbQ1LoKr0LhNh9m4oFjt+r778Vp1fPxUdyjPOV1bPxzwuvO/PgaAqGrMqEBySzQLwgEVKvcehR8FHEMDuLjt5j7lz0vrH8pfjk/Mfj3xur8b76kub33nwHcOpKZ2oPg2AlC6wnZjKgp8ICt0Rx0m1AMyKZT/qksKLx4PYb4p4bbnPtn1r5XTy58lvP7917KPZvW/SxzHLqppwGkkH4bYogkXvUwEyPLoHrQ7R2rAWXIplpx018rB3E/QfujnXR/vIHb8SvXvlTnHj1L/HKh2djvdmMb910d8yTi+4G3T++C0DvyjvdZw6gcw4LvgfSoTZucZyUc8+3uog484c/c1fM9Qbxn83L8ZOXnouY12vEXD+eePn5WBuvxxatHd6n+0EXVDMeCyidw2LHaMpIKjdhtxHzFGDAPnCXBrtXb0CNsr99cTk+vbAYV+ToF6/9MS6MLkVPAfTmB/H25ffiN2f+4Q25/7ql+MKOAw56ymC5D7qA5MC1F7pE8qNC503IgwUMWXeo5Efm0OJn4+JoLVYunok/vHnSx62e05Hj3IuFE6+/EG+tnZfOanx+182xa7Cg4EkmMR2MMCkzJ40g+HQMVJ977gG9uLCsrqKwQFwNILCg+x4m/KKps97bMtSPDTeeYpe82Rir9gpaCL3hIGqt13MD3Qk6YAX3avzzx38fvA/EoI6x7o98H8C6tJzKObcZweCUXzc2jBwADCCds1JX2g/5ZplOpQeLFe8FgDGQuEZ93KC/ZgeqlZdSakM1NPLSAX0YKAkcAsAtZwTvVjlXfZ2ZgFrF1wFaT55zTyWb1JwZ3wbRkD74LWCjIKDoRNU5Vxksh4W+Omt0NQD59j3GOmKPRQ8lmrAcSLFLIbCdXv4WvGOnOMagu5KVtoMqzog4s+pGqaNreuzN+NoVknU4iel/z4qMwBOLJLgHIp65xgCHrMmgG3HkB8uQ06+WFaeS4czrMoZ05l3gKYdJwamJwbf7zXj1kbq/wPMRgS75DdiepeUXTNHFhiMIUQkrUIgfvy+wd6bVk5DXMOz1EulNTGl82jlJeM79UFf1ubl+/zv/BZFiG5VI2n8vAAAAAElFTkSuQmCC";break;case me.FILE_DOC:t="data:image/png;base64,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";break;case me.FILE_PPT:t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAGxElEQVRYCV2XTa8UVRCGq3t6eu6AokJQLwaBjQv/gW7dssWVIXFD9BcgG0L4EbolrNwaTXShMcaNGnWjCSs/EgOIH+Gbe+840+37vHXOMNy+9JzTdU5VvfVWneqmGS+d6Zfz+eWI8Wy07XY0jf41wbh5j35sLRtDQ5tz9o7s5dqQrXVz5eYQ49Xu4KGLzZuXFinK3245m16OYXU+WjkeMS0ojBiVTNY9t8NRZiT3fBgSTAOQ3L9fv9FaqjfbbbTnh4f3MP8eP/Vqh2E4Ky8RwxjjsPItBKAwIBvlGYfs85rmGg1UoFKGvgDqXusUG96HbrTy9eTVteO4jfMoLOYEZ6J2yOiaUCQYWGX0o/YT3VrlSZvGY1akDl4YY5Rse9/W6FgZFUUD3TjdmCtsWZCs1XoF4YjJu2SkSbfT4pRVj9SRnJY0ESCZMgn7EHSmDIQ1KjbCSFWgsIxjRSieEx2AuBxYHatDnplrFyojBsSea0rSzatzvsgbiNk4gF6bbQyHkvFshxitjuWaHANQFzvItXWLDCGBcTowAXn7LzNgmKKZcKpBctZYJk18oK00kSKsNa2rIiPlGQ/cXCjbQJFpvj5ZuWP96xowpdLBQM0bjAAINw3FCAgiqD50YpK1taguyUau4cWsMKngmG9cCUA0u5lokyORKdLRKB2pKM+ak3kzRHSwoT8iHff1C+2SWPo1Feznlv0fXj8xPjffinnb3Ohm/TsJYAMR+8JVjxHNhYFmgjNA5plOYQMlYioPpCiSGJoIwqfKtSVhrSPJuUqtHGt2Hn2QAPAEWqPUqMKpjBD1Sn7Gpw7HOJmEzoIcpDPMDQ/vCu8qJu1EJpqY6G9UfcAY4Nhjh9gHkJ75ydSML3VrdAUlUZlqjOteCcxC96G3LkTzwklJ9l10z39vxN63n8bi56+j1zKcAAYLY2nlDq6okiJYguB1HyhrRkauKgOcov+WGCoM7+3EcPsWNEQznUXz7NFojh6PrdPnoj2yHbtffhh9N1GIJsA/Zl4BOoVyRPTY41qnoOTFhr1SuBpWq1gsIT6vxa8/xbX3L8ZU6cBw98zhOPX2hehOvBr9a6fjwTefxWT3jmpUrWqkt+hPUThtmhez1Zy4Ag25MSqSLWjchA5qzQfmyLg0zkTvvGtiayL1+7fjz0+ueEnoY3r8lVjCmArHR7ra1uja0s6aAsBkJ9TEDJS8kcX1pePkblYEKPVaxnmrwtqRo4bmVK5htYwVOgYMcP1jmVe27KKfa3miSieUGD7XQUqDZ912jsGlviMWuzliXDcRdrOteP6NMyqUPUPY+eOX6GHOESOSHQWWL7MEmr2GpYYa4GjUXGmznmoDAU++26W4t2sA0+1T8fK5S1amCNsjx1SMqn2Be/T9F7H4+3rM570tAhL/HKd8o/KQlxnX1EXorldAoGD0MCDknhOwIhwXOxGTLiYvnixmNAyi/NbNuPfd53Hnx6/i4FT9oPJO9+TNSd9QHflkSUUzywhQfQCULOqJGjDqfHvBop+ZKMLQEdz77Vr8/tEVnQLyqR5xX41IalMdvbmc98wFvnX7hF0MY4i6wrUHfm3bKchFbdJLJxtEzlGoKRgLgHHnQSzv/BPTaRedQPQ6DZ2OZDfRCRCIXqO+suSWOlBs7rCy1Dx+QaVvAncNgAmERC+lSj3aToHWYWWhFOwqBUrFATk5IMd918ak9ANG4TEbxEzq/LYs45oJwMlHLcTshDhVnpwvqAITF7hQAAMMqAZGAZkK2Jac96RBfb+l59trMlbbuT9wSgrgxH/aSCKICZXshDiDbovkdf35JMNiwmfkwd0Y+1nE7kPneCILeu1oDTOoY1FzjT7noj4x6RmAxEUg3svW1MuXkTY//tLRAmtEr9cy+aTx/PXx1VhKNFXkW8q1RNom49rX6AMV56TPr2G8iXqn046oB+ymU9cZQGUjGQCaDQqhToWPDR40n0ipB1GXkUD3VI9EX/Ns5aKf5ZSAqryO6R4mig8tuBVXQ16g8LAixCDlpSKUKjafbgdBYbOL2jALGDSLGyPRcrOZAOs6aCReNyLnSzKngANto+wqlziGBZRssIgbmLLtQj+9gn2AYQ8/EFvlHqGVpQyO5U5fHDd1fvQ/Finy+gRtRa/RxeKckgKeZcTNS3s9Yq6wI4N8kKYLZMmIBHmN+njRDB+44eLj5apRIgQlK7ppQNmEHsvrc+4pewGBjnSdSua4QR8PVOmmXWRe8OR6N7u/e3Hv6S2iOiuP2zWXHB09m40qc2OhozmvGGIdJgr92Kz+y8mATQjNOqNipMJf095o57N3/wfduPk+qZutuQAAAABJRU5ErkJggg==";break;case me.FILE_RAR:t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAHHklEQVRYCW2XT28WVRTGz/x7+4daICRqqwETEiRsdQd74weQsGKtnwBXLPgKLtyzMizZkmpcFwoaWoKAkSJg0pZiKRDe950Zn99zZ962hnk7c2fuvec5z3nOuXem2bVrq4PXu9WVLIuLeZ4thG5ynRlnrpOf2rZtQ+PuV1cUeZHG+7nqm9h0fcyXGZDPZX91d+fY5fPns2HsO8rdneJKRHNJXqNpcNCGGreiIl+tSYTac+c+iqLIY2XlRey+HkfW5olsrlb2PhpdhdHKqy72rsuCyF2am99iyvee113Kum4UeR5tI0dZA1uB5WlYfXS0dSP3bdy4sa7HLMqqirlDgzh1at4Rrt3b0XwpIsdJhUQ8UcdSMPyy7KJuDxKQNAtN0zgCJjKVZwOZEIbE30ZZFpI+i7EIvX07jMePd0Qgi3pcR5TSa6KCZJBR0wWUKSBCENKCXey7lETeirniTo50Tw2QEtxykEdkPXv24y4Fm/Hq1Sg2Nt6aaFEoekhLBbBs3oloZJQEz0CGnFzKhuKaRJ1ymfrEGR6kR3M4l5bWjZPlZRw5Mh1nzhx1/+3b205hozgpWHi7FAiG6Fv1CwxV/39YARedDQ3hiQrIYI3kFj8fszOVFMgkfyMFhrG2tilnklpzAG+oI820eDDQjWpsLzUJ5sC1dL41MfMKUB5tiFooo+iFqFE9N/HFlwsG++3OplZBHS9fDuUjF6nCznOMG9lIfuyxg5hMOzUP+PZDyUTr1Re+urNaxp30yOkaEcrPS48FqHorSxEpLG+KOQEDBVhddwUp9hAXGH8mmWbuXaUAeZITFTLLyEtQirTkQBFw4rRp6vjm/OdOQTJnTHayv359PQo5x5azd6akGKHNVUOkR0AXLvzQzs7OC2fwrKqqb60AJD1TF6dELSsBDuSTohyPxzE1Vdjp/otmauydHE8p2j17F5xxuz7huUAhTXqybHE0qn90EdZd5M67o0+EHDnqiEldj2I0FGIK3BwECVyMRiOlZeB7q9lFCwkUITX0ExwHuE595J94GQLTbz5EkcmCQuLwPsGzQKj86enyAIl372rPSfYsOQ1TuZ29V0gfVNcHAOQcMBNcpbKkg2fAqA1a505EeH74YDOGozqGw9pqoMijh97fEeKAParZ3uSFpZYl6aC6Pu5TDbgjBUbOfae+1JOiz7MiVm498TZ8/PhRDWXxZH071lb/icH0rAmKpvJMmJDvZAeFe3CNbVM9pMMEknwaRQXnTEVCKuTEr2QNZSrtvBjE7VvrcXP5T1tX1VTMzMwKvHSKvIN2weCw1r3fD7Jt2KJTdLLtU6AXGxLDjLVOwSQyKQozRjUMRagsqsinKCoi1c5flO5jzEWlueylXkE2YwWA26lo2ilV3GLjfcCvUSI3GYH1bzFVkp7gazV4E1bVAPUN3MgxUhci74zBWBj99wS7AD+Tki1zOVA2taoBIiZyRmsk15leqwkseROofmfPfRoLi3Na942WXR6bG29ieXnDBcl+sP97ggrKzUTkJo7t1xcrJptJDZiEozUXgaWUMNERa6usm7GL7ubyUylRxFdfn4qTJz+I1bvbUiFFRT77mkrfAwoqxWfMRAHMlLZuFdAtwdTpYpEFOe6BkJe8k6KyyuPQ3CAOzQ68Mw6HIy2vMbrqY0VphDhkZC+r5A8FurKiI6UrteldgNoUC1Rl6BeIIgGU7IBTK0WoceLEkVhcnI/5w9Nx9/fncW91S9MqkSNJMpfB+74nvKpMCgo4TyrkRIUBrIiYk0EIuWVjYpA/tffvb8S1n+7E1uZrLctM2zDziRbFsNtvL0w2Otn57DBRmpMjnzjFORO7SW77e/UzDycmottff3kUp09/GMc/O+yxg47TfGN3mH1AyXEiBJ5rgHWT9n4Z4qb7HtDyFXM6fIkHf2xpGx5r/Vex/WIYSzcexfz8jOagXHrxaLailrzkDjPIk1n6AdcBJkRou+8BAegjgvw7TVxQRAz59QW0/te/BmZb1vdI/P3klXL+JoqyYtsTcrekZU9N9LsIznnj9rIn52bXvQvEjDT6i4qJ+lGQpAEufK7JWn+lx0gfW7P/F4AgWDRqkd20NYmImdu3/VZMPUwUcBECKLy0d+tGjvs1PPm+k6SAcbjo5Izl1kfTFxqbGBsPcyGPeozRn+oojdHHYNoHdJvJaQ/miAhQR9315zYQIi1jqAa4bikRJ0xePU3PBKQp+3D1MDn2iPOv2XOtXf1TqlFYatnAXklQCyk2JYF10qYIiSjXBpRIe+vGm+bV3bclCAD1mxKrQPRMoVcreYm4SoeXiZykwSQb0aQKV78APE+d9PfLqgfjmepn0H0Q8iPYyd77iboJsDuelnPHdi/vbs3B9KJAFrx6BNIXEmnp+4g6FWbacj0mMEttUDlTXpwS3qiqbAoPh+/5Hnim/zW/+w9oy8bGxBXI2QAAAABJRU5ErkJggg==";break;case me.FILE_ZIP:t="data:image/png;base64,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";break;case me.FILE_VIDEO:t="data:image/png;base64,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";break;default:t="data:image/png;base64,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"}return n.createElement("img",{className:oe["".concat("gai-userType","-format")],src:t,alt:"file"})}}):null}var pe=(0,n.memo)(de);function ve(e){return ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ve(e)}function ye(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ge(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(r),!0).forEach((function(t){Ae(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ye(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ae(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=ve(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ve(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ve(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function he(e){return function(e){if(Array.isArray(e))return be(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return be(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?be(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Ee(e){if(!Array.isArray(e))return function(){return[]};var t=0,r=0,n=he(e);return function(e,a){if("reset"===a&&(t=0),"resetPrev"===a&&(t=r),r=t,!n.length)return[];for(var i=[],l=0;l<e;l++){var o=(t+l)%n.length;i.push(n[o])}return t=(t+e)%n.length,i}}function Se(e,t){return e.some((function(e){return t(e)}))}function we(e,t){null==e||e.invokeAsync("showNotification",t)}function Oe(e,t){we(e,ge(ge({duration:-1},t),{},{method:"showErrorNotification"}))}var Ie={app:"app--d6WLO"},xe=r(1486),je="loading--B1mw6";var ke=function(e){var t=e.type,r=void 0===t?"page":t;return n.createElement("div",{className:je},n.createElement(xe.A,{type:r}))},Ce={"gai-img-wrapper":"gai-img-wrapper--_15NF","gai-img-failed":"gai-img-failed--ReK51"};function Pe(e){return Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pe(e)}function Ne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(r),!0).forEach((function(t){Le(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ne(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Le(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=Pe(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Pe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Pe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ze(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,l,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Be(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Be(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Be(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Me=n.memo((function(e){var t=e.url,r=e.isAvatar,a=e.width,i=e.height,l=e.error,o=e.style,c=void 0===o?{}:o,s=e.className,f=e.onClick,m=ze((0,n.useState)(""),2),d=m[0],p=m[1],v=ze((0,n.useState)(c),2),y=v[0],g=v[1],A=function(){p("data:image/png;base64,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");var e=Re({width:"".concat(a||30,"px"),height:"".concat(i||30,"px")},c);g(e)},h=function(e){null==f||f(e)};return(0,n.useEffect)((function(){if(t)if(r&&t){var e=new Image;e.onload=function(){p(t);var e=Re({width:"".concat(a,"px"),height:"".concat(i,"px"),borderRadius:r?"50%":"none"},c);g(e)},e.onerror=function(){A()},e.src=t}else t&&(p(t),g(Re({},c)))}),[r,t]),(0,n.useEffect)((function(){l&&A()}),[l]),n.createElement(n.Fragment,null,n.createElement("img",{className:u()(s,Ce["".concat("gai-img","-wrapper")]),src:d,style:y,onClick:function(){return h(t)}}))}));Me.displayName="gai-img";var Te=Me,Fe={"gai-user-agent-wraper":"gai-user-agent-wraper--hDVBH","gai-user-agent-username":"gai-user-agent-username--Dldas"};function Qe(e){return Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qe(e)}function Ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function He(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(r),!0).forEach((function(t){De(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ue(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function De(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=Qe(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Qe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Qe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Je=function(e){var t,r,n,a,i=e.assistant,l=e.visible,o=y((function(e){return e.globalSlice})),c=o.avatar,u=o.assistantName,s=null;i?(s=i,"userName"in i&&(s=He(He({},s),{},{name:null==i?void 0:i.userName}))):s={picture:null!=c?c:"",name:null!=u?u:""};var f=null!==(t=null===(r=s)||void 0===r?void 0:r.picture)&&void 0!==t?t:"",m=null!==(n=null===(a=s)||void 0===a?void 0:a.name)&&void 0!==n?n:"";return s&&l?{avatar:f,name:m}:void 0},Ge="gai-user-agent";function We(e){var t=e.assistant,r=e.visible,a=Je({assistant:t,visible:r});return n.createElement(n.Fragment,null,a?n.createElement("div",{className:u()(Fe["".concat(Ge,"-wraper")],"flex")},n.createElement(Te,{isAvatar:!0,url:a.avatar,width:24,height:24,name:a.name}),n.createElement("span",{className:Fe["".concat(Ge,"-username")]},a.name)):null)}var Xe=n.memo(We),Ke=r(41089),Ye="bg--odpZD",Ve="bg_hover--ETqLu",Ze="icon_linear--p0xV6",qe="bg_linear--PR22k",_e="active--G0SKI",$e="bg_face--n8Vcg",et="icon_face--InoFL",tt="icon--tuFTU",rt="disable--st_mo",nt="tooltip--_ny5H";function at(e){return at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},at(e)}function it(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function lt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?it(Object(r),!0).forEach((function(t){ot(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):it(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ot(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=at(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=at(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==at(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ct,ut=function(e){var t=e.hover,r=e.bgClassName,a=e.iconClassName,i=e.iconName,l=e.type,o=void 0===l?"linear":l,c=e.children,s=e.size,f=void 0===s?17:s,m=e.style,d=void 0===m?{}:m,p=e.disable,v=void 0!==p&&p,y=e.onClick,g=e.title,A=e.bgStyle,h=void 0===A?{}:A,b=e.active,E=e.cursor,S=void 0===E?"pointer":E,w=u()(a,ot(ot(ot(ot({},tt,!0),Ze,"linear"===o),et,"face"===o),rt,v)),O=u()(r,ot(ot(ot(ot(ot(ot({},Ye,!0),qe,"linear"===o),$e,"face"===o),Ve,t),rt,v),_e,b)),I={width:f,height:f},x=function(e){v||null==y||y(e)},j=function(){return c?n.createElement("span",{className:O,style:lt(lt({},h),{},{cursor:S}),onClick:x},c?(0,n.isValidElement)(c)?n.cloneElement(c,{style:lt(lt({},I),d),className:u()(w,c.props.className)}):c:null):n.createElement("svg",{className:w,"aria-hidden":"true",style:lt(lt({},I),d)},n.createElement("use",{href:"#"+i}))};return n.createElement(n.Fragment,null,g?n.createElement(Ke.A,{tip:g||"",autoPlacement:!0,scrollHidden:!0,className:nt},j()):j())},st=r(84127),ft=r(20058),mt=r(41174),dt=r(98646),pt=r(80500),vt=r(51818),yt=["svgRef","title"];function gt(){return gt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gt.apply(null,arguments)}var At,ht=function(e){var t=e.svgRef,r=e.title,a=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,yt);return n.createElement("svg",gt({width:16,height:16,viewBox:"0 0 16 16",ref:t},a),r?n.createElement("title",null,r):null,ct||(ct=n.createElement("path",{d:"M2.5 13.498c0-.002 3 0 8.998.002-.002 0 0-3 .002-8.998 0 .002-3 0-8.998-.002.002 0 0 3-.002 8.998zm-1-9.08c0-.506.418-.918.918-.918h9.163c.506 0 .919.418.919.918v9.164a.924.924 0 01-.919.918H2.418a.923.923 0 01-.918-.918V4.418zM4.502 1.5h8.996c.552 0 1.002.456 1.002 1.002v8.996c0 .544-.441.988-.977 1.002V2.49H3.5c.006-.547.46-.99 1.002-.99z",fill:"#666",fillRule:"evenodd"})))},bt=n.forwardRef((function(e,t){return n.createElement(ht,gt({svgRef:t},e))})),Et=["svgRef","title"];function St(){return St=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},St.apply(null,arguments)}var wt=function(e){var t=e.svgRef,r=e.title,a=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,Et);return n.createElement("svg",St({className:"right_svg__icon",width:200,height:200,style:{verticalAlign:"middle"},viewBox:"0 0 1024 1024",fill:"currentColor",overflow:"hidden",ref:t},a),r?n.createElement("title",null,r):null,At||(At=n.createElement("path",{d:"M378.74 629.983L237.504 441.667c-20.71-27.614-59.885-33.21-87.5-12.5-27.614 20.71-33.21 59.886-12.5 87.5l187.5 250c23.834 31.778 70.878 33.55 97.036 3.656l437.5-500c22.73-25.976 20.097-65.461-5.88-88.192-25.978-22.73-65.463-20.097-88.193 5.88L378.741 629.983z"})))},Ot=n.forwardRef((function(e,t){return n.createElement(wt,St({svgRef:t},e))}));function It(e){if(navigator&&navigator.clipboard&&"function"==typeof navigator.clipboard.writeText)navigator.clipboard.writeText(e).then((function(){})).catch((function(){}));else if(document&&document.execCommand&&"function"==typeof document.execCommand){var t=document.createElement("input");t.style.cssText="position: absolute; left: -9999px; top: -9999px; z-index: -9999;",t.readOnly=!0,document.body.appendChild(t),t.value=e,t.focus(),t.select();document.execCommand("copy",!1,void 0);document.body.removeChild(t)}}var xt=r(12932),jt=r(29215),kt=r(78170),Ct={iconcool:"iconcool--UlAcQ",baocuo:"baocuo--hXscq",bianji:"bianji--ihEu6",biaodan:"biaodan--dABb6",buxihuan:"buxihuan--GuzMV",caidan:"caidan--vx2uP",copyRight:"copyRight--yBEhl",cuowuweixian:"cuowuweixian--qbsuM",daima:"daima--gX3up",danliexuanze:"danliexuanze--u3QNG",dongjie:"dongjie--HhXAg",fanhui:"fanhui--GSQwO",faqixinliaotian:"faqixinliaotian--aV8uP",fasong:"fasong--GhIej",fujian:"fujian--f7Jz_",fuzhidaima:"fuzhidaima--JWm9R",gengduo:"gengduo--K1vgx",guanbi:"guanbi--iVWmJ",guanbiquanping:"guanbiquanping--I3cge",jiazaizhong:"jiazaizhong--invVL",lajitong:"lajitong--bsR_w",lietujiazaishibai:"lietujiazaishibai--PGiYB",shanchu:"shanchu--qUs5i",shangla:"shangla--M6yzF",shuaxin:"shuaxin--StCoK",tixing:"tixing--BmK6n",toubudaohang_guanbi:"toubudaohang_guanbi--FDIBr",wangye:"wangye--EiYxx",weidongjie:"weidongjie--SNjJ9",wendang:"wendang--gY5PW",wenjian:"wenjian--pFGRF",xiala:"xiala--R0OqU",xiaoK:"xiaoK--TPRnU",xihuan:"xihuan--aF56r",xingzhuang:"xingzhuang--JYC8T",xingzhuangjiehe:"xingzhuangjiehe--YH4CV",xuanzezhinengti:"xuanzezhinengti--yxMXb",yanse:"yanse--FibDZ",yiquxiao:"yiquxiao--XoG8Z",yiwancheng:"yiwancheng--mMR9M",zhishi:"zhishi--B5HN4",zhongmingming:"zhongmingming--JVSK3","zhuangtaitubiao-tishi":"zhuangtaitubiao-tishi--qnkP_",zidingyi:"zidingyi--SiLMa",ziyoubilv:"ziyoubilv--VIT34"};r(44637),r(13481),r(16741),r(86146),r(67619),r(63421),r(57621),r(53563),r(43237),r(94979),r(48158),r(9050),r(51376),r(7353);function Pt(e){return Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pt(e)}function Nt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Rt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Nt(Object(r),!0).forEach((function(t){Lt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Lt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=Pt(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Pt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Pt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zt(e){var t={};return Object.keys(e).forEach((function(r){switch(r){case"chatSessionId":case"assistantName":case"avatar":case"slideEnv":case"tabChangeTo":e[r]&&"string"==typeof e[r]&&(t[r]=e[r]);break;case"showIcon":case"switchSide":case"lockSide":e[r]&&"boolean"==typeof e[r]&&(t[r]=e[r]);break;case"selectedProcessId":!e[r]||"string"!=typeof e[r]&&"number"!=typeof e[r]||(t[r]=e[r]);break;case"chatUser":t[r]=e[r]}})),Rt(Rt({},e),t)}function Bt(e){for(var t=new Map,r=0;r<e.length;r++)if("url"===e[r].type){var n=e[r],a=n.value+n.title;t.has(a)||t.set(a,n)}else t.set(e[r].id,e[r]);return Array.from(t.values())}function Mt(e){return e.replace(/<\/?think\b[^>]*>/g,(function(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}))}var Tt="development",Ft="production",Qt={bill:{icon:"biaodan",name:"表单"},knowledge:{icon:"zhishi",name:"知识"},document:{icon:"wendang",name:"文档"},file:{icon:"wenjian",name:"文件"},web:{icon:"wangye",name:"网页"},code:{icon:"daima",name:"代码"},default:{icon:"font-wangye",name:"网页"}};function Ut(e){var t=Wt(e);if(t.query){var r=Xt(t.query),n=r.get("gaiParams");if(n)try{var a=JSON.parse(n);a.id=(0,vt.A)(),r.get("gaiShow")&&(a.crossPageData?a.crossPageData.switchSide="1"===r.get("gaiShow"):a.crossPageData={switchSide:"1"===r.get("gaiShow")}),r.get("gaiLock")&&(a.crossPageData?a.crossPageData.lockSide="1"===r.get("gaiLock"):a.crossPageData={lockSide:"1"===r.get("gaiLock")}),r.get("selectedProcessNumber")&&(a.crossPageData?a.crossPageData.selectedProcessNumber=r.get("selectedProcessNumber"):a.crossPageData={selectedProcessNumber:r.get("selectedProcessNumber")}),r.set("gaiParams",JSON.stringify(a))}catch(e){}t.query=Gt(r)}return Jt(t)}function Ht(e){var t=Wt(e),r={type:"url",title:"default",iconType:"default",method:"autoJump",value:t.fullUrl,page:"newPage"};if(t.query){var n=Xt(t.query),a=n.get("title"),i=n.get("iconType"),l=n.get("method"),o=n.get("order");a&&(r.title=a,n.delete("title")),i&&(r.iconType=i in Qt?i:"default",n.delete("iconType")),o&&(r.order=o,n.delete("order")),l&&(r.method=l,n.delete("method")),"newPage"!==t.hostname&&"currentPage"!==t.hostname||(r.page=t.hostname,t.hostname=""),t.query=Gt(n),r.value=Jt(t)}return r}function Dt(e){var t="";try{t=decodeURIComponent(e)}catch(r){t=e}return Xt(Wt(t).query)}function Jt(e){var t="";return t+="".concat(e.protocol,"://"),e.hostname.length>0&&(t+=e.hostname),e.port.length>0&&(t+=":".concat(e.port)),e.pathname.length>0&&(t+="/".concat(e.pathname)),e.query.length>0&&(t+="?".concat(e.query)),e.hash.length>0&&(t+="#".concat(e.hash)),t}function Gt(e){var t="";return e.forEach((function(e,r){t+="".concat(r,"=").concat(e,"&")})),t=t.substring(0,t.length-1)}function Wt(e){var t="",r="";try{t=decodeURIComponent(e),r=decodeURIComponent(e)}catch(n){t=r=e}var n,a,i="",l="",o="",c="";a=r.split("#")[1]?r.split("#")[1]:"",n=(r=r.split("#")[0]).split("?")[1]?r.split("?")[1]:"";var u=(r=r.split("?")[0]).split("://");return 2!==u.length?(i="https",r=u[0]):("http"!==u[0]&&u[0],i=u[0],r=u[1]),r.split("/").forEach((function(e,t){if(0===t){var r=e;l=r.split(":")[0],o=r.split(":")[1]?r.split(":")[1]:""}else c+="".concat(e,"/")})),c.length>0&&(c=c.substring(0,c.length-1)),{fullUrl:t,protocol:i,hostname:l,port:o,pathname:c,query:n,hash:a}}function Xt(e){var t=e.split("&"),r=new Map;return t.forEach((function(e){var t=e.split("="),n=t[1],a="";try{a=decodeURIComponent(n)}catch(e){a=n}r.set(t[0],a)})),r}r(65476),r(5612),r(57884);var Kt={textItem:"textItem--XfBP2",urlItem:"urlItem--IXkvF",iconTitle:"iconTitle--HC8ll",subSuper:"subSuper--Nk5gz",iconName:"iconName--lao3N",picItem:"picItem--gwnC8",iframeItem:"iframeItem--MXnYP",htmlItem:"htmlItem--Dp0ie"};function Yt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,l,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Vt(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Vt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Zt="CLICK_IMG";var qt=function(e){var t=e.value,r=(0,n.useRef)(null),a=Yt((0,n.useState)([]),2),i=a[0],l=a[1],o=Yt((0,n.useState)(0),2),c=o[0],u=o[1],s=Yt((0,n.useState)(!1),2),f=s[0],m=s[1],d=(0,n.useRef)((0,vt.A)()),p=(0,n.useMemo)((function(){return function(e){var t="\n    <html>\n      <head>\n          <style>\n            * {\n              margin: 0;\n            }\n            body {\n              height: auto;\n              min-height: 0;\n              padding-bottom: 8px;\n              overflow-y: hidden;\n            }\n            * ::-webkit-scrollbar {\n              width: 8px;\n              height: 8px;\n              overflow: visible;\n            }\n            * ::-webkit-scrollbar-thumb {\n              min-height: 28px;\n              height: 5px;\n              min-width: 2px;\n              width: 5px;\n              border-radius: 4px;\n              padding: 100px 0 0;\n              border: 1px dashed transparent;\n              background-color: #b2b2b2;\n              background-clip: padding-box;\n            }\n          </style>\n      </head>\n      <body>\n        ".concat(e,"\n        \n      </body>\n      <script>\n        document.querySelectorAll('img').forEach(img => {\n          img.addEventListener('click', function() {\n            const imageInfo = {\n              // src: this.src,\n              alt: this.alt,\n              dataId: this.getAttribute('data-id'),\n              iframeId: document.body.getAttribute('data-id')\n            };\n            // 使用 postMessage 发送消息给父页面\n            window.parent.postMessage({type: '").concat(Zt,"', data: imageInfo}, '*');\n          });\n        });\n\n      <\/script>\n    </html>\n  "),r=new Blob([t],{type:"text/html"});return URL.createObjectURL(r)}(t)}),[t]),v=(0,n.useCallback)((function(e){if(e.origin===window.location.origin){var t=e.data,r=t.type,n=t.data;if(r===Zt){var a=n.dataId;if(n.iframeId===d.current){m(!f);var l=i.findIndex((function(e){return e["data-id"]===a}));u(l>-1?l:0)}}}}),[i]);return(0,n.useEffect)((function(){return window.addEventListener("message",v),function(){window.removeEventListener("message",v)}}),[v]),n.createElement("div",{className:Kt.htmlItem},n.createElement("iframe",{src:p,ref:r,onLoad:function(){if(r.current){var e=r.current.contentDocument;if(e){var t=e.body;t.setAttribute("data-id",d.current);var n=0;t.querySelectorAll("*").forEach((function(e){n=Math.max(n,e.getBoundingClientRect().bottom)})),r.current.style.height="".concat(n,"px");var a=e.querySelectorAll("img");a.length&&(a.forEach((function(e){return e.setAttribute("data-id",(0,vt.A)())})),l(Array.from(a).map((function(e,t){return{src:e.src,index:t,"data-id":e.getAttribute("data-id")}}))))}}}}),f?n.createElement(jt.A,{src:i[c].src,previewList:i.map((function(e){return e.src}))}):null)},_t=(r(15360),r(20682),r(81260),r(97391)),$t=n.createContext({}),er={"gai-robot":"gai-robot--nLV5X","gai-md-iframe":"gai-md-iframe--vPWJE","gai-md-copy":"gai-md-copy--Dxwb_",rightSvg:"rightSvg--tkBoz",copySvg:"copySvg--jF7dc","gai-md-table-wrapper":"gai-md-table-wrapper--zk6Of",myTable:"myTable--xCZbR",gaiBlockQuote:"gaiBlockQuote--eP7yo",gaiUnorderList:"gaiUnorderList--uTTyN",gaiOrderList:"gaiOrderList--TL_C9","gai-markDown":"gai-markDown--cAfTS","gai-md-code":"gai-md-code--m1uRp","gai-md-code-header":"gai-md-code-header--WOWS5","gai-md-link":"gai-md-link--MB4Wj"};function tr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,l,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return rr(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?rr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var nr="gai-md",ar={dark:mt.A};function ir(e){var t,r=e.node,a=e.className,i=e.children,l=tr((0,n.useState)(!1),2),o=l[0],c=l[1],s=null!==(t=null==r?void 0:r.data)&&void 0!==t?t:{},f="javascript",m=/language-(\w+)/.exec(a||"");(0,n.useEffect)((function(){var e=null;return o&&(e=setTimeout((function(){c(!o)}),2e3)),function(){clearTimeout(e),e=null}}),[o]);return function(){if(null!=m&&m.length){var e,t="id_".concat((0,vt.A)()),r=f=null==m?void 0:m[1];return n.createElement("div",{className:er["".concat(nr,"-code")]},n.createElement("div",{className:er["".concat(nr,"-code-header")]},n.createElement("span",{style:{paddingLeft:"12px",flexGrow:1}},null!==(e=null==s?void 0:s.meta)&&void 0!==e?e:r),n.createElement("span",{style:{display:"flex",justifyContent:"flex-end",paddingRight:"10px",alignItems:"center"}},n.createElement("span",{style:{display:o?"inline-block":"none",fontSize:"12px",color:"#fff",marginRight:"4px"}},"已复制"),o?n.createElement(Ot,{className:u()(er["".concat(nr,"-copy")],er.rightSvg)}):n.createElement(bt,{title:"复制",className:u()(er["".concat(nr,"-copy")],er.copySvg),onClick:function(){return function(e){var t="#".concat(e," code"),r=document.querySelector(t),n=null==r?void 0:r.innerText;if(n)try{It(n),c(!0)}catch(e){}}(t)}}))),n.createElement(ft.A,{showLineNumbers:!1,lineNumberStyle:{color:"#ddd",fontSize:10},style:ar.dark,language:f,PreTag:"div",id:t},String(i).replace(/\n$/,"")))}return n.createElement(Vr,{content:i})}()}var lr=(0,n.memo)(ir);function or(e){var t=e.src,r=e.alt,a={};try{r&&(a=JSON.parse(r))}catch(e){a={type:"img",allImgs:[{src:t,alt:r}]}}var i=(0,n.useMemo)((function(){var e,t=null===(e=a)||void 0===e?void 0:e.allImgs;return null==t||t.forEach((function(e){return e.status="loading"})),t}),[a]),l=(0,n.useCallback)((function(e,t){var r=i.filter((function(t){return t.src===e}))[0];r&&(r.status=t)}),[a]),o={url:t,name:"test",imgList:i,changePicStatus:l};return n.createElement(n.Fragment,null,"iframe"===a.type?n.createElement("div",{className:er["".concat("gai-md","-iframe")]},n.createElement(Al,{data:{id:"323",value:t,type:"iframe"}})):n.createElement(gl,o))}var cr=(0,n.memo)(or);function ur(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,l,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return sr(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?sr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function fr(e){var t=e.text,r=e.href,a=ur((0,n.useState)(!1),2),i=a[0],l=a[1],o=r||t,c={cursor:i?"pointer":"normal"};return(0,n.useEffect)((function(){if(o&&"string"==typeof o){/^\s*(https?:\/\/)/.test(o)&&l(!0)}}),[o]),n.createElement("a",{onClick:function(){i&&window.open(o)},style:c,className:er["".concat("gai-md","-link")]},t)}var mr=(0,n.memo)(fr);function dr(e){var t,r=e.href,a=e.children;if(a)try{t=JSON.parse(a)}catch(e){t=null}if(!t)return n.createElement(mr,{text:a,href:r||""});var i=t,l=i.name,o=i.page,c=i.iconType,u=i.order,s=i.method,f=i.type,m=i.previewByCosmic,d=i.fileId,p={};if(p={id:(0,vt.A)(),type:"url",title:l,value:null!=r?r:"",order:u||null,method:s,previewByCosmic:m,page:o,fileId:d,iconType:null!=c?c:"document"},"form"===f){var v=t,y=v.formId,g=v.formName,A=v.billFormId,h=v.filters;p.billPars={formId:y,formName:g,billFormId:A,filters:h}}return n.createElement(yl,{data:p})}var pr=(0,n.memo)(dr);function vr(e){var t=e.children;return n.createElement("div",{className:er["".concat("gai-md","-table-wrapper")]},n.createElement("table",{className:er.myTable},t))}var yr,gr=(0,n.memo)(vr),Ar=(r(76185),r(65130),r(54561),r(69758),r(52336)),hr=["svgRef","title"];function br(){return br=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},br.apply(null,arguments)}var Er=function(e){var t=e.svgRef,r=e.title,a=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,hr);return n.createElement("svg",br({width:16,height:16,viewBox:"0 0 16 16",ref:t},a),r?n.createElement("title",null,r):null,yr||(yr=n.createElement("path",{d:"M14.433 4.12a.625.625 0 01.884.884L8.442 11.88a.625.625 0 01-.884 0L.683 5.004a.625.625 0 11.884-.883L8 10.554l6.433-6.433z",fill:"#000",fillRule:"nonzero"})))},Sr=n.forwardRef((function(e,t){return n.createElement(Er,br({svgRef:t},e))})),wr="container--dL_oq",Or="header--Wa1Ni",Ir="title--Du171",xr="headerArrow--vseDS",jr="knowledge--klFrG",kr="knowledgeItem--OEeqs",Cr="link--EIyQQ",Pr="knowledgeNoteWrap--LVTsD",Nr="knowledgeNote--qGxKl",Rr="tooltipContent--FFiRH",Lr="subheader--pW3SU",zr="custom-scrollbar--DpmSy",Br="gai-markDown--TvF1O",Mr="gai-robot--ltIG_";function Tr(e){return Tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tr(e)}var Fr=["src","alt"];function Qr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=Tr(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Tr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Tr(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ur(){return Ur=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ur.apply(null,arguments)}var Hr=function(e){var t=e.src,r=e.alt,a=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,Fr),i=(0,v.d4)((function(e){return e.globalSlice})).model;return n.createElement("img",Ur({src:function(e){var t=e;return/^https?:\/\/[^/]+/i.test(e)||(t=null!=i&&i.fileServer?i.fileServer+e.slice(1):e),t}(t),alt:r,loading:"lazy"},a))};function Dr(e){var t=e.title,r=e.content,a=e.url,i=e.fileId,l=e.cardData,o=(0,v.d4)((function(e){return e.globalSlice.model})),c=(0,v.wA)();return n.createElement("div",{className:u()(zr,Rr)},n.createElement("div",{className:u()(Qr(Qr({},Lr,!0),Cr,!["",void 0,null].includes(a))),onClick:function(){var e=(l||[]).find((function(e){return e.fileId===i}));e&&function(e){if("bill"!==e.type)if(e.previewByCosmic)null==o||o.invokeAsync("preview",{content:e.value,name:e.title,type:e.type,fileId:e.fileId});else if("autoJump"===e.method)window.open(e.value);else if("backend"===e.method){var t,r=null!==(t=null==e?void 0:e.billPars)&&void 0!==t?t:null;null==o||o.invokeAsync("showForm",r)}else if("bizAction"===e.method){var n=e.value;if("newPage"===e.page&&(n=n.replace("bizAction://",location.origin+location.pathname),window.open(encodeURI(Ut(n)))),"currentPage"===e.page){var a=Dt(Ut(e.value)),i=a.get("gaiShow"),l=a.get("gaiLock"),u=a.get("gaiAction"),s=a.get("gaiParams");if(i&&("0"===i&&c(C(!1)),"1"===i&&c(C(!0))),l&&("0"===l&&c(P(!1)),"1"===l&&c(P(!0))),u&&s)try{var f=JSON.parse(s);null==o||o.invokeAsync(u,f)}catch(e){}}}}(e)}},n.createElement(Ar.A,{className:Ir,reflowOnResize:!0,ellipsis:!0,text:t,dangerouslyUseInnerHTML:!0,maxLine:1}),!["",null,void 0].includes(a)&&n.createElement(Sr,null)),n.createElement(st.oz,{className:u()(Mr,Br),rehypePlugins:[dt.A],remarkPlugins:[pt.A],components:{img:function(e){return n.createElement(Hr,e)}}},r))}var Jr=function(e){var t=e.title,r=e.from,a=e.date,i=e.page,l=e.content,o=e.number,c=e.fileId,s=e.cardData;return s?n.createElement("span",{style:{display:"inline-block",marginLeft:"5px"}},n.createElement(Ke.A,{tip:n.createElement(Dr,{fileId:c,title:t,from:r,date:a,page:i,content:l,cardData:s}),popperStyle:{padding:"0px"},autoPlacement:!0,scrollHidden:!0,arrow:!1},n.createElement("div",{className:Pr},n.createElement("span",{className:u()(Cr,Nr)},o)))):n.createElement("span",{style:{display:"inline-block",marginLeft:"5px"}},n.createElement("div",{className:Pr},n.createElement("span",{className:Nr},o)))};function Gr(e){var t=e.children,r=e.id,a=y((function(e){return e.chatSlice})).chatList,i=(0,n.useMemo)((function(){var i=[];if(a.length){var l=a.find((function(e){return e.id===r}));l&&(i=l.card)}var o={};if(i.length&&i.forEach((function(e){e.superscript.forEach((function(t){o[String(t.number)]={title:e.title,fileId:e.fileId,number:t.number,page:t.page,content:t.content,url:null==e?void 0:e.value}}))})),"string"==typeof t){var c=t.slice(1,-1);if(c in o){var u=o[c];return n.createElement(Jr,{fileId:u.fileId,title:u.title,number:u.number,page:u.page,content:u.content,url:null==u?void 0:u.url,cardData:i})}return function(e){if("string"!=typeof e)return!1;var t=Number(e);return Number.isInteger(t)&&!Number.isNaN(t)}(c)?n.createElement(Jr,{number:c}):n.createElement("sup",null,e.children)}return n.createElement("sup",null,e.children)}),[a,e.children]);return n.createElement(n.Fragment,null,i)}function Wr(e,t){return e.id===t.id&&e.children===t.children}var Xr=n.memo(Gr,Wr);function Kr(e){var t=e.content,r=e.id;return n.createElement(st.oz,{className:u()(er["gai-robot"],er["gai-markDown"]),rehypePlugins:[dt.A],remarkPlugins:[pt.A],components:{sup:function(e){var t=e.children;return n.createElement(Xr,{id:r},t)},a:function(e){var t=e.href,r=e.children;return n.createElement(pr,{href:t},r)},img:cr,table:function(e){var t={node:e.node,children:e.children};return n.createElement(gr,t)},blockquote:function(e){var t=e.children;return n.createElement("blockquote",{className:er.gaiBlockQuote},t)},ul:function(e){var t=e.children;return n.createElement("ul",{className:er.gaiUnorderList},t)},ol:function(e){var t=e.children;return n.createElement("ol",{className:er.gaiOrderList},t)},li:function(e){var t=e.children,r=null;return r=Array.isArray(t)?n.createElement("li",null,t.map((function(e){return"string"==typeof e&&e&&e.includes("\n")?e.split("\n").map((function(e,r){return n.createElement(n.Fragment,{key:r},e,r<t.length-1&&e&&n.createElement("br",null))})):e}))):n.createElement("li",null,t),n.createElement(n.Fragment,null,r)},code:function(e){return n.createElement(lr,e)}}},t)}var Yr,Vr=(0,n.memo)(Kr),Zr=["svgRef","title"];function qr(){return qr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qr.apply(null,arguments)}var _r,$r=function(e){var t=e.svgRef,r=e.title,a=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,Zr);return n.createElement("svg",qr({width:12.652,height:12.652,viewBox:"0 0 12.652 12.652",ref:t},a),r?n.createElement("title",null,r):null,Yr||(Yr=n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{d:"M-1.8-1.8h16v16h-16z"}),n.createElement("path",{d:"M11.983.67c1.107 1.106.793 3.337-.596 5.656 1.39 2.318 1.703 4.55.596 5.657-1.108 1.107-3.34.793-5.658-.597-2.317 1.39-4.549 1.704-5.656.597-1.107-1.107-.793-3.339.596-5.657C-.125 4.008-.438 1.776.669.67c1.108-1.107 3.34-.793 5.658.597 2.317-1.39 4.549-1.704 5.656-.597zM10.77 7.261l-.102.139c-.439.595-.946 1.185-1.514 1.753a15.474 15.474 0 01-1.892 1.616c1.776.965 3.348 1.17 4.014.506.665-.666.46-2.238-.506-4.014zm-8.888 0l-.04.075C.91 9.082.72 10.62 1.375 11.276c.665.665 2.238.46 4.014-.506a15.464 15.464 0 01-1.892-1.616 15.474 15.474 0 01-1.616-1.892zM6.326 2.45l-.1.068a14.315 14.315 0 00-2.021 1.687A14.253 14.253 0 002.45 6.326a14.295 14.295 0 001.755 2.121c.692.692 1.413 1.28 2.121 1.755a14.295 14.295 0 002.121-1.755 14.253 14.253 0 001.754-2.12 14.198 14.198 0 00-1.754-2.122A14.253 14.253 0 006.326 2.45zm.015 2.39a1.5 1.5 0 110 3 1.5 1.5 0 010-3zM1.376 1.377c-.665.665-.46 2.238.506 4.014a15.464 15.464 0 011.616-1.892A15.474 15.474 0 015.39 1.882C3.614.916 2.041.711 1.376 1.376zm5.961.465l-.075.041c.642.462 1.28 1.003 1.892 1.616.613.612 1.154 1.25 1.616 1.892.965-1.776 1.171-3.349.506-4.014-.656-.656-2.194-.465-3.939.465z",fill:"#212121",fillRule:"nonzero"}))))},en=n.forwardRef((function(e,t){return n.createElement($r,qr({svgRef:t},e))})),tn=["svgRef","title"];function rn(){return rn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rn.apply(null,arguments)}var nn,an=function(e){var t=e.svgRef,r=e.title,a=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,tn);return n.createElement("svg",rn({width:16,height:16,viewBox:"0 0 16 16",ref:t},a),r?n.createElement("title",null,r):null,_r||(_r=n.createElement("path",{d:"M13.84 5.854a.471.471 0 000-.708.583.583 0 00-.72-.041l-.051.041L8 9.793 2.931 5.146a.583.583 0 00-.72-.041l-.051.041a.47.47 0 00-.046.66l.046.048 5.454 5c.197.18.506.194.72.041l.052-.041 5.454-5z",fill:"#666",fillRule:"evenodd"})))},ln=n.forwardRef((function(e,t){return n.createElement(an,rn({svgRef:t},e))})),on=["svgRef","title"];function cn(){return cn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cn.apply(null,arguments)}var un,sn=function(e){var t=e.svgRef,r=e.title,a=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,on);return n.createElement("svg",cn({width:16,height:16,viewBox:"0 0 16 16",ref:t},a),r?n.createElement("title",null,r):null,nn||(nn=n.createElement("path",{d:"M8 1a7 7 0 110 14A7 7 0 018 1zm2.821 4.164c-.256-.256-.477-.215-.705.013L8 7.293 5.884 5.177l-.045-.043c-.212-.189-.42-.209-.66.03l-.048.051c-.206.235-.183.44.046.67L7.293 8l-2.116 2.116c-.223.223-.261.457-.006.712.256.256.486.222.713-.005L8 8.707l2.116 2.116.045.043c.212.187.43.2.668-.038l.047-.05c.202-.237.155-.454-.053-.662L8.707 8l2.116-2.116c.246-.245.254-.463-.002-.72z",fill:"#666",fillRule:"evenodd"})))},fn=n.forwardRef((function(e,t){return n.createElement(sn,cn({svgRef:t},e))})),mn=["svgRef","title"];function dn(){return dn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dn.apply(null,arguments)}var pn,vn=function(e){var t=e.svgRef,r=e.title,a=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,mn);return n.createElement("svg",dn({width:16,height:16,viewBox:"0 0 16 16",ref:t},a),r?n.createElement("title",null,r):null,un||(un=n.createElement("path",{d:"M8 1a7 7 0 110 14A7 7 0 018 1zm0 10a.75.75 0 100 1.5.75.75 0 000-1.5zm0-7.5a.5.5 0 00-.5.5v5.5a.5.5 0 001 0V4a.5.5 0 00-.5-.5z",fill:"#FF991C",fillRule:"evenodd"})))},yn=n.forwardRef((function(e,t){return n.createElement(vn,dn({svgRef:t},e))})),gn=["svgRef","title"];function An(){return An=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},An.apply(null,arguments)}var hn,bn=function(e){var t=e.svgRef,r=e.title,a=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,gn);return n.createElement("svg",An({width:16,height:16,viewBox:"0 0 16 16",ref:t},a),r?n.createElement("title",null,r):null,pn||(pn=n.createElement("path",{d:"M8 1a7 7 0 110 14A7 7 0 018 1zm3.304 4.133a.546.546 0 00-.779.066L6.898 9.563l-1.42-1.736-.04-.042a.546.546 0 00-.74-.03.57.57 0 00-.07.793l1.842 2.25.038.042a.546.546 0 00.809-.04l4.052-4.874.035-.046a.57.57 0 00-.1-.747z",fill:"#1BA854",fillRule:"evenodd"})))},En=n.forwardRef((function(e,t){return n.createElement(bn,An({svgRef:t},e))})),Sn=["svgRef","title"];function wn(){return wn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wn.apply(null,arguments)}var On,In,xn=function(e){var t=e.svgRef,r=e.title,a=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,Sn);return n.createElement("svg",wn({width:16,height:16,viewBox:"0 0 16 16",ref:t},a),r?n.createElement("title",null,r):null,hn||(hn=n.createElement("path",{d:"M8 1a7 7 0 110 14A7 7 0 018 1zm0 10a.75.75 0 100 1.5.75.75 0 000-1.5zm0-7.5a.5.5 0 00-.5.5v5.5a.5.5 0 001 0V4a.5.5 0 00-.5-.5z",fill:"#FB2323",fillRule:"evenodd"})))},jn=n.forwardRef((function(e,t){return n.createElement(xn,wn({svgRef:t},e))})),kn=["svgRef","title"];function Cn(){return Cn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cn.apply(null,arguments)}var Pn=function(e){var t=e.svgRef,r=e.title,a=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,kn);return n.createElement("svg",Cn({width:16,height:16,viewBox:"0 0 16 16",ref:t},a),r?n.createElement("title",null,r):null,On||(On=n.createElement("defs",null,n.createElement("path",{d:"M7 0a7 7 0 110 14A7 7 0 017 0zm0 1.867a5.133 5.133 0 100 10.266A5.133 5.133 0 007 1.867z",id:"stepLoading_svg__a"}))),In||(In=n.createElement("g",{transform:"translate(1 1)",fill:"none",fillRule:"evenodd"},n.createElement("mask",{id:"stepLoading_svg__b",fill:"#fff"},n.createElement("use",{xlinkHref:"#stepLoading_svg__a"})),n.createElement("use",{fill:"#D9D9D9",fillRule:"nonzero",xlinkHref:"#stepLoading_svg__a"}),n.createElement("path",{d:"M7 0a7 7 0 11-7 7h1.867A5.133 5.133 0 107 1.867V0z",fill:"#5582F3",fillRule:"nonzero",mask:"url(#stepLoading_svg__b)"}))))},Nn=n.forwardRef((function(e,t){return n.createElement(Pn,Cn({svgRef:t},e))})),Rn="container--uM1Op",Ln="rotating-div--D0nlB",zn="waiting--VW3WF",Bn="waitingArea--oBGht";var Mn=function(e){var t=e.children;return n.createElement("div",{className:Rn},n.createElement(Nn,{className:Ln}),n.createElement("div",null,t))},Tn={"gai-rsc-wrapper":"gai-rsc-wrapper--RuMqz","gai-rsc-wrapper-expand":"gai-rsc-wrapper-expand--IawqP","gai-rsc-wrapper-expand-inner":"gai-rsc-wrapper-expand-inner--iAzw0","gai-rsc-statusBar":"gai-rsc-statusBar--BsKNd","gai-rsc-status":"gai-rsc-status--LrF5M","gai-rsc-stepName":"gai-rsc-stepName--GcnQV","gai-rsc-step-item":"gai-rsc-step-item--LtXMM","gai-rsc-step-item-header":"gai-rsc-step-item-header--OgYRR",retract:"retract--Cv3Po",expand:"expand--wXQIO","gai-rsc-step-item-desc":"gai-rsc-step-item-desc--pKakY","gai-rsc-success":"gai-rsc-success--w5YI3","gai-rsc-error":"gai-rsc-error--vtPff","gai-rsc-cancel":"gai-rsc-cancel--qaWmB","gai-rsc-warning":"gai-rsc-warning--FICPD","gai-rsc-waiting":"gai-rsc-waiting--Dv9bb","gai-ds-think":"gai-ds-think--witWX","deepseek-think":"deepseek-think--TNaZB","ds-think-icon":"ds-think-icon--bLnjp","deepseek-think-expand":"deepseek-think-expand--Y30BT","ds-think-content":"ds-think-content--nnnLa"};function Fn(){return Fn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fn.apply(null,arguments)}function Qn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,l,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Un(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Un(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Un(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Hn="gai-rsc",Dn=function(e){return e.IN_PROGRESS="in_progress",e.CANCELLED="cancelled",e.FAILED="failed",e.COMPLETED="completed",e.EXPIRED="expired",e}({}),Jn=n.memo((function(e){var t=e.stepTypeName,r=e.status,a=e.isExpand,i=e.handleExpand,l=null;switch(r){case Dn.IN_PROGRESS:l=n.createElement(Mn,null);break;case Dn.CANCELLED:l=n.createElement(fn,null);break;case Dn.FAILED:l=n.createElement(jn,null);break;case Dn.COMPLETED:l=n.createElement(En,null);break;case Dn.EXPIRED:l=n.createElement(yn,null)}return n.createElement("div",{className:Tn["".concat(Hn,"-step-item-header")],onClick:function(){null==i||i()}},n.createElement("div",{style:{display:"flex",alignItems:"center"}},l),n.createElement("span",{className:Tn["".concat(Hn,"-stepName")]},t),n.createElement("span",null,a?n.createElement(ut,{type:"default",style:{transform:"rotate(180deg)"}},n.createElement(ln,null)):n.createElement(ut,{type:"default"},n.createElement(ln,null))))}));Jn.displayName="gai-statusBar";var Gn=n.forwardRef((function(e){var t,r,a=Qn((0,n.useState)(!1),2),i=a[0],l=a[1],o=(0,n.useRef)(null),c=e.runStepId,u=e.message,s=(0,n.useCallback)((function(){l((function(e){return!e}))}),[e.runStepId]);return(0,n.useEffect)((function(){!function(t){if(t&&o.current){var r,n=null===(r=o.current)||void 0===r?void 0:r.getBoundingClientRect(),a=Kn(u);if("number"==typeof a){var i;null==e||null===(i=e.changeHeight)||void 0===i||i.call(e,a)}else{var l,c,s=a(null==o?void 0:o.current,null!==(l=null==n?void 0:n.width)&&void 0!==l?l:300);s&&(null==e||null===(c=e.changeHeight)||void 0===c||c.call(e,s))}}else{var f,m=Kn(u);"number"==typeof m&&(null==e||null===(f=e.changeHeight)||void 0===f||f.call(e,-m))}}(i)}),[i]),n.createElement("div",{key:c,className:Tn["".concat(Hn,"-step-item")]},n.createElement(Jn,{status:e.stepStatus,stepTypeName:e.stepTypeName,isExpand:i,handleExpand:s}),n.createElement("div",{ref:o,className:Tn["".concat(Hn,"-step-item-desc")],style:i?{height:"in_progress"===e.stepStatus?"auto":"".concat(null!==(t=null===(r=o.current)||void 0===r?void 0:r.scrollHeight)&&void 0!==t?t:10,"px")}:{height:0}},n.createElement("div",{style:{padding:"8px 0"}},n.createElement(Vr,{content:u}))))}));function Wn(e){var t=e.list,r=y((function(e){return e.chatSlice})).isChat,a=Qn((0,n.useState)(!1),2),i=a[0],l=a[1],o=Qn((0,n.useState)("completed"),2),c=o[0],u=o[1],s=(0,n.useRef)(null),f=(0,n.useRef)(0);(0,n.useEffect)((function(){var e,n,a=null!==(e=null==t||null===(n=t[0])||void 0===n?void 0:n.runId)&&void 0!==e?e:"";if(r.isRunStepLoading&&a===r.runId)u(Dn.IN_PROGRESS);else{var i=Se(t,(function(e){return e.stepStatus===Dn.IN_PROGRESS}));u(i?Dn.IN_PROGRESS:Dn.COMPLETED)}}),[r.isRunStepLoading,r.runId]);var m=(0,n.useCallback)((function(e){var t=f.current+e;f.current=t}),[]);return n.createElement("div",{className:Tn["".concat(Hn,"-wrapper")]},n.createElement(Jn,{status:c,stepTypeName:c===Dn.IN_PROGRESS?"执行中...":"执行完成",isExpand:i,handleExpand:function(){l((function(e){return!e}))}}),n.createElement("div",{className:Tn["".concat(Hn,"-wrapper-expand")],ref:s,style:i?{height:"auto"}:{}},n.createElement("div",{className:Tn["".concat(Hn,"-wrapper-expand-inner")]},t.map((function(e){return n.createElement(Gn,Fn({},e,{key:e.id,changeHeight:m}))})))))}Gn.displayName="gai-runstepItemStatus";var Xn={};function Kn(e){return e in Xn?Xn[e]:function(t,r){var n=t.cloneNode(!0),a=document.createElement("DIV");a.className=Tn["".concat(Hn,"-step-item-desc")];var i=null==n?void 0:n.firstElementChild;if(i){i.style.visibility="hidden",a.style.position="absolute",a.style.right="0px",a.style.width="".concat(r,"px"),a.appendChild(i),document.body.appendChild(a);var l=(null==a?void 0:a.getBoundingClientRect()).height;return l=l>0?l:10,Xn[e]=l,document.body.removeChild(a),l}}}var Yn=n.memo((function(e){var t=e.data,r=t.status,a=t.message,i=Qn((0,n.useState)(!0),2),l=i[0],o=i[1],c=(0,n.useMemo)((function(){var e=a.map((function(e){return e.data})).join("");return e=Mt(e)}),[a]);return n.createElement("div",{className:Tn["gai-ds-think"]},n.createElement("div",{className:Tn["ds-think-title"]},n.createElement("div",{className:Tn["deepseek-think"],onClick:function(){o((function(e){return!e}))}},n.createElement(en,{className:Tn["ds-think-icon"]}),n.createElement("span",null,0===r?"思考中...":1===r?"已深度思考":"思考已停止"),n.createElement("span",{className:Tn["deepseek-think-expand"]},l?n.createElement(ut,{type:"default",style:{transform:"rotate(180deg)"}},n.createElement(ln,null)):n.createElement(ut,{type:"default"},n.createElement(ln,null))))),n.createElement("div",{className:Tn["ds-think-content"],style:l?{height:"auto"}:{height:0}},n.createElement(Vr,{content:c})),0===r?n.createElement(Mn,null,n.createElement("span",{style:{color:"#666",fontSize:"14px",marginLeft:"4px"}},"加载中")):null)}));Yn.displayName="gai-deepseekthingking";var Vn=n.memo(Wn);Vn.displayName="gai-runstatuscard";var Zn,qn=Vn,_n=r.p+"gai_h5_chat/assets/defaultSkillImg.d17f90a2eca8b13264ee.png",$n=["svgRef","title"];function ea(){return ea=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ea.apply(null,arguments)}var ta=function(e){var t=e.svgRef,r=e.title,a=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,$n);return n.createElement("svg",ea({width:16,height:16,viewBox:"0 0 16 16",ref:t},a),r?n.createElement("title",null,r):null,Zn||(Zn=n.createElement("path",{d:"M4.18 10.984l.114-.113-2.966-2.994a1.143 1.143 0 01-.3-.833.936.936 0 01.375-.758 5.56 5.56 0 015.179-1.061l2.702-2.122a3.352 3.352 0 01.525-1.667l.15-.151c.43-.38 1.071-.38 1.501 0l3.228 3.182a.907.907 0 01.3.834c-.026.309-.193.589-.45.757a3.276 3.276 0 01-1.652.53l-2.101 2.729a5.725 5.725 0 01-1.126 5.228l-.075.076a1.08 1.08 0 01-1.501 0l-2.917-3.01-1.799 1.799c-.172.173-.494.356-.826.024-.36-.359-.082-.729.02-.83l1.619-1.62zm4.653 2.804a4.616 4.616 0 00.75-4.395L9.51 9.09l2.852-3.638h.375c.396.007.786-.098 1.126-.303l-3.077-3.107a2.24 2.24 0 00-.3 1.213v.303l-3.603 2.88-.3-.076a4.503 4.503 0 00-4.353.757l6.604 6.669z",fill:"#666",fillRule:"nonzero"})))},ra=n.forwardRef((function(e,t){return n.createElement(ta,ea({svgRef:t},e))})),na="skillFix--wJ6rK",aa="skill--lHLKP",ia="hasFix--Djq9x",la="img--l14yr",oa="text--cPZEA",ca="fix--aJllz",ua="isFixed--gcJfU",sa="show--4eQWY",fa="skillFixTooltip--BjoLF";function ma(e){return ma="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ma(e)}function da(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=ma(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ma(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ma(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,l,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return va(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?va(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function va(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ya(e){var t=y((function(e){return e.globalSlice})),r=t.currentSkill,a=t.assistantId,i=t.skillList,l=y((function(e){return e.chatSlice})).isChat,o=e.skillInfo,c=pa((0,n.useState)(!1),2),s=c[0],f=c[1],m=T("setCurrentSkill"),d=(null==o?void 0:o.id)!==a,p=(null==o?void 0:o.id)===r.id,v=function(){f(!0)},g=function(){f(!1)};(0,n.useEffect)((function(){return function(){f(!1)}}),[]);var A=function(){return n.createElement("div",{className:u()(aa,da({},ia,d)),title:p||null==o?void 0:o.name,onClick:function(){if(d&&!l.status)if(p)m({});else{var e=i.find((function(e){return e.id===(null==o?void 0:o.id)}));e&&m(e)}},onMouseEnter:v,onMouseLeave:g},n.createElement("span",{className:la},n.createElement(Te,{height:16,width:16,isAvatar:!1,name:(null==o?void 0:o.name)||"",url:(null==o?void 0:o.picture)||_n})),n.createElement("span",{className:oa},null==o?void 0:o.name),d?n.createElement("div",{className:u()(ca,da(da({},ua,p),sa,s))},n.createElement(ut,{type:"face",style:{transform:"rotate(".concat(p?"-45":"0","deg)")},iconClassName:p?ua:"",size:15},n.createElement(ra,null))):null)};return n.createElement("div",{className:u()(na)},d?n.createElement(Ke.A,{tip:p?"取消锁定":"锁定该智能体进行回答",autoPlacement:!0,scrollHidden:!0,className:u()(fa)},A()):A())}var ga,Aa=(0,n.memo)(ya),ha="answer--nS5ih",ba="answerBottom--_CKdz",Ea="end--ipMjc",Sa="feedback--IDHIc",wa=["svgRef","title"];function Oa(){return Oa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oa.apply(null,arguments)}var Ia,xa,ja=function(e){var t=e.svgRef,r=e.title,a=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,wa);return n.createElement("svg",Oa({width:16,height:16,viewBox:"0 0 16 16",ref:t},a),r?n.createElement("title",null,r):null,ga||(ga=n.createElement("path",{d:"M8 7.105l-4.92-4.92a.633.633 0 00-.895.895L7.105 8l-4.92 4.92a.633.633 0 00.895.895L8 8.895l4.92 4.92a.633.633 0 10.895-.895L8.895 8l4.92-4.92a.633.633 0 00-.895-.895L8 7.105z",fill:"#666",fillRule:"nonzero"})))},ka=n.forwardRef((function(e,t){return n.createElement(ja,Oa({svgRef:t},e))})),Ca=["svgRef","title"];function Pa(){return Pa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pa.apply(null,arguments)}var Na=function(e){var t=e.svgRef,r=e.title,a=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,Ca);return n.createElement("svg",Pa({width:32,height:32,viewBox:"0 0 32 32",ref:t},a),r?n.createElement("title",null,r):null,Ia||(Ia=n.createElement("defs",null,n.createElement("filter",{x:"-75%",y:"-150%",width:"250%",height:"400%",filterUnits:"objectBoundingBox",id:"dislike_svg__b"},n.createElement("feGaussianBlur",{stdDeviation:1.333,in:"SourceGraphic"})),n.createElement("filter",{x:"-75%",y:"-150%",width:"250%",height:"400%",filterUnits:"objectBoundingBox",id:"dislike_svg__c"},n.createElement("feGaussianBlur",{stdDeviation:1.333,in:"SourceGraphic"})),n.createElement("linearGradient",{x1:"50%",y1:"0%",x2:"50%",y2:"91.292%",id:"dislike_svg__a"},n.createElement("stop",{stopColor:"#FFEF8A",offset:"0%"}),n.createElement("stop",{stopColor:"#FDC200",offset:"100%"})))),xa||(xa=n.createElement("g",{transform:"translate(2 2)",fill:"none",fillRule:"evenodd"},n.createElement("circle",{stroke:"#FFF",fill:"url(#dislike_svg__a)",cx:14,cy:14,r:13.5}),n.createElement("ellipse",{fill:"#FFA97A",fillRule:"nonzero",filter:"url(#dislike_svg__b)",cx:21,cy:16.667,rx:2.667,ry:1.333}),n.createElement("ellipse",{fill:"#FFA97A",fillRule:"nonzero",filter:"url(#dislike_svg__c)",cx:7,cy:16.667,rx:2.667,ry:1.333}),n.createElement("g",{transform:"translate(8.5 11.5)",fill:"#404040"},n.createElement("ellipse",{cx:1.25,cy:2,rx:1.25,ry:2}),n.createElement("ellipse",{cx:9.25,cy:2,rx:1.25,ry:2})),n.createElement("path",{d:"M14.219 17.425c1.221 0 2.25.487 3.027 1.432a.75.75 0 01-1.159.953c-.492-.6-1.096-.885-1.868-.885-.776 0-1.394.289-1.909.894a.75.75 0 01-1.142-.972c.798-.938 1.833-1.422 3.051-1.422zM10.054 7.519a.75.75 0 111.034 1.086 6.2 6.2 0 01-1.43.997c-.578.3-1.346.526-2.312.688a.75.75 0 01-.248-1.479c.824-.139 1.45-.322 1.869-.54.438-.228.8-.479 1.087-.752zM17.406 7.519a.75.75 0 10-1.034 1.086 6.2 6.2 0 001.43.997c.578.3 1.345.526 2.311.688a.75.75 0 00.249-1.479c-.824-.139-1.45-.322-1.87-.54a4.719 4.719 0 01-1.086-.752z",fill:"#404040",fillRule:"nonzero"}))))},Ra=n.forwardRef((function(e,t){return n.createElement(Na,Pa({svgRef:t},e))})),La="feedback--r29Ki",za="wrapper--oBizK",Ba="isLike--ZSkIv",Ma="like--Ssccz",Ta="icon--vfvuA",Fa="text--K6yhA",Qa="disLike--nGkZw",Ua="header--zyHXv",Ha="close--c3_up",Da="tags--Th3cp",Ja="tag--MLyA1",Ga="selected--qLZwj",Wa="inputWrapper--WN1gL",Xa="bottom--CiHNd",Ka="submit--QQxnG";function Ya(e){return Ya="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ya(e)}function Va(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=Ya(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Ya(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ya(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Za(e){return function(e){if(Array.isArray(e))return $a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,l,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw a}}return o}}(e,t)||_a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _a(e,t){if(e){if("string"==typeof e)return $a(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$a(e,t):void 0}}function $a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var ei=[{value:1,text:"内容不准确"},{value:2,text:"答非所问"},{value:3,text:"操作不方便"}],ti=255-ei.reduce((function(e,t){return e+(t.text.length+1)}),0);function ri(e){var t=e.status,r=e.submited,a=e.handleSubmit,i=qa((0,n.useState)(""),2),l=i[0],o=i[1],c=qa((0,n.useState)([]),2),s=c[0],f=c[1],m=function(){l&&o(""),s.length&&f([])};return(0,n.useEffect)((function(){r&&2===t&&m()}),[t,r]),r&&2===t?null:n.createElement("div",{className:Qa},r?n.createElement("span",{className:Fa},"感谢你的反馈！"):n.createElement(n.Fragment,null,n.createElement("div",{className:Ua},n.createElement(Ra,{className:Ta}),n.createElement("span",{className:Fa},"很抱歉没有帮助到你，请问存在什么问题？"),n.createElement(ut,{bgClassName:Ha,onClick:function(){m(),a()}},n.createElement(ka,null))),n.createElement("div",{className:Da},ei.map((function(e){var t=s.findIndex((function(t){return t===e.text}));return n.createElement("span",{key:e.value,className:u()(Ja,Va({},Ga,t>-1)),onClick:function(){f(t>-1?function(e){var r=Za(e);return r.splice(t,1),r}:[].concat(Za(s),[e.text]))}},e.text)}))),n.createElement("div",{className:Wa},n.createElement("input",{type:"text",maxLength:ti,value:l,onChange:function(e){return o(e.target.value)},placeholder:"提供更详细的反馈意见"})),n.createElement("div",{className:Xa},n.createElement("span",{className:Ka,onClick:function(){a([].concat(Za(s),[l]).join(","))}},"提交"))))}var ni,ai,ii=n.memo(ri),li=["svgRef","title"];function oi(){return oi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oi.apply(null,arguments)}var ci=function(e){var t=e.svgRef,r=e.title,a=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,li);return n.createElement("svg",oi({width:32,height:32,viewBox:"0 0 32 32",ref:t},a),r?n.createElement("title",null,r):null,ni||(ni=n.createElement("defs",null,n.createElement("linearGradient",{x1:"50%",y1:"0%",x2:"50%",y2:"91.292%",id:"like_svg__a"},n.createElement("stop",{stopColor:"#FFEF8A",offset:"0%"}),n.createElement("stop",{stopColor:"#FDC200",offset:"100%"})),n.createElement("linearGradient",{x1:"50%",y1:"0%",x2:"50%",y2:"77.5%",id:"like_svg__e"},n.createElement("stop",{stopColor:"#FF7686",offset:"0%"}),n.createElement("stop",{stopColor:"#E76F7D",offset:"19.684%"}),n.createElement("stop",{stopColor:"#D06975",offset:"29.636%"}),n.createElement("stop",{stopColor:"#404040",offset:"100%"})),n.createElement("filter",{x:"-75%",y:"-150%",width:"250%",height:"400%",filterUnits:"objectBoundingBox",id:"like_svg__b"},n.createElement("feGaussianBlur",{stdDeviation:1.333,in:"SourceGraphic"})),n.createElement("filter",{x:"-75%",y:"-150%",width:"250%",height:"400%",filterUnits:"objectBoundingBox",id:"like_svg__c"},n.createElement("feGaussianBlur",{stdDeviation:1.333,in:"SourceGraphic"})),n.createElement("path",{d:"M0 1a32.9 32.9 0 018-1 32.9 32.9 0 018 1 7.807 7.807 0 01-7.807 7.806h-.386A7.807 7.807 0 010 1z",id:"like_svg__d"}))),ai||(ai=n.createElement("g",{transform:"translate(2 2)",fill:"none",fillRule:"evenodd"},n.createElement("circle",{stroke:"#FFF",fill:"url(#like_svg__a)",cx:14,cy:14,r:13.5}),n.createElement("ellipse",{fill:"#FFA97A",fillRule:"nonzero",filter:"url(#like_svg__b)",cx:6,cy:11.333,rx:2.667,ry:1.333}),n.createElement("ellipse",{fill:"#FFA97A",fillRule:"nonzero",filter:"url(#like_svg__c)",cx:23.333,cy:11.333,rx:2.667,ry:1.333}),n.createElement("path",{d:"M8.638 7.729c1.032-.145 1.987.408 2.853 1.533a.75.75 0 01-1.188.915c-.57-.74-1.052-1.02-1.456-.963-.404.057-.79.458-1.134 1.327A.75.75 0 116.32 9.99c.522-1.32 1.287-2.115 2.32-2.26zM19.17 7.729c-1.031-.145-1.986.408-2.852 1.533a.75.75 0 101.188.915c.57-.74 1.052-1.02 1.456-.963.404.057.79.458 1.134 1.327a.75.75 0 101.395-.552c-.523-1.32-1.288-2.115-2.32-2.26z",fill:"#404040",fillRule:"nonzero"}),n.createElement("g",{transform:"translate(6 13.293)"},n.createElement("mask",{id:"like_svg__f",fill:"#fff"},n.createElement("use",{xlinkHref:"#like_svg__d"})),n.createElement("use",{fill:"#404040",xlinkHref:"#like_svg__d"}),n.createElement("circle",{fill:"url(#like_svg__e)",fillRule:"nonzero",mask:"url(#like_svg__f)",cx:8,cy:11.374,r:6.667}),n.createElement("path",{d:"M5.333-.626h5.334V.707c0 .737-.597 1.334-1.334 1.334H6.667A1.333 1.333 0 015.333.707V-.626z",fill:"#FFF",mask:"url(#like_svg__f)"})))))},ui=n.forwardRef((function(e,t){return n.createElement(ci,oi({svgRef:t},e))}));function si(e){return 2===e.status?null:n.createElement("div",{className:Ma},n.createElement(ui,{className:Ta}),n.createElement("span",{className:Fa},"感谢你的反馈！"))}var fi=n.memo(si);function mi(e){return mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mi(e)}function di(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=mi(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=mi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==mi(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,l,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return vi(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?vi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function yi(e){var t=e.style,r=e.className,a=e.showType,i=e.showStatus,l=e.handleSubmit,o=pi((0,n.useState)(!1),2),c=o[0],s=o[1],f=function(){c&&s(!1)};(0,n.useEffect)((function(){f()}),[a]),(0,n.useEffect)((function(){1===i&&(2!==a||c||(null==l||l({showType:a}),f()))}),[i,c]);var m=(0,n.useRef)(null);return 1===i?null:n.createElement("div",{className:u()(r,za,di({},Ba,1===a)),style:t,ref:m},1===a?n.createElement(fi,{status:i}):2===a?n.createElement(ii,{status:i,submited:c,handleSubmit:function(e){s(!0),null==l||l({showType:a,reason:e})}}):null)}var gi,Ai=n.memo(yi),hi=["svgRef","title"];function bi(){return bi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bi.apply(null,arguments)}var Ei,Si=function(e){var t=e.svgRef,r=e.title,a=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,hi);return n.createElement("svg",bi({className:"copyRight_svg__icon",width:200,height:200,style:{verticalAlign:"middle"},viewBox:"0 0 1024 1024",fill:"currentColor",overflow:"hidden",ref:t},a),r?n.createElement("title",null,r):null,gi||(gi=n.createElement("path",{d:"M107.143 892.729c0-.129 357.121-.065 785.586.128-.129 0-.065-357.121.128-785.586 0 .129-357.121.065-785.586-.128.129 0 .065 357.121-.128 785.586zM35.714 101.32c0-36.142 29.857-65.607 65.607-65.607H898.68c36.142 0 65.607 29.857 65.607 65.607V898.68c0 36.142-29.857 65.607-65.607 65.607H101.32c-36.159-.18-65.428-29.448-65.607-65.607V101.32zm660.67 189.543c14.46-16.763 40.034-18.854 57.122-4.67 16.02 13.298 18.894 36.179 7.277 52.8l-2.517 3.235L461.04 686.816c-15.366 17.814-42.696 18.706-59.27 2.76l-2.808-2.99-135.103-159.04c-14.33-16.868-12.006-41.94 5.19-55.997 16.121-13.18 39.592-12 54.27 2.099l2.814 2.991 104.182 122.654 266.07-308.43z"})))},wi=n.forwardRef((function(e,t){return n.createElement(Si,bi({svgRef:t},e))})),Oi=["svgRef","title"];function Ii(){return Ii=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ii.apply(null,arguments)}var xi,ji=function(e){var t=e.svgRef,r=e.title,a=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,Oi);return n.createElement("svg",Ii({width:16,height:16,viewBox:"0 0 16 16",ref:t},a),r?n.createElement("title",null,r):null,Ei||(Ei=n.createElement("path",{d:"M2.5 2c-.276 0-.5.315-.5.704v6.592c0 .389.224.704.5.704h1.716l.156.04c.78.214 1.726.637 2.102 1.19l.133.228a3.2 3.2 0 01.349.95c.043.248.091.495.145.742l.084.37c.203 1.058.862 1.48 1.489 1.48 1.979 0 2.94-1.326 2.84-3.793l-.011-.171-.04-.473h1.974c.95 0 1.508-.202 1.56-.845l.003-.1-.003-.032-1.336-6.653C13.476 2.37 12.85 2 12.154 2zm6.174 12c-.203 0-.376-.137-.486-.57l-.03-.14a18.253 18.253 0 01-.217-1.054 3.85 3.85 0 00-.251-.834l-.117-.251c-.097-.196-.19-.366-.126-.235-.378-.765-1.278-1.338-2.335-1.697L5 9.183V3h7.154c.265 0 .464.102.535.202l.01.022 1.269 6.302-.045.007a2.896 2.896 0 01-.34.027l-.146.002-3.06.001.139 1.684C10.595 13.21 10.008 14 8.674 14zM4 9H3V3h1v6z",fill:"#666",fillRule:"evenodd"})))},ki=n.forwardRef((function(e,t){return n.createElement(ji,Ii({svgRef:t},e))})),Ci=["svgRef","title"];function Pi(){return Pi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pi.apply(null,arguments)}var Ni=function(e){var t=e.svgRef,r=e.title,a=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,Ci);return n.createElement("svg",Pi({width:16,height:16,viewBox:"0 0 16 16",ref:t},a),r?n.createElement("title",null,r):null,xi||(xi=n.createElement("path",{d:"M2.5 14c-.276 0-.5-.315-.5-.704V6.704C2 6.315 2.224 6 2.5 6h1.716l.156-.04c.78-.214 1.726-.637 2.102-1.19l.133-.228a3.2 3.2 0 00.349-.95c.043-.248.091-.495.145-.742l.084-.37C7.388 1.422 8.047 1 8.674 1c1.979 0 2.94 1.326 2.84 3.793l-.011.171-.04.473h1.974c.95 0 1.508.202 1.56.845l.003.1-.003.032-1.336 6.653c-.185.563-.81.933-1.507.933zM8.674 2c-.203 0-.376.137-.486.57l-.03.14c-.083.351-.156.703-.217 1.054a3.85 3.85 0 01-.251.834l-.117.251c-.097.196-.19.366-.126.235-.378.765-1.278 1.338-2.335 1.697L5 6.817V13h7.154c.265 0 .464-.102.535-.202l.01-.022 1.269-6.302-.045-.007a2.896 2.896 0 00-.34-.027l-.146-.002-3.06-.001.139-1.684C10.595 2.79 10.008 2 8.674 2zM4 7H3v6h1V7z",fill:"#666",fillRule:"evenodd"})))},Ri=n.forwardRef((function(e,t){return n.createElement(Ni,Pi({svgRef:t},e))}));function Li(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,l,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return zi(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?zi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Bi(e){var t=e.isLike,r=e.handleLike,a=e.handleDisLike,i=e.handleCopy,l=Li((0,n.useState)(!1),2),o=l[0],c=l[1],u=Li((0,n.useState)(),2),s=u[0],f=u[1],m=!!r,d=!!a,p=!!i,v=function(e){c(e)};return(0,n.useEffect)((function(){f(t)}),[t]),n.createElement("div",{className:La},m&&n.createElement(ut,{title:"点赞",active:s,onClick:function(){return!s&&(f(!0),void(null==r||r()))}},n.createElement(Ri,null)),d&&n.createElement(ut,{title:"点踩",active:!1===s,onClick:function(){return!1!==s&&(f(!1),void(null==a||a()))}},n.createElement(ki,null)),p&&n.createElement(ut,{title:o?"已复制":"复制",active:o,onClick:function(){return!o&&(v(!0),null==i||i(),void setTimeout((function(){v(!1)}),3e3))}},o?n.createElement(wi,null):n.createElement(bt,null)))}var Mi=n.memo(Bi),Ti=r(73660);function Fi(e){return Fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fi(e)}function Qi(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=Fi(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Fi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Fi(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ui(){return Ui=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ui.apply(null,arguments)}var Hi,Di=function(e){var t=e.id,r=e.list,a=e.cardData,i=y((function(e){return e.chatSlice})),l=i.isChat,o=i.chatList,c=(0,v.d4)((function(e){return e.globalSlice.model})),s=(0,Ti.n)({defaultExpanded:!0}),f=s.getCollapseProps,m=s.getToggleProps,d=s.isExpanded,p=(0,v.wA)(),g=(0,n.useMemo)((function(){var e=o[o.length-1];return!!e&&("done"!==e.status&&"answer"===e.type&&t===l.taskId)}),[o,l.taskId]),A=function(e){var t=a.find((function(t){return t.fileId===e.fileId}));t&&function(e){if("bill"!==e.type)if(e.previewByCosmic)null==c||c.invokeAsync("preview",{content:e.value,name:e.title,type:e.type,fileId:e.fileId});else if("autoJump"===e.method)window.open(e.value);else if("backend"===e.method){var t,r=null!==(t=null==e?void 0:e.billPars)&&void 0!==t?t:null;null==c||c.invokeAsync("showForm",r)}else if("bizAction"===e.method){var n=e.value;if("newPage"===e.page&&(n=n.replace("bizAction://",location.origin+location.pathname),window.open(encodeURI(Ut(n)))),"currentPage"===e.page){var a=Dt(Ut(e.value)),i=a.get("gaiShow"),l=a.get("gaiLock"),o=a.get("gaiAction"),u=a.get("gaiParams");if(i&&("0"===i&&p(C(!1)),"1"===i&&p(C(!0))),l&&("0"===l&&p(P(!1)),"1"===l&&p(P(!0))),o&&u)try{var s=JSON.parse(u);null==c||c.invokeAsync(o,s)}catch(e){}}}}(t)};return n.createElement("div",{className:wr},g?n.createElement("div",{className:Or},n.createElement("div",{className:Ir},"找到以下文档作为参考"),n.createElement(Mn,null)):n.createElement(n.Fragment,null,n.createElement("div",Ui({className:u()(Or,xr)},m()),n.createElement("div",{className:Ir},"找到以下文档作为参考"),n.createElement(Sr,{style:{transform:d?"rotate(180deg)":"rotate(0deg)"}})),n.createElement("section",Ui({className:jr},f()),r.length>0&&r.map((function(e){return n.createElement("div",{className:kr,key:e.fileId},n.createElement("span",{className:u()(Qi({},Cr,!["",void 0,null].includes(e.url))),onClick:function(){A(e)}},n.createElement(Ar.A,{reflowOnResize:!0,ellipsis:!0,text:e.name,dangerouslyUseInnerHTML:!0,maxLine:1})),e.reference.length>0&&e.reference.map((function(t,r){return n.createElement(Jr,{fileId:e.fileId,key:r,title:e.name,date:e.date,from:e.from,page:t.page,content:t.content,number:t.number,cardData:a})})))})))))},Ji=["svgRef","title"];function Gi(){return Gi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gi.apply(null,arguments)}var Wi=function(e){var t=e.svgRef,r=e.title,a=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,Ji);return n.createElement("svg",Gi({width:18,height:18,viewBox:"0 0 18 18",ref:t},a),r?n.createElement("title",null,r):null,Hi||(Hi=n.createElement("path",{d:"M11.784 9.496l-5.64-5.648a.504.504 0 01-.001-.705.502.502 0 01.704.002l6.008 5.991c.19.191.196.515 0 .711l-5.998 6.008a.506.506 0 01-.71 0 .508.508 0 01-.001-.712l5.638-5.647z",fill:"#666",fillRule:"evenodd"})))},Xi=n.forwardRef((function(e,t){return n.createElement(Wi,Gi({svgRef:t},e))})),Ki="container--YJbJs",Yi="question--KTiPT",Vi="text--erG7i",Zi="disable--pvzOU";function qi(e){return qi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qi(e)}function _i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_i(Object(r),!0).forEach((function(t){el(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function el(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=qi(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=qi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==qi(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tl(e){var t=e.recommends,r=e.style,a=W("setExtraInput"),i=y((function(e){return e.chatSlice})).agentAllowUserInput;return Array.isArray(t)&&0===(null==t?void 0:t.length)?null:n.createElement("div",{className:Ki,style:$i({},r)},Array.isArray(t)&&t.map((function(e,t){return n.createElement("div",{key:t},n.createElement("div",{className:u()(Yi,el({},Zi,!i)),onClick:function(){return t=e,void(i&&a(t));var t}},n.createElement("span",{className:Vi},n.createElement("span",{className:"flex-grow"},e),n.createElement(Xi,{className:"flex-shrink-0"}))))})))}var rl=(0,n.memo)(tl);function nl(e){return nl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nl(e)}function al(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function il(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?al(Object(r),!0).forEach((function(t){ll(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):al(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ll(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=nl(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=nl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==nl(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ol(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,l,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return cl(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?cl(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cl(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ul(e){var t=e.showBottomAction,r=e.showFeedback,a=e.showSkillFix,i=e.data,l=e.concatList,o=e.messageId,c=!(null==i||!i.isFirst),s=Je({visible:c}),f=y((function(e){return e.globalSlice})),m=f.model,d=f.chatSessionId,p=(0,n.useContext)($t),v=p.feedbackShowStatus,g=p.handleChangeFeedbackShowStatus,A=ol((0,n.useState)(),2),h=A[0],b=A[1],E=ol((0,n.useState)(1),2),S=E[0],w=E[1],O=ol((0,n.useState)(void 0),2),I=O[0],x=O[1],j=function(){3!==v&&g(3),3!==S&&w(3)},k=function(e){null==m||m.invokeAsync("saveMsgFeedback",il(il({id:d},e),{},{messageId:o}))},C=function(){b(1),j(),k({type:1,content:""})},P=function(){b(2),j()},N=function(){var e=i.message.map((function(e){return e.data})).join("");It((null==l?void 0:l.reduce((function(e,t){return e+t.message.map((function(e){return e.data})).join("")}),"".concat(e,"\n\n")))||e)};return(0,n.useEffect)((function(){i.feedback&&x(1===i.feedback.type)}),[i.feedback]),(0,n.useEffect)((function(){(1===v||2===v&&3===S)&&w(v)}),[v]),n.createElement("div",{className:ha,style:{marginLeft:c?"0":"32px"}},n.createElement(_t.Ay,{chatRole:"robot",avatarMeta:s,showToolBar:!1,data:[{type:"other"}],showTyping:!1,customerCardRender:function(e,o){return n.createElement(n.Fragment,null,n.createElement(sl,{data:i,concatList:l,onCompleted:o}),i.cancelled?n.createElement("span",{style:{color:"#B2B2B2",fontSize:"12px"}},"已停止生成"):null,t&&(a||r)?n.createElement("div",{className:u()(ba,ll({},Ea,!a&&r))},a?n.createElement(Aa,{skillInfo:i.skill}):null,r?n.createElement(Mi,{handleLike:C,handleDisLike:P,handleCopy:N,isLike:I}):null):null)}}),n.createElement(Ai,{className:Sa,style:{marginLeft:"32px"},showType:h,showStatus:S,handleSubmit:function(e){var t=e.feedbackShowType,r=e.reason,n=e.cb;void 0===r&&b(void 0),k({type:t?1:0,content:r||""}),null==n||n()}}),n.createElement(rl,{style:{paddingLeft:c?"32px":"0"},recommends:null==i?void 0:i.recommendQuestions}))}var sl=n.memo((function(e){var t,r=e.data,a=e.concatList,i=e.onCompleted,l=ol((0,n.useState)(""),2),o=l[0],c=l[1],u=(0,n.useMemo)((function(){return""===o?null:n.createElement(Vr,{content:o,id:r.id})}),[o]),s=(0,n.useMemo)((function(){var e=r.message.map((function(e){return e.data})).join(""),t=function(e){for(var t,r=/!\[.*?"type":"(iframe|img)".*?\]\((https?:\/\/\S+)\)/g,n=-1;null!==(t=r.exec(e));)n=t.index;if(-1!==n){var a=e.indexOf(")",n)+1;return[e.substring(0,a),e.substring(a)]}return[e,""]}(e=Mt(e));return 2===t.length?(c(t[0]),t[1]):e}),[r.message]);(0,n.useEffect)((function(){r.cancelled&&(null==i||i(!0))}),[r]);var f=(0,n.useMemo)((function(){if(r.card){var e=r.card.filter((function(e){return["document","knowledge","bill"].includes(e.iconType)}));if(e.length)return e.map((function(e){return{fileId:e.fileId,name:e.title,url:e.value,reference:e.superscript||[]}}))}return[]}),[r.card]);return n.createElement(n.Fragment,null,(null==r||null===(t=r.runStepStatusList)||void 0===t?void 0:t.length)>0?n.createElement(qn,{key:null==r?void 0:r.id,list:r.runStepStatusList}):null,null!=r&&r.deepseekObj?n.createElement(Yn,{data:null==r?void 0:r.deepseekObj}):null,u,s?n.createElement(Vr,{content:s,id:r.id}):null,f.length>0?n.createElement(Di,{id:r.id,list:f,cardData:r.card}):r.card?n.createElement(fl,{cardData:r.card}):null,null!=a&&a.length?null==a?void 0:a.map((function(e){return n.createElement(sl,{key:e.id,data:e})})):null)})),fl=n.memo((function(e){var t=e.cardData,r=Bt(t||[]),a=(0,n.useMemo)((function(){return t.filter((function(e){return"pic"===e.type})).map((function(e){return{src:e.value}}))}),[t]);return n.createElement(n.Fragment,null,r?r.map((function(e){switch(e.type){case"url":return n.createElement(yl,{key:e.id,data:e});case"pic":return n.createElement(gl,{key:e.id,url:null==e?void 0:e.value,imgList:a})}})):null)}));fl.displayName="ChatAnswerCard",sl.displayName="ChatAnswerContent";var ml=n.memo(ul);function dl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,l,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return pl(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?pl(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pl(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var vl=n.memo((function(e){var t,r=e.data.value;return r?/<([a-z][a-z0-9]*)\b[^>]*>/i.test(t=r)&&/^<([a-z][a-z0-9]*)\b[^>]*>.*?<\/\1>$/i.test(t)?n.createElement(qt,{value:r}):n.createElement(Rl,{content:r}):null}));vl.displayName="TextItem";var yl=n.memo((function(e){var t=e.data,r=(0,v.d4)((function(e){return e.globalSlice.model})),a=(0,v.wA)(),i=(0,n.useMemo)((function(){return Dt(Ut(t.value))}),[t.value]),l=(0,n.useMemo)((function(){return function(e){var t;if(e)try{var r=JSON.parse(e);if(r.urlStyleCss){var n=r.urlStyleCss;Object.keys(n).forEach((function(e){"color"!==e&&"background"!==e&&"background-color"!==e||(n[e]="#".concat(n[e]))})),t=n}}catch(e){}return t}(i.get("gaiParams"))}),[i]);return n.createElement(xt.A,{prefix:Ct[Qt[t.iconType].icon]?n.createElement("span",{className:u()(Kt.iconTitle,Ct.iconcool,Ct[Qt[t.iconType].icon])}):null,content:t.title,onClick:function(){if(t.previewByCosmic)null==r||r.invokeAsync("preview",{content:t.value,name:t.title,type:t.type,fileId:t.fileId});else if("autoJump"===t.method)window.open(decodeURIComponent(t.value));else if("backend"===t.method){var e,n=null!==(e=null==t?void 0:t.billPars)&&void 0!==e?e:null;null==r||r.invokeAsync("showForm",n)}else if("bizAction"===t.method){var i=decodeURIComponent(t.value);if("newPage"===t.page&&(i=i.replace("bizAction://",location.origin+location.pathname),window.open(encodeURI(Ut(i)))),"currentPage"===t.page){var l=Dt(Ut(t.value)),o=l.get("gaiShow"),c=l.get("gaiLock"),u=l.get("gaiAction"),s=l.get("gaiParams");if(o&&("0"===o&&a(C(!1)),"1"===o&&a(C(!0))),c&&("0"===c&&a(P(!1)),"1"===c&&a(P(!0))),u&&s)try{var f=JSON.parse(s);null==r||r.invokeAsync(u,f)}catch(e){}}}},className:Kt.urlItem,suffix:t.order?"[".concat(t.order,"]"):null,style:l})}));yl.displayName="UrlItem";var gl=n.memo((function(e){var t=e.name,r=void 0===t?"":t,a=e.url,i=e.imgList,l=void 0===i?[]:i,o=dl((0,n.useState)(""),2),c=o[0],u=o[1];return(0,n.useEffect)((function(){var e=new Image;e.onload=function(){u(a)},e.onerror=function(){u("")},e.src=a}),[r,a]),n.createElement(n.Fragment,null,n.createElement(jt.A,{src:c,previewList:l.map((function(e){return e.src||e.fileUrl}))}))}));gl.displayName="PicItem";var Al=n.memo((function(e){var t=e.data,r=(0,v.wA)(),a=(0,n.useRef)(null),i=(0,n.useRef)(null),l=(0,n.useRef)("");(0,n.useEffect)((function(){var e=Dt(t.value);if(e.get("gaiIframeSize"))try{var n=JSON.parse(e.get("gaiIframeSize"));"number"!=typeof n.height&&"string"!=typeof n.height||!a.current?a.current.height="300":a.current.height=n.height,"number"!=typeof n.width&&"string"!=typeof n.width||!a.current?a.current.width="100%":a.current.width=n.width,"number"!=typeof n.padding&&"string"!=typeof n.padding||!i.current||i.current.style.setProperty("margin","0")}catch(e){}else a.current.width="100%",a.current.height="300";if(e.get("gaiParams"))try{var o=JSON.parse(e.get("gaiParams")),c=null==o?void 0:o.allowUserInput;r(ie(c))}catch(e){}e.get("gaiIframeId")&&(l.current=e.get("gaiIframeId"))}),[]);return(0,n.useEffect)((function(){var e=function(e){var t=e.data;if("cosmic-stream-iframe-change"===t.type){var r,n=t.data;if(t.data.id===l.current)void 0!==(null==n||null===(r=n.style)||void 0===r?void 0:r.height)&&(a.current.height=n.style.height)}};return window.addEventListener("message",e),function(){window.removeEventListener("message",e)}}),[]),n.createElement("div",{ref:i,className:Kt.iframeItem},n.createElement(kt.A,{src:t.value,ref:a,onLoad:function(){if(a.current){var e=0,t=function(){try{var r,n=null===(r=a.current)||void 0===r||null===(r=r.contentWindow)||void 0===r||null===(r=r.document)||void 0===r?void 0:r.querySelector("#_TrayMenu_");if(n)return void n.style.setProperty("display","none","important");requestAnimationFrame((function(){++e<1e3&&requestAnimationFrame(t)}))}catch(e){}};requestAnimationFrame(t)}},scrolling:"no"}))}));function hl(e){var t=e.setCardStyle,r=e.data,a=e.concatList,i=e.feedback,l=e.isFirst;(0,n.useEffect)((function(){r.msgList.every((function(e){return"text"===e.type}))&&t("max-width","690px")}),[r]);var o=(0,n.useMemo)((function(){var e;return(null!==(e=null==r?void 0:r.msgList)&&void 0!==e?e:[]).filter((function(e){return"pic"===e.type})).map((function(e){return{src:e.value}}))}),[r]);return n.createElement(n.Fragment,null,n.createElement("div",{className:Kt.content},(Array.isArray(r.msgList)?Bt(r.msgList):Bt([])).map((function(e){return function(e){switch(e.type){case"text":return n.createElement(vl,{key:e.id,data:e});case"url":return n.createElement(yl,{key:e.id,data:e});case"pic":return n.createElement(gl,{key:e.id,url:null==e?void 0:e.value,imgList:o});case"iframe":return n.createElement(Al,{key:e.id,data:e});default:return null}}(e)})),null==a?void 0:a.map((function(e){return n.createElement(sl,{key:e.id,data:e,showBottomAction:!1,feedback:i,isFirst:l})}))))}Al.displayName="IframeItem";var bl=n.memo(hl),El={"gai-robot":"gai-robot--Y_i0P","gai-md-iframe":"gai-md-iframe--N0HQX","gai-md-copy":"gai-md-copy--ufycc",rightSvg:"rightSvg--OFTyZ",copySvg:"copySvg--RH5tV","gai-md-table-wrapper":"gai-md-table-wrapper--Sj9Cq",myTable:"myTable--dvT2y",gaiBlockQuote:"gaiBlockQuote--_kSfg",gaiUnorderList:"gaiUnorderList--_azg7",gaiOrderList:"gaiOrderList--_qxw8","gai-markDown":"gai-markDown--gjsFo","gai-md-code":"gai-md-code--mCiFV","gai-md-code-header":"gai-md-code-header--Nhjxm","gai-md-link":"gai-md-link--UwsY4"};function Sl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,l,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return wl(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?wl(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wl(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Ol="gai-md",Il={dark:mt.A},xl=n.memo((function(e){var t=e.text,r=e.href,a=Sl((0,n.useState)(!1),2),i=a[0],l=a[1],o=r||t;(0,n.useEffect)((function(){if(o&&"string"==typeof o){/^\s*(https?:\/\/)/.test(o)&&l(!0)}}),[o]);var c={cursor:i?"pointer":"normal"};return n.createElement("a",{onClick:function(){i&&window.open(o)},style:c,className:El["".concat(Ol,"-link")]},t)}));xl.displayName="gai-md-normal-link";var jl=n.memo((function(e){var t,r=e.href,a=e.children,i={};if(a)try{t=JSON.parse(a)}catch(e){t=null}if(!t)return n.createElement(xl,{text:a,href:r||""});var l=t,o=l.name,c=l.page,u=l.iconType,s=l.order,f=l.method,m=l.type,d=l.previewByCosmic,p=l.fileId;if(i={id:(0,vt.A)(),type:"url",title:o,value:null!=r?r:"",order:s||null,method:f,previewByCosmic:d,page:c,fileId:p,iconType:null!=u?u:"document"},"form"===m){var v=t,y=v.formId,g=v.formName,A=v.billFormId,h=v.filters;i.billPars={formId:y,formName:g,billFormId:A,filters:h}}return n.createElement(yl,{data:i})}));jl.displayName="gai-md-link";var kl=n.memo((function(e){var t=e.content,r=e.id;return n.createElement(n.Fragment,null,n.createElement(st.oz,{className:u()(El["gai-robot"],El["gai-markDown"]),rehypePlugins:[dt.A],remarkPlugins:[pt.A],components:{sup:function(e){var t=e.children;return n.createElement(Xr,{id:r},t)},a:function(e){var t=e.href,r=e.children;return n.createElement(jl,{href:t},r)},img:Pl,table:function(e){var t={node:e.node,children:e.children};return n.createElement(Nl,t)},blockquote:function(e){var t=e.children;return n.createElement("blockquote",{className:El.gaiBlockQuote},t)},ul:function(e){var t=e.children;return n.createElement("ul",{className:El.gaiUnorderList},t)},ol:function(e){var t=e.children;return n.createElement("ol",{className:El.gaiOrderList},t)},li:function(e){var t=e.children,r=null;return r=Array.isArray(t)?n.createElement("li",null,t.map((function(e){return"string"==typeof e&&e&&e.includes("\n")?e.split("\n").map((function(e,r){return n.createElement(n.Fragment,{key:r},e,r<t.length-1&&e&&n.createElement("br",null))})):e}))):n.createElement("li",null,t),n.createElement(n.Fragment,null,r)},code:function(e){return n.createElement(Cl,e)}}},t))}));kl.displayName="gai-markdown";var Cl=n.memo((function(e){var t,r=e.node,a=e.className,i=e.children,l=Sl((0,n.useState)(!1),2),o=l[0],c=l[1];(0,n.useEffect)((function(){var e=null;return o&&(e=setTimeout((function(){c(!o)}),2e3)),function(){clearTimeout(e),e=null}}),[o]);var s=null!==(t=null==r?void 0:r.data)&&void 0!==t?t:{},f="javascript",m=/language-(\w+)/.exec(a||"");if(null!=m&&m.length){var d,p="id_".concat((0,vt.A)()),v=f=null==m?void 0:m[1];return n.createElement("div",{className:El["".concat(Ol,"-code")]},n.createElement("div",{className:El["".concat(Ol,"-code-header")]},n.createElement("span",{style:{paddingLeft:"12px",flexGrow:1}},null!==(d=null==s?void 0:s.meta)&&void 0!==d?d:v),n.createElement("span",{style:{display:"flex",justifyContent:"flex-end",paddingRight:"10px",alignItems:"center"}},n.createElement("span",{style:{display:o?"inline-block":"none",fontSize:"12px",color:"#fff",marginRight:"4px"}},"已复制"),o?n.createElement(Ot,{className:u()(El["".concat(Ol,"-copy")],El.rightSvg)}):n.createElement(bt,{title:"复制",className:u()(El["".concat(Ol,"-copy")],El.copySvg),onClick:function(){return function(e){var t="#".concat(e," code"),r=document.querySelector(t),n=null==r?void 0:r.innerText;if(n)try{It(n),c(!0)}catch(e){}}(p)}}))),n.createElement(ft.A,{showLineNumbers:!1,lineNumberStyle:{color:"#ddd",fontSize:10},style:Il.dark,language:f,PreTag:"div",id:p},String(i).replace(/\n$/,"")))}return n.createElement(kl,{content:i})}));Cl.displayName="gai-md-code";var Pl=n.memo((function(e){var t=e.src,r=e.alt,a={};try{r&&(a=JSON.parse(r))}catch(e){a={type:"img",allImgs:[{src:t,alt:r}]}}if("iframe"===a.type)return n.createElement("div",{className:El["".concat(Ol,"-iframe")]},n.createElement(Al,{data:{id:"323",value:t,type:"iframe"}}));var i=(0,n.useMemo)((function(){var e,t=null===(e=a)||void 0===e?void 0:e.allImgs;return null==t||t.forEach((function(e){return e.status="loading"})),t}),[a]),l=(0,n.useCallback)((function(e,t){var r=i.filter((function(t){return t.src===e}))[0];r&&(r.status=t)}),[a]),o={url:t,name:"test",imgList:i,changePicStatus:l};return n.createElement(gl,o)}));Pl.displayName="gai-md-img";var Nl=n.memo((function(e){var t=e.children;return n.createElement("div",{className:El["".concat(Ol,"-table-wrapper")]},n.createElement("table",{className:El.myTable},t))}));Nl.displayName="gai-md-table";var Rl=kl,Ll=r(73382);r(11358);var zl,Bl=["svgRef","title"];function Ml(){return Ml=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ml.apply(null,arguments)}var Tl,Fl=function(e){var t=e.svgRef,r=e.title,a=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,Bl);return n.createElement("svg",Ml({width:14,height:14,viewBox:"0 0 14 14",ref:t},a),r?n.createElement("title",null,r):null,zl||(zl=n.createElement("path",{d:"M7 0a7 7 0 110 14A7 7 0 017 0zM4.496 3.67a.583.583 0 00-.825 0l-.068.082a.584.584 0 00.068.744L6.175 7 3.671 9.504a.583.583 0 10.825.825L7 7.825l2.504 2.504a.583.583 0 00.825 0l.068-.08a.584.584 0 00-.068-.745L7.825 7l2.504-2.504a.583.583 0 10-.825-.825L7 6.175z",fill:"#B2B2B2",fillRule:"evenodd"})))},Ql=n.forwardRef((function(e,t){return n.createElement(Fl,Ml({svgRef:t},e))})),Ul=["svgRef","title"];function Hl(){return Hl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hl.apply(null,arguments)}var Dl=function(e){var t=e.svgRef,r=e.title,a=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,Ul);return n.createElement("svg",Hl({className:"search_svg__icon",width:200,height:200,style:{verticalAlign:"middle"},viewBox:"0 0 14 14",fill:"currentColor",overflow:"hidden",ref:t},a),r?n.createElement("title",null,r):null,Tl||(Tl=n.createElement("path",{d:"M9.874 10.582a6 6 0 11.707-.707l3.273 3.271a.5.5 0 01-.708.708l-3.272-3.272zM6 11A5 5 0 106 1a5 5 0 000 10z",fill:"#999",fillRule:"nonzero"})))},Jl=n.forwardRef((function(e,t){return n.createElement(Dl,Hl({svgRef:t},e))})),Gl="input-wrap--nsXhC",Wl="isActive--aUVBz",Xl="isMobile--NckI6",Kl="input--qAWRy",Yl="searchIcon--CVK5g";function Vl(e){return Vl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vl(e)}function Zl(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=Vl(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Vl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Vl(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ql(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,l,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _l(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_l(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function $l(e,t){var r=e.className,a=e.onKeyEnter,i=e.value,l=e.placeholder,o=e.maxLength,c=e.onChange,s=e.type,f=e.wrapStyle,m=e.style,d=e.isMobile,p=void 0!==d&&d,v=(0,n.useRef)(null),y=ql((0,n.useState)(!1),2),g=y[0],A=y[1],h=ql((0,n.useState)(!1),2),b=h[0],E=h[1],S=function(e){if("Enter"===e.key&&v.current){var t=v.current.value.trim();null==a||a(t)}},w=function(){S({key:"Enter"})},O=function(){v.current&&v.current.focus()};return n.useImperativeHandle(t,(function(){return{touchInputKeyDown:w,touchFocus:O}})),(0,n.useEffect)((function(){i&&v.current&&(v.current.value=i)}),[i]),n.createElement("div",{className:u()(Gl,r,Zl(Zl({},Wl,!p&&b),Xl,p)),style:f,onClick:function(e){return e.stopPropagation()}},"search"===s&&n.createElement(ut,{bgClassName:u()(Yl),size:14,type:"face",style:{color:"#999"}},n.createElement(Jl,null)),n.createElement("input",{className:"".concat(Kl),placeholder:l,maxLength:o,onKeyDown:S,onChange:function(){if(v.current){var e=v.current.value;A(""!==e),null==c||c(e.trim())}},onFocus:function(){v.current&&""===v.current.value&&A(!1),E(!0)},onBlur:function(){E(!1)},ref:v,style:m}),n.createElement("div",null,!p&&g&&n.createElement(ut,{size:14,onClick:function(){v.current&&(v.current.value="",v.current.focus(),null==c||c(""))},type:"face"},n.createElement(Ql,null))))}var eo=(0,n.forwardRef)($l);"".concat("https:"===window.location.protocol?"wss":"ws","://").concat(window.location.host,"/prod-api/gpt/cosmic/chatapi");function to(e){return to="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},to(e)}function ro(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function no(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ro(Object(r),!0).forEach((function(t){ao(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ro(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ao(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=to(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=to(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==to(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var io={root:{},child:{},menuDom:{}};var lo=function(){var e=y((function(e){return e.globalSlice})).model;return{handleLogin:function(t){t&&window.sessionStorage.setItem("".concat(m().APP_NAME,"_LOGIN_CB_SEND_VAL"),t),null==e||e.invokeAsync("doLogin",{})},checkImgUrl:function(e){return fetch(e,{method:"HEAD"}).then((function(e){return e.ok})).catch((function(){return!1}))}}};function oo(e){return{type:"chatMiddleWareFilter",payload:e}}function co(e){return{type:"recommendQuestionMiddleWareFilter",payload:e}}function uo(e){return{type:"runStepStatusMiddlewareFilter",payload:e}}function so(e){return{type:"chatHistoryMiddleWareFilter",payload:e}}function fo(e){return{type:"cardMiddleWareFilter",payload:e}}function mo(e){return{type:"chatAnswerCardMiddleWareFilter",payload:e}}function po(e){return{type:"chatWaitingStartMiddleWareFilter",payload:e}}function vo(e){return{type:"chatWaitingEndMiddleWareFilter",payload:e}}function yo(e){return{type:"streamDoneMiddleWareFilter",payload:e}}function go(e){return{type:"errorMiddleWareFilter",payload:e}}function Ao(e){return{type:"stopStreamMiddleWareFilter",payload:e}}function ho(e){return{type:"thinkChatMiddleWareFilter",payload:e}}function bo(e){return{type:"fakeOkMiddleWareFilter",payload:e}}function Eo(e){return{type:"forwardMiddleWareFilter",payload:e}}function So(e){return{type:"identifySkillMiddleWareFilter",payload:e}}function wo(e){return wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wo(e)}function Oo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Io(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Oo(Object(r),!0).forEach((function(t){xo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xo(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=wo(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=wo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==wo(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var jo=function(e){return e.GAIFILE="gaifile",e.GAIIMG="gaiimg",e.GAIASSISTANT="gaiassistant",e.GAIURL="gaiurl",e.GAIIFRAME="gaiiframe",e.GAIREPODOC="gairepodoc",e.GAIIMGURL="gaiimgurl",e.GAIFORM="gaiform",e}({});function ko(e){return{id:(0,vt.A)(),gaiTag:e,type:"url",value:"",iconType:"document",title:"",method:"autoJump",page:""}}var Co={gaiTypes:[jo.GAIASSISTANT,jo.GAIFILE,jo.GAIIFRAME,jo.GAIIMG,jo.GAIIMGURL,jo.GAIREPODOC,jo.GAIURL,jo.GAIFORM],matchGaiTag:function(e,t,r){var n=[],a=0;e.replace(/(\[(gaiimg|gaifile|gaiassistant|gaiurl|gairepodoc|gaiiframe|gaiimgurl|gaiform)\]([\s\S]+?)\[\/(gaiimg|gaifile|gaiassistant|gaiurl|gairepodoc|gaiiframe|gaiimgurl|gaiform)\])/g,(function(i,l,o,c,u,s,f){var m,d=e.substring(a,s);d&&n.push(d),a=l.length+s;var p="get".concat(o,"Data");if("gaiiframe"===o&&r&&"runStepStatus"===r)return n.push("[gaiiframe]".concat(c,"[/gaiiframe]")),f;var v={gaiTag:o,tagId:c,annotations:t},y=null==Co||null===(m=Co[p])||void 0===m?void 0:m.call(Co,v);return n.push(y),f}));var i=e.substring(a,e.length);return i&&n.push(i),n},parseTag:function(e){if(!e)return[];var t=e.actionList,r=e.type,n=[];return t.forEach((function(e){var t=e.data,a=t.message,i=t.annotations;n=Co.matchGaiTag(a,i,r)})),n},getMarkDownFormat:function(e){var t="";if(0===e.length)return"";var r=e.filter((function(e){return"string"!=typeof e&&("gaiimg"===(null==e?void 0:e.gaitag)||"gaiimgurl"===(null==e?void 0:e.gaitag))})).map((function(e){var t,r;return{src:null!==(t=null!==(r=null==e?void 0:e.previewUrl)&&void 0!==r?r:e.fileUrl)&&void 0!==t?t:e.url,alt:e.name,name:e.name}}));return e.forEach((function(e){if("string"==typeof e)t+=e;else{var n,a,i=e.gaiTag,l="generate".concat(i,"MD");a=null==Co||null===(n=Co[l])||void 0===n?void 0:n.call(Co,e,r),t+=a}})),t}};function Po(e){var t="";return e.forEach((function(e){var r=e.fileType,n=e.fileId,a=e.id,i=r&&r.includes("image");t+=i?"[".concat(jo.GAIIMG,"]").concat(null!=n?n:a,"[/").concat(jo.GAIIMG,"]"):"[".concat(jo.GAIFILE,"]").concat(null!=n?n:a,"[/").concat(jo.GAIFILE,"]")})),t}Co.gaiTypes.forEach((function(e){var t="get".concat(e,"Data");e===jo.GAIIFRAME||e===jo.GAIIMGURL?Co[t]=function(e){var t=e.gaiTag,r=e.tagId,n=e.annotations,a=null==n?void 0:n.filter((function(e){return e.gaitag===t&&e.url.includes(r)}));if(0===(null==a?void 0:a.length)&&(a[0]={gaitag:t,url:""}),a&&(null==a?void 0:a.length)>0){var i=null==a?void 0:a[0];return Io(Io({},i),{},{gaiTag:t,fileUrl:null==i?void 0:i.url,name:"gaiimgurl"})}}:e===jo.GAIURL?Co[t]=function(e){e.tagId;return function(){var e=ko(jo.GAIURL);if(e.originValue){var t,r,n=Ht(e.originValue);n&&(e=Io(Io({},e),n)),"default"===(null===(t=e)||void 0===t?void 0:t.title)&&(e=Io(Io({},e),{},{title:(null===(r=e)||void 0===r?void 0:r.name)||"default"}))}return e}()}:e===jo.GAIFORM?Co[t]=function(e){e.tagId;return ko(jo.GAIFORM)}:Co[t]=function(e){var t=e.gaiTag,r=e.tagId,n=e.annotations,a=null==n?void 0:n.filter((function(e){var n=e.gaitag,a=e.id;return n===t&&String(r).includes(String(a))}));if(0===(null==a?void 0:a.length))return null;var i,l,o=null==a?void 0:a[0];return t===jo.GAIFILE||t===jo.GAIREPODOC?Io(Io({},ko(jo.GAIFILE)),{},{value:(null==o?void 0:o.previewUrl)||(null==o?void 0:o.fileUrl)||(null==o?void 0:o.content),title:null!==(i=null==o?void 0:o.name)&&void 0!==i?i:"",previewByCosmic:(null==o?void 0:o.previewByCosmic)||!1,iconType:t===jo.GAIREPODOC?"knowledge":"document"},o):Io({type:"img",gaiTag:t,name:"",url:null!==(l=null==o?void 0:o.previewUrl)&&void 0!==l?l:null==o?void 0:o.fileUrl},o)}})),Co.gaiTypes.forEach((function(e){var t="generate".concat(e,"MD");e===jo.GAIIMG||e===jo.GAIIMGURL||e===jo.GAIIFRAME||e===jo.GAIASSISTANT?Co[t]=function(e,t){try{var r={type:e.gaiTag===jo.GAIIFRAME?"iframe":"img",allImgs:t,name:e.name};return"\n\n ![".concat(JSON.stringify(r),"](").concat(e.url,") \n\n")}catch(e){}}:e!==jo.GAIFILE&&e!==jo.GAIREPODOC&&e!==jo.GAIURL&&e!==jo.GAIFORM||(Co[t]=function(e){var t=e.value,r=e.title,n=e.order,a=e.iconType,i=e.gaiTag,l=e.method,o=e.page,c=e.previewByCosmic,u=e.id;try{var s={type:i===jo.GAIREPODOC?"repodoc":i===jo.GAIFORM?"form":"normal",iconType:null!=a?a:"document",name:r,order:null!=n?n:0,previewByCosmic:c,page:o,fileId:u,fileUrl:encodeURIComponent(t),method:i===jo.GAIFORM?"backend":l};if(i===jo.GAIFORM){var f=e.formId,m=e.formName,d=e.billFormId,p=e.filters,v="";try{v=JSON.parse(null!=p?p:"")}catch(e){}var y={formId:f,formName:m,billFormId:d,filters:v};s=Io(Io({},s),y)}return"\n\n [".concat(JSON.stringify(s),"](").concat(encodeURIComponent(t),") \n\n")}catch(e){}})}));var No,Ro,Lo=Co;function zo(e){return zo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zo(e)}function Bo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Mo(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=zo(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=zo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==zo(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function To(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,l,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Fo(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Fo(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Qo(){var e=(0,v.wA)(),t=y((function(e){return e.globalSlice})),r=t.model,a=t.chatSessionId,i=t.currentSkill,l=t.isStartChat,o=t.assistantId,c=t.chatUser,u=y((function(e){return e.chatSlice})),s=u.extraInput,f=u.files,m=u.isChat,d=lo().handleLogin,p=To((0,n.useState)(!0),1)[0],g=To((0,n.useState)(s||""),2),A=g[0],h=g[1],b=W("setChatRequest"),E=T("setIsStartChat"),S=W("clearFiles"),w=W("setExtraInput"),O=T("setIdentifySkillId"),I=T("setAllowAutoScroll"),x=(0,n.useCallback)((function(t){if(c.userId){var n=t||{},o=n.chatValue,u=n.skill,s=n.isQuickly,v=null==u?void 0:u.id,y=o||A;if(s&&S(),y&&0!==y.trim().length&&!Se(f,(function(e){return 0===e.status||-1===e.status})))if(m.status&&!m.allowUserInput);else{var g,x,j;I(!0),O(),l||E(!0);var k=null!==(g=null!=v?v:null==i?void 0:i.id)&&void 0!==g?g:"0",C=null!==(x=null!==(j=null==u?void 0:u.type)&&void 0!==j?j:null==i?void 0:i.type)&&void 0!==x?x:"",P=[{role:"user",content:y}];b({id:(0,vt.A)(),skillId:k,content:y,files:s?void 0:f,message:P.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Bo(Object(r),!0).forEach((function(t){Mo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e)}))});var N=s?"":Po(f),R="".concat(y).concat(N);null==r||r.invokeAsync("chat",{id:a,stream:p,length:R.length,input:R,skillId:k,skillType:C}),h(""),w(""),S(),e({type:"chatStartMiddleWareFilter",payload:null})}}else d((null==t?void 0:t.chatValue)||A)}),[a,p,i,A,f,l,m,o,c]);return(0,n.useEffect)((function(){s&&(h(s),w(""))}),[s]),{chatValue:A,setChatValue:h,handleSend:x}}var Uo=["svgRef","title"];function Ho(){return Ho=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ho.apply(null,arguments)}var Do,Jo=function(e){var t=e.svgRef,r=e.title,a=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,Uo);return n.createElement("svg",Ho({viewBox:"0 0 1920 1080",preserveAspectRatio:"xMidYMid slice",ref:t},a),r?n.createElement("title",null,r):null,No||(No=n.createElement("defs",null,n.createElement("filter",{x:"-13.1%",y:"-13.1%",width:"126.1%",height:"126.1%",filterUnits:"objectBoundingBox",id:"bg@1_5x_svg__b"},n.createElement("feGaussianBlur",{stdDeviation:50,in:"SourceGraphic"})),n.createElement("filter",{x:"-13.6%",y:"-13.6%",width:"127.2%",height:"127.2%",filterUnits:"objectBoundingBox",id:"bg@1_5x_svg__d"},n.createElement("feOffset",{in:"SourceAlpha",result:"shadowOffsetOuter1"}),n.createElement("feGaussianBlur",{stdDeviation:6.5,in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),n.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.0815668706 0",in:"shadowBlurOuter1"})),n.createElement("filter",{x:"-12.2%",y:"-12.2%",width:"124.4%",height:"124.4%",filterUnits:"objectBoundingBox",id:"bg@1_5x_svg__g"},n.createElement("feGaussianBlur",{stdDeviation:50,in:"SourceGraphic"})),n.createElement("filter",{x:"-12.7%",y:"-12.7%",width:"125.4%",height:"125.4%",filterUnits:"objectBoundingBox",id:"bg@1_5x_svg__h"},n.createElement("feOffset",{in:"SourceAlpha",result:"shadowOffsetOuter1"}),n.createElement("feGaussianBlur",{stdDeviation:6.5,in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),n.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.0815668706 0",in:"shadowBlurOuter1"})),n.createElement("radialGradient",{cx:"50%",cy:"60.723%",fx:"50%",fy:"60.723%",r:"45.323%",gradientTransform:"rotate(2.168 -.419 .59) scale(1 .94273)",id:"bg@1_5x_svg__f"},n.createElement("stop",{stopColor:"#82A3FF",offset:"0%"}),n.createElement("stop",{stopColor:"#ACD1FB",offset:"43.78%"}),n.createElement("stop",{stopColor:"#E1E8F7",offset:"100%"})),n.createElement("radialGradient",{cx:"50%",cy:"60.723%",fx:"50%",fy:"60.723%",r:"45.323%",gradientTransform:"rotate(2.168 -.419 .59) scale(1 .94273)",id:"bg@1_5x_svg__j"},n.createElement("stop",{stopColor:"#828CFF",offset:"0%"}),n.createElement("stop",{stopColor:"#B9BFFA",offset:"57.425%"}),n.createElement("stop",{stopColor:"#E1E8F7",offset:"100%"})),n.createElement("rect",{id:"bg@1_5x_svg__e",x:1088,y:196,width:1248,height:1248,rx:624}),n.createElement("rect",{id:"bg@1_5x_svg__i",x:-105,y:-182,width:1337,height:1337,rx:668.5}),n.createElement("path",{id:"bg@1_5x_svg__a",d:"M0 0h1920v1080H0z"}))),Ro||(Ro=n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("mask",{id:"bg@1_5x_svg__c",fill:"#fff"},n.createElement("use",{xlinkHref:"#bg@1_5x_svg__a"})),n.createElement("use",{fill:"#EEF7FF",xlinkHref:"#bg@1_5x_svg__a"}),n.createElement("g",{opacity:.295,filter:"url(#bg@1_5x_svg__b)",mask:"url(#bg@1_5x_svg__c)"},n.createElement("use",{fill:"#000",filter:"url(#bg@1_5x_svg__d)",xlinkHref:"#bg@1_5x_svg__e"}),n.createElement("use",{fill:"url(#bg@1_5x_svg__f)",xlinkHref:"#bg@1_5x_svg__e"})),n.createElement("g",{opacity:.295,filter:"url(#bg@1_5x_svg__g)",mask:"url(#bg@1_5x_svg__c)"},n.createElement("use",{fill:"#000",filter:"url(#bg@1_5x_svg__h)",xlinkHref:"#bg@1_5x_svg__i"}),n.createElement("use",{fill:"url(#bg@1_5x_svg__j)",xlinkHref:"#bg@1_5x_svg__i"})))))},Go=n.forwardRef((function(e,t){return n.createElement(Jo,Ho({svgRef:t},e))})),Wo=r(47467),Xo=["svgRef","title"];function Ko(){return Ko=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ko.apply(null,arguments)}var Yo=function(e){var t=e.svgRef,r=e.title,a=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,Xo);return n.createElement("svg",Ko({width:16,height:16,viewBox:"0 0 16 16",ref:t},a),r?n.createElement("title",null,r):null,Do||(Do=n.createElement("path",{d:"M8.013 1C11.906 1 15 4.173 15 7.99 15 12.03 11.776 15 8 15c-1.19 0-2.453-.327-3.459-.92l-.11-.065c-.236-.137-.331-.156-.454-.116l-1.355.402a.906.906 0 01-1.114-1.144l.453-1.514a.188.188 0 00-.023-.147C1.33 10.377 1 9.17 1 8.01 1 4.19 4.075 1 8.013 1zm0 1.004a5.999 5.999 0 00-6.01 6.006c0 .986.286 2.03.804 2.984.185.302.212.673.099.992l-.389 1.299 1.237-.368c.426-.118.752-.024 1.223.254l.08.049c.842.495 1.928.776 2.943.776 3.24 0 5.996-2.54 5.996-6.006 0-3.269-2.65-5.986-5.983-5.986zm.014 2.92a.5.5 0 01.498.457l.002.046-.004 2.112 2.083.005a.502.502 0 01.043 1.002l-.045.001-2.084-.004-.005 2.085a.502.502 0 01-1.001.044l-.002-.046.004-2.086-2.113-.004a.502.502 0 01-.044-1.002l.046-.002 2.113.005.006-2.112a.502.502 0 01.503-.501z",fill:"#666",fillRule:"nonzero"})))},Vo=n.forwardRef((function(e,t){return n.createElement(Yo,Ko({svgRef:t},e))}));function Zo(e){var t=e.data,r=y((function(e){return e.globalSlice})).chatUser,a=Je({visible:!0,assistant:r}),i=W("setExtraInput"),l=(0,v.wA)();return n.createElement(_t.Ay,{data:[{type:"text",content:t.content},{type:"gai-file",content:t.files}],customerCardRender:function(e){return"gai-file"===e.type?n.createElement(pe,{files:e.content,showDel:!1,canPreview:!0,fixedImgSize:!1}):n.createElement("div",null,e.content)},avatarMeta:a,chatCardPosition:"alternate",onEditClick:function(e){var r,n;r=e,n=t.files,r&&i(r.replace(/\n+$/,"")),n&&n.length>0&&l(ne(n))}})}var qo=n.memo(Zo),_o={content:"content--N5_ai",footer:"footer--kduXX"};function $o(e){var t=e.data,r=y((function(e){return e.globalSlice})).model;return n.createElement(n.Fragment,null,t?n.createElement(n.Fragment,null,n.createElement("div",{className:_o.content},null==t?void 0:t.content),n.createElement("div",{className:_o.footer},n.createElement("button",{onClick:function(){var e=t.action.cancel.command,n=t.action.cancel.data;null==r||r.invokeAsync(e,n)},className:_o.cancelBtn},null==t?void 0:t.action.cancel.caption),n.createElement("button",{onClick:function(){var e=t.action.confirm.command,n=t.action.confirm.data;null==r||r.invokeAsync(e,n)},className:_o.confirmBtn},null==t?void 0:t.action.confirm.caption))):null)}var ec=(0,n.memo)($o),tc="card--SeUOY",rc="cardContent--_KR2D",nc="answerBottom--oyIYQ",ac="end--ExNaq",ic="feedback--Q5pHO";function lc(e){return lc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lc(e)}function oc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function cc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oc(Object(r),!0).forEach((function(t){uc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function uc(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=lc(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=lc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==lc(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,l,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return fc(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fc(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function mc(e){var t=e.cardData,r=e.concatList,a=e.isFirst,i=e.skill,l=e.showBottomAction,o=e.messageId,c=e.feedback,s=e.showFeedback,f=e.showSkillFix,m=e.cancelled,d=e.recommendQuestions,p=y((function(e){return e.globalSlice})),v=p.model,g=p.chatSessionId,A=(0,n.useContext)($t),h=A.feedbackShowStatus,b=A.handleChangeFeedbackShowStatus,E=(0,n.useRef)(null),S=sc((0,n.useState)("default"),2),w=S[0],O=S[1],I=sc((0,n.useState)(),2),x=I[0],j=I[1],k=sc((0,n.useState)(1),2),C=k[0],P=k[1];(0,n.useEffect)((function(){O(t.type)}),[t]);var N=function(e,t){E.current&&E.current.style.setProperty(e,t)},R=function(){3!==h&&b(3),3!==C&&P(3)},L=function(e){null==v||v.invokeAsync("saveMsgFeedback",cc(cc({id:g},e),{},{messageId:o}))};return(0,n.useEffect)((function(){(1===h||2===h&&3===C)&&P(h)}),[h]),n.createElement("div",{id:(0,vt.A)(),ref:E,className:tc},n.createElement(Xe,{visible:!!a}),n.createElement("div",{style:{marginLeft:"32px"},className:rc},function(){switch(w){case"confirmCard":return n.createElement(ec,{data:t.data});case"multiMsg":return n.createElement(bl,{concatList:r,setCardStyle:N,data:t.data,feedback:c,isFirst:a});default:return null}}(),m?n.createElement("span",{style:{color:"#B2B2B2",fontSize:"12px"}},"已停止生成"):null,l&&(f||s)?n.createElement("div",{className:u()(nc,uc({},ac,!f&&s))},f?n.createElement(Aa,{skillInfo:i}):null,s?n.createElement(Mi,{handleLike:function(){j(1),R(),L({type:1,content:""})},handleDisLike:function(){j(2),R()}}):null):null),n.createElement(Ai,{className:ic,showType:x,showStatus:C,handleSubmit:function(e){var t=e.feedbackShowType,r=e.reason,n=e.cb;void 0===r&&j(void 0),L({type:t?1:0,content:r||""}),null==n||n()},style:{marginLeft:"34px"}}),n.createElement(rl,{style:{paddingLeft:a?"32px":"0"},recommends:d}))}var dc=n.memo(mc),pc="chatBodyContent--llX6t",vc="card--BLihP",yc="cardContent--lEmQA",gc="content--sDYsm",Ac="agreementHeader--GzSpY",hc="agreementBody--oc8qq",bc="text--fz2wQ",Ec="pic--h2Dfi",Sc="agreementFooter--Xg4ck",wc="btn--KwxO6";var Oc=function(){var e=y((function(e){return e.globalSlice})),t=e.model,r=e.chatUser,a=e.deviceType,i=lo().handleLogin;return n.createElement("div",{className:vc},n.createElement("div",{className:yc},n.createElement("div",{className:gc},n.createElement("div",{className:Ac},n.createElement("span",null,"欢迎使用苍穹助手")),n.createElement("div",{className:hc},n.createElement("div",{className:bc},"为了给你提供更好的服务，请先阅读并同意隐私政策"),n.createElement("div",{className:Ec},n.createElement("img",{alt:"",src:"data:image/png;base64,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"}))),n.createElement("div",{className:Sc},n.createElement("div",{className:wc,onClick:function(){r.userId?null==t||t.invokeAsync("showAgreement",{show:!0,isMobile:null==a?void 0:a.isMobile}):i()}},"隐私政策详情")))))},Ic=(r(38500),r(72959)),xc="error--qyLs3",jc="errorContent--d7ptF";function kc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,l,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Cc(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Cc(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Pc(e){var t,r=e.data,a=kc((0,n.useState)("sysError"),2),i=a[0],l=a[1];return(0,n.useEffect)((function(){l("string"==typeof r.code&&r.code.startsWith("gai.llm")?"modelError":"sysError")}),[r]),n.createElement("div",{className:xc},n.createElement(Xe,{visible:!0}),n.createElement("div",{style:{marginLeft:"32px"},className:jc},(t="modelError"===i?"好像出了点状况，等下再来试试吧。":"你可难到我了，要不试试其他问题吧。",n.createElement(Ic.A,{tip:t,detail:r.desc}))))}var Nc=n.memo(Pc);function Rc(e){var t=e.data,r=Je({visible:!0});return n.createElement(_t.Ay,{chatRole:"robot",avatarMeta:r,showToolBar:!1,showTyping:!1,data:[{type:"text",content:t.desc}]})}var Lc=n.memo(Rc);function zc(e){return zc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zc(e)}function Bc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Mc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Bc(Object(r),!0).forEach((function(t){Tc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Tc(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=zc(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=zc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==zc(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fc(e){var t=e.style,r=y((function(e){return e.globalSlice})),a=r.currentSkill,i=r.identifySkillId,l=y((function(e){return e.chatSlice})).isChat;return n.createElement(n.Fragment,null,l.status&&l.waiting?n.createElement("div",{className:zn},n.createElement(Xe,{visible:!0}),n.createElement("div",{className:Bn,style:Mc({marginLeft:"32px"},t)},n.createElement(Mn,null,n.createElement("span",{style:{marginLeft:"4px"}},null!=a&&a.id||i?"加载中":"意图识别匹配中")))):null)}var Qc=(0,n.memo)(Fc);function Uc(){var e=y((function(e){return e.globalSlice})),t=e.userAgree,r=e.slideEnv,a=e.chatUser,i=e.ds,l=y((function(e){return e.chatSlice})),o=l.isChat,c=l.chatList;return n.createElement(n.Fragment,null,!t&&a.userId?n.createElement("div",{className:pc},n.createElement(Oc,null)):n.createElement("div",{className:pc},c.map((function(e,t){switch(e.type){case"ask":return n.createElement(qo,{key:e.id,data:e});case"answer":if(e.spliced)return null;var a,l,u=e.concatList.length?c.filter((function(t){return e.concatList.includes(t.id)})):void 0,s=!0,f=!0,m=!1;(null===(a=c[c.length-1])||void 0===a?void 0:a.id)===e.id&&(o.status||o.waiting)&&(f=!1),"error"===e.status&&(s=!1,f=!1),e.isSkillQuestion&&(s=!1,f=!1),e.messageId&&""!==e.messageId||(f=!1),"H5"===r&&i||null===(l=e.skill)||void 0===l||!l.id||(m=!0);var d=e.messageId;return u&&u.length>0&&d&&u.forEach((function(e){d="".concat(d,",").concat(e.messageId)})),n.createElement(ml,{key:e.id,showBottomAction:s,showFeedback:f,showSkillFix:m,data:e,concatList:u,messageId:d});case"card":var p,v,y=e.concatList.length?c.filter((function(t){return e.concatList.includes(t.id)})):void 0,g=(null===(p=c[c.length-1])||void 0===p?void 0:p.id)===e.id,A=!0,h=!1;"H5"===r&&i||null===(v=e.skill)||void 0===v||!v.id||(h=!0),g&&(o.status||o.waiting)&&(A=!1);var b=e.messageId;return y&&y.length>0&&y.forEach((function(e){b="".concat(b,",").concat(e.messageId)})),b&&""!==b||(A=!1),n.createElement(dc,{key:e.id,cardData:e.data,skill:e.skill,isFirst:e.isFirst,cancelled:e.cancelled,showBottomAction:!0,showFeedback:A,showSkillFix:h,concatList:y,messageId:b,feedback:e.feedback,recommendQuestions:null==e?void 0:e.recommendQuestions});case"fakeOk":return n.createElement(Lc,{key:e.id||"".concat(e.data.code,"_").concat(t),data:e.data,slideEnv:r});case"error":return n.createElement(Nc,{key:e.id,data:e.data});default:return n.createElement(n.Fragment,null,"error")}})),n.createElement(Qc,null)))}var Hc=n.memo(Uc),Dc=(r(9666),r(55713));function Jc(e){return Jc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc(e)}function Gc(e){return function(e){if(Array.isArray(e))return Wc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Wc(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Wc(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Xc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Kc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xc(Object(r),!0).forEach((function(t){Yc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Yc(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=Jc(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Jc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Jc(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vc(e,t,r){var n=-1,a=r||e.length-1;if("function"==typeof t)for(;a>=0;){if(t(e[a],a)){n=Math.max(n,a);break}a--}else for(;a>=0;){if(e[a]===t){n=Math.max(n,a);break}a--}return n}function Zc(e,t,r){if(!e)return"";var n={actionList:[{data:{message:e,annotations:t}}],type:r},a=Lo.parseTag(n);return Lo.getMarkDownFormat(a)}function qc(e,t){var r=(0,Dc.A)(e),n=r[r.length-1];if("answer"!==n.type)return r;var a=n,i=a.messageStr,l=a.streamObj;if(!i)return r;var o=null==i?void 0:i.indexOf("[gai",null==l?void 0:l.startPos);if(o>-1){var c=i.slice(o);if(c){if(/(\[(gaiimg|gaifile|gaiassistant|gaiurl|gairepodoc|gaiiframe|gaiimgurl|gaiform)\]([\s\S]+?)\[\/(gaiimg|gaifile|gaiassistant|gaiurl|gairepodoc|gaiiframe|gaiimgurl|gaiform)\])/g.test(c)){var u=function(e,t,r){var n="",a={actionList:[{data:{message:e,annotations:t}}],type:r},i=Lo.parseTag(a);return n=Lo.getMarkDownFormat(i),{str:n,segmentStack:i}}(c,t),s=u.segmentStack;if(!s.some((function(e){return e&&"string"!=typeof e})))return r;var f=s.filter((function(e){return"string"==typeof e})),m=f&&f[0]&&f[0].length||0,d=function(e,t,r,n){var a=n.segmentStack.filter((function(e){return"string"==typeof e}))[0],i=function(e,t,r){var n=(0,Dc.A)(t),a=[];n.forEach((function(t,r){r>=e&&t.data.includes("[")&&a.push(r)}));for(var i=0,l="",o=0;o<a.length;o++){for(var c=a[o],u="",s=c;s<n.length;s++){u+=n[s].data}if(u.includes(r)){l=n[i=c].data;break}}return{gaiStartIdx:i,gaiStartStr:l}}(t,e,r),l=i.gaiStartIdx,o=i.gaiStartStr,c=function(e,t,r,n){var a=e.gaiStartIdx,i=e.gaiStartStr;if(a>=0){var l=r.slice(a).map((function(e){return e.index})),o=0,c=[];if(i.indexOf("[")>0){var u=l[o];o++,c.unshift({index:u,data:i.slice(0,i.indexOf("["))})}if(t){var s=[],f=n.str,m=f.lastIndexOf(t);m>-1&&(s[0]=f.slice(0,m));var d=l[o];o++,c.push({data:"".concat(s[0]," \n\n"),index:d});var p=l[o];c.push({data:t,index:p})}else{var v=l[o],y="".concat(n.str," \n\n");c.push({data:y,index:v})}return c}return[]}({gaiStartIdx:l,gaiStartStr:o},a,(0,Dc.A)(e),n);c.length>0&&e.splice.apply(e,[l,e.length-l].concat(Gc(c)));return{message:e,messagePos:e.length}}(n.message,n.messagePos,c,u),p=Kc(Kc({},n),{},{message:d.message,messagePos:d.messagePos,streamObj:{startPos:o+c.length-m}});r.splice(e.length-1,1,p)}}}return r}function _c(e,t){var r=e.thought,n=e.runStepId,a=[];return r&&a.push({runStepId:"".concat(n,"_thought"),message:r,stepStatus:"completed",stepTypeName:"思考"}),a.push(Kc(Kc({},e),{},{message:t})),a}function $c(e){return $c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$c(e)}function eu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function tu(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=$c(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=$c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$c(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ru=(0,d.Z0)({name:"agent",initialState:{logsData:{},isLogsWindowShown:!1,chatTraceInfo:null,chatHistoryList:[],hasMoreChatHistory:!0,isChatHistoryFixed:!1,isChatHistoryNoAllowedClick:!1,selectedHistoryChatInfo:null},reducers:{setLogObj:function(e,t){e.logsData=t.payload},setIsLogsWindowShown:function(e,t){e.isLogsWindowShown=t.payload},openLogsWindow:function(e,t){e.isLogsWindowShown=!0,e.chatTraceInfo=t.payload},setChatHistoryInfo:function(e,t){var r=t.payload,n=r.hasMore,a=r.list;e.hasMoreChatHistory=n,e.chatHistoryList=e.chatHistoryList.concat(a)},setChatHistoryItemNewTitle:function(e,t){var r=t.payload,n=r.index,a=r.title;e.chatHistoryList[n].title=a},delChatHistoryItem:function(e,t){var r=t.payload.index;e.chatHistoryList.splice(r,1)},setChatHistoryList:function(e,t){e.chatHistoryList=t.payload},setChatHistoryHasMore:function(e,t){e.hasMoreChatHistory=t.payload},clearChatHistoryList:function(e){e.chatHistoryList=[]},setIsChatHistoryFixed:function(e,t){e.isChatHistoryFixed=t.payload},setSelectedHistoryChatInfo:function(e,t){e.selectedHistoryChatInfo=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eu(Object(r),!0).forEach((function(t){tu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({isLoading:!1},t.payload)},clearSelectedHistoryChatInfo:function(e){e.selectedHistoryChatInfo=null},setIsChatHistoryNoAllowedClick:function(e,t){e.isChatHistoryNoAllowedClick=t.payload}}}),nu=ru.reducer,au=ru.actions,iu=au.setLogObj,lu=(au.setChatHistoryList,au.clearChatHistoryList),ou=au.setChatHistoryInfo,cu=au.setChatHistoryHasMore,uu=(au.setChatHistoryItemNewTitle,au.delChatHistoryItem),su=(au.setIsChatHistoryFixed,au.setSelectedHistoryChatInfo,au.clearSelectedHistoryChatInfo),fu=(au.openLogsWindow,au.setIsLogsWindowShown,au.setIsChatHistoryNoAllowedClick);function mu(e){return mu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mu(e)}function du(e){return function(e){if(Array.isArray(e))return pu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return pu(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?pu(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pu(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function vu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function yu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vu(Object(r),!0).forEach((function(t){gu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function gu(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=mu(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=mu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==mu(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Au={status:!1,taskId:"",flowId:"",stream:!1,waiting:!1,runId:"",isAskUser:!1,allowUserInput:!1};function hu(e,t){return!!e&&t.getState().chatSlice.stoppedTaskId.includes(e)}function bu(e){e(K({waiting:!1}))}function Eu(e){e(ie(!0))}function Su(e){var t=e.message,r=e.annotations,n=e.next,a=e.store,i=e.skill,l=a.getState().globalSlice,o=l.model,c=l.chatSessionId,u=l.currentSkill,s=[],f="";if(t){var m,d=function(e,t){if(!e)return null;var r={actionList:[{data:{message:e,annotations:t}}]};return Lo.parseTag(r)}(t,r);null==d||null===(m=d.filter((function(e){return"string"!=typeof e&&("gaiimg"===e.gaitag||"gaifile"===e.gaitag)})))||void 0===m||m.forEach((function(e){var t=e.fileUrl,r=e.fileType,n=e.previewUrl,a=e.id,i=e.fileSize,l=e.name;s.push({fileId:String(a),fileUrl:t,previewUrl:n,fileType:r,size:i||0,status:1,name:l})})),f=null==d?void 0:d.filter((function(e){return e&&"string"==typeof e}))[0]}var p=[{role:"user",content:f}],v=Po(s),y="".concat(f).concat(v),g=(null==i?void 0:i.id)||(null==u?void 0:u.id)||"",A=(null==i?void 0:i.type)||(null==u?void 0:u.type)||"";n($({content:f,message:p.map((function(e){return yu({},e)})),id:(0,vt.A)(),files:s})),null==o||o.invokeAsync("chat",{id:c,stream:!0,length:y.length,input:y,skillId:g,skillType:A})}function wu(e){var t=e.action,r=e.next,n=e.store,a=e.isThink,i=t.payload,l=i.message,o=i.annotations,c=i.type,u=i.skill;if(!hu(i.taskId,n))if(0!==c){var s=Lo.parseTag({actionList:[{data:{message:l,annotations:o}}]}),f=Lo.getMarkDownFormat(s),m=yu(yu({},t),{},{payload:yu(yu({},t.payload),{},{message:f})});a?function(e){var t=e.action,r=e.next,n=e.store,a=n.getState().chatSlice,i=a.chatList.concat(),l=t.payload,o=Iu(i,l.taskId);function c(){var e=ju({action:t,next:r,store:n,isGetChatHandlerChatList:!0});if(e){var a=e.streamChatList[e.streamChatList.length-1];e.streamChatList[e.streamChatList.length-1]=yu(yu({},a),{},{message:[],messageStr:"",deepseekObj:{thinkStart:Date.now(),status:0,message:[{index:0,data:l.message}]}}),r(Z(du(e.streamChatList))),r(K(e.newChatStatus))}}if(o){var u,s=i.findIndex((function(e){return e.id===o.id&&"answer"===e.type}));if(i[s]=yu(yu({},o),{},{deepseekObj:yu(yu({},o.deepseekObj),{},{message:(null===(u=o.deepseekObj)||void 0===u||null===(u=u.message)||void 0===u?void 0:u.concat({index:l.index,data:l.message}))||[{index:l.index,data:l.message}],status:0})}),r(Z(i)),!a.isChat.status){var f=l.stream,m={status:f,taskId:l.taskId,flowId:l.flowId,stream:f,runId:null==l?void 0:l.runId,waiting:!1,isRunStepLoading:!1};r(K(m))}}else c()}({action:m,next:r,store:n}):ju({action:m,next:r,store:n})}else Su({message:l,annotations:o,next:r,store:n,skill:u})}function Ou(e){e(K(yu({},Au)))}function Iu(e,t){return e.findLast((function(e){return e.id===t&&"answer"===e.type}))}function xu(e){var t=Vc(e,(function(e){return"ask"===(null==e?void 0:e.type)})),r=e.length-1===t;return r?{isFirst:r}:null}function ju(e){var t=e.action,r=e.next,n=e.store,a=e.isGetChatHandlerChatList,i=n.getState().chatSlice,l=n.getState().globalSlice,o=t.payload;bu(r),Eu(r);var c=o.stream,u={status:c,taskId:o.taskId,flowId:o.flowId,stream:c,runId:null==o?void 0:o.runId,waiting:!1,isRunStepLoading:!1},s=Iu(i.chatList,o.taskId),f=(0,Dc.A)(i.chatList);if(!0===a&&(s=null),s)"done"===s.status||"error"===s.status?u=yu({},Au):f=f.map((function(e){if(e===s){var t=l.identifySkillId?l.skillList.find((function(e){return e.id===l.identifySkillId})):void 0;if(!e.skill&&t&&(e.skill=t),-1===e.message.findIndex((function(e){return e.index===o.index}))){var r=yu(yu({},e),{},{message:e.message.concat({index:o.index,data:o.message}).sort((function(e,t){return e.index-t.index})),messageStr:"".concat(e.messageStr).concat(o.message)});return null!=e&&e.deepseekObj&&(r=yu(yu({},r),{},{deepseekObj:yu(yu({},r.deepseekObj),{},{status:1})})),r}return e}return e}));else{var m=!1;if(o.concatLast){var d=Vc(i.chatList,(function(e){return"ask"===e.type})),p=Vc(i.chatList,(function(e){return"card"===e.type&&e.id!==o.taskId&&"multiMsg"===e.data.type})),v=Vc(i.chatList,(function(e){return"answer"===e.type&&e.id!==o.taskId&&!e.spliced})),y=0;-1===v&&-1===p||d<(y=Math.max(v,p))&&(m=!0,f=f.map((function(e,t){return"answer"!==e.type&&"card"!==e.type||t!==y?e:yu(yu({},e),{},{concatList:e.concatList.concat(o.taskId),messageId:e.messageId})})))}var g=l.currentSkill.id?l.currentSkill:l.identifySkillId?l.skillList.find((function(e){return e.id===l.identifySkillId})):void 0,A={type:"answer",id:o.taskId,messageId:o.messageId,status:c?"chat":"done",spliced:m,concatList:[],message:[{index:o.index,data:o.message}],messageStr:o.message,streamObj:{startPos:0,endPos:0},messagePos:0,card:[],runStepStatusList:[],skill:g,runId:o.runId},h=xu(i.chatList);h&&(A=yu(yu({},A),h)),f=f.concat(A)}var b=qc(f,(0,Dc.A)(t.payload.annotations));if(a)return{streamChatList:b,newChatStatus:u};r(Z(b)),r(K(u))}function ku(e){var t=e.action,r=e.next,n=e.store,a=n.getState().chatSlice,i=t.payload;if(!hu(null==i?void 0:i.taskId,n)){var l=Iu(a.chatList,i.taskId);if(l){var o=a.chatList.map((function(e){if(e===l&&e.id===(null==i?void 0:i.taskId)){var t=yu(yu({},e),{},{status:"done",messageId:i.messageId});return null!=e&&e.deepseekObj&&(t=yu(yu({},t),{},{deepseekObj:yu(yu({},t.deepseekObj),{},{status:1})})),t}return e}));r(Z(o))}var c=yu(yu({},Au),{},{runId:""});c=yu(yu({},c),{},{stream:!1,status:!0,waiting:!1}),r(K(c))}}function Cu(e){var t=e.action,r=e.next,n=e.store,a=n.getState().chatSlice,i=n.getState().globalSlice,l=t.payload;if(!hu(null==l?void 0:l.taskId,n)){var o=a.isChat,c=Iu(a.chatList,o.taskId),u=a.chatList.concat();if(l&&"gai.llm.message.replace"===(null==l?void 0:l.code)){var s=i.currentSkill.id?i.currentSkill:i.identifySkillId?i.skillList.find((function(e){return e.id===i.identifySkillId})):void 0,f=(null==l?void 0:l.desc)||"";return c?(c=yu(yu({},c),{},{message:[{index:0,data:f}]}),u.splice(u.length-1,1,c)):(c={type:"answer",id:(null==l?void 0:l.taskId)||(0,vt.A)(),messageId:(null==l?void 0:l.messageId)||(0,vt.A)(),status:"done",spliced:!1,concatList:[],message:[{index:0,data:f}],card:[],runStepStatusList:[],skill:s,isFirst:!0,runId:(null==l?void 0:l.runId)||(0,vt.A)()},u.push(c)),r(Z(u)),void Ou(r)}c&&(u=u.map((function(e){return e===c?yu(yu({},e),{},{status:"error"}):e})));var m,d=(m="你可难到我了，要不试试其他问题吧。",{type:"answer",id:(0,vt.A)(),status:"done",spliced:!1,concatList:[],message:[{index:0,data:m}],card:[]});if(Object.prototype.hasOwnProperty.call(l,"code")){var p=l.code;d=("string"==typeof p&&p.startsWith("gai.llm"),{type:"error",id:(0,vt.A)(),data:l})}else d={type:"error",id:(0,vt.A)(),data:l};Vc(u,(function(e){return"ask"===e.type}))>-1&&(d=yu({},d)),u=u.concat([d]),r(Z(u)),Ou(r)}}var Pu=function(e){return function(t){return function(r){var n={action:r,next:t,store:e};switch(r.type){case"chatStartMiddleWareFilter":!function(e){var t=e.next,r=yu(yu({},Au),{},{waiting:!0,status:!0});t(K(r))}(n);break;case"chatMiddleWareFilter":wu(n);break;case"recommendQuestionMiddleWareFilter":!function(e){var t=e.action,r=e.next,n=e.store,a=t.payload,i=n.getState().chatSlice.chatList.concat(),l=a.questionList.map((function(e){return e.question})),o=i[i.length-1];i[i.length-1]=yu(yu({},o),{},{recommendQuestions:l}),r(Z(i))}(n);break;case"thinkChatMiddleWareFilter":wu(yu(yu({},n),{},{isThink:!0}));break;case"chatAnswerCardMiddleWareFilter":!function(e){var t=e.action,r=e.next,n=e.store.getState().chatSlice,a=t.payload,i=Iu(n.chatList,a.taskId);if(i)if("error"===i.status)Ou(r);else{var l=n.chatList.map((function(e){return e===i?yu(yu({},e),{},{card:e.card.concat(t.payload.fileList.map((function(e){if("pic"===e.type)return{id:(0,vt.A)(),type:e.type,value:e.content};var t={};return t="bill"===e.type?{type:"bill",iconType:"default",title:e.name,method:"",value:"",page:""}:Ht(e.content),yu(yu({id:(0,vt.A)()},t),{},{title:e.name||t.title,order:e.order,previewByCosmic:e.previewByCosmic,fileId:e.fileId,superscript:e.superscript||[],iconType:e.type in Qt?e.type:"default"})})))}):e}));r(Z(l))}}(n);break;case"cardMiddleWareFilter":!function(e){var t,r=e.action,n=e.next,a=e.store,i=a.getState().chatSlice,l=a.getState().globalSlice,o=r.payload;if(!hu(null==o||null===(t=o.data)||void 0===t?void 0:t.taskId,a)){if(bu(n),Eu(n),"multiMsg"===o.type){var c=i.chatList.concat();if(o.data.replaceLast){var u=Vc(c,(function(e){return"ask"===e.type})),s=Vc(c,(function(e){return"card"===e.type&&"multiMsg"===e.data.type}));(-1!==u&&-1!==s&&u<s||-1===u&&-1!==s)&&(c=c.filter((function(e,t){return t!==s})))}var f=[],m={msgList:o.data.msgList.map((function(e){var t=(0,vt.A)();if("url"===e.type){var r=Ht(e.value);return"recommend"===r.method?(f.push({id:t,action:"jump",value:r.value,page:r.page,title:r.title}),yu(yu({},r),{},{id:t,type:"special"})):yu(yu({},r),{},{id:t})}return yu(yu({},e),{},{id:t})}))};if(n(_(f)),!m.msgList.every((function(e){return"special"===e.type}))){var d,p=l.currentSkill.id?l.currentSkill:l.identifySkillId?l.skillList.find((function(e){return e.id===l.identifySkillId})):void 0,v={id:(0,vt.A)(),messageId:null===(d=r.payload.data)||void 0===d?void 0:d.messageId,concatList:[],type:"card",data:{type:r.payload.type,data:m},skill:p},y=xu(c);y&&(v=yu(yu({},v),y)),c=c.concat(v),n(Z(c))}}else{var g,A={type:"card",id:(0,vt.A)(),messageId:null===(g=r.payload)||void 0===g||null===(g=g.data)||void 0===g?void 0:g.messageId,concatList:[],data:r.payload},h=i.chatList.concat(A),b=xu(h);b&&(A=yu(yu({},A),b)),n(Z(h))}var E=yu(yu({},Au),{},{status:!0});if("multiMsg"===o.type){var S,w,O,I=null===(S=o.data)||void 0===S?void 0:S.config;E=yu(yu({},E),{},{isAskUser:!(null==I||!I.askUser)&&(null===(w=o.data)||void 0===w?void 0:w.msgList[0].type),allowUserInput:(null===(O=o.data)||void 0===O?void 0:O.allowUserInput)||!1})}n(K(E))}}(n);break;case"streamDoneMiddleWareFilter":case"chatStopMiddleWareFilter":ku(n);break;case"chatDoneMiddleWareFilter":!function(e){var t=e.action,r=e.next,n=e.store.getState().chatSlice,a=t.payload,i=Iu(n.chatList,a.taskId);if(i){var l=n.chatList.map((function(e){return e===i?yu(yu({},e),{},{status:"done"}):e}));r(Z(l))}var o=yu({},Au);r(K(o))}(n);break;case"chatWaitingStartMiddleWareFilter":!function(e){var t=e.action,r=e.next,n=e.store,a=t.payload,i=n.getState().chatSlice.isChat,l=n.getState().chatSlice.isStoppedWaitingDelay,o=yu(yu({},i),{},{status:!0,flowId:a&&a.flowId&&a.flowId.length>0?a.flowId:"",taskId:a&&a.taskId&&a.taskId.length>0?a.taskId:"",waiting:!0});l&&(r(V(!1)),r(Y(o.taskId))),r(K(o))}(n);break;case"chatWaitingEndMiddleWareFilter":!function(e){var t=e.next,r=e.store,n=e.action.payload,a=r.getState().chatSlice,i=a.isChat;if(!hu(null==n?void 0:n.taskId,r)){if(null!=n&&n.taskId){var l=Iu(a.chatList,i.taskId);if(l&&"chat"===l.status){var o=a.chatList.map((function(e){return e===l?yu(yu({},e),{},{status:"done"}):e}));t(Z(o))}}Ou(t),a.chatList.length<=2&&r.getState().globalSlice.sideMode}}(n);break;case"errorMiddleWareFilter":Cu(n);break;case"stopStreamMiddleWareFilter":!function(e){var t=e.action;(0,e.next)(t)}(n);break;case"forwardMiddleWareFilter":!function(e){var t,r=e.action,n=e.next;null===(t=e.store.getState().globalSlice.model)||void 0===t||t.invokeAsync("forward",r.payload),n(r)}(n);break;case"fakeOkMiddleWareFilter":!function(e){var t=e.action,r=e.next,n=e.store.getState().chatSlice.chatList;r(Z([].concat(du(n),[{type:"fakeOk",id:(0,vt.A)(),data:t.payload}]))),Ou(r)}(n);break;case"chatHistoryMiddleWareFilter":!function(e){var t,r=e.action,n=e.next,a=[],i=r.payload,l=null!==(t=null==i?void 0:i.list)&&void 0!==t?t:[],o={};l.forEach((function(e,t){var r=e.type,n=e.message,i=e.annotations,c=e.feedback,u=e.id,s=e.thought,f=e.runStepMessageList,m=e.messageId,d=e.skill,p=e.cancelled;if(0===r){var v=Lo.parseTag({actionList:[{data:{message:n,annotations:i}}]}),y=v.filter((function(e){return"string"==typeof e&&e})),g=v.filter((function(e){return"object"===mu(e)&&(e.gaitag===jo.GAIIMG||e.gaitag===jo.GAIFILE)})).map((function(e){return e&&(e.status=1),e})),A=null==y?void 0:y[0];if(o={type:"ask",message:[{role:"user",content:A}],files:g,id:u,content:A,originType:0},a.push(o),!0===p){if(!l[t+1]||l[t+1]&&0===l[t+1].type){var h={type:"answer",message:[{data:"任务已取消",index:1}],id:(0,vt.A)(),card:[],concatList:[],runStepStatusList:[],messageId:void 0,originType:1,status:"done",isFirst:!0};a.push(h)}l[t+1]&&0!==l[t+1].type&&(l[t+1].cancelled=!0)}}else if(1===r||3===r){var b,E;if((null!==(b=null==e?void 0:e.config)&&void 0!==b?b:{replaceLast:!1}).replaceLast){var S=Vc(a,(function(e){return"answer"===e.type&&3===e.originType}));S>-1&&a.splice(S,1)}if(i.length&&"gairepodoc"===(null===(E=i[0])||void 0===E?void 0:E.gaitag)){var w=Vc(a,(function(e){return"ask"===e.type})),O=Vc(a,(function(e){return"answer"===e.type}));if(-1!==O&&-1!==w&&w<O){var I=a[O],x=[];null!=i&&i.length&&(x=i.map((function(e){if("pic"===e.type)return{id:(0,vt.A)(),type:e.type,value:e.content};var t={};return t="bill"===e.type?{type:"bill",iconType:"default",title:e.name,method:"",value:"",page:""}:Ht(e.content),yu(yu({id:(0,vt.A)()},t),{},{title:e.name,order:e.order,previewByCosmic:e.previewByCosmic,fileId:e.id,superscript:e.superscript||[],iconType:e.type in Qt?e.type:"default"})}))),I=yu(yu({},I),{},{card:x,messageId:"".concat(I.messageId,",").concat(m),message:[{data:I.message[0].data,index:I.message[0].index}]}),a.splice(O,1,I)}}else{var j=[];(null==f?void 0:f.length)>0&&(f.forEach((function(e){var t=Zc(null==e?void 0:e.message,null==e?void 0:e.annotations,"runStepStatus");t&&(e.message=t)})),j=f);var k=n;n&&(null==i?void 0:i.length)>0&&(k=Zc(n,i)),o={type:"answer",message:[{data:k,index:1}],id:m,card:[],concatList:[],runStepStatusList:j,messageId:m,originType:r,feedback:c,skill:d,status:"done"},s&&(o.deepseekObj={status:n&&""!==n?1:2,message:[{index:0,data:s}]}),a.push(o)}}})),function(e){var t=e.length;e.forEach((function(r,n){if("ask"===r.type){var a=n+1;a<t&&(e[a].isFirst=!0)}}))}(a),a.length>0&&n(z(!0)),n(Z({chatList:a,chatType:"chatHistory"})),n(fu(!1))}(n);break;case"runStepStatusMiddlewareFilter":!function(e){var t=e.action,r=e.next,n=e.store,a=n.getState().globalSlice;bu(r);var i=n.getState().chatSlice,l=i.chatList,o=t.payload,c=o.message,u=o.annotations,s=o.taskId,f=null==o?void 0:o.runId,m=l[l.length-1],d="ask"===m.type,p=Iu(l,s);if(d||p){var v=l.concat(),y="";if(c){var g=Lo.parseTag({actionList:[{data:{message:c,annotations:u}}],type:"runStepStatus"});y=Lo.getMarkDownFormat(g)}var A=a.currentSkill.id?a.currentSkill:a.identifySkillId?a.skillList.find((function(e){return e.id===a.identifySkillId})):void 0;if("ask"===m.type){var h=xu(i.chatList),b={type:"answer",id:s,status:"chat",spliced:!1,concatList:[],message:[],card:[],runStepStatusList:_c(o,y),skill:A};h&&(b=yu(yu({},b),h)),v=v.concat(b)}else{var E=p.runStepStatusList.concat(),S=o.runStepId;if(E.filter((function(e){return e.runStepId===S})).length>0){var w=E.findIndex((function(e){return e.runStepId===S}));w>-1&&E.splice(w,1,yu(yu({},o),{},{message:y}));var O=yu(yu({},p),{},{runStepStatusList:E,skill:A}),I=v.findIndex((function(e){return e.id===O.id}));v.splice(I,1,O)}else{var x=_c(o,y);E=E.concat(x);var j=yu(yu({},p),{},{runStepStatusList:E,skill:A});v.splice(v.length-1,1,j)}}r(Z(v));var k=yu(yu({},Au),{},{runId:f,status:!0,isRunStepLoading:!0,taskId:o.taskId});r(K(k))}}(n);break;case"identifySkillMiddleWareFilter":!function(e){var t=e.next,r=e.store.getState().chatSlice,n=null==r?void 0:r.chatList.slice(),a=n.length-1,i=Vc(n,(function(e){return"ask"===e.type})),l=Vc(n,(function(e){return"answer"===e.type}));i&&l&&i<l&&n.splice(a,1),t(Z(n))}(n);break;case"stopDeepseekThinkingMiddleWareFilter":!function(e){var t=e.next,r=e.store.getState().chatSlice,n=null==r?void 0:r.chatList.slice(),a=n.length-1,i=n[a];if("answer"===i.type&&"deepseekObj"in i){var l,o=yu(yu({},i),{},{deepseekObj:yu(yu({},i.deepseekObj),{},{status:1===(null===(l=i.deepseekObj)||void 0===l?void 0:l.status)?1:2})});n.splice(a,1,o)}t(Z(n))}(n);break;default:t(r)}}}};function Nu(e){return Nu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nu(e)}function Ru(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Lu(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=Nu(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Nu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Nu(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zu(e){return function(e){if(Array.isArray(e))return Bu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Bu(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Bu(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bu(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Mu(){var e=y((function(e){return e.chatSlice})),t=e.isChat,r=e.chatList,n=y((function(e){return e.globalSlice})),a=n.model,i=n.chatSessionId,l=n.currentSkill,o=n.identifySkillId,c=n.skillList,u=(0,v.wA)(),s=function(){var e,n=(0,vt.A)();t.taskId?u(Y([t.taskId])):u(V(!0));var a=null==l?void 0:l.type;if(!a&&o){var i=c.find((function(e){return e.id===o}));i&&null!=i&&i.type&&(a=null==i?void 0:i.type)}if("ask"===(null===(e=r[r.length-1])||void 0===e?void 0:e.type)){var s={type:"answer",message:[{data:"任务已取消",index:1}],id:n,card:[],concatList:[],runStepStatusList:[],assistant:{},messageId:null,originType:1,skill:l,isFirst:!0};u(Z([].concat(zu(r),[s])))}else{var f=zu(r);if(f[f.length-1]){var m=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ru(Object(r),!0).forEach((function(t){Lu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ru(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},f[f.length-1]);m.cancelled=!0,f[f.length-1]=m,u(Z(f))}}};return{handleStopChat:function(){s(),"startChat"===t.taskId?null==a||a.invokeAsync("stopStream",{id:i,flowId:t.flowId}):t.taskId&&t.taskId.length>0?null==a||a.invokeAsync("stopStream",{id:i,taskId:t.taskId,flowId:t.flowId}):null==a||a.invokeAsync("stopStream",{id:i,flowId:t.flowId,taskId:null}),u({type:"chatDoneMiddleWareFilter",payload:{id:i,taskId:t.taskId,flowId:t.flowId}}),u(function(e){return{type:"stopDeepseekThinkingMiddleWareFilter",payload:e}}())},handleStopAgentChat:s}}function Tu(){var e=(0,v.wA)(),t=Mu().handleStopChat,r=y((function(e){return e.globalSlice})),a=r.model,i=r.isStartChat,l=r.chatUser,o=y((function(e){return e.chatSlice})).isChat,c=lo().handleLogin;return{handleNewChat:(0,n.useCallback)((function(r){if(l.userId){var n=r||{},u=n.needInvoke,s=void 0===u||u,f=n.toChat,m=void 0!==f&&f;o.status&&t(),e(K(Au)),e(L("")),e(ie(!0)),e(ae(!0)),e(q()),e(re()),e(su()),m?i||e(z(!0)):i&&e(z(!1)),s&&(null==a||a.invokeAsync("newChat",{}))}else c()}),[o,i])}}var Fu="yinsi--j2INp",Qu="isMobile--fu6Q4",Uu="agreement--Xw3JY";function Hu(e){return Hu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hu(e)}function Du(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=Hu(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Hu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Hu(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ju,Gu=function(e){var t=y((function(e){return e.globalSlice})),r=t.model,a=t.chatUser,i=t.isMobile,l=t.deviceType,o=e.className,c=lo().handleLogin;return n.createElement("div",{className:u()(Fu,o,"flex items-center justify-center",Du({},Qu,i))},n.createElement("div",null,n.createElement("span",{className:"inline-block pr-3"},"AI生成内容可能有误，请结合经验使用"),n.createElement("a",{className:u()(Uu,"inline-block pl-3 relative"),onClick:function(){a.userId?null==r||r.invokeAsync("showAgreement",{show:!0,isMobile:null==l?void 0:l.isMobile}):c()}},"隐私")))},Wu="chatFooter--J0YWY",Xu=["svgRef","title"];function Ku(){return Ku=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ku.apply(null,arguments)}var Yu,Vu=function(e){var t=e.svgRef,r=e.title,a=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,Xu);return n.createElement("svg",Ku({width:16,height:16,viewBox:"0 0 16 16",ref:t},a),r?n.createElement("title",null,r):null,Ju||(Ju=n.createElement("path",{d:"M14.01 2.01c1.174 1.174.841 3.541-.633 6 1.474 2.459 1.807 4.825.633 6-1.175 1.174-3.541.841-6-.632-2.459 1.473-4.826 1.806-6 .632-1.175-1.175-.842-3.541.632-6-1.474-2.459-1.807-4.826-.632-6 1.174-1.175 3.541-.842 6 .632 2.459-1.474 4.825-1.807 6-.632zm-1.286 6.993l-.14.189a16.525 16.525 0 01-1.574 1.818c-.65.649-1.327 1.223-2.008 1.713 1.885 1.024 3.552 1.242 4.258.537.705-.706.487-2.373-.536-4.257zm-9.428 0l-.073.137c-.961 1.827-1.152 3.431-.463 4.12.705.705 2.373.487 4.256-.536A16.516 16.516 0 015.01 11.01a16.413 16.413 0 01-1.714-2.008zM8.01 3.898l-.215.147A15.248 15.248 0 005.76 5.76a15.117 15.117 0 00-1.862 2.25 15.18 15.18 0 001.862 2.25 15.117 15.117 0 002.25 1.86 15.18 15.18 0 002.25-1.86 15.118 15.118 0 001.86-2.25 15.084 15.084 0 00-1.86-2.25A15.118 15.118 0 008.01 3.9zM8 6.5a1.5 1.5 0 110 3 1.5 1.5 0 010-3zM2.76 2.76c-.706.705-.488 2.373.536 4.257A16.39 16.39 0 015.01 5.01c.65-.65 1.326-1.223 2.007-1.714C5.133 2.272 3.465 2.054 2.76 2.76zm6.38.463l-.138.073c.681.49 1.358 1.064 2.008 1.714.649.649 1.222 1.325 1.712 2.006 1.025-1.883 1.243-3.55.538-4.256-.689-.689-2.293-.498-4.12.463z",fill:"#276FF5",fillRule:"nonzero"})))},Zu=n.forwardRef((function(e,t){return n.createElement(Vu,Ku({svgRef:t},e))})),qu=["svgRef","title"];function _u(){return _u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_u.apply(null,arguments)}var $u=function(e){var t=e.svgRef,r=e.title,a=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,qu);return n.createElement("svg",_u({width:16,height:16,viewBox:"0 0 16 16",ref:t},a),r?n.createElement("title",null,r):null,Yu||(Yu=n.createElement("path",{d:"M14.01 2.01c1.174 1.174.841 3.541-.633 6 1.474 2.459 1.807 4.825.633 6-1.175 1.174-3.541.841-6-.632-2.459 1.473-4.826 1.806-6 .632-1.175-1.175-.842-3.541.632-6-1.474-2.459-1.807-4.826-.632-6 1.174-1.175 3.541-.842 6 .632 2.459-1.474 4.825-1.807 6-.632zm-1.286 6.993l-.14.189a16.525 16.525 0 01-1.574 1.818c-.65.649-1.327 1.223-2.008 1.713 1.885 1.024 3.552 1.242 4.258.537.705-.706.487-2.373-.536-4.257zm-9.428 0l-.073.137c-.961 1.827-1.152 3.431-.463 4.12.705.705 2.373.487 4.256-.536A16.516 16.516 0 015.01 11.01a16.413 16.413 0 01-1.714-2.008zM8.01 3.898l-.215.147A15.248 15.248 0 005.76 5.76a15.117 15.117 0 00-1.862 2.25 15.18 15.18 0 001.862 2.25 15.117 15.117 0 002.25 1.86 15.18 15.18 0 002.25-1.86 15.118 15.118 0 001.86-2.25 15.084 15.084 0 00-1.86-2.25A15.118 15.118 0 008.01 3.9zM8 6.5a1.5 1.5 0 110 3 1.5 1.5 0 010-3zM2.76 2.76c-.706.705-.488 2.373.536 4.257A16.39 16.39 0 015.01 5.01c.65-.65 1.326-1.223 2.007-1.714C5.133 2.272 3.465 2.054 2.76 2.76zm6.38.463l-.138.073c.681.49 1.358 1.064 2.008 1.714.649.649 1.222 1.325 1.712 2.006 1.025-1.883 1.243-3.55.538-4.256-.689-.689-2.293-.498-4.12.463z",fill:"#212121",fillRule:"nonzero"})))},es=n.forwardRef((function(e,t){return n.createElement($u,_u({svgRef:t},e))})),ts=r(15843),rs=r(95525);function ns(){return ns=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ns.apply(null,arguments)}function as(e){var t=e.chatInputRef,r=e.inputMaxHeight,a=void 0===r?360:r,i=e.maxLength,l=void 0===i?2e3:i,o=e.placeholder,c=void 0===o?"发送信息":o,u=e.handlePaste;return n.createElement(ts.A,ns({ref:t},(0,rs.A)(e,"chatInputRef","handlePaste"),{inputMaxHeight:a,maxLength:l,placeholder:c,onPaste:function(e){if(u){var t=e.clipboardData;if(!t)return;for(var r=t.items,n=[],a=0;a<r.length;a++)if("file"===r[a].kind){var i=r[a].getAsFile();if(i){var l=i,o="gai_".concat((0,vt.A)());l.fileId=o,n.push(l)}}null==u||u(n)}}}))}var is=n.forwardRef(as);function ls(){var e=y((function(e){return e.globalSlice})),t=e.userAgree,r=e.chatUser,n=y((function(e){return e.chatSlice})).files;return{handleKeyDown:function(e,a,i){var l=a.trim(),o=e.shiftKey,c="Enter"===e.key,u=n.length>0&&!n.some((function(e){return-1===e.status||0===e.status})),s=n.some((function(e){return-1===e.status||0===e.status}));return!t&&r.userId||c&&s||c&&""===l&&!u?e.preventDefault():void(o&&c&&""!==l||c&&(e.preventDefault(),null==i||i()))}}}var os=r(24107),cs=r.n(os),us={baseURL:"http://127.0.0.1:".concat(m().MOCK_PORT)};function ss(e){return ss="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ss(e)}function fs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ms(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fs(Object(r),!0).forEach((function(t){ds(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ds(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=ss(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ss(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ss(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ps=cs().create(ms(ms({},us),{},{headers:{"Content-Type":"application/json",withCredentials:!0}}));ps.interceptors.request.use((function(e){return e}),(function(e){return e})),ps.interceptors.response.use((function(e){return e}),(function(e){return e}));var vs=function(e){return/.(pdf|txt|png|jpe?g|csv|json|xlsx?|docx?|zip|rar|mp4|mov|avi|pptx?)$/.test(e)};function ys(e,t,r){var n=r.imgLimit,a=r.otherLimit;if(/.(png|jpe?g)$/.test(t)){if(e>n)return!0}else if(e>a)return!0;return!1}function gs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=y((function(e){return e.globalSlice})),r=t.model,n=t.chatUser,a=(t.ds,y((function(e){return e.chatSlice})).files),i=e.maxFiles,l=void 0===i?20:i,o=e.validFileType,c=e.validFileSize,u=W("setFiles"),s=lo().handleLogin;return{handleSubmitFiles:function(e){e.forEach((function(e){var t,n=new FormData;n.append("file",e),function(e){var t=e.url,r=e.data,n=e.headers;return cs().post(t,r,{headers:n})}({url:(t=location.pathname.split("/").filter((function(e){return e&&""!==e&&!e.includes(".html")})).map((function(e){return"/".concat(e)})).join(""),t.lastIndexOf("/")!==t.length-1&&(t+="/"),t+"attachment/uploadFile.do"),data:n,headers:{"Content-Type":"multipart/form-data"}}).then((function(t){var n=t.data,a=null==n?void 0:n.url,i=e.name,l=e.size,o=e.type,c=e.fileId;if(!a)return null!=n&&n.description&&Oe(r,{msg:n.description}),void u({fileId:c,name:i,status:-1,type:o,fileUrl:""});var s={tempId:c,name:i,fileSize:l,fileType:o,fileUrl:a};null==r||r.invokeAsync("saveFile",s)})).catch((function(t){var r=e.name,n=e.type,a=e.fileId;u({fileId:a,name:r,status:-1,type:n,fileUrl:""})}))}))},handleBeforeFileUpload:function(e){if(n.userId){var t=[];if(!(a.length+e.length>l)){for(var i=0;i<e.length;i++){var f=e[i],m=f.name,d=f.size,p=o?o(m.toLowerCase()):vs(m.toLowerCase()),v=c?c(d,m.toLowerCase()):ys(d,m.toLowerCase(),{imgLimit:10485760,otherLimit:157286400});if(p)if(v)Oe(r,{msg:"文件:".concat(m,"大小超出限制，图片不超过10M，其他文件不超过150M！")});else{var y=f.name,g=f.type,A=f.size,h="gai_".concat((0,vt.A)());f.fileId=h,u({name:y,type:g,size:A,fileId:h,fileUrl:"",status:0}),t.push(f)}else Oe(r,{msg:"文件：".concat(m," 的格式不符合指定格式！")})}return t}Oe(r,{msg:"文件数量超过".concat(l,"个")})}else s()}}}var As,hs,bs="wrapper--xtZFr",Es="isMobile--_28la",Ss="chatInputWrapper--uXoHs",ws="chatInput--CYrhy",Os="deepThink--mgFsN",Is="isDeep--aw6q_",xs="mark--dYT7b",js="text--VH80i",ks=["svgRef","title"];function Cs(){return Cs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cs.apply(null,arguments)}var Ps,Ns=function(e){var t=e.svgRef,r=e.title,a=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,ks);return n.createElement("svg",Cs({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),r?n.createElement("title",null,r):null,As||(As=n.createElement("defs",null,n.createElement("radialGradient",{cx:"50%",cy:"6.915%",fx:"50%",fy:"6.915%",r:"80.262%",gradientTransform:"matrix(0 1 -1.06296 0 .574 -.43)",id:"send@1_5x_svg__a"},n.createElement("stop",{stopColor:"#10D0FF",offset:"0%"}),n.createElement("stop",{stopColor:"#04BBFF",offset:"39.767%"}),n.createElement("stop",{stopColor:"#5F27F5",offset:"99.964%"})))),hs||(hs=n.createElement("path",{d:"M12 24C5.373 24 0 18.627 0 12S5.373 0 12 0s12 5.373 12 12-5.373 12-12 12zm7.069-12.991L7.68 5.969a.791.791 0 00-1.055 1.016l1.89 4.745-1.888 4.756a.792.792 0 001.057 1.016l11.385-5.045a.791.791 0 00-.002-1.448zm-1.624.723l-9.113 4.039 1.41-3.554.042-.12a1.32 1.32 0 00-.042-.855L8.33 7.698l9.116 4.035z",fill:"url(#send@1_5x_svg__a)",fillRule:"evenodd"})))},Rs=n.forwardRef((function(e,t){return n.createElement(Ns,Cs({svgRef:t},e))})),Ls=["svgRef","title"];function zs(){return zs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zs.apply(null,arguments)}var Bs=function(e){var t=e.svgRef,r=e.title,a=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,Ls);return n.createElement("svg",zs({width:16,height:16,viewBox:"0 0 16 16",ref:t},a),r?n.createElement("title",null,r):null,Ps||(Ps=n.createElement("path",{d:"M6.28 15a5.213 5.213 0 01-3.722-1.552l-.017-.018A5.279 5.279 0 011 9.686 5.28 5.28 0 012.542 5.94l4.755-4.785a.523.523 0 01.742 0 .53.53 0 010 .747L3.285 6.687A4.228 4.228 0 002.05 9.684c0 1.133.438 2.197 1.235 2.997l.017.018A4.174 4.174 0 006.28 13.94c1.126 0 2.183-.44 2.978-1.242l3.92-3.942a2.65 2.65 0 00.773-1.88 2.65 2.65 0 00-.773-1.88 2.616 2.616 0 00-1.868-.778c-.706 0-1.37.276-1.868.778L5.933 8.528a1.07 1.07 0 000 1.507 1.054 1.054 0 001.497 0l3.106-3.126a.523.523 0 01.742 0 .53.53 0 010 .747l-3.106 3.126a2.1 2.1 0 01-2.98 0 2.132 2.132 0 010-3l3.506-3.53a3.68 3.68 0 015.22 0A3.705 3.705 0 0115 6.88c0 .992-.383 1.926-1.082 2.627l-3.916 3.942A5.213 5.213 0 016.28 15z",fill:"#666",fillRule:"nonzero"})))},Ms=n.forwardRef((function(e,t){return n.createElement(Bs,zs({svgRef:t},e))})),Ts="annexTips--lCLwS",Fs=function(e){var t=e.disabled,r=e.size,a=e.onSubmit,i=e.onBeforeUpload,l=(0,n.useRef)(null);return n.createElement(n.Fragment,null,n.createElement("input",{onChange:function(e){var t,r=Array.prototype.slice.call(null==e||null===(t=e.target)||void 0===t?void 0:t.files).concat();e.target.value="";var n=i&&i(r);n&&(null==n||n.forEach((function(e){var t;(t=e)&&(null==a||a([t]))})))},ref:l,type:"file",multiple:!0,accept:".csv,.pdf,image/*,.txt,.json,.xls,.xlsx,.doc,.docx,.ppt,.pptx,.mp4,.avi,.mov,.zip,.rar",style:{width:"1px",opacity:0}}),n.createElement(ut,{size:r||14,onClick:function(){t||l.current&&l.current.click()},title:n.createElement("ul",{className:Ts},n.createElement("li",null,"文件数量：最多上传20个"),n.createElement("li",null,"文件大小：图片不超过10M，其他文件不超过150M"),n.createElement("li",null,"支持类型：word、excel、ppt、pdf、txt、csv、jpg、jpeg、png、json、rar、zip、mp4、mov、avi"))},n.createElement(Ms,null)))},Qs=n.memo(Fs),Us="send--mL_Nq",Hs="disabled--Ni95f",Ds="stop--UMXty",Js="inner--V8uNs",Gs="tooltip--iI9re";function Ws(e){return Ws="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ws(e)}function Xs(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=Ws(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Ws(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ws(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ks=function(e){var t=y((function(e){return e.chatSlice})).isChat,r=e.disabled,a=e.canSend,i=e.handleBeforeFileUpload,l=e.handleSubmitFiles,o=e.onSend,c=Mu().handleStopChat;return n.createElement(n.Fragment,null,l?n.createElement(Qs,{size:20,disabled:r,onBeforeUpload:function(e){return null==i?void 0:i(e)},onSubmit:function(e){return null==l?void 0:l(e)}}):null,null!=t&&t.status||!0===t.isAskUser?n.createElement(Ke.A,{tip:"停止生成",autoPlacement:!0,className:u()(Gs)},n.createElement("span",{className:u()(Ds,{}),onClick:function(){return c()}},n.createElement("span",{className:u()(Js)}))):n.createElement(Rs,{className:u()(Us,"inline-block w-6 h-6",Xs({},Hs,r||!a)),onClick:function(){!r&&a&&o()}}))};function Ys(e){return Ys="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ys(e)}function Vs(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=Ys(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Ys(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ys(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Zs=function(e){var t=y((function(e){return e.globalSlice})),r=t.userAgree,a=t.currentSkill,i=t.chatUser,l=t.isMobile,o=y((function(e){return e.chatSlice})),c=o.isDeep,s=o.files,f=o.agentAllowUserInput,m=e.className,d=e.maxHeight,p=void 0===d?360:d,v=(0,n.useRef)(null),g=(0,n.useContext)($t).handleChangeFeedbackShowStatus,A=Qo(),h=A.chatValue,b=A.setChatValue,E=A.handleSend,S=gs(),w=S.handleBeforeFileUpload,O=S.handleSubmitFiles,I=ls().handleKeyDown,x=(0,n.useMemo)((function(){return!r&&i.userId?"同意隐私政策方可使用":a.id?'"'.concat(null==a?void 0:a.name,'" 为你提供服务'):"发送信息"}),[r,i,a]),j=(0,n.useMemo)((function(){return s.length>0?!s.some((function(e){return-1===e.status||0===e.status})):(null==h?void 0:h.trim().length)>0}),[s,h]),k=(0,n.useMemo)((function(){return!(r||!i.userId)||!f}),[r,f,i]),C=function(){null==g||g(1),E()};return n.createElement("div",{className:u()(bs,m,"relative",Vs({},Es,l))},n.createElement("div",{className:u()(Ss,"bg-white h-full"),onClick:function(){var e;null===(e=v.current)||void 0===e||e.focus()}},n.createElement(is,{ref:v,disabled:k,inputMaxHeight:p,maxLength:2e3,className:u()(ws,"h-full relative p-0 max-w-full flex",Vs({},Es,l)),placeholder:x,inputValue:h,showCounter:!1,onChange:function(e){b(e.target.value)},onSend:C,onFocus:function(e){g(2)},onKeyDown:function(e){I(e,h,C)},handlePaste:function(e){if(e.length){var t=w(e);t&&t.length&&O(t)}},suffixRender:function(){return n.createElement(Ks,{disabled:k,canSend:j,onSend:C,handleBeforeFileUpload:w,handleSubmitFiles:O})},attachmentRender:function(){return n.createElement(pe,{showDel:!0,files:s,fixedImgSize:!0,style:{marginBottom:8}})}}),n.createElement("div",{className:u()(Os,Vs({},Is,c))},c?n.createElement(Zu,{className:"w-5 h-5"}):n.createElement(es,{className:"w-5 h-5"}),n.createElement("div",{className:js},"深度搜索"),n.createElement("div",{className:u()(xs)}))))};function qs(e){var t=e.chatInputClassName,r=y((function(e){return e.globalSlice})).isMobile;return n.createElement("div",{className:u()(Wu,"flex justify-center flex-col h-full relative")},n.createElement(Zs,{maxHeight:r?220:360,className:u()(t)}),n.createElement(Gu,null))}var _s=n.memo(qs);function $s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,l,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ef(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ef(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ef(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function tf(e){var t=$s((0,n.useState)(1),2),r=t[0],a=t[1],i=(0,n.useRef)(null),l=(0,n.useCallback)((function(e){a(e)}),[]);return n.createElement($t.Provider,{value:{feedbackShowStatus:r,handleChangeFeedbackShowStatus:l,getChatRef:(0,n.useCallback)((function(){return i.current}),[])}},e.children)}var rf,nf=n.memo(tf),af=["svgRef","title"];function lf(){return lf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lf.apply(null,arguments)}var of=function(e){var t=e.svgRef,r=e.title,a=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,af);return n.createElement("svg",lf({width:20,height:20,viewBox:"0 0 20 20",ref:t},a),r?n.createElement("title",null,r):null,rf||(rf=n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{d:"M10 1a9 9 0 019 8.906V10a.633.633 0 01-.625.55.625.625 0 01-.625-.625l.005.075A7.757 7.757 0 0010 2.25a7.749 7.749 0 00-6.849 4.12.625.625 0 01-1.087-.619A8.999 8.999 0 0110 1z",fill:"#A06EFF"}),n.createElement("path",{d:"M9.999 19a9 9 0 01-8.976-8.337l-.001-.013a.565.565 0 01-.002-.025l-.006-.106.01-.001a.618.618 0 01.558-.52c.343-.035.65.198.683.521a7.752 7.752 0 0014.579 3.118.639.639 0 01.531-.287.625.625 0 01.518.975l.042-.077A8.998 8.998 0 0110 19z",fill:"#2386EE"}),n.createElement("path",{d:"M6.667 9h1a.5.5 0 01.5.5v1a.5.5 0 01-.5.5h-1a.5.5 0 01-.5-.5v-1a.5.5 0 01.5-.5z",fill:"#00CCFE"}),n.createElement("path",{d:"M1 9h1a.5.5 0 01.5.5v1a.5.5 0 01-.5.5H1a.5.5 0 01-.5-.5v-1A.5.5 0 011 9z",fill:"#2386EE"}),n.createElement("path",{d:"M12.333 9h1a.5.5 0 01.5.5v1a.5.5 0 01-.5.5h-1a.5.5 0 01-.5-.5v-1a.5.5 0 01.5-.5z",fill:"#05C8C8"}),n.createElement("path",{d:"M18 9h1a.5.5 0 01.5.5v1a.5.5 0 01-.5.5h-1a.5.5 0 01-.5-.5v-1A.5.5 0 0118 9z",fill:"#A06EFF"}))))},cf=n.forwardRef((function(e,t){return n.createElement(of,lf({svgRef:t},e))})),uf="header--pyaWP",sf="title--JaBFr",ff="text--aloRd",mf="avatar--AqPwK";function df(){var e=y((function(e){return e.globalSlice})),t=e.chatUser,r=e.avatar,a=e.assistantName;return n.createElement("div",{className:u()(uf,"w-full flex-grow-0 flex-shrink-0 justify-center flex relative items-center")},n.createElement("div",{className:u()(sf,"h-full w-full flex items-center justify-center")},n.createElement("span",{className:"w-full flex justify-center items-center"},r?n.createElement("img",{src:r}):n.createElement(cf,null),n.createElement("span",{className:u()(ff,"text-ellipsis overflow-hidden whitespace-nowrap"),title:a||void 0},a||"苍穹"))),n.createElement("div",{className:u()(mf,"absolute")},t.userId?n.createElement(Te,{url:t.picture,isAvatar:!0,width:20,height:20}):null))}var pf,vf=(0,n.memo)(df),yf="wrapper--LDeli",gf="scrollbars--z7CH1",Af="bodyWrapper--DiSB8",hf="newChat--GQc_K",bf="newChatContent--oxJfY",Ef="footer--R_086",Sf="footerContent--aFgvM",wf="chatInput--uO8pg";function Of(){return Of=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Of.apply(null,arguments)}var If,xf,jf=function(){var e=y((function(e){return e.globalSlice})),t=e.allowAutoScroll,r=e.userAgree,a=(0,n.useRef)(null),i=(0,n.useRef)(null),l=(0,n.useRef)(null),o=(0,n.useRef)(0),c=Tu().handleNewChat,s=T("setAllowAutoScroll");function f(){var e,r=(null===(e=l.current)||void 0===e?void 0:e.offsetHeight)||0;r!==o.current&&t&&(a.current&&a.current.scrollToBottom(),o.current=r),pf=setTimeout((function(){f()}),16)}return(0,n.useEffect)((function(){return pf=setTimeout((function(){f()}),16),function(){clearTimeout(pf)}}),[t]),n.createElement(nf,null,n.createElement("div",{className:u()(yf,"flex max-w-full flex-col h-full")},n.createElement(vf,null),n.createElement("div",{className:"flex flex-col relative flex-grow",ref:i,onWheel:function(e){e.deltaY<-50&&s(!1)}},n.createElement("div",{className:"flex flex-col flex-grow relative"},n.createElement(Wo.Ay,{ref:a,autoHide:!0,autoHideTimeout:1e3,style:{width:"100%"},renderTrackHorizontal:function(e){return n.createElement("div",Of({},e,{className:"track-horizontal",style:{display:"none"}}))},className:u()(gf,"h-full"),onScrollFrame:function(e){var t=e.scrollTop;e.scrollHeight-t<=e.clientHeight&&s(!0)}},n.createElement("div",{className:"flex flex-col relative items-center h-full"},n.createElement("div",{ref:l,className:u()(Af,"box-border flex-grow m-auto w-full")},n.createElement(Hc,null)),r?n.createElement("div",{className:u()(hf,"flex justify-center")},n.createElement("div",{className:u()(bf,"flex items-center"),onClick:function(){return c()}},n.createElement(Vo,null),n.createElement("span",null,"开启新会话"))):null))),n.createElement("div",{className:u()(Ef,"sticky flex-col bottom-0 flex items-center z-10 w-full")},n.createElement("div",{className:u()(Sf,"w-full relative flex-grow")},n.createElement(_s,{chatInputClassName:u()(wf)}))))))},kf=["svgRef","title"];function Cf(){return Cf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cf.apply(null,arguments)}var Pf=function(e){var t=e.svgRef,r=e.title,a=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,kf);return n.createElement("svg",Cf({width:168,height:96,viewBox:"0 0 168 96",ref:t},a),r?n.createElement("title",null,r):null,If||(If=n.createElement("defs",null,n.createElement("linearGradient",{x1:"50%",y1:"0%",x2:"50%",y2:"100%",id:"empty_svg__a"},n.createElement("stop",{stopColor:"#D6DCE7",offset:"0%"}),n.createElement("stop",{stopColor:"#D6DCE7",stopOpacity:0,offset:"100%"})))),xf||(xf=n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{d:"M3 39V24C3 15.716 9.716 9 18 9c7.462 0 13.65 5.448 14.806 12.584A9 9 0 0145 30v9H3z",transform:"translate(108 40)",fill:"url(#empty_svg__a)",opacity:.3}),n.createElement("path",{d:"M3 39V24C3 15.716 9.716 9 18 9c7.462 0 13.65 5.448 14.806 12.584A9 9 0 0145 30v9H3z",transform:"matrix(-1 0 0 1 60 32)",fill:"url(#empty_svg__a)",opacity:.3}),n.createElement("path",{d:"M99 9v15h15v60a3 3 0 01-3 3H57a3 3 0 01-3-3V12a3 3 0 013-3h42z",fill:"#E2E8F3"}),n.createElement("path",{fill:"#CAD0DB",d:"M60 24h9v9h-9z"}),n.createElement("path",{fill:"#EEF4FF",d:"M99 9l15 15H99z"}),n.createElement("path",{fill:"#CAD0DB",d:"M60 39h48v6H60zM60 51h24v6H60z"}))))},Nf=n.forwardRef((function(e,t){return n.createElement(Pf,Cf({svgRef:t},e))})),Rf="container--PJilm",Lf="text--W7NU8",zf="img--EhIkU";var Bf=function(){return n.createElement("div",{className:Rf},n.createElement(Nf,{className:zf}),n.createElement("p",{className:Lf},"暂无数据"))},Mf="title--KIley",Tf="titleBg--ZR9ZV",Ff="bgImg--dm12o",Qf="context--Bm8Hv",Uf="text--ygeWk";var Hf,Df=function(e){var t=e.handleClose;return n.createElement("div",{className:Mf},n.createElement("div",{className:Tf}),n.createElement("img",{className:Ff,src:"data:image/png;base64,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",alt:""}),n.createElement("div",{className:Qf},n.createElement("span",{className:Uf}),t?n.createElement(ut,{onClick:t,type:"linear",title:"关闭"},n.createElement(ka,null)):null))},Jf=["svgRef","title"];function Gf(){return Gf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gf.apply(null,arguments)}var Wf,Xf=function(e){var t=e.svgRef,r=e.title,a=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,Jf);return n.createElement("svg",Gf({width:18,height:18,viewBox:"0 0 18 18",ref:t},a),r?n.createElement("title",null,r):null,Hf||(Hf=n.createElement("path",{d:"M13.936 14.32c1.746-.954 2.903-2.601 2.903-4.477 0-1.186-.468-2.278-1.25-3.164.056-.349.086-.701.088-1.054 0-.164-.018-.324-.03-.485C17.095 6.306 18 7.948 18 9.773c0 2.047-1.138 3.865-2.903 5.037V18l-3.255-1.941c-.46.074-.925.112-1.39.113-2.236 0-3.658-.829-5.04-2.138.227.012.453.028.685.028.324 0 .644-.015.96-.04 1.092.728 1.89 1.165 3.395 1.165a7.57 7.57 0 001.502-.155l1.981 1.28V14.32zm-6.388-1.382a17.53 17.53 0 01-1.953-.149l-3.272 1.836v-3.19C.805 10.184 0 8.445 0 6.398 0 2.865 3.374 0 7.548 0c3.47 0 6.968 2.865 6.968 6.398 0 3.534-2.799 6.54-6.968 6.54zm-2.083-1.28c.483.097 1.565.154 2.083.154 3.528 0 5.807-2.392 5.807-5.343 0-2.952-2.92-5.344-5.807-5.344-3.627 0-6.387 2.393-6.387 5.344 0 1.875.906 3.362 2.323 4.475v1.994l1.981-1.28zm5.277-4.346a.85.85 0 01-.846-.851.852.852 0 01.862-.836c.473.002.855.38.855.844a.843.843 0 01-.258.599.873.873 0 01-.613.244zm-3.484 0a.85.85 0 01-.846-.851.852.852 0 01.863-.836c.472.002.854.38.854.844a.858.858 0 01-.87.843zm-3.484 0a.85.85 0 01-.846-.851.852.852 0 01.863-.836c.472.002.854.38.854.844a.843.843 0 01-.257.599.873.873 0 01-.614.244z",fillRule:"nonzero"})))},Kf=n.forwardRef((function(e,t){return n.createElement(Xf,Gf({svgRef:t},e))})),Yf=["svgRef","title"];function Vf(){return Vf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vf.apply(null,arguments)}var Zf=function(e){var t=e.svgRef,r=e.title,a=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,Yf);return n.createElement("svg",Vf({width:16,height:16,viewBox:"0 0 16 16",ref:t},a),r?n.createElement("title",null,r):null,Wf||(Wf=n.createElement("path",{d:"M12.52 5.698l-.425 8.26a.564.564 0 01-.558.542H4.463a.564.564 0 01-.558-.541l-.425-8.26a.567.567 0 01.528-.601c.309-.016.57.225.586.54l.398 7.72h6.016l.398-7.72a.566.566 0 01.586-.54.567.567 0 01.528.6zM14 3.786c0 .315-.25.571-.558.571H2.558A.565.565 0 012 3.786c0-.316.25-.572.558-.572h3.07V1.93c0-.277.18-.429.45-.429h3.844c.27 0 .45.152.45.429v1.285h3.07c.308 0 .558.256.558.572zm-7.395-.572h2.79V2.5h-2.79v.714zm.234 9.286h.011c.27 0 .483-.266.477-.542l-.142-6.176a.499.499 0 00-.5-.496.492.492 0 00-.476.508l.142 6.19c.006.272.223.516.488.516zm2.301 0c.264 0 .482-.23.488-.502L9.77 5.83a.498.498 0 00-.477-.515.491.491 0 00-.5.487l-.141 6.174c-.007.276.207.524.476.524h.012z",fill:"#666",fillRule:"nonzero"})))},qf=n.forwardRef((function(e,t){return n.createElement(Zf,Vf({svgRef:t},e))})),_f={itemWrapper:"itemWrapper--JGart","list-item":"list-item--byknn",more:"more--kp9oo",edit:"edit--togEy",active:"active--L47NT",left:"left--GpeDd",textWrapper:"textWrapper--Psadu",title:"title--IDFon",timer:"timer--Urt2Z",del:"del--RCqGb"};function $f(e){return $f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$f(e)}function em(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=$f(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=$f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$f(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,l,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return rm(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?rm(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rm(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function nm(e){var t=(0,v.wA)(),r=e.info,a=e.isEdit,i=e.handleEdit,l=e.handleClose,o=y((function(e){return e.globalSlice})),c=o.chatSessionId,s=o.model,f=tm((0,n.useState)(!1),2),m=f[0],d=f[1],p=Tu().handleNewChat,g=function(){null==s||s.invokeAsync("deleteChat",{id:r.id,sessionId:r.sessionId}),t(uu({index:m})),d(!1),null==i||i(!1)};return n.createElement("div",{className:u()(_f.itemWrapper,"flex justify-between items-center",_f["list-item"],em(em(em({},_f.active,c===r.id),_f.hover,!a&&m),_f.edit,a)),onMouseEnter:function(){a||d(!0)},onMouseLeave:function(){d(!1)},onClick:function(){!function(){if(!a){if(r.id===c)return;t(fu(!0)),p({needInvoke:!1,toChat:!0}),null==s||s.invokeAsync("getChatItemList",{id:null==r?void 0:r.id,lastId:"0",pageSize:-1,searchKey:""}),t(L(r.id)),null==l||l()}}()}},n.createElement("div",{className:u()(_f.content,"flex w-11/12")},n.createElement("div",{className:u()(_f.left)},n.createElement(ut,{type:"default"},n.createElement(Kf,null))),n.createElement("div",{className:u()("w-11/12")},n.createElement("div",{className:u()(_f.textWrapper)},n.createElement("div",{className:_f.title},r.title)),n.createElement("div",{className:u()(_f.timer)},r.lastMessageTimeV))),m?n.createElement("span",{className:_f.del,onClick:function(e){e.stopPropagation(),g()}},n.createElement(ut,{type:"linear"},n.createElement(qf,null))):null)}var am=(0,n.memo)(nm),im={chatHistory:"chatHistory--sIO5X",content:"content--sqoQO",show:"show--eAgRF",slideRight:"slideRight--WFMJk",hide:"hide--h3TBn",slideLeft:"slideLeft--T29Qe",mask:"mask--Jfz5Z","footer-text":"footer-text--EtOXd",slideUpBG:"slideUpBG--pOoJm",slideDownBG:"slideDownBG--Iowqq",inputWrapper:"inputWrapper--MIfjB",listWrapper:"listWrapper--ROYHP",noAllowedClickMask:"noAllowedClickMask--dxMZK",popupContainer:"popupContainer--zTHCj",popupContainerLeft:"popupContainerLeft--G7eqG",popupContainerRight:"popupContainerRight--knkgL",popupContent:"popupContent--jjyl4","popupContent-full":"popupContent-full--CxJl0",slideUp:"slideUp--aN3Dr",slideDown:"slideDown--MFyhX"};function lm(){return lm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lm.apply(null,arguments)}function om(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,l,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return cm(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?cm(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cm(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var um=function(e){var t=e.children,r=e.onClose,a=(0,v.wA)(),i=om((0,n.useState)(!0),2),l=i[0],o=i[1],c=y((function(e){return e.globalSlice})),s=c.chatSessionId,f=c.model,m=y((function(e){return e.agentSlice})),d=m.chatHistoryList,p=m.hasMoreChatHistory,g=om((0,n.useState)(!0),2),A=g[0],h=g[1],b=(0,n.useRef)(null),E=(0,n.useRef)(null),S=(0,n.useRef)("0"),w=(0,n.useRef)(!1),O=(0,n.useRef)(""),I=(0,n.useMemo)((function(){return A||w.current?n.createElement("div",{className:im["footer-text"]},"加载中..."):0!==d.length||p||A?p?n.createElement("div",{className:im["footer-text"]},"加载中..."):n.createElement("div",{className:im["footer-text"]},"没有更多了..."):n.createElement("div",{style:{paddingTop:"120px"}},n.createElement(Bf,null))}),[A,p,d]),x=(0,n.useRef)(!1),j=function(){o(!1),r()};(0,n.useEffect)((function(){return h(!0),null==f||f.invokeAsync("getChatInfoList",{id:s,lastId:"0",pageSize:30,searchKey:""}),function(){a(lu()),a(cu(!0))}}),[]),(0,n.useEffect)((function(){w.current&&A&&(w.current=!1),h(!1),x.current=!1}),[d]);var k=function(){return l?im.show:im.hide};return n.createElement("div",{className:u()(im.chatHistory)},n.createElement("div",{className:u()(im.mask,k()),onClick:j}),n.createElement("div",{className:u()(im.content,k())},n.createElement("div",{className:u()("flex flex-col h-full")},t,n.createElement(Df,{title:"历史记录",handleClose:j}),n.createElement("div",{className:u()(im.inputWrapper,"flex items-center")},n.createElement(eo,{type:"search",placeholder:"搜索",onKeyEnter:function(e){w.current=!0,O.current=e,a(lu()),setTimeout((function(){h(!0),a(cu(!1)),null==f||f.invokeAsync("getChatInfoList",{id:s,lastId:"0",pageSize:30,searchKey:e})}),0)},maxLength:25})),n.createElement(Wo.ur,{autoHide:!0,autoHideTimeout:1e3,style:{width:"100%"},renderTrackHorizontal:function(e){return n.createElement("div",lm({},e,{className:"track-horizontal",style:{display:"none"}}))},onScrollFrame:function(){if(p&&!x.current){var e=E.current;if(null!=e){var t,r=e.getBoundingClientRect();if(null!=r)r.bottom<=document.body.clientHeight&&(t=O.current,h(!0),S.current=d.length>0?d[d.length-1].sessionId:"0",null==f||f.invokeAsync("getChatInfoList",{id:s,lastId:S.current,pageSize:30,searchKey:t||""}),x.current=!0)}}}},n.createElement("div",{ref:b,className:u()(im.listWrapper,"flex-grow")},d.map((function(e,t){return n.createElement(am,{key:t,info:e,handleClose:j})})),n.createElement("div",{className:im.footer},n.createElement("div",{ref:E},I)))))))},sm="layout--iRpZ6",fm="main--i0iW9",mm="logoWrapper--BNnRk",dm="logo--ttJO8",pm="desc--PISI9",vm="chatInput--So9lw",ym="suggestion--aLrhX",gm="title--TK4e1",Am="item--B_oAo";var hm=function(){var e=y((function(e){return e.globalSlice})).currentSkill,t=Qo().handleSend,r=e.suggestedAsks,a=void 0===r?[]:r;return n.createElement("div",{className:u()("h-screen",sm)},n.createElement("div",{className:"h-full"},n.createElement("div",{className:u()(fm,"h-full flex flex-col items-center relative")},n.createElement("div",{className:u()(mm)},n.createElement("div",{className:u()(dm,"bg-contain","bg-no-repeat")})),n.createElement("div",{className:u()(pm,"text-center mb-20 mt-10")},n.createElement("p",null,"苍穹版DeepSeek，融合强大AI引擎，能力全面提升。"),n.createElement("p",null,"依托苍穹Agent平台，提供全方位智能支持，助力企业快速部署、精细化管理")),n.createElement(nf,null,n.createElement(Zs,{maxHeight:220,className:u()(vm)})),a.length?n.createElement("div",{className:u()(ym,"mt-12 w-full")},n.createElement("div",{className:u()(gm,"flex justify-start items-center")},n.createElement("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAEKADAAQAAAABAAAAEAAAAAA0VXHyAAABuklEQVQ4EY1SPUjDUBC+l6RQFQdxEHRS0IqL4s/uT0ZnQdR2sbS6uKjt0EIRRKtS/LftmKIOXXRxKjq46uDioIPg5CQIRZQ273lnk5g2UXyQvHfffffdvS8BcFlToa0efzhZcEk5IMmBICCBHhQAY4G5tQG3vB1zCEzOrragQpBIXMhxO9ntLNvB4URCaXr3niHmM/DuvkH15e6mcGvn2c/MDKizonhOAMSoiRk7BwGxj9f2jXx+Qq/JASPD6M7fYwtoqCVYMYMHIcT2J4eTfDb6ZuKKzPRdMgy7/L0EdDFgO14sQGLWJEtaOqJKjA8CsHMTdNmLwMRKmcutuaNlq5h4lgcU+MPrIQHsEI8/X4fBE+fy+HFm8Z44teuHiBktHc2QYTZSsbZ4JpycQaOtxlUCVEhu41wP3yJMpOyd/eFUG+IH06FNFKkshwB9KnIb06WyruyZRCoWUDrFuJGhsH8+OUK5qh/JJPv61UdFkp6PM0vXhFXG5hd47DQ49XjVQO+Q2mHdxUj8sglGY1NnJDTjg16Lfa7Ux/4pUNGlsQWHS4x2c+nIAqEODypU97d2GLnCzhr31MVNxhcLh4/nENlkBwAAAABJRU5ErkJggg=="}),n.createElement("span",{className:"inline-block"},"有什么可以帮忙的？")),n.createElement("div",{className:"flex flex-wrap justify-start gap-4"},a.map((function(e){return n.createElement("button",{key:e.id,className:u()(Am,"flex items-center gap-2 px-4 py-2 bg-white rounded-full shadow-sm hover:shadow-md transition-shadow"),onClick:function(){var r;r={chatValue:e.name,isQuickly:!0},t(r)}},n.createElement("span",{title:e.name,className:u()("inline-block w-full overflow-hidden whitespace-nowrap text-ellipsis")},e.name))})))):null)),n.createElement("div",{className:"fixed bottom-0 w-full"},n.createElement(Gu,null)))},bm=r.p+"gai_h5_chat/assets/cosmic@3x.c49099c115747046c539.png",Em="wrapper--O_2Nt",Sm="logo--yVCr8",wm="line--m6Aeh",Om="newChat--IKRo0";var Im=function(e){var t=e.className,r=Tu().handleNewChat;return n.createElement("div",{className:u()(t,Em,"flex flex-col justify-between")},n.createElement("div",{className:u()(Sm)},n.createElement("img",{src:bm})),n.createElement("div",{className:u()(wm)},n.createElement("span",null)),n.createElement("div",{className:u()(Om,"text-center flex justify-center items-center"),onClick:function(){r()}},n.createElement(Vo,null)))},xm="popper--vKCtD";function jm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,l,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return km(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?km(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function km(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Cm,Pm=function(){var e=y((function(e){return e.globalSlice})),t=e.isStartChat,r=e.chatUser,a=jm((0,n.useState)(!1),2),i=a[0],l=a[1],o=lo().handleLogin;return n.createElement(n.Fragment,null,n.createElement(Go,{className:"fixed top-0 left-0 w-full h-full -z-10 pointer-events-none"}),t?n.createElement(jf,null):n.createElement(hm,null),n.createElement(Im,{className:u()(xm,"absolute"),onClickShowHistory:function(){r.userId?l(!0):o()}}),i?n.createElement(um,{onClose:function(){setTimeout((function(){l(!1)}),300)}}):null)},Nm=["svgRef","title"];function Rm(){return Rm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rm.apply(null,arguments)}var Lm=function(e){var t=e.svgRef,r=e.title,a=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,Nm);return n.createElement("svg",Rm({width:20,height:20,viewBox:"0 0 20 20",ref:t},a),r?n.createElement("title",null,r):null,Cm||(Cm=n.createElement("path",{d:"M10.019 0C15.579 0 20 4.532 20 9.986 20 15.758 15.394 20 10 20c-1.7 0-3.504-.467-4.94-1.314l-.158-.094c-.338-.194-.473-.222-.648-.165l-1.937.574c-.988.257-1.879-.595-1.59-1.634l.646-2.163a.269.269 0 00-.032-.21C.47 13.396 0 11.672 0 10.014 0 4.556 4.392 0 10.019 0zm0 1.434c-4.822 0-8.585 3.903-8.585 8.58 0 1.409.407 2.9 1.148 4.264.263.43.302.96.14 1.417l-.554 1.855 1.767-.525c.608-.17 1.074-.034 1.747.362l.115.07c1.201.707 2.753 1.108 4.203 1.108 4.627 0 8.566-3.627 8.566-8.58 0-4.67-3.786-8.551-8.547-8.551zm.019 4.172c.374 0 .68.287.713.653l.002.065-.007 3.018 2.977.006a.717.717 0 01.062 1.431l-.065.003-2.977-.007-.007 2.98a.717.717 0 01-1.43.061l-.003-.065.006-2.98-3.019-.006a.717.717 0 01-.062-1.43l.065-.004 3.019.007.007-3.017a.717.717 0 01.719-.715z",fill:"#000",fillRule:"nonzero"})))},zm=n.forwardRef((function(e,t){return n.createElement(Lm,Rm({svgRef:t},e))})),Bm="header--oPom6",Mm="title--bIxgV",Tm="text--tSzYr",Fm="left--TqhvT",Qm="right--YjMB4";function Um(){var e=y((function(e){return e.globalSlice})),t=e.isStartChat,r=e.avatar,a=e.assistantName,i=Tu().handleNewChat;return n.createElement("div",{className:u()(Bm,"w-full flex-shrink-0 justify-between flex relative items-center")},n.createElement("div",{className:u()(Fm,"p-1 flex-shrink-0")}),t?n.createElement("div",{className:u()(Mm,"h-full flex items-center justify-center flex-grow")},n.createElement("span",{className:"w-full flex-grow flex justify-center items-center"},r?n.createElement("img",{src:r}):n.createElement(cf,null),n.createElement("span",{className:u()(Tm,"text-ellipsis overflow-hidden whitespace-nowrap")},a||"苍穹"))):null,n.createElement("div",{className:u()(Qm,"p-1  flex-shrink-0"),onClick:function(){i()}},n.createElement(zm,null)))}var Hm,Dm=(0,n.memo)(Um),Jm={wrapper:"wrapper--FrVU1",scrollbars:"scrollbars--juA2y",bodyWrapper:"bodyWrapper--M5V5L",footer:"footer--FAl_h",chatInput:"chatInput--Nn8q5"};function Gm(){return Gm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gm.apply(null,arguments)}function Wm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,l,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Xm(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Xm(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xm(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Km,Ym,Vm=function(){var e=y((function(e){return e.globalSlice})),t=e.allowAutoScroll,r=e.deviceType,a=Wm((0,n.useState)(0),2),i=a[0],l=a[1],o=(0,n.useRef)(null),c=(0,n.useRef)(null),s=(0,n.useRef)(null),f=(0,n.useRef)(0),m=T("setAllowAutoScroll");function d(){var e,r=(null===(e=s.current)||void 0===e?void 0:e.offsetHeight)||0;r!==f.current&&t&&(o.current&&o.current.scrollToBottom(),f.current=r),Hm=setTimeout((function(){d()}),16)}return(0,n.useEffect)((function(){return Hm=setTimeout((function(){d()}),16),function(){clearTimeout(Hm)}}),[t]),n.createElement(nf,null,n.createElement("div",{className:u()(Jm.wrapper,"flex max-w-full flex-col h-full")},n.createElement(Dm,null),n.createElement("div",{className:"flex flex-col relative flex-grow",ref:c,onWheel:function(e){e.deltaY<-50&&m(!1)}},n.createElement("div",{className:"flex flex-col flex-grow relative"},n.createElement(Wo.Ay,{ref:o,autoHide:!0,autoHideTimeout:1e3,style:{width:"100%"},renderTrackHorizontal:function(e){return n.createElement("div",Gm({},e,{className:"track-horizontal",style:{display:"none"}}))},className:u()(Jm.scrollbars,"h-full"),onScrollFrame:function(e){var t=e.scrollTop;e.scrollHeight-t<=e.clientHeight&&m(!0)}},n.createElement("div",{className:"flex flex-col h-full relative items-center",style:{margin:"0 16px"}},n.createElement("div",{ref:s,className:u()(Jm.bodyWrapper,"box-border flex-grow m-auto w-full"),onTouchStart:function(e){null!=r&&r.isMobile&&l(e.touches[0].clientY)},onTouchMove:function(e){if(null!=r&&r.isMobile&&null!==i){var n=e.touches[0].clientY;i-n<=-50&&t&&m(!1)}},onTouchEnd:function(){null!=r&&r.isMobile&&l(0)}},n.createElement(Hc,null))))),n.createElement("div",{className:u()(Jm.footer,"sticky flex-col bottom-0 flex items-center z-10 w-full")},n.createElement("div",{className:u()(Jm.footerContent,"w-full relative flex-grow")},n.createElement(_s,{chatInputClassName:u()(Jm.chatInput)}))))))},Zm=["svgRef","title"];function qm(){return qm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qm.apply(null,arguments)}var _m=function(e){var t=e.svgRef,r=e.title,a=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,Zm);return n.createElement("svg",qm({viewBox:"0 0 375 812",preserveAspectRatio:"xMidYMid slice",ref:t},a),r?n.createElement("title",null,r):null,Km||(Km=n.createElement("defs",null,n.createElement("filter",{x:"-34.8%",y:"-34.8%",width:"169.5%",height:"169.5%",filterUnits:"objectBoundingBox",id:"bg@1_5x_svg__c"},n.createElement("feGaussianBlur",{stdDeviation:50,in:"SourceGraphic"})),n.createElement("filter",{x:"-36.1%",y:"-36.1%",width:"172.3%",height:"172.3%",filterUnits:"objectBoundingBox",id:"bg@1_5x_svg__e"},n.createElement("feOffset",{in:"SourceAlpha",result:"shadowOffsetOuter1"}),n.createElement("feGaussianBlur",{stdDeviation:6.5,in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),n.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.0815668706 0",in:"shadowBlurOuter1"})),n.createElement("filter",{x:"-26.7%",y:"-26.7%",width:"153.4%",height:"153.4%",filterUnits:"objectBoundingBox",id:"bg@1_5x_svg__h"},n.createElement("feGaussianBlur",{stdDeviation:50,in:"SourceGraphic"})),n.createElement("filter",{x:"-27.7%",y:"-27.7%",width:"155.5%",height:"155.5%",filterUnits:"objectBoundingBox",id:"bg@1_5x_svg__i"},n.createElement("feOffset",{in:"SourceAlpha",result:"shadowOffsetOuter1"}),n.createElement("feGaussianBlur",{stdDeviation:6.5,in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),n.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.0815668706 0",in:"shadowBlurOuter1"})),n.createElement("radialGradient",{cx:"50%",cy:"60.723%",fx:"50%",fy:"60.723%",r:"45.323%",gradientTransform:"rotate(2.168 -.419 .59) scale(1 .94273)",id:"bg@1_5x_svg__g"},n.createElement("stop",{stopColor:"#82A3FF",offset:"0%"}),n.createElement("stop",{stopColor:"#ACD1FB",offset:"43.78%"}),n.createElement("stop",{stopColor:"#E1E8F7",offset:"100%"})),n.createElement("radialGradient",{cx:"50%",cy:"60.723%",fx:"50%",fy:"60.723%",r:"45.323%",gradientTransform:"rotate(2.168 -.419 .59) scale(1 .94273)",id:"bg@1_5x_svg__k"},n.createElement("stop",{stopColor:"#828CFF",offset:"0%"}),n.createElement("stop",{stopColor:"#B9BFFA",offset:"57.425%"}),n.createElement("stop",{stopColor:"#E1E8F7",offset:"100%"})),n.createElement("rect",{id:"bg@1_5x_svg__f",x:82,y:274,width:469,height:469,rx:234.5}),n.createElement("rect",{id:"bg@1_5x_svg__j",x:-374,y:-60,width:611,height:611,rx:305.5}),n.createElement("linearGradient",{x1:"54.689%",y1:"0%",x2:"54.689%",y2:"67.788%",id:"bg@1_5x_svg__b"},n.createElement("stop",{stopColor:"#EBF0F6",offset:"0%"}),n.createElement("stop",{stopColor:"#FFF",offset:"100%"})),n.createElement("path",{id:"bg@1_5x_svg__a",d:"M0 0h375v812H0z"}))),Ym||(Ym=n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("mask",{id:"bg@1_5x_svg__d",fill:"#fff"},n.createElement("use",{xlinkHref:"#bg@1_5x_svg__a"})),n.createElement("use",{fill:"url(#bg@1_5x_svg__b)",xlinkHref:"#bg@1_5x_svg__a"}),n.createElement("g",{opacity:.295,filter:"url(#bg@1_5x_svg__c)",mask:"url(#bg@1_5x_svg__d)"},n.createElement("use",{fill:"#000",filter:"url(#bg@1_5x_svg__e)",xlinkHref:"#bg@1_5x_svg__f"}),n.createElement("use",{fill:"url(#bg@1_5x_svg__g)",xlinkHref:"#bg@1_5x_svg__f"})),n.createElement("g",{opacity:.295,filter:"url(#bg@1_5x_svg__h)",mask:"url(#bg@1_5x_svg__d)"},n.createElement("use",{fill:"#000",filter:"url(#bg@1_5x_svg__i)",xlinkHref:"#bg@1_5x_svg__j"}),n.createElement("use",{fill:"url(#bg@1_5x_svg__k)",xlinkHref:"#bg@1_5x_svg__j"})))))},$m=n.forwardRef((function(e,t){return n.createElement(_m,qm({svgRef:t},e))})),ed="mobileLayout--Q6PgW",td="main--CbQ8E",rd="logo--u5IpS",nd="suggestions--qAbvh",ad="title--p2cfm",id="content--_272y",ld="item--Fv_je",od="footer--X3lQm",cd="chatInput--X_O5q";var ud=function(){var e=y((function(e){return e.globalSlice})).currentSkill,t=Qo().handleSend,r=e.suggestedAsks,a=void 0===r?[]:r;return n.createElement("div",{className:u()("h-screen flex flex-col flex-grow flex-shrink-0",ed)},n.createElement($m,{className:"fixed top-0 left-0 w-full h-full -z-10 pointer-events-none"}),n.createElement(Dm,null),n.createElement("div",{className:u()(td,"flex-grow relative")},n.createElement("div",{className:u()("min-h-full absolute top-0 bottom-0 left-0 right-0 overflow-hidden")},n.createElement("div",{className:u()("flex-col flex-grow h-full flex relative items-center")},n.createElement("div",{className:"flex flex-col flex-grow items-center w-full"},n.createElement("div",{className:u()(rd,"bg-contain","bg-no-repeat")}),a.length?n.createElement("div",{className:u()(nd,"w-full flex justify-center flex-col")},n.createElement("div",{className:u()(ad)},"有什么可以帮忙？"),n.createElement("div",{className:u()(id,"flex flex-wrap gap-4 justify-center mb-4 w-full")},a.map((function(e){return n.createElement("button",{key:e.id,className:u()(ld,"flex items-center gap-3 px-6 bg-white rounded-full border border-gray-100 shadow-sm"),onClick:function(){var r;r={chatValue:e.name,isQuickly:!0},t(r)}},n.createElement("span",{className:u()("text-sm inline-block w-full overflow-hidden whitespace-nowrap text-ellipsis")},e.name))})))):null),n.createElement("div",{className:u()(od,"sticky w-full flex-col items-center flex ")},n.createElement(nf,null,n.createElement(Zs,{maxHeight:220,className:u()(cd)})))))),n.createElement("div",{className:"fixed bottom-0 w-full"},n.createElement(Gu,null)))},sd={container:"container--msYbQ",text:"text--sUUca",img:"img--T_NM5","footer-text":"footer-text--p1YlK",history:"history--XU6g7",listWrapper:"listWrapper--yk5or",item:"item--b2M88",left:"left--x57GM",textWrapper:"textWrapper--aBVjn"};var fd=function(){return n.createElement("div",{className:sd.container},n.createElement(Nf,{className:sd.img}),n.createElement("p",{className:sd.text},"暂无数据"))};function md(){return md=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},md.apply(null,arguments)}function dd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,l,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return pd(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?pd(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pd(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var vd=function(e){var t=(0,v.wA)(),r=y((function(e){return e.globalSlice})),a=r.chatSessionId,i=r.model,l=Tu().handleNewChat,o=y((function(e){return e.agentSlice})),c=o.chatHistoryList,s=o.hasMoreChatHistory,f=e.onClose,m=(0,n.useRef)("0"),d=(0,n.useRef)(!1),p=(0,n.useRef)(""),g=(0,n.useRef)(null),A=dd((0,n.useState)(!0),2),h=A[0],b=A[1],E=(0,n.useRef)(null),S=(0,n.useRef)(!1),w=(0,n.useMemo)((function(){return h||d.current?n.createElement("div",{className:sd["footer-text"]},"加载中..."):0!==c.length||s||h?s?n.createElement("div",{className:sd["footer-text"]},"加载中..."):n.createElement("div",{className:sd["footer-text"]},"没有更多了..."):n.createElement("div",{style:{paddingTop:"120px"}},n.createElement(fd,null))}),[h,s,c]);return(0,n.useEffect)((function(){return b(!0),null==i||i.invokeAsync("getChatInfoList",{id:a,lastId:"0",pageSize:30,searchKey:""}),function(){t(lu()),t(cu(!0))}}),[]),(0,n.useEffect)((function(){d.current&&h&&(d.current=!1),b(!1),S.current=!1}),[c]),n.createElement("div",{className:u()(sd.history,"flex flex-col flex-grow")},n.createElement(eo,{isMobile:!0,type:"search",placeholder:"搜索",onKeyEnter:function(e){d.current=!0,p.current=e,t(lu()),setTimeout((function(){b(!0),t(cu(!1)),null==i||i.invokeAsync("getChatInfoList",{id:a,lastId:"0",pageSize:30,searchKey:e})}),0)},maxLength:25}),n.createElement(Wo.Ay,{autoHide:!0,autoHideTimeout:1e3,style:{width:"100%"},renderTrackHorizontal:function(e){return n.createElement("div",md({},e,{className:"track-horizontal",style:{display:"none"}}))},onScrollFrame:function(){if(s&&!S.current){var e=E.current;if(null!=e){var t,r=e.getBoundingClientRect();if(null!=r)r.bottom<=document.body.clientHeight+100&&(t=p.current,b(!0),m.current=c.length>0?c[c.length-1].sessionId:"0",null==i||i.invokeAsync("getChatInfoList",{id:a,lastId:m.current,pageSize:30,searchKey:t||""}),S.current=!0)}}}},n.createElement("div",{ref:g,className:u()(sd.listWrapper,"flex-col flex w-full")},c.map((function(e,r){return n.createElement("div",{key:r,className:u()(sd.item,"flex items-center justify-start"),onClick:function(){return function(e){e.id!==a&&(t(fu(!0)),l({needInvoke:!1,toChat:!0}),null==i||i.invokeAsync("getChatItemList",{id:null==e?void 0:e.id,lastId:"0",pageSize:-1,searchKey:""}),t(L(e.id)),null==f||f())}(e)}},n.createElement("div",{className:u()(sd.left)},n.createElement(ut,{type:"default"},n.createElement(Kf,null))),n.createElement("div",{className:u()(sd.textWrapper)},e.title))})),n.createElement("div",{className:sd.footer},n.createElement("div",{ref:E},w)))))},yd="mobileMore--x2efh",gd="hide--WT6Si",Ad="content--i9ysT",hd="header--K7X2F",bd="avatar--uuObI",Ed="name--XGre7",Sd="historyWrapper--RiLT3",wd="mask--G5Qb6";function Od(e){return Od="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Od(e)}function Id(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=Od(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Od(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Od(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,l,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return jd(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?jd(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jd(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var kd=function(){var e=y((function(e){return e.globalSlice})),t=e.isMobileShowMore,r=e.chatUser,a=xd((0,n.useState)(!1),2),i=a[0],l=a[1],o=T("setIsMobileShowMore"),c=Je({visible:!0,assistant:r}),s=function(){l(!1),setTimeout((function(){o(!1)}),100)};return(0,n.useEffect)((function(){t&&l(t)}),[t]),n.createElement("div",{className:u()(yd,Id({},gd,!i))},n.createElement("div",{className:u()(Ad,"flex flex-col",Id({},gd,!i))},n.createElement("div",{className:u()(hd,"flex items-center")},n.createElement("div",{className:u()(bd,"flex items-center flex-shrink-0")},n.createElement("img",{src:null==c?void 0:c.avatar})),n.createElement("div",{className:u()(Ed,"flex-grow overflow-hidden text-ellipsis whitespace-nowrap")},null==c?void 0:c.name)),n.createElement("div",{className:u()(Sd,"flex flex-grow")},n.createElement(vd,{onClose:s}))),n.createElement("div",{className:u()(wd,Id({},gd,!i)),onClick:s}))};var Cd,Pd=function(){var e=y((function(e){return e.globalSlice})).isStartChat;return n.createElement("div",{className:"h-full w-full relative"},n.createElement(Go,{className:"fixed top-0 left-0 w-full h-full -z-10 pointer-events-none"}),e?n.createElement(Vm,null):n.createElement(ud,null),n.createElement(kd,null))},Nd={},Rd={chatInput:"chatInput--rWzZO"},Ld=["svgRef","title"];function zd(){return zd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zd.apply(null,arguments)}var Bd=function(e){var t=e.svgRef,r=e.title,a=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,Ld);return n.createElement("svg",zd({width:16,height:16,viewBox:"0 0 16 16",ref:t},a),r?n.createElement("title",null,r):null,Cd||(Cd=n.createElement("path",{d:"M12.667 1C13.955 1 15 1.895 15 3v10c0 1.105-1.045 2-2.333 2H3.333C2.045 15 1 14.105 1 13V3c0-1.105 1.045-2 2.333-2h9.334zm.133 1H3.2c-.633 0-1.15.408-1.197.925L2 3v10c0 .527.49.96 1.11.997L3.2 14h9.6c.633 0 1.15-.408 1.197-.925L14 13V3c0-.527-.49-.96-1.11-.997L12.8 2zm-7.705 8.286a.571.571 0 010 1.143h-1.19a.571.571 0 110-1.143h1.19zm7 0a.571.571 0 010 1.143h-4.69a.571.571 0 110-1.143h4.69zm-7-2.857a.571.571 0 110 1.142h-1.19a.571.571 0 110-1.142h1.19zm7 0a.571.571 0 110 1.142h-4.69a.571.571 0 110-1.142h4.69zm-7-2.858a.571.571 0 010 1.143h-1.19a.571.571 0 110-1.143h1.19zm7 0a.571.571 0 110 1.143h-4.69a.571.571 0 110-1.143h4.69z",fill:"#666",fillRule:"evenodd"})))},Md=n.forwardRef((function(e,t){return n.createElement(Bd,zd({svgRef:t},e))}));function Td(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Fd(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Fd(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){o=!0,i=e},f:function(){try{l||null==r.return||r.return()}finally{if(o)throw i}}}}function Fd(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}r(63102);var Qd="selectSkill--g7b1d",Ud="hasSkill--KgTQZ",Hd="header--Mv5w8",Dd="search--nZ40X",Jd="skills--jV6TC",Gd="back--Zx4n_",Wd="skill--d_LkY",Xd="selected--lYSzq",Kd="content--djXtL",Yd="avatar--wtpu7",Vd="right--TIa57",Zd="name--bQPOB",qd="description--qQUfr",_d="subScriptWrapper--tYM3D",$d="subScript--wJGaQ";function ep(e){return ep="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ep(e)}function tp(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=ep(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ep(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ep(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rp(e){var t=e.info,r=e.className,a=e.onClick,i=t.name,l=t.picture,o=t.serviceDes,c=y((function(e){return e.globalSlice})).currentSkill.id===t.id,s=function(){null==a||a(t)};return n.createElement("div",{className:u()(Wd,r,tp({},Xd,c)),onClick:function(){return s()}},n.createElement("div",{className:Kd},n.createElement("div",{className:Yd},n.createElement(Te,{url:l||_n,isAvatar:!1,name:i||"",width:32,height:32})),n.createElement("div",{className:Vd},n.createElement("div",{className:Zd,title:i||""},i||""),n.createElement("div",{className:qd,title:(null==o?void 0:o.replace(/\n+/g,""))||" "},(null==o?void 0:o.replace(/\n+/g,""))||" "))),c?n.createElement("div",{className:_d},n.createElement("div",{className:$d})):null)}var np="search--Z50bm",ap="active--q1lRd",ip="input--DZC0A";function lp(e){return lp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lp(e)}function op(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=lp(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=lp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==lp(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,l,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return up(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?up(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function up(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function sp(e){var t=e.value,r=e.placeholder,a=void 0===r?"搜索":r,i=e.className,l=e.maxLength,o=e.handleChange,c=e.handleClear,s=cp((0,n.useState)(!1),2),f=s[0],m=s[1];return n.createElement("div",{className:u()(i,np,op({},ap,f))},n.createElement(ut,{size:14,type:"face",style:{color:"#999"}},n.createElement(Jl,null)),n.createElement("input",{className:ip,value:t,placeholder:a,maxLength:l,onChange:function(e){var t=e.target.value;o(t||"")},onFocus:function(){return m(!0)},onBlur:function(){return m(!1)}}),t&&c?n.createElement(ut,{size:14,onClick:function(e){e.preventDefault(),e.stopPropagation(),null==c||c()},type:"face"},n.createElement(Ql,null)):null)}function fp(e){return fp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fp(e)}function mp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function dp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mp(Object(r),!0).forEach((function(t){pp(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mp(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pp(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=fp(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=fp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==fp(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,l,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw a}}return o}}(e,t)||gp(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yp(e){return function(e){if(Array.isArray(e))return Ap(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||gp(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gp(e,t){if(e){if("string"==typeof e)return Ap(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ap(e,t):void 0}}function Ap(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function hp(e,t){if(t){var r=e.findIndex((function(e){return e.id===t}));if(r>-1){var n=yp(e);return[n.splice(r,1)[0]].concat(yp(n))}return yp(e)}return yp(e)}function bp(e){var t=y((function(e){return e.globalSlice})),r=t.skillList,a=t.currentSkill,i=e.wrapperRef,l=e.className,o=e.handleClose,c=e.style,f=vp((0,n.useState)(""),2),m=f[0],d=f[1],p=vp((0,n.useState)([]),2),v=p[0],g=p[1],A=T("setCurrentSkill"),h=W("setAgentAllowUserInput"),b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=r.filter((function(t){return r=t.name,n=e,r.toLocaleLowerCase().includes(n.toLocaleLowerCase());var r,n}));g(hp(t,a.id))},E=(0,s.A)(b,10,{leading:!0}),S=function(e){a.id!==e.id&&(h(!0),A(e)),null==o||o()};return(0,n.useEffect)((function(){g(hp(r,a.id))}),[r]),n.createElement("div",{className:u()(Qd,l,pp({},Ud,a.id)),style:dp({},c),ref:i},n.createElement("div",{className:Hd},"选择智能体"),n.createElement(sp,{placeholder:"搜索智能体",value:m,className:Dd,handleChange:function(e){d(e),E(e)},handleClear:function(){d(""),b()}}),n.createElement("div",{className:Jd},v.map((function(e){return n.createElement(rp,{key:e.id,info:e,onClick:S})}))),a.id?n.createElement("div",{className:Gd,onClick:function(){return A({}),void(null==o||o())}},"取消并返回智能匹配"):null)}var Ep=(0,n.memo)(bp),Sp={inputSkill:"inputSkill--UCQCU",avatar:"avatar--MfBIb",active:"active--_TK8K"};function wp(e){return wp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wp(e)}function Op(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=wp(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=wp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==wp(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ip(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,l,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return xp(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?xp(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xp(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function jp(e){var t,r,a=y((function(e){return e.globalSlice})),i=a.currentSkill,l=a.model,o=a.chatSessionId,c=y((function(e){return e.chatSlice})).isChat,s=e.className,f=Ip((0,n.useState)(!1),2),m=f[0],d=f[1],p=(0,n.useContext)(Pp).getChatFooterRef,v=(0,n.useRef)(null),g=(0,n.useRef)(null),A=function(e){c.status||(d(e),e&&(null==l||l.invokeAsync("getSkillList",{id:o})))};t=[v,g],r=function(e){e.stopPropagation(),A(!1)},(0,n.useEffect)((function(){var e=function(e){var n,a=Td(t);try{for(a.s();!(n=a.n()).done;){var i=n.value;if(!i.current||i.current.contains(e.target))return}}catch(e){a.e(e)}finally{a.f()}r(e)};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),function(){document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}}),[t,r]);var h=function(){A(!1)},b=(0,n.useCallback)((function(){var e=p?p():null,t=50;e&&(t=e.scrollHeight+2);var r=n.createElement(Ep,{wrapperRef:v,className:u()(Sp.selectSkill,Sp.popupClassName),style:{bottom:t},handleClose:h});return e?(0,Ll.createPortal)(r,e):r}),[p]);return n.createElement("div",{className:u()(s,Sp.inputSkill)},n.createElement("div",{ref:g,className:u()(Sp.iconWrapper,"flex")},i.id?n.createElement("div",{className:u()(Sp.avatar,Op({},Sp.active,m)),onClick:function(){A(!m)}},n.createElement(Te,{url:i.picture||_n,isAvatar:!1,name:i.name||"",width:16,height:16})):n.createElement(ut,{title:"选择智能体",active:m,onClick:function(){A(!m)}},n.createElement(Md,null)),m&&b()))}var kp=(0,n.memo)(jp);var Cp=function(e){var t=y((function(e){return e.globalSlice})),r=t.userAgree,a=t.currentSkill,i=t.chatUser,l=y((function(e){return e.chatSlice})),o=l.files,c=l.agentAllowUserInput,s=l.isChat,f=e.maxHeight,m=(0,n.useRef)(null),d=(0,n.useContext)($t).handleChangeFeedbackShowStatus,p=Qo(),v=p.chatValue,g=p.setChatValue,A=p.handleSend,h=gs(),b=h.handleBeforeFileUpload,E=h.handleSubmitFiles,S=ls().handleKeyDown,w=(0,n.useMemo)((function(){return!r&&i.userId?"同意隐私政策方可使用":a.id?'"'.concat(null==a?void 0:a.name,'" 为你提供服务'):"发送信息"}),[r,i,a]),O=(0,n.useMemo)((function(){return!(r||!i.userId)||!c}),[r,c,i]),I=function(){null==d||d(1),A()};return n.createElement(is,{ref:m,disabled:O,inputMaxHeight:f||360,maxLength:2e3,className:u()(Rd.chatInput),placeholder:w,inputValue:v,showCounter:!1,onChange:function(e){g(e.target.value)},onSend:I,onFocus:function(e){d(2)},onKeyDown:function(e){S(e,v,I)},handlePaste:function(e){if(e.length){var t=b(e);t&&t.length&&E(t)}},inputPrefix:n.createElement(kp,{className:u()(Rd.skill)}),suffixRender:function(e){var t=[];return t.push(n.createElement("div",{className:Rd.upload},n.createElement(Qs,{disabled:!r||!1!==s.isAskUser,onBeforeUpload:b,onSubmit:E}))),e[2]&&t.push(e[2]),t},attachmentRender:function(){return n.createElement(pe,{showDel:!0,files:o,fixedImgSize:!0,style:{marginBottom:8}})}})},Pp=n.createContext({});function Np(e){var t=e.chatInputClassName,r=y((function(e){return e.globalSlice})).isMobile,a=(0,n.useRef)(null);return n.createElement(Pp.Provider,{value:{getChatFooterRef:function(){return a.current||void 0}}},n.createElement("div",{ref:a,className:u()(Nd.chatFooter,"flex justify-center flex-col h-full relative")},n.createElement(Cp,{maxHeight:r?220:360,className:u()(t)}),n.createElement(Gu,null)))}var Rp=n.memo(Np),Lp="header--kx675",zp="left--v9UyH",Bp="title--FzGkt",Mp="text--ZDAB6";function Tp(){var e=y((function(e){return e.globalSlice})),t=e.isMobile,r=e.isStartChat,a=e.assistantName,i=e.avatar,l=Tu().handleNewChat;return n.createElement("div",{className:u()(Lp,"w-full flex-grow-0 flex-shrink-0 justify-between flex relative items-center")},n.createElement("div",{className:u()(zp,"flex items-center flex-shrink-0")},n.createElement(ut,{onClick:function(){l()},title:t?"":"新建对话",type:"linear"},n.createElement(Vo,null))),r?n.createElement("div",{className:u()(Bp,"h-full w-full flex items-center justify-center")},n.createElement("span",{className:"w-full flex justify-center items-center"},i?n.createElement("img",{src:i}):n.createElement(cf,null),n.createElement("span",{className:u()(Mp,"text-ellipsis overflow-hidden whitespace-nowrap"),title:a||void 0},a||"苍穹"))):null,n.createElement("div",{style:{width:"27px"},className:u()("flex-shrink-0")}))}var Fp=(0,n.memo)(Tp),Qp="wrapper--OwK1H",Up="scrollbars--ZWNeA",Hp="bodyWrapper--zhGPb",Dp="stopChat--Swc7q",Jp="footer--HxxaE",Gp="footerContent--oanlJ",Wp="chatInput--UGi0_";function Xp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,l,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Kp(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Kp(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kp(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Yp(e){var t=Xp((0,n.useState)(1),2),r=t[0],a=t[1],i=(0,n.useRef)(null),l=(0,n.useCallback)((function(e){a(e)}),[]);return n.createElement($t.Provider,{value:{feedbackShowStatus:r,handleChangeFeedbackShowStatus:l,getChatRef:(0,n.useCallback)((function(){return i.current}),[])}},e.children)}var Vp,Zp=n.memo(Yp);function qp(){return qp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qp.apply(null,arguments)}function _p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,l,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return $p(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$p(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var ev=function(){var e=y((function(e){return e.chatSlice})).isChat,t=y((function(e){return e.globalSlice})),r=t.allowAutoScroll,a=t.deviceType,i=_p((0,n.useState)(0),2),l=i[0],o=i[1],c=(0,n.useRef)(null),s=(0,n.useRef)(null),f=(0,n.useRef)(null),m=(0,n.useRef)(0),d=Mu().handleStopChat,p=T("setAllowAutoScroll");function v(){var e,t=(null===(e=f.current)||void 0===e?void 0:e.offsetHeight)||0;t!==m.current&&r&&(c.current&&c.current.scrollToBottom(),m.current=t),Vp=setTimeout((function(){v()}),16)}return(0,n.useEffect)((function(){return Vp=setTimeout((function(){v()}),16),function(){clearTimeout(Vp)}}),[r]),n.createElement(Zp,null,n.createElement("div",{className:u()(Qp,"flex max-w-full flex-col h-full")},n.createElement(Fp,null),n.createElement("div",{className:"flex flex-col relative flex-grow",ref:s,onWheel:function(e){e.deltaY<-50&&p(!1)}},n.createElement("div",{className:"flex flex-col flex-grow relative"},n.createElement(Wo.Ay,{ref:c,autoHide:!0,autoHideTimeout:1e3,style:{width:"100%"},renderTrackHorizontal:function(e){return n.createElement("div",qp({},e,{className:"track-horizontal",style:{display:"none"}}))},className:u()(Up,"h-full"),onScrollFrame:function(e){var t=e.scrollTop;e.scrollHeight-t<=e.clientHeight&&p(!0)}},n.createElement("div",{className:"flex flex-col h-full relative items-center"},n.createElement("div",{ref:f,className:u()(Hp,"box-border flex-grow m-auto w-full"),onTouchStart:function(e){null!=a&&a.isMobile&&o(e.touches[0].clientY)},onTouchMove:function(e){if(null!=a&&a.isMobile&&null!==l){var t=e.touches[0].clientY;l-t<=-50&&r&&p(!1)}},onTouchEnd:function(){null!=a&&a.isMobile&&o(0)}},n.createElement(Hc,null)),null!=e&&e.status&&!1===e.isAskUser?n.createElement("div",{className:u()(Dp,"flex justify-center")},n.createElement("span",{className:"flex items-center",onClick:function(){return d()}},"停止生成")):null))),n.createElement("div",{className:u()(Jp,"sticky flex-col bottom-0 flex items-center z-10 w-full")},n.createElement("div",{className:u()(Gp,"w-full relative flex-grow")},n.createElement(Rp,{chatInputClassName:u()(Wp)}))))))},tv="container--j6rx6",rv="text--x7XMj",nv="img--mB8CA";var av=function(){return n.createElement("div",{className:tv},n.createElement(Nf,{className:nv}),n.createElement("p",{className:rv},"暂无数据"))},iv="title--zXkEz",lv="titleBg--mXN_X",ov="bgImg--wi6P9",cv="context--Big75",uv="text--TTjm3";var sv=function(e){var t=e.handleClose;return n.createElement("div",{className:iv},n.createElement("div",{className:lv}),n.createElement("img",{className:ov,src:"data:image/png;base64,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",alt:""}),n.createElement("div",{className:cv},n.createElement("span",{className:uv}),t?n.createElement(ut,{onClick:t,type:"linear",title:"关闭"},n.createElement(ka,null)):null))},fv={itemWrapper:"itemWrapper--x_2I8","list-item":"list-item--v7xlY",more:"more--FN3B3",edit:"edit--z3pRJ",active:"active--D2Ppn",left:"left--r_XFD",textWrapper:"textWrapper--U_SIR",title:"title--scub9",timer:"timer--CeYxn",del:"del--XwIAS"};function mv(e){return mv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mv(e)}function dv(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=mv(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=mv(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==mv(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,l,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return vv(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?vv(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vv(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function yv(e){var t=(0,v.wA)(),r=e.info,a=e.isEdit,i=e.handleEdit,l=e.handleClose,o=y((function(e){return e.globalSlice})),c=o.chatSessionId,s=o.model,f=pv((0,n.useState)(!1),2),m=f[0],d=f[1],p=Tu().handleNewChat,g=function(){null==s||s.invokeAsync("deleteChat",{id:r.id,sessionId:r.sessionId}),t(uu({index:m})),d(!1),null==i||i(!1)};return n.createElement("div",{className:u()(fv.itemWrapper,"flex justify-between items-center",fv["list-item"],dv(dv(dv({},fv.active,c===r.id),fv.hover,!a&&m),fv.edit,a)),onMouseEnter:function(){a||d(!0)},onMouseLeave:function(){d(!1)},onClick:function(){!function(){if(!a){if(r.id===c)return;t(fu(!0)),p({needInvoke:!1,toChat:!0}),null==s||s.invokeAsync("getChatItemList",{id:null==r?void 0:r.id,lastId:"0",pageSize:-1,searchKey:""}),t(L(r.id)),null==l||l()}}()}},n.createElement("div",{className:u()(fv.content,"flex w-11/12")},n.createElement("div",{className:u()(fv.left)},n.createElement(ut,{type:"default"},n.createElement(Kf,null))),n.createElement("div",{className:u()("w-11/12")},n.createElement("div",{className:u()(fv.textWrapper)},n.createElement("div",{className:fv.title},r.title)),n.createElement("div",{className:u()(fv.timer)},r.lastMessageTimeV))),m?n.createElement("span",{className:fv.del,onClick:function(e){e.stopPropagation(),g()}},n.createElement(ut,{type:"linear"},n.createElement(qf,null))):null)}var gv=(0,n.memo)(yv),Av={chatHistory:"chatHistory--eFH1h",content:"content--K4Suu",show:"show--jYDdR",slideRight:"slideRight--t5Ftm",hide:"hide--mEF32",slideLeft:"slideLeft--GzO2n",mask:"mask--FKWYE","footer-text":"footer-text--SyGLT",slideUpBG:"slideUpBG--Vw6YA",slideDownBG:"slideDownBG--dBxQd",inputWrapper:"inputWrapper--XauUh",listWrapper:"listWrapper--hySbK",noAllowedClickMask:"noAllowedClickMask--nc6qn",popupContainer:"popupContainer--hxqFL",popupContainerLeft:"popupContainerLeft--mTQc5",popupContainerRight:"popupContainerRight--IPNRX",popupContent:"popupContent--T10RK","popupContent-full":"popupContent-full--y97hh",slideUp:"slideUp--gdZ18",slideDown:"slideDown--lwpre"};function hv(){return hv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hv.apply(null,arguments)}function bv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,l,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ev(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ev(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ev(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Sv,wv=function(e){var t=e.children,r=e.onClose,a=(0,v.wA)(),i=bv((0,n.useState)(!0),2),l=i[0],o=i[1],c=y((function(e){return e.globalSlice})),s=c.chatSessionId,f=c.model,m=y((function(e){return e.agentSlice})),d=m.chatHistoryList,p=m.hasMoreChatHistory,g=bv((0,n.useState)(!0),2),A=g[0],h=g[1],b=(0,n.useRef)(null),E=(0,n.useRef)(null),S=(0,n.useRef)("0"),w=(0,n.useRef)(!1),O=(0,n.useRef)(""),I=(0,n.useMemo)((function(){return A||w.current?n.createElement("div",{className:Av["footer-text"]},"加载中..."):0!==d.length||p||A?p?n.createElement("div",{className:Av["footer-text"]},"加载中..."):n.createElement("div",{className:Av["footer-text"]},"没有更多了..."):n.createElement("div",{style:{paddingTop:"120px"}},n.createElement(av,null))}),[A,p,d]),x=(0,n.useRef)(!1),j=function(){o(!1),r()};(0,n.useEffect)((function(){return h(!0),null==f||f.invokeAsync("getChatInfoList",{id:s,lastId:"0",pageSize:30,searchKey:""}),function(){a(lu()),a(cu(!0))}}),[]),(0,n.useEffect)((function(){w.current&&A&&(w.current=!1),h(!1),x.current=!1}),[d]);var k=function(){return l?Av.show:Av.hide};return n.createElement("div",{className:u()(Av.chatHistory)},n.createElement("div",{className:u()(Av.mask,k()),onClick:j}),n.createElement("div",{className:u()(Av.content,k())},n.createElement("div",{className:u()("flex flex-col h-full")},t,n.createElement(sv,{title:"历史记录",handleClose:j}),n.createElement("div",{className:u()(Av.inputWrapper,"flex items-center")},n.createElement(eo,{type:"search",placeholder:"搜索",onKeyEnter:function(e){w.current=!0,O.current=e,a(lu()),setTimeout((function(){h(!0),a(cu(!1)),null==f||f.invokeAsync("getChatInfoList",{id:s,lastId:"0",pageSize:30,searchKey:e})}),0)},maxLength:25})),n.createElement(Wo.ur,{autoHide:!0,autoHideTimeout:1e3,style:{width:"100%"},renderTrackHorizontal:function(e){return n.createElement("div",hv({},e,{className:"track-horizontal",style:{display:"none"}}))},onScrollFrame:function(){if(p&&!x.current){var e=E.current;if(null!=e){var t,r=e.getBoundingClientRect();if(null!=r)r.bottom<=document.body.clientHeight+200&&(t=O.current,h(!0),S.current=d.length>0?d[d.length-1].sessionId:"0",null==f||f.invokeAsync("getChatInfoList",{id:s,lastId:S.current,pageSize:30,searchKey:t||""}),x.current=!0)}}}},n.createElement("div",{ref:b,className:u()(Av.listWrapper,"flex-grow")},d.map((function(e,t){return n.createElement(gv,{key:t,info:e,handleClose:j})})),n.createElement("div",{className:Av.footer},n.createElement("div",{ref:E},I)))))))},Ov="layout--_3XfZ",Iv="main--wzzGC",xv="content--Rtxsv",jv="skills--eCd5a",kv="questions--ExMtZ",Cv="isMobile--J325A",Pv="logoWrapper--aVO9v",Nv="logo--N1tj8",Rv="prologue--_fkc4",Lv=["svgRef","title"];function zv(){return zv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zv.apply(null,arguments)}var Bv,Mv=function(e){var t=e.svgRef,r=e.title,a=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,Lv);return n.createElement("svg",zv({className:"refresh_svg__icon",width:200,height:200,style:{verticalAlign:"middle"},viewBox:"0 0 14 15",fill:"currentColor",overflow:"hidden",ref:t},a),r?n.createElement("title",null,r):null,Sv||(Sv=n.createElement("path",{d:"M6.09.566l.053.035 1.976 1.49a.5.5 0 01.133.647l-.034.052-1.49 1.977a.5.5 0 01-.833-.55l.035-.052.668-1.27a5.5 5.5 0 104.067 1.384.5.5 0 11.666-.746 6.5 6.5 0 11-5.245-1.59L5.541 1.4a.5.5 0 01-.133-.647l.034-.053A.5.5 0 016.09.566z",fill:"#666",fillRule:"evenodd"})))},Tv=n.forwardRef((function(e,t){return n.createElement(Mv,zv({svgRef:t},e))})),Fv={skillListWrapper:"skillListWrapper--dW2QJ",skillList:"skillList--k50Bm",multipleCol:"multipleCol--TtIVx",skill:"skill--MwOTG",hide:"hide--mhRQf",operate:"operate--J4OwR",btn:"btn--FftPq",shuffleIcon:"shuffleIcon--hAMb7",isMobile:"isMobile--SaiL_",selected:"selected--QaAFx",bottom:"bottom--Y6p_V",textWrapper:"textWrapper--H7iHJ",skillHeader:"skillHeader--tVuUe",imgWrapper:"imgWrapper--Hc0Fu",pointer:"pointer--U2lHK",text:"text--vbI31",closeWrapper:"closeWrapper--p3Mxu",leftArrow:"leftArrow--ZEDYA",show:"show--XI1Yt"},Qv=["svgRef","title"];function Uv(){return Uv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uv.apply(null,arguments)}var Hv=function(e){var t=e.svgRef,r=e.title,a=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,Qv);return n.createElement("svg",Uv({width:16,height:16,viewBox:"0 0 16 16",ref:t},a),r?n.createElement("title",null,r):null,Bv||(Bv=n.createElement("path",{d:"M6.854 2.16a.471.471 0 00-.708 0 .583.583 0 00-.041.72l.041.051L10.793 8l-4.647 5.069a.583.583 0 00-.041.72l.041.051a.47.47 0 00.66.046l.048-.046 5-5.454a.583.583 0 00.041-.72l-.041-.052-5-5.454z",fill:"#666",fillRule:"evenodd"})))},Dv=n.forwardRef((function(e,t){return n.createElement(Hv,Uv({svgRef:t},e))}));function Jv(e){return Jv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jv(e)}function Gv(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=Jv(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Jv(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Jv(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,l,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Xv(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Xv(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xv(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Kv(e){var t=e.picture,r=e.name,a=e.isOver,i=void 0!==a&&a,l=e.bgColor,o=e.handleClickTop,c=e.handleClose,s=Wv((0,n.useState)(!1),2),f=s[0],m=s[1];return n.createElement("div",{style:{background:l||"#ECF7FF"},className:u()(Fv.skillHeader,Gv(Gv({},Fv.over,f),Fv.pointer,i&&o)),onClick:function(){null==o||o()},onMouseEnter:function(){return i&&void m(!0)},onMouseLeave:function(){return i&&void m(!1)}},n.createElement("div",{className:Fv.imgWrapper},n.createElement(Te,{url:t||_n,isAvatar:!1,name:r||"",width:20,height:20})),n.createElement("div",{className:Fv.text,title:r||""},r||""),n.createElement("div",{className:u()(Fv.leftArrow,Gv({},Fv.show,f))},n.createElement(ut,{type:"default",bgClassName:Fv.arrow},n.createElement(Dv,null))),c?n.createElement("div",{className:u()(Fv.closeWrapper),onClick:function(){return c()}},n.createElement(ut,{bgClassName:Fv.close},n.createElement(ka,null))):null)}function Yv(e){return Yv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yv(e)}function Vv(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=Yv(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Yv(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Yv(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zv(e){var t=e.info,r=e.className,a=e.selected,i=void 0!==a&&a,l=e.isOver,o=void 0!==l&&l,c=t.name,s=t.picture,f=t.suggestedAsks,m=t.bgColor,d=(0,v.wA)(),p=T("setCurrentSkill"),y=Qo().handleSend;return n.createElement("div",{className:u()(Fv.skill,r,Vv({},Fv.selected,i))},n.createElement(Kv,{picture:s,name:c,isOver:o,bgColor:m,handleClickTop:function(){try{p(t),d(su())}catch(e){}}}),n.createElement("div",{className:Fv.bottom},null!=f&&f.length?n.createElement("div",{className:Fv.textWrapper,title:f[0].name,onClick:function(){return e=f[0].name,p(t),void y({chatValue:e,skill:t});var e}},f[0].name):null))}function qv(e){return qv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qv(e)}function _v(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=qv(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=qv(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==qv(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $v(e){var t=e.isOver,r=void 0!==t&&t,a=e.className,i=e.skillList,l=e.handleShuffle,o=y((function(e){return e.globalSlice})).isMobile,c=!o;return n.createElement("div",{className:u()(Fv.skillListWrapper,a)},n.createElement("div",{className:u()(Fv.skillList,_v({},Fv.multipleCol,c))},i.map((function(e){return n.createElement(Zv,{key:e.id,isOver:r,info:e,className:Fv.skill})})),i.length%2!=0&&c?n.createElement("div",{className:u()(Fv.skill,Fv.hide)}):null),l?n.createElement("div",{className:u()(Fv.operate,_v({},Fv.isMobile,o))},n.createElement("div",{className:Fv.btn,onClick:function(){null==l||l()}},n.createElement(ut,{type:"face",size:16},n.createElement(Tv,null)),n.createElement("span",null,"换一换"))):null)}var ey="skillQuestion--FepDX",ty="content--FLX63",ry="questionsWrapper--nQZ09",ny="multipleCol--Ltufi",ay="question--erX2N",iy="operate--yUNiC",ly="show--FxcdY",oy="btn--pGwF5";function cy(e){return cy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cy(e)}function uy(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=cy(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=cy(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==cy(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sy(e){return function(e){if(Array.isArray(e))return dy(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||my(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,l,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw a}}return o}}(e,t)||my(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function my(e,t){if(e){if("string"==typeof e)return dy(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?dy(e,t):void 0}}function dy(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var py=function(e){var t=y((function(e){return e.globalSlice})),r=t.currentSkill,a=t.sideMode,i=e.className,l=fy((0,n.useState)([]),2),o=l[0],c=l[1],s=(0,n.useRef)(),f=T("setCurrentSkill"),m=Qo().handleSend,d=r.picture,p=r.name,v=r.suggestedAsks,g=void 0===v?[]:v,A=r.bgColor,h=function(e){s.current&&("full"===a||"side"===a)&&(g.length>6?c(s.current(6,e)):c(sy(g)))};return(0,n.useEffect)((function(){var e=r.suggestedAsks;null!=e&&e.length?(s.current=Ee(e),h()):(s.current=void 0,c([]))}),[r.suggestedAsks]),(0,n.useEffect)((function(){h("resetPrev")}),[a]),n.createElement("div",{className:u()(i,ey)},n.createElement(Kv,{picture:d,name:p,bgColor:A,handleClose:function(){f({})}}),n.createElement("div",{className:ty},n.createElement("div",{className:u()(ry,uy({},ny,"full"===a))},o.map((function(e,t){return n.createElement("div",{key:t,title:e.name,className:ay,onClick:function(){return t=e.name,void m({chatValue:t});var t}},e.name)}))),n.createElement("div",{className:u()(iy,uy({},ly,g.length>6))},n.createElement("div",{className:oy,onClick:function(){return h()}},n.createElement(ut,{type:"face",size:16},n.createElement(Tv,null)),n.createElement("span",null,"换一换")))))};function vy(e){return vy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vy(e)}function yy(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=vy(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=vy(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==vy(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gy(e){return function(e){if(Array.isArray(e))return by(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||hy(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ay(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,l,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw a}}return o}}(e,t)||hy(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hy(e,t){if(e){if("string"==typeof e)return by(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?by(e,t):void 0}}function by(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Ey=function(){var e=y((function(e){return e.globalSlice})),t=e.currentSkill,r=e.openingSpeech,a=e.skillList,i=e.isMobile,l=e.avatar,o=t.id,c=Ay((0,n.useState)([]),2),s=c[0],f=c[1],m=(0,n.useRef)([]),d=(0,n.useRef)(),p=!i&&m.current.length>6||i&&m.current.length>3,v=function(e){d.current&&(i?m.current.length>3?f(d.current(3,e)):f(gy(m.current)):m.current.length>6?f(d.current(6,e)):f(gy(m.current)))};return(0,n.useEffect)((function(){a.length?(m.current=a,d.current=Ee(a),v()):(m.current=[],f([]))}),[a]),n.createElement("div",{className:u()("h-screen flex flex-col",Ov)},n.createElement(Fp,null),n.createElement("div",{className:u()(Iv,"h-full flex flex-grow flex-col items-center relative",yy({},Cv,i))},n.createElement("div",{className:u()("flex flex-grow w-full")},n.createElement("div",{className:u()(xv,"flex flex-col flex-grow overflow-hidden")},n.createElement("div",{className:u()(Pv,"flex items-center mr-auto w-full flex-col")},n.createElement("div",{className:u()(Nv,"overflow-hidden text-ellipsis whitespace-nowrap flex justify-center")},n.createElement("span",null,l?n.createElement("img",{src:l}):n.createElement(cf,null))),n.createElement("div",{className:u()("overflow-hidden text-ellipsis whitespace-nowrap  flex justify-center"),title:r},n.createElement("span",{className:Rv},r))),o?n.createElement(py,{className:u()(kv)}):s.length?n.createElement($v,{isOver:!0,className:jv,skillList:s,handleShuffle:p?v:void 0}):null)),n.createElement("div",{className:"sticky bottom-0 w-full flex flex-col"},n.createElement(Zp,null,n.createElement(Rp,null)))))},Sy="desktop--ZRoxE",wy="mobile--nXWSn";var Oy=function(){var e=y((function(e){return e.globalSlice})),t=e.isStartChat,r=e.showHistory,a=T("setShowHistory");return n.createElement("div",{className:u()(Sy,"w-full h-full")},t?n.createElement(ev,null):n.createElement(Ey,null),r?n.createElement(wv,{onClose:function(){setTimeout((function(){a(!1)}),300)}}):null)},Iy={container:"container--eRT1v",text:"text--R8HjA",img:"img--DhfIw","footer-text":"footer-text--RuWf_",history:"history--jKVRz",listWrapper:"listWrapper--QfkUT",item:"item--KF0_E",left:"left--sToNw",textWrapper:"textWrapper--JpQ6C"};var xy=function(){return n.createElement("div",{className:Iy.container},n.createElement(Nf,{className:Iy.img}),n.createElement("p",{className:Iy.text},"暂无数据"))};function jy(){return jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jy.apply(null,arguments)}function ky(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,l,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Cy(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Cy(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cy(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Py=function(e){var t=(0,v.wA)(),r=y((function(e){return e.globalSlice})),a=r.chatSessionId,i=r.model,l=Tu().handleNewChat,o=y((function(e){return e.agentSlice})),c=o.chatHistoryList,s=o.hasMoreChatHistory,f=e.onClose,m=(0,n.useRef)(!1),d=(0,n.useRef)(""),p=(0,n.useRef)("0"),g=(0,n.useRef)(null),A=ky((0,n.useState)(!0),2),h=A[0],b=A[1],E=(0,n.useRef)(null),S=(0,n.useRef)(!1),w=(0,n.useMemo)((function(){return h||m.current?n.createElement("div",{className:Iy["footer-text"]},"加载中..."):0!==c.length||s||h?s?n.createElement("div",{className:Iy["footer-text"]},"加载中..."):n.createElement("div",{className:Iy["footer-text"]},"没有更多了..."):n.createElement("div",{style:{paddingTop:"120px"}},n.createElement(xy,null))}),[h,s,c]);return(0,n.useEffect)((function(){return b(!0),null==i||i.invokeAsync("getChatInfoList",{id:a,lastId:"0",pageSize:30,searchKey:""}),function(){t(lu()),t(cu(!0))}}),[]),(0,n.useEffect)((function(){m.current&&h&&(m.current=!1),b(!1),S.current=!1}),[c]),n.createElement("div",{className:u()(Iy.history,"flex flex-col flex-grow")},n.createElement(eo,{isMobile:!0,type:"search",placeholder:"搜索",onKeyEnter:function(e){m.current=!0,d.current=e,t(lu()),setTimeout((function(){b(!0),t(cu(!1)),null==i||i.invokeAsync("getChatInfoList",{id:a,lastId:"0",pageSize:30,searchKey:e})}),0)},maxLength:25}),n.createElement(Wo.Ay,{autoHide:!0,autoHideTimeout:1e3,style:{width:"100%"},renderTrackHorizontal:function(e){return n.createElement("div",jy({},e,{className:"track-horizontal",style:{display:"none"}}))},onScrollFrame:function(){if(s&&!S.current){var e=E.current;if(null!=e){var t,r=e.getBoundingClientRect();if(null!=r)r.bottom<=document.body.clientHeight+100&&(t=d.current,b(!0),p.current=c.length>0?c[c.length-1].sessionId:"0",null==i||i.invokeAsync("getChatInfoList",{id:a,lastId:p.current,pageSize:30,searchKey:t||""}),S.current=!0)}}}},n.createElement("div",{ref:g,className:u()(Iy.listWrapper,"flex-col flex w-full")},c.map((function(e,r){return n.createElement("div",{key:r,className:u()(Iy.item,"flex items-center justify-start"),onClick:function(){return function(e){e.id!==a&&(t(fu(!0)),l({needInvoke:!1,toChat:!0}),null==i||i.invokeAsync("getChatItemList",{id:null==e?void 0:e.id,lastId:"0",pageSize:-1,searchKey:""}),t(L(e.id)),null==f||f())}(e)}},n.createElement("div",{className:u()(Iy.left)},n.createElement(ut,{type:"default"},n.createElement(Kf,null))),n.createElement("div",{className:u()(Iy.textWrapper)},e.title))})),n.createElement("div",{className:Iy.footer},n.createElement("div",{ref:E},w)))))},Ny="mobileMore--GPYRf",Ry="hide--v3tRI",Ly="content--UKSKa",zy="header--IfCwN",By="avatar--baJFG",My="name--xw_fl",Ty="historyWrapper--IR_rw",Fy="mask--Xar01";function Qy(e){return Qy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qy(e)}function Uy(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=Qy(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Qy(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Qy(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,l,o=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Dy(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Dy(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dy(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Jy=function(){var e=y((function(e){return e.globalSlice})),t=e.showHistory,r=e.chatUser,a=Hy((0,n.useState)(!1),2),i=a[0],l=a[1],o=T("setShowHistory"),c=Je({visible:!0,assistant:r}),s=function(){l(!1),setTimeout((function(){o(!1)}),100)};return(0,n.useEffect)((function(){t&&l(t)}),[t]),n.createElement("div",{className:u()(Ny,Uy({},Ry,!i))},n.createElement("div",{className:u()(Ly,"flex flex-col",Uy({},Ry,!i))},n.createElement("div",{className:u()(zy,"flex items-center")},n.createElement("div",{className:u()(By,"flex items-center flex-shrink-0")},n.createElement("img",{src:null==c?void 0:c.avatar})),n.createElement("div",{className:u()(My,"flex-grow overflow-hidden text-ellipsis whitespace-nowrap")},null==c?void 0:c.name)),n.createElement("div",{className:u()(Ty,"flex flex-grow")},n.createElement(Py,{onClose:s}))),n.createElement("div",{className:u()(Fy,Uy({},Ry,!i)),onClick:s}))};var Gy=function(){var e=y((function(e){return e.globalSlice})).isStartChat;return n.createElement("div",{className:u()(wy,"h-full w-full relative")},e?n.createElement(ev,null):n.createElement(Ey,null),n.createElement(Jy,null))};var Wy=function(){var e=y((function(e){return e.globalSlice})),t=e.model,r=e.theme,a=e.isMobile,i=e.isInited,c=e.chatUser,f=e.chatSessionId,d=e.userAgree,p=e.hadGetSkill,v=e.deviceType,g=e.ds,A=T("setDeviceType"),h=Qo().handleSend;!function(){var e=y((function(e){return e.globalSlice})),t=e.model,r=e.count,a=(0,n.useRef)(),i=function(){a.current=setTimeout((function(){null==t||t.invokeAsync("keepAlive",{}),i()}),36e5)};(0,n.useEffect)((function(){return a.current||i(),function(){clearTimeout(a.current)}}),[]),(0,n.useEffect)((function(){a.current&&(clearTimeout(a.current),i())}),[r])}();var b,E,S,w=(b=(0,n.useRef)(no({},io)),E=(0,n.useRef)(null),S=(0,n.useRef)(null),{init:function(){var e=document.getElementById("__kd_content__"),t=document.getElementById("_TrayMenu_");E.current=e,S.current=t,e&&(b.current.root.minWidth=e.style.minWidth,b.current.root.minHeight=e.style.minHeight,b.current.root.overflow=e.style.overflow,e.style.minWidth="auto",e.style.minHeight="auto",e.style.overflow="auto",e.firstElementChild&&(b.current.child.minWidth=e.firstElementChild.style.minWidth,b.current.child.minHeight=e.firstElementChild.style.minHeight,e.firstElementChild.style.minWidth="auto",e.firstElementChild.style.minHeight="auto")),t&&(b.current.menuDom.display=t.style.display,t.style.display="none")},unmount:function(){var e=E.current,t=S.current;e&&(b.current.root.minWidth&&(e.style.minWidth=b.current.root.minWidth),b.current.root.minHeight&&(e.style.minHeight=b.current.root.minHeight),b.current.root.overflow&&(e.style.minHeight=b.current.root.overflow),e.firstElementChild&&(b.current.child.minWidth&&(e.firstElementChild.style.minWidth=b.current.child.minWidth),b.current.child.minHeight&&(e.firstElementChild.style.minHeight=b.current.child.minHeight))),t&&b.current.menuDom.display&&(t.style.display=b.current.menuDom.display),b.current=no({},io)}}),O=w.init,I=w.unmount;return(0,n.useEffect)((function(){var e,t=function(){var t=function(){var e=navigator.userAgent.toLowerCase(),t=/phone|pad|pod|iphone|ipod|ios|ipad|android|mobile|blackberry|iemobile|mqqbrowser|juc|fennec|wosbrowser|browserng|webos|symbian/i.test(e),r=window.innerWidth<=768,n="ontouchstart"in window||navigator.maxTouchPoints>0;return{isMobile:t||r&&n,isDesktop:!(t||r&&n),screenWidth:window.innerWidth,userAgent:e,hasTouchSupport:n}}();t.isMobile||t.screenWidth<766?t.isMobile=!0:t.isMobile=!1,A(t),t.isMobile&&(O(),e=!0)},r=(0,s.A)(t,100);return t(),window.addEventListener("resize",r),function(){window.removeEventListener("resize",r),e&&I()}}),[]),(0,n.useEffect)((function(){document.body.setAttribute("data-gai-h5-theme",r)}),[r]),(0,n.useEffect)((function(){var e=document.title;return document.title=g?"苍穹+deepseek":"苍穹对话助手",function(){document.title=e}}),[g]),(0,n.useEffect)((function(){var e=window.sessionStorage.getItem("".concat(m().APP_NAME,"_LOGIN_CB_SEND_VAL"));e&&i&&c.userId&&p&&f&&null!=v&&v.screenWidth&&(d?(h({chatValue:e}),window.sessionStorage.removeItem("".concat(m().APP_NAME,"_LOGIN_CB_SEND_VAL"))):null==t||t.invokeAsync("showAgreement",{show:!0,isMobile:null==v?void 0:v.isMobile}))}),[i,c,f,d,p,v]),n.createElement(l.Ay,{value:{}},n.createElement(o.Ay,{value:{}},n.createElement("div",{className:u()(Ie.app,"h-full w-full")},i&&null!=v&&v.screenWidth?n.createElement("div",{className:u()(Ie.wrapper,"h-full w-full relative")},g?a?n.createElement(Pd,null):n.createElement(Pm,null):null,g?null:a?n.createElement(Gy,null):n.createElement(Oy,null)):n.createElement(ke,null))))},Xy=r(75402),Ky=(r(2864),r(69729),r(1239),r(54075),r(84159),r(28416));function Yy(e){return Yy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yy(e)}function Vy(){Vy=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},l=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var i=t&&t.prototype instanceof g?t:g,l=Object.create(i.prototype),o=new P(n||[]);return a(l,"_invoke",{value:x(e,r,o)}),l}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var m="suspendedStart",d="suspendedYield",p="executing",v="completed",y={};function g(){}function A(){}function h(){}var b={};u(b,l,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(N([])));S&&S!==r&&n.call(S,l)&&(b=S);var w=h.prototype=g.prototype=Object.create(b);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function r(a,i,l,o){var c=f(e[a],e,i);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==Yy(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,l,o)}),(function(e){r("throw",e,l,o)})):t.resolve(s).then((function(e){u.value=e,l(u)}),(function(e){return r("throw",e,l,o)}))}o(c.arg)}var i;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return i=i?i.then(a,a):a()}})}function x(t,r,n){var a=m;return function(i,l){if(a===p)throw Error("Generator is already running");if(a===v){if("throw"===i)throw l;return{value:e,done:!0}}for(n.method=i,n.arg=l;;){var o=n.delegate;if(o){var c=j(o,n);if(c){if(c===y)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===m)throw a=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?v:d,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=v,n.method="throw",n.arg=u.arg)}}}function j(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=f(a,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var l=i.arg;return l?l.done?(r[t.resultName]=l.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):l:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function N(t){if(t||""===t){var r=t[l];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(Yy(t)+" is not iterable")}return A.prototype=h,a(w,"constructor",{value:h,configurable:!0}),a(h,"constructor",{value:A,configurable:!0}),A.displayName=u(h,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===A||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,u(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},t.awrap=function(e){return{__await:e}},O(I.prototype),u(I.prototype,o,(function(){return this})),t.AsyncIterator=I,t.async=function(e,r,n,a,i){void 0===i&&(i=Promise);var l=new I(s(e,r,n,a),i);return t.isGeneratorFunction(r)?l:l.next().then((function(e){return e.done?e.value:l.next()}))},O(w),u(w,c,"Generator"),u(w,l,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=N,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return o.type="throw",o.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var l=this.tryEntries[i],o=l.completion;if("root"===l.tryLoc)return a("end");if(l.tryLoc<=this.prev){var c=n.call(l,"catchLoc"),u=n.call(l,"finallyLoc");if(c&&u){if(this.prev<l.catchLoc)return a(l.catchLoc,!0);if(this.prev<l.finallyLoc)return a(l.finallyLoc)}else if(c){if(this.prev<l.catchLoc)return a(l.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return a(l.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var l=i?i.completion:{};return l.type=e,l.arg=t,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(l)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;C(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:N(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Zy=Vy().mark(dg),qy=Vy().mark(pg),_y=Vy().mark(vg),$y=Vy().mark(yg),eg=Vy().mark(gg),tg=Vy().mark(Ag),rg=Vy().mark(hg),ng=Vy().mark(bg),ag=Vy().mark(Eg),ig=Vy().mark(Sg),lg=Vy().mark(wg),og=Vy().mark(Og),cg=Vy().mark(Ig),ug=Vy().mark(xg),sg=Vy().mark(jg),fg=Vy().mark(kg),mg=Vy().mark(Cg);function dg(e){return Vy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,Ky.yJ)(L(e.id));case 2:case"end":return t.stop()}}),Zy)}function pg(e){var t,r,n,a,i,l;return Vy().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,Ky.Lt)((function(e){return e.globalSlice}));case 2:if(t=o.sent,r=t.selectedProcessId,n=t.model,a=t.isInited,i=zt(e),l="changeConfig"===e.type&&i.selectedProcessId&&i.selectedProcessId!==r,!("initial"===e.type&&!a)&&!l){o.next=14;break}if(n.invokeAsync("getSkillList",{id:e.chatSessionId}),!l){o.next=14;break}return o.next=14,(0,Ky.yJ)(k(!0));case 14:return o.next=16,(0,Ky.yJ)(j(i));case 16:case"end":return o.stop()}}),qy)}function vg(e){return Vy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,Ky.yJ)(So(e));case 2:case"end":return t.stop()}}),_y)}function yg(e){return Vy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,Ky.yJ)(oo(e));case 2:case"end":return t.stop()}}),$y)}function gg(e){return Vy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,Ky.yJ)(co(e));case 2:case"end":return t.stop()}}),eg)}function Ag(e){return Vy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,Ky.yJ)(uo(e));case 2:case"end":return t.stop()}}),tg)}function hg(e){return Vy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,Ky.yJ)(mo(e));case 2:case"end":return t.stop()}}),rg)}function bg(e){return Vy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,Ky.yJ)(fo(e));case 2:case"end":return t.stop()}}),ng)}function Eg(e){return Vy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,Ky.yJ)(yo(e));case 2:case"end":return t.stop()}}),ag)}function Sg(e){return Vy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,Ky.yJ)(po(e));case 2:case"end":return t.stop()}}),ig)}function wg(e){return Vy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,Ky.yJ)(vo(e));case 2:case"end":return t.stop()}}),lg)}function Og(e){return Vy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,Ky.yJ)(Eo(e));case 2:case"end":return t.stop()}}),og)}function Ig(e){return Vy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,Ky.yJ)(go(e));case 2:case"end":return t.stop()}}),cg)}function xg(e){return Vy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,Ky.yJ)(Ao(e));case 2:case"end":return t.stop()}}),ug)}function jg(e){return Vy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,Ky.yJ)(bo(e));case 2:case"end":return t.stop()}}),sg)}function kg(e){return Vy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,Ky.yJ)(so(e));case 2:case"end":return t.stop()}}),fg)}function Cg(e){return Vy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,Ky.yJ)(ho(e));case 2:case"end":return t.stop()}}),mg)}function Pg(e){return Pg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pg(e)}function Ng(){Ng=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},l=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var i=t&&t.prototype instanceof g?t:g,l=Object.create(i.prototype),o=new P(n||[]);return a(l,"_invoke",{value:x(e,r,o)}),l}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var m="suspendedStart",d="suspendedYield",p="executing",v="completed",y={};function g(){}function A(){}function h(){}var b={};u(b,l,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(N([])));S&&S!==r&&n.call(S,l)&&(b=S);var w=h.prototype=g.prototype=Object.create(b);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function r(a,i,l,o){var c=f(e[a],e,i);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==Pg(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,l,o)}),(function(e){r("throw",e,l,o)})):t.resolve(s).then((function(e){u.value=e,l(u)}),(function(e){return r("throw",e,l,o)}))}o(c.arg)}var i;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return i=i?i.then(a,a):a()}})}function x(t,r,n){var a=m;return function(i,l){if(a===p)throw Error("Generator is already running");if(a===v){if("throw"===i)throw l;return{value:e,done:!0}}for(n.method=i,n.arg=l;;){var o=n.delegate;if(o){var c=j(o,n);if(c){if(c===y)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===m)throw a=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?v:d,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=v,n.method="throw",n.arg=u.arg)}}}function j(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=f(a,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var l=i.arg;return l?l.done?(r[t.resultName]=l.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):l:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function N(t){if(t||""===t){var r=t[l];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(Pg(t)+" is not iterable")}return A.prototype=h,a(w,"constructor",{value:h,configurable:!0}),a(h,"constructor",{value:A,configurable:!0}),A.displayName=u(h,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===A||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,u(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},t.awrap=function(e){return{__await:e}},O(I.prototype),u(I.prototype,o,(function(){return this})),t.AsyncIterator=I,t.async=function(e,r,n,a,i){void 0===i&&(i=Promise);var l=new I(s(e,r,n,a),i);return t.isGeneratorFunction(r)?l:l.next().then((function(e){return e.done?e.value:l.next()}))},O(w),u(w,c,"Generator"),u(w,l,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=N,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return o.type="throw",o.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var l=this.tryEntries[i],o=l.completion;if("root"===l.tryLoc)return a("end");if(l.tryLoc<=this.prev){var c=n.call(l,"catchLoc"),u=n.call(l,"finallyLoc");if(c&&u){if(this.prev<l.catchLoc)return a(l.catchLoc,!0);if(this.prev<l.finallyLoc)return a(l.finallyLoc)}else if(c){if(this.prev<l.catchLoc)return a(l.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return a(l.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var l=i?i.completion:{};return l.type=e,l.arg=t,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(l)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;C(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:N(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}var Rg=Ng().mark(Qg),Lg=Ng().mark(Hg),zg=Ng().mark(Dg),Bg=Ng().mark(Jg);function Mg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Tg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Mg(Object(r),!0).forEach((function(t){Fg(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mg(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Fg(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=Pg(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Pg(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Pg(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qg(e){var t;return Ng().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,Ky.yJ)(M());case 2:if(r.prev=2,!(t=Tg({},e.payload))||!t.actionList){r.next=7;break}return r.next=7,(0,Ky.Q7)(t.actionList.map((function(e){return(0,Ky.T1)(Dg,e)})));case 7:r.next=12;break;case 9:r.prev=9,r.t0=r.catch(2);case 12:case"end":return r.stop()}}),Rg,null,[[2,9]])}var Ug=["chat","chatBottom","error","streamDone","waiting","waitingDone","runStepChat","multiMsg","userChat"];function Hg(e){var t,r,n,a,i,l,o;return Ng().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if("production"!==Tt){c.next=2;break}return c.abrupt("return",!0);case 2:if(t=null==e?void 0:e.type,!Ug.includes(t)){c.next=15;break}return c.next=6,(0,Ky.Lt)((function(e){return{slideEnv:e.globalSlice.slideEnv,chatSessionId:e.globalSlice.chatSessionId}}));case 6:return n=c.sent,a=n.chatSessionId,i=null==e?void 0:e.data,l=null!==(r=(null==i?void 0:i.chatSessionId)||(null==i?void 0:i.id))&&void 0!==r?r:"",o=a===l,c.abrupt("return",o);case 15:return c.abrupt("return",!0);case 16:case"end":return c.stop()}}),Lg)}function Dg(e){var t,r,n,a,i,l,o,c,u,s,f,m,d,p,v,y,g,A;return Ng().wrap((function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=3,(0,Ky.T1)(Hg,e);case 3:if(h.sent){h.next=7;break}return h.abrupt("return");case 7:h.prev=7,h.t0=e.type,h.next="initial"===h.t0?11:"changeConfig"===h.t0?14:"recommendQuestion"===h.t0?17:"chat"===h.t0?20:"think_chat"===h.t0?23:"chatBottom"===h.t0?26:"error"===h.t0?29:"stopStream"===h.t0?32:"fakeOk"===h.t0?35:"streamDone"===h.t0?38:"waiting"===h.t0?41:"waitingDone"===h.t0?44:"runStepChat"===h.t0?47:"getChatItemList"===h.t0?50:"processList"===h.t0?53:"injectInfo"===h.t0?76:"forward"===h.t0?79:"confirmCard"===h.t0?82:"multiMsg"===h.t0?85:"userAgree"===h.t0?88:"saveFileResult"===h.t0?105:"initAgentPlayground"===h.t0?108:"getSkillList"===h.t0||"getTempSkillList"===h.t0?114:"queryTraceLogs"===h.t0?125:"getChatInfoList"===h.t0?128:"newChat"===h.t0?131:"userChat"===h.t0?134:"identifySkill"===h.t0?137:142;break;case 11:return h.next=13,(0,Ky.T1)(pg,Tg(Tg({},e.data),{},{type:e.type}));case 13:return h.abrupt("break",142);case 14:return h.next=16,(0,Ky.T1)(pg,Tg(Tg({},e.data),{},{type:e.type}));case 16:return h.abrupt("break",142);case 17:return h.next=19,(0,Ky.T1)(gg,Tg(Tg({},e.data),{},{type:e.type}));case 19:return h.abrupt("break",142);case 20:return h.next=22,(0,Ky.T1)(yg,e.data);case 22:return h.abrupt("break",142);case 23:return h.next=25,(0,Ky.T1)(Cg,e.data);case 25:return h.abrupt("break",142);case 26:return h.next=28,(0,Ky.T1)(hg,e.data);case 28:return h.abrupt("break",142);case 29:return h.next=31,(0,Ky.T1)(Ig,e.data);case 31:return h.abrupt("break",142);case 32:return h.next=34,(0,Ky.T1)(xg,e.data);case 34:return h.abrupt("break",142);case 35:return h.next=37,(0,Ky.T1)(jg,e.data);case 37:return h.abrupt("break",142);case 38:return h.next=40,(0,Ky.T1)(Eg,e.data);case 40:return h.abrupt("break",142);case 41:return h.next=43,(0,Ky.T1)(Sg,e.data);case 43:return h.abrupt("break",142);case 44:return h.next=46,(0,Ky.T1)(wg,e.data);case 46:return h.abrupt("break",142);case 47:return h.next=49,(0,Ky.T1)(Ag,e.data);case 49:return h.abrupt("break",142);case 50:return h.next=52,(0,Ky.T1)(kg,e.data);case 52:return h.abrupt("break",142);case 53:return h.next=55,(0,Ky.Lt)((function(e){return{slideEnv:e.globalSlice.slideEnv,ds:e.globalSlice.ds,hadGetSkill:e.globalSlice.hadGetSkill,currentSkill:e.globalSlice.currentSkill}}));case 55:if(r=h.sent,n=r.slideEnv,a=r.ds,i=r.hadGetSkill,l=r.currentSkill,o=e.data||[],null==l||!l.id||o.find((function(e){return e.id===l.id}))){h.next=64;break}return h.next=64,(0,Ky.yJ)(R({}));case 64:if(i||"H5"!==n){h.next=73;break}if(!a){h.next=70;break}return h.next=68,(0,Ky.yJ)(R(o[0]));case 68:h.next=73;break;case 70:if(1!==o.length){h.next=73;break}return h.next=73,(0,Ky.yJ)(R(o[0]));case 73:return h.next=75,(0,Ky.yJ)(N(o));case 75:return h.abrupt("break",142);case 76:return h.next=78,(0,Ky.yJ)(ee(e.data));case 78:return h.abrupt("break",142);case 79:return h.next=81,(0,Ky.T1)(Og,e.data);case 81:return h.abrupt("break",142);case 82:return h.next=84,(0,Ky.T1)(bg,{type:e.type,data:e.data});case 84:return h.abrupt("break",142);case 85:return h.next=87,(0,Ky.T1)(bg,{type:e.type,data:e.data});case 87:return h.abrupt("break",142);case 88:return c=e.data.userAgree,h.next=91,(0,Ky.yJ)(x(c));case 91:if(c){h.next=98;break}return h.next=94,(0,Ky.yJ)(K(Au));case 94:return h.next=96,(0,Ky.yJ)(L(""));case 96:h.next=104;break;case 98:return h.next=100,(0,Ky.Lt)((function(e){return e.globalSlice}));case 100:u=h.sent,s=u.model,u.chatSessionId||null==s||s.invokeAsync("newChat",{});case 104:return h.abrupt("break",142);case 105:return h.next=107,(0,Ky.yJ)(te(e.data));case 107:return h.abrupt("break",142);case 108:return p=null!==(f=null===(m=e.data)||void 0===m?void 0:m.agent)&&void 0!==f?f:{suggestedAsks:[]},v=Tg(Tg({},p),{},{id:null==p?void 0:p.agentId,suggestedAsks:null==p||null===(d=p.questionList)||void 0===d?void 0:d.map((function(e){var t;return e?{name:null!==(t=null==e?void 0:e.value)&&void 0!==t?t:""}:{name:""}})),type:"agent"}),h.next=113,(0,Ky.yJ)(R(v));case 113:return h.abrupt("break",142);case 114:return y=e.data||[],h.next=117,(0,Ky.Lt)((function(e){return e.globalSlice}));case 117:if(g=h.sent,null==(A=g.currentSkill)||!A.id||y.find((function(e){return e.id===A.id}))){h.next=122;break}return h.next=122,(0,Ky.yJ)(R({}));case 122:return h.next=124,(0,Ky.yJ)(N(y));case 124:return h.abrupt("break",142);case 125:return h.next=127,(0,Ky.yJ)(iu(e.data));case 127:return h.abrupt("break",142);case 128:return h.next=130,(0,Ky.yJ)(ou(e.data));case 130:return h.abrupt("break",142);case 131:return h.next=133,(0,Ky.T1)(dg,e.data);case 133:return h.abrupt("break",142);case 134:return h.next=136,(0,Ky.yJ)(K({runId:null===(t=e.data)||void 0===t?void 0:t.runId}));case 136:return h.abrupt("break",142);case 137:return h.next=139,(0,Ky.yJ)(B(e.data));case 139:return h.next=141,(0,Ky.T1)(vg,e.data);case 141:return h.abrupt("break",142);case 142:h.next=147;break;case 144:h.prev=144,h.t1=h.catch(7);case 147:case"end":return h.stop()}}),zg,null,[[7,144]])}function Jg(){return Ng().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Ky.jP)("updateModel",Qg);case 2:case"end":return e.stop()}}),Bg)}var Gg=Jg;function Wg(e){return Wg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wg(e)}function Xg(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Yg(n.key),n)}}function Kg(e,t,r){return t&&Xg(e.prototype,t),r&&Xg(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yg(e){var t=function(e,t){if("object"!=Wg(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Wg(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Wg(t)?t:t+""}window.ResizeObserver=i.A;var Vg=Kg((function e(t){var r,i,l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=(r=(0,Xy.Ay)(),i=[r,Pu],l=(0,d.U1)({reducer:{globalSlice:F,agentSlice:nu,chatSlice:le},middleware:function(e){return e({serializableCheck:!1}).concat(i)}}),"production"===Tt&&r.run(Gg),"production"===Ft&&r.run(Gg),l),this.store.dispatch(I(t)),this.root=(0,a.H)(t.dom),this.root.render(n.createElement(v.Kq,{store:this.store},n.createElement(Wy,null))),this.init=function(e){e.data&&this.store.dispatch({type:"updateModel",payload:e.data})},this.update=function(e){this.store&&e.themeColor&&this.store.dispatch({type:"global/setTheme",payload:e.themeColor}),this.store&&e.data&&this.store.dispatch({type:"updateModel",payload:e.data})},this.unmount=function(){this.root.unmount()}}))}}]);