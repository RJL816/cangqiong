// Build date: 2024/10/14 18:24:32
 // Version: 6.0.0
 /*! For license information please see chunk.bundle.c650045a.js.LICENSE.txt */
(self.webpackChunkgpt_gai=self.webpackChunkgpt_gai||[]).push([[23],{98081:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return zh}});r(79795),r(12868);var n=r(78807),a=r(41402),i=(r(50666),r(11119)),o=r(3449),l=(r(74763),r(41743),r(44027),r(4492),r(23936),r(5993),r(82981),r(58552),r(21910),r(56268),r(9972),r(21265),r(53121),r(1267),r(85398),r(69008),r(76555),r(89724),r(85492),r(60161),r(29699)),c=l.d4,u=function(e){return function(t){var r=(0,l.wA)(),n=e.actions[t];return function(e){r(n(e))}}},s=["blue","green","orange","purple","red"];function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){var n;return n=function(e,t){if("object"!=f(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==f(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y={isInited:!1,model:null,theme:"blue",showIcon:!1,switchSide:!1,newPortal:!0,showClose:!1,slideEnv:"MAIN",lockSide:!1,selectedProcessId:null,hasChangeSelectedProcessId:!1,chatSessionId:"",userAgree:!0,firstInitial:!1,assistantId:void 0,assistantName:"Cosmic助手",avatar:void 0,openingSpeech:"",introduce:"",skillList:[],currentSkill:{},chatUser:{},isFullScreen:!1,sideMode:"side",disableDragging:!1,isStartChat:!1,isQingAnalysisTab:!1},v=(0,i.Z0)({name:"global",initialState:y,reducers:{seIsInited:function(e,t){e.isInited=t.payload},setModel:function(e,t){e.model=t.payload},setUserAgree:function(e,t){var r=null==t?void 0:t.payload;e.userAgree=r,e.isStartChat=!r},setTheme:function(e,t){s.some((function(e){return e===t.payload}))?e.theme=t.payload:e.theme="blue"},setShowIcon:function(e,t){e.showIcon=t.payload},setSelectedProcessId:function(e,t){e.selectedProcessId=t.payload},setSwitchSide:function(e,t){e.switchSide=t.payload},setAssistantName:function(e,t){e.assistantName=t.payload},setAvatar:function(e,t){e.avatar=t.payload},setSlideEnv:function(e,t){e.slideEnv=t.payload},setLockSide:function(e,t){e.lockSide=t.payload},setShowClose:function(e,t){e.showClose=t.payload},setInitial:function(e,t){var r={isQingAnalysisTab:!1};return"qing_workbench"===t.payload.tabChangeTo&&(r.isQingAnalysisTab=!0),"initial"===t.payload.type&&(t.payload.userAgree?r.isStartChat=!1:r.isStartChat=!0),"HOMEPAGE"===t.payload.slideEnv&&(r.sideMode="full"),p(p(p(p({},e),t.payload),r),{},{firstInitial:!0})},setSkillList:function(e,t){var r=t.payload,n={};return!e.hasChangeSelectedProcessId&&e.skillList.length||(n.currentSkill=r.find((function(t){return t.id===e.selectedProcessId}))||{},n.hasChangeSelectedProcessId=!1),p(p(p({},e),n),{},{skillList:r})},setCurrentSkill:function(e,t){p(p({},e),{},{currentSkill:p({suggestedAsks:[]},t.payload)});return p(p({},e),{},{currentSkill:p({suggestedAsks:[]},t.payload)})},forward:function(e,t){var r;return null===(r=e.model)||void 0===r||r.invokeAsync(t.payload.key,t.payload.value),p({},e)},setIsFullScreen:function(e,t){e.isFullScreen=t.payload,t.payload&&(e.disableDragging=!0)},setSideMode:function(e,t){e.sideMode=t.payload},setDisableDragging:function(e,t){e.disableDragging=t.payload},setChatSessionId:function(e,t){e.chatSessionId=t.payload.id},setIsStartChat:function(e,t){e.isStartChat=t.payload},setIdentifySkillId:function(e,t){e.identifySkillId=t.payload},setHasChangeSelectedProcessId:function(e,t){e.hasChangeSelectedProcessId=t.payload}},extraReducers:function(e){e.addCase("chat/setChatList",(function(e,t){var r;!e.isStartChat&&null!==(r=t.payload)&&void 0!==r&&r.length&&(e.isStartChat=!0)}))}}),g=v.actions,h=g.seIsInited,b=g.setModel,A=(g.setTheme,g.setUserAgree),E=g.setInitial,S=(g.setSelectedProcessId,g.setHasChangeSelectedProcessId),w=g.setSwitchSide,O=(g.setAssistantName,g.setAvatar,g.setShowIcon,g.setShowClose,g.setLockSide),j=(g.setSlideEnv,g.forward,g.setSkillList),I=g.setCurrentSkill,k=g.setIsFullScreen,x=(g.setSideMode,g.setDisableDragging,g.setChatSessionId),C=g.setIsStartChat,P=g.setIdentifySkillId,N=u(v),L=v.reducer,R=(r(95396),r(70773),r(36882),r(17430),r(8386),r(92019),r(28167),r(68072),r(18323),r(36631),r(18122),r(30945)),T=r(3564),B=r(51077),M=r.n(B);function z(e){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z(e)}function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach((function(t){H(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function H(e,t,r){var n;return n=function(e,t){if("object"!=z(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=z(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==z(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Q=M().create(F(F({},{baseURL:"http://127.0.0.1:8088"}),{},{headers:{"Content-Type":"application/json",withCredentials:!0}}));Q.interceptors.request.use((function(e){return e}),(function(e){return e})),Q.interceptors.response.use((function(e){return e}),(function(e){return e}));var U=Q;function Y(e){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y(e)}function J(){J=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var i=t&&t.prototype instanceof g?t:g,o=Object.create(i.prototype),l=new P(n||[]);return a(o,"_invoke",{value:I(e,r,l)}),o}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",p="suspendedYield",m="executing",y="completed",v={};function g(){}function h(){}function b(){}var A={};u(A,o,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(N([])));S&&S!==r&&n.call(S,o)&&(A=S);var w=b.prototype=g.prototype=Object.create(A);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function r(a,i,o,l){var c=f(e[a],e,i);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==Y(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,o,l)}),(function(e){r("throw",e,o,l)})):t.resolve(s).then((function(e){u.value=e,o(u)}),(function(e){return r("throw",e,o,l)}))}l(c.arg)}var i;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return i=i?i.then(a,a):a()}})}function I(t,r,n){var a=d;return function(i,o){if(a===m)throw new Error("Generator is already running");if(a===y){if("throw"===i)throw o;return{value:e,done:!0}}for(n.method=i,n.arg=o;;){var l=n.delegate;if(l){var c=k(l,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===d)throw a=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=y,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(a,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var o=i.arg;return o?o.done?(r[t.resultName]=o.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function N(t){if(t||""===t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(Y(t)+" is not iterable")}return h.prototype=b,a(w,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:h,configurable:!0}),h.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},t.awrap=function(e){return{__await:e}},O(j.prototype),u(j.prototype,l,(function(){return this})),t.AsyncIterator=j,t.async=function(e,r,n,a,i){void 0===i&&(i=Promise);var o=new j(s(e,r,n,a),i);return t.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},O(w),u(w,c,"Generator"),u(w,o,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=N,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return l.type="throw",l.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],l=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;C(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:N(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function W(e,t,r,n,a,i,o){try{var l=e[i](o),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}function G(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){W(i,n,a,o,l,"next",e)}function l(e){W(i,n,a,o,l,"throw",e)}o(void 0)}))}}var X,V,K,Z,q,_,$,ee,te,re,ne,ae,ie,oe,le,ce,ue={getProcessList:(ce=G(J().mark((function e(t){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",U.post("/chat/getProcessList",t,{headers:{"Content-Type":"application/json"}}).then((function(e){return e})).catch((function(e){})));case 1:case"end":return e.stop()}}),e)}))),function(e){return ce.apply(this,arguments)}),getInitialData:(le=G(J().mark((function e(t){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",U.post("/chat/getInitialData",t,{headers:{"Content-Type":"application/json"}}).then((function(e){return e})).catch((function(e){})));case 1:case"end":return e.stop()}}),e)}))),function(e){return le.apply(this,arguments)}),changeConfig:(oe=G(J().mark((function e(t){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",U.post("/chat/changeConfig",t,{headers:{"Content-Type":"application/json"}}).then((function(e){return e})).catch((function(e){})));case 1:case"end":return e.stop()}}),e)}))),function(e){return oe.apply(this,arguments)}),getChatInfo:(ie=G(J().mark((function e(t){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",U.post("/chat/getChatInfo",t,{headers:{"Content-Type":"application/json"}}).then((function(e){return e})).catch((function(e){})));case 1:case"end":return e.stop()}}),e)}))),function(e){return ie.apply(this,arguments)}),getAgentList:(ae=G(J().mark((function e(t){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",U.post("/chat/getAgentList",t,{headers:{"Content-Type":"application/json"}}).then((function(e){return e})).catch((function(e){})));case 1:case"end":return e.stop()}}),e)}))),function(e){return ae.apply(this,arguments)}),getSkillList:(ne=G(J().mark((function e(t){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",U.post("/chat/getSkillList",t,{headers:{"Content-Type":"application/json"}}).then((function(e){return e})).catch((function(e){})));case 1:case"end":return e.stop()}}),e)}))),function(e){return ne.apply(this,arguments)}),getTempSkillList:(re=G(J().mark((function e(t){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",U.post("/chat/getTempSkillList",t,{headers:{"Content-Type":"application/json"}}).then((function(e){return e})).catch((function(e){})));case 1:case"end":return e.stop()}}),e)}))),function(e){return re.apply(this,arguments)}),getChatInfoList:(te=G(J().mark((function e(t){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",U.post("/chat/getChatInfoList",t,{headers:{"Content-Type":"application/json"}}).then((function(e){return e})).catch((function(e){})));case 1:case"end":return e.stop()}}),e)}))),function(e){return te.apply(this,arguments)}),getChatItemList:(ee=G(J().mark((function e(t){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",U.post("/chat/getChatItemList",t,{headers:{"Content-Type":"application/json"}}).then((function(e){return e})).catch((function(e){})));case 1:case"end":return e.stop()}}),e)}))),function(e){return ee.apply(this,arguments)}),runStepChat:($=G(J().mark((function e(t){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",U.post("/chat/runStepChat",t,{headers:{"Content-Type":"application/json"}}).then((function(e){return e})).catch((function(e){})));case 1:case"end":return e.stop()}}),e)}))),function(e){return $.apply(this,arguments)}),runStepChatTest:(_=G(J().mark((function e(t){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",U.post("/chat/runStepChatTest",t,{headers:{"Content-Type":"application/json"}}).then((function(e){return e})).catch((function(e){})));case 1:case"end":return e.stop()}}),e)}))),function(e){return _.apply(this,arguments)}),initAgentPlayground:(q=G(J().mark((function e(t){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",U.post("/chat/initAgentPlayground",t,{headers:{"Content-Type":"application/json"}}).then((function(e){return e})).catch((function(e){})));case 1:case"end":return e.stop()}}),e)}))),function(e){return q.apply(this,arguments)}),newChat:(Z=G(J().mark((function e(t){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",U.post("/chat/newChat",t,{headers:{"Content-Type":"application/json"}}).then((function(e){return e})).catch((function(e){})));case 1:case"end":return e.stop()}}),e)}))),function(e){return Z.apply(this,arguments)}),userAgree:(K=G(J().mark((function e(t){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",U.post("/chat/userAgree",t,{headers:{"Content-Type":"application/json"}}).then((function(e){return e})).catch((function(e){})));case 1:case"end":return e.stop()}}),e)}))),function(e){return K.apply(this,arguments)}),saveFile:(V=G(J().mark((function e(t){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",U.post("/chat/saveFile",t,{headers:{"Content-Type":"application/json"}}).then((function(e){return e})).catch((function(e){})));case 1:case"end":return e.stop()}}),e)}))),function(e){return V.apply(this,arguments)}),queryTraceLogs:(X=G(J().mark((function e(t){return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",U.post("/chat/queryTraceLogs",t,{headers:{"Content-Type":"application/json"}}).then((function(e){return e})).catch((function(e){})));case 1:case"end":return e.stop()}}),e)}))),function(e){return X.apply(this,arguments)})};r(42004),r(82934),r(31964),r(63951),r(17506),r(52059);function se(e){return se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},se(e)}function fe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function de(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(r),!0).forEach((function(t){pe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pe(e,t,r){var n;return n=function(e,t){if("object"!=se(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=se(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==se(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var me=(0,i.Z0)({name:"chat",initialState:{chatList:[],removeFlowIdList:[],isChat:{status:!1,waiting:!1,stream:!1,taskId:"",flowId:"",runId:"",isRunStepLoading:!1},recommendList:[],promptParams:{llm:"",llmStyle:"",promptTemplate:"",variableMap:{},input:"",stream:!1,readyToSend:!1},files:[],extraInput:"",runStepStatusList:[],hasMore:!1,historyList:[],chatScrollTop:!0},reducers:{setChatStatus:function(e,t){e.isChat=de(de({},e.isChat),t.payload)},setChatList:function(e,t){var r=t.payload.chatType;if(r&&"chatHistory"===r){var n,a,i=e.chatList.slice();i=(null!==(n=null===(a=t.payload)||void 0===a?void 0:a.chatList)&&void 0!==n?n:[]).concat(i),e.chatList=i}else e.chatList=t.payload},clearChatList:function(e){e.chatList=[]},setRecommend:function(e,t){e.recommendList=t.payload},setRemoveFlowIdList:function(e,t){e.removeFlowIdList=t.payload},setChatRequest:function(e,t){e.chatList=e.chatList.concat(de({type:"ask"},t.payload))},setChatAnswer:function(e,t){e.chatList=e.chatList.concat(de({type:"answer"},t.payload))},setPromptParams:function(e,t){e.promptParams=de(de({},e.promptParams),t.payload)},setReadyToSend:function(e,t){e.promptParams.readyToSend=t.payload},changeVariableMapValue:function(e,t){e.promptParams.variableMap[t.payload.key].value=t.payload.value},updateVariableMap:function(e,t){var r={};Object.keys(t.payload).forEach((function(n){e.promptParams.variableMap[n]?r[n]=e.promptParams.variableMap[n]:r[n]={name:t.payload[n],value:""}})),e.promptParams.variableMap=r},setFiles:function(e,t){var r=e.files.concat(),n=t.payload,a=n.tempId||n.fileId,i=r.filter((function(e){return e.fileId===a}));if(i.length>0){i=de(de(de({},i=i[0]),n),{},{status:null!=n&&n.status?n.status:1});var o=r.findIndex((function(e){return e.fileId===a}));o>-1&&r.splice(o,1,i)}else r.push(t.payload);e.files=r},clearFiles:function(e,t){e.files=[]},replaceAllFiles:function(e,t){var r=e.files.concat(),n=r.map((function(e){return e.fileId})),a=(t.payload||[]).filter((function(e){return!n.includes(e.fileId)}));e.files=r.concat(a)},delFiles:function(e,t){var r=t.payload.fileId,n=e.files.findIndex((function(e){return e.fileId===r})),a=e.files.concat();a.splice(n,1),e.files=a},setExtraInput:function(e,t){e.extraInput=t.payload},setRunStepStatus:function(e,t){e.runStepStatusList=t.payload},clearRunStepStatus:function(e,t){e.runStepStatusList=[]},setChatScrollTop:function(e,t){e.chatScrollTop=t.payload}}}),ye=u(me),ve=me.actions,ge=ve.setChatStatus,he=ve.setChatList,be=ve.clearChatList,Ae=ve.setRecommend,Ee=(ve.setRemoveFlowIdList,ve.setChatRequest),Se=(ve.setChatAnswer,ve.setPromptParams),we=ve.setReadyToSend,Oe=ve.changeVariableMapValue,je=ve.updateVariableMap,Ie=ve.setFiles,ke=(ve.clearFiles,ve.delFiles,ve.setExtraInput,ve.replaceAllFiles),xe=(ve.setChatScrollTop,me.reducer),Ce={DEVELOPMENT:"development",PRODUCTION:"production"},Pe={bill:{icon:"biaodan",name:"表单"},knowledge:{icon:"zhishi",name:"知识"},document:{icon:"wendang",name:"文档"},file:{icon:"wenjian",name:"文件"},web:{icon:"wangye",name:"网页"},code:{icon:"daima",name:"代码"},default:{icon:"font-wangye",name:"网页"}};function Ne(e){return Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ne(e)}function Le(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Re(e,t,r){var n;return n=function(e,t){if("object"!=Ne(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Ne(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Ne(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Te=(0,i.Z0)({name:"agent",initialState:{logsData:{},isLogsWindowShown:!1,chatTraceInfo:null,chatHistoryList:[],hasMoreChatHistory:!0,isChatHistoryFixed:!1,isChatHistoryNoAllowedClick:!1,selectedHistoryChatInfo:null},reducers:{setLogObj:function(e,t){e.logsData=t.payload},setIsLogsWindowShown:function(e,t){e.isLogsWindowShown=t.payload},openLogsWindow:function(e,t){e.isLogsWindowShown=!0,e.chatTraceInfo=t.payload},setChatHistoryInfo:function(e,t){var r=t.payload,n=r.hasMore,a=r.list;e.hasMoreChatHistory=n,e.chatHistoryList=e.chatHistoryList.concat(a)},setChatHistoryItemNewTitle:function(e,t){var r=t.payload,n=r.index,a=r.title;e.chatHistoryList[n].title=a},delChatHistoryItem:function(e,t){var r=t.payload.index;e.chatHistoryList.splice(r,1)},setChatHistoryList:function(e,t){e.chatHistoryList=t.payload},setChatHistoryHasMore:function(e,t){e.hasMoreChatHistory=t.payload},clearChatHistoryList:function(e){e.chatHistoryList=[]},setIsChatHistoryFixed:function(e,t){e.isChatHistoryFixed=t.payload},setSelectedHistoryChatInfo:function(e,t){e.selectedHistoryChatInfo=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(r),!0).forEach((function(t){Re(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Le(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({isLoading:!1},t.payload)},clearSelectedHistoryChatInfo:function(e){e.selectedHistoryChatInfo=null},setIsChatHistoryNoAllowedClick:function(e,t){e.isChatHistoryNoAllowedClick=t.payload}}}),Be=Te.reducer,Me=Te.actions,ze=Me.setLogObj,De=(Me.setChatHistoryList,Me.clearChatHistoryList),Fe=Me.setChatHistoryInfo,He=Me.setChatHistoryHasMore,Qe=Me.setChatHistoryItemNewTitle,Ue=Me.delChatHistoryItem,Ye=(Me.setIsChatHistoryFixed,Me.setSelectedHistoryChatInfo),Je=Me.clearSelectedHistoryChatInfo,We=Me.openLogsWindow,Ge=Me.setIsLogsWindowShown,Xe=Me.setIsChatHistoryNoAllowedClick,Ve=(r(69040),r(50674)),Ke=r.n(Ve);function Ze(e,t){var r="iat-api.xfyun.cn",n=(new Date).toUTCString(),a="host: ".concat(r,"\ndate: ").concat(n,"\n").concat("GET /v2/iat HTTP/1.1"),i=Ke().HmacSHA256(a,t),o=Ke().enc.Base64.stringify(i),l='api_key="'.concat(e,'", algorithm="').concat("hmac-sha256",'", headers="').concat("host date request-line",'", signature="').concat(o,'"'),c=btoa(l);return"".concat("wss://iat-api.xfyun.cn/v2/iat","?authorization=").concat(c,"&date=").concat(n,"&host=").concat(r)}Ze("9a06cf1d7d646453f682c5871dd3f768","3967192b4df049024bd87360749f0f8a");r(48055);function qe(e){return qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qe(e)}function _e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tt(n.key),n)}}function et(e,t,r){return t&&$e(e.prototype,t),r&&$e(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function tt(e){var t=function(e,t){if("object"!=qe(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=qe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==qe(t)?t:String(t)}var rt,nt,at=function(){function e(t){_e(this,e),this.mediaStream=null,this.recorder=null,this.ws=t,this.audioDataList=[]}return et(e,[{key:"recorderInit",value:function(){var e=this;navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then((function(t){e.mediaStream=t,e.recorderStart(t)})).catch((function(e){}))}},{key:"recorderStart",value:function(e){var t=this;this.recorder=new MediaRecorder(e),this.recorder.start(40),setTimeout((function(){var e;null===(e=t.recorder)||void 0===e||e.stop()}),400),this.recorder.ondataavailable=function(e){t.audioDataList.push(e.data);for(var r=new Blob(t.audioDataList);0<r.size;1280);t.audioDataList.push(e.data)}}},{key:"sendAudioData",value:function(){var e=this;this.audioDataList.forEach((function(t){e.ws.send(t)}))}},{key:"changeWs",value:function(e){this.ws=e}},{key:"start",value:function(){this.recorderInit()}}]),e}(),it=function(){function e(){_e(this,e)}return et(e,null,[{key:"getInstance",value:function(e){return this.instance?(this.instance.changeWs(e),this.instance):(this.instance=new at(e),this.instance)}}]),e}(),ot=(r(20834),r(8009),r(96439),r(65074),r(17758),r(68801),r(49208),r(57999),r(40037),r(55090),r(76175)),lt=r(27645),ct=r.n(lt),ut=function(){var e=c((function(e){return e.globalSlice})).slideEnv;return{isFeatureEnabled:function(t){return(Array.isArray(t)?t:[t]).includes(e)},isFeatureEnabledInverted:function(t){return!(Array.isArray(t)?t:[t]).includes(e)}}},st=["svgRef","title"];function ft(){return ft=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ft.apply(this,arguments)}function dt(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var pt=function(e){var t=e.svgRef,r=e.title,a=dt(e,st);return n.createElement("svg",ft({width:16,height:16,viewBox:"0 0 16 16",ref:t},a),r?n.createElement("title",null,r):null,rt||(rt=n.createElement("defs",null,n.createElement("path",{d:"M7 0a7 7 0 110 14A7 7 0 017 0zm0 1.867a5.133 5.133 0 100 10.266A5.133 5.133 0 007 1.867z",id:"stepLoading_svg__a"}))),nt||(nt=n.createElement("g",{transform:"translate(1 1)",fill:"none",fillRule:"evenodd"},n.createElement("mask",{id:"stepLoading_svg__b",fill:"#fff"},n.createElement("use",{xlinkHref:"#stepLoading_svg__a"})),n.createElement("use",{fill:"#D9D9D9",fillRule:"nonzero",xlinkHref:"#stepLoading_svg__a"}),n.createElement("path",{d:"M7 0a7 7 0 11-7 7h1.867A5.133 5.133 0 107 1.867V0z",fill:"#5582F3",fillRule:"nonzero",mask:"url(#stepLoading_svg__b)"}))))},mt=n.forwardRef((function(e,t){return n.createElement(pt,ft({svgRef:t},e))})),yt=(r(31400),r(55731));function vt(e){var t=Et(e);if(t.query){var r=St(t.query),n=r.get("gaiParams");if(n){var a=JSON.parse(n);a.id=(0,yt.A)(),r.get("gaiShow")&&(a.crossPageData?a.crossPageData.switchSide="1"===r.get("gaiShow"):a.crossPageData={switchSide:"1"===r.get("gaiShow")}),r.get("gaiLock")&&(a.crossPageData?a.crossPageData.lockSide="1"===r.get("gaiLock"):a.crossPageData={lockSide:"1"===r.get("gaiLock")}),r.get("selectedProcessNumber")&&(a.crossPageData?a.crossPageData.selectedProcessNumber=r.get("selectedProcessNumber"):a.crossPageData={selectedProcessNumber:r.get("selectedProcessNumber")}),r.set("gaiParams",JSON.stringify(a))}t.query=At(r)}return bt(t)}function gt(e){var t=Et(e),r={type:"url",title:"default",iconType:"default",method:"autoJump",value:t.fullUrl,page:"newPage"};if(t.query){var n=St(t.query),a=n.get("title"),i=n.get("iconType"),o=n.get("method"),l=n.get("order");a&&(r.title=a,n.delete("title")),i&&(r.iconType=i in Pe?i:"default",n.delete("iconType")),l&&(r.order=l,n.delete("order")),o&&(r.method=o,n.delete("method")),"newPage"!==t.hostname&&"currentPage"!==t.hostname||(r.page=t.hostname,t.hostname=""),t.query=At(n),r.value=bt(t)}return r}function ht(e){return St(Et(decodeURIComponent(e)).query)}function bt(e){var t="";return t+=e.protocol+"://",e.hostname.length>0&&(t+=e.hostname),e.port.length>0&&(t+=":"+e.port),e.pathname.length>0&&(t+="/"+e.pathname),e.query.length>0&&(t+="?"+e.query),e.hash.length>0&&(t+="#"+e.hash),t}function At(e){var t="";return e.forEach((function(e,r){t+="".concat(r,"=").concat(e,"&")})),t=t.substring(0,t.length-1)}function Et(e){var t,r,n=decodeURIComponent(e),a=decodeURIComponent(e),i="",o="",l="",c="";r=a.split("#")[1]?a.split("#")[1]:"",t=(a=a.split("#")[0]).split("?")[1]?a.split("?")[1]:"";var u=(a=a.split("?")[0]).split("://");return 2!==u.length?(i="https",a=u[0]):("http"!==u[0]&&u[0],i=u[0],a=u[1]),a.split("/").forEach((function(e,t){if(0===t){var r=e;o=r.split(":")[0],l=r.split(":")[1]?r.split(":")[1]:""}else c+=e+"/"})),c.length>0&&(c=c.substring(0,c.length-1)),{fullUrl:n,protocol:i,hostname:o,port:l,pathname:c,query:t,hash:r}}function St(e){var t=e.split("&"),r=new Map;return t.forEach((function(e){var t=e.split("=");r.set(t[0],decodeURIComponent(t[1]))})),r}function wt(e){return wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wt(e)}function Ot(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function jt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ot(Object(r),!0).forEach((function(t){It(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ot(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function It(e,t,r){var n;return n=function(e,t){if("object"!=wt(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=wt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==wt(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var kt=function(e){return e.GAIFILE="gaifile",e.GAIIMG="gaiimg",e.GAIASSISTANT="gaiassistant",e.GAIURL="gaiurl",e.GAIIFRAME="gaiiframe",e.GAIREPODOC="gairepodoc",e.GAIIMGURL="gaiimgurl",e.GAIFORM="gaiform",e}({}),xt=function(e){return{id:(0,yt.A)(),gaiTag:e,type:"url",value:"",iconType:"document",title:"",method:"autoJump",page:""}},Ct={gaiTypes:[kt.GAIASSISTANT,kt.GAIFILE,kt.GAIIFRAME,kt.GAIIMG,kt.GAIIMGURL,kt.GAIREPODOC,kt.GAIURL,kt.GAIFORM],matchGaiTag:function(e,t,r){var n=[],a=0;e.replace(/(\[(gaiimg|gaifile|gaiassistant|gaiurl|gairepodoc|gaiiframe|gaiimgurl|gaiform)\]([\S\s]+?)\[\/(gaiimg|gaifile|gaiassistant|gaiurl|gairepodoc|gaiiframe|gaiimgurl|gaiform)\])/g,(function(i,o,l,c,u,s,f){var d,p=e.substring(a,s);p&&n.push(p),a=o.length+s;var m="get".concat(l,"Data");if("gaiiframe"===l&&r&&"runStepStatus"===r)return n.push("[gaiiframe]".concat(c,"[/gaiiframe]")),f;var y={gaiTag:l,tagId:c,annotations:t},v=null==Ct||null===(d=Ct[m])||void 0===d?void 0:d.call(Ct,y);return n.push(v),f}));var i=e.substring(a,e.length);return i&&n.push(i),n},parseTag:function(e){if(!e)return[];var t=e.actionList,r=e.type,n=[];return t.forEach((function(e){var t=e.data,a=t.message,i=t.annotations;n=Ct.matchGaiTag(a,i,r)})),n},getMarkDownFormat:function(e){var t="";if(0===e.length)return"";var r=e.filter((function(e){return"string"!=typeof e&&("gaiimg"===e.gaitag||"gaiimgurl"===e.gaitag)})).map((function(e){var t,r;return{src:null!==(t=null!==(r=null==e?void 0:e.previewUrl)&&void 0!==r?r:e.fileUrl)&&void 0!==t?t:e.url,alt:e.name,name:e.name}}));return e.forEach((function(e){if("string"==typeof e)t+=e;else{var n,a,i=e.gaiTag,o="generate".concat(i,"MD");a=null==Ct||null===(n=Ct[o])||void 0===n?void 0:n.call(Ct,e,r),t+=a}})),t}};Ct.gaiTypes.forEach((function(e){var t="get".concat(e,"Data");e===kt.GAIIFRAME||e===kt.GAIIMGURL?Ct[t]=function(e){var t=e.gaiTag,r=e.tagId,n=e.annotations,a=null==n?void 0:n.filter((function(e){return e.gaitag===t&&e.url===r}));if(a&&(null==a?void 0:a.length)>0){var i=null==a?void 0:a[0];return jt(jt({},i),{},{gaiTag:t,fileUrl:null==i?void 0:i.url,name:"gaiimgurl"})}}:e===kt.GAIURL?Ct[t]=function(e){return function(e){var t=xt(kt.GAIURL);if(e=e.replace(/(<(url[name|href]+)>([\S\s]+?)<\/(url[name|href]+)>)/g,(function(e,r,n,a,i,o,l){return"urlname"===n?t.name=a:"urlhref"===n&&(t.originValue=a),l})),t.originValue){var r,n,a=gt(t.originValue);a&&(t=jt(jt({},t),a)),"default"===(null===(r=t)||void 0===r?void 0:r.title)&&(t=jt(jt({},t),{},{title:(null===(n=t)||void 0===n?void 0:n.name)||"default"}))}return t}(e.tagId)}:e===kt.GAIFORM?Ct[t]=function(e){var t,r,n=e.tagId;return t=n,r=xt(kt.GAIFORM),t=t.replace(/(<(formid|formname|billformid|filters)+>([\S\s]+?)<\/(formid|formname|billformid|filters)+>)/g,(function(e,t,n,a,i,o,l){switch(n){case"formid":r.formId=a;break;case"formname":r.formName=a,r.title=a;break;case"billformid":r.billFormId=a;break;case"filters":r.filters=a}return l})),r}:Ct[t]=function(e){var t=e.gaiTag,r=e.tagId,n=e.annotations,a=null==n?void 0:n.filter((function(e){var n=e.gaitag,a=e.id;return n===t&&String(a)===String(r)}));if(0===(null==a?void 0:a.length))return null;var i,o,l=null==a?void 0:a[0];return t===kt.GAIFILE||t===kt.GAIREPODOC?jt(jt({},xt(kt.GAIFILE)),{},{value:(null==l?void 0:l.previewUrl)||(null==l?void 0:l.fileUrl)||(null==l?void 0:l.content),title:null!==(i=null==l?void 0:l.name)&&void 0!==i?i:"",previewByCosmic:(null==l?void 0:l.previewByCosmic)||!1,iconType:t===kt.GAIREPODOC?"knowledge":"document"},l):jt({type:"img",gaiTag:t,name:"",url:null!==(o=null==l?void 0:l.previewUrl)&&void 0!==o?o:null==l?void 0:l.fileUrl},l)}})),Ct.gaiTypes.forEach((function(e){var t="generate".concat(e,"MD");e===kt.GAIIMG||e===kt.GAIIMGURL||e===kt.GAIIFRAME||e===kt.GAIASSISTANT?Ct[t]=function(e,t){try{var r={type:e.gaiTag===kt.GAIIFRAME?"iframe":"img",allImgs:t,name:e.name};return"\n\n ![".concat(JSON.stringify(r),"](").concat(e.url,")")}catch(e){}}:e!==kt.GAIFILE&&e!==kt.GAIREPODOC&&e!==kt.GAIURL&&e!==kt.GAIFORM||(Ct[t]=function(e){var t=e.value,r=e.title,n=e.order,a=e.iconType,i=e.gaiTag,o=e.method,l=e.page,c=e.previewByCosmic,u=e.id;try{var s={type:i===kt.GAIREPODOC?"repodoc":i===kt.GAIFORM?"form":"normal",iconType:null!=a?a:"document",name:r,order:null!=n?n:0,previewByCosmic:c,page:l,fileId:u,fileUrl:encodeURIComponent(t),method:i===kt.GAIFORM?"backend":o};if(i===kt.GAIFORM){var f=e.formId,d=e.formName,p=e.billFormId,m=e.filters,y={formId:f,formName:d,billFormId:p,filters:JSON.parse(null!=m?m:"")};s=jt(jt({},s),y)}return"\n\n [".concat(JSON.stringify(s),"](").concat(encodeURIComponent(t),") \n\n")}catch(e){}})}));var Pt=function(e){var t="";return e.forEach((function(e){var r=e.fileType,n=e.fileId,a=e.id,i=r&&r.indexOf("image")>-1;t+=i?"[".concat(kt.GAIIMG,"]").concat(null!=n?n:a,"[/").concat(kt.GAIIMG,"]"):"[".concat(kt.GAIFILE,"]").concat(null!=n?n:a,"[/").concat(kt.GAIFILE,"]")})),t},Nt=Ct;function Lt(e,t,r){var n=-1,a=r||e.length-1;if("function"==typeof t)for(;a>=0;){if(t(e[a],a)){n=Math.max(n,a);break}a--}else for(;a>=0;){if(e[a]===t){n=Math.max(n,a);break}a--}return n}function Rt(e,t,r){if(!e)return"";var n={actionList:[{data:{message:e,annotations:t}}],type:r},a=Nt.parseTag(n);return Nt.getMarkDownFormat(a)}function Tt(e,t){if(!e)return null;var r={actionList:[{data:{message:e,annotations:t}}]};return Nt.parseTag(r)}var Bt="container--D9tfW",Mt="rotating-div--dvfyE",zt="waiting--As0so",Dt="waitingArea--vvuIy",Ft={"gai-img-wrapper":"gai-img-wrapper--vE0Yw","gai-img-failed":"gai-img-failed--lXCY1"};function Ht(e){return Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ht(e)}function Qt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ut(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qt(Object(r),!0).forEach((function(t){Yt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Yt(e,t,r){var n;return n=function(e,t){if("object"!=Ht(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Ht(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Ht(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Wt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Gt=n.memo((function(e){e.name;var t=e.url,r=e.isAvatar,a=e.width,i=e.height,o=e.error,l=e.style,c=void 0===l?{}:l,u=e.className,s=e.onClick,f=Jt((0,n.useState)(""),2),d=f[0],p=f[1],m=Jt((0,n.useState)(c),2),y=m[0],v=m[1];(0,n.useEffect)((function(){if(t)if(r&&t){var e=new Image;e.onload=function(){p(t);var e=Ut({width:"".concat(a,"px"),height:"".concat(i,"px"),borderRadius:r?"50%":"none"},c);v(e)},e.onerror=function(e){g()},e.src=t}else t&&(p(t),v(Ut({},c)));else g()}),[r,t]),(0,n.useEffect)((function(){o&&g()}),[o]);var g=function(){p("data:image/png;base64,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");var e=Ut({width:"".concat(a||30,"px"),height:"".concat(i||30,"px")},c);v(e)},h=function(e){s&&s(e)};return n.createElement(n.Fragment,null,n.createElement("img",{className:ct()(u,Ft["".concat("gai-img","-wrapper")]),src:d,style:y,onClick:function(){return h(t)}}))}));Gt.displayName="gai-img";var Xt=Gt,Vt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAIAAACR5s1WAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAALKADAAQAAAABAAAALAAAAAD8buejAAACOElEQVRYCe1YWU/CQBCmh0KLoBxRjNEHffT//xR98wyEQyFaoXL08CN1N0O7ZXeJiTyUl87Oznzz5Zu9guF5Xum/f+Z/E1jXL0iwLhRKFEowBdi3WBN7pYTN2Ei+qyD6nC79+SqMYkloqWRbplO2GvWKZRrSYAQokfj4WnSHU5XytORo8n3VqR25B9QptOULc74IXgfaDFAM4j33vSCIhIWpU05iMPbjWN4CCsrtMIyHE58P8ww5CX8e5CWr+FXSJSSiKIaqKsXyYlTSBSSm/uqp540/53m4Wn7eSAACFuDZdMHueOl/BWHkzZb16qHiHsvipjzQA/sLTnTn9qaZmhUoAQZJEDdSOTsMORQ3KIhACTqdtQ9s86zl4swYjn2sGB6w9jfdKF77dU8UbRL8/DENozdaK5z8Ls+OatVD2PB3iZ/Nb/sK2rEtHEes/ZtiWxtHsmX9+iHJdoTsrHZC/22Gvi6WIU5lCtd/n2H1LVfhYDyjfhVbux3YNXcPkyw09t79o8Cfjcx6BEqgqUnchtzZVB0Ph+LgNFtAot1wEIFVVilr60ShqQ2oZNkm4HQKtqDMedvttByD6ZFK2Hl4fVHHRSiEFSiBMjzUNA21d0kuN5vkc9hUtJgEDXIq8lcJjU/ZjkJP5STaJ5UUrtawpZAuJ3FSKzePd+TRablVRy6kofj/BJ6ZuItxB9L7Ik+S5KF72nRVHpgAUSWRV+9P/PJ2/EmZ7SAFCaZPoUShBFOAfYs1sVdK/AA5W8fNIgMwvwAAAABJRU5ErkJggg==",Kt={"gai-user-agent-wraper":"gai-user-agent-wraper--W8Wcf","gai-user-agent-username":"gai-user-agent-username--XYHpd"};function Zt(e){return Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zt(e)}function qt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _t(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qt(Object(r),!0).forEach((function(t){$t(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $t(e,t,r){var n;return n=function(e,t){if("object"!=Zt(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Zt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Zt(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var er="gai-user-agent",tr=function(e){var t,r,a,i,o=e.assistant,l=e.visible,u=c((function(e){return e.globalSlice})),s=u.avatar,f=u.assistantName,d=ut().isFeatureEnabled,p={display:d(["PLAYGROUND","CUSTOM"])?"none":"flex"},m=null;o?(m=o,"userName"in o&&(m=_t(_t({},m),{},{name:null==o?void 0:o.userName}))):m={picture:d("AGENT")?Vt:null!=s?s:"",name:null!=f?f:""};var y=null!==(t=null===(r=m)||void 0===r?void 0:r.picture)&&void 0!==t?t:"",v=null!==(a=null===(i=m)||void 0===i?void 0:i.name)&&void 0!==a?a:"";return n.createElement(n.Fragment,null,m&&l?n.createElement("div",{className:Kt["".concat(er,"-wraper")],style:p},n.createElement(Xt,{isAvatar:!0,url:y,width:24,height:24,name:v}),n.createElement("span",{className:Kt["".concat(er,"-username")]},v)):null)},rr=n.memo(tr);function nr(e){return nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nr(e)}function ar(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ir(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ar(Object(r),!0).forEach((function(t){or(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ar(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function or(e,t,r){var n;return n=function(e,t){if("object"!=nr(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=nr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==nr(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var lr=function(e){var t=e.children;return n.createElement("div",{className:Bt},n.createElement(mt,{className:Mt}),n.createElement("div",null,t))},cr=lr,ur=n.memo((function(e){var t=e.style,r=(e.showAssistant,c((function(e){return e.globalSlice}))),a=r.currentSkill,i=(r.slideEnv,r.identifySkillId),o=ut(),l=o.isFeatureEnabled,u=o.isFeatureEnabledInverted,s=c((function(e){return e.chatSlice})),f=s.isChat,d=s.chatList,p=Lt(d,(function(e){return"ask"===e.type})),m={id:"",number:"",name:"",des:"",prologue:"",type:"preset",picture:"",modifyTime:"",modifyTimeV:""};if(p>-1){var y=d[p];m=ir(ir({},m),{},{id:null==y?void 0:y.skillId})}var v={marginLeft:l(["PLAYGROUND","CUSTOM"])?0:"".concat(32,"px")};return v=ir(ir({},v),t),f.status&&f.waiting?n.createElement("div",{className:zt},n.createElement(rr,{visible:u("PLAYGROUND")}),n.createElement("div",{className:Dt,style:v},n.createElement(lr,null,n.createElement("span",{style:{marginLeft:"4px"}},l("PLAYGROUND")||null!=a&&a.id||i?"加载中":"意图识别匹配中")))):null}));ur.displayName="gai-waiting";var sr,fr="font--ko9b5",dr="font-shurukuangqingkongtubiao--qh9rA",pr=["svgRef","title"];function mr(){return mr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mr.apply(this,arguments)}function yr(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var vr,gr=function(e){var t=e.svgRef,r=e.title,a=yr(e,pr);return n.createElement("svg",mr({width:16,height:16,viewBox:"0 0 16 16",ref:t},a),r?n.createElement("title",null,r):null,sr||(sr=n.createElement("path",{d:"M8 1a7 7 0 110 14A7 7 0 018 1zm0 10a.75.75 0 100 1.5.75.75 0 000-1.5zm0-7.5a.5.5 0 00-.5.5v5.5a.5.5 0 001 0V4a.5.5 0 00-.5-.5z",fill:"#FB2323",fillRule:"evenodd"})))},hr=n.forwardRef((function(e,t){return n.createElement(gr,mr({svgRef:t},e))})),br={textItem:"textItem--qRkwA",urlItem:"urlItem--EBPRX",iconTitle:"iconTitle--mVzrm",subSuper:"subSuper--UkFb0",iconName:"iconName--SDBGM",picItem:"picItem--hhkLI",iframeItem:"iframeItem--lLbQw"},Ar={iconcool:"iconcool--EJQJw",baocuo:"baocuo--SSuwh",bianji:"bianji--dEFSi",biaodan:"biaodan--p7RDs",buxihuan:"buxihuan--Zh_q0",caidan:"caidan--nGaVx",copyRight:"copyRight--OA20S",cuowuweixian:"cuowuweixian--RjDzW",daima:"daima--qmdPP",danliexuanze:"danliexuanze--glDr7",dongjie:"dongjie--cLzZr",fanhui:"fanhui--mDcuB",faqixinliaotian:"faqixinliaotian--aY5Iz",fasong:"fasong--ODfGM",fujian:"fujian--yolKg",fuzhidaima:"fuzhidaima--_BfNG",gengduo:"gengduo--jKZX3",guanbi:"guanbi--Yak9h",guanbiquanping:"guanbiquanping--ONyyt",jiazaizhong:"jiazaizhong--fK7FY",lajitong:"lajitong--VS2at",lietujiazaishibai:"lietujiazaishibai--TprQ5",shanchu:"shanchu--jAbfR",shangla:"shangla--d2lvM",shuaxin:"shuaxin--vCTuF",tixing:"tixing--jPMHk",toubudaohang_guanbi:"toubudaohang_guanbi--SdAFH",wangye:"wangye--Xsbg7",weidongjie:"weidongjie--S1C4A",wendang:"wendang--wad0r",wenjian:"wenjian--gGjIa",xiala:"xiala--MdBKg",xiaoK:"xiaoK--GAmFg",xihuan:"xihuan--_qAJ7",xingzhuang:"xingzhuang--Jz3IZ",xingzhuangjiehe:"xingzhuangjiehe--RNdZF",xuanzezhinengti:"xuanzezhinengti--umsvV",yanse:"yanse--Hm_nS",yiquxiao:"yiquxiao--JsmnL",yiwancheng:"yiwancheng--Cz_M5",zhishi:"zhishi--LNTEg",zhongmingming:"zhongmingming--Fdo7R","zhuangtaitubiao-tishi":"zhuangtaitubiao-tishi--im7Fr",zidingyi:"zidingyi--ByLMx",ziyoubilv:"ziyoubilv--NJRiX"},Er=(r(38928),r(94658),r(81893),r(49789)),Sr=r(57004),wr={"gai-robot":"gai-robot--kcFDk","gai-md-iframe":"gai-md-iframe--Tcljt","gai-md-copy":"gai-md-copy--AwQ2j",rightSvg:"rightSvg--tlPg3",copySvg:"copySvg--rrh6Y","gai-md-table-wrapper":"gai-md-table-wrapper--O6vXI",myTable:"myTable--JZFnT",gaiBlockQuote:"gaiBlockQuote--wve8n",gaiUnorderList:"gaiUnorderList--d_qhh",gaiOrderList:"gaiOrderList--DgBRP","gai-markDown":"gai-markDown--ulIvG","gai-md-code":"gai-md-code--DdYP7","gai-md-code-header":"gai-md-code-header--YSbsO","gai-md-link":"gai-md-link--QqZ_H"},Or=r(181),jr=r(48012),Ir=r(80146),kr=["svgRef","title"];function xr(){return xr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xr.apply(this,arguments)}function Cr(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Pr,Nr=function(e){var t=e.svgRef,r=e.title,a=Cr(e,kr);return n.createElement("svg",xr({width:16,height:16,viewBox:"0 0 16 16",ref:t},a),r?n.createElement("title",null,r):null,vr||(vr=n.createElement("path",{d:"M2.5 13.498c0-.002 3 0 8.998.002-.002 0 0-3 .002-8.998 0 .002-3 0-8.998-.002.002 0 0 3-.002 8.998zm-1-9.08c0-.506.418-.918.918-.918h9.163c.506 0 .919.418.919.918v9.164a.924.924 0 01-.919.918H2.418a.923.923 0 01-.918-.918V4.418zM4.502 1.5h8.996c.552 0 1.002.456 1.002 1.002v8.996c0 .544-.441.988-.977 1.002V2.49H3.5c.006-.547.46-.99 1.002-.99z",fill:"#666",fillRule:"evenodd"})))},Lr=n.forwardRef((function(e,t){return n.createElement(Nr,xr({svgRef:t},e))})),Rr=["svgRef","title"];function Tr(){return Tr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tr.apply(this,arguments)}function Br(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Mr=function(e){var t=e.svgRef,r=e.title,a=Br(e,Rr);return n.createElement("svg",Tr({className:"right_svg__icon",width:200,height:200,style:{verticalAlign:"middle"},viewBox:"0 0 1024 1024",fill:"currentColor",overflow:"hidden",ref:t},a),r?n.createElement("title",null,r):null,Pr||(Pr=n.createElement("path",{d:"M378.74 629.983L237.504 441.667c-20.71-27.614-59.885-33.21-87.5-12.5-27.614 20.71-33.21 59.886-12.5 87.5l187.5 250c23.834 31.778 70.878 33.55 97.036 3.656l437.5-500c22.73-25.976 20.097-65.461-5.88-88.192-25.978-22.73-65.463-20.097-88.193 5.88L378.741 629.983z"})))},zr=n.forwardRef((function(e,t){return n.createElement(Mr,Tr({svgRef:t},e))}));function Dr(e){if(navigator&&navigator.clipboard&&"function"==typeof navigator.clipboard.writeText)navigator.clipboard.writeText(e).then((function(){})).catch((function(){}));else if(document&&document.execCommand&&"function"==typeof document.execCommand){var t=document.createElement("input");t.style.cssText="position: absolute; left: -9999px; top: -9999px; z-index: -9999;",t.readOnly=!0,document.body.appendChild(t),t.value=e,t.focus(),t.select();document.execCommand("copy",!1,void 0);document.body.removeChild(t)}}var Fr=["node","className","children"];function Hr(){return Hr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hr.apply(this,arguments)}function Qr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ur(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ur(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ur(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Yr(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Jr="gai-md",Wr={dark:Ir.A},Gr=n.memo((function(e){var t=e.content;return n.createElement(n.Fragment,null,n.createElement(Er.o,{className:ct()(wr["gai-robot"],wr["gai-markDown"]),rehypePlugins:[jr.A],remarkPlugins:[Sr.A],components:{a:function(e){var t=e.children,r=e.href;return n.createElement(Xr,{href:decodeURIComponent(null!=r?r:"")},t)},img:function(e){var t=e.src,r=e.alt;return n.createElement(Zr,{src:t,alt:r})},table:function(e){var t={node:e.node,children:e.children};return n.createElement(qr,t)},blockquote:function(e){var t=e.children;return n.createElement("blockquote",{className:wr.gaiBlockQuote},t)},ul:function(e){var t=e.children;return n.createElement("ul",{className:wr.gaiUnorderList},t)},ol:function(e){var t=e.children;return n.createElement("ol",{className:wr.gaiOrderList},t)},code:function(e){return n.createElement(Vr,e)}}},t))}));Gr.displayName="gai-markdown";var Xr=n.memo((function(e){var t,r=e.href,a=e.children,i={};if(a)try{t=JSON.parse(a)}catch(e){t=null}if(!t)return n.createElement(Kr,{text:a,href:r||""});var o=t,l=(o.id,o.name),c=o.page,u=o.iconType,s=o.order,f=o.method,d=o.type,p=o.previewByCosmic,m=o.fileId;if(i={id:(0,yt.A)(),type:"url",title:l,value:null!=r?r:"",order:s||null,method:f,previewByCosmic:p,page:c,fileId:m,iconType:null!=u?u:"document"},"form"===d){var y=t,v=y.formId,g=y.formName,h=y.billFormId,b=y.filters;i.billPars={formId:v,formName:g,billFormId:h,filters:b}}return n.createElement(Gf,{data:i})}));Xr.displayName="gai-md-link";var Vr=n.memo((function(e){var t,r,a=e.node,i=e.className,o=e.children,l=Yr(e,Fr),c=Qr((0,n.useState)(!1),2),u=c[0],s=c[1];(0,n.useEffect)((function(){var e=null;return u&&(e=setTimeout((function(){s(!u)}),2e3)),function(){clearTimeout(e),e=null}}),[u]);var f=null!==(t=null==a?void 0:a.data)&&void 0!==t?t:{},d=(r=null==f?void 0:f.meta,"javascript"),p=/language-(\w+)/.exec(i||"");if(null!=p&&p.length){var m,y="id_".concat((0,yt.A)()),v=d=null==p?void 0:p[1];return n.createElement("div",{className:wr["".concat(Jr,"-code")]},n.createElement("div",{className:wr["".concat(Jr,"-code-header")]},n.createElement("span",{style:{paddingLeft:"12px",flexGrow:1}},null!==(m=null==f?void 0:f.meta)&&void 0!==m?m:v),n.createElement("span",{style:{display:"flex",justifyContent:"flex-end",paddingRight:"10px",alignItems:"center"}},n.createElement("span",{style:{display:u?"inline-block":"none",fontSize:"12px",color:"#fff",marginRight:"4px"}},"已复制"),u?n.createElement(zr,{className:ct()(wr["".concat(Jr,"-copy")],wr.rightSvg)}):n.createElement(Lr,{title:"复制",className:ct()(wr["".concat(Jr,"-copy")],wr.copySvg),onClick:function(){return function(e){var t="#".concat(e," code"),r=document.querySelector(t),n=null==r?void 0:r.innerText;if(n)try{Dr(n),s(!0)}catch(e){}}(y)}}))),n.createElement(Or.A,{showLineNumbers:!1,lineNumberStyle:{color:"#ddd",fontSize:10},style:Wr.dark,language:d,PreTag:"div",id:y},String(o).replace(/\n$/,"")))}return n.createElement("code",Hr({},l,{className:"not-prose rounded bg-gray-100 px-1 dark:bg-zinc-900"}),o)}));Vr.displayName="gai-md-code";var Kr=n.memo((function(e){var t=e.text,r=e.href,a=Qr((0,n.useState)(!1),2),i=a[0],o=a[1],l=r||t;(0,n.useEffect)((function(){if(l&&"string"==typeof l){/^\s*(https?:\/\/)/.test(l)&&o(!0)}}),[l]);var c={cursor:i?"pointer":"normal"};return n.createElement("a",{onClick:function(){i&&window.open(l)},style:c,className:wr["".concat(Jr,"-link")]},t)}));Kr.displayName="gai-md-normal-link";var Zr=n.memo((function(e){var t=e.src,r=e.alt,a={};try{r&&(a=JSON.parse(r))}catch(e){a={type:"img",allImgs:[{src:t,alt:r}]}}if("iframe"===a.type)return n.createElement("div",{className:wr["".concat(Jr,"-iframe")]},n.createElement(Vf,{data:{id:"323",value:t,type:"iframe"},setContentFixed:function(){}}));var i=(0,n.useMemo)((function(){var e,t=null===(e=a)||void 0===e?void 0:e.allImgs;return t.forEach((function(e){return e.status="loading"})),t}),[a]),o=(0,n.useCallback)((function(e,t){var r=i.filter((function(t){return t.src===e}))[0];r&&(r.status=t)}),[a]),l={url:t,name:"test",imgList:i,changePicStatus:o};return n.createElement(Xf,l)}));Zr.displayName="gai-md-img";var qr=n.memo((function(e){e.node;var t=e.children;return n.createElement("div",{className:wr["".concat(Jr,"-table-wrapper")]},n.createElement("table",{className:wr.myTable},t))}));qr.displayName="gai-md-table";var _r,$r=Gr,en={"gai-rsc-wrapper":"gai-rsc-wrapper--bBlgM","gai-rsc-wrapper-expand":"gai-rsc-wrapper-expand--_7GKJ","gai-rsc-wrapper-expand-inner":"gai-rsc-wrapper-expand-inner--Fzx7g","gai-rsc-statusBar":"gai-rsc-statusBar--u0qZD","gai-rsc-status":"gai-rsc-status--_RcR3","gai-rsc-stepName":"gai-rsc-stepName--u2Le2","gai-rsc-step-item":"gai-rsc-step-item--U8YNg","gai-rsc-step-item-header":"gai-rsc-step-item-header--c_Dhn",retract:"retract--WtCB6",expand:"expand--vHRzY","gai-rsc-step-item-desc":"gai-rsc-step-item-desc--St1jE","gai-rsc-success":"gai-rsc-success--U55J2","gai-rsc-error":"gai-rsc-error--J8WX2","gai-rsc-cancel":"gai-rsc-cancel--ZnztB","gai-rsc-warning":"gai-rsc-warning--rAMAh","gai-rsc-waiting":"gai-rsc-waiting--yZ3sY"},tn=["svgRef","title"];function rn(){return rn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rn.apply(this,arguments)}function nn(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var an,on=function(e){var t=e.svgRef,r=e.title,a=nn(e,tn);return n.createElement("svg",rn({width:16,height:16,viewBox:"0 0 16 16",ref:t},a),r?n.createElement("title",null,r):null,_r||(_r=n.createElement("path",{d:"M13.84 5.854a.471.471 0 000-.708.583.583 0 00-.72-.041l-.051.041L8 9.793 2.931 5.146a.583.583 0 00-.72-.041l-.051.041a.47.47 0 00-.046.66l.046.048 5.454 5c.197.18.506.194.72.041l.052-.041 5.454-5z",fill:"#666",fillRule:"evenodd"})))},ln=n.forwardRef((function(e,t){return n.createElement(on,rn({svgRef:t},e))})),cn=["svgRef","title"];function un(){return un=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},un.apply(this,arguments)}function sn(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var fn,dn=function(e){var t=e.svgRef,r=e.title,a=sn(e,cn);return n.createElement("svg",un({width:16,height:16,viewBox:"0 0 16 16",ref:t},a),r?n.createElement("title",null,r):null,an||(an=n.createElement("path",{d:"M8 1a7 7 0 110 14A7 7 0 018 1zm2.821 4.164c-.256-.256-.477-.215-.705.013L8 7.293 5.884 5.177l-.045-.043c-.212-.189-.42-.209-.66.03l-.048.051c-.206.235-.183.44.046.67L7.293 8l-2.116 2.116c-.223.223-.261.457-.006.712.256.256.486.222.713-.005L8 8.707l2.116 2.116.045.043c.212.187.43.2.668-.038l.047-.05c.202-.237.155-.454-.053-.662L8.707 8l2.116-2.116c.246-.245.254-.463-.002-.72z",fill:"#666",fillRule:"evenodd"})))},pn=n.forwardRef((function(e,t){return n.createElement(dn,un({svgRef:t},e))})),mn=["svgRef","title"];function yn(){return yn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yn.apply(this,arguments)}function vn(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var gn,hn=function(e){var t=e.svgRef,r=e.title,a=vn(e,mn);return n.createElement("svg",yn({width:16,height:16,viewBox:"0 0 16 16",ref:t},a),r?n.createElement("title",null,r):null,fn||(fn=n.createElement("path",{d:"M8 1a7 7 0 110 14A7 7 0 018 1zm0 10a.75.75 0 100 1.5.75.75 0 000-1.5zm0-7.5a.5.5 0 00-.5.5v5.5a.5.5 0 001 0V4a.5.5 0 00-.5-.5z",fill:"#FF991C",fillRule:"evenodd"})))},bn=n.forwardRef((function(e,t){return n.createElement(hn,yn({svgRef:t},e))})),An=["svgRef","title"];function En(){return En=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},En.apply(this,arguments)}function Sn(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var wn=function(e){var t=e.svgRef,r=e.title,a=Sn(e,An);return n.createElement("svg",En({width:16,height:16,viewBox:"0 0 16 16",ref:t},a),r?n.createElement("title",null,r):null,gn||(gn=n.createElement("path",{d:"M8 1a7 7 0 110 14A7 7 0 018 1zm3.304 4.133a.546.546 0 00-.779.066L6.898 9.563l-1.42-1.736-.04-.042a.546.546 0 00-.74-.03.57.57 0 00-.07.793l1.842 2.25.038.042a.546.546 0 00.809-.04l4.052-4.874.035-.046a.57.57 0 00-.1-.747z",fill:"#1BA854",fillRule:"evenodd"})))},On=n.forwardRef((function(e,t){return n.createElement(wn,En({svgRef:t},e))})),jn="bg--uQlSA",In="bg_hover--bVyrB",kn="icon_linear--B8ndm",xn="bg_linear--zUEsF",Cn="active--fOpCL",Pn="bg_face--z6mU4",Nn="icon_face--H2AV8",Ln="icon--l7bqz",Rn="disable--I8f4V",Tn="tooltip--OcFPu",Bn=(r(47715),r(5348),r(38729),r(64548)),Mn=r(91248),zn=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t};function Dn(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return Fn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fn(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){throw e})),f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){l=!0,i=e})),f:function(){try{o||null==r.return||r.return()}finally{if(l)throw i}}}}function Fn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Hn(e,t){(0,n.useEffect)((function(){"function"==typeof e&&(e=e());var r=new a.A((function(e){if(e[0]&&e[0].contentRect){var r=e[0].contentRect,n=0===r.width&&0===r.height,a=Object.assign({hide:n},r);["width","height","x","y","bottom","top","left","right"].forEach((function(e){a[e]=r[e]})),t&&t(a)}}));return r&&r.observe(e),function(){r&&r.disconnect()}}),[e,t])}function Qn(e){return Qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qn(e)}function Un(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Yn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Un(Object(r),!0).forEach((function(t){Jn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Un(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Jn(e,t,r){var n;return n=function(e,t){if("object"!=Qn(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Qn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Qn(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Gn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}zn("top","left","right","bottom","topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"),zn("hover","focus","click","contextMenu");function Xn(e,t){var r,n=(null===(r=document.defaultView)||void 0===r?void 0:r.getComputedStyle(e,null).transform.substring(7))||"",a=n.match(/\(([^)]*)\)/),i=a?a[1].split(","):n.split(",");return"x"===t||void 0===t?i.length>6?parseFloat(i[12]):parseFloat(i[4]):"y"===t?i.length>6?parseFloat(i[13]):parseFloat(i[5]):"z"===t?i.length>6?parseFloat(i[14]):0:"rotate"===t?i.length>6?Vn([parseFloat(i[0]),parseFloat(i[1]),parseFloat(i[4]),parseFloat(i[5])]):Vn(i.map((function(e){return parseFloat(e)}))):void 0}function Vn(e){var t=Math.round(180*Math.asin(e[0])/Math.PI),r=Math.round(180*Math.acos(e[1])/Math.PI),n=Math.round(180*Math.asin(e[2])/Math.PI),a=Math.round(180*Math.acos(e[3])/Math.PI),i=0;return t===r||-t===r?i=a:-t+r===180?i=180+n:t+r===180&&(i=360-n||360-a),i>=360?0:i}var Kn=function e(t){var r={top:Xn(t,"y")||0,left:Xn(t,"x")||0};if(t.parentElement){var n=e(t.parentElement);r.top+=n.top,r.left+=n.left}return r},Zn=function e(t){var r={top:t.offsetTop,left:t.offsetLeft};if(t.offsetParent){var n=e(t.offsetParent);r.top+=n.top,r.left+=n.left}return r},qn=function e(t){var r={top:0,left:0};if(t.offsetParent){var n=e(t.offsetParent);r.top+=n.top+parseInt(getComputedStyle(t.offsetParent,null).borderTopWidth.slice(0,-2)),r.left+=n.left+parseInt(getComputedStyle(t.offsetParent,null).borderLeftWidth.slice(0,-2))}return r},_n=function e(t,r){var n={top:t.scrollTop,left:t.scrollLeft};if("fixed"===getComputedStyle(t,null).getPropertyValue("position"))n.top-=document.documentElement.scrollTop,n.left-=document.documentElement.scrollLeft;else if(t.parentElement&&r.contains(t.parentElement)){var a=e(t.parentElement,r);n.top+=a.top,n.left+=a.left}return n},$n=function(e,t){var r;if(!e.current)return e.current;if(e.current.tagName)return e.current;var n={Input:"input",InputNumber:"input",Select:"select",Upload:"input"}[null==t||null===(r=t.type)||void 0===r?void 0:r.displayName];return null==e?void 0:e.current[n]};var ea=function(e,t,r){var a=r.className,i=r.onTrigger,o=r.popperStyle,l=r.arrow,c=void 0===l||l,u=r.onVisibleChange,s=r.popperClassName,f=r.arrowOffset,d=void 0===f?12:f,p=r.arrowSize,m=void 0===p?4.25:p,y=r.disabled,v=void 0!==y&&y,g=r.trigger,h=void 0===g?"hover":g,b=r.placement,A=void 0===b?"top":b,E=r.gap,S=void 0===E?4:E,w=r.scrollHidden,O=void 0!==w&&w,j=r.mouseEnterDelay,I=void 0===j?.1:j,k=r.mouseLeaveDelay,x=void 0===k?.1:k,C=r.defaultVisible,P=void 0!==C&&C,N=r.autoPlacement,L=void 0===N||N,R=r.clickToClose,T=void 0===R||R,B=r.getTriggerElement,M=void 0===B?function(e){return e}:B,z=r.getPopupContainer,D=void 0===z?function(){return document.body}:z,F=r.onTransitionEnd,H=Math.sqrt(2*Math.pow(m,2)),Q=(0,n.useRef)(),U=(0,n.useRef)(),Y=e.ref||Q,J=t.ref||U,W=D($n(Y,e)||document.body),G=S+(c?10:0),X=Wn((0,n.useState)({top:0,left:0,right:0,bottom:0,height:0,width:0}),2),V=X[0],K=X[1],Z=Wn((0,n.useState)({top:0,left:0}),2),q=Z[0],_=Z[1],$=Wn((0,n.useState)(!!r.visible||P),2),ee=$[0],te=$[1],re=Wn((0,n.useState)(!!r.visible||P),2),ne=re[0],ae=re[1],ie=Wn((0,n.useState)(!1),2),oe=ie[0],le=ie[1],ce=Wn((0,n.useState)(!1),2),ue=ce[0],se=ce[1];(0,n.useEffect)((function(){r.visible?(!ee&&te(!0),ae(!0),le(!0)):le(!1)}),[ee,r.visible]);var fe=Wn((0,n.useState)(""),2),de=fe[0],pe=fe[1],me=Wn((0,n.useState)(),2),ye=me[0],ve=me[1],ge=Wn((0,n.useState)(A),2),he=ge[0],be=ge[1],Ae=(0,n.useRef)(A);(0,n.useEffect)((function(){be(A),Ae.current=A}),[A]);var Ee=(0,n.useCallback)((function(){var t=$n(Y,e);if(t&&null!=J&&J.current){var r=J.current.getBoundingClientRect(),n=r.width,a=r.height,i=t.getBoundingClientRect(),o=i.top,l=i.bottom,c=i.left,u=i.right,s=i.height,f=i.width,p=Zn(W),y=p.top,v=p.left,g=Zn(t),b=g.top,A=g.left,E=Kn(t),S=E.top,w=E.left,O=qn(t),j=O.top,I=O.left,k=_n(t.parentElement,W),x=k.top,C=k.left,P={width:f,height:s,top:b+j+S-y-x,left:A+I+w-v-C,right:A+I+w+f-v-C,bottom:b+j+S+s-y-x},N="contextMenu"===h?V:P;L&&(o-G-a<=5&&l+G+a<document.body.clientHeight-5&&(Ae.current=Ae.current.replace("top","bottom")),l+G+a>=document.body.clientHeight-5&&o-G-a>5&&(Ae.current=Ae.current.replace("bottom","top")),c+n>=document.body.clientWidth-5&&u-n>5&&(Ae.current=Ae.current.replace("Left","Right")),u-n<=5&&c+n<document.body.clientWidth-5&&(Ae.current=Ae.current.replace("Right","Left")),o+a>=document.body.clientHeight-5&&l-a>5&&(Ae.current=Ae.current.replace("Top","Bottom")),l-a<=5&&o+a<document.body.clientHeight-5&&(Ae.current=Ae.current.replace("Bottom","Top")),c-G-n<=5&&u+G+n<document.body.clientWidth-5&&(Ae.current=Ae.current.replace("left","right")),u+G+n>=document.body.clientWidth-5&&c-G-n>5&&(Ae.current=Ae.current.replace("right","left")),["top","bottom"].includes(Ae.current)&&(u-f/2+n/2>=document.body.clientWidth-5&&u-n>5&&(Ae.current+="Right"),c-f/2-n/2<=5&&c+n<document.body.clientWidth-5&&(Ae.current+="Left")),be(Ae.current));var R=N.left-n-G,T=N.top-G-a,B=N.top+N.height+G,M=N.left+N.width-n,z=N.left+(N.width-n)/2,D=N.top-(a-N.height)/2,F=N.bottom-a,Q=N.right+G,U={topLeft:{left:N.left,top:T},top:{left:z,top:T},topRight:{left:M,top:T},bottomLeft:{left:N.left,top:B},bottom:{left:z,top:B},bottomRight:{left:M,top:B},leftTop:{left:R,top:N.top},left:{left:R,top:D},leftBottom:{left:R,top:F},rightTop:{left:Q,top:N.top},right:{left:Q,top:D},rightBottom:{left:Q,top:F}}[Ae.current],X={top:0,left:0};if(/left/.test(Ae.current)||/right/.test(Ae.current))if(/Top/.test(Ae.current)?X.top=d:/Bottom/.test(Ae.current)?X.top=a-d-2*m:X.top=(a-H)/2-1,o<=0)U.top=P.top,X.top=d;else if(l-s/4>=document.body.clientHeight)U.top=P.bottom-a,X.top=a-d-2*m;else{var K=U.top-window.pageYOffset,Z=U.top+a-5-window.pageYOffset;K<0&&(U.top-=K,X.top+=K),Z>document.body.clientHeight&&(U.top+=document.body.clientHeight-Z,X.top+=Z-document.body.clientHeight)}else(/top/.test(Ae.current)||/bottom/.test(Ae.current))&&(/Left/.test(Ae.current)?X.left=d:/Right/.test(Ae.current)?X.left=n-d-2*m:X.left=(n-H)/2-1,c<=0?(U.left=P.left,X.left=d):u>=document.body.clientWidth&&(delete U.left,U.right=-1*(u-document.body.clientWidth),X.left=n-d-2*m));ve(U),_(X)}}),[Y,J,W,h,V,L,G,d,m,H,null==ye?void 0:ye.left,null==ye?void 0:ye.top]);(0,n.useEffect)((function(){ne&&(Ee(),ae(!1),void 0===r.visible&&le(!0),u&&u(!0),se(!0),setTimeout((function(){return se(!1)}),200))}),[Ee,ne,u,r]);var Se=Jn(Jn({},"--arrowSize",m+"px"),"--arrowSpill",H/-2+"px");q.top&&(Se["--arrowTop"]=q.top+"px"),q.left&&(Se["--arrowLeft"]=q.left+"px");var we=Yn(Yn(Yn({position:"absolute"},ye),c?Se:{}),o),Oe={ref:J,style:we,className:ct()(s,he,"popper",Jn({arrow:c,hidden:!oe},"".concat(he,"-active"),ue)),onTransitionEnd:"function"==typeof F?F:void 0},je=J.current,Ie=$n(Y,e);Hn(je||document.body,Ee),Hn(Ie||document.body,Ee);var ke=(0,n.useCallback)((function(e){if(!v){if(!ee&&te(!0),pe(e),i){i({mouseenter:"hover",mouseup:"click",focus:"focus",contextmenu:"contextMenu"}[e])}oe&&"contextmenu"!==e||ae(!0)}}),[v,ee,i,oe]),xe=(0,n.useCallback)((function(){void 0===r.visible&&le(!1),u&&u(!1)}),[u,r.visible]),Ce=function(e){return Array.isArray(h)?h.includes(e):h===e};(0,n.useEffect)((function(){if(ee&&oe){var t,r=$n(Y,e),n=M(r),a=(0,Mn.A)((function(e){var r=n.getBoundingClientRect(),a=J.current.getBoundingClientRect(),i=r.left,o=r.right,l=r.top,c=r.bottom,u=e.clientX,s=e.clientY,f=u>i+2&&u<o-2&&s>l+2&&s<c-2,d=u>a.left&&u<a.right&&s>a.top&&s<a.bottom;(Ce("contextMenu")?d:f||d)?(t&&clearTimeout(t),Ce("focus")&&n.focus()):Ce("hover")?(t&&clearTimeout(t),t=window.setTimeout(xe,1e3*x)):xe()}),10,{leading:!0}),i={hover:"mousemove",click:"mousedown",focus:"mousedown",contextMenu:"mousedown"};return Ce("hover")&&(null==n||n.removeEventListener("mouseleave",a),null==je||je.removeEventListener("mouseleave",a),null==n||n.addEventListener("mouseleave",a),null==je||je.addEventListener("mouseleave",a)),Array.isArray(h)?h.forEach((function(e){return document.addEventListener(i[e],a)})):document.addEventListener(i[h],a),function(){null==n||n.removeEventListener("mouseleave",a),null==je||je.removeEventListener("mouseleave",a),Array.isArray(h)?h.forEach((function(e){return document.removeEventListener(i[e],a)})):document.removeEventListener(i[h],a)}}}),[he,de,ee,M,xe,Y,x,J,oe]),(0,n.useEffect)((function(){if(oe){var e=(0,Mn.A)((function(e){var t=e.target===J.current||J.current.contains(e.target);O&&!t&&(void 0===r.visible&&le(!1),u&&u(!1)),Ee()}),10);return window.addEventListener("resize",Ee),document.addEventListener("scroll",e,!0),null==Ie||Ie.addEventListener("DOMSubtreeModified",Ee),ee&&(null==je||je.addEventListener("DOMSubtreeModified",Ee)),function(){window.removeEventListener("resize",Ee),document.removeEventListener("scroll",e,!0),null==Ie||Ie.removeEventListener("DOMSubtreeModified",Ee),ee&&(null==je||je.removeEventListener("DOMSubtreeModified",Ee))}}}),[Ee,ee,u,je,r.visible,O,Ie,oe,J]),(0,n.useEffect)((function(){var t=$n(Y,e),r=M(t);if(r){var n,a=function(){return clearTimeout(n)},i=function(e){"hover"===e?(r.addEventListener("mouseenter",l),r.addEventListener("mouseleave",a)):r.addEventListener(e,l)},o=function(e){"hover"===e?(r.removeEventListener("mouseenter",l),r.removeEventListener("mouseleave",a)):r.removeEventListener(e,l)},l=(0,Mn.A)((function(e){if(e.preventDefault(),"contextmenu"===e.type){var t=Yn(Yn({},V),{left:e.pageX,top:e.pageY,right:e.pageX,bottom:e.pageY});K(t)}"mouseenter"===e.type?n=window.setTimeout((function(){return ke(e.type)}),1e3*I):"mouseup"===e.type&&oe?T&&xe():ke(e.type)}),10,{leading:!0}),c={hover:"hover",click:"mouseup",focus:"focus",contextMenu:"contextmenu"};return Array.isArray(h)?h.forEach((function(e){return i(c[e])})):i(c[h]),function(){Array.isArray(h)?h.forEach((function(e){return o(c[e])})):o(c[h])}}}),[M,xe,Y,I,V,ke,h,oe]);var Pe=(0,n.cloneElement)(e,{ref:Y}),Ne=n.createElement("div",{className:a},n.createElement("div",Oe,t));return n.createElement(n.Fragment,null,Pe,ee&&W&&Bn.createPortal(Ne,W))},ta="tooltip--VgxcF";function ra(e){return ra="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ra(e)}function na(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function aa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?na(Object(r),!0).forEach((function(t){ia(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):na(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ia(e,t,r){var n;return n=function(e,t){if("object"!=ra(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ra(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==ra(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var oa=n.forwardRef((function(e,t){var r=(0,n.useRef)(),a=e.tip,i=e.children,o=n.cloneElement(n.isValidElement(i)?i:n.createElement("span",null,i),{ref:n.isValidElement(i)&&i.ref?i.ref:t}),l=aa(aa({},e),{},{className:ct()(ta,e.className),onVisibleChange:function(t){r.current===t&&void 0===e.visible||(r.current=t,e.onVisibleChange&&e.onVisibleChange(t))}}),c="function"==typeof a?a():a;return ea(o,c,l)}));oa.displayName="Tooltip";var la=n.memo(oa);function ca(e){return ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ca(e)}function ua(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function sa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ua(Object(r),!0).forEach((function(t){fa(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ua(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function fa(e,t,r){var n;return n=function(e,t){if("object"!=ca(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ca(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==ca(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var da=function(e){var t=e.hover,r=e.bgClassName,a=e.iconClassName,i=e.iconName,o=e.type,l=void 0===o?"linear":o,c=e.children,u=e.size,s=void 0===u?17:u,f=e.style,d=void 0===f?{}:f,p=e.disable,m=void 0!==p&&p,y=e.onClick,v=e.title,g=e.bgStyle,h=void 0===g?{}:g,b=e.active,A=e.cursor,E=void 0===A?"pointer":A,S=ct()(a,fa(fa(fa(fa({},Ln,!0),kn,"linear"===l),Nn,"face"===l),Rn,m)),w=ct()(r,fa(fa(fa(fa(fa(fa({},jn,!0),xn,"linear"===l),Pn,"face"===l),In,t),Rn,m),Cn,b)),O={width:s,height:s},j=function(e){m||null==y||y(e)},I=function(){return c?n.createElement("span",{className:w,style:sa(sa({},h),{},{cursor:E}),onClick:j},c?(0,n.isValidElement)(c)?n.cloneElement(c,{style:sa(sa({},O),d),className:ct()(S,c.props.className)}):c:null):n.createElement("svg",{className:S,"aria-hidden":"true",style:sa(sa({},O),d)},n.createElement("use",{href:"#"+i}))};return n.createElement(n.Fragment,null,v?n.createElement(la,{tip:v||"",autoPlacement:!0,scrollHidden:!0,className:Tn},I()):I())};function pa(){return pa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pa.apply(this,arguments)}function ma(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ya(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ya(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ya(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var va="gai-rsc",ga=function(e){return e.IN_PROGRESS="in_progress",e.CANCELLED="cancelled",e.FAILED="failed",e.COMPLETED="completed",e.EXPIRED="expired",e}({}),ha=function(e){var t=e.list,r=c((function(e){return e.chatSlice})).isChat,a=ma((0,n.useState)(!1),2),i=a[0],o=a[1],l=ma((0,n.useState)("completed"),2),u=l[0],s=l[1],f=(0,n.useRef)(null),d=ma((0,n.useState)(0),2),p=(d[0],d[1]),m=(0,n.useRef)(0),y=function(e){if(!e&&f.current){var r;null===(r=f.current)||void 0===r||r.getBoundingClientRect();if(0===m.current){var n=32*t.length+24;m.current=n}p(m.current)}else p(0)};(0,n.useEffect)((function(){var e,n,a=null!==(e=null==t||null===(n=t[0])||void 0===n?void 0:n.runId)&&void 0!==e?e:"";if(r.isRunStepLoading&&a===r.runId)s(ga.IN_PROGRESS);else{var i=vd(t,(function(e){return e.stepStatus===ga.IN_PROGRESS}));s(i?ga.IN_PROGRESS:ga.COMPLETED)}}),[r.isRunStepLoading,r.runId]);var v=(0,n.useCallback)((function(e){var t=m.current+e;m.current=t,p(t)}),[]);return n.createElement("div",{className:en["".concat(va,"-wrapper")]},n.createElement(ba,{status:u,stepTypeName:u===ga.IN_PROGRESS?"执行中...":"执行完成",isExpand:i,handleExpand:function(){y(i),o((function(e){return!e}))}}),n.createElement("div",{className:en["".concat(va,"-wrapper-expand")],ref:f,style:i?{height:"auto"}:{}},n.createElement("div",{className:en["".concat(va,"-wrapper-expand-inner")]},t.map((function(e,t){return n.createElement(Aa,pa({},e,{key:e.id,changeHeight:v}))})))))},ba=n.memo((function(e){var t=e.stepTypeName,r=e.status,a=e.isExpand,i=e.handleExpand,o=null;switch(r){case ga.IN_PROGRESS:"执行中",o=n.createElement(cr,null);break;case ga.CANCELLED:"已取消",o=n.createElement(pn,null);break;case ga.FAILED:"失败",o=n.createElement(hr,null);break;case ga.COMPLETED:"执行成功",o=n.createElement(On,null);break;case ga.EXPIRED:"已过期",o=n.createElement(bn,null)}return n.createElement("div",{className:en["".concat(va,"-step-item-header")],onClick:function(){null==i||i()}},n.createElement("div",{style:{display:"flex",alignItems:"center"}},o),n.createElement("span",{className:en["".concat(va,"-stepName")]},t),n.createElement("span",null,a?n.createElement(da,{type:"default",style:{transform:"rotate(180deg)"}},n.createElement(ln,null)):n.createElement(da,{type:"default"},n.createElement(ln,null))))}));ba.displayName="gai-statusBar";var Aa=n.forwardRef((function(e,t){var r,a,i=ma((0,n.useState)(!1),2),o=i[0],l=i[1],c=(0,n.useRef)(null),u=ma((0,n.useState)(0),2),s=(u[0],u[1]),f=e.runStepId,d=e.message,p=(0,n.useCallback)((function(){l((function(e){return!e}))}),[e.runStepId]);return(0,n.useEffect)((function(){!function(t){if(t&&c.current){var r,n,a,i,o=null===(r=c.current)||void 0===r?void 0:r.getBoundingClientRect(),l=Sa(d);"number"==typeof l?(s(l),null==e||null===(n=e.changeHeight)||void 0===n||n.call(e,l)):(l=l(null==c?void 0:c.current,null!==(a=null==o?void 0:o.width)&&void 0!==a?a:300),s(l),null==e||null===(i=e.changeHeight)||void 0===i||i.call(e,l))}else{var u,f=Sa(d);"number"==typeof f&&(null==e||null===(u=e.changeHeight)||void 0===u||u.call(e,-f)),s(0)}}(o)}),[o]),n.createElement("div",{key:f,className:en["".concat(va,"-step-item")]},n.createElement(ba,{status:e.stepStatus,stepTypeName:e.stepTypeName,isExpand:o,handleExpand:p}),n.createElement("div",{ref:c,className:en["".concat(va,"-step-item-desc")],style:o?{height:"in_progress"===e.stepStatus?"auto":"".concat(null!==(r=null===(a=c.current)||void 0===a?void 0:a.scrollHeight)&&void 0!==r?r:10,"px")}:{height:0}},n.createElement("div",{style:{padding:"8px 0"}},n.createElement($r,{content:d}))))}));Aa.displayName="gai-runstepItemStatus";var Ea={};function Sa(e){return e in Ea?Ea[e]:function(t,r){var n=t.cloneNode(!0),a=document.createElement("DIV");a.className=en["".concat(va,"-step-item-desc")];var i=null==n?void 0:n.firstElementChild;i.style.visibility="hidden",a.style.position="absolute",a.style.right="0px",a.style.width="".concat(r,"px"),a.appendChild(i),document.body.appendChild(a);var o=(null==a?void 0:a.getBoundingClientRect()).height;return o=o>0?o:10,Ea[e]=o,document.body.removeChild(a),o}}var wa=n.memo(ha);wa.displayName="gia-runstatuscard";var Oa,ja=wa,Ia="feedback--Kqo0E",ka="like--trgxa",xa="icon--wUqQW",Ca="text--Su8bh",Pa="disLike--DpuSw",Na="header--KhByb",La="close--bQKI3",Ra="tags--RFqTG",Ta="tag--TR97z",Ba="selected--Hg4oa",Ma="inputWrapper--j3jYI",za="bottom--zwuAN",Da="submit--Naiqe",Fa=["svgRef","title"];function Ha(){return Ha=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ha.apply(this,arguments)}function Qa(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Ua,Ya=function(e){var t=e.svgRef,r=e.title,a=Qa(e,Fa);return n.createElement("svg",Ha({width:16,height:16,viewBox:"0 0 16 16",ref:t},a),r?n.createElement("title",null,r):null,Oa||(Oa=n.createElement("path",{d:"M2.5 2c-.276 0-.5.315-.5.704v6.592c0 .389.224.704.5.704h1.716l.156.04c.78.214 1.726.637 2.102 1.19l.133.228a3.2 3.2 0 01.349.95c.043.248.091.495.145.742l.084.37c.203 1.058.862 1.48 1.489 1.48 1.979 0 2.94-1.326 2.84-3.793l-.011-.171-.04-.473h1.974c.95 0 1.508-.202 1.56-.845l.003-.1-.003-.032-1.336-6.653C13.476 2.37 12.85 2 12.154 2zm6.174 12c-.203 0-.376-.137-.486-.57l-.03-.14a18.253 18.253 0 01-.217-1.054 3.85 3.85 0 00-.251-.834l-.117-.251c-.097-.196-.19-.366-.126-.235-.378-.765-1.278-1.338-2.335-1.697L5 9.183V3h7.154c.265 0 .464.102.535.202l.01.022 1.269 6.302-.045.007a2.896 2.896 0 01-.34.027l-.146.002-3.06.001.139 1.684C10.595 13.21 10.008 14 8.674 14zM4 9H3V3h1v6z",fill:"#666",fillRule:"evenodd"})))},Ja=n.forwardRef((function(e,t){return n.createElement(Ya,Ha({svgRef:t},e))})),Wa=["svgRef","title"];function Ga(){return Ga=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ga.apply(this,arguments)}function Xa(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Va,Ka=function(e){var t=e.svgRef,r=e.title,a=Xa(e,Wa);return n.createElement("svg",Ga({width:16,height:16,viewBox:"0 0 16 16",ref:t},a),r?n.createElement("title",null,r):null,Ua||(Ua=n.createElement("path",{d:"M2.5 14c-.276 0-.5-.315-.5-.704V6.704C2 6.315 2.224 6 2.5 6h1.716l.156-.04c.78-.214 1.726-.637 2.102-1.19l.133-.228a3.2 3.2 0 00.349-.95c.043-.248.091-.495.145-.742l.084-.37C7.388 1.422 8.047 1 8.674 1c1.979 0 2.94 1.326 2.84 3.793l-.011.171-.04.473h1.974c.95 0 1.508.202 1.56.845l.003.1-.003.032-1.336 6.653c-.185.563-.81.933-1.507.933zM8.674 2c-.203 0-.376.137-.486.57l-.03.14c-.083.351-.156.703-.217 1.054a3.85 3.85 0 01-.251.834l-.117.251c-.097.196-.19.366-.126.235-.378.765-1.278 1.338-2.335 1.697L5 6.817V13h7.154c.265 0 .464-.102.535-.202l.01-.022 1.269-6.302-.045-.007a2.896 2.896 0 00-.34-.027l-.146-.002-3.06-.001.139-1.684C10.595 2.79 10.008 2 8.674 2zM4 7H3v6h1V7z",fill:"#666",fillRule:"evenodd"})))},Za=n.forwardRef((function(e,t){return n.createElement(Ka,Ga({svgRef:t},e))})),qa=["svgRef","title"];function _a(){return _a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_a.apply(this,arguments)}function $a(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var ei,ti=function(e){var t=e.svgRef,r=e.title,a=$a(e,qa);return n.createElement("svg",_a({className:"copyRight_svg__icon",width:200,height:200,style:{verticalAlign:"middle"},viewBox:"0 0 1024 1024",fill:"currentColor",overflow:"hidden",ref:t},a),r?n.createElement("title",null,r):null,Va||(Va=n.createElement("path",{d:"M107.143 892.729c0-.129 357.121-.065 785.586.128-.129 0-.065-357.121.128-785.586 0 .129-357.121.065-785.586-.128.129 0 .065 357.121-.128 785.586zM35.714 101.32c0-36.142 29.857-65.607 65.607-65.607H898.68c36.142 0 65.607 29.857 65.607 65.607V898.68c0 36.142-29.857 65.607-65.607 65.607H101.32c-36.159-.18-65.428-29.448-65.607-65.607V101.32zm660.67 189.543c14.46-16.763 40.034-18.854 57.122-4.67 16.02 13.298 18.894 36.179 7.277 52.8l-2.517 3.235L461.04 686.816c-15.366 17.814-42.696 18.706-59.27 2.76l-2.808-2.99-135.103-159.04c-14.33-16.868-12.006-41.94 5.19-55.997 16.121-13.18 39.592-12 54.27 2.099l2.814 2.991 104.182 122.654 266.07-308.43z"})))},ri=n.forwardRef((function(e,t){return n.createElement(ti,_a({svgRef:t},e))})),ni=["svgRef","title"];function ai(){return ai=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ai.apply(this,arguments)}function ii(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var oi=function(e){var t=e.svgRef,r=e.title,a=ii(e,ni);return n.createElement("svg",ai({className:"document_svg__icon",width:200,height:200,style:{verticalAlign:"middle"},viewBox:"0 0 1024 1024",fill:"currentColor",overflow:"hidden",ref:t},a),r?n.createElement("title",null,r):null,ei||(ei=n.createElement("path",{d:"M687.687 62.5l187.315 187.489V875c0 34.518-27.982 62.5-62.5 62.5H156.25c-34.518 0-62.5-27.982-62.5-62.5V125c0-34.518 27.982-62.5 62.5-62.5h531.437zM625 125H156.25v750h656.252V312.5h-116.48c-39.224 0-71.022-31.798-71.022-71.023V125zm31.25 468.75c17.259 0 31.25 13.991 31.25 31.25s-13.991 31.25-31.25 31.25H312.5c-17.259 0-31.25-13.991-31.25-31.25s13.991-31.25 31.25-31.25h343.75zM500 375c17.259 0 31.25 13.991 31.25 31.25S517.259 437.5 500 437.5H312.5c-17.259 0-31.25-13.991-31.25-31.25S295.241 375 312.5 375H500zm187.5-224.25v90.727a8.523 8.523 0 008.523 8.523h90.664L687.5 150.75z"})))},li=n.forwardRef((function(e,t){return n.createElement(oi,ai({svgRef:t},e))}));function ci(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ui(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ui(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ui(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function si(e){var t=e.isLike,r=e.handleLike,a=e.handleDisLike,i=e.handleCopy,o=e.handleLog,l=ci((0,n.useState)(!1),2),c=l[0],u=l[1],s=ci((0,n.useState)(),2),f=s[0],d=s[1],p=!!r,m=!!a,y=!!i,v=!!o,g=function(e){u(e)};return(0,n.useEffect)((function(){d(t)}),[t]),n.createElement("div",{className:Ia},p&&n.createElement(da,{title:"点赞",active:f,onClick:function(){return!f&&(d(!0),void(null==r||r()))}},n.createElement(Za,null)),m&&n.createElement(da,{title:"点踩",active:!1===f,onClick:function(){return!1!==f&&(d(!1),void(null==a||a()))}},n.createElement(Ja,null)),y&&n.createElement(da,{title:c?"已复制":"复制",active:c,onClick:function(){return!c&&(g(!0),null==i||i(),void setTimeout((function(){g(!1)}),3e3))}},c?n.createElement(ri,null):n.createElement(Lr,null)),v&&n.createElement(da,{title:"日志",onClick:function(){return null==o?void 0:o()}},n.createElement(li,null)))}var fi=n.memo(si),di=r(20354),pi=r(53697),mi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACr0lEQVRYCc2Xz4uOURTHHzOMQSymNyFkNmKhWFB2YmEjjBrJwkr5L+xY+BE7NMkOM7PQUFaKsvIjSVZWs2FhpYnUoNfn+3SPzn3uncf7eh7D6f12zrnn1/fe51dvUVSkWxQdMA0+g25DPKB+qDKi3qVAw5sO9vX3+yJBsu18tJ5qfZQ+p9xGZrCX1VeEqBX1lFyTRJ9x6xX0PXRCYqCmR9uhozScrJJYTALa0Bi4C4mlcrISjgvVTGhw0HpltG70PAlLbjaex6goRsCc9cvoKdZSEpbYlIDq6TUG6khMLqkOEgGtEUhi1dxefJqNkLcbrHH5q7Fvyk+GtE3ADY1Mm7PYT0FEQs4ATM6DeTEyVgqY36J+Tq9V6h0Ji7+GtzjMfwu8fcSG2yw9BvZ6nMN+YwnoYbAFdIDkI3hXWpwceiPYBPx99Bb/E6jKHhb0VUy/jMYE/VRV6OVgGAwCXaIzQLu4FeKKlaTRa8FtYLs8gK065Xi8Dznj6iEJfjd3E74i/hXMgyts7wb6MTDRDnXZPqBPEz+JfgJMjmGo3mODBas6R4DepSh2PNizQXu1HuccyfvRF13A6t3Swmb6KiyKWdK1rh1M0E3XeBd4DXKyl8U7LvAM+4Tz12FfdX5kJgSYdkgZYfBmzOtgJ1iIwCCxH8BkJYbqTOwmNj/SCQEGvyBjO9Ada09IVFRxXuJvdWs7sC84v9ZMCJC9AqQvjLTNN5aucWIPIT2ThntbyRH4XaVO5zvQUzDE8Mvow+CPxBPYRrMpuujlkpN9Ia6YbkzliYz/yp3F16XrXWj6T1/FetYvAV3Pvy26uR9Vh+goI+FE+JVnnMSixIaOzcm9CRu27q/8vyTwRXvgiEb720vv2a53OSuqJNj2n1P7VOf0dDRcDgTa/HueG6o1/QHWRjs/AYEGM8ITUd6EAAAAAElFTkSuQmCC",yi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEPklEQVRYCcVXXWhURxT+Zv8a22iNmj4UqrWWQqWK1J8aqdhScdWK9SdZ1GikLUWDlCL1QR9KTQt9UJEKFetDoT5ozDUWqQGzKkT7IppChVJpBRV9EH+iqW00YZN7x+/cvT+7994tWrNxYHbOnHNmvm/mzJy5qxAsHQfGIJfYQ/UC1ueC5sfst+EeliOTyZUaFwsZ8uC11D8puEy9CM+jFYaRCuE4ChUyZI0e6gT8FaQzV0L2R1W0H2qA0vtsd42fMaa7FtPW9QeHh3fAXfmTgAtKDL0emMJi3Kky8OvepKdzhCgCQZ/B6i8hiZYgiaEkIAtZirtVB9HRkXBXVT4CyvrHBSlqNZYhd7vZJVE+AqbqJPC/ReB+p5YkDgiJ8hGYn7kLhbX/QaIO/V37o66htommM2Gbv4JHl9qNUYjr6dCxEd4gbQ0H1A/SD4NkjcEl4KEGBAenfCEI4JXqKmRbvuFGbKJDKEmUGvS/9Aqd0H3vIt1w3x7v78AQgAuiBs/BsLlB8pIQileucJXOv1Fv8oRMozwuMOga+2dZJa9Pcqqcpk5YfHoUXqPOLwoXOIe8hlOYnkOPUuEZGODgzzEv8zJSA58AfWuRrH6VM2/1ZtN6G1LVE6DjnyEe/4KP1WSO+TBvV9uhYh94vnnBIs33oNT3Ab3XLSCgv0Ml9iBrHOX3wG2gohu5rm1I1zXR+yTr3wTczASyG8q8DtO8xPOzm4R/pO0XaF2PdO2flH9nzRdF/fuZG7bN1QVaLyfDsnahJ/YRV7zI8WFo9EYSquAWVnClQFOTwqyJf7Ev20+7Wo/jhoRoHHUz0ba/ijqD4yQ0EncDJ4yxDM3bdj/ix92BPsxfcZWD34rwaSS4TDASNa9/a+9SauBF9texniLIQlYhkUIyWYe4SQJ2MYHEYYKvYk/oRxaXAOOvNCzl70iku/qU2f0G+hM7odVNmJUCPpO1y3Gvx9wVFymfZz2N9LJbbOsdW2TjEqhE9qcXyNOPn+duH0JJm+dp/4rtswRcw6+dI4j3XMAzyYskv8txn41s80t2GBRDcax1MvVvOLbIxiVAo/kxD8teCsLeLW0488fX7MiWWzxwX5JEs2tkOxq9ViVNfY5OMeevQjzWgmT/YcSs1QW+kWIBAb2F93QOr9l0tmRujsW8usWombiFI+UL+U20t6wniQbbrq2pGN1djUTO4oo3eLMrxTAsv4x3Vt6hbqWnLyEwFTuPj+9whqJst8mtnkM5f6J9+znazsHSD7j146mWWzPMN9vSEf5K0llYpFcqw0UdsnUOrhw650p5rjWUagheqsygbQbBS9lFvyTSaNkZscjEEOgd1AiJ8hZJ1apXElpRCS/DDclgfZAUwRV0/NewQPkUxIJb8BTQCRlFwP1gkBNenpI13LnvR50BuSby53QoSms496cGGvkcC/hg/D0vtQjZ5WP87mh8CKwpLo4y4UuxAAAAAElFTkSuQmCC",vi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADnElEQVRYCc1XW4hNURj+/r3PGTM0GDOZKA8ueWBCyTAvwkgp5DI8KJQH8SAPPBiGjusLDy4NJdfkzosUxQNFM5mUlDyKB6XGKQZj5uy9l2/ts/c5e9Y+Ry5zTlats/71/2v937f/9a/LERhFpWbWwa04DajFNA0zzH/avQe7Z5WkXvcXm2jFDFnwFur/FVy7XgK3+rZKTa2I4QQKMQ1qz5yv1A2D8ibIwedvTfvv9tWepvWM4qVg/F18zLTImRcZc348AsGX/wu4DyLojYAtQ33ipto0MxnR+WIhAuaYQerLctQnb5gkykjA/44VJHFdpeYlwq8qJYEvIYjRroTbdy0kUToCFroI3GOAB13VAvfHVU2iZAQk1ZGGyIbiJLCaJK4U2oZK05QDnTFbQP+PGpVqGgUPszhpeG6iQjW36Dndj4HwHBhUAjlQQwhxSrYEBl7Rrqi9sw9DyQ6OiB0SRWf9naELvd/ny9FX3/T0fATKA64xZ2Fo1UItRIteglJ/eQTPil1KZg5060uIMz6xOqzb4Hh1sCurmK9bc55E2qEwBbYaAVELqH8T2DL+fCW7cmOB94HPiCovmgTc4BLyCHABntxBwnrI/drJVVsUTDsFa0gb908bKT6BZ02GnZlL22dW5c9P9B8n4dfZ8eL86mIzCQQYbAQfkZQaSg2s01mXsgK2fQjej8OU1vKgmcEInIZTWcvx5327/nEq1kG8fMRyhrhQjIA+CzYC1heGeQblB8HUtKSefWB0miOuBOI25b+YFlE7YHnvKN2MjCsoFiOgB4+F67yEI818TCzjF56kLnxQxA4weCqaYJVw7ePwXG5v5W+7guhUmgT0OupSnW1QQ+ATGJ1sR8bbR129am2sZQQeB3bdMF/sDo7TSxUtSyCJ6YzGkajSlHP3Mg1ddHxZpWZPgwtmPe6yjmGt41p3wpZRlIGEvROO28q2htk9ibZ25gSXKqkvnoFF1DFYzrSByoG9PIE+uxlDnXFw5WIwJA03sxk9o9MYmW6ARb1/S6jtTE7F2LUCVd1w+ubArnjKUOtHbEa1NY5nEtjsazcT4SZ3U3c28BlrJDwSY5ZSKETWyP6OW9p1iKtzIEysUkAaPr3Y/wOLSXK0TCS68L33kcGIuWuUMDSD9SAx3Oe6IY65DXMDyiX8lwSyDwZ/O5UmDtmt6vv+ViAHmrhN+GwuS5Hb+YMoBLT7t/DvOXuD8vc89Gq2jLLcB7F+AkTTGxjwIvtnAAAAAElFTkSuQmCC",gi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADSUlEQVRYCeVXTUwTQRT+pmxLpKgRPGjiT8QLSqSJAl48YPzDBIjKz8mfg/Gg0ZuawMFw8uRBLxJjPHhQEasHKGoiBhOiiQFNCiHRqAE5QYiaIKUBtju+2W23uztb0tKWi5O0+96b9+b7Zmbfm1kGZ+sd3gjm6yTzcfr5nd0Z6ZyHEFWa0FqxmCrOI3UY4M1kzw5cDMxYPfxaEN1jPgknbmBSR2hkjmx+aLwMjYFxqT9dQ2/4LBF4GHfvwabFZlRVLTnD5RVIzDwbcIHCWNQC1ohpXzeGh70Wmy66EXD65EbnOIEp31MnidUjYEzjJKa8XRgYUBKzyiMBbTYBYn+yU4iUPkmQyB8BxTtEwH/t4KbWTCQeCxL5I1BX8RucnVuGRAuReOSWhlznWV8p95kTyEB4PVYCdaka8KxLRrG1AH8gdBkkNJJbAklUuxTHyd8W2OFSagx94Zu0V1fJQyoSKaNW0sEwBIUfxLFARA83V2A1wAUiRzVUdtjJXRQE68w/0msh1WtAKya7OFBEWu23DDJD9q80+jZ6TlrsSZHx7QS+VTdwSIeSWZF0B5W1YH3xDGbmNf0IffmtEGsUhsjcXnCtDQ2BBvSOBsF4E/lz2rpWeo2n6deJouI6A3VCRW1tDO8mCnV9fvYGkWsz+uR/OwGFTyJCkyzi78n1ALTod0SwRQ9jlDB9o2dQUHAFqnqI8J8j+mUQRbs+EJUaijMOH1ZyHaGRt3QYfTLg5ESz0rATsPa4yZzfQYzvBucXoGr98JdfI7nGzTVdW6ZpuAGIddJWBOFVNtPMO9IFSuWXKQEah/3UB/Nqv+gpLi9ZtUwJ/IC20I5QuB0L4srGL2eFTsGZEODQcB4e305ahQ542D3UB7qIxItsSKRPgOMuPu8ZpH2/T4CidhyBuPfFPJdIFtuxopYiC1g5pVI3jVhqGbUM+0bfkJ4sRIzdRgHvJ9ufpC87TXXhqCVuWVEQEJXPWg1FgABuEYLZmP6dYKpxgbLC4cdR6XQydQbp+8BDVe0WObiUXzMsN4JxGInVsjW5TP1v94H0s8C2cLlT3AgYF4ae8I7cwThGSo4dcXsHnpG7+DhdjRaU6wBfvGjcPXLweZ56CmKVX4Gw/gFCt+ka6bTn8AAAAABJRU5ErkJggg==",hi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAD0UlEQVRYCeVXW4iMURz/nW/sRWbmG1oluV8KhaiV2wPyQpvrKGrjAUkuD3a3KA9bJLfZN4SIcrchkQeevKBNyqLcotY1kdnZWXuZ/Y7fmZlvvvlucvu8OHXmO//775zz/59zRsDZ9kcqoGmHIDGPoj5O8a/R4hpSX5eiHl1+dppLkAseJ/8PgyvPsgrhaCMBlLri5BnCJUjobeT1gYERqEu+csl/lpGIrSSAkzl1eRXh1jjWodtp7l4Bc+Z/EjwbRX6zgokFaNMv4DBKLF5u5AXAqfO36EUEcd4J4l8CUBNZjLR+jjnRy5xVcACkbDWD2L4SSxDVz5ogggOgoYmBU7bgJiERR0Q/o0AEB2BL6xcIscoXBLAMYf20VxnKLNCapFtmzuBXvg3RfizpSoKJWmYiwhI9pmh3kIT+dwFYUe2jfJzgtsAezpcSSOi7KK1ldx0Svla/J2iCUT4bdR/TWfOiFfgXwVXMSoQ65zqxqwPBmrnAQ96C7eRNLVIkYvmA6TKYPLVl79mnFMmtocA96j2DlEwyzGDvbwk5ktJ1KdlzwMAT1CSnUfVswVBiC8rL1NWcofMT6MksLMisAUGKORiUnIGMsQNlxhqIyFCm+CVLxXtkByCwHA3R5XSwieofuRq3UJs8go6uBtIjvV1kuWd4799Bi/4GIa5Ap/YBMjUdmcyGH9hkRWoL7E2Kg+gqGQ+jezVKQ81IxBZw7dbalTyocbxqW/CUkgHsyu9JhEq4dVJdwdY2kyhu9hXISfpCZo6jrvU6RDevVHm02MBnXI03sSpu3ywIbQKk2Em9TtpW8esbXPnyAsDtxGslxJc2dZZ/zo7NnxLpPryA3kywKyzp55DGCoTkZaSSo2my1TTz+3oBeImy0hokopv5nBpPiNU0tl4y3SJ3Uto8ilMkz7OPYt/Go/c+z/kDXJE9pB+x+zYngB7AWImOjoFcht1czhMIJR8zGet9PSiBlM2c+UYO3hX0NAzNjzsKPI9BLwdvL1Kpu4jEbtNZb/ZxyOj1GJLcjpbY/KzusPQnvNWtipDqfJCNlF1BODwa7amJyLAK1JMuoS8lf7Ijho10AGDAqH6TM1KHSK5J1LG81H5y72Wc4zGmKK+gXs8VTKdmtKWvQ2ovoIlybuEk8mfadd2UAlBUJmIhl9vZQmRwJgXBWKdCnlan3OLc/ap0PXJVCNf/A5UD+9mtJCMRUGtCT9ktp283zP/tPeAsQ+cKBU57Acg9GPbpwwOLbvlOu3OgQb/IhI8HFrzYsUCj4xyg1DDW8++5qrp5pFSNB9HSrNIbKtZ3AVsPbqyh5yQAAAAASUVORK5CYII=",bi={"gai-userType-img":"gai-userType-img--n2hzv","gai-userType-img-del":"gai-userType-img-del--HrIgS","gai-userType-img-tip":"gai-userType-img-tip--EKZnn","gai-userType-file":"gai-userType-file--gel8u","gai-userType-file-del":"gai-userType-file-del--Z1pgX","gai-userType-file-desc":"gai-userType-file-desc--yNK9r","gai-userType-file-tip":"gai-userType-file-tip--mxLRV","gai-userType-tip":"gai-userType-tip--WsHR8","gai-userType-loading":"gai-userType-loading--bNeUw","gai-userType-error":"gai-userType-error--I8Tqi","gai-userType-loading-img":"gai-userType-loading-img--bSQvS",myRotate:"myRotate--C0vCe","gai-userType-wrapper":"gai-userType-wrapper--N2pOc","gai-userType-wrapper-ask":"gai-userType-wrapper-ask--H7o0b","gai-userType-imgRow":"gai-userType-imgRow--rO4HO","gai-userType-file-wrapper":"gai-userType-file-wrapper--ofzF5","gai-userType-del":"gai-userType-del--aUVFO","gai-userType-file-error":"gai-userType-file-error--I3wlq","gai-userType-img-wrapper":"gai-userType-img-wrapper--g_tLu","gai-userType-file-info":"gai-userType-file-info--cuuy0","gai-userType-format":"gai-userType-format--ZeHti"};function Ai(e){return Ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ai(e)}function Ei(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Si(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ei(Object(r),!0).forEach((function(t){wi(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ei(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function wi(e,t,r){var n;return n=function(e,t){if("object"!=Ai(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Ai(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Ai(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Oi=function(e){return e.FILE_TEXT="txt",e.FILE_PDF="pdf",e.FILE_CSV="csv",e.FILE_XLS="xls",e.FILE_JSON="json",e}({}),ji=n.memo((function(e){var t=e.showDel,r=e.files,a=void 0===r?[]:r,i=e.style,o=e.canPreview,l=void 0!==o&&o,c=e.fixedImgSize,u=ye("delFiles"),s=function(e){switch(e){case 0:return"loading";case 1:return"success";case-1:return"error";default:return"success"}};return a.length?n.createElement(pi.A,{style:i,showDel:t,preview:l,fixedImgSize:c,content:a.map((function(e){var t,r=e.previewUrl,n=e.fileUrl,a=e.status;return Si(Si({},e),{},{src:null!==(t=r||n)&&void 0!==t?t:"",type:(null==e?void 0:e.fileType)||(null==e?void 0:e.type),status:s(a)})})),onRemove:function(e){var t=e.fileId;u({fileId:t})},iconRender:function(e){var t;switch(md(e.name)){case Oi.FILE_PDF:t=mi;break;case Oi.FILE_JSON:t=vi;break;case Oi.FILE_TEXT:t=gi;break;case Oi.FILE_CSV:t=yi;break;case Oi.FILE_XLS:t=hi;break;default:t=mi}return n.createElement("img",{className:bi["".concat("gai-userType","-format")],src:t,alt:"file"})}}):null}));ji.displayName="gai-attachment";var Ii=ji;function ki(e){return ki="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ki(e)}function xi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ci(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xi(Object(r),!0).forEach((function(t){Pi(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Pi(e,t,r){var n;return n=function(e,t){if("object"!=ki(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ki(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==ki(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ni=function(e){var t,r,n,a,i=e.assistant,o=e.visible,l=c((function(e){return e.globalSlice})),u=(l.slideEnv,l.avatar),s=l.assistantName,f=ut(),d=f.isFeatureEnabled,p=f.isFeatureEnabledInverted,m=null;i?(m=i,"userName"in i&&(m=Ci(Ci({},m),{},{name:null==i?void 0:i.userName}))):m={picture:d("AGENT")?Vt:null!=u?u:"",name:null!=s?s:""};var y=null!==(t=null===(r=m)||void 0===r?void 0:r.picture)&&void 0!==t?t:"",v=null!==(n=null===(a=m)||void 0===a?void 0:a.name)&&void 0!==n?n:"";return m&&o&&p(["PLAYGROUND","CUSTOM"])?{avatar:y,name:v}:void 0},Li=r(22475),Ri=function(e){var t=e.data,r=c((function(e){return e.globalSlice})).chatUser,a=Ni({visible:!0,assistant:r}),i=ye("setExtraInput"),o=(0,l.wA)();return n.createElement(Li.Ay,{data:[{type:"text",content:t.content},{type:"gai-file",content:t.files}],customerCardRender:function(e){return"gai-file"===e.type?n.createElement(Ii,{files:e.content,showDel:!1,canPreview:!0,fixedImgSize:!1}):n.createElement("div",null,e.content)},avatarMeta:a,onEditClick:function(e){var r,n;r=e,n=t.files,r&&i(r.replace(/\n+$/,"")),n&&n.length>0&&o(ke(n))}})},Ti=n.memo(Ri),Bi=(r(52712),"error--bNKos"),Mi="errorContent--ddMiT",zi=r(6189);function Di(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Fi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Hi=function(e){var t=e.data,r=c((function(e){return e.globalSlice})),a=(r.currentSkill,r.avatar,r.assistantName,ut().isFeatureEnabled),i=Di((0,n.useState)("sysError"),2),o=i[0],l=i[1],u=Di((0,n.useState)(!1),2);u[0],u[1],(0,n.useRef)(null);(0,n.useEffect)((function(){l(f())}),[t]);var s,f=function(){return"string"==typeof t.code&&t.code.startsWith("gai.llm")?"modelError":"sysError"};return n.createElement("div",{className:Bi},n.createElement(rr,{visible:!0}),n.createElement("div",{style:{marginLeft:a(["PLAYGROUND","CUSTOM"])?0:"".concat(32,"px")},className:Mi},(s="modelError"===o?"好像出了点状况，等下再来试试吧。":"你可难到我了，要不试试其他问题吧。",n.createElement(zi.A,{tip:s,detail:t.desc}))))},Qi=n.memo(Hi),Ui={content:"content--D30Ei",footer:"footer--j6n5s"},Yi=n.memo((function(e){var t=e.model,r=e.data;return n.createElement(n.Fragment,null,r?n.createElement(n.Fragment,null,n.createElement("div",{className:Ui.content},null==r?void 0:r.content),n.createElement("div",{className:Ui.footer},n.createElement("button",{onClick:function(){var e=r.action.cancel.command,n=r.action.cancel.data;null==t||t.invokeAsync(e,n)},className:Ui.cancelBtn},null==r?void 0:r.action.cancel.caption),n.createElement("button",{onClick:function(){var e=r.action.confirm.command,n=r.action.confirm.data;null==t||t.invokeAsync(e,n)},className:Ui.confirmBtn},null==r?void 0:r.action.confirm.caption))):null)}));Yi.displayName="ConfirmCard";var Ji,Wi,Gi=(0,l.Ng)((function(e){return{model:e.globalSlice.model}}))(Yi),Xi=["svgRef","title"];function Vi(){return Vi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vi.apply(this,arguments)}function Ki(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Zi=function(e){var t=e.svgRef,r=e.title,a=Ki(e,Xi);return n.createElement("svg",Vi({width:32,height:32,viewBox:"0 0 32 32",ref:t},a),r?n.createElement("title",null,r):null,Ji||(Ji=n.createElement("defs",null,n.createElement("linearGradient",{x1:"50%",y1:"0%",x2:"50%",y2:"91.292%",id:"like_svg__a"},n.createElement("stop",{stopColor:"#FFEF8A",offset:"0%"}),n.createElement("stop",{stopColor:"#FDC200",offset:"100%"})),n.createElement("linearGradient",{x1:"50%",y1:"0%",x2:"50%",y2:"77.5%",id:"like_svg__e"},n.createElement("stop",{stopColor:"#FF7686",offset:"0%"}),n.createElement("stop",{stopColor:"#E76F7D",offset:"19.684%"}),n.createElement("stop",{stopColor:"#D06975",offset:"29.636%"}),n.createElement("stop",{stopColor:"#404040",offset:"100%"})),n.createElement("filter",{x:"-75%",y:"-150%",width:"250%",height:"400%",filterUnits:"objectBoundingBox",id:"like_svg__b"},n.createElement("feGaussianBlur",{stdDeviation:1.333,in:"SourceGraphic"})),n.createElement("filter",{x:"-75%",y:"-150%",width:"250%",height:"400%",filterUnits:"objectBoundingBox",id:"like_svg__c"},n.createElement("feGaussianBlur",{stdDeviation:1.333,in:"SourceGraphic"})),n.createElement("path",{d:"M0 1a32.9 32.9 0 018-1 32.9 32.9 0 018 1 7.807 7.807 0 01-7.807 7.806h-.386A7.807 7.807 0 010 1z",id:"like_svg__d"}))),Wi||(Wi=n.createElement("g",{transform:"translate(2 2)",fill:"none",fillRule:"evenodd"},n.createElement("circle",{stroke:"#FFF",fill:"url(#like_svg__a)",cx:14,cy:14,r:13.5}),n.createElement("ellipse",{fill:"#FFA97A",fillRule:"nonzero",filter:"url(#like_svg__b)",cx:6,cy:11.333,rx:2.667,ry:1.333}),n.createElement("ellipse",{fill:"#FFA97A",fillRule:"nonzero",filter:"url(#like_svg__c)",cx:23.333,cy:11.333,rx:2.667,ry:1.333}),n.createElement("path",{d:"M8.638 7.729c1.032-.145 1.987.408 2.853 1.533a.75.75 0 01-1.188.915c-.57-.74-1.052-1.02-1.456-.963-.404.057-.79.458-1.134 1.327A.75.75 0 116.32 9.99c.522-1.32 1.287-2.115 2.32-2.26zM19.17 7.729c-1.031-.145-1.986.408-2.852 1.533a.75.75 0 101.188.915c.57-.74 1.052-1.02 1.456-.963.404.057.79.458 1.134 1.327a.75.75 0 101.395-.552c-.523-1.32-1.288-2.115-2.32-2.26z",fill:"#404040",fillRule:"nonzero"}),n.createElement("g",{transform:"translate(6 13.293)"},n.createElement("mask",{id:"like_svg__f",fill:"#fff"},n.createElement("use",{xlinkHref:"#like_svg__d"})),n.createElement("use",{fill:"#404040",xlinkHref:"#like_svg__d"}),n.createElement("circle",{fill:"url(#like_svg__e)",fillRule:"nonzero",mask:"url(#like_svg__f)",cx:8,cy:11.374,r:6.667}),n.createElement("path",{d:"M5.333-.626h5.334V.707c0 .737-.597 1.334-1.334 1.334H6.667A1.333 1.333 0 015.333.707V-.626z",fill:"#FFF",mask:"url(#like_svg__f)"})))))},qi=n.forwardRef((function(e,t){return n.createElement(Zi,Vi({svgRef:t},e))}));function _i(e){return 2===e.status?null:n.createElement("div",{className:ka},n.createElement(qi,{className:xa}),n.createElement("span",{className:Ca},"感谢你的反馈！"))}var $i,eo,to=n.memo(_i),ro=["svgRef","title"];function no(){return no=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},no.apply(this,arguments)}function ao(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var io,oo=function(e){var t=e.svgRef,r=e.title,a=ao(e,ro);return n.createElement("svg",no({width:32,height:32,viewBox:"0 0 32 32",ref:t},a),r?n.createElement("title",null,r):null,$i||($i=n.createElement("defs",null,n.createElement("filter",{x:"-75%",y:"-150%",width:"250%",height:"400%",filterUnits:"objectBoundingBox",id:"dislike_svg__b"},n.createElement("feGaussianBlur",{stdDeviation:1.333,in:"SourceGraphic"})),n.createElement("filter",{x:"-75%",y:"-150%",width:"250%",height:"400%",filterUnits:"objectBoundingBox",id:"dislike_svg__c"},n.createElement("feGaussianBlur",{stdDeviation:1.333,in:"SourceGraphic"})),n.createElement("linearGradient",{x1:"50%",y1:"0%",x2:"50%",y2:"91.292%",id:"dislike_svg__a"},n.createElement("stop",{stopColor:"#FFEF8A",offset:"0%"}),n.createElement("stop",{stopColor:"#FDC200",offset:"100%"})))),eo||(eo=n.createElement("g",{transform:"translate(2 2)",fill:"none",fillRule:"evenodd"},n.createElement("circle",{stroke:"#FFF",fill:"url(#dislike_svg__a)",cx:14,cy:14,r:13.5}),n.createElement("ellipse",{fill:"#FFA97A",fillRule:"nonzero",filter:"url(#dislike_svg__b)",cx:21,cy:16.667,rx:2.667,ry:1.333}),n.createElement("ellipse",{fill:"#FFA97A",fillRule:"nonzero",filter:"url(#dislike_svg__c)",cx:7,cy:16.667,rx:2.667,ry:1.333}),n.createElement("g",{transform:"translate(8.5 11.5)",fill:"#404040"},n.createElement("ellipse",{cx:1.25,cy:2,rx:1.25,ry:2}),n.createElement("ellipse",{cx:9.25,cy:2,rx:1.25,ry:2})),n.createElement("path",{d:"M14.219 17.425c1.221 0 2.25.487 3.027 1.432a.75.75 0 01-1.159.953c-.492-.6-1.096-.885-1.868-.885-.776 0-1.394.289-1.909.894a.75.75 0 01-1.142-.972c.798-.938 1.833-1.422 3.051-1.422zM10.054 7.519a.75.75 0 111.034 1.086 6.2 6.2 0 01-1.43.997c-.578.3-1.346.526-2.312.688a.75.75 0 01-.248-1.479c.824-.139 1.45-.322 1.869-.54.438-.228.8-.479 1.087-.752zM17.406 7.519a.75.75 0 10-1.034 1.086 6.2 6.2 0 001.43.997c.578.3 1.345.526 2.311.688a.75.75 0 00.249-1.479c-.824-.139-1.45-.322-1.87-.54a4.719 4.719 0 01-1.086-.752z",fill:"#404040",fillRule:"nonzero"}))))},lo=n.forwardRef((function(e,t){return n.createElement(oo,no({svgRef:t},e))})),co=["svgRef","title"];function uo(){return uo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uo.apply(this,arguments)}function so(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var fo=function(e){var t=e.svgRef,r=e.title,a=so(e,co);return n.createElement("svg",uo({width:16,height:16,viewBox:"0 0 16 16",ref:t},a),r?n.createElement("title",null,r):null,io||(io=n.createElement("path",{d:"M8 7.105l-4.92-4.92a.633.633 0 00-.895.895L7.105 8l-4.92 4.92a.633.633 0 00.895.895L8 8.895l4.92 4.92a.633.633 0 10.895-.895L8.895 8l4.92-4.92a.633.633 0 00-.895-.895L8 7.105z",fill:"#666",fillRule:"nonzero"})))},po=n.forwardRef((function(e,t){return n.createElement(fo,uo({svgRef:t},e))}));function mo(e){return mo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mo(e)}function yo(e,t,r){var n;return n=function(e,t){if("object"!=mo(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=mo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==mo(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vo(e){return function(e){if(Array.isArray(e))return bo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ho(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function go(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}(e,t)||ho(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ho(e,t){if(e){if("string"==typeof e)return bo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?bo(e,t):void 0}}function bo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ao=[{value:1,text:"内容不准确"},{value:2,text:"答非所问"},{value:3,text:"操作不方便"}],Eo=255-Ao.reduce((function(e,t){return e+(t.text.length+1)}),0);function So(e){var t=e.status,r=e.submited,a=e.handleSubmit,i=go((0,n.useState)(""),2),o=i[0],l=i[1],c=go((0,n.useState)([]),2),u=c[0],s=c[1],f=function(){o&&l(""),u.length&&s([])};return(0,n.useEffect)((function(){r&&2===t&&f()}),[t,r]),r&&2===t?null:n.createElement("div",{className:Pa},r?n.createElement("span",{className:Ca},"感谢你的反馈！"):n.createElement(n.Fragment,null,n.createElement("div",{className:Na},n.createElement(lo,{className:xa}),n.createElement("span",{className:Ca},"很抱歉没有帮助到你，请问存在什么问题？"),n.createElement(da,{bgClassName:La,onClick:function(){f(),a()}},n.createElement(po,null))),n.createElement("div",{className:Ra},Ao.map((function(e){var t=u.findIndex((function(t){return t===e.text}));return n.createElement("span",{key:e.value,className:ct()(Ta,yo({},Ba,t>-1)),onClick:function(){s(t>-1?function(e){var r=vo(e);return r.splice(t,1),r}:[].concat(vo(u),[e.text]))}},e.text)}))),n.createElement("div",{className:Ma},n.createElement("input",{type:"text",maxLength:Eo,value:o,onChange:function(e){return l(e.target.value)},placeholder:"提供更详细的反馈意见"})),n.createElement("div",{className:za},n.createElement("span",{className:Da,onClick:function(){a([].concat(vo(u),[o]).join(","))}},"提交"))))}var wo=n.memo(So);function Oo(e){var t=e.style,r=e.className,a=e.showType,i=e.showStatus,o=e.handleSubmit,l=(0,n.useContext)(Xc).feedbackChangeScrollTop,c=(0,n.useContext)(bs),u=c.isDislikeFeedSubmitted,s=c.handleIsDislikeFeedSubmitted,f=function(){u&&s(!1)};(0,n.useEffect)((function(){f()}),[a]),(0,n.useEffect)((function(){1===i&&(2!==a||u||null==o||o({showType:a}),f())}),[i,u]);var d=(0,n.useRef)(null);return(0,n.useEffect)((function(){1!==i&&setTimeout((function(){var e,t=null===(e=d.current)||void 0===e?void 0:e.scrollHeight;null==l||l(d,t)}),0)}),[i,a]),1===i?null:n.createElement("div",{className:r,style:t,ref:d},1===a?n.createElement(to,{status:i}):2===a?n.createElement(wo,{status:i,submited:u,handleSubmit:function(e){s(!0),null==o||o({showType:a,reason:e})}}):null)}var jo,Io=n.memo(Oo),ko="data:image/png;base64,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",xo=["svgRef","title"];function Co(){return Co=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Co.apply(this,arguments)}function Po(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var No=function(e){var t=e.svgRef,r=e.title,a=Po(e,xo);return n.createElement("svg",Co({width:16,height:16,viewBox:"0 0 16 16",ref:t},a),r?n.createElement("title",null,r):null,jo||(jo=n.createElement("path",{d:"M4.18 10.984l.114-.113-2.966-2.994a1.143 1.143 0 01-.3-.833.936.936 0 01.375-.758 5.56 5.56 0 015.179-1.061l2.702-2.122a3.352 3.352 0 01.525-1.667l.15-.151c.43-.38 1.071-.38 1.501 0l3.228 3.182a.907.907 0 01.3.834c-.026.309-.193.589-.45.757a3.276 3.276 0 01-1.652.53l-2.101 2.729a5.725 5.725 0 01-1.126 5.228l-.075.076a1.08 1.08 0 01-1.501 0l-2.917-3.01-1.799 1.799c-.172.173-.494.356-.826.024-.36-.359-.082-.729.02-.83l1.619-1.62zm4.653 2.804a4.616 4.616 0 00.75-4.395L9.51 9.09l2.852-3.638h.375c.396.007.786-.098 1.126-.303l-3.077-3.107a2.24 2.24 0 00-.3 1.213v.303l-3.603 2.88-.3-.076a4.503 4.503 0 00-4.353.757l6.604 6.669z",fill:"#666",fillRule:"nonzero"})))},Lo=n.forwardRef((function(e,t){return n.createElement(No,Co({svgRef:t},e))})),Ro="skillFix--WPeOW",To="skill--ZYCEA",Bo="hasFix--A4NYs",Mo="img--Iw4nr",zo="text--MFj2b",Do="fix--heyQP",Fo="isFixed--PbnOM",Ho="show--d3bCc",Qo="skillFixTooltip--M65DD";function Uo(e){return Uo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uo(e)}function Yo(e,t,r){var n;return n=function(e,t){if("object"!=Uo(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Uo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Uo(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Wo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Go(e){var t=c((function(e){return e.globalSlice})),r=t.currentSkill,a=t.assistantId,i=t.skillList,o=(t.slideEnv,ut()),l=o.isFeatureEnabled,u=o.isFeatureEnabledInverted,s=c((function(e){return e.chatSlice})).isChat,f=e.skillInfo,d=Jo((0,n.useState)(!1),2),p=d[0],m=d[1],y=N("setCurrentSkill"),v=(null==f?void 0:f.id)!==a,g=(null==f?void 0:f.id)===r.id,h=function(){m(!0)},b=function(){m(!1)};(0,n.useEffect)((function(){return function(){m(!1)}}),[]);var A=function(){return n.createElement("div",{className:ct()(To,Yo({},Bo,v)),title:g||null==f?void 0:f.name,onClick:function(){if(!l("AGENT")&&v&&!s.status)if(g)y({});else{var e=i.find((function(e){return e.id===(null==f?void 0:f.id)}));e&&y(e)}},onMouseEnter:h,onMouseLeave:b},n.createElement("span",{className:Mo},n.createElement(Xt,{height:16,width:16,isAvatar:!1,name:(null==f?void 0:f.name)||"",url:(null==f?void 0:f.picture)||ko})),n.createElement("span",{className:zo},null==f?void 0:f.name),v&&u("AGENT")?n.createElement("div",{className:ct()(Do,Yo(Yo({},Fo,g),Ho,p))},n.createElement(da,{type:"face",style:{transform:"rotate(".concat(g?"-45":"0","deg)")},iconClassName:g?Fo:"",size:15},n.createElement(Lo,null))):null)};return n.createElement("div",{className:ct()(Ro)},v&&u("AGENT")?n.createElement(la,{tip:g?"取消锁定":"锁定该智能体进行回答",autoPlacement:!0,scrollHidden:!0,className:ct()(Qo)},A()):A())}var Xo=(0,n.memo)(Go),Vo="card--rp1Og",Ko="cardContent--HD4OS",Zo="answerBottom--dHLXb",qo="end--wNJiP",_o="feedback--dLtcV",$o=function(e){var t,r=e.featureKey,a=e.children,i=e.invert,o=void 0!==i&&i,l=e.extraCondition,u=c((function(e){return e.globalSlice})).slideEnv,s=function(e){return(Array.isArray(e)?e:[e]).includes(u)};return t="function"==typeof l?l():l,(o?void 0===l?!s(r):!s(r)&&t:void 0===l?s(r):s(r)&&t)?n.createElement(n.Fragment,null,a):null};function el(e){return el="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},el(e)}function tl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function rl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tl(Object(r),!0).forEach((function(t){nl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function nl(e,t,r){var n;return n=function(e,t){if("object"!=el(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=el(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==el(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function al(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return il(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return il(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function il(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ol=function(e){var t=e.cardData,r=e.concatList,a=e.isFirst,i=e.skill,o=e.showBottomAction,l=e.messageId,u=e.feedback,s=e.showFeedback,f=e.showSkillFix,d=e.cancelled,p=c((function(e){return e.globalSlice})),m=p.model,y=p.chatSessionId,v=ut().isFeatureEnabled,g=(0,n.useContext)(bs),h=g.feedbackShowStatus,b=g.handleChangeFeedbackShowStatus,A=(0,n.useRef)(null),E=al((0,n.useState)("default"),2),S=E[0],w=E[1],O=al((0,n.useState)((0,yt.A)()),2),j=O[0],I=(O[1],al((0,n.useState)(!1),2)),k=I[0],x=I[1],C=al((0,n.useState)(),2),P=C[0],N=C[1],L=al((0,n.useState)(1),2),R=L[0],T=L[1];(0,n.useEffect)((function(){w(t.type)}),[t]);var B=function(e,t){A.current&&A.current.style.setProperty(e,t)},M=function(){3!==h&&b(3),3!==R&&T(3)},z=function(e){null==m||m.invokeAsync("saveMsgFeedback",rl(rl({id:y},e),{},{messageId:l}))};(0,n.useEffect)((function(){(1===h||2===h&&3===R)&&T(h)}),[h]);var D={marginLeft:v(["AGENT","MAIN","ASSISTANT","HOMEPAGE"])?"".concat(32,"px"):0};return n.createElement("div",{id:j,ref:A,style:{width:k?"calc(100% - 16px)":"auto"},className:Vo},n.createElement(rr,{visible:!!a}),n.createElement("div",{style:D,className:Ko},function(){switch(S){case"confirmCard":return n.createElement(Gi,{data:t.data});case"multiMsg":return n.createElement(Zf,{concatList:r,setCardStyle:B,setContentFixed:x,data:t.data,feedback:u,isFirst:a});default:return null}}(),n.createElement($o,{featureKey:["MAIN","HOMEPAGE"],extraCondition:d},n.createElement("span",{style:{color:"#B2B2B2",fontSize:"12px"}},"已停止生成")),o&&(f||s)?n.createElement("div",{className:ct()(Zo,nl({},qo,!f&&s))},n.createElement($o,{featureKey:["MAIN","HOMEPAGE","AGENT","ASSISTANT"],extraCondition:f},n.createElement(Xo,{skillInfo:i})),n.createElement($o,{featureKey:["MAIN","HOMEPAGE","AGENT","ASSISTANT"],extraCondition:s},n.createElement(fi,{handleLike:function(){N(1),M(),z({type:1,content:""})},handleDisLike:function(){N(2),M()}}))):null),n.createElement(Io,{className:_o,showType:P,showStatus:R,handleSubmit:function(e){var t=e.feedbackShowType,r=e.reason,n=e.cb;void 0===r&&N(void 0),z({type:t?1:0,content:r||""}),null==n||n()},style:{marginLeft:"34px"}}))},ll=n.memo(ol),cl="content--uMz3A",ul="agreementHeader--p78we",sl="agreementBody--Ga9C9",fl="text--QAQaP",dl="pic--ItgEn",pl="agreementFooter--JDCjz",ml="btn--AYiHT",yl=(0,l.Ng)((function(e){return{model:e.globalSlice.model}}))((function(e){var t=e.model;(0,l.wA)();return n.createElement("div",{className:Vo},n.createElement("div",{className:Ko},n.createElement("div",{className:cl},n.createElement("div",{className:ul},n.createElement("span",null,"欢迎使用Cosmic助手")),n.createElement("div",{className:sl},n.createElement("div",{className:fl},"为了给你提供更好的服务，请先阅读并同意隐私政策"),n.createElement("div",{className:dl},n.createElement("img",{alt:"",src:"data:image/png;base64,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"}))),n.createElement("div",{className:pl},n.createElement("div",{className:ml,onClick:function(){null==t||t.invokeAsync("showAgreement",{show:!0})}},"隐私政策详情")))))})),vl=function(e){var t=e.data,r=Ni({visible:!0});return n.createElement(Li.Ay,{chatRole:"robot",avatarMeta:r,showToolBar:!1,showTyping:!1,data:[{type:"text",content:t.desc}]})},gl=n.memo(vl),hl={"gai-abi-wrapper":"gai-abi-wrapper--zHLPt","gai-abi-avatar":"gai-abi-avatar--vB3Lb",img:"img--eAbDM",logo:"logo--Oa9tS",name:"name--XVuDk","gai-abi-prologue":"gai-abi-prologue--ReTp6",prologueItem:"prologueItem--lCcE6",subPrologueItem:"subPrologueItem--iWf6d"};function bl(e){return function(e){if(Array.isArray(e))return Al(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Al(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Al(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Al(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var El="gai-abi";var Sl,wl=function(){var e=c((function(e){return e.globalSlice})),t=(e.avatar,e.openingSpeech),r=(e.assistantName,null==t?void 0:t.replace(/\s+/g,"")),a=r?function(e){for(var t=["AI"],r=[],n=0;n<e.length;n++){var a=e[n];t.includes(e.slice(n,n+2))?(r.push(bl(e.slice(n,n+2))),n++):r.push(a)}return r}(r):[];return n.createElement(n.Fragment,null,n.createElement($o,{featureKey:["PLAYGROUND","CUSTOM","AGENT"],invert:!0},n.createElement("div",{className:ct()(hl["".concat(El,"-wrapper")],{})},n.createElement("div",{className:hl["".concat(El,"-avatar")]},n.createElement("span",{className:hl.img},n.createElement("img",{src:"data:image/png;base64,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",className:hl.logo}))),n.createElement("div",{className:ct()(hl["".concat(El,"-prologue")]),title:r},null==a?void 0:a.map((function(e,t){return Array.isArray(e)&&e.toString()===["A","I"].toString()?n.createElement("span",{className:hl.prologueItem,key:t},e.map((function(e,t){return n.createElement("span",{key:t,className:hl.subPrologueItem},e)}))):n.createElement("span",{className:hl.prologueItem,key:t},e)}))))))},Ol=["svgRef","title"];function jl(){return jl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jl.apply(this,arguments)}function Il(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var kl=function(e){var t=e.svgRef,r=e.title,a=Il(e,Ol);return n.createElement("svg",jl({width:16,height:16,viewBox:"0 0 16 16",ref:t},a),r?n.createElement("title",null,r):null,Sl||(Sl=n.createElement("path",{d:"M6.854 2.16a.471.471 0 00-.708 0 .583.583 0 00-.041.72l.041.051L10.793 8l-4.647 5.069a.583.583 0 00-.041.72l.041.051a.47.47 0 00.66.046l.048-.046 5-5.454a.583.583 0 00.041-.72l-.041-.052-5-5.454z",fill:"#666",fillRule:"evenodd"})))},xl=n.forwardRef((function(e,t){return n.createElement(kl,jl({svgRef:t},e))})),Cl={skillHeader:"skillHeader--nqheh",imgWrapper:"imgWrapper--ty1lY",pointer:"pointer--Yu2PZ",text:"text--uZzJH",closeWrapper:"closeWrapper--eNOnT",leftArrow:"leftArrow--MGrWF",show:"show--qz1He"};function Pl(e){return Pl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pl(e)}function Nl(e,t,r){var n;return n=function(e,t){if("object"!=Pl(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Pl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Pl(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ll(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Rl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rl(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tl(e){var t=e.picture,r=e.name,a=e.isOver,i=void 0!==a&&a,o=e.bgColor,l=e.handleClickTop,u=e.handleClose,s=(c((function(e){return e.globalSlice})).slideEnv,ut()),f=(s.isFeatureEnabled,s.isFeatureEnabledInverted),d=Ll((0,n.useState)(!1),2),p=d[0],m=d[1];return n.createElement("div",{style:{background:o||"#ECF7FF"},className:ct()(Cl.skillHeader,Nl(Nl({},Cl.over,p),Cl.pointer,i&&l)),onClick:function(){null==l||l()},onMouseEnter:function(){return i&&void m(!0)},onMouseLeave:function(){return i&&void m(!1)}},n.createElement("div",{className:Cl.imgWrapper},n.createElement(Xt,{url:t||ko,isAvatar:!1,name:r||"",width:20,height:20})),n.createElement("div",{className:Cl.text,title:r||""},r||""),n.createElement("div",{className:ct()(Cl.leftArrow,Nl({},Cl.show,p))},n.createElement(da,{type:"default",bgClassName:Cl.arrow},n.createElement(xl,null))),u&&f("AGENT")?n.createElement("div",{className:ct()(Cl.closeWrapper),onClick:function(){return u()}},n.createElement(da,{bgClassName:Cl.close},n.createElement(po,null))):null)}function Bl(e){return{type:"chatMiddleWareFilter",payload:e}}function Ml(e){return{type:"runStepStatusMiddlewareFilter",payload:e}}function zl(e){return{type:"chatHistoryMiddleWareFilter",payload:e}}function Dl(e){return{type:"cardMiddleWareFilter",payload:e}}function Fl(e){return{type:"chatAnswerCardMiddleWareFilter",payload:e}}function Hl(e){return{type:"chatWaitingStartMiddleWareFilter",payload:e}}function Ql(e){return{type:"streamDoneMiddleWareFilter",payload:e}}function Ul(e){return{type:"errorMiddleWareFilter",payload:e}}function Yl(e){return{type:"fakeOkMiddleWareFilter",payload:e}}function Jl(e){return{type:"forwardMiddleWareFilter",payload:e}}function Wl(e){return{type:"identifySkillMiddleWareFilter",payload:e}}function Gl(e){return Gl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gl(e)}function Xl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Vl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xl(Object(r),!0).forEach((function(t){Kl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Kl(e,t,r){var n;return n=function(e,t){if("object"!=Gl(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Gl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Gl(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ql(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ql(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ql(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _l(){var e=(0,l.wA)(),t=c((function(e){return e.globalSlice})),r=t.model,a=(t.slideEnv,t.chatSessionId),i=t.currentSkill,o=t.isStartChat,u=ut().isFeatureEnabled,s=c((function(e){return e.chatSlice})),f=s.extraInput,d=s.files,p=s.isChat,m=s.promptParams,y=Zl((0,n.useState)(!0),1)[0],v=Zl((0,n.useState)(f||""),2),g=v[0],h=v[1],b=ye("setChatRequest"),A=N("setIsStartChat"),E=ye("clearFiles"),S=ye("setPromptParams"),w=ye("setExtraInput"),O=ye("setReadyToSend"),j=N("setIdentifySkillId"),I=m.readyToSend;(0,n.useEffect)((function(){f&&(h(f),w(""))}),[f]),(0,n.useEffect)((function(){if(I){var e=Object.keys(m.variableMap),t={};e.forEach((function(e){t[e]=m.variableMap[e].value}));var n=Vl(Vl({},m),{},{variableMap:t});null==r||r.invokeAsync("playgroundChat",n),O(!1),h(""),w("")}}),[I]);return{chatValue:g,setChatValue:h,handleSend:function(t){if(u("AGENT")&&"0"===i.id)!function(e,t){var r=sd(sd({duration:-1},t),{},{method:"showTipNotification"});hd(e,r)}(r,{duration:3500,msg:"请先保存智能体再发送消息"});else{var n=t||{},l=n.chatValue,c=n.skill,s=null==c?void 0:c.id,f=l||g;if((f&&0!==f.trim().length||!vd(d,(function(e){return 0===e.status})))&&!p.status){var m,v,O;j(),!o&&A(!0);var I=null!==(m=null!=s?s:null==i?void 0:i.id)&&void 0!==m?m:"0",k=null!==(v=null!==(O=null==c?void 0:c.type)&&void 0!==O?O:null==i?void 0:i.type)&&void 0!==v?v:"",x=[{role:"user",content:f}];if(b({id:(0,yt.A)(),skillId:I,content:f,files:d,message:x.map((function(e){return Vl({},e)}))}),u(["MAIN","HOMEPAGE","BOS","AGENT","ASSISTANT"])){var C=Pt(d),P="".concat(f).concat(C);null==r||r.invokeAsync("chat",{id:a,stream:y,length:P.length,input:P,skillId:I,skillType:k}),h(""),w(""),E(),e({type:"chatStartMiddleWareFilter",payload:null})}u("PLAYGROUND")&&(S({input:f,stream:y}),e({type:"chatStartMiddleWareFilter",payload:null}),null==r||r.invokeAsync("getChatInfo",{})),u("CUSTOM")&&(null==r||r.invokeAsync("chat",{id:a,stream:y,length:f.length,input:f,processId:i.id}),h(""),w(""),e({type:"chatStartMiddleWareFilter",payload:null}))}}}}}var $l,ec=["svgRef","title"];function tc(){return tc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tc.apply(this,arguments)}function rc(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var nc=function(e){var t=e.svgRef,r=e.title,a=rc(e,ec);return n.createElement("svg",tc({className:"refresh_svg__icon",width:200,height:200,style:{verticalAlign:"middle"},viewBox:"0 0 14 15",fill:"currentColor",overflow:"hidden",ref:t},a),r?n.createElement("title",null,r):null,$l||($l=n.createElement("path",{d:"M6.09.566l.053.035 1.976 1.49a.5.5 0 01.133.647l-.034.052-1.49 1.977a.5.5 0 01-.833-.55l.035-.052.668-1.27a5.5 5.5 0 104.067 1.384.5.5 0 11.666-.746 6.5 6.5 0 11-5.245-1.59L5.541 1.4a.5.5 0 01-.133-.647l.034-.053A.5.5 0 016.09.566z",fill:"#666",fillRule:"evenodd"})))},ac=n.forwardRef((function(e,t){return n.createElement(nc,tc({svgRef:t},e))})),ic="skillQuestion--XbW9D",oc="content--pPHlx",lc="desc--Op_mS",cc="bg--KkiDB",uc="mark--tEgBZ",sc="text--rAxAX",fc="questionsWrapper--rEGmt",dc="multipleCol--L6nm6",pc="question--UvsgK",mc="operate--ncFZv",yc="show--EjQG1",vc="btn--quttH";function gc(e){return gc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gc(e)}function hc(e,t,r){var n;return n=function(e,t){if("object"!=gc(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=gc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==gc(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bc(e){return function(e){if(Array.isArray(e))return Sc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ec(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ac(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}(e,t)||Ec(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ec(e,t){if(e){if("string"==typeof e)return Sc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Sc(e,t):void 0}}function Sc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var wc=function(e){var t=c((function(e){return e.globalSlice})),r=t.currentSkill,a=t.sideMode,i=e.className,o=Ac((0,n.useState)([]),2),l=o[0],u=o[1],s=(0,n.useRef)(),f=N("setCurrentSkill"),d=_l().handleSend,p=r.picture,m=r.name,y=r.prologue,v=r.suggestedAsks,g=void 0===v?[]:v,h=r.bgColor,b=function(e){s.current&&("full"===a||"side"===a)&&(g.length>6?u(s.current(6,e)):u(bc(g)))};return(0,n.useEffect)((function(){var e=r.suggestedAsks;null!=e&&e.length?(s.current=yd(e),b()):(s.current=void 0,u([]))}),[r.suggestedAsks]),(0,n.useEffect)((function(){b("resetPrev")}),[a]),n.createElement("div",{className:ct()(i,ic)},n.createElement(Tl,{picture:p,name:m,bgColor:h,handleClose:function(){f({})}}),n.createElement("div",{className:oc},n.createElement("div",{className:lc},n.createElement("img",{className:cc,src:"data:image/png;base64,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",alt:""}),n.createElement("span",{className:uc}),n.createElement("span",{className:sc,title:y},y)),n.createElement("div",{className:ct()(fc,hc({},dc,"full"===a))},l.map((function(e,t){return n.createElement("div",{key:t,title:e.name,className:pc,onClick:function(){return t=e.name,void d({chatValue:t});var t}},e.name)}))),n.createElement("div",{className:ct()(mc,hc({},yc,g.length>6))},n.createElement("div",{className:vc,onClick:function(){return b()}},n.createElement(da,{type:"face",size:16},n.createElement(ac,null)),n.createElement("span",null,"换一换")))))},Oc={skillListWrapper:"skillListWrapper--Gw3iZ",skillList:"skillList--VjbdR",multipleCol:"multipleCol--NWbIb",skill:"skill--JnhhT",operate:"operate--Dhoty",btn:"btn--lGCfC",shuffleIcon:"shuffleIcon--_9yVv",selected:"selected--f65nR",bottom:"bottom--z1JhL",textWrapper:"textWrapper--hqN8K"};function jc(e){return jc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jc(e)}function Ic(e,t,r){var n;return n=function(e,t){if("object"!=jc(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=jc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==jc(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kc(e){var t=e.info,r=e.className,a=e.selected,i=void 0!==a&&a,o=e.isOver,c=void 0!==o&&o,u=t.name,s=t.picture,f=t.suggestedAsks,d=t.bgColor,p=(0,l.wA)(),m=N("setCurrentSkill"),y=_l().handleSend;return n.createElement("div",{className:ct()(Oc.skill,r,Ic({},Oc.selected,i))},n.createElement(Tl,{picture:s,name:u,isOver:c,bgColor:d,handleClickTop:function(){try{m(t),p(Je())}catch(e){}}}),n.createElement("div",{className:Oc.bottom},null!=f&&f.length?n.createElement("div",{className:Oc.textWrapper,title:f[0].name,onClick:function(){return e=f[0].name,m(t),void y({chatValue:e,skill:t});var e}},f[0].name):null))}function xc(e){return xc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xc(e)}function Cc(e,t,r){var n;return n=function(e,t){if("object"!=xc(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=xc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==xc(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pc(e){var t=e.isOver,r=void 0!==t&&t,a=e.className,i=e.skillList,o=e.handleShuffle,l="full"===c((function(e){return e.globalSlice})).sideMode;return n.createElement("div",{className:ct()(Oc.skillListWrapper,a)},n.createElement("div",{className:ct()(Oc.skillList,Cc({},Oc.multipleCol,l))},i.map((function(e){return n.createElement(kc,{key:e.id,isOver:r,info:e,className:Oc.skill})}))),o?n.createElement("div",{className:Oc.operate},n.createElement("div",{className:Oc.btn,onClick:function(){null==o||o()}},n.createElement(da,{type:"face",size:16},n.createElement(ac,null)),n.createElement("span",null,"换一换"))):null)}var Nc="firstPage--x1qWj",Lc="skills--_7yjD",Rc="questions--OjJUV",Tc="agentQuestions--pKNUW";function Bc(e){return Bc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bc(e)}function Mc(e,t,r){var n;return n=function(e,t){if("object"!=Bc(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Bc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Bc(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zc(e){return function(e){if(Array.isArray(e))return Hc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Fc(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}(e,t)||Fc(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fc(e,t){if(e){if("string"==typeof e)return Hc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Hc(e,t):void 0}}function Hc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Qc(){var e=ut().isFeatureEnabled,t=c((function(e){return e.globalSlice})),r=t.currentSkill,a=t.skillList,i=t.sideMode,o=Dc((0,n.useState)([]),2),l=o[0],u=o[1],s=(0,n.useRef)([]),f=(0,n.useRef)(),d=r.id,p="full"===i&&s.current.length>6||"side"===i&&s.current.length>3,m=function(e){f.current&&("full"===i?s.current.length>6?u(f.current(6,e)):u(zc(s.current)):"side"===i&&(s.current.length>3?u(f.current(3,e)):u(zc(s.current))))};return(0,n.useEffect)((function(){a.length?(s.current=a,f.current=yd(a),m()):s.current=[]}),[a]),(0,n.useEffect)((function(){m("resetPrev")}),[i]),n.createElement("div",{className:ct()(Nc)},n.createElement(wl,null),d?n.createElement(wc,{className:ct()(Rc,Mc({},Tc,e("AGENT")))}):l.length?n.createElement(Pc,{isOver:!0,className:Lc,skillList:l,handleShuffle:p?m:void 0}):null)}var Uc=n.memo(Qc),Yc="scrollbars--SNdD8",Jc="chatBodyContent--KSQFc";function Wc(){return Wc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wc.apply(this,arguments)}var Gc,Xc=n.createContext({}),Vc=function(){var e=c((function(e){return e.globalSlice})),t=e.userAgree,r=e.isStartChat,a=e.slideEnv,i=c((function(e){return e.chatSlice})),o=i.isChat,l=i.chatList,u=i.chatScrollTop,s=(0,n.useRef)(null),f=ye("setChatScrollTop"),d=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=null===(e=s.current)||void 0===e?void 0:e.handleScrollInView;r&&(t?setTimeout((function(){r()}),t):r()),y.current&&y.current.scrollToBottom()},p=function(){return t?l.map((function(e,t){switch(e.type){case"ask":return n.createElement(Ti,{key:e.id,data:e});case"answer":if(e.spliced)return null;var r,i,c=e.concatList.length?l.filter((function(t){return e.concatList.some((function(e){return e===t.id}))})):void 0,u=!0,s=!0,f=!1;(null===(r=l[l.length-1])||void 0===r?void 0:r.id)===e.id&&(o.status||o.waiting)&&(s=!1),"error"===e.status&&(u=!1,s=!1),e.isSkillQuestion&&(u=!1,s=!1),e.messageId&&""!==e.messageId||(s=!1),null!==(i=e.skill)&&void 0!==i&&i.id&&(f=!0);var d=e.messageId;return c&&c.length>0&&d&&c.forEach((function(e){d=d+","+e.messageId})),n.createElement(Ms,{key:e.id,showBottomAction:u,showFeedback:s,showSkillFix:f,data:e,concatList:c,messageId:d});case"card":var p,m,y=e.concatList.length?l.filter((function(t){return e.concatList.some((function(e){return e===t.id}))})):void 0,v=(null===(p=l[l.length-1])||void 0===p?void 0:p.id)===e.id,g=!0,h=!1;null!==(m=e.skill)&&void 0!==m&&m.id&&(h=!0),v&&(o.status||o.waiting)&&(g=!1);var b=e.messageId;return y&&y.length>0&&y.forEach((function(e){b=b+","+e.messageId})),b&&""!==b||(g=!1),n.createElement(ll,{key:e.id,cardData:e.data,skill:e.skill,isFirst:e.isFirst,cancelled:e.cancelled,showBottomAction:!0,showFeedback:g,showSkillFix:h,concatList:y,messageId:b,feedback:e.feedback});case"fakeOk":return n.createElement(gl,{key:e.id||"".concat(e.data.code,"_").concat(t),data:e.data,slideEnv:a});case"error":return n.createElement(Qi,{key:e.id,data:e.data});default:return n.createElement(n.Fragment,null,"error")}})):n.createElement(yl,null)},m=function(){return n.createElement(ur,null)};(0,n.useEffect)((function(){o.status&&d()}),[o.status]);var y=(0,n.useRef)(null),v=(0,n.useRef)(!0);(0,n.useEffect)((function(){o.status&&v.current&&y.current&&y.current.scrollToBottom()}),[p,m,v.current]);var g=(0,n.useRef)(null);return n.createElement(Xc.Provider,{value:{handleScrollToBottom:function(){return d(50)},feedbackChangeScrollTop:function(e,t){var r,n,a,i;if(!(r=null==g?void 0:g.current,n=null==e?void 0:e.current,a=r.getBoundingClientRect(),(i=n.getBoundingClientRect()).top>=a.top&&i.left>=a.left&&i.bottom<=a.bottom&&i.right<=a.right)){var o,l,c=null===(o=y.current)||void 0===o?void 0:o.getScrollTop();null===(l=y.current)||void 0===l||l.scrollTop(c+t+20)}}}},n.createElement("div",{ref:g,style:{flex:"1"}},n.createElement(di.ur,{ref:y,autoHide:!0,autoHideTimeout:1e3,style:{width:"100%"},renderTrackHorizontal:function(e){return n.createElement("div",Wc({},e,{className:"track-horizontal",style:{display:"none"}}))},className:Yc,onScrollFrame:function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;0===t?!u&&f(!0):u&&f(!1),r-t<=n&&(v.current=!0)}},n.createElement("div",{style:{padding:"0 16px"},onWheel:function(e){e.deltaY<-50&&(v.current=!1)}},r?n.createElement("div",{className:Jc},p(),m()):n.createElement(Uc,null)))))},Kc=n.memo(n.forwardRef(Vc)),Zc="chat--lf6zQ",qc="chatBody--RP15D",_c="isChat--Mx9iU",$c=r(71391),eu=["svgRef","title"];function tu(){return tu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tu.apply(this,arguments)}function ru(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var nu=function(e){var t=e.svgRef,r=e.title,a=ru(e,eu);return n.createElement("svg",tu({width:16,height:16,viewBox:"0 0 16 16",ref:t},a),r?n.createElement("title",null,r):null,Gc||(Gc=n.createElement("path",{d:"M6.28 15a5.213 5.213 0 01-3.722-1.552l-.017-.018A5.279 5.279 0 011 9.686 5.28 5.28 0 012.542 5.94l4.755-4.785a.523.523 0 01.742 0 .53.53 0 010 .747L3.285 6.687A4.228 4.228 0 002.05 9.684c0 1.133.438 2.197 1.235 2.997l.017.018A4.174 4.174 0 006.28 13.94c1.126 0 2.183-.44 2.978-1.242l3.92-3.942a2.65 2.65 0 00.773-1.88 2.65 2.65 0 00-.773-1.88 2.616 2.616 0 00-1.868-.778c-.706 0-1.37.276-1.868.778L5.933 8.528a1.07 1.07 0 000 1.507 1.054 1.054 0 001.497 0l3.106-3.126a.523.523 0 01.742 0 .53.53 0 010 .747l-3.106 3.126a2.1 2.1 0 01-2.98 0 2.132 2.132 0 010-3l3.506-3.53a3.68 3.68 0 015.22 0A3.705 3.705 0 0115 6.88c0 .992-.383 1.926-1.082 2.627l-3.916 3.942A5.213 5.213 0 016.28 15z",fill:"#666",fillRule:"nonzero"})))},au=n.forwardRef((function(e,t){return n.createElement(nu,tu({svgRef:t},e))}));var iu,ou=function(e){var t=e.disable,r=e.onSubmit,a=(e.onError,e.onBeforeUpload),i=(0,n.useRef)(null);return n.createElement(n.Fragment,null,n.createElement("input",{onChange:function(e){var t,n,i=Array.prototype.slice.call(null==e||null===(t=e.target)||void 0===t?void 0:t.files).concat();e.target.value="";var o=a&&a(i);o||(o=i),null===(n=o)||void 0===n||n.forEach((function(e){var t;(t=e)&&r&&r([t])}))},ref:i,type:"file",multiple:!0,accept:".csv,.pdf,image/*,.txt,.json,.xls,.xlsx",style:{width:"1px",opacity:0}}),n.createElement(da,{size:14,onClick:function(){t||i.current&&i.current.click()},title:"文件上传，支持格式：pdf,txt,png,jpg,jpeg,csv,json,excel 文件大小不超过10M"},n.createElement(au,null)))},lu=n.memo(ou),cu=(r(53226),{search:"search--ocgZB",active:"active--iweAt",searchIcon:"searchIcon--FFxt6",input:"input--qof8u",closeIcon:"closeIcon--o2waI"}),uu=["svgRef","title"];function su(){return su=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},su.apply(this,arguments)}function fu(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var du,pu=function(e){var t=e.svgRef,r=e.title,a=fu(e,uu);return n.createElement("svg",su({width:14,height:14,viewBox:"0 0 14 14",ref:t},a),r?n.createElement("title",null,r):null,iu||(iu=n.createElement("path",{d:"M7 0a7 7 0 110 14A7 7 0 017 0zM4.496 3.67a.583.583 0 00-.825 0l-.068.082a.584.584 0 00.068.744L6.175 7 3.671 9.504a.583.583 0 10.825.825L7 7.825l2.504 2.504a.583.583 0 00.825 0l.068-.08a.584.584 0 00-.068-.745L7.825 7l2.504-2.504a.583.583 0 10-.825-.825L7 6.175z",fill:"#B2B2B2",fillRule:"evenodd"})))},mu=n.forwardRef((function(e,t){return n.createElement(pu,su({svgRef:t},e))})),yu=["svgRef","title"];function vu(){return vu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vu.apply(this,arguments)}function gu(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var hu=function(e){var t=e.svgRef,r=e.title,a=gu(e,yu);return n.createElement("svg",vu({className:"search_svg__icon",width:200,height:200,style:{verticalAlign:"middle"},viewBox:"0 0 14 14",fill:"currentColor",overflow:"hidden",ref:t},a),r?n.createElement("title",null,r):null,du||(du=n.createElement("path",{d:"M9.874 10.582a6 6 0 11.707-.707l3.273 3.271a.5.5 0 01-.708.708l-3.272-3.272zM6 11A5 5 0 106 1a5 5 0 000 10z",fill:"#999",fillRule:"nonzero"})))},bu=n.forwardRef((function(e,t){return n.createElement(hu,vu({svgRef:t},e))}));function Au(e){return Au="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Au(e)}function Eu(e,t,r){var n;return n=function(e,t){if("object"!=Au(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Au(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Au(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Su(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return wu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wu(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wu(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ou(e){var t=e.value,r=e.placeholder,a=void 0===r?"搜索":r,i=e.className,o=e.maxLength,l=e.handleChange,c=e.handleClear,u=Su((0,n.useState)(!1),2),s=u[0],f=u[1];return n.createElement("div",{className:ct()(i,cu.search,Eu({},cu.active,s))},n.createElement(da,{size:14,type:"face",style:{color:"#999"}},n.createElement(bu,null)),n.createElement("input",{className:cu.input,value:t,placeholder:a,maxLength:o,onChange:function(e){var t=e.target.value;l(t||"")},onFocus:function(){return f(!0)},onBlur:function(){return f(!1)}}),t&&c?n.createElement(da,{size:14,onClick:function(e){e.preventDefault(),e.stopPropagation(),null==c||c()},type:"face"},n.createElement(mu,null)):null)}var ju={selectSkill:"selectSkill--RQPh4",hasSkill:"hasSkill--vvpdn",header:"header--D_TE7",search:"search--RUZhx",skills:"skills--u9D6I",back:"back--eAW8W",skill:"skill--juriN",selected:"selected--ILYc2",content:"content--sjwcz",avatar:"avatar--RZDmk",right:"right--sHUUz",name:"name--aeCHx",description:"description--UFGEP",subScriptWrapper:"subScriptWrapper--edHko",subScript:"subScript--xqP8T"};function Iu(e){return Iu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iu(e)}function ku(e,t,r){var n;return n=function(e,t){if("object"!=Iu(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Iu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Iu(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xu(e){var t=e.info,r=e.className,a=e.onClick,i=t.name,o=t.picture,l=t.serviceDes,u=c((function(e){return e.globalSlice})).currentSkill.id===t.id,s=function(){null==a||a(t)};return n.createElement("div",{className:ct()(ju.skill,r,ku({},ju.selected,u)),onClick:function(){return s()}},n.createElement("div",{className:ju.content},n.createElement("div",{className:ju.avatar},n.createElement(Xt,{url:o||ko,isAvatar:!1,name:i||"",width:32,height:32})),n.createElement("div",{className:ju.right},n.createElement("div",{className:ju.name,title:i||""},i||""),n.createElement("div",{className:ju.description,title:(null==l?void 0:l.replace(/\n{1,}/g,""))||" "},(null==l?void 0:l.replace(/\n{1,}/g,""))||" "))),u?n.createElement("div",{className:ju.subScriptWrapper},n.createElement("div",{className:ju.subScript})):null)}function Cu(e){return Cu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cu(e)}function Pu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Nu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pu(Object(r),!0).forEach((function(t){Lu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Lu(e,t,r){var n;return n=function(e,t){if("object"!=Cu(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Cu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Cu(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ru(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}(e,t)||Bu(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tu(e){return function(e){if(Array.isArray(e))return Mu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Bu(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bu(e,t){if(e){if("string"==typeof e)return Mu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Mu(e,t):void 0}}function Mu(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zu(e,t){if(t){var r=e.findIndex((function(e){return e.id===t}));if(r>-1){var n=Tu(e);return[n.splice(r,1)[0]].concat(Tu(n))}return Tu(e)}return Tu(e)}function Du(e){var t=c((function(e){return e.globalSlice})),r=t.skillList,a=t.currentSkill,i=e.wrapperRef,o=e.className,l=e.handleClose,u=e.style,s=Ru((0,n.useState)(""),2),f=s[0],d=s[1],p=Ru((0,n.useState)([]),2),m=p[0],y=p[1],v=N("setCurrentSkill"),g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=r.filter((function(t){return r=t.name,n=e,r.toLocaleLowerCase().indexOf(n.toLocaleLowerCase())>=0;var r,n}));y(zu(t,a.id))},h=(0,Mn.A)(g,10,{leading:!0}),b=function(e){a.id!==e.id&&v(e),null==l||l()};return(0,n.useEffect)((function(){y(zu(r,a.id))}),[r]),n.createElement("div",{className:ct()(ju.selectSkill,o,Lu({},ju.hasSkill,a.id)),style:Nu({},u),ref:i},n.createElement("div",{className:ju.header},"选择智能体"),n.createElement(Ou,{placeholder:"搜索智能体",value:f,className:ju.search,handleChange:function(e){d(e),h(e)},handleClear:function(){d(""),g()}}),n.createElement("div",{className:ju.skills},m.map((function(e){return n.createElement(xu,{key:e.id,info:e,onClick:b})}))),a.id?n.createElement("div",{className:ju.back,onClick:function(){return v({}),void(null==l||l())}},"取消并返回智能匹配"):null)}var Fu,Hu=(0,n.memo)(Du),Qu={clearChat:"clearChat--d9To3",chatInputWrapper:"chatInputWrapper--WQVah",inputActive:"inputActive--XnnB0",chatInput:"chatInput--VkLAt",inputWrapper:"inputWrapper--k1xXJ",isMain:"isMain--YySG1",mulRowWrapper:"mulRowWrapper--_gyXG",input:"input--NU8nj",mulRow:"mulRow--mfJgH",skill:"skill--uUeWr",operate:"operate--bvNOQ",block:"block--FR3Vy",upload:"upload--pyhMc",chatSend:"chatSend--_YVaB",enableSend:"enableSend--wdSvC",disableSend:"disableSend--mfo9p",showSend:"showSend--ANvLs",hideSend:"hideSend--rCIQ9",InputOutBox:"InputOutBox--h8IUT",gaiOtherBox:"gaiOtherBox--bjFpk",fakeTextArea:"fakeTextArea--fe74v",textarea:"textarea--TwUwP",fake:"fake--ggpXd",textCount:"textCount--bTTQI",boxPadding:"boxPadding--k9fXi",mentionPopupWrapper:"mentionPopupWrapper--xazG6",top:"top--hLF5r",inputSkill:"inputSkill--ZiDem",avatar:"avatar--yx10S",active:"active--vBfrI",selectSkill:"selectSkill--rq_gu"},Uu=["svgRef","title"];function Yu(){return Yu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yu.apply(this,arguments)}function Ju(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Wu=function(e){var t=e.svgRef,r=e.title,a=Ju(e,Uu);return n.createElement("svg",Yu({width:16,height:16,viewBox:"0 0 16 16",ref:t},a),r?n.createElement("title",null,r):null,Fu||(Fu=n.createElement("path",{d:"M12.667 1C13.955 1 15 1.895 15 3v10c0 1.105-1.045 2-2.333 2H3.333C2.045 15 1 14.105 1 13V3c0-1.105 1.045-2 2.333-2h9.334zm.133 1H3.2c-.633 0-1.15.408-1.197.925L2 3v10c0 .527.49.96 1.11.997L3.2 14h9.6c.633 0 1.15-.408 1.197-.925L14 13V3c0-.527-.49-.96-1.11-.997L12.8 2zm-7.705 8.286a.571.571 0 010 1.143h-1.19a.571.571 0 110-1.143h1.19zm7 0a.571.571 0 010 1.143h-4.69a.571.571 0 110-1.143h4.69zm-7-2.857a.571.571 0 110 1.142h-1.19a.571.571 0 110-1.142h1.19zm7 0a.571.571 0 110 1.142h-4.69a.571.571 0 110-1.142h4.69zm-7-2.858a.571.571 0 010 1.143h-1.19a.571.571 0 110-1.143h1.19zm7 0a.571.571 0 110 1.143h-4.69a.571.571 0 110-1.143h4.69z",fill:"#666",fillRule:"evenodd"})))},Gu=n.forwardRef((function(e,t){return n.createElement(Wu,Yu({svgRef:t},e))}));function Xu(e){return Xu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xu(e)}function Vu(e,t,r){var n;return n=function(e,t){if("object"!=Xu(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Xu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Xu(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ku(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Zu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zu(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zu(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qu(e){var t,r,a=c((function(e){return e.globalSlice})),i=a.currentSkill,o=a.model,l=a.chatSessionId,u=ut().isFeatureEnabled,s=c((function(e){return e.chatSlice})).isChat,f=e.className,d=Ku((0,n.useState)(!1),2),p=d[0],m=d[1],y=(0,n.useContext)(ds).getChatFooterRef,v=(0,n.useRef)(null),g=(0,n.useRef)(null);t=[v,g],r=function(e){e.stopPropagation(),h(!1)},(0,n.useEffect)((function(){var e=function(e){var n,a=Dn(t);try{for(a.s();!(n=a.n()).done;){var i=n.value;if(!i.current||i.current.contains(e.target))return}}catch(e){a.e(e)}finally{a.f()}r(e)};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),function(){document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}}),[t,r]);var h=function(e){s.status||(m(e),e&&(u(["MAIN","HOMEPAGE"])?null==o||o.invokeAsync("getSkillList",{id:l}):null==o||o.invokeAsync("getTempSkillList",{id:l})))},b=function(){h(!1)},A=(0,n.useCallback)((function(){var e=y?y():null,t=50;e&&(t=e.scrollHeight+2);var r=n.createElement(Hu,{wrapperRef:v,className:ct()(Qu.selectSkill,Qu.popupClassName),style:{bottom:t},handleClose:b});return e?(0,Bn.createPortal)(r,e):r}),[y]);return n.createElement("div",{className:ct()(f,Qu.inputSkill)},n.createElement("div",{ref:g,className:ct()(Qu.iconWrapper)},i.id?n.createElement("div",{className:ct()(Qu.avatar,Vu({},Qu.active,p)),onClick:function(){h(!p)}},n.createElement(Xt,{url:i.picture||ko,isAvatar:!1,name:i.name||"",width:16,height:16})):n.createElement(da,{title:"选择智能体",active:p,onClick:function(){h(!p)}},n.createElement(Gu,null)),p&&A()))}var _u=(0,n.memo)(qu);function $u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return es(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return es(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function es(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ts="attachment/uploadFile.do";function rs(){var e=c((function(e){return e.globalSlice})),t=e.model,r=(e.slideEnv,e.userAgree),a=e.currentSkill,i=ut(),o=i.isFeatureEnabled,l=i.isFeatureEnabledInverted,u=c((function(e){return e.chatSlice})),s=u.isChat,f=u.files,d=_l(),p=d.chatValue,m=d.setChatValue,y=d.handleSend,v=ye("clearChatList"),g=N("setIsStartChat"),h=ye("clearFiles"),b=ye("setFiles"),A=$u((0,n.useState)(!1),2),E=(A[0],A[1]),S=$u((0,n.useState)(!0),2),w=(S[0],S[1],(0,n.useContext)(bs)),O=w.handleChangeFeedbackShowStatus,j=w.isDislikeFeedSubmitted,I=w.feedbackShowType,k=r&&(f.length>0?!f.some((function(e){return-1===e.status||0===e.status})):(null==p?void 0:p.trim().length)>0);(0,n.useEffect)((function(){r||(m(""),h())}),[r]);var x=function(e){E(e)},C=function(e){return/.(pdf|txt|png|jpe?g|csv|json|xlsx?)$/.test(e)},P=function(e){return e>10485760},L=function(e){for(var r=[],n=0;n<e.length;n++){var a=e[n],i=a.name,o=a.size,l=C(i.toLowerCase()),c=P(o);if(l)if(c)bd(t,{msg:"文件:".concat(i,"超出10M的限制！")});else{var u=a.name,s=a.type,f=a.size,d="gai_".concat((0,yt.A)());a.fileId=d,b({name:u,type:s,size:f,fileId:d,fileUrl:"",status:0}),r.push(a)}else bd(t,{msg:"文件：".concat(i," 的格式不符合指定格式！")})}return r},R=function(e){e.forEach((function(e){var r,n=new FormData;n.append("file",e),function(e){var t=e.url,r=e.data,n=e.headers;return M().post(t,r,{headers:n})}({url:(r=location.pathname.split("/").filter((function(e){return e&&""!==e&&!(e.indexOf(".html")>-1)})).map((function(e){return"/".concat(e)})).join(""),r.lastIndexOf("/")!==r.length-1&&(r+="/"),r+ts),data:n,headers:{"Content-Type":"multipart/form-data"}}).then((function(r){var n=r.data,a=null==n?void 0:n.url;if(a){var i=e.name,o=e.size,l=e.type,c={tempId:e.fileId,name:i,fileSize:o,fileType:l,fileUrl:a};null==t||t.invokeAsync("saveFile",c)}})).catch((function(t){var r=e.name,n=e.type,a=e.fileId;b({fileId:a,name:r,status:-1,type:n,fileUrl:""})}))}))};return n.createElement(n.Fragment,null,n.createElement($o,{featureKey:"CUSTOM"},n.createElement("div",{title:"发起新话题",onClick:function(){s.status||(v(),g(!1),null==t||t.invokeAsync("newChat",{}))},className:Qu.clearChat},n.createElement("span",{className:ct()(Ar.iconcool,Ar.faqixinliaotian)}))),n.createElement($c.A,{onFocus:function(e){(1===I||j)&&O(2),x(!0)},onBlur:function(e){x(!1)},showSend:k,disabled:!r,inputMaxHeight:360,className:Qu["cui-chat-input"],style:{flex:1,maxWidth:"100%"},inputValue:p,showCounter:!1,onChange:function(e){m(e.target.value)},onSend:function(){y(),O(1)},placeholder:r?o(["MAIN","HOMEPAGE","ASSISTANT"])?a.id?'"'.concat(null==a?void 0:a.name,'" 为你提供服务'):"发送信息，或从左侧选择“智能体”":o("AGENT")?"发送消息":"发送信息":"同意隐私政策方可使用",inputPrefix:n.createElement($o,{featureKey:["MAIN","HOMEPAGE","ASSISTANT"]},n.createElement(_u,{className:ct()(Qu.skill)})),suffixRender:function(e){var t=[];return l(["PLAYGROUND","CUSTOM"])&&t.push(n.createElement("div",{className:Qu.upload},n.createElement(lu,{disable:!r,onBeforeUpload:L,onSubmit:R}))),e[2]&&t.push(e[2]),t},onKeyDown:function(e){var t=p.trim(),n=e.shiftKey,a="Enter"===e.key,i=f.length>0&&!f.some((function(e){return-1===e.status||0===e.status})),o=f.some((function(e){return-1===e.status||0===e.status}));if(r)return a&&o||a&&""===t&&!i?e.preventDefault():void(n&&a&&""!==t||a&&(e.preventDefault(),y()))},onPaste:function(e){e.preventDefault;var t=e.clipboardData;if(t){for(var r=t.items,n=[],a=0;a<r.length;a++)if("file"===r[a].kind){var i=r[a].getAsFile();if(i){var o=i,l="gai_".concat((0,yt.A)());o.fileId=l,n.push(o)}}if(n.length){var c=L(n);c.length&&R(c)}}},attachmentRender:function(){return n.createElement($o,{featureKey:["CUSTOM","PLAYGROUND"],invert:!0},n.createElement(Ii,{showDel:!0,files:f,fixedImgSize:!0,style:{marginBottom:8}}))}}))}var ns=n.memo(rs),as="chatFooter--Y4lu7",is="chatFooterWrapper--llYLP",os="stopChat--AS9bn";function ls(e){return ls="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ls(e)}function cs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function us(e,t,r){var n;return n=function(e,t){if("object"!=ls(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ls(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==ls(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ss(e){return function(e){if(Array.isArray(e))return fs(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return fs(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fs(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fs(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ds=n.createContext({});function ps(){var e=c((function(e){return e.globalSlice})),t=e.model,r=e.chatSessionId,a=e.currentSkill,i=e.identifySkillId,o=e.skillList,u=c((function(e){return e.chatSlice})),s=u.isChat,f=u.chatList,d=(0,l.wA)(),p=(0,n.useRef)(null),m=function(){var e,n=null==a?void 0:a.type;if(!n&&i){var l=o.find((function(e){return e.id===i}));l&&null!=l&&l.type&&(n=null==l?void 0:l.type)}if(n&&"agent"===String(n).toLowerCase()&&null!=s&&s.runId&&(null==t||t.invokeAsync("agentCancel",{id:r,runId:null==s?void 0:s.runId})),"ask"===(null===(e=f[f.length-1])||void 0===e?void 0:e.type)){var c={type:"answer",message:[{data:"任务已取消",index:1}],id:(0,yt.A)(),card:[],concatList:[],runStepStatusList:[],assistant:{},messageId:null,originType:1,skill:a,isFirst:!0};d(he([].concat(ss(f),[c])))}else{var u=ss(f);if(u[u.length-1]){var p=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cs(Object(r),!0).forEach((function(t){us(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},u[u.length-1]);p.cancelled=!0,u[u.length-1]=p,d(he(u))}}};return n.createElement(ds.Provider,{value:{getChatFooterRef:function(){return p.current||void 0}}},n.createElement("div",{className:as},n.createElement("div",{className:is,ref:p},n.createElement("div",{id:"gai-stop-chat-btn",style:{display:null!=s&&s.status?"flex":"none"},onClick:function(){m(),"startChat"===s.taskId?null==t||t.invokeAsync("stopStream",{id:r,flowId:s.flowId}):s.taskId&&s.taskId.length>0?null==t||t.invokeAsync("stopStream",{id:r,taskId:s.taskId,flowId:s.flowId}):null==t||t.invokeAsync("stopStream",{id:r,flowId:s.flowId,taskId:null}),d({type:"chatDoneMiddleWareFilter",payload:{id:r,taskId:s.taskId,flowId:s.flowId}})},className:os},n.createElement("span",null,"停止生成")),n.createElement(ns,null))))}var ms=n.memo(ps);function ys(e){return ys="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ys(e)}function vs(e,t,r){var n;return n=function(e,t){if("object"!=ys(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ys(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==ys(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return hs(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hs(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hs(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var bs=n.createContext({}),As=function(e){var t=e.children,r=c((function(e){return e.globalSlice})).userAgree,a=c((function(e){return e.chatSlice})).isChat,i=gs((0,n.useState)(1),2),o=i[0],l=i[1],u=(0,n.useRef)(null),s=(0,n.useCallback)((function(e){l(e)}),[]),f=gs((0,n.useState)(),2),d=f[0],p=f[1],m=(0,n.useCallback)((function(e){p(e)}),[]),y=gs((0,n.useState)(!1),2),v=y[0],g=y[1];return n.createElement(bs.Provider,{value:{feedbackShowStatus:o,feedbackShowType:d,isDislikeFeedSubmitted:v,handleChangeFeedbackShowStatus:s,handleFeedbackShowTypeStatus:m,handleIsDislikeFeedSubmitted:function(e){g(e)},getChatRef:(0,n.useCallback)((function(){return u.current}),[])}},n.createElement("div",{className:ct()(Zc),ref:u},t,n.createElement("div",{style:{marginBottom:r?0:"-20px"},className:ct()(qc,vs({},_c,a.status))},n.createElement(Kc,null)),n.createElement(ms,null)))},Es=n.memo(As),Ss="answer--nuJLN",ws="answerBottom--aNe52",Os="end--G7gTs",js="feedback--RRkKZ";function Is(e){return Is="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Is(e)}function ks(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ks(Object(r),!0).forEach((function(t){Cs(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ks(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Cs(e,t,r){var n;return n=function(e,t){if("object"!=Is(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Is(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Is(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ps(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ns(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ns(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ns(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ls=function(e){e.showBottomAction;var t=e.showFeedback,r=e.showSkillFix,a=e.data,i=e.concatList,o=e.messageId,u=Ni({visible:!(null==a||!a.isFirst)}),s=(0,l.wA)(),f=c((function(e){return e.globalSlice})),d=f.model,p=f.chatSessionId,m=ut().isFeatureEnabled,y=(0,n.useContext)(bs),v=y.feedbackShowStatus,g=y.feedbackShowType,h=y.handleChangeFeedbackShowStatus,b=y.handleFeedbackShowTypeStatus,A=Ps((0,n.useState)(1),2),E=A[0],S=A[1],w=Ps((0,n.useState)(void 0),2),O=w[0],j=w[1],I=function(){3!==v&&h(3),3!==E&&S(3)},k=function(){b(1),I(),C({type:1,content:""})},x=function(){b(2),I()},C=function(e){null==d||d.invokeAsync("saveMsgFeedback",xs(xs({id:p},e),{},{messageId:o}))},P=function(){var e=a.message.map((function(e){return e.data})).join("");Dr((null==i?void 0:i.reduce((function(e,t){return e+t.message.map((function(e){return e.data})).join("")}),e+"\n\n"))||e)},N=function(){var e,t,r=a.runStepStatusList,n=a.runId,i=a.id,o="",l="";(n&&(o=i,l=n),(null==r?void 0:r.length)>0)&&(o=null===(e=r[0])||void 0===e?void 0:e.id,l=null===(t=r[0])||void 0===t?void 0:t.runId);s(We({id:o,runId:l}))};(0,n.useEffect)((function(){a.feedback&&j(1===a.feedback.type)}),[a.feedback]),(0,n.useEffect)((function(){(1===v||2===v&&3===E)&&S(v)}),[v]);(0,n.useMemo)((function(){return a.message.map((function(e){return e.data})).join("")}),[a.message]);var L=m(["MAIN","HOMEPAGE","ASSISTANT"]);return n.createElement("div",{className:Ss},n.createElement(Li.Ay,{chatRole:"robot",avatarMeta:u,showToolBar:!1,data:[{type:"other"}],showTyping:!1,customerCardRender:function(e,o){return n.createElement(n.Fragment,null,n.createElement(Rs,{data:a,concatList:i,onCompleted:o}),a.cancelled?n.createElement("span",{style:{color:"#B2B2B2",fontSize:"12px"}},"已停止生成"):null,n.createElement("div",{className:ct()(ws,Cs({},Os,!r&&t))},n.createElement($o,{featureKey:["MAIN","HOMEPAGE","ASSISTANT","AGENT"],extraCondition:r},n.createElement(Xo,{skillInfo:a.skill})),n.createElement($o,{featureKey:["MAIN","HOMEPAGE","ASSISTANT","AGENT"],extraCondition:t},n.createElement(fi,{handleLike:L?k:void 0,handleDisLike:L?x:void 0,handleCopy:L?P:void 0,handleLog:m("AGENT")?N:void 0,isLike:O}))))}}),n.createElement(Io,{className:js,style:{marginLeft:m(["PLAYGROUND","CUSTOM"])?0:"".concat(32,"px")},showType:g,showStatus:E,handleSubmit:function(e){var t=e.feedbackShowType,r=e.reason,n=e.cb;void 0===r&&b(void 0),C({type:t?1:0,content:r||""}),null==n||n()}}))},Rs=n.memo((function(e){var t,r=e.data,a=e.concatList,i=e.onCompleted,o=(0,n.useMemo)((function(){return r.message.map((function(e){return e.data})).join("")}),[r.message]);return(0,n.useEffect)((function(){r.cancelled&&(null==i||i(!0))}),[r]),n.createElement(n.Fragment,null,(null==r||null===(t=r.runStepStatusList)||void 0===t?void 0:t.length)>0?n.createElement(ja,{key:null==r?void 0:r.id,list:r.runStepStatusList}):null,n.createElement($r,{content:o}),n.createElement(Ts,{cardData:r.card}),null==a?void 0:a.map((function(e){return n.createElement(Rs,{key:e.id,data:e})})))})),Ts=n.memo((function(e){var t=e.cardData,r=Id(t||[]),a=(0,n.useMemo)((function(){return t.filter((function(e){return"pic"===e.type})).map((function(e){return{src:e.value}}))}),[t]);return n.createElement(n.Fragment,null,r?r.map((function(e){switch(e.type){case"url":return n.createElement(Gf,{key:e.id,data:e});case"pic":return n.createElement(Xf,{key:e.id,url:null==e?void 0:e.value,imgList:a})}})):null)}));Ts.displayName="ChatAnswerCard",Rs.displayName="ChatAnswerContent";var Bs,Ms=n.memo(Ls),zs=(r(58712),r(62096),"htmlItem--EcXLw"),Ds=r(48452),Fs=r(98155),Hs=["svgRef","title"];function Qs(){return Qs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qs.apply(this,arguments)}function Us(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Ys,Js=function(e){var t=e.svgRef,r=e.title,a=Us(e,Hs);return n.createElement("svg",Qs({width:18,height:18,viewBox:"0 0 18 18",ref:t},a),r?n.createElement("title",null,r):null,Bs||(Bs=n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("circle",{fill:"#FFF",cx:9,cy:9,r:8}),n.createElement("path",{d:"M9 1a8 8 0 110 16A8 8 0 019 1zm2.954 4L9 7.954 6.046 5 5 6.046 7.954 9 5 11.954 6.046 13 9 10.045 11.954 13 13 11.954 10.045 9 13 6.046 11.954 5z",fill:"#666"}))))},Ws=n.forwardRef((function(e,t){return n.createElement(Js,Qs({svgRef:t},e))})),Gs=["svgRef","title"];function Xs(){return Xs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xs.apply(this,arguments)}function Vs(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Ks,Zs=function(e){var t=e.svgRef,r=e.title,a=Vs(e,Gs);return n.createElement("svg",Xs({width:18,height:18,viewBox:"0 0 18 18",ref:t},a),r?n.createElement("title",null,r):null,Ys||(Ys=n.createElement("path",{d:"M11.784 9.496l-5.64-5.648a.504.504 0 01-.001-.705.502.502 0 01.704.002l6.008 5.991c.19.191.196.515 0 .711l-5.998 6.008a.506.506 0 01-.71 0 .508.508 0 01-.001-.712l5.638-5.647z",fill:"#666",fillRule:"evenodd"})))},qs=n.forwardRef((function(e,t){return n.createElement(Zs,Xs({svgRef:t},e))})),_s=["svgRef","title"];function $s(){return $s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$s.apply(this,arguments)}function ef(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var tf,rf=function(e){var t=e.svgRef,r=e.title,a=ef(e,_s);return n.createElement("svg",$s({width:18,height:18,viewBox:"0 0 18 18",ref:t},a),r?n.createElement("title",null,r):null,Ks||(Ks=n.createElement("path",{d:"M6.216 9.496l5.64-5.648c.189-.19.195-.51.001-.705a.502.502 0 00-.704.002L5.145 9.136a.508.508 0 000 .711l5.998 6.008c.19.191.513.196.71 0a.508.508 0 00.001-.712L6.216 9.496z",fill:"#666",fillRule:"evenodd"})))},nf=n.forwardRef((function(e,t){return n.createElement(rf,$s({svgRef:t},e))})),af=["svgRef","title"];function of(){return of=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},of.apply(this,arguments)}function lf(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var cf,uf=function(e){var t=e.svgRef,r=e.title,a=lf(e,af);return n.createElement("svg",of({width:26,height:26,viewBox:"0 0 26 26",ref:t},a),r?n.createElement("title",null,r):null,tf||(tf=n.createElement("path",{d:"M11.5 1C17.299 1 22 5.701 22 11.5c0 2.72-1.034 5.198-2.73 7.063l4.73 4.73a.5.5 0 01-.707.707l-4.73-4.73A10.462 10.462 0 0111.5 22C5.701 22 1 17.299 1 11.5S5.701 1 11.5 1zm0 1a9.5 9.5 0 100 19 9.5 9.5 0 000-19zm0 5a.5.5 0 01.5.5V11h3.5a.5.5 0 110 1H12v3.5a.5.5 0 11-1 0V12H7.5a.5.5 0 110-1H11V7.5a.5.5 0 01.5-.5z",fill:"#666",fillRule:"evenodd"})))},sf=n.forwardRef((function(e,t){return n.createElement(uf,of({svgRef:t},e))})),ff=["svgRef","title"];function df(){return df=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},df.apply(this,arguments)}function pf(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var mf=function(e){var t=e.svgRef,r=e.title,a=pf(e,ff);return n.createElement("svg",df({width:26,height:26,viewBox:"0 0 26 26",ref:t},a),r?n.createElement("title",null,r):null,cf||(cf=n.createElement("path",{d:"M11.5 1C17.299 1 22 5.701 22 11.5c0 2.72-1.034 5.197-2.73 7.062l4.73 4.73a.5.5 0 01-.707.708l-4.73-4.73A10.462 10.462 0 0111.5 22C5.701 22 1 17.299 1 11.5S5.701 1 11.5 1zm0 1a9.5 9.5 0 100 19 9.5 9.5 0 000-19zm4 9a.5.5 0 110 1h-8a.5.5 0 110-1h8z",fill:"#666",fillRule:"evenodd"})))},yf=n.forwardRef((function(e,t){return n.createElement(mf,df({svgRef:t},e))})),vf="preview--_ijVl",gf="show--vs1q2",hf="preview-mask--NtUDY",bf="preview-wrap--QdWqJ",Af="preview-img--nKWuC",Ef="preview-action--Qo9Ng",Sf="preview-previous--AgGtx",wf="preview-next--lCwpD",Of="preview-zoomout--eBYXJ",jf="preview-zoomin--zeLvj",If="disabled--f9UHt",kf="preview-close--p1gd9";function xf(e){return xf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xf(e)}function Cf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Cf(Object(r),!0).forEach((function(t){Nf(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cf(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Nf(e,t,r){var n;return n=function(e,t){if("object"!=xf(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=xf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==xf(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Rf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rf(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rf(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Tf=function(e){var t=e.list,r=e.scales,a=void 0===r?[25,50,75,100,125,150,200]:r,i=e.visible,o=e.current,l=void 0===o?0:o,c=e.onClose,u=Lf(n.useState({}),2),s=u[0],f=u[1],d=Lf(n.useState(0),2),p=d[0],m=d[1],y=Lf(n.useState(1),2),v=y[0],g=y[1],h=a[a.length-1]/100,b=a[0]/100;(0,n.useEffect)((function(){t.length&&(f(t[l]),m(l))}),[t,l]),(0,n.useEffect)((function(){if(i){document.body.style.overflow="hidden";var e=(0,Ds.A)((function(e){if(e.wheelDelta>0){if(v>h)return;g(v+.1>h?h:v+.1)}else if(e.wheelDelta<0){if(v<b)return;g(v-.1<b?b:v-.1)}}),200);return document.addEventListener("mousewheel",e),function(){document.removeEventListener("mousewheel",e)}}document.body.style.overflow="",setTimeout((function(){g(1)}),200)}),[i,v]);var A=Pf(Pf({},s),{},{draggable:"false",className:Af,style:{transform:"scale3d(".concat(v,", ").concat(v,", 1)")},onClick:function(e){return e.stopPropagation()}});return(0,Bn.createPortal)(n.createElement("div",{className:ct()(vf,e.className,Nf({},gf,i))},n.createElement("div",{className:hf,onClick:c}),n.createElement("div",{className:bf,onClick:c},n.createElement("img",A)),n.createElement("div",{className:Ef,onClick:function(e){return e.stopPropagation()}},t.length?n.createElement("span",{className:ct()(Sf,Nf({},If,p<=0)),onClick:function(){p>0&&(m(p-1),f(t[p-1]),g(1))}},n.createElement(nf,null)):null,n.createElement("span",{className:Of,onClick:function(){var e=(0,Fs.A)(a,(function(e){return e/100<v}));void 0!==e&&g(e/100)}},n.createElement(yf,null)),n.createElement("span",{className:jf,onClick:function(){var e=a.find((function(e){return e/100>v}));void 0!==e&&g(e/100)}},n.createElement(sf,null)),t.length?n.createElement("span",{className:ct()(wf,Nf({},If,p>=t.length-1)),onClick:function(){p<t.length-1&&(m(p+1),f(t[p+1]),g(1))}},n.createElement(qs,null)):null),n.createElement("span",{className:kf,onClick:c},n.createElement(Ws,null))),document.body)};function Bf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Mf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mf(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mf(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var zf="CLICK_IMG";var Df=function(e){var t=e.value,r=(0,n.useRef)(null),a=Bf((0,n.useState)([]),2),i=a[0],o=a[1],l=Bf((0,n.useState)(0),2),c=l[0],u=l[1],s=Bf((0,n.useState)(!1),2),f=s[0],d=s[1],p=(0,n.useRef)((0,yt.A)()),m=(0,n.useMemo)((function(){return function(e){var t="\n    <html>\n      <head>\n          <style>\n            * {\n              margin: 0;\n            }\n            body {\n              height: auto;\n              min-height: 0;\n              padding-bottom: 8px;\n              overflow-y: hidden;\n            }\n            * ::-webkit-scrollbar {\n              width: 8px;\n              height: 8px;\n              overflow: visible;\n            }\n            * ::-webkit-scrollbar-thumb {\n              min-height: 28px;\n              height: 5px;\n              min-width: 2px;\n              width: 5px;\n              border-radius: 4px;\n              padding: 100px 0 0;\n              border: 1px dashed transparent;\n              background-color: #b2b2b2;\n              background-clip: padding-box;\n            }\n          </style>\n      </head>\n      <body>\n        ".concat(e,"\n        \n      </body>\n      <script>\n        document.querySelectorAll('img').forEach(img => {\n          img.addEventListener('click', function() {\n            const imageInfo = {\n              // src: this.src,\n              alt: this.alt,\n              dataId: this.getAttribute('data-id'),\n              iframeId: document.body.getAttribute('data-id')\n            };\n            // 使用 postMessage 发送消息给父页面\n            window.parent.postMessage({type: '").concat(zf,"', data: imageInfo}, '*');\n          });\n        });\n\n      <\/script>\n    </html>\n  "),r=new Blob([t],{type:"text/html"});return URL.createObjectURL(r)}(t)}),[t]),y=(0,n.useCallback)((function(e){if(e.origin===window.location.origin){var t=e.data,r=t.type,n=t.data;if(r===zf){var a=n.dataId;if(n.iframeId===p.current){d(!f);var o=i.findIndex((function(e){return e["data-id"]===a}));u(o>-1?o:0)}}}}),[i]);return(0,n.useEffect)((function(){return window.addEventListener("message",y),function(){window.removeEventListener("message",y)}}),[y]),n.createElement("div",{className:zs},n.createElement("iframe",{src:m,ref:r,onLoad:function(){if(r.current){var e=r.current.contentDocument;if(e){var t=e.body;t.setAttribute("data-id",p.current);var n=0;t.querySelectorAll("*").forEach((function(e){n=Math.max(n,e.getBoundingClientRect().bottom)})),r.current.style.height=n+"px";var a=e.querySelectorAll("img");a.length&&(a.forEach((function(e){return e.setAttribute("data-id",(0,yt.A)())})),o(Array.from(a).map((function(e,t){return{src:e.src,index:t,"data-id":e.getAttribute("data-id")}}))))}}}}),f?n.createElement(Tf,{list:i,visible:f,current:c,onClose:function(){d(!1)}}):null)},Ff=r(92711),Hf=r(82899),Qf=r(8160),Uf=r(57235);function Yf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Jf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jf(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jf(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Wf=n.memo((function(e){var t,r=e.data.value;return r?(t=(t=r).trim().slice(0,1e3),Ad.test(t)?n.createElement(Df,{value:r}):n.createElement(Ff.A,{content:r.replace(/[\r\n]+/g,"\n")})):null}));Wf.displayName="TextItem";var Gf=n.memo((function(e){var t=e.data,r=(0,l.d4)((function(e){return e.globalSlice.model})),a=(0,l.wA)();return n.createElement(Hf.A,{prefix:Ar[Pe[t.iconType].icon]?n.createElement("span",{className:ct()(br.iconTitle,Ar.iconcool,Ar[Pe[t.iconType].icon])}):null,content:t.title,onClick:function(){if(t.previewByCosmic)null==r||r.invokeAsync("preview",{content:t.value,name:t.title,type:t.type,fileId:t.fileId});else if("autoJump"===t.method)window.open(t.value);else if("backend"===t.method){var e,n=null!==(e=null==t?void 0:t.billPars)&&void 0!==e?e:null;null==r||r.invokeAsync("showForm",n)}else if("bizAction"===t.method){var i=t.value;if("newPage"===t.page&&(i=i.replace("bizAction://",location.origin+location.pathname),window.open(encodeURI(vt(i)))),"currentPage"===t.page){var o=ht(vt(t.value)),l=o.get("gaiShow"),c=o.get("gaiLock"),u=o.get("gaiAction"),s=o.get("gaiParams");l&&("0"===l&&a(w(!1)),"1"===l&&a(w(!0))),c&&("0"===c&&a(O(!1)),"1"===c&&a(O(!0))),u&&s&&(null==r||r.invokeAsync(u,JSON.parse(s)))}}},className:br.urlItem,suffix:t.order?"[".concat(t.order,"]"):null})}));Gf.displayName="UrlItem";var Xf=n.memo((function(e){var t=e.name,r=void 0===t?"":t,a=e.url,i=e.imgList,o=void 0===i?[]:i,l=(e.style,Yf((0,n.useState)(!1),2)),c=(l[0],l[1]),u=Yf((0,n.useState)(""),2),s=u[0],f=u[1],d=Yf((0,n.useState)(!1),2),p=(d[0],d[1],(0,n.useContext)(Xc).handleScrollToBottom),m=Yf((0,n.useState)(0),2);m[0],m[1];(0,n.useEffect)((function(){var e=new Image;e.onload=function(){f(a),c(!1),null==p||p()},e.onerror=function(){c(!0),f(""),null==p||p()},e.src=a}),[r,a]);return n.createElement(n.Fragment,null,n.createElement(Qf.A,{src:s,previewList:o.map((function(e){return e.src||e.fileUrl}))}))}));Xf.displayName="PicItem";var Vf=n.memo((function(e){var t=e.setContentFixed,r=e.data,a=(0,n.useContext)(Xc).handleScrollToBottom,i=(0,n.useRef)(null),o=(0,n.useRef)(null);(0,n.useEffect)((function(){var e=ht(r.value);if(e.get("gaiIframeSize")){var n=JSON.parse(e.get("gaiIframeSize"));"number"!=typeof n.height&&"string"!=typeof n.height||!i.current?i.current.height="300":i.current.height=n.height,"number"!=typeof n.width&&"string"!=typeof n.width||!i.current?(i.current.width="100%",t(!0)):i.current.width=n.width,"number"!=typeof n.padding&&"string"!=typeof n.padding||!o.current||o.current.style.setProperty("margin","0")}else t(!0),i.current.width="100%",i.current.height="300"}),[]);return n.createElement("div",{ref:o,className:br.iframeItem},n.createElement(Uf.A,{src:r.value,ref:i,onLoad:function(){if(i.current){null==a||a();var e=0;requestAnimationFrame((function t(){try{var r,n=null===(r=i.current)||void 0===r||null===(r=r.contentWindow)||void 0===r||null===(r=r.document)||void 0===r?void 0:r.querySelector("#_TrayMenu_");if(n)return void n.style.setProperty("display","none","important");requestAnimationFrame((function(){++e<1e3&&requestAnimationFrame(t)}))}catch(e){}}))}},scrolling:"no"}))}));Vf.displayName="IframeItem";var Kf=function(e){var t=e.setContentFixed,r=e.setCardStyle,a=e.data,i=e.concatList,o=e.feedback,l=e.isFirst;(0,n.useEffect)((function(){a.msgList.every((function(e){return"text"===e.type}))&&r("max-width","690px")}),[a]);var c=(0,n.useMemo)((function(){var e;return(null!==(e=null==a?void 0:a.msgList)&&void 0!==e?e:[]).filter((function(e){return"pic"===e.type})).map((function(e){return{src:e.value}}))}),[a]);return n.createElement(n.Fragment,null,n.createElement("div",{className:br.content},(Array.isArray(a.msgList)?Id(a.msgList):Id([])).map((function(e){return function(e){switch(e.type){case"text":return n.createElement(Wf,{key:e.id,data:e});case"url":return n.createElement(Gf,{key:e.id,data:e});case"pic":return n.createElement(Xf,{key:e.id,url:null==e?void 0:e.value,imgList:c});case"iframe":return n.createElement(Vf,{setContentFixed:t,key:e.id,data:e});default:return null}}(e)})),null==i?void 0:i.map((function(e){return n.createElement(Rs,{key:e.id,data:e,showBottomAction:!1,feedback:o,isFirst:l})}))))},Zf=n.memo(Kf);function qf(e){return qf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qf(e)}function _f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ed(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function td(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ed(Object(r),!0).forEach((function(t){rd(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ed(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function rd(e,t,r){var n;return n=function(e,t){if("object"!=qf(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=qf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==qf(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var nd="gai-userType",ad=function(e){return e.FILE_TEXT="txt",e.FILE_PDF="pdf",e.FILE_CSV="csv",e.FILE_XLS="xls",e.FILE_JSON="json",e}({});function id(e){return e.indexOf("image")>-1}var od=n.memo((function(e){var t=e.showDel,r=e.useAt,a=e.files,i=void 0===a?[]:a,o=e.style,l=e.canPreview,c=void 0!==l&&l;if(0===i.length)return null;var u=i.filter((function(e){return id(e.fileType||e.type)})).map((function(e){return td(td({},e),{},{src:null==e?void 0:e.previewUrl})})),s=i.filter((function(e){return!id((null==e?void 0:e.fileType)||e.type)})),f=n.useMemo((function(){return o?td({marginLeft:t?"12px":0},o):{marginLeft:t?"12px":0}}),[o,t]);return 0==i.length?null:n.createElement("div",{className:ct()(rd(rd({},bi["".concat(nd,"-wrapper")],!0),bi["".concat(nd,"-wrapper-ask")],"ask"===r)),style:f},s.map((function(e){var r,a=e.fileId,i=e.name,o=e.fileUrl,l=e.previewUrl,c=(e.type,e.status),u=md(i);return n.createElement(ld,{key:a,type:null!=u?u:"",name:i,url:null!==(r=l||o)&&void 0!==r?r:"",fileId:a,isImg:!1,showDel:t,status:null!=c?c:0})})),n.createElement("div",{className:bi["".concat(nd,"-imgRow")]},u.map((function(e){var r,a,i,o=e.fileId,l=e.name,s=e.fileUrl,f=e.previewUrl,d=e.type,p=e.status,m=null;return(null!==(r=null==e?void 0:e.fileType)&&void 0!==r?r:e.type).indexOf("image")>-1||(m=md(d)),n.createElement(ld,{isImg:!0,key:o,type:null!==(a=m)&&void 0!==a?a:"",name:l,url:null!==(i=f||s)&&void 0!==i?i:"",fileId:o,showDel:t,status:null!=p?p:1,canPreview:c,allImgs:u})}))))}));od.displayName="gai-attachment";var ld=n.memo((function(e){var t,r=e.type,a=e.url,i=e.name,o=e.fileId,l=e.isImg,c=e.status,u=e.showDel,s=e.canPreview,f=e.allImgs,d=ye("delFiles"),p=_f((0,n.useState)({visibility:"hidden"}),2),m=p[0],y=p[1];switch(r){case ad.FILE_PDF:t=mi;break;case ad.FILE_JSON:t=vi;break;case ad.FILE_TEXT:t=gi;break;case ad.FILE_CSV:t=yi;break;case ad.FILE_XLS:t=hi;break;default:t=mi}var v=null;return l?0===c?v=n.createElement("div",{className:bi["".concat(nd,"-loading")]},n.createElement(cr,null)):1===c?v=s?n.createElement(Xf,{url:a,imgList:null!=f?f:[],style:{maxHeight:"140px",cursor:"pointer",objectFit:"contain"}}):n.createElement(Xt,{url:a,isAvatar:!0,name:i,width:52,height:52,style:{borderRadius:"none",objectFit:"cover"}}):-1===c&&(v=n.createElement("div",{className:bi["".concat(nd,"-error")]},n.createElement(hr,null),n.createElement("div",null,"上传失败"))):0===c?v=n.createElement(cr,null):1===c?v=n.createElement(n.Fragment,null,n.createElement("img",{className:bi["".concat(nd,"-format")],src:t,alt:"file"}),n.createElement("div",{className:bi["".concat(nd,"-file-info")]},n.createElement("span",null,i))):-1===c&&(v=n.createElement(n.Fragment,null,n.createElement("div",null,n.createElement(hr,null)),n.createElement("div",{className:bi["".concat(nd,"-file-info")]},n.createElement("span",null,i)),n.createElement("span",{style:{color:"#ff0000",fontSize:"12px"}},"上传失败"))),n.createElement("div",{className:ct()(rd(rd(rd({},bi["".concat(nd,"-file-wrapper")],!l),bi["".concat(nd,"-img-wrapper")],l),bi["".concat(nd,"-file-error")],-1===c)),onMouseEnter:function(){y({visibility:"visible"})},onMouseLeave:function(){y({visibility:"hidden"})}},v,u?n.createElement("span",{onClick:function(){d({fileId:o})},style:m,className:ct()(bi["".concat(nd,"-del")],fr,dr)}):null)}));ld.displayName="gai-attachmentItem";function cd(e){return cd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cd(e)}function ud(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function sd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ud(Object(r),!0).forEach((function(t){fd(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ud(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function fd(e,t,r){var n;return n=function(e,t){if("object"!=cd(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=cd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==cd(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dd(e){return function(e){if(Array.isArray(e))return pd(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return pd(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pd(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pd(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function md(e){if(e){var t=e.lastIndexOf("."),r=e.substring(t+1);return r.indexOf("json")>-1?ad.FILE_JSON:r.indexOf("pdf")>-1?ad.FILE_PDF:r.indexOf("csv")>-1?ad.FILE_CSV:r.indexOf("txt")>-1?ad.FILE_TEXT:r.indexOf("xls")>-1?ad.FILE_XLS:void 0}}function yd(e){if(!Array.isArray(e))return function(){return[]};var t=0,r=0,n=dd(e);return function(e,a){if("reset"===a&&(t=0),"resetPrev"===a&&(t=r),r=t,!n.length)return[];for(var i=[],o=0;o<e;o++){var l=(t+o)%n.length;i.push(n[l])}return t=(t+e)%n.length,i}}function vd(e,t){return e.some((function(e){return t(e)}))}function gd(e){for(var t={type:"openQingGPT",data:e},r=window.frames,n=0;n<r.length;n++)r[n].postMessage(JSON.stringify(t),"*")}function hd(e,t){null==e||e.invokeAsync("showNotification",t)}function bd(e,t){hd(e,sd(sd({duration:-1},t),{},{method:"showErrorNotification"}))}var Ad=new RegExp(ot.A.map((function(e){return"<".concat(e,"\\b[^>]*>")})).join("|"),"i");function Ed(e){return Ed="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ed(e)}function Sd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function wd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Sd(Object(r),!0).forEach((function(t){Od(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sd(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Od(e,t,r){var n;return n=function(e,t){if("object"!=Ed(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Ed(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Ed(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var jd=function(e){var t={};return Object.keys(e).forEach((function(r,n){switch(r){case"chatSessionId":case"avatar":case"tabChangeTo":e[r]&&"string"==typeof e[r]&&(t[r]=e[r]);break;case"showIcon":case"switchSide":case"lockSide":e[r]&&"boolean"==typeof e[r]&&(t[r]=e[r]);break;case"assistantName":var a,i=null!==(a=null==e?void 0:e.slideEnv)&&void 0!==a?a:"";e[r]&&"string"==typeof e[r]&&(t[r]=function(e){return"AGENT"===e}(i)?"助手":e[r]);break;case"slideEnv":e[r]&&"string"==typeof e[r]&&r in["MAIN","PLAYGROUND","BOS","CUSTOM","AGENT","ASSISTANT","HOMEPAGE"]&&(t[r]=e[r]);break;case"selectedProcessId":!e[r]||"string"!=typeof e[r]&&"number"!=typeof e[r]||(t[r]=e[r]);break;case"chatUser":t[r]=e[r]}})),wd(wd({},e),t)},Id=function(e){for(var t=new Map,r=0;r<e.length;r++)if("url"===e[r].type){var n=e[r],a=n.value+n.title;t.has(a)||t.set(a,n)}else t.set(e[r].id,e[r]);return Array.from(t.values())};function kd(e){return kd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kd(e)}function xd(){xd=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var i=t&&t.prototype instanceof g?t:g,o=Object.create(i.prototype),l=new P(n||[]);return a(o,"_invoke",{value:I(e,r,l)}),o}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",p="suspendedYield",m="executing",y="completed",v={};function g(){}function h(){}function b(){}var A={};u(A,o,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(N([])));S&&S!==r&&n.call(S,o)&&(A=S);var w=b.prototype=g.prototype=Object.create(A);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function r(a,i,o,l){var c=f(e[a],e,i);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==kd(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,o,l)}),(function(e){r("throw",e,o,l)})):t.resolve(s).then((function(e){u.value=e,o(u)}),(function(e){return r("throw",e,o,l)}))}l(c.arg)}var i;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return i=i?i.then(a,a):a()}})}function I(t,r,n){var a=d;return function(i,o){if(a===m)throw new Error("Generator is already running");if(a===y){if("throw"===i)throw o;return{value:e,done:!0}}for(n.method=i,n.arg=o;;){var l=n.delegate;if(l){var c=k(l,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===d)throw a=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=y,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(a,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var o=i.arg;return o?o.done?(r[t.resultName]=o.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function N(t){if(t||""===t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(kd(t)+" is not iterable")}return h.prototype=b,a(w,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:h,configurable:!0}),h.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},t.awrap=function(e){return{__await:e}},O(j.prototype),u(j.prototype,l,(function(){return this})),t.AsyncIterator=j,t.async=function(e,r,n,a,i){void 0===i&&(i=Promise);var o=new j(s(e,r,n,a),i);return t.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},O(w),u(w,c,"Generator"),u(w,o,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=N,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return l.type="throw",l.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],l=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;C(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:N(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}var Cd=xd().mark(qd),Pd=xd().mark($d),Nd=xd().mark(tp),Ld=xd().mark(rp),Rd=xd().mark(np),Td=xd().mark(ap),Bd=xd().mark(ip),Md=xd().mark(op),zd=xd().mark(lp),Dd=xd().mark(cp),Fd=xd().mark(up),Hd=xd().mark(sp),Qd=xd().mark(fp),Ud=xd().mark(dp),Yd=xd().mark(pp),Jd=xd().mark(mp),Wd=xd().mark(yp),Gd=xd().mark(vp),Xd=xd().mark(gp);function Vd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Kd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vd(Object(r),!0).forEach((function(t){Zd(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vd(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Zd(e,t,r){var n;return n=function(e,t){if("object"!=kd(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=kd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==kd(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qd(e){var t;return xd().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,!(t=Kd({},e.payload))||!t.actionList){r.next=5;break}return r.next=5,(0,R.Q7)(t.actionList.map((function(e){return(0,R.T1)(rp,e)})));case 5:r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0);case 10:case"end":return r.stop()}}),Cd,null,[[0,7]])}var _d=function(e){e.subscribeData;var t=e.eventHandlers;return(0,o.Od)((function(e){var r=new window.WebSocket(Ze("9a06cf1d7d646453f682c5871dd3f768","3967192b4df049024bd87360749f0f8a")),n=(0,T.zH)(t,e);return r.onopen=function(e){!function(e){var t=it.getInstance(e);t.start()}(r)},r.onerror=n.onerror,r.onmessage=n.onmessage,r.close}))};function $d(e){var t,r;return xd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,R.T1)(_d,{subscribeData:{alskdjflsjf:"asdfa"},eventHandlers:{onmessage:function(e){return{type:"updateModel123",payload:Kd({},e)}},onerror:function(e){return{type:"balbala",payload:"asdfasdf"}}}});case 3:t=e.sent;case 4:return e.next=7,(0,R.s)(t);case 7:return r=e.sent,e.next=10,(0,R.yJ)(r);case 10:e.next=4;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0);case 17:case"end":return e.stop()}}),Pd,null,[[0,14]])}var ep=["chat","chatBottom","error","streamDone","waiting","waitingDone","runStepChat","multiMsg","userChat"];function tp(e){var t,r,n,a,i,o,l,c;return xd().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:if("production"!==Ce.DEVELOPMENT){u.next=2;break}return u.abrupt("return",!0);case 2:if(t=null==e?void 0:e.type,!(ep.indexOf(t)>-1)){u.next=20;break}return u.next=6,(0,R.Lt)((function(e){return{slideEnv:e.globalSlice.slideEnv,chatSessionId:e.globalSlice.chatSessionId}}));case 6:if(n=u.sent,a=n.slideEnv,i=n.chatSessionId,o=null==e?void 0:e.data,l=null!==(r=(null==o?void 0:o.chatSessionId)||(null==o?void 0:o.id))&&void 0!==r?r:"","MAIN"!==a&&"HOMEPAGE"!==a){u.next=17;break}return c=i===l,u.abrupt("return",c);case 17:case 20:return u.abrupt("return",!0);case 18:u.next=21;break;case 21:case"end":return u.stop()}}),Nd)}function rp(e){var t,r,n,a,i,o,l,c,u,s,f,d,p,m,y;return xd().wrap((function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,(0,R.T1)(tp,e);case 2:if(v.sent){v.next=6;break}return v.abrupt("return");case 6:v.prev=6,v.t0=e.type,v.next="initial"===v.t0?10:"changeConfig"===v.t0?13:"chat"===v.t0?16:"chatBottom"===v.t0?19:"error"===v.t0?22:"fakeOk"===v.t0?25:"streamDone"===v.t0?28:"waiting"===v.t0?31:"waitingDone"===v.t0?34:"runStepChat"===v.t0?37:"getChatItemList"===v.t0?40:"processList"===v.t0?43:"injectInfo"===v.t0?54:"getChatInfo"===v.t0?57:"forward"===v.t0?62:"confirmCard"===v.t0?65:"multiMsg"===v.t0?68:"userAgree"===v.t0?71:"saveFileResult"===v.t0?88:"initAgentPlayground"===v.t0?92:"getSkillList"===v.t0||"getTempSkillList"===v.t0?98:"queryTraceLogs"===v.t0?109:"getChatInfoList"===v.t0?112:"newChat"===v.t0?115:"userChat"===v.t0?118:"identifySkill"===v.t0?121:126;break;case 10:return v.next=12,(0,R.T1)(ap,Kd(Kd({},e.data),{},{type:e.type}));case 12:return v.abrupt("break",126);case 13:return v.next=15,(0,R.T1)(ap,Kd(Kd({},e.data),{},{type:e.type}));case 15:return v.abrupt("break",126);case 16:return v.next=18,(0,R.T1)(op,e.data);case 18:return v.abrupt("break",126);case 19:return v.next=21,(0,R.T1)(cp,e.data);case 21:return v.abrupt("break",126);case 22:return v.next=24,(0,R.T1)(mp,e.data);case 24:return v.abrupt("break",126);case 25:return v.next=27,(0,R.T1)(yp,e.data);case 27:return v.abrupt("break",126);case 28:return v.next=30,(0,R.T1)(sp,e.data);case 30:return v.abrupt("break",126);case 31:return v.next=33,(0,R.T1)(fp,e.data);case 33:return v.abrupt("break",126);case 34:return v.next=36,(0,R.T1)(dp);case 36:return v.abrupt("break",126);case 37:return v.next=39,(0,R.T1)(lp,e.data);case 39:return v.abrupt("break",126);case 40:return v.next=42,(0,R.T1)(vp,e.data);case 42:return v.abrupt("break",126);case 43:return r=e.data||[],v.next=46,(0,R.Lt)((function(e){return e.globalSlice}));case 46:if(n=v.sent,null==(a=n.currentSkill)||!a.id||r.find((function(e){return e.id===a.id}))){v.next=51;break}return v.next=51,(0,R.yJ)(I({}));case 51:return v.next=53,(0,R.yJ)(j(r));case 53:return v.abrupt("break",126);case 54:return v.next=56,(0,R.yJ)(je(e.data));case 56:return v.abrupt("break",126);case 57:return v.next=59,(0,R.yJ)(Se(e.data));case 59:return v.next=61,(0,R.yJ)(we(!0));case 61:return v.abrupt("break",126);case 62:return v.next=64,(0,R.T1)(pp,e.data);case 64:return v.abrupt("break",126);case 65:return v.next=67,(0,R.T1)(up,{type:e.type,data:e.data});case 67:return v.abrupt("break",126);case 68:return v.next=70,(0,R.T1)(up,{type:e.type,data:e.data});case 70:return v.abrupt("break",126);case 71:return i=e.data.userAgree,v.next=74,(0,R.yJ)(A(i));case 74:if(i){v.next=81;break}return v.next=77,(0,R.yJ)(ge({status:!1,taskId:"",flowId:"",stream:!1,waiting:!1,runId:""}));case 77:return v.next=79,(0,R.yJ)(x({id:""}));case 79:v.next=87;break;case 81:return v.next=83,(0,R.Lt)((function(e){return e.globalSlice}));case 83:o=v.sent,l=o.model,o.chatSessionId||null==l||l.invokeAsync("newChat",{});case 87:return v.abrupt("break",126);case 88:return v.next=91,(0,R.yJ)(Ie(e.data));case 91:return v.abrupt("break",126);case 92:return f=null!==(c=null===(u=e.data)||void 0===u?void 0:u.agent)&&void 0!==c?c:{suggestedAsks:[]},d=Kd(Kd({},f),{},{id:null==f?void 0:f.agentId,suggestedAsks:null==f||null===(s=f.questionList)||void 0===s?void 0:s.map((function(e){var t;return e?{name:null!==(t=null==e?void 0:e.value)&&void 0!==t?t:""}:{name:""}})),type:"agent"}),v.next=97,(0,R.yJ)(I(d));case 97:return v.abrupt("break",126);case 98:return p=e.data||[],v.next=101,(0,R.Lt)((function(e){return e.globalSlice}));case 101:if(m=v.sent,null==(y=m.currentSkill)||!y.id||p.find((function(e){return e.id===y.id}))){v.next=106;break}return v.next=106,(0,R.yJ)(I({}));case 106:return v.next=108,(0,R.yJ)(j(p));case 108:return v.abrupt("break",126);case 109:return v.next=111,(0,R.yJ)(ze(e.data));case 111:return v.abrupt("break",126);case 112:return v.next=114,(0,R.yJ)(Fe(e.data));case 114:return v.abrupt("break",126);case 115:return v.next=117,(0,R.T1)(np,e.data);case 117:return v.abrupt("break",126);case 118:return v.next=120,(0,R.yJ)(ge({runId:null===(t=e.data)||void 0===t?void 0:t.runId}));case 120:return v.abrupt("break",126);case 121:return v.next=123,(0,R.yJ)(P(e.data));case 123:return v.next=125,(0,R.T1)(ip,e.data);case 125:return v.abrupt("break",126);case 126:v.next=131;break;case 128:v.prev=128,v.t1=v.catch(6);case 131:case"end":return v.stop()}}),Ld,null,[[6,128]])}function np(e){return xd().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,R.yJ)(x(e));case 2:case"end":return t.stop()}}),Rd)}function ap(e){var t,r,n,a,i,o,l,c,u;return xd().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,R.Lt)((function(e){return e.globalSlice}));case 2:if(t=s.sent,r=t.selectedProcessId,n=t.model,a=t.slideEnv,i=t.isInited,o=e.slideEnv||a,l=jd(e),c="changeConfig"===e.type&&l.selectedProcessId&&l.selectedProcessId!==r,u="initial"===e.type&&!i&&("MAIN"===o&&e.showIcon||"MAIN"!==o),"MAIN"!==o&&"HOMEPAGE"!==o&&"ASSISTANT"!==o||!u&&!c){s.next=16;break}if("MAIN"===o||"HOMEPAGE"===o?n.invokeAsync("getSkillList",{id:e.chatSessionId}):n.invokeAsync("getTempSkillList",{id:e.chatSessionId}),!c){s.next=16;break}return s.next=16,(0,R.yJ)(S(!0));case 16:if("initial"!==e.type||i){s.next=19;break}return s.next=19,(0,R.yJ)(h(!0));case 19:return s.next=21,(0,R.yJ)(E(l));case 21:case"end":return s.stop()}}),Td)}function ip(e){return xd().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,R.yJ)(Wl(e));case 2:case"end":return t.stop()}}),Bd)}function op(e){return xd().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,R.yJ)(Bl(e));case 2:case"end":return t.stop()}}),Md)}function lp(e){return xd().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,R.yJ)(Ml(e));case 2:case"end":return t.stop()}}),zd)}function cp(e){return xd().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,R.yJ)(Fl(e));case 2:case"end":return t.stop()}}),Dd)}function up(e){return xd().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,R.yJ)(Dl(e));case 2:case"end":return t.stop()}}),Fd)}function sp(e){return xd().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,R.yJ)(Ql(e));case 2:case"end":return t.stop()}}),Hd)}function fp(e){return xd().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,R.yJ)(Hl(e));case 2:case"end":return t.stop()}}),Qd)}function dp(){return xd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.yJ)({type:"chatWaitingEndMiddleWareFilter",payload:null});case 2:case"end":return e.stop()}}),Ud)}function pp(e){return xd().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,R.yJ)(Jl(e));case 2:case"end":return t.stop()}}),Yd)}function mp(e){return xd().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,R.yJ)(Ul(e));case 2:case"end":return t.stop()}}),Jd)}function yp(e){return xd().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,R.yJ)(Yl(e));case 2:case"end":return t.stop()}}),Wd)}function vp(e){return xd().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,R.yJ)(zl(e));case 2:case"end":return t.stop()}}),Gd)}function gp(){return xd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.jP)("updateModel",qd);case 2:return e.next=4,(0,R.jP)("iat",$d);case 4:case"end":return e.stop()}}),Xd)}var hp=gp;function bp(e){return bp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bp(e)}function Ap(){Ap=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var i=t&&t.prototype instanceof g?t:g,o=Object.create(i.prototype),l=new P(n||[]);return a(o,"_invoke",{value:I(e,r,l)}),o}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",p="suspendedYield",m="executing",y="completed",v={};function g(){}function h(){}function b(){}var A={};u(A,o,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(N([])));S&&S!==r&&n.call(S,o)&&(A=S);var w=b.prototype=g.prototype=Object.create(A);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function r(a,i,o,l){var c=f(e[a],e,i);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==bp(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,o,l)}),(function(e){r("throw",e,o,l)})):t.resolve(s).then((function(e){u.value=e,o(u)}),(function(e){return r("throw",e,o,l)}))}l(c.arg)}var i;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return i=i?i.then(a,a):a()}})}function I(t,r,n){var a=d;return function(i,o){if(a===m)throw new Error("Generator is already running");if(a===y){if("throw"===i)throw o;return{value:e,done:!0}}for(n.method=i,n.arg=o;;){var l=n.delegate;if(l){var c=k(l,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===d)throw a=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var u=f(t,r,n);if("normal"===u.type){if(a=n.done?y:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=y,n.method="throw",n.arg=u.arg)}}}function k(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,k(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(a,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var o=i.arg;return o?o.done?(r[t.resultName]=o.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function N(t){if(t||""===t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(bp(t)+" is not iterable")}return h.prototype=b,a(w,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:h,configurable:!0}),h.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},t.awrap=function(e){return{__await:e}},O(j.prototype),u(j.prototype,l,(function(){return this})),t.AsyncIterator=j,t.async=function(e,r,n,a,i){void 0===i&&(i=Promise);var o=new j(s(e,r,n,a),i);return t.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},O(w),u(w,c,"Generator"),u(w,o,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=N,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return l.type="throw",l.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],l=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;C(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:N(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}var Ep=Ap().mark(kp),Sp=Ap().mark(xp);function wp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Op(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wp(Object(r),!0).forEach((function(t){jp(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wp(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function jp(e,t,r){var n;return n=function(e,t){if("object"!=bp(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=bp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==bp(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ip=function(e){var t=e.subscribeData,r=e.eventHandlers;return(0,o.Od)((function(e){var n=new window.WebSocket("ws://127.0.0.1:8088/chat/WS"),a=(0,T.zH)(r,e);return n.onopen=function(e){n.send(JSON.stringify(t))},n.onerror=a.onerror,n.onmessage=a.onmessage,n.close}))};function kp(e){var t,r,n,a,i,o,l,c,u,s,f,d,p,m,y,v,g,h,b,A,E,S,w,O,j,I,k,x,C,P,N,L,T,B,M;return Ap().wrap((function(z){for(;;)switch(z.prev=z.next){case 0:if(z.prev=0,"chat"!==(t=Op({},e.payload)).key&&"playgroundChat"!==t.key){z.next=14;break}return z.next=5,(0,R.T1)(Ip,{subscribeData:{type:t.key,payload:t.value},eventHandlers:{onmessage:function(e){return{type:"updateModel",payload:Op({},JSON.parse(e.data))}},onerror:function(e){JSON.parse(e);return{type:"errorMiddleWareFilter",payload:{id:"",desc:JSON.stringify(e),code:"asdfasdfsf"}}}}});case 5:r=z.sent;case 6:return z.next=9,(0,R.s)(r);case 9:return n=z.sent,z.next=12,(0,R.yJ)(n);case 12:z.next=6;break;case 14:if("getProcessList"!==t.key){z.next=21;break}return z.next=17,(0,R.T1)(ue.getProcessList,t);case 17:return a=z.sent,i=a.data,z.next=21,(0,R.yJ)({type:"updateModel",payload:Op({},i)});case 21:if("initial"!==t.key){z.next=28;break}return z.next=24,(0,R.T1)(ue.getInitialData,t);case 24:return o=z.sent,l=o.data,z.next=28,(0,R.yJ)({type:"updateModel",payload:Op({},l)});case 28:if("changeConfig"!==t.key){z.next=35;break}return z.next=31,(0,R.T1)(ue.changeConfig,t);case 31:return c=z.sent,u=c.data,z.next=35,(0,R.yJ)({type:"updateModel",payload:Op({},u)});case 35:if("getAgentList"!==t.key){z.next=42;break}return z.next=38,(0,R.T1)(ue.getAgentList,t);case 38:return s=z.sent,f=s.data,z.next=42,(0,R.yJ)({type:"updateModel",payload:Op({},f)});case 42:if("getSkillList"!==t.key){z.next=49;break}return z.next=45,(0,R.T1)(ue.getSkillList,t);case 45:return d=z.sent,p=d.data,z.next=49,(0,R.yJ)({type:"updateModel",payload:Op({},p)});case 49:if("getTempSkillList"!==t.key){z.next=56;break}return z.next=52,(0,R.T1)(ue.getTempSkillList,t);case 52:return m=z.sent,y=m.data,z.next=56,(0,R.yJ)({type:"updateModel",payload:Op({},y)});case 56:if("getChatInfo"!==t.key){z.next=63;break}return z.next=59,(0,R.T1)(ue.getChatInfo,t);case 59:return v=z.sent,g=v.data,z.next=63,(0,R.yJ)({type:"updateModel",payload:Op({},g)});case 63:if("getChatItemList"!==t.key){z.next=70;break}return z.next=66,(0,R.T1)(ue.getChatItemList,t);case 66:return h=z.sent,b=h.data,z.next=70,(0,R.yJ)({type:"updateModel",payload:Op({},b)});case 70:if("runStepChat"!==t.key){z.next=77;break}return z.next=73,(0,R.T1)(ue.runStepChat,t);case 73:return A=z.sent,E=A.data,z.next=77,(0,R.yJ)({type:"updateModel",payload:Op({},E)});case 77:if("runStepChatTest"!==t.key){z.next=84;break}return z.next=80,(0,R.T1)(ue.runStepChatTest,t);case 80:return S=z.sent,w=S.data,z.next=84,(0,R.yJ)({type:"updateModel",payload:Op({},w)});case 84:if("initAgentPlayground"!==t.key){z.next=91;break}return z.next=87,(0,R.T1)(ue.initAgentPlayground,t);case 87:return O=z.sent,j=O.data,z.next=91,(0,R.yJ)({type:"updateModel",payload:Op({},j)});case 91:if("newChat"!==t.key){z.next=98;break}return z.next=94,(0,R.T1)(ue.newChat,t);case 94:return I=z.sent,k=I.data,z.next=98,(0,R.yJ)({type:"updateModel",payload:Op({},k)});case 98:if("getChatInfoList"!==t.key){z.next=105;break}return z.next=101,(0,R.T1)(ue.getChatInfoList,t);case 101:return x=z.sent,C=x.data,z.next=105,(0,R.yJ)({type:"updateModel",payload:Op({},C)});case 105:if("userAgree"!==t.key){z.next=112;break}return z.next=108,(0,R.T1)(ue.userAgree,t);case 108:return P=z.sent,N=P.data,z.next=112,(0,R.yJ)({type:"updateModel",payload:Op({},N)});case 112:if("saveFile"!==t.key){z.next=119;break}return z.next=115,(0,R.T1)(ue.saveFile,t);case 115:return L=z.sent,T=L.data,z.next=119,(0,R.yJ)({type:"updateModel",payload:Op({},T)});case 119:if("queryTraceLogs"!==t.key){z.next=126;break}return z.next=122,(0,R.T1)(ue.queryTraceLogs,t);case 122:return B=z.sent,M=B.data,z.next=126,(0,R.yJ)({type:"updateModel",payload:Op({},M)});case 126:z.next=131;break;case 128:z.prev=128,z.t0=z.catch(0);case 131:case"end":return z.stop()}}),Ep,null,[[0,128]])}function xp(){return Ap().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.jP)("fakeInvokeData",kp);case 2:return e.next=4,(0,R.Q7)([(0,R.Zy)(hp)]);case 4:case"end":return e.stop()}}),Sp)}var Cp=xp,Pp=(0,i.Z0)({name:"process",initialState:{processList:[],selectedProcess:null,storageProcessId:null},reducers:{storageProcess:function(e,t){e.storageProcessId=t.payload},setProcessList:function(e,t){t.payload?(e.processList=t.payload,e.storageProcessId&&(t.payload.some((function(t){return t.id===e.storageProcessId}))&&(e.selectedProcess=t.payload.filter((function(t){return t.id===e.storageProcessId}))[0]),e.storageProcessId=null)):e.processList=[]},selectProcess:function(e,t){e.selectedProcess=e.processList.filter((function(e){return e.id===t.payload}))[0]},clearProcess:function(e){e.selectedProcess=null}}}),Np=Pp.actions,Lp=(Np.setProcessList,Np.storageProcess,Np.selectProcess,Np.clearProcess,Pp.reducer);r(2198);function Rp(e){return Rp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rp(e)}function Tp(e){return function(e){if(Array.isArray(e))return Bp(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Bp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bp(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bp(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Mp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function zp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Mp(Object(r),!0).forEach((function(t){Dp(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mp(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Dp(e,t,r){var n;return n=function(e,t){if("object"!=Rp(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Rp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Rp(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Fp={status:!1,taskId:"",flowId:"",stream:!1,waiting:!1,runId:""};function Hp(e){e(ge({waiting:!1}))}function Qp(e){var t=e.action,r=e.next,n=e.store,a=t.payload,i=a.message,o=a.annotations,l=a.type,c=a.skill;if(0!==l){var u=Nt.parseTag({actionList:[{data:{message:i,annotations:o}}]}),s=Nt.getMarkDownFormat(u);!function(e){var t=e.action,r=e.next,n=e.store,a=n.getState().chatSlice,i=n.getState().globalSlice,o=t.payload;Hp(r);var l=o.stream,c={status:l,taskId:o.taskId,flowId:o.flowId,stream:l,runId:null==o?void 0:o.runId,waiting:!1,isRunStepLoading:!1},u=Yp(a.chatList,o.taskId),s=a.chatList.concat();if(u)"done"===u.status||"error"===u.status?c=zp({},Fp):s=s.map((function(e){if(e===u){var t=i.identifySkillId?i.skillList.find((function(e){return e.id===i.identifySkillId})):void 0;return!e.skill&&t&&(e.skill=t),-1===e.message.findIndex((function(e){return e.index===o.index}))?zp(zp({},e),{},{message:e.message.concat({index:o.index,data:o.message}).sort((function(e,t){return e.index-t.index}))}):e}return e}));else{var f=!1;if(o.concatLast){var d=Lt(a.chatList,(function(e){return"ask"===e.type})),p=Lt(a.chatList,(function(e){return"card"===e.type&&e.id!==o.taskId&&"multiMsg"===e.data.type})),m=Lt(a.chatList,(function(e){return"answer"===e.type&&e.id!==o.taskId&&!e.spliced})),y=0;-1===m&&-1===p||d<(y=Math.max(m,p))&&(f=!0,s=s.map((function(e,t){return"answer"!==e.type&&"card"!==e.type||t!==y?e:zp(zp({},e),{},{concatList:e.concatList.concat(o.taskId),messageId:e.messageId})})))}var v=i.currentSkill.id?i.currentSkill:i.identifySkillId?i.skillList.find((function(e){return e.id===i.identifySkillId})):void 0,g={type:"answer",id:o.taskId,messageId:o.messageId,status:l?"chat":"done",spliced:f,concatList:[],message:[{index:o.index,data:o.message}],card:[],runStepStatusList:[],skill:v,runId:o.runId},h=Jp(a.chatList);h&&(g=zp(zp({},g),h)),s=s.concat(g)}r(he(s)),r(ge(c))}({action:zp(zp({},t),{},{payload:zp(zp({},t.payload),{},{message:s})}),next:r,store:n})}else!function(e){var t=e.message,r=e.annotations,n=e.next,a=e.store,i=e.skill,o=a.getState().globalSlice,l=o.model,c=o.chatSessionId,u=o.currentSkill,s=[],f="";if(t){var d,p=Tt(t,r);null==p||null===(d=p.filter((function(e){return"string"!=typeof e&&("gaiimg"===e.gaitag||"gaifile"===e.gaitag)})))||void 0===d||d.forEach((function(e){var t=e.fileUrl,r=e.fileType,n=e.previewUrl,a=(e.url,e.gaitag,e.id),i=e.fileSize,o=e.name;s.push({fileId:String(a),fileUrl:t,previewUrl:n,fileType:r,size:i||0,status:1,name:o})})),f=p.filter((function(e){return e&&"string"==typeof e}))[0]}var m=[{role:"user",content:f}],y=Pt(s),v="".concat(f).concat(y),g=(null==i?void 0:i.id)||(null==u?void 0:u.id)||"",h=(null==i?void 0:i.type)||(null==u?void 0:u.type)||"";n(Ee({content:f,message:m.map((function(e){return zp({},e)})),id:(0,yt.A)(),files:s})),null==l||l.invokeAsync("chat",{id:c,stream:!0,length:v.length,input:v,skillId:g,skillType:h})}({message:i,annotations:o,next:r,store:n,skill:c})}function Up(e){e(ge(zp({},Fp)))}function Yp(e,t){return e.find((function(e){return e.id===t&&"answer"===e.type}))}function Jp(e,t){var r=Lt(e,(function(e){return"ask"===(null==e?void 0:e.type)})),n=e.length-1===r;return n?{isFirst:n}:null}function Wp(e){var t=e.action,r=e.next,n=e.store,a=n.getState().chatSlice,i=n.getState().globalSlice,o=t.payload,l=Yp(a.chatList,o.taskId);if(l){var c=a.chatList.map((function(e){return e===l?zp(zp({},e),{},{status:"done",messageId:o.messageId}):e}));r(he(c))}var u=zp(zp({},Fp),{},{runId:""});"PLAYGROUND"!==i.slideEnv&&(u=zp(zp({},u),{},{stream:!1,status:!0,waiting:!1})),r(ge(u))}function Gp(e){var t=e.action,r=e.next,n=e.store,a=n.getState().chatSlice,i=n.getState().globalSlice,o=t.payload,l=a.isChat,c=Yp(a.chatList,l.taskId),u=a.chatList.concat();if(o&&"gai.llm.message.replace"===(null==o?void 0:o.code)){var s=i.currentSkill.id?i.currentSkill:i.identifySkillId?i.skillList.find((function(e){return e.id===i.identifySkillId})):void 0,f=(null==o?void 0:o.desc)||"";return c?(c=zp(zp({},c),{},{message:[{index:0,data:f}]}),u.splice(u.length-1,1,c)):(c={type:"answer",id:(null==o?void 0:o.taskId)||(0,yt.A)(),messageId:(null==o?void 0:o.messageId)||(0,yt.A)(),status:"done",spliced:!1,concatList:[],message:[{index:0,data:f}],card:[],runStepStatusList:[],skill:s,isFirst:!0,runId:(null==o?void 0:o.runId)||(0,yt.A)()},u.push(c)),r(he(u)),void Up(r)}c&&(u=u.map((function(e){return e===c?zp(zp({},e),{},{status:"error"}):e})));var d,p=(d="你可难到我了，要不试试其他问题吧。",{type:"answer",id:(0,yt.A)(),status:"done",spliced:!1,concatList:[],message:[{index:0,data:d}],card:[]});if(Object.prototype.hasOwnProperty.call(o,"code")){var m=o.code;p=("string"==typeof m&&m.startsWith("gai.llm"),{type:"error",id:(0,yt.A)(),data:o})}else p={type:"error",id:(0,yt.A)(),data:o};Lt(u,(function(e){return"ask"===e.type}))>-1&&(p=zp({},p)),u=u.concat(p),r(he(u)),Up(r)}var Xp=function(e){return function(t){return function(r){var n={action:r,next:t,store:e};switch(r.type){case"chatStartMiddleWareFilter":!function(e){var t=e.next,r=zp(zp({},Fp),{},{waiting:!0,status:!0});t(ge(r))}(n);break;case"chatMiddleWareFilter":Qp(n);break;case"chatAnswerCardMiddleWareFilter":!function(e){var t=e.action,r=e.next,n=e.store.getState().chatSlice,a=t.payload,i=Yp(n.chatList,a.taskId);if(i)if("error"===i.status)Up(r);else{var o=n.chatList.map((function(e){return e===i?zp(zp({},e),{},{card:e.card.concat(t.payload.fileList.map((function(e){if("pic"===e.type)return{id:(0,yt.A)(),type:e.type,value:e.content};var t=gt(e.content);return zp(zp({id:(0,yt.A)()},t),{},{title:e.name,order:e.order,previewByCosmic:e.previewByCosmic,fileId:e.fileId,iconType:e.type in Pe?e.type:"default"})})))}):e}));r(he(o))}}(n);break;case"cardMiddleWareFilter":!function(e){var t=e.action,r=e.next,n=e.store,a=n.getState().chatSlice,i=n.getState().globalSlice,o=t.payload;if(Hp(r),"multiMsg"===o.type){var l=a.chatList.concat();if(o.data.replaceLast){var c=Lt(l,(function(e){return"ask"===e.type})),u=Lt(l,(function(e){return"card"===e.type&&"multiMsg"===e.data.type}));(-1!==c&&-1!==u&&c<u||-1===c&&-1!==u)&&(l=l.filter((function(e,t){return t!==u})))}var s=[],f={msgList:o.data.msgList.map((function(e){var t=(0,yt.A)();if("url"===e.type){var r=gt(e.value);return"recommend"===r.method?(s.push({id:t,action:"jump",value:r.value,page:r.page,title:r.title}),zp(zp({},r),{},{id:t,type:"special"})):zp(zp({},r),{},{id:t})}return zp(zp({},e),{},{id:t})}))};if(r(Ae(s)),!f.msgList.every((function(e){return"special"===e.type}))){var d,p=i.currentSkill.id?i.currentSkill:void 0,m={id:(0,yt.A)(),messageId:null===(d=t.payload.data)||void 0===d?void 0:d.messageId,concatList:[],type:"card",data:{type:t.payload.type,data:f},skill:p},y=Jp(l);y&&(m=zp(zp({},m),y)),l=l.concat(m),r(he(l))}}else{var v,g={type:"card",id:(0,yt.A)(),messageId:null===(v=t.payload)||void 0===v||null===(v=v.data)||void 0===v?void 0:v.messageId,concatList:[],data:t.payload},h=a.chatList.concat(g),b=Jp(h);b&&(g=zp(zp({},g),b)),r(he(h))}var A=zp(zp({},Fp),{},{status:!0});r(ge(A))}(n);break;case"streamDoneMiddleWareFilter":case"chatStopMiddleWareFilter":Wp(n);break;case"chatDoneMiddleWareFilter":!function(e){var t=e.action,r=e.next,n=e.store,a=n.getState().chatSlice,i=(n.getState().globalSlice,t.payload),o=Yp(a.chatList,i.taskId);if(o){var l=a.chatList.map((function(e){return e===o?zp(zp({},e),{},{status:"done"}):e}));r(he(l))}var c=zp({},Fp);r(ge(c))}(n);break;case"chatWaitingStartMiddleWareFilter":!function(e){var t=e.action,r=e.next,n=e.store,a=t.payload,i=zp(zp({},n.getState().chatSlice.isChat),{},{status:!0,flowId:a&&a.flowId&&a.flowId.length>0?a.flowId:"",taskId:a&&a.taskId&&a.taskId.length>0?a.taskId:"",waiting:!0});r(ge(i))}(n);break;case"chatWaitingEndMiddleWareFilter":!function(e){var t=e.next,r=e.store,n=r.getState().chatSlice,a=n.isChat,i=Yp(n.chatList,a.taskId);if(i&&"chat"===i.status){var o=n.chatList.map((function(e){return e===i?zp(zp({},e),{},{status:"done"}):e}));t(he(o))}Up(t),n.chatList.length<=2&&r.getState().globalSlice.sideMode}(n);break;case"errorMiddleWareFilter":Gp(n);break;case"forwardMiddleWareFilter":!function(e){var t,r=e.action,n=e.next;null===(t=e.store.getState().globalSlice.model)||void 0===t||t.invokeAsync("forward",r.payload),n(r)}(n);break;case"fakeOkMiddleWareFilter":!function(e){var t=e.action,r=e.next,n=e.store.getState().chatSlice.chatList;r(he([].concat(Tp(n),[{type:"fakeOk",id:(0,yt.A)(),data:t.payload}]))),Up(r)}(n);break;case"chatHistoryMiddleWareFilter":!function(e){var t,r=e.action,n=e.next,a=(e.store.getState().chatSlice,[]),i=r.payload,o=null!==(t=null==i?void 0:i.list)&&void 0!==t?t:[],l={};o.forEach((function(e,t){var r=e.type,n=e.message,i=e.annotations,c=(e.config,e.feedback),u=e.taskId,s=e.id,f=e.runStepMessageList,d=e.messageId,p=e.skill,m=e.cancelled;if(0===r){var y=Nt.parseTag({actionList:[{data:{message:n,annotations:i}}]}),v=y.filter((function(e){return"string"==typeof e&&e})),g=y.filter((function(e){return"object"===Rp(e)&&(e.gaitag===kt.GAIIMG||e.gaitag===kt.GAIFILE)})).map((function(e){return e&&(e.status=1),e})),h=null==v?void 0:v[0];if(l={type:"ask",message:[{role:"user",content:h}],files:g,id:s,content:h,originType:0},a.push(l),!0===m){if(!o[t+1]||o[t+1]&&0===o[t+1].type){var b={type:"answer",message:[{data:"任务已取消",index:1}],id:(0,yt.A)(),card:[],concatList:[],runStepStatusList:[],messageId:void 0,originType:1,status:"done",isFirst:!0};a.push(b)}o[t+1]&&0!==o[t+1].type&&(o[t+1].cancelled=!0)}}else if(1===r||3===r){var A,E,S=Tt(n,i),w=null!==(A=null==e?void 0:e.config)&&void 0!==A?A:{replaceLast:!1,concatLast:1===(null==S?void 0:S.length)&&"gairepodoc"===(null===(E=S[0])||void 0===E?void 0:E.gaitag)},O=w.replaceLast,j=w.concatLast;if(O){var I=Lt(a,(function(e){return"answer"===e.type&&3===e.originType}));I>-1&&a.splice(I,1)}if(j){var k=Lt(a,(function(e){return"ask"===e.type})),x=Lt(a,(function(e){return"answer"===e.type}));if(-1!=x&&-1!==k&&k<x){var C=a[x],P="";n&&(P=Rt(n,i)),C=zp(zp({},C),{},{messageId:C.messageId+","+d,message:[{data:C.message[0].data+"\n\n"+P,index:C.message[0].index}]}),a.splice(x,1,C)}return}var N=[];(null==f?void 0:f.length)>0&&(f.forEach((function(e){var t=Rt(null==e?void 0:e.message,null==e?void 0:e.annotations,"runStepStatus");t&&(e.message=t)})),N=f);var L="";n&&(L=Rt(n,i)),l={type:"answer",message:[{data:L,index:1}],id:u,card:[],concatList:[],runStepStatusList:N,messageId:d,originType:r,feedback:c,skill:p,status:"done"},a.push(l)}})),function(e){var t=e.length;e.forEach((function(r,n){if("ask"===r.type){var a=n+1;a<t&&(e[a].isFirst=!0)}}))}(a),a.length>0&&n(C(!0)),n(he({chatList:a,chatType:"chatHistory"})),n(Xe(!1))}(n);break;case"runStepStatusMiddlewareFilter":!function(e){var t=e.action,r=e.next,n=e.store,a=n.getState().globalSlice;Hp(r);var i=n.getState().chatSlice,o=i.chatList,l=t.payload,c=l.message,u=l.annotations,s=l.taskId,f=null==l?void 0:l.runId,d=o[o.length-1],p="ask"===d.type,m=Yp(o,s);if(p||m){var y=o.concat(),v="";if(c){var g=Nt.parseTag({actionList:[{data:{message:c,annotations:u}}],type:"runStepStatus"});v=Nt.getMarkDownFormat(g)}var h=a.currentSkill.id?a.currentSkill:a.identifySkillId?a.skillList.find((function(e){return e.id===a.identifySkillId})):void 0;if("ask"===d.type){var b=Jp(i.chatList),A={type:"answer",id:s,status:"chat",spliced:!1,concatList:[],message:[],card:[],runStepStatusList:[zp(zp({},l),{},{message:v})],skill:h};b&&(A=zp(zp({},A),b)),y=y.concat(A)}else{var E=m.runStepStatusList.concat(),S=l.runStepId;if(l.taskId,l.runId,E.filter((function(e){return e.runStepId===S})).length>0){var w=E.findIndex((function(e){return e.runStepId===S}));w>-1&&E.splice(w,1,zp(zp({},l),{},{message:v}));var O=zp(zp({},m),{},{runStepStatusList:E,skill:h}),j=y.findIndex((function(e){return e.id===O.id}));y.splice(j,1,O)}else{E=E.concat([zp(zp({},l),{},{message:v})]);var I=zp(zp({},m),{},{runStepStatusList:E,skill:h});y.splice(y.length-1,1,I)}}r(he(y));var k=zp(zp({},Fp),{},{runId:f,status:!0,isRunStepLoading:!0});r(ge(k))}}(n);break;case"identifySkillMiddleWareFilter":!function(e){e.action;var t=e.next,r=e.store.getState().chatSlice,n=null==r?void 0:r.chatList.slice(),a=n.length-1,i=Lt(n,(function(e){return"ask"===e.type})),o=Lt(n,(function(e){return"answer"===e.type}));i&&o&&i<o&&(zp(zp({},n[a]),{},{message:[]}),n.splice(a,1));t(he(n))}(n);break;default:t(r)}}}};var Vp,Kp=r(61149),Zp="yinlibo--DpXQ7",qp="gai-xiaok--us1Kn",_p="newPage--j34hv",$p=["svgRef","title"];function em(){return em=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},em.apply(this,arguments)}function tm(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var rm,nm=function(e){var t=e.svgRef,r=e.title,a=tm(e,$p);return n.createElement("svg",em({width:20,height:20,viewBox:"0 0 20 20",ref:t},a),r?n.createElement("title",null,r):null,Vp||(Vp=n.createElement("path",{d:"M2 9a.5.5 0 01.5.5v1a.5.5 0 01-.199.4 7.75 7.75 0 0014.543 2.737.639.639 0 01.531-.287.625.625 0 01.563.896l-.042.072.031-.057-.134.241a9.001 9.001 0 01-16.74-3.501L1 11a.5.5 0 01-.5-.5v-1A.5.5 0 011 9h1zm5.667 0a.5.5 0 01.5.5v1a.5.5 0 01-.5.5h-1a.5.5 0 01-.5-.5v-1a.5.5 0 01.5-.5h1zm5.666 0a.5.5 0 01.5.5v1a.5.5 0 01-.5.5h-1a.5.5 0 01-.5-.5v-1a.5.5 0 01.5-.5h1zM10 1c4.633 0 8.448 3.5 8.945 8H19a.5.5 0 01.5.5v1a.5.5 0 01-.5.5h-1a.5.5 0 01-.5-.5v-1a.5.5 0 01.2-.4A7.755 7.755 0 0010 2.25a7.749 7.749 0 00-6.849 4.12.625.625 0 01-1.087-.619A8.999 8.999 0 0110 1z",fill:"#666",fillRule:"evenodd"})))},am=n.forwardRef((function(e,t){return n.createElement(nm,em({svgRef:t},e))})),im=["svgRef","title"];function om(){return om=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},om.apply(this,arguments)}function lm(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var cm,um=function(e){var t=e.svgRef,r=e.title,a=lm(e,im);return n.createElement("svg",om({width:20,height:20,viewBox:"0 0 20 20",ref:t},a),r?n.createElement("title",null,r):null,rm||(rm=n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{d:"M10 1a9 9 0 019 8.906V10a.633.633 0 01-.625.55.625.625 0 01-.625-.625l.005.075A7.757 7.757 0 0010 2.25a7.749 7.749 0 00-6.849 4.12.625.625 0 01-1.087-.619A8.999 8.999 0 0110 1z",fill:"#A06EFF"}),n.createElement("path",{d:"M9.999 19a9 9 0 01-8.976-8.337l-.001-.013a.565.565 0 01-.002-.025l-.006-.106.01-.001a.618.618 0 01.558-.52c.343-.035.65.198.683.521a7.752 7.752 0 0014.579 3.118.639.639 0 01.531-.287.625.625 0 01.518.975l.042-.077A8.998 8.998 0 0110 19z",fill:"#2386EE"}),n.createElement("path",{d:"M6.667 9h1a.5.5 0 01.5.5v1a.5.5 0 01-.5.5h-1a.5.5 0 01-.5-.5v-1a.5.5 0 01.5-.5z",fill:"#00CCFE"}),n.createElement("path",{d:"M1 9h1a.5.5 0 01.5.5v1a.5.5 0 01-.5.5H1a.5.5 0 01-.5-.5v-1A.5.5 0 011 9z",fill:"#2386EE"}),n.createElement("path",{d:"M12.333 9h1a.5.5 0 01.5.5v1a.5.5 0 01-.5.5h-1a.5.5 0 01-.5-.5v-1a.5.5 0 01.5-.5z",fill:"#05C8C8"}),n.createElement("path",{d:"M18 9h1a.5.5 0 01.5.5v1a.5.5 0 01-.5.5h-1a.5.5 0 01-.5-.5v-1A.5.5 0 0118 9z",fill:"#A06EFF"}))))},sm=n.forwardRef((function(e,t){return n.createElement(um,om({svgRef:t},e))})),fm={gptRobot:"gptRobot--Hkqxu",gptBox:"gptBox--WSZ7c",fixedAssistant:"fixedAssistant--Yu0WA",marginLeft420:"marginLeft420--QYsCv",notFixedAssistant:"notFixedAssistant--LH8oB",marginLeft0:"marginLeft0--xIk0e",floatingWindowHeader:"floatingWindowHeader--G5YIl",notTop:"notTop--QZcoH",floatingWindowHeader_title:"floatingWindowHeader_title--WKOI3",title:"title--Ll8Ux",show:"show--I4t_t",text:"text--EeSCw",headerLeftOperate:"headerLeftOperate--PlSmj",headerRightOperate:"headerRightOperate--XUyRd",operateBtn:"operateBtn--B7KlM",floatingWindowBody:"floatingWindowBody--GLks8",floatingWindowFooter:"floatingWindowFooter--QYu3t",footerContent:"footerContent--KWmi4",agreement:"agreement--QIcTL",mask:"mask--wA_Wc",hide:"hide--gQC8i"},dm=(r(83954),["svgRef","title"]);function pm(){return pm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pm.apply(this,arguments)}function mm(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var ym,vm=function(e){var t=e.svgRef,r=e.title,a=mm(e,dm);return n.createElement("svg",pm({width:16,height:16,viewBox:"0 0 16 16",ref:t},a),r?n.createElement("title",null,r):null,cm||(cm=n.createElement("path",{d:"M13.978 9.509a.522.522 0 00-.523.522v3.424h-3.424a.522.522 0 000 1.045h3.947a.522.522 0 00.522-.522V10.03a.522.522 0 00-.522-.522zM5.968 1.5H2.023a.522.522 0 00-.522.522V5.97a.522.522 0 101.045 0V2.545h3.424a.522.522 0 000-1.045zm8.01 0H10.03a.522.522 0 100 1.045h2.686L9.662 5.599a.522.522 0 00.739.739l3.054-3.055V5.97a.522.522 0 001.045 0V2.022a.522.522 0 00-.522-.522zm-8.01 8.009a.52.52 0 00-.369.153l-3.054 3.055V10.03a.522.522 0 10-1.045 0v3.947c0 .288.234.522.522.522H5.97a.522.522 0 000-1.045H3.283l3.055-3.054a.522.522 0 00-.37-.892z",fill:"#666",fillRule:"nonzero"})))},gm=n.forwardRef((function(e,t){return n.createElement(vm,pm({svgRef:t},e))})),hm=["svgRef","title"];function bm(){return bm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bm.apply(this,arguments)}function Am(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Em,Sm=function(e){var t=e.svgRef,r=e.title,a=Am(e,hm);return n.createElement("svg",bm({width:16,height:16,viewBox:"0 0 16 16",ref:t},a),r?n.createElement("title",null,r):null,ym||(ym=n.createElement("path",{d:"M6.452 1.5a.5.5 0 00-.5.5l.001 3.899L2 5.9a.5.5 0 00-.5.5v.1A.5.5 0 002 7h4.442a.51.51 0 00.01 0H6.5a.5.5 0 00.5-.5V2a.5.5 0 00-.5-.5h-.048zm3.096 0a.5.5 0 01.5.5l-.001 3.899L14 5.9a.5.5 0 01.5.5v.1a.5.5 0 01-.5.5H9.558a.51.51 0 01-.01 0H9.5a.5.5 0 01-.5-.5V2a.5.5 0 01.5-.5h.048zm-3.096 13a.5.5 0 01-.5-.5l.001-3.899L2 10.1a.5.5 0 01-.5-.5v-.1A.5.5 0 012 9h4.442a.51.51 0 01.01 0H6.5a.5.5 0 01.5.5V14a.5.5 0 01-.5.5h-.048zm3.096 0a.5.5 0 00.5-.5l-.001-3.899L14 10.1a.5.5 0 00.5-.5v-.1A.5.5 0 0014 9H9.558a.51.51 0 00-.01 0H9.5a.5.5 0 00-.5.5V14a.5.5 0 00.5.5h.048z",fill:"#666",fillRule:"evenodd"})))},wm=n.forwardRef((function(e,t){return n.createElement(Sm,bm({svgRef:t},e))})),Om={operatingArea:"operatingArea--cKMM8",headerOperateLeft:"headerOperateLeft--wfCTy"},jm=function(e){var t=e.isFullScreen,r=e.setFixed,a=(0,l.wA)();return n.createElement(da,{type:"linear",active:t,onClick:function(){a(r(!1)),a(k(!t))},title:t?"取消全屏":"全屏"},t?n.createElement(wm,null):n.createElement(gm,null))},Im=function(e){var t=e.action;return n.createElement(da,{onClick:function(){t()},type:"linear",title:"关闭"},n.createElement(po,null))},km=function(e){var t=e.fixed,r=e.switchSide,a=e.setFixed,i=e.action,o=e.handleUnLock,c=(0,l.wA)();(0,n.useEffect)((function(){u()}),[t,r]);var u=function(){var e,n,a;r?(t?(e=document.getElementById("tabap"),n=document.getElementsByClassName("kd-cq-application-center"),(a=document.getElementsByClassName("kdesigner-kdesigner-root")).length>0?(a[0],window.designerRightSlotWidth="421px"):(e&&(e.style.setProperty("width","calc(100% - 421px)","important"),e.style.setProperty("flex-grow","0","important")),n.length>0&&n[0].style.setProperty("width","100%","important"))):o(),i(t)):o()};return n.createElement(da,{onClick:function(){return c(a(!t))},type:"linear",style:{transform:t?"rotate(-45deg)":"rotate(0deg)"},title:t?"取消固定":"固定",active:t},n.createElement(Lo,null))},xm=(0,l.Ng)((function(e){return{switchSide:e.globalSlice.switchSide,lockSide:e.globalSlice.lockSide}}))((function(e){var t=e.defaultFixed,r=e.switchSide,a=e.lockSide,i=e.handleClose,o=e.handleResize,c=(0,l.d4)((function(e){return e.globalSlice.isFullScreen}));(0,n.useEffect)((function(){O(t)}),[t]),(0,n.useEffect)((function(){r||O(!1)}),[r]);var u=function(){var e=document.getElementById("tabap"),t=document.getElementsByClassName("kd-cq-application-center"),r=document.getElementsByClassName("kdesigner-kdesigner-root");if(r.length>0){r[0];window.designerRightSlotWidth="0px"}else{if(e&&(e.style.removeProperty("width"),e.style.removeProperty("flex-grow")),t.length>0)t[0].style.removeProperty("width")}};return n.createElement("div",{className:Om.operatingArea},c?null:n.createElement(km,{fixed:a,switchSide:r,setFixed:O,action:o,handleUnLock:u}),n.createElement(jm,{isFullScreen:c,setFixed:O}),n.createElement(Im,{action:function(){i(),u(),O(!1)}}))})),Cm=["svgRef","title"];function Pm(){return Pm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pm.apply(this,arguments)}function Nm(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Lm,Rm=function(e){var t=e.svgRef,r=e.title,a=Nm(e,Cm);return n.createElement("svg",Pm({width:16,height:16,viewBox:"0 0 16 16",ref:t},a),r?n.createElement("title",null,r):null,Em||(Em=n.createElement("path",{d:"M12.9 1c1.16 0 2.1.948 2.1 2.118v7.059c0 1.17-.94 2.118-2.1 2.118H6.741a1.4 1.4 0 00-.871.307L3.87 14.205l-.595.481c-.916.742-2.276.085-2.276-1.1V3.118C1 1.948 1.94 1 3.1 1zm0 1.059H3.098c-.58 0-1.05.474-1.05 1.059v10.468c0 .297.34.461.57.276l.594-.482 2.002-1.607c.434-.348.971-.537 1.526-.537h6.158c.58 0 1.05-.475 1.05-1.06V3.119c0-.585-.47-1.06-1.05-1.06zM8.054 3.647c.29 0 .525.238.525.53v3.31l1.139 1.15a.533.533 0 010 .748.522.522 0 01-.743 0L7.683 8.081a.531.531 0 01-.153-.374v-3.53c0-.292.235-.53.525-.53z",fill:"#666",fillRule:"nonzero"})))},Tm=n.forwardRef((function(e,t){return n.createElement(Rm,Pm({svgRef:t},e))})),Bm=["svgRef","title"];function Mm(){return Mm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mm.apply(this,arguments)}function zm(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Dm=function(e){var t=e.svgRef,r=e.title,a=zm(e,Bm);return n.createElement("svg",Mm({width:16,height:16,viewBox:"0 0 16 16",ref:t},a),r?n.createElement("title",null,r):null,Lm||(Lm=n.createElement("path",{d:"M8.013 1C11.906 1 15 4.173 15 7.99 15 12.03 11.776 15 8 15c-1.19 0-2.453-.327-3.459-.92l-.11-.065c-.236-.137-.331-.156-.454-.116l-1.355.402a.906.906 0 01-1.114-1.144l.453-1.514a.188.188 0 00-.023-.147C1.33 10.377 1 9.17 1 8.01 1 4.19 4.075 1 8.013 1zm0 1.004a5.999 5.999 0 00-6.01 6.006c0 .986.286 2.03.804 2.984.185.302.212.673.099.992l-.389 1.299 1.237-.368c.426-.118.752-.024 1.223.254l.08.049c.842.495 1.928.776 2.943.776 3.24 0 5.996-2.54 5.996-6.006 0-3.269-2.65-5.986-5.983-5.986zm.014 2.92a.5.5 0 01.498.457l.002.046-.004 2.112 2.083.005a.502.502 0 01.043 1.002l-.045.001-2.084-.004-.005 2.085a.502.502 0 01-1.001.044l-.002-.046.004-2.086-2.113-.004a.502.502 0 01-.044-1.002l.046-.002 2.113.005.006-2.112a.502.502 0 01.503-.501z",fill:"#666",fillRule:"nonzero"})))},Fm=n.forwardRef((function(e,t){return n.createElement(Dm,Mm({svgRef:t},e))}));function Hm(e){var t=e.handleShowChatHistory,r=e.handleNewChat;return n.createElement("div",{className:Om.headerOperateLeft},r?n.createElement(da,{onClick:function(){return null==r?void 0:r()},title:"新建对话",type:"linear",size:19},n.createElement(Fm,null)):null,t?n.createElement(da,{onClick:function(){return null==t?void 0:t()},title:"历史消息",type:"linear"},n.createElement(Tm,null)):null)}var Qm=r(4338),Um="gptDragBox--8EruK";function Ym(e){return Ym="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ym(e)}function Jm(){return Jm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jm.apply(this,arguments)}function Wm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Gm(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wm(Object(r),!0).forEach((function(t){Xm(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wm(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Xm(e,t,r){var n;return n=function(e,t){if("object"!=Ym(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Ym(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Ym(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Km(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Km(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Km(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Zm=function(e){return function(t){var r=420,a=48,i=c((function(e){return e.globalSlice})),o=i.isFullScreen,l=i.switchSide,u=i.disableDragging,s=i.sideMode,f=i.isQingAnalysisTab,d=(0,n.useRef)(null),p=(0,n.useRef)(r);(0,n.useEffect)((function(){m();var e=function(){return m()};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]);var m=function(){L({maxWidth:window.innerWidth,maxHeight:window.innerHeight}),F.current?(S({x:0,y:g.y},{width:window.innerWidth,height:window.innerHeight-a}),B(!1)):(S({x:window.innerWidth-p.current,y:g.y},{width:p.current,height:window.innerHeight-a}),B(p.current<=840))},y=function(){S(O().position,O().size)},v=Vm((0,n.useState)({x:window.innerWidth-r,y:a}),2),g=v[0],h=v[1],b=Vm((0,n.useState)({width:r,height:window.innerHeight-a}),2),A=b[0],E=b[1],S=function(e,t){h(e),E(t),p.current=Number(t.width)},w=(0,n.useRef)("main");(0,n.useEffect)((function(){w.current=document.getElementsByClassName("kdesigner-kdesigner-root").length>0?"platform":"main"}),[]);var O=function(){switch(w.current){case"main":default:return{position:{x:window.innerWidth-r,y:a},size:{width:r,height:window.innerHeight-a}};case"platform":return{position:{x:window.innerWidth-r,y:40},size:{width:r,height:window.innerHeight-40}}}},j=N("setDisableDragging"),I={bottom:!1,bottomLeft:!1,bottomRight:!1,left:!0,right:!1,top:!1,topLeft:!1,topRight:!1},k=Vm((0,n.useState)(I),2),x=k[0],C=k[1];(0,n.useEffect)((function(){C(!u&&I)}),[u]);var P=Vm((0,n.useState)({maxWidth:window.innerWidth,maxHeight:window.innerHeight}),2),L=(P[0],P[1]),R=Vm((0,n.useState)(!1),2),T=R[0],B=R[1],M=function(e){e&&y()},z=N("setIsFullScreen"),D=N("setSideMode"),F=(0,n.useRef)(o);(0,n.useEffect)((function(){F.current=o,H(o),"full"===s&&o&&j(!0)}),[o]);var H=function(e){Y(Gm(Gm({},U),{},{transition:"transform 0.3s ease-in-out"}));var t=O();z(e),e?(D("full"),S({x:0,y:t.position.y},{width:window.innerWidth,height:t.size.height}),Y(Gm(Gm({},U),{},{transition:"transform 0.3s ease-in-out"}))):(D("side"),M(!1),y(),Y(Gm(Gm({},U),{},{transition:"all 0.3s ease-in-out"}))),B(p.current<=840)},Q=Vm((0,n.useState)({left:0,visibility:"hidden",position:"fixed",transition:"all 0.3s ease-in-out"}),2),U=Q[0],Y=Q[1];return(0,n.useEffect)((function(){Y(l&&!f?{left:0,position:"fixed",visibility:"visible",transition:"all 0.3s ease-in-out"}:{left:"100%",position:"fixed",visibility:"hidden",transition:"all 0.3s ease-in-out"})}),[l,f]),(0,Bn.createPortal)(n.createElement(Qm.p,{ref:d,className:ct()(Um),minWidth:r,minHeight:550,style:U,disableDragging:!0,enableResizing:x,position:g,bounds:"window",size:A,onDragStop:function(e,t){h({x:t.x,y:t.y})},onResize:function(e,t,r,n,a){var i=r.offsetWidth,o=r.offsetHeight;if(Y(Gm(Gm({},U),{},{transition:"left 0.3s ease-in-out"})),i>=window.innerWidth-10)return z(!0),D("full"),void S({x:0,y:a.y},{width:window.innerWidth,height:o});z(!1),D(i>=808||i>=840?"full":"side"),B(i<=840),S(a,{width:i,height:o})}},n.createElement(e,Jm({rndFixedSize:M,needMask:T},t))),document.body)}},qm="input-wrap--N20tg",_m="input--xwKzz";function $m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ey(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ey(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ey(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ty=(0,n.forwardRef)((function(e,t){var r=e.onKeyEnter,a=e.value,i=e.placeholder,o=e.maxLength,l=e.onChange,c=e.type,u=e.wrapStyle,s=e.style;(0,n.useEffect)((function(){a&&f.current&&(f.current.value=a)}),[a]);var f=(0,n.useRef)(null),d=$m((0,n.useState)(!1),2),p=d[0],m=d[1],y=function(e){if("Enter"===e.key&&f.current){var t=f.current.value.trim();r&&r(t)}},v=function(){y({key:"Enter"})},g=function(){f.current&&f.current.focus()};return n.useImperativeHandle(t,(function(){return{touchInputKeyDown:v,touchFocus:g}})),n.createElement("div",{className:qm,style:u,onClick:function(e){return e.stopPropagation()}},"search"===c&&n.createElement(da,{size:14,type:"face",style:{color:"#999"}},n.createElement(bu,null)),n.createElement("input",{className:"".concat(_m),placeholder:i,maxLength:o,onKeyDown:y,onChange:function(){if(f.current){var e=f.current.value;m(""!==e),l&&l(e.trim())}},onFocus:function(){f.current&&""===f.current.value&&m(!1)},ref:f,style:s}),n.createElement("div",null,p&&n.createElement(da,{size:14,onClick:function(){f.current&&(f.current.value="",f.current.focus(),l&&l(""))},type:"face"},n.createElement(mu,null))))}));ty.displayName="CustomInput";var ry,ny,ay=ty,iy=["svgRef","title"];function oy(){return oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oy.apply(this,arguments)}function ly(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var cy,uy=function(e){var t=e.svgRef,r=e.title,a=ly(e,iy);return n.createElement("svg",oy({width:168,height:96,viewBox:"0 0 168 96",ref:t},a),r?n.createElement("title",null,r):null,ry||(ry=n.createElement("defs",null,n.createElement("linearGradient",{x1:"50%",y1:"0%",x2:"50%",y2:"100%",id:"empty_svg__a"},n.createElement("stop",{stopColor:"#D6DCE7",offset:"0%"}),n.createElement("stop",{stopColor:"#D6DCE7",stopOpacity:0,offset:"100%"})))),ny||(ny=n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{d:"M3 39V24C3 15.716 9.716 9 18 9c7.462 0 13.65 5.448 14.806 12.584A9 9 0 0145 30v9H3z",transform:"translate(108 40)",fill:"url(#empty_svg__a)",opacity:.3}),n.createElement("path",{d:"M3 39V24C3 15.716 9.716 9 18 9c7.462 0 13.65 5.448 14.806 12.584A9 9 0 0145 30v9H3z",transform:"matrix(-1 0 0 1 60 32)",fill:"url(#empty_svg__a)",opacity:.3}),n.createElement("path",{d:"M99 9v15h15v60a3 3 0 01-3 3H57a3 3 0 01-3-3V12a3 3 0 013-3h42z",fill:"#E2E8F3"}),n.createElement("path",{fill:"#CAD0DB",d:"M60 24h9v9h-9z"}),n.createElement("path",{fill:"#EEF4FF",d:"M99 9l15 15H99z"}),n.createElement("path",{fill:"#CAD0DB",d:"M60 39h48v6H60zM60 51h24v6H60z"}))))},sy=n.forwardRef((function(e,t){return n.createElement(uy,oy({svgRef:t},e))})),fy="container--D46vN",dy="text--kMoCD",py="img--xyZ4H",my=function(){return n.createElement("div",{className:fy},n.createElement(sy,{className:py}),n.createElement("p",{className:dy},"暂无数据"))},yy="title--Lw0dQ",vy="titleBg--ZRej8",gy="bgImg--BNgTX",hy="context--VVvQ0",by="text--myLHi";function Ay(e){var t=e.title,r=e.handleClose;return n.createElement("div",{className:yy},n.createElement("div",{className:vy}),n.createElement("img",{className:gy,src:"data:image/png;base64,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",alt:""}),n.createElement("div",{className:hy},n.createElement("span",{className:by},t),r?n.createElement(da,{onClick:r,type:"linear",title:"关闭"},n.createElement(po,null)):null))}var Ey=["svgRef","title"];function Sy(){return Sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sy.apply(this,arguments)}function wy(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Oy,jy=function(e){var t=e.svgRef,r=e.title,a=wy(e,Ey);return n.createElement("svg",Sy({width:16,height:16,viewBox:"0 0 16 16",ref:t},a),r?n.createElement("title",null,r):null,cy||(cy=n.createElement("path",{d:"M7.963 4.5a1.5 1.5 0 10.074-3 1.5 1.5 0 00-.074 3zM6.5 8a1.5 1.5 0 103 0 1.5 1.5 0 00-3 0zM8 14.5a1.5 1.5 0 100-3 1.5 1.5 0 000 3z",fill:"#666",fillRule:"nonzero"})))},Iy=n.forwardRef((function(e,t){return n.createElement(jy,Sy({svgRef:t},e))})),ky=["svgRef","title"];function xy(){return xy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xy.apply(this,arguments)}function Cy(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Py,Ny=function(e){var t=e.svgRef,r=e.title,a=Cy(e,ky);return n.createElement("svg",xy({className:"edit_svg__icon",width:200,height:200,style:{verticalAlign:"middle"},viewBox:"0 0 12 13",fill:"currentColor",overflow:"hidden",ref:t},a),r?n.createElement("title",null,r):null,Oy||(Oy=n.createElement("path",{d:"M8.514 7.819l3.364 3.37a.42.42 0 010 .593l-1.092 1.095a.416.416 0 01-.591 0L6.83 9.507a.417.417 0 01-.12-.344l.11-.987a.42.42 0 01.37-.37l.982-.107a.416.416 0 01.34.12zM9.446 0c.883 0 1.603.72 1.603 1.606v6.397a.418.418 0 11-.836 0V1.606a.769.769 0 00-.767-.768H1.6a.767.767 0 00-.765.768v9.305c0 .424.343.768.765.768h5.593a.418.418 0 010 .838H1.6C.718 12.517 0 11.797 0 10.91V1.606C0 .72.718 0 1.601 0h7.845zM8.065 8.553l-.45.05-.051.453 2.926 2.933.502-.503-2.927-2.933zM5.159 7.89a.419.419 0 010 .838H3.202a.418.418 0 010-.838H5.16zm2.686-2.32a.419.419 0 010 .838H3.202a.418.418 0 010-.838h4.643zm0-2.32a.42.42 0 010 .839H3.202a.418.418 0 010-.838h4.643z",fill:"#666",fillRule:"nonzero"})))},Ly=n.forwardRef((function(e,t){return n.createElement(Ny,xy({svgRef:t},e))})),Ry=["svgRef","title"];function Ty(){return Ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ty.apply(this,arguments)}function By(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var My,zy=function(e){var t=e.svgRef,r=e.title,a=By(e,Ry);return n.createElement("svg",Ty({width:16,height:16,viewBox:"0 0 16 16",ref:t},a),r?n.createElement("title",null,r):null,Py||(Py=n.createElement("path",{d:"M12.52 5.698l-.425 8.26a.564.564 0 01-.558.542H4.463a.564.564 0 01-.558-.541l-.425-8.26a.567.567 0 01.528-.601c.309-.016.57.225.586.54l.398 7.72h6.016l.398-7.72a.566.566 0 01.586-.54.567.567 0 01.528.6zM14 3.786c0 .315-.25.571-.558.571H2.558A.565.565 0 012 3.786c0-.316.25-.572.558-.572h3.07V1.93c0-.277.18-.429.45-.429h3.844c.27 0 .45.152.45.429v1.285h3.07c.308 0 .558.256.558.572zm-7.395-.572h2.79V2.5h-2.79v.714zm.234 9.286h.011c.27 0 .483-.266.477-.542l-.142-6.176a.499.499 0 00-.5-.496.492.492 0 00-.476.508l.142 6.19c.006.272.223.516.488.516zm2.301 0c.264 0 .482-.23.488-.502L9.77 5.83a.498.498 0 00-.477-.515.491.491 0 00-.5.487l-.141 6.174c-.007.276.207.524.476.524h.012z",fill:"#666",fillRule:"nonzero"})))},Dy=n.forwardRef((function(e,t){return n.createElement(zy,Ty({svgRef:t},e))})),Fy=["svgRef","title"];function Hy(){return Hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hy.apply(this,arguments)}function Qy(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Uy=function(e){var t=e.svgRef,r=e.title,a=Qy(e,Fy);return n.createElement("svg",Hy({width:18,height:18,viewBox:"0 0 18 18",ref:t},a),r?n.createElement("title",null,r):null,My||(My=n.createElement("path",{d:"M13.936 14.32c1.746-.954 2.903-2.601 2.903-4.477 0-1.186-.468-2.278-1.25-3.164.056-.349.086-.701.088-1.054 0-.164-.018-.324-.03-.485C17.095 6.306 18 7.948 18 9.773c0 2.047-1.138 3.865-2.903 5.037V18l-3.255-1.941c-.46.074-.925.112-1.39.113-2.236 0-3.658-.829-5.04-2.138.227.012.453.028.685.028.324 0 .644-.015.96-.04 1.092.728 1.89 1.165 3.395 1.165a7.57 7.57 0 001.502-.155l1.981 1.28V14.32zm-6.388-1.382a17.53 17.53 0 01-1.953-.149l-3.272 1.836v-3.19C.805 10.184 0 8.445 0 6.398 0 2.865 3.374 0 7.548 0c3.47 0 6.968 2.865 6.968 6.398 0 3.534-2.799 6.54-6.968 6.54zm-2.083-1.28c.483.097 1.565.154 2.083.154 3.528 0 5.807-2.392 5.807-5.343 0-2.952-2.92-5.344-5.807-5.344-3.627 0-6.387 2.393-6.387 5.344 0 1.875.906 3.362 2.323 4.475v1.994l1.981-1.28zm5.277-4.346a.85.85 0 01-.846-.851.852.852 0 01.862-.836c.473.002.855.38.855.844a.843.843 0 01-.258.599.873.873 0 01-.613.244zm-3.484 0a.85.85 0 01-.846-.851.852.852 0 01.863-.836c.472.002.854.38.854.844a.858.858 0 01-.87.843zm-3.484 0a.85.85 0 01-.846-.851.852.852 0 01.863-.836c.472.002.854.38.854.844a.843.843 0 01-.257.599.873.873 0 01-.614.244z",fillRule:"nonzero"})))},Yy=n.forwardRef((function(e,t){return n.createElement(Uy,Hy({svgRef:t},e))})),Jy={chatHistory:"chatHistory--sxMDH",sideMode:"sideMode--JFFL6",content:"content--wkVyn",show:"show--f2Drg",slideDown:"slideDown--pYoro",hide:"hide--fEwW0",slideUp:"slideUp--iJ2wZ",fullMode:"fullMode--Vmlo_",slideRight:"slideRight--Igzb6",slideLeft:"slideLeft--R8YwR",mask:"mask--RsoJU",slideUpBG:"slideUpBG--oGUcc",slideDownBG:"slideDownBG--DpeBy",noAllowedClickMask:"noAllowedClickMask--l2RIU",popupContainer:"popupContainer--vcNFO",popupContainerLeft:"popupContainerLeft--fJnho",popupContainerRight:"popupContainerRight--d4zel",popupContent:"popupContent--Nhz2C","popupContent-full":"popupContent-full--eRJug","flex-center":"flex-center--trOtH","flex-between":"flex-between--v3g2F","list-item":"list-item--GAqaL",more:"more--YJfd_","list-item-hover":"list-item-hover--yLDWB","list-item-edit":"list-item-edit--yTC1e","list-item-active":"list-item-active--vdIwS","item-edit-wrap":"item-edit-wrap--vnmfa","item-edit":"item-edit--EJR5V",popover:"popover--rZGVg",popoverItem:"popoverItem--TJSue",popoverText:"popoverText--de5D8","footer-text":"footer-text--jTP8S",title:"title--WKTo8"};function Wy(e){return Wy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wy(e)}function Gy(e,t,r){var n;return n=function(e,t){if("object"!=Wy(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Wy(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Wy(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xy(){return Xy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xy.apply(this,arguments)}function Vy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ky(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ky(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ky(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Zy=(0,l.Ng)((function(e){return{hasMoreChatHistory:e.agentSlice.hasMoreChatHistory,chatHistoryList:e.agentSlice.chatHistoryList,chatSessionId:e.globalSlice.chatSessionId,model:e.globalSlice.model,isChatHistoryFixed:e.agentSlice.isChatHistoryFixed,isChatHistoryNoAllowedClick:e.agentSlice.isChatHistoryNoAllowedClick,isChat:e.chatSlice.isChat}}))((function(e){var t=e.isShown,r=e.children,a=e.isFullScreen,i=e.chatHistoryList,o=e.hasMoreChatHistory,c=e.model,u=e.chatSessionId,s=e.isChatHistoryNoAllowedClick,f=e.noPopupAnimation,d=e.needMask,p=e.isChat,m=e.onClose,y=(0,l.wA)(),v=Vy((0,n.useState)(null),2),g=v[0],h=v[1],b=Vy((0,n.useState)(0),2),A=b[0],E=b[1],S=Vy((0,n.useState)({}),2),w=S[0],O=S[1],j=Vy((0,n.useState)(!1),2),I=j[0],k=j[1],x=(0,n.useRef)(null),C=(0,n.useRef)("");(0,n.useEffect)((function(){if(s){var e=x.current;c.invokeAsync("getChatItemList",{id:null==e?void 0:e.id,lastId:"0",pageSize:-1,searchKey:""}),y(he([])),y(Ye(e)),d&&m()}}),[u]);var P=Vy((0,n.useState)(!1),2),N=P[0],L=P[1],R=(0,n.useRef)(!1),T=function(e){L(e),R.current=e},B=Vy((0,n.useState)(""),2),M=B[0],z=B[1],D=(0,n.useRef)(null);(0,n.useState)(!1);var F=function(){var e;k(!1),T(!0),z(null!==(e=w.title)&&void 0!==e?e:""),setTimeout((function(){var e;null===(e=D.current)||void 0===e||e.touchFocus()}),0)},H=function(e){""!==e&&(null==c||c.invokeAsync("renameChat",{id:w.id,sessionId:w.sessionId,title:e}),y(Qe({index:g,title:e})),te())},Q=function(){var e;R.current?null===(e=D.current)||void 0===e||e.touchInputKeyDown():k(!1)};(0,n.useEffect)((function(){return document.addEventListener("click",Q),function(){document.removeEventListener("click",Q)}}),[]);var U=(0,n.useRef)(!1),Y=(0,n.useRef)(""),J=(0,n.useRef)(null),W=Vy((0,n.useState)(!0),2),G=W[0],X=W[1],V=(0,n.useRef)(null),K=(0,n.useMemo)((function(){return G||U.current?n.createElement("div",{className:Jy["footer-text"]},"加载中..."):0!==i.length||o||G?o?n.createElement("div",{className:Jy["footer-text"]},"加载中..."):n.createElement("div",{className:Jy["footer-text"]},"没有更多了..."):n.createElement("div",{style:{paddingTop:"120px"}},n.createElement(my,null))}),[G,o,i]),Z=(0,n.useRef)(!1),q=(0,n.useRef)("0"),_=function(e){X(!0),q.current=i.length>0?i[i.length-1].sessionId:"0",null==c||c.invokeAsync("getChatInfoList",{id:u,lastId:q.current,pageSize:30,searchKey:e||""})};(0,n.useEffect)((function(){return X(!0),null==c||c.invokeAsync("getChatInfoList",{id:u,lastId:"0",pageSize:30,searchKey:""}),C.current=u,function(){y(De())}}),[]),(0,n.useEffect)((function(){U.current&&G&&(U.current=!1),X(!1),Z.current=!1}),[i]);var $=function(){null==c||c.invokeAsync("deleteChat",{id:w.id,sessionId:w.sessionId}),y(Ue({index:g})),te()},ee=function(){return f?null:t?Jy.show:Jy.hide},te=function(){k(!1),T(!1),h(null)};return n.createElement("div",{className:ct()(Jy.chatHistory,a?Jy.fullMode:Jy.sideMode,ee())},n.createElement("div",{className:ct()(Jy.mask,ee()),onClick:m}),s&&n.createElement("div",{className:Jy.noAllowedClickMask,onClick:function(e){e.stopPropagation(),e.preventDefault()}}),n.createElement("div",{className:ct()(Jy.content,ee())},n.createElement("div",{style:{display:"flex",flexDirection:"column",height:"100%"}},r,n.createElement(Ay,{title:"历史记录",handleClose:m}),n.createElement("div",{className:"".concat(Jy["flex-center"]),style:{padding:"10px 20px"}},n.createElement(ay,{type:"search",placeholder:"搜索",onKeyEnter:function(e){U.current=!0,Y.current=e,y(De()),setTimeout((function(){X(!0),y(He(!1)),null==c||c.invokeAsync("getChatInfoList",{id:u,lastId:"0",pageSize:30,searchKey:e})}),0)},maxLength:25})),n.createElement(di.ur,{autoHide:!0,autoHideTimeout:1e3,style:{width:"100%"},renderTrackHorizontal:function(e){return n.createElement("div",Xy({},e,{className:"track-horizontal",style:{display:"none"}}))},onScrollFrame:function(){if(o&&!Z.current){var e=V.current;if(null!=e){var t=e.getBoundingClientRect();if(null!=t)t.bottom<=document.body.clientHeight&&(_(Y.current),Z.current=!0)}}}},n.createElement("div",{ref:J,style:{padding:"10px 20px",flex:"1"}},i.map((function(e,t){return n.createElement("div",{key:t,className:ct()(Jy["flex-center"],Jy["list-item"],Jy["flex-between"],Gy(Gy(Gy({},Jy["list-item-active"],u===e.id),Jy["list-item-hover"],!N),Jy["list-item-edit"],N&&g===t)),onMouseEnter:function(e){!function(e,t,r){R.current||h(t)}(0,t)},onMouseLeave:function(){k(!1)},onClick:function(){!function(e){if(k(!1),!N){if(e.id===u)return;y(Xe(!0)),x.current=e,C.current=u,y(be());var t=document.getElementById("gai-stop-chat-btn");t&&p.status&&t.click(),y(ge({waiting:!1,status:!1})),c.invokeAsync("newChat",{id:e.id})}}(e)}},n.createElement("div",{style:{display:"flex",width:"90%"}},n.createElement("div",{style:{marginRight:"8px",paddingTop:"5px"}},n.createElement(da,{type:"default"},n.createElement(Yy,null))),n.createElement("div",{style:{width:"100%"}},g===t&&N?n.createElement(ay,{ref:D,placeholder:"标题不能为空",onKeyEnter:H,maxLength:25,value:M,wrapStyle:{backgroundColor:"#f5f5f5"},style:{backgroundColor:"#f5f5f5"}}):n.createElement("div",{style:{lineHeight:"33px",cursor:"pointer",fontSize:"14px"}},n.createElement("div",{className:Jy.title},e.title)),n.createElement("div",{style:{fontSize:"11px",color:"#666",marginTop:"5px",cursor:"pointer"}},e.lastMessageTimeV))),n.createElement("span",{className:Jy.more,onClick:function(r){!function(e,t,r){e.stopPropagation(),E(e.pageY),O(t),k(!0),h(r)}(r,e,t)}},n.createElement(da,null,n.createElement(Iy,null))),g===t&&I&&n.createElement("div",{className:Jy.popover,style:{top:A>700?"-50px":"25px"},onClick:function(e){e.stopPropagation()}},n.createElement("div",{className:Jy.popoverItem,onClick:F},n.createElement("div",{style:{padding:"0 10px"}},n.createElement(da,{type:"default"},n.createElement(Ly,null))),n.createElement("span",{className:Jy.popoverText},"重命名")),n.createElement("div",{className:Jy.popoverItem,onClick:$},n.createElement("div",{style:{padding:"0 10px"}},n.createElement(da,{type:"default"},n.createElement(Dy,null))),n.createElement("span",{className:Jy.popoverText},"删除"))))})),n.createElement("div",{className:Jy.footer},n.createElement("div",{ref:V},K)))))))}));function qy(e){return qy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qy(e)}function _y(){return _y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_y.apply(this,arguments)}function $y(e,t,r){var n;return n=function(e,t){if("object"!=qy(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=qy(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==qy(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ev(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return tv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tv(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tv(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var rv=(0,l.Ng)((function(e){return{switchSide:e.globalSlice.switchSide,lockSide:e.globalSlice.lockSide,assistantName:e.globalSlice.assistantName,avatar:e.globalSlice.avatar,firstInitial:e.globalSlice.firstInitial,model:e.globalSlice.model,isStartChat:e.globalSlice.isStartChat,isFullScreen:e.globalSlice.isFullScreen,sideMode:e.globalSlice.sideMode,isChat:e.chatSlice.isChat,currentSkill:e.globalSlice.currentSkill,chatScrollTop:e.chatSlice.chatScrollTop}}))(Zm((function(e){var t=e.switchSide,r=e.lockSide,a=e.firstInitial,i=e.isFullScreen,o=e.sideMode,c=e.assistantName,u=e.avatar,s=e.rndFixedSize,f=e.model,d=e.isStartChat,p=e.isChat,m=e.needMask,y=e.currentSkill,v=e.chatScrollTop,g=(0,l.wA)(),h=ev((0,n.useState)(!1),2),b=h[0],A=h[1],E=ev((0,n.useState)(!1),2),S=E[0],O=E[1],j=ev((0,n.useState)(!1),2),I=j[0],k=j[1],x=ev((0,n.useState)(!1),2),P=x[0],L=x[1],R=ev((0,n.useState)(!1),2),T=R[0],B=R[1],M=!y.id,z={url:u||"",isAvatar:!1,name:c||"",width:18,height:18},D=function(e){("side"===o&&!e&&!i||"full"===o&&!i||"side"===o&&e&&!i)&&H(!1)},F=function(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?(O(!1),setTimeout((function(){k(!1)}),300)):(O(!0),k(!1)),D(!P),L(!1)},H=N("setDisableDragging");(0,n.useEffect)((function(){B(!!P&&"full"===o)}),[o,P]),(0,n.useEffect)((function(){a&&(t||r)&&A(!0)}),[a]),(0,n.useEffect)((function(){t||A(r)}),[t]);return n.createElement("div",{className:ct()(fm.gptRobot,$y({},fm.isChat,d)),id:"gai-gpt-agent-container"},n.createElement("div",{className:ct()(fm.gptBox,T?fm.fixedAssistant:fm.notFixedAssistant)},n.createElement("div",{className:ct()(fm.mask,m&&P?fm.show:fm.hide)}),n.createElement("div",{className:ct()(fm.floatingWindowHeader,$y({},fm.notTop,!v))},n.createElement("div",{className:ct()(fm.floatingWindowHeader_title)},n.createElement("div",{className:ct()(fm.title,$y({},fm.show,d)),title:M?c||"":y.name},n.createElement(Xt,_y({},z,{className:fm.img})),n.createElement("span",{className:fm.text},c))),n.createElement("div",{className:fm.headerLeftOperate},n.createElement(Hm,{handleShowChatHistory:function(){O(!1),D(!P),P?F():(L(!P),k(!0)),"full"===o&&B(!0)},handleNewChat:function(){p.status||(g(be()),g(Je()),g(C(!1)),null==f||f.invokeAsync("newChat",{}))}})),n.createElement("div",{className:fm.headerRightOperate},n.createElement(xm,{defaultFixed:b,handleResize:function(e){s(e),H(e)},handleClose:function(){g(w(!1))}}))),n.createElement(Es,null),n.createElement("div",{className:fm.floatingWindowFooter},n.createElement("span",{className:fm.footerContent},n.createElement("p",null,"AI生成内容可能有误，请结合经验使用"),n.createElement("a",{onClick:function(){null==f||f.invokeAsync("showAgreement",{show:!0})},className:fm.agreement},"隐私")))),I&&n.createElement(Zy,{isShown:P,isFullScreen:!0,needMask:m,onClose:F,noPopupAnimation:S}))}))),nv="promptParams--pJxQp",av="icon--mo4_c",iv="variableMapPage--hlYnM",ov="variableItem--icn7Y",lv="name--D_7rl",cv="input--_TmrA",uv="variableMapPageShow--QLLgv",sv="variableMapPageHidden--k_dJ_";function fv(e){return fv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fv(e)}function dv(e,t,r){var n;return n=function(e,t){if("object"!=fv(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=fv(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==fv(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return mv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mv(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mv(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var yv=function(e){var t=e.visible,r=e.params,a=(0,l.wA)();return n.createElement("div",{className:ct()(iv,dv({},uv,t),dv({},sv,!t))},Object.keys(r).map((function(e){return n.createElement("div",{className:ov,key:e},n.createElement("span",{className:lv,title:r[e].name},r[e].name),n.createElement("input",{className:cv,placeholder:"请输入变量",onChange:function(t){return function(e,t){a(Oe({key:t,value:e.target.value}))}(t,e)},value:r[e].value}))})))},vv=(0,l.Ng)((function(e){return{promptParams:e.chatSlice.promptParams}}))((function(e){var t=e.promptParams,r=pv((0,n.useState)(!0),2),a=r[0],i=r[1];return(0,n.useEffect)((function(){0===Object.keys(t.variableMap).length&&i(!1)}),[t]),n.createElement(n.Fragment,null,n.createElement("div",{className:nv},n.createElement("span",{onClick:function(){return i(!a)}},"变量",n.createElement("span",{className:ct()(av,Ar.iconcool,Ar[a?"shangla":"xiala"])}))),n.createElement(yv,{visible:a,params:t.variableMap}))})),gv="gptRobot--UrToI",hv="gptBox--cOHN4",bv="floatingWindowHeader--e4Y_Y",Av="notTop--msHwA",Ev="floatingWindowHeader_title--zS4pu",Sv="leftOperate--HDFvj",wv="floatingWindowHeader_operate--WzJJW",Ov="floatingWindowBody--IsXlV",jv="floatingWindowFooter--P52UK",Iv="footerContent--qrMQK",kv="agreement--frDqb";function xv(e){return xv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xv(e)}function Cv(e,t,r){var n;return n=function(e,t){if("object"!=xv(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=xv(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==xv(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Pv=(0,l.Ng)((function(e){return{model:e.globalSlice.model}}))((function(e){var t=e.model,r=(0,l.wA)(),a=c((function(e){return e.chatSlice})),i=a.isChat,o=a.chatScrollTop;return n.createElement("div",{className:ct()(gv)},n.createElement("div",{className:ct()(hv)},n.createElement("div",{className:ct()(bv,Cv({},Av,!o))},n.createElement("div",{className:Sv},n.createElement(da,{title:"新建对话",onClick:function(){i.status||(r(be()),r(C(!1)),null==t||t.invokeAsync("newChat",{}))}},n.createElement(Fm,null))),n.createElement("div",{className:ct()("draggable",Ev)},n.createElement("span",null,"提示测试")),n.createElement("div",{className:wv},n.createElement(vv,null))),n.createElement("div",{className:Ov},n.createElement(Es,null)),n.createElement("div",{className:jv},n.createElement("span",{className:Iv},n.createElement("p",null,"AI生成内容可能有误，请结合经验使用"),n.createElement("a",{onClick:function(){null==t||t.invokeAsync("showAgreement",{show:!0})},className:kv},"隐私")))))})),Nv="data:image/png;base64,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",Lv="gptRobot--Fi8R5",Rv="gptBox--mTMic",Tv="floatingWindowHeader--JktBd",Bv="notTop--yVMEb",Mv="floatingWindowHeader_title--gX9J1",zv="floatingWindowBody--CncOn",Dv="floatingWindowFooter--vpePL",Fv="footerContent--QYSwY",Hv="agreement--x0A9z";function Qv(e){return Qv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qv(e)}function Uv(e,t,r){var n;return n=function(e,t){if("object"!=Qv(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Qv(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Qv(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Yv=function(){var e=c((function(e){return e.globalSlice})),t=e.model,r=(e.firstInitial,e.avatar),a=e.assistantName,i=c((function(e){return e.chatSlice})).chatScrollTop,o=N("setAvatar");return n.createElement("div",{className:ct()(Lv)},n.createElement("div",{className:ct()(Rv)},n.createElement("div",{className:ct()(Tv,Uv({},Bv,!i))},n.createElement("div",{className:ct()("draggable",Mv)},n.createElement("img",{src:r||Nv,onError:function(){o(Nv)}}),n.createElement("span",null,a&&a.length>0?a:"Cosmic助手"))),n.createElement("div",{className:zv},n.createElement(Es,null)),n.createElement("div",{className:Dv},n.createElement("span",{className:Fv},n.createElement("p",null,"AI生成内容可能有误，请结合经验使用"),n.createElement("a",{onClick:function(){null==t||t.invokeAsync("showAgreement",{show:!0})},className:Hv},"隐私")))))},Jv="gptRobot--rVy5c",Wv="gptBox--h22_p",Gv="gai-agent-empty--pr7Ms",Xv="gai-agent-show--KISiG",Vv="gai-agent-hide--XPzO6",Kv="floatingWindowHeader--UT1by",Zv="notTop--girsm",qv="floatingWindowHeader_preview--Y7VIi",_v="floatingWindowHeader_newChat--suS1e",$v="isAgentEmpty--qeIZu",eg="gaiPreview--UWFvR",tg="gaiLog--VzU9D",rg="floatingWindowBody--fB8KJ",ng="floatingWindowFooter--hEQA5",ag="footerContent--Lgibq",ig="agreement--GlZfQ";function og(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return lg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lg(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lg(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var cg,ug=function(){var e=(0,l.wA)(),t=og((0,n.useState)(""),2),r=t[0],a=t[1],i=(0,l.d4)((function(e){return e.globalSlice.model}));return n.createElement("div",null,n.createElement("textarea",{style:{width:"400px",height:"400px"},value:r,onChange:function(e){return a(e.target.value)}}),n.createElement("span",{onClick:function(){e(C(!0)),null==i||i.invokeAsync("runStepChatTest",r)}},"send"))},sg=r(38502),fg=r(92471),dg=["svgRef","title"];function pg(){return pg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pg.apply(this,arguments)}function mg(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var yg=function(e){var t=e.svgRef,r=e.title,a=mg(e,dg);return n.createElement("svg",pg({className:"back_svg__icon",width:200,height:200,style:{verticalAlign:"middle"},viewBox:"0 0 20 20",fill:"currentColor",overflow:"hidden",ref:t},a),r?n.createElement("title",null,r):null,cg||(cg=n.createElement("path",{d:"M10 1.25a8.75 8.75 0 110 17.5 8.75 8.75 0 010-17.5zm0 1.25a7.5 7.5 0 100 15 7.5 7.5 0 000-15zm-.183 3.523a.625.625 0 01.049.829l-.05.054-2.468 2.469h7.027a.625.625 0 110 1.25H7.348l2.469 2.469a.625.625 0 01.049.829l-.05.054a.625.625 0 01-.828.049l-.055-.049-3.35-3.349a.888.888 0 01-.057-1.193l.058-.063 3.35-3.35a.625.625 0 01.883 0z",fill:"#666",fillRule:"evenodd"})))},vg=n.forwardRef((function(e,t){return n.createElement(yg,pg({svgRef:t},e))})),gg=function(e){for(var t="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<e;n++)t+=r.charAt(Math.floor(62*Math.random()));return t},hg="container--QVp2l",bg=function(e){var t=e.colorType,r=t?{warning:"#FF991C",error:"#FB2323",expired:"#B2B2B2"}[t]:"#FFFFFF";return n.createElement("div",null,n.createElement("div",{className:hg,style:{backgroundColor:r}},e.children))},Ag=r(87494),Eg=r.n(Ag),Sg=r(62857),wg=r.n(Sg),Og={subtree:!0,childList:!0,attributeFilter:["style","class"]};function jg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ig(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ig(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ig(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var kg=function(e){var t=e.options,r=e.onMutate,a=void 0===r?function(){}:r,i=e.children,o=n.useRef(null),l=jg(n.useState(),2),c=l[0],u=l[1];return function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Og;(0,n.useEffect)((function(){if(e){var n,a=Array.isArray(e)?e:[e];return"MutationObserver"in window&&(n=new MutationObserver(t),a.forEach((function(e){n.observe(e,r)}))),function(){var e,t;null===(e=n)||void 0===e||e.takeRecords(),null===(t=n)||void 0===t||t.disconnect()}}}),[r,e])}(c,a,t),(0,n.useLayoutEffect)((function(){u(o.current)}),[]),i?n.cloneElement(i,{ref:o}):null},xg="container--XVBY5",Cg="text--J2wFS",Pg="img--SlIdd",Ng=function(){return n.createElement("div",{className:xg},n.createElement(sy,{className:Pg}),n.createElement("p",{className:Cg},"暂无数据"))},Lg="json-text--GWm4o",Rg="title--w8KXW",Tg="content--Imwux",Bg="custom-scrollbar--ltUfd",Mg="md--tUmjH";function zg(e){return zg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zg(e)}var Dg=function(e){var t=/(\b(?:https?|ftp):\/\/[-A-Z0-9&@#\/%?=~_|!:,.;]*[-A-Z0-9&@#\/%=~_|])/gim,r=(0,n.useRef)(0),a=function(e){r.current!==e.length&&setTimeout((function(){r.current=e.length,c()}),0)};(0,n.useLayoutEffect)((function(){c()}),[]);var i,o,l,c=function(){for(var e,r=document.getElementsByClassName("string-value"),n=0;n<r.length;n++){var a=r[n],i=a.innerText;if(/<!DOCTYPE html>/i.test(e=i)&&/<\/html>/i.test(e))return;i=Eg().sanitize(i),"SPAN"===a.tagName&&t.test(i)&&"string"==typeof i&&(a.innerHTML=i.replace(t,(function(e){var t=e.replace(/^"|"$/g,""),r=document.createElement("a");return r.href=t,r.textContent=t,r.style.color="blue",r.style.cursor="pointer",r.style.textDecorationLine="underline",r.target="_blank",r.outerHTML})))}};return n.createElement("div",null,(i=e.src,["",null,void 0].includes(i)?n.createElement(Ng,null):"object"===zg(i)?(l=i,n.createElement(kg,{onMutate:a},n.createElement("div",{className:Lg},n.createElement(wg(),{src:l,name:null,displayDataTypes:!1,enableClipboard:!1,shouldCollapse:function(){return a([]),!1}})))):(o=i,n.createElement(Er.o,{components:{a:function(e){var t=e.href,r=e.children;return n.createElement("a",{href:t,target:"_blank",rel:"noopener noreferrer"},r)}},className:Mg},o))))};function Fg(e){return Fg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fg(e)}function Hg(e,t,r){var n;return n=function(e,t){if("object"!=Fg(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Fg(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Fg(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Qg=function(e){var t=e.role,r=(e.content,Hg(Hg(Hg(Hg({},dh.Context,"上下文"),dh.Thought,"思考"),dh.Input,"输入"),dh.Output,"输出"));return n.createElement(n.Fragment,null,t?n.createElement("div",{className:Rg},n.createElement(bg,null,n.createElement("span",{style:{fontSize:"14px"}},r[t]))):void 0)};function Ug(e){if("string"==typeof e){if("null"===e)return"null";try{var t=JSON.parse(e),r=Fg(t);return"object"!==r&&"string"!==r?String(t):Ug(t)}catch(t){return e}}else if("object"===Fg(e)&&null!==e){if(Array.isArray(e))for(var n=0;n<e.length;n++)e[n]=Ug(e[n]);else for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(e[a]=Ug(e[a]));return e}return e}var Yg=function(e){var t=Ug(e.content);return n.createElement("div",null,n.createElement("div",null,n.createElement(Qg,{role:e.role,content:t}),n.createElement("div",{className:"".concat(Tg," ").concat(Bg)},n.createElement(Dg,{src:t}))))};function Jg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Wg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wg(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wg(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Gg=function(e){var t=Jg((0,n.useState)([]),2),r=t[0],a=t[1];return(0,n.useEffect)((function(){e.data&&a(e.data)}),[e.data]),n.createElement("div",{className:Bg},r.length>0&&n.createElement("div",{style:{backgroundColor:"#ffffff",paddingBottom:"10px"}},r.map((function(e){return n.createElement("div",{key:gg(16)},n.createElement(Yg,{role:e.role,content:e.content}))}))))},Xg="container--dmYiw",Vg=r.p+"ai-gai-gpt-basic/assets/loading.ac9be1cf2803a3493666.gif",Kg=function(e){var t=e.isLoading;return n.createElement("div",null,t&&n.createElement("div",{className:Xg},n.createElement("img",{src:Vg,alt:""})))},Zg="log-container--zxGB0",qg="container--qJoGl",_g="header--C3Vxc",$g="header-left--JwXQ6",eh="header-log-text--w23_r",th="header-trace-text--Tv0pr",rh="title--i8InG",nh="line--qTFnY",ah="block--qa1_0",ih="flex--y96xP",oh="space-between--HyTuq",lh="min-width--HtsxO",ch="breakAll--DygR3",uh="custom-scrollbar--EUNEB";function sh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return fh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fh(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fh(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var dh=function(e){return e.Context="conversation",e.Thought="thought",e.Input="input",e.Output="output",e}({}),ph=function(){var e,t,r=(0,l.wA)(),a=(0,l.d4)((function(e){return e.agentSlice.logsData})),i=(0,l.d4)((function(e){return e.agentSlice.isLogsWindowShown})),o=(0,l.d4)((function(e){return e.agentSlice.chatTraceInfo})),c=(0,l.d4)((function(e){return e.globalSlice.model}));(0,n.useEffect)((function(){a&&(m(!1),f((0,fg.A)(a)))}),[a]);var u=sh((0,n.useState)({}),2),s=u[0],f=u[1],d=sh((0,n.useState)(!0),2),p=d[0],m=d[1];(0,n.useEffect)((function(){i&&y()&&(null==c||c.invokeAsync("queryTraceLogs",{id:null==o?void 0:o.id,runId:null==o?void 0:o.runId}))}),[o,i]),(0,n.useEffect)((function(){m(!1)}),[a]);var y=function(){return!!o&&(""!==o.id&&""!==o.runId)},v=0===(null==s||null===(e=s.list)||void 0===e?void 0:e.length)||!p&&!y();return n.createElement("div",{className:"".concat(qg)},n.createElement("div",{style:{display:"flex",flexDirection:"column",height:"100%"}},n.createElement("div",{className:_g},n.createElement("div",{className:$g},n.createElement(da,{onClick:function(){f({}),r(Ge(!1))}},n.createElement(vg,null)),n.createElement("p",{className:eh},"日志记录"),n.createElement("p",{className:"".concat(th," ").concat(lh)},"TraceID: ",s.traceid))),p&&n.createElement("div",{style:{paddingTop:"200px"}},n.createElement(Kg,{isLoading:p})),v&&n.createElement("div",{style:{paddingTop:"200px"}},n.createElement(Ng,null)),(null==s||null===(t=s.list)||void 0===t?void 0:t.length)>0&&!p&&n.createElement("div",{className:"".concat(uh)},s.list.map((function(e,t){var r;return n.createElement("div",{className:ih,style:{minHeight:"300px"},key:t},t!==s.list.length-1?n.createElement("div",{className:nh,style:{minWidth:"1px"}}):n.createElement("div",{className:ah}),n.createElement("div",{style:{width:"100%",marginRight:"15px"}},n.createElement("div",{className:"".concat(ih," ").concat(oh," ").concat(rh)},n.createElement("p",{className:lh,style:{fontSize:"16px",margin:"10px 0"}},n.createElement(sg.A,{className:ch,reflowOnResize:!0,ellipsis:!0,text:"步骤".concat(t+1,"：").concat(e.title),dangerouslyUseInnerHTML:!0,maxLine:1})),n.createElement("p",{style:{textAlign:"right",margin:"10px 0",color:"#666",fontSize:"12px"}},"创建时间：",e.date)),n.createElement("div",{className:Zg},(null===(r=e.logs)||void 0===r?void 0:r.length)>0&&e.logs.map((function(e,t){return n.createElement("div",{style:{width:["".concat(dh.Context),"".concat(dh.Thought)].includes(e.role)?"100%":"49%"},key:t},n.createElement(Gg,{data:[e]}))})))))})))))};function mh(e){return mh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mh(e)}function yh(e,t,r){var n;return n=function(e,t){if("object"!=mh(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=mh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==mh(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var vh=function(){var e=(0,l.d4)((function(e){return e.globalSlice})),t=e.currentSkill,r=e.model,a=(e.isStartChat,(0,l.d4)((function(e){return e.agentSlice})).isLogsWindowShown),i=(0,l.d4)((function(e){return e.chatSlice})),o=i.chatScrollTop,c=i.isChat,u=ye("clearChatList"),s=N("setIsStartChat"),f=function(){c.status||(u(),s(!1),null==r||r.invokeAsync("newChat",{}))};(0,n.useEffect)((function(){null==r||r.invokeAsync("initAgentPlayground",{})}),[]);return n.createElement(n.Fragment,null,"production"===Ce.DEVELOPMENT?n.createElement(ug,null):null,"production"===Ce.DEVELOPMENT?n.createElement("div",{onClick:function(){null==r||r.invokeAsync("getChatItemList",{page:1,pageSize:25}),s(!0)}},"history"):null,n.createElement("div",{className:ct()(Jv)},n.createElement("div",{className:ct()(Wv)},n.createElement("div",{className:ct()(Kv,yh({},Zv,!o&&"0"!==t.id)),style:{display:a?"none":"flex"}},n.createElement("div",{className:ct()(qv,yh({},$v,"0"===(null==t?void 0:t.id)))},"预览"),n.createElement("div",{className:_v},n.createElement(da,{onClick:function(){return null==f?void 0:f()},title:"新建对话",size:19},n.createElement(Fm,null)))),n.createElement("div",{className:eg,style:{display:a?"none":"flex"}},n.createElement("div",{className:rg},n.createElement(Es,null,"0"===t.id?n.createElement("div",{className:ct()(Gv,yh(yh({},Xv,"0"===t.id),Vv,"0"!==t.id))},n.createElement(Xt,{isAvatar:!0,url:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAVAAAADACAYAAABS+TsuAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAABUKADAAQAAAABAAAAwAAAAAAPtN2+AAARRElEQVR4Ae3de4wdVR3A8d/s7t3utrTbYiltobVYikKV8miN1hgJVMGoQeMraQwhxKD4hyb6h8Y/DDH+ofEPYzTxhaaaiFET8Q+MggkRUaFtpC2yFGjBSnlsH7SUtrvbfdzx/Pb2Lnf33pmd2TnzODPfk1z23nmc8zufM/0x985LhIIAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIZCHgZdFIFdvwfb/r2f8d39HT0/Oxnu6eRZ4nWFdxQ8ipz74v/sTkxNmJiYn7rnjz8ts9z6vnFEqpm+UfdQrDO/jsi9f09y98qKdWW5ZC9VSJQCyBifHxkyMjwzduvOLSvbFWZOE5BbrmXIIFYgnonifJMxYZC6csoP8j121St82Um6pc9YBaHvKpr+3seVpWpbqkAppEddtMWg/rzxQggc70SPxJf/NMXAkVIJCCANumfVQSqGVTPWBkuUqqQ8CKANumFcYZlZBAZ3Ak/8DR9uSG1JCOANumfVcSqH1TakQAgYoIkEArMtB0EwEE7AuQQO2bUiMCCFREgARakYGmmwggYF+ABGrflBoRQKAiAiTQigw03UQAAfsCJFD7ptSIAAIVESCBVmSg6SYCCNgXIIHaN6VGBBCoiAAJtCIDTTcRQMC+AAnUvik1IoBARQR6KtLPynZzaGgoVt9XrlwZa3kWRqDKAuyBVnn06TsCCCQSIIEm4mNlBBCosgAJtMqjT98RQCCRAAk0ER8rI4BAlQVIoFUeffqOAAKJBDgKn4gvvZXjHj1PL5JGzUWLJ+3+Fq1+zo4o2og04mEPtJjjQlQIIOCAAAnUgUEiRAQQKKYACbSY40JUCCDggAAJ1IFBIkQEECimAAm0mONCVAgg4IAACdSBQSJEBBAopgAJtJjjQlQIIOCAAAnUgUEiRAQQKKYACbSY40JUCCDggAAJ1IFBIkQEECimAAm0mONCVAgg4IAA18IXdJBsXfts6xp2W/EUlJuwEJiXAHug82JjJQQQQECEBMpWgAACCMxTgAQ6TzhWQwABBEigbAMIIIDAPAVIoPOEYzUEEECAo/Al3wY4el7yAaZ7uQqwB5orP40jgIDLAiRQl0eP2BFAIFcBEmiu/DSOAAIuC5BAXR49YkcAgVwFSKC58tM4Agi4LEACdXn0iB0BBHIVIIHmyk/jCCDgsgAJ1OXRI3YEEMhVgASaKz+NI4CAywIkUJdHj9gRQCBXARJorvw0jgACLgtwLbzLo5dh7HHvbM81+BkODk3lJsAeaG70NIwAAq4LkEBdH0HiRwCB3ARIoLnR0zACCLguQAJ1fQSJHwEEchPgIFJu9DRsQ8DzR6Tv7F+k59wz4kndRpWlrmPyYbk7cQcNtO/J/u5uud/bKiOJ63O4As/h2AsZ+gtDp30bgcU96m2jTZt1BB2Ft9mvWv24bBi+TfrrB2yGTl3RBQa7xuQmb5scib5KuZbkK3y5xrNSvbnk3HdJnvmO+MZ6r3wn3xDybZ0Emq8/rScQWDL5SIK1WdWSwM2W6nGyGn4DdXLYCFoFavVjQKQp0LVQvKXbxeu/bqoVf+Rx8V+7V6Q+3NrqytYPVXtPAq3aiNNfBKIIeF3SteJrIr2XTy/tXXCjeL1rpX7kbhGfA3YKw1f46c2DNwgg0BTw+jbNSJ7N6ZpQp+ZNT6j2GxJotcef3iPQWaC2uvN0nRo2L3itUs4hgZZyWOkUAgkFxl8OriBsXvBapZxDAi3lsNIpBJIJ+KP7RMYOtldipk3Na59TySkcRKrksNNpBOYQMAeJ6ke/3fkoPAeQpvFIoNMUvEEAgRkC5nQl/8Q9YuXSuhkVl+cDX+HLM5b0BAEEMhZgDzRj8KjNBV1LHnV928vZuobdar9et91L6kMgngAJNJ4XSxdIYGzZnQWKJloo4+NjMmFenUpPrVdq5pVmWTC692H79e+yX6UjNZJAHRkowmwX6Ft8Q/vEgk/pyzu+xTe8z34I2+1X6UiN/AbqyEARJgIIFE+ABFq8MSEiBBBwRIAE6shAESYCCBRPgN9AizcmhYzI6tHzQvaQoBCIL8AeaHwz1kAAAQSmBNgDZUNAICuByXGRiVGRBYs7t3jiOZGTz3eeF3Vq/zKR1ZujLs1yCQVIoAkBWR2BQAF/UuT4s42kePKQyKnDIutvMq/3d15Fk+fBv3aeF2Vqn0me7/x8lCVZxpIACdQSJNUgMC0wdlbk8GPm9S+Rc6enJ6f6ppk8dQ+UkpkACTQzahoqvcDYGZEDD4i8/G/z3KCJ7LpL8szOelZLJNBZIHxEYF4CQ0+I7L/P3EPT7H1mWUieWWq3tUUCbSNhAgIxBDRhauLUBJp1IXlmLd7WHgm0jYQJCEQUGH1NZPdPRIZfjbiC5cW6zFmI5umZlPwE0M/PnpZdFtCkufNH8ZNnV81erzWG3T/N7kCVvchLUxN7oKUZSjqSmcDZo+cTV8Qbki5dJ7LyHSLLrxRZtNxumMPHGnvBevpS7wV266a2OQVIoHMSsQACLQIT50T27DB7fRGS54XrzTmf20T0b5plKqH/WGTLXSaJLkqzJeqeJUACnQWS9KOtO7cnjaMK669ZmkMv9/9R5Ozx8IZ7Fohs/ITZ69wUvpzNuWfMXvGTvxW57g6btVLXHAL8BjoHELMRmBbQ8zv1FVYGLhXZ+mW7yXPqaLvZu5zr6/+xp0VeMCfvUzITIIFmRk1DTgvoFUW69xlWBtaar9GfE7F5NVDzVKVll5nLNL8gsnhlWATmRP4/c1ApXMjqXBKoVU4qK63AIfMoIf39M6gsuURk82dFus3Xd1ulmTybCVkPEunvnNpWUNEYn3swaC7TLQuQQC2DUl0JBZrXtgd1radP5NrbRPSvrTI7eTbrrfWLbPqMSdQhD597cXf806ua9fM3lgAJNBYXC1dS4NAjIpNjwV2/8lYRTXi2SlDybNa/8E0iG25pfmr/69fNjUwebZ/OFOsCJFDrpFRYKoG6uSWd3lUpqCzfYO6/eX3Q3PjT50qezRrXvkdk2brmp/a/L5m9UL3/KCVVARJoqrxU7rzAqRcaN0EO6shlNwbNiT+9/8LG/Tybv3mG1eB5Zi/0g8FLjI+InDgYPJ85VgRIoFYYqaS0AseeCe7awBq7J8nrnmyU5NmMSI/MLzRJN6joaU2UVAVIoKnyUrnzAq+GJFCbX93nC7Uq5OeDsNjn2x7rzRAggc7g4AMCLQL6Nfj1l1smzHqrv3/mXS4Jef7R8EnzO2jIqVd5x16C9kmgJRhEupCSwOgpU7HfuXI92LPwos7zspyqX/kDzwAwsZ85kmU0lWuLBGp5yHWTtVwl1eUlEPY8o0UFSJ5NlyWrmu/a/+Z1r9L2SEo5hQRqf1gH7VdJjbkIjJ0ObrZvcfC8rOcsWBLcoj5GmZKaAAnUMq3nez+3XCXV5SUQlkBrBbr3Zo+5OimokECDZKxMJ4FaYXyjki3XrL/HfHrojSm8c1ZAn+seWMzVPkUp/kRIJAG/4YaswazoAiTQ6FaRlvQ8z++aGDcXK5NEI4EVeaHukGvbw34fzbpPYbGE9SHrOEvYHgk0hUHdvPmqV7Zsunyb+N6d5v//OzmwlAJyFlWG3RxkNMId6bOIUdsIiyWsD1nFV+J2uCN9SoOre6Km6p+df6XUSv7V7tp7oLzfEcNuYDxizrEsSgmLJawPRYnf4TjYA3V48Ag9ZYGw8zxHTQLVZxHlXTQGjSWohPUhaB2mRxYggUamYsHKCei9N8PuAH/kqfxJwmLQ2LUPlNQESKCp0Za/4n88/XSBToZMyfuiq4IrPvpk8Lys5oTFEBZ7VvGVvB0SaMkHOM3u1UZrIZfApNlyhnWveHtwY3qru5PPB89Pe462rTEElbDYg9ZheiwBEmgsLhZuFejy66tbP5fy/YB5/lDfQHDXnvlT8Ly054S1rTFr7JRUBUigqfKWu3K/ywu5FVBZ+m5uXHzx1cGdOXVYZGhf8Py05mib2nZQmYrZxE5JVYAEmipvuSv3/fqt5e7h+d5ddkP4Q9ye+oM5In88OwptS9sMKvrAOY2ZkroACTR14nI28M99B1d44m0tZ+9m9WqBOVa27r2zJrZ81PuG7tkR/uiPlsUTvdVr27UtbTOoaKwaMyV1ARJo6sTlbKDXl6+YnlVn+9E9urAbiOj5mHt+mW4SnUqepo2w8081RvY+M/tHV51/AJmRlr+hXf85uMYX/4vl72lLD7sXmIe4faBlQoe3J54TeeyH6Xyd16/tWre2EVY0Ro2VkokACTQT5pI1Mul/z/Qo5E4bJetvsztr3iWy6prmp85/de9w5w/sHljSA0ZaZ9iep0ajsWmMlMwEuBY+M+pyNLR734Gv+758vBy9mUcvNn5SZNjsDZ56MXhl/X1y369FDv1d5K0fMs9vf0vwsmFz9DxPPVUp7Gh7c/2BS0U0NkqmApznkCm3243t2nvw0+YZQb8xvSjEdrNl6e58QM+ZOzE9+n2RsNvItUY2sFZET2q/+CqRRSta57S/171MvTxTrzAKO0m+dU09YPTuL5kDR0tap2b23lu3vRDbQ2Ydbmmosh1vMeBtBIHze57fMosWZpvJLYGq1+sviTz+i+hJtGmsD4CbehCcSXbNhKcJWW9Jp3dVCrsxSLOO1r+aPK+7Q2RJfifNVzmB8hW+dWPkfZuAHjAS85tnpb+2t6mYCZqwdK9vz47wr/Oz19UEGTdJzq6j+Vm/tl97+xuJuDmdv5kJkEAzo3arIT3PU09V8ienjrZX74BRlOHSPcgtd4kM/l7klb1R1rC3jB4w0t88u2v26qSm2AIk0Nhk5VthcHDwgjPjfav12nbf8673pf5Rz/e3mjslc5bGXMOtCezq7Y0DRQceNCe4n5lrjWTz9TxPPVWJo+3JHC2tTQK1BOlaNSZp9g6P937TF++2s+P+Kk/q5gkk2gszpTg/c7rDqglt9bUi//2bOfr+iMjkmN3Y9fJMvcJIT5LnPE+7tglqI4EmwHN51UbylK9qwqRYEtDEdvnNZu/QXOGqifTIE+b3zlPJKte7KumNQTRxcnlmMssU1iaBpoDqQpW650nyTGmkNNG97SPm9eHGAaajgyLHzKlJp4eiNah3ktebIa/YaG5JZw4U8Y0gmlsOS5FAc0CnyaoImN9EBtY0XhtuadwAZPhY41JPva590ry06KOH9emZ+gA4fYYRj+FouDjwXxKoA4OURoie+L8yX97NV3hKZgKaGPWken1RSiFAAi3FMMbvxMLa2DfM76B6yEi/ypf/0RzxiVgDgTkFCnNVyZyRsgACswT8Q/dyBGyWSR4fq3wlEuf55bHF0aYtgYhHZWw1Rz0dBCo9BiTQDlsEkxwR8OQBRyItb5gVHwMSaHk37fL3bHLqIJg5R4iSk8CgNMYgp+bzb5bfQPMfAyJIIOAf/l2/1MfNCZfelVL32SFIYBl51S6vbg487peu2v3emk+Zm59SEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAwKrA/wGrM8TAt6aAVgAAAABJRU5ErkJggg==",name:"agent_empty",height:66,width:112}),n.createElement("div",null,"Agent预览区，请完成配置并保存后使用")):null)),n.createElement("div",{className:ng},n.createElement("span",{className:ag},n.createElement("p",null,"AI生成内容可能有误，请结合经验使用"),n.createElement("a",{onClick:function(){null==r||r.invokeAsync("showAgreement",{show:!0})},className:ig},"隐私")))),n.createElement("div",{className:tg,style:{display:a?"flex":"none"}},n.createElement(ph,null)))))},gh={gptRobot:"gptRobot--twor9",gptBox:"gptBox--y7PJt",floatingWindowHeader:"floatingWindowHeader--cABWW",notTop:"notTop--q80bT",floatingWindowHeader_title:"floatingWindowHeader_title--wD3xX",title:"title--c0Fy7",show:"show--eJybU",text:"text--ohIZO",headerLeftOperate:"headerLeftOperate--yCfxv",floatingWindowFooter:"floatingWindowFooter--U5MEu",footerContent:"footerContent--CcQdP",agreement:"agreement--jAyIx"};function hh(e){return hh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hh(e)}function bh(){return bh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bh.apply(this,arguments)}function Ah(e,t,r){var n;return n=function(e,t){if("object"!=hh(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=hh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==hh(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Eh=function(){var e=c((function(e){return e.globalSlice})),t=e.model,r=e.isStartChat,a=e.assistantName,i=e.currentSkill,o=e.avatar,l=c((function(e){return e.chatSlice})),u=l.chatScrollTop,s=l.isChat,f=ye("clearChatList"),d=N("setIsStartChat"),p=!i.id,m=p?{url:o||"",isAvatar:!1,name:a||"",width:18,height:18}:{url:i.picture||ko,isAvatar:!1,name:i.name,width:18,height:18};return n.createElement("div",{className:ct()(gh.gptRobot)},n.createElement("div",{className:ct()(gh.gptBox)},n.createElement("div",{className:ct()(gh.floatingWindowHeader,Ah({},gh.notTop,!u))},n.createElement("div",{className:ct()(gh.floatingWindowHeader_title)},n.createElement("div",{className:ct()(gh.title,Ah({},gh.show,r)),title:p?a||"":i.name},n.createElement(Xt,bh({},m,{className:gh.img})),n.createElement("span",{className:gh.text},p?a:i.name))),n.createElement("div",{className:gh.headerLeftOperate},n.createElement(Hm,{handleNewChat:function(){s.status||(f(),d(!1),null==t||t.invokeAsync("newChat",{}))}}))),n.createElement(Es,null),n.createElement("div",{className:gh.floatingWindowFooter},n.createElement("span",{className:gh.footerContent},n.createElement("p",null,"AI生成内容可能有误，请结合经验使用"),n.createElement("a",{onClick:function(){null==t||t.invokeAsync("showAgreement",{show:!0})},className:gh.agreement},"隐私")))))},Sh=function(e,t){var r=(0,n.useRef)(!1);(0,n.useEffect)((function(){if(r.current)return e();r.current=!0}),t)},wh={gptRobot:"gptRobot--alqLi",gptBox:"gptBox--bNplL",fixedAssistant:"fixedAssistant--xza3n",marginLeft420:"marginLeft420--wKQiS",notFixedAssistant:"notFixedAssistant--dhc2Z",marginLeft0:"marginLeft0--cnvDK",floatingWindowHeader:"floatingWindowHeader--z63W4",notTop:"notTop--N01NQ",floatingWindowHeader_title:"floatingWindowHeader_title--Z58AB",title:"title--rHc4b",show:"show--XOZAq",text:"text--tO9LT",headerLeftOperate:"headerLeftOperate--pruP8",headerRightOperate:"headerRightOperate--BOA5n",operateBtn:"operateBtn--yipjH",floatingWindowBody:"floatingWindowBody--qKWi1",floatingWindowFooter:"floatingWindowFooter--UkOtI",footerContent:"footerContent--aSs56",agreement:"agreement--U77i8",mask:"mask--rgXGS",hide:"hide--qJDth"};function Oh(e){return Oh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oh(e)}function jh(){return jh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jh.apply(this,arguments)}function Ih(e,t,r){var n;return n=function(e,t){if("object"!=Oh(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Oh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Oh(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return xh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xh(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xh(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ch=function(){var e=(0,l.wA)(),t=c((function(e){return e.globalSlice})),r=t.model,a=t.isStartChat,i=t.assistantName,o=t.currentSkill,u=t.avatar,s=c((function(e){return e.chatSlice})),f=s.chatScrollTop,d=s.isChat,p=kh((0,n.useState)(!1),2),m=p[0],y=p[1],v=kh((0,n.useState)(!1),2),g=v[0],h=v[1],b=kh((0,n.useState)(!1),2),A=b[0],E=b[1],S=kh((0,n.useState)(!1),2),w=S[0],O=S[1],j=!o.id,I={url:u||"",isAvatar:!1,name:i||"",width:18,height:18},k=function(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?(y(!1),setTimeout((function(){h(!1)}),300)):(y(!0),h(!1)),E(!1)};return(0,n.useEffect)((function(){O(!!A)}),[A]),n.createElement("div",{className:ct()(wh.gptRobot,Ih({},wh.isChat,a)),id:"gai-gpt-agent-container"},n.createElement("div",{className:ct()(wh.gptBox,w?wh.fixedAssistant:wh.notFixedAssistant)},n.createElement("div",{className:ct()(wh.floatingWindowHeader,Ih({},wh.notTop,!f))},n.createElement("div",{className:ct()(wh.floatingWindowHeader_title)},n.createElement("div",{className:ct()(wh.title,Ih({},wh.show,a)),title:j?i||"":o.name},n.createElement(Xt,jh({},I,{className:wh.img})),n.createElement("span",{className:wh.text},i))),n.createElement("div",{className:wh.headerLeftOperate},n.createElement(Hm,{handleShowChatHistory:function(){y(!1),A?k():(E(!A),h(!0)),O(!0)},handleNewChat:function(){d.status||(e(be()),e(Je()),e(C(!1)),null==r||r.invokeAsync("newChat",{}))}}))),n.createElement(Es,null),n.createElement("div",{className:wh.floatingWindowFooter},n.createElement("span",{className:wh.footerContent},n.createElement("p",null,"AI生成内容可能有误，请结合经验使用"),n.createElement("a",{onClick:function(){null==r||r.invokeAsync("showAgreement",{show:!0})},className:wh.agreement},"隐私")))),g&&n.createElement(Zy,{isShown:A,isFullScreen:!0,onClose:k,noPopupAnimation:m}))};r(2365);function Ph(e){return Ph="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ph(e)}function Nh(e,t,r){var n;return n=function(e,t){if("object"!=Ph(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Ph(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Ph(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Rh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rh(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rh(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Th=function(){return n.createElement(n.Fragment,null,n.createElement(Pv,null))},Bh=function(e){var t=e.showIcon,r=e.switchSide,a=(e.newPortal,e.firstInitial),i=(0,l.wA)(),o=(0,l.d4)((function(e){return e.globalSlice})),c=o.model,u=o.isQingAnalysisTab,s=o.chatSessionId,f=Lh((0,n.useState)(!1),2),d=f[0],p=f[1],m=(0,n.useRef)(r);(0,n.useEffect)((function(){gd({switchSide:m.current,triggerEvent:"tabSwitch"})}),[u]),(0,n.useEffect)((function(){a&&t&&y()}),[a,t]),Sh((function(){t&&(null==c||c.invokeAsync("statusChanged",{gaiShowStatus:r})),m.current=r}),[t,r]);var y=function(){var e=ht(location.href),t=e.get("gaiAction"),r=e.get("gaiParams"),n=e.get("gaiShow"),a=e.get("gaiLock");if(t&&r){var i=JSON.parse(r);if(i){var o=sessionStorage.getItem("gai_consumed_params");if(o){var l=JSON.parse(o);if(l.some((function(e){return e===i.id})))return;v(n,a,t,r,l.concat(i.id))}else v(n,a,t,r,[i.id])}}},v=function(e,t,r,n,a){e?("0"===e&&i(w(!1)),"1"===e&&i(w(!0))):i(w(!0)),t?("0"===t&&i(O(!1)),"1"===t&&i(O(!0))):i(O(!1)),null==c||c.invokeAsync(r,JSON.parse(n)),sessionStorage.setItem("gai_consumed_params",JSON.stringify(a))};return n.createElement(n.Fragment,null,n.createElement("button",{style:{display:t?"flex":"none"},onClick:function(){i(w(!r)),u&&gd({switchSide:!r,triggerEvent:"click"}),r||null==c||c.invokeAsync("getSkillList",{id:s})},className:ct()(Zp,Nh({},_p,!0)),onMouseOver:function(){p(!0)},onMouseLeave:function(){p(!1)}},d?n.createElement(sm,{className:ct()(qp)}):n.createElement(am,{className:ct()(qp)})),n.createElement(rv,null))},Mh=function(){var e=c((function(e){return e.globalSlice})),t=e.theme,r=e.showIcon,a=e.switchSide,i=e.newPortal,o=e.firstInitial;(0,n.useEffect)((function(){document.body.setAttribute("data-gai-theme",t)}),[t]);return n.createElement(n.Fragment,null,n.createElement($o,{featureKey:"MAIN"},n.createElement(Bh,{firstInitial:o,showIcon:r,newPortal:i,switchSide:a})),n.createElement($o,{featureKey:"PLAYGROUND"},n.createElement(Th,null)),n.createElement($o,{featureKey:"AGENT"},n.createElement(vh,null)),n.createElement($o,{featureKey:"CUSTOM"},n.createElement(Yv,null)),n.createElement($o,{featureKey:"ASSISTANT"},n.createElement(Eh,null)),n.createElement($o,{featureKey:"HOMEPAGE"},n.createElement(Ch,null)))};window.ResizeObserver=a.A;var zh=function(e){this.store=function(){var e=(0,o.Ay)(),t=[e,Xp];Ce.DEVELOPMENT;var r=(0,i.U1)({reducer:{globalSlice:L,agentSlice:Be,chatSlice:xe,processSlice:Lp},middleware:function(e){return e({serializableCheck:!1}).concat(t)}});return"production"===Ce.DEVELOPMENT&&e.run(Cp),"production"===Ce.PRODUCTION&&e.run(hp),r}(),this.store.dispatch(b(e)),this.root=(0,Kp.H)(e.dom),this.root.render(n.createElement(l.Kq,{store:this.store},n.createElement(Mh,null))),this.init=function(e){e.data&&this.store.dispatch({type:"updateModel",payload:e.data})},this.update=function(e){this.store&&e.themeColor&&this.store.dispatch({type:"global/setTheme",payload:e.themeColor}),this.store&&e.data&&this.store.dispatch({type:"updateModel",payload:e.data})},this.unmount=function(){this.root.unmount()}}},73936:function(){}}]);