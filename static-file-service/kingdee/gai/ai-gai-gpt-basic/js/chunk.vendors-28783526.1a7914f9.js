// Build date: 2025/3/24 17:12:59
 // Version: 6.0.0
 (self.webpackChunkgpt_gai=self.webpackChunkgpt_gai||[]).push([[334],{45444:function(e,t,n){"use strict";n.d(t,{A:function(){return a}});var r=n(29950);function a(e){return(0,r.A)(e).getComputedStyle(e)}},18784:function(e,t,n){"use strict";n.d(t,{A:function(){return a}});var r=n(86074);function a(e){return(((0,r.vq)(e)?e.ownerDocument:e.document)||window.document).documentElement}},30777:function(e,t,n){"use strict";function r(e){return e?(e.nodeName||"").toLowerCase():null}n.d(t,{A:function(){return r}})},79008:function(e,t,n){"use strict";n.d(t,{A:function(){return l}});var r=n(29950),a=n(30777),s=n(45444),i=n(86074);function o(e){return["table","td","th"].indexOf((0,a.A)(e))>=0}var c=n(76742),u=n(62355);function E(e){return(0,i.sb)(e)&&"fixed"!==(0,s.A)(e).position?e.offsetParent:null}function l(e){for(var t=(0,r.A)(e),n=E(e);n&&o(n)&&"static"===(0,s.A)(n).position;)n=E(n);return n&&("html"===(0,a.A)(n)||"body"===(0,a.A)(n)&&"static"===(0,s.A)(n).position)?t:n||function(e){var t=/firefox/i.test((0,u.A)());if(/Trident/i.test((0,u.A)())&&(0,i.sb)(e)&&"fixed"===(0,s.A)(e).position)return null;var n=(0,c.A)(e);for((0,i.Ng)(n)&&(n=n.host);(0,i.sb)(n)&&["html","body"].indexOf((0,a.A)(n))<0;){var r=(0,s.A)(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}},76742:function(e,t,n){"use strict";n.d(t,{A:function(){return i}});var r=n(30777),a=n(18784),s=n(86074);function i(e){return"html"===(0,r.A)(e)?e:e.assignedSlot||e.parentNode||((0,s.Ng)(e)?e.host:null)||(0,a.A)(e)}},29950:function(e,t,n){"use strict";function r(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}n.d(t,{A:function(){return r}})},73107:function(e,t,n){"use strict";n.d(t,{A:function(){return a}});var r=n(29950);function a(e){var t=(0,r.A)(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}},86074:function(e,t,n){"use strict";n.d(t,{Ng:function(){return i},sb:function(){return s},vq:function(){return a}});var r=n(29950);function a(e){return e instanceof(0,r.A)(e).Element||e instanceof Element}function s(e){return e instanceof(0,r.A)(e).HTMLElement||e instanceof HTMLElement}function i(e){return"undefined"!=typeof ShadowRoot&&(e instanceof(0,r.A)(e).ShadowRoot||e instanceof ShadowRoot)}},44782:function(e,t,n){"use strict";n.d(t,{A:function(){return a}});var r=n(45444);function a(e){var t=(0,r.A)(e),n=t.overflow,a=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+a)}},28956:function(e,t,n){"use strict";n.d(t,{n4:function(){return fe}});var r=n(86074),a=Math.max,s=Math.min,i=Math.round,o=n(29950),c=n(62355);function u(){return!/^((?!chrome|android).)*safari/i.test((0,c.A)())}function E(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var a=e.getBoundingClientRect(),s=1,c=1;t&&(0,r.sb)(e)&&(s=e.offsetWidth>0&&i(a.width)/e.offsetWidth||1,c=e.offsetHeight>0&&i(a.height)/e.offsetHeight||1);var E=((0,r.vq)(e)?(0,o.A)(e):window).visualViewport,l=!u()&&n,h=(a.left+(l&&E?E.offsetLeft:0))/s,T=(a.top+(l&&E?E.offsetTop:0))/c,f=a.width/s,A=a.height/c;return{width:f,height:A,top:T,right:h+f,bottom:T+A,left:h,x:h,y:T}}var l=n(73107);var h=n(30777),T=n(18784);function f(e){return E((0,T.A)(e)).left+(0,l.A)(e).scrollLeft}var A=n(44782);function _(e,t,n){void 0===n&&(n=!1);var a,s,c=(0,r.sb)(t),u=(0,r.sb)(t)&&function(e){var t=e.getBoundingClientRect(),n=i(t.width)/e.offsetWidth||1,r=i(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),_=(0,T.A)(t),d=E(e,u,n),p={scrollLeft:0,scrollTop:0},m={x:0,y:0};return(c||!c&&!n)&&(("body"!==(0,h.A)(t)||(0,A.A)(_))&&(p=(a=t)!==(0,o.A)(a)&&(0,r.sb)(a)?{scrollLeft:(s=a).scrollLeft,scrollTop:s.scrollTop}:(0,l.A)(a)),(0,r.sb)(t)?((m=E(t,!0)).x+=t.clientLeft,m.y+=t.clientTop):_&&(m.x=f(_))),{x:d.left+p.scrollLeft-m.x,y:d.top+p.scrollTop-m.y,width:d.width,height:d.height}}function d(e){var t=E(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}var p=n(76742);function m(e){return["html","body","#document"].indexOf((0,h.A)(e))>=0?e.ownerDocument.body:(0,r.sb)(e)&&(0,A.A)(e)?e:m((0,p.A)(e))}function N(e,t){var n;void 0===t&&(t=[]);var r=m(e),a=r===(null==(n=e.ownerDocument)?void 0:n.body),s=(0,o.A)(r),i=a?[s].concat(s.visualViewport||[],(0,A.A)(r)?r:[]):r,c=t.concat(i);return a?c:c.concat(N((0,p.A)(i)))}var I=n(79008),C="top",S="bottom",O="right",R="left",D="auto",g=[C,S,O,R],k="start",L="end",v="clippingParents",b="viewport",M="popper",y="reference",P=g.reduce((function(e,t){return e.concat([t+"-"+k,t+"-"+L])}),[]),B=[].concat(g,[D]).reduce((function(e,t){return e.concat([t,t+"-"+k,t+"-"+L])}),[]),H=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function F(e){var t=new Map,n=new Set,r=[];function a(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&a(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||a(e)})),r}var U={placement:"bottom",modifiers:[],strategy:"absolute"};function w(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function G(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,a=void 0===n?[]:n,s=t.defaultOptions,i=void 0===s?U:s;return function(e,t,n){void 0===n&&(n=i);var s,o,c={placement:"bottom",orderedModifiers:[],options:Object.assign({},U,i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},u=[],E=!1,l={state:c,setOptions:function(n){var s="function"==typeof n?n(c.options):n;h(),c.options=Object.assign({},i,c.options,s),c.scrollParents={reference:(0,r.vq)(e)?N(e):e.contextElement?N(e.contextElement):[],popper:N(t)};var o,E,T=function(e){var t=F(e);return H.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}((o=[].concat(a,c.options.modifiers),E=o.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{}),Object.keys(E).map((function(e){return E[e]}))));return c.orderedModifiers=T.filter((function(e){return e.enabled})),c.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,a=e.effect;if("function"==typeof a){var s=a({state:c,name:t,instance:l,options:r}),i=function(){};u.push(s||i)}})),l.update()},forceUpdate:function(){if(!E){var e=c.elements,t=e.reference,n=e.popper;if(w(t,n)){c.rects={reference:_(t,(0,I.A)(n),"fixed"===c.options.strategy),popper:d(n)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach((function(e){return c.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<c.orderedModifiers.length;r++)if(!0!==c.reset){var a=c.orderedModifiers[r],s=a.fn,i=a.options,o=void 0===i?{}:i,u=a.name;"function"==typeof s&&(c=s({state:c,options:o,name:u,instance:l})||c)}else c.reset=!1,r=-1}}},update:(s=function(){return new Promise((function(e){l.forceUpdate(),e(c)}))},function(){return o||(o=new Promise((function(e){Promise.resolve().then((function(){o=void 0,e(s())}))}))),o}),destroy:function(){h(),E=!0}};if(!w(e,t))return l;function h(){u.forEach((function(e){return e()})),u=[]}return l.setOptions(n).then((function(e){!E&&n.onFirstUpdate&&n.onFirstUpdate(e)})),l}}var x={passive:!0};var Y={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,a=r.scroll,s=void 0===a||a,i=r.resize,c=void 0===i||i,u=(0,o.A)(t.elements.popper),E=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&E.forEach((function(e){e.addEventListener("scroll",n.update,x)})),c&&u.addEventListener("resize",n.update,x),function(){s&&E.forEach((function(e){e.removeEventListener("scroll",n.update,x)})),c&&u.removeEventListener("resize",n.update,x)}},data:{}};function Q(e){return e.split("-")[0]}function W(e){return e.split("-")[1]}function X(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function K(e){var t,n=e.reference,r=e.element,a=e.placement,s=a?Q(a):null,i=a?W(a):null,o=n.x+n.width/2-r.width/2,c=n.y+n.height/2-r.height/2;switch(s){case C:t={x:o,y:n.y-r.height};break;case S:t={x:o,y:n.y+n.height};break;case O:t={x:n.x+n.width,y:c};break;case R:t={x:n.x-r.width,y:c};break;default:t={x:n.x,y:n.y}}var u=s?X(s):null;if(null!=u){var E="y"===u?"height":"width";switch(i){case k:t[u]=t[u]-(n[E]/2-r[E]/2);break;case L:t[u]=t[u]+(n[E]/2-r[E]/2)}}return t}var j={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=K({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},V=n(45444),z={top:"auto",right:"auto",bottom:"auto",left:"auto"};function q(e){var t,n=e.popper,r=e.popperRect,a=e.placement,s=e.variation,c=e.offsets,u=e.position,E=e.gpuAcceleration,l=e.adaptive,h=e.roundOffsets,f=e.isFixed,A=c.x,_=void 0===A?0:A,d=c.y,p=void 0===d?0:d,m="function"==typeof h?h({x:_,y:p}):{x:_,y:p};_=m.x,p=m.y;var N=c.hasOwnProperty("x"),D=c.hasOwnProperty("y"),g=R,k=C,v=window;if(l){var b=(0,I.A)(n),M="clientHeight",y="clientWidth";if(b===(0,o.A)(n)&&(b=(0,T.A)(n),"static"!==(0,V.A)(b).position&&"absolute"===u&&(M="scrollHeight",y="scrollWidth")),a===C||(a===R||a===O)&&s===L)k=S,p-=(f&&b===v&&v.visualViewport?v.visualViewport.height:b[M])-r.height,p*=E?1:-1;if(a===R||(a===C||a===S)&&s===L)g=O,_-=(f&&b===v&&v.visualViewport?v.visualViewport.width:b[y])-r.width,_*=E?1:-1}var P,B=Object.assign({position:u},l&&z),H=!0===h?function(e,t){var n=e.x,r=e.y,a=t.devicePixelRatio||1;return{x:i(n*a)/a||0,y:i(r*a)/a||0}}({x:_,y:p},(0,o.A)(n)):{x:_,y:p};return _=H.x,p=H.y,E?Object.assign({},B,((P={})[k]=D?"0":"",P[g]=N?"0":"",P.transform=(v.devicePixelRatio||1)<=1?"translate("+_+"px, "+p+"px)":"translate3d("+_+"px, "+p+"px, 0)",P)):Object.assign({},B,((t={})[k]=D?p+"px":"",t[g]=N?_+"px":"",t.transform="",t))}var J={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,a=n.offset,s=void 0===a?[0,0]:a,i=B.reduce((function(e,n){return e[n]=function(e,t,n){var r=Q(e),a=[R,C].indexOf(r)>=0?-1:1,s="function"==typeof n?n(Object.assign({},t,{placement:e})):n,i=s[0],o=s[1];return i=i||0,o=(o||0)*a,[R,O].indexOf(r)>=0?{x:o,y:i}:{x:i,y:o}}(n,t.rects,s),e}),{}),o=i[t.placement],c=o.x,u=o.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=i}},Z={left:"right",right:"left",bottom:"top",top:"bottom"};function $(e){return e.replace(/left|right|bottom|top/g,(function(e){return Z[e]}))}var ee={start:"end",end:"start"};function te(e){return e.replace(/start|end/g,(function(e){return ee[e]}))}function ne(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&(0,r.Ng)(n)){var a=t;do{if(a&&e.isSameNode(a))return!0;a=a.parentNode||a.host}while(a)}return!1}function re(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function ae(e,t,n){return t===b?re(function(e,t){var n=(0,o.A)(e),r=(0,T.A)(e),a=n.visualViewport,s=r.clientWidth,i=r.clientHeight,c=0,E=0;if(a){s=a.width,i=a.height;var l=u();(l||!l&&"fixed"===t)&&(c=a.offsetLeft,E=a.offsetTop)}return{width:s,height:i,x:c+f(e),y:E}}(e,n)):(0,r.vq)(t)?function(e,t){var n=E(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):re(function(e){var t,n=(0,T.A)(e),r=(0,l.A)(e),s=null==(t=e.ownerDocument)?void 0:t.body,i=a(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=a(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),c=-r.scrollLeft+f(e),u=-r.scrollTop;return"rtl"===(0,V.A)(s||n).direction&&(c+=a(n.clientWidth,s?s.clientWidth:0)-i),{width:i,height:o,x:c,y:u}}((0,T.A)(e)))}function se(e,t,n,i){var o="clippingParents"===t?function(e){var t=N((0,p.A)(e)),n=["absolute","fixed"].indexOf((0,V.A)(e).position)>=0&&(0,r.sb)(e)?(0,I.A)(e):e;return(0,r.vq)(n)?t.filter((function(e){return(0,r.vq)(e)&&ne(e,n)&&"body"!==(0,h.A)(e)})):[]}(e):[].concat(t),c=[].concat(o,[n]),u=c[0],E=c.reduce((function(t,n){var r=ae(e,n,i);return t.top=a(r.top,t.top),t.right=s(r.right,t.right),t.bottom=s(r.bottom,t.bottom),t.left=a(r.left,t.left),t}),ae(e,u,i));return E.width=E.right-E.left,E.height=E.bottom-E.top,E.x=E.left,E.y=E.top,E}function ie(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function oe(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function ce(e,t){void 0===t&&(t={});var n=t,a=n.placement,s=void 0===a?e.placement:a,i=n.strategy,o=void 0===i?e.strategy:i,c=n.boundary,u=void 0===c?v:c,l=n.rootBoundary,h=void 0===l?b:l,f=n.elementContext,A=void 0===f?M:f,_=n.altBoundary,d=void 0!==_&&_,p=n.padding,m=void 0===p?0:p,N=ie("number"!=typeof m?m:oe(m,g)),I=A===M?y:M,R=e.rects.popper,D=e.elements[d?I:A],k=se((0,r.vq)(D)?D:D.contextElement||(0,T.A)(e.elements.popper),u,h,o),L=E(e.elements.reference),P=K({reference:L,element:R,strategy:"absolute",placement:s}),B=re(Object.assign({},R,P)),H=A===M?B:L,F={top:k.top-H.top+N.top,bottom:H.bottom-k.bottom+N.bottom,left:k.left-H.left+N.left,right:H.right-k.right+N.right},U=e.modifiersData.offset;if(A===M&&U){var w=U[s];Object.keys(F).forEach((function(e){var t=[O,S].indexOf(e)>=0?1:-1,n=[C,S].indexOf(e)>=0?"y":"x";F[e]+=w[n]*t}))}return F}function ue(e,t,n){return a(e,s(t,n))}var Ee={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=void 0===i||i,c=n.altAxis,u=void 0!==c&&c,E=n.boundary,l=n.rootBoundary,h=n.altBoundary,T=n.padding,f=n.tether,A=void 0===f||f,_=n.tetherOffset,p=void 0===_?0:_,m=ce(t,{boundary:E,rootBoundary:l,padding:T,altBoundary:h}),N=Q(t.placement),D=W(t.placement),g=!D,L=X(N),v="x"===L?"y":"x",b=t.modifiersData.popperOffsets,M=t.rects.reference,y=t.rects.popper,P="function"==typeof p?p(Object.assign({},t.rects,{placement:t.placement})):p,B="number"==typeof P?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),H=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,F={x:0,y:0};if(b){if(o){var U,w="y"===L?C:R,G="y"===L?S:O,x="y"===L?"height":"width",Y=b[L],K=Y+m[w],j=Y-m[G],V=A?-y[x]/2:0,z=D===k?M[x]:y[x],q=D===k?-y[x]:-M[x],J=t.elements.arrow,Z=A&&J?d(J):{width:0,height:0},$=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},ee=$[w],te=$[G],ne=ue(0,M[x],Z[x]),re=g?M[x]/2-V-ne-ee-B.mainAxis:z-ne-ee-B.mainAxis,ae=g?-M[x]/2+V+ne+te+B.mainAxis:q+ne+te+B.mainAxis,se=t.elements.arrow&&(0,I.A)(t.elements.arrow),ie=se?"y"===L?se.clientTop||0:se.clientLeft||0:0,oe=null!=(U=null==H?void 0:H[L])?U:0,Ee=Y+ae-oe,le=ue(A?s(K,Y+re-oe-ie):K,Y,A?a(j,Ee):j);b[L]=le,F[L]=le-Y}if(u){var he,Te="x"===L?C:R,fe="x"===L?S:O,Ae=b[v],_e="y"===v?"height":"width",de=Ae+m[Te],pe=Ae-m[fe],me=-1!==[C,R].indexOf(N),Ne=null!=(he=null==H?void 0:H[v])?he:0,Ie=me?de:Ae-M[_e]-y[_e]-Ne+B.altAxis,Ce=me?Ae+M[_e]+y[_e]-Ne-B.altAxis:pe,Se=A&&me?function(e,t,n){var r=ue(e,t,n);return r>n?n:r}(Ie,Ae,Ce):ue(A?Ie:de,Ae,A?Ce:pe);b[v]=Se,F[v]=Se-Ae}t.modifiersData[r]=F}},requiresIfExists:["offset"]};var le={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,a=e.options,s=n.elements.arrow,i=n.modifiersData.popperOffsets,o=Q(n.placement),c=X(o),u=[R,O].indexOf(o)>=0?"height":"width";if(s&&i){var E=function(e,t){return ie("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:oe(e,g))}(a.padding,n),l=d(s),h="y"===c?C:R,T="y"===c?S:O,f=n.rects.reference[u]+n.rects.reference[c]-i[c]-n.rects.popper[u],A=i[c]-n.rects.reference[c],_=(0,I.A)(s),p=_?"y"===c?_.clientHeight||0:_.clientWidth||0:0,m=f/2-A/2,N=E[h],D=p-l[u]-E[T],k=p/2-l[u]/2+m,L=ue(N,k,D),v=c;n.modifiersData[r]=((t={})[v]=L,t.centerOffset=L-k,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&ne(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function he(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Te(e){return[C,O,S,R].some((function(t){return e[t]>=0}))}var fe=G({defaultModifiers:[Y,j,{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,a=void 0===r||r,s=n.adaptive,i=void 0===s||s,o=n.roundOffsets,c=void 0===o||o,u={placement:Q(t.placement),variation:W(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,q(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:i,roundOffsets:c})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,q(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},a=t.attributes[e]||{},s=t.elements[e];(0,r.sb)(s)&&(0,h.A)(s)&&(Object.assign(s.style,n),Object.keys(a).forEach((function(e){var t=a[e];!1===t?s.removeAttribute(e):s.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var a=t.elements[e],s=t.attributes[e]||{},i=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});(0,r.sb)(a)&&(0,h.A)(a)&&(Object.assign(a.style,i),Object.keys(s).forEach((function(e){a.removeAttribute(e)})))}))}},requires:["computeStyles"]},J,{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var a=n.mainAxis,s=void 0===a||a,i=n.altAxis,o=void 0===i||i,c=n.fallbackPlacements,u=n.padding,E=n.boundary,l=n.rootBoundary,h=n.altBoundary,T=n.flipVariations,f=void 0===T||T,A=n.allowedAutoPlacements,_=t.options.placement,d=Q(_),p=c||(d===_||!f?[$(_)]:function(e){if(Q(e)===D)return[];var t=$(e);return[te(e),t,te(t)]}(_)),m=[_].concat(p).reduce((function(e,n){return e.concat(Q(n)===D?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,a=n.boundary,s=n.rootBoundary,i=n.padding,o=n.flipVariations,c=n.allowedAutoPlacements,u=void 0===c?B:c,E=W(r),l=E?o?P:P.filter((function(e){return W(e)===E})):g,h=l.filter((function(e){return u.indexOf(e)>=0}));0===h.length&&(h=l);var T=h.reduce((function(t,n){return t[n]=ce(e,{placement:n,boundary:a,rootBoundary:s,padding:i})[Q(n)],t}),{});return Object.keys(T).sort((function(e,t){return T[e]-T[t]}))}(t,{placement:n,boundary:E,rootBoundary:l,padding:u,flipVariations:f,allowedAutoPlacements:A}):n)}),[]),N=t.rects.reference,I=t.rects.popper,L=new Map,v=!0,b=m[0],M=0;M<m.length;M++){var y=m[M],H=Q(y),F=W(y)===k,U=[C,S].indexOf(H)>=0,w=U?"width":"height",G=ce(t,{placement:y,boundary:E,rootBoundary:l,altBoundary:h,padding:u}),x=U?F?O:R:F?S:C;N[w]>I[w]&&(x=$(x));var Y=$(x),X=[];if(s&&X.push(G[H]<=0),o&&X.push(G[x]<=0,G[Y]<=0),X.every((function(e){return e}))){b=y,v=!1;break}L.set(y,X)}if(v)for(var K=function(e){var t=m.find((function(t){var n=L.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return b=t,"break"},j=f?3:1;j>0;j--){if("break"===K(j))break}t.placement!==b&&(t.modifiersData[r]._skip=!0,t.placement=b,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},Ee,le,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,a=t.rects.popper,s=t.modifiersData.preventOverflow,i=ce(t,{elementContext:"reference"}),o=ce(t,{altBoundary:!0}),c=he(i,r),u=he(o,a,s),E=Te(c),l=Te(u);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:E,hasPopperEscaped:l},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":E,"data-popper-escaped":l})}}]})},62355:function(e,t,n){"use strict";function r(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}n.d(t,{A:function(){return r}})},18695:function(e){"use strict";var t;e.exports=function(e){var n,r="&"+e+";";if((t=t||document.createElement("i")).innerHTML=r,59===(n=t.textContent).charCodeAt(n.length-1)&&"semi"!==e)return!1;return n!==r&&n}},32263:function(e,t,n){"use strict";var r=n(84472),a=n(78192),s=n(16634),i=n(32706),o=n(81574),c=n(18695);e.exports=function(e,t){var n,s,i={};t||(t={});for(s in h)n=t[s],i[s]=null==n?h[s]:n;(i.position.indent||i.position.start)&&(i.indent=i.position.indent||[],i.position=i.position.start);return function(e,t){var n,s,i,h,G,x,Y,Q,W,X,K,j,V,z,q,J,Z,$,ee,te=t.additional,ne=t.nonTerminated,re=t.text,ae=t.reference,se=t.warning,ie=t.textContext,oe=t.referenceContext,ce=t.warningContext,ue=t.position,Ee=t.indent||[],le=e.length,he=0,Te=-1,fe=ue.column||1,Ae=ue.line||1,_e="",de=[];"string"==typeof te&&(te=te.charCodeAt(0));J=pe(),Q=se?me:l,he--,le++;for(;++he<le;)if(G===f&&(fe=Ee[Te]||1),(G=e.charCodeAt(he))===d){if((Y=e.charCodeAt(he+1))===T||Y===f||Y===A||Y===_||Y===d||Y===m||Y!=Y||te&&Y===te){_e+=E(G),fe++;continue}for(j=V=he+1,ee=V,Y===I?(ee=++j,(Y=e.charCodeAt(ee))===C||Y===S?(z=D,ee=++j):z=g):z=R,n="",K="",h="",q=L[z],ee--;++ee<le&&q(Y=e.charCodeAt(ee));)h+=E(Y),z===R&&u.call(r,h)&&(n=h,K=r[h]);(i=e.charCodeAt(ee)===p)&&(ee++,(s=z===R&&c(h))&&(n=h,K=s)),$=1+ee-V,(i||ne)&&(h?z===R?(i&&!K?Q(P,1):(n!==h&&($=1+(ee=j+n.length)-j,i=!1),i||(W=n?v:M,t.attribute?(Y=e.charCodeAt(ee))===N?(Q(W,$),K=null):o(Y)?K=null:Q(W,$):Q(W,$))),x=K):(i||Q(b,$),U(x=parseInt(h,k[z]))?(Q(H,$),x=E(O)):x in a?(Q(B,$),x=a[x]):(X="",w(x)&&Q(B,$),x>65535&&(X+=E((x-=65536)>>>10|55296),x=56320|1023&x),x=X+E(x))):z!==R&&Q(y,$)),x?(Ne(),J=pe(),he=ee-1,fe+=ee-V+1,de.push(x),(Z=pe()).offset++,ae&&ae.call(oe,x,{start:J,end:Z},e.slice(V-1,ee)),J=Z):(h=e.slice(V-1,ee),_e+=h,fe+=h.length,he=ee-1)}else 10===G&&(Ae++,Te++,fe=0),G==G?(_e+=E(G),fe++):Ne();return de.join("");function pe(){return{line:Ae,column:fe,offset:he+(ue.offset||0)}}function me(e,t){var n=pe();n.column+=t,n.offset+=t,se.call(ce,F[e],n,e)}function Ne(){_e&&(de.push(_e),re&&re.call(ie,_e,{start:J,end:pe()}),_e="")}}(e,i)};var u={}.hasOwnProperty,E=String.fromCharCode,l=Function.prototype,h={warning:null,reference:null,text:null,warningContext:null,referenceContext:null,textContext:null,position:{},additional:null,attribute:!1,nonTerminated:!0},T=9,f=10,A=12,_=32,d=38,p=59,m=60,N=61,I=35,C=88,S=120,O=65533,R="named",D="hexadecimal",g="decimal",k={};k[D]=16,k[g]=10;var L={};L[R]=o,L[g]=s,L[D]=i;var v=1,b=2,M=3,y=4,P=5,B=6,H=7,F={};function U(e){return e>=55296&&e<=57343||e>1114111}function w(e){return e>=1&&e<=8||11===e||e>=13&&e<=31||e>=127&&e<=159||e>=64976&&e<=65007||65535==(65535&e)||65534==(65535&e)}F[v]="Named character references must be terminated by a semicolon",F[b]="Numeric character references must be terminated by a semicolon",F[M]="Named character references cannot be empty",F[y]="Numeric character references cannot be empty",F[P]="Named character references must be known",F[B]="Numeric character references cannot be disallowed",F[H]="Numeric character references cannot be outside the permissible Unicode range"},97943:function(e){(function(){var t,n,r,a,s,i;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(e.exports=function(){return(t()-s)/1e6},n=process.hrtime,a=(t=function(){var e;return 1e9*(e=n())[0]+e[1]})(),i=1e9*process.uptime(),s=a-i):Date.now?(e.exports=function(){return Date.now()-r},r=Date.now()):(e.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this)},68108:function(e){var t=null,n=["Webkit","Moz","O","ms"];e.exports=function(e){t||(t=document.createElement("div"));var r=t.style;if(e in r)return e;for(var a=e.charAt(0).toUpperCase()+e.slice(1),s=n.length;s>=0;s--){var i=n[s]+a;if(i in r)return i}return!1}},89563:function(e,t,n){var r=function(e){var t=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,n=0,r={},a={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function e(t){return t instanceof s?new s(t.type,e(t.content),t.alias):Array.isArray(t)?t.map(e):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++n}),e.__id},clone:function e(t,n){var r,s;switch(n=n||{},a.util.type(t)){case"Object":if(s=a.util.objId(t),n[s])return n[s];for(var i in r={},n[s]=r,t)t.hasOwnProperty(i)&&(r[i]=e(t[i],n));return r;case"Array":return s=a.util.objId(t),n[s]?n[s]:(r=[],n[s]=r,t.forEach((function(t,a){r[a]=e(t,n)})),r);default:return t}},getLanguage:function(e){for(;e;){var n=t.exec(e.className);if(n)return n[1].toLowerCase();e=e.parentElement}return"none"},setLanguage:function(e,n){e.className=e.className.replace(RegExp(t,"gi"),""),e.classList.add("language-"+n)},currentScript:function(){if("undefined"==typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(r){var e=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(r.stack)||[])[1];if(e){var t=document.getElementsByTagName("script");for(var n in t)if(t[n].src==e)return t[n]}return null}},isActive:function(e,t,n){for(var r="no-"+t;e;){var a=e.classList;if(a.contains(t))return!0;if(a.contains(r))return!1;e=e.parentElement}return!!n}},languages:{plain:r,plaintext:r,text:r,txt:r,extend:function(e,t){var n=a.util.clone(a.languages[e]);for(var r in t)n[r]=t[r];return n},insertBefore:function(e,t,n,r){var s=(r=r||a.languages)[e],i={};for(var o in s)if(s.hasOwnProperty(o)){if(o==t)for(var c in n)n.hasOwnProperty(c)&&(i[c]=n[c]);n.hasOwnProperty(o)||(i[o]=s[o])}var u=r[e];return r[e]=i,a.languages.DFS(a.languages,(function(t,n){n===u&&t!=e&&(this[t]=i)})),i},DFS:function e(t,n,r,s){s=s||{};var i=a.util.objId;for(var o in t)if(t.hasOwnProperty(o)){n.call(t,o,t[o],r||o);var c=t[o],u=a.util.type(c);"Object"!==u||s[i(c)]?"Array"!==u||s[i(c)]||(s[i(c)]=!0,e(c,n,o,s)):(s[i(c)]=!0,e(c,n,null,s))}}},plugins:{},highlightAll:function(e,t){a.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,n){var r={callback:n,container:e,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};a.hooks.run("before-highlightall",r),r.elements=Array.prototype.slice.apply(r.container.querySelectorAll(r.selector)),a.hooks.run("before-all-elements-highlight",r);for(var s,i=0;s=r.elements[i++];)a.highlightElement(s,!0===t,r.callback)},highlightElement:function(t,n,r){var s=a.util.getLanguage(t),i=a.languages[s];a.util.setLanguage(t,s);var o=t.parentElement;o&&"pre"===o.nodeName.toLowerCase()&&a.util.setLanguage(o,s);var c={element:t,language:s,grammar:i,code:t.textContent};function u(e){c.highlightedCode=e,a.hooks.run("before-insert",c),c.element.innerHTML=c.highlightedCode,a.hooks.run("after-highlight",c),a.hooks.run("complete",c),r&&r.call(c.element)}if(a.hooks.run("before-sanity-check",c),(o=c.element.parentElement)&&"pre"===o.nodeName.toLowerCase()&&!o.hasAttribute("tabindex")&&o.setAttribute("tabindex","0"),!c.code)return a.hooks.run("complete",c),void(r&&r.call(c.element));if(a.hooks.run("before-highlight",c),c.grammar)if(n&&e.Worker){var E=new Worker(a.filename);E.onmessage=function(e){u(e.data)},E.postMessage(JSON.stringify({language:c.language,code:c.code,immediateClose:!0}))}else u(a.highlight(c.code,c.grammar,c.language));else u(a.util.encode(c.code))},highlight:function(e,t,n){var r={code:e,grammar:t,language:n};if(a.hooks.run("before-tokenize",r),!r.grammar)throw new Error('The language "'+r.language+'" has no grammar.');return r.tokens=a.tokenize(r.code,r.grammar),a.hooks.run("after-tokenize",r),s.stringify(a.util.encode(r.tokens),r.language)},tokenize:function(e,t){var n=t.rest;if(n){for(var r in n)t[r]=n[r];delete t.rest}var a=new c;return u(a,a.head,e),o(e,a,t,a.head,0),function(e){var t=[],n=e.head.next;for(;n!==e.tail;)t.push(n.value),n=n.next;return t}(a)},hooks:{all:{},add:function(e,t){var n=a.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=a.hooks.all[e];if(n&&n.length)for(var r,s=0;r=n[s++];)r(t)}},Token:s};function s(e,t,n,r){this.type=e,this.content=t,this.alias=n,this.length=0|(r||"").length}function i(e,t,n,r){e.lastIndex=t;var a=e.exec(n);if(a&&r&&a[1]){var s=a[1].length;a.index+=s,a[0]=a[0].slice(s)}return a}function o(e,t,n,r,c,l){for(var h in n)if(n.hasOwnProperty(h)&&n[h]){var T=n[h];T=Array.isArray(T)?T:[T];for(var f=0;f<T.length;++f){if(l&&l.cause==h+","+f)return;var A=T[f],_=A.inside,d=!!A.lookbehind,p=!!A.greedy,m=A.alias;if(p&&!A.pattern.global){var N=A.pattern.toString().match(/[imsuy]*$/)[0];A.pattern=RegExp(A.pattern.source,N+"g")}for(var I=A.pattern||A,C=r.next,S=c;C!==t.tail&&!(l&&S>=l.reach);S+=C.value.length,C=C.next){var O=C.value;if(t.length>e.length)return;if(!(O instanceof s)){var R,D=1;if(p){if(!(R=i(I,S,e,d))||R.index>=e.length)break;var g=R.index,k=R.index+R[0].length,L=S;for(L+=C.value.length;g>=L;)L+=(C=C.next).value.length;if(S=L-=C.value.length,C.value instanceof s)continue;for(var v=C;v!==t.tail&&(L<k||"string"==typeof v.value);v=v.next)D++,L+=v.value.length;D--,O=e.slice(S,L),R.index-=S}else if(!(R=i(I,0,O,d)))continue;g=R.index;var b=R[0],M=O.slice(0,g),y=O.slice(g+b.length),P=S+O.length;l&&P>l.reach&&(l.reach=P);var B=C.prev;if(M&&(B=u(t,B,M),S+=M.length),E(t,B,D),C=u(t,B,new s(h,_?a.tokenize(b,_):b,m,b)),y&&u(t,C,y),D>1){var H={cause:h+","+f,reach:P};o(e,t,n,C.prev,S,H),l&&H.reach>l.reach&&(l.reach=H.reach)}}}}}}function c(){var e={value:null,prev:null,next:null},t={value:null,prev:e,next:null};e.next=t,this.head=e,this.tail=t,this.length=0}function u(e,t,n){var r=t.next,a={value:n,prev:t,next:r};return t.next=a,r.prev=a,e.length++,a}function E(e,t,n){for(var r=t.next,a=0;a<n&&r!==e.tail;a++)r=r.next;t.next=r,r.prev=t,e.length-=a}if(e.Prism=a,s.stringify=function e(t,n){if("string"==typeof t)return t;if(Array.isArray(t)){var r="";return t.forEach((function(t){r+=e(t,n)})),r}var s={type:t.type,content:e(t.content,n),tag:"span",classes:["token",t.type],attributes:{},language:n},i=t.alias;i&&(Array.isArray(i)?Array.prototype.push.apply(s.classes,i):s.classes.push(i)),a.hooks.run("wrap",s);var o="";for(var c in s.attributes)o+=" "+c+'="'+(s.attributes[c]||"").replace(/"/g,"&quot;")+'"';return"<"+s.tag+' class="'+s.classes.join(" ")+'"'+o+">"+s.content+"</"+s.tag+">"},!e.document)return e.addEventListener?(a.disableWorkerMessageHandler||e.addEventListener("message",(function(t){var n=JSON.parse(t.data),r=n.language,s=n.code,i=n.immediateClose;e.postMessage(a.highlight(s,a.languages[r],r)),i&&e.close()}),!1),a):a;var l=a.util.currentScript();function h(){a.manual||a.highlightAll()}if(l&&(a.filename=l.src,l.hasAttribute("data-manual")&&(a.manual=!0)),!a.manual){var T=document.readyState;"loading"===T||"interactive"===T&&l&&l.defer?document.addEventListener("DOMContentLoaded",h):window.requestAnimationFrame?window.requestAnimationFrame(h):window.setTimeout(h,16)}return a}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});
/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */e.exports&&(e.exports=r),void 0!==n.g&&(n.g.Prism=r)},6598:function(e,t,n){"use strict";var r=n(86157);function a(){}function s(){}s.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,s,i){if(i!==r){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:a};return n.PropTypes=n,n}},92372:function(e,t,n){e.exports=n(6598)()},86157:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},14145:function(e,t,n){"use strict";n.d(t,{X:function(){return D},h:function(){return g}});var r,a,s,i,o=n(42190);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&E(e.prototype,t),n&&E(e,n),e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){h(e,t,n[t])}))}return e}function f(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,s=[],i=!0,o=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);i=!0);}catch(e){o=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(o)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}
/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}!function(e){var t=function(e,t,n){if(t<0||t>31||e>>>t!=0)throw new RangeError("Value out of range");for(var r=t-1;r>=0;r--)n.push(e>>>r&1)},n=function(e,t){return 0!=(e>>>t&1)},r=function(e){if(!e)throw new Error("Assertion error")},a=function(){function a(e,t,n,s){if(u(this,a),this.version=e,this.errorCorrectionLevel=t,this.modules=[],this.isFunction=[],e<a.MIN_VERSION||e>a.MAX_VERSION)throw new RangeError("Version value out of range");if(s<-1||s>7)throw new RangeError("Mask value out of range");this.size=4*e+17;for(var i=[],o=0;o<this.size;o++)i.push(!1);for(var c=0;c<this.size;c++)this.modules.push(i.slice()),this.isFunction.push(i.slice());this.drawFunctionPatterns();var E=this.addEccAndInterleave(n);if(this.drawCodewords(E),-1==s)for(var l=1e9,h=0;h<8;h++){this.applyMask(h),this.drawFormatBits(h);var T=this.getPenaltyScore();T<l&&(s=h,l=T),this.applyMask(h)}r(0<=s&&s<=7),this.mask=s,this.applyMask(s),this.drawFormatBits(s),this.isFunction=[]}return l(a,[{key:"getModule",value:function(e,t){return 0<=e&&e<this.size&&0<=t&&t<this.size&&this.modules[t][e]}},{key:"getModules",value:function(){return this.modules}},{key:"drawFunctionPatterns",value:function(){for(var e=0;e<this.size;e++)this.setFunctionModule(6,e,e%2==0),this.setFunctionModule(e,6,e%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);for(var t=this.getAlignmentPatternPositions(),n=t.length,r=0;r<n;r++)for(var a=0;a<n;a++)0==r&&0==a||0==r&&a==n-1||r==n-1&&0==a||this.drawAlignmentPattern(t[r],t[a]);this.drawFormatBits(0),this.drawVersion()}},{key:"drawFormatBits",value:function(e){for(var t=this.errorCorrectionLevel.formatBits<<3|e,a=t,s=0;s<10;s++)a=a<<1^1335*(a>>>9);var i=21522^(t<<10|a);r(i>>>15==0);for(var o=0;o<=5;o++)this.setFunctionModule(8,o,n(i,o));this.setFunctionModule(8,7,n(i,6)),this.setFunctionModule(8,8,n(i,7)),this.setFunctionModule(7,8,n(i,8));for(var c=9;c<15;c++)this.setFunctionModule(14-c,8,n(i,c));for(var u=0;u<8;u++)this.setFunctionModule(this.size-1-u,8,n(i,u));for(var E=8;E<15;E++)this.setFunctionModule(8,this.size-15+E,n(i,E));this.setFunctionModule(8,this.size-8,!0)}},{key:"drawVersion",value:function(){if(!(this.version<7)){for(var e=this.version,t=0;t<12;t++)e=e<<1^7973*(e>>>11);var a=this.version<<12|e;r(a>>>18==0);for(var s=0;s<18;s++){var i=n(a,s),o=this.size-11+s%3,c=Math.floor(s/3);this.setFunctionModule(o,c,i),this.setFunctionModule(c,o,i)}}}},{key:"drawFinderPattern",value:function(e,t){for(var n=-4;n<=4;n++)for(var r=-4;r<=4;r++){var a=Math.max(Math.abs(r),Math.abs(n)),s=e+r,i=t+n;0<=s&&s<this.size&&0<=i&&i<this.size&&this.setFunctionModule(s,i,2!=a&&4!=a)}}},{key:"drawAlignmentPattern",value:function(e,t){for(var n=-2;n<=2;n++)for(var r=-2;r<=2;r++)this.setFunctionModule(e+r,t+n,1!=Math.max(Math.abs(r),Math.abs(n)))}},{key:"setFunctionModule",value:function(e,t,n){this.modules[t][e]=n,this.isFunction[t][e]=!0}},{key:"addEccAndInterleave",value:function(e){var t=function(e){l.forEach((function(t,n){(e!=E-o||n>=u)&&d.push(t[e])}))},n=this.version,s=this.errorCorrectionLevel;if(e.length!=a.getNumDataCodewords(n,s))throw new RangeError("Invalid argument");for(var i=a.NUM_ERROR_CORRECTION_BLOCKS[s.ordinal][n],o=a.ECC_CODEWORDS_PER_BLOCK[s.ordinal][n],c=Math.floor(a.getNumRawDataModules(n)/8),u=i-c%i,E=Math.floor(c/i),l=[],h=a.reedSolomonComputeDivisor(o),T=0,f=0;T<i;T++){var A=e.slice(f,f+E-o+(T<u?0:1));f+=A.length;var _=a.reedSolomonComputeRemainder(A,h);T<u&&A.push(0),l.push(A.concat(_))}for(var d=[],p=0;p<l[0].length;p++)t(p);return r(d.length==c),d}},{key:"drawCodewords",value:function(e){if(e.length!=Math.floor(a.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");for(var t=0,s=this.size-1;s>=1;s-=2){6==s&&(s=5);for(var i=0;i<this.size;i++)for(var o=0;o<2;o++){var c=s-o,u=0==(s+1&2)?this.size-1-i:i;!this.isFunction[u][c]&&t<8*e.length&&(this.modules[u][c]=n(e[t>>>3],7-(7&t)),t++)}}r(t==8*e.length)}},{key:"applyMask",value:function(e){if(e<0||e>7)throw new RangeError("Mask value out of range");for(var t=0;t<this.size;t++)for(var n=0;n<this.size;n++){var r=void 0;switch(e){case 0:r=(n+t)%2==0;break;case 1:r=t%2==0;break;case 2:r=n%3==0;break;case 3:r=(n+t)%3==0;break;case 4:r=(Math.floor(n/3)+Math.floor(t/2))%2==0;break;case 5:r=n*t%2+n*t%3==0;break;case 6:r=(n*t%2+n*t%3)%2==0;break;case 7:r=((n+t)%2+n*t%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[t][n]&&r&&(this.modules[t][n]=!this.modules[t][n])}}},{key:"getPenaltyScore",value:function(){for(var e=0,t=0;t<this.size;t++){for(var n=!1,s=0,i=[0,0,0,0,0,0,0],o=0;o<this.size;o++)this.modules[t][o]==n?5==++s?e+=a.PENALTY_N1:s>5&&e++:(this.finderPenaltyAddHistory(s,i),n||(e+=this.finderPenaltyCountPatterns(i)*a.PENALTY_N3),n=this.modules[t][o],s=1);e+=this.finderPenaltyTerminateAndCount(n,s,i)*a.PENALTY_N3}for(var c=0;c<this.size;c++){for(var u=!1,E=0,l=[0,0,0,0,0,0,0],h=0;h<this.size;h++)this.modules[h][c]==u?5==++E?e+=a.PENALTY_N1:E>5&&e++:(this.finderPenaltyAddHistory(E,l),u||(e+=this.finderPenaltyCountPatterns(l)*a.PENALTY_N3),u=this.modules[h][c],E=1);e+=this.finderPenaltyTerminateAndCount(u,E,l)*a.PENALTY_N3}for(var T=0;T<this.size-1;T++)for(var f=0;f<this.size-1;f++){var A=this.modules[T][f];A==this.modules[T][f+1]&&A==this.modules[T+1][f]&&A==this.modules[T+1][f+1]&&(e+=a.PENALTY_N2)}var _=0,d=!0,p=!1,m=void 0;try{for(var N,I=this.modules[Symbol.iterator]();!(d=(N=I.next()).done);d=!0){_=N.value.reduce((function(e,t){return e+(t?1:0)}),_)}}catch(e){p=!0,m=e}finally{try{d||null==I.return||I.return()}finally{if(p)throw m}}var C=this.size*this.size,S=Math.ceil(Math.abs(20*_-10*C)/C)-1;return r(0<=S&&S<=9),e+=S*a.PENALTY_N4,r(0<=e&&e<=2568888),e}},{key:"getAlignmentPatternPositions",value:function(){if(1==this.version)return[];for(var e=Math.floor(this.version/7)+2,t=32==this.version?26:2*Math.ceil((4*this.version+4)/(2*e-2)),n=[6],r=this.size-7;n.length<e;r-=t)n.splice(1,0,r);return n}},{key:"finderPenaltyCountPatterns",value:function(e){var t=e[1];r(t<=3*this.size);var n=t>0&&e[2]==t&&e[3]==3*t&&e[4]==t&&e[5]==t;return(n&&e[0]>=4*t&&e[6]>=t?1:0)+(n&&e[6]>=4*t&&e[0]>=t?1:0)}},{key:"finderPenaltyTerminateAndCount",value:function(e,t,n){return e&&(this.finderPenaltyAddHistory(t,n),t=0),t+=this.size,this.finderPenaltyAddHistory(t,n),this.finderPenaltyCountPatterns(n)}},{key:"finderPenaltyAddHistory",value:function(e,t){0==t[0]&&(e+=this.size),t.pop(),t.unshift(e)}}],[{key:"encodeText",value:function(t,n){var r=e.QrSegment.makeSegments(t);return a.encodeSegments(r,n)}},{key:"encodeBinary",value:function(t,n){var r=e.QrSegment.makeBytes(t);return a.encodeSegments([r],n)}},{key:"encodeSegments",value:function(e,n){var s,o,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:40,E=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,l=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(!(a.MIN_VERSION<=c&&c<=u&&u<=a.MAX_VERSION)||E<-1||E>7)throw new RangeError("Invalid value");for(s=c;;s++){var h=8*a.getNumDataCodewords(s,n),T=i.getTotalBits(e,s);if(T<=h){o=T;break}if(s>=u)throw new RangeError("Data too long")}for(var f=0,A=[a.Ecc.MEDIUM,a.Ecc.QUARTILE,a.Ecc.HIGH];f<A.length;f++){var _=A[f];l&&o<=8*a.getNumDataCodewords(s,_)&&(n=_)}var d=[],p=!0,m=!1,N=void 0;try{for(var I,C=e[Symbol.iterator]();!(p=(I=C.next()).done);p=!0){var S=I.value;t(S.mode.modeBits,4,d),t(S.numChars,S.mode.numCharCountBits(s),d);var O=!0,R=!1,D=void 0;try{for(var g,k=S.getData()[Symbol.iterator]();!(O=(g=k.next()).done);O=!0){var L=g.value;d.push(L)}}catch(e){R=!0,D=e}finally{try{O||null==k.return||k.return()}finally{if(R)throw D}}}}catch(e){m=!0,N=e}finally{try{p||null==C.return||C.return()}finally{if(m)throw N}}r(d.length==o);var v=8*a.getNumDataCodewords(s,n);r(d.length<=v),t(0,Math.min(4,v-d.length),d),t(0,(8-d.length%8)%8,d),r(d.length%8==0);for(var b=236;d.length<v;b^=253)t(b,8,d);for(var M=[];8*M.length<d.length;)M.push(0);return d.forEach((function(e,t){return M[t>>>3]|=e<<7-(7&t)})),new a(s,n,M,E)}},{key:"getNumRawDataModules",value:function(e){if(e<a.MIN_VERSION||e>a.MAX_VERSION)throw new RangeError("Version number out of range");var t=(16*e+128)*e+64;if(e>=2){var n=Math.floor(e/7)+2;t-=(25*n-10)*n-55,e>=7&&(t-=36)}return r(208<=t&&t<=29648),t}},{key:"getNumDataCodewords",value:function(e,t){return Math.floor(a.getNumRawDataModules(e)/8)-a.ECC_CODEWORDS_PER_BLOCK[t.ordinal][e]*a.NUM_ERROR_CORRECTION_BLOCKS[t.ordinal][e]}},{key:"reedSolomonComputeDivisor",value:function(e){if(e<1||e>255)throw new RangeError("Degree out of range");for(var t=[],n=0;n<e-1;n++)t.push(0);t.push(1);for(var r=1,s=0;s<e;s++){for(var i=0;i<t.length;i++)t[i]=a.reedSolomonMultiply(t[i],r),i+1<t.length&&(t[i]^=t[i+1]);r=a.reedSolomonMultiply(r,2)}return t}},{key:"reedSolomonComputeRemainder",value:function(e,t){var n=t.map((function(e){return 0})),r=!0,s=!1,i=void 0;try{for(var o,c=function(){var e=o.value^n.shift();n.push(0),t.forEach((function(t,r){return n[r]^=a.reedSolomonMultiply(t,e)}))},u=e[Symbol.iterator]();!(r=(o=u.next()).done);r=!0)c()}catch(e){s=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(s)throw i}}return n}},{key:"reedSolomonMultiply",value:function(e,t){if(e>>>8!=0||t>>>8!=0)throw new RangeError("Byte out of range");for(var n=0,a=7;a>=0;a--)n=n<<1^285*(n>>>7),n^=(t>>>a&1)*e;return r(n>>>8==0),n}}]),a}();a.MIN_VERSION=1,a.MAX_VERSION=40,a.PENALTY_N1=3,a.PENALTY_N2=3,a.PENALTY_N3=40,a.PENALTY_N4=10,a.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],a.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]];e.QrCode=a;var s=function(){function e(t,n,r){if(u(this,e),this.mode=t,this.numChars=n,this.bitData=r,n<0)throw new RangeError("Invalid argument");this.bitData=r.slice()}return l(e,[{key:"getData",value:function(){return this.bitData.slice()}}],[{key:"makeBytes",value:function(n){var r=[],a=!0,s=!1,i=void 0;try{for(var o,c=n[Symbol.iterator]();!(a=(o=c.next()).done);a=!0){var u=o.value;t(u,8,r)}}catch(e){s=!0,i=e}finally{try{a||null==c.return||c.return()}finally{if(s)throw i}}return new e(e.Mode.BYTE,n.length,r)}},{key:"makeNumeric",value:function(n){if(!e.isNumeric(n))throw new RangeError("String contains non-numeric characters");for(var r=[],a=0;a<n.length;){var s=Math.min(n.length-a,3);t(parseInt(n.substring(a,a+s),10),3*s+1,r),a+=s}return new e(e.Mode.NUMERIC,n.length,r)}},{key:"makeAlphanumeric",value:function(n){if(!e.isAlphanumeric(n))throw new RangeError("String contains unencodable characters in alphanumeric mode");var r,a=[];for(r=0;r+2<=n.length;r+=2){var s=45*e.ALPHANUMERIC_CHARSET.indexOf(n.charAt(r));s+=e.ALPHANUMERIC_CHARSET.indexOf(n.charAt(r+1)),t(s,11,a)}return r<n.length&&t(e.ALPHANUMERIC_CHARSET.indexOf(n.charAt(r)),6,a),new e(e.Mode.ALPHANUMERIC,n.length,a)}},{key:"makeSegments",value:function(t){return""==t?[]:e.isNumeric(t)?[e.makeNumeric(t)]:e.isAlphanumeric(t)?[e.makeAlphanumeric(t)]:[e.makeBytes(e.toUtf8ByteArray(t))]}},{key:"makeEci",value:function(n){var r=[];if(n<0)throw new RangeError("ECI assignment value out of range");if(n<128)t(n,8,r);else if(n<16384)t(2,2,r),t(n,14,r);else{if(!(n<1e6))throw new RangeError("ECI assignment value out of range");t(6,3,r),t(n,21,r)}return new e(e.Mode.ECI,0,r)}},{key:"isNumeric",value:function(t){return e.NUMERIC_REGEX.test(t)}},{key:"isAlphanumeric",value:function(t){return e.ALPHANUMERIC_REGEX.test(t)}},{key:"getTotalBits",value:function(e,t){var n=0,r=!0,a=!1,s=void 0;try{for(var i,o=e[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var c=i.value,u=c.mode.numCharCountBits(t);if(c.numChars>=1<<u)return 1/0;n+=4+u+c.bitData.length}}catch(e){a=!0,s=e}finally{try{r||null==o.return||o.return()}finally{if(a)throw s}}return n}},{key:"toUtf8ByteArray",value:function(e){e=encodeURI(e);for(var t=[],n=0;n<e.length;n++)"%"!=e.charAt(n)?t.push(e.charCodeAt(n)):(t.push(parseInt(e.substring(n+1,n+3),16)),n+=2);return t}}]),e}();s.NUMERIC_REGEX=/^[0-9]*$/,s.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,s.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";var i=s;e.QrSegment=s}(r||(r={})),i=r||(r={}),a=i.QrCode||(i.QrCode={}),(s=function e(t,n){u(this,e),this.ordinal=t,this.formatBits=n}).LOW=new s(0,1),s.MEDIUM=new s(1,0),s.QUARTILE=new s(2,3),s.HIGH=new s(3,2),a.Ecc=s,function(e){!function(e){var t=function(){function e(t,n){u(this,e),this.modeBits=t,this.numBitsCharCount=n}return l(e,[{key:"numCharCountBits",value:function(e){return this.numBitsCharCount[Math.floor((e+7)/17)]}}]),e}();t.NUMERIC=new t(1,[10,12,14]),t.ALPHANUMERIC=new t(2,[9,11,13]),t.BYTE=new t(4,[8,16,16]),t.KANJI=new t(8,[8,10,12]),t.ECI=new t(7,[0,0,0]);e.Mode=t}(e.QrSegment||(e.QrSegment={}))}(r||(r={}));var _=r,d={L:_.QrCode.Ecc.LOW,M:_.QrCode.Ecc.MEDIUM,Q:_.QrCode.Ecc.QUARTILE,H:_.QrCode.Ecc.HIGH},p="#FFFFFF",m="#000000";
/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */function N(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[];return e.forEach((function(e,r){var a=null;e.forEach((function(s,i){if(!s&&null!==a)return n.push("M".concat(a+t," ").concat(r+t,"h").concat(i-a,"v1H").concat(a+t,"z")),void(a=null);if(i!==e.length-1)s&&null===a&&(a=i);else{if(!s)return;null===a?n.push("M".concat(i+t,",").concat(r+t," h1v1H").concat(i+t,"z")):n.push("M".concat(a+t,",").concat(r+t," h").concat(i+1-a,"v1H").concat(a+t,"z"))}}))})),n.join("")}function I(e,t){return e.slice().map((function(e,n){return n<t.y||n>=t.y+t.h?e:e.map((function(e,n){return(n<t.x||n>=t.x+t.w)&&e}))}))}function C(e,t,n,r){if(null==r)return null;var a=e.length+2*n,s=Math.floor(.1*t),i=a/t,o=(r.width||s)*i,c=(r.height||s)*i,u=null==r.x?e.length/2-o/2:r.x*i,E=null==r.y?e.length/2-c/2:r.y*i,l=null==r.opacity?1:r.opacity,h=null;if(r.excavate){var T=Math.floor(u),f=Math.floor(E);h={x:T,y:f,w:Math.ceil(o+u-T),h:Math.ceil(c+E-f)}}return{x:u,y:E,h:c,w:o,excavation:h,opacity:l}}function S(e,t){return null!=t?Math.floor(t):e?4:0}function O(e){var t=e.value,n=e.level,r=e.minVersion,a=_.QrSegment.makeSegments(t);return _.QrCode.encodeSegments(a,d[n],r)}var R=function(){try{(new Path2D).addPath(new Path2D)}catch(e){return!1}return!0}(),D=o.forwardRef((function(e,t){var n=e.value,r=e.size,a=void 0===r?128:r,s=e.level,i=void 0===s?"L":s,c=e.bgColor,u=void 0===c?p:c,E=e.fgColor,l=void 0===E?m:E,h=e.includeMargin,_=void 0!==h&&h,d=e.minVersion,D=void 0===d?1:d,g=e.marginSize,k=e.style,L=e.imageSettings,v=f(e,["value","size","level","bgColor","fgColor","includeMargin","minVersion","marginSize","style","imageSettings"]),b=null==L?void 0:L.src,M=(0,o.useRef)(null),y=(0,o.useRef)(null),P=(0,o.useCallback)((function(e){M.current=e,"function"==typeof t?t(e):t&&(t.current=e)}),[t]),B=A((0,o.useState)(!1),2),H=(B[0],B[1]);(0,o.useEffect)((function(){if(null!=M.current){var e=M.current,t=e.getContext("2d");if(!t)return;var r=O({value:n,level:i,minVersion:D}).getModules(),s=S(_,g),o=r.length+2*s,c=C(r,a,s,L),E=y.current,h=null!=c&&null!==E&&E.complete&&0!==E.naturalHeight&&0!==E.naturalWidth;h&&null!=c.excavation&&(r=I(r,c.excavation));var T=window.devicePixelRatio||1;e.height=e.width=a*T;var f=a/o*T;t.scale(f,f),t.fillStyle=u,t.fillRect(0,0,o,o),t.fillStyle=l,R?t.fill(new Path2D(N(r,s))):r.forEach((function(e,n){e.forEach((function(e,r){e&&t.fillRect(r+s,n+s,1,1)}))})),c&&(t.globalAlpha=c.opacity),h&&t.drawImage(E,c.x+s,c.y+s,c.w,c.h)}})),(0,o.useEffect)((function(){H(!1)}),[b]);var F=T({height:a,width:a},k),U=null;return null!=b&&(U=o.createElement("img",{src:b,key:b,style:{display:"none"},onLoad:function(){H(!0)},ref:y})),o.createElement(o.Fragment,null,o.createElement("canvas",T({style:F,height:a,width:a,ref:P,role:"img"},v)),U)}));D.displayName="QRCodeCanvas";var g=o.forwardRef((function(e,t){var n=e.value,r=e.size,a=void 0===r?128:r,s=e.level,i=void 0===s?"L":s,c=e.bgColor,u=void 0===c?p:c,E=e.fgColor,l=void 0===E?m:E,h=e.includeMargin,A=void 0!==h&&h,_=e.minVersion,d=void 0===_?1:_,R=e.title,D=e.marginSize,g=e.imageSettings,k=f(e,["value","size","level","bgColor","fgColor","includeMargin","minVersion","title","marginSize","imageSettings"]),L=O({value:n,level:i,minVersion:d}).getModules(),v=S(A,D),b=L.length+2*v,M=C(L,a,v,g),y=null;null!=g&&null!=M&&(null!=M.excavation&&(L=I(L,M.excavation)),y=o.createElement("image",{xlinkHref:g.src,height:M.h,width:M.w,x:M.x+v,y:M.y+v,preserveAspectRatio:"none",opacity:M.opacity}));var P=N(L,v);return o.createElement("svg",T({height:a,width:a,viewBox:"0 0 ".concat(b," ").concat(b),ref:t,role:"img"},k),!!R&&o.createElement("title",null,R),o.createElement("path",{fill:u,d:"M0,0 h".concat(b,"v").concat(b,"H0z"),shapeRendering:"crispEdges"}),o.createElement("path",{fill:l,d:P,shapeRendering:"crispEdges"}),y)}));g.displayName="QRCodeSVG"},46482:function(e,t,n){"use strict";n.d(t,{L2:function(){return r},Qq:function(){return s},Yj:function(){return a}});var r={resolveAll:o()},a=i("string"),s=i("text");function i(e){return{tokenize:function(t){var n=this,r=this.parser.constructs[e],a=t.attempt(r,s,i);return s;function s(e){return c(e)?a(e):i(e)}function i(e){if(null!==e)return t.enter("data"),t.consume(e),o;t.consume(e)}function o(e){return c(e)?(t.exit("data"),a(e)):(t.consume(e),o)}function c(e){if(null===e)return!0;var t=r[e],a=-1;if(t)for(;++a<t.length;){var s=t[a];if(!s.previous||s.previous.call(n,n.previous))return!0}return!1}},resolveAll:o("text"===e?c:void 0)}}function o(e){return function(t,n){var r,a=-1;for(;++a<=t.length;)void 0===r?t[a]&&"data"===t[a][1].type&&(r=a,a++):t[a]&&"data"===t[a][1].type||(a!==r+2&&(t[r][1].end=t[a-1][1].end,t.splice(r+2,a-r-2),a=r+2),r=void 0);return e?e(t,n):t}}function c(e,t){for(var n=0;++n<=e.length;)if((n===e.length||"lineEnding"===e[n][1].type)&&"data"===e[n-1][1].type){for(var r=e[n-1][1],a=t.sliceStream(r),s=a.length,i=-1,o=0,c=void 0;s--;){var u=a[s];if("string"==typeof u){for(i=u.length;32===u.charCodeAt(i-1);)o++,i--;if(i)break;i=-1}else if(-2===u)c=!0,o++;else if(-1!==u){s++;break}}if(o){var E={type:n===e.length||c||o<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-o,offset:r.end.offset-o,_index:r.start._index+s,_bufferIndex:s?i:r.start._bufferIndex+i},end:Object.assign({},r.end)};r.end=Object.assign({},E.start),r.start.offset===r.end.offset?Object.assign(r,E):(e.splice(n,0,["enter",E,t],["exit",E,t]),n+=2)}n++}return e}},4910:function(e,t,n){"use strict";n.d(t,{q:function(){return p}});var r=n(35456),a=n(93516),s=n(7181),i={tokenize:function(e){var t,n=e.attempt(this.parser.constructs.contentInitial,(function(t){if(null===t)return void e.consume(t);return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),(0,a.N)(e,n,"linePrefix")}),(function(t){return e.enter("paragraph"),r(t)}));return n;function r(n){var r=e.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=r),t=r,i(n)}function i(t){return null===t?(e.exit("chunkText"),e.exit("paragraph"),void e.consume(t)):(0,s.HP)(t)?(e.consume(t),e.exit("chunkText"),r):(e.consume(t),i)}}};var o=n(69762),c={tokenize:function(e){var t,n,r,a=this,i=[],c=0;return E;function E(t){if(c<i.length){var n=i[c];return a.containerState=n[1],e.attempt(n[0].continuation,l,h)(t)}return h(t)}function l(e){if(c++,a.containerState._closeFlow){a.containerState._closeFlow=void 0,t&&I();for(var n,r=a.events.length,s=r;s--;)if("exit"===a.events[s][0]&&"chunkFlow"===a.events[s][1].type){n=a.events[s][1].end;break}N(c);for(var i=r;i<a.events.length;)a.events[i][1].end=Object.assign({},n),i++;return(0,o.m)(a.events,s+1,0,a.events.slice(r)),a.events.length=i,h(e)}return E(e)}function h(n){if(c===i.length){if(!t)return A(n);if(t.currentConstruct&&t.currentConstruct.concrete)return d(n);a.interrupt=Boolean(t.currentConstruct&&!t._gfmTableDynamicInterruptHack)}return a.containerState={},e.check(u,T,f)(n)}function T(e){return t&&I(),N(c),A(e)}function f(e){return a.parser.lazy[a.now().line]=c!==i.length,r=a.now().offset,d(e)}function A(t){return a.containerState={},e.attempt(u,_,d)(t)}function _(e){return c++,i.push([a.currentConstruct,a.containerState]),A(e)}function d(r){return null===r?(t&&I(),N(0),void e.consume(r)):(t=t||a.parser.flow(a.now()),e.enter("chunkFlow",{contentType:"flow",previous:n,_tokenizer:t}),p(r))}function p(t){return null===t?(m(e.exit("chunkFlow"),!0),N(0),void e.consume(t)):(0,s.HP)(t)?(e.consume(t),m(e.exit("chunkFlow")),c=0,a.interrupt=void 0,E):(e.consume(t),p)}function m(e,s){var i=a.sliceStream(e);if(s&&i.push(null),e.previous=n,n&&(n.next=e),n=e,t.defineSkip(e.start),t.write(i),a.parser.lazy[e.start.line]){for(var u=t.events.length;u--;)if(t.events[u][1].start.offset<r&&(!t.events[u][1].end||t.events[u][1].end.offset>r))return;for(var E,l,h=a.events.length,T=h;T--;)if("exit"===a.events[T][0]&&"chunkFlow"===a.events[T][1].type){if(E){l=a.events[T][1].end;break}E=!0}for(N(c),u=h;u<a.events.length;)a.events[u][1].end=Object.assign({},l),u++;(0,o.m)(a.events,T+1,0,a.events.slice(h)),a.events.length=u}}function N(t){for(var n=i.length;n-- >t;){var r=i[n];a.containerState=r[1],r[0].exit.call(a,e)}i.length=t}function I(){t.write([null]),n=void 0,t=void 0,a.containerState._closeFlow=void 0}}},u={tokenize:function(e,t,n){return(0,a.N)(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}};var E=n(77619),l=n(60595),h={tokenize:function(e){var t=this,n=e.attempt(E.B,(function(r){if(null===r)return void e.consume(r);return e.enter("lineEndingBlank"),e.consume(r),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}),e.attempt(this.parser.constructs.flowInitial,r,(0,a.N)(e,e.attempt(this.parser.constructs.flow,r,e.attempt(l.Q,r)),"linePrefix")));return n;function r(r){if(null!==r)return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),t.currentConstruct=void 0,n;e.consume(r)}}};var T=n(46482),f=n(92092),A=n(95804);function _(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e){var t=e||{},n={defined:[],lazy:{},constructs:(0,r.y)([A].concat(_(t.extensions||[]))),content:a(i),document:a(c),flow:a(h),string:a(T.Yj),text:a(T.Qq)};return n;function a(e){return function(t){return(0,f.e)(n,e,t)}}}},81117:function(e,t,n){"use strict";n.d(t,{_:function(){return a}});var r=n(16350);function a(e){for(;!(0,r.w)(e););return e}},25626:function(e,t,n){"use strict";n.d(t,{v:function(){return a}});var r=/[\0\t\n\r]/g;function a(){var e,t=1,n="",a=!0;return function(s,i,o){var c,u,E,l,h,T=[];s=n+("string"==typeof s?s.toString():new TextDecoder(i||void 0).decode(s)),E=0,n="",a&&(65279===s.charCodeAt(0)&&E++,a=void 0);for(;E<s.length;){if(r.lastIndex=E,l=(c=r.exec(s))&&void 0!==c.index?c.index:s.length,h=s.charCodeAt(l),!c){n=s.slice(E);break}if(10===h&&E===l&&e)T.push(-3),e=void 0;else switch(e&&(T.push(-5),e=void 0),E<l&&(T.push(s.slice(E,l)),t+=l-E),h){case 0:T.push(65533),t++;break;case 9:for(u=4*Math.ceil(t/4),T.push(-2);t++<u;)T.push(-1);break;case 10:T.push(-4),t=1;break;default:e=!0,t=1}E=l+1}o&&(e&&T.push(-5),n&&T.push(n),T.push(null));return T}}},67141:function(e,t,n){"use strict";n.d(t,{iX:function(){return it},ou:function(){return r},V_:function(){return W},qy:function(){return a}});var r={};n.r(r),n.d(r,{k:function(){return I},r:function(){return S}});var a={};n.r(a),n.d(a,{ATTRS:function(){return R},DOCUMENT_MODE:function(){return D},NS:function(){return O},SPECIAL_ELEMENTS:function(){return B},TAG_ID:function(){return k},TAG_NAMES:function(){return g},getTagID:function(){return y},hasUnescapedText:function(){return U},isNumberedHeader:function(){return H}});var s,i=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),o="";!function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.NUMBER_SIGN=35]="NUMBER_SIGN",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_F=70]="LATIN_CAPITAL_F",e[e.LATIN_CAPITAL_X=88]="LATIN_CAPITAL_X",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_F=102]="LATIN_SMALL_F",e[e.LATIN_SMALL_X=120]="LATIN_SMALL_X",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z",e[e.REPLACEMENT_CHARACTER=65533]="REPLACEMENT_CHARACTER"}(s=s||(s={}));var c,u="--",E="[CDATA[",l="doctype",h="script",T="public",f="system";function A(e){return e>=55296&&e<=57343}function _(e){return 32!==e&&10!==e&&13!==e&&9!==e&&12!==e&&e>=1&&e<=31||e>=127&&e<=159}function d(e){return e>=64976&&e<=65007||i.has(e)}function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,N(r.key),r)}}function N(e){var t=function(e,t){if("object"!=p(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==p(t)?t:String(t)}!function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"}(c=c||(c={}));var I,C=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=65536,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}var t,n,r;return t=e,(n=[{key:"col",get:function(){return this.pos-this.lineStartPos+Number(this.lastGapPos!==this.pos)}},{key:"offset",get:function(){return this.droppedBufferSize+this.pos}},{key:"getError",value:function(e){var t=this.line,n=this.col,r=this.offset;return{code:e,startLine:t,endLine:t,startCol:n,endCol:n,startOffset:r,endOffset:r}}},{key:"_err",value:function(e){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(e)))}},{key:"_addGap",value:function(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}},{key:"_processSurrogate",value:function(e){if(this.pos!==this.html.length-1){var t=this.html.charCodeAt(this.pos+1);if(function(e){return e>=56320&&e<=57343}(t))return this.pos++,this._addGap(),1024*(e-55296)+9216+t}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,s.EOF;return this._err(c.surrogateInInputStream),e}},{key:"willDropParsedChunk",value:function(){return this.pos>this.bufferWaterline}},{key:"dropParsedChunk",value:function(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}},{key:"write",value:function(e,t){this.html.length>0?this.html+=e:this.html=e,this.endOfChunkHit=!1,this.lastChunkWritten=t}},{key:"insertHtmlAtCurrentPos",value:function(e){this.html=this.html.substring(0,this.pos+1)+e+this.html.substring(this.pos+1),this.endOfChunkHit=!1}},{key:"startsWith",value:function(e,t){if(this.pos+e.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(t)return this.html.startsWith(e,this.pos);for(var n=0;n<e.length;n++)if((32|this.html.charCodeAt(this.pos+n))!==e.charCodeAt(n))return!1;return!0}},{key:"peek",value:function(e){var t=this.pos+e;if(t>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,s.EOF;var n=this.html.charCodeAt(t);return n===s.CARRIAGE_RETURN?s.LINE_FEED:n}},{key:"advance",value:function(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,s.EOF;var e=this.html.charCodeAt(this.pos);return e===s.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,s.LINE_FEED):e===s.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,A(e)&&(e=this._processSurrogate(e)),null===this.handler.onParseError||e>31&&e<127||e===s.LINE_FEED||e===s.CARRIAGE_RETURN||e>159&&e<64976||this._checkForProblematicCharacters(e),e)}},{key:"_checkForProblematicCharacters",value:function(e){_(e)?this._err(c.controlCharacterInInputStream):d(e)&&this._err(c.noncharacterInInputStream)}},{key:"retreat",value:function(e){for(this.pos-=e;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}])&&m(t.prototype,n),r&&m(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function S(e,t){for(var n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}!function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"}(I=I||(I={}));var O,R,D,g,k,L=n(94525);function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function b(e,t,n){var r;return r=function(e,t){if("object"!=v(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==v(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"}(O=O||(O={})),function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"}(R=R||(R={})),function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"}(D=D||(D={})),function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"}(g=g||(g={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SECTION=94]="SECTION",e[e.SELECT=95]="SELECT",e[e.SOURCE=96]="SOURCE",e[e.SMALL=97]="SMALL",e[e.SPAN=98]="SPAN",e[e.STRIKE=99]="STRIKE",e[e.STRONG=100]="STRONG",e[e.STYLE=101]="STYLE",e[e.SUB=102]="SUB",e[e.SUMMARY=103]="SUMMARY",e[e.SUP=104]="SUP",e[e.TABLE=105]="TABLE",e[e.TBODY=106]="TBODY",e[e.TEMPLATE=107]="TEMPLATE",e[e.TEXTAREA=108]="TEXTAREA",e[e.TFOOT=109]="TFOOT",e[e.TD=110]="TD",e[e.TH=111]="TH",e[e.THEAD=112]="THEAD",e[e.TITLE=113]="TITLE",e[e.TR=114]="TR",e[e.TRACK=115]="TRACK",e[e.TT=116]="TT",e[e.U=117]="U",e[e.UL=118]="UL",e[e.SVG=119]="SVG",e[e.VAR=120]="VAR",e[e.WBR=121]="WBR",e[e.XMP=122]="XMP"}(k=k||(k={}));var M=new Map([[g.A,k.A],[g.ADDRESS,k.ADDRESS],[g.ANNOTATION_XML,k.ANNOTATION_XML],[g.APPLET,k.APPLET],[g.AREA,k.AREA],[g.ARTICLE,k.ARTICLE],[g.ASIDE,k.ASIDE],[g.B,k.B],[g.BASE,k.BASE],[g.BASEFONT,k.BASEFONT],[g.BGSOUND,k.BGSOUND],[g.BIG,k.BIG],[g.BLOCKQUOTE,k.BLOCKQUOTE],[g.BODY,k.BODY],[g.BR,k.BR],[g.BUTTON,k.BUTTON],[g.CAPTION,k.CAPTION],[g.CENTER,k.CENTER],[g.CODE,k.CODE],[g.COL,k.COL],[g.COLGROUP,k.COLGROUP],[g.DD,k.DD],[g.DESC,k.DESC],[g.DETAILS,k.DETAILS],[g.DIALOG,k.DIALOG],[g.DIR,k.DIR],[g.DIV,k.DIV],[g.DL,k.DL],[g.DT,k.DT],[g.EM,k.EM],[g.EMBED,k.EMBED],[g.FIELDSET,k.FIELDSET],[g.FIGCAPTION,k.FIGCAPTION],[g.FIGURE,k.FIGURE],[g.FONT,k.FONT],[g.FOOTER,k.FOOTER],[g.FOREIGN_OBJECT,k.FOREIGN_OBJECT],[g.FORM,k.FORM],[g.FRAME,k.FRAME],[g.FRAMESET,k.FRAMESET],[g.H1,k.H1],[g.H2,k.H2],[g.H3,k.H3],[g.H4,k.H4],[g.H5,k.H5],[g.H6,k.H6],[g.HEAD,k.HEAD],[g.HEADER,k.HEADER],[g.HGROUP,k.HGROUP],[g.HR,k.HR],[g.HTML,k.HTML],[g.I,k.I],[g.IMG,k.IMG],[g.IMAGE,k.IMAGE],[g.INPUT,k.INPUT],[g.IFRAME,k.IFRAME],[g.KEYGEN,k.KEYGEN],[g.LABEL,k.LABEL],[g.LI,k.LI],[g.LINK,k.LINK],[g.LISTING,k.LISTING],[g.MAIN,k.MAIN],[g.MALIGNMARK,k.MALIGNMARK],[g.MARQUEE,k.MARQUEE],[g.MATH,k.MATH],[g.MENU,k.MENU],[g.META,k.META],[g.MGLYPH,k.MGLYPH],[g.MI,k.MI],[g.MO,k.MO],[g.MN,k.MN],[g.MS,k.MS],[g.MTEXT,k.MTEXT],[g.NAV,k.NAV],[g.NOBR,k.NOBR],[g.NOFRAMES,k.NOFRAMES],[g.NOEMBED,k.NOEMBED],[g.NOSCRIPT,k.NOSCRIPT],[g.OBJECT,k.OBJECT],[g.OL,k.OL],[g.OPTGROUP,k.OPTGROUP],[g.OPTION,k.OPTION],[g.P,k.P],[g.PARAM,k.PARAM],[g.PLAINTEXT,k.PLAINTEXT],[g.PRE,k.PRE],[g.RB,k.RB],[g.RP,k.RP],[g.RT,k.RT],[g.RTC,k.RTC],[g.RUBY,k.RUBY],[g.S,k.S],[g.SCRIPT,k.SCRIPT],[g.SECTION,k.SECTION],[g.SELECT,k.SELECT],[g.SOURCE,k.SOURCE],[g.SMALL,k.SMALL],[g.SPAN,k.SPAN],[g.STRIKE,k.STRIKE],[g.STRONG,k.STRONG],[g.STYLE,k.STYLE],[g.SUB,k.SUB],[g.SUMMARY,k.SUMMARY],[g.SUP,k.SUP],[g.TABLE,k.TABLE],[g.TBODY,k.TBODY],[g.TEMPLATE,k.TEMPLATE],[g.TEXTAREA,k.TEXTAREA],[g.TFOOT,k.TFOOT],[g.TD,k.TD],[g.TH,k.TH],[g.THEAD,k.THEAD],[g.TITLE,k.TITLE],[g.TR,k.TR],[g.TRACK,k.TRACK],[g.TT,k.TT],[g.U,k.U],[g.UL,k.UL],[g.SVG,k.SVG],[g.VAR,k.VAR],[g.WBR,k.WBR],[g.XMP,k.XMP]]);function y(e){var t;return null!==(t=M.get(e))&&void 0!==t?t:k.UNKNOWN}var P=k,B=b(b(b(b(b(b({},O.HTML,new Set([P.ADDRESS,P.APPLET,P.AREA,P.ARTICLE,P.ASIDE,P.BASE,P.BASEFONT,P.BGSOUND,P.BLOCKQUOTE,P.BODY,P.BR,P.BUTTON,P.CAPTION,P.CENTER,P.COL,P.COLGROUP,P.DD,P.DETAILS,P.DIR,P.DIV,P.DL,P.DT,P.EMBED,P.FIELDSET,P.FIGCAPTION,P.FIGURE,P.FOOTER,P.FORM,P.FRAME,P.FRAMESET,P.H1,P.H2,P.H3,P.H4,P.H5,P.H6,P.HEAD,P.HEADER,P.HGROUP,P.HR,P.HTML,P.IFRAME,P.IMG,P.INPUT,P.LI,P.LINK,P.LISTING,P.MAIN,P.MARQUEE,P.MENU,P.META,P.NAV,P.NOEMBED,P.NOFRAMES,P.NOSCRIPT,P.OBJECT,P.OL,P.P,P.PARAM,P.PLAINTEXT,P.PRE,P.SCRIPT,P.SECTION,P.SELECT,P.SOURCE,P.STYLE,P.SUMMARY,P.TABLE,P.TBODY,P.TD,P.TEMPLATE,P.TEXTAREA,P.TFOOT,P.TH,P.THEAD,P.TITLE,P.TR,P.TRACK,P.UL,P.WBR,P.XMP])),O.MATHML,new Set([P.MI,P.MO,P.MN,P.MS,P.MTEXT,P.ANNOTATION_XML])),O.SVG,new Set([P.TITLE,P.FOREIGN_OBJECT,P.DESC])),O.XLINK,new Set),O.XML,new Set),O.XMLNS,new Set);function H(e){return e===P.H1||e===P.H2||e===P.H3||e===P.H4||e===P.H5||e===P.H6}var F=new Set([g.STYLE,g.SCRIPT,g.XMP,g.IFRAME,g.NOEMBED,g.NOFRAMES,g.PLAINTEXT]);function U(e,t){return F.has(e)||t&&e===g.NOSCRIPT}function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,x(r.key),r)}}function x(e){var t=function(e,t){if("object"!=w(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=w(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==w(t)?t:String(t)}var Y,Q=new Map([[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);!function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.NAMED_CHARACTER_REFERENCE=72]="NAMED_CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=73]="AMBIGUOUS_AMPERSAND",e[e.NUMERIC_CHARACTER_REFERENCE=74]="NUMERIC_CHARACTER_REFERENCE",e[e.HEXADEMICAL_CHARACTER_REFERENCE_START=75]="HEXADEMICAL_CHARACTER_REFERENCE_START",e[e.HEXADEMICAL_CHARACTER_REFERENCE=76]="HEXADEMICAL_CHARACTER_REFERENCE",e[e.DECIMAL_CHARACTER_REFERENCE=77]="DECIMAL_CHARACTER_REFERENCE",e[e.NUMERIC_CHARACTER_REFERENCE_END=78]="NUMERIC_CHARACTER_REFERENCE_END"}(Y||(Y={}));var W={DATA:Y.DATA,RCDATA:Y.RCDATA,RAWTEXT:Y.RAWTEXT,SCRIPT_DATA:Y.SCRIPT_DATA,PLAINTEXT:Y.PLAINTEXT,CDATA_SECTION:Y.CDATA_SECTION};function X(e){return e>=s.DIGIT_0&&e<=s.DIGIT_9}function K(e){return e>=s.LATIN_CAPITAL_A&&e<=s.LATIN_CAPITAL_Z}function j(e){return function(e){return e>=s.LATIN_SMALL_A&&e<=s.LATIN_SMALL_Z}(e)||K(e)}function V(e){return j(e)||X(e)}function z(e){return e>=s.LATIN_CAPITAL_A&&e<=s.LATIN_CAPITAL_F}function q(e){return e>=s.LATIN_SMALL_A&&e<=s.LATIN_SMALL_F}function J(e){return e+32}function Z(e){return e===s.SPACE||e===s.LINE_FEED||e===s.TABULATION||e===s.FORM_FEED}function $(e){return Z(e)||e===s.SOLIDUS||e===s.GREATER_THAN_SIGN}var ee=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=Y.DATA,this.returnState=Y.DATA,this.charRefCode=-1,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new C(n),this.currentLocation=this.getCurrentLocation(-1)}var t,n,r;return t=e,(n=[{key:"_err",value:function(e){var t,n;null===(n=(t=this.handler).onParseError)||void 0===n||n.call(t,this.preprocessor.getError(e))}},{key:"getCurrentLocation",value:function(e){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-e,startOffset:this.preprocessor.offset-e,endLine:-1,endCol:-1,endOffset:-1}:null}},{key:"_runParsingLoop",value:function(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;var e=this._consume();this._ensureHibernation()||this._callState(e)}this.inLoop=!1}}},{key:"pause",value:function(){this.paused=!0}},{key:"resume",value:function(e){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,this.inLoop||(this._runParsingLoop(),this.paused||null==e||e())}},{key:"write",value:function(e,t,n){this.active=!0,this.preprocessor.write(e,t),this._runParsingLoop(),this.paused||null==n||n()}},{key:"insertHtmlAtCurrentPos",value:function(e){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(e),this._runParsingLoop()}},{key:"_ensureHibernation",value:function(){return!!this.preprocessor.endOfChunkHit&&(this._unconsume(this.consumedAfterSnapshot),this.active=!1,!0)}},{key:"_consume",value:function(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}},{key:"_unconsume",value:function(e){this.consumedAfterSnapshot-=e,this.preprocessor.retreat(e)}},{key:"_reconsumeInState",value:function(e,t){this.state=e,this._callState(t)}},{key:"_advanceBy",value:function(e){this.consumedAfterSnapshot+=e;for(var t=0;t<e;t++)this.preprocessor.advance()}},{key:"_consumeSequenceIfMatch",value:function(e,t){return!!this.preprocessor.startsWith(e,t)&&(this._advanceBy(e.length-1),!0)}},{key:"_createStartTagToken",value:function(){this.currentToken={type:I.START_TAG,tagName:"",tagID:k.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}},{key:"_createEndTagToken",value:function(){this.currentToken={type:I.END_TAG,tagName:"",tagID:k.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}},{key:"_createCommentToken",value:function(e){this.currentToken={type:I.COMMENT,data:"",location:this.getCurrentLocation(e)}}},{key:"_createDoctypeToken",value:function(e){this.currentToken={type:I.DOCTYPE,name:e,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}},{key:"_createCharacterToken",value:function(e,t){this.currentCharacterToken={type:e,chars:t,location:this.currentLocation}}},{key:"_createAttr",value:function(e){this.currentAttr={name:e,value:""},this.currentLocation=this.getCurrentLocation(0)}},{key:"_leaveAttrName",value:function(){var e,t,n=this.currentToken;null===S(n,this.currentAttr.name)?(n.attrs.push(this.currentAttr),n.location&&this.currentLocation&&((null!==(e=(t=n.location).attrs)&&void 0!==e?e:t.attrs=Object.create(null))[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue())):this._err(c.duplicateAttribute)}},{key:"_leaveAttrValue",value:function(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}},{key:"prepareToken",value:function(e){this._emitCurrentCharacterToken(e.location),this.currentToken=null,e.location&&(e.location.endLine=this.preprocessor.line,e.location.endCol=this.preprocessor.col+1,e.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}},{key:"emitCurrentTagToken",value:function(){var e=this.currentToken;this.prepareToken(e),e.tagID=y(e.tagName),e.type===I.START_TAG?(this.lastStartTagName=e.tagName,this.handler.onStartTag(e)):(e.attrs.length>0&&this._err(c.endTagWithAttributes),e.selfClosing&&this._err(c.endTagWithTrailingSolidus),this.handler.onEndTag(e)),this.preprocessor.dropParsedChunk()}},{key:"emitCurrentComment",value:function(e){this.prepareToken(e),this.handler.onComment(e),this.preprocessor.dropParsedChunk()}},{key:"emitCurrentDoctype",value:function(e){this.prepareToken(e),this.handler.onDoctype(e),this.preprocessor.dropParsedChunk()}},{key:"_emitCurrentCharacterToken",value:function(e){if(this.currentCharacterToken){switch(e&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=e.startLine,this.currentCharacterToken.location.endCol=e.startCol,this.currentCharacterToken.location.endOffset=e.startOffset),this.currentCharacterToken.type){case I.CHARACTER:this.handler.onCharacter(this.currentCharacterToken);break;case I.NULL_CHARACTER:this.handler.onNullCharacter(this.currentCharacterToken);break;case I.WHITESPACE_CHARACTER:this.handler.onWhitespaceCharacter(this.currentCharacterToken)}this.currentCharacterToken=null}}},{key:"_emitEOFToken",value:function(){var e=this.getCurrentLocation(0);e&&(e.endLine=e.startLine,e.endCol=e.startCol,e.endOffset=e.startOffset),this._emitCurrentCharacterToken(e),this.handler.onEof({type:I.EOF,location:e}),this.active=!1}},{key:"_appendCharToCurrentCharacterToken",value:function(e,t){if(this.currentCharacterToken){if(this.currentCharacterToken.type===e)return void(this.currentCharacterToken.chars+=t);this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk()}this._createCharacterToken(e,t)}},{key:"_emitCodePoint",value:function(e){var t=Z(e)?I.WHITESPACE_CHARACTER:e===s.NULL?I.NULL_CHARACTER:I.CHARACTER;this._appendCharToCurrentCharacterToken(t,String.fromCodePoint(e))}},{key:"_emitChars",value:function(e){this._appendCharToCurrentCharacterToken(I.CHARACTER,e)}},{key:"_matchNamedCharacterReference",value:function(e){for(var t,n=null,r=0,a=!1,i=0,o=L.qN[0];i>=0&&!((i=(0,L.E_)(L.qN,o,i+1,e))<0);e=this._consume()){r+=1;var u=(o=L.qN[i])&L.xA.VALUE_LENGTH;if(u){var E=(u>>14)-1;if(e!==s.SEMICOLON&&this._isCharacterReferenceInAttribute()&&((t=this.preprocessor.peek(1))===s.EQUALS_SIGN||V(t))?(n=[s.AMPERSAND],i+=E):(n=0===E?[L.qN[i]&~L.xA.VALUE_LENGTH]:1===E?[L.qN[++i]]:[L.qN[++i],L.qN[++i]],r=0,a=e!==s.SEMICOLON),0===E){this._consume();break}}}return this._unconsume(r),a&&!this.preprocessor.endOfChunkHit&&this._err(c.missingSemicolonAfterCharacterReference),this._unconsume(1),n}},{key:"_isCharacterReferenceInAttribute",value:function(){return this.returnState===Y.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===Y.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===Y.ATTRIBUTE_VALUE_UNQUOTED}},{key:"_flushCodePointConsumedAsCharacterReference",value:function(e){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(e):this._emitCodePoint(e)}},{key:"_callState",value:function(e){switch(this.state){case Y.DATA:this._stateData(e);break;case Y.RCDATA:this._stateRcdata(e);break;case Y.RAWTEXT:this._stateRawtext(e);break;case Y.SCRIPT_DATA:this._stateScriptData(e);break;case Y.PLAINTEXT:this._statePlaintext(e);break;case Y.TAG_OPEN:this._stateTagOpen(e);break;case Y.END_TAG_OPEN:this._stateEndTagOpen(e);break;case Y.TAG_NAME:this._stateTagName(e);break;case Y.RCDATA_LESS_THAN_SIGN:this._stateRcdataLessThanSign(e);break;case Y.RCDATA_END_TAG_OPEN:this._stateRcdataEndTagOpen(e);break;case Y.RCDATA_END_TAG_NAME:this._stateRcdataEndTagName(e);break;case Y.RAWTEXT_LESS_THAN_SIGN:this._stateRawtextLessThanSign(e);break;case Y.RAWTEXT_END_TAG_OPEN:this._stateRawtextEndTagOpen(e);break;case Y.RAWTEXT_END_TAG_NAME:this._stateRawtextEndTagName(e);break;case Y.SCRIPT_DATA_LESS_THAN_SIGN:this._stateScriptDataLessThanSign(e);break;case Y.SCRIPT_DATA_END_TAG_OPEN:this._stateScriptDataEndTagOpen(e);break;case Y.SCRIPT_DATA_END_TAG_NAME:this._stateScriptDataEndTagName(e);break;case Y.SCRIPT_DATA_ESCAPE_START:this._stateScriptDataEscapeStart(e);break;case Y.SCRIPT_DATA_ESCAPE_START_DASH:this._stateScriptDataEscapeStartDash(e);break;case Y.SCRIPT_DATA_ESCAPED:this._stateScriptDataEscaped(e);break;case Y.SCRIPT_DATA_ESCAPED_DASH:this._stateScriptDataEscapedDash(e);break;case Y.SCRIPT_DATA_ESCAPED_DASH_DASH:this._stateScriptDataEscapedDashDash(e);break;case Y.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:this._stateScriptDataEscapedLessThanSign(e);break;case Y.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:this._stateScriptDataEscapedEndTagOpen(e);break;case Y.SCRIPT_DATA_ESCAPED_END_TAG_NAME:this._stateScriptDataEscapedEndTagName(e);break;case Y.SCRIPT_DATA_DOUBLE_ESCAPE_START:this._stateScriptDataDoubleEscapeStart(e);break;case Y.SCRIPT_DATA_DOUBLE_ESCAPED:this._stateScriptDataDoubleEscaped(e);break;case Y.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:this._stateScriptDataDoubleEscapedDash(e);break;case Y.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:this._stateScriptDataDoubleEscapedDashDash(e);break;case Y.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:this._stateScriptDataDoubleEscapedLessThanSign(e);break;case Y.SCRIPT_DATA_DOUBLE_ESCAPE_END:this._stateScriptDataDoubleEscapeEnd(e);break;case Y.BEFORE_ATTRIBUTE_NAME:this._stateBeforeAttributeName(e);break;case Y.ATTRIBUTE_NAME:this._stateAttributeName(e);break;case Y.AFTER_ATTRIBUTE_NAME:this._stateAfterAttributeName(e);break;case Y.BEFORE_ATTRIBUTE_VALUE:this._stateBeforeAttributeValue(e);break;case Y.ATTRIBUTE_VALUE_DOUBLE_QUOTED:this._stateAttributeValueDoubleQuoted(e);break;case Y.ATTRIBUTE_VALUE_SINGLE_QUOTED:this._stateAttributeValueSingleQuoted(e);break;case Y.ATTRIBUTE_VALUE_UNQUOTED:this._stateAttributeValueUnquoted(e);break;case Y.AFTER_ATTRIBUTE_VALUE_QUOTED:this._stateAfterAttributeValueQuoted(e);break;case Y.SELF_CLOSING_START_TAG:this._stateSelfClosingStartTag(e);break;case Y.BOGUS_COMMENT:this._stateBogusComment(e);break;case Y.MARKUP_DECLARATION_OPEN:this._stateMarkupDeclarationOpen(e);break;case Y.COMMENT_START:this._stateCommentStart(e);break;case Y.COMMENT_START_DASH:this._stateCommentStartDash(e);break;case Y.COMMENT:this._stateComment(e);break;case Y.COMMENT_LESS_THAN_SIGN:this._stateCommentLessThanSign(e);break;case Y.COMMENT_LESS_THAN_SIGN_BANG:this._stateCommentLessThanSignBang(e);break;case Y.COMMENT_LESS_THAN_SIGN_BANG_DASH:this._stateCommentLessThanSignBangDash(e);break;case Y.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:this._stateCommentLessThanSignBangDashDash(e);break;case Y.COMMENT_END_DASH:this._stateCommentEndDash(e);break;case Y.COMMENT_END:this._stateCommentEnd(e);break;case Y.COMMENT_END_BANG:this._stateCommentEndBang(e);break;case Y.DOCTYPE:this._stateDoctype(e);break;case Y.BEFORE_DOCTYPE_NAME:this._stateBeforeDoctypeName(e);break;case Y.DOCTYPE_NAME:this._stateDoctypeName(e);break;case Y.AFTER_DOCTYPE_NAME:this._stateAfterDoctypeName(e);break;case Y.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._stateAfterDoctypePublicKeyword(e);break;case Y.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:this._stateBeforeDoctypePublicIdentifier(e);break;case Y.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:this._stateDoctypePublicIdentifierDoubleQuoted(e);break;case Y.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:this._stateDoctypePublicIdentifierSingleQuoted(e);break;case Y.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:this._stateAfterDoctypePublicIdentifier(e);break;case Y.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:this._stateBetweenDoctypePublicAndSystemIdentifiers(e);break;case Y.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._stateAfterDoctypeSystemKeyword(e);break;case Y.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:this._stateBeforeDoctypeSystemIdentifier(e);break;case Y.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:this._stateDoctypeSystemIdentifierDoubleQuoted(e);break;case Y.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:this._stateDoctypeSystemIdentifierSingleQuoted(e);break;case Y.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:this._stateAfterDoctypeSystemIdentifier(e);break;case Y.BOGUS_DOCTYPE:this._stateBogusDoctype(e);break;case Y.CDATA_SECTION:this._stateCdataSection(e);break;case Y.CDATA_SECTION_BRACKET:this._stateCdataSectionBracket(e);break;case Y.CDATA_SECTION_END:this._stateCdataSectionEnd(e);break;case Y.CHARACTER_REFERENCE:this._stateCharacterReference(e);break;case Y.NAMED_CHARACTER_REFERENCE:this._stateNamedCharacterReference(e);break;case Y.AMBIGUOUS_AMPERSAND:this._stateAmbiguousAmpersand(e);break;case Y.NUMERIC_CHARACTER_REFERENCE:this._stateNumericCharacterReference(e);break;case Y.HEXADEMICAL_CHARACTER_REFERENCE_START:this._stateHexademicalCharacterReferenceStart(e);break;case Y.HEXADEMICAL_CHARACTER_REFERENCE:this._stateHexademicalCharacterReference(e);break;case Y.DECIMAL_CHARACTER_REFERENCE:this._stateDecimalCharacterReference(e);break;case Y.NUMERIC_CHARACTER_REFERENCE_END:this._stateNumericCharacterReferenceEnd(e);break;default:throw new Error("Unknown state")}}},{key:"_stateData",value:function(e){switch(e){case s.LESS_THAN_SIGN:this.state=Y.TAG_OPEN;break;case s.AMPERSAND:this.returnState=Y.DATA,this.state=Y.CHARACTER_REFERENCE;break;case s.NULL:this._err(c.unexpectedNullCharacter),this._emitCodePoint(e);break;case s.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}},{key:"_stateRcdata",value:function(e){switch(e){case s.AMPERSAND:this.returnState=Y.RCDATA,this.state=Y.CHARACTER_REFERENCE;break;case s.LESS_THAN_SIGN:this.state=Y.RCDATA_LESS_THAN_SIGN;break;case s.NULL:this._err(c.unexpectedNullCharacter),this._emitChars(o);break;case s.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}},{key:"_stateRawtext",value:function(e){switch(e){case s.LESS_THAN_SIGN:this.state=Y.RAWTEXT_LESS_THAN_SIGN;break;case s.NULL:this._err(c.unexpectedNullCharacter),this._emitChars(o);break;case s.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}},{key:"_stateScriptData",value:function(e){switch(e){case s.LESS_THAN_SIGN:this.state=Y.SCRIPT_DATA_LESS_THAN_SIGN;break;case s.NULL:this._err(c.unexpectedNullCharacter),this._emitChars(o);break;case s.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}},{key:"_statePlaintext",value:function(e){switch(e){case s.NULL:this._err(c.unexpectedNullCharacter),this._emitChars(o);break;case s.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}},{key:"_stateTagOpen",value:function(e){if(j(e))this._createStartTagToken(),this.state=Y.TAG_NAME,this._stateTagName(e);else switch(e){case s.EXCLAMATION_MARK:this.state=Y.MARKUP_DECLARATION_OPEN;break;case s.SOLIDUS:this.state=Y.END_TAG_OPEN;break;case s.QUESTION_MARK:this._err(c.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=Y.BOGUS_COMMENT,this._stateBogusComment(e);break;case s.EOF:this._err(c.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break;default:this._err(c.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=Y.DATA,this._stateData(e)}}},{key:"_stateEndTagOpen",value:function(e){if(j(e))this._createEndTagToken(),this.state=Y.TAG_NAME,this._stateTagName(e);else switch(e){case s.GREATER_THAN_SIGN:this._err(c.missingEndTagName),this.state=Y.DATA;break;case s.EOF:this._err(c.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break;default:this._err(c.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=Y.BOGUS_COMMENT,this._stateBogusComment(e)}}},{key:"_stateTagName",value:function(e){var t=this.currentToken;switch(e){case s.SPACE:case s.LINE_FEED:case s.TABULATION:case s.FORM_FEED:this.state=Y.BEFORE_ATTRIBUTE_NAME;break;case s.SOLIDUS:this.state=Y.SELF_CLOSING_START_TAG;break;case s.GREATER_THAN_SIGN:this.state=Y.DATA,this.emitCurrentTagToken();break;case s.NULL:this._err(c.unexpectedNullCharacter),t.tagName+=o;break;case s.EOF:this._err(c.eofInTag),this._emitEOFToken();break;default:t.tagName+=String.fromCodePoint(K(e)?J(e):e)}}},{key:"_stateRcdataLessThanSign",value:function(e){e===s.SOLIDUS?this.state=Y.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=Y.RCDATA,this._stateRcdata(e))}},{key:"_stateRcdataEndTagOpen",value:function(e){j(e)?(this.state=Y.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(e)):(this._emitChars("</"),this.state=Y.RCDATA,this._stateRcdata(e))}},{key:"handleSpecialEndTag",value:function(e){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();switch(this._createEndTagToken(),this.currentToken.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case s.SPACE:case s.LINE_FEED:case s.TABULATION:case s.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=Y.BEFORE_ATTRIBUTE_NAME,!1;case s.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=Y.SELF_CLOSING_START_TAG,!1;case s.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=Y.DATA,!1;default:return!this._ensureHibernation()}}},{key:"_stateRcdataEndTagName",value:function(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=Y.RCDATA,this._stateRcdata(e))}},{key:"_stateRawtextLessThanSign",value:function(e){e===s.SOLIDUS?this.state=Y.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=Y.RAWTEXT,this._stateRawtext(e))}},{key:"_stateRawtextEndTagOpen",value:function(e){j(e)?(this.state=Y.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(e)):(this._emitChars("</"),this.state=Y.RAWTEXT,this._stateRawtext(e))}},{key:"_stateRawtextEndTagName",value:function(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=Y.RAWTEXT,this._stateRawtext(e))}},{key:"_stateScriptDataLessThanSign",value:function(e){switch(e){case s.SOLIDUS:this.state=Y.SCRIPT_DATA_END_TAG_OPEN;break;case s.EXCLAMATION_MARK:this.state=Y.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break;default:this._emitChars("<"),this.state=Y.SCRIPT_DATA,this._stateScriptData(e)}}},{key:"_stateScriptDataEndTagOpen",value:function(e){j(e)?(this.state=Y.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(e)):(this._emitChars("</"),this.state=Y.SCRIPT_DATA,this._stateScriptData(e))}},{key:"_stateScriptDataEndTagName",value:function(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=Y.SCRIPT_DATA,this._stateScriptData(e))}},{key:"_stateScriptDataEscapeStart",value:function(e){e===s.HYPHEN_MINUS?(this.state=Y.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=Y.SCRIPT_DATA,this._stateScriptData(e))}},{key:"_stateScriptDataEscapeStartDash",value:function(e){e===s.HYPHEN_MINUS?(this.state=Y.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=Y.SCRIPT_DATA,this._stateScriptData(e))}},{key:"_stateScriptDataEscaped",value:function(e){switch(e){case s.HYPHEN_MINUS:this.state=Y.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break;case s.LESS_THAN_SIGN:this.state=Y.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case s.NULL:this._err(c.unexpectedNullCharacter),this._emitChars(o);break;case s.EOF:this._err(c.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this._emitCodePoint(e)}}},{key:"_stateScriptDataEscapedDash",value:function(e){switch(e){case s.HYPHEN_MINUS:this.state=Y.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break;case s.LESS_THAN_SIGN:this.state=Y.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case s.NULL:this._err(c.unexpectedNullCharacter),this.state=Y.SCRIPT_DATA_ESCAPED,this._emitChars(o);break;case s.EOF:this._err(c.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=Y.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}},{key:"_stateScriptDataEscapedDashDash",value:function(e){switch(e){case s.HYPHEN_MINUS:this._emitChars("-");break;case s.LESS_THAN_SIGN:this.state=Y.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case s.GREATER_THAN_SIGN:this.state=Y.SCRIPT_DATA,this._emitChars(">");break;case s.NULL:this._err(c.unexpectedNullCharacter),this.state=Y.SCRIPT_DATA_ESCAPED,this._emitChars(o);break;case s.EOF:this._err(c.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=Y.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}},{key:"_stateScriptDataEscapedLessThanSign",value:function(e){e===s.SOLIDUS?this.state=Y.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:j(e)?(this._emitChars("<"),this.state=Y.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(e)):(this._emitChars("<"),this.state=Y.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}},{key:"_stateScriptDataEscapedEndTagOpen",value:function(e){j(e)?(this.state=Y.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(e)):(this._emitChars("</"),this.state=Y.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}},{key:"_stateScriptDataEscapedEndTagName",value:function(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=Y.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}},{key:"_stateScriptDataDoubleEscapeStart",value:function(e){if(this.preprocessor.startsWith(h,!1)&&$(this.preprocessor.peek(h.length))){this._emitCodePoint(e);for(var t=0;t<h.length;t++)this._emitCodePoint(this._consume());this.state=Y.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=Y.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}},{key:"_stateScriptDataDoubleEscaped",value:function(e){switch(e){case s.HYPHEN_MINUS:this.state=Y.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break;case s.LESS_THAN_SIGN:this.state=Y.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case s.NULL:this._err(c.unexpectedNullCharacter),this._emitChars(o);break;case s.EOF:this._err(c.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this._emitCodePoint(e)}}},{key:"_stateScriptDataDoubleEscapedDash",value:function(e){switch(e){case s.HYPHEN_MINUS:this.state=Y.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break;case s.LESS_THAN_SIGN:this.state=Y.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case s.NULL:this._err(c.unexpectedNullCharacter),this.state=Y.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(o);break;case s.EOF:this._err(c.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=Y.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}},{key:"_stateScriptDataDoubleEscapedDashDash",value:function(e){switch(e){case s.HYPHEN_MINUS:this._emitChars("-");break;case s.LESS_THAN_SIGN:this.state=Y.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case s.GREATER_THAN_SIGN:this.state=Y.SCRIPT_DATA,this._emitChars(">");break;case s.NULL:this._err(c.unexpectedNullCharacter),this.state=Y.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(o);break;case s.EOF:this._err(c.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=Y.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}},{key:"_stateScriptDataDoubleEscapedLessThanSign",value:function(e){e===s.SOLIDUS?(this.state=Y.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=Y.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}},{key:"_stateScriptDataDoubleEscapeEnd",value:function(e){if(this.preprocessor.startsWith(h,!1)&&$(this.preprocessor.peek(h.length))){this._emitCodePoint(e);for(var t=0;t<h.length;t++)this._emitCodePoint(this._consume());this.state=Y.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=Y.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}},{key:"_stateBeforeAttributeName",value:function(e){switch(e){case s.SPACE:case s.LINE_FEED:case s.TABULATION:case s.FORM_FEED:break;case s.SOLIDUS:case s.GREATER_THAN_SIGN:case s.EOF:this.state=Y.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break;case s.EQUALS_SIGN:this._err(c.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=Y.ATTRIBUTE_NAME;break;default:this._createAttr(""),this.state=Y.ATTRIBUTE_NAME,this._stateAttributeName(e)}}},{key:"_stateAttributeName",value:function(e){switch(e){case s.SPACE:case s.LINE_FEED:case s.TABULATION:case s.FORM_FEED:case s.SOLIDUS:case s.GREATER_THAN_SIGN:case s.EOF:this._leaveAttrName(),this.state=Y.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break;case s.EQUALS_SIGN:this._leaveAttrName(),this.state=Y.BEFORE_ATTRIBUTE_VALUE;break;case s.QUOTATION_MARK:case s.APOSTROPHE:case s.LESS_THAN_SIGN:this._err(c.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(e);break;case s.NULL:this._err(c.unexpectedNullCharacter),this.currentAttr.name+=o;break;default:this.currentAttr.name+=String.fromCodePoint(K(e)?J(e):e)}}},{key:"_stateAfterAttributeName",value:function(e){switch(e){case s.SPACE:case s.LINE_FEED:case s.TABULATION:case s.FORM_FEED:break;case s.SOLIDUS:this.state=Y.SELF_CLOSING_START_TAG;break;case s.EQUALS_SIGN:this.state=Y.BEFORE_ATTRIBUTE_VALUE;break;case s.GREATER_THAN_SIGN:this.state=Y.DATA,this.emitCurrentTagToken();break;case s.EOF:this._err(c.eofInTag),this._emitEOFToken();break;default:this._createAttr(""),this.state=Y.ATTRIBUTE_NAME,this._stateAttributeName(e)}}},{key:"_stateBeforeAttributeValue",value:function(e){switch(e){case s.SPACE:case s.LINE_FEED:case s.TABULATION:case s.FORM_FEED:break;case s.QUOTATION_MARK:this.state=Y.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break;case s.APOSTROPHE:this.state=Y.ATTRIBUTE_VALUE_SINGLE_QUOTED;break;case s.GREATER_THAN_SIGN:this._err(c.missingAttributeValue),this.state=Y.DATA,this.emitCurrentTagToken();break;default:this.state=Y.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(e)}}},{key:"_stateAttributeValueDoubleQuoted",value:function(e){switch(e){case s.QUOTATION_MARK:this.state=Y.AFTER_ATTRIBUTE_VALUE_QUOTED;break;case s.AMPERSAND:this.returnState=Y.ATTRIBUTE_VALUE_DOUBLE_QUOTED,this.state=Y.CHARACTER_REFERENCE;break;case s.NULL:this._err(c.unexpectedNullCharacter),this.currentAttr.value+=o;break;case s.EOF:this._err(c.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(e)}}},{key:"_stateAttributeValueSingleQuoted",value:function(e){switch(e){case s.APOSTROPHE:this.state=Y.AFTER_ATTRIBUTE_VALUE_QUOTED;break;case s.AMPERSAND:this.returnState=Y.ATTRIBUTE_VALUE_SINGLE_QUOTED,this.state=Y.CHARACTER_REFERENCE;break;case s.NULL:this._err(c.unexpectedNullCharacter),this.currentAttr.value+=o;break;case s.EOF:this._err(c.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(e)}}},{key:"_stateAttributeValueUnquoted",value:function(e){switch(e){case s.SPACE:case s.LINE_FEED:case s.TABULATION:case s.FORM_FEED:this._leaveAttrValue(),this.state=Y.BEFORE_ATTRIBUTE_NAME;break;case s.AMPERSAND:this.returnState=Y.ATTRIBUTE_VALUE_UNQUOTED,this.state=Y.CHARACTER_REFERENCE;break;case s.GREATER_THAN_SIGN:this._leaveAttrValue(),this.state=Y.DATA,this.emitCurrentTagToken();break;case s.NULL:this._err(c.unexpectedNullCharacter),this.currentAttr.value+=o;break;case s.QUOTATION_MARK:case s.APOSTROPHE:case s.LESS_THAN_SIGN:case s.EQUALS_SIGN:case s.GRAVE_ACCENT:this._err(c.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(e);break;case s.EOF:this._err(c.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(e)}}},{key:"_stateAfterAttributeValueQuoted",value:function(e){switch(e){case s.SPACE:case s.LINE_FEED:case s.TABULATION:case s.FORM_FEED:this._leaveAttrValue(),this.state=Y.BEFORE_ATTRIBUTE_NAME;break;case s.SOLIDUS:this._leaveAttrValue(),this.state=Y.SELF_CLOSING_START_TAG;break;case s.GREATER_THAN_SIGN:this._leaveAttrValue(),this.state=Y.DATA,this.emitCurrentTagToken();break;case s.EOF:this._err(c.eofInTag),this._emitEOFToken();break;default:this._err(c.missingWhitespaceBetweenAttributes),this.state=Y.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}},{key:"_stateSelfClosingStartTag",value:function(e){switch(e){case s.GREATER_THAN_SIGN:this.currentToken.selfClosing=!0,this.state=Y.DATA,this.emitCurrentTagToken();break;case s.EOF:this._err(c.eofInTag),this._emitEOFToken();break;default:this._err(c.unexpectedSolidusInTag),this.state=Y.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}},{key:"_stateBogusComment",value:function(e){var t=this.currentToken;switch(e){case s.GREATER_THAN_SIGN:this.state=Y.DATA,this.emitCurrentComment(t);break;case s.EOF:this.emitCurrentComment(t),this._emitEOFToken();break;case s.NULL:this._err(c.unexpectedNullCharacter),t.data+=o;break;default:t.data+=String.fromCodePoint(e)}}},{key:"_stateMarkupDeclarationOpen",value:function(e){this._consumeSequenceIfMatch(u,!0)?(this._createCommentToken(u.length+1),this.state=Y.COMMENT_START):this._consumeSequenceIfMatch(l,!1)?(this.currentLocation=this.getCurrentLocation(l.length+1),this.state=Y.DOCTYPE):this._consumeSequenceIfMatch(E,!0)?this.inForeignNode?this.state=Y.CDATA_SECTION:(this._err(c.cdataInHtmlContent),this._createCommentToken(E.length+1),this.currentToken.data="[CDATA[",this.state=Y.BOGUS_COMMENT):this._ensureHibernation()||(this._err(c.incorrectlyOpenedComment),this._createCommentToken(2),this.state=Y.BOGUS_COMMENT,this._stateBogusComment(e))}},{key:"_stateCommentStart",value:function(e){switch(e){case s.HYPHEN_MINUS:this.state=Y.COMMENT_START_DASH;break;case s.GREATER_THAN_SIGN:this._err(c.abruptClosingOfEmptyComment),this.state=Y.DATA;var t=this.currentToken;this.emitCurrentComment(t);break;default:this.state=Y.COMMENT,this._stateComment(e)}}},{key:"_stateCommentStartDash",value:function(e){var t=this.currentToken;switch(e){case s.HYPHEN_MINUS:this.state=Y.COMMENT_END;break;case s.GREATER_THAN_SIGN:this._err(c.abruptClosingOfEmptyComment),this.state=Y.DATA,this.emitCurrentComment(t);break;case s.EOF:this._err(c.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="-",this.state=Y.COMMENT,this._stateComment(e)}}},{key:"_stateComment",value:function(e){var t=this.currentToken;switch(e){case s.HYPHEN_MINUS:this.state=Y.COMMENT_END_DASH;break;case s.LESS_THAN_SIGN:t.data+="<",this.state=Y.COMMENT_LESS_THAN_SIGN;break;case s.NULL:this._err(c.unexpectedNullCharacter),t.data+=o;break;case s.EOF:this._err(c.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+=String.fromCodePoint(e)}}},{key:"_stateCommentLessThanSign",value:function(e){var t=this.currentToken;switch(e){case s.EXCLAMATION_MARK:t.data+="!",this.state=Y.COMMENT_LESS_THAN_SIGN_BANG;break;case s.LESS_THAN_SIGN:t.data+="<";break;default:this.state=Y.COMMENT,this._stateComment(e)}}},{key:"_stateCommentLessThanSignBang",value:function(e){e===s.HYPHEN_MINUS?this.state=Y.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=Y.COMMENT,this._stateComment(e))}},{key:"_stateCommentLessThanSignBangDash",value:function(e){e===s.HYPHEN_MINUS?this.state=Y.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=Y.COMMENT_END_DASH,this._stateCommentEndDash(e))}},{key:"_stateCommentLessThanSignBangDashDash",value:function(e){e!==s.GREATER_THAN_SIGN&&e!==s.EOF&&this._err(c.nestedComment),this.state=Y.COMMENT_END,this._stateCommentEnd(e)}},{key:"_stateCommentEndDash",value:function(e){var t=this.currentToken;switch(e){case s.HYPHEN_MINUS:this.state=Y.COMMENT_END;break;case s.EOF:this._err(c.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="-",this.state=Y.COMMENT,this._stateComment(e)}}},{key:"_stateCommentEnd",value:function(e){var t=this.currentToken;switch(e){case s.GREATER_THAN_SIGN:this.state=Y.DATA,this.emitCurrentComment(t);break;case s.EXCLAMATION_MARK:this.state=Y.COMMENT_END_BANG;break;case s.HYPHEN_MINUS:t.data+="-";break;case s.EOF:this._err(c.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="--",this.state=Y.COMMENT,this._stateComment(e)}}},{key:"_stateCommentEndBang",value:function(e){var t=this.currentToken;switch(e){case s.HYPHEN_MINUS:t.data+="--!",this.state=Y.COMMENT_END_DASH;break;case s.GREATER_THAN_SIGN:this._err(c.incorrectlyClosedComment),this.state=Y.DATA,this.emitCurrentComment(t);break;case s.EOF:this._err(c.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="--!",this.state=Y.COMMENT,this._stateComment(e)}}},{key:"_stateDoctype",value:function(e){switch(e){case s.SPACE:case s.LINE_FEED:case s.TABULATION:case s.FORM_FEED:this.state=Y.BEFORE_DOCTYPE_NAME;break;case s.GREATER_THAN_SIGN:this.state=Y.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e);break;case s.EOF:this._err(c.eofInDoctype),this._createDoctypeToken(null);var t=this.currentToken;t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(c.missingWhitespaceBeforeDoctypeName),this.state=Y.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e)}}},{key:"_stateBeforeDoctypeName",value:function(e){if(K(e))this._createDoctypeToken(String.fromCharCode(J(e))),this.state=Y.DOCTYPE_NAME;else switch(e){case s.SPACE:case s.LINE_FEED:case s.TABULATION:case s.FORM_FEED:break;case s.NULL:this._err(c.unexpectedNullCharacter),this._createDoctypeToken(o),this.state=Y.DOCTYPE_NAME;break;case s.GREATER_THAN_SIGN:this._err(c.missingDoctypeName),this._createDoctypeToken(null);var t=this.currentToken;t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=Y.DATA;break;case s.EOF:this._err(c.eofInDoctype),this._createDoctypeToken(null);var n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break;default:this._createDoctypeToken(String.fromCodePoint(e)),this.state=Y.DOCTYPE_NAME}}},{key:"_stateDoctypeName",value:function(e){var t=this.currentToken;switch(e){case s.SPACE:case s.LINE_FEED:case s.TABULATION:case s.FORM_FEED:this.state=Y.AFTER_DOCTYPE_NAME;break;case s.GREATER_THAN_SIGN:this.state=Y.DATA,this.emitCurrentDoctype(t);break;case s.NULL:this._err(c.unexpectedNullCharacter),t.name+=o;break;case s.EOF:this._err(c.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.name+=String.fromCodePoint(K(e)?J(e):e)}}},{key:"_stateAfterDoctypeName",value:function(e){var t=this.currentToken;switch(e){case s.SPACE:case s.LINE_FEED:case s.TABULATION:case s.FORM_FEED:break;case s.GREATER_THAN_SIGN:this.state=Y.DATA,this.emitCurrentDoctype(t);break;case s.EOF:this._err(c.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._consumeSequenceIfMatch(T,!1)?this.state=Y.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(f,!1)?this.state=Y.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(c.invalidCharacterSequenceAfterDoctypeName),t.forceQuirks=!0,this.state=Y.BOGUS_DOCTYPE,this._stateBogusDoctype(e))}}},{key:"_stateAfterDoctypePublicKeyword",value:function(e){var t=this.currentToken;switch(e){case s.SPACE:case s.LINE_FEED:case s.TABULATION:case s.FORM_FEED:this.state=Y.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break;case s.QUOTATION_MARK:this._err(c.missingWhitespaceAfterDoctypePublicKeyword),t.publicId="",this.state=Y.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break;case s.APOSTROPHE:this._err(c.missingWhitespaceAfterDoctypePublicKeyword),t.publicId="",this.state=Y.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break;case s.GREATER_THAN_SIGN:this._err(c.missingDoctypePublicIdentifier),t.forceQuirks=!0,this.state=Y.DATA,this.emitCurrentDoctype(t);break;case s.EOF:this._err(c.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(c.missingQuoteBeforeDoctypePublicIdentifier),t.forceQuirks=!0,this.state=Y.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}},{key:"_stateBeforeDoctypePublicIdentifier",value:function(e){var t=this.currentToken;switch(e){case s.SPACE:case s.LINE_FEED:case s.TABULATION:case s.FORM_FEED:break;case s.QUOTATION_MARK:t.publicId="",this.state=Y.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break;case s.APOSTROPHE:t.publicId="",this.state=Y.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break;case s.GREATER_THAN_SIGN:this._err(c.missingDoctypePublicIdentifier),t.forceQuirks=!0,this.state=Y.DATA,this.emitCurrentDoctype(t);break;case s.EOF:this._err(c.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(c.missingQuoteBeforeDoctypePublicIdentifier),t.forceQuirks=!0,this.state=Y.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}},{key:"_stateDoctypePublicIdentifierDoubleQuoted",value:function(e){var t=this.currentToken;switch(e){case s.QUOTATION_MARK:this.state=Y.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break;case s.NULL:this._err(c.unexpectedNullCharacter),t.publicId+=o;break;case s.GREATER_THAN_SIGN:this._err(c.abruptDoctypePublicIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=Y.DATA;break;case s.EOF:this._err(c.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.publicId+=String.fromCodePoint(e)}}},{key:"_stateDoctypePublicIdentifierSingleQuoted",value:function(e){var t=this.currentToken;switch(e){case s.APOSTROPHE:this.state=Y.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break;case s.NULL:this._err(c.unexpectedNullCharacter),t.publicId+=o;break;case s.GREATER_THAN_SIGN:this._err(c.abruptDoctypePublicIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=Y.DATA;break;case s.EOF:this._err(c.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.publicId+=String.fromCodePoint(e)}}},{key:"_stateAfterDoctypePublicIdentifier",value:function(e){var t=this.currentToken;switch(e){case s.SPACE:case s.LINE_FEED:case s.TABULATION:case s.FORM_FEED:this.state=Y.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break;case s.GREATER_THAN_SIGN:this.state=Y.DATA,this.emitCurrentDoctype(t);break;case s.QUOTATION_MARK:this._err(c.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),t.systemId="",this.state=Y.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case s.APOSTROPHE:this._err(c.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),t.systemId="",this.state=Y.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case s.EOF:this._err(c.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(c.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=Y.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}},{key:"_stateBetweenDoctypePublicAndSystemIdentifiers",value:function(e){var t=this.currentToken;switch(e){case s.SPACE:case s.LINE_FEED:case s.TABULATION:case s.FORM_FEED:break;case s.GREATER_THAN_SIGN:this.emitCurrentDoctype(t),this.state=Y.DATA;break;case s.QUOTATION_MARK:t.systemId="",this.state=Y.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case s.APOSTROPHE:t.systemId="",this.state=Y.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case s.EOF:this._err(c.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(c.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=Y.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}},{key:"_stateAfterDoctypeSystemKeyword",value:function(e){var t=this.currentToken;switch(e){case s.SPACE:case s.LINE_FEED:case s.TABULATION:case s.FORM_FEED:this.state=Y.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break;case s.QUOTATION_MARK:this._err(c.missingWhitespaceAfterDoctypeSystemKeyword),t.systemId="",this.state=Y.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case s.APOSTROPHE:this._err(c.missingWhitespaceAfterDoctypeSystemKeyword),t.systemId="",this.state=Y.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case s.GREATER_THAN_SIGN:this._err(c.missingDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=Y.DATA,this.emitCurrentDoctype(t);break;case s.EOF:this._err(c.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(c.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=Y.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}},{key:"_stateBeforeDoctypeSystemIdentifier",value:function(e){var t=this.currentToken;switch(e){case s.SPACE:case s.LINE_FEED:case s.TABULATION:case s.FORM_FEED:break;case s.QUOTATION_MARK:t.systemId="",this.state=Y.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case s.APOSTROPHE:t.systemId="",this.state=Y.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case s.GREATER_THAN_SIGN:this._err(c.missingDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=Y.DATA,this.emitCurrentDoctype(t);break;case s.EOF:this._err(c.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(c.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=Y.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}},{key:"_stateDoctypeSystemIdentifierDoubleQuoted",value:function(e){var t=this.currentToken;switch(e){case s.QUOTATION_MARK:this.state=Y.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break;case s.NULL:this._err(c.unexpectedNullCharacter),t.systemId+=o;break;case s.GREATER_THAN_SIGN:this._err(c.abruptDoctypeSystemIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=Y.DATA;break;case s.EOF:this._err(c.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.systemId+=String.fromCodePoint(e)}}},{key:"_stateDoctypeSystemIdentifierSingleQuoted",value:function(e){var t=this.currentToken;switch(e){case s.APOSTROPHE:this.state=Y.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break;case s.NULL:this._err(c.unexpectedNullCharacter),t.systemId+=o;break;case s.GREATER_THAN_SIGN:this._err(c.abruptDoctypeSystemIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=Y.DATA;break;case s.EOF:this._err(c.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.systemId+=String.fromCodePoint(e)}}},{key:"_stateAfterDoctypeSystemIdentifier",value:function(e){var t=this.currentToken;switch(e){case s.SPACE:case s.LINE_FEED:case s.TABULATION:case s.FORM_FEED:break;case s.GREATER_THAN_SIGN:this.emitCurrentDoctype(t),this.state=Y.DATA;break;case s.EOF:this._err(c.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(c.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=Y.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}},{key:"_stateBogusDoctype",value:function(e){var t=this.currentToken;switch(e){case s.GREATER_THAN_SIGN:this.emitCurrentDoctype(t),this.state=Y.DATA;break;case s.NULL:this._err(c.unexpectedNullCharacter);break;case s.EOF:this.emitCurrentDoctype(t),this._emitEOFToken()}}},{key:"_stateCdataSection",value:function(e){switch(e){case s.RIGHT_SQUARE_BRACKET:this.state=Y.CDATA_SECTION_BRACKET;break;case s.EOF:this._err(c.eofInCdata),this._emitEOFToken();break;default:this._emitCodePoint(e)}}},{key:"_stateCdataSectionBracket",value:function(e){e===s.RIGHT_SQUARE_BRACKET?this.state=Y.CDATA_SECTION_END:(this._emitChars("]"),this.state=Y.CDATA_SECTION,this._stateCdataSection(e))}},{key:"_stateCdataSectionEnd",value:function(e){switch(e){case s.GREATER_THAN_SIGN:this.state=Y.DATA;break;case s.RIGHT_SQUARE_BRACKET:this._emitChars("]");break;default:this._emitChars("]]"),this.state=Y.CDATA_SECTION,this._stateCdataSection(e)}}},{key:"_stateCharacterReference",value:function(e){e===s.NUMBER_SIGN?this.state=Y.NUMERIC_CHARACTER_REFERENCE:V(e)?(this.state=Y.NAMED_CHARACTER_REFERENCE,this._stateNamedCharacterReference(e)):(this._flushCodePointConsumedAsCharacterReference(s.AMPERSAND),this._reconsumeInState(this.returnState,e))}},{key:"_stateNamedCharacterReference",value:function(e){var t=this._matchNamedCharacterReference(e);if(this._ensureHibernation());else if(t){for(var n=0;n<t.length;n++)this._flushCodePointConsumedAsCharacterReference(t[n]);this.state=this.returnState}else this._flushCodePointConsumedAsCharacterReference(s.AMPERSAND),this.state=Y.AMBIGUOUS_AMPERSAND}},{key:"_stateAmbiguousAmpersand",value:function(e){V(e)?this._flushCodePointConsumedAsCharacterReference(e):(e===s.SEMICOLON&&this._err(c.unknownNamedCharacterReference),this._reconsumeInState(this.returnState,e))}},{key:"_stateNumericCharacterReference",value:function(e){this.charRefCode=0,e===s.LATIN_SMALL_X||e===s.LATIN_CAPITAL_X?this.state=Y.HEXADEMICAL_CHARACTER_REFERENCE_START:X(e)?(this.state=Y.DECIMAL_CHARACTER_REFERENCE,this._stateDecimalCharacterReference(e)):(this._err(c.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(s.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(s.NUMBER_SIGN),this._reconsumeInState(this.returnState,e))}},{key:"_stateHexademicalCharacterReferenceStart",value:function(e){!function(e){return X(e)||z(e)||q(e)}(e)?(this._err(c.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(s.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(s.NUMBER_SIGN),this._unconsume(2),this.state=this.returnState):(this.state=Y.HEXADEMICAL_CHARACTER_REFERENCE,this._stateHexademicalCharacterReference(e))}},{key:"_stateHexademicalCharacterReference",value:function(e){z(e)?this.charRefCode=16*this.charRefCode+e-55:q(e)?this.charRefCode=16*this.charRefCode+e-87:X(e)?this.charRefCode=16*this.charRefCode+e-48:e===s.SEMICOLON?this.state=Y.NUMERIC_CHARACTER_REFERENCE_END:(this._err(c.missingSemicolonAfterCharacterReference),this.state=Y.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(e))}},{key:"_stateDecimalCharacterReference",value:function(e){X(e)?this.charRefCode=10*this.charRefCode+e-48:e===s.SEMICOLON?this.state=Y.NUMERIC_CHARACTER_REFERENCE_END:(this._err(c.missingSemicolonAfterCharacterReference),this.state=Y.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(e))}},{key:"_stateNumericCharacterReferenceEnd",value:function(e){if(this.charRefCode===s.NULL)this._err(c.nullCharacterReference),this.charRefCode=s.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(c.characterReferenceOutsideUnicodeRange),this.charRefCode=s.REPLACEMENT_CHARACTER;else if(A(this.charRefCode))this._err(c.surrogateCharacterReference),this.charRefCode=s.REPLACEMENT_CHARACTER;else if(d(this.charRefCode))this._err(c.noncharacterCharacterReference);else if(_(this.charRefCode)||this.charRefCode===s.CARRIAGE_RETURN){this._err(c.controlCharacterReference);var t=Q.get(this.charRefCode);void 0!==t&&(this.charRefCode=t)}this._flushCodePointConsumedAsCharacterReference(this.charRefCode),this._reconsumeInState(this.returnState,e)}}])&&G(t.prototype,n),r&&G(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function te(e){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},te(e)}function ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,re(r.key),r)}}function re(e){var t=function(e,t){if("object"!=te(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=te(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==te(t)?t:String(t)}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var se,ie=new Set([k.DD,k.DT,k.LI,k.OPTGROUP,k.OPTION,k.P,k.RB,k.RP,k.RT,k.RTC]),oe=new Set([].concat(function(e){if(Array.isArray(e))return ae(e)}(se=ie)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(se)||function(e,t){if(e){if("string"==typeof e)return ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ae(e,t):void 0}}(se)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[k.CAPTION,k.COLGROUP,k.TBODY,k.TD,k.TFOOT,k.TH,k.THEAD,k.TR])),ce=new Map([[k.APPLET,O.HTML],[k.CAPTION,O.HTML],[k.HTML,O.HTML],[k.MARQUEE,O.HTML],[k.OBJECT,O.HTML],[k.TABLE,O.HTML],[k.TD,O.HTML],[k.TEMPLATE,O.HTML],[k.TH,O.HTML],[k.ANNOTATION_XML,O.MATHML],[k.MI,O.MATHML],[k.MN,O.MATHML],[k.MO,O.MATHML],[k.MS,O.MATHML],[k.MTEXT,O.MATHML],[k.DESC,O.SVG],[k.FOREIGN_OBJECT,O.SVG],[k.TITLE,O.SVG]]),ue=[k.H1,k.H2,k.H3,k.H4,k.H5,k.H6],Ee=[k.TR,k.TEMPLATE,k.HTML],le=[k.TBODY,k.TFOOT,k.THEAD,k.TEMPLATE,k.HTML],he=[k.TABLE,k.TEMPLATE,k.HTML],Te=[k.TD,k.TH],fe=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=k.UNKNOWN,this.current=t}var t,n,r;return t=e,(n=[{key:"currentTmplContentOrNode",get:function(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}},{key:"_indexOf",value:function(e){return this.items.lastIndexOf(e,this.stackTop)}},{key:"_isInTemplate",value:function(){return this.currentTagId===k.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===O.HTML}},{key:"_updateCurrentElement",value:function(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}},{key:"push",value:function(e,t){this.stackTop++,this.items[this.stackTop]=e,this.current=e,this.tagIDs[this.stackTop]=t,this.currentTagId=t,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(e,t,!0)}},{key:"pop",value:function(){var e=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!0)}},{key:"replace",value:function(e,t){var n=this._indexOf(e);this.items[n]=t,n===this.stackTop&&(this.current=t)}},{key:"insertAfter",value:function(e,t,n){var r=this._indexOf(e)+1;this.items.splice(r,0,t),this.tagIDs.splice(r,0,n),this.stackTop++,r===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,r===this.stackTop)}},{key:"popUntilTagNamePopped",value:function(e){var t=this.stackTop+1;do{t=this.tagIDs.lastIndexOf(e,t-1)}while(t>0&&this.treeAdapter.getNamespaceURI(this.items[t])!==O.HTML);this.shortenToLength(t<0?0:t)}},{key:"shortenToLength",value:function(e){for(;this.stackTop>=e;){var t=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,this.stackTop<e)}}},{key:"popUntilElementPopped",value:function(e){var t=this._indexOf(e);this.shortenToLength(t<0?0:t)}},{key:"popUntilPopped",value:function(e,t){var n=this._indexOfTagNames(e,t);this.shortenToLength(n<0?0:n)}},{key:"popUntilNumberedHeaderPopped",value:function(){this.popUntilPopped(ue,O.HTML)}},{key:"popUntilTableCellPopped",value:function(){this.popUntilPopped(Te,O.HTML)}},{key:"popAllUpToHtmlElement",value:function(){this.tmplCount=0,this.shortenToLength(1)}},{key:"_indexOfTagNames",value:function(e,t){for(var n=this.stackTop;n>=0;n--)if(e.includes(this.tagIDs[n])&&this.treeAdapter.getNamespaceURI(this.items[n])===t)return n;return-1}},{key:"clearBackTo",value:function(e,t){var n=this._indexOfTagNames(e,t);this.shortenToLength(n+1)}},{key:"clearBackToTableContext",value:function(){this.clearBackTo(he,O.HTML)}},{key:"clearBackToTableBodyContext",value:function(){this.clearBackTo(le,O.HTML)}},{key:"clearBackToTableRowContext",value:function(){this.clearBackTo(Ee,O.HTML)}},{key:"remove",value:function(e){var t=this._indexOf(e);t>=0&&(t===this.stackTop?this.pop():(this.items.splice(t,1),this.tagIDs.splice(t,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!1)))}},{key:"tryPeekProperlyNestedBodyElement",value:function(){return this.stackTop>=1&&this.tagIDs[1]===k.BODY?this.items[1]:null}},{key:"contains",value:function(e){return this._indexOf(e)>-1}},{key:"getCommonAncestor",value:function(e){var t=this._indexOf(e)-1;return t>=0?this.items[t]:null}},{key:"isRootHtmlElementCurrent",value:function(){return 0===this.stackTop&&this.tagIDs[0]===k.HTML}},{key:"hasInScope",value:function(e){for(var t=this.stackTop;t>=0;t--){var n=this.tagIDs[t],r=this.treeAdapter.getNamespaceURI(this.items[t]);if(n===e&&r===O.HTML)return!0;if(ce.get(n)===r)return!1}return!0}},{key:"hasNumberedHeaderInScope",value:function(){for(var e=this.stackTop;e>=0;e--){var t=this.tagIDs[e],n=this.treeAdapter.getNamespaceURI(this.items[e]);if(H(t)&&n===O.HTML)return!0;if(ce.get(t)===n)return!1}return!0}},{key:"hasInListItemScope",value:function(e){for(var t=this.stackTop;t>=0;t--){var n=this.tagIDs[t],r=this.treeAdapter.getNamespaceURI(this.items[t]);if(n===e&&r===O.HTML)return!0;if((n===k.UL||n===k.OL)&&r===O.HTML||ce.get(n)===r)return!1}return!0}},{key:"hasInButtonScope",value:function(e){for(var t=this.stackTop;t>=0;t--){var n=this.tagIDs[t],r=this.treeAdapter.getNamespaceURI(this.items[t]);if(n===e&&r===O.HTML)return!0;if(n===k.BUTTON&&r===O.HTML||ce.get(n)===r)return!1}return!0}},{key:"hasInTableScope",value:function(e){for(var t=this.stackTop;t>=0;t--){var n=this.tagIDs[t];if(this.treeAdapter.getNamespaceURI(this.items[t])===O.HTML){if(n===e)return!0;if(n===k.TABLE||n===k.TEMPLATE||n===k.HTML)return!1}}return!0}},{key:"hasTableBodyContextInTableScope",value:function(){for(var e=this.stackTop;e>=0;e--){var t=this.tagIDs[e];if(this.treeAdapter.getNamespaceURI(this.items[e])===O.HTML){if(t===k.TBODY||t===k.THEAD||t===k.TFOOT)return!0;if(t===k.TABLE||t===k.HTML)return!1}}return!0}},{key:"hasInSelectScope",value:function(e){for(var t=this.stackTop;t>=0;t--){var n=this.tagIDs[t];if(this.treeAdapter.getNamespaceURI(this.items[t])===O.HTML){if(n===e)return!0;if(n!==k.OPTION&&n!==k.OPTGROUP)return!1}}return!0}},{key:"generateImpliedEndTags",value:function(){for(;ie.has(this.currentTagId);)this.pop()}},{key:"generateImpliedEndTagsThoroughly",value:function(){for(;oe.has(this.currentTagId);)this.pop()}},{key:"generateImpliedEndTagsWithExclusion",value:function(e){for(;this.currentTagId!==e&&oe.has(this.currentTagId);)this.pop()}}])&&ne(t.prototype,n),r&&ne(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ae(e){return Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ae(e)}function _e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,de(r.key),r)}}function de(e){var t=function(e,t){if("object"!=Ae(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ae(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ae(t)?t:String(t)}var pe;!function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"}(pe=pe||(pe={}));var me={type:pe.Marker},Ne=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.treeAdapter=t,this.entries=[],this.bookmark=null}var t,n,r;return t=e,(n=[{key:"_getNoahArkConditionCandidates",value:function(e,t){for(var n=[],r=t.length,a=this.treeAdapter.getTagName(e),s=this.treeAdapter.getNamespaceURI(e),i=0;i<this.entries.length;i++){var o=this.entries[i];if(o.type===pe.Marker)break;var c=o.element;if(this.treeAdapter.getTagName(c)===a&&this.treeAdapter.getNamespaceURI(c)===s){var u=this.treeAdapter.getAttrList(c);u.length===r&&n.push({idx:i,attrs:u})}}return n}},{key:"_ensureNoahArkCondition",value:function(e){if(!(this.entries.length<3)){var t=this.treeAdapter.getAttrList(e),n=this._getNoahArkConditionCandidates(e,t);if(!(n.length<3))for(var r=new Map(t.map((function(e){return[e.name,e.value]}))),a=0,s=0;s<n.length;s++){var i=n[s];i.attrs.every((function(e){return r.get(e.name)===e.value}))&&(a+=1)>=3&&this.entries.splice(i.idx,1)}}}},{key:"insertMarker",value:function(){this.entries.unshift(me)}},{key:"pushElement",value:function(e,t){this._ensureNoahArkCondition(e),this.entries.unshift({type:pe.Element,element:e,token:t})}},{key:"insertElementAfterBookmark",value:function(e,t){var n=this.entries.indexOf(this.bookmark);this.entries.splice(n,0,{type:pe.Element,element:e,token:t})}},{key:"removeEntry",value:function(e){var t=this.entries.indexOf(e);t>=0&&this.entries.splice(t,1)}},{key:"clearToLastMarker",value:function(){var e=this.entries.indexOf(me);e>=0?this.entries.splice(0,e+1):this.entries.length=0}},{key:"getElementEntryInScopeWithTagName",value:function(e){var t=this,n=this.entries.find((function(n){return n.type===pe.Marker||t.treeAdapter.getTagName(n.element)===e}));return n&&n.type===pe.Element?n:null}},{key:"getElementEntry",value:function(e){return this.entries.find((function(t){return t.type===pe.Element&&t.element===e}))}}])&&_e(t.prototype,n),r&&_e(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ie(e){return Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ie(e)}function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach((function(t){Oe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Oe(e,t,n){var r;return r=function(e,t){if("object"!=Ie(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ie(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Ie(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Re(e){return{nodeName:"#text",value:e,parentNode:null}}var De={createDocument:function(){return{nodeName:"#document",mode:D.NO_QUIRKS,childNodes:[]}},createDocumentFragment:function(){return{nodeName:"#document-fragment",childNodes:[]}},createElement:function(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode:function(e){return{nodeName:"#comment",data:e,parentNode:null}},appendChild:function(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore:function(e,t,n){var r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent:function(e,t){e.content=t},getTemplateContent:function(e){return e.content},setDocumentType:function(e,t,n,r){var a=e.childNodes.find((function(e){return"#documentType"===e.nodeName}));if(a)a.name=t,a.publicId=n,a.systemId=r;else{var s={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};De.appendChild(e,s)}},setDocumentMode:function(e,t){e.mode=t},getDocumentMode:function(e){return e.mode},detachNode:function(e){if(e.parentNode){var t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText:function(e,t){if(e.childNodes.length>0){var n=e.childNodes[e.childNodes.length-1];if(De.isTextNode(n))return void(n.value+=t)}De.appendChild(e,Re(t))},insertTextBefore:function(e,t,n){var r=e.childNodes[e.childNodes.indexOf(n)-1];r&&De.isTextNode(r)?r.value+=t:De.insertBefore(e,Re(t),n)},adoptAttributes:function(e,t){for(var n=new Set(e.attrs.map((function(e){return e.name}))),r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild:function(e){return e.childNodes[0]},getChildNodes:function(e){return e.childNodes},getParentNode:function(e){return e.parentNode},getAttrList:function(e){return e.attrs},getTagName:function(e){return e.tagName},getNamespaceURI:function(e){return e.namespaceURI},getTextNodeContent:function(e){return e.value},getCommentNodeContent:function(e){return e.data},getDocumentTypeNodeName:function(e){return e.name},getDocumentTypeNodePublicId:function(e){return e.publicId},getDocumentTypeNodeSystemId:function(e){return e.systemId},isTextNode:function(e){return"#text"===e.nodeName},isCommentNode:function(e){return"#comment"===e.nodeName},isDocumentTypeNode:function(e){return"#documentType"===e.nodeName},isElementNode:function(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation:function(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation:function(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation:function(e,t){e.sourceCodeLocation=Se(Se({},e.sourceCodeLocation),t)}},ge="html",ke="about:legacy-compat",Le="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",ve=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],be=[].concat(ve,["-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"]),Me=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),ye=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],Pe=[].concat(ye,["-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"]);function Be(e,t){return t.some((function(t){return e.startsWith(t)}))}var He={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},Fe="definitionurl",Ue="definitionURL",we=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map((function(e){return[e.toLowerCase(),e]}))),Ge=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:O.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:O.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:O.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:O.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:O.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:O.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:O.XLINK}],["xml:base",{prefix:"xml",name:"base",namespace:O.XML}],["xml:lang",{prefix:"xml",name:"lang",namespace:O.XML}],["xml:space",{prefix:"xml",name:"space",namespace:O.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:O.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:O.XMLNS}]]),xe=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map((function(e){return[e.toLowerCase(),e]}))),Ye=new Set([k.B,k.BIG,k.BLOCKQUOTE,k.BODY,k.BR,k.CENTER,k.CODE,k.DD,k.DIV,k.DL,k.DT,k.EM,k.EMBED,k.H1,k.H2,k.H3,k.H4,k.H5,k.H6,k.HEAD,k.HR,k.I,k.IMG,k.LI,k.LISTING,k.MENU,k.META,k.NOBR,k.OL,k.P,k.PRE,k.RUBY,k.S,k.SMALL,k.SPAN,k.STRONG,k.STRIKE,k.SUB,k.SUP,k.TABLE,k.TT,k.U,k.UL,k.VAR]);function Qe(e){for(var t=0;t<e.attrs.length;t++)if(e.attrs[t].name===Fe){e.attrs[t].name=Ue;break}}function We(e){for(var t=0;t<e.attrs.length;t++){var n=we.get(e.attrs[t].name);null!=n&&(e.attrs[t].name=n)}}function Xe(e){for(var t=0;t<e.attrs.length;t++){var n=Ge.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function Ke(e,t,n,r){return(!r||r===O.HTML)&&function(e,t,n){if(t===O.MATHML&&e===k.ANNOTATION_XML)for(var r=0;r<n.length;r++)if(n[r].name===R.ENCODING){var a=n[r].value.toLowerCase();return a===He.TEXT_HTML||a===He.APPLICATION_XML}return t===O.SVG&&(e===k.FOREIGN_OBJECT||e===k.DESC||e===k.TITLE)}(e,t,n)||(!r||r===O.MATHML)&&function(e,t){return t===O.MATHML&&(e===k.MI||e===k.MO||e===k.MN||e===k.MS||e===k.MTEXT)}(e,t)}function je(e){return je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},je(e)}function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(n),!0).forEach((function(t){qe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qe(e,t,n){return(t=Ze(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ze(r.key),r)}}function Ze(e){var t=function(e,t){if("object"!=je(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=je(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==je(t)?t:String(t)}var $e,et="hidden",tt=8,nt=3;!function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"}($e||($e={}));var rt={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},at=new Set([k.TABLE,k.TBODY,k.TFOOT,k.THEAD,k.TR]),st={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:De,onParseError:null},it=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.fragmentContext=r,this.scriptHandler=a,this.currentToken=null,this.stopped=!1,this.insertionMode=$e.INITIAL,this.originalInsertionMode=$e.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options=ze(ze({},st),t),this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=null!=n?n:this.treeAdapter.createDocument(),this.tokenizer=new ee(this.options,this),this.activeFormattingElements=new Ne(this.treeAdapter),this.fragmentContextID=r?y(this.treeAdapter.getTagName(r)):k.UNKNOWN,this._setContextModes(null!=r?r:this.document,this.fragmentContextID),this.openElements=new fe(this.document,this.treeAdapter,this)}var t,n,r;return t=e,r=[{key:"parse",value:function(e,t){var n=new this(t);return n.tokenizer.write(e,!0),n.document}},{key:"getFragmentParser",value:function(e,t){var n=ze(ze({},st),t);null!=e||(e=n.treeAdapter.createElement(g.TEMPLATE,O.HTML,[]));var r=n.treeAdapter.createElement("documentmock",O.HTML,[]),a=new this(n,r,e);return a.fragmentContextID===k.TEMPLATE&&a.tmplInsertionModeStack.unshift($e.IN_TEMPLATE),a._initTokenizerForFragmentParsing(),a._insertFakeRootElement(),a._resetInsertionMode(),a._findFormInFragmentContext(),a}}],(n=[{key:"getFragment",value:function(){var e=this.treeAdapter.getFirstChild(this.document),t=this.treeAdapter.createDocumentFragment();return this._adoptNodes(e,t),t}},{key:"_err",value:function(e,t,n){var r;if(this.onParseError){var a=null!==(r=e.location)&&void 0!==r?r:rt,s={code:t,startLine:a.startLine,startCol:a.startCol,startOffset:a.startOffset,endLine:n?a.startLine:a.endLine,endCol:n?a.startCol:a.endCol,endOffset:n?a.startOffset:a.endOffset};this.onParseError(s)}}},{key:"onItemPush",value:function(e,t,n){var r,a;null===(a=(r=this.treeAdapter).onItemPush)||void 0===a||a.call(r,e),n&&this.openElements.stackTop>0&&this._setContextModes(e,t)}},{key:"onItemPop",value:function(e,t){var n,r;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(e,this.currentToken),null===(r=(n=this.treeAdapter).onItemPop)||void 0===r||r.call(n,e,this.openElements.current),t){var a,s;if(0===this.openElements.stackTop&&this.fragmentContext)a=this.fragmentContext,s=this.fragmentContextID;else{var i=this.openElements;a=i.current,s=i.currentTagId}this._setContextModes(a,s)}}},{key:"_setContextModes",value:function(e,t){var n=e===this.document||this.treeAdapter.getNamespaceURI(e)===O.HTML;this.currentNotInHTML=!n,this.tokenizer.inForeignNode=!n&&!this._isIntegrationPoint(t,e)}},{key:"_switchToTextParsing",value:function(e,t){this._insertElement(e,O.HTML),this.tokenizer.state=t,this.originalInsertionMode=this.insertionMode,this.insertionMode=$e.TEXT}},{key:"switchToPlaintextParsing",value:function(){this.insertionMode=$e.TEXT,this.originalInsertionMode=$e.IN_BODY,this.tokenizer.state=W.PLAINTEXT}},{key:"_getAdjustedCurrentElement",value:function(){return 0===this.openElements.stackTop&&this.fragmentContext?this.fragmentContext:this.openElements.current}},{key:"_findFormInFragmentContext",value:function(){for(var e=this.fragmentContext;e;){if(this.treeAdapter.getTagName(e)===g.FORM){this.formElement=e;break}e=this.treeAdapter.getParentNode(e)}}},{key:"_initTokenizerForFragmentParsing",value:function(){if(this.fragmentContext&&this.treeAdapter.getNamespaceURI(this.fragmentContext)===O.HTML)switch(this.fragmentContextID){case k.TITLE:case k.TEXTAREA:this.tokenizer.state=W.RCDATA;break;case k.STYLE:case k.XMP:case k.IFRAME:case k.NOEMBED:case k.NOFRAMES:case k.NOSCRIPT:this.tokenizer.state=W.RAWTEXT;break;case k.SCRIPT:this.tokenizer.state=W.SCRIPT_DATA;break;case k.PLAINTEXT:this.tokenizer.state=W.PLAINTEXT}}},{key:"_setDocumentType",value:function(e){var t=this,n=e.name||"",r=e.publicId||"",a=e.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,a),e.location){var s=this.treeAdapter.getChildNodes(this.document).find((function(e){return t.treeAdapter.isDocumentTypeNode(e)}));s&&this.treeAdapter.setNodeSourceCodeLocation(s,e.location)}}},{key:"_attachElementToTree",value:function(e,t){if(this.options.sourceCodeLocationInfo){var n=t&&ze(ze({},t),{},{startTag:t});this.treeAdapter.setNodeSourceCodeLocation(e,n)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{var r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r,e)}}},{key:"_appendElement",value:function(e,t){var n=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(n,e.location)}},{key:"_insertElement",value:function(e,t){var n=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(n,e.location),this.openElements.push(n,e.tagID)}},{key:"_insertFakeElement",value:function(e,t){var n=this.treeAdapter.createElement(e,O.HTML,[]);this._attachElementToTree(n,null),this.openElements.push(n,t)}},{key:"_insertTemplate",value:function(e){var t=this.treeAdapter.createElement(e.tagName,O.HTML,e.attrs),n=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(t,n),this._attachElementToTree(t,e.location),this.openElements.push(t,e.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,null)}},{key:"_insertFakeRootElement",value:function(){var e=this.treeAdapter.createElement(g.HTML,O.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(e,null),this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e,k.HTML)}},{key:"_appendCommentNode",value:function(e,t){var n=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(t,n),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,e.location)}},{key:"_insertCharacters",value:function(e){var t,n;if(this._shouldFosterParentOnInsertion()){var r=this._findFosterParentingLocation();t=r.parent,(n=r.beforeElement)?this.treeAdapter.insertTextBefore(t,e.chars,n):this.treeAdapter.insertText(t,e.chars)}else t=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(t,e.chars);if(e.location){var a=this.treeAdapter.getChildNodes(t),s=n?a.lastIndexOf(n):a.length,i=a[s-1];if(this.treeAdapter.getNodeSourceCodeLocation(i)){var o=e.location,c=o.endLine,u=o.endCol,E=o.endOffset;this.treeAdapter.updateNodeSourceCodeLocation(i,{endLine:c,endCol:u,endOffset:E})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(i,e.location)}}},{key:"_adoptNodes",value:function(e,t){for(var n=this.treeAdapter.getFirstChild(e);n;n=this.treeAdapter.getFirstChild(e))this.treeAdapter.detachNode(n),this.treeAdapter.appendChild(t,n)}},{key:"_setEndLocation",value:function(e,t){if(this.treeAdapter.getNodeSourceCodeLocation(e)&&t.location){var n=t.location,r=this.treeAdapter.getTagName(e),a=t.type===I.END_TAG&&r===t.tagName?{endTag:ze({},n),endLine:n.endLine,endCol:n.endCol,endOffset:n.endOffset}:{endLine:n.startLine,endCol:n.startCol,endOffset:n.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(e,a)}}},{key:"shouldProcessStartTagTokenInForeignContent",value:function(e){if(!this.currentNotInHTML)return!1;var t,n;if(0===this.openElements.stackTop&&this.fragmentContext)t=this.fragmentContext,n=this.fragmentContextID;else{var r=this.openElements;t=r.current,n=r.currentTagId}return(e.tagID!==k.SVG||this.treeAdapter.getTagName(t)!==g.ANNOTATION_XML||this.treeAdapter.getNamespaceURI(t)!==O.MATHML)&&(this.tokenizer.inForeignNode||(e.tagID===k.MGLYPH||e.tagID===k.MALIGNMARK)&&!this._isIntegrationPoint(n,t,O.HTML))}},{key:"_processToken",value:function(e){switch(e.type){case I.CHARACTER:this.onCharacter(e);break;case I.NULL_CHARACTER:this.onNullCharacter(e);break;case I.COMMENT:this.onComment(e);break;case I.DOCTYPE:this.onDoctype(e);break;case I.START_TAG:this._processStartTag(e);break;case I.END_TAG:this.onEndTag(e);break;case I.EOF:this.onEof(e);break;case I.WHITESPACE_CHARACTER:this.onWhitespaceCharacter(e)}}},{key:"_isIntegrationPoint",value:function(e,t,n){return Ke(e,this.treeAdapter.getNamespaceURI(t),this.treeAdapter.getAttrList(t),n)}},{key:"_reconstructActiveFormattingElements",value:function(){var e=this,t=this.activeFormattingElements.entries.length;if(t)for(var n=this.activeFormattingElements.entries.findIndex((function(t){return t.type===pe.Marker||e.openElements.contains(t.element)})),r=n<0?t-1:n-1;r>=0;r--){var a=this.activeFormattingElements.entries[r];this._insertElement(a.token,this.treeAdapter.getNamespaceURI(a.element)),a.element=this.openElements.current}}},{key:"_closeTableCell",value:function(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=$e.IN_ROW}},{key:"_closePElement",value:function(){this.openElements.generateImpliedEndTagsWithExclusion(k.P),this.openElements.popUntilTagNamePopped(k.P)}},{key:"_resetInsertionMode",value:function(){for(var e=this.openElements.stackTop;e>=0;e--)switch(0===e&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[e]){case k.TR:return void(this.insertionMode=$e.IN_ROW);case k.TBODY:case k.THEAD:case k.TFOOT:return void(this.insertionMode=$e.IN_TABLE_BODY);case k.CAPTION:return void(this.insertionMode=$e.IN_CAPTION);case k.COLGROUP:return void(this.insertionMode=$e.IN_COLUMN_GROUP);case k.TABLE:return void(this.insertionMode=$e.IN_TABLE);case k.BODY:return void(this.insertionMode=$e.IN_BODY);case k.FRAMESET:return void(this.insertionMode=$e.IN_FRAMESET);case k.SELECT:return void this._resetInsertionModeForSelect(e);case k.TEMPLATE:return void(this.insertionMode=this.tmplInsertionModeStack[0]);case k.HTML:return void(this.insertionMode=this.headElement?$e.AFTER_HEAD:$e.BEFORE_HEAD);case k.TD:case k.TH:if(e>0)return void(this.insertionMode=$e.IN_CELL);break;case k.HEAD:if(e>0)return void(this.insertionMode=$e.IN_HEAD)}this.insertionMode=$e.IN_BODY}},{key:"_resetInsertionModeForSelect",value:function(e){if(e>0)for(var t=e-1;t>0;t--){var n=this.openElements.tagIDs[t];if(n===k.TEMPLATE)break;if(n===k.TABLE)return void(this.insertionMode=$e.IN_SELECT_IN_TABLE)}this.insertionMode=$e.IN_SELECT}},{key:"_isElementCausesFosterParenting",value:function(e){return at.has(e)}},{key:"_shouldFosterParentOnInsertion",value:function(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}},{key:"_findFosterParentingLocation",value:function(){for(var e=this.openElements.stackTop;e>=0;e--){var t=this.openElements.items[e];switch(this.openElements.tagIDs[e]){case k.TEMPLATE:if(this.treeAdapter.getNamespaceURI(t)===O.HTML)return{parent:this.treeAdapter.getTemplateContent(t),beforeElement:null};break;case k.TABLE:var n=this.treeAdapter.getParentNode(t);return n?{parent:n,beforeElement:t}:{parent:this.openElements.items[e-1],beforeElement:null}}}return{parent:this.openElements.items[0],beforeElement:null}}},{key:"_fosterParentElement",value:function(e){var t=this._findFosterParentingLocation();t.beforeElement?this.treeAdapter.insertBefore(t.parent,e,t.beforeElement):this.treeAdapter.appendChild(t.parent,e)}},{key:"_isSpecialElement",value:function(e,t){var n=this.treeAdapter.getNamespaceURI(e);return B[n].has(t)}},{key:"onCharacter",value:function(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode)!function(e,t){e._insertCharacters(t),e.framesetOk=!1}(this,e);else switch(this.insertionMode){case $e.INITIAL:_t(this,e);break;case $e.BEFORE_HTML:dt(this,e);break;case $e.BEFORE_HEAD:pt(this,e);break;case $e.IN_HEAD:It(this,e);break;case $e.IN_HEAD_NO_SCRIPT:Ct(this,e);break;case $e.AFTER_HEAD:St(this,e);break;case $e.IN_BODY:case $e.IN_CAPTION:case $e.IN_CELL:case $e.IN_TEMPLATE:Dt(this,e);break;case $e.TEXT:case $e.IN_SELECT:case $e.IN_SELECT_IN_TABLE:this._insertCharacters(e);break;case $e.IN_TABLE:case $e.IN_TABLE_BODY:case $e.IN_ROW:Bt(this,e);break;case $e.IN_TABLE_TEXT:Gt(this,e);break;case $e.IN_COLUMN_GROUP:Wt(this,e);break;case $e.AFTER_BODY:$t(this,e);break;case $e.AFTER_AFTER_BODY:en(this,e)}}},{key:"onNullCharacter",value:function(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode)!function(e,t){t.chars=o,e._insertCharacters(t)}(this,e);else switch(this.insertionMode){case $e.INITIAL:_t(this,e);break;case $e.BEFORE_HTML:dt(this,e);break;case $e.BEFORE_HEAD:pt(this,e);break;case $e.IN_HEAD:It(this,e);break;case $e.IN_HEAD_NO_SCRIPT:Ct(this,e);break;case $e.AFTER_HEAD:St(this,e);break;case $e.TEXT:this._insertCharacters(e);break;case $e.IN_TABLE:case $e.IN_TABLE_BODY:case $e.IN_ROW:Bt(this,e);break;case $e.IN_COLUMN_GROUP:Wt(this,e);break;case $e.AFTER_BODY:$t(this,e);break;case $e.AFTER_AFTER_BODY:en(this,e)}}},{key:"onComment",value:function(e){if(this.skipNextNewLine=!1,this.currentNotInHTML)ft(this,e);else switch(this.insertionMode){case $e.INITIAL:case $e.BEFORE_HTML:case $e.BEFORE_HEAD:case $e.IN_HEAD:case $e.IN_HEAD_NO_SCRIPT:case $e.AFTER_HEAD:case $e.IN_BODY:case $e.IN_TABLE:case $e.IN_CAPTION:case $e.IN_COLUMN_GROUP:case $e.IN_TABLE_BODY:case $e.IN_ROW:case $e.IN_CELL:case $e.IN_SELECT:case $e.IN_SELECT_IN_TABLE:case $e.IN_TEMPLATE:case $e.IN_FRAMESET:case $e.AFTER_FRAMESET:ft(this,e);break;case $e.IN_TABLE_TEXT:xt(this,e);break;case $e.AFTER_BODY:!function(e,t){e._appendCommentNode(t,e.openElements.items[0])}(this,e);break;case $e.AFTER_AFTER_BODY:case $e.AFTER_AFTER_FRAMESET:!function(e,t){e._appendCommentNode(t,e.document)}(this,e)}}},{key:"onDoctype",value:function(e){switch(this.skipNextNewLine=!1,this.insertionMode){case $e.INITIAL:!function(e,t){e._setDocumentType(t);var n=t.forceQuirks?D.QUIRKS:function(e){if(e.name!==ge)return D.QUIRKS;var t=e.systemId;if(t&&t.toLowerCase()===Le)return D.QUIRKS;var n=e.publicId;if(null!==n){if(n=n.toLowerCase(),Me.has(n))return D.QUIRKS;var r=null===t?be:ve;if(Be(n,r))return D.QUIRKS;if(Be(n,r=null===t?ye:Pe))return D.LIMITED_QUIRKS}return D.NO_QUIRKS}(t);(function(e){return e.name===ge&&null===e.publicId&&(null===e.systemId||e.systemId===ke)})(t)||e._err(t,c.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=$e.BEFORE_HTML}(this,e);break;case $e.BEFORE_HEAD:case $e.IN_HEAD:case $e.IN_HEAD_NO_SCRIPT:case $e.AFTER_HEAD:this._err(e,c.misplacedDoctype);break;case $e.IN_TABLE_TEXT:xt(this,e)}}},{key:"onStartTag",value:function(e){this.skipNextNewLine=!1,this.currentToken=e,this._processStartTag(e),e.selfClosing&&!e.ackSelfClosing&&this._err(e,c.nonVoidHtmlElementStartTagWithTrailingSolidus)}},{key:"_processStartTag",value:function(e){this.shouldProcessStartTagTokenInForeignContent(e)?function(e,t){if((s=(a=t).tagID)===k.FONT&&a.attrs.some((function(e){var t=e.name;return t===R.COLOR||t===R.SIZE||t===R.FACE}))||Ye.has(s))tn(e),e._startTagOutsideForeignContent(t);else{var n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===O.MATHML?Qe(t):r===O.SVG&&(function(e){var t=xe.get(e.tagName);null!=t&&(e.tagName=t,e.tagID=y(e.tagName))}(t),We(t)),Xe(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}var a,s}(this,e):this._startTagOutsideForeignContent(e)}},{key:"_startTagOutsideForeignContent",value:function(e){switch(this.insertionMode){case $e.INITIAL:_t(this,e);break;case $e.BEFORE_HTML:!function(e,t){t.tagID===k.HTML?(e._insertElement(t,O.HTML),e.insertionMode=$e.BEFORE_HEAD):dt(e,t)}(this,e);break;case $e.BEFORE_HEAD:!function(e,t){switch(t.tagID){case k.HTML:bt(e,t);break;case k.HEAD:e._insertElement(t,O.HTML),e.headElement=e.openElements.current,e.insertionMode=$e.IN_HEAD;break;default:pt(e,t)}}(this,e);break;case $e.IN_HEAD:mt(this,e);break;case $e.IN_HEAD_NO_SCRIPT:!function(e,t){switch(t.tagID){case k.HTML:bt(e,t);break;case k.BASEFONT:case k.BGSOUND:case k.HEAD:case k.LINK:case k.META:case k.NOFRAMES:case k.STYLE:mt(e,t);break;case k.NOSCRIPT:e._err(t,c.nestedNoscriptInHead);break;default:Ct(e,t)}}(this,e);break;case $e.AFTER_HEAD:!function(e,t){switch(t.tagID){case k.HTML:bt(e,t);break;case k.BODY:e._insertElement(t,O.HTML),e.framesetOk=!1,e.insertionMode=$e.IN_BODY;break;case k.FRAMESET:e._insertElement(t,O.HTML),e.insertionMode=$e.IN_FRAMESET;break;case k.BASE:case k.BASEFONT:case k.BGSOUND:case k.LINK:case k.META:case k.NOFRAMES:case k.SCRIPT:case k.STYLE:case k.TEMPLATE:case k.TITLE:e._err(t,c.abandonedHeadElementChild),e.openElements.push(e.headElement,k.HEAD),mt(e,t),e.openElements.remove(e.headElement);break;case k.HEAD:e._err(t,c.misplacedStartTagForHeadElement);break;default:St(e,t)}}(this,e);break;case $e.IN_BODY:bt(this,e);break;case $e.IN_TABLE:Ht(this,e);break;case $e.IN_TABLE_TEXT:xt(this,e);break;case $e.IN_CAPTION:!function(e,t){var n=t.tagID;Yt.has(n)?e.openElements.hasInTableScope(k.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(k.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=$e.IN_TABLE,Ht(e,t)):bt(e,t)}(this,e);break;case $e.IN_COLUMN_GROUP:Qt(this,e);break;case $e.IN_TABLE_BODY:Xt(this,e);break;case $e.IN_ROW:jt(this,e);break;case $e.IN_CELL:!function(e,t){var n=t.tagID;Yt.has(n)?(e.openElements.hasInTableScope(k.TD)||e.openElements.hasInTableScope(k.TH))&&(e._closeTableCell(),jt(e,t)):bt(e,t)}(this,e);break;case $e.IN_SELECT:zt(this,e);break;case $e.IN_SELECT_IN_TABLE:!function(e,t){var n=t.tagID;n===k.CAPTION||n===k.TABLE||n===k.TBODY||n===k.TFOOT||n===k.THEAD||n===k.TR||n===k.TD||n===k.TH?(e.openElements.popUntilTagNamePopped(k.SELECT),e._resetInsertionMode(),e._processStartTag(t)):zt(e,t)}(this,e);break;case $e.IN_TEMPLATE:!function(e,t){switch(t.tagID){case k.BASE:case k.BASEFONT:case k.BGSOUND:case k.LINK:case k.META:case k.NOFRAMES:case k.SCRIPT:case k.STYLE:case k.TEMPLATE:case k.TITLE:mt(e,t);break;case k.CAPTION:case k.COLGROUP:case k.TBODY:case k.TFOOT:case k.THEAD:e.tmplInsertionModeStack[0]=$e.IN_TABLE,e.insertionMode=$e.IN_TABLE,Ht(e,t);break;case k.COL:e.tmplInsertionModeStack[0]=$e.IN_COLUMN_GROUP,e.insertionMode=$e.IN_COLUMN_GROUP,Qt(e,t);break;case k.TR:e.tmplInsertionModeStack[0]=$e.IN_TABLE_BODY,e.insertionMode=$e.IN_TABLE_BODY,Xt(e,t);break;case k.TD:case k.TH:e.tmplInsertionModeStack[0]=$e.IN_ROW,e.insertionMode=$e.IN_ROW,jt(e,t);break;default:e.tmplInsertionModeStack[0]=$e.IN_BODY,e.insertionMode=$e.IN_BODY,bt(e,t)}}(this,e);break;case $e.AFTER_BODY:!function(e,t){t.tagID===k.HTML?bt(e,t):$t(e,t)}(this,e);break;case $e.IN_FRAMESET:!function(e,t){switch(t.tagID){case k.HTML:bt(e,t);break;case k.FRAMESET:e._insertElement(t,O.HTML);break;case k.FRAME:e._appendElement(t,O.HTML),t.ackSelfClosing=!0;break;case k.NOFRAMES:mt(e,t)}}(this,e);break;case $e.AFTER_FRAMESET:!function(e,t){switch(t.tagID){case k.HTML:bt(e,t);break;case k.NOFRAMES:mt(e,t)}}(this,e);break;case $e.AFTER_AFTER_BODY:!function(e,t){t.tagID===k.HTML?bt(e,t):en(e,t)}(this,e);break;case $e.AFTER_AFTER_FRAMESET:!function(e,t){switch(t.tagID){case k.HTML:bt(e,t);break;case k.NOFRAMES:mt(e,t)}}(this,e)}}},{key:"onEndTag",value:function(e){this.skipNextNewLine=!1,this.currentToken=e,this.currentNotInHTML?function(e,t){if(t.tagID===k.P||t.tagID===k.BR)return tn(e),void e._endTagOutsideForeignContent(t);for(var n=e.openElements.stackTop;n>0;n--){var r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===O.HTML){e._endTagOutsideForeignContent(t);break}var a=e.treeAdapter.getTagName(r);if(a.toLowerCase()===t.tagName){t.tagName=a,e.openElements.shortenToLength(n);break}}}(this,e):this._endTagOutsideForeignContent(e)}},{key:"_endTagOutsideForeignContent",value:function(e){switch(this.insertionMode){case $e.INITIAL:_t(this,e);break;case $e.BEFORE_HTML:!function(e,t){var n=t.tagID;n!==k.HTML&&n!==k.HEAD&&n!==k.BODY&&n!==k.BR||dt(e,t)}(this,e);break;case $e.BEFORE_HEAD:!function(e,t){var n=t.tagID;n===k.HEAD||n===k.BODY||n===k.HTML||n===k.BR?pt(e,t):e._err(t,c.endTagWithoutMatchingOpenElement)}(this,e);break;case $e.IN_HEAD:!function(e,t){switch(t.tagID){case k.HEAD:e.openElements.pop(),e.insertionMode=$e.AFTER_HEAD;break;case k.BODY:case k.BR:case k.HTML:It(e,t);break;case k.TEMPLATE:Nt(e,t);break;default:e._err(t,c.endTagWithoutMatchingOpenElement)}}(this,e);break;case $e.IN_HEAD_NO_SCRIPT:!function(e,t){switch(t.tagID){case k.NOSCRIPT:e.openElements.pop(),e.insertionMode=$e.IN_HEAD;break;case k.BR:Ct(e,t);break;default:e._err(t,c.endTagWithoutMatchingOpenElement)}}(this,e);break;case $e.AFTER_HEAD:!function(e,t){switch(t.tagID){case k.BODY:case k.HTML:case k.BR:St(e,t);break;case k.TEMPLATE:Nt(e,t);break;default:e._err(t,c.endTagWithoutMatchingOpenElement)}}(this,e);break;case $e.IN_BODY:yt(this,e);break;case $e.TEXT:!function(e,t){var n;t.tagID===k.SCRIPT&&(null===(n=e.scriptHandler)||void 0===n||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}(this,e);break;case $e.IN_TABLE:Ft(this,e);break;case $e.IN_TABLE_TEXT:xt(this,e);break;case $e.IN_CAPTION:!function(e,t){var n=t.tagID;switch(n){case k.CAPTION:case k.TABLE:e.openElements.hasInTableScope(k.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(k.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=$e.IN_TABLE,n===k.TABLE&&Ft(e,t));break;case k.BODY:case k.COL:case k.COLGROUP:case k.HTML:case k.TBODY:case k.TD:case k.TFOOT:case k.TH:case k.THEAD:case k.TR:break;default:yt(e,t)}}(this,e);break;case $e.IN_COLUMN_GROUP:!function(e,t){switch(t.tagID){case k.COLGROUP:e.openElements.currentTagId===k.COLGROUP&&(e.openElements.pop(),e.insertionMode=$e.IN_TABLE);break;case k.TEMPLATE:Nt(e,t);break;case k.COL:break;default:Wt(e,t)}}(this,e);break;case $e.IN_TABLE_BODY:Kt(this,e);break;case $e.IN_ROW:Vt(this,e);break;case $e.IN_CELL:!function(e,t){var n=t.tagID;switch(n){case k.TD:case k.TH:e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=$e.IN_ROW);break;case k.TABLE:case k.TBODY:case k.TFOOT:case k.THEAD:case k.TR:e.openElements.hasInTableScope(n)&&(e._closeTableCell(),Vt(e,t));break;case k.BODY:case k.CAPTION:case k.COL:case k.COLGROUP:case k.HTML:break;default:yt(e,t)}}(this,e);break;case $e.IN_SELECT:qt(this,e);break;case $e.IN_SELECT_IN_TABLE:!function(e,t){var n=t.tagID;n===k.CAPTION||n===k.TABLE||n===k.TBODY||n===k.TFOOT||n===k.THEAD||n===k.TR||n===k.TD||n===k.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(k.SELECT),e._resetInsertionMode(),e.onEndTag(t)):qt(e,t)}(this,e);break;case $e.IN_TEMPLATE:!function(e,t){t.tagID===k.TEMPLATE&&Nt(e,t)}(this,e);break;case $e.AFTER_BODY:Zt(this,e);break;case $e.IN_FRAMESET:!function(e,t){t.tagID!==k.FRAMESET||e.openElements.isRootHtmlElementCurrent()||(e.openElements.pop(),e.fragmentContext||e.openElements.currentTagId===k.FRAMESET||(e.insertionMode=$e.AFTER_FRAMESET))}(this,e);break;case $e.AFTER_FRAMESET:!function(e,t){t.tagID===k.HTML&&(e.insertionMode=$e.AFTER_AFTER_FRAMESET)}(this,e);break;case $e.AFTER_AFTER_BODY:en(this,e)}}},{key:"onEof",value:function(e){switch(this.insertionMode){case $e.INITIAL:_t(this,e);break;case $e.BEFORE_HTML:dt(this,e);break;case $e.BEFORE_HEAD:pt(this,e);break;case $e.IN_HEAD:It(this,e);break;case $e.IN_HEAD_NO_SCRIPT:Ct(this,e);break;case $e.AFTER_HEAD:St(this,e);break;case $e.IN_BODY:case $e.IN_TABLE:case $e.IN_CAPTION:case $e.IN_COLUMN_GROUP:case $e.IN_TABLE_BODY:case $e.IN_ROW:case $e.IN_CELL:case $e.IN_SELECT:case $e.IN_SELECT_IN_TABLE:Pt(this,e);break;case $e.TEXT:!function(e,t){e._err(t,c.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}(this,e);break;case $e.IN_TABLE_TEXT:xt(this,e);break;case $e.IN_TEMPLATE:Jt(this,e);break;case $e.AFTER_BODY:case $e.IN_FRAMESET:case $e.AFTER_FRAMESET:case $e.AFTER_AFTER_BODY:case $e.AFTER_AFTER_FRAMESET:At(this,e)}}},{key:"onWhitespaceCharacter",value:function(e){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,e.chars.charCodeAt(0)===s.LINE_FEED)){if(1===e.chars.length)return;e.chars=e.chars.substr(1)}if(this.tokenizer.inForeignNode)this._insertCharacters(e);else switch(this.insertionMode){case $e.IN_HEAD:case $e.IN_HEAD_NO_SCRIPT:case $e.AFTER_HEAD:case $e.TEXT:case $e.IN_COLUMN_GROUP:case $e.IN_SELECT:case $e.IN_SELECT_IN_TABLE:case $e.IN_FRAMESET:case $e.AFTER_FRAMESET:this._insertCharacters(e);break;case $e.IN_BODY:case $e.IN_CAPTION:case $e.IN_CELL:case $e.IN_TEMPLATE:case $e.AFTER_BODY:case $e.AFTER_AFTER_BODY:case $e.AFTER_AFTER_FRAMESET:Rt(this,e);break;case $e.IN_TABLE:case $e.IN_TABLE_BODY:case $e.IN_ROW:Bt(this,e);break;case $e.IN_TABLE_TEXT:wt(this,e)}}}])&&Je(t.prototype,n),r&&Je(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ot(e,t){var n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):Mt(e,t),n}function ct(e,t){for(var n=null,r=e.openElements.stackTop;r>=0;r--){var a=e.openElements.items[r];if(a===t.element)break;e._isSpecialElement(a,e.openElements.tagIDs[r])&&(n=a)}return n||(e.openElements.shortenToLength(r<0?0:r),e.activeFormattingElements.removeEntry(t)),n}function ut(e,t,n){for(var r=t,a=e.openElements.getCommonAncestor(t),s=0,i=a;i!==n;s++,i=a){a=e.openElements.getCommonAncestor(i);var o=e.activeFormattingElements.getElementEntry(i),c=o&&s>=nt;!o||c?(c&&e.activeFormattingElements.removeEntry(o),e.openElements.remove(i)):(i=Et(e,o),r===t&&(e.activeFormattingElements.bookmark=o),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(i,r),r=i)}return r}function Et(e,t){var n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function lt(e,t,n){var r=y(e.treeAdapter.getTagName(t));if(e._isElementCausesFosterParenting(r))e._fosterParentElement(n);else{var a=e.treeAdapter.getNamespaceURI(t);r===k.TEMPLATE&&a===O.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function ht(e,t,n){var r=e.treeAdapter.getNamespaceURI(n.element),a=n.token,s=e.treeAdapter.createElement(a.tagName,r,a.attrs);e._adoptNodes(t,s),e.treeAdapter.appendChild(t,s),e.activeFormattingElements.insertElementAfterBookmark(s,a),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,s,a.tagID)}function Tt(e,t){for(var n=0;n<tt;n++){var r=ot(e,t);if(!r)break;var a=ct(e,r);if(!a)break;e.activeFormattingElements.bookmark=r;var s=ut(e,a,r.element),i=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(s),i&&lt(e,i,s),ht(e,a,r)}}function ft(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function At(e,t){if(e.stopped=!0,t.location){for(var n=e.fragmentContext?0:2,r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){var a=e.openElements.items[0],s=e.treeAdapter.getNodeSourceCodeLocation(a);if(s&&!s.endTag&&(e._setEndLocation(a,t),e.openElements.stackTop>=1)){var i=e.openElements.items[1],o=e.treeAdapter.getNodeSourceCodeLocation(i);o&&!o.endTag&&e._setEndLocation(i,t)}}}}function _t(e,t){e._err(t,c.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,D.QUIRKS),e.insertionMode=$e.BEFORE_HTML,e._processToken(t)}function dt(e,t){e._insertFakeRootElement(),e.insertionMode=$e.BEFORE_HEAD,e._processToken(t)}function pt(e,t){e._insertFakeElement(g.HEAD,k.HEAD),e.headElement=e.openElements.current,e.insertionMode=$e.IN_HEAD,e._processToken(t)}function mt(e,t){switch(t.tagID){case k.HTML:bt(e,t);break;case k.BASE:case k.BASEFONT:case k.BGSOUND:case k.LINK:case k.META:e._appendElement(t,O.HTML),t.ackSelfClosing=!0;break;case k.TITLE:e._switchToTextParsing(t,W.RCDATA);break;case k.NOSCRIPT:e.options.scriptingEnabled?e._switchToTextParsing(t,W.RAWTEXT):(e._insertElement(t,O.HTML),e.insertionMode=$e.IN_HEAD_NO_SCRIPT);break;case k.NOFRAMES:case k.STYLE:e._switchToTextParsing(t,W.RAWTEXT);break;case k.SCRIPT:e._switchToTextParsing(t,W.SCRIPT_DATA);break;case k.TEMPLATE:e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=$e.IN_TEMPLATE,e.tmplInsertionModeStack.unshift($e.IN_TEMPLATE);break;case k.HEAD:e._err(t,c.misplacedStartTagForHeadElement);break;default:It(e,t)}}function Nt(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==k.TEMPLATE&&e._err(t,c.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(k.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,c.endTagWithoutMatchingOpenElement)}function It(e,t){e.openElements.pop(),e.insertionMode=$e.AFTER_HEAD,e._processToken(t)}function Ct(e,t){var n=t.type===I.EOF?c.openElementsLeftAfterEof:c.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=$e.IN_HEAD,e._processToken(t)}function St(e,t){e._insertFakeElement(g.BODY,k.BODY),e.insertionMode=$e.IN_BODY,Ot(e,t)}function Ot(e,t){switch(t.type){case I.CHARACTER:Dt(e,t);break;case I.WHITESPACE_CHARACTER:Rt(e,t);break;case I.COMMENT:ft(e,t);break;case I.START_TAG:bt(e,t);break;case I.END_TAG:yt(e,t);break;case I.EOF:Pt(e,t)}}function Rt(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function Dt(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function gt(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,O.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function kt(e){var t=S(e,R.TYPE);return null!=t&&t.toLowerCase()===et}function Lt(e,t){e._switchToTextParsing(t,W.RAWTEXT)}function vt(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,O.HTML)}function bt(e,t){switch(t.tagID){case k.I:case k.S:case k.B:case k.U:case k.EM:case k.TT:case k.BIG:case k.CODE:case k.FONT:case k.SMALL:case k.STRIKE:case k.STRONG:!function(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,O.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}(e,t);break;case k.A:!function(e,t){var n=e.activeFormattingElements.getElementEntryInScopeWithTagName(g.A);n&&(Tt(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,O.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}(e,t);break;case k.H1:case k.H2:case k.H3:case k.H4:case k.H5:case k.H6:!function(e,t){e.openElements.hasInButtonScope(k.P)&&e._closePElement(),H(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,O.HTML)}(e,t);break;case k.P:case k.DL:case k.OL:case k.UL:case k.DIV:case k.DIR:case k.NAV:case k.MAIN:case k.MENU:case k.ASIDE:case k.CENTER:case k.FIGURE:case k.FOOTER:case k.HEADER:case k.HGROUP:case k.DIALOG:case k.DETAILS:case k.ADDRESS:case k.ARTICLE:case k.SECTION:case k.SUMMARY:case k.FIELDSET:case k.BLOCKQUOTE:case k.FIGCAPTION:!function(e,t){e.openElements.hasInButtonScope(k.P)&&e._closePElement(),e._insertElement(t,O.HTML)}(e,t);break;case k.LI:case k.DD:case k.DT:!function(e,t){e.framesetOk=!1;for(var n=t.tagID,r=e.openElements.stackTop;r>=0;r--){var a=e.openElements.tagIDs[r];if(n===k.LI&&a===k.LI||(n===k.DD||n===k.DT)&&(a===k.DD||a===k.DT)){e.openElements.generateImpliedEndTagsWithExclusion(a),e.openElements.popUntilTagNamePopped(a);break}if(a!==k.ADDRESS&&a!==k.DIV&&a!==k.P&&e._isSpecialElement(e.openElements.items[r],a))break}e.openElements.hasInButtonScope(k.P)&&e._closePElement(),e._insertElement(t,O.HTML)}(e,t);break;case k.BR:case k.IMG:case k.WBR:case k.AREA:case k.EMBED:case k.KEYGEN:gt(e,t);break;case k.HR:!function(e,t){e.openElements.hasInButtonScope(k.P)&&e._closePElement(),e._appendElement(t,O.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}(e,t);break;case k.RB:case k.RTC:!function(e,t){e.openElements.hasInScope(k.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,O.HTML)}(e,t);break;case k.RT:case k.RP:!function(e,t){e.openElements.hasInScope(k.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(k.RTC),e._insertElement(t,O.HTML)}(e,t);break;case k.PRE:case k.LISTING:!function(e,t){e.openElements.hasInButtonScope(k.P)&&e._closePElement(),e._insertElement(t,O.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}(e,t);break;case k.XMP:!function(e,t){e.openElements.hasInButtonScope(k.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,W.RAWTEXT)}(e,t);break;case k.SVG:!function(e,t){e._reconstructActiveFormattingElements(),We(t),Xe(t),t.selfClosing?e._appendElement(t,O.SVG):e._insertElement(t,O.SVG),t.ackSelfClosing=!0}(e,t);break;case k.HTML:!function(e,t){0===e.openElements.tmplCount&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}(e,t);break;case k.BASE:case k.LINK:case k.META:case k.STYLE:case k.TITLE:case k.SCRIPT:case k.BGSOUND:case k.BASEFONT:case k.TEMPLATE:mt(e,t);break;case k.BODY:!function(e,t){var n=e.openElements.tryPeekProperlyNestedBodyElement();n&&0===e.openElements.tmplCount&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}(e,t);break;case k.FORM:!function(e,t){var n=e.openElements.tmplCount>0;e.formElement&&!n||(e.openElements.hasInButtonScope(k.P)&&e._closePElement(),e._insertElement(t,O.HTML),n||(e.formElement=e.openElements.current))}(e,t);break;case k.NOBR:!function(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(k.NOBR)&&(Tt(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,O.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}(e,t);break;case k.MATH:!function(e,t){e._reconstructActiveFormattingElements(),Qe(t),Xe(t),t.selfClosing?e._appendElement(t,O.MATHML):e._insertElement(t,O.MATHML),t.ackSelfClosing=!0}(e,t);break;case k.TABLE:!function(e,t){e.treeAdapter.getDocumentMode(e.document)!==D.QUIRKS&&e.openElements.hasInButtonScope(k.P)&&e._closePElement(),e._insertElement(t,O.HTML),e.framesetOk=!1,e.insertionMode=$e.IN_TABLE}(e,t);break;case k.INPUT:!function(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,O.HTML),kt(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}(e,t);break;case k.PARAM:case k.TRACK:case k.SOURCE:!function(e,t){e._appendElement(t,O.HTML),t.ackSelfClosing=!0}(e,t);break;case k.IMAGE:!function(e,t){t.tagName=g.IMG,t.tagID=k.IMG,gt(e,t)}(e,t);break;case k.BUTTON:!function(e,t){e.openElements.hasInScope(k.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(k.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,O.HTML),e.framesetOk=!1}(e,t);break;case k.APPLET:case k.OBJECT:case k.MARQUEE:!function(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,O.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}(e,t);break;case k.IFRAME:!function(e,t){e.framesetOk=!1,e._switchToTextParsing(t,W.RAWTEXT)}(e,t);break;case k.SELECT:!function(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,O.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===$e.IN_TABLE||e.insertionMode===$e.IN_CAPTION||e.insertionMode===$e.IN_TABLE_BODY||e.insertionMode===$e.IN_ROW||e.insertionMode===$e.IN_CELL?$e.IN_SELECT_IN_TABLE:$e.IN_SELECT}(e,t);break;case k.OPTION:case k.OPTGROUP:!function(e,t){e.openElements.currentTagId===k.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,O.HTML)}(e,t);break;case k.NOEMBED:Lt(e,t);break;case k.FRAMESET:!function(e,t){var n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,O.HTML),e.insertionMode=$e.IN_FRAMESET)}(e,t);break;case k.TEXTAREA:!function(e,t){e._insertElement(t,O.HTML),e.skipNextNewLine=!0,e.tokenizer.state=W.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=$e.TEXT}(e,t);break;case k.NOSCRIPT:e.options.scriptingEnabled?Lt(e,t):vt(e,t);break;case k.PLAINTEXT:!function(e,t){e.openElements.hasInButtonScope(k.P)&&e._closePElement(),e._insertElement(t,O.HTML),e.tokenizer.state=W.PLAINTEXT}(e,t);break;case k.COL:case k.TH:case k.TD:case k.TR:case k.HEAD:case k.FRAME:case k.TBODY:case k.TFOOT:case k.THEAD:case k.CAPTION:case k.COLGROUP:break;default:vt(e,t)}}function Mt(e,t){for(var n=t.tagName,r=t.tagID,a=e.openElements.stackTop;a>0;a--){var s=e.openElements.items[a],i=e.openElements.tagIDs[a];if(r===i&&(r!==k.UNKNOWN||e.treeAdapter.getTagName(s)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=a&&e.openElements.shortenToLength(a);break}if(e._isSpecialElement(s,i))break}}function yt(e,t){switch(t.tagID){case k.A:case k.B:case k.I:case k.S:case k.U:case k.EM:case k.TT:case k.BIG:case k.CODE:case k.FONT:case k.NOBR:case k.SMALL:case k.STRIKE:case k.STRONG:Tt(e,t);break;case k.P:!function(e){e.openElements.hasInButtonScope(k.P)||e._insertFakeElement(g.P,k.P),e._closePElement()}(e);break;case k.DL:case k.UL:case k.OL:case k.DIR:case k.DIV:case k.NAV:case k.PRE:case k.MAIN:case k.MENU:case k.ASIDE:case k.BUTTON:case k.CENTER:case k.FIGURE:case k.FOOTER:case k.HEADER:case k.HGROUP:case k.DIALOG:case k.ADDRESS:case k.ARTICLE:case k.DETAILS:case k.SECTION:case k.SUMMARY:case k.LISTING:case k.FIELDSET:case k.BLOCKQUOTE:case k.FIGCAPTION:!function(e,t){var n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}(e,t);break;case k.LI:!function(e){e.openElements.hasInListItemScope(k.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(k.LI),e.openElements.popUntilTagNamePopped(k.LI))}(e);break;case k.DD:case k.DT:!function(e,t){var n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}(e,t);break;case k.H1:case k.H2:case k.H3:case k.H4:case k.H5:case k.H6:!function(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}(e);break;case k.BR:!function(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(g.BR,k.BR),e.openElements.pop(),e.framesetOk=!1}(e);break;case k.BODY:!function(e,t){if(e.openElements.hasInScope(k.BODY)&&(e.insertionMode=$e.AFTER_BODY,e.options.sourceCodeLocationInfo)){var n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}(e,t);break;case k.HTML:!function(e,t){e.openElements.hasInScope(k.BODY)&&(e.insertionMode=$e.AFTER_BODY,Zt(e,t))}(e,t);break;case k.FORM:!function(e){var t=e.openElements.tmplCount>0,n=e.formElement;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(k.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(k.FORM):n&&e.openElements.remove(n))}(e);break;case k.APPLET:case k.OBJECT:case k.MARQUEE:!function(e,t){var n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}(e,t);break;case k.TEMPLATE:Nt(e,t);break;default:Mt(e,t)}}function Pt(e,t){e.tmplInsertionModeStack.length>0?Jt(e,t):At(e,t)}function Bt(e,t){if(at.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=$e.IN_TABLE_TEXT,t.type){case I.CHARACTER:Gt(e,t);break;case I.WHITESPACE_CHARACTER:wt(e,t)}else Ut(e,t)}function Ht(e,t){switch(t.tagID){case k.TD:case k.TH:case k.TR:!function(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(g.TBODY,k.TBODY),e.insertionMode=$e.IN_TABLE_BODY,Xt(e,t)}(e,t);break;case k.STYLE:case k.SCRIPT:case k.TEMPLATE:mt(e,t);break;case k.COL:!function(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(g.COLGROUP,k.COLGROUP),e.insertionMode=$e.IN_COLUMN_GROUP,Qt(e,t)}(e,t);break;case k.FORM:!function(e,t){e.formElement||0!==e.openElements.tmplCount||(e._insertElement(t,O.HTML),e.formElement=e.openElements.current,e.openElements.pop())}(e,t);break;case k.TABLE:!function(e,t){e.openElements.hasInTableScope(k.TABLE)&&(e.openElements.popUntilTagNamePopped(k.TABLE),e._resetInsertionMode(),e._processStartTag(t))}(e,t);break;case k.TBODY:case k.TFOOT:case k.THEAD:!function(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,O.HTML),e.insertionMode=$e.IN_TABLE_BODY}(e,t);break;case k.INPUT:!function(e,t){kt(t)?e._appendElement(t,O.HTML):Ut(e,t),t.ackSelfClosing=!0}(e,t);break;case k.CAPTION:!function(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,O.HTML),e.insertionMode=$e.IN_CAPTION}(e,t);break;case k.COLGROUP:!function(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,O.HTML),e.insertionMode=$e.IN_COLUMN_GROUP}(e,t);break;default:Ut(e,t)}}function Ft(e,t){switch(t.tagID){case k.TABLE:e.openElements.hasInTableScope(k.TABLE)&&(e.openElements.popUntilTagNamePopped(k.TABLE),e._resetInsertionMode());break;case k.TEMPLATE:Nt(e,t);break;case k.BODY:case k.CAPTION:case k.COL:case k.COLGROUP:case k.HTML:case k.TBODY:case k.TD:case k.TFOOT:case k.TH:case k.THEAD:case k.TR:break;default:Ut(e,t)}}function Ut(e,t){var n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,Ot(e,t),e.fosterParentingEnabled=n}function wt(e,t){e.pendingCharacterTokens.push(t)}function Gt(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function xt(e,t){var n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)Ut(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}var Yt=new Set([k.CAPTION,k.COL,k.COLGROUP,k.TBODY,k.TD,k.TFOOT,k.TH,k.THEAD,k.TR]);function Qt(e,t){switch(t.tagID){case k.HTML:bt(e,t);break;case k.COL:e._appendElement(t,O.HTML),t.ackSelfClosing=!0;break;case k.TEMPLATE:mt(e,t);break;default:Wt(e,t)}}function Wt(e,t){e.openElements.currentTagId===k.COLGROUP&&(e.openElements.pop(),e.insertionMode=$e.IN_TABLE,e._processToken(t))}function Xt(e,t){switch(t.tagID){case k.TR:e.openElements.clearBackToTableBodyContext(),e._insertElement(t,O.HTML),e.insertionMode=$e.IN_ROW;break;case k.TH:case k.TD:e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(g.TR,k.TR),e.insertionMode=$e.IN_ROW,jt(e,t);break;case k.CAPTION:case k.COL:case k.COLGROUP:case k.TBODY:case k.TFOOT:case k.THEAD:e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=$e.IN_TABLE,Ht(e,t));break;default:Ht(e,t)}}function Kt(e,t){var n=t.tagID;switch(t.tagID){case k.TBODY:case k.TFOOT:case k.THEAD:e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=$e.IN_TABLE);break;case k.TABLE:e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=$e.IN_TABLE,Ft(e,t));break;case k.BODY:case k.CAPTION:case k.COL:case k.COLGROUP:case k.HTML:case k.TD:case k.TH:case k.TR:break;default:Ft(e,t)}}function jt(e,t){switch(t.tagID){case k.TH:case k.TD:e.openElements.clearBackToTableRowContext(),e._insertElement(t,O.HTML),e.insertionMode=$e.IN_CELL,e.activeFormattingElements.insertMarker();break;case k.CAPTION:case k.COL:case k.COLGROUP:case k.TBODY:case k.TFOOT:case k.THEAD:case k.TR:e.openElements.hasInTableScope(k.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=$e.IN_TABLE_BODY,Xt(e,t));break;default:Ht(e,t)}}function Vt(e,t){switch(t.tagID){case k.TR:e.openElements.hasInTableScope(k.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=$e.IN_TABLE_BODY);break;case k.TABLE:e.openElements.hasInTableScope(k.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=$e.IN_TABLE_BODY,Kt(e,t));break;case k.TBODY:case k.TFOOT:case k.THEAD:(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(k.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=$e.IN_TABLE_BODY,Kt(e,t));break;case k.BODY:case k.CAPTION:case k.COL:case k.COLGROUP:case k.HTML:case k.TD:case k.TH:break;default:Ft(e,t)}}function zt(e,t){switch(t.tagID){case k.HTML:bt(e,t);break;case k.OPTION:e.openElements.currentTagId===k.OPTION&&e.openElements.pop(),e._insertElement(t,O.HTML);break;case k.OPTGROUP:e.openElements.currentTagId===k.OPTION&&e.openElements.pop(),e.openElements.currentTagId===k.OPTGROUP&&e.openElements.pop(),e._insertElement(t,O.HTML);break;case k.INPUT:case k.KEYGEN:case k.TEXTAREA:case k.SELECT:e.openElements.hasInSelectScope(k.SELECT)&&(e.openElements.popUntilTagNamePopped(k.SELECT),e._resetInsertionMode(),t.tagID!==k.SELECT&&e._processStartTag(t));break;case k.SCRIPT:case k.TEMPLATE:mt(e,t)}}function qt(e,t){switch(t.tagID){case k.OPTGROUP:e.openElements.stackTop>0&&e.openElements.currentTagId===k.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===k.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===k.OPTGROUP&&e.openElements.pop();break;case k.OPTION:e.openElements.currentTagId===k.OPTION&&e.openElements.pop();break;case k.SELECT:e.openElements.hasInSelectScope(k.SELECT)&&(e.openElements.popUntilTagNamePopped(k.SELECT),e._resetInsertionMode());break;case k.TEMPLATE:Nt(e,t)}}function Jt(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(k.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):At(e,t)}function Zt(e,t){var n;if(t.tagID===k.HTML){if(e.fragmentContext||(e.insertionMode=$e.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===k.HTML){e._setEndLocation(e.openElements.items[0],t);var r=e.openElements.items[1];r&&!(null===(n=e.treeAdapter.getNodeSourceCodeLocation(r))||void 0===n?void 0:n.endTag)&&e._setEndLocation(r,t)}}else $t(e,t)}function $t(e,t){e.insertionMode=$e.IN_BODY,Ot(e,t)}function en(e,t){e.insertionMode=$e.IN_BODY,Ot(e,t)}function tn(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==O.HTML&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}n(97728);new Set([g.AREA,g.BASE,g.BASEFONT,g.BGSOUND,g.BR,g.COL,g.EMBED,g.FRAME,g.HR,g.IMG,g.INPUT,g.KEYGEN,g.LINK,g.META,g.PARAM,g.SOURCE,g.TRACK,g.WBR])}}]);