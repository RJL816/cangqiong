// Build date: 2025/3/21 18:18:31
 // Version: 0.0.0
 /*! For license information please see chunk.bundle.35ed58d5.js.LICENSE.txt */
(self.webpackChunkreact_flow_plan=self.webpackChunkreact_flow_plan||[]).push([[23],{27824:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Kc}});var r=n(14552),o=(n(7058),n(97567),n(88845)),a=n(46264),i="gaiFlow-App-lWcG_",l=(n(36063),n(91827),n(42479),n(31240),n(59252),n(30940),n(77416),n(87736),n(84495),n(25802),n(45084),n(37623),n(78864),n(46112),n(45005),n(61513)),c=n(26897),u=n(28700);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){var r;return r=function(e,t){if("object"!=d(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==d(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(){return(0,r.useContext)(u.P)}var v,y,g=function(e,t){var n,o=(0,r.useContext)(u.P);if(!o)throw new Error("Missing StoreProvider");return void 0===(null===(n=t)||void 0===n?void 0:n.shallow)&&(t=f(f({},t),{},{shallow:!0})),(0,l.Pj)(o,t.shallow?(0,c.k)(e):e)},h=(n(83814),n(67783)),b={content:"content-index-WpJGy",mainFlow:"mainFlow-index-k4LWw",mr0:"mr0-index-LOd_i",gaiFlow:"gaiFlow-index-dxnN1",flowContent:"flowContent-index-CiHWN",hidden:"hidden-index-SnIBR"},E=(n(46942),n(72074),n(73730),n(39990),n(82752),n(4656),n(23315),n(801),n(31778)),C=n(43687),w=n(53870),O=n.n(w),A=["svgRef","title"];function L(){return L=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},L.apply(this,arguments)}function S(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var N,x=function(e){var t=e.svgRef,n=e.title,o=S(e,A);return r.createElement("svg",L({width:"16px",height:"16px",viewBox:"0 0 16 16",ref:t},o),void 0===n?v||(v=r.createElement("title",null,"自适应")):n?r.createElement("title",null,n):null,y||(y=r.createElement("g",{id:"\\u9875\\u9762-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("g",{id:"\\u4EFB\\u52A1\\u6D41-\\u57FA\\u7840",transform:"translate(-82, -1033)",fill:"#979797",fillRule:"nonzero"},r.createElement("g",{id:"\\u7F16\\u7EC4-8",transform:"translate(50, 95)"},r.createElement("path",{d:"M33,948 L33,952.5 C33,952.776142 33.2238576,953 33.5,953 L37,952.999 L37,954 L33,954 C32.4477153,954 32,953.552285 32,953 L32,948 L33,948 Z M48,948 L48,953 C48,953.552285 47.5522847,954 47,954 L43,954 L43,952.999 L46.5,953 C46.7761424,953 47,952.776142 47,952.5 L46.999,948 L48,948 Z M44,941 C44.5522847,941 45,941.447715 45,942 L45,950 C45,950.552285 44.5522847,951 44,951 L36,951 C35.4477153,951 35,950.552285 35,950 L35,942 C35,941.447715 35.4477153,941 36,941 L44,941 Z M43.5,942 L36.5,942 C36.2238576,942 36,942.223858 36,942.5 L36,949.5 C36,949.776142 36.2238576,950 36.5,950 L43.5,950 C43.7761424,950 44,949.776142 44,949.5 L44,942.5 C44,942.223858 43.7761424,942 43.5,942 Z M37,938 L37,939 L33.5,939 C33.2238576,939 33,939.223858 33,939.5 L33,943 L32,943 L32,939 C32,938.447715 32.4477153,938 33,938 L37,938 Z M47,938 C47.5522847,938 48,938.447715 48,939 L48,943 L46.999,943 L47,939.5 C47,939.223858 46.7761424,939 46.5,939 L43,939 L43,938 L47,938 Z",id:"\\u81EA\\u9002\\u5E94"}))))))},j=r.forwardRef((function(e,t){return r.createElement(x,L({svgRef:t},e))})),P=["svgRef","title"];function I(){return I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I.apply(this,arguments)}function k(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var F,D=function(e){var t=e.svgRef,n=e.title,o=k(e,P);return r.createElement("svg",I({width:"16px",height:"16px",viewBox:"0 0 16 16",ref:t},o),n?r.createElement("title",null,n):null,N||(N=r.createElement("g",{id:"\\u9875\\u9762-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("g",{id:"\\u4EFB\\u52A1\\u6D41-\\u57FA\\u7840",transform:"translate(-243, -1033)",fill:"#666666",fillRule:"nonzero"},r.createElement("g",{id:"\\u7F16\\u7EC4-8",transform:"translate(50, 95)"},r.createElement("path",{d:"M208,938 C208.552285,938 209,938.447715 209,939 L209,953 C209,953.552285 208.552285,954 208,954 L194,954 C193.447715,954 193,953.552285 193,953 L193,939 C193,938.447715 193.447715,938 194,938 L208,938 Z M207.5,939 L194.5,939 C194.223858,939 194,939.223858 194,939.5 L194,952.5 C194,952.776142 194.223858,953 194.5,953 L207.5,953 C207.776142,953 208,952.776142 208,952.5 L208,939.5 C208,939.223858 207.776142,939 207.5,939 Z M201,941 C201.278539,941 201.5,941.182094 201.5,941.415402 L201.5,945.5 L205.599195,945.5 C205.822474,945.5 206,945.719178 206,946 C205.99817,946.278539 205.822474,946.5 205.599195,946.5 L201.5,946.5 L201.5,950.584598 C201.497717,950.800835 201.278539,951 201,951 C200.721461,951 200.5,950.817906 200.5,950.584598 L200.5,946.5 L196.398975,946.5 C196.175695,946.5 196,946.280822 196,946 C196,945.721461 196.175695,945.5 196.398975,945.5 L200.5,945.5 L200.5,941.415402 C200.5,941.183991 200.719178,941 201,941 Z",id:"\\u653E\\u5927"}))))))},M=r.forwardRef((function(e,t){return r.createElement(D,I({svgRef:t},e))})),R=["svgRef","title"];function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T.apply(this,arguments)}function H(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var V=function(e){var t=e.svgRef,n=e.title,o=H(e,R);return r.createElement("svg",T({width:"16px",height:"16px",viewBox:"0 0 16 16",ref:t},o),n?r.createElement("title",null,n):null,F||(F=r.createElement("g",{id:"\\u9875\\u9762-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("g",{id:"\\u4EFB\\u52A1\\u6D41-\\u57FA\\u7840",transform:"translate(-182, -1033)",fill:"#666666",fillRule:"nonzero"},r.createElement("g",{id:"\\u7F16\\u7EC4-8",transform:"translate(50, 95)"},r.createElement("path",{d:"M147,938 C147.552285,938 148,938.447715 148,939 L148,953 C148,953.552285 147.552285,954 147,954 L133,954 C132.447715,954 132,953.552285 132,953 L132,939 C132,938.447715 132.447715,938 133,938 L147,938 Z M146.5,939 L133.5,939 C133.223858,939 133,939.223858 133,939.5 L133,952.5 C133,952.776142 133.223858,953 133.5,953 L146.5,953 C146.776142,953 147,952.776142 147,952.5 L147,939.5 C147,939.223858 146.776142,939 146.5,939 Z M144.599195,945.5 C144.822474,945.5 145,945.719178 145,946 C144.99817,946.278539 144.822474,946.5 144.599195,946.5 L135.398975,946.5 C135.175695,946.5 135,946.280822 135,946 C135,945.721461 135.175695,945.5 135.398975,945.5 L144.599195,945.5 Z",id:"\\u7F29\\u5C0F"}))))))},_=r.forwardRef((function(e,t){return r.createElement(V,T({svgRef:t},e))})),B=(n(68965),n(13016),n(34523),n(30630),n(64023),n(23110)),U=function(e){return e.Condition="Condition",e}({});function W(e){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W(e)}var Z,z,G,X,Y=(Z={},z=U.Condition,G={type:U.Condition,backendId:"6"},X=function(e,t){if("object"!=W(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=W(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(z,"string"),(z="symbol"==W(X)?X:String(X))in Z?Object.defineProperty(Z,z,{value:G,enumerable:!0,configurable:!0,writable:!0}):Z[z]=G,Z),K=n(70552),J=(n(42900),n(46229)),Q=n.n(J),q=n(58994),$=5;function ee(){var e=(0,h.PI)(),t=(0,r.useCallback)((function(t,n,r){var o=(0,e.getState().getNodes)(),a={x:void 0,y:void 0};if(n.parentNode){var i=function(e,t,n){var r=e.querySelectorAll('[class*="react-flow__node"][data-id="'.concat(t,'"][data-testid="rf__node-').concat(t,'"]'));if(r&&r.length){var o=r[0],a=o.querySelectorAll('[class*="react-flow__background"]')[0];if(o&&a){var i=null==o?void 0:o.getBoundingClientRect(),l=null==a?void 0:a.getBoundingClientRect();return{top:(l.top-i.top)/n+$,left:(l.left-i.left)/n+$,right:(i.right-l.right)/n+$,bottom:(i.bottom-l.bottom)/n+$}}return{top:K.gi.top,left:K.gi.left,right:K.gi.right,bottom:K.gi.bottom}}}(t,n.parentNode,r),l=o.find((function(e){return e.id===n.parentNode}));l&&(n.position.y<i.top&&(a.y=i.top),n.position.x<i.left&&(a.x=i.left),n.position.y+n.data.height>l.data.height-i.bottom&&(a.y=l.data.height-i.bottom-n.data.height),n.position.x+n.data.width>l.data.width-i.right&&(a.x=l.data.width-i.right-n.data.width))}return{restrictPos:a}}),[e]),n=(0,r.useCallback)((function(t){var n=(0,e.getState)(),r=n.getNodes,o=n.setNodes,a=r(),i=a.find((function(e){return e.id===t})),l=(0,q.ID)(a,t),c=l.rightNode,u=l.bottomNode,d=c&&i.width<c.position.x+c.width,s=u&&i.height<u.position.y+u.height;(d||s)&&o((0,B.jM)(a,(function(e){e.forEach((function(e){if(e.id===t){var n=0,r=0;d&&(n=c.position.x+c.width+K.gi.right),s&&(r=u.position.y+u.height+K.gi.bottom+30);var o=e.data;n>0&&(e.width=n,o.width=n),r>0&&(e.height=r,o.height=r)}}))})))}),[e]);return{handleNodeIterationChildDrag:t,handleNodeIterationChildSizeChange:(0,r.useCallback)((function(t){var r=(0,(0,e.getState)().getNodes)().find((function(e){return e.id===t}));null!=r&&r.parentNode&&n(null==r?void 0:r.parentNode)}),[e,n])}}var te={wrapper:"wrapper-baseNode-o9fwM",showBorder:"showBorder-baseNode-GWaQc",errorBorder:"errorBorder-baseNode-Hm3aj",content:"content-baseNode-C0fXi",iterationBorder:"iterationBorder-baseNode-p6Uhs",error:"error-baseNode-V11Jc",errorText:"errorText-baseNode-U0A8Z",resizeWrapper:"resizeWrapper-baseNode-_VlyM",icon:"icon-baseNode-rzJNp"},ne=(n(71145),n(2268)),re=(0,r.createContext)(null);function oe(e){var t=e.children,n=(0,r.useRef)();return n.current||(n.current=(0,ne.y)((function(e){return{helpLineHorizontal:void 0,setHelpLineHorizontal:function(t){return e((function(){return{helpLineHorizontal:t}}))},helpLineVertical:void 0,setHelpLineVertical:function(t){return e((function(){return{helpLineVertical:t}}))},connectingParams:void 0,setConnectingParams:function(t){return e((function(e){return t?{connectingParams:le(le({},e.connectingParams),t)}:{connectingParams:void 0}}))},hoverEdge:void 0,setHoverEdge:function(t){return e((function(){return{hoverEdge:t}}))},selectedEdges:[],setSelectedEdge:function(t){return e((function(){return{selectedEdges:t}}))}}}))),r.createElement(re.Provider,{value:n.current},t)}function ae(e){return ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ae(e)}function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ce(e,t,n){return t=function(e){var t=function(e,t){if("object"!=ae(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ae(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ae(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ue(e,t){var n,o=(0,r.useContext)(re);if(!o)throw new Error("Missing GaiWorkflowContext.Provider in the tree");return void 0===(null===(n=t)||void 0===n?void 0:n.shallow)&&(t=le(le({},t),{},{shallow:!0})),(0,l.Pj)(o,t.shallow?(0,c.k)(e):e)}function de(){return(0,r.useContext)(re)}var se={sourceHandle:"sourceHandle-index-dJ30k",targetHandle:"targetHandle-index-m7dnZ",show:"show-index-wxeuF",isConnected:"isConnected-index-X3E2R",hoverEdge:"hoverEdge-index-yuD0J",handle:"handle-index-YdNkV",default:"default-index-AA5dV",selectedEdge:"selectedEdge-index-gDIoQ",handleHover:"handleHover-index-WICD3",hover:"hover-index-SNKEs"};function fe(e){return fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fe(e)}function me(){return me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},me.apply(this,arguments)}function pe(e,t,n){return t=function(e){var t=function(e,t){if("object"!=fe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=fe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==fe(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ye(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ge(e){var t=e.showHandle,n=e.position,o=e.connected,a=e.nodeId,i=ue((function(e){return{hoverEdge:e.hoverEdge,selectedEdges:e.selectedEdges}})),l=i.hoverEdge,c=i.selectedEdges,u=ve((0,r.useState)(!1),2),d=u[0],s=u[1],f={};return"top"!==n&&"bottom"!==n||(f.left="50%"),r.createElement(h.h7,me({type:"source",className:Q()(se.sourceHandle,pe(pe(pe(pe(pe({},se.show,t),se.handleHover,d),se.isConnected,!!o),se.hoverEdge,(null==l?void 0:l.source)===a&&(null==l?void 0:l.sourceHandle)===n),se.selectedEdge,null==c?void 0:c.find((function(e){return e.source===a&&e.sourceHandle===n})))),onMouseEnter:function(){return s(!0)},onMouseLeave:function(){return s(!1)}},O()(e,"showHandle","nodeId"),{style:f}),r.createElement("div",{className:Q()(se.handle)},r.createElement("div",{className:se.default}),r.createElement("div",{className:se.hover},"+")))}function he(e){var t=e.showHandle,n=e.position,o=e.connected,a=e.nodeId,i=ue((function(e){return{hoverEdge:e.hoverEdge,selectedEdges:e.selectedEdges}})),l=i.hoverEdge,c=i.selectedEdges,u=ve((0,r.useState)(!1),2),d=u[0],s=u[1],f={};return"top"!==n&&"bottom"!==n||(f.left=""),r.createElement(h.h7,me({type:"target",className:Q()(se.targetHandle,pe(pe(pe(pe(pe({},se.show,t),se.handleHover,d),se.isConnected,!!o),se.hoverEdge,(null==l?void 0:l.target)===a&&(null==l?void 0:l.targetHandle)===n),se.selectedEdge,null==c?void 0:c.find((function(e){return e.target===a&&e.targetHandle===n})))),onMouseEnter:function(){return s(!0)},onMouseLeave:function(){return s(!1)}},O()(e,"showHandle","nodeId"),{style:f}),r.createElement("div",{className:se.handle},r.createElement("div",{className:se.default}),r.createElement("div",{className:se.hover},"+")))}var be,Ee,Ce=["svgRef","title"];function we(){return we=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},we.apply(this,arguments)}function Oe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Ae,Le,Se=function(e){var t=e.svgRef,n=e.title,o=Oe(e,Ce);return r.createElement("svg",we({width:"32px",height:"32px",viewBox:"0 0 32 32",ref:t},o),void 0===n?be||(be=r.createElement("title",null,"图标/用户澄清")):n?r.createElement("title",null,n):null,Ee||(Ee=r.createElement("g",{id:"\\u56FE\\u6807/\\u7528\\u6237\\u6F84\\u6E05",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("g",{id:"\\u7F16\\u7EC4",transform:"translate(1, 1)",fill:"#FFFFFF",fillRule:"nonzero"},r.createElement("path",{d:"M15,0 C23.2842712,0 30,6.71572875 30,15 C30,23.2842712 23.2842712,30 15,30 C12.9052053,30 10.9107035,29.5705947 9.09971551,28.7950046 C8.86498416,28.6944764 6.27817419,29.0961416 1.33928571,30 L1.56110074,26.6863034 C1.74655581,23.7013755 1.79333211,22.1211089 1.70142963,21.9455037 C0.614649394,19.8689072 0,17.5062331 0,15 C0,6.71572875 6.71572875,0 15,0 Z M14.4642857,20.3571429 C13.5766852,20.3571429 12.8571429,21.0766852 12.8571429,21.9642857 C12.8571429,22.5384626 13.1634626,23.0690238 13.6607143,23.3561123 C14.157966,23.6432007 14.7706054,23.6432007 15.2678571,23.3561123 C15.7651089,23.0690238 16.0714286,22.5384626 16.0714286,21.9642857 C16.0714286,21.0766852 15.3518862,20.3571429 14.4642857,20.3571429 Z M17.829169,7.94549523 C15.7951745,5.87511593 12.5614114,5.9310277 10.5926383,8.07047445 L9.94800912,8.77266031 L9.85163798,8.89288906 C9.54321933,9.33784683 9.57704733,9.97116322 9.94952592,10.3743676 C10.3575383,10.8167282 11.0188518,10.8150837 11.4268642,10.3727231 L12.07301,9.6705373 L12.2539465,9.4901761 C13.4372577,8.39673861 15.2515625,8.42837544 16.4018843,9.59818094 L16.4464395,9.64360917 L16.5414275,9.74782704 L16.6881037,9.92619974 C17.4419444,10.9301552 17.356441,12.3795948 16.4564881,13.2801343 L16.4003675,13.3409794 L16.1995845,13.5440707 L16.0060062,13.7241393 L15.7072016,13.9790312 L15.0019015,14.5397931 L14.590555,14.8966465 C14.2328969,15.227313 13.9858793,15.5339887 13.7778645,15.9046977 C13.4259729,16.5312383 13.2560941,17.2630244 13.2560941,18.1526791 C13.2560941,18.7792196 13.7247775,19.2857143 14.3011517,19.2857143 C14.877526,19.2857143 15.3446925,18.7775751 15.3446925,18.1526791 C15.3446925,17.6757848 15.4144642,17.3436031 15.5615912,17.0821335 L15.6224518,16.9828489 L15.6893795,16.8905535 L15.7800068,16.7828411 L15.91955,16.6414173 L16.1227978,16.4588819 L16.8857353,15.8504305 L17.195418,15.5916587 C17.412056,15.405192 17.602032,15.2263565 17.7851825,15.0364211 L17.9262425,14.8884194 C19.6963183,13.0581317 19.7448551,10.0553417 18.0309,8.16091995 Z",id:"\\u5F62\\u72B6"})))))},Ne=r.forwardRef((function(e,t){return r.createElement(Se,we({svgRef:t},e))})),xe=["svgRef","title"];function je(){return je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},je.apply(this,arguments)}function Pe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Ie,ke,Fe=function(e){var t=e.svgRef,n=e.title,o=Pe(e,xe);return r.createElement("svg",je({width:"32px",height:"32px",viewBox:"0 0 32 32",ref:t},o),void 0===n?Ae||(Ae=r.createElement("title",null,"图标/终止循环")):n?r.createElement("title",null,n):null,Le||(Le=r.createElement("g",{id:"\\u56FE\\u6807/\\u7EC8\\u6B62\\u5FAA\\u73AF",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("path",{d:"M16,1 C20.0314555,1 23.8123545,2.59918831 26.6065809,5.39339932 C29.4008036,8.18765287 31,11.968551 31,16 C31,20.0314542 29.4007994,23.8123545 26.6065769,26.6065769 C23.8123545,29.4007994 20.0314542,31 16,31 C11.968551,31 8.18765287,29.4008036 5.3933932,26.6065748 C2.59918831,23.8123545 1,20.0314555 1,16 C1,11.9685497 2.59918407,8.18765274 5.39340139,5.39338912 C8.18765274,2.59918407 11.9685497,1 16,1 Z M24.5,14.75 L7.5,14.75 C6.67157288,14.75 6,15.4215729 6,16.25 C6,17.0784271 6.67157288,17.75 7.5,17.75 L24.5,17.75 C25.3284271,17.75 26,17.0784271 26,16.25 C26,15.4215729 25.3284271,14.75 24.5,14.75 Z",id:"\\u5F62\\u72B6\\u7ED3\\u5408",fill:"#FFFFFF",fillRule:"nonzero"}))))},De=r.forwardRef((function(e,t){return r.createElement(Fe,je({svgRef:t},e))})),Me=["svgRef","title"];function Re(){return Re=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Re.apply(this,arguments)}function Te(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var He,Ve,_e=function(e){var t=e.svgRef,n=e.title,o=Te(e,Me);return r.createElement("svg",Re({width:"32px",height:"32px",viewBox:"0 0 32 32",ref:t},o),void 0===n?Ie||(Ie=r.createElement("title",null,"图标/代码")):n?r.createElement("title",null,n):null,ke||(ke=r.createElement("g",{id:"\\u56FE\\u6807/\\u4EE3\\u7801",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("path",{d:"M25.9811321,2.48118586 C26.6603774,3.0649943 27.2012579,3.55758267 27.6037736,3.95895097 C28.0062893,4.36031927 28.3144654,4.70087419 28.5283019,4.98061574 C28.7421384,5.26035728 28.8742138,5.49752946 28.9245283,5.69213227 C28.9748428,5.88673508 29,6.05701254 29,6.20296465 L29,6.78677309 L23.4528302,6.78677309 C23.1761006,6.78677309 22.9433962,6.69555302 22.754717,6.51311288 C22.5660377,6.33067275 22.408805,6.11782592 22.2830189,5.87457241 C22.1572327,5.63131889 22.0628931,5.38198404 22,5.12656784 C21.9371069,4.87115165 21.9056604,4.65830483 21.9056604,4.48802737 L21.9056604,0 L21.9811321,0 C22.2075472,0 22.4213836,0.0243253516 22.6226415,0.0729760547 C22.8238994,0.121626758 23.0691824,0.237172178 23.3584906,0.419612315 C23.6477987,0.602052452 24,0.857468643 24.4150943,1.18586089 C24.8301887,1.51425314 25.3522013,1.94602813 25.9811321,2.48118586 L25.9811321,2.48118586 Z M19.5283019,4.56100342 C19.5283019,5.0231851 19.6037736,5.52185481 19.754717,6.05701254 C19.9056604,6.59217028 20.1446541,7.08475865 20.4716981,7.53477765 C20.7987421,7.98479666 21.2138365,8.3618396 21.7169811,8.6659065 C22.2201258,8.96997339 22.8113208,9.12200684 23.490566,9.12200684 L29,9.12200684 L29,27.4025086 C29,28.1079437 28.8553459,28.7404029 28.5660377,29.299886 C28.2767296,29.8593691 27.8930818,30.3397948 27.4150943,30.7411631 C26.9371069,31.1425314 26.408805,31.4526796 25.8301887,31.6716078 C25.2515723,31.8905359 24.6855346,32 24.1320755,32 L7.86792453,32 C7.38993711,32 6.86792453,31.8662106 6.30188679,31.5986317 C5.73584906,31.3310528 5.20754717,30.9783352 4.71698113,30.5404789 C4.22641509,30.1026226 3.81761006,29.5978715 3.49056604,29.0262258 C3.16352201,28.45458 3,27.8646902 3,27.2565564 L3,4.70695553 C3,4.19612315 3.12578616,3.66096541 3.37735849,3.10148233 C3.62893082,2.54199924 3.96226415,2.03724819 4.37735849,1.58722919 C4.79245283,1.13721019 5.26415094,0.760167237 5.79245283,0.456100342 C6.32075472,0.152033447 6.87421384,0 7.45283019,0 L19.5283019,0 L19.5283019,4.56100342 L19.5283019,4.56100342 Z M16.509434,21.0171038 C16.8113208,20.7251995 16.9748428,20.3359939 17,19.8494869 C17.0251572,19.3629799 16.8867925,18.9859369 16.5849057,18.718358 L10.3962264,12.6978335 C10.0943396,12.4059293 9.72327044,12.2599772 9.28301887,12.2599772 C8.8427673,12.2599772 8.47169811,12.4059293 8.16981132,12.6978335 C7.86792453,13.0140631 7.71698113,13.3850247 7.71698113,13.8107184 C7.71698113,14.236412 7.86792453,14.5952109 8.16981132,14.8871152 L13.2264151,19.8494869 L8.16981132,24.7753706 C7.86792453,25.0672748 7.71698113,25.4260737 7.71698113,25.8517674 C7.71698113,26.277461 7.86792453,26.6484227 8.16981132,26.9646522 C8.47169811,27.2565564 8.8427673,27.4025086 9.28301887,27.4025086 C9.72327044,27.4025086 10.0943396,27.2565564 10.3962264,26.9646522 L16.509434,21.0171038 Z M24.245283,25.0672748 L17.1509434,25.0672748 L17.1509434,27.3660205 L24.245283,27.3660205 L24.245283,25.0672748 L24.245283,25.0672748 Z",id:"\\u5F62\\u72B6",fill:"#FFFFFF",fillRule:"nonzero"}))))},Be=r.forwardRef((function(e,t){return r.createElement(_e,Re({svgRef:t},e))})),Ue=["svgRef","title"];function We(){return We=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},We.apply(this,arguments)}function Ze(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var ze,Ge,Xe=function(e){var t=e.svgRef,n=e.title,o=Ze(e,Ue);return r.createElement("svg",We({width:"32px",height:"32px",viewBox:"0 0 32 32",ref:t},o),void 0===n?He||(He=r.createElement("title",null,"图标/自定义操作")):n?r.createElement("title",null,n):null,Ve||(Ve=r.createElement("g",{id:"\\u56FE\\u6807/\\u81EA\\u5B9A\\u4E49\\u64CD\\u4F5C",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("path",{d:"M4,2 L13,2 C14.1045695,2 15,2.8954305 15,4 L15,13 C15,14.1045695 14.1045695,15 13,15 L4,15 C2.8954305,15 2,14.1045695 2,13 L2,4 C2,2.9456382 2.81587779,2.08183488 3.85073766,2.00548574 L4,2 Z M4,17 L13,17 C14.1045695,17 15,17.8954305 15,19 L15,28 C15,29.1045695 14.1045695,30 13,30 L4,30 C2.8954305,30 2,29.1045695 2,28 L2,19 C2,17.9456382 2.81587779,17.0818349 3.85073766,17.0054857 L4,17 Z M23.5,17 C24.0522847,17 24.5,17.4477153 24.5,18 L24.5,22.5 L29,22.5 C29.5522847,22.5 30,22.9477153 30,23.5 C30,24.0522847 29.5522847,24.5 29,24.5 L24.5,24.5 L24.5,29 C24.5,29.5522847 24.0522847,30 23.5,30 C22.9477153,30 22.5,29.5522847 22.5,29 L22.5,24.5 L18,24.5 C17.4477153,24.5 17,24.0522847 17,23.5 C17,22.9477153 17.4477153,22.5 18,22.5 L22.5,22.5 L22.5,18 C22.5,17.4477153 22.9477153,17 23.5,17 Z M19,2 L28,2 C29.1045695,2 30,2.8954305 30,4 L30,13 C30,14.1045695 29.1045695,15 28,15 L19,15 C17.8954305,15 17,14.1045695 17,13 L17,4 C17,2.8954305 17.8954305,2 19,2 Z",id:"\\u5F62\\u72B6",fill:"#FFFFFF"}))))},Ye=r.forwardRef((function(e,t){return r.createElement(Xe,We({svgRef:t},e))})),Ke=["svgRef","title"];function Je(){return Je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Je.apply(this,arguments)}function Qe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var qe,$e,et=function(e){var t=e.svgRef,n=e.title,o=Qe(e,Ke);return r.createElement("svg",Je({width:"32px",height:"32px",viewBox:"0 0 32 32",ref:t},o),void 0===n?ze||(ze=r.createElement("title",null,"图标/提示")):n?r.createElement("title",null,n):null,Ge||(Ge=r.createElement("g",{id:"\\u56FE\\u6807/\\u63D0\\u793A",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("g",{id:"\\u7F16\\u7EC4",transform:"translate(1, 1)",fill:"#FFFFFF",fillRule:"nonzero"},r.createElement("path",{d:"M15,0 C19.0314555,0 22.8123545,1.59918831 25.6065809,4.39339932 C28.4008036,7.18765287 30,10.968551 30,15 C30,19.0314542 28.4007994,22.8123545 25.6065769,25.6065769 C22.8123545,28.4007994 19.0314542,30 15,30 C10.968551,30 7.18765287,28.4008036 4.3933932,25.6065748 C1.59918831,22.8123545 0,19.0314555 0,15 C0,10.9685497 1.59918407,7.18765274 4.39340139,4.39338912 C7.18765274,1.59918407 10.9685497,0 15,0 Z M15.3488372,11.1627907 L13.9534884,11.1627907 C13.375516,11.1627907 12.9069768,11.63133 12.9069768,12.2093023 L12.9238375,12.3974141 C13.0124476,12.8856102 13.4397351,13.255814 13.9534884,13.255814 L14.3009303,13.255814 L14.301628,20.9281396 L12.9069768,20.9302326 C12.3290044,20.9302326 11.8604651,21.3987718 11.8604651,21.9767442 C11.8604651,22.5547167 12.3290044,23.0232559 12.9069768,23.0232559 L15.3272093,23.0211628 L15.3488372,23.0232559 L17.7906977,23.0232559 C18.3686701,23.0232559 18.8372093,22.5547167 18.8372093,21.9767442 C18.8372093,21.3987718 18.3686701,20.9302326 17.7906977,20.9302326 L16.3946512,20.9281396 L16.3953489,12.2093023 C16.3953489,11.63133 15.9268097,11.1627907 15.3488372,11.1627907 Z M15,5.93023257 C14.036721,5.93023257 13.255814,6.71113954 13.255814,7.67441863 C13.255814,8.6376977 14.036721,9.41860467 15,9.41860467 C15.9632791,9.41860467 16.7441861,8.6376977 16.7441861,7.67441863 C16.7441861,6.71113954 15.9632791,5.93023257 15,5.93023257 Z",id:"\\u5F62\\u72B6"})))))},tt=r.forwardRef((function(e,t){return r.createElement(et,Je({svgRef:t},e))})),nt=["svgRef","title"];function rt(){return rt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rt.apply(this,arguments)}function ot(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var at,it,lt=function(e){var t=e.svgRef,n=e.title,o=ot(e,nt);return r.createElement("svg",rt({width:"32px",height:"32px",viewBox:"0 0 32 32",ref:t},o),void 0===n?qe||(qe=r.createElement("title",null,"图标/消息")):n?r.createElement("title",null,n):null,$e||($e=r.createElement("g",{id:"\\u56FE\\u6807/\\u6D88\\u606F",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("g",{id:"\\u7F16\\u7EC4",transform:"translate(1, 1)",fill:"#FFFFFF",fillRule:"nonzero"},r.createElement("path",{d:"M15.0000139,0 C23.284281,0 30,6.71572527 30,15 C30,23.2842747 23.284281,30 15.0000139,30 L1.04651067,30 C0.468538788,30 0,29.5314608 0,28.9534883 L0,15 C0,6.71572998 6.71574223,0 15.0000139,0 Z M14.9999442,20.9302326 L8.02320646,20.9302326 C7.44523461,20.9302326 6.97669582,21.3987718 6.97669582,21.9767442 C6.97669582,22.5547167 7.44523461,23.0232559 8.02320646,23.0232559 L14.9999442,23.0232559 C15.577916,23.0232559 16.0464548,22.5547167 16.0464548,21.9767442 C16.0464548,21.3987718 15.577916,20.9302326 14.9999442,20.9302326 Z M20.5813343,15.3488372 L8.02320646,15.3488372 C7.44523461,15.3488372 6.97669582,15.8173765 6.97669582,16.3953489 C6.97669582,16.9733213 7.44523461,17.4418605 8.02320646,17.4418605 L20.5813343,17.4418605 C21.1593062,17.4418605 21.6278449,16.9733213 21.6278449,16.3953489 C21.6278449,15.8173765 21.1593062,15.3488372 20.5813343,15.3488372 Z M20.5813343,9.7674419 L8.02320646,9.7674419 C7.44523461,9.7674419 6.97669582,10.2359811 6.97669582,10.8139535 C6.97669582,11.3919259 7.44523461,11.8604651 8.02320646,11.8604651 L20.5813343,11.8604651 C21.1593062,11.8604651 21.6278449,11.3919259 21.6278449,10.8139535 C21.6278449,10.2359811 21.1593062,9.7674419 20.5813343,9.7674419 Z",id:"\\u5F62\\u72B6"})))))},ct=r.forwardRef((function(e,t){return r.createElement(lt,rt({svgRef:t},e))})),ut=["svgRef","title"];function dt(){return dt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dt.apply(this,arguments)}function st(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var ft,mt,pt=function(e){var t=e.svgRef,n=e.title,o=st(e,ut);return r.createElement("svg",dt({width:"32px",height:"32px",viewBox:"0 0 32 32",ref:t},o),void 0===n?at||(at=r.createElement("title",null,"图标/开始")):n?r.createElement("title",null,n):null,it||(it=r.createElement("g",{id:"\\u56FE\\u6807/\\u5F00\\u59CB",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("path",{d:"M14,3 C18.4134387,3 22.4515116,5.21722926 24.8439143,8.82758014 C25.1489857,9.2879603 25.023083,9.90848139 24.5627029,10.2135528 C24.1023227,10.5186242 23.4818016,10.3927215 23.1767302,9.93234135 C21.1509901,6.8753172 17.7356159,5 14,5 C7.92486775,5 3,9.92486775 3,16 C3,22.0751322 7.92486775,27 14,27 C17.7648566,27 21.2035154,25.0949799 23.2220595,21.9986932 C23.5236738,21.5360408 24.1432344,21.4054936 24.6058868,21.7071079 C25.0685392,22.0087222 25.1990864,22.6282827 24.8974721,23.0909352 C22.5135374,26.747702 18.4480243,29 14,29 C6.82029825,29 1,23.1797017 1,16 C1,8.82029825 6.82029825,3 14,3 Z M14,7.5 C18.3564221,7.5 21.9473888,10.7773043 22.4419043,15.0009171 L30,15 C30.5522847,15 31,15.4477153 31,16 C31,16.5522847 30.5522847,17 30,17 L22.441788,17.0000759 C21.9468259,21.2232094 18.3560807,24.5 14,24.5 C9.30557963,24.5 5.5,20.6944204 5.5,16 C5.5,11.3055796 9.30557963,7.5 14,7.5 Z",id:"\\u5F62\\u72B6\\u7ED3\\u5408",fill:"#FFFFFF",fillRule:"nonzero"}))))},vt=r.forwardRef((function(e,t){return r.createElement(pt,dt({svgRef:t},e))})),yt=["svgRef","title"];function gt(){return gt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gt.apply(this,arguments)}function ht(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var bt,Et,Ct=function(e){var t=e.svgRef,n=e.title,o=ht(e,yt);return r.createElement("svg",gt({width:"32px",height:"32px",viewBox:"0 0 32 32",ref:t},o),void 0===n?ft||(ft=r.createElement("title",null,"图标/循环")):n?r.createElement("title",null,n):null,mt||(mt=r.createElement("g",{id:"\\u56FE\\u6807/\\u5FAA\\u73AF",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("path",{d:"M15.6874667,19.5125333 C15.2709335,19.9289407 14.5957332,19.9289407 14.1792,19.5125333 L10.6752,16.0085333 C10.5113622,15.8469389 10.3449407,15.6879851 10.176,15.5317333 C9.01013334,14.4394667 7.48693334,13.0133333 7.63946666,10.3786667 C7.73013331,8.83946666 8.04586666,7.56373331 8.33706666,6.68053334 C8.49173331,6.20906669 8.01386666,5.7472 7.60106666,6.02133334 C5.48053331,7.42506669 3.29706666,10.0853333 2.60373334,12.1514667 C1.7696,14.64 1.6608,19.7856 5.36746666,23.4933333 L7.78026666,25.9114667 C8.19596367,26.3278774 8.19596367,27.0022559 7.78026666,27.4186667 L6.24426666,28.9546667 C6.09146943,29.1070781 6.04558528,29.3365525 6.128027,29.5360007 C6.21046871,29.7354489 6.40498472,29.8656 6.6208,29.8656 L17.0666667,29.8656 C17.3495642,29.8656 17.6208751,29.7532194 17.8209139,29.5531806 C18.0209527,29.3531418 18.1333333,29.0818309 18.1333333,28.7989333 L18.1333333,18.3530667 C18.1333333,18.1372514 18.0031823,17.9427354 17.803734,17.8602937 C17.6042858,17.777852 17.3748114,17.8237361 17.2224,17.9765333 L15.6874667,19.5114667 L15.6874667,19.5125333 Z",id:"\\u8DEF\\u5F84",fill:"#FFFFFF",fillRule:"nonzero"}),r.createElement("path",{d:"M16.3125333,12.4874667 C16.7290665,12.0710593 17.4042668,12.0710593 17.8208,12.4874667 L21.3248,15.9914667 C21.4784,16.1450667 21.6469333,16.3029333 21.824,16.4682667 C22.9898667,17.5605333 24.5130667,18.9866667 24.3605333,21.6202667 C24.2879029,22.8778359 24.0534368,24.120793 23.6629333,25.3184 C23.5082667,25.7898667 23.9861333,26.2517333 24.3989333,25.9776 C26.5194667,24.5738667 28.7029333,21.9136 29.3962667,19.8474667 C30.2304,17.3589333 30.3392,12.2133333 26.6325333,8.5056 L24.2197333,6.08746666 C23.8040363,5.67105591 23.8040363,4.9966774 24.2197333,4.58026666 L25.7557333,3.04426666 C25.9085305,2.89185522 25.9544147,2.66238086 25.871973,2.46293264 C25.7895313,2.26348441 25.5950153,2.13333334 25.3792,2.13333334 L14.9333333,2.13333334 C14.6504358,2.13333334 14.3791249,2.24571396 14.1790861,2.44575276 C13.9790473,2.64579157 13.8666667,2.91710241 13.8666667,3.2 L13.8666667,13.6458667 C13.8666667,13.8616819 13.9968177,14.0561979 14.196266,14.1386397 C14.3957142,14.2210814 14.6251886,14.1751972 14.7776,14.0224 L16.3125333,12.4874667 L16.3125333,12.4874667 Z",id:"\\u8DEF\\u5F84",fill:"#FFFFFF",fillRule:"nonzero"}))))},wt=r.forwardRef((function(e,t){return r.createElement(Ct,gt({svgRef:t},e))})),Ot=["svgRef","title"];function At(){return At=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},At.apply(this,arguments)}function Lt(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var St,Nt,xt=function(e){var t=e.svgRef,n=e.title,o=Lt(e,Ot);return r.createElement("svg",At({width:"32px",height:"32px",viewBox:"0 0 32 32",ref:t},o),void 0===n?bt||(bt=r.createElement("title",null,"图标/结束")):n?r.createElement("title",null,n):null,Et||(Et=r.createElement("g",{id:"\\u56FE\\u6807/\\u7ED3\\u675F",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("path",{d:"M14,3 C18.4134387,3 22.4515116,5.21722926 24.8439143,8.82758014 C25.1489857,9.2879603 25.023083,9.90848139 24.5627029,10.2135528 C24.1023227,10.5186242 23.4818016,10.3927215 23.1767302,9.93234135 C21.1509901,6.8753172 17.7356159,5 14,5 C7.92486775,5 3,9.92486775 3,16 C3,22.0751322 7.92486775,27 14,27 C17.7648566,27 21.2035154,25.0949799 23.2220595,21.9986932 C23.5236738,21.5360408 24.1432344,21.4054936 24.6058868,21.7071079 C25.0685392,22.0087222 25.1990864,22.6282827 24.8974721,23.0909352 C22.5135374,26.747702 18.4480243,29 14,29 C6.82029825,29 1,23.1797017 1,16 C1,8.82029825 6.82029825,3 14,3 Z M14,7.5 C18.3564221,7.5 21.9473888,10.7773043 22.4419043,15.0009171 L30,15 C30.5522847,15 31,15.4477153 31,16 C31,16.5522847 30.5522847,17 30,17 L22.441788,17.0000759 C21.9468259,21.2232094 18.3560807,24.5 14,24.5 C9.30557963,24.5 5.5,20.6944204 5.5,16 C5.5,11.3055796 9.30557963,7.5 14,7.5 Z",id:"\\u5F62\\u72B6\\u7ED3\\u5408\\u5907\\u4EFD",fill:"#FFFFFF",fillRule:"nonzero",transform:"translate(16, 16) scale(-1, 1) translate(-16, -16)"}))))},jt=r.forwardRef((function(e,t){return r.createElement(xt,At({svgRef:t},e))})),Pt=["svgRef","title"];function It(){return It=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},It.apply(this,arguments)}function kt(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Ft,Dt,Mt=function(e){var t=e.svgRef,n=e.title,o=kt(e,Pt);return r.createElement("svg",It({width:"32px",height:"32px",viewBox:"0 0 32 32",ref:t},o),void 0===n?St||(St=r.createElement("title",null,"图标/知识库")):n?r.createElement("title",null,n):null,Nt||(Nt=r.createElement("g",{id:"\\u56FE\\u6807/\\u77E5\\u8BC6\\u5E93",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("path",{d:"M21,25 L21,28 C21,29.1045695 20.1045695,30 19,30 L16,30 C14.8954305,30 14,29.1045695 14,28 L14,25 L21,25 Z M14,4 C14,2.8954305 14.8954305,2 16,2 L19,2 C20.1045695,2 21,2.8954305 21,4 L21,22 L14,22 L14,4 Z",id:"\\u5F62\\u72B6\\u7ED3\\u5408",fill:"#FFFFFF",fillRule:"nonzero"}),r.createElement("path",{d:"M30,25 L30,28 C30,29.1045695 29.1045695,30 28,30 L25,30 C23.8954305,30 23,29.1045695 23,28 L23,25 L30,25 Z M23,4 C23,2.8954305 23.8954305,2 25,2 L28,2 C29.1045695,2 30,2.8954305 30,4 L30,22 L23,22 L23,4 Z",id:"\\u5F62\\u72B6\\u7ED3\\u5408\\u5907\\u4EFD",fill:"#FFFFFF",fillRule:"nonzero"}),r.createElement("path",{d:"M9.47821745,1.93280488 L12.4126602,2.55653995 C13.4930923,2.78619286 14.182785,3.84822653 13.9531321,4.92865853 L8.96325149,28.404201 C8.73359858,29.484633 7.67156491,30.1743257 6.59113291,29.9446728 L3.6566901,29.3209377 C2.5762581,29.0912848 1.88656537,28.0292511 2.11621828,26.9488191 L5.84410295,9.40668954 L12.68545,10.8616618 L13.3091851,7.92721897 L6.46710295,6.47268954 L7.10609886,3.4732767 C7.33575178,2.39284469 8.39778544,1.70315197 9.47821745,1.93280488 Z",id:"\\u5F62\\u72B6\\u7ED3\\u5408",fill:"#FFFFFF",fillRule:"nonzero"}))))},Rt=r.forwardRef((function(e,t){return r.createElement(Mt,It({svgRef:t},e))})),Tt=["svgRef","title"];function Ht(){return Ht=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ht.apply(this,arguments)}function Vt(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var _t,Bt,Ut=function(e){var t=e.svgRef,n=e.title,o=Vt(e,Tt);return r.createElement("svg",Ht({width:"32px",height:"32px",viewBox:"0 0 32 32",ref:t},o),void 0===n?Ft||(Ft=r.createElement("title",null,"图标/回复")):n?r.createElement("title",null,n):null,Dt||(Dt=r.createElement("g",{id:"\\u56FE\\u6807/\\u56DE\\u590D",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("path",{d:"M25,2 C27.7614237,2 30,4.23857625 30,7 L30,21 C30,23.7614237 27.7614237,26 25,26 L24.273,26 L17.7598024,29.8602915 C17.0274696,30.2942665 16.1417305,29.6750511 16.2588049,28.8642383 L16.2798575,28.7574644 L16.968,26 L7,26 C4.3112453,26 2.11818189,23.8776933 2.00461951,21.2168896 L2,21 L2,7 C2,4.23857625 4.23857625,2 7,2 L25,2 Z M15.1349182,7.53425357 C14.8776936,7.04552673 14.2729804,6.85785713 13.7842536,7.11508178 L9.03425357,9.61508178 C8.53769102,9.87643048 8.35332931,10.4951188 8.62584272,10.9856429 L11.1258427,15.4856429 C11.3940559,15.9684267 12.0028592,16.1423705 12.4856429,15.8741573 L12.5843209,15.81164 C12.9910199,15.5196151 13.1232124,14.9626562 12.8741573,14.5143571 L11.4341518,11.9220895 C13.8181393,12.2870762 15.8789361,13.1587708 17.6321784,14.5363183 C19.7298736,16.1845074 20.8485753,18.496491 21.0012477,21.5499376 C21.0288274,22.1015333 21.4983419,22.5263321 22.0499376,22.4987523 C22.6015333,22.4711726 23.0263321,22.0016581 22.9987523,21.4500624 C22.8180913,17.8368424 21.4367931,14.9821593 18.8678216,12.9636817 C17.018128,11.510351 14.8781321,10.5464763 12.4597402,10.0714064 L14.7157464,8.88491822 C15.2044733,8.62769357 15.3921429,8.02298041 15.1349182,7.53425357 Z",id:"\\u5F62\\u72B6",fill:"#FFFFFF",fillRule:"nonzero"}))))},Wt=r.forwardRef((function(e,t){return r.createElement(Ut,Ht({svgRef:t},e))})),Zt=["svgRef","title"];function zt(){return zt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zt.apply(this,arguments)}function Gt(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Xt,Yt,Kt=function(e){var t=e.svgRef,n=e.title,o=Gt(e,Zt);return r.createElement("svg",zt({width:"32px",height:"32px",viewBox:"0 0 32 32",ref:t},o),void 0===n?_t||(_t=r.createElement("title",null,"图标/变量")):n?r.createElement("title",null,n):null,Bt||(Bt=r.createElement("g",{id:"\\u56FE\\u6807/\\u53D8\\u91CF",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("path",{d:"M26,2 C28.209139,2 30,3.790861 30,6 L30,26 C30,28.209139 28.209139,30 26,30 L6,30 C3.790861,30 2,28.209139 2,26 L2,6 C2,3.790861 3.790861,2 6,2 L26,2 Z M17.3039066,12.6713681 C16.0821918,12.6713681 14.8822933,13.190409 13.7696601,14.1833568 L15.122273,15.8081805 L15.1440893,15.7856135 C15.9076611,15.1086037 16.6057839,14.7926657 17.3039066,14.7926657 C17.6966007,14.7926657 17.9802131,14.8603667 18.1547438,14.9506347 C18.3074581,15.0183357 18.3947235,15.1086037 18.4819888,15.2440056 C18.6347032,15.5599436 18.7219685,16.0564175 18.7437849,16.8913963 L18.7437849,16.9365303 L17.5438864,16.9365303 C14.6859462,16.9590973 13.376966,18.1777151 13.376966,19.9379408 L13.376966,20.7277856 C13.376966,22.5331453 14.7950279,24 16.5403349,24 C17.325723,24 18.0456621,23.7066291 18.6128869,23.2101551 L18.6128869,23.77433 L20.7945205,23.77433 L20.7945205,17.0267983 C20.7945205,16.4851904 20.7727042,16.0338505 20.7072552,15.6276446 C20.6199899,15.0860367 20.4890918,14.5895628 20.2491121,14.1833568 C19.6818874,13.167842 18.6783359,12.6713681 17.3039066,12.6713681 Z M7.26889904,8 L5,8 L8.09791984,23.796897 L10.3668189,23.796897 L13.4647387,8 L11.1958397,8 L9.23236936,18.809591 L7.26889904,8 Z M27,13.0098731 C26.1927955,13.0098731 25.4728564,13.303244 24.927448,13.7997179 L24.927448,13.235543 L22.7458143,13.235543 L22.7458143,23.796897 L24.927448,23.796897 L24.927448,16.4174894 C24.992897,15.6050776 25.6473871,14.9732017 26.4327752,14.9732017 L26.4764079,14.9732017 C26.6509386,14.9732017 26.8254693,15.0183357 27,15.0860367 Z M18.6128869,18.629055 L18.6128869,20.6375176 C18.5256215,21.4273625 17.8711314,22.0366714 17.0857433,22.0366714 L17.0639269,22.0366714 C16.2349061,22.0141044 15.5585997,21.3145275 15.5585997,20.4569817 L15.5585997,20.1861777 C15.580416,19.3286319 16.2349061,18.651622 17.0639269,18.629055 L18.6128869,18.629055 Z",id:"\\u5F62\\u72B6\\u7ED3\\u5408",fill:"#FFFFFF"}))))},Jt=r.forwardRef((function(e,t){return r.createElement(Kt,zt({svgRef:t},e))})),Qt=["svgRef","title"];function qt(){return qt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qt.apply(this,arguments)}function $t(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var en=function(e){var t=e.svgRef,n=e.title,o=$t(e,Qt);return r.createElement("svg",qt({width:"32px",height:"32px",viewBox:"0 0 32 32",ref:t},o),void 0===n?Xt||(Xt=r.createElement("title",null,"图标/工具")):n?r.createElement("title",null,n):null,Yt||(Yt=r.createElement("g",{id:"\\u56FE\\u6807/\\u5DE5\\u5177",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("path",{d:"M12.4094151,15.5129503 C12.3220557,15.8217419 12.278824,16.141527 12.2810271,16.4626377 C12.2151518,17.8489048 12.9108566,19.1592737 14.091296,19.8723028 C15.2717355,20.5853319 16.7453829,20.5853319 17.9258223,19.8723028 C19.1062618,19.1592737 19.8019665,17.8489048 19.7360913,16.4626377 C19.7355525,16.1417111 19.6923721,15.822305 19.6077033,15.5129503 L31,15.5129503 L31,28.2732956 C31,29.2269281 30.233583,30 29.2881598,30 L2.75463622,30 C1.80921298,30 1.042796,29.2269281 1.04279598,28.2732956 L1.04279598,26.5897589 C1.02015756,26.44394 1.00586854,26.2969265 1,26.1494493 L1,15.5129503 Z M17.6305278,15.5129503 C17.7992927,15.8004343 17.8880043,16.1285345 17.8873038,16.4626377 C17.89416,16.973266 17.6996114,17.4657228 17.3464661,17.8316494 C16.9933207,18.197576 16.5105135,18.4069904 16.0042796,18.4138136 C15.5002415,18.4120052 15.0187871,18.2026936 14.6713742,17.8343352 C14.3239613,17.4659767 14.1407129,16.9705104 14.1640513,16.4626377 C14.156478,16.1276501 14.2456961,15.7976767 14.4208274,15.5129503 Z M30.9657632,8.33849359 L30.9657632,6.6117892 C30.9657632,5.65815671 30.1993462,4.88508485 29.253923,4.88508485 L21.6362339,4.88508485 L21.6362339,2.29502828 C21.6362339,1.57980391 21.0614212,1 20.3523538,1 L11.6219686,1 C10.9129012,1 10.3380884,1.57980391 10.3380884,2.29502828 L10.3380884,4.88508485 L2.75463622,4.88508485 C1.80921298,4.88508485 1.04279598,5.65815671 1.04279598,6.6117892 L1.04279598,13.6135755 L31,13.6135755 L31,8.7701697 C30.996643,8.62574282 30.9852126,8.4816219 30.9657632,8.33849359 L30.9657632,8.33849359 Z M19.8388017,4.88508485 L12.2296719,4.88508485 L12.2296719,3.83179517 C12.2296719,3.35497893 12.6128804,2.96844299 13.085592,2.96844299 L18.9486448,2.96844299 C19.1756489,2.96844299 19.3933556,3.05940305 19.5538717,3.22131299 C19.7143879,3.38322293 19.8045649,3.60281993 19.8045649,3.83179517 L19.8388017,4.88508485 Z",id:"\\u5F62\\u72B6",fill:"#FFFFFF",fillRule:"nonzero"}))))},tn=r.forwardRef((function(e,t){return r.createElement(en,qt({svgRef:t},e))})),nn={iconWrap:"iconWrap-index-Cqj80",condition:"condition-index-_Ga3h"};function rn(e){var t=e.bgColor,n=e.children;return r.createElement("span",{className:nn.iconWrap,style:{background:t}},n)}var on=function(e){var t=e.type;return r.createElement(r.Fragment,null,function(){switch(t){case K.Hv.Input:return r.createElement(rn,{bgColor:"#5582F3"},r.createElement(vt,null));case K.Hv.Output:return r.createElement(rn,{bgColor:"#5582F3"},r.createElement(jt,null));case K.Hv.LLMAction:return r.createElement(rn,{bgColor:"#9A4DFF"},r.createElement(tt,null));case K.Hv.JavaPluginAction:return r.createElement(rn,{bgColor:"#5797FF"},r.createElement(Ye,null));case K.Hv.MessageAction:return r.createElement(rn,{bgColor:"#FDC200"},r.createElement(ct,null));case K.Hv.AskUserAction:return r.createElement(rn,{bgColor:"#77C404"},r.createElement(Ne,null));case K.Hv.RepoAction:return r.createElement(rn,{bgColor:"#16B8B1"},r.createElement(Rt,null));case K.Hv.RepoReplyAction:return r.createElement(rn,{bgColor:"#FF698E"},r.createElement(Wt,null));case K.Hv.LoopAction:return r.createElement(rn,{bgColor:"#16B0F1"},r.createElement(wt,null));case K.Hv.BreakLoopAction:return r.createElement(rn,{bgColor:"#FF5757"},r.createElement(De,null));case K.Hv.SetVariableAction:return r.createElement(rn,{bgColor:"#FFB44A"},r.createElement(Jt,null));case K.Hv.CodeAction:return r.createElement(rn,{bgColor:"#FFB44A"},r.createElement(Be,null));case K.Hv.ToolAction:return r.createElement(rn,{bgColor:"#FF854D"},r.createElement(tn,null));case"condition":return r.createElement("span",{className:Q()(nn.iconWrap,nn.condition)},r.createElement("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFKADAAQAAAABAAAAFAAAAACy3fD9AAAAf0lEQVQ4EWNgGAWjIUAwBMJbPlogK2JC5pDD/veP6VhI4+cpDP//M4L0gwlyDILpCW36/B/E/s/4fyGjOm8yY2jTp61Ac71gCiih/zP8X0Kxl1EcwMjITHUvs6DYQB7n////DNPW1PLmMjAygsOTPGOguoKbPppTZMCo5iEYAgBnWCLVCVw/WAAAAABJRU5ErkJggg=="}));default:return r.createElement("span",{className:nn.iconWrap},r.createElement("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAHKADAAQAAAABAAAAHAAAAABkvfSiAAABHElEQVRIDWNkAIKghm8yTMx/uxj/MzgAuZIgMSqC5/8ZGQ78+8tctq6B6wkjyDJmpr8XgRYIUdESbEa9+/uPWZ8J5DM6WAZygBDILiZoMGJzEdXFQHYxAU2ldpzhc6gkCz7ZykhOBkMVZnxKMOTO3/nL0L78O4Y4TADkQ5yAVMtABhHSg9dCnC6hQAJvkMLMzZ/6jeH5u38wLlZaUoiJYWI2F1Y5ZEGiLCTGIGRD8bFHgxQcOiM7SIlNnbCENPxTKd2zxaiFsMRFNXpwBSmoMiUVnLv9B68WvPkQX82N11Q8kqAgfY5HntpSz5lAjVRqm4rLPJBdTKAWMVDBO1yKqCj+DmQXE6j5DWoRA21fDjScFsELauovB9kBsgsAczxWDWhURZsAAAAASUVORK5CYII="}))}}())},an="header-index-on_KZ",ln="name-index-C_3EN";var cn=function(e){var t=e.nodeType,n=e.data;return r.createElement("div",{className:an},r.createElement(on,{type:t}),r.createElement("span",{className:ln,title:n.nodeName},n.nodeName))},un=n(97828);function dn(){return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},r.createElement("path",{d:"M5.19009 11.8398C8.26416 10.6196 10.7144 8.16562 11.9297 5.08904",stroke:"red",strokeOpacity:"0.16",strokeWidth:"2",strokeLinecap:"round"}))}function sn(e){var t=e.nodeId,n=e.icon,o=void 0===n?r.createElement(dn,null):n,a=e.minHeight,i=void 0===a?K.J2.HEIGHT:a,l=Kl().handleNodeResize,c=(0,r.useCallback)((function(e,n){l(t,n)}),[l,t]);return r.createElement("div",{className:te.resizeWrapper},r.createElement(un.IE,{position:"bottom-right",onResize:c,minHeight:i,minWidth:K.Xn,style:{backgroundColor:"transparent",borderStyle:"none"}},r.createElement("div",{className:te.icon},o)))}var fn=(0,r.memo)(sn);function mn(e){return mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mn(e)}function pn(e,t,n){return t=function(e){var t=function(e,t){if("object"!=mn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=mn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==mn(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return yn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gn(e){var t=e.children,n=e.id,o=e.data,a=e.selected,i=vn((0,r.useState)(!1),2),l=i[0],c=i[1],u=vn((0,r.useState)(!1),2),d=u[0],s=u[1],f=(0,r.useRef)(null),m=ee().handleNodeIterationChildSizeChange,p=o.nodeType,v=o.width,y=o.height,g=o.edges;(0,r.useEffect)((function(){if(f.current&&n){var e=new ResizeObserver((function(){setTimeout((function(){m(n)}),0)}));return e.observe(f.current),function(){e.disconnect()}}}),[n,m]);var b,E,C,w,O,A,L,S,N,x;return r.createElement("div",{className:Q()(te.wrapper,pn(pn({},te.showBorder,!!a),te.errorBorder,!!o.hasErr)),style:{width:"".concat(v,"px"),minHeight:"".concat(y,"px")},ref:f,onMouseEnter:function(){return c(!0)},onMouseLeave:function(){return c(!1)}},r.createElement(cn,{nodeType:p,data:o}),p===K.Hv.Input?r.createElement(r.Fragment,null,r.createElement(ge,{id:"bottom",nodeId:n,connected:!(null==g||null===(O=g.bottom)||void 0===O||!O.length),showHandle:l,position:h.yX.Bottom}),r.createElement(ge,{id:"left",nodeId:n,connected:!(null==g||null===(A=g.left)||void 0===A||!A.length),showHandle:l,position:h.yX.Left}),r.createElement(ge,{id:"right",nodeId:n,connected:!(null==g||null===(L=g.right)||void 0===L||!L.length),showHandle:l,position:h.yX.Right})):p===K.Hv.Output?r.createElement(r.Fragment,null,r.createElement(he,{id:"top",nodeId:n,connected:!(null==g||null===(S=g.top)||void 0===S||!S.length),showHandle:l,position:h.yX.Top}),r.createElement(he,{id:"left",nodeId:n,connected:!(null==g||null===(N=g.left)||void 0===N||!N.length),showHandle:l,position:h.yX.Left}),r.createElement(he,{id:"right",nodeId:n,connected:!(null==g||null===(x=g.right)||void 0===x||!x.length),showHandle:l,position:h.yX.Right})):r.createElement(r.Fragment,null,r.createElement(he,{id:"top",nodeId:n,connected:!(null==g||null===(b=g.top)||void 0===b||!b.length),showHandle:l,position:h.yX.Top}),r.createElement(ge,{id:"bottom",nodeId:n,connected:!(null==g||null===(E=g.bottom)||void 0===E||!E.length),showHandle:l,position:h.yX.Bottom}),r.createElement(he,{id:"left",nodeId:n,connected:!(null==g||null===(C=g.left)||void 0===C||!C.length),showHandle:l,position:h.yX.Left}),r.createElement(ge,{id:"right",nodeId:n,connected:!(null==g||null===(w=g.right)||void 0===w||!w.length),showHandle:l,position:h.yX.Right})),0!==Object.keys(o.nodeData).length||p===K.Hv.LoopAction||p===K.Hv.ParallelAction?r.createElement("div",{className:Q()(te.content,pn(pn({},te.iterationBorder,p===K.Hv.LoopAction||p===K.Hv.ParallelAction),te.normalBorder,p!==K.Hv.LoopAction&&p!==K.Hv.ParallelAction))},(0,r.cloneElement)(t,{id:n,data:o})):null,p===K.Hv.LoopAction||p===K.Hv.ParallelAction?r.createElement(fn,{nodeId:n}):null,o.hasErr?r.createElement("span",{className:"".concat(te.error),onMouseEnter:function(){return s(!0)},onMouseLeave:function(){return s(!1)}},"!",r.createElement("div",{style:{display:d?"block":"none",boxShadow:"0px 4px 10px 0px rgba(0,0,0,0.2)"},className:"".concat(te.errorText)},o.errInfo.reduce((function(e,t){return e+t.msg}),""))):null)}var hn=(0,r.memo)(gn);function bn(e){var t=e.data,n=(0,r.useMemo)((function(){return Nl[t.nodeType]}),[t]);return r.createElement(hn,e,r.createElement(n,null))}var En=(0,r.memo)(bn);function Cn(e){e.data,e.selected;return r.createElement(r.Fragment,null)}var wn=(0,r.memo)(Cn);function On(){return r.createElement("div",null,"BreakLoopPanel")}var An=(0,r.memo)(On);function Ln(e){e.data,e.selected;return r.createElement(r.Fragment,null)}var Sn=(0,r.memo)(Ln),Nn=n(62507),xn=n(11647),jn=n(28778),Pn={cascaderUIWrapper:"cascaderUIWrapper-index-sAKUJ",cascaderUIPopUp:"cascaderUIPopUp-index-zeI9G",cascaderUI_base_border:"cascaderUI_base_border-index-oFUKd",cascaderUI_right_border:"cascaderUI_right_border-index-KYh1P",cascaderUI_right_padding:"cascaderUI_right_padding-index-X1joB",cascaderUI_input:"cascaderUI_input-index-IOkp2",cascaderUI_input_error:"cascaderUI_input_error-index-f0Hac",cascaderUI_input_status_error:"cascaderUI_input_status_error-index-iywqr",cascaderUI_empty:"cascaderUI_empty-index-sfv2T"};function In(e){return In="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},In(e)}function kn(e,t,n){return t=function(e){var t=function(e,t){if("object"!=In(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=In(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==In(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Dn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Mn=function(e){return e.REFERENCE="reference",e.INPUT="input",e}(Mn||{}),Rn="cascaderUI",Tn={fontSize:"12px",height:"47px",color:"#b2b2b2",width:"168px",display:"flex",alignItems:"center",justifyContent:"center"},Hn=[{value:"reference",label:"引用"},{value:"input",label:"输入"}];function Vn(e){return document.querySelector(".cascaderUI_dropdown_list")}function _n(e){return document.querySelector(".cascaderUI_dropdown_list1")}var Bn=(0,r.forwardRef)((function(e,t){var n=e.typeList,o=e.typeValue,a=e.disabled,i=e.isSeparate,l=void 0===i||i,c=e.referenceList,u=e.referenceVal,d=e.textVal,s=e.inputEmtpyText,f=void 0===s?"值不能为空":s,m=e.inputPlaceholder,p=void 0===m?"请输入":m,v=e.mustInput,y=void 0===v||v,g=n||Hn,h=Fn((0,r.useState)(o||Hn[0].value||""),2),b=h[0],E=h[1],C=Fn((0,r.useState)(u||""),2),w=C[0],O=C[1],A=Fn((0,r.useState)(d||""),2),L=A[0],S=A[1],N=(0,r.useState)((function(){return function(e){var t=e.mustInput,n=e.baseVal,r=e.textValue,o=e.refValue;return!!t&&(n===Mn.INPUT&&!r||n===Mn.REFERENCE&&!o||void 0)}({baseVal:b,textValue:L,refValue:w,mustInput:y||!1})})),x=Fn(N,2),j=x[0],P=x[1];(0,r.useImperativeHandle)(t,(function(){return{getValue:function(){return{baseVal:b,rightVal:b===Mn.INPUT?L:w}}}}));var I=(0,r.useCallback)((function(e,t){E(e[0])}),[E]),k=(0,r.useCallback)((function(e){O(e[0])}),[O]);(0,r.useEffect)((function(){y&&(b!==Mn.INPUT||L?P(!1):P(!0))}),[b,y,P,L]);var F=(0,r.useCallback)((function(e){var t=e.target.value;S(t)}),[S]),D=(0,r.useCallback)((function(e){var t,n=null==e||null===(t=e.props)||void 0===t?void 0:t.children;return Array.isArray(n)?e:r.createElement("div",{style:Tn},"没有数据")}),[]);return r.createElement("div",{className:Q()(Pn.cascaderUIWrapper)},r.createElement("div",{className:Q()(kn({},Pn["".concat(Rn,"_base_border")],l),Pn["".concat(Rn,"_base_type")])},r.createElement("div",{className:Q()(Pn.cascaderUIPopUp,"".concat(Rn,"_dropdown_list")),style:{width:"116px"}}),r.createElement(xn.A,{disabled:a,style:{width:"116px"},getPopupContainer:Vn,options:g,allowClear:!1,bordered:!1,mode:"single",value:[b],onChange:I,dropdownRender:D})),r.createElement("div",{className:Q()(kn(kn({},Pn["".concat(Rn,"_right_padding")],l),Pn["".concat(Rn,"_right_border")],l),Pn["".concat(Rn,"_right_type")]),style:{width:"168px"}},r.createElement("div",{className:Q()(Pn.cascaderUIPopUp,"".concat(Rn,"_dropdown_list1")),style:{width:"168px"}}),"input"===b?r.createElement("div",{className:Q()(Pn["".concat(Rn,"_input")],kn({},Pn["".concat(Rn,"_input_status_error")],j&&b===Mn.INPUT))},r.createElement(jn.Ay,{placeholder:p,onChange:F,value:L}),r.createElement("div",{className:Pn["".concat(Rn,"_input_error")],style:{display:j&&b===Mn.INPUT?"flex":"none"}},f)):r.createElement(xn.A,{options:c,getPopupContainer:_n,dropdownRender:D,value:[w],onChange:k})))})),Un=(0,r.memo)(Bn),Wn=n(35662),Zn=n(63649),zn="gaiCodeEditor-index-XGH80";n(95348),n(74387),n(80582),n(40335),n(37093),n(23520);window.JSHINT=Zn.JSHINT;var Gn=function(e){var t=e.code,n=e.clsName,o=e.readOnly,a=void 0===o||o,i=e.onCodeChange,l=(0,r.useMemo)((function(){return{mode:"javascript",theme:"material",lineNumbers:!0,styleActiveLine:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],extraKeys:{"Ctrl-Q":function(e){e.foldCode(e.getCursor())}},fold:"brace",indentUnit:2,showIndentGuide:!0,readOnly:a,autofocus:!a}}),[]),c=(0,r.useCallback)((function(e,t,n){null==i||i(n)}),[i]),u=(0,r.useCallback)((function(e,t,n){null==i||i(n)}),[i]);return r.createElement(Wn.xL,{className:"".concat(zn," ").concat(n),value:t,onBeforeChange:c,options:l,onChange:u})},Xn=(0,r.memo)(Gn),Yn="codeToolbar-index-PWHt8",Kn="ideBtn-index-MX2rd",Jn=[{label:"苹果",value:"apple"},{label:"香蕉",value:"banana"},{label:"橙子",value:"orange"}];function Qn(){var e=g((function(e){return{codeStr:e.codeStr,setCodeEditorPanelShow:e.setCodeEditorPanelShow}})),t=e.codeStr,n=e.setCodeEditorPanelShow,o=(0,r.useRef)(null),a=(0,r.useCallback)((function(){n(!0)}),[n]);return r.createElement("div",null,r.createElement(Un,{referenceList:Jn,referenceVal:"apple",ref:o,typeValue:"input",textVal:"hei you name"}),r.createElement("div",{className:Yn},r.createElement(Nn.A,{onClick:function(){var e;null===(e=o.current)||void 0===e||e.getValue()}},"getVal"),r.createElement(Nn.A,{className:Kn,type:"text",onClick:a},"在IDE中编辑")),r.createElement(Xn,{code:t}))}var qn=(0,r.memo)(Qn),$n={nodeInfo:"nodeInfo-index-SQ5SU",panel:"panel-index-dakm2",inputVarCollapse:"inputVarCollapse-index-PKgPK",inputVar:"inputVar-index-fgtFI",header:"header-index-ZZOCC",line:"line-index-cidcF",handle:"handle-index-tG2TI",col1:"col1-index-tUuFB",col2:"col2-index-EuDKz",col3:"col3-index-Di3Bq",col4:"col4-index-Db86p",addAction:"addAction-index-mnIMQ"},er="wrap-index-VM1nE",tr="content-index-wzdWZ",nr="tag-index-KmYeS",rr="isUndefined-index-l00ha",or="icon-index-giZye",ar="onlyName-index-OgbC4",ir="ellipsis-index-QUVsN",lr="nodeTagTipsWrap-index-lsCOP",cr="nodeTagTips-index-K5P6p",ur="line-index-sBSwq",dr="label-index-Vx_d4",sr="text-index-k9IoY",fr="empty-index-XrYmM";var mr,pr=function(e){var t=e.label,n=e.children;return r.createElement("div",{className:ur},r.createElement("div",{className:dr},t),n)},vr=n(76425),yr=["svgRef","title"];function gr(){return gr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gr.apply(this,arguments)}function hr(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var br,Er,Cr=function(e){var t=e.svgRef,n=e.title,o=hr(e,yr);return r.createElement("svg",gr({width:"16px",height:"16px",viewBox:"0 0 16 16",ref:t},o),n?r.createElement("title",null,n):null,mr||(mr=r.createElement("g",{id:"\\u66F4\\u591A\\u64CD\\u4F5C",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("g",{id:"\\u7F16\\u7EC4",transform:"translate(6.5, 1.5)",fill:"#666666",fillRule:"nonzero"},r.createElement("path",{d:"M1.46326408,2.99954821 C2.00775926,3.01288721 2.51670043,2.7300282 2.79287161,2.26057974 C3.0690428,1.79113128 3.0690428,1.20886872 2.79287161,0.739420262 C2.51670043,0.269971804 2.00775926,-0.0128872126 1.46326408,0.000451791527 C0.649392726,0.0203899541 0,0.685885479 0,1.5 C0,2.31411452 0.649392726,2.97961005 1.46326408,2.99954821 L1.46326408,2.99954821 Z M0,6.5 C0,7.32842712 0.671572875,8 1.5,8 C2.32842712,8 3,7.32842712 3,6.5 C3,5.67157288 2.32842712,5 1.5,5 C0.671572875,5 0,5.67157288 0,6.5 L0,6.5 Z M1.5,13 C2.32842712,13 3,12.3284271 3,11.5 C3,10.6715729 2.32842712,10 1.5,10 C0.671572875,10 0,10.6715729 0,11.5 C0,12.3284271 0.671572875,13 1.5,13 Z",id:"\\u5F62\\u72B6\\u7ED3\\u5408"})))))},wr=r.forwardRef((function(e,t){return r.createElement(Cr,gr({svgRef:t},e))})),Or=["svgRef","title"];function Ar(){return Ar=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ar.apply(this,arguments)}function Lr(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Sr,Nr,xr=function(e){var t=e.svgRef,n=e.title,o=Lr(e,Or);return r.createElement("svg",Ar({width:"32px",height:"32px",viewBox:"0 0 32 32",ref:t},o),void 0===n?br||(br=r.createElement("title",null,"图标/任务流/数组")):n?r.createElement("title",null,n):null,Er||(Er=r.createElement("g",{id:"\\u56FE\\u6807/\\u4EFB\\u52A1\\u6D41/\\u6570\\u7EC4",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("path",{d:"M12.325784,3.03295311 L12.325784,4.61470215 L11.2047038,4.61470215 C9.91376307,4.61470215 8.8945993,5.60329531 8.86062718,6.85551331 L8.86062718,14.7313054 C8.86062718,14.9949303 8.72473868,15.225602 8.52090592,15.3903676 L8.4869338,15.3903676 L7.67160279,16.0164766 L8.4869338,16.6096324 C8.72473868,16.774398 8.86062718,17.0050697 8.86062718,17.2686946 L8.86062718,25.1444867 C8.86062718,26.3637516 9.87979094,27.3852978 11.1707317,27.418251 L12.325784,27.418251 L12.325784,29 L11.2047038,29 C9.0304878,29 7.26393728,27.2864385 7.22996516,25.2103929 L7.22996516,17.6641318 L5.90505226,16.6755387 C5.83710801,16.6425856 5.76916376,16.5766793 5.73519164,16.5437262 L5.70121951,16.5107731 C5.42944251,16.148289 5.49738676,15.6210393 5.87108014,15.3244613 L5.90505226,15.3244613 L7.22996516,14.3688213 L7.22996516,6.88846641 C7.22996516,4.77946768 8.96254355,3.06590621 11.1367596,3.03295311 L12.325784,3.03295311 Z M6.09581882,3 L6.09581882,4.58174905 L2.63066202,4.58174905 L2.63066202,27.3852978 L6.09581882,27.3852978 L6.09581882,28.9670469 L1.81533101,28.9670469 L1,28.1761724 L1,3.79087452 L1.81533101,3 L6.09581882,3 Z M20.8632404,3.03295311 C23.0374564,3.06590621 24.7700348,4.77946768 24.7700348,6.88846641 L24.7700348,14.3688213 L26.0949477,15.3244613 L26.1289199,15.3244613 C26.5026132,15.6210393 26.5705575,16.148289 26.2987805,16.5107731 L26.2648084,16.5437262 C26.2308362,16.5766793 26.162892,16.6425856 26.0949477,16.6755387 L24.7700348,17.6641318 L24.7700348,25.2103929 C24.7360627,27.2864385 22.9695122,29 20.7952962,29 L19.674216,29 L19.674216,27.418251 L20.8292683,27.418251 C22.1202091,27.3852978 23.1393728,26.3637516 23.1393728,25.1444867 L23.1393728,17.2686946 C23.1393728,17.0050697 23.2752613,16.774398 23.5130662,16.6096324 L24.3283972,16.0164766 L23.5130662,15.3903676 L23.4790941,15.3903676 C23.2752613,15.225602 23.1393728,14.9949303 23.1393728,14.7313054 L23.1393728,6.85551331 C23.1054007,5.60329531 22.0862369,4.61470215 20.7952962,4.61470215 L19.674216,4.61470215 L19.674216,3.03295311 L20.8632404,3.03295311 Z M30.184669,3 L31,3.79087452 L31,28.1761724 L30.184669,28.9670469 L25.9041812,28.9670469 L25.9041812,27.3852978 L29.369338,27.3852978 L29.369338,4.58174905 L25.9041812,4.58174905 L25.9041812,3 L30.184669,3 Z",id:"\\u5F62\\u72B6\\u7ED3\\u5408",fill:"#999999"}))))},jr=r.forwardRef((function(e,t){return r.createElement(xr,Ar({svgRef:t},e))})),Pr=["svgRef","title"];function Ir(){return Ir=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ir.apply(this,arguments)}function kr(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Fr,Dr,Mr=function(e){var t=e.svgRef,n=e.title,o=kr(e,Pr);return r.createElement("svg",Ir({width:"32px",height:"32px",viewBox:"0 0 32 32",ref:t},o),void 0===n?Sr||(Sr=r.createElement("title",null,"图标/任务流/时间")):n?r.createElement("title",null,n):null,Nr||(Nr=r.createElement("g",{id:"\\u56FE\\u6807/\\u4EFB\\u52A1\\u6D41/\\u65F6\\u95F4",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("path",{d:"M16,2 C23.7319865,2 30,8.2680135 30,16 C30,23.7319865 23.7319865,30 16,30 C8.2680135,30 2,23.7319865 2,16 C2,8.2680135 8.2680135,2 16,2 Z M16,4 C9.372583,4 4,9.372583 4,16 C4,22.627417 9.372583,28 16,28 C22.627417,28 28,22.627417 28,16 C28,9.372583 22.627417,4 16,4 Z M16,8 C16.5128358,8 16.9355072,8.38604019 16.9932723,8.88337887 L17,9 L17,15.585 L20.7071068,19.2928932 C21.0675907,19.6533772 21.0953203,20.2206082 20.7902954,20.6128994 L20.7071068,20.7071068 C20.3466228,21.0675907 19.7793918,21.0953203 19.3871006,20.7902954 L19.2928932,20.7071068 L15.2928932,16.7071068 C15.1366129,16.5508265 15.0374017,16.3481451 15.0086724,16.131444 L15,16 L15,9 C15,8.44771525 15.4477153,8 16,8 Z",id:"\\u989C\\u8272",fill:"#999999",fillRule:"nonzero"}))))},Rr=r.forwardRef((function(e,t){return r.createElement(Mr,Ir({svgRef:t},e))})),Tr=["svgRef","title"];function Hr(){return Hr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hr.apply(this,arguments)}function Vr(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var _r,Br,Ur=function(e){var t=e.svgRef,n=e.title,o=Vr(e,Tr);return r.createElement("svg",Hr({width:"32px",height:"32px",viewBox:"0 0 32 32",ref:t},o),void 0===n?Fr||(Fr=r.createElement("title",null,"图标/任务流/图片")):n?r.createElement("title",null,n):null,Dr||(Dr=r.createElement("g",{id:"\\u56FE\\u6807/\\u4EFB\\u52A1\\u6D41/\\u56FE\\u7247",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("path",{d:"M29,3 C29.5522847,3 30,3.48502485 30,4.08333333 L30,27.9166667 C30,28.5149751 29.5522847,29 29,29 L3,29 C2.44771525,29 2,28.5149751 2,27.9166667 L2,4.08333333 C2,3.48502485 2.44771525,3 3,3 L29,3 Z M28,5 L4,5 L4,25 L10.0410565,11.776286 C10.3193367,11.2992341 10.9316545,11.1380979 11.4087064,11.4163782 C11.5091535,11.4749723 11.5986108,11.5506377 11.6730566,11.6399727 L16.7598307,18.5441016 L20,14 C20.4336732,13.7397961 20.9933503,13.844341 21.303848,14.2435523 L27.999,24.999 L28,5 Z M23,8 C24.1045695,8 25,8.8954305 25,10 C25,11.1045695 24.1045695,12 23,12 C21.8954305,12 21,11.1045695 21,10 C21,8.8954305 21.8954305,8 23,8 Z",id:"\\u989C\\u8272",fill:"#999999",fillRule:"nonzero"}))))},Wr=r.forwardRef((function(e,t){return r.createElement(Ur,Hr({svgRef:t},e))})),Zr=["svgRef","title"];function zr(){return zr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zr.apply(this,arguments)}function Gr(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Xr,Yr,Kr=function(e){var t=e.svgRef,n=e.title,o=Gr(e,Zr);return r.createElement("svg",zr({width:"32px",height:"32px",viewBox:"0 0 32 32",ref:t},o),void 0===n?_r||(_r=r.createElement("title",null,"图标/任务流/超链接")):n?r.createElement("title",null,n):null,Br||(Br=r.createElement("g",{id:"\\u56FE\\u6807/\\u4EFB\\u52A1\\u6D41/\\u8D85\\u94FE\\u63A5",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("path",{d:"M13.2249895,8.87738244 C12.8345389,9.26783309 12.2014933,9.26783309 11.8110427,8.87738244 C11.420592,8.4869318 11.420592,7.85388622 11.8110427,7.46343558 L14.6389364,4.63554185 C18.1529922,1.12148605 23.8504023,1.12148605 27.3644581,4.63554185 C30.878514,8.14959765 30.878514,13.8470078 27.3644581,17.3610636 L24.5365644,20.1889573 C24.1461138,20.579408 23.5130682,20.579408 23.1226176,20.1889573 C22.7321669,19.7985067 22.7321669,19.1654611 23.1226176,18.7750105 L25.9505113,15.9471168 C28.6836658,13.2139622 28.6836658,8.78264323 25.9505113,6.04948871 C23.2173568,3.3163342 18.7860378,3.3163342 16.0528832,6.04948871 L13.2249895,8.87738244 Z M18.7750105,23.1226176 C19.1654611,22.7321669 19.7985067,22.7321669 20.1889573,23.1226176 C20.579408,23.5130682 20.579408,24.1461138 20.1889573,24.5365644 L17.3610636,27.3644581 C13.8470078,30.878514 8.14959765,30.878514 4.63554185,27.3644581 C1.12148605,23.8504023 1.12148605,18.1529922 4.63554185,14.6389364 L7.46343558,11.8110427 C7.85388622,11.420592 8.4869318,11.420592 8.87738244,11.8110427 C9.26783309,12.2014933 9.26783309,12.8345389 8.87738244,13.2249895 L6.04948871,16.0528832 C3.3163342,18.7860378 3.3163342,23.2173568 6.04948871,25.9505113 C8.78264323,28.6836658 13.2139622,28.6836658 15.9471168,25.9505113 L18.7750105,23.1226176 Z M12.7071068,20.7071068 C12.3165825,21.0976311 11.6834175,21.0976311 11.2928932,20.7071068 C10.9023689,20.3165825 10.9023689,19.6834175 11.2928932,19.2928932 L20.2928932,10.2928932 C20.6834175,9.90236893 21.3165825,9.90236893 21.7071068,10.2928932 C22.0976311,10.6834175 22.0976311,11.3165825 21.7071068,11.7071068 L12.7071068,20.7071068 Z",id:"\\u989C\\u8272",fill:"#999999",fillRule:"nonzero"}))))},Jr=r.forwardRef((function(e,t){return r.createElement(Kr,zr({svgRef:t},e))})),Qr=["svgRef","title"];function qr(){return qr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qr.apply(this,arguments)}function $r(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var eo,to,no=function(e){var t=e.svgRef,n=e.title,o=$r(e,Qr);return r.createElement("svg",qr({width:"32px",height:"32px",viewBox:"0 0 32 32",ref:t},o),void 0===n?Xr||(Xr=r.createElement("title",null,"图标/任务流/数字")):n?r.createElement("title",null,n):null,Yr||(Yr=r.createElement("g",{id:"\\u56FE\\u6807/\\u4EFB\\u52A1\\u6D41/\\u6570\\u5B57",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("path",{d:"M5.13333333,9.54366197 L5.13333333,27.6619718 L3,27.6619718 L3,4 L5.2,4 L12.2,22.1183099 L12.2,4 L14.3333333,4 L14.3333333,27.6619718 L12.1333333,27.6619718 L5.13333333,9.54366197 Z M23.3333333,7.53802817 C26.4666667,7.53802817 29,10.1070423 29,13.284507 L29,18.2535211 C29,21.4309859 26.4666667,24 23.3333333,24 C20.2333333,24 17.6666667,21.4309859 17.6666667,18.2535211 L17.6666667,13.284507 C17.6666667,10.1070423 20.2333333,7.53802817 23.3333333,7.53802817 Z M23.3333333,9.70140845 C21.4333333,9.70140845 19.8333333,11.2901408 19.8,13.2169014 L19.8,18.2535211 C19.8,20.2478873 21.4,21.8366197 23.3333333,21.8366197 C25.2666667,21.8366197 26.8666667,20.2478873 26.8666667,18.3211268 L26.8666667,13.284507 C26.8666667,11.2901408 25.3,9.70140845 23.3333333,9.70140845 Z M17.5,26 L29,26 L29,28 L17.5,28 L17.5,26 Z",id:"\\u5F62\\u72B6\\u7ED3\\u5408",fill:"#999999"}))))},ro=r.forwardRef((function(e,t){return r.createElement(no,qr({svgRef:t},e))})),oo=["svgRef","title"];function ao(){return ao=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ao.apply(this,arguments)}function io(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var lo=function(e){var t=e.svgRef,n=e.title,o=io(e,oo);return r.createElement("svg",ao({width:"32px",height:"32px",viewBox:"0 0 32 32",ref:t},o),void 0===n?eo||(eo=r.createElement("title",null,"图标/任务流/文本")):n?r.createElement("title",null,n):null,to||(to=r.createElement("g",{id:"\\u56FE\\u6807/\\u4EFB\\u52A1\\u6D41/\\u6587\\u672C",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("path",{d:"M28.425829,24.7932961 C29.3089005,24.7932961 30,25.4972067 30,26.396648 C30,27.2960894 29.3089005,28 28.425829,28 C27.5427574,28 26.8516579,27.2960894 26.8516579,26.396648 C26.8516579,25.4972067 27.5427574,24.7932961 28.425829,24.7932961 Z M28.2529817,11.6648045 L28.2529817,13.7094972 C28.086679,13.6759777 27.8871157,13.6759777 27.654292,13.6759777 C25.7251806,13.6759777 24.1619352,15.3854749 24.1286746,17.3631285 L24.1286746,27.6871508 L22,27.6871508 L22,12 L24.1286746,12 L24.1286746,13.7765363 C25.0932303,12.4692737 26.5566941,11.6648045 28.1864606,11.6648045 L28.2529817,11.6648045 Z M8.11993953,4 C11.4792542,4 14.2066185,6.7150838 14.2398791,10.0670391 L14.2398791,10.6703911 L12.1112044,10.6703911 L12.1112044,10.1675978 C12.1112044,7.95530726 10.3483958,6.1452514 8.11993953,6.1452514 C5.95800437,6.1452514 4.1951957,7.92178771 4.12867462,10.1005587 L4.12867462,10.6703911 C4.12867462,12.1452514 4.56106165,13.150838 5.35931463,13.8882682 C5.72518058,14.1899441 6.15756761,14.4916201 6.72299681,14.7597765 L6.78951789,14.7932961 C7.18864438,14.9944134 7.55451033,15.1284916 8.25298169,15.4301676 L8.85167143,15.6648045 C9.61666387,15.9664804 9.98252982,16.1340782 10.4481774,16.3687151 C11.1799093,16.7374302 11.8118596,17.1396648 12.3107677,17.6089385 C13.375105,18.547486 14.0070553,19.7541899 14.2066185,21.3296089 L14.2398791,21.3296089 L14.2398791,22.4022346 C13.9405342,25.5530726 11.3129515,28 8.11993953,28 C4.7606249,28 2,25.2513966 2,21.8324022 L2,21.3296089 L4.12867462,21.3296089 L4.12867462,21.8994413 C4.1951957,24.0782123 5.95800437,25.8547486 8.11993953,25.8547486 C10.2486141,25.8547486 12.0114228,24.1787709 12.1112044,22.0670391 C12.0779439,20.7597765 11.6455569,19.8882682 10.913825,19.1843575 C10.547959,18.8826816 10.115572,18.5810056 9.55014279,18.3128492 L9.4836217,18.2793296 C9.08449521,18.0782123 8.71862926,17.9441341 8.0201579,17.6424581 L7.42146817,17.4078212 C6.65647573,17.1061453 6.25734924,16.9385475 5.79170166,16.7039106 C5.05996976,16.3351955 4.46128003,15.9329609 3.96237191,15.4636872 C2.69847136,14.3240223 2.03326054,12.7821229 2,10.7374302 L2,10.1675978 C2,6.74860335 4.7606249,4 8.11993953,4 Z M18.3922392,7.75418994 L18.3922392,11.9441341 L20.6872165,11.9441341 L20.6872165,13.9553073 L18.3922392,13.9553073 L18.3922392,24.5810056 C18.3922392,25.2849162 18.9576684,25.8547486 19.6561398,25.8547486 L20.653956,25.8547486 L20.653956,28 L19.6561398,28 C17.82681,28 16.2968251,26.4916201 16.2635646,24.6480447 L16.2635646,13.9553073 L14.0351083,13.9553073 L14.0351083,11.9441341 L16.2635646,11.9441341 L16.2635646,7.75418994 L18.3922392,7.75418994 Z",id:"\\u8DEF\\u5F84-2",fill:"#999999"}))))},co=r.forwardRef((function(e,t){return r.createElement(lo,ao({svgRef:t},e))}));var uo=function(e){var t=e.type,n=e.className;return r.createElement(r.Fragment,null,function(){switch(t){case"String":case"text":return r.createElement(co,{className:"".concat(or," ").concat(n)});case"Integer":return r.createElement(ro,{className:"".concat(or," ").concat(n)});case"Array<Object>":case"Array<String>":case"Array<Integer>":return r.createElement(jr,{className:"".concat(or," ").concat(n)});case"DateTime":return r.createElement(Rr,{className:"".concat(or," ").concat(n)});case"url":case"iframe":return r.createElement(Jr,{className:"".concat(or," ").concat(n)});case"pic":return r.createElement(Wr,{className:"".concat(or," ").concat(n)});default:return r.createElement(E.A,{type:"warning",className:"".concat(or," ").concat(n)})}}())};function so(e){return so="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},so(e)}function fo(e,t,n){return t=function(e){var t=function(e,t){if("object"!=so(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=so(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==so(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return po(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return po(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function po(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vo(e){var t=e.infos,n=e.emptyText,o=e.noIcon,a=void 0!==o&&o,i=mo((0,r.useState)(!1),2),l=i[0],c=i[1],u=(0,r.useRef)(null),d=(0,r.useCallback)((function(e){return t.map((function(t,n){var o=""===t.name,i=t.name?t.name:"未定义";return r.createElement("span",{key:n,className:"".concat(nr," ").concat(o?rr:"")},a?null:r.createElement(uo,{className:"".concat(or),type:t.type}),r.createElement("span",{title:"ellipsis"===e?i:void 0,className:Q()(fo({},ar,a))},i))}))}),[t]),s=(0,r.memo)((function(){return r.createElement("div",{className:ir},r.createElement("div",null),r.createElement("div",null,r.createElement(vr.A,{className:lr,tip:r.createElement("div",{className:cr},d("ellipsis"))},r.createElement(wr,null))))}));return(0,r.useEffect)((function(){if(t.length){var e=u.current;if(e){var n=new ResizeObserver((function(){c(e.scrollWidth>e.clientWidth)}));return n.observe(e),function(){n.disconnect()}}}}),[t]),r.createElement("div",{className:er},t.length?r.createElement(r.Fragment,null,r.createElement("div",{className:"".concat(tr),ref:u},d()),l?r.createElement(s,null):null):r.createElement("div",{className:fr},n))}var yo=(0,r.memo)(vo);function go(e){var t=e.data,n=(e.selected,(0,r.useMemo)((function(){var e;return(null===(e=t.nodeData)||void 0===e?void 0:e.inputVarList)||[]}),[t.nodeData])),o=(0,r.useMemo)((function(){var e;return(null===(e=t.nodeData)||void 0===e?void 0:e.outputVarList)||[]}),[t.nodeData]);return r.createElement("div",{className:$n.nodeInfo},r.createElement(pr,{label:"输入"},r.createElement(yo,{infos:n,emptyText:"未配置输入"})),r.createElement(pr,{label:"输出"},r.createElement(yo,{infos:o,emptyText:"未配置输出"})))}var ho,bo,Eo=(0,r.memo)(go),Co=(n(55638),n(97)),wo=n(51885),Oo=n(52579),Ao=["svgRef","title"];function Lo(){return Lo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lo.apply(this,arguments)}function So(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var No=function(e){var t=e.svgRef,n=e.title,o=So(e,Ao);return r.createElement("svg",Lo({width:"32px",height:"32px",viewBox:"0 0 32 32",ref:t},o),void 0===n?ho||(ho=r.createElement("title",null,"0.全局样式/1.图标/4.基础面性图标/减少")):n?r.createElement("title",null,n):null,bo||(bo=r.createElement("g",{id:"0.\\u5168\\u5C40\\u6837\\u5F0F/1.\\u56FE\\u6807/4.\\u57FA\\u7840\\u9762\\u6027\\u56FE\\u6807/\\u51CF\\u5C11",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("path",{d:"M16,0 C24.836556,0 32,7.163444 32,16 C32,24.836556 24.836556,32 16,32 C7.163444,32 0,24.836556 0,16 C0,7.163444 7.163444,0 16,0 Z M23,14 L9,14 C8.44771525,14 8,14.4477153 8,15 L8,17 C8,17.5522847 8.44771525,18 9,18 L23,18 C23.5522847,18 24,17.5522847 24,17 L24,15 C24,14.4477153 23.5522847,14 23,14 Z",id:"\\u5F62\\u72B6\\u7ED3\\u5408",fill:"#666666"}))))},xo=r.forwardRef((function(e,t){return r.createElement(No,Lo({svgRef:t},e))})),jo="icon-index-BXgId";function Po(e,t){var n=e.className;return r.createElement("div",{className:Q()(jo,n),ref:t},r.createElement(E.A,{type:"menu"}))}var Io=r.forwardRef(Po),ko=n(50496),Fo=n.n(ko);function Do(e,t,n){switch(t){case"editNode":case"saveFlow":case"newNode":case"delNode":case"editFlow":case"init":e.invokeAsync(t,n)}}n(43816),n(21545),n(70895),n(82499),n(51303),n(2182),n(31475),n(1705),n(49331),n(99933),n(71323),n(48788),n(44453),n(37135),n(98592),n(7551),n(96038),n(89298),n(3402),n(50996),n(78546),n(80839),n(70963);var Mo=n(13446),Ro=n.n(Mo),To=n(74527),Ho=n.n(To);n(60965),n(21969),n(24941),n(89514),n(33995),n(31861),n(63469),n(28163),n(47469),n(66875),n(40486),n(3458),n(19928),n(36161);function Vo(e,t){try{var n=function(e){for(var t=new Map,n=new Map,r=0;r<e.length;r++){var o=e[r],a=o.data.nodeName;t.has(a)&&o.data.nodeType!==K.Hv.StartLoopAction&&o.data.nodeType!==K.Hv.StartParallelAction&&(n.set(e[r].id,"node"),n.set(t.get(e[r].data.nodeName),"node")),t.set(a,e[r].id)}var i=Array.from(n).map((function(e){return{id:e[0],type:e[1],errInfo:K.oM.SAME_NAME}}));return{hasErr:i.length>0,errIdList:i}}(e);if(n.hasErr)return n;var r=function(e,t){var n=!1,r=[],o=!1,a=!1,i=!1;function l(a,i){if(a){var c=i.findIndex((function(e){return e===a.id}));if(-1!==c)return n=!0,void(r=r.concat(i.slice(c,i.length).map((function(e){return{errInfo:K.oM.RING,type:"node",id:e}}))));if(!n&&!o){var u=i.concat(a.id),d=t.filter((function(e){return e.source===a.id})).map((function(t){return e.find((function(e){return e.id===t.target}))}));if(0===d.length&&a.data.nodeType!==K.Hv.Output)return o=!0,void(r=r.concat({errInfo:K.oM.NOT_LINK_OUTPUT,type:"node",id:a.id}));d.forEach((function(e){l(e,u)}))}}}for(var c=e.find((function(e){return e.data.nodeType===K.Hv.Input})),u=[],d=function(n){if(e[n].data.nodeType===K.Hv.Input){if(!t.find((function(t){return t.source===e[n].id})))return a=!0,r.push({errInfo:K.oM.DISCRETE,type:"node",id:e[n].id}),0}else if(e[n].data.nodeType===K.Hv.Output){if(!t.find((function(t){return t.target===e[n].id})))return a=!0,r.push({errInfo:K.oM.DISCRETE,type:"node",id:e[n].id}),0}else{if(!t.find((function(t){return t.source===e[n].id}))&&!t.find((function(t){return t.target===e[n].id}))&&e[n].data.nodeType!==K.Hv.StartLoopAction&&e[n].data.nodeType!==K.Hv.StartParallelAction)return a=!0,r.push({errInfo:K.oM.DISCRETE,type:"node",id:e[n].id}),0;if(!(e[n].parentNode||t.find((function(t){return t.source===e[n].id}))&&t.find((function(t){return t.target===e[n].id}))))return i=!0,r.push({errInfo:K.oM.UNCLOSE,type:"node",id:e[n].id}),0;e[n].parentNode&&e[n].data.nodeType!==K.Hv.StartLoopAction&&e[n].data.nodeType!==K.Hv.StartParallelAction&&!t.find((function(t){return t.target===e[n].id}))&&(i=!0,r.push({errInfo:K.oM.UNCLOSE,type:"node",id:e[n].id}))}},s=0;s<e.length;s++)d(s);return l(c,u),{hasErr:n||o||a||i,errIdList:r}}(e,t);return r.hasErr?r:{hasErr:!1,errIdList:[]}}catch(e){return{hasErr:!1,errIdList:[]}}}var _o=n(30095);n(34258);function Bo(e){return!(function(e){return null===e}(e)||function(e){return void 0===e}(e)||function(e){return Number.isNaN(e)}(e))}var Uo=n(77764);function Wo(e){return Wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wo(e)}function Zo(){Zo=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var a=t&&t.prototype instanceof g?t:g,i=Object.create(a.prototype),l=new P(r||[]);return o(i,"_invoke",{value:S(e,n,l)}),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var f="suspendedStart",m="suspendedYield",p="executing",v="completed",y={};function g(){}function h(){}function b(){}var E={};u(E,i,(function(){return this}));var C=Object.getPrototypeOf,w=C&&C(C(I([])));w&&w!==n&&r.call(w,i)&&(E=w);var O=b.prototype=g.prototype=Object.create(E);function A(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function L(e,t){function n(o,a,i,l){var c=s(e[o],e,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==Wo(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function S(t,n,r){var o=f;return function(a,i){if(o===p)throw new Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var u=s(t,n,r);if("normal"===u.type){if(o=r.done?v:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=v,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=s(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function I(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(Wo(t)+" is not iterable")}return h.prototype=b,o(O,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:h,configurable:!0}),h.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},A(L.prototype),u(L.prototype,l,(function(){return this})),t.AsyncIterator=L,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new L(d(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},A(O),u(O,c,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=I,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return l.type="throw",l.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],l=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:I(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function zo(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function Go(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){zo(a,r,o,i,l,"next",e)}function l(e){zo(a,r,o,i,l,"throw",e)}i(void 0)}))}}function Xo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xo(Object(n),!0).forEach((function(t){Ko(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ko(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Wo(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Wo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Wo(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jo(){var e=(0,h.PI)();return{resetErrCode:function(){var t=e.getState(),n=t.getNodes,r=t.setNodes,o=t.edges,a=t.setEdges,i=n(),l=(0,B.jM)(i,(function(e){e.forEach((function(e){var t=e.data;t.hasErr=!1,t.errInfo=[]}))})),c=(0,B.jM)(o,(function(e){e.forEach((function(e){var t=e.selected,n=(0,_o.bi)(e.markerEnd,e.style,!1,t),r=n.markerEnd,o=n.style;e.markerEnd=r,e.style=o,e.data=Yo(Yo({},e.data),{},{hasErr:!1,errInfo:[]})}))}));r(l),a(c)},setErrCode:function(t){var n=e.getState(),r=n.getNodes,o=n.setNodes,a=n.edges,i=n.setEdges,l=r(),c=(0,B.jM)(l,(function(e){e.forEach((function(e){var n=t.errIdList.find((function(t){return t.id===e.id&&"node"===t.type}));n&&(e.data=Yo(Yo({},e.data),{},{hasErr:!0,errInfo:e.data.errInfo.concat(n.errInfo)}))}))})),u=(0,B.jM)(a,(function(e){e.forEach((function(e){var n=t.errIdList.find((function(t){return t.id===e.id&&"edge"===t.type}));if(n){var r=e.data;if(r){var o=(0,_o.bi)(e.markerEnd,e.style,!0,e.selected),a=o.markerEnd,i=o.style;e.markerEnd=a,e.style=i,e.data=Yo(Yo({},r),{},{hasErr:!0,errInfo:r.errInfo.concat(n.errInfo)})}}}))}));o(c),i(u)}}}function Qo(e,t){var n=new(Ro().graphlib.Graph);n.setDefaultEdgeLabel((function(){return{}}));var r=Ho()(e).filter((function(e){return!e.parentNode})),o=Ho()(t).filter((function(e){var t;return!(null!==(t=e.data)&&void 0!==t&&t.isInIteration)}));return n.setGraph({rankdir:"TB",align:"UL",nodesep:120,ranksep:60,ranker:"tight-tree",marginx:200,marginy:30}),r.forEach((function(e){n.setNode(e.id,{width:e.width,height:e.height})})),o.forEach((function(e){n.setEdge(e.source,e.target)})),Ro().layout(n),n}function qo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ea=Fo()((function(e){e()}),5e3);function ta(){var e,t=(0,h.PI)(),n=(Jo().setErrCode,g((function(e){return{model:e.model}})).model),o=(e=(0,h.VH)(),{handleUpdateWorkflowCanvas:(0,r.useCallback)((function(t){t.nodes,t.edges;var n=t.viewport;(0,e.setViewport)(n)}),[e]),handleRefreshWorkflowDraft:(0,r.useCallback)((function(){}),[])}).handleRefreshWorkflowDraft,a=(0,r.useCallback)((function(){var e=t.getState(),n=e.getNodes,r=(e.edges,qo(e.transform,3));r[0],r[1],r[2],n()}),[t]),i=(0,r.useCallback)((function(){a()}),[a]),l=(0,r.useCallback)((function(e){var t=a();t&&n&&Do(n,"saveFlow",t)}),[a,o]),c=(0,r.useCallback)((function(e,t){e?l(t):ea(l)}),[l]);return{doSyncWorkflowDraft:l,handleSyncWorkflowDraft:c,syncWorkflowDraftWhenPageClose:i}}function na(e){return na="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},na(e)}function ra(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ra(Object(n),!0).forEach((function(t){aa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ra(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function aa(e,t,n){return t=function(e){var t=function(e,t){if("object"!=na(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=na(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==na(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ia(){var e=(0,h.PI)(),t=ta().handleSyncWorkflowDraft,n=(0,r.useCallback)((function(t){var n=t.id,r=t.data,o=e.getState(),a=o.getNodes,i=o.setNodes,l=(0,B.jM)(a(),(function(e){var t=e.find((function(e){return e.id===n}));t&&(t.data=oa(oa({},t.data),r)),r.nodeData&&(t.data.nodeData=oa(oa({},t.data.nodeData),r.nodeData))}));i(l)}),[e]),o=(0,r.useCallback)((function(e){n(e),t()}),[t,n]);return{handleNodeDataUpdate:n,handleNodeDataUpdateWithSyncDraft:o}}var la=n(13827),ca="collapseWrap-index-vid6E",ua="content-index-bk5Ce";function da(e){var t=e.children,n=e.title,o=e.className,a=void 0===o?"":o;return r.createElement("div",{className:"".concat(ca," ").concat(a)},r.createElement(la.A,{accordion:!0,defaultActiveKey:["collapse1"]},r.createElement(la.A.Panel,{header:n,panelKey:"collapse1"},r.createElement("div",{className:ua},t))))}var sa=(0,r.memo)(da),fa="formItem-index-BrnVu",ma="isVertical-index-ZOm1p",pa="labelWrap-index-YCAdR",va="inputWrap-index-hdc0D",ya="inputContent-index-Q_JC4",ga="label-index-TEn1x",ha="require-index-LKBBG",ba="tips-index-uWdFh",Ea="hasError-index-Q0ZNt",Ca="errorInfo-index-QZJ7d",wa="tooltip-index-Lvxrw";function Oa(e){return Oa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oa(e)}function Aa(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Oa(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Oa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Oa(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function La(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Sa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sa(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Na=[{name:"Radio",propName:"checked"},{name:"Checkbox",propName:"checked"},{name:"Switch",propName:"checked"},{name:"Upload",propName:"fileList"},{name:"Transfer",propName:"targetKeys"}],xa=["value","checked"];function ja(e){var t,n=e.label,o=e.children,a=e.style,i=e.isRequire,l=e.requireMsg,c=e.className,u=void 0===c?"":c,d=e.labelClass,s=e.labelStyle,f=e.inputClass,m=e.labelTips,p=e.name,v=e.contentStyle,y=e.layout,h=void 0===y?"horizontal":y,b=e.errorMsg,C=(g((function(e){return{isLock:e.isLock}})).isLock,La((0,r.useState)(""),2)),w=C[0],O=C[1],A=!(!b&&!w),L=null,S="value",N=function(e){var t=[];return r.Children.forEach(e,(function(e){t.push(e)})),t}(o);N.length&&(L=N[0]);var x=null===(t=L)||void 0===t||null===(t=t.type)||void 0===t?void 0:t.displayName;if(x){var j=Na.filter((function(e){return x===e.name}));j.length&&(S=j[0].propName)}var P=function(e){if(!e)return{};var t=e.props.onChange,n={onChange:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if("RadioGroup"===x&&n)t=n[1];else if(e&&Object.prototype.hasOwnProperty.call(e,"target")&&xa.includes(S)){var r;t=null===(r=e.target)||void 0===r?void 0:r[S]}else t=e;return t}(n[0],n);O(!o&&i&&l?l:""),"function"==typeof t&&t.apply(void 0,n)}};return n},I=(0,r.useCallback)((function(){return(0,r.isValidElement)(o)?r.cloneElement(o,P(o)):o}),[o]);return r.createElement("div",{className:Q()(u,fa,Aa({},ma,"vertical"===h)),"data-name":p,style:a},r.createElement("div",{className:Q()(pa,d),style:s},r.createElement("label",{className:"".concat(i?ha:""," ").concat(ga)},n,m?r.createElement(vr.A,{tip:m,className:wa},r.createElement(E.A,{type:"tips",className:ba})):null)),r.createElement("div",{className:Q()(va,f,Aa({},Ea,A)),style:v},r.createElement("div",{className:ya},I()),A?r.createElement("div",{className:Ca},b||w):null))}var Pa=(0,r.memo)(ja);function Ia(e){return Ia="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ia(e)}function ka(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ka(Object(n),!0).forEach((function(t){Da(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ka(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Da(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Ia(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ia(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ia(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ma=Co.Ay.Option;function Ra(e){var t=ia().handleNodeDataUpdate,n=e.node,o=n.data,a=void 0===o?{}:o,i=a.nodeName,l=a.nodeData,c=(l.outputVarList,l.inputVarList),u=void 0===c?[]:c,d=function(e,r){var o=n.data,a=r.split("."),i=(0,B.jM)(o,(function(t){1===a.length?t[a[0]]=e:2===a.length&&(t[a[0]][a[1]]=e)}));t({id:n.id,data:i})},s=function(e){var t=e.val,n=e.key,r=e.id,o=(0,B.jM)(u,(function(e){e.find((function(e){return e._id===r}))[n]=t}));d(o,"nodeData.inputVarList")};return r.createElement("div",{className:$n.panel},r.createElement(sa,{title:"输入",className:$n.inputVarCollapse},r.createElement("div",{className:$n.inputVar},r.createElement("div",{className:$n.header},r.createElement("div",{className:$n.col1},"变量名"),r.createElement("div",{className:$n.col2},"变量类型"),r.createElement("div",{className:$n.col3},"描述"),r.createElement("div",{className:$n.col4})),r.createElement("div",{className:$n.list},r.createElement(wo.ReactSortable,{list:u.map((function(e){return Fa(Fa({},e),{},{id:e._id})})),setList:function(e){return function(e){t({id:n.id,data:{nodeData:{inputVarList:e.map((function(e){return{_id:e._id,desc:e.desc,name:e.name,type:e.type,value:e.value,isInput:e.isInput}}))}}})}(e)},handle:".gai-flow-drag-handle"},u.map((function(e){var o=e._id,a=e.desc,i=(e.isInput,e.name),l=e.type;return r.createElement("div",{key:o,className:$n.line},u.length>1?r.createElement(Io,{className:"".concat($n.handle," gai-flow-drag-handle")}):null,r.createElement("div",{className:$n.col1},r.createElement(jn.Ay,{value:i,onChange:function(e){return s({val:e.target.value,key:"name",id:o})}})),r.createElement("div",{className:$n.col2},r.createElement(Co.Ay,{value:l,onChange:function(e){return s({val:e,key:"type",id:o})}},r.createElement(Ma,{value:1},"等于"),r.createElement(Ma,{value:2},"大于"))),r.createElement("div",{className:$n.col3},r.createElement(jn.Ay,{value:a,onChange:function(e){return s({val:e.target.value,key:"desc",id:o})}})),r.createElement("div",{className:$n.col4},r.createElement(xo,{className:$n.reduceIcon,onClick:function(){return e=o,r=(0,B.jM)(u,(function(t){var n=t.findIndex((function(t){return t._id===e}));t.splice(n,1)})),void t({id:n.id,data:{nodeData:{inputVarList:r}}});var e,r}})))})))),r.createElement(Nn.A,{type:"primary",ghost:!0,className:$n.addAction,icon:r.createElement(E.A,{type:"add"}),onClick:function(){return e=(0,B.jM)(u,(function(e){e.push({_id:(0,Oo.A)()})})),void t({id:n.id,data:{nodeData:{inputVarList:e}}});var e}},"添加"))),r.createElement(sa,{title:"接口配置"},r.createElement(Pa,{isRequire:!0,label:"应用",name:"name"},r.createElement(jn.Ay,{readOnly:!0,value:i,className:$n.search,onClick:function(){},suffix:r.createElement(E.A,{type:"search"})})),r.createElement(Pa,{isRequire:!0,label:"类名",name:"desc"},r.createElement(jn.Ay,{value:i,onChange:function(e){return d(e,"nodeName")}})),r.createElement(Pa,{isRequire:!0,label:"操作名称",name:"desc"},r.createElement(jn.Ay,{value:i,onChange:function(e){return d(e,"nodeName")}}))),r.createElement(sa,{title:"输出"},"//"))}var Ta=(0,r.memo)(Ra),Ha={nodeInfo:"nodeInfo-index-UdM0E"},Va=["system.user_input","system.chat_history","system.chat_sessionid","system.chat_environment"];function _a(e){var t=e.data,n=(e.selected,(0,r.useMemo)((function(){var e;return(null===(e=t.nodeData.inputVars)||void 0===e?void 0:e.filter((function(e){return!Va.includes(e.name)})))||[]}),[t.nodeData]));return r.createElement("div",{className:Ha.nodeInfo},r.createElement(pr,{label:"输入"},r.createElement(yo,{infos:n,emptyText:"未配置输入"})))}var Ba=(0,r.memo)(_a);function Ua(e){var t=ia().handleNodeDataUpdate,n=e.node,o=function(e,r){var o=e.target.value,a=n.data,i=r.split("."),l=(0,B.jM)(a,(function(e){1===i.length?e[i[0]]=o:2===i.length&&(e[i[0]][i[1]]=o)}));t({id:n.id,data:l})};return r.createElement("div",{className:Ha.panel},r.createElement(sa,{title:"基本信息"},r.createElement(Pa,{isRequire:!0,label:"名称",name:"name"},r.createElement(jn.Ay,{value:n.data.nodeName,onChange:function(e){return o(e,"nodeName")}})),r.createElement(Pa,{label:"说明",name:"desc"},r.createElement(jn.Ay,{value:n.data.nodeData.desc,onChange:function(e){return o(e,"nodeData.desc")}}))),r.createElement(sa,{title:"输入"},"1"))}var Wa=(0,r.memo)(Ua),Za="wrapper-index-ncqLu",za="content-index-X8cLh",Ga="icon-index-Vj_Jw";function Xa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ya(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ya(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ya(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ka(e){var t,n=e.data,o=e.id,a=n.edges,i=Xa((0,r.useState)(!1),2),l=i[0],c=i[1];return r.createElement("div",{className:Za,onMouseEnter:function(){return c(!0)},onMouseLeave:function(){return c(!1)}},r.createElement("div",{className:za},r.createElement("span",{className:Ga},r.createElement(rn,{bgColor:"#5582F3"},r.createElement(vt,null))),r.createElement("span",null,"开始")),r.createElement(ge,{id:"bottom",nodeId:o,connected:!(null==a||null===(t=a.bottom)||void 0===t||!t.length),showHandle:l,position:h.yX.Bottom}))}var Ja=(0,r.memo)(Ka),Qa="wrapper-index-dNV5i",qa="content-index-NGUGP",$a="icon-index-LbLPx";function ei(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ti(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ti(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ti(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ni(e){var t,n=e.data,o=e.id,a=n.edges,i=ei((0,r.useState)(!1),2),l=i[0],c=i[1];return r.createElement("div",{className:Qa,onMouseEnter:function(){return c(!0)},onMouseLeave:function(){return c(!1)}},r.createElement("div",{className:qa},r.createElement("span",{className:$a},r.createElement(rn,{bgColor:"#5582F3"},r.createElement(vt,null))),r.createElement("span",null,"开始")),r.createElement(ge,{id:"bottom",nodeId:o,connected:!(null==a||null===(t=a.bottom)||void 0===t||!t.length),showHandle:l,position:h.yX.Bottom}))}var ri=(0,r.memo)(ni),oi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAKKADAAQAAAABAAAAKAAAAAB65masAAAEdElEQVRYCc1Zb2wURRT/7d5xB0cL7V2vLVJbqWKt1FahYKJJAw1W8IPBREgwhhgkMdVEIiYaY2JICMaYgDFGSVBJVBKUfgTRFCiYoCZY1BSpEMIBlRbo9Q9tr23u2tt13tTbdNfdnd2lvfYl15158+a937zZN2/2VYKB1rS8sUxVlW0q1AYJKGXDOQaRqe4mVKBDgtQsSfIXp+o/ujDZAMMwQRsP7wzEC/r2qioaGVPO8LP5ZEAVScK+aE94R9OmnSmyzQESuO5I/w8S1PpsArKypUJqKezNX08guafIc7MF3ITX1HrCxNv0zilqum2mttXai1BkyVctU0DMNnATXgTHJlO0Wq1ipvmETWbeo6NkVhJh8zNktuecX/Zh65Jn0LBoFV9E882zOHD1GMaVdDYWlUMAbYnAbS5bq8lk2vuvHNF409kQHsgZz00GYcabPG7WZpkCDcUr0fjABtSGHzITMeUJPWg2yy/5zNi2vMalG7Dx3tVcZlPpGuxu/wYnbrXazqFBoQfpnTPSmXibkSXsr/vvHc4IriueeKczfaunECAFxKHrJ9CbGkTXaA9a+y6irrAGJaFCK52m/IFUQsfvTw3p+lYd4RZTtFJAZIKC3qX3ql7CBzWv4NXWvRgcG7bSrfGD8hx0J+9oi+pkC6WFOyFp9cnX2SXCHQV9AXyyfDtG00m807Yfa4tW4LH8pSgILkRPcgA/df+J0+xHtGheBLseeZm3328/iJQyzndCURXOE/3xBJCURoN52LfyTeT65yHAPGSkX3r+Qsvt37G94nmciZ/Hx5eakFTGjGLCvnCLrTQMjY8grSim4GjOEwVV/Lfn4rc42vWrlRohXxgkVhpeLGtA4dw8q2GNPzA2orW9NDwDrI1UOLJXF612JGcl5BlgaajISqeOXzQ3rOu77XgGGGfHhhPqH3N23lnp8gzw/J2YlU4d/1zfJV3fbcczwK+v/ejo2LiS6HSLSSfvGeCS+fewRC5Z3gtvjMTR9M9p7Hn0NTy7+EnNaCSwAPRzSp7OwVWRSp4dPo8d5Vljy31PoybvfoRZJrma6MIf/Zdx8PpxJNMpnO1tx7vLtrBM8yAWzAlhOXsS0dbvuvAVBgSp0nUmobvc7upt+DL2PQ53nHLkCMo6n9Xu4Klw8gS6btG1y46EHpzPUtnW8vUoCxXjcuIGniupw4HYMcfgyDhFfND3/3T4eMHDdtj4mBDgW5WbURet4cIrwhU4efscvutoESo2CgyyjJLrD+nYxBORMEiM1/P8QK5Ip+m42aLMeMbJQg/G2DFRtbBcm3dt+KbWdtM40vkzhlhAPMW+S4iO3/pNu5LZ6REGSUkoircrX0B5zmJ+m/7w70MYHh+10zmlYwSQcpHtt/GUWnSnLMFKH+hwNyd70oSNlT6k5uyZdGeJsMlUdmVInX0guNN/V9KEibDJVBOmsutdaZuGyYSJsPFzkGrCVHadBjueVBIWwkSTOUCqBVNNmF1OPp3J7ea2GYZMfZoAshKcnmbbvyH+Bf4jf7/TeQQyAAAAAElFTkSuQmCC",ai={nodeInfo:"nodeInfo-index-FjTjF",text:"text-index-ddnII",panel:"panel-index-ERObN",search:"search-index-wYsQ4",collapseTitleTipsIcon:"collapseTitleTipsIcon-index-bmmRT",header:"header-index-thsc1",list:"list-index-Yr0ge",line:"line-index-_vm0j",col1:"col1-index-sX7an",col2:"col2-index-nWIRx"};var ii=function(e){var t=e.img,n=e.text,o=e.emptyText;return r.createElement(r.Fragment,null,n?r.createElement("div",{className:"".concat(sr)},r.createElement("img",{src:t}),r.createElement("span",{title:n},n)):r.createElement("div",{className:fr},o))};function li(e){var t,n=e.data,o=(e.selected,(0,r.useMemo)((function(){var e;return(null===(e=n.nodeData)||void 0===e?void 0:e.inputVarList)||[]}),[n.nodeData])),a=(0,r.useMemo)((function(){var e;return(null===(e=n.nodeData)||void 0===e?void 0:e.outputVarList)||[]}),[n.nodeData]);return r.createElement("div",{className:ai.nodeInfo},r.createElement(pr,{label:"输入"},r.createElement(yo,{infos:o,emptyText:"未配置输入"})),r.createElement(pr,{label:"输出"},r.createElement(yo,{infos:a,emptyText:"未配置输出"})),r.createElement(pr,{label:"模型"},r.createElement(ii,{img:oi,text:null===(t=n.nodeData)||void 0===t?void 0:t.llmPromptLLM,emptyText:"未配置模型"})))}var ci=(0,r.memo)(li),ui=n(39583);function di(e){var t=ia().handleNodeDataUpdate,n=e.node,o=n.data,a=void 0===o?{}:o,i=a.nodeName,l=a.outputVarList,c=void 0===l?[{id:"1",name:"outputVarListoutputVarListoutputVarListoutputVarListoutputVarList",type:"typetypetypetypetypetype"},{id:"2",name:"outputVarList",type:"type"}]:l,u=(a.inputVarList,function(e,r){var o=n.data,a=r.split("."),i=(0,B.jM)(o,(function(t){1===a.length?t[a[0]]=e:2===a.length&&(t[a[0]][a[1]]=e)}));t({id:n.id,data:i})});return r.createElement("div",{className:ai.panel},r.createElement(sa,{title:"模型"},r.createElement(Pa,{isRequire:!0,label:"使用模型",name:"name"},r.createElement(jn.Ay,{readOnly:!0,value:i,className:ai.search,onClick:function(){},suffix:r.createElement(E.A,{type:"search"})})),r.createElement(Pa,{label:"消息展示",name:"desc",labelTips:"打开开关后，可将输出变量直接流式展示在侧边栏的智能助手对话流程中。"},r.createElement(ui.A,{onChange:function(e){return u(e,"nodeName")}})),r.createElement(Pa,{label:"合并展示",name:"desc",labelTips:r.createElement(r.Fragment,null,r.createElement("div",null,"开启后，可将本节点生成内容合并展示在上个消息节点中，生成内容不会再单独展示。"),r.createElement("div",null,"注意：需开启【消息展示】开关，上个节点是消息节点时合并才会生效。"))},r.createElement(ui.A,{onChange:function(e){return u(e,"nodeName")}}))),r.createElement(sa,{title:"输入"},r.createElement(Pa,{isRequire:!0,label:"用户输入来源",name:"name",labelStyle:{width:"90px"},errorMsg:"用户输入来源用户输入来源用户输入来源",labelTips:r.createElement(r.Fragment,null,r.createElement("div",null,"选择语言模型的用户输入来源；"),r.createElement("div",null,"默认选择“用户输入”选项，此选项表示，会将终端用户在侧边栏输入框中输入的内容发送给语言模型，可根据实际需要变更来源。"))},r.createElement(Co.Ay,{onChange:function(e){return u(e,"nodeName")}})),r.createElement(Pa,{label:"动态知识库",name:"desc",labelStyle:{width:"90px"},labelTips:r.createElement(r.Fragment,null,"支持通过自定义操作输出变量传入知识库ID列表。知识库ID列表需选择文本类型输出，并使用逗号连接知识库ID。形如：“1820341804784956416,1820341838096117760,18203418570208184320”。")},r.createElement(Co.Ay,{onChange:function(e){return u(e,"nodeName")}}))),r.createElement(sa,{title:r.createElement(r.Fragment,null,r.createElement("span",null,"输出"),r.createElement(vr.A,{tip:"从对应GPT提示的输出变量中获取。"},r.createElement(E.A,{type:"tips",className:ai.collapseTitleTipsIcon})))},r.createElement("div",{className:ai.output},r.createElement("div",{className:ai.header},r.createElement("div",{className:ai.col1},"参数"),r.createElement("div",{className:ai.col2},"参数类型")),r.createElement("div",{className:ai.list},c.map((function(e){return r.createElement("div",{key:e.id,className:ai.line},r.createElement("div",{className:Q()(ai.col1),title:e.name},e.name),r.createElement("div",{className:Q()(ai.col2),title:e.type},e.type))}))))))}var si=(0,r.memo)(di),fi=n(53673),mi="wrap-index-wvDje",pi="iter-index-DbC1V";function vi(e){var t=e.id,n=(e.data,e.selected,(0,h.kW)().zoom),o=g((function(e){return{flowId:e.flowId}})).flowId;return r.createElement("div",{className:mi},r.createElement("div",{className:pi},r.createElement(fi.V,{id:"_".concat(o,"_gai_flow_iter_").concat(t),gap:[20/n,20/n],size:1/n,color:"#999999",style:{backgroundColor:"#f5f5f5"}})))}var yi=(0,r.memo)(vi);function gi(){return r.createElement("div",null,"LoopPanel")}var hi=(0,r.memo)(gi);function bi(e){e.data,e.selected;return r.createElement(r.Fragment,null)}var Ei=(0,r.memo)(bi);function Ci(){return r.createElement("div",null,"SetVariableActionPanel")}var wi=(0,r.memo)(Ci);function Oi(e){e.data,e.selected;return r.createElement(r.Fragment,null)}var Ai=(0,r.memo)(Oi),Li={nodeText:"nodeText-index-puqAy",panel:"panel-index-GmFm8",collapseTitleTipsIcon:"collapseTitleTipsIcon-index-tCqMQ",viewCollapse:"viewCollapse-index-x_gm2",inputVar:"inputVar-index-XFGaV",header:"header-index-UGFFL",line:"line-index-x7aAq",handle:"handle-index-NWPuZ",col1:"col1-index-FKLhz",col2:"col2-index-P4jyJ",col3:"col3-index-lzw1H",col4:"col4-index-yZEWY",addAction:"addAction-index-g1Ari",updateWrap:"updateWrap-index-SQr63",switchWrap:"switchWrap-index-v56os",remark:"remark-index-Nm4Mv",tooltip:"tooltip-index-Apl5V"};function Si(e){return Si="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Si(e)}function Ni(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ni(Object(n),!0).forEach((function(t){ji(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ni(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ji(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Si(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Si(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Si(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pi=Co.Ay.Option;function Ii(e){var t=ia().handleNodeDataUpdate,n=e.node,o=n.data,a=void 0===o?{}:o,i=(a.nodeName,a.nodeData.inputVarList),l=void 0===i?[{_id:"111",desc:"",isInput:!1,name:"string",type:"string",value:"string"},{_id:"222",desc:"",isInput:!1,name:"string11",type:"string1",value:"string111"}]:i,c=function(e,r){var o=n.data,a=r.split("."),i=(0,B.jM)(o,(function(t){1===a.length?t[a[0]]=e:2===a.length&&(t[a[0]][a[1]]=e)}));t({id:n.id,data:i})},u=function(e){var t=e.val,n=e.key,r=e.id,o=(0,B.jM)(l,(function(e){e.find((function(e){return e._id===r}))[n]=t}));c(o,"nodeData.inputVarList")};return r.createElement("div",{className:Li.panel},r.createElement(sa,{title:r.createElement(r.Fragment,null,r.createElement("span",null,"展示配置"),r.createElement(vr.A,{className:Li.tooltip,tip:r.createElement(r.Fragment,null,r.createElement("div",null,"默认按列表中顺序显示，若需要调整顺序，可点击”上移”、“下移”进行调整。"),r.createElement("div",null,"支持展示文本、链接、图片及iframe框架信息。"),r.createElement("div",null,"注意，文字类信息没有流式生成效果，若需要流式文字效果，请通过配置GPT提示节点实现。"))},r.createElement(E.A,{type:"tips",className:Li.collapseTitleTipsIcon}))),className:Li.viewCollapse},r.createElement("div",{className:Li.inputVar},r.createElement("div",{className:Li.header},r.createElement("div",{className:Li.col1},"参数类型"),r.createElement("div",{className:Li.col2},"来源"),r.createElement("div",{className:Li.col3},"用户输入"),r.createElement("div",{className:Li.col4})),r.createElement("div",{className:Li.list},r.createElement(wo.ReactSortable,{list:l.map((function(e){return xi(xi({},e),{},{id:e._id})})),setList:function(e){return function(e){t({id:n.id,data:{nodeData:{inputVarList:e.map((function(e){return{_id:e._id,desc:e.desc,name:e.name,type:e.type,value:e.value,isInput:e.isInput}}))}}})}(e)},handle:".gai-flow-drag-handle"},l.map((function(e){var o=e._id,a=e.desc,i=(e.isInput,e.name,e.type);return r.createElement("div",{key:o,className:Li.line},l.length>1?r.createElement(Io,{className:"".concat(Li.handle," gai-flow-drag-handle")}):null,r.createElement("div",{className:Li.col1},r.createElement(Co.Ay,{value:i,onChange:function(e){return u({val:e,key:"type",id:o})}},r.createElement(Pi,{value:1},"等于"),r.createElement(Pi,{value:2},"大于"))),r.createElement("div",{className:Li.col2},r.createElement(Co.Ay,{value:i,onChange:function(e){return u({val:e,key:"type",id:o})}},r.createElement(Pi,{value:1},"等于"),r.createElement(Pi,{value:2},"大于"))),r.createElement("div",{className:Li.col3},r.createElement(jn.Ay,{value:a,onChange:function(e){return u({val:e.target.value,key:"desc",id:o})}})),r.createElement("div",{className:Li.col4},r.createElement(xo,{className:Li.reduceIcon,onClick:function(){return e=o,r=(0,B.jM)(l,(function(t){var n=t.findIndex((function(t){return t._id===e}));t.splice(n,1)})),void t({id:n.id,data:{nodeData:{inputVarList:r}}});var e,r}})))})))),r.createElement(Nn.A,{type:"primary",ghost:!0,className:Li.addAction,icon:r.createElement(E.A,{type:"add"}),onClick:function(){return e=(0,B.jM)(l,(function(e){e.push({_id:(0,Oo.A)()})})),void t({id:n.id,data:{nodeData:{inputVarList:e}}});var e}},"添加"))),r.createElement(sa,{title:"更新"},r.createElement(Pa,{label:"更新上一条消息",name:"update",labelStyle:{width:"88px"},style:{height:"auto"}},r.createElement("div",{className:Li.updateWrap},r.createElement("div",{className:Li.switchWrap},r.createElement(ui.A,{onChange:function(e){return c(e,"update")}})),r.createElement("div",{className:Li.remark},"勾选后，可将本消息内容替换展示到上一个消息节点，若前置节点中没有消息节点不会生效。")))))}var ki=(0,r.memo)(Ii),Fi="nodeInfo-index-W3wj3";function Di(e){var t=e.data,n=(e.selected,(0,r.useMemo)((function(){return t.nodeData.outputVars||[]}),[t.nodeData]));return r.createElement("div",{className:Fi},r.createElement(pr,{label:"输出"},r.createElement(yo,{infos:n,emptyText:"未配置输出"})))}var Mi=(0,r.memo)(Di);function Ri(){return r.createElement("div",null,"OutputPanel")}var Ti=(0,r.memo)(Ri),Hi={nodeInfo:"nodeInfo-index-ORPQj",text:"text-index-J7GL0",panel:"panel-index-EVcUs",collapseTitleTipsIcon:"collapseTitleTipsIcon-index-YUsPK",header:"header-index-y7UZT",list:"list-index-PgVBq",line:"line-index-yu__B",col1:"col1-index-KQV2z",col2:"col2-index-Qeyzf",input:"input-index-FKfnv",col3:"col3-index-COkHj",output:"output-index-xAC_m"};function Vi(e){var t=e.data,n=(e.selected,(0,r.useMemo)((function(){var e;return(null===(e=t.nodeData)||void 0===e?void 0:e.inputVarList)||[]}),[t.nodeData])),o=(0,r.useMemo)((function(){var e;return(null===(e=t.nodeData)||void 0===e?void 0:e.outputVarList)||[]}),[t.nodeData]),a=(0,r.useMemo)((function(){var e;return(null===(e=t.nodeData)||void 0===e||null===(e=e.repoName)||void 0===e?void 0:e.map((function(e){return{name:e}})))||[]}),[t.nodeData]);return r.createElement("div",{className:Hi.nodeInfo},r.createElement(pr,{label:"输入"},r.createElement(yo,{infos:n,emptyText:"未配置输入"})),r.createElement(pr,{label:"输出"},r.createElement(yo,{infos:o,emptyText:"未配置输出"})),r.createElement(pr,{label:"知识库"},r.createElement(yo,{noIcon:!0,infos:a,emptyText:"未配置知识库"})))}var _i=(0,r.memo)(Vi),Bi=n(98084),Ui=[{text:"向量检索",id:"1"},{text:"全文检索",id:"2"},{text:"混合检索",id:"3"}],Wi=Co.Ay.Option;function Zi(e){var t=ia().handleNodeDataUpdate,n=e.node,o=n.data,a=void 0===o?{}:o,i=(a.nodeName,a.outputVarList),l=void 0===i?[{id:"1",name:"outputVarListoutputVarListoutputVarListoutputVarListoutputVarList",type:"typetypetypetypetypetype"},{id:"2",name:"outputVarList",type:"type"}]:i,c=(a.inputVarList,function(e,r){var o=n.data,a=r.split("."),i=(0,B.jM)(o,(function(t){1===a.length?t[a[0]]=e:2===a.length&&(t[a[0]][a[1]]=e)}));t({id:n.id,data:i})});return r.createElement("div",{className:Hi.panel},r.createElement(sa,{title:"输入",className:Hi.inputVarCollapse},r.createElement("div",{className:Hi.input},r.createElement("div",{className:Hi.header},r.createElement("div",{className:Hi.col1},"参数名"),r.createElement("div",{className:Hi.col2},"参数类型"),r.createElement("div",{className:Hi.col3},"说明"),r.createElement("div",{className:Hi.col4})),r.createElement("div",{className:Hi.list},l.map((function(e){return r.createElement("div",{key:e.id,className:Hi.line},r.createElement("div",{className:Q()(Hi.col1),title:e.name},e.name),r.createElement("div",{className:Q()(Hi.col2),title:e.type},e.type),r.createElement("div",{className:Q()(Hi.col3),title:e.type},r.createElement(jn.Ay,{onChange:function(){}})))}))))),r.createElement(sa,{title:r.createElement(r.Fragment,null,r.createElement("span",null,"知识库"),r.createElement(vr.A,{tip:r.createElement(r.Fragment,null,r.createElement("div",null,"配置知识库作为上下文，支持多个。"),r.createElement("div",null,"请确保配置的知识库类型统一。"))},r.createElement(E.A,{type:"tips",className:Hi.collapseTitleTipsIcon})))},r.createElement(r.Fragment,null,r.createElement(Pa,{label:"检索模式",name:"name",labelStyle:{width:"90px"}},r.createElement(Co.Ay,{onChange:function(e){return c(e,"nodeName")}},Ui.map((function(e){return r.createElement(Wi,{key:e.id,value:e.id},e.text)})))),r.createElement(Pa,{label:"最大召回数量",name:"name",labelStyle:{width:"90px"}},r.createElement(Bi.A,{min:1,max:100,step:1,onChange:function(e){return c(e,"nodeName")}})),r.createElement(Pa,{label:"最小匹配度",name:"name",labelStyle:{width:"90px"}},r.createElement(Bi.A,{min:0,max:1,step:.01,onChange:function(e){return c(e,"nodeName")}})),r.createElement(Pa,{label:"重排序开关",name:"name",labelStyle:{width:"90px"}},r.createElement(ui.A,{onChange:function(e){return c(e,"nodeName")}})))),r.createElement(sa,{title:"输出"},r.createElement("div",{className:Hi.output},r.createElement("div",{className:Hi.header},r.createElement("div",{className:Hi.col1},"参数"),r.createElement("div",{className:Hi.col2},"参数类型")),r.createElement("div",{className:Hi.list},l.map((function(e){return r.createElement("div",{key:e.id,className:Hi.line},r.createElement("div",{className:Q()(Hi.col1),title:e.name},e.name),r.createElement("div",{className:Q()(Hi.col2),title:e.type},e.type))}))))))}var zi=(0,r.memo)(Zi),Gi={nodeInfo:"nodeInfo-index-Bt54_",text:"text-index-KA1gF",panel:"panel-index-deHAu",inputVarCollapse:"inputVarCollapse-index-IRT8R",input:"input-index-nb83w",header:"header-index-s7RWv",line:"line-index-Cf566",handle:"handle-index-kIPRj",col1:"col1-index-OFlEG",col2:"col2-index-C8hHb",col3:"col3-index-v0mRu",col4:"col4-index-iUO9p",addAction:"addAction-index-MP__l",output:"output-index-ET9kv",list:"list-index-rpwYu"};function Xi(e){var t,n=e.data,o=(e.selected,(0,r.useMemo)((function(){var e;return(null===(e=n.nodeData)||void 0===e?void 0:e.inputVarList)||[]}),[n.nodeData]));return r.createElement("div",{className:Gi.nodeInfo},r.createElement(pr,{label:"输入"},r.createElement(yo,{infos:o,emptyText:"未配置输入"})),r.createElement(pr,{label:"模型"},r.createElement(ii,{img:oi,text:null===(t=n.nodeData)||void 0===t?void 0:t.llmPromptLLM,emptyText:"未配置模型"})))}var Yi=(0,r.memo)(Xi),Ki=n(80403);function Ji(e){return Ji="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ji(e)}function Qi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qi(Object(n),!0).forEach((function(t){$i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $i(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Ji(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ji(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ji(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var el=Co.Ay.Option;function tl(e){var t=ia().handleNodeDataUpdate,n=e.node,o=n.data,a=void 0===o?{}:o,i=(a.nodeName,a.nodeData),l=i.inputVarList,c=i.outputVarList;c=c||[],l=l||[{_id:"111",desc:"",isInput:!1,name:"string",type:"string",value:"string"},{_id:"222",desc:"",isInput:!1,name:"string11",type:"string1",value:"string111"}];var u=function(e,r){var o=n.data,a=r.split("."),i=(0,B.jM)(o,(function(t){1===a.length?t[a[0]]=e:2===a.length&&(t[a[0]][a[1]]=e)}));t({id:n.id,data:i})},d=function(e){var t=e.val,n=e.key,r=e.id,o=(0,B.jM)(l,(function(e){e.find((function(e){return e._id===r}))[n]=t}));u(o,"nodeData.inputVarList")};return r.createElement("div",{className:Gi.panel},r.createElement(sa,{title:"输入",className:Gi.inputVarCollapse},r.createElement("div",{className:Gi.input},r.createElement("div",{className:Gi.header},r.createElement("div",{className:Gi.col1},"参数名"),r.createElement("div",{className:Gi.col2},"说明"),r.createElement("div",{className:Gi.col3},"来源参数"),r.createElement("div",{className:Gi.col4})),r.createElement("div",{className:Gi.list},r.createElement(wo.ReactSortable,{list:l.map((function(e){return qi(qi({},e),{},{id:e._id})})),setList:function(e){return function(e){t({id:n.id,data:{nodeData:{inputVarList:e.map((function(e){return{_id:e._id,desc:e.desc,name:e.name,type:e.type,value:e.value,isInput:e.isInput}}))}}})}(e)},handle:".gai-flow-drag-handle"},l.map((function(e){var o=e._id,a=e.desc,i=(e.isInput,e.name,e.type);return r.createElement("div",{key:o,className:Gi.line},l.length>1?r.createElement(Io,{className:"".concat(Gi.handle," gai-flow-drag-handle")}):null,r.createElement("div",{className:Gi.col1},r.createElement(jn.Ay,{value:a,onChange:function(e){return d({val:e.target.value,key:"desc",id:o})}})),r.createElement("div",{className:Gi.col2},r.createElement(jn.Ay,{value:a,onChange:function(e){return d({val:e.target.value,key:"desc",id:o})}})),r.createElement("div",{className:Gi.col3},r.createElement(Co.Ay,{value:i,onChange:function(e){return d({val:e,key:"type",id:o})}},r.createElement(el,{value:1},"等于"),r.createElement(el,{value:2},"大于"))),r.createElement("div",{className:Gi.col4},r.createElement(xo,{className:Gi.reduceIcon,onClick:function(){return e=o,r=(0,B.jM)(l,(function(t){var n=t.findIndex((function(t){return t._id===e}));t.splice(n,1)})),void t({id:n.id,data:{nodeData:{inputVarList:r}}});var e,r}})))})))),r.createElement(Nn.A,{type:"primary",ghost:!0,className:Gi.addAction,icon:r.createElement(E.A,{type:"add"}),onClick:function(){return e=(0,B.jM)(l,(function(e){e.push({_id:(0,Oo.A)()})})),void t({id:n.id,data:{nodeData:{inputVarList:e}}});var e}},"添加"))),r.createElement(sa,{title:"回复配置",className:Gi.viewCollapse},r.createElement(Pa,{isRequire:!0,label:"语言模型",name:"update",labelStyle:{width:"88px"}},r.createElement(Co.Ay,{onChange:function(e){return u(e,"nodeName")}})),r.createElement(Pa,{label:"引用开关",name:"update",labelStyle:{width:"88px"}},r.createElement(ui.A,{onChange:function(e){return u(e,"update")}})),r.createElement(Pa,{label:"消息展示",name:"update",labelStyle:{width:"88px"}},r.createElement(ui.A,{onChange:function(e){return u(e,"update")}})),r.createElement(Pa,{label:"提问内容（用户提示词）",layout:"vertical",name:"update"},r.createElement(Ki.A,{autoSize:{minRows:2,maxRows:6},borderType:"bordered"})),r.createElement(Pa,{label:"提问内容（用户提示词）",layout:"vertical",name:"update"},r.createElement(Ki.A,{autoSize:{minRows:2,maxRows:6},borderType:"bordered"}))),r.createElement(sa,{title:"输出"},r.createElement("div",{className:Gi.output},r.createElement("div",{className:Gi.header},r.createElement("div",{className:Gi.col1},"参数"),r.createElement("div",{className:Gi.col2},"参数类型")),r.createElement("div",{className:Gi.list},c.map((function(e){return r.createElement("div",{key:e.id,className:Gi.line},r.createElement("div",{className:Q()(Gi.col1),title:e.name},e.name),r.createElement("div",{className:Q()(Gi.col2),title:e.type},e.type))}))))))}var nl=(0,r.memo)(tl),rl={nodeInfo:"nodeInfo-index-pNQqx",panel:"panel-index-m29WR",collapseTitleTipsIcon:"collapseTitleTipsIcon-index-shjgt",viewCollapse:"viewCollapse-index-EmjRk",inputVar:"inputVar-index-QRo3S",header:"header-index-n3gZz",line:"line-index-PYlzx",handle:"handle-index-p73Ld",col1:"col1-index-bxJO_",col2:"col2-index-oS7lq",col3:"col3-index-KU6w9",col4:"col4-index-WV1T_",addAction:"addAction-index-a7UEd",updateWrap:"updateWrap-index-VEoco",switchWrap:"switchWrap-index-LQLq4",remark:"remark-index-DYjRR",tooltip:"tooltip-index-HtvIL"};function ol(e){var t=e.data,n=(e.selected,(0,r.useMemo)((function(){var e;return(null===(e=t.nodeData)||void 0===e?void 0:e.outputVarList)||[]}),[t.nodeData]));return r.createElement("div",{className:rl.nodeInfo},r.createElement(pr,{label:"输出"},r.createElement(yo,{infos:n,emptyText:"未配置输出"})))}var al=(0,r.memo)(ol);function il(e){return il="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},il(e)}function ll(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ll(Object(n),!0).forEach((function(t){ul(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ll(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ul(e,t,n){return t=function(e){var t=function(e,t){if("object"!=il(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=il(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==il(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var dl=Co.Ay.Option;function sl(e){var t=ia().handleNodeDataUpdate,n=e.node,o=n.data,a=void 0===o?{}:o,i=(a.nodeName,a.nodeData.inputVarList);i=i||[{_id:"111",desc:"",isInput:!1,name:"string",type:"string",value:"string"},{_id:"222",desc:"",isInput:!1,name:"string11",type:"string1",value:"string111"}];var l=function(e,r){var o=n.data,a=r.split("."),i=(0,B.jM)(o,(function(t){1===a.length?t[a[0]]=e:2===a.length&&(t[a[0]][a[1]]=e)}));t({id:n.id,data:i})},c=function(e){var t=e.val,n=e.key,r=e.id,o=(0,B.jM)(i,(function(e){e.find((function(e){return e._id===r}))[n]=t}));l(o,"nodeData.inputVarList")};return r.createElement("div",{className:rl.panel},r.createElement(sa,{title:r.createElement(r.Fragment,null,r.createElement("span",null,"展示配置"),r.createElement(vr.A,{className:rl.tooltip,tip:r.createElement(r.Fragment,null,r.createElement("div",null,"默认按列表中顺序显示，若需要调整顺序，可点击”上移”、“下移”进行调整。"),r.createElement("div",null,"支持展示文本、链接、图片及iframe框架信息。"),r.createElement("div",null,"注意，文字类信息没有流式生成效果，若需要流式文字效果，请通过配置GPT提示节点实现。"))},r.createElement(E.A,{type:"tips",className:rl.collapseTitleTipsIcon}))),className:rl.viewCollapse},r.createElement("div",{className:rl.inputVar},r.createElement("div",{className:rl.header},r.createElement("div",{className:rl.col1},"参数类型"),r.createElement("div",{className:rl.col2},"来源"),r.createElement("div",{className:rl.col3},"用户输入"),r.createElement("div",{className:rl.col4})),r.createElement("div",{className:rl.list},r.createElement(wo.ReactSortable,{list:i.map((function(e){return cl(cl({},e),{},{id:e._id})})),setList:function(e){return function(e){t({id:n.id,data:{nodeData:{inputVarList:e.map((function(e){return{_id:e._id,desc:e.desc,name:e.name,type:e.type,value:e.value,isInput:e.isInput}}))}}})}(e)},handle:".gai-flow-drag-handle"},i.map((function(e){var o=e._id,a=e.desc,l=(e.isInput,e.name,e.type);return r.createElement("div",{key:o,className:rl.line},i.length>1?r.createElement(Io,{className:"".concat(rl.handle," gai-flow-drag-handle")}):null,r.createElement("div",{className:rl.col1},r.createElement(Co.Ay,{value:l,onChange:function(e){return c({val:e,key:"type",id:o})}},r.createElement(dl,{value:1},"等于"),r.createElement(dl,{value:2},"大于"))),r.createElement("div",{className:rl.col2},r.createElement(Co.Ay,{value:l,onChange:function(e){return c({val:e,key:"type",id:o})}},r.createElement(dl,{value:1},"等于"),r.createElement(dl,{value:2},"大于"))),r.createElement("div",{className:rl.col3},r.createElement(jn.Ay,{value:a,onChange:function(e){return c({val:e.target.value,key:"desc",id:o})}})),r.createElement("div",{className:rl.col4},r.createElement(xo,{className:rl.reduceIcon,onClick:function(){return e=o,r=(0,B.jM)(i,(function(t){var n=t.findIndex((function(t){return t._id===e}));t.splice(n,1)})),void t({id:n.id,data:{nodeData:{inputVarList:r}}});var e,r}})))})))),r.createElement(Nn.A,{type:"primary",ghost:!0,className:rl.addAction,icon:r.createElement(E.A,{type:"add"}),onClick:function(){return e=(0,B.jM)(i,(function(e){e.push({_id:(0,Oo.A)()})})),void t({id:n.id,data:{nodeData:{inputVarList:e}}});var e}},"添加"))),r.createElement(sa,{title:"用户输入配置"},r.createElement(Pa,{label:"允许用户输入",name:"update",labelStyle:{width:"88px"}},r.createElement(ui.A,{onChange:function(e){return l(e,"update")}}))))}var fl=(0,r.memo)(sl),ml="wrap-index-xj9yt",pl="iter-index-GYqld";function vl(e){var t=e.id,n=(e.data,e.selected,(0,h.kW)().zoom),o=g((function(e){return{flowId:e.flowId}})).flowId;return r.createElement("div",{className:ml},r.createElement("div",{className:pl},r.createElement(fi.V,{id:"_".concat(o,"_gai_flow_iter_").concat(t),gap:[20/n,20/n],size:1/n,color:"#999999",style:{backgroundColor:"#f5f5f5"}})))}var yl=(0,r.memo)(vl);function gl(){return r.createElement("div",null,"ParallelPanel 属性")}var hl=(0,r.memo)(gl),bl="nodeInfo-index-EBAy3";function El(e){var t=e.data,n=(e.selected,(0,r.useMemo)((function(){var e;return(null===(e=t.nodeData)||void 0===e?void 0:e.inputVarList)||[]}),[t.nodeData])),o=(0,r.useMemo)((function(){var e;return(null===(e=t.nodeData)||void 0===e?void 0:e.outputVarList)||[]}),[t.nodeData]);return r.createElement("div",{className:bl},r.createElement(pr,{label:"输入"},r.createElement(yo,{infos:n,emptyText:"未配置输入"})),r.createElement(pr,{label:"输出"},r.createElement(yo,{infos:o,emptyText:"未配置输出"})))}var Cl,wl,Ol=(0,r.memo)(El);function Al(e){return Al="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Al(e)}function Ll(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Al(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Al(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Al(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Sl={custom:En,custom_iteration_start:Ja,custom_parallel_start:ri},Nl=(Ll(Ll(Ll(Ll(Ll(Ll(Ll(Ll(Ll(Ll(Cl={},K.Hv.LoopAction,yi),K.Hv.StartLoopAction,Ja),K.Hv.RepoAction,_i),K.Hv.RepoReplyAction,Yi),K.Hv.AskUserAction,al),K.Hv.MessageAction,Ai),K.Hv.LLMAction,ci),K.Hv.JavaPluginAction,Eo),K.Hv.Input,Ba),K.Hv.Output,Mi),Ll(Ll(Ll(Ll(Ll(Cl,K.Hv.SetVariableAction,Ei),K.Hv.BreakLoopAction,wn),K.Hv.CodeAction,Sn),K.Hv.ParallelAction,yl),K.Hv.ToolAction,Ol)),xl=(Ll(Ll(Ll(Ll(Ll(Ll(Ll(Ll(Ll(Ll(wl={},K.Hv.LoopAction,hi),K.Hv.RepoAction,zi),K.Hv.RepoReplyAction,nl),K.Hv.AskUserAction,fl),K.Hv.MessageAction,ki),K.Hv.LLMAction,si),K.Hv.JavaPluginAction,Ta),K.Hv.Input,Wa),K.Hv.Output,Ti),K.Hv.SetVariableAction,wi),Ll(Ll(Ll(wl,K.Hv.BreakLoopAction,An),K.Hv.CodeAction,qn),K.Hv.ParallelAction,hl),["LLMAction","JavaPluginAction","MessageAction","RepoAction","RepoReplyAction","LoopAction","AskUserAction","BreakLoopAction","SetVariableAction","LoopAction","CodeAction","ParallelAction"]),jl=n(33045),Pl=n(38455),Il=n(11016);function kl(e){return kl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kl(e)}function Fl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fl(Object(n),!0).forEach((function(t){Ml(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ml(e,t,n){return t=function(e){var t=function(e,t){if("object"!=kl(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=kl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==kl(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rl(e){return Rl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rl(e)}function Tl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tl(Object(n),!0).forEach((function(t){Vl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vl(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Rl(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Rl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Rl(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _l="select";function Bl(e,t){var n=t.filter((function(t){return e.id===t.source})),r=t.filter((function(t){return e.id===t.target}));e.data.nodeType===K.Hv.Input?e.data.edges={bottom:n.filter((function(e){return"bottom"===e.sourceHandle})).map((function(e){return e.id})),left:n.filter((function(e){return"left"===e.sourceHandle})).map((function(e){return e.id})),right:n.filter((function(e){return"right"===e.sourceHandle})).map((function(e){return e.id}))}:e.data.nodeType===K.Hv.Output?e.data.edges={top:r.filter((function(e){return"top"===e.targetHandle})).map((function(e){return e.id})),left:r.filter((function(e){return"left"===e.targetHandle})).map((function(e){return e.id})),right:r.filter((function(e){return"right"===e.targetHandle})).map((function(e){return e.id}))}:e.data.edges={top:r.filter((function(e){return"top"===e.targetHandle})).map((function(e){return e.id})),left:r.filter((function(e){return"left"===e.targetHandle})).map((function(e){return e.id})),right:n.filter((function(e){return"right"===e.sourceHandle})).map((function(e){return e.id})),bottom:n.filter((function(e){return"bottom"===e.sourceHandle})).map((function(e){return e.id}))}}function Ul(){var e=(0,h.PI)(),t=p(),n=de(),o=ta().handleSyncWorkflowDraft,a=t.getState().isLock,i=(0,r.useCallback)((function(){var t=e.getState(),n=t.edges;(0,t.setEdges)((0,B.jM)(n,(function(e){e.forEach((function(e){e.selected=!1;var t=e.data,n=(0,_o.bi)(e.markerEnd,e.style,t.hasErr,e.selected),r=n.markerEnd,o=n.style;e.markerEnd=r,e.style=o,t.selected&&(t.selected=!1)}))})))}),[e]),l=function(e,n){var r=n;if(0===e.length)return r;var o=e.find((function(e){return e.type===_l&&e.selected}));if(o){var a=t.getState().model,i=n.find((function(e){return e.id===(null==o?void 0:o.id)}));if(a){r=function(e,t){var n=(0,B.jM)(t,(function(t){t.forEach((function(t){if(t.id===e){var n=t.data.errInfo.filter((function(e){return e.code===K.oM.OTHER.code})),r=n.length>0,o=t.selected,a=(0,_o.bi)(t.markerEnd,t.style,r,o),i=a.markerEnd,l=a.style;t.markerEnd=i,t.style=l,t.data=Hl(Hl({},t.data),{},{hasErr:r,errInfo:n})}}))}));return n}(i.id,n);var l={id:Number(i.id),typeName:i.data.edgeType,type:Y[i.data.edgeType].backendId,nodeName:i.data.edgeName};setTimeout((function(){Do(a,"editNode",l)}),200)}}return r},c=(0,r.useCallback)((function(n,r){var o=t.getState(),a=o.rightPanelShow,i=o.setRightPanelShow,l=(0,e.getState().getNodes)().find((function(e){return e.id===r.source}));a||"StartLoopAction"===(null==l?void 0:l.data.nodeType)||i(!0)}),[t,e]),u=(0,r.useCallback)((function(n){var r=t.getState(),o=r.isLock,a=r.setSelectedNode;if(!o){var i=e.getState(),c=i.edges,u=i.setEdges,d=i.getNodes,s=i.setNodes,f=(0,B.jM)(c,(function(e){n.forEach((function(t){if(t.type===_l){var n,r=e.find((function(e){return e.id===t.id}));r.selected=t.selected;var o=null===(n=r.data)||void 0===n?void 0:n.hasErr,a=(0,_o.bi)(r.markerEnd,r.style,o,r.selected),i=a.markerEnd,l=a.style;r.markerEnd=i,r.style=l}}))}));if(u(f=l(n,f)),n.some((function(e){return"select"===e.type&&e.selected}))){a(null);var m=d();s((0,B.jM)(m,(function(e){e.forEach((function(e){return e.data.selected=e.selected}))})))}}}),[e,t,a]),d=(0,r.useCallback)((function(r){var a=e.getState(),i=a.edges,l=a.setEdges,c=a.getNodes,u=a.setNodes,d=n.getState().setHoverEdge,s=t.getState(),f=s.model;if(!s.isLock){var m=[];if((m=r||i.filter((function(e){return e.selected}))).length>0){var p=(0,B.jM)(i,(function(e){m.forEach((function(t){var n=e.findIndex((function(e){return e.id===t.id}));e.splice(n,1)}))}));setTimeout((function(){var e=c(),t=(0,B.jM)(e,(function(e){e.forEach((function(e){Bl(e,p)}))}));u(t)})),l(p),d(),function(e,t){t&&0!==e.length&&Do(t,"delNode",{nodeIds:[],transferIds:e.map((function(e){return Number(e.id)}))})}(m,f)}o()}}),[e,t,o]),s=(0,r.useCallback)((function(t){var n=t.source,r=t.target,o=(0,(0,e.getState)().getNodes)(),a=o.find((function(e){return e.id===n})),i=o.find((function(e){return e.id===r}));return(null==a?void 0:a.parentNode)===(null==i?void 0:i.parentNode)}),[e]),f=(0,r.useCallback)((function(r,o){var a=e.getState(),i=a.edges,l=a.setEdges,c=t.getState().isLock,u=n.getState().setHoverEdge;if(!c){var d=(0,B.jM)(i,(function(e){var t,n=e.find((function(e){return e.id===o.id}));n.selected=o.selected;var r=null===(t=n.data)||void 0===t?void 0:t.hasErr,a=(0,_o.bi)(n.markerEnd,n.style,r,n.selected,!0),i=a.markerEnd,l=a.style;n.markerEnd=i,n.style=l}));u(o),l(d)}}),[]),m=(0,r.useCallback)((function(r,o){var a=e.getState(),i=a.edges,l=a.setEdges,c=t.getState().isLock,u=n.getState().setHoverEdge;if(!c){var d=(0,B.jM)(i,(function(e){var t,n=e.find((function(e){return e.id===o.id}));n.selected=o.selected;var r=null===(t=n.data)||void 0===t?void 0:t.hasErr,a=(0,_o.bi)(n.markerEnd,n.style,r,n.selected,!1),i=a.markerEnd,l=a.style;n.markerEnd=i,n.style=l}));u(),l(d)}}),[]);return{resetEdgeSelect:i,handleEdgeClick:c,handleEdgesChange:u,handleEdgeDel:d,handleEdgeMouseEnter:f,handleEdgeMouseLeave:m,isValidConnection:s}}n(64506);function Wl(e){return Wl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wl(e)}function Zl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zl(Object(n),!0).forEach((function(t){Gl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gl(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Wl(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Wl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Wl(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xl(e){return function(e){if(Array.isArray(e))return Yl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Yl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yl(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Kl(){var e=(0,r.useRef)(1),t=(0,r.useRef)(),n=(0,r.useRef)(!1),o=(0,r.useRef)(!1),a=(0,r.useRef)(),i=(0,h.PI)(),l=(0,h.kW)().zoom,c=(0,h.VH)().getEdges,u=p(),d=de(),s=Ul(),f=s.handleEdgeDel,m=s.resetEdgeSelect,v=ee().handleNodeIterationChildDrag,y=function(){var e=(0,h.PI)(),t=de(),n=(0,r.useCallback)((function(n){var r=(0,e.getState().getNodes)(),o=t.getState(),a=o.setHelpLineHorizontal,i=o.setHelpLineVertical,l=n.parentNode?r.find((function(e){return e.id===n.parentNode})):void 0,c=n.parentNode?r.filter((function(e){return e.parentNode===n.parentNode})):r.filter((function(e){return!e.parentNode})),u=c.filter((function(e){if(e.id===n.id)return!1;var t=Math.ceil(e.position.y),r=Math.ceil(n.position.y);return t-r<5&&t-r>-5})).sort((function(e,t){return e.position.x-t.position.x})),d=u.length;if(d>0){var s=u[0],f=u[d-1],m={top:l?s.position.y+l.position.y:s.position.y,left:l?s.position.x+l.position.x:s.position.x,width:f.position.x+f.width-s.position.x};n.position.x<s.position.x&&(m.left=l?n.position.x+l.position.x:n.position.x,m.width=f.position.x+f.width-n.position.x),n.position.x>f.position.x&&(m.width=n.position.x+n.width-s.position.x),a(m)}else a();var p=c.filter((function(e){if(e.id===n.id)return!1;var t=Math.ceil(e.position.x),r=Math.ceil(n.position.x);return t-r<5&&t-r>-5})).sort((function(e,t){return e.position.x-t.position.x})),v=p.length;if(v>0){var y=p[0],g=p[v-1],h={top:l?y.position.y+l.position.y:y.position.y,left:l?y.position.x+l.position.x:y.position.x,height:g.position.y+g.height-y.position.y};n.position.y<y.position.y&&(h.top=l?n.position.y+l.position.y:n.position.y,h.height=g.position.y+g.height-n.position.y),n.position.y>g.position.y&&(h.height=n.position.y+n.height-y.position.y),i(h)}else i();return{showHorizontalHelpLineNodes:u,showVerticalHelpLineNodes:p}}),[e,t]);return{handleSetHelpline:n}}(),g=y.handleSetHelpline,b=ta().handleSyncWorkflowDraft,E=(0,r.useRef)({x:0,y:0}),C=function t(n,r){var o="".concat(r,"_").concat(e.current++);return n.find((function(e){return e.data.nodeName===o}))?t(n,r):o},w=(0,r.useCallback)((function(){var e=i.getState(),t=e.getNodes,n=e.setNodes,r=t();n((0,B.jM)(r,(function(e){e.forEach((function(e){e.selected=!1;var t=e.data;t.selected&&(t.selected=!1)}))})))}),[i]),O=(0,r.useCallback)((function(e){var t=e.source,n=e.target,r=e.sourceHandle,o=e.targetHandle,a=i.getState(),l=a.getNodes,c=a.edges,u=l(),d=u.find((function(e){return e.id===t})),s=u.find((function(e){return e.id===n})),f=d.data.nodeType,m=s.data.nodeType;if(f===K.Hv.Output)return!1;if(m===K.Hv.Input)return!1;if(f!==K.Hv.Input&&("top"===r||"left"===r))return!1;if(m!==K.Hv.Output&&("bottom"===o||"right"===o))return!1;var p=c.some((function(e){return e.source===t&&e.target===n})),v=t===n,y=c.some((function(e){return e.source===n&&e.target===t}));return!p&&!v&&!y}),[i]),A=(0,r.useCallback)((function(e){var t=e.target,n=i.getState(),r=n.getNodes,o=n.setNodes,a=n.edges,l=n.setEdges,c=u.getState().model,d=r();if(!O(e))return!1;var s=d.find((function(e){return e.id===t})),f=(0,Il.Xy)(String(Il.Sz.getId()),"",e.source,e.target,e.sourceHandle,e.targetHandle);null!=s&&s.parentNode?f.zIndex=K.wV:f.zIndex=0,f.selected=!0;var m=(0,B.jM)(a,(function(e){e.forEach((function(e){return e.selected=!1})),e.push(f)}));o((0,B.jM)(d,(function(t){t.forEach((function(t){t.selected=!1,t.data.selected=!1,t.id!==e.source&&t.id!==e.target||Bl(t,m)}))}))),l(m),b();var p=(0,_o.SD)(f,d);if(c&&!p){var v=(0,Uo.Oc)(f,d,a.concat(f));return Do(c,"newNode",{id:Number(f.id),type:Y[f.data.edgeType].backendId,nodes:[],transfers:[v]}),!0}}),[i,u,b]),L=(0,r.useCallback)((function(e,t){var r=e.target,o=i.getState(),a=o.getNodes,l=o.edges,u=o.setEdges,d=a(),s=d.find((function(e){return e.id===r})),f=d.find((function(e){return e.id===t.target}));(null==s?void 0:s.id)===(null==f?void 0:f.id)?(u(Xl(l).filter((function(t){return t.id!==e.id}))),setTimeout((function(){A(t)}))):A(t)&&u(Xl(c()).filter((function(t){return t.id!==e.id})));n.current=!1}),[]),S=(0,r.useCallback)((function(e,t){E.current={x:t.position.x,y:t.position.y}}),[]),N=(0,r.useCallback)((function(e,t,n,r){t.preventDefault(),t.stopPropagation();var o=(0,i.getState)(),a=o.getNodes,c=o.setNodes,u=a(),d=v(e,n,l).restrictPos,s=g(n),f=s.showHorizontalHelpLineNodes,m=s.showVerticalHelpLineNodes,p=m.length,y=f.length;c((0,B.jM)(u,(function(e){var t=e.find((function(e){return e.id===n.id})),r=(t.data,t.position);p>0?r.x=m[0].position.x:d.x?r.x=d.x:r.x=n.position.x,y>0?r.y=f[0].position.y:d.y?r.y=d.y:r.y=n.position.y})))}),[i,l,g,v]),x=(0,r.useCallback)((function(e,t){e.preventDefault(),e.stopPropagation();var n=d.getState(),r=n.setHelpLineHorizontal,o=n.setHelpLineVertical,a=E.current,i=a.x,l=a.y;i===t.position.x&&l===t.position.y||(r(),o()),b()}),[b]),j=(0,r.useCallback)((function(e){var t=i.getState(),n=t.getNodes,r=t.setNodes,o=u.getState(),a=o.model,l=o.rightPanelShow,c=o.setRightPanelShow,d=o.setSelectedNode;l||c(!0);var s=n(),f=s.find((function(t){return t.id===e})),m=(0,B.jM)(s,(function(e){e.forEach((function(e){e.id===f.id?e.data.selected=!e.data.selected:e.data.selected=!1}))}));if(d(f),a){m=function(e,t){return(0,B.jM)(t,(function(t){t.forEach((function(t){if(t.id===e){var n=t.data.errInfo.filter((function(e){return e.code===K.oM.OTHER.code}));t.data=Dl(Dl({},t.data),{},{hasErr:n.length>0,errInfo:n})}}))}))}(f.id,m);var p={id:Number(f.id),typeName:f.data.nodeType,type:K.nq[f.data.nodeType].backendId,nodeName:f.data.nodeName,blockNodeId:f.parentNode?f.parentNode:-1};setTimeout((function(){Do(a,"editNode",p)}),200)}r(m),b()}),[i,u,b]),P=(0,r.useCallback)((function(e,t){e.stopPropagation(),"custom_iteration_start"!==t.type&&"custom_parallel_start"!==t.type&&j(t.id)}),[j]),I=(0,r.useCallback)((function(e){var t=u.getState(),n=t.setSelectedNode,r=t.model;if(m(),w(),n(null),r){var o={id:-1,typeName:"flow"};setTimeout((function(){Do(r,"editFlow",o)}),200)}b()}),[i,u,b]),k=(0,r.useCallback)((function(e,t){var n=i.getState(),r=n.getNodes,o=n.setNodes,a=r(),l=(a.find((function(t){return t.id===e})),t.x),c=t.y,u=t.width,d=t.height,s=(0,q.ID)(a,e),f=s.rightNode,m=s.bottomNode;if(f&&m){if(u<f.position.x+f.width+K.gi.right)return;if(d<m.position.y+m.height+K.gi.bottom)return}var p=(0,B.jM)(a,(function(t){var n=t.find((function(t){return t.id===e})),r=null==n?void 0:n.position,o=n.data;r.x=l,r.y=c,o.width=u,o.height=d,n.width=u,n.height=d}));o(p),b()}),[i,b]),F=(0,r.useCallback)((function(){var e=u.getState(),t=e.isLock,n=e.model,r=e.setSelectedNode;if(!t){var o=(0,i.getState)(),a=o.getNodes,l=o.setNodes,c=o.edges,d=a(),s=d.filter((function(e){return e.data.selected&&e.data.nodeType!==K.Hv.Input&&e.data.nodeType!==K.Hv.Output}));if(0!==s.length){var m=(0,h.AX)(s,c);s.filter((function(e){return e.data.nodeType===K.Hv.LoopAction||e.data.nodeType===K.Hv.ParallelAction})).forEach((function(e){var t=(0,q.NV)(e,d,c),n=t.childNodes,r=t.childNodesRelativeEdges;s=[].concat(Xl(s),Xl(n)),m=[].concat(Xl(m),Xl(r))})),f(m);var p=(0,B.jM)(d,(function(e){s.forEach((function(t){var n=t.id,r=e.findIndex((function(e){return e.id===n}));r&&e.splice(r,1)}))}));l(p),function(e,t){if(e){var n={nodeIds:t.map((function(e){return Number(e.id)})),transferIds:[]};Do(e,"delNode",n)}}(n,s),r(null),b()}}}),[i,u,b]),D=(0,r.useCallback)((function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:K.Uv.DRAG,o=(0,i.getState)(),a=o.getNodes,l=o.setNodes,c=o.edges,d=o.setEdges,s=a(),f=u.getState(),p=f.model,v=f.selectedNode,y=f.setSelectedNode,g={id:String(Il.Sz.getId())},h=Il.jY[t](g),E=[];m(),w(),n&&(h.position=n),n&&r===K.Uv.CLICK&&(h.position.y+=60*(e.current-1)),xl.includes(t)&&(h.data.nodeName=C(s,h.data.nodeName),h.selected=!0),t!==K.Hv.LoopAction&&t!==K.Hv.ParallelAction||(h.width=K.J2.WIDTH,h.height=K.J2.HEIGHT,h.data=zl(zl({},h.data),{},{width:K.J2.WIDTH,height:K.J2.HEIGHT}));var O=s.find((function(e){return e.selected&&(e.data.nodeType===K.Hv.LoopAction||e.data.nodeType===K.Hv.ParallelAction)}));if(t!==K.Hv.LoopAction&&t!==K.Hv.ParallelAction&&(v&&(0,q.VV)(v,s)||O||v&&(0,q.B5)(v,s))){var A="";if(A=O?O.id:(null!=v&&v.parentNode&&"-1"!==v.parentNode?v.parentNode:null==v?void 0:v.id)||"",h.parentNode=A,h.data.parentNode=A,h.extent="parent",h.zIndex=K.wV,0===s.filter((function(e){return e.parentNode&&e.parentNode===A&&e.data.nodeType!==K.Hv.StartLoopAction&&e.data.nodeType!==K.Hv.StartParallelAction})).length){var L=s.find((function(e){return e.parentNode===A&&(e.data.nodeType===K.Hv.StartLoopAction||e.data.nodeType===K.Hv.StartParallelAction)})),S=String(Il.Sz.getId()),N=(0,Il.Xy)(S,"","".concat(L.id),String(h.id),"bottom","top"),x=(0,B.jM)(c,(function(e){e.push(N)})),j=(0,Uo.cu)(N.id,N.source,N.target);E.push(j),d(x)}}if(h.parentNode){var P=(0,q.ID)(s,h.parentNode).bottomNode;if(P){var I=P.position.y+P.height+K.IY,k=h.position;k.y=I,k.x=K.nh}}var F=(0,B.jM)(s,(function(e){if(e.forEach((function(e){e.selected=!1})),e.push(h),t===K.Hv.LoopAction){var n=(0,jl.W)({id:"".concat(String(Il.Sz.getId())),parentNode:h.id,extend:"parent"});e.push(n)}else if(t===K.Hv.ParallelAction){var r=(0,Pl.V)({id:"".concat(String(Il.Sz.getId())),parentNode:h.id,extend:"parent"});e.push(r)}}));if(l(F),y(h),p){var D=[],M=(0,Uo.x1)(h,s.concat(h),c);if(D.push(M),h.data.nodeType===K.Hv.LoopAction||h.data.nodeType===K.Hv.ParallelAction){var R=F.find((function(e){return e.parentNode===h.id&&(e.data.nodeType===K.Hv.StartLoopAction||e.data.nodeType===K.Hv.StartParallelAction)})),T=(0,Uo.x1)(R,F,c);D.push(T)}Do(p,"newNode",{id:Number(h.id),type:K.nq[h.data.nodeType].backendId,nodes:D,blockNodeId:h.parentNode?h.parentNode:-1,transfers:E})}b()}),[i,u,b]);return{handleNodeDragStart:S,handleNodeDrag:N,handleNodeDragStop:x,handleNodeClick:P,handlePaneClick:I,handleNodeResize:k,handleNodeDel:F,handleAddNode:D,handleNodeConnect:A,onEdgeUpdateEnd:function(e,r,a){var l=i.getState(),u=l.getNodes,d=l.setEdges;l.edges;if(o.current=!1,n.current){var s=t.current;if(s&&s.id){var f=r.source,m=u(),p=m.find((function(e){return e.id===f})),v=m.find((function(e){return e.id===s.id}));if((null==p?void 0:p.parentNode)===(null==v?void 0:v.parentNode))if(A({source:r.source,target:s.id,sourceHandle:r.sourceHandle,targetHandle:"top"})){var y=Xl(c()).filter((function(e){return e.id!==r.id}));d(y)}}n.current=!1,t.current=void 0}},onEdgeUpdate:L,onEdgeUpdateStart:function(){n.current=!0,o.current=!0},onConnectEnd:function(e){var n=i.getState().getNodes,r=t.current,l=a.current,c=o.current,u=n().find((function(e){return e.id===(null==l?void 0:l.nodeId)}));(null==u?void 0:u.parentNode)===(null==r?void 0:r.parentNode)&&null!=l&&l.nodeId&&null!=r&&r.id&&!c&&A({source:l.nodeId,target:r.id,sourceHandle:l.handleId,targetHandle:"top"}),c||(t.current=void 0),a.current=void 0},onConnectStart:function(e,t){a.current=t,d.getState().setConnectingParams({sourceParams:t})},onNodeMouseEnter:function(e,n){t.current=n},onNodeMouseLeave:function(){t.current=void 0}}}var Jl=n(27656),Ql=n(31711),ql={leftPanel:"leftPanel-index-og9xY",show:"show-index-QHiHT",hide:"hide-index-y3lzx",panel:"panel-index-fJfiR",title:"title-index-SygAV",icon:"icon-index-LYU7W",text:"text-index-gtiOt",panelContent:"panelContent-index-mxfvl",wrapperImage:"wrapperImage-index-_EZaQ",notDraggable:"notDraggable-index-PfteK",content:"content-index-lYODb",name:"name-index-Tk2gR",add:"add-index-m_zfH",footerWrap:"footerWrap-index-V0ulC",actions:"actions-index-D3u78",zoomInOut:"zoomInOut-index-KX8jq",rightPanel:"rightPanel-index-QJY4M",header:"header-index-hCJEN",left:"left-index-HV4Nf",isScrollTop:"isScrollTop-index-L6a9i",right:"right-index-LdD7J",flowPanel:"flowPanel-index-mc1AK",codeEditorPanel:"codeEditorPanel-index-ItYKw",headerLeft:"headerLeft-index-AqlcM",nodeName:"nodeName-index-iZ8iT",language:"language-index-VRpdA",headerRight:"headerRight-index-SQwQr",close:"close-index-HB_z2",panelCodeEditor:"panelCodeEditor-index-svNUo"},$l=(0,r.createContext)({});function ec(e){return ec="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ec(e)}function tc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tc(Object(n),!0).forEach((function(t){rc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rc(e,t,n){return t=function(e){var t=function(e,t){if("object"!=ec(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ec(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ec(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ac(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ac(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ac(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ic(){var e=g((function(e){return{isLock:e.isLock,leftPanelShow:e.leftPanelShow,templateList:e.templateList,model:e.model,setLeftPanelShow:e.setLeftPanelShow,setDropPosition:e.setDropPosition}})),t=e.isLock,n=e.leftPanelShow,o=e.templateList,a=e.model,i=e.setLeftPanelShow,l=e.setDropPosition,c=(0,h.PI)(),u=(0,h.kW)().zoom,d=(0,h.VH)(),s=d.zoomIn,f=d.zoomOut,m=(d.zoomTo,d.fitView,function(){var e=(0,h.PI)(),t=(0,h.VH)(),n=(0,r.useCallback)(Go(Zo().mark((function n(){var r,o,a,i,l,c,u,d,s;return Zo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=e.getState(),o=r.getNodes,a=r.edges,i=r.setNodes,l=t.setViewport,c=o(),u=Qo(c,a),d={},c.forEach((function(e){if(!e.parentNode){var t=u.node(e.id).rank;d[t]?d[t].position.y>e.position.y&&(d[t]=e):d[t]=e}})),s=(0,B.jM)(c,(function(e){e.forEach((function(e){if(!e.parentNode){var t=u.node(e.id);e.position={x:t.x-e.width/2,y:t.y-e.height/2}}}))})),i(s),l({x:0,y:0,zoom:.6});case 10:case"end":return n.stop()}}),n)}))),[e,t]);return{handleLayout:n}}()),p=m.handleLayout,v=(0,r.useContext)($l).handleAddNode,y=g((function(e){return e.selectedNode})),b=oc((0,r.useState)("none"),2),w=b[0],A=b[1],L=(0,r.useMemo)((function(){var e=(0,c.getState().getNodes)(),t=nc({},K.nq);return t=(0,q.VV)(y,e)?O()(t,[K.Hv.LoopAction,K.Hv.ParallelAction]):(0,q.B5)(y,e)?O()(t,[K.Hv.LoopAction,K.Hv.AskUserAction,K.Hv.ParallelAction,K.Hv.SetVariableAction,K.Hv.BreakLoopAction,K.Hv.ToolAction]):O()(t,[K.Hv.SetVariableAction,K.Hv.BreakLoopAction]),Object.keys(t).map((function(e){var n=t[e];if(n.isPanel)return nc({},n)})).filter(Boolean)}),[null==y?void 0:y.data.nodeType,c]),S=(0,r.useCallback)((function(e,n){t||(e.dataTransfer.setData("application/reactflow",n.type),e.dataTransfer.effectAllowed="move")}),[t]),N=(0,r.useCallback)((function(e,n){t||(e.dataTransfer.setData("application/reactflowTemplate",JSON.stringify(n)),e.dataTransfer.effectAllowed="move")}),[t]),x=function(){var e=c.getState().transform;return(0,Jl.$P)({screenX:Ql.y+Jl.Ei+100,screenY:Jl.tQ+100,transform:e})};return r.createElement("div",{className:"".concat(ql.leftPanel," ").concat(n?ql.show:ql.hide)},r.createElement("span",{className:ql.icon,onClick:function(){A(n?"scrollx":"none"),i(!n)}},n?r.createElement(E.A,{type:"double-arrow-left"}):r.createElement(E.A,{type:"double-arrow-right"})),r.createElement("div",{className:"".concat(ql.panel)},r.createElement(C.A,{defaultActiveKey:"NODES",effect:w,style:{margin:"12px"},onChange:function(){A("scrollx")}},r.createElement(C.A.TabPane,{key:"NODES",tab:"节点"},r.createElement("div",{className:ql.panelContent},L.map((function(e){return r.createElement("div",{key:e.backendId,draggable:!t,onDragStart:function(t){return S(t,e)},className:"".concat(t?ql.notDraggable:""," ").concat(ql.wrapperImage)},r.createElement("span",{className:ql.content,title:e.caption},r.createElement(on,{type:e.type}),n?r.createElement("span",{className:ql.name},e.name):null),r.createElement("span",{className:ql.add,onClick:function(){return function(e){var n=x();t||v(e.type,{x:n.x,y:n.y},K.Uv.CLICK)}(e)}},"+"))})))),r.createElement(C.A.TabPane,{key:"TEMPLATES",tab:"模板"},r.createElement("div",{className:ql.panelContent},o.map((function(e){return r.createElement("div",{key:e.id,draggable:!t,onDragStart:function(t){return N(t,e)},className:"".concat(t?ql.notDraggable:""," ").concat(ql.wrapperImage)},r.createElement("span",{className:ql.content,title:e.desc},n?r.createElement("span",{className:ql.name},e.name):null),r.createElement("span",{className:ql.add,onClick:function(){return function(e){null==a||a.invokeAsync("loadFlowTemplate",{id:null==e?void 0:e.id});var t=x();l(t.x,t.y)}(e)}},"+"))}))))),r.createElement("div",{className:"".concat(ql.footerWrap)},r.createElement("div",{className:ql.actions},r.createElement("div",{className:ql.adaptiveSvg},r.createElement(j,{title:"整理节点",onClick:p})),r.createElement("div",{className:ql.zoomInOut},r.createElement(_,{title:"缩小",onClick:f}),r.createElement("span",null,Number.parseFloat("".concat(100*u)).toFixed(0),"%"),r.createElement(M,{title:"放大",onClick:s}))))))}var lc=function(){var e=Kl().handleAddNode;return r.createElement($l.Provider,{value:{hasInputNode:!0,hasOutputNode:!0,handleAddNode:e}},r.createElement(ic,null))},cc=n(78562),uc=n.n(cc),dc=n(15799),sc=n.n(dc),fc=n(52445),mc=n(65045);function pc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return vc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var yc=null;var gc=n(76979);var hc="edgeLabel-index-AufBE";function bc(e){return bc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bc(e)}function Ec(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ec(Object(n),!0).forEach((function(t){wc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ec(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wc(e,t,n){return t=function(e){var t=function(e,t){if("object"!=bc(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=bc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==bc(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ac(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ac(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ac(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Lc(e){var t=e.color,n=g((function(e){return{flowId:e.flowId}})).flowId;return r.createElement("defs",null,r.createElement("marker",{id:"".concat(n,"_gai_flow_customArrow_").concat(t),markerWidth:"20",markerHeight:"20",refX:"0",refY:"0",viewBox:"-10 -10 20 20",orient:"auto",fill:t},r.createElement("polygon",{strokeLinecap:"round",strokeLinejoin:"round",points:"-5, 3, 2, 0, -5, -3, -4, 0"})))}function Sc(e){var t=e.id,n=e.data,o=(e.selected,e.sourceX),a=e.sourceY,i=e.targetX,l=e.targetY,c=e.sourcePosition,u=e.targetPosition,d=e.style,s=void 0===d?{}:d,f=(e.markerEnd,g((function(e){return{flowId:e.flowId}})).flowId),m=Oc((0,h.Fp)({sourceX:"right"===c?o+0:o,sourceY:"bottom"===c?a+0:a,targetX:"left"===u?i-0:i,targetY:"top"===u?l-0:l,sourcePosition:c,targetPosition:u}),3),p=m[0],v=m[1],y=m[2];return r.createElement(r.Fragment,null,r.createElement(h.tE,{id:"_".concat(f,"__gai_flow_edge_").concat(t),path:p,markerEnd:"url(#".concat(f,"_gai_flow_customArrow_").concat(s.stroke,")"),style:Cc(Cc({},s),{},{strokeDasharray:n.isTemp?"5 5":"initial",strokeWidth:"2"})}),r.createElement(Lc,{color:s.stroke}),n.edgeName?r.createElement(h.rV,null,r.createElement("div",{style:{transform:"translate(-50%, -50%) translate(".concat(v,"px,").concat(y,"px)"),color:n.hasErr?"red":"#212121",background:""===n.edgeName?"transparent":"white",zIndex:1002},className:"".concat(hc),title:n.hasErr?n.errInfo.reduce((function(e,t){return e+t.msg}),""):void 0},n.edgeName)):null)}var Nc={customEdge:(0,r.memo)(Sc)};var xc=function(e){e.connectionLineType;var t=e.fromX,n=void 0===t?0:t,o=e.fromY,a=void 0===o?0:o,i=e.toX,l=void 0===i?0:i,c=e.toY,u=void 0===c?0:c,d=g((function(e){return{flowId:e.flowId}})).flowId;return r.createElement(r.Fragment,null,r.createElement(Lc,{color:"#5582F3"}),r.createElement("g",null,r.createElement("path",{d:"M".concat(n,",").concat(a," C").concat(n+50,",").concat(a," ").concat(l-50,",").concat(u," ").concat(l,",").concat(u),stroke:"#5582F3",strokeDasharray:"2 2",strokeWidth:"2",fill:"none",markerEnd:"url(#".concat(d,"_gai_flow_customArrow_#5582F3)")})))},jc=n(89039),Pc=n(19504);function Ic(e){var t=g((function(e){return{isLock:e.isLock,model:e.model,setIsLock:e.setIsLock}})),n=t.isLock,o=t.model,a=t.setIsLock,i=e.nodes;e.edges;return r.createElement(r.Fragment,null,r.createElement(jc.o,{pannable:!0,draggable:!0,zoomable:!0,nodeColor:"transparent",nodeStrokeColor:function(e){switch(e.type){case"inputNode":return"green";case"outputNode":return"blue";case"conditioin":return"purple";default:return"orange"}},nodeBorderRadius:10}),r.createElement(Pc.H,null,r.createElement(r.Fragment,null,r.createElement(Pc.a,{onClick:function(){return Do(o,"saveFlow",{})}},"save"),r.createElement(Pc.a,{onClick:function(){return null==o?void 0:o.invokeAsync("getModifyName",i[Math.floor(Math.random()*i.length)].id)}},"changeName"),r.createElement(Pc.a,{onClick:function(){return null==o?void 0:o.invokeAsync("getNodeValidate",i[Math.floor(Math.random()*i.length)].id)}},"getError"),r.createElement(Pc.a,{onClick:function(){return null==o?void 0:o.invokeAsync("resetNodeValidate",i[Math.floor(Math.random()*i.length)].id)}},"resetError"),r.createElement(Pc.a,{onClick:function(){return a(!n)}},n?"unLock":"lock"),r.createElement(Pc.a,{onClick:function(){return null==o?void 0:o.invokeAsync("getModifyName",64)}},"changeCondition"))))}var kc="helpLineHorizontal-index-ZZNGd",Fc="helpLineVertical-index-JNzO5",Dc=(0,r.memo)((function(e){var t=e.top,n=e.left,o=e.width,a=(0,h.kW)(),i=a.x,l=a.y,c=a.zoom;return r.createElement("div",{className:kc,style:{top:t*c+l,left:n*c+i,width:o*c}})}));Dc.displayName="HelpLineBase";var Mc=(0,r.memo)((function(e){var t=e.top,n=e.left,o=e.height,a=(0,h.kW)(),i=a.x,l=a.y,c=a.zoom;return r.createElement("div",{className:Fc,style:{top:t*c+l,left:n*c+i,height:o*c}})}));function Rc(){var e=ue((function(e){return e.helpLineHorizontal})),t=ue((function(e){return e.helpLineVertical}));return e||t?r.createElement(r.Fragment,null,e&&r.createElement(Dc,e),t&&r.createElement(Mc,t)):null}Mc.displayName="HelpLineVertical";var Tc=(0,r.memo)(Rc);function Hc(e){return function(e){if(Array.isArray(e))return Bc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(e,t)||_c(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _c(e,t){if(e){if("string"==typeof e)return Bc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bc(e,t):void 0}}function Bc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Uc=(0,Il.Uo)(),Wc=Uc.nodes,Zc=Uc.edges;function zc(){var e=g((function(e){return{isInit:e.isInit,isLock:e.isLock,model:e.model,draftData:e.draftData,setRawData:e.setRawData,currentTemplateFlowDraftData:e.currentTemplateFlowDraftData,currentTemplateFlowRawData:e.currentTemplateFlowRawData,flowId:e.flowId,dropXPosition:e.dropXPosition,dropYPosition:e.dropYPosition,nodeValidates:e.nodeValidates,setInitState:e.setInitState,setDraftData:e.setDraftData,setNodeValidates:e.setNodeValidates,setIsLoading:e.setIsLoading}})),t=(e.isInit,e.isLock),n=(e.model,e.draftData),o=e.currentTemplateFlowDraftData,a=e.currentTemplateFlowRawData,i=e.flowId,l=e.dropXPosition,c=e.dropYPosition,u=e.nodeValidates,d=(e.setInitState,e.setDraftData),s=e.setRawData,f=e.setNodeValidates,m=e.setIsLoading,v=de(),y=Kl(),E=y.handleNodeDragStart,C=y.handleNodeDrag,w=y.handleNodeDragStop,O=y.handleNodeClick,A=y.handlePaneClick,L=y.handleNodeConnect,S=y.onEdgeUpdateEnd,N=y.onEdgeUpdate,x=y.onEdgeUpdateStart,j=y.onConnectEnd,P=y.onConnectStart,I=y.onNodeMouseEnter,k=y.onNodeMouseLeave,F=Ul(),D=F.handleEdgeClick,M=F.handleEdgesChange,R=F.handleEdgeMouseEnter,T=F.handleEdgeMouseLeave,H=F.isValidConnection,V=function(){var e=(0,h.PI)(),t=p(),n=((0,h.VH)().screenToFlowPosition,Kl().handleAddNode),o=(0,mc.A)(q.s9,{wait:16}).run,a=g((function(e){return{model:e.model,setDropPosition:e.setDropPosition}})),i=a.model,l=a.setDropPosition,c=(0,r.useCallback)((function(n){n.preventDefault();var r=null==t?void 0:t.getState().dragNode;if(n.dataTransfer.dropEffect="move",r!==K.Hv.LoopAction){var a=e.getState(),i=a.getNodes,l=a.transform,c=a.setNodes,u=(0,Jl.$P)({screenX:n.clientX,screenY:n.clientY,transform:l}),d=i(),s=o(u,d,l);if(s){yc=s.node;var f=(0,B.jM)(d,(function(e){e.forEach((function(e){e.id===s.node.id&&(e.selected=!0)}))}));c(f)}else if(yc){var m=(0,B.jM)(d,(function(e){e.forEach((function(e){var t;e.id===(null===(t=yc)||void 0===t?void 0:t.id)&&(e.selected=!1)})),yc=null}));c(m)}}}),[e,t]),u=(0,r.useCallback)((function(t){t.preventDefault();var r=t.dataTransfer.getData("application/reactflow"),o=t.dataTransfer.getData("application/reactflowTemplate"),a=e.getState().transform,c=(0,Jl.$P)({screenX:t.clientX,screenY:t.clientY,transform:a});if(l(c.x,c.y),r){var u=pc(a,3);if(u[0],u[1],u[2],void 0===r||!r)return;n(r,c)}else{if(!o)return;var d=JSON.parse(o);null==i||i.invokeAsync("loadFlowTemplate",{id:null==d?void 0:d.id})}}),[]);return{handleDragOver:c,handleDrop:u}}(),_=V.handleDragOver,U=V.handleDrop,W=(0,r.useMemo)((function(){return Nc}),[]),Z=(0,r.useMemo)((function(){return Sl}),[]),z=(0,h.PI)(),G=(0,r.useRef)(null),X=(0,h.VH)(),Y=(X.fitBounds,X.fitView,X.setCenter,X.getEdges),J=Vc((0,h.ck)(0===n.nodes.length?Wc:n.nodes),2),Q=J[0],$=J[1],ee=Vc((0,h.fM)(0===n.edges.length?Zc:n.edges),2),te=ee[0],ne=ee[1],re=(0,r.useRef)(),oe=(0,r.useRef)(null),ae=(0,r.useRef)(null);!function(e){var t=g((function(e){return{isLock:e.isLock,model:e.model,saveStatus:e.saveStatus,modifyName:e.modifyName,nodeValidates:e.nodeValidates,setSaveStatus:e.setSaveStatus}})),n=t.isLock,o=t.model,a=t.saveStatus,i=t.modifyName,l=t.nodeValidates,c=t.setSaveStatus,u=Jo(),d=u.resetErrCode,s=u.setErrCode,f=(0,h.PI)(),m=p().getState().setModifyName;(0,r.useEffect)((function(){var e=f.getState(),t=e.getNodes,n=e.setNodes,r=e.edges,o=e.setEdges,a=t();i&&Bo(i.nodeId)&&(a.find((function(e){return e.id===String(i.nodeId)}))&&n((0,B.jM)(a,(function(e){e.find((function(e){return e.id===String(i.nodeId)})).data.nodeName=i.nodeName}))),r.find((function(e){return e.id===String(i.nodeId)}))&&o((0,B.jM)(r,(function(e){e.forEach((function(e){var t,n=(0,_o.bi)(e.markerEnd,e.style,null===(t=e.data)||void 0===t?void 0:t.hasErr,e.selected),r=n.markerEnd,o=n.style;e.markerEnd=r,e.style=o,e.id===String(i.nodeId)&&(e.label=i.nodeName,e.data.edgeName=i.nodeName)}))}))),m())}),[i,f]),(0,r.useEffect)((function(){if(a){var e=f.getState(),t=e.getNodes,n=e.edges;d();var r=t(),i=Vo(r,n);if(i.hasErr)o&&Do(o,"saveFlow",{errorCodes:Array.from(new Set(i.errIdList.map((function(e){return e.errInfo.code}))))}),s(i);else{var l=(0,Uo.cl)(r,n);o&&Do(o,"saveFlow",l)}c(!1)}}),[a,c,f]),(0,r.useEffect)((function(){var t=f.getState(),r=t.getNodes,o=t.setNodes,a=t.edges,i=t.setEdges,l=r();if(n!==e.current){if(n){var c=(0,B.jM)(l,(function(e){e.forEach((function(e){e.deletable=!1}))})),u=(0,B.jM)(a,(function(e){e.forEach((function(e){e.deletable=!1,e.selected=!1}))}));o(c),i(u)}else{var d=(0,B.jM)(l,(function(e){e.forEach((function(e){"input"===e.data.type||"output"===e.data.type||(e.deletable=!0)}))})),s=(0,B.jM)(a,(function(e){e.forEach((function(e){e.deletable=!1}))}));o(d),i(s)}e.current=n}}),[n,f]),(0,r.useEffect)((function(){var e=f.getState(),t=e.getNodes,n=e.setNodes,r=e.edges,o=e.setEdges,a=t();if(l&&l.length){for(var i=[],c=[],u=function(){var e=l[d];-1!==e.nodeId&&(a.find((function(t){return t.id===String(e.nodeId)}))&&i.push(e),r.find((function(t){return t.id===String(e.nodeId)}))&&c.push(e))},d=0;d<l.length;d++)u();if(i.length){var s=(0,B.jM)(a,(function(e){i.forEach((function(t){var n=e.find((function(e){return e.id===String(t.nodeId)})),r=t.status;"error"===r?n.data=Yo(Yo({},null==n?void 0:n.data),{},{hasErr:!0,errInfo:n.data.errInfo.filter((function(e){return e.code!==K.oM.OTHER.code})).concat({code:K.oM.OTHER.code,msg:t.validMessage})}):"pass"===r&&(n.data.hasErr=!1,n.data.errInfo=[])}))}));n(s)}if(c.length){var m=(0,B.jM)(r,(function(e){c.forEach((function(t){var n=t.status,r=e.find((function(e){return e.id===String(t.nodeId)}));if(r)if("error"===n)(0,_o.Kn)(r,{markerEnd:r.markerEnd,style:r.style,hasErr:!0,selected:r.selected}),r.data=Yo(Yo({},r.data),{},{hasErr:!0,errInfo:r.data.errInfo.filter((function(e){return e.code!==K.oM.OTHER.code})).concat({code:K.oM.OTHER.code,msg:t.validMessage})});else if("pass"===n){var o=r.selected,a=r.markerEnd;(0,_o.Kn)(r,{markerEnd:a,style:r.style,hasErr:!1,selected:o}),r.data=Yo(Yo({},r.data),{},{hasErr:!1,errInfo:[]})}}))}));o(m)}}}),[l])}(oe),function(){var e=Kl().handleNodeDel,t=Ul().handleEdgeDel,n=g((function(e){return{model:e.model}})).model;(0,gc.A)(["delete","backspace"],(function(r){var o=r.target.classList;if(n){var a=n.pageId,i=document.getElementById("".concat(a));if("true"===("123123"===a?"false":null==i?void 0:i.getAttribute("data-tab-hidden")))return;if((o.contains("react-flow__node")||o.contains("react-flow__edge"))&&(r.preventDefault(),t(),e(),n)){var l={id:-1,typeName:"flow"};setTimeout((function(){Do(n,"editFlow",l)}),200)}}}))}();(0,r.useEffect)((function(){var e=n.edges,t=n.nodes;ne(e),$(t),ie(),0!==e.length&&0!==t.length&&setTimeout((function(){le()}),500)}),[n]),(0,r.useEffect)((function(){var e=z.getState().getNodes(),t=Y(),n=Ho()(a);if(!n||"{}"!==JSON.stringify(n))if(e.length>2){try{if(n){var r,i,u,f,m=uc()(n.actions,"properties.position.x"),p=l-(null!==(r=null==m||null===(i=m.properties)||void 0===i||null===(i=i.position)||void 0===i?void 0:i.x)&&void 0!==r?r:0),v=c-(null!==(u=null==m||null===(f=m.properties)||void 0===f||null===(f=f.position)||void 0===f?void 0:f.y)&&void 0!==u?u:0);n.actions.forEach((function(e,t){e.properties.position&&(e.properties.id===m.properties.id?(e.properties.position.x=l,e.properties.position.y=c):(e.properties.position.x+=p,e.properties.position.y+=v))}))}}catch(e){}var y=(0,Uo.o4)(n,!0,!0);z.getState().setNodes(e.concat(Hc(y.nodes))),z.getState().setEdges(t.concat(Hc(y.edges))),ie()}else d(o),s(a),le()}),[o]);var ie=function(){setTimeout((function(){var e=Ho()(u);e&&f(e)}),0)},le=function(){setTimeout((function(){re.current&&re.current.fitView({minZoom:.6,maxZoom:.6}),setTimeout((function(){m(!1)}),100)}),100)};return r.createElement("div",{className:b.gaiFlow,ref:G},r.createElement(Tc,null),r.createElement(h.Gc,{id:"_".concat(i,"_gai_flow"),ref:ae,nodes:Q,edges:te,onEdgesChange:M,onConnect:L,onNodeClick:O,onEdgeClick:D,onEdgeUpdateStart:x,onEdgeUpdate:N,onEdgeUpdateEnd:S,onConnectStart:P,onConnectEnd:j,onNodeMouseEnter:I,onNodeMouseLeave:k,onEdgeMouseEnter:R,onEdgeMouseLeave:T,onNodeDragStart:E,onNodeDrag:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return C.apply(void 0,[G.current].concat(t))},onNodeDragStop:w,nodeTypes:Z,edgeTypes:W,defaultViewport:{zoom:.6,x:0,y:0},onDrop:U,onDragOver:_,onInit:function(e){re.current=e},onClick:function(e){},className:b.flowContent,connectionLineComponent:xc,connectionLineType:h.Do.Bezier,minZoom:.25,maxZoom:2,nodesDraggable:!t,nodesConnectable:!t,nodesFocusable:!t,edgesFocusable:!t,panOnDrag:!t,selectionOnDrag:!0,panOnScroll:!1,multiSelectionKeyCode:null,edgesUpdatable:!t,deleteKeyCode:["Backspace","Delete"],onPaneClick:A,isValidConnection:H,onSelectionChange:function(e){e._nodes;var t=e.edges,n=v.getState().selectedEdges;sc()(null==n?void 0:n.map((function(e){return e.id})),null==t?void 0:t.map((function(e){return e.id})))||v.getState().setSelectedEdge(t)}},r.createElement(fi.V,{id:"_".concat(i,"_gai_flow_background"),gap:[20,20],size:1,color:"#999999",style:{backgroundColor:"#f5f5f5"}}),fc.C?r.createElement(Ic,{nodes:Q,edges:te}):null))}function Gc(){return r.createElement(oe,null,r.createElement(zc,null))}var Xc=(0,r.memo)(Gc);var Yc=function(){var e=g((function(e){return{leftPanelShow:e.leftPanelShow}})).leftPanelShow;return r.createElement(h.Ln,null,r.createElement("div",{className:"".concat(b.content)},r.createElement(lc,null),r.createElement("div",{className:"".concat(e?"":b.mr0," ").concat(b.mainFlow)},r.createElement(Xc,null))))};var Kc=function(){var e=g((function(e){return{isLoading:e.isLoading}})).isLoading;return r.createElement(o.Ay,{value:{prefixCls:"gaiflow",compDefaultProps:{Input:{borderType:"bordered",placeholder:"请输入"},Select:{borderType:"bordered",placeholder:"请选择"}}}},r.createElement("div",{className:"".concat(i)},e&&r.createElement(a.A,{type:"component"}),r.createElement(Yc,null)))}},7077:function(){},71383:function(){}}]);