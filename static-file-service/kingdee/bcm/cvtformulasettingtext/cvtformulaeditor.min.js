/**
 * ueditor完整配置项
 * 可以在这里配置整个编辑器的特性
 */
/**************************提示********************************
 * 所有被注释的配置项均为UEditor默认值。
 * 修改默认配置请首先确保已经完全明确该参数的真实用途。
 * 主要有两种修改方案，一种是取消此处注释，然后修改成对应参数；另一种是在实例化编辑器时传入对应参数。
 * 当升级编辑器时，可直接使用旧版配置文件替换新版配置文件,不用担心旧版配置文件中因缺少新功能所需的参数而导致脚本报错。
 **************************提示********************************/(function(){function D(p,y){var k=p||self.document.URL||self.location.href,u;(u=y)||(u=document.getElementsByTagName("script"),u=u[u.length-1].src);var h=u;/^(\/|\\\\)/.test(u)?h=/^.+?\w(\/|\\\\)/.exec(k)[0]+u.replace(/^(\/|\\\\)/,""):/^[a-z]+:/i.test(u)||(k=k.split("#")[0].split("?")[0].replace(/[^\\\/]+$/,""),h=k+""+u);k=h;u=/^[a-z]+:\/\//.exec(k)[0];var h=null,C=[],k=k.replace(u,"").split("?")[0].split("#")[0],k=k.replace(/\\/g,"/").split(/\//);for(k[k.length-1]="";k.length;)".."===(h=k.shift())?C.pop():"."!==h&&C.push(h);return u+C.join("/")}var E=window.UEDITOR_HOME_URL||D();window.UEDITOR_CONFIG={UEDITOR_HOME_URL:E,serverUrl:E+"jsp/controller.jsp",toolbars:[[]],xssFilterRules:!0,inputXssFilter:!0,outputXssFilter:!0,whitList:{img:"src alt title width height id loadingclass class data-latex style f7key".split(" "),u:[]}};window.UE={getUEBasePath:D}})();(function(){function D(a,d,b){var c;d=d.toLowerCase();return(c=a.__allListeners||b&&(a.__allListeners={}))&&(c[d]||b&&(c[d]=[]))}function E(a,d,b,c,e,f){c=c&&a[d];var n;for(!c&&(c=a[b]);!c&&(n=(n||a).parentNode);){if("BODY"==n.tagName||f&&!f(n))return null;c=n[b]}return c&&e&&!e(c)?E(c,d,b,!1,e):c}UEDITOR_CONFIG=window.UEDITOR_CONFIG||{};var p=window.baidu||{};window.baidu=p;window.UE_CVT=p.editor=window.UE_CVT||{};UE_CVT.plugins={};UE_CVT.commands={};UE_CVT.instants={};UE_CVT.I18N={};UE_CVT._customizeUI={};UE_CVT.version="1.4.3";var y=UE_CVT.dom={},k=UE_CVT.browser=function(){var a=navigator.userAgent.toLowerCase(),d=window.opera,b={ie:/(msie\s|trident.*rv:)([\w.]+)/.test(a),opera:!!d&&d.version,webkit:-1<a.indexOf(" applewebkit/"),mac:-1<a.indexOf("macintosh"),quirks:"BackCompat"==document.compatMode};b.gecko="Gecko"==navigator.product&&!b.webkit&&!b.opera&&!b.ie;var c=0;if(b.ie){var c=a.match(/(?:msie\s([\w.]+))/),e=a.match(/(?:trident.*rv:([\w.]+))/),c=c&&e&&c[1]&&e[1]?Math.max(1*c[1],1*e[1]):c&&c[1]?1*c[1]:e&&e[1]?1*e[1]:0;b.ie11Compat=11==document.documentMode;b.ie9Compat=9==document.documentMode;b.ie8=!!document.documentMode;b.ie8Compat=8==document.documentMode;b.ie7Compat=7==c&&!document.documentMode||7==document.documentMode;b.ie6Compat=7>c||b.quirks;b.ie9above=8<c;b.ie9below=9>c;b.ie11above=10<c;b.ie11below=11>c}b.gecko&&(e=a.match(/rv:([\d\.]+)/))&&(e=e[1].split("."),c=1E4*e[0]+100*(e[1]||0)+1*(e[2]||0));/chrome\/(\d+\.\d)/i.test(a)&&(b.chrome=+RegExp.$1);/(\d+\.\d)?(?:\.\d)?\s+safari\/?(\d+\.\d+)?/i.test(a)&&!/chrome/i.test(a)&&(b.safari=+(RegExp.$1||RegExp.$2));b.opera&&(c=parseFloat(d.version()));b.webkit&&(c=parseFloat(a.match(/ applewebkit\/(\d+)/)[1]));b.version=c;b.isCompatible=!b.mobile&&(b.ie&&6<=c||b.gecko&&10801<=c||b.opera&&9.5<=c||b.air&&1<=c||b.webkit&&522<=c||!1);return b}(),u=k.ie,h=UE_CVT.utils={each:function(a,d,b){if(null!=a)if(a.length===+a.length)for(var c=0,e=a.length;c<e;c++){if(!1===d.call(b,a[c],c,a))return!1}else for(c in a)if(a.hasOwnProperty(c)&&!1===d.call(b,a[c],c,a))return!1},makeInstance:function(a){var d=new Function;d.prototype=a;a=new d;d.prototype=null;return a},extend:function(a,d,b){if(d)for(var c in d)b&&a.hasOwnProperty(c)||(a[c]=d[c]);return a},extend2:function(a){for(var d=arguments,b=1;b<d.length;b++){var c=d[b],e;for(e in c)a.hasOwnProperty(e)||(a[e]=c[e])}return a},inherits:function(a,d){var b=a.prototype,c=h.makeInstance(d.prototype);h.extend(c,b,!0);a.prototype=c;return c.constructor=a},bind:function(a,d){return function(){return a.apply(d,arguments)}},defer:function(a,d,b){var c;return function(){b&&clearTimeout(c);c=setTimeout(a,d)}},indexOf:function(a,d,b){var c=-1;b=this.isNumber(b)?b:0;this.each(a,function(a,f){if(f>=b&&a===d)return c=f,!1});return c},removeItem:function(a,d){for(var b=0,c=a.length;b<c;b++)a[b]===d&&(a.splice(b,1),b--)},trim:function(a){return a.replace(/(^[ \t\n\r]+)|([ \t\n\r]+$)/g,"")},listToMap:function(a){if(!a)return{};a=h.isArray(a)?a:a.split(",");for(var d=0,b,c={};b=a[d++];)c[b.toUpperCase()]=c[b]=1;return c},unhtml:function(a,d){return a?a.replace(d||/[&<">'](?:(amp|lt|quot|gt|#39|nbsp|#\d+);)?/g,function(a,c){return c?a:{"\x3c":"\x26lt;","\x26":"\x26amp;",'"':"\x26quot;","\x3e":"\x26gt;","'":"\x26#39;"}[a]}):""},html:function(a){return a?a.replace(/&((g|l|quo)t|amp|#39|nbsp);/g,function(a){return{"\x26lt;":"\x3c","\x26amp;":"\x26","\x26quot;":'"',"\x26gt;":"\x3e","\x26#39;":"'","\x26nbsp;":" "}[a]}):""},cssStyleToDomStyle:function(){var a=document.createElement("div").style,d={"float":void 0!=a.cssFloat?"cssFloat":void 0!=a.styleFloat?"styleFloat":"float"};return function(a){return d[a]||(d[a]=a.toLowerCase().replace(/-./g,function(a){return a.charAt(1).toUpperCase()}))}}(),loadFile:function(){function a(a,c){try{for(var e=0,f;f=d[e++];)if(f.doc===a&&f.url==(c.src||c.href))return f}catch(n){return null}}var d=[];return function(b,c,e){var f=a(b,c);if(f)f.ready?e&&e():f.funs.push(e);else if(d.push({doc:b,url:c.src||c.href,funs:[e]}),!b.body){e=[];for(var n in c)"tag"!=n&&e.push(n+'\x3d"'+c[n]+'"');b.write("\x3c"+c.tag+" "+e.join(" ")+" \x3e\x3c/"+c.tag+"\x3e")}else if(!c.id||!b.getElementById(c.id)){var l=b.createElement(c.tag);delete c.tag;for(n in c)l.setAttribute(n,c[n]);l.onload=l.onreadystatechange=function(){if(!this.readyState||/loaded|complete/.test(this.readyState)){f=a(b,c);if(0<f.funs.length){f.ready=1;for(var e;e=f.funs.pop();)e()}l.onload=l.onreadystatechange=null}};l.onerror=function(){throw Error("The load "+(c.href||c.src)+" fails,check the url settings of file ueditor.config.js ");};b.getElementsByTagName("head")[0].appendChild(l)}}}(),isEmptyObject:function(a){if(null==a)return!0;if(this.isArray(a)||this.isString(a))return 0===a.length;for(var d in a)if(a.hasOwnProperty(d))return!1;return!0},fixColor:function(a,d){if(/color/i.test(a)&&/rgba?/.test(d)){var b=d.split(",");if(3<b.length)return"";d="#";for(var c=0,e;e=b[c++];)e=parseInt(e.replace(/[^\d]/gi,""),10).toString(16),d+=1==e.length?"0"+e:e;d=d.toUpperCase()}return d},clone:function(a,d){var b;d=d||{};for(var c in a)a.hasOwnProperty(c)&&(b=a[c],"object"==typeof b?(d[c]=h.isArray(b)?[]:{},h.clone(a[c],d[c])):d[c]=b);return d},transUnitToPx:function(a){if(!/(pt|cm)/.test(a))return a;var d;a.replace(/([\d.]+)(\w+)/,function(b,c,e){a=c;d=e});switch(d){case "cm":a=25*parseFloat(a);break;case "pt":a=Math.round(96*parseFloat(a)/72)}return a+(a?"px":"")},domReady:function(){function a(a){for(a.isReady=!0;a=d.pop();a());}var d=[];return function(b,c){c=c||window;var e=c.document;b&&d.push(b);"complete"===e.readyState?a(e):(e.isReady&&a(e),k.ie&&11!=k.version?(function(){if(!e.isReady){try{e.documentElement.doScroll("left")}catch(c){setTimeout(arguments.callee,0);return}a(e)}}(),c.attachEvent("onload",function(){a(e)})):(e.addEventListener("DOMContentLoaded",function(){e.removeEventListener("DOMContentLoaded",arguments.callee,!1);a(e)},!1),c.addEventListener("load",function(){a(e)},!1)))}}(),cssRule:k.ie&&11!=k.version?function(a,d,b){var c,e;if(void 0===d||d&&d.nodeType&&9==d.nodeType){if(b=d&&d.nodeType&&9==d.nodeType?d:b||document,c=b.indexList||(b.indexList={}),e=c[a],void 0!==e)return b.styleSheets[e].cssText}else{b=b||document;c=b.indexList||(b.indexList={});e=c[a];if(""===d)return void 0!==e?(b.styleSheets[e].cssText="",delete c[a],!0):!1;void 0!==e?sheetStyle=b.styleSheets[e]:(sheetStyle=b.createStyleSheet("",e=b.styleSheets.length),c[a]=e);sheetStyle.cssText=d}}:function(a,d,b){var c;if(void 0===d||d&&d.nodeType&&9==d.nodeType)return b=d&&d.nodeType&&9==d.nodeType?d:b||document,(c=b.getElementById(a))?c.innerHTML:void 0;b=b||document;c=b.getElementById(a);if(""===d)return c?(c.parentNode.removeChild(c),!0):!1;c?c.innerHTML=d:(c=b.createElement("style"),c.id=a,c.innerHTML=d,b.getElementsByTagName("head")[0].appendChild(c))},sort:function(a,d){d=d||function(a,e){return a.localeCompare(e)};for(var b=0,c=a.length;b<c;b++)for(var e=b,f=a.length;e<f;e++)if(0<d(a[b],a[e])){var n=a[b];a[b]=a[e];a[e]=n}return a},formatUrl:function(a){a=a.replace(/&&/g,"\x26");a=a.replace(/\?&/g,"?");a=a.replace(/&$/g,"");a=a.replace(/&#/g,"#");return a=a.replace(/&+/g,"\x26")},str2json:function(a){return h.isString(a)?window.JSON?JSON.parse(a):(new Function("return "+h.trim(a||"")))():null},json2str:function(){if(window.JSON)return JSON.stringify;var a=function(a){return 10>a?"0"+a:a},d=function(a){/["\\\x00-\x1f]/.test(a)&&(a=a.replace(/["\\\x00-\x1f]/g,function(a){var c=b[a];if(c)return c;c=a.charCodeAt();return"\\u00"+Math.floor(c/16).toString(16)+(c%16).toString(16)}));return'"'+a+'"'},b={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return function(c){switch(typeof c){case "undefined":return"undefined";case "number":return isFinite(c)?String(c):"null";case "string":return d(c);case "boolean":return String(c);default:if(null===c)return"null";if(h.isArray(c)){var e=["["],f=c.length,b,l,m;for(l=0;l<f;l++)switch(m=c[l],typeof m){case "undefined":case "function":case "unknown":break;default:b&&e.push(","),e.push(h.json2str(m)),b=1}e.push("]");return e.join("")}if(h.isDate(c))return'"'+c.getFullYear()+"-"+a(c.getMonth()+1)+"-"+a(c.getDate())+"T"+a(c.getHours())+":"+a(c.getMinutes())+":"+a(c.getSeconds())+'"';b=["{"];l=h.json2str;for(f in c)if(Object.prototype.hasOwnProperty.call(c,f))switch(m=c[f],typeof m){case "undefined":case "unknown":case "function":break;default:e&&b.push(","),e=1,b.push(l(f)+":"+l(m))}b.push("}");return b.join("")}}}()};h.each("String Function Array Number RegExp Object Date".split(" "),function(a){UE_CVT.utils["is"+a]=function(d){return Object.prototype.toString.apply(d)=="[object "+a+"]"}});var C=UE_CVT.EventBase=function(){};C.prototype={addListener:function(a,d){a=h.trim(a).split(/\s+/);for(var b=0,c;c=a[b++];)D(this,c,!0).push(d)},on:function(a,d){return this.addListener(a,d)},off:function(a,d){return this.removeListener(a,d)},trigger:function(){return this.fireEvent.apply(this,arguments)},removeListener:function(a,d){a=h.trim(a).split(/\s+/);for(var b=0,c;c=a[b++];)h.removeItem(D(this,c)||[],d)},fireEvent:function(){for(var a=arguments[0],a=h.trim(a).split(" "),d=0,b;b=a[d++];){var c=D(this,b),e,f,n;if(c)for(n=c.length;n--;)if(c[n]){f=c[n].apply(this,arguments);if(!0===f)return f;void 0!==f&&(e=f)}if(f=this["on"+b.toLowerCase()])e=f.apply(this,arguments)}return e}};var q=y.dtd=function(){function a(a){for(var e in a)a[e.toUpperCase()]=a[e];return a}var d=h.extend2,b=a({isindex:1,fieldset:1}),c=a({input:1,button:1,select:1,textarea:1,label:1}),e=d(a({a:1}),c),f=d({iframe:1},e),n=a({hr:1,ul:1,menu:1,div:1,blockquote:1,noscript:1,table:1,center:1,address:1,dir:1,pre:1,h5:1,dl:1,h4:1,noframes:1,h6:1,ol:1,h1:1,h3:1,h2:1}),l=a({ins:1,del:1,script:1,style:1}),m=d(a({b:1,acronym:1,bdo:1,"var":1,"#":1,abbr:1,code:1,br:1,i:1,cite:1,kbd:1,u:1,strike:1,s:1,tt:1,strong:1,q:1,samp:1,em:1,dfn:1,span:1}),l),F=d(a({sub:1,img:1,embed:1,object:1,sup:1,basefont:1,map:1,applet:1,font:1,big:1,small:1}),m),v=d(a({p:1}),F),c=d(a({iframe:1}),F,c),F=a({img:1,embed:1,noscript:1,br:1,kbd:1,center:1,button:1,basefont:1,h5:1,h4:1,samp:1,h6:1,ol:1,h1:1,h3:1,h2:1,form:1,font:1,"#":1,select:1,menu:1,ins:1,abbr:1,label:1,code:1,table:1,script:1,cite:1,input:1,iframe:1,strong:1,textarea:1,noframes:1,big:1,small:1,span:1,hr:1,sub:1,bdo:1,"var":1,div:1,object:1,sup:1,strike:1,dir:1,map:1,dl:1,applet:1,del:1,isindex:1,fieldset:1,ul:1,b:1,acronym:1,a:1,blockquote:1,i:1,u:1,s:1,tt:1,address:1,q:1,pre:1,p:1,em:1,dfn:1}),r=d(a({a:0}),c),t=a({tr:1}),g=a({"#":1}),k=d(a({param:1}),F),z=d(a({form:1}),b,f,n,v),p=a({li:1,ol:1,ul:1}),q=a({style:1,script:1}),H=a({base:1,link:1,meta:1,title:1}),q=d(H,q),u=a({head:1,body:1}),B=a({html:1}),w=a({address:1,blockquote:1,center:1,dir:1,div:1,dl:1,fieldset:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,hr:1,isindex:1,menu:1,noframes:1,ol:1,p:1,pre:1,table:1,ul:1}),A=a({area:1,base:1,basefont:1,br:1,col:1,command:1,dialog:1,embed:1,hr:1,img:1,input:1,isindex:1,keygen:1,link:1,meta:1,param:1,source:1,track:1,wbr:1});return a({$nonBodyContent:d(B,u,H),$block:w,$inline:r,$inlineWithA:d(a({a:1}),r),$body:d(a({script:1,style:1}),w),$cdata:a({script:1,style:1}),$empty:A,$nonChild:a({iframe:1,textarea:1}),$listItem:a({dd:1,dt:1,li:1}),$list:a({ul:1,ol:1,dl:1}),$isNotEmpty:a({table:1,ul:1,ol:1,dl:1,iframe:1,area:1,base:1,col:1,hr:1,img:1,embed:1,input:1,link:1,meta:1,param:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1}),$removeEmpty:a({a:1,abbr:1,acronym:1,address:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,s:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,"var":1}),$removeEmptyBlock:a({p:1,div:1}),$tableContent:a({caption:1,col:1,colgroup:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1,table:1}),$notTransContent:a({pre:1,script:1,style:1,textarea:1}),html:u,head:q,style:g,script:g,body:z,base:{},link:{},meta:{},title:g,col:{},tr:a({td:1,th:1}),img:{},embed:{},colgroup:a({thead:1,col:1,tbody:1,tr:1,tfoot:1}),noscript:z,td:z,br:{},th:z,center:z,kbd:r,button:d(v,n),basefont:{},h5:r,h4:r,samp:r,h6:r,ol:p,h1:r,h3:r,option:g,h2:r,form:d(b,f,n,v),select:a({optgroup:1,option:1}),font:r,ins:r,menu:p,abbr:r,label:r,table:a({thead:1,col:1,tbody:1,tr:1,colgroup:1,caption:1,tfoot:1}),code:r,tfoot:t,cite:r,li:z,input:{},iframe:z,strong:r,textarea:g,noframes:z,big:r,small:r,span:a({"#":1,br:1,b:1,strong:1,u:1,i:1,em:1,sub:1,sup:1,strike:1,span:1}),hr:r,dt:r,sub:r,optgroup:a({option:1}),param:{},bdo:r,"var":r,div:z,object:k,sup:r,dd:z,strike:r,area:{},dir:p,map:d(a({area:1,form:1,p:1}),b,l,n),applet:k,dl:a({dt:1,dd:1}),del:r,isindex:{},fieldset:d(a({legend:1}),F),thead:t,ul:p,acronym:r,b:r,a:d(a({a:1}),c),blockquote:d(a({td:1,tr:1,tbody:1,li:1}),z),caption:r,i:r,u:r,tbody:t,s:r,address:d(f,v),tt:r,legend:r,q:r,pre:d(m,e),p:d(a({a:1}),r),em:r,dfn:r})}(),I=u&&9>k.version?{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder"}:{tabindex:"tabIndex",readonly:"readOnly"},J=h.listToMap("-webkit-box -moz-box block list-item table table-row-group table-header-group table-footer-group table-row table-column-group table-column table-cell table-caption".split(" ")),g=y.domUtils={NODE_ELEMENT:1,NODE_DOCUMENT:9,NODE_TEXT:3,NODE_COMMENT:8,NODE_DOCUMENT_FRAGMENT:11,POSITION_IDENTICAL:0,POSITION_DISCONNECTED:1,POSITION_FOLLOWING:2,POSITION_PRECEDING:4,POSITION_IS_CONTAINED:8,POSITION_CONTAINS:16,fillChar:u&&"6"==k.version?"\ufeff":"\u200b",keys:{8:1,46:1,16:1,17:1,18:1,37:1,38:1,39:1,40:1,13:1},getPosition:function(a,d){if(a===d)return 0;var b,c=[a],e=[d];for(b=a;b=b.parentNode;){if(b===d)return 10;c.push(b)}for(b=d;b=b.parentNode;){if(b===a)return 20;e.push(b)}c.reverse();e.reverse();if(c[0]!==e[0])return 1;for(b=-1;b++,c[b]===e[b];);a=c[b];for(d=e[b];a=a.nextSibling;)if(a===d)return 4;return 2},getNodeIndex:function(a,d){for(var b=a,c=0;b=b.previousSibling;)d&&3==b.nodeType?b.nodeType!=b.nextSibling.nodeType&&c++:c++;return c},inDoc:function(a,d){return 10==g.getPosition(a,d)},findParent:function(a,d,b){if(a&&!g.isBody(a))for(a=b?a:a.parentNode;a;){if(!d||d(a)||g.isBody(a))return d&&!d(a)&&g.isBody(a)?null:a;a=a.parentNode}return null},findParentByTagName:function(a,d,b,c){d=h.listToMap(h.isArray(d)?d:[d]);return g.findParent(a,function(a){return d[a.tagName]&&!(c&&c(a))},b)},findParents:function(a,d,b,c){for(d=d&&(b&&b(a)||!b)?[a]:[];a=g.findParent(a,b);)d.push(a);return c?d:d.reverse()},insertAfter:function(a,d){return a.nextSibling?a.parentNode.insertBefore(d,a.nextSibling):a.parentNode.appendChild(d)},remove:function(a,d){var b=a.parentNode,c;if(b){if(d&&a.hasChildNodes())for(;c=a.firstChild;)b.insertBefore(c,a);b.removeChild(a)}return a},getNextDomNode:function(a,d,b,c){return E(a,"firstChild","nextSibling",d,b,c)},getPreDomNode:function(a,d,b,c){return E(a,"lastChild","previousSibling",d,b,c)},isBookmarkNode:function(a){return 1==a.nodeType&&a.id&&/^_baidu_bookmark_/i.test(a.id)},getWindow:function(a){a=a.ownerDocument||a;return a.defaultView||a.parentWindow},getCommonAncestor:function(a,d){if(a===d)return a;for(var b=[a],c=[d],e=a,f=-1;e=e.parentNode;){if(e===d)return e;b.push(e)}for(e=d;e=e.parentNode;){if(e===a)return e;c.push(e)}b.reverse();for(c.reverse();f++,b[f]===c[f];);return 0==f?null:b[f-1]},split:function(a,d){var b=a.ownerDocument;if(k.ie&&d==a.nodeValue.length){var c=b.createTextNode("");return g.insertAfter(a,c)}c=a.splitText(d);k.ie8&&(b=b.createTextNode(""),g.insertAfter(c,b),g.remove(b));return c},isWhitespace:function(a){return!(new RegExp("[^ \t\n\r"+g.fillChar+"]")).test(a.nodeValue)},getXY:function(a){for(var d=0,b=0;a.offsetParent;)b+=a.offsetTop,d+=a.offsetLeft,a=a.offsetParent;return{x:d,y:b}},on:function(a,d,b){var c=h.isArray(d)?d:h.trim(d).split(/\s+/),e=c.length;if(e)for(;e--;)if(d=c[e],a.addEventListener)a.addEventListener(d,b,!1);else{b._d||(b._d={els:[]});var f=d+b.toString(),n=h.indexOf(b._d.els,a);b._d[f]&&-1!=n||(-1==n&&b._d.els.push(a),b._d[f]||(b._d[f]=function(a){return b.call(a.srcElement,a||window.event)}),a.attachEvent("on"+d,b._d[f]))}a=null},un:function(a,d,b){var c=h.isArray(d)?d:h.trim(d).split(/\s+/),e=c.length;if(e)for(;e--;)if(d=c[e],a.removeEventListener)a.removeEventListener(d,b,!1);else{var f=d+b.toString();try{a.detachEvent("on"+d,b._d?b._d[f]:b)}catch(n){}b._d&&b._d[f]&&(d=h.indexOf(b._d.els,a),-1!=d&&b._d.els.splice(d,1),0==b._d.els.length&&delete b._d[f])}},isSameElement:function(a,d){if(a.tagName!=d.tagName)return!1;var b=a.attributes,c=d.attributes;if(!u&&b.length!=c.length)return!1;for(var e,f,n=0,l=0,m=0;e=b[m++];){if("style"==e.nodeName)if(e.specified&&n++,g.isSameStyle(a,d))continue;else return!1;if(u)if(e.specified)n++,f=c.getNamedItem(e.nodeName);else continue;else f=d.attributes[e.nodeName];if(!f.specified||e.nodeValue!=f.nodeValue)return!1}if(u){for(m=0;f=c[m++];)f.specified&&l++;if(n!=l)return!1}return!0},isSameStyle:function(a,d){var b=a.style.cssText.replace(/( ?; ?)/g,";").replace(/( ?: ?)/g,":"),c=d.style.cssText.replace(/( ?; ?)/g,";").replace(/( ?: ?)/g,":");if(k.opera){b=a.style;c=d.style;if(b.length!=c.length)return!1;for(var e in b)if(!/^(\d+|csstext)$/i.test(e)&&b[e]!=c[e])return!1;return!0}if(!b||!c)return b==c;b=b.split(";");c=c.split(";");if(b.length!=c.length)return!1;e=0;for(var f;f=b[e++];)if(-1==h.indexOf(c,f))return!1;return!0},isBlockElm:function(a){return 1==a.nodeType&&(q.$block[a.tagName]||J[g.getComputedStyle(a,"display")])&&!q.$nonChild[a.tagName]},isBody:function(a){return a&&1==a.nodeType&&"body"==a.tagName.toLowerCase()},breakParent:function(a,d){var b,c=a,e=a,f,n;do{c=c.parentNode;f?(b=c.cloneNode(!1),b.appendChild(f),f=b,b=c.cloneNode(!1),b.appendChild(n),n=b):(f=c.cloneNode(!1),n=f.cloneNode(!1));for(;b=e.previousSibling;)f.insertBefore(b,f.firstChild);for(;b=e.nextSibling;)n.appendChild(b);e=c}while(d!==c);b=d.parentNode;b.insertBefore(f,d);b.insertBefore(n,d);b.insertBefore(a,n);g.remove(d);return a},isEmptyInlineElement:function(a){if(1!=a.nodeType||!q.$removeEmpty[a.tagName])return 0;for(a=a.firstChild;a;){if(g.isBookmarkNode(a)||1==a.nodeType&&!g.isEmptyInlineElement(a)||3==a.nodeType&&!g.isWhitespace(a))return 0;a=a.nextSibling}return 1},trimWhiteTextNode:function(a){function d(b){for(var c;(c=a[b])&&3==c.nodeType&&g.isWhitespace(c);)a.removeChild(c)}d("firstChild");d("lastChild")},getElementsByTagName:function(a,d,b){if(b&&h.isString(b)){var c=b;b=function(a){return g.hasClass(a,c)}}d=h.trim(d).replace(/[ ]{2,}/g," ").split(" ");for(var e=[],f=0,n;n=d[f++];){n=a.getElementsByTagName(n);for(var l=0,m;m=n[l++];)b&&!b(m)||e.push(m)}return e},mergeSibling:function(a,d,b){function c(a,c,b){var d;if((d=b[a])&&!g.isBookmarkNode(d)&&1==d.nodeType&&g.isSameElement(b,d)){for(;d.firstChild;)"firstChild"==c?b.insertBefore(d.lastChild,b.firstChild):b.appendChild(d.firstChild);g.remove(d)}}!d&&c("previousSibling","firstChild",a);!b&&c("nextSibling","lastChild",a)},unSelectable:u&&k.ie9below||k.opera?function(a){a.onselectstart=function(){return!1};a.onclick=a.onkeyup=a.onkeydown=function(){return!1};a.unselectable="on";a.setAttribute("unselectable","on");for(var d=0,b;b=a.all[d++];)switch(b.tagName.toLowerCase()){case "iframe":case "textarea":case "input":case "select":break;default:b.unselectable="on",a.setAttribute("unselectable","on")}}:function(a){a.style.MozUserSelect=a.style.webkitUserSelect=a.style.msUserSelect=a.style.KhtmlUserSelect="none"},removeAttributes:function(a,d){d=h.isArray(d)?d:h.trim(d).replace(/[ ]{2,}/g," ").split(" ");for(var b=0,c;c=d[b++];){c=I[c]||c;switch(c){case "className":a[c]="";break;case "style":a.style.cssText="";var e=a.getAttributeNode("style");!k.ie&&e&&a.removeAttributeNode(e)}a.removeAttribute(c)}},createElement:function(a,d,b){return g.setAttributes(a.createElement(d),b)},setAttributes:function(a,d){for(var b in d)if(d.hasOwnProperty(b)){var c=d[b];switch(b){case "class":a.className=c;break;case "style":a.style.cssText=a.style.cssText+";"+c;break;case "innerHTML":a[b]=c;break;case "value":a.value=c;break;default:a.setAttribute(I[b]||b,c)}}return a},getComputedStyle:function(a,d){if(-1<"width height top left".indexOf(d))return a["offset"+d.replace(/^\w/,function(a){return a.toUpperCase()})]+"px";3==a.nodeType&&(a=a.parentNode);if(k.ie&&9>k.version&&"font-size"==d&&!a.style.fontSize&&!q.$empty[a.tagName]&&!q.$nonChild[a.tagName]){var b=a.ownerDocument.createElement("span");b.style.cssText="padding:0;border:0;font-family:simsun;";b.innerHTML=".";a.appendChild(b);var c=b.offsetHeight;a.removeChild(b);b=null;return c+"px"}try{b=g.getStyle(a,d)||(window.getComputedStyle?g.getWindow(a).getComputedStyle(a,"").getPropertyValue(d):(a.currentStyle||a.style)[h.cssStyleToDomStyle(d)])}catch(e){return""}return h.transUnitToPx(h.fixColor(d,b))},removeClasses:function(a,d){d=h.isArray(d)?d:h.trim(d).replace(/[ ]{2,}/g," ").split(" ");for(var b=0,c,e=a.className;c=d[b++];)e=e.replace(new RegExp("\\b"+c+"\\b"),"");(e=h.trim(e).replace(/[ ]{2,}/g," "))?a.className=e:g.removeAttributes(a,["class"])},addClass:function(a,d){if(a){d=h.trim(d).replace(/[ ]{2,}/g," ").split(" ");for(var b=0,c,e=a.className;c=d[b++];)(new RegExp("\\b"+c+"\\b")).test(e)||(e+=" "+c);a.className=h.trim(e)}},hasClass:function(a,d){if(h.isRegExp(d))return d.test(a.className);d=h.trim(d).replace(/[ ]{2,}/g," ").split(" ");for(var b=0,c,e=a.className;c=d[b++];)if(!(new RegExp("\\b"+c+"\\b","i")).test(e))return!1;return b-1==d.length},preventDefault:function(a){a.preventDefault?a.preventDefault():a.returnValue=!1},getStyle:function(a,d){var b=a.style[h.cssStyleToDomStyle(d)];return h.fixColor(d,b)},setStyle:function(a,d,b){a.style[h.cssStyleToDomStyle(d)]=b;h.trim(a.style.cssText)||this.removeAttributes(a,"style")},setStyles:function(a,d){for(var b in d)d.hasOwnProperty(b)&&g.setStyle(a,b,d[b])},getChildCount:function(a,d){var b=0,c=a.firstChild;for(d=d||function(){return 1};c;)d(c)&&b++,c=c.nextSibling;return b},isEmptyNode:function(a){return!a.firstChild||0==g.getChildCount(a,function(a){return!g.isBr(a)&&!g.isBookmarkNode(a)&&!g.isWhitespace(a)})},scrollToView:function(a,d,b){var c=function(){var a=d.document,c="CSS1Compat"==a.compatMode;return{width:(c?a.documentElement.clientWidth:a.body.clientWidth)||0,height:(c?a.documentElement.clientHeight:a.body.clientHeight)||0}}().height;b=-1*c+b+(a.offsetHeight||0);a=g.getXY(a);b+=a.y;a=function(a){if("pageXOffset"in a)return{x:a.pageXOffset||0,y:a.pageYOffset||0};a=a.document;return{x:a.documentElement.scrollLeft||a.body.scrollLeft||0,y:a.documentElement.scrollTop||a.body.scrollTop||0}}(d).y;(b>a||b<a-c)&&d.scrollTo(0,b+(0>b?-20:20))},isBr:function(a){return 1==a.nodeType&&"BR"==a.tagName},isFillChar:function(a,d){if(3!=a.nodeType)return!1;var b=a.nodeValue;return d?(new RegExp("^"+g.fillChar)).test(b):!b.replace(new RegExp(g.fillChar,"g"),"").length},isEmptyBlock:function(a,d){if(1!=a.nodeType)return 0;d=d||new RegExp("[ \u00a0\t\r\n"+g.fillChar+"]","g");if(0<a[k.ie?"innerText":"textContent"].replace(d,"").length)return 0;for(var b in q.$isNotEmpty)if(a.getElementsByTagName(b).length)return 0;return 1},setViewportOffset:function(a,d){var b=parseInt(a.style.left)|0,c=parseInt(a.style.top)|0,e=a.getBoundingClientRect(),f=d.left-e.left,e=d.top-e.top;f&&(a.style.left=b+f+"px");e&&(a.style.top=c+e+"px")},isCustomeNode:function(a){return 1==a.nodeType&&a.getAttribute("_ue_custom_node_")},isBoundaryNode:function(a,d){for(var b;!g.isBody(a);)if(b=a,a=a.parentNode,b!==a[d])return!1;return!0},fillHtml:k.ie11below?"\x26nbsp;":"\x3cbr/\x3e"},G=new RegExp(g.fillChar,"g");(function(){function a(a){return!a.collapsed&&1==a.startContainer.nodeType&&a.startContainer===a.endContainer&&1==a.endOffset-a.startOffset}function d(a,e,c,b){1==e.nodeType&&(q.$empty[e.tagName]||q.$nonChild[e.tagName])&&(c=g.getNodeIndex(e)+(a?0:1),e=e.parentNode);a?(b.startContainer=e,b.startOffset=c,b.endContainer||b.collapse(!0)):(b.endContainer=e,b.endOffset=c,b.startContainer||b.collapse(!1));b.collapsed=b.startContainer&&b.endContainer&&b.startContainer===b.endContainer&&b.startOffset==b.endOffset;return b}function b(a,e){try{if(n&&g.inDoc(n,a))if(n.nodeValue.replace(G,"").length)n.nodeValue=n.nodeValue.replace(G,"");else{var c=n.parentNode;for(g.remove(n);c&&g.isEmptyInlineElement(c)&&(k.safari?!(g.getPosition(c,e)&g.POSITION_CONTAINS):!c.contains(e));)n=c.parentNode,g.remove(c),c=n}}catch(b){}}function c(a,e){var c;for(a=a[e];a&&g.isFillChar(a);)c=a[e],g.remove(a),a=c}var e=0,f=g.fillChar,n,l=y.Range=function(a){this.startContainer=this.startOffset=this.endContainer=this.endOffset=null;this.document=a;this.collapsed=!0};l.prototype={deleteContents:function(){var a;if(!this.collapsed){a=this.startContainer;var e=this.endContainer,c=this.startOffset,b=this.endOffset,f=this.document,d=f.createDocumentFragment(),n,l;1==a.nodeType&&(a=a.childNodes[c]||(n=a.appendChild(f.createTextNode(""))));1==e.nodeType&&(e=e.childNodes[b]||(l=e.appendChild(f.createTextNode(""))));if(a===e&&3==a.nodeType)d.appendChild(f.createTextNode(a.substringData(c,b-c))),a.deleteData(c,b-c),this.collapse(!0);else{for(var h,p,q=d,u=g.findParents(a,!0),B=g.findParents(e,!0),w=0;u[w]==B[w];)w++;for(var A=w,y;y=u[A];A++){h=y.nextSibling;y==a?n||(3==this.startContainer.nodeType?(q.appendChild(f.createTextNode(a.nodeValue.slice(c))),a.deleteData(c,a.nodeValue.length-c)):q.appendChild(a)):(p=y.cloneNode(!1),q.appendChild(p));for(;h&&h!==e&&h!==B[A];)y=h.nextSibling,q.appendChild(h),h=y;q=p}q=d;u[w]||(q.appendChild(u[w-1].cloneNode(!1)),q=q.firstChild);for(A=w;c=B[A];A++){h=c.previousSibling;c==e?l||3!=this.endContainer.nodeType||(q.appendChild(f.createTextNode(e.substringData(0,b))),e.deleteData(0,b)):(p=c.cloneNode(!1),q.appendChild(p));if(A!=w||!u[w])for(;h&&h!==a;)c=h.previousSibling,q.insertBefore(h,q.firstChild),h=c;q=p}this.setStartBefore(B[w]?u[w]?B[w]:u[w-1]:B[w-1]).collapse(!0);n&&g.remove(n);l&&g.remove(l)}}k.webkit&&(a=this.startContainer,3!=a.nodeType||a.nodeValue.length||(this.setStartBefore(a).collapse(!0),g.remove(a)));return this},setStart:function(a,e){return d(!0,a,e,this)},setEnd:function(a,e){return d(!1,a,e,this)},setStartAfter:function(a){return this.setStart(a.parentNode,g.getNodeIndex(a)+1)},setStartBefore:function(a){return this.setStart(a.parentNode,g.getNodeIndex(a))},setEndAfter:function(a){return this.setEnd(a.parentNode,g.getNodeIndex(a)+1)},setEndBefore:function(a){return this.setEnd(a.parentNode,g.getNodeIndex(a))},setStartAtFirst:function(a){return this.setStart(a,0)},setStartAtLast:function(a){return this.setStart(a,3==a.nodeType?a.nodeValue.length:a.childNodes.length)},setEndAtLast:function(a){return this.setEnd(a,3==a.nodeType?a.nodeValue.length:a.childNodes.length)},selectNode:function(a){return this.setStartBefore(a).setEndAfter(a)},selectNodeContents:function(a){return this.setStart(a,0).setEndAtLast(a)},cloneRange:function(){return(new l(this.document)).setStart(this.startContainer,this.startOffset).setEnd(this.endContainer,this.endOffset)},collapse:function(a){a?(this.endContainer=this.startContainer,this.endOffset=this.startOffset):(this.startContainer=this.endContainer,this.startOffset=this.endOffset);this.collapsed=!0;return this},shrinkBoundary:function(a){function e(a){return 1==a.nodeType&&!g.isBookmarkNode(a)&&!q.$empty[a.tagName]&&!q.$nonChild[a.tagName]}for(var c,b=this.collapsed;1==this.startContainer.nodeType&&(c=this.startContainer.childNodes[this.startOffset])&&e(c);)this.setStart(c,0);if(b)return this.collapse(!0);if(!a)for(;1==this.endContainer.nodeType&&0<this.endOffset&&(c=this.endContainer.childNodes[this.endOffset-1])&&e(c);)this.setEnd(c,c.childNodes.length);return this},getCommonAncestor:function(e,c){var b=this.startContainer,f=this.endContainer;return b===f?e&&a(this)&&(b=b.childNodes[this.startOffset],1==b.nodeType)?b:c&&3==b.nodeType?b.parentNode:b:g.getCommonAncestor(b,f)},trimBoundary:function(a){this.txtToElmBoundary();var e=this.startContainer,c=this.startOffset,b=this.collapsed,f=this.endContainer;if(3==e.nodeType){if(0==c)this.setStartBefore(e);else if(c>=e.nodeValue.length)this.setStartAfter(e);else{var d=g.split(e,c);e===f?this.setEnd(d,this.endOffset-c):e.parentNode===f&&(this.endOffset+=1);this.setStartBefore(d)}if(b)return this.collapse(!0)}a||(c=this.endOffset,f=this.endContainer,3==f.nodeType&&(0==c?this.setEndBefore(f):(c<f.nodeValue.length&&g.split(f,c),this.setEndAfter(f))));return this},txtToElmBoundary:function(a){function e(a,c){var b=a[c+"Container"],f=a[c+"Offset"];if(3==b.nodeType)if(!f)a["set"+c.replace(/(\w)/,function(a){return a.toUpperCase()})+"Before"](b);else if(f>=b.nodeValue.length)a["set"+c.replace(/(\w)/,function(a){return a.toUpperCase()})+"After"](b)}if(a||!this.collapsed)e(this,"start"),e(this,"end");return this},insertNode:function(a){var e=a,c=1;11==a.nodeType&&(e=a.firstChild,c=a.childNodes.length);this.trimBoundary(!0);var b=this.startContainer,f=b.childNodes[this.startOffset];f?b.insertBefore(a,f):b.appendChild(a);e.parentNode===this.endContainer&&(this.endOffset+=c);return this.setStartBefore(e)},setCursor:function(a,e){return this.collapse(!a).select(e)},createBookmark:function(a,c){var b,f=this.document.createElement("span");f.style.cssText="display:none;line-height:0px;";f.appendChild(this.document.createTextNode("\u200d"));f.id="_baidu_bookmark_start_"+(c?"":e++);this.collapsed||(b=f.cloneNode(!0),b.id="_baidu_bookmark_end_"+(c?"":e++));this.insertNode(f);b&&this.collapse().insertNode(b).setEndBefore(b);this.setStartAfter(f);return{start:a?f.id:f,end:b?a?b.id:b:null,id:a}},moveToBookmark:function(a){var e=a.id?this.document.getElementById(a.start):a.start;a=a.end&&a.id?this.document.getElementById(a.end):a.end;this.setStartBefore(e);g.remove(e);a?(this.setEndBefore(a),g.remove(a)):this.collapse(!0);return this},adjustmentBoundary:function(){if(!this.collapsed){for(;!g.isBody(this.startContainer)&&this.startOffset==this.startContainer[3==this.startContainer.nodeType?"nodeValue":"childNodes"].length&&this.startContainer[3==this.startContainer.nodeType?"nodeValue":"childNodes"].length;)this.setStartAfter(this.startContainer);for(;!g.isBody(this.endContainer)&&!this.endOffset&&this.endContainer[3==this.endContainer.nodeType?"nodeValue":"childNodes"].length;)this.setEndBefore(this.endContainer)}return this},getClosedNode:function(){var e;if(!this.collapsed){var c=this.cloneRange().adjustmentBoundary().shrinkBoundary();a(c)&&(c=c.startContainer.childNodes[c.startOffset])&&1==c.nodeType&&(q.$empty[c.tagName]||q.$nonChild[c.tagName])&&(e=c)}return e},select:k.ie?function(a,e){var d;this.collapsed||this.shrinkBoundary();var l=this.getClosedNode();if(l&&!e){try{d=this.document.body.createControlRange(),d.addElement(l),d.select()}catch(h){}return this}var l=this.createBookmark(),t=l.start;d=this.document.body.createTextRange();d.moveToElementText(t);d.moveStart("character",1);if(!this.collapsed){var x=this.document.body.createTextRange(),t=l.end;x.moveToElementText(t);d.setEndPoint("EndToEnd",x)}else if(!a&&3!=this.startContainer.nodeType){var x=this.document.createTextNode(f),k=this.document.createElement("span");k.appendChild(this.document.createTextNode(f));t.parentNode.insertBefore(k,t);t.parentNode.insertBefore(x,t);b(this.document,x);n=x;c(k,"previousSibling");c(t,"nextSibling");d.moveStart("character",-1);d.collapse(!0)}this.moveToBookmark(l);k&&g.remove(k);try{d.select()}catch(h){}return this}:function(a){function e(a){function c(e,b,f){3==e.nodeType&&e.nodeValue.length<b&&(a[f+"Offset"]=e.nodeValue.length)}c(a.startContainer,a.startOffset,"start");c(a.endContainer,a.endOffset,"end")}var d=g.getWindow(this.document),l=d.getSelection();k.gecko?this.document.body.focus():d.focus();if(l){l.removeAllRanges();this.collapsed&&!a&&(a=d=this.startContainer,1==d.nodeType&&(a=d.childNodes[this.startOffset]),3==d.nodeType&&this.startOffset||(a?a.previousSibling&&3==a.previousSibling.nodeType:d.lastChild&&3==d.lastChild.nodeType)||(a=this.document.createTextNode(f),this.insertNode(a),b(this.document,a),c(a,"previousSibling"),c(a,"nextSibling"),n=a,this.setStart(a,k.webkit?1:0).collapse(!0)));d=this.document.createRange();if(this.collapsed&&k.opera&&1==this.startContainer.nodeType)if(a=this.startContainer.childNodes[this.startOffset]){for(;a&&g.isBlockElm(a);)if(1==a.nodeType&&a.childNodes[0])a=a.childNodes[0];else break;a&&this.setStartBefore(a).collapse(!0)}else(a=this.startContainer.lastChild)&&g.isBr(a)&&this.setStartBefore(a).collapse(!0);e(this);d.setStart(this.startContainer,this.startOffset);d.setEnd(this.endContainer,this.endOffset)}return this},scrollToView:function(a,e){a=a?window:g.getWindow(this.document);var c=this.document.createElement("span");c.innerHTML="\x26nbsp;";this.cloneRange().insertNode(c);g.scrollToView(c,a,e);g.remove(c);return this},inFillChar:function(){var a=this.startContainer;return this.collapsed&&3==a.nodeType&&a.nodeValue.replace(new RegExp("^"+g.fillChar),"").length+1==a.nodeValue.length?!0:!1},traversal:function(a,e){if(this.collapsed)return this;for(var c=this.createBookmark(),b=c.end,f=g.getNextDomNode(c.start,!1,e);f&&f!==b&&g.getPosition(f,b)&g.POSITION_PRECEDING;){var d=g.getNextDomNode(f,!1,e);a(f);f=d}return this.moveToBookmark(c)}}})();(function(){function a(a,e){var b=g.getNodeIndex;a=a.duplicate();a.collapse(e);var d=a.parentElement();if(!d.hasChildNodes())return{container:d,offset:0};for(var l=d.children,m,h=a.duplicate(),v=0,r=l.length-1,t=-1;v<=r;){t=Math.floor((v+r)/2);m=l[t];h.moveToElementText(m);var x=h.compareEndPoints("StartToStart",a);if(0<x)r=t-1;else if(0>x)v=t+1;else return{container:d,offset:b(m)}}if(-1==t){h.moveToElementText(d);h.setEndPoint("StartToStart",a);h=h.text.replace(/(\r\n|\r)/g,"\n").length;l=d.childNodes;if(!h)return m=l[l.length-1],{container:m,offset:m.nodeValue.length};for(b=l.length;0<h;)h-=l[--b].nodeValue.length;return{container:l[b],offset:-h}}h.collapse(0<x);h.setEndPoint(0<x?"StartToStart":"EndToStart",a);h=h.text.replace(/(\r\n|\r)/g,"\n").length;if(!h)return q.$empty[m.tagName]||q.$nonChild[m.tagName]?{container:d,offset:b(m)+(0<x?0:1)}:{container:m,offset:0<x?0:m.childNodes.length};for(;0<h;)try{l=m,m=m[0<x?"previousSibling":"nextSibling"],h-=m.nodeValue.length}catch(k){return{container:d,offset:b(l)}}return{container:m,offset:0<x?-h:m.nodeValue.length+h}}function d(c,e){if(c.item)e.selectNode(c.item(0));else{var b=a(c,!0);e.setStart(b.container,b.offset);0!=c.compareEndPoints("StartToEnd",c)&&(b=a(c,!1),e.setEnd(b.container,b.offset))}return e}function b(a){var e;try{e=a.getNative().createRange()}catch(b){return null}var f=e.item?e.item(0):e.parentElement();return(f.ownerDocument||f)===a.document?e:null}(y.Selection=function(a){var e=this;e.document=a;k.ie9below&&(a=g.getWindow(a).frameElement,g.on(a,"beforedeactivate",function(){e._bakIERange=e.getIERange()}),g.on(a,"activate",function(){try{!b(e)&&e._bakIERange&&e._bakIERange.select()}catch(a){}e._bakIERange=null}));a=a=null}).prototype={rangeInBody:function(a,e){var b=k.ie9below||e?a.item?a.item():a.parentElement():a.startContainer;return b===this.document.body||g.inDoc(b,this.document)},getNative:function(){var a=this.document;try{return a?k.ie9below?a.selection:g.getWindow(a).getSelection():null}catch(e){return null}},getIERange:function(){var a=b(this);return!a&&this._bakIERange?this._bakIERange:a},cache:function(){this.clear();this._cachedRange=this.getRange();this._cachedStartElement=this.getStart();this._cachedStartElementPath=this.getStartElementPath()},getStartElementPath:function(){if(this._cachedStartElementPath)return this._cachedStartElementPath;var a=this.getStart();return a?g.findParents(a,!0,null,!0):[]},clear:function(){this._cachedStartElementPath=this._cachedRange=this._cachedStartElement=null},isFocus:function(){try{if(k.ie9below){var a=b(this);return!(!a||!this.rangeInBody(a))}return!!this.getNative().rangeCount}catch(e){return!1}},getRange:function(){function a(b){for(var c=e.document.body.firstChild,f=b.collapsed;c&&c.firstChild;)b.setStart(c,0),c=c.firstChild;b.startContainer||b.setStart(e.document.body,0);f&&b.collapse(!0)}var e=this;if(null!=e._cachedRange)return this._cachedRange;var b=new p.editor.dom.Range(e.document);if(k.ie9below){var n=e.getIERange();if(n)try{d(n,b)}catch(m){a(b)}else a(b)}else{var l=e.getNative();if(l&&l.rangeCount)n=l.getRangeAt(0),l=l.getRangeAt(l.rangeCount-1),b.setStart(n.startContainer,n.startOffset).setEnd(l.endContainer,l.endOffset),b.collapsed&&g.isBody(b.startContainer)&&!b.startOffset&&a(b);else{if(this._bakRange&&g.inDoc(this._bakRange.startContainer,this.document))return this._bakRange;a(b)}}return this._bakRange=b},getStart:function(){if(this._cachedStartElement)return this._cachedStartElement;var a=k.ie9below?this.getIERange():this.getRange(),e,b;if(k.ie9below){if(!a)return this.document.body.firstChild;if(a.item)return a.item(0);e=a.duplicate();0<e.text.length&&e.moveStart("character",1);e.collapse(1);e=e.parentElement();for(b=a=a.parentElement();a=a.parentNode;)if(a==e){e=b;break}}else if(a.shrinkBoundary(),e=a.startContainer,1==e.nodeType&&e.hasChildNodes()&&(e=e.childNodes[Math.min(e.childNodes.length-1,a.startOffset)]),3==e.nodeType)return e.parentNode;return e}}})();(function(){function a(a,b){var c;if(b.textarea)if(h.isString(b.textarea))for(var d=0,m,k=g.getElementsByTagName(a,"textarea");m=k[d++];){if(m.id=="ueditor_textarea_"+b.options.textarea){c=m;break}}else c=b.textarea;c||(a.appendChild(c=g.createElement(document,"textarea",{name:b.options.textarea,id:"ueditor_textarea_"+b.options.textarea,style:"display:none"})),b.textarea=c);!c.getAttribute("name")&&c.setAttribute("name",b.options.textarea);c.value=b.hasContents()?b.options.allHtmlEnabled?b.getAllHtml():b.getContent(null,null,!0):""}var d=0,b,c=UE_CVT.Editor=function(a){this.uid=d++;C.call(this);this.commands={};this.options=h.extend(h.clone(a||{}),UEDITOR_CONFIG,!0);this.shortcutkeys={};this.inputRules=[];this.outputRules=[];this.setOpt(c.defaultOptions(this));UE_CVT.instants["ueditorInstant"+this.uid]=this};c.prototype={registerCommand:function(a,b){this.commands[a]=b},ready:function(a){a&&(this.isReady?a.apply(this):this.addListener("ready",a))},setOpt:function(a,b){var c={};h.isString(a)?c[a]=b:c=a;h.extend(this.options,c,!0)},getOpt:function(a){return this.options[a]},destroy:function(){this.fireEvent("destroy");var a=this.container.parentNode,b=this.textarea;b?b.style.display="":(b=document.createElement("textarea"),a.parentNode.insertBefore(b,a));b.style.width=this.iframe.offsetWidth+"px";b.style.height=this.iframe.offsetHeight+"px";b.value=this.getContent();b.id=this.key;a.innerHTML="";g.remove(a);var a=this.key,c;for(c in this)this.hasOwnProperty(c)&&delete this[c];UE_CVT.delEditor(a)},render:function(a){var b=this.options;h.isString(a)&&(a=document.getElementById(a));a&&(b.minFrameWidth=b.initialFrameWidth?b.initialFrameWidth:b.initialFrameWidth=a.offsetWidth,b.initialFrameHeight?b.minFrameHeight=b.initialFrameHeight:b.initialFrameHeight=b.minFrameHeight=a.offsetHeight,a.style.width=/%$/.test(b.initialFrameWidth)?"100%":b.initialFrameWidth-parseInt(g.getComputedStyle(a,"padding-left"))-parseInt(g.getComputedStyle(a,"padding-right"))+"px",a.style.height=/%$/.test(b.initialFrameHeight)?"100%":b.initialFrameHeight-parseInt(g.getComputedStyle(a,"padding-top"))-parseInt(g.getComputedStyle(a,"padding-bottom"))+"px",a.style.zIndex=b.zIndex,a.appendChild(g.createElement(document,"iframe",{id:"ueditor_"+this.uid,width:"100%",height:"100%",frameborder:"0",src:"javascript:void(function(){document.open();"+(b.customDomain&&document.domain!=location.hostname?'document.domain\x3d"'+document.domain+'";':"")+'document.write("'+((u&&9>k.version?"":"\x3c!DOCTYPE html\x3e")+"\x3chtml xmlns\x3d'http://www.w3.org/1999/xhtml' class\x3d'view' \x3e\x3chead\x3e\x3cstyle type\x3d'text/css'\x3e.view{padding:0;word-wrap:break-word;cursor:text;height:90%;}\nbody{margin:8px;font-family:sans-serif;font-size:16px;}.cvtformulasettingtext{background:url(./kingdee/bcm/cvtformulasettingtext/themes/default/images/open.png) no-repeat 0 0;background-position-x:right;cursor: pointer;border-top:none;border-left:none;border-right:none;border-color:black;border-width:1px;outline:none;font-size:12px;height:18px;}p{margin:5px 0;}\x3c/style\x3e"+(b.initialStyle?"\x3cstyle\x3e"+b.initialStyle+"\x3c/style\x3e":"")+"\x3c/head\x3e\x3cbody class\x3d'view'  style\x3d'font-size:12px;'\x3e\x3c/body\x3e\x3cscript type\x3d'text/javascript' "+(u?"defer\x3d'defer'":"")+" id\x3d'_initialScript'\x3esetTimeout(function(){editor \x3d window.parent.UE_CVT.instants['ueditorInstant"+this.uid+"'];editor._setup(document);},0);var _tmpScript \x3d document.getElementById('_initialScript');_tmpScript.parentNode.removeChild(_tmpScript);\x3c/script\x3e\x3c/html\x3e")+'");document.close();}())'})),a.style.overflow="hidden",setTimeout(function(){/%$/.test(b.initialFrameWidth)&&(b.minFrameWidth=b.initialFrameWidth=a.offsetWidth);/%$/.test(b.initialFrameHeight)&&(b.minFrameHeight=b.initialFrameHeight=a.offsetHeight,a.style.height=b.initialFrameHeight+"px")}))},_setup:function(b){var c=this,d=c.options;u?(b.body.disabled=!0,b.body.contentEditable=!0,b.body.disabled=!1):b.body.contentEditable=!0;b.body.spellcheck=!1;c.document=b;c.window=b.defaultView||b.parentWindow;c.iframe=c.window.frameElement;c.body=b.body;c.selection=new y.Selection(b);var l;k.gecko&&(l=this.selection.getNative())&&l.removeAllRanges();this._initEvents();for(var m=this.iframe.parentNode;!g.isBody(m);m=m.parentNode)if("FORM"==m.tagName){c.form=m;if(c.options.autoSyncData)g.on(c.window,"blur",function(){a(m,c)});else g.on(m,"submit",function(){a(this,c)});break}if(d.initialContent)if(d.autoClearinitialContent){var h=c.execCommand;c.execCommand=function(){c.fireEvent("firstBeforeExecCommand");return h.apply(c,arguments)};this._setDefaultContent(d.initialContent)}else this.setContent(d.initialContent,!1,!0);g.isEmptyNode(c.body)&&(c.body.innerHTML="\x3cp\x3e"+(k.ie?"":"\x3cbr/\x3e")+"\x3c/p\x3e");c.container||(c.container=this.iframe.parentNode);try{c.document.execCommand("2D-position",!1,!1)}catch(v){}try{c.document.execCommand("enableInlineTableEditing",!1,!1)}catch(v){}try{c.document.execCommand("enableObjectResizing",!1,!1)}catch(v){}c.isReady=1;c.fireEvent("ready");d.onready&&d.onready.call(c);if(!k.ie9below)g.on(c.window,["blur","focus"],function(a){if("blur"==a.type){c._bakRange=c.selection.getRange();try{c._bakNativeRange=c.selection.getNative().getRangeAt(0),c.selection.getNative().removeAllRanges()}catch(b){c._bakNativeRange=null}}else try{c._bakRange&&c._bakRange.select()}catch(b){}});k.gecko&&10902>=k.version&&(c.body.contentEditable=!1,setTimeout(function(){c.body.contentEditable=!0},100),setInterval(function(){c.body.style.height=c.iframe.offsetHeight-20+"px"},100));!d.isShow&&c.setHide();d.readonly&&c.setDisabled()},getEditorContent:function(){for(var a="",b=this.body.childNodes,c=0;c<b.length;c++)for(var d=b[c].childNodes,m=0;m<d.length;m++)"INPUT"==d[m].nodeName?a+='{"'+d[m].id+'"}':"BR"!=d[m].nodeName&&(a+=d[m].data);return a.replace(/&nbsp;/g,"").replace(/\s/g,"")},getContent:function(a,b,c,d,m){a&&h.isFunction(a)&&(b=a,a="");if(b?!b():!this.hasContents())return"";this.fireEvent("beforegetcontent");b=UE_CVT.htmlparser(this.body.innerHTML,d);this.filterOutputRule(b);this.fireEvent("aftergetcontent",a,b);return b.toHtml(m)},setContent:function(b,c,d){this.fireEvent("beforesetcontent",b);b=UE_CVT.htmlparser(b);this.filterInputRule(b);b=b.toHtml();this.body.innerHTML=(c?this.body.innerHTML:"")+b;if("p"==this.options.enterTag)if(c=this.body.firstChild,!c||1==c.nodeType&&(q.$cdata[c.tagName]||"DIV"==c.tagName&&c.getAttribute("cdata_tag")||g.isCustomeNode(c))&&c===this.body.lastChild)this.body.innerHTML="\x3cp\x3e"+(k.ie?"\x26nbsp;":"\x3cbr/\x3e")+"\x3c/p\x3e"+this.body.innerHTML;else for(var l=this.document.createElement("p");c;){for(;c&&(3==c.nodeType||1==c.nodeType&&q.p[c.tagName]&&!q.$cdata[c.tagName]);)b=c.nextSibling,l.appendChild(c),c=b;if(l.firstChild)if(c)c.parentNode.insertBefore(l,c),l=this.document.createElement("p");else{this.body.appendChild(l);break}c=c.nextSibling}this.fireEvent("aftersetcontent");this.fireEvent("contentchange");!d&&this._selectionChange();this._bakRange=this._bakIERange=this._bakNativeRange=null;var m;k.gecko&&(m=this.selection.getNative())&&m.removeAllRanges();this.options.autoSyncData&&this.form&&a(this.form,this)},focus:function(a){try{var b=this.selection.getRange();if(a){var c=this.body.lastChild;c&&1==c.nodeType&&!q.$empty[c.tagName]&&(g.isEmptyBlock(c)?b.setStartAtFirst(c):b.setStartAtLast(c),b.collapse(!0));b.setCursor(!0)}else!b.collapsed&&g.isBody(b.startContainer)&&0==b.startOffset&&(c=this.body.firstChild)&&1==c.nodeType&&!q.$empty[c.tagName]&&b.setStartAtFirst(c).collapse(!0),b.select(!0);this.fireEvent("focus selectionchange")}catch(d){}},isFocus:function(){return this.selection.isFocus()},blur:function(){var a=this.selection.getNative();if(a.empty&&k.ie){var b=document.body.createTextRange();b.moveToElementText(document.body);b.collapse(!0);b.select();a.empty()}else a.removeAllRanges()},_initEvents:function(){var a=this,b=a.document,c=a.window;a._proxyDomEvent=h.bind(a._proxyDomEvent,a);g.on(b,"click contextmenu mousedown keydown keyup keypress mouseup mouseover mouseout selectstart".split(" "),a._proxyDomEvent);g.on(c,["focus","blur"],a._proxyDomEvent);g.on(a.body,"drop",function(b){k.gecko&&b.stopPropagation&&b.stopPropagation();a.fireEvent("contentchange")});g.on(b,["mouseup","keydown"],function(b){"keydown"==b.type&&(b.ctrlKey||b.metaKey||b.shiftKey||b.altKey)||2!=b.button&&a._selectionChange(250,b)})},_proxyDomEvent:function(a){return!1===this.fireEvent("before"+a.type.replace(/^on/,"").toLowerCase())||!1===this.fireEvent(a.type.replace(/^on/,""),a)?!1:this.fireEvent("after"+a.type.replace(/^on/,"").toLowerCase())},_selectionChange:function(a,c){var d=this,l=!1,m,g;k.ie&&9>k.version&&c&&"mouseup"==c.type&&!this.selection.getRange().collapsed&&(l=!0,m=c.clientX,g=c.clientY);clearTimeout(b);b=setTimeout(function(){if(d.selection&&d.selection.getNative()){var a;if(l&&"None"==d.selection.getNative().type){a=d.document.body.createTextRange();try{a.moveToPoint(m,g)}catch(b){a=null}}var e;a&&(e=d.selection.getIERange,d.selection.getIERange=function(){return a});d.selection.cache();e&&(d.selection.getIERange=e);d.selection._cachedRange&&d.selection._cachedStartElement&&(d.fireEvent("beforeselectionchange"),d.fireEvent("selectionchange",!!c),d.fireEvent("afterselectionchange"),d.selection.clear())}},a||50)},_callCmdFn:function(a,b){var c=b[0].toLowerCase(),d;d=(c=this.commands[c]||UE_CVT.commands[c])&&c[a];if(!(c&&d||"queryCommandState"!=a))return 0;if(d)return d.apply(this,b)},execCommand:function(a){a=a.toLowerCase();var b,c=this.commands[a]||UE_CVT.commands[a];if(!c||!c.execCommand)return null;c.notNeedUndo||this.__hasEnterExecCommand?(b=this._callCmdFn("execCommand",arguments),this.__hasEnterExecCommand||c.ignoreContentChange||this._ignoreContentChange||this.fireEvent("contentchange")):(this.__hasEnterExecCommand=!0,-1!=this.queryCommandState.apply(this,arguments)&&(this.fireEvent("saveScene"),this.fireEvent.apply(this,["beforeexeccommand",a].concat(arguments)),b=this._callCmdFn("execCommand",arguments),this.fireEvent.apply(this,["afterexeccommand",a].concat(arguments)),this.fireEvent("saveScene")),this.__hasEnterExecCommand=!1);this.__hasEnterExecCommand||c.ignoreContentChange||this._ignoreContentChange||this._selectionChange();return b},queryCommandState:function(a){return this._callCmdFn("queryCommandState",arguments)},queryCommandValue:function(a){return this._callCmdFn("queryCommandValue",arguments)},hasContents:function(a){if(a)for(var b=0,c;c=a[b++];)if(0<this.document.getElementsByTagName(c).length)return!0;if(!g.isEmptyBlock(this.body))return!0;a=["div"];for(b=0;c=a[b++];){c=g.getElementsByTagName(this.document,c);for(var d=0,m;m=c[d++];)if(g.isCustomeNode(m))return!0}return!1},setEnabled:function(){var a;if("false"==this.body.contentEditable){this.body.contentEditable=!0;a=this.selection.getRange();try{a.moveToBookmark(this.lastBk),delete this.lastBk}catch(b){a.setStartAtFirst(this.body).collapse(!0)}a.select(!0);this.bkqueryCommandState&&(this.queryCommandState=this.bkqueryCommandState,delete this.bkqueryCommandState);this.bkqueryCommandValue&&(this.queryCommandValue=this.bkqueryCommandValue,delete this.bkqueryCommandValue);this.fireEvent("selectionchange")}},enable:function(){return this.setEnabled()},setDisabled:function(a){var b=this;a=a?h.isArray(a)?a:[a]:[];"true"==b.body.contentEditable&&(b.lastBk||(b.lastBk=b.selection.getRange().createBookmark(!0)),b.body.contentEditable=!1,b.bkqueryCommandState=b.queryCommandState,b.bkqueryCommandValue=b.queryCommandValue,b.queryCommandState=function(c){return-1!=h.indexOf(a,c)?b.bkqueryCommandState.apply(b,arguments):-1},b.queryCommandValue=function(c){return-1!=h.indexOf(a,c)?b.bkqueryCommandValue.apply(b,arguments):null},b.fireEvent("selectionchange"))},disable:function(a){return this.setDisabled(a)},_setDefaultContent:function(){function a(){var b=this;b.document.getElementById("initContent")&&(b.body.innerHTML="\x3cp\x3e"+(u?"":"\x3cbr/\x3e")+"\x3c/p\x3e",b.removeListener("firstBeforeExecCommand focus",a),setTimeout(function(){b.focus();b._selectionChange()},0))}return function(b){this.body.innerHTML='\x3cp id\x3d"initContent"\x3e'+b+"\x3c/p\x3e";this.addListener("firstBeforeExecCommand focus",a)}}(),setShow:function(){var a=this.selection.getRange();if("none"==this.container.style.display){try{a.moveToBookmark(this.lastBk),delete this.lastBk}catch(b){a.setStartAtFirst(this.body).collapse(!0)}setTimeout(function(){a.select(!0)},100);this.container.style.display=""}},show:function(){return this.setShow()},setHide:function(){this.lastBk||(this.lastBk=this.selection.getRange().createBookmark(!0));this.container.style.display="none"},hide:function(){return this.setHide()},filterInputRule:function(a){for(var b=0,c;c=this.inputRules[b++];)c.call(this,a)},filterOutputRule:function(a){for(var b=0,c;c=this.outputRules[b++];)c.call(this,a)},getActionUrl:function(a){a=this.getOpt(a)||a;var b=this.getOpt("imageUrl"),c=this.getOpt("serverUrl");!c&&b&&(c=b.replace(/^(.*[\/]).+([\.].+)$/,"$1controller$2"));return c?(c=c+(-1==c.indexOf("?")?"?":"\x26")+"action\x3d"+(a||""),h.formatUrl(c)):""}};h.inherits(c,C)})();UE_CVT.Editor.defaultOptions=function(a){a.options.UEDITOR_HOME_URL="kingdee/bcm/cvtformulasettingtext/";a=a.options.UEDITOR_HOME_URL;return{isShow:!0,initialContent:"",initialStyle:"",autoClearinitialContent:!1,textarea:"editorValue",focus:!1,focusInEnd:!0,autoClearEmptyNode:!0,fullscreen:!1,readonly:!1,imagePopup:!0,enterTag:"p",customDomain:!1,lang:"zh-cn",langPath:a+"lang/",theme:"default",themePath:a+"themes/",allHtmlEnabled:!1,scaleEnabled:!1,tableNativeEditInFF:!1,autoSyncData:!0,fileNameFormat:"{time}{rand:6}"}};(function(){function a(a,b,c){a.push("\n");return b+(c?1:-1)}function d(a,b){for(var c=0;c<b;c++)a.push("    ")}function b(e,f,l,n){switch(e.type){case "root":for(var m=0,k;k=e.children[m++];)l&&"element"==k.type&&!q.$inlineWithA[k.tagName]&&1<m&&(a(f,n,!0),d(f,n)),b(k,f,l,n);break;case "text":"pre"==e.parentNode.tagName?f.push(e.data):f.push(g[e.parentNode.tagName]?h.html(e.data):e.data.replace(/[ ]{2}/g," \x26nbsp;"));break;case "element":c(e,f,l,n);break;case "comment":f.push("\x3c!--"+e.data+"--\x3e")}return f}function c(c,e,f,l){var n="";if(c.attrs){var n=[],g=c.attrs,k;for(k in g)n.push(k+(void 0!==g[k]?'\x3d"'+(m[k]?h.html(g[k]).replace(/["]/g,function(a){return"\x26quot;"}):h.unhtml(g[k]))+'"':""));n=n.join(" ")}e.push("\x3c"+c.tagName+(n?" "+n:"")+(q.$empty[c.tagName]?"/":"")+"\x3e");f&&!q.$inlineWithA[c.tagName]&&"pre"!=c.tagName&&c.children&&c.children.length&&(l=a(e,l,!0),d(e,l));if(c.children&&c.children.length)for(n=0;g=c.children[n++];)f&&"element"==g.type&&!q.$inlineWithA[g.tagName]&&1<n&&(a(e,l),d(e,l)),b(g,e,f,l);q.$empty[c.tagName]||(f&&!q.$inlineWithA[c.tagName]&&"pre"!=c.tagName&&c.children&&c.children.length&&(l=a(e,l),d(e,l)),e.push("\x3c/"+c.tagName+"\x3e"))}function e(a,b){var c;if("element"==a.type&&a.getAttr("id")==b)return a;if(a.children&&a.children.length)for(var d=0;c=a.children[d++];)if(c=e(c,b))return c}function f(a,b,c){"element"==a.type&&a.tagName==b&&c.push(a);if(a.children&&a.children.length)for(var d=0,e;e=a.children[d++];)f(e,b,c)}function n(a,b){if(a.children&&a.children.length)for(var c=0,d;d=a.children[c];)n(d,b),d.parentNode&&(d.children&&d.children.length&&b(d),d.parentNode&&c++);else b(a)}var l=UE_CVT.uNode=function(a){this.type=a.type;this.data=a.data;this.tagName=a.tagName;this.parentNode=a.parentNode;this.attrs=a.attrs||{};this.children=a.children},m={href:1,src:1,_src:1,_href:1,cdata_data:1},g={style:1,script:1};l.createElement=function(a){return/[<>]/.test(a)?UE_CVT.htmlparser(a).children[0]:new l({type:"element",children:[],tagName:a})};l.createText=function(a,b){return new UE_CVT.uNode({type:"text",data:b?a:h.unhtml(a||"")})};l.prototype={toHtml:function(a){var c=[];b(this,c,a,0);return c.join("")},innerHTML:function(a){if("element"!=this.type||q.$empty[this.tagName])return this;if(h.isString(a)){if(this.children)for(var b=0,c;c=this.children[b++];)c.parentNode=null;this.children=[];a=UE_CVT.htmlparser(a);for(b=0;c=a.children[b++];)this.children.push(c),c.parentNode=this;return this}a=new UE_CVT.uNode({type:"root",children:this.children});return a.toHtml()},innerText:function(a,b){if("element"!=this.type||q.$empty[this.tagName])return this;if(a){if(this.children)for(var c=0,d;d=this.children[c++];)d.parentNode=null;this.children=[];this.appendChild(l.createText(a,b));return this}return this.toHtml().replace(/<[^>]+>/g,"")},getData:function(){return"element"==this.type?"":this.data},firstChild:function(){return this.children?this.children[0]:null},lastChild:function(){return this.children?this.children[this.children.length-1]:null},previousSibling:function(){for(var a=this.parentNode,b=0,c;c=a.children[b];b++)if(c===this)return 0==b?null:a.children[b-1]},nextSibling:function(){for(var a=this.parentNode,b=0,c;c=a.children[b++];)if(c===this)return a.children[b]},replaceChild:function(a,b){if(this.children){a.parentNode&&a.parentNode.removeChild(a);for(var c=0,d;d=this.children[c];c++)if(d===b)return this.children.splice(c,1,a),b.parentNode=null,a.parentNode=this,a}},appendChild:function(a){if("root"==this.type||"element"==this.type&&!q.$empty[this.tagName]){this.children||(this.children=[]);a.parentNode&&a.parentNode.removeChild(a);for(var b=0,c;c=this.children[b];b++)if(c===a){this.children.splice(b,1);break}this.children.push(a);a.parentNode=this;return a}},insertBefore:function(a,b){if(this.children){a.parentNode&&a.parentNode.removeChild(a);for(var c=0,d;d=this.children[c];c++)if(d===b)return this.children.splice(c,0,a),a.parentNode=this,a}},insertAfter:function(a,b){if(this.children){a.parentNode&&a.parentNode.removeChild(a);for(var c=0,d;d=this.children[c];c++)if(d===b)return this.children.splice(c+1,0,a),a.parentNode=this,a}},removeChild:function(a,b){if(this.children)for(var c=0,d;d=this.children[c];c++)if(d===a){this.children.splice(c,1);d.parentNode=null;if(b&&d.children&&d.children.length)for(var e=0,f;f=d.children[e];e++)this.children.splice(c+e,0,f),f.parentNode=this;return d}},getAttr:function(a){return this.attrs&&this.attrs[a.toLowerCase()]},setAttr:function(a,b){if(a)if(this.attrs||(this.attrs={}),h.isObject(a))for(var c in a)a[c]?this.attrs[c.toLowerCase()]=a[c]:delete this.attrs[c];else b?this.attrs[a.toLowerCase()]=b:delete this.attrs[a];else delete this.attrs},getIndex:function(){for(var a=this.parentNode,b=0,c;c=a.children[b];b++)if(c===this)return b;return-1},getNodeById:function(a){var b;if(this.children&&this.children.length)for(var c=0;b=this.children[c++];)if(b=e(b,a))return b},getNodesByTagName:function(a){a=h.trim(a).replace(/[ ]{2,}/g," ").split(" ");var b=[],c=this;h.each(a,function(a){if(c.children&&c.children.length)for(var d=0,e;e=c.children[d++];)f(e,a,b)});return b},getStyle:function(a){var b=this.getAttr("style");return b?(a=b.match(new RegExp("(^|;)\\s*"+a+":([^;]+)","i")))&&a[0]?a[2]:"":""},setStyle:function(a,b){function c(a,b){d=d.replace(new RegExp("(^|;)\\s*"+a+":([^;]+;?)","gi"),"$1");b&&(d=a+":"+h.unhtml(b)+";"+d)}var d=this.getAttr("style");d||(d="");if(h.isObject(a))for(var e in a)c(e,a[e]);else c(a,b);this.setAttr("style",h.trim(d))},traversal:function(a){this.children&&this.children.length&&n(this,a);return this}}})();UE_CVT.htmlparser=function(a,d){function b(a,b,c){var d=new l({parentNode:a,type:"element",tagName:b.toLowerCase(),children:q.$empty[b]?null:[]});if(c){for(var f={},m;m=e.exec(c);)f[m[1].toLowerCase()]=n[m[1].toLowerCase()]?m[2]||m[3]||m[4]:h.unhtml(m[2]||m[3]||m[4]);d.attrs=f}a.children.push(d);return q.$empty[b]?a:d}var c=/<(?:(?:\/([^>]+)>)|(?:!--([\S|\s]*?)--\x3e)|(?:([^\s\/<>]+)\s*((?:(?:"[^"]*")|(?:'[^']*')|[^"'<>])*)\/?>))/g,e=/([\w\-:.]+)(?:(?:\s*=\s*(?:(?:"([^"]*)")|(?:'([^']*)')|([^\s>]+)))|(?=\s|$))/g,f={b:1,code:1,i:1,u:1,strike:1,s:1,tt:1,strong:1,q:1,samp:1,em:1,span:1,sub:1,img:1,sup:1,font:1,big:1,small:1,iframe:1,a:1,br:1,pre:1};a=a.replace(new RegExp(g.fillChar,"g"),"");d||(a=a.replace(new RegExp("[\\r\\t\\n"+(d?"":" ")+"]*\x3c/?(\\w+)\\s*(?:[^\x3e]*)\x3e[\\r\\t\\n"+(d?"":" ")+"]*","g"),function(a,b){return b&&f[b.toLowerCase()]?a.replace(/(^[\n\r]+)|([\n\r]+$)/g,""):a.replace(new RegExp("^[\\r\\n"+(d?"":" ")+"]+"),"").replace(new RegExp("[\\r\\n"+(d?"":" ")+"]+$"),"")}));for(var n={href:1,src:1},l=UE_CVT.uNode,m,k=0,p=0,r=new l({type:"root",children:[]}),t=r;m=c.exec(a);){k=m.index;try{if(k>p&&text(t,a.slice(p,k)),m[3])q.$cdata[t.tagName]?text(t,m[0]):t=b(t,m[3].toLowerCase(),m[4]);else if(m[1]){if("root"!=t.type)if(q.$cdata[t.tagName]&&!q.$cdata[m[1]])text(t,m[0]);else{for(k=t;"element"==t.type&&t.tagName!=m[1].toLowerCase();)if(t=t.parentNode,"root"==t.type)throw t=k,"break";t=t.parentNode}}else m[2]&&t.children.push(new l({type:"comment",data:m[2],parentNode:t}))}catch(u){}p=c.lastIndex}p<a.length&&text(t,a.slice(p));return r};UE_CVT.keymap={Backspace:8,Tab:9,Enter:13,Shift:16,Control:17,Alt:18,CapsLock:20,Esc:27,Spacebar:32,PageUp:33,PageDown:34,End:35,Home:36,Left:37,Up:38,Right:39,Down:40,Insert:45,Del:46,NumLock:144,Cmd:91,"\x3d":187,"-":189,b:66,i:73,z:90,y:89,v:86,x:88,s:83,n:78};(function(){UE_CVT.Editor.prototype.setPreferences=function(a,d){var b={};h.isString(a)?b[a]=d:b=a;var c=LocalStorage.getLocalData("ueditor_preference");c&&(c=h.str2json(c))?h.extend(c,b):c=b;c&&LocalStorage.saveLocalData("ueditor_preference",h.json2str(c))};UE_CVT.Editor.prototype.getPreferences=function(a){var d=LocalStorage.getLocalData("ueditor_preference");return d&&(d=h.str2json(d))?a?d[a]:d:null};UE_CVT.Editor.prototype.removePreferences=function(a){var d=LocalStorage.getLocalData("ueditor_preference");d&&(d=h.str2json(d))&&(d[a]=void 0,delete d[a]);d&&LocalStorage.saveLocalData("ueditor_preference",h.json2str(d))}})();UE_CVT.commands.inserthtml={execCommand:function(a,d,b){var c=this,e;if(d&&!0!==c.fireEvent("beforeinserthtml",d)){e=c.selection.getRange();a=e.document.createElement("div");a.style.display="inline";b||(b=UE_CVT.htmlparser(d),c.options.filterRules&&UE_CVT.filterNode(b,c.options.filterRules),c.filterInputRule(b),d=b.toHtml());a.innerHTML=h.trim(d);if(!e.collapsed&&(b=e.startContainer,g.isFillChar(b)&&e.setStartBefore(b),b=e.endContainer,g.isFillChar(b)&&e.setEndAfter(b),e.txtToElmBoundary(),e.endContainer&&1==e.endContainer.nodeType&&(b=e.endContainer.childNodes[e.endOffset])&&g.isBr(b)&&e.setEndAfter(b),0==e.startOffset&&(b=e.startContainer,g.isBoundaryNode(b,"firstChild")&&(b=e.endContainer,e.endOffset==(3==b.nodeType?b.nodeValue.length:b.childNodes.length)&&g.isBoundaryNode(b,"lastChild")&&(c.body.innerHTML="\x3cp\x3e"+(k.ie?"":"\x3cbr/\x3e")+"\x3c/p\x3e",e.setStart(c.body.firstChild,0).collapse(!0)))),!e.collapsed&&e.deleteContents(),1==e.startContainer.nodeType)){b=e.startContainer.childNodes[e.startOffset];var f;if(b&&g.isBlockElm(b)&&(f=b.previousSibling)&&g.isBlockElm(f)){for(e.setEnd(f,f.childNodes.length).collapse();b.firstChild;)f.appendChild(b.firstChild);g.remove(b)}}var n,l,m=0,p;e.inFillChar()&&(b=e.startContainer,g.isFillChar(b)?(e.setStartBefore(b).collapse(!0),g.remove(b)):g.isFillChar(b,!0)&&(b.nodeValue=b.nodeValue.replace(G,""),e.startOffset--,e.collapsed&&e.collapse(!0)));for(g.findParentByTagName(e.startContainer,"li",!0);b=a.firstChild;){if(m){for(n=c.document.createElement("p");b&&(3==b.nodeType||!q.$block[b.tagName]);)p=b.nextSibling,n.appendChild(b),b=p;n.firstChild&&(b=n)}e.insertNode(b);p=b.nextSibling;if(!m&&b.nodeType==g.NODE_ELEMENT&&g.isBlockElm(b)&&(n=g.findParent(b,function(a){return g.isBlockElm(a)}))&&"body"!=n.tagName.toLowerCase()&&(!q[n.tagName][b.nodeName]||b.parentNode!==n)){if(q[n.tagName][b.nodeName])for(l=b.parentNode;l!==n;)f=l,l=l.parentNode;else f=n;g.breakParent(b,f||l);f=b.previousSibling;g.trimWhiteTextNode(f);f.childNodes.length||g.remove(f);!k.ie&&(v=b.nextSibling)&&g.isBlockElm(v)&&v.lastChild&&!g.isBr(v.lastChild)&&v.appendChild(c.document.createElement("br"));m=1}var v=b.nextSibling;if(!a.firstChild&&v&&g.isBlockElm(v)){e.setStart(v,0).collapse(!0);break}e.setEndAfter(b).collapse()}b=e.startContainer;p&&g.isBr(p)&&g.remove(p);if(g.isBlockElm(b)&&g.isEmptyNode(b))if(p=b.nextSibling)g.remove(b),1==p.nodeType&&q.$block[p.tagName]&&e.setStart(p,0).collapse(!0).shrinkBoundary();else try{b.innerHTML=k.ie?g.fillChar:"\x3cbr/\x3e"}catch(r){e.setStartBefore(b),g.remove(b)}try{e.select(!0)}catch(r){}setTimeout(function(){e=c.selection.getRange();e.scrollToView(c.autoHeightEnabled,c.autoHeightEnabled?g.getXY(c.iframe).y:0);c.fireEvent("afterinserthtml",d)},200)}}};UE_CVT.plugins.insertframe=function(){var a=this;a.addListener("selectionchange",function(){a._iframe&&delete a._iframe})};UE_CVT.plugins.selectall=function(){this.commands.selectall={execCommand:function(){var a=this.body,d=this.selection.getRange();d.selectNodeContents(a);g.isEmptyBlock(a)&&(k.opera&&a.firstChild&&1==a.firstChild.nodeType&&d.setStartAtFirst(a.firstChild),d.collapse(!0));d.select(!0)},notNeedUndo:1}};p=p||{};p.editor=p.editor||{};UE_CVT.ui=p.editor.ui={};(function(){function a(){var a=document.getElementById("edui_fixedlayer");f.setViewportOffset(a,{left:0,top:0})}var d=p.editor.browser,b=p.editor.dom.domUtils,c=window.$EDITORUICVT={},e=0,f=p.editor.ui.uiUtils={uid:function(a){return a?a.ID$EDITORUICVT||(a.ID$EDITORUICVT=++e):++e},hook:function(a,b){var c;a&&a._callbacks?c=a:(c=function(){var b;a&&(b=a.apply(this,arguments));for(var d=c._callbacks,e=d.length;e--;){var f=d[e].apply(this,arguments);void 0===b&&(b=f)}return b},c._callbacks=[]);c._callbacks.push(b);return c},createElementByHtml:function(a){var b=document.createElement("div");b.innerHTML=a;b=b.firstChild;b.parentNode.removeChild(b);return b},getViewportElement:function(){return d.ie&&d.quirks?document.body:document.documentElement},getClientRect:function(a){var c;try{c=a.getBoundingClientRect()}catch(d){c={left:0,top:0,height:0,width:0}}for(var e={left:Math.round(c.left),top:Math.round(c.top),height:Math.round(c.bottom-c.top),width:Math.round(c.right-c.left)},f;(f=a.ownerDocument)!==document&&(a=b.getWindow(f).frameElement);)c=a.getBoundingClientRect(),e.left+=c.left,e.top+=c.top;e.bottom=e.top+e.height;e.right=e.left+e.width;return e},getViewportRect:function(){var a=f.getViewportElement(),b=(window.innerWidth||a.clientWidth)|0,a=(window.innerHeight||a.clientHeight)|0;return{left:0,top:0,height:a,width:b,bottom:a,right:b}},setViewportOffset:function(a,c){var d=f.getFixedLayer();a.parentNode===d?(a.style.left=c.left+"px",a.style.top=c.top+"px"):b.setViewportOffset(a,c)},getEventOffset:function(a){var b=f.getClientRect(a.target||a.srcElement);a=f.getViewportOffsetByEvent(a);return{left:a.left-b.left,top:a.top-b.top}},getViewportOffsetByEvent:function(a){var c=a.target||a.srcElement,d=b.getWindow(c).frameElement;a={left:a.clientX,top:a.clientY};d&&c.ownerDocument!==document&&(c=f.getClientRect(d),a.left+=c.left,a.top+=c.top);return a},setGlobal:function(a,b){c[a]=b;return'$EDITORUICVT["'+a+'"]'},unsetGlobal:function(a){delete c[a]},copyAttributes:function(a,c){for(var e=c.attributes,f=e.length;f--;){var g=e[f];"style"==g.nodeName||"class"==g.nodeName||d.ie&&!g.specified||a.setAttribute(g.nodeName,g.nodeValue)}c.className&&b.addClass(a,c.className);c.style.cssText&&(a.style.cssText+=";"+c.style.cssText)},contains:function(a,b){return a&&b&&(a===b?!1:a.contains?a.contains(b):a.compareDocumentPosition(b)&16)},getFixedLayer:function(){var c=document.getElementById("edui_fixedlayer");null==c&&(c=document.createElement("div"),c.id="edui_fixedlayer",document.body.appendChild(c),d.ie&&8>=d.version?(c.style.position="absolute",b.on(window,"scroll",a),b.on(window,"resize",p.editor.utils.defer(a,0,!0)),setTimeout(a)):c.style.position="fixed",c.style.left="0",c.style.top="0",c.style.width="0",c.style.height="0");return c}}})();(function(){var a=p.editor.utils,d=p.editor.ui.uiUtils,b=p.editor.EventBase,c=p.editor.ui.UIBase=function(){};c.prototype={className:"",uiName:"",initOptions:function(a){for(var b in a)this[b]=a[b];this.id=this.id||"edui"+d.uid()},initUIBase:function(){this._globalKey=a.unhtml(d.setGlobal(this.id,this))},render:function(a){for(var b=this.renderHtml(),b=d.createElementByHtml(b),c=g.getElementsByTagName(b,"*"),l="edui-"+(this.theme||this.editor.options.theme),m=document.getElementById("edui_fixedlayer"),h=0,k;k=c[h++];)g.addClass(k,l);g.addClass(b,l);m&&(m.className="",g.addClass(m,l));c=this.getDom();null!=c?(c.parentNode.replaceChild(b,c),d.copyAttributes(b,c)):("string"==typeof a&&(a=document.getElementById(a)),a=a||d.getFixedLayer(),g.addClass(a,l),a.appendChild(b));this.postRender()},getDom:function(a){return a?document.getElementById(this.id+"_"+a):document.getElementById(this.id)},postRender:function(){this.fireEvent("postrender")},getHtmlTpl:function(){return""},formatHtml:function(a){var b="edui-"+this.uiName;return a.replace(/##/g,this.id).replace(/%%-/g,this.uiName?b+"-":"").replace(/%%/g,(this.uiName?b:"")+" "+this.className).replace(/\$\$/g,this._globalKey)},renderHtml:function(){return this.formatHtml(this.getHtmlTpl())},dispose:function(){var a=this.getDom();a&&p.editor.dom.domUtils.remove(a);d.unsetGlobal(this.id)}};a.inherits(c,b)})();(function(){var a=p.editor.utils,d=p.editor.ui.UIBase,b=p.editor.ui.Separator=function(a){this.initOptions(a);this.initSeparator()};b.prototype={uiName:"separator",initSeparator:function(){this.initUIBase()},getHtmlTpl:function(){return'\x3cdiv id\x3d"##" class\x3d"edui-box %%"\x3e\x3c/div\x3e'}};a.inherits(b,d)})();(function(){var a=p.editor.dom.domUtils,d=p.editor.ui.uiUtils,b='onmousedown\x3d"$$.Stateful_onMouseDown(event, this);" onmouseup\x3d"$$.Stateful_onMouseUp(event, this);"'+(p.editor.browser.ie?' onmouseenter\x3d"$$.Stateful_onMouseEnter(event, this);" onmouseleave\x3d"$$.Stateful_onMouseLeave(event, this);"':' onmouseover\x3d"$$.Stateful_onMouseOver(event, this);" onmouseout\x3d"$$.Stateful_onMouseOut(event, this);"');p.editor.ui.Stateful={alwalysHoverable:!1,target:null,Stateful_init:function(){this._Stateful_dGetHtmlTpl=this.getHtmlTpl;this.getHtmlTpl=this.Stateful_getHtmlTpl},Stateful_getHtmlTpl:function(){return this._Stateful_dGetHtmlTpl().replace(/stateful/g,function(){return b})},Stateful_onMouseEnter:function(a,b){this.target=b;if(!this.isDisabled()||this.alwalysHoverable)this.addState("hover"),this.fireEvent("over")},Stateful_onMouseLeave:function(a,b){if(!this.isDisabled()||this.alwalysHoverable)this.removeState("hover"),this.removeState("active"),this.fireEvent("out")},Stateful_onMouseOver:function(a,b){var f=a.relatedTarget;d.contains(b,f)||b===f||this.Stateful_onMouseEnter(a,b)},Stateful_onMouseOut:function(a,b){var f=a.relatedTarget;d.contains(b,f)||b===f||this.Stateful_onMouseLeave(a,b)},Stateful_onMouseDown:function(a,b){this.isDisabled()||this.addState("active")},Stateful_onMouseUp:function(a,b){this.isDisabled()||this.removeState("active")},Stateful_postRender:function(){this.disabled&&!this.hasState("disabled")&&this.addState("disabled")},hasState:function(b){return a.hasClass(this.getStateDom(),"edui-state-"+b)},addState:function(a){this.hasState(a)||(this.getStateDom().className+=" edui-state-"+a)},removeState:function(b){this.hasState(b)&&a.removeClasses(this.getStateDom(),["edui-state-"+b])},getStateDom:function(){return this.getDom("state")},isChecked:function(){return this.hasState("checked")},setChecked:function(a){!this.isDisabled()&&a?this.addState("checked"):this.removeState("checked")},isDisabled:function(){return this.hasState("disabled")},setDisabled:function(a){a?(this.removeState("hover"),this.removeState("checked"),this.removeState("active"),this.addState("disabled")):this.removeState("disabled")}}})();(function(){var a=p.editor.utils,d=p.editor.ui.UIBase,b=p.editor.ui.Stateful,c=p.editor.ui.Button=function(a){if(a.name){var b=a.name,c=0,d=0,g="";"f(x)"===b?(c=32,g="fx"):"+"===b?(c=30,d=60,g="plus"):"-"===b?(d=c=60,g="sub"):"*"===b?(c=0,d=30,g="mul"):"/"===b?(c=90,d=60,g="divide"):"("===b?(c=120,d=60,g="left"):")"===b?(c=150,d=60,g="right"):"\x3d"===b?(c=60,d=90,g="equal"):"\x3e"===b?(c=30,d=90,g="greater"):"\x3e\x3d"===b?(c=120,d=90,g="greaterand"):"\x3c"===b?(c=0,d=60,g="less"):"\x3c\x3d"===b?(c=150,d=90,g="lessand"):"\x3c\x3e"===b?(d=c=90,g="noeequal"):"if"===b?(c=60,g="if"):"and"===b?(c=120,g="and"):"abs"===b?(c=90,g="abs"):"or"===b?(c=150,g="or"):"round"===b?(c=0,g="round"):"len"===b&&(c=60,d=30,g="len");a.className||(a.className="edui-for-"+g);a.cssRules=".edui-default  .edui-for-"+g+" .edui-icon {"+("background-position: "+c+"px "+d+"px;")+"}"}this.initOptions(a);this.initButton()};c.prototype={uiName:"cvtbutton",label:"",title:"",showIcon:!0,showText:!0,cssRules:"",initButton:function(){this.initUIBase();this.Stateful_init();this.cssRules&&a.cssRule("edui-customize-"+this.name+"-style",this.cssRules)},getHtmlTpl:function(){return'\x3cdiv id\x3d"##" class\x3d"edui-box %%"\x3e\x3cdiv id\x3d"##_state" stateful\x3e\x3cdiv class\x3d"%%-wrap"\x3e\x3cdiv id\x3d"##_body" unselectable\x3d"on" '+(this.title?'title\x3d"'+this.title+'"':"")+' class\x3d"%%-body" onmousedown\x3d"return $$._onMouseDown(event, this);" onclick\x3d"return $$._onClick(event, this);"\x3e'+(this.showIcon?'\x3cdiv class\x3d"edui-box edui-icon"\x3e\x3c/div\x3e':"")+(this.showText?'\x3cdiv class\x3d"edui-box edui-label"\x3e'+this.label+"\x3c/div\x3e":"")+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e"},postRender:function(){this.Stateful_postRender();this.setDisabled(this.disabled)},_onMouseDown:function(a){a=(a=a.target||a.srcElement)&&a.tagName&&a.tagName.toLowerCase();if("input"==a||"object"==a||"object"==a)return!1},_onClick:function(){this.isDisabled()||this.fireEvent("click")},setTitle:function(a){this.getDom("label").innerHTML=a}};a.inherits(c,d);a.extend(c.prototype,b)})();(function(){var a=p.editor.utils,d=p.editor.ui.UIBase,b=p.editor.ui.Toolbar=function(a){this.initOptions(a);this.initToolbar()};b.prototype={items:null,initToolbar:function(){this.items=this.items||[];this.initUIBase()},add:function(a,b){void 0===b?this.items.push(a):this.items.splice(b,0,a)},getHtmlTpl:function(){for(var a=[],b=0;b<this.items.length;b++)a[b]=this.items[b].renderHtml();return'\x3cdiv id\x3d"##" class\x3d"edui-toolbar %%" onselectstart\x3d"return false;" onmousedown\x3d"return $$._onMouseDown(event, this);"\x3e'+a.join("")+"\x3c/div\x3e"},postRender:function(){this.getDom();for(var a=0;a<this.items.length;a++)this.items[a].postRender()},_onMouseDown:function(a){a=(a=a.target||a.srcElement)&&a.tagName&&a.tagName.toLowerCase();if("input"==a||"object"==a||"object"==a)return!1}};a.inherits(b,d)})();(function(){function a(a){this.initOptions(a);this.initEditorUI()}var d=p.editor.utils,b=p.editor.dom.domUtils;a.prototype={uiName:"editor",initEditorUI:function(){this.editor.ui=this;this._dialogs={};this.initUIBase();this._initToolbars();var a=this.editor,c=this;a.addListener("ready",function(){a.ui._actualFrameWidth=a.options.initialFrameWidth;UE_CVT.browser.ie&&6===UE_CVT.browser.version&&a.container.ownerDocument.execCommand("BackgroundImageCache",!1,!0);a.selection.isFocus()&&a.fireEvent("selectionchange",!1,!0)});a.addListener("keyup",function(a,c){var d=c.keyCode||c.which;if(8==d||46==d)if(d=this.selection.getRange(),b.isBody(d.startContainer)){var e=b.createElement(this.document,"p",{innerHTML:k.ie?b.fillChar:"\x3cbr/\x3e"});d.insertNode(e).setStart(e,0).setCursor(!1,!0)}});a.addListener("selectionchange",function(){if(a.options.elementPathEnabled)c[(-1==a.queryCommandState("elementpath")?"dis":"en")+"ableElementPath"]();if(a.options.scaleEnabled)c[(-1==a.queryCommandState("scale")?"dis":"en")+"ableScale"]()})},_initToolbars:function(){for(var a=this.editor,b=this.toolbars||[],c=[],g=0;g<b.length;g++){for(var h=b[g],k=new p.editor.ui.Toolbar({theme:a.options.theme}),q=0;q<h.length;q++){var r=h[q],t=null;"string"==typeof r?(r=r.toLowerCase(),p.editor.ui[r]&&(t=new p.editor.ui[r](a))):t=r;t&&t.id&&k.add(t)}c[g]=k}d.each(UE_CVT._customizeUI,function(b,c){var d,f;if(b.id&&b.id!=a.key)return!1;if(d=b.execFn.call(a,a,c))f=b.index,void 0===f&&(f=k.items.length),k.add(d,f)});this.toolbars=c},getHtmlTpl:function(){return'\x3cdiv id\x3d"##" class\x3d"%%"\x3e\x3cdiv id\x3d"##_toolbarbox" class\x3d"%%-toolbarbox"\x3e'+(this.toolbars.length?'\x3cdiv id\x3d"##_toolbarboxouter" class\x3d"%%-toolbarboxouter"\x3e\x3cdiv class\x3d"%%-toolbarboxinner"\x3e'+this.renderToolbarBoxHtml()+"\x3c/div\x3e\x3c/div\x3e":"")+'\x3cdiv id\x3d"##_toolbarmsg" class\x3d"%%-toolbarmsg" style\x3d"display:none;"\x3e\x3cdiv id\x3d"##_toolbarmsg_label" class\x3d"%%-toolbarmsg-label"\x3e\x3c/div\x3e\x3cdiv style\x3d"height:0;overflow:hidden;clear:both;"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"##_message_holder" class\x3d"%%-messageholder"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"##_iframeholder" class\x3d"%%-iframeholder"\x3e\x3c/div\x3e\x3cdiv id\x3d"##_scalelayer"\x3e\x3c/div\x3e\x3c/div\x3e'},renderToolbarBoxHtml:function(){for(var a=[],b=0;b<this.toolbars.length;b++)a.push(this.toolbars[b].renderHtml());return a.join("")},_updateElementPath:function(){if(this.elementPathEnabled&&(list=this.editor.queryCommandValue("elementpath")))for(var a=0,b;b=list[a];a++)this.formatHtml('\x3cspan unselectable\x3d"on" onclick\x3d"$$.editor.execCommand(\x26quot;elementpath\x26quot;, \x26quot;'+a+'\x26quot;);"\x3e'+b+"\x3c/span\x3e")}};d.inherits(a,p.editor.ui.UIBase);var c={};UE_CVT.ui.Editor=function(e){var f=new UE_CVT.Editor(e);f.options.editor=f;d.loadFile(document,{href:f.options.themePath+f.options.theme+"/css/cvtueditor.css",tag:"link",type:"text/css",rel:"stylesheet"});var g=f.render;f.render=function(e){e.constructor===String&&(f.key=e,c[e]=f);d.domReady(function(){f.setOpt({labelMap:f.options.labelMap});new a(f.options);if(e&&(e.constructor===String&&(e=document.getElementById(e)),e&&e.getAttribute("name")&&(f.options.textarea=e.getAttribute("name")),e&&/script|textarea/ig.test(e.tagName))){var c=document.createElement("div");e.parentNode.insertBefore(c,e);var d=e.value||e.innerHTML;f.options.initialContent=/^[\t\r\n ]*$/.test(d)?f.options.initialContent:d.replace(/>[\n\r\t]+([ ]{4})+/g,"\x3e").replace(/[\n\r\t]+([ ]{4})+</g,"\x3c").replace(/>[\n\r\t]+</g,"\x3e\x3c");e.className&&(c.className=e.className);e.style.cssText&&(c.style.cssText=e.style.cssText);/textarea/i.test(e.tagName)?(f.textarea=e,f.textarea.style.display="none"):e.parentNode.removeChild(e);e.id&&(c.id=e.id,b.removeAttributes(e,"id"));e=c;e.innerHTML=""}b.addClass(e,"edui-"+f.options.theme);f.ui.render(e);c=f.options;f.container=f.ui.getDom();for(var d=b.findParents(e,!0),h=[],k=0,p;p=d[k];k++)h[k]=p.style.display,p.style.display="block";c.initialFrameWidth?c.minFrameWidth=c.initialFrameWidth:(c.minFrameWidth=c.initialFrameWidth=e.offsetWidth,k=e.style.width,/%$/.test(k)&&(c.initialFrameWidth=k));c.initialFrameHeight?c.minFrameHeight=c.initialFrameHeight:c.initialFrameHeight=c.minFrameHeight=e.offsetHeight;for(k=0;p=d[k];k++)p.style.display=h[k];e.style.height&&(e.style.height="");f.container.style.width=c.initialFrameWidth+(/%$/.test(c.initialFrameWidth)?"":"px");f.container.style.zIndex=c.zIndex;g.call(f,f.ui.getDom("iframeholder"));f.fireEvent("afteruiready")})};return f};UE_CVT.getEditor=function(a,b,d){var g=c[a];g||(g=c[a]=new UE_CVT.ui.Editor(b),g.kdModel=d,g.render(a));return g};UE_CVT.delEditor=function(a){var b;if(b=c[a])b.key&&b.destroy(),delete c[a]};UE_CVT.registerUI=function(a,b,c,g){d.each(a.split(/\s+/),function(a){UE_CVT._customizeUI[a]={id:g,execFn:b,index:c}})}})();UE_CVT.registerUI("f(x) if and or abs round + - * / ( ) \x3d \x3e \x3e\x3d \x3c \x3c\x3d \x3c\x3e",function(a,d){a.registerCommand(d,{execCommand:function(b){"f(x)"==b?a.kdModel.invoke("f(x)",""):"if"==b?this.execCommand("inserthtml","if(\x26nbsp;,\x26nbsp;,\x26nbsp;)\x26nbsp;",!0):"and"==b?this.execCommand("inserthtml","and(\x26nbsp;,\x26nbsp;)\x26nbsp;",!0):"or"==b?this.execCommand("inserthtml","or(\x26nbsp;,\x26nbsp;)\x26nbsp;",!0):"abs"==b?this.execCommand("inserthtml","abs(\x26nbsp;)\x26nbsp;",!0):"round"==b?this.execCommand("inserthtml","round(\x26nbsp;,2\x26nbsp;)\x26nbsp;",!0):"len"==b?this.execCommand("inserthtml","len(\x26nbsp;)\x26nbsp;",!0):this.execCommand("inserthtml",b+"\x26nbsp;",!0)}});var b=new UE_CVT.ui.Button({name:d,title:d,onclick:function(){a.execCommand(d)}});a.addListener("selectionchange",function(){var c=a.queryCommandState(d);-1==c?(b.setDisabled(!0),b.setChecked(!1)):(b.setDisabled(!1),b.setChecked(c))});return b})})();