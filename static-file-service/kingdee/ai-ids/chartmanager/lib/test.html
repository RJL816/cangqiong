<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div id="container" style="width: 800px; height: 500px"></div>
    <script src="./echarts.8.js"></script>
    <script>
      let option = {
        legend: {},
        tooltip: {},
        dataset: {
          // 用 dimensions 指定了维度的顺序。直角坐标系中，如果 X 轴 type 为 category，
          // 默认把第一个维度映射到 X 轴上，后面维度映射到 Y 轴上。
          // 如果不指定 dimensions，也可以通过指定 series.encode
          // 完成映射，参见后文。
          dimensions: ["product", "2015", "2016"],
          source: [
            { product: "Matcha Latte", 2015: 43.3, 2016: 85.8 },
            { product: "Milk Tea", 2015: 83.1, 2016: 73.4 },
            { product: "Cheese Cocoa", 2015: 86.4, 2016: 65.2 },
            { product: "Walnut Brownie", 2015: 72.4, 2016: 53.9 },
          ],
        },
        xAxis: { type: "category" },
        yAxis: {},
        series: [{ type: "bar" }, { type: "bar" }],
      };
      const container = document.getElementById("container");
      const echart = echarts.init(container);
      echart.setOption(option);

      setTimeout(function () {
        const option = echart.getOption();
        echart.clear();
        // echart.dispose();

        console.log("option is ", option);
        echart.setOption(option);
      }, 1000);
    </script>
  </body>
</html>
