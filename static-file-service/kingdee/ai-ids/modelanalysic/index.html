<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link href="./css/index.css" rel="stylesheet" />
  </head>
  <body>
    <div class="ids__analysis-report_wrapper">
      <div class="ids__report_wrapper">
        <div id="ids__modelAna_container"></div>
      </div>
    </div>

    <div id="btn">
      click me
    </div>

    <script src="./ai_ids_setting.js"></script>
    <script src="./model.js"></script>
    <script src="./utils.js"></script>
    <script src="./renderUtils.js"></script>
    <script src="./chartUtils.js"></script>
    <script src="./chartSetting.js"></script>
    <script>
      console.log('IDS_ModelAna_ChartUtils is ', IDS_ModelAna_RenderUtils)
      var btn = document.querySelector('#btn')
      btn.addEventListener('click', function () {
        IDS_ModelAna_ChartUtils.chartData['historical_trend'] = [
          {
            max: 100.0,
            id: 'weather_effect',
            text: '天气因素天气因素',
            value: 38.46,
          },
          {
            max: 100.0,
            id: 'spring_festival',
            text: '春节天气因素',
            value: 46.23,
          },
          { max: 100.0, id: 'new_arrival', text: '新品天气因素', value: 31.23 },
          { max: 100.0, id: 'covid_19', text: '疫情天气因素', value: 77.73 },
          { max: 100.0, id: 'holidays', text: '节假日天气因素', value: 29.54 },
        ]
        IDS_ModelAna_ChartUtils.update('historical_trend')
      })
      var $$container = document.querySelector('#ids__modelAna_container')

      // IDS_ModelAna_ChartUtils.chartData=
      let testData = {
        pieData: [
          { id: 'historical_trend', name: '历史趋势', value: 38.2 },
          { id: 'growth_trend', name: '增长趋势', value: 23.3 },
          { id: 'test', name: '节假日因素', value: 20 },
          { id: 'other', name: '其他', value: 18.5 },
        ],
        historical_trend: [
          { max: 100.0, id: 'weather_effect', text: '天气因素', value: 38.46 },
          { max: 100.0, id: 'spring_festival', text: '春节', value: 46.23 },
          { max: 100.0, id: 'new_arrival', text: '新品', value: 31.23 },
          { max: 100.0, id: 'covid_19', text: '疫情', value: 77.73 },
          { max: 100.0, id: 'holidays', text: '节假日', value: 29.54 },
        ],
        growth_trend: [
          { max: 100.0, id: 'weather_effect', text: '天气因素', value: 48.46 },
          { max: 100.0, id: 'spring_festival', text: '春节', value: 36.23 },
          { max: 100.0, id: 'new_arrival', text: '新品', value: 31.23 },
          { max: 100.0, id: 'covid_19', text: '疫情', value: 77.73 },
          { max: 100.0, id: 'holidays', text: '节假日', value: 29.54 },
        ],
        other: [
          { max: 100.0, id: 'weather_effect', text: '天气因素', value: 28.46 },
          { max: 100.0, id: 'spring_festival', text: '春节', value: 56.23 },
          { max: 100.0, id: 'new_arrival', text: '新品', value: 31.23 },
          { max: 100.0, id: 'covid_19', text: '疫情', value: 77.73 },
          { max: 100.0, id: 'holidays', text: '节假日', value: 29.54 },
        ],
      }

      ai_ids.setting.setChartDataToPage('pie_radar', window.sankeyData)
      var TITLE_CLASS = 'ids__analysis-report_title'
      var DESC_CLASS = 'ids__analysis-report_desc'
      var EMPTY_VIEW = 'ids_analysis-report_view'
      console.log('template data is ', window.IDS_TemplateData)
      window.onload = function () {
        IDS_ModelAna_RenderUtils.main(
          {
            templateData: window.IDS_TemplateData.templateData,
            uniqueCode: 'pie_radar',
          },
          $$container,
        )
      }
    </script>
    <script src="./lib/chart35.js"></script>
  </body>
</html>
