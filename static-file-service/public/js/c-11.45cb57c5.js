(self["webpackJsonp_bos-platform"]=self["webpackJsonp_bos-platform"]||[]).push([[2764],{554096:function(e,t,n){"use strict";n.r(t),t.default={"menu-icon":"_2A2ADmrT"}},768372:function(e,t,n){"use strict";n.r(t),t.default={"text-ellipse":"_3YfxyeTZ","empty-wrap":"Nx4XCOEV","nav-menu-wrap":"_3O9FpXzp","left-nav-wrap":"-m4KeNg-","top-search-area":"_3-gNx987","search-box-wrap":"LBniV2ze","magnifier-icon":"G8iXjshd","clear-icon":"_2nLJV7CO","is-show":"_37RhoiRP","search-input":"_2mSzMo_m","nav-content":"L21QAvUZ","cloud-list":"_2yTYmZvW","in-drag":"_2Vs3WZz6","app-list":"_3u7QsKJD","app-list-item":"_1xnxE4JQ","right-menu-wrap":"_9jXmF-Wl","is-chinese":"_2OIRmVvE","menu-list":"_2Bziv1Uz","menu-item":"_2-zsTrmK","menu-item-text":"_1UxcTyDi","group-menu-item":"_3EH4WR7L","group-menu-item-text":"_12GHxOGz",line:"_2ytNNrEI","menu-item-wrap":"_1puoxpUA","favorite-icon":"_25Qk1X9-","is-favorite":"_1hHX570B","frequent-empty-wrap":"_1G63wrzY","loading-gif":"zesvKv60",loading:"_25Bhl_px","search-result-wrap":"AsssSL2n","search-result-content":"_2wj4SVLB","group-list":"_1TNgUlyP","is-overflow":"BIqQmdQ2","group-column-item":"jEVWxFVu","menu-list-right":"s99P6NR7","one-group":"_2BPM8EOp","menu-list-left":"J3xGfxiC","group-column-item-title":"uEORATTv",hover:"_1Tg1-Pvi","is-active":"_2daTPPL-",empty:"_3_Dgxhgc","cloud-item":"_2GbFtHGW","arrow-icon":"LyNFt7Jx","cloud-item-text":"_3AKw6ep7","cloud-item-wrap":"_1JBKryoz",workbench:"_1XXbPkTv","app-list-item-wrap":"_24pu44_a","app-list-item-text":"_34qKFLpx","clone-drag-item":"X38m-0gB",disabled:"_1xRFbeZO","in-drag-item":"_1UlpXwN-"}},865816:function(e,t,n){"use strict";n.r(t),t.default={appCenter:"_1zfREKOZ","cloud-wrapper":"_3pmrPky_",editCloudDialog:"_1gTAzrb5",cloudWrapper:"_3TkFVTzd","cloud-left":"_2eYvut7J","cloud-right":"_2BTsHuax",dialogContent:"RKGGeG_B",dialogFooter:"_3SeWkpUT","cloud-header":"_2rN7omQT","header-left":"_1jUMM2rJ","cloud-name":"_2L6xpe2a","header-toolbar":"_3GRQKAuo","toolbar-item":"_328NeSVy","sort-icon":"_3e5nkQg3",cloudName:"_1KPpF0Lg",app:"_2a9Q7lXD",cloudToobar:"_3qCFufnO","kdfont-bianji":"_2rEys9hI",appToolbar:"TsjlWoO8",appMsg:"_3PoFpoyN",appMsgForEn:"yY8_HwmA",appName:"EE9bPkQT",appNameForOther:"_34bsWeRO",appNameForEn:"_21Pg3K0E",appDescription:"_39rQKOr9",editNameAndDescription:"_2227WAO2",editCloudName:"_1ytIJJ5I",operation:"_1YZhxygN",appImg:"_2l7SVSnd",floatMenu:"_3KNxForo","is-admin":"LHYcTivp",adjustLayout:"_3biPM4JO",reset:"_4UWZQS-8",switchschema:"_32zniOiH",saveschema:"_2f1tIK7H",feedback:"_2zS1qlYp",operate:"_3_6IjVI2",addApp:"_3GAdmeTD",save:"_31LNkSi6",cancel:"_15sH-7KV",deleteApp:"_340mZnkv",newDeleteApp:"_6Xctx0-I",appIndustryStyle:"_16jdp3Nf",content:"_3E6VQcxG",managerTip:"_1zYAKuOu",tipMain:"_4z-vspv5",tipDesc:"_3SkU4gRR",leftPart:"_11F2O_nw",cloudAndAppStyle:"_172y4yKq",cloudStyle:"_16JWF4nH",rightCloudStyle:"_2ioBtHBe",cloudImageStyle:"_3h-pjdd5",cloudBgImageStyle:"_3xPuns6o",cloudNameStyle:"_27OPgWDb",cloudNameStyleForOther:"P9z-Rytf",cloudNameStyleForEn:"_2744zkMS",cloudIndustryStyle:"_2hp71C2B",visiable:"Wk-JQezg",visiable_block:"_2HsHRhwc",visiable_flex:"_1fKDMtFI",unvisiable:"_35ueAI26",bottombarpanel:"_1CwxSYYg",button:"_1KXpZTd5",newaddcard:"_2GrCYmFn","newaddcard-flag":"_70DRhhwI","newaddcard-show":"_2vw0uJwK","newaddcard-item":"_2bNtAuG6",editcontainer:"_2oDVYWYQ","edit-cancel":"_3GemzgK1","edit-end":"_1GNZ90hA","left-container":"_3NfL68qW","default-text":"_8zSf3TjN","default-wrapper":"_3CP9Inky","default-inner":"_1K7YiO8H","default-wrapper-open":"oxuShult","popup-panel":"swwOK0XQ","ap-addcard-flag":"fr7Mj4PH","ap-show":"_2e90fNa6"}},206456:function(e,t,n){"use strict";n(606200),Object.defineProperty(t,"__esModule",{value:!0}),t.OPEN_MENU_CLICK=t.OPEN_APP_MENU_CLICK=t.MENU_ITEM_CLICK=t.MANAGE_MENU_CLICK=t.GET_SEARCH_RESULT=t.GET_MENU_DATA=t.GET_FREQUENT_DATA=t.FAVORITE_REORDER=t.FAVORITE_ORDER_CHANGE=t.FAVORITE_MENU_CLICK=t.FAVORITE_ITEM_CLICK=t.CLOUD_ORDER_CHANGE=t.CANCEL_FAVORITE_MENU_CLICK=t.APP_ORDER_CHANGE=t.APP_ITEM_CLICK=t.ADD_FAVORITE=void 0;t.APP_ORDER_CHANGE="appOrderChange",t.CLOUD_ORDER_CHANGE="cloudOrderChange",t.APP_ITEM_CLICK="appItemClick",t.MANAGE_MENU_CLICK="menuClick",t.OPEN_APP_MENU_CLICK="menuClick",t.OPEN_MENU_CLICK="menuClick",t.FAVORITE_MENU_CLICK="menuClick",t.CANCEL_FAVORITE_MENU_CLICK="menuClick",t.GET_MENU_DATA="getMenuData",t.GET_SEARCH_RESULT="getSearchResult",t.MENU_ITEM_CLICK="menuItemClick",t.GET_FREQUENT_DATA="getFrequentData",t.FAVORITE_ITEM_CLICK="favoriteItemClick",t.ADD_FAVORITE="addFavorite",t.FAVORITE_ORDER_CHANGE="favoriteOrderChange",t.FAVORITE_REORDER="favoriteReOrder"},195032:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n(182320),n(909112),n(697060),n(743924),n(606200),n(534440),n(387912),n(78504),n(776512),n(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.addApp=function(e,t){return function(n,r){var u=e.pageId,l=(0,a.getPost)(u)(r());o.invokeControlService(e,p.MANAGE_MENU_CLICK,[{type:"addApp",cloudId:t}],l,n)}},t.addFavorite=function(e){return function(t,n){var r=e.pageId,u=(0,a.getPost)(r)(n());o.invokeControlService(e,p.ADD_FAVORITE,[{}],u,t)}},t.appItemClick=function(e,t){var n=t.appId,r=t.cloudId;return function(t,u){var l=e.pageId,i=(0,a.getPost)(l)(u());o.invokeControlService(e,p.APP_ITEM_CLICK,[{appId:n,cloudId:r}],i,t)}},t.appOrderChange=function(e,t){var n=e.pageId,r=e.key;return function(e,u){var l=(0,a.getPost)(n)(u());t&&o.invokeControlService({pageId:n,key:r},p.APP_ORDER_CHANGE,[{data:t.toJS()}],l,e)}},t.cancelFavorite=function(e,t,n,r,u){return function(l,i){var c=e.pageId,d=(0,a.getPost)(c)(i()),f={type:"cancelFavorite",id:t,appId:n,cloudId:r};u&&(f.menuType=u),o.invokeControlService(e,p.CANCEL_FAVORITE_MENU_CLICK,[f],d,l)}},t.cloudOrderChange=function(e,t){var n=e.pageId,r=e.key;return function(e,u){var l=(0,a.getPost)(n)(u());o.invokeControlService({pageId:n,key:r},p.CLOUD_ORDER_CHANGE,[{data:t}],l,e)}},t.favorite=function(e,t,n,r,u){return function(l,i){var c=e.pageId,d=(0,a.getPost)(c)(i()),f={type:"favorite",id:t,appId:n,cloudId:r};u&&(f.menuType=u),o.invokeControlService(e,p.FAVORITE_MENU_CLICK,[f],d,l)}},t.favoriteItemClick=function(e,t){var n=t.id,r=t.appId,u=t.cloudId;return function(t,l){var i=e.pageId,c=(0,a.getPost)(i)(l());o.invokeControlService(e,p.FAVORITE_ITEM_CLICK,[{id:n,appId:r,cloudId:u}],c,t)}},t.favoriteReOrder=function(e,t){return function(n,r){var u=e.pageId,l=(0,a.getPost)(u)(r());o.invokeControlService(e,p.FAVORITE_REORDER,[t],l,n)}},t.getFrequentData=function(e){var t=e.pageId,n=e.key;return function(e,r){var u=(0,a.getPost)(t)(r());o.invokeControlService({pageId:t,key:n},p.GET_FREQUENT_DATA,[],u,e)}},t.getMenuData=function(e,t){var n=e.pageId,r=e.key,u=t.appId,l=t.cloudId;return function(e,t){var i=(0,a.getPost)(n)(t());o.invokeControlService({pageId:n,key:r},p.GET_MENU_DATA,[{appId:u,cloudId:l}],i,e)}},t.getSearchResult=function(e,t){var n=e.pageId,r=e.key;return function(e,o){var u=(0,a.getPost)(n)(o());(0,f.invokeControlService)({pageId:n,key:r},p.GET_SEARCH_RESULT,[{content:t}],u,e)}},t.hideApp=function(e,t,n){return function(r,u){var l=e.pageId,i=(0,a.getPost)(l)(u());o.invokeControlService(e,"menuClick",[{type:"hideApp",appId:t,cloudId:n}],i,r)}},t.menuItemClick=function(e,t){var n=e.pageId,r=e.key,u=t.menuId,l=t.appId,i=t.cloudId;return function(e,t){var c=(0,a.getPost)(n)(t());o.invokeControlService({pageId:n,key:r},p.MENU_ITEM_CLICK,[{menuId:u,appId:l,cloudId:i}],c,e)}},t.menuSort=function(e,t,n,r){var c=e.pageId,d=e.key;return function(e,t){var f,s=(0,a.getDataProperty)(c,d,"favoriteData")(t()),m=s.findIndex((function(e){return e.get("id")===n})),v=s.findIndex((function(e){return e.get("id")===r}));if(m>v?f=s.insert(v,s.get(m)).delete(m+1):m<v&&(f=s.insert(v+1,s.get(m)).delete(m)),f&&f.size>0&&!(0,i.is)(f,s)){var g=(0,a.getPost)(c)(t());e({type:(0,u.getControlReducerName)("appnavigationmenu",l.MYAPP_IMMUTABLE_COLLECTDATA),param:{pageId:c,key:d,data:f}}),o.invokeControlService({pageId:c,key:d},p.FAVORITE_ORDER_CHANGE,[{data:f.toJS()}],g,e)}}},t.openApp=function(e,t,n){return function(r,u){var l=e.pageId,i=(0,a.getPost)(l)(u());o.invokeControlService(e,p.OPEN_APP_MENU_CLICK,[{type:"openApp",appId:t,cloudId:n}],i,r)}},t.openMenu=function(e,t,n){return function(r,u){var l=e.pageId,i=(0,a.getPost)(l)(u());o.invokeControlService(e,p.OPEN_MENU_CLICK,[{type:"openMenu",menuId:t,appId:n}],i,r)}},t.saveSetting=function(){return function(e,t){var n=(0,c.getRootPageId)()(t()),r=(0,d.getDiffUserUIState)();r&&o.invokeControlService({pageId:n},"saveSetting",[r],(0,i.List)(),e)}},t.sortCloud=function(e,t,n){var r=e.pageId,i=e.key;return function(e,c){var d=(n=n||(0,a.getDataProperty)(r,i,"myAppData")(c())).sort((function(e,n){return t.findIndex((function(t){return t.id===e.get("cloudId")}))-t.findIndex((function(e){return e.id===n.get("cloudId")}))})),f=(0,a.getPost)(r)(c());e({type:(0,u.getControlReducerName)("appnavigationmenu",l.MYAPP_IMMUTABLE_APPDATA),param:{pageId:r,key:i,data:d}}),o.invokeControlService({pageId:r,key:i},"cloudOrderChange",[{data:t}],f,e)}},n(613468),n(82e3);var a=n(218652),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var l=o?Object.getOwnPropertyDescriptor(e,u):null;l&&(l.get||l.set)?Object.defineProperty(a,u,l):a[u]=e[u]}return a.default=e,n&&n.set(e,a),a}(n(251536)),u=n(840636),l=n(502292),i=n(891052),c=n(218652),d=n(738704),f=n(244144),p=n(206456);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}},746889:function(e,t,n){"use strict";n(697060),n(622676),n(505684),n(323784),n(743924),n(976896),n(297336),n(721300),n(969e3),n(606200),n(534440),n(76152),n(76124),n(633768),n(690512),n(78504),n(776512),n(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.themeContext=t.dragReducer=t.default=void 0,n(182320),n(909112),n(360776),n(305092),n(233696),n(693917),n(205960),n(846428),n(336368),n(387912),n(997308),n(86744);var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=I(e)&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=a?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(795520)),a=b(n(918092)),o=n(331428),u=n(439532),l=n(218652),i=b(n(884492)),c=n(195032),d=n(738704),f=n(674260),p=n(502292),s=n(891052),m=n(654500),v=n(868256),g=b(n(264296)),y=n(790832);function b(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function _(){return _=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_.apply(this,arguments)}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,u,l=[],i=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{if(!i&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){var r;return r=function(e,t){if("object"!=I(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=I(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==I(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=1,D="bos_portal_myapp_new",P=t.themeContext=(0,r.createContext)();t.dragReducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case"drag":return k(k({},e),r);case"clear":return{};default:return e}};t.default=function(e){var t=e.model,n=e.dispatch,b=t.key,E=t.pageId,I=t.meta,A=t.getMetaProperty("showType"),S=h((0,r.useState)((0,s.fromJS)([])),2),k=S[0],O=S[1],M=h((0,r.useState)((0,s.fromJS)([])),2),N=M[0],w=M[1],T=h((0,r.useState)((0,s.fromJS)([])),2),R=T[0],j=T[1],L=h((0,r.useState)((0,s.fromJS)([])),2),F=L[0],x=L[1],U=h((0,r.useState)(!1),2),G=U[0],q=U[1],K=h((0,r.useState)(!1),2),H=K[0],z=K[1],V=(0,r.useRef)(),Y=t.getDataProperty("favoriteGroupType"),W=(t.getDataProperty("recentlyUsed"),(0,i.default)(t)),J=(0,l.getFormConfig)(E)(t.state).fileserver,B=Object.assign({},(0,u.getCommonStyle)(t),e.style),Q=(0,u.getCommonClass)(t),X=t.getUserLocale(),$=(0,r.useRef)({});if(!W.isVisible)return null;(0,r.useEffect)((function(){var e=(0,d.subscribeControlMethod)(E,b,"directives",(function(e){null!=e&&Z(e)}));return(0,d.setControlMount)(E,b,!0),function(){e(),(0,d.setControlMount)(E,b,!1)}})),(0,r.useEffect)((function(){var e=(0,m.addAjaxStateListener)(E,b,"getMenuData",ee);return function(){e()}}),[E,b]),(0,r.useEffect)((function(){var e=(0,f.addDataChangeListener)(v.KEY_SIDE_PANEL_DISPLAY_STATE,ne);return function(){e()}}),[]);var Z=function(e){e.forEach((function(e){var t=e.methodname,n=e.args;switch(t){case p.SET_MYAPP_DATA:O((0,s.fromJS)(n[0])),$.current.appData=n[0];break;case p.SET_FAVORITE_DATA:w((0,s.fromJS)(n[0]||[]));break;case p.SET_RECENTLY_USED_MENU_DATA:var r=n[0]||[];j((0,s.fromJS)(r.slice(0,12)));break;case p.SET_MENU_DATA:x((0,s.fromJS)(n[0]||[])),ue(n[0]);break;default:"".concat(t," is not been implemented")}}))},ee=function(e){var t=e.value;e.args;t===m.AJAX_PENDING?V.current=setTimeout(te,300):t!==m.AJAX_SUCCESS&&t!==m.AJAX_ERROR||(q(!1),V.current&&clearTimeout(V.current))},te=function(){q(!0),V.current&&clearTimeout(V.current)},ne=function(e){(null==e?void 0:e.formId)===D&&z(null==e?void 0:e.show)},re=(0,r.useMemo)((function(){return{model:{key:b,pageId:E,meta:I},userLocale:X,dispatch:n,fileserver:J}}),[X,n,J,b,E]),ae=(0,r.useMemo)((function(){return(0,s.fromJS)([{name:(0,o.getLangMsg)({key:"AppNavigationMenu.key002"}),id:0,children:null!=R&&R.size?R:[]},{name:(0,o.getLangMsg)({key:"AppNavigationMenu.key013"}),id:1,children:null!=N&&N.size?N:[]}])}),[N,R]),oe=function(e,t,n){var r=(($.current.appData||[]).find((function(e){return e.cloudId===t}))||{}).items.find((function(t){return t.appId===e}));switch(n){case"app":return r;case"menuData":return(0,y.cloneDeep)(null==r?void 0:r.menuData)}return null},ue=function(e){if(e.length){var t=e[0],n=t.appId,r=t.cloudId,a=oe(n,r,"app");a&&(a.menuData=e)}};return A===C?r.default.createElement(g.default,{active:H,menuFormId:D}):r.default.createElement(P.Provider,{value:re},r.default.createElement(a.default,_({style:B},Q,{frequentData:ae,collectGroupType:Y,appData:k,menuData:F,model:t,isLoading:G,onCloudSort:function(e){n((0,c.cloudOrderChange)(t,e))},onAppSort:function(e){n((0,c.appOrderChange)(t,e))},onGetMenuData:function(e){var r=e.appId,a=e.cloudId,o=oe(r,a,"menuData");o?x((0,s.fromJS)(o)):n((0,c.getMenuData)(t,e))},onAppItemClick:function(e){n((0,c.appItemClick)(t,e))},openAppInNewTab:function(e,r){n((0,c.openApp)(t,e,r))},manageApp:function(e){n((0,c.addApp)(t,e))},openMenuInNewTab:function(e,r){n((0,c.openMenu)(t,e,r))},onFavorite:function(e,r,a,o){n((0,c.favorite)(t,e,r,a,o))},onCancelFavorite:function(e,r,a,o){n((0,c.cancelFavorite)(t,e,r,a,o))},onMenuItemClick:function(e){n((0,c.menuItemClick)(t,e))},onClearMenuData:function(){x((0,s.fromJS)(null))},onGetFrequentData:function(e){n((0,c.getFrequentData)(t,e))},onFavoriteDragEnd:function(e){n((0,c.favoriteReOrder)(t,e))}})))}},264296:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n(182320),n(909112),n(697060),n(743924),n(606200),n(534440),n(78504),n(776512),n(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(305092),n(336368),n(387912),n(86744);var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var l=o?Object.getOwnPropertyDescriptor(e,u):null;l&&(l.get||l.set)?Object.defineProperty(a,u,l):a[u]=e[u]}return a.default=e,n&&n.set(e,a),a}(n(795520)),o=n(674260),u=n(868256),l=f(n(671252)),i=f(n(554096)),c=n(790832),d=n(589200);function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}var s=function(e){var t=(0,a.useRef)(null),n=(0,a.useRef)(null),r=(0,a.useRef)(null),f=e.menuFormId,p=e.active,s=function(e){var t=(0,c.cloneDeep)(e),n=t.find((function(e){return e.formId===f}));return n&&Object.assign(n,{noReRequest:!0,clickDelay:500}),t},m=function(){(0,o.updateData)(u.KEY_SET_SLIDEBILL_FORMID,s),(0,o.setData)(u.KEY_SHOW_SLIDEBILL,{formId:f}),r.current=!0},v=(0,a.useCallback)((function(){clearTimeout(n.current),n.current=setTimeout((function(){m(),(0,d.fireDOMEvent)(document.body,"mousedown"),(0,d.fireDOMEvent)(document.body,"click")}),100)}),[]),g=(0,a.useCallback)((function(){clearTimeout(n.current)}),[]),y=function(){t.current.removeEventListener("mouseenter",v),t.current.removeEventListener("mouseleave",g)};return(0,a.useEffect)((function(){var e=null;return p?y():e=setTimeout((function(){t.current.addEventListener("mouseenter",v),t.current.addEventListener("mouseleave",g)}),10),function(){clearTimeout(e),y()}}),[p]),a.default.createElement("div",{onClick:function(){m()},ref:t,className:(0,l.default)("kdfont kdfont-quanbuyingyong-xianxing",i.default["menu-icon"])})};t.default=(0,a.memo)(s)},576832:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n(182320),n(909112),n(697060),n(360776),n(622676),n(233696),n(505684),n(743924),n(693917),n(205960),n(976896),n(721300),n(846428),n(969e3),n(606200),n(534440),n(76152),n(76124),n(387912),n(690512),n(78504),n(776512),n(997308),n(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(9692),n(323784),n(835164),n(633768),n(328640);var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var l=o?Object.getOwnPropertyDescriptor(e,u):null;l&&(l.get||l.set)?Object.defineProperty(a,u,l):a[u]=e[u]}return a.default=e,n&&n.set(e,a),a}(n(795520)),o=b(n(540900)),u=b(n(671252)),l=b(n(523304)),i=b(n(768372)),c=b(n(118648)),d=n(646880),f=n(891052),p=n(331428),s=b(n(301877)),m=n(199860),v=n(80020),g=b(n(688016)),y=n(545072);function b(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e,t,n){var a;return a=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=r(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==r(a)?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,u,l=[],i=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{if(!i&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var S="__$$__",k=function(e){var t=e.appData,n=e.openAppInNewTab,r=e.manageApp,o=e.onCloudSort,l=e.onAppSort,c=e.onSwitchMenuMode,d=e.onGetMenuData,f=e.onGetFrequentData,m=e.onAppItemClick,g=e.onMenuItemClick,y=h((0,a.useState)({}),2),b=y[0],E=y[1],A=h((0,a.useState)(null),2),k=A[0],C=A[1],D=(0,a.useRef)(null);(0,a.useEffect)((function(){var e=new window.IntersectionObserver(P);return(null==D?void 0:D.current)&&e.observe(null==D?void 0:D.current),function(){e&&e.disconnect()}}),[k]);var P=function(e){e[0].isIntersecting&&!k&&f()},M=(0,a.useCallback)((function(e){var t,n=e.target;if(null!==(t=n.dataset)&&void 0!==t&&t.workbench){var r,a=h(null===(r=n.dataset)||void 0===r?void 0:r.workbench.split(S),2),o=a[0],u=a[1];m({cloudId:o,appId:u})}else{for(;n&&"LI"!==n.nodeName&&"UL"!==n.nodeName&&n!==D.current;)n=n.parentNode;if("LI"===n.nodeName.toUpperCase()){var l=n.dataset||{},i=l.cloud,p=l.app,s=l.showWorkbench,g=l.frequent;if(i){var y=b[i],A=n.querySelector("ul");if(y)A.style.height="0px";else{var O,P=null===(O=A)||void 0===O||null===(O=O.childNodes[0])||void 0===O?void 0:O.offsetHeight;A.style.height=void 0!==P?P+"px":"auto"}A=null,b[i]=!y,E(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},b))}else if(p){var M=h(p.split(S),2),N=M[0],w=M[1];"false"===String(s)?m({cloudId:N,appId:w}):(null===k&&c(v.TILE_RIGHT_MENU_MODE.FORMMENU),C({cloudId:N,appId:w}),d({cloudId:N,appId:w}))}else g&&(null!==k&&c(v.TILE_RIGHT_MENU_MODE.FREQUENTLY),C(null),f())}}}),[b,k,m,c,d,f]);return t?a.default.createElement("div",{ref:D,className:(0,u.default)("kd-cq-tile-left-nav",i.default["left-nav-wrap"]),onClick:M},a.default.createElement("div",{className:(0,u.default)("kd-cq-tile-top-search-area",i.default["top-search-area"])},a.default.createElement(s.default,{onMenuItemClick:g,onAppItemClick:m})),a.default.createElement("div",{className:(0,u.default)("kd-cq-tile-menu-container",i.default["nav-content"])},a.default.createElement("li",{"data-frequent":!0,className:(0,u.default)("kd-cq-tile-cloud-item",i.default["cloud-item"],_(_({},i.default["is-active"],null===k),"kd-cq-tile-cloud-item-active",null===k))},(0,p.getLangMsg)({key:"myapp.key011"})),a.default.createElement(O,{openAppInNewTab:n,manageApp:r,appData:t,expandData:b,onCloudSort:o,onAppSort:l,selectedAppInfo:null!=k?k:{}}))):null},O=a.default.memo((function(e){var t=e.openAppInNewTab,n=e.manageApp,r=e.appData,o=e.expandData,l=e.selectedAppInfo,c=void 0===l?{}:l,p=e.onCloudSort,s=e.onAppSort,m=(0,a.useRef)(),v=h((0,a.useState)(!1),2),g=v[0],y=v[1],b=(0,a.useRef)();(0,a.useEffect)((function(){b.current=r}),[r]);var E=(0,a.useCallback)((function(){y(!0)}),[]),I=(0,a.useCallback)((function(e){var t;y(!1);var n=e.sourceKey,r=e.destinationKey;if(n!==r){var a=(0,f.fromJS)([]);null!==(t=b.current)&&void 0!==t&&t.size&&(a=b.current.map((function(e){return(0,f.fromJS)({id:e.get("cloudId"),name:e.get("name")})})));var o=(0,d.sortData)({sourceKey:n,destinationKey:r,dataSource:a});(null==o?void 0:o.size)>0&&!(0,f.is)(o,a)&&p(o.toJS())}}),[p]);return a.default.createElement("ul",{className:(0,u.default)("kd-cq-tile-cloud-list",i.default["cloud-list"],_({},i.default["in-drag"],g)),ref:m},r.map((function(e,r){return a.default.createElement(C,{key:e.get("cloudId"),cloudItem:e,cloudIndex:r,expandData:o,parentElement:m.current,onDragStart:E,selectedAppInfo:c,openAppInNewTab:t,manageApp:n,onAppSort:s,onDragEnd:I,isDragging:g})})))})),C=a.default.memo((function(e){var t=e.cloudItem,n=e.onDragEnd,r=e.onDragStart,o=e.cloudIndex,d=e.isDragging,f=e.expandData,p=e.selectedAppInfo,s=e.openAppInNewTab,m=e.manageApp,v=e.onAppSort,b=e.parentElement,E=(0,a.useRef)(),I=t.get("cloudId"),h=f[I],A=t.get("name"),S=t.get(y.GRAY_VALID),k=a.default.createElement(l.default,null,a.default.createElement("span",{className:(0,u.default)(i.default["cloud-item-text"]),title:A},A));return(0,c.default)({dragItemRef:E,onDragEnd:n,onDragStart:r,parentElement:b}),a.default.createElement("li",{key:I,"data-cloud":I},a.default.createElement("div",{className:(0,u.default)("kd-cq-tile-cloud-item",i.default["cloud-item"],_(_({},i.default["is-active"],p.cloudId===I),"kd-cq-tile-cloud-item-active",p.cloudId===I)),ref:E,draggable:!0,"data-drag-key":o},S?a.default.createElement("div",{className:i.default["cloud-item-wrap"]},k,a.default.createElement(g.default,{value:S})):k,a.default.createElement("i",{className:(0,u.default)("kd-cq-tile-colud-item-arrow-icon kdfont",i.default["arrow-icon"],{"kdfont-shangla":h,"kdfont-xiala":!h})})),a.default.createElement(D,{openAppInNewTab:s,manageApp:m,cloudItem:t,isShow:!d&&h,onAppSort:v,selectedAppId:p.appId}))})),D=a.default.memo((function(e){var t=e.cloudItem,n=e.selectedAppId,r=e.isShow,o=e.onAppSort,l=e.openAppInNewTab,c=e.manageApp,p=t.get("cloudId"),s=t.get("items"),m=h((0,a.useState)(s),2),v=m[0],g=m[1],y=(0,a.useRef)(),b=(0,a.useRef)(),E=h((0,a.useReducer)((function(e){return e+1}),0),2),I=E[0],A=E[1];(0,a.useEffect)((function(){y.current=s,g(s)}),[s]),(0,a.useEffect)((function(){b.current&&b.current.style.height&&(b.current.style.height="auto")}),[null==s?void 0:s.size]);var S=(0,a.useCallback)((function(e){var t=e.sourceKey,n=e.destinationKey;if(t!==n){var r=(0,d.sortData)({sourceKey:t,destinationKey:n,dataSource:y.current});(null==r?void 0:r.size)>0&&!(0,f.is)(r,y.current)&&(y.current=r,g(r),o(r))}}),[o]);return a.default.createElement("ul",{className:(0,u.default)("kd-cq-tile-app-list",i.default["app-list"],_({},i.default.show,r)),ref:b},a.default.createElement("div",null,v.map((function(e,t){return a.default.createElement(P,{key:e.get("appId"),appIndex:t,manageApp:c,openAppInNewTab:l,selectedAppId:n,parentElement:b.current,appItem:e,cloudId:p,onDragEnd:S,dropDownFlag:I,changeFlag:A})}))))})),P=a.default.memo((function(e){var t=e.selectedAppId,n=e.appItem,r=e.onDragEnd,o=e.appIndex,d=e.cloudId,f=e.openAppInNewTab,s=e.manageApp,b=(e.parentElement,e.dropDownFlag),E=e.changeFlag,I=n.get("appId"),A=n.get("name"),k=n.get("showWorkbench"),O=h((0,a.useState)(!1),2),C=O[0],D=O[1],P=(0,a.useRef)(),M=n.get(y.GRAY_VALID),N=(0,a.useCallback)((function(e){"openApp"===e?f(I,d):"addApp"===e&&s(d),D(!1)}),[I,d,f,s]),w=(0,a.useCallback)((function(e){e!==C&&D(e)}),[C]);(0,c.default)({dragItemRef:P,onDragEnd:r,onDragStart:E}),(0,a.useEffect)((function(){D(!1)}),[b]);var T=a.default.createElement(l.default,null,a.default.createElement("span",{className:(0,u.default)(i.default["app-list-item-text"]),title:A},A)),R=a.default.createElement("li",{key:I,"data-app":"".concat(d).concat(S).concat(I),ref:P,"data-show-workbench":k,className:(0,u.default)("kd-cq-tile-app-list-item",i.default["app-list-item"],_(_({},i.default["is-active"],t===I),"kd-cq-tile-app-list-item-active",t===I)),draggable:!0,"data-drag-key":o},M?a.default.createElement("div",{className:i.default["app-list-item-wrap"]},T,a.default.createElement(g.default,{value:M})):T,!1===k?null:a.default.createElement("div",{"data-workbench":"".concat(d).concat(S).concat(I),className:(0,u.default)("kd-cq-tile-app-list-item-workbench",i.default.workbench)},(0,p.getLangMsg)({key:"AppNavigationMenu.key026"})));return a.default.createElement(m.Dropdown,{trigger:"contextMenu",popperClassName:"kd-cq-popup kd-cq-tile-menu-context-menu-popup kd-cq-context-menu",menu:v.AppItemContextMenu,onVisibleChange:w,onItemClick:N,visible:C},R)}));k.propTypes={appData:o.default.object,openAppInNewTab:o.default.func,manageApp:o.default.func,onCloudSort:o.default.func,onAppSort:o.default.func,onSwitchMenuMode:o.default.func,onGetMenuData:o.default.func,onGetFrequentData:o.default.func,onAppItemClick:o.default.func,onMenuItemClick:o.default.func};t.default=a.default.memo(k)},617068:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n(182320),n(909112),n(697060),n(360776),n(505684),n(743924),n(693917),n(205960),n(976896),n(721300),n(846428),n(606200),n(534440),n(387912),n(690512),n(78504),n(776512),n(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(9692),n(323784),n(835164),n(633768),n(328640);var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var l=o?Object.getOwnPropertyDescriptor(e,u):null;l&&(l.get||l.set)?Object.defineProperty(a,u,l):a[u]=e[u]}return a.default=e,n&&n.set(e,a),a}(n(795520)),o=n(746889),u=y(n(540900)),l=(y(n(523304)),n(199860)),i=n(331428),c=n(646880),d=y(n(671252)),f=y(n(768372)),p=n(80020),s=y(n(127360)),m=y(n(765303)),v=y(n(688016)),g=n(545072);function y(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function E(e,t,n){var a;return a=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=r(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==r(a)?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,u,l=[],i=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{if(!i&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h="__$$__",A=function(e){var t=e.isFrequent,n=e.menuData,r=e.openMenuInNewTab,u=e.onFavorite,l=e.onCancelFavorite,p=e.onMenuItemClick,m=e.isLoading,y=e.onFavoriteDragEnd,b=((0,a.useContext)(o.themeContext)||{}).userLocale,_=(0,a.useRef)(),A=I((0,a.useReducer)((function(e){return e+1}),0),2),k=A[0],O=A[1];(0,a.useEffect)((function(){_.current&&(_.current.scrollTop=0)}),[null==n?void 0:n.getIn([0,"menuId"])]);var C=(0,a.useCallback)((function(e){var n,r=e.target;if(r&&"I"===r.nodeName){var a,o,i=null===(a=r.dataset)||void 0===a?void 0:a.menuFavoriteInfo,c=null===(o=r.parentNode.dataset)||void 0===o?void 0:o.menuIdInfo;if(c){var d=I(c.split(h),3),f=d[0],s=d[1],m=d[2];"true"===String(i)?l(m,s,f,t?"recentUsed":"appMenu"):u(m,s,f,t?"recentUsed":"appMenu")}}else{for(;r&&"LI"!==r.nodeName&&r!==_.current;)r=r.parentNode;if("LI"===r.nodeName&&null!==(n=r.dataset)&&void 0!==n&&n.menuIdInfo){var v,g=null===(v=r.dataset)||void 0===v?void 0:v.menuIdInfo;if(g){var y=I(g.split(h),3),b=y[0],E=y[1],A=y[2];p({menuId:A,appId:E,cloudId:b})}}}}),[t,l,u,p]),D=m&&a.default.createElement("div",{className:f.default["loading-gif"]},a.default.createElement(s.default,null));return n?n.size?a.default.createElement("div",{className:(0,d.default)("kd-cq-tile-right-menu",f.default["right-menu-wrap"],E({},f.default["is-chinese"],(0,c.isChineseLang)(b))),ref:_},a.default.createElement("ul",{className:(0,d.default)("kd-cq-tile-menu-group-menu-list-wrap",f.default["group-menu-list"])},n.map((function(e,n){var o,u=t&&1===n,c=e.get(g.GRAY_VALID);return a.default.createElement("li",{key:u?e.get("id"):e.get("menuId"),className:(0,d.default)("kd-cq-tile-menu-group-menu-item-wrap",f.default["group-menu-item"])},a.default.createElement("div",{className:(0,d.default)("kd-cq-tile-menu-group-menu-item-text",f.default["group-menu-item-text"])},c&&a.default.createElement(v.default,{value:c}),a.default.createElement("i",{className:f.default.line}),e.get("name")),null!==(o=e.get("children"))&&void 0!==o&&o.size?a.default.createElement("ul",{className:(0,d.default)("kd-cq-tile-menu-group-menu-list",f.default["menu-list"]),onClick:C},e.get("children").map((function(e,t){return a.default.createElement(S,{item:e,index:t,key:u?e.get("id"):e.get("menuId"),isCollect:u,openMenuInNewTab:r,onCancelFavorite:l,onFavoriteDragEnd:y,dropDownFlag:k,changeFlag:O})}))):t&&a.default.createElement("div",{className:(0,d.default)("kd-cq-empty-description",f.default["frequent-empty-wrap"])},0===n?(0,i.getLangMsg)({key:"AppNavigationMenu.key024"}):(0,i.getLangMsg)({key:"AppNavigationMenu.key025"})))}))),D):a.default.createElement("div",{className:(0,d.default)("kd-cq-empty-description",f.default["empty-wrap"])},(0,i.getLangMsg)({key:"AppNavigationMenu.key019"})):D};A.propTypes={isFrequent:u.default.bool,menuData:u.default.object,openMenuInNewTab:u.default.func,onFavorite:u.default.func,onCancelFavorite:u.default.func,onMenuItemClick:u.default.func};t.default=a.default.memo(A);var S=a.default.memo((function(e){var t,n=e.item,r=e.isCollect,o=e.openMenuInNewTab,u=e.onCancelFavorite,i=e.index,c=e.onFavoriteDragEnd,s=e.dropDownFlag,y=e.changeFlag,b=I((0,a.useState)(!1),2),_=b[0],A=b[1],S=n.get("isFavorite"),k=n.get("name"),O=r?n.get("id"):n.get("menuId"),C=n.get("appId"),D=n.get("cloudId"),P=(0,a.useRef)(null),M=n.get(g.GRAY_VALID),N=(0,a.useCallback)((function(e){"cancelFavorite"===e?u(O,C,D,"favorite"):"openMenu"===e&&o(O,C),A(!1)}),[O,C,D,u,o]),w=(0,a.useCallback)((function(e){e!==_&&A(e)}),[_]);(0,a.useEffect)((function(){A(!1)}),[s]);var T=r?{parentElement:null==P||null===(t=P.current)||void 0===t?void 0:t.parentNode,dragItemRef:P,onDragEnd:function(e){c(e)},onDragStart:y}:{};(0,m.default)(T);var R=a.default.createElement("div",{className:f.default["menu-item-text"],title:k},k),j=a.default.createElement("li",{ref:P,"data-drag-key":r&&i,key:O,className:(0,d.default)("kd-cq-tile-menu-group-menu-item",f.default["menu-item"]),"data-menu-id-info":"".concat(D).concat(h).concat(C).concat(h).concat(O)},M?a.default.createElement("div",{className:f.default["menu-item-wrap"]},a.default.createElement(v.default,{value:M}),R):R,!r&&a.default.createElement("i",{"data-menu-favorite-info":S,className:(0,d.default)("kd-cq-tile-menu-group-menu-favorite-icon kdfont",f.default["favorite-icon"],E({"kdfont-shoucang":!S},"kdfont-shoucangxuanzhong ".concat(f.default["is-favorite"]),S))}));return r?a.default.createElement(l.Dropdown,{trigger:"contextMenu",menu:p.FormItemContextMenu,onVisibleChange:w,onItemClick:N,visible:_,popperClassName:"kd-cq-popup kd-cq-tile-menu-context-menu-popup kd-cq-context-menu"},j):j}))},301877:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n(182320),n(909112),n(697060),n(360776),n(505684),n(743924),n(693917),n(205960),n(976896),n(297336),n(721300),n(846428),n(336368),n(606200),n(534440),n(387912),n(633768),n(690512),n(78504),n(776512),n(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SearchResultPanel=void 0,n(323784),n(321164);var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var l=o?Object.getOwnPropertyDescriptor(e,u):null;l&&(l.get||l.set)?Object.defineProperty(a,u,l):a[u]=e[u]}return a.default=e,n&&n.set(e,a),a}(n(795520)),o=_(n(540900)),u=_(n(369396)),l=_(n(671252)),i=_(n(768372)),c=n(331428),d=n(564491),f=_(n(630976)),p=n(790832),s=_(n(48640)),m=n(703188),v=_(n(127360)),g=_(n(523304)),y=n(646880),b=n(80020),E=n(589200),I=_(n(564012));function _(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function A(e,t,n){var a;return a=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=r(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==r(a)?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S.apply(this,arguments)}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,u,l=[],i=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{if(!i&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var C=function(e){var t=e.onAppItemClick,n=e.onMenuItemClick,r=k((0,a.useState)(""),2),o=r[0],m=r[1],v=k((0,a.useState)(!1),2),g=v[0],y=v[1],b=(0,a.useRef)(),E=(0,a.useRef)(),I=(0,s.default)(),_=I.searchResultState,h=void 0===_?{}:_,A=I.searchValueRef,O=I.clearSearchResult,C=I.getSearchResultList,M=(0,a.useCallback)((function(e){A.current=e,""!==e&&C(e)}),[C]),N=(0,a.useCallback)((0,p.debounce)(M,300),[]);D({searchInputRef:b,searchBoxRef:E,setInputValue:m,clearSearchResult:O});var w=(0,a.useCallback)((function(e){m(e),""===e&&(A.current="",O()),g||y(!0),N(e.trim())}),[O,g]),T=(0,a.useCallback)((function(){y(!1)}),[]),R=(0,a.useCallback)((function(){T()}),[T]),j=(0,a.useCallback)((function(){o&&!g&&y(!0)}),[o,g]),L=(0,a.useCallback)((function(e){e.menuId?n(e):t(e)}),[n,t]),F=(0,a.useCallback)((function(e){b.current=u.default.findDOMNode(e),b.current||(b.current=void 0)}),[]),x=(0,a.useCallback)((function(){o&&!g&&y(!0)}),[o,g]);return a.default.createElement("div",{className:i.default["search-box-wrap"],ref:E},a.default.createElement("span",{className:(0,l.default)(i.default["magnifier-icon"],"kd-cq-tile-magnifier-icon kdfont kdfont-f")}),a.default.createElement(d.Text,{className:(0,l.default)("kd-cq-tile-search-input",i.default["search-input"]),ref:F,value:o,placeholder:(0,c.getLangMsg)({key:"AppNavigationMenu.key030"}),onChange:function(e){return w(e.target.value,!1)},onBlur:R,onFocus:j,onClick:x,type:"text"}),g&&""!==o&&u.default.createPortal(a.default.createElement(f.default,{trigger:E.current,onClose:T},a.default.createElement(P,S({},h,{closePanel:T,onItemClick:L}))),document.body))},D=function(e){var t=e.searchInputRef,n=e.searchBoxRef,r=e.setInputValue,o=e.clearSearchResult,u=(0,a.useCallback)((function(e){for(var r,a=e.target;a&&a!==n.current&&!a.hasAttribute("data-tile-menu")&&a!==document.body;)a=a.parentElement;a!==n.current&&a!==document.body&&(!(null===(r=t.current)||void 0===r?void 0:r.value)&&t.current.focus())}),[]);(0,a.useEffect)((function(){var e=new IntersectionObserver((function(e){e[0].intersectionRatio>0?(t.current.focus(),window.addEventListener("click",u,!0)):(r(""),null==o||o(),window.removeEventListener("click",u,!0))}));return e.observe(t.current),function(){t.current&&(null==e||e.unobserve(t.current))}}),[r])},P=t.SearchResultPanel=function(e){var t=e.searchResult,n=e.searchLoading,r=e.closePanel,o=e.onItemClick,u=t.data,d=t.keyword,f=(0,a.useRef)(),p=(0,y.transferSearchResult)(u),s=(0,y.flatData)(p),_=(0,a.useRef)(s),h=(0,I.default)(0),S=h.selectedIndex,k=h.selectedIndexRef,O=h.handleListMouseMove,C=h.handleListKeyDown;(0,a.useEffect)((function(){_.current=s}),[s]),(0,a.useEffect)((function(){return window.addEventListener("keydown",D,!0),function(){window.removeEventListener("keydown",D,!0)}}),[]);var D=(0,a.useCallback)((function(e){var t=e.which,n=_.current.length;if(C(e,n,P),t===m.KEYS.ENTER)k.current>=0&&o(_.current[k.current]),r()}),[o,r]),P=(0,a.useCallback)((function(e){var t,n,r=null===(t=f.current)||void 0===t?void 0:t.querySelector('[data-index="'.concat(e,'"]'));r&&(null===(n=r.scrollIntoView)||void 0===n||n.call(r,{behavior:"instant",block:"nearest"}))}),[]),M=(0,a.useCallback)((function(e){for(var t=e.target;t&&"LI"!==t.nodeName&&t!==f.current;)t=t.parentNode;if("LI"===t.nodeName.toUpperCase()){var n,r,a=null!==(n=null===(r=t.dataset)||void 0===r?void 0:r.index)&&void 0!==n?n:0,u=s[a];u&&o(u)}}),[s,o]),N=function(e){O(e,"data-index")},w=function(){var e=[],t=[],n=-1;for(var r in b.groupDataMapping){var o=u[r];if(Array.isArray(o)){var c=b.groupDataMapping[r],f=c.title,s=c.lId,m=c.lName,v=c.rId,y=c.rName,I=(0,l.default)("kd-cq-dropdown-menu-item kd-cq-dropdown-menu-title",i.default["group-column-item-title"]);p.length>1&&e.push(a.default.createElement("div",{className:I},f)),p.length>1&&t.push(a.default.createElement("div",{className:I}," "));for(var _=0;_<o.length;_++){var h=o[_];n++;var k=(0,l.default)("kd-cq-dropdown-menu-item",i.default["menu-item"],A(A({},i.default["is-active"],S===n),"kd-cq-dropdown-menu-item-active",S===n));e.push(a.default.createElement("li",{key:h[s],className:k,"data-index":n},a.default.createElement(g.default,null,a.default.createElement("span",{title:h[m],className:(0,l.default)(i.default["menu-item-text"]),dangerouslySetInnerHTML:{__html:(0,E.highLight)(h[m],d)}})))),t.push(a.default.createElement("li",{key:h[v],className:k,"data-index":n},a.default.createElement(g.default,null,a.default.createElement("span",{title:h[y],className:(0,l.default)(i.default["menu-item-text"])},h[y]))))}}}return a.default.createElement(a.default.Fragment,null,a.default.createElement("ul",{className:(0,l.default)(i.default["group-column-item"],i.default["menu-list"],i.default["menu-list-left"]),onMouseMove:N},e),a.default.createElement("ul",{className:(0,l.default)(i.default["group-column-item"],i.default["menu-list"],i.default["menu-list-right"]),onMouseMove:N},t))};if(null===u&&!n)return null;if(n)return a.default.createElement("div",{className:(0,l.default)("kd-cq-dropdown",i.default.loading)},a.default.createElement(v.default,{loadingType:1}));var T=(2===p.length?2:0)+s.length>12;return a.default.createElement("div",{className:i.default["search-result-wrap"]},a.default.createElement("div",{ref:f,className:(0,l.default)("kd-cq-dropdown kd-cq-dropdown-select-type kd-cq-tile-search-dropdown",i.default["search-result-content"])},s.length?a.default.createElement("div",{className:(0,l.default)(i.default["group-list"],A(A({},i.default["one-group"],1===p.length),i.default["is-overflow"],T)),onClick:M},a.default.createElement(w,null)):a.default.createElement("div",{className:(0,l.default)("kd-cq-empty-description",i.default.empty)},(0,c.getLangMsg)({key:"AppNavigationMenu.key019"}))))};C.propTypes={onAppItemClick:o.default.func,onMenuItemClick:o.default.func},P.propTypes={searchLoading:o.default.bool,searchResult:o.default.object,closePanel:o.default.func,onItemClick:o.default.func};t.default=C},80020:function(e,t,n){"use strict";n(606200),Object.defineProperty(t,"__esModule",{value:!0}),t.groupDataMapping=t.TILE_RIGHT_MENU_MODE=t.FormItemContextMenu=t.AppItemContextMenu=void 0;var r=n(331428);t.groupDataMapping={menuItemList:{title:(0,r.getLangMsg)({key:"AppNavigationMenu.key028"}),lId:"menuId",lName:"menuName",rId:"appId",rName:"appName"},appItemList:{title:(0,r.getLangMsg)({key:"AppNavigationMenu.key023"}),lId:"appId",lName:"appName",rId:"cloudId",rName:"cloudName"}},t.AppItemContextMenu=[{key:"openApp",label:(0,r.getLangMsg)({key:"AppNavigationMenu.key001"})},{key:"addApp",label:(0,r.getLangMsg)({key:"AppNavigationMenu.key005"})}],t.FormItemContextMenu=[{key:"cancelFavorite",label:(0,r.getLangMsg)({key:"AppNavigationMenu.key027"})}],t.TILE_RIGHT_MENU_MODE={FREQUENTLY:0,FORMMENU:1}},118648:function(e,t,n){"use strict";n(606200),Object.defineProperty(t,"__esModule",{value:!0}),t.DATA_DRAG_KEY=void 0,t.default=function(e){var t=e.dragItemRef,n=e.onDragEnd,r=e.onDragStart,l=e.parentElement,f=["kd-cq-tile-cloud-in-drag-item",o.default["in-drag-item"]],p=function(e,t,r,a,o,u){window.requestIdleCallback((function(){if("finished"===u){var a,o;i&&v(i),e&&(a=e.classList).remove.apply(a,f);var l=null==e?void 0:e.getAttribute(s),p=(null===(o=i)||void 0===o?void 0:o.getAttribute(s))||l;n({sourceKey:l,destinationKey:p}),d=i=null,c={}}else{if(!(t-c.right>=0||t-c.left<=0||r-c.top<=0||r-c.bottom>=0)){var y=g(t,r)||e;y&&y!==i&&(i&&v(i),m(e,i=y))}}}))},y=function(e,n){var a,u,i;(a=n.classList).add.apply(a,f),(d=e).removeAttribute(s),d.classList.add(o.default["clone-drag-item"]),c=null===(u=l||(null===(i=t.current)||void 0===i?void 0:i.parentNode))||void 0===u?void 0:u.getBoundingClientRect(),null==r||r()};(0,a.useEffect)((function(){var e,n={parentElement:l||(null===(e=t.current)||void 0===e?void 0:e.parentNode),onStart:y,onMove:p,savePosition:!1,placeHolder:!0,isLimit:!1,cursor:"pointer",moveToBody:!0};(0,u.dragElement)(t.current,n)}),[])},n(305092),n(387912);var r,a=n(795520),o=(r=n(768372))&&r.__esModule?r:{default:r},u=n(683088),l=n(589200);var i,c,d,f="data-top-drag-style",p="data-bottom-drag-style",s=t.DATA_DRAG_KEY="data-drag-key",m=function(e,t){e&&t&&(+e.getAttribute(s)>+t.getAttribute(s)?t.setAttribute(f,!0):t.setAttribute(p,!0))},v=function(e){e&&(e.removeAttribute(f),e.removeAttribute(p))},g=function(e,t){return(0,l.getElementsFromPoint)(e-1,t-1).find((function(e){return void 0!==e.getAttribute(s)&&e.getAttribute("data-drag-element")}))}},765303:function(e,t,n){"use strict";n(182320),n(909112),n(697060),n(505684),n(323784),n(743924),n(693917),n(976896),n(721300),n(606200),n(633768),n(690512),n(78504),n(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.DATA_DRAG_KEY=void 0,n(305092),n(387912);var r=n(795520),a=i(n(768372)),o=n(683088),u=n(589200),l=i(n(822812));function i(e){return e&&e.__esModule?e:{default:e}}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,u,l=[],i=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{if(!i&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f,p="data-left-drag-style",s="data-right-drag-style",m=t.DATA_DRAG_KEY="data-drag-key",v="data-clone-item",g=function(e){e&&(e.removeAttribute(p),e.removeAttribute(s))},y=function(e){e&&(e&&g(e),f=null)};t.default=function(e){var t=e.dragItemRef,n=e.onDragStart,i=e.onDragEnd,d=e.parentElement,b=c((0,l.default)({dragElement:null==t?void 0:t.current}),3),E=b[0],I=b[1],_=b[2],h=[a.default["in-drag-item"],"kd-cq-tile-menu-group-menu-in-drag-item"],A=function(e,t){var r;(r=t.classList).add.apply(r,h),e.removeAttribute(m),e.setAttribute(v,!0),e.classList.add(a.default["clone-drag-item"],"kd-cq-tile-menu-group-menu-clone-drag-item"),null==n||n()},S=function(e,t,r,a,o,l){if(E({y:r,height:o}),"finished"===l){var c,d,b,A;I(),_(!1),e&&(c=e.classList).remove.apply(c,h);var S=+e.getAttribute(m),k=+(null===(d=f)||void 0===d?void 0:d.getAttribute(m)),O=null===(b=f)||void 0===b?void 0:b.getAttribute(p),C=null===(A=f)||void 0===A?void 0:A.getAttribute(s);if(!(!f||k-S==1&&O||S-k==1&&C)){var D=S>k?k:k+1;S<k&&O&&(D-=1),S>k&&C&&(D+=1),null==i||i({startIndex:S,destinationIndex:D})}y(f)}else{var P=function(e,t){return(0,u.getElementsFromPoint)(e,t).find((function(e){return void 0!==e.getAttribute(m)&&e.getAttribute("data-drag-element")&&!e.getAttribute(v)}))}(t+a/2,r+o/2);P?(g(f),function(e,t){if(e){var n=e.getBoundingClientRect();t<n.left+n.width/2?e.setAttribute(p,!0):e.setAttribute(s,!0)}}(f=P,t+a/2),null==n||n()):y(f)}};(0,r.useEffect)((function(){var e=null==t?void 0:t.current;if(e){var n={parentElement:d||e.parentNode,onStart:A,onMove:S,savePosition:!1,placeHolder:!0,isLimit:!1,cursor:"pointer",moveToBody:!0};(0,o.dragElement)(e,n)}}),[null==t?void 0:t.current])}},48640:function(e,t,n){"use strict";n(697060),n(622676),n(505684),n(323784),n(743924),n(693917),n(976896),n(721300),n(969e3),n(606200),n(534440),n(76152),n(76124),n(633768),n(690512),n(78504),n(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(182320),n(909112),n(360776),n(233696),n(205960),n(846428),n(387912),n(997308),n(86744);var r=n(211152),a=n(795520),o=n(746889),u=n(654500),l=n(738704),i=n(502292),c=n(195032);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,u,l=[],i=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{if(!i&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){var r;return r=function(e,t){if("object"!=d(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==d(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g={searchLoading:!1,searchResult:{data:null,keyword:""}},y="setLoading",b="setSearchResult",E="result",I=function(e,t){var n=t.searchResult,r=t.searchLoading;switch(t.type){case y:return m(m({},e),{},{searchLoading:r});case b:return m(m({},e),{},{searchResult:n});case E:return m(m({},e),{},{searchLoading:!1,searchResult:{data:null,keyword:""}});default:return e}};t.default=function(){var e=f((0,a.useReducer)(I,g),2),t=e[0],n=e[1],d=(0,a.useContext)(o.themeContext).model,p=d.pageId,s=d.key,m=(0,a.useRef)(null),v=(0,a.useRef)("");(0,a.useEffect)((function(){var e=(0,l.subscribeControlMethod)(p,s,"directives",(function(e){null!=e&&e.forEach((function(e){var t=e.methodname,n=e.args;t===i.SET_TILEMENU_SEARCH_RESULT&&_(n[0])}))})),t=(0,u.addAjaxStateListener)(p,s,"getSearchResult",h);return function(){t(),e()}}),[p,s]);var _=function(e){e.data;var t=e.keyword;v.current===t&&n({type:b,searchResult:e})},h=function(e){var t,r=e.value,a=e.args;if(!v.current||v.current===(null===(t=a[0])||void 0===t?void 0:t.content))switch(m.current&&(clearTimeout(m.current),m.current=null),r){case u.AJAX_PENDING:m.current=setTimeout((function(){return n({type:y,searchLoading:!0})}),300);break;case u.AJAX_SUCCESS:n({type:y,searchLoading:!1});break;default:n({type:E})}};return{searchResultState:t,searchValueRef:v,clearSearchResult:function(){n({type:b,searchResult:{data:null,keyword:""}})},getSearchResultList:function(e){(0,r.doGlobalDispatch)((0,c.getSearchResult)(d,e))}}}},918092:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n(182320),n(909112),n(697060),n(505684),n(743924),n(693917),n(976896),n(721300),n(606200),n(534440),n(387912),n(633768),n(690512),n(78504),n(776512),n(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(323784);var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var l=o?Object.getOwnPropertyDescriptor(e,u):null;l&&(l.get||l.set)?Object.defineProperty(a,u,l):a[u]=e[u]}return a.default=e,n&&n.set(e,a),a}(n(795520)),o=f(n(540900)),u=f(n(671252)),l=f(n(768372)),i=f(n(576832)),c=f(n(617068)),d=n(80020);function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,u,l=[],i=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{if(!i&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=a.default.memo((function(e){var t=s((0,a.useState)(d.TILE_RIGHT_MENU_MODE.FREQUENTLY),2),n=t[0],r=t[1],o=e.appData,f=e.menuData,p=e.frequentData,m=e.isLoading,v=e.openAppInNewTab,g=e.openMenuInNewTab,y=e.onCloudSort,b=e.onClearMenuData,E=e.onAppSort,I=e.onGetMenuData,_=e.onGetFrequentData,h=e.onAppItemClick,A=e.onFavorite,S=e.onCancelFavorite,k=e.onMenuItemClick,O=e.manageApp,C=e.onFavoriteDragEnd,D=(0,a.useCallback)((function(e){r(e),b()}),[b]),P=n===d.TILE_RIGHT_MENU_MODE.FREQUENTLY;return a.default.createElement("div",{className:(0,u.default)("kd-cq-control kd-cq-tile-menu",l.default["nav-menu-wrap"]),"data-tile-menu":!0},a.default.createElement(i.default,{appData:o,openAppInNewTab:v,onCloudSort:y,onGetFrequentData:_,manageApp:O,onAppSort:E,onSwitchMenuMode:D,onGetMenuData:I,onAppItemClick:h,onMenuItemClick:k}),a.default.createElement(c.default,{menuData:P?p:f,isFrequent:n===d.TILE_RIGHT_MENU_MODE.FREQUENTLY,openMenuInNewTab:g,onFavorite:A,onCancelFavorite:S,onMenuItemClick:k,isLoading:m,onFavoriteDragEnd:C}))}));v.propTypes={appData:o.default.object,onCloudSort:o.default.func,onAppSort:o.default.func,menuData:o.default.array,frequentData:o.default.array,onGetMenuData:o.default.func,onGetFrequentData:o.default.func,onAppItemClick:o.default.func,openAppInNewTab:o.default.func,openMenuInNewTab:o.default.func,manageApp:o.default.func,onFavorite:o.default.func,onCancelFavorite:o.default.func,onMenuItemClick:o.default.func,onClearMenuData:o.default.func,onFavoriteDragEnd:o.default.func};t.default=v},646880:function(e,t,n){"use strict";n(606200),Object.defineProperty(t,"__esModule",{value:!0}),t.transferSearchResult=t.sortData=t.isChineseLang=t.flatData=t.addOrRemoveHoverStyle=t.DATA_DRAG_KEY=void 0,n(9692),n(233696),n(443616),n(323784),n(492948),n(693917),n(387912),n(997308);var r,a=n(80020),o=(r=n(768372))&&r.__esModule?r:{default:r};t.DATA_DRAG_KEY="data-drag-key",t.sortData=function(e){var t=e.sourceKey,n=e.destinationKey,r=e.dataSource,a=t-0,o=n-0;return a>o?r.insert(o,r.get(a)).delete(a+1):r.insert(o+1,r.get(a)).delete(a)},t.transferSearchResult=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e)return[];var t=[];for(var n in a.groupDataMapping){var r;null!==(r=e[n])&&void 0!==r&&r.length&&t.push(e[n])}return t},t.flatData=function(e){return Array.isArray(e)?e.reduce((function(e,t){return e.concat(t)}),[]):[]},t.isChineseLang=function(e){return["zh_TW","zh_CN"].includes(e)},t.addOrRemoveHoverStyle=function(e){var t=e.panel,n=e.index,r=e.type,a=void 0===r?"add":r;if(t){var u=[].slice.call(t.querySelectorAll('[data-index="'.concat(n,'"]')));null!=u&&u.length&&u.forEach((function(e){"remove"===a?e.classList.remove(o.default.hover):e.classList.add(o.default.hover)}))}}},3264:function(e,t,n){"use strict";n(182320),n(909112),n(697060),n(505684),n(323784),n(743924),n(976896),n(721300),n(606200),n(633768),n(690512),n(78504),n(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.addApp=function(e,t){return function(e,n){var o={apps:(0,r.getAppStore)(t,"app_store_list")(n())};(0,a.invokeDevPortalService)(t,o,"addapp",e)}},t.adjustApp=function(e,t,n,a){return function(l,i){for(var c,d,f=[],p=(0,r.getAppStore)(e,"app_store_list")(i()),s=0,m=0,v=[],g=0;g<p.length;g++)if(p[g][0].id===t){d=JSON.parse(JSON.stringify(p)),v=p[g],c=g;for(var y=1;y<p[g].length;y++)p[g][y].id===n&&(s=y),p[g][y].id===a&&(m=y)}f=s>m?[].concat(u(v.slice(0,m)),[v[s]],u(v.slice(m,s)),u(v.slice(s+1))):[].concat(u(v.slice(0,s)),u(v.slice(s+1,m+1)),[v[s]],u(v.slice(m+1))),d&&(d[c]=f,JSON.stringify(d)!==JSON.stringify(p)&&l({type:o.APPSTORELIST,param:{pageId:e,data:d}}))}},t.asignApp=function(e,t,n){e.stopPropagation();var r={appid:n};return function(e,n){(0,a.invokeDevPortalService)(t,r,"asign_app",e)}},t.assignScheme=function(e,t){return function(e,n){var o={apps:(0,r.getAppStore)(t,"app_store_list")(n())};(0,a.invokeDevPortalService)(t,o,"assignscheme",e)}},t.asyncAppStoreList=function(e){return function(t,n){(0,a.invokeDevPortalService)(e,{},"app_store_list",t)}},t.deleteApp=function(e,t,n){return e.stopPropagation(),function(e,r){e({type:o.REFRESHAPPSTORELIST,param:{pageId:t,appId:n}})}},t.editAppInfo=function(e,t,n,o,u,l){return e.stopPropagation(),function(e,i){var c=(0,r.getAppStore)(t,"app_store_list")(i()),d={appid:n,appname:o,description:u,issetdefault:l,apps:c};(0,a.invokeDevPortalService)(t,d,"editappinfo",e)}},t.editCloudInfo=function(e,t,n,r){return e.stopPropagation(),function(e,o){var u={cloudid:n,cloudname:r};(0,a.invokeDevPortalService)(t,u,"editcloudinfo",e)}},t.feedback=function(e,t){return function(e,n){(0,a.invokeDevPortalService)(t,{},"feedback",e)}},t.getFactoryList=function(e){return function(t,n){(0,a.invokeDevPortalService)(e,{},"app_factory_list",t)}},t.gotoApp=function(e,t,n,r,o,u,l){return function(e,i){if(!o){var c={appnumber:r,appid:n,alluserapp:u,appname:l};(0,a.invokeDevPortalService)(t,c,"gotoapp",e)}}},t.gotoAppShop=function(e,t,n){if(n)return;return function(e,n){(0,a.invokeDevPortalService)(t,{},"gotoappshop",e)}},t.gotoCommendApp=function(e,t,n,r){if(r)return;var o={appid:n};return function(e,n){(0,a.invokeDevPortalService)(t,o,"gotocommendapp",e)}},t.isadminuser=function(e){return function(t,n){(0,a.invokeDevPortalService)(e,{},"isadminuser",t)}},t.resetApp=function(e,t){return function(e,n){(0,a.invokeDevPortalService)(t,{},"resetapp",e)}},t.resetCloud=function(e,t){return function(n,r){(0,a.invokeDevPortalService)(e,{},t,n)}},t.saveAppScheme=function(e,t,n,o){return function(e,u){var l={apps:(0,r.getAppStore)(t,"app_store_list")(u()),ischeckdefault:n,isadminsave:o};(0,a.invokeDevPortalService)(t,l,"saveapps",e)}},t.sortCloud=function(e,t){return function(n,a){var l=(0,r.getAppStore)(e,"app_store_list")(a()).sort((function(e,n){var r,a,o=null===(r=e.find((function(e){return!0===e.iscloud})))||void 0===r?void 0:r.id,u=null===(a=n.find((function(e){return!0===e.iscloud})))||void 0===a?void 0:a.id;return t.findIndex((function(e){return e.id===o}))-t.findIndex((function(e){return e.id===u}))}));n({type:o.APPSTORELIST,param:{pageId:e,data:u(l)}})}},n(9692),n(305092),n(613468),n(693917),n(82e3),n(76124),n(387912);var r=n(218652),a=n(918284),o=n(986032);function u(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},677272:function(e,t,n){"use strict";n(606200),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.dispatch,n=e.model.meta,r=e.model,p=n.get("componenttype");return a.default.createElement(a.default.Suspense,{fallback:a.default.createElement("div",null)},function(e){var n=new Map([[3,o],[4,u],[5,l],[6,i],[9,c],[13,u],[14,d],[15,f]]),p={dispatch:t,model:r};13===e&&(p.pageManageType="extpagemanage");var s=n.get(e);return a.default.createElement(s,p)}(p))},n(743924),n(70472),n(387912),n(497448),n(78504),n(977864);var r,a=(r=n(795520))&&r.__esModule?r:{default:r};n(218327);var o=a.default.lazy((function(){return Promise.all([n.e(8512),n.e(4074),n.e(1192),n.e(2240),n.e(4260),n.e(2544),n.e(7952)]).then(n.bind(n,227872))})),u=a.default.lazy((function(){return Promise.all([n.e(8512),n.e(4074),n.e(1192),n.e(2240),n.e(4260),n.e(2544),n.e(7952)]).then(n.bind(n,579992))})),l=a.default.lazy((function(){return Promise.all([n.e(8512),n.e(4074),n.e(1192),n.e(2240),n.e(4260),n.e(2544),n.e(7952)]).then(n.bind(n,587644))})),i=a.default.lazy((function(){return Promise.all([n.e(8512),n.e(4074),n.e(1192),n.e(2240),n.e(4260),n.e(2544),n.e(7952)]).then(n.bind(n,946204))})),c=a.default.lazy((function(){return Promise.all([n.e(4074),n.e(4104),n.e(1192),n.e(3308),n.e(8440),n.e(4260),n.e(2764)]).then(n.bind(n,355864))})),d=a.default.lazy((function(){return Promise.all([n.e(8512),n.e(4074),n.e(1192),n.e(2240),n.e(4260),n.e(2544),n.e(7952)]).then(n.bind(n,494088))})),f=a.default.lazy((function(){return Promise.all([n.e(8512),n.e(4074),n.e(1192),n.e(2240),n.e(4260),n.e(2544),n.e(7952)]).then(n.bind(n,149924))}))},293636:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n(697060),n(505684),n(323784),n(743924),n(693917),n(976896),n(606200),n(534440),n(387912),n(633768),n(690512),n(78504),n(776512),n(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(182320),n(909112),n(9692),n(835164),n(721300);var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var l=o?Object.getOwnPropertyDescriptor(e,u):null;l&&(l.get||l.set)?Object.defineProperty(a,u,l):a[u]=e[u]}return a.default=e,n&&n.set(e,a),a}(n(795520)),o=n(3264),u=m(n(865816)),l=m(n(671252)),i=n(355864),c=n(439532),d=n(331428),f=m(n(523304)),p=m(n(688016)),s=n(545072);function m(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,u,l=[],i=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{if(!i&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b=(0,a.memo)((function(e){var t=e.appInfo,n=e.dragInfo,r=e.dispatchDragInfo,m=(0,a.useContext)(i.AppCenterContext),v=m.pageId,g=m.dispatch,y=m.fileConfig,b=m.localLanguage,E=m.defaultLang,I=m.edit,_=m.isDefault,h=t.cloudid,A=t.id,S=t.image,k=(t.industry,t.name),O=t.number,C=t.alluserapp,D=t.description,P=t.thirdapp,M=(0,c.getImgFullPath)(y,S||"DEV/DEVPORTAL/app_appDefaultNew_0_D4LhI6cOJLJmBIzOid.png"),N=(null==k?void 0:k[b])||(null==k?void 0:k[E])||(null==k?void 0:k.zh_CN)||"",w=(null==D?void 0:D[b])||(null==D?void 0:D[E])||(null==D?void 0:D.zh_CN)||"",T="en_US"===b?"appNameForEn":"appNameForOther",R="en_US"===b?"appMsgForEn":"appMsg",j=t[s.GRAY_VALID];return a.default.createElement(f.default,null,a.default.createElement("div",{title:w,draggable:!!I,onDragStart:function(e){e.stopPropagation(),e.target.style.opacity=.1,r({type:"drag",payload:{dragElement:A,curCloudId:h}})},onDragEnd:function(e){e.target.style.opacity=1,r({type:"clear"})},onDragOver:function(e){e.preventDefault();var t=n.dragElement,r=n.curCloudId;r===h&&A!==t&&function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];g(o.adjustApp.apply(void 0,[v].concat(t)))}(r,t,A)},className:u.default.app,onClick:function(e){g((0,o.gotoApp)(e,v,A,O,I,C,N))}},a.default.createElement("img",{src:M,className:u.default.appImg,draggable:"false"}),a.default.createElement("div",{className:u.default[R]},a.default.createElement(f.default,null,a.default.createElement("div",{className:(0,l.default)(u.default.appName,u.default[T]),title:N},N)),a.default.createElement(f.default,null,a.default.createElement("div",{className:u.default.appDescription,title:w},w))),!!I&&!P&&a.default.createElement("div",{className:u.default.appToolbar},a.default.createElement("i",{className:"kdfont kdfont-bianji kd-hover-color",title:(0,d.getLangMsg)({key:"kde.bianji"}),onClick:function(e){e.stopPropagation(),g((0,o.editAppInfo)(e,v,A,k,D,_))}}),a.default.createElement("i",{className:"kdfont kdfont-qingkong-xianxing kd-hover-color",title:(0,d.getLangMsg)({key:"myapp.shanchu"}),onClick:function(e){return function(e,t){g((0,o.deleteApp)(e,v,t))}(e,A)}})),!I&&j&&a.default.createElement(p.default,{value:j})))})),E=(0,a.memo)((function(e){var t,n,r,f=e.cloud,m=e.apps,v=(0,a.useContext)(i.AppCenterContext),y=v.pageId,E=v.dispatch,I=v.localLanguage,_=v.defaultLang,h=v.edit,A=v.fileConfig,S=g((0,a.useReducer)(i.dragReducer,{}),2),k=S[0],O=S[1],C=(0,c.getImgFullPath)(A,f.pgimage||"DEV/DEVPORTAL/cloudPgDefault_0_TBX0f3sM7LSL6MPSIt.png"),D=(null==f||null===(t=f.name)||void 0===t?void 0:t[I])||(null==f||null===(n=f.name)||void 0===n?void 0:n[_])||(null==f||null===(r=f.name)||void 0===r?void 0:r.zh_CN)||"",P="en_US"===I?"cloudNameStyleForEn":"cloudNameStyleForOther",M=null==f?void 0:f[s.GRAY_VALID],N=function(e){e.preventDefault()},w=function(e){e.stopPropagation(),E((0,o.editCloudInfo)(e,y,f.id,f.name))};return a.default.createElement("div",{className:u.default["cloud-wrapper"]},a.default.createElement("div",{className:u.default.cloudAndAppStyle},a.default.createElement("div",{className:u.default.cloudStyle},a.default.createElement("img",{src:C,className:u.default.cloudImageStyle}),a.default.createElement("div",{className:(0,l.default)(u.default.cloudNameStyle,u.default[P])},D,!h&&M&&a.default.createElement(p.default,{value:M})),!!h&&!f.thirdapp&&a.default.createElement("div",{className:u.default.cloudToobar},a.default.createElement("i",{className:"kdfont kdfont-bianji kd-hover-color",title:(0,d.getLangMsg)({key:"kde.bianji"}),onClick:w}))),a.default.createElement("div",{className:u.default.rightCloudStyle,onDragOver:N,onDragEnter:N},m.map((function(e){return a.default.createElement(b,{key:e.id,appInfo:e,dragInfo:k,dispatchDragInfo:O})})))))}));t.default=E},355864:function(e,t,n){"use strict";n(697060),n(233696),n(505684),n(323784),n(743924),n(976896),n(297336),n(336368),n(969e3),n(606200),n(534440),n(76152),n(633768),n(690512),n(78504),n(776512),n(997308),n(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.dragReducer=t.default=t.AppCenterContext=void 0,n(182320),n(909112),n(360776),n(9692),n(622676),n(305092),n(613468),n(835164),n(693917),n(927184),n(205960),n(721300),n(846428),n(76124),n(387912);var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=m(e)&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=a?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(795520)),a=p(n(293636)),o=p(n(247600)),u=n(199860),l=n(3264),i=p(n(865816)),c=p(n(671252)),d=n(218652),f=n(331428);p(n(523304));function p(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v.apply(this,arguments)}function g(e){return function(e){if(Array.isArray(e))return E(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||b(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,u,l=[],i=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{if(!i&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(c)throw a}}return l}}(e,t)||b(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){if(e){if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){var r;return r=function(e,t){if("object"!=m(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==m(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A=t.AppCenterContext=(0,r.createContext)(),S=t.dragReducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case"drag":return _(_({},e),r);case"clear":return{};default:return e}},k=(0,r.memo)((function(e){var t=e.isAdmin,n=e.setEdit,a=e.openDialog,o=(0,r.useContext)(A),u=o.pageId,d=o.edit,p=o.dispatch,s=function(){p((0,l.getFactoryList)(u)),n(2)};return r.default.createElement("div",{className:(0,c.default)([i.default.floatMenu,h({},i.default["is-admin"],2===d)])},r.default.createElement("div",{className:i.default.menu1},d?r.default.createElement("div",{title:(0,f.getLangMsg)({key:"myapp.key007"}),className:i.default.adjustLayout,onClick:a},r.default.createElement("i",{className:"kd-hover-color kdfont kdfont-paixu-xianxing"})):r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{title:(0,f.getLangMsg)({key:"myapp.tiaozhengbuju"}),className:i.default.adjustLayout,onClick:function(){return n(1)}},r.default.createElement("i",{className:"kd-hover-color kdfont kdfont-bianjishouye"})),t&&r.default.createElement("div",{title:(0,f.getLangMsg)({key:"myapp.key001"}),className:i.default.adjustLayout,onClick:s},r.default.createElement("i",{className:"kd-hover-color kdfont-quanjugongxiang"})))))})),O=(0,r.memo)((function(e){var t=e.setEdit,n=(0,r.useContext)(A),a=n.pageId,o=n.edit,u=n.dispatch,d=n.isDefault;return!!o&&r.default.createElement("div",{className:i.default.bottombarpanel},r.default.createElement("div",{className:i.default.newaddcard},r.default.createElement("i",{className:(0,c.default)("kdfont kdfont-tianjiaqiapian",i.default["newaddcard-flag"],i.default["newaddcard-item"]),onClick:function(e){return u((0,l.addApp)(e,a))}}),r.default.createElement("span",{className:i.default["newaddcard-item"],onClick:function(e){return u((0,l.addApp)(e,a))}},(0,f.getLangMsg)({key:"myapp.key008"}))),r.default.createElement("div",{className:i.default.editcontainer},r.default.createElement("div",{className:(0,c.default)(i.default.button,i.default["edit-cancel"]),onClick:function(e){var t=1===o?"restoredefault":"restorefactory";u((0,l.resetCloud)(a,t))}},(0,f.getLangMsg)({key:1===o?"myapp.key002":"myapp.key003"})),r.default.createElement("div",{className:(0,c.default)(i.default.button,i.default["edit-cancel"]),onClick:function(e){u((0,l.asyncAppStoreList)(a)),t(0)}},(0,f.getLangMsg)({key:"gridContainer.key0011"})),r.default.createElement("div",{className:(0,c.default)(i.default.button,i.default["edit-end"],"kd-theme kd-grid-btn"),onClick:function(e){var n=1!==o;u((0,l.saveAppScheme)(e,a,d,n)),t(0)}},(0,f.getLangMsg)({key:"gridContainer.key0007"}))))})),C=(0,r.memo)((function(e){var t=e.items,n=(0,r.useContext)(A).edit;return r.default.createElement("div",{className:i.default.content},2===n&&r.default.createElement("div",{className:(0,c.default)(i.default.managerTip,"warning-bg-color")},r.default.createElement("i",{className:(0,c.default)("kdfont kdfont-zhuangtai_jingshi warning-color",i.default.tipIcon)}),r.default.createElement("b",{className:i.default.tipMain},(0,f.getLangMsg)({key:"myapp.key004"})),r.default.createElement("span",{className:i.default.tipDesc},(0,f.getLangMsg)({key:"myapp.key005"}))),r.default.createElement("div",{className:(0,c.default)([i.default.leftPart,h({},i.default["is-admin"],2===n)])},t.map((function(e,t){if((null==e?void 0:e.length)<2)return null;var n=e.find((function(e){return!0===e.iscloud})),o=e.filter((function(e){return!e.iscloud}));return r.default.createElement(a.default,{key:t,cloud:n,apps:o})}))))})),D=(0,r.memo)((function(e){var t,n,a,o=e.cloud,u=e.id,l=e.dragInfo,d=e.dispatchDragInfo,p=e.handleAjustCloud,s=(e.handleMoveUp,e.handleMoveDown,e.handleMoveTop),m=(0,r.useContext)(A),v=m.localLanguage,g=m.defaultLang,y=(null==o||null===(t=o.name)||void 0===t?void 0:t[v])||(null==o||null===(n=o.name)||void 0===n?void 0:n[g])||(null==o||null===(a=o.name)||void 0===a?void 0:a.zh_CN)||"",b=Object.keys(l).length;return r.default.createElement("div",{key:u,className:(0,c.default)([i.default.cloudWrapper,{"hover-theme-light-bg1":!b,"hover-theme-border-color1":!b}]),draggable:!0,onDragStart:function(e){e.stopPropagation(),e.target.style.opacity=.1,d({type:"drag",payload:{dragElement:u}})},onDragEnd:function(e){d({type:"clear"}),e.target.style.opacity=1},onDragOver:function(e){e.dataTransfer.dropEffect="move";var t=l.dragElement;u!==t&&p(t,u)}},r.default.createElement("div",{className:i.default["cloud-left"]},r.default.createElement("i",{className:"kdfont kdfont-tuozhuai kd-hover-color",title:(0,f.getLangMsg)({key:"myapp.key009"})}),y),r.default.createElement("div",{className:i.default["cloud-right"]},r.default.createElement("i",{className:"kdfont kdfont-zhiding kd-hover-color",title:(0,f.getLangMsg)({key:"myapp.key010"}),onClick:function(){return s(u)}})))})),P=(0,r.memo)((function(e){var t=e.visible,n=e.items,a=e.onClose,c=(0,r.useContext)(A),d=c.dispatch,p=c.pageId,s=n.map((function(e){return e.find((function(e){return!0===e.iscloud}))})),m=y((0,r.useState)(s),2),b=m[0],E=m[1],I=y((0,r.useReducer)(S,{}),2),_=I[0],h=I[1],k={isShowClose:!0,isShowTitle:!0,title:(0,f.getLangMsg)({key:"myapp.key007"}),onClose:a,width:680,height:624,isFS:!1,isFullScreenOpened:!1};(0,r.useEffect)((function(){t&&E(s)}),[t]);var O=function(e){e.preventDefault()},C=(0,r.useCallback)((function(e,t,n){return e[t]=e.splice(n,1,e[t])[0],e}),[]),P=(0,r.useCallback)((function(e){var t=g(b),n=b.findIndex((function(t){return t.id===e}));0!==n&&(t=C(t,n,n-1),E(t))}),[b,E,C]),M=(0,r.useCallback)((function(e){var t=g(b),n=b.findIndex((function(t){return t.id===e}));n<t.length-1&&(t=C(t,n,n+1),E(t))}),[b,E,C]),N=(0,r.useCallback)((function(e){var t=g(b),n=b.findIndex((function(t){return t.id===e}));0!==n&&(t.unshift(t.splice(n,1)[0]),E(t))}),[b,E]),w=(0,r.useCallback)((function(e,t){var n=[],r=b,a=r.findIndex((function(t){return t.id===e})),o=r.findIndex((function(e){return e.id===t}));n=a>o?[].concat(g(r.slice(0,o)),[r[a]],g(r.slice(o,a)),g(r.slice(a+1))):[].concat(g(r.slice(0,a)),g(r.slice(a+1,o+1)),[r[a]],g(r.slice(o+1))),JSON.stringify(n)!==JSON.stringify(r)&&E(n)}),[b,E]);return t?r.default.createElement(o.default,v({},k,{width:"680px",height:"624px"}),r.default.createElement("div",{className:i.default.editCloudDialog},r.default.createElement("div",{className:i.default.dialogContent,onDragOver:O,onDragEnter:O},b.map((function(e){var t=e.id;return r.default.createElement(D,{key:t,id:t,cloud:e,dragInfo:_,dispatchDragInfo:h,handleAjustCloud:w,handleMoveUp:P,handleMoveDown:M,handleMoveTop:N})}))),r.default.createElement("div",{className:i.default.dialogFooter},r.default.createElement(u.Button,{onClick:a,type:"ghost",style:{marginRight:"12px"}},(0,f.getLangMsg)({key:"Tooltip.key0002"})),r.default.createElement(u.Button,{onClick:function(){d((0,l.sortCloud)(p,b)),a()},type:"primary"},(0,f.getLangMsg)({key:"Tooltip.key0001"}))))):null}));t.default=function(e){var t=e.dispatch,n=e.model,a=y((0,r.useState)(0),2),o=a[0],u=a[1],f=y((0,r.useState)(!1),1)[0],p=y((0,r.useState)(!1),2),s=p[0],m=p[1],v=n.pageId,g=n.state,b=(0,d.getFormConfig)(v)(g).fileserver,E=n.getUserLocale(),I=n.getDefaultLang(),_=(0,d.getAppStore)(v,"is_manager")(g)[0],h=(0,d.getAppStore)(v,"app_store_list")(g);(0,r.useEffect)((function(){t((0,l.asyncAppStoreList)(v)),t((0,l.isadminuser)(v))}),[]);var S=(0,r.useCallback)((function(){m(!0)}),[m]);return r.default.createElement(A.Provider,{value:{pageId:v,model:n,fileConfig:b,localLanguage:E,defaultLang:I,dispatch:t,appState:g,edit:o,isDefault:f}},r.default.createElement("div",{className:(0,c.default)("kd-cq-application-center",i.default.appCenter),onDragOver:function(e){e.preventDefault()}},r.default.createElement(k,{isAdmin:_,setEdit:u,openDialog:S}),r.default.createElement(C,{items:h}),r.default.createElement(O,{setEdit:u}),r.default.createElement(P,{visible:s,items:h,onClose:function(){m(!1)}})))}},218327:function(e,t,n){"use strict";n(233696),n(743924),n(387912),n(997308),n(977864);var r=n(839012);r.keys().forEach((function(e){r(e)}))},986032:function(e,t,n){"use strict";n(697060),n(505684),n(743924),n(693917),n(976896),n(606200),n(387912),n(633768),n(690512),n(78504),n(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.RIGHTPARTINFO=t.REFRESHAPPSTORELIST=t.ISMANAGER=t.CHANGEAPPS=t.APPSTORELIST=t.APPINDIVIDUALIZATIONSTORELIST=t.AFTEREDITCLOUDOPERATION=t.AFTEREDITAPPOPERATION=void 0,n(182320),n(909112),n(323784),n(927184),n(721300),n(86744);var r=n(840636),a=n(218652),o=n(49480),u=n(576900);function l(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c=t.APPSTORELIST="APPSTORELIST",d=t.APPINDIVIDUALIZATIONSTORELIST="APPINDIVIDUALIZATIONSTORELIST",f=t.REFRESHAPPSTORELIST="REFRESHAPPSTORELIST",p=t.AFTEREDITAPPOPERATION="AFTEREDITAPPOPERATION",s=t.AFTEREDITCLOUDOPERATION="AFTEREDITCLOUDOPERATION",m=t.ISMANAGER="ISMANAGER",v=t.RIGHTPARTINFO="RIGHTPARTINFO",g=t.CHANGEAPPS="CHANGEAPPS",y=!1;(0,r.regReducer)(v,(function(e,t){return(0,a.setAppStore)(t.pageId,"async_appRight",t.data)(e)})),(0,r.regReducer)(m,(function(e,t){return(0,a.setAppStore)(t.pageId,"is_manager",t.data)(e)})),(0,r.regReducer)(c,(function(e,t){return!y&&window.setTimeout((function(){y=!0;var e=0,n=t.data,r=t.pageId,a=n;if(Array.isArray(a))for(var l=a.length,i=0;i<l;i++)e+=a[i].length-1;(0,u.sendCtrlPropsEventTracking)({pageId:r,controlId:"bizcustomlistap",controlType:"bizcustomlist",controlProp:o.trackingExtendCtrlProps.MY_APP_NUMBER,controlValue:e})})),(0,a.setAppStore)(t.pageId,"app_store_list",t.data)(e)})),(0,r.regReducer)(d,(function(e,t){return(0,a.setAppStore)(t.pageId,"exist_presonalapp",t.data)(e)})),(0,r.regReducer)(f,(function(e,t){for(var n=l((0,a.getAppStore)(t.pageId,"app_store_list")(e)),r=0;r<n.length;r++)for(var o=n[r],u=0;u<o.length;u++){var i=o[u];if(!0!==i.iscloud&&i.id===t.appId){n[r].splice(u,1),1===o.length&&n.splice(r,1);break}}return(0,a.setAppStore)(t.pageId,"app_store_list",n)(e)})),(0,r.regReducer)(s,(function(e,t){for(var n=(0,a.getAppStore)(t.pageId,"app_store_list")(e),r=0;r<n.length;r++)for(var o=n[r],u=0;u<o.length;u++){var l=o[u];if(1==l.iscloud){var i=t.data[0].bizcloudid,c=t.data[0].bizcloudname;l.id==i&&(l.name=c);break}}return(0,a.setAppStore)(t.pageId,"app_store_list",n)(e)})),(0,r.regReducer)(p,(function(e,t){for(var n=(0,a.getAppStore)(t.pageId,"app_store_list")(e),r=0;r<n.length;r++)for(var o=n[r],u=0;u<o.length;u++){var l=o[u];if(1!=l.iscloud){var i=t.data[0].bizappid,c=t.data[0].appname,d=t.data[0].description;if(l.id==i){l.name=c,l.description=d;break}}}return(0,a.setAppStore)(t.pageId,"app_store_list",n)(e)})),(0,r.regReducer)(g,(function(e,t){return(0,a.setAppStore)(t.pageId,"changeapps",t.data)(e)}))},381560:function(e,t,n){"use strict";n(606200),Object.defineProperty(t,"__esModule",{value:!0}),t.SCRIPT_DEBUG_LOG=t.SCRIPTSAMPLE=void 0;var r=n(840636),a=n(218652),o=n(660364),u=t.SCRIPTSAMPLE="SCRIPTSAMPLE",l=t.SCRIPT_DEBUG_LOG="SCRIPT_DEBUG_LOG";(0,r.regReducer)(u,(function(e,t){var n=t.data[0];if(null!=n&&n.scriptcontent){var r=n.scriptcontent;n.scriptcontent=(0,o.decodeScript)(r)}return e=(0,a.setDevportalData)(t.pageId,"scriptsample",n)(e)})),(0,r.regReducer)(l,(function(e,t){return(0,a.setDevportalData)(t.pageId,"scriptdebuglog",t.data)(e)}))},781436:function(e,t,n){"use strict";n(606200),Object.defineProperty(t,"__esModule",{value:!0}),t.REFRESHSEARCHLIST=void 0;var r=n(840636),a=n(218652),o=t.REFRESHSEARCHLIST="REFRESHSEARCHLIST";(0,r.regReducer)(o,(function(e,t){return e=(0,a.setDevportalData)(t.pageId,"searchAppItems",t.data[0].appitems)(e),e=(0,a.setDevportalData)(t.pageId,"searchPageItems",t.data[0].pageitems)(e),e=(0,a.setDevportalData)(t.pageId,"searchScriptItems",t.data[0].scriptitems)(e),e=(0,a.setDevportalData)(t.pageId,"searchCardItems",t.data[0].carditems)(e),e=(0,a.setDevportalData)(t.pageId,"searchAppItemsNum",t.data[0].appitems.length)(e),e=(0,a.setDevportalData)(t.pageId,"searchPageItemsNum",t.data[0].pageitems.length)(e),e=(0,a.setDevportalData)(t.pageId,"searchScriptItemsNum",t.data[0].scriptitems.length)(e),e=(0,a.setDevportalData)(t.pageId,"searchCardItemsNum",t.data[0].carditems.length)(e),(0,a.setDevportalData)(t.pageId,"searchValue",t.data[0].value)(e)}))},432764:function(e,t,n){"use strict";n(606200),Object.defineProperty(t,"__esModule",{value:!0}),t.DELETE_MYPAGEITEM=t.DELETE_MYAPPITEM=t.ASYNC_MYPAGELIST=t.ASYNC_MYAPPLIST=void 0;var r=n(840636),a=n(218652),o=t.ASYNC_MYAPPLIST="myAppItems",u=t.DELETE_MYAPPITEM="DELETE_MYAPPITEM",l=t.ASYNC_MYPAGELIST="myPageItems",i=t.DELETE_MYPAGEITEM="DELETE_MYPAGEITEM";(0,r.regReducer)(u,(function(e,t){return(0,a.setDevportalData)(t.pageId,"myAppItems",t.data[0].myAppItems)(e)})),(0,r.regReducer)(o,(function(e,t){return(0,a.setDevportalData)(t.pageId,"myAppItems",t.data)(e)})),(0,r.regReducer)(i,(function(e,t){return(0,a.setDevportalData)(t.pageId,"myPageItems",t.data[0].myPageItems)(e)})),(0,r.regReducer)(l,(function(e,t){return(0,a.setDevportalData)(t.pageId,"myPageItems",t.data)(e)}))},839012:function(e,t,n){var r={"./bizAppListReducer.js":38072,"./bizPageListReducer.js":581208,"./kdeReducer.js":55568,"./myAppReducer.js":986032,"./scriptSampleReducer.js":381560,"./searchListReducer.js":781436,"./shortCutListReducer.js":432764};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=839012},77240:function(e,t,n){e.exports=n(251656)(8375)}}]);