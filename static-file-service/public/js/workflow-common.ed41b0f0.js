(self["webpackJsonp_bos-platform"]=self["webpackJsonp_bos-platform"]||[]).push([[8560],{31559:function(t,e,i){"use strict";i.r(e),e.default={signature:"bvjEaNzL"}},748816:function(t,e,i){"use strict";i.r(e),e.default={"approval-history-record":"ZDR3NOTq","record-header":"KRdVH5mr","record-title":"_2SqR5pBU",backToParentProcess:"_1weRSCYM","icon-retract":"_2muqN7UR","latest-record":"_1XgcYzAJ","no-record":"vQ1lR03G",records:"_2vsvBxh-","record-item":"NE9DucIY",avatar:"_5Xzri8zo",info:"PIjWUZml",assignee:"_3oXrq2ru",time:"eELRSyxj",result:"_3KYmfFyR","icon-comment":"_2Q3VTuia","comment-content":"_2nClQYMA",msg:"_1Nev_DT2","comment-callActivity":"_24t8AM_c",procAttach:"_4siuN1uY",attachment:"_2sOv_-cx","attach-icon":"_24WkR3eV",filename:"_3NTjw6zB",filesize:"_4guJOqWT",operate:"Hn3hp-0Y",fileyulan:"_1nzlK3Z9",filexiazai:"_1UKWBMlE","auditpoints-title":"_2qf-_jWH","link-control":"_372SxbAr","record-auditpoints":"Has4kAWZ",auditPointsItem:"_3hvIvbTm",statusImage:"_13ktRGY7",displayName:"ErLGPm8r",failedReason:"_3YrlDUdh","btn-panel":"_3FBWJ1se","historic-coordinate":"_193Sz0qX",title:"_1VFNHG2t",detail:"Fzekyili",headline:"eT4f8VVp",coordinateRecord:"LliLiIXN",left:"IR-t8kbK",right:"eTiRa9El",coordinateName:"_8jPNEAYs",message:"_29NHWzMd",fujian:"_2onu0QXd","historic-record":"_293NezE_"}},255180:function(t,e,i){"use strict";i.r(e),e.default={containerStyle:"_384ruraY",containerStyleNoLine:"_3i5hp7vs",withoutApprovalRecord:"_6dgyhgyz",description:"_2C2tSoZ6",backToParentProcess:"_2kOxLbPt",rowStyle:"_1-QIIBtc",timeLine:"_3a_dx7mY",circle:"kEVibPQq",content:"_2QHPFSVv",contentMobile:"_2Bjs6KK8",userImg:"_7KLH9Xd3",textWrap:"bSojjO4N",option:"_3aIXYPkW",textContent:"_2OdtEZ6g",textContenth:"_3Mr1b-fD",textContenthMobile:"_3zo74s3C",talkImg:"_1BrqHx5e",talkImgPhone:"_2Kcm9_gX",time:"zPG-NFNf",procAttach:"JceAMRD5",attachment:"tGWSD2bD","attach-icon":"E1BN6-MH",filename:"_2W4FsrSy",filesize:"bqAwPdYC",operate:"_3I99SfJD",fileyulan:"_1upL97Hb",filexiazai:"_3ITbZw2o",attachmentForMob:"csENHr3W","option-callActivity":"JB6FkhW8",lastNode:"_1P6qpDgH",showTransferRecord:"GHYZwD2E",showCoordinateTransfer:"_1FwlS1Nc","coordinate-record":"_34UdZ1tK",coordinate:"atZNih7s",title:"bBQnittc",coordinateRecord:"_3eKuaGy0",left:"_3KfkFYs5",avatar:"_3BS4yCsB",right:"_2LnzDuak",coordinateName:"cbHNEHqh",message:"iAZyiO4a",fujian:"_2WsUorMD",groupChat:"_1Dc5KSE5",aGroup:"_18C0F5O2",aGroupMobile:"_1Si7xFSU",chatPosition:"_1b1R3b3r",groupChatMobile:"_20xEn19t","btn-panel":"_3KbUgfhQ",addSignMsg:"_3WznbW6w"}},886732:function(t,e,i){"use strict";i.r(e),e.default={containerStyle:"_1tGinGYT",containerStyleNoLine:"_2XRS-q6S",backToParentProcess:"_6sNrdWHg",rowStyle:"_2rUiTODV",timeLine:"_1Xvwr4zY",timeLineWait:"Tg5uEO5c",timeLineRefuse:"duV4QWT_",timeLineAgree:"_2WtGZAbu",circle:"_3sV1PxEN",firstCircle:"_3y6YUqAM",waiting:"_2ZRAppik",agree:"_2nn9vsa0",refuse:"_16ceoL7Y",content:"_2TAWYeuD",contentMobile:"_2lOKNjiH",userImg:"_19t6-gVw",textWrap:"_1-foea73",textWrap1:"_1i2ykC0I",unvisible:"_3oPkdq1L",textContent:"GkWvsijm",textContenth:"P7BrRVVA",textContenthMobile:"_2r_DRGNc",textContextState:"_3GT1LOfB",stateInfoClassWait:"_2omkThZl",stateInfoClassReject:"_2viG8LDm",stateInfoClassApprove:"MiHSLStq",textContextArrow:"_1hbPxeY5",assignee:"_1-Ju6gpN",callActivityName:"_2zy2PC5P",callActivityResult:"_2OujJisS",firstAssigneeClass:"_1Yxrj3dW",result:"_3sSwEGp7",procAttach:"QVKcrKDk",attachment:"_3K6GKXwO","attach-icon":"_7fv_UlFA",filename:"_171wbKLC",filesize:"_3O6HVnUH",stateInfoDismissedClass:"_1A6_t-GT",assigneeDismissedClass:"_3i3b5Bn9",firstResultInfoClass:"_2tWV0H5y",assigneeState:"_3Azz6LBH",assigneeStateAgree:"_3UO0gJQm",assigneeStateRefuse:"_1bbILMvj",assigneeStateTerminate:"_1HmTaE93",talkImg:"_1Mm_44ZE",talkImgPhone:"_2y70LlFk",time:"_3A-tVtWr",firstTimeClass:"_3jKoAjhj",option:"_2iMyIP0n",lastNode:"_2UyrwooH",groupChat:"_1H_3ULng",aGroup:"_2g4uN-jj",aGroupMobile:"_1odXhrTx",chatPosition:"MmNKzzyd",groupChatMobile:"_1abBSZjO",showTransferRecord:"DXrDU5wK","coordinate-record":"xrWVmdrV",coordinate:"_2Onjnt1B",arrow:"_2TecpNRy",arrowleft:"ji2N_YQg",arrowdown:"_2hohnCgh",coordinateRecord:"_20hffgpo",left:"_19nBV2kC",avatar:"_2vv33tOC",right:"_6s16G5Ac",coordinateName:"_2WJo0d9z",coordinating:"Cc77Gv_O",message:"oZulVx33",fujian:"zWitYhug","links-panel":"_2ZHaBwkW","panel-title":"KGzSUKHX",panel:"_1Ebf5N_C",text:"_3B9EhAIg",links:"_2ZxhmBB6",addSignMsg:"dEDFKzo1"}},463724:function(t,e,i){"use strict";i.r(e),e.default={box:"_1dcRO-aA",activatedCard:"_1hfuoOAO",commonHeader:"_3SVWm0te",header:"_1hL06ozj",lockHeader:"_230lXzeS",title:"_2Tbc84b5",subtitle:"_38uFM82u",link:"_3Z3aON6T",icon:"_16dDxlOf",commonContent:"_2yFFzl_J",content:"_3sm6NgyN",lockContent:"_1iLV7Pph",note:"_2KRwg9yU"}},778088:function(t,e,i){"use strict";i.r(e),e.default={billSummaryInfo:"_3eOOco24"}},603480:function(t,e,i){"use strict";i.r(e),e.default={geDiagramContainer:"_3RgDpUC4",geDiagramBackdrop:"D5EvlYmH",geBackgroundPage:"btyUJWxd",rubberband:"_26L6gQwv",activatedCell:"_3K6fGSdr"}},2492:function(t,e,i){"use strict";i.r(e),e.default={floatlayer:"_17YSZC4v"}},774770:function(t,e,i){"use strict";i.r(e),e.default={floatToolbar:"_1b3TXJYO",item:"_1A9EWG3N",icon:"_1CPVBBv_",download:"_1s3J4pPp",tip:"L_Ns4Pkx",text:"_6bEggtxz",triangle:"_3vkSU-37","zoom-out":"_1NRFujKN","zoom-in":"ZqwcOWkm",visible:"_1PZjfmd4",notvisible:"_33I2Ty93",floatButtons:"lV_cBc5d",button:"_3ZQ7yiRg",right:"_3HJ9tl5F",clickable:"_1xr6z5Xi"}},403031:function(t,e,i){"use strict";i.r(e),e.default={box:"_2DAyDcm0",activatedStyle:"_21wnPllC",activatedCard:"_21BUQqNk",left:"oBlBZ3fT",right:"TjK-CQD4",main:"_2j3rx1p5",lockedLeft:"tfoVSdDT",lockedRight:"_3VXHoms1",layer:"_1jvPpuDd",commonHeader:"_1a6j2liz",header:"_13u7n61P",lockHeader:"YX56ESBO",lockContent:"_17d8hNpn"}},954684:function(t,e,i){"use strict";i.r(e),e.default={box:"_12kPWzou",arrow:"_2imx6g0U",header:"_33LGFGWs",line:"_1zbA45Wj",complete:"_2DZk4GKo",underway:"FP3POmUX",title:"_1ARMkUag",ellipsis:"_1eW6GnXr",subtitle:"_2P3TtBht",tip:"RahEzgtd"}},130208:function(t,e,i){"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}i(182320),i(909112),i(697060),i(743924),i(606200),i(534440),i(387912),i(78504),i(776512),i(977864),Object.defineProperty(e,"__esModule",{value:!0}),e.SHOW_COORDINATE=e.SHOW_AUTOCOORDINATE=e.SHOW_APPROVALRECORD=void 0,e.backToParentProcess=function(t,e){var i=e.params,n=e.superprocInstid;return function(e,r){a.invokeControlService(t,"backToParentProcess",[i,n],(0,l.getPost)(t.pageId)(r()),e)}},e.clickCustomizeLink=function(t,e){return function(i,n){a.invokeControlService(t,"clickCustomizeLink",[e],(0,l.getPost)(t.pageId)(n()),i)}},e.showApprovalsPage=function(t,e){var i=e.approvers,n=e.signtype,r=e.groupdecisiontype,o=e.throughrule,s=e.isDDOrQYWX;return function(e,u){a.invokeControlService(t,"showApprovalsPage",[i,n,r,o,s],(0,l.getPost)(t.pageId)(u()),e)}},e.showAttachmentInfo=function(t,e){var i=e.attachmentid,n=e.downloadurl,r=e.attachmentids;return function(e,o){a.invokeControlService(t,"showAttachmentInfo",[i,n,r],(0,l.getPost)(t.pageId)(o()),e)}},e.showAutoCoordinateInfo=function(t,e){var i=e.groupid;return function(e,n){a.invokeControlService(t,"showAutoCoordinateInfo",[i],(0,l.getPost)(t.pageId)(n()),e)}},e.showChildProcessInfo=function(t,e){var i=e.params,n=e.procinstid,r=e.subcrosstenantinfo;return function(e,o){a.invokeControlService(t,"showChildProcessInfo",[i,n,r],(0,l.getPost)(t.pageId)(o()),e)}},e.showCoordinateInfo=function(t,e){var i=e.taskid,n=e.userid,r=e.autocoordinate;return function(e,o){a.invokeControlService(t,"showCoordinateInfo",[i,n,r],(0,l.getPost)(t.pageId)(o()),e)}},e.showPersonInfo=function(t,e){var i=e.userid;return function(e,n){a.invokeControlService(t,"showPersonInfo",[i],(0,l.getPost)(t.pageId)(n()),e)}},e.showTransferRecord=function(t,e){var i=e.taskid,n=e.userid,r=e.iscoordinate;return function(e,o){a.invokeControlService(t,"showTransferRecord",[i,n,r],(0,l.getPost)(t.pageId)(o()),e)}},e.showTransferRecordYZJ=function(t,e){var i=e.value,n=e.iscoordinate;return function(e,r){a.invokeControlService(t,"showTransferRecordYZJ",[i,n],(0,l.getPost)(t.pageId)(r()),e)}};var l=i(218652),a=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=n(t)&&"function"!=typeof t)return{default:t};var i=r(e);if(i&&i.has(t))return i.get(t);var l={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var s=a?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(l,o,s):l[o]=t[o]}return l.default=t,i&&i.set(t,l),l}(i(251536));function r(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,i=new WeakMap;return(r=function(t){return t?i:e})(t)}e.SHOW_APPROVALRECORD="SHOW_APPROVALRECORD",e.SHOW_COORDINATE="SHOW_COORDINATE",e.SHOW_AUTOCOORDINATE="SHOW_AUTOCOORDINATE"},84112:function(t,e,i){"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}i(182320),i(909112),i(697060),i(743924),i(606200),i(534440),i(78504),i(776512),i(977864),Object.defineProperty(e,"__esModule",{value:!0}),e.updateUiMetadata=e.showFloatLayer=e.setUpdateControl=e.setUiMetadata=e.setSelectControl=e.hideFloaterLayer=e.fetchUiMetadata=e.fetchExtUiMetadata=e.cleanActivatedCell=e.activateCell=void 0,i(9692),i(233696),i(387912),i(997308);var l=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=n(t)&&"function"!=typeof t)return{default:t};var i=o(e);if(i&&i.has(t))return i.get(t);var l={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if("default"!==r&&Object.prototype.hasOwnProperty.call(t,r)){var s=a?Object.getOwnPropertyDescriptor(t,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=t[r]}return l.default=t,i&&i.set(t,l),l}(i(525896)),a=i(132716),r=i(791624);function o(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,i=new WeakMap;return(o=function(t){return t?i:e})(t)}var s=e.setUiMetadata=function(t){return{type:a.set_ui_metadata,metadata:t}},u=e.updateUiMetadata=function(t){return{type:a.update_ui_metadata,metadata:t}},d=(e.fetchUiMetadata=function(t,e,i){return function(n){l.getUiMetadata(t).then((function(l){n(s(l)),"function"==typeof i&&i();var a=l.Categories;if(a)for(var o=a.length;o--;)if(a[o].Id===r.EXTENDED_CONTROL){var u=a[o].Name;if(u)u.split(";").forEach((function(t){n(d(t,null))}));break}var h="".concat(r.STORE_KEY_PREFIX,".").concat(t,".").concat(e);window.localStorage[h]=JSON.stringify(l)})).catch((function(t){console.error(t.message,t.stack)}))}},e.fetchExtUiMetadata=function(t,e){return function(e){l.getUiMetadata(t).then((function(t){e(u(t))})).catch((function(t){console.error(t.message,t.stack)}))}});e.setSelectControl=function(t){var e=t.id,i=t.group,n=t.ctrlType,l=t.collapsed,r=void 0!==l&&l;return{type:a.set_select_control,id:e,group:i,ctrlType:n,collapsed:r}},e.setUpdateControl=function(t){var e=t.id,i=t.propName,n=t.value;return{type:a.set_update_control,id:e,propName:i,value:n}},e.activateCell=function(t){var e=t.id,i=t.procInstId,n=t.billId,l=t.title,r=t.showRecords;return{type:a.activate_cell,id:e,procInstId:i,billId:n,title:l,showRecords:r}},e.showFloatLayer=function(t){var e=t.id,i=t.procInstId,n=t.billId,l=t.title,r=t.left,o=t.top,s=t.showFloatLayer,u=t.pageId;return{type:a.show_floatlayer,id:e,procInstId:i,billId:n,title:l,left:r,top:o,showFloatLayer:s,pageId:u}},e.hideFloaterLayer=function(t){var e=t.showFloatLayer;return{type:a.hide_floatlayer,showFloatLayer:e}},e.cleanActivatedCell=function(){return{type:a.clean_activated}}},517968:function(t,e,i){"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}i(182320),i(909112),i(697060),i(743924),i(606200),i(534440),i(387912),i(78504),i(776512),i(977864),Object.defineProperty(e,"__esModule",{value:!0}),e.property_editor_click=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return a.invokeControlService(t,e,i)},e.setPostData=function(t,e){return a.updateControl(t,e,!1)};(l=i(891052))&&l.__esModule;var l,a=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=n(t)&&"function"!=typeof t)return{default:t};var i=r(e);if(i&&i.has(t))return i.get(t);var l={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var s=a?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(l,o,s):l[o]=t[o]}return l.default=t,i&&i.set(t,l),l}(i(251536));function r(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,i=new WeakMap;return(r=function(t){return t?i:e})(t)}},447876:function(t,e,i){"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}i(697060),i(360776),i(743924),i(205960),i(846428),i(336368),i(708896),i(606200),i(534440),i(670864),i(836887),i(78504),i(776512),i(977864),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(182320),i(909112),i(9692),i(835164),i(927184),i(976896),i(297336),i(880920),i(387912),i(497448),i(633768),i(690512),i(513640),i(321164),i(86744);var l=E(i(795520)),a=m(i(540900)),r=m(i(748816)),o=i(891052),s=m(i(640392)),u=m(i(877532)),d=m(i(594716)),h=m(i(359852)),c=m(i(671252)),p=i(384904),f=i(331428),g=(m(i(937344)),i(218652),i(674260),i(868256),i(248672),i(439532),E(i(130208))),y=i(303528);function m(t){return t&&t.__esModule?t:{default:t}}function v(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,i=new WeakMap;return(v=function(t){return t?i:e})(t)}function E(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=n(t)&&"function"!=typeof t)return{default:t};var i=v(e);if(i&&i.has(t))return i.get(t);var l={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if("default"!==r&&Object.prototype.hasOwnProperty.call(t,r)){var o=a?Object.getOwnPropertyDescriptor(t,r):null;o&&(o.get||o.set)?Object.defineProperty(l,r,o):l[r]=t[r]}return l.default=t,i&&i.set(t,l),l}function b(){return b=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},b.apply(this,arguments)}function S(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,C(n.key),n)}}function A(t,e,i){return e&&w(t.prototype,e),i&&w(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function C(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var l=i.call(t,e||"default");if("object"!=n(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:String(e)}function T(t,e,i){return e=I(e),function(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return M(t)}(t,x()?Reflect.construct(e,i||[],I(t).constructor):e.apply(t,i))}function M(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(x=function(){return!!t})()}function I(t){return I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},I(t)}function L(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N(t,e)}function N(t,e){return N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},N(t,e)}var O=function(t){function e(t){var i;return S(this,e),(i=T(this,e,[t])).state={show:!1,showAuditPoint:!1,showHistoryState:(0,o.Map)({}),latestRecord:null,historyRecords:[]},i}return L(e,t),A(e,[{key:"componentWillReceiveProps",value:function(t){this.setState({show:!!t.showRecords})}},{key:"shouldComponentUpdate",value:function(t,e){return!((0,o.is)(this.state.show,e.show)&&(0,o.is)(this.state.showAuditPoint,e.showAuditPoint)&&(0,o.is)(this.state.showHistoryState,e.showHistoryState)&&(0,o.is)(this.props.approvalRecords,t.approvalRecords)&&(0,o.is)(this.props.activatedCell,t.activatedCell)&&(0,o.is)(this.props.coordinateRecords,t.coordinateRecords))}},{key:"render",value:function(){var t=this.state.show?"flex":"none",e="",i=this.props.activatedCell,n=null,a=null,o=!1;if(i&&i.size&&this.state.show){e=i.get("title");var s=i.get("id"),u=this.props.approvalRecords;o=!!this.state.showHistoryState.get(s),n=this.getApprovalRecords(u,s,e,!1),o&&(a=this.getApprovalRecords(u,s,e,!0))}else t="none";return l.default.createElement("div",{className:r.default["approval-history-record"],style:{display:t}},l.default.createElement("div",{className:r.default["record-header"]},l.default.createElement("div",{className:r.default["record-title"]},(0,f.getLangMsg)({key:"ApprovalHistoryRecord.jiedianxiangqing"})),l.default.createElement("img",{className:r.default["icon-retract"],src:y.ICON_RETRACT,alt:(0,f.getLangMsg)({key:"ApprovalHistoryRecord.shouqi"}),title:(0,f.getLangMsg)({key:"ApprovalHistoryRecord.shouqi"}),onClick:this.handleRetractClick.bind(this),onMouseOut:this.handleRetractHover.bind(this),onMouseOver:this.handleRetractHover.bind(this)}),l.default.createElement("div",{className:r.default.backToParentProcess,style:{display:this.props.initialData.superProcInstId?"":"none"},onClick:this.backToParentProcess.bind(this)},(0,f.getLangMsg)({key:"ApprovalHistoryRecord.fanhuifuliucheng"}))),l.default.createElement("div",{className:r.default.records},l.default.Children.toArray(n),l.default.createElement("div",{className:r.default["historic-record"]},(0,f.getLangMsg)({key:"ApprovalHistoryRecord.jiudejilu"}),l.default.createElement("span",{className:r.default["link-control"],onClick:this.switchShowRecords.bind(this)},o?(0,f.getLangMsg)({key:"ApprovalHistoryRecord.yincang"}):(0,f.getLangMsg)({key:"ApprovalHistoryRecord.zhankai"}))),l.default.createElement("div",{className:r.default["historic-records"],style:{display:o?"block":"none"}},a)))}},{key:"getApprovalRecords",value:function(t,e,i,n){var a=[],o=null,s=null;if(s="".concat(e,n?"-historyRecords":"-latestRecords"),t&&(o=t.get(s))){var u=o.datas;if(n||a.push(l.default.createElement("div",{className:r.default["latest-record"]},(0,f.getLangMsg)({key:"ApprovalHistoryRecord.zuixinjilu"}))),u&&u.length)for(var d=0;d<u.length;d++){var h=!1;n&&d+1<u.length&&u[d].groupId!=u[d+1].groupId&&(h=!0);var c=!1;u.length>1&&null==u[d].avatar&&(c=!0),a.push(l.default.createElement(D,b({title:i,key:"".concat(n?"history-":"","record-").concat(d),isFirstYZJNode:c,isGroup:h,transferName:o.transferName,coordinateName:o.coordinateName,historic:n,config:this.props.config,activatedCell:this.props.activatedCell,coordinateRecords:this.props.coordinateRecords},u[d])))}else a.push(l.default.createElement("div",{className:r.default["no-record"]},(0,f.getLangMsg)({key:"ApprovalHistoryRecord.norecords"})));if(!n)o.showCoordinate&&a.push(l.default.createElement(_,{key:"coordinate-recoredz",activatedCell:this.props.activatedCell,transferName:o.transferName,coordinateName:o.coordinateName,coordinateRecords:this.props.coordinateRecords}));if(o.showAutoCoordinate){var p=o.autoCoordinateGroupId;a.push(l.default.createElement(R,{key:"auto-coordinate-recoredz",groupId:p,transferName:o.transferName,coordinateName:o.coordinateName,coordinateRecords:this.props.coordinateRecords}))}if(!n){var g=o["datas-auditPointsTitle"]||(0,f.getLangMsg)({key:"ApprovalHistoryRecord.shenpiyaodian"}),y=o["datas-auditPoints"];y&&y.length&&(a.push(l.default.createElement("div",{className:r.default["auditpoints-title"]},g,l.default.createElement("span",{className:r.default["link-control"],onClick:this.switchShowAuditPointRecords.bind(this)},this.state.showAuditPoint?(0,f.getLangMsg)({key:"ApprovalHistoryRecord.yincang"}):(0,f.getLangMsg)({key:"ApprovalHistoryRecord.zhankai"})))),a.push(l.default.createElement("div",{style:{display:this.state.showAuditPoint?"block":"none"}},this.addAuditPointItem(y,i))))}return a}this.loadApprovalRecords(n)}},{key:"addAuditPointItem",value:function(t,e){for(var i=[],n=0;n<t.length;n++)i.push(l.default.createElement(H,b({title:e,key:"latest-".concat("record-",n)},t[n])));return i}},{key:"loadApprovalRecords",value:function(t){var e=this.props.activatedCell;this.context.invokeAction(this.context.model,"loadApprovalRecords",[e.get("id"),e.get("procInstId"),e.get("billId"),t])}},{key:"handleRetractHover",value:function(t){t.target.src="mouseover"===t.type?y.ICON_RETRACT_HOVER:y.ICON_RETRACT}},{key:"handleRetractClick",value:function(t){var e=this;this.setState({show:!this.state.show}),setTimeout((function(){e.props.refreshEditor(!0,!1)}),0)}},{key:"switchShowRecords",value:function(t){var e=this.props.activatedCell;e&&this.setState({showHistoryState:this.state.showHistoryState.update(e.get("id"),!1,(function(t){return!t}))})}},{key:"switchShowAuditPointRecords",value:function(t){this.setState({showAuditPoint:!this.state.showAuditPoint})}},{key:"backToParentProcess",value:function(t){this.context.invokeAction(this.context.model,"backToParentProcess",[this.props.initialData.superProcInstId,this.props.config.formId])}}]),e}(l.Component);O.contextTypes={invokeAction:a.default.func,model:a.default.object};var D=function(t){function e(t){var i;return S(this,e),(i=T(this,e,[t])).state={showCoordinate:!1},i.signature=void 0,i.subCrossTenantInfo=void 0,i}return L(e,t),A(e,[{key:"render",value:function(){var t=this,e=this.context.model.getFormConfig(),i=this.props.avatar?this.props.avatar:"-1"==this.props.userStr?d.default:u.default;this.props.callActivity&&(i=h.default),this.props.isFirstYZJNode&&(i=s.default);var n=(0,p.getImageUrl)(i,e),a="".concat(this.props.activityName||""," ").concat(this.props.assignee||""),o=this.props.message,g=(0,p.sanitize)(this.props.result),m=null,v=this.context.model.getDataProperty("isPC");if(o){var E=(0,p.createSignatureApprovalRecord)(!1,v,this.props.signature),S=[];if(this.props.callActivity)o=(0,p.sanitize)(o),S.push(l.default.createElement("div",{className:(0,c.default)(r.default["comment-content"],r.default["comment-callActivity"]),onClick:this.showChildProcessInfo.bind(this),dangerouslySetInnerHTML:{__html:o}}));else{var w=o.split("<br/>");if(w.length>1)for(var A=0;A<w.length;A++){var C=(0,p.sanitize)(w[A]);S.push(l.default.createElement("div",{title:C,className:r.default.msg,dangerouslySetInnerHTML:{__html:C}}))}else o=(0,p.sanitize)(o),S.push(l.default.createElement("div",{title:o,className:r.default.msg,dangerouslySetInnerHTML:{__html:o}}))}1===S.length?S.push(E):S.length>1&&S.splice(S.length-1,0,E),m=l.default.createElement("div",{className:r.default["comment-content"]},S)}var T="0px";this.props.isGroup&&(T="10px");var M=this.props.attachments&&this.props.attachments.length>0?"block":"none",x=1==this.state.showCoordinate?(0,f.getLangMsg)({key:"ApprovalHistoryRecord.shouqixieban"}).replace(/\%s/,this.props.coordinateName):this.props.coordinateName;return l.default.createElement("div",{style:{marginBottom:T}},l.default.createElement("div",{className:r.default["record-item"]},l.default.createElement("div",{className:r.default.avatar},l.default.createElement("img",{width:"38px",height:"38px",style:{borderRadius:"50%"},alt:(0,f.getLangMsg)({key:"ApprovalHistoryRecord.yonghutouxiang"}),src:n})),l.default.createElement("div",{className:r.default.info},l.default.createElement("div",{title:a,className:r.default.assignee},a),l.default.createElement("div",{className:r.default.time},this.props.time),l.default.createElement("span",{className:r.default.result,title:g,dangerouslySetInnerHTML:{__html:g}}),l.default.createElement("img",{className:r.default["icon-comment"],style:{display:this.props.openId?"block":"none"},onClick:this.handleCommentClick.bind(this),src:y.ICON_COMMENT,onMouseOut:this.handleCommentHover.bind(this),onMouseOver:this.handleCommentHover.bind(this)}),m,l.default.createElement("div",{className:r.default.procAttach,style:{display:M}},this.props.attachments&&this.props.attachments.length>0?this.props.attachments.map((function(e,i){return l.default.createElement(k,b({},e,{dispatch:t.context.dispatch,model:t.context.model,attachmentIds:t.props.state,key:i}))})):""))),l.default.createElement("div",{className:r.default["btn-panel"]},this.props.userStr?(0,p.createCustomizedLinks)(this.props,(function(e,i){t.handleCustomLinkClick(t.context,i)})):"",this.props.coordinate?l.default.createElement("span",{onClick:this.switchCoordinate.bind(this)},x):"",this.props.showTransferRecord?l.default.createElement("span",{onClick:this.showTransferRecord.bind(this)},(0,f.getLangMsg)({key:"ApprovalHistoryRecord.zhuangjiaolishi"}).replace(/\%s/,this.props.transferName)):""),this.props.coordinate?l.default.createElement(_,{key:"coordinate-recoreds",showCoordinate:this.state.showCoordinate,transferName:this.props.transferName,coordinateName:this.props.coordinateName,userId:this.props.userId,taskId:this.props.taskId,coordinateRecords:this.props.coordinateRecords}):"")}},{key:"handleCustomLinkClick",value:function(t,e){t.invokeAction(t.model,"clickCustomizeLink",[e])}},{key:"handleCommentHover",value:function(t){this.props.openId&&(t.target.src="mouseover"===t.type?y.ICON_COMMENT_HOVER:y.ICON_COMMENT)}},{key:"handleCommentClick",value:function(t){this.props.openId&&this.context.invokeAction(this.context.model,"openYzjChat",[[this.props.openId],this.props.assignee])}},{key:"showTransferRecord",value:function(t){this.context.invokeAction(this.context.model,"showTransferRecord",[this.props.taskId,this.props.userStr,!1])}},{key:"switchCoordinate",value:function(t){this.setState({showCoordinate:!this.state.showCoordinate})}},{key:"showChildProcessInfo",value:function(t){this.context.invokeAction(this.context.model,"showChildProcessInfo",[this.props.procInstId,this.props.config.formId,this.props.subCrossTenantInfo])}}]),e}(l.Component);D.contextTypes={dispatch:a.default.func,invokeAction:a.default.func,model:a.default.object};var R=function(t){function e(t){var i;return S(this,e),(i=T(this,e,[t])).state={autoShowCoordinate:!1},i}return L(e,t),A(e,[{key:"render",value:function(){var t=this,e=1==this.state.autoShowCoordinate?"block":"none",i=this.showAutoCoordinateInfo(this.context.model,this.props.groupId),n=1==this.state.autoShowCoordinate?(0,f.getLangMsg)({key:"ApprovalHistoryRecord.shouqizidongxieban"}).replace(/\%s/,this.props.coordinateName):(0,f.getLangMsg)({key:"ApprovalHistoryRecord.zidongxieban"}).replace(/\%s/,this.props.coordinateName);return l.default.createElement("div",{className:r.default["historic-coordinate"]},l.default.createElement("div",{className:r.default.title,onClick:this.switchAutoCoordinate.bind(this)},n),i&&i.length>0?l.default.createElement("div",{className:r.default.detail,style:{display:e}},l.default.createElement("div",{className:r.default.headline},i.length,(0,f.getLangMsg)({key:"ApprovalHistoryRecord.tiaozidongxiebanjianyi"}).replace(/\%s/,this.props.coordinateName)),i.map((function(e,i){return l.default.createElement(P,b({},e,{transferName:t.props.transferName,coordinateName:t.props.coordinateName,key:i}))}))):"")}},{key:"showAutoCoordinateInfo",value:function(t,e){if(null==this.props.coordinateRecords)return this.context.invokeAction(this.context.model,"showAutoCoordinateInfo",[e]),[];var i=this.props.coordinateRecords["autoCoordinate_"+e];return null==i?(this.context.invokeAction(this.context.model,"showAutoCoordinateInfo",[e]),[]):i}},{key:"switchAutoCoordinate",value:function(t){this.setState({autoShowCoordinate:!this.state.autoShowCoordinate})}}]),e}(l.Component);R.contextTypes={invokeAction:a.default.func,model:a.default.object};var _=function(t){function e(t){return S(this,e),T(this,e,[t])}return L(e,t),A(e,[{key:"render",value:function(){var t=this,e=1==this.props.showCoordinate?"block":"none",i=[];return i=null==this.props.activatedCell?this.getCoordinateRecoreds(this.context.model,this.props.taskId,this.props.userId):this.getCoordinateRecoredsByProcInstIsd(this.context.model,this.props.activatedCell),l.default.createElement("div",{className:r.default["historic-coordinate"]},i&&i.length>0?l.default.createElement("div",{className:r.default.detail,style:{display:e}},l.default.createElement("div",{className:r.default.headline},i.length,(0,f.getLangMsg)({key:"ApprovalHistoryRecord.tiaoxiebanjianyi"}).replace(/\%s/,this.props.coordinateName)),i.map((function(e,i){return l.default.createElement(P,b({},e,{transferName:t.props.transferName,coordinateName:t.props.coordinateName,key:i}))}))):"")}},{key:"getCoordinateRecoredsByProcInstIsd",value:function(t,e){var i=e.get("id"),n=e.get("procInstId");if(null==this.props.coordinateRecords)return this.context.invokeAction(this.context.model,"showCoordinateInfoByProcInstIsd",[n,i]),[];var l=this.props.coordinateRecords["coordinate_"+n+"_"+i];return null==l?(this.context.invokeAction(this.context.model,"showCoordinateInfoByProcInstIsd",[n,i]),[]):l}},{key:"getCoordinateRecoreds",value:function(t,e,i,n){if(null==this.props.coordinateRecords)return this.context.invokeAction(this.context.model,"showCoordinateInfo",[this.props.taskId,this.props.userId+""]),[];var l=this.props.coordinateRecords["coordinate_"+e+"_"+i];return null==l?(this.context.invokeAction(this.context.model,"showCoordinateInfo",[this.props.taskId,this.props.userId+""]),[]):l}}]),e}(l.Component);_.contextTypes={invokeAction:a.default.func,model:a.default.object};var P=function(t){function e(t){return S(this,e),T(this,e,[t])}return L(e,t),A(e,[{key:"render",value:function(){var t=this,e=this.props.assignee||"";""!=this.props.time&&null!=this.props.time||(e=this.props.assignee.split(" ")[1].trim());var i=""==this.props.time||null==this.props.time?"block":"none",n=this.props.attachments&&this.props.attachments.length>0?"block":"none",a=this.context.model.getFormConfig(),o=(0,p.getImageUrl)(this.props.avatar,a),s=this.context.model.getDataProperty("isPC");return l.default.createElement("div",{className:r.default.coordinateRecord},l.default.createElement("div",{style:{display:"flex"}},l.default.createElement("div",{className:r.default.left},l.default.createElement("img",{className:r.default.avatar,alt:(0,f.getLangMsg)({key:"ApprovalHistoryRecord.yonghutouxiang"}),src:""==o||null==o?u.default:o})),l.default.createElement("div",{className:r.default.right},l.default.createElement("div",null,l.default.createElement("div",{className:r.default.coordinateName},l.default.createElement("span",null,this.props.ownerName),l.default.createElement("span",null,(0,f.getLangMsg)({key:"ApprovalHistoryRecord.yaoqingkongge"})),l.default.createElement("span",null,e),l.default.createElement("span",null,(0,f.getLangMsg)({key:"ApprovalHistoryRecord.xiebankongge"}).replace(/\%s/,this.props.coordinateName)),l.default.createElement("span",{className:r.default.coordinating,style:{display:i}},(0,f.getLangMsg)({key:"ApprovalHistoryRecord.zhengzaixieban"}).replace(/\%s/,this.props.coordinateName))),l.default.createElement("span",{className:r.default.time},this.props.time)),l.default.createElement("div",{className:r.default.message},(0,p.crateCoordinateInviteOpinions)(this.props)),(0,p.createSignatureApprovalRecord)(!1,s,this.props.signature))),l.default.createElement("div",{className:r.default["btn-panel"]},this.props.showTransferRecord?l.default.createElement("span",{onClick:this.showTransferRecord.bind(this)},(0,f.getLangMsg)({key:"ApprovalHistoryRecord.zhuangjiaolishi"}).replace(/\%s/,this.props.transferName)):""),l.default.createElement("div",{className:r.default.fujian,style:{display:n}},this.props.attachments&&this.props.attachments.length>0?this.props.attachments.map((function(e,i){return l.default.createElement(k,b({},e,{dispatch:t.context.dispatch,model:t.context.model,attachmentIds:t.props.state,key:i}))})):""))}},{key:"showTransferRecord",value:function(t){this.context.invokeAction(this.context.model,"showTransferRecord",[this.props.taskId,this.props.userStr,!0])}}]),e}(l.Component);P.contextTypes={dispatch:a.default.func,invokeAction:a.default.func,model:a.default.object};var k=function(t){function e(t){var i;return S(this,e),(i=T(this,e,[t])).getFileSize=function(t){return t>1048576?(Math.round(100*t/1048576)/100).toString()+"MB":(Math.round(100*t/1024)/100).toString()+"KB"},i.state={visiable:!1},i.handleMouseover=i.handleMouseover.bind(M(i)),i.handleMouseleave=i.handleMouseleave.bind(M(i)),i}return L(e,t),A(e,[{key:"handleMouseover",value:function(){this.setState({visiable:!0})}},{key:"handleMouseleave",value:function(){this.setState({visiable:!1})}},{key:"render",value:function(){this.props.assignee&&this.props.assignee.split("|")[0].trim();var t="("+this.getFileSize(this.props.fileSize)+")";return l.default.createElement("div",{className:r.default.attachment,onMouseOver:this.handleMouseover,onMouseLeave:this.handleMouseleave},l.default.createElement("span",{className:(0,c.default)(r.default["attach-icon"],"kdfont kdfont-fujian")}),l.default.createElement("span",{className:r.default.filename,title:this.props.fileName,onClick:this.previewAttachment.bind(this)},this.props.fileName),l.default.createElement("span",{className:r.default.filesize},t),l.default.createElement("span",{className:r.default.operate,style:{display:this.state.visiable?"flex":"none"}},l.default.createElement("span",{className:r.default.fileyulan,onClick:this.previewAttachment.bind(this)},(0,f.getLangMsg)({key:"KDApprovalRecord.yulan"})),l.default.createElement("span",{className:r.default.filexiazai,onClick:this.downloadAttachment.bind(this)},(0,f.getLangMsg)({key:"KDApprovalRecord.xiazai"}))))}},{key:"downloadAttachment",value:function(){window.open(this.props.downloadUrl)}},{key:"previewAttachment",value:function(){this.props.previewUrl?this.props.dispatch((0,g.showAttachmentInfo)(this.props.model,{attachmentid:this.props.id,downloadurl:this.props.downloadUrl,attachmentids:this.props.attachmentIds})):window.open(this.props.downloadUrl)}}]),e}(l.Component),H=function(t){function e(){return S(this,e),T(this,e,arguments)}return L(e,t),A(e,[{key:"render",value:function(){var t=this.props.checkResult,e=null,i=null;t&&"approve"==t?(i="icons/pc/state/success_28_28.png",e=(0,f.getLangMsg)({key:"ApprovalHistoryRecord.tongguo"})):t&&"failed"==t?(i="icons/pc/other/deleteicon_hover.png",e=(0,f.getLangMsg)({key:"ApprovalHistoryRecord.butongguo"})):t&&"unconfirmed"==t?(i="icons/pc/state/queren_48_48.png",e=(0,f.getLangMsg)({key:"ApprovalHistoryRecord.daiqueren"})):i="icons/pc/state/remind_28_28.png";var n=this.props.displayName,a=this.props.failedReason,o=this.props.description;return n=n?this.props.displayName:o,l.default.createElement("div",{className:r.default["record-auditpoints"]},l.default.createElement("div",{className:r.default.auditPointsItem},l.default.createElement("img",{className:r.default.statusImage,style:{borderRadius:"10%"},src:i}),l.default.createElement("div",{className:r.default.displayName,title:n},n),l.default.createElement("div",{className:r.default.result},e)),l.default.createElement("div",{className:r.default.failedReason},l.default.createElement("div",null,a)))}}]),e}(l.Component);H.contextTypes={invokeAction:a.default.func,model:a.default.object};e.default=O},978352:function(t,e,i){"use strict";i(697060),i(360776),i(505684),i(743924),i(693917),i(205960),i(721300),i(846428),i(336368),i(708896),i(606200),i(534440),i(670864),i(836887),i(78504),i(776512),i(977864),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(182320),i(909112),i(9692),i(233696),i(241872),i(323784),i(686456),i(835164),i(976896),i(297336),i(76124),i(880920),i(387912),i(497448),i(633768),i(690512),i(513640),i(321164),i(997308);var n=x(i(795520)),l=(T(i(540900)),T(i(671252))),a=T(i(255180)),r=x(i(130208)),o=i(218652),s=i(251536),u=T(i(249032)),d=T(i(8692)),h=T(i(594716)),c=(T(i(101319)),T(i(359852))),p=T(i(714997)),f=T(i(523840)),g=T(i(985684)),y=T(i(640392)),m=T(i(877532)),v=(T(i(283440)),T(i(41340)),i(384904)),E=T(i(257528)),b=i(891052),S=(i(704424),T(i(996283))),w=T(i(736e3)),A=i(331428),C=(T(i(937344)),T(i(404508)));i(674260),i(868256),i(248672),i(439532);function T(t){return t&&t.__esModule?t:{default:t}}function M(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,i=new WeakMap;return(M=function(t){return t?i:e})(t)}function x(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=L(t)&&"function"!=typeof t)return{default:t};var i=M(e);if(i&&i.has(t))return i.get(t);var n={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var r=l?Object.getOwnPropertyDescriptor(t,a):null;r&&(r.get||r.set)?Object.defineProperty(n,a,r):n[a]=t[a]}return n.default=t,i&&i.set(t,n),n}function I(){return I=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},I.apply(this,arguments)}function L(t){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L(t)}function N(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return O(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return O(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,l=function(){};return{s:l,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,o=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return r=t.done,t},e:function(t){o=!0,a=t},f:function(){try{r||null==i.return||i.return()}finally{if(o)throw a}}}}function O(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function D(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,P(n.key),n)}}function _(t,e,i){return e&&R(t.prototype,e),i&&R(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function P(t){var e=function(t,e){if("object"!=L(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!=L(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==L(e)?e:String(e)}function k(t,e,i){return e=B(e),function(t,e){if(e&&("object"===L(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return H(t)}(t,G()?Reflect.construct(e,i||[],B(t).constructor):e.apply(t,i))}function H(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(G=function(){return!!t})()}function B(t){return B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},B(t)}function z(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F(t,e)}function F(t,e){return F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},F(t,e)}function V(){var t=$("#im-chat-container"),e=a.default.chatPosition;t.length>0&&t.hasClass(e)&&t.removeClass(e)}e.default=function(t){function e(t){var i;return D(this,e),(i=k(this,e,[t])).data={openIds:[],groupIds:{}},i}return z(e,t),_(e,[{key:"_openChatWindow",value:function(t){var e=$(".im-tray"),i=a.default.chatPosition;e.unbind("click",V),window.pcyzjShare.openChat({groupId:t}),$("#im-session-left").toggleClass("im-listAppear"),e.length>0&&($("#im-chat-container").addClass(i),e.bind("click",V))}},{key:"_chatClick",value:function(t,e,i,n){var l=this.props,a=l.model,r=(l.dispatch,a.state,a.getDataProperty("isPC")),o=[],s="chat";if("moreChat"==e)o=this.data.openIds,s="moreChat";else{if(Array.isArray(n)&&0!=n.length){var u,d=N(n);try{for(d.s();!(u=d.n()).done;){var h=u.value;o.push(h)}}catch(t){d.e(t)}finally{d.f()}}o.push(e)}var c=[{openIds:o,groupName:i,clickScene:s}],p=[{key:a.key,methodName:"itemClick",args:c,postData:[]}];if("false"==r)this.getGroupId(p,e);else{var f=this.data.groupIds[e];f?this._openChatWindow(f):this.getGroupId(p,e)}}},{key:"getGroupId",value:function(t,e){var i=this,n={},l=this.props,a=l.model,r=l.dispatch,u=a.getDataProperty("pageId")||a.pageId,d=(0,o.getAppId)(u)(store.getState());n.pageId=a.pageId,n.params=t;var h=Object.keys(n).map((function(t){return t+"="+i.encodeParam(n[t])})).join("&");h="appId="+this.encodeParam(d)+"&"+h,fetch("form/batchInvokeAction.do",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8;",ajax:!0,traceId:(0,S.default)()},body:h,mode:"cors",credentials:"include"}).then((function(t){if(t.ok)return t.json();throw new Error(t.statusText)})).then((function(t){(0,s.doPostActions)(a.pageId,t,r)}))}},{key:"encodeParam",value:function(t){return"object"===L(t)?encodeURIComponent(JSON.stringify(t)):encodeURIComponent(t)}},{key:"_renderChild",value:function(t){var e=this,i=this.props,r=i.model,o=i.dispatch,s=(r.state,r.getDataProperty("isPC")),u=r.getDataProperty("hideChat"),d=r.getDataProperty("noTimeLine")||"",p=[],f=(p.length,this.data.openIds),g=r.getFormConfig(),y=r.pageId,E=r.key;"".concat(y,"_").concat(E,"_tips");return t.forEach((function(t,i,y){t.openId&&-1==f.indexOf(t.openId)&&e.data.openIds.push(t.openId);var E=(0,v.getImageUrl)(t.avatar,g),S="#666666";"reject"!=t.decisionType&&"forceReject"!=t.decisionType||(S="false"==s?"#F35959":"#FF3737");var w=t.taskId+"_"+t.userStr;w=u?t.taskId+"_"+t.userStr+"_0":t.taskId+"_"+t.userStr+"_1";(0,b.fromJS)({type:"bill",billno:w,link:!1});var A="";if("willApproval"!=t.handleState&&"approve"!=t.decisionType&&"reject"!=t.decisionType||1!=y.length||!t.nodeType||-1!=t.nodeType.indexOf("YunzhijiaTask")||(A=t.addSignMsg),Array.isArray(t.trusteeOpenIds)&&0!=t.trusteeOpenIds.length){var C,T=N(t.trusteeOpenIds);try{for(T.s();!(C=T.n()).done;){var M=C.value;f.push(M)}}catch(t){T.e(t)}finally{T.f()}}var x=(0,v.sanitize)(t.message),L=(0,v.sanitize)(A||""),O=(0,v.sanitize)(t.result),D=t.attachments&&t.attachments.length>0?"block":"none",R="wait"!=t.decisionType&&E?E:"-1"==t.userStr?h.default:m.default;t.callActivity&&(R=c.default),p.push(n.default.createElement("div",null,n.default.createElement("div",{className:"false"==s?a.default.contentMobile:a.default.content,style:{marginTop:0==i?"14px":"0px",marginLeft:d?"0px":"20px"},key:"children"+i},n.default.createElement("img",{className:a.default.userImg,src:R,alt:""}),n.default.createElement("div",{className:a.default.textWrap},i>0?n.default.createElement("div",{className:"false"==s?a.default.aGroupMobile:a.default.aGroup}):"",n.default.createElement("div",{className:a.default.textContent},n.default.createElement("h4",{className:"false"==s?a.default.textContenthMobile:a.default.textContenth},n.default.createElement("span",{dangerouslySetInnerHTML:{__html:(0,v.sanitize)(t.activityName)}}),n.default.createElement("span",{dangerouslySetInnerHTML:{__html:(0,v.sanitize)(t.subactivityname)}}),t.assignee,n.default.createElement("span",{dangerouslySetInnerHTML:{__html:O}})),t.openId&&!u?n.default.createElement("div",{className:"false"==s?a.default.talkImgPhone:a.default.talkImg+" kdfont kdfont-goutong",onClick:function(i){e._chatClick.bind(e)(i,t.openId,t.assignee,t.trusteeOpenIds)}}):""),n.default.createElement("p",{className:a.default.time},t.time),t.callActivity?n.default.createElement("p",{className:(0,l.default)(a.default.option,a.default["option-callActivity"]),onClick:function(i){e.showChildProcessInfo.bind(e)(i,t.procInstId,t.subCrossTenantInfo)},style:{display:t.message?"block":"none"},dangerouslySetInnerHTML:{__html:x}}):n.default.createElement("p",{className:a.default.option,style:{color:S,display:t.message?"block":"none"},dangerouslySetInnerHTML:{__html:x}}),(0,v.createSignatureApprovalRecord)(!1,s,t.signature),n.default.createElement("div",{className:a.default.addSignMsg,style:{backgroundColor:"false"==s?"white":"#F5F6F8"},dangerouslySetInnerHTML:{__html:L}}),n.default.createElement("div",{className:a.default.procAttach,style:{display:D,width:""}},t.attachments&&t.attachments.length>0?t.attachments.map((function(i,l){return n.default.createElement(Z,I({},i,{dispatch:e.props.dispatch,model:e.props.model,attachmentIds:t.state,key:l}))})):""))),n.default.createElement(U,{item:t,isPC:s,dispatch:o,model:r})))})),p}},{key:"showChildProcessInfo",value:function(t,e,i){var n={};n.pageId=this.props.model.getDataProperty("pageId"),n.isPC=this.props.model.getDataProperty("isPC"),n.hideMoreChat=this.props.model.getDataProperty("hideMoreChat"),n.hideChat=this.props.model.getDataProperty("hideChat"),n.noTimeLine=this.props.model.getDataProperty("noTimeLine"),n.approvalIsNew=this.props.model.getDataProperty("approvalIsNew"),n.isDDOrQYWX=this.props.model.getDataProperty("isDDOrQYWX"),this.props.dispatch((0,r.showChildProcessInfo)(this.props.model,{params:n,procinstid:e,subcrosstenantinfo:i}))}},{key:"_renderItem",value:function(t){var e=this,i=this.props,r=i.model,o=i.dispatch,s=(r.state,r.getDataProperty("isPC")),h=r.getDataProperty("noTimeLine")||"",c=r.getDataProperty("hideMoreChat"),m=this,E=[];if(t.forEach((function(e,i,c){var b="false"==s?f.default:d.default;"reject"==e.groupDecisionType||"forceReject"==e.groupDecisionType?b="false"==s?p.default:u.default:"wait"==e.groupDecisionType&&(b=g.default);var S=e.throughRule?n.default.createElement("div",{className:a.default.textContent,style:{marginBottom:"6px"}},n.default.createElement("h4",{className:"false"==s?a.default.textContenthMobile:a.default.textContenth},n.default.createElement("span",{dangerouslySetInnerHTML:{__html:e.throughRule}}))):"",w=(0,v.sanitize)(e.addSignMsg||""),A="false"==s?a.default.contentMobile:a.default.content;E.push(n.default.createElement("div",{className:a.default.rowStyle,style:{width:h?"100%":"90%"},key:"approvalRecord"+i},n.default.createElement("div",{className:i==t.length-1?(0,l.default)(a.default.timeLine,a.default.lastNode):a.default.timeLine},h?"":n.default.createElement("img",{className:a.default.circle,src:b,alt:""})),e.activityName?n.default.createElement("div",{className:A,style:{marginBottom:"-14px",borderBottom:"1px solid #D9DADA"}},n.default.createElement("img",{className:a.default.userImg,src:y.default,alt:""}),n.default.createElement("div",{className:a.default.textWrap},n.default.createElement("div",{className:a.default.textContent},n.default.createElement("h4",{className:"false"==s?a.default.textContenthMobile:a.default.textContenth},n.default.createElement("span",{dangerouslySetInnerHTML:{__html:(0,v.sanitize)(e.activityName)}}))),S,n.default.createElement("div",{className:a.default.addSignMsg,style:{backgroundColor:"false"==s?"white":"#F5F6F8"},dangerouslySetInnerHTML:{__html:w}}))):"",e.children.length>0?m._renderChild(e.children):"",e.showAutoCoordinate?n.default.createElement(Y,{key:"auto-coordinate-records",isPC:s,group:e.group,dispatch:o,model:r}):""))})),!c){var b=(0,A.getLangMsg)({key:"ApprovalRecord.faqiqunliao"});E.push(n.default.createElement("div",{className:"false"==s?(0,l.default)(a.default.groupChatMobile):(0,l.default)(a.default.groupChat,"kd-button"),key:"approvalRecord",onClick:function(t){e._chatClick.bind(e)(t,"moreChat","",[])}},n.default.createElement("span",{title:b,style:{whiteSpace:"break-spaces"}},b)))}return E}},{key:"render",value:function(){var t=this.props,e=t.model,i=t.dispatch,l=e.getDataProperty("isPC")||"",r=e.getDataProperty("noTimeLine")||"",o=r?a.default.containerStyleNoLine:a.default.containerStyle,s=(e.state,e.getDataProperty("approvalRecords")),u=e.getDataProperty("approvalIsNew"),d=(e.getFormConfig(),e.getDataProperty("superProcInstId"));return s instanceof Array?0==s.length?n.default.createElement("div",null,n.default.createElement("div",{className:a.default.backToParentProcess,style:{display:d?"block":"none",width:r?"100%":"90%"},onClick:this.backToParentProcess.bind(this)},(0,A.getLangMsg)({key:"ApprovalHistoryRecord.fanhuifuliucheng"})),n.default.createElement("div",{className:a.default.withoutApprovalRecord},n.default.createElement("img",{src:C.default})),n.default.createElement("div",{className:a.default.description},(0,A.getLangMsg)({key:"KDApprovalRecord.zanwushenpijilu"}))):"true"!=l&&u?n.default.createElement(w.default,{dispatch:i,model:e}):n.default.createElement("div",{className:o,style:{marginBottom:"false"!=l||r?"0px":"60px"}},n.default.createElement("div",{className:a.default.backToParentProcess,style:{display:d?"block":"none",width:r?"100%":"90%"},onClick:this.backToParentProcess.bind(this)},(0,A.getLangMsg)({key:"ApprovalHistoryRecord.fanhuifuliucheng"})),this._renderItem(s),n.default.createElement(E.default,{model:e})):""}},{key:"backToParentProcess",value:function(t){var e={};e.pageId=this.props.model.getDataProperty("pageId"),e.isPC=this.props.model.getDataProperty("isPC"),e.hideMoreChat=this.props.model.getDataProperty("hideMoreChat"),e.hideChat=this.props.model.getDataProperty("hideChat"),e.noTimeLine=this.props.model.getDataProperty("noTimeLine"),e.approvalIsNew=this.props.model.getDataProperty("approvalIsNew"),e.isDDOrQYWX=this.props.model.getDataProperty("isDDOrQYWX");var i=this.props.model.getDataProperty("superProcInstId");this.props.dispatch((0,r.backToParentProcess)(this.props.model,{params:e,superprocInstid:i}))}}]),e}(n.Component);var U=function(t){function e(t){var i;return D(this,e),(i=k(this,e,[t])).state={unfoldCoordinate:!1},i}return z(e,t),_(e,[{key:"render",value:function(){var t=this,e=this.props,i=e.isPC,l=e.item,o=e.dispatch,s=e.model,u=0==this.state.unfoldCoordinate?s.getDataProperty("coordinateName"):(0,A.getLangMsg)({key:"ApprovalHistoryRecord.shouqixieban"}).replace(/\%s/,s.getDataProperty("coordinateName"));return n.default.createElement("div",{style:{backgroundColor:"false"==i?"white":"#F5F6F8",marginLeft:"20px",width:"100%"}},n.default.createElement("div",{className:a.default["btn-panel"]},(0,v.createCustomizedLinks)(l,(function(e,i){t.props.dispatch((0,r.clickCustomizeLink)(t.props.model,i))})),l.coordinate?n.default.createElement("span",{onClick:this.switchCoordinate.bind(this)},u):"",l.showTransferRecord?n.default.createElement("span",{onClick:this.showTransferRecord.bind(this)},(0,A.getLangMsg)({key:"ApprovalHistoryRecord.zhuangjiaolishi"}).replace(/\%s/,s.getDataProperty("transferName"))):""),l.coordinate?n.default.createElement(j,{key:"coordinate-records",showCoordinate:!this.state.unfoldCoordinate,isPC:i,taskId:l.taskId,userId:l.userStr,dispatch:o,model:s}):"")}},{key:"switchCoordinate",value:function(t){if(!this.state.unfoldCoordinate){var e=this.props,i=e.item;e.dispatch,e.model;this.props.dispatch((0,r.showCoordinateInfo)(this.props.model,{taskid:i.taskId,userid:i.userStr,autocoordinate:!1}))}this.setState({unfoldCoordinate:!this.state.unfoldCoordinate})}},{key:"showTransferRecord",value:function(t){var e=this.props.item,i=e.taskId,n=e.userStr;this.props.dispatch((0,r.showTransferRecord)(this.props.model,{taskid:i,userid:n,iscoordinate:!1}))}}]),e}(n.Component),Y=function(t){function e(t){var i;return D(this,e),(i=k(this,e,[t])).state={showAutoCoordinate:!0},i}return z(e,t),_(e,[{key:"render",value:function(){var t=this,e=this.props.model.getDataProperty("autocoordinate_"+this.props.group),i=1==this.state.showAutoCoordinate?(0,A.getLangMsg)({key:"ApprovalHistoryRecord.zidongxieban"}).replace(/\%s/,this.props.model.getDataProperty("coordinateName")):(0,A.getLangMsg)({key:"ApprovalHistoryRecord.shouqizidongxieban"}).replace(/\%s/,this.props.model.getDataProperty("coordinateName"));return n.default.createElement("div",{className:a.default["coordinate-record"],style:{display:"flex",backgroundColor:"false"==this.props.isPC?"#fff":"#F5F6F8"}},n.default.createElement("div",{className:a.default.coordinate,onClick:function(e){t.switchAutoCoordinate.bind(t)(e,t.props.group)}},i),e&&e.length>0?n.default.createElement("div",{style:{display:this.state.showAutoCoordinate?"none":"block"}},n.default.createElement("div",{className:a.default.title},e.length,(0,A.getLangMsg)({key:"ApprovalHistoryRecord.tiaozidongxiebanjianyi"}).replace(/\%s/,this.props.model.getDataProperty("coordinateName"))),e.map((function(e,i){return n.default.createElement(W,I({},e,{dispatch:t.props.dispatch,model:t.props.model,key:i}))}))):"")}},{key:"switchAutoCoordinate",value:function(t,e){this.setState({showAutoCoordinate:!this.state.showAutoCoordinate}),1==this.state.showAutoCoordinate&&this.props.dispatch((0,r.showAutoCoordinateInfo)(this.props.model,{groupid:e}))}}]),e}(n.Component),j=function(t){function e(){return D(this,e),k(this,e,arguments)}return z(e,t),_(e,[{key:"render",value:function(){var t=this,e=this.props.model.getDataProperty("coordinate_"+this.props.taskId+"_"+this.props.userId);return n.default.createElement("div",{className:a.default["coordinate-record"],style:{display:"flex",backgroundColor:"false"==this.props.isPC?"#fff":"#F5F6F8",marginLeft:"0px"}},e&&e.length>0?n.default.createElement("div",{style:{display:this.props.showCoordinate?"none":"block"}},n.default.createElement("div",{className:a.default.title},e.length,(0,A.getLangMsg)({key:"ApprovalHistoryRecord.tiaoxiebanjianyi"}).replace(/\%s/,this.props.model.getDataProperty("coordinateName"))),e.map((function(e,i){return n.default.createElement(W,I({},e,{dispatch:t.props.dispatch,model:t.props.model,key:i}))}))):"")}}]),e}(n.Component),W=function(t){function e(){return D(this,e),k(this,e,arguments)}return z(e,t),_(e,[{key:"render",value:function(){var t=this,e=this.props.model,i=e.getDataProperty("isPC"),l=this.props.assignee||"";(""==this.props.time||null==this.props.time)&&this.props.assignee.split(" ").length>=2&&(l=this.props.assignee.split(" ")[1].trim());var r=""==this.props.time||null==this.props.time?"block":"none",o=this.props.attachments&&this.props.attachments.length>0?"block":"none",s=""==this.props.time||null==this.props.time?"none":"block",u="";this.props.showTransferRecord&&(u=n.default.createElement("div",{className:a.default.showCoordinateTransfer,onClick:function(e){t.showTransferRecord.bind(t)(e,t.props.taskId,t.props.userStr,!0)}},(0,A.getLangMsg)({key:"ApprovalHistoryRecord.zhuangjiaolishi"}).replace(/\%s/,this.props.model.getDataProperty("transferName"))));var d=e.getFormConfig(),h=(0,v.getImageUrl)(this.props.avatar,d);return n.default.createElement("div",{className:a.default.coordinateRecord},n.default.createElement("div",{style:{display:"flex"}},n.default.createElement("div",{className:a.default.left},n.default.createElement("img",{className:a.default.avatar,src:""==h||null==h?m.default:h})),n.default.createElement("div",{className:a.default.right},n.default.createElement("div",null,n.default.createElement("div",{className:a.default.coordinateName},n.default.createElement("span",null,this.props.ownerName),n.default.createElement("span",null,(0,A.getLangMsg)({key:"ApprovalHistoryRecord.yaoqingkongge"})),n.default.createElement("span",null,l),n.default.createElement("span",null,(0,A.getLangMsg)({key:"ApprovalHistoryRecord.xiebankongge"}).replace(/\%s/,this.props.model.getDataProperty("coordinateName"))),n.default.createElement("span",{className:a.default.coordinating,style:{display:r}},(0,A.getLangMsg)({key:"ApprovalHistoryRecord.zhengzaixieban"}).replace(/\%s/,this.props.model.getDataProperty("coordinateName")))),n.default.createElement("span",{className:a.default.time,style:{display:s}},this.props.time)),n.default.createElement("div",{className:a.default.message},(0,v.crateCoordinateInviteOpinions)(this.props)),(0,v.createSignatureApprovalRecord)(!1,i,this.props.signature))),u,n.default.createElement("div",{className:a.default.fujian,style:{display:o}},this.props.attachments&&this.props.attachments.length>0?this.props.attachments.map((function(e,i){return n.default.createElement(Z,I({},e,{dispatch:t.props.dispatch,model:t.props.model,attachmentIds:t.props.state,key:i}))})):""))}},{key:"showTransferRecord",value:function(t,e,i,n){this.props.dispatch((0,r.showTransferRecord)(this.props.model,{taskid:e,userid:i,iscoordinate:n}))}}]),e}(n.Component),Z=function(t){function e(t){var i;return D(this,e),(i=k(this,e,[t])).getFileSize=function(t){return t>1048576?(Math.round(100*t/1048576)/100).toString()+"MB":(Math.round(100*t/1024)/100).toString()+"KB"},i.state={visiable:!1},i.handleMouseover=i.handleMouseover.bind(H(i)),i.handleMouseleave=i.handleMouseleave.bind(H(i)),i}return z(e,t),_(e,[{key:"handleMouseover",value:function(){this.setState({visiable:!0})}},{key:"handleMouseleave",value:function(){this.setState({visiable:!1})}},{key:"render",value:function(){var t="true"==this.props.model.getDataProperty("isPC"),e="("+this.getFileSize(this.props.fileSize)+")",i=t?"attachment":"attachmentForMob";return t?n.default.createElement("div",{className:a.default[i],onMouseOver:this.handleMouseover,onMouseLeave:this.handleMouseleave},n.default.createElement("span",{className:(0,l.default)(a.default["attach-icon"],"kdfont kdfont-fujian")}),n.default.createElement("span",{className:a.default.filename,title:this.props.fileName,onClick:this.previewAttachment.bind(this)},this.props.fileName),n.default.createElement("span",{className:a.default.filesize},e),n.default.createElement("span",{className:a.default.operate,style:{display:this.state.visiable?"flex":"none"}},n.default.createElement("span",{className:a.default.fileyulan,onClick:this.previewAttachment.bind(this)},(0,A.getLangMsg)({key:"KDApprovalRecord.yulan"})),n.default.createElement("span",{className:a.default.filexiazai,onClick:this.downloadAttachment.bind(this)},(0,A.getLangMsg)({key:"KDApprovalRecord.xiazai"})))):n.default.createElement("div",{className:a.default[i],onClick:this.previewAttachment.bind(this)},n.default.createElement("span",{className:(0,l.default)(a.default["attach-icon"],"kdfont kdfont-fujian")}),n.default.createElement("span",{className:a.default.filename,title:this.props.fileName},this.props.fileName),n.default.createElement("span",{className:a.default.filesize},e))}},{key:"downloadAttachment",value:function(){window.open(this.props.downloadUrl)}},{key:"previewAttachment",value:function(){"true"==this.props.model.getDataProperty("isPC")?this.props.previewUrl?this.props.dispatch((0,r.showAttachmentInfo)(this.props.model,{attachmentid:this.props.id,downloadurl:this.props.downloadUrl,attachmentids:this.props.attachmentIds})):window.open(this.props.downloadUrl):this.props.dispatch((0,r.showAttachmentInfo)(this.props.model,{attachmentid:this.props.id,downloadurl:this.props.downloadUrl,attachmentids:this.props.attachmentIds}))}}]),e}(n.Component)},736e3:function(t,e,i){"use strict";i(182320),i(909112),i(697060),i(360776),i(505684),i(743924),i(693917),i(205960),i(721300),i(846428),i(336368),i(708896),i(606200),i(534440),i(670864),i(836887),i(78504),i(776512),i(977864),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(9692),i(233696),i(241872),i(323784),i(686456),i(835164),i(803372),i(976896),i(297336),i(76124),i(880920),i(387912),i(497448),i(633768),i(690512),i(513640),i(321164),i(997308);var n=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=C(t)&&"function"!=typeof t)return{default:t};var i=b(e);if(i&&i.has(t))return i.get(t);var n={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if("default"!==a&&Object.prototype.hasOwnProperty.call(t,a)){var r=l?Object.getOwnPropertyDescriptor(t,a):null;r&&(r.get||r.set)?Object.defineProperty(n,a,r):n[a]=t[a]}return n.default=t,i&&i.set(t,n),n}(i(795520)),l=E(i(671252)),a=E(i(255180)),r=E(i(886732)),o=i(130208),s=i(218652),u=i(251536),d=E(i(594716)),h=E(i(359852)),c=(E(i(640392)),E(i(877532))),p=E(i(729860)),f=i(384904),g=E(i(257528)),y=E(i(996283)),m=E(i(720056)),v=i(331428);function E(t){return t&&t.__esModule?t:{default:t}}function b(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,i=new WeakMap;return(b=function(t){return t?i:e})(t)}function S(){return S=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},S.apply(this,arguments)}function w(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return A(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return A(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,l=function(){};return{s:l,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,o=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return r=t.done,t},e:function(t){o=!0,a=t},f:function(){try{r||null==i.return||i.return()}finally{if(o)throw a}}}}function A(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function C(t){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C(t)}function T(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,I(n.key),n)}}function x(t,e,i){return e&&M(t.prototype,e),i&&M(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function I(t){var e=function(t,e){if("object"!=C(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!=C(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==C(e)?e:String(e)}function L(t,e,i){return e=O(e),function(t,e){if(e&&("object"===C(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,N()?Reflect.construct(e,i||[],O(t).constructor):e.apply(t,i))}function N(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(N=function(){return!!t})()}function O(t){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},O(t)}function D(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R(t,e)}function R(t,e){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},R(t,e)}function _(){var t=$("#im-chat-container"),e=r.default.chatPosition;t.length>0&&t.hasClass(e)&&t.removeClass(e)}e.default=function(t){function e(t){var i;return T(this,e),(i=L(this,e,[t])).data={openIds:[],groupIds:{}},i.state={tipHover:0,attachementsWidth:180},i}return D(e,t),x(e,[{key:"componentDidMount",value:function(){this.refs.contentMobile&&this.setState({attachementsWidth:this.refs.contentMobile.offsetWidth-75})}},{key:"_openChatWindow",value:function(t){var e=$(".im-tray"),i=r.default.chatPosition;e.unbind("click",_),window.pcyzjShare.openChat({groupId:t}),$("#im-session-left").toggleClass("im-listAppear"),e.length>0&&($("#im-chat-container").addClass(i),e.bind("click",_))}},{key:"_chatClick",value:function(t,e,i){var n=this.props.model,l=n.getDataProperty("isPC"),a=[];"moreChat"==e?a=this.data.openIds:a.push(e);var r=[{openIds:a,groupName:i}],o=[{key:n.key,methodName:"itemClick",args:r,postData:[]}];if("false"==l)this.getGroupId(o,e);else{var s=this.data.groupIds[e];s?this._openChatWindow(s):this.getGroupId(o,e)}}},{key:"getGroupId",value:function(t,e){var i=this,n={},l=this.props,a=l.model,r=l.dispatch,o=a.getDataProperty("pageId")||a.pageId,d=(0,s.getAppId)(o)(window.store.getState());n.pageId=a.pageId,n.params=t;var h=Object.keys(n).map((function(t){return t+"="+i.encodeParam(n[t])})).join("&");h=h+"&appId="+this.encodeParam(d),window.fetch("form/batchInvokeAction.do",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8;",ajax:!0,traceId:(0,y.default)()},body:h,mode:"cors",credentials:"include"}).then((function(t){if(t.ok)return t.json();throw new Error(t.statusText)})).then((function(t){(0,u.doPostActions)(a.pageId,t,r)}))}},{key:"encodeParam",value:function(t){return"object"===C(t)?encodeURIComponent(JSON.stringify(t)):encodeURIComponent(t)}},{key:"_renderChild",value:function(t,e){var i=this,s=this.props,u=s.model,p=s.dispatch,g=(u.getDataProperty("isPC"),u.getDataProperty("hideChat"),u.getDataProperty("isDDOrQYWX")),y=[],m=this.data.openIds,E=u.getFormConfig();return t.forEach((function(t,s,b){t.openId&&-1==m.indexOf(t.openId)&&i.data.openIds.push(t.openId);var A,C,T,M,x,I,L,N,O=(0,f.getImageUrl)(t.avatar,E),D=t.formatStrTime,R="wait"==t.groupDecisionType&&"approve"!=t.decisionType&&"reject"!=t.decisionType?"unvisible":"",_=(0,f.sanitize)(t.message),P=(0,f.sanitize)(t.result);if(N=null==t.assignee?(0,v.getLangMsg)({key:"KDApprovalRecordNew.chulizhong"}):t.assignee,"wait"==t.groupDecisionType?(A=N!=(0,v.getLangMsg)({key:"KDApprovalRecordNew.chulizhong"})?(0,v.getLangMsg)({key:"KDApprovalRecordNew.dai"})+" "+N.trim()+" "+(0,v.getLangMsg)({key:"KDApprovalRecordNew.shenpi"}):N,C="stateInfoClassWait"):"submit"==t.groupDecisionType?(_=e?(0,v.getLangMsg)({key:"KDApprovalRecordNew.faqishenpi"}):(0,v.getLangMsg)({key:"KDApprovalRecordNew.yitijiao"}),T="firstResultInfoClass",M="firstAssigneeClass",x="firstTimeClass",I="unvisible"):"manualSuspended"==t.groupDecisionType&&(A=(0,v.getLangMsg)({key:"KDApprovalRecordNew.yishoudongguaqi"})),"approve"==t.decisionType?(A=(0,v.getLangMsg)({key:"KDApprovalRecordNew.yishenpi"}),L="assigneeStateAgree"):"reject"==t.decisionType?(A=(0,v.getLangMsg)({key:"KDApprovalRecordNew.yibohui"}),C="stateInfoClassReject",L="assigneeStateRefuse"):"terminate"==t.decisionType?(A=(0,v.getLangMsg)({key:"KDApprovalRecordNew.shenpizhongzhi"}),C="stateInfoClassReject",L="assigneeStateTerminate"):"forceReject"==t.decisionType&&(A=(0,v.getLangMsg)({key:"KDApprovalRecordNew.yiqiangzhibohui"}),C="stateInfoClassReject",L="assigneeStateRefuse"),"approve"!=t.decisionType&&"reject"!=t.decisionType||(t.groupDecisionType=t.decisionType),Array.isArray(t.trusteeOpenIds)&&0!=t.trusteeOpenIds.length){var G,B=w(t.trusteeOpenIds);try{for(B.s();!(G=B.n()).done;){var z=G.value;m.push(z)}}catch(t){B.e(t)}finally{B.f()}}var V="submit"==t.groupDecisionType||1==t.huiqiansuccess?"unvisible":"",U=-1==t.userId?"unvisible":"";if("wait"==t.groupDecisionType&&"dismissed"==t.handleState&&1==t.artificialNode)y.push(n.default.createElement("div",{className:r.default.contentMobile,key:"children"+s},n.default.createElement("div",{className:r.default.textWrap1},n.default.createElement("div",{className:r.default.textWrap},n.default.createElement("div",{style:{display:"flex"}},n.default.createElement("span",{className:(0,l.default)(r.default.assignee,r.default.assigneeDismissedClass),dangerouslySetInnerHTML:{__html:N}})),n.default.createElement("span",{className:r.default.stateInfoDismissedClass,dangerouslySetInnerHTML:{__html:(0,v.getLangMsg)({key:"KDApprovalRecordNew.daitijiao"})}}))),n.default.createElement("div",{className:a.default["btn-panel"]},(0,f.createCustomizedLinks)(t,(function(t,e){i.props.dispatch((0,o.clickCustomizeLink)(i.props.model,e))}))),1==t.coordinate?n.default.createElement(H,{taskId:t.taskId,userId:t.userStr,dispatch:p,model:u,autoCoordinate:!0}):"",1==t.showTransferRecord?n.default.createElement("div",{className:r.default["coordinate-record"],onClick:function(e){i.showTransferRecord.bind(i)(e,t)}},n.default.createElement("div",{className:r.default.coordinate},n.default.createElement("span",null,(0,v.getLangMsg)({key:"ApprovalHistoryRecord.zhuangjiaolishi"}).replace(/\%s/,i.props.model.getDataProperty("transferName"))),n.default.createElement("span",{className:(0,l.default)(r.default.arrow,r.default.arrowleft)}))):" "));else if(t.callActivity)y.push(n.default.createElement("div",{className:r.default.contentMobile,key:"children"+s},n.default.createElement("div",{className:(0,l.default)(r.default.textWrap,r.default[V])},n.default.createElement("div",{className:r.default.textContent},n.default.createElement("h4",{className:r.default.textContenthMobile},n.default.createElement("span",{dangerouslySetInnerHTML:{__html:t.activityName}})))),n.default.createElement("div",{className:(0,l.default)(r.default.textWrap1,r.default[R])},n.default.createElement("div",null,n.default.createElement("img",{className:r.default.userImg,src:h.default,alt:(0,v.getLangMsg)({key:"ApprovalHistoryRecord.yonghutouxiang"})}),n.default.createElement("span",{className:(0,l.default)(r.default.assigneeState,r.default[L],r.default[I])})),n.default.createElement("div",{className:r.default.textWrap},n.default.createElement("span",{className:(0,l.default)(r.default.callActivityResult,r.default["wait"==t.decisionType?"stateInfoClassWait":"stateInfoClassApprove"]),dangerouslySetInnerHTML:{__html:P}}),n.default.createElement("span",{className:r.default.callActivityName,onClick:function(e){i.showChildProcessInfo.bind(i)(e,t.procInstId,t.subCrossTenantInfo)}},t.message),n.default.createElement("p",{className:(0,l.default)(r.default.time,r.default[x])},D)))));else{var Y=(0,f.sanitize)(t.addSignMsg||""),j=t.attachments&&t.attachments.length>0?"block":"none",W=u.getDataProperty("isPC");y.push(n.default.createElement("div",{className:r.default.contentMobile,ref:"contentMobile",key:"children"+s},n.default.createElement("div",{className:(0,l.default)(r.default.textWrap,r.default[V])},n.default.createElement("div",{className:r.default.textContent},n.default.createElement("h4",{className:r.default.textContenthMobile},n.default.createElement("span",{dangerouslySetInnerHTML:{__html:t.activityName}})),n.default.createElement("span",{className:(0,l.default)(r.default.textContextState,r.default[C]),dangerouslySetInnerHTML:{__html:A}}),n.default.createElement("span",{className:(0,l.default)(r.default.textContextArrow,r.default[U]),onClick:function(e){return i.showApprovalsPage(e,[t],t.groupType,t.groupDecisionType,t.throughRule,g)}}),n.default.createElement("div",{className:r.default.addSignMsg,dangerouslySetInnerHTML:{__html:Y}}))),1!=t.showAutoCoordinate&&1!=t.coordinate||"wait"!=t.groupDecisionType?"":n.default.createElement(H,{taskId:t.taskId,userId:t.userStr,dispatch:p,model:u,getFormatTime:function(t){return i.getFormatTime(t)},autoCoordinate:!0}),"wait"!=t.groupDecisionType&&1==t.showAutoCoordinate?n.default.createElement(k,{group:t.group,dispatch:p,model:u}):"",n.default.createElement("div",{className:(0,l.default)(r.default.textWrap1,r.default[R])},n.default.createElement("div",null,n.default.createElement("img",{className:r.default.userImg,src:O||("-1"==t.userStr?d.default:c.default),alt:(0,v.getLangMsg)({key:"ApprovalHistoryRecord.yonghutouxiang"}),onClick:function(e){return i.showPersonInfo(e,t.openId,t.userStr,g)}}),n.default.createElement("span",{className:(0,l.default)(r.default.assigneeState,r.default[L],r.default[I])})),n.default.createElement("div",{className:r.default.textWrap},n.default.createElement("span",null,n.default.createElement("span",{className:(0,l.default)(r.default.assignee,r.default[M])},N),n.default.createElement("span",{className:(0,l.default)(r.default.result,r.default[T]),dangerouslySetInnerHTML:{__html:_}}),(0,f.createSignatureApprovalRecord)(!0,W,t.signature),n.default.createElement("div",{className:r.default.procAttach,style:{display:j,width:i.state.attachementsWidth+"px"}},t.attachments&&t.attachments.length>0?t.attachments.map((function(e,l){return n.default.createElement(F,S({},e,{dispatch:i.props.dispatch,model:i.props.model,attachmentIds:t.state,key:l}))})):"")),n.default.createElement("p",{className:(0,l.default)(r.default.time,r.default[x])},D))),n.default.createElement("div",{className:a.default["btn-panel"]},(0,f.createCustomizedLinks)(t,(function(t,e){i.props.dispatch((0,o.clickCustomizeLink)(i.props.model,e))}))),1==t.coordinate&&"wait"!=t.groupDecisionType?n.default.createElement(H,{taskId:t.taskId,userId:t.userStr,dispatch:p,model:u,getFormatTime:function(t){return i.getFormatTime(t)},autoCoordinate:!1}):"",1==t.showTransferRecord?n.default.createElement("div",{className:r.default["coordinate-record"],onClick:function(e){i.showTransferRecord.bind(i)(e,t)}},n.default.createElement("div",{className:r.default.coordinate},n.default.createElement("span",null,(0,v.getLangMsg)({key:"ApprovalHistoryRecord.zhuangjiaolishi"}).replace(/\%s/,i.props.model.getDataProperty("transferName"))),n.default.createElement("span",{className:(0,l.default)(r.default.arrow,r.default.arrowleft)}))):" "))}})),y}},{key:"showChildProcessInfo",value:function(t,e,i){var n={};n.pageId=this.props.model.getDataProperty("pageId"),n.isPC=this.props.model.getDataProperty("isPC"),n.hideMoreChat=this.props.model.getDataProperty("hideMoreChat"),n.hideChat=this.props.model.getDataProperty("hideChat"),n.noTimeLine=this.props.model.getDataProperty("noTimeLine"),n.approvalIsNew=this.props.model.getDataProperty("approvalIsNew"),n.isDDOrQYWX=this.props.model.getDataProperty("isDDOrQYWX"),this.props.dispatch((0,o.showChildProcessInfo)(this.props.model,{params:n,procinstid:e,subcrosstenantinfo:i}))}},{key:"showPersonInfo",value:function(t,e,i,n){-1!=i&&(e?(0,m.default)("personInfo",{data:{openId:e}}):this.props.dispatch((0,o.showPersonInfo)(this.props.model,{userid:i+""})))}},{key:"showTransferRecord",value:function(t,e){this.props.dispatch((0,o.showTransferRecord)(this.props.model,{taskid:e.taskId,userid:e.userStr,iscoordinate:!1}))}},{key:"showTransferRecordYZJ",value:function(t,e){this.props.dispatch((0,o.showTransferRecordYZJ)(this.props.model,{value:e,iscoordinate:!1}))}},{key:"getFormatTime",value:function(t){if(null==t||""==t||null==t)return null;var e=new Date(t);return(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"/"+(e.getDate()<10?"0"+e.getDate():e.getDate())+" "+(e.getHours()<10?"0"+e.getHours():e.getHours())+":"+(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())}},{key:"setTipHover",value:function(t){var e=this.state.tipHover;e=0==e?1:0,this.setState({tipHover:e})}},{key:"_renderItem",value:function(t){var e=this,i=this.props,a=i.model,o=i.dispatch,s=a.getDataProperty("noTimeLine")||"",u=a.getDataProperty("isDDOrQYWX"),d=[];return t.forEach((function(i,h,c){var p="agree",g="timeLineAgree";"reject"==i.groupDecisionType||"forceReject"==i.groupDecisionType||"terminate"==i.groupDecisionType?(p="refuse",g="timeLineRefuse"):"wait"!=i.groupDecisionType&&"manualSuspended"!=i.groupDecisionType||(p="waiting",g="timeLineWait");var y="submit"==i.groupDecisionType?"firstCircle":"",m=[],E=[];if(i.activityName&&i.children.length>0)for(var b=0;b<i.children.length>0;b++)"approve"==i.children[b].decisionType||"reject"==i.children[b].decisionType||"terminate"==i.children[b].decisionType||"forceReject"==i.children[b].decisionType?(i.children[b].huiqiansuccess=!0,E.push(i.children[b])):m.push(i.children[b]);else if(i.children.length>0&&i.groupType)for(var S=0;S<i.children.length>0;S++)i.children[S].groupType=i.groupType,i.children[S].throughRule=i.throughRule;var w,A=(0,v.getLangMsg)({key:"KDApprovalRecordNew.dai"})+" ";if(m.length>0&&m.length<=3)for(var C=0;C<m.length;C++){A+=(null==m[C].assignee?(0,v.getLangMsg)({key:"KDApprovalRecordNew.chulizhong"}):m[C].assignee)+" "}else if(m.length>3){for(var T=0;T<3;T++){A+=(null==m[T].assignee?(0,v.getLangMsg)({key:"KDApprovalRecordNew.chulizhong"}):m[T].assignee)+" "}A+=(0,v.getLangMsg)({key:"KDApprovalRecordNew.deng"})+m.length+(0,v.getLangMsg)({key:"KDApprovalRecordNew.ren"})}A+=" "+(0,v.getLangMsg)({key:"KDApprovalRecordNew.shenpi"}),"manualSuspended"==i.groupDecisionType&&(A=(0,v.getLangMsg)({key:"KDApprovalRecordNew.yishoudongguaqi"})),i.activityName&&("approve"==i.groupDecisionType?A=(0,v.getLangMsg)({key:"KDApprovalRecordNew.yishenpi"}):"reject"==i.groupDecisionType?(A=(0,v.getLangMsg)({key:"KDApprovalRecordNew.yibohui"}),w="stateInfoClassReject"):"terminate"==i.groupDecisionType?(A=(0,v.getLangMsg)({key:"KDApprovalRecordNew.shenpizhongzhi"}),w="stateInfoClassReject"):"forceReject"==i.groupDecisionType&&(A=(0,v.getLangMsg)({key:"KDApprovalRecordNew.yiqiangzhibohui"}),w="stateInfoClassReject")),m.length>0&&(w="stateInfoClassWait"),i.callActivity&&(A=(0,v.getLangMsg)({key:"KDApprovalRecordNew.chulizhong"}));for(var M=0;M<i.children.length>0;M++)"terminate"==i.groupDecisionType&&(i.children[M].groupDecisionType=i.groupDecisionType),i.children[M].showAutoCoordinate=!1,i.showAutoCoordinate&&!i.activityName&&(i.children[M].showAutoCoordinate=!0);for(var x=!1,I={},L=0;L<i.children.length>0;L++)if(1==i.children[L].showTransferRecord&&"wait"==i.children[L].groupDecisionType){x=!0;var N=i.children[L].taskId,O=i.children[L].userStr;I[N]=O}var D=(0,f.sanitize)(i.addSignMsg||""),R=h==c.length-1;d.push(n.default.createElement("div",{className:r.default.rowStyle,style:{width:"100%"},key:"approvalRecord"+h},n.default.createElement("div",{className:h==t.length-1?(0,l.default)(r.default.timeLine,r.default.lastNode,r.default[g]):(0,l.default)(r.default.timeLine,r.default[g])},s?"":n.default.createElement("span",{className:(0,l.default)(r.default.circle,r.default[p],r.default[y])})),i.activityName?n.default.createElement("div",{className:r.default.contentMobile},n.default.createElement("div",{className:(0,l.default)(r.default.textWrap,r.default[""])},n.default.createElement("div",{className:r.default.textContent},n.default.createElement("h4",{className:r.default.textContenthMobile},n.default.createElement("span",{dangerouslySetInnerHTML:{__html:i.activityName}})),n.default.createElement("span",{className:(0,l.default)(r.default.textContextState,r.default[w]),dangerouslySetInnerHTML:{__html:A}}),n.default.createElement("span",{className:r.default.textContextArrow,onClick:function(t){return e.showApprovalsPage(t,i.children,i.groupType,i.groupDecisionType,i.throughRule,u)}}))),n.default.createElement("div",{className:r.default.addSignMsg,dangerouslySetInnerHTML:{__html:D}}),n.default.createElement(B,{children:m,dispatch:o,model:a}),1!=i.showCoordnate&&1!=i.showAutoCoordinate||"wait"!=i.groupDecisionType?"":n.default.createElement(P,{children:i.children,dispatch:o,model:a,getFormatTime:function(t){return e.getFormatTime(t)}}),1==x&&"wait"==i.groupDecisionType?n.default.createElement("div",{className:r.default["coordinate-record"],onClick:function(t){e.showTransferRecordYZJ.bind(e)(t,I,!1)}},n.default.createElement("div",{className:r.default.coordinate},n.default.createElement("span",null,(0,v.getLangMsg)({key:"ApprovalHistoryRecord.zhuangjiaolishi"}).replace(/\%s/,e.props.model.getDataProperty("transferName"))),n.default.createElement("span",{className:(0,l.default)(r.default.arrow,r.default.arrowleft)}))):" ","wait"!=i.groupDecisionType&&1==i.showAutoCoordinate?n.default.createElement(k,{group:i.group,dispatch:o,model:a}):""):"",i.activityName?e._renderChild(E,R):e._renderChild(i.children,R)))})),d}},{key:"showApprovalsPage",value:function(t,e,i,n,l,a){var r=Date.now();(!this.lastClickTime||Math.abs(this.lastClickTime-r)>1e3)&&(this.lastClickTime=r,this.props.dispatch((0,o.showApprovalsPage)(this.props.model,{approvers:e,signtype:i||"",groupdecisiontype:n||"",throughrule:l||"",isDDOrQYWX:null!=a&&a})))}},{key:"render",value:function(){var t=this.props.model,e=t.getDataProperty("isPC")||"",i=t.getDataProperty("noTimeLine")||"",l=i?r.default.containerStyleNoLine:r.default.containerStyle,a=(t.state,t.getDataProperty("approvalRecords")),o=t.getDataProperty("superProcInstId");return n.default.createElement("div",{className:l,style:{marginBottom:"false"!=e||i?"0px":"60px"}},n.default.createElement("div",{className:r.default.backToParentProcess,style:{display:o?"block":"none",width:i?"100%":"90%"},onClick:this.backToParentProcess.bind(this)},(0,v.getLangMsg)({key:"ApprovalHistoryRecord.fanhuifuliucheng"})),this._renderItem(a),n.default.createElement(g.default,{model:t}))}},{key:"backToParentProcess",value:function(t){var e={};e.pageId=this.props.model.getDataProperty("pageId"),e.isPC=this.props.model.getDataProperty("isPC"),e.hideMoreChat=this.props.model.getDataProperty("hideMoreChat"),e.hideChat=this.props.model.getDataProperty("hideChat"),e.noTimeLine=this.props.model.getDataProperty("noTimeLine"),e.approvalIsNew=this.props.model.getDataProperty("approvalIsNew"),e.isDDOrQYWX=this.props.model.getDataProperty("isDDOrQYWX");var i=this.props.model.getDataProperty("superProcInstId");this.props.dispatch((0,o.backToParentProcess)(this.props.model,{params:e,superprocInstid:i}))}}]),e}(n.Component);var P=function(t){function e(){return T(this,e),L(this,e,arguments)}return D(e,t),x(e,[{key:"render",value:function(){var t=this,e=this.props.children;if(0==e.length)return"";for(var i="",l="",a=0;a<e.length;a++)"wait"==e[a].groupDecisionType&&(i+=e[a].taskId+",",l+=e[a].userId+",");return n.default.createElement(H,{taskId:i.substring(0,i.length-1),userId:l.substring(0,l.length-1),dispatch:this.props.dispatch,model:this.props.model,getFormatTime:function(e){return t.props.getFormatTime(e)},autoCoordinate:!0})}}]),e}(n.Component),k=function(t){function e(t){var i;return T(this,e),(i=L(this,e,[t])).state={showAutoCoordinate:!0},i}return D(e,t),x(e,[{key:"render",value:function(){var t=this,e=this.props.model.getDataProperty("autocoordinate_"+this.props.group),i=(0,v.getLangMsg)({key:"ApprovalHistoryRecord.chakanzidongxieban"}).replace(/\%s/,this.props.model.getDataProperty("coordinateName"));0==this.state.showAutoCoordinate&&e&&e.length>0&&(i=e.length+(0,v.getLangMsg)({key:"ApprovalHistoryRecord.tiaozidongxiebanjianyi"}).replace(/\%s/,this.props.model.getDataProperty("coordinateName")));var a=this.state.showAutoCoordinate?"arrowleft":"arrowdown";return n.default.createElement("div",{className:r.default["coordinate-record"]},n.default.createElement("div",{className:r.default.coordinate,onClick:function(e){t.switchAutoCoordinate.bind(t)(e,t.props.group)}},n.default.createElement("span",null,i),n.default.createElement("span",{className:(0,l.default)(r.default.arrow,r.default[a])})),e&&e.length>0?n.default.createElement("div",{style:{display:this.state.showAutoCoordinate?"none":"block"}},e.map((function(e,i){return n.default.createElement(G,S({},e,{key:i,dispatch:t.props.dispatch,model:t.props.model}))}))):"")}},{key:"switchAutoCoordinate",value:function(t,e){this.setState({showAutoCoordinate:!this.state.showAutoCoordinate}),1==this.state.showAutoCoordinate&&this.props.dispatch((0,o.showAutoCoordinateInfo)(this.props.model,{groupid:e}))}}]),e}(n.Component),H=function(t){function e(t){var i;return T(this,e),(i=L(this,e,[t])).state={showCoordinate:!0},i}return D(e,t),x(e,[{key:"render",value:function(){var t=this,e=this.props.model.getDataProperty("coordinate_"+this.props.taskId+"_"+this.props.userId),i=(0,v.getLangMsg)({key:"ApprovalHistoryRecord.chakanxieban"}).replace(/\%s/,this.props.model.getDataProperty("coordinateName"));0==this.state.showCoordinate&&e&&e.length>0&&(i=e.length+(0,v.getLangMsg)({key:"ApprovalHistoryRecord.tiaoxiebanjianyi"}).replace(/\%s/,this.props.model.getDataProperty("coordinateName")));var a=this.state.showCoordinate?"arrowleft":"arrowdown";return n.default.createElement("div",{className:r.default["coordinate-record"]},n.default.createElement("div",{className:r.default.coordinate,onClick:function(e){t.switchCoordinate.bind(t)(e,t.props.taskId,t.props.userId)}},n.default.createElement("span",null,i),n.default.createElement("span",{className:(0,l.default)(r.default.arrow,r.default[a])})),e&&e.length>0?n.default.createElement("div",{style:{display:this.state.showCoordinate?"none":"block"}},e.map((function(e,i){return n.default.createElement(G,S({},e,{key:i,dispatch:t.props.dispatch,model:t.props.model,getFormatTime:function(e){return t.props.getFormatTime(e)}}))}))):"")}},{key:"switchCoordinate",value:function(t,e,i){if(this.setState({showCoordinate:!this.state.showCoordinate}),1==this.state.showCoordinate){var n=null!=this.props.autoCoordinate&&this.props.autoCoordinate;this.props.dispatch((0,o.showCoordinateInfo)(this.props.model,{taskid:e,userid:i,autocoordinate:n}))}}}]),e}(n.Component),G=function(t){function e(){return T(this,e),L(this,e,arguments)}return D(e,t),x(e,[{key:"render",value:function(){var t=this,e=this.props.model,i=this.props.assignee||"";(""==this.props.time||null==this.props.time)&&this.props.assignee.split(" ").length>=2&&(i=this.props.assignee.split(" ")[1].trim());var l=""==this.props.time||null==this.props.time?"inline-block":"none",a=this.props.attachments&&this.props.attachments.length>0?"block":"none",o="";this.props.showTransferRecord&&(o=n.default.createElement("div",{className:r.default.showCoordinateTransfer,onClick:function(e){t.showTransferRecord.bind(t)(e,t.props.taskId,t.props.userStr)}},n.default.createElement("span",{style:{color:"#5e80eb","margin-right":"3px",float:"right"}}," ",(0,v.getLangMsg)({key:"ApprovalHistoryRecord.zhuangjiaolishi"}).replace(/\%s/,this.props.model.getDataProperty("transferName")))));var s=e.getFormConfig(),u=(0,f.getImageUrl)(this.props.avatar,s),d=this.props.model.getDataProperty("isPC");return n.default.createElement("div",{className:r.default.coordinateRecord},n.default.createElement("div",{style:{display:"flex"}},n.default.createElement("div",{className:r.default.left},n.default.createElement("img",{className:r.default.avatar,src:""==u||null==u?c.default:u})),n.default.createElement("div",{className:r.default.right},n.default.createElement("div",{className:r.default.coordinateName,style:{marginTop:""==this.props.time||null==this.props.time?"5px":"0px"}},n.default.createElement("span",{className:r.default.coordinateName},i),n.default.createElement("span",{className:r.default.time},this.props.time),n.default.createElement("span",{className:r.default.coordinating,style:{display:l}},(0,v.getLangMsg)({key:"ApprovalHistoryRecord.zhengzaixieban"}).replace(/\%s/,this.props.model.getDataProperty("coordinateName")))),n.default.createElement("div",{className:r.default.message},(0,f.crateCoordinateInviteOpinions)(this.props)),(0,f.createSignatureApprovalRecord)(!0,d,this.props.signature))),o,n.default.createElement("div",{className:r.default.fujian,style:{display:a}},this.props.attachments&&this.props.attachments.length>0?this.props.attachments.map((function(e,i){return n.default.createElement(F,S({},e,{dispatch:t.props.dispatch,model:t.props.model,attachmentIds:t.props.state,key:i}))})):""))}},{key:"showTransferRecord",value:function(t,e,i){this.props.dispatch((0,o.showTransferRecord)(this.props.model,{taskid:e,userid:i,iscoordinate:!0}))}}]),e}(n.Component),B=function(t){function e(t){var i;return T(this,e),(i=L(this,e,[t])).state={expand:!1},i}return D(e,t),x(e,[{key:"render",value:function(){var t=[],e=this.props,i=e.children,l=e.model,a=e.dispatch;if(!i||!i.length)return t;for(var o=!1,s="",u=0;u<i.length;u++){var d=i[u];if(!o&&d.links&&d.links.length){o=!0;for(var h=0;h<d.links.length;h++){var c=d.links[h];if(c.groupName){s=c.groupName;break}}}t.push(n.default.createElement(z,{child:d,model:l,dispatch:a}))}return o?n.default.createElement("div",{className:r.default["links-panel"]},n.default.createElement("div",{className:r.default["panel-title"],onClick:this.switchExpandState.bind(this)},n.default.createElement("span",null,s||(0,v.getLangMsg)({key:"KDApprovalRecordNew.more"})),n.default.createElement("img",{src:p.default})),n.default.createElement("div",{style:{display:this.state.expand?"block":"none"}},t)):[]}},{key:"switchExpandState",value:function(){this.setState({expand:!this.state.expand})}}]),e}(n.Component),z=function(t){function e(){return T(this,e),L(this,e,arguments)}return D(e,t),x(e,[{key:"render",value:function(){var t=this,e=this.props.child;return n.default.createElement("div",{className:r.default.panel},n.default.createElement("img",{className:r.default.avatar,src:e.avatar}),n.default.createElement("div",{className:r.default.text},e.assignee),n.default.createElement("div",{className:(0,l.default)(a.default["btn-panel"],r.default.links)},(0,f.createCustomizedLinks)(e,(function(e,i){t.props.dispatch((0,o.clickCustomizeLink)(t.props.model,i))}))))}}]),e}(n.Component),F=function(t){function e(){var t;T(this,e);for(var i=arguments.length,n=new Array(i),l=0;l<i;l++)n[l]=arguments[l];return(t=L(this,e,[].concat(n))).getFileSize=function(t){return t>1048576?(Math.round(100*t/1048576)/100).toString()+"MB":(Math.round(100*t/1024)/100).toString()+"KB"},t}return D(e,t),x(e,[{key:"render",value:function(){var t="("+this.getFileSize(this.props.fileSize)+")";return n.default.createElement("div",{className:r.default.attachment,onClick:this.downloadAttachment.bind(this)},n.default.createElement("span",{className:(0,l.default)(r.default["attach-icon"],"kdfont kdfont-fujian")}),n.default.createElement("span",{className:r.default.filename,title:this.props.fileName},this.props.fileName),n.default.createElement("span",{className:r.default.filesize},t))}},{key:"downloadAttachment",value:function(){this.props.dispatch((0,o.showAttachmentInfo)(this.props.model,{attachmentid:this.props.id,downloadurl:this.props.downloadUrl,attachmentids:this.props.attachmentIds}))}}]),e}(n.Component)},645616:function(t,e,i){"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}i(182320),i(909112),i(697060),i(360776),i(743924),i(205960),i(846428),i(708896),i(606200),i(534440),i(670864),i(387912),i(836887),i(78504),i(776512),i(977864),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(297336),i(880920);var l=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=n(t)&&"function"!=typeof t)return{default:t};var i=h(e);if(i&&i.has(t))return i.get(t);var l={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if("default"!==r&&Object.prototype.hasOwnProperty.call(t,r)){var o=a?Object.getOwnPropertyDescriptor(t,r):null;o&&(o.get||o.set)?Object.defineProperty(l,r,o):l[r]=t[r]}return l.default=t,i&&i.set(t,l),l}(i(795520)),a=d(i(540900)),r=d(i(778088)),o=(d(i(783956)),i(891052)),s=i(704424),u=d(i(41340));function d(t){return t&&t.__esModule?t:{default:t}}function h(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,i=new WeakMap;return(h=function(t){return t?i:e})(t)}function c(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,p(n.key),n)}}function p(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var l=i.call(t,e||"default");if("object"!=n(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:String(e)}function f(t,e,i){return e=y(e),function(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,g()?Reflect.construct(e,i||[],y(t).constructor):e.apply(t,i))}function g(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(g=function(){return!!t})()}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}function m(t,e){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},m(t,e)}var v=function(t){function e(t){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=f(this,e,[t])).state={time:""},i}var i,n,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m(t,e)}(e,t),i=e,(n=[{key:"componentWillReceiveProps",value:function(t){t&&t.billSummaryInfo&&t.billSummaryInfo.time&&this.setState({time:t.billSummaryInfo.time})}},{key:"shouldComponentUpdate",value:function(t,e){return!(0,o.is)(this.state.time,e.time)}},{key:"render",value:function(){var t=this,e=(0,o.fromJS)({type:"bill",place:"left",link:!1,billno:"***",showIcon:!0,iconClassName:"***"}),i=this.props.config&&"wf_viewflowchartmobile"==this.props.config.formId?"none":"flex";return l.default.createElement("div",{ref:"billSummaryInfo",className:r.default.billSummaryInfo,style:{display:i}},l.default.createElement(u.default,{ref:"billSummaryInfotip",tips:e,showFormByTips:function(e,i){return dispatch((0,s.showFormByTips)(t.context.model.pageId,t.context.model.key,e,i,"click"))}}))}},{key:"componentWillUpdate",value:function(t,e){if(e&&e.time&&t.container&&t.billSummaryInfo){var i={height:t.container.offsetHeight,type:"billSummary",procInstId:t.billSummaryInfo.procInstId,historicActivityInstanceId:t.billSummaryInfo.historicActivityInstanceId},n=JSON.stringify(i);this.context.dispatch((0,s.showFormByTips)(this.context.model.pageId,this.context.model.key,n,this.refs.billSummaryInfotip.uuid,"hover"))}}}])&&c(i.prototype,n),a&&c(i,a),Object.defineProperty(i,"prototype",{writable:!1}),e}(l.Component);v.contextTypes={dispatch:a.default.func,invokeAction:a.default.func,model:a.default.object};e.default=v},48384:function(t,e,i){"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}i(182320),i(909112),i(697060),i(360776),i(743924),i(205960),i(846428),i(708896),i(606200),i(534440),i(670864),i(387912),i(836887),i(78504),i(776512),i(977864),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(9692),i(297336),i(76124),i(880920),i(633768),i(513640),i(86744);var l=C(i(795520)),a=w(i(540900)),r=w(i(603480)),o=w(i(790832)),s=C(i(891052)),u=w(i(742288)),d=w(i(409988)),h=w(i(536684)),c=w(i(164460)),p=w(i(886136)),f=w(i(790448)),g=w(i(831628)),y=i(852848),m=i(303528),v=i(384904),E=w(i(172636)),b=w(i(53928)),S=i(331428);function w(t){return t&&t.__esModule?t:{default:t}}function A(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,i=new WeakMap;return(A=function(t){return t?i:e})(t)}function C(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=n(t)&&"function"!=typeof t)return{default:t};var i=A(e);if(i&&i.has(t))return i.get(t);var l={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if("default"!==r&&Object.prototype.hasOwnProperty.call(t,r)){var o=a?Object.getOwnPropertyDescriptor(t,r):null;o&&(o.get||o.set)?Object.defineProperty(l,r,o):l[r]=t[r]}return l.default=t,i&&i.set(t,l),l}function T(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,M(n.key),n)}}function M(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var l=i.call(t,e||"default");if("object"!=n(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:String(e)}function x(t,e,i){return e=L(e),function(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return N(t)}(t,I()?Reflect.construct(e,i||[],L(t).constructor):e.apply(t,i))}function I(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(I=function(){return!!t})()}function L(t){return L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},L(t)}function N(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O(t,e){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},O(t,e)}var D=function(t){function e(t){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=x(this,e,[t])).graphXml="",i.graphJson="",i.time="";var n=t.editorUi.editor.graph;return n.addListener(m.EVENT.FOLD_CELLS,i.foldCells.bind(N(i))),n.addListener(m.EVENT.AFTER_FOLD_CELLS,i.afterFoldCells.bind(N(i))),i}var i,n,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O(t,e)}(e,t),i=e,(n=[{key:"componentWillReceiveProps",value:function(t){var e=this,i=t.initialData,n=t.editorUi,l=n.editor.graph;if(i&&(l.flowType=i.flowType,(0,v.isBizFlow)(l.flowType)?this.refs.container.style.backgroundColor="#F9FBFF":this.refs.container.style.backgroundColor="#FFFFFF"),i){var a=i.graph_xml&&!o.default.isEqual(i.graph_xml,this.graphXml),r=i.graph_json&&!o.default.isEqual(i.graph_json,this.graphJson);if(a||r){var d=this.props.editorUi.editor,h=i.animation,c=this.props.config.formId;if(r&&i.isBillRelationGraph){var p=i.graph_json;this.initTreeLayoutGraph(l,p,!0),this.graphJson=p,this.graphXml=null}else{"bpm_billrelation_graph"==c&&l.resetStylesheet();var f=i.graph_xml,g=u.default.parseXml(f);d.setGraphXml(g.documentElement,this.props.config.formId),this.graphXml=f,this.graphJson=null}if(d.setModified(!1),d.undoManager.clear(),this.props.refreshEditor(),a){i.selected_cellId?(0,y.selectNode)(l,i.selected_cellId):(0,y.selectProcess)(l);var m=i.autoSizeCellId;if(m){var E=l.getModel().getCell(m);l.isAutoSizeCell(E)&&l.autoSizeCell(E,!1)}}this.props.showLoading(!1),this.reloadGraph(l),h&&n.actions.get("animation").funct(h)}}var b=t.subProcData;b&&!(0,s.is)(this.props.subProcData,b)&&this.showSubProcess(l,b),i&&i.time&&!o.default.isEqual(i.time,this.time)&&(this.props.resetApprovalRecords(),setTimeout((function(){e.props.refreshEditor(!0,!1)}),0),this.time=i.time)}},{key:"switchLayout",value:function(t,e){this.props.showLoading(!0),this.initTreeLayoutGraph(t,null,e),this.props.showLoading(!1)}},{key:"initTreeLayoutGraph",value:function(t,e,i){var n=t.getModel(),l=t.getStylesheet().getDefaultEdgeStyle();l[f.default.STYLE_ROUNDED]=!0,l[f.default.STYLE_STROKEWIDTH]=2,l[f.default.STYLE_STROKECOLOR]="#a1cfff",l[f.default.STYLE_EXIT_X]=i?1:.5,l[f.default.STYLE_EXIT_Y]=i?.5:1,l[f.default.STYLE_EXIT_PERIMETER]=0,l[f.default.STYLE_ENTRY_X]=i?0:.5,l[f.default.STYLE_ENTRY_Y]=i?.5:0,l[f.default.STYLE_ENTRY_PERIMETER]=0,l[f.default.STYLE_EDGE]=p.default.OrthConnector,l.strokeColor_important="#a1cfff",t.horizontalLayout=i;try{t.initializing=!0,this.props.editorUi.editor.resetGraph(),n.clear();var a={},r=[],o={};n.beginUpdate();try{e=e||this.props.initialData.graph_json;var s=JSON.parse(e).root;if(s){var u=this.insertGraphCell(t,s,r,a,o);s.virtual&&r.push(u)}}finally{n.endUpdate()}if(r.length){n.beginUpdate();try{t.removeCells(r)}finally{n.endUpdate()}}n.beginUpdate();try{var d=t.getDefaultParent();for(var h in o){var c=n.getCell(h),g=o[h],y=g.info,m=y.datas||{},v=g.targets;for(var E in v){var b=v[E],S=this.getEdgeOptimalStyle(i,c,b),w=t.insertEdge(d,null,"",c,b,S);if(d.insert(w,0),null==S){var A={status:y.status,plugin:y.stausPlugin,entityNumber:m.entityNumber,businessKey:m.businessKey};a[w.id]=A}}}}finally{n.endUpdate()}n.beginUpdate();try{for(var C in a){var T=n.getCell(C);if(T){var M=a[C];this.insertEdgeIcon(i,t,T,M)}}}finally{n.endUpdate()}var x=t.container,I=t.getGraphBounds();x.scrollLeft=I.x+I.width/2-x.clientWidth/2,x.scrollTop=I.y+I.height/2-x.clientHeight/2}finally{t.initializing=!1}}},{key:"getEdgeOptimalStyle",value:function(t,e,i){var n=e.geometry,l=i.geometry,a=n.x,r=n.y,o=l.x,s=l.y,u=n.width,d=n.height;return t?o>a&&o-(a+u)<=80?null:s==r?"exitX=0.5;exitY=1;entryX=0.5;entryY=1;":s>r?"exitX=0.5;exitY=1;entryX=0.5;entryY=0;":"exitX=0.5;exitY=0;entryX=0.5;entryY=1;":s>r&&s-(r+d)<=80?null:o==a?"exitX=1;exitY=0.5;entryX=1;entryY=0.5;":o>a?"exitX=1;exitY=0.5;entryX=0;entryY=0.5;":"exitX=0;exitY=0.5;entryX=1;entryY=0.5;"}},{key:"insertEdgeIcon",value:function(t,e,i,n){var l=i.source,a=i.target,r=-12,o=-12;if(l&&a){var s=l.geometry,u=a.geometry;if(t){var d=s.x+s.width,h=s.y+s.height/2;r=(d-u.x)/4-12,o=(h-(u.y+u.height/2))/2-12}else{var p=s.x+s.width/2,f=s.y+s.height;r=(p-(u.x+u.width/2))/2-12,o=(f-u.y)/4-12}}var g="",y="";"underway"==n.status?(g="IconUnderway",y=(0,S.getLangMsg)({key:"WFDiagram.edgeIconUnderwayTip"})):(g="IconComplete",y=(0,S.getLangMsg)({key:"WFDiagram.edgeIconCompleteTip"}));var m=e.insertVertex(i,"".concat(i.id,"_child"),null,0,0,24,24,"shape=ierp.billrelation.".concat(g,";"),!0);m.geometry.offset=new c.default(r,o),m.properties.plugin=n.plugin,m.properties.entityNumber=n.entityNumber,m.properties.businessKey=n.businessKey,m.properties.title=y}},{key:"insertGraphCell",value:function(t,e,i,n,l){var a=t.getDefaultParent(),r=t.insertVertex(a,e.cellId,e.text,null,null,216,132,"shape=".concat(e.type,";whiteSpace=wrap;spacingLeft=50;spacingRight=10;overflow=hidden;resizable=0;"));r.type=e.type,r.properties=o.default.assign({},r.properties,e.datas),e.current&&(t.insertVertex(r,"".concat(e.cellId,"_child"),null,0,0,32,32,"shape=ierp.billrelation.Location",!0).geometry.offset=new c.default(-16,-16));var s=e.targets,u=t.getModel(),d=(s&&s.length,null);for(var h in s){var p=s[h],f=u.getCell(p.cellId);if(f){var g=l[r.id];g||(g={info:e,targets:[]},l[r.id]=g),g.targets.push(f)}else{f=this.insertGraphCell(t,p,i,n,l),p.virtual&&i.push(f);var y=t.insertEdge(a,null,"",r,f);y.geometry.x=1,y.geometry.y=0,d="".concat(y.id)}}if(d){var m=e.datas||{};n[d]={status:e.status,plugin:e.stausPlugin,entityNumber:m.entityNumber,businessKey:m.businessKey}}return r}},{key:"shouldComponentUpdate",value:function(t,e){return!(!this.props.initialData||!t.initialData)&&this.props.initialData.isBillRelationGraph!=t.initialData.isBillRelationGraph}},{key:"render",value:function(){var t=this,e={flexGrow:"1"};this.props.editable||(e.position="relative");var i=this.props.editorUi.editor.graph,n=this.props.initialData&&this.props.initialData.isBillRelationGraph;return l.default.createElement("div",{style:e},l.default.createElement("div",{ref:"container",id:"diagram",className:r.default.geDiagramContainer,style:{position:"absolute"}}),l.default.createElement(g.default,{graph:i,isBillRelationGraph:n,actions:this.props.editorUi.actions,config:this.props.config,showLoading:this.props.showLoading,clicked:function(){t.floatToolBarClicked()},switchLayout:function(e){t.switchLayout(i,e)}}),l.default.createElement("img",{ref:"shrink",onClick:this.shrink.bind(this),style:{position:"absolute",top:"30px",right:"30px",zIndex:1,cursor:"pointer",display:"none",transform:"rotate(-180deg)"},src:m.ICON_RETRACT}))}},{key:"shrink",value:function(){var t=this.context.model,e=t.getFormConfig(),i=this.props.editorUi.editor.graph.getSelectionCell();this.toggleConfigurePanel(t.pageId,!1),this.context.invokeAction(t,"handleEvent",[e.formId,"expandedConfigurePanel",{type:i.getType(),itemId:i.getId()}])}},{key:"componentDidMount",value:function(){var t=this,e=this.context.model;e.sub_Event("shrinkConfigurePanel",(function(){t.toggleConfigurePanel(e.pageId,!0)}));var i=this.props.editorUi.editor.graph;!1===this.props.editable&&this.addMouseListener(i,e)}},{key:"addMouseListener",value:function(t,e){"bpm_billrelation_graph"==this.props.config.formId&&(this.cardListener=new b.default(t,(function(t,i){e.sub_Event(t,i)})),t.addMouseListener(this.cardListener))}},{key:"toggleConfigurePanel",value:function(t,e){var i=this;this.refs.shrink.style.display=e?"block":"none";var n=document.querySelector('div[id="'.concat(t,'"] div#').concat(m.CONFIG_PANEL_ID));n&&(n.style.display=e?"none":"flex"),setTimeout((function(){i.props.refreshEditor()}),0)}},{key:"foldCells",value:function(t,e){var i=e.properties.cells;if(i.length){var n=i[0];if(!0===n.isContainable()&&!1===n.isCollapsed()){var l=this.props.subProcData,a=n.getProperty("subProcessId"),r=l&&l.get(m.CURRENT_SUBPROCESS_ID)!==a;if(!n.children||!n.children.length||r){if(r){var o=t.model;try{o.beginUpdate(),n.children=[]}finally{o.endUpdate()}}this.loadSubProcess(a,n.getId())}}}}},{key:"afterFoldCells",value:function(t,e){var i=this.props.activatedCell;if(i){var n=t.container.querySelector("svg #drawPane").querySelector("#".concat(t.getModel().getCell(i.get("id")).mxObjectId));n&&!n.classList.contains(r.default.activatedCell)&&n.classList.add(r.default.activatedCell);var l=e.properties.cells,a=null;l&&l.length&&t.isAutoSizeCell(a=l[0])&&!1===a.isCollapsed()&&a.autoSizeWhenFirst&&(delete a.autoSizeWhenFirst,t.autoSizeCell(a,!1))}}},{key:"showSubProcess",value:function(t,e){var i=t.model,n=e.toJS(),l=n[m.CURRENT_SUBPROCESS_KEY],a=n[l];if(a){a=a.replace(/"node_1"/g,'"'.concat(l,'"'));var r=u.default.parseXml(a).documentElement,o=new h.default(r.ownerDocument),s=new d.default;o.decode(r,s);var c=s.getBPMNRoot().children;if(c&&c.length){var p=i.getCell(l);p.geometry;try{i.beginUpdate();for(var g=c.length,y=null,v=null,E=null,b=null,S=0;S<g;S++)E=(y=c[S]).geometry,"StartSignalEvent"===y.type&&(b=f.default.DEFAULT_STARTSIZE-E.y),(null==v||v.width<E.width)&&(v=E);for(var w=f.default.DEFAULT_SWIMLANE_PADDING-v.x;g--;)E=(y=c[0]).geometry,y.geometry.translate(w,b),i.add(p,y)}finally{i.endUpdate()}t.isAutoSizeCell(p)&&t.autoSizeCell(p,!1)}}}},{key:"loadSubProcess",value:function(t,e){if(t){var i=this.context.model,n={subProcessId:t,id:e,formId:i.getFormConfig().formId};n[m.INITCLASS]="kd.bos.workflow.design.subprocess.WorkflowSubProcessInit",this.context.invokeAction(i,"loadSubProcessData",["",n])}}},{key:"reloadGraph",value:function(t){this.cardListener&&this.cardListener.reset(t)}},{key:"floatToolBarClicked",value:function(){if(this.cardListener){var t=this.props.editorUi.editor.graph,e=new E.default;this.cardListener.mouseDown(t,e)}}}])&&T(i.prototype,n),a&&T(i,a),Object.defineProperty(i,"prototype",{writable:!1}),e}(l.Component);D.contextTypes={invokeAction:a.default.func,model:a.default.object};e.default=D},264948:function(t,e,i){"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}i(182320),i(909112),i(697060),i(360776),i(622676),i(205960),i(846428),i(708896),i(969e3),i(606200),i(534440),i(76152),i(670864),i(836887),i(776512),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(9692),i(233696),i(241872),i(743924),i(820444),i(693917),i(927184),i(297336),i(336368),i(76124),i(880920),i(387912),i(23544),i(571176),i(763600),i(633768),i(690512),i(78504),i(513640),i(321164),i(997308),i(977864),i(86744),i(187064),i(323368);var l=st(i(795520)),a=st(i(540900)),r=st(i(478364)),o=i(303528),s=st(i(48384)),u=st(i(127360)),d=st(i(632688)),h=i(251536),c=i(29804),p=i(331428),f=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=n(t)&&"function"!=typeof t)return{default:t};var i=ot(e);if(i&&i.has(t))return i.get(t);var l={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if("default"!==r&&Object.prototype.hasOwnProperty.call(t,r)){var o=a?Object.getOwnPropertyDescriptor(t,r):null;o&&(o.get||o.set)?Object.defineProperty(l,r,o):l[r]=t[r]}return l.default=t,i&&i.set(t,l),l}(i(84112)),g=(i(791624),i(330936)),y=st(i(470284)),m=(i(891052),st(i(790832)),st(i(447876))),v=st(i(257528)),E=st(i(304209)),b=st(i(222624)),S=st(i(736616)),w=st(i(180800)),A=st(i(300511)),C=st(i(354352)),T=st(i(22676)),M=st(i(993304)),x=st(i(479024)),I=st(i(139792)),L=st(i(220196)),N=st(i(39864)),O=st(i(17208)),D=st(i(540888)),R=st(i(995048)),_=st(i(630160)),P=st(i(370608)),k=st(i(897508)),H=st(i(786715)),G=st(i(956392)),B=st(i(247644)),z=st(i(242712)),F=st(i(911484)),V=st(i(250688)),U=st(i(164460)),Y=st(i(11131)),j=st(i(790448)),W=st(i(498096)),Z=st(i(742288)),X=st(i(132448)),Q=st(i(280908)),J=st(i(146880)),K=st(i(293792)),q=st(i(72644)),$=st(i(668624)),tt=st(i(603480)),et=i(852848),it=st(i(168904)),nt=st(i(645616)),lt=(i(704424),st(i(41340)),i(384904)),at=i(674260),rt=i(868256);function ot(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,i=new WeakMap;return(ot=function(t){return t?i:e})(t)}function st(t){return t&&t.__esModule?t:{default:t}}function ut(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function dt(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ut(Object(i),!0).forEach((function(e){ht(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ut(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function ht(t,e,i){return(e=pt(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function ct(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pt(n.key),n)}}function pt(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var l=i.call(t,e||"default");if("object"!=n(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:String(e)}function ft(t,e,i){return e=yt(e),function(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return mt(t)}(t,gt()?Reflect.construct(e,i||[],yt(t).constructor):e.apply(t,i))}function gt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(gt=function(){return!!t})()}function yt(t){return yt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},yt(t)}function mt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vt(t,e){return vt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},vt(t,e)}var Et=function(t){function e(t){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=ft(this,e,[t])).state={initialData:{}},N.default.call(mt(i)),i.destroyFunctions=[],W.default.prototype.gridEnabled=!1,i.editor=new E.default(null,null,null,null,i.props.config.formId);var n=i.editor.graph;return n.lightbox=null,!1===i.props.editable&&n.setEnabled(!1),n.cellRenderer.forceControlClickHandler=!0,n.isCellFoldable=function(t){var e=this.view.getState(t);return 1==(null!=e?e.style:this.getCellStyle(t))[j.default.STYLE_FOLDABLE]},n.model.getStyle=function(t){if(!t)return null;var e=t.style;if(!0!==t.isContainable())return e;var i={align:"left",fillColor:"#44A6F8",fontColor:"#FFFFFF",rounded:1},l={shape:t.getShape(),spacingLeft:50,strokeColor:"#BBBBBB"},a=function(t,e){for(var i in e)t=t.replace(new RegExp("(".concat(i,"=)[#\\w]+;"),"g"),"$1".concat(e[i],";"));return t};return e=n.isCellCollapsed(t)?a(function(t){for(var e in i)t=t.replace(new RegExp("".concat(e,"=[#\\w]+;"),"g"),"");return t}(e),l):a(function(t){for(var e in i)t=t.replace(new RegExp("".concat(e,"=[#\\w]+;"),"g"),"")+"".concat(e,"=").concat(i[e],";");return t}(e),{shape:"swimlane",spacingLeft:20,strokeColor:"#4D9AF3"})},T.default.IS_SVG?A.default.prototype.submenuImage="data:image/gif;base64,R0lGODlhCQAJAIAAAP///zMzMyH5BAEAAAAALAAAAAAJAAkAAAIPhI8WebHsHopSOVgb26AAADs=":(new Image).src=A.default.prototype.submenuImage,T.default.IS_SVG||null==w.default.prototype.connectImage||((new Image).src=w.default.prototype.connectImage.src),i.editor.chromeless&&(n.isEnabled=function(){return!1},n.panningHandler.isForcePanningEvent=function(t){return!P.default.isPopupTrigger(t.getEvent())}),i.actions=new O.default(mt(i)),i.menus=i.createMenus(),i.loadingTimer=null,i}var i,n,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vt(t,e)}(e,t),i=e,n=[{key:"getChildContext",value:function(){return{notifyMsg:y.default.bind(null,this.context.model.pageId)}}},{key:"componentWillReceiveProps",value:function(t){var e=t.initialData;this.setState({initialData:e}),e&&(window.resourceVersion=e.version),null===this.props.initialData&&e&&e.isBillRelationGraph&&this.afterLoadInitData()}},{key:"afterLoadInitData",value:function(){var t=this.props.config,e=t.clientParams;if(e&&Object.keys(e).length){var i=this.context.model,n=Object.assign({key:i.key},e);this.context.invokeAction(i,"afterLoadData",[t.formId,n])}}},{key:"componentWillUnmount",value:function(){this.removeValidateEventListener&&this.removeValidateEventListener()}},{key:"render",value:function(){var t=this.props.editable,e={display:"flex",width:"100%",flexGrow:1,backgroundColor:"#E2E7EF"};T.default.IS_FF||T.default.IS_EDGE?e.height="100%":(e.maxHeight="100%",e.minHeight="100%");var i=l.default.createElement("div",{style:{display:"flex",flexDirection:"column",flexGrow:"1",height:"100%",backgroundColor:"#E2E7EF"}},l.default.createElement(m.default,{showRecords:this.props.ui.get("showApprovalRecords"),activatedCell:this.props.ui.get("activatedCell"),approvalRecords:this.props.approvalRecords,coordinateRecords:this.props.coordinateRecords,refreshEditor:this.refresh.bind(this),initialData:this.state.initialData,config:this.props.config}),l.default.createElement(v.default,{model:this.context.model})),n=l.default.createElement("div",{ref:"right",className:"ui-right",style:{display:"flex",flexDirection:"column",flexShrink:"0",flexGrow:"0",backgroundColor:"#F2F2F5"}},!1===t?i:null);return l.default.createElement("div",{ref:"container",className:"ui-content",style:e},l.default.createElement(s.default,{ref:"diagram",editorUi:this,resetApprovalRecords:this.resetApprovalRecords.bind(this),selected_control:this.props.ui.get("selected_control"),setSelectControl:this.props.setSelectControl,initialData:this.state.initialData,subProcData:this.props.subProcData,refreshEditor:this.refresh.bind(this),showLoading:this.showLoading.bind(this),editable:t,config:this.props.config,ui:this.props.ui}),l.default.createElement(nt.default,{billSummaryInfo:this.props.billSummaryInfo,container:this.refs.container,config:this.props.config}),l.default.createElement(it.default,{showFloatLayer:this.props.ui.get("showFloatLayer"),updateFloatLayer:this.props.ui.get("updateFloatLayer"),initialData:this.props.initialData}),n,l.default.createElement("div",{ref:"loading",className:d.default["wait-load-data"],style:{opacity:.8,backgroundColor:"#FFF"}},l.default.createElement(u.default,null)))}},{key:"loadInitData",value:function(){var t=this.props.config,e=t.clientParams;if(e&&Object.keys(e).length){var i=this.context.model,n=Object.assign({key:i.key},e);this.context.invokeAction(i,"loadData",[t.formId,n])}}},{key:"componentDidUpdate",value:function(){this.props.initialData&&this.props.initialData.updateProcInstId&&this.editor.graph.sizeDidChange()}},{key:"getInvokeCustomEventFunc",value:function(){var t=this.context.model,e=t.getFormConfig(),i=this.context.invokeAction;return function(n,l){i(t,"handleEvent",[e.formId,n,l])}}},{key:"componentDidMount",value:function(){var t=this;this.loading=this.refs.loading;var e=document.querySelector('div[id="'.concat(this.context.model.pageId,'"]'));e&&e.appendChild(this.loading);var i=this.editor.graph;i.invokeCustomEvent=this.getInvokeCustomEventFunc(),this.loadInitData(),this.removeValidateEventListener=(0,at.addDataChangeListener)(rt.KEY_VALIDATE_EVENT,(function(e){var i=e.pageId;(void 0===i?"":i)===t.context.model.pageId&&t.save.bind(t)()}));var n=this.context.model,l=this.context.dispatch,a=n.pageId;i.pageId=a,n.sub_Event("addNodeToDiagram",(function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[])[0].forEach((function(e){var i=e.baseType,n=e.type,l=e.template,a=e.style,r=e.value,o=e.containable;t.addCellsFromSidebar(i,n,l,a,r,o)}))})),n.sub_Event("exportImage",(function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[])[0].forEach((function(e){var i=e.fileName;t.exportImage(i)}))})),n.sub_Event("updateProperty",(function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[])[0].forEach((function(t){var e=t.itemId,n=t.group,l=t.property,r=t.value,o=i.model,s=o.getCell(e);s.setOriginPageId(a),s&&o.setProperty(s,n||"base",l,r,null)}))})),n.sub_Event("deleteProperty",(function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[])[0].forEach((function(t){var e=t.itemId,n=t.property,l=i.model.getCell(e),a=l&&l.properties;if(a){var r=n.split(".");if(r.length>1){var o=a[r[0]];o&&delete o[r[1]]}else delete a[n]}}))})),n.sub_Event("updatePageCount",(function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[])[0].forEach((function(e){e.increment?i.configurePageCount++:0==--i.configurePageCount&&t.showLoading(!1)}))})),n.sub_Event("showBlock",(function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[])[0].forEach((function(e){t.showLoading(e.block)}))})),n.sub_Event("close",(function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[])[0].forEach((function(t){delete window.editors[t.pageId]}))})),n.sub_Event("selectProcess",(function(){i.clearSelection(),(0,et.selectProcess)(i)})),n.sub_Event("selectNode",(function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[])[0].forEach((function(t){i.clearSelection(),(0,et.selectNode)(i,t.cellId)}))})),n.sub_Event("changeStyle",(function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[])[0].forEach((function(t){var e=t.itemId,n=t.newStyle,l=i.getModel().getCell(e);i.setCellStyle(X.default.trim(n),[l])}))})),n.sub_Event("print",(function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[])[0].forEach((function(t){console&&t.json}))})),n.sub_Event("paste",(function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[])[0],t.clipboardPaste(i,!0)})),this.container=this.refs.container||document.body,this.diagramContainer=this.refs.diagram.refs.container,this.rightContainer=this.refs.right,i.getSelectionModel().addListener(o.EVENT.CHANGE,this.update.bind(this)),i.addListener(o.EVENT.AFTER_DELETE_CELLS,this.afterDeleteCellsListener.bind(this)),i.addListener(o.EVENT.REMOVE_CELLS,this.removeCellsListener.bind(this)),i.addListener(P.default.PASTE_CELLS,this.pasteCellsListener.bind(this)),i.addListener(P.default.SPLIT_EDGE,this.splitEdgeListener.bind(this)),i.addListener(P.default.MOVE_CELLS,this.moveCellsListener.bind(this));var r=Z.default.bind(this,(function(t){return null==t&&(t=window.event),!!this.isSelectionAllowed(t)||i.isEditing()}));this.editor.chromeless?i.panningHandler.usePopupTrigger=!1:T.default.IS_IE&&(void 0===document.documentMode||document.documentMode<9)?P.default.addListener(this.diagramContainer,"contextmenu",r):this.diagramContainer.oncontextmenu=r;var s=this.props.config.clientParams||{},u=s.isBillRelationGraph,d=i.fireEvent;i.fireEvent=Z.default.bind(i,(function(){!0!==i.initializing&&d.apply(this,arguments)}));var f=s.serverRender;u&&!f&&(i.initLayoutManager=Z.default.bind(i,(function(){var t=new q.default(this,!0);t.useBoundingBox=!1,t.edgeRouting=!1,t.levelDistance=60,t.nodeDistance=20,t.resetEdges=!1,t.isVertexMovable=function(t){return!0},new $.default(this).getLayout=function(e){if(e.getChildCount()>0)return t.horizontal=null!=i.horizontalLayout?i.horizontalLayout:t.horizontal,t}}))),i.init(this.diagramContainer),i.cellRenderer.initializeLabel=function(t,e){G.default.prototype.initializeLabel.apply(this,arguments),P.default.addListener(e.node,"click",(function(t){for(var i=P.default.getSource(t);null!=i&&i!=e.node;){if("A"==i.nodeName){null==i.getAttribute("target")&&null!=i.getAttribute("href")&&(window.open(i.getAttribute("href")),P.default.consume(t));break}i=i.parentNode}}))},i.graphHandler.moveCells=function(t,e,i,n,r,o){var s,u=!0;if(r&&t&&t.length)for(var d=0;d<t.length;d++){var f=t[d];if(("Pool"==r.type||"Lane"==r.type)&&Z.default.isBoundaryEvent(f.type)){u=!1;break}if("Pool"==r.type&&"Lane"!=f.type){s=(0,p.getLangMsg)({key:"WFEditorUi.moveElementToPoolTip"}),u=!1;break}}if(u)S.default.prototype.moveCells.apply(this,arguments);else if(s){var g={p:[{duration:3e3,type:2,content:s}],a:c.SHOW_NOTIFICATION_MESSAGE};(0,h.doPostActions)(a,[g],l)}},this.hoverIcons=this.createHoverIcons(),P.default.addListener(this.diagramContainer,"mousemove",Z.default.bind(this,(function(t){var e=X.default.getOffset(this.diagramContainer);P.default.getClientX(t)-e.x-this.diagramContainer.clientWidth>0||P.default.getClientY(t)-e.y-this.diagramContainer.clientHeight>0?this.diagramContainer.setAttribute("title",Y.default.get("panTooltip")):this.diagramContainer.removeAttribute("title")})));var g=!1,y=this.hoverIcons.isResetEvent;this.hoverIcons.isResetEvent=function(t,e){return g||y.apply(this,arguments)},this.keydownHandler=Z.default.bind(this,(function(t){32==t.which?(g=!0,this.hoverIcons.reset(),i.container.style.cursor="move",i.isEditing()||P.default.getSource(t)!=i.container||P.default.consume(t)):P.default.isConsumed(t)||27!=t.keyCode||this.hideDialog()})),P.default.addListener(document,"keydown",this.keydownHandler),this.keyupHandler=Z.default.bind(this,(function(t){i.container.style.cursor="",g=!1})),P.default.addListener(document,"keyup",this.keyupHandler);var m=i.panningHandler.isForcePanningEvent;i.panningHandler.isForcePanningEvent=function(t){return m.apply(this,arguments)||g||P.default.isMouseEvent(t.getEvent())&&(this.usePopupTrigger||!P.default.isPopupTrigger(t.getEvent()))&&(!P.default.isControlDown(t.getEvent())&&P.default.isRightMouseButton(t.getEvent())||P.default.isMiddleMouseButton(t.getEvent()))};var v=i.cellEditor.isStopEditingEvent;i.cellEditor.isStopEditingEvent=function(t){return v.apply(this,arguments)||13==t.keyCode&&P.default.isControlDown(t)};var E=this,b=i.cellEditor.startEditing;i.cellEditor.startEditing=function(){if(b.apply(this,arguments),i.cellEditor.isContentEditing()){var t=!1,e=function(){t||(t=!0,window.setTimeout((function(){for(var e=i.getSelectedElement();null!=e&&e.nodeType!=j.default.NODETYPE_ELEMENT;)e=e.parentNode;if(null!=e){var n=X.default.getCurrentStyle(e);if(null!=n&&null!=E.toolbar){var l=n.fontFamily;"'"==l.charAt(0)&&(l=l.substring(1)),"'"==l.charAt(l.length-1)&&(l=l.substring(0,l.length-1))}}t=!1}),0))};P.default.addListener(i.cellEditor.textarea,"input",e),P.default.addListener(i.cellEditor.textarea,"touchend",e),P.default.addListener(i.cellEditor.textarea,"mouseup",e),P.default.addListener(i.cellEditor.textarea,"keyup",e),e()}};var w=i.cellEditor.stopEditing;i.cellEditor.stopEditing=function(t,e){w.apply(this,arguments)},i.container.setAttribute("tabindex","0"),i.container.style.cursor="default",window.self===window.top&&null!=i.container.parentNode&&i.container.focus();var A=i.fireMouseEvent;i.fireMouseEvent=function(t,e,i){t==P.default.MOUSE_DOWN&&this.container.focus(),A.apply(this,arguments)},i.popupMenuHandler.autoExpand=!0,null!=this.menus&&(i.popupMenuHandler.factoryMethod=Z.default.bind(this,(function(t,e,i){this.menus.createPopupMenu(t,e,i)}))),P.default.addGestureListeners(document,Z.default.bind(this,(function(t){i.popupMenuHandler.hideMenu()}))),this.keyHandler=this.createKeyHandler(this.editor),this.getKeyHandler=function(){return this.keyHandler};var C=["rounded","shadow","glass","dashed","dashPattern","comic","labelBackgroundColor"],M=["shape","edgeStyle","curved","rounded","elbow","comic"];this.setDefaultStyle=function(t){var e=i.view.getState(t);if(null!=e){var n=t.clone();n.style="";var l=i.getCellStyle(n),a=[],r=[];for(var o in e.style)l[o]!=e.style[o]&&(a.push(e.style[o]),r.push(o));for(var s=i.getModel().getStyle(e.cell),u=null!=s?s.split(";"):[],d=0;d<u.length;d++){var h=u[d],c=h.indexOf("=");if(c>=0){o=h.substring(0,c);var p=h.substring(c+1);null!=l[o]&&"none"==p&&(a.push(p),r.push(o))}}i.getModel().isEdge(e.cell)?i.currentEdgeStyle={}:i.currentVertexStyle={},this.fireEvent(new R.default("styleChanged","keys",r,"values",a,"cells",[e.cell]))}},this.clearDefaultStyle=function(){i.currentEdgeStyle=i.defaultEdgeStyle,i.currentVertexStyle={},this.fireEvent(new R.default("styleChanged","keys",[],"values",[],"cells",[]))};for(var x=["fontFamily","fontSize","fontColor"],I=["edgeStyle","startArrow","startFill","startSize","endArrow","endFill","endSize","jettySize","orthogonalLoop"],L=[["startArrow","startFill","startSize","endArrow","endFill","endSize","jettySize","orthogonalLoop"],["strokeColor","strokeWidth"],["fillColor","gradientColor"],x,["align"],["html"]],N=0;N<L.length;N++)for(var O=0;O<L[N].length;O++)C.push(L[N][O]);for(N=0;N<M.length;N++)C.push(M[N]);var D=function(t,e){i.getModel().beginUpdate();try{var n=null;if(e)for(var l=(u=i.getModel().isEdge(n))?i.currentEdgeStyle:i.currentVertexStyle,a=["fontSize","fontFamily","fontColor"],r=0;r<a.length;r++){var o=l[a[r]];null!=o&&i.setCellStyles(a[r],o,t)}else for(var s=0;s<t.length;s++){n=t[s];var u,d=i.getModel().getStyle(n),h=null!=d?d.split(";"):[],c=C.slice();for(r=0;r<h.length;r++){var p=h[r],f=p.indexOf("=");if(f>=0){var g=p.substring(0,f),y=X.default.indexOf(c,g);y>=0&&c.splice(y,1);for(var m=0;m<L.length;m++){var v=L[m];if(X.default.indexOf(v,g)>=0)for(var E=0;E<v.length;E++){var b=X.default.indexOf(c,v[E]);b>=0&&c.splice(b,1)}}}}for(l=(u=i.getModel().isEdge(n))?i.currentEdgeStyle:i.currentVertexStyle,r=0;r<c.length;r++){var S=l[g=c[r]];null==S||"shape"==g&&!u||(!u||X.default.indexOf(M,g)<0)&&i.setCellStyles(g,S,[n])}}}finally{i.getModel().endUpdate()}};if(i.addListener("cellsInserted",(function(t,e){D(e.getProperty("cells")),E.insertCellsListener(e)})),i.addListener("textInserted",(function(t,e){D(e.getProperty("cells"),!0)})),i.connectionHandler.addListener(P.default.CONNECT,(function(t,e){var i=[e.getProperty("cell")];e.getProperty("terminalInserted")&&i.push(e.getProperty("terminal")),D(i),E.connectListener(e)})),i.addListener(P.default.CONNECT_CELL,(function(t,e){E.connectListener(e)})),this.addListener("styleChanged",Z.default.bind(this,(function(t,e){var n=e.getProperty("cells"),l=!1,a=!1;if(n.length>0)for(var r=0;r<n.length&&(l=i.getModel().isVertex(n[r])||l,!(a=i.getModel().isEdge(n[r])||a)||!l);r++);else l=!0,a=!0;var s=e.getProperty("keys"),u=e.getProperty("values");for(r=0;r<s.length;r++){var d=X.default.indexOf(x,s[r])>=0;("strokeColor"!=s[r]||null!=u[r]&&"none"!=u[r])&&(X.default.indexOf(M,s[r])>=0?((a||X.default.indexOf(I,s[r])>=0)&&(null==u[r]?delete i.currentEdgeStyle[s[r]]:i.currentEdgeStyle[s[r]]=u[r]),l&&X.default.indexOf(C,s[r])>=0&&(null==u[r]?delete i.currentVertexStyle[s[r]]:i.currentVertexStyle[s[r]]=u[r])):X.default.indexOf(C,s[r])>=0&&((l||d)&&(null==u[r]?delete i.currentVertexStyle[s[r]]:i.currentVertexStyle[s[r]]=u[r]),(a||d||X.default.indexOf(I,s[r])>=0)&&(null==u[r]?delete i.currentEdgeStyle[s[r]]:i.currentEdgeStyle[s[r]]=u[r])))}if(null!=this.toolbar){if(this.toolbar.setFontName(i.currentVertexStyle.fontFamily||o.MENU.defaultFont),this.toolbar.setFontSize(i.currentVertexStyle.fontSize||o.MENU.defaultFontSize),null!=this.toolbar.edgeStyleMenu){var h=this.toolbar.edgeStyleMenu.getElementsByTagName("div")[0];"orthogonalEdgeStyle"==i.currentEdgeStyle.edgeStyle&&"1"==i.currentEdgeStyle.curved?h.className="geSprite geSprite-curved":"straight"==i.currentEdgeStyle.edgeStyle||"none"==i.currentEdgeStyle.edgeStyle||null==i.currentEdgeStyle.edgeStyle?h.className="geSprite geSprite-straight":"entityRelationEdgeStyle"==i.currentEdgeStyle.edgeStyle?h.className="geSprite geSprite-entity":"elbowEdgeStyle"==i.currentEdgeStyle.edgeStyle?h.className="geSprite geSprite-"+("vertical"==i.currentEdgeStyle.elbow?"verticalelbow":"horizontalelbow"):"isometricEdgeStyle"==i.currentEdgeStyle.edgeStyle?h.className="geSprite geSprite-"+("vertical"==i.currentEdgeStyle.elbow?"verticalisometric":"horizontalisometric"):h.className="geSprite geSprite-orthogonal"}if(null!=this.toolbar.edgeShapeMenu){var c=this.toolbar.edgeShapeMenu.getElementsByTagName("div")[0];"link"==i.currentEdgeStyle.shape?c.className="geSprite geSprite-linkedge":"flexArrow"==i.currentEdgeStyle.shape?c.className="geSprite geSprite-arrow":"arrow"==i.currentEdgeStyle.shape?c.className="geSprite geSprite-simplearrow":c.className="geSprite geSprite-connection"}null!=this.toolbar.lineStartMenu&&(this.toolbar.lineStartMenu.getElementsByTagName("div")[0].className=this.getCssClassForMarker("start",i.currentEdgeStyle.shape,i.currentEdgeStyle[j.default.STYLE_STARTARROW],X.default.getValue(i.currentEdgeStyle,"startFill","1"))),null!=this.toolbar.lineEndMenu&&(this.toolbar.lineEndMenu.getElementsByTagName("div")[0].className=this.getCssClassForMarker("end",i.currentEdgeStyle.shape,i.currentEdgeStyle[j.default.STYLE_ENDARROW],X.default.getValue(i.currentEdgeStyle,"endFill","1")))}}))),null!=this.toolbar){var _=Z.default.bind(this,(function(){var t=i.currentVertexStyle.fontFamily||"Helvetica",e=String(i.currentVertexStyle.fontSize||"12"),n=i.getView().getState(i.getSelectionCell());null!=n&&(t=n.style[j.default.STYLE_FONTFAMILY]||t,e=n.style[j.default.STYLE_FONTSIZE]||e,t.length>10&&(t=t.substring(0,8)+"...")),this.toolbar.setFontName(t),this.toolbar.setFontSize(e)}));i.getSelectionModel().addListener(P.default.CHANGE,_),i.getModel().addListener(P.default.CHANGE,_)}if(i.addListener(P.default.CELLS_ADDED,(function(t,e){var n=e.getProperty("cells"),l=e.getProperty("parent");i.getModel().isLayer(l)&&!i.isCellVisible(l)&&null!=n&&n.length>0&&i.getModel().setVisible(l,!0)})),this.gestureHandler=Z.default.bind(this,(function(t){null!=this.currentMenu&&P.default.getSource(t)!=this.currentMenu.div&&this.hideCurrentMenu()})),P.default.addGestureListeners(document,this.gestureHandler),this.resizeHandler=Z.default.bind(this,(function(){window.setTimeout(Z.default.bind(this,(function(){this.refresh()})),0)})),P.default.addListener(window,"resize",this.resizeHandler),this.orientationChangeHandler=Z.default.bind(this,(function(){this.refresh()})),P.default.addListener(window,"orientationchange",this.orientationChangeHandler),T.default.IS_IOS&&!window.navigator.standalone&&(this.scrollHandler=Z.default.bind(this,(function(){window.scrollTo(0,0)})),P.default.addListener(window,"scroll",this.scrollHandler)),this.editor.addListener("resetGraphView",Z.default.bind(this,(function(){this.resetScrollbars()}))),this.addListener("gridEnabledChanged",Z.default.bind(this,(function(){i.view.validateBackground()}))),this.addListener("backgroundColorChanged",Z.default.bind(this,(function(){i.view.validateBackground()}))),i.addListener("gridSizeChanged",Z.default.bind(this,(function(){i.isGridEnabled()&&i.view.validateBackground()}))),!1===this.props.editable&&!0===this.props.showNodeDetails){var k=this.diagramContainer.querySelector("svg"),H=document.querySelector("svg.defs"),B=this.props.config.clientParams.billId||"",z=this.props.activateCell,F=this.props.showFloatLayer,V=this.props.hideFloaterLayer;a=this.context.model.pageId,H.querySelector("#box-shadow")||H.appendChild(this.createBoxShadowFilter()),i.addMouseListener({mouseDown:function(e,i){var n=null;if(i.state&&(n=i.state.cell)&&n.isVertex()&&n.showRecords){var l=t.props.config.clientParams.procInstId||"";if(t.props.initialData){var a=k.querySelector("#drawPane"),r=a.querySelector("#".concat(n.mxObjectId)),o=tt.default.activatedCell,s=a.querySelector(".".concat(o));Z.default.removeClass(s,o),Z.default.addClass(r,o),(0,lt.isBizFlow)(t.props.initialData.flowType)||(z({id:n.id,procInstId:l,billId:B,title:n.getProperty("name"),showRecords:n.showRecords}),t.refresh(!0,!1));var u=n.properties&&n.properties.businessKey,d=n.properties&&n.properties.activityInstId,h=[t.props.config.formId,n.getType(),n.getId(),{businessKey:u,activityInstId:d}];t.context.invokeAction(t.context.model,"change",h)}}else if(n&&n.clickable){var c=n.properties||{},p=[t.props.config.formId,n.getType(),n.getId(),dt({},c)];t.context.invokeAction(t.context.model,"change",p)}},mouseMove:function(e,i){var n=null;if(t.props.initialData&&"BizFlow"==t.props.initialData.flowType)if(i.state&&(n=i.state.cell)&&n.isVertex()&&n.showRecords){var l=t.props.config.clientParams.procInstId||"",r=i.state.x-i.state.view.graph.container.scrollLeft+i.state.width,o=i.state.y-i.state.view.graph.container.scrollTop-5;F({id:n.getId(),procInstId:l,billId:B,title:n.getProperty("name"),left:r,top:o,showFloatLayer:n.showRecords,pageId:a})}else V({showFloatLayer:!1})},mouseUp:function(){}})}this.editor.resetGraph(),this.init(),this.editor.graph.view.validate(),this.editor.graph.sizeDidChange(),this.editor.fireEvent(new R.default("resetGraphView")),window.editors=window.editors||{},window.editors[this.context.model.pageId]=this}},{key:"fetchUiMetadata",value:function(t,e,i){this.props.fetchUiMetadata(t,e,i)}},{key:"save",value:function(){var t=this.editor.graph;t.isEditing()&&t.stopEditing();var e=t.getModelGraph(),i={graph_json:JSON.stringify(e)};this.context.setPostData(this.context.model,i),this.editor.setModified(!1)}},{key:"init",value:function(){var t=this.editor.graph;P.default.addListener(t.container,"keydown",Z.default.bind(this,(function(e){9==e.which&&t.isEnabled()&&(t.isEditing()&&t.stopEditing(!1),t.selectCell(!P.default.isShiftDown(e)),P.default.consume(e))}))),P.default.addListener(t.container,"keypress",Z.default.bind(this,(function(e){if(this.isImmediateEditingEvent(e)&&!t.isEditing()&&!t.isSelectionEmpty()&&0!==e.which&&!P.default.isAltDown(e)&&!P.default.isControlDown(e)&&!P.default.isMetaDown(e)&&(t.escape(),T.default.IS_FF)){var i=t.cellEditor;i.textarea.innerHTML=String.fromCharCode(e.which);var n=document.createRange();n.selectNodeContents(i.textarea),n.collapse(!1);var l=window.getSelection();l.removeAllRanges(),l.addRange(n)}}))),this.addUndoListener(),this.addBeforeUnloadListener(),t.getSelectionModel().addListener(P.default.CHANGE,Z.default.bind(this,(function(){this.updateActionStates()}))),t.getModel().addListener(P.default.CHANGE,Z.default.bind(this,(function(){this.updateActionStates()})));var e=t.setDefaultParent,i=this;this.editor.graph.setDefaultParent=function(){e.apply(this,arguments),i.updateActionStates()},t.editLink=i.actions.get("editLink").funct,this.updateActionStates(),this.initClipboard(),this.initCanvas(),null!=this.format&&this.format.init()}},{key:"isImmediateEditingEvent",value:function(t){return!0}},{key:"getCssClassForMarker",value:function(t,e,i,n){return"flexArrow"==e?null!=i&&i!=j.default.NONE?"geSprite geSprite-"+t+"blocktrans":"geSprite geSprite-noarrow":i==j.default.ARROW_CLASSIC?"1"==n?"geSprite geSprite-"+t+"classic":"geSprite geSprite-"+t+"classictrans":i==j.default.ARROW_CLASSIC_THIN?"1"==n?"geSprite geSprite-"+t+"classicthin":"geSprite geSprite-"+t+"classicthintrans":i==j.default.ARROW_OPEN?"geSprite geSprite-"+t+"open":i==j.default.ARROW_OPEN_THIN?"geSprite geSprite-"+t+"openthin":i==j.default.ARROW_BLOCK?"1"==n?"geSprite geSprite-"+t+"block":"geSprite geSprite-"+t+"blocktrans":i==j.default.ARROW_BLOCK_THIN?"1"==n?"geSprite geSprite-"+t+"blockthin":"geSprite geSprite-"+t+"blockthintrans":i==j.default.ARROW_OVAL?"1"==n?"geSprite geSprite-"+t+"oval":"geSprite geSprite-"+t+"ovaltrans":i==j.default.ARROW_DIAMOND?"1"==n?"geSprite geSprite-"+t+"diamond":"geSprite geSprite-"+t+"diamondtrans":i==j.default.ARROW_DIAMOND_THIN?"1"==n?"geSprite geSprite-"+t+"thindiamond":"geSprite geSprite-"+t+"thindiamondtrans":"openAsync"==i?"geSprite geSprite-"+t+"openasync":"dash"==i?"geSprite geSprite-"+t+"dash":"cross"==i?"geSprite geSprite-"+t+"cross":"async"==i?"1"==n?"geSprite geSprite-"+t+"async":"geSprite geSprite-"+t+"asynctrans":"circle"==i||"circlePlus"==i?"1"==n||"circle"==i?"geSprite geSprite-"+t+"circle":"geSprite geSprite-"+t+"circleplus":"ERone"==i?"geSprite geSprite-"+t+"erone":"ERmandOne"==i?"geSprite geSprite-"+t+"eronetoone":"ERmany"==i?"geSprite geSprite-"+t+"ermany":"ERoneToMany"==i?"geSprite geSprite-"+t+"eronetomany":"ERzeroToOne"==i?"geSprite geSprite-"+t+"eroneopt":"ERzeroToMany"==i?"geSprite geSprite-"+t+"ermanyopt":"geSprite geSprite-noarrow"}},{key:"createMenus",value:function(){return new D.default(this)}},{key:"updatePasteActionStates",value:function(){var t=this.editor.graph,e=this.actions.get("paste"),i=this.actions.get("pasteHere");e.setEnabled(t.isEnabled()&&!t.isCellLocked(t.getDefaultParent())),i.setEnabled(e.isEnabled())}},{key:"initClipboard",value:function(){var t=this,e=k.default.cut;k.default.cut=function(i){i.cellEditor.isContentEditing()?document.execCommand("cut",!1,null):e.apply(this,arguments),t.updatePasteActionStates()};var i=t.context,n=i.dispatch,l=i.model.pageId,a=k.default.copy;t.clipboardCopy=function(e){var i=e.getSelectionCells();if(i&&0!=i.length){if(e.isCellEditable(i[0]))if(e.getModel().getBPMNRoot(),1==i.length&&Z.default.isBoundaryEvent(i[0].type)){var r={p:[{duration:3e3,type:2,content:(0,p.getLangMsg)({key:"WFEditorUi.copyLeafNodeTip"})}],a:c.SHOW_NOTIFICATION_MESSAGE};(0,h.doPostActions)(l,[r],n)}else{var o=function t(e,i){e.setOriginPageId(i),e.children&&e.children.forEach((function(e,n){t(e,i)}))};i.forEach((function(t,e){o(t,l)})),e.cellEditor.isContentEditing()?document.execCommand("copy",!1,null):a.apply(this,[e,i]),t.updatePasteActionStates()}}else console&&console.log};var r=k.default.paste,s=t.props.config.formId,u=i.invokeAction,d=i.model;t.clipboardPaste=function(e,i){if(!0===i){var n=null;return e.cellEditor.isContentEditing()?document.execCommand("paste",!1,null):n=r.apply(this,arguments),t.updatePasteActionStates(),n}var l=e.getImportableCells(k.default.getCells());if(l&&l.length){var a=e.getModel().getBPMNRoot().getChildAt(0);if(a&&!e.isCellEditable(a))return;var h=t.getCellsJson(l,!1),c=[s,{cells:JSON.stringify(h)}];u(d,o.EVENT.BEFORE_PASTE_CELLS,c)}};var f=this.editor.graph.cellEditor.startEditing;this.editor.graph.cellEditor.startEditing=function(){f.apply(this,arguments),t.updatePasteActionStates()};var g=this.editor.graph.cellEditor.stopEditing;this.editor.graph.cellEditor.stopEditing=function(e,i){g.apply(this,arguments),t.updatePasteActionStates()},this.updatePasteActionStates()}},{key:"initCanvas",value:function(){var t=this.editor.graph;(t=this.editor.graph).timerAutoScroll=!0,t.scrollTileSize=new B.default(0,0,400,400),t.getPagePadding=function(){return new U.default(Math.max(0,Math.round((t.container.offsetWidth-34)/t.view.scale)),Math.max(0,Math.round((t.container.offsetHeight-34)/t.view.scale)))},t.getPageSize=function(){return this.pageVisible?new B.default(0,0,this.pageFormat.width*this.pageScale,this.pageFormat.height*this.pageScale):this.scrollTileSize},t.getPageLayout=function(){var t=this.pageVisible?this.getPageSize():this.scrollTileSize,e=this.getGraphBounds();if(0===e.width||0===e.height)return new B.default(0,0,1,1);var i=Math.ceil(e.x/this.view.scale-this.view.translate.x),n=Math.ceil(e.y/this.view.scale-this.view.translate.y),l=Math.floor(e.width/this.view.scale),a=Math.floor(e.height/this.view.scale),r=Math.floor(i/t.width),o=Math.floor(n/t.height),s=Math.ceil((i+l)/t.width)-r,u=Math.ceil((n+a)/t.height)-o;return new B.default(r,o,s,u)},t.view.getBackgroundPageBounds=function(){var t=this.graph.getPageLayout(),e=this.graph.getPageSize();return new B.default(this.scale*(this.translate.x+t.x*e.width),this.scale*(this.translate.y+t.y*e.height),this.scale*t.width*e.width,this.scale*t.height*e.height)},t.getPreferredPageSize=function(t,e,i){var n=this.getPageLayout(),l=this.getPageSize();return new B.default(0,0,n.width*l.width,n.height*l.height)};var e=null;if(this.editor.chromeless){e=Z.default.bind(this,(function(e){if(null!=t.container){var i=t.pageVisible?t.view.getBackgroundPageBounds():t.getGraphBounds(),n=t.view.translate,l=t.view.scale;(i=B.default.fromRectangle(i)).x=i.x/l-n.x,i.y=i.y/l-n.y,i.width/=l,i.height/=l;var a=t.container.scrollTop,r=t.container.scrollLeft,o=T.default.IS_QUIRKS||document.documentMode>=8?20:14;8!=document.documentMode&&9!=document.documentMode||(o+=3);var s=t.container.offsetWidth-o,u=t.container.offsetHeight-o,d=e?Math.max(.3,Math.min(1,s/i.width)):l,h=Math.max((s-d*i.width)/2,0)/d,c=Math.max((u-d*i.height)/4,0)/d;t.view.scaleAndTranslate(d,h-i.x,c-i.y),t.container.scrollTop=a*d/l,t.container.scrollLeft=r*d/l}})),this.chromelessResize=e;var i=Z.default.bind(this,(function(){e(!1)}));P.default.addListener(window,"resize",i),this.destroyFunctions.push((function(){P.default.removeListener(window,"resize",i)})),this.editor.addListener("resetGraphView",Z.default.bind(this,(function(){e(!0)}))),this.actions.get("zoomIn").funct=function(i){t.zoomIn(),e(!1)},this.actions.get("zoomOut").funct=function(i){t.zoomOut(),e(!1)},this.chromelessToolbar=document.createElement("div"),this.chromelessToolbar.style.position="fixed",this.chromelessToolbar.style.overflow="hidden",this.chromelessToolbar.style.boxSizing="border-box",this.chromelessToolbar.style.whiteSpace="nowrap",this.chromelessToolbar.style.backgroundColor="#000000",this.chromelessToolbar.style.padding="10px 10px 8px 10px",this.chromelessToolbar.style.left="50%",X.default.setPrefixedStyle(this.chromelessToolbar.style,"borderRadius","20px"),X.default.setPrefixedStyle(this.chromelessToolbar.style,"transition","opacity 600ms ease-in-out");var n=Z.default.bind(this,(function(){var e=X.default.getCurrentStyle(t.container);this.chromelessToolbar.style.bottom=(null!=e?parseInt(e["margin-bottom"]||0):0)+"20px"}));this.editor.addListener("resetGraphView",n),n();var l=0,a=Z.default.bind(this,(function(t,e,i){l++;var n=document.createElement("span");n.style.paddingLeft="8px",n.style.paddingRight="8px",n.style.cursor="pointer",P.default.addListener(n,"click",t),null!=i&&n.setAttribute("title",i);var a=document.createElement("img");return a.setAttribute("border","0"),a.setAttribute("src",e),n.appendChild(a),this.chromelessToolbar.appendChild(n),n}));a(Z.default.bind(this,(function(t){this.actions.get("zoomOut").funct(),P.default.consume(t)})),E.default.zoomOutLargeImage,(Y.default.get("zoomOut")||"Zoom Out")+" (Alt+Mousewheel)"),a(Z.default.bind(this,(function(t){this.actions.get("zoomIn").funct(),P.default.consume(t)})),E.default.zoomInLargeImage,(Y.default.get("zoomIn")||"Zoom In")+" (Alt+Mousewheel)"),a(Z.default.bind(this,(function(i){t.lightbox?(1==t.view.scale?this.lightboxFit():t.zoomTo(1),e(!1)):e(!0),P.default.consume(i)})),E.default.actualSizeLargeImage,Y.default.get("fit")||"Fit");var r=null,s=null,u=Z.default.bind(this,(function(t){null!=r&&(window.clearTimeout(r),fadeThead=null),null!=s&&(window.clearTimeout(s),fadeThead2=null),r=window.setTimeout(Z.default.bind(this,(function(){X.default.setOpacity(this.chromelessToolbar,0),r=null,s=window.setTimeout(Z.default.bind(this,(function(){this.chromelessToolbar.style.display="none",s=null})),600)})),t||200)})),d=Z.default.bind(this,(function(t){null!=r&&(window.clearTimeout(r),fadeThead=null),null!=s&&(window.clearTimeout(s),fadeThead2=null),this.chromelessToolbar.style.display="",X.default.setOpacity(this.chromelessToolbar,t||30)}));if("1"==urlParams.layers){this.layersDialog=null;var h=a(Z.default.bind(this,(function(e){if(null!=this.layersDialog)this.layersDialog.parentNode.removeChild(this.layersDialog),this.layersDialog=null;else{this.layersDialog=t.createLayersDialog(),P.default.addListener(this.layersDialog,"mouseleave",Z.default.bind(this,(function(){this.layersDialog.parentNode.removeChild(this.layersDialog),this.layersDialog=null})));var i=h.getBoundingClientRect();X.default.setPrefixedStyle(this.layersDialog.style,"borderRadius","5px"),this.layersDialog.style.position="fixed",this.layersDialog.style.backgroundColor="#000000",this.layersDialog.style.width="160px",this.layersDialog.style.padding="4px 2px 4px 2px",this.layersDialog.style.color="#ffffff",X.default.setOpacity(this.layersDialog,70),this.layersDialog.style.left=i.left+"px",this.layersDialog.style.bottom=parseInt(this.chromelessToolbar.style.bottom)+this.chromelessToolbar.offsetHeight+4+"px";var n=X.default.getCurrentStyle(this.editor.graph.container);this.layersDialog.style.zIndex=n.zIndex,document.body.appendChild(this.layersDialog)}P.default.consume(e)})),E.default.layersLargeImage,Y.default.get("layers")||"Layers"),c=t.getModel();c.addListener(P.default.CHANGE,(function(){h.style.display=c.getChildCount(c.root)>1?"":"none"}))}null!=o.EDITORUI.editButtonLink&&a(Z.default.bind(this,(function(t){"_blank"==o.EDITORUI.editButtonLink?this.editor.editAsNew(this.getEditBlankXml(),null,!0):window.open(o.EDITORUI.editButtonLink,"editWindow"),P.default.consume(t)})),E.default.editLargeImage,Y.default.get("openInNewWindow")||"Open in New Window"),t.lightbox&&this.container!=document.body&&a(Z.default.bind(this,(function(t){"1"==urlParams.close?window.close():(this.destroy(),P.default.consume(t))})),E.default.closeLargeImage,(Y.default.get("close")||"Close")+" (Escape)"),this.chromelessToolbar.style.display="none",t.container.appendChild(this.chromelessToolbar),this.chromelessToolbar.style.marginLeft=-(24*l+10)+"px",this.addChromelessClickHandler(),P.default.addListener(t.container,T.default.IS_POINTER?"pointermove":"mousemove",Z.default.bind(this,(function(t){P.default.isTouchEvent(t)||(P.default.isShiftDown(t)||d(30),u())}))),P.default.addListener(this.chromelessToolbar,T.default.IS_POINTER?"pointermove":"mousemove",(function(t){P.default.consume(t)})),P.default.addListener(this.chromelessToolbar,"mouseenter",Z.default.bind(this,(function(t){P.default.isShiftDown(t)?u():d(100)}))),P.default.addListener(this.chromelessToolbar,"mousemove",Z.default.bind(this,(function(t){P.default.isShiftDown(t)?u():d(100),P.default.consume(t)}))),P.default.addListener(this.chromelessToolbar,"mouseleave",Z.default.bind(this,(function(t){P.default.isTouchEvent(t)||d(30)})));var p=t.getTolerance(),f=this;t.addMouseListener({startX:0,startY:0,scrollLeft:0,scrollTop:0,mouseDown:function(e,i){this.startX=i.getGraphX(),this.startY=i.getGraphY(),this.scrollLeft=t.container.scrollLeft,this.scrollTop=t.container.scrollTop},mouseMove:function(t,e){},mouseUp:function(e,i){P.default.isTouchEvent(i.getEvent())&&Math.abs(this.scrollLeft-t.container.scrollLeft)<p&&Math.abs(this.scrollTop-t.container.scrollTop)<p&&Math.abs(this.startX-i.getGraphX())<p&&Math.abs(this.startY-i.getGraphY())<p&&(parseFloat(f.chromelessToolbar.style.opacity||0)>0?u():d(30))}})}else if(this.editor.extendCanvas){var g=t.sizeDidChange;t.sizeDidChange=function(e,i){var n=this.container;if(n&&(0!==n.offsetWidth||0!==n.offsetHeight)&&X.default.hasScrollbars(this.container)){var l=this.getPageLayout(),a=this.getPagePadding(),r=this.getPageSize(),o=Math.ceil(2*a.x+l.width*r.width),s=Math.ceil(2*a.y+l.height*r.height),u=t.minimumGraphSize;null!=u&&u.width==o&&u.height==s||(t.minimumGraphSize=new B.default(0,0,o,s));var d=a.x-l.x*r.width,h=a.y-l.y*r.height;if(!(this.autoTranslate||this.view.translate.x==d&&this.view.translate.y==h)){this.autoTranslate=!0,this.view.x0=l.x,this.view.y0=l.y,t.view.translate.x,t.view.translate.y,t.view.setTranslate(d,h,e);var c=null,p=null;i&&i.state.initialData&&(p=i.state.initialData.currentCellId)&&(c=p&&this.getModel().getCell(p));var f=c&&c.vertex?this.getCellBounds(c):this.getGraphBounds();return n.scrollLeft=f.x+f.width/2-n.clientWidth/2,n.scrollTop=f.y+f.height/2-n.clientHeight/2,void(this.autoTranslate=!1)}g.apply(this,arguments)}}}t.updateZoomTimeout=null,t.cumulativeZoomFactor=1;var y=null;t.lazyZoom=function(i){null!=this.updateZoomTimeout&&window.clearTimeout(this.updateZoomTimeout),i?this.view.scale*this.cumulativeZoomFactor<.15?this.cumulativeZoomFactor=(this.view.scale+.01)/this.view.scale:(this.cumulativeZoomFactor*=this.zoomFactor,this.cumulativeZoomFactor=Math.round(this.view.scale*this.cumulativeZoomFactor*20)/20/this.view.scale):this.view.scale*this.cumulativeZoomFactor<=.15?this.cumulativeZoomFactor=(this.view.scale-.01)/this.view.scale:(this.cumulativeZoomFactor/=this.zoomFactor,this.cumulativeZoomFactor=Math.round(this.view.scale*this.cumulativeZoomFactor*20)/20/this.view.scale),this.cumulativeZoomFactor=Math.max(.01,Math.min(this.view.scale*this.cumulativeZoomFactor,160)/this.view.scale),this.updateZoomTimeout=window.setTimeout(Z.default.bind(this,(function(){if(this.zoom(this.cumulativeZoomFactor),null!=e&&e(!1),null!=y&&X.default.hasScrollbars(t.container)){var i=X.default.getOffset(t.container),n=t.container.offsetWidth/2-y.x+i.x,l=t.container.offsetHeight/2-y.y+i.y;t.container.scrollLeft-=n*(this.cumulativeZoomFactor-1),t.container.scrollTop-=l*(this.cumulativeZoomFactor-1)}this.cumulativeZoomFactor=1,this.updateZoomTimeout=null})),20)},P.default.addMouseWheelListener(Z.default.bind(this,(function(e,i){if((P.default.isAltDown(e)||P.default.isControlDown(e)&&!T.default.IS_MAC||t.panningHandler.isActive())&&(null==this.dialogs||0===this.dialogs.length))for(var n=P.default.getSource(e);null!=n;){if(n==t.container)return y=new U.default(P.default.getClientX(e),P.default.getClientY(e)),t.lazyZoom(i),void P.default.consume(e);n=n.parentNode}})))}},{key:"addChromelessClickHandler",value:function(){var t=urlParams.highlight;null!=t&&t.length>0&&(t="#"+t),this.editor.graph.addClickHandler(t)}},{key:"toggleFormatPanel",value:function(t){this.formatWidth=t||o.EDITORUI.formatWidth>0?0:240,this.formatContainer.style.display=t||this.formatWidth>0?"":"none",this.refresh(),this.format.refresh(),this.fireEvent(new R.default("formatWidthChanged"))}},{key:"lightboxFit",value:function(){this.editor.graph.maxFitScale=2,this.editor.graph.fit(20),this.editor.graph.maxFitScale=null}},{key:"isSelectionAllowed",value:function(t){return"SELECT"==P.default.getSource(t).nodeName||"INPUT"==P.default.getSource(t).nodeName&&X.default.isAncestorNode(this.formatContainer,P.default.getSource(t))}},{key:"addBeforeUnloadListener",value:function(){}},{key:"onBeforeUnload",value:function(){if(this.editor.modified)return Y.default.get("allChangesLost")}},{key:"setCurrentMenu",value:function(t,e){this.currentMenuElt=e,this.currentMenu=t}},{key:"resetCurrentMenu",value:function(){this.currentMenuElt=null,this.currentMenu=null}},{key:"hideCurrentMenu",value:function(t,e){null!=this.currentMenu&&(this.currentMenu.hideMenu(),this.resetCurrentMenu())}},{key:"updateDocumentTitle",value:function(){var t=this.editor.getOrCreateFilename();null!=this.editor.appName&&(t+=" - "+this.editor.appName),document.title=t}},{key:"createHoverIcons",value:function(){return new V.default(this.editor.graph)}},{key:"redo",value:function(){try{this.editor.graph.isEditing()?document.execCommand("redo",!1,null):this.editor.undoManager.redo()}catch(t){}}},{key:"undo",value:function(){try{var t=this.editor.graph;if(t.isEditing()){var e=t.cellEditor.textarea.innerHTML;document.execCommand("undo",!1,null),e==t.cellEditor.textarea.innerHTML&&(t.stopEditing(!0),this.editor.undoManager.undo())}else this.editor.undoManager.undo()}catch(t){}}},{key:"canRedo",value:function(){return this.editor.graph.isEditing()||this.editor.undoManager.canRedo()}},{key:"canUndo",value:function(){return this.editor.graph.isEditing()||this.editor.undoManager.canUndo()}},{key:"getEditBlankXml",value:function(){return X.default.getXml(this.getGraphXml())}},{key:"getUrl",value:function(t){var e=null!=t?t:window.location.pathname,i=e.indexOf("?")>0?1:0;for(var n in urlParams)e+=0===i?"?":"&",e+=n+"="+urlParams[n],i++;return e}},{key:"setScrollbars",value:function(t){var e=this.editor.graph,i=e.container.style.overflow;if(e.scrollbars=t,this.editor.updateGraphComponents(),i!=e.container.style.overflow)if("hidden"==e.container.style.overflow){var n=e.view.translate;e.view.setTranslate(n.x-e.container.scrollLeft/e.view.scale,n.y-e.container.scrollTop/e.view.scale),e.container.scrollLeft=0,e.container.scrollTop=0,e.minimumGraphSize=null,e.sizeDidChange()}else{var l=e.view.translate.x,a=e.view.translate.y;e.view.translate.x=0,e.view.translate.y=0,e.sizeDidChange(),e.container.scrollLeft-=Math.round(l*e.view.scale),e.container.scrollTop-=Math.round(a*e.view.scale)}this.fireEvent(new R.default("scrollbarsChanged"))}},{key:"hasScrollbars",value:function(){return this.editor.graph.scrollbars}},{key:"resetScrollbars",value:function(){var t=this.editor.graph;if(this.editor.extendCanvas){if(!this.editor.chromeless)if(X.default.hasScrollbars(t.container))if(t.pageVisible){var e=t.getPagePadding();t.container.scrollTop=Math.floor(e.y-this.editor.initialTopSpacing),t.container.scrollLeft=Math.floor(Math.min(e.x,(t.container.scrollWidth-t.container.clientWidth)/2))}else{var i=t.getGraphBounds(),n=Math.max(i.width,t.scrollTileSize.width*t.view.scale),l=Math.max(i.height,t.scrollTileSize.height*t.view.scale);t.container.scrollTop=Math.floor(Math.max(0,i.y-Math.max(20,(t.container.clientHeight-l)/4))),t.container.scrollLeft=Math.floor(Math.max(0,i.x-Math.max(0,(t.container.clientWidth-n)/2)))}else if(t.pageVisible){var a=t.view.getBackgroundPageBounds();t.view.setTranslate(Math.floor(Math.max(0,(t.container.clientWidth-a.width)/2)-a.x),Math.floor(Math.max(0,(t.container.clientHeight-a.height)/2)-a.y))}else i=t.getGraphBounds(),t.view.setTranslate(Math.floor(Math.max(0,Math.max(0,(t.container.clientWidth-i.width)/2)-i.x)),Math.floor(Math.max(0,Math.max(20,(t.container.clientHeight-i.height)/4))-i.y))}else t.container.scrollTop=0,t.container.scrollLeft=0,X.default.hasScrollbars(t.container)||t.view.setTranslate(0,0)}},{key:"setBackgroundColor",value:function(t){this.editor.graph.background=t,this.editor.graph.view.validateBackground(),this.fireEvent(new R.default("backgroundColorChanged"))}},{key:"setFoldingEnabled",value:function(t){this.editor.graph.foldingEnabled=t,this.editor.graph.view.revalidate(),this.fireEvent(new R.default("foldingEnabledChanged"))}},{key:"setPageFormat",value:function(t){this.editor.graph.pageFormat=t,this.editor.graph.pageVisible?(this.editor.graph.view.validateBackground(),this.editor.graph.sizeDidChange()):this.actions.get("pageView").funct(),this.fireEvent(new R.default("pageFormatChanged"))}},{key:"setPageScale",value:function(t){this.editor.graph.pageScale=t,this.editor.graph.pageVisible?(this.editor.graph.view.validateBackground(),this.editor.graph.sizeDidChange()):this.actions.get("pageView").funct(),this.fireEvent(new R.default("pageScaleChanged"))}},{key:"setGridColor",value:function(t){this.editor.graph.view.gridColor=t,this.editor.graph.view.validateBackground(),this.fireEvent(new R.default("gridColorChanged"))}},{key:"addUndoListener",value:function(){var t=this.actions.get("undo"),e=this.actions.get("redo"),i=this.editor.undoManager,n=Z.default.bind(this,(function(){t.setEnabled(this.canUndo()),e.setEnabled(this.canRedo())}));i.addListener(P.default.ADD,n),i.addListener(P.default.UNDO,n),i.addListener(P.default.REDO,n),i.addListener(P.default.CLEAR,n);var l=this.editor.graph.cellEditor.startEditing;this.editor.graph.cellEditor.startEditing=function(){l.apply(this,arguments),n()};var a=this.editor.graph.cellEditor.stopEditing;this.editor.graph.cellEditor.stopEditing=function(t,e){a.apply(this,arguments),n()},n()}},{key:"updateActionStates",value:function(){var t=this.editor.graph,e=!t.isSelectionEmpty(),i=!1,n=!1,l=t.getSelectionCells();if(null!=l)for(var a=0;a<l.length;a++){var r=l[a];if(t.getModel().isEdge(r)&&(n=!0),t.getModel().isVertex(r)&&(i=!0),n&&i)break}var o=["cut","copy","bold","italic","underline","delete","duplicate","editStyle","editTooltip","editLink","backgroundColor","borderColor","toFront","toBack","lockUnlock","solid","dashed","dotted","fillColor","gradientColor","shadow","fontColor","formattedText","rounded","toggleRounded","sharp","strokeColor"];for(a=0;a<o.length;a++)this.actions.get(o[a]).setEnabled(e);this.actions.get("setAsDefaultStyle").setEnabled(1==t.getSelectionCount()),this.actions.get("turn").setEnabled(!t.isSelectionEmpty()),this.actions.get("curved").setEnabled(n),this.actions.get("clearWaypoints").setEnabled(n),this.actions.get("rotation").setEnabled(i),this.actions.get("wordWrap").setEnabled(i),this.actions.get("autosize").setEnabled(i),this.actions.get("collapsible").setEnabled(i);var s=i&&1==t.getSelectionCount();this.actions.get("group").setEnabled(t.getSelectionCount()>1||s&&!t.isContainer(t.getSelectionCell())),this.actions.get("ungroup").setEnabled(1==t.getSelectionCount()&&(t.getModel().getChildCount(t.getSelectionCell())>0||s&&t.isContainer(t.getSelectionCell()))),this.actions.get("removeFromGroup").setEnabled(s&&t.getModel().isVertex(t.getModel().getParent(t.getSelectionCell()))),t.view.getState(t.getSelectionCell()),this.menus.get("navigation").setEnabled(e||null!=t.view.currentRoot),this.actions.get("collapsible").setEnabled(i&&1==t.getSelectionCount()&&(t.isContainer(t.getSelectionCell())||t.model.getChildCount(t.getSelectionCell())>0)),this.actions.get("home").setEnabled(null!=t.view.currentRoot),this.actions.get("exitGroup").setEnabled(null!=t.view.currentRoot),this.actions.get("enterGroup").setEnabled(1==t.getSelectionCount()&&t.isValidRoot(t.getSelectionCell()));var u=1==t.getSelectionCount()&&t.isCellFoldable(t.getSelectionCell());this.actions.get("expand").setEnabled(u),this.actions.get("collapse").setEnabled(u),this.actions.get("editLink").setEnabled(1==t.getSelectionCount()),this.actions.get("openLink").setEnabled(1==t.getSelectionCount()&&null!=t.getLinkForCell(t.getSelectionCell())),this.actions.get("guides").setEnabled(t.isEnabled()),this.actions.get("grid").setEnabled(!this.editor.chromeless);var d=t.isEnabled()&&!t.isCellLocked(t.getDefaultParent());this.menus.get("layout").setEnabled(d),this.menus.get("insert").setEnabled(d),this.menus.get("direction").setEnabled(d&&i),this.menus.get("align").setEnabled(d&&i&&t.getSelectionCount()>1),this.menus.get("distribute").setEnabled(d&&i&&t.getSelectionCount()>1),this.actions.get("selectVertices").setEnabled(d),this.actions.get("selectEdges").setEnabled(d),this.actions.get("selectAll").setEnabled(d),this.actions.get("selectNone").setEnabled(d),this.updatePasteActionStates()}},{key:"refresh",value:function(t,e){t=null==t||t,this.container.clientWidth,this.container.clientHeight,T.default.IS_IOS&&!window.navigator.standalone&&window.innerHeight!=document.documentElement.clientHeight&&(off=document.documentElement.clientHeight-window.innerHeight,window.scrollTo(0,0));var i=0;i>0&&!T.default.IS_QUIRKS&&(i+=1),this.diagramContainer.style.left=0,this.diagramContainer.style.top=0,this.diagramContainer.style.right=0,this.diagramContainer.style.bottom=0,t&&this.editor.graph.sizeDidChange(e,this)}},{key:"resetApprovalRecords",value:function(){this.props.cleanActivatedCell();var t=tt.default.activatedCell,e=this.diagramContainer.querySelector("svg #drawPane .".concat(t));Z.default.removeClass(e,t)}},{key:"createDiv",value:function(t){var e=document.createElement("div");return e.className=t,e}},{key:"addSplitHandler",value:function(t,e,i,n){}},{key:"showDialog",value:function(t,e,i,n,l,a){this.editor.graph.tooltipHandler.hideTooltip(),null==this.dialogs&&(this.dialogs=[]),this.dialog=new z.default(this,t,e,i,n,l,a),this.dialogs.push(this.dialog)}},{key:"hideDialog",value:function(t){null!=this.dialogs&&this.dialogs.length>0&&(this.dialogs.pop().close(t),this.dialog=this.dialogs.length>0?this.dialogs[this.dialogs.length-1]:null,null==this.dialog&&"hidden"!=this.editor.graph.container.style.visibility&&this.editor.graph.container.focus(),this.editor.fireEvent(new R.default("hideDialog")))}},{key:"pickColor",value:function(t,e){var i=this.editor.graph,n=i.cellEditor.saveSelection(),l=new H.default(this,t||"none",(function(t){i.cellEditor.restoreSelection(n),e(t)}),(function(){i.cellEditor.restoreSelection(n)}));this.showDialog(l.container,220,430,!0,!1),l.init()}},{key:"openFile",value:function(){window.openFile=new L.default(Z.default.bind(this,(function(t){this.hideDialog(t)}))),this.showDialog(new C.default(this).container,E.default.useLocalStorage?640:320,E.default.useLocalStorage?480:220,!0,!0,(function(){window.openFile=null}))}},{key:"extractGraphModelFromHtml",value:function(t){var e=null;try{var i=t.indexOf("&lt;mxGraphModel ");if(i>=0){var n=t.lastIndexOf("&lt;/mxGraphModel&gt;");n>i&&(e=t.substring(i,n+21).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/\n/g,""))}}catch(t){}return e}},{key:"isCompatibleString",value:function(t){try{var e=X.default.parseXml(t),i=this.editor.extractGraphModel(e.documentElement);return null!=i&&0===i.getElementsByTagName("parsererror").length}catch(t){}return!1}},{key:"extractGraphModelFromEvent",value:function(t){var e=null,i=null;if(null!=t){var n=null!=t.dataTransfer?t.dataTransfer:t.clipboardData;if(null!=n&&(10==document.documentMode||11==document.documentMode?i=n.getData("Text"):(i=X.default.indexOf(n.types,"text/html")>=0?n.getData("text/html"):null,X.default.indexOf(n.types,null==i||0===i.length)&&(i=n.getData("text/plain"))),null!=i)){i=this.editor.graph.zapGremlins(X.default.trim(i));var l=this.extractGraphModelFromHtml(i);null!=l&&(i=l)}}return null!=i&&this.isCompatibleString(i)&&(e=i),e}},{key:"saveFile",value:function(t){if(t||null==this.editor.filename){var e=new F.default(this,this.editor.getOrCreateFilename(),Y.default.get("save"),Z.default.bind(this,(function(t){this.save(t)})),null,Z.default.bind(this,(function(t){return null!=t&&t.length>0||(X.default.confirm(Y.default.get("invalidName")),!1)})));this.showDialog(e.container,300,100,!0,!0),e.init()}else this.save(this.editor.getOrCreateFilename())}},{key:"executeLayout",value:function(t,e,i){var n=this.editor.graph;if(n.isEnabled()){n.getModel().beginUpdate();try{t()}catch(t){throw t}finally{if(o.EDITORUI.allowAnimation&&e&&navigator.userAgent.indexOf("Camino")<0){var l=new I.default(n);l.addListener(P.default.DONE,Z.default.bind(this,(function(){n.getModel().endUpdate(),null!=i&&i()}))),l.startAnimation()}else n.getModel().endUpdate()}}}},{key:"showImageDialog",value:function(t,e,i,n){var l=this.editor.graph.cellEditor,a=l.saveSelection(),r=X.default.prompt(t,e);if(l.restoreSelection(a),null!=r&&r.length>0){var o=new Image;o.onload=function(){i(r,o.width,o.height)},o.onerror=function(){i(null),X.default.alert(Y.default.get("fileNotFound"))},o.src=r}else i(null)}},{key:"showLinkDialog",value:function(t,e,i){var n=new M.default(this,t,e,i);this.showDialog(n.container,420,90,!0,!0),n.init()}},{key:"showBackgroundImageDialog",value:function(t){t=null!=t?t:Z.default.bind(this,(function(t){this.setBackgroundImage(t)}));var e=X.default.prompt(Y.default.get("backgroundImage"),"");if(null!=e&&e.length>0){var i=new Image;i.onload=function(){t(new _.default(e,i.width,i.height))},i.onerror=function(){t(null),X.default.alert(Y.default.get("fileNotFound"))},i.src=e}else t(null)}},{key:"setBackgroundImage",value:function(t){this.editor.graph.setBackgroundImage(t),this.editor.graph.view.validateBackgroundImage(),this.fireEvent(new R.default("backgroundImageChanged"))}},{key:"confirm",value:function(t,e,i){X.default.confirm(t)?null!=e&&e():null!=i&&i()}},{key:"createOutline",value:function(t){var e=new x.default(this.editor.graph);return e.border=20,P.default.addListener(window,"resize",(function(){e.update()})),this.addListener("pageFormatChanged",(function(){e.update()})),e}},{key:"createKeyHandler",value:function(t){var e=this,i=this.editor.graph,n=new b.default(i,i.container),l=n.isEventIgnored;n.isEventIgnored=function(t){return(!this.isControlDown(t)||P.default.isShiftDown(t)||90!=t.keyCode&&89!=t.keyCode&&188!=t.keyCode&&190!=t.keyCode)&&(66!=t.keyCode&&73!=t.keyCode&&85!=t.keyCode||!this.isControlDown(t)||this.graph.cellEditor.isContentEditing()&&!T.default.IS_FF&&!T.default.IS_SF)&&l.apply(this,arguments)},n.isEnabledForEvent=function(t){return!P.default.isConsumed(t)&&this.isGraphEvent(t)&&this.isEnabled()},n.isControlDown=function(t){return P.default.isControlDown(t)||T.default.IS_MAC&&t.metaKey};var a={37:j.default.DIRECTION_WEST,38:j.default.DIRECTION_NORTH,39:j.default.DIRECTION_EAST,40:j.default.DIRECTION_SOUTH},r=b.default.prototype.getFunction;n.getFunction=function(t){if(null!=a[t.keyCode]){var n=i.getSelectionCell();if(i.model.isVertex(n))return P.default.isShiftDown(t)&&P.default.isAltDown(t)?function(){var l=i.connectVertex(n,a[t.keyCode],i.defaultEdgeLength,t,!0);null!=l&&l.length>0&&(1==l.length&&i.model.isEdge(l[0])?i.setSelectionCell(i.model.getTerminal(l[0],!1)):i.setSelectionCell(l[l.length-1]),null!=e.hoverIcons&&e.hoverIcons.update(i.view.getState(i.getSelectionCell())))}:this.isControlDown(t)?function(){u(t.keyCode,P.default.isShiftDown(t)?i.gridSize:null,!0)}:function(){u(t.keyCode,P.default.isShiftDown(t)?i.gridSize:null)}}return r.apply(this,arguments)};var o=[],s=null;function u(t,e,n){o.push((function(){if(!i.isSelectionEmpty()&&i.isEnabled())if(e=null!=e?e:1,n){i.getModel().beginUpdate();try{for(var l=i.getSelectionCells(),a=0;a<l.length;a++)if(i.getModel().isVertex(l[a])&&i.isCellResizable(l[a])){var r=i.getCellGeometry(l[a]);null!=r&&(r=r.clone(),37==t?r.width=Math.max(0,r.width-e):38==t?r.height=Math.max(0,r.height-e):39==t?r.width+=e:40==t&&(r.height+=e),i.getModel().setGeometry(l[a],r))}}finally{i.getModel().endUpdate()}}else{var o=i.getSelectionCell(),s=i.model.getParent(o),u=null;if(1==i.getSelectionCount()&&i.model.isVertex(o)&&null!=i.layoutManager&&!i.isCellLocked(o)&&(u=i.layoutManager.getLayout(s)),null!=u&&u.constructor==mxStackLayout){var d=s.getIndex(o);37==t||38==t?i.model.add(s,o,Math.max(0,d-1)):39!=t&&40!=t||i.model.add(s,o,Math.min(i.model.getChildCount(s),d+1))}else{var h=0,c=0;37==t?h=-e:38==t?c=-e:39==t?h=e:40==t&&(c=e),i.moveCells(i.getMovableCells(i.getSelectionCells()),h,c)}}})),null!=s&&window.clearTimeout(s),s=window.setTimeout((function(){if(o.length>0){i.getModel().beginUpdate();try{for(var t=0;t<o.length;t++)o[t]();o=[]}finally{i.getModel().endUpdate()}i.scrollCellToVisible(i.getSelectionCell())}}),200)}n.bindAction=Z.default.bind(this,(function(t,e,i,l){var a=this.actions.get(i),r=this.loading,o=this.editor.graph;if(null!=a){var s=function(){o.initPropertyCfg?console&&console.log:(!r||"flex"!==r.style.display)&&a.isEnabled()&&a.funct()};e?l?n.bindControlShiftKey(t,s):n.bindControlKey(t,s):l?n.bindShiftKey(t,s):n.bindKey(t,s)}}));var d=n.escape;return n.escape=function(t){d.apply(this,arguments)},n.enter=function(){},this.editor.chromeless||(n.bindAction(8,!1,"delete"),n.bindAction(8,!0,"deleteAll"),n.bindAction(46,!1,"delete"),n.bindAction(46,!0,"deleteAll"),n.bindAction(65,!0,"selectAll"),n.bindAction(65,!0,"selectNone",!0),n.bindAction(73,!0,"selectVertices",!0),n.bindAction(69,!0,"selectEdges",!0),n.bindAction(67,!0,"copy"),n.bindAction(86,!0,"paste"),n.bindAction(71,!0,"grid",!0)),n}},{key:"createBoxShadowFilter",value:function(){var t=document.createElementNS(j.default.NS_SVG,"filter"),e=document.createElementNS(j.default.NS_SVG,"feGaussianBlur"),i=document.createElementNS(j.default.NS_SVG,"feOffset"),n=document.createElementNS(j.default.NS_SVG,"feFlood"),l=document.createElementNS(j.default.NS_SVG,"feComposite"),a=document.createElementNS(j.default.NS_SVG,"feMerge"),r=document.createElementNS(j.default.NS_SVG,"feMergeNode");return t.setAttribute("id","box-shadow"),e.setAttribute("stdDeviation","10"),e.setAttribute("in","SourceAlpha"),i.setAttribute("dx","1"),i.setAttribute("dy","1"),i.setAttribute("result","offsetblur"),n.setAttribute("flood-color","rgba(82,149,241,0.50)"),l.setAttribute("in2","offsetblur"),l.setAttribute("operator","in"),t.appendChild(e),t.appendChild(i),t.appendChild(n),t.appendChild(l),a.appendChild(document.createElementNS(j.default.NS_SVG,"feMergeNode")),r.setAttribute("in","SourceGraphic"),a.appendChild(r),t.appendChild(a),t}},{key:"destroy",value:function(){if(null!=this.editor&&(this.editor.destroy(),this.editor=null),null!=this.toolbar&&(this.toolbar.destroy(),this.toolbar=null),null!=this.sidebar&&(this.sidebar.destroy(),this.sidebar=null),null!=this.keyHandler&&(this.keyHandler.destroy(),this.keyHandler=null),null!=this.keydownHandler&&(P.default.removeListener(document,"keydown",this.keydownHandler),this.keydownHandler=null),null!=this.keyupHandler&&(P.default.removeListener(document,"keyup",this.keyupHandler),this.keyupHandler=null),null!=this.resizeHandler&&(P.default.removeListener(window,"resize",this.resizeHandler),this.resizeHandler=null),null!=this.gestureHandler&&(P.default.removeGestureListeners(document,this.gestureHandler),this.gestureHandler=null),null!=this.orientationChangeHandler&&(P.default.removeListener(window,"orientationchange",this.orientationChangeHandler),this.orientationChangeHandler=null),null!=this.scrollHandler&&(P.default.removeListener(window,"scroll",this.scrollHandler),this.scrollHandler=null),null!=this.destroyFunctions){for(var t=0;t<this.destroyFunctions.length;t++)this.destroyFunctions[t]();this.destroyFunctions=null}var e=[this.diagramContainer,this.chromelessToolbar,this.layersDialog];for(t=0;t<e.length;t++)null!=e[t]&&null!=e[t].parentNode&&e[t].parentNode.removeChild(e[t])}},{key:"update",value:function(t,e){var i=null,n=this.editor.graph,l=e.properties,a=l.added;if(l.isProcess?i=n.getModel().getBPMNRoot():a&&a.length?i=a[0]:l.removed&&l.removed.length&&(i=n.getModel().getBPMNRoot()),i){n.getJSONModel(),i.getId(),i.getGroup(),i.getType(),i.isCollapsed();var r=[this.props.config.formId,i.getType(),i.getId(),{template:i.template}];"none"===this.refs.diagram.refs.shrink.style.display&&this.showLoading(!0),this.context.invokeAction(this.context.model,"change",r)}}},{key:"removeCellsListener",value:function(t,e){var i=e.getProperty("cells"),n=this.getCellsJson(i,!1),l=[this.props.config.formId,{cells:JSON.stringify(n)}];this.context.invokeAction(this.context.model,o.EVENT.REMOVE_CELLS,l)}},{key:"afterDeleteCellsListener",value:function(t,e){var i=e.getProperty("cells"),n=e.getProperty("selectedCells"),l=this.getCellsJson(i,!1),a=this.getCellsJson(n,!1),r=[this.props.config.formId,{cells:JSON.stringify(l),selectedCells:JSON.stringify(a)}];this.context.invokeAction(this.context.model,o.EVENT.AFTER_DELETE_CELLS,r)}},{key:"pasteCellsListener",value:function(t,e){var i=e.getProperty("cells"),n=this.getCellsJson(i,!0),l=[this.props.config.formId,{cells:JSON.stringify(n)}];this.context.invokeAction(this.context.model,o.EVENT.AFTER_PASTE_CELLS,l)}},{key:"moveCellsListener",value:function(t,e){var i=e.getProperty("parentChanged"),n=e.getProperty("target"),l=null;if(i&&(l=Object.keys(i))&&l.length){var a=[this.props.config.formId,{parentId:n&&n.id,changed:i}];this.context.invokeAction(this.context.model,o.EVENT.PARENT_CHANGED,a)}}},{key:"getCellsJson",value:function(t,e){var i=[];return t.forEach((function(t,n){i.push(t.toBpmnJSON(e))})),i}},{key:"insertCellsListener",value:function(t){var e=t.getProperty("cells")[0],i=null;if(e.isEdge()){var n=e.target;n.setProperty("base","name",n.value),i=[this.props.config.formId,{sourceId:e.source.getId(),edge:e.toBpmnJSONString(!0),target:n.toBpmnJSONString(!0),parentId:e.parent&&e.parent.getId()}]}else i=[this.props.config.formId,{cell:e.toBpmnJSONString(!0)}];this.context.invokeAction(this.context.model,o.EVENT.CELLSINSERTED,i)}},{key:"connectListener",value:function(t){var e=t.getProperty("cell")||t.getProperty("edge"),i=e.source,n=e.target,l=[this.props.config.formId,{edge:e.toBpmnJSONString(!0),sourceId:i&&i.getId(),targetId:n&&n.getId(),parentId:e.parent&&e.parent.getId()}];this.context.invokeAction(this.context.model,P.default.CONNECT,l)}},{key:"splitEdgeListener",value:function(t,e){var i=e.getProperty("edge"),n=e.getProperty("newEdge"),l=[this.props.config.formId,{edge:i.toBpmnJSONString(!0),newEdge:n.toBpmnJSONString(!0)}];this.context.invokeAction(this.context.model,P.default.SPLIT_EDGE,l)}},{key:"showLoading",value:function(t){var e=this;clearTimeout(this.loadingTimer),this.loadingTimer=setTimeout((function(){e.loading.style.display=t?"flex":"none"}),o.debounceTime),this.editor.graph.initPropertyCfg=t}},{key:"addCellsFromSidebar",value:function(t,e,i,n,l,a){var r=this.editor.graph,o=r.view.translate,s=r.getGraphBounds(),u=null,d=s.x-o.x,h=s.y-o.y,c="ierp.".concat(t,".").concat(e),p=K.default.getStencil("".concat(c,"_USE"));p?n="shape=".concat(c,";").concat(n):(p=K.default.getStencil(c),n="shape=".concat(p.shape,";").concat(n)),a&&(n=n.replace(c,"swimlane"),n+=";strokeColor=#BBBBBB;autosize=1;foldable=1;startSize=24;");var f=Z.default.isBoundaryEvent(e);f&&(n+="resizable=0;"),d-=p.w0+10;var g=new Q.default(l,new J.default(0,0,p.w0,p.h0),n,e,null,t,a,i),y=[g];a&&(g.setCollapsed(!0),g.geometry.alternateBounds=new B.default(0,0,j.default.DEFAULT_SWIMLANE_WIDTH,j.default.DEFAULT_SWIMLANE_HEIGHT));var m=!0,v=r.getSelectionCell();if(f){var E=g.geometry;E.y=.5,E.width=p.inwidth||p.w0,E.height=p.inheight||p.h0,E.offset=new U.default(0-E.width/2,0-E.height/2),E.relative=!0,g.setProperty("base","attachedToRefId",v.getId()),m=!1}g.vertex=!0,y=r.getImportableCells(y),r.stopEditing(),r.model.beginUpdate();try{m?u=r.importCells(y,d,h,null):(u=y,r.addCell(g,v)),r.fireEvent(new R.default("cellsInserted","cells",u))}finally{r.model.endUpdate()}null!=u&&u.length>0&&(r.scrollCellToVisible(u[0]),r.setSelectionCells(u))}},{key:"exportImage",value:function(t){var e=this.editor.graph,i=e.getGraphBounds(),n=i.width,l=i.height,a=e.getSvg("#FFF");n=a.getAttribute("width"),l=a.getAttribute("height"),n&&(n=parseInt(n.replace("px",""))+30,a.setAttribute("width","".concat(n,"px"))),l&&(l=parseInt(l.replace("px",""))+30,a.setAttribute("height","".concat(l,"px"))),a.querySelector("g.root").setAttribute("transform","translate(".concat(15.5,", ").concat(15.5,")"));var r=(new XMLSerializer).serializeToString(a),o=unescape(encodeURIComponent(r)),s=btoa(o),u=new Image;u.src="data:image/svg+xml;base64,"+s,u.onload=function(){var e=document.createElement("canvas");e.setAttribute("width",n),e.setAttribute("height",l);var i=e.getContext("2d");i.fillStyle="#FFF",i.drawImage(u,0,0,n,l);var a=null;try{var r=e.toDataURL("image/png").replace("image/png","octet/stream");(a=document.createElement("a")).style="display: none",a.href=r,a.download=t+".png",document.body.appendChild(a),a.click()}finally{window.URL.revokeObjectURL(r),document.body.removeChild(a)}}}}],n&&ct(i.prototype,n),a&&ct(i,a),Object.defineProperty(i,"prototype",{writable:!1}),e}(r.default);Et.contextTypes={dispatch:a.default.func,model:a.default.object,modelType:a.default.string,modelVer:a.default.string,setPostData:a.default.func,invokeAction:a.default.func},Et.childContextTypes={notifyMsg:a.default.func};e.default=(0,g.connect)((function(t){return{uiMetadata:t.metadata.get("domainModel"),modelConfig:t.metadata.get("modelConfig"),ui:t.ui}}),f)(Et)},168904:function(t,e,i){"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}i(182320),i(909112),i(697060),i(360776),i(743924),i(205960),i(846428),i(708896),i(606200),i(534440),i(670864),i(387912),i(836887),i(78504),i(776512),i(977864),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(297336),i(880920);var l=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=n(t)&&"function"!=typeof t)return{default:t};var i=c(e);if(i&&i.has(t))return i.get(t);var l={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if("default"!==r&&Object.prototype.hasOwnProperty.call(t,r)){var o=a?Object.getOwnPropertyDescriptor(t,r):null;o&&(o.get||o.set)?Object.defineProperty(l,r,o):l[r]=t[r]}return l.default=t,i&&i.set(t,l),l}(i(795520)),a=h(i(540900)),r=h(i(2492)),o=h(i(783956)),s=i(891052),u=i(704424),d=h(i(41340));function h(t){return t&&t.__esModule?t:{default:t}}function c(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,i=new WeakMap;return(c=function(t){return t?i:e})(t)}function p(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,f(n.key),n)}}function f(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var l=i.call(t,e||"default");if("object"!=n(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:String(e)}function g(t,e,i){return e=m(e),function(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,y()?Reflect.construct(e,i||[],m(t).constructor):e.apply(t,i))}function y(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(y=function(){return!!t})()}function m(t){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},m(t)}function v(t,e){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},v(t,e)}var E=function(t){function e(t){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=g(this,e,[t])).state={show:!1},i}var i,n,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v(t,e)}(e,t),i=e,(n=[{key:"componentWillReceiveProps",value:function(t){this.setState({show:!!t.showFloatLayer})}},{key:"shouldComponentUpdate",value:function(t,e){if(!(0,s.is)(this.state.show,e.show)&&t.initialData&&t.initialData.floatLayerCellIds&&t.updateFloatLayer&&t.updateFloatLayer.get("id")){for(var i=t.updateFloatLayer.get("id"),n=t.initialData.floatLayerCellIds,l=0;l<=n.length;l++)if(n[l]==i)return!0;return!1}}},{key:"render",value:function(){var t,e,i=this,n=this.props.updateFloatLayer;n&&n.size?(t=n.get("top"),e=n.get("left")):(t=this.refs.floatlayer?this.refs.floatlayer.style.top:"0px",e=this.refs.floatlayer?this.refs.floatlayer.style.left:"0px");var a=(0,s.fromJS)({type:"bill",place:"right",link:!1,billno:"***",showIcon:!0,iconClassName:"***"});return l.default.createElement("div",{ref:"floatlayer",className:r.default.floatlayer,style:{display:"flex",top:t,left:e}},l.default.createElement(d.default,{ref:"floatlayertip",tips:a,showFormByTips:function(t,e){return dispatch((0,u.showFormByTips)(i.context.model.pageId,i.context.model.key,t,e,"click"))}}))}},{key:"componentWillUpdate",value:function(t,e){if(e&&e.show&&t.initialData&&t.initialData.floatLayerCellIds&&t.updateFloatLayer&&t.updateFloatLayer.get("id")){for(var i=t.updateFloatLayer.get("id"),n=t.initialData.floatLayerCellIds,l=0;l<=n.length;l++)if(n[l]==i){var a=t.updateFloatLayer,r=JSON.stringify({cellId:a.get("id"),procInstId:a.get("procInstId"),billId:a.get("billId"),pageId:a.get("pageId"),type:"floatLayer",uuid:this.refs.floatlayertip.uuid,top:a.get("top"),left:a.get("left")});this.context.dispatch((0,u.showFormByTips)(this.context.model.pageId,this.context.model.key,r,this.refs.floatlayertip.uuid,"hover"))}}else o.default.hide(document.querySelector('[data-for="'.concat("+this.refs.floatlayertip.uuid+",'"]')))}}])&&p(i.prototype,n),a&&p(i,a),Object.defineProperty(i,"prototype",{writable:!1}),e}(l.Component);E.contextTypes={dispatch:a.default.func,invokeAction:a.default.func,model:a.default.object};e.default=E},831628:function(t,e,i){"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}i(182320),i(909112),i(697060),i(360776),i(743924),i(205960),i(846428),i(708896),i(606200),i(534440),i(670864),i(387912),i(836887),i(78504),i(776512),i(977864),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(297336),i(880920);var l=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=n(t)&&"function"!=typeof t)return{default:t};var i=f(e);if(i&&i.has(t))return i.get(t);var l={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if("default"!==r&&Object.prototype.hasOwnProperty.call(t,r)){var o=a?Object.getOwnPropertyDescriptor(t,r):null;o&&(o.get||o.set)?Object.defineProperty(l,r,o):l[r]=t[r]}return l.default=t,i&&i.set(t,l),l}(i(795520)),a=p(i(540900)),r=p(i(774770)),o=p(i(370608)),s=p(i(671252)),u=p(i(742288)),d=i(331428),h=i(303528),c=i(199860);function p(t){return t&&t.__esModule?t:{default:t}}function f(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,i=new WeakMap;return(f=function(t){return t?i:e})(t)}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,v(n.key),n)}}function m(t,e,i){return e&&y(t.prototype,e),i&&y(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function v(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var l=i.call(t,e||"default");if("object"!=n(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:String(e)}function E(t,e,i){return e=S(e),function(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,b()?Reflect.construct(e,i||[],S(t).constructor):e.apply(t,i))}function b(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(b=function(){return!!t})()}function S(t){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},S(t)}function w(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A(t,e)}function A(t,e){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},A(t,e)}var C=function(t){function e(t){var i;return g(this,e),(i=E(this,e,[t])).state={zoomInActive:!1,zoomOutActive:!1,downloadActive:!1,scale:1,percentage:"100%"},i}return w(e,t),m(e,[{key:"render",value:function(){var t=this,e=this.props.isBillRelationGraph,i="wf_viewflowchartmobile"==this.props.config.formId,n=i||e?r.default.notvisible:r.default.visible,a=(!i&&this.state.downloadActive?r.default.visible:r.default.notvisible,null);if("bpm_billrelation_graph"==this.props.config.formId&&e){var o=(this.props.config.clientParams||{}).serverRender;a=l.default.createElement(T,{graph:this.props.graph,showLoading:this.props.showLoading,isServerRender:o,switchLayout:this.props.switchLayout})}return l.default.createElement(l.default.Fragment,null,a,l.default.createElement("div",{className:(0,s.default)(r.default.floatToolbar)},l.default.createElement(c.Tooltip,{tip:(0,d.getLangMsg)({key:"FloatToolbar.downloadFlowChart"}),placement:"topRight"},l.default.createElement("div",{className:(0,s.default)(r.default.item,r.default.download,n),onClick:function(e){t.downloadClickHandler(e)},onMouseOver:function(e){t.downloadMouseOverHandler(e)},onMouseOut:function(e){t.downloadMouseOutHandler(e)}},l.default.createElement("img",{className:r.default.icon,src:this.state.downloadActive?h.ICON_DOWNLOAD_HOVER:h.ICON_DOWNLOAD}))),l.default.createElement("div",{className:(0,s.default)(r.default.item,r.default["zoom-in"]),onClick:function(e){t.zoomInClickHandler(e,!0)},onMouseOver:function(e){t.mouseOverHandler(e,!0)},onMouseOut:function(e){t.mouseOutHandler(e,!0)}},l.default.createElement("img",{className:r.default.icon,src:this.state.zoomInActive?h.ICON_ZOOMIN_HOVER:h.ICON_ZOOMIN})),l.default.createElement("div",{className:(0,s.default)(r.default.item,r.default["zoom-out"]),onClick:function(e){t.zoomOutClickHandler(e,!1)},onMouseOver:function(e){t.mouseOverHandler(e,!1)},onMouseOut:function(e){t.mouseOutHandler(e,!1)}},l.default.createElement("img",{className:r.default.icon,src:this.state.zoomOutActive?h.ICON_ZOOMOUT_HOVER:h.ICON_ZOOMOUT}))))}},{key:"downloadClickHandler",value:function(t){var e=this.context.model,i=e.getFormConfig();this.context.invokeAction(e,"handleEvent",[i.formId,"downloadFlowChart",{}])}},{key:"downloadMouseOverHandler",value:function(t){this.setState({downloadActive:!0})}},{key:"downloadMouseOutHandler",value:function(t){this.setState({downloadActive:!1})}},{key:"zoomInClickHandler",value:function(t,e){if(!this.isScaleOutOfRange(e)){var i=this.props.actions.get("zoomIn");i&&i.funct(t),o.default.consume(t),this.updatePercentage(),this.props.clicked&&this.props.clicked()}}},{key:"zoomOutClickHandler",value:function(t,e){if(!this.isScaleOutOfRange(e)){var i=this.props.actions.get("zoomOut");i&&i.funct(t),o.default.consume(t),this.updatePercentage(),this.props.clicked&&this.props.clicked()}}},{key:"updatePercentage",value:function(){var t=this.props.graph.view.getScale();this.setState({scale:t,percentage:u.default.getScalePercentage(t)})}},{key:"mouseOverHandler",value:function(t,e){this.isScaleOutOfRange(e)||this.hoverZoomButton(e,!0)}},{key:"mouseOutHandler",value:function(t,e){this.hoverZoomButton(e,!1)}},{key:"hoverZoomButton",value:function(t,e){t?this.setState({zoomInActive:e}):this.setState({zoomOutActive:e})}},{key:"isScaleOutOfRange",value:function(t){var e=this.state.scale||0;return t?e>=h.zoom_max:e<=h.zoom_min}}]),e}(l.Component);C.contextTypes={invokeAction:a.default.func,model:a.default.object};var T=function(t){function e(t){var i;return g(this,e),(i=E(this,e,[t])).state={horizontal:!0,horizontalCls:"",verticalCls:r.default.clickable},i}return w(e,t),m(e,[{key:"shouldComponentUpdate",value:function(t,e){var i=this.state;return i.horizontal!=e.horizontal||i.horizontalCls!=e.horizontalCls||i.verticalCls!=e.verticalCls}},{key:"render",value:function(){var t=this,e=l.default.createElement("svg",{width:"56px",height:"28px",viewBox:"0 0 56 28",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},l.default.createElement("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},l.default.createElement("g",null,l.default.createElement("rect",{stroke:"#5582F3",fill:"#FFFFFF",x:"0.5",y:"0.5",width:"55",height:"27",rx:"2"}),l.default.createElement("path",{d:"M2,0 L28,0 L28,0 L28,28 L2,28 C0.8954305,28 1.87533573e-15,27.1045695 0,26 L0,2 C-3.57315355e-16,0.8954305 0.8954305,-1.91384796e-17 2,0 Z",fill:"#5582F3","fill-rule":"nonzero"})),l.default.createElement("path",{d:"M21,7 L21,12 L16,12 L16,10 L14.5,10 L14.5,18 L16,18 L16,16 L21,16 L21,21 L16,21 L16,19 L13.5,19 L13.5,14.5 L12,14.5 L12,16.5 L7,16.5 L7,11.5 L12,11.5 L12,13.5 L13.5,13.5 L13.5,9 L16,9 L16,7 L21,7 Z",fill:"#FFFFFF"}),l.default.createElement("path",{d:"M37,13.5 L41.5,13.5 L41.5,12 L39.5,12 L39.5,7 L44.5,7 L44.5,12 L42.5,12 L42.5,13.5 L47,13.5 L47,16 L49,16 L49,21 L44,21 L44,16 L46,16 L46,14.5 L38,14.5 L38,16 L40,16 L40,21 L35,21 L35,16 L37,16 L37,13.5 Z",fill:"#5582F3","fill-rule":"nonzero"}))),i=l.default.createElement("svg",{width:"56px",height:"28px",viewBox:"0 0 56 28",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},l.default.createElement("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},l.default.createElement("g",null,l.default.createElement("rect",{stroke:"#5582F3",fill:"#FFFFFF",x:"0.5",y:"0.5",width:"55",height:"27",rx:"2"}),l.default.createElement("path",{d:"M30,0 L56,0 L56,0 L56,28 L30,28 C28.8954305,28 28,27.1045695 28,26 L28,2 C28,0.8954305 28.8954305,-1.91384796e-17 30,0 Z",fill:"#5582F3","fill-rule":"nonzero",transform:"translate(42.000000, 14.000000) scale(-1, 1) translate(-42.000000, -14.000000) "})),l.default.createElement("path",{d:"M37,13.5 L41.5,13.5 L41.5,12 L39.5,12 L39.5,7 L44.5,7 L44.5,12 L42.5,12 L42.5,13.5 L47,13.5 L47,16 L49,16 L49,21 L44,21 L44,16 L46,16 L46,14.5 L38,14.5 L38,16 L40,16 L40,21 L35,21 L35,16 L37,16 L37,13.5 Z",fill:"#FFFFFF","fill-rule":"nonzero"}),l.default.createElement("path",{d:"M21,7 L21,12 L16,12 L16,10 L14.5,10 L14.5,18 L16,18 L16,16 L21,16 L21,21 L16,21 L16,19 L13.5,19 L13.5,14.5 L12,14.5 L12,16.5 L7,16.5 L7,11.5 L12,11.5 L12,13.5 L13.5,13.5 L13.5,9 L16,9 L16,7 L21,7 Z",fill:"#5582F3"})));return l.default.createElement("div",{className:r.default.floatButtons},this.state.horizontal?e:i,l.default.createElement("div",{className:(0,s.default)(r.default.button,this.state.horizontalCls),onClick:function(e){t.floatButtonClicked(e)}}),l.default.createElement("div",{className:(0,s.default)(r.default.button,r.default.right,this.state.verticalCls),onClick:function(e){t.floatButtonClicked(e)}}))}},{key:"floatButtonClicked",value:function(t){var e=t.currentTarget;if(u.default.hasClass(e,r.default.clickable)){var i=this.state.horizontal,n="",l="";i?(i=!1,l="",n=r.default.clickable):(i=!0,n="",l=r.default.clickable),this.props.isServerRender?(this.props.showLoading(!0),this.props.graph.invokeCustomEvent("switchLayout",{horizontal:i})):this.props.switchLayout(i),this.setState({horizontal:i,horizontalCls:n,verticalCls:l})}}}]),e}(l.Component);e.default=C},478364:function(t,e,i){"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}i(182320),i(909112),i(697060),i(360776),i(743924),i(205960),i(846428),i(708896),i(606200),i(534440),i(670864),i(387912),i(836887),i(78504),i(776512),i(977864),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(297336),i(880920);var l,a=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=n(t)&&"function"!=typeof t)return{default:t};var i=o(e);if(i&&i.has(t))return i.get(t);var l={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if("default"!==r&&Object.prototype.hasOwnProperty.call(t,r)){var s=a?Object.getOwnPropertyDescriptor(t,r):null;s&&(s.get||s.set)?Object.defineProperty(l,r,s):l[r]=t[r]}return l.default=t,i&&i.set(t,l),l}(i(795520)),r=(l=i(39864))&&l.__esModule?l:{default:l};function o(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,i=new WeakMap;return(o=function(t){return t?i:e})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u(n.key),n)}}function u(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var l=i.call(t,e||"default");if("object"!=n(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:String(e)}function d(t,e,i){return e=c(e),function(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,h()?Reflect.construct(e,i||[],c(t).constructor):e.apply(t,i))}function h(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(h=function(){return!!t})()}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}function p(t,e){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},p(t,e)}var f=function(t){function e(t){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=d(this,e,[t])).eventListeners=null,i.eventsEnabled=!0,i.eventSource=null,i}var i,n,l;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}(e,t),i=e,(n=[{key:"isEventsEnabled",value:function(){return this.eventsEnabled}},{key:"setEventsEnabled",value:function(t){this.eventsEnabled=t}},{key:"getEventSource",value:function(){return this.eventSource}},{key:"setEventSource",value:function(t){this.eventSource=t}},{key:"addListener",value:function(t,e){r.default.prototype.addListener.call(this,t,e)}},{key:"removeListener",value:function(t){r.default.prototype.removeListener.call(this,t)}},{key:"fireEvent",value:function(t,e){r.default.prototype.fireEvent.call(this,t,e)}}])&&s(i.prototype,n),l&&s(i,l),Object.defineProperty(i,"prototype",{writable:!1}),e}(a.Component);e.default=f},926784:function(t,e,i){"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}i(182320),i(909112),i(697060),i(360776),i(743924),i(205960),i(846428),i(708896),i(606200),i(534440),i(670864),i(387912),i(836887),i(78504),i(776512),i(977864),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(297336),i(880920),i(86744);y(i(243264)),y(i(909976));var l=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=n(t)&&"function"!=typeof t)return{default:t};var i=g(e);if(i&&i.has(t))return i.get(t);var l={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if("default"!==r&&Object.prototype.hasOwnProperty.call(t,r)){var o=a?Object.getOwnPropertyDescriptor(t,r):null;o&&(o.get||o.set)?Object.defineProperty(l,r,o):l[r]=t[r]}return l.default=t,i&&i.set(t,l),l}(i(795520)),a=y(i(540900)),r=y(i(264948)),o=i(141170),s=i(330936),u=y(i(701555)),d=i(517968),h=y(i(609568)),c=i(290600),p=i(218652),f=i(738704);function g(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,i=new WeakMap;return(g=function(t){return t?i:e})(t)}function y(t){return t&&t.__esModule?t:{default:t}}function m(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,v(n.key),n)}}function v(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var l=i.call(t,e||"default");if("object"!=n(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:String(e)}function E(t,e,i){return e=S(e),function(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,b()?Reflect.construct(e,i||[],S(t).constructor):e.apply(t,i))}function b(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(b=function(){return!!t})()}function S(t){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},S(t)}function w(t,e){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},w(t,e)}var A=(0,o.applyMiddleware)(h.default,(function(t){return function(t){return function(e){try{return t(e)}catch(t){throw console.warn("There is something wrong with dispatch action: ",e),t}}}}))(o.createStore),C=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),E(this,e,[t])}var i,n,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w(t,e)}(e,t),i=e,n=[{key:"getChildContext",value:function(){var t=this;return{dispatch:this.props.dispatch,model:this.props.model,invokeAction:function(){return t.props.dispatch(d.property_editor_click.apply(void 0,arguments))},modelType:this.modelType,modelVer:this.modelver||"1.0",setPostData:function(){return t.props.dispatch(d.setPostData.apply(void 0,arguments))}}}},{key:"componentWillMount",value:function(){this.modelType="WorkflowModel",this.modelver=null,this.store=A(u.default),window.wfStore=this.store;var t=this.props.model,e=t.pageId,i=t.key;setTimeout((function(){return(0,f.setControlMount)(e,i,!0)}),0)}},{key:"render",value:function(){var t=this.props.model.state,e=this.props.model.pageId,i=(0,p.getDataProperty)(e,"workflowdesigner",["open_args",this.props.model.key])(t),n=(0,p.getDataProperty)(e,"workflowdesigner","subprocess")(t),a=(0,p.getDataProperty)(e,"workflowdesigner","approvalRecords")(t),o=(0,p.getDataProperty)(e,"workflowdesigner","showCoordinateInfo")(t),u=(0,p.getDataProperty)(e,"workflowdesigner","showBillSummaryInfo")(t),d=(0,p.getFormConfig)(this.props.model.pageId)(t),h=null,f=this.props.model.meta.get(c.EDITABLE),g=this.props.model.meta.get("showNodeDetails");return i&&(h=i[2]).updateProcInstId&&(d.clientParams.procInstId=h.procInstId),l.default.createElement(s.Provider,{store:this.store},l.default.createElement(r.default,{initialData:h,showNodeDetails:g,editable:f,config:d,subProcData:n,approvalRecords:a,coordinateRecords:o,billSummaryInfo:u}))}},{key:"componentWillUnmount",value:function(){var t=this.props.model,e=t.pageId,i=t.key;(0,f.setControlMount)(e,i,!1)}}],n&&m(i.prototype,n),a&&m(i,a),Object.defineProperty(i,"prototype",{writable:!1}),e}(l.Component);C.childContextTypes={dispatch:a.default.func,model:a.default.object,invokeAction:a.default.func,modelType:a.default.string,modelVer:a.default.string,setPostData:a.default.func};e.default=C},257528:function(t,e,i){"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}i(182320),i(909112),i(697060),i(360776),i(743924),i(205960),i(846428),i(708896),i(606200),i(534440),i(670864),i(387912),i(836887),i(78504),i(776512),i(977864),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(297336),i(880920),i(86744);var l=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=n(t)&&"function"!=typeof t)return{default:t};var i=u(e);if(i&&i.has(t))return i.get(t);var l={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if("default"!==r&&Object.prototype.hasOwnProperty.call(t,r)){var o=a?Object.getOwnPropertyDescriptor(t,r):null;o&&(o.get||o.set)?Object.defineProperty(l,r,o):l[r]=t[r]}return l.default=t,i&&i.set(t,l),l}(i(795520)),a=(s(i(540900)),i(218652)),r=s(i(255180)),o=i(891052);function s(t){return t&&t.__esModule?t:{default:t}}function u(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,i=new WeakMap;return(u=function(t){return t?i:e})(t)}function d(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,h(n.key),n)}}function h(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var l=i.call(t,e||"default");if("object"!=n(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:String(e)}function c(t,e,i){return e=f(e),function(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,p()?Reflect.construct(e,i||[],f(t).constructor):e.apply(t,i))}function p(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(p=function(){return!!t})()}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}function g(t,e){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},g(t,e)}function y(){var t=$("#im-chat-container"),e=r.default.chatPosition;t.length>0&&t.hasClass(e)&&t.removeClass(e)}e.default=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,e,[t])}var i,n,l;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g(t,e)}(e,t),i=e,(n=[{key:"_openChatWindow",value:function(t){var e=$(".im-tray"),i=r.default.chatPosition;e.unbind("click",y),window.pcyzjShare.openChat({groupId:t}),$("#im-session-left").toggleClass("im-listAppear"),e.length>0&&($("#im-chat-container").addClass(i),e.bind("click",y))}},{key:"shouldComponentUpdate",value:function(t,e){var i=this.props.model||{},n=i.state,l=t.model||{},r=l.state;return!(0,o.is)((0,a.getDevportalParams)(i.pageId,"yzjParam")(n),(0,a.getDevportalParams)(l.pageId,"yzjParam")(r))}},{key:"render",value:function(){var t=this.props.model||{},e=t.state,i=this,n=(0,a.getDevportalParams)(t.pageId,"yzjParam")(e);return n&&n.groupId&&($("#"+n.groupId).length>0?i._openChatWindow(n.groupId):setTimeout((function(){i._openChatWindow(n.groupId)}),5e3)),null}}])&&d(i.prototype,n),l&&d(i,l),Object.defineProperty(i,"prototype",{writable:!1}),e}(l.Component)},132716:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.update_ui_metadata=e.show_floatlayer=e.set_update_control=e.set_ui_metadata=e.set_select_control=e.hide_floatlayer=e.clean_activated=e.activate_cell=void 0;e.set_ui_metadata="set_ui_metadata",e.update_ui_metadata="update_ui_metadata",e.set_select_control="set_select_control",e.set_update_control="set_update_control",e.activate_cell="activate_cell",e.clean_activated="clean_activated",e.show_floatlayer="show_floatlayer",e.hide_floatlayer="hide_floatlayer"},791624:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.STORE_KEY_PREFIX=e.PROCESS_DIAGRAM_TYPE=e.PROCESS_DIAGRAM_GROUP=e.EXTENDED_CONTROL=void 0;e.STORE_KEY_PREFIX="workflowdesigner",e.PROCESS_DIAGRAM_GROUP="ProcessControl",e.PROCESS_DIAGRAM_TYPE="Diagram",e.EXTENDED_CONTROL="ExtendControl"},303528:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.zoom_min=e.zoom_max=e.debounceTime=e.compactUi=e.SIDEBAR=e.MENU=e.INITCLASS=e.ICON_ZOOMOUT_HOVER=e.ICON_ZOOMOUT=e.ICON_ZOOMIN_HOVER=e.ICON_ZOOMIN=e.ICON_RETRACT_HOVER=e.ICON_RETRACT=e.ICON_DOWNLOAD_HOVER=e.ICON_DOWNLOAD=e.ICON_COMMENT_HOVER=e.ICON_COMMENT=e.EVENT=e.EDITORUI=e.EDITOR=e.CURRENT_SUBPROCESS_KEY=e.CURRENT_SUBPROCESS_ID=e.CONFIG_PANEL_ID=void 0;var n,l=(n=i(22676))&&n.__esModule?n:{default:n};e.compactUi=!0,e.debounceTime=1e3,e.zoom_min=.5,e.zoom_max=2,e.MENU={defaultFont:"Helvetica",defaultFontSize:"12",defaultMenuItems:["file","edit","view","arrange","extras","help"],defaultFonts:["Helvetica","Verdana","Times New Roman","Garamond","Comic Sans MS","Courier New","Georgia","Lucida Console","Tahoma"]},e.SIDEBAR={collapsedImage:l.default.IS_SVG?"data:image/gif,base64,R0lGODlhDQANAIABAJmZmf///yH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS4wLWMwNjAgNjEuMTM0Nzc3LCAyMDEwLzAyLzEyLTE3OjMyOjAwICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozNUQyRTJFNjZGNUYxMUU1QjZEOThCNDYxMDQ2MzNCQiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozNUQyRTJFNzZGNUYxMUU1QjZEOThCNDYxMDQ2MzNCQiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjFERjc3MEUxNkY1RjExRTVCNkQ5OEI0NjEwNDYzM0JCIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjFERjc3MEUyNkY1RjExRTVCNkQ5OEI0NjEwNDYzM0JCIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Af/+/fz7+vn49/b19PPy8fDv7u3s6+rp6Ofm5eTj4uHg397d3Nva2djX1tXU09LR0M/OzczLysnIx8bFxMPCwcC/vr28u7q5uLe2tbSzsrGwr66trKuqqainpqWko6KhoJ+enZybmpmYl5aVlJOSkZCPjo2Mi4qJiIeGhYSDgoGAf359fHt6eXh3dnV0c3JxcG9ubWxramloZ2ZlZGNiYWBfXl1cW1pZWFdWVVRTUlFQT05NTEtKSUhHRkVEQ0JBQD8+PTw7Ojk4NzY1NDMyMTAvLi0sKyopKCcmJSQjIiEgHx4dHBsaGRgXFhUUExIREA8ODQwLCgkIBwYFBAMCAQAAIfkEAQAAAQAsAAAAAA0ADQAAAhSMj6lrwAjcC1GyahV+dcZJgeIIFgA7":IMAGE_PATH+"/collapsed.gif",expandedImage:l.default.IS_SVG?"data:image/gif,base64,R0lGODlhDQANAIABAJmZmf///yH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS4wLWMwNjAgNjEuMTM0Nzc3LCAyMDEwLzAyLzEyLTE3OjMyOjAwICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoxREY3NzBERjZGNUYxMUU1QjZEOThCNDYxMDQ2MzNCQiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoxREY3NzBFMDZGNUYxMUU1QjZEOThCNDYxMDQ2MzNCQiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjFERjc3MERENkY1RjExRTVCNkQ5OEI0NjEwNDYzM0JCIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjFERjc3MERFNkY1RjExRTVCNkQ5OEI0NjEwNDYzM0JCIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Af/+/fz7+vn49/b19PPy8fDv7u3s6+rp6Ofm5eTj4uHg397d3Nva2djX1tXU09LR0M/OzczLysnIx8bFxMPCwcC/vr28u7q5uLe2tbSzsrGwr66trKuqqainpqWko6KhoJ+enZybmpmYl5aVlJOSkZCPjo2Mi4qJiIeGhYSDgoGAf359fHt6eXh3dnV0c3JxcG9ubWxramloZ2ZlZGNiYWBfXl1cW1pZWFdWVVRTUlFQT05NTEtKSUhHRkVEQ0JBQD8+PTw7Ojk4NzY1NDMyMTAvLi0sKyopKCcmJSQjIiEgHx4dHBsaGRgXFhUUExIREA8ODQwLCgkIBwYFBAMCAQAAIfkEAQAAAQAsAAAAAA0ADQAAAhGMj6nL3QAjVHIu6azbvPtWAAA7":IMAGE_PATH+"/expanded.gif",tooltipImage:l.default.IS_SVG?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAbCAMAAAB7jU7LAAAACVBMVEX///+ZmZn///9Y2COLAAAAA3RSTlP//wDXyg1BAAAAOElEQVR42mXQMQ4AMAgDsWv//+iutcJmIQSk+9dJpVKpVCqVSqVSqZTdncWzF8/NeP7FkxWenPEDOnUBiL3jWx0AAAAASUVORK5CYII=":IMAGE_PATH+"/tooltip.png",searchImage:l.default.IS_SVG?"data:image/png,base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAEaSURBVHjabNGxS5VxFIfxz71XaWuQUJCG/gCHhgTD9VpEETg4aMOlQRp0EoezObgcd220KQiXmpretTAHQRBdojlQEJyukPdt+b1ywfvAGc7wnHP4nlZd1yKijQW8xzNc4Su+ZOYfQ3T6/f4YNvEJYzjELXp4VVXVz263+7cR2niBxAFeZ2YPi3iHR/gYERPDwhpOsd6sz8x/mfkNG3iOlWFhFj8y89J9KvzGXER0GuEaD42mgwHqUtoljbcRsTBCeINpfM/MgZLKPpaxFxGbOCqDXmILN7hoJrTKH+axhxmcYRxP0MIDnOBDZv5q1XUNIuJxifJp+UNV7t7BFM6xeic0RMQ4Bpl5W/ol7GISx/eEUUTECrbx+f8A8xhiZht9zsgAAAAASUVORK5CYII=":IMAGE_PATH+"/search.png",enableTooltips:!0,tooltipBorder:16,tooltipDelay:300,dropTargetDelay:200,gearImage:"/clipart/Gear_128x128.png",thumbWidth:54,thumbHeight:54,thumbPadding:document.documentMode>=5?0:1,thumbBorder:2,sidebarTitleSize:9,sidebarTitles:!1,tooltipTitles:!0,maxTooltipWidth:400,maxTooltipHeight:400,addStencilsToIndex:!0,defaultImageWidth:80,defaultImageHeight:80},e.EDITOR={originalNoForeignObject:l.default.NO_FO},e.EDITORUI={splitSize:l.default.IS_TOUCH||l.default.IS_POINTER?14:8,menubarHeight:30,formatEnabled:!0,formatWidth:240,toolbarHeight:34,footerHeight:28,editButtonLink:null,hsplitPosition:screen.width<=500?116:204,allowAnimation:!0},e.EVENT={CHANGE:"change",CELLSINSERTED:"cellsInserted",PARENT_CHANGED:"parentChanged",REMOVE_CELLS:"removeCells",AFTER_DELETE_CELLS:"afterDeleteCells",FOLD_CELLS:"foldCells",AFTER_FOLD_CELLS:"afterFoldCells",BEFORE_PASTE_CELLS:"beforePasteCells",AFTER_PASTE_CELLS:"afterPasteCells"},e.INITCLASS="initClass",e.CURRENT_SUBPROCESS_ID="currentSubProcessId",e.CURRENT_SUBPROCESS_KEY="currentSubProcessKey",e.CONFIG_PANEL_ID="rightpanel",e.ICON_RETRACT="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTNweCIgaGVpZ2h0PSIxNHB4IiB2aWV3Qm94PSIwIDAgMTMgMTQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8ZyBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTMzMS4wMDAwMDAsIC0xOTAuMDAwMDAwKSIgZmlsbD0iIzdGOTNCQyI+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMzMxLjUsMTkxLjUgTDEzMzIuNSwxOTEuNSBMMTMzMi41LDE5Mi41IEwxMzMxLjUsMTkyLjUgTDEzMzEuNSwxOTEuNSBaIE0xMzMwLjUsMTkwLjUgTDEzMzEuNSwxOTAuNSBMMTMzMS41LDE5MS41IEwxMzMwLjUsMTkxLjUgTDEzMzAuNSwxOTAuNSBaIE0xMzM1LjUsMTk1LjUgTDEzMzYuNSwxOTUuNSBMMTMzNi41LDE5Ni41IEwxMzM1LjUsMTk2LjUgTDEzMzUuNSwxOTUuNSBaIE0xMzMzLjUsMTkzLjUgTDEzMzQuNSwxOTMuNSBMMTMzNC41LDE5NC41IEwxMzMzLjUsMTk0LjUgTDEzMzMuNSwxOTMuNSBaIE0xMzMyLjUsMTkyLjUgTDEzMzMuNSwxOTIuNSBMMTMzMy41LDE5My41IEwxMzMyLjUsMTkzLjUgTDEzMzIuNSwxOTIuNSBaIE0xMzM2LjUsMTk2LjUgTDEzMzcuNSwxOTYuNSBMMTMzNy41LDE5Ny41IEwxMzM2LjUsMTk3LjUgTDEzMzYuNSwxOTYuNSBaIE0xMzM0LjUsMTk0LjUgTDEzMzUuNSwxOTQuNSBMMTMzNS41LDE5NS41IEwxMzM0LjUsMTk1LjUgTDEzMzQuNSwxOTQuNSBaIE0xMzQ0LjUsMTkwLjUgTDEzNDQuNSwxOTEuNSBMMTM0My41LDE5MS41IEwxMzQzLjUsMTkwLjUgTDEzNDQuNSwxOTAuNSBaIE0xMzQwLjUsMTk0LjUgTDEzNDAuNSwxOTUuNSBMMTMzOS41LDE5NS41IEwxMzM5LjUsMTk0LjUgTDEzNDAuNSwxOTQuNSBaIE0xMzQyLjUsMTkyLjUgTDEzNDIuNSwxOTMuNSBMMTM0MS41LDE5My41IEwxMzQxLjUsMTkyLjUgTDEzNDIuNSwxOTIuNSBaIE0xMzM4LjUsMTk2LjUgTDEzMzguNSwxOTcuNSBMMTMzNy41LDE5Ny41IEwxMzM3LjUsMTk2LjUgTDEzMzguNSwxOTYuNSBaIE0xMzQzLjUsMTkxLjUgTDEzNDMuNSwxOTIuNSBMMTM0Mi41LDE5Mi41IEwxMzQyLjUsMTkxLjUgTDEzNDMuNSwxOTEuNSBaIE0xMzM5LjUsMTk1LjUgTDEzMzkuNSwxOTYuNSBMMTMzOC41LDE5Ni41IEwxMzM4LjUsMTk1LjUgTDEzMzkuNSwxOTUuNSBaIE0xMzQxLjUsMTkzLjUgTDEzNDEuNSwxOTQuNSBMMTM0MC41LDE5NC41IEwxMzQwLjUsMTkzLjUgTDEzNDEuNSwxOTMuNSBaIE0xMzMxLjUsMTk3LjUgTDEzMzIuNSwxOTcuNSBMMTMzMi41LDE5OC41IEwxMzMxLjUsMTk4LjUgTDEzMzEuNSwxOTcuNSBaIE0xMzMwLjUsMTk2LjUgTDEzMzEuNSwxOTYuNSBMMTMzMS41LDE5Ny41IEwxMzMwLjUsMTk3LjUgTDEzMzAuNSwxOTYuNSBaIE0xMzM1LjUsMjAxLjUgTDEzMzYuNSwyMDEuNSBMMTMzNi41LDIwMi41IEwxMzM1LjUsMjAyLjUgTDEzMzUuNSwyMDEuNSBaIE0xMzMzLjUsMTk5LjUgTDEzMzQuNSwxOTkuNSBMMTMzNC41LDIwMC41IEwxMzMzLjUsMjAwLjUgTDEzMzMuNSwxOTkuNSBaIE0xMzMyLjUsMTk4LjUgTDEzMzMuNSwxOTguNSBMMTMzMy41LDE5OS41IEwxMzMyLjUsMTk5LjUgTDEzMzIuNSwxOTguNSBaIE0xMzM2LjUsMjAyLjUgTDEzMzcuNSwyMDIuNSBMMTMzNy41LDIwMy41IEwxMzM2LjUsMjAzLjUgTDEzMzYuNSwyMDIuNSBaIE0xMzM0LjUsMjAwLjUgTDEzMzUuNSwyMDAuNSBMMTMzNS41LDIwMS41IEwxMzM0LjUsMjAxLjUgTDEzMzQuNSwyMDAuNSBaIE0xMzQ0LjUsMTk2LjUgTDEzNDQuNSwxOTcuNSBMMTM0My41LDE5Ny41IEwxMzQzLjUsMTk2LjUgTDEzNDQuNSwxOTYuNSBaIE0xMzQwLjUsMjAwLjUgTDEzNDAuNSwyMDEuNSBMMTMzOS41LDIwMS41IEwxMzM5LjUsMjAwLjUgTDEzNDAuNSwyMDAuNSBaIE0xMzQyLjUsMTk4LjUgTDEzNDIuNSwxOTkuNSBMMTM0MS41LDE5OS41IEwxMzQxLjUsMTk4LjUgTDEzNDIuNSwxOTguNSBaIE0xMzM4LjUsMjAyLjUgTDEzMzguNSwyMDMuNSBMMTMzNy41LDIwMy41IEwxMzM3LjUsMjAyLjUgTDEzMzguNSwyMDIuNSBaIE0xMzQzLjUsMTk3LjUgTDEzNDMuNSwxOTguNSBMMTM0Mi41LDE5OC41IEwxMzQyLjUsMTk3LjUgTDEzNDMuNSwxOTcuNSBaIE0xMzM5LjUsMjAxLjUgTDEzMzkuNSwyMDIuNSBMMTMzOC41LDIwMi41IEwxMzM4LjUsMjAxLjUgTDEzMzkuNSwyMDEuNSBaIE0xMzQxLjUsMTk5LjUgTDEzNDEuNSwyMDAuNSBMMTM0MC41LDIwMC41IEwxMzQwLjUsMTk5LjUgTDEzNDEuNSwxOTkuNSBaIiBpZD0iQ29tYmluZWQtU2hhcGUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzMzcuNTAwMDAwLCAxOTcuMDAwMDAwKSByb3RhdGUoLTkwLjAwMDAwMCkgdHJhbnNsYXRlKC0xMzM3LjUwMDAwMCwgLTE5Ny4wMDAwMDApICI+PC9wYXRoPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+",e.ICON_RETRACT_HOVER="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTNweCIgaGVpZ2h0PSIxNHB4IiB2aWV3Qm94PSIwIDAgMTMgMTQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8ZyBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTMzMS4wMDAwMDAsIC0xOTAuMDAwMDAwKSIgZmlsbD0iI0ZDODU1NSI+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMzMxLjUsMTkxLjUgTDEzMzIuNSwxOTEuNSBMMTMzMi41LDE5Mi41IEwxMzMxLjUsMTkyLjUgTDEzMzEuNSwxOTEuNSBaIE0xMzMwLjUsMTkwLjUgTDEzMzEuNSwxOTAuNSBMMTMzMS41LDE5MS41IEwxMzMwLjUsMTkxLjUgTDEzMzAuNSwxOTAuNSBaIE0xMzM1LjUsMTk1LjUgTDEzMzYuNSwxOTUuNSBMMTMzNi41LDE5Ni41IEwxMzM1LjUsMTk2LjUgTDEzMzUuNSwxOTUuNSBaIE0xMzMzLjUsMTkzLjUgTDEzMzQuNSwxOTMuNSBMMTMzNC41LDE5NC41IEwxMzMzLjUsMTk0LjUgTDEzMzMuNSwxOTMuNSBaIE0xMzMyLjUsMTkyLjUgTDEzMzMuNSwxOTIuNSBMMTMzMy41LDE5My41IEwxMzMyLjUsMTkzLjUgTDEzMzIuNSwxOTIuNSBaIE0xMzM2LjUsMTk2LjUgTDEzMzcuNSwxOTYuNSBMMTMzNy41LDE5Ny41IEwxMzM2LjUsMTk3LjUgTDEzMzYuNSwxOTYuNSBaIE0xMzM0LjUsMTk0LjUgTDEzMzUuNSwxOTQuNSBMMTMzNS41LDE5NS41IEwxMzM0LjUsMTk1LjUgTDEzMzQuNSwxOTQuNSBaIE0xMzQ0LjUsMTkwLjUgTDEzNDQuNSwxOTEuNSBMMTM0My41LDE5MS41IEwxMzQzLjUsMTkwLjUgTDEzNDQuNSwxOTAuNSBaIE0xMzQwLjUsMTk0LjUgTDEzNDAuNSwxOTUuNSBMMTMzOS41LDE5NS41IEwxMzM5LjUsMTk0LjUgTDEzNDAuNSwxOTQuNSBaIE0xMzQyLjUsMTkyLjUgTDEzNDIuNSwxOTMuNSBMMTM0MS41LDE5My41IEwxMzQxLjUsMTkyLjUgTDEzNDIuNSwxOTIuNSBaIE0xMzM4LjUsMTk2LjUgTDEzMzguNSwxOTcuNSBMMTMzNy41LDE5Ny41IEwxMzM3LjUsMTk2LjUgTDEzMzguNSwxOTYuNSBaIE0xMzQzLjUsMTkxLjUgTDEzNDMuNSwxOTIuNSBMMTM0Mi41LDE5Mi41IEwxMzQyLjUsMTkxLjUgTDEzNDMuNSwxOTEuNSBaIE0xMzM5LjUsMTk1LjUgTDEzMzkuNSwxOTYuNSBMMTMzOC41LDE5Ni41IEwxMzM4LjUsMTk1LjUgTDEzMzkuNSwxOTUuNSBaIE0xMzQxLjUsMTkzLjUgTDEzNDEuNSwxOTQuNSBMMTM0MC41LDE5NC41IEwxMzQwLjUsMTkzLjUgTDEzNDEuNSwxOTMuNSBaIE0xMzMxLjUsMTk3LjUgTDEzMzIuNSwxOTcuNSBMMTMzMi41LDE5OC41IEwxMzMxLjUsMTk4LjUgTDEzMzEuNSwxOTcuNSBaIE0xMzMwLjUsMTk2LjUgTDEzMzEuNSwxOTYuNSBMMTMzMS41LDE5Ny41IEwxMzMwLjUsMTk3LjUgTDEzMzAuNSwxOTYuNSBaIE0xMzM1LjUsMjAxLjUgTDEzMzYuNSwyMDEuNSBMMTMzNi41LDIwMi41IEwxMzM1LjUsMjAyLjUgTDEzMzUuNSwyMDEuNSBaIE0xMzMzLjUsMTk5LjUgTDEzMzQuNSwxOTkuNSBMMTMzNC41LDIwMC41IEwxMzMzLjUsMjAwLjUgTDEzMzMuNSwxOTkuNSBaIE0xMzMyLjUsMTk4LjUgTDEzMzMuNSwxOTguNSBMMTMzMy41LDE5OS41IEwxMzMyLjUsMTk5LjUgTDEzMzIuNSwxOTguNSBaIE0xMzM2LjUsMjAyLjUgTDEzMzcuNSwyMDIuNSBMMTMzNy41LDIwMy41IEwxMzM2LjUsMjAzLjUgTDEzMzYuNSwyMDIuNSBaIE0xMzM0LjUsMjAwLjUgTDEzMzUuNSwyMDAuNSBMMTMzNS41LDIwMS41IEwxMzM0LjUsMjAxLjUgTDEzMzQuNSwyMDAuNSBaIE0xMzQ0LjUsMTk2LjUgTDEzNDQuNSwxOTcuNSBMMTM0My41LDE5Ny41IEwxMzQzLjUsMTk2LjUgTDEzNDQuNSwxOTYuNSBaIE0xMzQwLjUsMjAwLjUgTDEzNDAuNSwyMDEuNSBMMTMzOS41LDIwMS41IEwxMzM5LjUsMjAwLjUgTDEzNDAuNSwyMDAuNSBaIE0xMzQyLjUsMTk4LjUgTDEzNDIuNSwxOTkuNSBMMTM0MS41LDE5OS41IEwxMzQxLjUsMTk4LjUgTDEzNDIuNSwxOTguNSBaIE0xMzM4LjUsMjAyLjUgTDEzMzguNSwyMDMuNSBMMTMzNy41LDIwMy41IEwxMzM3LjUsMjAyLjUgTDEzMzguNSwyMDIuNSBaIE0xMzQzLjUsMTk3LjUgTDEzNDMuNSwxOTguNSBMMTM0Mi41LDE5OC41IEwxMzQyLjUsMTk3LjUgTDEzNDMuNSwxOTcuNSBaIE0xMzM5LjUsMjAxLjUgTDEzMzkuNSwyMDIuNSBMMTMzOC41LDIwMi41IEwxMzM4LjUsMjAxLjUgTDEzMzkuNSwyMDEuNSBaIE0xMzQxLjUsMTk5LjUgTDEzNDEuNSwyMDAuNSBMMTM0MC41LDIwMC41IEwxMzQwLjUsMTk5LjUgTDEzNDEuNSwxOTkuNSBaIiBpZD0iQ29tYmluZWQtU2hhcGUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzMzcuNTAwMDAwLCAxOTcuMDAwMDAwKSByb3RhdGUoLTkwLjAwMDAwMCkgdHJhbnNsYXRlKC0xMzM3LjUwMDAwMCwgLTE5Ny4wMDAwMDApICI+PC9wYXRoPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+",e.ICON_COMMENT="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMThweCIgaGVpZ2h0PSIxOHB4IiB2aWV3Qm94PSIwIDAgMTggMTgiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8ZyBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KCQk8cGF0aCBkPSJNOS4zMTQyODU3NiwxNS45MjMxNDI4IEM4Ljc1MjQyODYsMTUuOTIzMTQyOCA3LjU0MDg1NzE4LDE1LjgyODQyODYgNy4wMDc3MTQzNCwxNS43NDA1NzE0IEwzLjE0Mjg1NzE5LDE4IEwzLjE0Mjg1NzE5LDE0LjA3Mzg1NzIgQzEuMzUxMDAwMDQsMTIuNTM0IDAuNDAwMDAwMDMxLDEwLjM5NDU3MTQgMC40MDAwMDAwMzEsNy44NzUgQzAuNDAwMDAwMDMxLDMuNTI1ODU3MTQgNC4zODQwMDAwNCwwIDkuMzE0Mjg1NzYsMCBDMTMuNDEyNzE0MywwIDE3LjU0Mjg1NzIsMy41MjU4NTcxNCAxNy41NDI4NTcyLDcuODc1IEMxNy41NDI4NTcyLDEyLjIyNDU3MTQgMTQuMjM3NzE0MywxNS45MjMxNDI4IDkuMzE0Mjg1NzYsMTUuOTIzMTQyOCBMOS4zMTQyODU3NiwxNS45MjMxNDI4IFoiIGlkPSJTaGFwZSIgZmlsbD0iI0E3QjVEMyIgZmlsbC1ydWxlPSJub256ZXJvIj48L3BhdGg+CiAgICAgICAgPHBhdGggZD0iTTQuNzQ2ODg4MjQsOS4zMDQ1MTA1MiBMNC43NDY4ODgyNCw5LjMwNDUxMDUyIEM1LjUxMDAzNzY4LDEwLjcwMzQ4OTQgNi45OTQxNzY4NCwxMS42NTI2MzE2IDguNywxMS42NTI2MzE2IEMxMC40NjI1MTQ1LDExLjY1MjYzMTYgMTEuOTg4MzY1MywxMC42MzkzNTM0IDEyLjcyNjc5Miw5LjE2MzU1NzI2IiBpZD0iT3ZhbC01IiBzdHJva2U9IiNGRkZGRkYiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbGluZWNhcD0icm91bmQiPjwvcGF0aD4KICAgIDwvZz4KPC9zdmc+",e.ICON_COMMENT_HOVER="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMThweCIgaGVpZ2h0PSIxOHB4IiB2aWV3Qm94PSIwIDAgMTggMTgiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8ZyBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KCQk8cGF0aCBkPSJNOS4zMTQyODU3NiwxNS45MjMxNDI4IEM4Ljc1MjQyODYsMTUuOTIzMTQyOCA3LjU0MDg1NzE4LDE1LjgyODQyODYgNy4wMDc3MTQzNCwxNS43NDA1NzE0IEwzLjE0Mjg1NzE5LDE4IEwzLjE0Mjg1NzE5LDE0LjA3Mzg1NzIgQzEuMzUxMDAwMDQsMTIuNTM0IDAuNDAwMDAwMDMxLDEwLjM5NDU3MTQgMC40MDAwMDAwMzEsNy44NzUgQzAuNDAwMDAwMDMxLDMuNTI1ODU3MTQgNC4zODQwMDAwNCwwIDkuMzE0Mjg1NzYsMCBDMTMuNDEyNzE0MywwIDE3LjU0Mjg1NzIsMy41MjU4NTcxNCAxNy41NDI4NTcyLDcuODc1IEMxNy41NDI4NTcyLDEyLjIyNDU3MTQgMTQuMjM3NzE0MywxNS45MjMxNDI4IDkuMzE0Mjg1NzYsMTUuOTIzMTQyOCBMOS4zMTQyODU3NiwxNS45MjMxNDI4IFoiIGlkPSJTaGFwZSIgZmlsbD0iI0ZDODU1NSIgZmlsbC1ydWxlPSJub256ZXJvIj48L3BhdGg+CiAgICAgICAgPHBhdGggZD0iTTQuNzQ2ODg4MjQsOS4zMDQ1MTA1MiBMNC43NDY4ODgyNCw5LjMwNDUxMDUyIEM1LjUxMDAzNzY4LDEwLjcwMzQ4OTQgNi45OTQxNzY4NCwxMS42NTI2MzE2IDguNywxMS42NTI2MzE2IEMxMC40NjI1MTQ1LDExLjY1MjYzMTYgMTEuOTg4MzY1MywxMC42MzkzNTM0IDEyLjcyNjc5Miw5LjE2MzU1NzI2IiBpZD0iT3ZhbC01IiBzdHJva2U9IiNGRkZGRkYiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbGluZWNhcD0icm91bmQiPjwvcGF0aD4KICAgIDwvZz4KPC9zdmc+",e.ICON_ZOOMIN="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjBweCIgaGVpZ2h0PSIyMHB4IiB2aWV3Qm94PSIwIDAgMjAgMjAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CgkJCTxnIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgoJCQkJPHBvbHlnb24gcG9pbnRzPSIwIDAgMjAgMCAyMCAyMCAwIDIwIi8+CgkJCQk8cG9seWdvbiBmaWxsPSIjNjY2NjY2IiBmaWxsLXJ1bGU9Im5vbnplcm8iIHBvaW50cz0iOS4xNjY2NjY2NyA5LjE2NjY2NjY3IDkuMTY2NjY2NjcgNC4xNjY2NjY2NyAxMC44MzMzMzMzIDQuMTY2NjY2NjcgMTAuODMzMzMzMyA5LjE2NjY2NjY3IDE1LjgzMzMzMzMgOS4xNjY2NjY2NyAxNS44MzMzMzMzIDEwLjgzMzMzMzMgMTAuODMzMzMzMyAxMC44MzMzMzMzIDEwLjgzMzMzMzMgMTUuODMzMzMzMyA5LjE2NjY2NjY3IDE1LjgzMzMzMzMgOS4xNjY2NjY2NyAxMC44MzMzMzMzIDQuMTY2NjY2NjcgMTAuODMzMzMzMyA0LjE2NjY2NjY3IDkuMTY2NjY2NjciLz4KCQkJPC9nPgoJCTwvc3ZnPg==",e.ICON_ZOOMOUT="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjBweCIgaGVpZ2h0PSIyMHB4IiB2aWV3Qm94PSIwIDAgMjAgMjAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CgkJCTxnIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgoJCQkJPHBvbHlnb24gcG9pbnRzPSIwIDAgMjAgMCAyMCAyMCAwIDIwIi8+CgkJCQk8cG9seWdvbiBmaWxsPSIjNjY2NjY2IiBmaWxsLXJ1bGU9Im5vbnplcm8iIHBvaW50cz0iNC4xNjY2NjY2NyA5LjE2NjY2NjY3IDE1LjgzMzMzMzMgOS4xNjY2NjY2NyAxNS44MzMzMzMzIDEwLjgzMzMzMzMgNC4xNjY2NjY2NyAxMC44MzMzMzMzIi8+CgkJCTwvZz4KCQk8L3N2Zz4=",e.ICON_DOWNLOAD="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjBweCIgaGVpZ2h0PSIyMHB4IiB2aWV3Qm94PSIwIDAgMjAgMjAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CgkJCTxnIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgoJCQkJPGc+CgkJCQkJPHBhdGggZD0iTTEwLjc1LDguNSBMMTQuNSw4LjUgTDEwLDEzIEw1LjUsOC41IEw5LjI1LDguNSBMOS4yNSwzLjI1IEwxMC43NSwzLjI1IEwxMC43NSw4LjUgWiBNNCwxNS4yNSBMMTYsMTUuMjUgTDE2LDEwIEwxNy41LDEwIEwxNy41LDE2IEMxNy41LDE2LjQxNDIxMzYgMTcuMTY0MjEzNiwxNi43NSAxNi43NSwxNi43NSBMMy4yNSwxNi43NSBDMi44MzU3ODY0NCwxNi43NSAyLjUsMTYuNDE0MjEzNiAyLjUsMTYgTDIuNSwxMCBMNCwxMCBMNCwxNS4yNSBaIiBmaWxsPSIjNjY2NjY2IiBmaWxsLXJ1bGU9Im5vbnplcm8iLz4KCQkJCQk8cG9seWdvbiBwb2ludHM9IjAgMCAyMCAwIDIwIDIwIDAgMjAiLz4KCQkJCTwvZz4KCQkJPC9nPgoJCTwvc3ZnPg==",e.ICON_ZOOMIN_HOVER="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjBweCIgaGVpZ2h0PSIyMHB4IiB2aWV3Qm94PSIwIDAgMjAgMjAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CgkJCTxnIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgoJCQkJPHBvbHlnb24gcG9pbnRzPSIwIDAgMjAgMCAyMCAyMCAwIDIwIi8+CgkJCQk8cG9seWdvbiBmaWxsPSIjMzc2MUNBIiBmaWxsLXJ1bGU9Im5vbnplcm8iIHBvaW50cz0iOS4xNjY2NjY2NyA5LjE2NjY2NjY3IDkuMTY2NjY2NjcgNC4xNjY2NjY2NyAxMC44MzMzMzMzIDQuMTY2NjY2NjcgMTAuODMzMzMzMyA5LjE2NjY2NjY3IDE1LjgzMzMzMzMgOS4xNjY2NjY2NyAxNS44MzMzMzMzIDEwLjgzMzMzMzMgMTAuODMzMzMzMyAxMC44MzMzMzMzIDEwLjgzMzMzMzMgMTUuODMzMzMzMyA5LjE2NjY2NjY3IDE1LjgzMzMzMzMgOS4xNjY2NjY2NyAxMC44MzMzMzMzIDQuMTY2NjY2NjcgMTAuODMzMzMzMyA0LjE2NjY2NjY3IDkuMTY2NjY2NjciLz4KCQkJPC9nPgoJCTwvc3ZnPg==",e.ICON_ZOOMOUT_HOVER="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjBweCIgaGVpZ2h0PSIyMHB4IiB2aWV3Qm94PSIwIDAgMjAgMjAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CgkJCTxnIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgoJCQkJPHBvbHlnb24gcG9pbnRzPSIwIDAgMjAgMCAyMCAyMCAwIDIwIi8+CgkJCQk8cG9seWdvbiBmaWxsPSIjMzc2MUNBIiBmaWxsLXJ1bGU9Im5vbnplcm8iIHBvaW50cz0iNC4xNjY2NjY2NyA5LjE2NjY2NjY3IDE1LjgzMzMzMzMgOS4xNjY2NjY2NyAxNS44MzMzMzMzIDEwLjgzMzMzMzMgNC4xNjY2NjY2NyAxMC44MzMzMzMzIi8+CgkJCTwvZz4KCQk8L3N2Zz4=",e.ICON_DOWNLOAD_HOVER="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjBweCIgaGVpZ2h0PSIyMHB4IiB2aWV3Qm94PSIwIDAgMjAgMjAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CgkJCTxnIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgoJCQkJPGc+CgkJCQkJPHBhdGggZD0iTTEwLjc1LDguNSBMMTQuNSw4LjUgTDEwLDEzIEw1LjUsOC41IEw5LjI1LDguNSBMOS4yNSwzLjI1IEwxMC43NSwzLjI1IEwxMC43NSw4LjUgWiBNNCwxNS4yNSBMMTYsMTUuMjUgTDE2LDEwIEwxNy41LDEwIEwxNy41LDE2IEMxNy41LDE2LjQxNDIxMzYgMTcuMTY0MjEzNiwxNi43NSAxNi43NSwxNi43NSBMMy4yNSwxNi43NSBDMi44MzU3ODY0NCwxNi43NSAyLjUsMTYuNDE0MjEzNiAyLjUsMTYgTDIuNSwxMCBMNCwxMCBMNCwxNS4yNSBaIiBmaWxsPSIjMzc2MUNBIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz4KCQkJCQk8cG9seWdvbiBwb2ludHM9IjAgMCAyMCAwIDIwIDIwIDAgMjAiLz4KCQkJCTwvZz4KCQkJPC9nPgoJCTwvc3ZnPg=="},243264:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(241872),i(820444);var n=function(t){var e=new Object,i=t.lastIndexOf("?");if(i>0)for(var n=t.substring(i+1).split("&"),l=0;l<n.length;l++)(i=n[l].indexOf("="))>0&&(e[n[l].substring(0,i)]=n[l].substring(i+1));return e}(window.location.href);window.urlParams=window.urlParams||{},window.MAX_REQUEST_SIZE=window.MAX_REQUEST_SIZE||10485760,window.MAX_AREA=window.MAX_AREA||1e8,window.EXPORT_URL=window.EXPORT_URL||"/export",window.SAVE_URL=window.SAVE_URL||"/save",window.OPEN_URL=window.OPEN_URL||"/open",window.RESOURCES_PATH=window.RESOURCES_PATH||"resources",window.RESOURCE_BASE=window.RESOURCE_BASE||window.RESOURCES_PATH+"/grapheditor",window.STENCIL_PATH=window.STENCIL_PATH||"workflow/stencils",window.IMAGE_PATH=window.IMAGE_PATH||"images",window.STYLE_PATH=window.STYLE_PATH||"styles",window.CSS_PATH=window.CSS_PATH||"styles",window.OPEN_FORM=window.OPEN_FORM||"open.html",window.mxBasePath=window.mxBasePath||"./workflow",window.mxLanguage=window.mxLanguage||n.lang,window.mxLanguages=window.mxLanguages||["de"],window.compactUi=!0;e.default={}},318648:function(t,e,i){"use strict";function n(t,e){this.cell=t,this.weightedValue=e}i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n.prototype.weightedValue=0,n.prototype.nudge=!1,n.prototype.visited=!1,n.prototype.rankIndex=null,n.prototype.cell=null,n.prototype.compare=function(t,e){return null!=t&&null!=e?e.weightedValue>t.weightedValue?-1:e.weightedValue<t.weightedValue?1:e.nudge?-1:1:0};e.default=n},802464:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(23544),i(633768),i(513640);var n=o(i(164460)),l=o(i(667032)),a=o(i(790448)),r=o(i(742288));function o(t){return t&&t.__esModule?t:{default:t}}function s(){this.converter=this.createUrlConverter(),this.reset()}s.prototype.state=null,s.prototype.states=null,s.prototype.path=null,s.prototype.rotateHtml=!0,s.prototype.lastX=0,s.prototype.lastY=0,s.prototype.moveOp="M",s.prototype.lineOp="L",s.prototype.quadOp="Q",s.prototype.curveOp="C",s.prototype.closeOp="Z",s.prototype.pointerEvents=!1,s.prototype.createUrlConverter=function(){return new l.default},s.prototype.reset=function(){this.state=this.createState(),this.states=[]},s.prototype.createState=function(){return{dx:0,dy:0,scale:1,alpha:1,fillAlpha:1,strokeAlpha:1,fillColor:null,gradientFillAlpha:1,gradientColor:null,gradientAlpha:1,gradientDirection:null,strokeColor:null,strokeWidth:1,dashed:!1,dashPattern:"3 3",lineCap:"flat",lineJoin:"miter",miterLimit:10,fontColor:"#000000",fontBackgroundColor:null,ellipsisBackgroundColor:null,fontBorderColor:null,fontSize:a.default.DEFAULT_FONTSIZE,fontFamily:a.default.DEFAULT_FONTFAMILY,fontStyle:0,shadow:!1,shadowColor:a.default.SHADOWCOLOR,shadowAlpha:a.default.SHADOW_OPACITY,shadowDx:a.default.SHADOW_OFFSET_X,shadowDy:a.default.SHADOW_OFFSET_Y,rotation:0,rotationCx:0,rotationCy:0}},s.prototype.format=function(t){return Math.round(parseFloat(t))},s.prototype.addOp=function(){if(null!=this.path&&(this.path.push(arguments[0]),arguments.length>2))for(var t=this.state,e=2;e<arguments.length;e+=2)this.lastX=arguments[e-1],this.lastY=arguments[e],this.path.push(this.format((this.lastX+t.dx)*t.scale)),this.path.push(this.format((this.lastY+t.dy)*t.scale))},s.prototype.rotatePoint=function(t,e,i,l,a){var o=i*(Math.PI/180);return r.default.getRotatedPoint(new n.default(t,e),Math.cos(o),Math.sin(o),new n.default(l,a),n.default)},s.prototype.save=function(){this.states.push(this.state),this.state=r.default.clone(this.state)},s.prototype.restore=function(){this.states.length>0&&(this.state=this.states.pop())},s.prototype.setLink=function(t){},s.prototype.scale=function(t,e){if(this.state.scale*=t,this.state.strokeWidth*=t,!0===e){var i=this.root.getAttribute("transform");this.root.setAttribute("transform",i.replace(/scale\(\d+[\.\d+]?\)/,"")+" scale("+this.state.scale+")")}},s.prototype.translate=function(t,e){this.state.dx+=t,this.state.dy+=e},s.prototype.rotate=function(t,e,i,n,l){},s.prototype.setAlpha=function(t){this.state.alpha=t},s.prototype.setFillAlpha=function(t){this.state.fillAlpha=t},s.prototype.setStrokeAlpha=function(t){this.state.strokeAlpha=t},s.prototype.setFillColor=function(t){t==a.default.NONE&&(t=null),this.state.fillColor=t,this.state.gradientColor=null},s.prototype.setGradient=function(t,e,i,n,l,a,r,o,s){var u=this.state;u.fillColor=t,u.gradientFillAlpha=null!=o?o:1,u.gradientColor=e,u.gradientAlpha=null!=s?s:1,u.gradientDirection=r},s.prototype.setStrokeColor=function(t){t==a.default.NONE&&(t=null),this.state.strokeColor=t},s.prototype.setStrokeWidth=function(t){this.state.strokeWidth=t},s.prototype.setDashed=function(t){this.state.dashed=t},s.prototype.setDashPattern=function(t){this.state.dashPattern=t},s.prototype.setLineCap=function(t){this.state.lineCap=t},s.prototype.setLineJoin=function(t){this.state.lineJoin=t},s.prototype.setMiterLimit=function(t){this.state.miterLimit=t},s.prototype.setFontColor=function(t){t==a.default.NONE&&(t=null),this.state.fontColor=t},s.prototype.setFontBackgroundColor=function(t){t==a.default.NONE&&(t=null),this.state.fontBackgroundColor=t},s.prototype.setEllipsisBackgroundColor=function(t){t==a.default.NONE&&(t=null),this.state.ellipsisBackgroundColor=t},s.prototype.setFontBorderColor=function(t){t==a.default.NONE&&(t=null),this.state.fontBorderColor=t},s.prototype.setFontSize=function(t){this.state.fontSize=parseFloat(t)},s.prototype.setFontFamily=function(t){this.state.fontFamily=t},s.prototype.setFontStyle=function(t){null==t&&(t=0),this.state.fontStyle=t},s.prototype.setShadow=function(t){this.state.shadow=t},s.prototype.setShadowColor=function(t){t==a.default.NONE&&(t=null),this.state.shadowColor=t},s.prototype.setShadowAlpha=function(t){this.state.shadowAlpha=t},s.prototype.setShadowOffset=function(t,e){this.state.shadowDx=t,this.state.shadowDy=e},s.prototype.begin=function(){this.lastX=0,this.lastY=0,this.path=[]},s.prototype.moveTo=function(t,e){this.addOp(this.moveOp,t,e)},s.prototype.lineTo=function(t,e){this.addOp(this.lineOp,t,e)},s.prototype.quadTo=function(t,e,i,n){this.addOp(this.quadOp,t,e,i,n)},s.prototype.curveTo=function(t,e,i,n,l,a){this.addOp(this.curveOp,t,e,i,n,l,a)},s.prototype.arcTo=function(t,e,i,n,l,a,o){var s=r.default.arcToCurves(this.lastX,this.lastY,t,e,i,n,l,a,o);if(null!=s)for(var u=0;u<s.length;u+=6)this.curveTo(s[u],s[u+1],s[u+2],s[u+3],s[u+4],s[u+5])},s.prototype.close=function(t,e,i,n,l,a){this.addOp(this.closeOp)},s.prototype.end=function(){};e.default=s},745240:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(106208);var n=a(i(742288)),l=a(i(656988));function a(t){return t&&t.__esModule?t:{default:t}}function r(t,e,i,n){l.default.call(this),this.bounds=t,this.fill=e,this.stroke=i,this.strokewidth=null!=n?n:1}n.default.extend(r,l.default),r.prototype.paintVertexShape=function(t,e,i,n,l){t.translate(e,i),t.begin(),this.redrawPath(t,e,i,n,l),t.fillAndStroke()},r.prototype.redrawPath=function(t,e,i,n,l){var a=n/3;t.moveTo(0,l),t.curveTo(0,3*l/5,0,2*l/5,n/2,2*l/5),t.curveTo(n/2-a,2*l/5,n/2-a,0,n/2,0),t.curveTo(n/2+a,0,n/2+a,2*l/5,n/2,2*l/5),t.curveTo(n,2*l/5,n,3*l/5,n,l),t.close()};e.default=r},39648:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(297336),i(86744);var n=o(i(995048)),l=o(i(370608)),a=o(i(39864)),r=o(i(742288));function o(t){return t&&t.__esModule?t:{default:t}}function s(t){this.delay=null!=t?t:20}s.prototype=new a.default,s.prototype.constructor=s,s.prototype.delay=null,s.prototype.thread=null,s.prototype.isRunning=function(){return null!=this.thread},s.prototype.startAnimation=function(){null==this.thread&&(this.thread=window.setInterval(r.default.bind(this,this.updateAnimation),this.delay))},s.prototype.updateAnimation=function(){this.fireEvent(new n.default(l.default.EXECUTE))},s.prototype.stopAnimation=function(){null!=this.thread&&(window.clearInterval(this.thread),this.thread=null,this.fireEvent(new n.default(l.default.DONE)))};e.default=s},429940:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(106208);var n=r(i(742288)),l=r(i(656988)),a=r(i(790448));function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e,i,n,r,o,s){l.default.call(this),this.points=t,this.fill=e,this.stroke=i,this.strokewidth=null!=n?n:1,this.arrowWidth=null!=r?r:a.default.ARROW_WIDTH,this.spacing=null!=o?o:a.default.ARROW_SPACING,this.endSize=null!=s?s:a.default.ARROW_SIZE}n.default.extend(o,l.default),o.prototype.augmentBoundingBox=function(t){l.default.prototype.augmentBoundingBox.apply(this,arguments);var e=Math.max(this.arrowWidth,this.endSize);t.grow((e/2+this.strokewidth)*this.scale)},o.prototype.paintEdgeShape=function(t,e){var i=a.default.ARROW_SPACING,n=a.default.ARROW_WIDTH,l=a.default.ARROW_SIZE,r=e[0],o=e[e.length-1],s=o.x-r.x,u=o.y-r.y,d=Math.sqrt(s*s+u*u),h=d-2*i-l,c=s/d,p=u/d,f=h*c,g=h*p,y=n*p/3,m=-n*c/3,v=r.x-y/2+i*c,E=r.y-m/2+i*p,b=v+y,S=E+m,w=b+f,A=S+g,C=w+y,T=A+m,M=C-3*y,x=T-3*m;t.begin(),t.moveTo(v,E),t.lineTo(b,S),t.lineTo(w,A),t.lineTo(C,T),t.lineTo(o.x-i*c,o.y-i*p),t.lineTo(M,x),t.lineTo(M+y,x+m),t.close(),t.fillAndStroke()};e.default=o},143320:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(106208),i(927184);var n=o(i(742288)),l=o(i(656988)),a=o(i(790448)),r=o(i(132448));function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e,i,n,r,o,s){l.default.call(this),this.points=t,this.fill=e,this.stroke=i,this.strokewidth=null!=n?n:1,this.arrowWidth=null!=r?r:a.default.ARROW_WIDTH,this.arrowSpacing=null!=o?o:a.default.ARROW_SPACING,this.startSize=a.default.ARROW_SIZE/5,this.endSize=a.default.ARROW_SIZE/5}n.default.extend(s,l.default),s.prototype.useSvgBoundingBox=!0,s.prototype.resetStyles=function(){l.default.prototype.resetStyles.apply(this,arguments),this.arrowSpacing=a.default.ARROW_SPACING},s.prototype.apply=function(t){l.default.prototype.apply.apply(this,arguments),null!=this.style&&(this.startSize=3*n.default.getNumber(this.style,a.default.STYLE_STARTSIZE,a.default.ARROW_SIZE/5),this.endSize=3*n.default.getNumber(this.style,a.default.STYLE_ENDSIZE,a.default.ARROW_SIZE/5))},s.prototype.augmentBoundingBox=function(t){l.default.prototype.augmentBoundingBox.apply(this,arguments);var e=this.getEdgeWidth();this.isMarkerStart()&&(e=Math.max(e,this.getStartArrowWidth())),this.isMarkerEnd()&&(e=Math.max(e,this.getEndArrowWidth())),t.grow((e/2+this.strokewidth)*this.scale)},s.prototype.paintEdgeShape=function(t,e){var i=this.strokewidth;this.outline&&(i=Math.max(1,n.default.getNumber(this.style,a.default.STYLE_STROKEWIDTH,this.strokewidth)));for(var l=this.getStartArrowWidth()+i,o=this.getEndArrowWidth()+i,s=this.outline?this.getEdgeWidth()+i:this.getEdgeWidth(),u=this.isOpenEnded(),d=this.isMarkerStart(),h=this.isMarkerEnd(),c=u?0:this.arrowSpacing+i/2,p=this.startSize+i,f=this.endSize+i,g=this.isArrowRounded(),y=e[e.length-1],m=1;m<e.length-1&&e[m].x==e[0].x&&e[m].y==e[0].y;)m++;var v=e[m].x-e[0].x,E=e[m].y-e[0].y,b=Math.sqrt(v*v+E*E);if(0!=b){var S,w,A=v/b,C=A,T=E/b,M=T,x=s*T,I=-s*A,L=[];g?t.setLineJoin("round"):e.length>2&&t.setMiterLimit(1.42),t.begin();var N=A,O=T;if(d&&!u)this.paintMarker(t,e[0].x,e[0].y,A,T,p,l,s,c,!0);else{var D=e[0].x+x/2+c*A,R=e[0].y+I/2+c*T,_=e[0].x-x/2+c*A,P=e[0].y-I/2+c*T;u?(t.moveTo(D,R),L.push((function(){t.lineTo(_,P)}))):(t.moveTo(_,P),t.lineTo(D,R))}for(var k=0,H=0,G=0,B=0;B<e.length-2;B++){var z=r.default.relativeCcw(e[B].x,e[B].y,e[B+1].x,e[B+1].y,e[B+2].x,e[B+2].y);if(k=e[B+2].x-e[B+1].x,H=e[B+2].y-e[B+1].y,0!=(G=Math.sqrt(k*k+H*H))){var F=A*(C=k/G)+T*(M=H/G);tmp=Math.max(Math.sqrt((F+1)/2),.04),S=A+C,w=T+M;var V=Math.sqrt(S*S+w*w);if(0!=V){S/=V,w/=V;var U=Math.max(tmp,Math.min(this.strokewidth/200+.04,.35)),Y=0!=z&&g?Math.max(.1,U):Math.max(tmp,.06),j=e[B+1].x+w*s/2/Y,W=e[B+1].y-S*s/2/Y,Z=e[B+1].x-w*s/2/Y,X=e[B+1].y+S*s/2/Y;if(0!=z&&g)if(-1==z){var Q=Z+T*s,J=X-A*s,K=Z+M*s,q=X-C*s;t.lineTo(Q,J),t.quadTo(j,W,K,q),function(e,i){L.push((function(){t.lineTo(e,i)}))}(Z,X)}else t.lineTo(j,W),function(e,i){var n=j-T*s,l=W+A*s,a=j-M*s,r=W+C*s;L.push((function(){t.quadTo(e,i,n,l)})),L.push((function(){t.lineTo(a,r)}))}(Z,X);else t.lineTo(j,W),function(e,i){L.push((function(){t.lineTo(e,i)}))}(Z,X);A=C,T=M}}}if(x=s*M,I=-s*C,h&&!u)this.paintMarker(t,y.x,y.y,-A,-T,f,o,s,c,!1);else{t.lineTo(y.x-c*C+x/2,y.y-c*M+I/2);var $=y.x-c*C-x/2,tt=y.y-c*M-I/2;u?(t.moveTo($,tt),L.splice(0,0,(function(){t.moveTo($,tt)}))):t.lineTo($,tt)}for(B=L.length-1;B>=0;B--)L[B]();u?(t.end(),t.stroke()):(t.close(),t.fillAndStroke()),t.setShadow(!1),t.setMiterLimit(4),g&&t.setLineJoin("flat"),e.length>2&&(t.setMiterLimit(4),d&&!u&&(t.begin(),this.paintMarker(t,e[0].x,e[0].y,N,O,p,l,s,c,!0),t.stroke(),t.end()),h&&!u&&(t.begin(),this.paintMarker(t,y.x,y.y,-A,-T,f,o,s,c,!0),t.stroke(),t.end()))}},s.prototype.paintMarker=function(t,e,i,n,l,a,r,o,s,u){var d=o/r,h=o*l/2,c=-o*n/2,p=(s+a)*n,f=(s+a)*l;u?t.moveTo(e-h+p,i-c+f):t.lineTo(e-h+p,i-c+f),t.lineTo(e-h/d+p,i-c/d+f),t.lineTo(e+s*n,i+s*l),t.lineTo(e+h/d+p,i+c/d+f),t.lineTo(e+h+p,i+c+f)},s.prototype.isArrowRounded=function(){return this.isRounded},s.prototype.getStartArrowWidth=function(){return a.default.ARROW_WIDTH},s.prototype.getEndArrowWidth=function(){return a.default.ARROW_WIDTH},s.prototype.getEdgeWidth=function(){return a.default.ARROW_WIDTH/3},s.prototype.isOpenEnded=function(){return!1},s.prototype.isMarkerStart=function(){return n.default.getValue(this.style,a.default.STYLE_STARTARROW,a.default.NONE)!=a.default.NONE},s.prototype.isMarkerEnd=function(){return n.default.getValue(this.style,a.default.STYLE_ENDARROW,a.default.NONE)!=a.default.NONE};e.default=s},280908:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(9692),i(233696),i(241872),i(686456),i(835164),i(927184),i(76124),i(387912),i(633768),i(513640),i(997308);var n=r(i(742288)),l=r(i(790448)),a=r(i(293792));function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e,i,n,l,a,r,o){this.value=t,this.setGeometry(e),this.setStyle(i),this.setType(n),this.setTemplate(o),this.setGroup(l),a&&this.setBaseType(a),r&&this.setContainable(r),this.properties={},t&&this.setProperty("base","name",t),o&&this.setProperty("base","template",o),null!=this.onInit&&this.onInit()}o.prototype.id=null,o.prototype.value=null,o.prototype.geometry=null,o.prototype.style=null,o.prototype.vertex=!1,o.prototype.edge=!1,o.prototype.connectable=!0,o.prototype.visible=!0,o.prototype.collapsed=!1,o.prototype.parent=null,o.prototype.source=null,o.prototype.target=null,o.prototype.children=null,o.prototype.edges=null,o.prototype.mxTransient=["id","value","parent","source","target","children","edges"],o.prototype.containable=!1,o.prototype.baseType="bpmn",o.prototype.getId=function(){return this.id},o.prototype.setId=function(t,e){var i=null;if(e){var n=e.getBPMNRoot().getProperty(l.default.PROCESS_ID);i=n?"".concat(n,"_").concat(t):t,this.setProperty("base",l.default.STENCIL_NUMBER,t)}else i=t;this.id=i,this.setProperty("base",l.default.STENCIL_ITEMID,i)},o.prototype.getValue=function(){return this.value},o.prototype.setValue=function(t){this.value=t},o.prototype.valueChanged=function(t){var e=this.getValue();return this.setValue(t),e},o.prototype.propertyChanged=function(t,e,i,n){var l=this.getProperty(t,e);return this.setProperty(t,e,i,n),l},o.prototype.getGeometry=function(){return this.geometry},o.prototype.setGeometry=function(t){this.geometry=t},o.prototype.getStyle=function(){return this.style},o.prototype.setStyle=function(t){this.style=t},o.prototype.isVertex=function(){return 0!=this.vertex},o.prototype.setVertex=function(t){this.vertex=t},o.prototype.isEdge=function(){return 0!=this.edge},o.prototype.setEdge=function(t){this.edge=t},o.prototype.isConnectable=function(){return 0!=this.connectable},o.prototype.setConnectable=function(t){this.connectable=t},o.prototype.isVisible=function(){return 0!=this.visible},o.prototype.setVisible=function(t){this.visible=t},o.prototype.isCollapsed=function(){return 0!=this.collapsed},o.prototype.setCollapsed=function(t){this.collapsed=t},o.prototype.getParent=function(){return this.parent},o.prototype.setParent=function(t){this.parent=t},o.prototype.getTerminal=function(t){return t?this.source:this.target},o.prototype.setTerminal=function(t,e){return e?this.source=t:this.target=t,t},o.prototype.getChildCount=function(){return null==this.children?0:this.children.length},o.prototype.getIndex=function(t){return n.default.indexOf(this.children,t)},o.prototype.getChildAt=function(t){return null==this.children?null:this.children[t]},o.prototype.insert=function(t,e){return null!=t&&(null==e&&(e=this.getChildCount(),t.getParent()==this&&e--),t.removeFromParent(),t.setParent(this),null==this.children?(this.children=[],this.children.push(t)):this.children.splice(e,0,t)),t},o.prototype.remove=function(t){var e=null;return null!=this.children&&t>=0&&null!=(e=this.getChildAt(t))&&(this.children.splice(t,1),e.setParent(null)),e},o.prototype.removeFromParent=function(){if(null!=this.parent){var t=this.parent.getIndex(this);this.parent.remove(t)}},o.prototype.getEdgeCount=function(){return null==this.edges?0:this.edges.length},o.prototype.getEdgeIndex=function(t){return n.default.indexOf(this.edges,t)},o.prototype.getEdgeAt=function(t){return null==this.edges?null:this.edges[t]},o.prototype.insertEdge=function(t,e){return null!=t&&(t.removeFromTerminal(e),t.setTerminal(this,e),(null==this.edges||t.getTerminal(!e)!=this||n.default.indexOf(this.edges,t)<0)&&(null==this.edges&&(this.edges=[]),this.edges.push(t))),t},o.prototype.removeEdge=function(t,e){if(null!=t){if(t.getTerminal(!e)!=this&&null!=this.edges){var i=this.getEdgeIndex(t);i>=0&&this.edges.splice(i,1)}t.setTerminal(null,e)}return t},o.prototype.removeFromTerminal=function(t){var e=this.getTerminal(t);null!=e&&e.removeEdge(this,t)},o.prototype.getAttribute=function(t,e){var i=this.getValue();return(null!=i&&i.nodeType==l.default.NODETYPE_ELEMENT?i.getAttribute(t):null)||e},o.prototype.setAttribute=function(t,e){var i=this.getValue();null!=i&&i.nodeType==l.default.NODETYPE_ELEMENT&&i.setAttribute(t,e)},o.prototype.clone=function(){var t=n.default.clone(this,this.mxTransient);return t.setOriginId(this.getId()||this.getOriginId()),t.setValue(this.cloneValue()),t},o.prototype.cloneValue=function(){var t=this.getValue();return null!=t&&("function"==typeof t.clone?t=t.clone():isNaN(t.nodeType)||(t=t.cloneNode(!0))),t},o.prototype.setType=function(t){this.type=t},o.prototype.getType=function(){return this.type},o.prototype.setTemplate=function(t){this.template=t},o.prototype.getTemplate=function(){return this.template},o.prototype.setGroup=function(t){this.group=t},o.prototype.getGroup=function(){return this.group},o.prototype.setOriginId=function(t){this.originId=t},o.prototype.getOriginId=function(){return this.originId},o.prototype.setOriginPageId=function(t){this.originPageId=t},o.prototype.getOriginPageId=function(){return this.originPageId},o.prototype.getBaseType=function(){return this.baseType},o.prototype.setBaseType=function(t){this.baseType=t},o.prototype.isContainable=function(){return this.containable},o.prototype.setContainable=function(t){this.containable=t},o.prototype.getIdPrefix=function(){return n.default.isBoundaryEvent(this.getType())?"BoundaryEvent":n.default.isGateway(this.getType())?"Gateway":this.getType()},o.prototype.getShape=function(t){var e="ierp.".concat(this.getBaseType(),".").concat(this.getType());return!0!==t?e:e+"_USE"},o.prototype.setProperty=function(t,e,i,n){if("base"===t)this.properties[e]=i;else{var l=this.properties[t]||{};l[e]=i,this.properties[t]=l}"function"==typeof n&&n({id:this.getId(),propName:e,value:i})},o.prototype.getProperty=function(t,e){if(!t)return null;if(void 0===e){var i=t.split(".");return i.length>1?this.getProperty(i[0],i[1]):this.properties[t]}if("base"===t)return this.properties[e];var n=this.properties[t];return n?n[e]:null},o.prototype.updateView=function(t,e,i){var n=["strokeWidth","fillColor","strokeColor"],l=t.getModel();if(n.indexOf(e)>-1){for(var a=null,r=!1,o=null,s=this.getStyle(),u=n.length,d=s.split(";");u--;)if((a=d[u]).indexOf(e)>-1){r=!0,a.replace(/(\w+=).+/,"$1"+i);break}o=d.join(";"),!r&&(o+=";"+e+"="+i),l.setStyle(this,o)}},o.prototype.getStyleItem=function(t){for(var e=(this.getStyle()||"").split(";"),i=e.length,n=null;i--;)if((n=e[i]).indexOf(t+"=")>-1)return n.replace(t+"=","")},o.prototype.getCellGraph=function(){var t={},e=function(t,e){return!0===e.isContainable()?[]:t&&t.map((function(t,e){return t.edge?i(t):t.vertex?n(t):[]}))||[]},i=function(t){var i=t.getGeometry(),n=i.points&&i.points.map((function(t,e){return{x:t.x,y:t.y}}))||[],l={resourceId:t.getId(),dockers:n,style:t.getStyle()};return(i.sourcePoint||i.targetPoint)&&(l.bounds={upperLeft:i.sourcePoint,lowerRight:i.targetPoint}),t.children&&t.children.length&&(l.childShapes=e(t.children,t)),l},n=function(t){var i=t.getGeometry(),n=i.width,l=i.height;if(!0===t.isContainable()){var r=a.default.getStencil(t.getShape(!0));n=r.w0,l=r.h0}var o={resourceId:t.getId(),bounds:{upperLeft:{x:i.x,y:i.y},lowerRight:{x:i.x+n,y:i.y+l},relative:i.relative,offset:i.offset},style:t.getStyle()};return t.children&&t.children.length&&(o.childShapes=e(t.children,t)),o};return this.edge?t=i(this):this.vertex?t=n(this):"node_1"===this.id&&(t=e(this.children,this)),t},o.prototype.toBpmnJSON=function(t){var e={},i=(this.children,function(t,e,i){return!0===e.isContainable()?[]:t&&t.map((function(t,e){return t.edge?n(t,i):t.vertex?l(t,i):[]}))||[]}),n=function(t,e){var n=t.getGeometry(),l=n.points&&n.points.map((function(t,e){return{x:t.x,y:t.y}}))||[],a=t.target&&t.target.getId(),r={resourceId:t.getId(),originId:t.getOriginId(),originPageId:t.getOriginPageId(),stencil:{id:"SequenceFlow"},outgoing:[{resourceId:a}],target:{resourceId:a},bounds:{},dockers:l,childShapes:i(t.children,t,e),style:t.getStyle()};return e&&(r.properties=t.getProperties()),r},l=function(t,e){var n=t.getGeometry(),l=t.edges,r=[];l&&l.forEach((function(e,i){e.source&&e.source.getId()===t.getId()&&r.push({resourceId:e.getId()})}));var o=n.width,s=n.height;if(!0===t.isContainable()){var u=a.default.getStencil(t.getShape(!0));o=u.w0,s=u.h0}var d={resourceId:t.getId(),originId:t.getOriginId(),originPageId:t.getOriginPageId(),stencil:{id:t.getType()},outgoing:r,bounds:{upperLeft:{x:n.x,y:n.y},lowerRight:{x:n.x+o,y:n.y+s},relative:n.relative,offset:n.offset},dockers:[],childShapes:i(t.children,t,e),style:t.getStyle()};return e&&(d.properties=t.getProperties()),d};return this.edge?e=n(this,t):this.vertex?e=l(this,t):"node_1"===this.id&&(e=i(this.children,this,t)),e},o.prototype.toBpmnJSONString=function(t){var e=this.toBpmnJSON(t);return JSON.stringify(e)},o.prototype.getProperties=function(){var t=this,e=this.properties||{};return JSON.parse(JSON.stringify(e).replace(/\$\{node\.(\w+)\.?(\w+)?\}/g,(function(e,i,n){return t.getProperty(i,n)})))},o.prototype.setProperties=function(t){this.properties=t},o.getName=function(){return"mxCell"};e.default=o},612280:function(t,e,i){"use strict";function n(t,e,i){this.cell=t,this.attribute=e,this.value=i,this.previous=i}i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n.prototype.execute=function(){var t=this.cell.getAttribute(this.attribute);null==this.previous?this.cell.value.removeAttribute(this.attribute):this.cell.setAttribute(this.attribute,this.previous),this.previous=t},n.getName=function(){return"mxCellAttributeChange"};e.default=n},858336:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(297336),i(23544),i(571176),i(633768),i(513640),i(86744);var n=h(i(22676)),l=h(i(370608)),a=h(i(742288)),r=h(i(247644)),o=h(i(36312)),s=h(i(790448)),u=h(i(132448)),d=h(i(164460));function h(t){return t&&t.__esModule?t:{default:t}}function c(t){this.graph=t,this.zoomHandler=a.default.bind(this,(function(){this.graph.isEditing()&&this.resize()})),this.graph.view.addListener(l.default.SCALE,this.zoomHandler),this.graph.view.addListener(l.default.SCALE_AND_TRANSLATE,this.zoomHandler)}c.prototype.graph=null,c.prototype.textarea=null,c.prototype.editingCell=null,c.prototype.trigger=null,c.prototype.modified=!1,c.prototype.autoSize=!0,c.prototype.selectText=!0,c.prototype.emptyLabelText=n.default.IS_FF?"<br>":"",c.prototype.escapeCancelsEditing=!0,c.prototype.textNode="",c.prototype.zIndex=5,c.prototype.minResize=new r.default(0,20),c.prototype.wordWrapPadding=n.default.IS_QUIRKS?2:n.default.IS_IE11?0:1,c.prototype.blurEnabled=!1,c.prototype.initialValue=null,c.prototype.init=function(){this.textarea=document.createElement("div"),this.textarea.style.background=" url('../images/transparent_common.gif')",this.textarea.style.borderColor="transparent",this.textarea.style.borderStyle="solid",this.textarea.style.position="absolute",this.textarea.style.overflow="visible",this.textarea.style.wordWrap="normal",this.textarea.style.borderWidth="0",this.textarea.style.minWidth="1px",this.textarea.style.resize="none",this.textarea.style.padding="0px",this.textarea.style.margin="0px",this.textarea.contentEditable=!0,this.installListeners(this.textarea)},c.prototype.applyValue=function(t,e){this.graph.labelChanged(t.cell,e,this.trigger)},c.prototype.getInitialValue=function(t,e){var i=a.default.htmlEntities(this.graph.getEditingValue(t.cell,e),!1);return n.default.IS_QUIRKS||8==document.documentMode||9==document.documentMode||10==document.documentMode||(i=a.default.replaceTrailingNewlines(i,"<div><br></div>")),i.replace(/\n/g,"<br>")},c.prototype.getCurrentValue=function(t){var e=u.default.extractTextWithWhitespace(this.textarea.childNodes);return e.length>0&&"\n"==e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e},c.prototype.installListeners=function(t){l.default.addListener(t,"blur",a.default.bind(this,(function(t){this.blurEnabled&&this.focusLost(t)}))),l.default.addListener(t,"keydown",a.default.bind(this,(function(t){l.default.isConsumed(t)||(this.isStopEditingEvent(t)?(this.graph.stopEditing(!1),l.default.consume(t)):27==t.keyCode&&(this.graph.stopEditing(this.escapeCancelsEditing||l.default.isShiftDown(t)),l.default.consume(t)))}))),this.changeHandler=a.default.bind(this,(function(t){null!=this.editingCell&&null==this.graph.getView().getState(this.editingCell)&&this.stopEditing(!0)})),this.graph.getModel().addListener(l.default.CHANGE,this.changeHandler);var e=a.default.bind(this,(function(e){null!=this.editingCell&&this.clearOnChange&&t.innerHTML==this.getEmptyLabelText()&&(!n.default.IS_FF||8!=e.keyCode&&46!=e.keyCode)&&(this.clearOnChange=!1,t.innerHTML="")}));l.default.addListener(t,"keypress",e),l.default.addListener(t,"paste",e);var i=a.default.bind(this,(function(t){null!=this.editingCell&&(0==this.textarea.innerHTML.length||"<br>"==this.textarea.innerHTML?(this.textarea.innerHTML=this.getEmptyLabelText(),this.clearOnChange=this.textarea.innerHTML.length>0):this.clearOnChange=!1)}));l.default.addListener(t,n.default.IS_IE11||n.default.IS_IE?"keyup":"input",i),l.default.addListener(t,"cut",i),l.default.addListener(t,"paste",i);var r=n.default.IS_IE11||n.default.IS_IE?"keydown":"input",o=a.default.bind(this,(function(t){null!=this.editingCell&&this.autoSize&&!l.default.isConsumed(t)&&(null!=this.resizeThread&&window.clearTimeout(this.resizeThread),this.resizeThread=window.setTimeout(a.default.bind(this,(function(){this.resizeThread=null,this.resize()})),0))}));l.default.addListener(t,r,o),document.documentMode>=9?(l.default.addListener(t,"DOMNodeRemoved",o),l.default.addListener(t,"DOMNodeInserted",o)):(l.default.addListener(t,"cut",o),l.default.addListener(t,"paste",o))},c.prototype.isStopEditingEvent=function(t){return 113==t.keyCode||this.graph.isEnterStopsCellEditing()&&13==t.keyCode&&!l.default.isControlDown(t)&&!l.default.isShiftDown(t)},c.prototype.isEventSource=function(t){return l.default.getSource(t)==this.textarea},c.prototype.resize=function(){var t=this.graph.getView().getState(this.editingCell);if(null==t)this.stopEditing(!0);else{var e=this.graph.getModel().isEdge(t.cell),i=this.graph.getView().scale,l=null;if(this.autoSize&&"fill"!=t.style[s.default.STYLE_OVERFLOW]){var u=a.default.getValue(t.style,s.default.STYLE_LABEL_WIDTH,null);if(null==(l=null!=t.text?t.text.margin:null)&&(l=a.default.getAlignmentAsPoint(a.default.getValue(t.style,s.default.STYLE_ALIGN,s.default.ALIGN_CENTER),a.default.getValue(t.style,s.default.STYLE_VERTICAL_ALIGN,s.default.ALIGN_MIDDLE),d.default)),e){if(this.bounds=new r.default(t.absoluteOffset.x,t.absoluteOffset.y,0,0),null!=u){var h=(parseFloat(u)+2)*i;this.bounds.width=h,this.bounds.x+=l.x*h}}else{var c=r.default.fromRectangle(t),p=a.default.getValue(t.style,s.default.STYLE_LABEL_POSITION,s.default.ALIGN_CENTER),f=a.default.getValue(t.style,s.default.STYLE_VERTICAL_LABEL_POSITION,s.default.ALIGN_MIDDLE);if(c=null!=t.shape&&p==s.default.ALIGN_CENTER&&f==s.default.ALIGN_MIDDLE?t.shape.getLabelBounds(c):c,null!=u&&(c.width=parseFloat(u)*i),!t.view.graph.cellRenderer.legacySpacing||"width"!=t.style[s.default.STYLE_OVERFLOW]){var g=parseInt(t.style[s.default.STYLE_SPACING]||2)*i,y=(parseInt(t.style[s.default.STYLE_SPACING_TOP]||0)+o.default.prototype.baseSpacingTop)*i+g,m=(parseInt(t.style[s.default.STYLE_SPACING_RIGHT]||0)+o.default.prototype.baseSpacingRight)*i+g,v=(parseInt(t.style[s.default.STYLE_SPACING_BOTTOM]||0)+o.default.prototype.baseSpacingBottom)*i+g,E=(parseInt(t.style[s.default.STYLE_SPACING_LEFT]||0)+o.default.prototype.baseSpacingLeft)*i+g;p=a.default.getValue(t.style,s.default.STYLE_LABEL_POSITION,s.default.ALIGN_CENTER),f=a.default.getValue(t.style,s.default.STYLE_VERTICAL_LABEL_POSITION,s.default.ALIGN_MIDDLE);c=new r.default(c.x+E,c.y+y,c.width-(p==s.default.ALIGN_CENTER&&null==u?E+m:0),c.height-(f==s.default.ALIGN_MIDDLE?y+v:0))}this.bounds=new r.default(c.x+t.absoluteOffset.x,c.y+t.absoluteOffset.y,c.width,c.height)}if(this.graph.isWrapping(t.cell)&&(this.bounds.width>=2||this.bounds.height>=2)&&this.textarea.innerHTML!=this.getEmptyLabelText()){this.textarea.style.wordWrap=s.default.WORD_WRAP,this.textarea.style.whiteSpace="normal";h=Math.round(this.bounds.width/i)+this.wordWrapPadding;this.textarea.style.width=h+"px",this.textarea.scrollWidth>h&&(this.textarea.style.width=this.textarea.scrollWidth+"px")}else this.textarea.style.whiteSpace="nowrap",this.textarea.style.width="";8==document.documentMode&&(this.textarea.style.zoom="1",this.textarea.style.height="auto");var b=this.textarea.scrollWidth,S=this.textarea.scrollHeight;8==document.documentMode?(this.textarea.style.left=Math.max(0,Math.ceil((this.bounds.x-l.x*(this.bounds.width-(b+1)*i)+b*(i-1)*0+2*(l.x+.5))/i))+"px",this.textarea.style.top=Math.max(0,Math.ceil((this.bounds.y-l.y*(this.bounds.height-(S+.5)*i)+S*(i-1)*0+1*Math.abs(l.y+.5))/i))+"px",this.textarea.style.width=Math.round(b*i)+"px",this.textarea.style.height=Math.round(S*i)+"px"):n.default.IS_QUIRKS?(this.textarea.style.left=Math.max(0,Math.ceil(this.bounds.x-l.x*(this.bounds.width-(b+1)*i)+b*(i-1)*0+2*(l.x+.5)))+"px",this.textarea.style.top=Math.max(0,Math.ceil(this.bounds.y-l.y*(this.bounds.height-(S+.5)*i)+S*(i-1)*0+1*Math.abs(l.y+.5)))+"px"):(this.textarea.style.left=Math.max(0,Math.round(this.bounds.x-l.x*(this.bounds.width-2))+1)+"px",this.textarea.style.top=Math.max(0,Math.round(this.bounds.y-l.y*(this.bounds.height-4)+(-1==l.y?3:0))+1)+"px")}else this.bounds=this.getEditorBounds(t),this.textarea.style.width=Math.round(this.bounds.width/i)+"px",this.textarea.style.height=Math.round(this.bounds.height/i)+"px",8==document.documentMode||n.default.IS_QUIRKS?(this.textarea.style.left=Math.round(this.bounds.x)+"px",this.textarea.style.top=Math.round(this.bounds.y)+"px"):(this.textarea.style.left=Math.max(0,Math.round(this.bounds.x+1))+"px",this.textarea.style.top=Math.max(0,Math.round(this.bounds.y+1))+"px"),this.graph.isWrapping(t.cell)&&(this.bounds.width>=2||this.bounds.height>=2)&&this.textarea.innerHTML!=this.getEmptyLabelText()?(this.textarea.style.wordWrap=s.default.WORD_WRAP,this.textarea.style.whiteSpace="normal","fill"!=t.style[s.default.STYLE_OVERFLOW]&&(this.textarea.style.width=Math.round(this.bounds.width/i)+this.wordWrapPadding+"px")):(this.textarea.style.whiteSpace="nowrap","fill"!=t.style[s.default.STYLE_OVERFLOW]&&(this.textarea.style.width=""));n.default.IS_VML?this.textarea.style.zoom=i:(a.default.setPrefixedStyle(this.textarea.style,"transformOrigin","0px 0px"),a.default.setPrefixedStyle(this.textarea.style,"transform","scale("+i+","+i+")"+(null==l?"":" translate("+100*l.x+"%,"+100*l.y+"%)")))}},c.prototype.focusLost=function(){this.stopEditing(!this.graph.isInvokesStopCellEditing())},c.prototype.getBackgroundColor=function(t){return null},c.prototype.startEditing=function(t,e){null==this.textarea&&this.init(),null!=this.graph.tooltipHandler&&this.graph.tooltipHandler.hideTooltip(),this.stopEditing(!0);var i=this.graph.getView().getState(t);if(null!=i){this.graph.getView().scale;var n=a.default.getValue(i.style,s.default.STYLE_FONTSIZE,s.default.DEFAULT_FONTSIZE),l=a.default.getValue(i.style,s.default.STYLE_FONTFAMILY,s.default.DEFAULT_FONTFAMILY),r=a.default.getValue(i.style,s.default.STYLE_FONTCOLOR,"black"),o=a.default.getValue(i.style,s.default.STYLE_ALIGN,s.default.ALIGN_LEFT),u=(a.default.getValue(i.style,s.default.STYLE_FONTSTYLE,0)&s.default.FONT_BOLD)==s.default.FONT_BOLD,d=(a.default.getValue(i.style,s.default.STYLE_FONTSTYLE,0)&s.default.FONT_ITALIC)==s.default.FONT_ITALIC,h=(a.default.getValue(i.style,s.default.STYLE_FONTSTYLE,0)&s.default.FONT_UNDERLINE)==s.default.FONT_UNDERLINE;this.textarea.style.lineHeight=s.default.ABSOLUTE_LINE_HEIGHT?Math.round(n*s.default.LINE_HEIGHT)+"px":s.default.LINE_HEIGHT,this.textarea.style.backgroundColor=this.getBackgroundColor(i),this.textarea.style.textDecoration=h?"underline":"",this.textarea.style.fontWeight=u?"bold":"normal",this.textarea.style.fontStyle=d?"italic":"",this.textarea.style.fontSize=Math.round(n)+"px",this.textarea.style.zIndex=this.zIndex,this.textarea.style.fontFamily=l,this.textarea.style.textAlign=o,this.textarea.style.outline="none",this.textarea.style.color=r;var c=this.textDirection=a.default.getValue(i.style,s.default.STYLE_TEXT_DIRECTION,s.default.DEFAULT_TEXT_DIRECTION);if(c==s.default.TEXT_DIRECTION_AUTO&&(null==i||null==i.text||i.text.dialect==s.default.DIALECT_STRICTHTML||a.default.isNode(i.text.value)||(c=i.text.getAutoDirection())),c==s.default.TEXT_DIRECTION_LTR||c==s.default.TEXT_DIRECTION_RTL?this.textarea.setAttribute("dir",c):this.textarea.removeAttribute("dir"),this.textarea.innerHTML=this.getInitialValue(i,e)||"",this.initialValue=this.textarea.innerHTML,0==this.textarea.innerHTML.length||"<br>"==this.textarea.innerHTML?(this.textarea.innerHTML=this.getEmptyLabelText(),this.clearOnChange=!0):this.clearOnChange=this.textarea.innerHTML==this.getEmptyLabelText(),this.graph.container.appendChild(this.textarea),this.editingCell=t,this.trigger=e,this.textNode=null,null!=i.text&&this.isHideLabel(i)&&(this.textNode=i.text.node,this.textNode.style.visibility="hidden"),this.autoSize&&(this.graph.model.isEdge(i.cell)||"fill"!=i.style[s.default.STYLE_OVERFLOW])&&window.setTimeout(a.default.bind(this,(function(){this.resize()})),0),this.resize(),null!=this.textarea)try{this.textarea.focus(),this.isSelectText()&&this.textarea.innerHTML.length>0&&(this.textarea.innerHTML!=this.getEmptyLabelText()||!this.clearOnChange)&&document.execCommand("selectAll",!1,null)}catch(t){}}},c.prototype.isSelectText=function(){return this.selectText},c.prototype.stopEditing=function(t){if(t=t||!1,null!=this.editingCell){null!=this.textNode&&(this.textNode.style.visibility="visible",this.textNode=null);var e=t?null:this.graph.view.getState(this.editingCell),i=this.initialValue;if(this.initialValue=null,this.editingCell=null,this.trigger=null,this.bounds=null,this.textarea.blur(),null!=this.textarea.parentNode&&this.textarea.parentNode.removeChild(this.textarea),this.clearOnChange&&this.textarea.innerHTML==this.getEmptyLabelText()&&(this.textarea.innerHTML="",this.clearOnChange=!1),null!=e&&this.textarea.innerHTML!=i){var n=this.getCurrentValue(e);null!=n&&this.applyValue(e,n)}}},c.prototype.isHideLabel=function(t){return!0},c.prototype.getMinimumSize=function(t){var e=this.graph.getView().scale;return new r.default(0,0,null==t.text?30:t.text.size*e+20,"left"==this.textarea.style.textAlign?120:40)},c.prototype.getEditorBounds=function(t){var e=this.graph.getModel().isEdge(t.cell),i=this.graph.getView().scale,n=this.getMinimumSize(t),l=n.width,u=n.height,d=null;if(!e&&t.view.graph.cellRenderer.legacySpacing&&"fill"==t.style[s.default.STYLE_OVERFLOW])d=t.shape.getLabelBounds(r.default.fromRectangle(t));else{var h=parseInt(t.style[s.default.STYLE_SPACING]||0)*i,c=(parseInt(t.style[s.default.STYLE_SPACING_TOP]||0)+o.default.prototype.baseSpacingTop)*i+h,p=(parseInt(t.style[s.default.STYLE_SPACING_RIGHT]||0)+o.default.prototype.baseSpacingRight)*i+h,f=(parseInt(t.style[s.default.STYLE_SPACING_BOTTOM]||0)+o.default.prototype.baseSpacingBottom)*i+h,g=(parseInt(t.style[s.default.STYLE_SPACING_LEFT]||0)+o.default.prototype.baseSpacingLeft)*i+h;d=new r.default(t.x,t.y,Math.max(l,t.width-g-p),Math.max(u,t.height-c-f));var y=a.default.getValue(t.style,s.default.STYLE_LABEL_POSITION,s.default.ALIGN_CENTER),m=a.default.getValue(t.style,s.default.STYLE_VERTICAL_LABEL_POSITION,s.default.ALIGN_MIDDLE);if(d=null!=t.shape&&y==s.default.ALIGN_CENTER&&m==s.default.ALIGN_MIDDLE?t.shape.getLabelBounds(d):d,e?(d.x=t.absoluteOffset.x,d.y=t.absoluteOffset.y,null!=t.text&&null!=t.text.boundingBox&&(t.text.boundingBox.x>0&&(d.x=t.text.boundingBox.x),t.text.boundingBox.y>0&&(d.y=t.text.boundingBox.y))):null!=t.text&&null!=t.text.boundingBox&&(d.x=Math.min(d.x,t.text.boundingBox.x),d.y=Math.min(d.y,t.text.boundingBox.y)),d.x+=g,d.y+=c,null!=t.text&&null!=t.text.boundingBox&&(e?(d.width=Math.max(l,t.text.boundingBox.width),d.height=Math.max(u,t.text.boundingBox.height)):(d.width=Math.max(d.width,t.text.boundingBox.width),d.height=Math.max(d.height,t.text.boundingBox.height))),this.graph.getModel().isVertex(t.cell)){var v=a.default.getValue(t.style,s.default.STYLE_LABEL_POSITION,s.default.ALIGN_CENTER);v==s.default.ALIGN_LEFT?d.x-=t.width:v==s.default.ALIGN_RIGHT&&(d.x+=t.width);var E=a.default.getValue(t.style,s.default.STYLE_VERTICAL_LABEL_POSITION,s.default.ALIGN_MIDDLE);E==s.default.ALIGN_TOP?d.y-=t.height:E==s.default.ALIGN_BOTTOM&&(d.y+=t.height)}}return new r.default(Math.round(d.x),Math.round(d.y),Math.round(d.width),Math.round(d.height))},c.prototype.getEmptyLabelText=function(t){return this.emptyLabelText},c.prototype.getEditingCell=function(){return this.editingCell},c.prototype.destroy=function(){null!=this.textarea&&(l.default.release(this.textarea),null!=this.textarea.parentNode&&this.textarea.parentNode.removeChild(this.textarea),this.textarea=null,null!=this.changeHandler&&(this.graph.getModel().removeListener(this.changeHandler),this.changeHandler=null),this.zoomHandler&&(this.graph.view.removeListener(this.zoomHandler),this.zoomHandler=null))};e.default=c},667016:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(297336),i(846428);var n=u(i(22676)),l=u(i(710952)),a=u(i(742288)),r=u(i(247644)),o=u(i(790448)),s=u(i(172636));function u(t){return t&&t.__esModule?t:{default:t}}function d(t,e,i,n){null!=t&&(this.graph=t,this.highlightColor=null!=e?e:o.default.DEFAULT_VALID_COLOR,this.strokeWidth=null!=i?i:o.default.HIGHLIGHT_STROKEWIDTH,this.dashed=null!=n&&n,this.opacity=o.default.HIGHLIGHT_OPACITY,this.repaintHandler=a.default.bind(this,(function(){if(null!=this.state){var t=this.graph.view.getState(this.state.cell);null==t?this.hide():(this.state=t,this.repaint())}})),this.graph.getView().addListener(l.default.SCALE,this.repaintHandler),this.graph.getView().addListener(l.default.TRANSLATE,this.repaintHandler),this.graph.getView().addListener(l.default.SCALE_AND_TRANSLATE,this.repaintHandler),this.graph.getModel().addListener(l.default.CHANGE,this.repaintHandler),this.resetHandler=a.default.bind(this,(function(){this.hide()})),this.graph.getView().addListener(l.default.DOWN,this.resetHandler),this.graph.getView().addListener(l.default.UP,this.resetHandler))}d.prototype.keepOnTop=!1,d.prototype.graph=!0,d.prototype.state=null,d.prototype.spacing=2,d.prototype.resetHandler=null,d.prototype.setHighlightColor=function(t){this.highlightColor=t,null!=this.shape&&(this.shape.stroke=t)},d.prototype.drawHighlight=function(){this.shape=this.createShape(),this.repaint(),this.keepOnTop||this.shape.node.parentNode.firstChild==this.shape.node||this.shape.node.parentNode.insertBefore(this.shape.node,this.shape.node.parentNode.firstChild)},d.prototype.createShape=function(){var t=this.graph.cellRenderer.createShape(this.state);return t.svgStrokeTolerance=this.graph.tolerance,t.scale=this.state.view.scale,t.outline=!0,t.points=this.state.absolutePoints,t.apply(this.state),t.strokewidth=this.strokeWidth/this.state.view.scale/this.state.view.scale,t.arrowStrokewidth=this.strokeWidth,t.stroke=this.highlightColor,t.opacity=this.opacity,t.isDashed=this.dashed,t.isShadow=!1,t.dialect=this.graph.dialect!=o.default.DIALECT_SVG?o.default.DIALECT_VML:o.default.DIALECT_SVG,t.init(this.graph.getView().getOverlayPane()),l.default.redirectMouseEvents(t.node,this.graph,this.state,null,null,null,null,s.default),this.graph.dialect!=o.default.DIALECT_SVG?t.pointerEvents=!1:t.svgPointerEvents="stroke",t},d.prototype.repaint=function(){null!=this.state&&null!=this.shape&&(this.graph.model.isEdge(this.state.cell)?this.shape.points=this.state.absolutePoints:(this.shape.bounds=new r.default(this.state.x-this.spacing,this.state.y-this.spacing,this.state.width+2*this.spacing,this.state.height+2*this.spacing),this.shape.rotation=Number(this.state.style[o.default.STYLE_ROTATION]||"0")),null!=this.state.shape&&this.shape.setCursor(this.state.shape.getCursor()),(n.default.IS_QUIRKS||8==document.documentMode)&&("transparent"==this.shape.stroke?(this.shape.stroke="white",this.shape.opacity=1):this.shape.opacity=this.opacity))},d.prototype.hide=function(){this.highlight(null)},d.prototype.highlight=function(t){this.state!=t&&(null!=this.shape&&(this.shape.destroy(),this.shape=null),this.state=t,null!=this.state&&this.drawHighlight())},d.prototype.isHighlightAt=function(t,e){var i=!1;if(null!=this.shape&&null!=document.elementFromPoint&&!n.default.IS_QUIRKS)for(var l=document.elementFromPoint(t,e);null!=l;){if(l==this.shape.node){i=!0;break}l=l.parentNode}return i},d.prototype.destroy=function(){this.graph.getView().removeListener(this.resetHandler),this.graph.getView().removeListener(this.repaintHandler),this.graph.getModel().removeListener(this.repaintHandler),null!=this.shape&&(this.shape.destroy(),this.shape=null)};e.default=d},62112:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=d(i(995048)),l=d(i(370608)),a=d(i(742288)),r=d(i(39864)),o=d(i(667016)),s=d(i(790448)),u=d(i(132448));function d(t){return t&&t.__esModule?t:{default:t}}function h(t,e,i,n){r.default.call(this),null!=t&&(this.graph=t,this.validColor=null!=e?e:s.default.DEFAULT_VALID_COLOR,this.invalidColor=null!=e?i:s.default.DEFAULT_INVALID_COLOR,this.hotspot=null!=n?n:s.default.DEFAULT_HOTSPOT,this.highlight=new o.default(t))}a.default.extend(h,r.default),h.prototype.graph=null,h.prototype.enabled=!0,h.prototype.hotspot=s.default.DEFAULT_HOTSPOT,h.prototype.hotspotEnabled=!1,h.prototype.validColor=null,h.prototype.invalidColor=null,h.prototype.currentColor=null,h.prototype.validState=null,h.prototype.markedState=null,h.prototype.setEnabled=function(t){this.enabled=t},h.prototype.isEnabled=function(){return this.enabled},h.prototype.setHotspot=function(t){this.hotspot=t},h.prototype.getHotspot=function(){return this.hotspot},h.prototype.setHotspotEnabled=function(t){this.hotspotEnabled=t},h.prototype.isHotspotEnabled=function(){return this.hotspotEnabled},h.prototype.hasValidState=function(){return null!=this.validState},h.prototype.getValidState=function(){return this.validState},h.prototype.getMarkedState=function(){return this.markedState},h.prototype.reset=function(){this.validState=null,null!=this.markedState&&(this.markedState=null,this.unmark())},h.prototype.process=function(t){var e=null;return this.isEnabled()&&(e=this.getState(t),this.setCurrentState(e,t)),e},h.prototype.setCurrentState=function(t,e,i){var n=null!=t&&this.isValidState(t);i=null!=i?i:this.getMarkerColor(e.getEvent(),t,n),this.validState=n?t:null,t==this.markedState&&i==this.currentColor||(this.currentColor=i,null!=t&&null!=this.currentColor?(this.markedState=t,this.mark()):null!=this.markedState&&(this.markedState=null,this.unmark()))},h.prototype.markCell=function(t,e){var i=this.graph.getView().getState(t);null!=i&&(this.currentColor=null!=e?e:this.validColor,this.markedState=i,this.mark())},h.prototype.mark=function(){this.highlight.setHighlightColor(this.currentColor),this.highlight.highlight(this.markedState),this.fireEvent(new n.default(l.default.MARK,"state",this.markedState))},h.prototype.unmark=function(){this.mark()},h.prototype.isValidState=function(t){return!0},h.prototype.getMarkerColor=function(t,e,i){return i?this.validColor:this.invalidColor},h.prototype.getState=function(t){var e=this.graph.getView(),i=this.getCell(t),n=this.getStateToMark(e.getState(i));return null!=n&&this.intersects(n,t)?n:null},h.prototype.getCell=function(t){return t.getCell()},h.prototype.getStateToMark=function(t){return t},h.prototype.intersects=function(t,e){return!this.hotspotEnabled||u.default.intersectsHotspot(t,e.getGraphX(),e.getGraphY(),this.hotspot,s.default.MIN_HOTSPOT_SIZE,s.default.MAX_HOTSPOT_SIZE)},h.prototype.destroy=function(){this.graph.getView().removeListener(this.resetHandler),this.graph.getModel().removeListener(this.resetHandler),this.highlight.destroy()};e.default=h},61036:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(976896),i(387912),i(690512);var n=o(i(164460)),l=o(i(39864)),a=o(i(247644)),r=o(i(790448));function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e,i,l,a,r){this.image=t,this.tooltip=e,this.align=null!=i?i:this.align,this.verticalAlign=null!=l?l:this.verticalAlign,this.offset=null!=a?a:new n.default,this.cursor=null!=r?r:"help"}s.prototype=new l.default,s.prototype.constructor=s,s.prototype.image=null,s.prototype.tooltip=null,s.prototype.align=r.default.ALIGN_RIGHT,s.prototype.verticalAlign=r.default.ALIGN_BOTTOM,s.prototype.offset=null,s.prototype.cursor=null,s.prototype.defaultOverlap=.5,s.prototype.getBounds=function(t){var e=t.view.graph.getModel().isEdge(t.cell),i=t.view.scale,l=null,o=this.image.width,s=this.image.height;if(e){var u=t.absolutePoints;if(u.length%2==1)l=u[Math.floor(u.length/2)];else{var d=u.length/2,h=u[d-1],c=u[d];l=new n.default(h.x+(c.x-h.x)/2,h.y+(c.y-h.y)/2)}}else l=new n.default,this.align==r.default.ALIGN_LEFT?l.x=t.x:this.align==r.default.ALIGN_CENTER?l.x=t.x+t.width/2:l.x=t.x+t.width,this.verticalAlign==r.default.ALIGN_TOP?l.y=t.y:this.verticalAlign==r.default.ALIGN_MIDDLE?l.y=t.y+t.height/2:l.y=t.y+t.height;return new a.default(Math.round(l.x-(o*this.defaultOverlap-this.offset.x)*i),Math.round(l.y-(s*this.defaultOverlap-this.offset.y)*i),o*i,s*i)},s.prototype.toString=function(){return this.tooltip};e.default=s},35152:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(820444),i(571176),i(633768),i(328640);var n={PATH_SEPARATOR:".",create:function(t){var e="";if(null!=t)for(var i=t.getParent();null!=i;){e=i.getIndex(t)+n.PATH_SEPARATOR+e,i=(t=i).getParent()}var l=e.length;return l>1&&(e=e.substring(0,l-1)),e},getParentPath:function(t){if(null!=t){var e=t.lastIndexOf(n.PATH_SEPARATOR);if(e>=0)return t.substring(0,e);if(t.length>0)return""}return null},resolve:function(t,e){var i=t;if(null!=e)for(var l=e.split(n.PATH_SEPARATOR),a=0;a<l.length;a++)i=i.getChildAt(parseInt(l[a]));return i},compare:function(t,e){for(var i=Math.min(t.length,e.length),n=0,l=0;l<i;l++)if(t[l]!=e[l]){var a,r;if(0==t[l].length||0==e[l].length)n=t[l]==e[l]?0:t[l]>e[l]?1:-1;else n=(a=parseInt(t[l]))==(r=parseInt(e[l]))?0:a>r?1:-1;break}0==n&&((a=t.length)!=(r=e.length)&&(n=a>r?1:-1));return n}};e.default=n},956392:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(241872),i(693917),i(297336),i(23544);var n=_(i(995048)),l=_(i(370608)),a=_(i(172636)),r=_(i(591108)),o=_(i(247644)),s=_(i(22676)),u=_(i(794644)),d=_(i(164460)),h=_(i(742288)),c=_(i(656988)),p=_(i(790448)),f=_(i(132448)),g=_(i(143320)),y=_(i(646696)),m=_(i(429940)),v=_(i(965572)),E=_(i(845320)),b=_(i(796656)),S=_(i(577512)),w=_(i(833800)),A=_(i(513556)),C=_(i(784216)),T=_(i(183520)),M=_(i(300016)),x=_(i(745240)),I=_(i(581752)),L=_(i(632004)),N=_(i(36312)),O=_(i(293792)),D=_(i(92792)),R=_(i(279184));function _(t){return t&&t.__esModule?t:{default:t}}function P(){}P.prototype.defaultEdgeShape=S.default,P.prototype.defaultVertexShape=w.default,P.prototype.defaultTextShape=N.default,P.prototype.legacyControlPosition=!0,P.prototype.legacySpacing=!0,P.prototype.defaultShapes=new Object,P.prototype.antiAlias=!0,P.prototype.forceControlClickHandler=!1,P.registerShape=function(t,e){P.prototype.defaultShapes[t]=e},P.registerShape(p.default.SHAPE_RECTANGLE,w.default),P.registerShape(p.default.SHAPE_ELLIPSE,b.default),P.registerShape(p.default.SHAPE_RHOMBUS,L.default),P.registerShape(p.default.SHAPE_CYLINDER,y.default),P.registerShape(p.default.SHAPE_CONNECTOR,S.default),P.registerShape(p.default.SHAPE_ACTOR,x.default),P.registerShape(p.default.SHAPE_TRIANGLE,v.default),P.registerShape(p.default.SHAPE_HEXAGON,E.default),P.registerShape(p.default.SHAPE_CLOUD,A.default),P.registerShape(p.default.SHAPE_LINE,M.default),P.registerShape(p.default.SHAPE_ARROW,m.default),P.registerShape(p.default.SHAPE_ARROW_CONNECTOR,g.default),P.registerShape(p.default.SHAPE_DOUBLE_ELLIPSE,C.default),P.registerShape(p.default.SHAPE_SWIMLANE,I.default),P.registerShape(p.default.SHAPE_IMAGE,u.default),P.registerShape(p.default.SHAPE_LABEL,T.default),P.registerShape("billCard",D.default),P.registerShape("stackedCard",R.default),P.prototype.initializeShape=function(t){t.shape.dialect=t.view.graph.dialect,this.configureShape(t),t.shape.init(t.view.getDrawPane())},P.prototype.createShape=function(t){var e=null,i="diagram"===t.view.graph.container.id;if(null!=t.style){var n=t.style[p.default.STYLE_SHAPE],l=O.default.getStencil(!0===i&&n.indexOf("_")<0?n+"_USE":n);if(null==l&&1==i&&n.indexOf("_")>-1&&(l=O.default.getStencil(n+"_USE")),null!=l)e=new c.default(l);else e=new(this.getShapeConstructor(t))}return e},P.prototype.createIndicatorShape=function(t){t.shape.indicatorShape=this.getShape(t.view.graph.getIndicatorShape(t))},P.prototype.getShape=function(t){return null!=t?P.prototype.defaultShapes[t]:null},P.prototype.getShapeConstructor=function(t){var e=this.getShape(t.style[p.default.STYLE_SHAPE]);return null==e&&(e=t.view.graph.getModel().isEdge(t.cell)?this.defaultEdgeShape:this.defaultVertexShape),e},P.prototype.configureShape=function(t){t.shape.apply(t),t.shape.image=t.view.graph.getImage(t),t.shape.indicatorColor=t.view.graph.getIndicatorColor(t),t.shape.indicatorStrokeColor=t.style[p.default.STYLE_INDICATOR_STROKECOLOR],t.shape.indicatorGradientColor=t.view.graph.getIndicatorGradientColor(t),t.shape.indicatorDirection=t.style[p.default.STYLE_INDICATOR_DIRECTION],t.shape.indicatorImage=t.view.graph.getIndicatorImage(t),this.postConfigureShape(t)},P.prototype.postConfigureShape=function(t){null!=t.shape&&(this.resolveColor(t,"indicatorColor",p.default.STYLE_FILLCOLOR),this.resolveColor(t,"indicatorGradientColor",p.default.STYLE_GRADIENTCOLOR),this.resolveColor(t,"fill",p.default.STYLE_FILLCOLOR),this.resolveColor(t,"stroke",p.default.STYLE_STROKECOLOR),this.resolveColor(t,"gradient",p.default.STYLE_GRADIENTCOLOR))},P.prototype.resolveColor=function(t,e,i){var n=t.shape[e],l=t.view.graph,a=null;if("inherit"==n?a=l.model.getParent(t.cell):"swimlane"==n?(a=null!=l.model.getTerminal(t.cell,!1)?l.model.getTerminal(t.cell,!1):t.cell,a=l.getSwimlane(a),i=l.swimlaneIndicatorColorAttribute):"indicated"==n&&(t.shape[e]=t.shape.indicatorColor),null!=a){var r=l.getView().getState(a);t.shape[e]=null,null!=r&&(null!=r.shape&&"indicatorColor"!=e?t.shape[e]=r.shape[e]:t.shape[e]=r.style[i])}},P.prototype.getLabelValue=function(t){return t.view.graph.getLabel(t.cell)},P.prototype.createLabel=function(t,e){var i=t.view.graph;i.getModel().isEdge(t.cell);if(t.style[p.default.STYLE_FONTSIZE]>0||null==t.style[p.default.STYLE_FONTSIZE]){var n=i.isHtmlLabel(t.cell)||null!=e&&h.default.isNode(e);t.text=new this.defaultTextShape(e,new o.default,t.style[p.default.STYLE_ALIGN]||p.default.ALIGN_CENTER,i.getVerticalAlign(t),t.style[p.default.STYLE_FONTCOLOR],t.style[p.default.STYLE_FONTFAMILY],t.style[p.default.STYLE_FONTSIZE],t.style[p.default.STYLE_FONTSTYLE],t.style[p.default.STYLE_SPACING],t.style[p.default.STYLE_SPACING_TOP],t.style[p.default.STYLE_SPACING_RIGHT],t.style[p.default.STYLE_SPACING_BOTTOM],t.style[p.default.STYLE_SPACING_LEFT],t.style[p.default.STYLE_HORIZONTAL],t.style[p.default.STYLE_LABEL_BACKGROUNDCOLOR],t.style[p.default.STYLE_LABEL_BORDERCOLOR],i.isWrapping(t.cell)&&i.isHtmlLabel(t.cell),i.isLabelClipped(t.cell),t.style[p.default.STYLE_OVERFLOW],t.style[p.default.STYLE_LABEL_PADDING],h.default.getValue(t.style,p.default.STYLE_TEXT_DIRECTION,p.default.DEFAULT_TEXT_DIRECTION),t.style[p.default.STYLE_LABEL_ELLIPSISGROUNDCOLOR]||"#FFFFFF"),t.text.opacity=h.default.getValue(t.style,p.default.STYLE_TEXT_OPACITY,100),t.text.dialect=n?p.default.DIALECT_STRICTHTML:t.view.graph.dialect,t.text.style=t.style,t.text.state=t,this.initializeLabel(t,t.text);var r=!1,u=function(e){var n=t;if(s.default.IS_TOUCH||r){var a=l.default.getClientX(e),o=l.default.getClientY(e),u=f.default.convertPoint(i.container,a,o);n=i.view.getState(i.getCellAt(u.x,u.y))}return n};l.default.addGestureListeners(t.text.node,h.default.bind(this,(function(e){this.isLabelEvent(t,e)&&(i.fireMouseEvent(l.default.MOUSE_DOWN,new a.default(e,t)),r=i.dialect!=p.default.DIALECT_SVG&&"IMG"==l.default.getSource(e).nodeName)})),h.default.bind(this,(function(e){this.isLabelEvent(t,e)&&i.fireMouseEvent(l.default.MOUSE_MOVE,new a.default(e,u(e)))})),h.default.bind(this,(function(e){this.isLabelEvent(t,e)&&(i.fireMouseEvent(l.default.MOUSE_UP,new a.default(e,u(e))),r=!1)}))),i.nativeDblClickEnabled&&l.default.addListener(t.text.node,"dblclick",h.default.bind(this,(function(e){this.isLabelEvent(t,e)&&(i.dblClick(e,t.cell),l.default.consume(e))})))}},P.prototype.initializeLabel=function(t,e){s.default.IS_SVG&&s.default.NO_FO&&e.dialect!=p.default.DIALECT_SVG?e.init(t.view.graph.container):e.init(t.view.getDrawPane())},P.prototype.createCellOverlays=function(t){var e=t.view.graph.getCellOverlays(t.cell),i=null;if(null!=e){i=new r.default;for(var n=0;n<e.length;n++){var l=null!=t.overlays?t.overlays.remove(e[n]):null;if(null==l){var a=new u.default(new o.default,e[n].image.src);a.dialect=t.view.graph.dialect,a.preserveImageAspect=!1,a.overlay=e[n],this.initializeOverlay(t,a),this.installCellOverlayListeners(t,e[n],a),null!=e[n].cursor&&(a.node.style.cursor=e[n].cursor),i.put(e[n],a)}else i.put(e[n],l)}}null!=t.overlays&&t.overlays.visit((function(t,e){e.destroy()})),t.overlays=i},P.prototype.initializeOverlay=function(t,e){e.init(t.view.getOverlayPane())},P.prototype.installCellOverlayListeners=function(t,e,i){var r=t.view.graph;l.default.addListener(i.node,"click",(function(i){r.isEditing()&&r.stopEditing(!r.isInvokesStopCellEditing()),e.fireEvent(new n.default(l.default.CLICK,"event",i,"cell",t.cell))})),l.default.addGestureListeners(i.node,(function(t){l.default.consume(t)}),(function(e){r.fireMouseEvent(l.default.MOUSE_MOVE,new a.default(e,t))})),s.default.IS_TOUCH&&l.default.addListener(i.node,"touchend",(function(i){e.fireEvent(new n.default(l.default.CLICK,"event",i,"cell",t.cell))}))},P.prototype.createControl=function(t){var e=t.view.graph,i=e.getFoldingImage(t);if(e.foldingEnabled&&null!=i){if(null==t.control){var n=new o.default(0,0,i.width,i.height);t.control=new u.default(n,i.src),t.control.preserveImageAspect=!1,t.control.dialect=e.dialect,this.initControl(t,t.control,!0,this.createControlClickHandler(t))}}else null!=t.control&&(t.control.destroy(),t.control=null)},P.prototype.createControlClickHandler=function(t){var e=t.view.graph;return h.default.bind(this,(function(i){if(this.forceControlClickHandler||e.isEnabled()){var n=!e.isCellCollapsed(t.cell);e.foldCells(n,!1,[t.cell],null,i),l.default.consume(i)}}))},P.prototype.initControl=function(t,e,i,n){var r=t.view.graph;r.isHtmlLabel(t.cell)&&s.default.NO_FO&&r.dialect==p.default.DIALECT_SVG?(e.dialect=p.default.DIALECT_PREFERHTML,e.init(r.container),e.node.style.zIndex=1):e.init(t.view.getOverlayPane());var o=e.innerNode||e.node;if(null==n||s.default.IS_IOS||((this.forceControlClickHandler||r.isEnabled())&&(o.style.cursor="pointer"),l.default.addListener(o,"click",n)),i){var u=null;l.default.addGestureListeners(o,(function(e){u=new d.default(l.default.getClientX(e),l.default.getClientY(e)),r.fireMouseEvent(l.default.MOUSE_DOWN,new a.default(e,t)),l.default.consume(e)}),(function(e){r.fireMouseEvent(l.default.MOUSE_MOVE,new a.default(e,t))}),(function(e){r.fireMouseEvent(l.default.MOUSE_UP,new a.default(e,t)),l.default.consume(e)})),null!=n&&s.default.IS_IOS&&o.addEventListener("touchend",(function(t){if(null!=u){var e=r.tolerance;Math.abs(u.x-l.default.getClientX(t))<e&&Math.abs(u.y-l.default.getClientY(t))<e&&(n.call(n,t),l.default.consume(t))}}),!0)}return o},P.prototype.isShapeEvent=function(t,e){return!0},P.prototype.isLabelEvent=function(t,e){return!0},P.prototype.installListeners=function(t){var e=t.view.graph,i=function(i){var n=t;if(e.dialect!=p.default.DIALECT_SVG&&"IMG"==l.default.getSource(i).nodeName||s.default.IS_TOUCH){var a=l.default.getClientX(i),r=l.default.getClientY(i),o=f.default.convertPoint(e.container,a,r);n=e.view.getState(e.getCellAt(o.x,o.y))}return n};l.default.addGestureListeners(t.shape.node,h.default.bind(this,(function(i){this.isShapeEvent(t,i)&&e.fireMouseEvent(l.default.MOUSE_DOWN,new a.default(i,t))})),h.default.bind(this,(function(n){this.isShapeEvent(t,n)&&e.fireMouseEvent(l.default.MOUSE_MOVE,new a.default(n,i(n)))})),h.default.bind(this,(function(n){this.isShapeEvent(t,n)&&e.fireMouseEvent(l.default.MOUSE_UP,new a.default(n,i(n)))}))),e.nativeDblClickEnabled&&l.default.addListener(t.shape.node,"dblclick",h.default.bind(this,(function(i){this.isShapeEvent(t,i)&&(e.dblClick(i,t.cell),l.default.consume(i))})))},P.prototype.redrawLabel=function(t,e){var i=this.getLabelValue(t);if(null==t.text&&null!=i&&(h.default.isNode(i)||i.length>0)?this.createLabel(t,i):null==t.text||null!=i&&0!=i.length||(t.text.destroy(),t.text=null),null!=t.text){var n=t.view.graph;e&&(null!=t.text.lastValue&&this.isTextShapeInvalid(t,t.text)&&(t.text.lastValue=null),t.text.resetStyles(),t.text.apply(t),t.text.opacity=h.default.getValue(t.style,p.default.STYLE_TEXT_OPACITY,100));var l=this.getLabelBounds(t),a=n.isWrapping(t.cell),r=n.isLabelClipped(t.cell),o=t.view.graph.isHtmlLabel(t.cell)||null!=i&&h.default.isNode(i)?p.default.DIALECT_STRICTHTML:t.view.graph.dialect,s=t.style[p.default.STYLE_OVERFLOW]||"visible";if(e||t.text.value!=i||t.text.isWrapping!=a||t.text.overflow!=s||t.text.isClipping!=r||t.text.scale!=this.getTextScale(t)||t.text.dialect!=o||!t.text.bounds.equals(l)){t.text.dialect=o,t.text.value=i,t.text.bounds=l,t.text.scale=this.getTextScale(t),t.text.wrap=a,t.text.clipped=r,t.text.overflow=s;var u=t.text.node.style.visibility;this.redrawLabelShape(t.text);var d=t.shape;d.afterRedrawLabel&&d.afterRedrawLabel(t.text.node.firstElementChild),t.text.node.style.visibility=u}}},P.prototype.isTextShapeInvalid=function(t,e){function i(i,n,l){return e[i]!=(t.style[n]||l)}return i("fontStyle",p.default.STYLE_FONTSTYLE,p.default.DEFAULT_FONTSTYLE)||i("family",p.default.STYLE_FONTFAMILY,p.default.DEFAULT_FONTFAMILY)||i("size",p.default.STYLE_FONTSIZE,p.default.DEFAULT_FONTSIZE)||i("color",p.default.STYLE_FONTCOLOR,"black")||i("align",p.default.STYLE_ALIGN,"")||i("valign",p.default.STYLE_VERTICAL_ALIGN,"")||i("spacing",p.default.STYLE_SPACING,2)||i("spacingTop",p.default.STYLE_SPACING_TOP,2)||i("spacingRight",p.default.STYLE_SPACING_RIGHT,2)||i("spacingBottom",p.default.STYLE_SPACING_BOTTOM,2)||i("spacingLeft",p.default.STYLE_SPACING_LEFT,2)||i("horizontal",p.default.STYLE_HORIZONTAL,!0)||i("background",p.default.STYLE_LABEL_BACKGROUNDCOLOR)||i("border",p.default.STYLE_LABEL_BORDERCOLOR)||i("opacity",p.default.STYLE_TEXT_OPACITY,100)||i("textDirection",p.default.STYLE_TEXT_DIRECTION,p.default.DEFAULT_TEXT_DIRECTION)},P.prototype.redrawLabelShape=function(t){t.redraw()},P.prototype.getTextScale=function(t){return t.view.scale},P.prototype.getLabelBounds=function(t){var e=t.view.graph,i=t.view.scale,n=e.getModel().isEdge(t.cell),l=new o.default(t.absoluteOffset.x,t.absoluteOffset.y);if(n){var a=t.text.getSpacing();l.x+=a.x*i,l.y+=a.y*i;var r=e.getCellGeometry(t.cell);null!=r&&(l.width=Math.max(0,r.width*i),l.height=Math.max(0,r.height*i))}else{if(t.text.isPaintBoundsInverted()){var s=l.x;l.x=l.y,l.y=s}l.x+=t.x,l.y+=t.y,l.width=Math.max(1,t.width),l.height=Math.max(1,t.height);var u=h.default.getValue(t.style,p.default.STYLE_STROKECOLOR,p.default.NONE);if(u!=p.default.NONE&&""!=u){var d=parseFloat(h.default.getValue(t.style,p.default.STYLE_STROKEWIDTH,1))*i,c=1+Math.floor((d-1)/2),f=Math.floor(d+1);l.x+=c,l.y+=c,l.width-=f,l.height-=f}}if(t.text.isPaintBoundsInverted()){var g=(t.width-t.height)/2;l.x+=g,l.y-=g;s=l.width;l.width=l.height,l.height=s}if(null!=t.shape){var y=h.default.getValue(t.style,p.default.STYLE_LABEL_POSITION,p.default.ALIGN_CENTER),m=h.default.getValue(t.style,p.default.STYLE_VERTICAL_LABEL_POSITION,p.default.ALIGN_MIDDLE);y==p.default.ALIGN_CENTER&&m==p.default.ALIGN_MIDDLE&&(l=t.shape.getLabelBounds(l))}var v=h.default.getValue(t.style,p.default.STYLE_LABEL_WIDTH,null);return null!=v&&(l.width=parseFloat(v)*i),n||this.rotateLabelBounds(t,l),l},P.prototype.rotateLabelBounds=function(t,e){if(e.y-=t.text.margin.y*e.height,e.x-=t.text.margin.x*e.width,!this.legacySpacing||"fill"!=t.style[p.default.STYLE_OVERFLOW]&&"width"!=t.style[p.default.STYLE_OVERFLOW]){var i=t.view.scale,n=t.text.getSpacing();e.x+=n.x*i,e.y+=n.y*i;var l=h.default.getValue(t.style,p.default.STYLE_LABEL_POSITION,p.default.ALIGN_CENTER),a=h.default.getValue(t.style,p.default.STYLE_VERTICAL_LABEL_POSITION,p.default.ALIGN_MIDDLE),r=h.default.getValue(t.style,p.default.STYLE_LABEL_WIDTH,null);e.width=Math.max(0,e.width-(l==p.default.ALIGN_CENTER&&null==r?t.text.spacingLeft*i+t.text.spacingRight*i:0)),e.height=Math.max(0,e.height-(a==p.default.ALIGN_MIDDLE?t.text.spacingTop*i+t.text.spacingBottom*i:0))}var o=t.text.getTextRotation();if(0!=o&&null!=t&&t.view.graph.model.isVertex(t.cell)){var s=t.getCenterX(),u=t.getCenterY();if(e.x!=s||e.y!=u){var c=o*(Math.PI/180),g=f.default.getRotatedPoint(new d.default(e.x,e.y),Math.cos(c),Math.sin(c),new d.default(s,u));e.x=g.x,e.y=g.y}}},P.prototype.redrawCellOverlays=function(t,e){if(this.createCellOverlays(t),null!=t.overlays){var i=h.default.mod(h.default.getValue(t.style,p.default.STYLE_ROTATION,0),90),n=f.default.toRadians(i),l=Math.cos(n),a=Math.sin(n);t.overlays.visit((function(n,r){var o=r.overlay.getBounds(t);if(!t.view.graph.getModel().isEdge(t.cell)&&null!=t.shape&&0!=i){var s=o.getCenterX(),u=o.getCenterY(),h=f.default.getRotatedPoint(new d.default(s,u),l,a,new d.default(t.getCenterX(),t.getCenterY()));s=h.x,u=h.y,o.x=Math.round(s-o.width/2),o.y=Math.round(u-o.height/2)}!e&&null!=r.bounds&&r.scale==t.view.scale&&r.bounds.equals(o)||(r.bounds=o,r.scale=t.view.scale,r.redraw())}))}},P.prototype.redrawControl=function(t,e){var i=t.view.graph.getFoldingImage(t);if(null!=t.control&&null!=i){var n=this.getControlBounds(t,i.width,i.height),l=this.legacyControlPosition?h.default.getValue(t.style,p.default.STYLE_ROTATION,0):t.shape.getTextRotation(),a=t.view.scale;!e&&t.control.scale==a&&t.control.bounds.equals(n)&&t.control.rotation==l||(t.control.rotation=l,t.control.bounds=n,t.control.scale=a,t.control.redraw())}},P.prototype.getControlBounds=function(t,e,i){if(null!=t.control){var n=t.view.scale,l=t.getCenterX(),a=t.getCenterY();if(!t.view.graph.getModel().isEdge(t.cell)){var r=.05*t.style.startSize||2;if(l=t.x+t.width-e*n-r,a=t.y+t.style.startSize/2,null!=t.shape){var s=t.shape.getShapeRotation();if(this.legacyControlPosition)s=h.default.getValue(t.style,p.default.STYLE_ROTATION,0);else if(t.shape.isPaintBoundsInverted()){var u=(t.width-t.height)/2;l+=u,a-=u}if(0!=s){var c=f.default.toRadians(s),g=Math.cos(c),y=Math.sin(c),m=f.default.getRotatedPoint(new d.default(l,a),g,y,new d.default(t.getCenterX(),t.getCenterY()));l=m.x,a=m.y}}}return t.view.graph.getModel().isEdge(t.cell),new o.default(Math.round(l-e/2*n),Math.round(a-i/2*n),Math.round(e*n),Math.round(i*n))}return null},P.prototype.insertStateAfter=function(t,e,i){for(var n=this.getShapesForState(t),l=0;l<n.length;l++)if(null!=n[l]&&null!=n[l].node){var a=n[l].node.parentNode!=t.view.getDrawPane()&&n[l].node.parentNode!=t.view.getOverlayPane(),r=a?i:e;if(null!=r&&r.nextSibling!=n[l].node)null==r.nextSibling?r.parentNode.appendChild(n[l].node):r.parentNode.insertBefore(n[l].node,r.nextSibling);else if(null==r)if(n[l].node.parentNode==t.view.graph.container){for(var o=t.view.canvas;null!=o&&o.parentNode!=t.view.graph.container;)o=o.parentNode;null!=o&&null!=o.nextSibling?o.nextSibling!=n[l].node&&n[l].node.parentNode.insertBefore(n[l].node,o.nextSibling):n[l].node.parentNode.appendChild(n[l].node)}else null!=n[l].node.parentNode.firstChild&&n[l].node.parentNode.firstChild!=n[l].node&&n[l].node.parentNode.insertBefore(n[l].node,n[l].node.parentNode.firstChild);a?i=n[l].node:e=n[l].node}return[e,i]},P.prototype.getShapesForState=function(t){return[t.shape,t.text,t.control]},P.prototype.redraw=function(t,e,i){var n=this.redrawShape(t,e,i);null==t.shape||null!=i&&!i||(this.redrawLabel(t,n),this.redrawCellOverlays(t,n),this.redrawControl(t,n))},P.prototype.redrawShape=function(t,e,i){var n=t.view.graph.model,l=!1;null!=t.shape&&null!=t.shape.style&&null!=t.style&&t.shape.style[p.default.STYLE_SHAPE]!=t.style[p.default.STYLE_SHAPE]&&(t.shape.destroy(),t.shape=null);var a=t.view.graph.container;return null==t.shape&&null!=a&&t.cell!=t.view.currentRoot&&(n.isVertex(t.cell)||n.isEdge(t.cell))?(t.shape=this.createShape(t),null!=t.shape&&(t.shape.antiAlias=this.antiAlias,this.createIndicatorShape(t),this.initializeShape(t),this.createCellOverlays(t),this.installListeners(t),t.view.graph.selectionCellsHandler.updateHandler(t))):null==t.shape||f.default.equalEntries(t.shape.style,t.style)||(t.shape.resetStyles(),this.configureShape(t),t.view.graph.selectionCellsHandler.updateHandler(t),e=!0),null!=t.shape&&(this.createControl(t),(e||null==t.shape.bounds||t.shape.scale!=t.view.scale||null==t.absolutePoints&&!t.shape.bounds.equals(t)||null!=t.absolutePoints&&!f.default.equalPoints(t.shape.points,t.absolutePoints))&&(null!=t.absolutePoints?(t.shape.points=t.absolutePoints.slice(),t.shape.bounds=null):(t.shape.points=null,t.shape.bounds=new o.default(t.x,t.y,t.width,t.height)),t.shape.scale=t.view.scale,null==i||i?t.shape.redraw():t.shape.updateBoundingBox(),l=!0)),l},P.prototype.destroy=function(t){null!=t.shape&&(null!=t.text&&(t.text.destroy(),t.text=null),null!=t.overlays&&(t.overlays.visit((function(t,e){e.destroy()})),t.overlays=null),null!=t.control&&(t.control.destroy(),t.control=null),t.shape.destroy(),t.shape=null)};e.default=P},182848:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i(164460)),l=a(i(247644));function a(t){return t&&t.__esModule?t:{default:t}}function r(t,e,i){this.view=t,this.cell=e,this.style=i,this.origin=new n.default,this.absoluteOffset=new n.default}r.prototype=new l.default,r.prototype.constructor=r,r.prototype.view=null,r.prototype.cell=null,r.prototype.style=null,r.prototype.invalid=!0,r.prototype.origin=null,r.prototype.absolutePoints=null,r.prototype.absoluteOffset=null,r.prototype.visibleSourceState=null,r.prototype.visibleTargetState=null,r.prototype.terminalDistance=0,r.prototype.length=0,r.prototype.segments=null,r.prototype.shape=null,r.prototype.text=null,r.prototype.unscaledWidth=null,r.prototype.getPerimeterBounds=function(t,e){if(t=t||0,e=null!=e?e:new l.default(this.x,this.y,this.width,this.height),null!=this.shape&&null!=this.shape.stencil&&"fixed"==this.shape.stencil.aspect){var i=this.shape.stencil.computeAspect(this.style,e.x,e.y,e.width,e.height);e.x=i.x,e.y=i.y,e.width=this.shape.stencil.w0*i.width,e.height=this.shape.stencil.h0*i.height}return 0!=t&&e.grow(t),e},r.prototype.setAbsoluteTerminalPoint=function(t,e){e?(null==this.absolutePoints&&(this.absolutePoints=[]),0==this.absolutePoints.length?this.absolutePoints.push(t):this.absolutePoints[0]=t):null==this.absolutePoints?(this.absolutePoints=[],this.absolutePoints.push(null),this.absolutePoints.push(t)):1==this.absolutePoints.length?this.absolutePoints.push(t):this.absolutePoints[this.absolutePoints.length-1]=t},r.prototype.setCursor=function(t){null!=this.shape&&this.shape.setCursor(t),null!=this.text&&this.text.setCursor(t)},r.prototype.getVisibleTerminal=function(t){var e=this.getVisibleTerminalState(t);return null!=e?e.cell:null},r.prototype.getVisibleTerminalState=function(t){return t?this.visibleSourceState:this.visibleTargetState},r.prototype.setVisibleTerminalState=function(t,e){e?this.visibleSourceState=t:this.visibleTargetState=t},r.prototype.getCellBounds=function(){return this.cellBounds},r.prototype.getPaintBounds=function(){return this.paintBounds},r.prototype.updateCachedBounds=function(){var t=this.view.translate,e=this.view.scale;this.cellBounds=new l.default(this.x/e-t.x,this.y/e-t.y,this.width/e,this.height/e),this.paintBounds=l.default.fromRectangle(this.cellBounds),null!=this.shape&&this.shape.isPaintBoundsInverted()&&this.paintBounds.rotate90()},r.prototype.setState=function(t){this.view=t.view,this.cell=t.cell,this.style=t.style,this.absolutePoints=t.absolutePoints,this.origin=t.origin,this.absoluteOffset=t.absoluteOffset,this.boundingBox=t.boundingBox,this.terminalDistance=t.terminalDistance,this.segments=t.segments,this.length=t.length,this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this.unscaledWidth=t.unscaledWidth},r.prototype.clone=function(){var t=new r(this.view,this.cell,this.style);if(null!=this.absolutePoints){t.absolutePoints=[];for(var e=0;e<this.absolutePoints.length;e++)t.absolutePoints[e]=this.absolutePoints[e].clone()}return null!=this.origin&&(t.origin=this.origin.clone()),null!=this.absoluteOffset&&(t.absoluteOffset=this.absoluteOffset.clone()),null!=this.boundingBox&&(t.boundingBox=this.boundingBox.clone()),t.terminalDistance=this.terminalDistance,t.segments=this.segments,t.length=this.length,t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t.unscaledWidth=this.unscaledWidth,t},r.prototype.destroy=function(){this.view.graph.cellRenderer.destroy(this)};e.default=r},388968:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(297336);var n=r(i(164460)),l=r(i(591108)),a=r(i(742288));function r(t){return t&&t.__esModule?t:{default:t}}function o(t){this.deltas=new l.default,this.graph=t}o.prototype.graph=null,o.prototype.deltas=null,o.prototype.count=0,o.prototype.isEmpty=function(){return 0==this.count},o.prototype.moveState=function(t,e,i,l,a){l=null==l||l,a=null==a||a;var r=this.deltas.get(t.cell);return null==r?(r={point:new n.default(e,i),state:t},this.deltas.put(t.cell,r),this.count++):l?(r.point.x+=e,r.point.y+=i):(r.point.x=e,r.point.y=i),a&&this.addEdges(t),r.point},o.prototype.show=function(t){this.deltas.visit(a.default.bind(this,(function(t,e){this.translateState(e.state,e.point.x,e.point.y)}))),this.deltas.visit(a.default.bind(this,(function(e,i){this.revalidateState(i.state,i.point.x,i.point.y,t)})))},o.prototype.translateState=function(t,e,i){if(null!=t){var n=this.graph.getModel();if(n.isVertex(t.cell)){t.view.updateCellState(t);var l=n.getGeometry(t.cell);0==e&&0==i||null==l||l.relative&&null==this.deltas.get(t.cell)||(t.x+=e,t.y+=i)}for(var a=n.getChildCount(t.cell),r=0;r<a;r++)this.translateState(t.view.getState(n.getChildAt(t.cell,r)),e,i)}},o.prototype.revalidateState=function(t,e,i,n){if(null!=t){var l=this.graph.getModel();l.isEdge(t.cell)&&t.view.updateCellState(t);var a=this.graph.getCellGeometry(t.cell),r=t.view.getState(l.getParent(t.cell));0==e&&0==i||null==a||!a.relative||!l.isVertex(t.cell)||null!=r&&!l.isVertex(r.cell)&&null==this.deltas.get(t.cell)||(t.x+=e,t.y+=i),this.graph.cellRenderer.redraw(t),null!=n&&n(t);for(var o=l.getChildCount(t.cell),s=0;s<o;s++)this.revalidateState(this.graph.view.getState(l.getChildAt(t.cell,s)),e,i,n)}},o.prototype.addEdges=function(t){for(var e=this.graph.getModel(),i=e.getEdgeCount(t.cell),n=0;n<i;n++){var l=t.view.getState(e.getEdgeAt(t.cell,n));null!=l&&this.moveState(l,0,0)}};e.default=o},478780:function(t,e,i){"use strict";function n(t,e,i,n){this.model=t,this.parent=e,this.previous=e,this.child=i,this.index=n,this.previousIndex=n}i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n.prototype.execute=function(){var t=this.model.getParent(this.child),e=null!=t?t.getIndex(this.child):0;null==this.previous&&this.connect(this.child,!1),t=this.model.parentForCellChanged(this.child,this.previous,this.previousIndex),null!=this.previous&&this.connect(this.child,!0),this.parent=this.previous,this.previous=t,this.index=this.previousIndex,this.previousIndex=e},n.prototype.connect=function(t,e){e=null==e||e;var i=t.getTerminal(!0),n=t.getTerminal(!1);null!=i&&(e?this.model.terminalForCellChanged(t,i,!0):this.model.terminalForCellChanged(t,null,!0)),null!=n&&(e?this.model.terminalForCellChanged(t,n,!1):this.model.terminalForCellChanged(t,null,!1)),t.setTerminal(i,!0),t.setTerminal(n,!1);for(var l=this.model.getChildCount(t),a=0;a<l;a++)this.connect(this.model.getChildAt(t,a),e)},n.getName=function(){return"mxChildChange"};e.default=n},662472:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,l=(n=i(447831))&&n.__esModule?n:{default:n};function a(t,e){l.default.call(this,t),this.radius=null!=e?e:100}a.prototype=new l.default,a.prototype.constructor=a,a.prototype.radius=null,a.prototype.moveCircle=!1,a.prototype.x0=0,a.prototype.y0=0,a.prototype.resetEdges=!0,a.prototype.disableEdgeStyle=!0,a.prototype.execute=function(t){var e=this.graph.getModel();e.beginUpdate();try{for(var i=0,n=null,l=null,a=[],r=e.getChildCount(t),o=0;o<r;o++){var s=e.getChildAt(t,o);if(this.isVertexIgnored(s))this.isEdgeIgnored(s)||(this.resetEdges&&this.graph.resetEdge(s),this.disableEdgeStyle&&this.setEdgeStyleEnabled(s,!1));else{a.push(s);var u=this.getVertexBounds(s);n=null==n?u.y:Math.min(n,u.y),l=null==l?u.x:Math.min(l,u.x),i=Math.max(i,Math.max(u.width,u.height))}}var d=this.getRadius(a.length,i);this.moveCircle&&(l=this.x0,n=this.y0),this.circle(a,d,l,n)}finally{e.endUpdate()}},a.prototype.getRadius=function(t,e){return Math.max(t*e/Math.PI,this.radius)},a.prototype.circle=function(t,e,i,n){for(var l=t.length,a=2*Math.PI/l,r=0;r<l;r++)this.isVertexMovable(t[r])&&this.setVertexLocation(t[r],i+e+e*Math.sin(r*a),n+e+e*Math.cos(r*a))};e.default=a},22676:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(241872),i(633768),i(218080);var n={VERSION:"3.6.0.0",IS_IE:navigator.userAgent.indexOf("MSIE")>=0,IS_IE6:navigator.userAgent.indexOf("MSIE 6")>=0,IS_IE11:!!navigator.userAgent.match(/Trident\/7\./),IS_EDGE:!!navigator.userAgent.match(/Edge\//),IS_QUIRKS:navigator.userAgent.indexOf("MSIE")>=0&&(null==document.documentMode||5==document.documentMode),IS_EM:"spellcheck"in document.createElement("textarea")&&8==document.documentMode,VML_PREFIX:"v",OFFICE_PREFIX:"o",IS_NS:navigator.userAgent.indexOf("Mozilla/")>=0&&navigator.userAgent.indexOf("MSIE")<0&&navigator.userAgent.indexOf("Edge/")<0,IS_OP:navigator.userAgent.indexOf("Opera/")>=0||navigator.userAgent.indexOf("OPR/")>=0,IS_OT:navigator.userAgent.indexOf("Presto/")>=0&&navigator.userAgent.indexOf("Presto/2.4.")<0&&navigator.userAgent.indexOf("Presto/2.3.")<0&&navigator.userAgent.indexOf("Presto/2.2.")<0&&navigator.userAgent.indexOf("Presto/2.1.")<0&&navigator.userAgent.indexOf("Presto/2.0.")<0&&navigator.userAgent.indexOf("Presto/1.")<0,IS_SF:navigator.userAgent.indexOf("AppleWebKit/")>=0&&navigator.userAgent.indexOf("Chrome/")<0&&navigator.userAgent.indexOf("Edge/")<0,IS_IOS:!!navigator.userAgent.match(/(iPad|iPhone|iPod)/g),IS_GC:navigator.userAgent.indexOf("Chrome/")>=0&&navigator.userAgent.indexOf("Edge/")<0,IS_CHROMEAPP:null!=window.chrome&&null!=chrome.app&&null!=chrome.app.runtime,IS_FF:navigator.userAgent.indexOf("Firefox/")>=0,IS_MT:navigator.userAgent.indexOf("Firefox/")>=0&&navigator.userAgent.indexOf("Firefox/1.")<0&&navigator.userAgent.indexOf("Firefox/2.")<0||navigator.userAgent.indexOf("Iceweasel/")>=0&&navigator.userAgent.indexOf("Iceweasel/1.")<0&&navigator.userAgent.indexOf("Iceweasel/2.")<0||navigator.userAgent.indexOf("SeaMonkey/")>=0&&navigator.userAgent.indexOf("SeaMonkey/1.")<0||navigator.userAgent.indexOf("Iceape/")>=0&&navigator.userAgent.indexOf("Iceape/1.")<0,IS_SVG:navigator.userAgent.indexOf("Firefox/")>=0||navigator.userAgent.indexOf("Iceweasel/")>=0||navigator.userAgent.indexOf("Seamonkey/")>=0||navigator.userAgent.indexOf("Iceape/")>=0||navigator.userAgent.indexOf("Galeon/")>=0||navigator.userAgent.indexOf("Epiphany/")>=0||navigator.userAgent.indexOf("AppleWebKit/")>=0||navigator.userAgent.indexOf("Gecko/")>=0||navigator.userAgent.indexOf("Opera/")>=0||null!=document.documentMode&&document.documentMode>=9,NO_FO:!document.createElementNS||"[object SVGForeignObjectElement]"!=document.createElementNS("http://www.w3.org/2000/svg","foreignObject")||navigator.userAgent.indexOf("Opera/")>=0,IS_VML:"MICROSOFT INTERNET EXPLORER"==navigator.appName.toUpperCase(),IS_WIN:navigator.appVersion.indexOf("Win")>0,IS_MAC:navigator.appVersion.indexOf("Mac")>0,IS_TOUCH:"ontouchstart"in document.documentElement,IS_POINTER:null!=window.PointerEvent,IS_LOCAL:document.location.href.indexOf("http://")<0&&document.location.href.indexOf("https://")<0,isBrowserSupported:function(){return n.IS_VML||n.IS_SVG},link:function(t,e,i){if(i=i||document,n.IS_IE6)i.write('<link rel="'+t+'" href="'+e+'" charset="ISO-8859-1" type="text/css"/>');else{var l=i.createElement("link");l.setAttribute("rel",t),l.setAttribute("href",e),l.setAttribute("charset","ISO-8859-1"),l.setAttribute("type","text/css"),i.getElementsByTagName("head")[0].appendChild(l)}},include:function(t){document.write('<script src="'+t+'"><\/script>')}};void 0===window.mxResourceExtension&&(window.mxResourceExtension=".txt");var l=window.mxBasePath;void 0!==l&&l.length>0?("/"==l.substring(l.length-1)&&(l=l.substring(0,l.length-1)),n.basePath=l):n.basePath=".";var a=window.mxImageBasePath;void 0!==a&&a.length>0?("/"==a.substring(a.length-1)&&(a=a.substring(0,a.length-1)),n.imageBasePath=a):n.imageBasePath=n.basePath+"/images";var r=window.mxLanguage;n.language=void 0!==r&&null!=r?r:n.IS_IE?navigator.userLanguage:navigator.language;var o=window.mxDefaultLanguage;n.defaultLanguage=void 0!==o&&null!=o?o:"en";var s,u=window.mxLanguages;void 0!==u&&null!=u&&(n.languages=u),n.IS_VML&&(n.IS_SVG?n.IS_VML=!1:(8==document.documentMode?(document.namespaces.add(n.VML_PREFIX,"urn:schemas-microsoft-com:vml","#default#VML"),document.namespaces.add(n.OFFICE_PREFIX,"urn:schemas-microsoft-com:office:office","#default#VML")):(document.namespaces.add(n.VML_PREFIX,"urn:schemas-microsoft-com:vml"),document.namespaces.add(n.OFFICE_PREFIX,"urn:schemas-microsoft-com:office:office")),n.IS_QUIRKS&&document.styleSheets.length>=30?((s=document.createElement("style")).type="text/css",s.styleSheet.cssText=n.VML_PREFIX+"\\:*{behavior:url(#default#VML)}"+n.OFFICE_PREFIX+"\\:*{behavior:url(#default#VML)}",document.getElementsByTagName("head")[0].appendChild(s)):document.createStyleSheet().cssText=n.VML_PREFIX+"\\:*{behavior:url(#default#VML)}"+n.OFFICE_PREFIX+"\\:*{behavior:url(#default#VML)}",window.attachEvent("onunload",n.dispose)));e.default=n},897508:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i(995048)),l=a(i(370608));function a(t){return t&&t.__esModule?t:{default:t}}var r={STEPSIZE:10,insertCount:1,cells:null,setCells:function(t){r.cells=t},getCells:function(){return r.cells},isEmpty:function(){return null==r.getCells()},cut:function(t,e){return e=r.copy(t,e),r.insertCount=0,r.removeCells(t,e),e},removeCells:function(t,e){t.removeCells(e)},copy:function(t,e){e=e||t.getSelectionCells();var i=t.getExportableCells(t.model.getTopmostCells(e));return r.insertCount=1,r.setCells(t.cloneCells(i)),i},paste:function(t){var e=null;if(!r.isEmpty()){e=t.getImportableCells(r.getCells());var i=r.insertCount*r.STEPSIZE,a=i,o=i;if(e.length&&t.pageId!=e[0].getOriginPageId()){var s=function(e){var i=t.getModel().getBPMNRoot().children,n=t.getBoundingBoxFromGeometry(e,!0);if(!i||!i.length)return{x:0-n.x,y:0-n.y};var l=t.getBoundingBoxFromGeometry(i,!0),a=l.x+l.width/2,r=l.y+l.height/2;return{x:0-n.x+a-n.width/2,y:0-n.y+r-n.height/2}}(e);s.x&&s.y&&(a+=s.x,o+=s.y)}var u=t.getDefaultParent();e=t.importCells(e,a,o,u),t.fireEvent(new n.default(l.default.PASTE_CELLS,"cells",e)),r.insertCount++,t.setSelectionCells(e)}return e}};e.default=r},513556:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(106208);var n=a(i(742288)),l=a(i(745240));function a(t){return t&&t.__esModule?t:{default:t}}function r(t,e,i,n){l.default.call(this),this.bounds=t,this.fill=e,this.stroke=i,this.strokewidth=null!=n?n:1}n.default.extend(r,l.default),r.prototype.redrawPath=function(t,e,i,n,l){t.moveTo(.25*n,.25*l),t.curveTo(.05*n,.25*l,0,.5*l,.16*n,.55*l),t.curveTo(0,.66*l,.18*n,.9*l,.31*n,.8*l),t.curveTo(.4*n,l,.7*n,l,.8*n,.8*l),t.curveTo(n,.8*l,n,.6*l,.875*n,.5*l),t.curveTo(n,.3*l,.8*n,.1*l,.625*n,.2*l),t.curveTo(.5*n,.05*l,.3*n,.05*l,.25*n,.25*l),t.close()};e.default=r},536684:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=d(i(742288)),l=d(i(927116)),a=d(i(35152)),r=d(i(790448)),o=d(i(280908)),s=d(i(484376)),u=i(936016);function d(t){return t&&t.__esModule?t:{default:t}}function h(t){this.document=t||n.default.createXmlDocument(),this.objects=[]}h.prototype.document=null,h.prototype.objects=null,h.prototype.elements=null,h.prototype.encodeDefaults=!1,h.prototype.putObject=function(t,e){return this.objects[t]=e,e},h.prototype.getObject=function(t){var e=null;if(null!=t&&null==(e=this.objects[t])&&null==(e=this.lookup(t))){var i=this.getElementById(t);null!=i&&(e=this.decode(i))}return e},h.prototype.lookup=function(t){return null},h.prototype.getElementById=function(t){return null==this.elements&&(this.elements=new Object,this.addElement(this.document.documentElement)),this.elements[t]},h.prototype.addElement=function(t){if(t.nodeType==r.default.NODETYPE_ELEMENT){var e=t.getAttribute("id");null!=e&&null==this.elements[e]&&(this.elements[e]=t)}for(t=t.firstChild;null!=t;)this.addElement(t),t=t.nextSibling},h.prototype.getId=function(t){var e=null;return null!=t&&null==(e=this.reference(t))&&t instanceof o.default&&null==(e=t.getId())&&0==(e=a.default.create(t)).length&&(e="root"),e},h.prototype.reference=function(t){return null},h.prototype.encode=function(t){var e=null;if(null!=t&&null!=t.constructor){var i=l.default.getCodec(t.constructor);null!=i?e=i.encode(this,t):n.default.isNode(t)?e=n.default.importNode(this.document,t,!0):s.default.warn("mxCodec.encode: No codec for "+n.default.getFunctionName(t.constructor))}return e},h.prototype.decode=function(t,e){var i=null;if(null!=t&&t.nodeType==r.default.NODETYPE_ELEMENT){var n=null,a=t.nodeName;try{n=u.nodeCodecsMap[a]||window[a]}catch(t){}var o=l.default.getCodec(n);null!=o?i=o.decode(this,t,e):(i=t.cloneNode(!0)).removeAttribute("as")}return i},h.prototype.encodeCell=function(t,e,i){if(e.appendChild(this.encode(t)),!0!==t.isContainable()&&(null==i||i))for(var n=t.getChildCount(),l=0;l<n;l++)this.encodeCell(t.getChildAt(l),e)},h.prototype.isCellCodec=function(t){return null!=t&&"function"==typeof t.isCellCodec&&t.isCellCodec()},h.prototype.decodeCell=function(t,e){e=null==e||e;var i=null;if(null!=t&&t.nodeType==r.default.NODETYPE_ELEMENT){var n=l.default.getCodec(t.nodeName);if(!this.isCellCodec(n))for(var a=t.firstChild;null!=a&&!this.isCellCodec(n);)n=l.default.getCodec(a.nodeName),a=a.nextSibling;this.isCellCodec(n)||(n=l.default.getCodec(o.default)),i=n.decode(this,t),e&&this.insertIntoGraph(i)}return i},h.prototype.insertIntoGraph=function(t){var e=t.parent,i=t.getTerminal(!0),n=t.getTerminal(!1);t.setTerminal(null,!1),t.setTerminal(null,!0),t.parent=null,null!=e&&e.insert(t),null!=i&&i.insertEdge(t,!0),null!=n&&n.insertEdge(t,!1)},h.prototype.setAttribute=function(t,e,i){null!=e&&null!=i&&t.setAttribute(e,i)};e.default=h},927116:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(241872);var n=h(i(280908)),l=h(i(478780)),a=h(i(819996)),r=h(i(409988)),o=h(i(496592)),s=h(i(790448)),u=h(i(904420)),d=h(i(742288));function h(t){return t&&t.__esModule?t:{default:t}}var c,p={codecs:[],aliases:[],register:function(t){if(null!=t){var e=t.getName();p.codecs[e]=t;var i=d.default.getFunctionName(t.template.constructor);i!=e&&p.addAlias(i,e)}return t},addAlias:function(t,e){p.aliases[t]=e},getCodec:function(t){var e=null;if(null!=t){var i=d.default.getFunctionName(t),n=p.aliases[i];if(null!=n&&(i=n),null==(e=p.codecs[i]))try{e=new u.default(new t),p.register(e)}catch(t){}}return e}};p.register(((c=new u.default(new n.default,["children","edges","overlays","mxTransient"],["parent","source","target"])).isCellCodec=function(){return!0},c.isNumericAttribute=function(t,e,i){return"value"!==e.nodeName&&u.default.prototype.isNumericAttribute.apply(this,arguments)},c.isExcluded=function(t,e,i,n){return u.default.prototype.isExcluded.apply(this,arguments)||n&&"value"==e&&i.nodeType==s.default.NODETYPE_ELEMENT},c.afterEncode=function(t,e,i){if(null!=e.value&&e.value.nodeType==s.default.NODETYPE_ELEMENT){var n=i;(i=d.default.importNode(t.document,e.value,!0)).appendChild(n);var l=n.getAttribute("id");i.setAttribute("id",l),n.removeAttribute("id")}return i},c.beforeDecode=function(t,e,i){var n=e.cloneNode(!0),l=this.getName();if(e.nodeName!=l){var a=e.getElementsByTagName(l)[0];null!=a&&a.parentNode==e?(d.default.removeWhitespace(a,!0),d.default.removeWhitespace(a,!1),a.parentNode.removeChild(a),n=a):n=null,i.value=e.cloneNode(!0)}else i.setId(e.getAttribute("id"));if(null!=n)for(var r=0;r<this.idrefs.length;r++){var o=this.idrefs[r],s=n.getAttribute(o);if(null!=s){n.removeAttribute(o);var u=t.objects[s]||t.lookup(s);if(null==u){var h=t.getElementById(s);null!=h&&(u=(p.codecs[h.nodeName]||this).decode(t,h))}i[o]=u}}return n},c)),p.register(function(){var t=new u.default(new r.default);return t.encodeObject=function(t,e,i){var n=t.document.createElement("root");t.encodeCell(e.getRoot(),n),i.appendChild(n)},t.decodeChild=function(t,e,i){"root"==e.nodeName?this.decodeRoot(t,e,i):u.default.prototype.decodeChild.apply(this,arguments)},t.decodeRoot=function(t,e,i){for(var n=null,l=e.firstChild;null!=l;){var a=t.decodeCell(l);null!=a&&null==a.getParent()&&(n=a),l=l.nextSibling}null!=n&&i.setRoot(n)},t}()),p.register(function(){var t=new u.default(new a.default,["model","previous","root"]);return t.afterEncode=function(t,e,i){return t.encodeCell(e.root,i),i},t.beforeDecode=function(t,e,i){if(null!=e.firstChild&&e.firstChild.nodeType==s.default.NODETYPE_ELEMENT){var n=(e=e.cloneNode(!0)).firstChild;i.root=t.decodeCell(n,!1);var l=n.nextSibling;for(n.parentNode.removeChild(n),n=l;null!=n;)l=n.nextSibling,t.decodeCell(n),n.parentNode.removeChild(n),n=l}return e},t.afterDecode=function(t,e,i){return i.previous=i.root,i},t}()),p.register(function(){var t=new u.default(new l.default,["model","child","previousIndex"],["parent","previous"]);return t.isReference=function(t,e,i,n){return!("child"!=e||null==t.previous&&n)||d.default.indexOf(this.idrefs,e)>=0},t.afterEncode=function(t,e,i){return this.isReference(e,"child",e.child,!0)?i.setAttribute("child",t.getId(e.child)):t.encodeCell(e.child,i),i},t.beforeDecode=function(t,e,i){if(null!=e.firstChild&&e.firstChild.nodeType==s.default.NODETYPE_ELEMENT){var n=(e=e.cloneNode(!0)).firstChild;i.child=t.decodeCell(n,!1);var l=n.nextSibling;for(n.parentNode.removeChild(n),n=l;null!=n;){if(l=n.nextSibling,n.nodeType==s.default.NODETYPE_ELEMENT){var a=n.getAttribute("id");null==t.lookup(a)&&t.decodeCell(n)}n.parentNode.removeChild(n),n=l}}else{var r=e.getAttribute("child");i.child=t.getObject(r)}return e},t.afterDecode=function(t,e,i){return i.child.parent=i.previous,i.previous=i.parent,i.previousIndex=i.index,i},t}()),p.register(function(){var t=new u.default(new o.default,["model","previous"],["cell","terminal"]);return t.afterDecode=function(t,e,i){return i.previous=i.terminal,i},t}());e.default=p},936016:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.nodeCodecsMap=e.default=void 0;var n=C(i(280908)),l=C(i(409988)),a=C(i(819996)),r=C(i(478780)),o=C(i(496592)),s=C(i(326660)),u=C(i(68127)),d=C(i(208104)),h=C(i(141860)),c=C(i(38724)),p=C(i(612280)),f=C(i(498096)),g=C(i(809196)),y=C(i(215472)),m=C(i(571736)),v=C(i(911676)),E=C(i(359656)),b=C(i(5336)),S=C(i(146880)),w=C(i(164460)),A=C(i(247644));function C(t){return t&&t.__esModule?t:{default:t}}var T={nodeCodecsMap:{mxCell:n.default,mxGraphModel:l.default,mxRootChange:a.default,mxChildChange:r.default,mxTerminalChange:o.default,mxValueChange:s.default,mxStyleChange:u.default,mxGeometryChange:d.default,mxCollapseChange:h.default,mxVisibleChange:c.default,mxCellAttributeChange:p.default,mxGraph:f.default,mxGraphView:g.default,mxStylesheet:y.default,mxDefaultKeyHandler:m.default,mxDefaultToolbar:v.default,mxDefaultPopupMenu:E.default,mxEditor:b.default,mxGeometry:S.default,mxPoint:w.default,mxRectangle:A.default}};e.nodeCodecsMap=T.nodeCodecsMap,e.default=T},141860:function(t,e,i){"use strict";function n(t,e,i){this.model=t,this.cell=e,this.collapsed=i,this.previous=i}i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n.prototype.execute=function(){this.collapsed=this.previous,this.previous=this.model.collapsedStateForCellChanged(this.cell,this.previous)},n.getName=function(){return"mxCollapseChange"};e.default=n},72644:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(686456),i(82e3),i(633768),i(328640);var n=d(i(447831)),l=d(i(164460)),a=d(i(591108)),r=d(i(318648)),o=d(i(247644)),s=d(i(35152)),u=d(i(132448));function d(t){return t&&t.__esModule?t:{default:t}}function h(t,e,i){n.default.call(this,t),this.horizontal=null==e||e,this.invert=null!=i&&i}h.prototype=new n.default,h.prototype.constructor=h,h.prototype.horizontal=null,h.prototype.invert=null,h.prototype.resizeParent=!0,h.prototype.maintainParentLocation=!1,h.prototype.groupPadding=10,h.prototype.groupPaddingTop=0,h.prototype.groupPaddingRight=0,h.prototype.groupPaddingBottom=0,h.prototype.groupPaddingLeft=0,h.prototype.parentsChanged=null,h.prototype.moveTree=!1,h.prototype.visited=null,h.prototype.levelDistance=10,h.prototype.nodeDistance=20,h.prototype.resetEdges=!0,h.prototype.prefHozEdgeSep=5,h.prototype.prefVertEdgeOff=4,h.prototype.minEdgeJetty=8,h.prototype.channelBuffer=4,h.prototype.edgeRouting=!0,h.prototype.sortEdges=!1,h.prototype.alignRanks=!1,h.prototype.maxRankHeight=null,h.prototype.root=null,h.prototype.node=null,h.prototype.isVertexIgnored=function(t){return n.default.prototype.isVertexIgnored.apply(this,arguments)||0==this.graph.getConnections(t).length},h.prototype.isHorizontal=function(){return this.horizontal},h.prototype.execute=function(t,e){this.parent=t;var i=this.graph.getModel();if(null==e)if(this.graph.getEdges(t,i.getParent(t),this.invert,!this.invert,!1).length>0)this.root=t;else{var n=this.graph.findTreeRoots(t,!0,this.invert);if(n.length>0)for(var l=0;l<n.length;l++)if(!this.isVertexIgnored(n[l])&&this.graph.getEdges(n[l],null,this.invert,!this.invert,!1).length>0){this.root=n[l];break}}else this.root=e;if(null!=this.root){if(this.resizeParent?this.parentsChanged=new Object:this.parentsChanged=null,this.parentX=null,this.parentY=null,t!=this.root&&null!=i.isVertex(t)&&this.maintainParentLocation)null!=(s=this.graph.getCellGeometry(t))&&(this.parentX=s.x,this.parentY=s.y);i.beginUpdate();try{if(this.visited=new Object,this.node=this.dfs(this.root,t),this.alignRanks&&(this.maxRankHeight=[],this.findRankHeights(this.node,0),this.setCellHeights(this.node,0)),null!=this.node){this.layout(this.node);var a=this.graph.gridSize,r=a;if(!this.moveTree){var o=this.getVertexBounds(this.root);null!=o&&(a=o.x,r=o.y)}var s,u=null;if(null!=(u=this.isHorizontal()?this.horizontalLayout(this.node,a,r):this.verticalLayout(this.node,null,a,r))){var d=0,h=0;u.x<0&&(d=Math.abs(a-u.x)),u.y<0&&(h=Math.abs(r-u.y)),0==d&&0==h||this.moveNode(this.node,d,h),this.resizeParent&&this.adjustParents(),this.edgeRouting&&this.localEdgeProcessing(this.node)}if(null!=this.parentX&&null!=this.parentY)null!=(s=this.graph.getCellGeometry(t))&&((s=s.clone()).x=this.parentX,s.y=this.parentY,i.setGeometry(t,s))}}finally{i.endUpdate()}}},h.prototype.moveNode=function(t,e,i){t.x+=e,t.y+=i,this.apply(t);for(var n=t.child;null!=n;)this.moveNode(n,e,i),n=n.next},h.prototype.sortOutgoingEdges=function(t,e){var i=new a.default;e.sort((function(e,n){var l=e.getTerminal(e.getTerminal(!1)==t),a=i.get(l);null==a&&(a=s.default.create(l).split(s.default.PATH_SEPARATOR),i.put(l,a));var r=n.getTerminal(n.getTerminal(!1)==t),o=i.get(r);return null==o&&(o=s.default.create(r).split(s.default.PATH_SEPARATOR),i.put(r,o)),s.default.compare(a,o)}))},h.prototype.findRankHeights=function(t,e){(null==this.maxRankHeight[e]||this.maxRankHeight[e]<t.height)&&(this.maxRankHeight[e]=t.height);for(var i=t.child;null!=i;)this.findRankHeights(i,e+1),i=i.next},h.prototype.setCellHeights=function(t,e){null!=this.maxRankHeight[e]&&this.maxRankHeight[e]>t.height&&(t.height=this.maxRankHeight[e]);for(var i=t.child;null!=i;)this.setCellHeights(i,e+1),i=i.next},h.prototype.dfs=function(t,e){var i=s.default.create(t),n=null;if(null!=t&&null==this.visited[i]&&!this.isVertexIgnored(t)){this.visited[i]=t,n=this.createNode(t);var l=this.graph.getModel(),a=null,r=this.graph.getEdges(t,e,this.invert,!this.invert,!1,!0),o=this.graph.getView();this.sortEdges&&this.sortOutgoingEdges(t,r);for(var u=0;u<r.length;u++){var d=r[u];if(!this.isEdgeIgnored(d)){this.resetEdges&&this.setEdgePoints(d,null),this.edgeRouting&&(this.setEdgeStyleEnabled(d,!1),this.setEdgePoints(d,null));var h=o.getState(d),c=null!=h?h.getVisibleTerminal(this.invert):o.getVisibleTerminal(d,this.invert),p=this.dfs(c,e);null!=p&&null!=l.getGeometry(c)&&(null==a?n.child=p:a.next=p,a=p)}}}return n},h.prototype.layout=function(t){if(null!=t){for(var e=t.child;null!=e;)this.layout(e),e=e.next;null!=t.child?this.attachParent(t,this.join(t)):this.layoutLeaf(t)}},h.prototype.horizontalLayout=function(t,e,i,n){t.x+=e+t.offsetX,t.y+=i+t.offsetY,n=this.apply(t,n);var l=t.child;if(null!=l){n=this.horizontalLayout(l,t.x,t.y,n);for(var a=t.y+l.offsetY,r=l.next;null!=r;)n=this.horizontalLayout(r,t.x+l.offsetX,a,n),a+=r.offsetY,r=r.next}return n},h.prototype.verticalLayout=function(t,e,i,n,l){t.x+=i+t.offsetY,t.y+=n+t.offsetX,l=this.apply(t,l);var a=t.child;if(null!=a){l=this.verticalLayout(a,t,t.x,t.y,l);for(var r=t.x+a.offsetY,o=a.next;null!=o;)l=this.verticalLayout(o,t,r,t.y+a.offsetX,l),r+=o.offsetY,o=o.next}return l},h.prototype.attachParent=function(t,e){var i=this.nodeDistance+this.levelDistance,n=(e-t.width)/2-this.nodeDistance,l=n+t.width+2*this.nodeDistance-e;t.child.offsetX=i+t.height,t.child.offsetY=l,t.contour.upperHead=this.createLine(t.height,0,this.createLine(i,l,t.contour.upperHead)),t.contour.lowerHead=this.createLine(t.height,0,this.createLine(i,n,t.contour.lowerHead))},h.prototype.layoutLeaf=function(t){var e=2*this.nodeDistance;t.contour.upperTail=this.createLine(t.height+e,0),t.contour.upperHead=t.contour.upperTail,t.contour.lowerTail=this.createLine(0,-t.width-e),t.contour.lowerHead=this.createLine(t.height+e,0,t.contour.lowerTail)},h.prototype.join=function(t){var e=2*this.nodeDistance,i=t.child;t.contour=i.contour;var n=i.width+e,l=n;for(i=i.next;null!=i;){var a=this.merge(t.contour,i.contour);i.offsetY=a+n,i.offsetX=0,l+=a+(n=i.width+e),i=i.next}return l},h.prototype.merge=function(t,e){for(var i=0,n=0,l=0,a=t.lowerHead,r=e.upperHead;null!=r&&null!=a;){var o=this.offset(i,n,r.dx,r.dy,a.dx,a.dy);n+=o,l+=o,i+r.dx<=a.dx?(i+=r.dx,n+=r.dy,r=r.next):(i-=a.dx,n-=a.dy,a=a.next)}if(null!=r){var s=this.bridge(t.upperTail,0,0,r,i,n);t.upperTail=null!=s.next?e.upperTail:s,t.lowerTail=e.lowerTail}else{null==(s=this.bridge(e.lowerTail,i,n,a,0,0)).next&&(t.lowerTail=s)}return t.lowerHead=e.lowerHead,l},h.prototype.offset=function(t,e,i,n,l,a){var r=0;if(l<=t||t+i<=0)return 0;if(l*n-i*a>0)if(t<0)r=t*n/i-e;else if(t>0){r=t*a/l-e}else r=-e;else if(l<t+i){r=a-(e+(l-t)*n/i)}else if(l>t+i){r=(i+t)*a/l-(e+n)}else r=a-(e+n);return r>0?r:0},h.prototype.bridge=function(t,e,i,n,l,a){var r=l+n.dx-e,o=0;o=0==n.dx?n.dy:r*n.dy/n.dx;var s=this.createLine(r,o,n.next);return t.next=this.createLine(0,a+n.dy-o-i,s),s},h.prototype.createNode=function(t){var e=new Object;e.cell=t,e.x=0,e.y=0,e.width=0,e.height=0;var i=this.getVertexBounds(t);return null!=i&&(this.isHorizontal()?(e.width=i.height,e.height=i.width):(e.width=i.width,e.height=i.height)),e.offsetX=0,e.offsetY=0,e.contour=new Object,e},h.prototype.apply=function(t,e){var i=this.graph.getModel(),n=t.cell,l=i.getGeometry(n);if(null!=n&&null!=l){if(this.isVertexMovable(n)&&(l=this.setVertexLocation(n,t.x,t.y),this.resizeParent)){var a=i.getParent(n),r=s.default.create(a);null==this.parentsChanged[r]&&(this.parentsChanged[r]=a)}e=null==e?new o.default(l.x,l.y,l.width,l.height):new o.default(Math.min(e.x,l.x),Math.min(e.y,l.y),Math.max(e.x+e.width,l.x+l.width),Math.max(e.y+e.height,l.y+l.height))}return e},h.prototype.createLine=function(t,e,i){var n=new Object;return n.dx=t,n.dy=e,n.next=i,n},h.prototype.adjustParents=function(){var t=[];for(var e in this.parentsChanged)t.push(this.parentsChanged[e]);this.arrangeGroups(u.default.sortCells(t,!0),this.groupPadding,this.groupPaddingTop,this.groupPaddingRight,this.groupPaddingBottom,this.groupPaddingLeft)},h.prototype.localEdgeProcessing=function(t){this.processNodeOutgoing(t);for(var e=t.child;null!=e;)this.localEdgeProcessing(e),e=e.next},h.prototype.processNodeOutgoing=function(t){for(var e=t.child,i=t.cell,n=0,a=[];null!=e;){n++;var o=e.x;this.horizontal&&(o=e.y),a.push(new r.default(e,o)),e=e.next}a.sort(r.default.prototype.compare);var s=t.width,u=(n+1)*this.prefHozEdgeSep;s>u+2*this.prefHozEdgeSep&&(s-=2*this.prefHozEdgeSep);var d=s/n,h=d/2;s>u+2*this.prefHozEdgeSep&&(h+=this.prefHozEdgeSep);var c=this.minEdgeJetty-this.prefVertEdgeOff,p=0,f=this.getVertexBounds(i);e=t.child;for(var g=0;g<a.length;g++){for(var y=a[g].cell.cell,m=this.getVertexBounds(y),v=this.graph.getEdgesBetween(i,y,!1),E=[],b=0,S=0,w=0;w<v.length;w++)this.horizontal?(b=f.x+f.width,S=f.y+h,E.push(new l.default(b,S)),b=f.x+f.width+c,E.push(new l.default(b,S)),S=m.y+m.height/2,E.push(new l.default(b,S)),this.setEdgePoints(v[w],E)):(b=f.x+h,S=f.y+f.height,E.push(new l.default(b,S)),S=f.y+f.height+c,E.push(new l.default(b,S)),b=m.x+m.width/2,E.push(new l.default(b,S)),this.setEdgePoints(v[w],E));g<n/2?c+=this.prefVertEdgeOff:g>n/2&&(c-=this.prefVertEdgeOff),h+=d,p=Math.max(p,c)}};e.default=h},235680:function(t,e,i){"use strict";function n(t,e){this.point=t,this.perimeter=null==e||e}i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n.prototype.point=null,n.prototype.perimeter=null;e.default=n},180800:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(9692),i(297336);var n=b(i(280908)),l=b(i(780208)),a=b(i(995048)),r=b(i(370608)),o=b(i(172636)),s=b(i(247644)),u=b(i(146880)),d=b(i(22676)),h=b(i(794644)),c=b(i(164460)),p=b(i(351612)),f=b(i(39864)),g=b(i(742288)),y=b(i(62112)),m=b(i(484376)),v=b(i(790448)),E=b(i(132448));function b(t){return t&&t.__esModule?t:{default:t}}function S(t,e){f.default.call(this),null!=t&&(this.graph=t,this.factoryMethod=e,this.init(),this.escapeHandler=g.default.bind(this,(function(t,e){this.reset()})),this.graph.addListener(r.default.ESCAPE,this.escapeHandler))}g.default.extend(S,f.default),S.prototype.graph=null,S.prototype.factoryMethod=!0,S.prototype.moveIconFront=!1,S.prototype.moveIconBack=!1,S.prototype.connectImage=null,S.prototype.targetConnectImage=!1,S.prototype.enabled=!0,S.prototype.select=!0,S.prototype.createTarget=!1,S.prototype.marker=null,S.prototype.constraintHandler=null,S.prototype.error=null,S.prototype.waypointsEnabled=!1,S.prototype.ignoreMouseDown=!1,S.prototype.first=null,S.prototype.connectIconOffset=new c.default(0,v.default.TOOLTIP_VERTICAL_OFFSET),S.prototype.edgeState=null,S.prototype.changeHandler=null,S.prototype.drillHandler=null,S.prototype.mouseDownCounter=0,S.prototype.movePreviewAway=d.default.IS_VML,S.prototype.outlineConnect=!1,S.prototype.livePreview=!1,S.prototype.cursor=null,S.prototype.insertBeforeSource=!1,S.prototype.isEnabled=function(){return this.enabled},S.prototype.setEnabled=function(t){this.enabled=t},S.prototype.isInsertBefore=function(t,e,i,n,l){return this.insertBeforeSource&&e!=i},S.prototype.isCreateTarget=function(t){return this.createTarget},S.prototype.setCreateTarget=function(t){this.createTarget=t},S.prototype.createShape=function(){var t=this.livePreview&&null!=this.edgeState?this.graph.cellRenderer.createShape(this.edgeState):new l.default([],v.default.INVALID_COLOR);return t.dialect=this.graph.dialect!=v.default.DIALECT_SVG?v.default.DIALECT_VML:v.default.DIALECT_SVG,t.scale=this.graph.view.scale,t.pointerEvents=!1,t.isDashed=!0,t.init(this.graph.getView().getOverlayPane()),r.default.redirectMouseEvents(t.node,this.graph,null),t},S.prototype.init=function(){this.graph.addMouseListener(this),this.marker=this.createMarker(),this.constraintHandler=new p.default(this.graph),this.changeHandler=g.default.bind(this,(function(t){null!=this.iconState&&(this.iconState=this.graph.getView().getState(this.iconState.cell)),null!=this.iconState?(this.redrawIcons(this.icons,this.iconState),this.constraintHandler.reset()):null!=this.previous&&null==this.graph.view.getState(this.previous.cell)&&this.reset()})),this.graph.getModel().addListener(r.default.CHANGE,this.changeHandler),this.graph.getView().addListener(r.default.SCALE,this.changeHandler),this.graph.getView().addListener(r.default.TRANSLATE,this.changeHandler),this.graph.getView().addListener(r.default.SCALE_AND_TRANSLATE,this.changeHandler),this.drillHandler=g.default.bind(this,(function(t){this.reset()})),this.graph.addListener(r.default.START_EDITING,this.drillHandler),this.graph.getView().addListener(r.default.DOWN,this.drillHandler),this.graph.getView().addListener(r.default.UP,this.drillHandler)},S.prototype.isConnectableCell=function(t){return!0},S.prototype.createMarker=function(){var t=new y.default(this.graph);return t.hotspotEnabled=!0,t.getCell=g.default.bind(this,(function(e){var i=y.default.prototype.getCell.apply(t,arguments);if(this.error=null,null==i&&null!=this.currentPoint&&(i=this.graph.getCellAt(this.currentPoint.x,this.currentPoint.y)),null!=i&&!this.graph.isCellConnectable(i)){var n=this.graph.getModel().getParent(i);this.graph.getModel().isVertex(n)&&this.graph.isCellConnectable(n)&&(i=n)}return(this.graph.isSwimlane(i)&&null!=this.currentPoint&&this.graph.hitsSwimlaneContent(i,this.currentPoint.x,this.currentPoint.y)||!this.isConnectableCell(i))&&(i=null),null!=i?this.isConnecting()?null!=this.previous&&(this.error=this.validateConnection(this.previous.cell,i),null!=this.error&&0==this.error.length&&(i=null,this.isCreateTarget(e.getEvent())&&(this.error=null))):this.isValidSource(i,e)||(i=null):!this.isConnecting()||this.isCreateTarget(e.getEvent())||this.graph.allowDanglingEdges||(this.error=""),i})),t.isValidState=g.default.bind(this,(function(e){return this.isConnecting()?null==this.error:y.default.prototype.isValidState.apply(t,arguments)})),t.getMarkerColor=g.default.bind(this,(function(e,i,n){return null==this.connectImage||this.isConnecting()?y.default.prototype.getMarkerColor.apply(t,arguments):null})),t.intersects=g.default.bind(this,(function(e,i){return!(null==this.connectImage&&!this.isConnecting())||y.default.prototype.intersects.apply(t,arguments)})),t},S.prototype.start=function(t,e,i,n){this.previous=t,this.first=new c.default(e,i),this.edgeState=null!=n?n:this.createEdgeState(null),this.marker.currentColor=this.marker.validColor,this.marker.markedState=t,this.marker.mark(),this.fireEvent(new a.default(r.default.START,"state",this.previous))},S.prototype.isConnecting=function(){return null!=this.first&&null!=this.shape},S.prototype.isValidSource=function(t,e){return this.graph.isValidSource(t)},S.prototype.isValidTarget=function(t){return!0},S.prototype.validateConnection=function(t,e){return this.isValidTarget(e)?this.graph.getEdgeValidationError(null,t,e):""},S.prototype.getConnectImage=function(t){return this.connectImage},S.prototype.isMoveIconToFrontForState=function(t){return null!=t.text&&t.text.node.parentNode==this.graph.container||this.moveIconFront},S.prototype.createIcons=function(t){var e=this.getConnectImage(t);if(null!=e&&null!=t){this.iconState=t;var i=[],n=new s.default(0,0,e.width,e.height),l=new h.default(n,e.src,null,null,0);l.preserveImageAspect=!1,this.isMoveIconToFrontForState(t)?(l.dialect=v.default.DIALECT_STRICTHTML,l.init(this.graph.container)):(l.dialect=this.graph.dialect==v.default.DIALECT_SVG?v.default.DIALECT_SVG:v.default.DIALECT_VML,l.init(this.graph.getView().getOverlayPane()),this.moveIconBack&&null!=l.node.previousSibling&&l.node.parentNode.insertBefore(l.node,l.node.parentNode.firstChild)),l.node.style.cursor=v.default.CURSOR_CONNECT;var a=g.default.bind(this,(function(){return null!=this.currentState?this.currentState:t})),u=g.default.bind(this,(function(t){r.default.isConsumed(t)||(this.icon=l,this.graph.fireMouseEvent(r.default.MOUSE_DOWN,new o.default(t,a())))}));return r.default.redirectMouseEvents(l.node,this.graph,a,u),i.push(l),this.redrawIcons(i,this.iconState),i}return null},S.prototype.redrawIcons=function(t,e){if(null!=t&&null!=t[0]&&null!=e){var i=this.getIconPosition(t[0],e);t[0].bounds.x=i.x,t[0].bounds.y=i.y,t[0].redraw()}},S.prototype.getIconPosition=function(t,e){var i=this.graph.getView().scale,n=e.getCenterX(),l=e.getCenterY();if(this.graph.isSwimlane(e.cell)){var a=this.graph.getStartSize(e.cell);n=0!=a.width?e.x+a.width*i/2:n,l=0!=a.height?e.y+a.height*i/2:l;var r=E.default.toRadians(g.default.getValue(e.style,v.default.STYLE_ROTATION)||0);if(0!=r){var o=Math.cos(r),s=Math.sin(r),u=new c.default(e.getCenterX(),e.getCenterY()),d=E.default.getRotatedPoint(new c.default(n,l),o,s,u);n=d.x,l=d.y}}return new c.default(n-t.bounds.width/2,l-t.bounds.height/2)},S.prototype.destroyIcons=function(){if(null!=this.icons){for(var t=0;t<this.icons.length;t++)this.icons[t].destroy();this.icons=null,this.icon=null,this.selectedIcon=null,this.iconState=null}},S.prototype.isStartEvent=function(t){return null!=this.constraintHandler.currentFocus&&null!=this.constraintHandler.currentConstraint||null!=this.previous&&null==this.error&&(null==this.icons||null!=this.icons&&null!=this.icon)},S.prototype.mouseDown=function(t,e){if(this.mouseDownCounter++,this.isEnabled()&&this.graph.isEnabled()&&!e.isConsumed()&&!this.isConnecting()&&this.isStartEvent(e)){if(null!=this.constraintHandler.currentConstraint&&null!=this.constraintHandler.currentFocus&&null!=this.constraintHandler.currentPoint?(this.sourceConstraint=this.constraintHandler.currentConstraint,this.previous=this.constraintHandler.currentFocus,this.first=this.constraintHandler.currentPoint.clone()):this.first=new c.default(e.getGraphX(),e.getGraphY()),this.edgeState=this.createEdgeState(e),this.mouseDownCounter=1,this.waypointsEnabled&&null==this.shape&&(this.waypoints=null,this.shape=this.createShape(),null!=this.edgeState&&this.shape.apply(this.edgeState)),null==this.previous&&null!=this.edgeState){var i=this.graph.getPointForEvent(e.getEvent());this.edgeState.cell.geometry.setTerminalPoint(i,!0)}this.fireEvent(new a.default(r.default.START,"state",this.previous)),e.consume()}this.selectedIcon=this.icon,this.icon=null},S.prototype.isImmediateConnectSource=function(t){return!this.graph.isCellMovable(t.cell)},S.prototype.createEdgeState=function(t){return null},S.prototype.isOutlineConnectEvent=function(t){var e=E.default.getOffset(this.graph.container),i=t.getEvent(),n=r.default.getClientX(i),l=r.default.getClientY(i),a=document.documentElement,o=(window.pageXOffset||a.scrollLeft)-(a.clientLeft||0),s=(window.pageYOffset||a.scrollTop)-(a.clientTop||0),u=this.currentPoint.x-this.graph.container.scrollLeft+e.x-o,d=this.currentPoint.y-this.graph.container.scrollTop+e.y-s;return this.outlineConnect&&!r.default.isShiftDown(t.getEvent())&&(t.isSource(this.marker.highlight.shape)||r.default.isAltDown(t.getEvent())&&null!=t.getState()||this.marker.highlight.isHighlightAt(n,l)||(u!=n||d!=l)&&null==t.getState()&&this.marker.highlight.isHighlightAt(u,d))},S.prototype.updateCurrentState=function(t,e){if(this.constraintHandler.update(t,null==this.first,!1,null==this.first||t.isSource(this.marker.highlight.shape)?null:e),null!=this.constraintHandler.currentFocus&&null!=this.constraintHandler.currentConstraint)null!=this.marker.highlight&&null!=this.marker.highlight.state&&this.marker.highlight.state.cell==this.constraintHandler.currentFocus.cell?"transparent"!=this.marker.highlight.shape.stroke&&(this.marker.highlight.shape.stroke="transparent",this.marker.highlight.repaint()):this.marker.markCell(this.constraintHandler.currentFocus.cell,"transparent"),null!=this.previous&&(this.error=this.validateConnection(this.previous.cell,this.constraintHandler.currentFocus.cell),null==this.error?this.currentState=this.constraintHandler.currentFocus:this.constraintHandler.reset());else{this.graph.isIgnoreTerminalEvent(t.getEvent())?(this.marker.reset(),this.currentState=null):(this.marker.process(t),this.currentState=this.marker.getValidState());var i=this.isOutlineConnectEvent(t);if(null!=this.currentState&&i){t.isSource(this.marker.highlight.shape)&&(e=new c.default(t.getGraphX(),t.getGraphY()));var n=this.graph.getOutlineConstraint(e,this.currentState,t);this.constraintHandler.setFocus(t,this.currentState,!1),this.constraintHandler.currentConstraint=n,this.constraintHandler.currentPoint=e}if(this.outlineConnect&&null!=this.marker.highlight&&null!=this.marker.highlight.shape){var l=this.graph.view.scale;null!=this.constraintHandler.currentConstraint&&null!=this.constraintHandler.currentFocus?(this.marker.highlight.shape.stroke=v.default.OUTLINE_HIGHLIGHT_COLOR,this.marker.highlight.shape.strokewidth=v.default.OUTLINE_HIGHLIGHT_STROKEWIDTH/l/l,this.marker.highlight.repaint()):this.marker.hasValidState()&&(this.marker.getValidState()!=t.getState()?(this.marker.highlight.shape.stroke="transparent",this.currentState=null):this.marker.highlight.shape.stroke=v.default.DEFAULT_VALID_COLOR,this.marker.highlight.shape.strokewidth=v.default.HIGHLIGHT_STROKEWIDTH/l/l,this.marker.highlight.repaint())}}},S.prototype.convertWaypoint=function(t){var e=this.graph.getView().getScale(),i=this.graph.getView().getTranslate();t.x=t.x/e-i.x,t.y=t.y/e-i.y},S.prototype.snapToPreview=function(t,e){if(!r.default.isAltDown(t.getEvent())&&null!=this.previous){var i=this.graph.gridSize*this.graph.view.scale/2,n=null!=this.sourceConstraint?this.first:new c.default(this.previous.getCenterX(),this.previous.getCenterY());Math.abs(n.x-t.getGraphX())<i&&(e.x=n.x),Math.abs(n.y-t.getGraphY())<i&&(e.y=n.y)}},S.prototype.mouseMove=function(t,e){if(e.isConsumed()||!this.ignoreMouseDown&&null==this.first&&this.graph.isMouseDown)this.constraintHandler.reset();else{this.isEnabled()||null==this.currentState||(this.destroyIcons(),this.currentState=null);var i=this.graph.getView(),n=i.scale,l=i.translate,a=new c.default(e.getGraphX(),e.getGraphY());if(this.error=null,this.graph.isGridEnabledEvent(e.getEvent())&&(a=new c.default((this.graph.snap(a.x/n-l.x)+l.x)*n,(this.graph.snap(a.y/n-l.y)+l.y)*n)),this.snapToPreview(e,a),this.currentPoint=a,(null!=this.first||this.isEnabled()&&this.graph.isEnabled())&&this.updateCurrentState(e,a),null!=this.first){var o=null,u=a;null!=this.constraintHandler.currentConstraint&&null!=this.constraintHandler.currentFocus&&null!=this.constraintHandler.currentPoint?(o=this.constraintHandler.currentConstraint,u=this.constraintHandler.currentPoint.clone()):null!=this.previous&&!this.graph.isIgnoreTerminalEvent(e.getEvent())&&r.default.isShiftDown(e.getEvent())&&(Math.abs(this.previous.getCenterX()-a.x)<Math.abs(this.previous.getCenterY()-a.y)?a.x=this.previous.getCenterX():a.y=this.previous.getCenterY());var d=this.first;if(null!=this.selectedIcon){var h=this.selectedIcon.bounds.width,p=this.selectedIcon.bounds.height;if(null!=this.currentState&&this.targetConnectImage){var f=this.getIconPosition(this.selectedIcon,this.currentState);this.selectedIcon.bounds.x=f.x,this.selectedIcon.bounds.y=f.y}else{var g=new s.default(e.getGraphX()+this.connectIconOffset.x,e.getGraphY()+this.connectIconOffset.y,h,p);this.selectedIcon.bounds=g}this.selectedIcon.redraw()}if(null!=this.edgeState)this.updateEdgeState(u,o),u=this.edgeState.absolutePoints[this.edgeState.absolutePoints.length-1],d=this.edgeState.absolutePoints[0];else{if(null!=this.currentState)if(null==this.constraintHandler.currentConstraint)null!=(m=this.getTargetPerimeterPoint(this.currentState,e))&&(u=m);if(null==this.sourceConstraint&&null!=this.previous){var y=null!=this.waypoints&&this.waypoints.length>0?this.waypoints[0]:u;null!=(m=this.getSourcePerimeterPoint(this.previous,y,e))&&(d=m)}}if(null==this.currentState&&this.movePreviewAway){var m=d;if(null!=this.edgeState&&this.edgeState.absolutePoints.length>=2){var E=this.edgeState.absolutePoints[this.edgeState.absolutePoints.length-2];null!=E&&(m=E)}var b=u.x-m.x,S=u.y-m.y,w=Math.sqrt(b*b+S*S);if(0==w)return;this.originalPoint=u.clone(),u.x-=4*b/w,u.y-=4*S/w}else this.originalPoint=null;if(null==this.shape){b=Math.abs(a.x-this.first.x),S=Math.abs(a.y-this.first.y);(b>this.graph.tolerance||S>this.graph.tolerance)&&(this.shape=this.createShape(),null!=this.edgeState&&this.shape.apply(this.edgeState),this.updateCurrentState(e,a))}if(null!=this.shape){if(null!=this.edgeState)this.shape.points=this.edgeState.absolutePoints;else{var A=[d];null!=this.waypoints&&(A=A.concat(this.waypoints)),A.push(u),this.shape.points=A}this.drawPreview()}null!=this.cursor&&(this.graph.container.style.cursor=this.cursor),r.default.consume(e.getEvent()),e.consume()}else this.isEnabled()&&this.graph.isEnabled()?this.previous!=this.currentState&&null==this.edgeState?(this.destroyIcons(),null!=this.currentState&&null==this.error&&null==this.constraintHandler.currentConstraint&&(this.icons=this.createIcons(this.currentState),null==this.icons&&(this.currentState.setCursor(v.default.CURSOR_CONNECT),e.consume())),this.previous=this.currentState):this.previous!=this.currentState||null==this.currentState||null!=this.icons||this.graph.isMouseDown||e.consume():this.constraintHandler.reset();if(!this.graph.isMouseDown&&null!=this.currentState&&null!=this.icons){for(var C=!1,T=e.getSource(),M=0;M<this.icons.length&&!C;M++)C=T==this.icons[M].node||T.parentNode==this.icons[M].node;C||this.updateIcons(this.currentState,this.icons,e)}}},S.prototype.updateEdgeState=function(t,e){null!=this.sourceConstraint&&null!=this.sourceConstraint.point&&(this.edgeState.style[v.default.STYLE_EXIT_X]=this.sourceConstraint.point.x,this.edgeState.style[v.default.STYLE_EXIT_Y]=this.sourceConstraint.point.y),null!=e&&null!=e.point?(this.edgeState.style[v.default.STYLE_ENTRY_X]=e.point.x,this.edgeState.style[v.default.STYLE_ENTRY_Y]=e.point.y):(delete this.edgeState.style[v.default.STYLE_ENTRY_X],delete this.edgeState.style[v.default.STYLE_ENTRY_Y]),this.edgeState.absolutePoints=[null,null!=this.currentState?null:t],this.graph.view.updateFixedTerminalPoint(this.edgeState,this.previous,!0,this.sourceConstraint),null!=this.currentState&&(null==e&&(e=this.graph.getConnectionConstraint(this.edgeState,this.previous,!1)),this.edgeState.setAbsoluteTerminalPoint(null,!1),this.graph.view.updateFixedTerminalPoint(this.edgeState,this.currentState,!1,e));var i=null;if(null!=this.waypoints){i=[];for(var n=0;n<this.waypoints.length;n++){var l=this.waypoints[n].clone();this.convertWaypoint(l),i[n]=l}}this.graph.view.updatePoints(this.edgeState,i,this.previous,this.currentState),this.graph.view.updateFloatingTerminalPoints(this.edgeState,this.previous,this.currentState)},S.prototype.getTargetPerimeterPoint=function(t,e){var i=null,n=t.view,l=n.getPerimeterFunction(t);if(null!=l){var a=null!=this.waypoints&&this.waypoints.length>0?this.waypoints[this.waypoints.length-1]:new c.default(this.previous.getCenterX(),this.previous.getCenterY()),r=l(n.getPerimeterBounds(t),this.edgeState,a,!1);null!=r&&(i=r)}else i=new c.default(t.getCenterX(),t.getCenterY());return i},S.prototype.getSourcePerimeterPoint=function(t,e,i){var n=null,l=t.view,a=l.getPerimeterFunction(t),r=new c.default(t.getCenterX(),t.getCenterY());if(null!=a){var o=g.default.getValue(t.style,v.default.STYLE_ROTATION,0),s=-o*(Math.PI/180);0!=o&&(e=E.default.getRotatedPoint(new c.default(e.x,e.y),Math.cos(s),Math.sin(s),r));var u=a(l.getPerimeterBounds(t),t,e,!1);null!=u&&(0!=o&&(u=E.default.getRotatedPoint(new c.default(u.x,u.y),Math.cos(-s),Math.sin(-s),r)),n=u)}else n=r;return n},S.prototype.updateIcons=function(t,e,i){},S.prototype.isStopEvent=function(t){return null!=t.getState()},S.prototype.addWaypointForEvent=function(t){var e=E.default.convertPoint(this.graph.container,t.getX(),t.getY()),i=Math.abs(e.x-this.first.x),n=Math.abs(e.y-this.first.y);if(null!=this.waypoints||this.mouseDownCounter>1&&(i>this.graph.tolerance||n>this.graph.tolerance)){null==this.waypoints&&(this.waypoints=[]);var l=this.graph.view.scale;e=new c.default(this.graph.snap(t.getGraphX()/l)*l,this.graph.snap(t.getGraphY()/l)*l);this.waypoints.push(e)}},S.prototype.mouseUp=function(t,e){if(!e.isConsumed()&&this.isConnecting()){if(this.waypointsEnabled&&!this.isStopEvent(e))return this.addWaypointForEvent(e),void e.consume();if(null==this.error){var i=null!=this.previous?this.previous.cell:null,n=null;null!=this.constraintHandler.currentConstraint&&null!=this.constraintHandler.currentFocus&&(n=this.constraintHandler.currentFocus.cell),null==n&&null!=this.currentState&&(n=this.currentState.cell),i!==n&&this.connect(i,n,e.getEvent(),e.getCell())}else null!=this.previous&&null!=this.marker.validState&&this.previous.cell==this.marker.validState.cell&&this.graph.selectCellForEvent(this.marker.source,evt),this.error.length>0&&this.graph.validationAlert(this.error);this.destroyIcons(),e.consume()}null!=this.first&&this.reset()},S.prototype.reset=function(){null!=this.shape&&(this.shape.destroy(),this.shape=null),null!=this.cursor&&null!=this.graph.container&&(this.graph.container.style.cursor=""),this.destroyIcons(),this.marker.reset(),this.constraintHandler.reset(),this.originalPoint=null,this.currentPoint=null,this.edgeState=null,this.previous=null,this.error=null,this.sourceConstraint=null,this.mouseDownCounter=0,this.first=null,this.fireEvent(new a.default(r.default.RESET))},S.prototype.drawPreview=function(){this.updatePreview(null==this.error),this.shape.redraw()},S.prototype.updatePreview=function(t){this.shape.strokewidth=this.getEdgeWidth(t),this.shape.stroke=this.getEdgeColor(t)},S.prototype.getEdgeColor=function(t){return t?v.default.VALID_COLOR:v.default.INVALID_COLOR},S.prototype.getEdgeWidth=function(t){return t?3:1},S.prototype.connect=function(t,e,i,n){if(null!=e||this.isCreateTarget(i)||this.graph.allowDanglingEdges){var l=this.graph.getModel(),o=!1,s=null;l.beginUpdate();try{if(null!=t&&null==e&&!this.graph.isIgnoreTerminalEvent(i)&&this.isCreateTarget(i)&&null!=(e=this.createTargetVertex(i,t))){if(n=this.graph.getDropTarget([e],i,n),o=!0,null!=n&&this.graph.getModel().isEdge(n))n=this.graph.getDefaultParent();else{var d=this.graph.getView().getState(n);if(null!=d)(y=l.getGeometry(e)).x-=d.origin.x,y.y-=d.origin.y}this.graph.addCell(e,n)}var h=this.graph.getDefaultParent();null!=t&&null!=e&&l.getParent(t)==l.getParent(e)&&l.getParent(l.getParent(t))!=l.getRoot()&&(h=l.getParent(t),null!=t.geometry&&t.geometry.relative&&null!=e.geometry&&e.geometry.relative&&(h=l.getParent(h)));var p=null,f=null;if(null!=this.edgeState&&(p=this.edgeState.cell.value,f=this.edgeState.cell.style),null!=(s=this.insertEdge(h,null,p,t,e,f))){this.graph.setConnectionConstraint(s,t,!0,this.sourceConstraint),this.graph.setConnectionConstraint(s,e,!1,this.constraintHandler.currentConstraint),null!=this.edgeState&&l.setGeometry(s,this.edgeState.cell.geometry);h=l.getParent(t);if(this.isInsertBefore(s,t,e,i,n)){for(var g=null,y=t;null!=y.parent&&null!=y.geometry&&y.geometry.relative&&y.parent!=s.parent;)y=this.graph.model.getParent(y);if(null!=y&&null!=y.parent&&y.parent==s.parent){g=y.parent.getIndex(y);y.parent.insert(s,g)}}var v=l.getGeometry(s);if(null==v&&((v=new u.default).relative=!0,l.setGeometry(s,v)),null!=this.waypoints&&this.waypoints.length>0){var E=this.graph.view.scale,b=this.graph.view.translate;v.points=[];for(var S=0;S<this.waypoints.length;S++){var w=this.waypoints[S];v.points.push(new c.default(w.x/E-b.x,w.y/E-b.y))}}if(null==e){var A=this.graph.view.translate;E=this.graph.view.scale;(w=null!=this.originalPoint?new c.default(this.originalPoint.x/E-A.x,this.originalPoint.y/E-A.y):new c.default(this.currentPoint.x/E-A.x,this.currentPoint.y/E-A.y)).x-=this.graph.panDx/this.graph.view.scale,w.y-=this.graph.panDy/this.graph.view.scale,v.setTerminalPoint(w,!1)}this.fireEvent(new a.default(r.default.CONNECT,"cell",s,"terminal",e,"event",i,"target",n,"terminalInserted",o))}}catch(t){m.default.show(),m.default.debug(t.message)}finally{l.endUpdate()}this.select&&this.selectCells(s,o?e:null)}},S.prototype.selectCells=function(t,e){this.graph.setSelectionCell(t)},S.prototype.insertEdge=function(t,e,i,n,l,a){if(null==this.factoryMethod)return this.graph.insertEdge(t,e,i,n,l,a);var r=this.createEdge(i,n,l,a);return r=this.graph.addEdge(r,t,n,l)},S.prototype.createTargetVertex=function(t,e){for(var i=this.graph.getCellGeometry(e);null!=i&&i.relative;)e=this.graph.getModel().getParent(e),i=this.graph.getCellGeometry(e);var n=this.graph.cloneCells([e])[0];if(null!=(i=this.graph.getModel().getGeometry(n))){var l=this.graph.view.translate,a=this.graph.view.scale,r=new c.default(this.currentPoint.x/a-l.x,this.currentPoint.y/a-l.y);i.x=Math.round(r.x-i.width/2-this.graph.panDx/a),i.y=Math.round(r.y-i.height/2-this.graph.panDy/a);var o=this.getAlignmentTolerance();if(o>0){var s=this.graph.view.getState(e);if(null!=s){var u=s.x/a-l.x,d=s.y/a-l.y;Math.abs(u-i.x)<=o&&(i.x=Math.round(u)),Math.abs(d-i.y)<=o&&(i.y=Math.round(d))}}}return n},S.prototype.getAlignmentTolerance=function(t){return this.graph.isGridEnabled()?this.graph.gridSize/2:this.graph.tolerance},S.prototype.createEdge=function(t,e,i,l){var a=null;if(null!=this.factoryMethod&&(a=this.factoryMethod(e,i,l)),null==a){(a=new n.default(t||"")).setEdge(!0),a.setStyle(l);var r=new u.default;r.relative=!0,a.setGeometry(r)}return a},S.prototype.destroy=function(){this.graph.removeMouseListener(this),null!=this.shape&&(this.shape.destroy(),this.shape=null),null!=this.marker&&(this.marker.destroy(),this.marker=null),null!=this.constraintHandler&&(this.constraintHandler.destroy(),this.constraintHandler=null),null!=this.changeHandler&&(this.graph.getModel().removeListener(this.changeHandler),this.graph.getView().removeListener(this.changeHandler),this.changeHandler=null),null!=this.drillHandler&&(this.graph.removeListener(this.drillHandler),this.graph.getView().removeListener(this.drillHandler),this.drillHandler=null),null!=this.escapeHandler&&(this.graph.removeListener(this.escapeHandler),this.escapeHandler=null)};e.default=S},577512:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(686456),i(999768),i(571176),i(633768),i(218080),i(513640);var n=u(i(780208)),l=u(i(229232)),a=u(i(742288)),r=u(i(656988)),o=u(i(790448)),s=i(384904);function u(t){return t&&t.__esModule?t:{default:t}}function d(t,e,i){n.default.call(this,t,e,i)}a.default.extend(d,n.default),d.prototype.updateBoundingBox=function(){this.useSvgBoundingBox=null!=this.style&&1==this.style[o.default.STYLE_CURVED],r.default.prototype.updateBoundingBox.apply(this,arguments)},d.prototype.paintEdgeShape=function(t,e){var i=this.state.view.graph;if(!(0,s.isBizFlow)(i.flowType)){var l=e[0],r=e.length,u=e[r-1],d=Math.atan2(l.y-u.y,u.x-l.x),h=180*d/Math.PI,c=Math.abs(5*Math.cos(d).toFixed(2)),p=Math.abs(5*Math.sin(d).toFixed(2)),f=this.style,g=a.default.getValue(f,o.default.STYLE_ENDARROW),y=!0;if(!1===i.isMouseDown&&"none"!==g){for(var m=l.x,v=0;v<r;v++)if(e[v].x!==m){y=!1;break}if(!y&&r>2){var E=a.default.getValue(f,"entryX"),b=a.default.getValue(f,"entryY"),S=a.default.getValue(f,"exitX"),w=a.default.getValue(f,"exitY");0===E?u.x-=5:1==E&&(u.x+=5),0==S?l.x-=5:1==S&&(l.x+=5),0===b?u.y-=5:1==b&&(u.y+=5),0==w?l.y-=5:1==w&&(l.y+=5)}else h>=-135&&h<=-45||h>-45&&h<45?(l.x+=c,l.y+=p,u.x-=c,u.y-=p):(l.x-=c,l.y-=p,u.x+=c,u.y+=p)}}var A=this.createMarker(t,e,!0),C=this.createMarker(t,e,!1);n.default.prototype.paintEdgeShape.apply(this,arguments),t.setFillColor(this.stroke),t.setShadow(!1),t.setDashed(!1),null!=A&&A(),null!=C&&C()},d.prototype.createMarker=function(t,e,i){var n=null,r=e.length,s=a.default.getValue(this.style,i?o.default.STYLE_STARTARROW:o.default.STYLE_ENDARROW),u=i?e[1]:e[r-2],d=i?e[0]:e[r-1];if(null!=s&&null!=u&&null!=d){for(var h=1;h<r-1&&0==Math.round(u.x-d.x)&&0==Math.round(u.y-d.y);)u=i?e[1+h]:e[r-2-h],h++;var c=d.x-u.x,p=d.y-u.y,f=Math.max(1,Math.sqrt(c*c+p*p)),g=c/f,y=p/f,m=a.default.getNumber(this.style,i?o.default.STYLE_STARTSIZE:o.default.STYLE_ENDSIZE,o.default.DEFAULT_MARKERSIZE),v=0!=this.style[i?o.default.STYLE_STARTFILL:o.default.STYLE_ENDFILL];n=l.default.createMarker(t,this,s,d,g,y,m,i,this.arrowStrokewidth,v)}return n},d.prototype.augmentBoundingBox=function(t){r.default.prototype.augmentBoundingBox.apply(this,arguments);var e=0;a.default.getValue(this.style,o.default.STYLE_STARTARROW,o.default.NONE)!=o.default.NONE&&(e=a.default.getNumber(this.style,o.default.STYLE_STARTSIZE,o.default.DEFAULT_MARKERSIZE)+1),a.default.getValue(this.style,o.default.STYLE_ENDARROW,o.default.NONE)!=o.default.NONE&&(e=Math.max(e,a.default.getNumber(this.style,o.default.STYLE_ENDSIZE,o.default.DEFAULT_MARKERSIZE))+1),t.grow(e*this.scale)},d.prototype.afterRedrawLabel=function(t){var e=(t.querySelector(".text")||t).style,i=t.getAttribute("transform")||"",n=/(translate\()(\d+(\.\d+)?)(,)(\d+(\.\d+)?)(\))/,l=i.match(n);l&&(i=i.replace(n,[l[1],l[2]-10,l[4],l[5]-3,l[7]].join("")),t.setAttribute("transform",i));var a=t.querySelector("foreignObject");if(a){var r=a.getAttribute("width"),o=a.getAttribute("height");r&&a.setAttribute("width",parseInt(r)+20),o&&a.setAttribute("height",parseInt(o)+6)}e.borderRadius="10px",e.padding="1px 9px",e.border="1px solid #BBB",e.letterSpacing="0.27px"};e.default=d},790448:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i(22676)),l=a(i(247644));function a(t){return t&&t.__esModule?t:{default:t}}var r={DEFAULT_HOTSPOT:.3,DEFAULT_SWIMLANE_PADDING:10,DEFAULT_SWIMLANE_WIDTH:200,DEFAULT_SWIMLANE_HEIGHT:280,MIN_HOTSPOT_SIZE:8,MAX_HOTSPOT_SIZE:0,RENDERING_HINT_EXACT:"exact",RENDERING_HINT_FASTER:"faster",RENDERING_HINT_FASTEST:"fastest",DIALECT_SVG:"svg",DIALECT_VML:"vml",DIALECT_MIXEDHTML:"mixedHtml",DIALECT_PREFERHTML:"preferHtml",DIALECT_STRICTHTML:"strictHtml",NS_SVG:"http://www.w3.org/2000/svg",NS_XHTML:"http://www.w3.org/1999/xhtml",NS_XLINK:"http://www.w3.org/1999/xlink",SHADOWCOLOR:"gray",VML_SHADOWCOLOR:"gray",SHADOW_OFFSET_X:2,SHADOW_OFFSET_Y:3,SHADOW_OPACITY:1,NODETYPE_ELEMENT:1,NODETYPE_ATTRIBUTE:2,NODETYPE_TEXT:3,NODETYPE_CDATA:4,NODETYPE_ENTITY_REFERENCE:5,NODETYPE_ENTITY:6,NODETYPE_PROCESSING_INSTRUCTION:7,NODETYPE_COMMENT:8,NODETYPE_DOCUMENT:9,NODETYPE_DOCUMENTTYPE:10,NODETYPE_DOCUMENT_FRAGMENT:11,NODETYPE_NOTATION:12,TOOLTIP_VERTICAL_OFFSET:16,DEFAULT_VALID_COLOR:"#00FF00",DEFAULT_INVALID_COLOR:"#FF0000",OUTLINE_HIGHLIGHT_COLOR:"#00FF00",OUTLINE_HIGHLIGHT_STROKEWIDTH:5,HIGHLIGHT_STROKEWIDTH:3,HIGHLIGHT_SIZE:2,HIGHLIGHT_OPACITY:100,CURSOR_MOVABLE_VERTEX:"move",CURSOR_MOVABLE_EDGE:"move",CURSOR_LABEL_HANDLE:"default",CURSOR_TERMINAL_HANDLE:"pointer",CURSOR_BEND_HANDLE:"crosshair",CURSOR_VIRTUAL_BEND_HANDLE:"crosshair",CURSOR_CONNECT:"pointer",HIGHLIGHT_COLOR:"#00FF00",CONNECT_TARGET_COLOR:"#0000FF",INVALID_CONNECT_TARGET_COLOR:"#FF0000",DROP_TARGET_COLOR:"#0000FF",VALID_COLOR:"#00FF00",INVALID_COLOR:"#FF0000",EDGE_SELECTION_COLOR:"#00FF00",VERTEX_SELECTION_COLOR:"#00FF00",VERTEX_SELECTION_STROKEWIDTH:1,EDGE_SELECTION_STROKEWIDTH:1,VERTEX_SELECTION_DASHED:!0,EDGE_SELECTION_DASHED:!0,BIZFLOW_EDGE_SELECTION_DASHED:!1,BIZFLOW_EDGE_SELECTION_COLOR:"#2B87F3",BIZFLOW_EDGE_SELECTION_STROKEWIDTH:2,GUIDE_COLOR:"#FF0000",GUIDE_STROKEWIDTH:1,OUTLINE_COLOR:"#0099FF",OUTLINE_STROKEWIDTH:n.default.IS_IE?2:3,HANDLE_SIZE:6,LABEL_HANDLE_SIZE:4,HANDLE_FILLCOLOR:"#00FF00",HANDLE_STROKECOLOR:"black",LABEL_HANDLE_FILLCOLOR:"yellow",CONNECT_HANDLE_FILLCOLOR:"#0000FF",LOCKED_HANDLE_FILLCOLOR:"#FF0000",OUTLINE_HANDLE_FILLCOLOR:"#00FFFF",OUTLINE_HANDLE_STROKECOLOR:"#0033FF",DEFAULT_FONTFAMILY:'"Microsoft YaHei", 微软雅黑, PingFangSC-Regular, sans-serif, Arial, "Lucida Grande", Verdana, 黑体',DEFAULT_FONTSIZE:12,DEFAULT_TEXT_DIRECTION:"",LINE_HEIGHT:1.2,WORD_WRAP:"normal",ABSOLUTE_LINE_HEIGHT:!1,DEFAULT_FONTSTYLE:0,DEFAULT_STARTSIZE:40,DEFAULT_MARKERSIZE:6,DEFAULT_IMAGESIZE:24,ENTITY_SEGMENT:30,RECTANGLE_ROUNDING_FACTOR:.15,LINE_ARCSIZE:20,ARROW_SPACING:0,ARROW_WIDTH:30,ARROW_SIZE:30,PAGE_FORMAT_A4_PORTRAIT:new l.default(0,0,826,1169),PAGE_FORMAT_A4_LANDSCAPE:new l.default(0,0,1169,826),PAGE_FORMAT_LETTER_PORTRAIT:new l.default(0,0,850,1100),PAGE_FORMAT_LETTER_LANDSCAPE:new l.default(0,0,1100,850),NONE:"none",STYLE_PERIMETER:"perimeter",STYLE_SOURCE_PORT:"sourcePort",STYLE_TARGET_PORT:"targetPort",STYLE_PORT_CONSTRAINT:"portConstraint",STYLE_PORT_CONSTRAINT_ROTATION:"portConstraintRotation",STYLE_OPACITY:"opacity",STYLE_FILL_OPACITY:"fillOpacity",STYLE_STROKE_OPACITY:"strokeOpacity",STYLE_TEXT_OPACITY:"textOpacity",STYLE_TEXT_DIRECTION:"textDirection",STYLE_OVERFLOW:"overflow",STYLE_ORTHOGONAL:"orthogonal",STYLE_EXIT_X:"exitX",STYLE_EXIT_Y:"exitY",STYLE_EXIT_PERIMETER:"exitPerimeter",STYLE_ENTRY_X:"entryX",STYLE_ENTRY_Y:"entryY",STYLE_ENTRY_PERIMETER:"entryPerimeter",STYLE_WHITE_SPACE:"whiteSpace",STYLE_ROTATION:"rotation",STYLE_FILLCOLOR:"fillColor",STYLE_POINTER_EVENTS:"pointerEvents",STYLE_SWIMLANE_FILLCOLOR:"swimlaneFillColor",STYLE_MARGIN:"margin",STYLE_GRADIENTCOLOR:"gradientColor",STYLE_GRADIENT_DIRECTION:"gradientDirection",STYLE_STROKECOLOR:"strokeColor",STYLE_SEPARATORCOLOR:"separatorColor",STYLE_STROKEWIDTH:"strokeWidth",STYLE_ALIGN:"align",STYLE_VERTICAL_ALIGN:"verticalAlign",STYLE_LABEL_WIDTH:"labelWidth",STYLE_LABEL_POSITION:"labelPosition",STYLE_VERTICAL_LABEL_POSITION:"verticalLabelPosition",STYLE_IMAGE_ASPECT:"imageAspect",STYLE_IMAGE_ALIGN:"imageAlign",STYLE_IMAGE_VERTICAL_ALIGN:"imageVerticalAlign",STYLE_GLASS:"glass",STYLE_IMAGE:"image",STYLE_IMAGE_WIDTH:"imageWidth",STYLE_IMAGE_HEIGHT:"imageHeight",STYLE_IMAGE_BACKGROUND:"imageBackground",STYLE_IMAGE_BORDER:"imageBorder",STYLE_FLIPH:"flipH",STYLE_FLIPV:"flipV",STYLE_NOLABEL:"noLabel",STYLE_NOEDGESTYLE:"noEdgeStyle",STYLE_LABEL_BACKGROUNDCOLOR:"labelBackgroundColor",STYLE_LABEL_ELLIPSISGROUNDCOLOR:"ellipsisBackgroundColor",STYLE_LABEL_BORDERCOLOR:"labelBorderColor",STYLE_LABEL_PADDING:"labelPadding",STYLE_INDICATOR_SHAPE:"indicatorShape",STYLE_INDICATOR_IMAGE:"indicatorImage",STYLE_INDICATOR_COLOR:"indicatorColor",STYLE_INDICATOR_STROKECOLOR:"indicatorStrokeColor",STYLE_INDICATOR_GRADIENTCOLOR:"indicatorGradientColor",STYLE_INDICATOR_SPACING:"indicatorSpacing",STYLE_INDICATOR_WIDTH:"indicatorWidth",STYLE_INDICATOR_HEIGHT:"indicatorHeight",STYLE_INDICATOR_DIRECTION:"indicatorDirection",STYLE_SHADOW:"shadow",STYLE_SEGMENT:"segment",STYLE_ENDARROW:"endArrow",STYLE_STARTARROW:"startArrow",STYLE_ENDSIZE:"endSize",STYLE_STARTSIZE:"startSize",STYLE_SWIMLANE_LINE:"swimlaneLine",STYLE_ENDFILL:"endFill",STYLE_STARTFILL:"startFill",STYLE_DASHED:"dashed",STYLE_DASH_PATTERN:"dashPattern",STYLE_ROUNDED:"rounded",STYLE_CURVED:"curved",STYLE_ARCSIZE:"arcSize",STYLE_SMOOTH:"smooth",STYLE_SOURCE_PERIMETER_SPACING:"sourcePerimeterSpacing",STYLE_TARGET_PERIMETER_SPACING:"targetPerimeterSpacing",STYLE_PERIMETER_SPACING:"perimeterSpacing",STYLE_SPACING:"spacing",STYLE_SPACING_TOP:"spacingTop",STYLE_SPACING_LEFT:"spacingLeft",STYLE_SPACING_BOTTOM:"spacingBottom",STYLE_SPACING_RIGHT:"spacingRight",STYLE_HORIZONTAL:"horizontal",STYLE_DIRECTION:"direction",STYLE_ELBOW:"elbow",STYLE_FONTCOLOR:"fontColor",STYLE_FONTFAMILY:"fontFamily",STYLE_FONTSIZE:"fontSize",STYLE_FONTSTYLE:"fontStyle",STYLE_ASPECT:"aspect",STYLE_AUTOSIZE:"autosize",STYLE_FOLDABLE:"foldable",STYLE_EDITABLE:"editable",STYLE_BENDABLE:"bendable",STYLE_MOVABLE:"movable",STYLE_RESIZABLE:"resizable",STYLE_RESIZE_WIDTH:"resizeWidth",STYLE_RESIZE_HEIGHT:"resizeHeight",STYLE_ROTATABLE:"rotatable",STYLE_CLONEABLE:"cloneable",STYLE_DELETABLE:"deletable",STYLE_SHAPE:"shape",STYLE_EDGE:"edgeStyle",STYLE_JETTY_SIZE:"jettySize",STYLE_SOURCE_JETTY_SIZE:"sourceJettySize",STYLE_TARGET_JETTY_SIZE:"targetJettySize",STYLE_LOOP:"loopStyle",STYLE_ORTHOGONAL_LOOP:"orthogonalLoop",STYLE_ROUTING_CENTER_X:"routingCenterX",STYLE_ROUTING_CENTER_Y:"routingCenterY",FONT_BOLD:1,FONT_ITALIC:2,FONT_UNDERLINE:4,SHAPE_RECTANGLE:"rectangle",SHAPE_ELLIPSE:"ellipse",SHAPE_DOUBLE_ELLIPSE:"doubleEllipse",SHAPE_RHOMBUS:"rhombus",SHAPE_LINE:"line",SHAPE_IMAGE:"image",SHAPE_ARROW:"arrow",SHAPE_ARROW_CONNECTOR:"arrowConnector",SHAPE_LABEL:"label",SHAPE_CYLINDER:"cylinder",SHAPE_SWIMLANE:"swimlane",SHAPE_CONNECTOR:"connector",SHAPE_ACTOR:"actor",SHAPE_CLOUD:"cloud",SHAPE_TRIANGLE:"triangle",SHAPE_HEXAGON:"hexagon",ARROW_TRIANGLE:"regularTriangle",ARROW_CLASSIC:"classic",ARROW_CLASSIC_THIN:"classicThin",ARROW_BLOCK:"block",ARROW_BLOCK_THIN:"blockThin",ARROW_OPEN:"open",ARROW_OPEN_THIN:"openThin",ARROW_OVAL:"oval",ARROW_DIAMOND:"diamond",ARROW_DIAMOND_THIN:"diamondThin",ALIGN_LEFT:"left",ALIGN_CENTER:"center",ALIGN_RIGHT:"right",ALIGN_TOP:"top",ALIGN_MIDDLE:"middle",ALIGN_BOTTOM:"bottom",DIRECTION_NORTH:"north",DIRECTION_SOUTH:"south",DIRECTION_EAST:"east",DIRECTION_WEST:"west",TEXT_DIRECTION_DEFAULT:"",TEXT_DIRECTION_AUTO:"auto",TEXT_DIRECTION_LTR:"ltr",TEXT_DIRECTION_RTL:"rtl",DIRECTION_MASK_NONE:0,DIRECTION_MASK_WEST:1,DIRECTION_MASK_NORTH:2,DIRECTION_MASK_SOUTH:4,DIRECTION_MASK_EAST:8,DIRECTION_MASK_ALL:15,ELBOW_VERTICAL:"vertical",ELBOW_HORIZONTAL:"horizontal",EDGESTYLE_ELBOW:"elbowEdgeStyle",EDGESTYLE_ENTITY_RELATION:"entityRelationEdgeStyle",EDGESTYLE_LOOP:"loopEdgeStyle",EDGESTYLE_SIDETOSIDE:"sideToSideEdgeStyle",EDGESTYLE_TOPTOBOTTOM:"topToBottomEdgeStyle",EDGESTYLE_ORTHOGONAL:"orthogonalEdgeStyle",EDGESTYLE_SEGMENT:"segmentEdgeStyle",PERIMETER_ELLIPSE:"ellipsePerimeter",PERIMETER_RECTANGLE:"rectanglePerimeter",PERIMETER_RHOMBUS:"rhombusPerimeter",PERIMETER_HEXAGON:"hexagonPerimeter",PERIMETER_TRIANGLE:"trianglePerimeter",STENCIL_NUMBER:"number",STENCIL_ITEMID:"itemId",PROCESS_ID:"process_id"};e.default=r},351612:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(297336);var n=c(i(22676)),l=c(i(794644)),a=c(i(630160)),r=c(i(370608)),o=c(i(742288)),s=c(i(247644)),u=c(i(833800)),d=c(i(790448)),h=c(i(132448));function c(t){return t&&t.__esModule?t:{default:t}}function p(t){this.graph=t,this.resetHandler=o.default.bind(this,(function(t,e){null!=this.currentFocus&&null==this.graph.view.getState(this.currentFocus.cell)&&this.reset()})),this.graph.model.addListener(r.default.CHANGE,this.resetHandler),this.graph.view.addListener(r.default.SCALE,this.resetHandler),this.graph.addListener(r.default.ROOT,this.resetHandler)}p.prototype.pointImage=new a.default("data:image/gif;base64,R0lGODlhBQAFAJECAAAA/////////wAAACH5BAEAAAIALAAAAAAFAAUAAAIIRBSml7yGQAEAOw==",5,5),p.prototype.graph=null,p.prototype.enabled=!0,p.prototype.highlightColor=d.default.DEFAULT_VALID_COLOR,p.prototype.isEnabled=function(){return this.enabled},p.prototype.setEnabled=function(t){this.enabled=t},p.prototype.reset=function(){if(null!=this.focusIcons){for(var t=0;t<this.focusIcons.length;t++)this.focusIcons[t].destroy();this.focusIcons=null}null!=this.focusHighlight&&(this.focusHighlight.destroy(),this.focusHighlight=null),this.currentConstraint=null,this.currentFocusArea=null,this.currentPoint=null,this.currentFocus=null,this.focusPoints=null},p.prototype.getTolerance=function(t){return this.graph.getTolerance()},p.prototype.getImageForConstraint=function(t,e,i){return this.pointImage},p.prototype.isEventIgnored=function(t,e){return!1},p.prototype.isStateIgnored=function(t,e){return!1},p.prototype.destroyIcons=function(){if(null!=this.focusIcons){for(var t=0;t<this.focusIcons.length;t++)this.focusIcons[t].destroy();this.focusIcons=null,this.focusPoints=null}},p.prototype.destroyFocusHighlight=function(){null!=this.focusHighlight&&(this.focusHighlight.destroy(),this.focusHighlight=null)},p.prototype.isKeepFocusEvent=function(t){return r.default.isShiftDown(t.getEvent())},p.prototype.getCellForEvent=function(t,e){var i=t.getCell();if(null!=i||null==e||t.getGraphX()==e.x&&t.getGraphY()==e.y||(i=this.graph.getCellAt(e.x,e.y)),null!=i&&!this.graph.isCellConnectable(i)){var n=this.graph.getModel().getParent(i);this.graph.getModel().isVertex(n)&&this.graph.isCellConnectable(n)&&(i=n)}return i},p.prototype.update=function(t,e,i,l){if(this.isEnabled()&&!this.isEventIgnored(t)){null==this.mouseleaveHandler&&null!=this.graph.container&&(this.mouseleaveHandler=o.default.bind(this,(function(){this.reset()})),r.default.addListener(this.graph.container,"mouseleave",this.resetHandler));var a=this.getTolerance(t),u=null!=l?l.x:t.getGraphX(),c=null!=l?l.y:t.getGraphY(),p=new s.default(u-a,c-a,2*a,2*a),f=new s.default(t.getGraphX()-a,t.getGraphY()-a,2*a,2*a),g=this.graph.view.getState(this.getCellForEvent(t,l));this.isKeepFocusEvent(t)||null!=this.currentFocusArea&&null!=this.currentFocus&&null==g&&this.graph.getModel().isVertex(this.currentFocus.cell)&&h.default.intersects(this.currentFocusArea,f)||g==this.currentFocus||(this.currentFocusArea=null,this.currentFocus=null,this.setFocus(t,g,e)),this.currentConstraint=null,this.currentPoint=null;var y=null;if(null!=this.focusIcons&&null!=this.constraints&&(null==g||this.currentFocus==g))for(var m=f.getCenterX(),v=f.getCenterY(),E=0;E<this.focusIcons.length;E++){var b=m-this.focusIcons[E].bounds.getCenterX(),S=v-this.focusIcons[E].bounds.getCenterY(),w=b*b+S*S;if((this.intersects(this.focusIcons[E],f,e,i)||null!=l&&this.intersects(this.focusIcons[E],p,e,i))&&(null==y||w<y)){if(this.currentConstraint=this.constraints[E],this.currentPoint=this.focusPoints[E],y=w,(w=this.focusIcons[E].bounds.clone()).grow(d.default.HIGHLIGHT_SIZE),n.default.IS_IE&&(w.grow(1),w.width-=1,w.height-=1),null==this.focusHighlight){var A=this.createHighlightShape();A.dialect=this.graph.dialect==d.default.DIALECT_SVG?d.default.DIALECT_SVG:d.default.DIALECT_VML,A.pointerEvents=!1,A.init(this.graph.getView().getOverlayPane()),this.focusHighlight=A;var C=o.default.bind(this,(function(){return null!=this.currentFocus?this.currentFocus:g}));r.default.redirectMouseEvents(A.node,this.graph,C)}this.focusHighlight.bounds=w,this.focusHighlight.redraw()}}null==this.currentConstraint&&this.destroyFocusHighlight()}else this.currentConstraint=null,this.currentFocus=null,this.currentPoint=null},p.prototype.setFocus=function(t,e,i){if(this.constraints=null!=e&&!this.isStateIgnored(e,i)&&this.graph.isCellConnectable(e.cell)?this.isEnabled()&&this.graph.getAllConnectionConstraints(e,i)||[]:null,e&&null!=this.constraints){if(this.currentFocus=e,this.currentFocusArea=new s.default(e.x,e.y,e.width,e.height),null!=this.focusIcons){for(var a=0;a<this.focusIcons.length;a++)this.focusIcons[a].destroy();this.focusIcons=null,this.focusPoints=null}this.focusPoints=[],this.focusIcons=[];for(a=0;a<this.constraints.length;a++){var u=this.graph.getConnectionPoint(e,this.constraints[a]),h=this.getImageForConstraint(e,this.constraints[a],u),c=h.src,p=new s.default(Math.round(u.x-h.width/2),Math.round(u.y-h.height/2),h.width,h.height),f=new l.default(p,c);f.dialect=this.graph.dialect!=d.default.DIALECT_SVG?d.default.DIALECT_MIXEDHTML:d.default.DIALECT_SVG,f.preserveImageAspect=!1,f.init(this.graph.getView().getDecoratorPane()),(n.default.IS_QUIRKS||8==document.documentMode)&&r.default.addListener(f.node,"dragstart",(function(t){return r.default.consume(t),!1})),null!=f.node.previousSibling&&f.node.parentNode.insertBefore(f.node,f.node.parentNode.firstChild);var g=o.default.bind(this,(function(){return null!=this.currentFocus?this.currentFocus:e}));f.redraw(),r.default.redirectMouseEvents(f.node,this.graph,g),this.currentFocusArea.add(f.bounds),this.focusIcons.push(f),this.focusPoints.push(u)}this.currentFocusArea.grow(this.getTolerance(t))}else this.destroyIcons(),this.destroyFocusHighlight()},p.prototype.createHighlightShape=function(){var t=new u.default(null,this.highlightColor,this.highlightColor,d.default.HIGHLIGHT_STROKEWIDTH);return t.opacity=d.default.HIGHLIGHT_OPACITY,t},p.prototype.intersects=function(t,e,i,n){return h.default.intersects(t.bounds,e)},p.prototype.destroy=function(){this.reset(),null!=this.resetHandler&&(this.graph.model.removeListener(this.resetHandler),this.graph.view.removeListener(this.resetHandler),this.graph.removeListener(this.resetHandler),this.resetHandler=null),null!=this.mouseleaveHandler&&null!=this.graph.container&&(r.default.removeListener(this.graph.container,"mouseleave",this.mouseleaveHandler),this.mouseleaveHandler=null)};e.default=p},158276:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(i(995048)),l=r(i(370608)),a=r(i(164460));function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(this.view=t,this.root=e,this.previous=e,this.isUp=null==e,!this.isUp)for(var i=this.view.currentRoot,n=this.view.graph.getModel();null!=i;){if(i==e){this.isUp=!0;break}i=n.getParent(i)}}o.prototype.execute=function(){var t=this.view.currentRoot;this.view.currentRoot=this.previous,this.previous=t;var e=this.view.graph.getTranslateForRoot(this.view.currentRoot);null!=e&&(this.view.translate=new a.default(-e.x,-e.y)),this.isUp?(this.view.clear(this.view.currentRoot,!0),this.view.validate()):this.view.refresh();var i=this.isUp?l.default.UP:l.default.DOWN;this.view.fireEvent(new n.default(i,"root",this.view.currentRoot,"previous",this.previous)),this.isUp=!this.isUp};e.default=o},646696:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(106208);var n=a(i(742288)),l=a(i(656988));function a(t){return t&&t.__esModule?t:{default:t}}function r(t,e,i,n){l.default.call(this),this.bounds=t,this.fill=e,this.stroke=i,this.strokewidth=null!=n?n:1}n.default.extend(r,l.default),r.prototype.maxHeight=40,r.prototype.svgStrokeTolerance=0,r.prototype.paintVertexShape=function(t,e,i,n,l){t.translate(e,i),t.begin(),this.redrawPath(t,e,i,n,l,!1),t.fillAndStroke(),t.setShadow(!1),t.begin(),this.redrawPath(t,e,i,n,l,!0),t.stroke()},r.prototype.redrawPath=function(t,e,i,n,l,a){var r=Math.min(this.maxHeight,Math.round(l/5));(a&&null!=this.fill||!a&&null==this.fill)&&(t.moveTo(0,r),t.curveTo(0,2*r,n,2*r,n,r),a||(t.stroke(),t.begin())),a||(t.moveTo(0,r),t.curveTo(0,-r/3,n,-r/3,n,r),t.lineTo(n,l-r),t.curveTo(n,l+r/3,0,l+r/3,0,l-r),t.close())};e.default=r},571736:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(297336);var n=o(i(995048)),l=o(i(222624)),a=o(i(370608)),r=o(i(742288));function o(t){return t&&t.__esModule?t:{default:t}}function s(t){if(null!=t){this.editor=t,this.handler=new l.default(t.graph);var e=this.handler.escape;this.handler.escape=function(i){e.apply(this,arguments),t.hideProperties(),t.fireEvent(new n.default(a.default.ESCAPE,"event",i))}}}s.prototype.editor=null,s.prototype.handler=null,s.prototype.bindAction=function(t,e,i){var n=r.default.bind(this,(function(){this.editor.execute(e)}));i?this.handler.bindControlKey(t,n):this.handler.bindKey(t,n)},s.prototype.destroy=function(){this.handler.destroy(),this.handler=null},s.getName=function(){return"mxDefaultKeyHandler"};e.default=s},359656:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i(11131)),l=a(i(132448));function a(t){return t&&t.__esModule?t:{default:t}}function r(t){this.config=t}r.prototype.imageBasePath=null,r.prototype.config=null,r.prototype.createMenu=function(t,e,i,n){if(null!=this.config){var l=this.createConditions(t,i,n),a=this.config.firstChild;this.addItems(t,e,i,n,l,a,null)}},r.prototype.addItems=function(t,e,i,a,r,o,s){for(var u=!1;null!=o;){if("add"==o.nodeName){var d=o.getAttribute("if");if(null==d||r[d]){var h=o.getAttribute("as");h=n.default.get(h)||h;var c=l.default.eval(l.default.getTextContent(o)),p=o.getAttribute("action"),f=o.getAttribute("icon"),g=o.getAttribute("iconCls"),y=o.getAttribute("enabled-if"),m=null==y||r[y];u&&(e.addSeparator(s),u=!1),null!=f&&this.imageBasePath&&(f=this.imageBasePath+f);var v=this.addAction(e,t,h,f,c,p,i,s,g,m);this.addItems(t,e,i,a,r,o.firstChild,v)}}else"separator"==o.nodeName&&(u=!0);o=o.nextSibling}},r.prototype.addAction=function(t,e,i,n,l,a,r,o,s,u){return t.addItem(i,n,(function(t){"function"==typeof l&&l.call(e,e,r,t),null!=a&&e.execute(a,r,t)}),o,s,u)},r.prototype.createConditions=function(t,e,i){var n=t.graph.getModel(),a=n.getChildCount(e),r=[];r.nocell=null==e,r.ncells=t.graph.getSelectionCount()>1,r.notRoot=n.getRoot()!=n.getParent(t.graph.getDefaultParent()),r.cell=null!=e;var o=null!=e&&1==t.graph.getSelectionCount();r.nonEmpty=o&&a>0,r.expandable=o&&t.graph.isCellFoldable(e,!1),r.collapsable=o&&t.graph.isCellFoldable(e,!0),r.validRoot=o&&t.graph.isValidRoot(e),r.emptyValidRoot=r.validRoot&&0==a,r.swimlane=o&&t.graph.isSwimlane(e);for(var s=this.config.getElementsByTagName("condition"),u=0;u<s.length;u++){var d=l.default.eval(l.default.getTextContent(s[u])),h=s[u].getAttribute("name");null!=h&&"function"==typeof d&&(r[h]=d(t,e,i))}return r},r.getName=function(){return"mxDefaultPopupMenu"};e.default=r},911676:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(297336),i(387912),i(497448);var n=u(i(22676)),l=u(i(370608)),a=u(i(37508)),r=u(i(742288)),o=u(i(146880)),s=u(i(132448));function u(t){return t&&t.__esModule?t:{default:t}}function d(t,e){this.editor=e,null!=t&&null!=e&&this.init(t)}d.prototype.editor=null,d.prototype.toolbar=null,d.prototype.resetHandler=null,d.prototype.spacing=4,d.prototype.connectOnDrop=!1,d.prototype.init=function(t){null!=t&&(this.toolbar=new a.default(t),this.toolbar.addListener(l.default.SELECT,r.default.bind(this,(function(t,e){var i=e.getProperty("function");this.editor.insertFunction=null!=i?r.default.bind(this,(function(){i.apply(this,arguments),this.toolbar.resetMode()})):null}))),this.resetHandler=r.default.bind(this,(function(){null!=this.toolbar&&this.toolbar.resetMode(!0)})),this.editor.graph.addListener(l.default.DOUBLE_CLICK,this.resetHandler),this.editor.addListener(l.default.ESCAPE,this.resetHandler))},d.prototype.addItem=function(t,e,i,n){var l=r.default.bind(this,(function(){null!=i&&i.length>0&&this.editor.execute(i)}));return this.toolbar.addItem(t,e,l,n)},d.prototype.addSeparator=function(t){t=t||n.default.imageBasePath+"/separator.gif",this.toolbar.addSeparator(t)},d.prototype.addCombo=function(){return this.toolbar.addCombo()},d.prototype.addActionCombo=function(t){return this.toolbar.addActionCombo(t)},d.prototype.addActionOption=function(t,e,i){var n=r.default.bind(this,(function(){this.editor.execute(i)}));this.addOption(t,e,n)},d.prototype.addOption=function(t,e,i){return this.toolbar.addOption(t,e,i)},d.prototype.addMode=function(t,e,i,n,l){var a=r.default.bind(this,(function(){this.editor.setMode(i),null!=l&&l(this.editor)}));return this.toolbar.addSwitchMode(t,e,a,n)},d.prototype.addPrototype=function(t,e,i,n,a,o){var s=r.default.bind(this,(function(){return"function"==typeof i?i():null!=i?this.editor.graph.cloneCells([i])[0]:null})),u=r.default.bind(this,(function(t,e){"function"==typeof a?a(this.editor,s(),t,e):this.drop(s(),t,e),this.toolbar.resetMode(),l.default.consume(t)})),d=this.toolbar.addMode(t,e,u,n,null,o);return this.installDropHandler(d,(function(t,e,i){u(e,i)})),d},d.prototype.drop=function(t,e,i){var n=this.editor.graph,l=n.getModel();if(null!=i&&!l.isEdge(i)&&this.connectOnDrop&&n.isCellConnectable(i))this.connect(t,e,i);else{for(;null!=i&&!n.isValidDropTarget(i,[t],e);)i=l.getParent(i);this.insert(t,e,i)}},d.prototype.insert=function(t,e,i){var n=this.editor.graph;if(n.canImportCell(t)){var a=l.default.getClientX(e),r=l.default.getClientY(e),o=s.default.convertPoint(n.container,a,r);return n.isSplitEnabled()&&n.isSplitTarget(i,[t],e)?n.splitEdge(i,[t],null,o.x,o.y):this.editor.addVertex(i,t,o.x,o.y)}return null},d.prototype.connect=function(t,e,i){var n=this.editor.graph,l=n.getModel();if(null!=i&&n.isCellConnectable(t)&&n.isEdgeValid(null,i,t)){var a=null;l.beginUpdate();try{var r=l.getGeometry(i),s=l.getGeometry(t).clone();s.x=r.x+(r.width-s.width)/2,s.y=r.y+(r.height-s.height)/2;var u=this.spacing*n.gridSize,d=20*l.getDirectedEdgeCount(i,!0);this.editor.horizontalFlow?s.x+=(s.width+r.width)/2+u+d:s.y+=(s.height+r.height)/2+u+d,t.setGeometry(s);var h=l.getParent(i);if(n.addCell(t,h),n.constrainChild(t),a=this.editor.createEdge(i,t),null==l.getGeometry(a)){var c=new o.default;c.relative=!0,l.setGeometry(a,c)}n.addEdge(a,h,i,t)}finally{l.endUpdate()}n.setSelectionCells([t,a]),n.scrollCellToVisible(t)}},d.prototype.installDropHandler=function(t,e){var i=document.createElement("img");i.setAttribute("src",t.getAttribute("src"));var a=r.default.bind(this,(function(n){i.style.width=2*t.offsetWidth+"px",i.style.height=2*t.offsetHeight+"px",s.default.makeDraggable(t,this.editor.graph,e,i),l.default.removeListener(i,"load",a)}));n.default.IS_IE?a():l.default.addListener(i,"load",a)},d.prototype.destroy=function(){null!=this.resetHandler&&(this.editor.graph.removeListener("dblclick",this.resetHandler),this.editor.removeListener("escape",this.resetHandler),this.resetHandler=null),null!=this.toolbar&&(this.toolbar.destroy(),this.toolbar=null)},d.getName=function(){return"mxDefaultToolbar"};e.default=d},591108:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(835164);var n,l=(n=i(821424))&&n.__esModule?n:{default:n};function a(){this.clear()}a.prototype.map=null,a.prototype.clear=function(){this.map={}},a.prototype.get=function(t){var e=l.default.get(t);return this.map[e]},a.prototype.put=function(t,e){var i=l.default.get(t),n=this.map[i];return this.map[i]=e,n},a.prototype.remove=function(t){var e=l.default.get(t),i=this.map[e];return delete this.map[e],i},a.prototype.getKeys=function(){var t=[];for(var e in this.map)t.push(e);return t},a.prototype.getValues=function(){var t=[];for(var e in this.map)t.push(this.map[e]);return t},a.prototype.visit=function(t){for(var e in this.map)t(e,this.map[e])};e.default=a},185224:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(297336),i(571176);var n=a(i(370608)),l=a(i(742288));function a(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if("div"==t.nodeName.toLowerCase()){null==e&&(e=window),this.div=t;var i=l.default.getCurrentStyle(t);null!=i&&(this.resizeWidth="auto"==i.width,this.resizeHeight="auto"==i.height),n.default.addListener(e,"resize",l.default.bind(this,(function(t){this.handlingResize||(this.handlingResize=!0,this.resize(),this.handlingResize=!1)}))),this.resize()}}r.prototype.resizeWidth=!0,r.prototype.resizeHeight=!0,r.prototype.handlingResize=!1,r.prototype.resize=function(){var t=this.getDocumentWidth(),e=this.getDocumentHeight(),i=parseInt(this.div.style.left),n=parseInt(this.div.style.right),l=parseInt(this.div.style.top),a=parseInt(this.div.style.bottom);this.resizeWidth&&!isNaN(i)&&!isNaN(n)&&i>=0&&n>=0&&t-n-i>0&&(this.div.style.width=t-n-i+"px"),this.resizeHeight&&!isNaN(l)&&!isNaN(a)&&l>=0&&a>=0&&e-l-a>0&&(this.div.style.height=e-l-a+"px")},r.prototype.getDocumentWidth=function(){return document.body.clientWidth},r.prototype.getDocumentHeight=function(){return document.body.clientHeight};e.default=r},784216:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(106208);var n=o(i(742288)),l=o(i(247644)),a=o(i(656988)),r=o(i(790448));function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e,i,n){a.default.call(this),this.bounds=t,this.fill=e,this.stroke=i,this.strokewidth=null!=n?n:1}n.default.extend(s,a.default),s.prototype.vmlScale=10,s.prototype.paintBackground=function(t,e,i,n,l){t.ellipse(e,i,n,l),t.fillAndStroke()},s.prototype.paintForeground=function(t,e,i,l,a){if(!this.outline){var o=n.default.getValue(this.style,r.default.STYLE_MARGIN,Math.min(3+this.strokewidth,Math.min(l/5,a/5)));e+=o,i+=o,a-=2*o,(l-=2*o)>0&&a>0&&t.ellipse(e,i,l,a),t.stroke()}},s.prototype.getLabelBounds=function(t){var e=n.default.getValue(this.style,r.default.STYLE_MARGIN,Math.min(3+this.strokewidth,Math.min(t.width/5/this.scale,t.height/5/this.scale)))*this.scale;return new l.default(t.x+e,t.y+e,t.width-2*e,t.height-2*e)};e.default=s},469524:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(297336),i(387912),i(571176),i(497448);var n=h(i(655696)),l=h(i(164460)),a=h(i(710952)),r=h(i(742288)),o=h(i(247644)),s=h(i(667016)),u=h(i(790448)),d=h(i(22676));function h(t){return t&&t.__esModule?t:{default:t}}function c(t,e){this.element=t,this.dropHandler=e,a.default.addGestureListeners(t,r.default.bind(this,(function(t){this.mouseDown(t)}))),a.default.addListener(t,"dragstart",(function(t){a.default.consume(t)})),this.eventConsumer=function(t,e){var i=e.getProperty("eventName"),n=e.getProperty("event");i!=a.default.MOUSE_DOWN&&n.consume()}}c.prototype.element=null,c.prototype.dropHandler=null,c.prototype.dragOffset=null,c.prototype.dragElement=null,c.prototype.previewElement=null,c.prototype.enabled=!0,c.prototype.currentGraph=null,c.prototype.currentDropTarget=null,c.prototype.currentPoint=null,c.prototype.currentGuide=null,c.prototype.currentHighlight=null,c.prototype.autoscroll=!0,c.prototype.guidesEnabled=!0,c.prototype.gridEnabled=!0,c.prototype.highlightDropTargets=!0,c.prototype.dragElementZIndex=100,c.prototype.dragElementOpacity=70,c.prototype.isEnabled=function(){return this.enabled},c.prototype.setEnabled=function(t){this.enabled=t},c.prototype.isGuidesEnabled=function(){return this.guidesEnabled},c.prototype.setGuidesEnabled=function(t){this.guidesEnabled=t},c.prototype.isGridEnabled=function(){return this.gridEnabled},c.prototype.setGridEnabled=function(t){this.gridEnabled=t},c.prototype.getGraphForEvent=function(t){return null},c.prototype.getDropTarget=function(t,e,i,n){return t.getCellAt(e,i)},c.prototype.createDragElement=function(t){return this.element.cloneNode(!0)},c.prototype.createPreviewElement=function(t){return null},c.prototype.isActive=function(){return null!=this.mouseMoveHandler},c.prototype.reset=function(){null!=this.currentGraph&&(this.dragExit(this.currentGraph),this.currentGraph=null),this.removeDragElement(),this.removeListeners(),this.stopDrag()},c.prototype.mouseDown=function(t){this.enabled&&!a.default.isConsumed(t)&&null==this.mouseMoveHandler&&(this.startDrag(t),this.mouseMoveHandler=r.default.bind(this,this.mouseMove),this.mouseUpHandler=r.default.bind(this,this.mouseUp),a.default.addGestureListeners(document,null,this.mouseMoveHandler,this.mouseUpHandler),d.default.IS_TOUCH&&!a.default.isMouseEvent(t)&&(this.eventSource=a.default.getSource(t),a.default.addGestureListeners(this.eventSource,null,this.mouseMoveHandler,this.mouseUpHandler)))},c.prototype.startDrag=function(t){this.dragElement=this.createDragElement(t),this.dragElement.style.position="absolute",this.dragElement.style.zIndex=this.dragElementZIndex,r.default.setOpacity(this.dragElement,this.dragElementOpacity)},c.prototype.stopDrag=function(){this.removeDragElement()},c.prototype.removeDragElement=function(){null!=this.dragElement&&(null!=this.dragElement.parentNode&&this.dragElement.parentNode.removeChild(this.dragElement),this.dragElement=null)},c.prototype.graphContainsEvent=function(t,e){var i=a.default.getClientX(e),n=a.default.getClientY(e),o=r.default.getOffset(t.container,null,l.default),s=r.default.getScrollOrigin(null,l.default);return i>=o.x-s.x&&n>=o.y-s.y&&i<=o.x-s.x+t.container.offsetWidth&&n<=o.y-s.y+t.container.offsetHeight},c.prototype.mouseMove=function(t){var e=this.getGraphForEvent(t);if(null==e||this.graphContainsEvent(e,t)||(e=null),e!=this.currentGraph&&(null!=this.currentGraph&&this.dragExit(this.currentGraph,t),this.currentGraph=e,null!=this.currentGraph&&this.dragEnter(this.currentGraph,t)),null!=this.currentGraph&&this.dragOver(this.currentGraph,t),null==this.dragElement||null!=this.previewElement&&"visible"==this.previewElement.style.visibility)null!=this.dragElement&&(this.dragElement.style.visibility="hidden");else{var i=a.default.getClientX(t),n=a.default.getClientY(t);null==this.dragElement.parentNode&&document.body.appendChild(this.dragElement),this.dragElement.style.visibility="visible",null!=this.dragOffset&&(i+=this.dragOffset.x,n+=this.dragOffset.y);var o=r.default.getDocumentScrollOrigin(document,l.default);this.dragElement.style.left=i+o.x+"px",this.dragElement.style.top=n+o.y+"px"}a.default.consume(t)},c.prototype.mouseUp=function(t){if(null!=this.currentGraph){if(null!=this.currentPoint&&(null==this.previewElement||"hidden"!=this.previewElement.style.visibility)){var e=this.currentGraph.view.scale,i=this.currentGraph.view.translate,n=this.currentPoint.x/e-i.x,l=this.currentPoint.y/e-i.y;this.drop(this.currentGraph,t,this.currentDropTarget,n,l)}this.dragExit(this.currentGraph),this.currentGraph=null}this.stopDrag(),this.removeListeners(),a.default.consume(t)},c.prototype.removeListeners=function(){null!=this.eventSource&&(a.default.removeGestureListeners(this.eventSource,null,this.mouseMoveHandler,this.mouseUpHandler),this.eventSource=null),a.default.removeGestureListeners(document,null,this.mouseMoveHandler,this.mouseUpHandler),this.mouseMoveHandler=null,this.mouseUpHandler=null},c.prototype.dragEnter=function(t,e){t.isMouseDown=!0,t.isMouseTrigger=a.default.isMouseEvent(e),this.previewElement=this.createPreviewElement(t),this.isGuidesEnabled()&&null!=this.previewElement&&(this.currentGuide=new n.default(t,t.graphHandler.getGuideStates())),this.highlightDropTargets&&(this.currentHighlight=new s.default(t,u.default.DROP_TARGET_COLOR)),t.addListener(a.default.FIRE_MOUSE_EVENT,this.eventConsumer)},c.prototype.dragExit=function(t,e){this.currentDropTarget=null,this.currentPoint=null,t.isMouseDown=!1,t.removeListener(this.eventConsumer),null!=this.previewElement&&(null!=this.previewElement.parentNode&&this.previewElement.parentNode.removeChild(this.previewElement),this.previewElement=null),null!=this.currentGuide&&(this.currentGuide.destroy(),this.currentGuide=null),null!=this.currentHighlight&&(this.currentHighlight.destroy(),this.currentHighlight=null)},c.prototype.dragOver=function(t,e){var i=r.default.getOffset(t.container,null,l.default),n=r.default.getScrollOrigin(t.container,l.default),s=a.default.getClientX(e)-i.x+n.x-t.panDx,u=a.default.getClientY(e)-i.y+n.y-t.panDy;if(t.autoScroll&&(null==this.autoscroll||this.autoscroll)&&t.scrollPointToVisible(s,u,t.autoExtend),null!=this.currentHighlight&&t.isDropEnabled()){this.currentDropTarget=this.getDropTarget(t,s,u,e);var d=t.getView().getState(this.currentDropTarget);this.currentHighlight.highlight(d)}if(null!=this.previewElement){null==this.previewElement.parentNode&&(t.container.appendChild(this.previewElement),this.previewElement.style.zIndex="3",this.previewElement.style.position="absolute");var h=this.isGridEnabled()&&t.isGridEnabledEvent(e),c=!0;if(null!=this.currentGuide&&this.currentGuide.isEnabledForEvent(e)){var p=parseInt(this.previewElement.style.width),f=parseInt(this.previewElement.style.height),g=new o.default(0,0,p,f),y=new l.default(s,u);c=!1,s=(y=this.currentGuide.move(g,y,h)).x,u=y.y}else if(h){var m=t.view.scale,v=t.view.translate,E=t.gridSize/2;s=(t.snap(s/m-v.x-E)+v.x)*m,u=(t.snap(u/m-v.y-E)+v.y)*m}null!=this.currentGuide&&c&&this.currentGuide.hide(),null!=this.previewOffset&&(s+=this.previewOffset.x,u+=this.previewOffset.y),this.previewElement.style.left=Math.round(s)+"px",this.previewElement.style.top=Math.round(u)+"px",this.previewElement.style.visibility="visible"}this.currentPoint=new l.default(s,u)},c.prototype.drop=function(t,e,i,n,l){this.dropHandler(t,e,i,n,l),"hidden"!=t.container.style.visibility&&t.container.focus()};e.default=c},339024:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(106208),i(693917),i(927184),i(297336),i(846428);var n=v(i(370608)),l=v(i(247644)),a=v(i(833800)),r=v(i(22676)),o=v(i(164460)),s=v(i(351612)),u=v(i(736616)),d=v(i(742288)),c=v(i(62112)),p=v(i(235680)),f=v(i(790448)),g=v(i(886136)),y=v(i(794644)),m=i(384904);function v(t){return t&&t.__esModule?t:{default:t}}function E(t){null!=t&&(this.state=t,this.init(),this.escapeHandler=d.default.bind(this,(function(t,e){this.reset()})),this.state.view.graph.addListener(n.default.ESCAPE,this.escapeHandler))}E.prototype.graph=null,E.prototype.state=null,E.prototype.marker=null,E.prototype.constraintHandler=null,E.prototype.error=null,E.prototype.shape=null,E.prototype.bends=null,E.prototype.labelShape=null,E.prototype.cloneEnabled=!0,E.prototype.addEnabled=!1,E.prototype.removeEnabled=!1,E.prototype.dblClickRemoveEnabled=!1,E.prototype.mergeRemoveEnabled=!1,E.prototype.straightRemoveEnabled=!1,E.prototype.virtualBendsEnabled=!1,E.prototype.virtualBendOpacity=20,E.prototype.parentHighlightEnabled=!1,E.prototype.preferHtml=!1,E.prototype.allowHandleBoundsCheck=!0,E.prototype.snapToTerminals=!1,E.prototype.handleImage=null,E.prototype.tolerance=0,E.prototype.outlineConnect=!1,E.prototype.manageLabelHandle=!1,E.prototype.init=function(){if(this.graph=this.state.view.graph,this.marker=this.createMarker(),this.constraintHandler=new s.default(this.graph),this.points=[],this.abspoints=this.getSelectionPoints(this.state),this.shape=this.createSelectionShape(this.abspoints),this.shape.dialect=this.graph.dialect!=f.default.DIALECT_SVG?f.default.DIALECT_MIXEDHTML:f.default.DIALECT_SVG,this.shape.init(this.graph.getView().getOverlayPane()),this.shape.pointerEvents=!1,this.shape.setCursor(f.default.CURSOR_MOVABLE_EDGE),n.default.redirectMouseEvents(this.shape.node,this.graph,this.state),this.preferHtml=null!=this.state.text&&this.state.text.node.parentNode==this.graph.container,!this.preferHtml){var t=this.state.getVisibleTerminalState(!0);if(null!=t&&(this.preferHtml=null!=t.text&&t.text.node.parentNode==this.graph.container),!this.preferHtml){var e=this.state.getVisibleTerminalState(!1);null!=e&&(this.preferHtml=null!=e.text&&e.text.node.parentNode==this.graph.container)}}if(this.parentHighlightEnabled){var i=this.graph.model.getParent(this.state.cell);if(this.graph.model.isVertex(i)){var l=this.graph.view.getState(i);null!=l&&(this.parentHighlight=this.createParentHighlightShape(l),this.parentHighlight.dialect=this.graph.dialect!=f.default.DIALECT_SVG?f.default.DIALECT_VML:f.default.DIALECT_SVG,this.parentHighlight.pointerEvents=!1,this.parentHighlight.rotation=Number(l.style[f.default.STYLE_ROTATION]||"0"),this.parentHighlight.init(this.graph.getView().getOverlayPane()))}}0!==this.shape.style.editable&&(this.graph.getSelectionCount()<u.default.prototype.maxCells||u.default.prototype.maxCells<=0)&&(this.bends=this.createBends(),this.isVirtualBendsEnabled()&&(this.virtualBends=this.createVirtualBends())),this.label=new o.default(this.state.absoluteOffset.x,this.state.absoluteOffset.y),this.labelShape=this.createLabelHandleShape(),this.initBend(this.labelShape),this.labelShape.setCursor(f.default.CURSOR_LABEL_HANDLE),this.customHandles=this.createCustomHandles(),this.redraw()},E.prototype.createCustomHandles=function(){return null},E.prototype.isVirtualBendsEnabled=function(t){return this.virtualBendsEnabled&&(null==this.state.style[f.default.STYLE_EDGE]||this.state.style[f.default.STYLE_EDGE]==f.default.NONE||1==this.state.style[f.default.STYLE_NOEDGESTYLE])&&"arrow"!=d.default.getValue(this.state.style,f.default.STYLE_SHAPE,null)},E.prototype.isAddPointEvent=function(t){return n.default.isShiftDown(t)},E.prototype.isRemovePointEvent=function(t){return n.default.isShiftDown(t)},E.prototype.getSelectionPoints=function(t){return t.absolutePoints},E.prototype.createParentHighlightShape=function(t){var e=new a.default(t,null,this.getSelectionColor());return e.strokewidth=this.getSelectionStrokeWidth(),e.isDashed=this.isSelectionDashed(),e},E.prototype.createSelectionShape=function(t){var e=new this.state.shape.constructor;return e.outline=!0,e.apply(this.state),e.isDashed=this.isSelectionDashed(),e.stroke=this.getSelectionColor(),e.isShadow=!1,e},E.prototype.getSelectionColor=function(){return(0,m.isBizFlow)(this.graph.flowType)?f.default.BIZFLOW_EDGE_SELECTION_COLOR:f.default.EDGE_SELECTION_COLOR},E.prototype.getSelectionStrokeWidth=function(){return(0,m.isBizFlow)(this.graph.flowType)?f.default.BIZFLOW_EDGE_SELECTION_STROKEWIDTH:f.default.EDGE_SELECTION_STROKEWIDTH},E.prototype.isSelectionDashed=function(){return(0,m.isBizFlow)(this.graph.flowType)?f.default.BIZFLOW_EDGE_SELECTION_DASHED:f.default.EDGE_SELECTION_DASHED},E.prototype.isConnectableCell=function(t){return!0},E.prototype.getCellAt=function(t,e){return this.outlineConnect?null:this.graph.getCellAt(t,e)},E.prototype.createMarker=function(){var t=new c.default(this.graph),e=this;return t.getCell=function(t){var i=c.default.prototype.getCell.apply(this,arguments);if(i!=e.state.cell&&null!=i||null==e.currentPoint||(i=e.graph.getCellAt(e.currentPoint.x,e.currentPoint.y)),null!=i&&!this.graph.isCellConnectable(i)){var n=this.graph.getModel().getParent(i);this.graph.getModel().isVertex(n)&&this.graph.isCellConnectable(n)&&(i=n)}var l=e.graph.getModel();return(this.graph.isSwimlane(i)&&null!=e.currentPoint&&this.graph.hitsSwimlaneContent(i,e.currentPoint.x,e.currentPoint.y)||!e.isConnectableCell(i)||i==e.state.cell||null!=i&&!e.graph.connectableEdges&&l.isEdge(i)||l.isAncestor(e.state.cell,i))&&(i=null),this.graph.isCellConnectable(i)||(i=null),i},t.isValidState=function(t){var i=e.graph.getModel(),n=e.graph.view.getTerminalPort(t,e.graph.view.getState(i.getTerminal(e.state.cell,!e.isSource)),!e.isSource),l=null!=n?n.cell:null,a=e.isSource?t.cell:l,r=e.isSource?l:t.cell;return e.error=e.validateConnection(a,r),null==e.error},t},E.prototype.validateConnection=function(t,e){return this.graph.getEdgeValidationError(this.state.cell,t,e)},E.prototype.createBends=function(){for(var t=this.state.cell,e=[],i=0;i<this.abspoints.length;i++)if(this.isHandleVisible(i)){var n=0==i,l=i==this.abspoints.length-1,a=n||l;(a||this.graph.isCellBendable(t))&&d.default.bind(this,(function(t){var n=this.createHandleShape(t);this.initBend(n,d.default.bind(this,d.default.bind(this,(function(){this.dblClickRemoveEnabled&&this.removePoint(this.state,t)})))),this.isHandleEnabled(i)&&n.setCursor(a?f.default.CURSOR_TERMINAL_HANDLE:f.default.CURSOR_BEND_HANDLE),e.push(n),a||(this.points.push(new o.default(0,0)),n.node.style.visibility="hidden")}))(i)}return e},E.prototype.createVirtualBends=function(){var t=this.state.cell,e=(this.abspoints[0],[]);if(this.graph.isCellBendable(t))for(var i=1;i<this.abspoints.length;i++)d.default.bind(this,(function(t){this.initBend(t),t.setCursor(f.default.CURSOR_VIRTUAL_BEND_HANDLE),e.push(t)}))(this.createHandleShape());return e},E.prototype.isHandleEnabled=function(t){return!0},E.prototype.isHandleVisible=function(t){var e=this.state.getVisibleTerminalState(!0),i=this.state.getVisibleTerminalState(!1),n=this.graph.getCellGeometry(this.state.cell);return(null!=n?this.graph.view.getEdgeStyle(this.state,n.points,e,i):null)!=g.default.EntityRelation||0==t||t==this.abspoints.length-1},E.prototype.createHandleShape=function(t){if(null!=this.handleImage){var e=new y.default(new l.default(0,0,this.handleImage.width,this.handleImage.height),this.handleImage.src);return e.preserveImageAspect=!1,e}var i=f.default.HANDLE_SIZE;return this.preferHtml&&(i-=1),new a.default(new l.default(0,0,i,i),f.default.HANDLE_FILLCOLOR,f.default.HANDLE_STROKECOLOR)},E.prototype.createLabelHandleShape=function(){if(null!=this.labelHandleImage){var t=new y.default(new l.default(0,0,this.labelHandleImage.width,this.labelHandleImage.height),this.labelHandleImage.src);return t.preserveImageAspect=!1,t}var e=f.default.LABEL_HANDLE_SIZE;return new a.default(new l.default(0,0,e,e),f.default.LABEL_HANDLE_FILLCOLOR,f.default.HANDLE_STROKECOLOR)},E.prototype.initBend=function(t,e){this.preferHtml?(t.dialect=f.default.DIALECT_STRICTHTML,t.init(this.graph.container)):(t.dialect=this.graph.dialect!=f.default.DIALECT_SVG?f.default.DIALECT_MIXEDHTML:f.default.DIALECT_SVG,t.init(this.graph.getView().getOverlayPane())),n.default.redirectMouseEvents(t.node,this.graph,this.state,null,null,null,e),(r.default.IS_QUIRKS||8==document.documentMode)&&n.default.addListener(t.node,"dragstart",(function(t){return n.default.consume(t),!1})),r.default.IS_TOUCH&&t.node.setAttribute("pointer-events","none")},E.prototype.getHandleForEvent=function(t){var e=n.default.isMouseEvent(t.getEvent())?1:this.tolerance,i=this.allowHandleBoundsCheck&&(r.default.IS_IE||e>0)?new l.default(t.getGraphX()-e,t.getGraphY()-e,2*e,2*e):null,a=null,o=null;function s(e){if(null!=e&&"none"!=e.node.style.display&&"hidden"!=e.node.style.visibility&&(t.isSource(e)||null!=i&&d.default.intersects(e.bounds,i))){var n=t.getGraphX()-e.bounds.getCenterX(),l=t.getGraphY()-e.bounds.getCenterY(),r=n*n+l*l;if(null==a||r<=a)return a=r,!0}return!1}if(null!=this.customHandles&&this.isCustomHandleEvent(t))for(var u=this.customHandles.length-1;u>=0;u--)if(s(this.customHandles[u].shape))return n.default.CUSTOM_HANDLE-u;if((t.isSource(this.state.text)||s(this.labelShape))&&(o=n.default.LABEL_HANDLE),null!=this.bends)for(u=0;u<this.bends.length;u++)s(this.bends[u])&&(o=u);if(null!=this.virtualBends&&this.isAddVirtualBendEvent(t))for(u=0;u<this.virtualBends.length;u++)s(this.virtualBends[u])&&(o=n.default.VIRTUAL_HANDLE-u);return o},E.prototype.isAddVirtualBendEvent=function(t){return!0},E.prototype.isCustomHandleEvent=function(t){return!0},E.prototype.mouseDown=function(t,e){var i=this.getHandleForEvent(e);if(null!=this.bends&&null!=this.bends[i]){var l=this.bends[i].bounds;this.snapPoint=new o.default(l.getCenterX(),l.getCenterY())}this.addEnabled&&null==i&&this.isAddPointEvent(e.getEvent())?(this.addPoint(this.state,e.getEvent()),e.consume()):null!=i&&!e.isConsumed()&&this.graph.isEnabled()&&(this.removeEnabled&&this.isRemovePointEvent(e.getEvent())?this.removePoint(this.state,i):(i!=n.default.LABEL_HANDLE||this.graph.isLabelMovable(e.getCell()))&&(i<=n.default.VIRTUAL_HANDLE&&d.default.setOpacity(this.virtualBends[n.default.VIRTUAL_HANDLE-i].node,100),this.start(e.getX(),e.getY(),i)),e.consume())},E.prototype.start=function(t,e,i){if(this.startX=t,this.startY=e,this.isSource=null!=this.bends&&0==i,this.isTarget=null!=this.bends&&i==this.bends.length-1,this.isLabel=i==n.default.LABEL_HANDLE,this.isSource||this.isTarget){var l=this.state.cell,a=this.graph.model.getTerminal(l,this.isSource);(null==a&&this.graph.isTerminalPointMovable(l,this.isSource)||null!=a&&this.graph.isCellDisconnectable(l,a,this.isSource))&&(this.index=i)}else this.index=i;if(this.index<=n.default.CUSTOM_HANDLE&&this.index>n.default.VIRTUAL_HANDLE&&null!=this.customHandles)for(var r=0;r<this.customHandles.length;r++)r!=n.default.CUSTOM_HANDLE-this.index&&this.customHandles[r].setVisible(!1)},E.prototype.clonePreviewState=function(t,e){return this.state.clone()},E.prototype.getSnapToTerminalTolerance=function(){return this.graph.gridSize*this.graph.view.scale/2},E.prototype.updateHint=function(t,e){},E.prototype.removeHint=function(){},E.prototype.roundLength=function(t){return Math.round(t)},E.prototype.isSnapToTerminalsEvent=function(t){return this.snapToTerminals&&!n.default.isAltDown(t.getEvent())},E.prototype.getPointForEvent=function(t){var e=this.graph.getView(),i=e.scale,n=new o.default(this.roundLength(t.getGraphX()/i)*i,this.roundLength(t.getGraphY()/i)*i),l=this.getSnapToTerminalTolerance(),a=!1,r=!1;if(l>0&&this.isSnapToTerminalsEvent(t)){var s=function(t){if(null!=t){var e=t.x;Math.abs(n.x-e)<l&&(n.x=e,a=!0);var i=t.y;Math.abs(n.y-i)<l&&(n.y=i,r=!0)}},u=function(t){null!=t&&s.call(this,new o.default(e.getRoutingCenterX(t),e.getRoutingCenterY(t)))};if(u.call(this,this.state.getVisibleTerminalState(!0)),u.call(this,this.state.getVisibleTerminalState(!1)),null!=this.state.absolutePoints)for(var d=0;d<this.state.absolutePoints.length;d++)s.call(this,this.state.absolutePoints[d])}if(this.graph.isGridEnabledEvent(t.getEvent())){var h=e.translate;a||(n.x=(this.graph.snap(n.x/i-h.x)+h.x)*i),r||(n.y=(this.graph.snap(n.y/i-h.y)+h.y)*i)}return n},E.prototype.getPreviewTerminalState=function(t){if(this.constraintHandler.update(t,this.isSource,!0,t.isSource(this.marker.highlight.shape)?null:this.currentPoint),null!=this.constraintHandler.currentFocus&&null!=this.constraintHandler.currentConstraint){null!=this.marker.highlight&&null!=this.marker.highlight.state&&this.marker.highlight.state.cell==this.constraintHandler.currentFocus.cell?"transparent"!=this.marker.highlight.shape.stroke&&(this.marker.highlight.shape.stroke="transparent",this.marker.highlight.repaint()):this.marker.markCell(this.constraintHandler.currentFocus.cell,"transparent");var e=this.graph.getModel(),i=this.graph.view.getTerminalPort(this.state,this.graph.view.getState(e.getTerminal(this.state.cell,!this.isSource)),!this.isSource),n=null!=i?i.cell:null,l=this.isSource?this.constraintHandler.currentFocus.cell:n,a=this.isSource?n:this.constraintHandler.currentFocus.cell;this.error=this.validateConnection(l,a);var r=null;return null==this.error?r=this.constraintHandler.currentFocus:this.constraintHandler.reset(),r}return this.graph.isIgnoreTerminalEvent(t.getEvent())?(this.marker.reset(),null):(this.marker.process(t),this.marker.getValidState())},E.prototype.getPreviewPoints=function(t,e){var i=this.graph.getCellGeometry(this.state.cell),l=null!=i.points?i.points.slice():null,a=new o.default(t.x,t.y),r=null;if(this.isSource||this.isTarget)this.graph.resetEdgesOnConnect&&(l=null);else if(this.convertPoint(a,!1),null==l)l=[a];else{if(this.index<=n.default.VIRTUAL_HANDLE&&l.splice(n.default.VIRTUAL_HANDLE-this.index,0,a),!this.isSource&&!this.isTarget){for(var s=0;s<this.bends.length;s++)if(s!=this.index){var u=this.bends[s];null!=u&&d.default.contains(u.bounds,t.x,t.y)&&(this.index<=n.default.VIRTUAL_HANDLE?l.splice(n.default.VIRTUAL_HANDLE-this.index,1):l.splice(this.index-1,1),r=l)}if(null==r&&this.straightRemoveEnabled&&(null==e||!n.default.isAltDown(e.getEvent()))){var h=this.graph.tolerance*this.graph.tolerance,c=this.state.absolutePoints.slice();c[this.index]=t;var p=this.state.getVisibleTerminalState(!0);if(null!=p)null!=(f=this.graph.getConnectionConstraint(this.state,p,!0))&&null!=this.graph.getConnectionPoint(p,f)||(c[0]=new o.default(p.view.getRoutingCenterX(p),p.view.getRoutingCenterY(p)));var f,g=this.state.getVisibleTerminalState(!1);if(null!=g)null!=(f=this.graph.getConnectionConstraint(this.state,g,!1))&&null!=this.graph.getConnectionPoint(g,f)||(c[c.length-1]=new o.default(g.view.getRoutingCenterX(g),g.view.getRoutingCenterY(g)));!function(t,e){t>0&&t<c.length-1&&d.default.ptSegDistSq(c[t-1].x,c[t-1].y,c[t+1].x,c[t+1].y,e.x,e.y)<h&&(l.splice(t-1,1),r=l)}(this.index,t)}}null==r&&this.index>n.default.VIRTUAL_HANDLE&&(l[this.index-1]=a)}return null!=r?r:l},E.prototype.isOutlineConnectEvent=function(t){var e=d.default.getOffset(this.graph.container,null,o.default),i=t.getEvent(),l=n.default.getClientX(i),a=n.default.getClientY(i),r=document.documentElement,s=(window.pageXOffset||r.scrollLeft)-(r.clientLeft||0),u=(window.pageYOffset||r.scrollTop)-(r.clientTop||0),h=this.currentPoint.x-this.graph.container.scrollLeft+e.x-s,c=this.currentPoint.y-this.graph.container.scrollTop+e.y-u;return this.outlineConnect&&!n.default.isShiftDown(t.getEvent())&&(t.isSource(this.marker.highlight.shape)||n.default.isAltDown(t.getEvent())&&null!=t.getState()||this.marker.highlight.isHighlightAt(l,a)||(h!=l||c!=a)&&null==t.getState()&&this.marker.highlight.isHighlightAt(h,c))},E.prototype.updatePreviewState=function(t,e,i,n,l){var a=this.isSource?i:this.state.getVisibleTerminalState(!0),r=this.isTarget?i:this.state.getVisibleTerminalState(!1),s=this.graph.getConnectionConstraint(t,a,!0),u=this.graph.getConnectionConstraint(t,r,!1),d=this.constraintHandler.currentConstraint;if(null==d&&l&&(null!=i?(n.isSource(this.marker.highlight.shape)&&(e=new o.default(n.getGraphX(),n.getGraphY())),d=this.graph.getOutlineConstraint(e,i,n),this.constraintHandler.setFocus(n,i,this.isSource),this.constraintHandler.currentConstraint=d,this.constraintHandler.currentPoint=e):d=new p.default),this.outlineConnect&&null!=this.marker.highlight&&null!=this.marker.highlight.shape){var h=this.graph.view.scale;null!=this.constraintHandler.currentConstraint&&null!=this.constraintHandler.currentFocus?(this.marker.highlight.shape.stroke=l?f.default.OUTLINE_HIGHLIGHT_COLOR:"transparent",this.marker.highlight.shape.strokewidth=f.default.OUTLINE_HIGHLIGHT_STROKEWIDTH/h/h,this.marker.highlight.repaint()):this.marker.hasValidState()&&(this.marker.highlight.shape.stroke=this.marker.getValidState()==n.getState()?f.default.DEFAULT_VALID_COLOR:"transparent",this.marker.highlight.shape.strokewidth=f.default.HIGHLIGHT_STROKEWIDTH/h/h,this.marker.highlight.repaint())}this.isSource?s=d:this.isTarget&&(u=d),(this.isSource||this.isTarget)&&(null!=d&&null!=d.point?(t.style[this.isSource?f.default.STYLE_EXIT_X:f.default.STYLE_ENTRY_X]=d.point.x,t.style[this.isSource?f.default.STYLE_EXIT_Y:f.default.STYLE_ENTRY_Y]=d.point.y):(delete t.style[this.isSource?f.default.STYLE_EXIT_X:f.default.STYLE_ENTRY_X],delete t.style[this.isSource?f.default.STYLE_EXIT_Y:f.default.STYLE_ENTRY_Y])),t.setVisibleTerminalState(a,!0),t.setVisibleTerminalState(r,!1),this.isSource&&null==a||t.view.updateFixedTerminalPoint(t,a,!0,s),this.isTarget&&null==r||t.view.updateFixedTerminalPoint(t,r,!1,u),(this.isSource||this.isTarget)&&null==i&&(t.setAbsoluteTerminalPoint(e,this.isSource),null==this.marker.getMarkedState()&&(this.error=this.graph.allowDanglingEdges?null:"")),t.view.updatePoints(t,this.points,a,r),t.view.updateFloatingTerminalPoints(t,a,r)},E.prototype.mouseMove=function(t,e){if(null!=this.index&&null!=this.marker){if(this.currentPoint=this.getPointForEvent(e),this.error=null,!this.graph.isIgnoreTerminalEvent(e.getEvent())&&n.default.isShiftDown(e.getEvent())&&null!=this.snapPoint&&(Math.abs(this.snapPoint.x-this.currentPoint.x)<Math.abs(this.snapPoint.y-this.currentPoint.y)?this.currentPoint.x=this.snapPoint.x:this.currentPoint.y=this.snapPoint.y),this.index<=n.default.CUSTOM_HANDLE&&this.index>n.default.VIRTUAL_HANDLE)null!=this.customHandles&&this.customHandles[n.default.CUSTOM_HANDLE-this.index].processEvent(e);else if(this.isLabel)this.label.x=this.currentPoint.x,this.label.y=this.currentPoint.y;else{this.points=this.getPreviewPoints(this.currentPoint,e);var i=this.isSource||this.isTarget?this.getPreviewTerminalState(e):null;if(null!=this.constraintHandler.currentConstraint&&null!=this.constraintHandler.currentFocus&&null!=this.constraintHandler.currentPoint)this.currentPoint=this.constraintHandler.currentPoint.clone();else if(this.outlineConnect){var l=!(!this.isSource&&!this.isTarget)&&this.isOutlineConnectEvent(e);l?i=this.marker.highlight.state:null!=i&&i!=e.getState()&&null!=this.marker.highlight.shape&&(this.marker.highlight.shape.stroke="transparent",this.marker.highlight.repaint(),i=null)}var a=this.clonePreviewState(this.currentPoint,null!=i?i.cell:null);this.updatePreviewState(a,this.currentPoint,i,e,l);var o=null==this.error?this.marker.validColor:this.marker.invalidColor;this.setPreviewColor(o),this.abspoints=a.absolutePoints,this.active=!0}this.updateHint(e,this.currentPoint),this.drawPreview(),n.default.consume(e.getEvent()),e.consume()}else r.default.IS_IE&&null!=this.getHandleForEvent(e)&&e.consume(!1)},E.prototype.mouseUp=function(t,e){if(null!=this.index&&null!=this.marker){var i=this.state.cell;if(e.getX()!=this.startX||e.getY()!=this.startY){var l=!this.graph.isIgnoreTerminalEvent(e.getEvent())&&this.graph.isCloneEvent(e.getEvent())&&this.cloneEnabled&&this.graph.isCellsCloneable();if(null!=this.error)this.error.length>0&&this.graph.validationAlert(this.error);else if(this.index<=n.default.CUSTOM_HANDLE&&this.index>n.default.VIRTUAL_HANDLE){if(null!=this.customHandles){var a=this.graph.getModel();a.beginUpdate();try{this.customHandles[n.default.CUSTOM_HANDLE-this.index].execute()}finally{a.endUpdate()}}}else if(this.isLabel)this.moveLabel(this.state,this.label.x,this.label.y);else if(this.isSource||this.isTarget){var r=null;if(null!=this.constraintHandler.currentConstraint&&null!=this.constraintHandler.currentFocus&&(r=this.constraintHandler.currentFocus.cell),null==r&&this.marker.hasValidState()&&null!=this.marker.highlight&&null!=this.marker.highlight.shape&&"transparent"!=this.marker.highlight.shape.stroke&&"white"!=this.marker.highlight.shape.stroke&&(r=this.marker.validState.cell),null!=r)i=this.connect(i,r,this.isSource,l,e);else if(this.graph.isAllowDanglingEdges()){var o=this.abspoints[this.isSource?0:this.abspoints.length-1];o.x=this.roundLength(o.x/this.graph.view.scale-this.graph.view.translate.x),o.y=this.roundLength(o.y/this.graph.view.scale-this.graph.view.translate.y);var s=this.graph.getView().getState(this.graph.getModel().getParent(i));null!=s&&(o.x-=s.origin.x,o.y-=s.origin.y),o.x-=this.graph.panDx/this.graph.view.scale,o.y-=this.graph.panDy/this.graph.view.scale,i=this.changeTerminalPoint(i,o,this.isSource,l)}}else this.active?i=this.changePoints(i,this.points,l):(this.graph.getView().invalidate(this.state.cell),this.graph.getView().validate(this.state.cell))}null!=this.marker&&(this.reset(),i!=this.state.cell&&this.graph.setSelectionCell(i)),e.consume()}},E.prototype.reset=function(){if(this.error=null,this.index=null,this.label=null,this.points=null,this.snapPoint=null,this.active=!1,this.isLabel=!1,this.isSource=!1,this.isTarget=!1,this.livePreview&&null!=this.sizers)for(var t=0;t<this.sizers.length;t++)null!=this.sizers[t]&&(this.sizers[t].node.style.display="");if(null!=this.marker&&this.marker.reset(),null!=this.constraintHandler&&this.constraintHandler.reset(),null!=this.customHandles)for(t=0;t<this.customHandles.length;t++)this.customHandles[t].reset();this.setPreviewColor(f.default.EDGE_SELECTION_COLOR),this.removeHint(),this.redraw()},E.prototype.setPreviewColor=function(t){null!=this.shape&&(this.shape.stroke=t)},E.prototype.convertPoint=function(t,e){var i=this.graph.getView().getScale(),n=this.graph.getView().getTranslate();e&&(t.x=this.graph.snap(t.x),t.y=this.graph.snap(t.y)),t.x=Math.round(t.x/i-n.x),t.y=Math.round(t.y/i-n.y);var l=this.graph.getView().getState(this.graph.getModel().getParent(this.state.cell));return null!=l&&(t.x-=l.origin.x,t.y-=l.origin.y),t},E.prototype.moveLabel=function(t,e,i){var n=this.graph.getModel(),l=n.getGeometry(t.cell);if(null!=l){var a=this.graph.getView().scale;if((l=l.clone()).relative){var r=this.graph.getView().getRelativePoint(t,e,i);l.x=Math.round(1e4*r.x)/1e4,l.y=Math.round(r.y),l.offset=new o.default(0,0);r=this.graph.view.getPoint(t,l);l.offset=new o.default(Math.round((e-r.x)/a),Math.round((i-r.y)/a))}else{var s=t.absolutePoints,u=s[0],d=s[s.length-1];if(null!=u&&null!=d){var h=u.x+(d.x-u.x)/2,c=u.y+(d.y-u.y)/2;l.offset=new o.default(Math.round((e-h)/a),Math.round((i-c)/a)),l.x=0,l.y=0}}n.setGeometry(t.cell,l)}},E.prototype.connect=function(t,e,i,n,l){var a=this.graph.getModel(),r=a.getParent(t);a.beginUpdate();try{if(n){var o=this.graph.cloneCells([t])[0];a.add(r,o,a.getChildCount(r));var s=a.getTerminal(t,!i);this.graph.connectCell(o,s,!i),t=o}var u=this.constraintHandler.currentConstraint;null==u&&(u=new p.default),this.graph.connectCell(t,e,i,u)}finally{a.endUpdate()}return t},E.prototype.changeTerminalPoint=function(t,e,i,n){var l=this.graph.getModel();l.beginUpdate();try{if(n){var a=l.getParent(t),r=l.getTerminal(t,!i);t=this.graph.cloneCells([t])[0],l.add(a,t,l.getChildCount(a)),l.setTerminal(t,r,!i)}var o=l.getGeometry(t);null!=o&&((o=o.clone()).setTerminalPoint(e,i),l.setGeometry(t,o),this.graph.connectCell(t,null,i,new p.default))}finally{l.endUpdate()}return t},E.prototype.changePoints=function(t,e,i){var n=this.graph.getModel();n.beginUpdate();try{if(i){var l=n.getParent(t),a=n.getTerminal(t,!0),r=n.getTerminal(t,!1);t=this.graph.cloneCells([t])[0],n.add(l,t,n.getChildCount(l)),n.setTerminal(t,a,!0),n.setTerminal(t,r,!1)}var o=n.getGeometry(t);null!=o&&((o=o.clone()).points=e,n.setGeometry(t,o))}finally{n.endUpdate()}return t},E.prototype.addPoint=function(t,e){var i=d.default.convertPoint(this.graph.container,n.default.getClientX(e),n.default.getClientY(e)),l=this.graph.isGridEnabledEvent(e);this.convertPoint(i,l),this.addPointAt(t,i.x,i.y),n.default.consume(e)},E.prototype.addPointAt=function(t,e,i){var n=this.graph.getCellGeometry(t.cell),l=new o.default(e,i);if(null!=n){n=n.clone();var a=this.graph.view.translate,r=this.graph.view.scale,s=new o.default(a.x*r,a.y*r),u=this.graph.model.getParent(this.state.cell);if(this.graph.model.isVertex(u)){var h=this.graph.view.getState(u);s=new o.default(h.x,h.y)}var c=d.default.findNearestSegment(t,l.x*r+s.x,l.y*r+s.y);null==n.points?n.points=[l]:n.points.splice(c,0,l),this.graph.getModel().setGeometry(t.cell,n),this.refresh(),this.redraw()}},E.prototype.removePoint=function(t,e){if(e>0&&e<this.abspoints.length-1){var i=this.graph.getCellGeometry(this.state.cell);null!=i&&null!=i.points&&((i=i.clone()).points.splice(e-1,1),this.graph.getModel().setGeometry(t.cell,i),this.refresh(),this.redraw())}},E.prototype.getHandleFillColor=function(t){var e=0==t,i=this.state.cell,n=this.graph.getModel().getTerminal(i,e),l=f.default.HANDLE_FILLCOLOR;return null!=n&&!this.graph.isCellDisconnectable(i,n,e)||null==n&&!this.graph.isTerminalPointMovable(i,e)?l=f.default.LOCKED_HANDLE_FILLCOLOR:null!=n&&this.graph.isCellDisconnectable(i,n,e)&&(l=f.default.CONNECT_HANDLE_FILLCOLOR),l},E.prototype.redraw=function(){this.abspoints=this.state.absolutePoints.slice(),this.redrawHandles();var t=this.graph.getModel().getGeometry(this.state.cell).points;if(null!=this.bends&&this.bends.length>0&&null!=t){null==this.points&&(this.points=[]);for(var e=1;e<this.bends.length-1;e++)null!=this.bends[e]&&null!=this.abspoints[e]&&(this.points[e-1]=t[e-1])}this.drawPreview()},E.prototype.redrawHandles=function(){var t=this.state.cell,e=t.getProperty("controlIntensity","bindToPrevNode"),i=t.getProperty("controlIntensity","bindToNextNode"),n=this.labelShape.bounds;this.label=new o.default(this.state.absoluteOffset.x,this.state.absoluteOffset.y),this.labelShape.bounds=new l.default(Math.round(this.label.x-n.width/2),Math.round(this.label.y-n.height/2),n.width,n.height);var a=this.graph.getLabel(t);if(this.labelShape.visible=null!=a&&a.length>0&&this.graph.isLabelMovable(t),null!=this.bends&&this.bends.length>0){var r=this.abspoints.length-1,s=this.abspoints[0],u=s.x,h=s.y;n=this.bends[0].bounds,this.bends[0].bounds=new l.default(Math.floor(u-n.width/2),Math.floor(h-n.height/2),n.width,n.height),this.bends[0].fill=this.getHandleFillColor(0),this.bends[0].visible=!0!==e&&"1"!==e,this.bends[0].redraw(),this.manageLabelHandle&&this.checkLabelHandle(this.bends[0].bounds);var c=this.abspoints[r],p=c.x,f=c.y,g=this.bends.length-1;n=this.bends[g].bounds,this.bends[g].bounds=new l.default(Math.floor(p-n.width/2),Math.floor(f-n.height/2),n.width,n.height),this.bends[g].fill=this.getHandleFillColor(g),this.bends[g].visible=!0!==i&&"1"!==i,this.bends[g].redraw(),this.manageLabelHandle&&this.checkLabelHandle(this.bends[g].bounds),this.redrawInnerBends(s,c)}if(null!=this.abspoints&&null!=this.virtualBends&&this.virtualBends.length>0)for(var y=this.abspoints[0],m=0;m<this.virtualBends.length;m++)if(null!=this.virtualBends[m]&&null!=this.abspoints[m+1]){var v=this.abspoints[m+1],E=(n=this.virtualBends[m],y.x+(v.x-y.x)/2),b=y.y+(v.y-y.y)/2;n.bounds=new l.default(Math.floor(E-n.bounds.width/2),Math.floor(b-n.bounds.height/2),n.bounds.width,n.bounds.height),n.redraw(),d.default.setOpacity(n.node,this.virtualBendOpacity),y=v,this.manageLabelHandle&&this.checkLabelHandle(n.bounds)}if(null!=this.labelShape&&this.labelShape.redraw(),null!=this.customHandles)for(m=0;m<this.customHandles.length;m++)this.customHandles[m].redraw()},E.prototype.setHandlesVisible=function(t){if(null!=this.bends)for(var e=0;e<this.bends.length;e++)this.bends[e].node.style.display=t?"":"none";if(null!=this.virtualBends)for(e=0;e<this.virtualBends.length;e++)this.virtualBends[e].node.style.display=t?"":"none";if(null!=this.labelShape&&(this.labelShape.node.style.display=t?"":"none"),null!=this.customHandles)for(e=0;e<this.customHandles.length;e++)this.customHandles[e].setVisible(t)},E.prototype.redrawInnerBends=function(t,e){for(var i=1;i<this.bends.length-1;i++)if(null!=this.bends[i])if(null!=this.abspoints[i]){var n=this.abspoints[i].x,a=this.abspoints[i].y,r=this.bends[i].bounds;this.bends[i].node.style.visibility="visible",this.bends[i].bounds=new l.default(Math.round(n-r.width/2),Math.round(a-r.height/2),r.width,r.height),this.manageLabelHandle?this.checkLabelHandle(this.bends[i].bounds):null==this.handleImage&&this.labelShape.visible&&d.default.intersects(this.bends[i].bounds,this.labelShape.bounds)&&(w=f.default.HANDLE_SIZE+3,h=f.default.HANDLE_SIZE+3,this.bends[i].bounds=new l.default(Math.round(n-w/2),Math.round(a-h/2),w,h)),this.bends[i].redraw()}else this.bends[i].destroy(),this.bends[i]=null},E.prototype.checkLabelHandle=function(t){if(null!=this.labelShape){var e=this.labelShape.bounds;d.default.intersects(t,e)&&(t.getCenterY()<e.getCenterY()?e.y=t.y+t.height:e.y=t.y-e.height)}},E.prototype.drawPreview=function(){if(this.isLabel){var t=this.labelShape.bounds,e=new l.default(Math.round(this.label.x-t.width/2),Math.round(this.label.y-t.height/2),t.width,t.height);this.labelShape.bounds=e,this.labelShape.redraw()}else null!=this.shape&&(this.shape.apply(this.state),this.shape.points=this.abspoints,this.shape.scale=this.state.view.scale,this.shape.isDashed=this.isSelectionDashed(),this.shape.stroke=this.getSelectionColor(),this.shape.strokewidth=this.getSelectionStrokeWidth()/this.shape.scale/this.shape.scale,this.shape.arrowStrokewidth=this.getSelectionStrokeWidth(),this.shape.isShadow=!1,this.shape.redraw());null!=this.parentHighlight&&this.parentHighlight.redraw()},E.prototype.refresh=function(){this.abspoints=this.getSelectionPoints(this.state),this.points=[],null!=this.shape&&(this.shape.points=this.abspoints),null!=this.bends&&(this.destroyBends(this.bends),this.bends=this.createBends()),null!=this.virtualBends&&(this.destroyBends(this.virtualBends),this.virtualBends=this.createVirtualBends()),null!=this.customHandles&&(this.destroyBends(this.customHandles),this.customHandles=this.createCustomHandles()),null!=this.labelShape&&null!=this.labelShape.node&&null!=this.labelShape.node.parentNode&&this.labelShape.node.parentNode.appendChild(this.labelShape.node)},E.prototype.destroyBends=function(t){if(null!=t)for(var e=0;e<t.length;e++)null!=t[e]&&t[e].destroy()},E.prototype.destroy=function(){null!=this.escapeHandler&&(this.state.view.graph.removeListener(this.escapeHandler),this.escapeHandler=null),null!=this.marker&&(this.marker.destroy(),this.marker=null),null!=this.shape&&(this.shape.destroy(),this.shape=null),null!=this.parentHighlight&&(this.parentHighlight.destroy(),this.parentHighlight=null),null!=this.labelShape&&(this.labelShape.destroy(),this.labelShape=null),null!=this.constraintHandler&&(this.constraintHandler.destroy(),this.constraintHandler=null),this.destroyBends(this.virtualBends),this.virtualBends=null,this.destroyBends(this.customHandles),this.customHandles=null,this.destroyBends(this.bends),this.bends=null,this.removeHint()};e.default=E},898916:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=d(i(147496)),l=d(i(164460)),a=d(i(339024)),r=d(i(742288)),o=d(i(247644)),s=d(i(790448)),u=d(i(132448));function d(t){return t&&t.__esModule?t:{default:t}}function h(t){a.default.call(this,t)}r.default.extend(h,n.default),h.prototype.getCurrentPoints=function(){var t=this.state.absolutePoints;if(null!=t&&(2==t.length||3==t.length&&(t[0].x==t[1].x&&t[1].x==t[2].x||t[0].y==t[1].y&&t[1].y==t[2].y))){var e=t[0].x+(t[t.length-1].x-t[0].x)/2,i=t[0].y+(t[t.length-1].y-t[0].y)/2;t=[t[0],new l.default(e,i),new l.default(e,i),t[t.length-1]]}return t},h.prototype.getPreviewPoints=function(t){if(this.isSource||this.isTarget)return n.default.prototype.getPreviewPoints.apply(this,arguments);var e=this.getCurrentPoints(),i=this.convertPoint(e[0].clone(),!1);t=this.convertPoint(t.clone(),!1);for(var l=[],a=1;a<e.length;a++){var r=this.convertPoint(e[a].clone(),!1);a==this.index&&(0==Math.round(i.x-r.x)&&(i.x=t.x,r.x=t.x),0==Math.round(i.y-r.y)&&(i.y=t.y,r.y=t.y)),a<e.length-1&&l.push(r),i=r}if(1==l.length){var o=this.state.getVisibleTerminalState(!0),s=this.state.getVisibleTerminalState(!1),d=this.state.view.getScale(),h=this.state.view.getTranslate(),c=l[0].x*d+h.x,p=l[0].y*d+h.y;(null!=o&&u.default.contains(o,c,p)||null!=s&&u.default.contains(s,c,p))&&(l=[t,t])}return l},h.prototype.updatePreviewState=function(t,e,i,n){if(a.default.prototype.updatePreviewState.apply(this,arguments),!this.isSource&&!this.isTarget){e=this.convertPoint(e.clone(),!1);for(var r=t.absolutePoints,o=r[0],s=r[1],u=[],d=2;d<r.length;d++){var h=r[d];0==Math.round(o.x-s.x)&&0==Math.round(s.x-h.x)||0==Math.round(o.y-s.y)&&0==Math.round(s.y-h.y)||u.push(this.convertPoint(s.clone(),!1)),o=s,s=h}var c=this.state.getVisibleTerminalState(!0),p=this.state.getVisibleTerminalState(!1),f=this.state.absolutePoints;if(0!=u.length||0!=Math.round(r[0].x-r[r.length-1].x)&&0!=Math.round(r[0].y-r[r.length-1].y)){if(5==r.length&&2==u.length&&null!=c&&null!=p&&null!=f&&0==Math.round(f[0].x-f[f.length-1].x)){var g=this.graph.getView(),y=g.getScale(),m=g.getTranslate(),v=g.getRoutingCenterY(c)/y-m.y,E=this.graph.getConnectionConstraint(t,c,!0);if(null!=E)null!=(b=this.graph.getConnectionPoint(c,E))&&(this.convertPoint(b,!1),v=b.y);var b,S=g.getRoutingCenterY(p)/y-m.y,w=this.graph.getConnectionConstraint(t,p,!1);if(w)null!=(b=this.graph.getConnectionPoint(p,w))&&(this.convertPoint(b,!1),S=b.y);u=[new l.default(e.x,v),new l.default(e.x,S)]}}else u=[e,e];this.points=u,t.view.updateFixedTerminalPoints(t,c,p),t.view.updatePoints(t,this.points,c,p),t.view.updateFloatingTerminalPoints(t,c,p)}},h.prototype.connect=function(t,e,i,n,l){for(var r=this.abspoints,o=r[0],s=r[1],u=[],d=2;d<r.length;d++){var h=r[d];0==Math.round(o.x-s.x)&&0==Math.round(s.x-h.x)||0==Math.round(o.y-s.y)&&0==Math.round(s.y-h.y)||u.push(this.convertPoint(s.clone(),!1)),o=s,s=h}var c=this.graph.getModel();c.beginUpdate();try{var p=c.getGeometry(t);null!=p&&((p=p.clone()).points=u,c.setGeometry(t,p)),t=a.default.prototype.connect.apply(this,arguments)}finally{c.endUpdate()}return t},h.prototype.getTooltipForNode=function(t){return null},h.prototype.start=function(t,e,i){a.default.prototype.start.apply(this,arguments),null==this.bends[i]||this.isSource||this.isTarget||r.default.setOpacity(this.bends[i].node,100)},h.prototype.createBends=function(){var t=[],e=this.createHandleShape(0);this.initBend(e),e.setCursor(s.default.CURSOR_TERMINAL_HANDLE),t.push(e);var i=this.getCurrentPoints();if(this.graph.isCellBendable(this.state.cell)){null==this.points&&(this.points=[]);for(var n=0;n<i.length-1;n++){e=this.createVirtualBend(),t.push(e);var a=0==Math.round(i[n].x-i[n+1].x);0==Math.round(i[n].y-i[n+1].y)&&n<i.length-2&&(a=0==Math.round(i[n].x-i[n+2].x)),e.setCursor(a?"col-resize":"row-resize"),this.points.push(new l.default(0,0))}}e=this.createHandleShape(i.length);return this.initBend(e),e.setCursor(s.default.CURSOR_TERMINAL_HANDLE),t.push(e),t},h.prototype.redraw=function(){this.refresh(),a.default.prototype.redraw.apply(this,arguments)},h.prototype.redrawInnerBends=function(t,e){if(this.graph.isCellBendable(this.state.cell)){var i=this.getCurrentPoints();if(null!=i&&i.length>1){var n=!1;if(4==i.length&&0==Math.round(i[1].x-i[2].x)&&0==Math.round(i[1].y-i[2].y))if(n=!0,0==Math.round(i[0].y-i[i.length-1].y)){var a=i[0].x+(i[i.length-1].x-i[0].x)/2;i[1]=new l.default(a,i[1].y),i[2]=new l.default(a,i[2].y)}else{var s=i[0].y+(i[i.length-1].y-i[0].y)/2;i[1]=new l.default(i[1].x,s),i[2]=new l.default(i[2].x,s)}for(var u=0;u<i.length-1;u++)if(null!=this.bends[u+1]){t=i[u],e=i[u+1];var d=new l.default(t.x+(e.x-t.x)/2,t.y+(e.y-t.y)/2),h=this.bends[u+1].bounds;this.bends[u+1].bounds=new o.default(Math.floor(d.x-h.width/2),Math.floor(d.y-h.height/2),h.width,h.height),this.bends[u+1].redraw(),this.manageLabelHandle&&this.checkLabelHandle(this.bends[u+1].bounds)}n&&(r.default.setOpacity(this.bends[1].node,this.virtualBendOpacity),r.default.setOpacity(this.bends[3].node,this.virtualBendOpacity))}}};e.default=h},886136:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(693917),i(927184);var n=s(i(182848)),l=s(i(164460)),a=s(i(247644)),r=s(i(790448)),o=s(i(742288));function s(t){return t&&t.__esModule?t:{default:t}}var u={EntityRelation:function(t,e,i,a,s){var u=t.view,d=u.graph,h=o.default.getValue(t.style,r.default.STYLE_SEGMENT,r.default.ENTITY_SEGMENT)*u.scale,c=t.absolutePoints,p=c[0],f=c[c.length-1],g=!1;if(null!=p)(e=new n.default).x=p.x,e.y=p.y;else{if(null==e)return;if((v=o.default.getPortConstraints(e,t,!0,r.default.DIRECTION_MASK_NONE))!=r.default.DIRECTION_MASK_NONE&&v!=r.default.DIRECTION_MASK_WEST+r.default.DIRECTION_MASK_EAST)g=v==r.default.DIRECTION_MASK_WEST;else{var y=d.getCellGeometry(e.cell);y.relative?g=y.x<=.5:null!=i&&(g=i.x+i.width<e.x)}}var m=!0;if(null!=f)(i=new n.default).x=f.x,i.y=f.y;else if(null!=i){var v;if((v=o.default.getPortConstraints(i,t,!1,r.default.DIRECTION_MASK_NONE))!=r.default.DIRECTION_MASK_NONE&&v!=r.default.DIRECTION_MASK_WEST+r.default.DIRECTION_MASK_EAST)m=v==r.default.DIRECTION_MASK_WEST;else{var E=d.getCellGeometry(i.cell);E.relative?m=E.x<=.5:null!=e&&(m=e.x+e.width<i.x)}}if(null!=e&&null!=i){var b=g?e.x:e.x+e.width,S=u.getRoutingCenterY(e),w=m?i.x:i.x+i.width,A=u.getRoutingCenterY(i),C=h,T=g?-C:C,M=new l.default(b+T,S);T=m?-C:C;var x=new l.default(w+T,A);if(g==m){var I=g?Math.min(b,w)-h:Math.max(b,w)+h;s.push(new l.default(I,S)),s.push(new l.default(I,A))}else if(M.x<x.x==g){var L=S+(A-S)/2;s.push(M),s.push(new l.default(M.x,L)),s.push(new l.default(x.x,L)),s.push(x)}else s.push(M),s.push(x)}},Loop:function(t,e,i,n,a){var s=t.absolutePoints,u=s[0],d=s[s.length-1];if(null==u||null==d){if(null!=e){var h=t.view,c=h.graph;null!=(b=null!=n&&n.length>0?n[0]:null)&&(b=h.transformControlPoint(t,b),o.default.contains(e,b.x,b.y)&&(b=null));var p=0,f=0,g=0,y=0,m=o.default.getValue(t.style,r.default.STYLE_SEGMENT,c.gridSize)*h.scale,v=o.default.getValue(t.style,r.default.STYLE_DIRECTION,r.default.DIRECTION_WEST);v==r.default.DIRECTION_NORTH||v==r.default.DIRECTION_SOUTH?(p=h.getRoutingCenterX(e),f=m):(g=h.getRoutingCenterY(e),y=m),null==b||b.x<e.x||b.x>e.x+e.width?null!=b?(p=b.x,y=Math.max(Math.abs(g-b.y),y)):v==r.default.DIRECTION_NORTH?g=e.y-2*f:v==r.default.DIRECTION_SOUTH?g=e.y+e.height+2*f:p=v==r.default.DIRECTION_EAST?e.x-2*y:e.x+e.width+2*y:null!=b&&(p=h.getRoutingCenterX(e),f=Math.max(Math.abs(p-b.x),y),g=b.y,y=0),a.push(new l.default(p-f,g-y)),a.push(new l.default(p+f,g+y))}}else if(null!=n&&n.length>0)for(var E=0;E<n.length;E++){var b=n[E];b=t.view.transformControlPoint(t,b),a.push(new l.default(b.x,b.y))}},ElbowConnector:function(t,e,i,n,l){var a=null!=n&&n.length>0?n[0]:null,o=!1,s=!1;if(null!=e&&null!=i)if(null!=a){var d=Math.min(e.x,i.x),h=Math.max(e.x+e.width,i.x+i.width),c=Math.min(e.y,i.y),p=Math.max(e.y+e.height,i.y+i.height);o=(a=t.view.transformControlPoint(t,a)).y<c||a.y>p,s=a.x<d||a.x>h}else{if(!(o=(d=Math.max(e.x,i.x))==(h=Math.min(e.x+e.width,i.x+i.width))))s=(c=Math.max(e.y,i.y))==(p=Math.min(e.y+e.height,i.y+i.height))}s||!o&&t.style[r.default.STYLE_ELBOW]!=r.default.ELBOW_VERTICAL?u.SideToSide(t,e,i,n,l):u.TopToBottom(t,e,i,n,l)},SideToSide:function(t,e,i,a,r){var s=t.view,u=null!=a&&a.length>0?a[0]:null,d=t.absolutePoints,h=d[0],c=d[d.length-1];if(null!=u&&(u=s.transformControlPoint(t,u)),null!=h&&((e=new n.default).x=h.x,e.y=h.y),null!=c&&((i=new n.default).x=c.x,i.y=c.y),null!=e&&null!=i){var p=Math.max(e.x,i.x),f=Math.min(e.x+e.width,i.x+i.width),g=null!=u?u.x:Math.round(f+(p-f)/2),y=s.getRoutingCenterY(e),m=s.getRoutingCenterY(i);if(null!=u&&(u.y>=e.y&&u.y<=e.y+e.height&&(y=u.y),u.y>=i.y&&u.y<=i.y+i.height&&(m=u.y)),o.default.contains(i,g,y)||o.default.contains(e,g,y)||r.push(new l.default(g,y)),o.default.contains(i,g,m)||o.default.contains(e,g,m)||r.push(new l.default(g,m)),1==r.length)if(null!=u)o.default.contains(i,g,u.y)||o.default.contains(e,g,u.y)||r.push(new l.default(g,u.y));else{var v=Math.max(e.y,i.y),E=Math.min(e.y+e.height,i.y+i.height);r.push(new l.default(g,v+(E-v)/2))}}},TopToBottom:function(t,e,i,a,r){var s=t.view,u=null!=a&&a.length>0?a[0]:null,d=t.absolutePoints,h=d[0],c=d[d.length-1];if(null!=u&&(u=s.transformControlPoint(t,u)),null!=h&&((e=new n.default).x=h.x,e.y=h.y),null!=c&&((i=new n.default).x=c.x,i.y=c.y),null!=e&&null!=i){var p=Math.max(e.y,i.y),f=Math.min(e.y+e.height,i.y+i.height),g=s.getRoutingCenterX(e);null!=u&&u.x>=e.x&&u.x<=e.x+e.width&&(g=u.x);var y=null!=u?u.y:Math.round(f+(p-f)/2);if(o.default.contains(i,g,y)||o.default.contains(e,g,y)||r.push(new l.default(g,y)),g=null!=u&&u.x>=i.x&&u.x<=i.x+i.width?u.x:s.getRoutingCenterX(i),o.default.contains(i,g,y)||o.default.contains(e,g,y)||r.push(new l.default(g,y)),1==r.length)if(null!=u&&1==r.length)o.default.contains(i,u.x,y)||o.default.contains(e,u.x,y)||r.push(new l.default(u.x,y));else{var m=Math.max(e.x,i.x),v=Math.min(e.x+e.width,i.x+i.width);r.push(new l.default(m+(v-m)/2,y))}}},SegmentConnector:function(t,e,i,n,a){var r=t.absolutePoints,s=Math.max(1,t.view.scale),u=a.length>0?a[0]:null,d=!0,h=null;function c(t){return(null==u||Math.abs(u.x-t.x)>=s||Math.abs(u.y-t.y)>=s)&&(a.push(t),u=t),u}var p=r[0];null==p&&null!=e?p=new l.default(t.view.getRoutingCenterX(e),t.view.getRoutingCenterY(e)):null!=p&&(p=p.clone()),p&&(p.x=Math.round(p.x)),p&&(p.y=Math.round(p.y));var f=r.length-1;if(null!=n&&n.length>0){for(var g=[],y=0;y<n.length;y++){var m=t.view.transformControlPoint(t,n[y]);null!=m&&(m.x=Math.round(m.x),m.y=Math.round(m.y),g.push(m))}if(0==g.length)return;n=g,null!=p&&null!=n[0]&&(Math.abs(n[0].x-p.x)<s&&(n[0].x=p.x),Math.abs(n[0].y-p.y)<s&&(n[0].y=p.y));var v=r[f];null!=v&&null!=n[n.length-1]&&(Math.abs(n[n.length-1].x-v.x)<s&&(n[n.length-1].x=v.x),Math.abs(n[n.length-1].y-v.y)<s&&(n[n.length-1].y=v.y)),h=n[0];var E=e,b=r[0],S=!1,w=!1,A=h;null!=b&&(b.x=Math.round(b.x),b.y=Math.round(b.y),E=null);for(y=0;y<2;y++){var C=null!=b&&b.x==A.x,T=null!=b&&b.y==A.y,M=null!=E&&A.y>=E.y&&A.y<=E.y+E.height,x=null!=E&&A.x>=E.x&&A.x<=E.x+E.width;if(S=T||null==b&&M,w=C||null==b&&x,0!=y||!(S&&w||C&&T)){if(null!=b&&!T&&!C&&(M||x)){d=!M;break}if(w||S){d=S,1==y&&(d=n.length%2==0?S:w);break}}E=i,null!=(b=r[f])&&(b.x=Math.round(b.x),b.y=Math.round(b.y),E=null),A=n[n.length-1],C&&T&&(n=n.slice(1))}if(p){d&&(null!=r[0]&&r[0].y!=h.y||null==r[0]&&null!=e&&(h.y<e.y||h.y>e.y+e.height))?c(new l.default(p.x,h.y)):!d&&(null!=r[0]&&r[0].x!=h.x||null==r[0]&&null!=e&&(h.x<e.x||h.x>e.x+e.width))&&c(new l.default(h.x,p.y)),d?p.y=h.y:p.x=h.x;for(y=0;y<n.length;y++)d=!d,h=n[y],d?p.y=h.y:p.x=h.x,c(p.clone())}}else h=p,d=!0;if(null==(p=r[f])&&null!=i&&(p=new l.default(t.view.getRoutingCenterX(i),t.view.getRoutingCenterY(i))),null!=p&&(p.x=Math.round(p.x),p.y=Math.round(p.y),null!=h&&(d&&(null!=r[f]&&r[f].y!=h.y||null==r[f]&&null!=i&&(h.y<i.y||h.y>i.y+i.height))?c(new l.default(p.x,h.y)):!d&&(null!=r[f]&&r[f].x!=h.x||null==r[f]&&null!=i&&(h.x<i.x||h.x>i.x+i.width))&&c(new l.default(h.x,p.y)))),null==r[0]&&null!=e)for(;a.length>1&&null!=a[1]&&o.default.contains(e,a[1].x,a[1].y);)a.splice(1,1);if(null==r[f]&&null!=i)for(;a.length>1&&null!=a[a.length-1]&&o.default.contains(i,a[a.length-1].x,a[a.length-1].y);)a.splice(a.length-1,1);null!=v&&null!=a[a.length-1]&&Math.abs(v.x-a[a.length-1].x)<s&&Math.abs(v.y-a[a.length-1].y)<s&&(a.splice(a.length-1,1),null!=a[a.length-1]&&(Math.abs(a[a.length-1].x-v.x)<s&&(a[a.length-1].x=v.x),Math.abs(a[a.length-1].y-v.y)<s&&(a[a.length-1].y=v.y)))},orthBuffer:20,orthPointsFallback:!0,dirVectors:[[-1,0],[0,-1],[1,0],[0,1],[-1,0],[0,-1],[1,0]],wayPoints1:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],routePatterns:[[[513,2308,2081,2562],[513,1090,514,2184,2114,2561],[513,1090,514,2564,2184,2562],[513,2308,2561,1090,514,2568,2308]],[[514,1057,513,2308,2081,2562],[514,2184,2114,2561],[514,2184,2562,1057,513,2564,2184],[514,1057,513,2568,2308,2561]],[[1090,514,1057,513,2308,2081,2562],[2114,2561],[1090,2562,1057,513,2564,2184],[1090,514,1057,513,2308,2561,2568]],[[2081,2562],[1057,513,1090,514,2184,2114,2561],[1057,513,1090,514,2184,2562,2564],[1057,2561,1090,514,2568,2308]]],inlineRoutePatterns:[[null,[2114,2568],null,null],[null,[514,2081,2114,2568],null,null],[null,[2114,2561],null,null],[[2081,2562],[1057,2114,2568],[2184,2562],null]],vertexSeperations:[],limits:[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]],LEFT_MASK:32,TOP_MASK:64,RIGHT_MASK:128,BOTTOM_MASK:256,LEFT:1,TOP:2,RIGHT:4,BOTTOM:8,SIDE_MASK:480,CENTER_MASK:512,SOURCE_MASK:1024,TARGET_MASK:2048,VERTEX_MASK:3072,getJettySize:function(t,e,i,n,l){var a=o.default.getValue(t.style,l?r.default.STYLE_SOURCE_JETTY_SIZE:r.default.STYLE_TARGET_JETTY_SIZE,o.default.getValue(t.style,r.default.STYLE_JETTY_SIZE,u.orthBuffer));if("auto"==a)if(o.default.getValue(t.style,l?r.default.STYLE_STARTARROW:r.default.STYLE_ENDARROW,r.default.NONE)!=r.default.NONE){var s=o.default.getNumber(t.style,l?r.default.STYLE_STARTSIZE:r.default.STYLE_ENDSIZE,r.default.DEFAULT_MARKERSIZE);a=Math.max(2,Math.ceil((s+u.orthBuffer)/u.orthBuffer))*u.orthBuffer}else a=2*u.orthBuffer;return a},OrthConnector:function(t,e,i,n,s){var d=t.view.graph,h=null!=e&&d.getModel().isEdge(e.cell),c=null!=i&&d.getModel().isEdge(i.cell),p=t.absolutePoints,f=p[0],g=p[p.length-1],y=null!=e?e.x:f.x,m=null!=e?e.y:f.y,v=null!=e?e.width:0,E=null!=e?e.height:0,b=null!=i?i.x:g.x,S=null!=i?i.y:g.y,w=null!=i?i.width:0,A=null!=i?i.height:0,C=t.view.scale*u.getJettySize(t,e,i,n,!0),T=t.view.scale*u.getJettySize(t,e,i,n,!1);null!=e&&i==e&&(C=T=Math.max(C,T));var M=T+C,x=!1;null!=f&&null!=g&&(x=(P=g.x-f.x)*P+(B=g.y-f.y)*B<M*M);if(x||u.orthPointsFallback&&null!=n&&n.length>0||h||c)u.SegmentConnector(t,e,i,n,s);else{var I,L=[r.default.DIRECTION_MASK_ALL,r.default.DIRECTION_MASK_ALL],N=0;if(null!=e)if(L[0]=o.default.getPortConstraints(e,t,!0,r.default.DIRECTION_MASK_ALL),0!=(N=o.default.getValue(e.style,r.default.STYLE_ROTATION,0)))y=(I=o.default.getBoundingBox(new a.default(y,m,v,E),N,null,a.default,l.default)).x,m=I.y,v=I.width,E=I.height;if(null!=i)if(L[1]=o.default.getPortConstraints(i,t,!1,r.default.DIRECTION_MASK_ALL),0!=(N=o.default.getValue(i.style,r.default.STYLE_ROTATION,0)))b=(I=o.default.getBoundingBox(new a.default(b,S,w,A),N,null,a.default,l.default)).x,S=I.y,w=I.width,A=I.height;for(var O=[0,0],D=[[y=Math.round(10*y)/10,m=Math.round(10*m)/10,v=Math.round(10*v)/10,E=Math.round(10*E)/10],[b=Math.round(10*b)/10,S=Math.round(10*S)/10,w=Math.round(10*w)/10,A=Math.round(10*A)/10]],R=[C,T],_=0;_<2;_++)u.limits[_][1]=D[_][0]-R[_],u.limits[_][2]=D[_][1]-R[_],u.limits[_][4]=D[_][0]+D[_][2]+R[_],u.limits[_][8]=D[_][1]+D[_][3]+R[_];var P,k=D[0][0]+D[0][2]/2,H=D[0][1]+D[0][3]/2,G=D[1][0]+D[1][2]/2,B=H-(D[1][1]+D[1][3]/2),z=0;(P=k-G)<0?z=B<0?2:1:B<=0&&(z=3,0==P&&(z=2));var F=null;null!=e&&(F=f);var V=[[.5,.5],[.5,.5]];for(_=0;_<2;_++)null!=F&&(V[_][0]=(F.x-D[_][0])/D[_][2],Math.abs(F.x-D[_][0])<=1?O[_]=r.default.DIRECTION_MASK_WEST:Math.abs(F.x-D[_][0]-D[_][2])<=1&&(O[_]=r.default.DIRECTION_MASK_EAST),V[_][1]=(F.y-D[_][1])/D[_][3],Math.abs(F.y-D[_][1])<=1?O[_]=r.default.DIRECTION_MASK_NORTH:Math.abs(F.y-D[_][1]-D[_][3])<=1&&(O[_]=r.default.DIRECTION_MASK_SOUTH)),F=null,null!=i&&(F=g);var U=D[0][1]-(D[1][1]+D[1][3]),Y=D[0][0]-(D[1][0]+D[1][2]),j=D[1][1]-(D[0][1]+D[0][3]),W=D[1][0]-(D[0][0]+D[0][2]);u.vertexSeperations[1]=Math.max(Y-M,0),u.vertexSeperations[2]=Math.max(U-M,0),u.vertexSeperations[4]=Math.max(j-M,0),u.vertexSeperations[3]=Math.max(W-M,0);var Z=[],X=[],Q=[];X[0]=Y>=W?r.default.DIRECTION_MASK_WEST:r.default.DIRECTION_MASK_EAST,Q[0]=U>=j?r.default.DIRECTION_MASK_NORTH:r.default.DIRECTION_MASK_SOUTH,X[1]=o.default.reversePortConstraints(X[0]),Q[1]=o.default.reversePortConstraints(Q[0]);var J=Y>=W?Y:W,K=U>=j?U:j,q=[[0,0],[0,0]],$=!1;for(_=0;_<2;_++)0==O[_]&&(0==(X[_]&L[_])&&(X[_]=o.default.reversePortConstraints(X[_])),0==(Q[_]&L[_])&&(Q[_]=mxUtils.reversePortConstraints(Q[_])),q[_][0]=Q[_],q[_][1]=X[_]);K>0&&J>0&&((X[0]&L[0])>0&&(Q[1]&L[1])>0?(q[0][0]=X[0],q[0][1]=Q[0],q[1][0]=Q[1],q[1][1]=X[1],$=!0):(Q[0]&L[0])>0&&(X[1]&L[1])>0&&(q[0][0]=Q[0],q[0][1]=X[0],q[1][0]=X[1],q[1][1]=Q[1],$=!0)),K>0&&!$&&(q[0][0]=Q[0],q[0][1]=X[0],q[1][0]=Q[1],q[1][1]=X[1],$=!0),J>0&&!$&&(q[0][0]=X[0],q[0][1]=Q[0],q[1][0]=X[1],q[1][1]=Q[1],$=!0);for(_=0;_<2;_++)0==O[_]&&(0==(q[_][0]&L[_])&&(q[_][0]=q[_][1]),Z[_]=q[_][0]&L[_],Z[_]|=(q[_][1]&L[_])<<8,Z[_]|=(q[1-_][_]&L[_])<<16,Z[_]|=(q[1-_][1-_]&L[_])<<24,0==(15&Z[_])&&(Z[_]=Z[_]<<8),0==(3840&Z[_])&&(Z[_]=15&Z[_]|Z[_]>>8),0==(983040&Z[_])&&(Z[_]=65535&Z[_]|(251658240&Z[_])>>8),O[_]=15&Z[_],L[_]!=r.default.DIRECTION_MASK_WEST&&L[_]!=r.default.DIRECTION_MASK_NORTH&&L[_]!=r.default.DIRECTION_MASK_EAST&&L[_]!=r.default.DIRECTION_MASK_SOUTH||(O[_]=L[_]));var tt=O[0]==r.default.DIRECTION_MASK_EAST?3:O[0],et=O[1]==r.default.DIRECTION_MASK_EAST?3:O[1];(tt-=z)<1&&(tt+=4),(et-=z)<1&&(et+=4);var it=u.routePatterns[tt-1][et-1];switch(u.wayPoints1[0][0]=D[0][0],u.wayPoints1[0][1]=D[0][1],O[0]){case r.default.DIRECTION_MASK_WEST:u.wayPoints1[0][0]-=C,u.wayPoints1[0][1]+=V[0][1]*D[0][3];break;case r.default.DIRECTION_MASK_SOUTH:u.wayPoints1[0][0]+=V[0][0]*D[0][2],u.wayPoints1[0][1]+=D[0][3]+C;break;case r.default.DIRECTION_MASK_EAST:u.wayPoints1[0][0]+=D[0][2]+C,u.wayPoints1[0][1]+=V[0][1]*D[0][3];break;case r.default.DIRECTION_MASK_NORTH:u.wayPoints1[0][0]+=V[0][0]*D[0][2],u.wayPoints1[0][1]-=C}var nt=0,lt=(O[0]&(r.default.DIRECTION_MASK_EAST|r.default.DIRECTION_MASK_WEST))>0?0:1,at=lt,rt=0;for(_=0;_<it.length;_++){var ot=15&it[_],st=ot==r.default.DIRECTION_MASK_EAST?3:ot;(st+=z)>4&&(st-=4);var ut=u.dirVectors[st-1];(rt=st%2>0?0:1)!=lt&&(nt++,u.wayPoints1[nt][0]=u.wayPoints1[nt-1][0],u.wayPoints1[nt][1]=u.wayPoints1[nt-1][1]);var dt=(it[_]&u.TARGET_MASK)>0,ht=(it[_]&u.SOURCE_MASK)>0,ct=(it[_]&u.SIDE_MASK)>>5;(ct<<=z)>15&&(ct>>=4);var pt=(it[_]&u.CENTER_MASK)>0;if((ht||dt)&&ct<9){var ft=0,gt=ht?0:1;if(ft=pt&&0==rt?D[gt][0]+V[gt][0]*D[gt][2]:pt?D[gt][1]+V[gt][1]*D[gt][3]:u.limits[gt][ct],0==rt){var yt=(ft-u.wayPoints1[nt][0])*ut[0];yt>0&&(u.wayPoints1[nt][0]+=ut[0]*yt)}else{var mt=(ft-u.wayPoints1[nt][1])*ut[1];mt>0&&(u.wayPoints1[nt][1]+=ut[1]*mt)}}else pt&&(u.wayPoints1[nt][0]+=ut[0]*Math.abs(u.vertexSeperations[st]/2),u.wayPoints1[nt][1]+=ut[1]*Math.abs(u.vertexSeperations[st]/2));nt>0&&u.wayPoints1[nt][rt]==u.wayPoints1[nt-1][rt]?nt--:lt=rt}for(_=0;_<=nt;_++){if(_==nt)if((((O[1]&(r.default.DIRECTION_MASK_EAST|r.default.DIRECTION_MASK_WEST))>0?0:1)==at?0:1)!=(nt+1)%2)break;s.push(new l.default(Math.round(u.wayPoints1[_][0]),Math.round(u.wayPoints1[_][1])))}for(var vt=1;vt<s.length;)null==s[vt-1]||null==s[vt]||s[vt-1].x!=s[vt].x||s[vt-1].y!=s[vt].y?vt++:s.splice(vt,1)}},getRoutePattern:function(t,e,i,n){var l=t[0]==r.default.DIRECTION_MASK_EAST?3:t[0],a=t[1]==r.default.DIRECTION_MASK_EAST?3:t[1];(l-=e)<1&&(l+=4),(a-=e)<1&&(a+=4);var o=routePatterns[l-1][a-1];return 0!=i&&0!=n||null!=inlineRoutePatterns[l-1][a-1]&&(o=inlineRoutePatterns[l-1][a-1]),o}};e.default=u},5336:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(622676),i(976896),i(297336),i(387912),i(23544);var n=P(i(280908)),l=P(i(257784)),a=P(i(498096)),r=P(i(322040)),o=P(i(359656)),s=P(i(267456)),u=P(i(22676)),d=P(i(479024)),h=P(i(865960)),c=P(i(798980)),p=P(i(39864)),f=P(i(742288)),g=P(i(484376)),y=P(i(571736)),m=P(i(995048)),v=P(i(370608)),E=P(i(897508)),b=P(i(517648)),S=P(i(883928)),w=P(i(536684)),A=P(i(146880)),C=P(i(72644)),T=P(i(911676)),M=P(i(612280)),x=P(i(11131)),I=P(i(668624)),L=P(i(790448)),N=P(i(185224)),O=P(i(132448)),D=P(i(121816)),R=P(i(326660)),_=P(i(819996));function P(t){return t&&t.__esModule?t:{default:t}}function k(t){this.actions=[],this.addActions(),null!=document.body&&(this.cycleAttributeValues=[],this.popupHandler=new o.default,this.undoManager=new S.default,this.graph=this.createGraph(),this.toolbar=this.createToolbar(),this.keyHandler=new y.default(this),this.configure(t),this.graph.swimlaneIndicatorColorAttribute=this.cycleAttributeName,null!=this.onInit&&this.onInit(),u.default.IS_IE&&v.default.addListener(window,"unload",f.default.bind(this,(function(){this.destroy()}))))}k.prototype=new p.default,k.prototype.constructor=k,k.prototype.askZoomResource="none"!=u.default.language?"askZoom":"",k.prototype.lastSavedResource="none"!=u.default.language?"lastSaved":"",k.prototype.currentFileResource="none"!=u.default.language?"currentFile":"",k.prototype.propertiesResource="none"!=u.default.language?"properties":"",k.prototype.tasksResource="none"!=u.default.language?"tasks":"",k.prototype.helpResource="none"!=u.default.language?"help":"",k.prototype.outlineResource="none"!=u.default.language?"outline":"",k.prototype.outline=null,k.prototype.graph=null,k.prototype.graphRenderHint=null,k.prototype.toolbar=null,k.prototype.status=null,k.prototype.popupHandler=null,k.prototype.undoManager=null,k.prototype.keyHandler=null,k.prototype.actions=null,k.prototype.dblClickAction="edit",k.prototype.swimlaneRequired=!1,k.prototype.disableContextMenu=!0,k.prototype.insertFunction=null,k.prototype.forcedInserting=!1,k.prototype.templates=null,k.prototype.defaultEdge=null,k.prototype.defaultEdgeStyle=null,k.prototype.defaultGroup=null,k.prototype.groupBorderSize=null,k.prototype.filename=null,k.prototype.linefeed="&#xa;",k.prototype.postParameterName="xml",k.prototype.escapePostData=!0,k.prototype.urlPost=null,k.prototype.urlImage=null,k.prototype.horizontalFlow=!1,k.prototype.layoutDiagram=!1,k.prototype.swimlaneSpacing=0,k.prototype.maintainSwimlanes=!1,k.prototype.layoutSwimlanes=!1,k.prototype.cycleAttributeValues=null,k.prototype.cycleAttributeIndex=0,k.prototype.cycleAttributeName="fillColor",k.prototype.tasks=null,k.prototype.tasksWindowImage=null,k.prototype.tasksTop=20,k.prototype.help=null,k.prototype.helpWindowImage=null,k.prototype.urlHelp=null,k.prototype.helpWidth=300,k.prototype.helpHeight=260,k.prototype.propertiesWidth=240,k.prototype.propertiesHeight=null,k.prototype.movePropertiesDialog=!1,k.prototype.validating=!1,k.prototype.modified=!1,k.prototype.isModified=function(){return this.modified},k.prototype.setModified=function(t){this.modified=t},k.prototype.addActions=function(){this.addAction("save",(function(t){t.save()})),this.addAction("print",(function(t){new c.default(t.graph,1).open()})),this.addAction("show",(function(t){O.default.show(t.graph,null,10,10)})),this.addAction("exportImage",(function(t){var e=t.getUrlImage();if(null==e||u.default.IS_LOCAL)t.execute("show");else{var i=O.default.getViewXml(t.graph,1),n=O.default.getXml(i,"\n");O.default.submit(e,t.postParameterName+"="+encodeURIComponent(n),document,"_blank")}})),this.addAction("refresh",(function(t){t.graph.refresh()})),this.addAction("cut",(function(t){t.graph.isEnabled()&&E.default.cut(t.graph)})),this.addAction("copy",(function(t){t.graph.isEnabled()&&E.default.copy(t.graph)})),this.addAction("paste",(function(t){t.graph.isEnabled()&&E.default.paste(t.graph)})),this.addAction("delete",(function(t){t.graph.isEnabled()&&t.graph.removeCells()})),this.addAction("group",(function(t){t.graph.isEnabled()&&t.graph.setSelectionCell(t.groupCells())})),this.addAction("ungroup",(function(t){t.graph.isEnabled()&&t.graph.setSelectionCells(t.graph.ungroupCells())})),this.addAction("removeFromParent",(function(t){t.graph.isEnabled()&&t.graph.removeCellsFromParent()})),this.addAction("undo",(function(t){t.graph.isEnabled()&&t.undo()})),this.addAction("redo",(function(t){t.graph.isEnabled()&&t.redo()})),this.addAction("zoomIn",(function(t){t.graph.zoomIn()})),this.addAction("zoomOut",(function(t){t.graph.zoomOut()})),this.addAction("actualSize",(function(t){t.graph.zoomActual()})),this.addAction("fit",(function(t){t.graph.fit()})),this.addAction("showProperties",(function(t,e){t.showProperties(e)})),this.addAction("selectAll",(function(t){t.graph.isEnabled()&&t.graph.selectAll()})),this.addAction("selectNone",(function(t){t.graph.isEnabled()&&t.graph.clearSelection()})),this.addAction("selectVertices",(function(t){t.graph.isEnabled()&&t.graph.selectVertices()})),this.addAction("selectEdges",(function(t){t.graph.isEnabled()&&t.graph.selectEdges()})),this.addAction("edit",(function(t,e){t.graph.isEnabled()&&t.graph.isCellEditable(e)&&t.graph.startEditingAtCell(e)})),this.addAction("toBack",(function(t,e){t.graph.isEnabled()&&t.graph.orderCells(!0)})),this.addAction("toFront",(function(t,e){t.graph.isEnabled()&&t.graph.orderCells(!1)})),this.addAction("enterGroup",(function(t,e){t.graph.enterGroup(e)})),this.addAction("exitGroup",(function(t){t.graph.exitGroup()})),this.addAction("home",(function(t){t.graph.home()})),this.addAction("selectPrevious",(function(t){t.graph.isEnabled()&&t.graph.selectPreviousCell()})),this.addAction("selectNext",(function(t){t.graph.isEnabled()&&t.graph.selectNextCell()})),this.addAction("selectParent",(function(t){t.graph.isEnabled()&&t.graph.selectParentCell()})),this.addAction("selectChild",(function(t){t.graph.isEnabled()&&t.graph.selectChildCell()})),this.addAction("collapse",(function(t){t.graph.isEnabled()&&t.graph.foldCells(!0)})),this.addAction("collapseAll",(function(t){if(t.graph.isEnabled()){var e=t.graph.getChildVertices();t.graph.foldCells(!0,!1,e)}})),this.addAction("expand",(function(t){t.graph.isEnabled()&&t.graph.foldCells(!1)})),this.addAction("expandAll",(function(t){if(t.graph.isEnabled()){var e=t.graph.getChildVertices();t.graph.foldCells(!1,!1,e)}})),this.addAction("bold",(function(t){t.graph.isEnabled()&&t.graph.toggleCellStyleFlags(L.default.STYLE_FONTSTYLE,L.default.FONT_BOLD)})),this.addAction("italic",(function(t){t.graph.isEnabled()&&t.graph.toggleCellStyleFlags(L.default.STYLE_FONTSTYLE,L.default.FONT_ITALIC)})),this.addAction("underline",(function(t){t.graph.isEnabled()&&t.graph.toggleCellStyleFlags(L.default.STYLE_FONTSTYLE,L.default.FONT_UNDERLINE)})),this.addAction("alignCellsLeft",(function(t){t.graph.isEnabled()&&t.graph.alignCells(L.default.ALIGN_LEFT)})),this.addAction("alignCellsCenter",(function(t){t.graph.isEnabled()&&t.graph.alignCells(L.default.ALIGN_CENTER)})),this.addAction("alignCellsRight",(function(t){t.graph.isEnabled()&&t.graph.alignCells(L.default.ALIGN_RIGHT)})),this.addAction("alignCellsTop",(function(t){t.graph.isEnabled()&&t.graph.alignCells(L.default.ALIGN_TOP)})),this.addAction("alignCellsMiddle",(function(t){t.graph.isEnabled()&&t.graph.alignCells(L.default.ALIGN_MIDDLE)})),this.addAction("alignCellsBottom",(function(t){t.graph.isEnabled()&&t.graph.alignCells(L.default.ALIGN_BOTTOM)})),this.addAction("alignFontLeft",(function(t){t.graph.setCellStyles(L.default.STYLE_ALIGN,L.default.ALIGN_LEFT)})),this.addAction("alignFontCenter",(function(t){t.graph.isEnabled()&&t.graph.setCellStyles(L.default.STYLE_ALIGN,L.default.ALIGN_CENTER)})),this.addAction("alignFontRight",(function(t){t.graph.isEnabled()&&t.graph.setCellStyles(L.default.STYLE_ALIGN,L.default.ALIGN_RIGHT)})),this.addAction("alignFontTop",(function(t){t.graph.isEnabled()&&t.graph.setCellStyles(L.default.STYLE_VERTICAL_ALIGN,L.default.ALIGN_TOP)})),this.addAction("alignFontMiddle",(function(t){t.graph.isEnabled()&&t.graph.setCellStyles(L.default.STYLE_VERTICAL_ALIGN,L.default.ALIGN_MIDDLE)})),this.addAction("alignFontBottom",(function(t){t.graph.isEnabled()&&t.graph.setCellStyles(L.default.STYLE_VERTICAL_ALIGN,L.default.ALIGN_BOTTOM)})),this.addAction("zoom",(function(t){var e=100*t.graph.getView().scale,i=parseFloat(O.default.prompt(x.default.get(t.askZoomResource)||t.askZoomResource,e))/100;isNaN(i)||t.graph.getView().setScale(i)})),this.addAction("toggleTasks",(function(t){null!=t.tasks?t.tasks.setVisible(!t.tasks.isVisible()):t.showTasks()})),this.addAction("toggleHelp",(function(t){null!=t.help?t.help.setVisible(!t.help.isVisible()):t.showHelp()})),this.addAction("toggleOutline",(function(t){null==t.outline?t.showOutline():t.outline.setVisible(!t.outline.isVisible())})),this.addAction("toggleConsole",(function(t){g.default.setVisible(!g.default.isVisible())}))},k.prototype.configure=function(t){null!=t&&(new w.default(t.ownerDocument).decode(t,this),this.resetHistory())},k.prototype.resetFirstTime=function(){document.cookie="mxgraph=seen; expires=Fri, 27 Jul 2001 02:47:11 UTC; path=/"},k.prototype.resetHistory=function(){this.lastSnapshot=(new Date).getTime(),this.undoManager.clear(),this.ignoredChanges=0,this.setModified(!1)},k.prototype.addAction=function(t,e){this.actions[t]=e},k.prototype.execute=function(t,e,i){var n=this.actions[t];if(null!=n)try{var l=arguments;l[0]=this,n.apply(this,l)}catch(e){throw O.default.error("Cannot execute "+t+": "+e.message,280,!0),e}else O.default.error("Cannot find action "+t,280,!0)},k.prototype.addTemplate=function(t,e){this.templates[t]=e},k.prototype.getTemplate=function(t){return this.templates[t]},k.prototype.createGraph=function(){var t=new a.default(null,null,this.graphRenderHint);return t.setTooltips(!0),t.setPanning(!0),this.installDblClickHandler(t),this.installUndoHandler(t),this.installDrillHandler(t),this.installChangeHandler(t),this.installInsertHandler(t),t.popupMenuHandler.factoryMethod=f.default.bind(this,(function(t,e,i){return this.createPopupMenu(t,e,i)})),t.connectionHandler.factoryMethod=f.default.bind(this,(function(t,e){return this.createEdge(t,e)})),this.createSwimlaneManager(t),this.createLayoutManager(t),t},k.prototype.createSwimlaneManager=function(t){var e=new r.default(t,!1);return e.isHorizontal=f.default.bind(this,(function(){return this.horizontalFlow})),e.isEnabled=f.default.bind(this,(function(){return this.maintainSwimlanes})),e},k.prototype.createLayoutManager=function(t){var e=new I.default(t),i=this;return e.getLayout=function(e){var n=null,l=i.graph.getModel();return null!=l.getParent(e)&&(i.layoutSwimlanes&&t.isSwimlane(e)?(null==i.swimlaneLayout&&(i.swimlaneLayout=i.createSwimlaneLayout()),n=i.swimlaneLayout):i.layoutDiagram&&(t.isValidRoot(e)||null==l.getParent(l.getParent(e)))&&(null==i.diagramLayout&&(i.diagramLayout=i.createDiagramLayout()),n=i.diagramLayout)),n},e},k.prototype.setGraphContainer=function(t){null==this.graph.container&&(this.graph.init(t),this.rubberband=new h.default(this.graph),this.disableContextMenu&&v.default.disableContextMenu(t),u.default.IS_QUIRKS&&new N.default(t))},k.prototype.installDblClickHandler=function(t){t.addListener(v.default.DOUBLE_CLICK,f.default.bind(this,(function(e,i){var n=i.getProperty("cell");null!=n&&t.isEnabled()&&null!=this.dblClickAction&&(this.execute(this.dblClickAction,n),i.consume())})))},k.prototype.installUndoHandler=function(t){var e=f.default.bind(this,(function(t,e){var i=e.getProperty("edit");this.undoManager.undoableEditHappened(i)}));t.getModel().addListener(v.default.UNDO,e),t.getView().addListener(v.default.UNDO,e);var i=function(e,i){var n=i.getProperty("edit").changes;t.setSelectionCells(t.getSelectionCellsForChanges(n))};this.undoManager.addListener(v.default.UNDO,i),this.undoManager.addListener(v.default.REDO,i)},k.prototype.installDrillHandler=function(t){var e=f.default.bind(this,(function(t){this.fireEvent(new m.default(v.default.ROOT))}));t.getView().addListener(v.default.DOWN,e),t.getView().addListener(v.default.UP,e)},k.prototype.installChangeHandler=function(t){var e=f.default.bind(this,(function(e,i){this.setModified(!0),1==this.validating&&t.validateGraph();for(var n=i.getProperty("edit").changes,l=0;l<n.length;l++){var a=n[l];if(a instanceof _.default||a instanceof R.default&&a.cell==this.graph.model.root||a instanceof M.default&&a.cell==this.graph.model.root){this.fireEvent(new m.default(v.default.ROOT));break}}}));t.getModel().addListener(v.default.CHANGE,e)},k.prototype.installInsertHandler=function(t){var e=this,i={mouseDown:function(t,i){null==e.insertFunction||i.isPopupTrigger()||!e.forcedInserting&&null!=i.getState()||(e.graph.clearSelection(),e.insertFunction(i.getEvent(),i.getCell()),this.isActive=!0,i.consume())},mouseMove:function(t,e){this.isActive&&e.consume()},mouseUp:function(t,e){this.isActive&&(this.isActive=!1,e.consume())}};t.addMouseListener(i)},k.prototype.createDiagramLayout=function(){var t=this.graph.gridSize,e=new l.default(this.graph,!this.horizontalFlow,this.swimlaneSpacing,2*t,2*t);return e.isVertexIgnored=function(t){return!e.graph.isSwimlane(t)},e},k.prototype.createSwimlaneLayout=function(){return new C.default(this.graph,this.horizontalFlow)},k.prototype.createToolbar=function(){return new T.default(null,this)},k.prototype.setToolbarContainer=function(t){this.toolbar.init(t),u.default.IS_QUIRKS&&new N.default(t)},k.prototype.setStatusContainer=function(t){null==this.status&&(this.status=t,this.addListener(v.default.SAVE,f.default.bind(this,(function(){var t=(new Date).toLocaleString();this.setStatus((x.default.get(this.lastSavedResource)||this.lastSavedResource)+": "+t)}))),this.addListener(v.default.OPEN,f.default.bind(this,(function(){this.setStatus((x.default.get(this.currentFileResource)||this.currentFileResource)+": "+this.filename)}))),u.default.IS_QUIRKS&&new N.default(t))},k.prototype.setStatus=function(t){null!=this.status&&null!=t&&(this.status.innerHTML=t)},k.prototype.setTitleContainer=function(t){this.addListener(v.default.ROOT,f.default.bind(this,(function(e){t.innerHTML=this.getTitle()}))),u.default.IS_QUIRKS&&new N.default(t)},k.prototype.treeLayout=function(t,e){null!=t&&new C.default(this.graph,e).execute(t)},k.prototype.getTitle=function(){for(var t="",e=this.graph,i=e.getCurrentRoot();null!=i&&null!=e.getModel().getParent(e.getModel().getParent(i));)e.isValidRoot(i)&&(t=" > "+e.convertValueToString(i)+t),i=e.getModel().getParent(i);return this.getRootTitle()+t},k.prototype.getRootTitle=function(){var t=this.graph.getModel().getRoot();return this.graph.convertValueToString(t)},k.prototype.undo=function(){this.undoManager.undo()},k.prototype.redo=function(){this.undoManager.redo()},k.prototype.groupCells=function(){var t=null!=this.groupBorderSize?this.groupBorderSize:this.graph.gridSize;return this.graph.groupCells(this.createGroup(),t)},k.prototype.createGroup=function(){return this.graph.getModel().cloneCell(this.defaultGroup)},k.prototype.open=function(t){if(null!=t){var e=D.default.load(t).getXml();this.readGraphModel(e.documentElement),this.filename=t,this.fireEvent(new m.default(v.default.OPEN,"filename",t))}},k.prototype.readGraphModel=function(t){new w.default(t.ownerDocument).decode(t,this.graph.getModel()),this.resetHistory()},k.prototype.save=function(t,e){if(null!=(t=t||this.getUrlPost())&&t.length>0){var i=this.writeGraphModel(e);this.postDiagram(t,i),this.setModified(!1)}this.fireEvent(new m.default(v.default.SAVE,"url",t))},k.prototype.postDiagram=function(t,e){this.escapePostData&&(e=encodeURIComponent(e)),O.default.post(t,this.postParameterName+"="+e,f.default.bind(this,(function(i){this.fireEvent(new m.default(v.default.POST,"request",i,"url",t,"data",e))})))},k.prototype.writeGraphModel=function(t){t=null!=t?t:this.linefeed;var e=(new w.default).encode(this.graph.getModel());return O.default.getXml(e,t)},k.prototype.getUrlPost=function(){return this.urlPost},k.prototype.getUrlImage=function(){return this.urlImage},k.prototype.swapStyles=function(t,e){var i=this.graph.getStylesheet().styles[e];this.graph.getView().getStylesheet().putCellStyle(e,this.graph.getStylesheet().styles[t]),this.graph.getStylesheet().putCellStyle(t,i),this.graph.refresh()},k.prototype.showProperties=function(t){if(null==(t=t||this.graph.getSelectionCell())&&null==(t=this.graph.getCurrentRoot())&&(t=this.graph.getModel().getRoot()),null!=t){this.graph.stopEditing(!0);var e=O.default.getOffset(this.graph.container),i=e.x+10,n=e.y;if(null==this.properties||this.movePropertiesDialog){var l=this.graph.getCellBounds(t);null!=l&&(i+=l.x+Math.min(200,l.width),n+=l.y)}else i=this.properties.getX(),n=this.properties.getY();this.hideProperties();var a=this.createProperties(t);null!=a&&(this.properties=new s.default(x.default.get(this.propertiesResource)||this.propertiesResource,a,i,n,this.propertiesWidth,this.propertiesHeight,!1),this.properties.setVisible(!0))}},k.prototype.isPropertiesVisible=function(){return null!=this.properties},k.prototype.createProperties=function(t){var e=this.graph.getModel(),i=e.getValue(t);if(f.default.isNode(i)){var n=new b.default("properties");n.addText("ID",t.getId()).setAttribute("readonly","true");var l=null,a=null,r=null,o=null,s=null;e.isVertex(t)&&null!=(l=e.getGeometry(t))&&(a=n.addText("top",l.y),r=n.addText("left",l.x),o=n.addText("width",l.width),s=n.addText("height",l.height));for(var u=e.getStyle(t),d=n.addText("Style",u||""),h=i.attributes,c=[],p=0;p<h.length;p++){var g=h[p].value;c[p]=n.addTextarea(h[p].nodeName,g,"label"==h[p].nodeName?4:2)}var y=f.default.bind(this,(function(){this.hideProperties(),e.beginUpdate();try{null!=l&&((l=l.clone()).x=parseFloat(r.value),l.y=parseFloat(a.value),l.width=parseFloat(o.value),l.height=parseFloat(s.value),e.setGeometry(t,l)),d.value.length>0?e.setStyle(t,d.value):e.setStyle(t,null);for(var i=0;i<h.length;i++){var n=new M.default(t,h[i].nodeName,c[i].value);e.execute(n)}this.graph.isAutoSizeCell(t)&&this.graph.updateCellSize(t)}finally{e.endUpdate()}})),m=f.default.bind(this,(function(){this.hideProperties()}));return n.addButtons(y,m),n.table}return null},k.prototype.hideProperties=function(){null!=this.properties&&(this.properties.destroy(),this.properties=null)},k.prototype.showTasks=function(){if(null==this.tasks){var t=document.createElement("div");t.style.padding="4px",t.style.paddingLeft="20px";var e=document.body.clientWidth,i=new s.default(x.default.get(this.tasksResource)||this.tasksResource,t,e-220,this.tasksTop,200);i.setClosable(!0),i.destroyOnClose=!1;var n=f.default.bind(this,(function(e){v.default.release(t),t.innerHTML="",this.createTasks(t)}));this.graph.getModel().addListener(v.default.CHANGE,n),this.graph.getSelectionModel().addListener(v.default.CHANGE,n),this.graph.addListener(v.default.ROOT,n),null!=this.tasksWindowImage&&i.setImage(this.tasksWindowImage),this.tasks=i,this.createTasks(t)}this.tasks.setVisible(!0)},k.prototype.refreshTasks=function(t){if(null!=this.tasks){t=this.tasks.content;v.default.release(t),t.innerHTML="",this.createTasks(t)}},k.prototype.createTasks=function(t){},k.prototype.showHelp=function(t){if(null==this.help){var e=document.createElement("iframe");e.setAttribute("src",x.default.get("urlHelp")||this.urlHelp),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("frameBorder","0"),e.style.backgroundColor="white";var i=document.body.clientWidth,n=document.body.clientHeight||document.documentElement.clientHeight,l=new s.default(x.default.get(this.helpResource)||this.helpResource,e,(i-this.helpWidth)/2,(n-this.helpHeight)/3,this.helpWidth,this.helpHeight);if(l.setMaximizable(!0),l.setClosable(!0),l.destroyOnClose=!1,l.setResizable(!0),null!=this.helpWindowImage&&l.setImage(this.helpWindowImage),u.default.IS_NS){var a=function(t){var i=l.div.offsetHeight;e.setAttribute("height",i-26+"px")};l.addListener(v.default.RESIZE_END,a),l.addListener(v.default.MAXIMIZE,a),l.addListener(v.default.NORMALIZE,a),l.addListener(v.default.SHOW,a)}this.help=l}this.help.setVisible(!0)},k.prototype.showOutline=function(){if(null==this.outline){var t=document.createElement("div");t.style.overflow="hidden",t.style.position="relative",t.style.width="100%",t.style.height="100%",t.style.background="white",t.style.cursor="move",8==document.documentMode&&(t.style.filter="progid:DXImageTransform.Microsoft.alpha(opacity=100)");var e=new s.default(x.default.get(this.outlineResource)||this.outlineResource,t,600,480,200,200,!1),i=new d.default(this.graph,t);e.setClosable(!0),e.setResizable(!0),e.destroyOnClose=!1,e.addListener(v.default.RESIZE_END,(function(){i.update()})),this.outline=e,this.outline.outline=i}this.outline.setVisible(!0),this.outline.outline.update(!0)},k.prototype.setMode=function(t){"select"==t?(this.graph.panningHandler.useLeftButtonForPanning=!1,this.graph.setConnectable(!1)):"connect"==t?(this.graph.panningHandler.useLeftButtonForPanning=!1,this.graph.setConnectable(!0)):"pan"==t&&(this.graph.panningHandler.useLeftButtonForPanning=!0,this.graph.setConnectable(!1))},k.prototype.createPopupMenu=function(t,e,i){this.popupHandler.createMenu(this,t,e,i)},k.prototype.createEdge=function(t,e){var i=null;if(null!=this.defaultEdge){i=this.graph.getModel().cloneCell(this.defaultEdge)}else{(i=new n.default("")).setEdge(!0);var l=new A.default;l.relative=!0,i.setGeometry(l)}var a=this.getEdgeStyle();return null!=a&&i.setStyle(a),i},k.prototype.getEdgeStyle=function(){return this.defaultEdgeStyle},k.prototype.consumeCycleAttribute=function(t){return null!=this.cycleAttributeValues&&this.cycleAttributeValues.length>0&&this.graph.isSwimlane(t)?this.cycleAttributeValues[this.cycleAttributeIndex++%this.cycleAttributeValues.length]:null},k.prototype.cycleAttribute=function(t){if(null!=this.cycleAttributeName){var e=this.consumeCycleAttribute(t);null!=e&&t.setStyle(t.getStyle()+";"+this.cycleAttributeName+"="+e)}},k.prototype.addVertex=function(t,e,i,n){for(var l=this.graph.getModel();null!=t&&!this.graph.isValidDropTarget(t);)t=l.getParent(t);t=null!=t?t:this.graph.getSwimlaneAt(i,n);var a=this.graph.getView().scale,r=l.getGeometry(e),o=l.getGeometry(t);if(this.graph.isSwimlane(e)&&!this.graph.swimlaneNesting)t=null;else{if(null==t&&this.swimlaneRequired)return null;if(null!=t&&null!=o){var s=this.graph.getView().getState(t);if(null!=s){if(i-=s.origin.x*a,n-=s.origin.y*a,this.graph.isConstrainedMoving){var u=r.width,d=r.height,h=s.x+s.width;i+u>h&&(i-=i+u-h),n+d>(h=s.y+s.height)&&(n-=n+d-h)}}else null!=o&&(i-=o.x*a,n-=o.y*a)}}(r=r.clone()).x=this.graph.snap(i/a-this.graph.getView().translate.x-this.graph.gridSize/2),r.y=this.graph.snap(n/a-this.graph.getView().translate.y-this.graph.gridSize/2),e.setGeometry(r),null==t&&(t=this.graph.getDefaultParent()),this.cycleAttribute(e),this.fireEvent(new m.default(v.default.BEFORE_ADD_VERTEX,"vertex",e,"parent",t)),l.beginUpdate();try{null!=(e=this.graph.addCell(e,t))&&(this.graph.constrainChild(e),this.fireEvent(new m.default(v.default.ADD_VERTEX,"vertex",e)))}finally{l.endUpdate()}return null!=e&&(this.graph.setSelectionCell(e),this.graph.scrollCellToVisible(e),this.fireEvent(new m.default(v.default.AFTER_ADD_VERTEX,"vertex",e))),e},k.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,null!=this.tasks&&this.tasks.destroy(),null!=this.outline&&this.outline.destroy(),null!=this.properties&&this.properties.destroy(),null!=this.keyHandler&&this.keyHandler.destroy(),null!=this.rubberband&&this.rubberband.destroy(),null!=this.toolbar&&this.toolbar.destroy(),null!=this.graph&&this.graph.destroy(),this.status=null,this.templates=null)},k.getName=function(){return"mxEditor"};e.default=k},956832:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(86744);var n=u(i(742288)),l=u(i(478780)),a=u(i(326660)),r=u(i(208104)),o=u(i(496592)),s=u(i(68127));function u(t){return t&&t.__esModule?t:{default:t}}var d={animateChanges:function(t,e,i){var u=10,h=0,c=30;!function p(){for(var f=!1,g=0;g<e.length;g++){var y=e[g];if(y instanceof r.default||y instanceof o.default||y instanceof a.default||y instanceof l.default||y instanceof s.default){var m=t.getView().getState(y.cell||y.child,!1);if(null!=m)if(f=!0,y.constructor!=r.default||t.model.isEdge(y.cell))n.default.setOpacity(m.shape.node,100*h/u);else{var v=t.getView().scale,E=(y.geometry.x-y.previous.x)*v,b=(y.geometry.y-y.previous.y)*v,S=(y.geometry.width-y.previous.width)*v,w=(y.geometry.height-y.previous.height)*v;0==h?(m.x-=E,m.y-=b,m.width-=S,m.height-=w):(m.x+=E/u,m.y+=b/u,m.width+=S/u,m.height+=w/u),t.cellRenderer.redraw(m),d.cascadeOpacity(t,y.cell,100*h/u)}}}h<u&&f?(h++,window.setTimeout(p,c)):null!=i&&i()}()},cascadeOpacity:function(t,e,i){for(var l=t.model.getChildCount(e),a=0;a<l;a++){var r=t.model.getChildAt(e,a),o=t.getView().getState(r);null!=o&&(n.default.setOpacity(o.shape.node,i),d.cascadeOpacity(t,r,i))}var s=t.model.getEdges(e);if(null!=s)for(a=0;a<s.length;a++){var u=t.getView().getState(s[a]);null!=u&&n.default.setOpacity(u.shape.node,i)}},fadeOut:function(t,e,i,l,a,r){l=l||40,a=a||30;var o=e||100;if(n.default.setOpacity(t,o),r||null==r){window.setTimeout((function e(){o=Math.max(o-l,0),n.default.setOpacity(t,o),o>0?window.setTimeout(e,a):(t.style.visibility="hidden",i&&t.parentNode&&t.parentNode.removeChild(t))}),a)}else t.style.visibility="hidden",i&&t.parentNode&&t.parentNode.removeChild(t)}};e.default=d},147496:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(297336);var n=c(i(22676)),l=c(i(370608)),a=c(i(164460)),r=c(i(339024)),o=c(i(11131)),s=c(i(742288)),u=c(i(247644)),d=c(i(790448)),h=c(i(886136));function c(t){return t&&t.__esModule?t:{default:t}}function p(t){r.default.call(this,t)}s.default.extend(p,r.default),p.prototype.flipEnabled=!0,p.prototype.doubleClickOrientationResource="none"!=n.default.language?"doubleClickOrientation":"",p.prototype.createBends=function(){var t=[],e=this.createHandleShape(0);return this.initBend(e),e.setCursor(d.default.CURSOR_TERMINAL_HANDLE),t.push(e),t.push(this.createVirtualBend(s.default.bind(this,(function(t){!l.default.isConsumed(t)&&this.flipEnabled&&(this.graph.flipEdge(this.state.cell,t),l.default.consume(t))})))),this.points.push(new a.default(0,0)),e=this.createHandleShape(2),this.initBend(e),e.setCursor(d.default.CURSOR_TERMINAL_HANDLE),t.push(e),t},p.prototype.createVirtualBend=function(t){var e=this.createHandleShape();return this.initBend(e,t),e.setCursor(this.getCursorForBend()),this.graph.isCellBendable(this.state.cell)||(e.node.style.display="none"),e},p.prototype.getCursorForBend=function(){return this.state.style[d.default.STYLE_EDGE]==h.default.TopToBottom||this.state.style[d.default.STYLE_EDGE]==d.default.EDGESTYLE_TOPTOBOTTOM||(this.state.style[d.default.STYLE_EDGE]==h.default.ElbowConnector||this.state.style[d.default.STYLE_EDGE]==d.default.EDGESTYLE_ELBOW)&&this.state.style[d.default.STYLE_ELBOW]==d.default.ELBOW_VERTICAL?"row-resize":"col-resize"},p.prototype.getTooltipForNode=function(t){var e=null;return null==this.bends||null==this.bends[1]||t!=this.bends[1].node&&t.parentNode!=this.bends[1].node||(e=this.doubleClickOrientationResource,e=o.default.get(e)||e),e},p.prototype.convertPoint=function(t,e){var i=this.graph.getView().getScale(),n=this.graph.getView().getTranslate(),l=this.state.origin;return e&&(t.x=this.graph.snap(t.x),t.y=this.graph.snap(t.y)),t.x=Math.round(t.x/i-n.x-l.x),t.y=Math.round(t.y/i-n.y-l.y),t},p.prototype.redrawInnerBends=function(t,e){var i=this.graph.getModel().getGeometry(this.state.cell),n=this.state.absolutePoints,l=null;n.length>1?(t=n[1],e=n[n.length-2]):null!=i.points&&i.points.length>0&&(l=n[0]),l=null==l?new a.default(t.x+(e.x-t.x)/2,t.y+(e.y-t.y)/2):new a.default(this.graph.getView().scale*(l.x+this.graph.getView().translate.x+this.state.origin.x),this.graph.getView().scale*(l.y+this.graph.getView().translate.y+this.state.origin.y));var r=this.bends[1].bounds,o=r.width,h=r.height,c=new u.default(Math.round(l.x-o/2),Math.round(l.y-h/2),o,h);this.manageLabelHandle?this.checkLabelHandle(c):null==this.handleImage&&this.labelShape.visible&&s.default.intersects(c,this.labelShape.bounds)&&(o=d.default.HANDLE_SIZE+3,h=d.default.HANDLE_SIZE+3,c=new u.default(Math.floor(l.x-o/2),Math.floor(l.y-h/2),o,h)),this.bends[1].bounds=c,this.bends[1].redraw(),this.manageLabelHandle&&this.checkLabelHandle(this.bends[1].bounds)};e.default=p},796656:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(106208);var n=a(i(742288)),l=a(i(656988));function a(t){return t&&t.__esModule?t:{default:t}}function r(t,e,i,n){l.default.call(this),this.bounds=t,this.fill=e,this.stroke=i,this.strokewidth=null!=n?n:1}n.default.extend(r,l.default),r.prototype.paintVertexShape=function(t,e,i,n,l){t.ellipse(e,i,n,l),t.fillAndStroke()};e.default=r},370608:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(241872);var n=r(i(22676)),l=r(i(172636)),a=r(i(710952));function r(t){return t&&t.__esModule?t:{default:t}}var o={addListener:a.default.addListener,removeListener:a.default.removeListener,removeAllListeners:function(t){a.default.removeAllListeners(t)},addGestureListeners:function(t,e,i,n){a.default.addGestureListeners(t,e,i,n)},removeGestureListeners:function(t,e,i,n){a.default.removeGestureListeners(t,e,i,n)},redirectMouseEvents:function(t,e,i,n,a,r,s){var u=function(t){return"function"==typeof i?i(t):i};o.addGestureListeners(t,(function(t){null!=n?n(t):o.isConsumed(t)||e.fireMouseEvent(o.MOUSE_DOWN,new l.default(t,u(t)))}),(function(t){null!=a?a(t):o.isConsumed(t)||e.fireMouseEvent(o.MOUSE_MOVE,new l.default(t,u(t)))}),(function(t){null!=r?r(t):o.isConsumed(t)||e.fireMouseEvent(o.MOUSE_UP,new l.default(t,u(t)))})),o.addListener(t,"dblclick",(function(t){if(null!=s)s(t);else if(!o.isConsumed(t)){var i=u(t);e.dblClick(t,null!=i?i.cell:null)}}))},release:function(t){a.default.release(t)},addMouseWheelListener:function(t){if(null!=t){var e=function(e){null==e&&(e=window.event);var i=0;0!=(i=n.default.IS_FF?-e.detail/2:e.wheelDelta/120)&&t(e,i>0)};if(n.default.IS_NS&&null==document.documentMode){var i=n.default.IS_SF||n.default.IS_GC?"mousewheel":"DOMMouseScroll";o.addListener(window,i,e)}else o.addListener(document,"mousewheel",e)}},disableContextMenu:n.default.IS_IE&&(void 0===document.documentMode||document.documentMode<9)?function(t){o.addListener(t,"contextmenu",(function(){return!1}))}:function(t){t.setAttribute("oncontextmenu","return false;")},getSource:function(t){return a.default.getSource(t)},isConsumed:function(t){return a.default.isConsumed(t)},isTouchEvent:function(t){return null!=t.pointerType?"touch"==t.pointerType||t.pointerType===t.MSPOINTER_TYPE_TOUCH:null!=t.mozInputSource?5==t.mozInputSource:0==t.type.indexOf("touch")},isMultiTouchEvent:function(t){return null!=t.type&&0==t.type.indexOf("touch")&&null!=t.touches&&t.touches.length>1},isMouseEvent:a.default.isMouseEvent,isLeftMouseButton:function(t){a.default.isLeftMouseButton(t)},isMiddleMouseButton:function(t){a.default.isMiddleMouseButton(t)},isRightMouseButton:function(t){a.default.isRightMouseButton(t)},isPopupTrigger:function(t){return a.default.isPopupTrigger(t)},isShiftDown:function(t){return a.default.isShiftDown(t)},isAltDown:function(t){return a.default.isAltDown(t)},isControlDown:function(t){return a.default.isControlDown(t)},isMetaDown:function(t){return a.default.isMetaDown(t)},getMainEvent:function(t){return a.default.getMainEvent(t)},getClientX:function(t){return a.default.getMainEvent(t).clientX},getClientY:function(t){return a.default.getMainEvent(t).clientY},consume:function(t,e,i){a.default.consume(t,e,i)},LABEL_HANDLE:a.default.LABEL_HANDLE,ROTATION_HANDLE:a.default.ROTATION_HANDLE,CUSTOM_HANDLE:a.default.CUSTOM_HANDLE,VIRTUAL_HANDLE:a.default.VIRTUAL_HANDLE,MOUSE_DOWN:a.default.MOUSE_DOWN,MOUSE_MOVE:a.default.MOUSE_MOVE,MOUSE_UP:a.default.MOUSE_UP,ACTIVATE:a.default.ACTIVATE,RESIZE_START:a.default.RESIZE_START,RESIZE:a.default.RESIZE,RESIZE_END:a.default.RESIZE_END,MOVE_START:a.default.MOVE_START,MOVE:a.default.MOVE,MOVE_END:a.default.MOVE_END,PAN_START:a.default.PAN_START,PAN:a.default.PAN,PAN_END:a.default.PAN_END,MINIMIZE:a.default.MINIMIZE,NORMALIZE:a.default.NORMALIZE,MAXIMIZE:a.default.MAXIMIZE,HIDE:a.default.HIDE,SHOW:a.default.SHOW,CLOSE:a.default.CLOSE,DESTROY:a.default.DESTROY,REFRESH:a.default.REFRESH,SIZE:a.default.SIZE,SELECT:a.default.SELECT,FIRED:a.default.FIRED,FIRE_MOUSE_EVENT:a.default.FIRE_MOUSE_EVENT,GESTURE:a.default.GESTURE,TAP_AND_HOLD:a.default.TAP_AND_HOLD,GET:a.default.GET,RECEIVE:a.default.RECEIVE,CONNECT:a.default.CONNECT,DISCONNECT:a.default.DISCONNECT,SUSPEND:a.default.SUSPEND,RESUME:a.default.RESUME,MARK:a.default.MARK,ROOT:a.default.ROOT,POST:a.default.POST,OPEN:a.default.OPEN,SAVE:a.default.SAVE,BEFORE_ADD_VERTEX:a.default.BEFORE_ADD_VERTEX,ADD_VERTEX:a.default.ADD_VERTEX,AFTER_ADD_VERTEX:a.default.AFTER_ADD_VERTEX,DONE:a.default.DONE,EXECUTE:a.default.EXECUTE,EXECUTED:a.default.EXECUTED,BEGIN_UPDATE:a.default.BEGIN_UPDATE,START_EDIT:a.default.START_EDIT,END_UPDATE:a.default.END_UPDATE,END_EDIT:a.default.END_EDIT,BEFORE_UNDO:a.default.BEFORE_UNDO,UNDO:a.default.UNDO,REDO:a.default.REDO,CHANGE:a.default.CHANGE,NOTIFY:a.default.NOTIFY,LAYOUT_CELLS:a.default.LAYOUT_CELLS,CLICK:a.default.CLICK,SCALE:a.default.SCALE,TRANSLATE:a.default.TRANSLATE,SCALE_AND_TRANSLATE:a.default.SCALE_AND_TRANSLATE,UP:a.default.UP,DOWN:a.default.DOWN,ADD:a.default.ADD,REMOVE:a.default.REMOVE,CLEAR:a.default.CLEAR,ADD_CELLS:a.default.ADD_CELLS,CELLS_ADDED:a.default.CELLS_ADDED,MOVE_CELLS:a.default.MOVE_CELLS,CELLS_MOVED:a.default.CELLS_MOVED,RESIZE_CELLS:a.default.RESIZE_CELLS,CELLS_RESIZED:a.default.CELLS_RESIZED,TOGGLE_CELLS:a.default.TOGGLE_CELLS,CELLS_TOGGLED:a.default.CELLS_TOGGLED,ORDER_CELLS:a.default.ORDER_CELLS,PASTE_CELLS:a.default.PASTE_CELLS,CELLS_ORDERED:a.default.CELLS_ORDERED,REMOVE_CELLS:a.default.REMOVE_CELLS,CELLS_REMOVED:a.default.CELLS_REMOVED,GROUP_CELLS:a.default.GROUP_CELLS,UNGROUP_CELLS:a.default.UNGROUP_CELLS,REMOVE_CELLS_FROM_PARENT:a.default.REMOVE_CELLS_FROM_PARENT,FOLD_CELLS:a.default.FOLD_CELLS,CELLS_FOLDED:a.default.CELLS_FOLDED,ALIGN_CELLS:a.default.ALIGN_CELLS,LABEL_CHANGED:a.default.LABEL_CHANGED,CONNECT_CELL:a.default.CONNECT_CELL,CELL_CONNECTED:a.default.CELL_CONNECTED,SPLIT_EDGE:a.default.SPLIT_EDGE,FLIP_EDGE:a.default.FLIP_EDGE,START_EDITING:a.default.START_EDITING,EDITING_STARTED:a.default.EDITING_STARTED,EDITING_STOPPED:a.default.EDITING_STOPPED,ADD_OVERLAY:a.default.ADD_OVERLAY,REMOVE_OVERLAY:a.default.REMOVE_OVERLAY,UPDATE_CELL_SIZE:a.default.UPDATE_CELL_SIZE,ESCAPE:a.default.ESCAPE,DOUBLE_CLICK:a.default.DOUBLE_CLICK,START:a.default.START,RESET:a.default.RESET};e.default=o},995048:function(t,e,i){"use strict";function n(t){this.name=t,this.properties=[];for(var e=1;e<arguments.length;e+=2)null!=arguments[e+1]&&(this.properties[arguments[e]]=arguments[e+1])}i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(721300),n.prototype.name=null,n.prototype.properties=null,n.prototype.consumed=!1,n.prototype.getName=function(){return this.name},n.prototype.getProperties=function(){return this.properties},n.prototype.getProperty=function(t){return this.properties[t]},n.prototype.isConsumed=function(){return this.consumed},n.prototype.consume=function(){this.consumed=!0};e.default=n},39864:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(927184);var n,l=(n=i(995048))&&n.__esModule?n:{default:n};function a(t){this.setEventSource(t)}a.prototype.eventListeners=null,a.prototype.eventsEnabled=!0,a.prototype.eventSource=null,a.prototype.isEventsEnabled=function(){return this.eventsEnabled},a.prototype.setEventsEnabled=function(t){this.eventsEnabled=t},a.prototype.getEventSource=function(){return this.eventSource},a.prototype.setEventSource=function(t){this.eventSource=t},a.prototype.addListener=function(t,e){null==this.eventListeners&&(this.eventListeners=[]),this.eventListeners.push(t),this.eventListeners.push(e)},a.prototype.removeListener=function(t){if(null!=this.eventListeners)for(var e=0;e<this.eventListeners.length;)this.eventListeners[e+1]==t?this.eventListeners.splice(e,2):e+=2},a.prototype.fireEvent=function(t,e){if(null!=this.eventListeners&&this.isEventsEnabled()){null==t&&(t=new l.default),null==e&&(e=this.getEventSource()),null==e&&(e=this);for(var i=[e,t],n=0;n<this.eventListeners.length;n+=2){var a=this.eventListeners[n];null!=a&&a!=t.getName()||this.eventListeners[n+1].apply(this,i)}}};e.default=a},710952:function(t,e,n){"use strict";n(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n(241872),n(927184),n(721300);var l=r(n(22676)),a=r(n(742288));function r(t){return t&&t.__esModule?t:{default:t}}var o,s,u={LABEL_HANDLE:-1,ROTATION_HANDLE:-2,CUSTOM_HANDLE:-100,VIRTUAL_HANDLE:-1e5,MOUSE_DOWN:"mouseDown",MOUSE_MOVE:"mouseMove",MOUSE_UP:"mouseUp",ACTIVATE:"activate",RESIZE_START:"resizeStart",RESIZE:"resize",RESIZE_END:"resizeEnd",MOVE_START:"moveStart",MOVE:"move",MOVE_END:"moveEnd",PAN_START:"panStart",PAN:"pan",PAN_END:"panEnd",MINIMIZE:"minimize",NORMALIZE:"normalize",MAXIMIZE:"maximize",HIDE:"hide",SHOW:"show",CLOSE:"close",DESTROY:"destroy",REFRESH:"refresh",SIZE:"size",SELECT:"select",FIRED:"fired",FIRE_MOUSE_EVENT:"fireMouseEvent",GESTURE:"gesture",TAP_AND_HOLD:"tapAndHold",GET:"get",RECEIVE:"receive",CONNECT:"connect",DISCONNECT:"disconnect",SUSPEND:"suspend",RESUME:"resume",MARK:"mark",ROOT:"root",POST:"post",OPEN:"open",SAVE:"save",BEFORE_ADD_VERTEX:"beforeAddVertex",ADD_VERTEX:"addVertex",AFTER_ADD_VERTEX:"afterAddVertex",DONE:"done",EXECUTE:"execute",EXECUTED:"executed",BEGIN_UPDATE:"beginUpdate",START_EDIT:"startEdit",END_UPDATE:"endUpdate",END_EDIT:"endEdit",BEFORE_UNDO:"beforeUndo",UNDO:"undo",REDO:"redo",CHANGE:"change",NOTIFY:"notify",LAYOUT_CELLS:"layoutCells",CLICK:"click",SCALE:"scale",TRANSLATE:"translate",SCALE_AND_TRANSLATE:"scaleAndTranslate",UP:"up",DOWN:"down",ADD:"add",REMOVE:"remove",CLEAR:"clear",ADD_CELLS:"addCells",CELLS_ADDED:"cellsAdded",MOVE_CELLS:"moveCells",CELLS_MOVED:"cellsMoved",RESIZE_CELLS:"resizeCells",CELLS_RESIZED:"cellsResized",TOGGLE_CELLS:"toggleCells",CELLS_TOGGLED:"cellsToggled",ORDER_CELLS:"orderCells",PASTE_CELLS:"pasteCells",CELLS_ORDERED:"cellsOrdered",REMOVE_CELLS:"removeCells",CELLS_REMOVED:"cellsRemoved",GROUP_CELLS:"groupCells",UNGROUP_CELLS:"ungroupCells",REMOVE_CELLS_FROM_PARENT:"removeCellsFromParent",FOLD_CELLS:"foldCells",CELLS_FOLDED:"cellsFolded",ALIGN_CELLS:"alignCells",LABEL_CHANGED:"labelChanged",CONNECT_CELL:"connectCell",CELL_CONNECTED:"cellConnected",SPLIT_EDGE:"splitEdge",FLIP_EDGE:"flipEdge",START_EDITING:"startEditing",EDITING_STARTED:"editingStarted",EDITING_STOPPED:"editingStopped",ADD_OVERLAY:"addOverlay",REMOVE_OVERLAY:"removeOverlay",UPDATE_CELL_SIZE:"updateCellSize",ESCAPE:"escape",DOUBLE_CLICK:"doubleClick",START:"start",RESET:"reset",objects:[],getSource:function(t){return null!=t.srcElement?t.srcElement:t.target},getMainEvent:function(t){return"touchstart"!=t.type&&"touchmove"!=t.type||null==t.touches||null==t.touches[0]?"touchend"==t.type&&null!=t.changedTouches&&null!=t.changedTouches[0]&&(t=t.changedTouches[0]):t=t.touches[0],t},getClientX:function(t){return u.getMainEvent(t).clientX},getClientY:function(t){return u.getMainEvent(t).clientY},isLeftMouseButton:function(t){return!("buttons"in t)||"mousedown"!=t.type&&"mousemove"!=t.type?"which"in t?1===t.which:1===t.button:1==t.buttons},isMiddleMouseButton:function(t){return"which"in t?2===t.which:4===t.button},isRightMouseButton:function(t){return"which"in t?3===t.which:2===t.button},isPopupTrigger:function(t){return u.isRightMouseButton(t)||l.default.IS_MAC&&u.isControlDown(t)&&!u.isShiftDown(t)&&!u.isMetaDown(t)&&!u.isAltDown(t)},isShiftDown:function(t){return null!=t&&t.shiftKey},isAltDown:function(t){return null!=t&&t.altKey},isControlDown:function(t){return null!=t&&t.ctrlKey},isMetaDown:function(t){return null!=t&&t.metaKey},consume:function(t,e,i){i=null==i||i,(e=null==e||e)&&(t.preventDefault?(i&&t.stopPropagation(),t.preventDefault()):i&&(t.cancelBubble=!0)),t.preventDefault||(t.returnValue=!1)},addListener:(s=function(t,e,i){null==t.mxListenerList&&(t.mxListenerList=[],u.objects.push(t));var n={name:e,f:i};t.mxListenerList.push(n)},window.addEventListener?function(t,e,i){t.addEventListener(e,i,!1),s(t,e,i)}:function(t,e,i){t.attachEvent("on"+e,i),s(t,e,i)}),removeListener:(o=function(t,e,i){if(null!=t.mxListenerList){for(var n=t.mxListenerList.length,l=0;l<n;l++)if(t.mxListenerList[l].f==i){t.mxListenerList.splice(l,1);break}if(0==t.mxListenerList.length){t.mxListenerList=null;var r=a.default.indexOf(u.objects,t);r>=0&&u.objects.splice(r,1)}}},window.removeEventListener?function(t,e,i){t.removeEventListener(e,i,!1),o(t,0,i)}:function(t,e,i){t.detachEvent("on"+e,i),o(t,0,i)}),addGestureListeners:function(t,e,i,n){null!=e&&u.addListener(t,l.default.IS_POINTER?"pointerdown":"mousedown",e),null!=i&&u.addListener(t,l.default.IS_POINTER?"pointermove":"mousemove",i),null!=n&&u.addListener(t,l.default.IS_POINTER?"pointerup":"mouseup",n),!l.default.IS_POINTER&&l.default.IS_TOUCH&&(null!=e&&u.addListener(t,"touchstart",e),null!=i&&u.addListener(t,"touchmove",i),null!=n&&u.addListener(t,"touchend",n))},removeGestureListeners:function(t,e,i,n){null!=e&&u.removeListener(t,l.default.IS_POINTER?"pointerdown":"mousedown",e),null!=i&&u.removeListener(t,l.default.IS_POINTER?"pointermove":"mousemove",i),null!=n&&u.removeListener(t,l.default.IS_POINTER?"pointerup":"mouseup",n),!l.default.IS_POINTER&&l.default.IS_TOUCH&&(null!=e&&u.removeListener(t,"touchstart",e),null!=i&&u.removeListener(t,"touchmove",i),null!=n&&u.removeListener(t,"touchend",n))},removeAllListeners:function(t){var e=t.mxListenerList;if(null!=e)for(;e.length>0;){var i=e[0];u.removeListener(t,i.name,i.f)}},dispose:function(){null!=u.objects[i].mxListenerList&&u.removeAllListeners(u.objects[i])},release:function(t){if(null!=t){u.removeAllListeners(t);var e=t.childNodes;if(null!=e)for(var i=e.length,n=0;n<i;n+=1)u.release(e[n])}},isConsumed:function(t){return null!=t.isConsumed&&t.isConsumed},redirectMouseEvents:function(t,e,i,n,l,a,r,o){var s=function(t){return"function"==typeof i?i(t):i};u.addGestureListeners(t,(function(t){null!=n?n(t):u.isConsumed(t)||e.fireMouseEvent(u.MOUSE_DOWN,new o(t,s(t)))}),(function(t){null!=l?l(t):u.isConsumed(t)||e.fireMouseEvent(u.MOUSE_MOVE,new o(t,s(t)))}),(function(t){null!=a?a(t):u.isConsumed(t)||e.fireMouseEvent(u.MOUSE_UP,new o(t,s(t)))})),u.addListener(t,"dblclick",(function(t){if(null!=r)r(t);else if(!u.isConsumed(t)){var i=s(t);e.dblClick(t,null!=i?i.cell:null)}}))},isMouseEvent:function(t){return null!=t.pointerType?"mouse"==t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE:null!=t.mozInputSource?1==t.mozInputSource:0==t.type.indexOf("mouse")}};e.default=u},257172:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i(447831)),l=a(i(821424));function a(t){return t&&t.__esModule?t:{default:t}}function r(t){n.default.call(this,t)}r.prototype=new n.default,r.prototype.constructor=r,r.prototype.useInputOrigin=!0,r.prototype.resetEdges=!0,r.prototype.disableEdgeStyle=!0,r.prototype.forceConstant=50,r.prototype.forceConstantSquared=0,r.prototype.minDistanceLimit=2,r.prototype.maxDistanceLimit=500,r.prototype.minDistanceLimitSquared=4,r.prototype.initialTemp=200,r.prototype.temperature=0,r.prototype.maxIterations=0,r.prototype.iteration=0,r.prototype.vertexArray=[],r.prototype.dispX=[],r.prototype.dispY=[],r.prototype.cellLocation=[],r.prototype.radius=[],r.prototype.radiusSquared=[],r.prototype.isMoveable=[],r.prototype.neighbours=[],r.prototype.indices=[],r.prototype.allowedToRun=!0,r.prototype.isVertexIgnored=function(t){return n.default.prototype.isVertexIgnored.apply(this,arguments)||0==this.graph.getConnections(t).length},r.prototype.execute=function(t){var e=this.graph.getModel();this.vertexArray=[];for(var i=this.graph.getChildVertices(t),n=0;n<i.length;n++)this.isVertexIgnored(i[n])||this.vertexArray.push(i[n]);var a=this.useInputOrigin?this.graph.getBoundingBoxFromGeometry(this.vertexArray):null,r=this.vertexArray.length;this.indices=[],this.dispX=[],this.dispY=[],this.cellLocation=[],this.isMoveable=[],this.neighbours=[],this.radius=[],this.radiusSquared=[],this.forceConstant<.001&&(this.forceConstant=.001),this.forceConstantSquared=this.forceConstant*this.forceConstant;for(n=0;n<this.vertexArray.length;n++){var o=this.vertexArray[n];this.cellLocation[n]=[];var s=l.default.get(o);this.indices[s]=n;var u=(v=this.getVertexBounds(o)).width,d=v.height,h=v.x,c=v.y;this.cellLocation[n][0]=h+u/2,this.cellLocation[n][1]=c+d/2,this.radius[n]=Math.min(u,d),this.radiusSquared[n]=this.radius[n]*this.radius[n]}e.beginUpdate();try{for(n=0;n<r;n++){this.dispX[n]=0,this.dispY[n]=0,this.isMoveable[n]=this.isVertexMovable(this.vertexArray[n]);var p=this.graph.getConnections(this.vertexArray[n],t);i=this.graph.getOpposites(p,this.vertexArray[n]);this.neighbours[n]=[];for(var f=0;f<i.length;f++){this.resetEdges&&this.graph.resetEdge(p[f]),this.disableEdgeStyle&&this.setEdgeStyleEnabled(p[f],!1);s=l.default.get(i[f]);var g=this.indices[s];this.neighbours[n][f]=null!=g?g:n}}for(this.temperature=this.initialTemp,0==this.maxIterations&&(this.maxIterations=20*Math.sqrt(r)),this.iteration=0;this.iteration<this.maxIterations;this.iteration++){if(!this.allowedToRun)return;this.calcRepulsion(),this.calcAttraction(),this.calcPositions(),this.reduceTemperature()}var y=null,m=null;for(n=0;n<this.vertexArray.length;n++){var v;o=this.vertexArray[n];if(this.isVertexMovable(o))if(null!=(v=this.getVertexBounds(o))){this.cellLocation[n][0]-=v.width/2,this.cellLocation[n][1]-=v.height/2;h=this.graph.snap(this.cellLocation[n][0]),c=this.graph.snap(this.cellLocation[n][1]);this.setVertexLocation(o,h,c),y=null==y?h:Math.min(y,h),m=null==m?c:Math.min(m,c)}}var E=1-(y||0),b=1-(m||0);null!=a&&(E+=a.x,b+=a.y),this.graph.moveCells(this.vertexArray,E,b)}finally{e.endUpdate()}},r.prototype.calcPositions=function(){for(var t=0;t<this.vertexArray.length;t++)if(this.isMoveable[t]){var e=Math.sqrt(this.dispX[t]*this.dispX[t]+this.dispY[t]*this.dispY[t]);e<.001&&(e=.001);var i=this.dispX[t]/e*Math.min(e,this.temperature),n=this.dispY[t]/e*Math.min(e,this.temperature);this.dispX[t]=0,this.dispY[t]=0,this.cellLocation[t][0]+=i,this.cellLocation[t][1]+=n}},r.prototype.calcAttraction=function(){for(var t=0;t<this.vertexArray.length;t++)for(var e=0;e<this.neighbours[t].length;e++){var i=this.neighbours[t][e];if(t!=i&&this.isMoveable[t]&&this.isMoveable[i]){var n=this.cellLocation[t][0]-this.cellLocation[i][0],l=this.cellLocation[t][1]-this.cellLocation[i][1],a=n*n+l*l-this.radiusSquared[t]-this.radiusSquared[i];a<this.minDistanceLimitSquared&&(a=this.minDistanceLimitSquared);var r=Math.sqrt(a),o=a/this.forceConstant,s=n/r*o,u=l/r*o;this.dispX[t]-=s,this.dispY[t]-=u,this.dispX[i]+=s,this.dispY[i]+=u}}},r.prototype.calcRepulsion=function(){for(var t=this.vertexArray.length,e=0;e<t;e++)for(var i=e;i<t;i++){if(!this.allowedToRun)return;if(i!=e&&this.isMoveable[e]&&this.isMoveable[i]){var n=this.cellLocation[e][0]-this.cellLocation[i][0],l=this.cellLocation[e][1]-this.cellLocation[i][1];0==n&&(n=.01+Math.random()),0==l&&(l=.01+Math.random());var a=Math.sqrt(n*n+l*l),r=a-this.radius[e]-this.radius[i];if(r>this.maxDistanceLimit)continue;r<this.minDistanceLimit&&(r=this.minDistanceLimit);var o=this.forceConstantSquared/r,s=n/a*o,u=l/a*o;this.dispX[e]+=s,this.dispY[e]+=u,this.dispX[i]-=s,this.dispY[i]-=u}}},r.prototype.reduceTemperature=function(){this.temperature=this.initialTemp*(1-this.iteration/this.maxIterations)};e.default=r},517648:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(i(22676)),l=s(i(370608)),a=s(i(742288)),r=s(i(11131)),o=s(i(132448));function s(t){return t&&t.__esModule?t:{default:t}}function u(t){this.table=document.createElement("table"),this.table.className=t,this.body=document.createElement("tbody"),this.table.appendChild(this.body)}u.prototype.table=null,u.prototype.body=!1,u.prototype.getTable=function(){return this.table},u.prototype.addButtons=function(t,e){var i=document.createElement("tr"),n=document.createElement("td");i.appendChild(n),n=document.createElement("td");var o=document.createElement("button");a.default.write(o,r.default.get("ok")||"OK"),n.appendChild(o),l.default.addListener(o,"click",(function(){t()})),o=document.createElement("button"),a.default.write(o,r.default.get("cancel")||"Cancel"),n.appendChild(o),l.default.addListener(o,"click",(function(){e()})),i.appendChild(n),this.body.appendChild(i)},u.prototype.addText=function(t,e){var i=document.createElement("input");return i.setAttribute("type","text"),i.value=e,this.addField(t,i)},u.prototype.addCheckbox=function(t,e){var i=document.createElement("input");return i.setAttribute("type","checkbox"),this.addField(t,i),e&&(i.checked=!0),i},u.prototype.addTextarea=function(t,e,i){var l=document.createElement("textarea");return n.default.IS_NS&&i--,l.setAttribute("rows",i||2),l.value=e,this.addField(t,l)},u.prototype.addCombo=function(t,e,i){var n=document.createElement("select");return null!=i&&n.setAttribute("size",i),e&&n.setAttribute("multiple","true"),this.addField(t,n)},u.prototype.addOption=function(t,e,i,n){var l=document.createElement("option");o.default.writeln(l,e),l.setAttribute("value",i),n&&l.setAttribute("selected",n),t.appendChild(l)},u.prototype.addField=function(t,e){var i=document.createElement("tr"),n=document.createElement("td");return a.default.write(n,t),i.appendChild(n),(n=document.createElement("td")).appendChild(e),i.appendChild(n),this.body.appendChild(i),e};e.default=u},146880:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(23544);var n=r(i(164460)),l=r(i(247644)),a=r(i(132448));function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e,i,n){l.default.call(this,t,e,i,n)}o.prototype=new l.default,o.prototype.constructor=o,o.prototype.TRANSLATE_CONTROL_POINTS=!0,o.prototype.alternateBounds=null,o.prototype.sourcePoint=null,o.prototype.targetPoint=null,o.prototype.points=null,o.prototype.offset=null,o.prototype.relative=!1,o.prototype.swap=function(){if(null!=this.alternateBounds){var t=new l.default(this.x,this.y,this.width,this.height);this.x=this.alternateBounds.x,this.y=this.alternateBounds.y,this.width=this.alternateBounds.width,this.height=this.alternateBounds.height,this.alternateBounds=t}},o.prototype.getTerminalPoint=function(t){return t?this.sourcePoint:this.targetPoint},o.prototype.setTerminalPoint=function(t,e){return e?this.sourcePoint=t:this.targetPoint=t,t},o.prototype.rotate=function(t,e){var i=a.default.toRadians(t),l=Math.cos(i),r=Math.sin(i);if(!this.relative){var o=new n.default(this.getCenterX(),this.getCenterY()),s=a.default.getRotatedPoint(o,l,r,e);this.x=Math.round(s.x-this.width/2),this.y=Math.round(s.y-this.height/2)}if(null!=this.sourcePoint){s=a.default.getRotatedPoint(this.sourcePoint,l,r,e);this.sourcePoint.x=Math.round(s.x),this.sourcePoint.y=Math.round(s.y)}if(null!=this.targetPoint){s=a.default.getRotatedPoint(this.targetPoint,l,r,e);this.targetPoint.x=Math.round(s.x),this.targetPoint.y=Math.round(s.y)}if(null!=this.points)for(var u=0;u<this.points.length;u++)if(null!=this.points[u]){s=a.default.getRotatedPoint(this.points[u],l,r,e);this.points[u].x=Math.round(s.x),this.points[u].y=Math.round(s.y)}},o.prototype.translate=function(t,e){if(t=parseFloat(t),e=parseFloat(e),this.relative||(this.x=parseFloat(this.x)+t,this.y=parseFloat(this.y)+e),null!=this.sourcePoint&&(this.sourcePoint.x=parseFloat(this.sourcePoint.x)+t,this.sourcePoint.y=parseFloat(this.sourcePoint.y)+e),null!=this.targetPoint&&(this.targetPoint.x=parseFloat(this.targetPoint.x)+t,this.targetPoint.y=parseFloat(this.targetPoint.y)+e),this.TRANSLATE_CONTROL_POINTS&&null!=this.points)for(var i=0;i<this.points.length;i++)null!=this.points[i]&&(this.points[i].x=parseFloat(this.points[i].x)+t,this.points[i].y=parseFloat(this.points[i].y)+e)},o.prototype.scale=function(t,e,i){if(t=parseFloat(t),e=parseFloat(e),null!=this.sourcePoint&&(this.sourcePoint.x=parseFloat(this.sourcePoint.x)*t,this.sourcePoint.y=parseFloat(this.sourcePoint.y)*e),null!=this.targetPoint&&(this.targetPoint.x=parseFloat(this.targetPoint.x)*t,this.targetPoint.y=parseFloat(this.targetPoint.y)*e),null!=this.points)for(var n=0;n<this.points.length;n++)null!=this.points[n]&&(this.points[n].x=parseFloat(this.points[n].x)*t,this.points[n].y=parseFloat(this.points[n].y)*e);this.relative||(this.x=parseFloat(this.x)*t,this.y=parseFloat(this.y)*e,i&&(e=t=Math.min(t,e)),this.width=parseFloat(this.width)*t,this.height=parseFloat(this.height)*e)},o.prototype.equals=function(t){return l.default.prototype.equals.apply(this,arguments)&&this.relative==t.relative&&(null==this.sourcePoint&&null==t.sourcePoint||null!=this.sourcePoint&&this.sourcePoint.equals(t.sourcePoint))&&(null==this.targetPoint&&null==t.targetPoint||null!=this.targetPoint&&this.targetPoint.equals(t.targetPoint))&&(null==this.points&&null==t.points||null!=this.points&&a.default.equalPoints(this.points,t.points))&&(null==this.alternateBounds&&null==t.alternateBounds||null!=this.alternateBounds&&this.alternateBounds.equals(t.alternateBounds))&&(null==this.offset&&null==t.offset||null!=this.offset&&this.offset.equals(t.offset))},o.getName=function(){return"mxGeometry"};e.default=o},208104:function(t,e,i){"use strict";function n(t,e,i){this.model=t,this.cell=e,this.geometry=i,this.previous=i}i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n.prototype.execute=function(){this.geometry=this.previous,this.previous=this.model.geometryForCellChanged(this.cell,this.previous)},n.getName=function(){return"mxGeometryChange"};e.default=n},498096:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(9692),i(106208),i(241872),i(693917),i(927184),i(976896),i(297336),i(387912),i(23544),i(571176),i(633768),i(690512),i(513640),i(86744);var n=Q(i(280908)),l=Q(i(264336)),a=Q(i(780208)),r=Q(i(593152)),o=Q(i(147496)),s=Q(i(180800)),u=Q(i(339024)),d=Q(i(409988)),h=Q(i(323572)),c=Q(i(22676)),p=Q(i(61036)),f=Q(i(28096)),g=Q(i(183520)),y=Q(i(215472)),m=(Q(i(710952)),Q(i(742288))),v=Q(i(39864)),E=Q(i(898916)),b=Q(i(235680)),S=Q(i(995048)),w=Q(i(370608)),A=Q(i(630160)),C=Q(i(172636)),T=Q(i(591108)),M=Q(i(956392)),x=Q(i(247644)),I=Q(i(427964)),L=Q(i(833800)),N=Q(i(146880)),O=Q(i(164460)),D=Q(i(540168)),R=Q(i(53108)),_=Q(i(736616)),P=Q(i(11131)),k=Q(i(858336)),H=Q(i(809196)),G=Q(i(790448)),B=Q(i(132448)),z=Q(i(886136)),F=Q(i(208104)),V=Q(i(38724)),U=Q(i(68127)),Y=Q(i(478780)),j=Q(i(326660)),W=Q(i(819996)),Z=Q(i(496592)),X=Q(i(822860));function Q(t){return t&&t.__esModule?t:{default:t}}function J(t,e,i,n){this.mouseListeners=null,this.renderHint=i,c.default.IS_SVG?this.dialect=G.default.DIALECT_SVG:i==G.default.RENDERING_HINT_EXACT&&c.default.IS_VML?this.dialect=G.default.DIALECT_VML:i==G.default.RENDERING_HINT_FASTEST?this.dialect=G.default.DIALECT_STRICTHTML:i==G.default.RENDERING_HINT_FASTER?this.dialect=G.default.DIALECT_PREFERHTML:this.dialect=G.default.DIALECT_MIXEDHTML,this.model=null!=e?e:new d.default,this.multiplicities=[],this.imageBundles=[],this.cellRenderer=this.createCellRenderer(),this.setSelectionModel(this.createSelectionModel()),this.setStylesheet(null!=n?n:this.createStylesheet()),this.view=this.createGraphView(),this.graphModelChangeListener=m.default.bind(this,(function(t,e){this.graphModelChanged(e.getProperty("edit").changes)})),this.model.addListener(w.default.CHANGE,this.graphModelChangeListener),this.createHandlers(),null!=t&&this.init(t),this.view.revalidate()}J.prototype=new v.default,J.prototype.constructor=J,J.prototype.EMPTY_ARRAY=[],J.prototype.mouseListeners=null,J.prototype.isMouseDown=!1,J.prototype.model=null,J.prototype.view=null,J.prototype.stylesheet=null,J.prototype.selectionModel=null,J.prototype.cellEditor=null,J.prototype.cellRenderer=null,J.prototype.multiplicities=null,J.prototype.renderHint=null,J.prototype.dialect=null,J.prototype.gridSize=10,J.prototype.gridEnabled=!0,J.prototype.portsEnabled=!0,J.prototype.nativeDblClickEnabled=!0,J.prototype.doubleTapEnabled=!0,J.prototype.doubleTapTimeout=500,J.prototype.doubleTapTolerance=25,J.prototype.lastTouchY=0,J.prototype.lastTouchY=0,J.prototype.lastTouchTime=0,J.prototype.tapAndHoldEnabled=!0,J.prototype.tapAndHoldDelay=500,J.prototype.tapAndHoldInProgress=!1,J.prototype.tapAndHoldValid=!1,J.prototype.initialTouchX=0,J.prototype.initialTouchY=0,J.prototype.tolerance=4,J.prototype.defaultOverlap=.5,J.prototype.defaultParent=null,J.prototype.alternateEdgeStyle=null,J.prototype.backgroundImage=null,J.prototype.pageVisible=!1,J.prototype.pageBreaksVisible=!1,J.prototype.pageBreakColor="gray",J.prototype.pageBreakDashed=!0,J.prototype.minPageBreakDist=20,J.prototype.preferPageSize=!1,J.prototype.pageFormat=G.default.PAGE_FORMAT_A4_PORTRAIT,J.prototype.pageScale=1.5,J.prototype.enabled=!0,J.prototype.animation=!1,J.prototype.escapeEnabled=!0,J.prototype.invokesStopCellEditing=!0,J.prototype.enterStopsCellEditing=!1,J.prototype.useScrollbarsForPanning=!0,J.prototype.exportEnabled=!0,J.prototype.importEnabled=!0,J.prototype.cellsLocked=!1,J.prototype.cellsCloneable=!0,J.prototype.foldingEnabled=!0,J.prototype.cellsEditable=!0,J.prototype.cellsDeletable=!0,J.prototype.cellsMovable=!0,J.prototype.edgeLabelsMovable=!0,J.prototype.vertexLabelsMovable=!1,J.prototype.dropEnabled=!1,J.prototype.splitEnabled=!0,J.prototype.cellsResizable=!0,J.prototype.cellsBendable=!0,J.prototype.cellsSelectable=!0,J.prototype.cellsDisconnectable=!0,J.prototype.autoSizeCells=!1,J.prototype.autoSizeCellsOnAdd=!1,J.prototype.autoScroll=!0,J.prototype.ignoreScrollbars=!1,J.prototype.translateToScrollPosition=!1,J.prototype.timerAutoScroll=!1,J.prototype.allowAutoPanning=!1,J.prototype.autoExtend=!0,J.prototype.maximumGraphBounds=null,J.prototype.minimumGraphSize=null,J.prototype.minimumContainerSize=null,J.prototype.maximumContainerSize=null,J.prototype.resizeContainer=!1,J.prototype.border=0,J.prototype.keepEdgesInForeground=!1,J.prototype.keepEdgesInBackground=!1,J.prototype.allowNegativeCoordinates=!0,J.prototype.constrainChildren=!0,J.prototype.constrainRelativeChildren=!1,J.prototype.extendParents=!0,J.prototype.extendParentsOnAdd=!0,J.prototype.extendParentsOnMove=!1,J.prototype.recursiveResize=!1,J.prototype.collapseToPreferredSize=!0,J.prototype.zoomFactor=1.2,J.prototype.keepSelectionVisibleOnZoom=!1,J.prototype.centerZoom=!0,J.prototype.resetViewOnRootChange=!0,J.prototype.resetEdgesOnResize=!1,J.prototype.resetEdgesOnMove=!1,J.prototype.resetEdgesOnConnect=!0,J.prototype.allowLoops=!1,J.prototype.defaultLoopStyle=z.default.Loop,J.prototype.multigraph=!0,J.prototype.connectableEdges=!1,J.prototype.allowDanglingEdges=!0,J.prototype.cloneInvalidEdges=!1,J.prototype.disconnectOnMove=!0,J.prototype.labelsVisible=!0,J.prototype.htmlLabels=!1,J.prototype.swimlaneSelectionEnabled=!0,J.prototype.swimlaneNesting=!0,J.prototype.swimlaneIndicatorColorAttribute=G.default.STYLE_FILLCOLOR,J.prototype.imageBundles=null,J.prototype.minFitScale=.1,J.prototype.maxFitScale=8,J.prototype.panDx=0,J.prototype.panDy=0,J.prototype.collapsedImage=new A.default(X.default.COLLAPSED_IMAGE,15,15),J.prototype.expandedImage=new A.default(X.default.EXPANDED_IMAGE,15,15),J.prototype.warningImage=new A.default(c.default.imageBasePath+"/warning"+(c.default.IS_MAC?".png":".gif"),16,16),J.prototype.alreadyConnectedResource="none"!=c.default.language?"alreadyConnected":"",J.prototype.containsValidationErrorsResource="none"!=c.default.language?"containsValidationErrors":"",J.prototype.collapseExpandResource="none"!=c.default.language?"collapse-expand":"",J.prototype.init=function(t){this.container=t,this.cellEditor=this.createCellEditor(),this.view.init(),this.sizeDidChange(),w.default.addListener(t,"mouseleave",m.default.bind(this,(function(){null!=this.tooltipHandler&&this.tooltipHandler.hide()}))),c.default.IS_IE&&(w.default.addListener(window,"unload",m.default.bind(this,(function(){this.destroy()}))),w.default.addListener(t,"selectstart",m.default.bind(this,(function(t){return this.isEditing()||!this.isMouseDown&&!w.default.isShiftDown(t)})))),8==document.documentMode&&t.insertAdjacentHTML("beforeend",'<v:group style="DISPLAY: none;"></v:group>')},J.prototype.createHandlers=function(){this.tooltipHandler=this.createTooltipHandler(),this.tooltipHandler.setEnabled(!1),this.selectionCellsHandler=this.createSelectionCellsHandler(),this.connectionHandler=this.createConnectionHandler(),this.connectionHandler.setEnabled(!1),this.graphHandler=this.createGraphHandler(),this.panningHandler=this.createPanningHandler(),this.panningHandler.panningEnabled=!1,this.popupMenuHandler=this.createPopupMenuHandler()},J.prototype.createTooltipHandler=function(){return new h.default(this)},J.prototype.createSelectionCellsHandler=function(){return new l.default(this)},J.prototype.createConnectionHandler=function(){return new s.default(this)},J.prototype.createGraphHandler=function(){return new _.default(this)},J.prototype.createPanningHandler=function(){return new r.default(this)},J.prototype.createPopupMenuHandler=function(){return new D.default(this)},J.prototype.createSelectionModel=function(){return new I.default(this)},J.prototype.createStylesheet=function(){return new y.default},J.prototype.createGraphView=function(){return new H.default(this)},J.prototype.createCellRenderer=function(){return new M.default},J.prototype.createCellEditor=function(){return new k.default(this)},J.prototype.getModel=function(){return this.model},J.prototype.getView=function(){return this.view},J.prototype.getStylesheet=function(){return this.stylesheet},J.prototype.setStylesheet=function(t){this.stylesheet=t},J.prototype.getSelectionModel=function(){return this.selectionModel},J.prototype.setSelectionModel=function(t){this.selectionModel=t},J.prototype.getSelectionCellsForChanges=function(t){for(var e=[],i=0;i<t.length;i++){var l=t[i];if(l.constructor!=W.default){var a=null;l instanceof Y.default&&null==l.previous?a=l.child:null!=l.cell&&l.cell instanceof n.default&&(a=l.cell),null!=a&&m.default.indexOf(e,a)<0&&e.push(a)}}return this.getModel().getTopmostCells(e)},J.prototype.graphModelChanged=function(t){for(var e=0,i=0;i<t.length;i++){var n=t[i];this.processChange(n),n instanceof U.default&&e++}this.removeSelectionCells(this.getRemovedCellsForChanges(t)),this.view.validate(),e!=t.length&&this.sizeDidChange()},J.prototype.getRemovedCellsForChanges=function(t){for(var e=[],i=0;i<t.length;i++){var n=t[i];if(n instanceof W.default)break;n instanceof Y.default?null!=n.previous&&null==n.parent&&(e=e.concat(this.model.getDescendants(n.child))):n instanceof V.default&&(e=e.concat(this.model.getDescendants(n.cell)))}return e},J.prototype.processChange=function(t){if(t instanceof W.default)this.clearSelection(),this.removeStateForCell(t.previous),this.resetViewOnRootChange&&(this.view.scale=1,this.view.translate.x=0,this.view.translate.y=0),this.fireEvent(new S.default(w.default.ROOT));else if(t instanceof Y.default){var e=this.model.getParent(t.child);this.view.invalidate(t.child,!0,!0),(null==e||this.isCellCollapsed(e))&&(this.view.invalidate(t.child,!0,!0),this.removeStateForCell(t.child),this.view.currentRoot==t.child&&this.home()),e!=t.previous&&(null!=e&&this.view.invalidate(e,!1,!1),null!=t.previous&&this.view.invalidate(t.previous,!1,!1))}else if(t instanceof Z.default||t instanceof F.default)(t instanceof Z.default||null==t.previous&&null!=t.geometry||null!=t.previous&&!t.previous.equals(t.geometry))&&this.view.invalidate(t.cell);else if(t instanceof j.default)this.view.invalidate(t.cell,!1,!1);else if(t instanceof U.default){this.view.invalidate(t.cell,!0,!0);var i=this.view.getState(t.cell);null!=i&&(i.style=null)}else null!=t.cell&&t.cell instanceof n.default&&this.removeStateForCell(t.cell)},J.prototype.removeStateForCell=function(t){for(var e=this.model.getChildCount(t),i=0;i<e;i++)this.removeStateForCell(this.model.getChildAt(t,i));this.view.invalidate(t,!1,!0),this.view.removeState(t)},J.prototype.addCellOverlay=function(t,e){null==t.overlays&&(t.overlays=[]),t.overlays.push(e);var i=this.view.getState(t);return null!=i&&this.cellRenderer.redraw(i),this.fireEvent(new S.default(w.default.ADD_OVERLAY,"cell",t,"overlay",e)),e},J.prototype.getCellOverlays=function(t){return t.overlays},J.prototype.removeCellOverlay=function(t,e){if(null==e)this.removeCellOverlays(t);else{var i=m.default.indexOf(t.overlays,e);if(i>=0){t.overlays.splice(i,1),0==t.overlays.length&&(t.overlays=null);var n=this.view.getState(t);null!=n&&this.cellRenderer.redraw(n),this.fireEvent(new S.default(w.default.REMOVE_OVERLAY,"cell",t,"overlay",e))}else e=null}return e},J.prototype.removeCellOverlays=function(t){var e=t.overlays;if(null!=e){t.overlays=null;var i=this.view.getState(t);null!=i&&this.cellRenderer.redraw(i);for(var n=0;n<e.length;n++)this.fireEvent(new S.default(w.default.REMOVE_OVERLAY,"cell",t,"overlay",e[n]))}return e},J.prototype.clearCellOverlays=function(t){t=null!=t?t:this.model.getRoot(),this.removeCellOverlays(t);for(var e=this.model.getChildCount(t),i=0;i<e;i++){var n=this.model.getChildAt(t,i);this.clearCellOverlays(n)}},J.prototype.setCellWarning=function(t,e,i,n){if(null!=e&&e.length>0){i=null!=i?i:this.warningImage;var l=new p.default(i,"<font color=red>"+e+"</font>");return n&&l.addListener(w.default.CLICK,m.default.bind(this,(function(e,i){this.isEnabled()&&this.setSelectionCell(t)}))),this.addCellOverlay(t,l)}return this.removeCellOverlays(t),null},J.prototype.startEditing=function(t){this.startEditingAtCell(null,t)},J.prototype.startEditingAtCell=function(t,e){null!=e&&w.default.isMultiTouchEvent(e)||(null==t&&(null==(t=this.getSelectionCell())||this.isCellEditable(t)||(t=null)),null!=t&&(this.fireEvent(new S.default(w.default.START_EDITING,"cell",t,"event",e)),this.cellEditor.startEditing(t,e),this.fireEvent(new S.default(w.default.EDITING_STARTED,"cell",t,"event",e))))},J.prototype.getEditingValue=function(t,e){return this.convertValueToString(t)},J.prototype.stopEditing=function(t){this.cellEditor.stopEditing(t),this.fireEvent(new S.default(w.default.EDITING_STOPPED,"cancel",t))},J.prototype.labelChanged=function(t,e,i){this.model.beginUpdate();try{var n=t.value;this.cellLabelChanged(t,e,this.isAutoSizeCell(t)),this.fireEvent(new S.default(w.default.LABEL_CHANGED,"cell",t,"value",e,"old",n,"event",i))}finally{this.model.endUpdate()}return t},J.prototype.cellLabelChanged=function(t,e,i){this.model.beginUpdate();try{this.model.setValue(t,e),i&&this.cellSizeUpdated(t,!1)}finally{this.model.endUpdate()}},J.prototype.escape=function(t){this.fireEvent(new S.default(w.default.ESCAPE,"event",t))},J.prototype.click=function(t){var e=t.getEvent(),i=t.getCell(),n=new S.default(w.default.CLICK,"event",e,"cell",i);if(t.isConsumed()&&n.consume(),this.fireEvent(n),this.isEnabled()&&!w.default.isConsumed(e)&&!n.isConsumed())if(null!=i)this.selectCellForEvent(i,e);else{var l=null;this.isSwimlaneSelectionEnabled()&&(l=this.getSwimlaneAt(t.getGraphX(),t.getGraphY())),null!=l?this.selectCellForEvent(l,e):this.isToggleEvent(e)||this.clearSelection()}},J.prototype.dblClick=function(t,e){var i=new S.default(w.default.DOUBLE_CLICK,"event",t,"cell",e);this.fireEvent(i),!this.isEnabled()||w.default.isConsumed(t)||i.isConsumed()||null==e||!this.isCellEditable(e)||this.isEditing(e)||(this.startEditingAtCell(e,t),w.default.consume(t))},J.prototype.tapAndHold=function(t){var e=t.getEvent(),i=new S.default(w.default.TAP_AND_HOLD,"event",e,"cell",t.getCell());if(this.fireEvent(i),i.isConsumed()&&(this.panningHandler.panningTrigger=!1),this.isEnabled()&&!w.default.isConsumed(e)&&!i.isConsumed()&&this.connectionHandler.isEnabled()){var n=this.view.getState(this.connectionHandler.marker.getCell(t));null!=n&&(this.connectionHandler.marker.currentColor=this.connectionHandler.marker.validColor,this.connectionHandler.marker.markedState=n,this.connectionHandler.marker.mark(),this.connectionHandler.first=new O.default(t.getGraphX(),t.getGraphY()),this.connectionHandler.edgeState=this.connectionHandler.createEdgeState(t),this.connectionHandler.previous=n,this.connectionHandler.fireEvent(new S.default(w.default.START,"state",this.connectionHandler.previous)))}},J.prototype.scrollPointToVisible=function(t,e,i,n){if(this.timerAutoScroll||!this.ignoreScrollbars&&!B.default.hasScrollbars(this.container))this.allowAutoPanning&&!this.panningHandler.isActive()&&(null==this.panningManager&&(this.panningManager=this.createPanningManager()),this.panningManager.panTo(t+this.panDx,e+this.panDy));else{var l=this.container;if(n=null!=n?n:20,t>=l.scrollLeft&&e>=l.scrollTop&&t<=l.scrollLeft+l.clientWidth&&e<=l.scrollTop+l.clientHeight){var a=l.scrollLeft+l.clientWidth-t;if(a<n){var r=l.scrollLeft;if(l.scrollLeft+=n-a,i&&r==l.scrollLeft){if(this.dialect==G.default.DIALECT_SVG){var o=this.view.getDrawPane().ownerSVGElement,s=this.container.scrollWidth+n-a;o.style.width=s+"px"}else{s=Math.max(l.clientWidth,l.scrollWidth)+n-a;this.view.getCanvas().style.width=s+"px"}l.scrollLeft+=n-a}}else(a=t-l.scrollLeft)<n&&(l.scrollLeft-=n-a);var u=l.scrollTop+l.clientHeight-e;if(u<n){r=l.scrollTop;if(l.scrollTop+=n-u,r==l.scrollTop&&i){if(this.dialect==G.default.DIALECT_SVG){o=this.view.getDrawPane().ownerSVGElement;var d=this.container.scrollHeight+n-u;o.style.height=d+"px"}else{d=Math.max(l.clientHeight,l.scrollHeight)+n-u;this.view.getCanvas().style.height=d+"px"}l.scrollTop+=n-u}}else(u=e-l.scrollTop)<n&&(l.scrollTop-=n-u)}}},J.prototype.createPanningManager=function(){return new f.default(this)},J.prototype.getBorderSizes=function(){var t=m.default.getCurrentStyle(this.container);return new x.default(B.default.parseCssNumber(t.paddingLeft)+("none"!=t.borderLeftStyle?B.default.parseCssNumber(t.borderLeftWidth):0),B.default.parseCssNumber(t.paddingTop)+("none"!=t.borderTopStyle?B.default.parseCssNumber(t.borderTopWidth):0),B.default.parseCssNumber(t.paddingRight)+("none"!=t.borderRightStyle?B.default.parseCssNumber(t.borderRightWidth):0),B.default.parseCssNumber(t.paddingBottom)+("none"!=t.borderBottomStyle?B.default.parseCssNumber(t.borderBottomWidth):0))},J.prototype.getPreferredPageSize=function(t,e,i){var n=this.view.scale,l=this.view.translate,a=this.pageFormat,r=n*this.pageScale,o=new x.default(0,0,a.width*r,a.height*r),s=this.pageBreaksVisible?Math.ceil(e/o.width):1,u=this.pageBreaksVisible?Math.ceil(i/o.height):1;return new x.default(0,0,s*o.width+2+l.x/n,u*o.height+2+l.y/n)},J.prototype.fit=function(t,e,i,n,l,a){if(null!=this.container){t=null!=t?t:this.getBorder(),e=null!=e&&e,i=null!=i?i:0,n=null==n||n,l=null!=l&&l,a=null!=a&&a;var r=this.getBorderSizes(),o=this.container.offsetWidth-r.x-r.width-1,s=this.container.offsetHeight-r.y-r.height-1,u=this.view.getGraphBounds();if(u.width>0&&u.height>0){e&&null!=u.x&&null!=u.y&&((u=u.clone()).width+=u.x,u.height+=u.y,u.x=0,u.y=0);var d=this.view.scale,h=u.width/d,c=u.height/d;null!=this.backgroundImage&&(h=Math.max(h,this.backgroundImage.width-u.x/d),c=Math.max(c,this.backgroundImage.height-u.y/d));var p=(e?t:2*t)+i;o-=p,s-=p;var f=l?s/c:a?o/h:Math.min(o/h,s/c);if(null!=this.minFitScale&&(f=Math.max(f,this.minFitScale)),null!=this.maxFitScale&&(f=Math.min(f,this.maxFitScale)),!n)return f;if(e)this.view.scale!=f&&this.view.setScale(f);else if(B.default.hasScrollbars(this.container)){this.view.setScale(f);var g=this.getGraphBounds();null!=g.x&&(this.container.scrollLeft=g.x),null!=g.y&&(this.container.scrollTop=g.y)}else{var y=null!=u.x?Math.floor(this.view.translate.x-u.x/d+t/f+i/2):t,m=null!=u.y?Math.floor(this.view.translate.y-u.y/d+t/f+i/2):t;this.view.scaleAndTranslate(f,y,m)}}}return this.view.scale},J.prototype.sizeDidChange=function(){var t=this.getGraphBounds();if(null!=this.container){var e=this.getBorder(),i=Math.max(0,t.x+t.width+e),n=Math.max(0,t.y+t.height+e);if(null!=this.minimumContainerSize&&(i=Math.max(i,this.minimumContainerSize.width),n=Math.max(n,this.minimumContainerSize.height)),this.resizeContainer&&this.doResizeContainer(i,n),this.preferPageSize||!c.default.IS_IE&&this.pageVisible){var l=this.getPreferredPageSize(t,i,n);null!=l&&(i=l.width*this.view.scale,n=l.height*this.view.scale)}if(null!=this.minimumGraphSize&&(i=Math.max(i,this.minimumGraphSize.width*this.view.scale),n=Math.max(n,this.minimumGraphSize.height*this.view.scale)),i=Math.ceil(i),n=Math.ceil(n),this.dialect==G.default.DIALECT_SVG){var a=this.view.getDrawPane().ownerSVGElement;a.style.minWidth=Math.max(1,i)+"px",a.style.minHeight=Math.max(1,n)+"px",a.style.width="100%",a.style.height="100%"}else c.default.IS_QUIRKS?this.view.updateHtmlCanvasSize(Math.max(1,i),Math.max(1,n)):(this.view.canvas.style.minWidth=Math.max(1,i)+"px",this.view.canvas.style.minHeight=Math.max(1,n)+"px");this.updatePageBreaks(this.pageBreaksVisible,i,n)}this.fireEvent(new S.default(w.default.SIZE,"bounds",t))},J.prototype.doResizeContainer=function(t,e){null!=this.maximumContainerSize&&(t=Math.min(this.maximumContainerSize.width,t),e=Math.min(this.maximumContainerSize.height,e)),this.container.style.width=Math.ceil(t)+"px",this.container.style.height=Math.ceil(e)+"px"},J.prototype.updatePageBreaks=function(t,e,i){var n=this.view.scale,l=this.view.translate,r=this.pageFormat,o=n*this.pageScale,s=new x.default(0,0,r.width*o,r.height*o),u=x.default.fromRectangle(this.getGraphBounds());s.x=Math.floor((u.x-l.x*n)/s.width)*s.width+l.x*n,s.y=Math.floor((u.y-l.y*n)/s.height)*s.height+l.y*n,u.width=Math.ceil((u.width+(u.x-s.x))/s.width)*s.width,u.height=Math.ceil((u.height+(u.y-s.y))/s.height)*s.height;var d=(t=t&&Math.min(s.width,s.height)>this.minPageBreakDist)?Math.ceil(u.width/s.width)+1:0,h=t?Math.ceil(u.height/s.height)+1:0,c=(d-1)*s.width,p=(h-1)*s.height;null==this.horizontalPageBreaks&&d>0&&(this.horizontalPageBreaks=[]),null==this.verticalPageBreaks&&h>0&&(this.verticalPageBreaks=[]);var f=m.default.bind(this,(function(t){if(null!=t){for(var e=t==this.horizontalPageBreaks?d:h,i=0;i<=e;i++){var n=t==this.horizontalPageBreaks?[new O.default(s.x+i*s.width,s.y),new O.default(s.x+i*s.width,s.y+p)]:[new O.default(s.x,s.y+i*s.height),new O.default(s.x+c,s.y+i*s.height)];if(null!=t[i])t[i].points=n,t[i].redraw();else{var l=new a.default(n,this.pageBreakColor);l.dialect=this.dialect,l.pointerEvents=!1,l.isDashed=this.pageBreakDashed,l.init(this.view.backgroundPane),l.redraw(),t[i]=l}}for(i=e;i<t.length;i++)t[i].destroy();t.splice(e,t.length-e)}}));f(this.horizontalPageBreaks),f(this.verticalPageBreaks)},J.prototype.getCellStyle=function(t){var e=this.model.getStyle(t),i=null;return i=this.model.isEdge(t)?this.stylesheet.getDefaultEdgeStyle():this.stylesheet.getDefaultVertexStyle(),null!=e&&(i=this.postProcessCellStyle(this.stylesheet.getCellStyle(e,i))),null==i&&(i=J.prototype.EMPTY_ARRAY),i},J.prototype.postProcessCellStyle=function(t){if(null!=t){var e=t[G.default.STYLE_IMAGE],i=this.getImageFromBundles(e);if(null!=i?t[G.default.STYLE_IMAGE]=i:i=e,null!=i&&"data:image/"==i.substring(0,11)){if("data:image/svg+xml,<"==i.substring(0,20))i=i.substring(0,19)+encodeURIComponent(i.substring(19));else if("data:image/svg+xml,%3C"!=i.substring(0,22)){var n=i.indexOf(",");n>0&&";base64,"!=i.substring(n-7,n+1)&&(i=i.substring(0,n)+";base64,"+i.substring(n+1))}t[G.default.STYLE_IMAGE]=i}}return t},J.prototype.setCellStyle=function(t,e){if(null!=(e=e||this.getSelectionCells())){this.model.beginUpdate();try{for(var i=0;i<e.length;i++)this.model.setStyle(e[i],t)}finally{this.model.endUpdate()}}},J.prototype.toggleCellStyle=function(t,e,i){return i=i||this.getSelectionCell(),this.toggleCellStyles(t,e,[i])},J.prototype.toggleCellStyles=function(t,e,i){e=null!=e&&e;var n=null;if(null!=(i=i||this.getSelectionCells())&&i.length>0){var l=this.view.getState(i[0]),a=null!=l?l.style:this.getCellStyle(i[0]);null!=a&&(n=m.default.getValue(a,t,e)?0:1,this.setCellStyles(t,n,i))}return n},J.prototype.setCellStyles=function(t,e,i){i=i||this.getSelectionCells(),B.default.setCellStyles(this.model,i,t,e)},J.prototype.toggleCellStyleFlags=function(t,e,i){this.setCellStyleFlags(t,e,null,i)},J.prototype.setCellStyleFlags=function(t,e,i,n){if(null!=(n=n||this.getSelectionCells())&&n.length>0){if(null==i){var l=this.view.getState(n[0]),a=null!=l?l.style:this.getCellStyle(n[0]);if(null!=a)i=!((parseInt(a[t]||0)&e)==e)}B.default.setCellStyleFlags(this.model,n,t,e,i)}},J.prototype.alignCells=function(t,e,i){if(null==e&&(e=this.getSelectionCells()),null!=e&&e.length>1){if(null==i)for(var n=0;n<e.length;n++){if(null!=(a=this.view.getState(e[n]))&&!this.model.isEdge(e[n]))if(null==i){if(t==G.default.ALIGN_CENTER){i=a.x+a.width/2;break}if(t==G.default.ALIGN_RIGHT)i=a.x+a.width;else if(t==G.default.ALIGN_TOP)i=a.y;else{if(t==G.default.ALIGN_MIDDLE){i=a.y+a.height/2;break}i=t==G.default.ALIGN_BOTTOM?a.y+a.height:a.x}}else i=t==G.default.ALIGN_RIGHT?Math.max(i,a.x+a.width):t==G.default.ALIGN_TOP?Math.min(i,a.y):t==G.default.ALIGN_BOTTOM?Math.max(i,a.y+a.height):Math.min(i,a.x)}if(null!=i){var l=this.view.scale;this.model.beginUpdate();try{for(n=0;n<e.length;n++){var a;if(null!=(a=this.view.getState(e[n]))){var r=this.getCellGeometry(e[n]);null==r||this.model.isEdge(e[n])||(r=r.clone(),t==G.default.ALIGN_CENTER?r.x+=(i-a.x-a.width/2)/l:t==G.default.ALIGN_RIGHT?r.x+=(i-a.x-a.width)/l:t==G.default.ALIGN_TOP?r.y+=(i-a.y)/l:t==G.default.ALIGN_MIDDLE?r.y+=(i-a.y-a.height/2)/l:t==G.default.ALIGN_BOTTOM?r.y+=(i-a.y-a.height)/l:r.x+=(i-a.x)/l,this.resizeCell(e[n],r))}}this.fireEvent(new S.default(w.default.ALIGN_CELLS,"align",t,"cells",e))}finally{this.model.endUpdate()}}}return e},J.prototype.flipEdge=function(t){if(null!=t&&null!=this.alternateEdgeStyle){this.model.beginUpdate();try{var e=this.model.getStyle(t);null==e||0==e.length?this.model.setStyle(t,this.alternateEdgeStyle):this.model.setStyle(t,null),this.resetEdge(t),this.fireEvent(new S.default(w.default.FLIP_EDGE,"edge",t))}finally{this.model.endUpdate()}}return t},J.prototype.addImageBundle=function(t){this.imageBundles.push(t)},J.prototype.removeImageBundle=function(t){for(var e=[],i=0;i<this.imageBundles.length;i++)this.imageBundles[i]!=t&&e.push(this.imageBundles[i]);this.imageBundles=e},J.prototype.getImageFromBundles=function(t){if(null!=t)for(var e=0;e<this.imageBundles.length;e++){var i=this.imageBundles[e].getImage(t);if(null!=i)return i}return null},J.prototype.orderCells=function(t,e){null==e&&(e=B.default.sortCells(this.getSelectionCells(),!0)),this.model.beginUpdate();try{this.cellsOrdered(e,t),this.fireEvent(new S.default(w.default.ORDER_CELLS,"back",t,"cells",e))}finally{this.model.endUpdate()}return e},J.prototype.cellsOrdered=function(t,e){if(null!=t){this.model.beginUpdate();try{for(var i=0;i<t.length;i++){var n=this.model.getParent(t[i]);e?this.model.add(n,t[i],i):this.model.add(n,t[i],this.model.getChildCount(n)-1)}this.fireEvent(new S.default(w.default.CELLS_ORDERED,"back",e,"cells",t))}finally{this.model.endUpdate()}}},J.prototype.groupCells=function(t,e,i){null==i&&(i=B.default.sortCells(this.getSelectionCells(),!0)),i=this.getCellsForGroup(i),null==t&&(t=this.createGroupCell(i));var n=this.getBoundsForGroup(t,i,e);if(i.length>0&&null!=n){var l=this.model.getParent(t);null==l&&(l=this.model.getParent(i[0])),this.model.beginUpdate();try{null==this.getCellGeometry(t)&&this.model.setGeometry(t,new N.default);var a=this.model.getChildCount(l);this.cellsAdded([t],l,a,null,null,!1),a=this.model.getChildCount(t),this.cellsAdded(i,t,a,null,null,!1,!1),this.cellsMoved(i,-n.x,-n.y,!1,!0),this.cellsResized([t],[n],!1),this.fireEvent(new S.default(w.default.GROUP_CELLS,"group",t,"border",e,"cells",i))}finally{this.model.endUpdate()}}return t},J.prototype.getCellsForGroup=function(t){var e=[];if(null!=t&&t.length>0){var i=this.model.getParent(t[0]);e.push(t[0]);for(var n=1;n<t.length;n++)this.model.getParent(t[n])==i&&e.push(t[n])}return e},J.prototype.getBoundsForGroup=function(t,e,i){var n=this.getBoundingBoxFromGeometry(e,!0);if(null!=n){if(this.isSwimlane(t)){var l=this.getStartSize(t);n.x-=l.width,n.y-=l.height,n.width+=l.width,n.height+=l.height}null!=i&&(n.x-=i,n.y-=i,n.width+=2*i,n.height+=2*i)}return n},J.prototype.createGroupCell=function(t){var e=new n.default("");return e.setVertex(!0),e.setConnectable(!1),e},J.prototype.ungroupCells=function(t){var e=[];if(null==t){t=this.getSelectionCells();for(var i=[],n=0;n<t.length;n++)this.model.getChildCount(t[n])>0&&i.push(t[n]);t=i}if(null!=t&&t.length>0){this.model.beginUpdate();try{for(n=0;n<t.length;n++){var l=this.model.getChildren(t[n]);if(null!=l&&l.length>0){l=l.slice();var a=this.model.getParent(t[n]),r=this.model.getChildCount(a);this.cellsAdded(l,a,r,null,null,!0),e=e.concat(l)}}this.removeCellsAfterUngroup(t),this.fireEvent(new S.default(w.default.UNGROUP_CELLS,"cells",t))}finally{this.model.endUpdate()}}return e},J.prototype.removeCellsAfterUngroup=function(t){this.cellsRemoved(this.addAllEdges(t))},J.prototype.removeCellsFromParent=function(t){null==t&&(t=this.getSelectionCells()),this.model.beginUpdate();try{var e=this.getDefaultParent(),i=this.model.getChildCount(e);this.cellsAdded(t,e,i,null,null,!0),this.fireEvent(new S.default(w.default.REMOVE_CELLS_FROM_PARENT,"cells",t))}finally{this.model.endUpdate()}return t},J.prototype.updateGroupBounds=function(t,e,i,n,l,a,r){null==t&&(t=this.getSelectionCells()),e=null!=e?e:0,i=null!=i&&i,n=null!=n?n:0,l=null!=l?l:0,a=null!=a?a:0,r=null!=r?r:0,this.model.beginUpdate();try{for(var o=t.length-1;o>=0;o--){var s=this.getCellGeometry(t[o]);if(null!=s){var u=this.getChildCells(t[o]);if(null!=u&&u.length>0){var d=this.getBoundingBoxFromGeometry(u,!0);if(null!=d&&d.width>0&&d.height>0){var h=0,c=0;if(this.isSwimlane(t[o])){var p=this.getStartSize(t[o]);h=p.width,c=p.height}s=s.clone(),i&&(s.x=Math.round(s.x+d.x-e-h-r),s.y=Math.round(s.y+d.y-e-c-n)),s.width=Math.round(d.width+2*e+h+r+l),s.height=Math.round(d.height+2*e+c+n+a),this.model.setGeometry(t[o],s),this.moveCells(u,e+h-d.x+r,e+c-d.y+n)}}}}}finally{this.model.endUpdate()}return t},J.prototype.getBoundingBox=function(t){var e=null;if(null!=t&&t.length>0)for(var i=0;i<t.length;i++)if(this.model.isVertex(t[i])||this.model.isEdge(t[i])){var n=this.view.getBoundingBox(this.view.getState(t[i]),!0);null!=n&&(null==e?e=x.default.fromRectangle(n):e.add(n))}return e},J.prototype.cloneCells=function(t,e,i){e=null==e||e;var n=null;if(null!=t){for(var l=new T.default,a=[],r=0;r<t.length;r++)l.put(t[r],!0),a.push(t[r]);if(a.length>0){var o=this.view.scale,s=this.view.translate;n=this.model.cloneCells(t,!0,i);for(r=0;r<t.length;r++)if(!e&&this.model.isEdge(n[r])&&null!=this.getEdgeValidationError(n[r],this.model.getTerminal(n[r],!0),this.model.getTerminal(n[r],!1)))n[r]=null;else{var u=this.model.getGeometry(n[r]);if(null!=u){var d=this.view.getState(t[r]),h=this.view.getState(this.model.getParent(t[r]));if(null!=d&&null!=h){var c=h.origin.x,p=h.origin.y;if(this.model.isEdge(n[r])){for(var f=d.absolutePoints,g=this.model.getTerminal(t[r],!0);null!=g&&!l.get(g);)g=this.model.getParent(g);null==g&&u.setTerminalPoint(new O.default(f[0].x/o-s.x,f[0].y/o-s.y),!0);for(var y=this.model.getTerminal(t[r],!1);null!=y&&!l.get(y);)y=this.model.getParent(y);if(null==y){var m=f.length-1;u.setTerminalPoint(new O.default(f[m].x/o-s.x,f[m].y/o-s.y),!1)}var v=u.points;if(null!=v)for(var E=0;E<v.length;E++)v[E].x+=c,v[E].y+=p}else u.translate(c,p)}}}}else n=[]}return n},J.prototype.insertVertex=function(t,e,i,n,l,a,r,o,s){var u=this.createVertex(t,e,i,n,l,a,r,o,s);return this.addCell(u,t)},J.prototype.createVertex=function(t,e,i,l,a,r,o,s,u){var d=new N.default(l,a,r,o);d.relative=null!=u&&u;var h=new n.default(i,d,s);return h.setId(e),h.setVertex(!0),h.setConnectable(!0),h},J.prototype.insertEdge=function(t,e,i,n,l,a){var r=this.createEdge(t,e,i,n,l,a);return this.addEdge(r,t,n,l)},J.prototype.createEdge=function(t,e,i,l,a,r){var o=new n.default(i,new N.default,r);return o.setId(e),o.setEdge(!0),o.geometry.relative=!0,o.setGroup("DesignControl"),o.setType("SequenceFlow"),o},J.prototype.addEdge=function(t,e,i,n,l){return this.addCell(t,e,l,i,n)},J.prototype.addCell=function(t,e,i,n,l){return this.addCells([t],e,i,n,l)[0]},J.prototype.addCells=function(t,e,i,n,l){null==e&&(e=this.getDefaultParent()),null==i&&(i=this.model.getChildCount(e)),this.model.beginUpdate();try{this.cellsAdded(t,e,i,n,l,!1,!0),this.fireEvent(new S.default(w.default.ADD_CELLS,"cells",t,"parent",e,"index",i,"source",n,"target",l))}finally{this.model.endUpdate()}return t},J.prototype.cellsAdded=function(t,e,i,n,l,a,r){if(null!=t&&null!=e&&null!=i){this.model.beginUpdate();try{for(var o=a?this.view.getState(e):null,s=null!=o?o.origin:null,u=new O.default(0,0),d=0;d<t.length;d++)if(null==t[d])i--;else{var h=this.model.getParent(t[d]);if(null!=s&&t[d]!=e&&e!=h){var c=this.view.getState(h),p=null!=c?c.origin:u,f=this.model.getGeometry(t[d]);if(null!=f){var g=p.x-s.x,y=p.y-s.y;(f=f.clone()).translate(g,y),f.relative||!this.model.isVertex(t[d])||this.isAllowNegativeCoordinates()||(f.x=Math.max(0,f.x),f.y=Math.max(0,f.y)),this.model.setGeometry(t[d],f)}}e==h&&i+d>this.model.getChildCount(e)&&i--,this.model.add(e,t[d],i+d),this.autoSizeCellsOnAdd&&this.autoSizeCell(t[d],!0),this.isExtendParentsOnAdd(t[d])&&this.isExtendParent(t[d])&&this.extendParent(t[d]),(null==r||r)&&this.constrainChild(t[d]),null!=n&&this.cellConnected(t[d],n,!0),null!=l&&this.cellConnected(t[d],l,!1)}this.fireEvent(new S.default(w.default.CELLS_ADDED,"cells",t,"parent",e,"index",i,"source",n,"target",l,"absolute",a))}finally{this.model.endUpdate()}}},J.prototype.autoSizeCell=function(t,e){if(e=null==e||e)for(var i=this.model.getChildCount(t),n=0;n<i;n++)this.autoSizeCell(this.model.getChildAt(t,n));this.getModel().isVertex(t)&&this.isAutoSizeCell(t)&&this.updateCellSize(t)},J.prototype.removeCells=function(t,e){e=null==e||e,null==t&&(t=this.getDeletableCells(this.getSelectionCells())),e&&(t=this.getDeletableCells(this.addAllEdges(t))),this.model.beginUpdate();try{this.cellsRemoved(t),this.fireEvent(new S.default(w.default.REMOVE_CELLS,"cells",t,"includeEdges",e))}finally{this.model.endUpdate()}return t},J.prototype.cellsRemoved=function(t){if(null!=t&&t.length>0){var e=this.view.scale,i=this.view.translate;this.model.beginUpdate();try{for(var n=new T.default,l=0;l<t.length;l++)n.put(t[l],!0);for(l=0;l<t.length;l++){for(var a=this.getAllEdges([t[l]]),r=m.default.bind(this,(function(n,r){var s=this.model.getGeometry(n);if(null!=s){var u=this.view.getState(n);if(null!=u){for(var d=u.getVisibleTerminal(r),h=!1;null!=d;){if(t[l]==d){h=!0;break}d=this.model.getParent(d)}if(h){var c=i.x,p=i.y,f=this.view.getState(this.model.getParent(n));null!=f&&this.model.isVertex(f.cell)&&(c=f.x/e,p=f.y/e),s=s.clone();var g=u.absolutePoints,y=r?0:g.length-1;s.setTerminalPoint(new O.default(g[y].x/e-c,g[y].y/e-p),r),this.model.setTerminal(a[o],null,r),this.model.setGeometry(a[o],s)}}}})),o=0;o<a.length;o++)n.get(a[o])||(r(a[o],!0),r(a[o],!1));this.model.remove(t[l])}this.fireEvent(new S.default(w.default.CELLS_REMOVED,"cells",t))}finally{this.model.endUpdate()}}},J.prototype.splitEdge=function(t,e,i,n,l){n=n||0,l=l||0;var a=this.model.getParent(t),r=this.model.getTerminal(t,!0);this.model.beginUpdate();try{if(null==i){(i=this.cloneCells([t])[0]).setValue(null),i.setOriginId(null),i.setProperty("base","name",null);var o=this.view.getState(t),s=this.getCellGeometry(i);if(null!=s&&null!=s.points&&null!=o){var u=this.view.translate,d=this.view.scale,h=B.default.findNearestSegment(o,(n+u.x)*d,(l+u.y)*d);s.points=s.points.slice(0,h),null!=(s=this.getCellGeometry(t))&&null!=s.points&&((s=s.clone()).points=s.points.slice(h),this.model.setGeometry(t,s))}}this.cellsMoved(e,n,l,!1,!1),this.cellsAdded(e,a,this.model.getChildCount(a),null,null,!0),this.cellsAdded([i],a,this.model.getChildCount(a),r,e[0],!1),this.cellConnected(t,e[0],!0),this.fireEvent(new S.default(w.default.SPLIT_EDGE,"edge",t,"cells",e,"newEdge",i,"dx",n,"dy",l))}finally{this.model.endUpdate()}return i},J.prototype.toggleCells=function(t,e,i){null==e&&(e=this.getSelectionCells()),i&&(e=this.addAllEdges(e)),this.model.beginUpdate();try{this.cellsToggled(e,t),this.fireEvent(new S.default(w.default.TOGGLE_CELLS,"show",t,"cells",e,"includeEdges",i))}finally{this.model.endUpdate()}return e},J.prototype.cellsToggled=function(t,e){if(null!=t&&t.length>0){this.model.beginUpdate();try{for(var i=0;i<t.length;i++)this.model.setVisible(t[i],e)}finally{this.model.endUpdate()}}},J.prototype.foldCells=function(t,e,i,n,l){e=null!=e&&e,null==i&&(i=this.getFoldableCells(this.getSelectionCells(),t)),this.stopEditing(!1),this.model.beginUpdate();try{this.cellsFolded(i,t,e,n),this.fireEvent(new S.default(w.default.FOLD_CELLS,"collapse",t,"recurse",e,"cells",i))}finally{this.model.endUpdate()}return i},J.prototype.cellsFolded=function(t,e,i,n){if(null!=t&&t.length>0){this.model.beginUpdate();try{for(var l=0;l<t.length;l++)if((!n||this.isCellFoldable(t[l],e))&&e!=this.isCellCollapsed(t[l])){if(this.model.setCollapsed(t[l],e),this.swapBounds(t[l],e),this.isExtendParent(t[l])&&this.extendParent(t[l]),i){var a=this.model.getChildren(t[l]);this.foldCells(a,e,i)}this.constrainChild(t[l])}this.fireEvent(new S.default(w.default.CELLS_FOLDED,"cells",t,"collapse",e,"recurse",i))}finally{this.model.endUpdate()}}},J.prototype.swapBounds=function(t,e){if(null!=t){var i=this.model.getGeometry(t);null!=i&&(i=i.clone(),this.updateAlternateBounds(t,i,e),i.swap(),this.model.setGeometry(t,i))}},J.prototype.updateAlternateBounds=function(t,e,i){if(null!=t&&null!=e){var n=this.view.getState(t),l=null!=n?n.style:this.getCellStyle(t);if(null==e.alternateBounds){var a=e;if(this.collapseToPreferredSize){var r=this.getPreferredSizeForCell(t);if(null!=r){a=r;var o=m.default.getValue(l,G.default.STYLE_STARTSIZE);o>0&&(a.height=Math.max(a.height,o))}}e.alternateBounds=new x.default(0,0,a.width,a.height)}if(null!=e.alternateBounds){e.alternateBounds.x=e.x,e.alternateBounds.y=e.y;var s=B.default.toRadians(l[G.default.STYLE_ROTATION]||0);if(0!=s){var u=e.alternateBounds.getCenterX()-e.getCenterX(),d=e.alternateBounds.getCenterY()-e.getCenterY(),h=Math.cos(s),c=Math.sin(s),p=h*u-c*d,f=c*u+h*d;e.alternateBounds.x+=p-u,e.alternateBounds.y+=f-d}}}},J.prototype.addAllEdges=function(t){var e=t.slice();return B.default.removeDuplicates(e.concat(this.getAllEdges(t)))},J.prototype.getAllEdges=function(t){var e=[];if(null!=t)for(var i=0;i<t.length;i++){for(var n=this.model.getEdgeCount(t[i]),l=0;l<n;l++)e.push(this.model.getEdgeAt(t[i],l));var a=this.model.getChildren(t[i]);e=e.concat(this.getAllEdges(a))}return e},J.prototype.updateCellSize=function(t,e){e=null!=e&&e,this.model.beginUpdate();try{this.cellSizeUpdated(t,e),this.fireEvent(new S.default(w.default.UPDATE_CELL_SIZE,"cell",t,"ignoreChildren",e))}finally{this.model.endUpdate()}return t},J.prototype.cellSizeUpdated=function(t,e){if(null!=t){this.model.beginUpdate();try{var i=this.getPreferredSizeForCell(t),n=this.model.getGeometry(t);if(null!=i&&null!=n){var l=this.isCellCollapsed(t);if(n=n.clone(),this.isSwimlane(t)){var a=this.view.getState(t),r=null!=a?a.style:this.getCellStyle(t),o=this.model.getStyle(t);null==o&&(o=""),m.default.getValue(r,G.default.STYLE_HORIZONTAL,!0)?(o=B.default.setStyle(o,G.default.STYLE_STARTSIZE,i.height+8),l&&(n.height=i.height+8),n.width=i.width):(o=B.default.setStyle(o,G.default.STYLE_STARTSIZE,i.width+8),l&&(n.width=i.width+8),n.height=i.height),this.model.setStyle(t,o)}else n.width=i.width,n.height=i.height;if(!e&&!l){var s=this.view.getBounds(this.model.getChildren(t));if(null!=s){this.isSwimlane(t)&&(s.width+=G.default.DEFAULT_SWIMLANE_PADDING,s.height+=G.default.DEFAULT_SWIMLANE_PADDING);var u=this.view.translate,d=this.view.scale,h=(s.x+s.width)/d-n.x-u.x,c=(s.y+s.height)/d-n.y-u.y;n.width=h,n.height=c}}this.cellsResized([t],[n],!1)}}finally{this.model.endUpdate()}}},J.prototype.getPreferredSizeForCell=function(t){var e=null;if(null!=t){var i=this.view.getState(t)||this.view.createState(t),n=i.style;if(!this.model.isEdge(t)){var l=n[G.default.STYLE_FONTSIZE]||G.default.DEFAULT_FONTSIZE,a=0,r=0;null==this.getImage(i)&&null==n[G.default.STYLE_IMAGE]||n[G.default.STYLE_SHAPE]==G.default.SHAPE_LABEL&&(n[G.default.STYLE_VERTICAL_ALIGN]==G.default.ALIGN_MIDDLE&&(a+=parseFloat(n[G.default.STYLE_IMAGE_WIDTH])||g.default.prototype.imageSize),n[G.default.STYLE_ALIGN]!=G.default.ALIGN_CENTER&&(r+=parseFloat(n[G.default.STYLE_IMAGE_HEIGHT])||g.default.prototype.imageSize)),a+=2*(n[G.default.STYLE_SPACING]||0),a+=n[G.default.STYLE_SPACING_LEFT]||0,a+=n[G.default.STYLE_SPACING_RIGHT]||0,r+=2*(n[G.default.STYLE_SPACING]||0),r+=n[G.default.STYLE_SPACING_TOP]||0,r+=n[G.default.STYLE_SPACING_BOTTOM]||0;var o=this.getFoldingImage(i);null!=o&&(a+=o.width+8);var s=this.cellRenderer.getLabelValue(i);if(null!=s&&s.length>0){this.isHtmlLabel(i.cell)||(s=m.default.htmlEntities(s)),s=s.replace(/\n/g,"<br>");var u=B.default.getSizeForString(s,l,n[G.default.STYLE_FONTFAMILY]),d=u.width+a,h=u.height+r;if(!m.default.getValue(n,G.default.STYLE_HORIZONTAL,!0)){var c=h;h=d,d=c}this.gridEnabled&&(d=this.snap(d+this.gridSize/2),h=this.snap(h+this.gridSize/2)),e=new x.default(0,0,d,h)}else{var p=4*this.gridSize;e=new x.default(0,0,p,p)}}}return e},J.prototype.resizeCell=function(t,e,i){return this.resizeCells([t],[e],i)[0]},J.prototype.resizeCells=function(t,e,i){i=null!=i?i:this.isRecursiveResize(),this.model.beginUpdate();try{this.cellsResized(t,e,i),this.fireEvent(new S.default(w.default.RESIZE_CELLS,"cells",t,"bounds",e))}finally{this.model.endUpdate()}return t},J.prototype.cellsResized=function(t,e,i){if(i=null!=i&&i,null!=t&&null!=e&&t.length==e.length){this.model.beginUpdate();try{for(var n=0;n<t.length;n++)this.cellResized(t[n],e[n],!1,i),this.isExtendParent(t[n])&&this.extendParent(t[n]),this.constrainChild(t[n]);this.resetEdgesOnResize&&this.resetEdges(t),this.fireEvent(new S.default(w.default.CELLS_RESIZED,"cells",t,"bounds",e))}finally{this.model.endUpdate()}}},J.prototype.cellResized=function(t,e,i,n){var l=this.model.getGeometry(t);if(null!=l&&(l.x!=e.x||l.y!=e.y||l.width!=e.width||l.height!=e.height)){if(l=l.clone(),!i&&l.relative){var a=l.offset;null!=a&&(a.x+=e.x-l.x,a.y+=e.y-l.y)}else l.x=e.x,l.y=e.y;l.width=e.width,l.height=e.height,l.relative||!this.model.isVertex(t)||this.isAllowNegativeCoordinates()||(l.x=Math.max(0,l.x),l.y=Math.max(0,l.y)),this.model.beginUpdate();try{n&&this.resizeChildCells(t,l),this.model.setGeometry(t,l),this.constrainChildCells(t)}finally{this.model.endUpdate()}}},J.prototype.resizeChildCells=function(t,e){for(var i=this.model.getGeometry(t),n=e.width/i.width,l=e.height/i.height,a=this.model.getChildCount(t),r=0;r<a;r++)this.scaleCell(this.model.getChildAt(t,r),n,l,!0)},J.prototype.constrainChildCells=function(t){for(var e=this.model.getChildCount(t),i=0;i<e;i++)this.constrainChild(this.model.getChildAt(t,i))},J.prototype.scaleCell=function(t,e,i,n){var l=this.model.getGeometry(t);if(null!=l){var a=this.view.getState(t),r=null!=a?a.style:this.getCellStyle(t),o=(l=l.clone()).x,s=l.y,u=l.width,d=l.height;l.scale(e,i,"fixed"==r[G.default.STYLE_ASPECT]),"1"==r[G.default.STYLE_RESIZE_WIDTH]?l.width=u*e:"0"==r[G.default.STYLE_RESIZE_WIDTH]&&(l.width=u),"1"==r[G.default.STYLE_RESIZE_HEIGHT]?l.height=d*i:"0"==r[G.default.STYLE_RESIZE_HEIGHT]&&(l.height=d),this.isCellMovable(t)||(l.x=o,l.y=s),this.isCellResizable(t)||(l.width=u,l.height=d),this.model.isVertex(t)?this.cellResized(t,l,!0,n):this.model.setGeometry(t,l)}},J.prototype.extendParent=function(t){if(null!=t){var e=this.model.getParent(t),i=this.getCellGeometry(e);if(null!=e&&null!=i&&!this.isCellCollapsed(e)){var n=this.getCellGeometry(t);null!=n&&!n.relative&&(i.width<n.x+n.width||i.height<n.y+n.height)&&((i=i.clone()).width=Math.max(i.width,n.x+n.width),i.height=Math.max(i.height,n.y+n.height),this.cellsResized([e],[i],!1))}}},J.prototype.importCells=function(t,e,i,n,l,a){return this.moveCells(t,e,i,!0,n,l,a)},J.prototype.moveCells=function(t,e,i,n,l,a,r){if(e=null!=e?e:0,i=null!=i?i:0,n=null!=n&&n,null!=t&&(0!=e||0!=i||n||null!=l)){t=this.model.getTopmostCells(t),this.model.beginUpdate();try{for(var o=new T.default,s=0;s<t.length;s++)o.put(t[s],!0);var u=m.default.bind(this,(function(t){for(;null!=t;){if(o.get(t))return!0;t=this.model.getParent(t)}return!1})),d=[],h={};for(s=0;s<t.length;s++){var c=t[s],p=this.getCellGeometry(c),f=this.model.getParent(c);l&&f&&l!=f&&(h[c.id]=f.id),null!=p&&p.relative&&this.model.isEdge(f)&&(u(this.model.getTerminal(f,!0))||u(this.model.getTerminal(f,!1)))||d.push(c)}t=d,n&&(t=this.cloneCells(t,this.isCloneInvalidEdges(),r),null==l&&(l=this.getDefaultParent()));var g=this.isAllowNegativeCoordinates();if(null!=l&&this.setAllowNegativeCoordinates(!0),this.cellsMoved(t,e,i,!n&&this.isDisconnectOnMove()&&this.isAllowDanglingEdges(),null==l,this.isExtendParentsOnMove()&&null==l),this.setAllowNegativeCoordinates(g),null!=l){var y=this.model.getChildCount(l);this.cellsAdded(t,l,y,null,null,!0)}this.fireEvent(new S.default(w.default.MOVE_CELLS,"cells",t,"dx",e,"dy",i,"clone",n,"target",l,"event",a,"parentChanged",h))}finally{this.model.endUpdate()}}return t},J.prototype.cellsMoved=function(t,e,i,n,l,a){if(null!=t&&(0!=e||0!=i)){a=null!=a&&a,this.model.beginUpdate();try{n&&this.disconnectGraph(t);for(var r=0;r<t.length;r++)this.translateCell(t[r],e,i),a&&this.isExtendParent(t[r])?this.extendParent(t[r]):l&&this.constrainChild(t[r]);this.resetEdgesOnMove&&this.resetEdges(t),this.fireEvent(new S.default(w.default.CELLS_MOVED,"cells",t,"dx",e,"dy",i,"disconnect",n))}finally{this.model.endUpdate()}}},J.prototype.translateCell=function(t,e,i){var n=this.model.getGeometry(t);if(null!=n){if(e=parseFloat(e),i=parseFloat(i),(n=n.clone()).translate(e,i),n.relative||!this.model.isVertex(t)||this.isAllowNegativeCoordinates()||(n.x=Math.max(0,parseFloat(n.x)),n.y=Math.max(0,parseFloat(n.y))),n.relative&&!this.model.isEdge(t)){var l=this.model.getParent(t),a=0;if(this.model.isVertex(l)){var r=this.view.getState(l),o=null!=r?r.style:this.getCellStyle(l);a=m.default.getValue(o,G.default.STYLE_ROTATION,0)}if(0!=a){var s=B.default.toRadians(-a),u=Math.cos(s),d=Math.sin(s),h=B.default.getRotatedPoint(new O.default(e,i),u,d,new O.default(0,0));e=h.x,i=h.y}null==n.offset?n.offset=new O.default(e,i):(n.offset.x=parseFloat(n.offset.x)+e,n.offset.y=parseFloat(n.offset.y)+i)}this.model.setGeometry(t,n)}},J.prototype.getCellContainmentArea=function(t){if(null!=t&&!this.model.isEdge(t)){var e=this.model.getParent(t);if(null!=e&&e!=this.getDefaultParent()){var i=this.model.getGeometry(e);if(null!=i){var n=0,l=0,a=i.width,r=i.height;if(this.isSwimlane(e)){var o=this.getStartSize(e),s=this.view.getState(e),u=null!=s?s.style:this.getCellStyle(e),d=m.default.getValue(u,G.default.STYLE_DIRECTION,G.default.DIRECTION_EAST),h=1==m.default.getValue(u,G.default.STYLE_FLIPH,0),c=1==m.default.getValue(u,G.default.STYLE_FLIPV,0);if(d==G.default.DIRECTION_SOUTH||d==G.default.DIRECTION_NORTH){var p=o.width;o.width=o.height,o.height=p}(d==G.default.DIRECTION_EAST&&!c||d==G.default.DIRECTION_NORTH&&!h||d==G.default.DIRECTION_WEST&&c||d==G.default.DIRECTION_SOUTH&&h)&&(n=o.width,l=o.height),a-=o.width,r-=o.height}return new x.default(n,l,a,r)}}}return null},J.prototype.getMaximumGraphBounds=function(){return this.maximumGraphBounds},J.prototype.constrainChild=function(t,e){if(e=null==e||e,null!=t){var i=this.getCellGeometry(t);if(null!=i&&(this.isConstrainRelativeChildren()||!i.relative)){var n=this.model.getParent(t),l=(this.getCellGeometry(n),this.getMaximumGraphBounds());if(null!=l){var a=this.getBoundingBoxFromGeometry([n],!1);null!=a&&((l=x.default.fromRectangle(l)).x-=a.x,l.y-=a.y)}if(this.isConstrainChild(t)){var r=this.getCellContainmentArea(t);if(null!=r){var o=this.getOverlap(t);o>0&&((r=x.default.fromRectangle(r)).x-=r.width*o,r.y-=r.height*o,r.width+=2*r.width*o,r.height+=2*r.height*o),null==l?l=r:(l=x.default.fromRectangle(l)).intersect(r)}}if(null!=l){var s=[t];if(!this.isCellCollapsed(t))for(var u=this.model.getDescendants(t),d=0;d<u.length;d++)this.isCellVisible(u[d])&&s.push(u[d]);var h=this.getBoundingBoxFromGeometry(s,!1);if(null!=h){var c=0;(i=i.clone()).width>l.width&&(c=i.width-l.width,i.width-=c),h.x+h.width>l.x+l.width&&(c-=h.x+h.width-l.x-l.width-c);var p=0;i.height>l.height&&(p=i.height-l.height,i.height-=p),h.y+h.height>l.y+l.height&&(p-=h.y+h.height-l.y-l.height-p),h.x<l.x&&(c-=h.x-l.x),h.y<l.y&&(p-=h.y-l.y),0==c&&0==p||(i.relative?(null==i.offset&&(i.offset=new O.default),i.offset.x+=c,i.offset.y+=p):(i.x+=c,i.y+=p)),this.model.setGeometry(t,i)}}}}},J.prototype.resetEdges=function(t){if(null!=t){for(var e=new T.default,i=0;i<t.length;i++)e.put(t[i],!0);this.model.beginUpdate();try{for(i=0;i<t.length;i++){var n=this.model.getEdges(t[i]);if(null!=n)for(var l=0;l<n.length;l++){var a=this.view.getState(n[l]),r=null!=a?a.getVisibleTerminal(!0):this.view.getVisibleTerminal(n[l],!0),o=null!=a?a.getVisibleTerminal(!1):this.view.getVisibleTerminal(n[l],!1);e.get(r)&&e.get(o)||this.resetEdge(n[l])}this.resetEdges(this.model.getChildren(t[i]))}}finally{this.model.endUpdate()}}},J.prototype.resetEdge=function(t){var e=this.model.getGeometry(t);return null!=e&&null!=e.points&&e.points.length>0&&((e=e.clone()).points=[],this.model.setGeometry(t,e)),t},J.prototype.getOutlineConstraint=function(t,e,i){if(null!=e.shape){var n=this.view.getPerimeterBounds(e),l=e.style[G.default.STYLE_DIRECTION];if(l==G.default.DIRECTION_NORTH||l==G.default.DIRECTION_SOUTH){n.x+=n.width/2-n.height/2,n.y+=n.height/2-n.width/2;var a=n.width;n.width=n.height,n.height=a}var r=B.default.toRadians(e.shape.getShapeRotation());if(0!=r){var o=Math.cos(-r),s=Math.sin(-r),u=new O.default(n.getCenterX(),n.getCenterY());t=B.default.getRotatedPoint(t,o,s,u)}var d=1,h=1,c=0,p=0;if(this.getModel().isVertex(e.cell)){var f=e.style[G.default.STYLE_FLIPH],g=e.style[G.default.STYLE_FLIPV];if(null!=e.shape&&null!=e.shape.stencil&&(f=1==m.default.getValue(e.style,"stencilFlipH",0)||f,g=1==m.default.getValue(e.style,"stencilFlipV",0)||g),l==G.default.DIRECTION_NORTH||l==G.default.DIRECTION_SOUTH){a=f;f=g,g=a}f&&(d=-1,c=-n.width),g&&(h=-1,p=-n.height)}t=new O.default((t.x-n.x)*d-c+n.x,(t.y-n.y)*h-p+n.y);var y=Math.round(1e3*(t.x-n.x)/n.width)/1e3,v=Math.round(1e3*(t.y-n.y)/n.height)/1e3;return new b.default(new O.default(y,v),!1)}return null},J.prototype.getAllConnectionConstraints=function(t,e){return null!=t&&null!=t.shape&&null!=t.shape.stencil?t.shape.stencil.constraints:null},J.prototype.getConnectionConstraint=function(t,e,i){var n=null,l=t.style[i?G.default.STYLE_EXIT_X:G.default.STYLE_ENTRY_X];if(null!=l){var a=t.style[i?G.default.STYLE_EXIT_Y:G.default.STYLE_ENTRY_Y];null!=a&&(n=new O.default(parseFloat(l),parseFloat(a)))}var r=!1;return null!=n&&(r=m.default.getValue(t.style,i?G.default.STYLE_EXIT_PERIMETER:G.default.STYLE_ENTRY_PERIMETER,!0)),new b.default(n,r)},J.prototype.setConnectionConstraint=function(t,e,i,n){if(null!=n){this.model.beginUpdate();try{null==n||null==n.point?(this.setCellStyles(i?G.default.STYLE_EXIT_X:G.default.STYLE_ENTRY_X,null,[t]),this.setCellStyles(i?G.default.STYLE_EXIT_Y:G.default.STYLE_ENTRY_Y,null,[t]),this.setCellStyles(i?G.default.STYLE_EXIT_PERIMETER:G.default.STYLE_ENTRY_PERIMETER,null,[t])):null!=n.point&&(this.setCellStyles(i?G.default.STYLE_EXIT_X:G.default.STYLE_ENTRY_X,n.point.x,[t]),this.setCellStyles(i?G.default.STYLE_EXIT_Y:G.default.STYLE_ENTRY_Y,n.point.y,[t]),n.perimeter?this.setCellStyles(i?G.default.STYLE_EXIT_PERIMETER:G.default.STYLE_ENTRY_PERIMETER,null,[t]):this.setCellStyles(i?G.default.STYLE_EXIT_PERIMETER:G.default.STYLE_ENTRY_PERIMETER,"0",[t]))}finally{this.model.endUpdate()}}},J.prototype.getConnectionPoint=function(t,e){var i=null;if(null!=t&&null!=e.point){var n=this.view.getPerimeterBounds(t),l=new O.default(n.getCenterX(),n.getCenterY()),a=t.style[G.default.STYLE_DIRECTION],r=0;if(null!=a&&(a==G.default.DIRECTION_NORTH?r+=270:a==G.default.DIRECTION_WEST?r+=180:a==G.default.DIRECTION_SOUTH&&(r+=90),a!=G.default.DIRECTION_NORTH&&a!=G.default.DIRECTION_SOUTH||n.rotate90()),null!=e.point){var o=1,s=1,u=0,d=0;if(this.getModel().isVertex(t.cell)){var h=t.style[G.default.STYLE_FLIPH],c=t.style[G.default.STYLE_FLIPV];if(null!=t.shape&&null!=t.shape.stencil&&(h=1==m.default.getValue(t.style,"stencilFlipH",0)||h,c=1==m.default.getValue(t.style,"stencilFlipV",0)||c),a==G.default.DIRECTION_NORTH||a==G.default.DIRECTION_SOUTH){var p=h;h=c,c=p}h&&(o=-1,u=-n.width),c&&(s=-1,d=-n.height)}i=new O.default(n.x+e.point.x*n.width*o-u,n.y+e.point.y*n.height*s-d)}var f=t.style[G.default.STYLE_ROTATION]||0;if(e.perimeter){if(0!=r&&null!=i){var g=0,y=0;90==r?y=1:180==r?g=-1:270==r&&(y=-1),i=B.default.getRotatedPoint(i,g,y,l)}null!=i&&e.perimeter&&(i=this.view.getPerimeterPoint(t,i,!1))}else f+=r;if(0!=f&&null!=i){var v=B.default.toRadians(f);g=Math.cos(v),y=Math.sin(v);i=B.default.getRotatedPoint(i,g,y,l)}}return null!=i&&(i.x=Math.round(i.x),i.y=Math.round(i.y)),i},J.prototype.connectCell=function(t,e,i,n){this.model.beginUpdate();try{var l=this.model.getTerminal(t,i);this.cellConnected(t,e,i,n),this.fireEvent(new S.default(w.default.CONNECT_CELL,"edge",t,"terminal",e,"source",i,"previous",l))}finally{this.model.endUpdate()}return t},J.prototype.cellConnected=function(t,e,i,n){if(null!=t){this.model.beginUpdate();try{var l=this.model.getTerminal(t,i);if(this.setConnectionConstraint(t,e,i,n),this.isPortsEnabled()){var a=null;this.isPort(e)&&(a=e.getId(),e=this.getTerminalForPort(e,i));var r=i?G.default.STYLE_SOURCE_PORT:G.default.STYLE_TARGET_PORT;this.setCellStyles(r,a,[t])}this.model.setTerminal(t,e,i),this.resetEdgesOnConnect&&this.resetEdge(t),this.fireEvent(new S.default(w.default.CELL_CONNECTED,"edge",t,"terminal",e,"source",i,"previous",l))}finally{this.model.endUpdate()}}},J.prototype.disconnectGraph=function(t){if(null!=t){this.model.beginUpdate();try{for(var e=this.view.scale,i=this.view.translate,n=new T.default,l=0;l<t.length;l++)n.put(t[l],!0);for(l=0;l<t.length;l++)if(this.model.isEdge(t[l])){var a=this.model.getGeometry(t[l]);if(null!=a){var r=this.view.getState(t[l]),o=this.view.getState(this.model.getParent(t[l]));if(null!=r&&null!=o){a=a.clone();var s=-o.origin.x,u=-o.origin.y,d=r.absolutePoints,h=this.model.getTerminal(t[l],!0);if(null!=h&&this.isCellDisconnectable(t[l],h,!0)){for(;null!=h&&!n.get(h);)h=this.model.getParent(h);null==h&&(a.setTerminalPoint(new O.default(d[0].x/e-i.x+s,d[0].y/e-i.y+u),!0),this.model.setTerminal(t[l],null,!0))}var c=this.model.getTerminal(t[l],!1);if(null!=c&&this.isCellDisconnectable(t[l],c,!1)){for(;null!=c&&!n.get(c);)c=this.model.getParent(c);if(null==c){var p=d.length-1;a.setTerminalPoint(new O.default(d[p].x/e-i.x+s,d[p].y/e-i.y+u),!1),this.model.setTerminal(t[l],null,!1)}}this.model.setGeometry(t[l],a)}}}}finally{this.model.endUpdate()}}},J.prototype.getCurrentRoot=function(){return this.view.currentRoot},J.prototype.getTranslateForRoot=function(t){return null},J.prototype.isPort=function(t){return!1},J.prototype.getTerminalForPort=function(t,e){return this.model.getParent(t)},J.prototype.getChildOffsetForCell=function(t){return null},J.prototype.enterGroup=function(t){null!=(t=t||this.getSelectionCell())&&this.isValidRoot(t)&&(this.view.setCurrentRoot(t),this.clearSelection())},J.prototype.exitGroup=function(){var t=this.model.getRoot(),e=this.getCurrentRoot();if(null!=e){for(var i=this.model.getParent(e);i!=t&&!this.isValidRoot(i)&&this.model.getParent(i)!=t;)i=this.model.getParent(i);i==t||this.model.getParent(i)==t?this.view.setCurrentRoot(null):this.view.setCurrentRoot(i),null!=this.view.getState(e)&&this.setSelectionCell(e)}},J.prototype.home=function(){var t=this.getCurrentRoot();null!=t&&(this.view.setCurrentRoot(null),null!=this.view.getState(t)&&this.setSelectionCell(t))},J.prototype.isValidRoot=function(t){return null!=t},J.prototype.getGraphBounds=function(){return this.view.getGraphBounds()},J.prototype.getCellBounds=function(t,e,i){var n=[t];e&&(n=n.concat(this.model.getEdges(t)));var l=this.view.getBounds(n);if(i)for(var a=this.model.getChildCount(t),r=0;r<a;r++){var o=this.getCellBounds(this.model.getChildAt(t,r),e,!0);null!=l?l.add(o):l=o}return l},J.prototype.getBoundingBoxFromGeometry=function(t,e){e=null!=e&&e;var i=null;if(null!=t)for(var n=0;n<t.length;n++)if(e||this.model.isVertex(t[n])){var l=this.getCellGeometry(t[n]);if(null!=l){var a=null;if(this.model.isEdge(t[n])){var r=l.points;if(null!=r&&r.length>0){for(var o=new x.default(r[0].x,r[0].y,0,0),s=function(t){null!=t&&o.add(new x.default(t.x,t.y,0,0))},u=1;u<r.length;u++)s(r[u]);s(l.getTerminalPoint(!0)),s(l.getTerminalPoint(!1)),a=o}}else{var d=this.model.getParent(t[n]);if(l.relative){if(this.model.isVertex(d)&&d!=this.view.currentRoot)null!=(o=this.getBoundingBoxFromGeometry([d],!1))&&(a=new x.default(l.x*o.width,l.y*o.height,l.width,l.height),m.default.indexOf(t,d)>=0&&(a.x+=o.x,a.y+=o.y))}else if(a=x.default.fromRectangle(l),this.model.isVertex(d)&&m.default.indexOf(t,d)>=0)null!=(o=this.getBoundingBoxFromGeometry([d],!1))&&(a.x+=o.x,a.y+=o.y);null!=a&&null!=l.offset&&(a.x+=l.offset.x,a.y+=l.offset.y)}null!=a&&(null==i?i=x.default.fromRectangle(a):i.add(a))}}return i},J.prototype.refresh=function(t){this.view.clear(t,null==t),this.view.validate(),this.sizeDidChange(),this.fireEvent(new S.default(w.default.REFRESH))},J.prototype.snap=function(t){return this.gridEnabled&&(t=Math.round(t/this.gridSize)*this.gridSize),t},J.prototype.panGraph=function(t,e){if(this.useScrollbarsForPanning&&B.default.hasScrollbars(this.container))this.container.scrollLeft=-t,this.container.scrollTop=-e;else{var i=this.view.getCanvas();if(this.dialect==G.default.DIALECT_SVG)if(0==t&&0==e){if(c.default.IS_IE?i.setAttribute("transform","translate("+t+","+e+")"):i.removeAttribute("transform"),null!=this.shiftPreview1){for(var n=this.shiftPreview1.firstChild;null!=n;){var l=n.nextSibling;this.container.appendChild(n),n=l}for(null!=this.shiftPreview1.parentNode&&this.shiftPreview1.parentNode.removeChild(this.shiftPreview1),this.shiftPreview1=null,this.container.appendChild(i.parentNode),n=this.shiftPreview2.firstChild;null!=n;){l=n.nextSibling;this.container.appendChild(n),n=l}null!=this.shiftPreview2.parentNode&&this.shiftPreview2.parentNode.removeChild(this.shiftPreview2),this.shiftPreview2=null}}else{if(i.setAttribute("transform","translate("+t+","+e+")"),null==this.shiftPreview1){this.shiftPreview1=document.createElement("div"),this.shiftPreview1.style.position="absolute",this.shiftPreview1.style.overflow="visible",this.shiftPreview2=document.createElement("div"),this.shiftPreview2.style.position="absolute",this.shiftPreview2.style.overflow="visible";var a=this.shiftPreview1;for(n=this.container.firstChild;null!=n;){l=n.nextSibling;n!=i.parentNode?a.appendChild(n):a=this.shiftPreview2,n=l}null!=this.shiftPreview1.firstChild&&this.container.insertBefore(this.shiftPreview1,i.parentNode),null!=this.shiftPreview2.firstChild&&this.container.appendChild(this.shiftPreview2)}this.shiftPreview1.style.left=t+"px",this.shiftPreview1.style.top=e+"px",this.shiftPreview2.style.left=t+"px",this.shiftPreview2.style.top=e+"px"}else i.style.left=t+"px",i.style.top=e+"px";this.panDx=t,this.panDy=e,this.fireEvent(new S.default(w.default.PAN))}},J.prototype.zoomIn=function(){this.zoom(this.zoomFactor)},J.prototype.zoomOut=function(){this.zoom(1/this.zoomFactor)},J.prototype.zoomActual=function(){1==this.view.scale?this.view.setTranslate(0,0):(this.view.translate.x=0,this.view.translate.y=0,this.view.setScale(1))},J.prototype.zoomTo=function(t,e){this.zoom(t/this.view.scale,e)},J.prototype.center=function(t,e,i,n){t=null==t||t,e=null==e||e,i=null!=i?i:.5,n=null!=n?n:.5;var l=B.default.hasScrollbars(this.container),a=this.container.clientWidth,r=this.container.clientHeight,o=this.getGraphBounds(),s=this.view.translate,u=this.view.scale,d=t?a-o.width:0,h=e?r-o.height:0;if(l){o.x-=s.x,o.y-=s.y;var c=this.container.scrollWidth,p=this.container.scrollHeight;c>a&&(d=0),p>r&&(h=0),this.view.setTranslate(Math.floor(d/2-o.x),Math.floor(h/2-o.y)),this.container.scrollLeft=(c-a)/2,this.container.scrollTop=(p-r)/2}else this.view.setTranslate(t?Math.floor(s.x-o.x*u+d*i/u):s.x,e?Math.floor(s.y-o.y*u+h*n/u):s.y)},J.prototype.zoom=function(t,e){e=null!=e?e:this.centerZoom;var i=Math.round(this.view.scale*t*100)/100,n=this.view.getState(this.getSelectionCell());if(t=i/this.view.scale,this.keepSelectionVisibleOnZoom&&null!=n){var l=new x.default(n.x*t,n.y*t,n.width*t,n.height*t);this.view.scale=i,this.scrollRectToVisible(l)||(this.view.revalidate(),this.view.setScale(i))}else{var a=B.default.hasScrollbars(this.container);if(e&&!a){var r,o=this.container.offsetWidth,s=this.container.offsetHeight;if(t>1)o*=-(r=(t-1)/(2*i)),s*=-r;else o*=r=(1/t-1)/(2*this.view.scale),s*=r;this.view.scaleAndTranslate(i,this.view.translate.x+o,this.view.translate.y+s)}else{var u=this.view.translate.x,d=this.view.translate.y,h=this.container.scrollLeft,c=this.container.scrollTop;if(this.view.setScale(i),a){o=0,s=0;e&&(o=this.container.offsetWidth*(t-1)/2,s=this.container.offsetHeight*(t-1)/2),this.container.scrollLeft=(this.view.translate.x-u)*this.view.scale+Math.round(h*t+o),this.container.scrollTop=(this.view.translate.y-d)*this.view.scale+Math.round(c*t+s)}}}},J.prototype.zoomToRect=function(t){var e=this.container.clientWidth/t.width/(this.container.clientHeight/t.height);t.x=Math.max(0,t.x),t.y=Math.max(0,t.y);var i=Math.min(this.container.scrollWidth,t.x+t.width),n=Math.min(this.container.scrollHeight,t.y+t.height);if(t.width=i-t.x,t.height=n-t.y,e<1){var l=t.height/e,a=(l-t.height)/2;t.height=l;var r=Math.min(t.y,a);t.y=t.y-r,n=Math.min(this.container.scrollHeight,t.y+t.height),t.height=n-t.y}else{var o=t.width*e,s=(o-t.width)/2;t.width=o;var u=Math.min(t.x,s);t.x=t.x-u,i=Math.min(this.container.scrollWidth,t.x+t.width),t.width=i-t.x}var d=this.container.clientWidth/t.width,h=this.view.scale*d;B.default.hasScrollbars(this.container)?(this.view.setScale(h),this.container.scrollLeft=Math.round(t.x*d),this.container.scrollTop=Math.round(t.y*d)):this.view.scaleAndTranslate(h,this.view.translate.x-t.x/this.view.scale,this.view.translate.y-t.y/this.view.scale)},J.prototype.scrollCellToVisible=function(t,e){var i=-this.view.translate.x,n=-this.view.translate.y,l=this.view.getState(t);if(null!=l){var a=new x.default(i+l.x,n+l.y,l.width,l.height);if(e&&null!=this.container){var r=this.container.clientWidth,o=this.container.clientHeight;a.x=a.getCenterX()-r/2,a.width=r,a.y=a.getCenterY()-o/2,a.height=o}var s=new O.default(this.view.translate.x,this.view.translate.y);if(this.scrollRectToVisible(a)){var u=new O.default(this.view.translate.x,this.view.translate.y);this.view.translate.x=s.x,this.view.translate.y=s.y,this.view.setTranslate(u.x,u.y)}}},J.prototype.scrollRectToVisible=function(t){var e=!1;if(null!=t){var i=this.container.offsetWidth,n=this.container.offsetHeight,l=Math.min(i,t.width),a=Math.min(n,t.height);if(B.default.hasScrollbars(this.container)){var r=this.container;t.x+=this.view.translate.x,t.y+=this.view.translate.y;var o=r.scrollLeft-t.x,s=Math.max(o-r.scrollLeft,0);o>0?r.scrollLeft-=o+2:(o=t.x+l-r.scrollLeft-r.clientWidth)>0&&(r.scrollLeft+=o+2);var u=r.scrollTop-t.y,d=Math.max(0,u-r.scrollTop);u>0?r.scrollTop-=u+2:(u=t.y+a-r.scrollTop-r.clientHeight)>0&&(r.scrollTop+=u+2),this.useScrollbarsForPanning||0==s&&0==d||this.view.setTranslate(s,d)}else{var h=-this.view.translate.x,c=-this.view.translate.y,p=this.view.scale;t.x+l>h+i&&(this.view.translate.x-=(t.x+l-i-h)/p,e=!0),t.y+a>c+n&&(this.view.translate.y-=(t.y+a-n-c)/p,e=!0),t.x<h&&(this.view.translate.x+=(h-t.x)/p,e=!0),t.y<c&&(this.view.translate.y+=(c-t.y)/p,e=!0),e&&(this.view.refresh(),null!=this.selectionCellsHandler&&this.selectionCellsHandler.refresh())}}return e},J.prototype.getCellGeometry=function(t){return this.model.getGeometry(t)},J.prototype.isCellVisible=function(t){return this.model.isVisible(t)},J.prototype.isCellCollapsed=function(t){return this.model.isCollapsed(t)},J.prototype.isCellConnectable=function(t){return this.model.isConnectable(t)},J.prototype.isOrthogonal=function(t){var e=t.style[G.default.STYLE_ORTHOGONAL];if(null!=e)return e;var i=this.view.getEdgeStyle(t);return i==z.default.SegmentConnector||i==z.default.ElbowConnector||i==z.default.SideToSide||i==z.default.TopToBottom||i==z.default.EntityRelation||i==z.default.OrthConnector},J.prototype.isLoop=function(t){var e=t.getVisibleTerminalState(!0),i=t.getVisibleTerminalState(!1);return null!=e&&e==i},J.prototype.isCloneEvent=function(t){return w.default.isControlDown(t)},J.prototype.isToggleEvent=function(t){return c.default.IS_MAC?w.default.isMetaDown(t):w.default.isControlDown(t)},J.prototype.isGridEnabledEvent=function(t){return null!=t&&!w.default.isAltDown(t)},J.prototype.isConstrainedEvent=function(t){return w.default.isShiftDown(t)},J.prototype.isIgnoreTerminalEvent=function(t){return!1},J.prototype.validationAlert=function(t){B.default.alert(t)},J.prototype.isEdgeValid=function(t,e,i){return null==this.getEdgeValidationError(t,e,i)},J.prototype.getEdgeValidationError=function(t,e,i){if(null!=t&&!this.isAllowDanglingEdges()&&(null==e||null==i))return"";if(null!=t&&null==this.model.getTerminal(t,!0)&&null==this.model.getTerminal(t,!1))return null;if(!this.allowLoops&&e==i&&null!=e)return"";if(!this.isValidConnection(e,i))return"";if(null!=e&&null!=i){var n="";if(!this.multigraph){var l=this.model.getEdgesBetween(e,i,!0);(l.length>1||1==l.length&&l[0]!=t)&&(n+=(P.default.get(this.alreadyConnectedResource)||this.alreadyConnectedResource)+"\n")}var a=this.model.getDirectedEdgeCount(e,!0,t),r=this.model.getDirectedEdgeCount(i,!1,t);if(null!=this.multiplicities)for(var o=0;o<this.multiplicities.length;o++){var s;null!=(s=this.multiplicities[o].check(this,t,e,i,a,r))&&(n+=s)}return null!=(s=this.validateEdge(t,e,i))&&(n+=s),n.length>0?n:null}return this.allowDanglingEdges?null:""},J.prototype.validateEdge=function(t,e,i){return null},J.prototype.validateGraph=function(t,e){t=null!=t?t:this.model.getRoot(),e=null!=e?e:new Object;for(var i=!0,n=this.model.getChildCount(t),l=0;l<n;l++){var a=this.model.getChildAt(t,l),r=e;this.isValidRoot(a)&&(r=new Object);var o=this.validateGraph(a,r);null!=o?this.setCellWarning(a,o.replace(/\n/g,"<br>")):this.setCellWarning(a,null),i=i&&null==o}var s="";this.isCellCollapsed(t)&&!i&&(s+=(P.default.get(this.containsValidationErrorsResource)||this.containsValidationErrorsResource)+"\n"),this.model.isEdge(t)?s+=this.getEdgeValidationError(t,this.model.getTerminal(t,!0),this.model.getTerminal(t,!1))||"":s+=this.getCellValidationError(t)||"";var u=this.validateCell(t,e);return null!=u&&(s+=u),null==this.model.getParent(t)&&this.view.validate(),s.length>0||!i?s:null},J.prototype.getCellValidationError=function(t){var e=this.model.getDirectedEdgeCount(t,!0),i=this.model.getDirectedEdgeCount(t,!1),n=this.model.getValue(t),l="";if(null!=this.multiplicities)for(var a=0;a<this.multiplicities.length;a++){var r=this.multiplicities[a];(r.source&&m.default.isNode(n,r.type,r.attr,r.value)&&(0==r.max&&e>0||1==r.min&&0==e||1==r.max&&e>1)||!r.source&&m.default.isNode(n,r.type,r.attr,r.value)&&(0==r.max&&i>0||1==r.min&&0==i||1==r.max&&i>1))&&(l+=r.countError+"\n")}return l.length>0?l:null},J.prototype.validateCell=function(t,e){return null},J.prototype.getBackgroundImage=function(){return this.backgroundImage},J.prototype.setBackgroundImage=function(t){this.backgroundImage=t},J.prototype.getFoldingImage=function(t){if(null!=t&&this.foldingEnabled&&!this.getModel().isEdge(t.cell)){var e=this.isCellCollapsed(t.cell);if(this.isCellFoldable(t.cell,!e))return e?this.collapsedImage:this.expandedImage}return null},J.prototype.convertValueToString=function(t){var e=this.model.getValue(t);if(null!=e){if(m.default.isNode(e))return e.nodeName;if("function"==typeof e.toString)return e.toString()}return""},J.prototype.getLabel=function(t){var e="";if(this.labelsVisible&&null!=t){var i=this.view.getState(t),n=null!=i?i.style:this.getCellStyle(t);m.default.getValue(n,G.default.STYLE_NOLABEL,!1)||(e=this.convertValueToString(t))}return e},J.prototype.isHtmlLabel=function(t){return this.isHtmlLabels()},J.prototype.isHtmlLabels=function(){return this.htmlLabels},J.prototype.setHtmlLabels=function(t){this.htmlLabels=t},J.prototype.isWrapping=function(t){var e=this.view.getState(t),i=null!=e?e.style:this.getCellStyle(t);return null!=i&&"wrap"==i[G.default.STYLE_WHITE_SPACE]},J.prototype.isLabelClipped=function(t){var e=this.view.getState(t),i=null!=e?e.style:this.getCellStyle(t);return null!=i&&"hidden"==i[G.default.STYLE_OVERFLOW]},J.prototype.getTooltip=function(t,e,i,n){var l=null;if(null!=t){if(null==t.control||e!=t.control.node&&e.parentNode!=t.control.node||(l=this.collapseExpandResource,l=m.default.htmlEntities(P.default.get(l)||l).replace(/\\n/g,"<br>")),null==l&&null!=t.overlays&&t.overlays.visit((function(t,i){null!=l||e!=i.node&&e.parentNode!=i.node||(l=i.overlay.toString())})),null==l){var a=this.selectionCellsHandler.getHandler(t.cell);null!=a&&"function"==typeof a.getTooltipForNode&&(l=a.getTooltipForNode(e))}null==l&&(l=this.getTooltipForCell(t.cell))}return l},J.prototype.getTooltipForCell=function(t){return null!=t&&null!=t.getTooltip?t.getTooltip():this.convertValueToString(t)},J.prototype.getCursorForMouseEvent=function(t){return this.getCursorForCell(t.getCell())},J.prototype.getCursorForCell=function(t){return null},J.prototype.getStartSize=function(t){var e=new x.default,i=this.view.getState(t),n=null!=i?i.style:this.getCellStyle(t);if(null!=n){var l=parseInt(m.default.getValue(n,G.default.STYLE_STARTSIZE,G.default.DEFAULT_STARTSIZE));m.default.getValue(n,G.default.STYLE_HORIZONTAL,!0)?e.height=l:e.width=l}return e},J.prototype.getImage=function(t){return null!=t&&null!=t.style?t.style[G.default.STYLE_IMAGE]:null},J.prototype.getVerticalAlign=function(t){return null!=t&&null!=t.style?t.style[G.default.STYLE_VERTICAL_ALIGN]||G.default.ALIGN_MIDDLE:null},J.prototype.getIndicatorColor=function(t){return null!=t&&null!=t.style?t.style[G.default.STYLE_INDICATOR_COLOR]:null},J.prototype.getIndicatorGradientColor=function(t){return null!=t&&null!=t.style?t.style[G.default.STYLE_INDICATOR_GRADIENTCOLOR]:null},J.prototype.getIndicatorShape=function(t){return null!=t&&null!=t.style?t.style[G.default.STYLE_INDICATOR_SHAPE]:null},J.prototype.getIndicatorImage=function(t){return null!=t&&null!=t.style?t.style[G.default.STYLE_INDICATOR_IMAGE]:null},J.prototype.getBorder=function(){return this.border},J.prototype.setBorder=function(t){this.border=t},J.prototype.isSwimlane=function(t){if(null!=t&&this.model.getParent(t)!=this.model.getRoot()){var e=this.view.getState(t),i=null!=e?e.style:this.getCellStyle(t);if(null!=i&&!this.model.isEdge(t))return i[G.default.STYLE_SHAPE]==G.default.SHAPE_SWIMLANE}return!1},J.prototype.isResizeContainer=function(){return this.resizeContainer},J.prototype.setResizeContainer=function(t){this.resizeContainer=t},J.prototype.isEnabled=function(){return this.enabled&&!this.animation},J.prototype.setEnabled=function(t){this.enabled=t},J.prototype.isAnimation=function(){return this.animation},J.prototype.setAnimation=function(t){this.animation=t},J.prototype.isEscapeEnabled=function(){return this.escapeEnabled},J.prototype.setEscapeEnabled=function(t){this.escapeEnabled=t},J.prototype.isInvokesStopCellEditing=function(){return this.invokesStopCellEditing},J.prototype.setInvokesStopCellEditing=function(t){this.invokesStopCellEditing=t},J.prototype.isEnterStopsCellEditing=function(){return this.enterStopsCellEditing},J.prototype.setEnterStopsCellEditing=function(t){this.enterStopsCellEditing=t},J.prototype.isCellLocked=function(t){var e=this.model.getGeometry(t);return this.isCellsLocked()||null!=e&&this.model.isVertex(t)&&e.relative},J.prototype.isCellsLocked=function(){return this.cellsLocked},J.prototype.setCellsLocked=function(t){this.cellsLocked=t},J.prototype.getCloneableCells=function(t){return this.model.filterCells(t,m.default.bind(this,(function(t){return this.isCellCloneable(t)})))},J.prototype.isCellCloneable=function(t){var e=this.view.getState(t),i=null!=e?e.style:this.getCellStyle(t);return this.isCellsCloneable()&&0!=i[G.default.STYLE_CLONEABLE]},J.prototype.isCellsCloneable=function(){return this.cellsCloneable},J.prototype.setCellsCloneable=function(t){this.cellsCloneable=t},J.prototype.getExportableCells=function(t){return this.model.filterCells(t,m.default.bind(this,(function(t){return this.canExportCell(t)})))},J.prototype.canExportCell=function(t){return this.exportEnabled},J.prototype.getImportableCells=function(t){return this.model.filterCells(t,m.default.bind(this,(function(t){return this.canImportCell(t)})))},J.prototype.canImportCell=function(t){return this.importEnabled},J.prototype.isCellSelectable=function(t){return this.isCellsSelectable()},J.prototype.isCellsSelectable=function(){return this.cellsSelectable},J.prototype.setCellsSelectable=function(t){this.cellsSelectable=t},J.prototype.getDeletableCells=function(t){return this.model.filterCells(t,m.default.bind(this,(function(t){return this.isCellDeletable(t)})))},J.prototype.isCellDeletable=function(t){var e=this.view.getState(t),i=null!=e?e.style:this.getCellStyle(t);return this.isCellsDeletable()&&0!=i[G.default.STYLE_DELETABLE]},J.prototype.isCellsDeletable=function(){return this.cellsDeletable},J.prototype.setCellsDeletable=function(t){this.cellsDeletable=t},J.prototype.isLabelMovable=function(t){return!this.isCellLocked(t)&&(this.model.isEdge(t)&&this.edgeLabelsMovable||this.model.isVertex(t)&&this.vertexLabelsMovable)},J.prototype.isCellRotatable=function(t){var e=this.view.getState(t);return 0!=(null!=e?e.style:this.getCellStyle(t))[G.default.STYLE_ROTATABLE]},J.prototype.getMovableCells=function(t){return this.model.filterCells(t,m.default.bind(this,(function(t){return this.isCellMovable(t)})))},J.prototype.isCellMovable=function(t){var e=this.view.getState(t),i=null!=e?e.style:this.getCellStyle(t);return this.isCellsMovable()&&!this.isCellLocked(t)&&0!=i[G.default.STYLE_MOVABLE]},J.prototype.isCellsMovable=function(){return this.cellsMovable},J.prototype.setCellsMovable=function(t){this.cellsMovable=t},J.prototype.isGridEnabled=function(){return this.gridEnabled},J.prototype.setGridEnabled=function(t){this.gridEnabled=t},J.prototype.isPortsEnabled=function(){return this.portsEnabled},J.prototype.setPortsEnabled=function(t){this.portsEnabled=t},J.prototype.getGridSize=function(){return this.gridSize},J.prototype.setGridSize=function(t){this.gridSize=t},J.prototype.getTolerance=function(){return this.tolerance},J.prototype.setTolerance=function(t){this.tolerance=t},J.prototype.isVertexLabelsMovable=function(){return this.vertexLabelsMovable},J.prototype.setVertexLabelsMovable=function(t){this.vertexLabelsMovable=t},J.prototype.isEdgeLabelsMovable=function(){return this.edgeLabelsMovable},J.prototype.setEdgeLabelsMovable=function(t){this.edgeLabelsMovable=t},J.prototype.isSwimlaneNesting=function(){return this.swimlaneNesting},J.prototype.setSwimlaneNesting=function(t){this.swimlaneNesting=t},J.prototype.isSwimlaneSelectionEnabled=function(){return this.swimlaneSelectionEnabled},J.prototype.setSwimlaneSelectionEnabled=function(t){this.swimlaneSelectionEnabled=t},J.prototype.isMultigraph=function(){return this.multigraph},J.prototype.setMultigraph=function(t){this.multigraph=t},J.prototype.isAllowLoops=function(){return this.allowLoops},J.prototype.setAllowDanglingEdges=function(t){this.allowDanglingEdges=t},J.prototype.isAllowDanglingEdges=function(){return this.allowDanglingEdges},J.prototype.setConnectableEdges=function(t){this.connectableEdges=t},J.prototype.isConnectableEdges=function(){return this.connectableEdges},J.prototype.setCloneInvalidEdges=function(t){this.cloneInvalidEdges=t},J.prototype.isCloneInvalidEdges=function(){return this.cloneInvalidEdges},J.prototype.setAllowLoops=function(t){this.allowLoops=t},J.prototype.isDisconnectOnMove=function(){return this.disconnectOnMove},J.prototype.setDisconnectOnMove=function(t){this.disconnectOnMove=t},J.prototype.isDropEnabled=function(){return this.dropEnabled},J.prototype.setDropEnabled=function(t){this.dropEnabled=t},J.prototype.isSplitEnabled=function(){return this.splitEnabled},J.prototype.setSplitEnabled=function(t){this.splitEnabled=t},J.prototype.isCellResizable=function(t){var e=this.view.getState(t),i=null!=e?e.style:this.getCellStyle(t);return this.isCellsResizable()&&!this.isCellLocked(t)&&"0"!=m.default.getValue(i,G.default.STYLE_RESIZABLE,"1")},J.prototype.isCellsResizable=function(){return this.cellsResizable},J.prototype.setCellsResizable=function(t){this.cellsResizable=t},J.prototype.isTerminalPointMovable=function(t,e){return!0},J.prototype.isCellBendable=function(t){var e=this.view.getState(t),i=null!=e?e.style:this.getCellStyle(t);return this.isCellsBendable()&&!this.isCellLocked(t)&&0!=i[G.default.STYLE_BENDABLE]},J.prototype.isCellsBendable=function(){return this.cellsBendable},J.prototype.setCellsBendable=function(t){this.cellsBendable=t},J.prototype.isCellEditable=function(t){var e=this.view.getState(t),i=null!=e?e.style:this.getCellStyle(t);return this.isCellsEditable()&&!this.isCellLocked(t)&&0!=i[G.default.STYLE_EDITABLE]},J.prototype.isCellsEditable=function(){return this.cellsEditable},J.prototype.setCellsEditable=function(t){this.cellsEditable=t},J.prototype.isCellDisconnectable=function(t,e,i){return this.isCellsDisconnectable()&&!this.isCellLocked(t)},J.prototype.isCellsDisconnectable=function(){return this.cellsDisconnectable},J.prototype.setCellsDisconnectable=function(t){this.cellsDisconnectable=t},J.prototype.isValidSource=function(t){return null==t&&this.allowDanglingEdges||null!=t&&(!this.model.isEdge(t)||this.connectableEdges)&&this.isCellConnectable(t)},J.prototype.isValidTarget=function(t){return this.isValidSource(t)},J.prototype.isValidConnection=function(t,e){return this.isValidSource(t)&&this.isValidTarget(e)},J.prototype.setConnectable=function(t){this.connectionHandler.setEnabled(t)},J.prototype.isConnectable=function(t){return this.connectionHandler.isEnabled()},J.prototype.setTooltips=function(t){this.tooltipHandler.setEnabled(t)},J.prototype.setPanning=function(t){this.panningHandler.panningEnabled=t},J.prototype.isEditing=function(t){if(null!=this.cellEditor){var e=this.cellEditor.getEditingCell();return null==t?null!=e:t==e}return!1},J.prototype.isAutoSizeCell=function(t){var e=this.view.getState(t),i=null!=e?e.style:this.getCellStyle(t);return this.isAutoSizeCells()||1==i[G.default.STYLE_AUTOSIZE]},J.prototype.isAutoSizeCells=function(){return this.autoSizeCells},J.prototype.setAutoSizeCells=function(t){this.autoSizeCells=t},J.prototype.isExtendParent=function(t){return!this.getModel().isEdge(t)&&this.isExtendParents()},J.prototype.isExtendParents=function(){return this.extendParents},J.prototype.setExtendParents=function(t){this.extendParents=t},J.prototype.isExtendParentsOnAdd=function(t){return this.extendParentsOnAdd},J.prototype.setExtendParentsOnAdd=function(t){this.extendParentsOnAdd=t},J.prototype.isExtendParentsOnMove=function(){return this.extendParentsOnMove},J.prototype.setExtendParentsOnMove=function(t){this.extendParentsOnMove=t},J.prototype.isRecursiveResize=function(t){return this.recursiveResize},J.prototype.setRecursiveResize=function(t){this.recursiveResize=t},J.prototype.isConstrainChild=function(t){return this.isConstrainChildren()&&!this.getModel().isEdge(this.getModel().getParent(t))},J.prototype.isConstrainChildren=function(){return this.constrainChildren},J.prototype.setConstrainChildren=function(t){this.constrainChildren=t},J.prototype.isConstrainRelativeChildren=function(){return this.constrainRelativeChildren},J.prototype.setConstrainRelativeChildren=function(t){this.constrainRelativeChildren=t},J.prototype.isAllowNegativeCoordinates=function(){return this.allowNegativeCoordinates},J.prototype.setAllowNegativeCoordinates=function(t){this.allowNegativeCoordinates=t},J.prototype.getOverlap=function(t){return this.isAllowOverlapParent(t)?this.defaultOverlap:0},J.prototype.isAllowOverlapParent=function(t){return!1},J.prototype.getFoldableCells=function(t,e){return this.model.filterCells(t,m.default.bind(this,(function(t){return this.isCellFoldable(t,e)})))},J.prototype.isCellFoldable=function(t,e){var i=this.view.getState(t),n=null!=i?i.style:this.getCellStyle(t);return this.model.getChildCount(t)>0&&0!=n[G.default.STYLE_FOLDABLE]},J.prototype.isValidDropTarget=function(t,e,i){return null!=t&&(this.isSplitEnabled()&&this.isSplitTarget(t,e,i)||!this.model.isEdge(t)&&(this.isSwimlane(t)||this.model.getChildCount(t)>0&&!this.isCellCollapsed(t)))},J.prototype.isSplitTarget=function(t,e,i){if(this.model.isEdge(t)&&null!=e&&1==e.length&&this.isCellConnectable(e[0])&&null==this.getEdgeValidationError(t,this.model.getTerminal(t,!0),e[0])){var n=this.model.getTerminal(t,!0),l=this.model.getTerminal(t,!1);return!this.model.isAncestor(e[0],n)&&!this.model.isAncestor(e[0],l)}return!1},J.prototype.getDropTarget=function(t,e,i,n){if(!this.isSwimlaneNesting())for(var l=0;l<t.length;l++)if(this.isSwimlane(t[l]))return null;var a=B.default.convertPoint(this.container,w.default.getClientX(e),w.default.getClientY(e));a.x-=this.panDx,a.y-=this.panDy;var r=this.getSwimlaneAt(a.x,a.y);if(null==i)i=r;else if(null!=r){for(var o=this.model.getParent(r);null!=o&&this.isSwimlane(o)&&o!=i;)o=this.model.getParent(o);o==i&&(i=r)}for(;null!=i&&!this.isValidDropTarget(i,t,e)&&!this.model.isLayer(i);)i=this.model.getParent(i);if(null==n||!n)for(var s=i;null!=s&&m.default.indexOf(t,s)<0;)s=this.model.getParent(s);return this.model.isLayer(i)||null!=s?null:i},J.prototype.getDefaultParent=function(){var t=this.getCurrentRoot();if(null==t&&null==(t=this.defaultParent)){var e=this.model.getRoot();t=this.model.getChildAt(e,0)}return t},J.prototype.setDefaultParent=function(t){this.defaultParent=t},J.prototype.getSwimlane=function(t){for(;null!=t&&!this.isSwimlane(t);)t=this.model.getParent(t);return t},J.prototype.getSwimlaneAt=function(t,e,i){if(null!=(i=i||this.getDefaultParent()))for(var n=this.model.getChildCount(i),l=0;l<n;l++){var a=this.model.getChildAt(i,l),r=this.getSwimlaneAt(t,e,a);if(null!=r)return r;if(this.isSwimlane(a)){var o=this.view.getState(a);if(this.intersects(o,t,e))return a}}return null},J.prototype.getCellAt=function(t,e,i,n,l,a){if(n=null==n||n,l=null==l||l,null==i&&null==(i=this.getCurrentRoot())&&(i=this.getModel().getRoot()),null!=i)for(var r=this.model.getChildCount(i)-1;r>=0;r--){var o=this.model.getChildAt(i,r),s=this.getCellAt(t,e,o,n,l,a);if(null!=s)return s;if(this.isCellVisible(o)&&(l&&this.model.isEdge(o)||n&&this.model.isVertex(o))){var u=this.view.getState(o);if(null!=u&&(null==a||!a(u,t,e))&&this.intersects(u,t,e))return o}}return null},J.prototype.intersects=function(t,e,i){if(null!=t){var n=t.absolutePoints;if(null!=n)for(var l=this.tolerance*this.tolerance,a=n[0],r=1;r<n.length;r++){var o=n[r];if(B.default.ptSegDistSq(a.x,a.y,o.x,o.y,e,i)<=l)return!0;a=o}else{var s=B.default.toRadians(m.default.getValue(t.style,G.default.STYLE_ROTATION)||0);if(0!=s){var u=Math.cos(-s),d=Math.sin(-s),h=new O.default(t.getCenterX(),t.getCenterY());e=(a=B.default.getRotatedPoint(new O.default(e,i),u,d,h)).x,i=a.y}if(B.default.contains(t,e,i))return!0}}return!1},J.prototype.hitsSwimlaneContent=function(t,e,i){var n=this.getView().getState(t),l=this.getStartSize(t);if(null!=n){var a=this.getView().getScale();if(e-=n.x,i-=n.y,l.width>0&&e>0&&e>l.width*a)return!0;if(l.height>0&&i>0&&i>l.height*a)return!0}return!1},J.prototype.getChildVertices=function(t){return this.getChildCells(t,!0,!1)},J.prototype.getChildEdges=function(t){return this.getChildCells(t,!1,!0)},J.prototype.getChildCells=function(t,e,i){t=null!=t?t:this.getDefaultParent(),e=null!=e&&e,i=null!=i&&i;for(var n=this.model.getChildCells(t,e,i),l=[],a=0;a<n.length;a++)this.isCellVisible(n[a])&&l.push(n[a]);return l},J.prototype.getConnections=function(t,e){return this.getEdges(t,e,!0,!0,!1)},J.prototype.getIncomingEdges=function(t,e){return this.getEdges(t,e,!0,!1,!1)},J.prototype.getOutgoingEdges=function(t,e){return this.getEdges(t,e,!1,!0,!1)},J.prototype.getEdges=function(t,e,i,n,l,a){i=null==i||i,n=null==n||n,l=null==l||l,a=null!=a&&a;for(var r=[],o=this.isCellCollapsed(t),s=this.model.getChildCount(t),u=0;u<s;u++){var d=this.model.getChildAt(t,u);!o&&this.isCellVisible(d)||(r=r.concat(this.model.getEdges(d,i,n)))}r=r.concat(this.model.getEdges(t,i,n));var h=[];for(u=0;u<r.length;u++){var c=this.view.getState(r[u]),p=null!=c?c.getVisibleTerminal(!0):this.view.getVisibleTerminal(r[u],!0),f=null!=c?c.getVisibleTerminal(!1):this.view.getVisibleTerminal(r[u],!1);(l&&p==f||p!=f&&(i&&f==t&&(null==e||this.isValidAncestor(p,e,a))||n&&p==t&&(null==e||this.isValidAncestor(f,e,a))))&&h.push(r[u])}return h},J.prototype.isValidAncestor=function(t,e,i){return i?this.model.isAncestor(e,t):this.model.getParent(t)==e},J.prototype.getOpposites=function(t,e,i,n){i=null==i||i,n=null==n||n;var l=[],a=new T.default;if(null!=t)for(var r=0;r<t.length;r++){var o=this.view.getState(t[r]),s=null!=o?o.getVisibleTerminal(!0):this.view.getVisibleTerminal(t[r],!0),u=null!=o?o.getVisibleTerminal(!1):this.view.getVisibleTerminal(t[r],!1);s==e&&null!=u&&u!=e&&n?a.get(u)||(a.put(u,!0),l.push(u)):u==e&&null!=s&&s!=e&&i&&(a.get(s)||(a.put(s,!0),l.push(s)))}return l},J.prototype.getEdgesBetween=function(t,e,i){i=null!=i&&i;for(var n=this.getEdges(t),l=[],a=0;a<n.length;a++){var r=this.view.getState(n[a]),o=null!=r?r.getVisibleTerminal(!0):this.view.getVisibleTerminal(n[a],!0),s=null!=r?r.getVisibleTerminal(!1):this.view.getVisibleTerminal(n[a],!1);(o==t&&s==e||!i&&o==e&&s==t)&&l.push(n[a])}return l},J.prototype.getPointForEvent=function(t,e){var i=B.default.convertPoint(this.container,w.default.getClientX(t),w.default.getClientY(t)),n=this.view.scale,l=this.view.translate,a=0!=e?this.gridSize/2:0;return i.x=this.snap(i.x/n-l.x-a),i.y=this.snap(i.y/n-l.y-a),i},J.prototype.getCells=function(t,e,i,n,l,a){if(a=null!=a?a:[],i>0||n>0){var r=this.getModel(),o=t+i,s=e+n;if(null==l&&null==(l=this.getCurrentRoot())&&(l=r.getRoot()),null!=l)for(var u=r.getChildCount(l),d=0;d<u;d++){var h=r.getChildAt(l,d),c=this.view.getState(h);if(null!=c&&this.isCellVisible(h)){var p=m.default.getValue(c.style,G.default.STYLE_ROTATION)||0,f=c;0!=p&&(f=B.default.getBoundingBox(f,p)),(r.isEdge(h)||r.isVertex(h))&&f.x>=t&&f.y+f.height<=s&&f.y>=e&&f.x+f.width<=o?a.push(h):this.getCells(t,e,i,n,h,a)}}}return a},J.prototype.getCellsBeyond=function(t,e,i,n,l){var a=[];if((n||l)&&(null==i&&(i=this.getDefaultParent()),null!=i))for(var r=this.model.getChildCount(i),o=0;o<r;o++){var s=this.model.getChildAt(i,o),u=this.view.getState(s);this.isCellVisible(s)&&null!=u&&(!n||u.x>=t)&&(!l||u.y>=e)&&a.push(s)}return a},J.prototype.findTreeRoots=function(t,e,i){e=null!=e&&e,i=null!=i&&i;var n=[];if(null!=t){for(var l=this.getModel(),a=l.getChildCount(t),r=null,o=0,s=0;s<a;s++){var u=l.getChildAt(t,s);if(this.model.isVertex(u)&&this.isCellVisible(u)){for(var d=this.getConnections(u,e?t:null),h=0,c=0,p=0;p<d.length;p++){this.view.getVisibleTerminal(d[p],!0)==u?h++:c++}(i&&0==h&&c>0||!i&&0==c&&h>0)&&n.push(u);var f=i?c-h:h-c;f>o&&(o=f,r=u)}}0==n.length&&null!=r&&n.push(r)}return n},J.prototype.traverse=function(t,e,i,n,l){if(null!=i&&null!=t&&(e=null==e||e,!(l=l||new T.default).get(t))){l.put(t,!0);var a=i(t,n);if(null==a||a){var r=this.model.getEdgeCount(t);if(r>0)for(var o=0;o<r;o++){var s=this.model.getEdgeAt(t,o),u=this.model.getTerminal(s,!0)==t;if(!e||u){var d=this.model.getTerminal(s,!u);this.traverse(d,e,i,s,l)}}}}},J.prototype.isCellSelected=function(t){return this.getSelectionModel().isSelected(t)},J.prototype.isSelectionEmpty=function(){return this.getSelectionModel().isEmpty()},J.prototype.clearSelection=function(){return this.getSelectionModel().clear()},J.prototype.getSelectionCount=function(){return this.getSelectionModel().cells.length},J.prototype.getSelectionCell=function(){var t=this.getSelectionModel().cells[0];return t||(t=this.getModel().root.children[0]),t},J.prototype.getSelectionCells=function(){return this.getSelectionModel().cells.slice()},J.prototype.setSelectionCell=function(t){this.getSelectionModel().setCell(t)},J.prototype.setSelectionCells=function(t){this.getSelectionModel().setCells(t)},J.prototype.addSelectionCell=function(t){this.getSelectionModel().addCell(t)},J.prototype.addSelectionCells=function(t){this.getSelectionModel().addCells(t)},J.prototype.removeSelectionCell=function(t){this.getSelectionModel().removeCell(t)},J.prototype.removeSelectionCells=function(t){this.getSelectionModel().removeCells(t)},J.prototype.selectRegion=function(t,e){var i=this.getCells(t.x,t.y,t.width,t.height);return this.selectCellsForEvent(i,e),i},J.prototype.selectNextCell=function(){this.selectCell(!0)},J.prototype.selectPreviousCell=function(){this.selectCell()},J.prototype.selectParentCell=function(){this.selectCell(!1,!0)},J.prototype.selectChildCell=function(){this.selectCell(!1,!1,!0)},J.prototype.selectCell=function(t,e,i){var n=this.selectionModel,l=n.cells.length>0?n.cells[0]:null;n.cells.length>1&&n.clear();var a=null!=l?this.model.getParent(l):this.getDefaultParent(),r=this.model.getChildCount(a);if(null==l&&r>0){var o=this.model.getChildAt(a,0);this.setSelectionCell(o)}else if(null!=l&&!e||null==this.view.getState(a)||null==this.model.getGeometry(a)){if(null!=l&&i){if(this.model.getChildCount(l)>0){o=this.model.getChildAt(l,0);this.setSelectionCell(o)}}else if(r>0){var s=a.getIndex(l);if(t){s++;o=this.model.getChildAt(a,s%r);this.setSelectionCell(o)}else{var u=--s<0?r-1:s;o=this.model.getChildAt(a,u);this.setSelectionCell(o)}}}else this.getCurrentRoot()!=a&&this.setSelectionCell(a)},J.prototype.selectAll=function(t,e){t=t||this.getDefaultParent();var i=e?this.model.filterDescendants((function(e){return e!=t}),t):this.model.getChildren(t);null!=i&&this.setSelectionCells(i)},J.prototype.selectVertices=function(t){this.selectCells(!0,!1,t)},J.prototype.selectEdges=function(t){this.selectCells(!1,!0,t)},J.prototype.selectCells=function(t,e,i){i=i||this.getDefaultParent();var n=m.default.bind(this,(function(i){return null!=this.view.getState(i)&&(0==this.model.getChildCount(i)&&this.model.isVertex(i)&&t&&!this.model.isEdge(this.model.getParent(i))||this.model.isEdge(i)&&e)})),l=this.model.filterDescendants(n,i);this.setSelectionCells(l)},J.prototype.selectCellForEvent=function(t,e){var i=this.isCellSelected(t);this.isToggleEvent(e)?i?this.removeSelectionCell(t):this.addSelectionCell(t):i&&1==this.getSelectionCount()||this.setSelectionCell(t)},J.prototype.selectCellsForEvent=function(t,e){this.isToggleEvent(e)?this.addSelectionCells(t):this.setSelectionCells(t)},J.prototype.createHandler=function(t){var e=null;if(null!=t)if(this.model.isEdge(t.cell)){var i=t.getVisibleTerminalState(!0),n=t.getVisibleTerminalState(!1),l=this.getCellGeometry(t.cell),a=this.view.getEdgeStyle(t,null!=l?l.points:null,i,n);e=this.createEdgeHandler(t,a)}else e=this.createVertexHandler(t);return e},J.prototype.createVertexHandler=function(t){return new R.default(t)},J.prototype.createEdgeHandler=function(t,e){return e==z.default.Loop||e==z.default.ElbowConnector||e==z.default.SideToSide||e==z.default.TopToBottom?this.createElbowEdgeHandler(t):e==z.default.SegmentConnector||e==z.default.OrthConnector?this.createEdgeSegmentHandler(t):new u.default(t)},J.prototype.createEdgeSegmentHandler=function(t){return new E.default(t)},J.prototype.createElbowEdgeHandler=function(t){return new o.default(t)},J.prototype.addMouseListener=function(t){null==this.mouseListeners&&(this.mouseListeners=[]),this.mouseListeners.push(t)},J.prototype.removeMouseListener=function(t){if(null!=this.mouseListeners)for(var e=0;e<this.mouseListeners.length;e++)if(this.mouseListeners[e]==t){this.mouseListeners.splice(e,1);break}},J.prototype.updateMouseEvent=function(t,e){if(null==t.graphX||null==t.graphY){var i=B.default.convertPoint(this.container,t.getX(),t.getY());t.graphX=i.x-this.panDx,t.graphY=i.y-this.panDy,null==t.getCell()&&this.isMouseDown&&e==w.default.MOUSE_MOVE&&(t.state=this.view.getState(this.getCellAt(i.x,i.y,null,null,null,(function(t){return null==t.shape||t.shape.paintBackground!=L.default.prototype.paintBackground||"1"==m.default.getValue(t.style,G.default.STYLE_POINTER_EVENTS,"1")||null!=t.shape.fill&&t.shape.fill!=G.default.NONE}))))}return t},J.prototype.getStateForTouchEvent=function(t){var e=w.default.getClientX(t),i=w.default.getClientY(t),n=B.default.convertPoint(this.container,e,i);return this.view.getState(this.getCellAt(n.x,n.y))},J.prototype.isEventIgnored=function(t,e,i){var n=w.default.isMouseEvent(e.getEvent()),l=!1;return e.getEvent()==this.lastEvent?l=!0:this.lastEvent=e.getEvent(),null!=this.eventSource&&t!=w.default.MOUSE_MOVE?(w.default.removeGestureListeners(this.eventSource,null,this.mouseMoveRedirect,this.mouseUpRedirect),this.mouseMoveRedirect=null,this.mouseUpRedirect=null,this.eventSource=null):null!=this.eventSource&&e.getSource()!=this.eventSource?l=!0:c.default.IS_TOUCH&&t==w.default.MOUSE_DOWN&&!n&&(this.eventSource=e.getSource(),this.mouseMoveRedirect=m.default.bind(this,(function(t){this.fireMouseEvent(w.default.MOUSE_MOVE,new C.default(t,this.getStateForTouchEvent(t)))})),this.mouseUpRedirect=m.default.bind(this,(function(t){this.fireMouseEvent(w.default.MOUSE_UP,new C.default(t,this.getStateForTouchEvent(t)))})),w.default.addGestureListeners(this.eventSource,null,this.mouseMoveRedirect,this.mouseUpRedirect)),this.isSyntheticEventIgnored(t,e,i)&&(l=!0),!w.default.isPopupTrigger(this.lastEvent)&&t!=w.default.MOUSE_MOVE&&2==this.lastEvent.detail||(t==w.default.MOUSE_UP&&this.isMouseDown?this.isMouseDown=!1:t!=w.default.MOUSE_DOWN||this.isMouseDown?!l&&((!c.default.IS_FF||t!=w.default.MOUSE_MOVE)&&this.isMouseDown&&this.isMouseTrigger!=n||t==w.default.MOUSE_DOWN&&this.isMouseDown||t==w.default.MOUSE_UP&&!this.isMouseDown)&&(l=!0):(this.isMouseDown=!0,this.isMouseTrigger=n),l||t!=w.default.MOUSE_DOWN||(this.lastMouseX=e.getX(),this.lastMouseY=e.getY()),l)},J.prototype.isSyntheticEventIgnored=function(t,e,i){var n=!1,l=w.default.isMouseEvent(e.getEvent());return this.ignoreMouseEvents&&l&&t!=w.default.MOUSE_MOVE?(this.ignoreMouseEvents=t!=w.default.MOUSE_UP,n=!0):c.default.IS_FF&&!l&&t==w.default.MOUSE_UP&&(this.ignoreMouseEvents=!0),n},J.prototype.isEventSourceIgnored=function(t,e){var i=e.getSource(),n=null!=i.nodeName?i.nodeName.toLowerCase():"",l=!w.default.isMouseEvent(e.getEvent())||w.default.isLeftMouseButton(e.getEvent());return t==w.default.MOUSE_DOWN&&l&&("select"==n||"option"==n||"input"==n&&"checkbox"!=i.type&&"radio"!=i.type&&"button"!=i.type&&"submit"!=i.type&&"file"!=i.type)},J.prototype.getEventState=function(t){return t},J.prototype.fireMouseEvent=function(t,e,i){if(this.isEventSourceIgnored(t,e))null!=this.tooltipHandler&&this.tooltipHandler.hide();else{if(null==i&&(i=this),e=this.updateMouseEvent(e,t),!this.nativeDblClickEnabled&&!w.default.isPopupTrigger(e.getEvent())||this.doubleTapEnabled&&c.default.IS_TOUCH&&w.default.isTouchEvent(e.getEvent())){var n=(new Date).getTime();if(!c.default.IS_QUIRKS&&t==w.default.MOUSE_DOWN||c.default.IS_QUIRKS&&t==w.default.MOUSE_UP&&!this.fireDoubleClick)if(null!=this.lastTouchEvent&&this.lastTouchEvent!=e.getEvent()&&n-this.lastTouchTime<this.doubleTapTimeout&&Math.abs(this.lastTouchX-e.getX())<this.doubleTapTolerance&&Math.abs(this.lastTouchY-e.getY())<this.doubleTapTolerance&&this.doubleClickCounter<2){this.doubleClickCounter++;var l=!1;if(t==w.default.MOUSE_UP){if(e.getCell()==this.lastTouchCell&&null!=this.lastTouchCell){this.lastTouchTime=0;var a=this.lastTouchCell;this.lastTouchCell=null,c.default.IS_QUIRKS&&e.getSource().fireEvent("ondblclick"),this.dblClick(e.getEvent(),a),l=!0}}else this.fireDoubleClick=!0,this.lastTouchTime=0;if(!c.default.IS_QUIRKS||l)return void w.default.consume(e.getEvent())}else null!=this.lastTouchEvent&&this.lastTouchEvent==e.getEvent()||(this.lastTouchCell=e.getCell(),this.lastTouchX=e.getX(),this.lastTouchY=e.getY(),this.lastTouchTime=n,this.lastTouchEvent=e.getEvent(),this.doubleClickCounter=0);else if((this.isMouseDown||t==w.default.MOUSE_UP)&&this.fireDoubleClick){this.fireDoubleClick=!1;a=this.lastTouchCell;return this.lastTouchCell=null,this.isMouseDown=!1,void((null!=a||w.default.isTouchEvent(e.getEvent())&&(c.default.IS_GC||c.default.IS_SF))&&Math.abs(this.lastTouchX-e.getX())<this.doubleTapTolerance&&Math.abs(this.lastTouchY-e.getY())<this.doubleTapTolerance?this.dblClick(e.getEvent(),a):w.default.consume(e.getEvent()))}}if(!this.isEventIgnored(t,e,i)){if(e.state=this.getEventState(e.getState()),this.fireEvent(new S.default(w.default.FIRE_MOUSE_EVENT,"eventName",t,"event",e)),c.default.IS_OP||c.default.IS_SF||c.default.IS_GC||c.default.IS_IE11||c.default.IS_IE&&c.default.IS_SVG||e.getEvent().target!=this.container){if(t==w.default.MOUSE_MOVE&&this.isMouseDown&&this.autoScroll&&!w.default.isMultiTouchEvent(e.getEvent))this.scrollPointToVisible(e.getGraphX(),e.getGraphY(),this.autoExtend);else if(t==w.default.MOUSE_UP&&this.ignoreScrollbars&&this.translateToScrollPosition&&(0!=this.container.scrollLeft||0!=this.container.scrollTop)){var r=this.view.scale,o=this.view.translate;this.view.setTranslate(o.x-this.container.scrollLeft/r,o.y-this.container.scrollTop/r),this.container.scrollLeft=0,this.container.scrollTop=0}if(null!=this.mouseListeners){var s=[i,e];e.getEvent().preventDefault||(e.getEvent().returnValue=!0);for(var u=0;u<this.mouseListeners.length;u++){var d=this.mouseListeners[u];t==w.default.MOUSE_DOWN?d.mouseDown.apply(d,s):t==w.default.MOUSE_MOVE?d.mouseMove.apply(d,s):t==w.default.MOUSE_UP&&d.mouseUp.apply(d,s)}}t==w.default.MOUSE_UP&&this.click(e)}if(w.default.isTouchEvent(e.getEvent())&&t==w.default.MOUSE_DOWN&&this.tapAndHoldEnabled&&!this.tapAndHoldInProgress){this.tapAndHoldInProgress=!0,this.initialTouchX=e.getGraphX(),this.initialTouchY=e.getGraphY();this.tapAndHoldThread&&window.clearTimeout(this.tapAndHoldThread),this.tapAndHoldThread=window.setTimeout(m.default.bind(this,(function(){this.tapAndHoldValid&&this.tapAndHold(e),this.tapAndHoldInProgress=!1,this.tapAndHoldValid=!1})),this.tapAndHoldDelay),this.tapAndHoldValid=!0}else t==w.default.MOUSE_UP?(this.tapAndHoldInProgress=!1,this.tapAndHoldValid=!1):this.tapAndHoldValid&&(this.tapAndHoldValid=Math.abs(this.initialTouchX-e.getGraphX())<this.tolerance&&Math.abs(this.initialTouchY-e.getGraphY())<this.tolerance);t==w.default.MOUSE_DOWN&&this.isEditing()&&!this.cellEditor.isEventSource(e.getEvent())&&this.stopEditing(!this.isInvokesStopCellEditing()),this.consumeMouseEvent(t,e,i)}}},J.prototype.consumeMouseEvent=function(t,e,i){t==w.default.MOUSE_DOWN&&w.default.isTouchEvent(e.getEvent())&&e.consume(!1)},J.prototype.fireGestureEvent=function(t,e){this.lastTouchTime=0,this.fireEvent(new S.default(w.default.GESTURE,"event",t,"cell",e))},J.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,null!=this.tooltipHandler&&this.tooltipHandler.destroy(),null!=this.selectionCellsHandler&&this.selectionCellsHandler.destroy(),null!=this.panningHandler&&this.panningHandler.destroy(),null!=this.popupMenuHandler&&this.popupMenuHandler.destroy(),null!=this.connectionHandler&&this.connectionHandler.destroy(),null!=this.graphHandler&&this.graphHandler.destroy(),null!=this.cellEditor&&this.cellEditor.destroy(),null!=this.view&&this.view.destroy(),null!=this.model&&null!=this.graphModelChangeListener&&(this.model.removeListener(this.graphModelChangeListener),this.graphModelChangeListener=null),this.container=null)},J.getName=function(){return"mxGraph"};e.default=J},822860:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={ALIGN_LEFT:"left",ALIGN_CENTER:"center",ALIGN_RIGHT:"right",ALIGN_TOP:"top",ALIGN_MIDDLE:"middle",ALIGN_BOTTOM:"bottom",NONE:"none",EDGE_ORTHOGONAL:1,EDGE_POLYLINE:2,EDGE_STRAIGHT:3,EDGE_CURVE:4,FIELD_NAME:"mxObjectId",STYLE_PORT_CONSTRAINT:"portConstraint",DIRECTION_MASK_NONE:0,DIRECTION_MASK_WEST:1,DIRECTION_MASK_NORTH:2,DIRECTION_MASK_SOUTH:4,DIRECTION_MASK_EAST:8,DIRECTION_MASK_ALL:15,STYLE_ROTATION:"rotation",DIRECTION_NORTH:"north",DIRECTION_SOUTH:"south",DIRECTION_EAST:"east",DIRECTION_WEST:"west",NODETYPE_ELEMENT:1,NODETYPE_ATTRIBUTE:2,NODETYPE_TEXT:3,NODETYPE_CDATA:4,NODETYPE_ENTITY_REFERENCE:5,NODETYPE_ENTITY:6,NODETYPE_PROCESSING_INSTRUCTION:7,NODETYPE_COMMENT:8,NODETYPE_DOCUMENT:9,NODETYPE_DOCUMENTTYPE:10,NODETYPE_DOCUMENT_FRAGMENT:11,COLLAPSED_IMAGE:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTVweCIgaGVpZ2h0PSIxNXB4IiB2aWV3Qm94PSIwIDAgMTUgMTUiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8ZGVmcz4KICAgICAgICA8bGluZWFyR3JhZGllbnQgeDE9IjQ1LjMzMzA4NzQlIiB5MT0iMTAwJSIgeDI9IjQ1LjMzMzA4NzYlIiB5Mj0iMCUiIGlkPSJsaW5lYXJHcmFkaWVudC0xIj4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iIzUyOTVGMSIgb2Zmc2V0PSIwJSI+PC9zdG9wPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjNDRBN0Y5IiBvZmZzZXQ9IjEwMCUiPjwvc3RvcD4KICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgPC9kZWZzPgogICAgPGcgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTExNzQuMDAwMDAwLCAtMzgzLjAwMDAwMCkiPgogICAgICAgICAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg5MTguMDAwMDAwLCAzNzMuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNTYuMDAwMDAwLCAxMC4wMDAwMDApIj4KICAgICAgICAgICAgICAgICAgICA8Y2lyY2xlIGZpbGw9IiM1NUI0RkYiIGN4PSI3LjUiIGN5PSI3LjUiIHI9IjcuNSI+PC9jaXJjbGU+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTcsNyBMMyw3IEwzLDggTDcsOCBMNywxMiBMOCwxMiBMOCw4IEwxMiw4IEwxMiw3IEw4LDcgTDgsMyBMNywzIEw3LDcgWiIgZmlsbD0iI0ZGRkZGRiIgZmlsbC1ydWxlPSJub256ZXJvIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==",EXPANDED_IMAGE:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTVweCIgaGVpZ2h0PSIxNXB4IiB2aWV3Qm94PSIwIDAgMTUgMTUiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8ZGVmcz4KICAgICAgICA8bGluZWFyR3JhZGllbnQgeDE9IjQ1LjMzMzA4NzQlIiB5MT0iMTAwJSIgeDI9IjQ1LjMzMzA4NzYlIiB5Mj0iMCUiIGlkPSJsaW5lYXJHcmFkaWVudC0xIj4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iIzUyOTVGMSIgb2Zmc2V0PSIwJSI+PC9zdG9wPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjNDRBN0Y5IiBvZmZzZXQ9IjEwMCUiPjwvc3RvcD4KICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgPC9kZWZzPgogICAgPGcgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTU4MS4wMDAwMDAsIC0zODYuMDAwMDAwKSI+CiAgICAgICAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDMyNS4wMDAwMDAsIDM3Ni4wMDAwMDApIj4KICAgICAgICAgICAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI1Ni4wMDAwMDAsIDEwLjAwMDAwMCkiPgogICAgICAgICAgICAgICAgICAgIDxjaXJjbGUgZmlsbD0iIzU1QjRGRiIgY3g9IjcuNSIgY3k9IjcuNSIgcj0iNy41Ij48L2NpcmNsZT4KICAgICAgICAgICAgICAgICAgICA8cG9seWdvbiBmaWxsPSIjRkZGRkZGIiBmaWxsLXJ1bGU9Im5vbnplcm8iIHBvaW50cz0iMyA4IDEyIDggMTIgNyAzIDciPjwvcG9seWdvbj4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+"}},736616:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(297336);var n=p(i(655696)),l=p(i(22676)),a=p(i(370608)),r=p(i(164460)),o=p(i(742288)),s=p(i(247644)),u=p(i(667016)),d=p(i(833800)),h=p(i(790448)),c=p(i(132448));function p(t){return t&&t.__esModule?t:{default:t}}function f(t){this.graph=t,this.graph.addMouseListener(this),this.panHandler=o.default.bind(this,(function(){this.updatePreviewShape(),this.updateHint()})),this.graph.addListener(a.default.PAN,this.panHandler),this.escapeHandler=o.default.bind(this,(function(t,e){this.reset()})),this.graph.addListener(a.default.ESCAPE,this.escapeHandler)}f.prototype.graph=null,f.prototype.maxCells=l.default.IS_IE?20:50,f.prototype.enabled=!0,f.prototype.highlightEnabled=!0,f.prototype.cloneEnabled=!0,f.prototype.moveEnabled=!0,f.prototype.guidesEnabled=!1,f.prototype.guide=null,f.prototype.currentDx=null,f.prototype.currentDy=null,f.prototype.updateCursor=!0,f.prototype.selectEnabled=!0,f.prototype.removeCellsFromParent=!0,f.prototype.connectOnDrop=!1,f.prototype.scrollOnMove=!0,f.prototype.minimumSize=6,f.prototype.previewColor="black",f.prototype.htmlPreview=!1,f.prototype.shape=null,f.prototype.scaleGrid=!1,f.prototype.rotationEnabled=!0,f.prototype.isEnabled=function(){return this.enabled},f.prototype.setEnabled=function(t){this.enabled=t},f.prototype.isCloneEnabled=function(){return this.cloneEnabled},f.prototype.setCloneEnabled=function(t){this.cloneEnabled=t},f.prototype.isMoveEnabled=function(){return this.moveEnabled},f.prototype.setMoveEnabled=function(t){this.moveEnabled=t},f.prototype.isSelectEnabled=function(){return this.selectEnabled},f.prototype.setSelectEnabled=function(t){this.selectEnabled=t},f.prototype.isRemoveCellsFromParent=function(){return this.removeCellsFromParent},f.prototype.setRemoveCellsFromParent=function(t){this.removeCellsFromParent=t},f.prototype.getInitialCellForEvent=function(t){return t.getCell()},f.prototype.isDelayedSelection=function(t,e){return this.graph.isCellSelected(t)},f.prototype.mouseDown=function(t,e){if(!e.isConsumed()&&this.isEnabled()&&this.graph.isEnabled()&&null!=e.getState()&&!a.default.isMultiTouchEvent(e.getEvent())){var i=this.getInitialCellForEvent(e);if(this.delayedSelection=this.isDelayedSelection(i,e),this.cell=null,this.isSelectEnabled()&&!this.delayedSelection&&this.graph.selectCellForEvent(i,e.getEvent()),this.isMoveEnabled()){var n=this.graph.model,l=n.getGeometry(i);this.graph.isCellMovable(i)&&(!n.isEdge(i)||this.graph.getSelectionCount()>1||null!=l.points&&l.points.length>0||null==n.getTerminal(i,!0)||null==n.getTerminal(i,!1)||this.graph.allowDanglingEdges||this.graph.isCloneEvent(e.getEvent())&&this.graph.isCellsCloneable())?this.start(i,e.getX(),e.getY()):this.delayedSelection&&(this.cell=i),this.cellWasClicked=!0,e.consume()}}},f.prototype.getGuideStates=function(){var t=this.graph.getDefaultParent(),e=this.graph.getModel(),i=o.default.bind(this,(function(t){return null!=this.graph.view.getState(t)&&e.isVertex(t)&&null!=e.getGeometry(t)&&!e.getGeometry(t).relative}));return this.graph.view.getCellStates(e.filterDescendants(i,t))},f.prototype.getCells=function(t){return!this.delayedSelection&&this.graph.isCellMovable(t)?[t]:this.graph.getMovableCells(this.graph.getSelectionCells())},f.prototype.getPreviewBounds=function(t){var e=this.getBoundingBox(t);if(null!=e){if(e.width=Math.max(0,e.width-1),e.height=Math.max(0,e.height-1),e.width<this.minimumSize){var i=this.minimumSize-e.width;e.x-=i/2,e.width=this.minimumSize}else e.x=Math.round(e.x),e.width=Math.ceil(e.width);this.graph.view.translate,this.graph.view.scale;if(e.height<this.minimumSize){var n=this.minimumSize-e.height;e.y-=n/2,e.height=this.minimumSize}else e.y=Math.round(e.y),e.height=Math.ceil(e.height)}return e},f.prototype.getBoundingBox=function(t){var e=null;if(null!=t&&t.length>0)for(var i=this.graph.getModel(),n=0;n<t.length;n++)if(i.isVertex(t[n])||i.isEdge(t[n])){var l=this.graph.view.getState(t[n]);if(null!=l){var a=l;i.isVertex(t[n])&&null!=l.shape&&null!=l.shape.boundingBox&&(a=l.shape.boundingBox),null==e?e=s.default.fromRectangle(a):e.add(a)}}return e},f.prototype.createPreviewShape=function(t){var e=new d.default(t,null,this.previewColor);return e.isDashed=!0,this.htmlPreview?(e.dialect=h.default.DIALECT_STRICTHTML,e.init(this.graph.container)):(e.dialect=this.graph.dialect!=h.default.DIALECT_SVG?h.default.DIALECT_VML:h.default.DIALECT_SVG,e.init(this.graph.getView().getOverlayPane()),e.pointerEvents=!1,l.default.IS_IOS&&(e.getSvgScreenOffset=function(){return 0})),e},f.prototype.start=function(t,e,i){this.cell=t,this.first=c.default.convertPoint(this.graph.container,e,i),this.cells=this.getCells(this.cell),this.bounds=this.graph.getView().getBounds(this.cells),this.pBounds=this.getPreviewBounds(this.cells),this.guidesEnabled&&(this.guide=new n.default(this.graph,this.getGuideStates()))},f.prototype.useGuidesForEvent=function(t){return null==this.guide||this.guide.isEnabledForEvent(t.getEvent())},f.prototype.snap=function(t){var e=this.scaleGrid?this.graph.view.scale:1;return t.x=this.graph.snap(t.x/e)*e,t.y=this.graph.snap(t.y/e)*e,t},f.prototype.getDelta=function(t){var e=c.default.convertPoint(this.graph.container,t.getX(),t.getY()),i=this.graph.view.scale;return new r.default(this.roundLength((e.x-this.first.x)/i)*i,this.roundLength((e.y-this.first.y)/i)*i)},f.prototype.updateHint=function(t){},f.prototype.removeHint=function(){},f.prototype.roundLength=function(t){return Math.round(t)},f.prototype.mouseMove=function(t,e){var i=this.graph;if(!e.isConsumed()&&i.isMouseDown&&null!=this.cell&&null!=this.first&&null!=this.bounds){if(a.default.isMultiTouchEvent(e.getEvent()))return void this.reset();var n=this.getDelta(e),l=n.x,o=n.y,s=i.tolerance;if(null!=this.shape||Math.abs(l)>s||Math.abs(o)>s){null==this.highlight&&(this.highlight=new u.default(this.graph,h.default.DROP_TARGET_COLOR,3)),null==this.shape&&(this.shape=this.createPreviewShape(this.bounds));var d=i.isGridEnabledEvent(e.getEvent()),c=!0;if(null!=this.guide&&this.useGuidesForEvent(e))c=!1,l=(n=this.guide.move(this.bounds,new r.default(l,o),d)).x,o=n.y;else if(d){var p=i.getView().translate,f=i.getView().scale,g=this.bounds.x-(i.snap(this.bounds.x/f-p.x)+p.x)*f,y=this.bounds.y-(i.snap(this.bounds.y/f-p.y)+p.y)*f,m=this.snap(new r.default(l,o));l=m.x-g,o=m.y-y}null!=this.guide&&c&&this.guide.hide(),i.isConstrainedEvent(e.getEvent())&&(Math.abs(l)>Math.abs(o)?o=0:l=0),this.currentDx=l,this.currentDy=o,this.updatePreviewShape();var v=null,E=e.getCell(),b=i.isCloneEvent(e.getEvent())&&i.isCellsCloneable()&&this.isCloneEnabled();i.isDropEnabled()&&this.highlightEnabled&&(v=i.getDropTarget(this.cells,e.getEvent(),E,b));var S=i.getView().getState(v),w=!1;if(null==S||i.model.getParent(this.cell)==v&&!b){if(this.target=null,this.connectOnDrop&&null!=E&&1==this.cells.length&&i.getModel().isVertex(E)&&i.isCellConnectable(E)&&null!=(S=i.getView().getState(E))){var A=null==i.getEdgeValidationError(null,this.cell,E)?h.default.VALID_COLOR:h.default.INVALID_CONNECT_TARGET_COLOR;this.setHighlightColor(A),w=!0}}else this.target!=v&&(this.target=v,this.setHighlightColor(h.default.DROP_TARGET_COLOR)),w=!0;null!=S&&w?this.highlight.highlight(S):this.highlight.hide()}this.updateHint(e),e.consume(),a.default.consume(e.getEvent())}else if((this.isMoveEnabled()||this.isCloneEnabled())&&this.updateCursor&&!e.isConsumed()&&null!=e.getState()&&!i.isMouseDown){var C=i.getCursorForMouseEvent(e);null==C&&i.isEnabled()&&i.isCellMovable(e.getCell())&&(C=i.getModel().isEdge(e.getCell())?h.default.CURSOR_MOVABLE_EDGE:h.default.CURSOR_MOVABLE_VERTEX),null!=e.sourceState&&e.sourceState.setCursor(C)}},f.prototype.updatePreviewShape=function(){null!=this.shape&&(this.shape.bounds=new s.default(Math.round(this.pBounds.x+this.currentDx-this.graph.panDx),Math.round(this.pBounds.y+this.currentDy-this.graph.panDy),this.pBounds.width,this.pBounds.height),this.shape.redraw())},f.prototype.setHighlightColor=function(t){null!=this.highlight&&this.highlight.setHighlightColor(t)},f.prototype.mouseUp=function(t,e){if(!e.isConsumed()){var i=this.graph;if(null!=this.cell&&null!=this.first&&null!=this.shape&&null!=this.currentDx&&null!=this.currentDy){var n=e.getCell();if(this.connectOnDrop&&null==this.target&&null!=n&&i.getModel().isVertex(n)&&i.isCellConnectable(n)&&i.isEdgeValid(null,this.cell,n))i.connectionHandler.connect(this.cell,n,e.getEvent());else{var l=i.isCloneEvent(e.getEvent())&&i.isCellsCloneable()&&this.isCloneEnabled(),a=i.getView().scale,r=this.roundLength(this.currentDx/a),o=this.roundLength(this.currentDy/a),s=this.target;i.isSplitEnabled()&&i.isSplitTarget(s,this.cells,e.getEvent())?i.splitEdge(s,this.cells,null,r,o):this.moveCells(this.cells,r,o,l,this.target,e.getEvent())}}else this.isSelectEnabled()&&this.delayedSelection&&null!=this.cell&&this.selectDelayed(e)}this.cellWasClicked&&e.consume(),this.reset()},f.prototype.selectDelayed=function(t){this.graph.isCellSelected(this.cell)&&this.graph.popupMenuHandler.isPopupTrigger(t)||this.graph.selectCellForEvent(this.cell,t.getEvent())},f.prototype.reset=function(){this.destroyShapes(),this.removeHint(),this.cellWasClicked=!1,this.delayedSelection=!1,this.currentDx=null,this.currentDy=null,this.guides=null,this.first=null,this.cell=null,this.target=null},f.prototype.shouldRemoveCellsFromParent=function(t,e,i){if(this.graph.getModel().isVertex(t)){var n=this.graph.getView().getState(t),l=c.default.convertPoint(this.graph.container,a.default.getClientX(i),a.default.getClientY(i)),s=c.default.toRadians(o.default.getValue(n.style,h.default.STYLE_ROTATION)||0);if(0!=s){var u=Math.cos(-s),d=Math.sin(-s),p=new r.default(n.getCenterX(),n.getCenterY());l=c.default.getRotatedPoint(l,u,d,p)}return null!=n&&!c.default.contains(n,l.x,l.y)}return!1},f.prototype.moveCells=function(t,e,i,n,l,a){n&&(t=this.graph.getCloneableCells(t)),null==l&&this.isRemoveCellsFromParent()&&this.shouldRemoveCellsFromParent(this.graph.getModel().getParent(this.cell),t,a)&&(l=this.graph.getDefaultParent()),t=this.graph.moveCells(t,e-this.graph.panDx/this.graph.view.scale,i-this.graph.panDy/this.graph.view.scale,n,l,a),this.isSelectEnabled()&&this.scrollOnMove&&this.graph.scrollCellToVisible(t[0]),n&&this.graph.setSelectionCells(t)},f.prototype.destroyShapes=function(){null!=this.shape&&(this.shape.destroy(),this.shape=null),null!=this.guide&&(this.guide.destroy(),this.guide=null),null!=this.highlight&&(this.highlight.destroy(),this.highlight=null)},f.prototype.destroy=function(){this.graph.removeMouseListener(this),this.graph.removeListener(this.panHandler),null!=this.escapeHandler&&(this.graph.removeListener(this.escapeHandler),this.escapeHandler=null),this.destroyShapes(),this.removeHint()};e.default=f},447831:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(i(164460)),l=s(i(591108)),a=s(i(247644)),r=s(i(146880)),o=s(i(790448));function s(t){return t&&t.__esModule?t:{default:t}}function u(t){this.graph=t}u.prototype.graph=null,u.prototype.useBoundingBox=!0,u.prototype.parent=null,u.prototype.moveCell=function(t,e,i){},u.prototype.execute=function(t){},u.prototype.getGraph=function(){return this.graph},u.prototype.getConstraint=function(t,e,i,n){var l=this.graph.view.getState(e),a=null!=l?l.style:this.graph.getCellStyle(e);return null!=a?a[t]:null},u.traverse=function(t,e,i,n,a){if(null!=i&&null!=t&&(e=null==e||e,!(a=a||new l.default).get(t))){a.put(t,!0);var r=i(t,n);if(null==r||r){var o=this.graph.model.getEdgeCount(t);if(o>0)for(var s=0;s<o;s++){var u=this.graph.model.getEdgeAt(t,s),d=this.graph.model.getTerminal(u,!0)==t;if(!e||d){var h=this.graph.view.getVisibleTerminal(u,!d);this.traverse(h,e,i,u,a)}}}}},u.prototype.isVertexMovable=function(t){return this.graph.isCellMovable(t)},u.prototype.isVertexIgnored=function(t){return!this.graph.getModel().isVertex(t)||!this.graph.isCellVisible(t)},u.prototype.isEdgeIgnored=function(t){var e=this.graph.getModel();return!e.isEdge(t)||!this.graph.isCellVisible(t)||null==e.getTerminal(t,!0)||null==e.getTerminal(t,!1)},u.prototype.setEdgeStyleEnabled=function(t,e){this.graph.setCellStyles(o.default.STYLE_NOEDGESTYLE,e?"0":"1",[t])},u.prototype.setOrthogonalEdge=function(t,e){this.graph.setCellStyles(o.default.STYLE_ORTHOGONAL,e?"1":"0",[t])},u.prototype.getParentOffset=function(t){var e=new n.default;if(null!=t&&t!=this.parent){var i=this.graph.getModel();if(i.isAncestor(this.parent,t))for(var l=i.getGeometry(t);t!=this.parent;)e.x=e.x+l.x,e.y=e.y+l.y,t=i.getParent(t),l=i.getGeometry(t)}return e},u.prototype.setEdgePoints=function(t,e){if(null!=t){var i=this.graph.model,n=i.getGeometry(t);if(null==n?(n=new r.default).setRelative(!0):n=n.clone(),null!=this.parent&&null!=e)for(var l=i.getParent(t),a=this.getParentOffset(l),o=0;o<e.length;o++)e[o].x=e[o].x-a.x,e[o].y=e[o].y-a.y;n.points=e,i.setGeometry(t,n)}},u.prototype.setVertexLocation=function(t,e,i){var n=this.graph.getModel(),l=n.getGeometry(t),r=null;if(null!=l){if(r=new a.default(e,i,l.width,l.height),this.useBoundingBox){var o=this.graph.getView().getState(t);if(null!=o&&null!=o.text&&null!=o.text.boundingBox){var s=this.graph.getView().scale,u=o.text.boundingBox;o.text.boundingBox.x<o.x&&(e+=(o.x-u.x)/s,r.width=u.width),o.text.boundingBox.y<o.y&&(i+=(o.y-u.y)/s,r.height=u.height)}}if(null!=this.parent){var d=n.getParent(t);if(null!=d&&d!=this.parent){var h=this.getParentOffset(d);e-=h.x,i-=h.y}}l.x==e&&l.y==i||((l=l.clone()).x=e,l.y=i,n.setGeometry(t,l))}return r},u.prototype.getVertexBounds=function(t){var e=this.graph.getModel().getGeometry(t);if(this.useBoundingBox){var i=this.graph.getView().getState(t);if(null!=i&&null!=i.text&&null!=i.text.boundingBox){var n=this.graph.getView().scale,l=i.text.boundingBox,r=Math.max(i.x-l.x,0)/n,o=Math.max(i.y-l.y,0)/n,s=Math.max(l.x+l.width-(i.x+i.width),0)/n,u=Math.max(l.y+l.height-(i.y+i.height),0)/n;e=new a.default(e.x-r,e.y-o,e.width+r+s,e.height+o+u)}}if(null!=this.parent){var d=this.graph.getModel().getParent(t);if(e=e.clone(),null!=d&&d!=this.parent){var h=this.getParentOffset(d);e.x=e.x+h.x,e.y=e.y+h.y}}return new a.default(e.x,e.y,e.width,e.height)},u.prototype.arrangeGroups=function(t,e,i,n,l,a){return this.graph.updateGroupBounds(t,e,!0,i,n,l,a)};e.default=u},409988:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(9692),i(241872);var n=A(i(280908)),l=A(i(995048)),a=A(i(38724)),r=A(i(208104)),o=A(i(370608)),s=A(i(591108)),u=A(i(821424)),d=A(i(572172)),h=A(i(68127)),c=A(i(35152)),p=A(i(478780)),f=A(i(141860)),g=A(i(326660)),y=A(i(164460)),m=A(i(819996)),v=A(i(39864)),E=A(i(496592)),b=A(i(131124)),S=A(i(742288)),w=A(i(897508));function A(t){return t&&t.__esModule?t:{default:t}}function C(t){this.currentEdit=this.createUndoableEdit(),null!=t?this.setRoot(t):this.clear()}C.prototype=new v.default,C.prototype.constructor=C,C.prototype.root=null,C.prototype.cells=null,C.prototype.maintainEdgeParent=!0,C.prototype.ignoreRelativeEdgeParent=!0,C.prototype.createIds=!0,C.prototype.prefix="node_",C.prototype.postfix="",C.prototype.nextId=0,C.prototype.currentEdit=null,C.prototype.updateLevel=0,C.prototype.endingUpdate=!1,C.prototype.clear=function(){this.setRoot(this.createRoot())},C.prototype.isCreateIds=function(){return this.createIds},C.prototype.setCreateIds=function(t){this.createIds=t},C.prototype.createRoot=function(){var t=new n.default;return t.insert(new n.default),t},C.prototype.getCell=function(t){return null!=this.cells?this.cells[t]:null},C.prototype.filterCells=function(t,e){var i=null;if(null!=t){i=[];for(var n=0;n<t.length;n++)e(t[n])&&i.push(t[n])}return i},C.prototype.getDescendants=function(t){return this.filterDescendants(null,t)},C.prototype.filterDescendants=function(t,e){var i=[];e=e||this.getRoot(),(null==t||t(e))&&i.push(e);for(var n=this.getChildCount(e),l=0;l<n;l++){var a=this.getChildAt(e,l);i=i.concat(this.filterDescendants(t,a))}return i},C.prototype.getRoot=function(t){var e=t||this.root;if(null!=t)for(;null!=t;)e=t,t=this.getParent(t);return e},C.prototype.setRoot=function(t){return this.execute(new m.default(this,t)),t},C.prototype.rootChanged=function(t){var e=this.root;return this.root=t,this.nextId=0,this.cells=null,this.cellAdded(t),e},C.prototype.isRoot=function(t){return null!=t&&this.root==t},C.prototype.isLayer=function(t){return this.isRoot(this.getParent(t))},C.prototype.isAncestor=function(t,e){for(;null!=e&&e!=t;)e=this.getParent(e);return e==t},C.prototype.contains=function(t){return this.isAncestor(this.root,t)},C.prototype.getParent=function(t){return null!=t?t.getParent():null},C.prototype.add=function(t,e,i){if(e!=t&&null!=t&&null!=e){null==i&&(i=this.getChildCount(t));var n=t!=this.getParent(e);this.execute(new p.default(this,t,e,i)),this.maintainEdgeParent&&n&&this.updateEdgeParents(e)}return e},C.prototype.cellAdded=function(t){if(null!=t){if(null==t.getId()&&this.createIds&&t.setId(this.createId(t),this),null!=t.getId()){var e=this.getCell(t.getId());if(e!=t){for(;null!=e;)t.setId(this.createId(t),this),e=this.getCell(t.getId());null==this.cells&&(this.cells=new Object),this.cells[t.getId()]=t}}S.default.isNumeric(t.getId())&&(this.nextId=Math.max(this.nextId,t.getId()));for(var i=this.getChildCount(t),n=0;n<i;n++)this.cellAdded(this.getChildAt(t,n))}},C.prototype.createId=function(t){var e=this.nextId;return this.nextId++,(t.getIdPrefix()||this.prefix)+e+this.postfix},C.prototype.updateEdgeParents=function(t,e){e=e||this.getRoot(t);for(var i=this.getChildCount(t),n=0;n<i;n++){var l=this.getChildAt(t,n);this.updateEdgeParents(l,e)}var a=this.getEdgeCount(t),r=[];for(n=0;n<a;n++)r.push(this.getEdgeAt(t,n));for(n=0;n<r.length;n++){var o=r[n];this.isAncestor(e,o)&&this.updateEdgeParent(o,e)}},C.prototype.updateEdgeParent=function(t,e){for(var i=this.getTerminal(t,!0),n=this.getTerminal(t,!1),l=null;null!=i&&!this.isEdge(i)&&null!=i.geometry&&i.geometry.relative;)i=this.getParent(i);for(;null!=n&&this.ignoreRelativeEdgeParent&&!this.isEdge(n)&&null!=n.geometry&&n.geometry.relative;)n=this.getParent(n);if(this.isAncestor(e,i)&&this.isAncestor(e,n)&&null!=(l=i==n?this.getParent(i):this.getNearestCommonAncestor(i,n))&&(this.getParent(l)!=this.root||this.isAncestor(l,t))&&this.getParent(t)!=l){var a=this.getGeometry(t);if(null!=a){var r=this.getOrigin(this.getParent(t)),o=this.getOrigin(l),s=o.x-r.x,u=o.y-r.y;(a=a.clone()).translate(-s,-u),this.setGeometry(t,a)}this.add(l,t,this.getChildCount(l))}},C.prototype.getOrigin=function(t){var e=null;if(null!=t){if(e=this.getOrigin(this.getParent(t)),!this.isEdge(t)){var i=this.getGeometry(t);null!=i&&(e.x+=i.x,e.y+=i.y)}}else e=new y.default;return e},C.prototype.getNearestCommonAncestor=function(t,e){if(null!=t&&null!=e){var i=c.default.create(e);if(null!=i&&i.length>0){var n=t,l=c.default.create(n);if(i.length<l.length){n=e;var a=l;l=i,i=a}for(;null!=n;){var r=this.getParent(n);if(0==i.indexOf(l+c.default.PATH_SEPARATOR)&&null!=r)return n;l=c.default.getParentPath(l),n=r}}}return null},C.prototype.remove=function(t){return t==this.root?this.setRoot(null):null!=this.getParent(t)&&this.execute(new p.default(this,null,t)),t},C.prototype.cellRemoved=function(t){if(null!=t&&null!=this.cells){for(var e=this.getChildCount(t)-1;e>=0;e--)this.cellRemoved(this.getChildAt(t,e));null!=this.cells&&null!=t.getId()&&delete this.cells[t.getId()]}},C.prototype.parentForCellChanged=function(t,e,i){var n=this.getParent(t);if(null!=e)e==n&&n.getIndex(t)==i||e.insert(t,i);else if(null!=n){var l=n.getIndex(t);n.remove(l)}return this.contains(n)||null==e?null==e&&this.cellRemoved(t):this.cellAdded(t),n},C.prototype.getChildCount=function(t){return null!=t?t.getChildCount():0},C.prototype.getChildAt=function(t,e){return null!=t?t.getChildAt(e):null},C.prototype.getChildren=function(t){return null!=t?t.children:null},C.prototype.getChildVertices=function(t){return this.getChildCells(t,!0,!1)},C.prototype.getChildEdges=function(t){return this.getChildCells(t,!1,!0)},C.prototype.getChildCells=function(t,e,i){e=null!=e&&e,i=null!=i&&i;for(var n=this.getChildCount(t),l=[],a=0;a<n;a++){var r=this.getChildAt(t,a);(!i&&!e||i&&this.isEdge(r)||e&&this.isVertex(r))&&l.push(r)}return l},C.prototype.getTerminal=function(t,e){return null!=t?t.getTerminal(e):null},C.prototype.setTerminal=function(t,e,i){var n=e!=this.getTerminal(t,i);return this.execute(new E.default(this,t,e,i)),this.maintainEdgeParent&&n&&this.updateEdgeParent(t,this.getRoot()),e},C.prototype.setTerminals=function(t,e,i){this.beginUpdate();try{this.setTerminal(t,e,!0),this.setTerminal(t,i,!1)}finally{this.endUpdate()}},C.prototype.terminalForCellChanged=function(t,e,i){var n=this.getTerminal(t,i);return null!=e?e.insertEdge(t,i):null!=n&&n.removeEdge(t,i),n},C.prototype.getEdgeCount=function(t){return null!=t?t.getEdgeCount():0},C.prototype.getEdgeAt=function(t,e){return null!=t?t.getEdgeAt(e):null},C.prototype.getDirectedEdgeCount=function(t,e,i){for(var n=0,l=this.getEdgeCount(t),a=0;a<l;a++){var r=this.getEdgeAt(t,a);r!=i&&this.getTerminal(r,e)==t&&n++}return n},C.prototype.getConnections=function(t){return this.getEdges(t,!0,!0,!1)},C.prototype.getIncomingEdges=function(t){return this.getEdges(t,!0,!1,!1)},C.prototype.getOutgoingEdges=function(t){return this.getEdges(t,!1,!0,!1)},C.prototype.getEdges=function(t,e,i,n){e=null==e||e,i=null==i||i,n=null==n||n;for(var l=this.getEdgeCount(t),a=[],r=0;r<l;r++){var o=this.getEdgeAt(t,r),s=this.getTerminal(o,!0),u=this.getTerminal(o,!1);(n&&s==u||s!=u&&(e&&u==t||i&&s==t))&&a.push(o)}return a},C.prototype.getEdgesBetween=function(t,e,i){i=null!=i&&i;var n=this.getEdgeCount(t),l=this.getEdgeCount(e),a=t,r=n;l<n&&(r=l,a=e);for(var o=[],s=0;s<r;s++){var u=this.getEdgeAt(a,s),d=this.getTerminal(u,!0),h=this.getTerminal(u,!1);(d==t&&h==e||!i&&(h==t&&d==e))&&o.push(u)}return o},C.prototype.getOpposites=function(t,e,i,n){i=null==i||i,n=null==n||n;var l=[];if(null!=t)for(var a=0;a<t.length;a++){var r=this.getTerminal(t[a],!0),o=this.getTerminal(t[a],!1);r==e&&null!=o&&o!=e&&n?l.push(o):o==e&&null!=r&&r!=e&&i&&l.push(r)}return l},C.prototype.getTopmostCells=function(t){for(var e=new s.default,i=[],n=0;n<t.length;n++)e.put(t[n],!0);for(n=0;n<t.length;n++){for(var l=t[n],a=!0,r=this.getParent(l);null!=r;){if(e.get(r)){a=!1;break}r=this.getParent(r)}a&&i.push(l)}return i},C.prototype.isVertex=function(t){return null!=t&&t.isVertex()},C.prototype.isEdge=function(t){return null!=t&&t.isEdge()},C.prototype.isConnectable=function(t){return null!=t&&t.isConnectable()},C.prototype.getValue=function(t){return null!=t?t.getValue():null},C.prototype.setValue=function(t,e){return this.execute(new g.default(this,t,e)),e},C.prototype.setProperty=function(t,e,i,n,l){if(!t)return n;if("name"===i){this.execute(new d.default(this,t,e,i,n,l));var a=w.default.getCells();if(a&&a.length)for(var r=t.getId(),o=t.getOriginPageId(),s=0;s<a.length;s++){var u=a[s];if(r==u.getProperty("base","itemId")&&o==u.getOriginPageId()){u.value=n;break}}}else"bindToPrevNode"===i||"bindToNextNode"===i?this.execute(new d.default(this,t,e,i,n,l)):t.setProperty(e,i,n,null);return n},C.prototype.getProperty=function(t,e,i){return null!=t?t.getProperty(e,i):null},C.prototype.valueForCellChanged=function(t,e){return t.valueChanged(e)},C.prototype.propertyForCellChanged=function(t,e,i,n,l){return t&&t.propertyChanged(e,i,n,l)},C.prototype.getGeometry=function(t){return null!=t?t.getGeometry():null},C.prototype.setGeometry=function(t,e){return e!=this.getGeometry(t)&&this.execute(new r.default(this,t,e)),e},C.prototype.geometryForCellChanged=function(t,e){var i=this.getGeometry(t);return t.setGeometry(e),i},C.prototype.getStyle=function(t){return null!=t?t.getStyle():null},C.prototype.setStyle=function(t,e){return e!=this.getStyle(t)&&this.execute(new h.default(this,t,e)),e},C.prototype.styleForCellChanged=function(t,e){var i=this.getStyle(t);return t.setStyle(e),i},C.prototype.isCollapsed=function(t){return null!=t&&t.isCollapsed()},C.prototype.setCollapsed=function(t,e){return e!=this.isCollapsed(t)&&this.execute(new f.default(this,t,e)),e},C.prototype.collapsedStateForCellChanged=function(t,e){var i=this.isCollapsed(t);return t.setCollapsed(e),i},C.prototype.isVisible=function(t){return null!=t&&t.isVisible()},C.prototype.setVisible=function(t,e){return e!=this.isVisible(t)&&this.execute(new a.default(this,t,e)),e},C.prototype.visibleStateForCellChanged=function(t,e){var i=this.isVisible(t);return t.setVisible(e),i},C.prototype.execute=function(t){t.execute(),this.beginUpdate(),this.currentEdit.add(t),this.fireEvent(new l.default(o.default.EXECUTE,"change",t)),this.fireEvent(new l.default(o.default.EXECUTED,"change",t)),this.endUpdate()},C.prototype.beginUpdate=function(){this.updateLevel++,this.fireEvent(new l.default(o.default.BEGIN_UPDATE)),1==this.updateLevel&&this.fireEvent(new l.default(o.default.START_EDIT))},C.prototype.endUpdate=function(){if(this.updateLevel--,0==this.updateLevel&&this.fireEvent(new l.default(o.default.END_EDIT)),!this.endingUpdate){this.endingUpdate=0==this.updateLevel,this.fireEvent(new l.default(o.default.END_UPDATE,"edit",this.currentEdit));try{if(this.endingUpdate&&!this.currentEdit.isEmpty()){this.fireEvent(new l.default(o.default.BEFORE_UNDO,"edit",this.currentEdit));var t=this.currentEdit;this.currentEdit=this.createUndoableEdit(),t.notify(),this.fireEvent(new l.default(o.default.UNDO,"edit",t))}}finally{this.endingUpdate=!1}}},C.prototype.createUndoableEdit=function(){var t=new b.default(this,!0);return t.notify=function(){t.source.fireEvent(new l.default(o.default.CHANGE,"edit",t,"changes",t.changes)),t.source.fireEvent(new l.default(o.default.NOTIFY,"edit",t,"changes",t.changes))},t},C.prototype.mergeChildren=function(t,e,i){i=null==i||i,this.beginUpdate();try{var n=new Object;for(var l in this.mergeChildrenImpl(t,e,i,n),n){var a=n[l],r=this.getTerminal(a,!0);null!=r&&(r=n[c.default.create(r)],this.setTerminal(a,r,!0)),null!=(r=this.getTerminal(a,!1))&&(r=n[c.default.create(r)],this.setTerminal(a,r,!1))}}finally{this.endUpdate()}},C.prototype.mergeChildrenImpl=function(t,e,i,n){this.beginUpdate();try{for(var l=t.getChildCount(),a=0;a<l;a++){var r=t.getChildAt(a);if("function"==typeof r.getId){var o=r.getId(),s=null==o||this.isEdge(r)&&i?null:this.getCell(o);if(null==s){var u=r.clone();u.setId(o),u.setTerminal(r.getTerminal(!0),!0),u.setTerminal(r.getTerminal(!1),!1),s=e.insert(u),this.cellAdded(s)}n[c.default.create(r)]=s,this.mergeChildrenImpl(r,s,i,n)}}}finally{this.endUpdate()}},C.prototype.getParents=function(t){var e=[];if(null!=t)for(var i=new s.default,n=0;n<t.length;n++){var l=this.getParent(t[n]);null==l||i.get(l)||(i.put(l,!0),e.push(l))}return e},C.prototype.cloneCell=function(t){return null!=t?this.cloneCells([t],!0)[0]:null},C.prototype.cloneCells=function(t,e,i){i=null!=i?i:new Object;for(var n=[],l=0;l<t.length;l++)null!=t[l]?n.push(this.cloneCellImpl(t[l],i,e)):n.push(null);for(l=0;l<n.length;l++)null!=n[l]&&this.restoreClone(n[l],t[l],i);return n},C.prototype.cloneCellImpl=function(t,e,i){var n=this.cellCloned(t);if(e[u.default.get(t)]=n,i)for(var l=this.getChildCount(t),a=0;a<l;a++){var r=this.cloneCellImpl(this.getChildAt(t,a),e,!0);n.insert(r)}return n},C.prototype.cellCloned=function(t){return t.clone()},C.prototype.restoreClone=function(t,e,i){var n=this.getTerminal(e,!0);null!=n&&(null!=(l=i[u.default.get(n)])&&l.insertEdge(t,!0));var l,a=this.getTerminal(e,!1);null!=a&&(null!=(l=i[u.default.get(a)])&&l.insertEdge(t,!1));for(var r=this.getChildCount(t),o=0;o<r;o++)this.restoreClone(this.getChildAt(t,o),this.getChildAt(e,o),i)},C.prototype.setElementMap=function(t){this.elementMap=t},C.prototype.getElementByType=function(t){return this.elementMap?this.elementMap.get(t):null},C.prototype.getModelGraph=function(){var t=this.getBPMNRoot();return{resourceId:t.getId(),childShapes:t.getCellGraph()}},C.prototype.toBpmnJSON=function(){var t=this.getBPMNRoot();return{resourceId:t.getId(),stencil:{id:"BPMNDiagram"},childShapes:t.toBpmnJSON(),bounds:{lowerRight:{},upperLeft:{}},stencilset:{url:"stencilsets/bpmn2.0/bpmn2.0.json",namespace:"http://b3mn.org/stencilset/bpmn2.0#"},ssextensions:[]}},C.prototype.getBPMNRoot=function(){return this.getRoot().children[0]},C.getName=function(){return"mxGraphModel"};e.default=C},427964:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(241872),i(927184);var n=d(i(995048)),l=d(i(22676)),a=d(i(370608)),r=d(i(505756)),o=d(i(39864)),s=d(i(742288)),u=d(i(131124));function d(t){return t&&t.__esModule?t:{default:t}}function h(t){this.graph=t,this.cells=[]}h.prototype=new o.default,h.prototype.constructor=h,h.prototype.doneResource="none"!=l.default.language?"done":"",h.prototype.updatingSelectionResource="none"!=l.default.language?"updatingSelection":"",h.prototype.graph=null,h.prototype.singleSelection=!1,h.prototype.isSingleSelection=function(){return this.singleSelection},h.prototype.setSingleSelection=function(t){this.singleSelection=t},h.prototype.isSelected=function(t){return null!=t&&s.default.indexOf(this.cells,t)>=0},h.prototype.isEmpty=function(){return 0==this.cells.length},h.prototype.clear=function(){this.changeSelection(null,this.cells)},h.prototype.setCell=function(t){null!=t&&this.setCells([t])},h.prototype.setCells=function(t){if(null!=t){this.singleSelection&&(t=[this.getFirstSelectableCell(t)]);for(var e=[],i=0;i<t.length;i++)this.graph.isCellSelectable(t[i])&&e.push(t[i]);this.changeSelection(e,this.cells)}},h.prototype.getFirstSelectableCell=function(t){if(null!=t)for(var e=0;e<t.length;e++)if(this.graph.isCellSelectable(t[e]))return t[e];return null},h.prototype.addCell=function(t){null!=t&&this.addCells([t])},h.prototype.addCells=function(t){if(null!=t){var e=null;this.singleSelection&&(e=this.cells,t=[this.getFirstSelectableCell(t)]);for(var i=[],n=0;n<t.length;n++)!this.isSelected(t[n])&&this.graph.isCellSelectable(t[n])&&i.push(t[n]);this.changeSelection(i,e)}},h.prototype.removeCell=function(t){null!=t&&this.removeCells([t])},h.prototype.removeCells=function(t){if(null!=t){for(var e=[],i=0;i<t.length;i++)this.isSelected(t[i])&&e.push(t[i]);this.changeSelection(null,e)}},h.prototype.changeSelection=function(t,e){if(null!=t&&t.length>0&&null!=t[0]||null!=e&&e.length>0&&null!=e[0]){var i=new r.default(this,t,e);i.execute();var l=new u.default(this,!1);l.add(i),this.fireEvent(new n.default(a.default.UNDO,"edit",l))}},h.prototype.cellAdded=function(t){null==t||this.isSelected(t)||this.cells.push(t)},h.prototype.cellRemoved=function(t){if(null!=t){var e=s.default.indexOf(this.cells,t);e>=0&&this.cells.splice(e,1)}};e.default=h},742288:function(__unused_webpack_module,exports,__webpack_require__){"use strict";__webpack_require__(182320),__webpack_require__(909112),__webpack_require__(697060),__webpack_require__(743924),__webpack_require__(606200),__webpack_require__(78504),__webpack_require__(977864),Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,__webpack_require__(622676),__webpack_require__(241872),__webpack_require__(686456),__webpack_require__(976896),__webpack_require__(721300),__webpack_require__(846428),__webpack_require__(999768),__webpack_require__(387912),__webpack_require__(23544),__webpack_require__(571176),__webpack_require__(763600),__webpack_require__(633768),__webpack_require__(690512),__webpack_require__(513640),__webpack_require__(321164);var _mxGraphConstants=_interopRequireDefault(__webpack_require__(822860)),_mxClient=_interopRequireDefault(__webpack_require__(22676));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}var mxGraphUtils={clone:function(t,e,i){i=null!=i&&i;var n=null;if(null!=t&&"function"==typeof t.constructor)for(var l in n=new t.constructor,t)l!=_mxGraphConstants.default.FIELD_NAME&&(null==e||mxGraphUtils.indexOf(e,l)<0)&&(i||"object"!=_typeof(t[l])?n[l]=t[l]:n[l]=mxGraphUtils.clone(t[l]));return n},indexOf:function(t,e){if(null!=t&&null!=e)for(var i=0;i<t.length;i++)if(t[i]==e)return i;return-1},extend:function(t,e){var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t},isNode:function(t,e,i,n){return!(null==t||isNaN(t.nodeType)||null!=e&&t.nodeName.toLowerCase()!=e.toLowerCase())&&(null==i||t.getAttribute(i)==n)},htmlEntities:function(t,e){return t=(t=(t=(t=(t=(t=t||"").replace(/&/g,"&amp;")).replace(/"/g,"&quot;")).replace(/\'/g,"&#39;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;"),(null==e||e)&&(t=t.replace(/\n/g,"&#xa;")),t},replaceTrailingNewlines:function(t,e){for(var i="";t.length>0&&"\n"==t.charAt(t.length-1);)t=t.substring(0,t.length-1),i+=e;return t+i},getValue:function(t,e,i){var n=null!=t?t[e]:null;return null==n&&(n=i),n},ltrim:function(t,e){return e=e||"\\s",t.replace(new RegExp("^["+e+"]+","g"),"")},rtrim:function(t,e){return e=e||"\\s",t.replace(new RegExp("["+e+"]+$","g"),"")},trim:function(t,e){return mxGraphUtils.ltrim(mxGraphUtils.rtrim(t,e),e)},setPrefixedStyle:(prefix=null,_mxClient.default.IS_OT?prefix="O":_mxClient.default.IS_SF||_mxClient.default.IS_GC?prefix="Webkit":_mxClient.default.IS_MT?prefix="Moz":_mxClient.default.IS_IE&&document.documentMode>=9&&document.documentMode<10&&(prefix="ms"),function(t,e,i){t[e]=i,null!=prefix&&e.length>0&&(t[e=prefix+e.substring(0,1).toUpperCase()+e.substring(1)]=i)}),setOpacity:function(t,e){mxGraphUtils.isVml(t)?t.style.filter=e>=100?"":"alpha(opacity="+e/5+")":_mxClient.default.IS_IE&&(void 0===document.documentMode||document.documentMode<9)?t.style.filter=e>=100?"":"alpha(opacity="+e+")":t.style.opacity=e/100},isVml:function(t){return null!=t&&"urn:schemas-microsoft-com:vml"==t.tagUrn},getAlignmentAsPoint:function(t,e,i){var n=0,l=0;return t==_mxGraphConstants.default.ALIGN_CENTER?n=-.5:t==_mxGraphConstants.default.ALIGN_RIGHT&&(n=-1),e==_mxGraphConstants.default.ALIGN_MIDDLE?l=-.5:e==_mxGraphConstants.default.ALIGN_BOTTOM&&(l=-1),new i(n,l)},getNumber:function(t,e,i){var n=null!=t?t[e]:null;return null==n&&(n=i||0),Number(n)},getColor:function(t,e,i){var n=null!=t?t[e]:null;return null==n?n=i:n==_mxGraphConstants.default.NONE&&(n=null),n},mod:function(t,e){return(t%e+e)%e},addTransparentBackgroundFilter:function(t){t.style.filter+="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+_mxClient.default.imageBasePath+"/transparent.gif', sizingMethod='scale')"},getBoundingBox:function(t,e,i,n,l){var a=null;if(null!=t&&null!=e&&0!=e){var r=mxGraphUtils.toRadians(e),o=Math.cos(r),s=Math.sin(r);i=null!=i?i:new l(t.x+t.width/2,t.y+t.height/2);var u=new l(t.x,t.y),d=new l(t.x+t.width,t.y),h=new l(d.x,t.y+t.height),c=new l(t.x,h.y);u=mxGraphUtils.getRotatedPoint(u,o,s,i,l),d=mxGraphUtils.getRotatedPoint(d,o,s,i,l),h=mxGraphUtils.getRotatedPoint(h,o,s,i,l),c=mxGraphUtils.getRotatedPoint(c,o,s,i,l),(a=new n(u.x,u.y,0,0)).add(new n(d.x,d.y,0,0)),a.add(new n(h.x,h.y,0,0)),a.add(new n(c.x,c.y,0,0))}return a},getRotatedPoint:function(t,e,i,n,l){n=null!=n?n:new l;var a=t.x-n.x,r=t.y-n.y,o=r*e+a*i;return new l(a*e-r*i+n.x,o+n.y)},toString:function(t){var e="";for(var i in t)try{if(null==t[i])e+=i+" = [null]\n";else if("function"==typeof t[i])e+=i+" => [Function]\n";else if("object"==_typeof(t[i])){e+=i+" => ["+mxGraphUtils.getFunctionName(t[i].constructor)+"]\n"}else e+=i+" = "+t[i]+"\n"}catch(t){e+=i+"="+t.message}return e},getFunctionName:function(t){var e=null;if(null!=t)if("function"==typeof t.getName)e=t.getName();else if(null!=t.name)e=t.name;else if(e=mxGraphUtils.trim(t.toString()),/^function\s/.test(e)){var i=(e=mxGraphUtils.ltrim(e.substring(9))).indexOf("(");i>0&&(e=e.substring(0,i))}return e},write:function(t,e){var i=t.ownerDocument.createTextNode(e);return null!=t&&t.appendChild(i),i},writeln:function(t,e){var i=t.ownerDocument.createTextNode(e);return null!=t&&(t.appendChild(i),t.appendChild(document.createElement("br"))),i},alert:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){alert(t)})),popup:function(t,e,i){if(e){var n=document.createElement("div");n.style.overflow="scroll",n.style.width="636px",n.style.height="460px",(a=document.createElement("pre")).innerHTML=mxGraphUtils.htmlEntities(t,!1).replace(/\n/g,"<br>").replace(/ /g,"&nbsp;"),n.appendChild(a),(l=new i("Popup Window",n,document.body.clientWidth/2-320,Math.max(document.body.clientHeight||0,document.documentElement.clientHeight)/2-240,640,480,!1,!0)).setClosable(!0),l.setVisible(!0)}else{var l,a;if(_mxClient.default.IS_NS)(l=window.open()).document.writeln("<pre>"+mxGraphUtils.htmlEntities(t)+"</pre"),l.document.close();else(a=(l=window.open()).document.createElement("pre")).innerHTML=mxGraphUtils.htmlEntities(t,!1).replace(/\n/g,"<br>").replace(/ /g,"&nbsp;"),l.document.body.appendChild(a)}},bind:function(t,e){return function(){return e.apply(t,arguments)}},getOffset:function(t,e,i){var n=0,l=0;if(null!=e&&e){var a=mxGraphUtils.getDocumentScrollOrigin(t.ownerDocument);n+=a.x,l+=a.y}var r=t.getBoundingClientRect();return null!=r&&(n+=r.left,l+=r.top),new i(n,l)},getDocumentScrollOrigin:function(t,e){if(_mxClient.default.IS_QUIRKS)return new e(t.body.scrollLeft,t.body.scrollTop);var i=t.defaultView||t.parentWindow;return new e(null!=i&&void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,null!=i&&void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop)},getScrollOrigin:function(t,e){for(var i=document.body,n=document.documentElement,l=mxGraphUtils.getDocumentScrollOrigin(null!=t?t.ownerDocument:document,e);null!=t&&t!=i&&t!=n;)isNaN(t.scrollLeft)||isNaN(t.scrollTop)||(l.x+=t.scrollLeft,l.y+=t.scrollTop),t=t.parentNode;return l},getCurrentStyle:_mxClient.default.IS_IE?function(t){return null!=t?t.currentStyle:null}:function(t){return null!=t?window.getComputedStyle(t,""):null},fit:function(t,e){var i=parseInt(t.offsetLeft),n=parseInt(t.offsetWidth),l=mxGraphUtils.getDocumentScrollOrigin(t.ownerDocument,e),a=l.x,r=l.y,o=document.body,s=document.documentElement,u=a+(o.clientWidth||s.clientWidth);i+n>u&&(t.style.left=Math.max(a,u-n)+"px");var d=parseInt(t.offsetTop),h=parseInt(t.offsetHeight),c=r+Math.max(o.clientHeight||0,s.clientHeight);d+h>c&&(t.style.top=Math.max(r,c-h)+"px")},parseXml:window.DOMParser?function(t){return(new DOMParser).parseFromString(t,"text/xml")}:function(t){var e=mxGraphUtils.createXmlDocument();return e.async=!1,e.validateOnParse=!1,e.resolveExternals=!1,e.loadXML(t),e},createXmlDocument:function(){var t=null;return document.implementation&&document.implementation.createDocument?t=document.implementation.createDocument("","",null):window.ActiveXObject&&(t=new ActiveXObject("Microsoft.XMLDOM")),t},getInnerHtml:_mxClient.default.IS_IE?function(t){return null!=t?t.innerHTML:""}:function(t){return null!=t?(new XMLSerializer).serializeToString(t):""},importNode:function(t,e,i){if(!_mxClient.default.IS_IE||!(null==document.documentMode||document.documentMode<10))return t.importNode(e,i);switch(e.nodeType){case 1:var n=t.createElement(e.nodeName);if(e.attributes&&e.attributes.length>0){for(var l=0;l<e.attributes.length;l++)n.setAttribute(e.attributes[l].nodeName,e.getAttribute(e.attributes[l].nodeName));if(i&&e.childNodes&&e.childNodes.length>0)for(l=0;l<e.childNodes.length;l++)n.appendChild(mxGraphUtils.importNode(t,e.childNodes[l],i))}return n;case 3:case 4:case 8:return t.createTextNode(e.value)}},arcToCurves:function(t,e,i,n,l,a,r,o,s){if(o-=t,s-=e,0===i||0===n)return j;var u=r,d=l;i=Math.abs(i),n=Math.abs(n);var h,c=-o/2,p=-s/2,f=Math.cos(d*Math.PI/180),g=Math.sin(d*Math.PI/180),y=f*c+g*p,m=-1*g*c+f*p,v=y*y,E=m*m,b=i*i,S=n*n,w=v/b+E/S;if(w>1)i=Math.sqrt(w)*i,n=Math.sqrt(w)*n,h=0;else{var A=1;a===u&&(A=-1),h=A*Math.sqrt((b*S-b*E-S*v)/(b*E+S*v))}var C=h*i*m/n,T=-1*h*n*y/i,M=f*C-g*T+o/2,x=g*C+f*T+s/2,I=Math.atan2((m-T)/n,(y-C)/i)-Math.atan2(0,1),L=I>=0?I:2*Math.PI+I,N=(I=Math.atan2((-m-T)/n,(-y-C)/i)-Math.atan2((m-T)/n,(y-C)/i))>=0?I:2*Math.PI+I;0==u&&N>0?N-=2*Math.PI:0!=u&&N<0&&(N+=2*Math.PI);for(var O=2*N/Math.PI,D=Math.ceil(O<0?-1*O:O),R=N/D,_=8/3*Math.sin(R/4)*Math.sin(R/4)/Math.sin(R/2),P=f*i,k=f*n,H=g*i,G=g*n,B=Math.cos(L),z=Math.sin(L),F=-_*(P*z+G*B),V=-_*(H*z-k*B),U=0,Y=0,j=[],W=0;W<D;++W){L+=R,U=P*(B=Math.cos(L))-G*(z=Math.sin(L))+M,Y=H*B+k*z+x;var Z=-_*(P*z+G*B),X=-_*(H*z-k*B),Q=6*W;j[Q]=Number(F+t),j[Q+1]=Number(V+e),j[Q+2]=Number(U-Z+t),j[Q+3]=Number(Y-X+e),j[Q+4]=Number(U+t),j[Q+5]=Number(Y+e),F=U+Z,V=Y+X}return j},getOuterHtml:_mxClient.default.IS_IE?function(t){if(null!=t){if(null!=t.outerHTML)return t.outerHTML;var e=[];e.push("<"+t.nodeName);var i=t.attributes;if(null!=i)for(var n=0;n<i.length;n++){var l=i[n].value;null!=l&&l.length>0&&(e.push(" "),e.push(i[n].nodeName),e.push('="'),e.push(l),e.push('"'))}return 0==t.innerHTML.length?e.push("/>"):(e.push(">"),e.push(t.innerHTML),e.push("</"+t.nodeName+">")),e.join("")}return""}:function(t){return null!=t?(new XMLSerializer).serializeToString(t):""},isAncestorNode:function(t,e){for(var i=e;null!=i;){if(i==t)return!0;i=i.parentNode}return!1},intersects:function(t,e){var i=t.width,n=t.height,l=e.width,a=e.height;if(l<=0||a<=0||i<=0||n<=0)return!1;var r=t.x,o=t.y,s=e.x,u=e.y;return a+=u,i+=r,n+=o,((l+=s)<s||l>r)&&(a<u||a>o)&&(i<r||i>s)&&(n<o||n>u)},getPortConstraints:function(t,e,i,n){var l=mxGraphUtils.getValue(t.style,_mxGraphConstants.default.STYLE_PORT_CONSTRAINT,null);if(null==l)return n;var a=l.toString(),r=_mxGraphConstants.default.DIRECTION_MASK_NONE,o=0;1==mxGraphUtils.getValue(t.style,_mxGraphConstants.default.STYLE_PORT_CONSTRAINT_ROTATION,0)&&(o=mxGraphUtils.getValue(t.style,_mxGraphConstants.default.STYLE_ROTATION,0));var s=0;if(o>45?(s=1,o>=135&&(s=2)):o<-45&&(s=3,o<=-135&&(s=2)),a.indexOf(_mxGraphConstants.default.DIRECTION_NORTH)>=0)switch(s){case 0:r|=_mxGraphConstants.default.DIRECTION_MASK_NORTH;break;case 1:r|=_mxGraphConstants.default.DIRECTION_MASK_EAST;break;case 2:r|=_mxGraphConstants.default.DIRECTION_MASK_SOUTH;break;case 3:r|=_mxGraphConstants.default.DIRECTION_MASK_WEST}if(a.indexOf(_mxGraphConstants.default.DIRECTION_WEST)>=0)switch(s){case 0:r|=_mxGraphConstants.default.DIRECTION_MASK_WEST;break;case 1:r|=_mxGraphConstants.default.DIRECTION_MASK_NORTH;break;case 2:r|=_mxGraphConstants.default.DIRECTION_MASK_EAST;break;case 3:r|=_mxGraphConstants.default.DIRECTION_MASK_SOUTH}if(a.indexOf(_mxGraphConstants.default.DIRECTION_SOUTH)>=0)switch(s){case 0:r|=_mxGraphConstants.default.DIRECTION_MASK_SOUTH;break;case 1:r|=_mxGraphConstants.default.DIRECTION_MASK_WEST;break;case 2:r|=_mxGraphConstants.default.DIRECTION_MASK_NORTH;break;case 3:r|=_mxGraphConstants.default.DIRECTION_MASK_EAST}if(a.indexOf(_mxGraphConstants.default.DIRECTION_EAST)>=0)switch(s){case 0:r|=_mxGraphConstants.default.DIRECTION_MASK_EAST;break;case 1:r|=_mxGraphConstants.default.DIRECTION_MASK_SOUTH;break;case 2:r|=_mxGraphConstants.default.DIRECTION_MASK_WEST;break;case 3:r|=_mxGraphConstants.default.DIRECTION_MASK_NORTH}return r},reversePortConstraints:function(t){var e=0;return e=(t&_mxGraphConstants.default.DIRECTION_MASK_WEST)<<3,e|=(t&_mxGraphConstants.default.DIRECTION_MASK_NORTH)<<1,e|=(t&_mxGraphConstants.default.DIRECTION_MASK_SOUTH)>>1,e|=(t&_mxGraphConstants.default.DIRECTION_MASK_EAST)>>3},contains:function(t,e,i){return t.x<=e&&t.x+t.width>=e&&t.y<=i&&t.y+t.height>=i},ptSegDistSq:function(t,e,i,n,l,a){var r,o=(l-=t)*(i-=t)+(a-=e)*(n-=e);r=o<=0||(o=(l=i-l)*i+(a=n-a)*n)<=0?0:o*o/(i*i+n*n);var s=l*l+a*a-r;return s<0&&(s=0),s},convertPoint:function(t,e,i,n){var l=mxGraphUtils.getScrollOrigin(t,n),a=mxGraphUtils.getOffset(t,null,n);return a.x-=l.x,a.y-=l.y,new n(e-a.x,i-a.y)},findNearestSegment:function(t,e,i){var n=-1;if(t.absolutePoints.length>0)for(var l=t.absolutePoints[0],a=null,r=1;r<t.absolutePoints.length;r++){var o=t.absolutePoints[r],s=mxGraphUtils.ptSegDistSq(l.x,l.y,o.x,o.y,e,i);(null==a||s<a)&&(a=s,n=r-1),l=o}return n},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)&&("string"!=typeof t||t.toLowerCase().indexOf("0x")<0)},isInteger:function(t){return String(parseInt(t))===String(t)},eval:function _eval(expr){var result=null;if(expr.indexOf("function")>=0)try{eval("var _mxJavaScriptExpression="+expr),result=_mxJavaScriptExpression,_mxJavaScriptExpression=null}catch(t){console&&console.warn(t.message+" while evaluating "+expr)}else try{result=eval(expr)}catch(t){console&&console.warn(t.message+" while evaluating "+expr)}return result},getTextContent:function(t){return void 0!==t.innerText?t.innerText:t[void 0===t.textContent?"text":"textContent"]},setTextContent:function(t,e){void 0!==t.innerText?t.innerText=e:t[void 0===t.textContent?"text":"textContent"]=e},removeWhitespace:function(t,e){for(var i=e?t.previousSibling:t.nextSibling;null!=i&&i.nodeType==_mxGraphConstants.default.NODETYPE_TEXT;){var n=e?i.previousSibling:i.nextSibling,l=mxGraphUtils.getTextContent(i);0==mxGraphUtils.trim(l).length&&i.parentNode.removeChild(i),i=n}},getChildNodes:function(t,e){e=e||_mxGraphConstants.default.NODETYPE_ELEMENT;for(var i=[],n=t.firstChild;null!=n;)n.nodeType==e&&i.push(n),n=n.nextSibling;return i},toRadians:function(t){return Math.PI*t/180},toDegree:function(t){return 180*t/Math.PI},getScalePercentage:function(t){return(100*t).toFixed()+"%"},addClass:function(t,e){if(t)if(t.classList)t.classList.add(e);else{var i=t.getAttribute("class")||"";t.setAttribute("class",i+" "+e)}},removeClass:function(t,e){if(t)if(t.classList)t.classList.remove(e);else{var i=t.getAttribute("class");i&&i.indexOf(e)>-1&&t.setAttribute("class",i.replace(e,""))}},hasClass:function(t,e){if(!t)return!1;if(t.classList)return t.classList.contains(e);var i=t.getAttribute("class");return i&&i.indexOf(e)>-1},isBillRelationCard:function(t){return/billCard|stackedCard/.test(t)},setBillRelationCardOpacity:function(t,e,i){for(var n=t.getView().getCellStates(e),l=0;l<n.length;l++){var a=n[l],r=a.shape.cardnode;a.style.opacity=i,r.style.setProperty("opacity","".concat(i/100))}},isBoundaryEvent:function(t){return/Boundary[a-zA-Z]*Event/.test(t)},isGateway:function(t){return/[a-zA-Z]*Gateway/.test(t)},isStartEvent:function(t){return/Start[a-zA-Z]*Event/.test(t)},isEndEvent:function(t){return/End[a-zA-Z]*Event/.test(t)}},prefix,_default=exports.default=mxGraphUtils},809196:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(297336),i(846428),i(23544);var n=w(i(995048)),l=w(i(182848)),a=w(i(370608)),r=w(i(172636)),o=w(i(591108)),s=w(i(247644)),u=w(i(833800)),d=w(i(158276)),h=w(i(264400)),c=w(i(22676)),p=w(i(794644)),f=w(i(164460)),g=w(i(11131)),y=w(i(742288)),m=w(i(39864)),v=w(i(131124)),E=w(i(790448)),b=w(i(132448)),S=w(i(484376));function w(t){return t&&t.__esModule?t:{default:t}}function A(t){this.graph=t,this.translate=new f.default,this.graphBounds=new s.default,this.states=new o.default}A.prototype=new m.default,A.prototype.constructor=A,A.prototype.EMPTY_POINT=new f.default,A.prototype.doneResource="none"!=c.default.language?"done":"",A.prototype.updatingDocumentResource="none"!=c.default.language?"updatingDocument":"",A.prototype.allowEval=!1,A.prototype.captureDocumentGesture=!0,A.prototype.optimizeVmlReflows=!0,A.prototype.rendering=!0,A.prototype.graph=null,A.prototype.currentRoot=null,A.prototype.graphBounds=null,A.prototype.scale=1,A.prototype.translate=null,A.prototype.updateStyle=!1,A.prototype.lastNode=null,A.prototype.lastHtmlNode=null,A.prototype.lastForegroundNode=null,A.prototype.lastForegroundHtmlNode=null,A.prototype.getGraphBounds=function(){return this.graphBounds},A.prototype.setGraphBounds=function(t){this.graphBounds=t},A.prototype.getBounds=function(t){var e=null;if(null!=t&&t.length>0)for(var i=this.graph.getModel(),n=0;n<t.length;n++)if(i.isVertex(t[n])||i.isEdge(t[n])){var l=this.getState(t[n]);null!=l&&(null==e?e=s.default.fromRectangle(l):e.add(l))}return e},A.prototype.setCurrentRoot=function(t){if(this.currentRoot!=t){var e=new d.default(this,t);e.execute();var i=new v.default(this,!1);i.add(e),this.fireEvent(new n.default(a.default.UNDO,"edit",i)),this.graph.sizeDidChange()}return t},A.prototype.scaleAndTranslate=function(t,e,i){var l=this.scale,r=new f.default(this.translate.x,this.translate.y);this.scale==t&&this.translate.x==e&&this.translate.y==i||(this.scale=t,this.translate.x=e,this.translate.y=i,this.isEventsEnabled()&&(this.revalidate(),this.graph.sizeDidChange())),this.fireEvent(new n.default(a.default.SCALE_AND_TRANSLATE,"scale",t,"previousScale",l,"translate",this.translate,"previousTranslate",r))},A.prototype.getScale=function(){return this.scale},A.prototype.setScale=function(t){var e=this.scale;this.scale!=t&&(this.scale=t,this.isEventsEnabled()&&(this.revalidate(),this.graph.sizeDidChange())),this.fireEvent(new n.default(a.default.SCALE,"scale",t,"previousScale",e))},A.prototype.getTranslate=function(){return this.translate},A.prototype.setTranslate=function(t,e,i){var l=new f.default(this.translate.x,this.translate.y);this.translate.x==t&&this.translate.y==e||(this.translate.x=t,this.translate.y=e,this.isEventsEnabled()&&!1!==i&&(this.revalidate(),this.graph.sizeDidChange())),this.fireEvent(new n.default(a.default.TRANSLATE,"translate",this.translate,"previousTranslate",l))},A.prototype.refresh=function(){null!=this.currentRoot&&this.clear(),this.revalidate()},A.prototype.revalidate=function(){this.invalidate(),this.validate()},A.prototype.clear=function(t,e,i){var n=this.graph.getModel();if(t=t||n.getRoot(),e=null!=e&&e,i=null==i||i,this.removeState(t),i&&(e||t!=this.currentRoot))for(var l=n.getChildCount(t),a=0;a<l;a++)this.clear(n.getChildAt(t,a),e);else this.invalidate(t)},A.prototype.invalidate=function(t,e,i){var n=this.graph.getModel();t=t||n.getRoot(),e=null==e||e,i=null==i||i;var l=this.getState(t);if(null!=l&&(l.invalid=!0),!t.invalidating){if(t.invalidating=!0,e)for(var a=n.getChildCount(t),r=0;r<a;r++){var o=n.getChildAt(t,r);this.invalidate(o,e,i)}if(i){var s=n.getEdgeCount(t);for(r=0;r<s;r++)this.invalidate(n.getEdgeAt(t,r),e,i)}delete t.invalidating}},A.prototype.validate=function(t){var e=S.default.enter("mxGraphView.validate");window.status=g.default.get(this.updatingDocumentResource)||this.updatingDocumentResource,this.resetValidationState();var i=null;this.optimizeVmlReflows&&null!=this.canvas&&null==this.textDiv&&(8==document.documentMode&&!c.default.IS_EM||c.default.IS_QUIRKS)&&(this.placeholder=document.createElement("div"),this.placeholder.style.position="absolute",this.placeholder.style.width=this.canvas.clientWidth+"px",this.placeholder.style.height=this.canvas.clientHeight+"px",this.canvas.parentNode.appendChild(this.placeholder),i=this.drawPane.style.display,this.canvas.style.display="none",this.textDiv=document.createElement("div"),this.textDiv.style.position="absolute",this.textDiv.style.whiteSpace="nowrap",this.textDiv.style.visibility="hidden",this.textDiv.style.display=c.default.IS_QUIRKS?"inline":"inline-block",this.textDiv.style.zoom="1",document.body.appendChild(this.textDiv));var n=this.getBoundingBox(this.validateCellState(this.validateCell(t||(null!=this.currentRoot?this.currentRoot:this.graph.getModel().getRoot()))));this.setGraphBounds(null!=n?n:this.getEmptyBounds()),this.validateBackground(),null!=i&&(this.canvas.style.display=i,this.textDiv.parentNode.removeChild(this.textDiv),null!=this.placeholder&&this.placeholder.parentNode.removeChild(this.placeholder),this.textDiv=null),this.resetValidationState(),window.status=g.default.get(this.doneResource)||this.doneResource,S.default.leave("mxGraphView.validate",e)},A.prototype.getEmptyBounds=function(){return new s.default(this.translate.x*this.scale,this.translate.y*this.scale)},A.prototype.getBoundingBox=function(t,e){e=null==e||e;var i=null;if(null!=t&&(null!=t.shape&&null!=t.shape.boundingBox&&(i=t.shape.boundingBox.clone()),null!=t.text&&null!=t.text.boundingBox&&(null!=i?i.add(t.text.boundingBox):i=t.text.boundingBox.clone()),e))for(var n=this.graph.getModel(),l=n.getChildCount(t.cell),a=0;a<l;a++){var r=this.getBoundingBox(this.getState(n.getChildAt(t.cell,a)));null!=r&&(null==i?i=r:i.add(r))}return i},A.prototype.createBackgroundPageShape=function(t){return new u.default(t,"white","black")},A.prototype.validateBackground=function(){this.validateBackgroundImage(),this.validateBackgroundPage()},A.prototype.validateBackgroundImage=function(){var t=this.graph.getBackgroundImage();if(null!=t){if(null==this.backgroundImage||this.backgroundImage.image!=t.src){null!=this.backgroundImage&&this.backgroundImage.destroy();var e=new s.default(0,0,1,1);this.backgroundImage=new p.default(e,t.src),this.backgroundImage.dialect=this.graph.dialect,this.backgroundImage.init(this.backgroundPane),this.backgroundImage.redraw(),8!=document.documentMode||c.default.IS_EM||a.default.addGestureListeners(this.backgroundImage.node,y.default.bind(this,(function(t){this.graph.fireMouseEvent(a.default.MOUSE_DOWN,new r.default(t))})),y.default.bind(this,(function(t){this.graph.fireMouseEvent(a.default.MOUSE_MOVE,new r.default(t))})),y.default.bind(this,(function(t){this.graph.fireMouseEvent(a.default.MOUSE_UP,new r.default(t))})))}this.redrawBackgroundImage(this.backgroundImage,t)}else null!=this.backgroundImage&&(this.backgroundImage.destroy(),this.backgroundImage=null)},A.prototype.validateBackgroundPage=function(){if(this.graph.pageVisible){var t=this.getBackgroundPageBounds();null==this.backgroundPageShape?(this.backgroundPageShape=this.createBackgroundPageShape(t),this.backgroundPageShape.scale=this.scale,this.backgroundPageShape.isShadow=!0,this.backgroundPageShape.dialect=this.graph.dialect,this.backgroundPageShape.init(this.backgroundPane),this.backgroundPageShape.redraw(),this.graph.nativeDblClickEnabled&&a.default.addListener(this.backgroundPageShape.node,"dblclick",y.default.bind(this,(function(t){this.graph.dblClick(t)}))),a.default.addGestureListeners(this.backgroundPageShape.node,y.default.bind(this,(function(t){this.graph.fireMouseEvent(a.default.MOUSE_DOWN,new r.default(t))})),y.default.bind(this,(function(t){null!=this.graph.tooltipHandler&&this.graph.tooltipHandler.isHideOnHover()&&this.graph.tooltipHandler.hide(),this.graph.isMouseDown&&!a.default.isConsumed(t)&&this.graph.fireMouseEvent(a.default.MOUSE_MOVE,new r.default(t))})),y.default.bind(this,(function(t){this.graph.fireMouseEvent(a.default.MOUSE_UP,new r.default(t))})))):(this.backgroundPageShape.scale=this.scale,this.backgroundPageShape.bounds=t,this.backgroundPageShape.redraw())}else null!=this.backgroundPageShape&&(this.backgroundPageShape.destroy(),this.backgroundPageShape=null)},A.prototype.getBackgroundPageBounds=function(){var t=this.graph.pageFormat,e=this.scale*this.graph.pageScale;return new s.default(this.scale*this.translate.x,this.scale*this.translate.y,t.width*e,t.height*e)},A.prototype.redrawBackgroundImage=function(t,e){t.scale=this.scale,t.bounds.x=this.scale*this.translate.x,t.bounds.y=this.scale*this.translate.y,t.bounds.width=this.scale*e.width,t.bounds.height=this.scale*e.height,t.redraw()},A.prototype.validateCell=function(t,e){if(e=null==e||e,null!=t)if(e=e&&this.graph.isCellVisible(t),null==this.getState(t,e)||e)for(var i=this.graph.getModel(),n=i.getChildCount(t),l=0;l<n;l++)this.validateCell(i.getChildAt(t,l),e&&(!this.isCellCollapsed(t)||t==this.currentRoot));else this.removeState(t);return t},A.prototype.validateCellState=function(t,e){e=null==e||e;var i=null;if(null!=t&&null!=(i=this.getState(t))){var n=this.graph.getModel();if(i.invalid&&(i.invalid=!1,null==i.style&&(i.style=this.graph.getCellStyle(i.cell)),t!=this.currentRoot&&this.validateCellState(n.getParent(t),!1),i.setVisibleTerminalState(this.validateCellState(this.getVisibleTerminal(t,!0),!1),!0),i.setVisibleTerminalState(this.validateCellState(this.getVisibleTerminal(t,!1),!1),!1),this.updateCellState(i),t==this.currentRoot||i.invalid||this.graph.cellRenderer.redraw(i,!1,this.isRendering())),e&&!i.invalid){null!=i.shape&&this.stateValidated(i);for(var l=n.getChildCount(t),a=0;a<l;a++)this.validateCellState(n.getChildAt(t,a))}}return i},A.prototype.updateCellState=function(t){if(t.absoluteOffset.x=0,t.absoluteOffset.y=0,t.origin.x=0,t.origin.y=0,t.length=0,t.cell!=this.currentRoot){var e=this.graph.getModel(),i=this.getState(e.getParent(t.cell));null!=i&&i.cell!=this.currentRoot&&(t.origin.x+=i.origin.x,t.origin.y+=i.origin.y);var n=this.graph.getChildOffsetForCell(t.cell);null!=n&&(t.origin.x+=n.x,t.origin.y+=n.y);var l=this.graph.getCellGeometry(t.cell);if(null!=l){if(!e.isEdge(t.cell))if(n=l.offset||this.EMPTY_POINT,l.relative&&null!=i)if(e.isEdge(i.cell)){var a=this.getPoint(i,l);null!=a&&(t.origin.x+=a.x/this.scale-i.origin.x-this.translate.x,t.origin.y+=a.y/this.scale-i.origin.y-this.translate.y)}else t.origin.x+=l.x*i.width/this.scale+n.x,t.origin.y+=l.y*i.height/this.scale+n.y;else t.absoluteOffset.x=this.scale*n.x,t.absoluteOffset.y=this.scale*n.y,t.origin.x+=l.x,t.origin.y+=l.y;t.x=this.scale*(this.translate.x+t.origin.x),t.y=this.scale*(this.translate.y+t.origin.y),t.width=this.scale*l.width,t.unscaledWidth=l.width,t.height=this.scale*l.height,e.isVertex(t.cell)&&this.updateVertexState(t,l),e.isEdge(t.cell)&&this.updateEdgeState(t,l)}}t.updateCachedBounds()},A.prototype.isCellCollapsed=function(t){return this.graph.isCellCollapsed(t)},A.prototype.updateVertexState=function(t,e){var i=this.graph.getModel(),n=this.getState(i.getParent(t.cell));if(e.relative&&null!=n&&!i.isEdge(n.cell)){var l=b.default.toRadians(n.style[E.default.STYLE_ROTATION]||"0");if(0!=l){var a=Math.cos(l),r=Math.sin(l),o=new f.default(t.getCenterX(),t.getCenterY()),s=new f.default(n.getCenterX(),n.getCenterY()),u=b.default.getRotatedPoint(o,a,r,s);t.x=u.x-t.width/2,t.y=u.y-t.height/2}}this.updateVertexLabelOffset(t)},A.prototype.updateEdgeState=function(t,e){var i=t.getVisibleTerminalState(!0),n=t.getVisibleTerminalState(!1);if(null!=this.graph.model.getTerminal(t.cell,!0)&&null==i||null==i&&null==e.getTerminalPoint(!0)||null!=this.graph.model.getTerminal(t.cell,!1)&&null==n||null==n&&null==e.getTerminalPoint(!1))this.clear(t.cell,!0);else{this.updateFixedTerminalPoints(t,i,n),this.updatePoints(t,e.points,i,n),this.updateFloatingTerminalPoints(t,i,n);var l=t.absolutePoints;t.cell!=this.currentRoot&&(null==l||l.length<2||null==l[0]||null==l[l.length-1])?this.clear(t.cell,!0):(this.updateEdgeBounds(t),this.updateEdgeLabelOffset(t))}},A.prototype.updateVertexLabelOffset=function(t){var e=y.default.getValue(t.style,E.default.STYLE_LABEL_POSITION,E.default.ALIGN_CENTER);if(e==E.default.ALIGN_LEFT)null!=(i=y.default.getValue(t.style,E.default.STYLE_LABEL_WIDTH,null))?i*=this.scale:i=t.width,t.absoluteOffset.x-=i;else if(e==E.default.ALIGN_RIGHT)t.absoluteOffset.x+=t.width;else if(e==E.default.ALIGN_CENTER){var i;if(null!=(i=y.default.getValue(t.style,E.default.STYLE_LABEL_WIDTH,null))){var n=y.default.getValue(t.style,E.default.STYLE_ALIGN,E.default.ALIGN_CENTER),l=0;n==E.default.ALIGN_CENTER?l=.5:n==E.default.ALIGN_RIGHT&&(l=1),0!=l&&(t.absoluteOffset.x-=(i*this.scale-t.width)*l)}}var a=y.default.getValue(t.style,E.default.STYLE_VERTICAL_LABEL_POSITION,E.default.ALIGN_MIDDLE);a==E.default.ALIGN_TOP?t.absoluteOffset.y-=t.height:a==E.default.ALIGN_BOTTOM&&(t.absoluteOffset.y+=t.height)},A.prototype.resetValidationState=function(){this.lastNode=null,this.lastHtmlNode=null,this.lastForegroundNode=null,this.lastForegroundHtmlNode=null},A.prototype.stateValidated=function(t){var e=this.graph.getModel().isEdge(t.cell)&&this.graph.keepEdgesInForeground||this.graph.getModel().isVertex(t.cell)&&this.graph.keepEdgesInBackground,i=e&&this.lastForegroundHtmlNode||this.lastHtmlNode,n=e&&this.lastForegroundNode||this.lastNode,l=this.graph.cellRenderer.insertStateAfter(t,n,i);e?(this.lastForegroundHtmlNode=l[1],this.lastForegroundNode=l[0]):(this.lastHtmlNode=l[1],this.lastNode=l[0])},A.prototype.updateFixedTerminalPoints=function(t,e,i){this.updateFixedTerminalPoint(t,e,!0,this.graph.getConnectionConstraint(t,e,!0)),this.updateFixedTerminalPoint(t,i,!1,this.graph.getConnectionConstraint(t,i,!1))},A.prototype.updateFixedTerminalPoint=function(t,e,i,n){t.setAbsoluteTerminalPoint(this.getFixedTerminalPoint(t,e,i,n),i)},A.prototype.getFixedTerminalPoint=function(t,e,i,n){var l=null;if(null!=n&&(l=this.graph.getConnectionPoint(e,n)),null==l&&null==e){var a=this.scale,r=this.translate,o=t.origin;null!=(l=this.graph.getCellGeometry(t.cell).getTerminalPoint(i))&&(l=new f.default(a*(r.x+l.x+o.x),a*(r.y+l.y+o.y)))}return l},A.prototype.updateBoundsFromStencil=function(t){var e=null;if(null!=t&&null!=t.shape&&null!=t.shape.stencil&&"fixed"==t.shape.stencil.aspect){e=s.default.fromRectangle(t);var i=t.shape.stencil.computeAspect(t.style,t.x,t.y,t.width,t.height);t.setRect(i.x,i.y,t.shape.stencil.w0*i.width,t.shape.stencil.h0*i.height)}return e},A.prototype.updatePoints=function(t,e,i,n){if(null!=t){var l=[];l.push(t.absolutePoints[0]);var a=this.getEdgeStyle(t,e,i,n);if(null!=a){var r=this.getTerminalPort(t,i,!0),o=this.getTerminalPort(t,n,!1),s=this.updateBoundsFromStencil(r),u=this.updateBoundsFromStencil(o);a(t,r,o,e,l),null!=s&&r.setRect(s.x,s.y,s.width,s.height),null!=u&&o.setRect(u.x,u.y,u.width,u.height)}else if(null!=e)for(var d=0;d<e.length;d++)if(null!=e[d]){var h=y.default.clone(e[d]);l.push(this.transformControlPoint(t,h))}var c=t.absolutePoints;l.push(c[c.length-1]),t.absolutePoints=l}},A.prototype.transformControlPoint=function(t,e){if(null!=t&&null!=e){var i=t.origin;return new f.default(this.scale*(e.x+this.translate.x+i.x),this.scale*(e.y+this.translate.y+i.y))}return null},A.prototype.isLoopStyleEnabled=function(t,e,i,n){var l=this.graph.getConnectionConstraint(t,i,!0),a=this.graph.getConnectionConstraint(t,n,!1);return(!y.default.getValue(t.style,E.default.STYLE_ORTHOGONAL_LOOP,!1)||!(null!=l&&null!=l.point||null!=a&&null!=a.point))&&(null!=i&&i==n)},A.prototype.getEdgeStyle=function(t,e,i,n){var l=this.isLoopStyleEnabled(t,e,i,n)?y.default.getValue(t.style,E.default.STYLE_LOOP,this.graph.defaultLoopStyle):y.default.getValue(t.style,E.default.STYLE_NOEDGESTYLE,!1)?null:t.style[E.default.STYLE_EDGE];if("string"==typeof l){var a=h.default.getValue(l);null==a&&this.isAllowEval()&&(a=b.default.eval(l)),l=a}return"function"==typeof l?l:null},A.prototype.updateFloatingTerminalPoints=function(t,e,i){var n=t.absolutePoints,l=n[0];null==n[n.length-1]&&null!=i&&this.updateFloatingTerminalPoint(t,i,e,!1),null==l&&null!=e&&this.updateFloatingTerminalPoint(t,e,i,!0)},A.prototype.updateFloatingTerminalPoint=function(t,e,i,n){t.setAbsoluteTerminalPoint(this.getFloatingTerminalPoint(t,e,i,n),n)},A.prototype.getFloatingTerminalPoint=function(t,e,i,n){e=this.getTerminalPort(t,e,n);var l=this.getNextPoint(t,i,n),a=this.graph.isOrthogonal(t),r=b.default.toRadians(Number(e.style[E.default.STYLE_ROTATION]||"0")),o=new f.default(e.getCenterX(),e.getCenterY());if(0!=r){var s=Math.cos(-r),u=Math.sin(-r);l=b.default.getRotatedPoint(l,s,u,o)}var d=parseFloat(t.style[E.default.STYLE_PERIMETER_SPACING]||0);d+=parseFloat(t.style[n?E.default.STYLE_SOURCE_PERIMETER_SPACING:E.default.STYLE_TARGET_PERIMETER_SPACING]||0);var h=this.getPerimeterPoint(e,l,0==r&&a,d);if(0!=r){s=Math.cos(r),u=Math.sin(r);h=b.default.getRotatedPoint(h,s,u,o)}return h},A.prototype.getTerminalPort=function(t,e,i){var n=i?E.default.STYLE_SOURCE_PORT:E.default.STYLE_TARGET_PORT,l=y.default.getValue(t.style,n);if(null!=l){var a=this.getState(this.graph.getModel().getCell(l));null!=a&&(e=a)}return e},A.prototype.getPerimeterPoint=function(t,e,i,n){var l=null;if(null!=t){var a=this.getPerimeterFunction(t);if(null!=a&&null!=e){var r=this.getPerimeterBounds(t,n);(r.width>0||r.height>0)&&(l=a(r,t,e,i))}null==l&&(l=this.getPoint(t))}return l},A.prototype.getRoutingCenterX=function(t){var e=null!=t.style&&parseFloat(t.style[E.default.STYLE_ROUTING_CENTER_X])||0;return t.getCenterX()+e*t.width},A.prototype.getRoutingCenterY=function(t){var e=null!=t.style&&parseFloat(t.style[E.default.STYLE_ROUTING_CENTER_Y])||0;return t.getCenterY()+e*t.height},A.prototype.getPerimeterBounds=function(t,e){return e=null!=e?e:0,null!=t&&(e+=parseFloat(t.style[E.default.STYLE_PERIMETER_SPACING]||0)),t&&t.getPerimeterBounds(e*this.scale)},A.prototype.getPerimeterFunction=function(t){var e=t.style[E.default.STYLE_PERIMETER];if("string"==typeof e){var i=h.default.getValue(e);null==i&&this.isAllowEval()&&(i=b.default.eval(e)),e=i}return"function"==typeof e?e:null},A.prototype.getNextPoint=function(t,e,i){var n=t.absolutePoints,l=null;if(null!=n&&n.length>=2){var a=n.length;l=n[i?Math.min(1,a-1):Math.max(0,a-2)]}return null==l&&null!=e&&(l=new f.default(e.getCenterX(),e.getCenterY())),l},A.prototype.getVisibleTerminal=function(t,e){for(var i=this.graph.getModel(),n=i.getTerminal(t,e),l=n;null!=n&&n!=this.currentRoot;)this.graph.isCellVisible(l)&&!this.isCellCollapsed(n)||(l=n),n=i.getParent(n);return i.getParent(l)==i.getRoot()&&(l=null),l},A.prototype.updateEdgeBounds=function(t){var e=t.absolutePoints,i=e[0],n=e[e.length-1];if(i.x!=n.x||i.y!=n.y){var l=n.x-i.x,a=n.y-i.y;t.terminalDistance=Math.sqrt(l*l+a*a)}else t.terminalDistance=0;var r=0,o=[],s=i;if(null!=s){for(var u=s.x,d=s.y,h=u,c=d,p=1;p<e.length;p++){var f=e[p];if(null!=f){l=s.x-f.x,a=s.y-f.y;var g=Math.sqrt(l*l+a*a);o.push(g),r+=g,s=f,u=Math.min(s.x,u),d=Math.min(s.y,d),h=Math.max(s.x,h),c=Math.max(s.y,c)}}t.length=r,t.segments=o;t.x=u,t.y=d,t.width=Math.max(1,h-u),t.height=Math.max(1,c-d)}},A.prototype.getPoint=function(t,e){var i=t.getCenterX(),n=t.getCenterY();if(null==t.segments||null!=e&&!e.relative){if(null!=e){null!=(p=e.offset)&&(i+=p.x,n+=p.y)}}else{for(var l=null!=e?e.x/2:0,a=t.absolutePoints.length,r=Math.round((l+.5)*t.length),o=t.segments[0],s=0,u=1;r>=Math.round(s+o)&&u<a-1;)s+=o,o=t.segments[u++];var d=0==o?0:(r-s)/o,h=t.absolutePoints[u-1],c=t.absolutePoints[u];if(null!=h&&null!=c){var p,g=0,y=0,m=0;if(null!=e)g=e.y,null!=(p=e.offset)&&(y=p.x,m=p.y);var v=c.x-h.x,E=c.y-h.y,b=0==o?0:E/o,S=0==o?0:v/o;i=h.x+v*d+(b*g+y)*this.scale,n=h.y+E*d-(S*g-m)*this.scale}}return new f.default(i,n)},A.prototype.getRelativePoint=function(t,e,i){var n=this.graph.getModel().getGeometry(t.cell);if(null!=n){var l=t.absolutePoints.length;if(n.relative&&l>1){for(var a=t.length,r=t.segments,o=t.absolutePoints[0],s=t.absolutePoints[1],u=b.default.ptSegDistSq(o.x,o.y,s.x,s.y,e,i),d=0,h=0,c=0,p=2;p<l;p++){h+=r[p-2],s=t.absolutePoints[p];var g=b.default.ptSegDistSq(o.x,o.y,s.x,s.y,e,i);g<=u&&(u=g,d=p-1,c=h),o=s}var y=r[d];o=t.absolutePoints[d],s=t.absolutePoints[d+1];var m=o.x,v=o.y,E=s.x,S=s.y,w=e,A=i,C=m-E,T=v-S,M=0,x=(w=C-(w-=E))*C+(A=T-(A-=S))*T;M=x<=0?0:x*x/(C*C+T*T);var I=Math.sqrt(M);I>y&&(I=y);var L=Math.sqrt(b.default.ptSegDistSq(o.x,o.y,s.x,s.y,e,i));return-1==b.default.relativeCcw(o.x,o.y,s.x,s.y,e,i)&&(L=-L),new f.default((a/2-c-I)/a*-2,L/this.scale)}}return new f.default},A.prototype.updateEdgeLabelOffset=function(t){var e=t.absolutePoints;if(t.absoluteOffset.x=t.getCenterX(),t.absoluteOffset.y=t.getCenterY(),null!=e&&e.length>0&&null!=t.segments){var i=this.graph.getCellGeometry(t.cell);if(i.relative){var n=this.getPoint(t,i);null!=n&&(t.absoluteOffset=n)}else{var l=e[0],a=e[e.length-1];if(null!=l&&null!=a){var r=a.x-l.x,o=a.y-l.y,s=0,u=0,d=i.offset;null!=d&&(s=d.x,u=d.y);var h=l.x+r/2+s*this.scale,c=l.y+o/2+u*this.scale;t.absoluteOffset.x=h,t.absoluteOffset.y=c}}}},A.prototype.getState=function(t,e){e=e||!1;var i=null;return null!=t&&(i=this.states.get(t),e&&(null==i||this.updateStyle)&&this.graph.isCellVisible(t)&&(null==i?(i=this.createState(t),this.states.put(t,i)):i.style=this.graph.getCellStyle(t))),i},A.prototype.isRendering=function(){return this.rendering},A.prototype.setRendering=function(t){this.rendering=t},A.prototype.isAllowEval=function(){return this.allowEval},A.prototype.setAllowEval=function(t){this.allowEval=t},A.prototype.getStates=function(){return this.states},A.prototype.setStates=function(t){this.states=t},A.prototype.getCellStates=function(t){if(null==t)return this.states;for(var e=[],i=0;i<t.length;i++){var n=this.getState(t[i]);null!=n&&e.push(n)}return e},A.prototype.removeState=function(t){var e=null;return null!=t&&null!=(e=this.states.remove(t))&&(this.graph.cellRenderer.destroy(e),e.invalid=!0,e.destroy()),e},A.prototype.createState=function(t){return new l.default(this,t,this.graph.getCellStyle(t))},A.prototype.getCanvas=function(){return this.canvas},A.prototype.getBackgroundPane=function(){return this.backgroundPane},A.prototype.getDrawPane=function(){return this.drawPane},A.prototype.getOverlayPane=function(){return this.overlayPane},A.prototype.getDecoratorPane=function(){return this.decoratorPane},A.prototype.isContainerEvent=function(t){var e=a.default.getSource(t);return e==this.graph.container||e.parentNode==this.backgroundPane||null!=e.parentNode&&e.parentNode.parentNode==this.backgroundPane||e==this.canvas.parentNode||e==this.canvas||e==this.backgroundPane||e==this.drawPane||e==this.overlayPane||e==this.decoratorPane},A.prototype.isScrollEvent=function(t){var e=b.default.getOffset(this.graph.container),i=new f.default(t.clientX-e.x,t.clientY-e.y),n=this.graph.container.offsetWidth,l=this.graph.container.clientWidth;if(n>l&&i.x>l+2&&i.x<=n)return!0;var a=this.graph.container.offsetHeight,r=this.graph.container.clientHeight;return a>r&&i.y>r+2&&i.y<=a},A.prototype.init=function(){this.installListeners();var t=this.graph;t.dialect==E.default.DIALECT_SVG?this.createSvg():t.dialect==E.default.DIALECT_VML?this.createVml():this.createHtml()},A.prototype.installListeners=function(){var t=this.graph,e=t.container;if(null!=e){c.default.IS_TOUCH&&(a.default.addListener(e,"gesturestart",y.default.bind(this,(function(e){t.fireGestureEvent(e),a.default.consume(e)}))),a.default.addListener(e,"gesturechange",y.default.bind(this,(function(e){t.fireGestureEvent(e),a.default.consume(e)}))),a.default.addListener(e,"gestureend",y.default.bind(this,(function(e){t.fireGestureEvent(e),a.default.consume(e)})))),a.default.addGestureListeners(e,y.default.bind(this,(function(e){!this.isContainerEvent(e)||(c.default.IS_IE||c.default.IS_IE11||c.default.IS_GC||c.default.IS_OP||c.default.IS_SF)&&this.isScrollEvent(e)||t.fireMouseEvent(a.default.MOUSE_DOWN,new r.default(e))})),y.default.bind(this,(function(e){this.isContainerEvent(e)&&t.fireMouseEvent(a.default.MOUSE_MOVE,new r.default(e))})),y.default.bind(this,(function(e){this.isContainerEvent(e)&&t.fireMouseEvent(a.default.MOUSE_UP,new r.default(e))}))),a.default.addListener(e,"dblclick",y.default.bind(this,(function(e){this.isContainerEvent(e)&&t.dblClick(e)})));t.addMouseListener({mouseDown:function(e,i){t.popupMenuHandler.hideMenu()},mouseMove:function(){},mouseUp:function(){}}),this.moveHandler=y.default.bind(this,(function(i){null!=t.tooltipHandler&&t.tooltipHandler.isHideOnHover()&&t.tooltipHandler.hide(),this.captureDocumentGesture&&t.isMouseDown&&null!=t.container&&!this.isContainerEvent(i)&&"none"!=t.container.style.display&&"hidden"!=t.container.style.visibility&&!a.default.isConsumed(i)&&t.fireMouseEvent(a.default.MOUSE_MOVE,new r.default(i,function(i){var n=null;if(c.default.IS_TOUCH){var l=a.default.getClientX(i),r=a.default.getClientY(i),o=b.default.convertPoint(e,l,r);n=t.view.getState(t.getCellAt(o.x,o.y))}return n}(i)))})),this.endHandler=y.default.bind(this,(function(e){this.captureDocumentGesture&&t.isMouseDown&&null!=t.container&&!this.isContainerEvent(e)&&"none"!=t.container.style.display&&"hidden"!=t.container.style.visibility&&t.fireMouseEvent(a.default.MOUSE_UP,new r.default(e))})),a.default.addGestureListeners(document,null,this.moveHandler,this.endHandler)}},A.prototype.createHtml=function(){var t=this.graph.container;if(null!=t&&(this.canvas=this.createHtmlPane("100%","100%"),this.backgroundPane=this.createHtmlPane("1px","1px"),this.drawPane=this.createHtmlPane("1px","1px"),this.overlayPane=this.createHtmlPane("1px","1px"),this.decoratorPane=this.createHtmlPane("1px","1px"),this.canvas.appendChild(this.backgroundPane),this.canvas.appendChild(this.drawPane),this.canvas.appendChild(this.overlayPane),this.canvas.appendChild(this.decoratorPane),t.appendChild(this.canvas),this.updateContainerStyle(t),c.default.IS_QUIRKS)){var e=y.default.bind(this,(function(t){var e=this.getGraphBounds(),i=e.x+e.width+this.graph.border,n=e.y+e.height+this.graph.border;this.updateHtmlCanvasSize(i,n)}));a.default.addListener(window,"resize",e)}},A.prototype.updateHtmlCanvasSize=function(t,e){if(null!=this.graph.container){var i=this.graph.container.offsetWidth,n=this.graph.container.offsetHeight;this.canvas.style.width=i<t?t+"px":"100%",this.canvas.style.height=n<e?e+"px":"100%"}},A.prototype.createHtmlPane=function(t,e){var i=document.createElement("DIV");return null!=t&&null!=e?(i.style.position="absolute",i.style.left="0px",i.style.top="0px",i.style.width=t,i.style.height=e):i.style.position="relative",i},A.prototype.createVml=function(){var t=this.graph.container;if(null!=t){var e=t.offsetWidth,i=t.offsetHeight;this.canvas=this.createVmlPane(e,i),this.backgroundPane=this.createVmlPane(e,i),this.drawPane=this.createVmlPane(e,i),this.overlayPane=this.createVmlPane(e,i),this.decoratorPane=this.createVmlPane(e,i),this.canvas.appendChild(this.backgroundPane),this.canvas.appendChild(this.drawPane),this.canvas.appendChild(this.overlayPane),this.canvas.appendChild(this.decoratorPane),t.appendChild(this.canvas)}},A.prototype.createVmlPane=function(t,e){var i=document.createElement(c.default.VML_PREFIX+":group");return i.style.position="absolute",i.style.left="0px",i.style.top="0px",i.style.width=t+"px",i.style.height=e+"px",i.setAttribute("coordsize",t+","+e),i.setAttribute("coordorigin","0,0"),i},A.prototype.createSvg=function(){var t=this.graph.container;this.canvas=document.createElementNS(E.default.NS_SVG,"g"),this.backgroundPane=document.createElementNS(E.default.NS_SVG,"g"),this.canvas.appendChild(this.backgroundPane),this.drawPane=document.createElementNS(E.default.NS_SVG,"g"),"diagram"===t.id&&this.drawPane.setAttribute("id","drawPane"),this.canvas.appendChild(this.drawPane),this.overlayPane=document.createElementNS(E.default.NS_SVG,"g"),this.canvas.appendChild(this.overlayPane),this.decoratorPane=document.createElementNS(E.default.NS_SVG,"g"),this.canvas.appendChild(this.decoratorPane);var e=document.createElementNS(E.default.NS_SVG,"svg");e.style.width="100%",e.style.height="100%",e.style.display="block";var i=document.querySelector("svg.defs");i||((i=document.createElementNS(E.default.NS_SVG,"svg")).setAttribute("class","defs"),i.setAttribute("style","width: 0; height: 0; position: absolute;"),i.appendChild(document.createElementNS(E.default.NS_SVG,"defs")),document.body.appendChild(i)),e.appendChild(this.canvas),null!=t&&(t.appendChild(e),this.updateContainerStyle(t))},A.prototype.updateContainerStyle=function(t){var e=y.default.getCurrentStyle(t);null!=e&&"static"==e.position&&(t.style.position="relative"),c.default.IS_POINTER&&(t.style.touchAction="none")},A.prototype.destroy=function(){var t=null!=this.canvas?this.canvas.ownerSVGElement:null;null==t&&(t=this.canvas),null!=t&&null!=t.parentNode&&(this.clear(this.currentRoot,!0),a.default.removeGestureListeners(document,null,this.moveHandler,this.endHandler),a.default.release(this.graph.container),t.parentNode.removeChild(t),this.moveHandler=null,this.endHandler=null,this.canvas=null,this.backgroundPane=null,this.drawPane=null,this.overlayPane=null,this.decoratorPane=null)},A.getName=function(){return"mxGraphView"};e.default=A},655696:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(i(780208)),l=r(i(164460)),a=r(i(790448));function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){this.graph=t,this.setStates(e)}o.prototype.graph=null,o.prototype.states=null,o.prototype.horizontal=!0,o.prototype.vertical=!0,o.prototype.guideX=null,o.prototype.guideY=null,o.prototype.setStates=function(t){this.states=t},o.prototype.isEnabledForEvent=function(t){return!0},o.prototype.getGuideTolerance=function(){return this.graph.gridSize/2},o.prototype.createGuideShape=function(t){var e=new n.default([],a.default.GUIDE_COLOR,a.default.GUIDE_STROKEWIDTH);return e.isDashed=!0,e},o.prototype.move=function(t,e,i){if(null!=this.states&&(this.horizontal||this.vertical)&&null!=t&&null!=e){var n=function(e,i){e+=this.graph.panDx;var n=!1;Math.abs(e-A)<v?(u=e-t.getCenterX(),v=Math.abs(e-A),n=!0):Math.abs(e-S)<v?(u=e-t.x,v=Math.abs(e-S),n=!0):Math.abs(e-w)<v&&(u=e-t.x-t.width,v=Math.abs(e-w),n=!0),n&&(c=i,p=Math.round(e-this.graph.panDx),null==this.guideX&&(this.guideX=this.createGuideShape(!0),this.guideX.dialect=this.graph.dialect!=a.default.DIALECT_SVG?a.default.DIALECT_VML:a.default.DIALECT_SVG,this.guideX.pointerEvents=!1,this.guideX.init(this.graph.getView().getOverlayPane()))),h=h||n},r=function(e){e+=this.graph.panDy;var i=!1;Math.abs(e-M)<E?(d=e-t.getCenterY(),E=Math.abs(e-M),i=!0):Math.abs(e-C)<E?(d=e-t.y,E=Math.abs(e-C),i=!0):Math.abs(e-T)<E&&(d=e-t.y-t.height,E=Math.abs(e-T),i=!0),i&&(g=I,y=Math.round(e-this.graph.panDy),null==this.guideY&&(this.guideY=this.createGuideShape(!1),this.guideY.dialect=this.graph.dialect!=a.default.DIALECT_SVG?a.default.DIALECT_VML:a.default.DIALECT_SVG,this.guideY.pointerEvents=!1,this.guideY.init(this.graph.getView().getOverlayPane()))),f=f||i},o=this.graph.getView().translate,s=this.graph.getView().scale,u=e.x,d=e.y,h=!1,c=null,p=null,f=!1,g=null,y=null,m=this.getGuideTolerance(),v=m,E=m,b=t.clone();b.x+=e.x,b.y+=e.y;for(var S=b.x,w=b.x+b.width,A=b.getCenterX(),C=b.y,T=b.y+b.height,M=b.getCenterY(),x=0;x<this.states.length;x++){var I=this.states[x];null!=I&&(this.horizontal&&(n.call(this,I.getCenterX(),I),n.call(this,I.x,I),n.call(this,I.x+I.width,I)),this.vertical&&(r.call(this,I.getCenterY(),I),r.call(this,I.y,I),r.call(this,I.y+I.height,I)))}if(i){if(!h){var L=t.x-(this.graph.snap(t.x/s-o.x)+o.x)*s;u=this.graph.snap(u/s)*s-L}if(!f){var N=t.y-(this.graph.snap(t.y/s-o.y)+o.y)*s;d=this.graph.snap(d/s)*s-N}}var O,D,R,_,P=this.graph.container;h||null==this.guideX?null!=this.guideX&&(null!=c&&null!=t&&(O=Math.min(t.y+d-this.graph.panDy,c.y),D=Math.max(t.y+t.height+d-this.graph.panDy,c.y+c.height)),this.guideX.points=null!=O&&null!=D?[new l.default(p,O),new l.default(p,D)]:[new l.default(p,-this.graph.panDy),new l.default(p,P.scrollHeight-3-this.graph.panDy)],this.guideX.stroke=this.getGuideColor(c,!0),this.guideX.node.style.visibility="visible",this.guideX.redraw()):this.guideX.node.style.visibility="hidden",f||null==this.guideY?null!=this.guideY&&(null!=g&&null!=t&&(R=Math.min(t.x+u-this.graph.panDx,g.x),_=Math.max(t.x+t.width+u-this.graph.panDx,g.x+g.width)),this.guideY.points=null!=R&&null!=_?[new l.default(R,y),new l.default(_,y)]:[new l.default(-this.graph.panDx,y),new l.default(P.scrollWidth-3-this.graph.panDx,y)],this.guideY.stroke=this.getGuideColor(g,!1),this.guideY.node.style.visibility="visible",this.guideY.redraw()):this.guideY.node.style.visibility="hidden",e=new l.default(u,d)}return e},o.prototype.getGuideColor=function(t,e){return a.default.GUIDE_COLOR},o.prototype.hide=function(){this.setVisible(!1)},o.prototype.setVisible=function(t){null!=this.guideX&&(this.guideX.node.style.visibility=t?"visible":"hidden"),null!=this.guideY&&(this.guideY.node.style.visibility=t?"visible":"hidden")},o.prototype.destroy=function(){null!=this.guideX&&(this.guideX.destroy(),this.guideX=null),null!=this.guideY&&(this.guideY.destroy(),this.guideY=null)};e.default=o},845320:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(i(164460)),l=o(i(742288)),a=o(i(745240)),r=o(i(790448));function o(t){return t&&t.__esModule?t:{default:t}}function s(){a.default.call(this)}l.default.extend(s,a.default),s.prototype.redrawPath=function(t,e,i,a,o){var s=l.default.getValue(this.style,r.default.STYLE_ARCSIZE,r.default.LINE_ARCSIZE)/2;this.addPoints(t,[new n.default(.25*a,0),new n.default(.75*a,0),new n.default(a,.5*o),new n.default(.75*a,o),new n.default(.25*a,o),new n.default(0,.5*o)],this.isRounded,s,!0)};e.default=s},430264:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i(447831)),l=a(i(790448));function a(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e,i){n.default.call(this,t),this.orientation=null!=e?e:l.default.DIRECTION_NORTH,this.deterministic=null==i||i}},630160:function(t,e,i){"use strict";function n(t,e,i){this.src=t,this.width=e,this.height=i}i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n.prototype.src=null,n.prototype.width=null,n.prototype.height=null;e.default=n},273848:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(297336);u(i(22676)),u(i(164460)),u(i(667032));var n=u(i(742288)),l=(u(i(247644)),u(i(790448))),a=u(i(132448)),r=(u(i(45232)),u(i(363120)),u(i(589740)),u(i(802464)),u(i(656988))),o=u(i(377544)),s=u(i(577512));function u(t){return t&&t.__esModule?t:{default:t}}function d(){}d.prototype.includeOverlays=!1,d.prototype.drawState=function(t,e){null!=t&&(this.visitStatesRecursive(t,e,n.default.bind(this,(function(){this.drawCellState.apply(this,arguments)}))),this.includeOverlays&&this.visitStatesRecursive(t,e,n.default.bind(this,(function(){this.drawOverlays.apply(this,arguments)}))))},d.prototype.visitStatesRecursive=function(t,e,i){if(null!=t){i(t,e);for(var n=t.view.graph,l=n.model.getChildCount(t.cell),a=0;a<l;a++){var r=n.view.getState(n.model.getChildAt(t.cell,a));this.visitStatesRecursive(r,e,i)}}},d.prototype.getLinkForCellState=function(t,e){return null},d.prototype.drawCellState=function(t,e){var i=this.getLinkForCellState(t,e);null!=i&&e.setLink(i),this.drawShape(t,e),this.drawText(t,e),null!=i&&e.setLink(null)},d.prototype.drawShape=function(t,e){if(t.shape instanceof r.default&&t.shape.checkBounds()){if(e.save(),t.shape.stencil instanceof o.default){var i=e.root;try{var n=a.default.createXmlDocument(),s=null!=n.createElementNS?n.createElementNS(l.default.NS_SVG,"g"):n.createElement("g");s.setAttribute("transform",i.getAttribute("transform")),e.root=s,t.shape.paint(e),i.appendChild(s)}finally{e.root=i}}else t.shape.paint(e);e.restore()}},d.prototype.drawText=function(t,e){null!=t.text&&t.text.checkBounds()&&(e.save(),t.text.paint(e),t.shape instanceof s.default&&t.shape.afterRedrawLabel(e.root.lastElementChild),e.restore())},d.prototype.drawOverlays=function(t,e){null!=t.overlays&&t.overlays.visit((function(t,i){i instanceof r.default&&i.paint(e)}))};e.default=d},794644:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(106208),i(622676),i(387912);var n=s(i(22676)),l=s(i(742288)),a=s(i(833800)),r=s(i(656988)),o=s(i(790448));function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e,i,n,l){r.default.call(this),this.bounds=t,this.image=e,this.fill=i,this.stroke=n,this.strokewidth=null!=l?l:1,this.shadow=!1}l.default.extend(u,a.default),u.prototype.preserveImageAspect=!0,u.prototype.getSvgScreenOffset=function(){return 0},u.prototype.apply=function(t){r.default.prototype.apply.apply(this,arguments),this.fill=null,this.stroke=null,this.gradient=null,null!=this.style&&(this.preserveImageAspect=1==l.default.getNumber(this.style,o.default.STYLE_IMAGE_ASPECT,1),this.flipH=this.flipH||1==l.default.getValue(this.style,"imageFlipH",0),this.flipV=this.flipV||1==l.default.getValue(this.style,"imageFlipV",0))},u.prototype.isHtmlAllowed=function(){return!this.preserveImageAspect},u.prototype.createHtml=function(){var t=document.createElement("div");return t.style.position="absolute",t},u.prototype.paintVertexShape=function(t,e,i,n,r){if(null!=this.image){var s=l.default.getValue(this.style,o.default.STYLE_IMAGE_BACKGROUND,null),u=l.default.getValue(this.style,o.default.STYLE_IMAGE_BORDER,null);null!=s&&(t.setFillColor(s),t.setStrokeColor(u),t.rect(e,i,n,r),t.fillAndStroke()),t.image(e,i,n,r,this.image,this.preserveImageAspect,!1,!1),null!=(u=l.default.getValue(this.style,o.default.STYLE_IMAGE_BORDER,null))&&(t.setShadow(!1),t.setStrokeColor(u),t.rect(e,i,n,r),t.stroke())}else a.default.prototype.paintBackground.apply(this,arguments)},u.prototype.redrawHtmlShape=function(){if(this.node.style.left=Math.round(this.bounds.x)+"px",this.node.style.top=Math.round(this.bounds.y)+"px",this.node.style.width=Math.max(0,Math.round(this.bounds.width))+"px",this.node.style.height=Math.max(0,Math.round(this.bounds.height))+"px",this.node.innerHTML="",null!=this.image){var t=l.default.getValue(this.style,o.default.STYLE_IMAGE_BACKGROUND,""),e=l.default.getValue(this.style,o.default.STYLE_IMAGE_BORDER,"");this.node.style.backgroundColor=t,this.node.style.borderColor=e;var i=n.default.IS_IE6||(null==document.documentMode||document.documentMode<=8)&&0!=this.rotation,a=document.createElement(i?n.default.VML_PREFIX+":image":"img");a.setAttribute("border","0"),a.style.position="absolute",a.src=this.image;var r=this.opacity<100?"alpha(opacity="+this.opacity+")":"";this.node.style.filter=r,this.flipH&&this.flipV?r+="progid:DXImageTransform.Microsoft.BasicImage(rotation=2)":this.flipH?r+="progid:DXImageTransform.Microsoft.BasicImage(mirror=1)":this.flipV&&(r+="progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)"),a.style.filter!=r&&(a.style.filter=r),"image"==a.nodeName?a.style.rotation=this.rotation:0!=this.rotation?l.default.setPrefixedStyle(a.style,"transform","rotate("+this.rotation+"deg)"):l.default.setPrefixedStyle(a.style,"transform",""),a.style.width=this.node.style.width,a.style.height=this.node.style.height,this.node.style.backgroundImage="",this.node.appendChild(a)}else this.setTransparentBackgroundImage(this.node)};e.default=u},222624:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(297336);var n=o(i(22676)),l=o(i(370608)),a=o(i(742288)),r=o(i(132448));function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e){null!=t&&(this.graph=t,this.target=e||document.documentElement,this.normalKeys=[],this.shiftKeys=[],this.controlKeys=[],this.controlShiftKeys=[],this.keydownHandler=a.default.bind(this,(function(t){this.keyDown(t)})),l.default.addListener(this.target,"keydown",this.keydownHandler),n.default.IS_IE&&l.default.addListener(window,"unload",a.default.bind(this,(function(){this.destroy()}))))}s.prototype.graph=null,s.prototype.target=null,s.prototype.normalKeys=null,s.prototype.shiftKeys=null,s.prototype.controlKeys=null,s.prototype.controlShiftKeys=null,s.prototype.enabled=!0,s.prototype.isEnabled=function(){return this.enabled},s.prototype.setEnabled=function(t){this.enabled=t},s.prototype.bindKey=function(t,e){this.normalKeys[t]=e},s.prototype.bindShiftKey=function(t,e){this.shiftKeys[t]=e},s.prototype.bindControlKey=function(t,e){this.controlKeys[t]=e},s.prototype.bindControlShiftKey=function(t,e){this.controlShiftKeys[t]=e},s.prototype.isControlDown=function(t){return l.default.isControlDown(t)},s.prototype.getFunction=function(t){return null==t||l.default.isAltDown(t)?null:this.isControlDown(t)?l.default.isShiftDown(t)?this.controlShiftKeys[t.keyCode]:this.controlKeys[t.keyCode]:l.default.isShiftDown(t)?this.shiftKeys[t.keyCode]:this.normalKeys[t.keyCode]},s.prototype.isGraphEvent=function(t){var e=l.default.getSource(t);return!!(e==this.target||e.parentNode==this.target||null!=this.graph.cellEditor&&this.graph.cellEditor.isEventSource(t))||r.default.isAncestorNode(this.graph.container,e)},s.prototype.keyDown=function(t){if(this.isEnabledForEvent(t))if(27==t.keyCode)this.escape(t);else if(!this.isEventIgnored(t)){var e=this.getFunction(t);null!=e&&(e(t),l.default.consume(t))}},s.prototype.isEnabledForEvent=function(t){return this.graph.isEnabled()&&!l.default.isConsumed(t)&&this.isGraphEvent(t)&&this.isEnabled()},s.prototype.isEventIgnored=function(t){return this.graph.isEditing()},s.prototype.escape=function(t){this.graph.isEscapeEnabled()&&this.graph.escape(t)},s.prototype.destroy=function(){null!=this.target&&null!=this.keydownHandler&&(l.default.removeListener(this.target,"keydown",this.keydownHandler),this.keydownHandler=null),this.target=null};e.default=s},183520:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(106208);var n=s(i(742288)),l=s(i(247644)),a=s(i(833800)),r=s(i(656988)),o=s(i(790448));function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e,i,n){a.default.call(this,t,e,i,n)}n.default.extend(u,a.default),u.prototype.imageSize=o.default.DEFAULT_IMAGESIZE,u.prototype.spacing=2,u.prototype.indicatorSize=10,u.prototype.indicatorSpacing=2,u.prototype.init=function(t){r.default.prototype.init.apply(this,arguments),null!=this.indicatorShape&&(this.indicator=new this.indicatorShape,this.indicator.dialect=this.dialect,this.indicator.init(this.node))},u.prototype.redraw=function(){null!=this.indicator&&(this.indicator.fill=this.indicatorColor,this.indicator.stroke=this.indicatorStrokeColor,this.indicator.gradient=this.indicatorGradientColor,this.indicator.direction=this.indicatorDirection),r.default.prototype.redraw.apply(this,arguments)},u.prototype.isHtmlAllowed=function(){return a.default.prototype.isHtmlAllowed.apply(this,arguments)&&null==this.indicatorColor&&null==this.indicatorShape},u.prototype.paintForeground=function(t,e,i,n,l){this.paintImage(t,e,i,n,l),this.paintIndicator(t,e,i,n,l),a.default.prototype.paintForeground.apply(this,arguments)},u.prototype.paintImage=function(t,e,i,n,l){if(null!=this.image){var a=this.getImageBounds(e,i,n,l);t.image(a.x,a.y,a.width,a.height,this.image,!1,!1,!1)}},u.prototype.getImageBounds=function(t,e,i,a){var r=n.default.getValue(this.style,o.default.STYLE_IMAGE_ALIGN,o.default.ALIGN_LEFT),s=n.default.getValue(this.style,o.default.STYLE_IMAGE_VERTICAL_ALIGN,o.default.ALIGN_MIDDLE),u=n.default.getNumber(this.style,o.default.STYLE_IMAGE_WIDTH,o.default.DEFAULT_IMAGESIZE),d=n.default.getNumber(this.style,o.default.STYLE_IMAGE_HEIGHT,o.default.DEFAULT_IMAGESIZE),h=n.default.getNumber(this.style,o.default.STYLE_SPACING,this.spacing)+5;return r==o.default.ALIGN_CENTER?t+=(i-u)/2:r==o.default.ALIGN_RIGHT?t+=i-u-h:t+=h,s==o.default.ALIGN_TOP?e+=h:s==o.default.ALIGN_BOTTOM?e+=a-d-h:e+=(a-d)/2,new l.default(t,e,u,d)},u.prototype.paintIndicator=function(t,e,i,n,l){if(null!=this.indicator)this.indicator.bounds=this.getIndicatorBounds(e,i,n,l),this.indicator.paint(t);else if(null!=this.indicatorImage){var a=this.getIndicatorBounds(e,i,n,l);t.image(a.x,a.y,a.width,a.height,this.indicatorImage,!1,!1,!1)}},u.prototype.getIndicatorBounds=function(t,e,i,a){var r=n.default.getValue(this.style,o.default.STYLE_IMAGE_ALIGN,o.default.ALIGN_LEFT),s=n.default.getValue(this.style,o.default.STYLE_IMAGE_VERTICAL_ALIGN,o.default.ALIGN_MIDDLE),u=n.default.getNumber(this.style,o.default.STYLE_INDICATOR_WIDTH,this.indicatorSize),d=n.default.getNumber(this.style,o.default.STYLE_INDICATOR_HEIGHT,this.indicatorSize),h=this.spacing+5;return r==o.default.ALIGN_RIGHT?t+=i-u-h:r==o.default.ALIGN_CENTER?t+=(i-u)/2:t+=h,s==o.default.ALIGN_BOTTOM?e+=a-d-h:s==o.default.ALIGN_TOP?e+=h:e+=(a-d)/2,new l.default(t,e,u,d)},u.prototype.redrawHtmlShape=function(){for(a.default.prototype.redrawHtmlShape.apply(this,arguments);this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);if(null!=this.image){var t=document.createElement("img");t.style.position="relative",t.setAttribute("border","0");var e=this.getImageBounds(this.bounds.x,this.bounds.y,this.bounds.width,this.bounds.height);e.x-=this.bounds.x,e.y-=this.bounds.y,t.style.left=Math.round(e.x)+"px",t.style.top=Math.round(e.y)+"px",t.style.width=Math.round(e.width)+"px",t.style.height=Math.round(e.height)+"px",t.src=this.image,this.node.appendChild(t)}};e.default=u},668624:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(9692),i(241872),i(885612),i(693917),i(297336);var n=g(i(995048)),l=g(i(370608)),a=g(i(591108)),r=g(i(39864)),o=g(i(742288)),s=g(i(132448)),u=g(i(478780)),d=g(i(38724)),h=g(i(208104)),c=g(i(819996)),p=g(i(496592)),f=g(i(68127));function g(t){return t&&t.__esModule?t:{default:t}}function y(t){this.undoHandler=o.default.bind(this,(function(t,e){this.isEnabled()&&this.beforeUndo(e.getProperty("edit"))})),this.moveHandler=o.default.bind(this,(function(t,e){this.isEnabled()&&this.cellsMoved(e.getProperty("cells"),e.getProperty("event"))})),this.setGraph(t)}y.prototype=new r.default,y.prototype.constructor=y,y.prototype.graph=null,y.prototype.bubbling=!0,y.prototype.enabled=!0,y.prototype.updateHandler=null,y.prototype.moveHandler=null,y.prototype.isEnabled=function(){return this.enabled},y.prototype.setEnabled=function(t){this.enabled=t},y.prototype.isBubbling=function(){return this.bubbling},y.prototype.setBubbling=function(t){this.bubbling=t},y.prototype.getGraph=function(){return this.graph},y.prototype.setGraph=function(t){null!=this.graph&&(this.graph.getModel().removeListener(this.undoHandler),this.graph.removeListener(this.moveHandler));(this.graph=t,null!=this.graph)&&(this.graph.getModel().addListener(l.default.BEFORE_UNDO,this.undoHandler),this.graph.addListener(l.default.MOVE_CELLS,this.moveHandler))},y.prototype.getLayout=function(t){return null},y.prototype.beforeUndo=function(t){for(var e=this.getCellsForChanges(t.changes),i=this.getGraph().getModel(),n=[],l=0;l<e.length;l++)n=n.concat(i.getDescendants(e[l]));if(e=n,this.isBubbling())for(n=i.getParents(e);n.length>0;)e=e.concat(n),n=i.getParents(n);this.executeLayoutForCells(e)},y.prototype.executeLayoutForCells=function(t){var e=s.default.sortCells(t,!0);e=e.concat(e.slice().reverse()),this.layoutCells(e)},y.prototype.cellsMoved=function(t,e){if(null!=t&&null!=e)for(var i=s.default.convertPoint(this.getGraph().container,l.default.getClientX(e),l.default.getClientY(e)),n=this.getGraph().getModel(),a=0;a<t.length;a++){var r=n.getParent(t[a]);if(o.default.indexOf(t,r)<0){var u=this.getLayout(r);null!=u&&u.moveCell(t[a],i.x,i.y)}}},y.prototype.getCellsForChanges=function(t){for(var e=new a.default,i=[],n=0;n<t.length;n++){var l=t[n];if(l instanceof c.default)return[];for(var r=this.getCellsForChange(l),o=0;o<r.length;o++)null==r[o]||e.get(r[o])||(e.put(r[o],!0),i.push(r[o]))}return i},y.prototype.getCellsForChange=function(t){var e=this.getGraph().getModel();return t instanceof u.default?[t.child,t.previous,e.getParent(t.child)]:t instanceof p.default||t instanceof h.default?[t.cell,e.getParent(t.cell)]:t instanceof d.default||t instanceof f.default?[t.cell]:[]},y.prototype.layoutCells=function(t){if(t.length>0){var e=this.getGraph().getModel();e.beginUpdate();try{for(var i=null,a=0;a<t.length;a++)t[a]!=e.getRoot()&&t[a]!=i&&this.executeLayout(this.getLayout(t[a]),t[a])&&(i=t[a]);this.fireEvent(new n.default(l.default.LAYOUT_CELLS,"cells",t))}finally{e.endUpdate()}}},y.prototype.executeLayout=function(t,e){var i=!1;return null!=t&&null!=e&&(t.execute(e),i=!0),i},y.prototype.destroy=function(){this.setGraph(null)};e.default=y},300016:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i(742288)),l=a(i(656988));function a(t){return t&&t.__esModule?t:{default:t}}function r(t,e,i){l.default.call(this),this.bounds=t,this.stroke=e,this.strokewidth=null!=i?i:1}n.default.extend(r,l.default),r.prototype.paintVertexShape=function(t,e,i,n,l){var a=i+l/2;t.begin(),t.moveTo(e,a),t.lineTo(e+n,a),t.stroke()};e.default=r},484376:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(241872),i(976896),i(387912),i(690512);var n=o(i(22676)),l=o(i(267456)),a=o(i(710952)),r=o(i(742288));function o(t){return t&&t.__esModule?t:{default:t}}var s={consoleName:"Console",TRACE:!1,DEBUG:!0,WARN:!0,buffer:"",init:function(){if(null==s.window&&null!=document.body){var t=s.consoleName+" - mxGraph "+n.default.VERSION,e=document.createElement("table");e.setAttribute("width","100%"),e.setAttribute("height","100%");var i=document.createElement("tbody"),o=document.createElement("tr"),u=document.createElement("td");u.style.verticalAlign="top",s.textarea=document.createElement("textarea"),s.textarea.setAttribute("readOnly","true"),s.textarea.style.height="100%",s.textarea.style.resize="none",s.textarea.value=s.buffer,n.default.IS_NS&&"BackCompat"!=document.compatMode?s.textarea.style.width="99%":s.textarea.style.width="100%",u.appendChild(s.textarea),o.appendChild(u),i.appendChild(o),o=document.createElement("tr"),s.td=document.createElement("td"),s.td.style.verticalAlign="top",s.td.setAttribute("height","30px"),o.appendChild(s.td),i.appendChild(o),e.appendChild(i),s.addButton("Info",(function(t){s.info()})),s.addButton("DOM",(function(t){var e=r.default.getInnerHtml(document.body);s.debug(e)})),s.addButton("Trace",(function(t){s.TRACE=!s.TRACE,s.TRACE?s.debug("Tracing enabled"):s.debug("Tracing disabled")})),s.addButton("Show",(function(t){try{r.default.popup(s.textarea.value,null,l.default)}catch(t){r.default.alert(t)}})),s.addButton("Clear",(function(t){s.textarea.value=""}));var d=0,h=0;if("number"==typeof window.innerWidth?(d=window.innerHeight,h=window.innerWidth):(d=document.documentElement.clientHeight||document.body.clientHeight,h=document.body.clientWidth),s.window=new l.default(t,e,Math.max(0,h-320),Math.max(0,d-210),300,160),s.window.setMaximizable(!0),s.window.setScrollable(!1),s.window.setResizable(!0),s.window.setClosable(!0),s.window.destroyOnClose=!1,(n.default.IS_NS||n.default.IS_IE)&&!n.default.IS_GC&&!n.default.IS_SF&&"BackCompat"!=document.compatMode||11==document.documentMode){var c=s.window.getElement(),p=function(t,e){s.textarea.style.height=Math.max(0,c.offsetHeight-70)+"px"};s.window.addListener(a.default.RESIZE_END,p),s.window.addListener(a.default.MAXIMIZE,p),s.window.addListener(a.default.NORMALIZE,p),s.textarea.style.height="92px"}}},info:function(){s.writeln(r.default.toString(navigator))},addButton:function(t,e){var i=document.createElement("button");r.default.write(i,t),a.default.addListener(i,"click",e),s.td.appendChild(i)},isVisible:function(){return null!=s.window&&s.window.isVisible()},show:function(){s.setVisible(!0)},setVisible:function(t){null==s.window&&s.init(),null!=s.window&&s.window.setVisible(t)},enter:function(t){if(s.TRACE)return s.writeln("Entering "+t),(new Date).getTime()},leave:function(t,e){if(s.TRACE){var i=0!=e?" ("+((new Date).getTime()-e)+" ms)":"";s.writeln("Leaving "+t+i)}},debug:function(){s.DEBUG&&s.writeln.apply(this,arguments)},warn:function(){s.WARN&&s.writeln.apply(this,arguments)},write:function(){for(var t="",e=0;e<arguments.length;e++)t+=arguments[e],e<arguments.length-1&&(t+=" ");null!=s.textarea?(s.textarea.value=s.textarea.value+t,navigator.userAgent.indexOf("Presto/2.5")>=0&&(s.textarea.style.visibility="hidden",s.textarea.style.visibility="visible"),s.textarea.scrollTop=s.textarea.scrollHeight):s.buffer+=t},writeln:function(){for(var t="",e=0;e<arguments.length;e++)t+=arguments[e],e<arguments.length-1&&(t+=" ");s.write(t+"\n")}};e.default=s},229232:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,l=(n=i(790448))&&n.__esModule?n:{default:n};var a={markers:[],addMarker:function(t,e){a.markers[t]=e},createMarker:function(t,e,i,n,l,r,o,s,u,d){var h=a.markers[i];return null!=h?h(t,e,i,n,l,r,o,s,u,d):null}};!function(){function t(t){return t=null!=t?t:2,function(e,i,n,a,r,o,s,u,d,h){var c=r*d*1.118,p=o*d*1.118;r*=s+d,o*=s+d;var f=a.clone();f.x-=c,f.y-=p;var g=n!=l.default.ARROW_CLASSIC&&n!=l.default.ARROW_CLASSIC_THIN?1:3/4;return a.x+=-r*g-c,a.y+=-o*g-p,function(){e.begin(),e.moveTo(f.x,f.y),e.lineTo(f.x-r-o/t,f.y-o+r/t),n!=l.default.ARROW_CLASSIC&&n!=l.default.ARROW_CLASSIC_THIN||e.lineTo(f.x-3*r/4,f.y-3*o/4),e.lineTo(f.x+o/t-r,f.y-o-r/t),e.close(),h?e.fillAndStroke():e.stroke()}}}function e(t){return t=null!=t?t:2,function(e,i,n,l,a,r,o,s,u,d){var h=a*u*1.118,c=r*u*1.118;a*=o+u,r*=o+u;var p=l.clone();return p.x-=h,p.y-=c,l.x+=2*-h,l.y+=2*-c,function(){e.begin(),e.moveTo(p.x-a-r/t,p.y-r+a/t),e.lineTo(p.x,p.y),e.lineTo(p.x+r/t-a,p.y-r-a/t),e.stroke()}}}function i(t,e,i,n,a,r,o,s,u,d){var h=i===l.default.ARROW_TRIANGLE,c=i==l.default.ARROW_DIAMOND||h?.7071:.9862,p=a*u*c,f=r*u*c;a*=o+u,r*=o+u;var g=n.clone();g.x-=p,g.y-=f,n.x+=(h?0:-a)-p,n.y+=(h?0:-r)-f;var y=i==l.default.ARROW_DIAMOND||h?2:3.4;return function(){t.begin(),t.moveTo(g.x,g.y),t.lineTo(g.x-a/2-r/y,g.y+a/y-r/2),!h&&t.lineTo(g.x-a,g.y-r),t.lineTo(g.x-a/2+r/y,g.y-r/2-a/y),t.close(),d?t.fillAndStroke():t.stroke()}}a.addMarker("classic",t(2)),a.addMarker("classicThin",t(3)),a.addMarker("block",t(2)),a.addMarker("blockThin",t(3)),a.addMarker("open",e(2)),a.addMarker("openThin",e(3)),a.addMarker("oval",(function(t,e,i,n,l,a,r,o,s,u){var d=r/2,h=n.clone();return n.x-=l*d,n.y-=a*d,function(){t.ellipse(h.x-d,h.y-d,r,r),u?t.fillAndStroke():t.stroke()}})),a.addMarker("diamond",i),a.addMarker("diamondThin",i),a.addMarker(l.default.ARROW_TRIANGLE,i)}();e.default=a},139792:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(i(164460)),l=r(i(388968)),a=r(i(39648));function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e,i,n){a.default.call(this,n),this.graph=t,this.steps=null!=e?e:6,this.ease=null!=i?i:1.5}o.prototype=new a.default,o.prototype.constructor=o,o.prototype.graph=null,o.prototype.steps=null,o.prototype.step=0,o.prototype.ease=null,o.prototype.cells=null,o.prototype.updateAnimation=function(){var t=new l.default(this.graph);if(null!=this.cells)for(var e=0;e<this.cells.length;e++)this.animateCell(this.cells[e],t,!1);else this.animateCell(this.graph.getModel().getRoot(),t,!0);this.show(t),(t.isEmpty()||this.step++>=this.steps)&&this.stopAnimation()},o.prototype.show=function(t){t.show()},o.prototype.animateCell=function(t,e,i){var n=this.graph.getView().getState(t),l=null;if(null!=n&&(l=this.getDelta(n),this.graph.getModel().isVertex(t)&&(0!=l.x||0!=l.y))){var a=this.graph.view.getTranslate(),r=this.graph.view.getScale();l.x+=a.x*r,l.y+=a.y*r,e.moveState(n,-l.x/this.ease,-l.y/this.ease)}if(i&&!this.stopRecursion(n,l))for(var o=this.graph.getModel().getChildCount(t),s=0;s<o;s++)this.animateCell(this.graph.getModel().getChildAt(t,s),e,i)},o.prototype.stopRecursion=function(t,e){return null!=e&&(0!=e.x||0!=e.y)},o.prototype.getDelta=function(t){var e=this.getOriginForCell(t.cell),i=this.graph.getView().getTranslate(),l=this.graph.getView().getScale(),a=t.x/l-i.x,r=t.y/l-i.y;return new n.default((e.x-a)*l,(e.y-r)*l)},o.prototype.getOriginForCell=function(t){var e=null;if(null!=t){var i=this.graph.getModel().getParent(t),l=this.graph.getCellGeometry(t);if(e=this.getOriginForCell(i),null!=l)if(l.relative){var a=this.graph.getCellGeometry(i);null!=a&&(e.x+=l.x*a.width,e.y+=l.y*a.height)}else e.x+=l.x,e.y+=l.y}if(null==e){var r=this.graph.view.getTranslate();e=new n.default(-r.x,-r.y)}return e};e.default=o},172636:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(i(22676)),l=r(i(710952)),a=r(i(742288));function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){this.evt=t,this.state=e,this.sourceState=e}o.prototype.consumed=!1,o.prototype.evt=null,o.prototype.graphX=null,o.prototype.graphY=null,o.prototype.state=null,o.prototype.sourceState=null,o.prototype.getEvent=function(){return this.evt},o.prototype.getSource=function(){return l.default.getSource(this.evt)},o.prototype.isSource=function(t){return null!=t&&a.default.isAncestorNode(t.node,this.getSource())},o.prototype.getX=function(){return l.default.getClientX(this.getEvent())},o.prototype.getY=function(){return l.default.getClientY(this.getEvent())},o.prototype.getGraphX=function(){return this.graphX},o.prototype.getGraphY=function(){return this.graphY},o.prototype.getState=function(){return this.state},o.prototype.getCell=function(){var t=this.getState();return null!=t?t.cell:null},o.prototype.isPopupTrigger=function(){return l.default.isPopupTrigger(this.getEvent())},o.prototype.isConsumed=function(){return this.consumed},o.prototype.consume=function(t){(t=null==t||t)&&this.evt.preventDefault&&this.evt.preventDefault(),n.default.IS_IE&&(this.evt.returnValue=!0),this.consumed=!0};e.default=o},904420:function(t,e,i){"use strict";i(182320),i(909112),i(697060),i(743924),i(606200),i(387912),i(78504),i(977864),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(241872),i(885612),i(23544);u(i(280908)),u(i(478780)),u(i(819996)),u(i(409988));var n=u(i(821424)),l=u(i(742288)),a=(u(i(496592)),u(i(790448))),r=(u(i(146880)),u(i(121816))),o=u(i(293792)),s=u(i(484376));function u(t){return t&&t.__esModule?t:{default:t}}function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function h(t,e,i,n){for(var l in this.template=t,this.exclude=null!=e?e:[],this.idrefs=null!=i?i:[],this.mapping=null!=n?n:[],this.reverse=new Object,this.mapping)this.reverse[this.mapping[l]]=l}h.allowEval=!1,h.prototype.template=null,h.prototype.exclude=null,h.prototype.idrefs=null,h.prototype.mapping=null,h.prototype.reverse=null,h.prototype.getName=function(){return l.default.getFunctionName(this.template.constructor)},h.prototype.cloneTemplate=function(){return new this.template.constructor},h.prototype.getFieldName=function(t){if(null!=t){var e=this.reverse[t];null!=e&&(t=e)}return t},h.prototype.getAttributeName=function(t){if(null!=t){var e=this.mapping[t];null!=e&&(t=e)}return t},h.prototype.isExcluded=function(t,e,i,a){return e==n.default.FIELD_NAME||l.default.indexOf(this.exclude,e)>=0},h.prototype.isReference=function(t,e,i,n){return l.default.indexOf(this.idrefs,e)>=0},h.prototype.encode=function(t,e){var i=t.document.createElement(this.getName());return e=this.beforeEncode(t,e,i),this.encodeObject(t,e,i),this.afterEncode(t,e,i)},h.prototype.encodeObject=function(t,e,i){for(var n in t.setAttribute(i,"id",t.getId(e)),e){var a=n,r=e[a];if(null!=r&&!this.isExcluded(e,a,r,!0)){if(l.default.isInteger(a))a=null;else if("function"==typeof e.isContainable&&e.isContainable())if("collapsed"===n)r=!0;else if("geometry"===n){var s=o.default.getStencil(e.getShape(!0));(r=r.clone()).width=s.w0,r.height=s.h0}this.encodeValue(t,e,a,r,i)}}},h.prototype.encodeValue=function(t,e,i,n,l){if(null!=n){if(this.isReference(e,i,n,!0)){var a=t.getId(n);if(null==a)return void s.default.warn("mxObjectCodec.encode: No ID for "+this.getName()+"."+i+"="+n);n=a}var r=this.template[i];(null==i||t.encodeDefaults||r!=n)&&(i=this.getAttributeName(i),this.writeAttribute(t,e,i,n,l))}},h.prototype.writeAttribute=function(t,e,i,n,l){"object"!=d(n)?this.writePrimitiveAttribute(t,e,i,n,l):this.writeComplexAttribute(t,e,i,n,l)},h.prototype.writePrimitiveAttribute=function(t,e,i,n,l){if(n=this.convertAttributeToXml(t,e,i,n,l),null==i){var a=t.document.createElement("add");"function"==typeof n?a.appendChild(t.document.createTextNode(n)):t.setAttribute(a,"value",n),l.appendChild(a)}else"function"!=typeof n&&t.setAttribute(l,i,n)},h.prototype.writeComplexAttribute=function(t,e,i,n,l){var a=t.encode(n);null!=a?(null!=i&&a.setAttribute("as",i),l.appendChild(a)):s.default.warn("mxObjectCodec.encode: No node for "+this.getName()+"."+i+": "+n)},h.prototype.convertAttributeToXml=function(t,e,i,n){return n},h.prototype.isBooleanAttribute=function(t,e,i){var n=e.value;return"true"===n||"false"===n},h.prototype.convertAttributeFromXml=function(t,e,i,n){var l=e.value;return!n&&this.isNumericAttribute(t,e,i)&&(l=parseFloat(l)),this.isBooleanAttribute(t,e,i)&&(l="true"===l),l},h.prototype.isNumericAttribute=function(t,e,i){return l.default.isNumeric(e.value)},h.prototype.beforeEncode=function(t,e,i){return e},h.prototype.afterEncode=function(t,e,i){return i},h.prototype.decode=function(t,e,i){var n=e.getAttribute("id"),l=t.objects[n];return null==l&&(l=i||this.cloneTemplate(),null!=n&&t.putObject(n,l)),e=this.beforeDecode(t,e,l),this.decodeNode(t,e,l),this.afterDecode(t,e,l)},h.prototype.decodeNode=function(t,e,i){null!=e&&(this.decodeAttributes(t,e,i),this.decodeChildren(t,e,i))},h.prototype.decodeAttributes=function(t,e,i){var n=e.attributes,l=this.isBelongToAttribute(e,"properties");if(null!=n)for(var a=0;a<n.length;a++)this.decodeAttribute(t,n[a],i,l)},h.prototype.isBelongToAttribute=function(t,e){for(var i=t,n=["mxCell","mxGeometry","mxGraphModel","mxPoint","mxRectangle"];null!=i&&-1===n.indexOf(i.nodeName);){if(i.getAttribute("as")===e)return!0;i=i.parentNode}return!1},h.prototype.isIgnoredAttribute=function(t,e,i){return"as"==e.nodeName},h.prototype.decodeAttribute=function(t,e,i,n){if(!this.isIgnoredAttribute(t,e,i)){var l=e.nodeName,a=this.convertAttributeFromXml(t,e,i,n),r=this.getFieldName(l);if(this.isReference(i,r,a,!1)){var o=t.getObject(a);if(null==o)return void s.default.warn("mxObjectCodec.decode: No object for "+this.getName()+"."+l+"="+a);a=o}this.isExcluded(i,l,a,!1)||(i[l]=a)}},h.prototype.decodeChildren=function(t,e,i){for(var n=e.firstChild;null!=n;){var l=n.nextSibling;n.nodeType!=a.default.NODETYPE_ELEMENT||this.processInclude(t,n,i)||this.decodeChild(t,n,i),n=l}},h.prototype.decodeChild=function(t,e,i){var n=this.getFieldName(e.getAttribute("as"));if(null==n||!this.isExcluded(i,n,e,!1)){var a=this.getFieldTemplate(i,n,e),r=null;"add"==e.nodeName?null==(r=e.getAttribute("value"))&&h.allowEval&&(r=l.default.eval(l.default.getTextContent(e))):r=t.decode(e,a),this.addObjectValue(i,n,r,a)}},h.prototype.getFieldTemplate=function(t,e,i){var n=t[e];return n instanceof Array&&n.length>0&&(n=null),n},h.prototype.addObjectValue=function(t,e,i,n){null!=i&&i!=n&&(null!=e&&e.length>0?t[e]=i:t.push(i))},h.prototype.processInclude=function(t,e,i){if("include"==e.nodeName){var n=e.getAttribute("name");if(null!=n)try{var l=r.default.load(n).getDocumentElement();null!=l&&t.decode(l,i)}catch(t){}return!0}return!1},h.prototype.beforeDecode=function(t,e,i){return e},h.prototype.afterDecode=function(t,e,i){return i};e.default=h},821424:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(182320),i(909112),i(697060),i(9692),i(743924),i(976896),i(387912),i(78504),i(977864);var n=l(i(742288));function l(t){return t&&t.__esModule?t:{default:t}}function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}var r={FIELD_NAME:l(i(822860)).default.FIELD_NAME,counter:0,get:function(t){if(null!=t){if(null==t[r.FIELD_NAME])if("object"===a(t)){var e=n.default.getFunctionName(t.constructor);t[r.FIELD_NAME]="".concat(e,"_").concat((new Date).getTime(),"_").concat(r.counter++)}else"function"==typeof t&&(t[r.FIELD_NAME]="Function_".concat((new Date).getTime(),"_").concat(r.counter++));return t[r.FIELD_NAME]}return null},clear:function(t){"object"!==a(t)&&"function"!=typeof t||delete t[r.FIELD_NAME]}};e.default=r},479024:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(297336);var n=f(i(22676)),l=f(i(498096)),a=f(i(370608)),r=f(i(164460)),o=f(i(172636)),s=f(i(742288)),u=f(i(247644)),d=f(i(833800)),h=f(i(790448)),c=f(i(132448)),p=f(i(794644));function f(t){return t&&t.__esModule?t:{default:t}}function g(t,e){this.source=t,null!=e&&this.init(e)}g.prototype.source=null,g.prototype.outline=null,g.prototype.graphRenderHint=h.default.RENDERING_HINT_FASTER,g.prototype.enabled=!0,g.prototype.showViewport=!0,g.prototype.border=10,g.prototype.sizerSize=8,g.prototype.labelsVisible=!1,g.prototype.updateOnPan=!1,g.prototype.sizerImage=null,g.prototype.minScale=1e-4,g.prototype.suspended=!1,g.prototype.forceVmlHandles=8==document.documentMode,g.prototype.createGraph=function(t){var e=new l.default(t,this.source.getModel(),this.graphRenderHint,this.source.getStylesheet());return e.foldingEnabled=!1,e.autoScroll=!1,e},g.prototype.init=function(t){this.outline=this.createGraph(t);var e=this.outline.graphModelChanged;if(this.outline.graphModelChanged=s.default.bind(this,(function(t){this.suspended||null==this.outline||e.apply(this.outline,arguments)})),n.default.IS_SVG){var i=this.outline.getView().getCanvas().parentNode;i.setAttribute("shape-rendering","optimizeSpeed"),i.setAttribute("image-rendering","optimizeSpeed")}this.outline.labelsVisible=this.labelsVisible,this.outline.setEnabled(!1),this.updateHandler=s.default.bind(this,(function(t,e){this.suspended||this.active||this.update()})),this.source.getModel().addListener(a.default.CHANGE,this.updateHandler),this.outline.addMouseListener(this);var l=this.source.getView();l.addListener(a.default.SCALE,this.updateHandler),l.addListener(a.default.TRANSLATE,this.updateHandler),l.addListener(a.default.SCALE_AND_TRANSLATE,this.updateHandler),l.addListener(a.default.DOWN,this.updateHandler),l.addListener(a.default.UP,this.updateHandler),a.default.addListener(this.source.container,"scroll",this.updateHandler),this.panHandler=s.default.bind(this,(function(t){this.updateOnPan&&this.updateHandler.apply(this,arguments)})),this.source.addListener(a.default.PAN,this.panHandler),this.refreshHandler=s.default.bind(this,(function(t){this.outline.setStylesheet(this.source.getStylesheet()),this.outline.refresh()})),this.source.addListener(a.default.REFRESH,this.refreshHandler),this.bounds=new u.default(0,0,0,0),this.selectionBorder=new d.default(this.bounds,null,h.default.OUTLINE_COLOR,h.default.OUTLINE_STROKEWIDTH),this.selectionBorder.dialect=this.outline.dialect,this.forceVmlHandles&&(this.selectionBorder.isHtmlAllowed=function(){return!1}),this.selectionBorder.init(this.outline.getView().getOverlayPane());var r=s.default.bind(this,(function(t){var e=a.default.getSource(t),i=s.default.bind(this,(function(t){this.outline.fireMouseEvent(a.default.MOUSE_MOVE,new o.default(t))})),n=s.default.bind(this,(function(t){a.default.removeGestureListeners(e,null,i,n),this.outline.fireMouseEvent(a.default.MOUSE_UP,new o.default(t))}));a.default.addGestureListeners(e,null,i,n),this.outline.fireMouseEvent(a.default.MOUSE_DOWN,new o.default(t))}));a.default.addGestureListeners(this.selectionBorder.node,r),this.sizer=this.createSizer(),this.forceVmlHandles&&(this.sizer.isHtmlAllowed=function(){return!1}),this.sizer.init(this.outline.getView().getOverlayPane()),this.enabled&&(this.sizer.node.style.cursor="nwse-resize"),a.default.addGestureListeners(this.sizer.node,r),this.selectionBorder.node.style.display=this.showViewport?"":"none",this.sizer.node.style.display=this.selectionBorder.node.style.display,this.selectionBorder.node.style.cursor="move",this.update(!1)},g.prototype.isEnabled=function(){return this.enabled},g.prototype.setEnabled=function(t){this.enabled=t},g.prototype.setZoomEnabled=function(t){this.sizer.node.style.visibility=t?"visible":"hidden"},g.prototype.refresh=function(){this.update(!0)},g.prototype.createSizer=function(){var t;return null!=this.sizerImage?((t=new p.default(new u.default(0,0,this.sizerImage.width,this.sizerImage.height),this.sizerImage.src)).dialect=this.outline.dialect,t):((t=new d.default(new u.default(0,0,this.sizerSize,this.sizerSize),h.default.OUTLINE_HANDLE_FILLCOLOR,h.default.OUTLINE_HANDLE_STROKECOLOR)).dialect=this.outline.dialect,t)},g.prototype.getSourceContainerSize=function(){return new u.default(0,0,this.source.container.scrollWidth,this.source.container.scrollHeight)},g.prototype.getOutlineOffset=function(t){return null},g.prototype.getSourceGraphBounds=function(){return this.source.getGraphBounds()},g.prototype.update=function(t){if(null!=this.source&&null!=this.outline){var e=this.source.view.scale,i=this.getSourceGraphBounds(),n=new u.default(i.x/e+this.source.panDx,i.y/e+this.source.panDy,i.width/e,i.height/e),l=new u.default(0,0,this.source.container.clientWidth/e,this.source.container.clientHeight/e),a=n.clone();a.add(l);var r=this.getSourceContainerSize(),o=Math.max(r.width/e,a.width),s=Math.max(r.height/e,a.height),d=Math.max(0,this.outline.container.clientWidth-this.border),h=Math.max(0,this.outline.container.clientHeight-this.border),c=Math.min(d/o,h/s),p=isNaN(c)?this.minScale:Math.max(this.minScale,c);if(p>0){this.outline.getView().scale!=p&&(this.outline.getView().scale=p,t=!0);var f=this.outline.getView();f.currentRoot!=this.source.getView().currentRoot&&f.setCurrentRoot(this.source.getView().currentRoot);var g=this.source.view.translate,y=g.x+this.source.panDx,m=g.y+this.source.panDy,v=this.getOutlineOffset(p);null!=v&&(y+=v.x,m+=v.y),n.x<0&&(y-=n.x),n.y<0&&(m-=n.y),f.translate.x==y&&f.translate.y==m||(f.translate.x=y,f.translate.y=m,t=!0);var E=f.translate,b=(p=this.source.getView().scale)/f.scale,S=1/f.scale,w=this.source.container;this.bounds=new u.default((E.x-g.x-this.source.panDx)/S,(E.y-g.y-this.source.panDy)/S,w.clientWidth/b,w.clientHeight/b),this.bounds.x+=this.source.container.scrollLeft*f.scale/p,this.bounds.y+=this.source.container.scrollTop*f.scale/p,(A=this.selectionBorder.bounds).x==this.bounds.x&&A.y==this.bounds.y&&A.width==this.bounds.width&&A.height==this.bounds.height||(this.selectionBorder.bounds=this.bounds,this.selectionBorder.redraw());var A=this.sizer.bounds,C=new u.default(this.bounds.x+this.bounds.width-A.width/2,this.bounds.y+this.bounds.height-A.height/2,A.width,A.height);A.x==C.x&&A.y==C.y&&A.width==C.width&&A.height==C.height||(this.sizer.bounds=C,"hidden"!=this.sizer.node.style.visibility&&this.sizer.redraw()),t&&this.outline.view.revalidate()}}},g.prototype.mouseDown=function(t,e){if(this.enabled&&this.showViewport){var i=a.default.isMouseEvent(e.getEvent())?0:this.source.tolerance,l=this.source.allowHandleBoundsCheck&&(n.default.IS_IE||i>0)?new u.default(e.getGraphX()-i,e.getGraphY()-i,2*i,2*i):null;this.zoom=e.isSource(this.sizer)||null!=l&&c.default.intersects(shape.bounds,l),this.startX=e.getX(),this.startY=e.getY(),this.active=!0,this.source.useScrollbarsForPanning&&c.default.hasScrollbars(this.source.container)?(this.dx0=this.source.container.scrollLeft,this.dy0=this.source.container.scrollTop):(this.dx0=0,this.dy0=0)}e.consume()},g.prototype.mouseMove=function(t,e){if(this.active){this.selectionBorder.node.style.display=this.showViewport?"":"none",this.sizer.node.style.display=this.selectionBorder.node.style.display;var i=this.getTranslateForEvent(e),n=i.x,l=i.y,a=null;if(this.zoom){var r=this.source.container;l=n/(r.clientWidth/r.clientHeight),a=new u.default(this.bounds.x,this.bounds.y,Math.max(1,this.bounds.width+n),Math.max(1,this.bounds.height+l)),this.selectionBorder.bounds=a,this.selectionBorder.redraw()}else{var o=this.outline.getView().scale;a=new u.default(this.bounds.x+n,this.bounds.y+l,this.bounds.width,this.bounds.height),this.selectionBorder.bounds=a,this.selectionBorder.redraw(),n/=o,n*=this.source.getView().scale,l/=o,l*=this.source.getView().scale,this.source.panGraph(-n-this.dx0,-l-this.dy0)}var s=this.sizer.bounds;this.sizer.bounds=new u.default(a.x+a.width-s.width/2,a.y+a.height-s.height/2,s.width,s.height),"hidden"!=this.sizer.node.style.visibility&&this.sizer.redraw(),e.consume()}},g.prototype.getTranslateForEvent=function(t){return new r.default(t.getX()-this.startX,t.getY()-this.startY)},g.prototype.mouseUp=function(t,e){if(this.active){var i=this.getTranslateForEvent(e),n=i.x,l=i.y;if(Math.abs(n)>0||Math.abs(l)>0){if(this.zoom){var a=this.selectionBorder.bounds.width,r=this.source.getView().scale;this.source.zoomTo(Math.max(this.minScale,r-n*r/a),!1)}else if(!this.source.useScrollbarsForPanning||!c.default.hasScrollbars(this.source.container)){this.source.panGraph(0,0),n/=this.outline.getView().scale,l/=this.outline.getView().scale;var o=this.source.getView().translate;this.source.getView().setTranslate(o.x-n,o.y-l)}this.update(),e.consume()}this.index=null,this.active=!1}},g.prototype.destroy=function(){null!=this.source&&(this.source.removeListener(this.panHandler),this.source.removeListener(this.refreshHandler),this.source.getModel().removeListener(this.updateHandler),this.source.getView().removeListener(this.updateHandler),a.default.addListener(this.source.container,"scroll",this.updateHandler),this.source=null),null!=this.outline&&(this.outline.removeMouseListener(this),this.outline.destroy(),this.outline=null),null!=this.selectionBorder&&(this.selectionBorder.destroy(),this.selectionBorder=null),null!=this.sizer&&(this.sizer.destroy(),this.sizer=null)};e.default=g},593152:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(297336);var n=s(i(995048)),l=s(i(370608)),a=s(i(39864)),r=s(i(742288)),o=s(i(132448));function s(t){return t&&t.__esModule?t:{default:t}}function u(t){null!=t&&(this.graph=t,this.graph.addMouseListener(this),this.forcePanningHandler=r.default.bind(this,(function(t,e){var i=e.getProperty("eventName"),a=e.getProperty("event");i==l.default.MOUSE_DOWN&&this.isForcePanningEvent(a)&&(this.start(a),this.active=!0,this.fireEvent(new n.default(l.default.PAN_START,"event",a)),a.consume())})),this.graph.addListener(l.default.FIRE_MOUSE_EVENT,this.forcePanningHandler),this.gestureHandler=r.default.bind(this,(function(t,e){if(this.isPinchEnabled()){var i=e.getProperty("event");if(l.default.isConsumed(i)||"gesturestart"!=i.type?"gestureend"==i.type&&null==this.initialScale&&(this.initialScale=null):(this.initialScale=this.graph.view.scale,this.active||null==this.mouseDownEvent||(this.start(this.mouseDownEvent),this.mouseDownEvent=null)),null!=this.initialScale){var n=Math.round(this.initialScale*i.scale*100)/100;null!=this.minScale&&(n=Math.max(this.minScale,n)),null!=this.maxScale&&(n=Math.min(this.maxScale,n)),this.graph.view.scale!=n&&(this.graph.zoomTo(n),l.default.consume(i))}}})),this.graph.addListener(l.default.GESTURE,this.gestureHandler))}u.prototype=new a.default,u.prototype.constructor=u,u.prototype.graph=null,u.prototype.useLeftButtonForPanning=!1,u.prototype.usePopupTrigger=!0,u.prototype.ignoreCell=!1,u.prototype.previewEnabled=!0,u.prototype.useGrid=!1,u.prototype.panningEnabled=!0,u.prototype.pinchEnabled=!0,u.prototype.maxScale=8,u.prototype.minScale=.01,u.prototype.dx=null,u.prototype.dy=null,u.prototype.startX=0,u.prototype.startY=0,u.prototype.isActive=function(){return this.active||null!=this.initialScale},u.prototype.isPanningEnabled=function(){return this.panningEnabled},u.prototype.setPanningEnabled=function(t){this.panningEnabled=t},u.prototype.isPinchEnabled=function(){return this.pinchEnabled},u.prototype.setPinchEnabled=function(t){this.pinchEnabled=t},u.prototype.isPanningTrigger=function(t){var e=t.getEvent();return this.useLeftButtonForPanning&&null==t.getState()&&l.default.isLeftMouseButton(e)||l.default.isControlDown(e)&&l.default.isShiftDown(e)||this.usePopupTrigger&&l.default.isPopupTrigger(e)},u.prototype.isForcePanningEvent=function(t){return this.ignoreCell||l.default.isMultiTouchEvent(t.getEvent())},u.prototype.mouseDown=function(t,e){this.mouseDownEvent=e,!e.isConsumed()&&this.isPanningEnabled()&&!this.active&&this.isPanningTrigger(e)&&(this.start(e),this.consumePanningTrigger(e))},u.prototype.start=function(t){this.dx0=-this.graph.container.scrollLeft,this.dy0=-this.graph.container.scrollTop,this.startX=t.getX(),this.startY=t.getY(),this.dx=null,this.dy=null,this.panningTrigger=!0},u.prototype.consumePanningTrigger=function(t){t.consume()},u.prototype.mouseMove=function(t,e){if(this.dx=e.getX()-this.startX,this.dy=e.getY()-this.startY,this.active)this.previewEnabled&&(this.useGrid&&(this.dx=this.graph.snap(this.dx),this.dy=this.graph.snap(this.dy)),this.graph.panGraph(this.dx+this.dx0,this.dy+this.dy0)),this.fireEvent(new n.default(l.default.PAN,"event",e));else if(this.panningTrigger){var i=this.active;this.active=Math.abs(this.dx)>this.graph.tolerance||Math.abs(this.dy)>this.graph.tolerance,!i&&this.active&&this.fireEvent(new n.default(l.default.PAN_START,"event",e))}(this.active||this.panningTrigger)&&e.consume()},u.prototype.mouseUp=function(t,e){if(this.active){if(null!=this.dx&&null!=this.dy){if(!this.graph.useScrollbarsForPanning||!o.default.hasScrollbars(this.graph.container)){var i=this.graph.getView().scale,a=this.graph.getView().translate;this.graph.panGraph(0,0),this.panGraph(a.x+this.dx/i,a.y+this.dy/i)}e.consume()}this.fireEvent(new n.default(l.default.PAN_END,"event",e))}this.panningTrigger=!1,this.mouseDownEvent=null,this.active=!1,this.dx=null,this.dy=null},u.prototype.panGraph=function(t,e){this.graph.getView().setTranslate(t,e)},u.prototype.destroy=function(){this.graph.removeMouseListener(this),this.graph.removeListener(this.forcePanningHandler),this.graph.removeListener(this.gestureHandler)};e.default=u},28096:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(297336),i(86744);var n=o(i(995048)),l=o(i(370608)),a=o(i(742288)),r=o(i(132448));function o(t){return t&&t.__esModule?t:{default:t}}function s(t){this.thread=null,this.active=!1,this.tdx=0,this.tdy=0,this.t0x=0,this.t0y=0,this.dx=0,this.dy=0,this.scrollbars=!1,this.scrollLeft=0,this.scrollTop=0,this.mouseListener={mouseDown:function(t,e){},mouseMove:function(t,e){},mouseUp:a.default.bind(this,(function(t,e){this.active&&this.stop()}))},t.addMouseListener(this.mouseListener),l.default.addListener(document,"mouseup",a.default.bind(this,(function(){this.active&&this.stop()})));var e=a.default.bind(this,(function(){return this.scrollbars=r.default.hasScrollbars(t.container),this.scrollLeft=t.container.scrollLeft,this.scrollTop=t.container.scrollTop,window.setInterval(a.default.bind(this,(function(){if(this.tdx-=this.dx,this.tdy-=this.dy,this.scrollbars){var e=-t.container.scrollLeft-Math.ceil(this.dx),i=-t.container.scrollTop-Math.ceil(this.dy);t.panGraph(e,i),t.panDx=this.scrollLeft-t.container.scrollLeft,t.panDy=this.scrollTop-t.container.scrollTop,t.fireEvent(new n.default(l.default.PAN))}else t.panGraph(this.getDx(),this.getDy())})),this.delay)}));this.isActive=function(){return active},this.getDx=function(){return Math.round(this.tdx)},this.getDy=function(){return Math.round(this.tdy)},this.start=function(){this.t0x=t.view.translate.x,this.t0y=t.view.translate.y,this.active=!0},this.panTo=function(i,n,l,a){this.active||this.start(),this.scrollLeft=t.container.scrollLeft,this.scrollTop=t.container.scrollTop,l=null!=l?l:0,a=null!=a?a:0;var r=t.container;this.dx=i+l-r.scrollLeft-r.clientWidth,this.dx<0&&Math.abs(this.dx)<this.border?this.dx=this.border+this.dx:this.handleMouseOut?this.dx=Math.max(this.dx,0):this.dx=0,0==this.dx&&(this.dx=i-r.scrollLeft,this.dx>0&&this.dx<this.border?this.dx=this.dx-this.border:this.handleMouseOut?this.dx=Math.min(0,this.dx):this.dx=0),this.dy=n+a-r.scrollTop-r.clientHeight,this.dy<0&&Math.abs(this.dy)<this.border?this.dy=this.border+this.dy:this.handleMouseOut?this.dy=Math.max(this.dy,0):this.dy=0,0==this.dy&&(this.dy=n-r.scrollTop,this.dy>0&&this.dy<this.border?this.dy=this.dy-this.border:this.handleMouseOut?this.dy=Math.min(0,this.dy):this.dy=0),0!=this.dx||0!=this.dy?(this.dx*=this.damper,this.dy*=this.damper,null==this.thread&&(this.thread=e())):null!=this.thread&&(window.clearInterval(this.thread),this.thread=null)},this.stop=function(){if(this.active)if(this.active=!1,null!=this.thread&&(window.clearInterval(this.thread),this.thread=null),this.tdx=0,this.tdy=0,this.scrollbars)t.panDx=0,t.panDy=0,t.fireEvent(new n.default(l.default.PAN));else{var e=t.panDx,i=t.panDy;0==e&&0==i||(t.panGraph(0,0),t.view.setTranslate(this.t0x+e/t.view.scale,this.t0y+i/t.view.scale))}},this.destroy=function(){t.removeMouseListener(this.mouseListener)}}s.prototype.damper=1/6,s.prototype.delay=10,s.prototype.handleMouseOut=!0,s.prototype.border=0;e.default=s},810104:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(571176);var n=o(i(164460)),l=o(i(742288)),a=o(i(790448)),r=o(i(132448));function o(t){return t&&t.__esModule?t:{default:t}}var s={RectanglePerimeter:function(t,e,i,l){var a=t.getCenterX(),r=t.getCenterY(),o=i.x-a,s=i.y-r,u=Math.atan2(s,o),d=new n.default(0,0),h=Math.PI,c=Math.PI/2-u,p=Math.atan2(t.height,t.width);return u<-h+p||u>h-p?(d.x=t.x,d.y=r-t.width*Math.tan(u)/2):u<-p?(d.y=t.y,d.x=a-t.height*Math.tan(c)/2):u<p?(d.x=t.x+t.width,d.y=r+t.width*Math.tan(u)/2):(d.y=t.y+t.height,d.x=a+t.height*Math.tan(c)/2),l&&(i.x>=t.x&&i.x<=t.x+t.width?d.x=i.x:i.y>=t.y&&i.y<=t.y+t.height&&(d.y=i.y),i.x<t.x?d.x=t.x:i.x>t.x+t.width&&(d.x=t.x+t.width),i.y<t.y?d.y=t.y:i.y>t.y+t.height&&(d.y=t.y+t.height)),d},EllipsePerimeter:function(t,e,i,l){var a=t.x,r=t.y,o=t.width/2,s=t.height/2,u=a+o,d=r+s,h=i.x,c=i.y,p=parseInt(h-u),f=parseInt(c-d);if(0==p&&0!=f)return new n.default(u,d+s*f/Math.abs(f));if(0==p&&0==f)return new n.default(h,c);if(l){if(c>=r&&c<=r+t.height){var g=c-d,y=Math.sqrt(o*o*(1-g*g/(s*s)))||0;return h<=a&&(y=-y),new n.default(u+y,c)}if(h>=a&&h<=a+t.width){y=h-u,g=Math.sqrt(s*s*(1-y*y/(o*o)))||0;return c<=r&&(g=-g),new n.default(h,d+g)}}var m=f/p,v=d-m*u,E=o*o*m*m+s*s,b=-2*u*E,S=o*o*m*m*u*u+s*s*u*u-o*o*s*s,w=Math.sqrt(b*b-4*E*S),A=(-b+w)/(2*E),C=(-b-w)/(2*E),T=m*A+v,M=m*C+v,x=0,I=0;return Math.sqrt(Math.pow(A-h,2)+Math.pow(T-c,2))<Math.sqrt(Math.pow(C-h,2)+Math.pow(M-c,2))?(x=A,I=T):(x=C,I=M),new n.default(x,I)},RhombusPerimeter:function(t,e,i,l){var a=t.x,o=t.y,s=t.width,u=t.height,d=a+s/2,h=o+u/2,c=i.x,p=i.y;if(d==c)return h>p?new n.default(d,o):new n.default(d,o+u);if(h==p)return d>c?new n.default(a,h):new n.default(a+s,h);var f=d,g=h;return l&&(c>=a&&c<=a+s?f=c:p>=o&&p<=o+u&&(g=p)),c<d?p<h?r.default.intersection(c,p,f,g,d,o,a,h):r.default.intersection(c,p,f,g,d,o+u,a,h):p<h?r.default.intersection(c,p,f,g,d,o,a+s,h):r.default.intersection(c,p,f,g,d,o+u,a+s,h)},TrianglePerimeter:function(t,e,i,l){var o=null!=e?e.style[a.default.STYLE_DIRECTION]:null,s=o==a.default.DIRECTION_NORTH||o==a.default.DIRECTION_SOUTH,u=t.x,d=t.y,h=t.width,c=t.height,p=u+h/2,f=d+c/2,g=new n.default(u,d),y=new n.default(u+h,f),m=new n.default(u,d+c);o==a.default.DIRECTION_NORTH?(g=m,y=new n.default(p,d),m=new n.default(u+h,d+c)):o==a.default.DIRECTION_SOUTH?(y=new n.default(p,d+c),m=new n.default(u+h,d)):o==a.default.DIRECTION_WEST&&(g=new n.default(u+h,d),y=new n.default(u,f),m=new n.default(u+h,d+c));var v=i.x-p,E=i.y-f,b=s?Math.atan2(v,E):Math.atan2(E,v),S=s?Math.atan2(h,c):Math.atan2(c,h),w=null;if(o==a.default.DIRECTION_NORTH||o==a.default.DIRECTION_WEST?b>-S&&b<S:b<-Math.PI+S||b>Math.PI-S)w=l&&(s&&i.x>=g.x&&i.x<=m.x||!s&&i.y>=g.y&&i.y<=m.y)?s?new n.default(i.x,g.y):new n.default(g.x,i.y):o==a.default.DIRECTION_NORTH?new n.default(u+h/2+c*Math.tan(b)/2,d+c):o==a.default.DIRECTION_SOUTH?new n.default(u+h/2-c*Math.tan(b)/2,d):o==a.default.DIRECTION_WEST?new n.default(u+h,d+c/2+h*Math.tan(b)/2):new n.default(u,d+c/2-h*Math.tan(b)/2);else{if(l){var A=new n.default(p,f);i.y>=d&&i.y<=d+c?(A.x=s?p:o==a.default.DIRECTION_WEST?u+h:u,A.y=i.y):i.x>=u&&i.x<=u+h&&(A.x=i.x,A.y=s?o==a.default.DIRECTION_NORTH?d+c:d:f),v=i.x-A.x,E=i.y-A.y,p=A.x,f=A.y}w=s&&i.x<=u+h/2||!s&&i.y<=d+c/2?r.default.intersection(i.x,i.y,p,f,g.x,g.y,y.x,y.y):r.default.intersection(i.x,i.y,p,f,y.x,y.y,m.x,m.y)}return null==w&&(w=new n.default(p,f)),w},HexagonPerimeter:function(t,e,i,o){var s=t.x,u=t.y,d=t.width,h=t.height,c=t.getCenterX(),p=t.getCenterY(),f=i.x,g=i.y,y=f-c,m=g-p,v=-Math.atan2(m,y),E=Math.PI,b=Math.PI/2,S=new n.default(c,p),w=null!=e?l.default.getValue(e.style,a.default.STYLE_DIRECTION,a.default.DIRECTION_EAST):a.default.DIRECTION_EAST,A=w==a.default.DIRECTION_NORTH||w==a.default.DIRECTION_SOUTH,C=new n.default,T=new n.default;if((f<s&&g<u||f<s&&g>u+h||f>s+d&&g<u||f>s+d&&g>u+h)&&(o=!1),o){if(A){if(f==c){if(g<=u)return new n.default(c,u);if(g>=u+h)return new n.default(c,u+h)}else if(f<s){if(g==u+h/4)return new n.default(s,u+h/4);if(g==u+3*h/4)return new n.default(s,u+3*h/4)}else if(f>s+d){if(g==u+h/4)return new n.default(s+d,u+h/4);if(g==u+3*h/4)return new n.default(s+d,u+3*h/4)}else if(f==s){if(g<p)return new n.default(s,u+h/4);if(g>p)return new n.default(s,u+3*h/4)}else if(f==s+d){if(g<p)return new n.default(s+d,u+h/4);if(g>p)return new n.default(s+d,u+3*h/4)}if(g==u)return new n.default(c,u);if(g==u+h)return new n.default(c,u+h);f<c?g>u+h/4&&g<u+3*h/4?(C=new n.default(s,u),T=new n.default(s,u+h)):g<u+h/4?(C=new n.default(s-Math.floor(.5*d),u+Math.floor(.5*h)),T=new n.default(s+d,u-Math.floor(.25*h))):g>u+3*h/4&&(C=new n.default(s-Math.floor(.5*d),u+Math.floor(.5*h)),T=new n.default(s+d,u+Math.floor(1.25*h))):f>c&&(g>u+h/4&&g<u+3*h/4?(C=new n.default(s+d,u),T=new n.default(s+d,u+h)):g<u+h/4?(C=new n.default(s,u-Math.floor(.25*h)),T=new n.default(s+Math.floor(1.5*d),u+Math.floor(.5*h))):g>u+3*h/4&&(C=new n.default(s+Math.floor(1.5*d),u+Math.floor(.5*h)),T=new n.default(s,u+Math.floor(1.25*h))))}else{if(g==p){if(f<=s)return new n.default(s,u+h/2);if(f>=s+d)return new n.default(s+d,u+h/2)}else if(g<u){if(f==s+d/4)return new n.default(s+d/4,u);if(f==s+3*d/4)return new n.default(s+3*d/4,u)}else if(g>u+h){if(f==s+d/4)return new n.default(s+d/4,u+h);if(f==s+3*d/4)return new n.default(s+3*d/4,u+h)}else if(g==u){if(f<c)return new n.default(s+d/4,u);if(f>c)return new n.default(s+3*d/4,u)}else if(g==u+h){if(f<c)return new n.default(s+d/4,u+h);if(g>p)return new n.default(s+3*d/4,u+h)}if(f==s)return new n.default(s,p);if(f==s+d)return new n.default(s+d,p);g<p?f>s+d/4&&f<s+3*d/4?(C=new n.default(s,u),T=new n.default(s+d,u)):f<s+d/4?(C=new n.default(s-Math.floor(.25*d),u+h),T=new n.default(s+Math.floor(.5*d),u-Math.floor(.5*h))):f>s+3*d/4&&(C=new n.default(s+Math.floor(.5*d),u-Math.floor(.5*h)),T=new n.default(s+Math.floor(1.25*d),u+h)):g>p&&(f>s+d/4&&f<s+3*d/4?(C=new n.default(s,u+h),T=new n.default(s+d,u+h)):f<s+d/4?(C=new n.default(s-Math.floor(.25*d),u),T=new n.default(s+Math.floor(.5*d),u+Math.floor(1.5*h))):f>s+3*d/4&&(C=new n.default(s+Math.floor(.5*d),u+Math.floor(1.5*h)),T=new n.default(s+Math.floor(1.25*d),u)))}var M=c,x=p;f>=s&&f<=s+d?(M=f,x=g<p?u+h:u):g>=u&&g<=u+h&&(x=g,M=f<c?s+d:s),S=r.default.intersection(M,x,i.x,i.y,C.x,C.y,T.x,T.y)}else{if(A){if(v==(I=Math.atan2(h/4,d/2)))return new n.default(s+d,u+Math.floor(.25*h));if(v==b)return new n.default(s+Math.floor(.5*d),u);if(v==E-I)return new n.default(s,u+Math.floor(.25*h));if(v==-I)return new n.default(s+d,u+Math.floor(.75*h));if(v==-b)return new n.default(s+Math.floor(.5*d),u+h);if(v==-E+I)return new n.default(s,u+Math.floor(.75*h));v<I&&v>-I?(C=new n.default(s+d,u),T=new n.default(s+d,u+h)):v>I&&v<b?(C=new n.default(s,u-Math.floor(.25*h)),T=new n.default(s+Math.floor(1.5*d),u+Math.floor(.5*h))):v>b&&v<E-I?(C=new n.default(s-Math.floor(.5*d),u+Math.floor(.5*h)),T=new n.default(s+d,u-Math.floor(.25*h))):v>E-I&&v<=E||v<-E+I&&v>=-E?(C=new n.default(s,u),T=new n.default(s,u+h)):v<-I&&v>-b?(C=new n.default(s+Math.floor(1.5*d),u+Math.floor(.5*h)),T=new n.default(s,u+Math.floor(1.25*h))):v<-b&&v>-E+I&&(C=new n.default(s-Math.floor(.5*d),u+Math.floor(.5*h)),T=new n.default(s+d,u+Math.floor(1.25*h)))}else{var I;if(v==(I=Math.atan2(h/2,d/4)))return new n.default(s+Math.floor(.75*d),u);if(v==E-I)return new n.default(s+Math.floor(.25*d),u);if(v==E||v==-E)return new n.default(s,u+Math.floor(.5*h));if(0==v)return new n.default(s+d,u+Math.floor(.5*h));if(v==-I)return new n.default(s+Math.floor(.75*d),u+h);if(v==-E+I)return new n.default(s+Math.floor(.25*d),u+h);v>0&&v<I?(C=new n.default(s+Math.floor(.5*d),u-Math.floor(.5*h)),T=new n.default(s+Math.floor(1.25*d),u+h)):v>I&&v<E-I?(C=new n.default(s,u),T=new n.default(s+d,u)):v>E-I&&v<E?(C=new n.default(s-Math.floor(.25*d),u+h),T=new n.default(s+Math.floor(.5*d),u-Math.floor(.5*h))):v<0&&v>-I?(C=new n.default(s+Math.floor(.5*d),u+Math.floor(1.5*h)),T=new n.default(s+Math.floor(1.25*d),u)):v<-I&&v>-E+I?(C=new n.default(s,u+h),T=new n.default(s+d,u+h)):v<-E+I&&v>-E&&(C=new n.default(s-Math.floor(.25*d),u),T=new n.default(s+Math.floor(.5*d),u+Math.floor(1.5*h)))}S=r.default.intersection(c,p,i.x,i.y,C.x,C.y,T.x,T.y)}return null==S?new n.default(c,p):S}};e.default=s},164460:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,l=(n=i(742288))&&n.__esModule?n:{default:n};function a(t,e){this.x=null!=t?t:0,this.y=null!=e?e:0}a.prototype.x=null,a.prototype.y=null,a.prototype.equals=function(t){return null!=t&&t.x==this.x&&t.y==this.y},a.prototype.clone=function(){return l.default.clone(this)},a.getName=function(){return"mxPoint"};e.default=a},780208:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(i(742288)),l=r(i(656988)),a=r(i(790448));function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e,i){l.default.call(this),this.points=t,this.stroke=e,this.strokewidth=null!=i?i:1}n.default.extend(o,l.default),o.prototype.getRotation=function(){return 0},o.prototype.getShapeRotation=function(){return 0},o.prototype.isPaintBoundsInverted=function(){return!1},o.prototype.paintEdgeShape=function(t,e){null==this.style||1!=this.style[a.default.STYLE_CURVED]?this.paintLine(t,e,this.isRounded):this.paintCurvedLine(t,e)},o.prototype.paintLine=function(t,e,i){var l=n.default.getValue(this.style,a.default.STYLE_ARCSIZE,a.default.LINE_ARCSIZE)/2;t.begin(),this.addPoints(t,e,i,l,!1),t.stroke()},o.prototype.paintCurvedLine=function(t,e){t.begin();var i=e[0],n=e.length;t.moveTo(i.x,i.y);for(var l=1;l<n-2;l++){var a=e[l],r=e[l+1],o=(a.x+r.x)/2,s=(a.y+r.y)/2;t.quadTo(a.x,a.y,o,s)}a=e[n-2],r=e[n-1];t.quadTo(a.x,a.y,r.x,r.y),t.stroke()};e.default=o},300511:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(622676),i(297336),i(387912),i(571176);var n=u(i(995048)),l=u(i(22676)),a=u(i(370608)),r=u(i(39864)),o=u(i(742288)),s=u(i(132448));function u(t){return t&&t.__esModule?t:{default:t}}function d(t){this.factoryMethod=t,null!=t&&this.init()}d.prototype=new r.default,d.prototype.constructor=d,d.prototype.submenuImage=l.default.imageBasePath+"/submenu.gif",d.prototype.zIndex=10006,d.prototype.factoryMethod=null,d.prototype.useLeftButtonForPopup=!1,d.prototype.enabled=!0,d.prototype.itemCount=0,d.prototype.autoExpand=!1,d.prototype.smartSeparators=!1,d.prototype.labels=!0,d.prototype.init=function(){this.table=document.createElement("table"),this.table.className="mxPopupMenu",this.tbody=document.createElement("tbody"),this.table.appendChild(this.tbody),this.div=document.createElement("div"),this.div.className="mxPopupMenu",this.div.style.display="inline",this.div.style.zIndex=this.zIndex,this.div.appendChild(this.table),a.default.disableContextMenu(this.div)},d.prototype.isEnabled=function(){return this.enabled},d.prototype.setEnabled=function(t){this.enabled=t},d.prototype.isPopupTrigger=function(t){return t.isPopupTrigger()||this.useLeftButtonForPopup&&a.default.isLeftMouseButton(t.getEvent())},d.prototype.addItem=function(t,e,i,n,r,s,u){n=n||this,this.itemCount++,n.willAddSeparator&&(n.containsItems&&this.addSeparator(n,!0),n.willAddSeparator=!1),n.containsItems=!0;var d=document.createElement("tr");d.className="mxPopupMenuItem";var h=document.createElement("td");if(h.className="mxPopupMenuIcon",null!=e){var c=document.createElement("img");c.src=e,h.appendChild(c)}else if(null!=r){var p=document.createElement("div");p.className=r,h.appendChild(p)}if(d.appendChild(h),this.labels){var f=document.createElement("td");f.className="mxPopupMenuItem"+(null==s||s?"":" mxDisabled"),o.default.write(f,t),f.align="left",d.appendChild(f);var g=document.createElement("td");g.className="mxPopupMenuItem"+(null==s||s?"":" mxDisabled"),g.style.paddingRight="6px",g.style.textAlign="right",d.appendChild(g),null==n.div&&this.createSubmenu(n)}if(n.tbody.appendChild(d),0!=u&&0!=s){var y=null;a.default.addGestureListeners(d,o.default.bind(this,(function(t){this.eventReceiver=d,n.activeRow!=d&&n.activeRow!=n&&(null!=n.activeRow&&null!=n.activeRow.div.parentNode&&this.hideSubmenu(n),null!=d.div&&(this.showSubmenu(n,d),n.activeRow=d)),(l.default.IS_QUIRKS||8==document.documentMode)&&(y=document.selection.createRange()),a.default.consume(t)})),o.default.bind(this,(function(t){n.activeRow!=d&&n.activeRow!=n&&(null!=n.activeRow&&null!=n.activeRow.div.parentNode&&this.hideSubmenu(n),this.autoExpand&&null!=d.div&&(this.showSubmenu(n,d),n.activeRow=d)),d.className="mxPopupMenuItemHover"})),o.default.bind(this,(function(t){if(this.eventReceiver==d){if(n.activeRow!=d&&this.hideMenu(),null!=y){try{y.select()}catch(t){}y=null}null!=i&&i(t)}this.eventReceiver=null,a.default.consume(t)}))),a.default.addListener(d,"mouseout",o.default.bind(this,(function(t){d.className="mxPopupMenuItem"})))}return d},d.prototype.addCheckmark=function(t,e){var i=t.firstChild.nextSibling;i.style.backgroundImage="url('"+e+"')",i.style.backgroundRepeat="no-repeat",i.style.backgroundPosition="2px 50%"},d.prototype.createSubmenu=function(t){t.table=document.createElement("table"),t.table.className="mxPopupMenu",t.tbody=document.createElement("tbody"),t.table.appendChild(t.tbody),t.div=document.createElement("div"),t.div.className="mxPopupMenu",t.div.style.position="absolute",t.div.style.display="inline",t.div.style.zIndex=this.zIndex,t.div.appendChild(t.table);var e=document.createElement("img");e.setAttribute("src",this.submenuImage),td=t.firstChild.nextSibling.nextSibling,td.appendChild(e)},d.prototype.showSubmenu=function(t,e){if(null!=e.div){e.div.style.left=t.div.offsetLeft+e.offsetLeft+e.offsetWidth-1+"px",e.div.style.top=t.div.offsetTop+e.offsetTop+"px",document.body.appendChild(e.div);var i=parseInt(e.div.offsetLeft),n=parseInt(e.div.offsetWidth),a=s.default.getDocumentScrollOrigin(document),r=document.body,o=document.documentElement;i+n>a.x+(r.clientWidth||o.clientWidth)&&(e.div.style.left=t.div.offsetLeft-n+(l.default.IS_IE?6:-6)+"px"),s.default.fit(e.div)}},d.prototype.addSeparator=function(t,e){if(t=t||this,this.smartSeparators&&!e)t.willAddSeparator=!0;else if(null!=t.tbody){t.willAddSeparator=!1;var i=document.createElement("tr"),n=document.createElement("td");n.className="mxPopupMenuIcon",n.style.padding="0 0 0 0px",i.appendChild(n);var l=document.createElement("td");l.style.padding="0 0 0 0px",l.setAttribute("colSpan","2");var a=document.createElement("hr");a.setAttribute("size","1"),l.appendChild(a),i.appendChild(l),t.tbody.appendChild(i)}},d.prototype.popup=function(t,e,i,l){if(null!=this.div&&null!=this.tbody&&null!=this.factoryMethod){for(this.div.style.left=t+"px",this.div.style.top=e+"px";null!=this.tbody.firstChild;)a.default.release(this.tbody.firstChild),this.tbody.removeChild(this.tbody.firstChild);this.itemCount=0,this.factoryMethod(this,i,l),this.itemCount>0&&(this.showMenu(),this.fireEvent(new n.default(a.default.SHOW)))}},d.prototype.isMenuShowing=function(){return null!=this.div&&this.div.parentNode==document.body},d.prototype.showMenu=function(){document.documentMode>=9&&(this.div.style.filter="none"),document.body.appendChild(this.div),s.default.fit(this.div)},d.prototype.hideMenu=function(){null!=this.div&&(null!=this.div.parentNode&&this.div.parentNode.removeChild(this.div),this.hideSubmenu(this),this.containsItems=!1,this.fireEvent(new n.default(a.default.HIDE)))},d.prototype.hideSubmenu=function(t){null!=t.activeRow&&(this.hideSubmenu(t.activeRow),null!=t.activeRow.div.parentNode&&t.activeRow.div.parentNode.removeChild(t.activeRow.div),t.activeRow=null)},d.prototype.destroy=function(){null!=this.div&&(a.default.release(this.div),null!=this.div.parentNode&&this.div.parentNode.removeChild(this.div),this.div=null)};e.default=d},540168:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(297336);var n=o(i(370608)),l=o(i(300511)),a=o(i(742288)),r=o(i(132448));function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e){null!=t&&(this.graph=t,this.factoryMethod=e,this.graph.addMouseListener(this),this.gestureHandler=a.default.bind(this,(function(t,e){this.inTolerance=!1})),this.graph.addListener(n.default.GESTURE,this.gestureHandler),this.init())}s.prototype=new l.default,s.prototype.constructor=s,s.prototype.graph=null,s.prototype.selectOnPopup=!0,s.prototype.clearSelectionOnBackground=!0,s.prototype.triggerX=null,s.prototype.triggerY=null,s.prototype.screenX=null,s.prototype.screenY=null,s.prototype.init=function(){l.default.prototype.init.apply(this),n.default.addGestureListeners(this.div,a.default.bind(this,(function(t){this.graph.tooltipHandler.hide()})))},s.prototype.isSelectOnPopup=function(t){return this.selectOnPopup},s.prototype.mouseDown=function(t,e){this.isEnabled()&&!n.default.isMultiTouchEvent(e.getEvent())&&(this.hideMenu(),this.triggerX=e.getGraphX(),this.triggerY=e.getGraphY(),this.screenX=n.default.getMainEvent(e.getEvent()).screenX,this.screenY=n.default.getMainEvent(e.getEvent()).screenY,this.popupTrigger=this.isPopupTrigger(e),this.inTolerance=!0)},s.prototype.mouseMove=function(t,e){this.inTolerance&&null!=this.screenX&&null!=this.screenY&&(Math.abs(n.default.getMainEvent(e.getEvent()).screenX-this.screenX)>this.graph.tolerance||Math.abs(n.default.getMainEvent(e.getEvent()).screenY-this.screenY)>this.graph.tolerance)&&(this.inTolerance=!1)},s.prototype.mouseUp=function(t,e){if(this.popupTrigger&&this.inTolerance&&null!=this.triggerX&&null!=this.triggerY){var i=this.getCellForPopupEvent(e);this.graph.isEnabled()&&this.isSelectOnPopup(e)&&null!=i&&!this.graph.isCellSelected(i)?this.graph.setSelectionCell(i):this.clearSelectionOnBackground&&null==i&&this.graph.clearSelection(),this.graph.tooltipHandler.hide();var n=r.default.getScrollOrigin();this.popup(e.getX()+n.x+1,e.getY()+n.y+1,i,e.getEvent()),e.consume()}this.popupTrigger=!1,this.inTolerance=!1},s.prototype.getCellForPopupEvent=function(t){return t.getCell()},s.prototype.destroy=function(){this.graph.removeMouseListener(this),this.graph.removeListener(this.gestureHandler),l.default.prototype.destroy.apply(this)};e.default=s},798980:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(297336),i(881288);var n=h(i(22676)),l=h(i(370608)),a=h(i(945324)),r=h(i(164460)),o=h(i(742288)),s=h(i(247644)),u=h(i(790448)),d=h(i(132448));function h(t){return t&&t.__esModule?t:{default:t}}function c(t,e,i,n,l,a,r,o,s){this.graph=t,this.scale=null!=e?e:1/t.pageScale,this.border=null!=n?n:0,this.pageFormat=null!=i?i:t.pageFormat,this.title=null!=o?o:"Printer-friendly version",this.x0=null!=l?l:0,this.y0=null!=a?a:0,this.borderColor=r,this.pageSelector=null==s||s}c.prototype.graph=null,c.prototype.pageFormat=null,c.prototype.scale=null,c.prototype.border=0,c.prototype.marginTop=0,c.prototype.marginBottom=0,c.prototype.x0=0,c.prototype.y0=0,c.prototype.autoOrigin=!0,c.prototype.printOverlays=!1,c.prototype.printControls=!1,c.prototype.printBackgroundImage=!1,c.prototype.backgroundColor="#ffffff",c.prototype.borderColor=null,c.prototype.title=null,c.prototype.pageSelector=null,c.prototype.wnd=null,c.prototype.targetWindow=null,c.prototype.pageCount=0,c.prototype.clipping=!0,c.prototype.getWindow=function(){return this.wnd},c.prototype.getDoctype=function(){var t="";return 5==document.documentMode?t='<meta http-equiv="X-UA-Compatible" content="IE=5">':8==document.documentMode?t='<meta http-equiv="X-UA-Compatible" content="IE=8">':document.documentMode>8&&(t='\x3c!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--\x3e'),t},c.prototype.open=function(t,e){var i=this.graph.cellRenderer.initializeOverlay,a=null;try{if(this.printOverlays&&(this.graph.cellRenderer.initializeOverlay=function(t,e){e.init(t.view.getDrawPane())}),this.printControls&&(this.graph.cellRenderer.initControl=function(t,e,i,n){e.dialect=t.view.graph.dialect,e.init(t.view.getDrawPane())}),null==this.wnd){this.wnd=null!=e?e:window.open();var r=this.wnd.document;if(null==e){var u=this.getDoctype();null!=u&&u.length>0&&r.writeln(u),n.default.IS_VML?r.writeln('<html xmlns:v="urn:schemas-microsoft-com:vml" xmlns:o="urn:schemas-microsoft-com:office:office">'):("CSS1Compat"===document.compatMode&&r.writeln("<!DOCTYPE html>"),r.writeln("<html>")),r.writeln("<head>"),this.writeHead(r,t),r.writeln("</head>"),r.writeln('<body class="mxPage">')}var d=this.graph.getGraphBounds().clone(),h=this.graph.getView().getScale(),c=h/this.scale,p=this.graph.getView().getTranslate();this.autoOrigin||(this.x0-=p.x*this.scale,this.y0-=p.y*this.scale,d.width+=d.x,d.height+=d.y,d.x=0,d.y=0,this.border=0);var f=this.pageFormat.width-2*this.border,g=this.pageFormat.height-2*this.border;this.pageFormat.height+=this.marginTop+this.marginBottom,d.width/=c,d.height/=c;var y=Math.max(1,Math.ceil((d.width+this.x0)/f)),m=Math.max(1,Math.ceil((d.height+this.y0)/g));this.pageCount=y*m;var v=o.default.bind(this,(function(){if(this.pageSelector&&(m>1||y>1)){var t=this.createPageSelector(m,y);if(r.body.appendChild(t),n.default.IS_IE&&null==r.documentMode||5==r.documentMode||8==r.documentMode||7==r.documentMode){t.style.position="absolute";var e=function(){t.style.top=(r.body.scrollTop||r.documentElement.scrollTop)+10+"px"};l.default.addListener(this.wnd,"scroll",(function(t){e()})),l.default.addListener(this.wnd,"resize",(function(t){e()}))}}})),E=o.default.bind(this,(function(t,i){if(null!=this.borderColor&&(t.style.borderColor=this.borderColor,t.style.borderStyle="solid",t.style.borderWidth="1px"),t.style.background=this.backgroundColor,i&&(t.style.pageBreakAfter="always"),n.default.IS_IE||document.documentMode>=11||n.default.IS_EDGE?(r.writeln(t.outerHTML),t.parentNode.removeChild(t)):(t.parentNode.removeChild(t),r.body.appendChild(t)),i&&null==e){var l=r.createElement("hr");l.className="mxPageBreak",r.body.appendChild(l)}})),b=this.getCoverPages(this.pageFormat.width,this.pageFormat.height);if(null!=b)for(var S=0;S<b.length;S++)E(b[S],!0);var w=this.getAppendices(this.pageFormat.width,this.pageFormat.height);for(S=0;S<m;S++)for(var A=S*g/this.scale-this.y0/this.scale+(d.y-p.y*h)/h,C=0;C<y;C++){if(null==this.wnd)return null;var T=C*f/this.scale-this.x0/this.scale+(d.x-p.x*h)/h,M=S*y+C+1,x=new s.default(T,A,f,g);(a=this.renderPage(this.pageFormat.width,this.pageFormat.height,0,0,o.default.bind(this,(function(t){this.addGraphFragment(-T,-A,this.scale,M,t,x),this.printBackgroundImage&&this.insertBackgroundImage(t,-T,-A)})),M)).setAttribute("id","mxPage-"+M),E(a,null!=w||S<m-1||C<y-1)}if(null!=w)for(S=0;S<w.length;S++)E(w[S],S<w.length);null==e&&(this.writePostfix(r),r.writeln("</body>"),r.writeln("</html>"),r.close(),v(),l.default.release(r.body))}this.wnd.focus()}catch(t){null!=a&&null!=a.parentNode&&a.parentNode.removeChild(a)}finally{this.graph.cellRenderer.initializeOverlay=i}return this.wnd},c.prototype.writeHead=function(t,e){null!=this.title&&t.writeln("<title>"+this.title+"</title>"),n.default.IS_VML&&t.writeln('<style type="text/css">v\\:*{behavior:url(#default#VML)}o\\:*{behavior:url(#default#VML)}</style>'),n.default.link("stylesheet",n.default.basePath+"/css/common.css",t),t.writeln('<style type="text/css">'),t.writeln("@media print {"),t.writeln("  table.mxPageSelector { display: none; }"),t.writeln("  hr.mxPageBreak { display: none; }"),t.writeln("}"),t.writeln("@media screen {"),t.writeln("  table.mxPageSelector { position: fixed; right: 10px; top: 10px;font-family: Arial; font-size:10pt; border: solid 1px darkgray;background: white; border-collapse:collapse; }"),t.writeln("  table.mxPageSelector td { border: solid 1px gray; padding:4px; }"),t.writeln("  body.mxPage { background: gray; }"),t.writeln("}"),null!=e&&t.writeln(e),t.writeln("</style>")},c.prototype.writePostfix=function(t){},c.prototype.createPageSelector=function(t,e){var i=this.wnd.document,l=i.createElement("table");l.className="mxPageSelector",l.setAttribute("border","0");for(var a=i.createElement("tbody"),r=0;r<t;r++){for(var s=i.createElement("tr"),u=0;u<e;u++){var d=r*e+u+1,h=i.createElement("td"),c=i.createElement("a");if(c.setAttribute("href","#mxPage-"+d),n.default.IS_NS&&!n.default.IS_SF&&!n.default.IS_GC){var p="var page = document.getElementById('mxPage-"+d+"');page.scrollIntoView(true);event.preventDefault();";c.setAttribute("onclick",p)}o.default.write(c,d,i),h.appendChild(c),s.appendChild(h)}a.appendChild(s)}return l.appendChild(a),l},c.prototype.renderPage=function(t,e,i,l,a,r){var o=this.wnd.document,s=document.createElement("div"),d=null;try{if(0!=i||0!=l){s.style.position="relative",s.style.width=t+"px",s.style.height=e+"px",s.style.pageBreakInside="avoid",(c=document.createElement("div")).style.position="relative",c.style.top=this.border+"px",c.style.left=this.border+"px",c.style.width=t-2*this.border+"px",c.style.height=e-2*this.border+"px",c.style.overflow="hidden";var h=document.createElement("div");h.style.position="relative",h.style.marginLeft=i+"px",h.style.marginTop=l+"px",8==o.documentMode&&(c.style.position="absolute",h.style.position="absolute"),10==o.documentMode&&(h.style.width="100%",h.style.height="100%"),c.appendChild(h),s.appendChild(c),document.body.appendChild(s),d=h}else{var c;s.style.width=t+"px",s.style.height=e+"px",s.style.overflow="hidden",s.style.pageBreakInside="avoid",8==o.documentMode&&(s.style.position="relative"),(c=document.createElement("div")).style.width=t-2*this.border+"px",c.style.height=e-2*this.border+"px",c.style.overflow="hidden",!n.default.IS_IE||null!=o.documentMode&&5!=o.documentMode&&8!=o.documentMode&&7!=o.documentMode?(c.style.top=this.border+"px",c.style.left=this.border+"px"):(c.style.marginTop=this.border+"px",c.style.marginLeft=this.border+"px"),this.graph.dialect==u.default.DIALECT_VML&&(c.style.position="absolute"),s.appendChild(c),document.body.appendChild(s),d=c}}catch(t){throw s.parentNode.removeChild(s),s=null,t}return a(d),s},c.prototype.getRoot=function(){var t=this.graph.view.currentRoot;return null==t&&(t=this.graph.getModel().getRoot()),t},c.prototype.addGraphFragment=function(t,e,i,l,o,h){var c=this.graph.getView(),p=this.graph.container;this.graph.container=o;var f=c.getCanvas(),g=c.getBackgroundPane(),y=c.getDrawPane(),m=c.getOverlayPane();this.graph.dialect==u.default.DIALECT_SVG?c.createSvg():this.graph.dialect==u.default.DIALECT_VML?c.createVml():c.createHtml();var v=c.isEventsEnabled();c.setEventsEnabled(!1);var E=this.graph.isEnabled();this.graph.setEnabled(!1);var b=c.getTranslate();c.translate=new r.default(t,e);var S=this.graph.cellRenderer.redraw,w=c.states,A=c.scale;if(this.clipping){var C=new s.default((h.x+b.x)*A,(h.y+b.y)*A,h.width*A/i,h.height*A/i);this.graph.cellRenderer.redraw=function(t,e,i){if(null!=t){var n=w.get(t.cell);if(null!=n){var l=c.getBoundingBox(n,!1);if(null!=l&&!d.default.intersects(C,l))return}}S.apply(this,arguments)}}var T=null;try{var M=[this.getRoot()];T=new a.default(c,i,M)}finally{if(n.default.IS_IE)c.overlayPane.innerHTML="",c.canvas.style.overflow="hidden",c.canvas.style.position="relative",c.canvas.style.top=this.marginTop+"px",c.canvas.style.width=h.width+"px",c.canvas.style.height=h.height+"px";else for(var x=o.firstChild;null!=x;){var I=x.nextSibling,L=x.nodeName.toLowerCase();"svg"==L?(x.style.overflow="hidden",x.style.position="relative",x.style.top=this.marginTop+"px",x.setAttribute("width",h.width),x.setAttribute("height",h.height),x.style.width="",x.style.height=""):"default"!=x.style.cursor&&"div"!=L&&x.parentNode.removeChild(x),x=I}if(this.printBackgroundImage){var N=o.getElementsByTagName("svg");N.length>0&&(N[0].style.position="absolute")}c.overlayPane.parentNode.removeChild(c.overlayPane),this.graph.setEnabled(E),this.graph.container=p,this.graph.cellRenderer.redraw=S,c.canvas=f,c.backgroundPane=g,c.drawPane=y,c.overlayPane=m,c.translate=b,T.destroy(),c.setEventsEnabled(v)}},c.prototype.insertBackgroundImage=function(t,e,i){var n=this.graph.backgroundImage;if(null!=n){var l=document.createElement("img");l.style.position="absolute",l.style.marginLeft=Math.round(e*this.scale)+"px",l.style.marginTop=Math.round(i*this.scale)+"px",l.setAttribute("width",Math.round(this.scale*n.width)),l.setAttribute("height",Math.round(this.scale*n.height)),l.src=n.src,t.insertBefore(l,t.firstChild)}},c.prototype.getCoverPages=function(){return null},c.prototype.getAppendices=function(){return null},c.prototype.print=function(t){var e=this.open(t);null!=e&&e.print()},c.prototype.close=function(){null!=this.wnd&&(this.wnd.close(),this.wnd=null)};e.default=c},572172:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,l=(n=i(326660))&&n.__esModule?n:{default:n};function a(t,e,i,n,l,a){this.model=t,this.cell=e,this.group=i,this.property=n,this.value=l,this.previous=l,this.reducer=a}a.prototype.execute=function(){"name"===this.property&&this.model.execute(new l.default(this.model,this.cell,this.previous)),this.value=this.previous,this.previous=this.model.propertyForCellChanged(this.cell,this.group,this.property,this.previous,this.reducer)};e.default=a},733516:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(i(447831)),l=r(i(742288)),a=r(i(72644));function r(t){return t&&t.__esModule?t:{default:t}}function o(t){a.default.call(this,t,!1)}l.default.extend(o,a.default),o.prototype.angleOffset=.5,o.prototype.rootx=0,o.prototype.rooty=0,o.prototype.levelDistance=120,o.prototype.nodeDistance=10,o.prototype.autoRadius=!1,o.prototype.sortEdges=!1,o.prototype.rowMinX=[],o.prototype.rowMaxX=[],o.prototype.rowMinCenX=[],o.prototype.rowMaxCenX=[],o.prototype.rowRadi=[],o.prototype.row=[],o.prototype.isVertexIgnored=function(t){return n.default.prototype.isVertexIgnored.apply(this,arguments)||0==this.graph.getConnections(t).length},o.prototype.execute=function(t,e){this.parent=t,this.useBoundingBox=!1,this.edgeRouting=!1,a.default.prototype.execute.apply(this,arguments);var i=null,n=this.getVertexBounds(this.root);for(var l in this.centerX=n.x+n.width/2,this.centerY=n.y+n.height/2,this.visited){var r=this.getVertexBounds(this.visited[l]);(i=null!=i?i:r.clone()).add(r)}this.calcRowDims([this.node],0);for(var o=0,s=0,u=0;u<this.row.length;u++){var d=(this.centerX-this.rowMinX[u]-this.nodeDistance)/this.rowRadi[u],h=(this.rowMaxX[u]-this.centerX-this.nodeDistance)/this.rowRadi[u];o=Math.max(o,d),s=Math.max(s,h)}for(u=0;u<this.row.length;u++)for(var c=this.centerX-this.nodeDistance-o*this.rowRadi[u],p=this.centerX+this.nodeDistance+s*this.rowRadi[u]-c,f=0;f<this.row[u].length;f++){var g=(v=this.row[u])[f],y=((r=this.getVertexBounds(g.cell)).x+r.width/2-c)/p,m=2*Math.PI*y;g.theta=m}for(u=this.row.length-2;u>=0;u--){var v=this.row[u];for(f=0;f<v.length;f++){for(var E=(g=v[f]).child,b=0,S=0;null!=E;)S+=E.theta,b++,E=E.next;if(b>0){var w=S/b;if(w>g.theta&&f<v.length-1){var A=v[f+1].theta;g.theta=Math.min(w,A-Math.PI/10)}else if(w<g.theta&&f>0){var C=v[f-1].theta;g.theta=Math.max(w,C+Math.PI/10)}}}}for(u=0;u<this.row.length;u++)for(f=0;f<this.row[u].length;f++){g=(v=this.row[u])[f],r=this.getVertexBounds(g.cell);this.setVertexLocation(g.cell,this.centerX-r.width/2+this.rowRadi[u]*Math.cos(g.theta),this.centerY-r.height/2+this.rowRadi[u]*Math.sin(g.theta))}},o.prototype.calcRowDims=function(t,e){if(null!=t&&0!=t.length){this.rowMinX[e]=this.centerX,this.rowMaxX[e]=this.centerX,this.rowMinCenX[e]=this.centerX,this.rowMaxCenX[e]=this.centerX,this.row[e]=[];for(var i=!1,n=0;n<t.length;n++)for(var l=t[n].child;null!=l;){var a=l.cell;vertexBounds=this.getVertexBounds(a),this.rowMinX[e]=Math.min(vertexBounds.x,this.rowMinX[e]),this.rowMaxX[e]=Math.max(vertexBounds.x+vertexBounds.width,this.rowMaxX[e]),this.rowMinCenX[e]=Math.min(vertexBounds.x+vertexBounds.width/2,this.rowMinCenX[e]),this.rowMaxCenX[e]=Math.max(vertexBounds.x+vertexBounds.width/2,this.rowMaxCenX[e]),this.rowRadi[e]=vertexBounds.y-this.getVertexBounds(this.root).y,null!=l.child&&(i=!0),this.row[e].push(l),l=l.next}i&&this.calcRowDims(this.row[e],e+1)}};e.default=o},247644:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,l=(n=i(164460))&&n.__esModule?n:{default:n};function a(t,e,i,n){l.default.call(this,t,e),this.width=null!=i?i:0,this.height=null!=n?n:0}a.prototype=new l.default,a.prototype.constructor=a,a.prototype.width=null,a.prototype.height=null,a.prototype.setRect=function(t,e,i,n){this.x=t,this.y=e,this.width=i,this.height=n},a.prototype.getCenterX=function(){return this.x+this.width/2},a.prototype.getCenterY=function(){return this.y+this.height/2},a.prototype.add=function(t){if(null!=t){var e=Math.min(this.x,t.x),i=Math.min(this.y,t.y),n=Math.max(this.x+this.width,t.x+t.width),l=Math.max(this.y+this.height,t.y+t.height);this.x=e,this.y=i,this.width=n-e,this.height=l-i}},a.prototype.intersect=function(t){if(null!=t){var e=this.x+this.width,i=t.x+t.width,n=this.y+this.height,l=t.y+t.height;this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.width=Math.min(e,i)-this.x,this.height=Math.min(n,l)-this.y}},a.prototype.grow=function(t){this.x-=t,this.y-=t,this.width+=2*t,this.height+=2*t},a.prototype.getPoint=function(){return new l.default(this.x,this.y)},a.prototype.rotate90=function(){var t=(this.width-this.height)/2;this.x+=t,this.y-=t;var e=this.width;this.width=this.height,this.height=e},a.prototype.equals=function(t){return null!=t&&t.x==this.x&&t.y==this.y&&t.width==this.width&&t.height==this.height},a.fromRectangle=function(t){return new a(t.x,t.y,t.width,t.height)},a.getName=function(){return"mxRectangle"};e.default=a},833800:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(106208);var n=r(i(742288)),l=r(i(656988)),a=r(i(790448));function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e,i,n){l.default.call(this),this.bounds=t,this.fill=e,this.stroke=i,this.strokewidth=null!=n?n:1}n.default.extend(o,l.default),o.prototype.isHtmlAllowed=function(){var t=!0;return null!=this.style&&(t="1"==n.default.getValue(this.style,a.default.STYLE_POINTER_EVENTS,"1")),!this.isRounded&&!this.glass&&0==this.rotation&&(t||null!=this.fill&&this.fill!=a.default.NONE)},o.prototype.paintBackground=function(t,e,i,l,r){var o=!0;if(null!=this.style&&(o="1"==n.default.getValue(this.style,a.default.STYLE_POINTER_EVENTS,"1")),o||null!=this.fill&&this.fill!=a.default.NONE||null!=this.stroke&&this.stroke!=a.default.NONE){if(o||null!=this.fill&&this.fill!=a.default.NONE||(t.pointerEvents=!1),this.isRounded){var s=n.default.getValue(this.style,a.default.STYLE_ARCSIZE,100*a.default.RECTANGLE_ROUNDING_FACTOR)/100,u=Math.min(l*s,r*s);t.roundrect(e,i,l,r,u,u)}else t.rect(e,i,l,r);t.fillAndStroke()}},o.prototype.paintForeground=function(t,e,i,n,l){this.glass&&!this.outline&&null!=this.fill&&this.fill!=a.default.NONE&&this.paintGlassEffect(t,e,i,n,l,this.getArcSize(n+this.strokewidth,l+this.strokewidth))};e.default=o},121816:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,l=(n=i(25861))&&n.__esModule?n:{default:n};var a={get:function(t,e,i,n,a,r){var o=new l.default(t,null,"GET");return null!=n&&o.setBinary(n),o.send(e,i,a,r),o},load:function(t){var e=new l.default(t,null,"GET",!1);return e.send(),e}};e.default=a},11131:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(241872),i(686456),i(571176),i(633768),i(513640);var n=o(i(22676)),l=o(i(790448)),a=o(i(742288)),r=o(i(121816));function o(t){return t&&t.__esModule?t:{default:t}}var s={resources:[],extension:mxResourceExtension,resourcesEncoded:!1,loadDefaultBundle:!0,loadSpecialBundle:!0,isLanguageSupported:function(t){return null==n.default.languages||a.default.indexOf(n.default.languages,t)>=0},getDefaultBundle:function(t,e){return s.loadDefaultBundle||!s.isLanguageSupported(e)?t+s.extension:null},getSpecialBundle:function(t,e){if(null==n.default.languages||!this.isLanguageSupported(e)){var i=e.indexOf("-");i>0&&(e=e.substring(0,i))}return s.loadSpecialBundle&&s.isLanguageSupported(e)&&e!=n.default.defaultLanguage?t+"_"+e+s.extension:null},add:function(t,e,i){if((e=null!=e?e:null!=n.default.language?n.default.language.toLowerCase():l.default.NONE)!=l.default.NONE){var a=s.getDefaultBundle(t,e),o=s.getSpecialBundle(t,e),u=function(){if(null!=o)if(i)r.default.get(o,(function(t){s.parse(t.getText()),i()}),(function(){i()}));else try{var t=r.default.load(o);t.isReady()&&s.parse(t.getText())}catch(t){}else null!=i&&i()};if(null!=a)if(i)r.default.get(a,(function(t){s.parse(t.getText()),u()}),(function(){u()}));else try{var d=r.default.load(a);d.isReady()&&s.parse(d.getText()),u()}catch(t){}else u()}},parse:function(t){if(null!=t)for(var e=t.split("\n"),i=0;i<e.length;i++)if("#"!=e[i].charAt(0)){var n=e[i].indexOf("=");if(n>0){var l=e[i].substring(0,n),a=e[i].length;13==e[i].charCodeAt(a-1)&&a--;var r=e[i].substring(n+1,a);this.resourcesEncoded?(r=r.replace(/\\(?=u[a-fA-F\d]{4})/g,"%"),s.resources[l]=unescape(r)):s.resources[l]=r}}},get:function(t,e,i){var n=s.resources[t];return null==n&&(n=i),null!=n&&null!=e&&(n=s.replacePlaceholders(n,e)),n},replacePlaceholders:function(t,e){for(var i=[],n=null,l=0;l<t.length;l++){var a=t.charAt(l);"{"==a?n="":null!=n&&"}"==a?((n=parseInt(n)-1)>=0&&n<e.length&&i.push(e[n]),n=null):null!=n?n+=a:i.push(a)}return i.join("")},loadResources:function(t){s.add(n.default.basePath+"/resources/editor",null,(function(){s.add(n.default.basePath+"/resources/graph",null,t)}))}};e.default=s},632004:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(106208);var n=o(i(164460)),l=o(i(742288)),a=o(i(656988)),r=o(i(790448));function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e,i,n){a.default.call(this),this.bounds=t,this.fill=e,this.stroke=i,this.strokewidth=null!=n?n:1}l.default.extend(s,a.default),s.prototype.paintVertexShape=function(t,e,i,a,o){var s=a/2,u=o/2,d=l.default.getValue(this.style,r.default.STYLE_ARCSIZE,r.default.LINE_ARCSIZE)/2;t.begin(),this.addPoints(t,[new n.default(e+s,i),new n.default(e+a,i+u),new n.default(e+s,i+o),new n.default(e,i+u)],this.isRounded,d,!0),t.fillAndStroke()};e.default=s},819996:function(t,e,i){"use strict";function n(t,e){this.model=t,this.root=e,this.previous=e}i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n.prototype.execute=function(){this.root=this.previous,this.previous=this.model.rootChanged(this.previous)},n.getName=function(){return"mxRootChange"};e.default=n},865960:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(297336);var n=h(i(22676)),l=h(i(370608)),a=h(i(172636)),r=h(i(164460)),o=h(i(742288)),s=h(i(247644)),u=h(i(132448)),d=h(i(603480));function h(t){return t&&t.__esModule?t:{default:t}}function c(t){null!=t&&(this.graph=t,this.graph.addMouseListener(this),this.forceRubberbandHandler=o.default.bind(this,(function(t,e){var i=e.getProperty("eventName"),n=e.getProperty("event");if(i==l.default.MOUSE_DOWN&&this.isForceRubberbandEvent(n)){var a=u.default.getOffset(this.graph.container),r=u.default.getScrollOrigin(this.graph.container);r.x-=a.x,r.y-=a.y,this.start(n.getX()+r.x,n.getY()+r.y),n.consume(!1)}})),this.graph.addListener(l.default.FIRE_MOUSE_EVENT,this.forceRubberbandHandler),this.panHandler=o.default.bind(this,(function(){this.repaint()})),this.graph.addListener(l.default.PAN,this.panHandler),this.gestureHandler=o.default.bind(this,(function(t,e){null!=this.first&&this.reset()})),this.graph.addListener(l.default.GESTURE,this.gestureHandler),n.default.IS_IE&&l.default.addListener(window,"unload",o.default.bind(this,(function(){this.destroy()}))))}c.prototype.defaultOpacity=20,c.prototype.enabled=!0,c.prototype.div=null,c.prototype.sharedDiv=null,c.prototype.currentX=0,c.prototype.currentY=0,c.prototype.isEnabled=function(){return this.enabled},c.prototype.setEnabled=function(t){this.enabled=t},c.prototype.isForceRubberbandEvent=function(t){return l.default.isAltDown(t.getEvent())},c.prototype.mouseDown=function(t,e){if(!e.isConsumed()&&this.isEnabled()&&this.graph.isEnabled()&&null==e.getState()&&!l.default.isMultiTouchEvent(e.getEvent())){var i=u.default.getOffset(this.graph.container),n=u.default.getScrollOrigin(this.graph.container);n.x-=i.x,n.y-=i.y,this.start(e.getX()+n.x,e.getY()+n.y),e.consume(!1)}},c.prototype.start=function(t,e){this.first=new r.default(t,e);var i=this.graph.container;function s(t){var e=new a.default(t),n=u.default.convertPoint(i,e.getX(),e.getY());return e.graphX=n.x,e.graphY=n.y,e}this.dragHandler=o.default.bind(this,(function(t){this.mouseMove(this.graph,s(t))})),this.dropHandler=o.default.bind(this,(function(t){this.mouseUp(this.graph,s(t))})),n.default.IS_FF&&l.default.addGestureListeners(document,null,this.dragHandler,this.dropHandler)},c.prototype.mouseMove=function(t,e){if(!e.isConsumed()&&null!=this.first){var i=u.default.getScrollOrigin(this.graph.container),n=u.default.getOffset(this.graph.container);i.x-=n.x,i.y-=n.y;var l=e.getX()+i.x,a=e.getY()+i.y,r=this.first.x-l,o=this.first.y-a,s=this.graph.tolerance;(null!=this.div||Math.abs(r)>s||Math.abs(o)>s)&&(null==this.div&&(this.div=this.createShape()),u.default.clearSelection(),this.update(l,a),e.consume())}},c.prototype.createShape=function(){return null==this.sharedDiv&&(this.sharedDiv=document.createElement("div"),this.sharedDiv.className=d.default.rubberband,o.default.setOpacity(this.sharedDiv,this.defaultOpacity)),this.graph.container.appendChild(this.sharedDiv),this.sharedDiv},c.prototype.mouseUp=function(t,e){var i=null!=this.div&&"none"!=this.div.style.display;if(this.reset(),i){var n=new s.default(this.x,this.y,this.width,this.height);this.graph.selectRegion(n,e.getEvent()),e.consume()}},c.prototype.reset=function(){null!=this.div&&this.div.parentNode.removeChild(this.div),l.default.removeGestureListeners(document,null,this.dragHandler,this.dropHandler),this.dragHandler=null,this.dropHandler=null,this.currentX=0,this.currentY=0,this.first=null,this.div=null},c.prototype.update=function(t,e){this.currentX=t,this.currentY=e,this.repaint()},c.prototype.repaint=function(){if(null!=this.div){var t=this.currentX-this.graph.panDx,e=this.currentY-this.graph.panDy;this.x=Math.min(this.first.x,t),this.y=Math.min(this.first.y,e),this.width=Math.max(this.first.x,t)-this.x,this.height=Math.max(this.first.y,e)-this.y;var i=n.default.IS_VML?this.graph.panDx:0,l=n.default.IS_VML?this.graph.panDy:0;this.div.style.left=this.x+i+"px",this.div.style.top=this.y+l+"px",this.div.style.width=Math.max(1,this.width)+"px",this.div.style.height=Math.max(1,this.height)+"px"}},c.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.graph.removeMouseListener(this),this.graph.removeListener(this.forceRubberbandHandler),this.graph.removeListener(this.panHandler),this.reset(),null!=this.sharedDiv&&(this.sharedDiv=null))};e.default=c},264336:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(297336);var n=s(i(995048)),l=s(i(370608)),a=s(i(591108)),r=s(i(742288)),o=s(i(39864));function s(t){return t&&t.__esModule?t:{default:t}}function u(t){o.default.call(this),this.graph=t,this.handlers=new a.default,this.graph.addMouseListener(this),this.refreshHandler=r.default.bind(this,(function(t,e){this.isEnabled()&&this.refresh()})),this.graph.getSelectionModel().addListener(l.default.CHANGE,this.refreshHandler),this.graph.getModel().addListener(l.default.CHANGE,this.refreshHandler),this.graph.getView().addListener(l.default.SCALE,this.refreshHandler),this.graph.getView().addListener(l.default.TRANSLATE,this.refreshHandler),this.graph.getView().addListener(l.default.SCALE_AND_TRANSLATE,this.refreshHandler),this.graph.getView().addListener(l.default.DOWN,this.refreshHandler),this.graph.getView().addListener(l.default.UP,this.refreshHandler)}r.default.extend(u,o.default),u.prototype.graph=null,u.prototype.enabled=!0,u.prototype.refreshHandler=null,u.prototype.maxHandlers=100,u.prototype.handlers=null,u.prototype.isEnabled=function(){return this.enabled},u.prototype.setEnabled=function(t){this.enabled=t},u.prototype.getHandler=function(t){return this.handlers.get(t)},u.prototype.reset=function(){this.handlers.visit((function(t,e){e.reset.apply(e)}))},u.prototype.refresh=function(){var t=this.handlers;this.handlers=new a.default;for(var e=this.graph.getSelectionCells(),i=0;i<e.length;i++){var o=this.graph.view.getState(e[i]);if(null!=o){var s=t.remove(e[i]);null!=s&&(s.state!=o?(s.destroy(),s=null):(null!=s.refresh&&s.refresh(),s.redraw())),null==s&&(s=this.graph.createHandler(o),this.fireEvent(new n.default(l.default.ADD,"state",o))),null!=s&&this.handlers.put(e[i],s)}}t.visit(r.default.bind(this,(function(t,e){this.fireEvent(new n.default(l.default.REMOVE,"state",e.state)),e.destroy()})))},u.prototype.updateHandler=function(t){var e=this.handlers.remove(t.cell);null!=e&&(e.destroy(),null!=(e=this.graph.createHandler(t))&&this.handlers.put(t.cell,e))},u.prototype.mouseDown=function(t,e){if(this.graph.isEnabled()&&this.isEnabled()){var i=[t,e];this.handlers.visit((function(t,e){e.mouseDown.apply(e,i)}))}},u.prototype.mouseMove=function(t,e){if(this.graph.isEnabled()&&this.isEnabled()){var i=[t,e];this.handlers.visit((function(t,e){e.mouseMove.apply(e,i)}))}},u.prototype.mouseUp=function(t,e){if(this.graph.isEnabled()&&this.isEnabled()){var i=[t,e];this.handlers.visit((function(t,e){e.mouseUp.apply(e,i)}))}},u.prototype.destroy=function(){this.graph.removeMouseListener(this),null!=this.refreshHandler&&(this.graph.getSelectionModel().removeListener(this.refreshHandler),this.graph.getModel().removeListener(this.refreshHandler),this.graph.getView().removeListener(this.refreshHandler),this.refreshHandler=null)};e.default=u},505756:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(693917);var n=o(i(995048)),l=o(i(370608)),a=o(i(11131)),r=o(i(484376));function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e,i){this.selectionModel=t,this.added=null!=e?e.slice():null,this.removed=null!=i?i.slice():null}s.prototype.execute=function(){var t=r.default.enter("mxSelectionChange.execute");if(window.status=a.default.get(this.selectionModel.updatingSelectionResource)||this.selectionModel.updatingSelectionResource,null!=this.removed)for(var e=0;e<this.removed.length;e++)this.selectionModel.cellRemoved(this.removed[e]);if(null!=this.added)for(e=0;e<this.added.length;e++)this.selectionModel.cellAdded(this.added[e]);var i=this.added;this.added=this.removed,this.removed=i,window.status=a.default.get(this.selectionModel.doneResource)||this.selectionModel.doneResource,r.default.leave("mxSelectionChange.execute",t),this.selectionModel.fireEvent(new n.default(l.default.CHANGE,"added",this.removed,"removed",this.added))};e.default=s},656988:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(106208),i(622676),i(693917),i(927184),i(846428),i(387912),i(23544);var n=h(i(22676)),l=h(i(164460)),a=h(i(710952)),r=h(i(742288)),o=h(i(247644)),s=h(i(790448)),u=h(i(45232)),d=h(i(363120));function h(t){return t&&t.__esModule?t:{default:t}}function c(t){this.stencil=t,this.initStyles()}c.prototype.dialect=null,c.prototype.scale=1,c.prototype.antiAlias=!0,c.prototype.bounds=null,c.prototype.points=null,c.prototype.node=null,c.prototype.state=null,c.prototype.style=null,c.prototype.boundingBox=null,c.prototype.stencil=null,c.prototype.svgStrokeTolerance=8,c.prototype.pointerEvents=!0,c.prototype.svgPointerEvents="all",c.prototype.shapePointerEvents=!1,c.prototype.stencilPointerEvents=!1,c.prototype.vmlScale=1,c.prototype.outline=!1,c.prototype.visible=!0,c.prototype.useSvgBoundingBox=!1,c.prototype.init=function(t){null==this.node&&(this.node=this.create(t),null!=t&&t.appendChild(this.node))},c.prototype.initStyles=function(t){this.strokewidth=1,this.rotation=0,this.opacity=100,this.fillOpacity=100,this.strokeOpacity=100,this.flipH=!1,this.flipV=!1},c.prototype.isParseVml=function(){return!0},c.prototype.isHtmlAllowed=function(){return!1},c.prototype.getSvgScreenOffset=function(){var t=this.stencil&&"inherit"!=this.stencil.strokewidth?Number(this.stencil.strokewidth):this.strokewidth;return 1==r.default.mod(Math.max(1,Math.round(t*this.scale)),2)?.5:0},c.prototype.create=function(t){return null!=t&&null!=t.ownerSVGElement?this.createSvg(t):8==document.documentMode||!n.default.IS_VML||this.dialect!=s.default.DIALECT_VML&&this.isHtmlAllowed()?this.createHtml(t):this.createVml(t)},c.prototype.createSvg=function(){return document.createElementNS(s.default.NS_SVG,"g")},c.prototype.createVml=function(){var t=document.createElement(n.default.VML_PREFIX+":group");return t.style.position="absolute",t},c.prototype.createHtml=function(){var t=document.createElement("div");return t.style.position="absolute",t},c.prototype.reconfigure=function(){this.redraw()},c.prototype.redraw=function(){this.updateBoundsFromPoints(),this.visible&&this.checkBounds()?(this.node.style.visibility="visible",this.clear(),"DIV"!=this.node.nodeName||!this.isHtmlAllowed()&&n.default.IS_VML?this.redrawShape():(this.state&&this.state.cell&&this.state.cell.value&&(this.node.title=this.state.cell.value),this.redrawHtmlShape()),this.updateBoundingBox()):(this.node.style.visibility="hidden",this.boundingBox=null)},c.prototype.clear=function(){if(null!=this.node.ownerSVGElement)for(;null!=this.node.lastChild;)this.node.removeChild(this.node.lastChild);else this.node.style.cssText="position:absolute;"+(null!=this.cursor?"cursor:"+this.cursor+";":""),this.node.innerHTML=""},c.prototype.updateBoundsFromPoints=function(){var t=this.points;if(null!=t&&t.length>0&&null!=t[0]){this.bounds=new o.default(Number(t[0].x),Number(t[0].y),1,1);for(var e=1;e<this.points.length;e++)null!=t[e]&&this.bounds.add(new o.default(Number(t[e].x),Number(t[e].y),1,1))}},c.prototype.getLabelBounds=function(t){return t},c.prototype.checkBounds=function(){return!isNaN(this.scale)&&isFinite(this.scale)&&this.scale>0&&null!=this.bounds&&!isNaN(this.bounds.x)&&!isNaN(this.bounds.y)&&!isNaN(this.bounds.width)&&!isNaN(this.bounds.height)&&this.bounds.width>0&&this.bounds.height>0},c.prototype.createVmlGroup=function(){var t=document.createElement(n.default.VML_PREFIX+":group");return t.style.position="absolute",t.style.width=this.node.style.width,t.style.height=this.node.style.height,t},c.prototype.redrawShape=function(){var t=this.createCanvas();null!=t&&(t.pointerEvents=this.pointerEvents,this.paint(t),this.node!=t.root&&this.node.insertAdjacentHTML("beforeend",t.root.outerHTML),"DIV"==this.node.nodeName&&8==document.documentMode&&(this.node.style.filter="",r.default.addTransparentBackgroundFilter(this.node)),this.destroyCanvas(t))},c.prototype.createCanvas=function(){var t=null;return null!=this.node.ownerSVGElement?t=this.createSvgCanvas():n.default.IS_VML&&(this.updateVmlContainer(),t=this.createVmlCanvas()),this.outline&&t&&(t.setStrokeWidth(this.strokewidth),t.setStrokeColor(this.stroke),null!=this.isDashed&&t.setDashed(this.isDashed),t.setStrokeWidth=function(){},t.setStrokeColor=function(){},t.setFillColor=function(){},t.setGradient=function(){},t.setDashed=function(){}),t},c.prototype.createSvgCanvas=function(){var t=new d.default(this.node,!1);t.strokeTolerance=this.pointerEvents?this.svgStrokeTolerance:0,t.pointerEventsValue=this.svgPointerEvents,t.blockImagePointerEvents=n.default.IS_FF;var e=this.getSvgScreenOffset();return 0!=e?this.node.setAttribute("transform","translate("+e+","+e+")"):this.node.removeAttribute("transform"),this.antiAlias||(t.format=function(t){return Math.round(parseFloat(t))}),t},c.prototype.createVmlCanvas=function(){var t=8==document.documentMode&&this.isParseVml()?this.createVmlGroup():this.node,e=new u.default(t,!1);if(""!=t.tagUrn){var i=Math.max(1,Math.round(this.bounds.width)),n=Math.max(1,Math.round(this.bounds.height));t.coordsize=i*this.vmlScale+","+n*this.vmlScale,e.scale(this.vmlScale),e.vmlScale=this.vmlScale}var l=this.scale;return e.translate(-Math.round(this.bounds.x/l),-Math.round(this.bounds.y/l)),e},c.prototype.updateVmlContainer=function(){this.node.style.left=Math.round(this.bounds.x)+"px",this.node.style.top=Math.round(this.bounds.y)+"px";var t=Math.max(1,Math.round(this.bounds.width)),e=Math.max(1,Math.round(this.bounds.height));this.node.style.width=t+"px",this.node.style.height=e+"px",this.node.style.overflow="visible"},c.prototype.redrawHtmlShape=function(){this.updateHtmlBounds(this.node),this.updateHtmlFilters(this.node),this.updateHtmlColors(this.node)},c.prototype.updateHtmlFilters=function(t){var e="";if(this.opacity<100&&(e+="alpha(opacity="+this.opacity+")"),this.isShadow&&(e+="progid:DXImageTransform.Microsoft.dropShadow (OffX='"+Math.round(s.default.SHADOW_OFFSET_X*this.scale)+"', OffY='"+Math.round(s.default.SHADOW_OFFSET_Y*this.scale)+"', Color='"+s.default.VML_SHADOWCOLOR+"')"),null!=this.fill&&this.fill!=s.default.NONE&&this.gradient&&this.gradient!=s.default.NONE){var i=this.fill,n=this.gradient,l="0",a={east:0,south:1,west:2,north:3},o=null!=this.direction?a[this.direction]:0;if(null!=this.gradientDirection&&(o=r.default.mod(o+a[this.gradientDirection]-1,4)),1==o){l="1";var u=i;i=n,n=u}else if(2==o){u=i;i=n,n=u}else 3==o&&(l="1");e+="progid:DXImageTransform.Microsoft.gradient(startColorStr='"+i+"', endColorStr='"+n+"', gradientType='"+l+"')"}t.style.filter=e},c.prototype.updateHtmlColors=function(t){var e=this.stroke;null!=e&&e!=s.default.NONE?(t.style.borderColor=e,this.isDashed?t.style.borderStyle="dashed":this.strokewidth>0&&(t.style.borderStyle="solid"),t.style.borderWidth=Math.max(1,Math.ceil(this.strokewidth*this.scale))+"px"):t.style.borderWidth="0px",null!=(e=this.outline?null:this.fill)&&e!=s.default.NONE?(t.style.backgroundColor=e,t.style.backgroundImage="none"):this.pointerEvents?t.style.backgroundColor="transparent":8==document.documentMode?r.default.addTransparentBackgroundFilter(t):this.setTransparentBackgroundImage(t)},c.prototype.updateHtmlBounds=function(t){var e=document.documentMode>=9?0:Math.ceil(this.strokewidth*this.scale);t.style.borderWidth=Math.max(1,e)+"px",t.style.overflow="hidden",t.style.left=Math.round(this.bounds.x-e/2)+"px",t.style.top=Math.round(this.bounds.y-e/2)+"px","CSS1Compat"==document.compatMode&&(e=-e),t.style.width=Math.round(Math.max(0,this.bounds.width+e))+"px",t.style.height=Math.round(Math.max(0,this.bounds.height+e))+"px"},c.prototype.destroyCanvas=function(t){if(t instanceof d.default){for(var e in t.gradients){var i=t.gradients[e];null!=i&&(i.mxRefCount=(i.mxRefCount||0)+1)}this.releaseSvgGradients(this.oldGradients),this.oldGradients=t.gradients}},c.prototype.paint=function(t){var e=this.scale,i=this.bounds.x/e,n=this.bounds.y/e,a=this.bounds.width/e,r=this.bounds.height/e;if(this.isPaintBoundsInverted()){var o=(a-r)/2;i+=o,n-=o;var u=a;a=r,r=u}this.updateTransform(t,i,n,a,r),this.configureCanvas(t,i,n,a,r);var d=null;if(null==this.stencil&&null==this.points&&this.shapePointerEvents||null!=this.stencil&&this.stencilPointerEvents){var h=this.createBoundingBox();if(this.dialect==s.default.DIALECT_SVG)d=this.createTransparentSvgRectangle(h.x,h.y,h.width,h.height),this.node.appendChild(d);else{var c=t.createRect("rect",h.x/e,h.y/e,h.width/e,h.height/e);c.appendChild(t.createTransparentFill()),c.stroked="false",t.root.appendChild(c)}}if(null!=this.stencil)this.stencil.drawShape(t,this,i,n,a,r);else if(t.setStrokeWidth(this.strokewidth),null!=this.points){for(var p=[],f=0;f<this.points.length;f++)null!=this.points[f]&&p.push(new l.default(this.points[f].x/e,this.points[f].y/e));this.paintEdgeShape(t,p)}else this.paintVertexShape(t,i,n,a,r,this);null!=d&&null!=t.state&&null!=t.state.transform&&d.setAttribute("transform",t.state.transform)},c.prototype.configureCanvas=function(t,e,i,n,l){var a=null;if(null!=this.style&&(a=this.style.dashPattern),t.setAlpha(this.opacity/100),t.setFillAlpha(this.fillOpacity/100),t.setStrokeAlpha(this.strokeOpacity/100),null!=this.isShadow&&t.setShadow(this.isShadow),null!=this.isDashed&&t.setDashed(this.isDashed),null!=a&&t.setDashPattern(a),null!=this.fill&&this.fill!=s.default.NONE&&this.gradient&&this.gradient!=s.default.NONE){var r=this.getGradientBounds(t,e,i,n,l);t.setGradient(this.fill,this.gradient,r.x,r.y,r.width,r.height,this.gradientDirection)}else t.setFillColor(this.fill);t.setStrokeColor(this.stroke)},c.prototype.getGradientBounds=function(t,e,i,n,l){return new o.default(e,i,n,l)},c.prototype.updateTransform=function(t,e,i,n,l){var a=this.stencil&&this.stencil.desc,r=a&&"svg"===a.getAttribute("type");t.scale(this.scale,r),t.rotate(this.getShapeRotation(),this.flipH,this.flipV,e+n/2,i+l/2,r)},c.prototype.paintVertexShape=function(t,e,i,n,l){this.paintBackground(t,e,i,n,l),t.setShadow(!1),this.paintForeground(t,e,i,n,l)},c.prototype.paintBackground=function(t,e,i,n,l){},c.prototype.paintForeground=function(t,e,i,n,l){},c.prototype.paintEdgeShape=function(t,e){},c.prototype.getArcSize=function(t,e){var i=r.default.getValue(this.style,s.default.STYLE_ARCSIZE,100*s.default.RECTANGLE_ROUNDING_FACTOR)/100;return Math.min(t*i,e*i)},c.prototype.paintGlassEffect=function(t,e,i,n,l,a){var r=Math.ceil(this.strokewidth/2),o=.4;t.setGradient("#ffffff","#ffffff",e,i,n,.6*l,"south",.9,.1),t.begin(),a+=2*r,this.isRounded?(t.moveTo(e-r+a,i-r),t.quadTo(e-r,i-r,e-r,i-r+a),t.lineTo(e-r,i+l*o),t.quadTo(e+.5*n,i+.7*l,e+n+r,i+l*o),t.lineTo(e+n+r,i-r+a),t.quadTo(e+n+r,i-r,e+n+r-a,i-r)):(t.moveTo(e-r,i-r),t.lineTo(e-r,i+l*o),t.quadTo(e+.5*n,i+.7*l,e+n+r,i+l*o),t.lineTo(e+n+r,i-r)),t.close(),t.fill()},c.prototype.addPoints=function(t,e,i,n,a){var o=e[e.length-1];if(a&&i){var s=(e=e.slice())[0],u=new l.default(o.x+(s.x-o.x)/2,o.y+(s.y-o.y)/2);e.splice(0,0,u)}var d=e[0],h=1;for(t.moveTo(d.x,d.y);h<(a?e.length:e.length-1);){var c=e[r.default.mod(h,e.length)],p=d.x-c.x,f=d.y-c.y;if(!i||0==p&&0==f)t.lineTo(c.x,c.y);else{var g=Math.sqrt(p*p+f*f),y=p*Math.min(n,g/2)/g,m=f*Math.min(n,g/2)/g,v=c.x+y,E=c.y+m;t.lineTo(v,E);for(var b=e[r.default.mod(h+1,e.length)];h<e.length-2&&0==Math.round(b.x-c.x)&&0==Math.round(b.y-c.y);)b=e[r.default.mod(h+2,e.length)],h++;p=b.x-c.x,f=b.y-c.y,g=Math.max(1,Math.sqrt(p*p+f*f));var S=p*Math.min(n,g/2)/g,w=f*Math.min(n,g/2)/g,A=c.x+S,C=c.y+w;t.quadTo(c.x,c.y,A,C),c=new l.default(A,C)}d=c,h++}a?t.close():t.lineTo(o.x,o.y)},c.prototype.resetStyles=function(){this.initStyles(),this.spacing=0,delete this.fill,delete this.gradient,delete this.gradientDirection,delete this.stroke,delete this.startSize,delete this.endSize,delete this.startArrow,delete this.endArrow,delete this.direction,delete this.isShadow,delete this.isDashed,delete this.isRounded,delete this.glass},c.prototype.apply=function(t){if(this.state=t,this.style=t.style,null!=this.style){if(this.fill=r.default.getValue(this.style,s.default.STYLE_FILLCOLOR,this.fill),this.gradient=r.default.getValue(this.style,s.default.STYLE_GRADIENTCOLOR,this.gradient),this.gradientDirection=r.default.getValue(this.style,s.default.STYLE_GRADIENT_DIRECTION,this.gradientDirection),this.opacity=r.default.getValue(this.style,s.default.STYLE_OPACITY,this.opacity),this.fillOpacity=r.default.getValue(this.style,s.default.STYLE_FILL_OPACITY,this.fillOpacity),this.strokeOpacity=r.default.getValue(this.style,s.default.STYLE_STROKE_OPACITY,this.strokeOpacity),this.stroke=r.default.getValue(this.style,s.default.STYLE_STROKECOLOR,this.stroke),this.strokewidth=r.default.getNumber(this.style,s.default.STYLE_STROKEWIDTH,this.strokewidth),this.arrowStrokewidth=r.default.getNumber(this.style,s.default.STYLE_STROKEWIDTH,this.strokewidth),this.spacing=r.default.getValue(this.style,s.default.STYLE_SPACING,this.spacing),this.startSize=r.default.getNumber(this.style,s.default.STYLE_STARTSIZE,this.startSize),this.endSize=r.default.getNumber(this.style,s.default.STYLE_ENDSIZE,this.endSize),this.startArrow=r.default.getValue(this.style,s.default.STYLE_STARTARROW,this.startArrow),this.endArrow=r.default.getValue(this.style,s.default.STYLE_ENDARROW,this.endArrow),this.rotation=r.default.getValue(this.style,s.default.STYLE_ROTATION,this.rotation),this.direction=r.default.getValue(this.style,s.default.STYLE_DIRECTION,this.direction),this.flipH=1==r.default.getValue(this.style,s.default.STYLE_FLIPH,0),this.flipV=1==r.default.getValue(this.style,s.default.STYLE_FLIPV,0),null!=this.stencil&&(this.flipH=1==r.default.getValue(this.style,"stencilFlipH",0)||this.flipH,this.flipV=1==r.default.getValue(this.style,"stencilFlipV",0)||this.flipV),this.direction==s.default.DIRECTION_NORTH||this.direction==s.default.DIRECTION_SOUTH){var e=this.flipH;this.flipH=this.flipV,this.flipV=e}this.isShadow=1==r.default.getValue(this.style,s.default.STYLE_SHADOW,this.isShadow),this.isDashed=1==r.default.getValue(this.style,s.default.STYLE_DASHED,this.isDashed),this.isRounded=1==r.default.getValue(this.style,s.default.STYLE_ROUNDED,this.isRounded),this.glass=1==r.default.getValue(this.style,s.default.STYLE_GLASS,this.glass),this.fill==s.default.NONE&&(this.fill=null),this.gradient==s.default.NONE&&(this.gradient=null),this.stroke==s.default.NONE&&(this.stroke=null)}},c.prototype.setCursor=function(t){null==t&&(t=""),this.cursor=t,null!=this.node&&(this.node.style.cursor=t)},c.prototype.getCursor=function(){return this.cursor},c.prototype.updateBoundingBox=function(){if(this.useSvgBoundingBox&&null!=this.node&&null!=this.node.ownerSVGElement)try{var t=this.node.getBBox();if(t.width>0&&t.height>0)return this.boundingBox=new o.default(t.x,t.y,t.width,t.height),void this.boundingBox.grow(this.strokewidth*this.scale/2)}catch(t){}if(null!=this.bounds){var e=this.createBoundingBox();if(null!=e){this.augmentBoundingBox(e);var i=this.getShapeRotation();0!=i&&(e=r.default.getBoundingBox(e,i,null,o.default,l.default))}this.boundingBox=e}},c.prototype.createBoundingBox=function(){var t=this.bounds.clone();return(null!=this.stencil&&(this.direction==s.default.DIRECTION_NORTH||this.direction==s.default.DIRECTION_SOUTH)||this.isPaintBoundsInverted())&&t.rotate90(),t},c.prototype.augmentBoundingBox=function(t){this.isShadow&&(t.width+=Math.ceil(s.default.SHADOW_OFFSET_X*this.scale),t.height+=Math.ceil(s.default.SHADOW_OFFSET_Y*this.scale)),t.grow(this.strokewidth*this.scale/2)},c.prototype.isPaintBoundsInverted=function(){return null==this.stencil&&(this.direction==s.default.DIRECTION_NORTH||this.direction==s.default.DIRECTION_SOUTH)},c.prototype.getRotation=function(){return null!=this.rotation?this.rotation:0},c.prototype.getTextRotation=function(){var t=this.getRotation();return 1!=r.default.getValue(this.style,s.default.STYLE_HORIZONTAL,1)&&(t+=-90),t},c.prototype.getShapeRotation=function(){var t=this.getRotation();return null!=this.direction&&(this.direction==s.default.DIRECTION_NORTH?t+=270:this.direction==s.default.DIRECTION_WEST?t+=180:this.direction==s.default.DIRECTION_SOUTH&&(t+=90)),t},c.prototype.createTransparentSvgRectangle=function(t,e,i,n){var l=document.createElementNS(s.default.NS_SVG,"rect");return l.setAttribute("x",t),l.setAttribute("y",e),l.setAttribute("width",i),l.setAttribute("height",n),l.setAttribute("fill","none"),l.setAttribute("stroke","none"),l.setAttribute("pointer-events","all"),l},c.prototype.setTransparentBackgroundImage=function(t){t.style.backgroundImage="url('"+n.default.imageBasePath+"/transparent.gif')"},c.prototype.releaseSvgGradients=function(t){if(null!=t)for(var e in t){var i=t[e];null!=i&&(i.mxRefCount=(i.mxRefCount||0)-1,0==i.mxRefCount&&null!=i.parentNode&&i.parentNode.removeChild(i))}},c.prototype.destroy=function(){null!=this.node&&(a.default.release(this.node),null!=this.node.parentNode&&this.node.parentNode.removeChild(this.node),this.node=null),this.releaseSvgGradients(this.oldGradients),this.oldGradients=null};e.default=c},257784:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(106208);var n=o(i(447831)),l=o(i(247644)),a=o(i(790448)),r=o(i(742288));function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e,i,l,a,r){n.default.call(this,t),this.horizontal=null==e||e,this.spacing=null!=i?i:0,this.x0=null!=l?l:0,this.y0=null!=a?a:0,this.border=null!=r?r:0}s.prototype=new n.default,s.prototype.constructor=s,s.prototype.horizontal=null,s.prototype.spacing=null,s.prototype.x0=null,s.prototype.y0=null,s.prototype.border=0,s.prototype.marginTop=0,s.prototype.marginLeft=0,s.prototype.marginRight=0,s.prototype.marginBottom=0,s.prototype.keepFirstLocation=!1,s.prototype.fill=!1,s.prototype.resizeParent=!1,s.prototype.resizeParentMax=!1,s.prototype.resizeLast=!1,s.prototype.wrap=null,s.prototype.borderCollapse=!0,s.prototype.isHorizontal=function(){return this.horizontal},s.prototype.moveCell=function(t,e,i){var n=this.graph.getModel(),l=n.getParent(t),a=this.isHorizontal();if(null!=t&&null!=l){var r=0,o=0,s=n.getChildCount(l),u=a?e:i,d=this.graph.getView().getState(l);for(null!=d&&(u-=a?d.x:d.y),u/=this.graph.view.scale,r=0;r<s;r++){var h=n.getChildAt(l,r);if(h!=t){var c=n.getGeometry(h);if(null!=c){var p=a?c.x+c.width/2:c.y+c.height/2;if(o<=u&&p>u)break;o=p}}}var f=l.getIndex(t);f=Math.max(0,r-(r>f?1:0)),n.add(l,t,f)}},s.prototype.getParentSize=function(t){var e=this.graph.getModel(),i=e.getGeometry(t);if(null!=this.graph.container&&(null==i&&e.isLayer(t)||t==this.graph.getView().currentRoot)){var n=this.graph.container.offsetWidth-1,a=this.graph.container.offsetHeight-1;i=new l.default(0,0,n,a)}return i},s.prototype.execute=function(t){if(null!=t){var e=this.getParentSize(t),i=this.isHorizontal(),n=this.graph.getModel(),l=null;null!=e&&(l=i?e.height-this.marginTop-this.marginBottom:e.width-this.marginLeft-this.marginRight),l-=2*this.spacing+2*this.border;var o=this.x0+this.border+this.marginLeft,s=this.y0+this.border+this.marginTop;if(this.graph.isSwimlane(t)){var u=this.graph.getCellStyle(t),d=r.default.getNumber(u,a.default.STYLE_STARTSIZE,a.default.DEFAULT_STARTSIZE),h=1==r.default.getValue(u,a.default.STYLE_HORIZONTAL,!0);null!=e&&(d=h?Math.min(d,e.height):Math.min(d,e.width)),i==h&&(l-=d),h?s+=d:o+=d}n.beginUpdate();try{for(var c=0,p=null,f=0,g=null,y=n.getChildCount(t),m=0;m<y;m++){var v=n.getChildAt(t,m);if(!this.isVertexIgnored(v)&&this.isVertexMovable(v)){var E=n.getGeometry(v);if(null!=E){E=E.clone(),null!=this.wrap&&null!=p&&(i&&p.x+p.width+E.width+2*this.spacing>this.wrap||!i&&p.y+p.height+E.height+2*this.spacing>this.wrap)&&(p=null,i?s+=c+this.spacing:o+=c+this.spacing,c=0),c=Math.max(c,i?E.height:E.width);var b=0;if(!this.borderCollapse){var S=this.graph.getCellStyle(v);b=r.default.getNumber(S,a.default.STYLE_STROKEWIDTH,1)}null!=p?i?E.x=f+this.spacing+Math.floor(b/2):E.y=f+this.spacing+Math.floor(b/2):this.keepFirstLocation||(i?E.x=o:E.y=s),i?E.y=s:E.x=o,this.fill&&null!=l&&(i?E.height=l:E.width=l),this.setChildGeometry(v,E),g=v,p=E,f=i?p.x+p.width+Math.floor(b/2):p.y+p.height+Math.floor(b/2)}}}this.resizeParent&&null!=e&&null!=p&&!this.graph.isCellCollapsed(t)?this.updateParentGeometry(t,e,p):this.resizeLast&&null!=e&&null!=p&&null!=g&&(i?p.width=e.width-p.x-this.spacing-this.marginRight-this.marginLeft:p.height=e.height-p.y-this.spacing-this.marginBottom,this.setChildGeometry(g,p))}finally{n.endUpdate()}}},s.prototype.setChildGeometry=function(t,e){var i=this.graph.getCellGeometry(t);null!=i&&e.x==i.x&&e.y==i.y&&e.width==i.width&&e.height==i.height||this.graph.getModel().setGeometry(t,e)},s.prototype.updateParentGeometry=function(t,e,i){var n=this.isHorizontal(),l=this.graph.getModel(),a=e.clone();if(n){var r=i.x+i.width+this.spacing+this.marginRight;this.resizeParentMax?a.width=Math.max(a.width,r):a.width=r}else{r=i.y+i.height+this.spacing+this.marginBottom;this.resizeParentMax?a.height=Math.max(a.height,r):a.height=r}e.x==a.x&&e.y==a.y&&e.width==a.width&&e.height==a.height||l.setGeometry(t,a)};e.default=s},496864:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(106208),i(686456),i(846428);var n=d(i(164460)),l=d(i(11131)),a=d(i(247644)),r=d(i(293792)),o=d(i(790448)),s=d(i(742288)),u=d(i(235680));function d(t){return t&&t.__esModule?t:{default:t}}function h(t){this.desc=t,this.parseDescription(),this.parseConstraints()}h.defaultLocalized=!1,h.allowEval=!1,h.prototype.desc=null,h.prototype.constraints=null,h.prototype.aspect=null,h.prototype.w0=null,h.prototype.h0=null,h.prototype.bgNode=null,h.prototype.fgNode=null,h.prototype.strokewidth=null,h.prototype.parseDescription=function(){this.fgNode=this.desc.getElementsByTagName("foreground")[0],this.bgNode=this.desc.getElementsByTagName("background")[0],this.w0=Number(this.desc.getAttribute("w")||100),this.h0=Number(this.desc.getAttribute("h")||100);var t=this.desc.getAttribute("aspect");this.aspect=null!=t?t:"variable";var e=this.desc.getAttribute("strokewidth");this.strokewidth=null!=e?e:"1"},h.prototype.parseConstraints=function(){var t=this.desc.getElementsByTagName("connections")[0];if(null!=t){var e=s.default.getChildNodes(t);if(null!=e&&e.length>0){this.constraints=[];for(var i=0;i<e.length;i++)this.constraints.push(this.parseConstraint(e[i]))}}},h.prototype.parseConstraint=function(t){var e=Number(t.getAttribute("x")),i=Number(t.getAttribute("y")),l="1"==t.getAttribute("perimeter");return new u.default(new n.default(e,i),l)},h.prototype.evaluateTextAttribute=function(t,e,i){var n=this.evaluateAttribute(t,e,i),a=t.getAttribute("localized");return(h.defaultLocalized&&null==a||"1"==a)&&(n=l.default.get(n)),n},h.prototype.evaluateAttribute=function(t,e,i){var n=t.getAttribute(e);if(null==n){var l=s.default.getTextContent(t);if(null!=l&&h.allowEval){var a=s.default.eval(l);"function"==typeof a&&(n=a(i))}}return n},h.prototype.drawShape=function(t,e,i,n,l,a){var r=s.default.getValue(e.style,o.default.STYLE_DIRECTION,null),u=this.computeAspect(e.style,i,n,l,a,r),d=Math.min(u.width,u.height),h="inherit"==this.strokewidth?Number(s.default.getNumber(e.style,o.default.STYLE_STROKEWIDTH,1)):Number(this.strokewidth)*d;t.setStrokeWidth(h),this.drawChildren(t,e,i,n,l,a,this.bgNode,u,!1),this.drawChildren(t,e,i,n,l,a,this.fgNode,u,!0)},h.prototype.drawChildren=function(t,e,i,n,l,a,r,s,u){if(null!=r&&l>0&&a>0)for(var d=r.firstChild;null!=d;)d.nodeType==o.default.NODETYPE_ELEMENT&&this.drawNode(t,e,d,s,u),d=d.nextSibling},h.prototype.computeAspect=function(t,e,i,n,l,r){var s=e,u=i,d=n/this.w0,h=l/this.h0,c=r==o.default.DIRECTION_NORTH||r==o.default.DIRECTION_SOUTH;if(c){h=n/this.h0,d=l/this.w0;var p=(n-l)/2;s+=p,u-=p}return"fixed"==this.aspect&&(d=h=Math.min(d,h),c?(s+=(l-this.w0*d)/2,u+=(n-this.h0*h)/2):(s+=(n-this.w0*d)/2,u+=(l-this.h0*h)/2)),new a.default(s,u,d,h)},h.prototype.drawNode=function(t,e,i,n,l){var a=i.nodeName,u=n.x,d=n.y,h=n.width,c=n.height,p=Math.min(h,c);if("save"==a)t.save();else if("restore"==a)t.restore();else if("path"==a){t.begin();for(var f=i.firstChild;null!=f;)f.nodeType==o.default.NODETYPE_ELEMENT&&this.drawNode(t,e,f,n,l),f=f.nextSibling}else if("close"==a)t.close();else if("move"==a)t.moveTo(u+Number(i.getAttribute("x"))*h,d+Number(i.getAttribute("y"))*c);else if("line"==a)t.lineTo(u+Number(i.getAttribute("x"))*h,d+Number(i.getAttribute("y"))*c);else if("quad"==a)t.quadTo(u+Number(i.getAttribute("x1"))*h,d+Number(i.getAttribute("y1"))*c,u+Number(i.getAttribute("x2"))*h,d+Number(i.getAttribute("y2"))*c);else if("curve"==a)t.curveTo(u+Number(i.getAttribute("x1"))*h,d+Number(i.getAttribute("y1"))*c,u+Number(i.getAttribute("x2"))*h,d+Number(i.getAttribute("y2"))*c,u+Number(i.getAttribute("x3"))*h,d+Number(i.getAttribute("y3"))*c);else if("arc"==a)t.arcTo(Number(i.getAttribute("rx"))*h,Number(i.getAttribute("ry"))*c,Number(i.getAttribute("x-axis-rotation")),Number(i.getAttribute("large-arc-flag")),Number(i.getAttribute("sweep-flag")),u+Number(i.getAttribute("x"))*h,d+Number(i.getAttribute("y"))*c);else if("rect"==a)t.rect(u+Number(i.getAttribute("x"))*h,d+Number(i.getAttribute("y"))*c,Number(i.getAttribute("w"))*h,Number(i.getAttribute("h"))*c,Number(i.getAttribute("rx"))*h,Number(i.getAttribute("ry"))*c);else if("roundrect"==a){var g=Number(i.getAttribute("arcsize"));0==g&&(g=100*o.default.RECTANGLE_ROUNDING_FACTOR);var y=Number(i.getAttribute("w"))*h,m=Number(i.getAttribute("h"))*c,v=Number(g)/100,E=Math.min(y*v,m*v);t.roundrect(u+Number(i.getAttribute("x"))*h,d+Number(i.getAttribute("y"))*c,y,m,E,E)}else if("ellipse"==a)t.ellipse(u+Number(i.getAttribute("x"))*h,d+Number(i.getAttribute("y"))*c,Number(i.getAttribute("w"))*h,Number(i.getAttribute("h"))*c);else if("image"==a){if(!e.outline){var b=this.evaluateAttribute(i,"src",e);t.image(u+Number(i.getAttribute("x"))*h,d+Number(i.getAttribute("y"))*c,Number(i.getAttribute("w"))*h,Number(i.getAttribute("h"))*c,b,!1,"1"==i.getAttribute("flipH"),"1"==i.getAttribute("flipV"))}}else if("text"==a){if(!e.outline){var S=this.evaluateTextAttribute(i,"str",e),w="1"==i.getAttribute("vertical")?-90:0;if("0"==i.getAttribute("align-shape")){var A=e.rotation,C=1==s.default.getValue(e.style,o.default.STYLE_FLIPH,0),T=1==s.default.getValue(e.style,o.default.STYLE_FLIPV,0);C&&T?w-=A:C||T?w+=A:w-=A}w-=i.getAttribute("rotation"),t.text(u+Number(i.getAttribute("x"))*h,d+Number(i.getAttribute("y"))*c,0,0,S,i.getAttribute("align")||"left",i.getAttribute("valign")||"top",!1,"",null,!1,w)}}else if("include-shape"==a){var M=r.default.getStencil(i.getAttribute("name"));if(null!=M){var x=u+Number(i.getAttribute("x"))*h,I=d+Number(i.getAttribute("y"))*c;y=Number(i.getAttribute("w"))*h,m=Number(i.getAttribute("h"))*c;M.drawShape(t,e,x,I,y,m)}}else if("fillstroke"==a)t.fillAndStroke();else if("fill"==a)t.fill();else if("stroke"==a)t.stroke();else if("strokewidth"==a){var L="1"==i.getAttribute("fixed")?1:p;t.setStrokeWidth(Number(i.getAttribute("width"))*L)}else if("dashed"==a)t.setDashed("1"==i.getAttribute("dashed"));else if("dashpattern"==a){var N=i.getAttribute("pattern");if(null!=N){for(var O=N.split(" "),D=[],R=0;R<O.length;R++)O[R].length>0&&D.push(Number(O[R])*p);N=D.join(" "),t.setDashPattern(N)}}else if("strokecolor"==a){var _=e.style.strokeColor_important;t.setStrokeColor(_||i.getAttribute("color"))}else"linecap"==a?t.setLineCap(i.getAttribute("cap")):"linejoin"==a?t.setLineJoin(i.getAttribute("join")):"miterlimit"==a?t.setMiterLimit(Number(i.getAttribute("limit"))):"fillcolor"==a?t.setFillColor(i.getAttribute("color")):"alpha"==a?t.setAlpha(i.getAttribute("alpha")):"fontcolor"==a?t.setFontColor(i.getAttribute("color")):"fontstyle"==a?t.setFontStyle(i.getAttribute("style")):"fontfamily"==a?t.setFontFamily(i.getAttribute("family")):"fontsize"==a?t.setFontSize(Number(i.getAttribute("size"))*p):"transform"===a&&t.setTransform(i.getAttribute("value"));!l||"fillstroke"!=a&&"fill"!=a&&"stroke"!=a||(l=!1,t.setShadow(!1))};e.default=h},293792:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i(496864)),l=a(i(377544));function a(t){return t&&t.__esModule?t:{default:t}}var r={stencils:{},addStencil:function(t,e){r.stencils[t]=this.createStencil(e)},getStencil:function(t){return r.stencils[t]},createStencil:function(t){return"svg"===t.getAttribute("type")?new l.default(t):new n.default(t)}};e.default=r},68127:function(t,e,i){"use strict";function n(t,e,i){this.model=t,this.cell=e,this.style=i,this.previous=i}i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n.prototype.execute=function(){this.style=this.previous,this.previous=this.model.styleForCellChanged(this.cell,this.previous)},n.getName=function(){return"mxStyleChange"};e.default=n},264400:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(743924),i(387912),i(977864);var n=r(i(810104)),l=r(i(886136)),a=r(i(790448));function r(t){return t&&t.__esModule?t:{default:t}}var o={values:[],putValue:function(t,e){o.values[t]=e},getValue:function(t){return o.values[t]},getName:function(t){for(var e in o.values)if(o.values[e]==t)return e;return null}};o.putValue(a.default.EDGESTYLE_ELBOW,l.default.ElbowConnector),o.putValue(a.default.EDGESTYLE_ENTITY_RELATION,l.default.EntityRelation),o.putValue(a.default.EDGESTYLE_LOOP,l.default.Loop),o.putValue(a.default.EDGESTYLE_SIDETOSIDE,l.default.SideToSide),o.putValue(a.default.EDGESTYLE_TOPTOBOTTOM,l.default.TopToBottom),o.putValue(a.default.EDGESTYLE_ORTHOGONAL,l.default.OrthConnector),o.putValue(a.default.EDGESTYLE_SEGMENT,l.default.SegmentConnector),o.putValue(a.default.PERIMETER_ELLIPSE,n.default.EllipsePerimeter),o.putValue(a.default.PERIMETER_RECTANGLE,n.default.RectanglePerimeter),o.putValue(a.default.PERIMETER_RHOMBUS,n.default.RhombusPerimeter),o.putValue(a.default.PERIMETER_TRIANGLE,n.default.TrianglePerimeter),o.putValue(a.default.PERIMETER_HEXAGON,n.default.HexagonPerimeter);e.default=o},215472:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(241872),i(23544);var n=o(i(810104)),l=o(i(742288)),a=o(i(790448)),r=o(i(132448));function o(t){return t&&t.__esModule?t:{default:t}}function s(){this.styles=new Object,this.putDefaultVertexStyle(this.createDefaultVertexStyle()),this.putDefaultEdgeStyle(this.createDefaultEdgeStyle())}s.prototype.styles={},s.prototype.createDefaultVertexStyle=function(){var t=new Object;return t[a.default.STYLE_SHAPE]=a.default.SHAPE_RECTANGLE,t[a.default.STYLE_PERIMETER]=n.default.RectanglePerimeter,t[a.default.STYLE_VERTICAL_ALIGN]=a.default.ALIGN_MIDDLE,t[a.default.STYLE_ALIGN]=a.default.ALIGN_LEFT,t[a.default.STYLE_FONTCOLOR]="#666666",t},s.prototype.createDefaultEdgeStyle=function(){var t=new Object;return t[a.default.STYLE_SHAPE]=a.default.SHAPE_CONNECTOR,t[a.default.STYLE_ENDARROW]=a.default.ARROW_TRIANGLE,t[a.default.STYLE_VERTICAL_ALIGN]=a.default.ALIGN_MIDDLE,t[a.default.STYLE_ALIGN]=a.default.ALIGN_CENTER,t[a.default.STYLE_STROKECOLOR]="#D8D8D8",t[a.default.STYLE_FONTCOLOR]="#BBBBBB",t[a.default.STYLE_LABEL_BACKGROUNDCOLOR]="#FFF",t[a.default.STYLE_STROKEWIDTH]=2,t[a.default.STYLE_ROUNDED]=1,t},s.prototype.putDefaultVertexStyle=function(t){this.putCellStyle("defaultVertex",t)},s.prototype.putDefaultEdgeStyle=function(t){this.putCellStyle("defaultEdge",t)},s.prototype.getDefaultVertexStyle=function(){return this.styles.defaultVertex},s.prototype.getDefaultEdgeStyle=function(){return this.styles.defaultEdge},s.prototype.putCellStyle=function(t,e){this.styles[t]=e},s.prototype.getCellStyle=function(t,e){var i=e;if(null!=t&&t.length>0){var n=t.split(";");i=null!=i&&";"!=t.charAt(0)?l.default.clone(i):new Object;for(var o=0;o<n.length;o++){var s=n[o],u=s.indexOf("=");if(u>=0){var d=s.substring(0,u),h=s.substring(u+1);if(h==a.default.NONE)delete i[d];else if(r.default.isNumeric(h))i[d]=parseFloat(h);else{i[d]=h;var c=h.indexOf("!important");c>-1&&(i[d]=i[d+"_important"]=h.substring(0,c))}}else{var p=this.styles[s];if(null!=p)for(var d in p)i[d]=p[d]}}}return i},s.getName=function(){return"mxStylesheet"};e.default=s},363120:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(106208),i(241872),i(686456),i(820444),i(846428),i(999768),i(23544),i(633768),i(513640),i(321164),i(137984);var n=s(i(22676)),l=s(i(247644)),a=s(i(802464)),r=s(i(790448)),o=s(i(742288));function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e){a.default.call(this),this.root=t,this.gradients=[],this.defs=document.querySelector("svg.defs defs"),this.styleEnabled=null!=e&&e;var i=null;if(t.ownerDocument!=document){for(var n=t;null!=n&&"svg"!=n.nodeName;)n=n.parentNode;i=n}null!=i&&(i.getElementsByTagName("defs").length>0&&(this.defs=i.getElementsByTagName("defs")[0]),null==this.defs&&(this.defs=this.createElement("defs"),null!=i.firstChild?i.insertBefore(this.defs,i.firstChild):i.appendChild(this.defs)),this.styleEnabled&&this.defs.appendChild(this.createStyle()))}o.default.extend(u,a.default),function(){if(u.prototype.useDomParser=!n.default.IS_IE&&"function"==typeof DOMParser&&"function"==typeof XMLSerializer,u.prototype.useDomParser)try{var t=(new DOMParser).parseFromString("test text","text/html");u.prototype.useDomParser=null!=t}catch(t){u.prototype.useDomParser=!1}}(),u.prototype.node=null,u.prototype.matchHtmlAlignment=!0,u.prototype.textEnabled=!0,u.prototype.foEnabled=!0,u.prototype.foAltText="[Object]",u.prototype.foOffset=0,u.prototype.textOffset=0,u.prototype.strokeTolerance=0,u.prototype.refCount=0,u.prototype.blockImagePointerEvents=!1,u.prototype.lineHeightCorrection=1,u.prototype.pointerEventsValue="all",u.prototype.fontMetricsPadding=10,u.prototype.cacheOffsetSize=!0,u.prototype.format=function(t){return parseFloat(parseFloat(t).toFixed(2))},u.prototype.getBaseUrl=function(){var t=window.location.href,e=t.lastIndexOf("#");return e>0&&(t=t.substring(0,e)),t},u.prototype.reset=function(){a.default.prototype.reset.apply(this,arguments),this.gradients=[]},u.prototype.createStyle=function(t){var e=this.createElement("style");return e.setAttribute("type","text/css"),o.default.write(e,"svg{font-family:"+r.default.DEFAULT_FONTFAMILY+";font-size:"+r.default.DEFAULT_FONTSIZE+";fill:none;stroke-miterlimit:10}"),e},u.prototype.createElement=function(t,e){if(null!=this.root.ownerDocument.createElementNS)return this.root.ownerDocument.createElementNS(e||r.default.NS_SVG,t);var i=this.root.ownerDocument.createElement(t);return null!=e&&i.setAttribute("xmlns",e),i},u.prototype.createAlternateContent=function(t,e,i,n,l,a,s,u,d,h,c,p,f){if(null!=this.foAltText){var g=this.state,y=this.createElement("text");return y.setAttribute("x",Math.round(n/2)),y.setAttribute("y",Math.round((l+g.fontSize)/2)),y.setAttribute("fill",g.fontColor||"black"),y.setAttribute("text-anchor","middle"),y.setAttribute("font-size",g.fontSize+"px"),y.setAttribute("font-family",g.fontFamily),(g.fontStyle&r.default.FONT_BOLD)==r.default.FONT_BOLD&&y.setAttribute("font-weight","bold"),(g.fontStyle&r.default.FONT_ITALIC)==r.default.FONT_ITALIC&&y.setAttribute("font-style","italic"),(g.fontStyle&r.default.FONT_UNDERLINE)==r.default.FONT_UNDERLINE&&y.setAttribute("text-decoration","underline"),o.default.write(y,this.foAltText),y}return null},u.prototype.createGradientId=function(t,e,i,n,l){"#"==t.charAt(0)&&(t=t.substring(1)),"#"==e.charAt(0)&&(e=e.substring(1)),t=t.toLowerCase()+"-"+i,e=e.toLowerCase()+"-"+n;var a=null;if(null==l||l==r.default.DIRECTION_SOUTH)a="s";else if(l==r.default.DIRECTION_EAST)a="e";else{var o=t;t=e,e=o,l==r.default.DIRECTION_NORTH?a="s":l==r.default.DIRECTION_WEST&&(a="e")}return"mx-gradient-"+t+"-"+e+"-"+a},u.prototype.getSvgGradient=function(t,e,i,n,l){var a=this.createGradientId(t,e,i,n,l),r=this.gradients[a];if(null==r){var o=this.root.ownerSVGElement,s=0,u=a+"-"+s;if(null!=o)for(r=o.ownerDocument.getElementById(u);null!=r&&r.ownerSVGElement!=o;)u=a+"-"+s++,r=o.ownerDocument.getElementById(u);else u="id"+ ++this.refCount;null==r&&((r=this.createSvgGradient(t,e,i,n,l)).setAttribute("id",u),null!=this.defs?this.defs.appendChild(r):o&&o.appendChild(r)),this.gradients[a]=r}return r.getAttribute("id")},u.prototype.createSvgGradient=function(t,e,i,n,l){var a=this.createElement("linearGradient");a.setAttribute("x1","0%"),a.setAttribute("y1","0%"),a.setAttribute("x2","0%"),a.setAttribute("y2","0%"),null==l||l==r.default.DIRECTION_SOUTH?a.setAttribute("y2","100%"):l==r.default.DIRECTION_EAST?a.setAttribute("x2","100%"):l==r.default.DIRECTION_NORTH?a.setAttribute("y1","100%"):l==r.default.DIRECTION_WEST&&a.setAttribute("x1","100%");var o=i<1?";stop-opacity:"+i:"",s=this.createElement("stop");return s.setAttribute("offset","0%"),s.setAttribute("style","stop-color:"+t+o),a.appendChild(s),o=n<1?";stop-opacity:"+n:"",(s=this.createElement("stop")).setAttribute("offset","100%"),s.setAttribute("style","stop-color:"+e+o),a.appendChild(s),a},u.prototype.addNode=function(t,e){var i=this.node,l=this.state;if(null!=i){if("path"==i.nodeName){if(!(null!=this.path&&this.path.length>0))return;i.setAttribute("d",this.path.join(" "))}t&&null!=l.fillColor?this.updateFill():this.styleEnabled||("ellipse"==i.nodeName&&n.default.IS_FF?i.setAttribute("fill","transparent"):i.setAttribute("fill","none"),t=!1),e&&null!=l.strokeColor?this.updateStroke():this.styleEnabled||i.setAttribute("stroke","none"),null!=l.transform&&l.transform.length>0&&i.setAttribute("transform",l.transform),l.shadow&&this.root.appendChild(this.createShadow(i)),this.strokeTolerance>0&&!t&&this.root.appendChild(this.createTolerance(i)),!this.pointerEvents||"path"==i.nodeName&&this.path[this.path.length-1]!=this.closeOp?this.pointerEvents||null!=this.originalRoot||i.setAttribute("pointer-events","none"):i.setAttribute("pointer-events",this.pointerEventsValue),("rect"!=i.nodeName&&"path"!=i.nodeName&&"ellipse"!=i.nodeName||"none"!=i.getAttribute("fill")&&"transparent"!=i.getAttribute("fill")||"none"!=i.getAttribute("stroke")||"none"!=i.getAttribute("pointer-events"))&&this.root.appendChild(i),this.node=null}},u.prototype.updateFill=function(){var t=this.state;if((t.alpha<1||t.fillAlpha<1)&&this.node.setAttribute("fill-opacity",t.alpha*t.fillAlpha),null!=t.fillColor)if(null!=t.gradientColor){var e=this.getSvgGradient(t.fillColor,t.gradientColor,t.gradientFillAlpha,t.gradientAlpha,t.gradientDirection);if(n.default.IS_CHROME_APP||n.default.IS_IE||n.default.IS_IE11||n.default.IS_EDGE||this.root.ownerDocument!=document)this.node.setAttribute("fill","url(#"+e+")");else{var i=this.getBaseUrl().replace(/([\(\)])/g,"\\$1");this.node.setAttribute("fill","url("+i+"#"+e+")")}}else this.node.setAttribute("fill",t.fillColor.toLowerCase())},u.prototype.getCurrentStrokeWidth=function(){return Math.max(1,this.format(this.state.strokeWidth*this.state.scale))},u.prototype.updateStroke=function(){var t=this.state;this.node.setAttribute("stroke",t.strokeColor.toLowerCase()),(t.alpha<1||t.strokeAlpha<1)&&this.node.setAttribute("stroke-opacity",t.alpha*t.strokeAlpha);var e=this.getCurrentStrokeWidth();1!=e&&this.node.setAttribute("stroke-width",e),"path"==this.node.nodeName&&this.updateStrokeAttributes(),t.dashed&&this.node.setAttribute("stroke-dasharray",this.createDashPattern(t.strokeWidth*t.scale))},u.prototype.updateStrokeAttributes=function(){var t=this.state;if(null!=t.lineJoin&&"miter"!=t.lineJoin&&this.node.setAttribute("stroke-linejoin",t.lineJoin),null!=t.lineCap){var e=t.lineCap;"flat"==e&&(e="butt"),"butt"!=e&&this.node.setAttribute("stroke-linecap",e)}null==t.miterLimit||this.styleEnabled&&10==t.miterLimit||this.node.setAttribute("stroke-miterlimit",t.miterLimit)},u.prototype.createDashPattern=function(t){var e=[];if("string"==typeof this.state.dashPattern){var i=this.state.dashPattern.split(" ");if(i.length>0)for(var n=0;n<i.length;n++)e[n]=Number(i[n])*t}return e.join(" ")},u.prototype.createTolerance=function(t){var e=t.cloneNode(!0),i=parseFloat(e.getAttribute("stroke-width")||1)+this.strokeTolerance;return e.setAttribute("pointer-events","stroke"),e.setAttribute("visibility","hidden"),e.removeAttribute("stroke-dasharray"),e.setAttribute("stroke-width",i),e.setAttribute("fill","none"),e.setAttribute("stroke",n.default.IS_OT?"none":"white"),e},u.prototype.createShadow=function(t){var e=t.cloneNode(!0),i=this.state;return"none"==e.getAttribute("fill")||n.default.IS_FF&&"transparent"==e.getAttribute("fill")||e.setAttribute("fill",i.shadowColor),"none"!=e.getAttribute("stroke")&&e.setAttribute("stroke",i.shadowColor),e.setAttribute("transform","translate("+this.format(i.shadowDx*i.scale)+","+this.format(i.shadowDy*i.scale)+")"+(i.transform||"")),e.setAttribute("opacity",i.shadowAlpha),e},u.prototype.setLink=function(t){if(null==t)this.root=this.originalRoot;else{this.originalRoot=this.root;var e=this.createElement("a");null==e.setAttributeNS||this.root.ownerDocument!=document&&null==document.documentMode?e.setAttribute("xlink:href",t):e.setAttributeNS(r.default.NS_XLINK,"xlink:href",t),this.root.appendChild(e),this.root=e}},u.prototype.rotate=function(t,e,i,n,l){if(0!=t||e||i){var a=this.state;if(n+=a.dx,l+=a.dy,n*=a.scale,l*=a.scale,a.transform=a.transform||"",e&&i)t+=180;else if(e!=i){var r=e?n:0,o=e?-1:1,s=i?l:0,u=i?-1:1;a.transform+="translate("+this.format(r)+","+this.format(s)+")scale("+this.format(o)+","+this.format(u)+")translate("+this.format(-r)+","+this.format(-s)+")"}(e?!i:i)&&(t*=-1),0!=t&&(a.transform+="rotate("+this.format(t)+","+this.format(n)+","+this.format(l)+")"),a.rotation=a.rotation+t,a.rotationCx=n,a.rotationCy=l}},u.prototype.begin=function(){a.default.prototype.begin.apply(this,arguments),this.node=this.createElement("path")},u.prototype.rect=function(t,e,i,n,l,a){l=l||0,a=a||0;var r=this.state,o=this.createElement("rect");o.setAttribute("x",this.format((t+r.dx)*r.scale)),o.setAttribute("y",this.format((e+r.dy)*r.scale)),o.setAttribute("width",this.format(i*r.scale)),o.setAttribute("height",this.format(n*r.scale)),o.setAttribute("rx",this.format(l*r.scale)),o.setAttribute("ry",this.format(a*r.scale)),this.node=o},u.prototype.roundrect=function(t,e,i,n,l,a){this.rect(t,e,i,n),l>0&&this.node.setAttribute("rx",this.format(l*this.state.scale)),a>0&&this.node.setAttribute("ry",this.format(a*this.state.scale))},u.prototype.ellipse=function(t,e,i,n){var l=this.state,a=this.createElement("ellipse");a.setAttribute("cx",Math.round((t+i/2+l.dx)*l.scale)),a.setAttribute("cy",Math.round((e+n/2+l.dy)*l.scale)),a.setAttribute("rx",i/2*l.scale),a.setAttribute("ry",n/2*l.scale),this.node=a},u.prototype.image=function(t,e,i,n,l,a,o,s){l=this.converter.convert(l),a=null==a||a,o=null!=o&&o,s=null!=s&&s;var u=this.state;t+=u.dx,e+=u.dy;var d=this.createElement("image");d.setAttribute("x",this.format(t*u.scale)),d.setAttribute("y",this.format(e*u.scale)),d.setAttribute("width",this.format(i*u.scale)),d.setAttribute("height",this.format(n*u.scale)),null==d.setAttributeNS?d.setAttribute("xlink:href",l):d.setAttributeNS(r.default.NS_XLINK,"xlink:href",l),a||d.setAttribute("preserveAspectRatio","none"),(u.alpha<1||u.fillAlpha<1)&&d.setAttribute("opacity",u.alpha*u.fillAlpha);var h=this.state.transform||"";if(o||s){var c=1,p=1,f=0,g=0;o&&(c=-1,f=-i-2*t),s&&(p=-1,g=-n-2*e),h+="scale("+c+","+p+")translate("+f*u.scale+","+g*u.scale+")"}h.length>0&&d.setAttribute("transform",h),this.pointerEvents||d.setAttribute("pointer-events","none"),this.root.appendChild(d),this.blockImagePointerEvents&&(d.setAttribute("style","pointer-events:none"),(d=this.createElement("rect")).setAttribute("visibility","hidden"),d.setAttribute("pointer-events","fill"),d.setAttribute("x",this.format(t*u.scale)),d.setAttribute("y",this.format(e*u.scale)),d.setAttribute("width",this.format(i*u.scale)),d.setAttribute("height",this.format(n*u.scale)),this.root.appendChild(d))},u.prototype.convertHtml=function(t){if(this.useDomParser){var e=(new DOMParser).parseFromString(t,"text/html");null!=e&&("<body"==(t=(new XMLSerializer).serializeToString(e.body)).substring(0,5)&&(t=t.substring(t.indexOf(">",5)+1)),"</body>"==t.substring(t.length-7,t.length)&&(t=t.substring(0,t.length-7)))}else{if(null!=document.implementation&&null!=document.implementation.createDocument){var i=document.implementation.createDocument("http://www.w3.org/1999/xhtml","html",null),n=i.createElement("body");i.documentElement.appendChild(n);var l=document.createElement("div");l.innerHTML=t;for(var a=l.firstChild;null!=a;){var r=a.nextSibling;n.appendChild(i.adoptNode(a)),a=r}return n.innerHTML}var o=document.createElement("textarea");o.innerHTML=t.replace(/&amp;/g,"&amp;amp;").replace(/&#60;/g,"&amp;lt;").replace(/&#62;/g,"&amp;gt;").replace(/&lt;/g,"&amp;lt;").replace(/&gt;/g,"&amp;gt;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),t=o.value.replace(/&/g,"&amp;").replace(/&amp;lt;/g,"&lt;").replace(/&amp;gt;/g,"&gt;").replace(/&amp;amp;/g,"&amp;").replace(/<br>/g,"<br />").replace(/<hr>/g,"<hr />").replace(/(<img[^>]+)>/gm,"$1 />")}return t},u.prototype.createDiv=function(t,e,i,l,a,s){var u=this.state;l="display:inline-block;font-size:"+u.fontSize+"px;font-family:"+u.fontFamily+";color:"+u.fontColor+";line-height:"+s+";"+l,(u.fontStyle&r.default.FONT_BOLD)==r.default.FONT_BOLD&&(l+="font-weight:bold;"),(u.fontStyle&r.default.FONT_ITALIC)==r.default.FONT_ITALIC&&(l+="font-style:italic;"),(u.fontStyle&r.default.FONT_UNDERLINE)==r.default.FONT_UNDERLINE&&(l+="text-decoration:underline;"),e==r.default.ALIGN_CENTER?l+="text-align:center;":e==r.default.ALIGN_RIGHT&&(l+="text-align:right;");var d="";null!=u.fontBackgroundColor&&(d+="background-color:"+u.fontBackgroundColor+";"),null!=u.fontBorderColor&&(d+="border:1px solid "+u.fontBorderColor+";");var h=t;if(!o.default.isNode(h))if(h=this.convertHtml(h),"fill"!=a&&"width"!=a){var c=h&&h.replaceAll('"',"'");h='<div xmlns="http://www.w3.org/1999/xhtml" class="text" title="'+c+'" style="display:inline-block;text-align:inherit;text-decoration:inherit;'+d+'">'+h+"</div>"}else l+=d;if(!n.default.IS_IE&&document.createElementNS){var p=document.createElementNS("http://www.w3.org/1999/xhtml","div");return p.setAttribute("style",l),o.default.isNode(h)?this.root.ownerDocument!=document?p.appendChild(h.cloneNode(!0)):p.appendChild(h):p.innerHTML=h,p}return o.default.isNode(h)&&this.root.ownerDocument!=document&&(h=h.outerHTML),o.default.parseXml('<div xmlns="http://www.w3.org/1999/xhtml" style="'+l+'">'+h+"</div>").documentElement},u.prototype.invalidateCachedOffsetSize=function(t){delete t.firstChild.mxCachedOffsetWidth,delete t.firstChild.mxCachedFinalOffsetWidth,delete t.firstChild.mxCachedFinalOffsetHeight},u.prototype.updateText=function(t,e,i,l,a,o,s,u,d,h,c){if(null!=c&&null!=c.firstChild&&null!=c.firstChild.firstChild&&null!=c.firstChild.firstChild.firstChild){var p=c.firstChild,f=p.firstChild,g=f.firstChild;h=null!=h?h:0;var y=this.state;t+=y.dx,e+=y.dy,d?(g.style.maxHeight=Math.round(l)+"px",g.style.maxWidth=Math.round(i)+"px"):"fill"==u?(g.style.width=Math.round(i+1)+"px",g.style.height=Math.round(l+1)+"px"):"width"==u&&(g.style.width=Math.round(i+1)+"px",l>0&&(g.style.maxHeight=Math.round(l)+"px")),s&&i>0&&(g.style.width=Math.round(i+1)+"px");var m=0,v=0,E=g;null!=E.firstChild&&"DIV"==E.firstChild.nodeName&&(E=E.firstChild),m=(null!=p.mxCachedOffsetWidth?p.mxCachedOffsetWidth:E.offsetWidth)+2,s&&"fill"!=u&&(d&&(m=Math.min(m,i)),g.style.width=m+"px"),m=(null!=p.mxCachedFinalOffsetWidth?p.mxCachedFinalOffsetWidth:E.offsetWidth)+2,v=(null!=p.mxCachedFinalOffsetHeight?p.mxCachedFinalOffsetHeight:E.offsetHeight)-2,d&&(v=Math.min(v,l),m=Math.min(m,i)),"width"==u?l=v:"fill"!=u&&(i=m,l=v);var b=0,S=0;a==r.default.ALIGN_CENTER?b-=i/2:a==r.default.ALIGN_RIGHT&&(b-=i),t+=b,o==r.default.ALIGN_MIDDLE?S-=l/2:o==r.default.ALIGN_BOTTOM&&(S-=l),"fill"!=u&&n.default.IS_FF&&n.default.IS_WIN&&(S-=2),e+=S;var w=1!=y.scale?"scale("+y.scale+")":"";if(0!=y.rotation&&this.rotateHtml){w+="rotate("+y.rotation+","+i/2+","+l/2+")";var A=this.rotatePoint((t+i/2)*y.scale,(e+l/2)*y.scale,y.rotation,y.rotationCx,y.rotationCy);t=A.x-i*y.scale/2,e=A.y-l*y.scale/2}else t*=y.scale,e*=y.scale;0!=h&&(w+="rotate("+h+","+-b+","+-S+")"),p.setAttribute("transform","translate("+Math.round(t)+","+Math.round(e)+")"+w),f.setAttribute("width",Math.round(Math.max(1,i))),f.setAttribute("height",Math.round(Math.max(1,l)))}},u.prototype.text=function(t,e,i,l,a,o,s,u,d,h,c,p,f){if(this.textEnabled&&null!=a){p=null!=p?p:0;var g=3,y=this.state,m=Math.round(l),v=Math.round(i),E=r.default.ABSOLUTE_LINE_HEIGHT?y.fontSize*r.default.LINE_HEIGHT+"px":r.default.LINE_HEIGHT*this.lineHeightCorrection;if(t+=y.dx,e+=y.dy,this.foEnabled&&"html"==d){var b="vertical-align:top;";c?(b+="overflow:hidden;max-height:"+m+"px;max-width:"+v+"px;",u&&(E=(m/((g=Math.floor(m/(y.fontSize*E))||1)*y.fontSize)).toFixed(2))):"fill"==h?b+="width:"+Math.round(i+1)+"px;height:"+Math.round(l+1)+"px;overflow:hidden;":"width"==h&&(b+="width:"+Math.round(i+1)+"px;",l>0&&(b+="max-height:"+Math.round(l)+"px;overflow:hidden;")),b+=u&&i>0?"width:"+Math.round(i+1)+"px;white-space:normal;word-wrap:"+r.default.WORD_WRAP+";word-break:break-all;":"white-space:nowrap;";var S=this.createElement("g");y.alpha<1&&S.setAttribute("opacity",y.alpha);var w=document.createElementNS(r.default.NS_SVG,"foreignObject");w.setAttribute("style","overflow:visible;"),w.setAttribute("pointer-events","all");var A=this.createDiv(a,o,s,b,h,E);if(null==A)return;null!=f&&A.setAttribute("dir",f),S.appendChild(w),this.root.appendChild(S);var C=0,T=0,M=2,x=2;if(!n.default.IS_IE||9!=document.documentMode&&n.default.IS_SVG){this.root.ownerDocument!=document?(A.style.visibility="hidden",document.body.appendChild(A)):w.appendChild(A);var I=A;if(null!=I.firstChild&&"DIV"==I.firstChild.nodeName&&(I=I.firstChild,u&&"break-word"==A.style.wordWrap&&(I.style.width="100%")),0==(D=I.offsetWidth)&&A.parentNode==w&&(A.style.visibility="hidden",document.body.appendChild(A),D=I.offsetWidth),this.cacheOffsetSize&&(S.mxCachedOffsetWidth=D),!c&&u&&i>0&&this.root.ownerDocument!=document&&"fill"!=h&&"width"!=h){R=A.style.whiteSpace;A.style.whiteSpace="nowrap",D<I.offsetWidth&&(A.style.whiteSpace=R)}C=D+M-1,u&&"fill"!=h&&"width"!=h&&(c&&(C=Math.min(C,i)),A.style.width=C+"px"),C=I.offsetWidth,T=I.offsetHeight,this.cacheOffsetSize&&(S.mxCachedFinalOffsetWidth=C,S.mxCachedFinalOffsetHeight=T),T-=x;var L=A.firstElementChild;c&&u&&T>m&&L&&(L.style.display="-webkit-box",L.style["-webkit-box-orient"]="vertical",L.style["-webkit-line-clamp"]=g,L.style.overflow="hidden"),A.parentNode!=w&&(w.appendChild(A),A.style.visibility="")}else{var N=document.createElement("div");N.style.cssText=A.getAttribute("style"),N.style.display=n.default.IS_QUIRKS?"inline":"inline-block",N.style.position="absolute",N.style.visibility="hidden";var O=document.createElement("div");if(O.style.display=n.default.IS_QUIRKS?"inline":"inline-block",O.style.wordWrap=r.default.WORD_WRAP,O.innerHTML=mxUtils.isNode(a)?a.outerHTML:a,N.appendChild(O),document.body.appendChild(N),8!=document.documentMode&&9!=document.documentMode&&null!=y.fontBorderColor&&(M+=2,x+=2),u&&i>0){var D=O.offsetWidth;if(!c&&i>0&&this.root.ownerDocument!=document&&"fill"!=h){var R=N.style.whiteSpace;O.style.whiteSpace="nowrap",D<O.offsetWidth&&(N.style.whiteSpace=R)}c&&(D=Math.min(D,i)),N.style.width=D+"px",C=O.offsetWidth+M+0,T=O.offsetHeight+x,N.style.display="inline-block",N.style.position="",N.style.visibility="",N.style.width=C+"px",A.setAttribute("style",N.style.cssText)}else C=O.offsetWidth+M,T=O.offsetHeight+x;N.parentNode.removeChild(N),w.appendChild(A)}c&&(T=Math.min(T,l),C=Math.min(C,i)),"width"==h?l=T:"fill"!=h&&(i=C,l=T),y.alpha<1&&S.setAttribute("opacity",y.alpha);var _=0,P=0;o==r.default.ALIGN_CENTER?_-=i/2:o==r.default.ALIGN_RIGHT&&(_-=i),t+=_,s==r.default.ALIGN_MIDDLE?P-=l/2:s==r.default.ALIGN_BOTTOM&&(P-=l),"fill"!=h&&n.default.IS_FF&&n.default.IS_WIN&&(P-=2),e+=P;var k=1!=y.scale?"scale("+y.scale+")":"";if(0!=y.rotation&&this.rotateHtml){k+="rotate("+y.rotation+","+i/2+","+l/2+")";var H=this.rotatePoint((t+i/2)*y.scale,(e+l/2)*y.scale,y.rotation,y.rotationCx,y.rotationCy);t=H.x-i*y.scale/2,e=H.y-l*y.scale/2}else t*=y.scale,e*=y.scale;if(0!=p&&(k+="rotate("+p+","+-_+","+-P+")"),S.setAttribute("transform","translate("+(Math.round(t)+this.foOffset)+","+(Math.round(e)+this.foOffset)+")"+k),w.setAttribute("width",Math.round(Math.max(1,i))),w.setAttribute("height",Math.round(Math.max(1,l))),this.root.ownerDocument!=document){var G=this.createAlternateContent(w,t,e,i,l,a,o,s,u,d,h,c,p);if(null!=G){w.setAttribute("requiredFeatures","http://www.w3.org/TR/SVG11/feature#Extensibility");var B=this.createElement("switch");B.appendChild(w),B.appendChild(G),S.appendChild(B)}}}else this.plainText(t,e,i,l,a,o,s,u,h,c,p,f)}},u.prototype.createClip=function(t,e,i,n){for(var l="mx-clip-"+(t=Math.round(t))+"-"+(e=Math.round(e))+"-"+(i=Math.round(i))+"-"+(n=Math.round(n)),a=0,r=l+"-"+a;null!=document.getElementById(r);)r=l+"-"+ ++a;clip=this.createElement("clipPath"),clip.setAttribute("id",r);var o=this.createElement("rect");return o.setAttribute("x",t),o.setAttribute("y",e),o.setAttribute("width",i),o.setAttribute("height",n),clip.appendChild(o),clip},u.prototype.plainText=function(t,e,i,l,a,s,u,d,h,c,p,f){p=null!=p?p:0;var g=this.state,y=g.fontSize,m=this.createElement("g"),v=g.transform||"";if(this.updateFont(m),0!=p&&(v+="rotate("+p+","+this.format(t*g.scale)+","+this.format(e*g.scale)+")"),null!=f&&m.setAttribute("direction",f),c&&i>0&&l>0){var E=t,b=e;s==r.default.ALIGN_CENTER?E-=i/2:s==r.default.ALIGN_RIGHT&&(E-=i),"fill"!=h&&(u==r.default.ALIGN_MIDDLE?b-=l/2:u==r.default.ALIGN_BOTTOM&&(b-=l));var S=this.createClip(E*g.scale-2,b*g.scale-2,i*g.scale+4,l*g.scale+4);if(null!=this.defs?this.defs.appendChild(S):this.root.appendChild(S),n.default.IS_CHROME_APP||n.default.IS_IE||n.default.IS_IE11||n.default.IS_EDGE||this.root.ownerDocument!=document)m.setAttribute("clip-path","url(#"+S.getAttribute("id")+")");else{var w=this.getBaseUrl().replace(/([\(\)])/g,"\\$1");m.setAttribute("clip-path","url("+w+"#"+S.getAttribute("id")+")")}}var A=s==r.default.ALIGN_RIGHT?"end":s==r.default.ALIGN_CENTER?"middle":"start";"start"!=A&&m.setAttribute("text-anchor",A),this.styleEnabled&&y==r.default.DEFAULT_FONTSIZE||m.setAttribute("font-size",y*g.scale+"px"),v.length>0&&m.setAttribute("transform",v),g.alpha<1&&m.setAttribute("opacity",g.alpha);var C=a.split("\n"),T=Math.round(y*r.default.LINE_HEIGHT),M=y+(C.length-1)*T;b=e+y-1;if(u==r.default.ALIGN_MIDDLE)b-="fill"==h?l/2:(this.matchHtmlAlignment&&c&&l>0?Math.min(M,l):M)/2+1;else if(u==r.default.ALIGN_BOTTOM){if("fill"==h)b-=l;else b-=(this.matchHtmlAlignment&&c&&l>0?Math.min(M,l):M)+2}for(var x=0;x<C.length;x++){if(C[x].length>0&&o.default.trim(C[x]).length>0){var I=this.createElement("text");I.setAttribute("x",this.format(t*g.scale)+this.textOffset),I.setAttribute("y",this.format(b*g.scale)+this.textOffset),o.default.write(I,C[x]),m.appendChild(I)}b+=T}this.root.appendChild(m),this.addTextBackground(m,a,t,e,i,"fill"==h?l:M,s,u,h)},u.prototype.updateFont=function(t){var e=this.state;t.setAttribute("fill",e.fontColor),this.styleEnabled&&e.fontFamily==r.default.DEFAULT_FONTFAMILY||t.setAttribute("font-family",e.fontFamily),(e.fontStyle&r.default.FONT_BOLD)==r.default.FONT_BOLD&&t.setAttribute("font-weight","bold"),(e.fontStyle&r.default.FONT_ITALIC)==r.default.FONT_ITALIC&&t.setAttribute("font-style","italic"),(e.fontStyle&r.default.FONT_UNDERLINE)==r.default.FONT_UNDERLINE&&t.setAttribute("text-decoration","underline")},u.prototype.addTextBackground=function(t,e,i,a,s,u,d,h,c){var p=this.state;if(null!=p.fontBackgroundColor||null!=p.fontBorderColor){var f=null;if("fill"==c||"width"==c)d==r.default.ALIGN_CENTER?i-=s/2:d==r.default.ALIGN_RIGHT&&(i-=s),h==r.default.ALIGN_MIDDLE?a-=u/2:h==r.default.ALIGN_BOTTOM&&(a-=u),f=new l.default((i+1)*p.scale,a*p.scale,(s-2)*p.scale,(u+2)*p.scale);else if(null!=t.getBBox&&this.root.ownerDocument==document)try{f=t.getBBox();var g=n.default.IS_IE&&n.default.IS_SVG;f=new l.default(f.x,f.y+(g?0:1),f.width,f.height+(g?1:0))}catch(t){}else{var y=document.createElement("div");y.style.lineHeight=r.default.ABSOLUTE_LINE_HEIGHT?p.fontSize*r.default.LINE_HEIGHT+"px":r.default.LINE_HEIGHT,y.style.fontSize=p.fontSize+"px",y.style.fontFamily=p.fontFamily,y.style.whiteSpace="nowrap",y.style.position="absolute",y.style.visibility="hidden",y.style.display=n.default.IS_QUIRKS?"inline":"inline-block",y.style.zoom="1",(p.fontStyle&r.default.FONT_BOLD)==r.default.FONT_BOLD&&(y.style.fontWeight="bold"),(p.fontStyle&r.default.FONT_ITALIC)==r.default.FONT_ITALIC&&(y.style.fontStyle="italic"),e=o.default.htmlEntities(e,!1),y.innerHTML=e.replace(/\n/g,"<br/>"),document.body.appendChild(y);s=y.offsetWidth,u=y.offsetHeight;y.parentNode.removeChild(y),d==r.default.ALIGN_CENTER?i-=s/2:d==r.default.ALIGN_RIGHT&&(i-=s),h==r.default.ALIGN_MIDDLE?a-=u/2:h==r.default.ALIGN_BOTTOM&&(a-=u),f=new l.default((i+1)*p.scale,(a+2)*p.scale,s*p.scale,(u+1)*p.scale)}if(null!=f){var m=this.createElement("rect");m.setAttribute("fill",p.fontBackgroundColor||"none"),m.setAttribute("stroke",p.fontBorderColor||"none"),m.setAttribute("x",Math.floor(f.x-1)),m.setAttribute("y",Math.floor(f.y-1)),m.setAttribute("width",Math.ceil(f.width+2)),m.setAttribute("height",Math.ceil(f.height));var v=null!=p.fontBorderColor?Math.max(1,this.format(p.scale)):0;m.setAttribute("stroke-width",v),this.root.ownerDocument==document&&1==o.default.mod(v,2)&&m.setAttribute("transform","translate(0.5, 0.5)"),t.insertBefore(m,t.firstChild)}}},u.prototype.stroke=function(){this.addNode(!1,!0)},u.prototype.fill=function(){this.addNode(!0,!1)},u.prototype.fillAndStroke=function(){this.addNode(!0,!0)},u.prototype.setTransform=function(t){this.state.transform=t};e.default=u},377544:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(9692),i(106208),i(233696),i(846428),i(999768),i(387912),i(633768),i(513640);var n=a(i(496864)),l=a(i(742288));a(i(790448));function a(t){return t&&t.__esModule?t:{default:t}}function r(t){n.default.call(this,t)}l.default.extend(r,n.default),r.prototype.defs=null,r.prototype.node=null,r.prototype.width=null,r.prototype.height=null,r.prototype.parseDescription=function(){var t=this.desc;this.defs=t.querySelector("defs"),this.node=t.querySelector("g"),this.w0=Number(this.desc.getAttribute("w")||100),this.h0=Number(this.desc.getAttribute("h")||100),this.width=Number(this.desc.getAttribute("width")||100),this.height=Number(this.desc.getAttribute("height")||100),this.inwidth=Number(this.desc.getAttribute("inwidth")||100),this.inheight=Number(this.desc.getAttribute("inheight")||100),this.shape=this.desc.getAttribute("shape")},r.prototype.drawShape=function(t,e,i,n,a,r){var o=t.state||{dx:0,dy:0},s=(a/this.width).toFixed(2),u=(r/this.height).toFixed(2),d=null;if(i+=o.dx,n+=o.dy,o.transform){var h=t.root.getAttribute("transform")||"";t.root.setAttribute("transform","".concat(h," ").concat(o.transform))}var c=e.style&&"ierp.billrelation.IconComplete"==e.style.shape;if(null!=o.alpha&&null!=o.alpha&&!c){var p=t.root.getAttribute("style")||"";p=p.replace(/\s*opacity:\s*\d(\.\d)?;?/,""),t.root.setAttribute("style","".concat(p," opacity:").concat(o.alpha,";"))}if(this.node.setAttribute("transform","translate(".concat(i,", ").concat(n,") scale(").concat(s,", ").concat(u,")")),this.node.setAttribute("id",e.state.cell.mxObjectId),this.addDefsElement(t),d=this.node.cloneNode(!0),c){var f=e.opacity||100,g=d.querySelector("path[fill='#1BA854']"),y=d.querySelector("polygon[fill='#1BA854']");l.default.setOpacity(g,f),l.default.setOpacity(y,f)}this.mergeProperties(d,e),t.root.appendChild(d)},r.prototype.addDefsElement=function(t){var e=this.defs;if(e){var i=e.children||e.childNodes,n=document.querySelector("svg.defs defs");Array.prototype.forEach.call(i,(function(t){1!==t.nodeType||n.querySelector('[id="'+t.getAttribute("id")+'"]')||n.appendChild(t.cloneNode(!0))}))}},r.prototype.mergeProperties=function(t,e){var i=e.stroke;t.setAttribute("fill",e.fill||"none"),i&&(t.querySelector(".outer")||t).setAttribute("stroke",i)};e.default=r},581752:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(106208);var n=o(i(742288)),l=o(i(247644)),a=o(i(656988)),r=o(i(790448));function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e,i,n){a.default.call(this),this.bounds=t,this.fill=e,this.stroke=i,this.strokewidth=null!=n?n:1}n.default.extend(s,a.default),s.prototype.imageSize=16,s.prototype.getTitleSize=function(){return Math.max(0,n.default.getValue(this.style,r.default.STYLE_STARTSIZE,r.default.DEFAULT_STARTSIZE))},s.prototype.getLabelBounds=function(t){var e=this.getTitleSize(),i=new l.default(t.x,t.y,t.width,t.height),a=this.isHorizontal(),o=1==n.default.getValue(this.style,r.default.STYLE_FLIPH,0),s=1==n.default.getValue(this.style,r.default.STYLE_FLIPV,0),u=this.direction==r.default.DIRECTION_NORTH||this.direction==r.default.DIRECTION_SOUTH,d=a==!u,h=!d&&o!=(this.direction==r.default.DIRECTION_SOUTH||this.direction==r.default.DIRECTION_WEST),c=d&&s!=(this.direction==r.default.DIRECTION_SOUTH||this.direction==r.default.DIRECTION_WEST);if(u){p=Math.min(i.width,e*this.scale);(h||c)&&(i.x+=i.width-p),i.width=p}else{var p=Math.min(i.height,e*this.scale);(h||c)&&(i.y+=i.height-p),i.height=p}return i},s.prototype.getGradientBounds=function(t,e,i,n,a){var r=this.getTitleSize();return this.isHorizontal()?(r=Math.min(r,a),new l.default(e,i,n,r)):(r=Math.min(r,n),new l.default(e,i,r,a))},s.prototype.getArcSize=function(t,e,i){return i*(n.default.getValue(this.style,r.default.STYLE_ARCSIZE,100*r.default.RECTANGLE_ROUNDING_FACTOR)/100)*3},s.prototype.isHorizontal=function(){return 1==n.default.getValue(this.style,r.default.STYLE_HORIZONTAL,1)},s.prototype.paintVertexShape=function(t,e,i,l,a,o){var s=this.getTitleSize(),u=n.default.getValue(this.style,r.default.STYLE_SWIMLANE_FILLCOLOR,r.default.NONE),d=1==n.default.getValue(this.style,r.default.STYLE_SWIMLANE_LINE,1),h=0;s=this.isHorizontal()?Math.min(s,a):Math.min(s,l),t.translate(e,i),this.isRounded?(h=this.getArcSize(l,a,s),this.paintRoundedSwimlane(t,e,i,l,a,s,h,u,d)):this.paintSwimlane(t,e,i,l,a,s,u,d);var c=n.default.getValue(this.style,r.default.STYLE_SEPARATORCOLOR,r.default.NONE);if(this.paintSeparator(t,e,i,l,a,s,c),null!=this.image){var p=this.getImageBounds(e,i,l,a);t.image(p.x-e,p.y-i,p.width,p.height,this.image,!1,!1,!1)}this.glass&&(t.setShadow(!1),this.paintGlassEffect(t,0,0,l,s,h)),this.node.setAttribute("id",o.state.cell.mxObjectId)},s.prototype.paintSwimlane=function(t,e,i,n,l,a,o,s){o!=r.default.NONE&&(t.save(),t.setFillColor(o),t.rect(0,0,n,l),t.fillAndStroke(),t.restore(),t.setShadow(!1)),t.begin(),this.isHorizontal()?(t.moveTo(0,a),t.lineTo(0,0),t.lineTo(n,0),t.lineTo(n,a),(s||a>=l)&&t.close(),t.fillAndStroke(),a<l&&o==r.default.NONE&&(t.pointerEvents=!1,t.begin(),t.moveTo(0,a),t.lineTo(0,l),t.lineTo(n,l),t.lineTo(n,a),t.stroke())):(t.moveTo(a,0),t.lineTo(0,0),t.lineTo(0,l),t.lineTo(a,l),(s||a>=n)&&t.close(),t.fillAndStroke(),a<n&&o==r.default.NONE&&(t.pointerEvents=!1,t.begin(),t.moveTo(a,0),t.lineTo(n,0),t.lineTo(n,l),t.lineTo(a,l),t.stroke()))},s.prototype.paintRoundedSwimlane=function(t,e,i,n,l,a,o,s,u){s!=r.default.NONE&&(t.save(),t.setFillColor(s),t.roundrect(0,0,n,l,o,o),t.fillAndStroke(),t.restore(),t.setShadow(!1)),t.begin(),this.isHorizontal()?(t.moveTo(n,a),t.lineTo(n,o),t.quadTo(n,0,n-Math.min(n/2,o),0),t.lineTo(Math.min(n/2,o),0),t.quadTo(0,0,0,o),t.lineTo(0,a),(u||a>=l)&&t.close(),t.fillAndStroke(),a<l&&s==r.default.NONE&&(t.pointerEvents=!1,t.begin(),t.moveTo(0,a),t.lineTo(0,l-o),t.quadTo(0,l,Math.min(n/2,o),l),t.lineTo(n-Math.min(n/2,o),l),t.quadTo(n,l,n,l-o),t.lineTo(n,a),t.stroke())):(t.moveTo(a,0),t.lineTo(o,0),t.quadTo(0,0,0,Math.min(l/2,o)),t.lineTo(0,l-Math.min(l/2,o)),t.quadTo(0,l,o,l),t.lineTo(a,l),(u||a>=n)&&t.close(),t.fillAndStroke(),a<n&&s==r.default.NONE&&(t.pointerEvents=!1,t.begin(),t.moveTo(a,l),t.lineTo(n-o,l),t.quadTo(n,l,n,l-Math.min(l/2,o)),t.lineTo(n,Math.min(l/2,o)),t.quadTo(n,0,n-o,0),t.lineTo(a,0),t.stroke()))},s.prototype.paintSeparator=function(t,e,i,n,l,a,o){o!=r.default.NONE&&(t.setStrokeColor(o),t.setDashed(!0),t.begin(),this.isHorizontal()?(t.moveTo(n,a),t.lineTo(n,l)):(t.moveTo(a,0),t.lineTo(n,0)),t.stroke(),t.setDashed(!1))},s.prototype.getImageBounds=function(t,e,i,n){return this.isHorizontal()?new l.default(t+i-this.imageSize,e,this.imageSize,this.imageSize):new l.default(t,e,this.imageSize,this.imageSize)};e.default=s},322040:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(297336);var n=s(i(370608)),l=s(i(39864)),a=s(i(742288)),r=s(i(247644)),o=s(i(790448));function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e,i,n){this.horizontal=null==e||e,this.addEnabled=null==i||i,this.resizeEnabled=null==n||n,this.addHandler=a.default.bind(this,(function(t,e){this.isEnabled()&&this.isAddEnabled()&&this.cellsAdded(e.getProperty("cells"))})),this.resizeHandler=a.default.bind(this,(function(t,e){this.isEnabled()&&this.isResizeEnabled()&&this.cellsResized(e.getProperty("cells"))})),this.setGraph(t)}u.prototype=new l.default,u.prototype.constructor=u,u.prototype.graph=null,u.prototype.enabled=!0,u.prototype.horizontal=!0,u.prototype.addEnabled=!0,u.prototype.resizeEnabled=!0,u.prototype.addHandler=null,u.prototype.resizeHandler=null,u.prototype.isEnabled=function(){return this.enabled},u.prototype.setEnabled=function(t){this.enabled=t},u.prototype.isHorizontal=function(){return this.horizontal},u.prototype.setHorizontal=function(t){this.horizontal=t},u.prototype.isAddEnabled=function(){return this.addEnabled},u.prototype.setAddEnabled=function(t){this.addEnabled=t},u.prototype.isResizeEnabled=function(){return this.resizeEnabled},u.prototype.setResizeEnabled=function(t){this.resizeEnabled=t},u.prototype.getGraph=function(){return this.graph},u.prototype.setGraph=function(t){null!=this.graph&&(this.graph.removeListener(this.addHandler),this.graph.removeListener(this.resizeHandler)),this.graph=t,null!=this.graph&&(this.graph.addListener(n.default.ADD_CELLS,this.addHandler),this.graph.addListener(n.default.CELLS_RESIZED,this.resizeHandler))},u.prototype.isSwimlaneIgnored=function(t){return!this.getGraph().isSwimlane(t)},u.prototype.isCellHorizontal=function(t){if(this.graph.isSwimlane(t)){var e=this.graph.getCellStyle(t);return 1==a.default.getValue(e,o.default.STYLE_HORIZONTAL,1)}return!this.isHorizontal()},u.prototype.cellsAdded=function(t){if(null!=t){var e=this.getGraph().getModel();e.beginUpdate();try{for(var i=0;i<t.length;i++)this.isSwimlaneIgnored(t[i])||this.swimlaneAdded(t[i])}finally{e.endUpdate()}}},u.prototype.swimlaneAdded=function(t){for(var e=this.getGraph().getModel(),i=e.getParent(t),n=e.getChildCount(i),l=null,a=0;a<n;a++){var r=e.getChildAt(i,a);if(r!=t&&!this.isSwimlaneIgnored(r)&&null!=(l=e.getGeometry(r)))break}if(null!=l){var o=null!=i?this.isCellHorizontal(i):this.horizontal;this.resizeSwimlane(t,l.width,l.height,o)}},u.prototype.cellsResized=function(t){if(null!=t){var e=this.getGraph().getModel();e.beginUpdate();try{for(var i=0;i<t.length;i++)if(!this.isSwimlaneIgnored(t[i])){var n=e.getGeometry(t[i]);if(null!=n){for(var l=new r.default(0,0,n.width,n.height),a=t[i],o=a;null!=o;){a=o,o=e.getParent(o);var s=this.graph.isSwimlane(o)?this.graph.getStartSize(o):new r.default;l.width+=s.width,l.height+=s.height}var u=null!=o?this.isCellHorizontal(o):this.horizontal;this.resizeSwimlane(a,l.width,l.height,u)}}}finally{e.endUpdate()}}},u.prototype.resizeSwimlane=function(t,e,i,n){var l=this.getGraph().getModel();l.beginUpdate();try{var a=this.isCellHorizontal(t);if(!this.isSwimlaneIgnored(t)){var o=l.getGeometry(t);null!=o&&(n&&o.height!=i||!n&&o.width!=e)&&(o=o.clone(),n?o.height=i:o.width=e,l.setGeometry(t,o))}var s=this.graph.isSwimlane(t)?this.graph.getStartSize(t):new r.default;e-=s.width,i-=s.height;for(var u=l.getChildCount(t),d=0;d<u;d++){var h=l.getChildAt(t,d);this.resizeSwimlane(h,e,i,a)}}finally{l.endUpdate()}},u.prototype.destroy=function(){this.setGraph(null)};e.default=u},945324:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i(591108)),l=a(i(247644));function a(t){return t&&t.__esModule?t:{default:t}}function r(t,e,i,a){e=null!=e?e:1,this.view=t,this.oldValidateCellState=t.validateCellState,this.oldBounds=t.getGraphBounds(),this.oldStates=t.getStates(),this.oldScale=t.getScale();var r=this;if(t.validateCellState=function(e,i){return null==e||null==a||a(e)?r.oldValidateCellState.apply(t,arguments):null},t.setStates(new n.default),t.setScale(e),null!=i){t.resetValidationState();for(var o=null,s=0;s<i.length;s++){var u=t.getBoundingBox(t.validateCellState(t.validateCell(i[s])));null==o?o=u:o.add(u)}t.setGraphBounds(o||new l.default)}}r.prototype.view=null,r.prototype.oldStates=null,r.prototype.oldBounds=null,r.prototype.oldScale=null,r.prototype.destroy=function(){this.view.setScale(this.oldScale),this.view.setStates(this.oldStates),this.view.setGraphBounds(this.oldBounds),this.view.validateCellState=this.oldValidateCellState};e.default=r},496592:function(t,e,i){"use strict";function n(t,e,i,n){this.model=t,this.cell=e,this.terminal=i,this.previous=i,this.source=n}i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n.prototype.execute=function(){this.terminal=this.previous,this.previous=this.model.terminalForCellChanged(this.cell,this.previous,this.source)},n.getName=function(){return"mxTerminalChange"};e.default=n},36312:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(622676),i(999768),i(387912),i(23544),i(571176),i(633768),i(513640),i(321164);var n=d(i(22676)),l=d(i(164460)),a=d(i(742288)),r=d(i(247644)),o=d(i(656988)),s=d(i(790448)),u=d(i(45232));function d(t){return t&&t.__esModule?t:{default:t}}function h(t,e,i,n,l,a,r,u,d,h,c,p,f,g,y,m,v,E,b,S,w,A){o.default.call(this),this.value=t,this.bounds=e,this.color=null!=l?l:"black",this.align=null!=i?i:"",this.valign=null!=n?n:"",this.family=null!=a?a:s.default.DEFAULT_FONTFAMILY,this.size=null!=r?r:s.default.DEFAULT_FONTSIZE,this.fontStyle=null!=u?u:s.default.DEFAULT_FONTSTYLE,this.spacing=parseInt(d||2),this.spacingTop=this.spacing+parseInt(h||0),this.spacingRight=this.spacing+parseInt(c||0),this.spacingBottom=this.spacing+parseInt(p||0),this.spacingLeft=this.spacing+parseInt(f||0),this.horizontal=null==g||g,this.background=y,this.ellipsisBackground=A,this.border=m,this.wrap=null!=v&&v,this.clipped=null!=E&&E,this.overflow=null!=b?b:"visible",this.labelPadding=null!=S?S:0,this.textDirection=w,this.rotation=0,this.updateMargin()}a.default.extend(h,o.default),h.prototype.baseSpacingTop=0,h.prototype.baseSpacingBottom=0,h.prototype.baseSpacingLeft=0,h.prototype.baseSpacingRight=0,h.prototype.replaceLinefeeds=!0,h.prototype.verticalTextRotation=-90,h.prototype.ignoreClippedStringSize=!0,h.prototype.ignoreStringSize=!1,h.prototype.textWidthPadding=8!=document.documentMode||n.default.IS_EM?3:4,h.prototype.lastValue=null,h.prototype.cacheEnabled=!0,h.prototype.isParseVml=function(){return!1},h.prototype.isHtmlAllowed=function(){return 8!=document.documentMode||n.default.IS_EM},h.prototype.getSvgScreenOffset=function(){return 0},h.prototype.checkBounds=function(){return!isNaN(this.scale)&&isFinite(this.scale)&&this.scale>0&&null!=this.bounds&&!isNaN(this.bounds.x)&&!isNaN(this.bounds.y)&&!isNaN(this.bounds.width)&&!isNaN(this.bounds.height)},h.prototype.paint=function(t,e){var i=this.scale,n=this.bounds.x/i,l=this.bounds.y/i,r=this.bounds.width/i,o=this.bounds.height/i;if(this.updateTransform(t,n,l,r,o),this.configureCanvas(t,n,l,r,o),e){var d=null!=this.state?this.state.unscaledWidth:null;null!=this.node.firstChild&&this.lastUnscaledWidth!=d&&t.invalidateCachedOffsetSize(this.node),t.updateText(n,l,r,o,this.align,this.valign,this.wrap,this.overflow,this.clipped,this.getTextRotation(),this.node)}else{var h=a.default.isNode(this.value)||this.dialect==s.default.DIALECT_STRICTHTML,c=h||t instanceof u.default?"html":"",p=this.value;h||"html"!=c||(p=a.default.htmlEntities(p,!1)),"html"!=c||a.default.isNode(this.value)||(p=a.default.replaceTrailingNewlines(p,"<div><br></div>")),p=!a.default.isNode(this.value)&&this.replaceLinefeeds&&"html"==c?p.replace(/\\n/g,"<br/>"):p;var f=this.textDirection;f!=s.default.TEXT_DIRECTION_AUTO||h||(f=this.getAutoDirection()),f!=s.default.TEXT_DIRECTION_LTR&&f!=s.default.TEXT_DIRECTION_RTL&&(f=null),t.text(n,l,r,o,p,this.align,this.valign,this.wrap,c,this.overflow,this.clipped,this.getTextRotation(),f)}this.lastUnscaledWidth=null!=this.state?this.state.unscaledWidth:null},h.prototype.redraw=function(){if(this.visible&&this.checkBounds()&&this.cacheEnabled&&this.lastValue==this.value&&(a.default.isNode(this.value)||this.dialect==s.default.DIALECT_STRICTHTML))if("DIV"!=this.node.nodeName||!this.isHtmlAllowed()&&n.default.IS_VML){var t=this.createCanvas();null!=t&&null!=t.updateText&&null!=t.invalidateCachedOffsetSize?(this.paint(t,!0),this.destroyCanvas(t),this.updateBoundingBox()):o.default.prototype.redraw.apply(this,arguments)}else this.updateSize(this.node,null==this.state||null==this.state.view.textDiv),n.default.IS_IE&&(null==document.documentMode||document.documentMode<=8)?this.updateHtmlFilter():this.updateHtmlTransform(),this.updateBoundingBox();else o.default.prototype.redraw.apply(this,arguments),a.default.isNode(this.value)||this.dialect==s.default.DIALECT_STRICTHTML?this.lastValue=this.value:this.lastValue=null},h.prototype.resetStyles=function(){o.default.prototype.resetStyles.apply(this,arguments),this.color="black",this.align="",this.valign="",this.family=s.default.DEFAULT_FONTFAMILY,this.size=s.default.DEFAULT_FONTSIZE,this.fontStyle=s.default.DEFAULT_FONTSTYLE,this.spacing=2,this.spacingTop=0,this.spacingRight=0,this.spacingBottom=0,this.spacingLeft=0,this.horizontal=!0,delete this.background,delete this.border,this.textDirection=s.default.DEFAULT_TEXT_DIRECTION,delete this.margin},h.prototype.apply=function(t){o.default.prototype.apply.apply(this,arguments),null!=this.style&&(this.fontStyle=a.default.getValue(this.style,s.default.STYLE_FONTSTYLE,this.fontStyle),this.family=a.default.getValue(this.style,s.default.STYLE_FONTFAMILY,this.family),this.size=a.default.getValue(this.style,s.default.STYLE_FONTSIZE,this.size),this.color=a.default.getValue(this.style,s.default.STYLE_FONTCOLOR,this.color),this.align=a.default.getValue(this.style,s.default.STYLE_ALIGN,this.align),this.valign=a.default.getValue(this.style,s.default.STYLE_VERTICAL_ALIGN,this.valign),this.spacing=a.default.getValue(this.style,s.default.STYLE_SPACING,this.spacing),this.spacingTop=a.default.getValue(this.style,s.default.STYLE_SPACING_TOP,this.spacingTop)+this.spacing,this.spacingRight=a.default.getValue(this.style,s.default.STYLE_SPACING_RIGHT,this.spacingRight)+this.spacing,this.spacingBottom=a.default.getValue(this.style,s.default.STYLE_SPACING_BOTTOM,this.spacingBottom)+this.spacing,this.spacingLeft=a.default.getValue(this.style,s.default.STYLE_SPACING_LEFT,this.spacingLeft)+this.spacing,this.horizontal=a.default.getValue(this.style,s.default.STYLE_HORIZONTAL,this.horizontal),this.background=a.default.getValue(this.style,s.default.STYLE_LABEL_BACKGROUNDCOLOR,this.background),this.border=a.default.getValue(this.style,s.default.STYLE_LABEL_BORDERCOLOR,this.border),this.textDirection=a.default.getValue(this.style,s.default.STYLE_TEXT_DIRECTION,s.default.DEFAULT_TEXT_DIRECTION),this.updateMargin()),this.flipV=null,this.flipH=null},h.prototype.getAutoDirection=function(){var t=/[A-Za-z\u05d0-\u065f\u066a-\u06ef\u06fa-\u07ff\ufb1d-\ufdff\ufe70-\ufefc]/.exec(this.value);return null!=t&&t.length>0&&t[0]>"z"?s.default.TEXT_DIRECTION_RTL:s.default.TEXT_DIRECTION_LTR},h.prototype.updateBoundingBox=function(){var t=this.node;this.boundingBox=this.bounds.clone();var e=this.getTextRotation(),i=null!=this.style?a.default.getValue(this.style,s.default.STYLE_LABEL_POSITION,s.default.ALIGN_CENTER):null,o=null!=this.style?a.default.getValue(this.style,s.default.STYLE_VERTICAL_LABEL_POSITION,s.default.ALIGN_MIDDLE):null;if(this.ignoreStringSize||null==t||"fill"==this.overflow||this.clipped&&this.ignoreClippedStringSize&&i==s.default.ALIGN_CENTER&&o==s.default.ALIGN_MIDDLE)this.boundingBox.x+=this.margin.x*this.boundingBox.width,this.boundingBox.y+=this.margin.y*this.boundingBox.height;else{var u=null,d=null;if(null!=t.ownerSVGElement)if(null!=t.firstChild&&null!=t.firstChild.firstChild&&"foreignObject"==t.firstChild.firstChild.nodeName)t=t.firstChild.firstChild,u=parseInt(t.getAttribute("width"))*this.scale,d=parseInt(t.getAttribute("height"))*this.scale;else try{var h=t.getBBox();if("string"==typeof this.value&&0==a.default.trim(this.value))return void(this.boundingBox=null);if(0==h.width&&0==h.height)return void(this.boundingBox=null);this.boundingBox=new r.default(h.x,h.y,h.width,h.height),e=0}catch(t){}else{var c=null!=this.state?this.state.view.textDiv:null;if(null!=this.offsetWidth&&null!=this.offsetHeight)u=this.offsetWidth*this.scale,d=this.offsetHeight*this.scale;else{null!=c&&(this.updateFont(c),this.updateSize(c,!1),this.updateInnerHtml(c),t=c);var p=t;if(8!=document.documentMode||n.default.IS_EM)null!=p.firstChild&&"DIV"==p.firstChild.nodeName&&(p=p.firstChild);else{var f=Math.round(this.bounds.width/this.scale);if(this.wrap&&f>0){if(t.style.wordWrap=s.default.WORD_WRAP,t.style.whiteSpace="normal","break-word"!=t.style.wordWrap){var g=p.getElementsByTagName("div");g.length>0&&(p=g[g.length-1]),u=p.offsetWidth+2,g=this.node.getElementsByTagName("div"),this.clipped&&(u=Math.min(f,u)),g.length>1&&(g[g.length-2].style.width=u+"px")}}else t.style.whiteSpace="nowrap"}this.offsetWidth=p.offsetWidth+this.textWidthPadding,this.offsetHeight=p.offsetHeight,u=this.offsetWidth*this.scale,d=this.offsetHeight*this.scale}}if(null!=u&&null!=d){var y=this.bounds.x+this.margin.x*u,m=this.bounds.y+this.margin.y*d;this.boundingBox=new r.default(y,m,u,d)}}if(null!=this.boundingBox)if(0!=e){this.unrotatedBoundingBox=r.default.fromRectangle(this.boundingBox);var v=a.default.getBoundingBox(this.boundingBox,e,null,r.default,l.default);this.boundingBox.x=v.x,this.boundingBox.y=v.y,n.default.IS_QUIRKS||(this.boundingBox.width=v.width,this.boundingBox.height=v.height)}else this.unrotatedBoundingBox=null},h.prototype.getShapeRotation=function(){return 0},h.prototype.getTextRotation=function(){return null!=this.state&&null!=this.state.shape?this.state.shape.getTextRotation():0},h.prototype.isPaintBoundsInverted=function(){return!this.horizontal&&null!=this.state&&this.state.view.graph.model.isVertex(this.state.cell)},h.prototype.configureCanvas=function(t,e,i,n,l){o.default.prototype.configureCanvas.apply(this,arguments),t.setFontColor(this.color),t.setFontBackgroundColor(this.background),t.setEllipsisBackgroundColor(this.ellipsisBackground),t.setFontBorderColor(this.border),t.setFontFamily(this.family),t.setFontSize(this.size),t.setFontStyle(this.fontStyle)},h.prototype.updateVmlContainer=function(){this.node.style.left=Math.round(this.bounds.x)+"px",this.node.style.top=Math.round(this.bounds.y)+"px",this.node.style.width="1px",this.node.style.height="1px",this.node.style.overflow="visible"},h.prototype.redrawHtmlShape=function(){var t=this.node.style;t.whiteSpace="normal",t.overflow="",t.width="",t.height="",this.updateValue(),this.updateFont(this.node),this.updateSize(this.node,null==this.state||null==this.state.view.textDiv),this.wrap&&this.addEllipsis(this.node),this.offsetWidth=null,this.offsetHeight=null,n.default.IS_IE&&(null==document.documentMode||document.documentMode<=8)?this.updateHtmlFilter():this.updateHtmlTransform()},h.prototype.updateHtmlTransform=function(){var t=this.getTextRotation(),e=this.node.style,i=this.margin.x,n=this.margin.y;0!=t?(a.default.setPrefixedStyle(e,"transformOrigin",100*-i+"% "+100*-n+"%"),a.default.setPrefixedStyle(e,"transform","translate("+100*i+"%,"+100*n+"%)scale("+this.scale+") rotate("+t+"deg)")):(a.default.setPrefixedStyle(e,"transformOrigin","0% 0%"),a.default.setPrefixedStyle(e,"transform","scale("+this.scale+")translate("+100*i+"%,"+100*n+"%)")),e.left=Math.round(this.bounds.x-Math.ceil(i*("fill"!=this.overflow&&"width"!=this.overflow?3:1)))+"px",e.top=Math.round(this.bounds.y-n*("fill"!=this.overflow?3:1))+"px",this.opacity<100?e.opacity=this.opacity/100:e.opacity=""},h.prototype.updateInnerHtml=function(t){if(a.default.isNode(this.value))t.innerHTML=this.value.outerHTML;else{var e=this.value;this.dialect!=s.default.DIALECT_STRICTHTML&&(e=a.default.htmlEntities(e,!1)),e=a.default.replaceTrailingNewlines(e,"<div>&nbsp;</div>"),e='<div style="display:inline-block;_display:inline;">'+(e=this.replaceLinefeeds?e.replace(/\n/g,"<br/>"):e)+"</div>",t.innerHTML=e}},h.prototype.updateHtmlFilter=function(){var t=this.node.style,e=this.margin.x,i=this.margin.y,l=this.scale;a.default.setOpacity(this.node,this.opacity);var r=0,o=0,u=null!=this.state?this.state.view.textDiv:null,d=this.node;if(null!=u){u.style.overflow="",u.style.height="",u.style.width="",this.updateFont(u),this.updateSize(u,!1),this.updateInnerHtml(u);var h=Math.round(this.bounds.width/this.scale);this.wrap&&h>0?(u.style.whiteSpace="normal",u.style.wordWrap=s.default.WORD_WRAP,r=h,this.clipped&&(r=Math.min(r,this.bounds.width)),u.style.width=r+"px"):u.style.whiteSpace="nowrap",null!=(d=u).firstChild&&"DIV"==d.firstChild.nodeName&&(d=d.firstChild,this.wrap&&"break-word"==u.style.wordWrap&&(d.style.width="100%")),!this.clipped&&this.wrap&&h>0&&(r=d.offsetWidth+this.textWidthPadding,u.style.width=r+"px"),o=d.offsetHeight+2,n.default.IS_QUIRKS&&null!=this.border&&this.border!=s.default.NONE&&(o+=3)}else null!=d.firstChild&&"DIV"==d.firstChild.nodeName&&(o=(d=d.firstChild).offsetHeight);r=d.offsetWidth+this.textWidthPadding,this.clipped&&(o=Math.min(o,this.bounds.height));h=this.bounds.width/l;var c=this.bounds.height/l;"fill"==this.overflow?(o=c,r=h):"width"==this.overflow&&(o=d.scrollHeight,r=h),this.offsetWidth=r,this.offsetHeight=o,n.default.IS_QUIRKS&&(this.clipped||"width"==this.overflow&&c>0)?(c=Math.min(c,o),t.height=Math.round(c)+"px"):c=o,"fill"!=this.overflow&&"width"!=this.overflow&&(this.clipped&&(r=Math.min(h,r)),h=r,(n.default.IS_QUIRKS&&this.clipped||this.wrap)&&(t.width=Math.round(h)+"px")),c*=l,h*=l;var p=this.getTextRotation()*(Math.PI/180),f=parseFloat(parseFloat(Math.cos(p)).toFixed(8)),g=parseFloat(parseFloat(Math.sin(-p)).toFixed(8));(p%=2*Math.PI)<0&&(p+=2*Math.PI),(p%=Math.PI)>Math.PI/2&&(p=Math.PI-p);var y=Math.cos(p),m=Math.sin(-p),v=h*-(e+.5),E=c*-(i+.5),b=(c-c*y+h*m)/2+g*v-f*E,S=(h-h*y+c*m)/2-f*v-g*E;if(0!=p){var w="progid:DXImageTransform.Microsoft.Matrix(M11="+f+", M12="+g+", M21="+-g+", M22="+f+", sizingMethod='auto expand')";null!=t.filter&&t.filter.length>0?t.filter+=" "+w:t.filter=w}i=0;"fill"!=this.overflow&&n.default.IS_QUIRKS&&(this.valign==s.default.ALIGN_TOP?i-=1:this.valign==s.default.ALIGN_BOTTOM?i+=2:i+=1),t.zoom=l,t.left=Math.round(this.bounds.x+S-h/2)+"px",t.top=Math.round(this.bounds.y+b-c/2+i)+"px"},h.prototype.updateValue=function(){if(a.default.isNode(this.value))this.node.innerHTML="",this.node.appendChild(this.value);else{var t=this.value;this.dialect!=s.default.DIALECT_STRICTHTML&&(t=a.default.htmlEntities(t,!1)),t=a.default.replaceTrailingNewlines(t,"<div><br></div>"),t=this.replaceLinefeeds?t.replace(/\n/g,"<br/>"):t;var e=null!=this.background&&this.background!=s.default.NONE?this.background:null,i=null!=this.border&&this.border!=s.default.NONE?this.border:null;if("fill"==this.overflow||"width"==this.overflow)null!=e&&(this.node.style.backgroundColor=e),null!=i&&(this.node.style.border="1px solid "+i);else{var n="";null!=e&&(n+="background-color:"+e+";"),null!=i&&(n+="border:1px solid "+i+";"),t='<div class="text" style="zoom:1;'+n+"display:inline-block;_display:inline;text-decoration:inherit;padding-bottom:1px;padding-right:1px;line-height:"+(s.default.ABSOLUTE_LINE_HEIGHT?this.size*s.default.LINE_HEIGHT+"px":s.default.LINE_HEIGHT)+'">'+t+"</div>"}this.node.innerHTML=t;var l=this.node.getElementsByTagName("div");if(l.length>0){var r=this.textDirection;r==s.default.TEXT_DIRECTION_AUTO&&this.dialect!=s.default.DIALECT_STRICTHTML&&(r=this.getAutoDirection()),r==s.default.TEXT_DIRECTION_LTR||r==s.default.TEXT_DIRECTION_RTL?l[l.length-1].setAttribute("dir",r):l[l.length-1].removeAttribute("dir")}}},h.prototype.updateFont=function(t){var e=t.style;e.lineHeight=s.default.ABSOLUTE_LINE_HEIGHT?this.size*s.default.LINE_HEIGHT+"px":s.default.LINE_HEIGHT,e.fontSize=this.size+"px",e.fontFamily=this.family,e.verticalAlign="top",e.color=this.color,(this.fontStyle&s.default.FONT_BOLD)==s.default.FONT_BOLD?e.fontWeight="bold":e.fontWeight="",(this.fontStyle&s.default.FONT_ITALIC)==s.default.FONT_ITALIC?e.fontStyle="italic":e.fontStyle="",(this.fontStyle&s.default.FONT_UNDERLINE)==s.default.FONT_UNDERLINE?e.textDecoration="underline":e.textDecoration="",this.align==s.default.ALIGN_CENTER?e.textAlign="center":this.align==s.default.ALIGN_RIGHT?e.textAlign="right":e.textAlign="left"},h.prototype.updateSize=function(t,e){var i=Math.max(0,Math.round(this.bounds.width/this.scale)),l=Math.max(0,Math.round(this.bounds.height/this.scale)),a=t.style;if(this.clipped?(a.overflow="hidden",n.default.IS_QUIRKS?a.width=i+"px":(a.maxHeight=l+"px",a.maxWidth=i+"px")):"fill"==this.overflow?(a.width=i+1+"px",a.height=l+1+"px",a.overflow="hidden"):"width"==this.overflow&&(a.width=i+1+"px",a.maxHeight=l+1+"px",a.overflow="hidden"),this.wrap&&i>0){if(a.wordWrap=s.default.WORD_WRAP,a.whiteSpace="normal",a.width=i+"px",e&&"fill"!=this.overflow&&"width"!=this.overflow){var r=t;null!=r.firstChild&&"DIV"==r.firstChild.nodeName&&(r=r.firstChild,"break-word"==t.style.wordWrap&&(r.style.width="100%"));var o=r.offsetWidth;if(0==o){var u=t.parentNode;t.style.visibility="hidden",document.body.appendChild(t),o=r.offsetWidth,t.style.visibility="",u.appendChild(t)}o+=3,this.clipped&&(o=Math.min(o,i)),a.width=o+"px"}}else a.whiteSpace="nowrap"},h.prototype.addEllipsis=function(t){var e=this.scale,i=this.size,n=t.querySelector("div.text"),l=Math.round(this.bounds.height/e),a=(l/((Math.floor(l/(i*n.style.lineHeight))||1)*i)).toFixed(2);if(n&&n.offsetHeight>l){var r=document.createElement("div");r.appendChild(document.createTextNode("...")),r.style.position="absolute",r.style.bottom="1px",r.style.right=0,r.style.borderRadius="5px",r.style.backgroundColor=this.ellipsisBackground,r.style.color=this.node.style.color||"#000",r.style.fontSize=i+"px",r.style.letterSpacing="1.5px",n.style.lineHeight=a,t.appendChild(r)}},h.prototype.updateMargin=function(){this.margin=a.default.getAlignmentAsPoint(this.align,this.valign,l.default)},h.prototype.getSpacing=function(){var t=0,e=0;return t=this.align==s.default.ALIGN_CENTER?(this.spacingLeft-this.spacingRight)/2:this.align==s.default.ALIGN_RIGHT?-this.spacingRight-this.baseSpacingRight:this.spacingLeft+this.baseSpacingLeft,e=this.valign==s.default.ALIGN_MIDDLE?(this.spacingTop-this.spacingBottom)/2:this.valign==s.default.ALIGN_BOTTOM?-this.spacingBottom-this.baseSpacingBottom:this.spacingTop+this.baseSpacingTop,new l.default(t,e)};e.default=h},37508:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(297336);var n=h(i(995048)),l=h(i(22676)),a=h(i(370608)),r=h(i(164460)),o=h(i(300511)),s=h(i(39864)),u=h(i(742288)),d=h(i(132448));function h(t){return t&&t.__esModule?t:{default:t}}function c(t){this.container=t}c.prototype=new s.default,c.prototype.constructor=c,c.prototype.container=null,c.prototype.enabled=!0,c.prototype.noReset=!1,c.prototype.updateDefaultMode=!0,c.prototype.addItem=function(t,e,i,n,s,d){var h=document.createElement(null!=e?"img":"button"),c=s||(null!=d?"mxToolbarMode":"mxToolbarItem");h.className=c,h.setAttribute("src",e),null!=t&&(null!=e?h.setAttribute("title",t):u.default.write(h,t)),this.container.appendChild(h),null!=i&&(a.default.addListener(h,"click",i),l.default.IS_TOUCH&&a.default.addListener(h,"touchend",i));var p=u.default.bind(this,(function(t){null!=n?h.setAttribute("src",e):h.style.backgroundColor=""}));return a.default.addGestureListeners(h,u.default.bind(this,(function(t){if(null!=n?h.setAttribute("src",n):h.style.backgroundColor="gray",null!=d){null==this.menu&&(this.menu=new o.default,this.menu.init());var e=this.currentImg;if(this.menu.isMenuShowing()&&this.menu.hideMenu(),e!=h){this.currentImg=h,this.menu.factoryMethod=d;var i=new r.default(h.offsetLeft,h.offsetTop+h.offsetHeight);this.menu.popup(i.x,i.y,null,t),this.menu.isMenuShowing()&&(h.className=c+"Selected",this.menu.hideMenu=function(){o.default.prototype.hideMenu.apply(this),h.className=c,this.currentImg=null})}}})),null,p),a.default.addListener(h,"mouseout",p),h},c.prototype.addCombo=function(t){var e=document.createElement("div");e.style.display="inline",e.className="mxToolbarComboContainer";var i=document.createElement("select");return i.className=t||"mxToolbarCombo",e.appendChild(i),this.container.appendChild(e),i},c.prototype.addActionCombo=function(t,e){var i=document.createElement("select");return i.className=e||"mxToolbarCombo",this.addOption(i,t,null),a.default.addListener(i,"change",(function(t){var e=i.options[i.selectedIndex];i.selectedIndex=0,null!=e.funct&&e.funct(t)})),this.container.appendChild(i),i},c.prototype.addOption=function(t,e,i){var n=document.createElement("option");return d.default.writeln(n,e),"function"==typeof i?n.funct=i:n.setAttribute("value",i),t.appendChild(n),n},c.prototype.addSwitchMode=function(t,e,i,l,r){var o=document.createElement("img");return o.initialClassName=r||"mxToolbarMode",o.className=o.initialClassName,o.setAttribute("src",e),o.altIcon=l,null!=t&&o.setAttribute("title",t),a.default.addListener(o,"click",u.default.bind(this,(function(t){var e;null!=(e=this.selectedMode.altIcon)?(this.selectedMode.altIcon=this.selectedMode.getAttribute("src"),this.selectedMode.setAttribute("src",e)):this.selectedMode.className=this.selectedMode.initialClassName,this.updateDefaultMode&&(this.defaultMode=o),this.selectedMode=o,null!=(e=o.altIcon)?(o.altIcon=o.getAttribute("src"),o.setAttribute("src",e)):o.className=o.initialClassName+"Selected",this.fireEvent(new n.default(a.default.SELECT)),i()}))),this.container.appendChild(o),null==this.defaultMode&&(this.defaultMode=o,this.selectMode(o),i()),o},c.prototype.addMode=function(t,e,i,n,l,r){r=null==r||r;var o=document.createElement(null!=e?"img":"button");return o.initialClassName=l||"mxToolbarMode",o.className=o.initialClassName,o.setAttribute("src",e),o.altIcon=n,null!=t&&o.setAttribute("title",t),this.enabled&&r&&(a.default.addListener(o,"click",u.default.bind(this,(function(t){this.selectMode(o,i),this.noReset=!1}))),a.default.addListener(o,"dblclick",u.default.bind(this,(function(t){this.selectMode(o,i),this.noReset=!0}))),null==this.defaultMode&&(this.defaultMode=o,this.defaultFunction=i,this.selectMode(o,i))),this.container.appendChild(o),o},c.prototype.selectMode=function(t,e){if(this.selectedMode!=t){var i;if(null!=this.selectedMode)null!=(i=this.selectedMode.altIcon)?(this.selectedMode.altIcon=this.selectedMode.getAttribute("src"),this.selectedMode.setAttribute("src",i)):this.selectedMode.className=this.selectedMode.initialClassName;this.selectedMode=t,null!=(i=this.selectedMode.altIcon)?(this.selectedMode.altIcon=this.selectedMode.getAttribute("src"),this.selectedMode.setAttribute("src",i)):this.selectedMode.className=this.selectedMode.initialClassName+"Selected",this.fireEvent(new n.default(a.default.SELECT,"function",e))}},c.prototype.resetMode=function(t){!t&&this.noReset||this.selectedMode==this.defaultMode||this.selectMode(this.defaultMode,this.defaultFunction)},c.prototype.addSeparator=function(t){return this.addItem(null,t,null)},c.prototype.addBreak=function(){d.default.br(this.container)},c.prototype.addLine=function(){var t=document.createElement("hr");t.style.marginRight="6px",t.setAttribute("size","1"),this.container.appendChild(t)},c.prototype.destroy=function(){a.default.release(this.container),this.container=null,this.defaultMode=null,this.defaultFunction=null,this.selectedMode=null,null!=this.menu&&this.menu.destroy()};e.default=c},323572:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(297336),i(633768),i(513640),i(86744);var n=o(i(370608)),l=o(i(742288)),a=o(i(790448)),r=o(i(132448));function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e){null!=t&&(this.graph=t,this.delay=e||500,this.graph.addMouseListener(this))}s.prototype.zIndex=10005,s.prototype.graph=null,s.prototype.delay=null,s.prototype.ignoreTouchEvents=!0,s.prototype.hideOnHover=!1,s.prototype.destroyed=!1,s.prototype.enabled=!0,s.prototype.isEnabled=function(){return this.enabled},s.prototype.setEnabled=function(t){this.enabled=t},s.prototype.isHideOnHover=function(){return this.hideOnHover},s.prototype.setHideOnHover=function(t){this.hideOnHover=t},s.prototype.init=function(){null!=document.body&&(this.div=document.createElement("div"),this.div.className="mxTooltip",this.div.style.visibility="hidden",document.body.appendChild(this.div),n.default.addGestureListeners(this.div,l.default.bind(this,(function(t){this.hideTooltip()}))))},s.prototype.mouseDown=function(t,e){this.reset(e,!1),this.hideTooltip()},s.prototype.mouseMove=function(t,e){e.getX()==this.lastX&&e.getY()==this.lastY||(this.reset(e,!0),(this.isHideOnHover()||e.getState()!=this.state||e.getSource()!=this.node&&(!this.stateSource||null!=e.getState()&&this.stateSource==(e.isSource(e.getState().shape)||!e.isSource(e.getState().text))))&&this.hideTooltip()),this.lastX=e.getX(),this.lastY=e.getY()},s.prototype.mouseUp=function(t,e){this.reset(e,!0),this.hideTooltip()},s.prototype.resetTimer=function(){null!=this.thread&&(window.clearTimeout(this.thread),this.thread=null)},s.prototype.reset=function(t,e){if((!this.ignoreTouchEvents||n.default.isMouseEvent(t.getEvent()))&&(this.resetTimer(),e&&this.isEnabled()&&null!=t.getState()&&(null==this.div||"hidden"==this.div.style.visibility))){var i=t.getState(),a=t.getSource(),r=t.getX(),o=t.getY(),s=t.isSource(i.shape)||t.isSource(i.text);this.thread=window.setTimeout(l.default.bind(this,(function(){if(!this.graph.isEditing()&&!this.graph.popupMenuHandler.isMenuShowing()&&!this.graph.isMouseDown){var t=this.graph.getTooltip(i,a,r,o);this.show(t,r,o),this.state=i,this.node=a,this.stateSource=s}})),this.delay)}},s.prototype.hide=function(){this.resetTimer(),this.hideTooltip()},s.prototype.hideTooltip=function(){null!=this.div&&(this.div.style.visibility="hidden")},s.prototype.show=function(t,e,i){if(!this.destroyed&&null!=t&&t.length>0){null==this.div&&this.init();var n=r.default.getScrollOrigin();this.div.style.zIndex=this.zIndex,this.div.style.left=e+n.x+"px",this.div.style.top=i+a.default.TOOLTIP_VERTICAL_OFFSET+n.y+"px",l.default.isNode(t)?(this.div.innerHTML="",this.div.appendChild(t)):this.div.innerHTML=t.replace(/\n/g,"<br>"),this.div.style.visibility="",r.default.fit(this.div)}},s.prototype.destroy=function(){this.destroyed||(this.graph.removeMouseListener(this),n.default.release(this.div),null!=this.div&&null!=this.div.parentNode&&this.div.parentNode.removeChild(this.div),this.destroyed=!0,this.div=null)};e.default=s},965572:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(i(164460)),l=o(i(742288)),a=o(i(745240)),r=o(i(790448));function o(t){return t&&t.__esModule?t:{default:t}}function s(){a.default.call(this)}l.default.extend(s,a.default),s.prototype.redrawPath=function(t,e,i,a,o){var s=l.default.getValue(this.style,r.default.STYLE_ARCSIZE,r.default.LINE_ARCSIZE)/2;this.addPoints(t,[new n.default(0,0),new n.default(a,.5*o),new n.default(0,o)],this.isRounded,s,!0)};e.default=s},883928:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(927184),i(321164);var n=o(i(995048)),l=o(i(370608)),a=o(i(39864)),r=o(i(326660));function o(t){return t&&t.__esModule?t:{default:t}}function s(t){this.size=null!=t?t:100,this.clear()}s.prototype=new a.default,s.prototype.constructor=s,s.prototype.size=null,s.prototype.history=null,s.prototype.indexOfNextAdd=0,s.prototype.isEmpty=function(){return 0==this.history.length},s.prototype.clear=function(){this.history=[],this.indexOfNextAdd=0,this.fireEvent(new n.default(l.default.CLEAR))},s.prototype.canUndo=function(){return this.indexOfNextAdd>0},s.prototype.undo=function(){for(;this.indexOfNextAdd>0;){var t=this.history[--this.indexOfNextAdd];if(t.undo(),t.isSignificant()){this.fireEvent(new n.default(l.default.UNDO,"edit",t));break}}},s.prototype.canRedo=function(){return this.indexOfNextAdd<this.history.length},s.prototype.redo=function(){for(var t=this.history.length;this.indexOfNextAdd<t;){var e=this.history[this.indexOfNextAdd++];if(e.redo(),e.isSignificant()){this.fireEvent(new n.default(l.default.REDO,"edit",e));break}}},s.prototype.undoableEditHappened=function(t){this.trim(),this.size>0&&this.size==this.history.length&&this.history.shift();var e=t.changes;e&&e.length&&e[0]instanceof r.default||(this.history.push(t),this.indexOfNextAdd=this.history.length,this.fireEvent(new n.default(l.default.ADD,"edit",t)))},s.prototype.trim=function(){if(this.history.length>this.indexOfNextAdd)for(var t=this.history.splice(this.indexOfNextAdd,this.history.length-this.indexOfNextAdd),e=0;e<t.length;e++)t[e].die()};e.default=s},131124:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i(995048)),l=a(i(370608));function a(t){return t&&t.__esModule?t:{default:t}}function r(t,e){this.source=t,this.changes=[],this.significant=null==e||e}r.prototype.source=null,r.prototype.changes=null,r.prototype.significant=null,r.prototype.undone=!1,r.prototype.redone=!1,r.prototype.isEmpty=function(){return 0==this.changes.length},r.prototype.isSignificant=function(){return this.significant},r.prototype.add=function(t){this.changes.push(t)},r.prototype.notify=function(){},r.prototype.die=function(){},r.prototype.undo=function(){if(!this.undone){this.source.fireEvent(new n.default(l.default.START_EDIT));for(var t=this.changes.length-1;t>=0;t--){var e=this.changes[t];null!=e.execute?e.execute():null!=e.undo&&e.undo(),this.source.fireEvent(new n.default(l.default.EXECUTED,"change",e))}this.undone=!0,this.redone=!1,this.source.fireEvent(new n.default(l.default.END_EDIT))}this.notify()},r.prototype.redo=function(){if(!this.redone){this.source.fireEvent(new n.default(l.default.START_EDIT));for(var t=this.changes.length,e=0;e<t;e++){var i=this.changes[e];null!=i.execute?i.execute():null!=i.redo&&i.redo(),this.source.fireEvent(new n.default(l.default.EXECUTED,"change",i))}this.undone=!1,this.redone=!0,this.source.fireEvent(new n.default(l.default.END_EDIT))}this.notify()};e.default=r},667032:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(820444);var n=function(){};n.prototype.enabled=!0,n.prototype.baseUrl=null,n.prototype.baseDomain=null,n.prototype.updateBaseUrl=function(){this.baseDomain=location.protocol+"//"+location.host,this.baseUrl=this.baseDomain+location.pathname;var t=this.baseUrl.lastIndexOf("/");t>0&&(this.baseUrl=this.baseUrl.substring(0,t+1))},n.prototype.isEnabled=function(){return this.enabled},n.prototype.setEnabled=function(t){this.enabled=t},n.prototype.getBaseUrl=function(){return this.baseUrl},n.prototype.setBaseUrl=function(t){this.baseUrl=t},n.prototype.getBaseDomain=function(){return this.baseDomain},n.prototype.setBaseDomain=function(t){this.baseDomain=t},n.prototype.isRelativeUrl=function(t){return"//"!=t.substring(0,2)&&"http://"!=t.substring(0,7)&&"https://"!=t.substring(0,8)&&"data:image"!=t.substring(0,10)},n.prototype.convert=function(t){return this.isEnabled()&&this.isRelativeUrl(t)&&(null==this.getBaseUrl()&&this.updateBaseUrl(),t="/"==t.charAt(0)?this.getBaseDomain()+t:this.getBaseUrl()+t),t};e.default=n},132448:function(t,e,i){"use strict";i(182320),i(909112),i(697060),i(743924),i(606200),i(78504),i(977864),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(241872),i(686456),i(82e3),i(927184),i(976896),i(297336),i(387912),i(23544),i(571176),i(633768),i(690512),i(513640),i(328640),i(321164),i(881288);var n=E(i(469524)),l=E(i(956832)),a=E(i(945324)),r=E(i(591108)),o=E(i(267456)),s=E(i(247644)),u=E(i(536684)),d=E(i(35152)),h=E(i(22676)),c=E(i(164460)),p=E(i(25861)),f=E(i(742288)),g=E(i(710952)),y=(E(i(484376)),E(i(790448))),m=E(i(121816)),v=E(i(11131));function E(t){return t&&t.__esModule?t:{default:t}}function b(t){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b(t)}var S={errorResource:"none"!=h.default.language?"error":"",closeResource:"none"!=h.default.language?"close":"",errorImage:h.default.imageBasePath+"/error.gif",removeCursors:function(t){null!=t.style&&(t.style.cursor="");var e=t.childNodes;if(null!=e)for(var i=e.length,n=0;n<i;n+=1)S.removeCursors(e[n])},getCurrentStyle:f.default.getCurrentStyle,parseCssNumber:function(t){return"thin"==t?t="2":"medium"==t?t="4":"thick"==t&&(t="6"),t=parseFloat(t),isNaN(t)&&(t=0),t},setPrefixedStyle:f.default.setPrefixedStyle,hasScrollbars:function(t){var e=f.default.getCurrentStyle(t);return null!=e&&("scroll"==e.overflow||"auto"==e.overflow)},bind:f.default.bind,eval:f.default.eval,findNode:function(t,e,i){if(t.nodeType==y.default.NODETYPE_ELEMENT){var n=t.getAttribute(e);if(null!=n&&n==i)return t}for(t=t.firstChild;null!=t;){var l=S.findNode(t,e,i);if(null!=l)return l;t=t.nextSibling}return null},getFunctionName:function(t){return f.default.getFunctionName(t)},indexOf:function(t,e){return f.default.indexOf(t,e)},forEach:function(t,e){if(null!=t&&null!=e)for(var i=0;i<t.length;i++)e(t[i]);return t},remove:function(t,e){var i=null;if("object"==b(e))for(var n=f.default.indexOf(e,t);n>=0;)e.splice(n,1),i=t,n=f.default.indexOf(e,t);for(var l in e)e[l]==t&&(delete e[l],i=t);return i},isNode:function(t,e,i,n){return f.default.isNode(t,e,i,n)},isAncestorNode:function(t,e){return f.default.isAncestorNode(t,e)},getChildNodes:f.default.getChildNodes,importNode:f.default.importNode,createXmlDocument:function(){return f.default.createXmlDocument()},parseXml:f.default.parseXml,clearSelection:document.selection?function(){document.selection.empty()}:window.getSelection?function(){window.getSelection().removeAllRanges()}:function(){},getPrettyXml:function(t,e,i){var n=[];if(null!=t)if(e=e||"  ",i=i||"",t.nodeType==y.default.NODETYPE_TEXT)n.push(t.value);else{n.push(i+"<"+t.nodeName);var l=t.attributes;if(null!=l)for(var a=0;a<l.length;a++){var r=f.default.htmlEntities(l[a].value);n.push(" "+l[a].nodeName+'="'+r+'"')}var o=t.firstChild;if(null!=o){for(n.push(">\n");null!=o;)n.push(S.getPrettyXml(o,e,i+e)),o=o.nextSibling;n.push(i+"</"+t.nodeName+">\n")}else n.push("/>\n")}return n.join("")},removeWhitespace:f.default.removeWhitespace,htmlEntities:function(t,e){return f.default.htmlEntities(t,e)},isVml:function(t){return f.default.isVml(t)},getXml:function(t,e){var i="";null!=window.XMLSerializer?i=(new XMLSerializer).serializeToString(t):null!=t.xml&&(i=t.xml.replace(/\r\n\t[\t]*/g,"").replace(/>\r\n/g,">").replace(/\r\n/g,"\n"));return e=e||"&#xa;",i=i.replace(/\n/g,e)},extractTextWithWhitespace:function(t){for(var e=!1,i=[],n=0;t[n];n++){var l=t[n];if(3===l.nodeType||4===l.nodeType){if(11==document.documentMode&&n==t.length-1&&0==l.nodeValue.length)break;i.push(l.nodeValue+(null==l.nextSibling||3!=l.nextSibling.nodeType?"\n":"")),e=!0}else 8!==l.nodeType&&((h.default.IS_IE||h.default.IS_IE11)&&"P"==l.nodeName&&0==l.innerHTML.length||!e&&"BR"==l.nodeName||"DIV"==l.nodeName&&"<br>"==l.innerHTML?i.push("\n"):i.push(S.extractTextWithWhitespace(l.childNodes)),e=!1)}return i.join("")},replaceTrailingNewlines:function(t,e){return f.default.replaceTrailingNewlines(t,e)},getTextContent:f.default.getTextContent,setTextContent:f.default.setTextContent,getInnerHtml:f.default.getInnerHtml,getOuterHtml:f.default.getOuterHtml,write:function(t,e){return f.default.write(t,e)},writeln:function(t,e){return f.default.writeln(t,e)},br:function(t,e){e=e||1;for(var i=null,n=0;n<e;n++)null!=t&&(i=t.ownerDocument.createElement("br"),t.appendChild(i));return i},button:function(t,e,i){var n=(i=null!=i?i:document).createElement("button");return f.default.write(n,t),g.default.addListener(n,"click",(function(t){e(t)})),n},para:function(t,e){var i=document.createElement("p");return f.default.write(i,e),null!=t&&t.appendChild(i),i},addTransparentBackgroundFilter:function(t){f.default.addTransparentBackgroundFilter(t)},linkAction:function(t,e,i,n,l){return S.link(t,e,(function(){i.execute(n)}),l)},linkInvoke:function(t,e,i,n,l,a){return S.link(t,e,(function(){i[n](l)}),a)},link:function(t,e,i,n){var l=document.createElement("span");return l.style.color="blue",l.style.textDecoration="underline",l.style.cursor="pointer",null!=n&&(l.style.paddingLeft=n+"px"),g.default.addListener(l,"click",i),f.default.write(l,e),null!=t&&t.appendChild(l),l},fit:function(t){var e=parseInt(t.offsetLeft),i=parseInt(t.offsetWidth),n=S.getDocumentScrollOrigin(t.ownerDocument),l=n.x,a=n.y,r=document.body,o=document.documentElement,s=l+(r.clientWidth||o.clientWidth);e+i>s&&(t.style.left=Math.max(l,s-i)+"px");var u=parseInt(t.offsetTop),d=parseInt(t.offsetHeight),h=a+Math.max(r.clientHeight||0,o.clientHeight);u+d>h&&(t.style.top=Math.max(a,h-d)+"px")},load:function(t){return m.default.load(t)},get:function(t,e,i,n,l,a){return m.default.get(t,e,i,n,l,a)},getAll:function(t,e,i){for(var n=t.length,l=[],a=0,r=function(){0==a&&null!=i&&i(),a++},o=0;o<t.length;o++)!function(t,i){m.default.get(t,(function(t){var a=t.getStatus();a<200||a>299?r():(l[i]=t,0==--n&&e(l))}),r)}(t[o],o);0==n&&e(l)},post:function(t,e,i,n){return new p.default(t,e).send(i,n)},submit:function(t,e,i,n){return new p.default(t,e).simulate(i,n)},loadInto:function(t,e,i){h.default.IS_IE?e.onreadystatechange=function(){4==e.readyState&&i()}:e.addEventListener("load",i,!1),e.load(t)},getValue:function(t,e,i){return f.default.getValue(t,e,i)},getNumber:function(t,e,i){return f.default.getNumber(t,e,i)},getColor:function(t,e,i){return f.default.getColor(t,e,i)},clone:function(t,e,i){return f.default.clone(t,e,i)},equalPoints:function(t,e){if(null==t&&null!=e||null!=t&&null==e||null!=t&&null!=e&&t.length!=e.length)return!1;if(null!=t&&null!=e)for(var i=0;i<t.length;i++)if(t[i]==e[i]||null!=t[i]&&!t[i].equals(e[i]))return!1;return!0},equalEntries:function(t,e){if(null==t&&null!=e||null!=t&&null==e||null!=t&&null!=e&&t.length!=e.length)return!1;if(null!=t&&null!=e){var i=0;for(var n in e)i++;for(var n in t)if(i--,!(S.isNaN(t[n])&&S.isNaN(e[n])||t[n]==e[n]))return!1}return 0==i},removeDuplicates:function(t){for(var e=new r.default,i=[],n=0;n<t.length;n++)e.get(t[n])||(i.push(t[n]),e.put(t[n],!0));return i},isNaN:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return"number"==typeof t&&isNaN(t)})),extend:function(t,e){f.default.extend(t,e)},toString:function(t){return f.default.toString(t)},toRadians:f.default.toRadians,toDegree:f.default.toDegree,arcToCurves:function(t,e,i,n,l,a,r,o,s){return f.default.arcToCurves(t,e,i,n,l,a,r,o,s)},getBoundingBox:function(t,e,i){var n=null;if(null!=t&&null!=e&&0!=e){var l=S.toRadians(e),a=Math.cos(l),r=Math.sin(l);i=null!=i?i:new c.default(t.x+t.width/2,t.y+t.height/2);var o=new c.default(t.x,t.y),u=new c.default(t.x+t.width,t.y),d=new c.default(u.x,t.y+t.height),h=new c.default(t.x,d.y);o=S.getRotatedPoint(o,a,r,i),u=S.getRotatedPoint(u,a,r,i),d=S.getRotatedPoint(d,a,r,i),h=S.getRotatedPoint(h,a,r,i),(n=new s.default(o.x,o.y,0,0)).add(new s.default(u.x,u.y,0,0)),n.add(new s.default(d.x,d.y,0,0)),n.add(new s.default(h.x,h.y,0,0))}return n},getRotatedPoint:function(t,e,i,n){n=null!=n?n:new c.default;var l=t.x-n.x,a=t.y-n.y,r=l*e-a*i,o=a*e+l*i;return new c.default(r+n.x,o+n.y)},getPortConstraints:function(t,e,i,n){return f.default.getPortConstraints(t,e,i,n)},reversePortConstraints:function(t){return f.default.reversePortConstraints(t)},findNearestSegment:f.default.findNearestSegment,rectangleIntersectsSegment:function(t,e,i){var n=t.y,l=t.x,a=n+t.height,r=l+t.width,o=e.x,s=i.x;if(e.x>i.x&&(o=i.x,s=e.x),s>r&&(s=r),o<l&&(o=l),o>s)return!1;var u=e.y,d=i.y,h=i.x-e.x;if(Math.abs(h)>1e-7){var c=(i.y-e.y)/h,p=e.y-c*e.x;u=c*o+p,d=c*s+p}if(u>d){var f=d;d=u,u=f}return d>a&&(d=a),u<n&&(u=n),!(u>d)},contains:f.default.contains,intersects:function(t,e){return f.default.intersects(t,e)},intersectsHotspot:function(t,e,i,n,l,a){if(l=null!=l?l:0,a=null!=a?a:0,(n=null!=n?n:1)>0){var r=t.getCenterX(),o=t.getCenterY(),u=t.width,d=t.height,h=f.default.getValue(t.style,y.default.STYLE_STARTSIZE)*t.view.scale;h>0&&(f.default.getValue(t.style,y.default.STYLE_HORIZONTAL,!0)?(o=t.y+h/2,d=h):(r=t.x+h/2,u=h)),u=Math.max(l,u*n),d=Math.max(l,d*n),a>0&&(u=Math.min(u,a),d=Math.min(d,a));var p=new s.default(r-u/2,o-d/2,u,d),g=S.toRadians(f.default.getValue(t.style,y.default.STYLE_ROTATION)||0);if(0!=g){var m=Math.cos(-g),v=Math.sin(-g),E=(r=new c.default(t.getCenterX(),t.getCenterY()),S.getRotatedPoint(new c.default(e,i),m,v,r));e=E.x,i=E.y}return S.contains(p,e,i)}return!0},getOffset:function(t,e){var i=0,n=0;if(null!=e&&e){var l=S.getDocumentScrollOrigin(t.ownerDocument);i+=l.x,n+=l.y}var a=t.getBoundingClientRect();return null!=a&&(i+=a.left,n+=a.top),new c.default(i,n)},getDocumentScrollOrigin:function(t){if(h.default.IS_QUIRKS)return new c.default(t.body.scrollLeft,t.body.scrollTop);var e=t.defaultView||t.parentWindow,i=null!=e&&void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,n=null!=e&&void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;return new c.default(i,n)},getScrollOrigin:function(t){for(var e=document.body,i=document.documentElement,n=S.getDocumentScrollOrigin(null!=t?t.ownerDocument:document);null!=t&&t!=e&&t!=i;)isNaN(t.scrollLeft)||isNaN(t.scrollTop)||(n.x+=t.scrollLeft,n.y+=t.scrollTop),t=t.parentNode;return n},convertPoint:function(t,e,i){var n=S.getScrollOrigin(t),l=S.getOffset(t);return l.x-=n.x,l.y-=n.y,new c.default(e-l.x,i-l.y)},ltrim:function(t,e){return f.default.ltrim(t,e)},rtrim:function(t,e){return f.default.rtrim(t,e)},trim:function(t,e){return f.default.trim(t,e)},isNumeric:f.default.isNumeric,isInteger:f.default.isInteger,mod:function(t,e){return f.default.mod(t,e)},intersection:function(t,e,i,n,l,a,r,o){var s=(o-a)*(i-t)-(r-l)*(n-e),u=((r-l)*(e-a)-(o-a)*(t-l))/s,d=((i-t)*(e-a)-(n-e)*(t-l))/s;if(u>=0&&u<=1&&d>=0&&d<=1){var h=t+u*(i-t),p=e+u*(n-e);return new c.default(h,p)}return null},ptSegDistSq:function(t,e,i,n,l,a){return f.default.ptSegDistSq(t,e,i,n,l,a)},ptLineDist:function(t,e,i,n,l,a){return Math.abs((n-e)*l-(i-t)*a+i*e-n*t)/Math.sqrt((n-e)*(n-e)+(i-t)*(i-t))},relativeCcw:function(t,e,i,n,l,a){var r=(l-=t)*(n-=e)-(a-=e)*(i-=t);return 0==r&&(r=l*i+a*n)>0&&(r=(l-=i)*i+(a-=n)*n)<0&&(r=0),r<0?-1:r>0?1:0},animateChanges:function(t,e){l.default.animateChanges.apply(this,arguments)},cascadeOpacity:function(t,e,i){l.default.cascadeOpacity.apply(this,arguments)},fadeOut:function(t,e,i,n,a,r){l.default.fadeOut.apply(this,arguments)},setOpacity:function(t,e){f.default.setOpacity(t,e)},createImage:function(t){var e=null;return h.default.IS_IE6&&"CSS1Compat"!=document.compatMode?((e=document.createElement(h.default.VML_PREFIX+":image")).setAttribute("src",t),e.style.borderStyle="none"):((e=document.createElement("img")).setAttribute("src",t),e.setAttribute("border","0")),e},sortCells:function(t,e){e=null==e||e;var i=new r.default;return t.sort((function(t,n){var l=i.get(t);null==l&&(l=d.default.create(t).split(d.default.PATH_SEPARATOR),i.put(t,l));var a=i.get(n);null==a&&(a=d.default.create(n).split(d.default.PATH_SEPARATOR),i.put(n,a));var r=d.default.compare(l,a);return 0==r?0:r>0==e?1:-1})),t},getStylename:function(t){if(null!=t){var e=t.split(";")[0];if(e.indexOf("=")<0)return e}return""},getStylenames:function(t){var e=[];if(null!=t)for(var i=t.split(";"),n=0;n<i.length;n++)i[n].indexOf("=")<0&&e.push(i[n]);return e},indexOfStylename:function(t,e){if(null!=t&&null!=e)for(var i=t.split(";"),n=0,l=0;l<i.length;l++){if(i[l]==e)return n;n+=i[l].length+1}return-1},addStylename:function(t,e){return f.default.indexOfStylename(t,e)<0&&(null==t?t="":t.length>0&&";"!=t.charAt(t.length-1)&&(t+=";"),t+=e),t},removeStylename:function(t,e){var i=[];if(null!=t)for(var n=t.split(";"),l=0;l<n.length;l++)n[l]!=e&&i.push(n[l]);return i.join(";")},removeAllStylenames:function(t){var e=[];if(null!=t)for(var i=t.split(";"),n=0;n<i.length;n++)i[n].indexOf("=")>=0&&e.push(i[n]);return e.join(";")},setCellStyles:function(t,e,i,n){if(null!=e&&e.length>0){t.beginUpdate();try{for(var l=0;l<e.length;l++)if(null!=e[l]){var a=S.setStyle(t.getStyle(e[l]),i,n);t.setStyle(e[l],a)}}finally{t.endUpdate()}}},setStyle:function(t,e,i){var n=null!=i&&(void 0===i.length||i.length>0);if(null==t||0==t.length)n&&(t=e+"="+i+";");else if(t.substring(0,e.length+1)==e+"="){var l=t.indexOf(";");t=n?e+"="+i+(l<0?";":t.substring(l)):l<0||l==t.length-1?"":t.substring(l+1)}else{var a=t.indexOf(";"+e+"=");if(a<0){if(n){var r=";"==t.charAt(t.length-1)?"":";";t=t+r+e+"="+i+";"}}else{l=t.indexOf(";",a+1);t=n?t.substring(0,a+1)+e+"="+i+(l<0?";":t.substring(l)):t.substring(0,a)+(l<0?";":t.substring(l))}}return t},setCellStyleFlags:function(t,e,i,n,l){if(null!=e&&e.length>0){t.beginUpdate();try{for(var a=0;a<e.length;a++)if(null!=e[a]){var r=S.setStyleFlag(t.getStyle(e[a]),i,n,l);t.setStyle(e[a],r)}}finally{t.endUpdate()}}},setStyleFlag:function(t,e,i,n){if(null==t||0==t.length)t=n||null==n?e+"="+i:e+"=0";else{var l=t.indexOf(e+"=");if(l<0){var a=";"==t.charAt(t.length-1)?"":";";t=n||null==n?t+a+e+"="+i:t+a+e+"=0"}else{var r=t.indexOf(";",l),o="";o=r<0?t.substring(l+e.length+1):t.substring(l+e.length+1,r),o=null==n?parseInt(o)^i:n?parseInt(o)|i:parseInt(o)&~i,t=t.substring(0,l)+e+"="+o+(r>=0?t.substring(r):"")}}return t},getAlignmentAsPoint:function(t,e){var i=0,n=0;return t==y.default.ALIGN_CENTER?i=-.5:t==y.default.ALIGN_RIGHT&&(i=-1),e==y.default.ALIGN_MIDDLE?n=-.5:e==y.default.ALIGN_BOTTOM&&(n=-1),new c.default(i,n)},getSizeForString:function(t,e,i,n){e=null!=e?e:y.default.DEFAULT_FONTSIZE,i=null!=i?i:y.default.DEFAULT_FONTFAMILY;var l=document.createElement("div");l.style.fontFamily=i,l.style.fontSize=Math.round(e)+"px",l.style.lineHeight=Math.round(e*y.default.LINE_HEIGHT)+"px",l.style.position="absolute",l.style.visibility="hidden",l.style.display=h.default.IS_QUIRKS?"inline":"inline-block",l.style.zoom="1",null!=n?(l.style.width=n+"px",l.style.whiteSpace="normal"):l.style.whiteSpace="nowrap",l.innerHTML=t,document.body.appendChild(l);var a=new s.default(0,0,l.offsetWidth,l.offsetHeight);return document.body.removeChild(l),a},getViewXml:function(t,e,i,n,l){(n=null!=n?n:0,l=null!=l?l:0,e=null!=e?e:1,null==i)&&(i=[t.getModel().getRoot()]);var r=t.getView(),o=null,s=r.isEventsEnabled();r.setEventsEnabled(!1);var d=r.drawPane,h=r.overlayPane;t.dialect==y.default.DIALECT_SVG?(r.drawPane=document.createElementNS(y.default.NS_SVG,"g"),r.canvas.appendChild(r.drawPane),r.overlayPane=document.createElementNS(y.default.NS_SVG,"g"),r.canvas.appendChild(r.overlayPane)):(r.drawPane=r.drawPane.cloneNode(!1),r.canvas.appendChild(r.drawPane),r.overlayPane=r.overlayPane.cloneNode(!1),r.canvas.appendChild(r.overlayPane));var p=r.getTranslate();r.translate=new c.default(n,l);var f=new a.default(t.getView(),e,i);try{o=(new u.default).encode(t.getView())}finally{f.destroy(),r.translate=p,r.canvas.removeChild(r.drawPane),r.canvas.removeChild(r.overlayPane),r.drawPane=d,r.overlayPane=h,r.setEventsEnabled(s)}return o},getScaleForPageCount:function(t,e,i,n){if(t<1)return 1;n=null!=n?n:0;var l=(i=null!=i?i:y.default.PAGE_FORMAT_A4_PORTRAIT).width-2*n,a=i.height-2*n,r=e.getGraphBounds().clone(),o=e.getView().getScale();r.width/=o,r.height/=o;var s=r.width,u=s/r.height/(l/a),d=Math.sqrt(t),h=Math.sqrt(u),c=d*h,p=d/h;if(c<1&&p>t){var f=p/t;p=t,c/=f}if(p<1&&c>t){f=c/t;c=t,p/=f}for(var g=Math.ceil(c)*Math.ceil(p),m=0;g>t;){var v=Math.floor(c)/c,E=Math.floor(p)/p;1==v&&(v=Math.floor(c-1)/c),1==E&&(E=Math.floor(p-1)/p);f=1;if(c*=f=v>E?v:E,p*=f,g=Math.ceil(c)*Math.ceil(p),++m>10)break}return.99999*(l*c/s)},show:function(t,e,i,n,l,a){(i=null!=i?i:0,n=null!=n?n:0,null==e)?e=window.open().document:e.open();9==document.documentMode&&e.writeln('\x3c!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=9"><![endif]--\x3e');var r=t.getGraphBounds(),o=Math.ceil(i-r.x),s=Math.ceil(n-r.y);if(null==l&&(l=Math.ceil(r.width+i)+Math.ceil(Math.ceil(r.x)-r.x)),null==a&&(a=Math.ceil(r.height+n)+Math.ceil(Math.ceil(r.y)-r.y)),h.default.IS_IE||11==document.documentMode){for(var u="<html><head>",d=document.getElementsByTagName("base"),c=0;c<d.length;c++)u+=d[c].outerHTML;u+="<style>";for(c=0;c<document.styleSheets.length;c++)try{u+=document.styleSheets[c].cssText}catch(t){}u+='</style></head><body style="margin:0px;">',u+='<div style="position:absolute;overflow:hidden;width:'+l+"px;height:"+a+'px;"><div style="position:relative;left:'+o+"px;top:"+s+'px;">',u+=t.container.innerHTML,u+="</div></div></body><html>",e.writeln(u),e.close()}else{e.writeln("<html><head>");for(d=document.getElementsByTagName("base"),c=0;c<d.length;c++)e.writeln(S.getOuterHtml(d[c]));var p=document.getElementsByTagName("link");for(c=0;c<p.length;c++)e.writeln(S.getOuterHtml(p[c]));var f=document.getElementsByTagName("style");for(c=0;c<f.length;c++)e.writeln(S.getOuterHtml(f[c]));e.writeln('</head><body style="margin:0px;"></body></html>'),e.close();var g=e.createElement("div");g.position="absolute",g.overflow="hidden",g.style.width=l+"px",g.style.height=a+"px";var y=e.createElement("div");y.style.position="absolute",y.style.left=o+"px",y.style.top=s+"px";for(var m=t.container.firstChild,v=null;null!=m;){var E=m.cloneNode(!0);m==t.view.drawPane.ownerSVGElement?(g.appendChild(E),v=E):y.appendChild(E),m=m.nextSibling}e.body.appendChild(g),null!=y.firstChild&&e.body.appendChild(y),null!=v&&(v.style.minWidth="",v.style.minHeight="",v.firstChild.setAttribute("transform","translate("+o+","+s+")"))}return S.removeCursors(e.body),e},printScreen:function(t){var e=window.open();t.getGraphBounds();S.show(t,e.document);var i=function(){e.focus(),e.print(),e.close()};h.default.IS_GC?e.setTimeout(i,500):i()},popup:function(t,e){f.default.popup(t,e)},alert:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){alert(t)})),prompt:function(t){function e(e,i){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t,e){return prompt(t,null!=e?e:"")})),confirm:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return confirm(t)})),error:function(t,e,i,n){var l=document.createElement("div");l.style.padding="20px";var a=document.createElement("img");a.setAttribute("src",n||S.errorImage),a.setAttribute("valign","bottom"),a.style.verticalAlign="middle",l.appendChild(a),l.appendChild(document.createTextNode(" ")),l.appendChild(document.createTextNode(" ")),l.appendChild(document.createTextNode(" ")),f.default.write(l,t);var r=document.body.clientWidth,s=document.body.clientHeight||document.documentElement.clientHeight,u=new o.default(v.default.get(S.errorResource)||S.errorResource,l,(r-e)/2,s/4,e,null,!1,!0);if(i){S.br(l);var d=document.createElement("p"),c=document.createElement("button");h.default.IS_IE?c.style.cssText="float:right":c.setAttribute("style","float:right"),g.default.addListener(c,"click",(function(t){u.destroy()})),f.default.write(c,v.default.get(S.closeResource)||S.closeResource),d.appendChild(c),l.appendChild(d),S.br(l),u.setClosable(!0)}return u.setVisible(!0),u},makeDraggable:function(t,e,i,l,a,r,o,s,u,d){var h=new n.default(t,i);return h.dragOffset=new c.default(null!=a?a:0,null!=r?r:y.default.TOOLTIP_VERTICAL_OFFSET),h.autoscroll=o,h.setGuidesEnabled(!1),null!=u&&(h.highlightDropTargets=u),null!=d&&(h.getDropTarget=d),h.getGraphForEvent=function(t){return"function"==typeof e?e(t):e},null!=l&&(h.createDragElement=function(){return l.cloneNode(!0)},s&&(h.createPreviewElement=function(t){var e=l.cloneNode(!0),i=parseInt(e.style.width),n=parseInt(e.style.height);return e.style.width=Math.round(i*t.view.scale)+"px",e.style.height=Math.round(n*t.view.scale)+"px",e})),h}};e.default=S},326660:function(t,e,i){"use strict";function n(t,e,i){this.model=t,this.cell=e,this.value=i,this.previous=i}i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n.prototype.execute=function(){this.value=this.previous,this.previous=this.model.valueForCellChanged(this.cell,this.previous)},n.getName=function(){return"mxValueChange"};e.default=n},53108:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(106208),i(297336),i(846428);var n=g(i(22676)),l=g(i(794644)),a=g(i(370608)),r=g(i(164460)),o=g(i(736616)),s=g(i(742288)),u=g(i(796656)),d=g(i(247644)),h=g(i(833800)),c=g(i(790448)),p=g(i(132448)),f=i(384904);function g(t){return t&&t.__esModule?t:{default:t}}function y(t){null!=t&&(this.state=t,this.init(),this.escapeHandler=s.default.bind(this,(function(t,e){this.livePreview&&null!=this.index&&(this.state.view.graph.cellRenderer.redraw(this.state,!0),this.state.view.invalidate(this.state.cell),this.state.invalid=!1,this.state.view.validate()),this.reset()})),this.state.view.graph.addListener(a.default.ESCAPE,this.escapeHandler))}y.prototype.graph=null,y.prototype.state=null,y.prototype.singleSizer=!1,y.prototype.index=null,y.prototype.allowHandleBoundsCheck=!0,y.prototype.handleImage=null,y.prototype.tolerance=0,y.prototype.rotationEnabled=!1,y.prototype.parentHighlightEnabled=!1,y.prototype.rotationRaster=!0,y.prototype.rotationCursor="crosshair",y.prototype.livePreview=!1,y.prototype.manageSizers=!1,y.prototype.constrainGroupByChildren=!1,y.prototype.rotationHandleVSpacing=-16,y.prototype.horizontalOffset=0,y.prototype.verticalOffset=0,y.prototype.init=function(){if(this.graph=this.state.view.graph,this.selectionBounds=this.getSelectionBounds(this.state),this.bounds=new d.default(this.selectionBounds.x,this.selectionBounds.y,this.selectionBounds.width,this.selectionBounds.height),this.selectionBorder=this.createSelectionShape(this.bounds),this.selectionBorder.dialect=this.graph.dialect!=c.default.DIALECT_SVG?c.default.DIALECT_VML:c.default.DIALECT_SVG,this.selectionBorder.pointerEvents=!1,this.selectionBorder.rotation=Number(this.state.style[c.default.STYLE_ROTATION]||"0"),this.selectionBorder.init(this.graph.getView().getOverlayPane()),a.default.redirectMouseEvents(this.selectionBorder.node,this.graph,this.state),this.graph.isCellMovable(this.state.cell)&&this.selectionBorder.setCursor(c.default.CURSOR_MOVABLE_VERTEX),o.default.prototype.maxCells<=0||this.graph.getSelectionCount()<o.default.prototype.maxCells){var t=this.graph.isCellResizable(this.state.cell);if(this.sizers=[],t||this.graph.isLabelMovable(this.state.cell)&&this.state.width>=2&&this.state.height>=2){var e=0;t&&(this.singleSizer||(this.sizers.push(this.createSizer("nw-resize",e++)),this.sizers.push(this.createSizer("n-resize",e++)),this.sizers.push(this.createSizer("ne-resize",e++)),this.sizers.push(this.createSizer("w-resize",e++)),this.sizers.push(this.createSizer("e-resize",e++)),this.sizers.push(this.createSizer("sw-resize",e++)),this.sizers.push(this.createSizer("s-resize",e++))),this.sizers.push(this.createSizer("se-resize",e++)));var i=this.graph.model.getGeometry(this.state.cell);null==i||i.relative||this.graph.isSwimlane(this.state.cell)||!this.graph.isLabelMovable(this.state.cell)||(this.labelShape=this.createSizer(c.default.CURSOR_LABEL_HANDLE,a.default.LABEL_HANDLE,c.default.LABEL_HANDLE_SIZE,c.default.LABEL_HANDLE_FILLCOLOR),this.sizers.push(this.labelShape))}else this.graph.isCellMovable(this.state.cell)&&!this.graph.isCellResizable(this.state.cell)&&this.state.width<2&&this.state.height<2&&(this.labelShape=this.createSizer(c.default.CURSOR_MOVABLE_VERTEX,a.default.LABEL_HANDLE,null,c.default.LABEL_HANDLE_FILLCOLOR),this.sizers.push(this.labelShape))}this.isRotationHandleVisible()&&(this.rotationShape=this.createSizer(this.rotationCursor,a.default.ROTATION_HANDLE,c.default.HANDLE_SIZE+3,c.default.HANDLE_FILLCOLOR),this.sizers.push(this.rotationShape)),this.customHandles=this.createCustomHandles(),this.redraw(),this.constrainGroupByChildren&&this.updateMinBounds()},y.prototype.isRotationHandleVisible=function(){return this.graph.isEnabled()&&this.rotationEnabled&&this.graph.isCellRotatable(this.state.cell)&&(o.default.prototype.maxCells<=0||this.graph.getSelectionCount()<o.default.prototype.maxCells)&&this.state.width>=2&&this.state.height>=2},y.prototype.isConstrainedEvent=function(t){return a.default.isShiftDown(t.getEvent())||"fixed"==this.state.style[c.default.STYLE_ASPECT]},y.prototype.isCenteredEvent=function(t,e){return!1},y.prototype.createCustomHandles=function(){return null},y.prototype.updateMinBounds=function(){var t=this.graph.getChildCells(this.state.cell);if(t.length>0&&(this.minBounds=this.graph.view.getBounds(t),null!=this.minBounds)){var e=this.state.view.scale,i=this.state.view.translate;this.minBounds.x-=this.state.x,this.minBounds.y-=this.state.y,this.minBounds.x/=e,this.minBounds.y/=e,this.minBounds.width/=e,this.minBounds.height/=e,this.x0=this.state.x/e-i.x,this.y0=this.state.y/e-i.y}},y.prototype.getSelectionBounds=function(t){return new d.default(Math.round(t.x),Math.round(t.y),Math.round(t.width),Math.round(t.height))},y.prototype.createParentHighlightShape=function(t){return this.createSelectionShape(t)},y.prototype.createSelectionShape=function(t){var e=new h.default(t,null,this.getSelectionColor()),i=this.graph;return(0,f.isBizFlow)(i.flowType)&&i.isEnabled()?(e.stroke=c.default.BIZFLOW_EDGE_SELECTION_COLOR,e.isDashed=c.default.BIZFLOW_EDGE_SELECTION_DASHED,e.strokewidth=c.default.BIZFLOW_EDGE_SELECTION_STROKEWIDTH,e.style={arcSize:4.16},e.isRounded=!0):(e.strokewidth=this.getSelectionStrokeWidth(),e.isDashed=this.isSelectionDashed()),e},y.prototype.getSelectionColor=function(){return c.default.VERTEX_SELECTION_COLOR},y.prototype.getSelectionStrokeWidth=function(){return c.default.VERTEX_SELECTION_STROKEWIDTH},y.prototype.isSelectionDashed=function(){return c.default.VERTEX_SELECTION_DASHED},y.prototype.createSizer=function(t,e,i,n){i=i||c.default.HANDLE_SIZE;var l=new d.default(0,0,i,i),r=this.createSizerShape(l,e,n);return r.isHtmlAllowed()&&null!=this.state.text&&this.state.text.node.parentNode==this.graph.container?(r.bounds.height-=1,r.bounds.width-=1,r.dialect=c.default.DIALECT_STRICTHTML,r.init(this.graph.container)):(r.dialect=this.graph.dialect!=c.default.DIALECT_SVG?c.default.DIALECT_MIXEDHTML:c.default.DIALECT_SVG,r.init(this.graph.getView().getOverlayPane())),a.default.redirectMouseEvents(r.node,this.graph,this.state),this.graph.isEnabled()&&r.setCursor(t),this.isSizerVisible(e)||(r.visible=!1),r},y.prototype.isSizerVisible=function(t){return!0},y.prototype.createSizerShape=function(t,e,i){if(null!=this.handleImage){t=new d.default(t.x,t.y,this.handleImage.width,this.handleImage.height);var n=new l.default(t,this.handleImage.src);return n.preserveImageAspect=!1,n}return e==a.default.ROTATION_HANDLE?new u.default(t,i||c.default.HANDLE_FILLCOLOR,c.default.HANDLE_STROKECOLOR):new h.default(t,i||c.default.HANDLE_FILLCOLOR,c.default.HANDLE_STROKECOLOR)},y.prototype.moveSizerTo=function(t,e,i){null!=t&&(t.bounds.x=Math.floor(e-t.bounds.width/2),t.bounds.y=Math.floor(i-t.bounds.height/2),null!=t.node&&"none"!=t.node.style.display&&t.redraw())},y.prototype.getHandleForEvent=function(t){var e=a.default.isMouseEvent(t.getEvent())?1:this.tolerance,i=this.allowHandleBoundsCheck&&(n.default.IS_IE||e>0)?new d.default(t.getGraphX()-e,t.getGraphY()-e,2*e,2*e):null;function l(e){return null!=e&&(t.isSource(e)||null!=i&&p.default.intersects(e.bounds,i)&&"none"!=e.node.style.display&&"hidden"!=e.node.style.visibility)}if(null!=this.customHandles&&this.isCustomHandleEvent(t))for(var r=this.customHandles.length-1;r>=0;r--)if(l(this.customHandles[r].shape))return a.default.CUSTOM_HANDLE-r;if(l(this.rotationShape))return a.default.ROTATION_HANDLE;if(l(this.labelShape))return a.default.LABEL_HANDLE;if(null!=this.sizers)for(r=0;r<this.sizers.length;r++)if(l(this.sizers[r]))return r;return null},y.prototype.isCustomHandleEvent=function(t){return!0},y.prototype.mouseDown=function(t,e){var i=a.default.isMouseEvent(e.getEvent())?0:this.tolerance;if(!e.isConsumed()&&this.graph.isEnabled()&&(i>0||e.getState()==this.state)){var n=this.getHandleForEvent(e);null!=n&&(this.start(e.getGraphX(),e.getGraphY(),n),e.consume())}},y.prototype.isLivePreviewBorder=function(){return null!=this.state.shape&&null==this.state.shape.fill&&null==this.state.shape.stroke},y.prototype.start=function(t,e,i){this.inTolerance=!0,this.childOffsetX=0,this.childOffsetY=0,this.index=i,this.startX=t,this.startY=e;var l=this.state.view.graph.model,r=l.getParent(this.state.cell);if(this.state.view.currentRoot!=r&&(l.isVertex(r)||l.isEdge(r))&&(this.parentState=this.state.view.graph.view.getState(r)),this.selectionBorder.node.style.display=i==a.default.ROTATION_HANDLE?"inline":"none",this.livePreview&&!this.isLivePreviewBorder()||(this.preview=this.createSelectionShape(this.bounds),n.default.IS_SVG&&0!=Number(this.state.style[c.default.STYLE_ROTATION]||"0")||null==this.state.text||this.state.text.node.parentNode!=this.graph.container?(this.preview.dialect=this.graph.dialect!=c.default.DIALECT_SVG?c.default.DIALECT_VML:c.default.DIALECT_SVG,this.preview.init(this.graph.view.getOverlayPane())):(this.preview.dialect=c.default.DIALECT_STRICTHTML,this.preview.init(this.graph.container))),this.livePreview){this.hideSizers(),i==a.default.ROTATION_HANDLE?this.rotationShape.node.style.display="":i==a.default.LABEL_HANDLE?this.labelShape.node.style.display="":null!=this.sizers&&null!=this.sizers[i]?this.sizers[i].node.style.display="":i<=a.default.CUSTOM_HANDLE&&null!=this.customHandles&&this.customHandles[a.default.CUSTOM_HANDLE-i].setVisible(!0);var o=this.graph.getEdges(this.state.cell);this.edgeHandlers=[];for(var s=0;s<o.length;s++){var u=this.graph.selectionCellsHandler.getHandler(o[s]);null!=u&&this.edgeHandlers.push(u)}}},y.prototype.setHandlesVisible=function(t){if(null!=this.sizers)for(var e=0;e<this.sizers.length;e++)this.sizers[e].node.style.display=t?"":"none";if(null!=this.customHandles)for(e=0;e<this.customHandles.length;e++)this.customHandles[e].setVisible(t)},y.prototype.hideSizers=function(){this.setHandlesVisible(!1)},y.prototype.checkTolerance=function(t){this.inTolerance&&null!=this.startX&&null!=this.startY&&(a.default.isMouseEvent(t.getEvent())||Math.abs(t.getGraphX()-this.startX)>this.graph.tolerance||Math.abs(t.getGraphY()-this.startY)>this.graph.tolerance)&&(this.inTolerance=!1)},y.prototype.updateHint=function(t){},y.prototype.removeHint=function(){},y.prototype.roundAngle=function(t){return Math.round(10*t)/10},y.prototype.roundLength=function(t){return Math.round(t)},y.prototype.mouseMove=function(t,e){e.isConsumed()||null==this.index?this.graph.isMouseDown||null==this.getHandleForEvent(e)||e.consume(!1):(this.checkTolerance(e),this.inTolerance||(this.index<=a.default.CUSTOM_HANDLE?null!=this.customHandles&&this.customHandles[a.default.CUSTOM_HANDLE-this.index].processEvent(e):this.index==a.default.LABEL_HANDLE?this.moveLabel(e):this.index==a.default.ROTATION_HANDLE?this.rotateVertex(e):this.resizeVertex(e),this.updateHint(e)),e.consume())},y.prototype.moveLabel=function(t){var e=new r.default(t.getGraphX(),t.getGraphY()),i=this.graph.view.translate,n=this.graph.view.scale;this.graph.isGridEnabledEvent(t.getEvent())&&(e.x=(this.graph.snap(e.x/n-i.x)+i.x)*n,e.y=(this.graph.snap(e.y/n-i.y)+i.y)*n);var l=null!=this.rotationShape?this.sizers.length-2:this.sizers.length-1;this.moveSizerTo(this.sizers[l],e.x,e.y)},y.prototype.rotateVertex=function(t){var e=new r.default(t.getGraphX(),t.getGraphY()),i=this.state.x+this.state.width/2-e.x,n=this.state.y+this.state.height/2-e.y;if(this.currentAlpha=0!=i?180*Math.atan(n/i)/Math.PI+90:n<0?180:0,i>0&&(this.currentAlpha-=180),this.rotationRaster&&this.graph.isGridEnabledEvent(t.getEvent())){i=e.x-this.state.getCenterX(),n=e.y-this.state.getCenterY();var l=3*Math.abs(Math.sqrt(i*i+n*n)-20),a=Math.max(1,5*Math.min(3,Math.max(0,Math.round(80/Math.abs(l)))));this.currentAlpha=Math.round(this.currentAlpha/a)*a}else this.currentAlpha=this.roundAngle(this.currentAlpha);this.selectionBorder.rotation=this.currentAlpha,this.selectionBorder.redraw(),this.livePreview&&this.redrawHandles()},y.prototype.resizeVertex=function(t){var e=new r.default(this.state.getCenterX(),this.state.getCenterY()),i=p.default.toRadians(this.state.style[c.default.STYLE_ROTATION]||"0"),n=new r.default(t.getGraphX(),t.getGraphY()),l=this.graph.view.translate,a=this.graph.view.scale,o=Math.cos(-i),s=Math.sin(-i),u=s*(m=n.x-this.startX)+o*(v=n.y-this.startY);m=o*m-s*v,v=u;var h=this.graph.getCellGeometry(this.state.cell);if(this.unscaledBounds=this.union(h,m/a,v/a,this.index,this.graph.isGridEnabledEvent(t.getEvent()),1,new r.default(0,0),this.isConstrainedEvent(t),this.isCenteredEvent(this.state,t)),!h.relative){var f=this.graph.getMaximumGraphBounds();if(null!=f&&null!=this.parentState&&((f=d.default.fromRectangle(f)).x-=(this.parentState.x-l.x*a)/a,f.y-=(this.parentState.y-l.y*a)/a),this.graph.isConstrainChild(this.state.cell)){var g=this.graph.getCellContainmentArea(this.state.cell);if(null!=g){var y=this.graph.getOverlap(this.state.cell);y>0&&((g=d.default.fromRectangle(g)).x-=g.width*y,g.y-=g.height*y,g.width+=2*g.width*y,g.height+=2*g.height*y),null==f?f=g:(f=d.default.fromRectangle(f)).intersect(g)}}null!=f&&(this.unscaledBounds.x<f.x&&(this.unscaledBounds.width-=f.x-this.unscaledBounds.x,this.unscaledBounds.x=f.x),this.unscaledBounds.y<f.y&&(this.unscaledBounds.height-=f.y-this.unscaledBounds.y,this.unscaledBounds.y=f.y),this.unscaledBounds.x+this.unscaledBounds.width>f.x+f.width&&(this.unscaledBounds.width-=this.unscaledBounds.x+this.unscaledBounds.width-f.x-f.width),this.unscaledBounds.y+this.unscaledBounds.height>f.y+f.height&&(this.unscaledBounds.height-=this.unscaledBounds.y+this.unscaledBounds.height-f.y-f.height))}this.bounds=new d.default((null!=this.parentState?this.parentState.x:l.x*a)+this.unscaledBounds.x*a,(null!=this.parentState?this.parentState.y:l.y*a)+this.unscaledBounds.y*a,this.unscaledBounds.width*a,this.unscaledBounds.height*a),h.relative&&null!=this.parentState&&(this.bounds.x+=this.state.x-this.parentState.x,this.bounds.y+=this.state.y-this.parentState.y),o=Math.cos(i),s=Math.sin(i);var m,v,E=new r.default(this.bounds.getCenterX(),this.bounds.getCenterY()),b=o*(m=E.x-e.x)-s*(v=E.y-e.y)-m,S=s*m+o*v-v,w=this.bounds.x-this.state.x,A=this.bounds.y-this.state.y,C=o*w-s*A,T=s*w+o*A;this.bounds.x+=b,this.bounds.y+=S,this.unscaledBounds.x=this.roundLength(this.unscaledBounds.x+b/a),this.unscaledBounds.y=this.roundLength(this.unscaledBounds.y+S/a),this.unscaledBounds.width=this.roundLength(this.unscaledBounds.width),this.unscaledBounds.height=this.roundLength(this.unscaledBounds.height),this.graph.isCellCollapsed(this.state.cell)||0==b&&0==S?(this.childOffsetX=0,this.childOffsetY=0):(this.childOffsetX=this.state.x-this.bounds.x+C,this.childOffsetY=this.state.y-this.bounds.y+T),this.livePreview&&this.updateLivePreview(t),null!=this.preview&&this.drawPreview()},y.prototype.updateLivePreview=function(t){var e=this.graph.view.scale,i=this.graph.view.translate,n=this.state.clone();this.state.x=this.bounds.x,this.state.y=this.bounds.y,this.state.origin=new r.default(this.state.x/e-i.x,this.state.y/e-i.y),this.state.width=this.bounds.width,this.state.height=this.bounds.height,this.state.unscaledWidth=null;var l=this.state.absoluteOffset;l=new r.default(l.x,l.y),this.state.absoluteOffset.x=0,this.state.absoluteOffset.y=0;var a=this.graph.getCellGeometry(this.state.cell);if(null!=a){var o=a.offset||this.EMPTY_POINT;null==o||a.relative||(this.state.absoluteOffset.x=this.state.view.scale*o.x,this.state.absoluteOffset.y=this.state.view.scale*o.y),this.state.view.updateVertexLabelOffset(this.state)}this.state.view.graph.cellRenderer.redraw(this.state,!0),this.state.view.invalidate(this.state.cell),this.state.invalid=!1,this.state.view.validate(),this.redrawHandles(),this.state.setState(n)},y.prototype.mouseUp=function(t,e){if(null!=this.index&&null!=this.state){var i=new r.default(e.getGraphX(),e.getGraphY());this.graph.getModel().beginUpdate();try{if(this.index<=a.default.CUSTOM_HANDLE)null!=this.customHandles&&this.customHandles[a.default.CUSTOM_HANDLE-this.index].execute();else if(this.index==a.default.ROTATION_HANDLE)if(null!=this.currentAlpha){var n=this.currentAlpha-(this.state.style[c.default.STYLE_ROTATION]||0);0!=n&&this.rotateCell(this.state.cell,n)}else this.rotateClick();else{var l=this.graph.isGridEnabledEvent(e.getEvent()),o=p.default.toRadians(this.state.style[c.default.STYLE_ROTATION]||"0"),s=Math.cos(-o),u=Math.sin(-o),d=i.x-this.startX,h=i.y-this.startY,f=u*d+s*h;d=s*d-u*h,h=f;var g=this.graph.view.scale,y=this.isRecursiveResize(this.state,e);this.resizeCell(this.state.cell,this.roundLength(d/g),this.roundLength(h/g),this.index,l,this.isConstrainedEvent(e),y)}}finally{this.graph.getModel().endUpdate()}e.consume(),this.reset()}},y.prototype.isRecursiveResize=function(t,e){return this.graph.isRecursiveResize(this.state)},y.prototype.rotateClick=function(){},y.prototype.rotateCell=function(t,e,i){if(0!=e){var n=this.graph.getModel();if(n.isVertex(t)||n.isEdge(t)){if(!n.isEdge(t)){var l=this.graph.view.getState(t),a=null!=l?l.style:this.graph.getCellStyle(t);if(null!=a){var o=(a[c.default.STYLE_ROTATION]||0)+e;this.graph.setCellStyles(c.default.STYLE_ROTATION,o,[t])}}var s=this.graph.getCellGeometry(t);if(null!=s){var u=this.graph.getCellGeometry(i);if(null==u||n.isEdge(i)||((s=s.clone()).rotate(e,new r.default(u.width/2,u.height/2)),n.setGeometry(t,s)),n.isVertex(t)&&!s.relative||n.isEdge(t))for(var d=n.getChildCount(t),h=0;h<d;h++)this.rotateCell(n.getChildAt(t,h),e,t)}}}},y.prototype.reset=function(){if(null!=this.sizers&&null!=this.index&&null!=this.sizers[this.index]&&"none"==this.sizers[this.index].node.style.display&&(this.sizers[this.index].node.style.display=""),this.currentAlpha=null,this.inTolerance=null,this.index=null,null!=this.preview&&(this.preview.destroy(),this.preview=null),this.livePreview&&null!=this.sizers)for(var t=0;t<this.sizers.length;t++)null!=this.sizers[t]&&(this.sizers[t].node.style.display="");if(null!=this.customHandles)for(t=0;t<this.customHandles.length;t++)this.customHandles[t].reset();null!=this.selectionBorder&&(this.selectionBorder.node.style.display="inline",this.selectionBounds=this.getSelectionBounds(this.state),this.bounds=new d.default(this.selectionBounds.x,this.selectionBounds.y,this.selectionBounds.width,this.selectionBounds.height),this.drawPreview()),this.removeHint(),this.redrawHandles(),this.edgeHandlers=null,this.unscaledBounds=null},y.prototype.resizeCell=function(t,e,i,n,l,o,s){var u=this.graph.model.getGeometry(t);if(null!=u)if(n==a.default.LABEL_HANDLE){var d=this.graph.view.scale;e=Math.round((this.labelShape.bounds.getCenterX()-this.startX)/d),i=Math.round((this.labelShape.bounds.getCenterY()-this.startY)/d),null==(u=u.clone()).offset?u.offset=new r.default(e,i):(u.offset.x+=e,u.offset.y+=i),this.graph.model.setGeometry(t,u)}else if(null!=this.unscaledBounds){d=this.graph.view.scale;0==this.childOffsetX&&0==this.childOffsetY||this.moveChildren(t,Math.round(this.childOffsetX/d),Math.round(this.childOffsetY/d)),this.graph.resizeCell(t,this.unscaledBounds,s)}},y.prototype.moveChildren=function(t,e,i){for(var n=this.graph.getModel(),l=n.getChildCount(t),a=0;a<l;a++){var r=n.getChildAt(t,a),o=this.graph.getCellGeometry(r);null!=o&&((o=o.clone()).translate(e,i),n.setGeometry(r,o))}},y.prototype.union=function(t,e,i,n,l,a,r,o,s){if(this.singleSizer){var u=t.x+t.width+e,h=t.y+t.height+i;l&&(u=this.graph.snap(u/a)*a,h=this.graph.snap(h/a)*a);var c=new d.default(t.x,t.y,0,0);return c.add(new d.default(u,h,0,0)),c}var p=t.width,f=t.height,g=t.x-r.x*a,y=g+p,m=t.y-r.y*a,v=m+f,E=g+p/2,b=m+f/2;n>4?(v+=i,l&&(v=this.graph.snap(v/a)*a)):n<3&&(m+=i,l&&(m=this.graph.snap(m/a)*a)),0==n||3==n||5==n?(g+=e,l&&(g=this.graph.snap(g/a)*a)):2!=n&&4!=n&&7!=n||(y+=e,l&&(y=this.graph.snap(y/a)*a));var S=y-g,w=v-m;if(o){var A=this.graph.getCellGeometry(this.state.cell);if(null!=A){var C=A.width/A.height;1==n||2==n||7==n||6==n?S=w*C:w=S/C,0==n&&(g=y-S,m=v-w)}}if(s){var T=E-(g+(S+=S-p)/2),M=b-(m+(w+=w-f)/2);g+=T,m+=M,y+=T,v+=M}S<0&&(g+=S,S=Math.abs(S)),w<0&&(m+=w,w=Math.abs(w));var x=new d.default(g+r.x*a,m+r.y*a,S,w);return null!=this.minBounds&&(x.width=Math.max(x.width,this.minBounds.x*a+this.minBounds.width*a+Math.max(0,this.x0*a-x.x)),x.height=Math.max(x.height,this.minBounds.y*a+this.minBounds.height*a+Math.max(0,this.y0*a-x.y))),x},y.prototype.redraw=function(){this.selectionBounds=this.getSelectionBounds(this.state),this.bounds=new d.default(this.selectionBounds.x,this.selectionBounds.y,this.selectionBounds.width,this.selectionBounds.height),this.redrawHandles(),this.drawPreview()},y.prototype.getHandlePadding=function(){var t=new r.default(0,0),e=this.tolerance;return null!=this.sizers&&this.sizers.length>0&&null!=this.sizers[0]&&(this.bounds.width<2*this.sizers[0].bounds.width+2*e||this.bounds.height<2*this.sizers[0].bounds.height+2*e)&&(e/=2,t.x=this.sizers[0].bounds.width+e,t.y=this.sizers[0].bounds.height+e),t},y.prototype.redrawHandles=function(){var t=this.tolerance;this.horizontalOffset=0,this.verticalOffset=0;var e=this.bounds;if(null!=this.sizers&&this.sizers.length>0&&null!=this.sizers[0]){if(null==this.index&&this.manageSizers&&this.sizers.length>=8){var i=this.getHandlePadding();this.horizontalOffset=i.x,this.verticalOffset=i.y,0==this.horizontalOffset&&0==this.verticalOffset||((e=new d.default(e.x,e.y,e.width,e.height)).x-=this.horizontalOffset/2,e.width+=this.horizontalOffset,e.y-=this.verticalOffset/2,e.height+=this.verticalOffset),this.sizers.length>=8&&(e.width<2*this.sizers[0].bounds.width+2*t||e.height<2*this.sizers[0].bounds.height+2*t?(this.sizers[0].node.style.display="none",this.sizers[2].node.style.display="none",this.sizers[5].node.style.display="none",this.sizers[7].node.style.display="none"):(this.sizers[0].node.style.display="",this.sizers[2].node.style.display="",this.sizers[5].node.style.display="",this.sizers[7].node.style.display=""))}var n=e.x+e.width,l=e.y+e.height;if(this.singleSizer)this.moveSizerTo(this.sizers[0],n,l);else{var a=e.x+e.width/2,o=e.y+e.height/2;if(this.sizers.length>=8){var u=["nw-resize","n-resize","ne-resize","e-resize","se-resize","s-resize","sw-resize","w-resize"],h=p.default.toRadians(this.state.style[c.default.STYLE_ROTATION]||"0"),f=Math.cos(h),g=Math.sin(h),y=Math.round(4*h/Math.PI),m=new r.default(e.getCenterX(),e.getCenterY()),v=p.default.getRotatedPoint(new r.default(e.x,e.y),f,g,m);this.moveSizerTo(this.sizers[0],v.x,v.y),this.sizers[0].setCursor(u[s.default.mod(0+y,u.length)]),v.x=a,v.y=e.y,v=p.default.getRotatedPoint(v,f,g,m),this.moveSizerTo(this.sizers[1],v.x,v.y),this.sizers[1].setCursor(u[s.default.mod(1+y,u.length)]),v.x=n,v.y=e.y,v=p.default.getRotatedPoint(v,f,g,m),this.moveSizerTo(this.sizers[2],v.x,v.y),this.sizers[2].setCursor(u[s.default.mod(2+y,u.length)]),v.x=e.x,v.y=o,v=p.default.getRotatedPoint(v,f,g,m),this.moveSizerTo(this.sizers[3],v.x,v.y),this.sizers[3].setCursor(u[s.default.mod(7+y,u.length)]),v.x=n,v.y=o,v=p.default.getRotatedPoint(v,f,g,m),this.moveSizerTo(this.sizers[4],v.x,v.y),this.sizers[4].setCursor(u[s.default.mod(3+y,u.length)]),v.x=e.x,v.y=l,v=p.default.getRotatedPoint(v,f,g,m),this.moveSizerTo(this.sizers[5],v.x,v.y),this.sizers[5].setCursor(u[s.default.mod(6+y,u.length)]),v.x=a,v.y=l,v=p.default.getRotatedPoint(v,f,g,m),this.moveSizerTo(this.sizers[6],v.x,v.y),this.sizers[6].setCursor(u[s.default.mod(5+y,u.length)]),v.x=n,v.y=l,v=p.default.getRotatedPoint(v,f,g,m),this.moveSizerTo(this.sizers[7],v.x,v.y),this.sizers[7].setCursor(u[s.default.mod(4+y,u.length)]),this.moveSizerTo(this.sizers[8],a+this.state.absoluteOffset.x,o+this.state.absoluteOffset.y)}else this.state.width>=2&&this.state.height>=2?this.moveSizerTo(this.sizers[0],a+this.state.absoluteOffset.x,o+this.state.absoluteOffset.y):this.moveSizerTo(this.sizers[0],this.state.x,this.state.y)}}if(null!=this.rotationShape){h=p.default.toRadians(null!=this.currentAlpha?this.currentAlpha:this.state.style[c.default.STYLE_ROTATION]||"0"),f=Math.cos(h),g=Math.sin(h),m=new r.default(this.state.getCenterX(),this.state.getCenterY()),v=p.default.getRotatedPoint(new r.default(e.x+e.width/2,e.y+this.rotationHandleVSpacing),f,g,m);null!=this.rotationShape.node&&this.moveSizerTo(this.rotationShape,v.x,v.y)}if(null!=this.selectionBorder&&(this.selectionBorder.rotation=Number(this.state.style[c.default.STYLE_ROTATION]||"0")),null!=this.edgeHandlers)for(var E=0;E<this.edgeHandlers.length;E++)this.edgeHandlers[E].redraw();if(null!=this.customHandles)for(E=0;E<this.customHandles.length;E++)this.customHandles[E].redraw();this.updateParentHighlight()},y.prototype.updateParentHighlight=function(){if(null!=this.selectionBorder)if(null!=this.parentHighlight){var t=this.graph.model.getParent(this.state.cell);if(this.graph.model.isVertex(t)){var e=this.graph.view.getState(t),i=this.parentHighlight.bounds;null==e||i.x==e.x&&i.y==e.y&&i.width==e.width&&i.height==e.height||(this.parentHighlight.bounds=e,this.parentHighlight.redraw())}else this.parentHighlight.destroy(),this.parentHighlight=null}else if(this.parentHighlightEnabled){t=this.graph.model.getParent(this.state.cell);if(this.graph.model.isVertex(t))null!=(e=this.graph.view.getState(t))&&(this.parentHighlight=this.createParentHighlightShape(e),this.parentHighlight.dialect=this.graph.dialect!=c.default.DIALECT_SVG?c.default.DIALECT_VML:c.default.DIALECT_SVG,this.parentHighlight.pointerEvents=!1,this.parentHighlight.rotation=Number(e.style[c.default.STYLE_ROTATION]||"0"),this.parentHighlight.init(this.graph.getView().getOverlayPane()))}},y.prototype.drawPreview=function(){null!=this.preview&&(this.preview.bounds=this.bounds,this.preview.node.parentNode==this.graph.container&&(this.preview.bounds.width=Math.max(0,this.preview.bounds.width-1),this.preview.bounds.height=Math.max(0,this.preview.bounds.height-1)),this.preview.rotation=Number(this.state.style[c.default.STYLE_ROTATION]||"0"),this.preview.redraw()),this.selectionBorder.bounds=this.bounds,this.selectionBorder.redraw(),null!=this.parentHighlight&&this.parentHighlight.redraw()},y.prototype.destroy=function(){if(null!=this.escapeHandler&&(this.state.view.graph.removeListener(this.escapeHandler),this.escapeHandler=null),null!=this.preview&&(this.preview.destroy(),this.preview=null),null!=this.parentHighlight&&(this.parentHighlight.destroy(),this.parentHighlight=null),null!=this.selectionBorder&&(this.selectionBorder.destroy(),this.selectionBorder=null),this.labelShape=null,this.removeHint(),null!=this.sizers){for(var t=0;t<this.sizers.length;t++)this.sizers[t].destroy();this.sizers=null}if(null!=this.customHandles){for(t=0;t<this.customHandles.length;t++)this.customHandles[t].destroy();this.customHandles=null}};e.default=y},38724:function(t,e,i){"use strict";function n(t,e,i){this.model=t,this.cell=e,this.visible=i,this.previous=i}i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n.prototype.execute=function(){this.visible=this.previous,this.previous=this.model.visibleStateForCellChanged(this.cell,this.previous)},n.getName=function(){return"mxVisibleChange"};e.default=n},45232:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(106208),i(622676),i(686456),i(999768),i(387912),i(23544),i(571176);var n=r(i(164460)),l=r(i(742288)),a=r(i(802464));function r(t){return t&&t.__esModule?t:{default:t}}var o=function(t){a.default.call(this),this.root=t};l.default.extend(o,a.default),o.prototype.node=null,o.prototype.textEnabled=!0,o.prototype.moveOp="m",o.prototype.lineOp="l",o.prototype.curveOp="c",o.prototype.closeOp="x",o.prototype.rotatedHtmlBackground="",o.prototype.vmlScale=1,o.prototype.createElement=function(t){return document.createElement(t)},o.prototype.createVmlElement=function(t){return this.createElement(mxClient.VML_PREFIX+":"+t)},o.prototype.addNode=function(t,e){var i=this.node,n=this.state;if(null!=i){if("shape"==i.nodeName){if(!(null!=this.path&&this.path.length>0))return;i.path=this.path.join(" ")+" e",i.style.width=this.root.style.width,i.style.height=this.root.style.height,i.coordsize=parseInt(i.style.width)+" "+parseInt(i.style.height)}i.strokeweight=this.format(Math.max(1,n.strokeWidth*n.scale/this.vmlScale))+"px",n.shadow&&this.root.appendChild(this.createShadow(i,t&&null!=n.fillColor,e&&null!=n.strokeColor)),e&&null!=n.strokeColor?(i.stroked="true",i.strokecolor=n.strokeColor):i.stroked="false",i.appendChild(this.createStroke()),t&&null!=n.fillColor?i.appendChild(this.createFill()):!this.pointerEvents||"shape"==i.nodeName&&this.path[this.path.length-1]!=this.closeOp?i.filled="false":i.appendChild(this.createTransparentFill()),this.root.appendChild(i)}},o.prototype.createTransparentFill=function(){var t=this.createVmlElement("fill");return t.src=mxClient.imageBasePath+"/transparent.gif",t.type="tile",t},o.prototype.createFill=function(){var t=this.state,e=this.createVmlElement("fill");if(e.color=t.fillColor,null!=t.gradientColor){e.type="gradient",e.method="none",e.color2=t.gradientColor;var i=180-t.rotation;t.gradientDirection==mxConstants.DIRECTION_WEST?i-=90+("x"==this.root.style.flip?180:0):t.gradientDirection==mxConstants.DIRECTION_EAST?i+=90+("x"==this.root.style.flip?180:0):t.gradientDirection==mxConstants.DIRECTION_NORTH?i-=180+("y"==this.root.style.flip?-180:0):i+="y"==this.root.style.flip?-180:0,"x"!=this.root.style.flip&&"y"!=this.root.style.flip||(i*=-1),e.angle=l.default.mod(i,360),e.opacity=t.alpha*t.gradientFillAlpha*100+"%",e.setAttribute(mxClient.OFFICE_PREFIX+":opacity2",t.alpha*t.gradientAlpha*100+"%")}else(t.alpha<1||t.fillAlpha<1)&&(e.opacity=t.alpha*t.fillAlpha*100+"%");return e},o.prototype.createStroke=function(){var t=this.state,e=this.createVmlElement("stroke");return e.endcap=t.lineCap||"flat",e.joinstyle=t.lineJoin||"miter",e.miterlimit=t.miterLimit||"10",(t.alpha<1||t.strokeAlpha<1)&&(e.opacity=t.alpha*t.strokeAlpha*100+"%"),t.dashed&&(e.dashstyle=this.getVmlDashStyle()),e},o.prototype.getVmlDashStyle=function(){var t="dash";if("string"==typeof this.state.dashPattern){var e=this.state.dashPattern.split(" ");e.length>0&&1==e[0]&&(t="0 2")}return t},o.prototype.createShadow=function(t,e,i){var n=this.state,l=-n.rotation*(Math.PI/180),a=Math.cos(l),r=Math.sin(l),o=n.shadowDx*n.scale,s=n.shadowDy*n.scale;"x"==this.root.style.flip?o*=-1:"y"==this.root.style.flip&&(s*=-1);var u=t.cloneNode(!0);return u.style.marginLeft=Math.round(o*a-s*r)+"px",u.style.marginTop=Math.round(o*r+s*a)+"px",8==document.documentMode&&(u.strokeweight=t.strokeweight,"shape"==t.nodeName&&(u.path=this.path.join(" ")+" e",u.style.width=this.root.style.width,u.style.height=this.root.style.height,u.coordsize=parseInt(t.style.width)+" "+parseInt(t.style.height))),i?(u.strokecolor=n.shadowColor,u.appendChild(this.createShadowStroke())):u.stroked="false",e?u.appendChild(this.createShadowFill()):u.filled="false",u},o.prototype.createShadowFill=function(){var t=this.createVmlElement("fill");return t.color=this.state.shadowColor,t.opacity=this.state.alpha*this.state.shadowAlpha*100+"%",t},o.prototype.createShadowStroke=function(){var t=this.createStroke();return t.opacity=this.state.alpha*this.state.shadowAlpha*100+"%",t},o.prototype.rotate=function(t,e,i,n,l){e&&i?t+=180:e?this.root.style.flip="x":i&&(this.root.style.flip="y"),(e?!i:i)&&(t*=-1),this.root.style.rotation=t,this.state.rotation=this.state.rotation+t,this.state.rotationCx=n,this.state.rotationCy=l},o.prototype.begin=function(){a.default.prototype.begin.apply(this,arguments),this.node=this.createVmlElement("shape"),this.node.style.position="absolute"},o.prototype.quadTo=function(t,e,i,n){var l=this.state,a=(this.lastX+l.dx)*l.scale,r=(this.lastY+l.dy)*l.scale,o=(t+l.dx)*l.scale,s=(e+l.dy)*l.scale,u=(i+l.dx)*l.scale,d=(n+l.dy)*l.scale,h=a+2/3*(o-a),c=r+2/3*(s-r),p=u+2/3*(o-u),f=d+2/3*(s-d);this.path.push("c "+this.format(h)+" "+this.format(c)+" "+this.format(p)+" "+this.format(f)+" "+this.format(u)+" "+this.format(d)),this.lastX=u/l.scale-l.dx,this.lastY=d/l.scale-l.dy},o.prototype.createRect=function(t,e,i,n,l){var a=this.state,r=this.createVmlElement(t);return r.style.position="absolute",r.style.left=this.format((e+a.dx)*a.scale)+"px",r.style.top=this.format((i+a.dy)*a.scale)+"px",r.style.width=this.format(n*a.scale)+"px",r.style.height=this.format(l*a.scale)+"px",r},o.prototype.rect=function(t,e,i,n){this.node=this.createRect("rect",t,e,i,n)},o.prototype.roundrect=function(t,e,i,n,l,a){this.node=this.createRect("roundrect",t,e,i,n),this.node.setAttribute("arcsize",Math.max(100*l/i,100*a/n)+"%")},o.prototype.ellipse=function(t,e,i,n){this.node=this.createRect("oval",t,e,i,n)},o.prototype.image=function(t,e,i,n,l,a,r,o){var s=null;if(a){(s=this.createRect("rect",t,e,i,n)).stroked="false";var u=this.createVmlElement("fill");u.aspect="atmost",u.rotate="true",u.type="frame",u.src=l,s.appendChild(u)}else(s=this.createRect("image",t,e,i,n)).src=l;r&&o?s.style.rotation="180":r?s.style.flip="x":o&&(s.style.flip="y"),(this.state.alpha<1||this.state.fillAlpha<1)&&(s.style.filter+="alpha(opacity="+this.state.alpha*this.state.fillAlpha*100+")"),this.root.appendChild(s)},o.prototype.createDiv=function(t,e,i,n){var a=this.createElement("div"),r=this.state,o="";if(null!=r.fontBackgroundColor&&(o+="background-color:"+r.fontBackgroundColor+";"),null!=r.fontBorderColor&&(o+="border:1px solid "+r.fontBorderColor+";"),l.default.isNode(t))a.appendChild(t);else if("fill"!=n&&"width"!=n){var s=this.createElement("div");s.style.cssText=o,s.style.display=mxClient.IS_QUIRKS?"inline":"inline-block",s.style.zoom="1",s.style.textDecoration="inherit",s.innerHTML=t,a.appendChild(s)}else a.style.cssText=o,a.innerHTML=t;var u=a.style;return u.fontSize=r.fontSize/this.vmlScale+"px",u.fontFamily=r.fontFamily,u.color=r.fontColor,u.verticalAlign="top",u.textAlign=e||"left",u.lineHeight=mxConstants.ABSOLUTE_LINE_HEIGHT?r.fontSize*mxConstants.LINE_HEIGHT/this.vmlScale+"px":mxConstants.LINE_HEIGHT,(r.fontStyle&mxConstants.FONT_BOLD)==mxConstants.FONT_BOLD&&(u.fontWeight="bold"),(r.fontStyle&mxConstants.FONT_ITALIC)==mxConstants.FONT_ITALIC&&(u.fontStyle="italic"),(r.fontStyle&mxConstants.FONT_UNDERLINE)==mxConstants.FONT_UNDERLINE&&(u.textDecoration="underline"),a},o.prototype.text=function(t,e,i,a,r,o,s,u,d,h,c,p,f){if(this.textEnabled&&null!=r){var g=this.state;if("html"==d){if(null!=g.rotation){var y=this.rotatePoint(t,e,g.rotation,g.rotationCx,g.rotationCy);t=y.x,e=y.y}8!=document.documentMode||mxClient.IS_EM?(t*=g.scale,e*=g.scale):(t+=g.dx,e+=g.dy,"fill"!=h&&s==mxConstants.ALIGN_TOP&&(e-=1));var m=8!=document.documentMode||mxClient.IS_EM?this.createElement("div"):this.createVmlElement("group");m.style.position="absolute",m.style.display="inline",m.style.left=this.format(t)+"px",m.style.top=this.format(e)+"px",m.style.zoom=g.scale;var v=this.createElement("div");v.style.position="relative",v.style.display="inline";var E=l.default.getAlignmentAsPoint(o,s,n.default),b=E.x,S=E.y,w=this.createDiv(r,o,s,h),A=this.createElement("div");if(null!=f&&w.setAttribute("dir",f),u&&i>0){if(c||(w.style.width=Math.round(i)+"px"),w.style.wordWrap=mxConstants.WORD_WRAP,w.style.whiteSpace="normal","break-word"==w.style.wordWrap)null!=(D=w).firstChild&&"DIV"==D.firstChild.nodeName&&(D.firstChild.style.width="100%")}else w.style.whiteSpace="nowrap";var C=g.rotation+(p||0);if(this.rotateHtml&&0!=C?(A.style.display="inline",A.style.zoom="1",A.appendChild(w),8!=document.documentMode||mxClient.IS_EM||"DIV"==this.root.nodeName?m.appendChild(A):(v.appendChild(A),m.appendChild(v))):8!=document.documentMode||mxClient.IS_EM?(w.style.display="inline",m.appendChild(w)):(v.appendChild(w),m.appendChild(v)),"DIV"!=this.root.nodeName){var T=this.createVmlElement("rect");T.stroked="false",T.filled="false",T.appendChild(m),this.root.appendChild(T)}else this.root.appendChild(m);if(c?(w.style.overflow="hidden",w.style.width=Math.round(i)+"px",mxClient.IS_QUIRKS||(w.style.maxHeight=Math.round(a)+"px")):"fill"==h?(w.style.overflow="hidden",w.style.width=Math.max(0,i)+1+"px",w.style.height=Math.max(0,a)+1+"px"):"width"==h&&(w.style.overflow="hidden",w.style.width=Math.max(0,i)+1+"px",w.style.maxHeight=Math.max(0,a)+1+"px"),this.rotateHtml&&0!=C){var M=C*(Math.PI/180),x=parseFloat(parseFloat(Math.cos(M)).toFixed(8)),I=parseFloat(parseFloat(Math.sin(-M)).toFixed(8));(M%=2*Math.PI)<0&&(M+=2*Math.PI),(M%=Math.PI)>Math.PI/2&&(M=Math.PI-M);var L=Math.cos(M),N=Math.sin(M);8!=document.documentMode||mxClient.IS_EM||(w.style.display="inline-block",A.style.display="inline-block",v.style.display="inline-block"),w.style.visibility="hidden",w.style.position="absolute",document.body.appendChild(w);var O=w;null!=O.firstChild&&"DIV"==O.firstChild.nodeName&&(O=O.firstChild);var D=O.offsetWidth+3,R=O.offsetHeight;c?(i=Math.min(i,D),R=Math.min(R,a)):i=D,u&&(w.style.width=i+"px"),mxClient.IS_QUIRKS&&(c||"width"==h)&&R>a&&(R=a,w.style.height=R+"px");var _=((a=R)-a*L+i*-N)/2-I*i*(b+.5)+x*a*(S+.5),P=(i-i*L+a*-N)/2+x*i*(b+.5)+I*a*(S+.5);if("group"==m.nodeName&&"DIV"==this.root.nodeName){var k=this.createElement("div");k.style.display="inline-block",k.style.position="absolute",k.style.left=this.format(t+(P-i/2)*g.scale)+"px",k.style.top=this.format(e+(_-a/2)*g.scale)+"px",m.parentNode.appendChild(k),k.appendChild(m)}else{var H=8!=document.documentMode||mxClient.IS_EM?g.scale:1;m.style.left=this.format(t+(P-i/2)*H)+"px",m.style.top=this.format(e+(_-a/2)*H)+"px"}A.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11="+x+", M12="+I+", M21="+-I+", M22="+x+", sizingMethod='auto expand')",A.style.backgroundColor=this.rotatedHtmlBackground,this.state.alpha<1&&(A.style.filter+="alpha(opacity="+100*this.state.alpha+")"),A.appendChild(w),w.style.position="",w.style.visibility=""}else if(8!=document.documentMode||mxClient.IS_EM){w.style.verticalAlign="top",this.state.alpha<1&&(m.style.filter="alpha(opacity="+100*this.state.alpha+")");var G=w.parentNode;w.style.visibility="hidden",document.body.appendChild(w),i=w.offsetWidth;R=w.offsetHeight;mxClient.IS_QUIRKS&&c&&R>a&&(R=a,w.style.height=R+"px"),a=R,w.style.visibility="",G.appendChild(w),m.style.left=this.format(t+i*b*this.state.scale)+"px",m.style.top=this.format(e+a*S*this.state.scale)+"px"}else this.state.alpha<1&&(w.style.filter="alpha(opacity="+100*this.state.alpha+")"),v.style.left=100*b+"%",v.style.top=100*S+"%"}else this.plainText(t,e,i,a,l.default.htmlEntities(r,!1),o,s,u,d,h,c,p,f)}},o.prototype.plainText=function(t,e,i,n,l,a,r,o,s,u,d,h,c){var p=this.state;t=(t+p.dx)*p.scale,e=(e+p.dy)*p.scale;var f=this.createVmlElement("shape");f.style.width="1px",f.style.height="1px",f.stroked="false";var g=this.createVmlElement("fill");g.color=p.fontColor,g.opacity=100*p.alpha+"%",f.appendChild(g);var y=this.createVmlElement("path");y.textpathok="true",y.v="m "+this.format(0)+" "+this.format(0)+" l "+this.format(1)+" "+this.format(0),f.appendChild(y);var m=this.createVmlElement("textpath");m.style.cssText="v-text-align:"+a,m.style.align=a,m.style.fontFamily=p.fontFamily,m.string=l,m.on="true";var v=p.fontSize*p.scale/this.vmlScale;m.style.fontSize=v+"px",(p.fontStyle&mxConstants.FONT_BOLD)==mxConstants.FONT_BOLD&&(m.style.fontWeight="bold"),(p.fontStyle&mxConstants.FONT_ITALIC)==mxConstants.FONT_ITALIC&&(m.style.fontStyle="italic"),(p.fontStyle&mxConstants.FONT_UNDERLINE)==mxConstants.FONT_UNDERLINE&&(m.style.textDecoration="underline");var E=v+(l.split("\n").length-1)*v*mxConstants.LINE_HEIGHT,b=0,S=0;if(r==mxConstants.ALIGN_BOTTOM?S=-E/2:r!=mxConstants.ALIGN_MIDDLE&&(S=E/2),null!=h){f.style.rotation=h;var w=h*(Math.PI/180);b=Math.sin(w)*S,S=Math.cos(w)*S}f.appendChild(m),f.style.left=this.format(t-b)+"px",f.style.top=this.format(e+S)+"px",this.root.appendChild(f)},o.prototype.stroke=function(){this.addNode(!1,!0)},o.prototype.fill=function(){this.addNode(!0,!1)},o.prototype.fillAndStroke=function(){this.addNode(!0,!0)};e.default=o},267456:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(241872),i(297336),i(571176);var n=d(i(995048)),l=d(i(22676)),a=d(i(39864)),r=d(i(710952)),o=d(i(742288)),s=d(i(247644)),u=d(i(790448));function d(t){return t&&t.__esModule?t:{default:t}}function h(t,e,i,n,l,a,r,o,s,u){null!=e&&(r=null==r||r,this.content=e,this.init(i,n,l,a,u),this.installMaximizeHandler(),this.installMinimizeHandler(),this.installCloseHandler(),this.setMinimizable(r),this.setTitle(t),(null==o||o)&&this.installMoveHandler(),null!=s&&null!=s.parentNode?s.parentNode.replaceChild(this.div,s):document.body.appendChild(this.div))}h.prototype=new a.default,h.prototype.constructor=h,h.prototype.closeImage=l.default.imageBasePath+"/close.gif",h.prototype.minimizeImage=l.default.imageBasePath+"/minimize.gif",h.prototype.normalizeImage=l.default.imageBasePath+"/normalize.gif",h.prototype.maximizeImage=l.default.imageBasePath+"/maximize.gif",h.prototype.resizeImage=l.default.imageBasePath+"/resize.gif",h.prototype.visible=!1,h.prototype.minimumSize=new s.default(0,0,50,40),h.prototype.destroyOnClose=!0,h.prototype.contentHeightCorrection=8==document.documentMode||7==document.documentMode?6:2,h.prototype.title=null,h.prototype.content=null,h.prototype.init=function(t,e,i,n,a){a=null!=a?a:"mxWindow",this.div=document.createElement("div"),this.div.className=a,this.div.style.left=t+"px",this.div.style.top=e+"px",this.table=document.createElement("table"),this.table.className=a,l.default.IS_POINTER&&(this.div.style.touchAction="none"),null!=i&&(l.default.IS_QUIRKS||(this.div.style.width=i+"px"),this.table.style.width=i+"px"),null!=n&&(l.default.IS_QUIRKS||(this.div.style.height=n+"px"),this.table.style.height=n+"px");var s=document.createElement("tbody"),u=document.createElement("tr");this.title=document.createElement("td"),this.title.className=a+"Title",u.appendChild(this.title),s.appendChild(u),u=document.createElement("tr"),this.td=document.createElement("td"),this.td.className=a+"Pane",7==document.documentMode&&(this.td.style.height="100%"),this.contentWrapper=document.createElement("div"),this.contentWrapper.className=a+"Pane",this.contentWrapper.style.width="100%",this.contentWrapper.appendChild(this.content),(l.default.IS_QUIRKS||"DIV"!=this.content.nodeName.toUpperCase())&&(this.contentWrapper.style.height="100%"),this.td.appendChild(this.contentWrapper),u.appendChild(this.td),s.appendChild(u),this.table.appendChild(s),this.div.appendChild(this.table);var d=o.default.bind(this,(function(t){this.activate()}));r.default.addGestureListeners(this.title,d),r.default.addGestureListeners(this.table,d),this.hide()},h.prototype.setTitle=function(t){for(var e=this.title.firstChild;null!=e;){var i=e.nextSibling;e.nodeType==u.default.NODETYPE_TEXT&&e.parentNode.removeChild(e),e=i}o.default.write(this.title,t||"")},h.prototype.setScrollable=function(t){navigator.userAgent.indexOf("Presto/2.5")<0&&(this.contentWrapper.style.overflow=t?"auto":"hidden")},h.prototype.activate=function(){if(h.activeWindow!=this){var t=o.default.getCurrentStyle(this.getElement()),e=null!=t?t.zIndex:3;if(h.activeWindow){var i=h.activeWindow.getElement();null!=i&&null!=i.style&&(i.style.zIndex=e)}var l=h.activeWindow;this.getElement().style.zIndex=parseInt(e)+1,h.activeWindow=this,this.fireEvent(new n.default(r.default.ACTIVATE,"previousWindow",l))}},h.prototype.getElement=function(){return this.div},h.prototype.fit=function(){o.default.fit(this.div)},h.prototype.isResizable=function(){return null!=this.resize&&"none"!=this.resize.style.display},h.prototype.setResizable=function(t){if(t)if(null==this.resize){this.resize=document.createElement("img"),this.resize.style.position="absolute",this.resize.style.bottom="2px",this.resize.style.right="2px",this.resize.setAttribute("src",l.default.imageBasePath+"/resize.gif"),this.resize.style.cursor="nw-resize";var e=null,i=null,a=null,s=null,u=o.default.bind(this,(function(t){this.activate(),e=r.default.getClientX(t),i=r.default.getClientY(t),a=this.div.offsetWidth,s=this.div.offsetHeight,r.default.addGestureListeners(document,null,d,h),this.fireEvent(new n.default(r.default.RESIZE_START,"event",t)),r.default.consume(t)})),d=o.default.bind(this,(function(t){if(null!=e&&null!=i){var l=r.default.getClientX(t)-e,o=r.default.getClientY(t)-i;this.setSize(a+l,s+o),this.fireEvent(new n.default(r.default.RESIZE,"event",t)),r.default.consume(t)}})),h=o.default.bind(this,(function(t){null!=e&&null!=i&&(e=null,i=null,r.default.removeGestureListeners(document,null,d,h),this.fireEvent(new n.default(r.default.RESIZE_END,"event",t)),r.default.consume(t))}));r.default.addGestureListeners(this.resize,u,d,h),this.div.appendChild(this.resize)}else this.resize.style.display="inline";else null!=this.resize&&(this.resize.style.display="none")},h.prototype.setSize=function(t,e){t=Math.max(this.minimumSize.width,t),e=Math.max(this.minimumSize.height,e),l.default.IS_QUIRKS||(this.div.style.width=t+"px",this.div.style.height=e+"px"),this.table.style.width=t+"px",this.table.style.height=e+"px",l.default.IS_QUIRKS||(this.contentWrapper.style.height=this.div.offsetHeight-this.title.offsetHeight-this.contentHeightCorrection+"px")},h.prototype.setMinimizable=function(t){this.minimize.style.display=t?"":"none"},h.prototype.getMinimumSize=function(){return new s.default(0,0,0,this.title.offsetHeight)},h.prototype.installMinimizeHandler=function(){this.minimize=document.createElement("img"),this.minimize.setAttribute("src",this.minimizeImage),this.minimize.setAttribute("align","right"),this.minimize.setAttribute("title","Minimize"),this.minimize.style.cursor="pointer",this.minimize.style.marginRight="1px",this.minimize.style.display="none",this.title.appendChild(this.minimize);var t=!1,e=null,i=null,a=o.default.bind(this,(function(a){if(this.activate(),t)t=!1,this.minimize.setAttribute("src",this.minimizeImage),this.minimize.setAttribute("title","Minimize"),this.contentWrapper.style.display="",this.maximize.style.display=e,l.default.IS_QUIRKS||(this.div.style.height=i),this.table.style.height=i,null!=this.resize&&(this.resize.style.visibility=""),this.fireEvent(new n.default(r.default.NORMALIZE,"event",a));else{t=!0,this.minimize.setAttribute("src",this.normalizeImage),this.minimize.setAttribute("title","Normalize"),this.contentWrapper.style.display="none",e=this.maximize.style.display,this.maximize.style.display="none",i=this.table.style.height;var o=this.getMinimumSize();o.height>0&&(l.default.IS_QUIRKS||(this.div.style.height=o.height+"px"),this.table.style.height=o.height+"px"),o.width>0&&(l.default.IS_QUIRKS||(this.div.style.width=o.width+"px"),this.table.style.width=o.width+"px"),null!=this.resize&&(this.resize.style.visibility="hidden"),this.fireEvent(new n.default(r.default.MINIMIZE,"event",a))}r.default.consume(a)}));r.default.addGestureListeners(this.minimize,a)},h.prototype.setMaximizable=function(t){this.maximize.style.display=t?"":"none"},h.prototype.installMaximizeHandler=function(){this.maximize=document.createElement("img"),this.maximize.setAttribute("src",this.maximizeImage),this.maximize.setAttribute("align","right"),this.maximize.setAttribute("title","Maximize"),this.maximize.style.cursor="default",this.maximize.style.marginLeft="1px",this.maximize.style.cursor="pointer",this.maximize.style.display="none",this.title.appendChild(this.maximize);var t=!1,e=null,i=null,a=null,s=null,u=o.default.bind(this,(function(u){if(this.activate(),"none"!=this.maximize.style.display){if(t){if(t=!1,this.maximize.setAttribute("src",this.maximizeImage),this.maximize.setAttribute("title","Maximize"),this.contentWrapper.style.display="",this.minimize.style.visibility="",this.div.style.left=e+"px",this.div.style.top=i+"px",!l.default.IS_QUIRKS)this.div.style.height=a,this.div.style.width=s,"auto"!=o.default.getCurrentStyle(this.contentWrapper).overflow&&null==this.resize||(this.contentWrapper.style.height=this.div.offsetHeight-this.title.offsetHeight-this.contentHeightCorrection+"px");this.table.style.height=a,this.table.style.width=s,null!=this.resize&&(this.resize.style.visibility=""),this.fireEvent(new n.default(r.default.NORMALIZE,"event",u))}else{t=!0,this.maximize.setAttribute("src",this.normalizeImage),this.maximize.setAttribute("title","Normalize"),this.contentWrapper.style.display="",this.minimize.style.visibility="hidden",e=parseInt(this.div.style.left),i=parseInt(this.div.style.top),a=this.table.style.height,s=this.table.style.width,this.div.style.left="0px",this.div.style.top="0px";var d=Math.max(document.body.clientHeight||0,document.documentElement.clientHeight||0);if(l.default.IS_QUIRKS||(this.div.style.width=document.body.clientWidth-2+"px",this.div.style.height=d-2+"px"),this.table.style.width=document.body.clientWidth-2+"px",this.table.style.height=d-2+"px",null!=this.resize&&(this.resize.style.visibility="hidden"),!l.default.IS_QUIRKS)"auto"!=o.default.getCurrentStyle(this.contentWrapper).overflow&&null==this.resize||(this.contentWrapper.style.height=this.div.offsetHeight-this.title.offsetHeight-this.contentHeightCorrection+"px");this.fireEvent(new n.default(r.default.MAXIMIZE,"event",u))}r.default.consume(u)}}));r.default.addGestureListeners(this.maximize,u),r.default.addListener(this.title,"dblclick",u)},h.prototype.installMoveHandler=function(){this.title.style.cursor="move",r.default.addGestureListeners(this.title,o.default.bind(this,(function(t){var e=mxGraphUtilsgetClientX(t),i=r.default.getClientY(t),l=this.getX(),a=this.getY(),s=o.default.bind(this,(function(t){var o=r.default.getClientX(t)-e,s=r.default.getClientY(t)-i;this.setLocation(l+o,a+s),this.fireEvent(new n.default(r.default.MOVE,"event",t)),r.default.consume(t)})),u=o.default.bind(this,(function(t){r.default.removeGestureListeners(document,null,s,u),this.fireEvent(new n.default(r.default.MOVE_END,"event",t)),r.default.consume(t)}));r.default.addGestureListeners(document,null,s,u),this.fireEvent(new n.default(r.default.MOVE_START,"event",t)),r.default.consume(t)}))),l.default.IS_POINTER&&(this.title.style.touchAction="none")},h.prototype.setLocation=function(t,e){this.div.style.left=t+"px",this.div.style.top=e+"px"},h.prototype.getX=function(){return parseInt(this.div.style.left)},h.prototype.getY=function(){return parseInt(this.div.style.top)},h.prototype.installCloseHandler=function(){this.closeImg=document.createElement("img"),this.closeImg.setAttribute("src",this.closeImage),this.closeImg.setAttribute("align","right"),this.closeImg.setAttribute("title","Close"),this.closeImg.style.marginLeft="2px",this.closeImg.style.cursor="pointer",this.closeImg.style.display="none",this.title.insertBefore(this.closeImg,this.title.firstChild),r.default.addGestureListeners(this.closeImg,o.default.bind(this,(function(t){this.fireEvent(new n.default(r.default.CLOSE,"event",t)),this.destroyOnClose?this.destroy():this.setVisible(!1),r.default.consume(t)})))},h.prototype.setImage=function(t){this.image=document.createElement("img"),this.image.setAttribute("src",t),this.image.setAttribute("align","left"),this.image.style.marginRight="4px",this.image.style.marginLeft="0px",this.image.style.marginTop="-2px",this.title.insertBefore(this.image,this.title.firstChild)},h.prototype.setClosable=function(t){this.closeImg.style.display=t?"":"none"},h.prototype.isVisible=function(){return null!=this.div&&"none"!=this.div.style.display},h.prototype.setVisible=function(t){null!=this.div&&this.isVisible()!=t&&(t?this.show():this.hide())},h.prototype.show=function(){this.div.style.display="",this.activate();var t=o.default.getCurrentStyle(this.contentWrapper);l.default.IS_QUIRKS||"auto"!=t.overflow&&null==this.resize||(this.contentWrapper.style.height=this.div.offsetHeight-this.title.offsetHeight-this.contentHeightCorrection+"px"),this.fireEvent(new n.default(r.default.SHOW))},h.prototype.hide=function(){this.div.style.display="none",this.fireEvent(new n.default(r.default.HIDE))},h.prototype.destroy=function(){this.fireEvent(new n.default(r.default.DESTROY)),null!=this.div&&(r.default.release(this.div),this.div.parentNode.removeChild(this.div),this.div=null),this.title=null,this.content=null,this.contentWrapper=null};e.default=h},589740:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(106208),i(999768),i(23544);var n=r(i(802464)),l=r(i(790448)),a=r(i(742288));function r(t){return t&&t.__esModule?t:{default:t}}function o(t){n.default.call(this),this.root=t,this.writeDefaults()}a.default.extend(o,n.default),o.prototype.textEnabled=!0,o.prototype.compressed=!0,o.prototype.writeDefaults=function(){var t;(t=this.createElement("fontfamily")).setAttribute("family",l.default.DEFAULT_FONTFAMILY),this.root.appendChild(t),(t=this.createElement("fontsize")).setAttribute("size",l.default.DEFAULT_FONTSIZE),this.root.appendChild(t),(t=this.createElement("shadowcolor")).setAttribute("color",l.default.SHADOWCOLOR),this.root.appendChild(t),(t=this.createElement("shadowalpha")).setAttribute("alpha",l.default.SHADOW_OPACITY),this.root.appendChild(t),(t=this.createElement("shadowoffset")).setAttribute("dx",l.default.SHADOW_OFFSET_X),t.setAttribute("dy",l.default.SHADOW_OFFSET_Y),this.root.appendChild(t)},o.prototype.format=function(t){return parseFloat(parseFloat(t).toFixed(2))},o.prototype.createElement=function(t){return this.root.ownerDocument.createElement(t)},o.prototype.save=function(){this.compressed&&n.default.prototype.save.apply(this,arguments),this.root.appendChild(this.createElement("save"))},o.prototype.restore=function(){this.compressed&&n.default.prototype.restore.apply(this,arguments),this.root.appendChild(this.createElement("restore"))},o.prototype.scale=function(t){var e=this.createElement("scale");e.setAttribute("scale",t),this.root.appendChild(e)},o.prototype.translate=function(t,e){var i=this.createElement("translate");i.setAttribute("dx",this.format(t)),i.setAttribute("dy",this.format(e)),this.root.appendChild(i)},o.prototype.rotate=function(t,e,i,n,l){var a=this.createElement("rotate");(0!=t||e||i)&&(a.setAttribute("theta",this.format(t)),a.setAttribute("flipH",e?"1":"0"),a.setAttribute("flipV",i?"1":"0"),a.setAttribute("cx",this.format(n)),a.setAttribute("cy",this.format(l)),this.root.appendChild(a))},o.prototype.setAlpha=function(t){if(this.compressed){if(this.state.alpha==t)return;n.default.prototype.setAlpha.apply(this,arguments)}var e=this.createElement("alpha");e.setAttribute("alpha",this.format(t)),this.root.appendChild(e)},o.prototype.setFillAlpha=function(t){if(this.compressed){if(this.state.fillAlpha==t)return;n.default.prototype.setFillAlpha.apply(this,arguments)}var e=this.createElement("fillalpha");e.setAttribute("alpha",this.format(t)),this.root.appendChild(e)},o.prototype.setStrokeAlpha=function(t){if(this.compressed){if(this.state.strokeAlpha==t)return;n.default.prototype.setStrokeAlpha.apply(this,arguments)}var e=this.createElement("strokealpha");e.setAttribute("alpha",this.format(t)),this.root.appendChild(e)},o.prototype.setFillColor=function(t){if(t==l.default.NONE&&(t=null),this.compressed){if(this.state.fillColor==t)return;n.default.prototype.setFillColor.apply(this,arguments)}var e=this.createElement("fillcolor");e.setAttribute("color",null!=t?t:l.default.NONE),this.root.appendChild(e)},o.prototype.setGradient=function(t,e,i,l,a,r,o,s,u){if(null!=t&&null!=e){n.default.prototype.setGradient.apply(this,arguments);var d=this.createElement("gradient");d.setAttribute("c1",t),d.setAttribute("c2",e),d.setAttribute("x",this.format(i)),d.setAttribute("y",this.format(l)),d.setAttribute("w",this.format(a)),d.setAttribute("h",this.format(r)),null!=o&&d.setAttribute("direction",o),null!=s&&d.setAttribute("alpha1",s),null!=u&&d.setAttribute("alpha2",u),this.root.appendChild(d)}},o.prototype.setStrokeColor=function(t){if(t==l.default.NONE&&(t=null),this.compressed){if(this.state.strokeColor==t)return;n.default.prototype.setStrokeColor.apply(this,arguments)}var e=this.createElement("strokecolor");e.setAttribute("color",null!=t?t:l.default.NONE),this.root.appendChild(e)},o.prototype.setStrokeWidth=function(t){if(this.compressed){if(this.state.strokeWidth==t)return;n.default.prototype.setStrokeWidth.apply(this,arguments)}var e=this.createElement("strokewidth");e.setAttribute("width",this.format(t)),this.root.appendChild(e)},o.prototype.setDashed=function(t){if(this.compressed){if(this.state.dashed==t)return;n.default.prototype.setDashed.apply(this,arguments)}var e=this.createElement("dashed");e.setAttribute("dashed",t?"1":"0"),this.root.appendChild(e)},o.prototype.setDashPattern=function(t){if(this.compressed){if(this.state.dashPattern==t)return;n.default.prototype.setDashPattern.apply(this,arguments)}var e=this.createElement("dashpattern");e.setAttribute("pattern",t),this.root.appendChild(e)},o.prototype.setLineCap=function(t){if(this.compressed){if(this.state.lineCap==t)return;n.default.prototype.setLineCap.apply(this,arguments)}var e=this.createElement("linecap");e.setAttribute("cap",t),this.root.appendChild(e)},o.prototype.setLineJoin=function(t){if(this.compressed){if(this.state.lineJoin==t)return;n.default.prototype.setLineJoin.apply(this,arguments)}var e=this.createElement("linejoin");e.setAttribute("join",t),this.root.appendChild(e)},o.prototype.setMiterLimit=function(t){if(this.compressed){if(this.state.miterLimit==t)return;n.default.prototype.setMiterLimit.apply(this,arguments)}var e=this.createElement("miterlimit");e.setAttribute("limit",t),this.root.appendChild(e)},o.prototype.setFontColor=function(t){if(this.textEnabled){if(t==l.default.NONE&&(t=null),this.compressed){if(this.state.fontColor==t)return;n.default.prototype.setFontColor.apply(this,arguments)}var e=this.createElement("fontcolor");e.setAttribute("color",null!=t?t:l.default.NONE),this.root.appendChild(e)}},o.prototype.setFontBackgroundColor=function(t){if(this.textEnabled){if(t==l.default.NONE&&(t=null),this.compressed){if(this.state.fontBackgroundColor==t)return;n.default.prototype.setFontBackgroundColor.apply(this,arguments)}var e=this.createElement("fontbackgroundcolor");e.setAttribute("color",null!=t?t:l.default.NONE),this.root.appendChild(e)}},o.prototype.setFontBorderColor=function(t){if(this.textEnabled){if(t==l.default.NONE&&(t=null),this.compressed){if(this.state.fontBorderColor==t)return;n.default.prototype.setFontBorderColor.apply(this,arguments)}var e=this.createElement("fontbordercolor");e.setAttribute("color",null!=t?t:l.default.NONE),this.root.appendChild(e)}},o.prototype.setFontSize=function(t){if(this.textEnabled){if(this.compressed){if(this.state.fontSize==t)return;n.default.prototype.setFontSize.apply(this,arguments)}var e=this.createElement("fontsize");e.setAttribute("size",t),this.root.appendChild(e)}},o.prototype.setFontFamily=function(t){if(this.textEnabled){if(this.compressed){if(this.state.fontFamily==t)return;n.default.prototype.setFontFamily.apply(this,arguments)}var e=this.createElement("fontfamily");e.setAttribute("family",t),this.root.appendChild(e)}},o.prototype.setFontStyle=function(t){if(this.textEnabled){if(null==t&&(t=0),this.compressed){if(this.state.fontStyle==t)return;n.default.prototype.setFontStyle.apply(this,arguments)}var e=this.createElement("fontstyle");e.setAttribute("style",t),this.root.appendChild(e)}},o.prototype.setShadow=function(t){if(this.compressed){if(this.state.shadow==t)return;n.default.prototype.setShadow.apply(this,arguments)}var e=this.createElement("shadow");e.setAttribute("enabled",t?"1":"0"),this.root.appendChild(e)},o.prototype.setShadowColor=function(t){if(this.compressed){if(t==l.default.NONE&&(t=null),this.state.shadowColor==t)return;n.default.prototype.setShadowColor.apply(this,arguments)}var e=this.createElement("shadowcolor");e.setAttribute("color",null!=t?t:l.default.NONE),this.root.appendChild(e)},o.prototype.setShadowAlpha=function(t){if(this.compressed){if(this.state.shadowAlpha==t)return;n.default.prototype.setShadowAlpha.apply(this,arguments)}var e=this.createElement("shadowalpha");e.setAttribute("alpha",t),this.root.appendChild(e)},o.prototype.setShadowOffset=function(t,e){if(this.compressed){if(this.state.shadowDx==t&&this.state.shadowDy==e)return;n.default.prototype.setShadowOffset.apply(this,arguments)}var i=this.createElement("shadowoffset");i.setAttribute("dx",t),i.setAttribute("dy",e),this.root.appendChild(i)},o.prototype.rect=function(t,e,i,n){var l=this.createElement("rect");l.setAttribute("x",this.format(t)),l.setAttribute("y",this.format(e)),l.setAttribute("w",this.format(i)),l.setAttribute("h",this.format(n)),this.root.appendChild(l)},o.prototype.roundrect=function(t,e,i,n,l,a){var r=this.createElement("roundrect");r.setAttribute("x",this.format(t)),r.setAttribute("y",this.format(e)),r.setAttribute("w",this.format(i)),r.setAttribute("h",this.format(n)),r.setAttribute("dx",this.format(l)),r.setAttribute("dy",this.format(a)),this.root.appendChild(r)},o.prototype.ellipse=function(t,e,i,n){var l=this.createElement("ellipse");l.setAttribute("x",this.format(t)),l.setAttribute("y",this.format(e)),l.setAttribute("w",this.format(i)),l.setAttribute("h",this.format(n)),this.root.appendChild(l)},o.prototype.image=function(t,e,i,n,l,a,r,o){l=this.converter.convert(l);var s=this.createElement("image");s.setAttribute("x",this.format(t)),s.setAttribute("y",this.format(e)),s.setAttribute("w",this.format(i)),s.setAttribute("h",this.format(n)),s.setAttribute("src",l),s.setAttribute("aspect",a?"1":"0"),s.setAttribute("flipH",r?"1":"0"),s.setAttribute("flipV",o?"1":"0"),this.root.appendChild(s)},o.prototype.begin=function(){this.root.appendChild(this.createElement("begin")),this.lastX=0,this.lastY=0},o.prototype.moveTo=function(t,e){var i=this.createElement("move");i.setAttribute("x",this.format(t)),i.setAttribute("y",this.format(e)),this.root.appendChild(i),this.lastX=t,this.lastY=e},o.prototype.lineTo=function(t,e){var i=this.createElement("line");i.setAttribute("x",this.format(t)),i.setAttribute("y",this.format(e)),this.root.appendChild(i),this.lastX=t,this.lastY=e},o.prototype.quadTo=function(t,e,i,n){var l=this.createElement("quad");l.setAttribute("x1",this.format(t)),l.setAttribute("y1",this.format(e)),l.setAttribute("x2",this.format(i)),l.setAttribute("y2",this.format(n)),this.root.appendChild(l),this.lastX=i,this.lastY=n},o.prototype.curveTo=function(t,e,i,n,l,a){var r=this.createElement("curve");r.setAttribute("x1",this.format(t)),r.setAttribute("y1",this.format(e)),r.setAttribute("x2",this.format(i)),r.setAttribute("y2",this.format(n)),r.setAttribute("x3",this.format(l)),r.setAttribute("y3",this.format(a)),this.root.appendChild(r),this.lastX=l,this.lastY=a},o.prototype.close=function(){this.root.appendChild(this.createElement("close"))},o.prototype.text=function(t,e,i,n,l,r,o,s,u,d,h,c,p){if(this.textEnabled&&null!=l){a.default.isNode(l)&&(l=a.default.getOuterHtml(l));var f=this.createElement("text");f.setAttribute("x",this.format(t)),f.setAttribute("y",this.format(e)),f.setAttribute("w",this.format(i)),f.setAttribute("h",this.format(n)),f.setAttribute("str",l),null!=r&&f.setAttribute("align",r),null!=o&&f.setAttribute("valign",o),f.setAttribute("wrap",s?"1":"0"),null==u&&(u=""),f.setAttribute("format",u),null!=d&&f.setAttribute("overflow",d),null!=h&&f.setAttribute("clip",h?"1":"0"),null!=c&&f.setAttribute("rotation",c),null!=p&&f.setAttribute("dir",p),this.root.appendChild(f)}},o.prototype.stroke=function(){this.root.appendChild(this.createElement("stroke"))},o.prototype.fill=function(){this.root.appendChild(this.createElement("fill"))},o.prototype.fillAndStroke=function(){this.root.appendChild(this.createElement("fillstroke"))};e.default=o},25861:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(241872),i(297336);var n=a(i(22676)),l=a(i(742288));function a(t){return t&&t.__esModule?t:{default:t}}function r(t,e,i,n,l,a){this.url=t,this.params=e,this.method=i||"POST",this.async=null==n||n,this.username=l,this.password=a}r.prototype.url=null,r.prototype.params=null,r.prototype.method=null,r.prototype.async=null,r.prototype.binary=!1,r.prototype.withCredentials=!1,r.prototype.username=null,r.prototype.password=null,r.prototype.request=null,r.prototype.decodeSimulateValues=!1,r.prototype.isBinary=function(){return this.binary},r.prototype.setBinary=function(t){this.binary=t},r.prototype.getText=function(){return this.request.responseText},r.prototype.isReady=function(){return 4==this.request.readyState},r.prototype.getDocumentElement=function(){var t=this.getXml();return null!=t?t.documentElement:null},r.prototype.getXml=function(){var t=this.request.responseXML;return(document.documentMode>=9||null==t||null==t.documentElement)&&(t=l.default.parseXml(this.request.responseText)),t},r.prototype.getText=function(){return this.request.responseText},r.prototype.getStatus=function(){return this.request.status},r.prototype.create=window.XMLHttpRequest?function(){var t=new XMLHttpRequest;return this.isBinary()&&t.overrideMimeType&&t.overrideMimeType("text/plain; charset=x-user-defined"),t}:"undefined"!=typeof ActiveXObject?function(){return new ActiveXObject("Microsoft.XMLHTTP")}:void 0,r.prototype.send=function(t,e,i,a){this.request=this.create(),null!=this.request&&(null!=t&&(this.request.onreadystatechange=l.default.bind(this,(function(){this.isReady()&&(t(this),this.onreadystatechaange=null)}))),this.request.open(this.method,this.url,this.async,this.username,this.password),this.setRequestHeaders(this.request,this.params),window.XMLHttpRequest&&this.withCredentials&&(this.request.withCredentials="true"),!n.default.IS_QUIRKS&&(null==document.documentMode||document.documentMode>9)&&window.XMLHttpRequest&&null!=i&&null!=a&&(this.request.timeout=i,this.request.ontimeout=a),this.request.send(this.params))},r.prototype.setRequestHeaders=function(t,e){null!=e&&t.setRequestHeader("Content-Type","application/x-www-form-urlencoded")},r.prototype.simulate=function(t,e){var i=null;(t=t||document)==document&&(i=window.onbeforeunload,window.onbeforeunload=null);var n=t.createElement("form");n.setAttribute("method",this.method),n.setAttribute("action",this.url),null!=e&&n.setAttribute("target",e),n.style.display="none",n.style.visibility="hidden";for(var a=this.params.indexOf("&")>0?this.params.split("&"):this.params.split(),r=0;r<a.length;r++){var o=a[r].indexOf("=");if(o>0){var s=a[r].substring(0,o),u=a[r].substring(o+1);this.decodeSimulateValues&&(u=decodeURIComponent(u));var d=t.createElement("textarea");d.setAttribute("name",s),l.default.write(d,u),n.appendChild(d)}}t.body.appendChild(n),n.submit(),t.body.removeChild(n),null!=i&&(window.onbeforeunload=i)};e.default=r},408188:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(i(995048)),l=r(i(742288)),a=r(i(39864));function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e,i,n,l){a.default.call(this),this.label=t,this.funct=e,this.enabled=null==i||i,this.iconCls=n,this.shortcut=l,this.visible=!0}l.default.extend(o,a.default),o.prototype.setEnabled=function(t){this.enabled!=t&&(this.enabled=t,this.fireEvent(new n.default("stateChanged")))},o.prototype.isEnabled=function(){return this.enabled},o.prototype.setToggleAction=function(t){this.toggleAction=t},o.prototype.setSelectedCallback=function(t){this.selectedCallback=t},o.prototype.isSelected=function(){return this.selectedCallback()};e.default=o},17208:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(297336),i(571176);var n=v(i(995048)),l=v(i(897508)),a=(v(i(648156)),v(i(554484)),v(i(22676))),r=v(i(169904)),o=v(i(408188)),s=v(i(911484)),u=v(i(742288)),d=v(i(11131)),h=(v(i(220196)),v(i(129200))),c=v(i(85384)),p=v(i(700588)),f=v(i(790448)),g=v(i(132448)),y=i(303528),m=i(364088);function v(t){return t&&t.__esModule?t:{default:t}}function E(t){this.editorUi=t,this.actions=new Object,this.init()}E.prototype.init=function(){var t=this.editorUi,e=t.editor,i=e.graph,v=function(){return o.default.prototype.isEnabled.apply(this,arguments)&&i.isEnabled()};function E(t){i.escape();var e=i.getSelectionCells(),l=i.getDeletableCells(e);if(null!=l&&l.length>0){var a=i.model.getParents(l);if(i.removeCells(l,t),null!=a){for(var r=[],o=0;o<a.length;o++)i.model.getCell(a[o].id)&&(i.model.isVertex(a[o])||i.model.isEdge(a[o]))&&r.push(a[o]);i.setSelectionCells(r)}}null!=e&&null!=l&&i.fireEvent(new n.default(y.EVENT.AFTER_DELETE_CELLS,"cells",l,"selectedCells",e))}this.addAction("new...",(function(){window.open(t.getUrl())})),this.addAction("open...",(function(){window.openNew=!0,window.openKey="open",t.openFile()})),this.addAction("import...",(0,m.importAction)(t,e)).isEnabled=v,this.addAction("save",(function(){t.saveFile(!1)}),null,null,"Ctrl+S").isEnabled=v,this.addAction("saveAs...",(function(){t.saveFile(!0)}),null,null,"Ctrl+Shift+S").isEnabled=v,this.addAction("export...",(function(){t.showDialog(new h.default(t).container,300,210,!0,!0)})),this.addAction("editDiagram...",(function(){var e=new r.default(t);t.showDialog(e.container,620,420,!0,!0),e.init()})),this.addAction("pageSetup...",(function(){t.showDialog(new p.default(t).container,320,220,!0,!0)})).isEnabled=v,this.addAction("print...",(function(){t.showDialog(new c.default(t).container,300,180,!0,!0)}),null,"sprite-print","Ctrl+P"),this.addAction("preview",(function(){g.default.show(i,null,10,10)})),this.addAction("undo",(function(){t.undo()}),null,"sprite-undo","Ctrl+Z"),this.addAction("redo",(function(){t.redo()}),null,"sprite-redo",a.default.IS_WIN?"Ctrl+Y":"Ctrl+Shift+Z"),this.addAction("cut",(function(){l.default.cut(i)}),null,"sprite-cut","Ctrl+X"),this.addAction("copy",(function(){t.clipboardCopy(i)}),null,"sprite-copy","Ctrl+C"),this.addAction("paste",(function(){(i.cellEditor.isContentEditing()||!l.default.isEmpty()&&i.isEnabled()&&!i.isCellLocked(i.getDefaultParent()))&&t.clipboardPaste(i)}),!1,"sprite-paste","Ctrl+V"),this.addAction("pasteHere",(0,m.pasteHereAction)(i)),this.addAction("delete",(function(){E(!1)}),null,null,"Delete"),this.addAction("deleteAll",(function(){E(!0)}),null,null,"Ctrl+Delete"),this.addAction("duplicate",(function(){i.setSelectionCells(i.duplicateCells())}),null,null,"Ctrl+D"),this.addAction("turn",(function(){i.setSelectionCells(i.turnShapes(i.getSelectionCells()))}),null,null,"Ctrl+R"),this.addAction("selectVertices",(function(){i.selectVertices()}),null,null,"Ctrl+Shift+I"),this.addAction("selectEdges",(function(){i.selectEdges()}),null,null,"Ctrl+Shift+E"),this.addAction("selectAll",(function(){i.selectAll(null,!0)}),null,null,"Ctrl+A"),this.addAction("selectNone",(function(){i.clearSelection()}),null,null,"Ctrl+Shift+A"),this.addAction("lockUnlock",(0,m.lockUnlockAction)(i),null,null,"Ctrl+L"),this.addAction("home",(function(){i.home()}),null,null,"Home"),this.addAction("exitGroup",(function(){i.exitGroup()}),null,null,"Ctrl+Shift+Page Up"),this.addAction("enterGroup",(function(){i.enterGroup()}),null,null,"Ctrl+Shift+Page Down"),this.addAction("expand",(function(){i.foldCells(!1)}),null,null,"Ctrl+Page Down"),this.addAction("collapse",(function(){i.foldCells(!0)}),null,null,"Ctrl+Page Up"),this.addAction("toFront",(function(){i.orderCells(!1)}),null,null,"Ctrl+Shift+F"),this.addAction("toBack",(function(){i.orderCells(!0)}),null,null,"Ctrl+Shift+B"),this.addAction("group",(0,m.groupAction)(i),null,null,"Ctrl+G"),this.addAction("ungroup",(0,m.ungroupAction)(i),null,null,"Ctrl+Shift+U"),this.addAction("removeFromGroup",(function(){i.removeCellsFromParent()})),this.addAction("editData...",(0,m.editDataAction)(t,i),null,null,"Ctrl+M"),this.addAction("editTooltip...",(0,m.editTooltipAction)(t,i)),this.addAction("openLink",(0,m.openLinkAction)(i)),this.addAction("editLink...",(0,m.editLinkAction)(t,i)),this.addAction("insertLink",(0,m.insertLinkAction)(t,i)).isEnabled=v,this.addAction("link...",(0,m.linkAction)(t)).isEnabled=v,this.addAction("autosize",(0,m.autosizeAction)(i),null,null,"Ctrl+Shift+Y"),this.addAction("formattedText",(0,m.formattedTextAction)(t,i)),this.addAction("wordWrap",(0,m.wordWrapAction)(i)),this.addAction("rotation",(0,m.rotationAction)(t,i)),this.addAction("resetView",(function(){i.zoomTo(1),t.resetScrollbars()}),null,null,"Ctrl+H"),this.addAction("zoomIn",(function(t){i.zoomIn()}),null,null,"Ctrl + / Alt+Mousewheel"),this.addAction("zoomOut",(function(t){i.zoomOut()}),null,null,"Ctrl - / Alt+Mousewheel"),this.addAction("fitWindow",(function(){i.fit()}),null,null,"Ctrl+Shift+H"),this.addAction("fitPage",(0,m.fitPageAction)(i),null,null,"Ctrl+J"),this.addAction("fitTwoPages",(0,m.fitTwoPagesAction)(i),null,null,"Ctrl+Shift+J"),this.addAction("fitPageWidth",(0,m.fitPageWidthAction)(i)),this.put("customZoom",new o.default(d.default.get("custom")+"...",u.default.bind(this,(function(){var t=new s.default(this.editorUi,parseInt(100*i.getView().getScale()),d.default.get("apply"),u.default.bind(this,(function(t){var e=parseInt(t);!isNaN(e)&&e>0&&i.zoomTo(e/100)})),d.default.get("zoom")+" (%)");this.editorUi.showDialog(t.container,300,80,!0,!0),t.init()})),null,null,"Ctrl+0")),this.addAction("pageScale",(0,m.pageScaleAction)(i));var b=null;(b=this.addAction("grid",(function(){i.setGridEnabled(!i.isGridEnabled()),t.fireEvent(new n.default("gridEnabledChanged"))}),null,null,"Ctrl+Shift+G")).setToggleAction(!0),b.setSelectedCallback((function(){return i.isGridEnabled()})),b.setEnabled(!1),(b=this.addAction("guides",(function(){i.graphHandler.guidesEnabled=!i.graphHandler.guidesEnabled,t.fireEvent(new n.default("guidesEnabledChanged"))}))).setToggleAction(!0),b.setSelectedCallback((function(){return i.graphHandler.guidesEnabled})),b.setEnabled(!1),(b=this.addAction("tooltips",(function(){i.tooltipHandler.setEnabled(!i.tooltipHandler.isEnabled())}))).setToggleAction(!0),b.setSelectedCallback((function(){return i.tooltipHandler.isEnabled()})),(b=this.addAction("collapseExpand",(function(){t.setFoldingEnabled(!i.foldingEnabled)}))).setToggleAction(!0),b.setSelectedCallback((function(){return i.foldingEnabled})),b.isEnabled=v,(b=this.addAction("scrollbars",(function(){t.setScrollbars(!t.hasScrollbars())}))).setToggleAction(!0),b.setSelectedCallback((function(){return i.scrollbars})),(b=this.addAction("pageView",(0,m.pageViewAction)(t,i))).setToggleAction(!0),b.setSelectedCallback((function(){return i.pageVisible})),this.put("pageBackgroundColor",new o.default(d.default.get("backgroundColor")+"...",(function(){t.pickColor(i.background||"none",(function(e){t.setBackgroundColor(e)}))}))),(b=this.addAction("connectionArrows",(function(){i.connectionArrowsEnabled=!i.connectionArrowsEnabled,t.fireEvent(new n.default("connectionArrowsChanged"))}),null,null,"Ctrl+Q")).setToggleAction(!0),b.setSelectedCallback((function(){return i.connectionArrowsEnabled})),(b=this.addAction("connectionPoints",(function(){i.setConnectable(!i.connectionHandler.isEnabled()),t.fireEvent(new n.default("connectionPointsChanged"))}),null,null,"Ctrl+Shift+Q")).setToggleAction(!0),b.setSelectedCallback((function(){return i.connectionHandler.isEnabled()})),(b=this.addAction("copyConnect",(function(){i.connectionHandler.setCreateTarget(!i.connectionHandler.isCreateTarget()),t.fireEvent(new n.default("copyConnectChanged"))}))).setToggleAction(!0),b.setSelectedCallback((function(){return i.connectionHandler.isCreateTarget()})),b.isEnabled=v,(b=this.addAction("autosave",(function(){t.editor.setAutosave(!t.editor.autosave)}))).setToggleAction(!0),b.setSelectedCallback((function(){return t.editor.autosave})),b.isEnabled=v,b.visible=!1;var S=u.default.bind(this,(function(t,e,n,l){return this.addAction(t,(function(){null!=n&&i.cellEditor.isContentEditing()?n():(i.stopEditing(!1),i.toggleCellStyleFlags(f.default.STYLE_FONTSTYLE,e))}),null,null,l)}));S("bold",f.default.FONT_BOLD,(function(){document.execCommand("bold",!1,null)}),"Ctrl+B"),S("italic",f.default.FONT_ITALIC,(function(){document.execCommand("italic",!1,null)}),"Ctrl+I"),S("underline",f.default.FONT_UNDERLINE,(function(){document.execCommand("underline",!1,null)}),"Ctrl+U"),this.addAction("fontColor...",(function(){t.menus.pickColor(f.default.STYLE_FONTCOLOR,"forecolor","000000")})),this.addAction("strokeColor...",(function(){t.menus.pickColor(f.default.STYLE_STROKECOLOR)})),this.addAction("fillColor...",(function(){t.menus.pickColor(f.default.STYLE_FILLCOLOR)})),this.addAction("gradientColor...",(function(){t.menus.pickColor(f.default.STYLE_GRADIENTCOLOR)})),this.addAction("backgroundColor...",(function(){t.menus.pickColor(f.default.STYLE_LABEL_BACKGROUNDCOLOR,"backcolor")})),this.addAction("borderColor...",(function(){t.menus.pickColor(f.default.STYLE_LABEL_BORDERCOLOR)})),this.addAction("vertical",(function(){t.menus.toggleStyle(f.default.STYLE_HORIZONTAL,!0)})),this.addAction("shadow",(function(){t.menus.toggleStyle(f.default.STYLE_SHADOW)})),this.addAction("solid",(0,m.solidAction)(t,i)),this.addAction("dashed",(0,m.dashedAction)(t,i)),this.addAction("dotted",(0,m.dottedAction)(t,i)),this.addAction("sharp",(0,m.sharpAction)(t,i)),this.addAction("rounded",(0,m.roundedAction)(t,i)),this.addAction("toggleRounded",(0,m.toggleRoundedAction)(t,i)),this.addAction("curved",(0,m.curvedAction)(t,i)),this.addAction("collapsible",(0,m.collapsibleAction)(t,i)),this.addAction("editStyle...",(0,m.editStyleAction)(i),null,null,"Ctrl+E"),this.addAction("setAsDefaultStyle",(function(){i.isEnabled()&&!i.isSelectionEmpty()&&t.setDefaultStyle(i.getSelectionCell())}),null,null,"Ctrl+Shift+D"),this.addAction("clearDefaultStyle",(function(){i.isEnabled()&&t.clearDefaultStyle()}),null,null,"Ctrl+Shift+R"),this.addAction("addWaypoint",(0,m.addWaypointAction)(e,i)),this.addAction("removeWaypoint",(function(){var e=t.actions.get("removeWaypoint");null!=e.handler&&e.handler.removePoint(e.handler.state,e.index)})),this.addAction("clearWaypoints",(0,m.clearWaypointsAction)(i)),b=this.addAction("subscript",u.default.bind(this,(function(){i.cellEditor.isContentEditing()&&document.execCommand("subscript",!1,null)})),null,null,"Ctrl+,"),b=this.addAction("superscript",u.default.bind(this,(function(){i.cellEditor.isContentEditing()&&document.execCommand("superscript",!1,null)})),null,null,"Ctrl+."),this.addAction("image...",(0,m.imageAction)(t,i)).isEnabled=v,this.addAction("insertImage...",(function(){i.isEnabled()&&!i.isCellLocked(i.getDefaultParent())&&(i.clearSelection(),t.actions.get("image").funct())})).isEnabled=v,(b=this.addAction("layers",(0,m.layersAction)(t),null,null,"Ctrl+Shift+L")).setToggleAction(!0),b.setSelectedCallback(u.default.bind(this,(function(){return null!=this.layersWindow&&this.layersWindow.window.isVisible()}))),(b=this.addAction("formatPanel",u.default.bind(this,(function(){t.toggleFormatPanel()})),null,null,"Ctrl+Shift+P")).setToggleAction(!0),b.setSelectedCallback(u.default.bind(this,(function(){return!0}))),(b=this.addAction("outline",(0,m.outlineAction)(t),null,null,"Ctrl+Shift+O")).setToggleAction(!0),b.setSelectedCallback(u.default.bind(this,(function(){return null!=this.outlineWindow&&this.outlineWindow.window.isVisible()}))),this.addAction("animation",(0,m.animationAction)(t,i),null,null,"Ctrl+M")},E.prototype.addAction=function(t,e,i,n,l){var a;return"..."==t.substring(t.length-3)?(t=t.substring(0,t.length-3),a=d.default.get(t)+"..."):a=d.default.get(t),this.put(t,new o.default(a,e,i,n,l))},E.prototype.put=function(t,e){return this.actions[t]=e,e},E.prototype.get=function(t){return this.actions[t]};e.default=E},92792:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(721300);var n=d(i(740168)),l=d(i(132448)),a=d(i(463724)),r=d(i(695112)),o=i(787220),s=d(i(1200)),u=d(i(441016));function d(t){return t&&t.__esModule?t:{default:t}}function h(){n.default.call(this)}l.default.extend(h,n.default),h.prototype.getCardHTML=function(t){var e={},i=null;return t.lock?(i=o.billCardLockedTpl,e={lock:t.lock,title:t.title,lockIcon:u.default,lockTip:t.lockTip}):(i=o.billCardTpl,e={title:t.title,subtitle:t.subtitle,name:t.name,department:t.department,note:t.status},t.hasCustomRelation&&(e.billIcon=s.default)),r.default.render(i,{styles:a.default,data:e})},h.prototype.getActivatedStyleClass=function(){return a.default.activatedCard};e.default=h},53928:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(233696),i(387912),i(633768),i(513640),i(997308);var n=o(i(795520)),l=o(i(369396)),a=o(i(742288)),r=o(i(744488));function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e){var i=this;this.graph=t,e("renderTooltipData",(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[])[0],a=t.container.querySelector("#".concat(i.tipId));e.forEach((function(t){l.default.render(n.default.createElement(r.default,{datas:t}),a)}))}))}s.prototype.graph=null,s.prototype.clickedIconCellId=null,s.prototype.activedIconCellId=null,s.prototype.activedCardId=null,s.prototype.tipId="status-tip-container",s.prototype.shapeRegex=/shape=ierp\.billrelation\.Icon([a-zA-Z]+?);.*/,s.prototype.activeShapeRegex=/shape=ierp\.billrelation\.Icon[a-zA-Z]+?_Active;.*/,s.prototype.mouseDown=function(t,e){var i=e.getCell();if(!i||this.clickedIconCellId!==i.getId()){var n=t.getModel().getCell(this.clickedIconCellId);if(n&&this.leaveIcon(t,n)){this.clickedIconCellId=null,n&&n.getId()==this.activedIconCellId&&(this.activedIconCellId=null);var l=t.container.querySelector("#".concat(this.tipId));l&&(l.style.display="none")}i&&i.isVertex()&&this.hasPlugin(i)&&(this.activeShapeRegex.test(i.style)||this.hoverIcon(t,i))&&(this.clickedIconCellId=i.getId(),this.renderLabelTips(t,e))}},s.prototype.mouseMove=function(t,e){if(!this.clicked){var i=e.getCell();if(!i||this.activedIconCellId!==i.getId()){if(this.activedIconCellId!==this.clickedIconCellId){var n=t.getModel().getCell(this.activedIconCellId);null!=n&&this.dragLeave(e.getEvent(),t,n)}i&&i.isVertex()&&this.hasPlugin(i)&&this.dragEnter(e.getEvent(),t,i)}}},s.prototype.mouseUp=function(t,e){var i=e.getCell();if(!i||this.activedCardId!==i.getId()){var n=t&&t.view,l=t.getModel().getCell(this.activedCardId);if(n&&l){var r=n.getState(l),o=r.shape.cardnode,s=r.shape.getActivatedStyleClass();a.default.removeClass(o,s),function(t,e){try{var i=e.lineIds;if(i){for(var n=[],l=t.getModel(),r=0;r<i.length;r++)n.push(l.getCell(i[r]));t.setCellStyles("strokeColor","#A1CFFF!important",n);var o=[],s=[],u=l.cells;for(var d in u){var h=u[d];a.default.isBillRelationCard(h.type)?s.push(h):(h.vertex||h.edge)&&o.push(h)}t.setCellStyles("opacity","100",o),a.default.setBillRelationCardOpacity(t,s,100)}}catch(t){}}(t,l),this.activedCardId=null;var u=l.properties;u&&u.lock||t.invokeCustomEvent("deselectCard",u)}i&&/billCard|stackedCard/.test(i.type)&&(this.activedCardId=i.getId())}},s.prototype.dragEnter=function(t,e,i){this.hoverIcon(e,i)&&(this.activedIconCellId=i.getId())},s.prototype.dragLeave=function(t,e,i){this.leaveIcon(e,i)&&(this.activedIconCellId=null)},s.prototype.hoverIcon=function(t,e){var i=e.style;if(this.shapeRegex.test(i)){var n=i.replace(this.shapeRegex,"$1"),l=i.replace(n,"".concat(n,"_Active"));return t.setCellStyle(l,[e]),!0}return!1},s.prototype.leaveIcon=function(t,e){var i=e.style;if(this.activeShapeRegex.test(i)){var n=i.replace("_Active","");return t.setCellStyle(n,[e]),!0}return!1},s.prototype.renderLabelTips=function(t,e){var i=t&&t.container;if(i){var a=i.querySelector("#".concat(this.tipId)),o=e.state&&e.state.cell;if(o&&this.activeShapeRegex.test(o.style)){var s=t.view.scale||1;a||((a=document.createElement("div")).id=this.tipId,a.style.height="".concat(112,"px"),a.style.width="".concat(212,"px"),a.style.position="absolute",i.appendChild(a)),a.style.display="block",a.style.transform="scale(".concat(s,")");var u=(212*s-212)/2;a.style.left=e.state.x+e.state.width+u+"px",a.style.top=e.state.y-(112-e.state.height)/2+"px";var d=o.properties;l.default.render(n.default.createElement(r.default,{datas:d}),a),t.invokeCustomEvent("afterShowIconTip",d)}else a&&(a.style.display="none")}},s.prototype.reset=function(t){this.clickedIconCellId=null,this.activedIconCellId=null,this.activedCardId=null;var e=t.container.querySelector("#".concat(this.tipId));e&&(e.style.display="none")},s.prototype.hasPlugin=function(t){return t.properties&&t.properties.plugin};e.default=s},786715:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(927184),i(297336);var n=u(i(995048)),l=u(i(22676)),a=u(i(370608)),r=u(i(742288)),o=u(i(11131)),s=u(i(132448));function u(t){return t&&t.__esModule?t:{default:t}}var d=function t(e,i,n,r){this.editorUi=e;var u=document.createElement("input");u.style.marginBottom="10px",u.style.width="216px",l.default.IS_IE&&(u.style.marginTop="10px",document.body.appendChild(u)),this.init=function(){l.default.IS_TOUCH||u.focus()};var d=new jscolor.color(u);d.pickerOnfocus=!1,d.showPicker();var h=document.createElement("div");jscolor.picker.box.style.position="relative",jscolor.picker.box.style.width="230px",jscolor.picker.box.style.height="100px",jscolor.picker.box.style.paddingBottom="10px",h.appendChild(jscolor.picker.box);var c=document.createElement("center");function p(t,e,i){e=null!=e?e:12;var n=document.createElement("table");n.style.borderCollapse="collapse",n.setAttribute("cellspacing","0"),n.style.marginBottom="20px",n.style.cellSpacing="0px";var l=document.createElement("tbody");n.appendChild(l);for(var r=t.length/e,o=0;o<r;o++){for(var s=document.createElement("tr"),h=0;h<e;h++)!function(t){var e=document.createElement("td");e.style.border="1px solid black",e.style.padding="0px",e.style.width="16px",e.style.height="16px",null==t&&(t=i),"none"==t?e.style.background="url('"+Dialog.prototype.noColorImage+"')":e.style.backgroundColor="#"+t,s.appendChild(e),null!=t&&(e.style.cursor="pointer",a.default.addListener(e,"click",(function(){"none"==t?(d.fromString("ffffff"),u.value="none"):d.fromString(t)})))}(t[o*e+h]);l.appendChild(s)}return c.appendChild(n),n}h.appendChild(u),s.default.br(h),p(0==t.recentColors.length?["FFFFFF"]:t.recentColors,12,"FFFFFF").style.marginBottom="8px",p(["E6D0DE","CDA2BE","B5739D","E1D5E7","C3ABD0","A680B8","D4E1F5","A9C4EB","7EA6E0","D5E8D4","9AC7BF","67AB9F","D5E8D4","B9E0A5","97D077","FFF2CC","FFE599","FFD966","FFF4C3","FFCE9F","FFB570","F8CECC","F19C99","EA6B66"],12).style.marginBottom="8px",p(["none","FFFFFF","E6E6E6","CCCCCC","B3B3B3","999999","808080","666666","4D4D4D","333333","1A1A1A","000000","FFCCCC","FFE6CC","FFFFCC","E6FFCC","CCFFCC","CCFFE6","CCFFFF","CCE5FF","CCCCFF","E5CCFF","FFCCFF","FFCCE6","FF9999","FFCC99","FFFF99","CCFF99","99FF99","99FFCC","99FFFF","99CCFF","9999FF","CC99FF","FF99FF","FF99CC","FF6666","FFB366","FFFF66","B3FF66","66FF66","66FFB3","66FFFF","66B2FF","6666FF","B266FF","FF66FF","FF66B3","FF3333","FF9933","FFFF33","99FF33","33FF33","33FF99","33FFFF","3399FF","3333FF","9933FF","FF33FF","FF3399","FF0000","FF8000","FFFF00","80FF00","00FF00","00FF80","00FFFF","007FFF","0000FF","7F00FF","FF00FF","FF0080","CC0000","CC6600","CCCC00","66CC00","00CC00","00CC66","00CCCC","0066CC","0000CC","6600CC","CC00CC","CC0066","990000","994C00","999900","4D9900","009900","00994D","009999","004C99","000099","4C0099","990099","99004D","660000","663300","666600","336600","006600","006633","006666","003366","000066","330066","660066","660033","330000","331A00","333300","1A3300","003300","00331A","003333","001933","000033","190033","330033","33001A"]).style.marginBottom="16px",h.appendChild(c);var f=document.createElement("div");f.style.textAlign="right",f.style.whiteSpace="nowrap";var g=s.default.button(o.default.get("cancel"),(function(){e.hideDialog(),null!=r&&r()}));g.className="geBtn",e.editor.cancelFirst&&f.appendChild(g);var y=null!=n?n:this.createApplyFunction(),m=s.default.button(o.default.get("apply"),(function(){var i=u.value;t.addRecentColor(i,12),"none"!=i&&"#"!=i.charAt(0)&&(i="#"+i),y(i),e.hideDialog()}));m.className="geBtn gePrimaryBtn",f.appendChild(m),e.editor.cancelFirst||f.appendChild(g),null!=i&&("none"==i?(d.fromString("ffffff"),u.value="none"):d.fromString(i)),h.appendChild(f),this.picker=d,this.colorInput=u,a.default.addListener(h,"keydown",(function(t){27==t.keyCode&&(e.hideDialog(),null!=r&&r(),a.default.consume(t))})),this.container=h};d.prototype.createApplyFunction=function(){return r.default.bind(this,(function(t){var e=this.editorUi.editor.graph;e.getModel().beginUpdate();try{e.setCellStyles(this.currentColorKey,t),this.editorUi.fireEvent(new n.default("styleChanged","keys",[this.currentColorKey],"values",[t],"cells",e.getSelectionCells()))}finally{e.getModel().endUpdate()}}))},d.recentColors=[],d.addRecentColor=function(t,e){null!=t&&(s.default.remove(t,d.recentColors),d.recentColors.splice(0,0,t),d.recentColors.length>e&&d.recentColors.pop())};e.default=d},242712:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(297336);var n=d(i(995048)),l=d(i(22676)),a=d(i(300511)),r=d(i(11131)),o=d(i(742288)),s=d(i(185224)),u=d(i(370608));function d(t){return t&&t.__esModule?t:{default:t}}function h(t,e,i,a,d,c,p){var f=0;l.default.IS_VML&&(null==document.documentMode||document.documentMode<8)&&(f=80),i+=f,a+=f;var g=Math.max(0,Math.round((document.body.scrollWidth-i)/2)),y=Math.max(0,Math.round((Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)-a)/3));t.dialogs.length>0&&(this.zIndex+=2*t.dialogs.length);var m=t.createDiv("geDialog");if(m.style.width=i+"px",m.style.height=a+"px",m.style.left=g+"px",m.style.top=y+"px",m.style.zIndex=this.zIndex,null==this.bg&&(this.bg=t.createDiv("background"),this.bg.style.position="absolute",this.bg.style.background="white",this.bg.style.left="0px",this.bg.style.top="0px",this.bg.style.bottom="0px",this.bg.style.right="0px",this.bg.style.zIndex=this.zIndex-2,o.default.setOpacity(this.bg,this.bgOpacity),l.default.IS_QUIRKS&&new s.default(this.bg)),d&&document.body.appendChild(this.bg),m.appendChild(e),document.body.appendChild(m),c){var v=document.createElement("img");v.setAttribute("src",h.prototype.closeImage),v.setAttribute("title",r.default.get("close")),v.className="geDialogClose",v.style.top=y+14+"px",v.style.left=g+i+38-f+"px",v.style.zIndex=this.zIndex,u.default.addListener(v,"click",o.default.bind(this,(function(){t.hideDialog(!0)}))),document.body.appendChild(v),this.dialogImg=v,u.default.addListener(this.bg,"click",o.default.bind(this,(function(){t.hideDialog(!0)})))}this.onDialogClose=p,this.container=m,t.editor.fireEvent(new n.default("showDialog"))}h.prototype.zIndex=a.default.prototype.zIndex-1,h.prototype.noColorImage=l.default.IS_SVG?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkEzRDlBMUUwODYxMTExRTFCMzA4RDdDMjJBMEMxRDM3IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkEzRDlBMUUxODYxMTExRTFCMzA4RDdDMjJBMEMxRDM3Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QTNEOUExREU4NjExMTFFMUIzMDhEN0MyMkEwQzFEMzciIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QTNEOUExREY4NjExMTFFMUIzMDhEN0MyMkEwQzFEMzciLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5xh3fmAAAABlBMVEX////MzMw46qqDAAAAGElEQVR42mJggAJGKGAYIIGBth8KAAIMAEUQAIElnLuQAAAAAElFTkSuQmCC":IMAGE_PATH+"/nocolor.png",h.prototype.closeImage=l.default.IS_SVG?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJAQMAAADaX5RTAAAABlBMVEV7mr3///+wksspAAAAAnRSTlP/AOW3MEoAAAAdSURBVAgdY9jXwCDDwNDRwHCwgeExmASygSL7GgB12QiqNHZZIwAAAABJRU5ErkJggg==":IMAGE_PATH+"/close.png",h.prototype.clearImage=l.default.IS_SVG?"data:image/gif;base64,R0lGODlhDQAKAIABAMDAwP///yH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS4wLWMwNjAgNjEuMTM0Nzc3LCAyMDEwLzAyLzEyLTE3OjMyOjAwICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IFdpbmRvd3MiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OUIzOEM1NzI4NjEyMTFFMUEzMkNDMUE3NjZERDE2QjIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OUIzOEM1NzM4NjEyMTFFMUEzMkNDMUE3NjZERDE2QjIiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5QjM4QzU3MDg2MTIxMUUxQTMyQ0MxQTc2NkREMTZCMiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5QjM4QzU3MTg2MTIxMUUxQTMyQ0MxQTc2NkREMTZCMiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgH//v38+/r5+Pf29fTz8vHw7+7t7Ovq6ejn5uXk4+Lh4N/e3dzb2tnY19bV1NPS0dDPzs3My8rJyMfGxcTDwsHAv769vLu6ubi3trW0s7KxsK+urayrqqmop6alpKOioaCfnp2cm5qZmJeWlZSTkpGQj46NjIuKiYiHhoWEg4KBgH9+fXx7enl4d3Z1dHNycXBvbm1sa2ppaGdmZWRjYmFgX15dXFtaWVhXVlVUU1JRUE9OTUxLSklIR0ZFRENCQUA/Pj08Ozo5ODc2NTQzMjEwLy4tLCsqKSgnJiUkIyIhIB8eHRwbGhkYFxYVFBMSERAPDg0MCwoJCAcGBQQDAgEAACH5BAEAAAEALAAAAAANAAoAAAIXTGCJebD9jEOTqRlttXdrB32PJ2ncyRQAOw==":IMAGE_PATH+"/clear.gif",h.prototype.lockedImage=l.default.IS_SVG?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAMAAABhq6zVAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MzdDMDZCODExNzIxMTFFNUI0RTk5NTg4OTcyMUUyODEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MzdDMDZCODIxNzIxMTFFNUI0RTk5NTg4OTcyMUUyODEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDozN0MwNkI3RjE3MjExMUU1QjRFOTk1ODg5NzIxRTI4MSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDozN0MwNkI4MDE3MjExMUU1QjRFOTk1ODg5NzIxRTI4MSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PvqMCFYAAAAVUExURZmZmb+/v7KysqysrMzMzLGxsf///4g8N1cAAAAHdFJOU////////wAaSwNGAAAAPElEQVR42lTMQQ4AIQgEwUa0//9kTQirOweYOgDqAMbZUr10AGlAwx4/BJ2QJ4U0L5brYjovvpv32xZgAHZaATFtMbu4AAAAAElFTkSuQmCC":IMAGE_PATH+"/locked.png",h.prototype.unlockedImage=l.default.IS_SVG?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAMAAABhq6zVAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MzdDMDZCN0QxNzIxMTFFNUI0RTk5NTg4OTcyMUUyODEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MzdDMDZCN0UxNzIxMTFFNUI0RTk5NTg4OTcyMUUyODEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDozN0MwNkI3QjE3MjExMUU1QjRFOTk1ODg5NzIxRTI4MSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDozN0MwNkI3QzE3MjExMUU1QjRFOTk1ODg5NzIxRTI4MSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PkKMpVwAAAAYUExURZmZmbKysr+/v6ysrOXl5czMzLGxsf///zHN5lwAAAAIdFJOU/////////8A3oO9WQAAADxJREFUeNpUzFESACAEBNBVsfe/cZJU+8Mzs8CIABCidtfGOndnYsT40HDSiCcbPdoJo10o9aI677cpwACRoAF3dFNlswAAAABJRU5ErkJggg==":IMAGE_PATH+"/unlocked.png",h.prototype.bgOpacity=80,h.prototype.close=function(t){null!=this.onDialogClose&&(this.onDialogClose(t),this.onDialogClose=null),null!=this.dialogImg&&(this.dialogImg.parentNode.removeChild(this.dialogImg),this.dialogImg=null),null!=this.bg&&null!=this.bg.parentNode&&this.bg.parentNode.removeChild(this.bg),this.container.parentNode.removeChild(this.container)};e.default=h},173904:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(241872),i(927184);var n=u(i(22676)),l=u(i(370608)),a=u(i(517648)),r=u(i(11131)),o=u(i(742288)),s=u(i(132448));function u(t){return t&&t.__esModule?t:{default:t}}var d=function t(e,i){var u=document.createElement("div"),d=e.editor.graph;u.style.height="310px",u.style.overflow="auto";var h=d.getModel().getValue(i);if(!o.default.isNode(h)){var c=s.default.createXmlDocument().createElement("object");c.setAttribute("label",h||""),h=c}var p=new a.default("properties");p.table.style.width="100%",p.table.style.paddingRight="20px";for(var f=h.attributes,g=[],y=[],m=0,v=function(t,e){t.parentNode.style.marginRight="12px";var i=document.createElement("a"),n=s.default.createImage(Dialog.prototype.closeImage);n.style.height="9px",n.style.fontSize="9px",n.style.marginBottom="7px",i.className="geButton",i.setAttribute("title",r.default.get("delete")),i.style.margin="0px",i.style.width="14px",i.style.height="14px",i.style.fontSize="14px",i.style.cursor="pointer",i.style.marginLeft="6px",i.appendChild(n);var a=function(t){return function(){for(var e=0,i=0;i<g.length;i++){if(g[i]==t){y[i]=null,p.table.deleteRow(e);break}null!=y[i]&&e++}}}(e);l.default.addListener(i,"click",a),t.parentNode.style.whiteSpace="nowrap",t.parentNode.appendChild(i)},E=function(t,e,i){g[t]=e,y[t]=p.addTextarea(g[m]+":",i,2),y[t].style.width="100%",v(y[t],e)},b=0;b<f.length;b++)"label"!=f[b].nodeName&&"placeholders"!=f[b].nodeName&&(E(m,f[b].nodeName,f[b].nodeValue),m++);u.appendChild(p.table);var S=document.createElement("div");S.style.whiteSpace="nowrap",S.style.marginTop="6px";var w=document.createElement("input");w.setAttribute("placeholder",r.default.get("enterPropertyName")),w.setAttribute("type","text"),w.setAttribute("size",n.default.IS_QUIRKS?"18":"22"),w.style.marginLeft="2px",S.appendChild(w),u.appendChild(S);var A=s.default.button(r.default.get("addProperty"),(function(){if(w.value.length>0){var t=w.value;if(null!=t&&t.length>0&&"label"!=t&&"placeholders"!=t)try{var e=o.default.indexOf(g,t);if(e>=0&&null!=y[e])y[e].focus();else{h.cloneNode(!1).setAttribute(t,""),e>=0&&(g.splice(e,1),y.splice(e,1)),g.push(t);var i=p.addTextarea(t+":","",2);i.style.width="100%",y.push(i),v(i,t),i.focus()}w.value=""}catch(t){s.default.alert(t)}}else s.default.alert(r.default.get("invalidName"))}));this.init=function(){y.length>0?y[0].focus():w.focus()},A.setAttribute("disabled","disabled"),A.style.marginLeft="10px",A.style.width="144px",S.appendChild(A);var C=s.default.button(r.default.get("cancel"),(function(){e.hideDialog.apply(e,arguments)}));C.className="geBtn";var T=s.default.button(r.default.get("apply"),(function(){try{e.hideDialog.apply(e,arguments),h={},d.getModel().setValue(i,h)}catch(t){s.default.alert(t)}}));function M(){w.value.length>0?A.removeAttribute("disabled"):A.setAttribute("disabled","disabled")}T.className="geBtn gePrimaryBtn",l.default.addListener(w,"keyup",M),l.default.addListener(w,"change",M);var x=document.createElement("div");if(x.style.marginTop="18px",x.style.textAlign="right",e.editor.graph.getModel().isVertex(i)||e.editor.graph.getModel().isEdge(i)){var I=document.createElement("span");I.style.marginRight="10px";var L=document.createElement("input");if(L.setAttribute("type","checkbox"),L.style.marginRight="6px",l.default.addListener(L,"click",(function(){})),I.appendChild(L),o.default.write(I,r.default.get("placeholders")),null!=t.placeholderHelpLink){var N=document.createElement("a");N.setAttribute("href",t.placeholderHelpLink),N.setAttribute("title",r.default.get("help")),N.setAttribute("target","_blank"),N.style.marginLeft="10px",N.style.cursor="help";var O=document.createElement("img");O.setAttribute("border","0"),O.setAttribute("valign","middle"),O.style.marginTop="-4px",O.setAttribute("src",Editor.helpImage),N.appendChild(O),I.appendChild(N)}x.appendChild(I)}e.editor.cancelFirst?(x.appendChild(C),x.appendChild(T)):(x.appendChild(T),x.appendChild(C)),u.appendChild(x),this.container=u};d.placeholderHelpLink=null;e.default=d},169904:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(321164);var n=u(i(409988)),l=u(i(220196)),a=u(i(742288)),r=u(i(11131)),o=u(i(536684)),s=u(i(132448));function u(t){return t&&t.__esModule?t:{default:t}}e.default=function(t){var e=document.createElement("div");e.style.textAlign="right";var i=document.createElement("textarea");if(i.setAttribute("wrap","off"),i.style.overflow="auto",i.style.resize="none",i.style.width="600px",i.style.height="370px",i.style.marginBottom="16px",i.value=s.default.getPrettyXml(t.editor.getGraphXml()),e.appendChild(i),this.init=function(){i.focus()},Graph.fileSupport){i.addEventListener("dragover",(function(t){t.stopPropagation(),t.preventDefault()}),!1),i.addEventListener("drop",(function(e){if(e.stopPropagation(),e.preventDefault(),e.dataTransfer.files.length>0){var n=e.dataTransfer.files[0],l=new FileReader;l.onload=function(t){i.value=t.target.result},l.readAsText(n)}else i.value=t.extractGraphModelFromEvent(e)}),!1)}var u=s.default.button(r.default.get("cancel"),(function(){t.hideDialog()}));u.className="geBtn",t.editor.cancelFirst&&e.appendChild(u);var d=document.createElement("select");if(d.style.width="180px",d.className="geBtn",t.editor.graph.isEnabled()){var h=document.createElement("option");h.setAttribute("value","replace"),a.default.write(h,r.default.get("replaceExistingDrawing")),d.appendChild(h)}var c=document.createElement("option");if(c.setAttribute("value","new"),a.default.write(c,r.default.get("openInNewWindow")),null!=window.chrome&&null!=chrome.app&&null!=chrome.app.runtime||d.appendChild(c),t.editor.graph.isEnabled()){var p=document.createElement("option");p.setAttribute("value","import"),a.default.write(p,r.default.get("addToExistingDrawing")),d.appendChild(p)}e.appendChild(d);var f=s.default.button(r.default.get("ok"),(function(){var e=t.editor.graph.zapGremlins(a.default.trim(i.value)),r=null;if("new"==d.value)window.openFile=new l.default((function(){t.hideDialog(),window.openFile=null})),window.openFile.setData(e,null),window.open(t.getUrl());else if("replace"==d.value){t.editor.graph.model.beginUpdate();try{t.editor.setGraphXml(s.default.parseXml(e).documentElement),t.hideDialog()}catch(t){r=t}finally{t.editor.graph.model.endUpdate()}}else if("import"==d.value){t.editor.graph.model.beginUpdate();try{var u=s.default.parseXml(e),h=new n.default;new o.default(u).decode(u.documentElement,h);var c=h.getChildren(h.getChildAt(h.getRoot(),0));t.editor.graph.setSelectionCells(t.editor.graph.importCells(c)),t.hideDialog()}catch(t){r=t}finally{t.editor.graph.model.endUpdate()}}null!=r&&s.default.alert(r.message)}));f.className="geBtn gePrimaryBtn",e.appendChild(f),t.editor.cancelFirst||e.appendChild(u),this.container=e}},304209:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(297336),i(23544);var n=g(i(995048)),l=g(i(22676)),a=g(i(498096)),r=g(i(370608)),o=g(i(403648)),s=g(i(742288)),u=g(i(11131)),d=g(i(39864)),h=g(i(883928)),c=g(i(247644)),p=g(i(536684)),f=g(i(132448));function g(t){return t&&t.__esModule?t:{default:t}}var y=function t(e,i,l,a,o){d.default.call(this),this.chromeless=null!=e?e:this.chromeless,this.initStencilRegistry(),this.graph=a||this.createGraph(i,l),this.undoManager=this.createUndoManager(),this.status="",this.getOrCreateFilename=function(){return this.filename||u.default.get("drawing",[t.pageCounter])+".xml"},this.getFilename=function(){return this.filename},this.setStatus=function(t){this.status=t,this.fireEvent(new n.default("statusChanged"))},this.getStatus=function(){return this.status},this.graphChangeListener=function(){this.setModified(!0)},this.graph.getModel().addListener(r.default.CHANGE,s.default.bind(this,(function(){this.graphChangeListener.apply(this,arguments)}))),this.graph.resetViewOnRootChange=!1,this.graph.edgeLabelsMovable="ide_workflowdesigner"==o,this.init()};y.pageCounter=0,function(){try{for(var t=window;null!=t.opener&&void 0!==t.opener.Editor&&!isNaN(t.opener.Editor.pageCounter);)t=t.opener;null!=t&&(t.Editor.pageCounter++,y.pageCounter=t.Editor.pageCounter)}catch(t){}}(),y.useLocalStorage="undefined"!=typeof Storage&&l.default.IS_IOS,y.helpImage=l.default.IS_SVG?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAXVBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC5BxTwAAAAH3RSTlMAlUF8boNQIE0LBgOgkGlHNSwqFIx/dGVUOjApmV9ezNACSAAAAIVJREFUGNNtjNsOgzAMQ5NeoVcKDAZs+//PXLKI8YKlWvaRU7jXuFpb9qsbdK05XILUiE8JHQox1Pv3OgFUzf1AGqWqUg+QBwLF0YAeegBlCNgRWOpB5vUfTCmeoHQ/wNdy0jLH/cM+b+wLTw4n/7ACEmHVVy8h6qy8V7MNcGowWpsNbvUFcGUEdSi1s/oAAAAASUVORK5CYII=":IMAGE_PATH+"/help.png",y.checkmarkImage=l.default.IS_SVG?"data:image/gif;base64,R0lGODlhFQAVAMQfAGxsbHx8fIqKioaGhvb29nJycvr6+sDAwJqamltbW5OTk+np6YGBgeTk5Ly8vJiYmP39/fLy8qWlpa6ursjIyOLi4vj4+N/f3+3t7fT09LCwsHZ2dubm5r6+vmZmZv///yH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS4wLWMwNjAgNjEuMTM0Nzc3LCAyMDEwLzAyLzEyLTE3OjMyOjAwICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IFdpbmRvd3MiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OEY4NTZERTQ5QUFBMTFFMUE5MTVDOTM5MUZGMTE3M0QiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OEY4NTZERTU5QUFBMTFFMUE5MTVDOTM5MUZGMTE3M0QiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4Rjg1NkRFMjlBQUExMUUxQTkxNUM5MzkxRkYxMTczRCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4Rjg1NkRFMzlBQUExMUUxQTkxNUM5MzkxRkYxMTczRCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgH//v38+/r5+Pf29fTz8vHw7+7t7Ovq6ejn5uXk4+Lh4N/e3dzb2tnY19bV1NPS0dDPzs3My8rJyMfGxcTDwsHAv769vLu6ubi3trW0s7KxsK+urayrqqmop6alpKOioaCfnp2cm5qZmJeWlZSTkpGQj46NjIuKiYiHhoWEg4KBgH9+fXx7enl4d3Z1dHNycXBvbm1sa2ppaGdmZWRjYmFgX15dXFtaWVhXVlVUU1JRUE9OTUxLSklIR0ZFRENCQUA/Pj08Ozo5ODc2NTQzMjEwLy4tLCsqKSgnJiUkIyIhIB8eHRwbGhkYFxYVFBMSERAPDg0MCwoJCAcGBQQDAgEAACH5BAEAAB8ALAAAAAAVABUAAAVI4CeOZGmeaKqubKtylktSgCOLRyLd3+QJEJnh4VHcMoOfYQXQLBcBD4PA6ngGlIInEHEhPOANRkaIFhq8SuHCE1Hb8Lh8LgsBADs=":IMAGE_PATH+"/checkmark.gif",y.maximizeImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVBAMAAABbObilAAAAElBMVEUAAAAAAAAAAAAAAAAAAAAAAADgKxmiAAAABXRSTlMA758vX1Pw3BoAAABJSURBVAjXY8AJQkODGBhUQ0MhbAUGBiYY24CBgRnGFmZgMISwgwwDGRhEhVVBbAVmEQYGRwMmBjIAQi/CTIRd6G5AuA3dzYQBAHj0EFdHkvV4AAAAAElFTkSuQmCC",y.zoomOutImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVBAMAAABbObilAAAAElBMVEUAAAAAAAAsLCxxcXEhISFgYGChjTUxAAAAAXRSTlMAQObYZgAAAEdJREFUCNdjIAMwCQrB2YKCggJQJqMwA7MglK1owMBgqABVApITgLJZXFxgbIQ4Qj3CHIT5ggoIe5kgNkM1KSDYKBKqxPkDAPo5BAZBE54hAAAAAElFTkSuQmCC",y.zoomInImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVBAMAAABbObilAAAAElBMVEUAAAAAAAAsLCwhISFxcXFgYGBavKaoAAAAAXRSTlMAQObYZgAAAElJREFUCNdjIAMwCQrB2YKCggJQJqMIA4sglK3owMzgqABVwsDMwCgAZTMbG8PYCHGEeoQ5CPMFFRD2MkFshmpSQLBRJFSJ8wcAEqcEM2uhl2MAAAAASUVORK5CYII=",y.zoomFitImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVBAMAAABbObilAAAAD1BMVEUAAAAAAAAwMDBwcHBgYGC1xl09AAAAAXRSTlMAQObYZgAAAEFJREFUCNdjIAMwCQrB2YKCggJQJqMwA7MglK1owMBgqABVApITwMdGqEeYgzBfUAFhLxPEZqgmBQQbRUKFOH8AAK5OA3lA+FFOAAAAAElFTkSuQmCC",y.layersImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAMAAACeyVWkAAAAaVBMVEUAAAAgICAICAgdHR0PDw8WFhYICAgLCwsXFxcvLy8ODg4uLi4iIiIqKiokJCQYGBgKCgonJycFBQUCAgIqKiocHBwcHBwODg4eHh4cHBwnJycJCQkUFBQqKiojIyMuLi4ZGRkgICAEBATOWYXAAAAAGnRSTlMAD7+fnz8/H7/ff18/77+vr5+fn39/b28fH2xSoKsAAACQSURBVBjTrYxJEsMgDARZZMAY73sgCcn/HxnhKtnk7j6oRq0psfuoyndZ/SuODkHPLzfVT6KeyPePnJ7KrnkRjWMXTn4SMnN8mXe2SSM3ts8L/ZUxxrbAULSYJJULE0Iw9pjpenoICcgcX61mGgTgtCv9Be99pzCoDhNQWQnchD1mup5++CYGcoQexajZbfwAj/0MD8ZOaUgAAAAASUVORK5CYII=",y.zoomOutLargeImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAilBMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////2N2iNAAAALXRSTlMA+vTcKMM96GRBHwXxi0YaX1HLrKWhiHpWEOnOr52Vb2xKSDcT19PKv5l/Ngdk8+viAAABJklEQVQ4y4WT2XaDMAxEvWD2nSSUNEnTJN3r//+9Sj7ILAY6L0ijC4ONYVZRpo6cByrz2YKSUGorGTpz71lPVHvT+avoB5wIkU/mxk8veceSuNoLg44IzziXjvpih72wKQnm8yc2UoiP/LAd8jQfe2Xf4Pq+2EyYIvv9wbzHHCgwxDdlBtWZOdqDfTCVgqpygQpsZaojVAVc9UjQxnAJDIBhiQv84tq3gMQCAVTxVoSibXJf8tMuc7e1TB/DCmejBNg/w1Y3c+AM5vv4w7xM59/oXamrHaLVqPQ+OTCnmMZxgz0SdL5zji0/ld6j88qGa5KIiBB6WeJGKfUKwSMKLuXgvl1TW0tm5R9UQL/efSDYsnzxD8CinhBsTTdugJatKpJwf8v+ADb8QmvW7AeAAAAAAElFTkSuQmCC",y.zoomInLargeImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAilBMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////2N2iNAAAALXRSTlMA+vTcKMM96GRBHwXxi0YaX1HLrKWhiHpWEOnOr52Vb2xKSDcT19PKv5l/Ngdk8+viAAABKElEQVQ4y4WT6WKCMBCENwkBwn2oFKvWqr3L+79es4EkQIDOH2d3Pxk2ABiJlB8JCXjqw4LikHVGLHTm3nM3UeVN5690GBBN0GwyV/3kkrUQR+WeKnREeKpzaXWd77CmJiXGfPIEI4V4yQ9TIW/ntlcMBe731Vts9w5TWG8F5j3mQI4hvrKpdGeYA7CX9qAcl650gVJartxRuhyHVghF8idQAIbFLvCLu28BsQEC6aKtCK6Pyb3JT7PmbmtNH8Ny56CotD/2qOs5cJbuffxgXmCib+xddVU5RNOhkvvkhTlFehzVWCOh3++MYElOhfdovaImnRYVmqDdsuhNp1QrBBE6uGC2+3ZNjGdg5B94oD+9uyVgWT79BwAxEBTWdOu3bWBVgsn/N/AHUD9IC01Oe40AAAAASUVORK5CYII=",y.actualSizeLargeImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAilBMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////2N2iNAAAALXRSTlMA+vTcKMM96GRBHwXxi0YaX1HLrKWhiHpWEOnOr52Vb2xKSDcT19PKv5l/Ngdk8+viAAABIUlEQVQ4y4WT2XqDIBCFBxDc9yTWNEnTJN3r+79eGT4BEbXnaubMr8dBBaM450dCQp4LWFAascGIRd48eB4cNYE7f6XjgGiCFs5c+dml6CFN6j1V6IQIlHPpdV/usKcmJcV88gQTRXjLD9Mhb+fWq8YG9/uCmTCFjeeDeY85UGKIUGUuqzN42kv7oCouq9oHamlzVR1lVfpAIu1QVRiW+sAv7r4FpAYIZZVsRXB9TP5Dfpo1d1trCgzz1iiptH/sUbdz4CzN9+mLeXHn3+hdddd4RDegsrvzwZwSs2GLPRJidAqCLTlVwaMPqpYMWjTWBB2WRW86pVkhSKyDK2bdt2tmagZG4sBD/evdLQHLEvQfAOKRoLCmG1FAB6uKmby+gz+REDn7O5+EwQAAAABJRU5ErkJggg==",y.layersLargeImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAmVBMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+/v7///+bnZkkAAAAMnRSTlMABPr8ByiD88KsTi/rvJb272mjeUA1CuPe1M/KjVxYHxMP6KZ0S9nYzGRGGRaznpGIbzaGUf0AAAHESURBVDjLbZLZYoIwEEVDgLCjbKIgAlqXqt3m/z+uNwu1rcyDhjl3ktnYL7OY254C0VX3yWFZfzDrOClbbgKxi0YDHjwl4jbnRkXxJS/C1YP3DbBhD1n7Ex4uaAqdVDb3yJ/4J/3nJD2to/ngQz/DfUvzMp4JJ5sSCaF5oXmemgQDfDxzbi+Kq4sU+vNcuAmx94JtyOP2DD4Epz2asWSCz4Z/4fECxyNj9zC9xNLHcdPEO+awDKeSaUu0W4twZQiO2hYVisTR3RCtK/c1X6t4xMEpiGqXqVntEBLolkZZsKY4QtwH6jzq67dEHlJysB1aNOD3XT7n1UkasQN59L4yC2RELMDSeCRtz3yV22Ub3ozIUTknYx8JWqDdQxbUes98cR2kZtUSveF/bAhcedwEWmlxIkpZUy4XOCb6VBjjxHvbwo/1lBAHHi2JCr0NI570QhyHq/DhJoE2lLgyA4RVe6KmZ47O/3b86MCP0HWa73A8/C3SUc5Qc1ajt6fgpXJ+RGpMvDSchepZDOOQRcZVIKcK90x2D7etqtI+56+u6n3sPriO6nfphitR4+O2m3EbM7lh3me1FM1o+LMI887rN+s3/wZdTFlpNVJiOAAAAABJRU5ErkJggg==",y.closeLargeImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAUVBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////8IN+deAAAAGnRSTlMAuvAIg/dDM/QlOeuFhj0S5s4vKgzjxJRQNiLSey0AAADNSURBVDjLfZLbEoMgDEQjRRRs1XqX///QNmOHJSnjPkHOGR7IEmeoGtJZstnwjqbRfIsmgEdtPCqe9Ynz7ZSc07rE2QiSc+qv8TvjRXA2PDUm3dpe82iJhOEUfxJJo3aCv+jKmRmH4lcCjCjeh9GWOdL/GZZkXH3PYYDrHBnfc4D/RVZf5sjoC1was+Y6HQxwaUxFvq/a0Pv343VCTxfBSRiB+ab3M3eiQZXmMNBJ3Y8pGRZtYQ7DgHMXJEdPLTaN/qBjzJOBc3nmNcbsA16bMR0oLqf+AAAAAElFTkSuQmCC",y.editLargeImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgAgMAAAAOFJJnAAAACVBMVEUAAAD///////9zeKVjAAAAAnRSTlMAgJsrThgAAABcSURBVBjThc6xDcAgDATAd8MQTEPW8TRUmYCGnzLRYyOlIV+dZFtvkICTFGqiJEzAG0/Uje9oL+e5Vu4F5yUYJxxqGKhQZ0eBvmgwYQLQaARKD1hbiPyDR0QOeAC31EyNe5X/kAAAAABJRU5ErkJggg==",s.default.extend(y,d.default),y.prototype.originalNoForeignObject=l.default.NO_FO,y.prototype.transparentImage=l.default.IS_SVG?"data:image/gif;base64,R0lGODlhMAAwAIAAAP///wAAACH5BAEAAAAALAAAAAAwADAAAAIxhI+py+0Po5y02ouz3rz7D4biSJbmiabqyrbuC8fyTNf2jef6zvf+DwwKh8Si8egpAAA7":IMAGE_PATH+"/transparent.gif",y.prototype.extendCanvas=!0,y.prototype.chromeless=!1,y.prototype.cancelFirst=!0,y.prototype.enabled=!0,y.prototype.filename=null,y.prototype.modified=!1,y.prototype.autosave=!0,y.prototype.initialTopSpacing=0,y.prototype.appName=document.title,y.prototype.editBlankUrl=window.location.protocol+"//"+window.location.host+"/?client=1",y.prototype.editBlankFallbackUrl=window.location.protocol+"//"+window.location.host+"/?create=drawdata&splash=0",y.prototype.init=function(){},y.prototype.setAutosave=function(t){this.autosave=t,this.fireEvent(new n.default("autosaveChanged"))},y.prototype.editAsNew=function(t,e){var i=null!=e?"&title="+encodeURIComponent(e):"";if(void 0!==window.postMessage&&(null==document.documentMode||document.documentMode>=10)){var n=null,l=s.default.bind(this,(function(e){"ready"==e.data&&e.source==n&&(n.postMessage(t,"*"),r.default.removeListener(window,"message",l))}));r.default.addListener(window,"message",l),n=window.open(this.editBlankUrl+i)}else window.drawdata=t,window.open(this.editBlankFallbackUrl+i)},y.prototype.createGraph=function(t,e){var i=new o.default(null,e,null,null,t);return i.transparentBackground=!1,i},y.prototype.resetGraph=function(){this.graph.graphHandler.guidesEnabled=!0,this.graph.setTooltips(!0),this.graph.setConnectable(!0),this.graph.foldingEnabled=!0,this.graph.scrollbars=this.graph.defaultScrollbars,this.graph.pageVisible=this.graph.defaultPageVisible,this.graph.pageBreaksVisible=this.graph.pageVisible,this.graph.preferPageSize=this.graph.pageBreaksVisible,this.graph.background=this.graph.defaultGraphBackground,this.graph.pageScale=a.default.prototype.pageScale,this.graph.pageFormat=a.default.prototype.pageFormat,this.updateGraphComponents(),this.graph.view.setScale(1)},y.prototype.readGraphState=function(t){this.graph.gridEnabled="0"!=t.getAttribute("grid")&&(!this.chromeless||"1"==urlParams.grid),this.graph.gridSize=parseFloat(t.getAttribute("gridSize"))||a.default.prototype.gridSize,this.graph.graphHandler.guidesEnabled="0"!=t.getAttribute("guides"),this.graph.setTooltips("0"!=t.getAttribute("tooltips")),this.graph.setConnectable("0"!=t.getAttribute("connect")),this.graph.connectionArrowsEnabled="0"!=t.getAttribute("arrows"),this.graph.foldingEnabled="0"!=t.getAttribute("fold"),this.chromeless&&this.graph.foldingEnabled&&(this.graph.foldingEnabled="1"==urlParams.nav,this.graph.cellRenderer.forceControlClickHandler=this.graph.foldingEnabled);var e=t.getAttribute("pageScale");if(this.graph.pageScale=null!=e?e:a.default.prototype.pageScale,this.graph.lightbox)this.graph.pageVisible=!1;else{var i=t.getAttribute("page");this.graph.pageVisible=null!=i?"0"!=i:this.graph.defaultPageVisible}this.graph.pageBreaksVisible=this.graph.pageVisible,this.graph.preferPageSize=this.graph.pageBreaksVisible;var n=t.getAttribute("pageWidth"),l=t.getAttribute("pageHeight");null!=n&&null!=l&&(this.graph.pageFormat=new c.default(0,0,parseFloat(n),parseFloat(l)));var r=t.getAttribute("background");null!=r&&r.length>0?this.graph.background=r:this.graph.background=this.graph.defaultGraphBackground},y.prototype.setGraphXml=function(t,e){if(null!=t){var i=new p.default(t.ownerDocument);if("mxGraphModel"==t.nodeName){this.graph.model.beginUpdate();try{this.graph.model.clear(),"wf_viewflowchartmobile"==e&&(this.graph.view.scale=.8),this.readGraphState(t),this.updateGraphComponents(),i.decode(t,this.graph.getModel())}finally{this.graph.model.endUpdate()}}else{if("root"!=t.nodeName)throw{message:u.default.get("cannotOpenFile"),node:t,toString:function(){return this.message}};this.resetGraph();var l=i.document.createElement("mxGraphModel");l.appendChild(t),i.decode(l,this.graph.getModel()),this.updateGraphComponents(),this.fireEvent(new n.default("resetGraphView"))}}else this.resetGraph(),this.graph.model.clear(),this.fireEvent(new n.default("resetGraphView"))},y.prototype.getGraphXml=function(t){var e=null;(t=null==t||t)?e=new p.default(f.default.createXmlDocument()).encode(this.graph.getModel()):e=this.graph.encodeCells(this.graph.getSelectionCells());return 0==this.graph.view.translate.x&&0==this.graph.view.translate.y||(e.setAttribute("dx",Math.round(100*this.graph.view.translate.x)/100),e.setAttribute("dy",Math.round(100*this.graph.view.translate.y)/100)),e.setAttribute("grid",this.graph.isGridEnabled()?"1":"0"),e.setAttribute("gridSize",this.graph.gridSize),e.setAttribute("guides",this.graph.graphHandler.guidesEnabled?"1":"0"),e.setAttribute("tooltips",this.graph.tooltipHandler.isEnabled()?"1":"0"),e.setAttribute("connect",this.graph.connectionHandler.isEnabled()?"1":"0"),e.setAttribute("arrows",this.graph.connectionArrowsEnabled?"1":"0"),e.setAttribute("fold",this.graph.foldingEnabled?"1":"0"),e.setAttribute("page",this.graph.pageVisible?"1":"0"),e.setAttribute("pageScale",this.graph.pageScale),e.setAttribute("pageWidth",this.graph.pageFormat.width),e.setAttribute("pageHeight",this.graph.pageFormat.height),null!=this.graph.background&&e.setAttribute("background",this.graph.background),e},y.prototype.updateGraphComponents=function(){var t=this.graph;null!=t.container&&(t.view.validateBackground(),t.container.style.overflow=t.scrollbars?"auto":"hidden",this.fireEvent(new n.default("updateGraphComponents")))},y.prototype.setModified=function(t){this.modified=t},y.prototype.setFilename=function(t){this.filename=t},y.prototype.createUndoManager=function(){var t=this.graph,e=new h.default;this.undoListener=function(t,i){e.undoableEditHappened(i.getProperty("edit"))};var i=s.default.bind(this,(function(t,e){this.undoListener.apply(this,arguments)}));t.getModel().addListener(r.default.UNDO,i),t.getView().addListener(r.default.UNDO,i);var n=function(e,i){for(var n=t.getSelectionCellsForChanges(i.getProperty("edit").changes),l=t.getModel(),a=[],r=0;r<n.length;r++)(l.isVertex(n[r])||l.isEdge(n[r]))&&null!=t.view.getState(n[r])&&a.push(n[r]);t.setSelectionCells(a)};return e.addListener(r.default.UNDO,n),e.addListener(r.default.REDO,n),e},y.prototype.initStencilRegistry=function(){},y.prototype.destroy=function(){null!=this.graph&&(this.graph.destroy(),this.graph=null)};e.default=y},129200:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(241872),i(820444),i(297336),i(571176);var n=h(i(370608)),l=h(i(25861)),a=h(i(742288)),r=h(i(11131)),o=h(i(273848)),s=h(i(790448)),u=h(i(132448)),d=h(i(589740));function h(t){return t&&t.__esModule?t:{default:t}}var c=function t(e){var i,h,c=e.editor.graph,p=c.getGraphBounds(),f=c.view.scale,g=Math.ceil(p.width/f),y=Math.ceil(p.height/f),m=document.createElement("table"),v=document.createElement("tbody");i=document.createElement("tr"),(h=document.createElement("td")).style.fontSize="10pt",h.style.width="100px",a.default.write(h,r.default.get("filename")+":"),i.appendChild(h);var E=document.createElement("input");E.setAttribute("value",e.editor.getOrCreateFilename()),E.style.width="180px",(h=document.createElement("td")).appendChild(E),i.appendChild(h),v.appendChild(i),i=document.createElement("tr"),(h=document.createElement("td")).style.fontSize="10pt",a.default.write(h,r.default.get("format")+":"),i.appendChild(h);var b=document.createElement("select");b.style.width="180px";var S=document.createElement("option");S.setAttribute("value","png"),a.default.write(S,r.default.get("formatPng")),b.appendChild(S);var w=document.createElement("option");t.showGifOption&&(w.setAttribute("value","gif"),a.default.write(w,r.default.get("formatGif")),b.appendChild(w));var A=document.createElement("option");A.setAttribute("value","jpg"),a.default.write(A,r.default.get("formatJpg")),b.appendChild(A);var C=document.createElement("option");C.setAttribute("value","pdf"),a.default.write(C,r.default.get("formatPdf")),b.appendChild(C);var T=document.createElement("option");if(T.setAttribute("value","svg"),a.default.write(T,r.default.get("formatSvg")),b.appendChild(T),t.showXmlOption){var M=document.createElement("option");M.setAttribute("value","xml"),a.default.write(M,r.default.get("formatXml")),b.appendChild(M)}(h=document.createElement("td")).appendChild(b),i.appendChild(h),v.appendChild(i),i=document.createElement("tr"),(h=document.createElement("td")).style.fontSize="10pt",a.default.write(h,r.default.get("backgroundColor")+":"),i.appendChild(h);var x=document.createElement("input"),I=null==c.background||c.background==s.default.NONE?"#ffffff":c.background;x.setAttribute("value",I),x.style.width="80px";var L=document.createElement("input");L.setAttribute("type","checkbox"),L.checked=null==c.background||c.background==s.default.NONE,(h=document.createElement("td")).appendChild(x),h.appendChild(L),a.default.write(h,r.default.get("transparent")),i.appendChild(h),v.appendChild(i),i=document.createElement("tr"),(h=document.createElement("td")).style.fontSize="10pt",a.default.write(h,r.default.get("width")+":"),i.appendChild(h);var N=document.createElement("input");N.setAttribute("value",g),N.style.width="180px",(h=document.createElement("td")).appendChild(N),i.appendChild(h),v.appendChild(i),i=document.createElement("tr"),(h=document.createElement("td")).style.fontSize="10pt",a.default.write(h,r.default.get("height")+":"),i.appendChild(h);var O=document.createElement("input");O.setAttribute("value",y),O.style.width="180px",(h=document.createElement("td")).appendChild(O),i.appendChild(h),v.appendChild(i),i=document.createElement("tr"),(h=document.createElement("td")).style.fontSize="10pt",a.default.write(h,r.default.get("borderWidth")+":"),i.appendChild(h);var D=document.createElement("input");function R(){var t=E.value,e=t.lastIndexOf(".");E.value=e>0?t.substring(0,e+1)+b.value:t+"."+b.value,"xml"===b.value?(N.setAttribute("disabled","true"),O.setAttribute("disabled","true"),D.setAttribute("disabled","true")):(N.removeAttribute("disabled"),O.removeAttribute("disabled"),D.removeAttribute("disabled")),"png"===b.value||"svg"===b.value?L.removeAttribute("disabled"):L.setAttribute("disabled","disabled")}function _(){N.value*O.value>MAX_AREA||N.value<=0?N.style.backgroundColor="red":N.style.backgroundColor="",N.value*O.value>MAX_AREA||O.value<=0?O.style.backgroundColor="red":O.style.backgroundColor=""}D.setAttribute("value",g),D.style.width="180px",D.value="0",(h=document.createElement("td")).appendChild(D),i.appendChild(h),v.appendChild(i),m.appendChild(v),n.default.addListener(b,"change",R),R(),n.default.addListener(N,"change",(function(){O.value=g>0?Math.ceil(parseInt(N.value)*y/g):"0",_()})),n.default.addListener(O,"change",(function(){N.value=y>0?Math.ceil(parseInt(O.value)*g/y):"0",_()}));var P=new o.default;i=document.createElement("tr"),(h=document.createElement("td")).setAttribute("align","right"),h.style.paddingTop="24px",h.colSpan=2;var k=u.default.button(r.default.get("export"),a.default.bind(this,(function(){if(parseInt(N.value)<=0&&parseInt(O.value)<=0)u.default.alert(r.default.get("drawingEmpty"));else{var i=b.value,n=E.value;if("xml"==i)e.hideDialog(),t.saveLocalFile(u.default.getXml(e.editor.getGraphXml()),n,i);else if("svg"==i){var a=u.default.getXml(function(){var t=Math.max(0,parseInt(D.value))+1,e=parseInt(N.value)/g,i=null;return""==x.value||x.value==s.default.NONE||L.checked||(i=x.value),c.getSvg(i,e,t)}());a.length<MAX_REQUEST_SIZE?(e.hideDialog(),t.saveLocalFile(a,n,i)):(u.default.alert(r.default.get("drawingTooLarge")),u.default.popup(a))}else{var o=null,h=parseInt(N.value)||0,p=parseInt(O.value)||0,f=Math.max(0,parseInt(D.value))+1,y=t.getExportParameter(e,i);if("function"==typeof y)o=y();else{var m=parseInt(N.value)/g,v=c.getGraphBounds(),S=c.view.scale,w=u.default.createXmlDocument(),A=w.createElement("output");w.appendChild(A);var C=new d.default(A);C.translate(Math.floor((f/m-v.x)/S),Math.floor((f/m-v.y)/S)),C.scale(m/S),P.drawState(c.getView().getState(c.model.root),C),h=Math.ceil(v.width*m/S+2*f),p=Math.ceil(v.height*m/S+2*f),o="xml="+encodeURIComponent(u.default.getXml(A))}if(null!=o&&o.length<=MAX_REQUEST_SIZE&&h*p<MAX_AREA){var T="&bg=none";""==x.value||x.value==s.default.NONE||"png"==i&&L.checked||(T="&bg="+x.value),e.hideDialog();var M=decodeURIComponent(o.substring(o.indexOf("=")+1));t.saveRequest(M,n,i,(function(t,e){return new l.default(EXPORT_URL,"format="+i+"&base64="+(e||"0")+(null!=t?"&filename="+encodeURIComponent(t):"")+T+"&w="+h+"&h="+p+"&border="+f+"&"+o)}))}else u.default.alert(r.default.get("drawingTooLarge"))}}})));k.className="geBtn gePrimaryBtn";var H=u.default.button(r.default.get("cancel"),(function(){e.hideDialog()}));H.className="geBtn",e.editor.cancelFirst?(h.appendChild(H),h.appendChild(k)):(h.appendChild(k),h.appendChild(H)),i.appendChild(h),v.appendChild(i),m.appendChild(v),this.container=m};c.showGifOption=!0,c.showXmlOption=!0,c.saveLocalFile=function(t,e,i){new l.default(SAVE_URL,"xml="+encodeURIComponent(t)+"&filename="+encodeURIComponent(e)+"&format="+i).simulate(document,"_blank")},c.saveRequest=function(t,e,i,n){n(e).simulate(document,"_blank")},c.getExportParameter=function(t,e){return null};e.default=c},911484:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(i(22676)),l=s(i(370608)),a=s(i(742288)),r=s(i(11131)),o=s(i(132448));function s(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e,i,s,u,d,h,c,p){var f,g;p=null==p||p;var y=document.createElement("table"),m=document.createElement("tbody");y.style.marginTop="8px",f=document.createElement("tr"),(g=document.createElement("td")).style.fontSize="10pt",g.style.width="120px",a.default.write(g,(u||r.default.get("filename"))+":"),f.appendChild(g);var v=document.createElement("input");v.setAttribute("value",e||""),v.style.width="180px";var E=o.default.button(i,(function(){(null==d||d(v.value))&&(p&&t.hideDialog(),s(v.value))}));E.className="geBtn gePrimaryBtn",this.init=function(){null==u&&null!=h||(v.focus(),n.default.IS_FF||document.documentMode>=5||n.default.IS_QUIRKS?v.select():document.execCommand("selectAll",!1,null))},(g=document.createElement("td")).appendChild(v),f.appendChild(g),null==u&&null!=h||m.appendChild(f),null!=h&&(f=document.createElement("tr"),(g=document.createElement("td")).colSpan=2,g.appendChild(h),f.appendChild(g),m.appendChild(f)),f=document.createElement("tr"),(g=document.createElement("td")).colSpan=2,g.style.paddingTop="20px",g.style.whiteSpace="nowrap",g.setAttribute("align","right");var b=o.default.button(r.default.get("cancel"),(function(){t.hideDialog()}));if(b.className="geBtn",t.editor.cancelFirst&&g.appendChild(b),null!=c){var S=o.default.button(r.default.get("help"),(function(){window.open(c)}));S.className="geBtn",g.appendChild(S)}l.default.addListener(v,"keypress",(function(t){13==t.keyCode&&E.click()})),g.appendChild(E),t.editor.cancelFirst||g.appendChild(b),f.appendChild(g),m.appendChild(f),y.appendChild(m),this.container=y}},403648:function(t,e,i){"use strict";i(182320),i(909112),i(697060),i(743924),i(606200),i(78504),i(977864),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(9692),i(106208),i(241872),i(686456),i(820444),i(693917),i(976896),i(297336),i(387912),i(763600),i(633768),i(690512),i(218080),i(513640),i(86744);var n=L(i(995048)),l=L(i(257784)),a=L(i(430264)),r=L(i(498096)),o=L(i(370608)),s=L(i(180800)),u=L(i(339024)),d=L(i(300511)),h=L(i(247644)),c=L(i(956392)),p=L(i(72644)),f=L(i(22676)),g=L(i(655696)),y=L(i(865960)),m=L(i(164460)),v=L(i(736616)),E=L(i(11131)),b=L(i(742288)),S=L(i(668624)),w=L(i(790448)),A=L(i(132448)),C=L(i(886136)),T=L(i(469524)),M=L(i(53108)),x=i(303528),I=i(384904);function L(t){return t&&t.__esModule?t:{default:t}}function N(t){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N(t)}var O=function t(e,i,n,l,a){r.default.call(this,e,i,n,l),this.themes=a||this.defaultThemes;var p=this.baseUrl,E=p.indexOf("//");if(this.domainUrl="",this.domainPathUrl="",E>0){var S=p.indexOf("/",E+2);S>0&&(this.domainUrl=p.substring(0,S)),(S=p.lastIndexOf("/"))>0&&(this.domainPathUrl=p.substring(0,S+1))}if(this.isHtmlLabel=function(t){var e=this.view.getState(t),i=null!=e?e.style:this.getCellStyle(t);return"1"==i.html||"wrap"==i[w.default.STYLE_WHITE_SPACE]},this.edgeMode){var x={point:null,event:null,state:null,handle:null,selected:!1};this.addListener(o.default.FIRE_MOUSE_EVENT,b.default.bind(this,(function(t,e){if("mouseDown"==e.getProperty("eventName")&&this.isEnabled()){var i=e.getProperty("event");if(!o.default.isControlDown(i.getEvent())&&!o.default.isShiftDown(i.getEvent())){var n=i.getState();if(null!=n&&this.model.isEdge(n.cell))if(x.point=new m.default(i.getGraphX(),i.getGraphY()),x.selected=this.isCellSelected(n.cell),x.state=n,x.event=i,null!=n.text&&null!=n.text.boundingBox&&A.default.contains(n.text.boundingBox,i.getGraphX(),i.getGraphY()))x.handle=o.default.LABEL_HANDLE;else{var l=this.selectionCellsHandler.getHandler(n.cell);null!=l&&null!=l.bends&&l.bends.length>0&&(x.handle=l.getHandleForEvent(i))}}}})));this.addMouseListener({mouseDown:function(t,e){},mouseMove:b.default.bind(this,(function(t,e){if(this.isEnabled()&&!this.panningHandler.isActive()&&!o.default.isControlDown(e.getEvent())&&!o.default.isShiftDown(e.getEvent())&&!o.default.isAltDown(e.getEvent())){var i=this.tolerance;if(null!=x.point&&null!=x.state&&null!=x.event){var n=x.state;if(Math.abs(x.point.x-e.getGraphX())>i*this.view.scale||Math.abs(x.point.y-e.getGraphY())>i*this.view.scale){this.isCellSelected(n.cell)||this.setSelectionCell(n.cell);var l=this.selectionCellsHandler.getHandler(n.cell);if(null!=l&&null!=l.bends&&l.bends.length>0){var a=l.getHandleForEvent(x.event),r=this.view.getEdgeStyle(n),s=r==C.default.EntityRelation;if(x.selected||x.handle!=o.default.LABEL_HANDLE||(a=x.handle),s&&0!=a&&a!=l.bends.length-1&&a!=o.default.LABEL_HANDLE)!s||null==n.visibleSourceState&&null==n.visibleTargetState||(this.graphHandler.reset(),e.consume());else if(a==o.default.LABEL_HANDLE||0==a||null!=n.visibleSourceState||a==l.bends.length-1||null!=n.visibleTargetState){if(!s&&a!=o.default.LABEL_HANDLE){if(null!=(d=n.absolutePoints)&&(null==r&&null==a||r==C.default.OrthConnector))if(null==(a=x.handle))if((c=new h.default(x.point.x,x.point.y)).grow(u.default.prototype.handleImage.width/2),A.default.contains(c,d[0].x,d[0].y))a=0;else if(A.default.contains(c,d[d.length-1].x,d[d.length-1].y))a=l.bends.length-1;else{null!=r&&(2==d.length||3==d.length&&(0==Math.round(d[0].x-d[1].x)&&0==Math.round(d[1].x-d[2].x)||0==Math.round(d[0].y-d[1].y)&&0==Math.round(d[1].y-d[2].y)))?a=2:(a=A.default.findNearestSegment(n,x.point.x,x.point.y),null==r?a=o.default.VIRTUAL_HANDLE-a:a+=1)}null==a&&(a=o.default.VIRTUAL_HANDLE)}l.start(e.getGraphX(),e.getGraphX(),a),x.state=null,x.event=null,x.point=null,x.handle=null,x.selected=!1,e.consume(),this.graphHandler.reset()}}}}else{if(null!=(n=e.getState())&&this.model.isEdge(n.cell)){var d,c,p=null;if(null!=(d=n.absolutePoints))if((c=new h.default(e.getGraphX(),e.getGraphY())).grow(u.default.prototype.handleImage.width/2),null!=n.text&&null!=n.text.boundingBox&&A.default.contains(n.text.boundingBox,e.getGraphX(),e.getGraphY()))p="move";else if(A.default.contains(c,d[0].x,d[0].y)||A.default.contains(c,d[d.length-1].x,d[d.length-1].y))p="pointer";else if(null!=n.visibleSourceState||null!=n.visibleTargetState){if(p="crosshair",this.view.getEdgeStyle(n)!=C.default.EntityRelation&&this.isOrthogonal(n)){var f=A.default.findNearestSegment(n,e.getGraphX(),e.getGraphY());f<d.length-1&&f>=0&&(p=0==Math.round(d[f].x-d[f+1].x)?"col-resize":"row-resize")}}null!=p&&n.setCursor(p)}}}})),mouseUp:b.default.bind(this,(function(t,e){x.state=null,x.event=null,x.point=null,x.handle=null}))})}if(this.cellRenderer.getLabelValue=function(t){var e=c.default.prototype.getLabelValue.apply(this,arguments);return t.view.graph.isHtmlLabel(t.cell)&&(e=1!=t.style.html?b.default.htmlEntities(e,!1):t.view.graph.sanitizeHtml(e)),e},void 0!==M.default){this.setConnectable(!0),this.setDropEnabled(!0),this.setPanning(!0),this.setTooltips(!0),this.setAllowLoops(!0),this.allowAutoPanning=!0,this.resetEdgesOnConnect=!1,this.constrainChildren=!1,this.constrainRelativeChildren=!0,this.graphHandler.scrollOnMove=!1,this.graphHandler.scaleGrid=!0,this.connectionHandler.setCreateTarget(!1),this.connectionHandler.insertBeforeSource=!0,this.connectionHandler.isValidSource=function(t,e){return!1},this.alternateEdgeStyle="vertical",null==l&&this.loadStylesheet();var I=this.graphHandler.getGuideStates;this.graphHandler.getGuideStates=function(){var t=I.apply(this,arguments);if(this.graph.pageVisible){for(var e=[],i=this.graph.pageFormat,n=this.graph.pageScale,l=i.width*n,a=i.height*n,r=this.graph.view.translate,o=this.graph.view.scale,s=this.graph.getPageLayout(),u=0;u<s.width;u++)e.push(new h.default(((s.x+u)*l+r.x)*o,(s.y*a+r.y)*o,l*o,a*o));for(var d=0;d<s.height;d++)e.push(new h.default((s.x*l+r.x)*o,((s.y+d)*a+r.y)*o,l*o,a*o));t=e.concat(t)}return t},T.default.prototype.dragElementZIndex=d.default.prototype.zIndex,g.default.prototype.getGuideColor=function(t,e){return null==t.cell?"#ffa500":w.default.GUIDE_COLOR},this.graphHandler.createPreviewShape=function(t){return this.previewColor="#000000"==this.graph.background?"#ffffff":v.default.prototype.previewColor,v.default.prototype.createPreviewShape.apply(this,arguments)},this.graphHandler.getCells=function(t){for(var e=v.default.prototype.getCells.apply(this,arguments),i=[],n=0;n<e.length;n++){var l=this.graph.view.getState(e[n]),a=null!=l?l.style:this.graph.getCellStyle(e[n]);if("1"==b.default.getValue(a,"part","0")){var r=this.graph.model.getParent(e[n]);this.graph.model.isVertex(r)&&b.default.indexOf(e,r)<0&&i.push(r)}else i.push(e[n])}return i};var L=this,N=function(t,e,i){if(null!=t){var n=L.getModel(),l=n.getGeometry(t.cell);if(null!=l&&l.relative&&!n.isEdge(t.cell)){var a=n.getParent(t.cell);if(n.isVertex(a)){var r=L.view.getState(a);if(null!=r){var o=L.view.scale,s=t.x+e,u=t.y+i;return null!=l.offset&&(s-=l.offset.x*o,u-=l.offset.y*o),s=(s-r.x)/r.width,u=(u-r.y)/r.height,Math.abs(u-.5)<=Math.abs((s-.5)/2)?(s=s>.5?1:0,u=Math.min(1,Math.max(0,u))):(s=Math.min(1,Math.max(0,s)),u=u>.5?1:0),new m.default(s,u)}}}}return null};this.translateCell=function(t,e,i){if(b.default.isBoundaryEvent(t.getType())){var n=N(this.view.getState(t),e*L.view.scale,i*L.view.scale);if(null!=n){var l=this.model.getGeometry(t);null!=l&&l.relative&&((l=l.clone()).x=n.x,l.y=n.y,this.model.setGeometry(t,l))}else r.default.prototype.translateCell.apply(this,arguments)}else r.default.prototype.translateCell.apply(this,arguments)},this.graphHandler.getDelta=function(t){var e=this.graph.getSelectionCell();if(e&&b.default.isBoundaryEvent(e.getType())){var i=A.default.convertPoint(this.graph.container,t.getX(),t.getY()),n=new m.default(i.x-this.first.x,i.y-this.first.y);if(null!=this.cells&&this.cells.length>0&&null!=this.cells[0]){var l=this.graph.view.getState(this.cells[0]),a=N(l,n.x,n.y);if(null!=a){var r=this.graph.view.getState(this.graph.model.getParent(l.cell));null!=r&&(n=new m.default(r.x+r.width*a.x-l.getCenterX(),r.y+r.height*a.y-l.getCenterY()))}}return n}return v.default.prototype.getDelta.apply(this,arguments)},this.connectionHandler.createTargetVertex=function(t,e){var i=this.graph.view.getState(e),n=null!=i?i.style:this.graph.getCellStyle(e);if(b.default.getValue(n,"part",!1)){var l=this.graph.model.getParent(e);this.graph.model.isVertex(l)&&(e=l)}return s.default.prototype.createTargetVertex.apply(this,arguments)};var O=new y.default(this);this.getRubberband=function(){return O};var D=(new Date).getTime(),R=0,_=this.connectionHandler.mouseMove;this.connectionHandler.mouseMove=function(){var t=this.currentState;_.apply(this,arguments),t!=this.currentState?(D=(new Date).getTime(),R=0):R=(new Date).getTime()-D};var P=this.connectionHandler.isOutlineConnectEvent;this.connectionHandler.isOutlineConnectEvent=function(t){return null!=this.currentState&&t.getState()==this.currentState&&R>2e3||(null==this.currentState||"0"!=b.default.getValue(this.currentState.style,"outlineConnect","1"))&&P.apply(this,arguments)};var k=this.isToggleEvent;this.isToggleEvent=function(t){return k.apply(this,arguments)||o.default.isShiftDown(t)};var H=O.isForceRubberbandEvent;O.isForceRubberbandEvent=function(t){return H.apply(this,arguments)||A.default.hasScrollbars(this.graph.container)&&f.default.IS_FF&&f.default.IS_WIN&&null==t.getState()&&o.default.isTouchEvent(t.getEvent())};var G=null;this.panningHandler.addListener(o.default.PAN_START,b.default.bind(this,(function(){this.isEnabled()&&(G=this.container.style.cursor,this.container.style.cursor="move")}))),this.panningHandler.addListener(o.default.PAN_END,b.default.bind(this,(function(){this.isEnabled()&&(this.container.style.cursor=G)}))),this.popupMenuHandler.autoExpand=!0,this.popupMenuHandler.isSelectOnPopup=function(t){return o.default.isMouseEvent(t.getEvent())};var B=this.click;this.click=function(t){if(this.isEnabled()||t.isConsumed())return B.apply(this,arguments);var e=t.getCell();if(null!=e){var i=this.getLinkForCell(e);null!=i&&window.open(i)}};var z=this.getCursorForCell;this.getCursorForCell=function(t){return this.isEnabled()?z.apply(this,arguments):null!=this.getLinkForCell(t)?"pointer":void 0},this.selectRegion=function(t,e){var i=this.getAllCells(t.x,t.y,t.width,t.height);return this.selectCellsForEvent(i,e),i},this.getAllCells=function(t,e,i,n,l,a){if(a=null!=a?a:[],i>0||n>0){var r=this.getModel(),o=t+i,s=e+n;if(null==l&&null==(l=this.getCurrentRoot())&&(l=r.getRoot()),null!=l)for(var u=r.getChildCount(l),d=0;d<u;d++){var h=r.getChildAt(l,d),c=this.view.getState(h);if(null!=c&&this.isCellVisible(h)&&"1"!=b.default.getValue(c.style,"locked","0")){var p=b.default.getValue(c.style,w.default.STYLE_ROTATION)||0,f=c;0!=p&&(f=A.default.getBoundingBox(f,p)),(r.isEdge(h)||r.isVertex(h))&&f.x>=t&&f.y+f.height<=s&&f.y>=e&&f.x+f.width<=o&&a.push(h),this.getAllCells(t,e,i,n,h,a)}}}return a};var F=this.graphHandler.shouldRemoveCellsFromParent;this.graphHandler.shouldRemoveCellsFromParent=function(t,e,i){return!this.graph.isCellSelected(t)&&F.apply(this,arguments)},this.isCellLocked=function(t){for(var e=this.view.getState(t);null!=e;){if("1"==b.default.getValue(e.style,"locked","0"))return!0;e=this.view.getState(this.model.getParent(e.cell))}return!1};var V=null;this.addListener(o.default.FIRE_MOUSE_EVENT,b.default.bind(this,(function(t,e){if("mouseDown"==e.getProperty("eventName")){var i=e.getProperty("event").getState();V=null==i||this.isSelectionEmpty()||this.isCellSelected(i.cell)?null:this.getSelectionCells()}}))),this.addListener(o.default.TAP_AND_HOLD,b.default.bind(this,(function(t,e){if(!o.default.isMultiTouchEvent(e)){var i=e.getProperty("event"),n=e.getProperty("cell");if(null==n){var l=A.default.convertPoint(this.container,o.default.getClientX(i),o.default.getClientY(i));O.start(l.x,l.y)}else null!=V?this.addSelectionCells(V):this.getSelectionCount()>1&&this.isCellSelected(n)&&this.removeSelectionCell(n);V=null,e.consume()}}))),this.connectionHandler.selectCells=function(t,e){this.graph.setSelectionCell(e||t)},this.connectionHandler.constraintHandler.isStateIgnored=function(t,e){return e&&t.view.graph.isCellSelected(t.cell)},this.selectionModel.addListener(o.default.CHANGE,b.default.bind(this,(function(){var t=this.connectionHandler.constraintHandler;null!=t.currentFocus&&t.isStateIgnored(t.currentFocus,!0)&&(t.currentFocus=null,t.constraints=null,t.destroyIcons()),t.destroyFocusHighlight()}))),t.touchStyle&&this.initTouch();var U=this.updateMouseEvent;this.updateMouseEvent=function(t){return t=U.apply(this,arguments),this.isCellLocked(t.getCell())&&(t.state=null),t}}};function D(t){var e=t.getPreferredPageSize(),i=t.view.translate;return{upperLeft:{x:i.x,y:i.y},lowerRight:{x:e.width,y:e.height}}}O.touchStyle=f.default.IS_TOUCH||f.default.IS_FF&&f.default.IS_WIN||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0||null==window.urlParams||"1"==urlParams.touch,O.fileSupport=null!=window.File&&null!=window.FileReader&&null!=window.FileList&&(null==window.urlParams||"0"!=urlParams.filesupport),b.default.extend(O,r.default),O.prototype.minFitScale=null,O.prototype.maxFitScale=null,O.prototype.linkTarget="_blank",O.prototype.defaultScrollbars=!0,O.prototype.defaultPageVisible=!0,O.prototype.lightbox=!1,O.prototype.configurePageCount=0,O.prototype.pageId=null,O.prototype.defaultGraphBackground="#ffffff",O.prototype.transparentBackground=!0,O.prototype.defaultEdgeLength=80,O.prototype.edgeMode=!1,O.prototype.connectionArrowsEnabled=!0,O.prototype.placeholderPattern=new RegExp("%(date{.*}|[^%^{^}]+)%","g"),O.prototype.defaultThemeName="default",O.prototype.defaultThemes={},O.prototype.baseUrl=window.location!=window.parent.location?document.referrer:document.location.toString(),O.prototype.init=function(t){r.default.prototype.init.apply(this,arguments),this.initLayoutManager()},O.prototype.initLayoutManager=function(){this.layoutManager=new S.default(this),this.layoutManager.getLayout=function(t){var e=this.graph.view.getState(t),i=null!=e?e.style:this.graph.getCellStyle(t);if("stackLayout"==i.childLayout){var n=new l.default(this.graph,!0);return n.resizeParentMax=!0,n.horizontal="1"==b.default.getValue(i,"horizontalStack","1"),n.resizeParent="1"==b.default.getValue(i,"resizeParent","1"),n.resizeLast="1"==b.default.getValue(i,"resizeLast","0"),n.marginLeft=i.marginLeft||0,n.marginRight=i.marginRight||0,n.marginTop=i.marginTop||0,n.marginBottom=i.marginBottom||0,n.fill=!0,n}if("treeLayout"==i.childLayout){var r=new p.default(this.graph);return r.horizontal="1"==b.default.getValue(i,"horizontalTree","1"),r.resizeParent="1"==b.default.getValue(i,"resizeParent","1"),r.groupPadding=b.default.getValue(i,"parentPadding",20),r.levelDistance=b.default.getValue(i,"treeLevelDistance",30),r.maintainParentLocation=!0,r.edgeRouting=!1,r.resetEdges=!1,r}if("flowLayout"==i.childLayout){var o=new a.default(this.graph,b.default.getValue(i,"flowOrientation",w.default.DIRECTION_EAST));return o.resizeParent="1"==b.default.getValue(i,"resizeParent","1"),o.parentBorder=b.default.getValue(i,"parentPadding",20),o.maintainParentLocation=!0,o.intraCellSpacing=b.default.getValue(i,"intraCellSpacing",a.default.prototype.intraCellSpacing),o.interRankCellSpacing=b.default.getValue(i,"interRankCellSpacing",a.default.prototype.interRankCellSpacing),o.interHierarchySpacing=b.default.getValue(i,"interHierarchySpacing",a.default.prototype.interHierarchySpacing),o.parallelEdgeSpacing=b.default.getValue(i,"parallelEdgeSpacing",a.default.prototype.parallelEdgeSpacing),o}return null}},O.prototype.sanitizeHtml=function(t){return(0,I.sanitize)(t,(function(t){return null!=t&&"javascript:"!==t.toString().toLowerCase().substring(0,11)?t:null}),(function(t){return t}))},O.prototype.updatePlaceholders=function(){this.model;var t=!1;for(var e in this.model.cells){var i=this.model.cells[e];this.isReplacePlaceholders(i)&&(this.view.invalidate(i,!1,!1),t=!0)}t&&this.view.validate()},O.prototype.isReplacePlaceholders=function(t){return null!=t.value&&"object"==N(t.value)},O.prototype.isIgnoreTerminalEvent=function(t){return o.default.isShiftDown(t)&&o.default.isControlDown(t)},O.prototype.isSplitTarget=function(t,e,i){return!o.default.isShiftDown(i)&&r.default.prototype.isSplitTarget.apply(this,arguments)},O.prototype.getLabel=function(t){var e=r.default.prototype.getLabel.apply(this,arguments);return null!=e&&this.isReplacePlaceholders(t)&&null==t.getAttribute("placeholder")&&(e=this.replacePlaceholders(t,e)),e},O.prototype.isLabelMovable=function(t){var e=this.view.getState(t),i=null!=e?e.style:this.getCellStyle(t);return!this.isCellLocked(t)&&(this.model.isEdge(t)&&this.edgeLabelsMovable||this.model.isVertex(t)&&(this.vertexLabelsMovable||"1"==b.default.getValue(i,"labelMovable","0")))},r.default.prototype.setGridSize=function(t){this.gridSize=t,this.fireEvent(new n.default("gridSizeChanged"))},O.prototype.getGlobalVariable=function(t){var e=null;if("date"==t)e=(new Date).toLocaleDateString();else if("time"==t)e=(new Date).toLocaleTimeString();else if("timestamp"==t)e=(new Date).toLocaleString();else if("date{"==t.substring(0,5)){var i=t.substring(5,t.length-1);e=this.formatDate(new Date,i)}return e},O.prototype.formatDate=function(t,e,i){null==this.dateFormatCache&&(this.dateFormatCache={i18n:{dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},masks:{default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"}});var n=this.dateFormatCache,l=function(t,e){for(t=String(t),e=e||2;t.length<e;)t="0"+t;return t};if(1!=arguments.length||"[object String]"!=Object.prototype.toString.call(t)||/\d/.test(t)||(e=t,t=void 0),t=t?new Date(t):new Date,isNaN(t))throw SyntaxError("invalid date");"UTC:"==(e=String(n.masks[e]||e||n.masks.default)).slice(0,4)&&(e=e.slice(4),i=!0);var a=i?"getUTC":"get",r=t[a+"Date"](),o=t[a+"Day"](),s=t[a+"Month"](),u=t[a+"FullYear"](),d=t[a+"Hours"](),h=t[a+"Minutes"](),c=t[a+"Seconds"](),p=t[a+"Milliseconds"](),f=i?0:t.getTimezoneOffset(),g={d:r,dd:l(r),ddd:n.i18n.dayNames[o],dddd:n.i18n.dayNames[o+7],m:s+1,mm:l(s+1),mmm:n.i18n.monthNames[s],mmmm:n.i18n.monthNames[s+12],yy:String(u).slice(2),yyyy:u,h:d%12||12,hh:l(d%12||12),H:d,HH:l(d),M:h,MM:l(h),s:c,ss:l(c),l:l(p,3),L:l(p>99?Math.round(p/10):p),t:d<12?"a":"p",tt:d<12?"am":"pm",T:d<12?"A":"P",TT:d<12?"AM":"PM",Z:i?"UTC":(String(t).match(/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g)||[""]).pop().replace(/[^-+\dA-Z]/g,""),o:(f>0?"-":"+")+l(100*Math.floor(Math.abs(f)/60)+Math.abs(f)%60,4),S:["th","st","nd","rd"][r%10>3?0:(r%100-r%10!=10)*r%10]};return e.replace(/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,(function(t){return t in g?g[t]:t.slice(1,t.length-1)}))},O.prototype.createLayersDialog=function(){var t=document.createElement("div");t.style.position="absolute";for(var e=this.getModel(),i=e.getChildCount(e.root),n=0;n<i;n++)!function(i){var n=document.createElement("div");n.style.overflow="hidden",n.style.textOverflow="ellipsis",n.style.padding="2px",n.style.whiteSpace="nowrap";var l=document.createElement("input");l.setAttribute("type","checkbox"),e.isVisible(i)&&(l.setAttribute("checked","checked"),l.defaultChecked=!0),n.appendChild(l);var a=i.value||E.default.get("background")||"Background";n.setAttribute("title",a),b.default.write(n,a),t.appendChild(n),o.default.addListener(l,"click",(function(){null!=l.getAttribute("checked")?l.removeAttribute("checked"):l.setAttribute("checked","checked"),e.setVisible(i,l.checked)}))}(e.getChildAt(e.root,n));return t},O.prototype.replacePlaceholders=function(t,e){for(var i=[],n=0;match=this.placeholderPattern.exec(e);){var l=match[0];if(l.length>2&&"%label%"!=l&&"%tooltip%"!=l){var a=null;if(match.index>n&&"%"==e.charAt(match.index-1))a=l.substring(1);else{var r=l.substring(1,l.length-1);if(r.indexOf("{")<0);null==a&&(a=this.getGlobalVariable(r))}i.push(e.substring(n,match.index)+(a||l)),n=match.index+l.length}}return i.push(e.substring(n)),i.join("")},O.prototype.selectCellsForConnectVertex=function(t,e,i){2==t.length&&this.model.isVertex(t[1])?(this.setSelectionCell(t[1]),null!=i&&(o.default.isTouchEvent(e)?i.update(i.getState(this.view.getState(t[1]))):i.reset()),this.scrollCellToVisible(t[1])):this.setSelectionCells(t)},O.prototype.connectVertex=function(t,e,i,a,r){var s=t.geometry.relative?new m.default(t.parent.geometry.width*t.geometry.x,t.parent.geometry.height*t.geometry.y):new m.default(t.geometry.x,t.geometry.y);e==w.default.DIRECTION_NORTH?(s.x+=t.geometry.width/2,s.y-=i):e==w.default.DIRECTION_SOUTH?(s.x+=t.geometry.width/2,s.y+=t.geometry.height+i):e==w.default.DIRECTION_WEST?(s.x-=i,s.y+=t.geometry.height/2):(s.x+=t.geometry.width+i,s.y+=t.geometry.height/2);var u=this.view.getState(this.model.getParent(t)),d=this.view.scale,h=this.view.translate,c=h.x*d,p=h.y*d;this.model.isVertex(u.cell)&&(c=u.x,p=u.y),this.model.isVertex(t.parent)&&t.geometry.relative&&(s.x+=t.parent.geometry.x,s.y+=t.parent.geometry.y);var f=o.default.isControlDown(a)&&!r?null:this.getCellAt(c+s.x*d,p+s.y*d);this.model.isAncestor(f,t)&&(f=null);for(var g=f;null!=g;){if(this.isCellLocked(g)){f=null;break}g=this.model.getParent(g)}if(null!=f){var y=this.view.getState(t),v=this.view.getState(f);null!=y&&null!=v&&A.default.intersects(y,v)&&(f=null)}var E=r||!0;if(E&&(e==w.default.DIRECTION_NORTH?s.y-=t.geometry.height/2:e==w.default.DIRECTION_SOUTH?s.y+=t.geometry.height/2:e==w.default.DIRECTION_WEST?s.x-=t.geometry.width/2:s.x+=t.geometry.width/2),null!=f&&!this.isCellConnectable(f)){var S=this.getModel().getParent(f);this.getModel().isVertex(S)&&this.isCellConnectable(S)&&(f=S)}f!=t&&!this.model.isEdge(f)&&this.isCellConnectable(f)||(f=null);var C=[];this.model.beginUpdate();try{var T=f;if(null==T&&E){for(var M=t,x=this.getCellGeometry(t);null!=x&&x.relative;)M=this.getModel().getParent(M),x=this.getCellGeometry(M);var I=this.view.getState(M),L=null!=I?I.style:this.getCellStyle(M);if(b.default.getValue(L,"part",!1)){var N=this.model.getParent(M);this.model.isVertex(N)&&(M=N)}(x=x.clone()).x=s.x-x.width/2,x.y=s.y-x.height/2,T=this.duplicateCells([M],!1,x)[0]}var O=null;null!=this.layoutManager&&(O=this.layoutManager.getLayout(this.model.getParent(t)));var D=o.default.isControlDown(a)&&E||null==f&&null!=O&&O.constructor==l.default?null:this.insertEdge(this.model.getParent(t),null,"",t,T,this.createCurrentEdgeStyle());if(null!=D&&this.connectionHandler.insertBeforeSource){for(var R=null,_=t;null!=_.parent&&null!=_.geometry&&_.geometry.relative&&_.parent!=D.parent;)_=this.model.getParent(_);if(null!=_&&null!=_.parent&&_.parent==D.parent){R=_.parent.getIndex(_);_.parent.insert(D,R)}}if(null==f&&null!=T&&null!=O&&null!=t.parent&&O.constructor==l.default&&e==w.default.DIRECTION_WEST){R=t.parent.getIndex(t);t.parent.insert(T,R)}null!=D&&C.push(D),null==f&&null!=T&&C.push(T),null==T&&null!=D&&D.geometry.setTerminalPoint(s,!1),null!=D&&this.fireEvent(new n.default("cellsInserted","cells",[D]))}finally{this.model.endUpdate()}return C},O.prototype.convertValueToString=function(t){return null!=t.value&&"object"==N(t.value)?this.isReplacePlaceholders(t)&&null!=t.getAttribute("placeholder")?this.getModel().getRoot().getAttribute(t.getAttribute("placeholder"))||"":t.value.value:r.default.prototype.convertValueToString.apply(this,arguments)},O.prototype.getLinkForCell=function(t){return null},O.prototype.getCellStyle=function(t){var e=r.default.prototype.getCellStyle.apply(this,arguments);if(null!=t&&null!=this.layoutManager){var i=this.model.getParent(t);if(this.model.isVertex(i)&&this.isCellCollapsed(t)){var n=this.layoutManager.getLayout(i);null!=n&&n.constructor==l.default&&(e[w.default.STYLE_HORIZONTAL]=!n.horizontal)}}return t&&t.isEdge()&&(0,I.isBizFlow)(this.flowType)&&!e.strokeColor_important&&(e.strokeColor="#7F93BC"),e},O.prototype.updateAlternateBounds=function(t,e,i){if(null!=t&&null!=e&&null!=this.layoutManager&&null!=e.alternateBounds){var n=this.layoutManager.getLayout(this.model.getParent(t));null!=n&&n.constructor==l.default&&(n.horizontal?e.alternateBounds.height=0:e.alternateBounds.width=0)}r.default.prototype.updateAlternateBounds.apply(this,arguments)},O.prototype.isMoveCellsEvent=function(t){return o.default.isShiftDown(t)},O.prototype.foldCells=function(t,e,i,a,s){if(e=null!=e&&e,null==i&&(i=this.getFoldableCells(this.getSelectionCells(),t)),null!=i){this.model.beginUpdate();try{if(r.default.prototype.foldCells.apply(this,arguments),null!=this.layoutManager)for(var u=0;u<i.length;u++){var d=this.view.getState(i[u]),h=this.getCellGeometry(i[u]);if(null!=d&&null!=h){var c=Math.round(h.width-d.width/this.view.scale),p=Math.round(h.height-d.height/this.view.scale);if(0!=p||0!=c){var f=this.model.getParent(i[u]),g=this.layoutManager.getLayout(f);null==g?null!=s&&this.isMoveCellsEvent(s)&&this.moveSiblings(d,f,c,p):null!=s&&o.default.isAltDown(s)||g.constructor!=l.default||g.resizeLast||this.resizeParentStacks(f,g,c,p)}}}}finally{this.model.endUpdate()}this.fireEvent(new n.default(x.EVENT.AFTER_FOLD_CELLS,"cells",i)),this.isEnabled()&&this.setSelectionCells(i)}},O.prototype.moveSiblings=function(t,e,i,n){this.model.beginUpdate();try{for(var l=this.getCellsBeyond(t.x,t.y,e,!0,!0),a=0;a<l.length;a++)if(l[a]!=t.cell){var r=this.view.getState(l[a]),o=this.getCellGeometry(l[a]);null!=r&&null!=o&&((o=o.clone()).translate(Math.round(i*Math.max(0,Math.min(1,(r.x-t.x)/t.width))),Math.round(n*Math.max(0,Math.min(1,(r.y-t.y)/t.height)))),this.model.setGeometry(l[a],o))}}finally{this.model.endUpdate()}},O.prototype.resizeParentStacks=function(t,e,i,n){if(null!=this.layoutManager&&null!=e&&e.constructor==l.default&&!e.resizeLast){this.model.beginUpdate();try{for(var a=e.horizontal;null!=t&&null!=e&&e.constructor==l.default&&e.horizontal==a&&!e.resizeLast;){var r=this.getCellGeometry(t),o=this.view.getState(t);null!=o&&null!=r&&(r=r.clone(),e.horizontal?r.width+=i+Math.min(0,o.width/this.view.scale-r.width):r.height+=n+Math.min(0,o.height/this.view.scale-r.height),this.model.setGeometry(t,r)),t=this.model.getParent(t),e=this.layoutManager.getLayout(t)}}finally{this.model.endUpdate()}}},O.prototype.isContainer=function(t){var e=this.view.getState(t),i=null!=e?e.style:this.getCellStyle(t);return this.isSwimlane(t)?"0"!=i.container:"1"==i.container},O.prototype.isCellConnectable=function(t){var e=this.view.getState(t),i=null!=e?e.style:this.getCellStyle(t);return null!=i.connectable?"0"!=i.connectable:r.default.prototype.isCellConnectable.apply(this,arguments)},O.prototype.selectAll=function(t){t=t||this.getDefaultParent(),this.isCellLocked(t)||r.default.prototype.selectAll.apply(this,arguments)},O.prototype.selectCells=function(t,e,i){i=i||this.getDefaultParent(),this.isCellLocked(i)||r.default.prototype.selectCells.apply(this,arguments)},O.prototype.getSwimlaneAt=function(t,e,i){return i=i||this.getDefaultParent(),this.isCellLocked(i)?null:r.default.prototype.getSwimlaneAt.apply(this,arguments)},O.prototype.isCellFoldable=function(t){var e=this.view.getState(t),i=null!=e?e.style:this.getCellStyle(t);return this.foldingEnabled&&!this.isCellLocked(t)&&(this.isContainer(t)&&"0"!=i.collapsible||!this.isContainer(t)&&"1"==i.collapsible)},O.prototype.reset=function(){this.isEditing()&&this.stopEditing(!0),this.escape(),this.isSelectionEmpty()||this.clearSelection()},O.prototype.zoom=function(t,e){t=Math.max(.01,Math.min(this.view.scale*t,160))/this.view.scale,r.default.prototype.zoom.apply(this,arguments)},O.prototype.zoomIn=function(){this.zoomByStep(!0)},O.prototype.zoomOut=function(){this.zoomByStep(!1)},O.prototype.zoomByStep=function(t){var e=this.view.scale;t?e+=.1:e-=.1,e<x.zoom_min||e>x.zoom_max||e&&this.zoom(e/this.view.scale)},O.prototype.getTooltipForCell=function(t){return""},O.prototype.stringToBytes=function(t){for(var e=new Array(t.length),i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e},O.prototype.bytesToString=function(t){for(var e=new Array(t.length),i=0;i<t.length;i++)e[i]=String.fromCharCode(t[i]);return e.join("")},O.prototype.compress=function(t){if(null==t||0==t.length||"undefined"==typeof pako)return t;var e=this.bytesToString(pako.deflateRaw(encodeURIComponent(t)));return window.btoa?btoa(e):Base64.encode(e,!0)},O.prototype.decompress=function(t){if(null==t||0==t.length||"undefined"==typeof pako)return t;var e=window.atob?atob(t):Base64.decode(t,!0);return this.zapGremlins(decodeURIComponent(this.bytesToString(pako.inflateRaw(e))))},O.prototype.zapGremlins=function(t){for(var e=[],i=0;i<t.length;i++){var n=t.charCodeAt(i);(n>=32||9==n||10==n||13==n)&&e.push(t.charAt(i))}return e.join("")},O.prototype.getModelGraph=function(){var t=this.model.getModelGraph();return t.bounds=D(this),t},O.prototype.getJSONModel=function(){var t=this.model.toBpmnJSON();return t.bounds=D(this),t},O.prototype.resetStylesheet=function(){this.setStylesheet(this.createStylesheet())},O.prototype.getNodesForCells=function(t){for(var e=[],i=0;i<t.length;i++){var n=this.view.getState(t[i]);if(null!=n){for(var l=this.cellRenderer.getShapesForState(n),a=0;a<l.length;a++)null!=l[a]&&null!=l[a].node&&e.push(l[a].node);null!=n.control&&null!=n.control.node&&e.push(n.control.node)}}return e},O.prototype.createWipeAnimations=function(t,e){for(var i=[],n=0;n<t.length;n++){var l=this.view.getState(t[n]);null!=l&&null!=l.shape&&(this.model.isEdge(l.cell)&&null!=l.absolutePoints&&l.absolutePoints.length>1?i.push(this.createEdgeWipeAnimation(l,e)):this.model.isVertex(l.cell)&&null!=l.shape.bounds&&i.push(this.createVertexWipeAnimation(l,e)))}return i},O.prototype.createEdgeWipeAnimation=function(t,e){var i=t.absolutePoints.slice(),n=t.segments,l=t.length,a=i.length;return{execute:A.default.bind(this,(function(r,o){if(null!=t.shape){var s=[i[0]],u=r/o;e||(u=1-u);for(var d=l*u,h=1;h<a;h++){if(d<=n[h-1]){s.push(new m.default(i[h-1].x+(i[h].x-i[h-1].x)*d/n[h-1],i[h-1].y+(i[h].y-i[h-1].y)*d/n[h-1]));break}d-=n[h-1],s.push(i[h])}t.shape.points=s,t.shape.redraw(),0==r&&O.setOpacityForNodes(this.getNodesForCells([t.cell]),1),null!=t.text&&null!=t.text.node&&(t.text.node.style.opacity=u)}})),stop:A.default.bind(this,(function(){null!=t.shape&&(t.shape.points=i,t.shape.redraw(),null!=t.text&&null!=t.text.node&&(t.text.node.style.opacity=""),O.setOpacityForNodes(this.getNodesForCells([t.cell]),e?1:0))}))}},O.prototype.createVertexWipeAnimation=function(t,e){var i=new h.default.fromRectangle(t.shape.bounds);return{execute:A.default.bind(this,(function(n,l){if(null!=t.shape){var a=n/l;e||(a=1-a),t.shape.bounds=new h.default(i.x,i.y,i.width*a,i.height),t.shape.redraw(),0==n&&O.setOpacityForNodes(this.getNodesForCells([t.cell]),1),null!=t.text&&null!=t.text.node&&(t.text.node.style.opacity=a)}})),stop:A.default.bind(this,(function(){null!=t.shape&&(t.shape.bounds=i,t.shape.redraw(),null!=t.text&&null!=t.text.node&&(t.text.node.style.opacity=""),O.setOpacityForNodes(this.getNodesForCells([t.cell]),e?1:0))}))}},O.prototype.executeAnimations=function(t,e,i,n){i=null!=i?i:30,n=null!=n?n:30;var l=null,a=0,r=A.default.bind(this,(function(){if(a==i||this.stoppingCustomActions){window.clearInterval(l);for(var n=0;n<t.length;n++)t[n].stop();null!=e&&e()}else for(n=0;n<t.length;n++)t[n].execute(a,i);a++}));l=window.setInterval(r,n),r()},O.fadeNodes=function(t,e,i,n,l){l=null!=l?l:1e3,O.setTransitionForNodes(t,null),O.setOpacityForNodes(t,e),window.setTimeout((function(){O.setTransitionForNodes(t,"all "+l+"ms ease-in-out"),O.setOpacityForNodes(t,i),window.setTimeout((function(){O.setTransitionForNodes(t,null),null!=n&&n()}),l)}),0)},O.setTransitionForNodes=function(t,e){for(var i=0;i<t.length;i++)A.default.setPrefixedStyle(t[i].style,"transition",e)},O.setOpacityForNodes=function(t,e){for(var i=0;i<t.length;i++)t[i].style.opacity=e};e.default=O},364088:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.addWaypointAction=function(t,e){return function(){var i=e.getSelectionCell();if(null!=i&&e.getModel().isEdge(i)){var n=t.graph.selectionCellsHandler.getHandler(i);if(n instanceof o.default){for(var l=e.view.translate,a=e.view.scale,r=l.x,s=l.y,u=e.getModel().getParent(i),d=e.getCellGeometry(u);e.getModel().isVertex(u)&&null!=d;)r+=d.x,s+=d.y,u=e.getModel().getParent(u),d=e.getCellGeometry(u);var h=Math.round(e.snap(e.popupMenuHandler.triggerX/a-r)),c=Math.round(e.snap(e.popupMenuHandler.triggerY/a-s));n.addPointAt(n.state,h,c)}}}},e.animationAction=function(t,e){function i(t,e,n){(n=null!=n?n:new Object)[t.id]=e;for(var l=t.getChildCount(),a=0;a<l;a++)i(t.getChildAt(a),e.getChildAt(a),n);return n}var n=!1,l=!1;function a(e,r,o,s){if(r&&!(r.length<1)&&!l){n=!0,l=!0;var u=e.getModel();u.beginUpdate();try{var h=s&&Object.keys(s);for(var c in(!h||h.length<1)&&(h=Object.keys(u.cells)),h){var f=u.getCell(h[c]);(u.isVertex(f)||u.isEdge(f))&&(e.setCellStyles("opacity","0",[f]),e.setCellStyles("noLabel","1",[f]))}}finally{u.endUpdate()}var g=i(t.editor.graph.getModel().getRoot(),u.getRoot()),m=0;!function i(){if(n&&m<r.length){var s=r[m].split(" ");if(s.length>0)if("wait"==s[0]&&s.length>1)window.setTimeout((function(){m++,i()}),parseFloat(s[1]));else{if(s.length>1){var u=g[s[1]];null!=u?"show"==s[0]?(e.setCellStyles("opacity","100",[u]),e.setCellStyles("noLabel",null,[u]),s.length>2&&"fade"==s[2]?d.default.fadeNodes(e.getNodesForCells([u]),0,1):function(t,e,i,n){t.executeAnimations(t.createWipeAnimations(e,!0),null,i,n)}(e,[u])):"flow"==s[0]?e.model.isEdge(u)&&function(e,i,n){n||(n="toggle");for(var l=0;l<i.length;l++)if(t.editor.graph.model.isEdge(i[l])){var a=e.view.getState(i[l]);if(a&&null!=a.shape){var r=a.shape.node.getElementsByTagName("path");r.length>1&&("toggle"==n&&"mxEdgeFlow"==r[1].getAttribute("class")||"stop"==n?(r[1].removeAttribute("class"),"1"!=p.default.getValue(a.style,y.default.STYLE_DASHED,"0")&&r[1].removeAttribute("stroke-dasharray")):("toggle"==n&&"mxEdgeFlow"!=r[1].getAttribute("class")||"start"==n)&&(r[1].setAttribute("class","mxEdgeFlow"),"1"!=p.default.getValue(a.style,y.default.STYLE_DASHED,"0")&&r[1].setAttribute("stroke-dasharray","8")))}}}(e,[u],s[2]):"hide"==s[0]&&d.default.fadeNodes(e.getNodesForCells([u]),1,0):(id,r[m])}m++,i()}}else l=!1,e.setAnimation(!1),o&&(e.refresh(),a(e,r,o))}()}}return f.default.bind(this,(function(t){if(!e.isAnimation()){var i=[];i=t instanceof Array?t:function(t){var e=t.getModel().getBPMNRoot().children;if(!e||!e.length)return[];for(var i=null,n=0;n<e.length;n++){var l=e[n];if("StartSignalEvent"==l.type){i=l;break}}if(!i)return[];for(var a=null,r=[[i]],o=[],s={},u={};null!=(a=r.pop());){for(var d=[],h=[],c=[],p=0;p<a.length;p++){var f=a[p],g=f.id;if(!u[g]){d.push(f),u[g]=!0;for(var y=f.edges||[],m=0;m<y.length;m++){var v=y[m],E=v.id,b=v.target,S=b&&b.id==g;s[E]||S||(c.push(v),s[E]=!0,!u[b.id]&&h.indexOf(b)<0&&h.push(b))}}}d.length>0&&o.push(d),c.length>0&&o.push(c),h.length>0&&r.push(h)}return o}(e);for(var n=[],l={},r=0;r<i.length;r++){for(var o=i[r],s=0;s<o.length;s++){var u=o[s];u instanceof c.default?n.push("show ".concat(u.id," fade")):(l[u]=u,n.push("show ".concat(u," fade")))}n.push("wait 800")}var d=e.container,h=e.getGraphBounds();d&&(0!==d.offsetWidth||0!==d.offsetHeight)&&p.default.hasScrollbars(d)&&(d.scrollLeft=h.x+h.width/2-d.clientWidth/2,d.scrollTop=h.y+h.height/2-d.clientHeight/2),e.setAnimation(!0),a(e,n,!1,l)}}))},e.autosizeAction=function(t){return function(){var e=t.getSelectionCells();if(null!=e){t.getModel().beginUpdate();try{for(var i=0;i<e.length;i++){var n=e[i];if(t.getModel().getChildCount(n))t.updateGroupBounds([n],20);else{var l=t.view.getState(n),a=t.getCellGeometry(n);t.getModel().isVertex(n)&&null!=l&&null!=l.text&&null!=a&&t.isWrapping(n)?((a=a.clone()).height=l.text.boundingBox.height/t.view.scale,t.getModel().setGeometry(n,a)):t.updateCellSize(n)}}}finally{t.getModel().endUpdate()}}}},e.clearWaypointsAction=function(t){return function(){var e=t.getSelectionCells();if(null!=e){t.getModel().beginUpdate();try{for(var i=0;i<e.length;i++){var n=e[i];if(t.getModel().isEdge(n)){var l=t.getCellGeometry(n);null!=l&&((l=l.clone()).points=null,t.getModel().setGeometry(n,l))}}}finally{t.getModel().endUpdate()}}}},e.collapsibleAction=function(t,e){return function(){var i=e.view.getState(e.getSelectionCell()),l="1";null!=i&&null!=e.getFoldingImage(i)&&(l="0"),e.setCellStyles("collapsible",l),t.fireEvent(new n.default("styleChanged","keys",["collapsible"],"values",[l],"cells",e.getSelectionCells()))}},e.curvedAction=function(t,e){return function(){e.getModel().beginUpdate();try{e.setCellStyles(y.default.STYLE_ROUNDED,"0"),e.setCellStyles(y.default.STYLE_CURVED,"1"),t.fireEvent(new n.default("styleChanged","keys",[y.default.STYLE_ROUNDED,y.default.STYLE_CURVED],"values",["0","1"],"cells",e.getSelectionCells()))}finally{e.getModel().endUpdate()}}},e.dashedAction=function(t,e){return function(){e.getModel().beginUpdate();try{e.setCellStyles(y.default.STYLE_DASHED,"1"),e.setCellStyles(y.default.STYLE_DASH_PATTERN,null),t.fireEvent(new n.default("styleChanged","keys",[y.default.STYLE_DASHED,y.default.STYLE_DASH_PATTERN],"values",["1",null],"cells",e.getSelectionCells()))}finally{e.getModel().endUpdate()}}},e.dottedAction=function(t,e){return function(){e.getModel().beginUpdate();try{e.setCellStyles(y.default.STYLE_DASHED,"1"),e.setCellStyles(y.default.STYLE_DASH_PATTERN,"1 4"),t.fireEvent(new n.default("styleChanged","keys",[y.default.STYLE_DASHED,y.default.STYLE_DASH_PATTERN],"values",["1","1 4"],"cells",e.getSelectionCells()))}finally{e.getModel().endUpdate()}}},e.editDataAction=function(t,e){return function(){var i=e.getSelectionCell()||e.getModel().getRoot();if(null!=i){var n=new m.default(t,i);t.showDialog(n.container,320,320,!0,!1),n.init()}}},e.editLinkAction=function(t,e){return function(){var e=t.editor.graph;if(e.isEnabled()&&!e.isSelectionEmpty()){var i=e.getSelectionCell(),n=e.getLinkForCell(i)||"";t.showLinkDialog(n,b.default.get("apply"),(function(t){t=f.default.trim(t),e.setLinkForCell(i,t.length>0?t:null)}))}}},e.editStyleAction=function(t){return f.default.bind(this,(function(){var e=t.getSelectionCells();if(null!=e&&e.length>0){var i=t.getModel(),n=new v.default(this.editorUi,b.default.get("editStyle")+":",i.getStyle(e[0])||"",(function(i){null!=i&&t.setCellStyle(f.default.trim(i),e)}),null,null,400,220);this.editorUi.showDialog(n.container,420,300,!0,!0),n.init()}}))},e.editTooltipAction=function(t,e){return function(){var e=t.editor.graph;if(e.isEnabled()&&!e.isSelectionEmpty()){var i=e.getSelectionCell();f.default.isNode(i.value);var n=new v.default(t,b.default.get("editTooltip")+":","",(function(t){e.setTooltipForCell(i,t)}));t.showDialog(n.container,320,200,!0,!0),n.init()}}},e.fitPageAction=function(t){return f.default.bind(this,(function(){t.pageVisible||this.get("pageView").funct();var e=t.pageFormat,i=t.pageScale,n=t.container.clientWidth-10,l=t.container.clientHeight-10,a=Math.floor(20*Math.min(n/e.width/i,l/e.height/i))/20;if(t.zoomTo(a),p.default.hasScrollbars(t.container)){var r=t.getPagePadding();t.container.scrollTop=r.y*t.view.scale,t.container.scrollLeft=Math.min(r.x*t.view.scale,(t.container.scrollWidth-t.container.clientWidth)/2)}}))},e.fitPageWidthAction=function(t){return f.default.bind(this,(function(){t.pageVisible||this.get("pageView").funct();var e=t.pageFormat,i=t.pageScale,n=t.container.clientWidth-10,l=Math.floor(20*n/e.width/i)/20;if(t.zoomTo(l),p.default.hasScrollbars(t.container)){var a=t.getPagePadding();t.container.scrollLeft=Math.min(a.x*t.view.scale,(t.container.scrollWidth-t.container.clientWidth)/2)}}))},e.fitTwoPagesAction=function(t){return f.default.bind(this,(function(){t.pageVisible||this.get("pageView").funct();var e=t.pageFormat,i=t.pageScale,n=t.container.clientWidth-10,l=t.container.clientHeight-10,a=Math.floor(20*Math.min(n/(2*e.width)/i,l/e.height/i))/20;if(t.zoomTo(a),p.default.hasScrollbars(t.container)){var r=t.getPagePadding();t.container.scrollTop=Math.min(r.y,(t.container.scrollHeight-t.container.clientHeight)/2),t.container.scrollLeft=Math.min(r.x,(t.container.scrollWidth-t.container.clientWidth)/2)}}))},e.formattedTextAction=function(t,e){return function(){var i=e.getView().getState(e.getSelectionCell());if(null!=i){var l="1";e.stopEditing(),e.getModel().beginUpdate();try{if("1"==i.style.html)l=null,"0"!=f.default.getValue(i.style,"nl2Br","1")&&e.cellLabelChanged(i.cell,e.convertValueToString(i.cell).replace(/\n/g,"").replace(/<br\s*.?>/g,"\n"));else{var a=e.convertValueToString(i.cell);"0"!=f.default.getValue(i.style,"nl2Br","1")&&(a=a.replace(/\n/g,"<br/>")),e.cellLabelChanged(i.cell,e.sanitizeHtml(a))}e.setCellStyles("html",l),t.fireEvent(new n.default("styleChanged","keys",["html"],"values",[null!=l?l:"0"],"cells",e.getSelectionCells()))}finally{e.getModel().endUpdate()}}}},e.groupAction=function(t){return function(){1==t.getSelectionCount()?t.setCellStyles("container","1"):t.setSelectionCell(t.groupCells(null,0))}},e.imageAction=function(t,e){return function(){if(e.isEnabled()&&!e.isCellLocked(e.getDefaultParent())){var i=b.default.get("image")+" ("+b.default.get("url")+"):",n=e.getView().getState(e.getSelectionCell()),l="";null!=n&&(l=n.style[y.default.STYLE_IMAGE]||l);var a=e.cellEditor.saveSelection();t.showImageDialog(i,l,(function(t,i,n){if(e.cellEditor.isContentEditing())e.cellEditor.restoreSelection(a),e.insertImage(t,i,n);else{var l=e.getSelectionCells();if(null!=t){var r=null;e.getModel().beginUpdate();try{if(0==l.length){var o=e.getInsertPoint();r=l=[e.insertVertex(e.getDefaultParent(),null,"",o.x,o.y,i,n,"shape=image;verticalLabelPosition=bottom;verticalAlign=top;")]}e.setCellStyles(y.default.STYLE_IMAGE,t,l);var s=e.view.getState(l[0]),u=null!=s?s.style:e.getCellStyle(l[0]);if("image"!=u[y.default.STYLE_SHAPE]&&"label"!=u[y.default.STYLE_SHAPE]&&e.setCellStyles(y.default.STYLE_SHAPE,"image",l),1==e.getSelectionCount()&&null!=i&&null!=n){var d=l[0],h=e.getModel().getGeometry(d);null!=h&&((h=h.clone()).width=i,h.height=n,e.getModel().setGeometry(d,h))}}finally{e.getModel().endUpdate()}null!=r&&(e.setSelectionCells(r),e.scrollCellToVisible(r[0]))}}}),e.cellEditor.isContentEditing(),!e.cellEditor.isContentEditing())}}},e.importAction=function(t,e){return function(){window.openNew=!1,window.openKey="import",window.openFile=new u.default(f.default.bind(this,(function(){t.hideDialog()}))),window.openFile.setConsumer(f.default.bind(this,(function(t,i){try{var n=p.default.parseXml(t),a=new l.default;new r.default(n).decode(n.documentElement,a);var o=a.getChildren(a.getChildAt(a.getRoot(),0));e.graph.setSelectionCells(e.graph.importCells(o))}catch(t){p.default.alert(b.default.get("invalidOrMissingFile")+": "+t.message)}}))),t.showDialog(new s.default(this).container,320,220,!0,!0,(function(){window.openFile=null}))}},e.insertLinkAction=function(t,e){return function(){if(e.isEnabled()&&!e.isCellLocked(e.getDefaultParent())){var i=new h.default(t,"",b.default.get("insert"),(function(t,i){if((t=f.default.trim(t)).length>0){var n=t.substring(t.lastIndexOf("/")+1),l=null;null!=i&&i.length>0&&(l=i[0].iconUrl,(n=(n=i[0].name||i[0].type).charAt(0).toUpperCase()+n.substring(1)).length>30&&(n=n.substring(0,30)+"..."));var r=e.getInsertPoint(),o=new c.default(n,new a.default(r.x,r.y,100,40),"fontColor=#0000EE;fontStyle=4;rounded=1;overflow=hidden;"+(null!=l?"shape=label;imageWidth=16;imageHeight=16;spacingLeft=26;align=left;image="+l:"spacing=10;"));o.vertex=!0,e.setLinkForCell(o,t),e.cellSizeUpdated(o,!0),e.setSelectionCell(e.addCell(o))}}));t.showDialog(i.container,420,90,!0,!0),i.init()}}},e.layersAction=function(t){return f.default.bind(this,(function(){null==this.layersWindow?(this.layersWindow=new w.default(t,document.body.offsetWidth-280,120,220,180),this.layersWindow.window.addListener("show",(function(){t.fireEvent(new n.default("layers"))})),this.layersWindow.window.addListener("hide",(function(){t.fireEvent(new n.default("layers"))})),this.layersWindow.window.setVisible(!0),t.fireEvent(new n.default("layers"))):this.layersWindow.window.setVisible(!this.layersWindow.window.isVisible())}))},e.linkAction=function(t){return f.default.bind(this,(function(){var e=t.editor.graph;if(e.isEnabled())if(e.cellEditor.isContentEditing()){var i=e.getParentByName(e.getSelectedElement(),"A",e.cellEditor.textarea),n="";null!=i&&(n=i.getAttribute("href")||"");var l=e.cellEditor.saveSelection();t.showLinkDialog(n,b.default.get("apply"),f.default.bind(this,(function(t){if(e.cellEditor.restoreSelection(l),null!=t)if(0==t.length)document.execCommand("unlink",!1);else{for(var i=e.cellEditor.textarea.getElementsByTagName("a"),n=[],a=0;a<i.length;a++)n.push(i[a]);document.execCommand("createlink",!1,f.default.trim(t));var r=e.cellEditor.textarea.getElementsByTagName("a");if(r.length==n.length+1)for(a=r.length-1;a>=0;a--)if(0==a||r[a]!=n[a-1]){r[a].setAttribute("target","_blank");break}}})))}else e.isSelectionEmpty()?this.get("insertLink").funct():this.get("editLink").funct()}))},e.lockUnlockAction=function(t){return function(){if(!t.isSelectionEmpty()){t.getModel().beginUpdate();try{var e=t.isCellMovable(t.getSelectionCell())?1:0;t.toggleCellStyles(y.default.STYLE_MOVABLE,e),t.toggleCellStyles(y.default.STYLE_RESIZABLE,e),t.toggleCellStyles(y.default.STYLE_ROTATABLE,e),t.toggleCellStyles(y.default.STYLE_DELETABLE,e),t.toggleCellStyles(y.default.STYLE_EDITABLE,e),t.toggleCellStyles("connectable",e)}finally{t.getModel().endUpdate()}}}},e.openLinkAction=function(t){return function(){var e=t.getLinkForCell(t.getSelectionCell());null!=e&&window.open(e)}},e.outlineAction=function(t){return f.default.bind(this,(function(){null==this.outlineWindow?(this.outlineWindow=new S.default(t,document.body.offsetWidth-260,100,180,180),this.outlineWindow.window.addListener("show",(function(){t.fireEvent(new n.default("outline"))})),this.outlineWindow.window.addListener("hide",(function(){t.fireEvent(new n.default("outline"))})),this.outlineWindow.window.setVisible(!0),t.fireEvent(new n.default("outline"))):this.outlineWindow.window.setVisible(!this.outlineWindow.window.isVisible()),t.fireEvent(new n.default("outline"))}))},e.pageScaleAction=function(t){return f.default.bind(this,(function(){var e=new E.default(this.editorUi,parseInt(100*t.pageScale),b.default.get("apply"),f.default.bind(this,(function(t){var e=parseInt(t);!isNaN(e)&&e>0&&ui.setPageScale(e/100)})),b.default.get("pageScale")+" (%)");this.editorUi.showDialog(e.container,300,80,!0,!0),e.init()}))},e.pageViewAction=function(t,e){return f.default.bind(this,(function(){var i=p.default.hasScrollbars(e.container),l=0,a=0;if(i&&(l=e.view.translate.x*e.view.scale-e.container.scrollLeft,a=e.view.translate.y*e.view.scale-e.container.scrollTop),e.pageVisible=!e.pageVisible,e.pageBreaksVisible=e.pageVisible,e.preferPageSize=e.pageBreaksVisible,e.view.validateBackground(),i){var r=e.getSelectionCells();e.clearSelection(),e.setSelectionCells(r)}e.sizeDidChange(),i&&(e.container.scrollLeft=e.view.translate.x*e.view.scale-l,e.container.scrollTop=e.view.translate.y*e.view.scale-a),t.fireEvent(new n.default("pageViewChanged"))}))},e.pasteHereAction=function(t){return function(e){if(t.isEnabled()&&!t.isCellLocked(t.getDefaultParent())){t.getModel().beginUpdate();try{var i=g.default.paste(t);if(null!=i){var n=t.getBoundingBoxFromGeometry(i);if(null!=n){var l=t.view.translate,a=t.view.scale,r=l.x,o=l.y,s=Math.round(t.snap(t.popupMenuHandler.triggerX/a-r)),u=Math.round(t.snap(t.popupMenuHandler.triggerY/a-o));t.cellsMoved(i,s-n.x,u-n.y)}}}finally{t.getModel().endUpdate()}}}},e.rotationAction=function(t,e){return function(){var i="0",n=e.getView().getState(e.getSelectionCell());null!=n&&(i=n.style[y.default.STYLE_ROTATION]||i);var l=new E.default(t,i,b.default.get("apply"),(function(t){null!=t&&t.length>0&&e.setCellStyles(y.default.STYLE_ROTATION,t)}),b.default.get("enterValue")+" ("+b.default.get("rotation")+" 0-360)");t.showDialog(l.container,300,80,!0,!0),l.init()}},e.roundedAction=function(t,e){return function(){e.getModel().beginUpdate();try{e.setCellStyles(y.default.STYLE_ROUNDED,"1"),e.setCellStyles(y.default.STYLE_CURVED,"0"),t.fireEvent(new n.default("styleChanged","keys",[y.default.STYLE_ROUNDED,y.default.STYLE_CURVED],"values",["1","0"],"cells",e.getSelectionCells()))}finally{e.getModel().endUpdate()}}},e.sharpAction=function(t,e){return function(){e.getModel().beginUpdate();try{e.setCellStyles(y.default.STYLE_ROUNDED,"0"),e.setCellStyles(y.default.STYLE_CURVED,"0"),t.fireEvent(new n.default("styleChanged","keys",[y.default.STYLE_ROUNDED,y.default.STYLE_CURVED],"values",["0","0"],"cells",e.getSelectionCells()))}finally{e.getModel().endUpdate()}}},e.solidAction=function(t,e){return function(){e.getModel().beginUpdate();try{e.setCellStyles(y.default.STYLE_DASHED,null),e.setCellStyles(y.default.STYLE_DASH_PATTERN,null),t.fireEvent(new n.default("styleChanged","keys",[y.default.STYLE_DASHED,y.default.STYLE_DASH_PATTERN],"values",[null,null],"cells",e.getSelectionCells()))}finally{e.getModel().endUpdate()}}},e.toggleRoundedAction=function(t,e){return function(){if(!e.isSelectionEmpty()&&e.isEnabled()){e.getModel().beginUpdate();try{var i=e.getSelectionCells(),l=e.view.getState(i[0]),a=null!=l?l.style:e.getCellStyle(i[0]),r="1"==f.default.getValue(a,y.default.STYLE_ROUNDED,"0")?"0":"1";e.setCellStyles(y.default.STYLE_ROUNDED,r),e.setCellStyles(y.default.STYLE_CURVED,null),t.fireEvent(new n.default("styleChanged","keys",[y.default.STYLE_ROUNDED,y.default.STYLE_CURVED],"values",[r,"0"],"cells",e.getSelectionCells()))}finally{e.getModel().endUpdate()}}}},e.ungroupAction=function(t){return function(){1==t.getSelectionCount()&&0==t.getModel().getChildCount(t.getSelectionCell())?t.setCellStyles("container","0"):t.setSelectionCells(t.ungroupCells())}},e.wordWrapAction=function(t){return function(){var e=t.getView().getState(t.getSelectionCell()),i="wrap";t.stopEditing(),null!=e&&"wrap"==e.style[y.default.STYLE_WHITE_SPACE]&&(i=null),t.setCellStyles(y.default.STYLE_WHITE_SPACE,i)}},i(241872),i(820444),i(297336),i(721300),i(76124),i(23544),i(571176),i(633768),i(513640),i(321164),i(86744);var n=A(i(995048)),l=A(i(409988)),a=A(i(146880)),r=A(i(536684)),o=A(i(339024)),s=A(i(354352)),u=A(i(220196)),d=A(i(403648)),h=A(i(993304)),c=A(i(280908)),p=A(i(132448)),f=A(i(742288)),g=A(i(897508)),y=A(i(790448)),m=A(i(173904)),v=A(i(723371)),E=A(i(911484)),b=A(i(11131)),S=A(i(648156)),w=A(i(554484));function A(t){return t&&t.__esModule?t:{default:t}}},250688:function(t,e,i){"use strict";i(182320),i(909112),i(697060),i(743924),i(606200),i(78504),i(977864),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(9692),i(622676),i(885612),i(82e3),i(976896),i(297336),i(76124),i(387912),i(571176),i(763600),i(633768),i(690512),i(513640),i(321164),i(86744);var n=Q(i(780208)),l=Q(i(182848)),a=Q(i(498096)),r=Q(i(293792)),o=Q(i(865960)),s=Q(i(351612)),u=Q(i(656988)),d=Q(i(995048)),h=Q(i(956392)),c=Q(i(540168)),p=Q(i(736616)),f=Q(i(53108)),g=Q(i(11131)),y=Q(i(858336)),m=Q(i(790448)),v=Q(i(132448)),E=Q(i(280908)),b=Q(i(593152)),S=Q(i(180800)),w=Q(i(339024)),A=Q(i(147496)),C=Q(i(409988)),T=Q(i(796656)),M=Q(i(264400)),x=Q(i(22676)),I=Q(i(479024)),L=Q(i(742288)),N=Q(i(667016)),O=Q(i(273848)),D=Q(i(370608)),R=Q(i(630160)),_=Q(i(247644)),P=Q(i(496864)),k=Q(i(536684)),H=Q(i(146880)),G=Q(i(655696)),B=Q(i(164460)),z=Q(i(257784)),F=Q(i(403648)),V=Q(i(363120)),U=Q(i(121816)),Y=Q(i(326660)),j=Q(i(235680)),W=Q(i(833800)),Z=Q(i(794644)),X=Q(i(60452));function Q(t){return t&&t.__esModule?t:{default:t}}function J(t){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J(t)}var K=function(t){this.graph=t,this.init()};K.prototype.arrowSpacing=6,K.prototype.updateDelay=500,K.prototype.activationDelay=140,K.prototype.currentState=null,K.prototype.activeArrow=null,K.prototype.inactiveOpacity=15,K.prototype.checkCollisions=!0,K.prototype.triangleUp=new R.default(x.default.IS_SVG?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAOCAYAAAAxDQxDAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6N0ZBN0E3M0U5NjZGMTFFNTg5NTRDNzQwMTgwNDlEQzQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6N0ZBN0E3M0Y5NjZGMTFFNTg5NTRDNzQwMTgwNDlEQzQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo3RkE3QTczQzk2NkYxMUU1ODk1NEM3NDAxODA0OURDNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo3RkE3QTczRDk2NkYxMUU1ODk1NEM3NDAxODA0OURDNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pj625P8AAACySURBVHjaYmRY956BROABxF+A+AgpmpjIsGQjEO8CYidaWeQHtYQNiDmBeAspljGRYMlqqCUwALPMg1oWhWCxBNmyjVCHUGQRyJKlOCyBATaoQ/zItSgciFcQsATdshBSLYqC+oSZhMTCBnVYFLEWgRQuItESGGCG6o0iZFECBZagW5aAyyKQxBwKLUG2bD4Qp6FblAyVoIYlyGAmzDIWKGMmA+0AyGw2RjIKVbIAQIABAFJRHSSk2rPoAAAAAElFTkSuQmCC":IMAGE_PATH+"/triangle-up.png",26,14),K.prototype.triangleRight=new R.default(x.default.IS_SVG?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAaCAYAAACHD21cAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NThDQzc5RTU5NjZGMTFFNTg5NTRDNzQwMTgwNDlEQzQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NThDQzc5RTY5NjZGMTFFNTg5NTRDNzQwMTgwNDlEQzQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo1OENDNzlFMzk2NkYxMUU1ODk1NEM3NDAxODA0OURDNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo1OENDNzlFNDk2NkYxMUU1ODk1NEM3NDAxODA0OURDNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PrHdKTUAAADDSURBVHjanNTBCgFRFIfxMeTZyEKkiBSRxbwREZGiNFZKWSnvY6OUUv6n7ilZaL459XVXv6a5c+cWovQeaSZqFoGJwzpVozzQZq4GeSDCv7AYcJ9Cx0vVpdDxWrUpdLxVLQr/4jjDBpYDblDoeKdqFDpOHRP4jSsU2rzVg8KnqqpbDFFdXck7vlRTXciuOjqT72ioo07k5Nju9dSRnFVHB/J3GBqqPf0fx2pDbwBDK3Ln2MdN1CLraSiFNcn6JJ+PAAMAbnMl1tyDPD8AAAAASUVORK5CYII=":IMAGE_PATH+"/triangle-right.png",14,26),K.prototype.triangleDown=new R.default(x.default.IS_SVG?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAOCAYAAAAxDQxDAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NThDQzc5RTk5NjZGMTFFNTg5NTRDNzQwMTgwNDlEQzQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NThDQzc5RUE5NjZGMTFFNTg5NTRDNzQwMTgwNDlEQzQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo1OENDNzlFNzk2NkYxMUU1ODk1NEM3NDAxODA0OURDNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo1OENDNzlFODk2NkYxMUU1ODk1NEM3NDAxODA0OURDNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pv9xyy0AAADESURBVHjaYmRY956BHoAJiHOA+D+NcRrIoilAnEVDz6QD8SwWKGc6EP8F4plUtiQRiBfAgg4GZkEl/lLBgr/IlqBbxACViKPQMgxLQIAFi8JlUHoREDOTYUkckhkMuHyEbFkEEP8i0ZJobJbgswgE1gBxKJGW/YI6bCW+fIQPbCLCsl9Qn6whlGEZiLDMH4i/47AklJAlxFoEAjuA2AfNMpglm4gtgogF+5As+wX15SZiNbOQmHxBlrkBMQ/Ul0QDgAADAC8qRII7g4RyAAAAAElFTkSuQmCC":IMAGE_PATH+"/triangle-down.png",26,14),K.prototype.triangleLeft=new R.default(x.default.IS_SVG?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAaCAYAAACHD21cAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6N0ZBN0E3M0E5NjZGMTFFNTg5NTRDNzQwMTgwNDlEQzQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6N0ZBN0E3M0I5NjZGMTFFNTg5NTRDNzQwMTgwNDlEQzQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo1OENDNzlFQjk2NkYxMUU1ODk1NEM3NDAxODA0OURDNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo1OENDNzlFQzk2NkYxMUU1ODk1NEM3NDAxODA0OURDNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pi1fu2cAAADXSURBVHjalNTRB8JQFMfxVROxPyl6iuipRJFS2kv/TU89lY0piyw9pP6r3iP6He7Ndd3de87haxMfd+1ua0TVOxLOCuVNIdqiHZ1I4AbtUUsC6fIO6jzhwoWB/hOCU5Tpy+PCCTq5kA+OfKgODlGJ2r7/YMMBqkLIhn0uMmEP3VGH+zQQ7KKnBGmY+O6eD77QGH2kkOYhxeZdJTzjYnsfb2jOwbHjt6s6ltJHTmNa+SuFNBe0rMOh9/GM1i7M+QIUKLVxzNy2XB0zyYomTqUr6jnqLfoJMADoxSMHt6pxsAAAAABJRU5ErkJggg==":IMAGE_PATH+"/triangle-left.png",14,26),K.prototype.roundDrop=new R.default(x.default.IS_SVG?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RTgxRjYzRTU1MDRFMTFFNEExQ0VFNDQwNDhGNzg2RDkiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RTgxRjYzRTY1MDRFMTFFNEExQ0VFNDQwNDhGNzg2RDkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpFODFGNjNFMzUwNEUxMUU0QTFDRUU0NDA0OEY3ODZEOSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpFODFGNjNFNDUwNEUxMUU0QTFDRUU0NDA0OEY3ODZEOSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PuJ657wAAAE0SURBVHjaYvz//z8DPQATA50AC4zBuP4DLjXaQOwMxJZArAfE8lDxh0B8CYiPA/FeIL6KTfP/QAFUi7AABSBOAOJoIFbBIq8FxRFAfAeIlwLxAiB+gNdHaMABiIuB2IfIkAE5pB6IjYG4F4gPEBNHIEtaSLAEGfhA9ToQskgB6hNrCuLdGmqGAj6LEsj0CTafJeCySBsa8dQC0VAzMSxyxpG6yAUqUDMxLLKkQT61xGaRHg0s0sNmkTwNLJKne1mHbNFDGpj/EJtFl2hg0SVsFh2ngUXHsVm0F1oKUwvcgZqJYdFVaFFPLbAUuY5CT3Wg+mQLFSzZAjULZ6H6AFqfHKXAkqNQMx4Qqo9AlVYNmT7bAtV7gNga9gDURWfxVOXoEY+3KmeENbdo3ThhHHbtOoAAAwDmEETshQ0fBAAAAABJRU5ErkJggg==":IMAGE_PATH+"/round-drop.png",26,26),K.prototype.refreshTarget=new R.default(x.default.IS_SVG?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAmCAYAAACoPemuAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NDQxNERDRTU1QjY1MTFFNDkzNTRFQTVEMTdGMTdBQjciIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NDQxNERDRTY1QjY1MTFFNDkzNTRFQTVEMTdGMTdBQjciPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0NDE0RENFMzVCNjUxMUU0OTM1NEVBNUQxN0YxN0FCNyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo0NDE0RENFNDVCNjUxMUU0OTM1NEVBNUQxN0YxN0FCNyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PsvuX50AAANaSURBVHja7FjRZ1tRGD9ZJ1NCyIQSwrivI4Q8hCpjlFDyFEoYfSp9Ko1QWnmo0If+BSXkIfo0QirTMUpeGo2EPfWllFYjZMLKLDJn53d3biU337m5J223bPbxk5t7v+/c3/2+73znO8fDOWezKM/YjMpz68Lj8ejY+QTeCCwLxOS9qPxtyN+6wAeBTwJ31CCO0cJDjXBGBN4LfIepSwykTUT1bgpuib0SONIgo8KRHOtRiCFcvUcgZeGrHPNBxLIyFPyRgTGz0xLbegJCdmzpElue5KlAIMDX19d5uVzm5+fnfDAYmMA17uEZdOx2Yvb/sHlu2S0xwymn5ufneTab5b1ej08S6EAXNrDd2dnhiUTim21MvMtwQ6yiIrWwsMDPzs64rsBmf3/fvM7n89TYlUnEllSkQqEQv7q64g+Vk5MTVXosORErU0Zer5f0FEIlw2N6MxwO82QyaXql2+2SxDqdjopYWUUsqEp45IldqtWq6UWVh/1+P7+8vCTJ4QMUJSRIEXuneoH96w8PDyeWAnhSJfCqwm6NIlaklFdXV0cGhRcQ2mlJQXK5nMq2YPEZbnteU1U2lUqN/D84OGD9fl+5fgnSrFarsUwmw0qlEru4uBjTicViTk3Cr27HSnxR+Doyz0ZE1CAWiUTusbu7y9rttlZv5fP5WDQavYfIMba4uEipfhF8XtqJoZXx/uH+sC/4vPg7OljZZQbsCmLtYzc3N6zRaJhotVrmfx0xDINtbm6athYUeXpHdbBNaqZUKpWxWXV7e2vex+xaWVnhc3NzjrPUXgexyCt0m67LBV7uJMITjqRE4o8tZeg8FPpFitgapYxiOC0poFgsji1jKNo6BZZckrAGUtJsNk1vqAihCBcKhTE7hNWhqw2qFnGy5UFOUYJVIJ1OjzSE+BCEilon0URavRmBqnbbQ00AXbm+vnZc9O1tj72OnQoc2+cwygRkb2+P1et17ZoEm3g87lRmjgWZ00kbXkNuse6/Bu2wlegIxfb2tuvWGroO4bO2c4bbzUh60mxDXm1sbJhhxkQYnhS4h2fUZoRAWnf7lv8N27f8P7Xhnekjgpk+VKGOoQbsiY+hhhtF3YO7twIJ+ULvUGv+GQ2fQEvWxI/THNx5/p/BaspPAQYAqStgiSQwCDoAAAAASUVORK5CYII=":IMAGE_PATH+"/refresh.png",38,38),K.prototype.init=function(){this.arrowUp=this.createArrow(this.triangleUp,null),this.arrowRight=this.createArrow(this.triangleRight,null),this.arrowDown=this.createArrow(this.triangleDown,null),this.arrowLeft=this.createArrow(this.triangleLeft,null),this.elts=[this.arrowUp,this.arrowRight,this.arrowDown,this.arrowLeft],this.repaintHandler=L.default.bind(this,(function(){this.repaint()})),this.graph.selectionModel.addListener(D.default.CHANGE,this.repaintHandler),this.graph.model.addListener(D.default.CHANGE,this.repaintHandler),this.graph.view.addListener(D.default.SCALE_AND_TRANSLATE,this.repaintHandler),this.graph.view.addListener(D.default.TRANSLATE,this.repaintHandler),this.graph.view.addListener(D.default.SCALE,this.repaintHandler),this.graph.view.addListener(D.default.DOWN,this.repaintHandler),this.graph.view.addListener(D.default.UP,this.repaintHandler),this.graph.addListener(D.default.ROOT,this.repaintHandler),this.graph.addListener(D.default.ESCAPE,L.default.bind(this,(function(){this.mouseDownPoint=null}))),D.default.addListener(this.graph.container,"mouseleave",L.default.bind(this,(function(t){null!=t.relatedTarget&&D.default.getSource(t)==this.graph.container&&this.setDisplay("none")})));var t=this.graph.click;this.graph.click=L.default.bind(this,(function(e){t.apply(this.graph,arguments),null==this.currentState||this.graph.isCellSelected(this.currentState.cell)||!D.default.isTouchEvent(e.getEvent())||this.graph.model.isVertex(e.getCell())||this.reset()}));var e=!1;this.graph.addMouseListener({mouseDown:L.default.bind(this,(function(t,i){e=!1;var n=i.getEvent();if(this.isResetEvent(n))this.reset();else if(!this.isActive()){var l=this.getState(i.getState());null==l&&D.default.isTouchEvent(n)||this.update(l)}this.setDisplay("none")})),mouseMove:L.default.bind(this,(function(t,i){var n=i.getEvent();this.isResetEvent(n)?this.reset():this.graph.isMouseDown||D.default.isTouchEvent(n)||this.update(this.getState(i.getState()),i.getGraphX(),i.getGraphY()),null!=this.graph.connectionHandler&&null!=this.graph.connectionHandler.shape&&(e=!0)})),mouseUp:L.default.bind(this,(function(t,i){var n=i.getEvent();this.isResetEvent(n)?this.reset():this.isActive()&&null!=this.mouseDownPoint&&Math.abs(i.getGraphX()-this.mouseDownPoint.x)<this.graph.tolerance&&Math.abs(i.getGraphY()-this.mouseDownPoint.y)<this.graph.tolerance?e||this.click(this.currentState,this.getDirection(),i):this.isActive()?1==this.graph.getSelectionCount()&&this.graph.model.isEdge(this.graph.getSelectionCell())?this.reset():this.update(this.getState(this.graph.view.getState(this.graph.getCellAt(i.getGraphX(),i.getGraphY())))):D.default.isTouchEvent(n)||null!=this.bbox&&v.default.contains(this.bbox,i.getGraphX(),i.getGraphY())?(this.setDisplay(""),this.repaint()):D.default.isTouchEvent(n)||this.reset(),e=!1,this.resetActiveArrow()}))})},K.prototype.isResetEvent=function(t,e){return D.default.isAltDown(t)||null==this.activeArrow&&D.default.isShiftDown(t)||D.default.isMetaDown(t)||D.default.isPopupTrigger(t)&&!D.default.isControlDown(t)},K.prototype.createArrow=function(t,e){var i=null;return x.default.IS_IE&&!x.default.IS_SVG?(x.default.IS_IE6&&"CSS1Compat"!=document.compatMode?((i=document.createElement(x.default.VML_PREFIX+":image")).setAttribute("src",t.src),i.style.borderStyle="none"):((i=document.createElement("div")).style.backgroundImage="url("+t.src+")",i.style.backgroundPosition="center",i.style.backgroundRepeat="no-repeat"),i.style.width=t.width+4+"px",i.style.height=t.height+4+"px",i.style.display=x.default.IS_QUIRKS?"inline":"inline-block"):((i=v.default.createImage(t.src)).style.width=t.width+"px",i.style.height=t.height+"px"),null!=e&&i.setAttribute("title",e),i.style.position="absolute",i.style.cursor="crosshair",D.default.addGestureListeners(i,L.default.bind(this,(function(t){null==this.currentState||this.isResetEvent(t)||(this.mouseDownPoint=v.default.convertPoint(this.graph.container,D.default.getClientX(t),D.default.getClientY(t)),this.drag(t,this.mouseDownPoint.x,this.mouseDownPoint.y),this.activeArrow=i,this.setDisplay("none"),D.default.consume(t))}))),D.default.redirectMouseEvents(i,this.graph,this.currentState),D.default.addListener(i,"mouseenter",L.default.bind(this,(function(t){D.default.isMouseEvent(t)&&(null!=this.activeArrow&&this.activeArrow!=i&&L.default.setOpacity(this.activeArrow,this.inactiveOpacity),this.graph.connectionHandler.constraintHandler.reset(),L.default.setOpacity(i,100),this.activeArrow=i)}))),D.default.addListener(i,"mouseleave",L.default.bind(this,(function(t){this.graph.isMouseDown||this.resetActiveArrow()}))),i},K.prototype.resetActiveArrow=function(){null!=this.activeArrow&&(L.default.setOpacity(this.activeArrow,this.inactiveOpacity),this.activeArrow=null)},K.prototype.getDirection=function(){var t=m.default.DIRECTION_EAST;return this.activeArrow==this.arrowUp?t=m.default.DIRECTION_NORTH:this.activeArrow==this.arrowDown?t=m.default.DIRECTION_SOUTH:this.activeArrow==this.arrowLeft&&(t=m.default.DIRECTION_WEST),t},K.prototype.visitNodes=function(t){for(var e=0;e<this.elts.length;e++)null!=this.elts[e]&&t(this.elts[e])},K.prototype.removeNodes=function(){this.visitNodes((function(t){null!=t.parentNode&&t.parentNode.removeChild(t)}))},K.prototype.setDisplay=function(t){this.visitNodes((function(e){e.style.display=t}))},K.prototype.isActive=function(){return null!=this.activeArrow&&null!=this.currentState},K.prototype.drag=function(t,e,i){if(this.graph.popupMenuHandler.hideMenu(),this.graph.stopEditing(!1),null!=this.currentState){this.graph.connectionHandler.start(this.currentState,e,i),this.graph.isMouseTrigger=D.default.isMouseEvent(t),this.graph.isMouseDown=!0;var n=this.graph.selectionCellsHandler.getHandler(this.currentState.cell);null!=n&&n.setHandlesVisible(!1)}},K.prototype.click=function(t,e,i){var n=i.getEvent(),l=i.getGraphX(),a=i.getGraphY(),r=this.graph.view.getState(this.graph.getCellAt(l,a));if(null==r||!this.graph.model.isEdge(r.cell)||D.default.isControlDown(n)||r.getVisibleTerminalState(!0)!=t&&r.getVisibleTerminalState(!1)!=t){if(null!=t){var o=this.graph.connectVertex(t.cell,e,this.graph.defaultEdgeLength,n);this.graph.selectCellsForConnectVertex(o,n,this),2==o.length&&this.graph.model.isVertex(o[1])?(this.graph.setSelectionCell(o[1]),D.default.isTouchEvent(n)?this.update(this.getState(this.graph.view.getState(o[1]))):this.reset(),this.graph.scrollCellToVisible(o[1])):this.graph.setSelectionCells(o)}}else this.graph.setSelectionCell(r.cell),this.reset();i.consume()},K.prototype.reset=function(t){(t=null==t||t)&&null!=this.updateThread&&window.clearTimeout(this.updateThread),this.mouseDownPoint=null,this.currentState=null,this.activeArrow=null,this.removeNodes(),this.bbox=null},K.prototype.repaint=function(){if(this.bbox=null,null!=this.currentState){if(this.currentState=this.getState(this.currentState),null!=this.currentState&&this.graph.model.isVertex(this.currentState.cell)&&this.graph.isCellConnectable(this.currentState.cell)){var t=_.default.fromRectangle(this.currentState);null!=this.currentState.shape&&null!=this.currentState.shape.boundingBox&&(t=_.default.fromRectangle(this.currentState.shape.boundingBox)),t.grow(this.graph.tolerance),t.grow(this.arrowSpacing);var e=this.graph.selectionCellsHandler.getHandler(this.currentState.cell);if(null!=e&&(t.x-=e.horizontalOffset/2,t.y-=e.verticalOffset/2,t.width+=e.horizontalOffset,t.height+=e.verticalOffset,null!=e.rotationShape&&null!=e.rotationShape.node&&"hidden"!=e.rotationShape.node.style.visibility&&"none"!=e.rotationShape.node.style.display&&null!=e.rotationShape.boundingBox&&t.add(e.rotationShape.boundingBox)),this.arrowUp.style.left=Math.round(this.currentState.getCenterX()-this.triangleUp.width/2)+"px",this.arrowUp.style.top=Math.round(t.y-this.triangleUp.height)+"px",L.default.setOpacity(this.arrowUp,this.inactiveOpacity),this.arrowRight.style.left=Math.round(t.x+t.width)+"px",this.arrowRight.style.top=Math.round(this.currentState.getCenterY()-this.triangleRight.height/2)+"px",L.default.setOpacity(this.arrowRight,this.inactiveOpacity),this.arrowDown.style.left=this.arrowUp.style.left,this.arrowDown.style.top=Math.round(t.y+t.height)+"px",L.default.setOpacity(this.arrowDown,this.inactiveOpacity),this.arrowLeft.style.left=Math.round(t.x-this.triangleLeft.width)+"px",this.arrowLeft.style.top=this.arrowRight.style.top,L.default.setOpacity(this.arrowLeft,this.inactiveOpacity),this.checkCollisions){var i=this.graph.getCellAt(t.x+t.width+this.triangleRight.width/2,this.currentState.getCenterY()),n=this.graph.getCellAt(t.x-this.triangleLeft.width/2,this.currentState.getCenterY()),l=this.graph.getCellAt(this.currentState.getCenterX(),t.y-this.triangleUp.height/2),a=this.graph.getCellAt(this.currentState.getCenterX(),t.y+t.height+this.triangleDown.height/2);null!=i&&i==n&&n==l&&l==a&&(i=null,n=null,l=null,a=null),null==i||this.graph.model.isAncestor(i,this.currentState.cell)?this.arrowRight.style.visibility="visible":this.arrowRight.style.visibility="hidden",null==n||this.graph.model.isAncestor(n,this.currentState.cell)?this.arrowLeft.style.visibility="visible":this.arrowLeft.style.visibility="hidden",null==l||this.graph.model.isAncestor(l,this.currentState.cell)?this.arrowUp.style.visibility="visible":this.arrowUp.style.visibility="hidden",null==a||this.graph.model.isAncestor(a,this.currentState.cell)?this.arrowDown.style.visibility="visible":this.arrowDown.style.visibility="hidden"}else this.arrowLeft.style.visibility="visible",this.arrowRight.style.visibility="visible",this.arrowUp.style.visibility="visible",this.arrowDown.style.visibility="visible"}else this.reset();null!=this.currentState&&(this.bbox=this.computeBoundingBox(),null!=this.bbox&&this.bbox.grow(10))}},K.prototype.computeBoundingBox=function(){var t=this.graph.model.isEdge(this.currentState.cell)?null:_.default.fromRectangle(this.currentState);return this.visitNodes((function(e){if(null!=e.parentNode){var i=new _.default(e.offsetLeft,e.offsetTop,e.offsetWidth,e.offsetHeight);null==t?t=i:t.add(i)}})),t},K.prototype.getState=function(t){if(null!=t){var e=t.cell;if(this.graph.getModel().isVertex(e)&&!this.graph.isCellConnectable(e)){var i=this.graph.getModel().getParent(e);this.graph.getModel().isVertex(i)&&this.graph.isCellConnectable(i)&&(e=i)}(this.graph.isCellLocked(e)||this.graph.model.isEdge(e))&&(e=null),t=this.graph.view.getState(e)}return t},K.prototype.update=function(t,e,i){if(this.graph.connectionArrowsEnabled){var n=null;this.prev!=t||this.isActive()?(this.startTime=(new Date).getTime(),this.prev=t,n=0,null!=this.updateThread&&window.clearTimeout(this.updateThread),null!=t&&(this.updateThread=window.setTimeout(L.default.bind(this,(function(){this.isActive()||this.graph.isMouseDown||this.graph.panningHandler.isActive()||(this.prev=t,this.update(t,e,i))})),this.updateDelay+10))):null!=this.startTime&&(n=(new Date).getTime()-this.startTime),this.setDisplay(""),null!=this.currentState&&this.currentState!=t&&n<this.activationDelay&&null!=this.bbox&&!v.default.contains(this.bbox,e,i)?this.reset(!1):(null!=this.currentState||n>this.activationDelay)&&this.currentState!=t&&(n>this.updateDelay&&null!=t||null==this.bbox||null==e||null==i||!v.default.contains(this.bbox,e,i))&&(null!=t&&this.graph.isEnabled()&&t.shape&&t.shape.stencil&&t.shape.stencil.constraints?(this.removeNodes(),this.setCurrentState(t),this.repaint(),this.graph.connectionHandler.constraintHandler.currentFocus!=t&&this.graph.connectionHandler.constraintHandler.reset()):this.reset())}else this.reset()},K.prototype.setCurrentState=function(t){"eastwest"!=t.style.portConstraint&&(this.graph.container.appendChild(this.arrowUp),this.graph.container.appendChild(this.arrowDown)),this.graph.container.appendChild(this.arrowRight),this.graph.container.appendChild(this.arrowLeft),this.currentState=t},function(){var t=P.default.prototype.evaluateTextAttribute;P.default.prototype.evaluateTextAttribute=function(e,i,n){var l=t.apply(this,arguments);return"1"==e.getAttribute("placeholders")&&null!=n.state&&(l=n.state.view.graph.replacePlaceholders(n.state.cell,l)),l};var e=h.default.prototype.createShape;h.default.prototype.createShape=function(t){if(null!=t.style&&"undefined"!=typeof pako){var i=L.default.getValue(t.style,m.default.STYLE_SHAPE,null);if(null!=i&&"stencil("==i.substring(0,8))try{var n=i.substring(8,i.length-1),l=v.default.parseXml(t.view.graph.decompress(n));return new u.default(new P.default(l.documentElement))}catch(t){window.console}}return e.apply(this,arguments)}}(),r.default.libraries={},r.default.dynamicLoading=!0,r.default.packages=[],r.default.getStencil=function(t){var e=r.default.stencils[t];if(null==e&&null==h.default.prototype.defaultShapes[t]&&r.default.dynamicLoading){var i=r.default.getBasenameForStencil(t);if(null!=i){var n=r.default.libraries[i];if(null!=n){if(null==r.default.packages[i]){r.default.packages[i]=1;for(var l=0;l<n.length;l++){var a=n[l];if(".xml"==a.toLowerCase().substring(a.length-4,a.length))r.default.loadStencilSet(a,null);else if(".js"==a.toLowerCase().substring(a.length-3,a.length))try{var o=U.default.load(a);null!=o&&200==o.getStatus()&&eval.call(window,o.getText())}catch(t){window.console}}}}else i=i.replace("_-_","_"),r.default.loadStencilSet(STENCIL_PATH+"/"+i+".xml",null);e=r.default.stencils[t]}}return e},r.default.getBasenameForStencil=function(t){var e=null;if(null!=t){var i=t.split(".");if(i.length>0&&"ierp"==i[0]){e=i[1];for(var n=2;n<i.length-1;n++)e+="/"+i[n]}}return e},r.default.loadStencilSet=function(t,e,i,n){i=null!=i&&i;var l=r.default.packages[t];if(i||null==l){var a=!1;if(null==l)try{var o=window.resourceVersion?"".concat(t,"?v=").concat(window.resourceVersion):t;if(o=(0,X.default)(o),n){var s=U.default.get(o,L.default.bind(this,(function(i){200==i.getStatus()&&(l=i.getXml(),r.default.packages[t]=l,a=!0,null!=l&&null!=l.documentElement&&r.default.parseStencilSet(l.documentElement,e,a))})));return}s=U.default.load(o);l=s.getXml(),r.default.packages[t]=l,a=!0}catch(t){window.console}null!=l&&null!=l.documentElement&&r.default.parseStencilSet(l.documentElement,e,a)}},r.default.parseStencilSets=function(t){for(var e=0;e<t.length;e++)r.default.parseStencilSet(v.default.parseXml(t[e]).documentElement)},r.default.parseStencilSet=function(t,e,i){if("stencils"==t.nodeName)for(var n=t.firstChild;null!=n;)"shapes"==n.nodeName&&r.default.parseStencilSet(n,e,i),n=n.nextSibling;else{i=null==i||i;var l=t.firstChild,a="",o=t.getAttribute("name");for(null!=o&&(a=o+".");null!=l;){if(l.nodeType==m.default.NODETYPE_ELEMENT&&null!=(o=l.getAttribute("name"))){a=a.toLowerCase();var s=o.replace(/ /g,"_");if(i&&r.default.addStencil(a+s,l),null!=e){var u=l.getAttribute("w"),d=l.getAttribute("h");e(a,s,o,u=null==u?80:parseInt(u,10),d=null==d?80:parseInt(d,10))}}l=l.nextSibling}}},void 0!==f.default&&function(){m.default.HANDLE_FILLCOLOR="#99ccff",m.default.HANDLE_STROKECOLOR="#0088cf",m.default.VERTEX_SELECTION_COLOR="#00a8ff",m.default.OUTLINE_COLOR="#00a8ff",m.default.OUTLINE_HANDLE_FILLCOLOR="#99ccff",m.default.OUTLINE_HANDLE_STROKECOLOR="#00a8ff",m.default.CONNECT_HANDLE_FILLCOLOR="#cee7ff",m.default.EDGE_SELECTION_COLOR="#00a8ff",m.default.DEFAULT_VALID_COLOR="#00a8ff",m.default.LABEL_HANDLE_FILLCOLOR="#cee7ff",m.default.GUIDE_COLOR="#0088cf",m.default.HIGHLIGHT_OPACITY=30,m.default.HIGHLIGHT_SIZE=8,w.default.prototype.snapToTerminals=!0,p.default.prototype.guidesEnabled=!0,G.default.prototype.isEnabledForEvent=function(t){return!D.default.isAltDown(t)};var t=S.default.prototype.isCreateTarget;S.default.prototype.isCreateTarget=function(e){return D.default.isControlDown(e)||t.apply(this,arguments)},s.default.prototype.createHighlightShape=function(){var t=new T.default(null,this.highlightColor,this.highlightColor,0);return t.opacity=m.default.HIGHLIGHT_OPACITY,t},S.default.prototype.livePreview=!0,S.default.prototype.cursor="crosshair",S.default.prototype.createEdgeState=function(t){var e=this.graph.createCurrentEdgeStyle(),i=this.graph.createEdge(null,null,null,null,null,e),n=new l.default(this.graph.view,i,this.graph.getCellStyle(i));for(var a in this.graph.currentEdgeStyle)n.style[a]=this.graph.currentEdgeStyle[a];return n};var e=S.default.prototype.createShape;S.default.prototype.createShape=function(){var t=e.apply(this,arguments);return t.isDashed="1"==this.graph.currentEdgeStyle[m.default.STYLE_DASHED],t},S.default.prototype.updatePreview=function(t){};var i=S.default.prototype.createMarker;S.default.prototype.createMarker=function(){var t=i.apply(this,arguments),e=t.getCell;return t.getCell=L.default.bind(this,(function(t){var i=e.apply(this,arguments);return this.error=null,i})),t},F.default.prototype.defaultEdgeStyle={edgeStyle:"orthogonalEdgeStyle",rounded:"1",html:"1",jettySize:"auto",orthogonalLoop:"1"},F.default.prototype.currentEdgeStyle=F.default.prototype.defaultEdgeStyle,F.default.prototype.currentVertexStyle={},F.default.prototype.createCurrentEdgeStyle=function(){var t="edgeStyle="+(this.currentEdgeStyle.edgeStyle||"none")+";";return null!=this.currentEdgeStyle.shape&&(t+="shape="+this.currentEdgeStyle.shape+";"),null!=this.currentEdgeStyle.curved&&(t+="curved="+this.currentEdgeStyle.curved+";"),null!=this.currentEdgeStyle.rounded&&(t+="rounded="+this.currentEdgeStyle.rounded+";"),null!=this.currentEdgeStyle.comic&&(t+="comic="+this.currentEdgeStyle.comic+";"),"elbowEdgeStyle"==this.currentEdgeStyle.edgeStyle&&null!=this.currentEdgeStyle.elbow&&(t+="elbow="+this.currentEdgeStyle.elbow+";"),null!=this.currentEdgeStyle.html?t+="html="+this.currentEdgeStyle.html+";":t+="html=1;",t},F.default.prototype.getPagePadding=function(){return new B.default(0,0)},F.default.prototype.loadStylesheet=function(){var t=null!=this.themes?this.themes[this.defaultThemeName]:M.default.dynamicLoading?U.default.load(STYLE_PATH+"/default.xml").getDocumentElement():null;null!=t&&new k.default(t.ownerDocument).decode(t,this.getStylesheet())},F.default.prototype.getAllConnectionConstraints=function(t,e){if(null!=t){var i=L.default.getValue(t.style,"points",null);if(null!=i){var n=[];try{for(var l=JSON.parse(i),a=0;a<l.length;a++){var r=l[a];n.push(new j.default(new B.default(r[0],r[1]),!(r.length>2)||"0"!=r[2]))}}catch(t){}return n}if(null!=t.shape)if(null!=t.shape.stencil){if(null!=t.shape.stencil)return t.shape.stencil.constraints}else if(null!=t.shape.constraints)return t.shape.constraints}return null},F.default.prototype.flipEdge=function(t){if(null!=t){var e=this.view.getState(t),i=null!=e?e.style:this.getCellStyle(t);if(null!=i){var n=L.default.getValue(i,m.default.STYLE_ELBOW,m.default.ELBOW_HORIZONTAL)==m.default.ELBOW_HORIZONTAL?m.default.ELBOW_VERTICAL:m.default.ELBOW_HORIZONTAL;this.setCellStyles(m.default.STYLE_ELBOW,n,[t])}}},F.default.prototype.isValidRoot=function(t){for(var e=this.model.getChildCount(t),i=0,n=0;n<e;n++){var l=this.model.getChildAt(t,n);if(this.model.isVertex(l)){var a=this.getCellGeometry(l);null==a||a.relative||i++}}return i>0||this.isContainer(t)},F.default.prototype.isValidDropTarget=function(t){var e=this.view.getState(t),i=null!=e?e.style:this.getCellStyle(t);return"1"!=L.default.getValue(i,"part","0")&&(this.isContainer(t)||a.default.prototype.isValidDropTarget.apply(this,arguments)&&"0"!=L.default.getValue(i,"dropTarget","1"))},F.default.prototype.createGroupCell=function(){var t=a.default.prototype.createGroupCell.apply(this,arguments);return t.setStyle("group"),t},F.default.prototype.isExtendParentsOnAdd=function(t){var e=a.default.prototype.isExtendParentsOnAdd.apply(this,arguments);if(e&&null!=t&&null!=this.layoutManager){var i=this.model.getParent(t);if(null!=i){var n=this.layoutManager.getLayout(i);null!=n&&n.constructor==z.default&&(e=!1)}}return e},F.default.prototype.getPreferredSizeForCell=function(t){var e=a.default.prototype.getPreferredSizeForCell.apply(this,arguments);return null!=e&&(e.width+=10,e.height+=4,this.gridEnabled&&(e.width=this.snap(e.width),e.height=this.snap(e.height))),e},F.default.prototype.turnShapes=function(t){var e=this.getModel(),i=[];e.beginUpdate();try{for(var n=0;n<t.length;n++){var l=t[n];if(e.isEdge(l)){var a=e.getTerminal(l,!0),r=e.getTerminal(l,!1);if(e.setTerminal(l,r,!0),e.setTerminal(l,a,!1),null!=(f=e.getGeometry(l))){null!=(f=f.clone()).points&&f.points.reverse();var o=f.getTerminalPoint(!0),s=f.getTerminalPoint(!1);f.setTerminalPoint(o,!1),f.setTerminalPoint(s,!0),e.setGeometry(l,f);var u=this.view.getState(l),d=this.view.getState(a),h=this.view.getState(r);if(null!=u){var c=null!=d?this.getConnectionConstraint(u,d,!0):null,p=null!=h?this.getConnectionConstraint(u,h,!1):null;this.setConnectionConstraint(l,a,!0,p),this.setConnectionConstraint(l,r,!1,c)}i.push(l)}}else if(e.isVertex(l)){var f;if(null!=(f=this.getCellGeometry(l))){(f=f.clone()).x+=f.width/2-f.height/2,f.y+=f.height/2-f.width/2;var g=f.width;f.width=f.height,f.height=g,e.setGeometry(l,f);var y=this.view.getState(l);if(null!=y){var v=y.style[m.default.STYLE_DIRECTION]||"east";"east"==v?v="south":"south"==v?v="west":"west"==v?v="north":"north"==v&&(v="east"),this.setCellStyles(m.default.STYLE_DIRECTION,v,[l])}i.push(l)}}}}finally{e.endUpdate()}return i},F.default.prototype.processChange=function(t){if(a.default.prototype.processChange.apply(this,arguments),t instanceof Y.default&&null!=t.cell.value&&"object"==J(t.cell.value)){var e=this.model.getDescendants(t.cell);if(e.length>0)for(var i=0;i<e.length;i++)this.isReplacePlaceholders(e[i])&&this.view.invalidate(e[i],!1,!1)}},F.default.prototype.cellLabelChanged=function(t,e,i){e=this.zapGremlins(e),this.model.beginUpdate();try{if(null!=t.value&&"object"==J(t.value)){var n=t.value.cloneNode(!0);n.setAttribute("label",e),this.isReplacePlaceholders(t)&&null!=n.getAttribute("placeholder")&&this.setAttributeForCell(this.getModel().getRoot(),n.getAttribute("placeholder"),e),e=n}a.default.prototype.cellLabelChanged.apply(this,arguments)}finally{this.model.endUpdate()}},F.default.prototype.removeCellsAfterUngroup=function(t){for(var e=[],i=0;i<t.length;i++)if(this.isCellDeletable(t[i])){var n=this.view.getState(t[i]);if(null!=n){var l=L.default.getValue(n.style,m.default.STYLE_STROKECOLOR,m.default.NONE),r=L.default.getValue(n.style,m.default.STYLE_FILLCOLOR,m.default.NONE);l==m.default.NONE&&r==m.default.NONE&&e.push(t[i])}}t=e,a.default.prototype.removeCellsAfterUngroup.apply(this,arguments)},F.default.prototype.setLinkForCell=function(t,e){this.setAttributeForCell(t,"link",e)},F.default.prototype.setTooltipForCell=function(t,e){this.setAttributeForCell(t,"tooltip",e)},F.default.prototype.setAttributeForCell=function(t,e,i){this.model.setValue(t,null)},F.default.prototype.getDropTarget=function(t,e,i,n){this.getModel();if(D.default.isAltDown(e))return null;for(var l=0;l<t.length;l++)if(this.model.isEdge(this.model.getParent(t[l])))return null;return a.default.prototype.getDropTarget.apply(this,arguments)},F.default.prototype.click=function(t){a.default.prototype.click.call(this,t),this.firstClickState=t.getState(),this.firstClickSource=t.getSource()},F.default.prototype.dblClick=function(t,e){},F.default.prototype.getInsertPoint=function(){var t=this.getGridSize(),e=this.container.scrollLeft/this.view.scale-this.view.translate.x,i=this.container.scrollTop/this.view.scale-this.view.translate.y;if(this.pageVisible){var n=this.getPageLayout(),l=this.getPageSize();e=Math.max(e,n.x*l.width),i=Math.max(i,n.y*l.height)}return new B.default(this.snap(e+t),this.snap(i+t))},F.default.prototype.addText=function(t,e,i){var n=new E.default;if(n.value="Text",n.style="text;html=1;resizable=0;points=[];",n.geometry=new H.default(0,0,0,0),n.vertex=!0,null!=i){n.style+="align=center;verticalAlign=middle;labelBackgroundColor=#ffffff;",n.geometry.relative=!0,n.connectable=!1;var l=this.view.getRelativePoint(i,t,e);n.geometry.x=Math.round(1e4*l.x)/1e4,n.geometry.y=Math.round(l.y),n.geometry.offset=new B.default(0,0),l=this.view.getPoint(i,n.geometry);var a=this.view.scale;n.geometry.offset=new B.default(Math.round((t-l.x)/a),Math.round((e-l.y)/a))}else{n.style+="autosize=1;align=left;verticalAlign=top;spacingTop=-4;";var r=this.view.translate;n.geometry.width=40,n.geometry.height=20,n.geometry.x=Math.round(t/this.view.scale)-r.x,n.geometry.y=Math.round(e/this.view.scale)-r.y}this.getModel().beginUpdate();try{this.addCells([n],null!=i?i.cell:null),this.fireEvent(new d.default("textInserted","cells",[n])),this.autoSizeCell(n)}finally{this.getModel().endUpdate()}return n},F.default.prototype.getLinkUrl=function(t){return t},F.default.prototype.getAbsoluteUrl=function(t){return null!=t&&this.isRelativeUrl(t)&&(t="/"==t.charAt(0)?this.domainUrl+t:this.domainPathUrl+t),t},F.default.prototype.isBlankLink=function(t){var e=this.domainUrl;return"self"!=urlParams.target&&null!=t&&"#"!=t.charAt(0)&&t.substring(0,e.length)!=e&&!this.isRelativeUrl(t)},F.default.prototype.isRelativeUrl=function(t){return!new RegExp("^(?:[a-z]+:)?//","i").test(t)&&"data:image"!=t.substring(0,10)&&"mailto:"!=t.substring(0,7)},F.default.prototype.addClickHandler=function(t,e,i){var n=L.default.bind(this,(function(){var t=this.container.getElementsByTagName("a");if(null!=t)for(var i=0;i<t.length;i++){var n=t[i].getAttribute("href");null==n||this.isBlankLink(n)||(window!=window.top?(t[i].setAttribute("target","_top"),n.charAt("#")?t[i].setAttribute("href",this.baseUrl+n):t[i].setAttribute("href",this.getAbsoluteUrl(n))):"_blank"==t[i].getAttribute("target")&&t[i].removeAttribute("target"),null!=e&&D.default.addListener(t[i],"click",e))}}));this.model.addListener(D.default.CHANGE,n),n();var l=this.container.style.cursor,a=this.getTolerance(),r=this,o={currentState:null,currentLink:null,highlight:null!=t&&""!=t&&t!=m.default.NONE?new N.default(r,t,4):null,startX:0,startY:0,scrollLeft:0,scrollTop:0,updateCurrentState:function(t){var e=r.view.getState(t.getCell());e!=this.currentState&&(null!=this.currentState&&this.clear(),this.currentState=e,null!=this.currentState&&this.activate(this.currentState))},mouseDown:function(t,e){this.startX=e.getGraphX(),this.startY=e.getGraphY(),this.scrollLeft=r.container.scrollLeft,this.scrollTop=r.container.scrollTop,null==this.currentLink&&"auto"==r.container.style.overflow&&(r.container.style.cursor="move"),this.updateCurrentState(e)},mouseMove:function(t,e){if(r.isMouseDown){if(null!=this.currentLink){var i=Math.abs(this.startX-e.getGraphX()),n=Math.abs(this.startY-e.getGraphY());(i>a||n>a)&&this.clear()}}else if("a"==e.getSource().nodeName.toLowerCase())this.clear();else{if(null!=this.currentState&&(e.getState()==this.currentState||null==e.getState())&&r.intersects(this.currentState,e.getGraphX(),e.getGraphY()))return;this.updateCurrentState(e)}},mouseUp:function(t,n){var l=n.getSource(),o=this.currentLink;this.clear(),"a"==l.nodeName.toLowerCase()||n.isConsumed()||null!=n.getState()&&n.isSource(n.getState().control)||!D.default.isLeftMouseButton(n.getEvent())&&!D.default.isTouchEvent(n.getEvent())||(null!=o?(r.isBlankLink(o)?window.open(o):(null!=e&&e(n.getEvent()),"#"==o.charAt(0)?window!=window.top?window.open(r.baseUrl+o,"_top"):window.location.hash=o:window!=window.top?window.open(r.getAbsoluteUrl(o),"_top"):window.location=o),n.consume()):null!=i&&!n.isConsumed()&&Math.abs(this.scrollLeft-r.container.scrollLeft)<a&&Math.abs(this.scrollTop-r.container.scrollTop)<a&&Math.abs(this.startX-n.getGraphX())<a&&Math.abs(this.startY-n.getGraphY())<a&&i(n.getEvent()))},activate:function(t){this.currentLink=r.getLinkUrl(r.getLinkForCell(t.cell)),null!=this.currentLink&&(r.container.style.cursor="pointer",null!=this.highlight&&this.highlight.highlight(t))},clear:function(){null!=r.container&&(r.container.style.cursor=l),this.currentState=null,this.currentLink=null,null!=this.highlight&&this.highlight.hide()}};r.click=function(t){},r.addMouseListener(o),D.default.addListener(document,"mouseleave",(function(t){o.clear()}))},F.default.prototype.duplicateCells=function(t,e,i){t=null!=t?t:this.getSelectionCells(),e=null==e||e,t=this.model.getTopmostCells(t);var n=this.getModel(),l=this.gridSize,a=[];n.beginUpdate();try{for(var r=this.cloneCells(t,!1),o=0;o<t.length;o++){i&&this.model.setGeometry(r[o],i);var s=n.getParent(t[o]),u=this.moveCells([r[o]],l,l,!1,s)[0];if(a.push(u),e)n.add(s,r[o]);else{var d=s.getIndex(t[o]);n.add(s,r[o],d+1)}}}finally{n.endUpdate()}return a},F.default.prototype.insertImage=function(t,e,i){if(null!=t){for(var n=this.cellEditor.textarea.getElementsByTagName("img"),l=[],a=0;a<n.length;a++)l.push(n[a]);document.execCommand("insertimage",!1,t);var r=this.cellEditor.textarea.getElementsByTagName("img");if(r.length==l.length+1)for(a=r.length-1;a>=0;a--)if(0==a||r[a]!=l[a-1]){r[a].setAttribute("width",e),r[a].setAttribute("height",i);break}}},F.default.prototype.isCellResizable=function(t){var e=a.default.prototype.isCellResizable.apply(this,arguments),i=this.view.getState(t),n=null!=i?i.style:this.getCellStyle(t);return e||"0"!=L.default.getValue(n,m.default.STYLE_RESIZABLE,"1")&&"wrap"==n[m.default.STYLE_WHITE_SPACE]},F.default.prototype.distributeCells=function(t,e){if(null==e&&(e=this.getSelectionCells()),null!=e&&e.length>1){for(var i=[],n=null,l=null,a=0;a<e.length;a++)if(this.getModel().isVertex(e[a])){var r=this.view.getState(e[a]);if(null!=r){var o=t?r.getCenterX():r.getCenterY();n=null!=n?Math.max(n,o):o,l=null!=l?Math.min(l,o):o,i.push(r)}}if(i.length>2){i.sort((function(e,i){return t?e.x-i.x:e.y-i.y}));var s=this.view.translate,u=this.view.scale;l=l/u-(t?s.x:s.y),n=n/u-(t?s.x:s.y),this.getModel().beginUpdate();try{var d=(n-l)/(i.length-1),h=l;for(a=1;a<i.length-1;a++){var c=this.getCellGeometry(i[a].cell);h+=d,null!=c&&(c=c.clone(),t?c.x=Math.round(h-c.width/2):c.y=Math.round(h-c.height/2),this.getModel().setGeometry(i[a].cell,c))}}finally{this.getModel().endUpdate()}}}return e},F.default.prototype.isCloneEvent=function(t){return!1},F.default.prototype.encodeCells=function(t){for(var e=this.cloneCells(t),i=0;i<e.length;i++){var n=this.view.getState(t[i]);if(null!=n){var l=this.getCellGeometry(e[i]);null!=l&&l.relative&&(l.relative=!1,l.x=n.x/n.view.scale-n.view.translate.x,l.y=n.y/n.view.scale-n.view.translate.y)}}var a=new k.default,r=new C.default,o=r.getChildAt(r.getRoot(),0);for(i=0;i<t.length;i++)r.add(o,e[i]);return a.encode(r)},F.default.prototype.createSvgImageExport=function(){var t=new O.default;return t.getLinkForCellState=L.default.bind(this,(function(t,e){return this.getLinkForCell(t.cell)})),t},F.default.prototype.getSvg=function(t,e,i,n,l,a,r){e=null!=e?e:1,i=null!=i?i:1,l=null==l||l,a=null==a||a,r=null==r||r;var o=n?this.view.getBackgroundPageBounds():a?this.getGraphBounds():this.getBoundingBox(this.getSelectionCells());if(null==o)throw Error(g.default.get("drawingEmpty"));var s=this.createSvgImageExport(),u=s.drawCellState;s.drawCellState=function(t,e){(a||t.view.graph.isCellSelected(t.cell))&&u.apply(this,arguments)};var d=this.view.scale,h=v.default.createXmlDocument(),c=null!=h.createElementNS?h.createElementNS(m.default.NS_SVG,"svg"):h.createElement("svg");null!=t&&(null!=c.style?c.style.backgroundColor=t:c.setAttribute("style","background-color:"+t)),null==h.createElementNS?(c.setAttribute("xmlns",m.default.NS_SVG),c.setAttribute("xmlns:xlink",m.default.NS_XLINK)):c.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink",m.default.NS_XLINK);var p=e/d;c.setAttribute("width",Math.ceil(o.width*p)+2*i+"px"),c.setAttribute("height",Math.ceil(o.height*p)+2*i+"px"),c.setAttribute("version","1.1");var f=c;if(l){var y=null!=h.createElementNS?h.createElementNS(m.default.NS_SVG,"g"):h.createElement("g");y.setAttribute("class","root"),y.setAttribute("transform","translate(0.5,0.5)"),c.appendChild(y),h.appendChild(c),f=y}else h.appendChild(c);var E=new V.default(f);if(E.foOffset=l?-.5:0,E.textOffset=l?-.5:0,E.translate(Math.floor((i/e-o.x)/d),Math.floor((i/e-o.y)/d)),E.defs){var b=E.defs.cloneNode(!0);c.firstChild?c.insertBefore(b,c.firstChild):c.appendChild(b)}var S=E.createAlternateContent;E.createAlternateContent=function(t,e,i,n,l,a,r,o,s,u,d,h,c){var p=this.state;if(null!=this.foAltText&&(0==n||0!=p.fontSize&&a.length<5*n/p.fontSize)){var f=this.createElement("text");return f.setAttribute("x",Math.round(n/2)),f.setAttribute("y",Math.round((l+p.fontSize)/2)),f.setAttribute("fill",p.fontColor||"black"),f.setAttribute("text-anchor","middle"),f.setAttribute("font-size",Math.round(p.fontSize)+"px"),f.setAttribute("font-family",p.fontFamily),(p.fontStyle&m.default.FONT_BOLD)==m.default.FONT_BOLD&&f.setAttribute("font-weight","bold"),(p.fontStyle&m.default.FONT_ITALIC)==m.default.FONT_ITALIC&&f.setAttribute("font-style","italic"),(p.fontStyle&m.default.FONT_UNDERLINE)==m.default.FONT_UNDERLINE&&f.setAttribute("text-decoration","underline"),L.default.write(f,a),f}return S.apply(this,arguments)};var w=this.backgroundImage;if(null!=w){var A=d/e,C=this.view.translate,T=new _.default(C.x*A,C.y*A,w.width*A,w.height*A);v.default.intersects(o,T)&&E.image(C.x,C.y,w.width,w.height,w.src,!0)}return E.scale(p),E.textEnabled=r,s.drawState(this.getView().getState(this.model.root),E),c},F.default.prototype.getSelectedElement=function(){var t=null;if(window.getSelection){var e=window.getSelection();if(e.getRangeAt&&e.rangeCount)t=e.getRangeAt(0).commonAncestorContainer}else document.selection&&(t=document.selection.createRange().parentElement());return t},F.default.prototype.getParentByName=function(t,e,i){for(;null!=t;){if(t.nodeName==e)return t;if(t==i)return null;t=t.parentNode}return t},F.default.prototype.selectNode=function(t){var e=null;if(window.getSelection)(e=window.getSelection()).getRangeAt&&e.rangeCount&&((i=document.createRange()).selectNode(t),e.removeAllRanges(),e.addRange(i));else if((e=document.selection)&&"Control"!=e.type){var i,n=e.createRange();n.collapse(!0),(i=e.createRange()).setEndPoint("StartToStart",n),i.select()}},F.default.prototype.insertRow=function(t,e){for(var i=t.tBodies[0],n=i.rows.length>0?i.rows[0].cells.length:1,l=i.insertRow(e),a=0;a<n;a++)v.default.br(l.insertCell(-1));return l.cells[0]},F.default.prototype.deleteRow=function(t,e){t.tBodies[0].deleteRow(e)},F.default.prototype.insertColumn=function(t,e){var i=t.tHead;if(null!=i)for(var n=0;n<i.rows.length;n++){var l=document.createElement("th");i.rows[n].appendChild(l),v.default.br(l)}for(var a=t.tBodies[0],r=0;r<a.rows.length;r++){var o=a.rows[r].insertCell(e);v.default.br(o)}return a.rows[0].cells[e>=0?e:a.rows[0].cells.length-1]},F.default.prototype.deleteColumn=function(t,e){if(e>=0)for(var i=t.tBodies[0].rows,n=0;n<i.length;n++)i[n].cells.length>e&&i[n].deleteCell(e)},F.default.prototype.pasteHtmlAtCaret=function(t){var e,i;if(window.getSelection){if((e=window.getSelection()).getRangeAt&&e.rangeCount){(i=e.getRangeAt(0)).deleteContents();var n=document.createElement("div");n.innerHTML=t;for(var l,a=document.createDocumentFragment();l=n.firstChild;)a.appendChild(l);i.insertNode(a)}}else(e=document.selection)&&"Control"!=e.type&&e.createRange().pasteHTML(t)},F.default.prototype.initTouch=function(){this.connectionHandler.marker.isEnabled=function(){return null!=this.graph.connectionHandler.first},this.addListener(D.default.START_EDITING,(function(t,e){this.popupMenuHandler.hideMenu()}));var t=this.updateMouseEvent;this.updateMouseEvent=function(e){if(e=t.apply(this,arguments),D.default.isTouchEvent(e.getEvent())&&null==e.getState()){var i=this.getCellAt(e.graphX,e.graphY);null!=i&&this.isSwimlane(i)&&this.hitsSwimlaneContent(i,e.graphX,e.graphY)?i=null:(e.state=this.view.getState(i),null!=e.state&&null!=e.state.shape&&(this.container.style.cursor=e.state.shape.node.style.cursor))}return null==e.getState()&&this.isEnabled()&&(this.container.style.cursor="default"),e};var e=!1,i=!1,n=!1,l=this.fireMouseEvent;this.fireMouseEvent=function(t,a,r){t==D.default.MOUSE_DOWN&&(a=this.updateMouseEvent(a),e=this.isCellSelected(a.getCell()),i=this.isSelectionEmpty(),n=this.popupMenuHandler.isMenuShowing()),l.apply(this,arguments)},this.popupMenuHandler.mouseUp=L.default.bind(this,(function(t,l){this.popupMenuHandler.popupTrigger=!this.isEditing()&&this.isEnabled()&&(null==l.getState()||!l.isSource(l.getState().control))&&(this.popupMenuHandler.popupTrigger||!n&&!D.default.isMouseEvent(l.getEvent())&&(i&&null==l.getCell()&&this.isSelectionEmpty()||e&&this.isCellSelected(l.getCell()))),c.default.prototype.mouseUp.apply(this.popupMenuHandler,arguments)}))},y.default.prototype.isContentEditing=function(){var t=this.graph.view.getState(this.editingCell);return null!=t&&1==t.style.html},y.default.prototype.saveSelection=function(){if(window.getSelection){var t=window.getSelection();if(t.getRangeAt&&t.rangeCount){for(var e=[],i=0,n=t.rangeCount;i<n;++i)e.push(t.getRangeAt(i));return e}}else if(document.selection&&document.selection.createRange)return document.selection.createRange();return null},y.default.prototype.restoreSelection=function(t){if(t)if(window.getSelection){sel=window.getSelection(),sel.removeAllRanges();for(var e=0,i=t.length;e<i;++e)sel.addRange(t[e])}else document.selection&&t.select&&t.select()};var r=h.default.prototype.initializeLabel;h.default.prototype.initializeLabel=function(t){null!=t.text&&(t.text.replaceLinefeeds="0"!=L.default.getValue(t.style,"nl2Br","1")),r.apply(this,arguments)};var P=s.default.prototype.update;s.default.prototype.update=function(t,e){this.isKeepFocusEvent(t)||!D.default.isAltDown(t.getEvent())?P.apply(this,arguments):this.reset()},G.default.prototype.createGuideShape=function(t){return new n.default([],m.default.GUIDE_COLOR,m.default.GUIDE_STROKEWIDTH)},y.default.prototype.escapeCancelsEditing=!1;var X=y.default.prototype.startEditing;y.default.prototype.startEditing=function(t,e){X.apply(this,arguments);var i=this.graph.view.getState(t);null!=i&&1==i.style.html?this.textarea.className="mxCellEditor geContentEditable":this.textarea.className="mxCellEditor mxPlainTextEditor",this.codeViewMode=!1,this.switchSelectionState=null,this.graph.setSelectionCell(t),null==this.textarea&&this.init();var n=this.graph.getModel().getParent(t),l=this.graph.getCellGeometry(t);this.graph.getModel().isEdge(n)&&null!=l&&l.relative||this.graph.getModel().isEdge(t)?x.default.IS_QUIRKS?this.textarea.style.border="gray dotted 1px":x.default.IS_IE||x.default.IS_IE11||x.default.IS_FF&&x.default.IS_WIN?this.textarea.style.outline="gray dotted 1px":this.textarea.style.outline="":x.default.IS_QUIRKS&&(this.textarea.style.outline="none",this.textarea.style.border="")};var Q=y.default.prototype.installListeners;y.default.prototype.installListeners=function(t){function e(t,i){i.originalNode=t,t=t.firstChild;for(var n=i.firstChild;null!=t&&null!=n;)e(t,n),t=t.nextSibling,n=n.nextSibling;return i}function i(t,e){if(e.originalNode!=t)n(t);else for(t=t.firstChild,e=e.firstChild;null!=t;){var l=t.nextSibling;null==e?n(t):(i(t,e),e=e.nextSibling),t=l}}function n(t){for(var e=t.firstChild;null!=e;){var i=e.nextSibling;n(e),e=i}1==t.nodeType&&("BR"===t.nodeName||null!=t.firstChild)||3==t.nodeType&&0!=L.default.trim(v.default.getTextContent(t)).length?(3==t.nodeType&&v.default.setTextContent(t,v.default.getTextContent(t).replace(/\n|\r/g,"")),1==t.nodeType&&(t.removeAttribute("style"),t.removeAttribute("class"),t.removeAttribute("width"),t.removeAttribute("cellpadding"),t.removeAttribute("cellspacing"),t.removeAttribute("border"))):t.parentNode.removeChild(t)}Q.apply(this,arguments),x.default.IS_QUIRKS||7===document.documentMode||8===document.documentMode||D.default.addListener(this.textarea,"paste",L.default.bind(this,(function(t){var n=e(this.textarea,this.textarea.cloneNode(!0));window.setTimeout(L.default.bind(this,(function(){i(this.textarea,n)})),0)})))},y.default.prototype.toggleViewMode=function(){var t=this.graph.view.getState(this.editingCell)||{},e="0"!=L.default.getValue(t.style,"nl2Br","1"),i=this.saveSelection();if(this.codeViewMode){(s=v.default.extractTextWithWhitespace(this.textarea.childNodes)).length>0&&"\n"==s.charAt(s.length-1)&&(s=s.substring(0,s.length-1)),s=this.graph.sanitizeHtml(e?s.replace(/\n/g,"<br/>"):s),this.textarea.className="mxCellEditor geContentEditable";u=L.default.getValue(t.style,m.default.STYLE_FONTSIZE,m.default.DEFAULT_FONTSIZE);var n=L.default.getValue(t.style,m.default.STYLE_FONTFAMILY,m.default.DEFAULT_FONTFAMILY),l=L.default.getValue(t.style,m.default.STYLE_ALIGN,m.default.ALIGN_LEFT),a=(L.default.getValue(t.style,m.default.STYLE_FONTSTYLE,0)&m.default.FONT_BOLD)==m.default.FONT_BOLD,r=(L.default.getValue(t.style,m.default.STYLE_FONTSTYLE,0)&m.default.FONT_ITALIC)==m.default.FONT_ITALIC,o=(L.default.getValue(t.style,m.default.STYLE_FONTSTYLE,0)&m.default.FONT_UNDERLINE)==m.default.FONT_UNDERLINE;this.textarea.style.lineHeight=m.default.ABSOLUTE_LINE_HEIGHT?Math.round(u*m.default.LINE_HEIGHT)+"px":m.default.LINE_HEIGHT,this.textarea.style.fontSize=Math.round(u)+"px",this.textarea.style.textDecoration=o?"underline":"",this.textarea.style.fontWeight=a?"bold":"normal",this.textarea.style.fontStyle=r?"italic":"",this.textarea.style.fontFamily=n,this.textarea.style.textAlign=l,this.textarea.style.padding="0px",this.textarea.innerHTML!=s&&(this.textarea.innerHTML=s,0==this.textarea.innerHTML.length&&(this.textarea.innerHTML=this.getEmptyLabelText(),this.clearOnChange=this.textarea.innerHTML.length>0)),this.codeViewMode=!1}else{this.clearOnChange&&this.textarea.innerHTML==this.getEmptyLabelText()&&(this.clearOnChange=!1,this.textarea.innerHTML="");var s=L.default.htmlEntities(this.textarea.innerHTML);x.default.IS_QUIRKS||8==document.documentMode||(s=L.default.replaceTrailingNewlines(s,"<div><br></div>")),s=this.graph.sanitizeHtml(e?s.replace(/\n/g,"").replace(/&lt;br\s*.?&gt;/g,"<br>"):s),this.textarea.className="mxCellEditor mxPlainTextEditor";var u=m.default.DEFAULT_FONTSIZE;this.textarea.style.lineHeight=m.default.ABSOLUTE_LINE_HEIGHT?Math.round(u*m.default.LINE_HEIGHT)+"px":m.default.LINE_HEIGHT,this.textarea.style.fontSize=Math.round(u)+"px",this.textarea.style.textDecoration="",this.textarea.style.fontWeight="normal",this.textarea.style.fontStyle="",this.textarea.style.fontFamily=m.default.DEFAULT_FONTFAMILY,this.textarea.style.textAlign="left",this.textarea.style.padding="2px",this.textarea.innerHTML!=s&&(this.textarea.innerHTML=s),this.codeViewMode=!0}this.textarea.focus(),null!=this.switchSelectionState&&this.restoreSelection(this.switchSelectionState),this.switchSelectionState=i,this.resize()};var q=y.default.prototype.resize;y.default.prototype.resize=function(t,e){t=this.graph.getView().getState(this.editingCell);if(this.codeViewMode&&null!=t){var i=t.view.scale;if(this.bounds=_.default.fromRectangle(t),0==this.bounds.width&&0==this.bounds.height){this.bounds.width=160*i,this.bounds.height=60*i;var n=null!=t.text?t.text.margin:null;null==n&&(n=L.default.getAlignmentAsPoint(L.default.getValue(t.style,m.default.STYLE_ALIGN,m.default.ALIGN_CENTER),L.default.getValue(t.style,m.default.STYLE_VERTICAL_ALIGN,m.default.ALIGN_MIDDLE),B.default)),this.bounds.x+=n.x*this.bounds.width,this.bounds.y+=n.y*this.bounds.height}this.textarea.style.width=Math.round((this.bounds.width-4)/i)+"px",this.textarea.style.height=Math.round((this.bounds.height-4)/i)+"px",this.textarea.style.overflow="auto",this.textarea.clientHeight<this.textarea.offsetHeight&&(this.textarea.style.height=Math.round(this.bounds.height/i)+(this.textarea.offsetHeight-this.textarea.clientHeight)+"px",this.bounds.height=parseInt(this.textarea.style.height)*i),this.textarea.clientWidth<this.textarea.offsetWidth&&(this.textarea.style.width=Math.round(this.bounds.width/i)+(this.textarea.offsetWidth-this.textarea.clientWidth)+"px",this.bounds.width=parseInt(this.textarea.style.width)*i),this.textarea.style.left=Math.round(this.bounds.x)+"px",this.textarea.style.top=Math.round(this.bounds.y)+"px",x.default.IS_VML?this.textarea.style.zoom=i:L.default.setPrefixedStyle(this.textarea.style,"transform","scale("+i+","+i+")")}else this.textarea.style.height="",this.textarea.style.overflow="",q.apply(this,arguments)};var $=y.default.prototype.getInitialValue;y.default.prototype.getInitialValue=function(t,e){if("0"==L.default.getValue(t.style,"html","0"))return $.apply(this,arguments);var i=this.graph.getEditingValue(t.cell,e);return"1"==L.default.getValue(t.style,"nl2Br","1")&&(i=i.replace(/\n/g,"<br/>")),i=this.graph.sanitizeHtml(i)};var tt=y.default.prototype.getCurrentValue;y.default.prototype.getCurrentValue=function(t){if("0"==L.default.getValue(t.style,"html","0"))return tt.apply(this,arguments);var e=this.graph.sanitizeHtml(this.textarea.innerHTML);return e="1"==L.default.getValue(t.style,"nl2Br","1")?e.replace(/\r\n/g,"<br/>").replace(/\n/g,"<br/>"):e.replace(/\r\n/g,"").replace(/\n/g,"")};var et=y.default.prototype.stopEditing;y.default.prototype.stopEditing=function(t){this.codeViewMode&&this.toggleViewMode(),et.apply(this,arguments);try{this.graph.container.focus()}catch(t){}};var it=y.default.prototype.applyValue;function nt(){var t=document.createElement("div");return t.className="geHint",t.style.whiteSpace="nowrap",t.style.position="absolute",t}y.default.prototype.applyValue=function(t,e){this.graph.getModel().beginUpdate();try{if(it.apply(this,arguments),this.graph.isCellDeletable(t.cell)){var i=L.default.getValue(t.style,m.default.STYLE_STROKECOLOR,m.default.NONE),n=L.default.getValue(t.style,m.default.STYLE_FILLCOLOR,m.default.NONE);""==L.default.trim(e||"")&&i==m.default.NONE&&n==m.default.NONE&&this.graph.removeCells([t.cell],!1)}}finally{this.graph.getModel().endUpdate()}},y.default.prototype.getBackgroundColor=function(t){var e=null;(this.graph.getModel().isEdge(t.cell)||this.graph.getModel().isEdge(this.graph.getModel().getParent(t.cell)))&&((e=L.default.getValue(t.style,m.default.STYLE_LABEL_BACKGROUNDCOLOR,null))==m.default.NONE&&(e=null));return e},y.default.prototype.getMinimumSize=function(t){var e=this.graph.getView().scale;return new _.default(0,0,null==t.text?30:t.text.size*e+20,30)},p.default.prototype.updateHint=function(t){if(null!=this.shape){null==this.hint&&(this.hint=nt(),this.graph.container.appendChild(this.hint));var e=this.graph.view.translate,i=this.graph.view.scale,n=this.roundLength((this.bounds.x+this.currentDx)/i-e.x),l=this.roundLength((this.bounds.y+this.currentDy)/i-e.y);this.hint.innerHTML=n+", "+l,this.hint.style.left=this.shape.bounds.x+Math.round((this.shape.bounds.width-this.hint.clientWidth)/2)+"px",this.hint.style.top=this.shape.bounds.y+this.shape.bounds.height+12+"px"}},p.default.prototype.removeHint=function(){null!=this.hint&&(this.hint.parentNode.removeChild(this.hint),this.hint=null)},f.default.prototype.isRecursiveResize=function(t,e){return!this.graph.isSwimlane(t.cell)&&this.graph.model.getChildCount(t.cell)>0&&!D.default.isControlDown(e.getEvent())&&!this.graph.isCellCollapsed(t.cell)&&"1"==L.default.getValue(t.style,"recursiveResize","1")&&null==L.default.getValue(t.style,"childLayout",null)},f.default.prototype.isCenteredEvent=function(t,e){return!(!this.graph.isSwimlane(t.cell)&&this.graph.model.getChildCount(t.cell)>0&&!this.graph.isCellCollapsed(t.cell)&&"1"==L.default.getValue(t.style,"recursiveResize","1")&&null==L.default.getValue(t.style,"childLayout",null))&&D.default.isControlDown(e.getEvent())||D.default.isMetaDown(e.getEvent())};var lt=f.default.prototype.getHandlePadding;f.default.prototype.getHandlePadding=function(){var t=new B.default(0,0),e=this.tolerance;return this.graph.cellEditor.getEditingCell()==this.state.cell&&null!=this.sizers&&this.sizers.length>0&&null!=this.sizers[0]?(e/=2,t.x=this.sizers[0].bounds.width+e,t.y=this.sizers[0].bounds.height+e):t=lt.apply(this,arguments),t},f.default.prototype.updateHint=function(t){if(this.index!=D.default.LABEL_HANDLE){if(null==this.hint&&(this.hint=nt(),this.state.view.graph.container.appendChild(this.hint)),this.index==D.default.ROTATION_HANDLE)this.hint.innerHTML=this.currentAlpha+"&deg;";else{var e=this.state.view.scale;this.hint.innerHTML=this.roundLength(this.bounds.width/e)+" x "+this.roundLength(this.bounds.height/e)}var i=null!=this.currentAlpha?this.currentAlpha:this.state.style[m.default.STYLE_ROTATION]||"0",n=L.default.getBoundingBox(this.bounds,i,null,_.default,B.default);null==n&&(n=this.bounds),this.hint.style.left=n.x+Math.round((n.width-this.hint.clientWidth)/2)+"px",this.hint.style.top=n.y+n.height+12+"px"}},f.default.prototype.removeHint=p.default.prototype.removeHint,w.default.prototype.updateHint=function(t,e){null==this.hint&&(this.hint=nt(),this.state.view.graph.container.appendChild(this.hint));var i=this.graph.view.translate,n=this.graph.view.scale,l=this.roundLength(e.x/n-i.x),a=this.roundLength(e.y/n-i.y);if(this.hint.innerHTML=l+", "+a,this.hint.style.visibility="visible",this.isSource||this.isTarget)if(null!=this.constraintHandler.currentConstraint&&null!=this.constraintHandler.currentFocus){var r=this.constraintHandler.currentConstraint.point;this.hint.innerHTML="["+Math.round(100*r.x)+"%, "+Math.round(100*r.y)+"%]"}else this.marker.hasValidState()&&(this.hint.style.visibility="hidden");this.hint.style.left=Math.round(t.getGraphX()-this.hint.clientWidth/2)+"px",this.hint.style.top=Math.max(t.getGraphY(),e.y)+this.state.view.graph.gridSize+"px",null!=this.hideEdgeHintThread&&window.clearTimeout(this.hideEdgeHintThread),this.hideEdgeHintThread=window.setTimeout(L.default.bind(this,(function(){null!=this.hint&&(this.hint.style.visibility="hidden")})),500)},w.default.prototype.removeHint=p.default.prototype.removeHint;var at=new R.default(x.default.IS_SVG?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAACXBIWXMAAAsTAAALEwEAmpwYAAABLUlEQVQ4y61US4rCQBBNeojiRrLSnbMOWWU3V1FPouARcgc9hyLOCSSbYZw5gRCIkM9KbevJaycS4zCOBY+iq6pf1y+xrNtiE6oEY/tVzMUXgSNoCJrUDu3qHpldutwSuIKOoEvt0m7I7DoCvNj2fb8XRdEojuN5lmVraJxhh59xFSLFF9phGL7lef6hRb63R73aHM8aAjv8JHJ47yqLlud5r0VRbHa51sPZQVuT/QU4ww4/4ljaJRubrC5SxouD6TWBQV/sEIkbs0eOIVGssSO1L5D6LQID+BHHZjdMSYpj7KZpun7/uk8CP5rNqTXLJP/OpNyTMWruP9CTP08nCILKdCp7gkCzJ8vPnz2BvW5PKhuLjJBykiQLaWIEjTP3o3Zjn/LtPO0rfvh/cgKu7z6wtPPltQAAAABJRU5ErkJggg==":IMAGE_PATH+"/handle-main.png",17,17),rt=new R.default(x.default.IS_SVG?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NkE1NkU4Njk2QjI1MTFFNEFDMjFGQTcyODkzNTc3NkYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NkE1NkU4NkE2QjI1MTFFNEFDMjFGQTcyODkzNTc3NkYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo2QTU2RTg2NzZCMjUxMUU0QUMyMUZBNzI4OTM1Nzc2RiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo2QTU2RTg2ODZCMjUxMUU0QUMyMUZBNzI4OTM1Nzc2RiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pmuk6K8AAAGBSURBVHjarFRBSsNQEM3/atNs6qLowixcKELoqjuXoqfQeoF6BMEj9BCC1YIXcCGlV8hGLNZlBKWlCk1JSs13Xvw/nca6UDrwmMzMy8tk/iTCWmwi52Eq53+QeWwg2bXSSNi1WiRibgRWCTahwEQmhJgw1WJGML2BC6wQnEqlsuH7fr3f7zdHo9EdPGLkUdc8mX8TJNYIpUajsR+G4YMie3pNVKebpB6GPOrgab7kr5F24Hne9ng87r6HStUuP5V1Mc2AGHnUwWMdCck6sVut1onjOHtnt4nV7M0fAuI65VEnXk3PTFq5Eyi4rnvUe1PW9fO3QOdUzvkbyqNOvEM2dMEHK2zbLr98zJ5+cJWkAvDGUC8Wi2X28Gww6bnHcTzYWp+JGAHTCQz1KIoGfFckCyZBELR3N4V1vCOyTrhHHnXw9N5kQn8+nWq1Onc6C/cERLMn7cfZniD/257wbjDxEjqiDT0fDof3tLE+PGK9HyXNy7pYyrez9K/43/+TLwEGAMb7AY6w980DAAAAAElFTkSuQmCC":IMAGE_PATH+"/handle-fixed.png",17,17),ot=new R.default(x.default.IS_SVG?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MEMzRUVERTk2NzU1MTFFNTg5NjNEMjREQ0FFNENFQzgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MEMzRUVERUE2NzU1MTFFNTg5NjNEMjREQ0FFNENFQzgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowQzNFRURFNzY3NTUxMUU1ODk2M0QyNERDQUU0Q0VDOCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDowQzNFRURFODY3NTUxMUU1ODk2M0QyNERDQUU0Q0VDOCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Poj8AGUAAAF6SURBVHjarFTBSsNAEM2u2jSXeCh6sAcPilB6ys2j6Fdo/YH6CYKf0I8QrBb8AQ9S+gu5iMV6jKC0VCEJTalZ54VNnMR4ULrwmJ2Zt5PZmdkIo3yJgsRSBfmDzPUUku2VRsz2qixIehBYJZiECgsyJ0SEhQ6WBkwO8AArBKvZbG64rtsej8dd3/fvIKHDDr/myeJNYFgj2J1OZz8IggdF6+k1VoNhnEgs2OEHT/Mlv0aSQaPR2A7DcPgeKNW6/FTGxSIDdNjhB49lJCTLxOz1eieWZe2d3cZGd5RvAvQ22eEnXkvXTBqFDlTq9frR6E0Z18+qtO83ZIefeIes6IIXVpimWXv5yB8cnMqcDn+1Wq2xj2eFSfoeRdFkaz0f5OAqzunwz2azCZ8VyZS553n93U1hHO+I0uvADj94em6yQH/ujuM4ue6UzgmI6Zz0H7/nBPbf5oRng4rbyIgm9Hw6nd7TxLqQ0PV82JqXZbGUt7P0V/zv/8mXAAMASSz1f9Cd7ycAAAAASUVORK5CYII=":IMAGE_PATH+"/handle-terminal.png",17,17),st=new R.default(x.default.IS_SVG?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MEJBMUVERjNEMkZDMTFFM0I0Qzc5RkE1RTc2NjI0OUIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MEJBMUVERjREMkZDMTFFM0I0Qzc5RkE1RTc2NjI0OUIiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowQkExRURGMUQyRkMxMUUzQjRDNzlGQTVFNzY2MjQ5QiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDowQkExRURGMkQyRkMxMUUzQjRDNzlGQTVFNzY2MjQ5QiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PvXDOj4AAAFqSURBVHjarFTNToNAEN5FLeiBmDRe7MGLF4IXbp71KapP4CPoO/QdvKiv4ME0PkAvJI2J0SueIHgAAk3b7XxkwSlgE38mmSwz8+3HsPMtUnSbbKww1VhbYB5XbrBnpX3JnlUXSbURvk1ukvcYyYy8IJ9rsoqw3MAJtsh3Xdc98H3/KgzDuyRJHrEiRh51jTOaX4LEDrk9Go1O0zR9UWTL9E0to+dyhSGPOnAab/DPKDtwHOcoy7LXz1SpxeRSzW9F7YiRRx041pGsSMC6Ty1f442LycUawRfRsOyIcDfA632ST6A3GAzOVfYu1PS+c+5q+iBQJ9wZO3TJD1aaptkX+YfYaFS3LKvPXl4fTDn3oigiYR1uJqF6nucR14rBglkQBGO5dyzkybBbxpRHHTitm5rox9PxPK81nZZOAKx1Eo5rnSD/nU54NzhxGx1hjHEcP5FifayItT5sjVvTyJ/vzr/f4l//T1YCDAC4VAdLL1OIRAAAAABJRU5ErkJggg==":IMAGE_PATH+"/handle-secondary.png",17,17),ut=new R.default(x.default.IS_SVG?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAVCAYAAACkCdXRAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAA6ZJREFUeNqM001IY1cUB/D/fYmm2sbR2lC1zYlgoRG6MpEyBlpxM9iFIGKFIm3s0lCKjOByhCLZCFqLBF1YFVJdSRbdFHRhBbULtRuFVBTzYRpJgo2mY5OX5N9Fo2TG+eiFA/dd3vvd8+65ByTxshARTdf1JySp6/oTEdFe9T5eg5lIcnBwkCSZyWS+exX40oyur68/KxaLf5Okw+H4X+A9JBaLfUySZ2dnnJqaosPhIAACeC34DJRKpb7IZrMcHx+nwWCgUopGo/EOKwf9fn/1CzERUevr6+9ls1mOjIwQAH0+H4PBIKPR6D2ofAQCgToRUeVYJUkuLy8TANfW1kiS8/PzCy84Mw4MDBAAZ2dnmc/nub+/X0MSEBF1cHDwMJVKsaGhgV6vl+l0mqOjo1+KyKfl1dze3l4NBoM/PZ+diFSLiIKIGBOJxA9bW1sEwNXVVSaTyQMRaRaRxrOzs+9J8ujoaE5EPhQRq67rcZ/PRwD0+/3Udf03EdEgIqZisZibnJykwWDg4eEhd3Z2xkXELCJvPpdBrYjUiEhL+Xo4HH4sIhUaAKNSqiIcDsNkMqG+vh6RSOQQQM7tdhsAQCkFAHC73UUATxcWFqypVApmsxnDw8OwWq2TADQNgAYAFosF+XweyWQSdru9BUBxcXFRB/4rEgDcPouIIx6P4+bmBi0tLSCpAzBqAIqnp6c/dnZ2IpfLYXNzE62traMADACKNputpr+/v8lms9UAKAAwiMjXe3t7KBQKqKurQy6Xi6K0i2l6evpROp1mbW0t29vbGY/Hb8/IVIqq2zlJXl1dsaOjg2azmefn5wwEAl+JSBVExCgi75PkzMwMlVJsbGxkIpFgPp8PX15ePopEIs3JZPITXdf/iEajbGpqolKKExMT1HWdHo/nIxGpgIgoEXnQ3d39kCTHxsYIgC6Xi3NzcwyHw8xkMozFYlxaWmJbWxuVUuzt7WUul6PX6/1cRN4WEe2uA0SkaWVl5XGpRVhdXU0A1DSNlZWVdz3qdDrZ09PDWCzG4+Pjn0XEWvp9KJKw2WwKwBsA3gHQHAqFfr24uMDGxgZ2d3cRiUQAAHa7HU6nE319fTg5Ofmlq6vrGwB/AngaCoWK6rbsNptNA1AJoA7Aux6Pp3NoaMhjsVg+QNmIRqO/u1yubwFEASRKUAEA7rASqABUAKgC8KAUb5XWCOAfAFcA/gJwDSB7C93DylCtdM8qABhLc5TumV6KQigUeubjfwcAHkQJ94ndWeYAAAAASUVORK5CYII=":IMAGE_PATH+"/handle-rotate.png",19,21);if(f.default.prototype.handleImage=at,f.default.prototype.secondaryHandleImage=st,w.default.prototype.handleImage=at,w.default.prototype.terminalHandleImage=ot,w.default.prototype.fixedHandleImage=rt,w.default.prototype.labelHandleImage=st,I.default.prototype.sizerImage=at,x.default.IS_SVG||((new Image).src=at.src,(new Image).src=rt.src,(new Image).src=ot.src,(new Image).src=st.src,(new Image).src=ut.src,(new Image).src=K.prototype.triangleUp.src,(new Image).src=K.prototype.triangleRight.src,(new Image).src=K.prototype.triangleDown.src,(new Image).src=K.prototype.triangleLeft.src,(new Image).src=K.prototype.refreshTarget.src,(new Image).src=K.prototype.roundDrop.src),f.default.prototype.rotationEnabled=!0,f.default.prototype.manageSizers=!0,f.default.prototype.livePreview=!0,o.default.prototype.defaultOpacity=30,S.default.prototype.outlineConnect=!0,N.default.prototype.keepOnTop=!0,f.default.prototype.parentHighlightEnabled=!1,f.default.prototype.rotationHandleVSpacing=-20,w.default.prototype.parentHighlightEnabled=!0,w.default.prototype.dblClickRemoveEnabled=!0,w.default.prototype.straightRemoveEnabled=!0,w.default.prototype.virtualBendsEnabled=!0,w.default.prototype.mergeRemoveEnabled=!0,w.default.prototype.manageLabelHandle=!0,w.default.prototype.outlineConnect=!0,w.default.prototype.isAddVirtualBendEvent=function(t){return!D.default.isShiftDown(t.getEvent())},w.default.prototype.isCustomHandleEvent=function(t){return!D.default.isShiftDown(t.getEvent())},F.default.touchStyle){(x.default.IS_TOUCH||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)&&(u.default.prototype.svgStrokeTolerance=18,f.default.prototype.tolerance=12,w.default.prototype.tolerance=12,F.default.prototype.tolerance=12,f.default.prototype.rotationHandleVSpacing=-24,s.default.prototype.getTolerance=function(t){return D.default.isMouseEvent(t.getEvent())?4:this.graph.getTolerance()}),b.default.prototype.isPanningTrigger=function(t){var e=t.getEvent();return null==t.getState()&&!D.default.isMouseEvent(e)||D.default.isPopupTrigger(e)&&(null==t.getState()||D.default.isControlDown(e)||D.default.isShiftDown(e))};var dt=p.default.prototype.mouseDown;p.default.prototype.mouseDown=function(t,e){dt.apply(this,arguments),D.default.isTouchEvent(e.getEvent())&&this.graph.isCellSelected(e.getCell())&&this.graph.getSelectionCount()>1&&(this.delayedSelection=!1)}}else b.default.prototype.isPanningTrigger=function(t){var e=t.getEvent();return D.default.isLeftMouseButton(e)&&(this.useLeftButtonForPanning&&null==t.getState()||D.default.isControlDown(e)&&!D.default.isShiftDown(e))||this.usePopupTrigger&&D.default.isPopupTrigger(e)};o.default.prototype.isSpaceEvent=function(t){return this.graph.isEnabled()&&!this.graph.isCellLocked(this.graph.getDefaultParent())&&D.default.isControlDown(t.getEvent())&&D.default.isShiftDown(t.getEvent())},o.default.prototype.mouseUp=function(t,e){var i=null!=this.div&&"none"!=this.div.style.display,n=null,l=null,a=null,r=null;if(null!=this.first&&null!=this.currentX&&null!=this.currentY&&(n=this.first.x,l=this.first.y,a=(this.currentX-n)/this.graph.view.scale,r=(this.currentY-l)/this.graph.view.scale,D.default.isAltDown(e.getEvent())||(a=this.graph.snap(a),r=this.graph.snap(r))),this.reset(),i){if(this.isSpaceEvent(e)){this.graph.model.beginUpdate();try{for(var o=this.graph.getCellsBeyond(n,l,this.graph.getDefaultParent(),!0,!1),s=this.graph.getCellsBeyond(n,l,this.graph.getDefaultParent(),!1,!0),u=0;u<o.length;u++)if(this.graph.isCellMovable(o[u])){var d=this.graph.view.getState(o[u]),h=this.graph.getCellGeometry(o[u]);null!=d&&null!=h&&((h=h.clone()).translate(a,0),this.graph.model.setGeometry(o[u],h))}for(u=0;u<s.length;u++)if(this.graph.isCellMovable(s[u])){d=this.graph.view.getState(s[u]),h=this.graph.getCellGeometry(s[u]);null!=d&&null!=h&&((h=h.clone()).translate(0,r),this.graph.model.setGeometry(s[u],h))}}catch(t){window.console}finally{this.graph.model.endUpdate()}}else{var c=new _.default(this.x,this.y,this.width,this.height);this.graph.selectRegion(c,e.getEvent())}e.consume()}},o.default.prototype.mouseMove=function(t,e){if(!e.isConsumed()&&null!=this.first){var i=L.default.getScrollOrigin(this.graph.container,B.default),n=L.default.getOffset(this.graph.container,null,B.default);i.x-=n.x,i.y-=n.y;var l=e.getX()+i.x,a=e.getY()+i.y,r=this.first.x-l,o=this.first.y-a,s=this.graph.tolerance;if(null!=this.div||Math.abs(r)>s||Math.abs(o)>s){if(null==this.div&&(this.div=this.createShape()),v.default.clearSelection(),this.update(l,a),this.isSpaceEvent(e)){var u=this.x+this.width,d=this.y+this.height,h=this.graph.view.scale;D.default.isAltDown(e.getEvent())||(this.width=this.graph.snap(this.width/h)*h,this.height=this.graph.snap(this.height/h)*h,this.x<this.first.x&&(this.x=u-this.width),this.y<this.first.y&&(this.y=d-this.height)),this.div.style.left=this.x+"px",this.div.style.top=i.y+n.y+"px",this.div.style.width=Math.max(0,this.width)+"px",this.div.style.height=Math.max(0,this.graph.container.clientHeight)+"px",this.div.style.backgroundColor="white",this.div.style.borderWidth="0px 1px 0px 1px",this.div.style.borderStyle="dashed",null==this.secondDiv&&(this.secondDiv=this.div.cloneNode(!0),this.div.parentNode.appendChild(this.secondDiv)),this.secondDiv.style.left=i.x+n.x+"px",this.secondDiv.style.top=this.y+"px",this.secondDiv.style.width=Math.max(0,this.graph.container.clientWidth)+"px",this.secondDiv.style.height=Math.max(0,this.height)+"px",this.secondDiv.style.borderWidth="1px 0px 1px 0px"}else this.div.style.backgroundColor="",this.div.style.borderWidth="",this.div.style.borderStyle="",null!=this.secondDiv&&(this.secondDiv.parentNode.removeChild(this.secondDiv),this.secondDiv=null);e.consume()}}};var ht=o.default.prototype.reset;o.default.prototype.reset=function(){null!=this.secondDiv&&(this.secondDiv.parentNode.removeChild(this.secondDiv),this.secondDiv=null),ht.apply(this,arguments)};var ct=(new Date).getTime(),pt=0,ft=w.default.prototype.updatePreviewState;w.default.prototype.updatePreviewState=function(t,e,i,n){ft.apply(this,arguments),i!=this.currentTerminalState?(ct=(new Date).getTime(),pt=0):pt=(new Date).getTime()-ct,this.currentTerminalState=i};var gt=w.default.prototype.isOutlineConnectEvent;w.default.prototype.isOutlineConnectEvent=function(t){return null!=this.currentTerminalState&&t.getState()==this.currentTerminalState&&pt>2e3||(null==this.currentTerminalState||"0"!=L.default.getValue(this.currentTerminalState.style,"outlineConnect","1"))&&gt.apply(this,arguments)},f.default.prototype.isCustomHandleEvent=function(t){return!D.default.isShiftDown(t.getEvent())},w.default.prototype.createHandleShape=function(t,e){var i=null!=t&&0==t,n=this.state.getVisibleTerminalState(i),l=null!=t&&(0==t||t>=this.state.absolutePoints.length-1||this.constructor==A.default&&2==t)?this.graph.getConnectionConstraint(this.state,n,i):null,a=null!=(null!=l?this.graph.getConnectionPoint(this.state.getVisibleTerminalState(i),l):null)?this.fixedHandleImage:null!=l&&null!=n?this.terminalHandleImage:this.handleImage;if(null!=a){var r=new Z.default(new _.default(0,0,a.width,a.height),a.src);return r.preserveImageAspect=!1,r}var o=m.default.HANDLE_SIZE;return this.preferHtml&&(o-=1),new W.default(new _.default(0,0,o,o),m.default.HANDLE_FILLCOLOR,m.default.HANDLE_STROKECOLOR)};var yt=f.default.prototype.createSizerShape;f.default.prototype.createSizerShape=function(t,e,i){return this.handleImage=e==D.default.ROTATION_HANDLE?ut:e==D.default.LABEL_HANDLE?this.secondaryHandleImage:this.handleImage,yt.apply(this,arguments)};var mt=p.default.prototype.getBoundingBox;p.default.prototype.getBoundingBox=function(t){if(null!=t&&1==t.length){var e=this.graph.getModel(),i=e.getParent(t[0]),n=this.graph.getCellGeometry(t[0]);if(e.isEdge(i)&&null!=n&&n.relative){var l=this.graph.view.getState(t[0]);if(null!=l&&l.width<2&&l.height<2&&null!=l.text&&null!=l.text.boundingBox)return _.default.fromRectangle(l.text.boundingBox)}}return mt.apply(this,arguments)};var vt=f.default.prototype.getSelectionBounds;f.default.prototype.getSelectionBounds=function(t){var e=this.graph.getModel(),i=e.getParent(t.cell),n=this.graph.getCellGeometry(t.cell);if(e.isEdge(i)&&null!=n&&n.relative&&t.width<2&&t.height<2&&null!=t.text&&null!=t.text.boundingBox){var l=t.text.unrotatedBoundingBox||t.text.boundingBox;return new _.default(Math.round(l.x),Math.round(l.y),Math.round(l.width),Math.round(l.height))}return vt.apply(this,arguments)};var Et=f.default.prototype.mouseDown;f.default.prototype.mouseDown=function(t,e){var i=this.graph.getModel(),n=i.getParent(this.state.cell),l=this.graph.getCellGeometry(this.state.cell);(this.getHandleForEvent(e)==D.default.ROTATION_HANDLE||!i.isEdge(n)||null==l||!l.relative||null==this.state||this.state.width>=2||this.state.height>=2)&&Et.apply(this,arguments)},f.default.prototype.isRotationHandleVisible=function(){return this.graph.isEnabled()&&this.rotationEnabled&&this.graph.isCellRotatable(this.state.cell)&&(p.default.prototype.maxCells<=0||this.graph.getSelectionCount()<p.default.prototype.maxCells)},f.default.prototype.rotateClick=function(){this.state.view.graph.turnShapes([this.state.cell])};var bt=f.default.prototype.mouseMove;f.default.prototype.mouseMove=function(t,e){bt.apply(this,arguments),null!=this.graph.graphHandler.first&&null!=this.rotationShape&&null!=this.rotationShape.node&&(this.rotationShape.node.style.display="none")};var St=f.default.prototype.mouseUp;f.default.prototype.mouseUp=function(t,e){St.apply(this,arguments),null!=this.rotationShape&&null!=this.rotationShape.node&&(this.rotationShape.node.style.display=1==this.graph.getSelectionCount()?"":"none")};var wt=f.default.prototype.init;f.default.prototype.init=function(){wt.apply(this,arguments);var t=!1;null!=this.rotationShape&&this.rotationShape.node.setAttribute("title",g.default.get("rotateTooltip"));var e=L.default.bind(this,(function(){null!=this.rotationShape&&null!=this.rotationShape.node&&(this.rotationShape.node.style.display=1==this.graph.getSelectionCount()?"":"none"),null!=this.specialHandle&&(this.specialHandle.node.style.display=this.graph.isEnabled()&&this.graph.getSelectionCount()<this.graph.graphHandler.maxCells?"":"none"),this.redrawHandles()}));this.selectionHandler=L.default.bind(this,(function(t,i){e()})),this.graph.getSelectionModel().addListener(D.default.CHANGE,this.selectionHandler),this.changeHandler=L.default.bind(this,(function(t,i){this.updateLinkHint(this.graph.getLinkForCell(this.state.cell)),e()})),this.graph.getModel().addListener(D.default.CHANGE,this.changeHandler),this.editingHandler=L.default.bind(this,(function(t,e){this.redrawHandles()})),this.graph.addListener(D.default.EDITING_STOPPED,this.editingHandler);var i=this.graph.getLinkForCell(this.state.cell);this.updateLinkHint(i),null!=i&&(t=!0),t&&this.redrawHandles()},f.default.prototype.updateLinkHint=function(t){if(null==t||this.graph.getSelectionCount()>1)null!=this.linkHint&&(this.linkHint.parentNode.removeChild(this.linkHint),this.linkHint=null);else if(null!=t){null==this.linkHint&&(this.linkHint=nt(),this.linkHint.style.padding="4px 10px 6px 10px",this.linkHint.style.fontSize="90%",this.linkHint.style.opacity="1",this.linkHint.style.filter="",this.updateLinkHint(t),this.graph.container.appendChild(this.linkHint));var e=t;e.length>60&&(e=e.substring(0,36)+"..."+e.substring(e.length-20));var i=document.createElement("a");if(i.setAttribute("href",this.graph.getLinkUrl(t)),i.setAttribute("title",t),null!=this.graph.linkTarget&&i.setAttribute("target",this.graph.linkTarget),L.default.write(i,e),this.linkHint.innerHTML="",this.linkHint.appendChild(i),this.graph.isEnabled()&&"function"==typeof this.graph.editLink){var n=document.createElement("img");n.setAttribute("src",IMAGE_PATH+"/edit.gif"),n.setAttribute("title",g.default.get("editLink")),n.setAttribute("width","11"),n.setAttribute("height","11"),n.style.marginLeft="10px",n.style.marginBottom="-1px",n.style.cursor="pointer",this.linkHint.appendChild(n),D.default.addListener(n,"click",L.default.bind(this,(function(t){this.graph.setSelectionCell(this.state.cell),this.graph.editLink(),D.default.consume(t)})))}}},w.default.prototype.updateLinkHint=f.default.prototype.updateLinkHint;var At=w.default.prototype.init;w.default.prototype.init=function(){At.apply(this,arguments),this.constraintHandler.isEnabled=L.default.bind(this,(function(){return this.state.view.graph.connectionHandler.isEnabled()}));var t=L.default.bind(this,(function(){null!=this.linkHint&&(this.linkHint.style.display=1==this.graph.getSelectionCount()?"":"none"),null!=this.labelShape&&(this.labelShape.node.style.display=this.graph.isEnabled()&&this.graph.getSelectionCount()<this.graph.graphHandler.maxCells?"":"none")}));this.selectionHandler=L.default.bind(this,(function(e,i){t()})),this.graph.getSelectionModel().addListener(D.default.CHANGE,this.selectionHandler),this.changeHandler=L.default.bind(this,(function(e,i){this.updateLinkHint(this.graph.getLinkForCell(this.state.cell)),t(),this.redrawHandles()})),this.graph.getModel().addListener(D.default.CHANGE,this.changeHandler);var e=this.graph.getLinkForCell(this.state.cell);null!=e&&(this.updateLinkHint(e),this.redrawHandles())};var Ct=S.default.prototype.init;S.default.prototype.init=function(){Ct.apply(this,arguments),this.constraintHandler.isEnabled=L.default.bind(this,(function(){return this.graph.connectionHandler.isEnabled()}))};var Tt=f.default.prototype.redrawHandles;f.default.prototype.redrawHandles=function(){if(Tt.apply(this),null!=this.state&&null!=this.linkHint){var t=new B.default(this.state.getCenterX(),this.state.getCenterY()),e=new _.default(this.state.x,this.state.y-22,this.state.width+24,this.state.height+22),i=L.default.getBoundingBox(e,this.state.style[m.default.STYLE_ROTATION]||"0",t,_.default,B.default),n=null!=i?L.default.getBoundingBox(this.state,this.state.style[m.default.STYLE_ROTATION]||"0",null,_.default,B.default):this.state;null==i&&(i=this.state),this.linkHint.style.left=Math.round(n.x+(n.width-this.linkHint.clientWidth)/2)+"px",this.linkHint.style.top=Math.round(i.y+i.height+this.verticalOffset/2+6+this.state.view.graph.tolerance)+"px"}};var Mt=f.default.prototype.reset;f.default.prototype.reset=function(){Mt.apply(this,arguments),null!=this.rotationShape&&null!=this.rotationShape.node&&(this.rotationShape.node.style.display=1==this.graph.getSelectionCount()?"":"none")};var xt=f.default.prototype.destroy;f.default.prototype.destroy=function(){xt.apply(this,arguments),null!=this.linkHint&&(this.linkHint.parentNode.removeChild(this.linkHint),this.linkHint=null),null!=this.selectionHandler&&(this.graph.getSelectionModel().removeListener(this.selectionHandler),this.selectionHandler=null),null!=this.changeHandler&&(this.graph.getModel().removeListener(this.changeHandler),this.changeHandler=null),null!=this.editingHandler&&(this.graph.removeListener(this.editingHandler),this.editingHandler=null)};var It=w.default.prototype.redrawHandles;w.default.prototype.redrawHandles=function(){if(null!=this.marker&&(It.apply(this),null!=this.state&&null!=this.linkHint)){var t=this.state;null!=this.state.text&&null!=this.state.text.bounds&&(t=new _.default(t.x,t.y,t.width,t.height)).add(this.state.text.bounds),this.linkHint.style.left=Math.round(t.x+(t.width-this.linkHint.clientWidth)/2)+"px",this.linkHint.style.top=Math.round(t.y+t.height+6+this.state.view.graph.tolerance)+"px"}};var Lt=w.default.prototype.reset;w.default.prototype.reset=function(){Lt.apply(this,arguments),null!=this.linkHint&&(this.linkHint.style.visibility="")};var Nt=w.default.prototype.destroy;w.default.prototype.destroy=function(){Nt.apply(this,arguments),null!=this.linkHint&&(this.linkHint.parentNode.removeChild(this.linkHint),this.linkHint=null),null!=this.selectionHandler&&(this.graph.getSelectionModel().removeListener(this.selectionHandler),this.selectionHandler=null),null!=this.changeHandler&&(this.graph.getModel().removeListener(this.changeHandler),this.changeHandler=null)}}();e.default=K},740168:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(241872);var n=u(i(656988)),l=u(i(132448)),a=u(i(370608)),r=u(i(22676)),o=u(i(790448)),s=u(i(742288));function u(t){return t&&t.__esModule?t:{default:t}}function d(){n.default.call(this)}l.default.extend(d,n.default),d.prototype.cardnode=null,d.prototype.paintVertexShape=function(t,e,i,n,l,a){t.rect(e,i,n,l);var r=t.node.getAttribute("x"),s=t.node.getAttribute("y");t.fillAndStroke();var u=document.createElementNS(o.default.NS_SVG,"g"),d=document.createElementNS(o.default.NS_SVG,"foreignObject"),h=a.state.style.opacity||100;d.setAttribute("width",216),d.setAttribute("height",132),d.setAttribute("style","overflow:visible;"),u.setAttribute("transform","translate("+r+","+s+") scale("+t.state.scale+")");var c=document.createElement("div"),p=this.state.cell,f=this.getCardHTML(p.properties||{}),g=this.state.view.graph;f&&(c.innerHTML=f,this.cardnode=c.firstElementChild,this.cardnode.style.setProperty("opacity","".concat(h/100)),this.addEventListener(this.cardnode,g,p)),d.appendChild(c),u.appendChild(d),this.node.appendChild(u),t.fillAndStroke()},d.prototype.getCardHTML=function(t){return null},d.prototype.getActivatedStyleClass=function(){return"activatedCard"},d.prototype.addEventListener=function(t,e,i){var n=i.properties,l=this.getActivatedStyleClass();t.addEventListener("keydown",(function(t){(a.default.isControlDown(t)||r.default.IS_MAC&&t.metaKey)&&67==t.keyCode&&t.stopPropagation()})),t.addEventListener("click",(function(t){var a=t.currentTarget;if("true"!=a.getAttribute("data-lock")){var r=t.target.getAttribute("data-event");if(r&&r.length)e.invokeCustomEvent(r,n);else{var o=e.getView();if(!s.default.hasClass(a,l)){try{!function(t,e){if(t.vertex){var i=[t],n=[],l=[],a=[],r=[],o=t.edges;if(!o)return;for(var u=0;u<o.length;u++){var d=o[u],h=d.source;h&&h.id==t.id?r.push(d):a.push(d)}for(var c=null;null!=(c=r.pop());){l.push(c),n.push(c.id);var p=c.target;if(p){for(var f=p.edges,g=0;g<f.length;g++){var y=f[g],m=y.source;m&&m.id==p.id&&r.push(y)}i.push(c),i.push(p)}}for(var v=null;null!=(v=a.pop());){l.push(v),n.push(v.id);var E=v.source;if(E){for(var b=E.edges,S=0;S<b.length;S++){var w=b[S],A=w.target;A&&A.id==E.id&&a.push(w)}i.push(v),i.push(E)}}e.setCellStyles("strokeColor","#2A71F5!important",l);for(var C=[],T=0;T<i.length;T++){var M=i[T];C.push(M.id);var x=M.children;if(x&&x.length)for(var I=0;I<x.length;I++){var L=x[I];C.push(L.id)}}t.lineIds=n;var N=[],O=[],D=e.getModel().cells;for(var R in D){var _=D[R];(_.vertex||_.edge)&&R!=t.id&&(C.indexOf(_.id)<0&&(s.default.isBillRelationCard(_.type)?O.push(_):N.push(_)))}e.setCellStyles("opacity","30",N),s.default.setBillRelationCardOpacity(e,O,30)}}(i,e);var u=o.getCellStates([i]);u&&u.length&&(a=u[0].shape.cardnode)}catch(t){}e.invokeCustomEvent("selectCard",n),s.default.addClass(a,l)}}}}),!1)};e.default=d},787220:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.stackedCardTpl=e.stackedCardLockedTpl=e.billCardTpl=e.billCardLockedTpl=void 0;e.billCardLockedTpl='{{if styles && data}}\t<div class="{{styles.box}}" data-lock="{{data.lock}}">\t\t<div class="{{styles.lockHeader}}">\t\t\t<div>{{data.title}}</div>\t\t</div>\t\t<div class="{{styles.lockContent}}">\t\t\t<img src="{{data.lockIcon}}"/>\t\t\t<span>{{data.lockTip}}</span>\t\t</div>\t</div>{{/if}}',e.billCardTpl='{{if styles && data}}\t<div class="{{styles.box}}" tabindex="0">\t\t<div class="{{styles.header}}">\t\t\t<div>\t\t\t\t<div class="{{styles.title}}" title="{{data.title}}">{{data.title}}</div>\t\t\t\t<div class="{{styles.subtitle}}" title="{{data.subtitle}}">\t\t\t\t\t<a class="{{styles.link}}" data-event="showBill">{{data.subtitle}}</a>\t\t\t\t</div>\t\t\t</div>\t\t\t{{if data.billIcon}}\t\t\t\t<div class="{{styles.icon}}">\t\t\t\t\t<img src="{{data.billIcon}}"/>\t\t\t\t</div>\t\t\t{{/if}}\t\t</div>\t\t<div class="{{styles.content}}">\t\t\t<div title="{{data.name}}">{{data.name}}</div>\t\t\t<div title="{{data.department}}">{{data.department}}</div>\t\t\t<div title="{{data.note}}">{{data.note}}</div>\t\t</div>\t</div>{{/if}}',e.stackedCardLockedTpl='{{if styles && data}}\t<div class="{{styles.box}}" data-lock="{{data.lock}}">\t\t<div class="{{styles.lockedLeft}}"></div>\t\t<div class="{{styles.lockedRight}}"></div>\t\t<div class="{{styles.layer}}"></div>\t\t\t\t<div class="{{styles.main}}">\t\t\t<div class="{{styles.lockHeader}}">\t\t\t\t<span>{{data.title}}</span>\t\t\t</div>\t\t\t<div class="{{styles.lockContent}}">\t\t\t\t<img src="{{data.lockIcon}}"/>\t\t\t\t<span>{{data.lockTip}}</span>\t\t\t</div>\t\t</div>\t</div>{{/if}}',e.stackedCardTpl='{{if styles && data}}\t<div class="{{styles.box}}">\t\t<div class="{{styles.left}}"></div>\t\t<div class="{{styles.right}}"></div>\t\t<div class="{{styles.layer}}"></div>\t\t\t\t<div class="{{styles.main}}">\t\t\t<div class="{{styles.header}}">\t\t\t\t<div>\t\t\t\t\t<div class="{{styles.title}}" title="{{data.title}}">{{data.title}}</div>\t\t\t\t\t<div class="{{styles.subtitle}}">\t\t\t\t\t\t<a class="{{styles.link}}" data-event="showStackedBills">{{data.subtitle}}</a>\t\t\t\t\t</div>\t\t\t\t</div>\t\t\t\t<div class="{{styles.icon}}">\t\t\t\t\t<img src="{{data.billIcon}}"/>\t\t\t\t</div>\t\t\t</div>\t\t\t<div class="{{styles.content}}">\t\t\t\t<div title="{{data.name}}">{{data.name}}</div>\t\t\t\t<div title="{{data.department}}">{{data.department}}</div>\t\t\t\t<div title="{{data.note}}">{{data.note}}</div>\t\t\t</div>\t\t</div>\t</div>{{/if}}'},554484:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(622676),i(297336),i(387912);var n=d(i(280908)),l=d(i(22676)),a=d(i(911484)),r=d(i(370608)),o=d(i(267456)),s=d(i(742288)),u=d(i(11131));function d(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e,i,d,h){var c=t.editor.graph,p=document.createElement("div");p.style.userSelect="none",p.style.background="whiteSmoke",p.style.border="1px solid whiteSmoke",p.style.height="100%",p.style.marginBottom="10px",p.style.overflow="auto";var f=window.compactUi?"26px":"30px",g=document.createElement("div");g.style.backgroundColor="#e5e5e5",g.style.position="absolute",g.style.overflow="auto",g.style.left="0px",g.style.right="0px",g.style.top="0px",g.style.bottom=f,p.appendChild(g);var y=null,m=null;r.default.addListener(p,"dragover",(function(t){t.dataTransfer.dropEffect="move",m=null,t.stopPropagation(),t.preventDefault()}));var v=null,E=null,b=document.createElement("div");b.className="geToolbarContainer",b.style.position="absolute",b.style.bottom="0px",b.style.left="0px",b.style.right="0px",b.style.height=f,b.style.overflow="hidden",b.style.padding=window.compactUi?"4px 0px 3px 0px":"1px",b.style.backgroundColor="whiteSmoke",b.style.borderWidth="1px 0px 0px 0px",b.style.borderColor="#c3c3c3",b.style.borderStyle="solid",b.style.display="block",b.style.whiteSpace="nowrap",l.default.IS_QUIRKS&&(b.style.filter="none");var S=document.createElement("a");S.className="geButton",l.default.IS_QUIRKS&&(S.style.filter="none");var w=S.cloneNode();w.innerHTML='<div class="geSprite geSprite-delete" style="display:inline-block;"></div>',r.default.addListener(w,"click",(function(t){if(c.isEnabled()){c.model.beginUpdate();try{var e=c.model.root.getIndex(E);c.removeCells([E],!1),0==c.model.getChildCount(c.model.root)?(c.model.add(c.model.root,new n.default),c.setDefaultParent(null)):e>0&&e<=c.model.getChildCount(c.model.root)?c.setDefaultParent(c.model.getChildAt(c.model.root,e-1)):c.setDefaultParent(null)}finally{c.model.endUpdate()}}r.default.consume(t)})),c.isEnabled()||(w.className="geButton mxDisabled"),b.appendChild(w);var A=S.cloneNode();A.innerHTML='<div class="geSprite geSprite-insert" style="display:inline-block;"></div>',r.default.addListener(A,"click",(function(t){c.isEnabled()&&!c.isSelectionEmpty()&&c.moveCells(c.getSelectionCells(),0,0,!1,E)})),b.appendChild(A);var C=S.cloneNode();function T(e){if(c.isEnabled()&&null!=e){var i=new a.default(t,e.value||u.default.get("background"),u.default.get("rename"),s.default.bind(this,(function(t){null!=t&&c.getModel().setValue(e,t)})),u.default.get("enterName"));t.showDialog(i.container,300,100,!0,!0),i.init()}}C.innerHTML='<div class="geSprite geSprite-dots" style="display:inline-block;"></div>',C.setAttribute("title",u.default.get("rename")),r.default.addListener(C,"click",(function(t){c.isEnabled()&&T(E),r.default.consume(t)})),c.isEnabled()||(C.className="geButton mxDisabled"),b.appendChild(C);var M=S.cloneNode();M.innerHTML='<div class="geSprite geSprite-duplicate" style="display:inline-block;"></div>',r.default.addListener(M,"click",(function(t){if(c.isEnabled()){var e=null;c.model.beginUpdate();try{(e=c.cloneCells([E])[0]).value=u.default.get("untitledLayer"),e.setVisible(!0),e=c.addCell(e,c.model.root),c.setDefaultParent(e)}finally{c.model.endUpdate()}null==e||c.isCellLocked(e)||c.selectAll(e)}})),c.isEnabled()||(M.className="geButton mxDisabled"),b.appendChild(M);var x=S.cloneNode();function I(){function t(t,e,i,n){var a=document.createElement("div");a.className="geToolbarContainer",a.style.overflow="hidden",a.style.position="relative",a.style.padding="4px",a.style.height="22px",a.style.display="block",a.style.backgroundColor="whiteSmoke",a.style.borderWidth="0px 0px 1px 0px",a.style.borderColor="#c3c3c3",a.style.borderStyle="solid",a.style.whiteSpace="nowrap";var o=document.createElement("div");o.style.display="inline-block",o.style.width="100%",o.style.textOverflow="ellipsis",o.style.overflow="hidden",r.default.addListener(a,"dragover",(function(e){e.dataTransfer.dropEffect="move",m=t,e.stopPropagation(),e.preventDefault()})),r.default.addListener(a,"dragstart",(function(t){y=a,l.default.IS_FF&&t.dataTransfer.setData("Text","<layer/>")})),r.default.addListener(a,"dragend",(function(t){null!=y&&(c.addCell(i,c.model.root,m),y=null,m=null),t.stopPropagation(),t.preventDefault()}));var d=document.createElement("img");d.setAttribute("draggable","false"),d.setAttribute("align","top"),d.setAttribute("border","0"),d.style.cursor="pointer",d.style.padding="4px",d.setAttribute("title",u.default.get("lockUnlock"));var h=c.view.getState(i),p=null!=h?h.style:c.getCellStyle(i);"1"==s.default.getValue(p,"locked","0")?d.setAttribute("src",Dialog.prototype.lockedImage):d.setAttribute("src",Dialog.prototype.unlockedImage),r.default.addListener(d,"click",(function(t){if(c.isEnabled()){var e=null;c.getModel().beginUpdate();try{e="1"==s.default.getValue(p,"locked","0")?null:"1",c.setCellStyles("locked",e,[i])}finally{c.getModel().endUpdate()}"1"==e&&c.removeSelectionCells(c.getModel().getDescendants(i)),r.default.consume(t)}})),o.appendChild(d);var f=document.createElement("input");if(f.setAttribute("type","checkbox"),f.setAttribute("title",u.default.get("hideIt",[i.value||u.default.get("background")])),f.style.marginLeft="4px",f.style.marginRight="6px",f.style.marginTop="4px",o.appendChild(f),c.isEnabled()||f.setAttribute("disabled","disabled"),c.model.isVisible(i)&&(f.setAttribute("checked","checked"),f.defaultChecked=!0),r.default.addListener(f,"click",(function(t){c.isEnabled()&&(c.model.setVisible(i,!c.model.isVisible(i)),r.default.consume(t))})),s.default.write(o,e),a.appendChild(o),c.isEnabled()){if(l.default.IS_TOUCH||l.default.IS_POINTER||l.default.IS_VML||l.default.IS_IE&&document.documentMode<10){var b=document.createElement("div");if(b.style.display="block",b.style.textAlign="right",b.style.whiteSpace="nowrap",b.style.position="absolute",b.style.right="6px",b.style.top="6px",t>0){var S=document.createElement("a");S.setAttribute("title",u.default.get("toBack")),S.className="geButton",S.style.cssFloat="none",S.innerHTML="&#9650;",S.style.width="14px",S.style.height="14px",S.style.fontSize="14px",S.style.margin="0px",S.style.marginTop="-1px",b.appendChild(S),r.default.addListener(S,"click",(function(e){c.isEnabled()&&c.addCell(i,c.model.root,t-1),r.default.consume(e)}))}if(t>=0&&t<v-1){var w=document.createElement("a");w.setAttribute("title",u.default.get("toFront")),w.className="geButton",w.style.cssFloat="none",w.innerHTML="&#9660;",w.style.width="14px",w.style.height="14px",w.style.fontSize="14px",w.style.margin="0px",w.style.marginTop="-1px",b.appendChild(w),r.default.addListener(w,"click",(function(e){c.isEnabled()&&c.addCell(i,c.model.root,t+1),r.default.consume(e)}))}a.appendChild(b)}l.default.IS_SVG&&(!l.default.IS_IE||document.documentMode>=10)&&(a.setAttribute("draggable","true"),a.style.cursor="move")}r.default.addListener(a,"dblclick",(function(t){var e=r.default.getSource(t).nodeName;"INPUT"!=e&&"IMG"!=e&&(T(i),r.default.consume(t))})),c.getDefaultParent()==i?(a.style.background="#e6eff8",E=i):r.default.addListener(a,"click",(function(t){c.isEnabled()&&(c.setDefaultParent(n),c.view.setCurrentRoot(null),I())})),g.appendChild(a)}v=c.model.getChildCount(c.model.root),g.innerHTML="";for(var e=0;e<v;e++)s.default.bind(this,(function(i){t(e,i.value||u.default.get("background"),i,i)}))(c.model.getChildAt(c.model.root,e));w.setAttribute("title",u.default.get("removeIt",[E.value||u.default.get("background")])),A.setAttribute("title",u.default.get("moveSelectionTo",[E.value||u.default.get("background")])),M.setAttribute("title",u.default.get("duplicateIt",[E.value||u.default.get("background")])),C.setAttribute("title",u.default.get("renameIt",[E.value||u.default.get("background")])),c.isSelectionEmpty()&&(A.className="geButton mxDisabled")}x.innerHTML='<div class="geSprite geSprite-plus" style="display:inline-block;"></div>',x.setAttribute("title",u.default.get("addLayer")),r.default.addListener(x,"click",(function(t){if(c.isEnabled()){c.model.beginUpdate();try{var e=c.addCell(new n.default(u.default.get("untitledLayer")),c.model.root);c.setDefaultParent(e)}finally{c.model.endUpdate()}}r.default.consume(t)})),c.isEnabled()||(x.className="geButton mxDisabled"),b.appendChild(x),p.appendChild(b),I(),c.model.addListener(r.default.CHANGE,(function(){I()})),c.selectionModel.addListener(r.default.CHANGE,(function(){c.isSelectionEmpty()?A.className="geButton mxDisabled":A.className="geButton"})),this.window=new o.default(u.default.get("layers"),p,e,i,d,h,!0,!0),this.window.destroyOnClose=!1,this.window.setMaximizable(!1),this.window.setResizable(!0),this.window.setClosable(!0),this.window.setVisible(!0),this.refreshLayers=I,this.window.setLocation=function(t,e){t=Math.max(0,t),e=Math.max(0,e),o.default.prototype.setLocation.apply(this,arguments)},r.default.addListener(window,"resize",s.default.bind(this,(function(){var t=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,e=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,i=this.window.getX(),n=this.window.getY();i+this.window.table.clientWidth>t&&(i=Math.max(0,t-this.window.table.clientWidth)),n+this.window.table.clientHeight>e&&(n=Math.max(0,e-this.window.table.clientHeight)),this.window.getX()==i&&this.window.getY()==n||this.window.setLocation(i,n)})))}},993304:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(i(22676)),l=s(i(370608)),a=s(i(11131)),r=s(i(132448)),o=s(i(742288));function s(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e,i,s){var u=document.createElement("div");o.default.write(u,a.default.get("editLink")+":");var d=document.createElement("div");d.className="geTitle",d.style.backgroundColor="transparent",d.style.borderColor="transparent",d.style.whiteSpace="nowrap",d.style.textOverflow="clip",d.style.cursor="default",n.default.IS_VML||(d.style.paddingRight="20px");var h=document.createElement("input");h.setAttribute("value",e),h.setAttribute("placeholder","http://www.example.com/"),h.setAttribute("type","text"),h.style.marginTop="6px",h.style.width="400px",h.style.backgroundImage="url('"+Dialog.prototype.clearImage+"')",h.style.backgroundRepeat="no-repeat",h.style.backgroundPosition="100% 50%",h.style.paddingRight="14px";var c=document.createElement("div");c.setAttribute("title",a.default.get("reset")),c.style.position="relative",c.style.left="-16px",c.style.width="12px",c.style.height="14px",c.style.cursor="pointer",c.style.display=n.default.IS_VML?"inline":"inline-block",c.style.top=(n.default.IS_VML?0:3)+"px",c.style.background="url("+IMAGE_PATH+"/transparent.gif)",l.default.addListener(c,"click",(function(){h.value="",h.focus()})),d.appendChild(h),d.appendChild(c),u.appendChild(d),this.init=function(){h.focus(),n.default.IS_FF||document.documentMode>=5||n.default.IS_QUIRKS?h.select():document.execCommand("selectAll",!1,null)};var p=document.createElement("div");p.style.marginTop="18px",p.style.textAlign="right",l.default.addListener(h,"keypress",(function(e){13==e.keyCode&&(t.hideDialog(),s(h.value))}));var f=r.default.button(a.default.get("cancel"),(function(){t.hideDialog()}));f.className="geBtn",t.editor.cancelFirst&&p.appendChild(f);var g=r.default.button(i,(function(){t.hideDialog(),s(h.value)}));g.className="geBtn gePrimaryBtn",p.appendChild(g),t.editor.cancelFirst||p.appendChild(f),u.appendChild(p),this.container=u}},820048:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(i(995048)),l=o(i(11131)),a=o(i(742288)),r=o(i(39864));function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e){r.default.call(this),this.funct=t,this.enabled=null==e||e}a.default.extend(s,r.default),s.prototype.isEnabled=function(){return this.enabled},s.prototype.setEnabled=function(t){this.enabled!=t&&(this.enabled=t,this.fireEvent(new n.default("stateChanged")))},s.prototype.execute=function(t,e){this.funct(t,e)};l.default.parse("alreadyConnected=Nodes already connected\ncancel=Cancel\nclose=Close\ncollapse-expand=Collapse/Expand\ncontainsValidationErrors=Contains validation errors\ndone=Done\ndoubleClickOrientation=Doubleclick to Change Orientation\nerror=Error\nok=OK\nupdatingDocument=Updating Document. Please wait...\nupdatingSelection=Updating Selection. Please wait...\nabout=About\nactualSize=Actual Size\nadd=Add\naddLayer=Add Layer\naddProperty=Add Property\naddToExistingDrawing=Add to Existing Drawing\naddWaypoint=Add Waypoint\nadvanced=Advanced\nalign=Align\nalignment=Alignment\nallChangesLost=All changes will be lost!\nangle=Angle\napply=Apply\narrange=Arrange\narrow=Arrow\narrows=Arrows\nautomatic=Automatic\nautosave=Autosave\nautosize=Autosize\nbackground=Background\nbackgroundColor=Background Color\nbackgroundImage=Background Image\nbasic=Basic\nblock=Block\nblockquote=Blockquote\nbold=Bold\nborderWidth=Borderwidth\nborderColor=Border Color\nbottom=Bottom\nbottomAlign=Bottom Align\nbottomLeft=Bottom Left\nbottomRight=Bottom Right\nbulletedList=Bulleted List\ncannotOpenFile=Cannot open file\ncenter=Center\nchange=Change\nchangeOrientation=Change Orientation\ncircle=Circle\nclassic=Classic\nclearDefaultStyle=Clear Default Style\nclearWaypoints=Clear Waypoints\nclipart=Clipart\ncollapse=Collapse\ncollapseExpand=Collapse/Expand\ncollapsible=Collapsible\ncomic=Comic\nconnect=Connect\nconnection=Connection\nconnectionPoints=Connection points\nconnectionArrows=Connection arrows\nconstrainProportions=Constrain Proportions\ncopy=Copy\ncopyConnect=Copy on Connect\ncreate=Create\ncurved=Curved\ncustom=Custom\ncut=Cut\ndashed=Dashed\ndecreaseIndent=Decrease Indent\ndefault=Default\ndelete=Delete\ndeleteColumn=Delete Column\ndeleteRow=Delete Row\ndiagram=Diagram\ndiamond=Diamond\ndiamondThin=Diamond (thin)\ndirection=Direction\ndistribute=Distribute\ndivider=Divider\ndocumentProperties=Document Properties\ndotted=Dotted\ndrawing=Drawing{1}\ndrawingEmpty=Drawing is empty\ndrawingTooLarge=Drawing is too large\nduplicate=Duplicate\nduplicateIt=Duplicate {1}\neast=East\nedit=Edit\neditData=Edit Data\neditDiagram=Edit Diagram\neditImage=Edit Image\neditLink=Edit Link\neditStyle=Edit Style\neditTooltip=Edit Tooltip\nenterGroup=Enter Group\nenterValue=Enter Value\nenterName=Enter Name\nenterPropertyName=Enter Property Name\nentityRelation=Entity Relation\nexitGroup=Exit Group\nexpand=Expand\nexport=Export\nextras=Extras\nfile=File\nfileNotFound=File not found\nfilename=Filename\nfill=Fill\nfillColor=Fill Color\nfitPage=One Page\nfitPageWidth=Page Width\nfitTwoPages=Two Pages\nfitWindow=Fit Window\nflip=Flip\nflipH=Flip Horizontal\nflipV=Flip Vertical\nfont=Font\nfontFamily=Font Family\nfontColor=Font Color\nfontSize=Font Size\nformat=Format\nformatPanel=Format Panel\nformatPdf=PDF\nformatPng=PNG\nformatGif=GIF\nformatJpg=JPEG\nformatSvg=SVG\nformatXml=XML\nformatted=Formatted\nformattedText=Formatted Text\ngeneral=General\nglass=Glass\nglobal=Global\ngradient=Gradient\ngradientColor=Color\ngrid=Grid\ngridSize=Grid Size\ngroup=Group\nguides=Guides\nheading=Heading\nheight=Height\nhelp=Help\nhide=Hide\nhideIt=Hide {1}\nhidden=Hidden\nhome=Home\nhorizontal=Horizontal\nhorizontalFlow=Horizontal Flow\nhorizontalTree=Horizontal Tree\nhtml=HTML\nimage=Image\nimages=Images\nimport=Import\nincreaseIndent=Increase Indent\ninsert=Insert\ninsertColumnBefore=Insert Column Left\ninsertColumnAfter=Insert Column Right\ninsertHorizontalRule=Insert Horizontal Rule\ninsertImage=Insert Image\ninsertLink=Insert Link\ninsertRowBefore=Insert Row Above\ninsertRowAfter=Insert Row Below\ninvalidName=Invalid name\ninvalidOrMissingFile=Invalid or missing file\nisometric=Isometric\nitalic=Italic\nlayers=Layers\nlandscape=Landscape\nlaneColor=Lanecolor\nlayout=Layout\nleft=Left\nleftAlign=Left Align\nleftToRight=Left to Right\nline=Line\nlink=Link\nlineend=Line End\nlineheight=Line Height\nlinestart=Line Start\nlinewidth=Linewidth\nloading=Loading\nlockUnlock=Lock/Unlock\nmanual=Manual\nmiddle=Middle\nmisc=Misc\nmore=More\nmoreResults=More Results\nmove=Move\nmoveSelectionTo=Move Selection to {1}\nnavigation=Navigation\nnew=New\nnoColor=No Color\nnoFiles=No files\nnoMoreResults=No more results\nnone=None\nnoResultsFor=No results for '{1}'\nnormal=Normal\nnorth=North\nnumberedList=Numbered List\nopacity=Opacity\nopen=Open\nopenArrow=Open Arrow\nopenFile=Open File\nopenLink=Open Link\nopenSupported=Supported format is .XML files saved from this software\nopenInNewWindow=Open in New Window\nopenInThisWindow=Open in this Window\noptions=Options\norganic=Organic\northogonal=Orthogonal\noutline=Outline\noval=Oval\npages=Pages\npageView=Page View\npageScale=Page Scale\npageSetup=Page Setup\npanTooltip=Space+Drag to Scroll\npaperSize=Paper Size\npaste=Paste\npasteHere=Paste Here\npattern=Pattern\nperimeter=Perimeter\nplaceholders=Placeholders\nplusTooltip=Click to connect and clone (ctrl+click to clone, shift+click to connect). Drag to connect (ctrl+drag to clone).\nportrait=Portrait\nposition=Position\nposterPrint=Poster Print\npreview=Preview\nprint=Print\nradialTree=Radial Tree\nredo=Redo\nremoveFormat=Clear Formatting\nremoveFromGroup=Remove from Group\nremoveIt=Remove {1}\nremoveWaypoint=Remove Waypoint\nrename=Rename\nrenameIt=Rename {1}\nreplace=Replace\nreplaceIt={1} already exists. Do you want to replace it?\nreplaceExistingDrawing=Replace existing drawing\nreset=Reset\nresetView=Reset View\nright=Right\nrightAlign=Right Align\nrightToLeft=Right to Left\nrotate=Rotate\nrotateTooltip=Click and drag to rotate, click to turn by 90 degrees\nrotation=Rotation\nrounded=Rounded\nsave=Save\nsaveAs=Save as\nsaved=Saved\nscrollbars=Scrollbars\nsearch=Search\nsearchShapes=Search Shapes\nselectAll=Select All\nselectEdges=Select Edges\nselectFont=Select a Font\nselectNone=Select None\nselectVertices=Select Vertices\nsetAsDefaultStyle=Set as Default Style\nshadow=Shadow\nshape=Shape\nsharp=Sharp\nsidebarTooltip=Click to expand. Drag and drop shapes into the diagram. Shift+click to change selection. Alt+click to insert and connect.\nsimple=Simple\nsimpleArrow=Simple Arrow\nsize=Size\nsolid=Solid\nsourceSpacing=Source Spacing\nsouth=South\nspacing=Spacing\nstraight=Straight\nstrokeColor=Line Color\nstyle=Style\nsubscript=Subscript\nsuperscript=Superscript\ntable=Table\ntargetSpacing=Target Spacing\ntext=Text\ntextAlignment=Text Alignment\ntextOpacity=Text Opacity\ntoBack=To Back\ntoFront=To Front\ntooltips=Tooltips\ntop=Top\ntopAlign=Top Align\ntopLeft=Top Left\ntopRight=Top Right\ntransparent=Transparent\nturn=Turn\numl=UML\nunderline=Underline\nundo=Undo\nungroup=Ungroup\nurl=URL\nuntitledLayer=Untitled Layer\nvertical=Vertical\nverticalFlow=Vertical Flow\nverticalTree=Vertical Tree\nview=View\nwaypoints=Waypoints\nwest=West\nwidth=Width\nwordWrap=Word Wrap\nwritingDirection=Writing Direction\nzoom=Zoom\nzoomIn=Zoom In\nzoomOut=Zoom Out");e.default=s},540888:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(9692),i(686456),i(297336);var n=E(i(995048)),l=E(i(430264)),a=E(i(662472)),r=E(i(370608)),o=E(i(172636)),s=E(i(786715)),u=E(i(72644)),d=E(i(257172)),h=E(i(820048)),c=E(i(22676)),p=E(i(911484)),f=E(i(733516)),g=E(i(742288)),y=E(i(11131)),m=E(i(790448)),v=E(i(339024));function E(t){return t&&t.__esModule?t:{default:t}}var b=function(t){this.editorUi=t,this.menus=new Object,this.init(),c.default.IS_SVG||((new Image).src=this.checkmarkImage)};b.prototype.defaultFont="Helvetica",b.prototype.defaultFontSize="12",b.prototype.defaultMenuItems=["file","edit","view","arrange","extras","help"],b.prototype.defaultFonts=["Helvetica","Verdana","Times New Roman","Garamond","Comic Sans MS","Courier New","Georgia","Lucida Console","Tahoma"],b.prototype.init=function(){var t=this.editorUi.editor.graph,e=g.default.bind(t,t.isEnabled);this.customFonts=[],this.customFontSizes=[],this.put("fontFamily",new h.default(g.default.bind(this,(function(t,e){for(var i=g.default.bind(this,(function(i){this.styleChange(t,i,[m.default.STYLE_FONTFAMILY],[i],null,e,(function(){document.execCommand("fontname",!1,i)})).firstChild.nextSibling.style.fontFamily=i})),n=0;n<this.defaultFonts.length;n++)i(this.defaultFonts[n]);if(t.addSeparator(e),this.customFonts.length>0){for(n=0;n<this.customFonts.length;n++)i(this.customFonts[n]);t.addSeparator(e),t.addItem(y.default.get("reset"),null,g.default.bind(this,(function(){this.customFonts=[]})),e),t.addSeparator(e)}this.promptChange(t,y.default.get("custom")+"...","",m.default.DEFAULT_FONTFAMILY,m.default.STYLE_FONTFAMILY,e,!0,g.default.bind(this,(function(t){this.customFonts.push(t)})))})))),this.put("formatBlock",new h.default(g.default.bind(this,(function(e,i){function n(n,l){return e.addItem(n,null,g.default.bind(this,(function(){t.cellEditor.textarea.focus(),document.execCommand("formatBlock",!1,"<"+l+">")})),i)}n(y.default.get("normal"),"p"),n("","h1").firstChild.nextSibling.innerHTML='<h1 style="margin:0px;">'+y.default.get("heading")+" 1</h1>",n("","h2").firstChild.nextSibling.innerHTML='<h2 style="margin:0px;">'+y.default.get("heading")+" 2</h2>",n("","h3").firstChild.nextSibling.innerHTML='<h3 style="margin:0px;">'+y.default.get("heading")+" 3</h3>",n("","h4").firstChild.nextSibling.innerHTML='<h4 style="margin:0px;">'+y.default.get("heading")+" 4</h4>",n("","h5").firstChild.nextSibling.innerHTML='<h5 style="margin:0px;">'+y.default.get("heading")+" 5</h5>",n("","h6").firstChild.nextSibling.innerHTML='<h6 style="margin:0px;">'+y.default.get("heading")+" 6</h6>",n("","pre").firstChild.nextSibling.innerHTML='<pre style="margin:0px;">'+y.default.get("formatted")+"</pre>",n("","blockquote").firstChild.nextSibling.innerHTML='<blockquote style="margin-top:0px;margin-bottom:0px;">'+y.default.get("blockquote")+"</blockquote>"})))),this.put("fontSize",new h.default(g.default.bind(this,(function(e,i){for(var n=[6,8,9,10,11,12,14,18,24,36,48,72],l=g.default.bind(this,(function(n){this.styleChange(e,n,[m.default.STYLE_FONTSIZE],[n],null,i,(function(){document.execCommand("fontSize",!1,"3");for(var e=t.cellEditor.textarea.getElementsByTagName("font"),i=0;i<e.length;i++)if("3"==e[i].getAttribute("size")){e[i].removeAttribute("size"),e[i].style.fontSize=n+"px";break}}))})),a=0;a<n.length;a++)l(n[a]);if(e.addSeparator(i),this.customFontSizes.length>0){for(a=0;a<this.customFontSizes.length;a++)l(this.customFontSizes[a]);e.addSeparator(i),e.addItem(y.default.get("reset"),null,g.default.bind(this,(function(){this.customFontSizes=[]})),i),e.addSeparator(i)}this.promptChange(e,y.default.get("custom")+"...","(pt)","12",m.default.STYLE_FONTSIZE,i,!0,g.default.bind(this,(function(t){this.customFontSizes.push(t)})))})))),this.put("direction",new h.default(g.default.bind(this,(function(e,i){e.addItem(y.default.get("flipH"),null,(function(){t.toggleCellStyles(m.default.STYLE_FLIPH,!1)}),i),e.addItem(y.default.get("flipV"),null,(function(){t.toggleCellStyles(m.default.STYLE_FLIPV,!1)}),i),this.addMenuItems(e,["-","rotation"],i)})))),this.put("align",new h.default(g.default.bind(this,(function(e,i){e.addItem(y.default.get("leftAlign"),null,(function(){t.alignCells(m.default.ALIGN_LEFT)}),i),e.addItem(y.default.get("center"),null,(function(){t.alignCells(m.default.ALIGN_CENTER)}),i),e.addItem(y.default.get("rightAlign"),null,(function(){t.alignCells(m.default.ALIGN_RIGHT)}),i),e.addSeparator(i),e.addItem(y.default.get("topAlign"),null,(function(){t.alignCells(m.default.ALIGN_TOP)}),i),e.addItem(y.default.get("middle"),null,(function(){t.alignCells(m.default.ALIGN_MIDDLE)}),i),e.addItem(y.default.get("bottomAlign"),null,(function(){t.alignCells(m.default.ALIGN_BOTTOM)}),i)})))),this.put("distribute",new h.default(g.default.bind(this,(function(e,i){e.addItem(y.default.get("horizontal"),null,(function(){t.distributeCells(!0)}),i),e.addItem(y.default.get("vertical"),null,(function(){t.distributeCells(!1)}),i)})))),this.put("layout",new h.default(g.default.bind(this,(function(e,i){e.addItem(y.default.get("horizontalFlow"),null,g.default.bind(this,(function(){var e=new l.default(t,m.default.DIRECTION_WEST);this.editorUi.executeLayout((function(){var i=t.getSelectionCells();e.execute(t.getDefaultParent(),0==i.length?null:i)}),!0)})),i),e.addItem(y.default.get("verticalFlow"),null,g.default.bind(this,(function(){var e=new l.default(t,m.default.DIRECTION_NORTH);this.editorUi.executeLayout((function(){var i=t.getSelectionCells();e.execute(t.getDefaultParent(),0==i.length?null:i)}),!0)})),i),e.addSeparator(i),e.addItem(y.default.get("horizontalTree"),null,g.default.bind(this,(function(){var e=t.getSelectionCell(),i=null;if(null==e||0==t.getModel().getChildCount(e)?0==t.getModel().getEdgeCount(e)&&(i=t.findTreeRoots(t.getDefaultParent())):i=t.findTreeRoots(e),null!=i&&i.length>0&&(e=i[0]),null!=e){var n=new u.default(t,!0);n.edgeRouting=!1,n.levelDistance=30,this.editorUi.executeLayout((function(){n.execute(t.getDefaultParent(),e)}),!0)}})),i),e.addItem(y.default.get("verticalTree"),null,g.default.bind(this,(function(){var e=t.getSelectionCell(),i=null;if(null==e||0==t.getModel().getChildCount(e)?0==t.getModel().getEdgeCount(e)&&(i=t.findTreeRoots(t.getDefaultParent())):i=t.findTreeRoots(e),null!=i&&i.length>0&&(e=i[0]),null!=e){var n=new u.default(t,!1);n.edgeRouting=!1,n.levelDistance=30,this.editorUi.executeLayout((function(){n.execute(t.getDefaultParent(),e)}),!0)}})),i),e.addItem(y.default.get("radialTree"),null,g.default.bind(this,(function(){var e=t.getSelectionCell(),i=null;if(null==e||0==t.getModel().getChildCount(e)?0==t.getModel().getEdgeCount(e)&&(i=t.findTreeRoots(t.getDefaultParent())):i=t.findTreeRoots(e),null!=i&&i.length>0&&(e=i[0]),null!=e){var n=new f.default(t,!1);n.levelDistance=60,n.autoRadius=!0,this.editorUi.executeLayout((function(){n.execute(t.getDefaultParent(),e),t.isSelectionEmpty()||(e=t.getModel().getParent(e),t.getModel().isVertex(e)&&t.updateGroupBounds([e],2*t.gridSize,!0))}),!0)}})),i),e.addSeparator(i),e.addItem(y.default.get("organic"),null,g.default.bind(this,(function(){var e=new d.default(t);this.editorUi.executeLayout((function(){var i=t.getSelectionCell();null!=i&&0!=t.getModel().getChildCount(i)||(i=t.getDefaultParent()),e.execute(i),t.getModel().isVertex(i)&&t.updateGroupBounds([i],2*t.gridSize,!0)}),!0)})),i),e.addItem(y.default.get("circle"),null,g.default.bind(this,(function(){var e=new a.default(t);this.editorUi.executeLayout((function(){var i=t.getSelectionCell();null!=i&&0!=t.getModel().getChildCount(i)||(i=t.getDefaultParent()),e.execute(i),t.getModel().isVertex(i)&&t.updateGroupBounds([i],2*t.gridSize,!0)}),!0)})),i)})))),this.put("navigation",new h.default(g.default.bind(this,(function(t,e){this.addMenuItems(t,["home","-","exitGroup","enterGroup","-","expand","collapse","-","collapsible"],e)})))),this.put("arrange",new h.default(g.default.bind(this,(function(t,e){this.addMenuItems(t,["toFront","toBack","-"],e),this.addSubmenu("direction",t,e),this.addMenuItems(t,["turn","-"],e),this.addSubmenu("align",t,e),this.addSubmenu("distribute",t,e),t.addSeparator(e),this.addSubmenu("navigation",t,e),this.addSubmenu("insert",t,e),this.addSubmenu("layout",t,e),this.addMenuItems(t,["-","group","ungroup","removeFromGroup","-","clearWaypoints","autosize"],e)})))).isEnabled=e,this.put("insert",new h.default(g.default.bind(this,(function(t,e){this.addMenuItems(t,["insertLink","insertImage"],e)})))),this.put("view",new h.default(g.default.bind(this,(function(t,e){this.addMenuItems(t,(null!=this.editorUi.format?["formatPanel"]:[]).concat(["outline","layers","-","pageView","pageScale","-","scrollbars","tooltips","-","grid","guides","-","connectionArrows","connectionPoints","-","resetView","zoomIn","zoomOut"],e))})))),this.put("viewPanels",new h.default(g.default.bind(this,(function(t,e){null!=this.editorUi.format&&this.addMenuItems(t,["formatPanel"],e),this.addMenuItems(t,["outline","layers"],e)})))),this.put("viewZoom",new h.default(g.default.bind(this,(function(e,i){this.addMenuItems(e,["resetView","-"],i);for(var n=[.25,.5,.75,1,1.25,1.5,2,3,4],l=0;l<n.length;l++)!function(n){e.addItem(100*n+"%",null,(function(){t.zoomTo(n)}),i)}(n[l]);this.addMenuItems(e,["-","fitWindow","fitPageWidth","fitPage","fitTwoPages","-","customZoom"],i)})))),this.put("file",new h.default(g.default.bind(this,(function(t,e){this.addMenuItems(t,["new","open","-","save","saveAs","-","import","export","-","pageSetup","print"],e)})))),this.put("edit",new h.default(g.default.bind(this,(function(t,e){this.addMenuItems(t,["undo","redo","-","cut","copy","paste","delete","-","duplicate","-","editData","editTooltip","editStyle","-","editLink","openLink","-","selectVertices","selectEdges","selectAll","selectNone","-","lockUnlock"])})))),this.put("extras",new h.default(g.default.bind(this,(function(t,e){this.addMenuItems(t,["copyConnect","collapseExpand","-","editDiagram"])})))),this.put("help",new h.default(g.default.bind(this,(function(t,e){this.addMenuItems(t,["help","-","about"])}))))},b.prototype.put=function(t,e){return this.menus[t]=e,e},b.prototype.get=function(t){return this.menus[t]},b.prototype.addSubmenu=function(t,e,i){var n=this.get(t).isEnabled();if(e.showDisabled||n){var l=e.addItem(y.default.get(t),null,null,i,null,n);this.addMenu(t,e,l)}},b.prototype.addMenu=function(t,e,i){var n=this.get(t);null!=n&&(e.showDisabled||n.isEnabled())&&this.get(t).execute(e,i)},b.prototype.addInsertTableItem=function(t){var e=this.editorUi.editor.graph;var i=t.addItem("",null,g.default.bind(this,(function(t){var i=e.getParentByName(r.default.getSource(t),"TD");if(null!=i){for(var n=e.getParentByName(i,"TR"),l=e.cellEditor.textarea.getElementsByTagName("table"),a=[],o=0;o<l.length;o++)a.push(l[o]);e.container.focus(),e.pasteHtmlAtCaret(function(t,e){for(var i=["<table>"],n=0;n<t;n++){i.push("<tr>");for(var l=0;l<e;l++)i.push("<td><br></td>");i.push("</tr>")}return i.push("</table>"),i.join("")}(n.sectionRowIndex+1,i.cellIndex+1));var s=e.cellEditor.textarea.getElementsByTagName("table");if(s.length==a.length+1)for(o=s.length-1;o>=0;o--)if(0==o||s[o]!=a[o-1]){e.selectNode(s[o].rows[0].cells[0]);break}}}))),n='<img src="'+c.default.imageBasePath+'/transparent.gif" width="16" height="16"/>';i.firstChild.innerHTML="";var l=function(t,e){var i=document.createElement("table");i.setAttribute("border","1"),i.style.borderCollapse="collapse",c.default.IS_QUIRKS||i.setAttribute("cellPadding","8");for(var l=0;l<t;l++)for(var a=i.insertRow(l),r=0;r<e;r++){var o=a.insertCell(-1);c.default.IS_QUIRKS&&(o.innerHTML=n)}return i}(5,5);i.firstChild.appendChild(l);var a=document.createElement("div");a.style.padding="4px",a.style.fontSize=b.prototype.defaultFontSize+"px",a.innerHTML="1x1",i.firstChild.appendChild(a),r.default.addListener(l,"mouseover",(function(t){var i=e.getParentByName(r.default.getSource(t),"TD");if(null!=i){var o=e.getParentByName(i,"TR");!function(t,e,i){for(var l=t.rows.length;l<e;l++)for(var a=t.insertRow(l),r=0;r<t.rows[0].cells.length;r++){var o=a.insertCell(-1);c.default.IS_QUIRKS&&(o.innerHTML=n)}for(l=0;l<t.rows.length;l++)for(r=(a=t.rows[l]).cells.length;r<i;r++)o=a.insertCell(-1),c.default.IS_QUIRKS&&(o.innerHTML=n)}(l,Math.min(20,o.sectionRowIndex+2),Math.min(20,i.cellIndex+2)),a.innerHTML=i.cellIndex+1+"x"+(o.sectionRowIndex+1);for(var s=0;s<l.rows.length;s++)for(var u=l.rows[s],d=0;d<u.cells.length;d++){var h=u.cells[d];s<=o.sectionRowIndex&&d<=i.cellIndex?h.style.backgroundColor="blue":h.style.backgroundColor="white"}r.default.consume(t)}}))},b.prototype.edgeStyleChange=function(t,e,i,l,a,r,o){return t.addItem(e,null,g.default.bind(this,(function(){var t=this.editorUi.editor.graph;t.stopEditing(!1),t.getModel().beginUpdate();try{for(var e=t.getSelectionCells(),a=[],r=0;r<e.length;r++){var s=e[r];if(t.getModel().isEdge(s)){if(o){var u=t.getCellGeometry(s);null!=u&&((u=u.clone()).points=null,t.getModel().setGeometry(s,u))}for(var d=0;d<i.length;d++)t.setCellStyles(i[d],l[d],[s]);a.push(s)}}this.editorUi.fireEvent(new n.default("styleChanged","keys",i,"values",l,"cells",a))}finally{t.getModel().endUpdate()}})),r,a)},b.prototype.styleChange=function(t,e,i,n,l,a,r){var o=this.createStyleChangeFunction(i,n);return t.addItem(e,null,g.default.bind(this,(function(){var t=this.editorUi.editor.graph;null!=r&&t.cellEditor.isContentEditing()?r():o()})),a,l)},b.prototype.createStyleChangeFunction=function(t,e){return g.default.bind(this,(function(){var i=this.editorUi.editor.graph;i.stopEditing(!1),i.getModel().beginUpdate();try{for(var l=0;l<t.length;l++)i.setCellStyles(t[l],e[l]);this.editorUi.fireEvent(new n.default("styleChanged","keys",t,"values",e,"cells",i.getSelectionCells()))}finally{i.getModel().endUpdate()}}))},b.prototype.promptChange=function(t,e,i,n,l,a,r,o,s){return t.addItem(e,null,g.default.bind(this,(function(){var t=this.editorUi.editor.graph,e=n,a=t.getView().getState(t.getSelectionCell());null!=a&&(e=a.style[l]||e);var r=new p.default(this.editorUi,e,y.default.get("apply"),g.default.bind(this,(function(e){if(null!=e&&e.length>0){t.getModel().beginUpdate();try{t.stopEditing(!1),t.setCellStyles(l,e)}finally{t.getModel().endUpdate()}null!=o&&o(e)}})),y.default.get("enterValue")+(i.length>0?" "+i:""));this.editorUi.showDialog(r.container,300,80,!0,!0),r.init()})),a,s,r)},b.prototype.pickColor=function(t,e,i){var n=this.editorUi.editor.graph;if(null!=e&&n.cellEditor.isContentEditing()){var l=n.cellEditor.saveSelection(),a=new s.default(this.editorUi,i||"000000",g.default.bind(this,(function(t){n.cellEditor.restoreSelection(l),document.execCommand(e,!1,t!=m.default.NONE?t:"transparent")})),(function(){n.cellEditor.restoreSelection(l)}));this.editorUi.showDialog(a.container,220,430,!0,!0),a.init()}else{null==this.colorDialog&&(this.colorDialog=new s.default(this.editorUi)),this.colorDialog.currentColorKey=t;var r=n.getView().getState(n.getSelectionCell()),o="none";null!=r&&(o=r.style[t]||o),"none"==o?(o="ffffff",this.colorDialog.picker.fromString("ffffff"),this.colorDialog.colorInput.value="none"):this.colorDialog.picker.fromString(o),this.editorUi.showDialog(this.colorDialog.container,220,430,!0,!0),this.colorDialog.init()}},b.prototype.toggleStyle=function(t,e){var i=this.editorUi.editor.graph,l=i.toggleCellStyles(t,e);this.editorUi.fireEvent(new n.default("styleChanged","keys",[t],"values",[l],"cells",i.getSelectionCells()))},b.prototype.addMenuItem=function(t,e,i,n,l){var a=this.editorUi.actions.get(e);if(null!=a&&(t.showDisabled||a.isEnabled())&&a.visible){var r=t.addItem(a.label,null,(function(){a.funct(n)}),i,l,a.isEnabled());return a.toggleAction&&a.isSelected()&&t.addCheckmark(r,Editor.checkmarkImage),this.addShortcut(r,a),r}return null},b.prototype.addShortcut=function(t,e){if(null!=e.shortcut){var i=t.firstChild.nextSibling.nextSibling,n=document.createElement("span");n.style.color="gray",g.default.write(n,e.shortcut),i.appendChild(n)}},b.prototype.addMenuItems=function(t,e,i,n,l){for(var a=0;a<e.length;a++)"-"==e[a]?t.addSeparator(i):this.addMenuItem(t,e[a],i,n,null!=l?l[a]:null)},b.prototype.createPopupMenu=function(t,e,i){var n=this.editorUi.editor.graph;if(t.smartSeparators=!0,n.isSelectionEmpty()?this.addMenuItems(t,["undo","redo","-","pasteHere"],null,i):this.addMenuItems(t,["delete","-","cut","copy","-","duplicate"],null,i),n.getSelectionCount()>0){1==n.getSelectionCount()&&this.addMenuItems(t,["setAsDefaultStyle"],null,i),t.addSeparator(),e=n.getSelectionCell();var l=n.view.getState(e);if(null!=l){if(1==n.getSelectionCount()&&this.addMenuItems(t,["toFront","toBack","-"],null,i),n.getModel().isEdge(e)&&"entityRelationEdgeStyle"!=g.default.getValue(l.style,m.default.STYLE_EDGE,null)&&"arrow"!=g.default.getValue(l.style,m.default.STYLE_SHAPE,null)){var a=n.selectionCellsHandler.getHandler(e),r=!1;if(a instanceof v.default&&null!=a.bends&&a.bends.length>2){var s=a.getHandleForEvent(n.updateMouseEvent(new o.default(i))),u=this.editorUi.actions.get("removeWaypoint");u.handler=a,u.index=s,r=s>0&&s<a.bends.length-1}this.addMenuItems(t,["-",r?"removeWaypoint":"addWaypoint"],null,i);var d=n.getModel().getGeometry(e);null!=d&&null!=d.points&&d.points.length>0&&this.addMenuItems(t,["clearWaypoints"],null,i)}n.getSelectionCount()>1?(t.addSeparator(),this.addMenuItems(t,["group"],null,i)):1==n.getSelectionCount()&&!n.getModel().isEdge(e)&&!n.isSwimlane(e)&&n.getModel().getChildCount(e)>0&&(t.addSeparator(),this.addMenuItems(t,["ungroup"],null,i)),1==n.getSelectionCount()&&(t.addSeparator(),this.addMenuItems(t,["editData","editLink"],null,i),n.getModel().isVertex(e)&&null!=g.default.getValue(l.style,m.default.STYLE_IMAGE,null)&&(t.addSeparator(),this.addMenuItem(t,"image",null,i).firstChild.nextSibling.innerHTML=y.default.get("editImage")+"..."))}}else this.addMenuItems(t,["-","selectVertices","selectEdges","-","selectAll"],null,i)};e.default=b},354352:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,l=(n=i(22676))&&n.__esModule?n:{default:n};e.default=function(){var t=document.createElement("iframe");t.style.backgroundColor="transparent",t.allowTransparency="true",t.style.borderStyle="none",t.style.borderWidth="0px",t.style.overflow="hidden",t.frameBorder="0";var e=l.default.IS_VML&&(null==document.documentMode||document.documentMode<8)?20:0;t.setAttribute("width",(Editor.useLocalStorage?640:320)+e+"px"),t.setAttribute("height",(Editor.useLocalStorage?480:220)+e+"px"),t.setAttribute("src",OPEN_FORM),this.container=t}},220196:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(686456),i(927184),i(297336);var n=C(i(780208)),l=C(i(370608)),a=C(i(498096)),r=C(i(180800)),o=C(i(172636)),s=C(i(300511)),u=C(i(409988)),d=C(i(247644)),h=C(i(833800)),c=C(i(22676)),p=C(i(164460)),f=C(i(540168)),g=C(i(736616)),y=C(i(742288)),m=C(i(36312)),v=C(i(62112)),E=C(i(809196)),b=C(i(790448)),S=C(i(132448)),w=i(384904),A=C(i(363120));function C(t){return t&&t.__esModule?t:{default:t}}var T=function(t){this.producer=null,this.consumer=null,this.done=t};T.prototype.setConsumer=function(t){this.consumer=t,this.execute()},T.prototype.setData=function(t,e){this.data=t,this.filename=e,this.execute()},T.prototype.error=function(t){this.cancel(!0),S.default.alert(t)},T.prototype.execute=function(){null!=this.consumer&&null!=this.data&&(this.cancel(!1),this.consumer(this.data,this.filename))},T.prototype.cancel=function(t){null!=this.done&&this.done(null==t||t)},function(){E.default.prototype.validateBackgroundPage=function(){var t=this.graph;if(null!=t.container&&!t.transparentBackground){if(t.pageVisible){var e=this.getBackgroundPageBounds();if(null==this.backgroundPageShape){for(var i=t.container.firstChild;null!=i&&i.nodeType!=b.default.NODETYPE_ELEMENT;)i=i.nextSibling;null!=i&&(this.backgroundPageShape=this.createBackgroundPageShape(e),this.backgroundPageShape.scale=1,this.backgroundPageShape.isShadow=!c.default.IS_QUIRKS,this.backgroundPageShape.dialect=b.default.DIALECT_STRICTHTML,this.backgroundPageShape.init(t.container),i.style.position="absolute",t.container.insertBefore(this.backgroundPageShape.node,i),this.backgroundPageShape.redraw(),this.backgroundPageShape.node.className="geBackgroundPage",l.default.addListener(this.backgroundPageShape.node,"dblclick",y.default.bind(this,(function(e){t.dblClick(e)}))),l.default.addGestureListeners(this.backgroundPageShape.node,y.default.bind(this,(function(e){t.fireMouseEvent(l.default.MOUSE_DOWN,new o.default(e))})),y.default.bind(this,(function(e){null!=t.tooltipHandler&&t.tooltipHandler.isHideOnHover()&&t.tooltipHandler.hide(),t.isMouseDown&&!l.default.isConsumed(e)&&t.fireMouseEvent(l.default.MOUSE_MOVE,new o.default(e))})),y.default.bind(this,(function(e){t.fireMouseEvent(l.default.MOUSE_UP,new o.default(e))}))))}else this.backgroundPageShape.scale=1,this.backgroundPageShape.bounds=e,this.backgroundPageShape.redraw()}else null!=this.backgroundPageShape&&(this.backgroundPageShape.destroy(),this.backgroundPageShape=null);this.validateBackgroundStyles()}},E.default.prototype.validateBackgroundStyles=function(){var t=this.graph,e=null==t.background||t.background==b.default.NONE?"#ffffff":t.background,i=this.gridColor!=e.toLowerCase()?this.gridColor:"#ffffff",n="none",l="";if(t.isGridEnabled()){var a=10;c.default.IS_SVG?(n=unescape(encodeURIComponent(this.createSvgGrid(i))),n="url(data:image/svg+xml;base64,"+(n=window.btoa?btoa(n):Base64.encode(n,!0))+")",a=t.gridSize*this.scale*this.gridSteps):n="url("+this.gridImage+")";var r=0,o=0;if(null!=t.view.backgroundPageShape){var s=this.getBackgroundPageBounds();r=1+s.x,o=1+s.y}l=-Math.round(a-y.default.mod(this.translate.x*this.scale-r,a))+"px "+-Math.round(a-y.default.mod(this.translate.y*this.scale-o,a))+"px"}var u=t.view.canvas;null!=u.ownerSVGElement&&(u=u.ownerSVGElement),null!=t.view.backgroundPageShape?(t.view.backgroundPageShape.node.style.backgroundPosition=l,t.view.backgroundPageShape.node.style.backgroundImage=n,t.view.backgroundPageShape.node.style.backgroundColor=e,u.style.backgroundImage="none",u.style.backgroundColor=(0,w.isBizFlow)(t.flowType)?"#F9FBFF":""):(u.style.backgroundPosition=l,u.style.backgroundColor=e,u.style.backgroundImage=n)},E.default.prototype.createSvgGrid=function(t){for(var e=this.graph.gridSize*this.scale;e<this.minGridSize;)e*=2;for(var i=this.gridSteps*e,n=[],l=1;l<this.gridSteps;l++){var a=l*e;n.push("M 0 "+a+" L "+i+" "+a+" M "+a+" 0 L "+a+" "+i)}return'<svg width="'+i+'" height="'+i+'" xmlns="'+b.default.NS_SVG+'"><defs><pattern id="grid" width="'+i+'" height="'+i+'" patternUnits="userSpaceOnUse"><path d="'+n.join(" ")+'" fill="none" stroke="'+t+'" opacity="0.2" stroke-width="1"/><path d="M '+i+" 0 L 0 0 0 "+i+'" fill="none" stroke="'+t+'" stroke-width="1"/></pattern></defs><rect width="100%" height="100%" fill="url(#grid)"/></svg>'};var t=a.default.prototype.panGraph;a.default.prototype.panGraph=function(e,i){if(t.apply(this,arguments),null!=this.shiftPreview1){var n=this.view.canvas;null!=n.ownerSVGElement&&(n=n.ownerSVGElement);var l=this.gridSize*this.view.scale*this.view.gridSteps,a=-Math.round(l-y.default.mod(this.view.translate.x*this.view.scale+e,l))+"px "+-Math.round(l-y.default.mod(this.view.translate.y*this.view.scale+i,l))+"px";n.style.backgroundPosition=a}},a.default.prototype.updatePageBreaks=function(t,e,i){var l=this.view.scale,a=this.view.translate,r=this.pageFormat,o=l*this.pageScale,s=this.view.getBackgroundPageBounds();e=s.width,i=s.height;var u=new d.default(l*a.x,l*a.y,r.width*o,r.height*o),h=(t=t&&Math.min(u.width,u.height)>this.minPageBreakDist)?Math.ceil(e/u.width)-1:0,c=t?Math.ceil(i/u.height)-1:0,f=s.x+e,g=s.y+i;if(null==this.horizontalPageBreaks&&h>0&&(this.horizontalPageBreaks=[]),null!=this.horizontalPageBreaks){for(var y=0;y<=h;y++){var m=[new p.default(s.x+(y+1)*u.width,s.y),new p.default(s.x+(y+1)*u.width,g)];if(null!=this.horizontalPageBreaks[y])this.horizontalPageBreaks[y].points=m,this.horizontalPageBreaks[y].redraw();else(v=new n.default(m,this.pageBreakColor)).dialect=this.dialect,v.isDashed=this.pageBreakDashed,v.pointerEvents=!1,v.init(this.view.backgroundPane),v.redraw(),this.horizontalPageBreaks[y]=v}for(y=h;y<this.horizontalPageBreaks.length;y++)this.horizontalPageBreaks[y].destroy();this.horizontalPageBreaks.splice(h,this.horizontalPageBreaks.length-h)}if(null==this.verticalPageBreaks&&c>0&&(this.verticalPageBreaks=[]),null!=this.verticalPageBreaks){for(y=0;y<=c;y++){var v;m=[new p.default(s.x,s.y+(y+1)*u.height),new p.default(f,s.y+(y+1)*u.height)];if(null!=this.verticalPageBreaks[y])this.verticalPageBreaks[y].points=m,this.verticalPageBreaks[y].redraw();else(v=new n.default(m,this.pageBreakColor)).dialect=this.dialect,v.isDashed=this.pageBreakDashed,v.pointerEvents=!1,v.init(this.view.backgroundPane),v.redraw(),this.verticalPageBreaks[y]=v}for(y=c;y<this.verticalPageBreaks.length;y++)this.verticalPageBreaks[y].destroy();this.verticalPageBreaks.splice(c,this.verticalPageBreaks.length-c)}};var e=g.default.prototype.shouldRemoveCellsFromParent;g.default.prototype.shouldRemoveCellsFromParent=function(t,i,n){for(var l=0;l<i.length;l++)if(this.graph.getModel().isVertex(i[l])){var a=this.graph.getCellGeometry(i[l]);if(null!=a&&a.relative)return!1}return e.apply(this,arguments)};var i=r.default.prototype.createMarker;r.default.prototype.createMarker=function(){var t=i.apply(this,arguments);return t.intersects=y.default.bind(this,(function(e,i){return!!this.isConnecting()||v.default.prototype.intersects.apply(t,arguments)})),t},E.default.prototype.createBackgroundPageShape=function(t){return new h.default(t,"#ffffff",this.graph.isGridEnabled()?"#cacaca":"#FFFFFF")},E.default.prototype.getBackgroundPageBounds=function(){var t=this.getGraphBounds(),e=t.width>0?t.x/this.scale-this.translate.x:0,i=t.height>0?t.y/this.scale-this.translate.y:0,n=t.width/this.scale,l=t.height/this.scale,a=this.graph.pageFormat,r=this.graph.pageScale,o=a.width*r,s=a.height*r,u=Math.floor(Math.min(0,e)/o),h=Math.floor(Math.min(0,i)/s),c=Math.ceil(Math.max(1,e+n)/o)-u,p=Math.ceil(Math.max(1,i+l)/s)-h;return new d.default(this.scale*(this.translate.x+u*o),this.scale*(this.translate.y+h*s),this.scale*c*o,this.scale*p*s)};var u=a.default.prototype.panGraph;a.default.prototype.panGraph=function(t,e){u.apply(this,arguments),this.dialect==b.default.DIALECT_SVG||null==this.view.backgroundPageShape||this.useScrollbarsForPanning&&S.default.hasScrollbars(this.container)||(this.view.backgroundPageShape.node.style.marginLeft=t+"px",this.view.backgroundPageShape.node.style.marginTop=e+"px")};var m=s.default.prototype.addItem;s.default.prototype.addItem=function(t,e,i,n,a,r){var o=m.apply(this,arguments);return null==r||r||l.default.addListener(o,"mousedown",(function(t){l.default.consume(t)})),o};var A=g.default.prototype.isDelayedSelection;g.default.prototype.isDelayedSelection=function(t,e){var i=A.apply(this,arguments);if(!i)for(var n=this.graph.getModel(),l=n.getParent(t);null!=l;){if(this.graph.isCellSelected(l)&&n.isVertex(l)){i=!0;break}l=n.getParent(l)}return i},g.default.prototype.selectDelayed=function(t){if(!this.graph.popupMenuHandler.isPopupTrigger(t)){var e=t.getCell();null==e&&(e=this.cell);var i=this.graph.view.getState(e);if(null!=i&&t.isSource(i.control))this.graph.selectCellForEvent(e,t.getEvent());else{for(var n=this.graph.getModel(),l=n.getParent(e);!this.graph.isCellSelected(l)&&n.isVertex(l);)e=l,l=n.getParent(e);this.graph.selectCellForEvent(e,t.getEvent())}}},f.default.prototype.getCellForPopupEvent=function(t){for(var e=t.getCell(),i=this.graph.getModel(),n=i.getParent(e);i.isVertex(n)&&!this.graph.isContainer(n);)this.graph.isCellSelected(n)&&(e=n),n=i.getParent(n);return e}}(),"undefined"!=typeof html4&&(html4.ATTRIBS["a::target"]=0),b.default.SHADOW_OPACITY=.25,b.default.SHADOWCOLOR="#000000",b.default.VML_SHADOWCOLOR="#d0d0d0",a.default.prototype.pageBreakColor="#FFF",a.default.prototype.pageScale=1,function(){try{if(null!=navigator&&null!=navigator.language){var t=navigator.language.toLowerCase();a.default.prototype.pageFormat="en-us"===t||"en-ca"===t||"es-mx"===t?b.default.PAGE_FORMAT_LETTER_PORTRAIT:b.default.PAGE_FORMAT_A4_PORTRAIT}}catch(t){}}(),m.default.prototype.baseSpacingTop=5,m.default.prototype.baseSpacingBottom=1,u.default.prototype.ignoreRelativeEdgeParent=!1,E.default.prototype.gridImage=c.default.IS_SVG?"data:image/gif;base64,R0lGODlhCgAKAJEAAAAAAP///8zMzP///yH5BAEAAAMALAAAAAAKAAoAAAIJ1I6py+0Po2wFADs=":IMAGE_PATH+"/grid.gif",E.default.prototype.gridSteps=4,E.default.prototype.minGridSize=4,E.default.prototype.gridColor="#e0e0e0",A.default.prototype.foAltText="[Not supported by viewer]";e.default=T},648156:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(106208),i(297336);var n=s(i(370608)),l=s(i(742288)),a=s(i(267456)),r=s(i(11131)),o=s(i(790448));function s(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e,i,s,u){var d=t.editor.graph,h=document.createElement("div");h.style.position="absolute",h.style.width="100%",h.style.height="100%",h.style.border="1px solid whiteSmoke",h.style.overflow="hidden",this.window=new a.default(r.default.get("outline"),h,e,i,s,u,!0,!0),this.window.destroyOnClose=!1,this.window.setMaximizable(!1),this.window.setResizable(!0),this.window.setClosable(!0),this.window.setVisible(!0),this.window.setLocation=function(t,e){t=Math.max(0,t),e=Math.max(0,e),a.default.prototype.setLocation.apply(this,arguments)},n.default.addListener(window,"resize",l.default.bind(this,(function(){var t=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,e=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,i=this.window.getX(),n=this.window.getY();i+this.window.table.clientWidth>t&&(i=Math.max(0,t-this.window.table.clientWidth)),n+this.window.table.clientHeight>e&&(n=Math.max(0,e-this.window.table.clientHeight)),this.window.getX()==i&&this.window.getY()==n||this.window.setLocation(i,n)})));var c=t.createOutline(this.window);this.window.addListener(n.default.RESIZE,l.default.bind(this,(function(){c.update(!1),c.outline.sizeDidChange()}))),this.window.addListener(n.default.SHOW,l.default.bind(this,(function(){c.suspended=!1,c.outline.refresh(),c.update()}))),this.window.addListener(n.default.HIDE,l.default.bind(this,(function(){c.suspended=!0}))),this.window.addListener(n.default.NORMALIZE,l.default.bind(this,(function(){c.suspended=!1,c.update()}))),this.window.addListener(n.default.MINIMIZE,l.default.bind(this,(function(){c.suspended=!0})));var p=c.createGraph;function f(){c.outline.pageScale=d.pageScale,c.outline.pageFormat=d.pageFormat,c.outline.pageVisible=d.pageVisible,c.outline.background=d.background;var t=l.default.getCurrentStyle(d.container);h.style.backgroundColor=t.backgroundColor,null!=d.view.backgroundPageShape&&null!=c.outline.view.backgroundPageShape&&(c.outline.view.backgroundPageShape.fill=d.view.backgroundPageShape.fill),c.outline.refresh()}if(c.createGraph=function(t){var e=p.apply(this,arguments);e.gridEnabled=!1,e.pageScale=d.pageScale,e.pageFormat=d.pageFormat,e.background=d.background,e.pageVisible=d.pageVisible;var i=l.default.getCurrentStyle(d.container);return h.style.backgroundColor=i.backgroundColor,e},c.init(h),t.editor.addListener("resetGraphView",f),t.addListener("pageFormatChanged",f),t.addListener("backgroundColorChanged",f),t.addListener("backgroundImageChanged",f),t.addListener("pageViewChanged",(function(){f(),c.update(!0)})),c.outline.dialect==o.default.DIALECT_SVG){var g=t.actions.get("zoomIn"),y=t.actions.get("zoomOut");n.default.addMouseWheelListener((function(t,e){for(var i=!1,l=n.default.getSource(t);null!=l;){if(l==c.outline.view.canvas.ownerSVGElement){i=!0;break}l=l.parentNode}i&&(e?g.funct():y.funct(),n.default.consume(t))}))}}},700588:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(23544),i(571176);var n=u(i(370608)),l=u(i(742288)),a=u(i(11131)),r=u(i(247644)),o=u(i(790448)),s=u(i(132448));function u(t){return t&&t.__esModule?t:{default:t}}var d=function t(e){var i,u,d=e.editor.graph,h=document.createElement("table");h.style.width="100%",h.style.height="100%";var c=document.createElement("tbody");i=document.createElement("tr"),(u=document.createElement("td")).style.fontSize="10pt",l.default.write(u,a.default.get("paperSize")+":"),i.appendChild(u);var p=document.createElement("input");p.setAttribute("name","format"),p.setAttribute("type","radio"),p.setAttribute("value","portrait");var f=document.createElement("input");f.setAttribute("name","format"),f.setAttribute("type","radio"),f.setAttribute("value","landscape");var g=document.createElement("tr");g.style.display="none";var y=document.createElement("tr");y.style.display="none";for(var m=document.createElement("select"),v=!1,E=new Object,b=t.getFormats(),S=0;S<b.length;S++){var w=b[S];E[w.key]=w;var A=document.createElement("option");A.setAttribute("value",w.key),l.default.write(A,w.title),m.appendChild(A),null!=w.format?d.pageFormat.width==w.format.width&&d.pageFormat.height==w.format.height?(A.setAttribute("selected","selected"),p.setAttribute("checked","checked"),p.defaultChecked=!0,g.style.display="",v=!0):d.pageFormat.width==w.format.height&&d.pageFormat.height==w.format.width&&(A.setAttribute("selected","selected"),f.setAttribute("checked","checked"),p.defaultChecked=!0,g.style.display="",v=!0):v||(A.setAttribute("selected","selected"),y.style.display="")}(u=document.createElement("td")).style.fontSize="10pt",u.appendChild(m),i.appendChild(u),c.appendChild(i),(g=document.createElement("tr")).style.height="40px",u=document.createElement("td"),g.appendChild(u),(u=document.createElement("td")).style.fontSize="10pt",u.appendChild(p);var C=document.createElement("span");l.default.write(C," "+a.default.get("portrait")),u.appendChild(C),n.default.addListener(C,"click",(function(t){p.checked=!0,n.default.consume(t)})),f.style.marginLeft="10px",u.appendChild(f);C=document.createElement("span");l.default.write(C," "+a.default.get("landscape")),u.appendChild(C),n.default.addListener(C,"click",(function(t){f.checked=!0,n.default.consume(t)})),g.appendChild(u),c.appendChild(g),i=document.createElement("tr"),u=document.createElement("td"),y.appendChild(u),(u=document.createElement("td")).style.fontSize="10pt";var T=document.createElement("input");T.setAttribute("size","6"),T.setAttribute("value",d.pageFormat.width),u.appendChild(T),l.default.write(u," x ");var M=document.createElement("input");M.setAttribute("size","6"),M.setAttribute("value",d.pageFormat.height),u.appendChild(M),l.default.write(u," pt"),y.appendChild(u),y.style.height=g.style.height,c.appendChild(y);var x=function(){var t=E[m.value];null!=t.format?(T.value=t.format.width,M.value=t.format.height,y.style.display="none",g.style.display=""):(g.style.display="none",y.style.display="")};n.default.addListener(m,"change",x),x(),i=document.createElement("tr"),u=document.createElement("td"),l.default.write(u,a.default.get("background")+":"),i.appendChild(u),(u=document.createElement("td")).style.whiteSpace="nowrap",document.createElement("input").setAttribute("type","text");var I=document.createElement("button");I.style.width="18px",I.style.height="18px",I.style.marginRight="20px",I.style.backgroundPosition="center center",I.style.backgroundRepeat="no-repeat";var L=d.background;function N(){null==L||L==o.default.NONE?(I.style.backgroundColor="",I.style.backgroundImage="url('"+Dialog.prototype.noColorImage+"')"):(I.style.backgroundColor=L,I.style.backgroundImage="")}N(),n.default.addListener(I,"click",(function(t){e.pickColor(L||"none",(function(t){L=t,N()})),n.default.consume(t)})),u.appendChild(I),l.default.write(u,a.default.get("gridSize")+":");var O=document.createElement("input");O.setAttribute("type","number"),O.setAttribute("min","0"),O.style.width="40px",O.style.marginLeft="6px",O.value=d.getGridSize(),u.appendChild(O),i.appendChild(u),c.appendChild(i),i=document.createElement("tr"),u=document.createElement("td"),l.default.write(u,a.default.get("image")+":"),i.appendChild(u),u=document.createElement("td");var D=document.createElement("a");D.style.textDecoration="underline",D.style.cursor="pointer",D.style.color="#a0a0a0";var R=d.backgroundImage;function _(){null==R?(D.removeAttribute("title"),D.style.fontSize="",D.innerHTML=a.default.get("change")+"..."):(D.setAttribute("title",R.src),D.style.fontSize="11px",D.innerHTML=R.src.substring(0,42)+"...")}n.default.addListener(D,"click",(function(t){e.showBackgroundImageDialog((function(t){R=t,_()})),n.default.consume(t)})),_(),u.appendChild(D),i.appendChild(u),c.appendChild(i),i=document.createElement("tr"),(u=document.createElement("td")).colSpan=2,u.style.paddingTop="16px",u.setAttribute("align","right");var P=s.default.button(a.default.get("cancel"),(function(){e.hideDialog()}));P.className="geBtn",e.editor.cancelFirst&&u.appendChild(P);var k=s.default.button(a.default.get("apply"),(function(){e.hideDialog();var t=f.checked,i=E[m.value].format;null==i&&(i=new r.default(0,0,parseInt(T.value),parseInt(M.value))),t&&(i=new r.default(0,0,i.height,i.width)),e.setPageFormat(i),d.background!=L&&e.setBackgroundColor(L),d.backgroundImage!==R&&e.setBackgroundImage(R),d.gridSize!==O.value&&d.setGridSize(parseFloat(O.value))}));k.className="geBtn gePrimaryBtn",u.appendChild(k),e.editor.cancelFirst||u.appendChild(P),i.appendChild(u),c.appendChild(i),h.appendChild(c),this.container=h};d.getFormats=function(){return[{key:"letter",title:'US-Letter (8,5" x 11")',format:o.default.PAGE_FORMAT_LETTER_PORTRAIT},{key:"legal",title:'US-Legal (8,5" x 14")',format:new r.default(0,0,850,1400)},{key:"tabloid",title:"US-Tabloid (279 mm x 432 mm)",format:new r.default(0,0,1100,1700)},{key:"a3",title:"A3 (297 mm x 420 mm)",format:new r.default(0,0,1169,1652)},{key:"a4",title:"A4 (210 mm x 297 mm)",format:o.default.PAGE_FORMAT_A4_PORTRAIT},{key:"a5",title:"A5 (148 mm x 210 mm)",format:new r.default(0,0,584,826)},{key:"custom",title:a.default.get("custom"),format:null}]};e.default=d},85384:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(571176),i(86744);var n=h(i(22676)),l=h(i(370608)),a=h(i(798980)),r=h(i(11131)),o=h(i(247644)),s=h(i(790448)),u=h(i(132448)),d=h(i(742288));function h(t){return t&&t.__esModule?t:{default:t}}var c=function(t){this.create(t)};c.prototype.create=function(t){var e,i,a=t.editor.graph,h=document.createElement("table");h.style.width="100%",h.style.height="100%";var p=document.createElement("tbody");e=document.createElement("tr");var f=document.createElement("input");f.setAttribute("type","checkbox"),(i=document.createElement("td")).setAttribute("colspan","2"),i.style.fontSize="10pt",i.appendChild(f);var g=document.createElement("span");d.default.write(g," "+r.default.get("fitPage")),i.appendChild(g),l.default.addListener(g,"click",(function(t){f.checked=!f.checked,y.checked=!f.checked,l.default.consume(t)})),l.default.addListener(f,"change",(function(){y.checked=!f.checked})),e.appendChild(i),p.appendChild(e),e=e.cloneNode(!1);var y=document.createElement("input");y.setAttribute("type","checkbox"),(i=document.createElement("td")).style.fontSize="10pt",i.appendChild(y);g=document.createElement("span");d.default.write(g," "+r.default.get("posterPrint")+":"),i.appendChild(g),l.default.addListener(g,"click",(function(t){y.checked=!y.checked,f.checked=!y.checked,l.default.consume(t)})),e.appendChild(i);var m=document.createElement("input");m.setAttribute("value","1"),m.setAttribute("type","number"),m.setAttribute("min","1"),m.setAttribute("size","4"),m.setAttribute("disabled","disabled"),m.style.width="50px",(i=document.createElement("td")).style.fontSize="10pt",i.appendChild(m),d.default.write(i," "+r.default.get("pages")+" (max)"),e.appendChild(i),p.appendChild(e),l.default.addListener(y,"change",(function(){y.checked?m.removeAttribute("disabled"):m.setAttribute("disabled","disabled"),f.checked=!y.checked})),e=e.cloneNode(!1),i=document.createElement("td"),d.default.write(i,r.default.get("pageScale")+":"),e.appendChild(i),i=document.createElement("td");var v=document.createElement("input");function E(t){var e=f.checked||y.checked,i=parseInt(v.value)/100;isNaN(i)&&(i=1,v.value="100%"),i*=.75;var n=a.pageFormat||s.default.PAGE_FORMAT_A4_PORTRAIT,l=1/a.pageScale;if(e){var r=f.checked?1:parseInt(m.value);isNaN(r)||(l=u.default.getScaleForPageCount(r,a,n))}a.getGraphBounds();var d=0,h=0;if((n=o.default.fromRectangle(n)).width=Math.ceil(n.width*i),n.height=Math.ceil(n.height*i),l*=i,!e&&a.pageVisible){var p=a.getPageLayout();d-=p.x*n.width,h-=p.y*n.height}else e=!0;return c.showPreview(c.createPrintPreview(a,l,n,0,d,h,e,t),t)}v.setAttribute("value","100 %"),v.setAttribute("size","5"),v.style.width="50px",i.appendChild(v),e.appendChild(i),p.appendChild(e),e=document.createElement("tr"),(i=document.createElement("td")).colSpan=2,i.style.paddingTop="20px",i.setAttribute("align","right");var b=u.default.button(r.default.get("cancel"),(function(){t.hideDialog()}));if(b.className="geBtn",t.editor.cancelFirst&&i.appendChild(b),!n.default.IS_CHROMEAPP){var S=u.default.button(r.default.get("preview"),(function(){t.hideDialog(),E(!1)}));S.className="geBtn",i.appendChild(S)}var w=u.default.button(r.default.get(n.default.IS_CHROMEAPP?"ok":"print"),(function(){t.hideDialog(),E(!0)}));w.className="geBtn gePrimaryBtn",i.appendChild(w),t.editor.cancelFirst||i.appendChild(b),e.appendChild(i),p.appendChild(e),h.appendChild(p),this.container=h},c.showPreview=function(t,e){var i=t.open();if(e&&null!=i){e=function(){i.focus(),i.print(),i.close()};n.default.IS_GC?window.setTimeout(e,500):e()}return i},c.createPrintPreview=function(t,e,i,n,l,o,u){var d=new a.default(t,e,i,n,l,o);d.title=r.default.get("preview"),d.printBackgroundImage=!0,d.autoOrigin=u;var h=t.background;null!=h&&""!=h&&h!=s.default.NONE||(h="#ffffff"),d.backgroundColor=h;var c=d.writeHead;return d.writeHead=function(t){c.apply(this,arguments),t.writeln('<style type="text/css">'),t.writeln("@media screen {"),t.writeln("  body > div { padding:30px;box-sizing:content-box; }"),t.writeln("}"),t.writeln("</style>")},d};e.default=c},279184:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(721300);var n=c(i(790832)),l=c(i(740168)),a=c(i(132448)),r=c(i(463724)),o=c(i(403031)),s=c(i(695112)),u=i(787220),d=c(i(343456)),h=c(i(441016));function c(t){return t&&t.__esModule?t:{default:t}}function p(){l.default.call(this)}a.default.extend(p,l.default),p.prototype.getCardHTML=function(t){var e={},i=null;return t.lock?(i=u.stackedCardLockedTpl,e={lock:t.lock,title:t.title,lockIcon:h.default,lockTip:t.lockTip}):(i=u.stackedCardTpl,e={title:t.title,subtitle:t.subtitle,linktitle:t.linktitle,billIcon:d.default,name:t.name,department:t.department,note:t.status}),s.default.render(i,{styles:n.default.assign({},r.default,o.default),data:e})},p.prototype.getActivatedStyleClass=function(){return o.default.activatedCard};e.default=p},744488:function(t,e,i){"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}i(182320),i(909112),i(697060),i(360776),i(743924),i(205960),i(846428),i(708896),i(606200),i(534440),i(670864),i(387912),i(836887),i(78504),i(776512),i(977864),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(297336),i(880920);var l=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=n(t)&&"function"!=typeof t)return{default:t};var i=s(e);if(i&&i.has(t))return i.get(t);var l={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if("default"!==r&&Object.prototype.hasOwnProperty.call(t,r)){var o=a?Object.getOwnPropertyDescriptor(t,r):null;o&&(o.get||o.set)?Object.defineProperty(l,r,o):l[r]=t[r]}return l.default=t,i&&i.set(t,l),l}(i(795520)),a=o(i(954684)),r=o(i(671252));function o(t){return t&&t.__esModule?t:{default:t}}function s(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,i=new WeakMap;return(s=function(t){return t?i:e})(t)}function u(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,d(n.key),n)}}function d(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var l=i.call(t,e||"default");if("object"!=n(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:String(e)}function h(t,e,i){return e=p(e),function(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,c()?Reflect.construct(e,i||[],p(t).constructor):e.apply(t,i))}function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(c=function(){return!!t})()}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}function f(t,e){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},f(t,e)}var g=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),h(this,e,[t])}var i,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)}(e,t),i=e,(n=[{key:"render",value:function(){var t=this.props.datas,e="complete"==t.type?a.default.complete:a.default.underway;return l.default.createElement("div",{className:a.default.box},l.default.createElement("div",{className:a.default.arrow}),l.default.createElement("div",{className:a.default.header},l.default.createElement("span",{className:(0,r.default)(a.default.line,e)}),l.default.createElement("span",{className:(0,r.default)(a.default.title,a.default.ellipsis),title:t.title},t.title)),l.default.createElement("div",{className:(0,r.default)(a.default.subtitle,a.default.ellipsis),title:t.first},t.first),l.default.createElement("div",{className:(0,r.default)(a.default.tip,a.default.ellipsis),title:t.second},t.second),l.default.createElement("div",{className:(0,r.default)(a.default.tip,a.default.ellipsis),title:t.third},t.third))}}])&&u(i.prototype,n),o&&u(i,o),Object.defineProperty(i,"prototype",{writable:!1}),e}(l.Component);e.default=g},723371:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(i(11131)),l=r(i(742288)),a=r(i(132448));function r(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e,i,r,o,s,u,d,h,c){var p,f;u=null!=u?u:300,d=null!=d?d:120,c=null!=c&&c;var g=document.createElement("table"),y=document.createElement("tbody");p=document.createElement("tr"),(f=document.createElement("td")).style.fontSize="10pt",f.style.width="100px",l.default.write(f,e),p.appendChild(f),y.appendChild(p),p=document.createElement("tr"),f=document.createElement("td");var m=document.createElement("textarea");l.default.write(m,i||""),m.style.resize="none",m.style.width=u+"px",m.style.height=d+"px",this.textarea=m,this.init=function(){m.focus(),m.scrollTop=0},f.appendChild(m),p.appendChild(f),y.appendChild(p),p=document.createElement("tr"),(f=document.createElement("td")).style.paddingTop="14px",f.style.whiteSpace="nowrap",f.setAttribute("align","right");var v=a.default.button(s||n.default.get("cancel"),(function(){t.hideDialog(),null!=o&&o()}));if(v.className="geBtn",t.editor.cancelFirst&&f.appendChild(v),null!=h&&h(f),null!=r){var E=a.default.button(n.default.get("apply"),(function(){c||t.hideDialog(),r(m.value)}));E.className="geBtn gePrimaryBtn",f.appendChild(E)}t.editor.cancelFirst||f.appendChild(v),p.appendChild(f),y.appendChild(p),g.appendChild(y),this.container=g}},701555:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(141170),l=r(i(3680)),a=r(i(835484));function r(t){return t&&t.__esModule?t:{default:t}}e.default=(0,n.combineReducers)({metadata:l.default,ui:a.default})},3680:function(t,e,i){"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}i(182320),i(909112),i(697060),i(606200),i(534440),i(776512),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(9692),i(233696),i(743924),i(70472),i(387912),i(78504),i(997308),i(977864);var l=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=n(t)&&"function"!=typeof t)return{default:t};var i=r(e);if(i&&i.has(t))return i.get(t);var l={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var s=a?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(l,o,s):l[o]=t[o]}return l.default=t,i&&i.set(t,l),l}(i(891052)),a=i(132716);i(84112);function r(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,i=new WeakMap;return(r=function(t){return t?i:e})(t)}var o=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.Categories){var i=t.get("modelConfig")||new Map;return e.Categories.forEach((function(t){t.ElementTypes&&t.ElementTypes.forEach((function(e){i.set("".concat(t.Id,"_").concat(e.Id),e)}))})),t.set("modelConfig",i)}return t},s=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.getIn(["domainModel","Categories"]);return o(t,e).setIn(["domainModel","Categories"],i.concat((0,l.fromJS)(e.Categories||[])))};e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.Map(),e=arguments.length>1?arguments[1]:void 0;switch(e.type){case a.set_ui_metadata:return o(t,e.metadata).set("domainModel",(0,l.fromJS)(e.metadata||{}));case a.update_ui_metadata:return s(t,e.metadata);default:return t}}},835484:function(t,e,i){"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}i(182320),i(909112),i(697060),i(743924),i(606200),i(534440),i(387912),i(78504),i(776512),i(977864),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=i(891052),a=i(132716),r=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=n(t)&&"function"!=typeof t)return{default:t};var i=u(e);if(i&&i.has(t))return i.get(t);var l={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if("default"!==r&&Object.prototype.hasOwnProperty.call(t,r)){var o=a?Object.getOwnPropertyDescriptor(t,r):null;o&&(o.get||o.set)?Object.defineProperty(l,r,o):l[r]=t[r]}return l.default=t,i&&i.set(t,l),l}(i(251536)),o=i(218652),s=i(303528);function u(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,i=new WeakMap;return(u=function(t){return t?i:e})(t)}r.addControlReducer("workflowdesigner","open",(function(t,e){var i=e.pageId,n=e.data;return(0,o.setDataProperty)(i,"workflowdesigner",["open_args",n[0].key],n[0].args)(t)})),r.addControlReducer("workflowdesigner","loadSubProcessData",(function(t,e){var i=e.pageId,n=e.data[0].args[0],l=n.id,a=n.key,r=n.graph_xml,u=(0,o.setDataProperty)(i,"workflowdesigner",["subprocess",a],r)(t);return u=(0,o.setDataProperty)(i,"workflowdesigner",["subprocess",s.CURRENT_SUBPROCESS_KEY],a)(u),(0,o.setDataProperty)(i,"workflowdesigner",["subprocess",s.CURRENT_SUBPROCESS_ID],l)(u)})),r.addControlReducer("workflowdesigner","loadApprovalRecords",(function(t,e){var i=e.pageId,n=e.data[0].args[0],l=(0,o.setDataProperty)(i,"workflowdesigner","userOpenId",n.userOpenId)(t);return(0,o.setDataProperty)(i,"workflowdesigner",["approvalRecords",n.key],n)(l)})),r.addControlReducer("workflowdesigner","cleanRecordsState",(function(t,e){var i=e.pageId,n=(e.data,(0,o.setDataProperty)(i,"workflowdesigner","showCoordinateInfo",{})(t));return(0,o.setDataProperty)(i,"workflowdesigner","approvalRecords",(0,l.Map)({}))(n)})),r.addControlReducer("workflowdesigner","showCoordinateInfo",(function(t,e){var i=e.pageId,n=e.data[0].args[0],l=(0,o.getDataProperty)(i,"workflowdesigner","showCoordinateInfo")(t);for(var a in null==l&&(l={}),n)l[a]=n[a];return(0,o.setDataProperty)(i,"workflowdesigner","showCoordinateInfo",l)(t)})),r.addControlReducer("workflowdesigner","showBillSummaryInfo",(function(t,e){var i=e.pageId,n=e.data;return(0,o.setDataProperty)(i,"workflowdesigner","showBillSummaryInfo",n[0].args[0])(t)}));e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,l.Map)(),e=arguments.length>1?arguments[1]:void 0;switch(e.type){case a.set_select_control:return t.set("selected_control",(0,l.fromJS)({id:e.id,group:e.group,type:e.ctrlType,collapsed:e.collapsed}));case a.set_update_control:return t.set("updated_control",(0,l.fromJS)({id:e.id,propName:e.propName,value:e.value}));case a.activate_cell:return t.set("showApprovalRecords",e.showRecords).set("activatedCell",(0,l.fromJS)({id:e.id,procInstId:e.procInstId,billId:e.billId,title:e.title}));case a.clean_activated:return t.set("activatedCell",(0,l.Map)({}));case a.show_floatlayer:return t.set("showFloatLayer",e.showFloatLayer).set("updateFloatLayer",(0,l.fromJS)({id:e.id,procInstId:e.procInstId,billId:e.billId,title:e.title,left:e.left,top:e.top,pageId:e.pageId}));case a.hide_floatlayer:return t.set("showFloatLayer",e.showFloatLayer).set("updateFloatLayer",(0,l.fromJS)({}));default:return t}}},852848:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.isDesignGroupNode=function(t){return"DesignControl"===t},e.selectCell=function(t,e){var i=t.getModel().getCell(e);if(i&&i.isVertex()){var n=document.createEvent("Event"),l=document.createEvent("Event");n.initEvent(a.default.IS_POINTER?"pointerdown":"mousedown",!0,!0),l.initEvent(a.default.IS_POINTER?"pointerup":"mouseup",!0,!0);var r=t.getView().getState(i).shape.node;r&&(r.dispatchEvent(n),r.dispatchEvent(l))}},e.selectNode=function(t,e){var i=null;if(e&&(i=t.getModel().getCell(e))){var n=t.isCellSelected(i),l=t.graphHandler;!l.isSelectEnabled()||l.delayedSelection||n&&1==t.getSelectionCount()||t.setSelectionCell(i)}},e.selectProcess=function(t){t.getSelectionModel().fireEvent(new n.default(l.EVENT.CHANGE,"isProcess",!0))};var n=r(i(995048)),l=i(303528),a=r(i(22676));function r(t){return t&&t.__esModule?t:{default:t}}},384904:function(t,e,i){"use strict";i(606200),Object.defineProperty(e,"__esModule",{value:!0}),e.crateCoordinateInviteOpinions=function(t){var e=t.coordInviteOpinion,i=t.message,n=t.ownerName,a="",r=e&&h(e);i=i?h(i):"";a=r?l.default.createElement("div",null,l.default.createElement("div",{style:{borderBottom:"1px solid #DDDDDD",wordWrap:"break-word",wordBreak:"break-all"}},l.default.createElement("span",null,n,"："),l.default.createElement("span",{dangerouslySetInnerHTML:{__html:r}})),l.default.createElement("div",null," ",(0,s.getLangMsg)({key:"ApprovalHistoryRecord.xiebanhuifu"}),"：",l.default.createElement("div",{dangerouslySetInnerHTML:{__html:i}})," ")):l.default.createElement("div",{dangerouslySetInnerHTML:{__html:i}});return a},e.createCustomizedLinks=function(t,e){var i=[],n=t.links,a=t.taskId,r=t.userStr;if(n&&n.length)for(var o=function(){var t=n[s];t.taskId=a,t.userId=r,i.push(l.default.createElement("span",{onClick:function(i){e(i,t)},title:t.text},t.text))},s=0;s<Math.min(2,n.length);s++)o();return i},e.createSignatureApprovalRecord=function(t,e,i){if(a.default.isEmpty(i))return;var n,r=a.default.isEqual(e,"false");n=t?"6px 0 10px -9px":r?"6px 0 10px -1px":"4px 0 8px 6px";var o=i;if(a.default.isString(i)&&(null==i||!i.includes("kdcdc="))&&c){var s=i.includes("?")?"&":"?";o=i+s+"kdcdc="+c}return l.default.createElement("img",{style:{margin:n},className:u.default.signature,src:o,alt:""})},e.getImageUrl=function(t,e){return(0,o.getImageUrl)(e,t)},e.isBizFlow=function(t){return"BizFlow"==t},e.sanitize=h,i(9692),i(443616),i(241872),i(633768),i(660824),i(218080),i(513640),i(29885);var n,l=d(i(795520)),a=d(i(790832)),r=d(i(645712)),o=i(886212),s=i(331428),u=d(i(31559));function d(t){return t&&t.__esModule?t:{default:t}}function h(t){var e={allowedTags:r.default.defaults.allowedTags.concat(["img","span","colgroup","col","h1","h2"]),allowedAttributes:a.default.extend({},r.default.defaults.allowedAttributes,{"*":["style"],col:["span"],table:["border"],th:["colspan","rowspan"],td:["colspan","rowspan"],img:["src","alt","width","height"],iframe:["src","width","height"]})};return(t=t||"")&&(t=t.replace(/<(\s*\d+)/g,"&lt;$1").replace(/<(\s*(\(|（)+)/g,"&lt;$1")),t.indexOf("<")<0&&(t=t.replace(/\n/g,"<br/>")),(0,r.default)(t,e)}var c=null===(n=window.location.search)||void 0===n||null===(n=n.match(/(^|&|\?)kdcdc=([^&]*)(&|$)/i))||void 0===n?void 0:n[2]},909976:function(t,e,i){"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}i(182320),i(909112),i(697060),i(743924),i(606200),i(78504),i(977864),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(241872),i(686456),i(820444),i(693917),i(927184),i(976896),i(721300),i(846428),i(387912),i(571176),i(763600),i(633768),i(690512),i(218080),i(513640),i(328640),function(){var t,e,i,l=void 0,a=!0,r=null,o=!1,s=["aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,snow,springgreen,steelblue,tan,teal,thistle,tomato,transparent,turquoise,violet,wheat,white,whitesmoke,yellow,yellowgreen".split(","),"all-scroll,col-resize,crosshair,default,e-resize,hand,help,move,n-resize,ne-resize,no-drop,not-allowed,nw-resize,pointer,progress,row-resize,s-resize,se-resize,sw-resize,text,vertical-text,w-resize,wait".split(","),"armenian,decimal,decimal-leading-zero,disc,georgian,lower-alpha,lower-greek,lower-latin,lower-roman,square,upper-alpha,upper-latin,upper-roman".split(","),"100,200,300,400,500,600,700,800,900,bold,bolder,lighter".split(","),"block-level,inline-level,table-caption,table-cell,table-column,table-column-group,table-footer-group,table-header-group,table-row,table-row-group".split(","),"condensed,expanded,extra-condensed,extra-expanded,narrower,semi-condensed,semi-expanded,ultra-condensed,ultra-expanded,wider".split(","),"inherit,inline,inline-block,inline-box,inline-flex,inline-grid,inline-list-item,inline-stack,inline-table,run-in".split(","),"behind,center-left,center-right,far-left,far-right,left-side,leftwards,right-side,rightwards".split(","),"large,larger,small,smaller,x-large,x-small,xx-large,xx-small".split(","),"dashed,dotted,double,groove,outset,ridge,solid".split(","),"ease,ease-in,ease-in-out,ease-out,linear,step-end,step-start".split(","),"at,closest-corner,closest-side,ellipse,farthest-corner,farthest-side".split(","),"baseline,middle,sub,super,text-bottom,text-top".split(","),"caption,icon,menu,message-box,small-caption,status-bar".split(","),"fast,faster,slow,slower,x-fast,x-slow".split(","),["above","below","higher","level","lower"],["cursive","fantasy","monospace","sans-serif","serif"],["loud","silent","soft","x-loud","x-soft"],["no-repeat","repeat-x","repeat-y","round","space"],["blink","line-through","overline","underline"],["block","flex","grid","table"],["high","low","x-high","x-low"],["nowrap","pre","pre-line","pre-wrap"],["absolute","relative","static"],["alternate","alternate-reverse","reverse"],["border-box","content-box","padding-box"],["capitalize","lowercase","uppercase"],["child","female","male"],["=","opacity"],["backwards","forwards"],["bidi-override","embed"],["bottom","top"],["break-all","keep-all"],["clip","ellipsis"],["contain","cover"],["continuous","digits"],["end","start"],["flat","preserve-3d"],["hide","show"],["horizontal","vertical"],["inside","outside"],["italic","oblique"],["left","right"],["ltr","rtl"],["no-content","no-display"],["paused","running"],["suppress","unrestricted"],["thick","thin"],[","],["/"],["all"],["always"],["auto"],["avoid"],["both"],["break-word"],["center"],["circle"],["code"],["collapse"],["contents"],["fixed"],["hidden"],["infinite"],["inset"],["invert"],["justify"],["list-item"],["local"],["medium"],["mix"],["none"],["normal"],["once"],["repeat"],["scroll"],["separate"],["small-caps"],["spell-out"],["to"],["visible"]],u={animation:{cssPropBits:517,cssLitGroup:[s[10],s[24],s[29],s[45],s[48],s[54],s[63],s[71],s[72]],cssFns:["cubic-bezier()","steps()"]},"animation-delay":{cssPropBits:5,cssLitGroup:[s[48]],cssFns:[]},"animation-direction":{cssPropBits:0,cssLitGroup:[s[24],s[48],s[72]],cssFns:[]},"animation-duration":"animation-delay","animation-fill-mode":{cssPropBits:0,cssLitGroup:[s[29],s[48],s[54],s[71]],cssFns:[]},"animation-iteration-count":{cssPropBits:5,cssLitGroup:[s[48],s[63]],cssFns:[]},"animation-name":{cssPropBits:512,cssLitGroup:[s[48],s[71]],cssFns:[]},"animation-play-state":{cssPropBits:0,cssLitGroup:[s[45],s[48]],cssFns:[]},"animation-timing-function":{cssPropBits:0,cssLitGroup:[s[10],s[48]],cssFns:["cubic-bezier()","steps()"]},appearance:{cssPropBits:0,cssLitGroup:[s[71]],cssFns:[]},azimuth:{cssPropBits:5,cssLitGroup:[s[7],s[42],s[56]],cssFns:[]},"backface-visibility":{cssPropBits:0,cssLitGroup:[s[59],s[62],s[80]],cssFns:[]},background:{cssPropBits:23,cssLitGroup:[s[0],s[18],s[25],s[31],s[34],s[42],s[48],s[49],s[52],s[56],s[61],s[68],s[71],s[74],s[75]],cssFns:"image(),linear-gradient(),radial-gradient(),repeating-linear-gradient(),repeating-radial-gradient(),rgb(),rgba()".split(",")},"background-attachment":{cssPropBits:0,cssLitGroup:[s[48],s[61],s[68],s[75]],cssFns:[]},"background-color":{cssPropBits:2,cssLitGroup:[s[0]],cssFns:["rgb()","rgba()"]},"background-image":{cssPropBits:16,cssLitGroup:[s[48],s[71]],cssFns:["image()","linear-gradient()","radial-gradient()","repeating-linear-gradient()","repeating-radial-gradient()"]},"background-position":{cssPropBits:5,cssLitGroup:[s[31],s[42],s[48],s[56]],cssFns:[]},"background-repeat":{cssPropBits:0,cssLitGroup:[s[18],s[48],s[74]],cssFns:[]},"background-size":{cssPropBits:5,cssLitGroup:[s[34],s[48],s[52]],cssFns:[]},border:{cssPropBits:7,cssLitGroup:[s[0],s[9],s[47],s[62],s[64],s[69],s[71]],cssFns:["rgb()","rgba()"]},"border-bottom":"border","border-bottom-color":"background-color","border-bottom-left-radius":{cssPropBits:5,cssFns:[]},"border-bottom-right-radius":"border-bottom-left-radius","border-bottom-style":{cssPropBits:0,cssLitGroup:[s[9],s[62],s[64],s[71]],cssFns:[]},"border-bottom-width":{cssPropBits:5,cssLitGroup:[s[47],s[69]],cssFns:[]},"border-collapse":{cssPropBits:0,cssLitGroup:[s[59],s[76]],cssFns:[]},"border-color":"background-color","border-left":"border","border-left-color":"background-color","border-left-style":"border-bottom-style","border-left-width":"border-bottom-width","border-radius":{cssPropBits:5,cssLitGroup:[s[49]],cssFns:[]},"border-right":"border","border-right-color":"background-color","border-right-style":"border-bottom-style","border-right-width":"border-bottom-width","border-spacing":"border-bottom-left-radius","border-style":"border-bottom-style","border-top":"border","border-top-color":"background-color","border-top-left-radius":"border-bottom-left-radius","border-top-right-radius":"border-bottom-left-radius","border-top-style":"border-bottom-style","border-top-width":"border-bottom-width","border-width":"border-bottom-width",bottom:{cssPropBits:5,cssLitGroup:[s[52]],cssFns:[]},box:{cssPropBits:0,cssLitGroup:[s[60],s[71],s[72]],cssFns:[]},"box-shadow":{cssPropBits:7,cssLitGroup:[s[0],s[48],s[64],s[71]],cssFns:["rgb()","rgba()"]},"box-sizing":{cssPropBits:0,cssLitGroup:[s[25]],cssFns:[]},"caption-side":{cssPropBits:0,cssLitGroup:[s[31]],cssFns:[]},clear:{cssPropBits:0,cssLitGroup:[s[42],s[54],s[71]],cssFns:[]},clip:{cssPropBits:0,cssLitGroup:[s[52]],cssFns:["rect()"]},color:"background-color",content:{cssPropBits:8,cssLitGroup:[s[71],s[72]],cssFns:[]},cue:{cssPropBits:16,cssLitGroup:[s[71]],cssFns:[]},"cue-after":"cue","cue-before":"cue",cursor:{cssPropBits:16,cssLitGroup:[s[1],s[48],s[52]],cssFns:[]},direction:{cssPropBits:0,cssLitGroup:[s[43]],cssFns:[]},display:{cssPropBits:0,cssLitGroup:[s[4],s[6],s[20],s[52],s[67],s[71]],cssFns:[]},"display-extras":{cssPropBits:0,cssLitGroup:[s[67],s[71]],cssFns:[]},"display-inside":{cssPropBits:0,cssLitGroup:[s[20],s[52]],cssFns:[]},"display-outside":{cssPropBits:0,cssLitGroup:[s[4],s[71]],cssFns:[]},elevation:{cssPropBits:5,cssLitGroup:[s[15]],cssFns:[]},"empty-cells":{cssPropBits:0,cssLitGroup:[s[38]],cssFns:[]},filter:{cssPropBits:0,cssFns:["alpha()"]},float:{cssPropBits:0,cssLitGroup:[s[42],s[71]],cssFns:[]},font:{cssPropBits:73,cssLitGroup:[s[3],s[8],s[13],s[16],s[41],s[48],s[49],s[69],s[72],s[77]],cssFns:[]},"font-family":{cssPropBits:72,cssLitGroup:[s[16],s[48]],cssFns:[]},"font-size":{cssPropBits:1,cssLitGroup:[s[8],s[69]],cssFns:[]},"font-stretch":{cssPropBits:0,cssLitGroup:[s[5],s[72]],cssFns:[]},"font-style":{cssPropBits:0,cssLitGroup:[s[41],s[72]],cssFns:[]},"font-variant":{cssPropBits:0,cssLitGroup:[s[72],s[77]],cssFns:[]},"font-weight":{cssPropBits:0,cssLitGroup:[s[3],s[72]],cssFns:[]},height:"bottom",left:"bottom","letter-spacing":{cssPropBits:5,cssLitGroup:[s[72]],cssFns:[]},"line-height":{cssPropBits:1,cssLitGroup:[s[72]],cssFns:[]},"list-style":{cssPropBits:16,cssLitGroup:[s[2],s[40],s[57],s[71]],cssFns:["image()","linear-gradient()","radial-gradient()","repeating-linear-gradient()","repeating-radial-gradient()"]},"list-style-image":{cssPropBits:16,cssLitGroup:[s[71]],cssFns:["image()","linear-gradient()","radial-gradient()","repeating-linear-gradient()","repeating-radial-gradient()"]},"list-style-position":{cssPropBits:0,cssLitGroup:[s[40]],cssFns:[]},"list-style-type":{cssPropBits:0,cssLitGroup:[s[2],s[57],s[71]],cssFns:[]},margin:"bottom","margin-bottom":"bottom","margin-left":"bottom","margin-right":"bottom","margin-top":"bottom","max-height":{cssPropBits:1,cssLitGroup:[s[52],s[71]],cssFns:[]},"max-width":"max-height","min-height":{cssPropBits:1,cssLitGroup:[s[52]],cssFns:[]},"min-width":"min-height",opacity:{cssPropBits:1,cssFns:[]},outline:{cssPropBits:7,cssLitGroup:[s[0],s[9],s[47],s[62],s[64],s[65],s[69],s[71]],cssFns:["rgb()","rgba()"]},"outline-color":{cssPropBits:2,cssLitGroup:[s[0],s[65]],cssFns:["rgb()","rgba()"]},"outline-style":"border-bottom-style","outline-width":"border-bottom-width",overflow:{cssPropBits:0,cssLitGroup:[s[52],s[62],s[75],s[80]],cssFns:[]},"overflow-wrap":{cssPropBits:0,cssLitGroup:[s[55],s[72]],cssFns:[]},"overflow-x":{cssPropBits:0,cssLitGroup:[s[44],s[52],s[62],s[75],s[80]],cssFns:[]},"overflow-y":"overflow-x",padding:"opacity","padding-bottom":"opacity","padding-left":"opacity","padding-right":"opacity","padding-top":"opacity","page-break-after":{cssPropBits:0,cssLitGroup:[s[42],s[51],s[52],s[53]],cssFns:[]},"page-break-before":"page-break-after","page-break-inside":{cssPropBits:0,cssLitGroup:[s[52],s[53]],cssFns:[]},pause:"border-bottom-left-radius","pause-after":"border-bottom-left-radius","pause-before":"border-bottom-left-radius",perspective:{cssPropBits:5,cssLitGroup:[s[71]],cssFns:[]},"perspective-origin":{cssPropBits:5,cssLitGroup:[s[31],s[42],s[56]],cssFns:[]},pitch:{cssPropBits:5,cssLitGroup:[s[21],s[69]],cssFns:[]},"pitch-range":"border-bottom-left-radius","play-during":{cssPropBits:16,cssLitGroup:[s[52],s[70],s[71],s[74]],cssFns:[]},position:{cssPropBits:0,cssLitGroup:[s[23]],cssFns:[]},quotes:{cssPropBits:8,cssLitGroup:[s[71]],cssFns:[]},resize:{cssPropBits:0,cssLitGroup:[s[39],s[54],s[71]],cssFns:[]},richness:"border-bottom-left-radius",right:"bottom",speak:{cssPropBits:0,cssLitGroup:[s[71],s[72],s[78]],cssFns:[]},"speak-header":{cssPropBits:0,cssLitGroup:[s[51],s[73]],cssFns:[]},"speak-numeral":{cssPropBits:0,cssLitGroup:[s[35]],cssFns:[]},"speak-punctuation":{cssPropBits:0,cssLitGroup:[s[58],s[71]],cssFns:[]},"speech-rate":{cssPropBits:5,cssLitGroup:[s[14],s[69]],cssFns:[]},stress:"border-bottom-left-radius","table-layout":{cssPropBits:0,cssLitGroup:[s[52],s[61]],cssFns:[]},"text-align":{cssPropBits:0,cssLitGroup:[s[42],s[56],s[66]],cssFns:[]},"text-decoration":{cssPropBits:0,cssLitGroup:[s[19],s[71]],cssFns:[]},"text-indent":"border-bottom-left-radius","text-overflow":{cssPropBits:8,cssLitGroup:[s[33]],cssFns:[]},"text-shadow":"box-shadow","text-transform":{cssPropBits:0,cssLitGroup:[s[26],s[71]],cssFns:[]},"text-wrap":{cssPropBits:0,cssLitGroup:[s[46],s[71],s[72]],cssFns:[]},top:"bottom",transform:{cssPropBits:0,cssLitGroup:[s[71]],cssFns:"matrix(),perspective(),rotate(),rotate3d(),rotatex(),rotatey(),rotatez(),scale(),scale3d(),scalex(),scaley(),scalez(),skew(),skewx(),skewy(),translate(),translate3d(),translatex(),translatey(),translatez()".split(",")},"transform-origin":"perspective-origin","transform-style":{cssPropBits:0,cssLitGroup:[s[37]],cssFns:[]},transition:{cssPropBits:1029,cssLitGroup:[s[10],s[48],s[50],s[71]],cssFns:["cubic-bezier()","steps()"]},"transition-delay":"animation-delay","transition-duration":"animation-delay","transition-property":{cssPropBits:1024,cssLitGroup:[s[48],s[50]],cssFns:[]},"transition-timing-function":"animation-timing-function","unicode-bidi":{cssPropBits:0,cssLitGroup:[s[30],s[72]],cssFns:[]},"vertical-align":{cssPropBits:5,cssLitGroup:[s[12],s[31]],cssFns:[]},visibility:"backface-visibility","voice-family":{cssPropBits:8,cssLitGroup:[s[27],s[48]],cssFns:[]},volume:{cssPropBits:1,cssLitGroup:[s[17],s[69]],cssFns:[]},"white-space":{cssPropBits:0,cssLitGroup:[s[22],s[72]],cssFns:[]},width:"min-height","word-break":{cssPropBits:0,cssLitGroup:[s[32],s[72]],cssFns:[]},"word-spacing":"letter-spacing","word-wrap":"overflow-wrap","z-index":"bottom",zoom:"line-height","cubic-bezier()":"animation-delay","steps()":{cssPropBits:5,cssLitGroup:[s[36],s[48]],cssFns:[]},"image()":{cssPropBits:18,cssLitGroup:[s[0],s[48]],cssFns:["rgb()","rgba()"]},"linear-gradient()":{cssPropBits:7,cssLitGroup:[s[0],s[31],s[42],s[48],s[79]],cssFns:["rgb()","rgba()"]},"radial-gradient()":{cssPropBits:7,cssLitGroup:[s[0],s[11],s[31],s[42],s[48],s[56],s[57]],cssFns:["rgb()","rgba()"]},"repeating-linear-gradient()":"linear-gradient()","repeating-radial-gradient()":"radial-gradient()","rgb()":{cssPropBits:1,cssLitGroup:[s[48]],cssFns:[]},"rgba()":"rgb()","rect()":{cssPropBits:5,cssLitGroup:[s[48],s[52]],cssFns:[]},"alpha()":{cssPropBits:1,cssLitGroup:[s[28]],cssFns:[]},"matrix()":"animation-delay","perspective()":"border-bottom-left-radius","rotate()":"border-bottom-left-radius","rotate3d()":"animation-delay","rotatex()":"border-bottom-left-radius","rotatey()":"border-bottom-left-radius","rotatez()":"border-bottom-left-radius","scale()":"animation-delay","scale3d()":"animation-delay","scalex()":"border-bottom-left-radius","scaley()":"border-bottom-left-radius","scalez()":"border-bottom-left-radius","skew()":"animation-delay","skewx()":"border-bottom-left-radius","skewy()":"border-bottom-left-radius","translate()":"animation-delay","translate3d()":"animation-delay","translatex()":"border-bottom-left-radius","translatey()":"border-bottom-left-radius","translatez()":"border-bottom-left-radius"};for(t in u)"string"==typeof u[t]&&Object.hasOwnProperty.call(u,t)&&(u[t]=u[u[t]]);"undefined"!=typeof window&&(window.cssSchema=u),function(){function t(t){var e=parseInt(t.substring(1),16);return 65535<e?(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e))):e==e?String.fromCharCode(e):" ">t[1]?"":t[1]}function n(t,e){return'"'+t.replace(/[\u0000-\u001f\\\"<>]/g,e)+'"'}function l(t){return r[t]||(r[t]="\\"+t.charCodeAt(0).toString(16)+" ")}function a(t){return o[t]||(o[t]=("">t?"%0":"%")+t.charCodeAt(0).toString(16))}var r={"\\":"\\\\"},o={"\\":"%5c"},s=RegExp("\\uFEFF|U[+][0-9A-F?]{1,6}(?:-[0-9A-F]{1,6})?|url[(][\\t\\n\\f ]*(?:\"(?:'|[^'\"\\n\\f\\\\]|\\\\[\\s\\S])*\"|'(?:\"|[^'\"\\n\\f\\\\]|\\\\[\\s\\S])*'|(?:[\\t\\x21\\x23-\\x26\\x28-\\x5b\\x5d-\\x7e]|[\\u0080-\\ud7ff\\ue000-\\ufffd]|[\\ud800-\\udbff][\\udc00-\\udfff]|\\\\(?:[0-9a-fA-F]{1,6}[\\t\\n\\f ]?|[\\u0020-\\u007e\\u0080-\\ud7ff\\ue000\\ufffd]|[\\ud800-\\udbff][\\udc00-\\udfff]))*)[\\t\\n\\f ]*[)]|(?!url[(])-?(?:[a-zA-Z_]|[\\u0080-\\ud7ff\\ue000-\\ufffd]|[\\ud800-\\udbff][\\udc00-\\udfff]|\\\\(?:[0-9a-fA-F]{1,6}[\\t\\n\\f ]?|[\\u0020-\\u007e\\u0080-\\ud7ff\\ue000\\ufffd]|[\\ud800-\\udbff][\\udc00-\\udfff]))(?:[a-zA-Z0-9_-]|[\\u0080-\\ud7ff\\ue000-\\ufffd]|[\\ud800-\\udbff][\\udc00-\\udfff]|\\\\(?:[0-9a-fA-F]{1,6}[\\t\\n\\f ]?|[\\u0020-\\u007e\\u0080-\\ud7ff\\ue000\\ufffd]|[\\ud800-\\udbff][\\udc00-\\udfff]))*[(]|(?:@?-?(?:[a-zA-Z_]|[\\u0080-\\ud7ff\\ue000-\\ufffd]|[\\ud800-\\udbff][\\udc00-\\udfff]|\\\\(?:[0-9a-fA-F]{1,6}[\\t\\n\\f ]?|[\\u0020-\\u007e\\u0080-\\ud7ff\\ue000\\ufffd]|[\\ud800-\\udbff][\\udc00-\\udfff]))|#)(?:[a-zA-Z0-9_-]|[\\u0080-\\ud7ff\\ue000-\\ufffd]|[\\ud800-\\udbff][\\udc00-\\udfff]|\\\\(?:[0-9a-fA-F]{1,6}[\\t\\n\\f ]?|[\\u0020-\\u007e\\u0080-\\ud7ff\\ue000\\ufffd]|[\\ud800-\\udbff][\\udc00-\\udfff]))*|\"(?:'|[^'\"\\n\\f\\\\]|\\\\[\\s\\S])*\"|'(?:\"|[^'\"\\n\\f\\\\]|\\\\[\\s\\S])*'|[-+]?(?:[0-9]+(?:[.][0-9]+)?|[.][0-9]+)(?:%|-?(?:[a-zA-Z_]|[\\u0080-\\ud7ff\\ue000-\\ufffd]|[\\ud800-\\udbff][\\udc00-\\udfff]|\\\\(?:[0-9a-fA-F]{1,6}[\\t\\n\\f ]?|[\\u0020-\\u007e\\u0080-\\ud7ff\\ue000\\ufffd]|[\\ud800-\\udbff][\\udc00-\\udfff]))(?:[a-zA-Z0-9_-]|[\\u0080-\\ud7ff\\ue000-\\ufffd]|[\\ud800-\\udbff][\\udc00-\\udfff]|\\\\(?:[0-9a-fA-F]{1,6}[\\t\\n\\f ]?|[\\u0020-\\u007e\\u0080-\\ud7ff\\ue000\\ufffd]|[\\ud800-\\udbff][\\udc00-\\udfff]))*)?|\x3c!--|--\x3e|[\\t\\n\\f ]+|/(?:[*][^*]*[*]+(?:[^/][^*]*[*]+)*/|/[^\\n\\f]*)|[~|^$*]=|[^\"'\\\\/]|/(?![/*])","gi"),u=RegExp("\\\\(?:(?:[0-9a-fA-F]{1,6}[\\t\\n\\f ]?|[\\u0020-\\u007e\\u0080-\\ud7ff\\ue000\\ufffd]|[\\ud800-\\udbff][\\udc00-\\udfff])|[\\n\\f])","g"),d=RegExp("^url\\([\\t\\n\\f ]*[\"']?|[\"']?[\\t\\n\\f ]*\\)$","gi");i=function(e){return e.replace(u,t)},e=function(t){for(var e=0,r=" ",o=0,u=(t=(""+t).replace(/\r\n?/g,"\n").match(s)||[]).length;o<u;++o){var h,c=(h=i(t[o])).length,p=h.charCodeAt(0);r==(h=34==p||39==p?n(h.substring(1,c-1),l):47==p&&1<c||"\\"==h||"--\x3e"==h||"\x3c!--"==h||"\ufeff"==h||32>=p?" ":/url\(/i.test(h)?"url("+n(h.replace(d,""),a)+")":h)&&" "==h||(t[e++]=r=h)}return t.length=e,t}}(),"undefined"!=typeof window&&(window.lexCss=e,window.decodeCss=i);var d=function(){function t(t){return(t=(""+t).match(h))?new o(s(t[1]),s(t[2]),s(t[3]),s(t[4]),s(t[5]),s(t[6]),s(t[7])):r}function e(t,e){return"string"==typeof t?encodeURI(t).replace(e,i):r}function i(t){return t=t.charCodeAt(0),"%"+"0123456789ABCDEF".charAt(t>>4&15)+"0123456789ABCDEF".charAt(15&t)}function l(t){if(t===r)return r;t=t.replace(/(^|\/)\.(?:\/|$)/g,"$1").replace(/\/{2,}/g,"/");for(var e,i=u;(e=t.replace(i,"$1"))!=t;t=e);return t}function a(t,e){var i=t.T(),n=e.K();n?i.ga(e.j):n=e.X(),n?i.da(e.n):n=e.Y(),n?i.ea(e.k):n=e.$();var a=e.g,r=l(a);if(n)i.ca(e.V()),r=r&&r.replace(d,"");else if(n=!!a){if(47!==r.charCodeAt(0)){var o=(r=l(i.g||"").replace(d,"")).lastIndexOf("/")+1;r=l((o?r.substring(0,o):"")+l(a)).replace(d,"")}}else(r=r&&r.replace(d,""))!==a&&i.G(r);return n?i.G(r):n=e.aa(),n?i.O(e.l):n=e.Z(),n&&i.fa(e.o),i}function o(t,e,i,n,l,a,r){this.j=t,this.n=e,this.k=i,this.h=n,this.g=l,this.l=a,this.o=r}function s(t){return"string"==typeof t&&0<t.length?t:r}var u=RegExp(/(\/|^)(?:[^./][^/]*|\.{2,}(?:[^./][^/]*)|\.{3,}[^/]*)\/\.\.(?:\/|$)/),d=/^(?:\.\.\/)*(?:\.\.$)?/;o.prototype.toString=function(){var t=[];return r!==this.j&&t.push(this.j,":"),r!==this.k&&(t.push("//"),r!==this.n&&t.push(this.n,"@"),t.push(this.k),r!==this.h&&t.push(":",this.h.toString())),r!==this.g&&t.push(this.g),r!==this.l&&t.push("?",this.l),r!==this.o&&t.push("#",this.o),t.join("")},o.prototype.T=function(){return new o(this.j,this.n,this.k,this.h,this.g,this.l,this.o)},o.prototype.W=function(){return this.j&&decodeURIComponent(this.j).toLowerCase()},o.prototype.ga=function(t){this.j=t||r},o.prototype.K=function(){return r!==this.j},o.prototype.da=function(t){this.n=t||r},o.prototype.X=function(){return r!==this.n},o.prototype.ea=function(t){this.k=t||r,this.G(this.g)},o.prototype.Y=function(){return r!==this.k},o.prototype.V=function(){return this.h&&decodeURIComponent(this.h)},o.prototype.ca=function(t){if(t){if((t=Number(t))!==(65535&t))throw Error("Bad port number "+t);this.h=""+t}else this.h=r},o.prototype.$=function(){return r!==this.h},o.prototype.U=function(){return this.g&&decodeURIComponent(this.g)},o.prototype.G=function(t){t?(t=""+t,this.g=!this.k||/^\//.test(t)?t:"/"+t):this.g=r},o.prototype.O=function(t){this.l=t||r},o.prototype.aa=function(){return r!==this.l},o.prototype.ba=function(t){if("object"===n(t)&&!(t instanceof Array)&&(t instanceof Object||"[object Array]"!==Object.prototype.toString.call(t))){var e,i=[],l=-1;for(e in t){var a=t[e];"string"==typeof a&&(i[++l]=e,i[++l]=a)}t=i}i=[],l="";for(var r=0;r<t.length;)e=t[r++],a=t[r++],i.push(l,encodeURIComponent(e.toString())),l="&",a&&i.push("=",encodeURIComponent(a.toString()));this.l=i.join("")},o.prototype.fa=function(t){this.o=t||r},o.prototype.Z=function(){return r!==this.o};var h=/^(?:([^:/?#]+):)?(?:\/\/(?:([^/?#]*)@)?([^/?#:@]*)(?::([0-9]+))?)?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/,c=/[#\/\?@]/g,p=/[\#\?]/g;return o.parse=t,o.create=function(t,n,l,a,s,u,d){return t=new o(e(t,c),e(n,c),"string"==typeof l?encodeURIComponent(l):r,0<a?a.toString():r,e(s,p),r,"string"==typeof d?encodeURIComponent(d):r),u&&("string"==typeof u?t.O(u.replace(/[^?&=0-9A-Za-z_\-~.%]/g,i)):t.ba(u)),t},o.N=a,o.ma=l,o.ha={ua:function(e){return/\.html$/.test(t(e).U())?"text/html":"application/javascript"},N:function(e,i){return e?a(t(e),t(i)).toString():""+i}},o}();"undefined"!=typeof window&&(window.URI=d);var h,c,p=l,f=l,g=l,y=l;!function(){function t(t){return"string"==typeof t?'url("'+t.replace(E,e)+'")':'url("about:blank")'}function e(t){return b[t]}function s(t,e){return t?d.ha.N(t,e):e}function c(t,e,i){if(!i)return r;var n=(""+t).match(S);return!n||n[1]&&!w.test(n[1])?r:i(t,e)}function v(t){return t.replace(/^-(?:apple|css|epub|khtml|moz|mso?|o|rim|wap|webkit|xv)-(?=[a-z])/,"")}var E=/[\n\f\r\"\'()*<>]/g,b={"\n":"%0a","\f":"%0c","\r":"%0d",'"':"%22","'":"%27","(":"%28",")":"%29","*":"%2a","<":"%3c",">":"%3e"},S=/^(?:([^:/?# ]+):)?/,w=/^(?:https?|mailto|data)$/i;p=function(){var e={};return function l(a,r,o,d,h){a=v(a);var p=u[a];if(p&&"object"===n(p)){for(var f=p.cssPropBits,g=80&f,y=1536&f,m=NaN,E=0,b=0;E<r.length;++E){var S,w,A,C,T,M=r[E].toLowerCase(),x=M.charCodeAt(0);if(32===x)M="";else if(34===x)M=16===g?o?t(c(s(d,i(r[E].substring(1,M.length-1))),a,o)):"":8&f&&!(g&g-1)?M:"";else if("inherit"!==M){if(T=p.cssLitGroup){var I;if(!(I=p.cssLitMap)){I={};for(var L=T.length;0<=--L;)for(var N=T[L],O=N.length;0<=--O;)I[N[O]]=e;I=p.cssLitMap=I}T=I}else T=e;if(T[v(M)]!==e)if(35===x&&/^#(?:[0-9a-f]{3}){1,2}$/.test(M))M=2&f?M:"";else if(48<=x&&57>=x)M=1&f?M:"";else if(A=48<=(S=M.charCodeAt(1))&&57>=S,C=48<=(w=M.charCodeAt(2))&&57>=w,43===x&&(A||46===S&&C))M=1&f?(A?"":"0")+M.substring(1):"";else if(45===x&&(A||46===S&&C))M=4&f?(A?"-":"-0")+M.substring(1):1&f?"0":"";else if(46===x&&A)M=1&f?"0"+M:"";else if('url("'===M.substring(0,5))M=o&&16&f?t(c(s(d,r[E].substring(5,M.length-2)),a,o)):"";else if("("===M.charAt(M.length-1))t:{for(M=1,L=(I=E)+1,x=(T=r).length;L<x&&M;)M+=")"===(N=T[L++])?-1:/^[^"']*\($/.test(N);if(!M)for(x=v(M=T[I].toLowerCase()),T=T.splice(I,L-I,""),L=0,N=(I=p.cssFns).length;L<N;++L)if(I[L].substring(0,x.length)==x){T[0]=T[T.length-1]="",l(I[L],T,o,d),M=M+T.join(" ")+")";break t}M=""}else M=y&&/^-?[a-z_][\w\-]*$/.test(M)&&!/__$/.test(M)?h&&512===y?r[E]+h:1024===y&&u[M]&&"number"==typeof u[M].oa?M:"":/^\w+$/.test(M)&&64===g&&8&f?m+1===b?(r[m]=r[m].substring(0,r[m].length-1)+" "+M+'"',""):(m=b,'"'+M+'"'):""}M&&(r[b++]=M)}1===b&&'url("about:blank")'===r[0]&&(b=0),r.length=b}else r.length=0}}();var A=RegExp("^(active|after|before|blank|checked|default|disabled|drop|empty|enabled|first|first-child|first-letter|first-line|first-of-type|fullscreen|focus|hover|in-range|indeterminate|invalid|last-child|last-of-type|left|link|only-child|only-of-type|optional|out-of-range|placeholder-shown|read-only|read-write|required|right|root|scope|user-error|valid|visited)$"),C={};C[">"]=C["+"]=C["~"]=C,f=function(t,e,i){function n(n,l){function s(i,n,l){var r,s,u,c,f,g=a;r="",i<n&&("*"===(f=t[i])?(++i,r=f):/^[a-zA-Z]/.test(f)&&(s=h(f.toLowerCase(),[]))&&("tagName"in s&&(f=s.tagName),++i,r=f));for(c=u=s="";g&&i<n;++i)if("#"===(f=t[i]).charAt(0))/^#_|__$|[^\w#:\-]/.test(f)?g=o:s+=f+d;else if("."===f)++i<n&&/^[0-9A-Za-z:_\-]+$/.test(f=t[i])&&!/^_|__$/.test(f)?s+="."+f:g=o;else if(i+1<n&&"["===t[i]){++i;var y,v=t[i++].toLowerCase();(f=m.m[r+"::"+v])!==+f&&(f=m.m["*::"+v]),e.ia?("string"!=typeof(y=e.ia(r,v))&&(g=o,y=v),g&&f!==+f&&(f=m.d.NONE)):(y=v,f!==+f&&(g=o));var E=v="",b=o;switch(/^[~^$*|]?=$/.test(t[i])&&(v=t[i++],E=t[i++],/^[0-9A-Za-z:_\-]+$/.test(E)?E='"'+E+'"':"]"===E&&(E='""',--i),/^"([^\"\\]|\\.)*"$/.test(E)||(g=o),(b="i"===t[i])&&++i),"]"!==t[i]&&(++i,g=o),f){case m.d.CLASSES:case m.d.LOCAL_NAME:case m.d.NONE:break;case m.d.GLOBAL_NAME:case m.d.ID:case m.d.IDREF:"="!==v&&"~="!==v&&"$="!==v||'""'==E||b?"|="===v||""===v||(g=o):E='"'+E.substring(1,E.length-1)+d+'"';break;case m.d.URI:case m.d.URI_FRAGMENT:""!==v&&(g=o);break;default:g=o}g&&(u+="["+y.replace(/[^\w-]/g,"\\$&")+v+E+(b?" i]":"]"))}else{if(!(i<n&&":"===t[i]))break;if(f=t[++i],!A.test(f))break;c+=":"+f}return i!==n&&(g=o),g&&(i=(r+s).replace(/[^ .*#\w-]/g,"\\$&")+u+c+l)&&p.push(i),g}" "===t[n]&&++n,l-1!==n&&" "===t[l]&&--l;for(var p=[],f=n,g=a,y=n;g&&y<l;++y){var v=t[y];C[v]!==C&&" "!==v||(s(f,y,v)?f=y+1:g=o)}return s(f,l,"")||(g=o),g?(p.length&&(f=p.join(""),u!==r&&(f="."+u+" "+f),c.push(f)),a):!i||i(t.slice(n,l))}var l,s,u=e.na,d=e.L,h=e.Aa,c=[],p=0,f=0;for(l=0;l<t.length;++l)("("==(s=t[l])||"["==s?(++f,a):")"==s||"]"==s?(f&&--f,a):" "!=t[l]||!f&&C[t[l-1]]!==C&&C[t[l+1]]!==C)&&(t[p++]=t[l]);for(t.length=p,p=t.length,l=f=0;l<p;++l)if(","===t[l]){if(!n(f,l))return r;f=l+1}return n(f,p)?c:r},function(){var t=/^\w/,e=RegExp("^(?:(?:(?:(?:only|not) )?(?:all|aural|braille|embossed|handheld|print|projection|screen|speech|tty|tv)|\\( (?:(?:min-|max-)?(?:(?:device-)?(?:aspect-ratio|height|width)|color(?:-index)?|monochrome|orientation|resolution)|grid|hover|luminosity|pointer|scan|script) (?:: -?(?:[a-z]\\w+(?:-\\w+)*|\\d+(?: / \\d+|(?:\\.\\d+)?(?:p[cxt]|[cem]m|in|dpi|dppx|dpcm|%)?)) )?\\))(?: and ?\\( (?:(?:min-|max-)?(?:(?:device-)?(?:aspect-ratio|height|width)|color(?:-index)?|monochrome|orientation|resolution)|grid|hover|luminosity|pointer|scan|script) (?:: -?(?:[a-z]\\w+(?:-\\w+)*|\\d+(?: / \\d+|(?:\\.\\d+)?(?:p[cxt]|[cem]m|in|dpi|dppx|dpcm|%)?)) )?\\))*)(?: , (?:(?:(?:(?:only|not) )?(?:all|aural|braille|embossed|handheld|print|projection|screen|speech|tty|tv)|\\( (?:(?:min-|max-)?(?:(?:device-)?(?:aspect-ratio|height|width)|color(?:-index)?|monochrome|orientation|resolution)|grid|hover|luminosity|pointer|scan|script) (?:: -?(?:[a-z]\\w+(?:-\\w+)*|\\d+(?: / \\d+|(?:\\.\\d+)?(?:p[cxt]|[cem]m|in|dpi|dppx|dpcm|%)?)) )?\\))(?: and ?\\( (?:(?:min-|max-)?(?:(?:device-)?(?:aspect-ratio|height|width)|color(?:-index)?|monochrome|orientation|resolution)|grid|hover|luminosity|pointer|scan|script) (?:: -?(?:[a-z]\\w+(?:-\\w+)*|\\d+(?: / \\d+|(?:\\.\\d+)?(?:p[cxt]|[cem]m|in|dpi|dppx|dpcm|%)?)) )?\\))*))*$","i");y=function(i){for(var n=(i=i.slice()).length,l=0,a=0;a<n;++a){var r=i[a];" "!=r&&(i[l++]=r)}return i.length=l,(i=i.join(" ")).length?e.test(i)?t.test(i)?i:"not all , "+i:"not all":""}}(),function(){function t(e,i,n,u,d,g,m){function v(){w=S.length&&S[S.length-1]===r}var E=l,b=m||[0],S=[],w=o;return h(i,{startStylesheet:function(){E=[]},endStylesheet:function(){},startAtrule:function(i,l){if(w)i=r;else if("@media"===i)E.push("@media"," ",y(l));else if("@keyframes"===i||"@-webkit-keyframes"===i){var a=l[0];1!==l.length||/__$|[^\w\-]/.test(a)?i=r:(E.push(i," ",a+n.L),i="@keyframes")}else if("@import"===i&&0<l.length)if(i=r,"function"==typeof g){var o=y(l.slice(1));if("not all"!==o){++b[0];var h=[];E.push(h);var p=c(s(e,function(t){var e;return(e=/^\s*["]([^"]*)["]\s*$/.exec(t))||(e=/^\s*[']([^']*)[']\s*$/.exec(t))||(e=/^\s*url\s*[(]["]([^"]*)["][)]\s*$/.exec(t))||(e=/^\s*url\s*[(][']([^']*)['][)]\s*$/.exec(t))||(e=/^\s*url\s*[(]([^)]*)[)]\s*$/.exec(t))?e[1]:r}(l[0])),(function(e){var i=t(p,e.qa,n,u,d,g,b);--b[0],e=o?{toString:function(){return"@media "+o+" {"+i.result+"}"}}:i.result,h[0]=e,g(e,!!b[0])}),d)}}else window.console&&window.console.log("@import "+l.join(" ")+" elided");w=!i,S.push(i)},endAtrule:function(){S.pop(),w||E.push(";"),v()},startBlock:function(){w||E.push("{")},endBlock:function(){w||(E.push("}"),w=a)},startRuleset:function(t){if(!w){var e=l;"@keyframes"===S[S.length-1]?(e=t.join(" ").match(/^ *(?:from|to|\d+(?:\.\d+)?%) *(?:, *(?:from|to|\d+(?:\.\d+)?%) *)*$/i),w=!e,e&&(e=e[0].replace(/ +/g,""))):(t=f(t,n))&&t.length?e=t.join(", "):w=a,w||E.push(e,"{")}S.push(r)},endRuleset:function(){S.pop(),w||E.push("}"),v()},declaration:function(t,i){if(!w){var l=o,r=i.length;2<=r&&"!"===i[r-2]&&"important"===i[r-1].toLowerCase()&&(l=a,i.length-=2),p(t,i,u,e,n.L),i.length&&E.push(t,":",i.join(" "),l?" !important;":";")}}}),{result:{toString:function(){return E.join("")}},va:!!b[0]}}g=function(e,i,n,a){return t(e,i,n,a,l,l).result.toString()}}()}(),"undefined"!=typeof window&&(window.sanitizeCssProperty=p,window.sanitizeCssSelectorList=f,window.sanitizeStylesheet=g,window.sanitizeMediaQuery=y),function(){function t(t,e,n,l,a){for(var r=e++;e<n&&"{"!==t[e]&&";"!==t[e];)++e;if(e<n&&(a||";"===t[e])){var o=e;(a=r+1)<n&&" "===t[a]&&++a,o>a&&" "===t[o-1]&&--o,l.startAtrule&&l.startAtrule(t[r].toLowerCase(),t.slice(a,o)),e="{"===t[e]?i(t,e,n,l):e+1,l.endAtrule&&l.endAtrule()}return e}function i(e,l,a,r){for(++l,r.startBlock&&r.startBlock();l<a;){var s=e[l].charAt(0);if("}"==s){++l;break}l=" "===s||";"===s?l+1:"@"===s?t(e,l,a,r,o):"{"===s?i(e,l,a,r):n(e,l,a,r)}return r.endBlock&&r.endBlock(),l}function n(t,e,i,n){var r=e,o=l(t,e,i,a);if(0>o)return(o=~o)===r?o+1:o;var u=t[o];if("{"!==u)return o===r?o+1:o;for(e=o+1,o>r&&" "===t[o-1]&&--o,n.startRuleset&&n.startRuleset(t.slice(r,o));e<i;){if("}"===(u=t[e])){++e;break}e=" "===u?e+1:s(t,e,i,n)}return n.endRuleset&&n.endRuleset(),e}function l(t,e,i,n){for(var l,a=[],r=-1;e<i;++e)if("["===(l=t[e].charAt(0))||"("===l)a[++r]=l;else if("]"===l&&"["===a[r]||")"===l&&"("===a[r])--r;else if("{"===l||"}"===l||";"===l||"@"===l||":"===l&&!n)break;return 0<=r&&(e=~(e+1)),e}function r(t,e,i){for(;e<i&&";"!==t[e]&&"}"!==t[e];)++e;return e<i&&";"===t[e]?e+1:e}function s(t,e,i,n){var a=t[e++];if(!u.test(a))return r(t,e,i);if(e<i&&" "===t[e]&&++e,e==i||":"!==t[e])return r(t,e,i);++e<i&&" "===t[e]&&++e;var s=l(t,e,i,o);if(0>s)s=~s;else{for(var d=[],h=0,c=e;c<s;++c)" "!==(e=t[c])&&(d[h++]=e);if(s<i){do{if(";"===(e=t[s])||"}"===e)break;h=0}while(++s<i);";"===e&&++s}h&&n.declaration&&n.declaration(a.toLowerCase(),d)}return s}h=function(i,l){var r=e(i);l.startStylesheet&&l.startStylesheet();for(var o=0,s=r.length;o<s;)o=" "===r[o]?o+1:o<s?"@"===r[o].charAt(0)?t(r,o,s,l,a):n(r,o,s,l):o;l.endStylesheet&&l.endStylesheet()};var u=/^-?[a-z]/i;c=function(t,i){for(var n=e(t),l=0,a=n.length;l<a;)l=" "!==n[l]?s(n,l,a,i):l+1}}(),"undefined"!=typeof window&&(window.parseCssStylesheet=h,window.parseCssDeclarations=c);var m={d:{NONE:0,URI:1,URI_FRAGMENT:11,SCRIPT:2,STYLE:3,HTML:12,ID:4,IDREF:5,IDREFS:6,GLOBAL_NAME:7,LOCAL_NAME:8,CLASSES:9,FRAME_TARGET:10,MEDIA_QUERY:13}};m.atype=m.d,m.m={"*::class":9,"*::dir":0,"*::draggable":0,"*::hidden":0,"*::id":4,"*::inert":0,"*::itemprop":0,"*::itemref":6,"*::itemscope":0,"*::lang":0,"*::onblur":2,"*::onchange":2,"*::onclick":2,"*::ondblclick":2,"*::onerror":2,"*::onfocus":2,"*::onkeydown":2,"*::onkeypress":2,"*::onkeyup":2,"*::onload":2,"*::onmousedown":2,"*::onmousemove":2,"*::onmouseout":2,"*::onmouseover":2,"*::onmouseup":2,"*::onreset":2,"*::onscroll":2,"*::onselect":2,"*::onsubmit":2,"*::ontouchcancel":2,"*::ontouchend":2,"*::ontouchenter":2,"*::ontouchleave":2,"*::ontouchmove":2,"*::ontouchstart":2,"*::onunload":2,"*::spellcheck":0,"*::style":3,"*::tabindex":0,"*::title":0,"*::translate":0,"a::accesskey":0,"a::coords":0,"a::href":1,"a::hreflang":0,"a::name":7,"a::onblur":2,"a::onfocus":2,"a::shape":0,"a::target":10,"a::type":0,"area::accesskey":0,"area::alt":0,"area::coords":0,"area::href":1,"area::nohref":0,"area::onblur":2,"area::onfocus":2,"area::shape":0,"area::target":10,"audio::controls":0,"audio::loop":0,"audio::mediagroup":5,"audio::muted":0,"audio::preload":0,"audio::src":1,"bdo::dir":0,"blockquote::cite":1,"br::clear":0,"button::accesskey":0,"button::disabled":0,"button::name":8,"button::onblur":2,"button::onfocus":2,"button::type":0,"button::value":0,"canvas::height":0,"canvas::width":0,"caption::align":0,"col::align":0,"col::char":0,"col::charoff":0,"col::span":0,"col::valign":0,"col::width":0,"colgroup::align":0,"colgroup::char":0,"colgroup::charoff":0,"colgroup::span":0,"colgroup::valign":0,"colgroup::width":0,"command::checked":0,"command::command":5,"command::disabled":0,"command::icon":1,"command::label":0,"command::radiogroup":0,"command::type":0,"data::value":0,"del::cite":1,"del::datetime":0,"details::open":0,"dir::compact":0,"div::align":0,"dl::compact":0,"fieldset::disabled":0,"font::color":0,"font::face":0,"font::size":0,"form::accept":0,"form::action":1,"form::autocomplete":0,"form::enctype":0,"form::method":0,"form::name":7,"form::novalidate":0,"form::onreset":2,"form::onsubmit":2,"form::target":10,"h1::align":0,"h2::align":0,"h3::align":0,"h4::align":0,"h5::align":0,"h6::align":0,"hr::align":0,"hr::noshade":0,"hr::size":0,"hr::width":0,"iframe::align":0,"iframe::frameborder":0,"iframe::height":0,"iframe::marginheight":0,"iframe::marginwidth":0,"iframe::width":0,"img::align":0,"img::alt":0,"img::border":0,"img::height":0,"img::hspace":0,"img::ismap":0,"img::name":7,"img::src":1,"img::usemap":11,"img::vspace":0,"img::width":0,"input::accept":0,"input::accesskey":0,"input::align":0,"input::alt":0,"input::autocomplete":0,"input::checked":0,"input::disabled":0,"input::inputmode":0,"input::ismap":0,"input::list":5,"input::max":0,"input::maxlength":0,"input::min":0,"input::multiple":0,"input::name":8,"input::onblur":2,"input::onchange":2,"input::onfocus":2,"input::onselect":2,"input::pattern":0,"input::placeholder":0,"input::readonly":0,"input::required":0,"input::size":0,"input::src":1,"input::step":0,"input::type":0,"input::usemap":11,"input::value":0,"ins::cite":1,"ins::datetime":0,"label::accesskey":0,"label::for":5,"label::onblur":2,"label::onfocus":2,"legend::accesskey":0,"legend::align":0,"li::type":0,"li::value":0,"map::name":7,"menu::compact":0,"menu::label":0,"menu::type":0,"meter::high":0,"meter::low":0,"meter::max":0,"meter::min":0,"meter::value":0,"ol::compact":0,"ol::reversed":0,"ol::start":0,"ol::type":0,"optgroup::disabled":0,"optgroup::label":0,"option::disabled":0,"option::label":0,"option::selected":0,"option::value":0,"output::for":6,"output::name":8,"p::align":0,"pre::width":0,"progress::max":0,"progress::min":0,"progress::value":0,"q::cite":1,"select::autocomplete":0,"select::disabled":0,"select::multiple":0,"select::name":8,"select::onblur":2,"select::onchange":2,"select::onfocus":2,"select::required":0,"select::size":0,"source::type":0,"table::align":0,"table::bgcolor":0,"table::border":0,"table::cellpadding":0,"table::cellspacing":0,"table::frame":0,"table::rules":0,"table::summary":0,"table::width":0,"tbody::align":0,"tbody::char":0,"tbody::charoff":0,"tbody::valign":0,"td::abbr":0,"td::align":0,"td::axis":0,"td::bgcolor":0,"td::char":0,"td::charoff":0,"td::colspan":0,"td::headers":6,"td::height":0,"td::nowrap":0,"td::rowspan":0,"td::scope":0,"td::valign":0,"td::width":0,"textarea::accesskey":0,"textarea::autocomplete":0,"textarea::cols":0,"textarea::disabled":0,"textarea::inputmode":0,"textarea::name":8,"textarea::onblur":2,"textarea::onchange":2,"textarea::onfocus":2,"textarea::onselect":2,"textarea::placeholder":0,"textarea::readonly":0,"textarea::required":0,"textarea::rows":0,"textarea::wrap":0,"tfoot::align":0,"tfoot::char":0,"tfoot::charoff":0,"tfoot::valign":0,"th::abbr":0,"th::align":0,"th::axis":0,"th::bgcolor":0,"th::char":0,"th::charoff":0,"th::colspan":0,"th::headers":6,"th::height":0,"th::nowrap":0,"th::rowspan":0,"th::scope":0,"th::valign":0,"th::width":0,"thead::align":0,"thead::char":0,"thead::charoff":0,"thead::valign":0,"tr::align":0,"tr::bgcolor":0,"tr::char":0,"tr::charoff":0,"tr::valign":0,"track::default":0,"track::kind":0,"track::label":0,"track::srclang":0,"ul::compact":0,"ul::type":0,"video::controls":0,"video::height":0,"video::loop":0,"video::mediagroup":5,"video::muted":0,"video::poster":1,"video::preload":0,"video::src":1,"video::width":0},m.ATTRIBS=m.m,m.c={OPTIONAL_ENDTAG:1,EMPTY:2,CDATA:4,RCDATA:8,UNSAFE:16,FOLDABLE:32,SCRIPT:64,STYLE:128,VIRTUALIZED:256},m.eflags=m.c,m.f={a:0,abbr:0,acronym:0,address:0,applet:272,area:2,article:0,aside:0,audio:0,b:0,base:274,basefont:274,bdi:0,bdo:0,big:0,blockquote:0,body:305,br:2,button:0,canvas:0,caption:0,center:0,cite:0,code:0,col:2,colgroup:1,command:2,data:0,datalist:0,dd:1,del:0,details:0,dfn:0,dialog:272,dir:0,div:0,dl:0,dt:1,em:0,fieldset:0,figcaption:0,figure:0,font:0,footer:0,form:0,frame:274,frameset:272,h1:0,h2:0,h3:0,h4:0,h5:0,h6:0,head:305,header:0,hgroup:0,hr:2,html:305,i:0,iframe:4,img:2,input:2,ins:0,isindex:274,kbd:0,keygen:274,label:0,legend:0,li:1,link:274,map:0,mark:0,menu:0,meta:274,meter:0,nav:0,nobr:0,noembed:276,noframes:276,noscript:276,object:272,ol:0,optgroup:0,option:1,output:0,p:1,param:274,pre:0,progress:0,q:0,s:0,samp:0,script:84,section:0,select:0,small:0,source:2,span:0,strike:0,strong:0,style:148,sub:0,summary:0,sup:0,table:0,tbody:1,td:1,textarea:8,tfoot:1,th:1,thead:1,time:0,title:280,tr:1,track:2,tt:0,u:0,ul:0,var:0,video:0,wbr:2},m.ELEMENTS=m.f,m.Q={a:"HTMLAnchorElement",abbr:"HTMLElement",acronym:"HTMLElement",address:"HTMLElement",applet:"HTMLAppletElement",area:"HTMLAreaElement",article:"HTMLElement",aside:"HTMLElement",audio:"HTMLAudioElement",b:"HTMLElement",base:"HTMLBaseElement",basefont:"HTMLBaseFontElement",bdi:"HTMLElement",bdo:"HTMLElement",big:"HTMLElement",blockquote:"HTMLQuoteElement",body:"HTMLBodyElement",br:"HTMLBRElement",button:"HTMLButtonElement",canvas:"HTMLCanvasElement",caption:"HTMLTableCaptionElement",center:"HTMLElement",cite:"HTMLElement",code:"HTMLElement",col:"HTMLTableColElement",colgroup:"HTMLTableColElement",command:"HTMLCommandElement",data:"HTMLElement",datalist:"HTMLDataListElement",dd:"HTMLElement",del:"HTMLModElement",details:"HTMLDetailsElement",dfn:"HTMLElement",dialog:"HTMLDialogElement",dir:"HTMLDirectoryElement",div:"HTMLDivElement",dl:"HTMLDListElement",dt:"HTMLElement",em:"HTMLElement",fieldset:"HTMLFieldSetElement",figcaption:"HTMLElement",figure:"HTMLElement",font:"HTMLFontElement",footer:"HTMLElement",form:"HTMLFormElement",frame:"HTMLFrameElement",frameset:"HTMLFrameSetElement",h1:"HTMLHeadingElement",h2:"HTMLHeadingElement",h3:"HTMLHeadingElement",h4:"HTMLHeadingElement",h5:"HTMLHeadingElement",h6:"HTMLHeadingElement",head:"HTMLHeadElement",header:"HTMLElement",hgroup:"HTMLElement",hr:"HTMLHRElement",html:"HTMLHtmlElement",i:"HTMLElement",iframe:"HTMLIFrameElement",img:"HTMLImageElement",input:"HTMLInputElement",ins:"HTMLModElement",isindex:"HTMLUnknownElement",kbd:"HTMLElement",keygen:"HTMLKeygenElement",label:"HTMLLabelElement",legend:"HTMLLegendElement",li:"HTMLLIElement",link:"HTMLLinkElement",map:"HTMLMapElement",mark:"HTMLElement",menu:"HTMLMenuElement",meta:"HTMLMetaElement",meter:"HTMLMeterElement",nav:"HTMLElement",nobr:"HTMLElement",noembed:"HTMLElement",noframes:"HTMLElement",noscript:"HTMLElement",object:"HTMLObjectElement",ol:"HTMLOListElement",optgroup:"HTMLOptGroupElement",option:"HTMLOptionElement",output:"HTMLOutputElement",p:"HTMLParagraphElement",param:"HTMLParamElement",pre:"HTMLPreElement",progress:"HTMLProgressElement",q:"HTMLQuoteElement",s:"HTMLElement",samp:"HTMLElement",script:"HTMLScriptElement",section:"HTMLElement",select:"HTMLSelectElement",small:"HTMLElement",source:"HTMLSourceElement",span:"HTMLSpanElement",strike:"HTMLElement",strong:"HTMLElement",style:"HTMLStyleElement",sub:"HTMLElement",summary:"HTMLElement",sup:"HTMLElement",table:"HTMLTableElement",tbody:"HTMLTableSectionElement",td:"HTMLTableDataCellElement",textarea:"HTMLTextAreaElement",tfoot:"HTMLTableSectionElement",th:"HTMLTableHeaderCellElement",thead:"HTMLTableSectionElement",time:"HTMLTimeElement",title:"HTMLTitleElement",tr:"HTMLTableRowElement",track:"HTMLTrackElement",tt:"HTMLElement",u:"HTMLElement",ul:"HTMLUListElement",var:"HTMLElement",video:"HTMLVideoElement",wbr:"HTMLElement"},m.ELEMENT_DOM_INTERFACES=m.Q,m.P={NOT_LOADED:0,SAME_DOCUMENT:1,NEW_DOCUMENT:2},m.ueffects=m.P,m.J={"a::href":2,"area::href":2,"audio::src":1,"blockquote::cite":0,"command::icon":1,"del::cite":0,"form::action":2,"img::src":1,"input::src":1,"ins::cite":0,"q::cite":0,"video::poster":1,"video::src":1},m.URIEFFECTS=m.J,m.M={UNSANDBOXED:2,SANDBOXED:1,DATA:0},m.ltypes=m.M,m.I={"a::href":2,"area::href":2,"audio::src":2,"blockquote::cite":2,"command::icon":1,"del::cite":2,"form::action":2,"img::src":1,"input::src":1,"ins::cite":2,"q::cite":2,"video::poster":1,"video::src":2},m.LOADERTYPES=m.I,"undefined"!=typeof window&&(window.html4=m);var v=function(t){function e(t,e){return function(t){if(T.hasOwnProperty(t))return T[t];var e=t.match(M);return e?String.fromCharCode(parseInt(e[1],10)):(e=t.match(x))?String.fromCharCode(parseInt(e[1],16)):L&&I.test(t)?(L.innerHTML="&"+t+";",e=L.textContent,T[t]=e):"&"+t+";"}(e)}function i(t){return t.replace(O,e)}function s(t){return(""+t).replace(R,"&amp;").replace(P,"&lt;").replace(k,"&gt;").replace(H,"&#34;")}function u(t){return t.replace(_,"&amp;$1").replace(P,"&lt;").replace(k,"&gt;")}function h(t){var e={z:t.z||t.cdata,A:t.A||t.comment,B:t.B||t.endDoc,t:t.t||t.endTag,e:t.e||t.pcdata,F:t.F||t.rcdata,H:t.H||t.startDoc,w:t.w||t.startTag};return function(t,i){var n,l=/(<\/|<\!--|<[!?]|[&<>])/g;if(n=t+"",B)n=n.split(l);else{for(var a,s=[],u=0;(a=l.exec(n))!==r;)s.push(n.substring(u,a.index)),s.push(a[0]),u=a.index+a[0].length;s.push(n.substring(u)),n=s}p(e,n,0,{r:o,C:o},i)}}function c(t,e,i,n,l){return function(){p(t,e,i,n,l)}}function p(e,i,n,l,r){try{e.H&&0==n&&e.H(r);for(var o,s,u,d=i.length;n<d;){var h=i[n++],p=i[n];switch(h){case"&":D.test(p)?(e.e&&e.e("&"+p,r,F,c(e,i,n,l,r)),n++):e.e&&e.e("&amp;",r,F,c(e,i,n,l,r));break;case"</":if(o=/^([-\w:]+)[^\'\"]*/.exec(p))if(o[0].length===p.length&&">"===i[n+1])n+=2,u=o[1].toLowerCase(),e.t&&e.t(u,r,F,c(e,i,n,l,r));else{var y=e,m=r,v=F,E=l,b=g(w=i,A=n);b?(y.t&&y.t(b.name,m,v,c(y,w,A,E,m)),n=b.next):n=w.length}else e.e&&e.e("&lt;/",r,F,c(e,i,n,l,r));break;case"<":if(o=/^([-\w:]+)\s*\/?/.exec(p))if(o[0].length===p.length&&">"===i[n+1]){n+=2,u=o[1].toLowerCase(),e.w&&e.w(u,[],r,F,c(e,i,n,l,r));var S=t.f[u];S&z&&(n=f(i,{name:u,next:n,c:S},e,r,F,l))}else{var w,A=e,C=(y=r,m=F,v=l,g(w=i,n));C?(A.w&&A.w(C.name,C.R,y,m,c(A,w,C.next,v,y)),n=C.c&z?f(w,C,A,y,m,v):C.next):n=w.length}else e.e&&e.e("&lt;",r,F,c(e,i,n,l,r));break;case"\x3c!--":if(!l.C){for(s=n+1;s<d&&(">"!==i[s]||!/--$/.test(i[s-1]));s++);if(s<d){if(e.A){var T=i.slice(n,s).join("");e.A(T.substr(0,T.length-2),r,F,c(e,i,s+1,l,r))}n=s+1}else l.C=a}l.C&&e.e&&e.e("&lt;!--",r,F,c(e,i,n,l,r));break;case"<!":if(/^\w/.test(p)){if(!l.r){for(s=n+1;s<d&&">"!==i[s];s++);s<d?n=s+1:l.r=a}l.r&&e.e&&e.e("&lt;!",r,F,c(e,i,n,l,r))}else e.e&&e.e("&lt;!",r,F,c(e,i,n,l,r));break;case"<?":if(!l.r){for(s=n+1;s<d&&">"!==i[s];s++);s<d?n=s+1:l.r=a}l.r&&e.e&&e.e("&lt;?",r,F,c(e,i,n,l,r));break;case">":e.e&&e.e("&gt;",r,F,c(e,i,n,l,r));break;case"":break;default:e.e&&e.e(h,r,F,c(e,i,n,l,r))}}e.B&&e.B(r)}catch(t){if(t!==F)throw t}}function f(e,i,n,l,a,r){var o=e.length;V.hasOwnProperty(i.name)||(V[i.name]=RegExp("^"+i.name+"(?:[\\s\\/]|$)","i"));for(var s=V[i.name],d=i.next,h=i.next+1;h<o&&("</"!==e[h-1]||!s.test(e[h]));h++);if(h<o&&(h-=1),o=e.slice(d,h).join(""),i.c&t.c.CDATA)n.z&&n.z(o,l,a,c(n,e,h,r,l));else{if(!(i.c&t.c.RCDATA))throw Error("bug");n.F&&n.F(u(o),l,a,c(n,e,h,r,l))}return h}function g(e,n){var l=/^([-\w:]+)/.exec(e[n]),r={};r.name=l[1].toLowerCase(),r.c=t.f[r.name];for(var s=e[n].substr(l[0].length),u=n+1,d=e.length;u<d&&">"!==e[u];u++)s+=e[u];if(!(d<=u)){for(var h=[];""!==s;)if(l=G.exec(s))if(l[4]&&!l[5]||l[6]&&!l[7]){l=l[4]||l[6];var c=o;for(s=[s,e[u++]];u<d;u++){if(c){if(">"===e[u])break}else 0<=e[u].indexOf(l)&&(c=a);s.push(e[u])}if(d<=u)break;s=s.join("")}else{var p;c=l[1].toLowerCase();if(l[2]){var f=(p=l[3]).charCodeAt(0);34!==f&&39!==f||(p=p.substr(1,p.length-2)),p=i(p.replace(N,""))}else p="";h.push(c,p),s=s.substr(l[0].length)}else s=s.replace(/^[\s\S][^a-z\s]*/,"");return r.R=h,r.next=u+1,r}}function y(e){function i(t,e){u||e.push(t)}var a,u;return h({startDoc:function(){a=[],u=o},startTag:function(i,o,d){if(!u&&t.f.hasOwnProperty(i)){var h=t.f[i];if(!(h&t.c.FOLDABLE)){var c=e(i,o);if(c){if("object"!==n(c))throw Error("tagPolicy did not return object (old API?)");if(!("attribs"in c))throw Error("tagPolicy gave no attribs");var p;if(o=c.attribs,"tagName"in c?(p=c.tagName,c=t.f[p]):(p=i,c=h),h&t.c.OPTIONAL_ENDTAG){var f=a[a.length-1];f&&f.D===i&&(f.v!==p||i!==p)&&d.push("</",f.v,">")}for(h&t.c.EMPTY||a.push({D:i,v:p}),d.push("<",p),i=0,f=o.length;i<f;i+=2){var g=o[i],y=o[i+1];y!==r&&y!==l&&d.push(" ",g,'="',s(y),'"')}d.push(">"),h&t.c.EMPTY&&!(c&t.c.EMPTY)&&d.push("</",p,">")}else u=!(h&t.c.EMPTY)}}},endTag:function(e,i){if(u)u=o;else if(t.f.hasOwnProperty(e)){var n=t.f[e];if(!(n&(t.c.EMPTY|t.c.FOLDABLE))){if(n&t.c.OPTIONAL_ENDTAG)for(n=a.length;0<=--n;){var l=a[n].D;if(l===e)break;if(!(t.f[l]&t.c.OPTIONAL_ENDTAG))return}else for(n=a.length;0<=--n&&a[n].D!==e;);if(!(0>n)){for(l=a.length;--l>n;){var r=a[l].v;t.f[r]&t.c.OPTIONAL_ENDTAG||i.push("</",r,">")}n<a.length&&(e=a[n].v),a.length=n,i.push("</",e,">")}}}},pcdata:i,rcdata:i,cdata:i,endDoc:function(t){for(;a.length;a.length--)t.push("</",a[a.length-1].v,">")}})}function m(t,e,i,n,l){if(!l)return r;try{var a=d.parse(""+t);if(a&&(!a.K()||U.test(a.W()))){var o=l(a,e,i,n);return o?o.toString():r}}catch(t){}return r}function v(t,e,i,n,l){if(i||t(e+" removed",{S:"removed",tagName:e}),n!==l){var a="changed";n&&!l?a="removed":!n&&l&&(a="added"),t(e+"."+i+" "+a,{S:a,tagName:e,la:i,oldValue:n,newValue:l})}}function E(t,e,i){return e=e+"::"+i,t.hasOwnProperty(e)?t[e]:(e="*::"+i,t.hasOwnProperty(e)?t[e]:void 0)}function b(e,i,n,a,o){for(var s=0;s<i.length;s+=2){var u,d=i[s],h=i[s+1],c=h,p=r;if(u=e+"::"+d,(t.m.hasOwnProperty(u)||(u="*::"+d,t.m.hasOwnProperty(u)))&&(p=t.m[u]),p!==r)switch(p){case t.d.NONE:break;case t.d.SCRIPT:h=r,o&&v(o,e,d,c,h);break;case t.d.STYLE:if(void 0===A){h=r,o&&v(o,e,d,c,h);break}var f=[];A(h,{declaration:function(e,i){var l=e.toLowerCase();C(l,i,n?function(e){return m(e,t.P.ja,t.M.ka,{TYPE:"CSS",CSS_PROP:l},n)}:r),i.length&&f.push(l+": "+i.join(" "))}}),h=0<f.length?f.join(" ; "):r,o&&v(o,e,d,c,h);break;case t.d.ID:case t.d.IDREF:case t.d.IDREFS:case t.d.GLOBAL_NAME:case t.d.LOCAL_NAME:case t.d.CLASSES:h=a?a(h):h,o&&v(o,e,d,c,h);break;case t.d.URI:h=m(h,E(t.J,e,d),E(t.I,e,d),{TYPE:"MARKUP",XML_ATTR:d,XML_TAG:e},n),o&&v(o,e,d,c,h);break;case t.d.URI_FRAGMENT:h&&"#"===h.charAt(0)?(h=h.substring(1),(h=a?a(h):h)!==r&&h!==l&&(h="#"+h)):h=r,o&&v(o,e,d,c,h);break;default:h=r,o&&v(o,e,d,c,h)}else h=r,o&&v(o,e,d,c,h);i[s+1]=h}return i}function S(e,i,n){return function(a,r){if(!(t.f[a]&t.c.UNSAFE))return{attribs:b(a,r,e,i,n)};n&&v(n,a,l,l,l)}}function w(t,e){var i=[];return y(e)(t,i),i.join("")}var A,C;"undefined"!=typeof window&&(A=window.parseCssDeclarations,C=window.sanitizeCssProperty);var T={lt:"<",LT:"<",gt:">",GT:">",amp:"&",AMP:"&",quot:'"',apos:"'",nbsp:" "},M=/^#(\d+)$/,x=/^#x([0-9A-Fa-f]+)$/,I=/^[A-Za-z][A-za-z0-9]+$/,L="undefined"!=typeof window&&window.document?window.document.createElement("textarea"):r,N=/\0/g,O=/&(#[0-9]+|#[xX][0-9A-Fa-f]+|\w+);/g,D=/^(#[0-9]+|#[xX][0-9A-Fa-f]+|\w+);/,R=/&/g,_=/&([^a-z#]|#(?:[^0-9x]|x(?:[^0-9a-f]|$)|$)|$)/gi,P=/[<]/g,k=/>/g,H=/\"/g,G=/^\s*([-.:\w]+)(?:\s*(=)\s*((")[^"]*("|$)|(')[^']*('|$)|(?=[a-z][-\w]*\s*=)|[^"'\s]*))?/i,B=3==="a,b".split(/(,)/).length,z=t.c.CDATA|t.c.RCDATA,F={},V={},U=/^(?:https?|mailto|data)$/i,Y={};return Y.pa=Y.escapeAttrib=s,Y.ra=Y.makeHtmlSanitizer=y,Y.sa=Y.makeSaxParser=h,Y.ta=Y.makeTagPolicy=S,Y.wa=Y.normalizeRCData=u,Y.xa=Y.sanitize=function(t,e,i,n){return w(t,S(e,i,n))},Y.ya=Y.sanitizeAttribs=b,Y.za=Y.sanitizeWithPolicy=w,Y.Ba=Y.unescapeEntities=i,Y}(m),E=v.sanitize;"undefined"!=typeof window&&(window.html=v,window.html_sanitize=E)}();e.default={}},8692:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAANCAYAAABy6+R8AAAAAXNSR0IArs4c6QAAAUtJREFUKBWdUktKxEAQreokICOIYMAbRBA32Yu49jcrN17AEziKCEYE8XMCLyDB3eDoAcSFC4dBGATnBkIWbhShJ13260xDxoWIBUl1v3qv6HrdTLWYv9tLh9q0mGjJwrH9CiG6DyN1/rJy2vNUhcWmXAfJTeuw1OaWlTxyoDbCqcYMMvbAUc8kc/wQoufO0wGLLEcUpf31kzdgo+ja3F1o7+dadH7V+QR8xDgSOkUUpv3mmGCkq5IVzmoa9oJIrSrMQErOfhMk7R1xdcsDX2Fo5uBhrG1tA8GgeWFpROCBj8HiYHLiFSAIyD7qAmAybQY2xRAV5cfXHEB09MKfAtT5XSU2FQr3IFIuAkR4oT9ShVZ/8MD/n3u4aVF0qVnnsLXe2a+d3bYOHvjOFbwId8GGtmE/XII5mNUd3fAuBFtrjeOMM+NEvuNf3943A7W5/KIRFgcAAAAASUVORK5CYII="},523840:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAAXNSR0IArs4c6QAAAuNJREFUSA29VktrU0EUPjM3trFipTubgMukKOKiiivBihWkxRT8A65d2YVpxU13tnFhV/4LIdEWwYIRXIl2JUrTZaGtu9KIsQ2593i+iSck1+Z1rV64zOuc75szcx5jqMs3tvooxbVghimYNGTOiXjit8oOE28ZsmsmZvMbU082O0GZdotjK/PjHPg5ZrrRTqZ53hh6a6yX3ZheXG+e1/4fRNeLC7Fv5R/LgaH7xGTk25OdF6RXsNb76g0N7kDZrxwmTMAXfPbviKUZZh4hQ2yZnp8dPvXg3cRCTUnQthBdXJkfqfrBCwGeEOADWX12Om6W1ieX9puVwv3xtbkz3w94TjY2S8xxIS4OePbu5+nFPZVtEMGS3XLlTZ2Eto1nZkpTuU8q2EubXs1eZp/zQpgE2ejw0C21zCoAjktJTpqBq/2SAAc60JWT2AYWMBXfWYSLDwL/o5zkofHoWhQSBURbt4zeE/Gg3OsVOIizCN6Fi8ed/C0JiByGYAHTYcucTb/OpuHC8C5cPASjfKnCQ8avusByHivYiEVLVZPBopxpoZt3KUgvLbCA6bAl4GOIeKcocdILQFhGrdjMPG14sMp4xnspcXYPHFYuBmmFEIwqcFwtW/MFWOCISetyl0a8knTaKWS6rUMGmEHZJYhEI46wcNxf7URFj5NhEXJXCrlL2kYG1jMP7zw87rQ5s++NMjmLdiUH8haEJWDPd1KKsoakCz1wxFBPxCtuSjKEm+fDgO0sC8sdNUZmxzw4LA3UfV08I4MsfJRClDlgAdMRSWG0pdu5EooW6olL9W1QYZla10akZRpYwAQ2qq/zOlRGsU+OkmaREFs0IgwcBmqTYDpswXBELrtKZUTRQj259OpxMgK+U4FuvSZxHNVWS3sjjlB+5UyLYlXyJ1c/RLEMOtAFBrCAqRvWgHLj/1LKlbmfx4mLPQkLeFdfjxMlQ/vPn1vNZOijMKJmdXpAIhYRJmHd5vEvwLagT6u5y/QAAAAASUVORK5CYII="},594716:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAmCAYAAAHfOtk4AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAJqADAAQAAAABAAAAJgAAAACE8iBbAAAHnklEQVRYCbVYCWxURRj+5+12t2+LilJarlDkEGLBQKUF5BQNTRAIR1qg9CIqEBIRTYwRRZuYEKNoABMDxsR222JpgwEiRKMRIofcNHIJolJIS1sIh8huj90d/3/em7dv33tbtgQn2Z3jP+abf2b+/58HoJe88sDewkrel7qM/vLK7/HSnCQoP9pJXWDEAcCniZ7+p3hdaoEcyB3uFk1DXBIUhS2WbcivCFyQHdR5j8sO1XWlKUyRA9OGuESTmMRgbYkP9v0Z1uiMcdtEJC4GicWqWxPT5qB2jPS8UW5oDwHsOR+CL/NVWFYb1PgZO8IIMuf8KamhfLEKRxrCsPt8JzyhMqhvighSjEbJbK1jMBIxryJwBDjPEYy4qroSn2ECYzFEXFhxb3kE2HrGYWdtqa9QCOCfYMqvCkzkIX5ADho1g9a6kpR0Vsa5crYioFvPIEcbjB2PYcjqb8AAlwTC+Vhj9O3pXjjZGIGPZycLLeMytP2ijsHUK0UTPXQ5JIAOSTVIdKSi27/uJS+s2d0exaO3FFCUYjnqxEA0MQcash0N6ZHM5to4WGhdb580n4ZY52AKe50YqCsXaggLu/mDf6HmDGPQqYEw64rVSjPJUBZ3d8zcTm3GOggxkeQaLzsh6fMIg8/mJsPxq2HYdSYES/HmvrvHbk1SRMtX6DBZFSk4xYJn3NB8l0NBZRBuBzlcuhExFNUUqSQfU5pbA20KncqYUexULVFh+294pbAMxU2vq++EmuKogsLqIAzoaVhI8NGfQsfb6OmNN3e2GUMkchdXtsgfhIG6glVTPBDoMFiMhmYz0ymTlI9mJcPNgHZt95wLQU+8xq+M90DZ921w+VaMTxIidEQMrHkV91qAQ5pU1q1aUTLwmFwxlElhPL3HcEPGyn6Xta5E8tiUSQJ59I5w8BM8PNm4qH6I+jgauGZbScoWyWOtbcry/MEiiET8VsaYPmMNmcXq4DLGNKPqxBhl3bUbc7NJtYW+g3IiQ1lXN10yO9VmhcIN6Ua3uYw1L3rBl+SkIjpG3rYMnSqNKK/t4d54u3czwKG8wCckKYSNMTnWqDqAs+RlSFnz9eAvZoJs05XafKgDrtzSbIxxSdzRVZNtC8BArbmrGB8rFW1AT7F6R/RKLRqTBDWntDifM9AFV29H4No/sbcAncMKsVapRNb1jdGYMifTDVMGR8PA0SthWDtDuC/JLuoIZ4sclR3GsCoLoSr7oR3S0bfJkpriIMYgGpQkI9UDemrMHgT048UQPPekCz7Q0VQXqtAZ5lCaHbvNOFWTlsaYNWH70nUNGSn9Ws+JLrZqG7GkKggrJ3qg/JhmQ0OUwzEFMKYbA6bGNnSGMmWi4XMtmrIZmEZ9cdDuzDwu9S03pjerOYeNJj0wuJcCy+uCsCVPhT9uuKHxTgSeH+qGfo8xeC9ODKgqYteEVc0h2Kw04bYe9jRLo19KWNDKSImKHj+FMvKSMZmjVSBeX8TMlHRJjh4eHEFfNhB9WYMkdlljRoTBN9vME6NMEvL9gVW4KRvwztnpjB3t01ud8vlMZovGdmap0VKTd2m5EVyOk1C2neM4kUVGdLWjdxRPzdb0VHWLEwhHMadBOSZMyPn2eO5O8nW7RnPjXVlA+x5P1tFiC/2BRREOFQjIwQ/GU/UA43iw0AuWbCv21VilY4BpFopgOH/AHMGqPdE+XiFgSrbZgtq9RAUIiqJ4Q3dAjUhTYOO8ZPEimjBIc+tu1JiqJ/WJ4hJz4twCgy4kgNHNuW9qYZpl1tNu2IpZ6GyMM9UnOkFF530Hs1QqIXSfjyYzWDbBA5UYKQufjfXsJjX2JqY3AgtSGCVN7ZFgYyK3bDy+ecjzr/upHX7Xo0FaDyaANTjkkTQz0ctyvXDg7zBsPWmJGHZoiIhxr6L2VxDU+kRATcWH89IcD7yKj1gJivS2/suFtb5BC/oLVPBaAh3RV25vA9r2l8clYD30d4SJ3g0J5a2Ls5Kgtr5DvLStC30/Nxn8GD+/w2z8nRfsKQPxb9rfAbkjknCbrdL2PmFS0GH2tZPsI0m4hBZ89VgLnSV6wWYNcMEwfMQM663AwtFRywx6nMHckW5A9yOKK/r5warK6BMmMvwJ/E0zRuM09l4KwUw89GeaownBJExj6HFeujWIF0srtJX03eJcSxhOX4uIN8xIXPpmzAmobJqfjK+xTthxWnuRaVK2/xNMfGTgsNlGchigrwKUUyXhXXahBe+0caCM72EXVL1COFhM1w/jBRh3vwlGo3XemOoV54wesV8d7oCL17X0yirbA49aQZYHJmPa+um+dqjHLxoJFfwyhNnBeAGMAjRm7RcQXEZXwqP6KkBfQOQ2DMHUjSYe2dclnCrdJHouENhf8YvJqUTByEnxGYbZxnAK9AIYjZfRlx9/kD4yJXRLpa6HVmNgzyxWx8m3oQFMTiC+joThZwT4/wZwOSEGcuaC6ea3JZFswCS/BpB/253YKWUTqjFwMxebbwUkZeMCkwxiiyvblqAFP8Rfl2dQysSt8QxhyFmbWZRcLbcsHu99gTkJUnztjATmYPSYjP6rP/rMflj3I15U2IQOsgnrRgx7+5MU3y56qzjp6WrsP6+23ss/4XNRAAAAAElFTkSuQmCC"},359852:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEwAAABMCAYAAAGwkGG9AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAATKADAAQAAAABAAAATAAAAAAWucfgAAAK90lEQVR4Ae1cb6gdRxWfmd2Xl5T8a2tokpIYv5giVKyWIoKxiFD/QEUbqB+sX333vkZTrESsxSevLQ1WG3159z6/qh8spFYLUQtBMELR0qIoaOoXawNJSmJNGyF/3u6O57d7Z52dndl/d/fl5qUL783MmTNnfnN2ZnbmzJnLmPHM9Je/P9ML/mmQGVeEmd6yVHE9XBpOxTzxPxeTKgDmDOMPDkVx3lf3C8WThgKY0lRBhCfA5a4CnjgrU7XO3Osl1Q+HCZw8GJ17FE8bg7Sr5Zzzi8OBf0NctRJiMisdqvxM2OsH5/r98Ms6MZVmSlJMKTYXg2Ik3SXvVb0JZJhvo5I6UkmQsHMnY6+/jlj2sUqC9tUbALsQ3L9DlbNJQZ7zXaqCqQoUQbU0Ls15RK/Fi+OKQQ9n+sFRJuWndZoZB8zBgP9Zp6dvBkS9Rp2pLK76Q9JGA4n+opQg84UpugpTXZiIbMJUIYQuwT56pZTWGUEv7xSgM3F070hGSzpRxc2epHcU8Kghq/jFYOD9SCXM0NWZTD6kaeRG6ds09WYr4KJxwReGi/5XUmGKsY5QJUSVzQlTGQhnZ+WeUAaHmeS7aaAcWzft7X36aX5R59HjVmFV0KmO6hTW6y2/TJ3kQzpDUdwT/q7FRf4vxZMio/72H+pvm1VG1dD3/PcfPsz/Cv548pmdDT7XRBAEBGHwF4R4YmS6jlxDyTWEEjGMQYeiNxt+SxHGDTMTMYS5kKmKzp1jbP4xy9TM2XFfMZWFqpnOyiTbY6miTKw7P4dMIcAMYc4KbjFJTk6Yq4Cafk68im9WfvpBufaaycWcWDvtv8eGpm4Tlwbed8ShQ/w1mzCT9uabJkVP8xCpdGzqo0BnqxJXM0iqM+77e6oUNHmUINBTZEjMzck1Z94ILiNe5dEFgT8jTAno9YIjksn7VDoX+v4Hlxb4n0y6VZjJpKcxMcgomtdpZXFaYv9jeo1/T9WXDXmlwDBvhpH8eVnldfLpE3uGVmHbiso4gTX9IhRVZstDhxwu8N+beTlgdb91psCm6a23+NNzc/yKKp8B5hqbO3ZI9vDXytdvp09z9uTBjEhVT6VQX7ekY9wFChKrgALftm3l4MHnemQk92EUIz8GVgTKJaQrOqaWffvkXaLXkx/rqhIl1/nFVgxGuBwEfxSSBwsGfSKSIl7zlkBBp17ph1fZUZqgsNo4ejSybqXBu2ULY3v3puMqUxyf8GeeSewZmQwjIbA7MGhjJ12gIPimm6qI51fid9TrL79K28z3VikCni/cL9iNlSqwSyxbVWF1EC8Wh4Op3XWmjJ+VvAq1sLTDKqHSagMcmV5N38fTtNHZWlK0s+xNG/3NBw/yt3LAQKAd6rvDKHgN8ZV6aLVxilYbt+r1ZTSmZzz4oLxd3+7peW3FbYCUbCcwxYCwNxv8EN8xndY8zsNNG72b1StzyakEzCyMb9lyGHyX0SbQzMumaRnD+RPYq2Tp5alGwCD2oYfkusuXoy9FTN5LAN9HpO20hL5AH+FTFD/mcf8XZJM4Dt4mTy1g+/fLXZevBC/UmfMAigvx6HDRe6wOwErA+n35gUgGuZ1MnYpiXs5/tTTwP1OlXCmwLuY2T/DPLy76zxUBdALrej6jil8ZDqfudIGzAuvtkx+VQdC447oqM+k0j52nifVGk450DthKTKw6EBe4zKIJNoKuZ3sdFOIwQmLLaNIzwOoYLkxB46Rhs8WOX5eR2shGnx09L41/44CstDV76nucnTyZ6x2pnKLIyAyRFk41VvQtrLpfrLr/dAGMl/mjzBiY2mS6CqwYXTvNioEV2q9WDFVSkbJ/C6wUVrjuwuqU7c2Ply+FrPUybbvupSXB/n6inhy/fE1VT6Ayo+ulANZG13n0OMwW6ajUM652nMwWn51IYKSYT0wkMM749laBtWV8oRXyhvSTVNSvzI7b5HyoSL4l71QlYJaChaT7ybahG0/UGRQKHTkSsbNnC4tjMfa3Vl+lqk4HpWgqLLIEKR7B+PME7P8mbJVxtcPpafFjAsefuNpAzPpxmh+vf+qYoCBkLDMTlS+yj+HcCWaxUefntIiU6SLNbIGZLhIM3nGA4zAMMpLO73uV3RFQqMtHndDFwJLzwuRstctKIbvofFf3vkpf34EDctNbbwfnuwbmkk/buMxRYTqPwV6FQyZXwa7p5vllCgwVx24/ZHbsGoQpH240Ji0DDJmwhZJanV5BpoBx0zhI1X17lLwcMGQQuBsIXOeag3+Q7XQXGKzARuBu7bLP4URXOS2hPvNJR6WZodLJaA3/TRNw7OKo6E1D/RS3SEYpMFV4Zp+8g9ypXqnzhVBlEdKq9Nnh0K98blUZmF7JTD/8Nplpvkkg1+j0XJz8pKY8/+sLC/ylXF4JoRGwEpnW7MQEH32Ksejj9Fn+cGmjrFJ0Ikz18g80TH475YlfN2m8Lq1qvBOFoTvyIHyE+hWcA50DvyrIOnw0y9HJA3tO+t7jNpehOrJsvK0oDBPK2/8N52XE+m1NKjawzWg85IINNq73Hi07vaoiv7HCYEV+42z4VJEZsgqAlebB7H7LFu9h3YmoDobaCsMZQBiFv6Ghtr1ORZPGiwWKJ7xPFn2rbZgrKwwnOCwM6TRQrrMJulZp8bLT8+5xrbzMdpUqDOdvkQxfvNZ7lNlwM40eJ7j3Eds6Wuct/ILh/AbOF6tdWVAI2oi2os26gsy4tYfFX70L4QkSctXcaEygK5mm3nZm4wbvNttXNaewxFEgpPPMenuOqieGdRo+rtdqnbryvDykIXqneTMsMySx4Ey8KuopC5VVPcnMA3NTupDprs3MkR50Ee8JtaxUYfCJSTaLWu47UcbD8OVYNyNdpAqDAxENw9wQvd51RvO4SHSTaCJWGHb5db2tridFQjexJYQazeErd/FSSGbgEpNIiYZsp98lRVrPPkfmsfn5dNC0LJ9fWbfW2+zDsXBcZbWMLCPOPBzNZGoJvLB33awRWo/KNdCViL0wWxe+OgVCV3ThIXZZXZ0tbLtVpCsM+Gva6tC2TkrkbRdwhi5hqpQNn7+2vD9QIWRB5iQ90JU/8hwfe7qEg+STB9E8eyPVmXjRFaFJUo4NC3QFh4Fj9He7jWGSaKYHjokNHjl4cDPcfKrexzLLWdLHBJf+Ly0ZE0cq8gwqAztOWV027m+I4ZD/jkbRcT3jnbhFA6QjXHaJfXhwqInbnha29ki4xkvT286dnK1f357YlZIEHaGudIZucmO/DtitZIq8+2665Wi9b1FHUjPeMketIqn6LaVUYShQ+nsKRVI7zlNf2abVNFWY6eOQ2anGzg90paopqFVXjnRhOoRkFIYG4/5Zl347TZUK590ijzyXXJRB2boPdGC7i5cZkrrQLn78Q5c/yfGie4G5HqYagouE8OIijZKP0/XxoK1oc9ElSmcP01U0cg84Tuba2r/3pcuZ1Dgdq50nt4E9VdwGKilMNXTkLvD8alEcFMU8796qbgLQQy2FKcXF7gNR8CyuPSratRRi6Anh31fmFmBrUyOF6YLwcYgkG1Cvm+hTcpxmC876RfOT3i5XfGyF6YLjU3MWPk6OCoW/NaqX6TRO6yjBvEfM0+tx6mxVYSaQ+AcTlqMvMhk90PUxHi640C8t/GR6SvxUXd0w8bSR7lRhLoA42rt0id1F7qi3RSzaTVMp/ckddI68gRq+AfftUBYWTopfIOdfsgrzk8RDVi9Bv9IjTqxdy14q+qFRV93j0v8HP34CtimTzZsAAAAASUVORK5CYII="},283440:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAVCAYAAACkCdXRAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAA6ZJREFUeNqM001IY1cUB/D/fYmm2sbR2lC1zYlgoRG6MpEyBlpxM9iFIGKFIm3s0lCKjOByhCLZCFqLBF1YFVJdSRbdFHRhBbULtRuFVBTzYRpJgo2mY5OX5N9Fo2TG+eiFA/dd3vvd8+65ByTxshARTdf1JySp6/oTEdFe9T5eg5lIcnBwkCSZyWS+exX40oyur68/KxaLf5Okw+H4X+A9JBaLfUySZ2dnnJqaosPhIAACeC34DJRKpb7IZrMcHx+nwWCgUopGo/EOKwf9fn/1CzERUevr6+9ls1mOjIwQAH0+H4PBIKPR6D2ofAQCgToRUeVYJUkuLy8TANfW1kiS8/PzCy84Mw4MDBAAZ2dnmc/nub+/X0MSEBF1cHDwMJVKsaGhgV6vl+l0mqOjo1+KyKfl1dze3l4NBoM/PZ+diFSLiIKIGBOJxA9bW1sEwNXVVSaTyQMRaRaRxrOzs+9J8ujoaE5EPhQRq67rcZ/PRwD0+/3Udf03EdEgIqZisZibnJykwWDg4eEhd3Z2xkXELCJvPpdBrYjUiEhL+Xo4HH4sIhUaAKNSqiIcDsNkMqG+vh6RSOQQQM7tdhsAQCkFAHC73UUATxcWFqypVApmsxnDw8OwWq2TADQNgAYAFosF+XweyWQSdru9BUBxcXFRB/4rEgDcPouIIx6P4+bmBi0tLSCpAzBqAIqnp6c/dnZ2IpfLYXNzE62traMADACKNputpr+/v8lms9UAKAAwiMjXe3t7KBQKqKurQy6Xi6K0i2l6evpROp1mbW0t29vbGY/Hb8/IVIqq2zlJXl1dsaOjg2azmefn5wwEAl+JSBVExCgi75PkzMwMlVJsbGxkIpFgPp8PX15ePopEIs3JZPITXdf/iEajbGpqolKKExMT1HWdHo/nIxGpgIgoEXnQ3d39kCTHxsYIgC6Xi3NzcwyHw8xkMozFYlxaWmJbWxuVUuzt7WUul6PX6/1cRN4WEe2uA0SkaWVl5XGpRVhdXU0A1DSNlZWVdz3qdDrZ09PDWCzG4+Pjn0XEWvp9KJKw2WwKwBsA3gHQHAqFfr24uMDGxgZ2d3cRiUQAAHa7HU6nE319fTg5Ofmlq6vrGwB/AngaCoWK6rbsNptNA1AJoA7Aux6Pp3NoaMhjsVg+QNmIRqO/u1yubwFEASRKUAEA7rASqABUAKgC8KAUb5XWCOAfAFcA/gJwDSB7C93DylCtdM8qABhLc5TumV6KQigUeubjfwcAHkQJ94ndWeYAAAAASUVORK5CYII="},1200:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAACPklEQVR4AWIYGSB6yX8+QDtlDRxXDIThMFObPmRmZma2m1AbRjMzMzPb/YzdGPpwUoc56cJPWhk3WlsXMt9dGc188+/s/rsPpbg+aEnoEx8VLZQz2gXiusV4bLfAOIWKx40yPKZryjyqA3A5qGbwBcLb4GxEG2BEm0DSP2Oq6T04oQZ3hzZDqWQ6rFmgVCRdiJtAp9OhjVBK3g0Nt2vH7cGNYjKoAURQI2SHNMApGU8FNwASsja1kGucypaxkLVJ6ln3BQJroS+gDqaC6sFHlwuoF0f968RlgmJdPqgafMgbUAu96xruUz1t5VcN6Fsjzq/3hshLPdS7ptmrAoa9KuGNdx5u28grlX1vvCr48JpmjzJ46VHKazb6U3iViRpP2buqKaQBd7oVw5xbETu/0QtQj1sxn6MZK5pcirijcwFHlwLxyLmAFTrlrX0ckIe8su+RBF0LmMOyRoc88HTMg6+OuRwdJEqfWCbh3pWGW1biXsc8/oS8UpGUZtCspR8qiz20y+a4hCyeuNIFqCaRHoZKdfHDJWbrDKbZZHAkZKxTYsX/21bWFn2q73esLX3cVH7HMpXhIvyXWqTx1JUuQDXLNOVVqri91JwMXubJfFqCZkkMlUq0arvUzweXPPH1L4fMUrRqs2TlVUozTBLpGyyzzG5qViY3WadJIps0ucnLFmHM5CZ8NU1kIyaJvIIwTeQjlJN1ZnqDlxLSNyHpOJ6kWW7o/za5zg4fv8YKj11jo5IXilHKUW2Toev/+gljMdTkqNJScQAAAABJRU5ErkJggg=="},343456:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAB30lEQVRIS9WU3UcEYRTGnzNt0a5E3XafRERKREokIsXuX7EqSx+W1a6IbVl9LJFuoqv6AxIpKpZE2b6ULrvrqrLT1+6cTDuzM7uzM+/uRdF7NTPvmfN7z/Oc8xJ+edEv58ffA7yb78esoMe5Ms5vX5wr4YcVT8Qu3lLB6MYbk1YYw0hkTmD+6TKlqFG2EAtgZP2tdFabI95cKT87dhALYHitMsDdbQ5gB7EAhhKqRIWruCSn/V1/bcG2BTC4XFkFxcrtTQgAA3GZoXcvIUmMRyOJ1R4magJzdy6GsB8QAPpiagW5RMTwHUy7d5xatn9R9rKEbd2Ewym3s0S9UZlZOyjlQ/WH0g1m/no0IwD0LKgS2bhcxtyfBAWA7vkCQBJk9sAqFjE1MXQPgGRIAOgKGwAm+E7nnD3ojMhesOYBgNOwANARSpu7KD9BTkbrmqoKns0LAO1BFVDpMprgfMHj3EVts2njjivDVL099SOlogJA65S1ArurodT365gA0BJIM4OeiFgCozE3cfQMhgRwnTaxMsDvABq091cQq/d2/W1cAGielLc+UOv30IuUUapXQexmIr822UtM5KYq+D+/snINSQkAroyEcZeLs/yBxP2yZ8zsYLkqV+p6Pv7/A74BRZatGXoUJZMAAAAASUVORK5CYII="},877532:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAmCAYAAACoPemuAAAAAXNSR0IArs4c6QAABDBJREFUWAm9WE1PFEEQrZ5Z2AURBITAEvnQKHpXMCF48Adw0IuR4NWb/8CTv8KrRm964Ad4MSai3hWNskhYEeRDFPYDdtr3Zplxd92Z6QHWSpodpqteve6uqakaJYeQTGanP6cLU0o7k6JkQGtJA4aDklVKsqJlWSvrZYtKzg4Pn/hWnjL/q0xVP2mdLGXW72pRt2E0prU2slVKgbe8UaKf2sPdD88rVTDxGQkOAtbHha1pRzkPROshE9BAHaUWLW3dvzBy6gkIO4F6mAgl9jm7MbiXd55hxZfDQOLOwem7ppR181y662uQbSCxD4sbE1JynoNUb5DxUe7D8arY1o2LQ12v6uFY9W7OL2zc0iX9olGk6JPY9EFf9Tj8s2PcKRrAtLmewfHfU0Vlq+u1O1dF7CCm3jZyp+otjMeKmLtSGXMJT5FP3/zCOgPdOKZsS0lne0raWpulucl2oYp7Jfm9W5TN7TxCFGgGQp/uQ6b1uPe0+js2/2VzxpHSIwMcV+UkyPT1nED81g1TkHJkZW1HfoGkqVhi3xk92/mY+i4xJs/9zMa8aZ4iqXRvm2B1oT5xCpJd/W1ODnkuMdw1yiTsLpcZ3ZQUj487FUXKXTWIl3c1fAH+6pDAXS64UT4Hrab9yYgLxlTQ8dUzpS5tTIWvPOpafCHjQK+YGjLQ40ocG+ztGDklWCXgGA33WvynLw4574k1sWFxkJPCFCLGuWZi8D91yIkx5tVRRr6Zp+LKIWzS1kGRZ+yLyTOuxLUhp9g7Vs7ooaVUFW8mWtrElDRijC96c+FrhhmdyTNKqENd01eTh0dOFuBj1+N8zTCjczeChHOxsn4FEDkl2DhgYRcq7htdktzu0t6xvMRrHZJTgt1M7YTp/zyiH1s5d5jaGOmBk8UWy0j5PyqRk2L6z+v8MjNuHN/JZltYZbSkmiSJWsy2y+alkpYCcl0uv+dWFYVivLyH4kCnVGrARXu/sP4aj9m4CbFWEOnpbHEJmeiT4NpmTnbxayRKzV0a6b7qVhdsRqOMLERkuqdNBvvbjUkRkztKG9oSI0o8Lq5mVKGYsC0509cuPL6jCI91aWVb9ksBaaa2UHQrRnTI9Zwydoaw4qOSIjYxuHtePNb6Y5fufULw9xbBz2ZkDsmtquseSndIS9LvWWqxDvV/rrAvi9mfVbYg8m50pNtvRsoVLFTYnbBth8KqZ3GaQX7MpIhNTGJ7Qp+u74rvGT4xKrl9Hdp20Cw2JSzp7vhr7IEc1y+x6YO++KmgsqcM9MG2fWs7X8DxNlToI+gTQSA5MJrA+N5AZsSeCCQQNgHDQYy3DSBHzMEw35FzAECVq2cwMhhHFWIQqyq2I0mEKQAsiXEPYw7DwTAV6tKGtskwH5Vzfh6rvBl1DQf90JnCmMQYwGBD4zU1WVxzsJxi5TKLVBS7GP0Dhd5psFvc4hkAAAAASUVORK5CYII="},640392:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAmCAYAAACoPemuAAAAAXNSR0IArs4c6QAABnlJREFUWAnNWGlsVFUU/t6baaftMC20shWkoLKoBAmhoLIYWQ0CRoiEJQFcAn+UqD/0B8GMEP/oDyP4x2qiSKiCURMgkVUDRIFS0Ui0bEJbugClQ2k7nbazPM93p2/2N22xEE4yc+8795xzv3fuuefe8zTcAa37wDvUH2hbbBjaDFEfZsAolJY/Up0GrU7aWk0zjmfYc/aUbHTWq5Fe/Gk9lX1jq+Fo9jSuF4WVBjAFgqpHuoJOBMtEpzQ3v+CzbRu0jp7odWvc7Tb0Sq1xFQxsMQyjqCdGrWQ0TauChk0jjYKdbrcWspIjPy2wdW7PiA6EvhfvTE5npNdjmlbugL60xJ1fbaVrCWzNZs80hII/iKcGWSn/L76GG9BtS7a/l/9rKjt6KuZat2c5QqGf7xooTsoXljnUXClAJHks7CmCMjJTyPc9S9M6oeuzEj0XBywcU8HTd9VTqV5NltUBW3FszEWWkrsvHOh3KaZSATJ5sqycmxhMlt3sqJQQ6v3umzQuE/OfysaIITZlqvpaEAdO+HDmXKdpumet7PxKXdISsIMKaimZPFs8jed7k6ds8m6rF/bDM5OyUHM9gAvVfgVgbFEGhg2y49iZdmzf14pg2mylVCJ/zHOu/IKxTMLKY8zoEuxpk+dDw+yYMzUL+477UNcQxILp2Zgx0YGdP7Xi0Kn2iHF25j2ZheXznGhoCmLvMR8KB9qwUOQPl7Xjcm0gTjb2gY5RWICt5prShZY0XQBsei0PY0ZkCH6gIE/H4pk5OHDSlwSKRg6ebFdjlKEsdehJ2qCtdCRLuJLjOg9kaYuthAcO0PHyon44cbYD7267hfqbQYwbmQG7hNSeoz4rNTVGGcpS5x3RPSk2aIs2rUjeYQox6bwlyCvFpY1YpWcnZ8HXYeCrvRIvwfBI0VA7rntCih8rG9unDmUoS6Lul2KDfNq0JMFCTLq0My2FZGC4BPKlmgA6w7EdEc2M7OcIK6lDmU6/+KCLaIO2aDMdERN9at6jUsoGgwacWfEOZfDn59kwINd6SThGmapr8cFOW15ft1u1UO+65KUERea5Kj9GyY7kzjKp7O8OdHQaWDHfabKSWo61toXwz+Woq2mDtv4Vr6UjYurWY7+Ut6NePPTmilwVyJo4r63dwO5DXkx53IFXX+gHR8ypmpWpKR7HSvd7xTsGqMNN8NbKXHhuh3BUclw3VKitdd9slvzhSif44GAb3l/fX85aDc3eELZ80YSGWyEsmpGNpbOdKo6q6sNeMIP9u8NelUqGFNiw8ZU8uJw6am8E8OnuFrVL080nibbFLm7jfdwS2ITRGWqLE1RdQwAVV/xoagmpJZk4NuwqGUJ/l45bzSGV8Y+cFi9LiiDdbg0JQJ+KNS5rQNgP9Ndxs8k6zojJzsJBOmOUlYQ/un/D8lyV6T/8OpzDKLJgWjZempMDnovbdjXjr4ud8KcIm1ynhvGPZGKPZH+Txj+cgbdX5eLj0macvRSNP3OcLTExxmpjmWafsfL6Mpc6QjZ/3hTxwMxJDiyb68R+OajdJU34vSI1KNrhsq570YXn5JA3qaLSj5obQaxf4kK2I363mzLS1uossWIYkS4BZIkiEyvdT2K8rJWD+0iZD7sOtqmjJjyS+p8eoeyyuTmSu8K7mom25McW8MVnFadOtMSks+6TbRPNgl1zTH7MgXMST8xZJj0vB7FH4qj0gNdkddt+I7KMvaWzcyKyNdeDKtHyypREgoWYdBaj4tCyRIHB+TZUy3XGJFeOhqcnOLD/N1/kaDLH0rX0Npf9idGZcGZHl66yLqBWIFGXWIhJpW5xV2miAO9Yf16IXvaGD7bDZtPwx/koL1HH6pmXRu7qR0dlRETKKzpwQZJ3IplYFDBWyKoYjZH6aEezKEY9xvjiudcoCbK3RB3q8gpk0qWrAXzybYv5qFpiIBY+KElVtkuFHCeV8EDDF68mv2GCmOUjdVvbkkI5Xl4wmJ8QIovOQuAKGk/JVuvbqjt+ausnqc5HoWCq+ekgAowa92X5RmCqrpOyXdJH7yOcBu6EVMFrWxJbU9JMNBq7jLIi1qCvuSfgBBTnSqzCCSVuKbuwqea+/KhCZHwLlu3iufJYwH3SV5+hbMWpPGXaT1pKc4At1507RdO11Yl5Llaup33aoC3aTIypRBuWS5koaH7qFP4q+RWnq6zidMPn8Gnh7ezTT51xk3Q93IuPw/8BmK7JJsFizR0AAAAASUVORK5CYII="},441016:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHQAAABECAYAAABQ4BGKAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAdKADAAQAAAABAAAARAAAAAD5K2g4AAAMB0lEQVR4Ae0dS2wcS7F7Pvvf2LHjT4LjrD8Jz36QiCRCT0jonZAQEhA9yRzgACfOIC5wIQkHTkhwRkI8DgGhSChIOXAARZxAvCQQiD95TrJ+sXH8T+z9eXc+TdXOtj3bM7Pe9Y7tnWXLmqnqqurqnqrp78yOCelAW3mAttXV2C4mnX7TvUv0K8Q0zhFKz5VFjC0TSV6OEOXJyMjptzb1tiHbKqBra2uJzazxHcboDcLI+4QwxT1SVCeU/JVSdq83IX/Y39+fddcLHrctAsoYU2fTK9+ljP4Y6P5GwkApXWOU/WRiZPCXQGuN5G1F3cAHdH5pc0jfLf2REXK1GQeDIx4rkdDXLw71LjVj56TzBjqgM+mV94hJ7hHGBnxxJKWrRCI3JkcG/+6LvRMwEtiAzn+yOalr2t8YYac8/UbpPFzgRxDw12UdmBxBS74O6YteeSihO7KivHcpdWbWS6eV+YEM6OLidk+mWPgHTHrGROfCOGhA0H6jyMrPvIKCN4Omaz+Ai/82jLmyaIMQ+iIZjn7+/PmuLaestTmBDOjsi5U7EIhviq6FYC4osvTBxVT/P0WZW3p+Ye1zumH+AWylRDnY+u3E2OC3RH6rpwMX0JmF9avUMB5CEIS602kaib0/MXRqsxGnz7/O9On53F/A3mft+SCg0Hbl65Opvsd2fqvTUqtXUKwf1fWfisGEyK6HaegrjQYTbV88m1wnEvsa2Niwl4VlYFl2XhDoQAX05cvVAdj1+ZLoWCrRH42N9bwS+fWmJ0bOLoCNHzr0oaxymQ5B6zICFdBdwr4KLae6zjCT/fTIwK+bdTHY+JBS8rHdDpaFZdp5rU5XO6fFawuj2pfFKsIy4w6Md6bIbzQNNgwI6O/FfG5lijqtlA5UQGF/NiU6jzLyZ5F32DSTpD858rqU6dBpIUawAsqfmtgcKMdjVd2kTdQwyYiUdmRyKdOh00KMYAWUEMfGe3mW6pNDJy6cWXMx5SjTRadlWIEKKExSXHZ1/PMljqOitaMuUyyv2XSgAtrsxf4/5O8EtM2i3AloJ6Bt5oE2u5xOC+0EtM080GaX02mhnYC2mQfa7HI83ls9/qt8tZq7Ac8kLxNievYaxWLJUbHF1cwtB7MJRuNlSCa88vLv4YH4vSaK9S0r+PDk4dVa9ufEZN87+Zo0UQOJ/mK4P/H9Jiz4ktW3gOIW2dOn6TNSJHqGyCQOL3CFCby2zBS6GzZJPk9z65fHxjbcHnVBK9thjCR9uaITMgKP3jLnB5LebyAeU72aDuj09HRIivSnGDUvMNOELhy3W60tUQVoHWjECIbE9DCjC6OjfWkIrF5mwunVSgZ6reDD8GCyaX8264WmKvBseeeMWSx+hjAz5FYRwzCoLMsMMco5LStqsaDr01cvnl1Hfieg6AV/wHMCcpD5mZfLF/RC/opkGrLJmOF2qJKkIx+xnTYhT1iil1+82Bo+qJyOvDEPHGqW+2R+aQhe2BihBAIJ5XndFVzG3w9BPc7DapZIcXRu7tVe14u8DjTngYYDOje3nqSyNgLTHQMjgQZ4RDjNjdYll5TR5i6hk9vuAa/GZdfZo2EmSw25NG6a0DLhkEx5D9vphuSM8Qa8V067EuA/aXFxMfpweTl2VA/OG5oUzc4u9ZqyMk5UD5fjrytRxn9lyWmu7yFPnooH9tdedk+Is1xsAE/T6X6qhQYlSvtgiIrY9SVZKeiGvhlV1NcjI/1rMPNverbfUECfpZffgfaU4JXyiE/D8e6KJz/iNoOM7QF9/nyl36DSJcb0PX85rk2GwQkHLsDwC6tclLCPR0cHVh16DTDqDih2ETPPl2Frzn9IJk8F6vcjXh7AgGK3OvN8ZYLK0jkvvVp8GMyWJ8cH59zeb6qVj8scAS1XaGapm1IZdm6MyvpSLslySDcVvYdq0C+osK8DwGnE3KAdox7XqaUf6449secLKn1+IKHMfrJxhelGN14D32Lhb7bhdgvnucmRh2Ay8+3T8bNPvuHy0pql4X2uCsTc+npSLZKzuwW9POqFQiFWKpUoYjTBacSYFuXIqwVe+ZPJxNNa+Q4rg/JgzzFHtJI1qKshlcRicaz3YU3WzFcsZt/VTdJXU6leoUm34OeM/6lXnevtBRQ/A1Nkes2ftpc0jYZUlSFGA5xGjOmD5KjjBrFYZM6N3wwvm8uSbMb94yaJZIIk4t5D22HLLeQKX7Tn1WFBp8AfYjfgMsQI4jIvLtMXqVSf9etzNwMuvHJg0oxFjKX1IRd5NasIyTAciCvIliRhSBRBhrgsr9DIQxDlpVIRWn+YhdTovKXhzxlb5tbWVk1jPT09vrfUXCb/hZqFNiiEXTazsLP0+Pr161YXU0f+8q1RXNzoIbAfd6A+aqOWdUOVxwO8q/gYoYMMJ26IETiNGEGUS7IKPBNauiX364zd7EGAOn53vaZ8gA/FZYFYSXGZB3IlOYBv7v9XVPVKKw8fPlRVTauECpdJu3BYy6VdoCPwhxiB04gRnHJ77n3aym1Z3beOFnh5SPsHfMysZbEenVr53WTwqLuqUYjxU+HO12AbBbEr4BYLymxbLWFF7QFO/QFVh4ZC+rZSqQhawgmDZVEBWgcaMQKnESMoMZDnQQ4YQc8jz8KY5jRiBFFulRPyXLdauRo/17M6r0en0ZJNoZfjseHxQ69xXv22TXl+fj585864NjWFfeMMmZychHWF+yYEnYbPqZHc/mZB/QX5p5mMRl/7Z42QNzB+FmEcrQVhmOmehnHUT8jlcpc12CZTK7copxEjIJ/zMM3pfbm1yeYcgWgRhtMQpSGY82jwVR6VUZllzbi88a7wWTulFzZeM3p1V4GFBRli8fiBAUUdvwH3sGVoRCb8kBWB04gRkM95mOb0vtyzBYMBfEqJdtEWfJ1JJzGybQz/69ni9r3fDb2+dcv60TPFjeKoEbcGRSylCnYghW9VIEbgNGIEUW5x988H6VvypNq9uZ/HHyqTzZIcHG4QTyRIEg6/If92551aNnGyb18VhFRY52uwzgeM+TiNGNOinAKfgS5ilHOgNJy9dKl3Gbthmk6nI5umWV5onAaNN3AgdgMuQ4zg1Bc5Yg4rn3hW4/1H8qnTncwOyedgYLdBLB4jp47o1Z9iJj9eohAgZgVoL3qVZZy4sWKr1qFI+8aOpKkb8OGQbUXXdRYtdZUnRTgDjcLBZ6ViKVyGGMGpj4sYfNcLMQJqIM0t4iYKvnVSvZmi+t/7QRnw4J06nw668crKPpzyRsEMhcMsXyxYLcwIs5IBa23AaF7XYbseek7EmEbdUhHkgDHdKOTzhXJexIpqdEGXvEPhC05qaWnJ6uRFi4vAOA8HYjfgMsQIon6d8qHR7upmZFlr+pyFLhcPOySgq8XjKGA7uzOMN3uhYpzTvAE0XGYURsICNAbECJxG7AKyXFqnDx48UOADwM5b2SXDUbGSvcOVvSR/SzjugOZLu5/y9woas9YdMrbLj3vu3r1bGWSnwMJdOBAjcBqxE6amphjmRYxSTnvZg3UU6BPQt6aBXH9xNWs4rTfPOe6A6vn8oL3WOUjgaILYDbgM8WFAtC8VaE6BmZG1S3AYiz7lgdc4fbJ0smY0zai6MXG7BVeg1raLs25cZq1SnfKDOKL9XV3y+ib7QaY6cjcPFCOaQbZB0sWlSNgY20B3AQ8xgiB2Mnjeir6Vy/PcExvGN9074JcHoqWEUV4m7G1SYYPFCVil4UaBLgGNGAH1cMbkpb+Xt75JnK4stHcLxacp4ozW7ycsGBcO+SS00FVI8afKnEZ8GEA73Abm57SHPeVyyqzacThMmX7kaZefQhiFjajdH3oqxZSFBYoY+ZxGbNfzi06lUnqny/XLm2Bnc3OzalIEDMt6BV+7do09evSIInYrlssQu8nF/KI+BLS9u1w3pxwlDxzOt8hci7l9+za9efMmQ2wp3AR0Gw7EcL55DWQEdKyAi/oY0Pv37+/dEJxGjPlR7nonoPA4oV26XPt7ucfpP3tZJ7pDZK9Ih/bHA52A+uPHlrHSCWjLhMKfirREQOG9+8Dv/bXKNbREQOEfavzKn/vz5Ky0yjW0xCwXw1DPd4pOLly1Sm6t7xTVqmlHFkAP/A/vl0Vfys2toAAAAABJRU5ErkJggg=="},249032:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAANCAYAAABy6+R8AAAAAXNSR0IArs4c6QAAATJJREFUKBWdkjFrwlAQx+8lwUHI1EK/QTu7ORTpplLI5ldpl0ItdbHfwG+QWRB1lQ5ZxLn9BgW3gENQXv//Sy6m0KE08HLv3f3+uXt3cdJ4/HDYEe8fsHri3CXsHnaD9eaWy52hATd+NAr9YPAMaIGVSRQlEscXanmGn3E/HisfqTrPn2DvpNXquPn8S33lawuz9UmSSlGkkmX0vriqpMUvglJWvSG8gnCHUu8DpOYdppbB9/u+SdtZ4+DIU9RD7e8GuvXaGUjLs8WUAx9ol9rtjzqAjQl/CAiE4Sd5ZtrL4XDTFFkGy1jHTqdr8sy0kePx1gIm4NkyWkw58P/rXjXpGeegba0/e95U7U7hmZEvhxvHE8lz4RxQ3lS7xObwriy9KB4pkG73VVYrObcT3r/+e9+C4rui5W5tyQAAAABJRU5ErkJggg=="},714997:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAAXNSR0IArs4c6QAAAr9JREFUSA29VjFrFEEUfrO3oBCCpPQCBzYJaKliUlhEjAlJ8AKS3trKNNpeJWgTK/9EEO6EhMQjXmGRiFoa1EY4MJbBhIAHexm/783subvextydOrA782bmfd98+2bmrZE/FDs3Nybt9qIYM42pJbG2qC7G7KFuwq5LoVA16+ufT4IyeYN2fv4yCJ4A6EbenFS/Ma9A+MCsrb1P9XvjNyJbqYSys/MUBPcwx0DJPuoaaj67MjREJSJHR0U5Pr6E1m08ZcwfQW0x55lMTNw3lUoEu1NSRFAxIlH0HKNTeH7AaUWGhx+b1dXvHY8uDbu0dE4ODx+CbBnDZ/E0JAzvQB0XqaVDpEq2t1+idwoEXyUIFvHd3/l5p6oQzytQWQXhKBwaMjl5K1YWdBD4uWKSMLzWKwlx1Ae+ulBiOUylUEUa+Ch6i54WAnq9HxJF8y9V1m6/hnkGn/AqN4hTxN3lAr8yKAm5FIPxJabDFmNnZ8fxTT9C7j4CfyEbeDszY9V5c7MTT9pxyRv3G+SL7sZCYTxAo+ydalmSGKyf2mPV1BcHPoSSaZBBJM5Jl2K8kuzKs3YXV3a9wHOXHIxRiT0wdrX+m68g+ODhSiHUuLsrPvE5RHnKcqa7bmIeHOC+sMVf5+hEjz4HWy23gYyxjNEeGMf07hLJvYGzMcnaXZcSRed9/zcqaqph7cWukwfpdJcuEZqMUR2Nm6i5zavsTZa8lZ8yZrzZGaN6kNjWZT1kSZYB2h7LnVEkRoXC7bDFlaN+NAB2ypVYHnOLA27XITOibSFxWS/ElEvvhmK43GSZdYmgRJp+mRmZtJBP7MIC80lfRX2Zk4gFzDi1O0WERPrFuwFVo8iyb/pRpj7wVQxiOUyi4xpPlP+SymO+nn5OePbcsejt5yQmY/3Pf7eSZEroEmMZgc3/gUSKMRsbn7K+SfsnGeVjzs7LQI8AAAAASUVORK5CYII="},729860:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAAAXNSR0IArs4c6QAAAMVJREFUKBVjYKAWOHrxjtjh03fnnDnznxXZTCZkDowNUvz3J8O+//8ZOExMGH/DxEE0hga4YgbGi7amSvHIikFsRmQBZMV2pkpxjIyMf5HlUTQQoxikgQVmwp9fDN1AtgQzH58lNpNh6uB+YGFmqgO68PPfzx83njnzjAumAJ1G9cO5e/J//vw/wMD4/z43I5ePiYnUN7waQJJHCWiCOwlmkrWR0kMWFkYHhv+Mit/+f98IE4fRGBpAEnBNDAyX////j+JsAG2BVmvsLWXcAAAAAElFTkSuQmCC"},101319:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAANCAYAAABy6+R8AAAAAXNSR0IArs4c6QAAAUlJREFUKBWNUrtOw0AQ3LucQQg3YEf0FFCnRxY9Ep+QBiT+ABeg4ARRmD+IBA1VlBp+wKKgiVIiKOgReTSgADZebnKcFRBYbLPnnRnf7O4Jmomd1riW5dk+kQiYyBdEAyJOlFSn542lvqVKHLpdrtSbw6OUsysW8oYkb7tVz0PGN+rAI+YpX0F0eTs6FMybjrNQOztwH1H7ip7Ovd2T506avnYeWiOUmwKW8Kc59V1Qj574Iqpqhya0cOU9m/Qdobak6UHGP26w3CIbXMbga48iECK/LtCSg+GJQGFKruff/caFRVuH1co83WcT8hXG+jIcrGsQTRcx248tfrzRGvjaHid6khsWKMuGx4nE4ojyENMpExg8D8GXZtOyjT38JUQdOJFsgz/dA14EFqxv3NNAjCkt6uGgV2MpDyFYbSwfRxoslgdr/317n9g/qZ9r4ir8AAAAAElFTkSuQmCC"},985684:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAAXNSR0IArs4c6QAAAr1JREFUSA29Vj1oFEEUfm/u4O4MIilN4OwinKVKKosEtMwF5FQUf2orbbRNq41W1kZR1EOIlgYuhVVQSwPaeWAso8X9wd0+v29u99isYe8SVx8sM7P73vfN23k/ozJGLq5250yDZTE7K6JlE5mhiYpsi1hTVNfV3NrL68WvaVDQ31tqj1snAXIfBIt7ayTeqjage6d+Y+pT4otf/kG0smH5rW+dh6ZyE4aqKjtm8kZzeILcVlAqwBMR1+nNBBKcgM4SdKrQmcbGTE0eVY6Vbq0saD9OuIvo8jOb7vc7r81sQUW74uyBFQ/dq1/QX3Gj5Lz2yo5ot31XAr1tYkXsbiOfL51/fkV3It0Rkfek2XlHEuzse05t+cW1qY+R4iTjpSetUwPTNXg5S7JKuXQu8sxFAP53hSR4N79fEuKENvPcKDdMzAjfexQe/Af8355zdiaNBLoIPBEc+uhvRGDRSM+CQN/jnAvw7jQDZOjRMLqUZ5JGEgGNGz0GsBhMPnJh4GpPu8fxYtFHFw5+HMik3xlExCQ2c9GpBVUaM4THRdekJNQjFjE5Z8I7MCDjkenIE46ZiupbjwcOnJGWuWAyZkoCMCfu8xBTy/modkUZPylZFH1J/Xg0esx2W8gxyqOkQRbrwwXWXgjKRR6zbTDOsXbhVWoFpk18x1ynSetn7yi/I/p+wCOUeoi5QYVjluKLrge0pgPdOuc2EB/mWRIhopc8HjicqfNhDfeqrMJZEfmKDkzisTG6+tXiF3jVYD/xpT4jJmKFParB7juMOnRGkBn7CQvi33J5DGB5TGJDPBGrKzsjmxb7SW21PXtQMtoSwzdAYBJ7RMQJ2y+bFQ6QJJsH8Sy02SSGb3zAJDZlV0/5L618yCuyn8sJc49pwYgND36yy0lExvGfX7fiZJ4QjdH3rJQLJHPRp0nSOLb+DXRWgKbEuiXfAAAAAElFTkSuQmCC"},404508:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB+CAYAAADvPdXPAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAZiS0dEAP8A/wD/oL2nkwAAHKVJREFUeJztfXuYVNWV72/tU/2obrqRBnm0yMPw6AeIQY2EEAMtIDQaEkFsDBqj811nnEwy+TTGTBKuM7lmbjJm8iWT+92J93p9BbtpFCVCN9hIY0ACCQakn9goT3k/u5p+VNXZ6/5xXvtUF911qqq70anf99V3nmuvXWedtfZ67HMO4TOAytqGQbKLJgnm0ZKRQ4wcFjKHmHIAgIkDJEWACQFBCEiiYyKDP1w2p7htoPve16CB7oBXVNY2jOROniOBL4FRSMyTAQwBcEQCpwXQyYI7SBcdLKgdAEhyFmvST5L8EsgUwHAAYwBcYKL9IDQJ4D3KpNplc4pPDuT/SzauegHX1rLvdGfTfGa5EEAJmPOZsJdA9ZCiCZnaX8rmTv5LPG1XbN5/Kzr1WyG4kCGnEOMmEB0HsIVIVA/PLHx7zhwKJ/cf9S8GRMDMrAF4HMAyAJMB7AdQCeCXRKQDQMXGxumQ/CBDLgfoEwjeSezbfN+CgjeIiPuoX7R6Y/PXmcJzIWkGwNcRRDkEvVy2oOivfcGzr9HvAjaFuxnA7O7H8O7amuYXwuHwEwzKgUAtdPp/y+8q3tbf/QSA8vUNX4bGD0NiDoEDIPq3Ef7iVz9NWj0QAn4SwM+vdLzxo7NHGppPP7PsruLn+rFbvaJyfcN/00k+QkTDiennOZT+QmnpxK6B7ldvGAgB7wZwcw+nvE9Et/RXf7yifGPD/ULy30ngBgh+avmCqa8MdJ96wkAIOABgUA+ntBEZ4c3VjNUb65axxE/AOO/TxGNLFxQ3DHSfomEgBPw+gOk9nPL+iQvYxIwnwEj31DghSIRn8/PoRwl1MkYYTlnDs2B+ECxeGJGVtXLOnPGd/cE7Voj+ZPba240TG1vOjOzltEpIfMezcAGAkQ6J78TXO+8gIi5bOOVxn0+bCeLpp9ov/+m1txsn9hf/WNBvAl5dXb88HNbfqz90rhzA1iucthXALyHwGxCCnpkQghD4Tfy9jA9L5xe1lJVOmUs+bXM4rL+3urp+eX/34UrocxNdyazJqobfgHiBIPG9ZQuL/xBLHGzhxDleKRn/HKXjPxo1FM8SkfcboQ9RWd3wVcnyV0xUrS0o/u6yiP/T30iqgJl5DIDnAcwAsLO1teux6vdafgGIkTJdfu3+uVNPeW3zeCsP4yDORO5PG4qc4URXZS751c11I0RQvMmQJ0b6B90/kONysk308wDmwvCS54akvgugrFwUzY5HuABAITwWbX/4HL7DzN7H6X7A/XOnnspF0WwCZZ9qb9tUWfPR4IHqS7I12BUC6boM+3xaWk80x8/zM3F5zBb62XP2itVVDWsk5KSMdF/JPXMLz/U3/2Rr8E51Q9PE1l4p4vWYLfSz5+wV95UW38tAXVeXvmHTppPZ/c0/qQLu6sKjFy51nNUlh2Hkmx+JoQfxecwWBshz9oL7S6euIEGnz4fPvrZ7N/do0ZINevrpWt+149JLAHGTsUvuPXMouOXpp+d4SqgzM62urn9FMq5fXjqlJNIb/q8OZtbKq+q3CMLR+xZOeaCvKmKRENeOSy8B0SwQDzJ+NMsQuDdUVjd8H4wp2eG0u1LC7Q4i0rPDaXeBMaWyuuH7/cVXWJqbBu33JOQqc/dNXhop31Q3U4If96WLby1eXBBIdic/K1i8uCDgSxffkuDHyzfVzewPnq4x2CfTPJuNtZubhlKYyonTfrZ0XvGe5HXts4ml84r3EKf9jMJUvnZz09C+5icAuRcAQtBXhKCvMHYb+2JBMKi/AMaOskUFv+6LDn4WUbao4Ndg7AgG9Rf6mpc4cyi4BZrYDqY2MLVBE9vPHApuiYW4orrhXmZMvLSo+MG+7uhnDZcWFT/IjIkV1Q339iWfuBMdlbUNg/QO2SRBP/pG6ZSXk9mp/ypYVVX/oAA/o/lFYV9N4Y07DpYd8mmSvC8l3PjxjdIpL5PkfbJDPt1XPHzxEFXU1BUihG/60n194gnuO8xDOi5jCYBJzBiwPG40EOESgA/92Xj9xrF0IdH2fOm+fwyH9R0VNXXPl82b2pSELroQnwaH6MfE4vWl84taktwf7DvMQ9oDWMmMW6824QIAMwYz49b2AFbuO8xDEm1v6fyiFjBeR4h+nIz+RcKzgCs3NkxgxvwcyvtJX3So4zKWgJDVF20nFYQs08okjFwa9hNmzK/c2DAhGe2p8CxgqeMpErS+tHRUtxptkjCpj9rtCySlr6Wlo86QoPVSx1OJtFOzW66veV++pu7zNAa/XtUyOoSur2fn5H0+kY70hGhmORhC9umLfFsohHwGZ5Hp+xMZYYBr27VOynF2b5NCjx7oyTpu0pOxtM75415eQQJb0xhPzphGx+L939k5Q/775dbze16vanl6SenEuNph8CLAPcPFkwYH0fUtAmrvnpV/JJ4OxIOuELKPnpFLOrt4gmTOYgDMbP5gLwGY2+o6g2GcayEqPQCQdSzaeQo9k4teMo+SEstDhA92fsCj4/2fd8/KPyIIW4Po+la8bRARE7tDX29eNOMBwb5+LayfusC36ToyiYwLSgxAkPMviAwBsaFRzDA1zBG8dYCZTe0lkHLMOo9MIRPM8xFBD+vqGZpsHgQzQ0rKCwn8AsD98f5X0n0VoPAzAH4aK03NbrmBwaUArBsx7e3dunnPUlXMGlxZ3fRFItC9dxWs8djvhNAV5HxjzTakbg2SxoVWtU9KS7iqWkbQwxCgNImYATbbkrZWmzQWPav8YWmwuQ9g2f15Ky+4966CNUSgyuqmLybSjgKOWYMlywcIojZJjGOGrnMWzHFQkHFxydxhaRuzo32AcS7bam1qtTmGgp0x1NhvtkMw9FPZZ51gitDhTwYXa926fSQwKtH/SxC1kuUDAP4Uy/nzbhGLrPWa3TIIgm/ezcJW3Jg0mJkJkEu1TH7ec48ThCE0ssdLkKWBtkmyNdnSKmXINGVkmmFb25zx12rb1lo4N4pNT9TtfIePaaIjxup4YVxjudS45t5guAduupg0eE1V8xRAtC0tKd7llWkywKbWWabV0SSCNJdpPkLhGMJ11wKD/Abd5Q7g+Dngw6MMXfZMT6aqRorIUHpWrD1DEMzxmCAl2942kiDgpSXFuyo2NLQZ1xx1XmgJWA9QhrovJgFLhEuY2ROzREAE7VIgMPHy5fZiKYfZYQ6gmE/rXAAjhgAzignZfvdNf02O8Rs7EtjdzDh70XHEDLAyzDrWQVgmHI4ZV0Mptu2+47Ja9MkAs14nSZbAo4Dn3Sy6JV5iEjATlWjp2p+9MPMCZvb98uX35rVfDj4ZaLuUP/LawSfBGTmDs9OPnj8EsyhuesYGgT2ODs8DSm4mezsasjMJt08Dtu1jnLkIOIIl06yybYbHjyLkZjscrRW19bYOxrEz0eiTM81Ky/D9WQ/JEgAJ19h7FTAzi9VV9bd3tYsnE2Wmtvm/X931+TMX2n84ODeTAGxaOHPiqNPnL9fnDc1NA4Asf3rAONea3mUIV1gOFjN8GuGLxaJH4VogItw8Gdi82zHXtlVwCSfCWzNY27GyFSa56K3tJM0y72oXr6X59CeYWRCRTKStXgW89p2WcRJoe2Bxwf54mTAzvfjm3rGHP7nwQ3+GNhrAuoVzCvLqPzzZOr0wvwkAiiYMP1EEnKg/iBujt6GMhzCEUjQOGOTv+apeamPsqNNxS6GGa68hTBwNNB02xk+O0DwhCAdPAIBlppXxFWrmjF0xtyVckSQJP7C4YP+rG+ra1r7TMg7Ax4m01auAQ8HQZEHCc+rsp//n3fF6l/43Po2+AKDynrmFGW+/13JN0cThfwaAcaMGnx83avDOXprplsRQw57rh/ccBJy+wNj2QRjDriEMG2xc/PyhQOMhy0mywxsIshwmx2smO4mi3AjkOGNW2lOyEY7Ibi5a/BAkjoWCocnoawEDPJmAT7w0ysyTtuz8+OETZ1sLbxg9dC8Ayh2UEVx655R3PPeQATY9K2vctC5vjlJz+lO9jhF5hBvyDaEfOSWx09z35Wk+WwsH+R3hADC9aDWmVoIlM+Nl568U58uml2w7Xkmy0AYv8CdsPHlZnUg7vY/B4MkEOhprg//yv955asfeI0NKZtzwERK8+wBDAAIEO7pTBaBc0qxMYFdDGB1dPvg0YM+HOkYONYQrlCvPAFg6pG5nyzG5JJx4WyjpUIOtw9tFnzwFBoCjDJ6caCO9JjoINJGliKmwz8zEoL/PHZTZkWjHXO3CSvy7r2Fru7M+bYKGyWM17DsQxl/3hzEyj3D7NB9ExD9si+iZk8DonuCwcgbd+Tt3jCvhEv9f7AaWooUYCdeHYzHRQ3wZvpge/SQi1nX+H0Ik77/a6UNrXIRzIY+cZAzNdS729EkahgwidASByWNEN+ECwPGzjhGw9ZAMrRZkjKMi0qu2nDHTEEelZ7gsRaLwZfhOhYP6kITb6f0UGhTsCF2ItcE9zZ9kTxwzLJQ7KCM575CyHStWnB9jd91BxsTr2eVJj8+/slG63MFoOqzmlxUe5mJCvhUHky08Jzgylm0dwKGTpnlW06IJ/1kHwY7QBeFL/G1DvZpoBnKy/CLm2Rsbtu6fu+uDY0WJdcvF38wTk7JtaEwoDGz7QMaUYGBm7GpkhHTHLKtLV75b4R1NalesRyf4X1Vk+cUZBhIWcK8aTEBOO4VPx9qggHi9KxyekVi3HFiaC3Y8XmsbAE6cAzbukvjyNHHFmLitg7GzQeLUBUsh1cyXZXKNtg98YppaMz1KAEgYUbNJas8MsXbYxjyJEm6n8GmBxDW4dxPN7A/cMeV8rA3++LHZLwLQEuhTBH9zQY6JVMu7zIaQ174rMfUGwtiRTvgUaAeOnWY0HgZ0nRQaZ3x1ig/mHjJvJFhhkRX0OuGZi54ZQjj0yULgjinnB1fV+xNtJ5YxuH3YtqZhAE7E0iAR6W/VNuVNL7ounD88pzXB/tleqqV5rmKA4nSFdWBPC2PvAbaHTSsRYZIa4RacPLaazOi5nqwI3LIortjZTZ8MDNvWNCwEau/9zJ7R+xhMCKSH5XAvjb7feLz4L/XHoqYcvUIdH43rHVnPhVnPhR3GqKEMm9JTQ5yo9D3Ukx3+3Ct9spAelsOZkPCjuDHEwRzo7KJhXhrN0MQqf6bvYty9iuyBuZRmYd0ZN8lVqAdgWFTz4ktbOGxrv01vtRk5vQeW1VDCKYWnVITs4p+kUqGFzi4aRuCEBRxDJgsB6Fqel0afenT2JhivzE8Y1ngIKFkjq2dMLnOrhlNkGm+H3nGS2CJQnCX7JlAK+JbWu+jtNdjbFt/k1YN5TEdX+N/TfWICM9cAeISI4prJGksm6zzS9N7eL+mmIeIX1+4Zsf/g2RHxdKobLA2zzKM0hAtEhCn2ec5kOqVXcIdCzo3hMsM2vcrb2W/5BO5tlT4peN6f4btR04QG471jcU+V6l2DCS1SCs8ps8MnLwzNbNKunzx+2Kb4umbyt66lkhcGAcXjgaGD7XgmQsutDdfCPG7d046zZY7sSgPOxD43PSHQDnx83C1ko3vsZpQYIsPMuMPO3jWYaT8gr/facEaG76XRI3KT9HCaE2s6E9HdV1MdRtm1E+5zLW9NGUedU60GlBgsQitV/vbSnIyQxHpSZBm117LqlRBDmCT3S4kVXhv+4d98ZQ8zfz42HleGZVKFMMZHmFWefR9JJ+kBJ3SyHi2xQyUyRKCGS/Z5AISAE3oRw5peG3leZNGfzTYJZj3YnMCXJDxy7mL7vrzB/nQieg+xvG/sCuhVg9MytP0kKK5HMv7jlT+N/XPdsRvioY2EnVywg1VnTFZ3dwt1uoU+pCzJNXHeWjrjLOw8h0qvhmHS1HJ1/E4URHRk886Dl9+obS4konnxOlhADAK+p6TwCDMy3qxpmuq18QuBznDDgdMJxcOuJw/MbZYAS3UecuS8ZYZV4ZHKDeCOdyPpTedNNb2R9BZ/i17CHhsin4FKBG/WNE1lRsY9JYUJPwPW+xhMxARs7QpKz8/CZuSkvzS9KD+mGfpXBEdONHf1zp1wgJrMULxb9EAP5cawG1ETI1BuiG7kDj0nz4vuCsolBGxNxtvwYns2ibBFCt3zl1CeenDWkWmTRyY0q0M1j6qVtrTLEIRpai1BwNFQV8ICTjvd6M2THIth0ivhk+Wf2fQS3eiTASn0W0CI6U1HvSE2Afu4lljEZWp/8fy24s07D9wUD60KNS0IwDUOWjutaXSWYNSYqRu9y+12j6NOebIHeqiH3eN4oiAWN/pEWlIEHJOHWzZvalN5Vb22pqZp9r3zCrd6YdDZGfzkwKHzM+fOwN54Omhnk8jKTRn7bppgzZS0vGeHJto8aQJ1TzSRdcTxxg0IwPa8rbhYAGRMwz0QZY5psia+r6lpmh0O6drSOyc3J9wYPIQwBFoTDuvfxJU/qBEVGcOv+f3dt0+M+33QrnowAGKOKkA1U3ilrKEV9kbJhRh8YIRK1hGDt0kER8sZUOfdmVodvV9eEQ7r3yRQ0h7RjT1GFfQywvINrwyeWnbLpR8wH4TxSdc44CQirLwRA9jbYl18ZS4UOeuu1y/Y8bASzyrrztwtNov9TnnQiqEj42hF5sbDaLaHliB0LoFPfD3xhgzE/AB42YKiv0JQYFVVvefXFj7zn1tvW7u58Ste6YDI0MaJO61jgDUeWjeCmqNWHS4nzAFgD79OOwq97Ug5D4lLpS246Lov48WqqvoHISiQzC+den3LzisasNQrE8lcd/zUpfFe6QAYSUBzRiPgjHXqxe4e3wJOcYGdJZtZZyWWtek5gt5OpBjrlgeNaPQw69Hx/EEF5rVN6rcQPQk4Kz3rRWae9cq6Zk8TskdouWseXX7bi556ZoGdMEUyG6GJcuFdF9YSAIwbI1rt2PKQnX2RgnFi40j6aPtchf4EJPzKuubJzDwrKz3rxfhb6Q5PAl4894ZTRLQqLS280gvdo4/eEiIpDrV1hDw7W9aT85FPDtjxrRqbQplZwaZjFknPlglmRSsVepcFcNNboZl1A6mhGne7UXoGM2vM/CQz72bmwOI7xu/4wtTrGr96x/izXq9RT/D8IjTW+BcAFry1/bingv7Pntty+x/eabzDKz8DBMfkumu9V5q2ammaE7CSberdVaTIerJJLxU3WekDM5tJlYgbJYK+J7Dzkeyfw/jU7qCc7PS8G64f8iUAm83jSYFnAS+/c+pRML1xOXDhn70xEtvPX+wY4pWfMy6yLVjXOAolV9HN+WJH2yzBqMkQRsSPlYQHIs5xzLP1lINiQBwrERseBzD7Csdmm8eTgrheRpqWkfYzZr77rY3102Kl+fFjszd9e8WMl+LhFzkOOuvG0gpXgAhBW8UAjl5PjpzZQbb5ddqy+fdEzwCzO3PWC5YleDxmxCXgJXMnfQzm37bp8t9jpSEiPnzy4qFjJwODvfBy8rxOCtIVtiCi4mSuW86TfdwuWhiOVTR6yTCnAzljqqWddgHDPM/xut38Y0RvTmrCTxVaiPuF4COzBv1PgMZVrG+M+m3BaHhp7d7pG95tLu3pHJ+GDjBEoK1zSCispztmU7165phqCQSqWVaqQlFyyZFtdDPLSvXJ3OEy306bUerRsQu4t7clxP02hUjELeA5c8Z3CqH9A4ifWLeuOaZHLDIz054LhcPdJtBLgPY2nRjTcvjctVmZOHj05Pkxp89dGt56OXhWdaCsqpFTKVLHVFXYTpwsZQS9EsPaYzKpZUNlKaPUo69YT452E10RlQkejxkJJ08rqupXsZSDlt914+JYzmfm9NbLwaUvvfH+YxPGDG1YePuk9196c8/sI8cvTs/JTv/pN775pXUt+7HAJ/EFZgyu/Wt4hS6RBThTZ1zPB9lTcpyig52GjExPulKWyrQci16Z7uNKaRq1B4W30wbsVCaBgBMr7tTyY7gG2sXWjpPX5PqjzTffCmBusj4ulvC3C/25vr8FicLy9ftiekE4EQUrVtWtuRjo+s+9TSc3ASg/FMp4aOXflxR876FZq4YTtX2pgF67rYienFFMj4Z1XueeluNoix2jghRNY9vEquuwlkwuDXbRszHvS/WKXfRw2rHGXtWygGIrxFRsqPunTe99fCEs5U8AvA+gzVz+AEkULpAEDQaAyrcbbtLDXJOuiSVL7iz6YzLatPDz3/PoYDj8AcB5dnHA1hzz/c1Qt+FatwsOiKLddjEhgp6j0bv3Ge05xQgQndcyxLQVc3p+Z/TrmxpvD0n9NaGJ+cvmF+9N5rWKhqR8fXTZ/OK9BF4ZCuu/e3VzXXImu5v4wQo6lu7zTQOhnEicABAxjprjZEQSQ41v1XSk5QU7VkD1kpV5WXDiYIOeotIz6ARA5bEI99XNdSNCYf13JMXK/hAukCQNtlBeXf9bAdx6/eDi2TNnUlLf0/Fpx44d7D96qWGrBP6yfOGUbw90f+ICM4vyDXWryzfse4fjeFvqZxHMPIaZa8K6DJ271H6Smcf2J/+kfiCaiKQ2TjxAJLhiY90byWz7U4znAczVBPnycv0jAPzf/mTeJ1q2bntzTkdruJoYgYulxV99lCjUF3yudvyOOe0Rye2aIHXmTBtR4q9miBV9ZkYrdxz1y4uXVgOcp+fk3v2NL4+90Fe8rkas2nZ4iBZofWv+zM9NGjLYf61yaDMRzbsS3fptPIQy9K8JQdcRiyNSx5ulMyjuNyUk1USrWDbz+o4R/uJ7AHyotbbWvvFO3ef6itfVhjfeqfuc1tpaC+BDf4b/NhilwTZz2eNzRpShf41A41kiXbKcAKHfnUhf+kzAADBnDoXLSqc+TER/6AzyH8urGx7qS35XA8qrGx7qDPIfiegPZaVTH/b76aD5fFFOLM8ZCUHXubbJve0VfSpgC/eVTlmpkfYISf7X1VWNz/UHz4HA6qrG50jyvwqIh+8rneJp1osFYuG6ARgioeeT+jWUWfd2c35HKFQOQjrSMr9XNm9i3M+9Xk2oqGmZgVDnr8AI+tPSli+eX3A83raqdnIuBO4WJK9jiCOZbVg/Zw7F/W3hfo9VK5k1ubHx+8z8BJjfHDtkyj98WpMiO3aw//CF+v8A0deI6FmxoOjfliUxj5wMDFgyorKmYYwMyV8DuBHgX5WV3vjbgepLPKio2vdtgL4HYJ9IE99dNq+43z735wUDnm2q3Ni4SNf1ZwVEJ0N7sWxRwa8Huk89oWJD83cJ+kMSMlPTtCeWLSjaMNB96gkDLmDASHGu3ti4BJJ/JAlpAuLVXBQ+W1pKyXljbYKoquKMVjQ9ISHvF4wQBD1z34Ki1xP9YEZ/4KoQsIqKDXV3MeEJAhUT8K6QvtX9/b1EC2vWN98rRfg+Br7C4AZiPFu2aOr6gehLvLjqBGyhclPzeF0PrwDjAQILSdipCbE9T8ssnzfvc5f6gmdNzUeDz+udy3UpZwnGDAZJEF7RNN/vl91ZcLAvePY1rloBq6ioapwByIUMlAD8eWI0E6FBSj7gy9D2abmDt99z2+hzXtpcu+vYUL310qxwl36jEDSBGcVMKABoDwFbAFFdVlr0qQ/jPhUCVvHW7uNZl0+fm0WgWRIoJPBkMCaAxHkAp8CyE0QdADoAK/xiPwA/mP0gkQlgBFjmgXCAQfsF0MTg7dnDh26/+5b8hN/wejXhUyfgaGBmUbGxeYwGOVoyckggR7LMITaqNkwcECQCLBEQhIAOcaxsQcGRT4OTlEIKKaSQQgoppJBCCimkkEIKKaSQQgoppJBCCimkkEIKKaSQQgoppJBCCimkkEIKKaSQQgoppJBCCimkkEIKKaSQQgpJx/8HHlESBD+5PGsAAAA+ZVhJZgAIAAGHaQAEAAAAAQAAABoAAAAAAAOgAQADAAAAAQABAACgAgAEAAAAAQAAAHigAwAEAAAAAQAAAH4AAAAAqIC9TgAAAABJRU5ErkJggg=="}}]);