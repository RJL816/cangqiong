/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackJsonp_bos-platform"] = self["webpackJsonp_bos-platform"] || []).push([[3440],{

/***/ "./src/component/web/KDListFilter/KDListFilter.js":
/*!********************************************************!*\
  !*** ./src/component/web/KDListFilter/KDListFilter.js ***!
  \********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-properties.js */ \"../../node_modules/core-js/modules/es.object.define-properties.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptors.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _global = __webpack_require__(/*! @/global */ \"./src/global/index.js\");\nvar _memoryCacher = __webpack_require__(/*! @/model/memoryCacher */ \"./src/model/memoryCacher.js\");\nvar _ListFilter = _interopRequireDefault(__webpack_require__(/*! ../base/ListFilter */ \"./src/component/web/base/ListFilter/index.js\"));\nvar _F7ListFilter = _interopRequireDefault(__webpack_require__(/*! ../base/ListFilter/F7ListFilter */ \"./src/component/web/base/ListFilter/F7ListFilter.js\"));\nvar _utils = __webpack_require__(/*! ./utils */ \"./src/component/web/KDListFilter/utils.js\");\nvar _AttachDataWrap = _interopRequireDefault(__webpack_require__(/*! ../../common/AttachDataWrap */ \"./src/component/common/AttachDataWrap.js\"));\nvar _VisibleLockWrap = _interopRequireDefault(__webpack_require__(/*! ../../common/VisibleLockWrap */ \"./src/component/common/VisibleLockWrap.js\"));\nvar _Slot = _interopRequireDefault(__webpack_require__(/*! @/component/common/Slot */ \"./src/component/common/Slot.jsx\"));\nvar _tooltipaction = __webpack_require__(/*! @/action/tooltipaction */ \"./src/action/tooltipaction.js\");\nvar _appModelFunction = __webpack_require__(/*! @/model/appModelFunction */ \"./src/model/appModelFunction.js\");\nvar _layoutService = __webpack_require__(/*! @/service/web/layoutService */ \"./src/service/web/layoutService.js\");\nvar _componentutil = __webpack_require__(/*! @/util/componentutil */ \"./src/util/componentutil.js\");\nvar _constants = __webpack_require__(/*! ./constants */ \"./src/component/web/KDListFilter/constants.js\");\nvar _const = __webpack_require__(/*! @/constant/const */ \"./src/constant/const.js\");\nvar _ajaxState = __webpack_require__(/*! @/api/ajaxState */ \"./src/api/ajaxState.js\");\nvar _billaction = __webpack_require__(/*! @/action/billaction */ \"./src/action/billaction.js\");\nvar _actions = __webpack_require__(/*! ./actions */ \"./src/component/web/KDListFilter/actions.js\");\nvar _tooltipsUtil = __webpack_require__(/*! @/util/tooltipsUtil */ \"./src/util/tooltipsUtil.js\");\nvar _instance = __webpack_require__(/*! @/control/instance */ \"./src/control/instance.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar KDListFilter = function KDListFilter(_ref) {\n  var _getComponentDataProp, _getPageUIState;\n  var dispatch = _ref.dispatch,\n    model = _ref.model,\n    attachData = _ref.attachData,\n    appState = _ref.appState;\n  var lang = (0, _react.useMemo)(function () {\n    return (0, _utils.getLangInfo)(model);\n  }, [model]);\n  var data = model.getDataProperty('fields');\n  var selected = model.getDataProperty('selected');\n  var editting = model.getDataProperty('editting');\n  var selecteForTest = (0, _react.useRef)({});\n  var dataForTest = (0, _react.useRef)({});\n  selecteForTest.current = selected;\n  dataForTest.current = data;\n  var addSchemes = model.getDataProperty('addSchemes') || (0, _immutable.List)();\n  var commonFilterConfig = model.getDataProperty('commonFilterConfig');\n  var schemeFilterConfig = model.getDataProperty('schemeFilterConfig');\n  var shareable = (0, _componentutil.getComponentDataProperty)(model, 'isNeedShareScheme', 'isNeedShareScheme', false);\n  // 默认开启自动搜索，除非手动设置不自动搜索\n  var autoTriggerSearch = (_getComponentDataProp = (0, _componentutil.getComponentDataProperty)(model, 'triggersearch', 'triggersearch', false)) !== null && _getComponentDataProp !== void 0 ? _getComponentDataProp : true;\n  // 单据参数是否支持F7方案\n  var enableScheme = (0, _componentutil.getComponentDataProperty)(model, 'enablescheme', 'enablescheme', false);\n  var activeKey = (0, _componentutil.getComponentDataProperty)(model, 'activeKey', 'activeKey', false); // 默认激活视图\n  var isLookUp = (0, _componentutil.getComponentDataProperty)(model, _constants.IS_LOOKUP, _constants.IS_LOOKUP, false);\n  var smartMeta = data.get('smart'); // 判断是否全局智能搜索标识\n  var linkQuery = model.getDataProperty('linkQuery'); // 联查数据\n  var archiveData = model.getDataProperty('archive') || (0, _immutable.Map)();\n  var pinnedConditions = model.getDataProperty('pinnedConditions') || (0, _immutable.List)();\n  var useOrReplaceBlank = model.getDataProperty('useOrReplaceBlank');\n  var downKeyFocus = model.getMetaProperty('downKeyFocus');\n  var defaultFold = model.getMetaProperty('defaultCollapse');\n  var userFold = (_getPageUIState = (0, _memoryCacher.getPageUIState)(model.pageId)) === null || _getPageUIState === void 0 || (_getPageUIState = _getPageUIState.get(model.key)) === null || _getPageUIState === void 0 ? void 0 : _getPageUIState.get('fold');\n  // 没有用户个性化数据的时候，使用基础的\n  var fold = userFold === undefined ? defaultFold : userFold === true;\n  var canshowF7SchemeTitle = (0, _layoutService.isInDialog)(model.pageId);\n  // TODO 改为useMemo\n  var showMultiGrids = (0, _utils.useShowMultiGrids)(model);\n  var visibleInfo = (0, _react.useMemo)(function () {\n    return (0, _utils.getVisibleInfo)(model, showMultiGrids);\n  }, [model, showMultiGrids]); // 快速搜索、常用条件、方案过滤可见性\n\n  var updateSelected = function updateSelected(newSelected) {\n    dispatch((0, _actions.updateSelectedAction)(model, newSelected));\n  };\n  var updateEditting = function updateEditting(newEdittingScheme) {\n    dispatch((0, _actions.updateEdittingAction)(model, newEdittingScheme));\n  };\n  (0, _utils.useLoading)(model); // 添加loading状态\n\n  // 初始化方案相关数据，选中默认方案\n  // TODO #1 应该在reducer里面初始化，但是要兼容新旧版本，reducer暂不修改\n  var shouldInitScheme = (0, _utils.useInitData)(data, selected, updateSelected);\n\n  // 标题tooltip回调事件\n  var handleShowFormByTips = (0, _react.useCallback)(function () {\n    dispatch(_tooltipaction.showFormByTips.apply(void 0, arguments));\n  }, []);\n\n  // 更新store\n  var handleSelectedChange = function handleSelectedChange(selected) {\n    updateSelected(selected);\n  };\n\n  // 更新store\n  var handleEdittingChange = function handleEdittingChange(edittingScheme) {\n    updateEditting(edittingScheme);\n  };\n  var handleEditStatusChange = function handleEditStatusChange(status) {\n    dispatch((0, _actions.updateEdittingStatusAction)(model, status));\n  };\n\n  // 设置postData\n  var setPostValue = function setPostValue(postData) {\n    dispatch((0, _appModelFunction.convertAppModelFunctionAction)((0, _appModelFunction.setControlPostValue)(model.pageId, model.key, postData)));\n  };\n\n  // 发送常用查询, 开启不自动搜索的修改条件的时候不会触发自动搜索\n  var handleCommonSearch = function handleCommonSearch(args, notTriggerSearch) {\n    // archiveKey 也会往postdata里面塞，需要兼容\n    var prevListFilterPostData = (0, _appModelFunction.getContorlPost)(pageId)((0, _global.getGlobalState)()).get(model.key, {});\n    if (notTriggerSearch && !autoTriggerSearch) {\n      // postData 新版常用过滤选择条件后不触发过滤，但是需要发送请求以防有动态条件切换\n      (0, _appModelFunction.setControlPostValue)(model.pageId, model.key, _objectSpread(_objectSpread({}, prevListFilterPostData), {}, {\n        triggerSearch: false\n      }))((0, _global.getGlobalState)());\n    } else {\n      (0, _appModelFunction.setControlPostValue)(model.pageId, model.key, _objectSpread(_objectSpread({}, prevListFilterPostData), {}, {\n        triggerSearch: true\n      }))((0, _global.getGlobalState)());\n    }\n    dispatch((0, _actions.commonSearch)(model, args));\n  };\n  var resetSearchCondition = function resetSearchCondition() {\n    // 后端直接做查询拿不到插件的默认值（没理解为啥），前端兼容，在发起重置后，memorycache中存一个标志，重置请求返回后，发起查询\n    (0, _memoryCacher.setPageData)(pageId, [key, _constants.NEED_RESEARCH], true);\n    dispatch((0, _actions.resetCondition)(model));\n  };\n\n  // 常用查询打开f7\n  var handleCommonF7Click = function handleCommonF7Click(fieldName, isMulti, selectedItems, lookupStr) {\n    dispatch((0, _actions.commonF7Click)(model, {\n      fieldName: fieldName,\n      isMulti: isMulti,\n      selectedItems: selectedItems,\n      lookupStr: lookupStr\n    }));\n  };\n\n  // 发送方案查询\n  var handleSchemSearch = function handleSchemSearch(args, schemeId) {\n    // archiveKey 也会往postdata里面塞，需要兼容\n    var prevListFilterPostData = (0, _appModelFunction.getContorlPost)(pageId)((0, _global.getGlobalState)()).get(model.key, {});\n    (0, _appModelFunction.setControlPostValue)(model.pageId, model.key, _objectSpread(_objectSpread({}, prevListFilterPostData), {}, {\n      schemeId: schemeId\n    }))((0, _global.getGlobalState)());\n    dispatch((0, _actions.schemeSearch)(model, args));\n  };\n  var getCommonFilterConfig = function getCommonFilterConfig() {\n    dispatch((0, _actions.getCommonFilterConfigAction)(model, []));\n  };\n  var getSchemeFilterConfig = function getSchemeFilterConfig() {\n    dispatch((0, _actions.getSchemeFilterConfigAction)(model, []));\n  };\n  var saveSchemeFilterConfig = function saveSchemeFilterConfig(args, newSchemeFilterConfig) {\n    dispatch((0, _actions.setSchemeFilterConfig)(model, args));\n    // 保存后保留store中的数据，后端不会返回，需要前端自己保留\n    dispatch((0, _actions.updateSchemeFilterConfig)(model, newSchemeFilterConfig));\n  };\n  var saveCommonConfig = function saveCommonConfig(args) {\n    dispatch((0, _actions.setCommonFilterConfig)(model, args));\n    // 保存后重置store的配置数据\n    dispatch((0, _actions.updateCommonFilterConfig)(model, undefined));\n  };\n\n  // 基础资料模糊查询\n  var handleF7LookUp = function handleF7LookUp(_ref2) {\n    var fieldName = _ref2.fieldName,\n      value = _ref2.value;\n    dispatch((0, _actions.getF7LookUpList)(model, {\n      fieldName: fieldName,\n      value: value\n    }));\n  };\n\n  // 方案过滤中基础资料的模糊查询\n  var handleSchemeF7LookUp = function handleSchemeF7LookUp(_ref3) {\n    var entityId = _ref3.entityId,\n      fieldName = _ref3.fieldName,\n      value = _ref3.value,\n      schemeConditions = _ref3.schemeConditions;\n    dispatch((0, _actions.getSchemeF7LookUpList)(model, {\n      entityId: entityId,\n      fieldName: fieldName,\n      value: value,\n      schemeConditions: schemeConditions\n    }));\n  };\n\n  // 编辑新增的方式时更新store\n  var handleAddSchemesChange = function handleAddSchemesChange(newAddSchemes) {\n    dispatch((0, _actions.updateAddSchemesAction)(model, newAddSchemes));\n  };\n\n  // 保存方案\n  var handleSchemeSave = function handleSchemeSave(args) {\n    dispatch((0, _actions.saveScheme)(model, [args]));\n  };\n\n  // 方案条件按钮点击（f7、文本编辑）\n  var handleFieldBtnClick = function handleFieldBtnClick(args) {\n    dispatch((0, _actions.fieldBtnClick)(model, args));\n  };\n\n  // 删除方案\n  var handleDeleteScheme = function handleDeleteScheme(schemeId) {\n    dispatch((0, _actions.deleteScheme)(model, [schemeId]));\n  };\n\n  // 分享方案\n  var handleSchemeShare = function handleSchemeShare(schemeId, isEdit) {\n    dispatch((0, _actions.shareScheme)(model, {\n      isEdit: isEdit,\n      schemeId: schemeId\n    }));\n  };\n\n  // 设置默认方案\n  var handleSchemeSetDefault = function handleSchemeSetDefault(schemeId, isDefault) {\n    // 历史遗留问题，默认方案设置后端只返回一个true或者false，不返回设置的具体方案名\n    (0, _memoryCacher.setPageData)(pageId, [key, _constants.CACHE_DEFAULT_SCHEME], schemeId);\n    dispatch((0, _actions.setDefaultScheme)(model, [schemeId, isDefault]));\n  };\n\n  // 智能搜索\n  var handleNlpSearch = function handleNlpSearch(value) {\n    dispatch((0, _actions.nlpSearch)(model, [value]));\n  };\n  var handleToggleExpand = function handleToggleExpand(args) {\n    dispatch((0, _actions.toggleExpand)(model, args));\n  };\n  // F7 弹出面板进行方案编辑的时候，点击左上角的关闭按钮需要关闭整个 F7 弹窗\n  var closeF7Panel = function closeF7Panel(event) {\n    var _ele;\n    event.stopPropagation();\n    var pageId = model.pageId;\n    var ele = document.querySelector(\"[data-page-id='\".concat(pageId, \"']\"));\n    while (ele && ele.id !== 'dialogShow') {\n      ele = ele.parentElement;\n    }\n    // 存在 F7 列表对应的表单是 Dialog 的子表单的场景\n    var dialogPageId = (_ele = ele) === null || _ele === void 0 ? void 0 : _ele.getAttribute('data-page-id');\n    if (dialogPageId) {\n      if ((0, _memoryCacher.getPageData)(dialogPageId, _const.DIRECT_CLOSE_DIALOG)) {\n        dispatch((0, _appModelFunction.convertAppModelFunctionAction)((0, _appModelFunction.clearSubForm)((0, _componentutil.getParentPage)(dialogPageId)(appState), pageId)));\n      } else {\n        var ajaxKey = (0, _ajaxState.makeAjaxKey)(dialogPageId, '', 'close');\n        if ((0, _ajaxState.getAjaxState)(ajaxKey) === 'running') return;\n        dispatch((0, _billaction.close)(dialogPageId));\n      }\n    }\n  };\n\n  // 删除联查\n  var handleLinkQueryClose = function handleLinkQueryClose() {\n    dispatch((0, _actions.closeLinkQuery)(model));\n  };\n  var getSchemeColumns = function getSchemeColumns(schemeId) {\n    dispatch((0, _actions.showListColumnSetting)(model, schemeId));\n  };\n  var getSchemeSortColumns = function getSchemeSortColumns(schemeId) {\n    dispatch((0, _actions.showListSortColumns)(model, schemeId));\n  };\n  var setFoldPageUIState = function setFoldPageUIState(fold) {\n    (0, _memoryCacher.setPageUIState)(model, ['fold'], fold);\n  };\n  var handleSwitchFilterMode = function handleSwitchFilterMode(args) {\n    dispatch((0, _actions.switchFilterMode)(model, args));\n  };\n  var eventTracking = function eventTracking(controlProp, controlValue) {\n    (0, _utils.postEventTracking)(model, controlProp, controlValue);\n  };\n\n  /* 注册组件代理实例用于自动化测试 */\n  (0, _instance.useRegisterInstance)(model.pageId, model.key, model.getMetaProperty('type'), {\n    selecteForTest: selecteForTest,\n    dataForTest: dataForTest,\n    updateSelected: updateSelected,\n    handleSelectedChange: handleSelectedChange,\n    handleDeleteScheme: handleDeleteScheme,\n    handleSchemSearch: handleSchemSearch,\n    handleCommonSearch: handleCommonSearch,\n    handleCommonF7Click: handleCommonF7Click\n  });\n\n  /* 注册组件代理实例用于自动化测试 */\n  var userLocal = model.getUserLocale();\n  var style = (0, _react.useMemo)(function () {\n    return (0, _componentutil.getCommonStyle)(model);\n  }, [model]);\n  var pageId = model.pageId,\n    key = model.key;\n  var filterContext = (0, _react.useMemo)(function () {\n    return {\n      pageId: pageId,\n      key: key,\n      lang: lang,\n      eventTracking: eventTracking,\n      dispatch: dispatch\n    };\n  }, [pageId, key, lang]);\n  var tips = (0, _tooltipsUtil.getTips)(model);\n  var tipsHashCode = tips === null || tips === void 0 ? void 0 : tips.hashCode();\n  var slot = (0, _react.useMemo)(function () {\n    if (tips) {\n      var tipsConfig = (0, _tooltipsUtil.createTipsConfig)(model.pageId, model.key);\n      (0, _tooltipsUtil.saveTipsInfo)(tipsConfig, tips);\n      return /*#__PURE__*/_react[\"default\"].createElement(_Slot[\"default\"], {\n        tips: tipsConfig\n      });\n    }\n  }, [tipsHashCode]);\n\n  // 等方案初始化之后再渲染\n  // TODO 等 #1 (在reduer里面做初始化) 处理完之后这个就可以去掉\n  if (shouldInitScheme && !selected.getIn(['scheme', 'init'])) return null;\n  return /*#__PURE__*/_react[\"default\"].createElement(_utils.FilterContext.Provider, {\n    value: filterContext\n  }, isLookUp ? /*#__PURE__*/_react[\"default\"].createElement(_F7ListFilter[\"default\"], _extends({\n    fold: fold,\n    style: style,\n    lang: lang,\n    data: data,\n    selected: selected,\n    linkQuery: linkQuery,\n    smartMeta: smartMeta,\n    shareable: shareable,\n    addSchemes: addSchemes,\n    archiveData: archiveData,\n    pinnedConditions: pinnedConditions,\n    commonFilterConfig: commonFilterConfig,\n    onF7LookUp: handleF7LookUp,\n    onSchemeF7LookUp: handleSchemeF7LookUp,\n    onCommonF7Click: handleCommonF7Click,\n    saveCommonConfig: saveCommonConfig,\n    showMultiGrids: showMultiGrids,\n    visibleInfo: visibleInfo,\n    showFormByTips: handleShowFormByTips,\n    userLocal: userLocal,\n    activeKey: activeKey,\n    onNlpSearch: handleNlpSearch,\n    onCommonSearch: handleCommonSearch,\n    onSchemeSearch: handleSchemSearch,\n    onSelectedChange: handleSelectedChange,\n    onSchemeSave: handleSchemeSave,\n    onAddSchemesChange: handleAddSchemesChange,\n    onFieldBtnClick: handleFieldBtnClick,\n    onSchemeDelete: handleDeleteScheme,\n    onSchemeSetDefault: handleSchemeSetDefault,\n    onSchemeShare: handleSchemeShare,\n    onLinkQueryClose: handleLinkQueryClose,\n    setPostValue: setPostValue,\n    setFoldPageUIState: setFoldPageUIState,\n    switchFilterMode: handleSwitchFilterMode,\n    useOrReplaceBlank: useOrReplaceBlank,\n    model: model,\n    slot: slot,\n    downKeyFocus: downKeyFocus,\n    closeF7Panel: closeF7Panel,\n    toggleExpand: handleToggleExpand,\n    enableScheme: enableScheme,\n    autoTriggerSearch: autoTriggerSearch,\n    canshowF7SchemeTitle: canshowF7SchemeTitle\n  }, attachData)) : /*#__PURE__*/_react[\"default\"].createElement(_ListFilter[\"default\"], _extends({\n    fold: fold,\n    style: style,\n    lang: lang,\n    data: data,\n    selected: selected,\n    linkQuery: linkQuery,\n    smartMeta: smartMeta,\n    shareable: shareable,\n    addSchemes: addSchemes,\n    archiveData: archiveData,\n    pinnedConditions: pinnedConditions,\n    getCommonFilterConfig: getCommonFilterConfig,\n    saveCommonConfig: saveCommonConfig,\n    commonFilterConfig: commonFilterConfig,\n    onF7LookUp: handleF7LookUp,\n    onSchemeF7LookUp: handleSchemeF7LookUp,\n    onCommonF7Click: handleCommonF7Click,\n    getSchemeFilterConfig: getSchemeFilterConfig,\n    saveSchemeFilterConfig: saveSchemeFilterConfig,\n    schemeFilterConfig: schemeFilterConfig,\n    showMultiGrids: showMultiGrids,\n    visibleInfo: visibleInfo,\n    showFormByTips: handleShowFormByTips,\n    userLocal: userLocal,\n    activeKey: activeKey,\n    onNlpSearch: handleNlpSearch,\n    onCommonSearch: handleCommonSearch,\n    onSchemeSearch: handleSchemSearch,\n    resetSearchCondition: resetSearchCondition,\n    onSelectedChange: handleSelectedChange,\n    onEdittingChange: handleEdittingChange,\n    onEditStatusChange: handleEditStatusChange,\n    onSchemeSave: handleSchemeSave,\n    onAddSchemesChange: handleAddSchemesChange,\n    onFieldBtnClick: handleFieldBtnClick,\n    onSchemeDelete: handleDeleteScheme,\n    onSchemeSetDefault: handleSchemeSetDefault,\n    onSchemeShare: handleSchemeShare,\n    onLinkQueryClose: handleLinkQueryClose,\n    setPostValue: setPostValue,\n    setFoldPageUIState: setFoldPageUIState,\n    switchFilterMode: handleSwitchFilterMode,\n    useOrReplaceBlank: useOrReplaceBlank,\n    model: model,\n    slot: slot,\n    downKeyFocus: downKeyFocus,\n    closeF7Panel: closeF7Panel,\n    toggleExpand: handleToggleExpand,\n    enableScheme: enableScheme,\n    autoTriggerSearch: autoTriggerSearch,\n    canshowF7SchemeTitle: canshowF7SchemeTitle,\n    getSchemeColumns: getSchemeColumns,\n    getSchemeSortColumns: getSchemeSortColumns,\n    editting: editting\n  }, attachData)));\n};\nvar KDListFilterWrap = function KDListFilterWrap(props) {\n  var data = props.model.getDataProperty('fields');\n  if (!data) {\n    console.warn('KDListFilter data uninitialized!');\n    return null;\n  }\n  return /*#__PURE__*/_react[\"default\"].createElement(KDListFilter, props);\n};\nvar _default = exports[\"default\"] = (0, _AttachDataWrap[\"default\"])((0, _VisibleLockWrap[\"default\"])(false)(KDListFilterWrap));\n\n//# sourceURL=webpack://bos-platform/./src/component/web/KDListFilter/KDListFilter.js?");

/***/ }),

/***/ "./src/component/web/KDListFilter/actions.js":
/*!***************************************************!*\
  !*** ./src/component/web/KDListFilter/actions.js ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.closeLinkQuery = closeLinkQuery;\nexports.commonF7Click = commonF7Click;\nexports.commonSearch = commonSearch;\nexports.deleteScheme = deleteScheme;\nexports.fieldBtnClick = fieldBtnClick;\nexports.getCommonFilterConfigAction = getCommonFilterConfigAction;\nexports.getF7LookUpList = getF7LookUpList;\nexports.getSchemeF7LookUpList = getSchemeF7LookUpList;\nexports.getSchemeFilterConfigAction = getSchemeFilterConfigAction;\nexports.nlpSearch = void 0;\nexports.resetCondition = resetCondition;\nexports.saveScheme = saveScheme;\nexports.schemeSearch = schemeSearch;\nexports.setCommonFilterConfig = setCommonFilterConfig;\nexports.setDefaultScheme = setDefaultScheme;\nexports.setSchemeFilterConfig = setSchemeFilterConfig;\nexports.shareScheme = shareScheme;\nexports.showListColumnSetting = showListColumnSetting;\nexports.showListSortColumns = showListSortColumns;\nexports.switchFilterMode = switchFilterMode;\nexports.toggleExpand = toggleExpand;\nexports.updateAddSchemesAction = updateAddSchemesAction;\nexports.updateCommonFilterConfig = updateCommonFilterConfig;\nexports.updateEdittingAction = updateEdittingAction;\nexports.updateEdittingStatusAction = updateEdittingStatusAction;\nexports.updateSchemeFilterConfig = updateSchemeFilterConfig;\nexports.updateSelectedAction = updateSelectedAction;\nvar _ajaxState = __webpack_require__(/*! @/api/ajaxState */ \"./src/api/ajaxState.js\");\nvar proxy = _interopRequireWildcard(__webpack_require__(/*! @/proxy/formproxy */ \"./src/proxy/formproxy.js\"));\nvar action = _interopRequireWildcard(__webpack_require__(/*! @/action/action */ \"./src/action/action.js\"));\nvar _appModelFunction = __webpack_require__(/*! @/model/appModelFunction */ \"./src/model/appModelFunction.js\");\nvar _server = __webpack_require__(/*! @/action/actionname/global/system/server */ \"./src/action/actionname/global/system/server/index.js\");\nvar _actionWithSingle = __webpack_require__(/*! @/action/actionWithSingle */ \"./src/action/actionWithSingle.js\");\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\n/**\n * 更新选中内容(eg：快速查询的条件，筛选条件等)\n *\n */\nfunction updateSelectedAction(model, selected) {\n  return action.doDispath(model, function (_ref) {\n    var dispatch = _ref.dispatch,\n      _ref$post = _ref.post,\n      post = _ref$post === void 0 ? [] : _ref$post;\n    action.mergeState(_server.UPDATE_CONTROL_STATES, model.pageId, [{\n      key: model.key,\n      selected: selected\n    }], dispatch);\n  });\n}\n\n/**\n * 更新正在编辑的方案内容\n *\n */\nfunction updateEdittingAction(model, newEdittingScheme) {\n  return action.doDispath(model, function (_ref2) {\n    var dispatch = _ref2.dispatch,\n      _ref2$post = _ref2.post,\n      post = _ref2$post === void 0 ? [] : _ref2$post;\n    action.mergeState(_server.UPDATE_CONTROL_STATES, model.pageId, [{\n      key: model.key,\n      editting: {\n        scheme: newEdittingScheme\n      }\n    }], dispatch);\n  });\n}\n\n/**\n * 更新正在编辑的方案内容\n *\n */\nfunction updateEdittingStatusAction(model, status) {\n  return action.doDispath(model, function (_ref3) {\n    var dispatch = _ref3.dispatch,\n      _ref3$post = _ref3.post,\n      post = _ref3$post === void 0 ? [] : _ref3$post;\n    if (status === false) {\n      // 编辑弹框销毁时，清除编辑数据\n      action.mergeState(_server.UPDATE_CONTROL_STATES, model.pageId, [{\n        key: model.key,\n        editting: (0, _immutable.Map)()\n      }], dispatch);\n    }\n    action.mergeState(_server.UPDATE_CONTROL_STATES, model.pageId, [{\n      key: model.key,\n      isEditting: status\n    }], dispatch);\n  });\n}\n\n/**\n * 更新store中新增方案\n */\nfunction updateAddSchemesAction(model, addSchemes) {\n  return action.doDispath(model, function (_ref4) {\n    var dispatch = _ref4.dispatch;\n    action.mergeState(_server.UPDATE_CONTROL_STATES, model.pageId, [{\n      key: model.key,\n      addSchemes: addSchemes\n    }], dispatch);\n  });\n}\nfunction updateCommonFilterConfig(model, commonFilterConfig) {\n  return action.doDispath(model, function (_ref5) {\n    var dispatch = _ref5.dispatch;\n    action.mergeState(_server.UPDATE_CONTROL_STATES, model.pageId, [{\n      key: model.key,\n      commonFilterConfig: commonFilterConfig\n    }], dispatch);\n  });\n}\nfunction updateSchemeFilterConfig(model, schemeFilterConfig) {\n  return action.doDispath(model, function (_ref6) {\n    var dispatch = _ref6.dispatch;\n    action.mergeState(_server.UPDATE_CONTROL_STATES, model.pageId, [{\n      key: model.key,\n      schemeFilterConfig: schemeFilterConfig\n    }], dispatch);\n  });\n}\n\n/**\n * 触发常用过滤\n * 向服务端发送\n */\nfunction commonSearch(model) {\n  var args = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return action.doDispath(model, function (_ref7) {\n    var dispatch = _ref7.dispatch,\n      _ref7$post = _ref7.post,\n      post = _ref7$post === void 0 ? [] : _ref7$post;\n    var requestKey = (0, _ajaxState.makeAjaxKey)(model.pageId, model.key, 'commonSearch');\n    proxy.disableDisposeAction(requestKey);\n    action.invokeControlService(model, 'commonSearch', args, post, dispatch);\n    proxy.allowDisposeAction(requestKey);\n  });\n}\n\n/**\n * 触发方案查询\n * 向服务端发送\n */\nfunction schemeSearch(model) {\n  var args = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return action.doDispath(model, function (_ref8) {\n    var dispatch = _ref8.dispatch,\n      _ref8$post = _ref8.post,\n      post = _ref8$post === void 0 ? [] : _ref8$post;\n    action.invokeControlService(model, 'schemeSearch', args, post, dispatch);\n  });\n}\n\n/**\n * 获取常用条件配置\n */\nfunction getCommonFilterConfigAction(model) {\n  var args = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return action.doDispath(model, function (_ref9) {\n    var dispatch = _ref9.dispatch;\n    action.invokeControlService(model, 'getCommonFilterConfig', args, [], dispatch);\n  });\n}\n\n/**\n * 保存常用条件配置\n */\nfunction setCommonFilterConfig(model) {\n  var args = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return action.doDispath(model, function (_ref10) {\n    var dispatch = _ref10.dispatch;\n    action.invokeControlService(model, 'setCommonFilterConfig', args, [], dispatch);\n  });\n}\n\n/**\n * 获取二次过滤配置\n */\nfunction getSchemeFilterConfigAction(model) {\n  var args = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return action.doDispath(model, function (_ref11) {\n    var dispatch = _ref11.dispatch,\n      getState = _ref11.getState;\n    action.invokeControlService(model, 'getSchemeFilterConfig', args, (0, _appModelFunction.getPost)(model.pageId)(getState()), dispatch);\n  });\n}\n\n/**\n * 保存二次过滤配置\n */\nfunction setSchemeFilterConfig(model) {\n  var args = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return action.doDispath(model, function (_ref12) {\n    var dispatch = _ref12.dispatch,\n      getState = _ref12.getState;\n    action.invokeControlService(model, 'setSchemeFilterConfig', args, (0, _appModelFunction.getPost)(model.pageId)(getState()), dispatch);\n  });\n}\n\n// 叙事薄过滤控件：常用查询的F7字段请求弹窗从而进行选择操作\nfunction commonF7Click(model, _ref13) {\n  var fieldName = _ref13.fieldName,\n    isMulti = _ref13.isMulti,\n    selectedItems = _ref13.selectedItems,\n    lookupStr = _ref13.lookupStr;\n  return function (dispatch, getState) {\n    var args = [fieldName, isMulti, selectedItems];\n    if (lookupStr) {\n      args.push(lookupStr);\n    }\n    action.invokeControlService(model, 'f7Click', args, (0, _appModelFunction.getPost)(model.pageId)(getState()), dispatch);\n  };\n}\n\n// f7模糊查询\nfunction getF7LookUpList(model, _ref14) {\n  var fieldName = _ref14.fieldName,\n    value = _ref14.value;\n  return function (dispatch) {\n    var args = [fieldName, value];\n    var requestKey = (0, _ajaxState.makeAjaxKey)(model.pageId, model.key, 'getBaseDataItems');\n    proxy.disableDisposeAction(requestKey);\n    action.invokeControlService(model, 'getBaseDataItems', args, [], dispatch);\n    proxy.allowDisposeAction(requestKey);\n  };\n}\n\n// 方案条件中的f7模糊查询\nfunction getSchemeF7LookUpList(model, _ref15) {\n  var entityId = _ref15.entityId,\n    fieldName = _ref15.fieldName,\n    value = _ref15.value,\n    schemeConditions = _ref15.schemeConditions;\n  return function (dispatch) {\n    var args = [entityId, fieldName, value, schemeConditions];\n    var requestKey = (0, _ajaxState.makeAjaxKey)(model.pageId, model.key, 'getSchemeBaseDataItems');\n    proxy.disableDisposeAction(requestKey);\n    action.invokeControlService(model, 'getSchemeBaseDataItems', args, [], dispatch);\n    proxy.allowDisposeAction(requestKey);\n  };\n}\n\n/**\n * 保存方案\n * 向服务端发送\n * args[{scheme:[],schemeName:'',id:''}]\n */\nfunction saveScheme(model) {\n  var args = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return action.doDispath(model, function (_ref16) {\n    var dispatch = _ref16.dispatch;\n    action.invokeControlService(model, 'saveScheme', args, [], dispatch);\n  });\n}\n\n/**\n * 叙事薄过滤控件: 方案查询中(通用)行点击事件，比如(文本输入框按钮点击，F7点击)\n * type: 'f7Click' | 'fieldValueClick'\n */\nfunction fieldBtnClick(model, _ref17) {\n  var type = _ref17.type,\n    fieldName = _ref17.fieldName,\n    compareType = _ref17.compareType,\n    clientType = _ref17.clientType,\n    rowIndex = _ref17.rowIndex,\n    entityId = _ref17.entityId,\n    schemeConditions = _ref17.schemeConditions;\n  return function (dispatch, getState) {\n    var args = [entityId, fieldName, compareType, clientType, rowIndex, schemeConditions];\n    action.invokeControlService(model, type, args, (0, _appModelFunction.getPost)(model.pageId)(getState()), dispatch);\n  };\n}\n\n/**\n * 删除特定方案\n * 向服务端发送\n * args: [id]\n */\nfunction deleteScheme(model) {\n  var args = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return action.doDispath(model, function (_ref18) {\n    var dispatch = _ref18.dispatch,\n      _ref18$post = _ref18.post,\n      post = _ref18$post === void 0 ? [] : _ref18$post;\n    action.invokeControlService(model, 'deleteScheme', args, [], dispatch);\n  });\n}\n\n/**\n * 设置默认方案\n * 向服务端发送\n * args:[id,true/false]\n */\nfunction setDefaultScheme(model, args) {\n  return action.doDispath(model, function (_ref19) {\n    var dispatch = _ref19.dispatch,\n      _ref19$post = _ref19.post,\n      post = _ref19$post === void 0 ? [] : _ref19$post;\n    action.invokeControlService(model, 'setDefaultScheme', args, [], dispatch);\n  });\n}\n\n// 分享方案\nfunction shareScheme(model, _ref20) {\n  var isEdit = _ref20.isEdit,\n    schemeId = _ref20.schemeId;\n  return action.doDispath(model, function (_ref21) {\n    var dispatch = _ref21.dispatch,\n      _ref21$post = _ref21.post,\n      post = _ref21$post === void 0 ? [] : _ref21$post;\n    action.invokeControlService(model, isEdit ? 'updateShareScheme' : 'shareScheme', [schemeId], [], dispatch);\n  });\n}\n\n// 智能搜索\nvar nlpSearch = exports.nlpSearch = function nlpSearch(model, args) {\n  return action.doDispath(model, function (_ref22) {\n    var dispatch = _ref22.dispatch;\n    (0, _actionWithSingle.invokeControlService)(model, 'nlpSearch', args, [], dispatch);\n  });\n};\n\n/**\n * 发往后端的请求: 关闭联查\n */\nfunction closeLinkQuery(model) {\n  var args = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return function (dispatch, getState) {\n    // 删除联查数据\n    action.mergeState(_server.UPDATE_CONTROL_STATES, model.pageId, [{\n      key: model.key,\n      linkQuery: undefined\n    }], dispatch);\n    // 发送通知\n    action.invokeControlService(model, 'closeLinkQuery', args, (0, _appModelFunction.getPost)(model.pageId)(getState()), dispatch);\n  };\n}\n\n/**\n * 切换老版本\n */\nfunction switchFilterMode(model, args) {\n  return function (dispatch, getState) {\n    action.invokeControlService(model, 'switchFilterMode', args, (0, _appModelFunction.getPost)(model.pageId)(getState()), dispatch);\n  };\n}\n\n// 展开过滤收齐过滤监听\nfunction toggleExpand(model, args) {\n  return function (dispatch, getState) {\n    action.invokeControlService(model, 'expand', args, (0, _appModelFunction.getPost)(model.pageId)(getState()), dispatch);\n  };\n}\n\n// 方案编辑获取对应方案的列设置\nfunction showListColumnSetting(model, schemeId) {\n  return function (dispatch, getState) {\n    action.invokeService(model, 'showListColumnSetting', [schemeId], [], dispatch);\n  };\n}\n\n// 方案编辑获取对应方案的排序\nfunction showListSortColumns(model, schemeId) {\n  return function (dispatch, getState) {\n    action.invokeService(model, 'showListSort', [schemeId], [], dispatch);\n  };\n}\nfunction resetCondition(model) {\n  return function (dispatch, getState) {\n    action.invokeControlService(model, 'reset', [], (0, _appModelFunction.getPost)(model.pageId)(getState()), dispatch);\n  };\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/web/KDListFilter/actions.js?");

/***/ }),

/***/ "./src/component/web/KDListFilter/index.js":
/*!*************************************************!*\
  !*** ./src/component/web/KDListFilter/index.js ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _KDQueryPanel = _interopRequireDefault(__webpack_require__(/*! ../KDQueryPanel */ \"./src/component/web/KDQueryPanel.js\"));\nvar _KDListFilter = _interopRequireDefault(__webpack_require__(/*! ./KDListFilter */ \"./src/component/web/KDListFilter/KDListFilter.js\"));\nvar _componentutil = __webpack_require__(/*! @/util/componentutil */ \"./src/util/componentutil.js\");\nvar _constants = __webpack_require__(/*! ./constants */ \"./src/component/web/KDListFilter/constants.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nvar KDListFilterWrapper = function KDListFilterWrapper(props) {\n  // const newfilter = props.model.getFormConfig().newfilter // 系统参数\n  var controlNewFilter = props.model.meta.get('newfilter'); // 控件级别参数\n  var switchfiltermode = props.model.meta.get('switchfiltermode');\n  var isLookUp = (0, _componentutil.getComponentDataProperty)(props.model, _constants.IS_LOOKUP, _constants.IS_LOOKUP, false);\n  if (window.USE_NEW_FILTER !== false && controlNewFilter !== false && switchfiltermode === 1 || isLookUp) {\n    return /*#__PURE__*/_react[\"default\"].createElement(_KDListFilter[\"default\"], props);\n  }\n  return /*#__PURE__*/_react[\"default\"].createElement(_KDQueryPanel[\"default\"], props);\n};\nvar _default = exports[\"default\"] = KDListFilterWrapper;\n\n//# sourceURL=webpack://bos-platform/./src/component/web/KDListFilter/index.js?");

/***/ }),

/***/ "./src/component/web/KDQueryPanel.js":
/*!*******************************************!*\
  !*** ./src/component/web/KDQueryPanel.js ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.every.js */ \"../../node_modules/core-js/modules/es.array.every.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.find.js */ \"../../node_modules/core-js/modules/es.array.find.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.join.js */ \"../../node_modules/core-js/modules/es.array.join.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.array.reduce.js */ \"../../node_modules/core-js/modules/es.array.reduce.js\");\n__webpack_require__(/*! core-js/modules/es.array.splice.js */ \"../../node_modules/core-js/modules/es.array.splice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\n__webpack_require__(/*! core-js/modules/es.string.trim.js */ \"../../node_modules/core-js/modules/es.string.trim.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.timers.js */ \"../../node_modules/core-js/modules/web.timers.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _propTypes = _interopRequireDefault(__webpack_require__(/*! prop-types */ \"../../node_modules/prop-types/index.js\"));\nvar _componentutil = __webpack_require__(/*! ../../util/componentutil */ \"./src/util/componentutil.js\");\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _QueryPanel = _interopRequireDefault(__webpack_require__(/*! ./base/QueryPanel */ \"./src/component/web/base/QueryPanel.js\"));\nvar _querypanelaction = __webpack_require__(/*! ../../action/querypanelaction */ \"./src/action/querypanelaction.js\");\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _VisibleLockWrap = _interopRequireDefault(__webpack_require__(/*! ../common/VisibleLockWrap */ \"./src/component/common/VisibleLockWrap.js\"));\nvar _serverproperties = __webpack_require__(/*! ../../constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _tooltipaction = __webpack_require__(/*! ../../action/tooltipaction */ \"./src/action/tooltipaction.js\");\nvar _AttachDataWrap = _interopRequireDefault(__webpack_require__(/*! ../common/AttachDataWrap */ \"./src/component/common/AttachDataWrap.js\"));\nvar _Slot = _interopRequireDefault(__webpack_require__(/*! @/component/common/Slot */ \"./src/component/common/Slot.jsx\"));\nvar _invokeActionUtils = __webpack_require__(/*! ../common/invokeActionUtils */ \"./src/component/common/invokeActionUtils.js\");\nvar _appModelFunction = __webpack_require__(/*! ../../model/appModelFunction */ \"./src/model/appModelFunction.js\");\nvar _intlApi = __webpack_require__(/*! ../../i18n/intlApi */ \"./src/i18n/intlApi.js\");\nvar _memoryCacher = __webpack_require__(/*! @/model/memoryCacher */ \"./src/model/memoryCacher.js\");\nvar _tooltipsUtil = __webpack_require__(/*! @/util/tooltipsUtil */ \"./src/util/tooltipsUtil.js\");\nvar _langUtil = __webpack_require__(/*! @/util/langUtil */ \"./src/util/langUtil.js\");\nvar _const = __webpack_require__(/*! @/constant/const */ \"./src/constant/const.js\");\nvar _utils = __webpack_require__(/*! ../web/base/ListFilter/utils */ \"./src/component/web/base/ListFilter/utils.js\");\nvar _dec, _class, _KDQueryPanel;\n/**\n * 列表过滤控件\n */\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n/* 前端硬编码,不会变动的内容. */\nvar left_symbol = [{\n  fieldName: '_blank',\n  fieldCaption: ''\n}, {\n  fieldName: '(',\n  fieldCaption: '('\n}, {\n  fieldName: '((',\n  fieldCaption: '(('\n}, {\n  fieldName: '(((',\n  fieldCaption: '((('\n}];\nvar right_symbol = [{\n  fieldName: '_blank',\n  fieldCaption: ''\n}, {\n  fieldName: ')',\n  fieldCaption: ')'\n}, {\n  fieldName: '))',\n  fieldCaption: '))'\n}, {\n  fieldName: ')))',\n  fieldCaption: ')))'\n}];\nvar logic_symbol = (0, _immutable.fromJS)([{\n  fieldName: 0,\n  fieldCaption: (0, _intlApi.getLangMsg)({\n    key: 'QueryPanel.key0024'\n  })\n}, {\n  fieldName: 1,\n  fieldCaption: (0, _intlApi.getLangMsg)({\n    key: 'listFilter.key0042'\n  })\n}]);\n// querypanel 文案\nleft_symbol = (0, _immutable.fromJS)(left_symbol);\nright_symbol = (0, _immutable.fromJS)(right_symbol);\nvar CUR_USER = '103';\nvar NOT_CUR_USER = '104';\n\n// 选中条件结构(前端控件已选内容存储结构)\nvar selectedBase = {\n  fast: [\n    // {\n    //  FieldName: 'txt1',\n    //  Value: 2\n    // }, {\n    //  FieldName: 'text2',\n    //  Value: [1, 3]\n    // }\n  ],\n  common: [\n    // {\n    //  FieldName: 'status',\n    //  Value: 2\n    // }, {\n    //  FieldName: 'company',\n    //  Value: [1, 3]\n    // }\n  ],\n  scheme: {\n    /* 固定条件(运行时不可删除) */\n    advance: [\n      // {\n      //  \"FieldName\":\"field1\",\n      //     \"Value\": \"value1\",\n      //     \"Compare\": \"13\"\n      // },\n      // {\n      //  \"FieldName\":\"field2\",\n      //     \"Value\": \"value2\",\n      //     \"Compare\": \"15\"\n      // }\n    ],\n    /* 动态新增条件(运行时可删除) */\n    add: [\n      // {\n      //  \"FieldName\":\"field1\",\n      //     \"Value\": \"value1\",\n      //     \"Compare\": \"13\"\n      // },\n      // {\n      //  \"FieldName\":\"field2\",\n      //     \"Value\": \"value2\",\n      //     \"Compare\": \"15\"\n      // }\n    ],\n    /* 当前选中方案信息 */\n    currentScheme: {\n      // schemeName:'1234',\n      // schemeId: 'scheme1'\n    },\n    /* 当前选中的grid */\n    grids: [\n      // 'gridID1',\n      // 'gridID2'\n    ],\n    /* 是否是点击‘方案视图-查询’按钮，触发自定义(方案)条件查询 */\n    customSearch: false\n  }\n};\nselectedBase = (0, _immutable.fromJS)(selectedBase);\n\n// 业务数据结构\nvar optionsBase = {\n  /* 快速过滤字段列表 */\n  fast: [],\n  /* 常用过滤字段列表 */\n  common: [],\n  scheme: {\n    /* 方案列表 */\n    commonSchemes: [],\n    /* 固定条件(初始或没有方案时，固定查询条件从这里取,否则从方案内scheme取(标识-'fixed:true')) */\n    advance: [],\n    /* 单据体列表 */\n    entryenties: [],\n    /* 所有单据体的字段集合,在设计器中绑定的 */\n    conditions: [],\n    /* 默认方案 */\n    defaultScheme: {}\n  }\n};\noptionsBase = (0, _immutable.fromJS)(optionsBase);\nvar KDQueryPanel = (_dec = (0, _VisibleLockWrap[\"default\"])(false), (0, _AttachDataWrap[\"default\"])(_class = _dec(_class = (_KDQueryPanel = /*#__PURE__*/function (_React$Component) {\n  _inherits(KDQueryPanel, _React$Component);\n  function KDQueryPanel(props) {\n    var _this;\n    _classCallCheck(this, KDQueryPanel);\n    _this = _callSuper(this, KDQueryPanel, [props]);\n    // 筛选(选中)条件\n    /**\n     * 方案查询+智能搜索 // TODO del\n     */\n    _this.addNlpSearchToSchemeSearch = function (nlpSearchConditions, schemeSearch) {\n      nlpSearchConditions.forEach(function (_ref) {\n        var nlpSearchResult = _ref.nlpSearchResult;\n        nlpSearchResult.forEach(function (condition) {\n          var field = condition.field,\n            value = condition.value,\n            id = condition.id;\n          schemeSearch.push({\n            FieldName: [field || ''],\n            Compare: [id || 0],\n            Value: value || [],\n            Left: [''],\n            Right: [''],\n            Logic: [0]\n          });\n        });\n      });\n    };\n    /**\n     * 常用条件+智能搜索 // TODO del\n     */\n    _this.addNlpSearchToCommonSearch = function (nlpSearchConditions, commonSearch) {\n      nlpSearchConditions.forEach(function (_ref2) {\n        var nlpSearchResult = _ref2.nlpSearchResult;\n        nlpSearchResult.forEach(function (condition) {\n          var field = condition.field,\n            value = condition.value,\n            id = condition.id;\n          commonSearch.push({\n            FieldName: [field || ''],\n            Value: value || [],\n            Compare: [id || 0]\n          });\n        });\n      });\n    };\n    /**\n     * 快速查询智能搜索\n     * @param {*} value\n     */\n    _this.onQSNlpSearch = function (value) {\n      var _this$props = _this.props,\n        dispatch = _this$props.dispatch,\n        _this$props$model = _this$props.model,\n        pageId = _this$props$model.pageId,\n        key = _this$props$model.key;\n      _this.nlpSearchValue = value;\n      if (!value && value !== '0') return;\n      dispatch((0, _querypanelaction.nlpSearch)(_this.props.model, [value]));\n      // test start\n      // if (this.delayEventTimer) {\n      //   clearTimeout(this.delayEventTimer)\n      //   this.delayEventTimer = null\n      // }\n      // this.delayEventTimer = setTimeout(() => this.setState({ nlpSearchLoading: true }), 300)\n      // setTimeout(() => {\n      //   console.log('setdataaaaaa')\n      //   this.setState({ nlpSearchLoading: false })\n      //   setPageData(pageId, [key, 'nlpSearchResult'], [{ ID: '1', value: [1] }])\n      // }, 3000)\n      // test end\n    };\n    /**\n     * 设置nlpsearch 返回结果\n     * @param {*} result\n     */\n    _this.setNlpSearchResult = function (result) {\n      var filter = result.filter,\n        desc = result.desc,\n        searchContent = result.searchContent;\n      if (_this.nlpSearchValue !== searchContent) return; // 判断是否是最新的请求\n      _this.setState({\n        nlpSearchResult: _lodash[\"default\"].isArray(filter) ? filter : [],\n        nlpSearchResultDesc: desc\n      });\n    };\n    /**\n     * 设置是否支持nlpsearch\n     * @param {*} result\n     */\n    _this.setIsSupportNlpSearch = function (desc) {\n      if (desc) {\n        _this.setState({\n          isSupportNlpSearch: true,\n          nlpDesc: desc\n        });\n      }\n    };\n    _this.showClearFieldMessage = function (clearedFields, conditionOptions, currentCondition) {\n      var _this$props2 = _this.props,\n        model = _this$props2.model,\n        pageId = _this$props2.model.pageId;\n      var lang = {\n        current: model.getUserLocale() || 'zh_CN'\n      };\n      var currentFieldStr = \"\\\"\".concat((0, _langUtil.getValueByPath)(currentCondition, ['fieldCaption'], lang), \"\\\"\");\n      var clearedFieldsStr = clearedFields.map(function (fieldName) {\n        var currentCondition = conditionOptions.find(function (condition) {\n          return condition.get('fieldName') === fieldName;\n        });\n        return \"\\\"\".concat((0, _langUtil.getValueByPath)(currentCondition || (0, _immutable.Map)(), ['fieldCaption'], lang), \"\\\"\");\n      }).join('、');\n      (0, _appModelFunction.setDataMessages)(pageId, {\n        content: \"\".concat(currentFieldStr).concat((0, _intlApi.getLangMsg)({\n          key: 'QueryPanel.key0051'\n        })).concat(clearedFieldsStr, \"\\u3002\"),\n        type: _const.AlertType.WARNING,\n        duration: 5000\n      });\n    };\n    _this.isEmptyConditonValue = function (value) {\n      if (!value) return true;\n      return Array.isArray(value) && value.every(function (v) {\n        return !v;\n      });\n    };\n    // 方案查询：共享方案\n    _this.handleSchemeShare = function () {\n      var _this$props3 = _this.props,\n        model = _this$props3.model,\n        dispatch = _this$props3.dispatch;\n      var conditions = model.getDataProperty('selected');\n      var selectedCondition = conditions.toJS();\n      var scheme = selectedCondition.scheme;\n      var currentScheme = scheme.currentScheme;\n      if (currentScheme.id) {\n        dispatch((0, _querypanelaction.shareScheme)(model, [currentScheme.id]));\n      }\n    };\n    // 修改共享方案\n    _this.handleSchemeShareEdit = function () {\n      var _this$props4 = _this.props,\n        model = _this$props4.model,\n        dispatch = _this$props4.dispatch;\n      var conditions = model.getDataProperty('selected');\n      var selectedCondition = conditions.toJS();\n      var scheme = selectedCondition.scheme;\n      var currentScheme = scheme.currentScheme;\n      if (currentScheme.id) {\n        dispatch((0, _querypanelaction.editShareScheme)(model, [currentScheme.id]));\n      }\n    };\n    // 切换归档数据\n    _this.handleArchiveChange = function (archiveKey) {\n      var model = _this.props.model;\n      var selected = model.getDataProperty('selected');\n      var schemeQuery = selected.getIn(['scheme', 'currentScheme']) || (0, _immutable.Map)({});\n      _this.props.dispatch((0, _appModelFunction.convertAppModelFunctionAction)((0, _appModelFunction.setControlPostValue)(model.pageId, model.key, {\n        archiveKey: archiveKey\n      })));\n      // 判断当前是方案查询还是常用查询（与顶部筛选条件判断逻辑保持一致）\n      if (selected.get('customSearch') || schemeQuery.get('id')) {\n        _this.sendSchemeSearchWithStore();\n        return;\n      }\n      _this.sendCommonSearchWithStore();\n    };\n    // 用当前store数据调用方案查询\n    _this.sendSchemeSearchWithStore = function () {\n      var model = _this.props.model;\n      var selected = model.getDataProperty('selected').toJS();\n      var fast = selected.fast,\n        grids = selected.grids,\n        _selected$scheme = selected.scheme,\n        advance = _selected$scheme.advance,\n        add = _selected$scheme.add;\n      var args = [];\n      var fastSearch = [];\n      _this.getFastSearch(fast, fastSearch);\n      var schemeSearch = _this.getSchemeSearch(advance, add);\n      args.push(fastSearch);\n      args.push(schemeSearch);\n      args.push(_this.getSelectedEntryEntity(grids));\n      _this.sendSchemeSearch(args);\n    };\n    // 用当前store数据调用常用查询\n    _this.sendCommonSearchWithStore = function () {\n      var model = _this.props.model;\n      var selected = model.getDataProperty('selected').toJS();\n      var fast = selected.fast,\n        common = selected.common;\n      var args = [];\n      var fastSearch = [];\n      var commonSearch = [];\n      _this.getFastSearch(fast, fastSearch);\n      _this.getCommonSearch(common, commonSearch);\n      args.push(fastSearch);\n      args.push(commonSearch);\n      _this.sendCommonSearch(args);\n    };\n    _this.nlpSearchAjaxStateCallBack = function (_ref3) {\n      var value = _ref3.value,\n        args = _ref3.args;\n      if (_this.nlpSearchValue !== args[0]) return; // 判断是否是最新的请求\n      if (_this.delayEventTimer) {\n        clearTimeout(_this.delayEventTimer);\n        _this.delayEventTimer = null;\n      }\n      switch (value) {\n        case _invokeActionUtils.AJAX_PENDING:\n          _this.delayEventTimer = setTimeout(function () {\n            return _this.setState({\n              nlpSearchLoading: true\n            });\n          }, 300);\n          break;\n        case _invokeActionUtils.AJAX_SUCCESS:\n          _this.setState({\n            nlpSearchLoading: false\n          });\n          break;\n        default:\n          _this.setState({\n            nlpSearchLoading: false,\n            nlpSearchResult: [],\n            nlpSearchResultDesc: ''\n          });\n      }\n    };\n    // 监听毁掉\n    _this.ajaxStateCallBack = function (_ref4) {\n      var value = _ref4.value,\n        args = _ref4.args;\n      if (value === _invokeActionUtils.AJAX_PENDING) {\n        // 向后端发起请求\n        _this._querying = true;\n      } else if (value === _invokeActionUtils.AJAX_ERROR) {\n        // 请求错误\n        console.warn(\"querypanel AjaxState error: \".concat(value));\n        _this._querying = false;\n      } else if (value === _invokeActionUtils.AJAX_SUCCESS) {\n        var _this$props$model2 = _this.props.model,\n          pageId = _this$props$model2.pageId,\n          key = _this$props$model2.key;\n        var reSearchParam = (0, _memoryCacher.getPageData)(pageId, [key, 'reSearchParam']);\n        reSearchParam && _this.props.dispatch((0, _querypanelaction.commonSearch)(_this.props.model, reSearchParam));\n        (0, _memoryCacher.deletePageData)(pageId, [key, 'reSearchParam']);\n        // 请求结束\n        _this._querying = false;\n      } else {\n        console.warn(\"querypanel \\u672A\\u5904\\u7406\\u7684AjaxState\\u7C7B\\u578B: \".concat(value));\n        _this._querying = false;\n      }\n    };\n    _this.handleSwitchNewFilter = function () {\n      var model = _this.props.model;\n      var fields = model.getDataProperty('fields');\n      var defaultSchemeId = model.getDataProperty('defaultScheme') || fields.getIn(['scheme', 'defaultScheme', 'defaultSchemeId']);\n      var schemeOptions = fields.getIn(['scheme', 'commonSchemes']);\n      var defaultScheme = schemeOptions.find(function (scheme) {\n        return scheme.get('id') === defaultSchemeId;\n      });\n      var items = model.meta.get('items', new _immutable.List());\n      // 和后端确认，没有常用过滤的时候发送common仍然可兼容，没有defaultScheme的时候发送scheme后端不会返回数据 BT-01584685 2024。01.19\n      var defaultFilterView = !defaultScheme ? 'common' : 'scheme'; // 默认视图，当默认视图为scheme但是又没有defaultSchemeId时表示改表单没有常用过滤也没有默认方案\n      var newSelected = model.getDataProperty('selected').set('isSwitchMode', true); // 更新切换版本标识,用来重置store数据\n      _this.props.dispatch((0, _querypanelaction.updateSelected)(model, newSelected));\n      _this.props.dispatch((0, _querypanelaction.switchFilterMode)(_this.props.model, [1, defaultFilterView, defaultScheme ? defaultSchemeId : '']));\n    };\n    _this.onSelectedConditionDel = _this.onSelectedConditionDel.bind(_assertThisInitialized(_this));\n    // 快速查询\n    _this.onQSKeyDown = _this.onQSKeyDown.bind(_assertThisInitialized(_this));\n    _this.onQSDelCondition = _this.onQSDelCondition.bind(_assertThisInitialized(_this));\n    _this.onQSSelectItem = _this.onQSSelectItem.bind(_assertThisInitialized(_this));\n    _this.onQSOnBlur = _this.onQSOnBlur.bind(_assertThisInitialized(_this));\n    // 常用查询\n    _this.sendCommonSearch = _this.sendCommonSearch.bind(_assertThisInitialized(_this));\n    _this.onCommonSelect = _this.onCommonSelect.bind(_assertThisInitialized(_this));\n    _this.onCommonSelectGrid = _this.onCommonSelectGrid.bind(_assertThisInitialized(_this));\n    _this.onCommonSelectCustom = _this.onCommonSelectCustom.bind(_assertThisInitialized(_this));\n    _this.onCommonEndCustom = _this.onCommonEndCustom.bind(_assertThisInitialized(_this));\n    _this.onCommonF7Click = _this.onCommonF7Click.bind(_assertThisInitialized(_this));\n    // 方案查询\n    _this.sendSchemeSearch = _this.sendSchemeSearch.bind(_assertThisInitialized(_this));\n    _this.onSchemeSearch = _this.onSchemeSearch.bind(_assertThisInitialized(_this));\n    _this.onSchemeConditionChange = _this.onSchemeConditionChange.bind(_assertThisInitialized(_this));\n    _this.onSchemeConditionDel = _this.onSchemeConditionDel.bind(_assertThisInitialized(_this));\n    _this.onSchemeConditionAdd = _this.onSchemeConditionAdd.bind(_assertThisInitialized(_this));\n    _this.onSchemeAddConditionChange = _this.onSchemeAddConditionChange.bind(_assertThisInitialized(_this));\n    _this.onSchemeNameChanged = _this.onSchemeNameChanged.bind(_assertThisInitialized(_this));\n    _this.onSchemeSave = _this.onSchemeSave.bind(_assertThisInitialized(_this));\n    _this.onSchemeDelete = _this.onSchemeDelete.bind(_assertThisInitialized(_this));\n    _this.onSchemeSetDefault = _this.onSchemeSetDefault.bind(_assertThisInitialized(_this));\n    _this.onSchemeSelect = _this.onSchemeSelect.bind(_assertThisInitialized(_this));\n    _this.onDelSelectedScheme = _this.onDelSelectedScheme.bind(_assertThisInitialized(_this));\n    _this.onSchemeSelectGrid = _this.onSchemeSelectGrid.bind(_assertThisInitialized(_this));\n    _this.onSchemeFitlerSetting = _this.onSchemeFitlerSetting.bind(_assertThisInitialized(_this));\n    _this.onSchemeF7Click = _this.onSchemeF7Click.bind(_assertThisInitialized(_this));\n    _this.onSchemeFieldValueClick = _this.onSchemeFieldValueClick.bind(_assertThisInitialized(_this));\n    // 联查\n    _this.onLinkQueryDel = _this.onLinkQueryDel.bind(_assertThisInitialized(_this));\n    // tips\n    _this.updateTipsConfig = _this.updateTipsConfig.bind(_assertThisInitialized(_this));\n    _this.toggleExpand = _this.toggleExpand.bind(_assertThisInitialized(_this));\n\n    // 记住当前用户字段搜索时是否需要添加compare，兼容103 104基础资料场景\n    _this.updateNoCompareUsers = _this.updateNoCompareUsers.bind(_assertThisInitialized(_this));\n    _this.initNoCompareUsers = _this.initNoCompareUsers.bind(_assertThisInitialized(_this));\n    _this.state = {\n      // expand: this.getDefaultCollapse() === false // 默认不展开\n    };\n    _this._fastSearchCondition = [];\n    _this.initData();\n    _this._ajaxListener = []; // 网络请求状态监听\n    _this._querying = false; // 是否正在查询\n    _this.noCompareUsers = {};\n    _this.latestF7User = '';\n    _this.state = {\n      nlpSearchLoading: false,\n      // 智能搜索loading\n      nlpSearchResult: [],\n      // 智能搜索结果\n      nlpSearchResultDesc: '',\n      // 智能搜索解析语句\n      isSupportNlpSearch: false,\n      // 是否支持智能搜索\n      nlpDesc: '',\n      // 智能搜索提示语\n      tipsConfig: null\n    };\n    // nlpsearch返回结果事件订阅\n    (0, _memoryCacher.addDataChangeListener)(props.model.pageId, [props.model.key, 'nlpSearchResult'], _this.setNlpSearchResult);\n    // 是否支持智能搜索事件订阅（后台会发送是否支持智能搜索的指令）\n    (0, _memoryCacher.addDataChangeListener)(props.model.pageId, [props.model.key, 'setIsSupportNlpSearch'], _this.setIsSupportNlpSearch);\n    return _this;\n  }\n\n  // 数据处理(兼容meta+data渲染二合一，第一次'componentWillReceiveProps'数据提前到构造)\n  _createClass(KDQueryPanel, [{\n    key: \"initData\",\n    value: function initData() {\n      var model = this.props.model;\n      var newfastSetId = model.getDataProperty(['selected', 'fastSetId']);\n      if (newfastSetId) {\n        var fastSearchConditions = model.getDataProperty(['selected', 'fast']) || (0, _immutable.List)();\n        this.setFastSearchCache(fastSearchConditions.toJS());\n      }\n    }\n\n    // 更新当前交互的用户字段F7\n  }, {\n    key: \"updateNoCompareUsers\",\n    value: function updateNoCompareUsers(field, hasCompare) {\n      this.noCompareUsers[field] = hasCompare;\n    }\n  }, {\n    key: \"initNoCompareUsers\",\n    value: function initNoCompareUsers(model) {\n      var options = model.getDataProperty('fields');\n      if (!options) {\n        return;\n      }\n      var commonCondition = options.get('common');\n      // 数据更新后，更新user是否需要携带compare的map\n      var initParam = {};\n      commonCondition.filter(function (item) {\n        return (item === null || item === void 0 ? void 0 : item.get('type')) === 'user';\n      }).forEach(function (commonOption) {\n        var optioinItems = commonOption === null || commonOption === void 0 ? void 0 : commonOption.get('items');\n        var noCompare = false;\n        for (var i = 0; i < optioinItems.size; i++) {\n          var optionItem = optioinItems.get(i);\n          if (!(optionItem !== null && optionItem !== void 0 && optionItem.has('compare')) && ((optionItem === null || optionItem === void 0 ? void 0 : optionItem.get('value')) === CUR_USER || (optionItem === null || optionItem === void 0 ? void 0 : optionItem.get('value')) === NOT_CUR_USER)) {\n            noCompare = true;\n            break;\n          }\n        }\n        initParam[commonOption === null || commonOption === void 0 ? void 0 : commonOption.get('fieldName')] = noCompare;\n      });\n      this.noCompareUsers = initParam;\n    }\n  }, {\n    key: \"sendCommonSearch\",\n    value: function sendCommonSearch(args) {\n      this.setFastSearchCache(args[0]);\n      // 临时处理：UI上用户勾选的entryEntity，要传给server\n      args.push(this.getSelectedEntryEntity());\n      this.props.dispatch((0, _querypanelaction.commonSearch)(this.props.model, args));\n    }\n  }, {\n    key: \"sendSchemeSearch\",\n    value: function sendSchemeSearch(args) {\n      this.setFastSearchCache(args[0]);\n      // 临时处理：UI上用户勾选的entryEntity，要传给server\n      // args.push(this.getSelectedEntryEntity());\n      this.props.dispatch((0, _querypanelaction.schemeSearch)(this.props.model, args));\n    }\n  }, {\n    key: \"toggleExpand\",\n    value: function toggleExpand(args) {\n      this.props.dispatch((0, _querypanelaction.toggleExpand)(this.props.model, args));\n    }\n\n    // 获取快速搜索条件集合(用于发给server)\n  }, {\n    key: \"getFastSearch\",\n    value: function getFastSearch(fast) {\n      var _this2 = this;\n      var fastSearch = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n      var key, value, isNlpSearch;\n      var model = this.props.model;\n      var selected = model.getDataProperty('selected');\n      var scheme = selected.get('scheme') || (0, _immutable.Map)(); // 选中内容\n      var grids = scheme.get('grids');\n      fast.forEach(function (item) {\n        // fast\n        key = item.k;\n        value = item.v;\n        isNlpSearch = item.isNlpSearch;\n        if (key === _serverproperties.QP_QUAN_BU_ID) {\n          // '全部'选项\n          var keyArr = [];\n          var fastInFields = model.getDataProperty(['fields', 'fast']);\n          var key2;\n          fastInFields.forEach(function (item) {\n            var entryEntity = item.get('entryEntity');\n            key2 = item.get('fieldName');\n            if (key2 !== _serverproperties.QP_QUAN_BU_ID && (!entryEntity || grids.contains(entryEntity))) {\n              keyArr.push(key2);\n            }\n          });\n          fastSearch.push({\n            FieldName: keyArr,\n            Value: value\n          });\n        } else if (isNlpSearch) {\n          // 智能搜索\n          var isSupportNlpSearch = _this2.state.isSupportNlpSearch;\n          if (isSupportNlpSearch) {\n            var nlpSearchResult = item.nlpSearchResult;\n            nlpSearchResult.forEach(function (condition) {\n              var field = condition.field,\n                value = condition.value,\n                id = condition.id;\n              fastSearch.push({\n                FieldName: [field || ''],\n                Compare: [id || 0],\n                Value: value || []\n              });\n            });\n          }\n        } else {\n          fastSearch.push({\n            FieldName: [key],\n            Value: value\n          });\n        }\n      });\n      return fastSearch;\n    }\n\n    // 获取常用查询条件集合\n  }, {\n    key: \"getCommonSearch\",\n    value: function getCommonSearch(common) {\n      var _this3 = this;\n      var commonSearch = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n      // 常用查询\n      if (common && common.length > 0) {\n        var model = this.props.model;\n        var targetObj;\n        var compareObj;\n        // 选项对象\n        var compareArr = [];\n        // 选中项的比较符集合，与选中项中内容顺序保持一致.\n        var valueItems; // 所有选项的集合\n        var options = model.getDataProperty('fields');\n        var commonConditions = options.get('common');\n        var k, value; //, compare\n        common.forEach(function (item) {\n          // common\n          k = item.k;\n          value = item.v;\n          compareArr = [];\n          targetObj = commonConditions.find(function (item) {\n            return item.get('fieldName') === k;\n          });\n          if (targetObj) {\n            valueItems = targetObj.get('items'); // 选项集合\n            var type = targetObj.get('type');\n            var fieldName = targetObj.get('fieldName');\n            var valueItemMap = valueItems.reduce(function (tempMap, item) {\n              return tempMap.set(item.get('value'), item);\n            }, new _immutable.Map());\n            if (type === 'date' || type === 'datetime') {\n              // 必录项存在value为空的情况\n              if (value.length !== 0) {\n                var dateoptionItemsMap = valueItems.reduce(function (tempMap, item) {\n                  return tempMap.set(item.get('compare'), item);\n                }, new _immutable.Map());\n                var compare = '';\n                var _timeCompare = (0, _utils.getCompareTyeFromValue)(value, valueItems);\n                // “自定义” 的compare 需要为空\n                if (dateoptionItemsMap.size === 0) {\n                  compare = '';\n                } else {\n                  compare = _timeCompare === _const.ENUM_TYPE ? dateoptionItemsMap.get(value[0]).get(_serverproperties.Qp_COMPARE, '') : _timeCompare === _const.CUSTOM_TYPE ? '' : _timeCompare;\n                }\n                compareArr.push(compare);\n              }\n            } else {\n              compareArr = value.map(function (valueKey) {\n                compareObj = valueItemMap.get(valueKey);\n                if (type === 'user') {\n                  var _this3$latestF7User;\n                  var noNeedCompare = _this3.noCompareUsers[fieldName] || ((_this3$latestF7User = _this3.latestF7User) === null || _this3$latestF7User === void 0 ? void 0 : _this3$latestF7User.includes(fieldName));\n                  return noNeedCompare ? '' : compareObj ? compareObj.get(_serverproperties.Qp_COMPARE, '') : '';\n                } else {\n                  return compareObj ? compareObj.get(_serverproperties.Qp_COMPARE) || '' : ''; // 获取选项的比较符'compare'\n                }\n              });\n            }\n          }\n          if (value !== undefined) {\n            commonSearch.push({\n              FieldName: [k],\n              Value: value,\n              Compare: compareArr\n            });\n          }\n        });\n      }\n      return commonSearch;\n    }\n\n    // 获取方案查询条件集合\n  }, {\n    key: \"getSchemeSearch\",\n    value: function getSchemeSearch(advance, add) {\n      var schemes = advance.concat(add);\n      return schemes.map(function (item, index) {\n        var id = item.id;\n        var value = item.v || '';\n        if (value instanceof _immutable.List) {\n          value = value.toJS();\n        }\n        if (!Array.isArray(value)) {\n          value = [value];\n        }\n        var condition = {\n          FieldName: [item.k],\n          Compare: [item.c || ''],\n          Value: value,\n          Left: [item[_serverproperties.QP_LEFT_BRACKET] || ''],\n          Right: [item[_serverproperties.QP_RIGHT_BRACKET] || ''],\n          Logic: [item[_serverproperties.QP_LOGIC] || 0]\n        };\n        if (id) {\n          // F7接口需要id\n          condition.Id = id;\n        }\n        return condition;\n      });\n    }\n  }, {\n    key: \"onQSOnBlur\",\n    value: function onQSOnBlur(currentText) {\n      if (!!currentText && currentText.trim() !== '') {\n        return;\n      }\n      // todo: 失去焦点时,当前快速查询没有任何已选条件 + 无可编辑文本 + 与上次查询条件不同(即上次不是查的'全部数据'),则触发查询\n      var fastSearchCondition = this.getFastSearchCache();\n      if (fastSearchCondition && fastSearchCondition.length > 0) {\n        var model = this.props.model;\n        var conditions = model.getDataProperty('selected');\n        if (conditions) {\n          var selectedCondition = conditions.toJS();\n          var fast = selectedCondition.fast;\n          // let args = []\n          var fastSearch = [];\n          // args.push(fastSearch)\n          fastSearch = this.getFastSearch(fast, fastSearch);\n          if (fastSearch && fastSearch.length < 1) {\n            // 当前无任何已选条件\n            console.warn('QSOnBlur.... trigger search');\n            this.doSendSearch(selectedCondition, fastSearch);\n          }\n        }\n      }\n    }\n\n    // 缓存最近一次快速查询条件\n  }, {\n    key: \"setFastSearchCache\",\n    value: function setFastSearchCache() {\n      var fastSearchCondition = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      this._fastSearchCondition = fastSearchCondition;\n    }\n  }, {\n    key: \"getFastSearchCache\",\n    value: function getFastSearchCache() {\n      return this._fastSearchCondition;\n    }\n\n    // 判断2个快速查询条件集合是否相同\n  }, {\n    key: \"isSameFastSearchCondition\",\n    value: function isSameFastSearchCondition(oldFastSearch, newFastSearch) {\n      if (oldFastSearch && newFastSearch) {\n        if (oldFastSearch.length === newFastSearch.length) {\n          var oldFastSearchStr = '';\n          var newFastSearchStr = '';\n          oldFastSearch.forEach(function (item) {\n            oldFastSearchStr += item;\n          });\n          newFastSearch.forEach(function (item) {\n            newFastSearchStr += ' ' + item;\n          });\n          return oldFastSearchStr === newFastSearchStr; // 按照string方式比较\n        }\n      }\n      return false;\n    }\n\n    // 将string转为array，以空格分隔\n  }, {\n    key: \"getValue2Array\",\n    value: function getValue2Array(value) {\n      if (value) {\n        var result = [];\n        value.split(' ').forEach(function (item) {\n          if (item !== '') {\n            // 过滤掉空字符串\n            result.push(item);\n          }\n        });\n        return result;\n      }\n      return [];\n    }\n\n    // 封装触发搜索请求的逻辑\n  }, {\n    key: \"doSendSearch\",\n    value: function doSendSearch(selectedCondition, fastSearchCondition) {\n      var args = [];\n      var fastSearch = fastSearchCondition || [];\n      args.push(fastSearch);\n      var fast = selectedCondition.fast;\n      if (fastSearchCondition === undefined) {\n        fastSearch = this.getFastSearch(fast, fastSearch);\n      }\n      // 当前是否为'customSearch' or 方案查询\n      if (selectedCondition.customSearch || selectedCondition.scheme.currentScheme && selectedCondition.scheme.currentScheme.id !== undefined) {\n        var scheme = selectedCondition.scheme;\n        var advance = scheme.advance;\n        var add = scheme.add;\n        var _schemeSearch = this.getSchemeSearch(advance, add);\n        var grids = scheme.grids;\n        args.push(_schemeSearch);\n        args.push(this.getSelectedEntryEntity((0, _immutable.fromJS)(grids)));\n        this.sendSchemeSearch(args);\n      } else {\n        // 不是方案查询，即为常用查询\n        var common = selectedCondition.common;\n        var _commonSearch = [];\n        args.push(_commonSearch);\n        _commonSearch = this.getCommonSearch(common, _commonSearch);\n        this.sendCommonSearch(args);\n      }\n    }\n  }, {\n    key: \"onQSKeyDown\",\n    value:\n    // 快速查询: 回车操作\n    function onQSKeyDown(value, filedName, backspaceKey) {\n      // if (this._querying) {\n      //   return // 前一个查询(常用or方案)未结束，暂不处理下一个查询请求\n      // }\n      if (value !== undefined && value.trim) {\n        value = value.trim(); // 不处理空格\n      }\n      if (value === '' && !backspaceKey) {\n        // todo: Enter时,如果当前输入框中没有可编辑的文本 + 当前已选的快速查询条件与前一次触发查询的快速查询条件不一样，则主动触发一次查询\n        var fastSearchCondition = this.getFastSearchCache();\n        var _model = this.props.model;\n        var _conditions = _model.getDataProperty('selected');\n        if (_conditions) {\n          var _selectedCondition = _conditions.toJS();\n          var _fast = _selectedCondition.fast;\n          var fastSearch = [];\n          fastSearch = this.getFastSearch(_fast, fastSearch);\n          if (!this.isSameFastSearchCondition(fastSearchCondition, fastSearch)) {\n            console.warn('QSOnBlur.... start search');\n            this.doSendSearch(_selectedCondition, fastSearch);\n          }\n        }\n        return;\n      }\n      var model = this.props.model;\n      var conditions = model.getDataProperty('selected');\n      var selectedCondition = conditions.toJS();\n      var fields = model.getDataProperty('fields');\n      var fast = fields.get('fast');\n      var key = filedName;\n      if (filedName === undefined) {\n        key = fast.getIn([0, 'fieldName']); // 默认搜第一个快速搜索条件\n      }\n      if (key) {\n        var ignoreSearch = false; // 忽略本次查询\n        var _fast2 = selectedCondition.fast;\n        if (!backspaceKey) {\n          // 每次新搜索都当作一个新的条件，不与已有相同key的条件融合\n          var condition = {}; // 新增\n          condition.k = key;\n          // value里包含的空格用于分割字符串为多个查询条件\n          var useOrReplaceBlank = model.getDataProperty('useOrReplaceBlank');\n          condition.v = useOrReplaceBlank === false ? [value] : this.getValue2Array(value);\n          if (key === _serverproperties.QP_NLP_SEARCH) {\n            // 智能搜索\n            condition.k = '';\n            condition.isNlpSearch = true;\n            condition.nlpSearchResult = this.state.nlpSearchResult;\n          }\n          _fast2.push(condition);\n        } else if (value === '') {\n          // todo: 按键盘delete键，清理掉已有且排在最后一个的快速搜索条件\n          if (_fast2.length > 0) {\n            ignoreSearch = true;\n            var popItem = _fast2.pop();\n            var popValueArr = popItem && popItem.v;\n            if (popValueArr && popValueArr.length) {\n              var popString = '';\n              popValueArr.forEach(function (item, index) {\n                popString += (index > 0 ? ' ' : '') + item;\n              });\n              selectedCondition.fastText = {\n                // 退格生成新的快速查询的文本内容\n                fastText: popString,\n                fastTextFlag: (0, _componentutil.createNewId)()\n              };\n            }\n          } else {\n            return;\n          }\n        } else {\n          // 没有内容\n          return;\n        }\n        if (ignoreSearch !== true) {\n          this.doSendSearch(selectedCondition);\n        }\n        this.updateSelected(model, selectedCondition, selectedCondition.customSearch);\n      }\n    }\n\n    // 'customSearch': 是否是点击‘查询’按钮，触发自定义(方案)条件查询.\n    // 自定义查询时,不会选中特定查询方案,也不是常用查询\n  }, {\n    key: \"updateSelected\",\n    value: function updateSelected(model, selectedCondition, customSearch) {\n      if (customSearch === true) {\n        selectedCondition.customSearch = true;\n      } else {\n        selectedCondition.customSearch = false;\n      }\n      this.props.dispatch((0, _querypanelaction.updateSelected)(model, selectedCondition));\n    }\n\n    // 快速查询: 单击下拉列表某项操作\n  }, {\n    key: \"onQSSelectItem\",\n    value: function onQSSelectItem(key, value, isNlpSearch) {\n      value = value.trim();\n      var model = this.props.model;\n      var conditions = model.getDataProperty('selected');\n      var selectedCondition = conditions.toJS();\n      var fast = selectedCondition.fast;\n      // 每次新搜索都当作一个新的条件，不与已有相同key的条件融合\n      var condition = {}; // 新增\n      condition.k = key;\n      // value里包含的空格用于分割字符串为多个查询条件\n      var useOrReplaceBlank = model.getDataProperty('useOrReplaceBlank');\n      condition.v = useOrReplaceBlank === false ? [value] : this.getValue2Array(value);\n      if (isNlpSearch) {\n        // 智能搜索\n        condition.k = '';\n        condition.isNlpSearch = true;\n        condition.nlpSearchResult = this.state.nlpSearchResult;\n      }\n      fast.push(condition);\n      var args = [];\n      var fastSearch = [];\n      args.push(fastSearch);\n      fastSearch = this.getFastSearch(fast, fastSearch);\n      this.doSendSearch(selectedCondition, fastSearch);\n      this.updateSelected(model, selectedCondition, selectedCondition.customSearch);\n    }\n  }, {\n    key: \"onCommonSelect\",\n    value:\n    // 常用查询，选中查询条件, doNotSearch(只选中不调接口)\n    function onCommonSelect(key, subkeys, doNotSearch) {\n      // subkeys:['condition_id1','condition_id2'...] 支持同一条件多选的情况\n      var model = this.props.model;\n      var conditions = model.getDataProperty('selected');\n      var selectedCondition = conditions.toJS();\n      var fast = selectedCondition.fast;\n      var common = selectedCondition.common;\n      // todo:清除方案查询信息\n      var scheme = selectedCondition.scheme;\n      for (var _key in scheme.currentScheme) {\n        delete scheme.currentScheme[_key];\n      }\n      scheme.add = []; // 常用查询后清空方案查询中添加的条件\n      var target = _lodash[\"default\"].find(common, function (item) {\n        return item.k === key;\n      });\n      if (subkeys.length > 0) {\n        if (target) {\n          target.v = subkeys; // 覆盖\n          var count = common.length;\n          if (common.length > 1 && target !== common[count - 1]) {\n            // TODO:将最新点击的查询条件放到数组最后面(这是与server端的约定)\n            common.splice(common.indexOf(target), 1);\n            common.push(target);\n          }\n        } else {\n          var condition = {}; // 新增\n          condition.k = key;\n          condition.v = subkeys;\n          common.push(condition);\n        }\n      } else {\n        // 一个选项都没选中，则该条件重置为没选中状态\n        if (target) {\n          common.splice(common.indexOf(target), 1);\n        }\n      }\n      var args = [];\n      var fastSearch = [];\n      var commonSearch = [];\n      args.push(fastSearch);\n      args.push(commonSearch);\n      fastSearch = this.getFastSearch(fast, fastSearch);\n      commonSearch = this.getCommonSearch(common, commonSearch);\n      !doNotSearch && this.sendCommonSearch(args);\n      this.updateSelected(model, selectedCondition);\n    }\n\n    // 常用查询，选择单据体，确定按钮\n  }, {\n    key: \"onCommonSelectGrid\",\n    value: function onCommonSelectGrid() {\n      var model = this.props.model;\n      var conditions = model.getDataProperty('selected');\n      var selectedCondition = conditions.toJS();\n      var fast = selectedCondition.fast;\n      var common = selectedCondition.common;\n      var args = [];\n      var fastSearch = [];\n      var commonSearch = [];\n      args.push(fastSearch);\n      args.push(commonSearch);\n      fastSearch = this.getFastSearch(fast, fastSearch);\n      commonSearch = this.getCommonSearch(common, commonSearch);\n      this.sendCommonSearch(args);\n    }\n\n    // 存储自定义查询条件(比如自定义的日期范围) doNotSearch(只选中不调接口)\n  }, {\n    key: \"onCommonSelectCustom\",\n    value: function onCommonSelectCustom(key, customValue, doNotSearch) {\n      var model = this.props.model;\n      var conditions = model.getDataProperty('selected');\n      var selectedCondition = conditions.toJS();\n      var common = selectedCondition.common;\n      var target = _lodash[\"default\"].find(common, function (item) {\n        return item.k === key;\n      });\n      if (target) {\n        target.cv = customValue; // 临时条件，不立即参与查询\n        var count = common.length;\n        if (common.length > 1 && target !== common[count - 1]) {\n          // 最新条件放到数组最后面\n          common.splice(common.indexOf(target), 1);\n          common.push(target);\n        }\n      } else {\n        var condition = {};\n        condition.k = key;\n        condition.cv = customValue;\n        common.push(condition);\n      }\n      this.updateSelected(model, selectedCondition);\n\n      // 设置了自定义日期范围后，立即触发查询操作\n      !doNotSearch && this.onCommonEndCustom(key, selectedCondition);\n    }\n\n    // 使用自定义条件查询\n  }, {\n    key: \"onCommonEndCustom\",\n    value: function onCommonEndCustom(key, newSelectedCondition) {\n      var model = this.props.model;\n      var conditions = model.getDataProperty('selected');\n      var selectedCondition = newSelectedCondition || conditions.toJS();\n      var fast = selectedCondition.fast;\n      var common = selectedCondition.common;\n      // todo:清除方案查询信息\n      var scheme = selectedCondition.scheme;\n      for (var _key2 in scheme.currentScheme) {\n        delete scheme.currentScheme[_key2];\n      }\n      var target = _lodash[\"default\"].find(common, function (item) {\n        return item.k === key;\n      });\n      if (target) {\n        target.v = target.cv; // 覆盖\n      } else {\n        var condition = {}; // 新增\n        condition.k = key;\n        // condition.v = target.cv\n        common.push(condition);\n      }\n      var args = [];\n      var fastSearch = [];\n      var commonSearch = [];\n      args.push(fastSearch);\n      args.push(commonSearch);\n      fastSearch = this.getFastSearch(fast, fastSearch);\n      commonSearch = this.getCommonSearch(common, commonSearch);\n      this.sendCommonSearch(args);\n      this.updateSelected(model, selectedCondition);\n    }\n\n    // 常用查询：基础资料类型点击(user,org,basedata)\n  }, {\n    key: \"onCommonF7Click\",\n    value: function onCommonF7Click(key, isMulti, selectedItems) {\n      var _this$props5 = this.props,\n        model = _this$props5.model,\n        dispatch = _this$props5.dispatch;\n      dispatch((0, _querypanelaction.commonF7Click)(model, {\n        fieldName: key,\n        isMulti: isMulti,\n        selectedItems: selectedItems\n      }));\n    }\n\n    // 筛选条件：删除(取消)选中的查询条件\n    // 这里为‘常用查询的’选中条件，方案不会走这里，'必录项'也不会到这里来。\n  }, {\n    key: \"onSelectedConditionDel\",\n    value: function onSelectedConditionDel(key) {\n      var model = this.props.model;\n      var conditions = model.getDataProperty('selected');\n      var selectedCondition = conditions.toJS();\n      var fast = selectedCondition.fast;\n      var common = selectedCondition.common;\n      var target = _lodash[\"default\"].find(common, function (item) {\n        return item.k === key;\n      });\n      if (target) {\n        // 用户操作去掉该选项的选中时，则自动选中'不限'选项\n        // 服务端确认:只要该项不是'必录',则一定有'不限'选项\n        target.v = [_serverproperties.QP_BU_XIAN_ID];\n      }\n      var args = [];\n      var fastSearch = [];\n      var commonSearch = [];\n      args.push(fastSearch);\n      args.push(commonSearch);\n      fastSearch = this.getFastSearch(fast, fastSearch);\n      commonSearch = this.getCommonSearch(common, commonSearch);\n      this.sendCommonSearch(args);\n      this.updateSelected(model, selectedCondition);\n    }\n\n    // 快速查询：删除已查询过的条件标签\n  }, {\n    key: \"onQSDelCondition\",\n    value: function onQSDelCondition(key, index) {\n      var model = this.props.model;\n      var conditions = model.getDataProperty('selected');\n      var selectedCondition = conditions.toJS();\n      var fast = selectedCondition.fast;\n      var target = fast[index];\n      if (target) {\n        _lodash[\"default\"].pull(fast, target); // 删除\n      }\n      var args = [];\n      var fastSearch = [];\n      args.push(fastSearch);\n      fastSearch = this.getFastSearch(fast, fastSearch);\n      this.doSendSearch(selectedCondition, fastSearch);\n      this.updateSelected(model, selectedCondition, selectedCondition.customSearch);\n    }\n\n    // 点击'查询'按钮，触发自定义(方案)条件查询\n  }, {\n    key: \"onSchemeSearch\",\n    value: function onSchemeSearch() {\n      var model = this.props.model;\n      var selected = model.getDataProperty('selected');\n      var selectedCondition = selected.toJS();\n      var fast = selectedCondition.fast;\n      var scheme = selectedCondition.scheme;\n      var advance = scheme.advance;\n      var add = scheme.add;\n      // clear commno conditons\n      // selectedCondition.common.splice(0,selectedCondition.common.length);\n\n      // 清除'常用查询条件',保留常用查询里的‘必录项’\n      if (selectedCondition.common.length > 0) {\n        var newCommon = [];\n        selectedCondition.common.forEach(function (item) {\n          if (item[_serverproperties.QP_MUST_INPUT] == true) {\n            newCommon.push(item);\n          }\n        });\n        selectedCondition.common = newCommon;\n      }\n      var args = [];\n      var fastSearch = [];\n      var schemeSearch = this.getSchemeSearch(advance, add);\n      args.push(fastSearch);\n      args.push(schemeSearch);\n      fastSearch = this.getFastSearch(fast, fastSearch);\n      args.push(this.getSelectedEntryEntity());\n      this.sendSchemeSearch(args);\n      // let schemeQuery = scheme.currentScheme\n      // if (schemeQuery && schemeQuery.id !== undefined) { // 有方案\n      //   this.updateSelected(model, selectedCondition)\n      // } else {\n      this.updateSelected(model, selectedCondition, true); // 点击'查询'按钮，'已选条件'区域不显示任何内容\n      // }\n    }\n\n    // 方案查询：固定条件更改\n  }, {\n    key: \"onSchemeConditionChange\",\n    value: function onSchemeConditionChange(index, key, compare, value, cacheValueObj) {\n      var model = this.props.model;\n      var pageId = model.pageId;\n      var selected = model.getDataProperty('selected');\n      var selectedCondition = selected.toJS();\n      var scheme = selectedCondition.scheme;\n      // let target = scheme[index];\n      var target = scheme.advance[index];\n      if (target) {\n        if (target.k === key) {\n          if (compare !== undefined) {\n            target.c = compare;\n            // 如果切换为常量比较符号,就缓存旧value;相反切换为非常量比较符且缓存value存在,就把当前value设置旧的value,同时把缓存value删除\n            var useCacheValue = cacheValueObj.useCacheValue,\n              notNeedInput = cacheValueObj.notNeedInput;\n            if (useCacheValue) {\n              if (notNeedInput) {\n                if (target.cacheValue === undefined) {\n                  target.cacheValue = target.v; // 缓存旧value\n                }\n              } else if (target.cacheValue !== undefined) {\n                value = target.cacheValue; // 使用缓存value后删除缓存value\n                target.cacheValue = undefined;\n              }\n            } else {\n              if (target.v !== undefined) {\n                target.cacheValue = target.v; // 先缓存最后的value(比如datetime类型,要求value输入数字的情况)\n              }\n            }\n          }\n          if (value !== undefined) {\n            // =======这里的判断性能很差，应该保存在selected中，不需要每次都取重新取 -wenqiao 20170630===//\n            var options = model.getDataProperty('fields');\n            var advance = options.getIn(['scheme', 'advance']);\n            var condition = advance.find(function (item) {\n              return target.k === item.get('fieldName');\n            });\n            var _compare = condition.get('compareTypes').find(function (item) {\n              return item.get('id') === target.c;\n            });\n            var multiSelect = false;\n            if (_compare) {\n              multiSelect = _compare.get(_serverproperties.QP_MULTI) == true;\n            }\n\n            // test data\n            // multiSelect = true;\n            // ===============================end================================================//\n\n            if (multiSelect && typeof value === 'string') {\n              // 是下拉且多选\n              var valueArr = value.split(','); // 此时value格式: 'a1,a2,a3'\n              value = [];\n              valueArr.forEach(function (str) {\n                value.push(str);\n              });\n            }\n            target.v = value;\n          }\n          this.updateSelected(model, selectedCondition, selectedCondition.customSearch);\n        } else {\n          // window.alert('scheme待修改条件key对不上...')\n          (0, _appModelFunction.setDataMessages)(pageId, {\n            content: (0, _intlApi.getLangMsg)({\n              key: 'QueryPanel.key0041'\n            }),\n            type: _const.AlertType.WARNING,\n            duration: 5000\n          });\n        }\n      } else {\n        // window.alert('scheme条件没找到...')\n        (0, _appModelFunction.setDataMessages)(pageId, {\n          content: (0, _intlApi.getLangMsg)({\n            key: 'QueryPanel.key0042'\n          }),\n          type: _const.AlertType.WARNING,\n          duration: 5000\n        });\n      }\n    }\n\n    // 方案查询：条件更改(isAdvance: 是否为高级/固定条件,即非可删除条件)\n  }, {\n    key: \"onSchemeAddConditionChange\",\n    value: function onSchemeAddConditionChange(isAdvance, index, key, compare, value, cacheValueObj, logicObj) {\n      var model = this.props.model;\n      var pageId = model.pageId;\n      var selected = model.getDataProperty('selected');\n      var selectedCondition = selected.toJS();\n      var scheme = selectedCondition.scheme;\n      var target = isAdvance ? scheme.advance[index] : scheme.add[index];\n      if (target) {\n        if (target.k === key) {\n          // compare or value changed\n          var _ref5 = logicObj || {},\n            left = _ref5.left,\n            right = _ref5.right,\n            logic = _ref5.logic;\n          // 左括号\n          if (left !== undefined) {\n            if (left === '_blank') {\n              // 空选项\n              target[_serverproperties.QP_LEFT_BRACKET] = '';\n            } else {\n              target[_serverproperties.QP_LEFT_BRACKET] = left;\n            }\n          }\n          // 右括号\n          if (right !== undefined) {\n            if (right === '_blank') {\n              target[_serverproperties.QP_RIGHT_BRACKET] = '';\n            } else {\n              target[_serverproperties.QP_RIGHT_BRACKET] = right;\n            }\n          } else if (logic !== undefined) {\n            target[_serverproperties.QP_LOGIC] = logic;\n          }\n          // 逻辑符\n          if (logic !== undefined) {\n            target[_serverproperties.QP_LOGIC] = logic;\n          }\n          var useCacheValue = cacheValueObj.useCacheValue,\n            notNeedInput = cacheValueObj.notNeedInput,\n            needClearBaseDataId = cacheValueObj.needClearBaseDataId,\n            compareObj = cacheValueObj.compareObj;\n          if (compare !== undefined) {\n            target.c = compare;\n            // 如果切换为常量比较符号,就缓存旧value;相反切换为非常量比较符且缓存value存在,就把当前value设置旧的value,同时把缓存value删除\n            if (useCacheValue) {\n              if (notNeedInput) {\n                if (target.cacheValue === undefined) {\n                  target.cacheValue = target.v; // 缓存旧value\n                }\n              } else if (target.cacheValue !== undefined) {\n                if (compareObj && !compareObj.get('multi')) {\n                  // 当前比较不是多选时,缓存的值符合单选条件时才使用缓存值\n                  if (!Array.isArray(target.cacheValue) || Array.isArray(target.cacheValue) && target.cacheValue.length < 2) {\n                    value = target.cacheValue; // 使用缓存value后删除缓存value\n                  }\n                } else {\n                  value = target.cacheValue; // 使用缓存value后删除缓存value\n                }\n                target.cacheValue = undefined;\n              }\n            } else {\n              if (target.v !== undefined) {\n                target.cacheValue = target.v; // 先缓存最后的value(比如datetime类型,要求value输入数字的情况)\n              }\n            }\n          }\n          if (needClearBaseDataId && target.id) {\n            target.id = undefined; // 清空基础资料id\n          }\n          if (value !== undefined) {\n            // =======这里的判断性能很差，应该保存在selected中，不需要每次都取重新取 -wenqiao 20170630===//\n            var options = model.getDataProperty('fields');\n            var conditions = options.getIn(['scheme', 'conditions']);\n            var condition = conditions.find(function (item) {\n              return target.k === item.get('fieldName');\n            });\n            var _compare2 = condition.get('compareTypes').find(function (item) {\n              return item.get('id') === target.c;\n            });\n            var multiSelect = false;\n            if (_compare2) {\n              multiSelect = _compare2.get(_serverproperties.QP_MULTI) == true;\n            }\n\n            // test data\n            // multiSelect = true;\n            // ===============================end================================================//\n\n            if (multiSelect && typeof value === 'string') {\n              // 是下拉且多选\n              var valueArr = value.split(','); // 此时value格式: 'a1,a2,a3'\n              value = [];\n              valueArr.forEach(function (str) {\n                value.push(str);\n              });\n            }\n            target.v = value;\n          }\n          // if (!logicObj) {\n          //   selectedCondition.scheme = this.getNewSchemeByDependent(scheme, target)\n          // }\n          this.updateSelected(model, selectedCondition, selectedCondition.customSearch);\n        } else {\n          // conditon changed\n          if (isAdvance) {\n            // window.alert('scheme待修改条件key对不上...')\n            (0, _appModelFunction.setDataMessages)(pageId, {\n              content: (0, _intlApi.getLangMsg)({\n                key: 'QueryPanel.key0041'\n              }),\n              type: _const.AlertType.WARNING,\n              duration: 5000\n            });\n          } else {\n            var _options = model.getDataProperty('fields');\n            var scheme2 = _options.get('scheme');\n            var conditions2 = scheme2.get('conditions');\n            if (conditions2 && conditions2.count() > 0) {\n              var map = conditions2.find(function (item, index) {\n                return key === item.get('fieldName');\n              });\n              var _condition = {};\n              _condition.k = map.get('fieldName'); // key\n              _condition.v = map.getIn(['items', 0, 'value']) || ''; // items第一个值\n              _condition.c = map.getIn(['compareTypes', 0, 'id']) || ''; // compareType第一个值\n              scheme.add[index] = _condition; // 替换\n              // selectedCondition.scheme = this.getNewSchemeByDependent(scheme, condition)\n              this.updateSelected(model, selectedCondition, selectedCondition.customSearch);\n            }\n          }\n        }\n      } else {\n        if (isAdvance) {\n          // window.alert('scheme条件没找到...')\n          (0, _appModelFunction.setDataMessages)(pageId, {\n            content: (0, _intlApi.getLangMsg)({\n              key: 'QueryPanel.key0042'\n            }),\n            type: _const.AlertType.WARNING,\n            duration: 5000\n          });\n        } else {\n          // window.alert('scheme动态添加的条件没找到...')\n          (0, _appModelFunction.setDataMessages)(pageId, {\n            content: (0, _intlApi.getLangMsg)({\n              key: 'QueryPanel.key0043'\n            }),\n            type: _const.AlertType.WARNING,\n            duration: 5000\n          });\n        }\n      }\n    }\n  }, {\n    key: \"getNewSchemeByDependent\",\n    value: function getNewSchemeByDependent(scheme, newCondition) {\n      var _currentCondition$get,\n        _this4 = this;\n      var model = this.props.model;\n      var fields = model.getDataProperty('fields');\n      var conditionOptions = fields.getIn(['scheme', 'conditions']);\n      var fieldsDependent = fields.getIn(['scheme', 'fieldsDependent']);\n      var fieldName = newCondition.k,\n        compare = newCondition.c;\n      var dependentFields = fieldsDependent === null || fieldsDependent === void 0 ? void 0 : fieldsDependent.get(fieldName);\n      if (!dependentFields || dependentFields.count() === 0) return scheme;\n      var currentCondition = conditionOptions.find(function (condition) {\n        return condition.get('fieldName') === fieldName;\n      });\n      var compareValue = currentCondition === null || currentCondition === void 0 || (_currentCondition$get = currentCondition.get('compareTypes').find(function (compareType) {\n        return compareType.get('id') === compare;\n      })) === null || _currentCondition$get === void 0 ? void 0 : _currentCondition$get.get('value');\n      if (compareValue === 'NOTISNULL') return scheme;\n      var add = scheme.add,\n        advance = scheme.advance;\n      var clearedFields = [];\n      advance.concat(add).forEach(function (conditon) {\n        var v = conditon.v,\n          k = conditon.k;\n        if (!_this4.isEmptyConditonValue(v) && dependentFields.includes(k)) {\n          conditon.v = Array.isArray(v) ? [''] : '';\n          conditon.id = undefined;\n          clearedFields.push(k);\n        }\n      });\n      if (clearedFields.length > 0) {\n        this.showClearFieldMessage(clearedFields, conditionOptions, currentCondition);\n      }\n      return scheme;\n    }\n  }, {\n    key: \"InitSchemeQuery\",\n    value:\n    // 初始化'selected->scheme'的数据存储结构\n    function InitSchemeQuery(newFields, newSelected) {\n      var _this5 = this;\n      // todo: when 'selected->scheme->advance和add内'无内容 /*or 没有方案/删除方案操作之后*/\n      var model = this.props.model;\n      var selected = model.getDataProperty('selected');\n      if (!selected || selected.getIn(['scheme', 'advance']).count() > 0 || selected.getIn(['scheme', 'add']).count() > 0) {\n        return;\n      }\n      var selectedCondition = newSelected === undefined ? selected.toJS() : newSelected.toJS();\n      var scheme = selectedCondition.scheme;\n      var currentScheme = scheme.currentScheme;\n      var shouldUpdate = false;\n      if (currentScheme && currentScheme.id) {\n        // todo: 方案已有，需要重新初始化selected->scheme->advance和add\n        // alert('InitSchemeQuery: to be added... ');\n        console.warn('InitSchemeQuery: to be added... ');\n      } else {\n        // todo: 方案不存在，取fields->advance中数据初始化查询条件\n        var scheme2 = newFields.get('scheme');\n        var defaultSchemeGUID = newFields.getIn(['scheme', 'defaultScheme', 'defaultSchemeGUID']);\n        if (defaultSchemeGUID && defaultSchemeGUID !== this._defaultSchemeGUID) {\n          // 加载初始默认方案\n          this._defaultSchemeGUID = defaultSchemeGUID;\n          this.defaultSchemeId = newFields.getIn(['scheme', 'defaultScheme', 'defaultSchemeId']);\n          this.selectScheme(this.defaultSchemeId, newFields, newSelected);\n        } else {\n          // 没有选中特定方案时，默认的方案固定查询条件从‘fields->scheme->advance’取\n          var advance = scheme2.get('advance');\n          var obj, defaultValues,\n            // 固定查询个条件，默认值\n            defaultCompareType; // 默认比较符，用于确认默认值‘defaultValues’是用于比较符部分的常量还是value部分.\n          var items, compareTypes, id;\n          var type;\n          var basedataList = ['basedata', 'mulbasedata', 'org', 'user']; // 基础资料类型列表\n          advance.forEach(function (field, index) {\n            obj = {};\n            obj.k = field.get('fieldName');\n            id = field.get('id');\n            items = field.get('items');\n            compareTypes = field.get('compareTypes');\n            defaultValues = field.get(_serverproperties.QP_DEFAULT_VALUES);\n            defaultCompareType = field.get(_serverproperties.QP_DEFAULT_COMPARETYPE); // 方案查询的比较符只有一个\n\n            // 默认value\n            // 20171205,服务端发过来的默认值都放在array里。\n            if (defaultValues !== undefined && defaultValues !== null) {\n              if (defaultValues instanceof _immutable.List) {\n                type = field.get('type');\n                if (basedataList.indexOf(type) > -1) {\n                  obj.v = defaultValues; // 是基础资料类型的，默认值server端传输格式：[xx,xx,xx]，保留。\n                } else if (defaultValues.count() === 0) {\n                  obj.v = '';\n                } else if (defaultValues.count() === 1) {\n                  obj.v = defaultValues.get(0);\n                } else {\n                  obj.v = defaultValues;\n                }\n              } else {\n                obj.v = defaultValues;\n              }\n            } else if (items && items.count() > 0) {\n              obj.v = items.first().get('value'); // value选项，默认取第一个\n            } else {\n              obj.v = '';\n            }\n\n            // 默认比较符\n            if (defaultCompareType !== undefined && defaultCompareType !== null) {\n              obj.c = defaultCompareType;\n            } else if (compareTypes && compareTypes.count() > 0) {\n              obj.c = compareTypes.first().get('id'); // 比较符，默认取第一个\n            } else {\n              obj.c = '';\n            }\n            if (id) {\n              obj.id = id;\n            }\n            scheme.advance.push(obj);\n            shouldUpdate = true;\n          });\n          if (shouldUpdate === true) {\n            // 在didmount中更新store，存在上一个dispatch还未执行完毕的可能，需要异步处理，否则会报redux的重复dispatch的错误\n            setTimeout(function () {\n              _this5.updateSelected(model, selectedCondition);\n            }, 0);\n          }\n        }\n      }\n    }\n\n    // 方案查询：删除指定高级条件\n  }, {\n    key: \"onSchemeConditionDel\",\n    value: function onSchemeConditionDel(index) {\n      var model = this.props.model;\n      var conditions = model.getDataProperty('selected');\n      var selectedCondition = conditions.toJS();\n      var scheme = selectedCondition.scheme;\n      var add = scheme.add;\n      var target = add[index];\n      if (target) {\n        _lodash[\"default\"].pull(add, target); // 删除\n      }\n      this.updateSelected(model, selectedCondition, selectedCondition.customSearch);\n    }\n\n    // 方案查询：增加一条高级查询条件\n  }, {\n    key: \"onSchemeConditionAdd\",\n    value: function onSchemeConditionAdd() {\n      var model = this.props.model;\n      var conditions = model.getDataProperty('selected');\n      var selectedCondition = conditions.toJS();\n      var scheme = selectedCondition.scheme;\n      var add = scheme.add;\n      var options = model.getDataProperty('fields');\n      var scheme2 = options.get('scheme');\n      var conditions2 = scheme2.get('conditions');\n      if (conditions2 && conditions2.count() > 0) {\n        var map = conditions2.first();\n        var condition = {}; // 新增\n        condition.k = map.get('fieldName'); // key\n        condition.v = map.getIn(['items', 0, 'value']) || ''; // items第一个值\n        condition.c = map.getIn(['compareTypes', 0, 'id']) || ''; // compareType第一个值\n        add.push(condition);\n        // selectedCondition.scheme = this.getNewSchemeByDependent(scheme, condition)\n        this.updateSelected(model, selectedCondition, selectedCondition.customSearch);\n      }\n    }\n\n    // 过滤的单据体相关设置：显示/隐藏列，列宽等\n  }, {\n    key: \"onSchemeFitlerSetting\",\n    value: function onSchemeFitlerSetting() {\n      // let {model} = this.props;\n      // this.props.filterSetting(model,[]);\n    }\n  }, {\n    key: \"onSchemeNameChanged\",\n    value: function onSchemeNameChanged(newName) {\n      var model = this.props.model;\n      var selected = model.getDataProperty('selected');\n      var selectedCondition = selected.toJS();\n      var currentScheme = selectedCondition.scheme.currentScheme;\n      currentScheme.schemeName = newName;\n      this.updateSelected(model, selectedCondition, selectedCondition.customSearch);\n    }\n\n    // 方案查询：保存方案\n  }, {\n    key: \"onSchemeSave\",\n    value: function onSchemeSave() {\n      var _this$props6 = this.props,\n        model = _this$props6.model,\n        dispatch = _this$props6.dispatch;\n      var conditions = model.getDataProperty('selected');\n      var selectedCondition = conditions.toJS();\n      var scheme = selectedCondition.scheme;\n      var advance = scheme.advance;\n      var add = scheme.add;\n      var currentScheme = scheme.currentScheme;\n      var args = {};\n      var schemeSearch = [];\n      var value;\n      advance.forEach(function (item) {\n        // scheme.advance\n        value = item.v || '';\n        if (Object.prototype.toString.call(value) === '[object Array]') {\n          // value为数组时，不再加'[]'，针对下拉多选的情况.\n        } else {\n          value = [value];\n        }\n        var condition = {\n          FieldName: [item.k],\n          Compare: [item.c || ''],\n          Value: value,\n          Left: [item[_serverproperties.QP_LEFT_BRACKET] || ''],\n          Right: [item[_serverproperties.QP_RIGHT_BRACKET] || ''],\n          Logic: [item[_serverproperties.QP_LOGIC] || 0],\n          fixed: true\n        };\n        var id = item.id;\n        if (id) {\n          condition.id = id;\n        }\n        schemeSearch.push(condition);\n      });\n      add.forEach(function (item) {\n        // scheme.add\n        value = item.v || '';\n        if (Object.prototype.toString.call(value) === '[object Array]') {\n          // value为数组时，不再加'[]'，针对下拉多选的情况.\n        } else {\n          value = [value];\n        }\n        var condition = {\n          FieldName: [item.k],\n          Compare: [item.c || ''],\n          Value: value,\n          Left: [item[_serverproperties.QP_LEFT_BRACKET] || ''],\n          Right: [item[_serverproperties.QP_RIGHT_BRACKET] || ''],\n          Logic: [item[_serverproperties.QP_LOGIC] || 0]\n        };\n        var id = item.id;\n        if (id) {\n          condition.id = id;\n        }\n        schemeSearch.push(condition);\n      });\n      args.schemeName = currentScheme.schemeName || '';\n      if (currentScheme.id) {\n        args.id = currentScheme.id;\n      }\n      args.entryEntity = this.getSelectedEntryEntity();\n      args.scheme = schemeSearch;\n      // args['seq'] = 0;\n      dispatch((0, _querypanelaction.saveScheme)(model, [args]));\n    }\n\n    // 方案查询：删除方案\n  }, {\n    key: \"onSchemeDelete\",\n    value: function onSchemeDelete() {\n      var _this$props7 = this.props,\n        model = _this$props7.model,\n        dispatch = _this$props7.dispatch;\n      var conditions = model.getDataProperty('selected');\n      var selectedCondition = conditions.toJS();\n      var scheme = selectedCondition.scheme;\n      var currentScheme = scheme.currentScheme;\n      if (currentScheme.id !== undefined) {\n        dispatch((0, _querypanelaction.deleteScheme)(model, [currentScheme.id]));\n      } else {\n        console.warn('scheme ID is not exist, action failed...');\n      }\n    }\n\n    // 方案查询：设置/取消默认方案\n  }, {\n    key: \"onSchemeSetDefault\",\n    value: function onSchemeSetDefault(isDefault) {\n      var _this$props8 = this.props,\n        model = _this$props8.model,\n        dispatch = _this$props8.dispatch;\n      var conditions = model.getDataProperty('selected');\n      var selectedCondition = conditions.toJS();\n      var scheme = selectedCondition.scheme;\n      var currentScheme = scheme.currentScheme;\n      if (currentScheme.id) {\n        dispatch((0, _querypanelaction.setDefaultScheme)(model, [currentScheme.id, isDefault]));\n      }\n    }\n  }, {\n    key: \"selectScheme\",\n    value:\n    /**\n    * 切换方案：UI上加载方案设置，并发送过滤请求到server\n    * schemeId: 要加载方案的id\n    * fields: 控件初始化,加载默认方案时,服务端发过来业务数据(存储结构里的fields,与selected同级)\n    * 此时this.props.model里还没有这些fields,来自'componentWillReceiveProps'\n    */\n    function selectScheme(schemeId, fields, newSelected) {\n      var model = this.props.model;\n      var selected = model.getDataProperty('selected');\n      var selectedCondition = newSelected === undefined ? selected.toJS() : newSelected.toJS();\n      var currentScheme = selectedCondition.scheme.currentScheme;\n      if (currentScheme.id && currentScheme.id === schemeId) {\n        // do nothing\n      } else {\n        var advance = selectedCondition.scheme.advance;\n        var add = selectedCondition.scheme.add;\n        var grids = selectedCondition.scheme.grids;\n        // 清除常用查询条件\n        // selectedCondition.common.splice(0,selectedCondition.common.length);\n        // 保留常用查询里的‘必录项’\n        if (selectedCondition.common.length > 0) {\n          var newCommon = [];\n          selectedCondition.common.forEach(function (item) {\n            if (item[_serverproperties.QP_MUST_INPUT] == true) {\n              newCommon.push(item);\n            }\n          });\n          selectedCondition.common = newCommon;\n        }\n        var options = fields || model.getDataProperty('fields');\n        var commonSchemes = options.getIn(['scheme', 'commonSchemes']);\n        // 取选中方案的元数据，生成查询条件\n        var target = commonSchemes.find(function (item) {\n          return item.get('id') === schemeId;\n        });\n        if (target) {\n          advance.splice(0, advance.length); // clear current scheme\n          add.splice(0, add.length);\n          grids.splice(0, grids.length);\n          currentScheme.id = target.get('id'); // load new scheme\n          currentScheme.schemeName = target.get('schemeName');\n          var schemeObj = target.get('scheme');\n          if (schemeObj) {\n            var value, condition, cType;\n            var conditionList = options.getIn(['scheme', 'conditions']);\n            var basedataList = ['basedata', 'mulbasedata', 'org', 'user']; // 基础资料类型列表\n            schemeObj.forEach(function (item) {\n              value = item.get('Value');\n              condition = conditionList.find(function (con) {\n                return con.get('fieldName') === item.getIn(['FieldName', 0]);\n              });\n              if (condition) {\n                cType = condition.get('type');\n              }\n              if (cType && basedataList.indexOf(cType) > -1) {\n                // 基础资料类型的，value格式为\"[[key，name]]\"，不需要再处理\n              } else if (value instanceof _immutable.List && value.count() > 1) {\n                // 条件内容为多选时，Value：格式为'[a1,a2,a3]'(下拉且多选)，不需要再处理\n              } else {\n                value = item.getIn(['Value', 0]);\n              }\n              var conditionItem = _defineProperty(_defineProperty(_defineProperty({\n                k: item.getIn(['FieldName', 0]),\n                c: item.getIn(['Compare', 0]),\n                v: value\n              }, _serverproperties.QP_LEFT_BRACKET, item.getIn(['Left', 0])), _serverproperties.QP_RIGHT_BRACKET, item.getIn(['Right', 0])), _serverproperties.QP_LOGIC, item.getIn(['Logic', 0]));\n              var id = item.getIn(['id']);\n              if (id) {\n                conditionItem.id = id;\n              }\n              if (item.get('fixed') === true) {\n                advance.push(conditionItem);\n              } else {\n                add.push(conditionItem);\n              }\n            });\n          }\n          // todo：自动选中单据头\n          options.getIn(['scheme', 'entryenties']).forEach(function (item) {\n            if (item.get('parentKey') === '') {\n              grids.push(item.get('key'));\n            }\n          });\n          var entryEntityId = target.get('entryEntity');\n          if (entryEntityId) {\n            grids.push(entryEntityId);\n            // todo:查看是否有父单据体，有则选中\n            var entryEntity = options.getIn(['scheme', 'entryenties']).find(function (entry) {\n              return entry.get('key') === entryEntityId;\n            });\n            if (entryEntity) {\n              var entryEntityParentKey = entryEntity.get('parentKey');\n              if (entryEntityParentKey) {\n                grids.push(entryEntityParentKey);\n              } // 暂时只考虑'单据体/子单据体'的情况，不考虑超过2层的。\n            }\n          }\n\n          // 初始时，加载默认方案，不向server发送查询请求，服务端默认会过滤\n          if (!fields) {\n            // todo:发送方案查询请求\n            var fast = selectedCondition.fast;\n            var args = [];\n            var fastSearch = [];\n            var _schemeSearch2 = this.getSchemeSearch(advance, add);\n            args.push(fastSearch);\n            args.push(_schemeSearch2);\n            fastSearch = this.getFastSearch(fast, fastSearch);\n            args.push(this.getSelectedEntryEntity((0, _immutable.fromJS)(grids)));\n            this.sendSchemeSearch(args);\n          }\n          this.updateSelected(model, selectedCondition);\n        }\n      }\n    }\n\n    // 选中某个方案\n  }, {\n    key: \"onSchemeSelect\",\n    value: function onSchemeSelect(schemeId) {\n      this.selectScheme(schemeId);\n    }\n\n    // 从‘筛选条件’中删除(非真的删除一个查询方案)\n  }, {\n    key: \"onDelSelectedScheme\",\n    value: function onDelSelectedScheme(schemeId) {\n      // todo: 清空当前选中的方案信息\n      var model = this.props.model;\n      var selected = model.getDataProperty('selected');\n      selected = selected.toJS();\n      var scheme = selected.scheme;\n      scheme.advance.splice(0, scheme.advance.length); // clear current scheme\n      scheme.add.splice(0, scheme.add.length);\n      for (var key in scheme.currentScheme) {\n        delete scheme.currentScheme[key];\n      }\n      var grids = selected.scheme.grids;\n      // todo:删除选中方案后，重新发送方案查询请求\n      var fast = selected.fast;\n      var args = [];\n      var fastSearch = [];\n      var schemeSearch = [];\n      // 删除选中方案后，方案查询内容要显示固定的高级查询条件\n      var fields = model.getDataProperty('fields');\n      var advance = fields.getIn(['scheme', 'advance']);\n      if (advance && advance.count() > 0) {\n        var newAdvance = [];\n        newAdvance = this.getAdvanceDefaultCon(advance, newAdvance);\n        if (selected.scheme === undefined) {\n          selected.scheme = {};\n        } else {\n          selected.scheme.advance = newAdvance;\n        }\n\n        // 叉掉当前查询的方案后，用使用方案查询的‘(固定)高级查询条件，即必录条件进行查询’\n        schemeSearch = this.getSchemeSearch(newAdvance, []);\n      }\n      args.push(fastSearch);\n      args.push(schemeSearch);\n      fastSearch = this.getFastSearch(fast, fastSearch);\n      args.push(this.getSelectedEntryEntity((0, _immutable.fromJS)(grids)));\n      this.sendSchemeSearch(args);\n      this.updateSelected(model, selected, true); // 叉掉已选方案后，不渲染'常用查询'中的必录条件\n    }\n\n    /* 获取方案查询-高级查询的固定条件(含默认值)\n    * advanceFields: 'fields'-'scheme'-'advance';\n    * advaneceSelected: [];\n    */\n  }, {\n    key: \"getAdvanceDefaultCon\",\n    value: function getAdvanceDefaultCon(advanceFields) {\n      var advaneceSelected = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n      if (advanceFields) {\n        var obj, defaultValues,\n          // 固定查询个条件，默认值\n          defaultCompareType; // 默认比较符，用于确认默认值‘defaultValues’是用于比较符部分的常量还是value部分.\n\n        var items, compareTypes;\n        advanceFields.forEach(function (field, index) {\n          var _field$get;\n          obj = {};\n          obj.k = field.get('fieldName');\n          items = field.get('items');\n          compareTypes = field.get('compareTypes');\n          /*\n            todo:20171017与server端开发沟通确认：\n            advance的每条条件中增加‘默认比较符’的值'defaultCompareType'，用于设置默认比较符，\n            defultValue'用于设置value的默认值。\n          */\n          defaultValues = field.get(_serverproperties.QP_DEFAULT_VALUES);\n          defaultCompareType = field.get(_serverproperties.QP_DEFAULT_COMPARETYPE); // 方案查询的比较符只有一个\n          // 默认value (这里可能还是有问题？默认值需要根据类型来取值!!)\n          if (defaultValues !== undefined && defaultValues !== null) {\n            if (defaultValues instanceof _immutable.List) {\n              if (defaultValues.count() === 0) {\n                obj.v = '';\n              } else if (defaultValues.count() === 1) {\n                obj.v = defaultValues.get(0);\n              } else {\n                obj.v = defaultValues;\n              }\n            } else {\n              obj.v = defaultValues;\n            }\n          } else if (items && items.count() > 0) {\n            // 没有默认值，则默认取第一个下拉项\n            obj.v = items.first().get('value');\n          } else {\n            obj.v = '';\n          }\n\n          // 默认比较符\n          if (defaultCompareType !== undefined && defaultCompareType !== null) {\n            obj.c = defaultCompareType;\n          } else if (compareTypes && compareTypes.count() > 0) {\n            obj.c = compareTypes.first().get('id');\n          } else {\n            obj.c = '';\n          }\n\n          // 需要判断是否携带id\n          if (((_field$get = field.get('id')) === null || _field$get === void 0 ? void 0 : _field$get.size) > 0) {\n            obj.id = field.get('id').toJS();\n          }\n          advaneceSelected.push(obj);\n        });\n      }\n      return advaneceSelected;\n    }\n\n    // 方案查询：选中特定单据体\n  }, {\n    key: \"onSchemeSelectGrid\",\n    value: function onSchemeSelectGrid(gridId) {\n      var model = this.props.model;\n      var selected = model.getDataProperty('selected');\n      var selectedCondition = selected.toJS();\n      var scheme = selectedCondition.scheme;\n      var grids = scheme.grids;\n      var fields = model.getDataProperty('fields');\n      var entryEntities = fields.getIn(['scheme', 'entryenties']);\n      var targetGrid = entryEntities.find(function (item) {\n        return item.get('key') === gridId;\n      });\n      if (targetGrid.get('parentKey') === '') {// 单据头，必须选中(且默认选中)\n      } else {\n        // todo: 多单据体选择发生变化，清除快速查询所有条件\n        var fast = selectedCondition.fast;\n        fast.splice(0, fast.length);\n\n        // 取消已选中的单据体\n        if (grids.indexOf(gridId) > -1) {\n          // todo：取消其所有子单据体\n          entryEntities.forEach(function (item) {\n            if (item.get('parentKey') === gridId) {\n              _lodash[\"default\"].pull(grids, item.get('key'));\n            }\n          });\n          // todo: 取消自己\n          _lodash[\"default\"].pull(grids, gridId);\n        } else {\n          // todo:清空所有选中单据体\n          grids.splice(0, grids.length);\n          // todo:选中gridId和其父grid\n          grids.push(gridId);\n          var parentkey = targetGrid.get('parentKey');\n          var parentGrid = entryEntities.find(function (item) {\n            return item.get('key') === parentkey;\n          });\n          if (parentGrid) {\n            grids.push(parentkey);\n          }\n          // todo:添加单据头\n          entryEntities.forEach(function (item) {\n            if (item.get('parentKey') === '') {\n              grids.push(item.get('key'));\n            }\n          });\n        }\n        // todo:过滤掉selected-advance和selected-add中不在选中单据体中的字段\n        var advance = scheme.advance;\n        var add = scheme.add;\n        var conditions = fields.getIn(['scheme', 'conditions']);\n        var condition, entryEntityId;\n        if (advance.length > 0) {\n          // 2017-3-30 目前常用查询里只能绑定表头字段，所以advance里也只有表头字段，无需过滤\n          var result = _lodash[\"default\"].remove(advance, function (item) {\n            condition = conditions.find(function (obj) {\n              return obj.get('fieldName') === item.k;\n            });\n            if (condition) {\n              entryEntityId = condition.get('entryEntity');\n              return grids.indexOf(entryEntityId) < 0 && entryEntityId !== null; // 不在选中单据中或是非单据体字段\n            }\n          });\n        }\n        if (add.length > 0) {\n          var _result = _lodash[\"default\"].remove(add, function (item) {\n            condition = conditions.find(function (obj) {\n              return obj.get('fieldName') === item.k;\n            });\n            if (condition) {\n              entryEntityId = condition.get('entryEntity');\n              return grids.indexOf(entryEntityId) < 0 && entryEntityId !== null;\n            }\n          });\n        }\n        this.updateSelected(model, selectedCondition, selectedCondition.customSearch);\n      }\n    }\n\n    // 方案查询，通用点击事件\n  }, {\n    key: \"onSchemeFieldValueClick\",\n    value: function onSchemeFieldValueClick(_ref6) {\n      var key = _ref6.key,\n        compareType = _ref6.compareType,\n        clientType = _ref6.clientType,\n        rowIndex = _ref6.rowIndex;\n      var _this$props9 = this.props,\n        model = _this$props9.model,\n        dispatch = _this$props9.dispatch;\n      var fields = model.getDataProperty('fields');\n      var conditions = fields.getIn(['scheme', 'conditions']);\n      var condition = conditions.find(function (item) {\n        return item.get('fieldName') === key;\n      });\n      // 查询字段所属的单据体id\n      var entryEntityId = condition ? condition.get('entityId') : '';\n      var schemeConditions = this.getShemeSearchConditions();\n      dispatch((0, _querypanelaction.fieldValueClick)(model, {\n        fieldName: key,\n        compareType: compareType,\n        clientType: clientType,\n        rowIndex: rowIndex,\n        entityId: entryEntityId,\n        schemeConditions: schemeConditions\n      }));\n    }\n\n    /* 方案查询: basedata类型点击\n    * fieldName:字段id, compareType:比较符id, clientType:客户端类型(0/1),rowIndex:行索引号\n    */\n  }, {\n    key: \"onSchemeF7Click\",\n    value: function onSchemeF7Click(key, compareType, clientType, rowIndex) {\n      var _this$props10 = this.props,\n        model = _this$props10.model,\n        dispatch = _this$props10.dispatch;\n      var fields = model.getDataProperty('fields');\n      var conditions = fields.getIn(['scheme', 'conditions']);\n      var condition = conditions.find(function (item) {\n        return item.get('fieldName') === key;\n      });\n      // 查询字段所属的单据体id\n      var entryEntityId = condition ? condition.get('entityId') : '';\n      var schemeConditions = this.getShemeSearchConditions();\n      dispatch((0, _querypanelaction.f7Click)(model, {\n        fieldName: key,\n        compareType: compareType,\n        clientType: clientType,\n        rowIndex: rowIndex,\n        entityId: entryEntityId,\n        schemeConditions: schemeConditions\n      }));\n    }\n  }, {\n    key: \"getShemeSearchConditions\",\n    value:\n    // 获取方案查询的条件集合\n    function getShemeSearchConditions() {\n      var model = this.props.model;\n      var selected = model.getDataProperty('selected');\n      var selectedCondition = selected.toJS();\n      var scheme = selectedCondition.scheme;\n      var advance = scheme.advance;\n      var add = scheme.add;\n      var args = [];\n      var schemeSearch = this.getSchemeSearch(advance, add);\n      args.push(schemeSearch);\n      args.push(this.getSelectedEntryEntity());\n      return args;\n    }\n\n    // 获取选中的子单据体或单据体或单据头\n  }, {\n    key: \"getSelectedEntryEntity\",\n    value: function getSelectedEntryEntity(selectedGrids) {\n      var model = this.props.model;\n      var fields = model.getDataProperty('fields');\n      var selected = model.getDataProperty('selected');\n      var grids = selectedGrids === undefined ? selected.getIn(['scheme', 'grids']) : selectedGrids;\n      var entryenties = fields.getIn(['scheme', 'entryenties']);\n      if (grids.count() === 1) {\n        // 只选中了单据头\n        return grids.getIn([0]);\n      } else {\n        // todo:寻找子单据体或父单据体(没有子单据的情况)\n        var subEntryEntity, subEntryEntityId, entryEntityId, entryHead, entryHeadId;\n        // 查找单据头\n        grids.forEach(function (id) {\n          if (entryHead) {\n            return;\n          }\n          entryHead = entryenties.find(function (item) {\n            return item.get('key') === id && item.get('parentKey') === '';\n          });\n        });\n        if (!entryHead) {\n          console.warn('Entry Head not exist...');\n        }\n        entryHeadId = entryHead.get('key');\n        // 查找子单据体\n        grids.forEach(function (id) {\n          if (subEntryEntity || id === entryHeadId) {\n            return;\n          }\n          subEntryEntity = entryenties.find(function (item) {\n            return item.get('key') === id && item.get('parentKey') !== entryHeadId;\n          });\n        });\n        if (subEntryEntity) {\n          subEntryEntityId = subEntryEntity.get('key');\n        }\n        // 查找单据体\n        if (!subEntryEntityId) {\n          grids.forEach(function (id) {\n            if (entryEntityId || id === entryHeadId) {\n              return;\n            }\n            entryEntityId = id;\n          });\n        }\n        return subEntryEntityId === undefined ? entryEntityId === undefined ? entryHeadId === undefined ? '' : entryHeadId : entryEntityId : subEntryEntityId;\n      }\n    }\n\n    // 初始化store存储结构\n  }, {\n    key: \"InitStore\",\n    value: function InitStore() {\n      var _this$props11 = this.props,\n        model = _this$props11.model,\n        dispatch = _this$props11.dispatch;\n      var options = model.getDataProperty('fields');\n      var data = model.getDataProperty('selected');\n      if (!options) {\n        dispatch((0, _querypanelaction.updateFields)(model, optionsBase));\n      }\n      if (!data) {\n        this.updateSelected(model, selectedBase);\n      }\n    }\n\n    /*\n    * 是否显示多单据体选择界面\n    * 重要注释(与服务端约定)：\n    * 叙事薄过滤控件，服务端传过来的单据体数据里：必须有且只有一个单据头，可以有多个单据体，\n    * 每个单据体可以有多个子单据体(在设计器中可以指定单据体之间的关系(父与子))；选中子单据体，\n    * 则必须同时选中其父单据体；选中父单据体，不用选中其子单据体；取消选中父单据体，则其所有子单据体\n    * 的选中状态也要取消；取消选中子单据体，其父单据体不用取消选中。\n    *\n    */\n  }, {\n    key: \"showMultiGrids\",\n    value: function showMultiGrids() {\n      var model = this.props.model;\n      var fields = model.getDataProperty('fields');\n      if (!fields) {\n        return false;\n      }\n      var entryenties = fields.getIn(['scheme', 'entryenties']); // 所有单据体信息\n      if (entryenties.count() <= 2) {\n        return false;\n      } // 一个单据头+一个单据体时，不显示。\n\n      var entryEntities = [];\n      var entryHead;\n      var entryHeadId;\n      // 查找单据头\n      entryHead = entryenties.find(function (item) {\n        return item.get('parentKey') === '';\n      });\n      entryHeadId = entryHead.get('key');\n      // 查找单据体\n      entryenties.forEach(function (item) {\n        if (item.get('key') !== entryHeadId && item.get('parentKey') === entryHeadId) {\n          entryEntities.push(item);\n        }\n      });\n      if (entryEntities.length >= 2) {\n        // 有2个或以上单据体\n        return true;\n      } else {\n        // 只有一个单据体\n        if (entryenties.count() >= 3) {\n          // 有1个或以上子单据体(3是：一个单据头+一个单据体+一个子单据体)\n          return true;\n        } else {\n          return false;\n        }\n      }\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      var _nextProps$model, _nextProps$model2;\n      // 自动向服务端发送一个查询请求的标示(由成功删除方案触发)。\n      var oldDeleteSchemeSearch = this.props.model.getDataProperty(['selected', 'deleteSchemeSearch']);\n      var newDeleteSchemeSearch = nextProps.model.getDataProperty(['selected', 'deleteSchemeSearch']);\n      if (newDeleteSchemeSearch !== undefined && newDeleteSchemeSearch !== oldDeleteSchemeSearch) {\n        // 在删除方案成功之后，前端要发送一个自定义查询请求到服务端(即快速过滤条件+方案查询的固定条件)\n        // console.log('deleteSchemeSearch================');\n        var model = nextProps.model;\n        var selected = model.getDataProperty('selected');\n        var selectedCondition = selected.toJS();\n        var fast = selectedCondition.fast;\n        var scheme = selectedCondition.scheme;\n        var advance = scheme.advance;\n        var add = scheme.add;\n        var args = [];\n        var fastSearch = [];\n        var _schemeSearch3 = this.getSchemeSearch(advance, add);\n        args.push(fastSearch);\n        args.push(_schemeSearch3);\n        fastSearch = this.getFastSearch(fast, fastSearch);\n        args.push(this.getSelectedEntryEntity());\n        this.sendSchemeSearch(args);\n      } else {\n        var oldF7CommonSearch = this.props.model.getDataProperty(['selected', 'f7CommonSearch']);\n        var newF7CommonSearch = nextProps.model.getDataProperty(['selected', 'f7CommonSearch']);\n        if (newF7CommonSearch !== undefined && newF7CommonSearch !== oldF7CommonSearch) {\n          // 常用查询,F7弹窗后,重新发送常用查询请求\n          var _model2 = nextProps.model;\n          var _selected = _model2.getDataProperty('selected');\n          var _selectedCondition2 = _selected.toJS();\n          var _fast3 = _selectedCondition2.fast;\n          var common = _selectedCondition2.common;\n          var _args = [];\n          var _fastSearch = [];\n          var _commonSearch2 = [];\n          _args.push(_fastSearch);\n          _args.push(_commonSearch2);\n          _fastSearch = this.getFastSearch(_fast3, _fastSearch);\n          this.latestF7User = newF7CommonSearch;\n          _commonSearch2 = this.getCommonSearch(common, _commonSearch2);\n          this.latestF7User = '';\n          this.sendCommonSearch(_args);\n        }\n      }\n\n      // clear fast search cache\n      var oldFastClearId = this.props.model.getDataProperty(['selected', 'fastClearId']);\n      var newfastClearId = nextProps.model.getDataProperty(['selected', 'fastClearId']);\n      if (newfastClearId !== undefined && newfastClearId !== oldFastClearId) {\n        this.setFastSearchCache([]);\n      }\n\n      // set new fast search cache\n      var oldFastSetId = this.props.model.getDataProperty(['selected', 'fastSetId']);\n      var newfastSetId = nextProps.model.getDataProperty(['selected', 'fastSetId']);\n      if (newfastSetId !== undefined && newfastSetId !== oldFastSetId) {\n        var fastSearchConditions = nextProps.model.getDataProperty(['selected', 'fast']) || (0, _immutable.List)();\n        this.setFastSearchCache(fastSearchConditions.toJS());\n      }\n\n      // 数据源改变，重新初始化\n      var newFields = nextProps.model.getDataProperty('fields');\n      if (!(0, _immutable.is)(this.props.model.getDataProperty('fields'), newFields)) {\n        var newSelected = nextProps.model.getDataProperty('selected');\n        this.InitSchemeQuery(newFields, newSelected);\n      }\n      var oldTimeStamp = this.props.model.getDataProperty(['selected', '_update_timestamp_']);\n      var newTimeStamp = nextProps.model.getDataProperty(['selected', '_update_timestamp_']);\n      if (oldTimeStamp !== newTimeStamp) {\n        this.initNoCompareUsers(nextProps.model);\n      }\n\n      // tips\n      var tips = (0, _tooltipsUtil.getTips)(this.props.model);\n      var nextTips = (0, _tooltipsUtil.getTips)(nextProps.model);\n      if (!(0, _immutable.is)(tips, nextTips)) this.updateTipsConfig((_nextProps$model = nextProps.model) === null || _nextProps$model === void 0 ? void 0 : _nextProps$model.pageId, (_nextProps$model2 = nextProps.model) === null || _nextProps$model2 === void 0 ? void 0 : _nextProps$model2.key, nextTips);\n    }\n  }, {\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.InitStore();\n      this.initAjaxState();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.removeAjaxState();\n    }\n\n    // 初始化网络请求状态监听\n  }, {\n    key: \"initAjaxState\",\n    value: function initAjaxState() {\n      var _this$props$model3 = this.props.model,\n        pageId = _this$props$model3.pageId,\n        key = _this$props$model3.key;\n      // 监听两种查询请求\n      this._ajaxListener.push((0, _invokeActionUtils.addAjaxStateListener)(pageId, key, 'commonSearch', this.ajaxStateCallBack));\n      this._ajaxListener.push((0, _invokeActionUtils.addAjaxStateListener)(pageId, key, 'schemeSearch', this.ajaxStateCallBack));\n      this._ajaxListener.push((0, _invokeActionUtils.addAjaxStateListener)(pageId, key, 'nlpSearch', this.nlpSearchAjaxStateCallBack));\n      // this._ajaxListener.push(addAjaxStateListener(pageId, key, ''))\n    }\n  }, {\n    key: \"removeAjaxState\",\n    value:\n    // 移除网络请求监听\n    function removeAjaxState() {\n      this._ajaxListener && this._ajaxListener.forEach(function (removeListen) {\n        removeListen && removeListen();\n      });\n      this._ajaxListener = [];\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this6 = this;\n      var model = this.props.model;\n      var tips = model && (0, _tooltipsUtil.getTips)(this.props.model);\n      if (tips) this.updateTipsConfig(model.pageId, model.key, tips);\n\n      // 初始化该控件数据，配合前端Meta与Data一起渲染(延迟渲染)改造\n      var newFields = this.props.model.getDataProperty('fields');\n      var newSelected = this.props.model.getDataProperty('selected');\n      this.InitSchemeQuery(newFields, newSelected);\n      var memoryCacherDesc = (0, _memoryCacher.getPageData)(this.props.model.pageId, [this.props.model.key, 'setIsSupportNlpSearch']);\n      // 初始化先拿一遍（指令执行会在组件渲染之前）\n      this.setIsSupportNlpSearch(memoryCacherDesc);\n      // 设置需要添加繁忙提醒的方法\n      this.setLoadding(this.props.model);\n      var smartMeta = newFields && newFields.get('smart'); // 判断是否全局智能搜索标识\n      if (smartMeta) {\n        this.setState({\n          isSupportNlpSearch: true\n        }, function () {\n          _this6.onQSKeyDown(''); // 全局智能搜素需要重新调用一次查询接口（因为全局智能后台查询条件没有带上智能搜索解析的条件）\n        });\n      }\n      this.initNoCompareUsers(model);\n    }\n  }, {\n    key: \"updateTipsConfig\",\n    value: function updateTipsConfig(pageId, id, tips) {\n      if (!tips) {\n        // 可以通过u指令设置tips为空\n        this.setState({\n          tipsConfig: null\n        });\n        return;\n      }\n      var tipsConfig = this.state.tipsConfig;\n      if (!tipsConfig) {\n        tipsConfig = (0, _tooltipsUtil.createTipsConfig)(pageId, id);\n        this.setState({\n          tipsConfig: tipsConfig\n        });\n      }\n      (0, _tooltipsUtil.saveTipsInfo)(tipsConfig, tips);\n    }\n  }, {\n    key: \"setLoadding\",\n    value: function setLoadding(model) {\n      var text = (0, _intlApi.getLangMsg)('BusyLayer.loading');\n      var userLocale = model.getUserLocale();\n      var busyTipObj = _defineProperty(_defineProperty({}, userLocale, text), \"supportMethod\", ['commonSearch', 'schemeSearch', 'saveScheme', 'deleteScheme', 'setDefaultScheme', 'shareScheme', 'updateShareScheme', 'f7Click', 'fieldValueClick', 'closeLinkQuery']);\n      (0, _memoryCacher.setControlBusyTip)(model.pageId, model.key, busyTipObj);\n    }\n\n    // 默认折叠(默认值：true)\n  }, {\n    key: \"getDefaultCollapse\",\n    value: function getDefaultCollapse() {\n      return this.props.model.getMetaProperty('defaultCollapse');\n    }\n\n    // 点击删除联查\n  }, {\n    key: \"onLinkQueryDel\",\n    value: function onLinkQueryDel() {\n      this.props.dispatch((0, _querypanelaction.closeLinkQuery)(this.props.model));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _options$get;\n      var _this$props12 = this.props,\n        model = _this$props12.model,\n        dispatch = _this$props12.dispatch;\n      var items = model.meta.get('items', new _immutable.List());\n      var fastsearchControls = items.filter(function (ctrl) {\n        return ctrl.get('type') === 'fastsearchgridview';\n      }); // 快速查询Meta\n      var filtergridviewControls = items.filter(function (ctrl) {\n        return ctrl.get('type') === 'filtergridview';\n      }); // 常用查询Meta\n      var schemefilterControls = items.filter(function (ctrl) {\n        return ctrl.get('type') === 'schemefilterview';\n      }); // 方案查询Meta\n      // 元数据没有,则不渲染\n      var showQuick = (fastsearchControls && fastsearchControls.count()) > 0 ? (0, _componentutil.getVisible)(model, fastsearchControls.getIn([0, 'id']), fastsearchControls.getIn([0, 'vi'])) : false; // 是否显示快速搜索视图\n      var metaShowCommon = (filtergridviewControls && filtergridviewControls.count()) > 0 ? (0, _componentutil.getVisible)(model, filtergridviewControls.getIn([0, 'id']), filtergridviewControls.getIn([0, 'vi'])) : false; // 是否显示常用查询视图\n      var showScheme = schemefilterControls && schemefilterControls.count() ? (0, _componentutil.getVisible)(model, schemefilterControls.getIn([0, 'id']), schemefilterControls.getIn([0, 'vi'])) : false; // 是否显示方案查询视图\n\n      var options = model.getDataProperty('fields');\n      var commonCount = options === null || options === void 0 || (_options$get = options.get('common')) === null || _options$get === void 0 ? void 0 : _options$get.count();\n      var showCommon = metaShowCommon && commonCount;\n      var data = model.getDataProperty('selected');\n      var useOrReplaceBlank = model.getDataProperty('useOrReplaceBlank');\n      var archiveData = model.getDataProperty('archive') || (0, _immutable.Map)();\n      var pinnedConditions = model.getDataProperty('pinnedConditions') || (0, _immutable.List)();\n      var isLookUp = (0, _componentutil.getComponentDataProperty)(model, _serverproperties.IS_LOOKUP, _serverproperties.IS_LOOKUP, false); // 是否只显示'快速过滤'视图,默认false\n      if (!isLookUp) {\n        isLookUp = !showCommon && showScheme === false; // 常用查询和方案查询都不可见,则只显示快速过滤视图,统一用'isLookUp'标示控制\n      }\n      // let showQuick = fastsearchVisible!==false //是否显示快速搜索视图\n\n      var fastSearchBlankAsAndLogic = (0, _componentutil.getComponentDataProperty)(model, 'isMultiKeySearch', 'isMultiKeySearch', false); // 'isMultiKeySearch': 表示快速过滤中,输入的空格是否显示为'且',发送到server端数据格式不变,只为前端显示用\n      var fastSearchTips = (0, _componentutil.getComponentDataProperty)(model, 'fastSearchTips', 'fastSearchTips', true); // 'isMultiKeySearch':属性启用时，对应的提示信息\n      // 暂不放开'且'功能\n      fastSearchBlankAsAndLogic = false;\n      fastSearchTips = undefined;\n      var title = '';\n      if (options) {\n        if (options.getIn(['title', model.getUserLocale()])) {\n          title = options.getIn(['title', model.getUserLocale()]);\n        } else if (options.getIn(['title', model.getDefaultLang()])) {\n          title = options.getIn(['title', model.getDefaultLang()]);\n        } else if (options.getIn(['title', 'zh_CN'])) {\n          title = options.getIn(['title', 'zh_CN']);\n        }\n      }\n      var style = (0, _componentutil.getCommonStyle)(model);\n      var fastText = model.getDataProperty(['selected', 'fastText']); // 快速搜索框内容\n      var linkQuery = model.getDataProperty('linkQuery'); // 联查数据\n      var activeKey = (0, _componentutil.getComponentDataProperty)(model, 'activeKey', 'activeKey', false); // 默认激活视图\n      var shareable = (0, _componentutil.getComponentDataProperty)(model, 'isNeedShareScheme', 'isNeedShareScheme', false);\n      var switchfiltermode = model.meta.get('switchfiltermode');\n      var downKeyFocus = model.getMetaProperty('downKeyFocus');\n      var canSwitchNewFilter = model.meta.get('newfilter') !== false && typeof switchfiltermode !== 'undefined'; // 插件不可切换新版 && switchfiltermode不为undefined(报表和动态表单为undefined)\n\n      // test data\n      // showQuick = false;\n      // test data\n      // fastsearchVisible = false;\n      // filtergridVisible = false;\n      var _this$state = this.state,\n        nlpSearchLoading = _this$state.nlpSearchLoading,\n        nlpSearchResult = _this$state.nlpSearchResult,\n        nlpSearchResultDesc = _this$state.nlpSearchResultDesc,\n        isSupportNlpSearch = _this$state.isSupportNlpSearch,\n        nlpDesc = _this$state.nlpDesc,\n        tipsConfig = _this$state.tipsConfig;\n      var slot;\n      if (tipsConfig) {\n        slot = /*#__PURE__*/_react[\"default\"].createElement(_Slot[\"default\"], {\n          tips: tipsConfig\n        });\n      }\n      return /*#__PURE__*/_react[\"default\"].createElement(_QueryPanel[\"default\"], _extends({\n        style: style,\n        type: 3,\n        id: model.key,\n        options: options || optionsBase,\n        data: data || selectedBase,\n        title: title,\n        expand: this.getDefaultCollapse() === false // 默认折叠\n        ,\n        isLookUp: isLookUp,\n        showQuick: showQuick,\n        showCommon: showCommon,\n        showScheme: showScheme\n        // showNoLimitCondition={this.state.showNoLimitCondition}\n        ,\n        shareable: shareable,\n        onQSKeyDown: this.onQSKeyDown,\n        onQSOnBlur: this.onQSOnBlur,\n        onQSSelectItem: this.onQSSelectItem,\n        onQSNlpSearch: this.onQSNlpSearch,\n        onCommonSelect: this.onCommonSelect,\n        onCommonSelectGrid: this.onCommonSelectGrid,\n        onCommonSelectCustom: this.onCommonSelectCustom,\n        onCommonEndCustom: this.onCommonEndCustom,\n        onCommonF7Click: this.onCommonF7Click,\n        onSelectedConditionDel: this.onSelectedConditionDel,\n        onQSDelCondition: this.onQSDelCondition,\n        onSchemeSearch: this.onSchemeSearch,\n        onSchemeConditionChange: this.onSchemeConditionChange,\n        onSchemeConditionDel: this.onSchemeConditionDel,\n        onSchemeConditionAdd: this.onSchemeConditionAdd,\n        onSchemeAddConditionChange: this.onSchemeAddConditionChange,\n        onSchemeNameChanged: this.onSchemeNameChanged,\n        onSchemeSave: this.onSchemeSave,\n        onSchemeDelete: this.onSchemeDelete,\n        onSchemeSetDefault: this.onSchemeSetDefault,\n        onSchemeShare: this.handleSchemeShare,\n        onSchemeShareEdit: this.handleSchemeShareEdit,\n        onSchemeSelect: this.onSchemeSelect,\n        onDelSelectedScheme: this.onDelSelectedScheme,\n        onSchemeSelectGrid: this.onSchemeSelectGrid,\n        onSchemeFitlerSetting: this.onSchemeFitlerSetting,\n        onSchemeF7Click: this.onSchemeF7Click,\n        onSchemeFieldValueClick: this.onSchemeFieldValueClick,\n        showMultiGrids: this.showMultiGrids(),\n        model: model,\n        showFormByTips: function showFormByTips() {\n          return dispatch(_tooltipaction.showFormByTips.apply(void 0, arguments));\n        },\n        userLocal: model.getUserLocale(),\n        fastSearchBlankAsAndLogic: fastSearchBlankAsAndLogic,\n        fastSearchTips: fastSearchTips,\n        fastText: fastText\n      }, this.props.attachData, {\n        linkQuery: linkQuery,\n        onLinkQueryDel: this.onLinkQueryDel,\n        nlpSearchLoading: nlpSearchLoading,\n        nlpSearchResult: nlpSearchResult,\n        nlpSearchResultDesc: nlpSearchResultDesc,\n        isSupportNlpSearch: isSupportNlpSearch,\n        nlpDesc: nlpDesc,\n        activeKey: activeKey,\n        left: left_symbol,\n        right: right_symbol,\n        logic: logic_symbol,\n        archiveData: archiveData,\n        onArchiveChange: this.handleArchiveChange,\n        useOrReplaceBlank: useOrReplaceBlank,\n        pinnedConditions: pinnedConditions,\n        switchNewFilter: this.handleSwitchNewFilter,\n        canSwitchNewFilter: canSwitchNewFilter,\n        slot: slot,\n        downKeyFocus: downKeyFocus,\n        toggleExpand: this.toggleExpand,\n        updateNoCompareUsers: this.updateNoCompareUsers\n      }));\n    }\n  }]);\n  return KDQueryPanel;\n}(_react[\"default\"].Component), _KDQueryPanel.contextTypes = {\n  store: _propTypes[\"default\"].object\n}, _KDQueryPanel)) || _class) || _class);\nvar _default = exports[\"default\"] = KDQueryPanel;\n\n//# sourceURL=webpack://bos-platform/./src/component/web/KDQueryPanel.js?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/ArchiveSelect/index.js":
/*!******************************************************************!*\
  !*** ./src/component/web/base/ListFilter/ArchiveSelect/index.js ***!
  \******************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.ArchiveSelect = void 0;\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _Select = _interopRequireDefault(__webpack_require__(/*! @/component/web/base/Select */ \"./src/component/web/base/Select.js\"));\nvar _index = _interopRequireDefault(__webpack_require__(/*! ../index.less */ \"./src/component/web/base/ListFilter/index.less\"));\nvar _classnames = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nvar ArchiveSelect = exports.ArchiveSelect = function ArchiveSelect(_ref) {\n  var archiveData = _ref.archiveData,\n    onArchiveChange = _ref.onArchiveChange;\n  var archiveOptions = archiveData.get('archiveInfo', (0, _immutable.List)()).toJS().map(function (_ref2) {\n    var key = _ref2.key,\n      name = _ref2.name;\n    return {\n      alias: name,\n      imgkey: null,\n      value: key\n    };\n  });\n  var _useState = (0, _react.useState)(),\n    _useState2 = _slicedToArray(_useState, 2),\n    current = _useState2[0],\n    setCurrent = _useState2[1];\n  (0, _react.useEffect)(function () {\n    setCurrent(archiveData.get('current'));\n  }, [archiveData.get('current')]);\n  var handleChange = function handleChange(archiveKey) {\n    setCurrent(archiveKey);\n    onArchiveChange(archiveKey);\n  };\n  if (!current) return null;\n  return /*#__PURE__*/_react[\"default\"].createElement(_Select[\"default\"], {\n    className: (0, _classnames[\"default\"])(_index[\"default\"]['achive-select'], 'kd-cq-querypanel-header-text'),\n    items: archiveOptions,\n    onChange: handleChange,\n    value: current // 默认'并且'\n    ,\n    Grow: 0,\n    multiple: false,\n    theme: \"default\",\n    required: true,\n    placeholder: \"\"\n  });\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/ArchiveSelect/index.js?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/Components/baseDataExtend/index.js":
/*!******************************************************************************!*\
  !*** ./src/component/web/base/ListFilter/Components/baseDataExtend/index.js ***!
  \******************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.BaseDataExtend = void 0;\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.join.js */ \"../../node_modules/core-js/modules/es.array.join.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.array.reduce.js */ \"../../node_modules/core-js/modules/es.array.reduce.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.is.js */ \"../../node_modules/core-js/modules/es.object.is.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _classnames5 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _commonUtils = _interopRequireDefault(__webpack_require__(/*! @/component/common/commonUtils */ \"./src/component/common/commonUtils.js\"));\nvar _BaseComponents = __webpack_require__(/*! @/component/web/base/BaseComponents */ \"./src/component/web/base/BaseComponents/index.js\");\nvar _TextEllipsisWrap = _interopRequireDefault(__webpack_require__(/*! @/component/common/TextEllipsisWrap */ \"./src/component/common/TextEllipsisWrap.js\"));\nvar _index = _interopRequireDefault(__webpack_require__(/*! @/component/web/base/BaseData/index.less */ \"./src/component/web/base/BaseData/index.less\"));\nvar _schemeBasedataSlect = __webpack_require__(/*! ./schemeBasedataSlect */ \"./src/component/web/base/ListFilter/Components/baseDataExtend/schemeBasedataSlect.js\");\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _excluded = [\"pageId\", \"id\", \"className\", \"style\", \"value\", \"Grow\", \"Shrink\", \"onClick\", \"onChange\", \"alias\", \"disabled\", \"onlySelect\", \"placeholder\", \"inputStyle\", \"theme\", \"editble\", \"entityId\", \"fieldName\", \"onF7LookUp\", \"needSearch\", \"rowIndex\", \"isMulti\"];\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n// 内置F7字段(为叙事薄过滤控件定制)\nvar BaseDataExtend = exports.BaseDataExtend = /*#__PURE__*/function (_React$Component) {\n  _inherits(BaseDataExtend, _React$Component);\n  function BaseDataExtend(props) {\n    var _this;\n    _classCallCheck(this, BaseDataExtend);\n    _this = _callSuper(this, BaseDataExtend, [props]);\n    _this.onClick = _this.onClick.bind(_assertThisInitialized(_this));\n    var value = props.value;\n    _this.state = {\n      editValue: value,\n      lastPropsValue: value\n    };\n    return _this;\n  }\n  _createClass(BaseDataExtend, [{\n    key: \"onHandleChange\",\n    value: function onHandleChange(editValue) {\n      this.setState({\n        editValue: editValue\n      });\n      this.props.onChange(editValue.split(','));\n    }\n\n    // handleBlur = () => {\n    //   this.props.onChange(this.state.editValue.split(','))\n    // }\n  }, {\n    key: \"onClick\",\n    value: function onClick(e) {\n      var onClick = this.props.onClick;\n      onClick && onClick(e);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      // value: []或者List(\"[a,b,c]\")\n      var _this$props = this.props,\n        pageId = _this$props.pageId,\n        _this$props$id = _this$props.id,\n        id = _this$props$id === void 0 ? (0, _immutable.List)() : _this$props$id,\n        className = _this$props.className,\n        style = _this$props.style,\n        value = _this$props.value,\n        Grow = _this$props.Grow,\n        Shrink = _this$props.Shrink,\n        onClick = _this$props.onClick,\n        onChange = _this$props.onChange,\n        alias = _this$props.alias,\n        disabled = _this$props.disabled,\n        onlySelect = _this$props.onlySelect,\n        placeholder = _this$props.placeholder,\n        inputStyle = _this$props.inputStyle,\n        theme = _this$props.theme,\n        editble = _this$props.editble,\n        entityId = _this$props.entityId,\n        fieldName = _this$props.fieldName,\n        onF7LookUp = _this$props.onF7LookUp,\n        needSearch = _this$props.needSearch,\n        rowIndex = _this$props.rowIndex,\n        isMulti = _this$props.isMulti,\n        other = _objectWithoutProperties(_this$props, _excluded);\n      className = (0, _classnames5[\"default\"])(_defineProperty(_defineProperty(_defineProperty({}, _index[\"default\"]['base-data'], true), _index[\"default\"]['flat-flex-align-items'], Object.is(theme, 'flat')), className, className), (0, _commonUtils[\"default\"])({\n        Grow: Grow,\n        Shrink: Shrink\n      }));\n      placeholder = disabled ? '' : placeholder;\n      var inputClassName = (0, _classnames5[\"default\"])(_defineProperty(_defineProperty({}, _index[\"default\"]['input-hover'], false), _index[\"default\"]['text-input-margin-right'], true));\n      var onlySelectInputClassName = (0, _classnames5[\"default\"])(_defineProperty(_defineProperty(_defineProperty(_defineProperty({}, _index[\"default\"]['input-hover'], false), _index[\"default\"]['text-input-margin-right'], true), _index[\"default\"]['base-data-text'], true), _index[\"default\"].single, true));\n      var iconClassName = (0, _classnames5[\"default\"])(_defineProperty(_defineProperty(_defineProperty({}, _index[\"default\"].icon, true), \"kdfont\", true), 'kdfont-f', true));\n      // 针对基础资料特殊处理入参\n      var basedataAlias = (0, _immutable.List)(value === null || value === void 0 ? void 0 : value.split(',')) || (0, _immutable.List)();\n      var basedataValue = _immutable.List.isList(id) ? id.toJS() : id === '' ? [] : id.split(',');\n      // 获取初始基础资料映射值\n      var getOptions = function getOptions(basedataAlias) {\n        var options = [];\n        basedataAlias.forEach(function (v, index) {\n          var label = v;\n          var value = id.get(index);\n          options.push({\n            label: label,\n            value: value\n          });\n        });\n        return options;\n      };\n      var initOptions = id.size > 0 ? getOptions(basedataAlias) : [];\n      var handleBDChange = function handleBDChange(ids, lookupData, aliasIndex) {\n        if (ids.join('') === '') {\n          onChange({\n            ids: [''],\n            alias: ['']\n          });\n          return;\n        }\n        var lookupMap = lookupData.reduce(function (res, item) {\n          res[item[0]] = item;\n          return res;\n        }, {});\n        var alias = ids.map(function (item) {\n          return lookupMap[item][aliasIndex];\n        });\n        onChange({\n          ids: ids,\n          alias: alias\n        });\n      };\n      style = Object.assign({}, style, {\n        // flexDirection: 'column',\n        backgroundColor: '#FFFFFF'\n      });\n      // 在等于 不等于 在...中 不在...中，且值中有id的情况下，才能使用基础资料的模糊搜索来处理\n      if ((initOptions.length > 0 || value === '') && needSearch) {\n        return /*#__PURE__*/_react[\"default\"].createElement(_schemeBasedataSlect.SchemeBaseDataSelect, {\n          isMulti: isMulti,\n          mustInput: false,\n          className: className,\n          value: basedataValue,\n          fieldName: fieldName,\n          entityId: entityId,\n          options: initOptions,\n          onChange: function onChange(ids, options, aliasIndex) {\n            return handleBDChange(ids, options, aliasIndex);\n          },\n          onF7LookUp: onF7LookUp,\n          onCommonF7Click: function onCommonF7Click(e) {\n            return _this2.onClick(e);\n          },\n          rowIndex: rowIndex\n        });\n      }\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", _extends({\n        className: className,\n        style: style\n      }, other), onlySelect ? /*#__PURE__*/_react[\"default\"].createElement(_TextEllipsisWrap[\"default\"], null, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n        className: onlySelectInputClassName,\n        title: this.state.editValue,\n        style: inputStyle\n      }, this.state.editValue)) : /*#__PURE__*/_react[\"default\"].createElement(_BaseComponents.Text, {\n        value: this.state.editValue,\n        disabled: disabled === true || editble === false || onlySelect === true,\n        theme: theme,\n        onChange: function onChange(e) {\n          return _this2.onHandleChange(e.target.value);\n        },\n        Grow: 1,\n        placeholder: placeholder,\n        style: inputStyle,\n        className: inputClassName\n      }), disabled ? null : /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: [_index[\"default\"]['base-data-iconArea']]\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n        className: iconClassName,\n        onClick: function onClick(e) {\n          return _this2.onClick(e);\n        },\n        title: \"F7\"\n      })));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(props, state) {\n      var value = props.value;\n      var lastPropsValue = state.lastPropsValue;\n      if (value !== lastPropsValue) {\n        return {\n          editValue: value,\n          lastPropsValue: value\n        };\n      }\n      return null;\n    }\n  }]);\n  return BaseDataExtend;\n}(_react[\"default\"].Component);\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/Components/baseDataExtend/index.js?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/Components/baseDataExtend/schemeBasedataSlect.js":
/*!********************************************************************************************!*\
  !*** ./src/component/web/base/ListFilter/Components/baseDataExtend/schemeBasedataSlect.js ***!
  \********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.SchemeBaseDataSelect = void 0;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.set.js */ \"../../node_modules/core-js/modules/es.set.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _classnames = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _BaseData = _interopRequireDefault(__webpack_require__(/*! @/component/web/base/BaseData */ \"./src/component/web/base/BaseData/index.js\"));\nvar _utils = __webpack_require__(/*! ./utils */ \"./src/component/web/base/ListFilter/Components/baseDataExtend/utils.js\");\nvar _memoryCacher = __webpack_require__(/*! @/model/memoryCacher */ \"./src/model/memoryCacher.js\");\nvar _utils2 = __webpack_require__(/*! @/component/web/KDListFilter/utils */ \"./src/component/web/KDListFilter/utils.js\");\nvar _componentutil = __webpack_require__(/*! @/util/componentutil */ \"./src/util/componentutil.js\");\nvar _baseDataUtil = __webpack_require__(/*! @/util/baseDataUtil */ \"./src/util/baseDataUtil.js\");\nvar _serverproperties = __webpack_require__(/*! @/constant/serverproperties */ \"./src/constant/serverproperties.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n/**\n * 基础资料模糊查询\n * 默认编辑属性为别名\n * 显示也为别名\n */\nvar SchemeBaseDataSelect = exports.SchemeBaseDataSelect = function SchemeBaseDataSelect(_ref) {\n  var value = _ref.value,\n    isMulti = _ref.isMulti,\n    options = _ref.options,\n    onChange = _ref.onChange,\n    mustInput = _ref.mustInput,\n    className = _ref.className,\n    fieldName = _ref.fieldName,\n    entityId = _ref.entityId,\n    onF7LookUp = _ref.onF7LookUp,\n    onCommonF7Click = _ref.onCommonF7Click,\n    disableF7 = _ref.disableF7,\n    isUser = _ref.isUser,\n    rowIndex = _ref.rowIndex;\n  var _useBDData = (0, _utils.useBDData)(value, options, isUser, isMulti),\n    _useBDData2 = _slicedToArray(_useBDData, 4),\n    alias = _useBDData2[0],\n    setAlias = _useBDData2[1],\n    code = _useBDData2[2],\n    baseDataValue = _useBDData2[3];\n  var _useState = (0, _react.useState)({\n      refreshId: '',\n      lookUpList: [],\n      hasMore: false,\n      columns: [],\n      size: 5,\n      inited: false\n    }),\n    _useState2 = _slicedToArray(_useState, 2),\n    lookUpData = _useState2[0],\n    setLookUpData = _useState2[1];\n  var lookupStrRef = (0, _react.useRef)('');\n  var _useContext = (0, _react.useContext)(_utils2.FilterContext),\n    pageId = _useContext.pageId,\n    key = _useContext.key;\n  var debounceOnF7LookUp = (0, _react.useCallback)(_lodash[\"default\"].debounce(onF7LookUp, 300), [onF7LookUp]);\n  (0, _react.useEffect)(function () {\n    var removesetLookUpDataFromServerListener;\n    if (rowIndex !== undefined) {\n      removesetLookUpDataFromServerListener = (0, _memoryCacher.addDataChangeListener)(pageId, [\"\".concat(key, \"_\").concat(fieldName, \"_\").concat(rowIndex, \"_lookup\")], setLookUpDataFromServer);\n    } else {\n      removesetLookUpDataFromServerListener = (0, _memoryCacher.addDataChangeListener)(pageId, [\"\".concat(key, \"_\").concat(fieldName, \"_lookup\")], setLookUpDataFromServer);\n    }\n    return function () {\n      removesetLookUpDataFromServerListener();\n    };\n  }, [pageId, key, fieldName]);\n  var setLookUpDataFromServer = function setLookUpDataFromServer(lookUpDataServer) {\n    var data = lookUpDataServer.data,\n      next = lookUpDataServer.next,\n      columns = lookUpDataServer.columns,\n      size = lookUpDataServer.size,\n      aliasindex = lookUpDataServer.aliasindex;\n    var inited = lookUpData.inited,\n      lastSize = lookUpData.size,\n      lastColumns = lookUpData.columns;\n    setLookUpData({\n      lookUpList: data,\n      hasMore: next,\n      columns: inited ? lastColumns : columns,\n      size: inited ? lastSize : size || 5,\n      inited: true,\n      refreshId: (0, _componentutil.createNewId)(),\n      aliasindex: aliasindex\n    });\n  };\n  var setItemByNumber = function setItemByNumber(number, isSelect) {\n    if (number === '') {\n      // 必录还原 非必录还原\n      setAlias('');\n      onChange(mustInput ? value : ['']);\n    } else {\n      // 点击空白处面板，这里的number可能不是编码\n      var _getValidCode = (0, _utils.getValidCode)(number, options, _allLookUpdata),\n        validCode = _getValidCode.validCode;\n      var selectedValue = Array.from(new Set(validCode));\n      onChange(selectedValue.length === 0 ? mustInput ? value : [''] : selectedValue, _allLookUpdata, lookUpData.aliasindex);\n    }\n  };\n  var _allLookUpdata = baseDataValue.concat(lookUpData.lookUpList);\n  var handleConvertToCode = function handleConvertToCode(valueStr) {\n    return (0, _baseDataUtil.convertToCode)(valueStr, _allLookUpdata, '', '', isMulti ? _serverproperties.Ctrls.KDMulBaseData : '');\n  };\n  var handleBaseDataChange = function handleBaseDataChange(lookUpInfo) {\n    var value = lookUpInfo.value;\n    lookupStrRef.current = value;\n    if (!value) {\n      return;\n    }\n    debounceOnF7LookUp({\n      fieldName: fieldName,\n      value: value\n    });\n  };\n  var handleBaseDataSelectItem = function handleBaseDataSelectItem(numberStr, newCode) {\n    if (newCode) {\n      onChange(numberStr.split(','), _allLookUpdata, lookUpData.aliasindex);\n    }\n  };\n  var handleF7Click = function handleF7Click() {\n    // 做F7过滤搜索的时候，需要先排查value是枚举值还是基础资料值\n    // 枚举值会携带compare，基础资料值不会\n    var f7Value = value.filter(function (_value) {\n      return options.filter(function (option) {\n        return (option === null || option === void 0 ? void 0 : option.value) === _value && !(option !== null && option !== void 0 && option.compare);\n      }).length > 0;\n    });\n    onCommonF7Click(fieldName, isMulti, f7Value);\n  };\n  var handleShowMoreClick = function handleShowMoreClick() {\n    // 共用打开F7接口,多一个参数表示点击更多\n    onCommonF7Click(fieldName, isMulti, value, lookupStrRef.current);\n  };\n  var refreshId = lookUpData.refreshId,\n    lookUpList = lookUpData.lookUpList,\n    hasMore = lookUpData.hasMore,\n    columns = lookUpData.columns,\n    size = lookUpData.size,\n    inited = lookUpData.inited;\n  return /*#__PURE__*/_react[\"default\"].createElement(_BaseData[\"default\"], {\n    className: (0, _classnames[\"default\"])(className, 'hover-theme-bdcolor'),\n    type: isMulti ? _serverproperties.Ctrls.KDMulBaseData : '',\n    alias: alias,\n    value: alias,\n    code: code,\n    placeholder: \"\",\n    onClick: handleF7Click,\n    onConvertToCode: handleConvertToCode,\n    setItemByNumber: setItemByNumber,\n    lookUpList: (0, _immutable.fromJS)(lookUpList),\n    hasMore: hasMore,\n    columns: (0, _immutable.fromJS)(columns),\n    size: size,\n    inited: inited // 模糊查询结果\n    ,\n    refreshId: refreshId // 刷新模糊查询结果\n    ,\n    onBaseDataSelectItem: handleBaseDataSelectItem,\n    onBaseDataChange: handleBaseDataChange,\n    showAddBtnWhenNoData: false,\n    showViewDetailBtn: false,\n    showMoreClick: handleShowMoreClick,\n    disableF7: disableF7\n  });\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/Components/baseDataExtend/schemeBasedataSlect.js?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/Components/baseDataExtend/utils.js":
/*!******************************************************************************!*\
  !*** ./src/component/web/base/ListFilter/Components/baseDataExtend/utils.js ***!
  \******************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.useBDData = exports.getValidCode = exports.getBDData = exports.convertToCode = void 0;\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.find.js */ \"../../node_modules/core-js/modules/es.array.find.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.join.js */ \"../../node_modules/core-js/modules/es.array.join.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.array.reduce.js */ \"../../node_modules/core-js/modules/es.array.reduce.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\n__webpack_require__(/*! core-js/modules/es.string.split.js */ \"../../node_modules/core-js/modules/es.string.split.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _react = __webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\");\nvar _const = __webpack_require__(/*! @/constant/const */ \"./src/constant/const.js\");\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nvar useBDData = exports.useBDData = function useBDData(value, options, isUser, isMulti) {\n  var _useMemo = (0, _react.useMemo)(function () {\n      return getBDData(value, options, isUser, isMulti);\n    }, [value, options]),\n    _alias = _useMemo.alias,\n    code = _useMemo.code,\n    baseDataValue = _useMemo.baseDataValue;\n  var _useState = (0, _react.useState)(_alias),\n    _useState2 = _slicedToArray(_useState, 2),\n    alias = _useState2[0],\n    setAlias = _useState2[1];\n  (0, _react.useEffect)(function () {\n    var _getBDData = getBDData(value, options, isUser, isMulti),\n      _alias = _getBDData.alias;\n    setAlias(_alias);\n  }, [value, options]);\n  return [alias, setAlias, code, baseDataValue];\n};\nvar getBDData = exports.getBDData = function getBDData(value, options, isUser, isMulti) {\n  // 数组转化为对象（取值性能优化）\n  var optionsObj = options.reduce(function (lastObj, _ref) {\n    var label = _ref.label,\n      value = _ref.value,\n      compare = _ref.compare;\n    // 如果key值已存在，没有compare的为基础资料的值，优先级更高\n    if (isUser && lastObj[value] && compare !== undefined) {\n      return lastObj;\n    }\n    lastObj[value] = label;\n    return lastObj;\n  }, {});\n  // TODO 后台暂时不支持所有选中数据都在选项中，所以先隐藏不在选项中的已选数据\n  var validValue = value.filter(function (v) {\n    return v && optionsObj[v];\n  });\n  var alias = getAlias(validValue, optionsObj, isMulti);\n  var code = validValue.join(_const.F7_DELIMITER);\n  var baseDataValue = validValue.map(function (v) {\n    return [v, optionsObj[v], optionsObj[v]];\n  });\n  return {\n    alias: alias,\n    code: code,\n    baseDataValue: baseDataValue\n  };\n};\nvar getAlias = function getAlias(value, optionsObj, isMulti) {\n  return value.map(function (v) {\n    return optionsObj[v];\n  }).join(_const.F7_DELIMITER) + (value.length === 0 ? '' : isMulti ? _const.F7_DELIMITER : '');\n};\n\n/**\n * 别名转化成编码\n * @param {*} alias\n * @returns\n */\n// TODO\nvar convertToCode = exports.convertToCode = function convertToCode() {\n  var alias = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var options = arguments.length > 1 ? arguments[1] : undefined;\n  if (!alias) return;\n  // 数组转化为对象（取值性能优化）\n  var optionsObj = options.reduce(function (lastObj, _ref2) {\n    var label = _ref2.label,\n      value = _ref2.value;\n    lastObj[label] = value;\n    return lastObj;\n  }, {});\n  return alias.split(_const.F7_DELIMITER).map(function (label) {\n    return optionsObj[label];\n  }).filter(function (v) {\n    return v;\n  }).join('');\n};\nvar getValidCode = exports.getValidCode = function getValidCode(number, options, lookUpList) {\n  var numberArr = number.split(',').filter(Boolean);\n  var validCode = [];\n  numberArr.forEach(function (code) {\n    if (!code) return false;\n    var option = options.find(function (_ref3) {\n      var value = _ref3.value;\n      return value === code;\n    });\n    var lookUpItem = lookUpList.find(function (_ref4) {\n      var _ref5 = _slicedToArray(_ref4, 2),\n        _value = _ref5[0],\n        _code = _ref5[1];\n      return [_value, _code].includes(code);\n    });\n    if (option || lookUpItem) {\n      validCode.push((option === null || option === void 0 ? void 0 : option.value) || lookUpItem[0]);\n    }\n  });\n  return {\n    validCode: validCode\n  };\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/Components/baseDataExtend/utils.js?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/Components/conditionItem/index.js":
/*!*****************************************************************************!*\
  !*** ./src/component/web/base/ListFilter/Components/conditionItem/index.js ***!
  \*****************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.ConditionItem = void 0;\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _classnames = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _index = _interopRequireDefault(__webpack_require__(/*! ./index.less */ \"./src/component/web/base/ListFilter/Components/conditionItem/index.less\"));\nvar _excluded = [\"label\", \"value\", \"canDelete\", \"className\", \"onConditionDelete\"];\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nvar ConditionItem = exports.ConditionItem = function ConditionItem(_ref) {\n  var label = _ref.label,\n    value = _ref.value,\n    canDelete = _ref.canDelete,\n    className = _ref.className,\n    onConditionDelete = _ref.onConditionDelete,\n    other = _objectWithoutProperties(_ref, _excluded);\n  var hoverTitle = label + '：' + value;\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", _extends({\n    className: (0, _classnames[\"default\"])(className, _index[\"default\"]['condition-item'])\n  }, other, {\n    title: hoverTitle\n  }), /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: _index[\"default\"]['condition-text']\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", null, label, \"\\uFF1A\"), /*#__PURE__*/_react[\"default\"].createElement(\"span\", null, value)), canDelete && /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: (0, _classnames[\"default\"])(_index[\"default\"].icon),\n    onClick: onConditionDelete\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n    className: (0, _classnames[\"default\"])(_index[\"default\"]['c-icon-close'], 'kdfont kdfont-shanchu-s secondary-text-in-light')\n  })));\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/Components/conditionItem/index.js?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/Components/customTooltip/index.js":
/*!*****************************************************************************!*\
  !*** ./src/component/web/base/ListFilter/Components/customTooltip/index.js ***!
  \*****************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.CustomToolTip = void 0;\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _classnames = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _kdesign = __webpack_require__(/*! @kdcloudjs/kdesign */ \"webpack/sharing/consume/default/@kdcloudjs/kdesign/@kdcloudjs/kdesign\");\nvar _index = _interopRequireDefault(__webpack_require__(/*! ./index.less */ \"./src/component/web/base/ListFilter/Components/customTooltip/index.less\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nvar CustomToolTip = exports.CustomToolTip = function CustomToolTip(_ref) {\n  var className = _ref.className,\n    children = _ref.children,\n    tips = _ref.tips;\n  return /*#__PURE__*/_react[\"default\"].createElement(_kdesign.Tooltip, {\n    popperClassName: (0, _classnames[\"default\"])(_index[\"default\"]['tips-class'], className),\n    tip: tips\n  }, children);\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/Components/customTooltip/index.js?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/Components/filterSelect/index.js":
/*!****************************************************************************!*\
  !*** ./src/component/web/base/ListFilter/Components/filterSelect/index.js ***!
  \****************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.FilterSelect = void 0;\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.find.js */ \"../../node_modules/core-js/modules/es.array.find.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/web.timers.js */ \"../../node_modules/core-js/modules/web.timers.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _classnames2 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _kdesign = __webpack_require__(/*! @kdcloudjs/kdesign */ \"webpack/sharing/consume/default/@kdcloudjs/kdesign/@kdcloudjs/kdesign\");\nvar _index = _interopRequireDefault(__webpack_require__(/*! ./index.less */ \"./src/component/web/base/ListFilter/Components/filterSelect/index.less\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _utils = __webpack_require__(/*! ../../utils */ \"./src/component/web/base/ListFilter/utils.js\");\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nvar _reactDom = _interopRequireDefault(__webpack_require__(/*! react-dom */ \"webpack/sharing/consume/default/react-dom/react-dom?418d\"));\nvar _PanelWrapper = _interopRequireDefault(__webpack_require__(/*! @/component/common/PanelWrapper */ \"./src/component/common/PanelWrapper.js\"));\nvar _constants = __webpack_require__(/*! ../../constants */ \"./src/component/web/base/ListFilter/constants.js\");\nvar _useSchemePanel2 = _interopRequireDefault(__webpack_require__(/*! ./../useSchemePanel */ \"./src/component/web/base/ListFilter/Components/useSchemePanel.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nvar FilterSelect = exports.FilterSelect = function FilterSelect(_ref) {\n  var clearable = _ref.clearable,\n    onClear = _ref.onClear,\n    userLocal = _ref.userLocal,\n    defaultSchemeId = _ref.defaultSchemeId,\n    shareable = _ref.shareable,\n    scheme = _ref.scheme,\n    schemes = _ref.schemes,\n    onSelect = _ref.onSelect,\n    selected = _ref.selected,\n    showAddBtn = _ref.showAddBtn,\n    onSchemeDelete = _ref.onSchemeDelete,\n    onSchemeSetDefault = _ref.onSchemeSetDefault,\n    onSchemeShare = _ref.onSchemeShare,\n    handleEdit = _ref.handleEdit,\n    closeEditModal = _ref.closeEditModal,\n    editSchemeCollapse = _ref.editSchemeCollapse,\n    selectedScheme = _ref.selectedScheme,\n    showCommon = _ref.showCommon,\n    onSchemeAdd = _ref.onSchemeAdd,\n    isCommon = _ref.isCommon;\n  var curFilterValue = (0, _react.useMemo)(function () {\n    var curFilterName = selectedScheme === null || selectedScheme === void 0 ? void 0 : selectedScheme.getIn(['currentScheme', 'schemeName'], '');\n    return isCommon ? (0, _intlApi.getLangMsg)('ListFilter.key0001') : curFilterName;\n  }, [selectedScheme, isCommon]);\n  // 当新增方案直接保存的时候，id 为 undefined，这个时候取 curselectScheme 的 id 即可\n  var currentFilterId = (selectedScheme === null || selectedScheme === void 0 ? void 0 : selectedScheme.get('id')) || (selected === null || selected === void 0 ? void 0 : selected.getIn(['scheme', 'currentScheme', 'id']));\n  var filterOptions = (0, _utils.getFilterOptions)(scheme, showCommon); // 所有过滤选项\n  var titleRef = (0, _react.useRef)(null);\n  var delayTimer = (0, _react.useRef)(null);\n  var _useState = (0, _react.useState)(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    schmePanelVisible = _useState2[0],\n    setSchemePanelVisible = _useState2[1];\n  var _useState3 = (0, _react.useState)(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    operationPanelVisible = _useState4[0],\n    _setOperationPanelVisible = _useState4[1];\n  var setOperationPanelVisible = function setOperationPanelVisible(visible) {\n    _setOperationPanelVisible(visible);\n  };\n  var _useState5 = (0, _react.useState)((0, _immutable.Map)()),\n    _useState6 = _slicedToArray(_useState5, 2),\n    hoverScheme = _useState6[0],\n    setHoverScheme = _useState6[1];\n  var _curHoverSchemeId = hoverScheme === null || hoverScheme === void 0 ? void 0 : hoverScheme.get('id');\n  var delayClosePanel = function delayClosePanel() {\n    var delayTime = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 200;\n    delayTimer.current && clearTimeout(delayTimer.current);\n    delayTimer.current = setTimeout(function () {\n      setSchemePanelVisible(false);\n      handleOperationPanelVisble(false);\n    }, delayTime);\n  };\n  var _useSchemePanel = (0, _useSchemePanel2[\"default\"])(schmePanelVisible),\n    schemeListRef = _useSchemePanel.schemeListRef,\n    fixedWidth = _useSchemePanel.fixedWidth;\n  var delayShowSchemePanel = function delayShowSchemePanel() {\n    var delayTime = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 100;\n    delayTimer.current && clearTimeout(delayTimer.current);\n    delayTimer.current = setTimeout(function () {\n      setSchemePanelVisible(true);\n    }, delayTime);\n  };\n  var clearCloseTimer = function clearCloseTimer() {\n    delayTimer.current && clearTimeout(delayTimer.current);\n  };\n  var handleClick = function handleClick(e) {\n    var schemeId = e.target.dataset.eventid === 'add' ? '' : e.target.dataset.eventid;\n    onSelect(schemeId);\n    setSchemePanelVisible(false);\n    // 点击新增方案的时候不要关编辑弹窗\n    schemeId && editSchemeCollapse && closeEditModal();\n  };\n  var handleOperation = function handleOperation(operationKey) {\n    var OPERATIONS = {\n      edit: function edit() {\n        handleEdit(hoverScheme === null || hoverScheme === void 0 ? void 0 : hoverScheme.get('id'));\n      },\n      cancelDefault: function cancelDefault() {\n        return onSchemeSetDefault(_curHoverSchemeId, false);\n      },\n      setDefault: function setDefault() {\n        return onSchemeSetDefault(_curHoverSchemeId, true);\n      },\n      share: function share() {\n        return onSchemeShare(_curHoverSchemeId, (hoverScheme === null || hoverScheme === void 0 ? void 0 : hoverScheme.get('type')) === _constants.SHARED_SCHEME);\n      },\n      \"delete\": function _delete() {\n        return onSchemeDelete(_curHoverSchemeId);\n      }\n    };\n    var curOperation = OPERATIONS[operationKey];\n    curOperation();\n    cancelAllPanel();\n  };\n  var handleOperationPanelVisble = function handleOperationPanelVisble(visible) {\n    setOperationPanelVisible(visible);\n  };\n  var cancelAllPanel = function cancelAllPanel() {\n    setOperationPanelVisible(false);\n    setSchemePanelVisible(false);\n  };\n  var getOperationMenu = function getOperationMenu() {\n    // 从 scheme 中获取当前悬浮的方案，改变 hoverScheme\n    var type = hoverScheme === null || hoverScheme === void 0 ? void 0 : hoverScheme.get('type');\n    var isAdvance = hoverScheme === null || hoverScheme === void 0 ? void 0 : hoverScheme.get('fixed');\n    var isDefault = (hoverScheme === null || hoverScheme === void 0 ? void 0 : hoverScheme.get('id')) === defaultSchemeId;\n    var schemeShareable = !isAdvance && type !== 2 && shareable;\n    var canSetDefault = !isDefault;\n    var deleteAble = !isDefault && !isAdvance;\n    var operations = [{\n      label: 'listFilter.key0045',\n      operationKey: 'edit'\n    }, isDefault && {\n      label: 'listFilter.key0024',\n      operationKey: 'cancelDefault'\n    }, canSetDefault && {\n      label: 'listFilter.key0031',\n      operationKey: 'setDefault'\n    }, schemeShareable && {\n      label: type === _constants.SHARED_SCHEME ? 'listFilter.key0032' : 'listFilter.key0025',\n      operationKey: 'share'\n    }, deleteAble && {\n      label: 'listFilter.key0023',\n      operationKey: 'delete'\n    }].filter(Boolean);\n    var operationItems = operations.map(function (_ref2, index) {\n      var label = _ref2.label,\n        operationKey = _ref2.operationKey;\n      return /*#__PURE__*/_react[\"default\"].createElement(_kdesign.Dropdown.Item, {\n        className: (0, _classnames2[\"default\"])([_index[\"default\"].item, 'kd-cq-dropdown-menu-item']),\n        key: operationKey\n      }, (0, _intlApi.getLangMsg)({\n        key: label\n      }));\n    });\n    return /*#__PURE__*/_react[\"default\"].createElement(_kdesign.Dropdown.Menu, {\n      className: (0, _classnames2[\"default\"])('kd-cq-dropdown kd-cq-dropdown-select-type'),\n      onMouseEnter: function onMouseEnter() {\n        setOperationPanelVisible(true);\n        clearCloseTimer();\n      },\n      onClick: handleOperation\n    }, operationItems);\n  };\n  var getOperationDropDown = function getOperationDropDown() {\n    return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      onClick: function onClick(e) {\n        return e.stopPropagation();\n      }\n    }, /*#__PURE__*/_react[\"default\"].createElement(_kdesign.Dropdown, {\n      menu: getOperationMenu(),\n      trigger: \"click\",\n      placement: \"bottomLeft\",\n      onVisibleChange: handleOperationPanelVisble,\n      visible: operationPanelVisible,\n      popperClassName: _index[\"default\"]['custom-dropdown']\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n      className: (0, _classnames2[\"default\"])(_index[\"default\"].operation, 'kdfont kdfont-gengduo3')\n    })));\n  };\n  var menuOptions = (0, _react.useMemo)(function () {\n    var curSchemeId = hoverScheme === null || hoverScheme === void 0 ? void 0 : hoverScheme.get('id');\n    var optionItems = filterOptions.map(function (_ref3, index) {\n      var label = _ref3.label,\n        _value = _ref3.value,\n        type = _ref3.type;\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: (0, _classnames2[\"default\"])(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty({}, _index[\"default\"].item, true), \"kd-cq-dropdown-menu-item-active \".concat(_index[\"default\"].selected), currentFilterId === _value || !currentFilterId && _value === _constants.COMMON_ID), _index[\"default\"].hoverscheme_nooperation, _curHoverSchemeId === _value), _index[\"default\"].hoverscheme, _curHoverSchemeId === _value && operationPanelVisible), 'kd-cq-dropdown-menu-item', true)),\n        \"data-selected\": currentFilterId === _value || !currentFilterId && _value === _constants.COMMON_ID,\n        key: _value,\n        \"data-eventid\": _value,\n        onMouseEnter: function onMouseEnter() {\n          var _curScheme = schemes.find(function (scheme) {\n            return scheme.get('id') === _value;\n          }) || (0, _immutable.Map)();\n          setHoverScheme(_curScheme);\n          // 方案变化后，操作面板就要消失\n          setOperationPanelVisible(false);\n        }\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _index[\"default\"].schemename_area,\n        title: label\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n        className: _index[\"default\"].schemename,\n        key: _value,\n        \"data-eventid\": _value\n      }, label), type && type !== 0 ? type === _constants.RECEIVED_SCHEME ? /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n        className: (0, _classnames2[\"default\"])('kdfont', _index[\"default\"]['share-icon'], 'kdfont-fenxianghuilai'),\n        \"data-eventid\": _value\n      }) : /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n        className: (0, _classnames2[\"default\"])('kd-cq-querypanel-item-icon', 'kdfont', _index[\"default\"]['share-icon'], 'kdfont-fenxiang'),\n        \"data-eventid\": _value\n      }) : null), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _index[\"default\"].statusarea\n      }, _value !== _constants.COMMON_ID && curSchemeId === _value ? getOperationDropDown() : _value === defaultSchemeId ? /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _index[\"default\"].defaultschme\n      }, (0, _intlApi.getLangMsg)('listFilter.key0026')) : null));\n    });\n    return optionItems;\n  }, [filterOptions]);\n  var createSchemePanel = function createSchemePanel() {\n    return /*#__PURE__*/_reactDom[\"default\"].createPortal( /*#__PURE__*/_react[\"default\"].createElement(_PanelWrapper[\"default\"], {\n      trigger: titleRef.current,\n      onClose: function onClose() {\n        return null;\n      }\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: (0, _classnames2[\"default\"])('kd-cq-dropdown kd-cq-dropdown-select-type', _index[\"default\"].schememenu),\n      onClick: handleClick,\n      onMouseEnter: function onMouseEnter() {\n        clearCloseTimer();\n      },\n      ref: schemeListRef,\n      style: {\n        width: fixedWidth || 'auto'\n      }\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _index[\"default\"].schemelist\n    }, filterOptions.length > 0 ? /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _index[\"default\"].schemeitems,\n      onMouseLeave: function onMouseLeave() {\n        setHoverScheme((0, _immutable.Map)());\n      }\n    }, menuOptions) : null, showAddBtn ? /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      key: \"add\",\n      \"data-eventid\": \"add\",\n      onClick: onSchemeAdd,\n      className: (0, _classnames2[\"default\"])(_index[\"default\"]['item-add'], 'kd-cq-dropdown-menu-item kd-cq-dropdown-menu-item-btn')\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n      className: 'kdfont kdfont-tianjia ' + _index[\"default\"].addIcon\n    }), /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n      className: _index[\"default\"].addtext\n    }, (0, _intlApi.getLangMsg)('ListFilter.key0002'))) : null))), document.body);\n  };\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _index[\"default\"].schemeselect,\n    ref: titleRef,\n    onMouseEnter: function onMouseEnter() {\n      delayShowSchemePanel();\n    },\n    onMouseLeave: function onMouseLeave() {\n      delayClosePanel();\n    }\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames2[\"default\"])(_index[\"default\"].title)\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    title: curFilterValue,\n    className: _index[\"default\"]['title-text']\n  }, curFilterValue)), /*#__PURE__*/_react[\"default\"].createElement(_kdesign.Icon, {\n    type: \"arrow-down\",\n    className: _index[\"default\"].arrow\n  }), schmePanelVisible && createSchemePanel());\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/Components/filterSelect/index.js?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/Components/title/index.js":
/*!*********************************************************************!*\
  !*** ./src/component/web/base/ListFilter/Components/title/index.js ***!
  \*********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.ListFilterTitle = exports.F7FilterTitle = void 0;\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.find.js */ \"../../node_modules/core-js/modules/es.array.find.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/web.timers.js */ \"../../node_modules/core-js/modules/web.timers.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _classnames2 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _kdesign = __webpack_require__(/*! @kdcloudjs/kdesign */ \"webpack/sharing/consume/default/@kdcloudjs/kdesign/@kdcloudjs/kdesign\");\nvar _index = _interopRequireDefault(__webpack_require__(/*! ./index.less */ \"./src/component/web/base/ListFilter/Components/title/index.less\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _utils = __webpack_require__(/*! ../../utils */ \"./src/component/web/base/ListFilter/utils.js\");\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nvar _reactDom = _interopRequireDefault(__webpack_require__(/*! react-dom */ \"webpack/sharing/consume/default/react-dom/react-dom?418d\"));\nvar _PanelWrapper = _interopRequireDefault(__webpack_require__(/*! @/component/common/PanelWrapper */ \"./src/component/common/PanelWrapper.js\"));\nvar _constants = __webpack_require__(/*! ../../constants */ \"./src/component/web/base/ListFilter/constants.js\");\nvar _useSchemePanel2 = _interopRequireDefault(__webpack_require__(/*! ./../useSchemePanel */ \"./src/component/web/base/ListFilter/Components/useSchemePanel.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nvar ListFilterTitle = exports.ListFilterTitle = function ListFilterTitle(_ref) {\n  var title = _ref.title,\n    slot = _ref.slot;\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames2[\"default\"])(_index[\"default\"].title)\n  }, title ? /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    title: title,\n    className: _index[\"default\"]['title-text']\n  }, title) : null, slot);\n};\nvar F7FilterTitle = exports.F7FilterTitle = function F7FilterTitle(_ref2) {\n  var title = _ref2.title,\n    slot = _ref2.slot,\n    clickTipsLink = _ref2.clickTipsLink,\n    userLocal = _ref2.userLocal,\n    defaultSchemeId = _ref2.defaultSchemeId,\n    shareable = _ref2.shareable,\n    scheme = _ref2.scheme,\n    schemes = _ref2.schemes,\n    onSelect = _ref2.onSelect,\n    isTemplate = _ref2.isTemplate,\n    selected = _ref2.selected,\n    showAddBtn = _ref2.showAddBtn,\n    onSchemeDelete = _ref2.onSchemeDelete,\n    onSchemeSetDefault = _ref2.onSchemeSetDefault,\n    onSchemeShare = _ref2.onSchemeShare,\n    handleEdit = _ref2.handleEdit,\n    closeEditPanel = _ref2.closeEditPanel,\n    editF7SchemeCollapse = _ref2.editF7SchemeCollapse,\n    currentFilterScheme = _ref2.currentFilterScheme,\n    onSelectWithoutSearch = _ref2.onSelectWithoutSearch;\n  var curFilterName = (currentFilterScheme === null || currentFilterScheme === void 0 ? void 0 : currentFilterScheme.get('schemeName')) || '';\n  // 当新增方案直接保存的时候，id 为 undefined，这个时候取 curselectScheme 的 id 即可\n  var currentFilterId = (currentFilterScheme === null || currentFilterScheme === void 0 ? void 0 : currentFilterScheme.get('id')) || (selected === null || selected === void 0 ? void 0 : selected.getIn(['scheme', 'currentScheme', 'id']));\n  var f7FilterOptions = (0, _react.useMemo)(function () {\n    return (0, _utils.getF7FilterOptions)(scheme, title);\n  }, [title, scheme]); // 所有过滤选项\n  var titleRef = (0, _react.useRef)(null);\n  var operationRef = (0, _react.useRef)(null);\n  var delayTimer = (0, _react.useRef)(null);\n  var _useState = (0, _react.useState)(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    schmePanelVisible = _useState2[0],\n    setSchemePanelVisible = _useState2[1];\n  var _useState3 = (0, _react.useState)(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    operationPanelVisible = _useState4[0],\n    _setOperationPanelVisible = _useState4[1];\n  var setOperationPanelVisible = function setOperationPanelVisible(visible) {\n    _setOperationPanelVisible(visible);\n  };\n  var _useState5 = (0, _react.useState)((0, _immutable.Map)()),\n    _useState6 = _slicedToArray(_useState5, 2),\n    hoverScheme = _useState6[0],\n    setHoverScheme = _useState6[1];\n  var _curHoverSchemeId = hoverScheme === null || hoverScheme === void 0 ? void 0 : hoverScheme.get('id');\n  var _useSchemePanel = (0, _useSchemePanel2[\"default\"])(schmePanelVisible),\n    schemeListRef = _useSchemePanel.schemeListRef,\n    fixedWidth = _useSchemePanel.fixedWidth;\n  var delayClosePanel = function delayClosePanel() {\n    var delayTime = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 200;\n    delayTimer.current && clearTimeout(delayTimer.current);\n    delayTimer.current = setTimeout(function () {\n      setSchemePanelVisible(false);\n      handleOperationPanelVisble(false);\n    }, delayTime);\n  };\n  var clearCloseTimer = function clearCloseTimer() {\n    delayTimer.current && clearTimeout(delayTimer.current);\n  };\n  var handleClick = function handleClick(e) {\n    var schemeId = e.target.dataset.eventid === 'add' ? '' : e.target.dataset.eventid;\n    onSelect(schemeId);\n    setSchemePanelVisible(false);\n    // 点击新增方案的时候不要关编辑弹窗\n    schemeId && editF7SchemeCollapse && closeEditPanel();\n  };\n  var handleOperation = function handleOperation(operationKey) {\n    var OPERATIONS = {\n      edit: function edit() {\n        return handleEdit(hoverScheme === null || hoverScheme === void 0 ? void 0 : hoverScheme.get('id'));\n      },\n      cancelDefault: function cancelDefault() {\n        return onSchemeSetDefault(_curHoverSchemeId, false);\n      },\n      setDefault: function setDefault() {\n        return onSchemeSetDefault(_curHoverSchemeId, true);\n      },\n      share: function share() {\n        return onSchemeShare(_curHoverSchemeId, (hoverScheme === null || hoverScheme === void 0 ? void 0 : hoverScheme.get('type')) === _constants.SHARED_SCHEME);\n      },\n      \"delete\": function _delete() {\n        return onSchemeDelete(_curHoverSchemeId);\n      }\n    };\n    var curOperation = OPERATIONS[operationKey];\n    curOperation();\n    updateSelectScheme();\n    cancelAllPanel();\n    setOperationPanelVisible(false);\n  };\n  var handleOperationPanelVisble = function handleOperationPanelVisble(visible) {\n    setOperationPanelVisible(visible);\n  };\n  var cancelAllPanel = function cancelAllPanel() {\n    setOperationPanelVisible(false);\n    setSchemePanelVisible(false);\n  };\n  var updateSelectScheme = function updateSelectScheme() {\n    onSelectWithoutSearch(_curHoverSchemeId);\n  };\n  var getOperationMenu = function getOperationMenu() {\n    // 从 scheme 中获取当前悬浮的方案，改变 hoverScheme\n    var type = hoverScheme === null || hoverScheme === void 0 ? void 0 : hoverScheme.get('type');\n    var isAdvance = hoverScheme === null || hoverScheme === void 0 ? void 0 : hoverScheme.get('fixed');\n    var isDefault = (hoverScheme === null || hoverScheme === void 0 ? void 0 : hoverScheme.get('id')) === defaultSchemeId;\n    var schemeShareable = !isAdvance && type !== 2 && shareable;\n    var canSetDefault = !isDefault;\n    var deleteAble = !isDefault && !isAdvance;\n    var operations = [{\n      label: 'listFilter.key0045',\n      operationKey: 'edit'\n    }, isDefault && {\n      label: 'listFilter.key0024',\n      operationKey: 'cancelDefault'\n    }, canSetDefault && {\n      label: 'listFilter.key0031',\n      operationKey: 'setDefault'\n    }, schemeShareable && {\n      label: type === _constants.SHARED_SCHEME ? 'listFilter.key0032' : 'listFilter.key0025',\n      operationKey: 'share'\n    }, deleteAble && {\n      label: 'listFilter.key0023',\n      operationKey: 'delete'\n    }].filter(Boolean);\n    var operationItems = operations.map(function (_ref3, index) {\n      var label = _ref3.label,\n        operationKey = _ref3.operationKey;\n      return /*#__PURE__*/_react[\"default\"].createElement(_kdesign.Dropdown.Item, {\n        className: (0, _classnames2[\"default\"])([_index[\"default\"].item, 'kd-cq-dropdown-menu-item']),\n        key: operationKey\n      }, (0, _intlApi.getLangMsg)({\n        key: label\n      }));\n    });\n    return /*#__PURE__*/_react[\"default\"].createElement(_kdesign.Dropdown.Menu, {\n      className: (0, _classnames2[\"default\"])('kd-cq-dropdown kd-cq-dropdown-select-type'),\n      ref: operationRef,\n      onMouseEnter: function onMouseEnter() {\n        setOperationPanelVisible(true);\n        clearCloseTimer();\n      },\n      onClick: handleOperation\n    }, operationItems);\n  };\n  var getOperationDropDown = function getOperationDropDown() {\n    return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      onClick: function onClick(e) {\n        return e.stopPropagation();\n      }\n    }, /*#__PURE__*/_react[\"default\"].createElement(_kdesign.Dropdown, {\n      menu: getOperationMenu(),\n      trigger: \"click\",\n      placement: \"bottomLeft\",\n      onVisibleChange: handleOperationPanelVisble,\n      visible: operationPanelVisible,\n      popperClassName: _index[\"default\"]['custom-dropdown']\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n      className: (0, _classnames2[\"default\"])(_index[\"default\"].operation, 'kdfont kdfont-gengduo3')\n    })));\n  };\n  var menuOptions = (0, _react.useMemo)(function () {\n    var curSchemeId = hoverScheme === null || hoverScheme === void 0 ? void 0 : hoverScheme.get('id');\n    var optionItems = f7FilterOptions.map(function (_ref4, index) {\n      var label = _ref4.label,\n        _value = _ref4.value,\n        type = _ref4.type;\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: (0, _classnames2[\"default\"])(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty({}, _index[\"default\"].item, true), \"kd-cq-dropdown-menu-item-active \".concat(_index[\"default\"].selected), currentFilterId === _value || !currentFilterId && _value === _constants.TITLE_ID), _index[\"default\"].hoverscheme_nooperation, _curHoverSchemeId === _value), _index[\"default\"].hoverscheme, _curHoverSchemeId === _value && operationPanelVisible), 'kd-cq-dropdown-menu-item', true)),\n        key: _value,\n        \"data-eventid\": _value,\n        onMouseEnter: function onMouseEnter() {\n          var _curScheme = schemes.find(function (scheme) {\n            return scheme.get('id') === _value;\n          }) || (0, _immutable.Map)();\n          setHoverScheme(_curScheme);\n          // 方案变化后，操作面板就要消失\n          setOperationPanelVisible(false);\n        },\n        title: label\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _index[\"default\"].schemename_area\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n        className: _index[\"default\"].schemename,\n        key: _value,\n        \"data-eventid\": _value\n      }, label), (currentFilterId === _value || !currentFilterId && _value === _constants.TITLE_ID) && isTemplate && /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n        className: (0, _classnames2[\"default\"])(_index[\"default\"].template, _index[\"default\"].require_icon, 'require-icon')\n      }, \"*\"), type && type !== 0 ? type === _constants.RECEIVED_SCHEME ? /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n        className: (0, _classnames2[\"default\"])('kdfont', _index[\"default\"]['share-icon'], 'kdfont-fenxianghuilai'),\n        \"data-eventid\": _value\n      }) : /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n        className: (0, _classnames2[\"default\"])('kd-cq-querypanel-item-icon', 'kdfont', _index[\"default\"]['share-icon'], 'kdfont-fenxiang'),\n        \"data-eventid\": _value\n      }) : null), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _index[\"default\"].statusarea\n      }, _value === defaultSchemeId ? /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _index[\"default\"].defaultschme\n      }, (0, _intlApi.getLangMsg)('listFilter.key0026')) : null, _value !== _constants.TITLE_ID && curSchemeId === _value ? getOperationDropDown() : null));\n    });\n    return optionItems;\n  }, [f7FilterOptions, currentFilterId, hoverScheme, operationPanelVisible]);\n  var createSchemePanel = function createSchemePanel() {\n    return /*#__PURE__*/_reactDom[\"default\"].createPortal( /*#__PURE__*/_react[\"default\"].createElement(_PanelWrapper[\"default\"], {\n      trigger: titleRef.current,\n      onClose: function onClose() {\n        return null;\n      }\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: (0, _classnames2[\"default\"])('kd-cq-dropdown kd-cq-dropdown-select-type', _index[\"default\"].schememenu),\n      ref: schemeListRef,\n      style: {\n        width: fixedWidth || 'auto'\n      },\n      onClick: handleClick,\n      onMouseEnter: function onMouseEnter() {\n        clearCloseTimer();\n      }\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _index[\"default\"].schemelist,\n      onMouseLeave: function onMouseLeave() {\n        setHoverScheme((0, _immutable.Map)());\n      }\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _index[\"default\"].schemeitems\n    }, menuOptions), showAddBtn ? /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      key: \"add\",\n      \"data-eventid\": \"add\",\n      className: (0, _classnames2[\"default\"])(_index[\"default\"]['item-add'], 'kd-cq-dropdown-menu-item kd-cq-dropdown-menu-item-btn')\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n      className: 'kdfont kdfont-tianjia ' + _index[\"default\"].addIcon\n    }), /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n      className: _index[\"default\"].addtext\n    }, (0, _intlApi.getLangMsg)('ListFilter.key0002'))) : null))), document.body);\n  };\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _index[\"default\"].schemeselect,\n    ref: titleRef,\n    onMouseEnter: function onMouseEnter() {\n      setSchemePanelVisible(true);\n      clearCloseTimer();\n    },\n    onMouseLeave: function onMouseLeave() {\n      delayClosePanel();\n    }\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames2[\"default\"])(_index[\"default\"].title)\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    title: curFilterName,\n    className: _index[\"default\"]['title-text']\n  }, curFilterName), isTemplate && /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: (0, _classnames2[\"default\"])(_index[\"default\"].template, _index[\"default\"].require_icon, 'require-icon')\n  }, \"*\"), slot), /*#__PURE__*/_react[\"default\"].createElement(_kdesign.Icon, {\n    type: \"arrow-down\",\n    className: _index[\"default\"].arrow\n  }), schmePanelVisible && createSchemePanel());\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/Components/title/index.js?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/Components/treeSelect/index.js":
/*!**************************************************************************!*\
  !*** ./src/component/web/base/ListFilter/Components/treeSelect/index.js ***!
  \**************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.TreeSelect = void 0;\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _reactDom = _interopRequireDefault(__webpack_require__(/*! react-dom */ \"webpack/sharing/consume/default/react-dom/react-dom?418d\"));\nvar _classnames3 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _singleSpa = __webpack_require__(/*! @/api/singleSpa */ \"./src/api/singleSpa.js\");\nvar _PanelWrapper = _interopRequireDefault(__webpack_require__(/*! @/component/common/PanelWrapper */ \"./src/component/common/PanelWrapper.js\"));\nvar _utils = __webpack_require__(/*! ./utils */ \"./src/component/web/base/ListFilter/Components/treeSelect/utils.js\");\nvar _index = _interopRequireDefault(__webpack_require__(/*! ./index.less */ \"./src/component/web/base/ListFilter/Components/treeSelect/index.less\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n// data 格式：\n// {\n//   value: '',\n//   lable: '',\n//   children: [\n//     ...\n//     children: []\n//   ]\n// }\n// value: ['v1', 'v2']\n\nvar TreeSelect = exports.TreeSelect = function TreeSelect(_ref) {\n  var options = _ref.options,\n    className = _ref.className,\n    onChange = _ref.onChange,\n    _ref$value = _ref.value,\n    value = _ref$value === void 0 ? [] : _ref$value;\n  var _useState = (0, _react.useState)(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    showPanel = _useState2[0],\n    setShowPanel = _useState2[1];\n  var triggerRef = (0, _react.useRef)(null);\n  var _useMemo = (0, _react.useMemo)(function () {\n      return (0, _utils.getDataAndOptionsLevel)(options);\n    }, [options]),\n    _useMemo2 = _slicedToArray(_useMemo, 2),\n    treeData = _useMemo2[0],\n    optionsWithLevel = _useMemo2[1];\n  var handlePanelWrapperClose = function handlePanelWrapperClose() {\n    setShowPanel(false);\n  };\n  var handleSelect = function handleSelect(value) {\n    console.log(value);\n    onChange(value);\n    setShowPanel(false);\n  };\n  var handleToggle = function handleToggle() {\n    setShowPanel(!showPanel);\n  };\n  var containEl = (0, _singleSpa.isSingleSpa)() ? (0, _singleSpa.getRootContainter)() : document.body;\n  var displayValue = (0, _utils.getDisplayValue)(value, optionsWithLevel, options);\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    ref: triggerRef,\n    className: (0, _classnames3[\"default\"])(className, _index[\"default\"]['tree-select']),\n    onClick: handleToggle\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _index[\"default\"].value,\n    title: displayValue\n  }, displayValue), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames3[\"default\"])(_index[\"default\"].icon, _defineProperty({}, _index[\"default\"].expand, showPanel))\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n    className: (0, _classnames3[\"default\"])(_defineProperty(_defineProperty({}, _index[\"default\"]['collapse-icon'], true), 'kdfont kdfont-xiala', true))\n  })), showPanel && /*#__PURE__*/_reactDom[\"default\"].createPortal( /*#__PURE__*/_react[\"default\"].createElement(_PanelWrapper[\"default\"], {\n    onClose: handlePanelWrapperClose,\n    trigger: triggerRef.current\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames3[\"default\"])('kd-cq-dropdown kd-cq-dropdown-select-type kd-cq-listfilter-setting-dropdown', _index[\"default\"]['panel-wrap'])\n  }, treeData.map(function (_ref2) {\n    var key = _ref2.key,\n      label = _ref2.label,\n      children = _ref2.children;\n    return /*#__PURE__*/_react[\"default\"].createElement(Option, {\n      key: key,\n      optionKey: key,\n      label: label,\n      childrenData: children,\n      onSelect: handleSelect\n    });\n  }))), containEl));\n};\nvar Option = function Option(_ref3) {\n  var label = _ref3.label,\n    optionKey = _ref3.optionKey,\n    childrenData = _ref3.childrenData,\n    onSelect = _ref3.onSelect;\n  var _useState3 = (0, _react.useState)(true),\n    _useState4 = _slicedToArray(_useState3, 2),\n    expand = _useState4[0],\n    setExpand = _useState4[1];\n  var handleSelect = function handleSelect() {\n    onSelect([optionKey]);\n  };\n  var handleChildSelect = function handleChildSelect(childValue) {\n    childValue.push(optionKey);\n    onSelect(childValue);\n  };\n  var handleToggle = function handleToggle() {\n    setExpand(!expand);\n  };\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _index[\"default\"].option\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _index[\"default\"]['option-item']\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _index[\"default\"]['expand-icon-container']\n  }, childrenData.length > 0 ? /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    onClick: handleToggle,\n    className: (0, _classnames3[\"default\"])(_index[\"default\"]['expand-icon'], 'kdfont', {\n      'kdfont-bottom': expand,\n      'kdfont-right': !expand\n    })\n  }) : null), /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: (0, _classnames3[\"default\"])('kd-cq-dropdown-menu-item', _index[\"default\"].label, 'hover-theme-hover-fc'),\n    onClick: handleSelect\n  }, label)), expand && childrenData.length > 0 ? /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames3[\"default\"])('kd-cq-dropdown-menu-item', _index[\"default\"]['children-wrap'])\n  }, childrenData.map(function (_ref4) {\n    var key = _ref4.key,\n      label = _ref4.label,\n      children = _ref4.children;\n    return /*#__PURE__*/_react[\"default\"].createElement(Option, {\n      key: key,\n      optionKey: key,\n      label: label,\n      childrenData: children,\n      onSelect: handleChildSelect\n    });\n  })) : null);\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/Components/treeSelect/index.js?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/Components/treeSelect/utils.js":
/*!**************************************************************************!*\
  !*** ./src/component/web/base/ListFilter/Components/treeSelect/utils.js ***!
  \**************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.getDisplayValue = exports.getDataAndOptionsLevel = void 0;\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.find.js */ \"../../node_modules/core-js/modules/es.array.find.js\");\n__webpack_require__(/*! core-js/modules/es.array.join.js */ \"../../node_modules/core-js/modules/es.array.join.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.array.sort.js */ \"../../node_modules/core-js/modules/es.array.sort.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\nvar mockOptions = [{\n  key: 'v1',\n  parentKey: '',\n  label: '第一级'\n}, {\n  key: 'v11',\n  parentKey: 'v1',\n  label: '第二级'\n}, {\n  key: 'v12',\n  parentKey: 'v1',\n  label: '第二级'\n}, {\n  key: 'v111',\n  parentKey: 'v11',\n  label: '第三级'\n}, {\n  key: 'v112',\n  parentKey: 'v11',\n  label: '第三级'\n}, {\n  key: 'v121',\n  parentKey: 'v12',\n  label: '第三级'\n}, {\n  key: 'v122',\n  parentKey: 'v12',\n  label: '第三级'\n}];\n\n/**\n * 获取树形结构和带level的选项\n * @param {*} options [{ key, parentKey, label }]\n * @return options [key, label, level]  treeData: [{ key, label, children: treeData }]\n */\nvar getDataAndOptionsLevel = exports.getDataAndOptionsLevel = function getDataAndOptionsLevel(options) {\n  var optionsWithLevel = [];\n  var treeData = getChildrenAndAddLevel('', options, optionsWithLevel, 0);\n  return [treeData, optionsWithLevel];\n};\nvar getChildrenAndAddLevel = function getChildrenAndAddLevel(parentKey, options, optionsWithLevel, level) {\n  var _level = level + 1;\n  var childOption = options.filter(function (_ref) {\n    var _parentKey = _ref.parentKey;\n    return _parentKey === parentKey;\n  });\n  return childOption.map(function (_ref2) {\n    var key = _ref2.key,\n      label = _ref2.label;\n    optionsWithLevel.push({\n      key: key,\n      label: label,\n      level: level\n    });\n    return {\n      key: key,\n      label: label,\n      children: getChildrenAndAddLevel(key, options, optionsWithLevel, _level)\n    };\n  });\n};\nvar getDisplayValue = exports.getDisplayValue = function getDisplayValue(value, optionsWithLevel, options) {\n  var maxLevelValue = getMaxLevelValue(value, optionsWithLevel);\n  return getCompleteLabel(maxLevelValue, options, []).join(' / ');\n};\nvar getCompleteLabel = function getCompleteLabel(value, options, lastValue) {\n  var option = options.find(function (_ref3) {\n    var key = _ref3.key;\n    return key === value;\n  });\n  if (option) {\n    lastValue.unshift(option.label);\n    if (option.parentKey !== '') {\n      var parentOption = options.find(function (_ref4) {\n        var key = _ref4.key;\n        return key === option.parentKey;\n      });\n      return getCompleteLabel(parentOption.key, options, lastValue);\n    }\n  }\n  return lastValue;\n};\nvar getMaxLevelValue = function getMaxLevelValue(value, optionsWithLevel) {\n  var _valueWidthLevel$;\n  var valueWidthLevel = value.map(function (_key) {\n    return optionsWithLevel.find(function (_ref5) {\n      var key = _ref5.key;\n      return key === _key;\n    });\n  });\n  valueWidthLevel.sort(function (a, b) {\n    return b.level - a.level;\n  });\n  return (_valueWidthLevel$ = valueWidthLevel[0]) === null || _valueWidthLevel$ === void 0 ? void 0 : _valueWidthLevel$.key;\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/Components/treeSelect/utils.js?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/Components/useSchemePanel.js":
/*!************************************************************************!*\
  !*** ./src/component/web/base/ListFilter/Components/useSchemePanel.js ***!
  \************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\nvar _react = __webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\");\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nvar useSchemePanel = function useSchemePanel(schmePanelVisible) {\n  var schemeListRef = (0, _react.useRef)(null);\n  var _useState = (0, _react.useState)('auto'),\n    _useState2 = _slicedToArray(_useState, 2),\n    fixedWidth = _useState2[0],\n    setFixedWidth = _useState2[1];\n  (0, _react.useEffect)(function () {\n    if (schmePanelVisible) {\n      if (schemeListRef.current) {\n        // 固定面板宽度，防止抖动\n        setFixedWidth(schemeListRef.current.offsetWidth);\n        var targetElement = schemeListRef.current.querySelector('[data-selected=\"true\"]');\n        if (targetElement) {\n          targetElement.scrollIntoView({\n            behavior: 'smooth',\n            block: 'center'\n          });\n        }\n      }\n    } else {\n      // 面板隐藏时重置宽度\n      setFixedWidth('auto');\n    }\n  }, [schmePanelVisible]);\n  return {\n    schemeListRef: schemeListRef,\n    fixedWidth: fixedWidth\n  };\n};\nvar _default = exports[\"default\"] = useSchemePanel;\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/Components/useSchemePanel.js?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/F7ListFilter.js":
/*!***********************************************************!*\
  !*** ./src/component/web/base/ListFilter/F7ListFilter.js ***!
  \***********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.string.search.js */ \"../../node_modules/core-js/modules/es.string.search.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _classnames = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _index = _interopRequireDefault(__webpack_require__(/*! ./index.less */ \"./src/component/web/base/ListFilter/index.less\"));\nvar _title = __webpack_require__(/*! ./Components/title */ \"./src/component/web/base/ListFilter/Components/title/index.js\");\nvar _langUtil = __webpack_require__(/*! @/util/langUtil */ \"./src/util/langUtil.js\");\nvar _componentutil = __webpack_require__(/*! @/util/componentutil */ \"./src/util/componentutil.js\");\nvar _constants = __webpack_require__(/*! ./constants */ \"./src/component/web/base/ListFilter/constants.js\");\nvar _utils = __webpack_require__(/*! ./utils */ \"./src/component/web/base/ListFilter/utils.js\");\nvar _selectedConditions = __webpack_require__(/*! ./selectedConditions */ \"./src/component/web/base/ListFilter/selectedConditions/index.js\");\nvar _quickSearch = __webpack_require__(/*! ./quickSearch */ \"./src/component/web/base/ListFilter/quickSearch/index.js\");\nvar _nlpSearchUse = __webpack_require__(/*! ./nlpSearchUse */ \"./src/component/web/base/ListFilter/nlpSearchUse.js\");\nvar _ArchiveSelect = __webpack_require__(/*! ./ArchiveSelect */ \"./src/component/web/base/ListFilter/ArchiveSelect/index.js\");\nvar _pinnedConditions = __webpack_require__(/*! ./pinnedConditions */ \"./src/component/web/base/ListFilter/pinnedConditions/index.js\");\nvar _utils2 = __webpack_require__(/*! @/component/web/KDListFilter/utils */ \"./src/component/web/KDListFilter/utils.js\");\nvar _constants2 = __webpack_require__(/*! @/component/web/KDListFilter/constants */ \"./src/component/web/KDListFilter/constants.js\");\nvar _schemeF7EditDialog = _interopRequireDefault(__webpack_require__(/*! ./schemeF7EditDialog */ \"./src/component/web/base/ListFilter/schemeF7EditDialog/index.js\"));\nvar _excluded = [\"fold\", \"style\", \"lang\", \"data\", \"selected\", \"linkQuery\", \"smartMeta\", \"addSchemes\", \"onNlpSearch\", \"visibleInfo\", \"attachData\", \"archiveData\", \"showMultiGrids\", \"activeKey\", \"setPostValue\", \"onCommonSearch\", \"onSchemeSearch\", \"onSelectedChange\", \"onCommonF7Click\", \"saveCommonConfig\", \"onLinkQueryClose\", \"commonFilterConfig\", \"getCommonFilterConfig\", \"onF7LookUp\", \"onSchemeF7LookUp\", \"onAddSchemesChange\", \"onSchemeSave\", \"onSchemeDelete\", \"onFieldBtnClick\", \"onSchemeShare\", \"onSchemeSetDefault\", \"pinnedConditions\", \"setFoldPageUIState\", \"switchFilterMode\", \"shareable\", \"useOrReplaceBlank\", \"model\", \"slot\", \"userLocal\", \"showFormByTips\", \"downKeyFocus\", \"closeF7Panel\", \"toggleExpand\", \"dataPageId\", \"enableScheme\", \"canshowF7SchemeTitle\"];\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nvar NOT_TRIGGER_SEARCH = true;\nvar CUR_USER = '103';\nvar NOT_CUR_USER = '104';\nvar F7ListFilter = function F7ListFilter(_ref) {\n  var fold = _ref.fold,\n    style = _ref.style,\n    lang = _ref.lang,\n    data = _ref.data,\n    selected = _ref.selected,\n    linkQuery = _ref.linkQuery,\n    smartMeta = _ref.smartMeta,\n    addSchemes = _ref.addSchemes,\n    onNlpSearch = _ref.onNlpSearch,\n    visibleInfo = _ref.visibleInfo,\n    attachData = _ref.attachData,\n    archiveData = _ref.archiveData,\n    showMultiGrids = _ref.showMultiGrids,\n    activeKey = _ref.activeKey,\n    setPostValue = _ref.setPostValue,\n    onCommonSearch = _ref.onCommonSearch,\n    onSchemeSearch = _ref.onSchemeSearch,\n    onSelectedChange = _ref.onSelectedChange,\n    onCommonF7Click = _ref.onCommonF7Click,\n    saveCommonConfig = _ref.saveCommonConfig,\n    onLinkQueryClose = _ref.onLinkQueryClose,\n    commonFilterConfig = _ref.commonFilterConfig,\n    getCommonFilterConfig = _ref.getCommonFilterConfig,\n    onF7LookUp = _ref.onF7LookUp,\n    onSchemeF7LookUp = _ref.onSchemeF7LookUp,\n    onAddSchemesChange = _ref.onAddSchemesChange,\n    onSchemeSave = _ref.onSchemeSave,\n    onSchemeDelete = _ref.onSchemeDelete,\n    onFieldBtnClick = _ref.onFieldBtnClick,\n    onSchemeShare = _ref.onSchemeShare,\n    onSchemeSetDefault = _ref.onSchemeSetDefault,\n    pinnedConditions = _ref.pinnedConditions,\n    setFoldPageUIState = _ref.setFoldPageUIState,\n    switchFilterMode = _ref.switchFilterMode,\n    shareable = _ref.shareable,\n    useOrReplaceBlank = _ref.useOrReplaceBlank,\n    model = _ref.model,\n    slot = _ref.slot,\n    userLocal = _ref.userLocal,\n    showFormByTips = _ref.showFormByTips,\n    downKeyFocus = _ref.downKeyFocus,\n    closeF7Panel = _ref.closeF7Panel,\n    toggleExpand = _ref.toggleExpand,\n    dataPageId = _ref.dataPageId,\n    enableScheme = _ref.enableScheme,\n    canshowF7SchemeTitle = _ref.canshowF7SchemeTitle,\n    otherAttachData = _objectWithoutProperties(_ref, _excluded);\n  var _useContext = (0, _react.useContext)(_utils2.FilterContext),\n    eventTracking = _useContext.eventTracking;\n  var showCommon = visibleInfo.showCommon,\n    showScheme = visibleInfo.showScheme,\n    showQuick = visibleInfo.showQuick;\n  var title = (0, _langUtil.getValueOfLanguage)(data.get('title'), userLocal);\n  var selectedScheme = selected.get('scheme');\n  // F7 过滤使用的 title\n  var _useState = (0, _react.useState)((0, _immutable.Map)()),\n    _useState2 = _slicedToArray(_useState, 2),\n    currentFilterScheme = _useState2[0],\n    setCurrentFilterScheme = _useState2[1];\n  var _useState3 = (0, _react.useState)((0, _immutable.Map)()),\n    _useState4 = _slicedToArray(_useState3, 2),\n    tempSearchScheme = _useState4[0],\n    setTempSearchScheme = _useState4[1];\n  var schemeStatus = selectedScheme.get('status');\n  var schemeId = selectedScheme.getIn(['currentScheme', 'id']);\n  var isCommon = showCommon && !schemeStatus && !schemeId;\n  var _useState5 = (0, _react.useState)(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    editSchemeCollapse = _useState6[0],\n    setEditSchemeCollapse = _useState6[1];\n  var scheme = data.get('scheme');\n  var _useNlpSearch = (0, _nlpSearchUse.useNlpSearch)(),\n    _useNlpSearch2 = _slicedToArray(_useNlpSearch, 3),\n    nlpState = _useNlpSearch2[0],\n    nlpDispatch = _useNlpSearch2[1],\n    nlpSearchValueRef = _useNlpSearch2[2]; // 智能搜索\n  var schemes = data.getIn(['scheme', 'commonSchemes'], (0, _immutable.List)());\n  var entryenties = data.getIn(['scheme', 'entryenties']);\n  var defaultSchemeId = data.getIn(['scheme', 'defaultScheme', 'defaultSchemeId']);\n  var currentSelectedId = selected.getIn(['scheme', 'currentScheme', 'id']);\n  (0, _utils.useEventTracking)(true, visibleInfo, false, data.get('commonLayoutType'));\n  var listfilterRef = (0, _react.useRef)(null);\n  // 用来判断当前触发搜索是否是用户字段的F7，是的话就在查询参数构造时，不添加 compare，防止 当前用户（103） 其他用户（104） 混淆\n  var noCompareUsers = (0, _react.useRef)({});\n  var latestF7User = (0, _react.useRef)('');\n  var initNoCompareUsers = function initNoCompareUsers(initArg) {\n    noCompareUsers.current = initArg;\n  };\n  (0, _react.useEffect)(function () {\n    var commonCondition = data.get('common');\n    var initParam = {};\n    commonCondition.filter(function (item) {\n      return (item === null || item === void 0 ? void 0 : item.get('type')) === 'user';\n    }).forEach(function (commonOption) {\n      var optioinItems = commonOption === null || commonOption === void 0 ? void 0 : commonOption.get('items');\n      var noCompare = false;\n      for (var i = 0; i < optioinItems.size; i++) {\n        var optionItem = optioinItems.get(i);\n        if (!(optionItem !== null && optionItem !== void 0 && optionItem.has('compare')) && ((optionItem === null || optionItem === void 0 ? void 0 : optionItem.get('value')) === CUR_USER || (optionItem === null || optionItem === void 0 ? void 0 : optionItem.get('value')) === NOT_CUR_USER)) {\n          noCompare = true;\n          break;\n        }\n      }\n      initParam[commonOption === null || commonOption === void 0 ? void 0 : commonOption.get('fieldName')] = noCompare;\n    });\n    initNoCompareUsers(initParam);\n  }, [selected.get('_update_timestamp_')]);\n  var F7containerEle = (0, _react.useMemo)(function () {\n    var listFilter = listfilterRef.current;\n    while (listFilter && !listFilter.hasAttribute('data-form-id')) {\n      listFilter = listFilter.parentElement;\n    }\n    return listFilter;\n  }, [listfilterRef.current]);\n  (0, _react.useEffect)(function () {\n    if (currentFilterScheme.get('id') === _constants.TITLE_ID) {\n      updateCurFilterScheme({\n        schemeName: selectedScheme.getIn(['currentScheme', 'schemeName']),\n        schemeId: _constants.TITLE_ID\n      });\n    }\n  }, [title]);\n  (0, _react.useEffect)(function () {\n    // F7 初始化时候需要显示的标题 没有 id 的时候默认展示 title\n    if (selectedScheme) {\n      updateCurFilterScheme({\n        schemeName: selectedScheme.getIn(['currentScheme', 'schemeName']),\n        schemeId: selectedScheme.getIn(['currentScheme', 'id']) || _constants.TITLE_ID\n      });\n    }\n  }, [selectedScheme.getIn(['currentScheme', 'shouldUpdateCurScheme']), selected.get('_update_timestamp_')]);\n\n  // 常用条件f7弹窗选择条件后需要重新查询\n  (0, _react.useEffect)(function () {\n    if (selected.get('f7CommonSearch')) {\n      // 兼容用户字段选中103 104 等和枚举值一致的value的场景\n      latestF7User.current = selected.get('f7CommonSearch');\n      commonSearch(selected, NOT_TRIGGER_SEARCH);\n      // 使用后需要重置参数，防止影响后续判断\n      latestF7User.current = '';\n    }\n  }, [selected.get('f7CommonSearch')]);\n\n  // 删除方案后重新选择方案/常用查询 后挪，最后一个触发\n  (0, _react.useEffect)(function () {\n    if (selected.get('deleteSchemeSearch')) {\n      selectFilterAfterDelete();\n    }\n  }, [selected.get('deleteSchemeSearch')]);\n  var selectFilterAfterDelete = function selectFilterAfterDelete() {\n    // 删除最后一个方案的时候，在F7列表中仍要回到选中标题场景\n    handleSelect(defaultSchemeId || _constants.TITLE_ID);\n  };\n  var updateCurFilterScheme = function updateCurFilterScheme(_ref2) {\n    var schemeName = _ref2.schemeName,\n      schemeId = _ref2.schemeId;\n    setCurrentFilterScheme(currentFilterScheme.set('id', schemeId).set('schemeName', schemeId === _constants.TITLE_ID ? title : schemeName, ''));\n  };\n  var doSelectTitle = function doSelectTitle() {\n    var newSelectedScheme = selectedScheme.set('currentScheme', (0, _immutable.Map)())[\"delete\"]('status');\n    var newSelected = selected.set('scheme', newSelectedScheme);\n    onSelectedChange(newSelected);\n    commonSearch(newSelected);\n    onSelectedChange(newSelected.setIn(['scheme', 'currentScheme', 'id'], _constants.TITLE_ID));\n    // 常用过滤搜索之后，需要更新当前的过滤方案\n    updateCurFilterScheme({\n      schemeId: _constants.TITLE_ID\n    });\n  };\n  var doSelectScheme = function doSelectScheme(filterId) {\n    var newSelectedScheme = (0, _utils.getSelectedScheme)(data, selected, filterId);\n    var newSelected = selected.set('scheme', newSelectedScheme[\"delete\"]('status'));\n    setTempSearchScheme((0, _immutable.Map)());\n    onSelectedChange(newSelected); // 更新store\n    schemeSearch(newSelected); // 发送请求\n  };\n  var handleSchemeShare = function handleSchemeShare(schemeId, isEdit) {\n    onSchemeShare(schemeId, isEdit);\n    eventTracking(_constants2.EVENT_TRACK_PROP.share, 'true');\n  };\n  var handleSelect = function handleSelect(filterId) {\n    if (!filterId) {\n      // 新增方案\n      var newSelected = handleSchemeAdd();\n      changeEditScheme(newSelected === null || newSelected === void 0 ? void 0 : newSelected.get('scheme'));\n      setEditSchemeCollapse(true);\n      return;\n    }\n    // F7 下拉选方案，可能出现selected和当前高亮方案不一致的场景，需要触发搜索并更新高亮方案\n    if (filterId !== currentSelectedId || filterId !== (currentFilterScheme === null || currentFilterScheme === void 0 ? void 0 : currentFilterScheme.get('id'))) {\n      if (filterId === _constants.TITLE_ID) {\n        doSelectTitle();\n      } else {\n        doSelectScheme(filterId);\n      }\n    }\n  };\n  var commonSearch = function commonSearch(newSelected, notTriggerSearch) {\n    var fastConditions = (0, _utils.getFastConditions)(newSelected.get('fast'), (0, _utils.getFastOptions)(data.get('fast'), newSelected));\n    var commonConditions = (0, _utils.getCommonConditions)(newSelected.get('common'), data.get('common'), {\n      latestF7User: latestF7User.current,\n      noCompareUsers: noCompareUsers.current\n    });\n    var entryenties = data.getIn(['scheme', 'entryenties']);\n    var selectedEntryEntity = (0, _utils.getSelectedEntryEntity)(newSelected.getIn(['scheme', 'grids']), entryenties);\n    var args = [fastConditions, commonConditions, selectedEntryEntity];\n    onCommonSearch(args, notTriggerSearch);\n  };\n  var schemeSearch = function schemeSearch(newSelected) {\n    var fastConditions = (0, _utils.getFastConditions)(newSelected.get('fast'), (0, _utils.getFastOptions)(data.get('fast'), newSelected));\n    var schmeConditions = (0, _utils.getSchmeSearchConditons)(newSelected.get('scheme'));\n    var entryenties = data.getIn(['scheme', 'entryenties']);\n    var selectedEntryEntity = (0, _utils.getSelectedEntryEntity)(newSelected.getIn(['scheme', 'grids']), entryenties);\n    var schemeId = newSelected.getIn(['scheme', 'currentScheme', 'id']);\n    var args = [fastConditions, schmeConditions, selectedEntryEntity];\n    updateCurFilterScheme({\n      schemeName: newSelected.getIn(['scheme', 'currentScheme', 'schemeName']),\n      schemeId: schemeId\n    });\n    onSchemeSearch(args, schemeId);\n  };\n  var handleFastConditionsChange = function handleFastConditionsChange(fastConditions) {\n    var newSelected = selected.set('fast', fastConditions);\n    onSelectedChange(newSelected);\n  };\n  var handleFastSearch = function handleFastSearch(fastConditions) {\n    // F7 下拉内，如果当前选中方案和当前过滤方案不匹配，若此时进行快速搜索，需要切换selected到当前过滤方案后，进行搜索\n    var curFilterSchemeId = currentFilterScheme.get('id');\n    // 处理过滤方案和selected方案不一致的场景下的快速过滤\n    if (currentSelectedId !== curFilterSchemeId) {\n      // 显示的是标题，selected 其他方案时\n      if (curFilterSchemeId === _constants.TITLE_ID) {\n        var newSelectedScheme = selectedScheme.set('currentScheme', (0, _immutable.Map)())[\"delete\"]('status');\n        var newSelected = selected.set('scheme', newSelectedScheme);\n        commonSearch(newSelected.set('fast', fastConditions));\n        // 常用过滤搜索之后，需要更新当前的过滤方案\n        updateCurFilterScheme({\n          schemeId: _constants.TITLE_ID\n        });\n      } else {\n        var _newSelectedScheme = (0, _utils.getSelectedScheme)(data, selected, curFilterSchemeId);\n        var _newSelected = selected.set('scheme', _newSelectedScheme[\"delete\"]('status'));\n        onSelectedChange(_newSelected);\n        schemeSearch(selected.set('fast', fastConditions));\n        schemeSearch(_newSelected); // 发送请求\n      }\n      return;\n    }\n    if (isCommon) {\n      commonSearch(selected.set('fast', fastConditions));\n    } else {\n      schemeSearch(selected.set('fast', fastConditions));\n    }\n  };\n\n  // 常用条件变化(直接触发查询)\n  var handleCommonSelectedChange = function handleCommonSelectedChange(commonSelected) {\n    var newSelected = selected.set('common', commonSelected);\n    onSelectedChange(newSelected);\n    commonSearch(newSelected, NOT_TRIGGER_SEARCH);\n  };\n\n  // 新增方案\n  var handleSchemeAdd = function handleSchemeAdd() {\n    // 新增的方案要缓存，有新增过方案就选择之前的方案(保存之后清空缓存)\n    if (addSchemes.get(0)) {\n      return selectAddScheme();\n    } else {\n      return addNewScheme();\n    }\n  };\n  var addNewScheme = function addNewScheme() {\n    var advanceCoditions = (0, _utils.getDefaultAdvanceConditions)(data.get('scheme'));\n    var grids = (0, _utils.getDefaultGrids)(data.get('scheme'), selectedScheme.get('grids'));\n    var addSchemeId = (0, _componentutil.createNewId)();\n    var entryenties = data.getIn(['scheme', 'entryenties']);\n    var entryEntity = (0, _utils.getSelectedEntryEntity)(grids, entryenties);\n    var addScheme = (0, _immutable.Map)({}).set('advance', advanceCoditions).set('add', (0, _immutable.List)()).set('schemeName', '').set('id', addSchemeId).set('entryEntity', entryEntity);\n    var newAddSchemes = addSchemes.push(addScheme);\n    onAddSchemesChange(newAddSchemes); // 更新addSchemes store\n\n    var newSelectedScheme = selectedScheme.set('advance', advanceCoditions).set('add', (0, _immutable.List)()).set('status', _constants.SCHME_STATUS.add).set('isDefault', false).setIn(['currentScheme', 'id'], addSchemeId).setIn(['currentScheme', 'schemeName'], '').set('grids', grids);\n    var newSelected = selected.set('scheme', newSelectedScheme);\n    onSelectedChange(newSelected); // 更新selectedScheme store\n    return newSelected;\n  };\n  var selectAddScheme = function selectAddScheme() {\n    var addScheme = addSchemes.get(0);\n    var grids = (0, _utils.getSelectedGrids)(addScheme.get('entryEntity'), entryenties);\n    var newSelectedScheme = selectedScheme.set('advance', addScheme.get('advance')).set('add', addScheme.get('add')).setIn(['currentScheme', 'id'], addScheme.get('id')).setIn(['currentScheme', 'schemeName'], addScheme.get('schemeName')).set('isDefault', false).set('status', _constants.SCHME_STATUS.add).set('grids', grids);\n    var newSelected = selected.set('scheme', newSelectedScheme);\n    onSelectedChange(newSelected);\n    return newSelected;\n  };\n  var handleSchemeDelete = function handleSchemeDelete(schemeId, isAdd) {\n    if (isAdd) {\n      var newSelected = selected.set('scheme', selectedScheme.remove('status').set('currentScheme', (0, _immutable.Map)()));\n      onSelectedChange(newSelected); // 更新selectedScheme store\n      onAddSchemesChange((0, _immutable.List)()); // 清空addSchemes\n      selectFilterAfterDelete();\n    } else {\n      onSchemeDelete(schemeId);\n    }\n  };\n  var handleFieldBtnClick = function handleFieldBtnClick(_ref3) {\n    var type = _ref3.type,\n      fieldName = _ref3.fieldName,\n      compareType = _ref3.compareType,\n      clientType = _ref3.clientType,\n      rowIndex = _ref3.rowIndex,\n      entityId = _ref3.entityId;\n    var _schemeConditions = (0, _utils.getSchmeSearchConditons)(selectedScheme);\n    var entryenties = data.getIn(['scheme', 'entryenties']);\n    var selectedEntryEntity = (0, _utils.getSelectedEntryEntity)(selected.getIn(['scheme', 'grids']), entryenties);\n    var schemeConditions = [_schemeConditions, selectedEntryEntity];\n    onFieldBtnClick({\n      type: type,\n      fieldName: fieldName,\n      compareType: compareType,\n      clientType: clientType,\n      rowIndex: rowIndex,\n      entityId: entityId,\n      schemeConditions: schemeConditions\n    });\n  };\n  var handleSchemeF7LookUp = function handleSchemeF7LookUp(_ref4) {\n    var entityId = _ref4.entityId,\n      fieldName = _ref4.fieldName,\n      value = _ref4.value;\n    var _schemeConditions = (0, _utils.getSchmeSearchConditons)(selectedScheme);\n    var entryenties = data.getIn(['scheme', 'entryenties']);\n    var selectedEntryEntity = (0, _utils.getSelectedEntryEntity)(selected.getIn(['scheme', 'grids']), entryenties);\n    var schemeConditions = [_schemeConditions, selectedEntryEntity];\n    onSchemeF7LookUp({\n      entityId: entityId,\n      fieldName: fieldName,\n      value: value,\n      schemeConditions: schemeConditions\n    });\n  };\n\n  // 手动触发查询\n  var handleSchemeSearch = function handleSchemeSearch() {\n    var isAdd = selected.getIn(['scheme', 'status']) === _constants.SCHME_STATUS.add;\n    var newSelected = selected;\n    if (!isAdd) {\n      // 新增时手动查询不改变状态\n      newSelected = selected.setIn(['scheme', 'status'], _constants.SCHME_STATUS.search);\n      setTempSearchScheme(newSelected);\n      onSelectedChange(newSelected);\n    }\n    schemeSearch(newSelected);\n    eventTracking(_constants2.EVENT_TRACK_PROP.search, 'true');\n  };\n\n  // 智能搜索\n  var handleNlpSearch = function handleNlpSearch(value) {\n    nlpSearchValueRef.current = value;\n    onNlpSearch(value);\n  };\n  var handleSchemeSetDefault = function handleSchemeSetDefault(schemeId, isDefault) {\n    onSchemeSetDefault(schemeId, isDefault);\n    eventTracking(_constants2.EVENT_TRACK_PROP.setDefault, isDefault ? 'true' : 'false');\n  };\n\n  // 归档\n  var handleArchiveChange = function handleArchiveChange(archiveKey) {\n    setPostValue({\n      archiveKey: archiveKey\n    });\n    if (isCommon) {\n      commonSearch(selected);\n    } else {\n      schemeSearch(selected);\n    }\n  };\n  var handleEdit = function handleEdit(editId) {\n    handleSelectWithoutSearch(editId);\n    setEditSchemeCollapse(true);\n  };\n  var handleSelectWithoutSearch = function handleSelectWithoutSearch(editId) {\n    // 如果当前的方案是查询状态，则需要把它编辑态的条件恢复出来\n    if (tempSearchScheme.getIn(['scheme', 'currentScheme', 'id'], (0, _immutable.Map)()) === editId) {\n      onSelectedChange(selected.set('scheme', tempSearchScheme.get('scheme')));\n    } else {\n      onSelectedChange(selected.set('scheme', (0, _utils.getSelectedScheme)(data, selected, editId)));\n    }\n  };\n  var handleSchemeSave = function handleSchemeSave(args) {\n    var newSelected = selected.set('scheme', selectedScheme.remove('status'));\n    var schemeName = args.schemeName,\n      id = args.id;\n    // 更新一下标题\n    updateCurFilterScheme({\n      schemeName: schemeName,\n      schemeId: id\n    });\n    // 删除临时查询状态\n    onSelectedChange(newSelected);\n    setTempSearchScheme(newSelected);\n    onSchemeSave(args);\n    // 保存方案后，由于后端无法缓存快速搜索条件，所以由前端主动触发一次搜索,如果只保存方案不搜索，则会引起一系列交互问题\n    schemeSearch(newSelected);\n  };\n  var closeEditPanel = function closeEditPanel() {\n    setEditSchemeCollapse(false);\n  };\n  var changeEditScheme = function changeEditScheme(newEditScheme) {\n    var newSelected = selected.set('scheme', newEditScheme);\n    onSelectedChange(newSelected);\n  };\n  var showLinkQuery = linkQuery && !smartMeta;\n  var againLinkSearch = data.getIn(['scheme', 'againLinkSearch']);\n  var showSelectedConditions = isCommon && (!showLinkQuery || againLinkSearch);\n  var showPinnedConditions = (!showLinkQuery || againLinkSearch) && !isCommon;\n  var isTemplate = selected.getIn(['scheme', 'status']) === _constants.SCHME_STATUS.search;\n  var conditionOptions = data.getIn(['scheme', 'conditions'], (0, _immutable.List)());\n  var showComplexF7Title = canshowF7SchemeTitle && enableScheme && (conditionOptions === null || conditionOptions === void 0 ? void 0 : conditionOptions.size) > 0 && showScheme;\n  var titleCom = showComplexF7Title ? /*#__PURE__*/_react[\"default\"].createElement(_title.F7FilterTitle, {\n    title: title,\n    slot: slot,\n    userLocal: userLocal,\n    shareable: shareable,\n    defaultSchemeId: defaultSchemeId,\n    selected: selected,\n    isTemplate: isTemplate,\n    currentFilterScheme: currentFilterScheme,\n    scheme: scheme,\n    schemes: schemes,\n    onSelect: handleSelect,\n    showAddBtn: showScheme,\n    onSchemeDelete: handleSchemeDelete,\n    onSchemeShare: handleSchemeShare,\n    onSchemeSetDefault: handleSchemeSetDefault,\n    onSelectWithoutSearch: handleSelectWithoutSearch,\n    handleEdit: handleEdit,\n    closeEditPanel: closeEditPanel,\n    editSchemeCollapse: editSchemeCollapse\n  }) : /*#__PURE__*/_react[\"default\"].createElement(_title.ListFilterTitle, {\n    title: title,\n    slot: slot\n  });\n  var quicksearchCom = /*#__PURE__*/_react[\"default\"].createElement(_quickSearch.QuickSearch, {\n    pageId: model === null || model === void 0 ? void 0 : model.pageId,\n    lang: lang,\n    smartMeta: smartMeta,\n    onNlpSearch: handleNlpSearch,\n    nlpDispatch: nlpDispatch,\n    fastOptions: (0, _utils.getFastOptions)(data.get('fast'), selected),\n    fastConditions: selected.get('fast'),\n    nlpSearchInfo: nlpState,\n    onFastConditionsChange: handleFastConditionsChange,\n    onFastSearch: handleFastSearch,\n    useOrReplaceBlank: useOrReplaceBlank,\n    downKeyFocus: downKeyFocus\n  });\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", _extends({\n    className: (0, _classnames[\"default\"])('kd-cq-control kd-cq-querypanel', _index[\"default\"]['list-filter'], 'primary-text-in-light'),\n    style: style\n  }, otherAttachData, {\n    ref: listfilterRef\n  }), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames[\"default\"])('kd-cq-querypanel-header', _index[\"default\"]['filter-header'])\n  }, titleCom, /*#__PURE__*/_react[\"default\"].createElement(_ArchiveSelect.ArchiveSelect, {\n    archiveData: archiveData,\n    onArchiveChange: handleArchiveChange\n  }), showLinkQuery ? /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _index[\"default\"]['link-query']\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: _index[\"default\"]['link-query-info'],\n    title: linkQuery.get('content')\n  }, linkQuery.get('content')), /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: (0, _classnames[\"default\"])(_index[\"default\"].icon, 'hover-theme-fc'),\n    onClick: onLinkQueryClose\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n    className: (0, _classnames[\"default\"])(_index[\"default\"]['c-icon-close'], 'kdfont kdfont-shanchu-s secondary-text-in-light')\n  }))) : null, showPinnedConditions ? /*#__PURE__*/_react[\"default\"].createElement(_pinnedConditions.PinnedConditions, {\n    pinnedConditions: pinnedConditions\n  }) : null, showSelectedConditions ? /*#__PURE__*/_react[\"default\"].createElement(_selectedConditions.SelectCondition, {\n    lang: lang,\n    commonSelected: selected.get('common'),\n    commonOptions: data.get('common'),\n    onCommonSelectedChange: handleCommonSelectedChange\n  }) : /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _index[\"default\"].empty\n  }), showQuick ? quicksearchCom : null), editSchemeCollapse ? /*#__PURE__*/_react[\"default\"].createElement(_schemeF7EditDialog[\"default\"], {\n    defaultSchemeId: defaultSchemeId,\n    entryenties: entryenties,\n    showMultiGrids: showMultiGrids,\n    closeEditPanel: closeEditPanel,\n    schemes: schemes,\n    addSchemes: addSchemes,\n    conditionOptions: conditionOptions,\n    selectedScheme: selectedScheme,\n    onAddSchemesChange: onAddSchemesChange,\n    onSchemeSave: handleSchemeSave,\n    onFieldBtnClick: handleFieldBtnClick,\n    onSchemeDelete: handleSchemeDelete,\n    shareable: shareable,\n    onSchemeShare: handleSchemeShare,\n    onEditSchemeChange: changeEditScheme,\n    onSchemeSearch: handleSchemeSearch,\n    onSchemeSetDefault: onSchemeSetDefault,\n    showComplexSchema: data.getIn(['scheme', 'showComplexSchema']),\n    fieldsDependent: data.getIn(['scheme', 'fieldsDependent']),\n    titleCom: titleCom,\n    quicksearchCom: quicksearchCom,\n    F7containerEle: F7containerEle,\n    closeF7Panel: closeF7Panel,\n    isLookUp: true,\n    editdingScheme: selectedScheme,\n    pageId: model.pageId,\n    onF7LookUp: handleSchemeF7LookUp\n  }) : null);\n};\nvar _default = exports[\"default\"] = F7ListFilter;\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/F7ListFilter.js?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/commonSearch/compactCommon/basedataSelect/index.js":
/*!**********************************************************************************************!*\
  !*** ./src/component/web/base/ListFilter/commonSearch/compactCommon/basedataSelect/index.js ***!
  \**********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.BaseDataSelect = void 0;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.set.js */ \"../../node_modules/core-js/modules/es.set.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _classnames = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _BaseData = _interopRequireDefault(__webpack_require__(/*! @/component/web/base/BaseData */ \"./src/component/web/base/BaseData/index.js\"));\nvar _utils = __webpack_require__(/*! ./utils */ \"./src/component/web/base/ListFilter/commonSearch/compactCommon/basedataSelect/utils.js\");\nvar _memoryCacher = __webpack_require__(/*! @/model/memoryCacher */ \"./src/model/memoryCacher.js\");\nvar _utils2 = __webpack_require__(/*! @/component/web/KDListFilter/utils */ \"./src/component/web/KDListFilter/utils.js\");\nvar _componentutil = __webpack_require__(/*! @/util/componentutil */ \"./src/util/componentutil.js\");\nvar _index = _interopRequireDefault(__webpack_require__(/*! ../index.less */ \"./src/component/web/base/ListFilter/commonSearch/compactCommon/index.less\"));\nvar _baseDataUtil = __webpack_require__(/*! @/util/baseDataUtil */ \"./src/util/baseDataUtil.js\");\nvar _serverproperties = __webpack_require__(/*! ../../../../../../../constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _pageConfigAction = __webpack_require__(/*! @/constant/pageConfigAction */ \"./src/constant/pageConfigAction.js\");\nvar _const = __webpack_require__(/*! @/constant/const */ \"./src/constant/const.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n/**\n * 基础资料模糊查询\n * 默认编辑属性为别名\n * 显示也为别名\n */\nvar BaseDataSelect = exports.BaseDataSelect = function BaseDataSelect(_ref) {\n  var value = _ref.value,\n    isMulti = _ref.isMulti,\n    options = _ref.options,\n    onChange = _ref.onChange,\n    mustInput = _ref.mustInput,\n    className = _ref.className,\n    fieldName = _ref.fieldName,\n    entityId = _ref.entityId,\n    onF7LookUp = _ref.onF7LookUp,\n    onCommonF7Click = _ref.onCommonF7Click,\n    handleEnumChange = _ref.handleEnumChange,\n    disableF7 = _ref.disableF7,\n    isUser = _ref.isUser;\n  var _useBDData = (0, _utils.useBDData)(value, options, isUser, isMulti),\n    _useBDData2 = _slicedToArray(_useBDData, 4),\n    alias = _useBDData2[0],\n    setAlias = _useBDData2[1],\n    code = _useBDData2[2],\n    baseDataValue = _useBDData2[3];\n  var _useState = (0, _react.useState)({\n      refreshId: '',\n      lookUpList: [],\n      hasMore: false,\n      columns: [],\n      size: 5,\n      inited: false\n    }),\n    _useState2 = _slicedToArray(_useState, 2),\n    lookUpData = _useState2[0],\n    setLookUpData = _useState2[1];\n  var _useState3 = (0, _react.useState)(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    enterToQuery = _useState4[0],\n    setEnterToQuery = _useState4[1];\n  var lookupStrRef = (0, _react.useRef)('');\n  var _useContext = (0, _react.useContext)(_utils2.FilterContext),\n    pageId = _useContext.pageId,\n    key = _useContext.key;\n  var debounceOnF7LookUp = (0, _react.useCallback)(_lodash[\"default\"].debounce(onF7LookUp, 300), [onF7LookUp]);\n  (0, _react.useEffect)(function () {\n    (0, _memoryCacher.addDataChangeListener)(pageId, [\"\".concat(key, \"_\").concat(fieldName, \"_lookup\")], setLookUpDataFromServer);\n  }, []);\n  (0, _react.useEffect)(function () {\n    var enterToQueryData = (0, _memoryCacher.getPageData)(pageId, [_const.PAGE_CONFIG, _pageConfigAction.BD_ENTER_TO_QUERY]);\n    if (enterToQueryData) {\n      handleSetEnterToQuery(enterToQueryData);\n    }\n    var removeSetEnterToQueryListener = (0, _memoryCacher.addDataChangeListener)(pageId, [_const.PAGE_CONFIG, _pageConfigAction.BD_ENTER_TO_QUERY], handleSetEnterToQuery);\n    return function () {\n      removeSetEnterToQueryListener();\n    };\n  }, [pageId, entityId]);\n  var handleSetEnterToQuery = function handleSetEnterToQuery(arg) {\n    var _arg$bdList;\n    setEnterToQuery(arg.range === 'all' || ((_arg$bdList = arg.bdList) === null || _arg$bdList === void 0 ? void 0 : _arg$bdList.includes(entityId)));\n  };\n  var setLookUpDataFromServer = function setLookUpDataFromServer(lookUpDataServer) {\n    var data = lookUpDataServer.data,\n      next = lookUpDataServer.next,\n      columns = lookUpDataServer.columns,\n      size = lookUpDataServer.size;\n    var inited = lookUpData.inited,\n      lastSize = lookUpData.size,\n      lastColumns = lookUpData.columns;\n    setLookUpData({\n      lookUpList: data,\n      hasMore: next,\n      columns: inited ? lastColumns : columns,\n      size: inited ? lastSize : size || 5,\n      inited: true,\n      refreshId: (0, _componentutil.createNewId)()\n    });\n  };\n  var setItemByNumber = function setItemByNumber(number, isSelect) {\n    if (number === '') {\n      // 必录还原 非必录还原\n      setAlias('');\n      onChange(mustInput ? value : ['']);\n    } else {\n      // 点击空白处面板，这里的number可能不是编码\n      var _getValidCode = (0, _utils.getValidCode)(number, options, lookUpList),\n        validCode = _getValidCode.validCode,\n        isMatchLookUplist = _getValidCode.isMatchLookUplist;\n      var selectedValue = Array.from(new Set(validCode));\n      onChange(selectedValue.length === 0 ? mustInput ? value : [''] : selectedValue, isMatchLookUplist);\n    }\n  };\n  var handleConvertToCode = function handleConvertToCode(valueStr) {\n    return (0, _baseDataUtil.convertToCode)(valueStr, (0, _immutable.fromJS)(baseDataValue.concat(lookUpData.lookUpList)), '', '', isMulti ? _serverproperties.Ctrls.KDMulBaseData : '');\n  };\n  var handleBaseDataChange = function handleBaseDataChange(lookUpInfo) {\n    var value = lookUpInfo.value;\n    if (!value) {\n      return;\n    }\n    lookupStrRef.current = value;\n    debounceOnF7LookUp({\n      fieldName: fieldName,\n      value: value\n    });\n  };\n  var handleBaseDataSelectItem = function handleBaseDataSelectItem(numberStr, newCode) {\n    console.log(numberStr, newCode, 'select item');\n    if (newCode) {\n      onChange(numberStr.split(','), true);\n    }\n  };\n  var handleF7Click = function handleF7Click() {\n    // 做F7过滤搜索的时候，需要先排查value是枚举值还是基础资料值\n    // 枚举值会携带compare，基础资料值不会\n    var f7Value = value.filter(function (_value) {\n      return options.filter(function (option) {\n        return (option === null || option === void 0 ? void 0 : option.value) === _value && !(option !== null && option !== void 0 && option.compare);\n      }).length > 0;\n    });\n    onCommonF7Click(fieldName, isMulti, f7Value);\n  };\n  var handleShowMoreClick = function handleShowMoreClick() {\n    // 共用打开F7接口,多一个参数表示点击更多\n    onCommonF7Click(fieldName, isMulti, value, lookupStrRef.current);\n  };\n  var refreshId = lookUpData.refreshId,\n    lookUpList = lookUpData.lookUpList,\n    hasMore = lookUpData.hasMore,\n    columns = lookUpData.columns,\n    size = lookUpData.size,\n    inited = lookUpData.inited;\n  return /*#__PURE__*/_react[\"default\"].createElement(_BaseData[\"default\"], {\n    className: (0, _classnames[\"default\"])(className, _index[\"default\"]['base-data'], 'hover-theme-bdcolor'),\n    type: isMulti ? _serverproperties.Ctrls.KDMulBaseData : '',\n    alias: alias,\n    value: alias,\n    code: code,\n    placeholder: \"\",\n    onClick: handleF7Click,\n    onConvertToCode: handleConvertToCode,\n    setItemByNumber: setItemByNumber,\n    lookUpList: (0, _immutable.fromJS)(lookUpList),\n    hasMore: hasMore,\n    columns: (0, _immutable.fromJS)(columns),\n    size: size,\n    inited: inited // 模糊查询结果\n    ,\n    refreshId: refreshId // 刷新模糊查询结果\n    ,\n    onBaseDataSelectItem: handleBaseDataSelectItem,\n    onBaseDataChange: handleBaseDataChange,\n    showAddBtnWhenNoData: false,\n    showViewDetailBtn: false,\n    showMoreClick: handleShowMoreClick,\n    handleEnumChange: handleEnumChange,\n    enumOptions: options,\n    disableF7: disableF7,\n    enterToQuery: enterToQuery\n  });\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/commonSearch/compactCommon/basedataSelect/index.js?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/commonSearch/compactCommon/basedataSelect/utils.js":
/*!**********************************************************************************************!*\
  !*** ./src/component/web/base/ListFilter/commonSearch/compactCommon/basedataSelect/utils.js ***!
  \**********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.useBDData = exports.getValidCode = exports.getBDData = exports.convertToCode = void 0;\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.find.js */ \"../../node_modules/core-js/modules/es.array.find.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.join.js */ \"../../node_modules/core-js/modules/es.array.join.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.array.reduce.js */ \"../../node_modules/core-js/modules/es.array.reduce.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\n__webpack_require__(/*! core-js/modules/es.string.split.js */ \"../../node_modules/core-js/modules/es.string.split.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _react = __webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\");\nvar _const = __webpack_require__(/*! @/constant/const */ \"./src/constant/const.js\");\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nvar useBDData = exports.useBDData = function useBDData(value, options, isUser, isMulti) {\n  var _useMemo = (0, _react.useMemo)(function () {\n      return getBDData(value, options, isUser, isMulti);\n    }, [value, options]),\n    _alias = _useMemo.alias,\n    code = _useMemo.code,\n    baseDataValue = _useMemo.baseDataValue;\n  var _useState = (0, _react.useState)(_alias),\n    _useState2 = _slicedToArray(_useState, 2),\n    alias = _useState2[0],\n    setAlias = _useState2[1];\n  (0, _react.useEffect)(function () {\n    var _getBDData = getBDData(value, options, isUser, isMulti),\n      _alias = _getBDData.alias;\n    setAlias(_alias);\n  }, [value, options]);\n  return [alias, setAlias, code, baseDataValue];\n};\nvar getBDData = exports.getBDData = function getBDData(value, options, isUser, isMulti) {\n  // 数组转化为对象（取值性能优化）\n  var optionsObj = options.reduce(function (lastObj, _ref) {\n    var label = _ref.label,\n      value = _ref.value,\n      compare = _ref.compare;\n    // 如果key值已存在，没有compare的为基础资料的值，优先级更高\n    if (isUser && lastObj[value] && compare !== undefined) {\n      return lastObj;\n    }\n    lastObj[value] = label;\n    return lastObj;\n  }, {});\n  // TODO 后台暂时不支持所有选中数据都在选项中，所以先隐藏不在选项中的已选数据\n  var validValue = value.filter(function (v) {\n    return v && optionsObj[v];\n  });\n  var alias = getAlias(validValue, optionsObj, isMulti);\n  var code = validValue.join(_const.F7_DELIMITER);\n  var baseDataValue = validValue.map(function (v) {\n    return [v, optionsObj[v], optionsObj[v]];\n  });\n  return {\n    alias: alias,\n    code: code,\n    baseDataValue: baseDataValue\n  };\n};\nvar getAlias = function getAlias(value, optionsObj, isMulti) {\n  return value.map(function (v) {\n    return optionsObj[v];\n  }).join(_const.F7_DELIMITER) + (value.length === 0 ? '' : isMulti ? _const.F7_DELIMITER : '');\n};\n\n/**\n * 别名转化成编码\n * @param {*} alias\n * @returns\n */\n// TODO\nvar convertToCode = exports.convertToCode = function convertToCode() {\n  var alias = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var options = arguments.length > 1 ? arguments[1] : undefined;\n  var lookUpList = arguments.length > 2 ? arguments[2] : undefined;\n  if (!alias) return;\n  // 数组转化为对象（取值性能优化）\n  var optionsObj = options.reduce(function (lastObj, _ref2) {\n    var label = _ref2.label,\n      value = _ref2.value;\n    lastObj[label] = value;\n    return lastObj;\n  }, {});\n  return alias.split(_const.F7_DELIMITER).map(function (label) {\n    return optionsObj[label];\n  }).filter(function (v) {\n    return v;\n  }).join('');\n};\nvar getValidCode = exports.getValidCode = function getValidCode(number, options, lookUpList) {\n  var numberArr = number.split(',').filter(Boolean);\n  var validCode = [];\n  var isMatchLookUplist = false;\n  numberArr.forEach(function (code) {\n    if (!code) return false;\n    var option = options.find(function (_ref3) {\n      var value = _ref3.value;\n      return value === code;\n    });\n    var lookUpItem = lookUpList.find(function (_ref4) {\n      var _ref5 = _slicedToArray(_ref4, 2),\n        _value = _ref5[0],\n        _code = _ref5[1];\n      return [_value, _code].includes(code);\n    });\n    if (option || lookUpItem) {\n      validCode.push((option === null || option === void 0 ? void 0 : option.value) || lookUpItem[0]);\n    }\n    if (lookUpItem && lookUpItem.length > 0) {\n      isMatchLookUplist = true;\n    }\n  });\n  return {\n    validCode: validCode,\n    isMatchLookUplist: isMatchLookUplist\n  };\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/commonSearch/compactCommon/basedataSelect/utils.js?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/commonSearch/compactCommon/commonSelect.js":
/*!**************************************************************************************!*\
  !*** ./src/component/web/base/ListFilter/commonSearch/compactCommon/commonSelect.js ***!
  \**************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.CommonSelect = void 0;\n__webpack_require__(/*! core-js/modules/es.array.join.js */ \"../../node_modules/core-js/modules/es.array.join.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _classnames = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _Select = _interopRequireDefault(__webpack_require__(/*! @/component/web/base/Select */ \"./src/component/web/base/Select.js\"));\nvar _conditionItem = __webpack_require__(/*! ../../schemeSearch/schemeEditor/conditionEditor/conditionItem */ \"./src/component/web/base/ListFilter/schemeSearch/schemeEditor/conditionEditor/conditionItem/index.js\");\nvar _index = _interopRequireDefault(__webpack_require__(/*! ./index.less */ \"./src/component/web/base/ListFilter/commonSearch/compactCommon/index.less\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nvar FIELD_STYLE = {\n  color: '#212121'\n};\nvar CommonSelect = exports.CommonSelect = function CommonSelect(_ref) {\n  var value = _ref.value,\n    isMulti = _ref.isMulti,\n    onChange = _ref.onChange,\n    options = _ref.options,\n    className = _ref.className,\n    mustInput = _ref.mustInput;\n  var handleChange = function handleChange(value) {\n    // 当选择框为多选必录的时候，基础组件允许用户删除,列表过滤不允许\n    if (value === '' && mustInput) {\n      return;\n    }\n    onChange(value === null || value === void 0 ? void 0 : value.split(','));\n  };\n  var commonOptions = (0, _react.useMemo)(function () {\n    return options.map(function (_ref2) {\n      var label = _ref2.label,\n        value = _ref2.value;\n      return {\n        alias: label,\n        value: value\n      };\n    });\n  }, [options]);\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames[\"default\"])(className)\n  }, /*#__PURE__*/_react[\"default\"].createElement(_Select[\"default\"], {\n    className: (0, _classnames[\"default\"])(_conditionItem.SelectThemeClass, _index[\"default\"]['common-select']),\n    items: commonOptions,\n    onChange: handleChange,\n    style: FIELD_STYLE,\n    value: value.join(','),\n    Grow: 1,\n    theme: \"default\",\n    required: mustInput,\n    placeholder: \"\",\n    multiple: isMulti,\n    singleClearIconStyle: {\n      right: 8\n    }\n  }));\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/commonSearch/compactCommon/commonSelect.js?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/commonSearch/compactCommon/dateSelect/index.js":
/*!******************************************************************************************!*\
  !*** ./src/component/web/base/ListFilter/commonSearch/compactCommon/dateSelect/index.js ***!
  \******************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-properties.js */ \"../../node_modules/core-js/modules/es.object.define-properties.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptors.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.getDateFieldStyleProps = exports.OnlyDate = exports.DateSelect = exports.CommonDateRender = void 0;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.join.js */ \"../../node_modules/core-js/modules/es.array.join.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _reactDom = _interopRequireDefault(__webpack_require__(/*! react-dom */ \"webpack/sharing/consume/default/react-dom/react-dom?418d\"));\nvar _classnames10 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _singleSpa = __webpack_require__(/*! @/api/singleSpa */ \"./src/api/singleSpa.js\");\nvar _PanelWrapper = _interopRequireDefault(__webpack_require__(/*! @/component/common/PanelWrapper */ \"./src/component/common/PanelWrapper.js\"));\nvar _DateRangeField = _interopRequireDefault(__webpack_require__(/*! @/component/web/baseField/DateRangeField */ \"./src/component/web/baseField/DateRangeField.jsx\"));\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nvar _utils = __webpack_require__(/*! ./utils */ \"./src/component/web/base/ListFilter/commonSearch/compactCommon/dateSelect/utils.js\");\nvar _index = _interopRequireDefault(__webpack_require__(/*! ./index.less */ \"./src/component/web/base/ListFilter/commonSearch/compactCommon/dateSelect/index.less\"));\nvar _utils2 = __webpack_require__(/*! @/component/web/KDListFilter/utils */ \"./src/component/web/KDListFilter/utils.js\");\nvar _const = __webpack_require__(/*! @/constant/const */ \"./src/constant/const.js\");\nvar _utils3 = __webpack_require__(/*! ../../../utils */ \"./src/component/web/base/ListFilter/utils.js\");\nvar _moment = _interopRequireDefault(__webpack_require__(/*! moment */ \"../../node_modules/moment/moment.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar getDateFieldStyleProps = exports.getDateFieldStyleProps = function getDateFieldStyleProps(dateType) {\n  return _objectSpread(_objectSpread({}, (0, _utils.getDatePropsStyle)(dateType, 'compact')), {}, {\n    iconStyle: {\n      right: 6\n    },\n    clearIconStyle: {\n      right: 6\n    }\n  });\n};\nvar formatValueAfterSelect = function formatValueAfterSelect(value, compare, showTime) {\n  var format = compare === _const.CUSTOM_TYPE ? showTime ? 'YYYY-MM-DD HH:mm:ss' : 'YYYY-MM-DD' : _const.ListFilterDateInfo[compare].format;\n  return value.split(',').map(function (_date) {\n    return (0, _moment[\"default\"])(_date).format(format);\n  });\n};\nvar DateSelect = exports.DateSelect = function DateSelect(_ref) {\n  var _triggerRef$current;\n  var value = _ref.value,\n    today = _ref.today,\n    options = _ref.options,\n    showTime = _ref.showTime,\n    mustInput = _ref.mustInput,\n    className = _ref.className,\n    onChange = _ref.onChange;\n  var _useState = (0, _react.useState)(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    showPanel = _useState2[0],\n    setShowPanel = _useState2[1];\n  var _useState3 = (0, _react.useState)(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    iconExpand = _useState4[0],\n    setIconExpand = _useState4[1];\n  var _useReducer = (0, _react.useReducer)(function (x) {\n      return x + 1;\n    }, 0),\n    _useReducer2 = _slicedToArray(_useReducer, 2),\n    forceUpdate = _useReducer2[1];\n  var calendarStatus = (0, _react.useRef)(false);\n  var optionsRef = (0, _react.useRef)(null);\n  // 使用compare来判断哪个时间维度被选中了\n  var _useState5 = (0, _react.useState)(''),\n    _useState6 = _slicedToArray(_useState5, 2),\n    selectedCompare = _useState6[0],\n    setSelectedCompare = _useState6[1];\n  var _useState7 = (0, _react.useState)(value),\n    _useState8 = _slicedToArray(_useState7, 2),\n    seletedValue = _useState8[0],\n    setSeletedValue = _useState8[1];\n  var tempDateValue = (0, _react.useRef)({});\n  // 面板内日期控件展示值，清空后value有值，展示值为空\n  var disPlayValue = (0, _react.useMemo)(function () {\n    return (0, _utils.getDateDisplayValue)(seletedValue, options, showTime);\n  }, [value]);\n  var _useContext = (0, _react.useContext)(_utils2.FilterContext),\n    current = _useContext.lang.current;\n  var triggerRef = (0, _react.useRef)(null);\n  (0, _react.useEffect)(function () {\n    var _curCompare = _getCompareFromValue(value);\n    setSeletedValue(value);\n    // 枚举值的 value 和 选中的 value 值是一致的\n    setSelectedCompare(_curCompare);\n  }, [value, showPanel, showTime]);\n  (0, _react.useEffect)(function () {\n    if (showPanel) {\n      if (optionsRef.current) {\n        var targetElement = optionsRef.current.querySelector('[data-selected=\"true\"]');\n        if (targetElement) {\n          targetElement.scrollIntoView({\n            behavior: 'smooth',\n            block: 'center'\n          });\n        }\n      }\n    }\n  }, [showPanel]);\n  (0, _react.useEffect)(function () {\n    var _ListFilterDateInfo$_;\n    var _curCompare = _getCompareFromValue(value);\n    var dateType = (_ListFilterDateInfo$_ = _const.ListFilterDateInfo[_curCompare]) === null || _ListFilterDateInfo$_ === void 0 ? void 0 : _ListFilterDateInfo$_.type;\n    var shouldExpand = showPanel && (dateType || _curCompare === _const.CUSTOM_TYPE);\n    if (showPanel && dateType) {\n      var formatValue = formatValueAfterSelect(value.join(','), _curCompare, showTime);\n      tempDateValue.current[_curCompare] = formatValue;\n    }\n    // 默认进来是自定义的，也要展开显示\n    if (shouldExpand) {\n      setIconExpand(true);\n    }\n  }, [value, showPanel]);\n  var _getCompareFromValue = function _getCompareFromValue(value) {\n    // 枚举类型的 value 和compare 一致，可以直接使用 value 判断类型\n    var _compareType = (0, _utils3.getCompareTyeFromValue)(value, options);\n    if (_compareType === _const.CUSTOM_TYPE) return _const.CUSTOM_TYPE;\n    if (_compareType === _const.ENUM_TYPE) {\n      return value.join('');\n    } else {\n      return _compareType;\n    }\n  };\n  var isSameItem = function isSameItem(compare) {\n    return compare === selectedCompare;\n  };\n  var handleToggleIconExpand = function handleToggleIconExpand(isExpand) {\n    isExpand === undefined ? setIconExpand(!iconExpand) : setIconExpand(isExpand);\n  };\n  var handleSelect = function handleSelect(_ref2) {\n    var value = _ref2.value,\n      compare = _ref2.compare;\n    return function () {\n      handleToggleIconExpand(true);\n      if (isSameItem(compare)) return;\n      // 枚举类型走选择值的逻辑，其他的不走\n      if (compare !== _const.CUSTOM_TYPE && _const.ListFilterDateInfo[compare] === undefined) {\n        // 枚举值的 value 和 选中的 value 值是一致的\n        setShowPanel(false);\n        onChange([compare]);\n        clearDateCache();\n      } else {\n        setSelectedCompare(compare);\n        // 选中的是自定义的类型，则要清空当前值\n        setSeletedValue(tempDateValue.current[compare] ? tempDateValue.current[compare] : ['']);\n      }\n    };\n  };\n  var clearDateCache = function clearDateCache() {\n    tempDateValue.current = {};\n  };\n  var clearDate = function clearDate() {\n    clearDateCache();\n    onChange(['']);\n    setShowPanel(false);\n  };\n  var handleClear = function handleClear(e) {\n    e.stopPropagation();\n    clearDate();\n  };\n  var handleshowCalendarCallBack = function handleshowCalendarCallBack(showCalendar, newvalue) {\n    if (calendarStatus.current && !showCalendar) {\n      if (!newvalue) {\n        forceUpdate();\n        return;\n      }\n      if (newvalue !== value.join(',')) {\n        onChange(newvalue.split(','));\n      }\n      clearDateCache();\n      setShowPanel(false);\n    }\n    calendarStatus.current = showCalendar;\n  };\n  var handleCustomDateChange = function handleCustomDateChange(dateRange, compare) {\n    if (!dateRange && mustInput) {\n      forceUpdate();\n      return;\n    }\n    // 自定义时间清空不做搜索，不隐藏面板\n    if (!dateRange) {\n      setSeletedValue(['']);\n      return;\n    }\n    var formatValue = formatValueAfterSelect(dateRange, compare, showTime);\n    var newValue = compare === _const.CUSTOM_TYPE ? dateRange.split(',') : formatValue;\n    // 值相同的时候，不触发额外的查询,但是要重新刷值，防止非法值\n    if ((newValue === null || newValue === void 0 ? void 0 : newValue.join('')) === (value === null || value === void 0 ? void 0 : value.join(''))) {\n      setSeletedValue(formatValue);\n      return;\n    }\n    setSeletedValue(formatValue);\n    // 枚举值的 value 和 选中的 value 值是一致的\n    setSelectedCompare(compare);\n    tempDateValue.current[compare] = formatValue;\n  };\n  var handleToggle = function handleToggle() {\n    setShowPanel(!showPanel);\n  };\n  var handlePanelWrapperClose = function handlePanelWrapperClose() {\n    setShowPanel(false);\n  };\n  var getDateComByCompare = function getDateComByCompare(_ref3) {\n    var _ListFilterDateInfo$c;\n    var compare = _ref3.compare,\n      label = _ref3.label;\n    var dateType = (_ListFilterDateInfo$c = _const.ListFilterDateInfo[compare]) === null || _ListFilterDateInfo$c === void 0 ? void 0 : _ListFilterDateInfo$c.type;\n    // 枚举类型\n    if (!dateType) {\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        key: compare,\n        onClick: handleSelect({\n          compare: compare\n        }),\n        className: (0, _classnames10[\"default\"])('kd-cq-dropdown-menu-item', _index[\"default\"]['select-item'], _defineProperty({}, \"\".concat(_index[\"default\"].selected, \" kd-cq-dropdown-menu-item-active\"), selectedCompare === compare)),\n        \"data-selected\": selectedCompare === compare\n      }, label);\n    } else {\n      var DateComponent = (0, _utils.getDateComponet)(dateType);\n      var dateOptioins = (0, _utils.getDateOptions)(compare, showTime);\n      return /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, null, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        onClick: handleSelect({\n          compare: compare\n        }),\n        className: (0, _classnames10[\"default\"])('kd-cq-dropdown-menu-item', _index[\"default\"]['select-item'], _defineProperty({}, \"\".concat(_index[\"default\"].selected, \" kd-cq-dropdown-menu-item-active\"), selectedCompare === compare)),\n        \"data-selected\": selectedCompare === compare\n      }, label, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: (0, _classnames10[\"default\"])(_index[\"default\"].icon, _defineProperty({}, _index[\"default\"].expand, compare === selectedCompare && iconExpand))\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n        className: (0, _classnames10[\"default\"])(_defineProperty(_defineProperty({}, _index[\"default\"]['collapse-icon'], true), 'kdfont kdfont-xiala', true))\n      }))), compare === selectedCompare && iconExpand && /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: (0, _classnames10[\"default\"])('kd-cq-dropdown-menu-item kd-cq-dropdown-menu-item-input', 'hover-theme-fc', _index[\"default\"]['date-com-wrap'])\n      }, /*#__PURE__*/_react[\"default\"].createElement(DateComponent, _extends({\n        className: (0, _classnames10[\"default\"])(_index[\"default\"]['date-com'], 'hover-theme-bdcolor hover-theme-fc'),\n        value: (0, _utils3.getInnerValueFromType)(seletedValue, dateType),\n        option: dateOptioins,\n        type: dateType,\n        showClear: !mustInput,\n        mustInput: mustInput,\n        minDate: \"\",\n        maxDate: \"\",\n        onChange: function onChange(datarange) {\n          return handleCustomDateChange(datarange, compare);\n        },\n        showCalendarCallBack: handleshowCalendarCallBack,\n        today: today,\n        linkage: false,\n        localeCode: current,\n        isAttachToBody: false,\n        showTime: dateType === 'datetimerange' || dateType === 'datetime',\n        showNow: true,\n        startOption: {\n          disabledSuperNext: false,\n          disabledNext: false\n        },\n        endOption: {\n          disabledSuperPrev: false,\n          disabledPrev: false\n        }\n      }, getDateFieldStyleProps(dateType)))));\n    }\n  };\n  var getCustomDate = function getCustomDate() {\n    return /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, null, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      onClick: handleSelect({\n        compare: _const.CUSTOM_TYPE\n      }),\n      className: (0, _classnames10[\"default\"])('kd-cq-dropdown-menu-item', 'hover-theme-fc', _index[\"default\"]['select-item'], _defineProperty({}, \"\".concat(_index[\"default\"].selected, \" kd-cq-dropdown-menu-item-active\"), selectedCompare === _const.CUSTOM_TYPE))\n    }, (0, _intlApi.getLangMsg)({\n      key: 'QueryPanel.key0021'\n    }), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: (0, _classnames10[\"default\"])(_index[\"default\"].icon, _defineProperty({}, _index[\"default\"].expand, selectedCompare === _const.CUSTOM_TYPE && iconExpand))\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n      className: (0, _classnames10[\"default\"])(_defineProperty(_defineProperty({}, _index[\"default\"]['collapse-icon'], true), 'kdfont kdfont-xiala', true))\n    }))), selectedCompare === _const.CUSTOM_TYPE && iconExpand && /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: (0, _classnames10[\"default\"])('kd-cq-dropdown-menu-item kd-cq-dropdown-menu-item-input', _index[\"default\"]['date-com-wrap'])\n    }, /*#__PURE__*/_react[\"default\"].createElement(_DateRangeField[\"default\"], _extends({\n      className: (0, _classnames10[\"default\"])(_index[\"default\"]['date-com'], 'hover-theme-bdcolor hover-theme-fc'),\n      value: seletedValue === null || seletedValue === void 0 ? void 0 : seletedValue.join(','),\n      type: \"daterange\",\n      minDate: \"\",\n      maxDate: \"\",\n      onChange: function onChange(datarange) {\n        return handleCustomDateChange(datarange, _const.CUSTOM_TYPE);\n      },\n      showCalendarCallBack: handleshowCalendarCallBack,\n      today: today,\n      showClear: !mustInput,\n      mustInput: mustInput,\n      linkage: false,\n      localeCode: current,\n      isAttachToBody: false,\n      showTime: showTime,\n      showNow: true,\n      startOption: {\n        disabledSuperNext: false,\n        disabledNext: false\n      },\n      endOption: {\n        disabledSuperPrev: false,\n        disabledPrev: false\n      }\n    }, getDateFieldStyleProps('daterange')))));\n  };\n  var containEl = (0, _singleSpa.isSingleSpa)() ? (0, _singleSpa.getRootContainter)() : document.body;\n  var rect = (_triggerRef$current = triggerRef.current) === null || _triggerRef$current === void 0 ? void 0 : _triggerRef$current.getBoundingClientRect();\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    ref: triggerRef,\n    className: (0, _classnames10[\"default\"])(className, _index[\"default\"]['date-select-wrap'], 'hover-theme-bdcolor')\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _index[\"default\"]['date-select'],\n    onClick: handleToggle\n  }, disPlayValue, !mustInput && !(value.length === 1 && value[0] === '') ? /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n    className: (0, _classnames10[\"default\"])('kdfont kdfont-guanbi8 kd-hover-color', _index[\"default\"].close, 'hover-theme-fc'),\n    onClick: handleClear\n  }) : null, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames10[\"default\"])(_index[\"default\"].icon, _defineProperty({}, _index[\"default\"].expand, showPanel))\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n    className: (0, _classnames10[\"default\"])(_defineProperty(_defineProperty({}, _index[\"default\"]['collapse-icon'], true), 'kdfont kdfont-xiala', true))\n  }))), showPanel && /*#__PURE__*/_reactDom[\"default\"].createPortal( /*#__PURE__*/_react[\"default\"].createElement(_PanelWrapper[\"default\"], {\n    isFilterPanel: true,\n    onClose: handlePanelWrapperClose,\n    trigger: triggerRef.current\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    ref: optionsRef,\n    className: (0, _classnames10[\"default\"])('kd-cq-dropdown kd-cq-dropdown-select-type', _index[\"default\"]['panel-container']),\n    style: {\n      minWidth: rect === null || rect === void 0 ? void 0 : rect.width\n    }\n  }, options.map(function (_ref4) {\n    var label = _ref4.label,\n      compare = _ref4.compare;\n    return getDateComByCompare({\n      compare: compare,\n      label: label\n    });\n  }), !(0, _utils3.hasCustomDimension)(options) && getCustomDate())), containEl));\n};\nvar OnlyDate = exports.OnlyDate = function OnlyDate(_ref5) {\n  var value = _ref5.value,\n    today = _ref5.today,\n    options = _ref5.options,\n    showTime = _ref5.showTime,\n    mustInput = _ref5.mustInput,\n    className = _ref5.className,\n    onChange = _ref5.onChange;\n  var calendarStatus = (0, _react.useRef)(false);\n  var _useReducer3 = (0, _react.useReducer)(function (x) {\n      return x + 1;\n    }, 0),\n    _useReducer4 = _slicedToArray(_useReducer3, 2),\n    forceUpdate = _useReducer4[1];\n  var singleDateStyle = {\n    style: {\n      overflow: 'hidden',\n      flex: '1',\n      height: '28px',\n      padding: '0px',\n      paddingRight: '24px'\n    },\n    inputProps: {\n      style: {\n        paddingLeft: '8px',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis'\n      }\n    },\n    iconStyle: {\n      right: '8px'\n    },\n    clearIconStyle: {\n      right: '8px'\n    }\n  };\n  var _useState9 = (0, _react.useState)(value),\n    _useState10 = _slicedToArray(_useState9, 2),\n    seletedValue = _useState10[0],\n    setSeletedValue = _useState10[1];\n  var _useContext2 = (0, _react.useContext)(_utils2.FilterContext),\n    current = _useContext2.lang.current;\n  // 后端发值过来的时候要刷新，比如重置的时候\n  (0, _react.useEffect)(function () {\n    setSeletedValue(value);\n  }, [value]);\n  var handleshowCalendarCallBack = function handleshowCalendarCallBack(showCalendar, newvalue) {\n    if (calendarStatus.current && !showCalendar) {\n      if (!newvalue) {\n        return;\n      }\n      if (newvalue !== value.join(',')) {\n        onChange(newvalue.split(','));\n      }\n    }\n    calendarStatus.current = showCalendar;\n  };\n  var handleSingleCustomDateChange = function handleSingleCustomDateChange(dateRange, compare) {\n    if (!dateRange && mustInput) {\n      forceUpdate();\n      return;\n    }\n    if (!dateRange) {\n      setSeletedValue(['']);\n      // 触发查询\n      onChange(['']);\n      return;\n    }\n    // onchange 更改状态，panelclosecallback 触发查询\n    var formatValue = formatValueAfterSelect(dateRange, compare, showTime);\n    setSeletedValue(formatValue);\n  };\n  var getCustomCompareDate = function getCustomCompareDate(compare) {\n    return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: (0, _classnames10[\"default\"])(className, _index[\"default\"]['date-select-date-wrap'], 'hover-theme-bdcolor')\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _index[\"default\"]['single-date-select']\n    }, /*#__PURE__*/_react[\"default\"].createElement(_DateRangeField[\"default\"], _extends({\n      className: (0, _classnames10[\"default\"])(_index[\"default\"]['single-date-com'], 'hover-theme-bdcolor hover-theme-fc'),\n      value: seletedValue === null || seletedValue === void 0 ? void 0 : seletedValue.join(','),\n      type: \"daterange\",\n      minDate: \"\",\n      maxDate: \"\",\n      showClear: !mustInput,\n      mustInput: mustInput,\n      onChange: function onChange(datarange) {\n        return handleSingleCustomDateChange(datarange, compare);\n      },\n      showCalendarCallBack: handleshowCalendarCallBack,\n      today: today,\n      linkage: false,\n      localeCode: current,\n      isAttachToBody: false,\n      showTime: showTime,\n      showNow: true,\n      startOption: {\n        disabledSuperNext: false,\n        disabledNext: false\n      },\n      endOption: {\n        disabledSuperPrev: false,\n        disabledPrev: false\n      }\n    }, singleDateStyle))));\n  };\n  var getDateComByCompare = function getDateComByCompare(compare) {\n    var _ListFilterDateInfo$c2;\n    var dateType = (_ListFilterDateInfo$c2 = _const.ListFilterDateInfo[compare]) === null || _ListFilterDateInfo$c2 === void 0 ? void 0 : _ListFilterDateInfo$c2.type;\n    var DateComponent = (0, _utils.getDateComponet)(dateType);\n    var dateOptioins = (0, _utils.getDateOptions)(compare, showTime);\n    return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: (0, _classnames10[\"default\"])(className, _index[\"default\"]['date-select-date-wrap'], 'hover-theme-bdcolor')\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _index[\"default\"]['single-date-select']\n    }, /*#__PURE__*/_react[\"default\"].createElement(DateComponent, _extends({\n      className: (0, _classnames10[\"default\"])(_index[\"default\"]['single-date-com'], 'hover-theme-bdcolor hover-theme-fc'),\n      value: (0, _utils3.getInnerValueFromType)(seletedValue, dateType),\n      option: dateOptioins,\n      type: dateType,\n      minDate: \"\",\n      maxDate: \"\",\n      showClear: !mustInput,\n      mustInput: mustInput,\n      onChange: function onChange(datarange) {\n        return handleSingleCustomDateChange(datarange, compare);\n      },\n      showCalendarCallBack: handleshowCalendarCallBack,\n      today: today,\n      linkage: false,\n      localeCode: current,\n      isAttachToBody: false,\n      showTime: dateType === 'datetimerange' || dateType === 'datetime',\n      showNow: true,\n      startOption: {\n        disabledSuperNext: false,\n        disabledNext: false\n      },\n      endOption: {\n        disabledSuperPrev: false,\n        disabledPrev: false\n      }\n    }, singleDateStyle, {\n      inputStyle: (0, _utils.isDateType)(dateType) ? {\n        padding: '0 8px'\n      } : {}\n    }))));\n  };\n  var getOnlyDateCom = function getOnlyDateCom(options) {\n    if (options.length === 0) {\n      return getCustomCompareDate(_const.CUSTOM_TYPE);\n    } else {\n      var _options$;\n      return getDateComByCompare((_options$ = options[0]) === null || _options$ === void 0 ? void 0 : _options$.compare);\n    }\n  };\n  return getOnlyDateCom(options);\n};\nvar CommonDateRender = exports.CommonDateRender = function CommonDateRender(props) {\n  var _ListFilterDateInfo$o;\n  var options = props.options;\n  var isNoItem = options.length === 0;\n  var isOneCustomDate = options.length === 1 && ((_ListFilterDateInfo$o = _const.ListFilterDateInfo[options[0].compare]) === null || _ListFilterDateInfo$o === void 0 ? void 0 : _ListFilterDateInfo$o.type);\n  if (isNoItem || isOneCustomDate) {\n    return /*#__PURE__*/_react[\"default\"].createElement(OnlyDate, props);\n  } else {\n    return /*#__PURE__*/_react[\"default\"].createElement(DateSelect, props);\n  }\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/commonSearch/compactCommon/dateSelect/index.js?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/commonSearch/compactCommon/index.js":
/*!*******************************************************************************!*\
  !*** ./src/component/web/base/ListFilter/commonSearch/compactCommon/index.js ***!
  \*******************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.CompactCommonSearch = void 0;\n__webpack_require__(/*! core-js/modules/es.array.find.js */ \"../../node_modules/core-js/modules/es.array.find.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _classnames = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _langUtil = __webpack_require__(/*! @/util/langUtil */ \"./src/util/langUtil.js\");\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nvar _index = _interopRequireDefault(__webpack_require__(/*! ./index.less */ \"./src/component/web/base/ListFilter/commonSearch/compactCommon/index.less\"));\nvar _utils = __webpack_require__(/*! ./utils */ \"./src/component/web/base/ListFilter/commonSearch/compactCommon/utils.js\");\nvar _selectItem = __webpack_require__(/*! ./selectItem */ \"./src/component/web/base/ListFilter/commonSearch/compactCommon/selectItem.js\");\nvar _constants = __webpack_require__(/*! ../../constants */ \"./src/component/web/base/ListFilter/constants.js\");\nvar _treeSelect = __webpack_require__(/*! ../../Components/treeSelect */ \"./src/component/web/base/ListFilter/Components/treeSelect/index.js\");\nvar _utils2 = __webpack_require__(/*! ../../schemeSearch/schemeEditor/utils */ \"./src/component/web/base/ListFilter/schemeSearch/schemeEditor/utils.js\");\nvar _utils3 = __webpack_require__(/*! ../utils */ \"./src/component/web/base/ListFilter/commonSearch/utils.js\");\nvar _customTooltip = __webpack_require__(/*! ../../Components/customTooltip */ \"./src/component/web/base/ListFilter/Components/customTooltip/index.js\");\nvar _kdesign = __webpack_require__(/*! @kdcloudjs/kdesign */ \"webpack/sharing/consume/default/@kdcloudjs/kdesign/@kdcloudjs/kdesign\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nvar CompactCommonSearch = exports.CompactCommonSearch = function CompactCommonSearch(_ref) {\n  var lang = _ref.lang,\n    onF7LookUp = _ref.onF7LookUp,\n    grids = _ref.grids,\n    entryenties = _ref.entryenties,\n    showMultiGrids = _ref.showMultiGrids,\n    commonOptions = _ref.commonOptions,\n    commonSelected = _ref.commonSelected,\n    onCommonF7Click = _ref.onCommonF7Click,\n    onSelectGridsChange = _ref.onSelectGridsChange,\n    onCommonSelectedChange = _ref.onCommonSelectedChange,\n    triggerSearch = _ref.triggerSearch,\n    isInnerUser = _ref.isInnerUser,\n    autoTriggerSearch = _ref.autoTriggerSearch,\n    updateNoCompareUsers = _ref.updateNoCompareUsers,\n    noCompareUsers = _ref.noCompareUsers,\n    resetSearchCondition = _ref.resetSearchCondition;\n  var containerRef = (0, _react.useRef)(null);\n  // todo： showMultiGrids + commonOptions 长度不超过一行的，colCount要根据实际个数自适应\n  var _useAdapt = (0, _utils.useAdapt)(containerRef, lang),\n    _useAdapt2 = _slicedToArray(_useAdapt, 2),\n    itemWidth = _useAdapt2[0],\n    colCount = _useAdapt2[1];\n  var _useState = (0, _react.useState)('horizontal'),\n    _useState2 = _slicedToArray(_useState, 2),\n    compactLayout = _useState2[0],\n    setCompactLayout = _useState2[1];\n  (0, _react.useEffect)(function () {\n    if ((lang === null || lang === void 0 ? void 0 : lang.current) !== 'zh_CN' && (lang === null || lang === void 0 ? void 0 : lang.current) !== 'zh_TW') {\n      setCompactLayout('vertical');\n    }\n  }, [lang]);\n  var handleConditionChange = function handleConditionChange(fieldName) {\n    return function (value) {\n      var newCommonSelected = (0, _utils3.getNewCommonSelected)(commonSelected, fieldName, value);\n      onCommonSelectedChange(newCommonSelected);\n    };\n  };\n  var handleGridsChange = function handleGridsChange(grids) {\n    onSelectGridsChange(grids);\n  };\n  var treeOptions = (0, _react.useMemo)(function () {\n    return (0, _utils2.getTreeOpitions)(entryenties, lang);\n  }, [entryenties, lang]);\n  var tipsText = /*#__PURE__*/_react[\"default\"].createElement(\"p\", {\n    className: _index[\"default\"]['grids-range-tips']\n  }, (0, _intlApi.getLangMsg)('listFilter.key0037'));\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: compactLayout === 'horizontal' ? _index[\"default\"]['compact-container'] : _index[\"default\"]['vertical-compact-container'],\n    ref: containerRef\n  }, showMultiGrids ? /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames[\"default\"])('kd-cq-querypanel-compact-item', _index[\"default\"]['compact-item']),\n    style: {\n      width: itemWidth,\n      marginRight: _utils.MARGIN_RIGHT\n    }\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: _index[\"default\"].label,\n    title: (0, _intlApi.getLangMsg)({\n      key: 'listFilter.key0029'\n    })\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: (0, _classnames[\"default\"])('kd-cq-querypanel-compact-item-text', _index[\"default\"]['label-text'])\n  }, (0, _intlApi.getLangMsg)({\n    key: 'listFilter.key0029'\n  })), /*#__PURE__*/_react[\"default\"].createElement(_customTooltip.CustomToolTip, {\n    tips: tipsText,\n    className: (0, _classnames[\"default\"])('kd-cq-popup kd-cq-querypanel-tips-popup')\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    \"data-tip\": true,\n    \"data-place\": \"right\",\n    className: (0, _classnames[\"default\"])('kdfont kd-hover-color kdfont-tishixinxi', _index[\"default\"]['tips-icon'])\n  }))), /*#__PURE__*/_react[\"default\"].createElement(_treeSelect.TreeSelect, {\n    className: _index[\"default\"].select,\n    options: treeOptions,\n    value: grids.toJS(),\n    onChange: handleGridsChange\n  })) : null, commonOptions.map(function (commonField, index) {\n    var _commonSelected$find;\n    var itemStyle = {\n      width: itemWidth,\n      marginRight: (index + 1 + (showMultiGrids ? 1 : 0)) % colCount === 0 ? 0 : _utils.MARGIN_RIGHT\n    };\n    var current = lang.current;\n    var label = (0, _langUtil.getValueByPath)(commonField, ['fieldCaption'], {\n      current: current\n    });\n    var fieldName = commonField.get('fieldName');\n    var isMulti = commonField.get('isMulti');\n    var value = (_commonSelected$find = commonSelected.find(function (conditon) {\n      return conditon.get('k') === fieldName;\n    })) === null || _commonSelected$find === void 0 ? void 0 : _commonSelected$find.get('v').toJS();\n    var today = commonField.get(_constants.TODAY);\n    var mustInput = commonField.get('mustInput');\n    var entityId = commonField.get('entityId');\n    var textClass = compactLayout === 'vertical' ? 'kd-cq-querypanel-compact-item-vertical-text' : 'kd-cq-querypanel-compact-item-text';\n    return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      key: fieldName,\n      className: (0, _classnames[\"default\"])('kd-cq-querypanel-compact-item', _index[\"default\"]['compact-item']),\n      style: itemStyle\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n      className: (0, _classnames[\"default\"])(textClass, _index[\"default\"].label),\n      title: label\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n      className: _index[\"default\"]['label-text']\n    }, label)), /*#__PURE__*/_react[\"default\"].createElement(_selectItem.SelectCom, {\n      fieldName: fieldName,\n      entityId: entityId,\n      lang: lang,\n      isMulti: isMulti,\n      mustInput: mustInput,\n      className: (0, _classnames[\"default\"])(_index[\"default\"].select),\n      type: commonField.get('type'),\n      value: value,\n      items: commonField.get('items'),\n      today: today,\n      onConditionChange: handleConditionChange(fieldName),\n      onF7LookUp: onF7LookUp,\n      isInnerUser: isInnerUser,\n      onCommonF7Click: onCommonF7Click,\n      updateNoCompareUsers: updateNoCompareUsers,\n      noCompareUsers: noCompareUsers\n    }));\n  }), !autoTriggerSearch ? /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _index[\"default\"].operation_part\n  }, /*#__PURE__*/_react[\"default\"].createElement(_kdesign.Button, {\n    className: (0, _classnames[\"default\"])(_index[\"default\"].cancel_operation, 'kd-cq-querypanel-item theme btn-ghost hover-theme-border-color1 hover-theme-hover-fc'),\n    onClick: resetSearchCondition\n  }, (0, _intlApi.getLangMsg)({\n    key: 'listFilter.key0016'\n  })), /*#__PURE__*/_react[\"default\"].createElement(_kdesign.Button, {\n    className: (0, _classnames[\"default\"])(_index[\"default\"].search_operation, 'kd-cq-querypanel-item theme-bg', 'hover-theme-bg1 active-theme-bg1'),\n    onClick: triggerSearch\n  }, (0, _intlApi.getLangMsg)({\n    key: 'listFilter.key0046'\n  }))) : null);\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/commonSearch/compactCommon/index.js?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/commonSearch/compactCommon/selectItem.js":
/*!************************************************************************************!*\
  !*** ./src/component/web/base/ListFilter/commonSearch/compactCommon/selectItem.js ***!
  \************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.SelectCom = void 0;\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _basedataSelect = __webpack_require__(/*! ./basedataSelect */ \"./src/component/web/base/ListFilter/commonSearch/compactCommon/basedataSelect/index.js\");\nvar _dateSelect = __webpack_require__(/*! ./dateSelect */ \"./src/component/web/base/ListFilter/commonSearch/compactCommon/dateSelect/index.js\");\nvar _utils = __webpack_require__(/*! ./utils */ \"./src/component/web/base/ListFilter/commonSearch/compactCommon/utils.js\");\nvar _commonSelect = __webpack_require__(/*! ./commonSelect */ \"./src/component/web/base/ListFilter/commonSearch/compactCommon/commonSelect.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nvar CUR_USER = '103';\nvar NOT_CUR_USER = '104';\nvar SelectCom = exports.SelectCom = function SelectCom(_ref) {\n  var lang = _ref.lang,\n    type = _ref.type,\n    value = _ref.value,\n    items = _ref.items,\n    today = _ref.today,\n    isMulti = _ref.isMulti,\n    mustInput = _ref.mustInput,\n    className = _ref.className,\n    fieldName = _ref.fieldName,\n    entityId = _ref.entityId,\n    onConditionChange = _ref.onConditionChange,\n    onF7LookUp = _ref.onF7LookUp,\n    onCommonF7Click = _ref.onCommonF7Click,\n    isInnerUser = _ref.isInnerUser,\n    updateNoCompareUsers = _ref.updateNoCompareUsers,\n    noCompareUsers = _ref.noCompareUsers;\n  var handleEnumChange = function handleEnumChange(value) {\n    updateNoCompareUsers(fieldName, false);\n    onConditionChange(value);\n  };\n  var handleBDChange = function handleBDChange(value, isMatchLookUplist) {\n    // 从用户资料选择的值，传参时候不需要携带compare, 模糊搜索命中之后，需要删掉枚举值\n    if (type === 'user' && noCompareUsers.current[fieldName] === false && isMatchLookUplist) {\n      updateNoCompareUsers(fieldName, true);\n      // 在枚举的基础上进行模糊搜索，当前用户和非当前用户不能同时存在\n      if ((value === null || value === void 0 ? void 0 : value.length) > 1 && (value.includes(CUR_USER) || value.includes(NOT_CUR_USER))) {\n        value.shift();\n        onConditionChange(value);\n      } else {\n        onConditionChange(value);\n      }\n    } else {\n      onConditionChange(value);\n    }\n  };\n  var handleDateChange = function handleDateChange(value) {\n    onConditionChange(value);\n  };\n  var options = (0, _utils.getOptions)(items, lang);\n  switch (type) {\n    case 'mulbasedata':\n    case 'org':\n    case 'basedata':\n      return /*#__PURE__*/_react[\"default\"].createElement(_basedataSelect.BaseDataSelect, {\n        isMulti: isMulti,\n        mustInput: mustInput,\n        className: className,\n        value: value,\n        options: options,\n        fieldName: fieldName,\n        entityId: entityId,\n        onChange: function onChange(value) {\n          return handleBDChange(value);\n        },\n        onF7LookUp: onF7LookUp,\n        onCommonF7Click: onCommonF7Click\n      });\n    case 'user':\n      return /*#__PURE__*/_react[\"default\"].createElement(_basedataSelect.BaseDataSelect, {\n        isMulti: isMulti,\n        mustInput: mustInput,\n        className: className,\n        value: value,\n        options: options,\n        fieldName: fieldName,\n        entityId: entityId,\n        onChange: function onChange(value, isMatchLookUplist) {\n          return handleBDChange(value, isMatchLookUplist);\n        },\n        onF7LookUp: onF7LookUp,\n        onCommonF7Click: onCommonF7Click,\n        handleEnumChange: handleEnumChange,\n        disableF7: !isInnerUser,\n        isUser: true\n      });\n    case 'date':\n    case 'datetime':\n      return /*#__PURE__*/_react[\"default\"].createElement(_dateSelect.CommonDateRender, {\n        className: className,\n        today: today,\n        value: value,\n        options: options.filter(function (_ref2) {\n          var value = _ref2.value,\n            compare = _ref2.compare;\n          return compare !== '';\n        }),\n        onChange: handleDateChange,\n        mustInput: mustInput,\n        showTime: type === 'datetime'\n      });\n    default:\n      {\n        return /*#__PURE__*/_react[\"default\"].createElement(_commonSelect.CommonSelect, {\n          isMulti: isMulti,\n          mustInput: mustInput,\n          className: className,\n          value: value,\n          options: options,\n          onChange: handleEnumChange\n        });\n      }\n  }\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/commonSearch/compactCommon/selectItem.js?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/commonSearch/compactCommon/utils.js":
/*!*******************************************************************************!*\
  !*** ./src/component/web/base/ListFilter/commonSearch/compactCommon/utils.js ***!
  \*******************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.useAdapt = exports.getOptions = exports.MARGIN_RIGHT = void 0;\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _react = __webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\");\nvar _resizeObserverPolyfill = _interopRequireDefault(__webpack_require__(/*! resize-observer-polyfill */ \"../../node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js\"));\nvar _langUtil = __webpack_require__(/*! @/util/langUtil */ \"./src/util/langUtil.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nvar MARGIN_RIGHT = exports.MARGIN_RIGHT = 20;\nvar DEFAULT_COLUMNS_NUM = 1;\n// 计算自适应列数和每项宽度\nvar useAdapt = exports.useAdapt = function useAdapt(containerRef, lang) {\n  var ITEM_DEFAULT_WIDTH = (lang === null || lang === void 0 ? void 0 : lang.current) !== 'zh_CN' && (lang === null || lang === void 0 ? void 0 : lang.current) !== 'zh_TW' ? 200 : 320;\n  var _useState = (0, _react.useState)(ITEM_DEFAULT_WIDTH),\n    _useState2 = _slicedToArray(_useState, 2),\n    itemWidth = _useState2[0],\n    setItemWidth = _useState2[1]; // 字段宽度\n  var _useState3 = (0, _react.useState)(1),\n    _useState4 = _slicedToArray(_useState3, 2),\n    colCount = _useState4[0],\n    setColCount = _useState4[1]; // 列数\n\n  var containerResizeCb = function containerResizeCb(entries) {\n    var containterWidth = entries[0].contentRect.width;\n    var colCount = Math.floor((containterWidth + MARGIN_RIGHT) / (ITEM_DEFAULT_WIDTH + MARGIN_RIGHT)) || DEFAULT_COLUMNS_NUM;\n    var itemWidth = Math.floor((containterWidth + MARGIN_RIGHT) / colCount) - MARGIN_RIGHT;\n    setColCount(colCount);\n    setItemWidth(itemWidth);\n  };\n  (0, _react.useEffect)(function () {\n    var resizeObserve = new _resizeObserverPolyfill[\"default\"](containerResizeCb);\n    resizeObserve.observe(containerRef.current);\n    return function () {\n      resizeObserve.disconnect();\n    };\n  }, []);\n  return [itemWidth, colCount];\n};\n\n// 获取下拉选项\nvar getOptions = exports.getOptions = function getOptions(items, lang) {\n  var options = [];\n  items.forEach(function (item) {\n    var label = (0, _langUtil.getValueByPath)(item, ['caption'], lang);\n    var value = item.get('value');\n    var compare = item.get('compare');\n    options.push({\n      label: label,\n      value: value,\n      compare: compare\n    });\n  });\n  return options;\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/commonSearch/compactCommon/utils.js?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/commonSearch/index.js":
/*!*****************************************************************!*\
  !*** ./src/component/web/base/ListFilter/commonSearch/index.js ***!
  \*****************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.CommonSearch = void 0;\n__webpack_require__(/*! core-js/modules/web.timers.js */ \"../../node_modules/core-js/modules/web.timers.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _classnames2 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _compactCommon = __webpack_require__(/*! ./compactCommon */ \"./src/component/web/base/ListFilter/commonSearch/compactCommon/index.js\");\nvar _tiledCommon = __webpack_require__(/*! ./tiledCommon */ \"./src/component/web/base/ListFilter/commonSearch/tiledCommon/index.js\");\nvar _settingConfirm = __webpack_require__(/*! ./settingConfirm */ \"./src/component/web/base/ListFilter/commonSearch/settingConfirm/index.js\");\nvar _utils = __webpack_require__(/*! @/component/web/KDListFilter/utils */ \"./src/component/web/KDListFilter/utils.js\");\nvar _constants = __webpack_require__(/*! @/component/web/KDListFilter/constants */ \"./src/component/web/KDListFilter/constants.js\");\nvar _index = _interopRequireDefault(__webpack_require__(/*! ./index.less */ \"./src/component/web/base/ListFilter/commonSearch/index.less\"));\nvar _excluded = [\"lang\", \"switchFilterMode\", \"commonLayoutType\", \"saveCommonConfig\", \"commonFilterConfig\", \"getCommonFilterConfig\", \"isLookUp\"];\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n/**\n * TODO\n * 基础资料更多\n */\nvar SAFE_TOP_OFFSET = 8;\nvar DEFAULT_PANEL_WIDTH = 300;\nvar CommonSearch = exports.CommonSearch = function CommonSearch(_ref) {\n  var lang = _ref.lang,\n    switchFilterMode = _ref.switchFilterMode,\n    commonLayoutType = _ref.commonLayoutType,\n    saveCommonConfig = _ref.saveCommonConfig,\n    commonFilterConfig = _ref.commonFilterConfig,\n    getCommonFilterConfig = _ref.getCommonFilterConfig,\n    isLookUp = _ref.isLookUp,\n    other = _objectWithoutProperties(_ref, _excluded);\n  var _useContext = (0, _react.useContext)(_utils.FilterContext),\n    eventTracking = _useContext.eventTracking;\n  var _useState = (0, _react.useState)(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    showConfirm = _useState2[0],\n    setShowConfirm = _useState2[1];\n  var _useState3 = (0, _react.useState)({\n      top: 0,\n      right: 0\n    }),\n    _useState4 = _slicedToArray(_useState3, 2),\n    confirmStyle = _useState4[0],\n    setConfirmStyle = _useState4[1];\n  var settingRef = (0, _react.useRef)(null);\n  var panelRef = (0, _react.useRef)(null);\n  (0, _react.useEffect)(function () {\n    if (showConfirm) {\n      // 配置变化的时候也要重新计算\n      setTimeout(function () {\n        var _panelRef$current;\n        var settingRect = settingRef.current.getBoundingClientRect();\n        var top = settingRect.bottom + SAFE_TOP_OFFSET;\n        var left = settingRect.right - (((_panelRef$current = panelRef.current) === null || _panelRef$current === void 0 ? void 0 : _panelRef$current.offsetWidth) || DEFAULT_PANEL_WIDTH);\n        setConfirmStyle({\n          top: top,\n          left: left\n        });\n      }, 0);\n    }\n  }, [showConfirm, commonFilterConfig]);\n  var settingClassName = (0, _classnames2[\"default\"])(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty({}, _index[\"default\"].settting, true), 'kdfont kdfont-shezhi11', true), 'kd-hover-color', true), 'hover-theme-hover-fc', true), 'active-theme-active-fc', true));\n  var handleClick = function handleClick() {\n    if (!showConfirm) {\n      getCommonFilterConfig();\n    }\n    setShowConfirm(!showConfirm);\n    eventTracking(_constants.EVENT_TRACK_PROP.setting, 'true');\n  };\n  var handleClose = function handleClose() {\n    setShowConfirm(false);\n  };\n  // commonLayoutType\n  return /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, null, commonLayoutType === 1 ? /*#__PURE__*/_react[\"default\"].createElement(_tiledCommon.TiledCommonSearch, _extends({\n    lang: lang\n  }, other)) : /*#__PURE__*/_react[\"default\"].createElement(_compactCommon.CompactCommonSearch, _extends({\n    lang: lang\n  }, other)), /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    onClick: handleClick,\n    ref: settingRef,\n    className: settingClassName\n  }), !isLookUp && showConfirm && /*#__PURE__*/_react[\"default\"].createElement(_settingConfirm.SettingConfirm, {\n    lang: lang,\n    switchFilterMode: switchFilterMode,\n    saveCommonConfig: saveCommonConfig,\n    commonFilterConfig: commonFilterConfig,\n    style: confirmStyle,\n    onClose: handleClose,\n    ref: panelRef\n  }));\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/commonSearch/index.js?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/commonSearch/settingConfirm/condition.js":
/*!************************************************************************************!*\
  !*** ./src/component/web/base/ListFilter/commonSearch/settingConfirm/condition.js ***!
  \************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.ConditionItem = void 0;\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _classnames2 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _kdesign = __webpack_require__(/*! @kdcloudjs/kdesign */ \"webpack/sharing/consume/default/@kdcloudjs/kdesign/@kdcloudjs/kdesign\");\nvar _index = _interopRequireDefault(__webpack_require__(/*! ./index.less */ \"./src/component/web/base/ListFilter/commonSearch/settingConfirm/index.less\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nvar ConditionItem = exports.ConditionItem = function ConditionItem(_ref) {\n  var id = _ref.id,\n    name = _ref.name,\n    filter = _ref.filter,\n    visible = _ref.visible,\n    onChange = _ref.onChange,\n    disabled = _ref.disabled,\n    onDragEnd = _ref.onDragEnd,\n    className = _ref.className,\n    dragStartId = _ref.dragStartId,\n    onDragStart = _ref.onDragStart,\n    onListAdjust = _ref.onListAdjust,\n    showBorderTop = _ref.showBorderTop;\n  var _useState = (0, _react.useState)(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    isDrag = _useState2[0],\n    setIsDrag = _useState2[1];\n  var handleDragStart = function handleDragStart(e) {\n    e.stopPropagation();\n    setIsDrag(true);\n    onDragStart(id);\n  };\n  var handleDragEnd = function handleDragEnd() {\n    setIsDrag(false);\n    onDragEnd();\n  };\n  var handleDragOver = function handleDragOver() {\n    if (id !== dragStartId) {\n      onListAdjust(id);\n    }\n  };\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    draggable: !filter,\n    className: (0, _classnames2[\"default\"])(className, _index[\"default\"]['condition-item'], _defineProperty(_defineProperty({}, _index[\"default\"].drag, isDrag), _index[\"default\"]['border-top'], showBorderTop)),\n    onDragStart: handleDragStart,\n    onDragEnd: handleDragEnd,\n    onDragOver: handleDragOver\n  }, !filter && /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n    className: \"kdfont kdfont-tuozhuai kd-hover-color\"\n  }), /*#__PURE__*/_react[\"default\"].createElement(_kdesign.Checkbox, {\n    className: _index[\"default\"].checkbox,\n    checked: disabled || visible,\n    onChange: onChange,\n    disabled: disabled\n  }), /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: _index[\"default\"].name,\n    title: name\n  }, name));\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/commonSearch/settingConfirm/condition.js?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/commonSearch/settingConfirm/index.js":
/*!********************************************************************************!*\
  !*** ./src/component/web/base/ListFilter/commonSearch/settingConfirm/index.js ***!
  \********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-properties.js */ \"../../node_modules/core-js/modules/es.object.define-properties.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptors.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.SettingConfirm = void 0;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.find-index.js */ \"../../node_modules/core-js/modules/es.array.find-index.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.string.match.js */ \"../../node_modules/core-js/modules/es.string.match.js\");\n__webpack_require__(/*! core-js/modules/es.string.search.js */ \"../../node_modules/core-js/modules/es.string.search.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _reactDom = _interopRequireDefault(__webpack_require__(/*! react-dom */ \"webpack/sharing/consume/default/react-dom/react-dom?418d\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _classnames4 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _singleSpa = __webpack_require__(/*! @/api/singleSpa */ \"./src/api/singleSpa.js\");\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nvar _langUtil = __webpack_require__(/*! @/util/langUtil */ \"./src/util/langUtil.js\");\nvar _condition = __webpack_require__(/*! ./condition */ \"./src/component/web/base/ListFilter/commonSearch/settingConfirm/condition.js\");\nvar _utils = __webpack_require__(/*! @/component/web/KDListFilter/utils */ \"./src/component/web/KDListFilter/utils.js\");\nvar _constants = __webpack_require__(/*! @/component/web/KDListFilter/constants */ \"./src/component/web/KDListFilter/constants.js\");\nvar _index = _interopRequireDefault(__webpack_require__(/*! ./index.less */ \"./src/component/web/base/ListFilter/commonSearch/settingConfirm/index.less\"));\nvar _utils2 = __webpack_require__(/*! ./utils */ \"./src/component/web/base/ListFilter/commonSearch/settingConfirm/utils.js\");\nvar _customTooltip = __webpack_require__(/*! ../../Components/customTooltip */ \"./src/component/web/base/ListFilter/Components/customTooltip/index.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n// commonFilterConfig: undefined | { user: { }, factory: {} }\nvar mockRows = [{\n  v: 1,\n  h: 0,\n  n: 'test'\n}, {\n  v: 0,\n  h: 0,\n  n: 'test1'\n}, {\n  v: 1,\n  h: 1,\n  n: 'test2'\n}];\nvar SettingConfirm = exports.SettingConfirm = /*#__PURE__*/(0, _react.forwardRef)(function (_ref, panelRef) {\n  var current = _ref.lang.current,\n    style = _ref.style,\n    onClose = _ref.onClose,\n    switchFilterMode = _ref.switchFilterMode,\n    saveCommonConfig = _ref.saveCommonConfig,\n    commonFilterConfig = _ref.commonFilterConfig;\n  var _useContext = (0, _react.useContext)(_utils.FilterContext),\n    eventTracking = _useContext.eventTracking;\n  var hasDragRef = (0, _react.useRef)(false);\n  var containEl = (0, _singleSpa.isSingleSpa)() ? (0, _singleSpa.getRootContainter)() : document.body;\n  var _useState = (0, _react.useState)((0, _immutable.fromJS)({\n      type: 0,\n      rows: []\n    })),\n    _useState2 = _slicedToArray(_useState, 2),\n    config = _useState2[0],\n    setConfig = _useState2[1];\n  var _useState3 = (0, _react.useState)(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    isDrag = _useState4[0],\n    setIsDrag = _useState4[1];\n  var dragStartRef = (0, _react.useRef)(null);\n  var _useState5 = (0, _react.useState)({\n      height: 0,\n      minHeight: 0\n    }),\n    _useState6 = _slicedToArray(_useState5, 2),\n    pannelStyle = _useState6[0],\n    setPannelStyle = _useState6[1];\n  var _useState7 = (0, _react.useState)(''),\n    _useState8 = _slicedToArray(_useState7, 2),\n    filter = _useState8[0],\n    setFilter = _useState8[1];\n  (0, _react.useEffect)(function () {\n    setPannelStyle({});\n    window.addEventListener('mousedown', handleWindowMousedown, true);\n    window.addEventListener('resize', onClose);\n    return function () {\n      window.removeEventListener('mousedown', handleWindowMousedown, true);\n      window.removeEventListener('resize', onClose);\n    };\n  }, []);\n  (0, _react.useEffect)(function () {\n    if (commonFilterConfig) {\n      var userConfig = commonFilterConfig.get('user');\n      var factoryConfig = commonFilterConfig.get('factory');\n      if (userConfig.get('rows')) {\n        var configWithUser = (0, _utils2.getConfigWithUser)(userConfig, factoryConfig);\n        setConfig(configWithUser);\n      } else {\n        setConfig(factoryConfig);\n      }\n    }\n  }, [commonFilterConfig]);\n  var handleWindowMousedown = function handleWindowMousedown(e) {\n    var _panelRef$current;\n    var isClickPanel = (_panelRef$current = panelRef.current) === null || _panelRef$current === void 0 ? void 0 : _panelRef$current.contains(e.target);\n    if (!isClickPanel) {\n      onClose();\n    }\n  };\n  var handleChange = function handleChange(index) {\n    return function () {\n      var currentChecked = config.getIn(['rows', index, 'v']);\n      var newConfig = config.setIn(['rows', index, 'v'], currentChecked ? 0 : 1);\n      setConfig(newConfig);\n    };\n  };\n  var handleSelectType = function handleSelectType(type) {\n    return function () {\n      var newConfig = config.set('type', type);\n      setConfig(newConfig);\n    };\n  };\n  var handleReset = function handleReset() {\n    eventTracking(_constants.EVENT_TRACK_PROP.resetSetting, 'true');\n    if (!commonFilterConfig) return;\n    var factoryType = commonFilterConfig.getIn(['factory', 'type']);\n    var factoryRows = commonFilterConfig.getIn(['factory', 'rows']);\n    var newConfig = config.set('type', factoryType).set('rows', factoryRows);\n    setConfig(newConfig);\n  };\n  var handleSave = function handleSave() {\n    // 拖拽后在保存时埋点\n    if (hasDragRef.current) {\n      eventTracking(_constants.EVENT_TRACK_PROP.dragCondition, 'ture');\n    }\n    var commonUserConfig = config.toJS();\n    commonUserConfig.rows = commonUserConfig.rows.map(function (_ref2) {\n      var v = _ref2.v,\n        n = _ref2.n;\n      return {\n        v: v,\n        n: n\n      };\n    });\n    onClose();\n    saveCommonConfig(commonUserConfig);\n  };\n  var allowDrag = function allowDrag(e) {\n    e.preventDefault();\n  };\n  var handleDragStart = function handleDragStart(startId) {\n    hasDragRef.current = true;\n    setIsDrag(true);\n    dragStartRef.current = startId;\n  };\n  var handleDragEnd = function handleDragEnd() {\n    setIsDrag(false);\n  };\n  var handleListAdjust = function handleListAdjust(endId) {\n    var adjustedconditionList = [];\n    var conditionList = config.get('rows').toJS();\n    var dragStartId = dragStartRef.current;\n    var startIndex = conditionList.findIndex(function (condition) {\n      return condition.n === dragStartId;\n    });\n    var endIndex = conditionList.findIndex(function (condition) {\n      return condition.n === endId;\n    });\n    if (startIndex > endIndex) {\n      adjustedconditionList = [].concat(_toConsumableArray(conditionList.slice(0, endIndex)), [conditionList[startIndex]], _toConsumableArray(conditionList.slice(endIndex, startIndex)), _toConsumableArray(conditionList.slice(startIndex + 1)));\n    } else {\n      adjustedconditionList = [].concat(_toConsumableArray(conditionList.slice(0, startIndex)), _toConsumableArray(conditionList.slice(startIndex + 1, endIndex + 1)), [conditionList[startIndex]], _toConsumableArray(conditionList.slice(endIndex + 1)));\n    }\n    var newConfig = config.set('rows', (0, _immutable.fromJS)(adjustedconditionList));\n    setConfig(newConfig);\n  };\n  var handlePanelClick = function handlePanelClick(e) {\n    e.stopPropagation();\n  };\n  var handleFilterChange = function handleFilterChange(e) {\n    setFilter(e.target.value);\n  };\n  var tipsText = /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _index[\"default\"]['tips-container']\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"p\", {\n    className: (0, _classnames4[\"default\"])('kd-cq-querypanel-tips-popup-title', _index[\"default\"]['tips-tilte'])\n  }, (0, _intlApi.getLangMsg)('listFilter.key0014')), /*#__PURE__*/_react[\"default\"].createElement(\"p\", null, (0, _intlApi.getLangMsg)('listFilter.key0035')), /*#__PURE__*/_react[\"default\"].createElement(\"p\", {\n    className: (0, _classnames4[\"default\"])('kd-cq-querypanel-tips-popup-title', _index[\"default\"]['tips-tilte'])\n  }, (0, _intlApi.getLangMsg)('listFilter.key0013')), /*#__PURE__*/_react[\"default\"].createElement(\"p\", null, (0, _intlApi.getLangMsg)('listFilter.key0036')));\n  return /*#__PURE__*/_reactDom[\"default\"].createPortal( /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    style: _objectSpread(_objectSpread({}, style), pannelStyle),\n    className: (0, _classnames4[\"default\"])('kd-cq-dropdown kd-cq-dropdown-select-type kd-cq-listfilter-setting-dropdown', _index[\"default\"].container),\n    ref: panelRef\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames4[\"default\"])('kd-cq-dropdown-menu-item', _index[\"default\"].header)\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _index[\"default\"].title\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", null, (0, _intlApi.getLangMsg)('listFilter.key0012')), /*#__PURE__*/_react[\"default\"].createElement(_customTooltip.CustomToolTip, {\n    tips: tipsText,\n    className: (0, _classnames4[\"default\"])('kd-cq-popup kd-cq-querypanel-tips-popup')\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    \"data-tip\": true,\n    className: (0, _classnames4[\"default\"])('kdfont kd-hover-color kdfont-tishixinxi', _index[\"default\"]['tips-icon'])\n  }))), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _index[\"default\"]['type-select-wrap']\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames4[\"default\"])(_index[\"default\"]['select-item'], 'hover-theme-border-color1 hover-theme-hover-fc', _defineProperty({}, _index[\"default\"].selected, config.get('type') === 0)),\n    onClick: handleSelectType(0)\n  }, (0, _intlApi.getLangMsg)('listFilter.key0013')), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames4[\"default\"])(_index[\"default\"]['select-item'], 'hover-theme-border-color1 hover-theme-hover-fc', _defineProperty({}, _index[\"default\"].selected, config.get('type') === 1)),\n    onClick: handleSelectType(1)\n  }, (0, _intlApi.getLangMsg)('listFilter.key0014')))), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _index[\"default\"].content\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _index[\"default\"].search\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n    className: (0, _classnames4[\"default\"])(style['search-icon'], 'kdfont kdfont-f input-color')\n  }), /*#__PURE__*/_react[\"default\"].createElement(\"input\", {\n    placeholder: (0, _intlApi.getLangMsg)('listFilter.key0039'),\n    value: filter,\n    onChange: handleFilterChange,\n    maxLength: 50,\n    className: (0, _classnames4[\"default\"])('kd-cq-dropdown-menu-item', 'primary-text-in-light')\n  })), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames4[\"default\"])('kd-cq-dropdown-menu-item', _index[\"default\"]['conditions-wrap']),\n    onDragOver: allowDrag,\n    onDragEnter: allowDrag\n  }, config.get('rows').map(function (condition, index) {\n    var dragIndex = config.get('rows').findIndex(function (condition) {\n      return condition.get('n') === dragStartRef.current;\n    });\n    var showBorderTop = isDrag && index === dragIndex + 1; // 拖拽时显示下面一个条件的上边框\n    var disabled = condition.get('h') === 0;\n    var nameWithLang = condition.get('c');\n    var name = nameWithLang && (0, _langUtil.getValueByPath)(nameWithLang, [], {\n      current: current\n    });\n    if (filter && !name.match(filter)) return null;\n    return /*#__PURE__*/_react[\"default\"].createElement(_condition.ConditionItem, {\n      className: (0, _classnames4[\"default\"])(_defineProperty({}, _index[\"default\"]['item-en'], current === 'en_US')),\n      filter: filter,\n      key: condition.get('n'),\n      visible: condition.get('v') === 1,\n      disabled: disabled,\n      name: name,\n      id: condition.get('n'),\n      onChange: handleChange(index),\n      onDragStart: handleDragStart,\n      onDragEnd: handleDragEnd,\n      dragStartId: dragStartRef.current,\n      onListAdjust: handleListAdjust,\n      showBorderTop: showBorderTop\n    });\n  }))), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames4[\"default\"])('kd-cq-dropdown-menu-item', _index[\"default\"].bottom)\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames4[\"default\"])(_index[\"default\"][\"switch\"], 'hover-theme-border-color1 hover-theme-hover-fc active-theme-active-fc active-theme-active-bdcolor1'),\n    onClick: switchFilterMode\n  }, (0, _intlApi.getLangMsg)('listFilter.key0043')), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _index[\"default\"]['right-wrap']\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames4[\"default\"])('hover-theme-border-color1 hover-theme-hover-fc active-theme-active-fc active-theme-active-bdcolor1', _index[\"default\"].reset),\n    onClick: handleReset\n  }, (0, _intlApi.getLangMsg)('listFilter.key0016')), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames4[\"default\"])('hover-theme-border-color1 hover-theme-hover-fc active-theme-active-fc active-theme-active-bdcolor1', _index[\"default\"].cancel),\n    onClick: onClose\n  }, (0, _intlApi.getLangMsg)('listFilter.key0017')), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames4[\"default\"])('theme-bg hover-theme-bg1 active-theme-bg1', _index[\"default\"].confirm),\n    onClick: handleSave\n  }, (0, _intlApi.getLangMsg)('listFilter.key0018'))))), containEl);\n});\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/commonSearch/settingConfirm/index.js?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/commonSearch/settingConfirm/utils.js":
/*!********************************************************************************!*\
  !*** ./src/component/web/base/ListFilter/commonSearch/settingConfirm/utils.js ***!
  \********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.getConfigWithUser = void 0;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.find-index.js */ \"../../node_modules/core-js/modules/es.array.find-index.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n// 获取过滤配置，合并用户和出厂配置\nvar getConfigWithUser = exports.getConfigWithUser = function getConfigWithUser(userConfig, factoryConfig) {\n  var userRows = userConfig.get('rows');\n  var factoryRows = factoryConfig.get('rows');\n  var useRowsWidthFactory = userRows.map(function (row) {\n    var newRow = row;\n    var factoryRowIndex = factoryRows.findIndex(function (_row) {\n      return _row.get('n') === row.get('n');\n    });\n    if (factoryRowIndex > -1) {\n      var factoryRow = factoryRows.get(factoryRowIndex);\n      factoryRows = factoryRows[\"delete\"](factoryRowIndex);\n      // 出厂不可隐藏的默认可见\n      if (factoryRow.get('h') === 0) {\n        newRow = newRow.set('v', 1);\n      }\n      newRow = newRow.set('c', factoryRow.get('c')).set('h', factoryRow.get('h'));\n      return newRow;\n    }\n    return undefined;\n  }).filter(Boolean);\n  var otherFactoryRows = factoryRows.map(function (row) {\n    if (factoryRows.get('h') === 0) {\n      return row.set('v', 1);\n    }\n    return row;\n  });\n  return userConfig.set('rows', useRowsWidthFactory.concat(otherFactoryRows));\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/commonSearch/settingConfirm/utils.js?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/commonSearch/tiledCommon/baseDataOptions.js":
/*!***************************************************************************************!*\
  !*** ./src/component/web/base/ListFilter/commonSearch/tiledCommon/baseDataOptions.js ***!
  \***************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.BaseDataOptions = void 0;\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _classnames3 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _kdesign = __webpack_require__(/*! @kdcloudjs/kdesign */ \"webpack/sharing/consume/default/@kdcloudjs/kdesign/@kdcloudjs/kdesign\");\nvar _langUtil = __webpack_require__(/*! @/util/langUtil */ \"./src/util/langUtil.js\");\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nvar _option = __webpack_require__(/*! ./option */ \"./src/component/web/base/ListFilter/commonSearch/tiledCommon/option/index.js\");\nvar _index = _interopRequireDefault(__webpack_require__(/*! ./index.less */ \"./src/component/web/base/ListFilter/commonSearch/tiledCommon/index.less\"));\nvar _uitls = __webpack_require__(/*! ./uitls */ \"./src/component/web/base/ListFilter/commonSearch/tiledCommon/uitls.js\");\nvar _FoldContainer = __webpack_require__(/*! ../../../FoldContainer */ \"./src/component/web/base/FoldContainer/index.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar BaseDataOptions = exports.BaseDataOptions = function BaseDataOptions(_ref) {\n  var lang = _ref.lang,\n    value = _ref.value,\n    items = _ref.items,\n    isMulti = _ref.isMulti,\n    onSelect = _ref.onSelect,\n    mustInput = _ref.mustInput,\n    onCommonF7Click = _ref.onCommonF7Click,\n    onConditionChange = _ref.onConditionChange;\n  var handleSelect = function handleSelect(optionValue) {\n    return function (selected) {\n      onSelect(optionValue, selected);\n    };\n  };\n  var handleClickMore = function handleClickMore() {\n    onCommonF7Click(value);\n  };\n  var handleDelete = function handleDelete(value) {\n    return function () {\n      onSelect(value, false);\n    };\n  };\n  var handleClearAll = function handleClearAll() {\n    onConditionChange(['']); // 改为不限\n  };\n  var displayItems = items.slice(0, 20);\n  var otherSelectedOptions = (0, _uitls.getOtherOptions)(value, items, lang).slice(0, 200); // 最多显示200条\n  // const otherSelectedOptions = Array(10).fill(1).map((_, index) => ({ value: 'a' + index, label: '测试测试四十到是啊手动阀' + index }))\n  var showOhterOptions = otherSelectedOptions.length > 0;\n  var showMore = !showOhterOptions && displayItems.count() >= 20;\n  var getDropDownCom = function getDropDownCom(count) {\n    return /*#__PURE__*/_react[\"default\"].createElement(_kdesign.Dropdown.Menu, null, otherSelectedOptions.slice(otherSelectedOptions.length - count).map(function (_ref2, index) {\n      var label = _ref2.label,\n        value = _ref2.value;\n      return /*#__PURE__*/_react[\"default\"].createElement(_kdesign.Dropdown.Item, {\n        key: value,\n        className: _index[\"default\"]['dropdown-item']\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n        className: _index[\"default\"].condition\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", null, label)), isMulti && /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n        className: (0, _classnames3[\"default\"])(_index[\"default\"].icon),\n        onClick: handleDelete(value)\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n        className: (0, _classnames3[\"default\"])('kd-cq-querypanel-item-icon', _index[\"default\"]['c-icon-close'], 'kdfont kdfont-shanchu-s')\n      })));\n    }));\n  };\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames3[\"default\"])('kd-cq-querypanel-item-text', _index[\"default\"]['options-wrap'], _defineProperty({}, _index[\"default\"].multi, isMulti))\n  }, displayItems.map(function (item) {\n    var label = (0, _langUtil.getValueByPath)(item, ['caption'], lang);\n    var optionValue = item.get('value');\n    var selected = value.includes(optionValue);\n    return /*#__PURE__*/_react[\"default\"].createElement(_option.Option, {\n      key: optionValue,\n      label: label,\n      isMulti: isMulti,\n      selected: selected,\n      onChange: handleSelect(optionValue)\n    });\n  }), showMore ? /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames3[\"default\"])(_index[\"default\"].more, _defineProperty({}, _index[\"default\"].multi, isMulti))\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    onClick: handleClickMore\n  }, (0, _intlApi.getLangMsg)('listFilter.key0019'))) : null, showOhterOptions ? /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _index[\"default\"]['base-data-container']\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _index[\"default\"]['options-container']\n  }, /*#__PURE__*/_react[\"default\"].createElement(_FoldContainer.FoldContainer, {\n    className: _index[\"default\"]['fold-container'],\n    getDropDownCom: getDropDownCom\n  }, otherSelectedOptions.map(function (_ref3, index) {\n    var label = _ref3.label,\n      _value = _ref3.value;\n    return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      key: index,\n      className: _index[\"default\"]['other-option']\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n      className: _index[\"default\"]['option-label']\n    }, label), isMulti && !(mustInput && value.length === 1) ? /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n      className: (0, _classnames3[\"default\"])('kd-cq-querypanel-item-icon', _index[\"default\"].icon, 'kdfont kdfont-shanchu-s'),\n      onClick: handleDelete(_value)\n    }) : null);\n  })), /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    onClick: handleClickMore,\n    className: (0, _classnames3[\"default\"])('kd-cq-querypanel-item-icon', _index[\"default\"]['base-data-icon'], 'kdfont kdfont-f'),\n    title: \"F7\"\n  })), !mustInput ? /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: _index[\"default\"]['clear-all'],\n    onClick: handleClearAll\n  }, (0, _intlApi.getLangMsg)('listFilter.key0038')) : null) : null);\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/commonSearch/tiledCommon/baseDataOptions.js?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/commonSearch/tiledCommon/commonOptions.js":
/*!*************************************************************************************!*\
  !*** ./src/component/web/base/ListFilter/commonSearch/tiledCommon/commonOptions.js ***!
  \*************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.CommonOptions = void 0;\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _classnames3 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _langUtil = __webpack_require__(/*! @/util/langUtil */ \"./src/util/langUtil.js\");\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nvar _option = __webpack_require__(/*! ./option */ \"./src/component/web/base/ListFilter/commonSearch/tiledCommon/option/index.js\");\nvar _index = _interopRequireDefault(__webpack_require__(/*! ./index.less */ \"./src/component/web/base/ListFilter/commonSearch/tiledCommon/index.less\"));\nvar _uitls = __webpack_require__(/*! ./uitls */ \"./src/component/web/base/ListFilter/commonSearch/tiledCommon/uitls.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nvar CommonOptions = exports.CommonOptions = function CommonOptions(_ref) {\n  var lang = _ref.lang,\n    type = _ref.type,\n    value = _ref.value,\n    items = _ref.items,\n    mustInput = _ref.mustInput,\n    today = _ref.today,\n    isMulti = _ref.isMulti,\n    onSelect = _ref.onSelect,\n    onConditionChange = _ref.onConditionChange;\n  var _useState = (0, _react.useState)(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    expand = _useState2[0],\n    setExpand = _useState2[1];\n  var containerRef = (0, _react.useRef)(null);\n  var _useAdapt = (0, _uitls.useAdapt)(containerRef),\n    _useAdapt2 = _slicedToArray(_useAdapt, 1),\n    showExpand = _useAdapt2[0];\n  var handleSelect = function handleSelect(optionValue) {\n    return function (selected) {\n      onSelect(optionValue, selected);\n    };\n  };\n  var handleToggle = function handleToggle() {\n    setExpand(!expand);\n  };\n  var isDate = ['date', 'datetime'].includes(type);\n  return /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, null, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames3[\"default\"])(_index[\"default\"]['common-options-wrap'], _defineProperty(_defineProperty({}, _index[\"default\"].fold, !expand), _index[\"default\"].expand, expand))\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames3[\"default\"])('kd-cq-querypanel-item-text', _index[\"default\"]['options-wrap'], _defineProperty({}, _index[\"default\"].multi, isMulti)),\n    ref: containerRef\n  }, items.map(function (item) {\n    var label = (0, _langUtil.getValueByPath)(item, ['caption'], lang);\n    var optionValue = item.get('value');\n    // 是否选中，时间特殊处理（主要用来判断不限和只选部分自定义日期）\n    var selected = isDate ? value.length === 1 && value[0] === optionValue : value.includes(optionValue);\n    return /*#__PURE__*/_react[\"default\"].createElement(_option.Option, {\n      key: optionValue,\n      label: label,\n      isMulti: isMulti,\n      selected: selected,\n      onChange: handleSelect(optionValue)\n    });\n  }))), showExpand ? /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: _index[\"default\"]['common-more'],\n    onClick: handleToggle\n  }, (0, _intlApi.getLangMsg)(expand ? 'listFilter.key0041' : 'listFilter.key0040')) : null);\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/commonSearch/tiledCommon/commonOptions.js?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/commonSearch/tiledCommon/index.js":
/*!*****************************************************************************!*\
  !*** ./src/component/web/base/ListFilter/commonSearch/tiledCommon/index.js ***!
  \*****************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.TiledCommonSearch = void 0;\n__webpack_require__(/*! core-js/modules/es.array.find.js */ \"../../node_modules/core-js/modules/es.array.find.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _classnames = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _langUtil = __webpack_require__(/*! @/util/langUtil */ \"./src/util/langUtil.js\");\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nvar _tiledItem = __webpack_require__(/*! ./tiledItem */ \"./src/component/web/base/ListFilter/commonSearch/tiledCommon/tiledItem.js\");\nvar _treeSelect = __webpack_require__(/*! ../../Components/treeSelect */ \"./src/component/web/base/ListFilter/Components/treeSelect/index.js\");\nvar _utils = __webpack_require__(/*! ../../schemeSearch/schemeEditor/utils */ \"./src/component/web/base/ListFilter/schemeSearch/schemeEditor/utils.js\");\nvar _index = _interopRequireDefault(__webpack_require__(/*! ./index.less */ \"./src/component/web/base/ListFilter/commonSearch/tiledCommon/index.less\"));\nvar _constants = __webpack_require__(/*! ../../constants */ \"./src/component/web/base/ListFilter/constants.js\");\nvar _utils2 = __webpack_require__(/*! ../utils */ \"./src/component/web/base/ListFilter/commonSearch/utils.js\");\nvar _customTooltip = __webpack_require__(/*! ../../Components/customTooltip */ \"./src/component/web/base/ListFilter/Components/customTooltip/index.js\");\nvar _uitls = __webpack_require__(/*! ./uitls */ \"./src/component/web/base/ListFilter/commonSearch/tiledCommon/uitls.js\");\nvar _kdesign = __webpack_require__(/*! @kdcloudjs/kdesign */ \"webpack/sharing/consume/default/@kdcloudjs/kdesign/@kdcloudjs/kdesign\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nvar TiledCommonSearch = exports.TiledCommonSearch = function TiledCommonSearch(_ref) {\n  var lang = _ref.lang,\n    grids = _ref.grids,\n    entryenties = _ref.entryenties,\n    showMultiGrids = _ref.showMultiGrids,\n    commonOptions = _ref.commonOptions,\n    commonSelected = _ref.commonSelected,\n    onCommonF7Click = _ref.onCommonF7Click,\n    onSelectGridsChange = _ref.onSelectGridsChange,\n    onCommonSelectedChange = _ref.onCommonSelectedChange,\n    triggerSearch = _ref.triggerSearch,\n    isInnerUser = _ref.isInnerUser,\n    autoTriggerSearch = _ref.autoTriggerSearch,\n    updateNoCompareUsers = _ref.updateNoCompareUsers,\n    resetSearchCondition = _ref.resetSearchCondition;\n  var containerRef = (0, _react.useRef)(null);\n  var adaptWidth = (0, _uitls.useAdaptWidth)(containerRef, showMultiGrids, commonOptions);\n  var handleConditionChange = function handleConditionChange(fieldName) {\n    return function (value) {\n      var newCommonSelected = (0, _utils2.getNewCommonSelected)(commonSelected, fieldName, value);\n      onCommonSelectedChange(newCommonSelected);\n    };\n  };\n  var handleCommonF7Click = function handleCommonF7Click(fieldName, isMulti, selectedItems) {\n    onCommonF7Click(fieldName, isMulti, selectedItems);\n  };\n  var handleGridsChange = function handleGridsChange(grids) {\n    onSelectGridsChange(grids);\n  };\n  var treeOptions = (0, _react.useMemo)(function () {\n    return (0, _utils.getTreeOpitions)(entryenties, lang);\n  }, [entryenties, lang]);\n  var tipsText = /*#__PURE__*/_react[\"default\"].createElement(\"p\", {\n    className: _index[\"default\"]['grids-range-tips']\n  }, (0, _intlApi.getLangMsg)('listFilter.key0037'));\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _index[\"default\"]['tiled-container'],\n    ref: containerRef\n  }, showMultiGrids ? /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames[\"default\"])('kd-cq-querypanel-item', _index[\"default\"]['tiled-item'], _index[\"default\"]['grids-select'])\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    style: {\n      width: adaptWidth\n    },\n    className: (0, _classnames[\"default\"])(_index[\"default\"].label),\n    title: (0, _intlApi.getLangMsg)({\n      key: 'listFilter.key0029'\n    })\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    \"data-index\": 0,\n    className: (0, _classnames[\"default\"])(_index[\"default\"]['label-content'], _index[\"default\"]['label-content-grids'], 'label')\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: _index[\"default\"]['label-text']\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    \"data-index\": 0,\n    className: (0, _classnames[\"default\"])(_index[\"default\"]['label-text-content'], 'label')\n  }, (0, _intlApi.getLangMsg)({\n    key: 'listFilter.key0029'\n  }))), /*#__PURE__*/_react[\"default\"].createElement(_customTooltip.CustomToolTip, {\n    tips: tipsText,\n    className: (0, _classnames[\"default\"])('kd-cq-popup kd-cq-querypanel-tips-popup')\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    \"data-tip\": true,\n    \"data-place\": \"right\",\n    className: (0, _classnames[\"default\"])('kdfont kd-hover-color kdfont-tishixinxi', _index[\"default\"]['tips-icon'])\n  })), /*#__PURE__*/_react[\"default\"].createElement(\"span\", null, \"\\uFF1A\"))), /*#__PURE__*/_react[\"default\"].createElement(_treeSelect.TreeSelect, {\n    className: _index[\"default\"]['tree-select'],\n    options: treeOptions,\n    value: grids.toJS(),\n    onChange: handleGridsChange\n  })) : null, commonOptions.map(function (commonField, index) {\n    var _commonSelected$find;\n    var current = lang.current;\n    var label = (0, _langUtil.getValueByPath)(commonField, ['fieldCaption'], {\n      current: current\n    });\n    var fieldName = commonField.get('fieldName');\n    var isMulti = commonField.get('isMulti');\n    var today = commonField.get(_constants.TODAY);\n    var mustInput = commonField.get('mustInput');\n    var value = (_commonSelected$find = commonSelected.find(function (conditon) {\n      return conditon.get('k') === fieldName;\n    })) === null || _commonSelected$find === void 0 ? void 0 : _commonSelected$find.get('v').toJS();\n    return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      key: index,\n      className: (0, _classnames[\"default\"])('kd-cq-querypanel-item', _index[\"default\"]['tiled-item'])\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n      style: {\n        width: adaptWidth\n      },\n      className: (0, _classnames[\"default\"])(_index[\"default\"].label)\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n      \"data-index\": index + 1,\n      className: (0, _classnames[\"default\"])('kd-cq-querypanel-item-text', _index[\"default\"]['label-content-nomal'], 'label')\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n      className: _index[\"default\"]['label-text'],\n      title: label\n    }, label), /*#__PURE__*/_react[\"default\"].createElement(\"span\", null, \"\\uFF1A\"))), /*#__PURE__*/_react[\"default\"].createElement(_tiledItem.TiledCom, {\n      lang: lang,\n      today: today,\n      isMulti: isMulti,\n      mustInput: mustInput,\n      type: commonField.get('type'),\n      value: value,\n      items: commonField.get('items'),\n      onCommonF7Click: function onCommonF7Click(value) {\n        return handleCommonF7Click(fieldName, isMulti, value);\n      },\n      onConditionChange: handleConditionChange(fieldName),\n      isInnerUser: isInnerUser,\n      updateNoCompareUsers: updateNoCompareUsers,\n      fieldName: fieldName\n    }));\n  }), !autoTriggerSearch ? /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _index[\"default\"].operation_part\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    style: {\n      width: adaptWidth\n    },\n    className: (0, _classnames[\"default\"])(_index[\"default\"].label)\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: (0, _classnames[\"default\"])('kd-cq-querypanel-item-text', _index[\"default\"]['label-content-nomal'], 'label')\n  })), /*#__PURE__*/_react[\"default\"].createElement(_kdesign.Button, {\n    className: (0, _classnames[\"default\"])(_index[\"default\"].cancel_operation, 'kd-cq-querypanel-item theme btn-ghost hover-theme-border-color1 hover-theme-hover-fc'),\n    onClick: resetSearchCondition\n  }, (0, _intlApi.getLangMsg)({\n    key: 'listFilter.key0016'\n  })), /*#__PURE__*/_react[\"default\"].createElement(_kdesign.Button, {\n    className: (0, _classnames[\"default\"])(_index[\"default\"].search_operation, 'kd-cq-querypanel-item theme-bg', 'hover-theme-bg1 active-theme-bg1'),\n    onClick: triggerSearch\n  }, (0, _intlApi.getLangMsg)({\n    key: 'listFilter.key0046'\n  }))) : null);\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/commonSearch/tiledCommon/index.js?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/commonSearch/tiledCommon/tiledItem.js":
/*!*********************************************************************************!*\
  !*** ./src/component/web/base/ListFilter/commonSearch/tiledCommon/tiledItem.js ***!
  \*********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.TiledCom = void 0;\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _commonOptions = __webpack_require__(/*! ./commonOptions */ \"./src/component/web/base/ListFilter/commonSearch/tiledCommon/commonOptions.js\");\nvar _baseDataOptions = __webpack_require__(/*! ./baseDataOptions */ \"./src/component/web/base/ListFilter/commonSearch/tiledCommon/baseDataOptions.js\");\nvar _dateOptions = __webpack_require__(/*! ./dateOptions */ \"./src/component/web/base/ListFilter/commonSearch/tiledCommon/dateOptions/index.js\");\nvar _userOptions = __webpack_require__(/*! ./userOptions */ \"./src/component/web/base/ListFilter/commonSearch/tiledCommon/userOptions.js\");\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nvar TiledCom = exports.TiledCom = function TiledCom(_ref) {\n  var lang = _ref.lang,\n    type = _ref.type,\n    value = _ref.value,\n    items = _ref.items,\n    today = _ref.today,\n    isMulti = _ref.isMulti,\n    mustInput = _ref.mustInput,\n    onConditionChange = _ref.onConditionChange,\n    _onCommonF7Click = _ref.onCommonF7Click,\n    isInnerUser = _ref.isInnerUser,\n    fieldName = _ref.fieldName,\n    updateNoCompareUsers = _ref.updateNoCompareUsers;\n  var handleSelect = function handleSelect(optionValue, selected) {\n    var newValue = optionValue === '' ? [''] : _toConsumableArray(value);\n    // user 类型走特殊处理\n    var cutItem = function cutItem(optionValue) {\n      newValue = newValue.filter(function (v) {\n        return v !== optionValue;\n      });\n      if (newValue.length === 0) {\n        newValue = mustInput ? value : ['']; // 必录不允许全部取消\n      }\n      return newValue;\n    };\n    var addItem = function addItem(optionValue) {\n      if (optionValue === '') {\n        // 选中不限\n        newValue = [''];\n      } else {\n        newValue.push(optionValue);\n        newValue = newValue.filter(function (v) {\n          return v !== '';\n        }); // 去掉不限\n      }\n      return newValue;\n    };\n    if (selected) {\n      newValue = isMulti && type !== 'user' ? addItem(optionValue) : [optionValue];\n    } else {\n      newValue = isMulti ? cutItem(optionValue) : [optionValue];\n    }\n    onConditionChange(newValue);\n  };\n  var isBaseData = ['basedata', 'mulbasedata', 'org'].includes(type);\n  if (isBaseData) {\n    return /*#__PURE__*/_react[\"default\"].createElement(_baseDataOptions.BaseDataOptions, {\n      lang: lang,\n      value: value,\n      items: items,\n      isMulti: isMulti,\n      mustInput: mustInput,\n      onSelect: handleSelect,\n      onCommonF7Click: function onCommonF7Click(value) {\n        return _onCommonF7Click(value);\n      },\n      onConditionChange: onConditionChange\n    });\n  }\n  if (type === 'user') {\n    return /*#__PURE__*/_react[\"default\"].createElement(_userOptions.UserOptions, {\n      lang: lang,\n      value: value,\n      items: items,\n      mustInput: mustInput,\n      isMulti: isMulti,\n      onCommonF7Click: function onCommonF7Click(value) {\n        return _onCommonF7Click(value);\n      },\n      onSelect: handleSelect,\n      onConditionChange: onConditionChange,\n      isInnerUser: isInnerUser,\n      updateNoCompareUsers: updateNoCompareUsers,\n      fieldName: fieldName\n    });\n  }\n  if (type === 'date' || type === 'datetime') {\n    return /*#__PURE__*/_react[\"default\"].createElement(_dateOptions.DateOptions, {\n      lang: lang,\n      type: type,\n      value: value,\n      mustInput: mustInput,\n      items: items,\n      today: today,\n      isMulti: isMulti,\n      onSelect: handleSelect,\n      onConditionChange: onConditionChange\n    });\n  }\n  return /*#__PURE__*/_react[\"default\"].createElement(_commonOptions.CommonOptions, {\n    lang: lang,\n    type: type,\n    value: value,\n    mustInput: mustInput,\n    items: items,\n    today: today,\n    isMulti: isMulti,\n    onSelect: handleSelect,\n    onConditionChange: onConditionChange\n  });\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/commonSearch/tiledCommon/tiledItem.js?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/commonSearch/utils.js":
/*!*****************************************************************!*\
  !*** ./src/component/web/base/ListFilter/commonSearch/utils.js ***!
  \*****************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.getNewCommonSelected = void 0;\n__webpack_require__(/*! core-js/modules/es.array.find-index.js */ \"../../node_modules/core-js/modules/es.array.find-index.js\");\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar getNewCommonSelected = exports.getNewCommonSelected = function getNewCommonSelected(commonSelected, fieldName, value) {\n  // 最新编辑的条件需要放在最后\n  var index = commonSelected.findIndex(function (commonCodition) {\n    return commonCodition.get('k') === fieldName;\n  });\n  var condition = commonSelected.get(index);\n  var newCondition = condition.set('v', (0, _immutable.fromJS)(value));\n  return commonSelected.remove(index).push(newCondition);\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/commonSearch/utils.js?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/index.js":
/*!****************************************************!*\
  !*** ./src/component/web/base/ListFilter/index.js ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.string.search.js */ \"../../node_modules/core-js/modules/es.string.search.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _classnames5 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _index = _interopRequireDefault(__webpack_require__(/*! ./index.less */ \"./src/component/web/base/ListFilter/index.less\"));\nvar _title = __webpack_require__(/*! ./Components/title */ \"./src/component/web/base/ListFilter/Components/title/index.js\");\nvar _langUtil = __webpack_require__(/*! @/util/langUtil */ \"./src/util/langUtil.js\");\nvar _componentutil = __webpack_require__(/*! @/util/componentutil */ \"./src/util/componentutil.js\");\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nvar _constants = __webpack_require__(/*! ./constants */ \"./src/component/web/base/ListFilter/constants.js\");\nvar _const = __webpack_require__(/*! @/constant/const */ \"./src/constant/const.js\");\nvar _utils = __webpack_require__(/*! ./utils */ \"./src/component/web/base/ListFilter/utils.js\");\nvar _filterSelect = __webpack_require__(/*! ./Components/filterSelect */ \"./src/component/web/base/ListFilter/Components/filterSelect/index.js\");\nvar _selectedConditions = __webpack_require__(/*! ./selectedConditions */ \"./src/component/web/base/ListFilter/selectedConditions/index.js\");\nvar _quickSearch = __webpack_require__(/*! ./quickSearch */ \"./src/component/web/base/ListFilter/quickSearch/index.js\");\nvar _commonSearch = __webpack_require__(/*! ./commonSearch */ \"./src/component/web/base/ListFilter/commonSearch/index.js\");\nvar _secondFilter = __webpack_require__(/*! ./secondFilter */ \"./src/component/web/base/ListFilter/secondFilter/index.js\");\nvar _nlpSearchUse = __webpack_require__(/*! ./nlpSearchUse */ \"./src/component/web/base/ListFilter/nlpSearchUse.js\");\nvar _ArchiveSelect = __webpack_require__(/*! ./ArchiveSelect */ \"./src/component/web/base/ListFilter/ArchiveSelect/index.js\");\nvar _pinnedConditions = __webpack_require__(/*! ./pinnedConditions */ \"./src/component/web/base/ListFilter/pinnedConditions/index.js\");\nvar _utils2 = __webpack_require__(/*! @/component/web/KDListFilter/utils */ \"./src/component/web/KDListFilter/utils.js\");\nvar _constants2 = __webpack_require__(/*! @/component/web/KDListFilter/constants */ \"./src/component/web/KDListFilter/constants.js\");\nvar _schemeEditModel = _interopRequireDefault(__webpack_require__(/*! ./schemeEditModel */ \"./src/component/web/base/ListFilter/schemeEditModel/index.js\"));\nvar _memoryCacher = __webpack_require__(/*! @/model/memoryCacher */ \"./src/model/memoryCacher.js\");\nvar _utils3 = __webpack_require__(/*! ./secondFilter/settingConfirm/utils */ \"./src/component/web/base/ListFilter/secondFilter/settingConfirm/utils.js\");\nvar _excluded = [\"fold\", \"style\", \"lang\", \"data\", \"selected\", \"editting\", \"linkQuery\", \"smartMeta\", \"addSchemes\", \"onNlpSearch\", \"visibleInfo\", \"attachData\", \"archiveData\", \"showMultiGrids\", \"activeKey\", \"setPostValue\", \"onCommonSearch\", \"onSchemeSearch\", \"onSelectedChange\", \"onEdittingChange\", \"onCommonF7Click\", \"saveCommonConfig\", \"onLinkQueryClose\", \"commonFilterConfig\", \"getCommonFilterConfig\", \"getSchemeFilterConfig\", \"saveSchemeFilterConfig\", \"schemeFilterConfig\", \"onF7LookUp\", \"onSchemeF7LookUp\", \"onAddSchemesChange\", \"onEditStatusChange\", \"onSchemeSave\", \"onSchemeDelete\", \"onFieldBtnClick\", \"onSchemeShare\", \"onSchemeSetDefault\", \"pinnedConditions\", \"setFoldPageUIState\", \"switchFilterMode\", \"shareable\", \"useOrReplaceBlank\", \"model\", \"slot\", \"userLocal\", \"showFormByTips\", \"downKeyFocus\", \"closeF7Panel\", \"toggleExpand\", \"enableScheme\", \"autoTriggerSearch\", \"canshowF7SchemeTitle\", \"getSchemeColumns\", \"getSchemeSortColumns\", \"resetSearchCondition\"]; // import { SchemeSearch } from './schemeSearch'\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nvar CUR_USER = '103';\nvar NOT_CUR_USER = '104';\nvar ListFilter = function ListFilter(_ref) {\n  var fold = _ref.fold,\n    style = _ref.style,\n    lang = _ref.lang,\n    data = _ref.data,\n    selected = _ref.selected,\n    editting = _ref.editting,\n    linkQuery = _ref.linkQuery,\n    smartMeta = _ref.smartMeta,\n    addSchemes = _ref.addSchemes,\n    onNlpSearch = _ref.onNlpSearch,\n    visibleInfo = _ref.visibleInfo,\n    attachData = _ref.attachData,\n    archiveData = _ref.archiveData,\n    showMultiGrids = _ref.showMultiGrids,\n    activeKey = _ref.activeKey,\n    setPostValue = _ref.setPostValue,\n    onCommonSearch = _ref.onCommonSearch,\n    onSchemeSearch = _ref.onSchemeSearch,\n    onSelectedChange = _ref.onSelectedChange,\n    onEdittingChange = _ref.onEdittingChange,\n    onCommonF7Click = _ref.onCommonF7Click,\n    saveCommonConfig = _ref.saveCommonConfig,\n    onLinkQueryClose = _ref.onLinkQueryClose,\n    commonFilterConfig = _ref.commonFilterConfig,\n    getCommonFilterConfig = _ref.getCommonFilterConfig,\n    getSchemeFilterConfig = _ref.getSchemeFilterConfig,\n    saveSchemeFilterConfig = _ref.saveSchemeFilterConfig,\n    schemeFilterConfig = _ref.schemeFilterConfig,\n    onF7LookUp = _ref.onF7LookUp,\n    onSchemeF7LookUp = _ref.onSchemeF7LookUp,\n    onAddSchemesChange = _ref.onAddSchemesChange,\n    onEditStatusChange = _ref.onEditStatusChange,\n    onSchemeSave = _ref.onSchemeSave,\n    onSchemeDelete = _ref.onSchemeDelete,\n    onFieldBtnClick = _ref.onFieldBtnClick,\n    onSchemeShare = _ref.onSchemeShare,\n    onSchemeSetDefault = _ref.onSchemeSetDefault,\n    pinnedConditions = _ref.pinnedConditions,\n    setFoldPageUIState = _ref.setFoldPageUIState,\n    switchFilterMode = _ref.switchFilterMode,\n    shareable = _ref.shareable,\n    useOrReplaceBlank = _ref.useOrReplaceBlank,\n    model = _ref.model,\n    slot = _ref.slot,\n    userLocal = _ref.userLocal,\n    showFormByTips = _ref.showFormByTips,\n    downKeyFocus = _ref.downKeyFocus,\n    closeF7Panel = _ref.closeF7Panel,\n    toggleExpand = _ref.toggleExpand,\n    enableScheme = _ref.enableScheme,\n    autoTriggerSearch = _ref.autoTriggerSearch,\n    canshowF7SchemeTitle = _ref.canshowF7SchemeTitle,\n    getSchemeColumns = _ref.getSchemeColumns,\n    getSchemeSortColumns = _ref.getSchemeSortColumns,\n    resetSearchCondition = _ref.resetSearchCondition,\n    otherAttachData = _objectWithoutProperties(_ref, _excluded);\n  var _useContext = (0, _react.useContext)(_utils2.FilterContext),\n    eventTracking = _useContext.eventTracking;\n  var showCommon = visibleInfo.showCommon,\n    showScheme = visibleInfo.showScheme,\n    showQuick = visibleInfo.showQuick;\n  var title = (0, _langUtil.getValueOfLanguage)(data.get('title'), userLocal);\n  var selectedScheme = selected.get('scheme');\n  var _useState = (0, _react.useState)(selectedScheme),\n    _useState2 = _slicedToArray(_useState, 2),\n    edittingScheme = _useState2[0],\n    setEditingScheme = _useState2[1];\n  var _useFitlerSelectInfo = (0, _utils.useFitlerSelectInfo)(selectedScheme, {\n      showCommon: showCommon\n    }),\n    _useFitlerSelectInfo2 = _slicedToArray(_useFitlerSelectInfo, 2),\n    isCommon = _useFitlerSelectInfo2[0],\n    currentFilterName = _useFitlerSelectInfo2[1];\n  var _useState3 = (0, _react.useState)(data.get('common').count() > 0 && !fold),\n    _useState4 = _slicedToArray(_useState3, 2),\n    expand = _useState4[0],\n    setExpand = _useState4[1];\n  var _useState5 = (0, _react.useState)(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    editSchemeModal = _useState6[0],\n    setEditSchemeMoldal = _useState6[1];\n  var conditionOptions = data.getIn(['scheme', 'conditions'], (0, _immutable.List)());\n  var scheme = data.get('scheme');\n  var _useState7 = (0, _react.useState)((0, _immutable.List)()),\n    _useState8 = _slicedToArray(_useState7, 2),\n    secondFilterOptions = _useState8[0],\n    setSecondFilterOptions = _useState8[1];\n  var _useState9 = (0, _react.useState)((0, _utils.initSecondFilterValues)(secondFilterOptions)),\n    _useState10 = _slicedToArray(_useState9, 2),\n    secondFilterValues = _useState10[0],\n    setSecondFilterValues = _useState10[1];\n  var _useNlpSearch = (0, _nlpSearchUse.useNlpSearch)(),\n    _useNlpSearch2 = _slicedToArray(_useNlpSearch, 3),\n    nlpState = _useNlpSearch2[0],\n    nlpDispatch = _useNlpSearch2[1],\n    nlpSearchValueRef = _useNlpSearch2[2]; // 智能搜索\n  var schemes = data.getIn(['scheme', 'commonSchemes'], (0, _immutable.List)());\n  var entryenties = data.getIn(['scheme', 'entryenties']);\n  var defaultSchemeId = data.getIn(['scheme', 'defaultScheme', 'defaultSchemeId']);\n  var currentSelectedId = selected.getIn(['scheme', 'currentScheme', 'id']);\n  (0, _utils.useEventTracking)(false, visibleInfo, expand, data.get('commonLayoutType'));\n  var listfilterRef = (0, _react.useRef)(null);\n  // 用来判断当前触发搜索是否是用户字段的F7，是的话就在查询参数构造时，不添加 compare，防止 当前用户（103） 其他用户（104） 混淆\n  var noCompareUsers = (0, _react.useRef)({});\n  var latestF7User = (0, _react.useRef)('');\n  var initNoCompareUsers = function initNoCompareUsers(initArg) {\n    noCompareUsers.current = initArg;\n  };\n  (0, _react.useEffect)(function () {\n    // F7 选中后的回传值 只在F7的值有更新的时候，从store中取值出来更新当前状态\n    if (selected.get('secondfilter')) {\n      setSecondFilterValues(secondFilterValues.merge(selected.get('secondfilter')));\n    }\n  }, [selected.get('secondfilter')]);\n  (0, _react.useEffect)(function () {\n    // 配置项变更后，需要对已有值进行保留，且保证顺序\n    if (secondFilterOptions) {\n      setSecondFilterValues((0, _utils.mixSecondFilterValues)(secondFilterOptions, secondFilterValues));\n    }\n  }, [secondFilterOptions]);\n  (0, _react.useEffect)(function () {\n    var filterOptionsKeys;\n    var conditions = scheme.get('conditions') || (0, _immutable.List)();\n    if ((schemeFilterConfig === null || schemeFilterConfig === void 0 ? void 0 : schemeFilterConfig.size) > 0) {\n      var userConfig = schemeFilterConfig.get('user');\n      var factoryConfig = schemeFilterConfig.get('factory');\n      var configWithUser = (0, _utils3.getConfigWithUser)(userConfig, factoryConfig);\n      filterOptionsKeys = (0, _utils3.getOptionKeysFromConfig)(configWithUser);\n    }\n    filterOptionsKeys = filterOptionsKeys || scheme.get('fixedfilters') || [];\n    setSecondFilterOptions((0, _utils.getSecondFilterOptions)(filterOptionsKeys, conditions));\n  }, [schemeFilterConfig]);\n\n  // 更新当前交互的用户字段F7\n  var updateNoCompareUsers = function updateNoCompareUsers(field, hasCompare) {\n    noCompareUsers.current[field] = hasCompare;\n  };\n\n  // createFilter columns reducer 后的一些逻辑处理\n  (0, _react.useEffect)(function () {\n    var commonCondition = data.get('common');\n    var initParam = {};\n    commonCondition.filter(function (item) {\n      return (item === null || item === void 0 ? void 0 : item.get('type')) === 'user';\n    }).forEach(function (commonOption) {\n      var optioinItems = commonOption === null || commonOption === void 0 ? void 0 : commonOption.get('items');\n      var noCompare = false;\n      for (var i = 0; i < optioinItems.size; i++) {\n        var optionItem = optioinItems.get(i);\n        if (!(optionItem !== null && optionItem !== void 0 && optionItem.has('compare')) && ((optionItem === null || optionItem === void 0 ? void 0 : optionItem.get('value')) === CUR_USER || (optionItem === null || optionItem === void 0 ? void 0 : optionItem.get('value')) === NOT_CUR_USER)) {\n          noCompare = true;\n          break;\n        }\n      }\n      initParam[commonOption === null || commonOption === void 0 ? void 0 : commonOption.get('fieldName')] = noCompare;\n    });\n    initNoCompareUsers(initParam);\n    var needResearch = (0, _memoryCacher.getPageData)(pageId, [key, _constants2.NEED_RESEARCH]);\n    if (needResearch) {\n      (0, _memoryCacher.setPageData)(pageId, [key, _constants2.NEED_RESEARCH], false);\n      commonSearch(selected);\n    }\n  }, [selected.get('_update_timestamp_')]);\n\n  // 删除方案后重新选择方案/常用查询\n  (0, _react.useEffect)(function () {\n    if (selected.get('deleteSchemeSearch')) {\n      selectFilterAfterDelete();\n    }\n  }, [selected.get('deleteSchemeSearch')]);\n  (0, _react.useEffect)(function () {\n    if ((editting === null || editting === void 0 ? void 0 : editting.size) > 0) {\n      updateCurEdittingScheme(editting === null || editting === void 0 ? void 0 : editting.get('scheme'));\n    }\n  }, [editting === null || editting === void 0 ? void 0 : editting.get('scheme')]);\n\n  // 常用条件f7弹窗选择条件后需要重新查询\n  (0, _react.useEffect)(function () {\n    if (selected.get('f7CommonSearch')) {\n      // 兼容用户字段选中103 104 等和枚举值一致的value的场景\n      latestF7User.current = selected.get('f7CommonSearch');\n      commonSearch(selected, _constants2.NOT_TRIGGER_SEARCH);\n      // 使用后需要重置参数，防止影响后续判断\n      latestF7User.current = '';\n    }\n  }, [selected.get('f7CommonSearch')]);\n  var selectFilterAfterDelete = function selectFilterAfterDelete() {\n    // 删除最后一个方案的时候，在列表中要回到选中常用过滤\n    if (schemes.size > 0) {\n      handleSelect(defaultSchemeId || schemes.getIn([0, 'id']));\n    } else {\n      if (showCommon) {\n        commonSearch(selected);\n      } else {\n        // 做一个初始状态的查询\n        initSchemeSearch();\n      }\n      return;\n    }\n    setExpand(false);\n  };\n  // 无方案的场景，只是带默认条件\n  var initSchemeSearch = function initSchemeSearch() {\n    var newSelectedScheme = getNewScheme();\n    var newSelected = selected.set('scheme', newSelectedScheme);\n    onSelectedChange(newSelected);\n    schemeSearch(newSelected);\n  };\n  var handleConditionChange = function handleConditionChange(key, value) {\n    var newValues = secondFilterValues.set(key, value);\n    setSecondFilterValues(newValues);\n  };\n  var handleSecondFilterSearch = function handleSecondFilterSearch() {\n    triggerSecondFilterSearch(secondFilterValues);\n  };\n  var resetSecondFilterSearch = function resetSecondFilterSearch() {\n    setSecondFilterValues((0, _utils.initSecondFilterValues)(secondFilterOptions));\n    // 重置之后需要触发查询\n    triggerSecondFilterSearch((0, _utils.initSecondFilterValues)(secondFilterOptions));\n  };\n  var updateCurEdittingScheme = function updateCurEdittingScheme(selectedScheme) {\n    setEditingScheme(selectedScheme);\n  };\n  var doSelectScheme = function doSelectScheme(filterId) {\n    var newSelectedScheme = (0, _utils.getSelectedScheme)(data, selected, filterId);\n    var newSelected = selected.set('scheme', resetSchemeStatus(newSelectedScheme));\n    onSelectedChange(newSelected); // 更新store\n    schemeSearch(newSelected); // 发送请求\n  };\n  var handleSelect = function handleSelect(filterId) {\n    if (!filterId) {\n      // 新增方案\n      setExpand(true);\n      eventTracking(_constants2.EVENT_TRACK_PROP.addScheme, 'filter_panel_add');\n      return;\n    }\n    // F7 下拉选方案，可能出现selected和当前高亮方案不一致的场景，需要触发搜索并更新高亮方案\n    if (filterId !== currentSelectedId || filterId !== (edittingScheme === null || edittingScheme === void 0 ? void 0 : edittingScheme.get('id'))) {\n      if (filterId === _constants.COMMON_ID) {\n        var newSelectedScheme = selectedScheme.set('currentScheme', (0, _immutable.Map)())[\"delete\"]('status');\n        var newSelected = selected.set('scheme', newSelectedScheme);\n        onSelectedChange(newSelected); // 更新store\n        commonSearch(newSelected); // 发送请求\n      } else {\n        doSelectScheme(filterId);\n      }\n    }\n  };\n  var commonSearch = function commonSearch(newSelected, notTriggerSearch) {\n    var fastConditions = (0, _utils.getFastConditions)(newSelected.get('fast'), (0, _utils.getFastOptions)(data.get('fast'), newSelected));\n    var commonConditions = (0, _utils.getCommonConditions)(newSelected.get('common'), data.get('common'), {\n      latestF7User: latestF7User.current,\n      noCompareUsers: noCompareUsers.current\n    });\n    var entryenties = data.getIn(['scheme', 'entryenties']);\n    var selectedEntryEntity = (0, _utils.getSelectedEntryEntity)(newSelected.getIn(['scheme', 'grids']), entryenties);\n    var args = [fastConditions, commonConditions, selectedEntryEntity];\n    onCommonSearch(args, notTriggerSearch);\n  };\n  var schemeSearch = function schemeSearch(newSelected) {\n    var fastConditions = (0, _utils.getFastConditions)(newSelected.get('fast'), (0, _utils.getFastOptions)(data.get('fast'), newSelected));\n    var schmeConditions = (0, _utils.getSchmeSearchConditons)(newSelected.get('scheme'), secondFilterValues, conditionOptions);\n    var secondFilterConditions = (0, _utils.getSchemeSecondFilterConditions)(secondFilterValues, conditionOptions);\n    var entryenties = data.getIn(['scheme', 'entryenties']);\n    var selectedEntryEntity = (0, _utils.getSelectedEntryEntity)(newSelected.getIn(['scheme', 'grids']), entryenties);\n    var schemeId = newSelected.getIn(['scheme', 'currentScheme', 'id']);\n    var args = [fastConditions, schmeConditions, selectedEntryEntity, secondFilterConditions];\n    updateCurEdittingScheme(newSelected.get('scheme'));\n    onSchemeSearch(args, schemeId);\n  };\n  var handleFastConditionsChange = function handleFastConditionsChange(fastConditions) {\n    var newSelected = selected.set('fast', fastConditions);\n    onSelectedChange(newSelected);\n  };\n  var handleFastSearch = function handleFastSearch(fastConditions) {\n    if (isCommon) {\n      commonSearch(selected.set('fast', fastConditions));\n    } else {\n      schemeSearch(selected.set('fast', fastConditions));\n    }\n  };\n\n  // 常用条件变化(直接触发查询)\n  var handleCommonSelectedChange = function handleCommonSelectedChange(commonSelected) {\n    var newSelected = selected.set('common', commonSelected);\n    onSelectedChange(newSelected);\n    commonSearch(newSelected, _constants2.NOT_TRIGGER_SEARCH);\n  };\n  var changeSelectedIgnoreTrigger = function changeSelectedIgnoreTrigger(commonSelected) {\n    // 删除已选条件，一定要触发搜索\n    var newSelected = selected.set('common', commonSelected);\n    onSelectedChange(newSelected);\n    commonSearch(newSelected);\n  };\n  var triggerSearch = function triggerSearch() {\n    // 兼容基础资料值修改完成后立马查询的场景，需要等待基础资料更新完成后再请求\n    commonSearch(selected);\n  };\n\n  // 二次过滤手动触发搜索\n  var triggerSecondFilterSearch = function triggerSecondFilterSearch(secondFilterValues) {\n    var fastConditions = (0, _utils.getFastConditions)(selected.get('fast'), (0, _utils.getFastOptions)(data.get('fast'), selected));\n    var schmeConditions = (0, _utils.getSchmeSearchConditons)(selected.get('scheme'), secondFilterValues, conditionOptions);\n    var secondFilterConditions = (0, _utils.getSchemeSecondFilterConditions)(secondFilterValues, conditionOptions);\n    var entryenties = data.getIn(['scheme', 'entryenties']);\n    var selectedEntryEntity = (0, _utils.getSelectedEntryEntity)(selected.getIn(['scheme', 'grids']), entryenties);\n    var schemeId = selected.getIn(['scheme', 'currentScheme', 'id']);\n    var args = [fastConditions, schmeConditions, selectedEntryEntity, secondFilterConditions];\n    updateCurEdittingScheme(selected.get('scheme'));\n    onSchemeSearch(args, schemeId);\n  };\n\n  // 新增方案\n  var handleSchemeAdd = function handleSchemeAdd() {\n    if (addSchemes.get(0)) {\n      selectAddScheme();\n    } else {\n      addNewScheme();\n    }\n  };\n  var _setEditStatus = function _setEditStatus(status) {\n    // 存一份去store中，方便判断后续交互是编辑中的还是选择的\n    onEditStatusChange(status);\n    setEditSchemeMoldal(status);\n  };\n  var getNewScheme = function getNewScheme() {\n    if (addSchemes.get(0)) {\n      var addScheme = addSchemes.get(0);\n      var grids = (0, _utils.getSelectedGrids)(addScheme.get('entryEntity'), entryenties);\n      var newSelectedScheme = selectedScheme.set('advance', addScheme.get('advance')).set('add', addScheme.get('add')).setIn(['currentScheme', 'id'], addScheme.get('id')).setIn(['currentScheme', 'schemeName'], addScheme.get('schemeName')).set('isDefault', false).set('status', _constants.SCHME_STATUS.add).set('grids', grids);\n      return newSelectedScheme;\n    } else {\n      var advanceCoditions = (0, _utils.getDefaultAdvanceConditions)(data.get('scheme'));\n      var _grids = (0, _utils.getDefaultGrids)(data.get('scheme'), selectedScheme.get('grids'));\n      var addSchemeId = (0, _componentutil.createNewId)();\n      var _newSelectedScheme = selectedScheme.set('advance', advanceCoditions).set('add', (0, _immutable.List)()).set('status', _constants.SCHME_STATUS.add).set('isDefault', false).setIn(['currentScheme', 'id'], addSchemeId).setIn(['currentScheme', 'schemeName'], '').set('grids', _grids);\n      return _newSelectedScheme;\n    }\n  };\n  var addNewScheme = function addNewScheme() {\n    var advanceCoditions = (0, _utils.getDefaultAdvanceConditions)(data.get('scheme'));\n    var grids = (0, _utils.getDefaultGrids)(data.get('scheme'), selectedScheme.get('grids'));\n    var addSchemeId = (0, _componentutil.createNewId)();\n    var entryenties = data.getIn(['scheme', 'entryenties']);\n    var entryEntity = (0, _utils.getSelectedEntryEntity)(grids, entryenties);\n    var addScheme = (0, _immutable.Map)({}).set('advance', advanceCoditions).set('add', (0, _immutable.List)()).set('schemeName', '').set('id', addSchemeId).set('entryEntity', entryEntity);\n    var newAddSchemes = addSchemes.push(addScheme);\n    onAddSchemesChange(newAddSchemes); // 更新addSchemes store\n\n    var newSelectedScheme = selectedScheme.set('advance', advanceCoditions).set('add', (0, _immutable.List)()).set('status', _constants.SCHME_STATUS.add).set('isDefault', false).setIn(['currentScheme', 'id'], addSchemeId).setIn(['currentScheme', 'schemeName'], '').set('grids', grids);\n    updateCurEdittingScheme(newSelectedScheme);\n    onEdittingChange(newSelectedScheme);\n    _setEditStatus(true);\n  };\n  var selectAddScheme = function selectAddScheme() {\n    var addScheme = addSchemes.get(0);\n    var grids = (0, _utils.getSelectedGrids)(addScheme.get('entryEntity'), entryenties);\n    var newSelectedScheme = selectedScheme.set('advance', addScheme.get('advance')).set('add', addScheme.get('add')).setIn(['currentScheme', 'id'], addScheme.get('id')).setIn(['currentScheme', 'schemeName'], addScheme.get('schemeName')).set('isDefault', false).set('status', _constants.SCHME_STATUS.add).set('grids', grids);\n    updateCurEdittingScheme(newSelectedScheme);\n    onEdittingChange(newSelectedScheme);\n    _setEditStatus(true);\n  };\n  var handleSchemeDelete = function handleSchemeDelete(schemeId) {\n    onSchemeDelete(schemeId);\n  };\n  var handleFilterClear = function handleFilterClear() {\n    eventTracking(_constants2.EVENT_TRACK_PROP.clearScheme, 'true');\n    initSchemeSearch();\n  };\n  var handleFieldBtnClick = function handleFieldBtnClick(_ref2) {\n    var type = _ref2.type,\n      fieldName = _ref2.fieldName,\n      compareType = _ref2.compareType,\n      clientType = _ref2.clientType,\n      rowIndex = _ref2.rowIndex,\n      entityId = _ref2.entityId,\n      secondFilterValues = _ref2.secondFilterValues;\n    // 如果点击F7的时候，过滤项本身没有值，需要塞一个到方案过滤的参数中，和旧逻辑保持一致，同时对应下标+1\n    if (secondFilterValues && secondFilterValues.get(fieldName) === undefined) {\n      secondFilterValues = secondFilterValues.set(fieldName, (0, _immutable.fromJS)({\n        ids: [''],\n        values: ['']\n      }));\n      rowIndex = rowIndex + 1;\n    }\n    var _schemeConditions = (0, _utils.getSchmeSearchConditons)(edittingScheme, secondFilterValues, conditionOptions);\n    var secondFilterConditions = (0, _utils.getSchemeSecondFilterConditions)(secondFilterValues, conditionOptions);\n    var entryenties = data.getIn(['scheme', 'entryenties']);\n    var selectedEntryEntity = (0, _utils.getSelectedEntryEntity)(selected.getIn(['scheme', 'grids']), entryenties);\n    var schemeConditions = [_schemeConditions, selectedEntryEntity, secondFilterConditions];\n    onFieldBtnClick({\n      type: type,\n      fieldName: fieldName,\n      compareType: compareType,\n      clientType: clientType,\n      rowIndex: rowIndex,\n      entityId: entityId,\n      schemeConditions: schemeConditions\n    });\n  };\n  var handleSchemeF7LookUp = function handleSchemeF7LookUp(_ref3) {\n    var entityId = _ref3.entityId,\n      fieldName = _ref3.fieldName,\n      value = _ref3.value;\n    var _schemeConditions = (0, _utils.getSchmeSearchConditons)(selectedScheme);\n    var entryenties = data.getIn(['scheme', 'entryenties']);\n    var selectedEntryEntity = (0, _utils.getSelectedEntryEntity)(selected.getIn(['scheme', 'grids']), entryenties);\n    var schemeConditions = [_schemeConditions, selectedEntryEntity];\n    onSchemeF7LookUp({\n      entityId: entityId,\n      fieldName: fieldName,\n      value: value,\n      schemeConditions: schemeConditions\n    });\n  };\n\n  // 手动触发查询\n  var handleSchemeSearch = function handleSchemeSearch() {\n    var isAdd = selected.getIn(['scheme', 'status']) === _constants.SCHME_STATUS.add;\n    var newSelected = selected;\n    if (!isAdd) {\n      // 新增时手动查询不改变状态\n      newSelected = selected.setIn(['scheme', 'status'], _constants.SCHME_STATUS.search);\n      onSelectedChange(newSelected);\n    }\n    schemeSearch(newSelected);\n    eventTracking(_constants2.EVENT_TRACK_PROP.search, 'true');\n  };\n  var handleSelectGridsChange = function handleSelectGridsChange(grids) {\n    var newSelected = selected.setIn(['scheme', 'grids'], (0, _immutable.fromJS)(grids));\n    onSelectedChange(newSelected);\n    commonSearch(newSelected, _constants2.NOT_TRIGGER_SEARCH);\n  };\n\n  // 智能搜索\n  var handleNlpSearch = function handleNlpSearch(value) {\n    nlpSearchValueRef.current = value;\n    onNlpSearch(value);\n  };\n  var handleSchemeSetDefault = function handleSchemeSetDefault(schemeId, isDefault) {\n    onSchemeSetDefault(schemeId, isDefault);\n    eventTracking(_constants2.EVENT_TRACK_PROP.setDefault, isDefault ? 'true' : 'false');\n  };\n\n  // 归档\n  var handleArchiveChange = function handleArchiveChange(archiveKey) {\n    setPostValue({\n      archiveKey: archiveKey\n    });\n    if (isCommon) {\n      commonSearch(selected);\n    } else {\n      schemeSearch(selected);\n    }\n  };\n  var handleSaveCommonConfig = function handleSaveCommonConfig(commonUserConfig) {\n    var fastConditions = (0, _utils.getFastConditions)(selected.get('fast'), (0, _utils.getFastOptions)(data.get('fast'), selected));\n    var commonConditions = (0, _utils.getCommonConditions)(selected.get('common'), data.get('common'), {\n      latestF7User: latestF7User.current,\n      noCompareUsers: noCompareUsers.current\n    });\n    var entryenties = data.getIn(['scheme', 'entryenties']);\n    var selectedEntryEntity = (0, _utils.getSelectedEntryEntity)(selected.getIn(['scheme', 'grids']), entryenties);\n    var args = [commonUserConfig, fastConditions, commonConditions, selectedEntryEntity];\n    saveCommonConfig(args);\n  };\n  var handleSaveSchemeConfig = function handleSaveSchemeConfig(userConfig, newSchemeFilterConfig) {\n    var args = [userConfig];\n    saveSchemeFilterConfig(args, newSchemeFilterConfig);\n  };\n  var handleSwitchFilterMode = function handleSwitchFilterMode(isScheme) {\n    return function () {\n      var newSelected = selected.set('isSwitchMode', true);\n      onSelectedChange(newSelected);\n      switchFilterMode([0, !defaultSchemeId ? 'common' : 'scheme', defaultSchemeId || '']);\n      eventTracking(_constants2.EVENT_TRACK_PROP.switchOldVersion, isScheme ? 'scheme' : 'common');\n    };\n  };\n  var handleSchemeShare = function handleSchemeShare(schemeId, isEdit) {\n    onSchemeShare(schemeId, isEdit);\n    eventTracking(_constants2.EVENT_TRACK_PROP.share, 'true');\n  };\n  var handleToggle = function handleToggle() {\n    var isExpand = !expand;\n    setExpand(isExpand);\n    setFoldPageUIState(!isExpand);\n    toggleExpand([isExpand]);\n  };\n  var handleEdit = function handleEdit(editId) {\n    var edittingScheme = resetSchemeStatus((0, _utils.getSelectedScheme)(data, selected, editId));\n    updateCurEdittingScheme(edittingScheme);\n    onEdittingChange(edittingScheme);\n    _setEditStatus(true);\n  };\n  var resetSchemeStatus = function resetSchemeStatus(edittingScheme) {\n    return edittingScheme[\"delete\"]('status');\n  };\n  var handleChangeConditions = function handleChangeConditions(editschme, isAdd) {\n    updateCurEdittingScheme(editschme);\n    onEdittingChange(editschme);\n  };\n  var handleSchemeSave = function handleSchemeSave(args) {\n    var newSelected = selected.set('scheme', edittingScheme.remove('status'));\n    onSchemeSave(args);\n    // 保存方案后，由于后端无法缓存快速搜索条件，所以由前端主动触发一次搜索,如果只保存方案不搜索，则会引起一系列交互问题\n    schemeSearch(newSelected);\n    onSelectedChange(newSelected);\n  };\n  var closeEditModal = function closeEditModal() {\n    _setEditStatus(false);\n  };\n  var pageId = model.pageId,\n    key = model.key;\n  var showExpand = showCommon || showScheme;\n  var showFilterSelect = showScheme;\n  var showLinkQuery = linkQuery && !smartMeta;\n  var againLinkSearch = data.getIn(['scheme', 'againLinkSearch']);\n  var showSelectedConditions = isCommon && !expand && (!showLinkQuery || againLinkSearch);\n  var showPinnedConditions = (!showLinkQuery || againLinkSearch) && !isCommon;\n  var clearable = !isCommon && currentFilterName;\n  var titleCom = /*#__PURE__*/_react[\"default\"].createElement(_title.ListFilterTitle, {\n    title: title,\n    slot: slot\n  });\n  var quicksearchCom = /*#__PURE__*/_react[\"default\"].createElement(_quickSearch.QuickSearch, {\n    pageId: model.pageId,\n    lang: lang,\n    smartMeta: smartMeta,\n    onNlpSearch: handleNlpSearch,\n    nlpDispatch: nlpDispatch,\n    fastOptions: (0, _utils.getFastOptions)(data.get('fast'), selected),\n    fastConditions: selected.get('fast'),\n    nlpSearchInfo: nlpState,\n    onFastConditionsChange: handleFastConditionsChange,\n    onFastSearch: handleFastSearch,\n    useOrReplaceBlank: useOrReplaceBlank,\n    downKeyFocus: downKeyFocus\n  });\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", _extends({\n    className: (0, _classnames5[\"default\"])('kd-cq-control kd-cq-querypanel', _index[\"default\"]['list-filter'], 'primary-text-in-light'),\n    style: style\n  }, otherAttachData, {\n    ref: listfilterRef\n  }), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames5[\"default\"])('kd-cq-querypanel-header', _index[\"default\"]['filter-header'])\n  }, titleCom, /*#__PURE__*/_react[\"default\"].createElement(_ArchiveSelect.ArchiveSelect, {\n    archiveData: archiveData,\n    onArchiveChange: handleArchiveChange\n  }), showFilterSelect ? /*#__PURE__*/_react[\"default\"].createElement(_filterSelect.FilterSelect, {\n    userLocal: userLocal,\n    shareable: shareable,\n    showFormByTips: showFormByTips,\n    defaultSchemeId: defaultSchemeId,\n    selected: selected,\n    clearable: clearable,\n    selectedScheme: selectedScheme,\n    scheme: scheme,\n    schemes: schemes,\n    onSelect: handleSelect,\n    showAddBtn: showScheme,\n    showCommon: showCommon,\n    onSchemeDelete: handleSchemeDelete,\n    onSchemeShare: handleSchemeShare,\n    onSchemeSetDefault: handleSchemeSetDefault,\n    handleEdit: handleEdit,\n    closeEditModal: closeEditModal,\n    onSchemeAdd: handleSchemeAdd,\n    editSchemeModal: editSchemeModal,\n    isCommon: isCommon,\n    onClear: handleFilterClear\n  }) : null, showLinkQuery ? /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _index[\"default\"]['link-query']\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: _index[\"default\"]['link-query-info'],\n    title: linkQuery.get('content')\n  }, linkQuery.get('content')), /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: (0, _classnames5[\"default\"])(_index[\"default\"].icon, 'hover-theme-fc'),\n    onClick: onLinkQueryClose\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n    className: (0, _classnames5[\"default\"])(_index[\"default\"]['c-icon-close'], 'kdfont kdfont-shanchu-s secondary-text-in-light')\n  }))) : null, showPinnedConditions ? /*#__PURE__*/_react[\"default\"].createElement(_pinnedConditions.PinnedConditions, {\n    pinnedConditions: pinnedConditions\n  }) : null, showSelectedConditions ? /*#__PURE__*/_react[\"default\"].createElement(_selectedConditions.SelectCondition, {\n    lang: lang,\n    commonSelected: selected.get('common'),\n    commonOptions: data.get('common'),\n    onCommonSelectedChange: changeSelectedIgnoreTrigger\n  }) : /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _index[\"default\"].empty\n  }), showQuick ? quicksearchCom : null, showExpand ? /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames5[\"default\"])('kd-cq-querypanel-header-title', _index[\"default\"].collapse, 'theme-fc hover-theme-fc'),\n    onClick: handleToggle\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", null, expand ? (0, _intlApi.getLangMsg)({\n    key: 'QueryPanel.key0012'\n  }) : (0, _intlApi.getLangMsg)({\n    key: 'QueryPanel.key0013'\n  })), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames5[\"default\"])(_index[\"default\"].icon, _defineProperty({}, _index[\"default\"].expand, expand))\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n    className: (0, _classnames5[\"default\"])(_defineProperty(_defineProperty({}, _index[\"default\"]['collapse-icon'], true), 'kdfont kdfont-xiala', true))\n  }))) : null), isCommon && /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames5[\"default\"])('kd-cq-querypanel-content', _index[\"default\"]['expand-panel-common'], _defineProperty({}, _index[\"default\"].contentshow, expand))\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _index[\"default\"]['common-scroll']\n  }, /*#__PURE__*/_react[\"default\"].createElement(_commonSearch.CommonSearch, {\n    commonLayoutType: data.get('commonLayoutType'),\n    lang: lang,\n    showMultiGrids: showMultiGrids,\n    grids: selected.getIn(['scheme', 'grids'], (0, _immutable.List)()),\n    entryenties: entryenties,\n    onSelectGridsChange: handleSelectGridsChange,\n    saveCommonConfig: handleSaveCommonConfig,\n    commonFilterConfig: commonFilterConfig,\n    onCommonF7Click: onCommonF7Click,\n    getCommonFilterConfig: getCommonFilterConfig,\n    commonOptions: data.get('common'),\n    commonSelected: selected.get('common'),\n    onCommonSelectedChange: handleCommonSelectedChange,\n    onF7LookUp: onF7LookUp,\n    switchFilterMode: handleSwitchFilterMode(),\n    isInnerUser: shareable,\n    triggerSearch: triggerSearch,\n    resetSearchCondition: resetSearchCondition,\n    autoTriggerSearch: autoTriggerSearch,\n    isLookUp: false,\n    updateNoCompareUsers: updateNoCompareUsers,\n    noCompareUsers: noCompareUsers\n  }))), !isCommon ? /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames5[\"default\"])('kd-cq-querypanel-content', _index[\"default\"]['expand-panel-common'], _defineProperty({}, _index[\"default\"].contentshow, expand))\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _index[\"default\"]['common-scroll']\n  }, /*#__PURE__*/_react[\"default\"].createElement(_secondFilter.SecondFilter, {\n    saveSchemeFilterConfig: handleSaveSchemeConfig,\n    schemeFilterConfig: schemeFilterConfig,\n    getSchemeFilterConfig: getSchemeFilterConfig,\n    lang: lang,\n    onFieldBtnClick: handleFieldBtnClick,\n    secondFilterOptions: secondFilterOptions,\n    onResetSecondFilterSearch: resetSecondFilterSearch,\n    onSecondFilterSearch: handleSecondFilterSearch,\n    onConditionChange: handleConditionChange,\n    onF7LookUp: handleSchemeF7LookUp,\n    isInnerUser: shareable,\n    switchFilterMode: handleSwitchFilterMode(true),\n    isLookUp: false,\n    selectedScheme: selectedScheme,\n    secondFilterValues: secondFilterValues\n  }))) : null, editSchemeModal ? /*#__PURE__*/_react[\"default\"].createElement(_schemeEditModel[\"default\"], {\n    defaultSchemeId: defaultSchemeId,\n    entryenties: entryenties,\n    showMultiGrids: showMultiGrids,\n    closeEditModal: closeEditModal,\n    schemes: schemes,\n    addSchemes: addSchemes,\n    conditionOptions: conditionOptions,\n    onAddSchemesChange: onAddSchemesChange,\n    onSchemeSave: handleSchemeSave,\n    onFieldBtnClick: handleFieldBtnClick,\n    onSchemeDelete: handleSchemeDelete,\n    shareable: shareable,\n    onSchemeShare: onSchemeShare,\n    onEditSchemeChange: handleChangeConditions,\n    onSchemeSearch: handleSchemeSearch,\n    onSchemeSetDefault: onSchemeSetDefault,\n    showComplexSchema: data.getIn(['scheme', 'showComplexSchema']),\n    fieldsDependent: data.getIn(['scheme', 'fieldsDependent']),\n    titleCom: titleCom,\n    quicksearchCom: quicksearchCom,\n    isLookUp: false,\n    edittingScheme: edittingScheme,\n    dataPageId: \"\".concat(pageId, \"_\").concat(key, \"_\").concat(_constants.TABLE_COLUMNS_KEY),\n    sortDataPageId: \"\".concat(pageId, \"_\").concat(key, \"_\").concat(_constants.TABLE_SORT_COLUMNS_KEY),\n    onF7LookUp: handleSchemeF7LookUp,\n    getSchemeColumns: getSchemeColumns,\n    getSchemeSortColumns: getSchemeSortColumns\n  }) : null);\n};\nvar _default = exports[\"default\"] = ListFilter;\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/index.js?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/nlpSearchUse.js":
/*!***********************************************************!*\
  !*** ./src/component/web/base/ListFilter/nlpSearchUse.js ***!
  \***********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-properties.js */ \"../../node_modules/core-js/modules/es.object.define-properties.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptors.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.useNlpSearch = void 0;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/web.timers.js */ \"../../node_modules/core-js/modules/web.timers.js\");\nvar _react = __webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\");\nvar _invokeActionUtils = __webpack_require__(/*! @/component/common/invokeActionUtils */ \"./src/component/common/invokeActionUtils.js\");\nvar _memoryCacher = __webpack_require__(/*! @/model/memoryCacher */ \"./src/model/memoryCacher.js\");\nvar _utils = __webpack_require__(/*! ../../KDListFilter/utils */ \"./src/component/web/KDListFilter/utils.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar initNlpSearchStore = {\n  nlpSearchLoading: false,\n  // 智能搜索loading\n  nlpSearchResult: [],\n  // 智能搜索结果\n  nlpSearchResultDesc: '',\n  // 智能搜索解析语句\n  isSupportNlpSearch: false,\n  // 是否支持智能搜索\n  nlpDesc: '' // 智能搜索提示语\n};\nvar reducer = function reducer(state, action) {\n  var nlpDesc = action.nlpDesc,\n    nlpSearchResult = action.nlpSearchResult,\n    nlpSearchLoading = action.nlpSearchLoading,\n    isSupportNlpSearch = action.isSupportNlpSearch,\n    nlpSearchResultDesc = action.nlpSearchResultDesc;\n  switch (action.type) {\n    case 'setLoading':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        nlpSearchLoading: nlpSearchLoading\n      });\n    case 'setNlpSearchResult':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        nlpSearchResult: nlpSearchResult,\n        nlpSearchResultDesc: nlpSearchResultDesc\n      });\n    case 'setNlpDesc':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        nlpDesc: nlpDesc,\n        isSupportNlpSearch: true\n      });\n    case 'setIsSupportNlpSearch':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        isSupportNlpSearch: isSupportNlpSearch\n      });\n    case 'reset':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        nlpSearchLoading: false,\n        nlpSearchResult: [],\n        nlpSearchResultDesc: ''\n      });\n    default:\n      return state;\n  }\n};\nvar useNlpSearch = exports.useNlpSearch = function useNlpSearch() {\n  var _useReducer = (0, _react.useReducer)(reducer, initNlpSearchStore),\n    _useReducer2 = _slicedToArray(_useReducer, 2),\n    nlpState = _useReducer2[0],\n    dispatch = _useReducer2[1];\n  var _useContext = (0, _react.useContext)(_utils.FilterContext),\n    pageId = _useContext.pageId,\n    key = _useContext.key;\n  var delayEventTimer = (0, _react.useRef)(null);\n  var nlpSearchValueRef = (0, _react.useRef)('');\n  (0, _react.useEffect)(function () {\n    // nlpsearch返回结果事件订阅\n    (0, _memoryCacher.addDataChangeListener)(pageId, [key, 'nlpSearchResult'], setNlpSearchResult(nlpSearchValueRef, dispatch));\n\n    // 是否支持智能搜索事件订阅（后台会发送是否支持智能搜索的指令）\n    (0, _memoryCacher.addDataChangeListener)(pageId, [key, 'setIsSupportNlpSearch'], setIsSupportNlpSearch(dispatch));\n\n    // 初始化先拿一遍（指令执行会在组件渲染之前）\n    var memoryCacherDesc = (0, _memoryCacher.getPageData)(pageId, [key, 'setIsSupportNlpSearch']);\n    if (memoryCacherDesc) {\n      dispatch({\n        type: 'setNlpDesc',\n        nlpDesc: memoryCacherDesc\n      });\n    }\n    var removerloadingListener = (0, _invokeActionUtils.addAjaxStateListener)(pageId, key, 'nlpSearch', nlpSearchAjaxStateCallBack(nlpSearchValueRef, dispatch, delayEventTimer));\n    return function () {\n      removerloadingListener();\n    };\n  }, []);\n  return [nlpState, dispatch, nlpSearchValueRef];\n};\n\n/**\n * 设置nlpsearch 返回结果\n * @param {*} result\n */\nvar setNlpSearchResult = function setNlpSearchResult(nlpSearchValueRef, dispatch) {\n  return function (result) {\n    var filter = result.filter,\n      desc = result.desc,\n      searchContent = result.searchContent;\n    if (nlpSearchValueRef.current !== searchContent) return; // 判断是否是最新的请求\n    dispatch({\n      type: 'setNlpSearchResult',\n      nlpSearchResult: Array.isArray(filter) ? filter : [],\n      nlpSearchResultDesc: desc\n    });\n  };\n};\n\n/**\n   * 设置是否支持nlpsearch\n   * @param {*} result\n   */\nvar setIsSupportNlpSearch = function setIsSupportNlpSearch(dispatch) {\n  return function (desc) {\n    if (desc) {\n      dispatch({\n        type: 'setNlpDesc',\n        isSupportNlpSearch: true,\n        nlpDesc: desc\n      });\n    }\n  };\n};\n\n// 设置nlpsearch请求状态\nvar nlpSearchAjaxStateCallBack = function nlpSearchAjaxStateCallBack(nlpSearchValueRef, dispatch, delayEventTimer) {\n  return function (_ref) {\n    var value = _ref.value,\n      args = _ref.args;\n    if (nlpSearchValueRef.current !== args[0]) return; // 判断是否是最新的请求\n    if (delayEventTimer.current) {\n      clearTimeout(delayEventTimer.current);\n      delayEventTimer.current = null;\n    }\n    switch (value) {\n      case _invokeActionUtils.AJAX_PENDING:\n        delayEventTimer.current = setTimeout(function () {\n          return dispatch({\n            type: 'setLoading',\n            nlpSearchLoading: true\n          });\n        }, 300);\n        break;\n      case _invokeActionUtils.AJAX_SUCCESS:\n        dispatch({\n          type: 'setLoading',\n          nlpSearchLoading: false\n        });\n        break;\n      default:\n        dispatch({\n          type: 'reset'\n        });\n    }\n  };\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/nlpSearchUse.js?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/pinnedConditions/index.js":
/*!*********************************************************************!*\
  !*** ./src/component/web/base/ListFilter/pinnedConditions/index.js ***!
  \*********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.PinnedConditions = void 0;\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _conditionItem = __webpack_require__(/*! ../Components/conditionItem */ \"./src/component/web/base/ListFilter/Components/conditionItem/index.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nvar PinnedConditions = exports.PinnedConditions = function PinnedConditions(_ref) {\n  var pinnedConditions = _ref.pinnedConditions;\n  return /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, null, pinnedConditions.map(function (condition, index) {\n    var label = condition.get('key');\n    var value = condition.get('value');\n    return /*#__PURE__*/_react[\"default\"].createElement(_conditionItem.ConditionItem, {\n      key: index,\n      label: label,\n      value: value\n    });\n  }));\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/pinnedConditions/index.js?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/quickSearch/dropDownPanel.js":
/*!************************************************************************!*\
  !*** ./src/component/web/base/ListFilter/quickSearch/dropDownPanel.js ***!
  \************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.DropDownPanel = void 0;\n__webpack_require__(/*! core-js/modules/es.array.join.js */ \"../../node_modules/core-js/modules/es.array.join.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _reactDom = _interopRequireDefault(__webpack_require__(/*! react-dom */ \"webpack/sharing/consume/default/react-dom/react-dom?418d\"));\nvar _classnames = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nvar _LoadingGIF = _interopRequireDefault(__webpack_require__(/*! @/component/common/LoadingGIF */ \"./src/component/common/LoadingGIF.js\"));\nvar _singleSpa = __webpack_require__(/*! @/api/singleSpa */ \"./src/api/singleSpa.js\");\nvar _serverproperties = __webpack_require__(/*! @/constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _index = _interopRequireDefault(__webpack_require__(/*! ./index.less */ \"./src/component/web/base/ListFilter/quickSearch/index.less\"));\nvar _commonAnimation = _interopRequireDefault(__webpack_require__(/*! @/component/common/commonAnimation.less */ \"./src/component/common/commonAnimation.less\"));\nvar _utils = __webpack_require__(/*! ./utils */ \"./src/component/web/base/ListFilter/quickSearch/utils.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nvar DropDownPanel = exports.DropDownPanel = /*#__PURE__*/_react[\"default\"].forwardRef(function (_ref, ref) {\n  var lang = _ref.lang,\n    value = _ref.value,\n    nlpDesc = _ref.nlpDesc,\n    showTips = _ref.showTips,\n    fastOptions = _ref.fastOptions,\n    onSelectItem = _ref.onSelectItem,\n    selectedIndex = _ref.selectedIndex,\n    nlpSearchResult = _ref.nlpSearchResult,\n    nlpSearchLoading = _ref.nlpSearchLoading,\n    useOrReplaceBlank = _ref.useOrReplaceBlank,\n    isSupportNlpSearch = _ref.isSupportNlpSearch,\n    nlpSearchResultDesc = _ref.nlpSearchResultDesc;\n  var containEl = (0, _singleSpa.isSingleSpa)() ? (0, _singleSpa.getRootContainter)() : document.body;\n  var valueTip = useOrReplaceBlank === false ? value : (0, _utils.getValue2Array)(value).join(\" \".concat((0, _intlApi.getLangMsg)({\n    key: 'QueryPanel.key0014'\n  }), \" \")); // 搜索提示使用‘或’分割\n  return /*#__PURE__*/_reactDom[\"default\"].createPortal( /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    ref: ref,\n    className: (0, _classnames[\"default\"])('kd-cq-dropdown kd-cq-dropdown-select-type kd-cq-dropdown-menu-qs-list', _index[\"default\"]['qs-list'], _commonAnimation[\"default\"]['panel-drop-down-animation'])\n  }, showTips ? /*#__PURE__*/_react[\"default\"].createElement(\"div\", null, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames[\"default\"])('kd-cq-dropdown-menu-item kd-cq-dropdown-menu-item-quick-tips', _index[\"default\"]['quick-tips'])\n  }, (0, _intlApi.getLangMsg)({\n    key: useOrReplaceBlank === false ? 'QueryPanel.key0049' : 'QueryPanel.key0040'\n  })), isSupportNlpSearch && nlpDesc ? /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames[\"default\"])('kd-cq-dropdown-menu-item kd-cq-dropdown-menu-item-quick-tips', _index[\"default\"]['quick-tips'], _index[\"default\"]['tips-nlp'])\n  }, nlpDesc) : null) : /*#__PURE__*/_react[\"default\"].createElement(\"ul\", {\n    className: _index[\"default\"]['item-container']\n  }, fastOptions.map(function (item, index) {\n    var key = item.get('fieldName');\n    var label = key === _serverproperties.QP_QUAN_BU_ID ? (0, _intlApi.getLangMsg)({\n      key: 'QueryPanel.key0052'\n    }) : item.getIn(['fieldCaption', lang.current]);\n    var liCls = (0, _classnames[\"default\"])(_index[\"default\"].item, 'kd-cq-dropdown-menu-item secondary-text-in-light', {\n      'hover-bg': index === selectedIndex\n    });\n    // <li className={classnames({[styles['item']]: true, [styles['item-selected']]: index == this.state.selectedIndex})}\n    return /*#__PURE__*/_react[\"default\"].createElement(\"li\", {\n      className: liCls,\n      onMouseDown: function onMouseDown() {\n        return onSelectItem(key);\n      },\n      key: key\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", null, label, \"\\uFF1A \"), /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n      className: (0, _classnames[\"default\"])('primary-text-in-light select-inner-text')\n    }, valueTip));\n  }), isSupportNlpSearch && /*#__PURE__*/_react[\"default\"].createElement(NlpSearchResult, {\n    nlpSearchLoading: nlpSearchLoading,\n    nlpSearchResult: nlpSearchResult,\n    fastOptions: fastOptions,\n    nlpSearchResultDesc: nlpSearchResultDesc,\n    onSelectItem: onSelectItem,\n    selectedIndex: selectedIndex\n  }))), containEl);\n});\nvar NlpSearchResult = function NlpSearchResult(_ref2) {\n  var nlpSearchLoading = _ref2.nlpSearchLoading,\n    nlpSearchResult = _ref2.nlpSearchResult,\n    fastOptions = _ref2.fastOptions,\n    nlpSearchResultDesc = _ref2.nlpSearchResultDesc,\n    onSelectItem = _ref2.onSelectItem,\n    selectedIndex = _ref2.selectedIndex;\n  var itemCount = fastOptions.count();\n  var isSelected = !nlpSearchLoading && itemCount === selectedIndex;\n  var liCls = (0, _classnames[\"default\"])(_index[\"default\"].item, 'secondary-text-in-light', {\n    'theme select-selected': isSelected\n  });\n  if (nlpSearchLoading || nlpSearchResult.length > 0) {\n    return /*#__PURE__*/_react[\"default\"].createElement(\"li\", {\n      className: liCls,\n      onMouseDown: nlpSearchLoading ? function () {\n        return null;\n      } : function () {\n        return onSelectItem('', true);\n      }\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _index[\"default\"]['nlp-split-line']\n    }), nlpSearchLoading ? /*#__PURE__*/_react[\"default\"].createElement(_LoadingGIF[\"default\"], {\n      loadingType: 1,\n      style: {\n        marginTop: 5\n      }\n    }) : /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _index[\"default\"]['nlp-result'],\n      title: nlpSearchResultDesc\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", null, (0, _intlApi.getLangMsg)({\n      key: 'QueryPanel.key0048'\n    }), \"\\uFF1A \"), /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n      className: (0, _classnames[\"default\"])('primary-text-in-light select-inner-text')\n    }, nlpSearchResultDesc)));\n  }\n  return null;\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/quickSearch/dropDownPanel.js?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/quickSearch/index.js":
/*!****************************************************************!*\
  !*** ./src/component/web/base/ListFilter/quickSearch/index.js ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.QuickSearch = void 0;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.array.reduce.js */ \"../../node_modules/core-js/modules/es.array.reduce.js\");\n__webpack_require__(/*! core-js/modules/es.array.splice.js */ \"../../node_modules/core-js/modules/es.array.splice.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.trim.js */ \"../../node_modules/core-js/modules/es.string.trim.js\");\n__webpack_require__(/*! core-js/modules/web.timers.js */ \"../../node_modules/core-js/modules/web.timers.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _classnames4 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _defaultPropsUtil = __webpack_require__(/*! @/util/defaultPropsUtil */ \"./src/util/defaultPropsUtil.js\");\nvar _customProperties = _interopRequireDefault(__webpack_require__(/*! @/constant/customProperties */ \"./src/constant/customProperties.js\"));\nvar _keyCode = __webpack_require__(/*! @/constant/keyCode */ \"./src/constant/keyCode.js\");\nvar _index = _interopRequireDefault(__webpack_require__(/*! ./index.less */ \"./src/component/web/base/ListFilter/quickSearch/index.less\"));\nvar _utils = __webpack_require__(/*! ./utils */ \"./src/component/web/base/ListFilter/quickSearch/utils.js\");\nvar _dropDownPanel = __webpack_require__(/*! ./dropDownPanel */ \"./src/component/web/base/ListFilter/quickSearch/dropDownPanel.js\");\nvar _constants = __webpack_require__(/*! ../constants */ \"./src/component/web/base/ListFilter/constants.js\");\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _memoryCacher = __webpack_require__(/*! @/model/memoryCacher */ \"./src/model/memoryCacher.js\");\nvar _const = __webpack_require__(/*! @/constant/const */ \"./src/constant/const.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nvar INPUT_MIN_WIDTH = 4; // 输入框最小宽度（参考antd）\nvar INPUT_MAX_WIDTH = 368; // 输入框最大宽度\n\nvar QuickSearch = exports.QuickSearch = function QuickSearch(_ref) {\n  var pageId = _ref.pageId,\n    lang = _ref.lang,\n    smartMeta = _ref.smartMeta,\n    onNlpSearch = _ref.onNlpSearch,\n    nlpDispatch = _ref.nlpDispatch,\n    fastOptions = _ref.fastOptions,\n    onFastSearch = _ref.onFastSearch,\n    fastConditions = _ref.fastConditions,\n    useOrReplaceBlank = _ref.useOrReplaceBlank,\n    onFastConditionsChange = _ref.onFastConditionsChange,\n    downKeyFocus = _ref.downKeyFocus,\n    _ref$nlpSearchInfo = _ref.nlpSearchInfo,\n    nlpDesc = _ref$nlpSearchInfo.nlpDesc,\n    nlpSearchResult = _ref$nlpSearchInfo.nlpSearchResult,\n    nlpSearchLoading = _ref$nlpSearchInfo.nlpSearchLoading,\n    isSupportNlpSearch = _ref$nlpSearchInfo.isSupportNlpSearch,\n    nlpSearchResultDesc = _ref$nlpSearchInfo.nlpSearchResultDesc;\n  var _useState = (0, _react.useState)(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    focus = _useState2[0],\n    setFocus = _useState2[1];\n  var _useState3 = (0, _react.useState)(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    showPanel = _useState4[0],\n    setShowPanel = _useState4[1];\n  var _useState5 = (0, _react.useState)(''),\n    _useState6 = _slicedToArray(_useState5, 2),\n    value = _useState6[0],\n    setValue = _useState6[1];\n  var _useState7 = (0, _react.useState)(0),\n    _useState8 = _slicedToArray(_useState7, 2),\n    selectedIndex = _useState8[0],\n    setSelectedIndex = _useState8[1];\n  var _useState9 = (0, _react.useState)(INPUT_MIN_WIDTH),\n    _useState10 = _slicedToArray(_useState9, 2),\n    inputWidth = _useState10[0],\n    setInputWidth = _useState10[1];\n  var lastSearchConditions = (0, _react.useRef)((0, _immutable.List)());\n  var inputRef = (0, _react.useRef)(null);\n  var inputWrapRef = (0, _react.useRef)(null);\n  var inputMirrorRef = (0, _react.useRef)(null);\n  var panelRef = (0, _react.useRef)(null);\n  var timer = (0, _react.useRef)(null);\n  var chineseEdit = (0, _react.useRef)(false);\n  (0, _react.useEffect)(function () {\n    if (smartMeta) {\n      // 全局智能搜素需要重新调用一次查询接口（因为全局智能后台查询条件没有带上智能搜索解析的条件）\n      nlpDispatch({\n        type: 'setIsSupportNlpSearch',\n        isSupportNlpSearch: true\n      });\n      onFastSearch(fastConditions);\n    }\n  }, []);\n  (0, _react.useEffect)(function () {\n    var _panelRef$current;\n    computePanelPosition();\n    var listDOM = (_panelRef$current = panelRef.current) === null || _panelRef$current === void 0 ? void 0 : _panelRef$current.querySelector('ul');\n    listDOM === null || listDOM === void 0 || listDOM.addEventListener('mousemove', handleMouseMove);\n    return function () {\n      listDOM === null || listDOM === void 0 || listDOM.removeEventListener('mousemove', handleMouseMove);\n    };\n  }, [showPanel, inputWidth]);\n\n  // 输入框值变化时重新计算输入框宽度\n  (0, _react.useEffect)(function () {\n    computeInputWidth();\n  }, [value]);\n  var onNlpSearchDebounce = (0, _react.useCallback)(_lodash[\"default\"].debounce(onNlpSearch, 300), []);\n  var handleFastSearch = function handleFastSearch(fastConditions) {\n    lastSearchConditions.current = fastConditions;\n    onFastSearch(fastConditions);\n  };\n  var handleSelectItem = function handleSelectItem(fieldName, isNlpSearch) {\n    var _inputRef$current;\n    var validValue = value.trim();\n    var newCondition = {\n      k: fieldName,\n      v: useOrReplaceBlank === false ? [validValue] : (0, _utils.getValue2Array)(validValue)\n    };\n    if (fieldName === _constants.NLP_SEARCH_KEY || isNlpSearch) {\n      // 智能搜索条件\n      newCondition.nlpSearchResult = nlpSearchResult;\n      newCondition.isNlpSearch = true;\n    }\n    var newFastConditions = fastConditions.push((0, _immutable.fromJS)(newCondition));\n    onFastConditionsChange(newFastConditions); // 更新store\n    handleFastSearch(newFastConditions); // 查询\n    setShowPanel(false);\n    setSelectedIndex(0);\n    setValue('');\n    (_inputRef$current = inputRef.current) === null || _inputRef$current === void 0 || _inputRef$current.focus(); // 重新设置焦点\n  };\n  var handleFocus = function handleFocus() {\n    setFocus(true);\n    // 当前没有快速搜索条件，等展开动作完成后\n    if (fastConditions.count() < 1) {\n      timer.current = setTimeout(function () {\n        setShowPanel(true);\n      }, 200);\n    }\n  };\n  var handleCompositionStart = function handleCompositionStart() {\n    chineseEdit.current = true;\n  };\n  var handleCompositionEnd = function handleCompositionEnd(e) {\n    var value = e.target.value;\n    chineseEdit.current = false;\n    value && onNlpSearchDebounce(value);\n  };\n  var handleChange = function handleChange(e) {\n    var value = e.target.value;\n    // 没有条件或者当前值为不为空,则显示下拉面板\n    setShowPanel(value !== '' || fastConditions.count() < 1);\n    setValue(value);\n    if (isSupportNlpSearch) {\n      value && !chineseEdit.current && onNlpSearchDebounce(value);\n    }\n  };\n  var handleMouseMove = function handleMouseMove(e) {\n    var listItem = e.target;\n    while (listItem !== document.body) {\n      if (listItem.nodeName === 'LI') {\n        break;\n      }\n      listItem = listItem.parentElement;\n    }\n    var list = listItem.parentElement;\n    var targetIndex = Array.prototype.indexOf.call(list.children, listItem);\n    setSelectedIndex(targetIndex);\n  };\n  var handleKeyDown = function handleKeyDown(e) {\n    var showOptions = value && showPanel;\n    var hasNlpSearchResult = isSupportNlpSearch && !nlpSearchLoading && nlpSearchResult && nlpSearchResult.length > 0;\n    var optionSum = fastOptions.count();\n    if (hasNlpSearchResult) {\n      optionSum++;\n    }\n    switch (e.keyCode) {\n      case _keyCode.KEYS.UP:\n        {\n          if (showOptions) {\n            var nextIndex = selectedIndex - 1;\n            if (nextIndex < 0) {\n              nextIndex = optionSum - 1;\n            }\n            setSelectedIndex(nextIndex);\n          }\n          break;\n        }\n      case _keyCode.KEYS.DOWN:\n        {\n          if (showOptions) {\n            var _nextIndex = selectedIndex + 1;\n            if (_nextIndex >= optionSum) {\n              _nextIndex = 0;\n            }\n            setSelectedIndex(_nextIndex);\n          } else if (downKeyFocus) {\n            (0, _memoryCacher.setPageData)(pageId, _const.FOCUS_TARGET_KEY, downKeyFocus);\n            e.preventDefault();\n          }\n          break;\n        }\n      case _keyCode.KEYS.ENTER:\n        {\n          if (!value || fastOptions.count() === 0) {\n            setShowPanel(false);\n            setSelectedIndex(0);\n            setValue('');\n            // 没有条件并且上一次查询也没有条件则不发触发查询\n            if (fastConditions.count() === 0 && lastSearchConditions.current.count() === 0) {\n              return;\n            }\n            handleFastSearch(fastConditions);\n            return;\n          }\n          var option = fastOptions.get(selectedIndex);\n          var fieldName = option ? option.get('fieldName') : _constants.NLP_SEARCH_KEY; // 超过选项范围就是智能搜索\n          handleSelectItem(fieldName);\n          break;\n        }\n      case 8:\n        {\n          // Backspace 删除已选条件，还原输入框值\n          var fastConditionCount = fastConditions.count();\n          if (!value && fastConditionCount > 0) {\n            e.preventDefault();\n            var newFastConditions = fastConditions.splice(fastConditionCount - 1, 1);\n            var lastConditon = fastConditions.get(fastConditionCount - 1);\n            var lastValue = lastConditon.get('v').reduce(function (lastV, v, index) {\n              lastV += (index > 0 ? ' ' : '') + v;\n              return lastV;\n            }, '');\n            onFastConditionsChange(newFastConditions);\n            setValue(lastValue);\n          }\n          break;\n        }\n      case _keyCode.KEYS.ESC:\n        {\n          if (!showPanel) return;\n          e.stopPropagation();\n          handleBlur();\n          break;\n        }\n      default:\n    }\n  };\n\n  // 删除条件\n  var handleDeleteConditon = function handleDeleteConditon(index) {\n    return function () {\n      var _inputRef$current2;\n      var newFastConditions = fastConditions.splice(index, 1);\n      onFastConditionsChange(newFastConditions);\n      handleFastSearch(newFastConditions);\n      (_inputRef$current2 = inputRef.current) === null || _inputRef$current2 === void 0 || _inputRef$current2.focus();\n    };\n  };\n  var handleBlur = function handleBlur() {\n    if (timer.current) {\n      clearTimeout(timer.current);\n    }\n    setFocus(false);\n    setShowPanel(false);\n    setSelectedIndex(0);\n    var fastConditionCount = fastConditions.count();\n    // 当前输入框为空&&无快速搜索条件&&上次查询有快速搜索条件时触发查询\n    if (!value && fastConditionCount === 0 && lastSearchConditions.current.count() > 0) {\n      handleFastSearch([]);\n    }\n  };\n  var computePanelPosition = function computePanelPosition() {\n    if (showPanel && panelRef.current && inputWrapRef.current) {\n      var position = inputWrapRef.current.getBoundingClientRect();\n      var top = position.bottom;\n      var left = position.left;\n      panelRef.current.style.cssText = \"position:fixed;display:block;z-index:1050;width: \".concat(position.width, \"px;top: \").concat(top, \"px;left: \").concat(left, \"px;\");\n    }\n  };\n  var computeInputWidth = function computeInputWidth() {\n    var newInputWidth = getInputWidthByMirror();\n    if (newInputWidth && newInputWidth !== inputWidth) {\n      setInputWidth(newInputWidth);\n    }\n  };\n  var getInputWidthByMirror = function getInputWidthByMirror() {\n    var inputMirror = inputMirrorRef.current;\n    if (inputMirror) {\n      var inputMirrorWidth = Math.ceil(inputMirror.getBoundingClientRect().width);\n      if (inputMirrorWidth < INPUT_MIN_WIDTH) {\n        inputMirrorWidth = INPUT_MIN_WIDTH;\n      }\n      if (inputMirrorWidth > INPUT_MAX_WIDTH) {\n        inputMirrorWidth = INPUT_MAX_WIDTH;\n      }\n      return inputMirrorWidth;\n    }\n  };\n  var qsCondions = (0, _utils.getQSCondition)(fastOptions, fastConditions, isSupportNlpSearch, lang);\n  var isExpand = fastConditions.count() > 0 || focus;\n  var showTips = !value && fastConditions.count() < 1;\n  var inputTips = (0, _utils.getQSInputTips)(fastOptions, fastConditions, lang);\n  var searchWithAllBorder = (0, _defaultPropsUtil.getCommonDefaultProps)(_customProperties[\"default\"].FIELD_STYLE, true) === 2; // 所有字段都设置成边框模式\n\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames4[\"default\"])('kd-cq-control kd-cq-search-box', _defineProperty(_defineProperty(_defineProperty({}, _index[\"default\"]['quick-search'], true), _index[\"default\"]['qs-hasCondition'], isExpand), \"\".concat(_index[\"default\"]['all-border'], \" weak-1px-border hover-theme-bdcolor\"), searchWithAllBorder))\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames4[\"default\"])(_defineProperty(_defineProperty({}, _index[\"default\"]['qs-c'], true), \"borderBottom\", true)),\n    ref: inputWrapRef\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n    className: (0, _classnames4[\"default\"])(_defineProperty(_defineProperty({}, _index[\"default\"]['qc-flag'], true), 'kdfont kdfont-f input-color', true))\n  }), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _index[\"default\"]['qc-container']\n  }, qsCondions.map(function (_ref2, index) {\n    var key = _ref2.key,\n      title = _ref2.title,\n      conditions = _ref2.conditions;\n    return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      key: index,\n      className: _index[\"default\"]['qc-label'] + ' theme search-label'\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n      className: (0, _classnames4[\"default\"])(_index[\"default\"]['qc-l-delete'], 'kdfont kdfont-qingkong2 secondary-text-in-light', 'hover-error-fc-color'),\n      onClick: handleDeleteConditon(index)\n    }), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _index[\"default\"]['qc-l-title'],\n      title: title\n    }, title), /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n      className: _index[\"default\"]['qc-l-con'],\n      title: conditions\n    }, conditions));\n  }), /*#__PURE__*/_react[\"default\"].createElement(\"input\", {\n    ref: inputRef,\n    style: isExpand ? {\n      width: \"\".concat(inputWidth, \"px\")\n    } : null,\n    placeholder: inputTips,\n    autoComplete: \"new-password\",\n    className: (0, _classnames4[\"default\"])('kd-cq-querypanel-header-text', _index[\"default\"]['qc-input'] + ' primary-text-in-light'),\n    onChange: handleChange,\n    onCompositionStart: handleCompositionStart,\n    onCompositionEnd: handleCompositionEnd,\n    onKeyDown: handleKeyDown,\n    value: value,\n    onBlur: handleBlur,\n    onFocus: handleFocus,\n    \"data-support-enter-shortcut\": true\n  }), /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: _index[\"default\"]['input-mirror'],\n    ref: inputMirrorRef\n  }, value))), showPanel && /*#__PURE__*/_react[\"default\"].createElement(_dropDownPanel.DropDownPanel, {\n    ref: panelRef,\n    lang: lang,\n    value: value,\n    nlpDesc: nlpDesc,\n    showTips: showTips,\n    fastOptions: fastOptions,\n    onSelectItem: handleSelectItem,\n    selectedIndex: selectedIndex,\n    nlpSearchResult: nlpSearchResult,\n    nlpSearchLoading: nlpSearchLoading,\n    useOrReplaceBlank: useOrReplaceBlank,\n    isSupportNlpSearch: isSupportNlpSearch,\n    nlpSearchResultDesc: nlpSearchResultDesc\n  }));\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/quickSearch/index.js?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/quickSearch/utils.js":
/*!****************************************************************!*\
  !*** ./src/component/web/base/ListFilter/quickSearch/utils.js ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.getValue2Array = exports.getQSInputTips = exports.getQSCondition = void 0;\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.find.js */ \"../../node_modules/core-js/modules/es.array.find.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.string.replace.js */ \"../../node_modules/core-js/modules/es.string.replace.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nvar _constants = __webpack_require__(/*! ../constants */ \"./src/component/web/base/ListFilter/constants.js\");\nvar _langUtil = __webpack_require__(/*! @/util/langUtil */ \"./src/util/langUtil.js\");\nvar _serverproperties = __webpack_require__(/*! @/constant/serverproperties */ \"./src/constant/serverproperties.js\");\n/**\n * 获取已选的快速搜索条件\n * @param {*} fastOptions\n * @param {*} fastConditions\n * @param {*} lang\n * @returns\n */\nvar getQSCondition = exports.getQSCondition = function getQSCondition(fastOptions, fastConditions, isSupportNlpSearch, lang) {\n  return fastConditions.map(function (condition) {\n    var key = condition.get('k');\n    var isNlpSearch = condition.get('isNlpSearch');\n    var option = fastOptions.find(function (option) {\n      return option.get('fieldName') === key;\n    });\n    var title = key === _serverproperties.QP_QUAN_BU_ID ? (0, _intlApi.getLangMsg)({\n      key: 'QueryPanel.key0052'\n    }) : (option === null || option === void 0 ? void 0 : option.getIn(['fieldCaption', lang.current])) || '';\n    if (isNlpSearch) {\n      if (!isSupportNlpSearch) return null;\n      // 智能搜索\n      title = (0, _intlApi.getLangMsg)({\n        key: 'ListFilter.key0011'\n      });\n    }\n    var conditions = '';\n    var conList = condition.get('v');\n    // 智能搜索连接符用' '\n    var connector = isNlpSearch ? ' ' : \" \".concat((0, _intlApi.getLangMsg)({\n      key: 'ListFilter.key0010'\n    }), \" \");\n    conList.forEach(function (con, index) {\n      conditions += (index > 0 ? connector : '') + con;\n    });\n    return {\n      key: key,\n      title: title,\n      conditions: conditions\n    };\n  }).filter(function (condition) {\n    return condition;\n  });\n};\n\n// 获取输入框提示信息\nvar getQSInputTips = exports.getQSInputTips = function getQSInputTips(fastOptions, fastConditions, lang) {\n  if (fastConditions.count() > 0) return '';\n  var sum = fastOptions.count();\n  if (sum > 0) {\n    var tips = (0, _intlApi.getLangMsg)({\n      key: 'QueryPanel.key0016'\n    }).replace(/%s/, '');\n    fastOptions.forEach(function (item, index) {\n      if (_constants.FAST_ALL_ID !== item.get('fieldName')) {\n        // '全部'选项，不显示在提示信息中\n        var current = lang.current;\n        var itemTitle = (0, _langUtil.getValueByPath)(item, ['fieldCaption'], {\n          current: current\n        });\n        tips += itemTitle + (index === sum - 1 ? '' : '/');\n      }\n    });\n    return tips;\n  } else {\n    return (0, _intlApi.getLangMsg)({\n      key: 'QueryPanel.key0017'\n    });\n  }\n};\n\n// 将string转为array，以空格分隔\nvar getValue2Array = exports.getValue2Array = function getValue2Array(value) {\n  if (value) {\n    var result = [];\n    value.split(' ').forEach(function (item) {\n      if (item !== '') {\n        // 过滤掉空字符串\n        result.push(item);\n      }\n    });\n    return result;\n  }\n  return [];\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/quickSearch/utils.js?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/schemeEditModel/index.js":
/*!********************************************************************!*\
  !*** ./src/component/web/base/ListFilter/schemeEditModel/index.js ***!
  \********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.find-index.js */ \"../../node_modules/core-js/modules/es.array.find-index.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.promise.js */ \"../../node_modules/core-js/modules/es.promise.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\n__webpack_require__(/*! core-js/modules/es.string.trim.js */ \"../../node_modules/core-js/modules/es.string.trim.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _global = __webpack_require__(/*! @/global */ \"./src/global/index.js\");\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _conditionEditor = __webpack_require__(/*! ../schemeSearch/schemeEditor/conditionEditor */ \"./src/component/web/base/ListFilter/schemeSearch/schemeEditor/conditionEditor/index.js\");\nvar _utils = __webpack_require__(/*! ../schemeSearch/utils */ \"./src/component/web/base/ListFilter/schemeSearch/utils.js\");\nvar _constants = __webpack_require__(/*! ../constants */ \"./src/component/web/base/ListFilter/constants.js\");\nvar _Dialog = _interopRequireDefault(__webpack_require__(/*! @/component/web/Dialog */ \"./src/component/web/Dialog.js\"));\nvar _classnames2 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _utils2 = __webpack_require__(/*! ../utils */ \"./src/component/web/base/ListFilter/utils.js\");\nvar _styles = _interopRequireDefault(__webpack_require__(/*! ./styles.less */ \"./src/component/web/base/ListFilter/schemeEditModel/styles.less\"));\nvar _appModelFunction = __webpack_require__(/*! @/model/appModelFunction */ \"./src/model/appModelFunction.js\");\nvar _LoadingGIF = _interopRequireDefault(__webpack_require__(/*! @/component/common/LoadingGIF */ \"./src/component/common/LoadingGIF.js\"));\nvar _const = __webpack_require__(/*! @/constant/const */ \"./src/constant/const.js\");\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nvar _Tabs = __webpack_require__(/*! @/component/web/base/Tabs */ \"./src/component/web/base/Tabs/index.js\");\nvar _componentutil = __webpack_require__(/*! @/util/componentutil */ \"./src/util/componentutil.js\");\nvar _invokeActionUtils = __webpack_require__(/*! @/component/common/invokeActionUtils */ \"./src/component/common/invokeActionUtils.js\");\nvar _ControlLoading = _interopRequireDefault(__webpack_require__(/*! @/component/common/ControlLoading */ \"./src/component/common/ControlLoading.jsx\"));\nvar _utils3 = __webpack_require__(/*! @/component/web/KDListFilter/utils */ \"./src/component/web/KDListFilter/utils.js\");\nvar _BaseComponents = __webpack_require__(/*! @/component/web/base/BaseComponents */ \"./src/component/web/base/BaseComponents/index.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nvar NEED_FETCH_KEYS = [_constants.TABLE_COLUMNS_KEY, _constants.TABLE_SORT_COLUMNS_KEY];\nvar SchemeEditModel = /*#__PURE__*/(0, _react.forwardRef)(function (props, ref) {\n  var popRef = (0, _react.useRef)(null);\n  var popContentRef = (0, _react.useRef)(null);\n  var showMultiGrids = props.showMultiGrids,\n    addSchemes = props.addSchemes,\n    entryenties = props.entryenties,\n    schemes = props.schemes,\n    conditionOptions = props.conditionOptions,\n    onFieldBtnClick = props.onFieldBtnClick,\n    onSchemeSave = props.onSchemeSave,\n    onEditSchemeChange = props.onEditSchemeChange,\n    onAddSchemesChange = props.onAddSchemesChange,\n    onSchemeSearch = props.onSchemeSearch,\n    showComplexSchema = props.showComplexSchema,\n    closeEditModal = props.closeEditModal,\n    onF7LookUp = props.onF7LookUp,\n    isLookUp = props.isLookUp,\n    getSchemeColumns = props.getSchemeColumns,\n    getSchemeSortColumns = props.getSchemeSortColumns,\n    dataPageId = props.dataPageId,\n    edittingScheme = props.edittingScheme;\n  var _useState = (0, _react.useState)(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    showLoading = _useState2[0],\n    setShowLoading = _useState2[1];\n  var _useState3 = (0, _react.useState)(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    modalLoading = _useState4[0],\n    setModalLoading = _useState4[1];\n  var _useContext = (0, _react.useContext)(_utils3.FilterContext),\n    pageId = _useContext.pageId,\n    key = _useContext.key,\n    dispatch = _useContext.dispatch;\n  var schemeType = edittingScheme.get('type');\n  var isAdd = edittingScheme.get('status') === _constants.SCHME_STATUS.add;\n  var isAdvance = edittingScheme.get('fixed') && !isAdd;\n  var isAdditonSave = schemeType === _constants.RECEIVED_SCHEME || isAdvance;\n  var curedittingSchemeId = edittingScheme.getIn(['currentScheme', 'id']);\n  var hasCondition = (0, _utils2.getConditionCount)(edittingScheme) > 0;\n  var schemeName = edittingScheme.getIn(['currentScheme', 'schemeName']) || '';\n  var saveable = hasCondition && schemeName;\n  var addtionStyle = {\n    // 设计图为865px， 但是使用 transform 'translate(-50% ,-50%)' 时候，奇数的宽度在 dpr1 的显示器下面会出现短暂字体模糊\n    width: '864px',\n    top: '50%',\n    height: '580px',\n    left: '50%',\n    transform: 'translate(-50% ,-50%)',\n    borderRadius: 0\n  };\n  var additionDialogStyle = {\n    justifyContent: 'flex-start',\n    alignItems: 'flex-start'\n  };\n  (0, _react.useEffect)(function () {\n    var MODAL_LOADING_ITEMS = ['f7Click', 'fieldValueClick'];\n    var removeSaveSchemeAjaxStateListener = (0, _invokeActionUtils.addAjaxStateListener)(pageId, key, 'saveScheme', function (_ref) {\n      var value = _ref.value,\n        args = _ref.args;\n      if (value === _invokeActionUtils.AJAX_SUCCESS || value === _invokeActionUtils.AJAX_ERROR) {\n        setShowLoading(false);\n        _closeEditModel();\n      } else {\n        setShowLoading(true);\n      }\n    });\n    var removeModalAjaxStateListeners = MODAL_LOADING_ITEMS.map(function (item) {\n      return (0, _invokeActionUtils.addAjaxStateListener)(pageId, key, [item], function (_ref2) {\n        var value = _ref2.value,\n          args = _ref2.args;\n        if (value === _invokeActionUtils.AJAX_SUCCESS || value === _invokeActionUtils.AJAX_ERROR) {\n          setModalLoading(false);\n        } else {\n          setModalLoading(true);\n        }\n      });\n    });\n    return function () {\n      removeSaveSchemeAjaxStateListener();\n      removeModalAjaxStateListeners.forEach(function (listener) {\n        return listener();\n      });\n    };\n  }, []);\n  var isSchmeNameRepeat = function isSchmeNameRepeat(schemeName, isAdditional) {\n    // 编辑保存和自己同名，与编辑保存和其他方案同名要区分开\n    var sameNameSchmes = schemes === null || schemes === void 0 ? void 0 : schemes.filter(function (item) {\n      return isAdditional ? item.get('schemeName') === schemeName : item.get('schemeName') === schemeName && item.get('id') !== curedittingSchemeId;\n    });\n    return (sameNameSchmes === null || sameNameSchmes === void 0 ? void 0 : sameNameSchmes.size) >= 1;\n  };\n  var handleSchemeSave = function handleSchemeSave() {\n    var args = (0, _utils.getSchemeSaveArgs)(edittingScheme, entryenties);\n    // 如果走另存方案，则不传id\n    if (isAdditonSave) {\n      delete args.id;\n    }\n    if (isSchmeNameRepeat(args.schemeName, isAdditonSave)) {\n      // 含有重复的名称，不给保存\n      (0, _appModelFunction.setDataMessages)(pageId, {\n        type: _const.AlertType.WARNING,\n        content: \"\".concat((0, _intlApi.getLangMsg)({\n          key: 'listFilter.key0047',\n          variables: {\n            schemeName: args.schemeName\n          }\n        })),\n        duration: 3000\n      });\n      return;\n    }\n    // 延迟关闭modal，保证方案保存的接口在release接口后发送，防止后端在release中拿不到列配置信息\n    onSchemeSave(args);\n  };\n  var handleSchemeChange = function handleSchemeChange(newScheme) {\n    if (isAdd) {\n      // 新增变化时要修改store中的addSchemes\n      var addSchemeIndex = addSchemes.findIndex(function (addScheme) {\n        return addScheme.get('id') === curedittingSchemeId;\n      });\n      var entryEntity = (0, _utils2.getSelectedEntryEntity)(newScheme.get('grids'), entryenties);\n      var newAddScheme = addSchemes.get(addSchemeIndex).set('advance', newScheme.get('advance')).set('add', newScheme.get('add')).set('schemeName', newScheme.getIn(['currentScheme', 'schemeName'])).set('id', newScheme.getIn(['currentScheme', 'id'])).set('entryEntity', entryEntity);\n      var newAddSchemes = addSchemes.set(addSchemeIndex, newAddScheme);\n      onAddSchemesChange(newAddSchemes);\n    }\n    onEditSchemeChange(newScheme, isAdd);\n  };\n  var hadnleCancelEdit = function hadnleCancelEdit() {\n    _closeEditModel();\n  };\n  var hadnleSchemeSearch = function hadnleSchemeSearch() {\n    onSchemeSearch();\n  };\n  var _closeEditModel = function _closeEditModel() {\n    closeEditModal();\n    // 新增方案的弹窗场景，只要取消弹窗就不缓存新增的条件\n    if (isAdd) {\n      onAddSchemesChange((0, _immutable.List)()); // 清空addSchemes\n    }\n    // 清除 store 中保存的 subforms 的状态\n    dispatch((0, _appModelFunction.convertAppModelFunctionAction)((0, _appModelFunction.clearControlSubForms)(pageId, _constants.TABLE_COLUMNS_KEY)));\n    dispatch((0, _appModelFunction.convertAppModelFunctionAction)((0, _appModelFunction.clearControlSubForms)(pageId, _constants.TABLE_SORT_COLUMNS_KEY)));\n  };\n  var handleSchemeNameChange = function handleSchemeNameChange(e) {\n    var schemeName = e.target.value.trim();\n    var newedittingScheme = edittingScheme.setIn(['currentScheme', 'schemeName'], schemeName);\n    handleSchemeChange(newedittingScheme);\n  };\n  var handleTabClick = function handleTabClick(activeKey) {\n    if (!NEED_FETCH_KEYS.includes(activeKey)) return;\n    var curConfiSubForms = (0, _appModelFunction.getControlSubForms)(pageId, activeKey)((0, _global.getGlobalState)());\n    var hasConfig = (curConfiSubForms === null || curConfiSubForms === void 0 ? void 0 : curConfiSubForms.length) > 0;\n    if (activeKey === _constants.TABLE_COLUMNS_KEY) {\n      !hasConfig && getSchemeColumns(isAdd ? '' : curedittingSchemeId);\n    } else if (activeKey === _constants.TABLE_SORT_COLUMNS_KEY) {\n      !hasConfig && getSchemeSortColumns(isAdd ? '' : curedittingSchemeId);\n    }\n  };\n  var defaultProps = {\n    isShowClose: true,\n    isShowTitle: false,\n    onClose: _closeEditModel,\n    isFullScreenOpened: false,\n    width: addtionStyle.width,\n    style: additionDialogStyle,\n    innerStyle: addtionStyle,\n    dragable: true\n  };\n  var conditionStyle = {\n    background: '#FFF'\n  };\n  var getEditCondition = function getEditCondition() {\n    return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _styles[\"default\"].conditions\n    }, /*#__PURE__*/_react[\"default\"].createElement(_conditionEditor.ConditionEditor, {\n      selectedScheme: edittingScheme,\n      entryenties: entryenties,\n      showMultiGrids: showMultiGrids,\n      showComplexSchema: showComplexSchema,\n      conditionOptions: conditionOptions,\n      onFieldBtnClick: onFieldBtnClick,\n      onSchemeSearch: hadnleSchemeSearch,\n      onSchemeChange: handleSchemeChange,\n      onF7LookUp: onF7LookUp,\n      isLookUp: isLookUp,\n      isAdd: isAdd,\n      conditionStyle: conditionStyle\n    }));\n  };\n  return /*#__PURE__*/_react[\"default\"].createElement(_Dialog[\"default\"], _extends({}, defaultProps, {\n    ref: popRef\n  }), modalLoading ? /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _styles[\"default\"].loadingwrapper\n  }, /*#__PURE__*/_react[\"default\"].createElement(_LoadingGIF[\"default\"], {\n    isMobile: false,\n    className: _styles[\"default\"].loading\n  })) : null, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames2[\"default\"])('kd-cq-control kd-cq-querypanel', _styles[\"default\"].editschememodal),\n    ref: popContentRef\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _styles[\"default\"]['filter-header']\n  }, (0, _intlApi.getLangMsg)({\n    key: 'listFilter.key0048'\n  }), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _styles[\"default\"].empty\n  })), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames2[\"default\"])('kd-cq-querypanel-content', _styles[\"default\"].content)\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames2[\"default\"])('kd-cq-querypanel-item kd-cq-querypanel-title', _styles[\"default\"].schemename)\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: _styles[\"default\"].label\n  }, (0, _intlApi.getLangMsg)({\n    key: 'listFilter.key0021'\n  }), /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: \"require-icon\"\n  }, \"*\")), /*#__PURE__*/_react[\"default\"].createElement(_BaseComponents.Text, {\n    placeholder: \"\",\n    Grow: 0,\n    onChange: handleSchemeNameChange,\n    value: schemeName,\n    maxLength: 100,\n    theme: \"default\",\n    className: (0, _classnames2[\"default\"])('kd-cq-querypanel-item kd-cq-querypanel-item-text hover-theme-border-color1')\n  })), /*#__PURE__*/_react[\"default\"].createElement(_Tabs.Tabs, {\n    activeKey: 0,\n    className: _styles[\"default\"].tabContainer,\n    tabStyle: 3,\n    handleTabClick: handleTabClick,\n    \"data-page-id\": dataPageId\n  }, /*#__PURE__*/_react[\"default\"].createElement(_Tabs.TabPanel, {\n    key: 0,\n    title: (0, _intlApi.getLangMsg)({\n      key: 'listFilter.key0050'\n    })\n  }, getEditCondition()), /*#__PURE__*/_react[\"default\"].createElement(_Tabs.TabPanel, {\n    key: _constants.TABLE_COLUMNS_KEY,\n    title: (0, _intlApi.getLangMsg)({\n      key: 'listFilter.key0051'\n    })\n  }, _react[\"default\"].Children.toArray((0, _componentutil.parseSubForms)(pageId, _constants.TABLE_COLUMNS_KEY, (0, _global.getGlobalState)()))), /*#__PURE__*/_react[\"default\"].createElement(_Tabs.TabPanel, {\n    key: _constants.TABLE_SORT_COLUMNS_KEY,\n    title: (0, _intlApi.getLangMsg)({\n      key: 'listFilter.key0052'\n    })\n  }, _react[\"default\"].Children.toArray((0, _componentutil.parseSubForms)(pageId, _constants.TABLE_SORT_COLUMNS_KEY, (0, _global.getGlobalState)()))))), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames2[\"default\"])('kd-cq-querypanel-content', _styles[\"default\"].operations)\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: (0, _classnames2[\"default\"])('kd-cq-querypanel-item theme btn-ghost hover-theme-border-color1 hover-theme-hover-fc', _styles[\"default\"].cancel),\n    onClick: hadnleCancelEdit\n  }, (0, _intlApi.getLangMsg)({\n    key: 'listFilter.key0017'\n  })), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    onClick: saveable ? handleSchemeSave : function () {\n      return null;\n    },\n    className: (0, _classnames2[\"default\"])(saveable ? 'kd-cq-querypanel-item theme theme-bg hover-theme-bg1 active-theme-bg1' : 'kd-cq-querypanel-item', _styles[\"default\"].confirm, _defineProperty({}, \"\".concat(_styles[\"default\"].disabled), !saveable))\n  }, isAdditonSave ? (0, _intlApi.getLangMsg)({\n    key: 'listFilter.key0049'\n  }) : (0, _intlApi.getLangMsg)({\n    key: 'listFilter.key0022'\n  }), showLoading ? /*#__PURE__*/_react[\"default\"].createElement(_ControlLoading[\"default\"], {\n    className: _styles[\"default\"].saveloading\n  }) : null))));\n});\nvar _default = exports[\"default\"] = SchemeEditModel;\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/schemeEditModel/index.js?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/schemeF7EditDialog/index.js":
/*!***********************************************************************!*\
  !*** ./src/component/web/base/ListFilter/schemeF7EditDialog/index.js ***!
  \***********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.find-index.js */ \"../../node_modules/core-js/modules/es.array.find-index.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _schemeEditor = __webpack_require__(/*! ../schemeSearch/schemeEditor */ \"./src/component/web/base/ListFilter/schemeSearch/schemeEditor/index.js\");\nvar _utils = __webpack_require__(/*! ../schemeSearch/utils */ \"./src/component/web/base/ListFilter/schemeSearch/utils.js\");\nvar _constants = __webpack_require__(/*! ../constants */ \"./src/component/web/base/ListFilter/constants.js\");\nvar _Dialog = _interopRequireDefault(__webpack_require__(/*! @/component/web/Dialog */ \"./src/component/web/Dialog.js\"));\nvar _classnames = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _utils2 = __webpack_require__(/*! ../utils */ \"./src/component/web/base/ListFilter/utils.js\");\nvar _styles = _interopRequireDefault(__webpack_require__(/*! ./styles.less */ \"./src/component/web/base/ListFilter/schemeF7EditDialog/styles.less\"));\nvar _reactDom = __webpack_require__(/*! react-dom */ \"webpack/sharing/consume/default/react-dom/react-dom?418d\");\nvar _appModelFunction = __webpack_require__(/*! @/model/appModelFunction */ \"./src/model/appModelFunction.js\");\nvar _const = __webpack_require__(/*! @/constant/const */ \"./src/constant/const.js\");\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nvar SchemeF7EditDialog = /*#__PURE__*/(0, _react.forwardRef)(function (props, ref) {\n  var popRef = (0, _react.useRef)(null);\n  var popContentRef = (0, _react.useRef)(null);\n  var editContentRef = (0, _react.useRef)(null);\n  var showMultiGrids = props.showMultiGrids,\n    addSchemes = props.addSchemes,\n    defaultSchemeId = props.defaultSchemeId,\n    entryenties = props.entryenties,\n    schemes = props.schemes,\n    onSchemeDelete = props.onSchemeDelete,\n    conditionOptions = props.conditionOptions,\n    selectedScheme = props.selectedScheme,\n    onFieldBtnClick = props.onFieldBtnClick,\n    shareable = props.shareable,\n    onSchemeSave = props.onSchemeSave,\n    onEditSchemeChange = props.onEditSchemeChange,\n    onAddSchemesChange = props.onAddSchemesChange,\n    onSchemeShare = props.onSchemeShare,\n    onSchemeSearch = props.onSchemeSearch,\n    showComplexSchema = props.showComplexSchema,\n    onSchemeSetDefault = props.onSchemeSetDefault,\n    fieldsDependent = props.fieldsDependent,\n    closeEditPanel = props.closeEditPanel,\n    closeF7Panel = props.closeF7Panel,\n    titleCom = props.titleCom,\n    quicksearchCom = props.quicksearchCom,\n    F7containerEle = props.F7containerEle,\n    isLookUp = props.isLookUp,\n    pageId = props.pageId,\n    onF7LookUp = props.onF7LookUp;\n  var addtionStyle = (0, _react.useMemo)(function () {\n    var rect = F7containerEle === null || F7containerEle === void 0 ? void 0 : F7containerEle.getBoundingClientRect();\n    var width = rect.width,\n      top = rect.top,\n      left = rect.left;\n    return {\n      width: width,\n      top: top,\n      left: left,\n      borderRadius: 0\n    };\n  }, [F7containerEle]);\n  var additionDialogStyle = {\n    justifyContent: 'flex-start',\n    alignItems: 'flex-start'\n  };\n  var isSchmeNameRepeat = function isSchmeNameRepeat(schemeName, isAdditional) {\n    var currentSchemeId = selectedScheme.getIn(['currentScheme', 'id']);\n    // 编辑保存和自己同名，与编辑保存和其他方案同名要区分开\n    var sameNameSchmes = schemes === null || schemes === void 0 ? void 0 : schemes.filter(function (item) {\n      return isAdditional ? item.get('schemeName') === schemeName : item.get('schemeName') === schemeName && item.get('id') !== currentSchemeId;\n    });\n    return (sameNameSchmes === null || sameNameSchmes === void 0 ? void 0 : sameNameSchmes.size) >= 1;\n  };\n  var handleSchemeSave = function handleSchemeSave(isAdditional) {\n    var args = (0, _utils.getSchemeSaveArgs)(selectedScheme, entryenties);\n    // 如果走另存方案，则不传id\n    if (isAdditional) {\n      delete args.id;\n    }\n    if (isSchmeNameRepeat(args.schemeName, isAdditional)) {\n      // 含有重复的名称，不给保存\n      (0, _appModelFunction.setDataMessages)(pageId, {\n        type: _const.AlertType.WARNING,\n        content: \"\".concat((0, _intlApi.getLangMsg)({\n          key: 'listFilter.key0047',\n          variables: {\n            schemeName: args.schemeName\n          }\n        })),\n        duration: 3000\n      });\n      return;\n    }\n    closeEditPanel();\n    onSchemeSave(args);\n  };\n  var handleSchemeChange = function handleSchemeChange(newScheme) {\n    var currentSchemeId = selectedScheme.getIn(['currentScheme', 'id']);\n    var isAdd = selectedScheme.get('status') === _constants.SCHME_STATUS.add;\n    if (isAdd) {\n      // 新增变化时要修改store中的addSchemes\n      var addSchemeIndex = addSchemes.findIndex(function (addScheme) {\n        return addScheme.get('id') === currentSchemeId;\n      });\n      var entryEntity = (0, _utils2.getSelectedEntryEntity)(newScheme.get('grids'), entryenties);\n      var newAddScheme = addSchemes.get(addSchemeIndex).set('advance', newScheme.get('advance')).set('add', newScheme.get('add')).set('schemeName', newScheme.getIn(['currentScheme', 'schemeName'])).set('id', newScheme.getIn(['currentScheme', 'id'])).set('entryEntity', entryEntity);\n      var newAddSchemes = addSchemes.set(addSchemeIndex, newAddScheme);\n      onAddSchemesChange(newAddSchemes);\n    }\n    onEditSchemeChange(newScheme);\n  };\n  var handleSchemeDelete = function handleSchemeDelete() {\n    var curEditId = selectedScheme.getIn(['currentScheme', 'id']);\n    var isAdd = selectedScheme.get('status') === _constants.SCHME_STATUS.add;\n    closeEditPanel();\n    onSchemeDelete(curEditId, isAdd);\n  };\n  var hadnleCancelEdit = function hadnleCancelEdit() {\n    var curEditId = selectedScheme.getIn(['currentScheme', 'id']);\n    var isAdd = selectedScheme.get('status') === _constants.SCHME_STATUS.add;\n    if (isAdd) {\n      onSchemeDelete(curEditId, isAdd);\n    }\n    closeEditPanel();\n  };\n  var hadnleSchemeSearch = function hadnleSchemeSearch() {\n    closeEditPanel();\n    onSchemeSearch();\n  };\n  var defaultProps = {\n    isShowClose: true,\n    isShowTitle: false,\n    onClose: closeF7Panel,\n    isFullScreenOpened: false,\n    width: addtionStyle.width,\n    height: 400,\n    style: additionDialogStyle,\n    innerStyle: addtionStyle,\n    dragable: false\n  };\n  var isClickMask = function isClickMask(e) {\n    // 点击蒙版的时候隐藏编辑方案面板\n    var panelWrapper = (0, _reactDom.findDOMNode)(popRef.current);\n    var panelContentWrapper = panelWrapper === null || panelWrapper === void 0 ? void 0 : panelWrapper.firstChild;\n    return panelContentWrapper && panelWrapper.contains(e.target) && !panelContentWrapper.contains(e.target);\n    // && !findDOMNode(popContentRef.current).contains(e.target)\n  };\n  var handleClickOutPanel = function handleClickOutPanel(e) {\n    if (isClickMask(e)) {\n      editContentRef.current.style.opacity = 0;\n      closeEditPanel();\n    }\n  };\n  (0, _react.useEffect)(function () {\n    window.addEventListener('mousedown', handleClickOutPanel, true);\n    window.addEventListener('resize', closeEditPanel, true);\n    return function () {\n      window.removeEventListener('mousedown', handleClickOutPanel, true);\n      window.removeEventListener('resize', closeEditPanel, true);\n    };\n  }, []);\n  return /*#__PURE__*/_react[\"default\"].createElement(_Dialog[\"default\"], _extends({}, defaultProps, {\n    ref: popRef\n  }), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames[\"default\"])('kd-cq-control kd-cq-querypanel', _styles[\"default\"].editschemepanel),\n    ref: popContentRef\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames[\"default\"])('kd-cq-querypanel-header', _styles[\"default\"]['filter-header'])\n  }, titleCom, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _styles[\"default\"].empty\n  }), quicksearchCom), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames[\"default\"])('kd-cq-querypanel-content', _styles[\"default\"].editpanel_show),\n    ref: editContentRef,\n    style: {\n      width: addtionStyle.width\n    }\n  }, /*#__PURE__*/_react[\"default\"].createElement(_schemeEditor.SchemeEditor, {\n    defaultSchemeId: defaultSchemeId,\n    entryenties: entryenties,\n    showMultiGrids: showMultiGrids,\n    schemes: schemes,\n    addSchemes: addSchemes,\n    conditionOptions: conditionOptions,\n    selectedScheme: selectedScheme,\n    onSchemeChange: handleSchemeChange,\n    onSchemeSave: handleSchemeSave,\n    onFieldBtnClick: onFieldBtnClick,\n    onSchemeDelete: handleSchemeDelete,\n    onCancelEdit: hadnleCancelEdit,\n    shareable: shareable,\n    onSchemeShare: onSchemeShare,\n    onSchemeSearch: hadnleSchemeSearch,\n    showComplexSchema: showComplexSchema,\n    onSchemeSetDefault: onSchemeSetDefault,\n    fieldsDependent: fieldsDependent,\n    isLookUp: isLookUp,\n    onF7LookUp: onF7LookUp\n  }))));\n});\nvar _default = exports[\"default\"] = SchemeF7EditDialog;\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/schemeF7EditDialog/index.js?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/schemeSearch/schemeEditor/conditionEditor/conditionItem/index.js":
/*!************************************************************************************************************!*\
  !*** ./src/component/web/base/ListFilter/schemeSearch/schemeEditor/conditionEditor/conditionItem/index.js ***!
  \************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.SelectThemeClass = exports.FIELD_STYLE = exports.ConditionItem = void 0;\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.find.js */ \"../../node_modules/core-js/modules/es.array.find.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _classnames5 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _BaseComponents = __webpack_require__(/*! @/component/web/base/BaseComponents */ \"./src/component/web/base/BaseComponents/index.js\");\nvar _Select = _interopRequireDefault(__webpack_require__(/*! @/component/web/base/Select */ \"./src/component/web/base/Select.js\"));\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nvar _index = _interopRequireDefault(__webpack_require__(/*! ../index.less */ \"./src/component/web/base/ListFilter/schemeSearch/schemeEditor/conditionEditor/index.less\"));\nvar _utils = __webpack_require__(/*! ../../utils */ \"./src/component/web/base/ListFilter/schemeSearch/schemeEditor/utils.js\");\nvar _valueInput = __webpack_require__(/*! ./valueInput */ \"./src/component/web/base/ListFilter/schemeSearch/schemeEditor/conditionEditor/conditionItem/valueInput.js\");\nvar _fieldConst = __webpack_require__(/*! @/constant/fieldConst */ \"./src/constant/fieldConst.js\");\nvar _constants = __webpack_require__(/*! ../../../../constants */ \"./src/component/web/base/ListFilter/constants.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar SelectThemeClass = exports.SelectThemeClass = {\n  'strong-border secondary-text-in-light hover-theme-border-color1': true\n};\nvar FIELD_STYLE = exports.FIELD_STYLE = {\n  // color: '#666666'\n};\nvar LEFT_OPTIONS = [{\n  alias: '',\n  value: '_blank'\n}, {\n  alias: '(',\n  value: '('\n}, {\n  alias: '((',\n  value: '(('\n}, {\n  alias: '(((',\n  value: '((('\n}];\nvar RIGHT_OPTIONS = [{\n  alias: '',\n  value: '_blank'\n}, {\n  alias: ')',\n  value: ')'\n}, {\n  alias: '))',\n  value: '))'\n}, {\n  alias: ')))',\n  value: ')))'\n}];\nvar LOGIC_OPTIONS = [{\n  value: 0,\n  alias: (0, _intlApi.getLangMsg)('QueryPanel.key0024')\n}, {\n  value: 1,\n  alias: (0, _intlApi.getLangMsg)('listFilter.key0042')\n}];\nvar ConditionItem = exports.ConditionItem = function ConditionItem(_ref) {\n  var _fieldOpitions$filter;\n  var type = _ref.type,\n    lang = _ref.lang,\n    isAdvance = _ref.isAdvance,\n    condition = _ref.condition,\n    compareTypes = _ref.compareTypes,\n    entryenties = _ref.entryenties,\n    showComplexSchema = _ref.showComplexSchema,\n    onConditionChange = _ref.onConditionChange,\n    onConditionDelete = _ref.onConditionDelete,\n    defaultCompareType = _ref.defaultCompareType,\n    fieldOpitions = _ref.fieldOpitions,\n    onFieldBtnClick = _ref.onFieldBtnClick,\n    conditionOption = _ref.conditionOption,\n    conditionOptions = _ref.conditionOptions,\n    onF7LookUp = _ref.onF7LookUp,\n    entityId = _ref.entityId,\n    fieldName = _ref.fieldName,\n    onSchemeSearch = _ref.onSchemeSearch,\n    onKeyDown = _ref.onKeyDown;\n  var handleFieldChange = function handleFieldChange(field) {\n    var newConditionOption = conditionOptions.find(function (item) {\n      return item.get('fieldName') === field;\n    });\n    var newCondition = (0, _utils.getDefaltCondition)(newConditionOption);\n    onConditionChange(newCondition);\n  };\n  var handleCompareChange = function handleCompareChange(newCompare) {\n    var lastComPare = condition.get('c');\n    var lastComPareOption = compareTypes.find(function (compare) {\n      return compare.get('id') === lastComPare;\n    });\n    var newCondition = condition.set('c', newCompare);\n    var compareOption = compareTypes.find(function (compare) {\n      return compare.get('id') === newCompare;\n    });\n    // 比较付不需要输入值时需要清空value\n    if (compareOption.get(_constants.COMPARE_NEED_INPUT) === false) {\n      newCondition = newCondition.set('v', '');\n    }\n\n    // 切换到(从)多选或between(切换) 需要清空value\n    if (lastComPareOption !== null && lastComPareOption !== void 0 && lastComPareOption.get(_constants.COMPARE_NUMBER) || compareOption.get(_constants.COMPARE_NUMBER) || lastComPareOption !== null && lastComPareOption !== void 0 && lastComPareOption.get(_constants.COMPARE_BETWEEN) || compareOption.get(_constants.COMPARE_BETWEEN) || lastComPareOption !== null && lastComPareOption !== void 0 && lastComPareOption.get(_constants.COMPARE_MULTI) || !compareOption.get(_constants.COMPARE_MULTI)) {\n      newCondition = newCondition.set('v', '')[\"delete\"]('id');\n    }\n    onConditionChange(newCondition);\n  };\n  var handleValueChange = function handleValueChange(value, isBaseData) {\n    var newCondition;\n    if (value.hasOwnProperty('ids')) {\n      var ids = value.ids,\n        alias = value.alias;\n      newCondition = condition.set('v', (0, _immutable.fromJS)(alias));\n      newCondition = newCondition.set('id', (0, _immutable.fromJS)(ids));\n    } else {\n      newCondition = condition.set('v', (0, _immutable.fromJS)(value));\n      // 基础资料手动修改后需要清空id\n      if (isBaseData) {\n        newCondition = newCondition[\"delete\"]('id');\n      }\n    }\n    onConditionChange(newCondition);\n  };\n  var handleLogicChange = function handleLogicChange(type) {\n    return function (logic) {\n      var newCondition = condition.set(type, logic === '_blank' ? '' : logic);\n      onConditionChange(newCondition, true);\n    };\n  };\n  var compareOptions = (0, _react.useMemo)(function () {\n    return (0, _utils.getCompareOptions)(compareTypes, lang);\n  }, [compareTypes]);\n  var compare = compareTypes.find(function (compare) {\n    return compare.get('id') === condition.get('c');\n  });\n  var fieldCompareOptions = (compare === null || compare === void 0 ? void 0 : compare.get(_constants.FIELD_COMPARE)) && (0, _utils.getFilterValues)(entryenties, conditionOption, conditionOptions, lang).toJS();\n  var advanceValue = ((_fieldOpitions$filter = fieldOpitions.filter(function (item) {\n    return item.value === condition.get('k');\n  })[0]) === null || _fieldOpitions$filter === void 0 ? void 0 : _fieldOpitions$filter.alias) || '';\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames5[\"default\"])('kd-cq-querypanel-item', _index[\"default\"]['codition-item'])\n  }, showComplexSchema && /*#__PURE__*/_react[\"default\"].createElement(_Select[\"default\"], {\n    className: (0, _classnames5[\"default\"])(SelectThemeClass, _index[\"default\"]['condition-input'], _index[\"default\"]['condition-logic'], _defineProperty({}, _index[\"default\"].disabled, isAdvance), 'kd-cq-querypanel-item-text'),\n    items: LEFT_OPTIONS,\n    onChange: handleLogicChange('leftBracket'),\n    value: condition.get('leftBracket'),\n    Grow: 0,\n    style: FIELD_STYLE,\n    multiple: false,\n    theme: \"default\",\n    placeholder: \"\",\n    searchType: _fieldConst.SEARCH_TYPE.INPUT\n  }), isAdvance ? /*#__PURE__*/_react[\"default\"].createElement(_BaseComponents.Text, {\n    value: advanceValue,\n    disabled: isAdvance,\n    theme: \"default\",\n    Grow: 0,\n    placeholder: \"\",\n    style: FIELD_STYLE,\n    className: (0, _classnames5[\"default\"])(_index[\"default\"]['condition-input'], _index[\"default\"]['condition-field'], _index[\"default\"].disabled, 'strong-border', 'secondary-text-in-light', 'kd-cq-querypanel-item-text')\n  }) : /*#__PURE__*/_react[\"default\"].createElement(_Select[\"default\"], {\n    className: (0, _classnames5[\"default\"])(SelectThemeClass, _index[\"default\"]['condition-input'], _index[\"default\"]['condition-field'], _defineProperty({}, _index[\"default\"].disabled, isAdvance), 'kd-cq-querypanel-item-text'),\n    items: fieldOpitions,\n    onChange: handleFieldChange,\n    value: condition.get('k'),\n    Grow: 0,\n    style: FIELD_STYLE,\n    multiple: false,\n    theme: \"default\",\n    required: true,\n    disabled: isAdvance,\n    placeholder: \"\",\n    searchType: _fieldConst.SEARCH_TYPE.INPUT\n  }), /*#__PURE__*/_react[\"default\"].createElement(_Select[\"default\"], {\n    className: (0, _classnames5[\"default\"])(SelectThemeClass, _index[\"default\"]['condition-input'], _index[\"default\"]['condition-compare'], 'kd-cq-querypanel-item-text'),\n    items: compareOptions,\n    onChange: handleCompareChange,\n    value: condition.get('c'),\n    Grow: 0,\n    style: FIELD_STYLE,\n    multiple: false,\n    theme: \"default\",\n    required: true,\n    placeholder: \"\",\n    searchType: _fieldConst.SEARCH_TYPE.INPUT\n  }), compare !== null && compare !== void 0 && compare.get(_constants.FIELD_COMPARE) ? /*#__PURE__*/_react[\"default\"].createElement(_Select[\"default\"], {\n    className: (0, _classnames5[\"default\"])(SelectThemeClass, _index[\"default\"]['condition-input'], _index[\"default\"]['condition-value'], 'kd-cq-querypanel-item-text'),\n    items: fieldCompareOptions,\n    onChange: handleValueChange,\n    value: condition.get('v'),\n    Grow: 0,\n    style: FIELD_STYLE,\n    multiple: false,\n    theme: \"default\",\n    required: true,\n    disabled: false,\n    placeholder: \"\",\n    searchType: _fieldConst.SEARCH_TYPE.INPUT\n  }) : /*#__PURE__*/_react[\"default\"].createElement(_valueInput.ValueInput, {\n    type: type,\n    lang: lang,\n    value: condition.get('v'),\n    id: condition.get('id'),\n    onChange: handleValueChange,\n    compare: compare,\n    className: (0, _classnames5[\"default\"])(SelectThemeClass, _index[\"default\"]['condition-input']),\n    onFieldBtnClick: onFieldBtnClick,\n    entityId: entityId,\n    fieldName: fieldName,\n    conditionOption: conditionOption,\n    onSchemeSearch: onSchemeSearch,\n    onF7LookUp: onF7LookUp,\n    onKeyDown: onKeyDown\n  }), showComplexSchema && /*#__PURE__*/_react[\"default\"].createElement(_Select[\"default\"], {\n    className: (0, _classnames5[\"default\"])(SelectThemeClass, _index[\"default\"]['condition-input'], _index[\"default\"]['condition-logic'], _defineProperty({}, _index[\"default\"].disabled, isAdvance), 'kd-cq-querypanel-item-text'),\n    items: RIGHT_OPTIONS,\n    onChange: handleLogicChange('rightBracket'),\n    value: condition.get('rightBracket'),\n    Grow: 0,\n    style: FIELD_STYLE,\n    multiple: false,\n    theme: \"default\",\n    placeholder: \"\",\n    searchType: _fieldConst.SEARCH_TYPE.INPUT\n  }), showComplexSchema && /*#__PURE__*/_react[\"default\"].createElement(_Select[\"default\"], {\n    className: (0, _classnames5[\"default\"])(SelectThemeClass, _index[\"default\"]['condition-input'], _index[\"default\"]['condition-logic'], _defineProperty({}, _index[\"default\"].disabled, isAdvance), 'kd-cq-querypanel-item-text'),\n    items: LOGIC_OPTIONS,\n    onChange: handleLogicChange('logic'),\n    value: condition.get('logic'),\n    Grow: 0,\n    style: FIELD_STYLE,\n    multiple: false,\n    theme: \"default\",\n    required: true,\n    placeholder: \"\",\n    searchType: _fieldConst.SEARCH_TYPE.INPUT\n  }), !showComplexSchema && /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: _index[\"default\"].and\n  }, (0, _intlApi.getLangMsg)({\n    key: 'QueryPanel.key0028'\n  })), isAdvance ? null : /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n    className: (0, _classnames5[\"default\"])('kd-cq-querypanel-item-icon', 'kdfont kdfont-guanbi8 kd-hover-color', _index[\"default\"][\"delete\"], 'hover-theme-fc'),\n    onClick: onConditionDelete\n  }));\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/schemeSearch/schemeEditor/conditionEditor/conditionItem/index.js?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/schemeSearch/schemeEditor/conditionEditor/conditionItem/valueInput.js":
/*!*****************************************************************************************************************!*\
  !*** ./src/component/web/base/ListFilter/schemeSearch/schemeEditor/conditionEditor/conditionItem/valueInput.js ***!
  \*****************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-properties.js */ \"../../node_modules/core-js/modules/es.object.define-properties.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptors.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.ValueInput = void 0;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.join.js */ \"../../node_modules/core-js/modules/es.array.join.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _classnames2 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _Select = _interopRequireDefault(__webpack_require__(/*! @/component/web/base/Select */ \"./src/component/web/base/Select.js\"));\nvar _BaseComponents = __webpack_require__(/*! @/component/web/base/BaseComponents */ \"./src/component/web/base/BaseComponents/index.js\");\nvar _serverproperties = __webpack_require__(/*! @/constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _fieldConst = __webpack_require__(/*! @/constant/fieldConst */ \"./src/constant/fieldConst.js\");\nvar _DateRangeField = _interopRequireDefault(__webpack_require__(/*! @/component/web/baseField/DateRangeField */ \"./src/component/web/baseField/DateRangeField.jsx\"));\nvar _DatePicker = _interopRequireDefault(__webpack_require__(/*! @/component/web/base/DatePicker */ \"./src/component/web/base/DatePicker.jsx\"));\nvar _ = __webpack_require__(/*! . */ \"./src/component/web/base/ListFilter/schemeSearch/schemeEditor/conditionEditor/conditionItem/index.js\");\nvar _componentutil = __webpack_require__(/*! @/util/componentutil */ \"./src/util/componentutil.js\");\nvar _dateUtil = __webpack_require__(/*! @/util/dateUtil */ \"./src/util/dateUtil.js\");\nvar _constants = __webpack_require__(/*! ../../../../constants */ \"./src/component/web/base/ListFilter/constants.js\");\nvar _baseDataExtend = __webpack_require__(/*! ../../../../Components/baseDataExtend */ \"./src/component/web/base/ListFilter/Components/baseDataExtend/index.js\");\nvar _keyCode = __webpack_require__(/*! @/constant/keyCode */ \"./src/constant/keyCode.js\");\nvar _index = _interopRequireDefault(__webpack_require__(/*! ../index.less */ \"./src/component/web/base/ListFilter/schemeSearch/schemeEditor/conditionEditor/index.less\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar MaxValue = 9999999999999.99;\nvar DATE_TYPE_MAX_NUMBER = 15000; // 日期字段比较类型为数字时的最大值限制为15000, 否则会报错\n\nvar DateRangeFieldStyleProps = {\n  inputProps: {\n    style: {\n      padding: 0,\n      maxWidth: 145\n    }\n  },\n  iconStyle: {\n    right: 6\n  },\n  clearIconStyle: {\n    right: 6\n  }\n};\nvar DatePickerStyleProps = {\n  style: _objectSpread({\n    padding: '0 36px 0 6px'\n  }, _.FIELD_STYLE),\n  inputStyle: {\n    padding: 0\n  },\n  iconStyle: {\n    right: 6\n  },\n  clearIconStyle: {\n    right: 24\n  }\n};\nvar ValueInput = exports.ValueInput = function ValueInput(_ref) {\n  var type = _ref.type,\n    lang = _ref.lang,\n    value = _ref.value,\n    id = _ref.id,\n    compare = _ref.compare,\n    className = _ref.className,\n    onChange = _ref.onChange,\n    onFieldBtnClick = _ref.onFieldBtnClick,\n    conditionOption = _ref.conditionOption,\n    entityId = _ref.entityId,\n    fieldName = _ref.fieldName,\n    onSchemeSearch = _ref.onSchemeSearch,\n    onKeyDown = _ref.onKeyDown,\n    onF7LookUp = _ref.onF7LookUp;\n  var handleDefaultChange = function handleDefaultChange(e) {\n    onChange(e.target.value);\n  };\n  var handleTextChange = function handleTextChange(isMulti) {\n    return function (e) {\n      var value = e.target.value;\n      onChange(isMulti ? value.split(',') : value);\n    };\n  };\n\n  /**\n   *\n   * @param {*} value string\n   */\n  var handleEnumChange = function handleEnumChange(value) {\n    var isMulti = compare === null || compare === void 0 ? void 0 : compare.get(_constants.COMPARE_MULTI);\n    onChange(isMulti ? value.split(',') : value);\n  };\n  var handleEditBtnClick = function handleEditBtnClick() {\n    onFieldBtnClick('fieldValueClick');\n  };\n  var handleF7Click = function handleF7Click() {\n    onFieldBtnClick('f7Click');\n  };\n  var handleNumberChange = function handleNumberChange(e) {\n    onChange(e.target.value);\n  };\n\n  /**\n   *\n   * @param {*} value string[]\n   */\n  var handleBasedataChange = function handleBasedataChange(value) {\n    onChange(value, true);\n  };\n  var handleDateRangeChange = function handleDateRangeChange(value) {\n    onChange(value.split(','));\n  };\n  var handleDatePickerChange = function handleDatePickerChange(value) {\n    onChange(value);\n  };\n  var handleKeyDown = function handleKeyDown(event) {\n    if (!onKeyDown) {\n      return;\n    }\n    var keyCode = event.keyCode;\n    switch (keyCode) {\n      case _keyCode.KEYS.ENTER:\n        {\n          var _isDateType = (type === 'date' || type === 'datetime') && !dateNumber;\n          if (!_isDateType) {\n            onKeyDown();\n          }\n          break;\n        }\n      default:\n        break;\n    }\n  };\n  var dateNumber = compare === null || compare === void 0 ? void 0 : compare.get(_constants.COMPARE_NUMBER);\n  var between = compare === null || compare === void 0 ? void 0 : compare.get(_constants.COMPARE_BETWEEN);\n  var getValueInput = function getValueInput() {\n    var current = lang.current;\n    var disable = (compare === null || compare === void 0 ? void 0 : compare.get(_constants.COMPARE_NEED_INPUT)) === false;\n    var onlySelect = compare === null || compare === void 0 ? void 0 : compare.get(_constants.COMPARE_ONLY_SELECT);\n    var needSearch = compare === null || compare === void 0 ? void 0 : compare.get(_constants.COMPARE_NEED_SEARCH);\n    var isMulti = compare === null || compare === void 0 ? void 0 : compare.get(_constants.COMPARE_MULTI);\n\n    // 日期选择格式单独处理\n    var datePickerValue = _immutable.List.isList(value) && value.count() === 0 ? '' : value;\n    var inputValue = _immutable.List.isList(value) ? value.join(',') : value;\n    var dropList = [];\n    var pc = conditionOption.get(_serverproperties.PRECISION);\n    var sc = conditionOption.get(_serverproperties.SCALE) || 0;\n    var valueLocale = (0, _componentutil.getRootLocale)();\n    var firstDayOfWeek = (0, _dateUtil.getFirstDayOfWeek)();\n    switch (type) {\n      case 'enum':\n        conditionOption.get('items').forEach(function (item) {\n          dropList.push({\n            alias: item.getIn(['caption', lang.current]),\n            imgkey: null,\n            value: item.get('value')\n          });\n        });\n        return /*#__PURE__*/_react[\"default\"].createElement(_Select[\"default\"], {\n          className: (0, _classnames2[\"default\"])(_index[\"default\"].select),\n          items: dropList,\n          onChange: handleEnumChange,\n          style: _.FIELD_STYLE,\n          value: inputValue,\n          Grow: 0,\n          theme: \"default\",\n          required: true,\n          placeholder: \"\",\n          disabled: disable,\n          multiple: isMulti,\n          searchType: _fieldConst.SEARCH_TYPE.INPUT\n        });\n      case 'date':\n      case 'datetime':\n        if (dateNumber) {\n          return /*#__PURE__*/_react[\"default\"].createElement(_BaseComponents.Number, {\n            className: (0, _classnames2[\"default\"])(_index[\"default\"].number),\n            value: inputValue,\n            style: _.FIELD_STYLE,\n            digitLength: 10,\n            decimalLength: 0,\n            mask: \"\",\n            zeroShow: true,\n            noDisplayDecimalTailZero: undefined,\n            min: 0,\n            max: DATE_TYPE_MAX_NUMBER,\n            minMark: \"[\",\n            maxMark: \"]\",\n            symbol: undefined,\n            showSymbol: undefined,\n            onChange: handleNumberChange,\n            mustInScope: true\n          });\n        }\n        if (between) {\n          return /*#__PURE__*/_react[\"default\"].createElement(_DateRangeField[\"default\"], _extends({\n            className: (0, _classnames2[\"default\"])(_index[\"default\"]['date-range']),\n            value: inputValue,\n            type: \"daterange\",\n            mask: \"\",\n            displayFormat: \"\",\n            minDate: \"\",\n            maxDate: \"\",\n            onChange: handleDateRangeChange,\n            disabled: disable,\n            today: conditionOption.get(_constants.TODAY),\n            linkage: false,\n            localeCode: current,\n            showNow: true,\n            showTime: type === 'datetime',\n            startOption: {\n              disabledSuperNext: false,\n              disabledNext: false\n            },\n            endOption: {\n              disabledSuperPrev: false,\n              disabledPrev: false\n            }\n          }, DateRangeFieldStyleProps));\n        }\n        return /*#__PURE__*/_react[\"default\"].createElement(_DatePicker[\"default\"], _extends({\n          className: _index[\"default\"].date,\n          type: type,\n          Grow: 1,\n          onChange: handleDatePickerChange,\n          theme: \"default\",\n          value: datePickerValue,\n          disabled: disable,\n          timeZone: conditionOption.get(_constants.TIME_ZONE),\n          today: conditionOption.get(_constants.TODAY),\n          calendarLocale: current,\n          valueLocale: valueLocale,\n          firstDayOfWeek: firstDayOfWeek\n        }, DatePickerStyleProps));\n      case 'text':\n        return /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, null, /*#__PURE__*/_react[\"default\"].createElement(_BaseComponents.Text, {\n          style: _.FIELD_STYLE,\n          placeholder: \"\",\n          Grow: 0,\n          onChange: handleTextChange(isMulti),\n          value: inputValue,\n          theme: \"default\",\n          disabled: disable\n        }), isMulti // 多选文本需要展示编辑按钮\n        ? /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n          className: (0, _classnames2[\"default\"])(_index[\"default\"]['text-edit-btn'], 'kdfont kdfont-zidingyi'),\n          onClick: handleEditBtnClick\n        }) : null);\n      case 'number':\n        return /*#__PURE__*/_react[\"default\"].createElement(_BaseComponents.Number, {\n          style: _.FIELD_STYLE,\n          type: \"D\",\n          digitLength: pc === undefined ? _constants.DEFAULT_DIGIT_LENGTH + sc : pc,\n          decimalLength: sc,\n          boxStyle: {\n            flexGrow: 1\n          },\n          mask: conditionOption.get(_serverproperties.MASK),\n          displayFormat: conditionOption.get(_serverproperties.DISPLAY_FORMAT),\n          zeroShow: true,\n          noDisplayDecimalTailZero: conditionOption.get(_serverproperties.NO_DISPLAY_SCALE_ZERO),\n          min: conditionOption.get(_serverproperties.MIN_VALUE),\n          max: conditionOption.get(_serverproperties.MAX_VALUE) > MaxValue ? MaxValue : conditionOption.get(_serverproperties.MAX_VALUE),\n          minMark: conditionOption.get(_serverproperties.MIN_MARK),\n          maxMark: conditionOption.get(_serverproperties.MAX_MARK),\n          symbol: undefined,\n          showSymbol: undefined,\n          onChange: handleNumberChange,\n          value: inputValue\n        });\n      case 'basedata':\n      case 'mulbasedata': // 多选or单选基础资料都使用一样的格式(即多选基础资料的格式'[[key,name],[key1,name1],[key2,name2]]')\n      case 'org':\n      case 'user':\n        return /*#__PURE__*/_react[\"default\"].createElement(_baseDataExtend.BaseDataExtend, {\n          className: (0, _classnames2[\"default\"])(_index[\"default\"]['base-data']),\n          onClick: handleF7Click,\n          onChange: handleBasedataChange,\n          value: inputValue,\n          Grow: 0,\n          disabled: disable,\n          onlySelect: onlySelect,\n          needSearch: needSearch,\n          editble: conditionOption.get('editble'),\n          placeholder: \"\",\n          inputStyle: _.FIELD_STYLE,\n          onF7LookUp: onF7LookUp,\n          entityId: entityId,\n          fieldName: fieldName,\n          isMulti: isMulti,\n          id: id,\n          theme: \"default\"\n        });\n      default:\n        return /*#__PURE__*/_react[\"default\"].createElement(_BaseComponents.Text, {\n          style: _.FIELD_STYLE,\n          placeholder: \"\",\n          Grow: 0,\n          onChange: handleDefaultChange,\n          value: inputValue,\n          theme: \"default\",\n          disabled: disable\n        });\n    }\n  };\n  var isDateType = type === 'date' || type === 'datetime';\n  var isBaseData = ['basedata', 'mulbasedata', 'org', 'user'].includes(type);\n  var conditionClass = (0, _classnames2[\"default\"])(className, _index[\"default\"]['condition-value'], _defineProperty(_defineProperty(_defineProperty(_defineProperty({}, _index[\"default\"][\"enum\"], type === 'enum'), _index[\"default\"]['date-range-wrap'], isDateType && between), _index[\"default\"]['date-picker'], isDateType && !dateNumber && !between), _index[\"default\"]['basedata-wrap'], isBaseData));\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: conditionClass,\n    onKeyDown: handleKeyDown || function () {\n      return null;\n    }\n  }, getValueInput());\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/schemeSearch/schemeEditor/conditionEditor/conditionItem/valueInput.js?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/schemeSearch/schemeEditor/conditionEditor/index.js":
/*!**********************************************************************************************!*\
  !*** ./src/component/web/base/ListFilter/schemeSearch/schemeEditor/conditionEditor/index.js ***!
  \**********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-properties.js */ \"../../node_modules/core-js/modules/es.object.define-properties.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptors.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.ConditionEditor = void 0;\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.find.js */ \"../../node_modules/core-js/modules/es.array.find.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _classnames = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nvar _conditionItem = __webpack_require__(/*! ./conditionItem */ \"./src/component/web/base/ListFilter/schemeSearch/schemeEditor/conditionEditor/conditionItem/index.js\");\nvar _index = _interopRequireDefault(__webpack_require__(/*! ./index.less */ \"./src/component/web/base/ListFilter/schemeSearch/schemeEditor/conditionEditor/index.less\"));\nvar _treeSelect = __webpack_require__(/*! ../../../Components/treeSelect */ \"./src/component/web/base/ListFilter/Components/treeSelect/index.js\");\nvar _utils = __webpack_require__(/*! ../utils */ \"./src/component/web/base/ListFilter/schemeSearch/schemeEditor/utils.js\");\nvar _customTooltip = __webpack_require__(/*! ../../../Components/customTooltip */ \"./src/component/web/base/ListFilter/Components/customTooltip/index.js\");\nvar _utils2 = __webpack_require__(/*! @/component/web/KDListFilter/utils */ \"./src/component/web/KDListFilter/utils.js\");\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _constants = __webpack_require__(/*! ../../../constants */ \"./src/component/web/base/ListFilter/constants.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar ConditionEditor = exports.ConditionEditor = function ConditionEditor(_ref) {\n  var entryenties = _ref.entryenties,\n    conditionOptions = _ref.conditionOptions,\n    onFieldBtnClick = _ref.onFieldBtnClick,\n    showMultiGrids = _ref.showMultiGrids,\n    showComplexSchema = _ref.showComplexSchema,\n    onSchemeSearch = _ref.onSchemeSearch,\n    onKeyDown = _ref.onKeyDown,\n    _onF7LookUp = _ref.onF7LookUp,\n    onSchemeChange = _ref.onSchemeChange,\n    selectedScheme = _ref.selectedScheme,\n    isLookUp = _ref.isLookUp,\n    isAdd = _ref.isAdd,\n    _ref$conditionStyle = _ref.conditionStyle,\n    conditionStyle = _ref$conditionStyle === void 0 ? {} : _ref$conditionStyle;\n  var containerRef = (0, _react.useRef)(null);\n  var addStatus = (0, _react.useRef)(false);\n  var _useContext = (0, _react.useContext)(_utils2.FilterContext),\n    lang = _useContext.lang;\n  var advanceConditions = selectedScheme.get('advance') || (0, _immutable.List)();\n  var addConditions = selectedScheme.get('add') || (0, _immutable.List)();\n  var selectedGrids = selectedScheme.get('grids');\n  (0, _react.useEffect)(function () {\n    if (addStatus.current) {\n      if (containerRef.current) {\n        containerRef.current.scrollTop = containerRef.current.scrollHeight;\n      }\n      addStatus.current = false;\n    }\n  }, [addConditions.count()]);\n  var fieldOpitions = (0, _react.useMemo)(function () {\n    return (0, _utils.getFieldOpitions)(conditionOptions, selectedGrids, lang);\n  }, [conditionOptions, selectedGrids, lang]);\n  var handleConditionChange = function handleConditionChange(index, isAdvance) {\n    return function (newCondition, isLogicChange) {\n      var newSelectedScheme;\n      if (isAdvance) {\n        var newAdvanceConditions = selectedScheme.get('advance').set(index, newCondition);\n        newSelectedScheme = selectedScheme.set('advance', newAdvanceConditions);\n      } else {\n        var newAddConditions = selectedScheme.get('add').set(index, newCondition);\n        newSelectedScheme = selectedScheme.set('add', newAddConditions);\n      }\n      onSchemeChange(newSelectedScheme);\n    };\n  };\n  var handleConditionDelete = function handleConditionDelete(index, isAdvance) {\n    return function () {\n      var newSelectedScheme;\n      if (isAdvance) {\n        var newAdvanceConditions = selectedScheme.get('advance').remove(index);\n        newSelectedScheme = selectedScheme.set('advance', newAdvanceConditions);\n      } else {\n        var newAddConditions = selectedScheme.get('add').remove(index);\n        newSelectedScheme = selectedScheme.set('add', newAddConditions);\n      }\n      onSchemeChange(newSelectedScheme);\n    };\n  };\n  var handleFieldBtnClick = function handleFieldBtnClick(_ref2) {\n    var fieldName = _ref2.fieldName,\n      compareType = _ref2.compareType,\n      entityId = _ref2.entityId,\n      rowIndex = _ref2.rowIndex,\n      isAdvance = _ref2.isAdvance;\n    return function (type) {\n      onFieldBtnClick({\n        type: type,\n        fieldName: fieldName,\n        compareType: compareType,\n        rowIndex: rowIndex,\n        entityId: entityId,\n        clientType: type === 'fieldValueClick' ? _constants.CLIENT_TYPE.add : isAdvance ? _constants.CLIENT_TYPE.advance : _constants.CLIENT_TYPE.add // 原来逻辑是文本编辑全是1,f7和是否预置条件有关\n      });\n    };\n  };\n  var handleConditionAdd = function handleConditionAdd() {\n    var newCondition = (0, _utils.getNewCondition)(conditionOptions, fieldOpitions);\n    if (newCondition) {\n      var newAddConditions = selectedScheme.get('add').push(newCondition);\n      var newSelectedScheme = selectedScheme.set('add', newAddConditions);\n      onSchemeChange(newSelectedScheme);\n    }\n    addStatus.current = true;\n  };\n  var handleGridsChange = function handleGridsChange(grids) {\n    var newSelectedScheme = selectedScheme.set('grids', (0, _immutable.fromJS)(grids));\n    onSchemeChange(newSelectedScheme);\n  };\n  var handleSchemeSearch = function handleSchemeSearch() {\n    // 当处于F7弹窗的新增方案的时候，不允许回车快捷键触发查询\n    if (isLookUp && isAdd) return;\n    onSchemeSearch();\n  };\n  var renderConditons = function renderConditons(conditions, isAdvance) {\n    return conditions.map(function (condition, index) {\n      var absoluteIndex = isAdvance ? index : index + advanceConditions.count();\n      var conditionOption = conditionOptions.find(function (item) {\n        return item.get('fieldName') === condition.get('k');\n      });\n      if (!conditionOption) return null;\n      var fieldName = conditionOption.get('fieldName');\n      var type = conditionOption.get('type');\n      var compareTypes = conditionOption.get('compareTypes').filter(function (compare) {\n        return compare.get('visible') !== false;\n      });\n      return /*#__PURE__*/_react[\"default\"].createElement(_conditionItem.ConditionItem, {\n        key: absoluteIndex,\n        type: type,\n        lang: lang,\n        conditionOption: conditionOption,\n        conditionOptions: conditionOptions,\n        condition: condition,\n        isAdvance: isAdvance,\n        compareTypes: compareTypes,\n        fieldOpitions: fieldOpitions,\n        showComplexSchema: showComplexSchema,\n        entryenties: entryenties,\n        onSchemeSearch: handleSchemeSearch,\n        onConditionChange: handleConditionChange(index, isAdvance),\n        onConditionDelete: handleConditionDelete(index, isAdvance),\n        onKeyDown: onKeyDown,\n        entityId: conditionOption.get('entityId', ''),\n        fieldName: fieldName,\n        onF7LookUp: function onF7LookUp(_ref3) {\n          var fieldName = _ref3.fieldName,\n            value = _ref3.value;\n          return _onF7LookUp({\n            fieldName: fieldName,\n            value: value,\n            entityId: conditionOption.get('entityId', '')\n          });\n        },\n        onFieldBtnClick: handleFieldBtnClick({\n          fieldName: fieldName,\n          isAdvance: isAdvance,\n          entityId: conditionOption.get('entityId', ''),\n          compareType: condition.get('c'),\n          rowIndex: absoluteIndex\n        })\n      });\n    });\n  };\n  var treeOptions = (0, _react.useMemo)(function () {\n    return (0, _utils.getTreeOpitions)(entryenties, lang);\n  }, [entryenties, lang]);\n  var tipsText = /*#__PURE__*/_react[\"default\"].createElement(\"p\", {\n    className: _index[\"default\"]['grids-range-tips']\n  }, (0, _intlApi.getLangMsg)('listFilter.key0037'));\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _index[\"default\"]['coditions-container'],\n    ref: containerRef,\n    style: _objectSpread({}, conditionStyle)\n  }, showMultiGrids ? /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames[\"default\"])('kd-cq-querypanel-item', _index[\"default\"]['grids-wrap'])\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames[\"default\"])('kd-cq-querypanel-item-text', _index[\"default\"]['grids-label'])\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", null, (0, _intlApi.getLangMsg)({\n    key: 'listFilter.key0029'\n  })), /*#__PURE__*/_react[\"default\"].createElement(_customTooltip.CustomToolTip, {\n    tips: tipsText,\n    className: (0, _classnames[\"default\"])('kd-cq-popup kd-cq-querypanel-tips-popup')\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    \"data-tip\": true,\n    className: (0, _classnames[\"default\"])('kd-cq-querypanel-item-icon', 'kdfont kd-hover-color kdfont-tishixinxi', _index[\"default\"]['tips-icon'])\n  })), /*#__PURE__*/_react[\"default\"].createElement(\"span\", null, \":\")), /*#__PURE__*/_react[\"default\"].createElement(_treeSelect.TreeSelect, {\n    className: _index[\"default\"]['tree-select'],\n    options: treeOptions,\n    value: selectedGrids.toJS(),\n    onChange: handleGridsChange\n  })) : null, renderConditons(advanceConditions, true), renderConditons(addConditions), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _index[\"default\"]['add-wrap']\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _index[\"default\"].add,\n    onClick: handleConditionAdd\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: (0, _classnames[\"default\"])('kd-cq-querypanel-item-icon', _index[\"default\"]['add-icon'], 'kdfont kdfont-tianjia kd-hover-fontIcon')\n  }), /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: \"kd-cq-querypanel-item-text\"\n  }, (0, _intlApi.getLangMsg)({\n    key: 'listFilter.key0028'\n  })))));\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/schemeSearch/schemeEditor/conditionEditor/index.js?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/schemeSearch/schemeEditor/index.js":
/*!******************************************************************************!*\
  !*** ./src/component/web/base/ListFilter/schemeSearch/schemeEditor/index.js ***!
  \******************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.SchemeEditor = void 0;\n__webpack_require__(/*! core-js/modules/es.array.find.js */ \"../../node_modules/core-js/modules/es.array.find.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.string.search.js */ \"../../node_modules/core-js/modules/es.string.search.js\");\n__webpack_require__(/*! core-js/modules/es.string.trim.js */ \"../../node_modules/core-js/modules/es.string.trim.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _classnames11 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _reactDom = __webpack_require__(/*! react-dom */ \"webpack/sharing/consume/default/react-dom/react-dom?418d\");\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nvar _conditionEditor = __webpack_require__(/*! ./conditionEditor */ \"./src/component/web/base/ListFilter/schemeSearch/schemeEditor/conditionEditor/index.js\");\nvar _commonAnimation = _interopRequireDefault(__webpack_require__(/*! @/component/common/commonAnimation.less */ \"./src/component/common/commonAnimation.less\"));\nvar _PanelWrapper = _interopRequireDefault(__webpack_require__(/*! @/component/common/PanelWrapper */ \"./src/component/common/PanelWrapper.js\"));\nvar _index = _interopRequireDefault(__webpack_require__(/*! ./index.less */ \"./src/component/web/base/ListFilter/schemeSearch/schemeEditor/index.less\"));\nvar _utils = __webpack_require__(/*! ../../utils */ \"./src/component/web/base/ListFilter/utils.js\");\nvar _constants = __webpack_require__(/*! ../../constants */ \"./src/component/web/base/ListFilter/constants.js\");\nvar _settingConfirm = __webpack_require__(/*! ./settingConfirm */ \"./src/component/web/base/ListFilter/schemeSearch/schemeEditor/settingConfirm.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nvar SchemeEditor = exports.SchemeEditor = function SchemeEditor(_ref) {\n  var _schemes$find, _schemes$find2;\n  var shareable = _ref.shareable,\n    schemes = _ref.schemes,\n    addSchemes = _ref.addSchemes,\n    entryenties = _ref.entryenties,\n    conditionOptions = _ref.conditionOptions,\n    selectedScheme = _ref.selectedScheme,\n    onSchemeChange = _ref.onSchemeChange,\n    onSchemeSave = _ref.onSchemeSave,\n    onFieldBtnClick = _ref.onFieldBtnClick,\n    onSchemeDelete = _ref.onSchemeDelete,\n    onCancelEdit = _ref.onCancelEdit,\n    showMultiGrids = _ref.showMultiGrids,\n    onSchemeShare = _ref.onSchemeShare,\n    onSchemeSearch = _ref.onSchemeSearch,\n    defaultSchemeId = _ref.defaultSchemeId,\n    showComplexSchema = _ref.showComplexSchema,\n    onSchemeSetDefault = _ref.onSchemeSetDefault,\n    switchFilterMode = _ref.switchFilterMode,\n    isLookUp = _ref.isLookUp,\n    showCommon = _ref.showCommon,\n    onF7LookUp = _ref.onF7LookUp;\n  var settingRef = (0, _react.useRef)(null);\n  var _useState = (0, _react.useState)(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    showConfirm = _useState2[0],\n    setShowConfirm = _useState2[1];\n  var _useState3 = (0, _react.useState)({\n      top: 0,\n      right: 0\n    }),\n    _useState4 = _slicedToArray(_useState3, 2),\n    confirmStyle = _useState4[0],\n    setConfirmStyle = _useState4[1];\n  var isAdd = selectedScheme.get('status') === _constants.SCHME_STATUS.add;\n  var _useState5 = (0, _react.useState)(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    AdditionalSaveShow = _useState6[0],\n    setAdditionalSaveShow = _useState6[1];\n  var AdditionalRef = (0, _react.useRef)(null);\n  var schemeName = selectedScheme.getIn(['currentScheme', 'schemeName']) || '';\n  var schemeId = selectedScheme.getIn(['currentScheme', 'id']);\n  var type = (_schemes$find = schemes.find(function (scheme) {\n    return scheme.get('id') === schemeId;\n  })) === null || _schemes$find === void 0 ? void 0 : _schemes$find.get('type');\n  var isDefault = schemeId && schemeId === defaultSchemeId;\n  (0, _react.useEffect)(function () {\n    if (showConfirm) {\n      var settingRect = settingRef.current.getBoundingClientRect();\n      var top = settingRect.bottom + 8;\n      var right = window.innerWidth - settingRect.right;\n      setConfirmStyle({\n        top: top,\n        right: right\n      });\n    }\n  }, [showConfirm]);\n  var handleSchemeNameChange = function handleSchemeNameChange(e) {\n    var schemeName = e.target.value.trim();\n    var newSelectedScheme = selectedScheme.setIn(['currentScheme', 'schemeName'], schemeName);\n    onSchemeChange(newSelectedScheme);\n  };\n  var handleAdditionalSchemeSave = function handleAdditionalSchemeSave() {\n    setAdditionalSaveShow(false);\n    // 另存的时候不传 id\n    onSchemeSave(true);\n  };\n  var handleSchemeSave = function handleSchemeSave() {\n    onSchemeSave();\n  };\n  var handleSchemeShare = function handleSchemeShare(isEdit) {\n    return function () {\n      var schemeId = selectedScheme.getIn(['currentScheme', 'id']);\n      onSchemeShare(schemeId, isEdit);\n    };\n  };\n  var handleSchemeSetDefault = function handleSchemeSetDefault(isDefault) {\n    return function () {\n      var schemeId = selectedScheme.getIn(['currentScheme', 'id']);\n      onSchemeSetDefault(schemeId, isDefault);\n    };\n  };\n  var isAdvance = (_schemes$find2 = schemes.find(function (scheme) {\n    return scheme.get('id') === schemeId;\n  })) === null || _schemes$find2 === void 0 ? void 0 : _schemes$find2.get('fixed');\n\n  // TODO 在外层组件判断\n  var getDeleteAble = function getDeleteAble() {\n    return !isDefault && !isAdvance;\n    // 当没有配置常用过滤，且无方案的时候，也不应该可删除，否则会出错\n    // if (isAdd) {\n    //   return !isDefault && !isAdvance && !(schemes.size === 0 && !showCommon)\n    // } else {\n    //   return !isDefault && !isAdvance && !(schemes.size === 1 && !showCommon)\n    // }\n  };\n  var handleClick = function handleClick() {\n    setShowConfirm(!showConfirm);\n  };\n  var handleClose = function handleClose() {\n    setShowConfirm(false);\n  };\n  var handleKeyDown = function handleKeyDown() {\n    onSchemeSearch();\n  };\n  var settingClassName = (0, _classnames11[\"default\"])(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty({}, _index[\"default\"].setting, true), 'kdfont kdfont-shezhi11', true), 'kd-hover-color', true), 'hover-theme-hover-fc', true), 'active-theme-active-fc', true));\n  var getSaveEle = function getSaveEle() {\n    var hasCondition = (0, _utils.getConditionCount)(selectedScheme) > 0;\n    var saveable = hasCondition && schemeName;\n    if (isLookUp && !isAdd) {\n      return type === _constants.RECEIVED_SCHEME || isAdvance ? /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n        onClick: saveable ? handleAdditionalSchemeSave : noop,\n        className: (0, _classnames11[\"default\"])(saveable ? 'theme btn-ghost hover-theme-border-color1 hover-theme-hover-fc' : '', _index[\"default\"].btn, _defineProperty({}, \"\".concat(_index[\"default\"].disabled, \" kd-cq-querypanel-btn-disable\"), !saveable))\n      }, (0, _intlApi.getLangMsg)('listFilter.key0030')) : /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: (0, _classnames11[\"default\"])(saveable ? 'theme btn-ghost hover-theme-border-color1' : '', _defineProperty({}, _index[\"default\"].btn_with_dropdown, saveable), _defineProperty({}, _index[\"default\"].btn_with_dropdown_disabled, !saveable)),\n        ref: AdditionalRef\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n        className: (0, _classnames11[\"default\"])('theme btn-ghost', _defineProperty({}, _index[\"default\"].savebutton, true)),\n        onClick: saveable ? handleSchemeSave : noop\n      }, (0, _intlApi.getLangMsg)('listFilter.key0022')), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: (0, _classnames11[\"default\"])(saveable ? 'theme btn-ghost hover-theme-border-color1 hover-theme-hover-fc' : '', _index[\"default\"].dropdownicon)\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: (0, _classnames11[\"default\"])('kdfont kdfont-xiala', _commonAnimation[\"default\"]['arrow-move-in-animation'], _defineProperty({}, _commonAnimation[\"default\"]['arrow-move-out-animation'], AdditionalSaveShow)),\n        onClick: saveable ? function () {\n          setAdditionalSaveShow(!AdditionalSaveShow);\n        } : noop\n      })));\n    } else {\n      return /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n        onClick: saveable ? handleAdditionalSchemeSave : noop,\n        className: (0, _classnames11[\"default\"])(saveable ? 'theme btn-ghost hover-theme-border-color1 hover-theme-hover-fc' : '', _index[\"default\"].btn, _defineProperty({}, \"\".concat(_index[\"default\"].disabled, \" kd-cq-querypanel-btn-disable\"), !saveable))\n      }, (0, _intlApi.getLangMsg)({\n        key: type === _constants.RECEIVED_SCHEME || isAdvance ? 'listFilter.key0030' : 'listFilter.key0022'\n      }));\n    }\n  };\n  var renderAdditionalSavePanel = function renderAdditionalSavePanel() {\n    return /*#__PURE__*/(0, _reactDom.createPortal)( /*#__PURE__*/_react[\"default\"].createElement(_PanelWrapper[\"default\"], {\n      onClose: function onClose() {\n        setAdditionalSaveShow(false);\n      },\n      trigger: AdditionalRef.current\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      onClick: handleAdditionalSchemeSave,\n      className: (0, _classnames11[\"default\"])('kd-cq-dropdown kd-cq-dropdown-select-type', _index[\"default\"].additionalbtn, _commonAnimation[\"default\"]['panel-drop-down-animation'])\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: \"kd-cq-dropdown-menu-item\"\n    }, \" \", (0, _intlApi.getLangMsg)('listFilter.key0030')))), document.body);\n  };\n  var noop = function noop() {\n    return null;\n  };\n  var hasCondition = (0, _utils.getConditionCount)(selectedScheme) > 0;\n  var schemeShareable = !isAdvance && !isAdd && type !== 2 && shareable;\n  var canSetDefault = !isAdd && !isDefault;\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames11[\"default\"])(_index[\"default\"]['scheme-editor'], _defineProperty({}, _index[\"default\"]['f7scheme-editor'], isLookUp))\n  }, !isLookUp && /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    onClick: handleClick,\n    ref: settingRef,\n    className: settingClassName\n  }), /*#__PURE__*/_react[\"default\"].createElement(_conditionEditor.ConditionEditor, {\n    selectedScheme: selectedScheme,\n    entryenties: entryenties,\n    showMultiGrids: showMultiGrids,\n    showComplexSchema: showComplexSchema,\n    conditionOptions: conditionOptions,\n    onFieldBtnClick: onFieldBtnClick,\n    onSchemeShare: onSchemeShare,\n    onKeyDown: handleKeyDown,\n    onSchemeSearch: onSchemeSearch,\n    onSchemeChange: onSchemeChange,\n    onF7LookUp: onF7LookUp,\n    isLookUp: isLookUp,\n    isAdd: isAdd\n  }), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _index[\"default\"]['scheme-editor-bottom']\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: (0, _classnames11[\"default\"])('kd-cq-querypanel-title', _index[\"default\"].label)\n  }, (0, _intlApi.getLangMsg)({\n    key: 'listFilter.key0021'\n  }), /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: \"require-icon\"\n  }, \"*\")), /*#__PURE__*/_react[\"default\"].createElement(\"input\", {\n    value: schemeName,\n    maxLength: 100,\n    onChange: handleSchemeNameChange,\n    className: (0, _classnames11[\"default\"])('kd-cq-querypanel-title', 'hover-theme-border-color1')\n  }), getSaveEle(), AdditionalSaveShow && renderAdditionalSavePanel(), isDefault && !isLookUp ? /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: (0, _classnames11[\"default\"])('theme btn-ghost hover-theme-border-color1 hover-theme-hover-fc', _index[\"default\"].btn),\n    onClick: handleSchemeSetDefault(false)\n  }, (0, _intlApi.getLangMsg)({\n    key: 'listFilter.key0024'\n  })) : null, canSetDefault && !isLookUp ? /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: (0, _classnames11[\"default\"])('theme btn-ghost hover-theme-border-color1 hover-theme-hover-fc', _index[\"default\"].btn, _defineProperty({}, \"\".concat(_index[\"default\"].disabled, \" kd-cq-querypanel-btn-disable\"), !hasCondition)),\n    onClick: !hasCondition ? noop : handleSchemeSetDefault(true)\n  }, (0, _intlApi.getLangMsg)({\n    key: 'listFilter.key0031'\n  })) : null, schemeShareable && !isLookUp ? /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: (0, _classnames11[\"default\"])('theme btn-ghost hover-theme-border-color1 hover-theme-hover-fc', _index[\"default\"].btn, _defineProperty({}, \"\".concat(_index[\"default\"].disabled, \" kd-cq-querypanel-btn-disable\"), !hasCondition)),\n    onClick: !hasCondition ? noop : handleSchemeShare(type === _constants.SHARED_SCHEME)\n  }, (0, _intlApi.getLangMsg)({\n    key: type === _constants.SHARED_SCHEME ? 'listFilter.key0032' : 'listFilter.key0025'\n  })) : null, isLookUp ? /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: (0, _classnames11[\"default\"])('theme btn-ghost hover-theme-border-color1 hover-theme-hover-fc', _index[\"default\"].btn),\n    onClick: onCancelEdit\n  }, (0, _intlApi.getLangMsg)({\n    key: 'listFilter.key0017'\n  })) : null, getDeleteAble() && !isLookUp ? /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: (0, _classnames11[\"default\"])('theme btn-ghost hover-theme-border-color1 hover-theme-hover-fc', _index[\"default\"].btn),\n    onClick: onSchemeDelete\n  }, (0, _intlApi.getLangMsg)({\n    key: isAdd ? 'listFilter.key0017' : 'listFilter.key0023'\n  })) : null, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: _index[\"default\"].empty\n  }), isLookUp && isAdd ? null : /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: (0, _classnames11[\"default\"])('theme-bg', 'hover-theme-bg1 active-theme-bg1', _index[\"default\"].btn, _index[\"default\"].search),\n    onClick: onSchemeSearch\n  }, (0, _intlApi.getLangMsg)({\n    key: 'listFilter.key0033'\n  }))), !isLookUp && showConfirm && /*#__PURE__*/_react[\"default\"].createElement(_settingConfirm.SettingConfirm, {\n    style: confirmStyle,\n    onClose: handleClose,\n    switchFilterMode: switchFilterMode\n  }));\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/schemeSearch/schemeEditor/index.js?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/schemeSearch/schemeEditor/settingConfirm.js":
/*!***************************************************************************************!*\
  !*** ./src/component/web/base/ListFilter/schemeSearch/schemeEditor/settingConfirm.js ***!
  \***************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-properties.js */ \"../../node_modules/core-js/modules/es.object.define-properties.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptors.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.SettingConfirm = void 0;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _reactDom = _interopRequireDefault(__webpack_require__(/*! react-dom */ \"webpack/sharing/consume/default/react-dom/react-dom?418d\"));\nvar _classnames = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _singleSpa = __webpack_require__(/*! @/api/singleSpa */ \"./src/api/singleSpa.js\");\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nvar _index = _interopRequireDefault(__webpack_require__(/*! ./index.less */ \"./src/component/web/base/ListFilter/schemeSearch/schemeEditor/index.less\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar SettingConfirm = exports.SettingConfirm = function SettingConfirm(_ref) {\n  var style = _ref.style,\n    onClose = _ref.onClose,\n    switchFilterMode = _ref.switchFilterMode;\n  var panelRef = (0, _react.useRef)(null);\n  var containEl = (0, _singleSpa.isSingleSpa)() ? (0, _singleSpa.getRootContainter)() : document.body;\n  (0, _react.useEffect)(function () {\n    window.addEventListener('mousedown', handleWindowMousedown, true);\n    window.addEventListener('resize', onClose);\n    return function () {\n      window.removeEventListener('mousedown', handleWindowMousedown, true);\n      window.removeEventListener('resize', onClose);\n    };\n  }, []);\n  var handleWindowMousedown = function handleWindowMousedown(e) {\n    var _panelRef$current;\n    var isClickPanel = (_panelRef$current = panelRef.current) === null || _panelRef$current === void 0 ? void 0 : _panelRef$current.contains(e.target);\n    if (!isClickPanel) {\n      onClose();\n    }\n  };\n  return /*#__PURE__*/_reactDom[\"default\"].createPortal( /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    style: _objectSpread({}, style),\n    className: (0, _classnames[\"default\"])(_index[\"default\"].container, 'kd-cq-dropdown kd-cq-dropdown-select-type'),\n    ref: panelRef\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _index[\"default\"].wrap\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames[\"default\"])('kd-cq-dropdown-menu-item theme btn-ghost kd-cq-dropdown-menu-item active-theme-active-fc active-theme-active-bdcolor1', _index[\"default\"].btn),\n    onClick: switchFilterMode\n  }, (0, _intlApi.getLangMsg)('listFilter.key0043')))), containEl);\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/schemeSearch/schemeEditor/settingConfirm.js?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/schemeSearch/utils.js":
/*!*****************************************************************!*\
  !*** ./src/component/web/base/ListFilter/schemeSearch/utils.js ***!
  \*****************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.getSchemeSaveArgs = exports.getIconName = void 0;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.reduce.js */ \"../../node_modules/core-js/modules/es.array.reduce.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.fixed.js */ \"../../node_modules/core-js/modules/es.string.fixed.js\");\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _constants = __webpack_require__(/*! ../constants */ \"./src/component/web/base/ListFilter/constants.js\");\nvar _utils = __webpack_require__(/*! ../utils */ \"./src/component/web/base/ListFilter/utils.js\");\n// 获取icon名\nvar getIconName = exports.getIconName = function getIconName(type) {\n  return type === _constants.SHARED_SCHEME ? 'kdfont-fenxiang' : 'kdfont-fenxianghuilai';\n};\n\n// 获取保存方案接口参数\nvar getSchemeSaveArgs = exports.getSchemeSaveArgs = function getSchemeSaveArgs(selectedScheme, entryenties) {\n  var isAdd = selectedScheme.get('status') === _constants.SCHME_STATUS.add;\n  var addvanceConditions = getConditions(selectedScheme.get('advance'), true);\n  var addConditions = getConditions(selectedScheme.get('add'));\n  var conditions = addvanceConditions.concat(addConditions);\n  var entryEntity = (0, _utils.getSelectedEntryEntity)(selectedScheme.get('grids'), entryenties);\n  var args = {\n    schemeName: selectedScheme.getIn(['currentScheme', 'schemeName']),\n    entryEntity: entryEntity,\n    scheme: conditions\n  };\n  if (!isAdd) {\n    args.id = selectedScheme.getIn(['currentScheme', 'id']);\n  }\n  return args;\n};\nvar getConditions = function getConditions(conditionsList, isAdvance) {\n  return conditionsList.reduce(function (conditions, conditionMap) {\n    var conditionObj = conditionMap.toJS();\n    var k = conditionObj.k,\n      v = conditionObj.v,\n      c = conditionObj.c,\n      leftBracket = conditionObj.leftBracket,\n      rightBracket = conditionObj.rightBracket,\n      logic = conditionObj.logic,\n      id = conditionObj.id;\n    var condition = {\n      FieldName: [k],\n      Compare: [c || ''],\n      Value: Array.isArray(v) ? v : [v],\n      Left: [leftBracket || ''],\n      Right: [rightBracket || ''],\n      Logic: [logic || 0]\n    };\n    if (id) condition.id = id;\n    if (isAdvance) condition.fixed = true;\n    conditions.push(condition);\n    return conditions;\n  }, []);\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/schemeSearch/utils.js?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/secondFilter/compactCommon/CommonText.js":
/*!************************************************************************************!*\
  !*** ./src/component/web/base/ListFilter/secondFilter/compactCommon/CommonText.js ***!
  \************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.CommonText = void 0;\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _classnames = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _BaseComponents = __webpack_require__(/*! @/component/web/base/BaseComponents */ \"./src/component/web/base/BaseComponents/index.js\");\nvar _index = _interopRequireDefault(__webpack_require__(/*! ./index.less */ \"./src/component/web/base/ListFilter/secondFilter/compactCommon/index.less\"));\nvar _conditionItem = __webpack_require__(/*! ../../schemeSearch/schemeEditor/conditionEditor/conditionItem */ \"./src/component/web/base/ListFilter/schemeSearch/schemeEditor/conditionEditor/conditionItem/index.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nvar CommonText = exports.CommonText = function CommonText(_ref) {\n  var value = _ref.value,\n    onChange = _ref.onChange,\n    className = _ref.className;\n  var handleChange = function handleChange(e) {\n    onChange(e.target.value);\n  };\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames[\"default\"])(className)\n  }, /*#__PURE__*/_react[\"default\"].createElement(_BaseComponents.Text, {\n    className: (0, _classnames[\"default\"])(_conditionItem.SelectThemeClass, _index[\"default\"]['common-text']),\n    placeholder: \"\",\n    Grow: 0,\n    \"data-entertosearch\": true,\n    onChange: handleChange,\n    value: value,\n    theme: \"default\"\n  }));\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/secondFilter/compactCommon/CommonText.js?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/secondFilter/compactCommon/basedataSelect/index.js":
/*!**********************************************************************************************!*\
  !*** ./src/component/web/base/ListFilter/secondFilter/compactCommon/basedataSelect/index.js ***!
  \**********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.BaseDataSelect = void 0;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.array.reduce.js */ \"../../node_modules/core-js/modules/es.array.reduce.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.set.js */ \"../../node_modules/core-js/modules/es.set.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _classnames = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _BaseData = _interopRequireDefault(__webpack_require__(/*! @/component/web/base/BaseData */ \"./src/component/web/base/BaseData/index.js\"));\nvar _utils = __webpack_require__(/*! ./utils */ \"./src/component/web/base/ListFilter/secondFilter/compactCommon/basedataSelect/utils.js\");\nvar _memoryCacher = __webpack_require__(/*! @/model/memoryCacher */ \"./src/model/memoryCacher.js\");\nvar _utils2 = __webpack_require__(/*! @/component/web/KDListFilter/utils */ \"./src/component/web/KDListFilter/utils.js\");\nvar _componentutil = __webpack_require__(/*! @/util/componentutil */ \"./src/util/componentutil.js\");\nvar _baseDataUtil = __webpack_require__(/*! @/util/baseDataUtil */ \"./src/util/baseDataUtil.js\");\nvar _serverproperties = __webpack_require__(/*! @/constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _index = _interopRequireDefault(__webpack_require__(/*! ../index.less */ \"./src/component/web/base/ListFilter/secondFilter/compactCommon/index.less\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n/**\n * 基础资料模糊查询\n * 默认编辑属性为别名\n * 显示也为别名\n */\nvar getOptionsFromValue = function getOptionsFromValue(basedataValue, basedataAlias) {\n  var options = [];\n  basedataValue.forEach(function (v, index) {\n    var label = v;\n    var value = basedataAlias.get(index);\n    options.push({\n      label: label,\n      value: value\n    });\n  });\n  return options;\n};\nvar BaseDataSelect = exports.BaseDataSelect = function BaseDataSelect(_ref) {\n  var valueObj = _ref.valueObj,\n    isMulti = _ref.isMulti,\n    onChange = _ref.onChange,\n    className = _ref.className,\n    fieldName = _ref.fieldName,\n    entityId = _ref.entityId,\n    onF7LookUp = _ref.onF7LookUp,\n    onFieldBtnClick = _ref.onFieldBtnClick,\n    disableF7 = _ref.disableF7,\n    isUser = _ref.isUser;\n  var basedataAlias = valueObj.get('ids') || (0, _immutable.List)();\n  var _basedataValue = valueObj.get('values') || (0, _immutable.List)();\n  var options = Object.keys(valueObj).length > 0 ? getOptionsFromValue(_basedataValue, basedataAlias) : [];\n  var _useBDData = (0, _utils.useBDData)(basedataAlias, options, isUser, isMulti),\n    _useBDData2 = _slicedToArray(_useBDData, 4),\n    alias = _useBDData2[0],\n    setAlias = _useBDData2[1],\n    code = _useBDData2[2],\n    baseDataValue = _useBDData2[3];\n  var _useState = (0, _react.useState)({\n      refreshId: '',\n      lookUpList: [],\n      hasMore: false,\n      columns: [],\n      size: 5,\n      inited: false\n    }),\n    _useState2 = _slicedToArray(_useState, 2),\n    lookUpData = _useState2[0],\n    setLookUpData = _useState2[1];\n  var lookupStrRef = (0, _react.useRef)('');\n  var _useContext = (0, _react.useContext)(_utils2.FilterContext),\n    pageId = _useContext.pageId,\n    key = _useContext.key;\n  var debounceOnF7LookUp = (0, _react.useCallback)(_lodash[\"default\"].debounce(onF7LookUp, 300), [onF7LookUp]);\n  (0, _react.useEffect)(function () {\n    var removesetLookUpDataFromServerListener = (0, _memoryCacher.addDataChangeListener)(pageId, [\"\".concat(key, \"_\").concat(fieldName, \"_lookup\")], setLookUpDataFromServer);\n    return function () {\n      removesetLookUpDataFromServerListener();\n    };\n  }, [pageId, key, fieldName]);\n  var setLookUpDataFromServer = function setLookUpDataFromServer(lookUpDataServer) {\n    var data = lookUpDataServer.data,\n      next = lookUpDataServer.next,\n      columns = lookUpDataServer.columns,\n      size = lookUpDataServer.size,\n      aliasindex = lookUpDataServer.aliasindex;\n    var inited = lookUpData.inited,\n      lastSize = lookUpData.size,\n      lastColumns = lookUpData.columns;\n    setLookUpData({\n      lookUpList: data,\n      hasMore: next,\n      columns: inited ? lastColumns : columns,\n      size: inited ? lastSize : size || 5,\n      inited: true,\n      refreshId: (0, _componentutil.createNewId)(),\n      aliasindex: aliasindex\n    });\n  };\n  var setItemByNumber = function setItemByNumber(number) {\n    if (number === '') {\n      // 必录还原 非必录还原\n      setAlias('');\n      onChange((0, _immutable.fromJS)({\n        ids: [''],\n        values: ['']\n      }));\n    } else {\n      // 点击空白处面板，这里的number可能不是编码\n      var _getValidCode = (0, _utils.getValidCode)(number, options, _allLookUpdata),\n        validCode = _getValidCode.validCode;\n      var selectedValue = Array.from(new Set(validCode));\n      var lookupMap = _allLookUpdata.reduce(function (res, item) {\n        res[item[0]] = item;\n        return res;\n      }, {});\n      var values = selectedValue.map(function (item) {\n        return lookupMap[item][lookUpData.aliasindex];\n      });\n      onChange((0, _immutable.fromJS)({\n        ids: selectedValue,\n        values: values\n      }));\n    }\n  };\n  var _allLookUpdata = baseDataValue === null || baseDataValue === void 0 ? void 0 : baseDataValue.toJS().concat(lookUpData.lookUpList);\n  var handleConvertToCode = function handleConvertToCode(valueStr) {\n    return (0, _baseDataUtil.convertToCode)(valueStr, (0, _immutable.fromJS)(_allLookUpdata), '', '', isMulti ? _serverproperties.Ctrls.KDMulBaseData : '');\n  };\n  var handleBaseDataChange = function handleBaseDataChange(lookUpInfo) {\n    var value = lookUpInfo.value;\n    lookupStrRef.current = value;\n    if (!value || value === '') {\n      return;\n    }\n    debounceOnF7LookUp({\n      fieldName: fieldName,\n      value: value,\n      entityId: entityId\n    });\n  };\n  var handleBaseDataSelectItem = function handleBaseDataSelectItem(ids, newCode) {\n    if (newCode) {\n      if (ids === '') {\n        onChange((0, _immutable.fromJS)({\n          ids: [''],\n          values: ['']\n        }));\n        return;\n      }\n      var lookupMap = _allLookUpdata.reduce(function (res, item) {\n        res[item[0]] = item;\n        return res;\n      }, {});\n      var idsArr = ids.split(',');\n      var values = idsArr.map(function (item) {\n        return lookupMap[item][lookUpData.aliasindex];\n      });\n      onChange((0, _immutable.fromJS)({\n        ids: idsArr,\n        values: values\n      }));\n    }\n  };\n  var handleF7Click = function handleF7Click() {\n    onFieldBtnClick();\n  };\n  var handleShowMoreClick = function handleShowMoreClick() {\n    onFieldBtnClick();\n  };\n  var refreshId = lookUpData.refreshId,\n    lookUpList = lookUpData.lookUpList,\n    hasMore = lookUpData.hasMore,\n    columns = lookUpData.columns,\n    size = lookUpData.size,\n    inited = lookUpData.inited;\n  return /*#__PURE__*/_react[\"default\"].createElement(_BaseData[\"default\"], {\n    className: (0, _classnames[\"default\"])(className, _index[\"default\"]['base-data'], 'hover-theme-bdcolor'),\n    type: isMulti ? _serverproperties.Ctrls.KDMulBaseData : '',\n    alias: alias,\n    value: alias,\n    code: code,\n    placeholder: \"\",\n    onClick: handleF7Click,\n    onConvertToCode: handleConvertToCode,\n    setItemByNumber: setItemByNumber,\n    lookUpList: (0, _immutable.fromJS)(lookUpList),\n    hasMore: hasMore,\n    columns: (0, _immutable.fromJS)(columns),\n    size: size,\n    inited: inited // 模糊查询结果\n    ,\n    refreshId: refreshId // 刷新模糊查询结果\n    ,\n    onBaseDataSelectItem: handleBaseDataSelectItem,\n    onBaseDataChange: handleBaseDataChange,\n    showAddBtnWhenNoData: false,\n    showViewDetailBtn: false,\n    showMoreClick: handleShowMoreClick,\n    disableF7: disableF7\n  });\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/secondFilter/compactCommon/basedataSelect/index.js?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/secondFilter/compactCommon/basedataSelect/utils.js":
/*!**********************************************************************************************!*\
  !*** ./src/component/web/base/ListFilter/secondFilter/compactCommon/basedataSelect/utils.js ***!
  \**********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.useBDData = exports.getValidCode = exports.getBDData = exports.convertToCode = void 0;\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.find.js */ \"../../node_modules/core-js/modules/es.array.find.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.join.js */ \"../../node_modules/core-js/modules/es.array.join.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.array.reduce.js */ \"../../node_modules/core-js/modules/es.array.reduce.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\n__webpack_require__(/*! core-js/modules/es.string.split.js */ \"../../node_modules/core-js/modules/es.string.split.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _react = __webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\");\nvar _const = __webpack_require__(/*! @/constant/const */ \"./src/constant/const.js\");\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nvar useBDData = exports.useBDData = function useBDData(value, options, isUser, isMulti) {\n  var _useMemo = (0, _react.useMemo)(function () {\n      return getBDData(value, options, isUser, isMulti);\n    }, [value, options]),\n    _alias = _useMemo.alias,\n    code = _useMemo.code,\n    baseDataValue = _useMemo.baseDataValue;\n  var _useState = (0, _react.useState)(_alias),\n    _useState2 = _slicedToArray(_useState, 2),\n    alias = _useState2[0],\n    setAlias = _useState2[1];\n  (0, _react.useEffect)(function () {\n    var _getBDData = getBDData(value, options, isUser, isMulti),\n      _alias = _getBDData.alias;\n    setAlias(_alias);\n  }, [value, options]);\n  return [alias, setAlias, code, baseDataValue];\n};\nvar getBDData = exports.getBDData = function getBDData(value, options, isUser, isMulti) {\n  // 数组转化为对象（取值性能优化）\n  var optionsObj = options.reduce(function (lastObj, _ref) {\n    var label = _ref.label,\n      value = _ref.value,\n      compare = _ref.compare;\n    // 如果key值已存在，没有compare的为基础资料的值，优先级更高\n    if (isUser && lastObj[value] && compare !== undefined) {\n      return lastObj;\n    }\n    lastObj[value] = label;\n    return lastObj;\n  }, {});\n  // TODO 后台暂时不支持所有选中数据都在选项中，所以先隐藏不在选项中的已选数据\n  var validValue = value.filter(function (v) {\n    return v && optionsObj[v];\n  });\n  var alias = getAlias(validValue, optionsObj, isMulti);\n  var code = validValue.join(_const.F7_DELIMITER);\n  var baseDataValue = validValue.map(function (v) {\n    return [v, optionsObj[v], optionsObj[v]];\n  });\n  return {\n    alias: alias,\n    code: code,\n    baseDataValue: baseDataValue\n  };\n};\nvar getAlias = function getAlias(value, optionsObj, isMulti) {\n  return value.map(function (v) {\n    return optionsObj[v];\n  }).join(_const.F7_DELIMITER) + (value.size === 0 ? '' : isMulti ? _const.F7_DELIMITER : '');\n};\n\n/**\n * 别名转化成编码\n * @param {*} alias\n * @returns\n */\n// TODO\nvar convertToCode = exports.convertToCode = function convertToCode() {\n  var alias = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var options = arguments.length > 1 ? arguments[1] : undefined;\n  var lookUpList = arguments.length > 2 ? arguments[2] : undefined;\n  if (!alias) return;\n  // 数组转化为对象（取值性能优化）\n  var optionsObj = options.reduce(function (lastObj, _ref2) {\n    var label = _ref2.label,\n      value = _ref2.value;\n    lastObj[label] = value;\n    return lastObj;\n  }, {});\n  return alias.split(_const.F7_DELIMITER).map(function (label) {\n    return optionsObj[label];\n  }).filter(function (v) {\n    return v;\n  }).join('');\n};\nvar getValidCode = exports.getValidCode = function getValidCode(number, options, lookUpList) {\n  var numberArr = number.split(',').filter(Boolean);\n  var validCode = [];\n  numberArr.forEach(function (code) {\n    if (!code) return false;\n    var option = options.find(function (_ref3) {\n      var value = _ref3.value;\n      return value === code;\n    });\n    var lookUpItem = lookUpList.find(function (_ref4) {\n      var _ref5 = _slicedToArray(_ref4, 2),\n        _value = _ref5[0],\n        _code = _ref5[1];\n      return [_value, _code].includes(code);\n    });\n    if (option || lookUpItem) {\n      validCode.push((option === null || option === void 0 ? void 0 : option.value) || lookUpItem[0]);\n    }\n  });\n  return {\n    validCode: validCode\n  };\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/secondFilter/compactCommon/basedataSelect/utils.js?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/secondFilter/compactCommon/commonSelect.js":
/*!**************************************************************************************!*\
  !*** ./src/component/web/base/ListFilter/secondFilter/compactCommon/commonSelect.js ***!
  \**************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.CommonSelect = void 0;\n__webpack_require__(/*! core-js/modules/es.array.join.js */ \"../../node_modules/core-js/modules/es.array.join.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _classnames = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _Select = _interopRequireDefault(__webpack_require__(/*! @/component/web/base/Select */ \"./src/component/web/base/Select.js\"));\nvar _conditionItem = __webpack_require__(/*! ../../schemeSearch/schemeEditor/conditionEditor/conditionItem */ \"./src/component/web/base/ListFilter/schemeSearch/schemeEditor/conditionEditor/conditionItem/index.js\");\nvar _index = _interopRequireDefault(__webpack_require__(/*! ./index.less */ \"./src/component/web/base/ListFilter/secondFilter/compactCommon/index.less\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nvar FIELD_STYLE = {\n  color: '#212121'\n};\nvar CommonSelect = exports.CommonSelect = function CommonSelect(_ref) {\n  var value = _ref.value,\n    isMulti = _ref.isMulti,\n    onChange = _ref.onChange,\n    options = _ref.options,\n    className = _ref.className;\n  var handleChange = function handleChange(value) {\n    onChange(value === null || value === void 0 ? void 0 : value.split(','));\n  };\n  var commonOptions = (0, _react.useMemo)(function () {\n    return options.map(function (_ref2) {\n      var label = _ref2.label,\n        value = _ref2.value;\n      return {\n        alias: label,\n        value: value\n      };\n    });\n  }, [options]);\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames[\"default\"])(className)\n  }, /*#__PURE__*/_react[\"default\"].createElement(_Select[\"default\"], {\n    className: (0, _classnames[\"default\"])(_conditionItem.SelectThemeClass, _index[\"default\"]['common-select']),\n    items: commonOptions,\n    onChange: handleChange,\n    style: FIELD_STYLE,\n    value: value.join(','),\n    Grow: 1,\n    theme: \"default\",\n    placeholder: \"\",\n    multiple: isMulti,\n    singleClearIconStyle: {\n      right: 8\n    }\n  }));\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/secondFilter/compactCommon/commonSelect.js?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/secondFilter/compactCommon/dateSelect/index.js":
/*!******************************************************************************************!*\
  !*** ./src/component/web/base/ListFilter/secondFilter/compactCommon/dateSelect/index.js ***!
  \******************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.DateSelect = void 0;\n__webpack_require__(/*! core-js/modules/es.array.join.js */ \"../../node_modules/core-js/modules/es.array.join.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _classnames = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _DateRangeField = _interopRequireDefault(__webpack_require__(/*! @/component/web/baseField/DateRangeField */ \"./src/component/web/baseField/DateRangeField.jsx\"));\nvar _index = _interopRequireDefault(__webpack_require__(/*! ./index.less */ \"./src/component/web/base/ListFilter/secondFilter/compactCommon/dateSelect/index.less\"));\nvar _utils = __webpack_require__(/*! @/component/web/KDListFilter/utils */ \"./src/component/web/KDListFilter/utils.js\");\nvar _moment = _interopRequireDefault(__webpack_require__(/*! moment */ \"../../node_modules/moment/moment.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nvar formatValueAfterSelect = function formatValueAfterSelect(value, showTime) {\n  var format = showTime ? 'YYYY-MM-DD HH:mm:ss' : 'YYYY-MM-DD';\n  return value.split(',').map(function (_date) {\n    return (0, _moment[\"default\"])(_date).format(format);\n  });\n};\nvar DateSelect = exports.DateSelect = function DateSelect(_ref) {\n  var value = _ref.value,\n    today = _ref.today,\n    showTime = _ref.showTime,\n    className = _ref.className,\n    onChange = _ref.onChange;\n  var singleDateStyle = {\n    style: {\n      overflow: 'hidden',\n      flex: '1',\n      height: '28px',\n      padding: '0px',\n      paddingRight: '24px'\n    },\n    inputProps: {\n      style: {\n        paddingLeft: '8px',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis'\n      }\n    },\n    iconStyle: {\n      right: '8px'\n    },\n    clearIconStyle: {\n      right: '8px'\n    }\n  };\n  var _useContext = (0, _react.useContext)(_utils.FilterContext),\n    current = _useContext.lang.current;\n  var calendarStatus = (0, _react.useRef)(false);\n  var handleSingleCustomDateChange = function handleSingleCustomDateChange(dateRange) {\n    if (!dateRange) {\n      // 触发查询\n      onChange(['']);\n      return;\n    }\n    // onchange 更改状态，panelclosecallback 触发查询\n    var formatValue = formatValueAfterSelect(dateRange, showTime);\n    onChange(formatValue);\n  };\n  var handleshowCalendarCallBack = function handleshowCalendarCallBack(showCalendar, newvalue) {\n    if (calendarStatus.current && !showCalendar) {\n      if (!newvalue) {\n        return;\n      }\n      if (newvalue !== value.join(',')) {\n        onChange(newvalue.split(','));\n      }\n    }\n    calendarStatus.current = showCalendar;\n  };\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames[\"default\"])(className, _index[\"default\"]['date-select-date-wrap'], 'hover-theme-bdcolor')\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _index[\"default\"]['single-date-select']\n  }, /*#__PURE__*/_react[\"default\"].createElement(_DateRangeField[\"default\"], _extends({\n    className: (0, _classnames[\"default\"])(_index[\"default\"]['single-date-com'], 'hover-theme-bdcolor hover-theme-fc'),\n    value: value === null || value === void 0 ? void 0 : value.join(','),\n    type: \"daterange\",\n    minDate: \"\",\n    maxDate: \"\",\n    showClear: true,\n    onChange: function onChange(datarange) {\n      return handleSingleCustomDateChange(datarange);\n    },\n    showCalendarCallBack: handleshowCalendarCallBack,\n    today: today,\n    linkage: false,\n    localeCode: current,\n    isAttachToBody: false,\n    showTime: showTime,\n    showNow: true,\n    startOption: {\n      disabledSuperNext: false,\n      disabledNext: false\n    },\n    endOption: {\n      disabledSuperPrev: false,\n      disabledPrev: false\n    }\n  }, singleDateStyle))));\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/secondFilter/compactCommon/dateSelect/index.js?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/secondFilter/compactCommon/filterItem.js":
/*!************************************************************************************!*\
  !*** ./src/component/web/base/ListFilter/secondFilter/compactCommon/filterItem.js ***!
  \************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.FilterItem = void 0;\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _basedataSelect = __webpack_require__(/*! ./basedataSelect */ \"./src/component/web/base/ListFilter/secondFilter/compactCommon/basedataSelect/index.js\");\nvar _dateSelect = __webpack_require__(/*! ./dateSelect */ \"./src/component/web/base/ListFilter/secondFilter/compactCommon/dateSelect/index.js\");\nvar _commonSelect = __webpack_require__(/*! ./commonSelect */ \"./src/component/web/base/ListFilter/secondFilter/compactCommon/commonSelect.js\");\nvar _CommonText = __webpack_require__(/*! ./CommonText */ \"./src/component/web/base/ListFilter/secondFilter/compactCommon/CommonText.js\");\nvar _utils = __webpack_require__(/*! ./utils */ \"./src/component/web/base/ListFilter/secondFilter/compactCommon/utils.js\");\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n// import { EnumSelect } from './enumSelect'\n\nvar FilterItem = exports.FilterItem = function FilterItem(_ref) {\n  var lang = _ref.lang,\n    type = _ref.type,\n    value = _ref.value,\n    items = _ref.items,\n    today = _ref.today,\n    isMulti = _ref.isMulti,\n    mustInput = _ref.mustInput,\n    className = _ref.className,\n    fieldName = _ref.fieldName,\n    onConditionChange = _ref.onConditionChange,\n    onF7LookUp = _ref.onF7LookUp,\n    entityId = _ref.entityId,\n    onFieldBtnClick = _ref.onFieldBtnClick;\n  var handleEnumChange = function handleEnumChange(value) {\n    onConditionChange(value);\n  };\n  var handleBDChange = function handleBDChange(value) {\n    onConditionChange(value);\n  };\n  var handleDateChange = function handleDateChange(value) {\n    onConditionChange(value);\n  };\n  var options = (0, _utils.getOptions)(items, lang) || [];\n  switch (type) {\n    case 'mulbasedata':\n    case 'org':\n    case 'basedata':\n    case 'user':\n      // user用enum形式\n      return /*#__PURE__*/_react[\"default\"].createElement(_basedataSelect.BaseDataSelect, {\n        isMulti: true,\n        className: className,\n        entityId: entityId,\n        valueObj: value || (0, _immutable.Map)(),\n        fieldName: fieldName,\n        onChange: handleBDChange,\n        onF7LookUp: onF7LookUp,\n        onFieldBtnClick: onFieldBtnClick\n      });\n    case 'date':\n    case 'datetime':\n      return /*#__PURE__*/_react[\"default\"].createElement(_dateSelect.DateSelect, {\n        className: className,\n        today: today,\n        value: value || [],\n        onChange: handleDateChange,\n        showTime: type === 'datetime'\n      });\n    case 'text':\n      return /*#__PURE__*/_react[\"default\"].createElement(_CommonText.CommonText, {\n        className: className,\n        value: value || '',\n        onChange: handleDateChange\n      });\n    default:\n      {\n        return /*#__PURE__*/_react[\"default\"].createElement(_commonSelect.CommonSelect, {\n          isMulti: true,\n          className: className,\n          value: value || [],\n          options: options,\n          onChange: handleEnumChange\n        });\n      }\n  }\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/secondFilter/compactCommon/filterItem.js?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/secondFilter/compactCommon/index.js":
/*!*******************************************************************************!*\
  !*** ./src/component/web/base/ListFilter/secondFilter/compactCommon/index.js ***!
  \*******************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.CompactCommonSearch = void 0;\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _classnames = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _keyCode = __webpack_require__(/*! @/constant/keyCode */ \"./src/constant/keyCode.js\");\nvar _langUtil = __webpack_require__(/*! @/util/langUtil */ \"./src/util/langUtil.js\");\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nvar _index = _interopRequireDefault(__webpack_require__(/*! ./index.less */ \"./src/component/web/base/ListFilter/secondFilter/compactCommon/index.less\"));\nvar _utils = __webpack_require__(/*! ./utils */ \"./src/component/web/base/ListFilter/secondFilter/compactCommon/utils.js\");\nvar _utils2 = __webpack_require__(/*! ../../utils */ \"./src/component/web/base/ListFilter/utils.js\");\nvar _filterItem = __webpack_require__(/*! ./filterItem */ \"./src/component/web/base/ListFilter/secondFilter/compactCommon/filterItem.js\");\nvar _constants = __webpack_require__(/*! ../../constants */ \"./src/component/web/base/ListFilter/constants.js\");\nvar _kdesign = __webpack_require__(/*! @kdcloudjs/kdesign */ \"webpack/sharing/consume/default/@kdcloudjs/kdesign/@kdcloudjs/kdesign\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nvar CompactCommonSearch = exports.CompactCommonSearch = function CompactCommonSearch(_ref) {\n  var lang = _ref.lang,\n    onF7LookUp = _ref.onF7LookUp,\n    grids = _ref.grids,\n    showMultiGrids = _ref.showMultiGrids,\n    secondFilterOptions = _ref.secondFilterOptions,\n    secondFilterValues = _ref.secondFilterValues,\n    onConditionChange = _ref.onConditionChange,\n    onCommonF7Click = _ref.onCommonF7Click,\n    onSelectGridsChange = _ref.onSelectGridsChange,\n    triggerSecondFilterSearch = _ref.triggerSecondFilterSearch,\n    _onFieldBtnClick = _ref.onFieldBtnClick,\n    isInnerUser = _ref.isInnerUser,\n    resetSecondFilterSearch = _ref.resetSecondFilterSearch,\n    selectedScheme = _ref.selectedScheme;\n  var containerRef = (0, _react.useRef)(null);\n  var relativeIndex = -1;\n  var _useAdapt = (0, _utils.useAdapt)(containerRef, lang),\n    _useAdapt2 = _slicedToArray(_useAdapt, 2),\n    itemWidth = _useAdapt2[0],\n    colCount = _useAdapt2[1];\n  var handleConditionChange = function handleConditionChange(fieldName) {\n    return function (value) {\n      onConditionChange(fieldName, value);\n    };\n  };\n  var _useState = (0, _react.useState)('horizontal'),\n    _useState2 = _slicedToArray(_useState, 2),\n    compactLayout = _useState2[0],\n    setCompactLayout = _useState2[1];\n  (0, _react.useEffect)(function () {\n    if ((lang === null || lang === void 0 ? void 0 : lang.current) !== 'zh_CN' && (lang === null || lang === void 0 ? void 0 : lang.current) !== 'zh_TW') {\n      setCompactLayout('vertical');\n    }\n  }, [lang]);\n  var handleKeyDown = function handleKeyDown(event) {\n    var keyCode = event.keyCode,\n      target = event.target;\n    switch (keyCode) {\n      case _keyCode.KEYS.ENTER:\n        {\n          // 目前值针对文本类型生效\n          var entertosearch = target.dataset.entertosearch;\n          if (entertosearch) {\n            triggerSecondFilterSearch();\n            target === null || target === void 0 || target.blur();\n          }\n          break;\n        }\n      default:\n        break;\n    }\n  };\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: compactLayout === 'horizontal' ? _index[\"default\"]['compact-container'] : _index[\"default\"]['vertical-compact-container'],\n    ref: containerRef,\n    onKeyDown: handleKeyDown\n  }, secondFilterOptions.map(function (filterField, index) {\n    var itemStyle = {\n      width: itemWidth,\n      marginRight: (index + 1 + (showMultiGrids ? 1 : 0)) % colCount === 0 ? 0 : _utils.MARGIN_RIGHT\n    };\n    var current = lang.current;\n    var label = (0, _langUtil.getValueByPath)(filterField, ['fieldCaption'], {\n      current: current\n    });\n    var fieldName = filterField.get('fieldName');\n    var value = secondFilterValues.get(fieldName);\n    if (value !== undefined) {\n      relativeIndex += 1;\n    }\n    var today = filterField.get(_constants.TODAY);\n    var mustInput = filterField.get('mustInput');\n    var rowIndex = relativeIndex;\n    var entityId = filterField.get('entityId');\n    var type = filterField.get('type');\n    var items = filterField.get('items') || [];\n    var inCompareId = filterField.get('inCompareId') || '';\n    var textClass = compactLayout === 'vertical' ? 'kd-cq-querypanel-compact-item-vertical-text' : 'kd-cq-querypanel-compact-item-text';\n    return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      key: fieldName,\n      className: (0, _classnames[\"default\"])('kd-cq-querypanel-compact-item', _index[\"default\"]['compact-item']),\n      style: itemStyle\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n      className: (0, _classnames[\"default\"])(textClass, _index[\"default\"].label),\n      title: label\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n      className: _index[\"default\"]['label-text']\n    }, label)), /*#__PURE__*/_react[\"default\"].createElement(_filterItem.FilterItem, {\n      fieldName: fieldName,\n      entityId: entityId,\n      lang: lang,\n      mustInput: mustInput,\n      className: (0, _classnames[\"default\"])(_index[\"default\"].select),\n      type: type,\n      value: value,\n      items: items,\n      today: today,\n      onConditionChange: handleConditionChange(fieldName),\n      onF7LookUp: onF7LookUp,\n      onFieldBtnClick: function onFieldBtnClick() {\n        return _onFieldBtnClick({\n          type: 'f7Click',\n          fieldName: fieldName,\n          isAdvance: false,\n          entityId: entityId,\n          compareType: inCompareId,\n          rowIndex: rowIndex,\n          clientType: _constants.CLIENT_TYPE.secondfilter,\n          secondFilterValues: secondFilterValues\n        });\n      },\n      isInnerUser: isInnerUser\n    }));\n  }), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _index[\"default\"].operation_part\n  }, /*#__PURE__*/_react[\"default\"].createElement(_kdesign.Button, {\n    className: (0, _classnames[\"default\"])(_index[\"default\"].cancel_operation, 'kd-cq-querypanel-item theme btn-ghost hover-theme-border-color1 hover-theme-hover-fc'),\n    onClick: resetSecondFilterSearch\n  }, (0, _intlApi.getLangMsg)({\n    key: 'listFilter.key0016'\n  })), /*#__PURE__*/_react[\"default\"].createElement(_kdesign.Button, {\n    className: (0, _classnames[\"default\"])(_index[\"default\"].search_operation, 'kd-cq-querypanel-item theme-bg', 'hover-theme-bg1 active-theme-bg1'),\n    onClick: triggerSecondFilterSearch\n  }, (0, _intlApi.getLangMsg)({\n    key: 'listFilter.key0046'\n  }))));\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/secondFilter/compactCommon/index.js?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/secondFilter/compactCommon/utils.js":
/*!*******************************************************************************!*\
  !*** ./src/component/web/base/ListFilter/secondFilter/compactCommon/utils.js ***!
  \*******************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.useAdapt = exports.getOptions = exports.MARGIN_RIGHT = void 0;\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _react = __webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\");\nvar _resizeObserverPolyfill = _interopRequireDefault(__webpack_require__(/*! resize-observer-polyfill */ \"../../node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js\"));\nvar _langUtil = __webpack_require__(/*! @/util/langUtil */ \"./src/util/langUtil.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nvar MARGIN_RIGHT = exports.MARGIN_RIGHT = 20;\nvar DEFAULT_COLUMNS_NUM = 1;\n// 计算自适应列数和每项宽度\nvar useAdapt = exports.useAdapt = function useAdapt(containerRef, lang) {\n  var ITEM_DEFAULT_WIDTH = (lang === null || lang === void 0 ? void 0 : lang.current) !== 'zh_CN' && (lang === null || lang === void 0 ? void 0 : lang.current) !== 'zh_TW' ? 200 : 320;\n  var _useState = (0, _react.useState)(ITEM_DEFAULT_WIDTH),\n    _useState2 = _slicedToArray(_useState, 2),\n    itemWidth = _useState2[0],\n    setItemWidth = _useState2[1]; // 字段宽度\n  var _useState3 = (0, _react.useState)(1),\n    _useState4 = _slicedToArray(_useState3, 2),\n    colCount = _useState4[0],\n    setColCount = _useState4[1]; // 列数\n\n  var containerResizeCb = function containerResizeCb(entries) {\n    var containterWidth = entries[0].contentRect.width;\n    var colCount = Math.floor((containterWidth + MARGIN_RIGHT) / (ITEM_DEFAULT_WIDTH + MARGIN_RIGHT)) || DEFAULT_COLUMNS_NUM;\n    var itemWidth = Math.floor((containterWidth + MARGIN_RIGHT) / colCount) - MARGIN_RIGHT;\n    setColCount(colCount);\n    setItemWidth(itemWidth);\n  };\n  (0, _react.useEffect)(function () {\n    var resizeObserve = new _resizeObserverPolyfill[\"default\"](containerResizeCb);\n    resizeObserve.observe(containerRef.current);\n    return function () {\n      resizeObserve.disconnect();\n    };\n  }, []);\n  return [itemWidth, colCount];\n};\n\n// 获取下拉选项\nvar getOptions = exports.getOptions = function getOptions(items, lang) {\n  var options = [];\n  items.forEach(function (item) {\n    var label = (0, _langUtil.getValueByPath)(item, ['caption'], lang);\n    var value = item.get('value');\n    var compare = item.get('compare');\n    options.push({\n      label: label,\n      value: value,\n      compare: compare\n    });\n  });\n  return options;\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/secondFilter/compactCommon/utils.js?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/secondFilter/index.js":
/*!*****************************************************************!*\
  !*** ./src/component/web/base/ListFilter/secondFilter/index.js ***!
  \*****************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.SecondFilter = void 0;\n__webpack_require__(/*! core-js/modules/web.timers.js */ \"../../node_modules/core-js/modules/web.timers.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _classnames2 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _compactCommon = __webpack_require__(/*! ./compactCommon */ \"./src/component/web/base/ListFilter/secondFilter/compactCommon/index.js\");\nvar _settingConfirm = __webpack_require__(/*! ./settingConfirm */ \"./src/component/web/base/ListFilter/secondFilter/settingConfirm/index.js\");\nvar _index = _interopRequireDefault(__webpack_require__(/*! ./index.less */ \"./src/component/web/base/ListFilter/secondFilter/index.less\"));\nvar _excluded = [\"lang\", \"switchFilterMode\", \"saveSchemeFilterConfig\", \"filterValuesFromProps\", \"schemeFilterConfig\", \"getSchemeFilterConfig\", \"secondFilterOptions\", \"onConditionChange\", \"onResetSecondFilterSearch\", \"onSecondFilterSearch\", \"secondFilterValues\"];\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n/**\n * TODO\n * 基础资料更多\n */\nvar SAFE_TOP_OFFSET = 8;\nvar DEFAULT_PANEL_WIDTH = 300;\nvar SecondFilter = exports.SecondFilter = function SecondFilter(_ref) {\n  var lang = _ref.lang,\n    switchFilterMode = _ref.switchFilterMode,\n    saveSchemeFilterConfig = _ref.saveSchemeFilterConfig,\n    filterValuesFromProps = _ref.filterValuesFromProps,\n    schemeFilterConfig = _ref.schemeFilterConfig,\n    getSchemeFilterConfig = _ref.getSchemeFilterConfig,\n    secondFilterOptions = _ref.secondFilterOptions,\n    onConditionChange = _ref.onConditionChange,\n    onResetSecondFilterSearch = _ref.onResetSecondFilterSearch,\n    onSecondFilterSearch = _ref.onSecondFilterSearch,\n    secondFilterValues = _ref.secondFilterValues,\n    other = _objectWithoutProperties(_ref, _excluded);\n  var _useState = (0, _react.useState)(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    showConfirm = _useState2[0],\n    setShowConfirm = _useState2[1];\n  var _useState3 = (0, _react.useState)({\n      top: 0,\n      right: 0\n    }),\n    _useState4 = _slicedToArray(_useState3, 2),\n    confirmStyle = _useState4[0],\n    setConfirmStyle = _useState4[1];\n  var settingRef = (0, _react.useRef)(null);\n  var panelRef = (0, _react.useRef)(null);\n  (0, _react.useEffect)(function () {\n    if (showConfirm) {\n      setTimeout(function () {\n        var _panelRef$current;\n        // 配置变化的时候也要重新计算\n        var settingRect = settingRef.current.getBoundingClientRect();\n        var top = settingRect.bottom + SAFE_TOP_OFFSET;\n        var left = settingRect.right - (((_panelRef$current = panelRef.current) === null || _panelRef$current === void 0 ? void 0 : _panelRef$current.offsetWidth) || DEFAULT_PANEL_WIDTH);\n        setConfirmStyle({\n          top: top,\n          left: left\n        });\n      });\n    }\n  }, [showConfirm, secondFilterOptions]);\n  var settingClassName = (0, _classnames2[\"default\"])(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty({}, _index[\"default\"].settting, true), 'kdfont kdfont-shezhi11', true), 'kd-hover-color', true), 'hover-theme-hover-fc', true), 'active-theme-active-fc', true));\n  var handleClick = function handleClick() {\n    if (!showConfirm) {\n      getSchemeFilterConfig();\n    }\n    setShowConfirm(!showConfirm);\n  };\n  var handleClose = function handleClose() {\n    setShowConfirm(false);\n  };\n  return /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, null, /*#__PURE__*/_react[\"default\"].createElement(_compactCommon.CompactCommonSearch, _extends({\n    lang: lang,\n    secondFilterValues: secondFilterValues,\n    triggerSecondFilterSearch: onSecondFilterSearch,\n    resetSecondFilterSearch: onResetSecondFilterSearch,\n    secondFilterOptions: secondFilterOptions,\n    onConditionChange: onConditionChange\n  }, other)), /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    onClick: handleClick,\n    ref: settingRef,\n    className: settingClassName\n  }), showConfirm && /*#__PURE__*/_react[\"default\"].createElement(_settingConfirm.SettingConfirm, {\n    lang: lang,\n    switchFilterMode: switchFilterMode,\n    saveSchemeFilterConfig: saveSchemeFilterConfig,\n    schemeFilterConfig: schemeFilterConfig,\n    style: confirmStyle,\n    onClose: handleClose,\n    ref: panelRef\n  }));\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/secondFilter/index.js?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/secondFilter/settingConfirm/condition.js":
/*!************************************************************************************!*\
  !*** ./src/component/web/base/ListFilter/secondFilter/settingConfirm/condition.js ***!
  \************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.ConditionItem = void 0;\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _classnames2 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _kdesign = __webpack_require__(/*! @kdcloudjs/kdesign */ \"webpack/sharing/consume/default/@kdcloudjs/kdesign/@kdcloudjs/kdesign\");\nvar _index = _interopRequireDefault(__webpack_require__(/*! ./index.less */ \"./src/component/web/base/ListFilter/secondFilter/settingConfirm/index.less\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nvar ConditionItem = exports.ConditionItem = function ConditionItem(_ref) {\n  var id = _ref.id,\n    name = _ref.name,\n    filter = _ref.filter,\n    visible = _ref.visible,\n    onChange = _ref.onChange,\n    disabled = _ref.disabled,\n    onDragEnd = _ref.onDragEnd,\n    className = _ref.className,\n    dragStartId = _ref.dragStartId,\n    onDragStart = _ref.onDragStart,\n    onListAdjust = _ref.onListAdjust,\n    showBorderTop = _ref.showBorderTop;\n  var _useState = (0, _react.useState)(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    isDrag = _useState2[0],\n    setIsDrag = _useState2[1];\n  var handleDragStart = function handleDragStart(e) {\n    e.stopPropagation();\n    setIsDrag(true);\n    onDragStart(id);\n  };\n  var handleDragEnd = function handleDragEnd() {\n    setIsDrag(false);\n    onDragEnd();\n  };\n  var handleDragOver = function handleDragOver() {\n    if (id !== dragStartId) {\n      onListAdjust(id);\n    }\n  };\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    draggable: !filter,\n    className: (0, _classnames2[\"default\"])(className, _index[\"default\"]['condition-item'], _defineProperty(_defineProperty({}, _index[\"default\"].drag, isDrag), _index[\"default\"]['border-top'], showBorderTop)),\n    onDragStart: handleDragStart,\n    onDragEnd: handleDragEnd,\n    onDragOver: handleDragOver\n  }, !filter && /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n    className: \"kdfont kdfont-tuozhuai kd-hover-color\"\n  }), /*#__PURE__*/_react[\"default\"].createElement(_kdesign.Checkbox, {\n    className: _index[\"default\"].checkbox,\n    checked: disabled || visible,\n    onChange: onChange,\n    disabled: disabled\n  }), /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: _index[\"default\"].name,\n    title: name\n  }, name));\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/secondFilter/settingConfirm/condition.js?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/secondFilter/settingConfirm/index.js":
/*!********************************************************************************!*\
  !*** ./src/component/web/base/ListFilter/secondFilter/settingConfirm/index.js ***!
  \********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-properties.js */ \"../../node_modules/core-js/modules/es.object.define-properties.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptors.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.SettingConfirm = void 0;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.find-index.js */ \"../../node_modules/core-js/modules/es.array.find-index.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.string.match.js */ \"../../node_modules/core-js/modules/es.string.match.js\");\n__webpack_require__(/*! core-js/modules/es.string.search.js */ \"../../node_modules/core-js/modules/es.string.search.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _reactDom = _interopRequireDefault(__webpack_require__(/*! react-dom */ \"webpack/sharing/consume/default/react-dom/react-dom?418d\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _classnames = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _singleSpa = __webpack_require__(/*! @/api/singleSpa */ \"./src/api/singleSpa.js\");\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nvar _langUtil = __webpack_require__(/*! @/util/langUtil */ \"./src/util/langUtil.js\");\nvar _condition = __webpack_require__(/*! ./condition */ \"./src/component/web/base/ListFilter/secondFilter/settingConfirm/condition.js\");\nvar _utils = __webpack_require__(/*! @/component/web/KDListFilter/utils */ \"./src/component/web/KDListFilter/utils.js\");\nvar _constants = __webpack_require__(/*! @/component/web/KDListFilter/constants */ \"./src/component/web/KDListFilter/constants.js\");\nvar _index = _interopRequireDefault(__webpack_require__(/*! ./index.less */ \"./src/component/web/base/ListFilter/secondFilter/settingConfirm/index.less\"));\nvar _utils2 = __webpack_require__(/*! ./utils */ \"./src/component/web/base/ListFilter/secondFilter/settingConfirm/utils.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n// schemeFilterConfig: undefined | { user: { }, factory: {} }\nvar SettingConfirm = exports.SettingConfirm = /*#__PURE__*/(0, _react.forwardRef)(function (_ref, panelRef) {\n  var current = _ref.lang.current,\n    style = _ref.style,\n    onClose = _ref.onClose,\n    switchFilterMode = _ref.switchFilterMode,\n    saveSchemeFilterConfig = _ref.saveSchemeFilterConfig,\n    schemeFilterConfig = _ref.schemeFilterConfig;\n  var _useContext = (0, _react.useContext)(_utils.FilterContext),\n    eventTracking = _useContext.eventTracking;\n  var hasDragRef = (0, _react.useRef)(false);\n  var containEl = (0, _singleSpa.isSingleSpa)() ? (0, _singleSpa.getRootContainter)() : document.body;\n  var _useState = (0, _react.useState)((0, _immutable.fromJS)({\n      type: 0,\n      rows: []\n    })),\n    _useState2 = _slicedToArray(_useState, 2),\n    config = _useState2[0],\n    setConfig = _useState2[1];\n  var _useState3 = (0, _react.useState)(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    isDrag = _useState4[0],\n    setIsDrag = _useState4[1];\n  var dragStartRef = (0, _react.useRef)(null);\n  var _useState5 = (0, _react.useState)({\n      height: 0,\n      minHeight: 0\n    }),\n    _useState6 = _slicedToArray(_useState5, 2),\n    pannelStyle = _useState6[0],\n    setPannelStyle = _useState6[1];\n  var _useState7 = (0, _react.useState)(''),\n    _useState8 = _slicedToArray(_useState7, 2),\n    filter = _useState8[0],\n    setFilter = _useState8[1];\n  (0, _react.useEffect)(function () {\n    setPannelStyle({});\n    window.addEventListener('mousedown', handleWindowMousedown, true);\n    window.addEventListener('resize', onClose);\n    return function () {\n      window.removeEventListener('mousedown', handleWindowMousedown, true);\n      window.removeEventListener('resize', onClose);\n    };\n  }, []);\n  (0, _react.useEffect)(function () {\n    if (schemeFilterConfig) {\n      var userConfig = schemeFilterConfig.get('user');\n      var factoryConfig = schemeFilterConfig.get('factory');\n      var configWithUser = (0, _utils2.getConfigWithUser)(userConfig, factoryConfig);\n      setConfig(configWithUser);\n    }\n  }, [schemeFilterConfig]);\n  var handleWindowMousedown = function handleWindowMousedown(e) {\n    var _panelRef$current;\n    var isClickPanel = (_panelRef$current = panelRef.current) === null || _panelRef$current === void 0 ? void 0 : _panelRef$current.contains(e.target);\n    if (!isClickPanel) {\n      onClose();\n    }\n  };\n  var handleChange = function handleChange(index) {\n    return function () {\n      var currentChecked = config.getIn(['rows', index, 'v']);\n      var newConfig = config.setIn(['rows', index, 'v'], currentChecked ? 0 : 1);\n      setConfig(newConfig);\n    };\n  };\n  var handleSelectType = function handleSelectType(type) {\n    return function () {\n      var newConfig = config.set('type', type);\n      setConfig(newConfig);\n    };\n  };\n  var handleReset = function handleReset() {\n    eventTracking(_constants.EVENT_TRACK_PROP.resetSetting, 'true');\n    if (!schemeFilterConfig) return;\n    var factoryType = schemeFilterConfig.getIn(['factory', 'type']);\n    var factoryRows = schemeFilterConfig.getIn(['factory', 'rows']);\n    var newConfig = config.set('type', factoryType).set('rows', factoryRows);\n    setConfig(newConfig);\n  };\n  var handleSave = function handleSave() {\n    var userConfig = config.toJS();\n    userConfig.rows = userConfig.rows.map(function (_ref2) {\n      var v = _ref2.v,\n        k = _ref2.k;\n      return {\n        v: v,\n        k: k\n      };\n    });\n    var newSchemeFilterConfig = schemeFilterConfig.setIn(['user', 'rows'], (0, _immutable.fromJS)(userConfig.rows));\n    onClose();\n    saveSchemeFilterConfig(userConfig, newSchemeFilterConfig);\n  };\n  var allowDrag = function allowDrag(e) {\n    e.preventDefault();\n  };\n  var handleDragStart = function handleDragStart(startId) {\n    hasDragRef.current = true;\n    setIsDrag(true);\n    dragStartRef.current = startId;\n  };\n  var handleDragEnd = function handleDragEnd() {\n    setIsDrag(false);\n  };\n  var handleListAdjust = function handleListAdjust(endId) {\n    var adjustedconditionList = [];\n    var conditionList = config.get('rows').toJS();\n    var dragStartId = dragStartRef.current;\n    var startIndex = conditionList.findIndex(function (condition) {\n      return condition.k === dragStartId;\n    });\n    var endIndex = conditionList.findIndex(function (condition) {\n      return condition.k === endId;\n    });\n    if (startIndex > endIndex) {\n      adjustedconditionList = [].concat(_toConsumableArray(conditionList.slice(0, endIndex)), [conditionList[startIndex]], _toConsumableArray(conditionList.slice(endIndex, startIndex)), _toConsumableArray(conditionList.slice(startIndex + 1)));\n    } else {\n      adjustedconditionList = [].concat(_toConsumableArray(conditionList.slice(0, startIndex)), _toConsumableArray(conditionList.slice(startIndex + 1, endIndex + 1)), [conditionList[startIndex]], _toConsumableArray(conditionList.slice(endIndex + 1)));\n    }\n    var newConfig = config.set('rows', (0, _immutable.fromJS)(adjustedconditionList));\n    setConfig(newConfig);\n  };\n  var handlePanelClick = function handlePanelClick(e) {\n    e.stopPropagation();\n  };\n  var handleFilterChange = function handleFilterChange(e) {\n    setFilter(e.target.value);\n  };\n  var tipsText = /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _index[\"default\"]['tips-container']\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"p\", {\n    className: (0, _classnames[\"default\"])('kd-cq-querypanel-tips-popup-title', _index[\"default\"]['tips-tilte'])\n  }, (0, _intlApi.getLangMsg)('listFilter.key0014')), /*#__PURE__*/_react[\"default\"].createElement(\"p\", null, (0, _intlApi.getLangMsg)('listFilter.key0035')), /*#__PURE__*/_react[\"default\"].createElement(\"p\", {\n    className: (0, _classnames[\"default\"])('kd-cq-querypanel-tips-popup-title', _index[\"default\"]['tips-tilte'])\n  }, (0, _intlApi.getLangMsg)('listFilter.key0013')), /*#__PURE__*/_react[\"default\"].createElement(\"p\", null, (0, _intlApi.getLangMsg)('listFilter.key0036')));\n  return /*#__PURE__*/_reactDom[\"default\"].createPortal( /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    style: _objectSpread(_objectSpread({}, style), pannelStyle),\n    className: (0, _classnames[\"default\"])('kd-cq-dropdown kd-cq-dropdown-select-type kd-cq-listfilter-setting-dropdown', _index[\"default\"].container),\n    ref: panelRef\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _index[\"default\"].content\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _index[\"default\"].search\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n    className: (0, _classnames[\"default\"])(style['search-icon'], 'kdfont kdfont-f input-color')\n  }), /*#__PURE__*/_react[\"default\"].createElement(\"input\", {\n    placeholder: (0, _intlApi.getLangMsg)('listFilter.key0039'),\n    value: filter,\n    onChange: handleFilterChange,\n    maxLength: 50,\n    className: (0, _classnames[\"default\"])('kd-cq-dropdown-menu-item', 'primary-text-in-light')\n  })), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames[\"default\"])('kd-cq-dropdown-menu-item', _index[\"default\"]['conditions-wrap']),\n    onDragOver: allowDrag,\n    onDragEnter: allowDrag\n  }, config.get('rows').map(function (condition, index) {\n    var dragIndex = config.get('rows').findIndex(function (condition) {\n      return condition.get('k') === dragStartRef.current;\n    });\n    var showBorderTop = isDrag && index === dragIndex + 1; // 拖拽时显示下面一个条件的上边框\n    var disabled = condition.get('h') === 0;\n    var nameWithLang = condition.get('c');\n    var name = nameWithLang && (0, _langUtil.getValueByPath)(nameWithLang, [], {\n      current: current\n    });\n    if (filter && !name.match(filter)) return null;\n    return /*#__PURE__*/_react[\"default\"].createElement(_condition.ConditionItem, {\n      filter: filter,\n      key: condition.get('k'),\n      visible: condition.get('v') === 1,\n      disabled: disabled,\n      name: name,\n      id: condition.get('k'),\n      onChange: handleChange(index),\n      onDragStart: handleDragStart,\n      onDragEnd: handleDragEnd,\n      dragStartId: dragStartRef.current,\n      onListAdjust: handleListAdjust,\n      showBorderTop: showBorderTop\n    });\n  }))), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames[\"default\"])('kd-cq-dropdown-menu-item', _index[\"default\"].bottom)\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames[\"default\"])(_index[\"default\"][\"switch\"], 'hover-theme-border-color1 hover-theme-hover-fc active-theme-active-fc active-theme-active-bdcolor1'),\n    onClick: switchFilterMode\n  }, (0, _intlApi.getLangMsg)('listFilter.key0043')), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _index[\"default\"]['right-wrap']\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames[\"default\"])('hover-theme-border-color1 hover-theme-hover-fc active-theme-active-fc active-theme-active-bdcolor1', _index[\"default\"].reset),\n    onClick: handleReset\n  }, (0, _intlApi.getLangMsg)('listFilter.key0016')), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames[\"default\"])('hover-theme-border-color1 hover-theme-hover-fc active-theme-active-fc active-theme-active-bdcolor1', _index[\"default\"].cancel),\n    onClick: onClose\n  }, (0, _intlApi.getLangMsg)('listFilter.key0017')), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames[\"default\"])('theme-bg hover-theme-bg1 active-theme-bg1', _index[\"default\"].confirm),\n    onClick: handleSave\n  }, (0, _intlApi.getLangMsg)('listFilter.key0018'))))), containEl);\n});\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/secondFilter/settingConfirm/index.js?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/secondFilter/settingConfirm/utils.js":
/*!********************************************************************************!*\
  !*** ./src/component/web/base/ListFilter/secondFilter/settingConfirm/utils.js ***!
  \********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.getOptionKeysFromConfig = exports.getConfigWithUser = void 0;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.find-index.js */ \"../../node_modules/core-js/modules/es.array.find-index.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.array.reduce.js */ \"../../node_modules/core-js/modules/es.array.reduce.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\n// 获取过滤配置，合并用户和出厂配置\nvar getConfigWithUser = exports.getConfigWithUser = function getConfigWithUser(userConfig, factoryConfig) {\n  var userRows = userConfig.get('rows') || (0, _immutable.List)();\n  var factoryRows = factoryConfig.get('rows') || (0, _immutable.List)();\n  var useRowsWidthFactory = userRows.map(function (row) {\n    var newRow = row;\n    var factoryRowIndex = factoryRows.findIndex(function (_row) {\n      return _row.get('k') === row.get('k');\n    });\n    if (factoryRowIndex > -1) {\n      var factoryRow = factoryRows.get(factoryRowIndex);\n      factoryRows = factoryRows[\"delete\"](factoryRowIndex);\n      newRow = newRow.set('c', factoryRow.get('c'));\n      return newRow;\n    }\n    return undefined;\n  }).filter(Boolean);\n  var otherFactoryRows = factoryRows.map(function (row) {\n    return row.set('v', 0);\n  });\n  return userConfig.set('rows', useRowsWidthFactory.concat(otherFactoryRows));\n};\nvar getOptionKeysFromConfig = exports.getOptionKeysFromConfig = function getOptionKeysFromConfig(config) {\n  var rows = config.get('rows');\n  if (rows.size > 0) {\n    return rows.reduce(function (res, item) {\n      if (item.get('v') === 1) {\n        res.push(item.get('k'));\n      }\n      return res;\n    }, []);\n  } else {\n    return [];\n  }\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/secondFilter/settingConfirm/utils.js?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/selectedConditions/index.js":
/*!***********************************************************************!*\
  !*** ./src/component/web/base/ListFilter/selectedConditions/index.js ***!
  \***********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.SelectCondition = void 0;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _classnames = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _index = _interopRequireDefault(__webpack_require__(/*! ./index.less */ \"./src/component/web/base/ListFilter/selectedConditions/index.less\"));\nvar _FoldContainer = __webpack_require__(/*! ../../FoldContainer */ \"./src/component/web/base/FoldContainer/index.js\");\nvar _conditionItem = __webpack_require__(/*! ../Components/conditionItem */ \"./src/component/web/base/ListFilter/Components/conditionItem/index.js\");\nvar _kdesign = __webpack_require__(/*! @kdcloudjs/kdesign */ \"webpack/sharing/consume/default/@kdcloudjs/kdesign/@kdcloudjs/kdesign\");\nvar _utils = __webpack_require__(/*! ./utils */ \"./src/component/web/base/ListFilter/selectedConditions/utils.js\");\nvar _utils2 = __webpack_require__(/*! ../commonSearch/utils */ \"./src/component/web/base/ListFilter/commonSearch/utils.js\");\nvar _constants = __webpack_require__(/*! ../constants */ \"./src/component/web/base/ListFilter/constants.js\");\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nvar SelectCondition = exports.SelectCondition = function SelectCondition(_ref) {\n  var lang = _ref.lang,\n    commonSelected = _ref.commonSelected,\n    commonOptions = _ref.commonOptions,\n    onCommonSelectedChange = _ref.onCommonSelectedChange;\n  var displayConditions = (0, _react.useMemo)(function () {\n    return (0, _utils.getDisplayConditions)(lang, commonSelected, commonOptions);\n  }, [commonSelected, commonOptions]);\n  var getDropDownCom = function getDropDownCom(count) {\n    return /*#__PURE__*/_react[\"default\"].createElement(_kdesign.Dropdown.Menu, null, displayConditions.slice(displayConditions.length - count).map(function (_ref2, index) {\n      var key = _ref2.key,\n        title = _ref2.title,\n        displayValue = _ref2.displayValue,\n        canDelete = _ref2.canDelete;\n      return /*#__PURE__*/_react[\"default\"].createElement(_kdesign.Dropdown.Item, {\n        key: key,\n        className: _index[\"default\"]['dropdown-item']\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n        className: _index[\"default\"].condition\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", null, title, \"\\uFF1A\", displayValue)), canDelete && /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n        className: (0, _classnames[\"default\"])(_index[\"default\"].icon),\n        onClick: handleConditionDelete(key)\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n        className: (0, _classnames[\"default\"])(_index[\"default\"]['c-icon-close'], 'kdfont kdfont-shanchu-s secondary-text-in-light')\n      })));\n    }));\n  };\n  var handleConditionDelete = function handleConditionDelete(key) {\n    return function () {\n      var newCommonSelected = (0, _utils2.getNewCommonSelected)(commonSelected, key, (0, _immutable.fromJS)([_constants.BU_XIAN_ID]));\n      onCommonSelectedChange(newCommonSelected);\n    };\n  };\n  return /*#__PURE__*/_react[\"default\"].createElement(_FoldContainer.FoldContainer, {\n    className: _index[\"default\"]['selected-conditions'],\n    getDropDownCom: getDropDownCom\n  }, displayConditions.map(function (_ref3, index) {\n    var key = _ref3.key,\n      title = _ref3.title,\n      displayValue = _ref3.displayValue,\n      canDelete = _ref3.canDelete;\n    return /*#__PURE__*/_react[\"default\"].createElement(_conditionItem.ConditionItem, {\n      key: \"\".concat(key).concat(index),\n      label: title,\n      value: displayValue,\n      canDelete: canDelete,\n      onConditionDelete: handleConditionDelete(key)\n    });\n  }));\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/selectedConditions/index.js?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/selectedConditions/utils.js":
/*!***********************************************************************!*\
  !*** ./src/component/web/base/ListFilter/selectedConditions/utils.js ***!
  \***********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.getDisplayConditions = void 0;\n__webpack_require__(/*! core-js/modules/es.array.find.js */ \"../../node_modules/core-js/modules/es.array.find.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.join.js */ \"../../node_modules/core-js/modules/es.array.join.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.trim.js */ \"../../node_modules/core-js/modules/es.string.trim.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _moment = _interopRequireDefault(__webpack_require__(/*! moment */ \"../../node_modules/moment/moment.js\"));\nvar _constants = __webpack_require__(/*! ../constants */ \"./src/component/web/base/ListFilter/constants.js\");\nvar _langUtil = __webpack_require__(/*! @/util/langUtil */ \"./src/util/langUtil.js\");\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nvar formatUtil = _interopRequireWildcard(__webpack_require__(/*! @/util/formatUtil */ \"./src/util/formatUtil.js\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nvar TODAY = (0, _intlApi.getLangMsg)({\n  key: 'ListFilter.key0006'\n});\nvar THIS_WEEK = (0, _intlApi.getLangMsg)({\n  key: 'ListFilter.key0007'\n});\nvar THIS_MONTH = (0, _intlApi.getLangMsg)({\n  key: 'ListFilter.key0008'\n});\nvar THIS_YEAR = (0, _intlApi.getLangMsg)({\n  key: 'ListFilter.key0009'\n});\n\n// 获取显示的条件\nvar getDisplayConditions = exports.getDisplayConditions = function getDisplayConditions(lang, commonSelected, commonOptions) {\n  var displayConditions = [];\n  commonSelected.forEach(function (condition, index) {\n    var key = condition.get('k');\n    var value = condition.get('v');\n    if (value === undefined) {\n      return;\n    }\n    if (value.count() === 1 && value.get(0) === _constants.BU_XIAN_ID) {\n      return;\n    } // '不限'选项，不需要渲染出来.\n    var field = commonOptions.find(function (option) {\n      return option.get('fieldName') === key;\n    });\n    if (!field) {\n      return;\n    } // 选中内容不存在，就不渲染。\n    var current = lang.current;\n    var displayValue = getDisplayValue(value, field, lang);\n    if (displayValue) {\n      displayConditions.push({\n        key: key,\n        displayValue: displayValue,\n        canDelete: !field.get(_constants.MUST_INPUT),\n        title: (0, _langUtil.getValueByPath)(field, ['fieldCaption'], {\n          current: current\n        })\n      });\n    }\n  });\n  return displayConditions;\n};\nvar getDisplayValue = function getDisplayValue(value, field, lang) {\n  var type = field.get('type');\n  var current = lang.current;\n  var displayValue;\n  switch (type) {\n    case 'number':\n      if (value.get(0) === '') {\n        if (value.get(1) === '') {\n          return;\n        } else {\n          displayValue = '<=' + value.get(1);\n        }\n      } else {\n        if (value.get(1) === '') {\n          displayValue = '>=' + value.get(0);\n        } else {\n          displayValue = (0, _intlApi.getLangMsg)({\n            key: 'ListFilter.key0003',\n            variables: {\n              first: value.get(0),\n              end: value.get(1)\n            }\n          });\n        }\n      }\n      break;\n    case 'enum':\n    case 'basedata': // 基础资料类型渲染方式,与'enum'一致\n    case 'org':\n    case 'user':\n      {\n        if (!(value instanceof _immutable.List)) {\n          value = (0, _immutable.List)([value]);\n        }\n        var items = field.get('items');\n        var tempArray = [];\n        var tmpObj;\n        // 选项集合\n        var valueItemMap = new _immutable.Map();\n        items.forEach(function (item) {\n          if (type === 'user') {\n            // 已存在值，且不含有compare的是基础资料，优先级更高\n            if (!valueItemMap.get(item.get('value')) || !item.get('compare')) {\n              valueItemMap = valueItemMap.set(item.get('value'), item);\n            }\n          } else {\n            valueItemMap = valueItemMap.set(item.get('value'), item);\n          }\n        });\n        // 数据量较大时只截取前面部分\n        value.slice(0, 20).forEach(function (el) {\n          if (items.count() > 0) {\n            tmpObj = valueItemMap.get(el);\n            if (tmpObj) {\n              var val = (0, _langUtil.getValueByPath)(tmpObj, ['caption'], {\n                current: current\n              });\n              tempArray.push(val);\n            }\n          }\n        });\n        displayValue = tempArray.join(',') + (value.count() > 20 ? '...' : '');\n        break;\n      }\n    case 'date':\n    case 'datetime':\n      if (value.count() === 0) break;\n      if (value.count() < 2) {\n        // eg: ['63']\n        if (!(value instanceof _immutable.List)) {\n          value = [value];\n        }\n        var _items = field.get('items');\n        var _tempArray = [];\n        value.forEach(function (el) {\n          var item = _items.find(function (item) {\n            return el === item.get('value');\n          });\n          item && _tempArray.push((0, _langUtil.getValueByPath)(item, ['caption'], {\n            current: current\n          }));\n        });\n        displayValue = _tempArray.length === 0 ? value : _tempArray.join(',');\n      } else {\n        // 自定义日期范围 eg: [['2017-02-01','2017-03-01']]\n        var startDate = value.get(0);\n        var endDate = value.get(1);\n        if (startDate) {\n          if (endDate) {\n            var tempDate1 = startDate instanceof Date ? startDate : new Date(startDate);\n            var tempDate2 = endDate instanceof Date ? endDate : new Date(endDate);\n            displayValue = getDataAlias(tempDate1, tempDate2);\n            if (!displayValue) {\n              displayValue = (0, _intlApi.getLangMsg)({\n                key: 'ListFilter.key0003',\n                variables: {\n                  first: formatDateUseRegion(startDate, type, lang),\n                  end: formatDateUseRegion(endDate, type, lang)\n                }\n              });\n            }\n          } else {\n            displayValue = (0, _intlApi.getLangMsg)({\n              key: 'ListFilter.key0004',\n              variables: {\n                date: removeTimeFromDatetime(formatDateUseRegion(startDate, type, lang))\n              }\n            });\n          }\n        } else {\n          if (endDate) {\n            displayValue = (0, _intlApi.getLangMsg)({\n              key: 'ListFilter.key0005',\n              variables: {\n                date: removeTimeFromDatetime(formatDateUseRegion(endDate, type, lang))\n              }\n            });\n          } else {\n            return;\n          }\n        }\n      }\n      break;\n  }\n  return displayValue;\n};\n\n// 使用全局日期格式配置,对日期信息进行格式化\nvar formatDateUseRegion = function formatDateUseRegion(dateStr, dateType, lang) {\n  var format = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '';\n  if (!(0, _moment[\"default\"])(dateStr).isValid()) return '';\n  var date = dateStr ? (0, _moment[\"default\"])(dateStr, format, lang.current) : '';\n  if (dateStr && dateType) {\n    return formatUtil.formatDate(date, format, dateType);\n  }\n  return dateStr;\n};\n\n// 去除长日期的时间部分\nvar removeTimeFromDatetime = function removeTimeFromDatetime(dateStr) {\n  var dateTemp = dateStr;\n  if (dateTemp && dateTemp.trim) {\n    dateTemp = dateTemp.trim().split(' ');\n    if (dateTemp.length === 2) {\n      return dateTemp[0]; // 只要日期部分\n    }\n  }\n  return dateStr;\n};\n\n/**\n * 根据日期判断是否是今天,本周,本月\n */\nvar getDataAlias = function getDataAlias(date1, date2) {\n  if (!date1 || !date2) return;\n  var now = new Date();\n  var startYear = date1.getFullYear();\n  var startMonth = date1.getMonth();\n  var startDate = date1.getDate();\n\n  // let startDay = date1.getDay()\n\n  var endYear = date2.getFullYear();\n  var endMonth = date2.getMonth();\n  var endDate = date2.getDate();\n\n  // let endDay = date2.getDay()\n\n  var curYear = now.getFullYear();\n  var curMonth = now.getMonth();\n  var curDate = now.getDate();\n  var curDay = now.getDay() === 0 ? 7 : now.getDay();\n\n  // 判断是否是今天\n  if (startYear === curYear && startDate === curDate && startMonth === curMonth && endYear === curYear && endDate === curDate && endMonth === curMonth) {\n    return TODAY;\n  }\n  if (startYear === curYear && startMonth === 0 && startDate === 1) {\n    var endOfCurYear = new Date(new Date(curYear + 1, 0, 1).getTime() - 1);\n    if (endOfCurYear.getFullYear() === endYear && endOfCurYear.getMonth() === endMonth && endOfCurYear.getDate() === endDate) {\n      return THIS_YEAR;\n    }\n  }\n  if (startYear === curYear && startMonth === curMonth && startDate === 1) {\n    var endOfCurMonth = new Date(new Date(curYear, curMonth + 1, 1).getTime() - 1);\n    if (endOfCurMonth.getFullYear() === endYear && endOfCurMonth.getMonth() === endMonth && endOfCurMonth.getDate() === endDate) {\n      return THIS_MONTH;\n    }\n  }\n\n  // 判断本周，从周一到周日\n  var weekStartDate = new Date(curYear, curMonth, curDate - curDay + 1);\n  var weekEndDate = new Date(curYear, curMonth, curDate + (7 - curDay));\n  if (weekStartDate.getFullYear() === startYear && weekStartDate.getMonth() === startMonth && weekStartDate.getDate() === startDate && weekEndDate.getFullYear() === endYear && weekEndDate.getMonth() === endMonth && weekEndDate.getDate() === endDate) {\n    return THIS_WEEK;\n  }\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/selectedConditions/utils.js?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/Components/conditionItem/index.less":
/*!*******************************************************************************!*\
  !*** ./src/component/web/base/ListFilter/Components/conditionItem/index.less ***!
  \*******************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"condition-item\":\"index_condition-item_1i9P\",\"condition-text\":\"index_condition-text_2l0V\",\"icon\":\"index_icon_1xlR\",\"c-icon-close\":\"index_c-icon-close_PIqP\"});\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/Components/conditionItem/index.less?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/Components/customTooltip/index.less":
/*!*******************************************************************************!*\
  !*** ./src/component/web/base/ListFilter/Components/customTooltip/index.less ***!
  \*******************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"tips-class\":\"index_tips-class_2odr\"});\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/Components/customTooltip/index.less?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/Components/filterSelect/index.less":
/*!******************************************************************************!*\
  !*** ./src/component/web/base/ListFilter/Components/filterSelect/index.less ***!
  \******************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"arrow-move-in-animation\":\"index_arrow-move-in-animation_2Ukn\",\"arrow-move-out-animation\":\"index_arrow-move-out-animation_8-A8\",\"panel-drop-down-animation\":\"index_panel-drop-down-animation_1DHw\",\"panel-drop-down\":\"index_panel-drop-down_b61-\",\"require_icon\":\"index_require_icon_1EhC\",\"schemeselect\":\"index_schemeselect_3n6S\",\"title\":\"index_title_1vvS\",\"arrow\":\"index_arrow_1yIn\",\"close\":\"index_close_1Zld\",\"schememenu\":\"index_schememenu_7Fcy\",\"schemelist\":\"index_schemelist_Lj5P\",\"schemeitems\":\"index_schemeitems_QTs5\",\"item\":\"index_item_1rwA\",\"schemename_area\":\"index_schemename_area_2mpq\",\"schemename\":\"index_schemename_1opi\",\"share-icon\":\"index_share-icon_3prK\",\"statusarea\":\"index_statusarea_3LAn\",\"defaultschme\":\"index_defaultschme_1Cnm\",\"operation\":\"index_operation_1eS8\",\"hoverscheme_nooperation\":\"index_hoverscheme_nooperation_1YAV\",\"hoverscheme\":\"index_hoverscheme_1oSz\",\"item-add\":\"index_item-add_1-Nf\",\"addIcon\":\"index_addIcon_lz0F\",\"addtext\":\"index_addtext_PD05\",\"selected\":\"index_selected_20nx\",\"custom-dropdown\":\"index_custom-dropdown_2NLv\",\"arrow-move-in\":\"index_arrow-move-in_1oDF\",\"arrow-move-out\":\"index_arrow-move-out_oniv\"});\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/Components/filterSelect/index.less?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/Components/title/index.less":
/*!***********************************************************************!*\
  !*** ./src/component/web/base/ListFilter/Components/title/index.less ***!
  \***********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"arrow-move-in-animation\":\"index_arrow-move-in-animation_1cUu\",\"arrow-move-out-animation\":\"index_arrow-move-out-animation_2AGQ\",\"panel-drop-down-animation\":\"index_panel-drop-down-animation_2yrr\",\"panel-drop-down\":\"index_panel-drop-down_2pPg\",\"title\":\"index_title_6B2j\",\"title-text\":\"index_title-text_2ynj\",\"schemeselect\":\"index_schemeselect_1gr1\",\"arrow\":\"index_arrow_2DHu\",\"schememenu\":\"index_schememenu_2fux\",\"schemelist\":\"index_schemelist_1vW9\",\"schemeitems\":\"index_schemeitems_1hUy\",\"item\":\"index_item_1Qi0\",\"schemename_area\":\"index_schemename_area_1BOa\",\"schemename\":\"index_schemename_2f4Y\",\"share-icon\":\"index_share-icon_1_Y-\",\"statusarea\":\"index_statusarea_1EzX\",\"defaultschme\":\"index_defaultschme_17n2\",\"operation\":\"index_operation_1fyP\",\"hoverscheme_nooperation\":\"index_hoverscheme_nooperation_1LE4\",\"hoverscheme\":\"index_hoverscheme_1alA\",\"item-add\":\"index_item-add_1Bov\",\"addIcon\":\"index_addIcon_fcH2\",\"addtext\":\"index_addtext_Su42\",\"selected\":\"index_selected_1CHf\",\"custom-dropdown\":\"index_custom-dropdown_dQWO\",\"arrow-move-in\":\"index_arrow-move-in_3ahe\",\"arrow-move-out\":\"index_arrow-move-out_1gZV\"});\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/Components/title/index.less?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/Components/treeSelect/index.less":
/*!****************************************************************************!*\
  !*** ./src/component/web/base/ListFilter/Components/treeSelect/index.less ***!
  \****************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"tree-select\":\"index_tree-select_WwR_\",\"value\":\"index_value_c2Nt\",\"expand\":\"index_expand_3kDg\",\"panel-wrap\":\"index_panel-wrap_1WBi\",\"option\":\"index_option_1xQr\",\"option-item\":\"index_option-item_oZmX\",\"expand-icon-container\":\"index_expand-icon-container_3Rcw\",\"expand-icon\":\"index_expand-icon_3JY-\",\"label\":\"index_label_1KOT\",\"children-wrap\":\"index_children-wrap_3Vcw\"});\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/Components/treeSelect/index.less?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/commonSearch/compactCommon/index.less":
/*!*********************************************************************************!*\
  !*** ./src/component/web/base/ListFilter/commonSearch/compactCommon/index.less ***!
  \*********************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"compact-container\":\"index_compact-container_31dL\",\"vertical-compact-container\":\"index_vertical-compact-container_3zTu\",\"compact-item\":\"index_compact-item_3CLI\",\"label\":\"index_label_2Gvd\",\"label-text\":\"index_label-text_hVGL\",\"tips-icon\":\"index_tips-icon_SeFZ\",\"select\":\"index_select_303h\",\"common-select\":\"index_common-select_16u5\",\"base-data\":\"index_base-data_1pEw\",\"operation_part\":\"index_operation_part_2xrM\",\"cancel_operation\":\"index_cancel_operation_gfvu\",\"search_operation\":\"index_search_operation_3xwf\",\"grids-range-tips\":\"index_grids-range-tips_2MLY\"});\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/commonSearch/compactCommon/index.less?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/commonSearch/index.less":
/*!*******************************************************************!*\
  !*** ./src/component/web/base/ListFilter/commonSearch/index.less ***!
  \*******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"settting\":\"index_settting_28HB\"});\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/commonSearch/index.less?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/commonSearch/settingConfirm/index.less":
/*!**********************************************************************************!*\
  !*** ./src/component/web/base/ListFilter/commonSearch/settingConfirm/index.less ***!
  \**********************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"container\":\"index_container_1khj\",\"container-en\":\"index_container-en_wf5h\",\"header\":\"index_header_3ipx\",\"title\":\"index_title_1qFq\",\"tips-icon\":\"index_tips-icon_mafA\",\"type-select-wrap\":\"index_type-select-wrap_32LL\",\"select-item\":\"index_select-item_1iaf\",\"selected\":\"index_selected_3_kg\",\"content\":\"index_content_10p_\",\"search\":\"index_search_3teT\",\"conditions-wrap\":\"index_conditions-wrap_1Nqr\",\"condition-item\":\"index_condition-item_2jt4\",\"drag\":\"index_drag_2gls\",\"border-top\":\"index_border-top_p8nG\",\"checkbox\":\"index_checkbox_15dp\",\"name\":\"index_name_tY3u\",\"bottom\":\"index_bottom_200r\",\"switch\":\"index_switch_1tlA\",\"right-wrap\":\"index_right-wrap_3WS0\",\"reset\":\"index_reset_2prQ\",\"cancel\":\"index_cancel_Z3e7\",\"confirm\":\"index_confirm_NQ7A\",\"tips-container\":\"index_tips-container_3IH1\",\"tips-tilte\":\"index_tips-tilte_PVcG\"});\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/commonSearch/settingConfirm/index.less?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/index.less":
/*!******************************************************!*\
  !*** ./src/component/web/base/ListFilter/index.less ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"list-filter\":\"index_list-filter_gYiu\",\"filter-header\":\"index_filter-header_1u5m\",\"achive-select\":\"index_achive-select_3TwW\",\"link-query\":\"index_link-query_1u1v\",\"link-query-info\":\"index_link-query-info_30lr\",\"icon\":\"index_icon_fdfA\",\"c-icon-close\":\"index_c-icon-close_2hyB\",\"empty\":\"index_empty_2rHe\",\"collapse\":\"index_collapse_15A1\",\"expand\":\"index_expand_Z8qU\",\"expand-panel-common\":\"index_expand-panel-common_3OB_\",\"common-scroll\":\"index_common-scroll_2rVM\",\"contentshow\":\"index_contentshow_1Pw6\"});\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/index.less?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/quickSearch/index.less":
/*!******************************************************************!*\
  !*** ./src/component/web/base/ListFilter/quickSearch/index.less ***!
  \******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"quick-search\":\"index_quick-search_Zjop\",\"all-border\":\"index_all-border_2M6L\",\"qs-c\":\"index_qs-c_36ju\",\"qs-isLookUp\":\"index_qs-isLookUp_1x98\",\"qs-hasCondition\":\"index_qs-hasCondition_2nmW\",\"qc-input\":\"index_qc-input_xLNL\",\"qc-flag\":\"index_qc-flag_2R5x\",\"qc-container\":\"index_qc-container_1FMv\",\"qc-label\":\"index_qc-label_1JHt\",\"qc-l-delete\":\"index_qc-l-delete_3LJd\",\"qc-l-title\":\"index_qc-l-title_1OGX\",\"qc-l-con\":\"index_qc-l-con_3zcu\",\"input-mirror\":\"index_input-mirror_3eMA\",\"qs-list\":\"index_qs-list_3d0s\",\"hide\":\"index_hide_2WSw\",\"item\":\"index_item_3wmR\",\"item-selected\":\"index_item-selected_1WGG\",\"nlp-split-line\":\"index_nlp-split-line_3AGt\",\"nlp-result\":\"index_nlp-result_3CxO\",\"color-whtie\":\"index_color-whtie_31IP\",\"quick-tips\":\"index_quick-tips_20JV\",\"tips-nlp\":\"index_tips-nlp_2Mlg\"});\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/quickSearch/index.less?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/schemeEditModel/styles.less":
/*!***********************************************************************!*\
  !*** ./src/component/web/base/ListFilter/schemeEditModel/styles.less ***!
  \***********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"arrow-move-in-animation\":\"styles_arrow-move-in-animation_13Rz\",\"arrow-move-out-animation\":\"styles_arrow-move-out-animation_2d5B\",\"panel-drop-down-animation\":\"styles_panel-drop-down-animation_383R\",\"panel-drop-down\":\"styles_panel-drop-down_3YJV\",\"editschememodal\":\"styles_editschememodal_1Vh-\",\"filter-header\":\"styles_filter-header_1Eno\",\"empty\":\"styles_empty_35Yt\",\"content\":\"styles_content_JHON\",\"schemename\":\"styles_schemename_2sFQ\",\"label\":\"styles_label_2UMW\",\"tabContainer\":\"styles_tabContainer_XkVm\",\"conditions\":\"styles_conditions_3kwD\",\"operations\":\"styles_operations_2YV6\",\"cancel\":\"styles_cancel_1x6J\",\"confirm\":\"styles_confirm_2ABk\",\"saveloading\":\"styles_saveloading_2oow\",\"disabled\":\"styles_disabled_qqLl\",\"loadingwrapper\":\"styles_loadingwrapper_1vyL\",\"loading\":\"styles_loading_1T7G\",\"arrow-move-in\":\"styles_arrow-move-in_3QP5\",\"arrow-move-out\":\"styles_arrow-move-out_2eMd\"});\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/schemeEditModel/styles.less?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/schemeF7EditDialog/styles.less":
/*!**************************************************************************!*\
  !*** ./src/component/web/base/ListFilter/schemeF7EditDialog/styles.less ***!
  \**************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"arrow-move-in-animation\":\"styles_arrow-move-in-animation_4dGD\",\"arrow-move-out-animation\":\"styles_arrow-move-out-animation_33zH\",\"panel-drop-down-animation\":\"styles_panel-drop-down-animation_QR5T\",\"panel-drop-down\":\"styles_panel-drop-down_ez7i\",\"editschemepanel\":\"styles_editschemepanel_25Wf\",\"filter-header\":\"styles_filter-header_pQ-x\",\"empty\":\"styles_empty_2VZ1\",\"editpanel_show\":\"styles_editpanel_show_3Nbu\",\"arrow-move-in\":\"styles_arrow-move-in_1JAP\",\"arrow-move-out\":\"styles_arrow-move-out_-A2S\"});\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/schemeF7EditDialog/styles.less?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/schemeSearch/schemeEditor/conditionEditor/index.less":
/*!************************************************************************************************!*\
  !*** ./src/component/web/base/ListFilter/schemeSearch/schemeEditor/conditionEditor/index.less ***!
  \************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"global-select-close-icon\":\"index_global-select-close-icon_366M\",\"coditions-container\":\"index_coditions-container_3qan\",\"grids-wrap\":\"index_grids-wrap_1sxS\",\"grids-label\":\"index_grids-label_1Cm3\",\"tips-icon\":\"index_tips-icon_2Ck6\",\"tree-select\":\"index_tree-select_W5F7\",\"codition-item\":\"index_codition-item_3fg-\",\"condition-input\":\"index_condition-input_lzEh\",\"enum\":\"index_enum_3HCa\",\"select\":\"index_select_2j0b\",\"condition-field\":\"index_condition-field_22Lv\",\"disabled\":\"index_disabled_20t7\",\"condition-logic\":\"index_condition-logic_Pc79\",\"condition-compare\":\"index_condition-compare_1FCo\",\"condition-value\":\"index_condition-value_2_9K\",\"text-edit-btn\":\"index_text-edit-btn_2ahb\",\"base-data\":\"index_base-data_1NYg\",\"basedata-wrap\":\"index_basedata-wrap_MO3F\",\"date-range-wrap\":\"index_date-range-wrap_96dN\",\"date-range\":\"index_date-range_3_nA\",\"date-picker\":\"index_date-picker_2Xvb\",\"date\":\"index_date_3FeE\",\"and\":\"index_and_2R0j\",\"delete\":\"index_delete_hG4G\",\"add-wrap\":\"index_add-wrap_22sR\",\"add\":\"index_add_2eiF\",\"add-icon\":\"index_add-icon_9I7r\"});\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/schemeSearch/schemeEditor/conditionEditor/index.less?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/schemeSearch/schemeEditor/index.less":
/*!********************************************************************************!*\
  !*** ./src/component/web/base/ListFilter/schemeSearch/schemeEditor/index.less ***!
  \********************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"scheme-editor\":\"index_scheme-editor_2bb3\",\"setting\":\"index_setting_2RfR\",\"grids-wrap\":\"index_grids-wrap_3_Y8\",\"grids-label\":\"index_grids-label_2UU-\",\"tips-icon\":\"index_tips-icon_3OuR\",\"tree-select\":\"index_tree-select_2boV\",\"global-select-close-icon\":\"index_global-select-close-icon_3j82\",\"scheme-editor-bottom\":\"index_scheme-editor-bottom_3teE\",\"label\":\"index_label_1e3i\",\"btn\":\"index_btn_1eL-\",\"disabled\":\"index_disabled_1rW8\",\"search\":\"index_search_lhfD\",\"btn_with_dropdown\":\"index_btn_with_dropdown_2hWV\",\"savebutton\":\"index_savebutton_2h4u\",\"dropdownicon\":\"index_dropdownicon_2Tv-\",\"btn_with_dropdown_disabled\":\"index_btn_with_dropdown_disabled_Tqpo\",\"empty\":\"index_empty_2XyP\",\"f7scheme-editor\":\"index_f7scheme-editor_SOA3\",\"additionalbtn\":\"index_additionalbtn_13-7\",\"tips-tilte\":\"index_tips-tilte_1mPd\",\"container\":\"index_container_8Gxz\",\"wrap\":\"index_wrap_28tx\"});\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/schemeSearch/schemeEditor/index.less?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/secondFilter/compactCommon/dateSelect/index.less":
/*!********************************************************************************************!*\
  !*** ./src/component/web/base/ListFilter/secondFilter/compactCommon/dateSelect/index.less ***!
  \********************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"date-select-wrap\":\"index_date-select-wrap_3VT7\",\"date-select\":\"index_date-select_3qPR\",\"value\":\"index_value_YRMB\",\"time\":\"index_time_1LTQ\",\"split\":\"index_split_2KsS\",\"close\":\"index_close_NJgV\",\"icon\":\"index_icon_L6ws\",\"expand\":\"index_expand_1N2y\",\"date-select-date-wrap\":\"index_date-select-date-wrap_1zHd\",\"single-date-select\":\"index_single-date-select_2eG5\",\"panel-container\":\"index_panel-container_3ZIh\",\"select-item\":\"index_select-item_2iJ3\",\"selected\":\"index_selected_3Qw7\",\"date-com-wrap\":\"index_date-com-wrap_2N0x\",\"date-com\":\"index_date-com_3_SF\",\"single-date-com\":\"index_single-date-com_3eq1\"});\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/secondFilter/compactCommon/dateSelect/index.less?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/secondFilter/compactCommon/index.less":
/*!*********************************************************************************!*\
  !*** ./src/component/web/base/ListFilter/secondFilter/compactCommon/index.less ***!
  \*********************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"compact-container\":\"index_compact-container_2q9u\",\"vertical-compact-container\":\"index_vertical-compact-container_ufTJ\",\"compact-item\":\"index_compact-item_ZHt_\",\"label\":\"index_label_3Mw_\",\"label-text\":\"index_label-text_1zPR\",\"tips-icon\":\"index_tips-icon_1KO7\",\"select\":\"index_select_1gm4\",\"common-select\":\"index_common-select_3Om1\",\"common-text\":\"index_common-text_3IlF\",\"base-data\":\"index_base-data_3VLo\",\"operation_part\":\"index_operation_part_1i2G\",\"cancel_operation\":\"index_cancel_operation_3sqW\",\"search_operation\":\"index_search_operation_3yrd\",\"grids-range-tips\":\"index_grids-range-tips_3htS\"});\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/secondFilter/compactCommon/index.less?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/secondFilter/index.less":
/*!*******************************************************************!*\
  !*** ./src/component/web/base/ListFilter/secondFilter/index.less ***!
  \*******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"settting\":\"index_settting_3uFf\"});\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/secondFilter/index.less?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/secondFilter/settingConfirm/index.less":
/*!**********************************************************************************!*\
  !*** ./src/component/web/base/ListFilter/secondFilter/settingConfirm/index.less ***!
  \**********************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"container\":\"index_container_2_aC\",\"container-en\":\"index_container-en_CU3G\",\"header\":\"index_header_QcOf\",\"title\":\"index_title_9lCd\",\"tips-icon\":\"index_tips-icon_3pn3\",\"type-select-wrap\":\"index_type-select-wrap_3W6R\",\"select-item\":\"index_select-item__nkD\",\"selected\":\"index_selected_1H07\",\"content\":\"index_content_Jzu-\",\"search\":\"index_search_7ewf\",\"conditions-wrap\":\"index_conditions-wrap_4JfU\",\"condition-item\":\"index_condition-item_1P49\",\"drag\":\"index_drag_2GqM\",\"border-top\":\"index_border-top_1gbt\",\"checkbox\":\"index_checkbox_PSXu\",\"name\":\"index_name_3ueD\",\"bottom\":\"index_bottom_1etI\",\"switch\":\"index_switch_3nF8\",\"right-wrap\":\"index_right-wrap_whLz\",\"reset\":\"index_reset_DnBC\",\"cancel\":\"index_cancel_2RAM\",\"confirm\":\"index_confirm_13jR\",\"tips-container\":\"index_tips-container_1Ib0\",\"tips-tilte\":\"index_tips-tilte_2EP8\"});\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/secondFilter/settingConfirm/index.less?");

/***/ }),

/***/ "./src/component/web/base/ListFilter/selectedConditions/index.less":
/*!*************************************************************************!*\
  !*** ./src/component/web/base/ListFilter/selectedConditions/index.less ***!
  \*************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"selected-conditions\":\"index_selected-conditions_23PG\",\"drop-panel\":\"index_drop-panel_1lXa\",\"dropdown-item\":\"index_dropdown-item_27xG\",\"condition\":\"index_condition_18_K\",\"icon\":\"index_icon_2fz1\",\"c-icon-close\":\"index_c-icon-close_1fZD\"});\n\n//# sourceURL=webpack://bos-platform/./src/component/web/base/ListFilter/selectedConditions/index.less?");

/***/ }),

/***/ "./src/control lazy recursive ^.*$":
/*!*************************************************!*\
  !*** ./src/control/ lazy ^.*$ namespace object ***!
  \*************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("var map = {\n\t\"./__test__/proxy/gridProxy.test\": [\n\t\t\"./src/control/__test__/proxy/gridProxy.test.js\",\n\t\t7,\n\t\t4074,\n\t\t3308,\n\t\t8440,\n\t\t4260,\n\t\t6076\n\t],\n\t\"./__test__/proxy/gridProxy.test.js\": [\n\t\t\"./src/control/__test__/proxy/gridProxy.test.js\",\n\t\t7,\n\t\t4074,\n\t\t3308,\n\t\t8440,\n\t\t4260,\n\t\t6076\n\t],\n\t\"./__test__/proxy/listquerypanelProxy.test\": [\n\t\t\"./src/control/__test__/proxy/listquerypanelProxy.test.js\",\n\t\t7,\n\t\t3308,\n\t\t8440,\n\t\t4260,\n\t\t8520\n\t],\n\t\"./__test__/proxy/listquerypanelProxy.test.js\": [\n\t\t\"./src/control/__test__/proxy/listquerypanelProxy.test.js\",\n\t\t7,\n\t\t3308,\n\t\t8440,\n\t\t4260,\n\t\t8520\n\t],\n\t\"./instance\": [\n\t\t\"./src/control/instance.js\",\n\t\t9\n\t],\n\t\"./instance.js\": [\n\t\t\"./src/control/instance.js\",\n\t\t9\n\t],\n\t\"./middleware\": [\n\t\t\"./src/control/middleware/index.js\",\n\t\t9,\n\t\t4260\n\t],\n\t\"./middleware/\": [\n\t\t\"./src/control/middleware/index.js\",\n\t\t9,\n\t\t4260\n\t],\n\t\"./middleware/checkMiddleware\": [\n\t\t\"./src/control/middleware/checkMiddleware.js\",\n\t\t9,\n\t\t4260\n\t],\n\t\"./middleware/checkMiddleware.js\": [\n\t\t\"./src/control/middleware/checkMiddleware.js\",\n\t\t9,\n\t\t4260\n\t],\n\t\"./middleware/compose\": [\n\t\t\"./src/control/middleware/compose.js\",\n\t\t9,\n\t\t4260\n\t],\n\t\"./middleware/compose.js\": [\n\t\t\"./src/control/middleware/compose.js\",\n\t\t9,\n\t\t4260\n\t],\n\t\"./middleware/index\": [\n\t\t\"./src/control/middleware/index.js\",\n\t\t9,\n\t\t4260\n\t],\n\t\"./middleware/index.js\": [\n\t\t\"./src/control/middleware/index.js\",\n\t\t9,\n\t\t4260\n\t],\n\t\"./middleware/styleMiddleware\": [\n\t\t\"./src/control/middleware/styleMiddleware.js\",\n\t\t9,\n\t\t4260\n\t],\n\t\"./middleware/styleMiddleware.js\": [\n\t\t\"./src/control/middleware/styleMiddleware.js\",\n\t\t9,\n\t\t4260\n\t],\n\t\"./proxy/gridProxy\": [\n\t\t\"./src/control/proxy/gridProxy.js\",\n\t\t9,\n\t\t4074,\n\t\t3308,\n\t\t8440,\n\t\t4260,\n\t\t5520\n\t],\n\t\"./proxy/gridProxy.js\": [\n\t\t\"./src/control/proxy/gridProxy.js\",\n\t\t9,\n\t\t4074,\n\t\t3308,\n\t\t8440,\n\t\t4260,\n\t\t5520\n\t],\n\t\"./proxy/listquerypanelProxy\": [\n\t\t\"./src/control/proxy/listquerypanelProxy.js\",\n\t\t9,\n\t\t3308,\n\t\t8440,\n\t\t4260\n\t],\n\t\"./proxy/listquerypanelProxy.js\": [\n\t\t\"./src/control/proxy/listquerypanelProxy.js\",\n\t\t9,\n\t\t3308,\n\t\t8440,\n\t\t4260\n\t],\n\t\"./utils\": [\n\t\t\"./src/control/utils/index.js\",\n\t\t9\n\t],\n\t\"./utils/\": [\n\t\t\"./src/control/utils/index.js\",\n\t\t9\n\t],\n\t\"./utils/console\": [\n\t\t\"./src/control/utils/console.js\",\n\t\t9\n\t],\n\t\"./utils/console.js\": [\n\t\t\"./src/control/utils/console.js\",\n\t\t9\n\t],\n\t\"./utils/convertString\": [\n\t\t\"./src/control/utils/convertString.js\",\n\t\t9\n\t],\n\t\"./utils/convertString.js\": [\n\t\t\"./src/control/utils/convertString.js\",\n\t\t9\n\t],\n\t\"./utils/exception\": [\n\t\t\"./src/control/utils/exception.js\",\n\t\t9\n\t],\n\t\"./utils/exception.js\": [\n\t\t\"./src/control/utils/exception.js\",\n\t\t9\n\t],\n\t\"./utils/index\": [\n\t\t\"./src/control/utils/index.js\",\n\t\t9\n\t],\n\t\"./utils/index.js\": [\n\t\t\"./src/control/utils/index.js\",\n\t\t9\n\t],\n\t\"./utils/supportedProppertyNames\": [\n\t\t\"./src/control/utils/supportedProppertyNames.js\",\n\t\t9\n\t],\n\t\"./utils/supportedProppertyNames.js\": [\n\t\t\"./src/control/utils/supportedProppertyNames.js\",\n\t\t9\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(2).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__.t(id, ids[1] | 16)\n\t});\n}\nwebpackAsyncContext.keys = function() { return Object.keys(map); };\nwebpackAsyncContext.id = \"./src/control lazy recursive ^.*$\";\nmodule.exports = webpackAsyncContext;\n\n//# sourceURL=webpack://bos-platform/./src/control/_lazy_^.*$_namespace_object?");

/***/ }),

/***/ "../../node_modules/xss-filters/src/xss-filters.js":
/*!******************************************************************************************!*\
  !*** delegated ../../node_modules/xss-filters/src/xss-filters.js from dll-reference lib ***!
  \******************************************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("module.exports = (__webpack_require__(/*! dll-reference lib */ \"dll-reference lib\"))(8375);\n\n//# sourceURL=webpack://bos-platform/delegated_../../node_modules/xss-filters/src/xss-filters.js_from_dll-reference_lib?");

/***/ })

}]);