/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackJsonp_bos-platform"] = self["webpackJsonp_bos-platform"] || []).push([[9014],{

/***/ "./src/component/web/KDHomePageSidebar.js":
/*!************************************************!*\
  !*** ./src/component/web/KDHomePageSidebar.js ***!
  \************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-properties.js */ \"../../node_modules/core-js/modules/es.object.define-properties.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptors.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _KDHomePageSidebar = _interopRequireDefault(__webpack_require__(/*! ./KDHomePageSidebar.less */ \"./src/component/web/KDHomePageSidebar.less\"));\nvar _componentutil = __webpack_require__(/*! @/util/componentutil */ \"./src/util/componentutil.js\");\nvar _HomePageSidebar = _interopRequireDefault(__webpack_require__(/*! ./base/HomePageSidebar */ \"./src/component/web/base/HomePageSidebar.js\"));\nvar _TrayMenu = __webpack_require__(/*! @/page/TrayMenu */ \"./src/page/TrayMenu.js\");\nvar _TabIconMenu = _interopRequireDefault(__webpack_require__(/*! ./base/TabIconMenu */ \"./src/component/web/base/TabIconMenu.js\"));\nvar _tabaction = __webpack_require__(/*! @/action/tabaction */ \"./src/action/tabaction.js\");\nvar _useAdditionalData = _interopRequireDefault(__webpack_require__(/*! @/use/useAdditionalData */ \"./src/use/useAdditionalData.js\"));\nvar _useCustomeStyle = _interopRequireDefault(__webpack_require__(/*! @/use/useCustomeStyle */ \"./src/use/useCustomeStyle.js\"));\nvar _useEventShortCuts = _interopRequireDefault(__webpack_require__(/*! @/use/useEventShortCuts */ \"./src/use/useEventShortCuts.js\"));\nvar _commonUtils = _interopRequireDefault(__webpack_require__(/*! ../common/commonUtils */ \"./src/component/common/commonUtils.js\"));\nvar _action = __webpack_require__(/*! @/action/action */ \"./src/action/action.js\");\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _appModelFunction = __webpack_require__(/*! @/model/appModelFunction */ \"./src/model/appModelFunction.js\");\nvar _memoryCacher = __webpack_require__(/*! @/model/memoryCacher */ \"./src/model/memoryCacher.js\");\nvar _symbolConst = __webpack_require__(/*! @/constant/symbolConst */ \"./src/constant/symbolConst.js\");\nvar _GlobalDataCacher = __webpack_require__(/*! @/model/GlobalDataCacher */ \"./src/model/GlobalDataCacher.js\");\nvar _client = __webpack_require__(/*! @/action/actionname/global/custom/client */ \"./src/action/actionname/global/custom/client/index.js\");\nvar _global = _interopRequireWildcard(__webpack_require__(/*! @/global */ \"./src/global/index.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nvar HOMEPAGE_SIDEBAR_COLLAPSE = 'homePageSidebarCollapse';\nvar SAVE_SETTING = 'saveSetting';\nvar HOMEPAGE_SIDEBAR_WIDTH = '28px';\nvar _default = exports[\"default\"] = function _default(_ref) {\n  var _getUserUIState;\n  var model = _ref.model,\n    dispatch = _ref.dispatch;\n  // 使用上一次选择收缩的状态作为默认值\n  var homePageSidebarCollapse = (_getUserUIState = (0, _memoryCacher.getUserUIState)(model)) === null || _getUserUIState === void 0 ? void 0 : _getUserUIState.get(HOMEPAGE_SIDEBAR_COLLAPSE);\n  var showHelp = model === null || model === void 0 ? void 0 : model.getMetaProperty('showHelp'); // 是否显示页面帮助图标\n  var showTeamWork = model === null || model === void 0 ? void 0 : model.getMetaProperty('showTeamWork'); // 是否显示云之家协同图标\n  var showInsight = model === null || model === void 0 ? void 0 : model.getMetaProperty('showInsight'); // 是否显示洞察图标\n  var _useState = (0, _react.useState)(homePageSidebarCollapse),\n    _useState2 = _slicedToArray(_useState, 2),\n    collapse = _useState2[0],\n    setCollapse = _useState2[1];\n  var _useState3 = (0, _react.useState)(true),\n    _useState4 = _slicedToArray(_useState3, 2),\n    showTrayMenu = _useState4[0],\n    setShowTrayMenu = _useState4[1]; // 是否有展示TrayMenu\n  var ref = (0, _react.useRef)();\n  var visibleRef = (0, _react.useRef)(true);\n  (0, _useCustomeStyle[\"default\"])(model);\n  (0, _useEventShortCuts[\"default\"])(model);\n  var commonStyle = Object.assign({}, (0, _componentutil.getCommonStyle)(model));\n  var _getCommonClass = (0, _componentutil.getCommonClass)(model),\n    Grow = _getCommonClass.Grow,\n    Shrink = _getCommonClass.Shrink,\n    AlignSelf = _getCommonClass.AlignSelf;\n  var attachData = (0, _useAdditionalData[\"default\"])({\n    model: model\n  });\n  (0, _react.useEffect)(function () {\n    return function () {\n      dispatch(handleSaveSetting());\n    };\n  }, []);\n  (0, _react.useEffect)(function () {\n    var intersectionObserver = addSidebarIntersectionObserver();\n    var mutationObserve;\n    if (!collapse) {\n      mutationObserve = addFloatMenuMutationObserve();\n    }\n    return function () {\n      intersectionObserver && intersectionObserver.disconnect();\n      mutationObserve && mutationObserve.disconnect();\n    };\n  }, [collapse]);\n\n  // 检测浮动菜单栏是否存在。data-component-mount是用来检测浮动菜单栏变化\n  var addFloatMenuMutationObserve = function addFloatMenuMutationObserve() {\n    var MutationObserver = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver;\n    var observer;\n    if (MutationObserver) {\n      observer = new MutationObserver(function (mutations) {\n        mutations.forEach(function (item) {\n          // 属性变化为data-component-mount的时候，并且是节点是存在\n          if (item.attributeName === 'data-component-mount') {\n            var node = item.target;\n            var direction = node.dataset.floatmenuDirection;\n            // 浮动菜单位置为靠右，并且侧边栏可见的时候，设置浮动菜单位置\n            if (direction === 'right' && visibleRef.current) {\n              node.style.right = HOMEPAGE_SIDEBAR_WIDTH;\n              node.style.transition = 'right .2s ease';\n            }\n          }\n        });\n      });\n      var options = {\n        attributeFilter: ['data-component-mount'],\n        childList: false,\n        // 子节点的变动\n        attributes: true,\n        // 属性的变动\n        characterData: false,\n        // 节点内容或节点文本的变动\n        subtree: true,\n        // 所有后代节点的变动\n        attributeOldValue: true,\n        // 表示观察attributes变动时，是否需要记录变动前的属性\n        characterDataOldValue: false // 表示观察characterData变动时，是否需要记录变动前的值\n      };\n      observer.observe(document, options);\n    }\n    return observer;\n  };\n  var addSidebarIntersectionObserver = function addSidebarIntersectionObserver() {\n    // 检查侧边栏是否可见。不可见的时候设置浮动菜单right为0\n    var observer = new window.IntersectionObserver(function (entries) {\n      visibleRef.current = entries[0].intersectionRatio > 0;\n      var floatMenuNodeList = document.querySelectorAll('[data-floatmenu-direction]');\n      floatMenuNodeList.forEach(function (node) {\n        // 当浮动菜单栏定位为右侧的时候才需要去改变位置(因为位置和右侧边栏冲突了)\n        var direction = node.dataset.floatmenuDirection;\n        if (direction === 'right') {\n          // 右侧边栏展开并且可见的时候，设置浮动菜单栏的right\n          // 收缩或者不可见的时候，浮动菜单栏的right应为0。\n          node.style.right = !collapse && visibleRef.current ? HOMEPAGE_SIDEBAR_WIDTH : 0;\n          node.style.transition = 'right .2s ease';\n\n          // 当右侧边栏不可见时，那么需要通知面板往右偏移\n          (0, _GlobalDataCacher.setData)(_symbolConst.KEY_CHANGE_PANEL_POSITION, {\n            right: visibleRef.current ? HOMEPAGE_SIDEBAR_WIDTH : 0\n          });\n        }\n      });\n    });\n    observer.observe(ref.current);\n    return observer;\n  };\n  var onHandleClick = function onHandleClick(eventKey) {\n    if (eventKey) {\n      // 发起自定义事件\n      var pageId = model.pageId;\n      var key = '';\n      var eventArgs = [_client.CUSTOM_EVENT_SYSTEM_MENU_CLICK, key, JSON.stringify([{\n        eventKey: eventKey\n      }])];\n      _global[\"default\"][_global.INVOKE_CUSTOM_EVENT_WITH_POST_DATA](pageId, '', eventArgs);\n    }\n  };\n  var handleChangeCollapse = function handleChangeCollapse(collapse) {\n    var _getData;\n    setCollapse(collapse);\n    (0, _memoryCacher.setUserUIState)(model.pageId, [HOMEPAGE_SIDEBAR_COLLAPSE], collapse, true);\n    dispatch(handleSaveSetting());\n\n    // 收起右侧边栏的时候。如果智能洞察面板处于固定状态，那么需要通知面板往右偏移\n    if ((_getData = (0, _GlobalDataCacher.getData)(_symbolConst.KEY_FIX_INSIGHT_PANEL)) !== null && _getData !== void 0 && _getData.isFixationMode) {\n      (0, _GlobalDataCacher.setData)(_symbolConst.KEY_CHANGE_PANEL_POSITION, {\n        right: collapse ? 0 : HOMEPAGE_SIDEBAR_WIDTH\n      });\n    }\n\n    // 通知分屏开启或者关闭\n    (0, _GlobalDataCacher.setData)(_symbolConst.KEY_HOME_SIDEBAR_COLLAPSE_CHANGE, collapse);\n  };\n  var handleSaveSetting = function handleSaveSetting() {\n    return function (dispatch, getState) {\n      var rootPageId = (0, _appModelFunction.getRootPageId)()(getState());\n      var userUIState = (0, _memoryCacher.getDiffUserUIState)();\n      if (userUIState) {\n        (0, _action.invokeControlService)({\n          pageId: rootPageId\n        }, SAVE_SETTING, [userUIState], (0, _immutable.List)(), dispatch);\n      }\n    };\n  };\n  var handleHideTrayMenu = function handleHideTrayMenu() {\n    if (!showHelp && !showTeamWork && !showInsight) {\n      setShowTrayMenu(false);\n      (0, _GlobalDataCacher.setData)(_symbolConst.KEY_HIDE_TRAY_MENU, true);\n    }\n  };\n  return /*#__PURE__*/_react[\"default\"].createElement(_HomePageSidebar[\"default\"], _extends({\n    ref: ref,\n    className: (0, _commonUtils[\"default\"])({\n      Grow: Grow,\n      Shrink: Shrink,\n      AlignSelf: AlignSelf\n    }),\n    collapse: showTrayMenu ? collapse : false,\n    handleChangeCollapse: handleChangeCollapse,\n    style: _objectSpread(_objectSpread({}, commonStyle), {}, {\n      display: showTrayMenu ? 'block' : 'none'\n    })\n  }, attachData), /*#__PURE__*/_react[\"default\"].createElement(_TabIconMenu[\"default\"], {\n    itemClassName: _KDHomePageSidebar[\"default\"].itemClass,\n    iconClassName: _KDHomePageSidebar[\"default\"].iconClass,\n    showList: {\n      showHelp: showHelp,\n      showTeamWork: showTeamWork,\n      showInsight: showInsight\n    },\n    pageId: model === null || model === void 0 ? void 0 : model.pageId,\n    handleIconClick: function handleIconClick(key) {\n      dispatch((0, _tabaction.handleClick)(model, key));\n    },\n    placement: \"left\",\n    triggerParentRef: ref,\n    showColorsIcon: true\n  }), /*#__PURE__*/_react[\"default\"].createElement(_TrayMenu.TrayMenuItem, {\n    itemClassName: _KDHomePageSidebar[\"default\"].itemClass,\n    iconClassName: _KDHomePageSidebar[\"default\"].iconClass,\n    showColorsIcon: true,\n    allowClickInteraction: true,\n    handleClick: onHandleClick,\n    handleHideTrayMenu: handleHideTrayMenu\n  }));\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/KDHomePageSidebar.js?");

/***/ }),

/***/ "./src/page/ClientDialog.js":
/*!**********************************!*\
  !*** ./src/page/ClientDialog.js ***!
  \**********************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-properties.js */ \"../../node_modules/core-js/modules/es.object.define-properties.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptors.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.find.js */ \"../../node_modules/core-js/modules/es.array.find.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.starts-with.js */ \"../../node_modules/core-js/modules/es.string.starts-with.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _reactDom = _interopRequireDefault(__webpack_require__(/*! react-dom */ \"webpack/sharing/consume/default/react-dom/react-dom?418d\"));\nvar _classnames2 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _global = __webpack_require__(/*! @/global */ \"./src/global/index.js\");\nvar _ClientDialog2 = _interopRequireDefault(__webpack_require__(/*! ./ClientDialog.less */ \"./src/page/ClientDialog.less\"));\nvar _propTypes = _interopRequireDefault(__webpack_require__(/*! prop-types */ \"../../node_modules/prop-types/index.js\"));\nvar _Bill = _interopRequireDefault(__webpack_require__(/*! ../component/web/Bill */ \"./src/component/web/Bill.js\"));\nvar _appModelFunction = __webpack_require__(/*! ../model/appModelFunction */ \"./src/model/appModelFunction.js\");\nvar _GlobalDataCacher = __webpack_require__(/*! @/model/GlobalDataCacher */ \"./src/model/GlobalDataCacher.js\");\nvar _symbolConst = __webpack_require__(/*! @/constant/symbolConst */ \"./src/constant/symbolConst.js\");\nvar _excluded = [\"rootPageId\", \"formId\", \"onClose\"];\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); } /**\n * 前端自己基于formId主动弹出的对话框\n * @authors Your Name (you@example.org)\n * @date    2018-04-25 10:02:10\n * @version $Id$\n */\n// import LoadingGIF from '../component/common/LoadingGIF'\nvar ClientDialog = exports[\"default\"] = /*#__PURE__*/function (_Component) {\n  _inherits(ClientDialog, _Component);\n  function ClientDialog(props) {\n    var _this;\n    _classCallCheck(this, ClientDialog);\n    _this = _callSuper(this, ClientDialog);\n    _this.onKeyDown = _this.onKeyDown.bind(_assertThisInitialized(_this));\n    _this.onConfigReady = _this.onConfigReady.bind(_assertThisInitialized(_this));\n    _this.setRef = _this.setRef.bind(_assertThisInitialized(_this));\n    _this.state = {\n      title: undefined,\n      hidden: true\n    };\n    return _this;\n  }\n  _createClass(ClientDialog, [{\n    key: \"setRef\",\n    value: function setRef(ele) {\n      // console.log('ref',ele && ReactDOM.findDOMNode(ele))\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.ele.focus();\n      this.removeGlobalDataChangeListener = (0, _GlobalDataCacher.addDataChangeListener)(_symbolConst.KEY_CLOSE_WINDOW_EVENT, this.props.onClose);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.removeGlobalDataChangeListener && this.removeGlobalDataChangeListener();\n    }\n  }, {\n    key: \"onKeyDown\",\n    value: function onKeyDown(event) {\n      if (event.keyCode === 27 /* key=esc */) {\n        this.props.onClose();\n        event.stopPropagation();\n      }\n    }\n  }, {\n    key: \"onConfigReady\",\n    value: function onConfigReady(formConfig, appState) {\n      var title = (0, _appModelFunction.getFormCaption)(formConfig.pageId)(appState);\n      this.setState({\n        title: formConfig.isShowTitle && title,\n        hidden: false\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      var _this$props = this.props,\n        rootPageId = _this$props.rootPageId,\n        formId = _this$props.formId,\n        onClose = _this$props.onClose,\n        others = _objectWithoutProperties(_this$props, _excluded);\n      rootPageId = rootPageId || (0, _global.getGlobalState)().get('forms').find(function (v, k) {\n        return k.startsWith('root');\n      }).get('pageId');\n      var _this$state = this.state,\n        title = _this$state.title,\n        hidden = _this$state.hidden;\n      var animalClass = (0, _classnames2[\"default\"])(_defineProperty(_defineProperty({}, _ClientDialog2[\"default\"].zoom, hidden), _ClientDialog2[\"default\"].hidden, hidden));\n      return /*#__PURE__*/_reactDom[\"default\"].createPortal( /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: (0, _classnames2[\"default\"])(_ClientDialog2[\"default\"]['dialog-mask']),\n        tabIndex: 0,\n        onKeyDown: this.onKeyDown,\n        ref: function ref(ele) {\n          return _this2.ele = ele;\n        }\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: animalClass\n      }, title && /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: (0, _classnames2[\"default\"])(_ClientDialog2[\"default\"]['title-bar'])\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: (0, _classnames2[\"default\"])(_ClientDialog2[\"default\"].title)\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", null, title), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        onClick: onClose\n      }, \"X\"))), !title && !hidden && /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n        className: (0, _classnames2[\"default\"])('kdfont', 'kdfont-guanbiyulan', 'kd-hover-color', _ClientDialog2[\"default\"]['close-button']),\n        onClick: onClose\n      }), /*#__PURE__*/_react[\"default\"].createElement(_Bill[\"default\"], {\n        ref: this.setRef,\n        config: _objectSpread({\n          formId: formId,\n          rootPageId: rootPageId\n        }, others),\n        onConfigReady: this.onConfigReady\n      }))), document.body);\n    }\n  }]);\n  return ClientDialog;\n}(_react.Component);\nClientDialog.propsType = {\n  formId: _propTypes[\"default\"].string,\n  onClose: _propTypes[\"default\"].func.isRequired,\n  rootPageId: _propTypes[\"default\"].string\n};\n\n//# sourceURL=webpack://bos-platform/./src/page/ClientDialog.js?");

/***/ }),

/***/ "./src/page/ClientSocket.js":
/*!**********************************!*\
  !*** ./src/page/ClientSocket.js ***!
  \**********************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.string.starts-with.js */ \"../../node_modules/core-js/modules/es.string.starts-with.js\");\n__webpack_require__(/*! core-js/modules/web.timers.js */ \"../../node_modules/core-js/modules/web.timers.js\");\nvar _react = __webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\");\nvar _global = __webpack_require__(/*! @/global */ \"./src/global/index.js\");\nvar _action = __webpack_require__(/*! ../action/action */ \"./src/action/action.js\");\nvar _appModelFunction = __webpack_require__(/*! ../model/appModelFunction */ \"./src/model/appModelFunction.js\");\nvar _console = _interopRequireDefault(__webpack_require__(/*! ../api/console */ \"./src/api/console.js\"));\nvar _GlobalDataCacher = __webpack_require__(/*! ../model/GlobalDataCacher */ \"./src/model/GlobalDataCacher.js\");\nvar _symbolConst = __webpack_require__(/*! ../constant/symbolConst */ \"./src/constant/symbolConst.js\");\nvar _toolUtils = __webpack_require__(/*! ../util/toolUtils */ \"./src/util/toolUtils.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); } /**\n * websocket和后台服务器常连接，替代页面心跳功能\n * @authors Your Name (you@example.org)\n * @date    2018-06-13 09:46:05\n * @version $Id$\n */\nvar ClientSocket = exports[\"default\"] = /*#__PURE__*/function (_Component) {\n  _inherits(ClientSocket, _Component);\n  function ClientSocket(props) {\n    var _this;\n    _classCallCheck(this, ClientSocket);\n    _this = _callSuper(this, ClientSocket, [props]);\n    _this.startConnect = function (rootPageId) {\n      _this.rootPageId = rootPageId;\n      var cookieName = (0, _appModelFunction.getCookieName)()(_this.props.state);\n      _this.cookie = (0, _toolUtils.getCookie)(cookieName);\n      _this.connectSocket();\n    };\n    _this.sengHandShake = function () {\n      if (_this.ws && _this.ws.readyState === 1) {\n        // WebSocket.OPEN\n        try {\n          _this.ws.send(JSON.stringify({\n            handshake: _this.cookie\n          }));\n        } catch (error) {\n          _console[\"default\"].log(error);\n        }\n      }\n      setTimeout(function () {\n        _this.sengHandShake();\n      }, 1000 * 30);\n    };\n    _this.getDelayTime = function () {\n      if (_this.hasConnectSuccess) {\n        // 如果曾经成功连接过 随机10-20秒\n        return getRandomInteger(1000 * 10, 1000 * 20);\n      } else {\n        // 延迟5分钟尝试一次\n        var delayTime = 5 + _this.step;\n        _this.step += 10; // 每次重连增加10分钟延时\n        return 1000 * 60 * delayTime;\n      }\n    };\n    _this.connectSocket = _this.connectSocket.bind(_assertThisInitialized(_this));\n    _this.initSocket = _this.initSocket.bind(_assertThisInitialized(_this));\n    _this.getRootPageId = _this.getRootPageId.bind(_assertThisInitialized(_this));\n    _this.hasConnectSuccess = false;\n    _this.step = 0;\n    return _this;\n  }\n  _createClass(ClientSocket, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n      try {\n        var rootPageId = (0, _GlobalDataCacher.getData)(_symbolConst.KEY_ROOT_PAGE_ID);\n        if (rootPageId) {\n          window.setTimeout(function () {\n            _this2.startConnect(rootPageId);\n          }, 0);\n        } else {\n          (0, _GlobalDataCacher.addDataChangeListener)(_symbolConst.KEY_ROOT_PAGE_ID, this.startConnect);\n        }\n        this.sengHandShake();\n      } catch (err) {\n        _console[\"default\"].error('Failed to create websocket');\n        _console[\"default\"].error(err);\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.ws && this.ws.close();\n    }\n  }, {\n    key: \"getRootPageId\",\n    value: function getRootPageId() {\n      return this.props.state.get('forms').findKey(function (obj, k, v) {\n        return k && k.startsWith('root');\n      });\n    }\n  }, {\n    key: \"connectSocket\",\n    value: function connectSocket() {\n      if (this.cookie === '') {\n        _console[\"default\"].warn('不能获取cookit，无法和服务器建立socket连接');\n      }\n      var config = (0, _appModelFunction.getFormConfig)(this.rootPageId)(this.props.state);\n      var wsconfig = config && config.wsconfig;\n      if (wsconfig && wsconfig.wsurl && config.cookieName) {\n        var url = \"\".concat(wsconfig.wsurl, \"?identifytype=\").concat(this.rootPageId, \"&tenantsessionkey=\").concat(config.cookieName);\n        // const url = `wss://ierp.kingdee.com:2024/devbos/msgwatch123?identifytype=${this.rootPageId}&token=${this.cookie}`\n        this.initSocket(url);\n        // setTimeout(()=>this.ws.close(),20000) //测试重连接\n      } else {\n        _console[\"default\"].warn('不能获取服务器的wsconfig配置信息，无法和服务器建立socket连接');\n      }\n    }\n  }, {\n    key: \"initSocket\",\n    value: function initSocket(url) {\n      var _this3 = this;\n      this.ws = new window.WebSocket(url);\n      // console.log('正在连接socket......', url)\n      var ws = this.ws;\n      ws.onopen = function () {\n        _console[\"default\"].log('socket connected');\n        _this3.hasConnectSuccess = true;\n        clearInterval(_this3.resetTime);\n        // sendRobotMessage('socket 成功连接',1000)\n      };\n      ws.onclose = function (event) {\n        _console[\"default\"].log('socket disconnected');\n        if (!event.wasClean) {\n          _console[\"default\"].warn('socket 非正常关闭');\n          clearInterval(_this3.resetTime);\n          _this3.resetTime = setInterval(_this3.connectSocket, _this3.getDelayTime());\n        }\n      };\n      ws.onerror = function (err) {\n        _console[\"default\"].warn('socket 连接socket失败：', err);\n      };\n      ws.onmessage = function (event) {\n        try {\n          var data = JSON.parse(event.data);\n          if (_typeof(data) !== 'object') {\n            _console[\"default\"].warn('服务器返回的数据不是json对象', event.data);\n            return;\n          }\n          (0, _action.doPostActions)(_this3.rootPageId, data, _global.doGlobalDispatch, true);\n        } catch (error) {\n          _console[\"default\"].warn('服务器返回的数据不是json对象', event.data);\n        }\n      };\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return null;\n    }\n  }]);\n  return ClientSocket;\n}(_react.Component);\nfunction getRandomInteger(min, max) {\n  return Math.floor(Math.random() * (max - min)) + min;\n}\n\n//# sourceURL=webpack://bos-platform/./src/page/ClientSocket.js?");

/***/ }),

/***/ "./src/page/CommonUpload.jsx":
/*!***********************************!*\
  !*** ./src/page/CommonUpload.jsx ***!
  \***********************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-properties.js */ \"../../node_modules/core-js/modules/es.object.define-properties.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptors.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.every.js */ \"../../node_modules/core-js/modules/es.array.every.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.find.js */ \"../../node_modules/core-js/modules/es.array.find.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.join.js */ \"../../node_modules/core-js/modules/es.array.join.js\");\n__webpack_require__(/*! core-js/modules/es.array.last-index-of.js */ \"../../node_modules/core-js/modules/es.array.last-index-of.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.array.reduce.js */ \"../../node_modules/core-js/modules/es.array.reduce.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.is.js */ \"../../node_modules/core-js/modules/es.object.is.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.object.values.js */ \"../../node_modules/core-js/modules/es.object.values.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.constructor.js */ \"../../node_modules/core-js/modules/es.regexp.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.timers.js */ \"../../node_modules/core-js/modules/web.timers.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _rcUpload = _interopRequireDefault(__webpack_require__(/*! rc-upload */ \"../../node_modules/rc-upload/es/index.js\"));\nvar _lodash = __webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\");\nvar _global = _interopRequireWildcard(__webpack_require__(/*! @/global */ \"./src/global/index.js\"));\nvar _formservice = _interopRequireDefault(__webpack_require__(/*! ../api/formservice */ \"./src/api/formservice.js\"));\nvar _urlconst = __webpack_require__(/*! ../constant/urlconst */ \"./src/constant/urlconst.js\");\nvar _intlApi = __webpack_require__(/*! ../i18n/intlApi */ \"./src/i18n/intlApi.js\");\nvar _index2 = __webpack_require__(/*! @/action/actionname/global/custom/client/index.js */ \"./src/action/actionname/global/custom/client/index.js\");\nvar _getWebRootPath = _interopRequireDefault(__webpack_require__(/*! @/api/getWebRootPath */ \"./src/api/getWebRootPath.js\"));\nvar _const = __webpack_require__(/*! @/constant/const */ \"./src/constant/const.js\");\nvar _appModelFunction = __webpack_require__(/*! @/model/appModelFunction */ \"./src/model/appModelFunction.js\");\nvar _SystemUIProvider = __webpack_require__(/*! @/page/SystemUIProvider */ \"./src/page/SystemUIProvider.js\");\nvar _symbolConst = __webpack_require__(/*! @/constant/symbolConst */ \"./src/constant/symbolConst.js\");\nvar _GlobalDataCacher = __webpack_require__(/*! @/model/GlobalDataCacher */ \"./src/model/GlobalDataCacher.js\");\nvar _invokeActionUtils = __webpack_require__(/*! @/component/common/invokeActionUtils */ \"./src/component/common/invokeActionUtils.js\");\nvar _crypto = __webpack_require__(/*! @/api/crypto.js */ \"./src/api/crypto.js\");\nvar _requestParamsUtil = __webpack_require__(/*! @/util/requestParamsUtil */ \"./src/util/requestParamsUtil.js\");\nvar _attachmentUtils = __webpack_require__(/*! @/util/attachmentUtils */ \"./src/util/attachmentUtils.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n/**\n * 公共上传组件，整个应用共享同一个\n * 所有支持可点击的控件支持上传功能\n * 文件后缀、单个文件大小、是否多选、上传url等 支持定制\n * @author chengzhou_hong 2018.11.30\n */\nvar CommonUpload = exports[\"default\"] = /*#__PURE__*/function (_Component) {\n  _inherits(CommonUpload, _Component);\n  function CommonUpload(props) {\n    var _this;\n    _classCallCheck(this, CommonUpload);\n    _this = _callSuper(this, CommonUpload, [props]);\n    _this.listenerAjaxStatus = function (_ref) {\n      var value = _ref.value;\n      if (value === _invokeActionUtils.AJAX_SUCCESS) {\n        _this.removeAjaxStateListener && _this.removeAjaxStateListener();\n        setTimeout(function () {\n          var data = (0, _GlobalDataCacher.getData)(_symbolConst.KEY_BEFOREUPLOAD_RESULT);\n          if (data) {\n            (0, _GlobalDataCacher.removeData)(_symbolConst.KEY_BEFOREUPLOAD_RESULT);\n            if (data.status === 0) return;\n          }\n          _this.handleUploadFile();\n        }, 0);\n      } else if (value === _invokeActionUtils.AJAX_ERROR) {\n        _this.removeAjaxStateListener && _this.removeAjaxStateListener();\n        _this.handleUploadFile();\n      }\n    };\n    // 手动控制上传\n    _this.handleUploadFile = function () {\n      var _this$files;\n      if (((_this$files = _this.files) === null || _this$files === void 0 ? void 0 : _this$files.length) > 0) {\n        _this.files.forEach(function (file) {\n          if (file.result) {\n            var _this$refs$inner;\n            (_this$refs$inner = _this.refs.inner) === null || _this$refs$inner === void 0 || _this$refs$inner.uploader.post(file);\n          }\n        });\n        _this.clearFileCache();\n      }\n    };\n    // 清空file缓存\n    _this.clearFileCache = function () {\n      _this.files = [];\n    };\n    _this.showLoading = function (_ref2) {\n      var pageId = _ref2.pageId,\n        key = _ref2.key,\n        args = _ref2.args;\n      (0, _invokeActionUtils.setAjaxState)(pageId, key || args, 'uploading', {\n        value: _invokeActionUtils.AJAX_PENDING,\n        args: [args]\n      });\n    };\n    _this.hideLoading = function (_ref3) {\n      var pageId = _ref3.pageId,\n        key = _ref3.key,\n        args = _ref3.args;\n      (0, _invokeActionUtils.setAjaxState)(pageId, key || args, 'uploading', {\n        value: _invokeActionUtils.AJAX_SUCCESS,\n        args: [args]\n      });\n    };\n    _this.clickTrigger = _this.clickTrigger.bind(_assertThisInitialized(_this));\n    _this.getUploadOptions = _this.getUploadOptions.bind(_assertThisInitialized(_this));\n    _this.getSuffix = _this.getSuffix.bind(_assertThisInitialized(_this));\n    _this.beforeUpload = _this.beforeUpload.bind(_assertThisInitialized(_this));\n    _this.onStart = _this.onStart.bind(_assertThisInitialized(_this));\n    _this.onSuccess = _this.onSuccess.bind(_assertThisInitialized(_this));\n    _this.onProgress = _this.onProgress.bind(_assertThisInitialized(_this));\n    _this.onError = _this.onError.bind(_assertThisInitialized(_this));\n    _this.checkFileSize = _this.checkFileSize.bind(_assertThisInitialized(_this));\n    _this.checkFileSuffix = _this.checkFileSuffix.bind(_assertThisInitialized(_this));\n    _this.deleteFile = _this.deleteFile.bind(_assertThisInitialized(_this));\n    _this.showErrorTips = _this.showErrorTips.bind(_assertThisInitialized(_this));\n    _this.sendBeforeUploadEvent = _this.sendBeforeUploadEvent.bind(_assertThisInitialized(_this));\n    _this.sendResultOfUpload2Server = _this.sendResultOfUpload2Server.bind(_assertThisInitialized(_this));\n\n    // 当一个页面存在两个上传控件时\n    // 点击其中一个上传后，再点击另一个，会导致state中pageId和key变化，\n    // 导致上传成功时发送给后端的key出错\n    _this.cache = {};\n    _this.failedFile = {};\n    _this.successFile = {};\n    _this.chooseFileCount = {};\n\n    // 不同服务器对应不同的文件路径前缀\n    _this.serverPathObj = _defineProperty(_defineProperty({}, [_urlconst.COMMON_FILESERVER_URL], '/pulic/attachment/'), [_urlconst.IMAGE_SERVER_URL], '/pulic/picturefiled/');\n    _this.validators = {\n      checkFileSize: _this.checkFileSize,\n      checkFileSuffix: _this.checkFileSuffix\n    };\n\n    // 单独定义默认配置，以便复用\n    _this.defaultUploadConfig = {\n      limitSize: 10 * 1024 * 1024,\n      // 单个文件最大大小（默认）\n      limitCount: 10,\n      // 默认同时上传数量\n      url: (0, _getWebRootPath[\"default\"])(_urlconst.COMMON_FILESERVER_URL),\n      // 默认上传到附件服务器\n      suffix: '.rar,.zip,.png,.jpg,.xls,.xlsx',\n      // 默认文件后缀\n      multiple: true // 默认不可多选\n    };\n    _this.state = _objectSpread(_objectSpread({}, _this.defaultUploadConfig), {}, {\n      pageId: null,\n      // 页面id\n      key: null,\n      // 控件的key\n      args: null,\n      // 额外参数\n      text: null // 控件名称\n    });\n    return _this;\n  }\n  _createClass(CommonUpload, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var uiData = this.context.uiData;\n      uiData && this.clickTrigger(uiData);\n      this.removeGlobalCommonUploadChangeListener = (0, _GlobalDataCacher.addDataChangeListener)(_symbolConst.KEY_COMMON_UPLOAD, this.clickTrigger);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.removeGlobalCommonUploadChangeListener && this.removeGlobalCommonUploadChangeListener();\n      this.removeAjaxStateListener && this.removeAjaxStateListener();\n    }\n\n    /**\n     * @param {any uploadResult} 上传的结果\n     * @description 将上传后的结果(成功失败)发给服务端\n     */\n  }, {\n    key: \"sendResultOfUpload2Server\",\n    value: function sendResultOfUpload2Server(uploadResult) {\n      var _this$state = this.state,\n        key = _this$state.key,\n        pageId = _this$state.pageId;\n      _global[\"default\"][_global.INVOKE_CUSTOM_EVENT](pageId, '', [key, _index2.CUSTOM_EVENT_UPLOAD_RESULT_OF_COMMON, JSON.stringify(uploadResult)]);\n    }\n\n    /**\n     * 将已上传成功文件url发送到表单插件\n     * @param {array} urls 上传成功的文件url数组\n     */\n  }, {\n    key: \"sendUrl2Server\",\n    value: function sendUrl2Server(key) {\n      var _this2 = this;\n      var sendUrl2Server = this.props.sendUrl2Server;\n      var _key$split = key.split('$$'),\n        _key$split2 = _slicedToArray(_key$split, 3),\n        pageId = _key$split2[0],\n        controlKey = _key$split2[1],\n        args = _key$split2[2];\n      if (this.successFile[key].length > 0) {\n        var fileInfos = this.successFile[key].reduce(function (preResult, file) {\n          var successFile = {\n            url: file.url,\n            name: file.name,\n            uid: file.uid,\n            size: file.size,\n            lastModified: file.lastModified,\n            newFormat: true // 后端为了兼容数据结构，需添加 newFormat 作为判断条件\n          };\n          preResult.push(successFile);\n          delete _this2.cache[file.uid];\n          return preResult;\n        }, []);\n        sendUrl2Server(pageId, controlKey, args ? [args, fileInfos] : [fileInfos]);\n      }\n    }\n  }, {\n    key: \"sendBeforeUploadEvent\",\n    value: function sendBeforeUploadEvent(chooseFileList) {\n      // 上传之前发送`beforeUpload`事件到插件\n      var sendBeforeUpload2Server = this.props.sendBeforeUpload2Server;\n      var _this$state2 = this.state,\n        pageId = _this$state2.pageId,\n        key = _this$state2.key,\n        args = _this$state2.args;\n      var paras = chooseFileList.reduce(function (preResult, _file) {\n        var name = _file.name,\n          size = _file.size,\n          uid = _file.uid,\n          lastModified = _file.lastModified;\n        preResult.push({\n          name: name,\n          size: size,\n          uid: uid,\n          lastModified: lastModified\n        });\n        return preResult;\n      }, []);\n      sendBeforeUpload2Server && sendBeforeUpload2Server(pageId, key, args ? [args, paras] : [paras]);\n    }\n  }, {\n    key: \"clickTrigger\",\n    value: function clickTrigger(data) {\n      var _this3 = this;\n      var _state = this.getUploadConfigObject(data);\n      this.removeAjaxStateListener && this.removeAjaxStateListener();\n      this.removeAjaxStateListener = (0, _invokeActionUtils.addAjaxStateListener)(_state.pageId, _state.key, 'beforeUpload', this.listenerAjaxStatus);\n      this.setState(_state, function () {\n        var _data$evt, _data$evt2;\n        // 弹出文件选择框放在state回调中，pageId和key是最新的\n        var key = getKey(_state);\n        _this3.failedFile[key] = [];\n        _this3.successFile[key] = [];\n        _this3.chooseFileCount[key] = 0;\n        var _this3$refs$inner$upl = _this3.refs.inner.uploader,\n          fileInput = _this3$refs$inner$upl.fileInput,\n          onFileDrop = _this3$refs$inner$upl.onFileDrop;\n        // 拖拽上传\n        if ((_data$evt = data.evt) !== null && _data$evt !== void 0 && _data$evt.type && ((_data$evt2 = data.evt) === null || _data$evt2 === void 0 ? void 0 : _data$evt2.type) !== 'click') {\n          var _data$evt$dataTransfe;\n          // 校验\n          var canUploadFlag = false;\n          var fileList = ((_data$evt$dataTransfe = data.evt.dataTransfer) === null || _data$evt$dataTransfe === void 0 ? void 0 : _data$evt$dataTransfe.files) || [];\n          fileList.forEach(function (file) {\n            canUploadFlag = _this3.canUpload(file) || canUploadFlag;\n          });\n          canUploadFlag && onFileDrop(data.evt);\n          return;\n        }\n        fileInput && fileInput.click();\n      });\n    }\n  }, {\n    key: \"getUploadConfigObject\",\n    value: function getUploadConfigObject(data) {\n      var pageId = data.pageId,\n        key = data.key,\n        uc = data.uc,\n        args = data.args,\n        text = data.text;\n      var _this$defaultUploadCo = this.defaultUploadConfig,\n        limitSize = _this$defaultUploadCo.limitSize,\n        suffix = _this$defaultUploadCo.suffix,\n        url = _this$defaultUploadCo.url;\n      var _url = uc && (0, _getWebRootPath[\"default\"])(uc.get('url')) || url;\n      this.isImageServer = new RegExp(_urlconst.IMAGE_SERVER_URL).test(_url);\n      return uc ? {\n        pageId: pageId,\n        key: key,\n        args: args,\n        text: text,\n        limitSize: uc.get('limitSize') || limitSize,\n        multiple: uc.get('multiple'),\n        suffix: uc.get('suffix') || suffix,\n        url: _url\n      } : _objectSpread({\n        pageId: pageId,\n        key: key,\n        args: args,\n        text: text\n      }, this.defaultUploadConfig);\n    }\n\n    /**\n     * 删除文件\n     * 分别发送指令到文件服务器和表单插件\n     * @param {object} file 文件信息对象，包含文件名、文件服务器url、大小、最后修改时间等\n     */\n  }, {\n    key: \"deleteFile\",\n    value: function deleteFile(file) {\n      var removeFile = this.props.removeFile;\n      // 这里获取的pageId、key可能不对\n      var _this$state3 = this.state,\n        pageId = _this$state3.pageId,\n        key = _this$state3.key;\n      var name = file.name,\n        url = file.url,\n        size = file.size,\n        lastModified = file.lastModified;\n      // 告诉插件删除的文件url\n      removeFile(pageId, key, [{\n        name: name,\n        url: url,\n        size: size,\n        lastModified: lastModified\n      }]);\n\n      // 告诉文件服务器删除的文件url\n      _formservice[\"default\"].postApi('attachment/remove.do', {\n        path: url\n      });\n    }\n\n    /**\n     * 校验文件大小\n     * @param {object} file 文件对象\n     * @param {object} fileInfo 自己构建的文件info对象，包括status、message、percent等\n     */\n  }, {\n    key: \"checkFileSize\",\n    value: function checkFileSize(file, fileInfo) {\n      var limitSize = this.state.limitSize;\n      var name = file.name,\n        size = file.size;\n\n      // 检查文件大小\n      if (size === 0) {\n        // 文件大小为0不能上传，会导致EAS附件系统抛异常，EAS有针对文件大小为0做校验\n        fileInfo.message = (0, _intlApi.getLangMsg)({\n          key: 'commonUpload.key003',\n          variables: {\n            name: name\n          }\n        });\n        fileInfo.status = UploadStatus.error;\n      } else if (size > limitSize) {\n        fileInfo.message = (0, _intlApi.getLangMsg)({\n          key: 'commonUpload.key001',\n          variables: {\n            name: name,\n            limitSizeStr: switchFileSize(limitSize)\n          }\n        });\n        fileInfo.status = UploadStatus.error;\n      }\n      return fileInfo;\n    }\n\n    /**\n     * 校验文件后缀\n     * @param {object} file 文件对象\n     * @param {object} fileInfo 自己构建的文件info对象，包括status、message、percent等\n     */\n  }, {\n    key: \"checkFileSuffix\",\n    value: function checkFileSuffix(file, fileInfo) {\n      var suffix = this.state.suffix;\n      var name = file.name;\n      var message = (0, _intlApi.getLangMsg)({\n        key: 'commonUpload.key002',\n        variables: {\n          name: name,\n          suffix: suffix\n        }\n      });\n      var _index = name.lastIndexOf('.');\n      if (_index === -1) {\n        // 文件没有后缀名的情况，暂时做不给上传处理\n        fileInfo.message = message;\n        fileInfo.status = UploadStatus.error;\n      } else {\n        var _fileSuffix = name.substr(_index).toLowerCase();\n\n        // 上传图片到图片服务器的\n        if (this.isImageServer) {\n          var suffixArr = suffix.split(',') || [];\n          var allowFileType = _const.ALLOWED_IMAGES.extensions.filter(function (ext) {\n            return suffixArr.includes(ext);\n          });\n          if (!allowFileType.includes(_fileSuffix)) {\n            fileInfo.message = (0, _intlApi.getLangMsg)({\n              key: 'commonUpload.key002',\n              variables: {\n                name: name,\n                suffix: allowFileType.join(',')\n              }\n            });\n            fileInfo.status = UploadStatus.error;\n          }\n        } else if (!suffix.split(',').find(function (val) {\n          return val.toLowerCase() === _fileSuffix;\n        })) {\n          fileInfo.message = message;\n          fileInfo.status = UploadStatus.error;\n        }\n      }\n      return fileInfo;\n    }\n\n    // 图片上传前校验\n  }, {\n    key: \"canUpload\",\n    value: function canUpload(file) {\n      var name = file.name,\n        size = file.size;\n      var key = getKey(this.state);\n      var fileInfo = {\n        file: file,\n        name: name,\n        size: size\n      };\n      fileInfo.message = '';\n      var result = Object.values(this.validators).every(function (validate) {\n        fileInfo = validate(file, fileInfo);\n        if (Object.is(fileInfo.status, UploadStatus.error)) {\n          return false;\n        }\n        return true;\n      });\n      if (!result) {\n        this.failedFile[key].push({\n          name: name,\n          status: UploadStatus.error,\n          message: fileInfo.message\n        });\n      }\n      this.failedFile[key].length > 0 && this.showErrorTips(name, fileInfo);\n      return result;\n    }\n  }, {\n    key: \"beforeUpload\",\n    value: function beforeUpload(file, chooseFileList) {\n      var _this$files2;\n      if (!this.uploadFile || !(0, _lodash.isEqual)(this.uploadFile, chooseFileList)) {\n        chooseFileList.forEach(function (item) {\n          item.uid = (0, _attachmentUtils.generateUID)(item.uid);\n        });\n        this.uploadFile = chooseFileList;\n      }\n      var key = getKey(this.state);\n      this.chooseFileCount[key] = chooseFileList.length;\n      // 校验\n      var result = this.canUpload(file);\n      // result用来判断beforeUpload后续是否需要继续上传\n      var fileResultInfo = Object.assign(file, {\n        result: result\n      });\n      if (((_this$files2 = this.files) === null || _this$files2 === void 0 ? void 0 : _this$files2.length) > 0) {\n        this.files.push(fileResultInfo);\n      } else {\n        this.files = [fileResultInfo];\n      }\n      result && this.sendBeforeUploadEvent(chooseFileList);\n      return false;\n    }\n  }, {\n    key: \"onStart\",\n    value: function onStart(file) {\n      var _this$state4 = this.state,\n        pageId = _this$state4.pageId,\n        key = _this$state4.key,\n        args = _this$state4.args;\n      this.cache[file.uid] = {\n        pageId: pageId,\n        key: key,\n        args: args\n      };\n      this.showLoading({\n        pageId: pageId,\n        key: key,\n        args: args\n      });\n    }\n  }, {\n    key: \"onProgress\",\n    value: function onProgress(step, file) {}\n  }, {\n    key: \"onError\",\n    value: function onError(err, resp, file) {\n      var name = file ? file.name : '';\n      var uploadResult = {\n        status: 'error',\n        description: err,\n        name: name\n      };\n      var key = getKey(this.cache[file.uid] || this.state);\n      this.failedFile[key].push(uploadResult);\n      this.sendResultOfUpload2Server(uploadResult);\n      this.lastHandle(file);\n    }\n  }, {\n    key: \"onSuccess\",\n    value: function onSuccess(resp, file) {\n      var status = resp.status,\n        _resp$description = resp.description,\n        description = _resp$description === void 0 ? '上传失败' : _resp$description,\n        url = resp.url;\n      var name = file.name,\n        uid = file.uid,\n        size = file.size,\n        lastModified = file.lastModified;\n      var key = getKey(this.cache[uid] || this.state);\n      if (status && status === 'error') {\n        this.failedFile[key].push({\n          name: name,\n          status: status,\n          message: description\n        });\n        this.sendResultOfUpload2Server({\n          description: description,\n          name: name,\n          status: status\n        });\n      } else {\n        var successFile = {\n          uid: uid,\n          name: name,\n          status: status,\n          message: \"\\u6587\\u4EF6 [\".concat(name, \"] \\u4E0A\\u4F20\\u6210\\u529F\"),\n          url: url,\n          size: size,\n          lastModified: lastModified\n        };\n        this.successFile[key].push(successFile);\n      }\n\n      // 最后一个文件上传结束，处理消息提示和发送url到server\n      this.lastHandle(file);\n    }\n  }, {\n    key: \"lastHandle\",\n    value: function lastHandle(file) {\n      var key = getKey(this.cache[file.uid] || this.state);\n      if (this.failedFile[key].length + this.successFile[key].length === this.chooseFileCount[key]) {\n        this.sendUrl2Server(key);\n        this.hideLoading(this.cache[file.uid] || this.state);\n      }\n    }\n  }, {\n    key: \"showNotification\",\n    value: function showNotification() {\n      var type = this.failedFile[getKey(this.state)].length > 0 ? _const.AlertType.WARNING : _const.AlertType.SUCCESS;\n      var failedTipsAry = this.getTipsArray(false);\n      var successTipsAry = this.getTipsArray(true);\n      var tipsAry = successTipsAry.concat(failedTipsAry);\n      (0, _appModelFunction.setDataMessages)(this.state.pageId, {\n        content: tipsAry.join(';\\t'),\n        type: type\n      });\n    }\n  }, {\n    key: \"showErrorTips\",\n    value: function showErrorTips(name, fileInfo) {\n      var pageId = this.state.pageId;\n      if (!fileInfo.message) {\n        return;\n      }\n      (0, _appModelFunction.setDataMessages)(pageId, {\n        content: fileInfo.message,\n        type: _const.AlertType.ERROR\n      });\n    }\n  }, {\n    key: \"getTipsArray\",\n    value: function getTipsArray(success) {\n      var key = getKey(this.state);\n      var fileAry = success ? this.successFile[key] : this.failedFile[key];\n      return fileAry.map(function (file) {\n        return file.message;\n      });\n    }\n  }, {\n    key: \"getSuffix\",\n    value: function getSuffix() {\n      var suffix = this.state.suffix;\n      return suffix || null;\n    }\n  }, {\n    key: \"getUploadOptions\",\n    value: function getUploadOptions() {\n      var _this$state5 = this.state,\n        multiple = _this$state5.multiple,\n        url = _this$state5.url,\n        pageId = _this$state5.pageId;\n      var state = (0, _global.getGlobalState)();\n      var fId = (0, _appModelFunction.getFormId)(pageId)(state);\n      // 引入引出对话框\n      if (fId === 'bos_importstart' || fId === 'bos_importentry_start') {\n        var parentPageId = (0, _appModelFunction.getParentPage)(pageId)(state);\n        var config = (0, _appModelFunction.getFormConfigWithoutMeta)(parentPageId)(state);\n        fId = config.billFormId || config.formId;\n      }\n      var uploadOption = {\n        action: (0, _requestParamsUtil.appendCtsynonce)({\n          pageId: pageId\n        }, url),\n        multiple: multiple,\n        accept: this.getSuffix(),\n        beforeUpload: this.beforeUpload,\n        onStart: this.onStart,\n        onSuccess: this.onSuccess,\n        onError: this.onError,\n        onProgress: this.onProgress,\n        data: function data(file) {\n          if (file) {\n            // const imgPath = `${this.serverPathObj[url]}${uid(10)}`\n            // return { url: imgPath + '/' + file.name }\n            return (0, _requestParamsUtil.getRequestParams)({\n              pageId: pageId\n            }, {\n              url: file.name\n            }, function () {\n              return fId === 'bos_importstart' || fId === 'bos_importentry_start';\n            });\n          }\n        }\n      };\n      var suffix = this.state.suffix;\n      if (suffix) {\n        uploadOption.headers = {\n          awet: (0, _crypto.getEncodeValWithPrefix)(suffix, (0, _appModelFunction.getRootEncodeMethod)()) // awet: 允许上传的格式 allowextension\n        };\n      }\n      return uploadOption;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/_react[\"default\"].createElement(_rcUpload[\"default\"], _extends({}, this.getUploadOptions(), {\n        ref: \"inner\"\n      }));\n    }\n  }]);\n  return CommonUpload;\n}(_react.Component);\n/**\n * 生成新的key用于数据存储\n * @param pageId 页面Id\n * @param key 控件 key\n * @param args 如果是工具栏的话，则为工具栏项的key\n * @returns {string} key\n */\nCommonUpload.contextType = _SystemUIProvider.SystemUIContext;\nfunction getKey(_ref4) {\n  var pageId = _ref4.pageId,\n    key = _ref4.key,\n    args = _ref4.args;\n  return \"\".concat(pageId, \"$$\").concat(key, \"$$\").concat(args || '');\n}\n\n/**\n * 转换文件大小\n * @param {number} size 文件大小\n */\nvar switchFileSize = function switchFileSize(size) {\n  if (size >= 1024 * 1024) {\n    return (Math.round(size * 100 / (1024 * 1024)) / 100).toString() + 'MB';\n  }\n  return (Math.round(size * 100 / 1024) / 100).toString() + 'KB';\n};\nvar UploadStatus = {\n  uploading: 'uploading',\n  success: 'success',\n  error: 'error'\n};\n\n//# sourceURL=webpack://bos-platform/./src/page/CommonUpload.jsx?");

/***/ }),

/***/ "./src/page/RobertNumber.js":
/*!**********************************!*\
  !*** ./src/page/RobertNumber.js ***!
  \**********************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.async-iterator.js */ \"../../node_modules/core-js/modules/es.symbol.async-iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-string-tag.js */ \"../../node_modules/core-js/modules/es.symbol.to-string-tag.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.reverse.js */ \"../../node_modules/core-js/modules/es.array.reverse.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.json.to-string-tag.js */ \"../../node_modules/core-js/modules/es.json.to-string-tag.js\");\n__webpack_require__(/*! core-js/modules/es.math.to-string-tag.js */ \"../../node_modules/core-js/modules/es.math.to-string-tag.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-properties.js */ \"../../node_modules/core-js/modules/es.object.define-properties.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptors.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.CustomMenu = CustomMenu;\nexports.FloatMenuItem = FloatMenuItem;\nexports.LinkRobert = LinkRobert;\nexports[\"default\"] = RobertNumber;\nexports.openRobertNumber = openRobertNumber;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.array.join.js */ \"../../node_modules/core-js/modules/es.array.join.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.array.some.js */ \"../../node_modules/core-js/modules/es.array.some.js\");\n__webpack_require__(/*! core-js/modules/es.array.splice.js */ \"../../node_modules/core-js/modules/es.array.splice.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.promise.js */ \"../../node_modules/core-js/modules/es.promise.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\n__webpack_require__(/*! core-js/modules/es.string.replace.js */ \"../../node_modules/core-js/modules/es.string.replace.js\");\n__webpack_require__(/*! core-js/modules/es.string.search.js */ \"../../node_modules/core-js/modules/es.string.search.js\");\n__webpack_require__(/*! core-js/modules/es.string.link.js */ \"../../node_modules/core-js/modules/es.string.link.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.timers.js */ \"../../node_modules/core-js/modules/web.timers.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _reactDom = _interopRequireDefault(__webpack_require__(/*! react-dom */ \"webpack/sharing/consume/default/react-dom/react-dom?418d\"));\nvar _classnames4 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _resizeObserverPolyfill = _interopRequireDefault(__webpack_require__(/*! resize-observer-polyfill */ \"../../node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js\"));\nvar _global = _interopRequireWildcard(__webpack_require__(/*! @/global */ \"./src/global/index.js\"));\nvar _IFrame = _interopRequireDefault(__webpack_require__(/*! @/component/web/base/IFrame */ \"./src/component/web/base/IFrame.js\"));\nvar _useDialogDrag3 = _interopRequireDefault(__webpack_require__(/*! @/component/common/useDialogDrag */ \"./src/component/common/useDialogDrag.js\"));\nvar _robot = _interopRequireDefault(__webpack_require__(/*! ./robot.png */ \"./src/page/robot.png\"));\nvar _formservice = _interopRequireDefault(__webpack_require__(/*! ../api/formservice */ \"./src/api/formservice.js\"));\nvar _GlobalDataCacher = __webpack_require__(/*! ../model/GlobalDataCacher */ \"./src/model/GlobalDataCacher.js\");\nvar _symbolConst = __webpack_require__(/*! ../constant/symbolConst */ \"./src/constant/symbolConst.js\");\nvar _console = _interopRequireDefault(__webpack_require__(/*! ../api/console */ \"./src/api/console.js\"));\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nvar _ClientDialog = _interopRequireDefault(__webpack_require__(/*! ./ClientDialog */ \"./src/page/ClientDialog.js\"));\nvar _symbolConst2 = __webpack_require__(/*! @/constant/symbolConst */ \"./src/constant/symbolConst.js\");\nvar _PanelWithOutside = _interopRequireDefault(__webpack_require__(/*! @/component/common/PanelWithOutside */ \"./src/component/common/PanelWithOutside.js\"));\nvar _TrayMenu = _interopRequireDefault(__webpack_require__(/*! ./TrayMenu.less */ \"./src/page/TrayMenu.less\"));\nvar _RobertNumber = _interopRequireDefault(__webpack_require__(/*! ./RobertNumber.less */ \"./src/page/RobertNumber.less\"));\nvar _excluded = [\"handleClick\", \"href\", \"id\", \"header\", \"target\", \"isLinkProxy\", \"openUrl\", \"children\"];\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw new Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw new Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; } /**\n *徐少春个人号\n * @authors daosheng_chen (daosheng_chen@kingdee.com)\n * @date    2019-05-09 10:39:51\n * @version 1.0\n */\nvar AUTO_CONNECT = '1';\nvar SLEEP_TIME = 60; // 秒\n// 用户自定义菜单类型\nvar SESSION_WEBSOCKET_LINK_TYPE = 3;\nvar SESSION_LINK_TYPE = 2;\nvar NORMAL_LINK_TYPE = 1;\nvar WITHOUT_LINK_TYPE = 0;\nvar arrTrue = [true, 'true'];\n\n// 反馈信息统一用弹框显示\nvar showMessage = function showMessage(pageId, msg) {\n  var type = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n  var messageData = {\n    messageType: type,\n    msg: msg,\n    pageId: pageId\n  };\n  (0, _GlobalDataCacher.setData)(_symbolConst2.KEY_SHOW_MESSAGE_EVENT, messageData);\n};\n\n/**\n   * @description 更新URL\n   * @param getUrlFunc function 获取url的ajax函数\n   * @param setState function useState()的第二个参数, 用于更新\n   * @param key string url在返回体, 里面对应的key值\n   *  */\nvar updateUrl = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(_ref) {\n    var getUrlFunc, setState, setErrorMsg, key, result, data;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          getUrlFunc = _ref.getUrlFunc, setState = _ref.setState, setErrorMsg = _ref.setErrorMsg, key = _ref.key;\n          _context.next = 3;\n          return getUrlFunc();\n        case 3:\n          result = _context.sent;\n          if (!result) {\n            result = {\n              success: false\n            };\n          }\n          if (arrTrue.includes(result.success)) {\n            data = result.data || _defineProperty({}, key, '');\n            setState(data[key]);\n          } else {\n            setErrorMsg(result.message || '请求错误(bad request)');\n            setState(''); // 请求失败时把url清空\n          }\n        case 6:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return function updateUrl(_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nvar fetchUrl = function fetchUrl(url) {\n  // getApi支持跨域\n  return _formservice[\"default\"].getApi(url).then(function (result) {\n    return result;\n  })[\"catch\"](function (error) {\n    _console[\"default\"].error(error);\n    return {\n      success: false,\n      error: error\n    };\n  });\n};\n\n// 获取 售前在线咨询 链接\nvar fetchLinkOnlineConsultationUrl = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n    var url, result;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          url = 'kapi/app/base/getPreSalesChatURL?i=' + Math.random();\n          _context2.next = 3;\n          return fetchUrl(url);\n        case 3:\n          result = _context2.sent;\n          return _context2.abrupt(\"return\", result);\n        case 5:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2);\n  }));\n  return function fetchLinkOnlineConsultationUrl() {\n    return _ref4.apply(this, arguments);\n  };\n}();\n// 获取 提单反馈 链接\nvar fetchFeedUrl = /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n    var url, result;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          url = 'kapi/app/base/getLadingURL?i=' + Math.random();\n          _context3.next = 3;\n          return fetchUrl(url);\n        case 3:\n          result = _context3.sent;\n          return _context3.abrupt(\"return\", result);\n        case 5:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3);\n  }));\n  return function fetchFeedUrl() {\n    return _ref5.apply(this, arguments);\n  };\n}();\n// 获取 普遍 链接\nvar fetchCommonUrl = /*#__PURE__*/function () {\n  var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(fetchURL) {\n    var url, result;\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          if (fetchURL.indexOf('?') !== -1) {\n            fetchURL += \"&i=\".concat(Math.random());\n          } else {\n            fetchURL += \"?i=\".concat(Math.random());\n          }\n          url = fetchURL;\n          _context4.next = 4;\n          return fetchUrl(url);\n        case 4:\n          result = _context4.sent;\n          return _context4.abrupt(\"return\", result);\n        case 6:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4);\n  }));\n  return function fetchCommonUrl(_x2) {\n    return _ref6.apply(this, arguments);\n  };\n}();\nfunction generatorCustomMenuByItems(items, sideEffectFn) {\n  return items.map(function (item, index) {\n    return _objectSpread(_objectSpread({}, item), {}, {\n      // 隐藏会不会继续执行逻辑来着\n      show: /* item.show || */true,\n      id: item.id || index,\n      menuIndex: index + 1,\n      link: sideEffectFn(item, index),\n      icon: /*#__PURE__*/_react[\"default\"].createElement(\"img\", {\n        src: item.icon,\n        style: item.iconStyle,\n        className: _RobertNumber[\"default\"].robertPng\n      })\n      // 系统无法上传icon，改用图片\n      // icon: (<i className={item.icon} style={item.style} />)\n    });\n  });\n}\nfunction generatorSystemMenuByItems(_ref7) {\n  var rootPageId = _ref7.rootPageId,\n    setNewMessages = _ref7.setNewMessages,\n    loading = _ref7.loading,\n    setLoading = _ref7.setLoading,\n    preSaleHotline = _ref7.preSaleHotline,\n    linkOnlineConsultation = _ref7.linkOnlineConsultation,\n    onClickConsult = _ref7.onClickConsult,\n    onClickComment = _ref7.onClickComment,\n    robertNumber = _ref7.robertNumber,\n    linkFeed = _ref7.linkFeed,\n    onClickFeed = _ref7.onClickFeed,\n    preSaleOnlineConsultation = _ref7.preSaleOnlineConsultation,\n    billOfLadingFeedback = _ref7.billOfLadingFeedback,\n    comment = _ref7.comment,\n    showColorsIcon = _ref7.showColorsIcon,\n    setAccountDialog = _ref7.setAccountDialog;\n  // 排序:\n  var SystemMenu = [{\n    icon: /*#__PURE__*/_react[\"default\"].createElement(\"img\", {\n      src: _robot[\"default\"],\n      className: _RobertNumber[\"default\"].robertPng\n    }),\n    header: (0, _intlApi.getLangMsg)('trayMenu.key0001'),\n    content: (0, _intlApi.getLangMsg)('trayMenu.key0002'),\n    link: /*#__PURE__*/_react[\"default\"].createElement(LinkRobert, {\n      rootPageId: rootPageId,\n      menuIndex: 0,\n      setNewMessages: setNewMessages,\n      loadHelp: [loading, setLoading],\n      socketId: \"9b5051ac-ee7e-478f-8c5d-1b9119d5d5c8\",\n      isNeedIncludeIndex: true,\n      isUseNotifyString: true,\n      setAccountDialog: setAccountDialog\n    }),\n    show: robertNumber,\n    id: 'robertNumber'\n  }, {\n    icon: /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n      className: \"kdfont  kdfont-shouqianrexian\",\n      style: {\n        color: '#006aff'\n      }\n    }),\n    header: (0, _intlApi.getLangMsg)('trayMenu.key0003'),\n    content: '4008-830-830',\n    show: preSaleHotline,\n    contentStyle: {\n      color: '#006AFF'\n    },\n    id: 'preSaleHotline'\n  }, {\n    icon: /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n      className: \"kdfont kdfont-shouqianzaixianzixun\",\n      style: {\n        color: '#51A444'\n      }\n    }),\n    header: (0, _intlApi.getLangMsg)('trayMenu.key0004'),\n    content: (0, _intlApi.getLangMsg)('trayMenu.key0005'),\n    link: /*#__PURE__*/_react[\"default\"].createElement(\"a\", {\n      href: linkOnlineConsultation,\n      onClick: onClickConsult,\n      target: \"preonline\"\n    }),\n    show: preSaleOnlineConsultation,\n    id: 'preSaleOnlineConsultation'\n  }, {\n    icon: /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n      className: \"kdfont kdfont-kefu2\",\n      style: {\n        color: '#55A0F5'\n      }\n    }),\n    header: (0, _intlApi.getLangMsg)('trayMenu.key0006'),\n    content: (0, _intlApi.getLangMsg)('trayMenu.key0007'),\n    link: /*#__PURE__*/_react[\"default\"].createElement(\"a\", {\n      href: linkFeed,\n      onClick: onClickFeed,\n      target: \"feed\"\n    }),\n    show: billOfLadingFeedback,\n    id: 'billOfLadingFeedback'\n  }];\n  var commentRate = {\n    icon: /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n      className: \"kdfont kdfont-pingjia3\",\n      style: {\n        color: '#5582F3'\n      }\n    }),\n    header: (0, _intlApi.getLangMsg)('trayMenu.key0008'),\n    content: (0, _intlApi.getLangMsg)('trayMenu.key0009'),\n    link: /*#__PURE__*/_react[\"default\"].createElement(\"a\", {\n      onClick: onClickComment,\n      target: \"comment\"\n    }),\n    show: comment,\n    id: 'comment'\n  };\n  !showColorsIcon && SystemMenu.push(commentRate); // 旧门户，满意度评分放在售后中\n  return SystemMenu;\n}\n\n// DONE: 将系统的菜单项抽离出来作为一个单独的组件，不共用\n/**\n * @param forwardRef 控制底层二级菜单的DOM的Ref\n * @param rootPageId 标志系统菜单的DOM data属性\n * @param showContent 需要展示的菜单项\n * @param isShowSplit 是否显示分隔符\n * @param className 字体图标类\n *\n */\nfunction RobertNumber(_ref8) {\n  var forwardRef = _ref8.forwardRef,\n    rootPageId = _ref8.rootPageId,\n    _ref8$showContent = _ref8.showContent,\n    showContent = _ref8$showContent === void 0 ? {} : _ref8$showContent,\n    isShowSplit = _ref8.isShowSplit,\n    className = _ref8.className,\n    itemClassName = _ref8.itemClassName,\n    showColorsIcon = _ref8.showColorsIcon;\n  var _useState = (0, _react.useState)(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    errorMsgPreSale = _useState2[0],\n    setErrorMsgPreSale = _useState2[1];\n  var _useState3 = (0, _react.useState)(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    errorMsgLading = _useState4[0],\n    setErrorMsgLading = _useState4[1];\n  var _useState5 = (0, _react.useState)(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    showFeedDialog = _useState6[0],\n    setShowFeedDialog = _useState6[1];\n  var _useState7 = (0, _react.useState)([]),\n    _useState8 = _slicedToArray(_useState7, 2),\n    newMessages = _useState8[0],\n    setNewMessages = _useState8[1]; // 个人号有新消息\n  var _useState9 = (0, _react.useState)(''),\n    _useState10 = _slicedToArray(_useState9, 2),\n    linkOnlineConsultation = _useState10[0],\n    setLinkOnlineConsultation = _useState10[1];\n  var _useState11 = (0, _react.useState)(''),\n    _useState12 = _slicedToArray(_useState11, 2),\n    linkFeed = _useState12[0],\n    setLinkFeed = _useState12[1];\n  var aboutRef = (0, _react.useRef)(null);\n  var menuBtnRef = (0, _react.useRef)(null);\n  var isContainTriggerRef = (0, _react.useRef)(null);\n  var _useState13 = (0, _react.useState)(false),\n    _useState14 = _slicedToArray(_useState13, 2),\n    loading = _useState14[0],\n    setLoading = _useState14[1];\n  var _useState15 = (0, _react.useState)(null),\n    _useState16 = _slicedToArray(_useState15, 2),\n    aboutVisible = _useState16[0],\n    setAboutVisible = _useState16[1];\n  var handFeed = (0, _react.useCallback)(function () {\n    // setData(KEY_CALL_K_DIALOG, false)\n    setShowFeedDialog(true);\n  }, []);\n  var _useState17 = (0, _react.useState)(false),\n    _useState18 = _slicedToArray(_useState17, 2),\n    showAccountDialog = _useState18[0],\n    setAccountDialog = _useState18[1];\n  var _showContent$billOfLa = showContent.billOfLadingFeedback,\n    billOfLadingFeedback = _showContent$billOfLa === void 0 ? true : _showContent$billOfLa,\n    _showContent$comment = showContent.comment,\n    comment = _showContent$comment === void 0 ? true : _showContent$comment,\n    _showContent$preSaleH = showContent.preSaleHotline,\n    preSaleHotline = _showContent$preSaleH === void 0 ? true : _showContent$preSaleH,\n    _showContent$preSaleO = showContent.preSaleOnlineConsultation,\n    preSaleOnlineConsultation = _showContent$preSaleO === void 0 ? true : _showContent$preSaleO,\n    _showContent$robertNu = showContent.robertNumber,\n    robertNumber = _showContent$robertNu === void 0 ? true : _showContent$robertNu;\n  (0, _react.useEffect)(function () {\n    var _menuBtnRef$current;\n    // 初始化和aboutVisible为true时请求接口\n    if (aboutVisible !== false) {\n      preSaleOnlineConsultation && updateUrl({\n        getUrlFunc: fetchLinkOnlineConsultationUrl,\n        setState: setLinkOnlineConsultation,\n        setErrorMsg: setErrorMsgPreSale,\n        key: 'preSalesChatSignatureURL'\n      });\n      billOfLadingFeedback && updateUrl({\n        getUrlFunc: fetchFeedUrl,\n        setState: setLinkFeed,\n        setErrorMsg: setErrorMsgLading,\n        key: 'ladingURL'\n      });\n    }\n    var showAboutPanel = function showAboutPanel() {\n      // 点击的元素为触发器的时候\n      if (isContainTriggerRef.current) {\n        isContainTriggerRef.current = false;\n      } else {\n        setAboutVisible(true);\n      }\n    };\n    (_menuBtnRef$current = menuBtnRef.current) === null || _menuBtnRef$current === void 0 || _menuBtnRef$current.addEventListener('click', showAboutPanel);\n    return function () {\n      var _menuBtnRef$current2;\n      (_menuBtnRef$current2 = menuBtnRef.current) === null || _menuBtnRef$current2 === void 0 || _menuBtnRef$current2.removeEventListener('click', showAboutPanel);\n    };\n  }, [aboutVisible]);\n\n  // 点击评分, 出现弹框, 并禁止a标签打开新的页签\n  var onClickComment = function onClickComment() {\n    (0, _GlobalDataCacher.setData)(_symbolConst2.KEY_UI_ACTION, {\n      tableName: 'tray_menu',\n      actionKey: 'appraise',\n      controlName: '评分'\n    });\n    handFeed();\n    return false;\n  };\n  // 点击提单反馈, 如果链接不正确, 禁止打开新页签, 并弹出提示框\n  var onClickFeed = function onClickFeed(event) {\n    (0, _GlobalDataCacher.setData)(_symbolConst2.KEY_UI_ACTION, {\n      tableName: 'tray_menu',\n      actionKey: 'lading_feedback',\n      controlName: '提单反馈'\n    });\n    !linkFeed && event.preventDefault();\n    !linkFeed && setAccountDialog(true);\n  };\n  // 点击售前在线咨询, 如果链接不正确, 禁止打开新页签, 并弹出提示框\n  var onClickConsult = function onClickConsult(event) {\n    (0, _GlobalDataCacher.setData)(_symbolConst2.KEY_UI_ACTION, {\n      tableName: 'tray_menu',\n      actionKey: 'consultation',\n      controlName: '售前在线咨询'\n    });\n    !linkOnlineConsultation && event.preventDefault();\n    !linkOnlineConsultation && setAccountDialog(true);\n  };\n  var closeAbout = function closeAbout(type, e) {\n    var _menuBtnRef$current3;\n    setAboutVisible(false);\n    // 点击的元素为触发器的时候，那么只执行关闭动作\n    if (e && (_menuBtnRef$current3 = menuBtnRef.current) !== null && _menuBtnRef$current3 !== void 0 && _menuBtnRef$current3.contains(e.target)) {\n      isContainTriggerRef.current = true;\n    }\n  };\n  var style = loading ? {\n    cursor: 'wait'\n  } : {};\n  var menuList = generatorSystemMenuByItems({\n    rootPageId: rootPageId,\n    setNewMessages: setNewMessages,\n    loading: loading,\n    setLoading: setLoading,\n    preSaleHotline: preSaleHotline,\n    linkOnlineConsultation: linkOnlineConsultation,\n    onClickConsult: onClickConsult,\n    onClickComment: onClickComment,\n    robertNumber: robertNumber,\n    linkFeed: linkFeed,\n    onClickFeed: onClickFeed,\n    preSaleOnlineConsultation: preSaleOnlineConsultation,\n    billOfLadingFeedback: billOfLadingFeedback,\n    comment: comment,\n    showColorsIcon: showColorsIcon,\n    setAccountDialog: setAccountDialog\n  });\n  var robotClassName = (0, _classnames4[\"default\"])(_RobertNumber[\"default\"].robot, itemClassName);\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: robotClassName,\n    style: style,\n    \"data-page-id\": \"_robertnumber\",\n    ref: menuBtnRef\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n    className: showColorsIcon ? _RobertNumber[\"default\"].satisfactionIcon : className,\n    ref: aboutRef,\n    title: (0, _intlApi.getLangMsg)('trayMenu.key0014')\n  }, /*#__PURE__*/_react[\"default\"].createElement(About, {\n    show: aboutVisible,\n    items: menuList,\n    isOnlyOneItem: menuList.length === 1,\n    onClose: closeAbout,\n    menuBtnRef: menuBtnRef\n  })), isShowSplit && /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _TrayMenu[\"default\"].secondSplit\n  }), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames4[\"default\"])(_RobertNumber[\"default\"].badge, _defineProperty({}, _RobertNumber[\"default\"].hidden, !newMessages.some(function (el) {\n      return el;\n    })))\n  }), showFeedDialog && /*#__PURE__*/_react[\"default\"].createElement(_ClientDialog[\"default\"], {\n    formId: \"bos_voc_appevaluation\",\n    onClose: function onClose(event) {\n      return setShowFeedDialog(false);\n    }\n  }), showAccountDialog && /*#__PURE__*/_react[\"default\"].createElement(_ClientDialog[\"default\"], {\n    formId: \"bos_account_binding\",\n    onClose: function onClose(e) {\n      return setAccountDialog(false);\n    }\n  }));\n}\n\n/**\n * @param forwardRef 控制底层二级菜单的DOM的Ref\n * @param rootPageId 标志系统菜单的DOM data属性\n * @param showContent 需要展示的菜单项\n * @param isShowSplit 是否显示分隔符\n * @param className 字体图标类\n *\n */\nfunction CustomMenu(_ref9) {\n  var forwardRef = _ref9.forwardRef,\n    rootPageId = _ref9.rootPageId,\n    _ref9$items = _ref9.items,\n    items = _ref9$items === void 0 ? [] : _ref9$items,\n    className = _ref9.className,\n    itemClassName = _ref9.itemClassName,\n    showColorsIcon = _ref9.showColorsIcon;\n  var _useState19 = (0, _react.useState)(items.map(function (i) {\n      return i.fetchCommonUrl || i.link;\n    })),\n    _useState20 = _slicedToArray(_useState19, 2),\n    commonUrls = _useState20[0],\n    setCommonUrls = _useState20[1];\n  var _useState21 = (0, _react.useState)(items.map(function (i) {\n      return '';\n    })),\n    _useState22 = _slicedToArray(_useState21, 2),\n    errorCommonMsg = _useState22[0],\n    setErrorCommonMsg = _useState22[1];\n  var _useState23 = (0, _react.useState)([]),\n    _useState24 = _slicedToArray(_useState23, 2),\n    newMessages = _useState24[0],\n    setNewMessages = _useState24[1]; // 其他ws有新消息\n  var aboutRef = (0, _react.useRef)(null);\n  var menuBtnRef = (0, _react.useRef)(null);\n  var isContainTriggerRef = (0, _react.useRef)(null);\n  var _useState25 = (0, _react.useState)(false),\n    _useState26 = _slicedToArray(_useState25, 2),\n    loading = _useState26[0],\n    setLoading = _useState26[1];\n  var _useState27 = (0, _react.useState)(),\n    _useState28 = _slicedToArray(_useState27, 2),\n    aboutVisible = _useState28[0],\n    setAboutVisible = _useState28[1];\n  var fetchCommonUrlFn = function fetchCommonUrlFn(fetchUrl, index) {\n    fetchCommonUrl(fetchUrl).then(function (result) {\n      if (!result) {\n        result = {\n          success: false\n        };\n      }\n      if (arrTrue.includes(result.success)) {\n        // TODO\n        var data = result.data || {};\n        var _data$url = data.url,\n          url = _data$url === void 0 ? '' : _data$url,\n          queryKeyMapList = data.queryKeyMap;\n        if (queryKeyMapList) {\n          url += \"\".concat(url.indexOf('?') > -1 ? '&' : '?').concat(queryKeyMapList.map(function (name) {\n            return \"\".concat(name, \"=\").concat(window.encodeURIComponent(data[name]));\n          }).join('&'));\n        }\n        setCommonUrls(function (state) {\n          // 用state的\n          var urls = state.slice();\n          // urls.splice(index, 1, 'https://bilibili.com')\n          if (queryKeyMapList) {\n            urls.splice(index, 1, url);\n            return urls;\n          }\n          urls.splice(index, 1, data.url);\n          return urls;\n        });\n      } else {\n        setErrorCommonMsg(function (state) {\n          var array = state.slice();\n          array.splice(index, 1, result.message || (0, _intlApi.getLangMsg)({\n            key: 'Picture.key0006'\n          }));\n          return array;\n        });\n      }\n    });\n  };\n  (0, _react.useEffect)(function () {\n    var _menuBtnRef$current4;\n    var timeIds = [];\n    items.forEach(function (item, index) {\n      if (item.type === 2 && item.fetchCommonUrl) {\n        // 这里约定好是url 是否需要后端指定?\n        if (item.fetchCommonUrlIntervalTime && window.setInterval) {\n          fetchCommonUrlFn(item.fetchCommonUrl, index);\n          timeIds.push(window.setInterval(function () {\n            fetchCommonUrlFn(item.fetchCommonUrl, index);\n          }, Number(item.fetchCommonUrlIntervalTime)));\n        } else {\n          fetchCommonUrlFn(item.fetchCommonUrl, index);\n        }\n      }\n    });\n    var showAboutPanel = function showAboutPanel() {\n      // 点击的元素为触发器的时候\n      if (isContainTriggerRef.current) {\n        isContainTriggerRef.current = false;\n      } else {\n        setAboutVisible(true);\n      }\n    };\n    (_menuBtnRef$current4 = menuBtnRef.current) === null || _menuBtnRef$current4 === void 0 || _menuBtnRef$current4.addEventListener('click', showAboutPanel);\n    return function () {\n      var _menuBtnRef$current5;\n      (_menuBtnRef$current5 = menuBtnRef.current) === null || _menuBtnRef$current5 === void 0 || _menuBtnRef$current5.removeEventListener('click', showAboutPanel);\n      timeIds.forEach(function (id) {\n        window.clearInterval && window.clearInterval(id);\n      });\n      timeIds = null;\n    };\n  }, []);\n  var handleCommonClick = function handleCommonClick(event, item, idx) {\n    !(item.link || commonUrls[idx]) && event.preventDefault();\n    errorCommonMsg && showMessage(rootPageId, errorCommonMsg[idx]);\n  };\n  var closeAbout = function closeAbout(type, e) {\n    var _menuBtnRef$current6;\n    setAboutVisible(false);\n    // 点击的元素为触发器的时候，那么只执行关闭动作\n    if (e && (_menuBtnRef$current6 = menuBtnRef.current) !== null && _menuBtnRef$current6 !== void 0 && _menuBtnRef$current6.contains(e.target)) {\n      isContainTriggerRef.current = true;\n    }\n  };\n  var style = loading ? {\n    cursor: 'wait'\n  } : {};\n  var menuList = generatorCustomMenuByItems(items, function (item, index) {\n    switch (item.type) {\n      case SESSION_WEBSOCKET_LINK_TYPE:\n        {\n          return /*#__PURE__*/_react[\"default\"].createElement(LinkRobert\n          // setNewMessages这里还是得有\n          , {\n            setNewMessages: setNewMessages,\n            rootPageId: rootPageId,\n            menuIndex: index + 1,\n            loadHelp: [loading, setLoading],\n            fetchHomeURL: item.fetchHomeURL,\n            socketId: item.socketId,\n            heartPeatTime: item.heartPeatTime,\n            retryTimes: item.retryTimes,\n            sleeping: item.sleeping,\n            refreshTime: item.refreshTime,\n            authorityErrMsg: item.authorityErrMsg,\n            id: \"custom_menu\",\n            header: item.header\n          });\n        }\n      case SESSION_LINK_TYPE:\n        {\n          return /*#__PURE__*/_react[\"default\"].createElement(FloatMenuItem, {\n            id: \"custom_menu\",\n            header: item.header,\n            href: commonUrls[index] || item.link,\n            handleClick: function handleClick(evt) {\n              handleCommonClick(evt, item, index);\n            }\n          });\n        }\n      case NORMAL_LINK_TYPE:\n        {\n          return /*#__PURE__*/_react[\"default\"].createElement(FloatMenuItem, {\n            id: \"custom_menu\",\n            header: item.header,\n            href: item.link\n          });\n        }\n      case WITHOUT_LINK_TYPE:\n      default:\n        {\n          return null;\n        }\n    }\n  });\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames4[\"default\"])(_RobertNumber[\"default\"].robot, itemClassName),\n    style: style,\n    \"data-page-id\": \"\",\n    ref: menuBtnRef\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n    className: showColorsIcon ? _RobertNumber[\"default\"].customMenuIcon : className,\n    ref: aboutRef,\n    title: \"\"\n  }, /*#__PURE__*/_react[\"default\"].createElement(About, {\n    show: aboutVisible,\n    items: menuList,\n    isOnlyOneItem: menuList.length === 1,\n    onClose: closeAbout,\n    menuBtnRef: menuBtnRef\n  })), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames4[\"default\"])(_RobertNumber[\"default\"].badge, _defineProperty({}, _RobertNumber[\"default\"].hidden, !newMessages.some(function (el) {\n      return el;\n    })))\n  }));\n}\nfunction getHrefQueryMap(hrefStr) {\n  var map = {};\n  if (hrefStr.length > 2) {\n    hrefStr.split('&').forEach(function (str) {\n      var _str$split = str.split('='),\n        _str$split2 = _slicedToArray(_str$split, 2),\n        key = _str$split2[0],\n        value = _str$split2[1];\n      map[key] = window.decodeURIComponent(value);\n    });\n  }\n  return map;\n}\nfunction getNewHrefAndConfig(href) {\n  var _href$indexOf, _hrefHelpElement$hash;\n  // 解析 // 由于hash不一定用于property=value的形式，去掉\n  var hrefHelpElement = document.createElement('a');\n  hrefHelpElement.href = href;\n  var queryMap = {};\n  var querySymbol = '?';\n  var queryIndex = (_href$indexOf = href === null || href === void 0 ? void 0 : href.indexOf(querySymbol)) !== null && _href$indexOf !== void 0 ? _href$indexOf : -1;\n  if (queryIndex !== -1) {\n    var _hrefHelpElement$sear, _hrefHelpElement$sear2;\n    var queryStr = (_hrefHelpElement$sear = (_hrefHelpElement$sear2 = hrefHelpElement.search) === null || _hrefHelpElement$sear2 === void 0 ? void 0 : _hrefHelpElement$sear2.slice(1)) !== null && _hrefHelpElement$sear !== void 0 ? _hrefHelpElement$sear : '';\n    queryMap = getHrefQueryMap(queryStr);\n  }\n  var hrefHash = (_hrefHelpElement$hash = hrefHelpElement.hash) !== null && _hrefHelpElement$hash !== void 0 ? _hrefHelpElement$hash : '';\n  var hrefOrigin = !_global[\"default\"][_global.IS_IE] ? hrefHelpElement.origin : \"\".concat(hrefHelpElement.protocol, \"//\").concat(hrefHelpElement.host);\n  // const hrefOriginPathName = hrefOrigin + (!global[IS_IE] ? '' : '/') + hrefHelpElement.pathname // 由于不同浏览器对Url如http://user:pass@bing.com的解析不同，不采用此方式拼接\n  var hrefOriginPathName = queryIndex === -1 ? href : href.slice(0, queryIndex);\n  var preffixKey = 'kd_';\n  // 配置的属性要加kd_前缀\n  var configKey = ['showType', 'height', 'width', 'title', 'closeMode', 'positionMode', 'bottom', 'right', 'top', 'left', 'button', 'clickOutside', 'outButton'].map(function (key) {\n    return preffixKey + key;\n  });\n  var positionMode = ['rightBottom', 'center'];\n  var closeMode = ['hide', 'destroy'];\n  function getConfigMapAndQueryMapByUseValue(queryMap) {\n    var newQueryMap = {};\n    var configMap = {};\n    // 不是浮窗模式就直接返回\n    if (queryMap[preffixKey + 'showType'] !== '1') {\n      return {\n        newQueryMap: queryMap,\n        configMap: configMap\n      };\n    }\n    Object.keys(queryMap).forEach(function (key) {\n      var originValue = queryMap[key];\n      var value = originValue;\n      if (configKey.includes(key)) {\n        var realKey = key.slice(preffixKey.length);\n        if (realKey === 'closeMode') {\n          value = closeMode.includes(value) ? value : closeMode[0];\n          configMap[realKey] = value;\n        } else if (realKey === 'positionMode') {\n          value = positionMode.includes(value) ? value : positionMode[0];\n          configMap[realKey] = value;\n        } else {\n          configMap[realKey] = originValue;\n        }\n        if (value !== originValue) {\n          newQueryMap[key] = originValue;\n        }\n      } else {\n        newQueryMap[key] = originValue;\n      }\n    });\n    return {\n      newQueryMap: newQueryMap,\n      configMap: configMap\n    };\n  }\n  var _getConfigMapAndQuery = getConfigMapAndQueryMapByUseValue(queryMap),\n    newQueryMap = _getConfigMapAndQuery.newQueryMap,\n    configMap = _getConfigMapAndQuery.configMap;\n  var newHref = hrefOriginPathName.concat([newQueryMap].map(function (map) {\n    var str = Object.keys(map).map(function (key) {\n      var value = map[key];\n      if (!value) return '';\n      return \"\".concat(key, \"=\").concat(window.encodeURIComponent(map[key]));\n    }).join('&');\n    return str ? querySymbol + str : str;\n  }).join('')).concat(hrefHash);\n  return {\n    newHref: newHref,\n    configMap: configMap,\n    hrefOrigin: hrefOrigin\n  };\n}\n\n/**\n * @param handleClick @description: click事件触发钩子\n * @param href @description: 一开始的href\n * @param target @description: 如果新页面跳转打开的\n * @param isLinkProxy @description: 是否不想要是a标签的DOM，如果不是浮窗模式的href将由这个传的方法openUrl打开新页面，因为底层不是a标签\n * @param openUrl @description: 配合isLinkProxy使用\n * @param children @description: 子元素\n * @param other @description: 其他要传给原生DOM的属性\n *\n */\n\nfunction FloatMenuItem(_ref10) {\n  var handleClick = _ref10.handleClick,\n    _ref10$href = _ref10.href,\n    href = _ref10$href === void 0 ? '' : _ref10$href,\n    id = _ref10.id,\n    header = _ref10.header,\n    target = _ref10.target,\n    isLinkProxy = _ref10.isLinkProxy,\n    openUrl = _ref10.openUrl,\n    children = _ref10.children,\n    other = _objectWithoutProperties(_ref10, _excluded);\n  // const { newHref, configMap, hrefOrigin } = getNewHrefAndConfig(href)\n  // TOTEST\n  var _useState29 = (0, _react.useState)(getNewHrefAndConfig(href)),\n    _useState30 = _slicedToArray(_useState29, 2),\n    config = _useState30[0],\n    setConfig = _useState30[1];\n  var _useState31 = (0, _react.useState)(false),\n    _useState32 = _slicedToArray(_useState31, 2),\n    hide = _useState32[0],\n    setHide = _useState32[1];\n  var _useState33 = (0, _react.useState)(false),\n    _useState34 = _slicedToArray(_useState33, 2),\n    show = _useState34[0],\n    setShow = _useState34[1];\n  (0, _react.useEffect)(function () {\n    setConfig(getNewHrefAndConfig(href));\n  }, [href]);\n  var onHandleClick = function onHandleClick(evt) {\n    if (id && header) {\n      (0, _GlobalDataCacher.setData)(_symbolConst2.KEY_UI_ACTION, {\n        tableName: 'tray_menu',\n        actionKey: id,\n        controlName: header\n      });\n    }\n    // if(handleClick(evt)) return\n    // 这里不能被阻止 TOCHECK ? by retureValue ? or openUrl?\n    handleClick && handleClick(evt);\n    // if above statement update href and open url ?\n    if (configMap.showType === '1') {\n      evt.preventDefault();\n      evt.stopPropagation();\n      !show && setShow(true);\n      // closeMode没有值则默认是hide\n      if (configMap.closeMode === 'hide' || !configMap.closeMode) {\n        hide && setHide(false);\n      }\n    } else {\n      openUrl && openUrl();\n    }\n  };\n  var configMap = config.configMap,\n    hrefOrigin = config.hrefOrigin,\n    newHref = config.newHref;\n  var props = _objectSpread(_objectSpread({}, configMap), {}, {\n    href: newHref,\n    setShow: setShow,\n    hide: hide,\n    setHide: setHide,\n    hrefOrigin: hrefOrigin\n  });\n  // React.memo ? but setState ?\n  var portalElement = show && /*#__PURE__*/_reactDom[\"default\"].createPortal( /*#__PURE__*/_react[\"default\"].createElement(FloatMenuWindow, props), document.body);\n  if (isLinkProxy) {\n    return /*#__PURE__*/_react[\"default\"].createElement(\"div\", _extends({}, other, {\n      onClick: onHandleClick,\n      \"data-origin-href\": href\n    }), children, portalElement);\n  }\n  return /*#__PURE__*/_react[\"default\"].createElement(\"a\", _extends({\n    target: target || '_blank',\n    rel: \"noopener noreferrer\",\n    href: newHref,\n    onClick: onHandleClick,\n    \"data-origin-href\": href\n  }, other), children, portalElement);\n}\n/**\n * 属性说明详见群内文档\n *\n */\nfunction FloatMenuWindow(_ref11) {\n  var href = _ref11.href,\n    _ref11$height = _ref11.height,\n    height = _ref11$height === void 0 ? 580 : _ref11$height,\n    _ref11$width = _ref11.width,\n    width = _ref11$width === void 0 ? 440 : _ref11$width,\n    title = _ref11.title,\n    _ref11$positionMode = _ref11.positionMode,\n    positionMode = _ref11$positionMode === void 0 ? 'rightBottom' : _ref11$positionMode,\n    bottom = _ref11.bottom,\n    right = _ref11.right,\n    top = _ref11.top,\n    left = _ref11.left,\n    hrefOrigin = _ref11.hrefOrigin,\n    setShow = _ref11.setShow,\n    hide = _ref11.hide,\n    setHide = _ref11.setHide,\n    clickOutside = _ref11.clickOutside,\n    _ref11$closeMode = _ref11.closeMode,\n    closeMode = _ref11$closeMode === void 0 ? 'hide' : _ref11$closeMode,\n    button = _ref11.button,\n    outButton = _ref11.outButton;\n  var floatRef = (0, _react.useRef)(null);\n  var timer = (0, _react.useRef)(null);\n  var iframeDom = (0, _react.useRef)(null);\n  var isClickOutside = clickOutside === '1';\n  var isShowButton = button === '1';\n  var isShowOutButtom = outButton === '1';\n  function getIframeDom(dom) {\n    iframeDom.current = dom;\n  }\n  function onDragStart() {\n    document.body.style.userSelect = 'none';\n  }\n  function onDrop() {\n    document.body.style.userSelect = '';\n  }\n  var _useDialogDrag = (0, _useDialogDrag3[\"default\"])({\n      dialogWidth: width,\n      onDragStart: onDragStart,\n      onDrop: onDrop\n    }),\n    _useDialogDrag2 = _slicedToArray(_useDialogDrag, 1),\n    setDragRef = _useDialogDrag2[0];\n  var closeFloatMenuWin = function closeFloatMenuWin(evt) {\n    evt && evt.stopPropagation && evt.stopPropagation();\n    if (closeMode !== 'hide') {\n      setShow(false);\n    } else {\n      setHide(true);\n    }\n  };\n  var messageEventHandle = function messageEventHandle(_ref12) {\n    var _ref12$data = _ref12.data,\n      data = _ref12$data === void 0 ? {} : _ref12$data,\n      origin = _ref12.origin,\n      originalEvent = _ref12.originalEvent,\n      source = _ref12.source;\n    // for safe\n    origin = origin || originalEvent && originalEvent.origin;\n    if (origin !== hrefOrigin) return;\n    try {\n      if (iframeDom.current && iframeDom.current.contentWindow !== source.window) return;\n    } catch (error) {\n      _console[\"default\"].error('customMenu postMessage error:', error);\n    }\n    var type = data.type,\n      receiveData = data.data;\n    if (type === 'close') {\n      setTimeout(function () {\n        return closeFloatMenuWin();\n      }, 0);\n    }\n  };\n  (0, _react.useEffect)(function () {\n    window.addEventListener('message', messageEventHandle, false);\n    return function () {\n      window.removeEventListener('message', messageEventHandle, false);\n    };\n  }, []);\n  (0, _react.useEffect)(function () {\n    if (isClickOutside) {\n      window.addEventListener('click', blurHandler, false);\n      return function () {\n        window.removeEventListener('click', blurHandler, false);\n      };\n    }\n  }, []);\n  var eventHandle = {};\n  var blurHandler = function blurHandler() {\n    timer.current = setTimeout(function () {\n      if (floatRef.current && !floatRef.current.contains(document.activeElement)) {\n        closeFloatMenuWin();\n      }\n    }, 0);\n  };\n  var focusHandler = function focusHandler() {\n    if (timer.current) {\n      clearTimeout(timer.current);\n    }\n  };\n  if (isClickOutside) {\n    eventHandle.onBlur = blurHandler;\n    eventHandle.onFocus = focusHandler;\n  }\n  (0, _react.useEffect)(function () {\n    if (floatRef.current && !floatRef.current.contains(document.activeElement)) {\n      floatRef.current.focus();\n    }\n  }, []);\n  var clickHandler = function clickHandler(evt) {\n    evt.stopPropagation();\n  };\n  var dialogContainerClass = (0, _classnames4[\"default\"])(_RobertNumber[\"default\"].customMenuDialogContainer);\n  var floatMenuStyle = {};\n  // top left bottom || right只取对位之一，优先右下\n  var isValidBottom = !isNaN(+bottom);\n  var isValidRight = !isNaN(+right);\n  var isValidTop = !isNaN(+top);\n  var isValidLeft = !isNaN(+left);\n  if (isValidBottom || isValidRight || isValidTop || isValidLeft) {\n    isValidBottom && (floatMenuStyle.bottom = +bottom);\n    isValidRight && (floatMenuStyle.right = +right);\n    // 可以不用undefined这里是因为传参的是字符串,不用担心出现0的情况\n    !isValidBottom && isValidTop && (floatMenuStyle.top = +top);\n    !isValidRight && isValidLeft && (floatMenuStyle.left = +left);\n  } else if (positionMode === 'rightBottom') {\n    dialogContainerClass = (0, _classnames4[\"default\"])(dialogContainerClass, _RobertNumber[\"default\"].customMenuDialogRightBottom);\n  } else if (positionMode === 'center') {\n    dialogContainerClass = (0, _classnames4[\"default\"])(dialogContainerClass, _RobertNumber[\"default\"].customMenuDialogCenter);\n  }\n  var maskOffset = 24;\n  var containerSize = {\n    height: +height,\n    width: +width\n  };\n  var innerWindowOnDragRegionHeight = 20;\n  var dialogDragMaskSize = {\n    height: innerWindowOnDragRegionHeight + maskOffset,\n    width: +width // + maskOffset // 不采用偏移\n  };\n  var isWithoutClose = /** !isClickOutside && */!isShowButton;\n  var Componet = /*#__PURE__*/_react[\"default\"].createElement(\"div\", _extends({\n    className: dialogContainerClass,\n    style: _objectSpread(_objectSpread(_objectSpread({}, containerSize), floatMenuStyle), {}, {\n      display: !hide ? 'flex' : 'none'\n    }),\n    ref: floatRef\n  }, eventHandle, {\n    onClick: clickHandler,\n    tabIndex: \"-1\"\n  }), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames4[\"default\"])(_RobertNumber[\"default\"].dialogDragBlock),\n    ref: function ref(el) {\n      setDragRef(el);\n    },\n    style: _objectSpread({}, dialogDragMaskSize)\n  }), isWithoutClose && isShowOutButtom ? /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n    className: (0, _classnames4[\"default\"])('kdfont kdfont-qingkong hover-theme-fc', _RobertNumber[\"default\"].closeFloatBtn),\n    onClick: closeFloatMenuWin\n  }) : null, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames4[\"default\"])(_RobertNumber[\"default\"].dialogHead),\n    style: {\n      justifyContent: title ? 'space-between' : 'flex-end',\n      display: title || isShowButton ? 'flex' : 'none'\n    }\n  }, title ? /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: (0, _classnames4[\"default\"])('kdfont common-font-color', _RobertNumber[\"default\"].dialogTitle),\n    title: title\n  }, title) : null, isShowButton ? /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n    className: (0, _classnames4[\"default\"])('kdfont kdfont-guanbiyulan hover-theme-fc', _RobertNumber[\"default\"].closebtn),\n    onClick: closeFloatMenuWin\n  }) : null), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames4[\"default\"])(_RobertNumber[\"default\"].dialogBody)\n  }, /*#__PURE__*/_react[\"default\"].createElement(_IFrame[\"default\"], {\n    src: href,\n    frameBorder: \"0\",\n    getIframeDom: getIframeDom\n  })));\n  return Componet;\n}\nfunction AboutItem(_ref13) {\n  var icon = _ref13.icon,\n    header = _ref13.header,\n    content = _ref13.content,\n    link = _ref13.link,\n    contentStyle = _ref13.contentStyle,\n    show = _ref13.show;\n  if (!show) {\n    return null;\n  }\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames4[\"default\"])('kd-cq-robertnumber-item', _RobertNumber[\"default\"]['about-item']),\n    title: \"\"\n  }, link, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _RobertNumber[\"default\"].header\n  }, icon, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _RobertNumber[\"default\"]['header-text']\n  }, header, \" \")), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _RobertNumber[\"default\"].content\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: _RobertNumber[\"default\"]['span-content'],\n    style: contentStyle\n  }, content)));\n}\nvar getPanelComputePosition = function getPanelComputePosition(trigger) {\n  if (!trigger) return {};\n  var REF_AFTER_BOTTOM = 40; // 30是指的RobertNumber.less里的.about:after\n  var MAGGIN_RIGHT = 14; // 15指的是弹窗距离触发点的距离\n  var _trigger$getBoundingC = trigger.getBoundingClientRect(),\n    bottom = _trigger$getBoundingC.bottom,\n    height = _trigger$getBoundingC.height,\n    width = _trigger$getBoundingC.width;\n  // 菜单按钮中心到底部的距离\n  var bottomPosition = document.body.clientHeight - (bottom + height / 2);\n  return {\n    // 菜单按钮中心到底部的距离 - about固定高度的一半\n    bottom: \"\".concat(bottomPosition - REF_AFTER_BOTTOM / 2, \"px\"),\n    right: \"\".concat(width + MAGGIN_RIGHT, \"px\")\n  };\n};\nvar About = function About(_ref14) {\n  var show = _ref14.show,\n    isOnlyOneItem = _ref14.isOnlyOneItem,\n    items = _ref14.items,\n    menuBtnRef = _ref14.menuBtnRef,\n    onClose = _ref14.onClose;\n  var forwardRef = (0, _react.useRef)(null);\n  var panelStyle = _objectSpread({}, getPanelComputePosition(menuBtnRef.current));\n  if (show) {\n    forwardRef.current.focus();\n  }\n  (0, _react.useEffect)(function () {\n    if (!show) return;\n\n    // 改变窗口大小的时候，气泡的位置也需要跟着触发元素的位置变化\n    var resizeObserver = new _resizeObserverPolyfill[\"default\"](function (entries) {\n      var _getPanelComputePosit = getPanelComputePosition(menuBtnRef.current),\n        bottom = _getPanelComputePosit.bottom,\n        right = _getPanelComputePosit.right;\n      forwardRef.current.style.bottom = bottom;\n      forwardRef.current.style.right = right;\n    });\n    resizeObserver.observe(document.body);\n    return function () {\n      resizeObserver && resizeObserver.disconnect();\n    };\n  }, [show]);\n  return /*#__PURE__*/_reactDom[\"default\"].createPortal( /*#__PURE__*/_react[\"default\"].createElement(_PanelWithOutside[\"default\"], {\n    onCLickOutside: onClose,\n    className: _RobertNumber[\"default\"].aboutPanel,\n    style: panelStyle,\n    autoFocus: false,\n    forwardRef: forwardRef\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames4[\"default\"])('kd-cq-robertnumber-container', _RobertNumber[\"default\"].about, _defineProperty({}, _RobertNumber[\"default\"]['only-one-item'], isOnlyOneItem)),\n    style: {\n      display: show ? 'flex' : 'none'\n    },\n    tabIndex: \"-1\"\n  }, items.map(function (item, index) {\n    return /*#__PURE__*/_react[\"default\"].createElement(AboutItem, {\n      key: item.id || index,\n      icon: item.icon,\n      header: item.header || 'default',\n      content: item.content || 'default',\n      contentStyle: item.contentStyle,\n      link: item.link,\n      show: show && item.show\n    });\n  }))), document.body);\n};\nfunction LinkRobert(_ref15) {\n  var rootPageId = _ref15.rootPageId,\n    setNewMessages = _ref15.setNewMessages,\n    loadHelp = _ref15.loadHelp,\n    _ref15$heartPeatTime = _ref15.heartPeatTime,\n    heartPeatTime = _ref15$heartPeatTime === void 0 ? 15 * 1000 : _ref15$heartPeatTime,\n    _ref15$retryTimes = _ref15.retryTimes,\n    retryTimes = _ref15$retryTimes === void 0 ? 3 : _ref15$retryTimes,\n    _ref15$sleeping = _ref15.sleeping,\n    sleepTime = _ref15$sleeping === void 0 ? SLEEP_TIME * 1000 : _ref15$sleeping,\n    _ref15$refreshTime = _ref15.refreshTime,\n    refreshTime = _ref15$refreshTime === void 0 ? 4 * 60 * 1000 : _ref15$refreshTime,\n    _ref15$isNeedIncludeI = _ref15.isNeedIncludeIndex,\n    isNeedIncludeIndex = _ref15$isNeedIncludeI === void 0 ? false : _ref15$isNeedIncludeI,\n    _ref15$isUseNotifyStr = _ref15.isUseNotifyString,\n    isUseNotifyString = _ref15$isUseNotifyStr === void 0 ? false : _ref15$isUseNotifyStr,\n    socketId = _ref15.socketId,\n    authorityErrMsg = _ref15.authorityErrMsg,\n    menuIndex = _ref15.menuIndex,\n    fetchHomeURL = _ref15.fetchHomeURL,\n    id = _ref15.id,\n    header = _ref15.header,\n    setAccountDialog = _ref15.setAccountDialog;\n  var _useState35 = (0, _react.useState)(''),\n    _useState36 = _slicedToArray(_useState35, 2),\n    homeUrl = _useState36[0],\n    setHomeUrl = _useState36[1];\n  var _loadHelp = _slicedToArray(loadHelp, 2),\n    loading = _loadHelp[0],\n    setLoading = _loadHelp[1];\n  var _useState37 = (0, _react.useState)(false),\n    _useState38 = _slicedToArray(_useState37, 2),\n    uidEmpty = _useState38[0],\n    setUidEmpty = _useState38[1];\n  var _useState39 = (0, _react.useState)(sleepTime),\n    _useState40 = _slicedToArray(_useState39, 2),\n    sleeping = _useState40[0],\n    setSleeping = _useState40[1];\n  var _useState41 = (0, _react.useState)(''),\n    _useState42 = _slicedToArray(_useState41, 2),\n    socketUrl = _useState42[0],\n    setSocketUrl = _useState42[1];\n  var _useState43 = (0, _react.useState)(retryTimes),\n    _useState44 = _slicedToArray(_useState43, 2),\n    retryNum = _useState44[0],\n    setRetryNum = _useState44[1];\n  var _useState45 = (0, _react.useState)(false),\n    _useState46 = _slicedToArray(_useState45, 2),\n    myNewMsg = _useState46[0],\n    setMyNewMsg = _useState46[1];\n  var delayTime = (0, _react.useRef)(null);\n  var _useState47 = (0, _react.useState)(false),\n    _useState48 = _slicedToArray(_useState47, 2),\n    tokenInvalid = _useState48[0],\n    setTokenInvalid = _useState48[1]; // token失效\n  // const onMessage = event => {\n  //   // 补下这里的文档\n  //   const dataObject = JSON.parse(event.data)\n  //   const { mark, data } = dataObject\n  //   // mark:0 心跳 1:通知 2:拉取消息\n  //   if (mark !== 0) {\n  //     window.console.log('onMessage', event.data)\n  //   }\n  //   if (mark === 1) {\n  //     if (data.totals > 0) { // 有新消息到来\n  //       setNewMessages && setNewMessages(state => {\n  //         const newState = state.slice()\n  //         newState[menuIndex - 1] = true\n  //         return newState\n  //       })\n  //       setMyNewMsg(true)\n  //     } else {\n  //       setNewMessages && setNewMessages(state => {\n  //         const newState = state.slice()\n  //         newState[menuIndex - 1] = false\n  //         return newState\n  //       })\n  //       setMyNewMsg(false)\n  //     }\n  //   }\n  //   if (mark === 2 && data.errcode === 408) {\n  //     setTokenInvalid(true)\n  //   } else {\n  //     setTokenInvalid(false)\n  //   }\n  // }\n\n  // const onClose = event => {\n  //   console.warn('useWebSocket  关闭', ready)\n  //   if (!event.wasClean) {\n  //     if (retryNum > 0) {\n  //       console.log('重新连接useWebSocket', retryNum)\n  //       setRetryNum(num => num - 1)\n  //       setTimeout(() => {\n  //         connectSocket({ forceConnect: true })\n  //       }, sleeping)\n  //     }\n  //   } else {\n  //     setRetryNum(retryTimes)\n  //   }\n  // }\n  // const [ready, sendData] = useWebSocket({ url: socketUrl, onMessage: event => onMessage(event), onClose: event => onClose(event) })\n\n  // useEffect(() => {\n  //   const refresh = () => {\n  //     const isUserIdle = getData(KEY_IDLE_USER_INTERACTION)\n  //     !isUserIdle && refreshUrl() // 用户空闲时，不发，否则永远不会超时退出\n  //     setTimeout(() => refresh(), refreshTime)// <5min\n  //   }\n  //   refresh()\n  // }, [])\n\n  (0, _react.useEffect)(function () {\n    refreshUrl();\n  }, []);\n  (0, _react.useEffect)(function () {\n    if (tokenInvalid) {\n      _console[\"default\"].log('token失效，刷新url');\n      refreshUrl();\n    }\n  }, [tokenInvalid]);\n\n  // const openSocket = () => {\n  //   if (!ready) {\n  //     setRetryNum(retryTimes)\n  //     clearTimeout(delayTime.current)\n  //     delayTime.current = setTimeout(() => {\n  //       connectSocket({ forceConnect: true })\n  //     }, 1000)\n  //   }\n  // }\n\n  // useEffect(() => {\n  //   connectSocket()\n  // }, [])\n  (0, _react.useEffect)(function () {\n    if (menuIndex === 0) {\n      var removeListener = (0, _GlobalDataCacher.addDataChangeListener)(_symbolConst.KEY_CALL_ROBERT, function (value) {\n        onClick();\n      });\n      return function () {\n        return removeListener();\n      };\n    }\n  }, []);\n\n  // const connectSocket = ({ forceConnect } = {}) => {\n  //   fetchRobertHome(fetchHomeURL).then(data => {\n  //     if (data) {\n  //       setSleeping(parseInt(data.sleeping) || sleepTime)\n  //       if (forceConnect || data.notifyStatus === AUTO_CONNECT) {\n  //         setSocketUrl(createSocketUrl({ data, isUseNotifyString }))\n  //       }\n  //     }\n  //   })\n  // }\n\n  // useEffect(() => {\n  //   let time\n  //   if (ready) {\n  //     time = setInterval(() => {\n  //       sendData(JSON.stringify({ socketId: socketId }))\n  //       // console.log('发送心跳信号')\n  //     }, heartPeatTime)\n  //   }\n  //   return () => {\n  //     clearInterval(time)\n  //   }\n  // }, [ready])\n\n  var showMessageWhenCannotOpenWindow = function showMessageWhenCannotOpenWindow(data, rootPageId) {\n    _console[\"default\"].warn('getRobertHome 服务器返回数据不正确', data);\n    showMessage(rootPageId, (0, _intlApi.getLangMsg)('trayMenu.key0015'), 2);\n  };\n  var onClick = function onClick(event) {\n    if (loading) {\n      return;\n    }\n    event && event.stopPropagation();\n    fetchRobertHome(fetchHomeURL).then(function (data) {\n      if (data) {\n        if (data.accessToken) {\n          var _homeUrl = getHomeUrl(data, isNeedIncludeIndex);\n          var newWnd = window.open(_homeUrl, 'robert');\n          if (newWnd == null || typeof newWnd === 'undefined') {\n            // window.alert('链接打开失败,可能已被浏览器拦截!')\n            // 苍穹页面不是内嵌在electrom时候\n            if (!_global[\"default\"][_global.IS_ELECTRON]) {\n              var confirmData = {\n                msg: (0, _intlApi.getLangMsg)({\n                  key: 'attachmentpanel.key0022'\n                })\n              };\n              (0, _GlobalDataCacher.setData)(_symbolConst.KEY_SHOW_CONFIRM_EVENT, confirmData);\n            }\n          }\n        } else {\n          showMessageWhenCannotOpenWindow(data, rootPageId);\n        }\n      }\n    });\n    // openSocket()\n  };\n  var fetchRobertHome = function fetchRobertHome() {\n    var fetchURL = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'kapi/app/base/getRobertHome';\n    var url = fetchURL.indexOf('?') === -1 ? fetchURL + \"?i=\".concat(Math.random()) : fetchURL + \"&i=\".concat(Math.random());\n    setLoading(true);\n    // postJsonApi支持跨域\n    return _formservice[\"default\"].postJsonApi(url, {\n      isRequireNew: tokenInvalid,\n      r: Math.random()\n    }).then(function (result) {\n      setLoading(false);\n      if (result.success === true || result.success === 'true') {\n        var data = result.data;\n        return data;\n      } else {\n        window.console.log('getRobertHome fail:', result);\n        return false;\n      }\n    })[\"catch\"](function (error) {\n      _console[\"default\"].error(error);\n      setLoading(false);\n    });\n  };\n  var handleClick = function handleClick(event) {\n    (0, _GlobalDataCacher.setData)(_symbolConst2.KEY_UI_ACTION, {\n      tableName: 'tray_menu',\n      actionKey: 'robert_number',\n      controlName: '徐少春个人号'\n    });\n    if (uidEmpty) {\n      event.preventDefault();\n      // 这里得适配\n      setAccountDialog(true);\n      // showMessage(rootPageId, authorityErrMsg || getLangMsg('trayMenu.key0010'))\n    } else {\n      // 空串\n      !homeUrl && event.preventDefault();\n      // openSocket()// 如果socket没有打开，打开socket\n      refreshUrl(true);\n    }\n  };\n  var refreshUrl = function refreshUrl() {\n    var isClickAction = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    fetchRobertHome(fetchHomeURL).then(function (data) {\n      if (data && data.accessToken) {\n        var newHomeUrl = getHomeUrl(data, isNeedIncludeIndex);\n        if (data.uid === '0' || data.uid === '') {\n          // uid为0有什么作用\n          // 不会打开ws\n          setUidEmpty(true);\n          setHomeUrl(newHomeUrl);\n        } else {\n          setUidEmpty(false);\n          _console[\"default\"].log('refresh token success');\n          setHomeUrl(newHomeUrl);\n        }\n        // newHomeUrl 应该得有效 后端保证\n        if (isClickAction && !homeUrl) {\n          var newWnd = window.open(newHomeUrl, 'robert');\n          if (newWnd == null || typeof newWnd === 'undefined') {\n            // window.alert('链接打开失败,可能已被浏览器拦截!')\n            var confirmData = {\n              msg: (0, _intlApi.getLangMsg)({\n                key: 'attachmentpanel.key0022'\n              })\n            };\n            (0, _GlobalDataCacher.setData)(_symbolConst.KEY_SHOW_CONFIRM_EVENT, confirmData);\n          }\n        }\n      } else {\n        if (isClickAction && !homeUrl) {\n          showMessageWhenCannotOpenWindow(data, rootPageId);\n        }\n      }\n    })[\"catch\"](function (res) {\n      if (isClickAction && !homeUrl) {\n        showMessageWhenCannotOpenWindow(res, rootPageId);\n      }\n    });\n  };\n  return (\n    /*#__PURE__*/\n    // <a href={homeUrl} target='robert' onClick={handleClick} style={{ position: 'relative' }}>\n    //   <div className={classnames(styles.badge, { [styles.hidden]: !myNewMsg })} />\n    // </a>\n    // <a href={homeUrl} target='robert' onClick={handleClick} />\n    // 这里如果要改用浮窗模式，还需要一些取消与否的逻辑考量\n    _react[\"default\"].createElement(FloatMenuItem, {\n      href: homeUrl,\n      id: id,\n      target: \"robert\",\n      header: header,\n      handleClick: handleClick\n    })\n  );\n}\n/*\nhomeUrl\":\"https://robertdev.kingdee.com/linkceo/home\"\n\"uid\":\"40739420\nrobertUrl\":\"https://robertdev.kingdee.com/linkceo\"\nerpId\":\"1215\"\nprodSN\":\"8060013960\"\naccessToken\":null\ntimestamp\":\"1557472030\"\n*/\nfunction getHomeUrl(data, isNeedIncludeIndex) {\n  var queryKeyMapList = data.queryKeyMap || ['uid', 'erpId', 'prodSN', 'timestamp', 'accessToken'];\n  var params = queryKeyMapList.map(function (name) {\n    return \"\".concat(name, \"=\").concat(window.encodeURIComponent(data[name]));\n  });\n  var url = params.join('&');\n  var homeUrl = data.homeUrl;\n  if (isNeedIncludeIndex && !homeUrl.includes('/index')) {\n    homeUrl = homeUrl + '/index'; // 个人号api改版，前端兼容处理\n  }\n  if (!queryKeyMapList || !queryKeyMapList.length) {\n    return homeUrl;\n  } else {\n    return \"\".concat(homeUrl, \"?\").concat(url);\n  }\n}\nfunction createSocketUrl(_ref16) {\n  var data = _ref16.data,\n    _ref16$reconnection = _ref16.reconnection,\n    reconnection = _ref16$reconnection === void 0 ? 0 : _ref16$reconnection,\n    isUseNotifyString = _ref16.isUseNotifyString;\n  var url = '';\n  var _ref17 = data || {},\n    robertUrl = _ref17.robertUrl,\n    accessToken = _ref17.accessToken;\n  if (accessToken) {\n    var queryKeyMapList = data.queryKeyMap || ['uid', 'erpId', 'prodSN', 'timestamp', 'accessToken'];\n    var params = queryKeyMapList.map(function (name) {\n      return \"\".concat(name, \"=\").concat(window.encodeURIComponent(data[name]));\n    });\n    var queryUrl = params.join('&');\n    url = isUseNotifyString ? \"\".concat(robertUrl, \"/notify/product?\").concat(queryUrl, \"&reconnection=\").concat(reconnection) : \"\".concat(robertUrl, \"?\").concat(queryUrl);\n    if (!queryKeyMapList || !queryKeyMapList.length) {\n      url = robertUrl;\n    }\n    // 这里后端直接返回带ws不就行了?还要我们拼接?\n    url = url.replace(/^https/, 'wss').replace(/http/, 'ws');\n  }\n  return url;\n}\n// 指令打开个人号页面\nfunction openRobertNumber() {\n  (0, _GlobalDataCacher.setData)(_symbolConst.KEY_CALL_ROBERT, true);\n}\n\n//# sourceURL=webpack://bos-platform/./src/page/RobertNumber.js?");

/***/ }),

/***/ "./src/page/Sideslipping.js":
/*!**********************************!*\
  !*** ./src/page/Sideslipping.js ***!
  \**********************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.object.values.js */ \"../../node_modules/core-js/modules/es.object.values.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _classnames2 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _global = __webpack_require__(/*! @/global */ \"./src/global/index.js\");\nvar _appModelFunction = __webpack_require__(/*! ../model/appModelFunction */ \"./src/model/appModelFunction.js\");\nvar _SideslippingFlex = _interopRequireDefault(__webpack_require__(/*! ./SideslippingFlex */ \"./src/page/SideslippingFlex.js\"));\nvar _GlobalDataCacher = __webpack_require__(/*! ../model/GlobalDataCacher */ \"./src/model/GlobalDataCacher.js\");\nvar _symbolConst = __webpack_require__(/*! ../constant/symbolConst */ \"./src/constant/symbolConst.js\");\nvar _Sideslipping2 = _interopRequireDefault(__webpack_require__(/*! ./Sideslipping.less */ \"./src/page/Sideslipping.less\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar Sideslipping = /*#__PURE__*/function (_React$Component) {\n  _inherits(Sideslipping, _React$Component);\n  function Sideslipping(props) {\n    var _this;\n    _classCallCheck(this, Sideslipping);\n    _this = _callSuper(this, Sideslipping, [props]);\n    _this.setflexList = function (datas) {\n      var flexList = Object.assign({}, _this.state.flexList);\n      datas.forEach(function (data) {\n        var _data$closeMode;\n        data.dc = data.direction || 'right';\n        data.offset = data.offset || 0;\n        data.closeMode = (_data$closeMode = data.closeMode) !== null && _data$closeMode !== void 0 ? _data$closeMode : 'default'; // 关闭模式, default 失焦则关闭，custom 为后端自定义不添加加蒙版\n        var key = data.formId;\n        _this.state.showList[key] = false;\n        flexList[key] = data;\n      });\n      _this.setState({\n        flexList: flexList\n      });\n    };\n    _this.setShowList = function (data) {\n      var key = data.formId;\n      var show = data.show;\n      if (!key) {\n        var _showList = {};\n        var keys = Object.keys(_this.state.flexList);\n        _showList[_this.state.flexList[keys[0]].formId] = show;\n        _this.setState({\n          showList: Object.assign({}, _this.state.showList, _showList)\n        });\n        return;\n      }\n      var obj = {\n        sourcePageId: data.pageId,\n        params: data.params\n      };\n      var showValue = show !== undefined ? show : true;\n      var existVisibleFlex = Object.values(_this.state.showList || {}).includes(true);\n      // 如果已存在展示的侧滑面板，就不应该展示 - 解决快速点击两个按钮同时弹出侧滑面板的场景\n      if (showValue && existVisibleFlex) {\n        showValue = false;\n      }\n      obj[key] = showValue;\n      var showList = Object.assign({}, _this.state.showList, obj);\n      var params = _defineProperty({}, key, {\n        sourcePageId: data.pageId,\n        params: data.params\n      });\n      var echoServerParams = Object.assign({}, _this.state.echoServerParams, params);\n      _this.setState({\n        showList: showList,\n        echoServerParams: echoServerParams\n      });\n    };\n    _this.state = {\n      // 默认样式\n      flexList: {},\n      showList: {},\n      echoServerParams: {} // 回传服务器参数\n    };\n    _this.index = 0;\n    _this.modifyShowStatus = _this.modifyShowStatus.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  _createClass(Sideslipping, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      this.rootPageId = (0, _appModelFunction.getRootPageId)()((0, _global.getGlobalState)());\n      if (nextState !== this.state) {\n        return true;\n      }\n      if (nextState.flexList !== this.state.flexList) {\n        return true;\n      }\n      if (nextState.showList !== this.state.showList) {\n        return true;\n      }\n      return false;\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.showSlideBillRemoveDataChengeListener = (0, _GlobalDataCacher.addDataChangeListener)(_symbolConst.KEY_SHOW_SLIDEBILL, this.setShowList);\n      var flexList = (0, _GlobalDataCacher.getData)(_symbolConst.KEY_SET_SLIDEBILL_FORMID);\n      if (flexList) {\n        this.setflexList(flexList);\n      }\n      this.setSlideBillFormIdRemoveDataChengeListener = (0, _GlobalDataCacher.addDataChangeListener)(_symbolConst.KEY_SET_SLIDEBILL_FORMID, this.setflexList);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.showSlideBillRemoveDataChengeListener && this.showSlideBillRemoveDataChengeListener();\n      this.setSlideBillFormIdRemoveDataChengeListener && this.setSlideBillFormIdRemoveDataChengeListener();\n    }\n  }, {\n    key: \"annimationEnd\",\n    value: function annimationEnd() {\n      if (!this.show && !['right', 'left'].includes(this.state.dc)) {\n        this.sideslippingFlex.className += ' ' + (0, _classnames2[\"default\"])(_defineProperty({}, _Sideslipping2[\"default\"].sideDisplayNone, true));\n      }\n    }\n  }, {\n    key: \"modifyShowStatus\",\n    value: function modifyShowStatus(formId, show) {\n      var showList = this.state.showList;\n      showList[formId] = show;\n      this.setState({\n        showList: showList\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      var keys = Object.keys(this.state.flexList);\n      var showList = this.state.showList;\n      return keys && keys.length ? /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, null, keys.map(function (key, index) {\n        var data = _this2.state.flexList[key];\n        return /*#__PURE__*/_react[\"default\"].createElement(_SideslippingFlex[\"default\"], {\n          dc: data.dc,\n          showSlidBillData: _this2.state.echoServerParams[key],\n          key: data.formId,\n          offset: data.offset,\n          formId: data.formId,\n          rootPageId: _this2.rootPageId,\n          show: showList[data.formId],\n          modifyShowStatus: _this2.modifyShowStatus,\n          offsetInAllDC: data === null || data === void 0 ? void 0 : data.offsetInAllDC // offsetInAllDC {top:10,left:10,right:10,bottom:10}\n          ,\n          newDesign: (data === null || data === void 0 ? void 0 : data.visualStyle) === 'newDesign',\n          style: data === null || data === void 0 ? void 0 : data.style,\n          closeMode: data.closeMode,\n          maskInfo: data.maskInfo,\n          noReRequest: data.noReRequest,\n          clickDelay: data.clickDelay\n        });\n      })) : null;\n    }\n  }]);\n  return Sideslipping;\n}(_react[\"default\"].Component);\nvar _default = exports[\"default\"] = Sideslipping;\n\n//# sourceURL=webpack://bos-platform/./src/page/Sideslipping.js?");

/***/ }),

/***/ "./src/page/SideslippingFlex.js":
/*!**************************************!*\
  !*** ./src/page/SideslippingFlex.js ***!
  \**************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/web.timers.js */ \"../../node_modules/core-js/modules/web.timers.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _reactDom = _interopRequireDefault(__webpack_require__(/*! react-dom */ \"webpack/sharing/consume/default/react-dom/react-dom?418d\"));\nvar _classnames6 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _global = _interopRequireWildcard(__webpack_require__(/*! @/global */ \"./src/global/index.js\"));\nvar _Bill = _interopRequireDefault(__webpack_require__(/*! ../component/web/Bill */ \"./src/component/web/Bill.js\"));\nvar _resizeObserve = _interopRequireDefault(__webpack_require__(/*! ../util/resizeObserve */ \"./src/util/resizeObserve.js\"));\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _symbolConst = __webpack_require__(/*! ../constant/symbolConst */ \"./src/constant/symbolConst.js\");\nvar _symbolConst2 = __webpack_require__(/*! @/constant/symbolConst */ \"./src/constant/symbolConst.js\");\nvar _GlobalDataCacher = __webpack_require__(/*! @/model/GlobalDataCacher.js */ \"./src/model/GlobalDataCacher.js\");\nvar _const = __webpack_require__(/*! @/constant/const.js */ \"./src/constant/const.js\");\nvar _client = __webpack_require__(/*! @/action/actionname/global/custom/client */ \"./src/action/actionname/global/custom/client/index.js\");\nvar _Sideslipping = _interopRequireDefault(__webpack_require__(/*! ./Sideslipping.less */ \"./src/page/Sideslipping.less\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar SideslippingFlex = /*#__PURE__*/function (_React$Component) {\n  _inherits(SideslippingFlex, _React$Component);\n  function SideslippingFlex(props) {\n    var _this;\n    _classCallCheck(this, SideslippingFlex);\n    _this = _callSuper(this, SideslippingFlex, [props]);\n    // hideSide (event) {\n    //   if (!this.show) return\n    //   let clickInSideslippingFlex = false // 点击区域是否在抽屉组件内(内容选择弹出层也算)\n    //   const dialogDom = document.querySelector('#dialogShow') // 判断内容选择弹出层是否存在\n    //   const targetDom = event.target\n    //   const isNotificationDom = document.getElementById('kd-notification')?.contains(targetDom)\n    //   const isSysNotificationDom = document.getElementById('system-notification')?.contains(targetDom)\n    //   const isDropDown = document.getElementById('kd-custom-dropdown')?.contains(targetDom) ||\n    //     document.getElementById('kd-custom-lang-dropdown')?.contains(targetDom) || // 新交互自定义控件用到的主题下拉和语言下拉列表\n    //     document.getElementById('appNavigation_content_menu')?.contains(targetDom) // 新交互功能右键菜单\n    //   if (dialogDom || isNotificationDom || isSysNotificationDom || isDropDown || this.sideslippingFlexRef.current.contains(targetDom)) {\n    //     clickInSideslippingFlex = true\n    //   }\n    //   if (clickInSideslippingFlex) return\n    //   event.stopImmediatePropagation() // 阻止事件捕获\n    //   this.toggleDisplayState()\n    // }\n    _this.handleHidePanel = function () {\n      if (!_this.show || !_this.state.isClickable) return;\n      _this.toggleDisplayState();\n    };\n    _this.getEchoServerParams = function (showSlidBillData) {\n      return showSlidBillData ? JSON.stringify({\n        pageId: showSlidBillData.sourcePageId,\n        params: showSlidBillData.params\n      }) : '';\n    };\n    _this.show = false;\n    _this.noAnimation = _global[\"default\"][_global.IS_IE];\n    ['getSize', 'handleAfterBillReady', 'toggleDisplayState', 'handleRemoveTranfrom'].forEach(function (item) {\n      _this[item] = _this[item].bind(_assertThisInitialized(_this));\n    });\n    _this.billRef = /*#__PURE__*/_react[\"default\"].createRef(null);\n    _this.maskRef = /*#__PURE__*/_react[\"default\"].createRef(null);\n    _this.sideslippingFlexRef = /*#__PURE__*/_react[\"default\"].createRef(null);\n    _this.sideslippingContainerRef = /*#__PURE__*/_react[\"default\"].createRef(null);\n    _this.isTopRightDR = _this.props.dc === 'topRight';\n    _this.timeoutId = null;\n    _this.state = {\n      isClickable: false\n    };\n    return _this;\n  }\n  _createClass(SideslippingFlex, [{\n    key: \"handleRemoveTranfrom\",\n    value: function handleRemoveTranfrom() {\n      var isHorizontalDirection = ['right', 'left'].includes(this.props.dc);\n      if (!isHorizontalDirection && !this.isTopRightDR || this.noAnimation) {\n        return;\n      }\n      this.sideslippingFlexRef.current.className = (0, _classnames6[\"default\"])(_defineProperty(_defineProperty({}, _Sideslipping[\"default\"].sideslipFlex, true), _Sideslipping[\"default\"][this.direction], true));\n      if (!this.show) {\n        this.sideslippingFlexRef.current.style.display = 'none';\n      }\n    }\n  }, {\n    key: \"toggleDisplayState\",\n    value: function toggleDisplayState() {\n      this.show = !this.show;\n      // setPageData(this.pageId, SIDE_PANEL_DISPLAY_STATE, this.show)\n      (0, _GlobalDataCacher.setData)(_symbolConst2.KEY_SIDE_PANEL_DISPLAY_STATE, {\n        formId: this.props.formId,\n        show: this.show\n      }); // 侧滑面板有且只能有一个，所以改为系统级而不是页面级\n      var isHorizontalDirection = ['right', 'left'].includes(this.props.dc);\n      var annimationClassName = this[this.show ? 'anniClass' : 'anniClassBack'];\n      this.sideslippingFlexRef.current.className = (0, _classnames6[\"default\"])(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty({}, _Sideslipping[\"default\"].sideslipFlex, true), _Sideslipping[\"default\"][annimationClassName], !this.noAnimation), _Sideslipping[\"default\"][this.direction], true), _Sideslipping[\"default\"].annimation, (isHorizontalDirection || this.isTopRightDR) && !this.noAnimation), _Sideslipping[\"default\"].noAnimation, this.noAnimation));\n      if (!isHorizontalDirection && !this.isTopRightDR) {\n        this.sideslippingFlexRef.current.style.height = \"\".concat(this.show ? '' : 0); // 空串移除style上对应的属性\n        this.sideslippingFlexRef.current.style.minHeight = \"\".concat(this.show ? this.height : 0, \"px\");\n        this.sideslippingContainerRef.current.style[\"margin\".concat(_lodash[\"default\"].upperFirst(this.props.dc))] = \"\".concat(this.show ? 0 : -this.height, \"px\");\n      }\n      if (this.show) {\n        // document.addEventListener('click', this.hideSide, true) // 界面出现时候添加绑定事件\n        if (this.maskRef.current) {\n          this.maskRef.current.style.display = 'block';\n        }\n        if (isHorizontalDirection || this.isTopRightDR) {\n          if (this.noAnimation) {\n            this.sideslippingFlexRef.current.style[this.props.dc] = 0;\n          }\n          this.sideslippingFlexRef.current.style.display = 'flex';\n        }\n      } else {\n        this.props.modifyShowStatus && this.props.modifyShowStatus(this.props.formId, this.show);\n        // document.removeEventListener('click', this.hideSide, true) // 界面缩回去移除click事件\n        var paramsString = this.getEchoServerParams(this.props.showSlidBillData);\n        _global[\"default\"][_global.INVOKE_CUSTOM_EVENT](this.pageId, '', [_client.CUSTOM_EVENT_SIDE_SLIPPING_FLEX, '', paramsString], true);\n        if (this.maskRef.current) {\n          this.maskRef.current.style.display = 'none';\n        }\n        // this.sideslippingFlexRef.current.style.display = 'none'\n        if ((isHorizontalDirection || this.isTopRightDR) && this.noAnimation) {\n          this.sideslippingFlexRef.current.style[this.props.dc] = ''; // 空串移除style上对应的属性\n          this.sideslippingFlexRef.current.style.display = 'none';\n        }\n      }\n    }\n  }, {\n    key: \"getCalssName\",\n    value: function getCalssName(dc) {\n      var isHorizontalDirection = ['right', 'left'].includes(dc);\n      this.anniClass = \"annimation\".concat(_lodash[\"default\"].upperFirst(dc));\n      this.anniClassBack = \"annimationBack\".concat(_lodash[\"default\"].upperFirst(dc));\n      this.direction = _global[\"default\"][_global.IS_IE] ? \"direction\".concat(_lodash[\"default\"].upperFirst(dc), \"-ie\") : \"direction\".concat(_lodash[\"default\"].upperFirst(dc));\n      var className = (0, _classnames6[\"default\"])(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty({}, _Sideslipping[\"default\"].sideslipFlex, true), _Sideslipping[\"default\"][this.direction], true), _Sideslipping[\"default\"].annimation, (isHorizontalDirection || this.isTopRightDR) && !this.noAnimation), _Sideslipping[\"default\"].height, !isHorizontalDirection), _Sideslipping[\"default\"].noAnimation, this.noAnimation));\n      return className;\n    }\n  }, {\n    key: \"getSize\",\n    value: function getSize(size) {\n      var _this2 = this;\n      var dc = this.props.dc;\n      var isHorizontalDirection = ['right', 'left'].includes(dc);\n      this.setHeightTimer && clearTimeout(this.setHeightTimer);\n      this.height = size.height;\n      this.width = size.width;\n      if (this.show && !isHorizontalDirection && !this.isTopRightDR) {\n        this.setHeightTimer = setTimeout(function () {\n          _this2.sideslippingFlexRef.current.style.minHeight = \"\".concat(_this2.height, \"px\");\n        }, 100);\n      }\n    }\n  }, {\n    key: \"handleAfterBillReady\",\n    value: function handleAfterBillReady(params) {\n      this.pageId = params.pageId;\n      if (this.billRef.current && !this.addR) {\n        this.addR = (0, _resizeObserve[\"default\"])(_reactDom[\"default\"].findDOMNode(this.billRef.current), this.getSize);\n      }\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      var _this3 = this;\n      if (nextProps.show !== this.show) {\n        this.toggleDisplayState();\n        var paramsString = this.getEchoServerParams(nextProps.showSlidBillData);\n        !nextProps.noReRequest && nextProps.show && this.pageId && _global[\"default\"][_global.INVOKE_CUSTOM_EVENT](this.pageId, '', [_client.CUSTOM_EVENT_AFTER_SHOW_SLIDE_BILL, '', paramsString]);\n      }\n      if (!nextProps.show) {\n        this.setState({\n          isClickable: false\n        });\n      } else {\n        this.timeoutId = setTimeout(function () {\n          _this3.setState({\n            isClickable: true\n          });\n        }, this.props.clickDelay || 0);\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.addR && this.addR.removeResizeObserve();\n      // document.removeEventListener('click', this.hideSide, true)\n      clearTimeout(this.timeoutId);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n        dc = _this$props.dc,\n        formId = _this$props.formId,\n        offset = _this$props.offset,\n        rootPageId = _this$props.rootPageId,\n        offsetInAllDC = _this$props.offsetInAllDC,\n        _this$props$closeMode = _this$props.closeMode,\n        closeMode = _this$props$closeMode === void 0 ? 'default' : _this$props$closeMode,\n        maskInfo = _this$props.maskInfo;\n      var isHorizontalDirection = ['right', 'left'].includes(dc);\n      var className = this.getCalssName(dc);\n      var child = formId && rootPageId ? /*#__PURE__*/_react[\"default\"].createElement(_Bill[\"default\"], {\n        ref: this.billRef,\n        config: {\n          formId: formId,\n          rootPageId: rootPageId\n        },\n        onReady: this.handleAfterBillReady\n      }) : null;\n      var style = Object.assign({}, this.props.style);\n      if (offset !== 0) {\n        var dataAll = (0, _GlobalDataCacher.getData)(_symbolConst.KEY_TOPNOTIFICATIONINFO);\n        var topNotificationHeight = dataAll && dataAll.length > 0 ? _const.TOPNOTIFICATIONOFFSET : 0;\n        style[dc] = dc === 'top' ? offset + topNotificationHeight + 'px' : offset + 'px';\n      }\n      if (offsetInAllDC && Object.keys(offsetInAllDC).length > 0) {\n        for (var key in offsetInAllDC) {\n          style[key] = offsetInAllDC[key] + 'px';\n        }\n      }\n      if (isHorizontalDirection || this.isTopRightDR) {\n        style.display = 'none';\n      }\n\n      // 根据maskInfo是否有返回值确定是否需要修改蒙版样式\n      var maskStyles = maskInfo ? {\n        opacity: 1,\n        zIndex: 1050\n      } : undefined;\n      var maskOutStyle = {\n        top: maskInfo !== null && maskInfo !== void 0 && maskInfo.isShowHeader ? \"\".concat(offsetInAllDC === null || offsetInAllDC === void 0 ? void 0 : offsetInAllDC.top, \"px\") : undefined,\n        backgroundColor: maskInfo === null || maskInfo === void 0 ? void 0 : maskInfo.bgColor\n      };\n      return /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, null, closeMode === 'default' && /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        key: \"maskV\",\n        ref: this.maskRef,\n        className: (0, _classnames6[\"default\"])(_defineProperty({}, _Sideslipping[\"default\"]['mask-view'], true)),\n        onClick: this.handleHidePanel,\n        style: maskStyles\n      }, maskInfo && /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _Sideslipping[\"default\"]['mask-out'],\n        style: maskOutStyle\n      })), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        key: \"sideslipping\",\n        ref: this.sideslippingFlexRef,\n        className: className,\n        style: style,\n        onAnimationEnd: this.handleRemoveTranfrom\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        ref: this.sideslippingContainerRef,\n        className: (0, _classnames6[\"default\"])(_Sideslipping[\"default\"].sideslippingContainer, _defineProperty({}, _Sideslipping[\"default\"][this.noAnimation ? 'noAnimation' : 'containerTransition'], !isHorizontalDirection && !this.isTopRightDR))\n      }, child)));\n    }\n  }]);\n  return SideslippingFlex;\n}(_react[\"default\"].Component);\nvar _default = exports[\"default\"] = SideslippingFlex;\n\n//# sourceURL=webpack://bos-platform/./src/page/SideslippingFlex.js?");

/***/ }),

/***/ "./src/page/TrayMenu.js":
/*!******************************!*\
  !*** ./src/page/TrayMenu.js ***!
  \******************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.TrayMenuItem = exports.SVGButton = void 0;\nexports[\"default\"] = TrayMenuHook;\nexports.domMoveVertical = domMoveVertical;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.promise.js */ \"../../node_modules/core-js/modules/es.promise.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\n__webpack_require__(/*! core-js/modules/es.string.split.js */ \"../../node_modules/core-js/modules/es.string.split.js\");\n__webpack_require__(/*! core-js/modules/es.string.link.js */ \"../../node_modules/core-js/modules/es.string.link.js\");\n__webpack_require__(/*! core-js/modules/web.timers.js */ \"../../node_modules/core-js/modules/web.timers.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _reactDom = _interopRequireDefault(__webpack_require__(/*! react-dom */ \"webpack/sharing/consume/default/react-dom/react-dom?418d\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _classnames5 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _global = __webpack_require__(/*! @/global */ \"./src/global/index.js\");\nvar _appModelFunction = __webpack_require__(/*! ../model/appModelFunction */ \"./src/model/appModelFunction.js\");\nvar _RobertNumber = _interopRequireWildcard(__webpack_require__(/*! ./RobertNumber */ \"./src/page/RobertNumber.js\"));\nvar _symbolConst = __webpack_require__(/*! ../constant/symbolConst */ \"./src/constant/symbolConst.js\");\nvar _GlobalDataCacher = __webpack_require__(/*! ../model/GlobalDataCacher */ \"./src/model/GlobalDataCacher.js\");\nvar _client = __webpack_require__(/*! ../util/client */ \"./src/util/client.js\");\nvar _clientApi = _interopRequireDefault(__webpack_require__(/*! ../../src/plugin/clientApi */ \"./src/plugin/clientApi.js\"));\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nvar _initYzjDesktopRemote = __webpack_require__(/*! @/service/web/initYzjDesktopRemote */ \"./src/service/web/initYzjDesktopRemote.js\");\nvar _TrayMenu = _interopRequireDefault(__webpack_require__(/*! ./TrayMenu.less */ \"./src/page/TrayMenu.less\"));\nvar _yunzhijia = _interopRequireDefault(__webpack_require__(/*! @/component/images/yunzhijia.png */ \"./src/component/images/yunzhijia.png\"));\nvar _satisfactionRate = _interopRequireDefault(__webpack_require__(/*! @/component/images/satisfaction-rate.png */ \"./src/component/images/satisfaction-rate.png\"));\nvar _ClientDialog = _interopRequireDefault(__webpack_require__(/*! ./ClientDialog */ \"./src/page/ClientDialog.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; } /**\n * TrayMenu\n 侧边系统菜单栏，提供系统菜单功能\n * @authors Your Name (you@example.org)\n * @date    2018-02-28 14:01:05\n * @version $Id$\n */\nvar TRIGGER_TYPE = {\n  LINK: 0,\n  CLICK: 1\n};\nfunction domMoveVertical(ref, transformYString) {\n  if (ref.current) {\n    ref.current.style.transform = transformYString;\n  }\n}\nfunction TrayMenuHook(props) {\n  var _useState = (0, _react.useState)(props.ready),\n    _useState2 = _slicedToArray(_useState, 2),\n    ready = _useState2[0],\n    setReady = _useState2[1];\n  var _useState3 = (0, _react.useState)(true),\n    _useState4 = _slicedToArray(_useState3, 2),\n    trayMenuVisible = _useState4[0],\n    setTrayMenuVisible = _useState4[1];\n  var dragEle = (0, _react.useRef)(null);\n  var sysTemMenuRef = (0, _react.useRef)(null);\n  var customMenuRef = (0, _react.useRef)(null);\n  (0, _react.useEffect)(function () {\n    // 垂直方向拖拽\n    var isDrag = false;\n    var moveY = 0;\n    var startY = 0;\n    var time = null;\n    var notUserSelectElement = document.body;\n    function adjustY(y) {\n      y = y > 100 ? 100 : y;\n      y = y < -(document.body.clientHeight - 150) ? y < -(document.body.clientHeight - 150) : y;\n      return y;\n    }\n    function mouseDown(event) {\n      time = setTimeout(function () {\n        isDrag = true;\n        startY = event.clientY;\n        dragEle.current.style.cursor = 'ns-resize';\n      }, 300);\n      notUserSelectElement.style.userSelect = 'none';\n    }\n    function mouseMove(event) {\n      if (isDrag) {\n        var y = moveY + event.clientY - startY;\n        y = adjustY(y);\n        var translateYString = \"translateY(\".concat(y, \"px)\");\n        domMoveVertical(sysTemMenuRef, translateYString);\n        domMoveVertical(customMenuRef, translateYString);\n        dragEle.current.style.transform = translateYString;\n      }\n    }\n    function mouseUp(event) {\n      clearTimeout(time);\n      if (isDrag) {\n        isDrag = false;\n        moveY += event.clientY - startY;\n        moveY = adjustY(moveY);\n        dragEle.current.style.cursor = 'default';\n      }\n      notUserSelectElement.style.userSelect = '';\n    }\n    if (dragEle.current && ready) {\n      dragEle.current.addEventListener('mousedown', mouseDown, false);\n      document.addEventListener('mousemove', mouseMove, false);\n      document.addEventListener('mouseup', mouseUp, false);\n    }\n    return function () {\n      if (dragEle.current && ready) {\n        dragEle.current.removeEventListener('mousedown', mouseDown, false);\n        document.removeEventListener('mousevove', mouseMove, false);\n        document.removeEventListener('mouseup', mouseUp, false);\n      }\n    };\n  }, [dragEle.current, ready]);\n  (0, _react.useEffect)(function () {\n    if ((0, _GlobalDataCacher.getData)(_symbolConst.KEY_ROOT_PAGE_LOADDATA)) {\n      setReady(true);\n      return;\n    }\n    var removeDataChangeListener = (0, _GlobalDataCacher.addDataChangeListener)(_symbolConst.KEY_ROOT_PAGE_LOADDATA, function (rootPageId) {\n      window.setTimeout(function () {\n        return setReady(true);\n      }, 3000);\n    });\n    return function () {\n      return removeDataChangeListener();\n    };\n  }, []);\n  if (!ready || !trayMenuVisible) {\n    return null;\n  }\n  var className = (0, _classnames5[\"default\"])(_defineProperty({}, _TrayMenu[\"default\"].root, true));\n  return /*#__PURE__*/_reactDom[\"default\"].createPortal( /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    id: \"_TrayMenu_\",\n    className: className,\n    ref: dragEle\n  }, /*#__PURE__*/_react[\"default\"].createElement(TrayMenuItem, {\n    showSplitLine: true,\n    setTrayMenuVisible: setTrayMenuVisible,\n    sysTemMenuRef: sysTemMenuRef,\n    customMenuRef: customMenuRef\n  })), document.body);\n}\nvar TrayMenuItem = exports.TrayMenuItem = function TrayMenuItem(_ref) {\n  var _config$sysParam, _config$sysParam2, _children$filter;\n  var setTrayMenuVisible = _ref.setTrayMenuVisible,\n    showSplitLine = _ref.showSplitLine,\n    itemClassName = _ref.itemClassName,\n    iconClassName = _ref.iconClassName,\n    sysTemRef = _ref.sysTemMenuRef,\n    customRef = _ref.customMenuRef,\n    showColorsIcon = _ref.showColorsIcon,\n    allowClickInteraction = _ref.allowClickInteraction,\n    handleClick = _ref.handleClick,\n    handleHideTrayMenu = _ref.handleHideTrayMenu;\n  var _useState5 = (0, _react.useState)((0, _immutable.List)()),\n    _useState6 = _slicedToArray(_useState5, 2),\n    messageList = _useState6[0],\n    setMessageList = _useState6[1];\n  var _useState7 = (0, _react.useState)(false),\n    _useState8 = _slicedToArray(_useState7, 2),\n    showMessage = _useState8[0],\n    setShowMessage = _useState8[1];\n  var _useState9 = (0, _react.useState)(false),\n    _useState10 = _slicedToArray(_useState9, 2),\n    robotFloatShow = _useState10[0],\n    setRobotFloatShow = _useState10[1];\n  var sysTemMenuRef = sysTemRef || (0, _react.useRef)(null);\n  var customMenuRef = customRef || (0, _react.useRef)(null);\n  (0, _react.useEffect)(function () {\n    var removeShowRobotMsgDataChangeListener = (0, _GlobalDataCacher.addDataChangeListener)(_symbolConst.KEY_SHOW_ROBOT_MESSAGE_EVENT, function (data) {\n      setMessageList(function (list) {\n        return list.push(data);\n      });\n      setShowMessage(true);\n    });\n    var removeCloseRobotMsgDataChangeListener = (0, _GlobalDataCacher.addDataChangeListener)(_symbolConst.KEY_CLOSE_ROBOT_MESSAGE_EVENT, function () {\n      setShowMessage(false);\n    });\n    var removeShowRobotFloatDataChangeListener = (0, _GlobalDataCacher.addDataChangeListener)(_symbolConst.KEY_SHOW_ROBOT_FLOAT, function () {\n      setRobotFloatShow(true);\n    });\n    var removeCloseRobotFloatDataChangeListener = (0, _GlobalDataCacher.addDataChangeListener)(_symbolConst.KEY_CLOSE_ROBOT_FLOAT, function () {\n      setRobotFloatShow(false);\n    });\n    return function () {\n      removeShowRobotMsgDataChangeListener && removeShowRobotMsgDataChangeListener();\n      removeCloseRobotMsgDataChangeListener && removeCloseRobotMsgDataChangeListener();\n      removeShowRobotFloatDataChangeListener && removeShowRobotFloatDataChangeListener();\n      removeCloseRobotFloatDataChangeListener && removeCloseRobotFloatDataChangeListener();\n    };\n  }, []);\n  var hideTrayMenu = function hideTrayMenu() {\n    var toNotify = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n    setTrayMenuVisible && setTrayMenuVisible(false);\n    if (toNotify) {\n      handleHideTrayMenu === null || handleHideTrayMenu === void 0 || handleHideTrayMenu();\n    }\n  };\n  var rootPageId = (0, _appModelFunction.getRootPageId)()((0, _global.getGlobalState)());\n  if (!rootPageId) {\n    hideTrayMenu();\n    return null;\n  }\n  var config = (0, _appModelFunction.getFormConfig)(rootPageId)((0, _global.getGlobalState)());\n  if (!config) {\n    hideTrayMenu();\n    return null;\n  }\n  if (config.showTrayMenu === false) {\n    hideTrayMenu(false); // 这里之前应该是个bug，就算showTrayMenu 为false 也进行了展示\n  }\n  var showContent = ((_config$sysParam = config.sysParam) === null || _config$sysParam === void 0 ? void 0 : _config$sysParam.showContentParam) || config.showContent || {};\n  var _ref2 = ((_config$sysParam2 = config.sysParam) === null || _config$sysParam2 === void 0 ? void 0 : _config$sysParam2.systemMenu) || {},\n    _ref2$items = _ref2.items,\n    items = _ref2$items === void 0 ? [] : _ref2$items;\n  // 不区分topLevelItems,用items里的level表示\n  var topLevelItems = items.filter(function (item) {\n    return item.level === 1;\n  });\n  var secondLevelItems = items.filter(function (item) {\n    return item.level === 2;\n  });\n  var custemItems = [].concat(_toConsumableArray(topLevelItems), _toConsumableArray(secondLevelItems));\n  var _showContent$openYzj = showContent.openYzj,\n    openYzj = _showContent$openYzj === void 0 ? true : _showContent$openYzj,\n    _showContent$comment = showContent.comment,\n    comment = _showContent$comment === void 0 ? true : _showContent$comment,\n    _showContent$robertNu = showContent.robertNumber,\n    robertNumber = _showContent$robertNu === void 0 ? true : _showContent$robertNu,\n    _showContent$billOfLa = showContent.billOfLadingFeedback,\n    billOfLadingFeedback = _showContent$billOfLa === void 0 ? true : _showContent$billOfLa,\n    _showContent$preSaleH = showContent.preSaleHotline,\n    preSaleHotline = _showContent$preSaleH === void 0 ? true : _showContent$preSaleH,\n    _showContent$preSaleO = showContent.preSaleOnlineConsultation,\n    preSaleOnlineConsultation = _showContent$preSaleO === void 0 ? true : _showContent$preSaleO;\n  var systemOwnTopItems = [openYzj /** , callK */]; // PRJ-00029953【平台规划】隐藏苍穹主页的Cosmic机器人\n  var systemOwnSecItems = [comment, billOfLadingFeedback, preSaleHotline, preSaleOnlineConsultation, robertNumber];\n  var systemOwnSecItemsByNew = [billOfLadingFeedback, preSaleHotline, preSaleOnlineConsultation, robertNumber];\n  var systemOwnItems = [].concat(systemOwnTopItems, systemOwnSecItems);\n  if (!isShowMenu(systemOwnItems, custemItems)) {\n    hideTrayMenu();\n    return null;\n  }\n  var isShowCustomSecondLevelItems = isShowMenu([], secondLevelItems);\n  var children = [];\n  var showRobertNumber = showColorsIcon ? isShowMenu(systemOwnSecItemsByNew) : isShowMenu(systemOwnSecItems);\n  var isShowSplit = showSplitLine && (isShowCustomSecondLevelItems || topLevelItems.length > 0);\n  children.push( /*#__PURE__*/_react[\"default\"].createElement(IconContainer, {\n    config: config,\n    topLevelItems: topLevelItems,\n    isSecondLevelItemsExsit: isShowMenu(systemOwnSecItems, custemItems),\n    isShowSplit: showSplitLine,\n    itemClassName: itemClassName,\n    iconClassName: iconClassName,\n    showColorsIcon: showColorsIcon\n  }));\n  showRobertNumber && children.push( /*#__PURE__*/_react[\"default\"].createElement(_RobertNumber[\"default\"], {\n    forwardRef: sysTemMenuRef,\n    rootPageId: rootPageId,\n    showContent: showContent,\n    isShowSplit: isShowSplit,\n    itemClassName: itemClassName,\n    className: (0, _classnames5[\"default\"])('kdfont kd-hover-color kdfont-xinxi9', iconClassName),\n    showColorsIcon: showColorsIcon\n  }));\n  showColorsIcon && comment && children.push( /*#__PURE__*/_react[\"default\"].createElement(RateContainer, {\n    itemClassName: itemClassName,\n    iconClassName: iconClassName\n  }));\n  topLevelItems.length > 0 && children.push.apply(children, _toConsumableArray(createTopLevelItems({\n    topLevelItems: topLevelItems,\n    isShowCustomSecondLevelItems: isShowCustomSecondLevelItems,\n    isShowSplit: isShowSplit,\n    itemClassName: itemClassName,\n    iconClassName: iconClassName,\n    allowClickInteraction: allowClickInteraction,\n    handleClick: handleClick\n  })));\n  isShowCustomSecondLevelItems && children.push( /*#__PURE__*/_react[\"default\"].createElement(_RobertNumber.CustomMenu, {\n    forwardRef: customMenuRef,\n    rootPageId: rootPageId,\n    items: secondLevelItems,\n    itemClassName: itemClassName,\n    className: (0, _classnames5[\"default\"])('kdfont kd-hover-color kdfont-zidingyi2', iconClassName),\n    showColorsIcon: showColorsIcon\n  }));\n  showMessage && !robotFloatShow && children.push( /*#__PURE__*/_react[\"default\"].createElement(MessageBox, {\n    messageList: messageList\n  }));\n  if (((_children$filter = children.filter(function (item) {\n    return item !== null;\n  })) === null || _children$filter === void 0 ? void 0 : _children$filter.length) === 0) {\n    hideTrayMenu();\n    return null;\n  }\n  return _react[\"default\"].Children.toArray(children);\n};\nfunction isShowMenu() {\n  var systemItems = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var customItems = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return systemItems.includes(true) || customItems.length > 0;\n}\nfunction IconContainer(_ref3) {\n  var config = _ref3.config,\n    topLevelItems = _ref3.topLevelItems,\n    isSecondLevelItemsExsit = _ref3.isSecondLevelItemsExsit,\n    isShowSplit = _ref3.isShowSplit,\n    itemClassName = _ref3.itemClassName,\n    iconClassName = _ref3.iconClassName,\n    showColorsIcon = _ref3.showColorsIcon;\n  var _useState11 = (0, _react.useState)(false),\n    _useState12 = _slicedToArray(_useState11, 2),\n    expand = _useState12[0],\n    setExpand = _useState12[1];\n  var handYunZhijia = (0, _react.useCallback)(function (event) {\n    // eid获取不到则不处理\n    if (!config.eid || config.eid.length <= 0) return;\n    event.stopPropagation();\n    (0, _initYzjDesktopRemote.dynamicLoadYZJ)().then(function () {\n      if ((0, _client.isMac)() || (0, _client.isWin)()) {\n        // mac登录\n        (0, _clientApi[\"default\"])('yzjDesktopStart');\n        return;\n      }\n      if (document.querySelector('.im-tray')) {\n        document.querySelector('.im-tray').click();\n      } else {\n        console.error('无法打开云之家应用，可能原因：云之家登陆失败,刷新页面，检查登陆请求api返回的数据[https://www.yunzhijia.com/imsdk/auth.do]');\n      }\n    });\n  }, []);\n  // const handK = event => {\n  //   event.stopPropagation()\n  //   setData(KEY_CALL_K_DIALOG, true)\n  // }\n  // 以下代码没有config根本不会走到IconContainer组件，后续可以考虑删除\n  if (!config) {\n    return null;\n  }\n  var _ref4 = config.sysParam && config.sysParam.showContentParam || config.showContent || {},\n    _ref4$openYzj = _ref4.openYzj,\n    openYzj = _ref4$openYzj === void 0 ? true : _ref4$openYzj;\n  var yzjTitle = config.eid && config.eid.length > 0 ? (0, _intlApi.getLangMsg)('trayMenu.key0011') : (0, _intlApi.getLangMsg)('trayMenu.key0012');\n  var children = [];\n  openYzj && children.push( /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _TrayMenu[\"default\"].item,\n    key: \"yzj\",\n    \"data-page-id\": \"_yunzhijia\",\n    onClick: handYunZhijia\n  }, showColorsIcon ? /*#__PURE__*/_react[\"default\"].createElement(\"img\", {\n    className: iconClassName,\n    src: _yunzhijia[\"default\"],\n    title: yzjTitle\n  }) : /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n    title: yzjTitle,\n    className: (0, _classnames5[\"default\"])('kd-hover-color kdfont kdfont-yunzhijia FontIcon_font-desc_ppci', iconClassName)\n  }), isShowSplit && /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _TrayMenu[\"default\"].split\n  })));\n  // Cosmic是在这里声明\n  // 放开控制：视觉（设计器（元数据拼装）、后台接口声明（前端默认值））、交互（事件触发的回调）\n  // 现在都是前端控制，暂时的方法是后台接口声明\n  // callK && children.push(<div className={styles.item} key='callK' data-page-id='_xiaok' onClick={handK}><i title={getLangMsg('trayMenu.key0013')} className='kd-hover-color kdfont kdfont-xiaoK FontIcon_font-desc_ppci' /><div className={styles.split} /></div>)\n  // children = [...children, ...createTopLevelItems(topLevelItems)]\n  var count = [openYzj /** , callK */].filter(Boolean).length; /** + topLevelItems.length */\n  if (count === 0) {\n    return null;\n  }\n  var className = (0, _classnames5[\"default\"])(itemClassName, _TrayMenu[\"default\"].container, _defineProperty({}, _TrayMenu[\"default\"].expand, expand || count === 1));\n  var svgbtnClick = function svgbtnClick(event) {\n    setExpand(function (expand) {\n      return !expand;\n    });\n  };\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: className\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames5[\"default\"])(_TrayMenu[\"default\"].wrap, _defineProperty({}, _TrayMenu[\"default\"].expand, expand || count === 1))\n  }, children), count > 1 && /*#__PURE__*/_react[\"default\"].createElement(SVGButton, {\n    key: \"svg\",\n    svgShow: true,\n    fclassName: _TrayMenu[\"default\"].svgbtn,\n    svgbtnClick: svgbtnClick\n  }), isSecondLevelItemsExsit && count > 1 && isShowSplit && /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _TrayMenu[\"default\"].split\n  }));\n}\nfunction RateContainer(_ref5) {\n  var itemClassName = _ref5.itemClassName,\n    iconClassName = _ref5.iconClassName;\n  var _useState13 = (0, _react.useState)(false),\n    _useState14 = _slicedToArray(_useState13, 2),\n    showFeedDialog = _useState14[0],\n    setShowFeedDialog = _useState14[1];\n  var handFeed = (0, _react.useCallback)(function () {\n    (0, _GlobalDataCacher.setData)(_symbolConst.KEY_UI_ACTION, {\n      tableName: 'tray_menu',\n      actionKey: 'appraise',\n      controlName: '评分'\n    });\n    setShowFeedDialog(true);\n  }, []);\n  return /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, null, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: itemClassName,\n    onClick: handFeed\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"img\", {\n    className: iconClassName,\n    src: _satisfactionRate[\"default\"],\n    title: (0, _intlApi.getLangMsg)('trayMenu.key0008')\n  })), showFeedDialog && /*#__PURE__*/_react[\"default\"].createElement(_ClientDialog[\"default\"], {\n    formId: \"bos_voc_appevaluation\",\n    onClose: function onClose(event) {\n      return setShowFeedDialog(false);\n    }\n  }));\n}\nfunction openHref(_ref6) {\n  var href = _ref6.href;\n  href && window.open(href);\n}\nfunction createTopLevelItems(_ref7) {\n  var topLevelItems = _ref7.topLevelItems,\n    isShowCustomSecondLevelItems = _ref7.isShowCustomSecondLevelItems,\n    isShowSplit = _ref7.isShowSplit,\n    itemClassName = _ref7.itemClassName,\n    iconClassName = _ref7.iconClassName,\n    allowClickInteraction = _ref7.allowClickInteraction,\n    handleClick = _ref7.handleClick;\n  return topLevelItems.map(function (item, index, arr) {\n    var onHandleClick = function onHandleClick() {\n      handleClick === null || handleClick === void 0 || handleClick(item === null || item === void 0 ? void 0 : item.eventKey);\n    };\n    // 这里默认是不支持点击交互的，如果不支持（旧门户，与后端约定的）并触发方式为点击，则不展示这DOM\n    if (!allowClickInteraction && item.triggerType === TRIGGER_TYPE.CLICK) return null;\n    return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: (0, _classnames5[\"default\"])(_TrayMenu[\"default\"].container, itemClassName),\n      key: item.id || index\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: (0, _classnames5[\"default\"])(_TrayMenu[\"default\"].wrap, _TrayMenu[\"default\"].expand)\n    }, /*#__PURE__*/_react[\"default\"].createElement(_RobertNumber.FloatMenuItem, {\n      isLinkProxy: true,\n      openUrl: function openUrl() {\n        openHref({\n          href: item.link\n        });\n      },\n      href: item.link,\n      className: _TrayMenu[\"default\"].item,\n      \"data-page-id\": item.id || index,\n      title: item.title || item.header || '',\n      handleClick: allowClickInteraction && item.triggerType === TRIGGER_TYPE.CLICK ? onHandleClick : null\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"img\", {\n      className: (0, _classnames5[\"default\"])(_TrayMenu[\"default\"].itemImg, iconClassName),\n      src: item.icon\n    }), (index !== arr.length - 1 || isShowCustomSecondLevelItems) && isShowSplit && /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _TrayMenu[\"default\"].split\n    }))));\n  });\n}\nvar MessageBox = /*#__PURE__*/function (_Component) {\n  _inherits(MessageBox, _Component);\n  function MessageBox(props) {\n    var _this;\n    _classCallCheck(this, MessageBox);\n    _this = _callSuper(this, MessageBox, [props]);\n    _this.state = {\n      messageList: props.messageList\n    };\n    _this.container = document.createElement('div');\n    document.body.appendChild(_this.container);\n    return _this;\n  }\n  _createClass(MessageBox, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      // this.inc = nextProps.messageList.size != this.props.messageList.size;\n      // if (this.inc) {\n      // setTimeout(() => {\n      //   this.inc = false;\n      //   !this.dispose && this.forceUpdate()\n      // }, 1000);\n      // }\n      this.setState({\n        messageList: nextProps.messageList\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.dispose = true;\n      document.body.removeChild(this.container);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var messageList = this.state.messageList;\n      if (messageList.size === 0 || !this.container) {\n        return null;\n      }\n      var className = (0, _classnames5[\"default\"])(_TrayMenu[\"default\"].message, _TrayMenu[\"default\"]['speech-bubble'], _TrayMenu[\"default\"]['speech-bubble-right']);\n      return /*#__PURE__*/_reactDom[\"default\"].createPortal( /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: className\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", null, messageList.get(-1))), this.container);\n    }\n  }]);\n  return MessageBox;\n}(_react.Component);\nvar SVGButton = exports.SVGButton = /*#__PURE__*/function (_React$Component) {\n  _inherits(SVGButton, _React$Component);\n  function SVGButton(props) {\n    var _this2;\n    _classCallCheck(this, SVGButton);\n    _this2 = _callSuper(this, SVGButton, [props]);\n    _this2.state = {\n      show: false,\n      hover: false\n    };\n    _this2.handleMouseLeave = _this2.handleMouseLeave.bind(_assertThisInitialized(_this2));\n    _this2.handleMouseOver = _this2.handleMouseOver.bind(_assertThisInitialized(_this2));\n    _this2.handleClick = _this2.handleClick.bind(_assertThisInitialized(_this2));\n    return _this2;\n  }\n\n  // componentWillReceiveProps (nextProps) {\n  //   this.setState({\n  //     show: nextProps.show\n  //   })\n  // }\n  _createClass(SVGButton, [{\n    key: \"handleMouseOver\",\n    value: function handleMouseOver() {\n      this.setState({\n        hover: true\n      });\n    }\n  }, {\n    key: \"handleMouseLeave\",\n    value: function handleMouseLeave() {\n      this.setState({\n        hover: false\n      });\n    }\n  }, {\n    key: \"handleClick\",\n    value: function handleClick(event) {\n      this.props.svgbtnClick(event);\n      this.setState({\n        show: !this.state.show\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n        fclassName = _this$props.fclassName,\n        svgShow = _this$props.svgShow;\n      var hanburgerClass = (0, _classnames5[\"default\"])(_defineProperty(_defineProperty({}, _TrayMenu[\"default\"].hamburger, true), _TrayMenu[\"default\"]['is-active'], this.state.show));\n      var spanClassName = (0, _classnames5[\"default\"])({\n        'kd-btn-bg': this.state.hover\n      });\n      var style = {};\n      if (!svgShow) {\n        style.display = 'none';\n      }\n      if (this.state.show) {\n        style.boxShadow = 'none';\n      }\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: fclassName,\n        onMouseOver: this.handleMouseOver,\n        onMouseLeave: this.handleMouseLeave,\n        onClick: this.handleClick,\n        style: style\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: hanburgerClass\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n        className: spanClassName\n      }), /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n        className: spanClassName\n      }), /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n        className: spanClassName\n      })));\n    }\n  }]);\n  return SVGButton;\n}(_react[\"default\"].Component);\n\n//# sourceURL=webpack://bos-platform/./src/page/TrayMenu.js?");

/***/ }),

/***/ "./src/service/web/initYzjDesktopRemote.js":
/*!*************************************************!*\
  !*** ./src/service/web/initYzjDesktopRemote.js ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = initYzjRemote;\nexports.dynamicLoadYZJ = dynamicLoadYZJ;\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.promise.js */ \"../../node_modules/core-js/modules/es.promise.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.timers.js */ \"../../node_modules/core-js/modules/web.timers.js\");\nvar _global = _interopRequireWildcard(__webpack_require__(/*! @/global */ \"./src/global/index.js\"));\nvar _clientApi = _interopRequireDefault(__webpack_require__(/*! @/plugin/clientApi */ \"./src/plugin/clientApi.js\"));\nvar _appModelFunction = __webpack_require__(/*! @/model/appModelFunction */ \"./src/model/appModelFunction.js\");\nvar _GlobalDataCacher = __webpack_require__(/*! @/model/GlobalDataCacher */ \"./src/model/GlobalDataCacher.js\");\nvar _symbolConst = __webpack_require__(/*! @/constant/symbolConst */ \"./src/constant/symbolConst.js\");\nvar _client = __webpack_require__(/*! ../../../src/util/client */ \"./src/util/client.js\");\nvar _loadjs = _interopRequireDefault(__webpack_require__(/*! @/util/loadjs */ \"./src/util/loadjs.js\"));\nvar _beforeUnloadHand = __webpack_require__(/*! @/beforeUnloadHand */ \"./src/beforeUnloadHand.js\");\nvar _PluginManager = __webpack_require__(/*! ../../../src/plugin/PluginManager */ \"./src/plugin/PluginManager.js\");\nvar _excluded = [\"methodName\"];\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nvar removeListener = null;\nvar isLoadYZJBridge = false;\nvar listenGetUserInfo = function listenGetUserInfo() {\n  // 有可能函数加载的时候已经能够获取到返回来的用户信息了\n  var systemParam = (0, _GlobalDataCacher.getData)(_symbolConst.KEY_SYSTEM_PARAM);\n  if (systemParam) {\n    (0, _clientApi[\"default\"])('yzjGetUserInfo', {\n      data: systemParam.portalUserInfo\n    });\n    return;\n  }\n\n  // 如果没有获取到用户信息需要监听返回\n  removeListener && removeListener();\n  removeListener = (0, _GlobalDataCacher.addDataChangeListener)(_symbolConst.KEY_SYSTEM_PARAM, function () {\n    var systemParam = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    if (systemParam) {\n      (0, _clientApi[\"default\"])('yzjGetUserInfo', {\n        data: systemParam.portalUserInfo\n      });\n    }\n  });\n};\n\n// 是否加载云之家\nvar isLoadYzjPlugin = function isLoadYzjPlugin(config) {\n  // 根据云之家url判断\n  return config.yzjUrl && ((0, _client.isMac)() || (0, _client.isWin)() || !(0, _client.isMobile)()) && !_global[\"default\"][_global.NO_LOAD_YZJ];\n};\n\n// 初始化云之家插件方法\nvar initYzjPluginMethod = function initYzjPluginMethod(config) {\n  var methodList = [{\n    methodName: 'yzjDesktopRemote',\n    data: {\n      timeout: 30000,\n      saas: config.saas || false\n    }\n  }, {\n    methodName: 'yzjRequestUserInfo'\n  }, {\n    methodName: 'yzjRequestLoginCode'\n  }, {\n    // 跳转第三方应用\n    methodName: 'yzjGotoLightApp'\n  }, {\n    // 获取协同组件运行配置\n    methodName: 'yziGetRuntimeConfig'\n  }, {\n    // qingjs没有初始化过的api需要重新config一下\n    methodName: 'yzjAddConfig',\n    data: ['share']\n  }, {\n    // 获取苍穹用户信息\n    methodName: 'yzjGetUserInfo'\n  }, {\n    // 获取云之家SsoToken\n    methodName: 'yzjGetSsoToken'\n  }, {\n    // 通信通用中转接口\n    methodName: 'yzjRelayYZJDataToServer'\n  }];\n  methodList.forEach(function (_ref) {\n    var methodName = _ref.methodName,\n      args = _objectWithoutProperties(_ref, _excluded);\n    if (methodName === 'yzjGetUserInfo') {\n      listenGetUserInfo();\n    } else {\n      (0, _clientApi[\"default\"])(methodName, args);\n    }\n  });\n};\nvar loadYZJ = function loadYZJ() {\n  return new Promise(function (resolve, reject) {\n    __webpack_require__.e(/*! require.ensure | yzjDesktop */ 7100).then((function (require) {\n      var loadPlugin = (__webpack_require__(/*! ../../../src/plugin/web/yzjDesktop/plugin */ \"./src/plugin/web/yzjDesktop/plugin.js\")[\"default\"]);\n      loadPlugin({\n        loadjs: _loadjs[\"default\"],\n        releasePage: _beforeUnloadHand.releasePage\n      }, function (success) {\n        return resolve(success);\n      });\n    }).bind(null, __webpack_require__))['catch'](__webpack_require__.oe);\n  });\n};\nvar initPlugin = function initPlugin(data, config) {\n  (0, _PluginManager.loadDynamicPlugin)(data);\n  initYzjPluginMethod(config);\n};\n\n// 加载云之家插件文件\nvar loadYzjPlugin = function loadYzjPlugin(config) {\n  loadYZJ().then(function (data) {\n    initPlugin(data, config);\n  });\n};\nfunction dynamicLoadYZJ() {\n  // 不管请求成不成功，获取qing.js的操作仅执行一次\n  return new Promise(function (resolve, reject) {\n    if (isLoadYZJBridge || !_client.isMac && !_client.isWin) {\n      resolve();\n    } else {\n      isLoadYZJBridge = true;\n      var count = 0;\n      loadYZJ().then(function (data) {\n        var timer = setInterval(function () {\n          count += 1;\n          if (window.qing.isReady || count > 150) {\n            var rootPageId = (0, _appModelFunction.getRootPageId)()((0, _global.getGlobalState)());\n            var config = (0, _appModelFunction.getFormConfigWithoutMeta)(rootPageId)((0, _global.getGlobalState)());\n            initPlugin(data, config);\n            clearInterval(timer);\n            timer = null;\n            resolve();\n          }\n        }, 100);\n      })[\"catch\"](function () {\n        resolve();\n      });\n    }\n  });\n}\nfunction initYzjRemote() {\n  (0, _GlobalDataCacher.addDataChangeListener)(_symbolConst.KEY_ROOT_PAGE_ID, function (rootPageId) {\n    var config = (0, _appModelFunction.getFormConfigWithoutMeta)(rootPageId)((0, _global.getGlobalState)());\n    isLoadYZJBridge = config.yzjUrl;\n    if (isLoadYzjPlugin(config)) {\n      loadYzjPlugin(config);\n    }\n  });\n}\n\n//# sourceURL=webpack://bos-platform/./src/service/web/initYzjDesktopRemote.js?");

/***/ }),

/***/ "./src/component/web/KDHomePageSidebar.less":
/*!**************************************************!*\
  !*** ./src/component/web/KDHomePageSidebar.less ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"iconClass\":\"KDHomePageSidebar_iconClass_3n8w\",\"itemClass\":\"KDHomePageSidebar_itemClass_3yXQ\"});\n\n//# sourceURL=webpack://bos-platform/./src/component/web/KDHomePageSidebar.less?");

/***/ }),

/***/ "./src/page/ClientDialog.less":
/*!************************************!*\
  !*** ./src/page/ClientDialog.less ***!
  \************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"dialog-mask\":\"ClientDialog_dialog-mask_2PDK\",\"title-bar\":\"ClientDialog_title-bar_2wPR\",\"title\":\"ClientDialog_title_1QHn\",\"close-button\":\"ClientDialog_close-button_-JMB\",\"hidden\":\"ClientDialog_hidden_1BwB\",\"logo\":\"ClientDialog_logo_2f9G\",\"zoom\":\"ClientDialog_zoom_2aQi\"});\n\n//# sourceURL=webpack://bos-platform/./src/page/ClientDialog.less?");

/***/ }),

/***/ "./src/page/RobertNumber.less":
/*!************************************!*\
  !*** ./src/page/RobertNumber.less ***!
  \************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"robot\":\"RobertNumber_robot_22tB\",\"satisfactionIcon\":\"RobertNumber_satisfactionIcon_2H2s\",\"customMenuIcon\":\"RobertNumber_customMenuIcon_3jpy\",\"badge\":\"RobertNumber_badge_2YeP\",\"hidden\":\"RobertNumber_hidden_3gGj\",\"aboutPanel\":\"RobertNumber_aboutPanel_38uE\",\"about\":\"RobertNumber_about_2OiM\",\"about-item\":\"RobertNumber_about-item_qHDt\",\"header\":\"RobertNumber_header_2PRG\",\"robertPng\":\"RobertNumber_robertPng_3FFc\",\"header-text\":\"RobertNumber_header-text_1_h1\",\"content\":\"RobertNumber_content_2JYk\",\"span-content\":\"RobertNumber_span-content_1RNe\",\"link\":\"RobertNumber_link_37oY\",\"tooltip\":\"RobertNumber_tooltip_2Y49\",\"animal\":\"RobertNumber_animal_29mQ\",\"rotate\":\"RobertNumber_rotate_24SG\",\"customMenuDialogContainer\":\"RobertNumber_customMenuDialogContainer_adin\",\"dialogHead\":\"RobertNumber_dialogHead_3qRV\",\"dialogTitle\":\"RobertNumber_dialogTitle_oVxp\",\"closebtn\":\"RobertNumber_closebtn_RgnT\",\"dialogDragBlock\":\"RobertNumber_dialogDragBlock_Odlv\",\"closeFloatBtn\":\"RobertNumber_closeFloatBtn_1Ema\",\"dialogBody\":\"RobertNumber_dialogBody_1lAV\",\"customMenuDialogRightBottom\":\"RobertNumber_customMenuDialogRightBottom_26Qj\",\"customMenuDialogCenter\":\"RobertNumber_customMenuDialogCenter_3SE1\"});\n\n//# sourceURL=webpack://bos-platform/./src/page/RobertNumber.less?");

/***/ }),

/***/ "./src/page/Sideslipping.less":
/*!************************************!*\
  !*** ./src/page/Sideslipping.less ***!
  \************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"sideslipFlex\":\"Sideslipping_sideslipFlex_1Fay\",\"sideslippingContainer\":\"Sideslipping_sideslippingContainer_1X1u\",\"containerTransition\":\"Sideslipping_containerTransition_3F1A\",\"mask-view\":\"Sideslipping_mask-view_3PLr\",\"mask-out\":\"Sideslipping_mask-out_3iA9\",\"directionLeft\":\"Sideslipping_directionLeft_2kLj\",\"directionLeft-ie\":\"Sideslipping_directionLeft-ie_3252\",\"height\":\"Sideslipping_height_1htN\",\"directionRight\":\"Sideslipping_directionRight_1vcH\",\"directionRight-ie\":\"Sideslipping_directionRight-ie_1QvM\",\"directionTop\":\"Sideslipping_directionTop_pgRd\",\"directionTop-ie\":\"Sideslipping_directionTop-ie_2Y-e\",\"directionTopRight\":\"Sideslipping_directionTopRight_12Qk\",\"directionTopRight-ie\":\"Sideslipping_directionTopRight-ie_65Ym\",\"directionBottom\":\"Sideslipping_directionBottom_2KJ5\",\"directionBottom-ie\":\"Sideslipping_directionBottom-ie_1xD9\",\"bill-position\":\"Sideslipping_bill-position_21Wf\",\"sideDisplayNone\":\"Sideslipping_sideDisplayNone_xX9w\",\"annimation\":\"Sideslipping_annimation_zOny\",\"annimationRight\":\"Sideslipping_annimationRight_3m6B\",\"rightMove\":\"Sideslipping_rightMove_1TMg\",\"annimationBackRight\":\"Sideslipping_annimationBackRight_2xAq\",\"rightMoveBack\":\"Sideslipping_rightMoveBack_3cmq\",\"annimationLeft\":\"Sideslipping_annimationLeft_CTqZ\",\"leftMove\":\"Sideslipping_leftMove_1cLs\",\"annimationBackLeft\":\"Sideslipping_annimationBackLeft_OX7d\",\"leftMoveBack\":\"Sideslipping_leftMoveBack_1fOy\",\"noAnimation\":\"Sideslipping_noAnimation_2N-J\",\"annimationTopRight\":\"Sideslipping_annimationTopRight_3DPf\",\"topRightMove\":\"Sideslipping_topRightMove_3Dv8\",\"annimationBackTopRight\":\"Sideslipping_annimationBackTopRight_2KRB\",\"topRightMoveBack\":\"Sideslipping_topRightMoveBack_TtP2\"});\n\n//# sourceURL=webpack://bos-platform/./src/page/Sideslipping.less?");

/***/ }),

/***/ "./src/page/TrayMenu.less":
/*!********************************!*\
  !*** ./src/page/TrayMenu.less ***!
  \********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"root\":\"TrayMenu_root_10aO\",\"container\":\"TrayMenu_container_12Zx\",\"yunzhijiaIcon\":\"TrayMenu_yunzhijiaIcon_3qC4\",\"item\":\"TrayMenu_item_76BU\",\"itemImg\":\"TrayMenu_itemImg_2dxw\",\"wrap\":\"TrayMenu_wrap_TjRK\",\"expand\":\"TrayMenu_expand_1bRw\",\"svgbtn\":\"TrayMenu_svgbtn_esu6\",\"split\":\"TrayMenu_split_3mci\",\"secondSplit\":\"TrayMenu_secondSplit_kM0B\",\"hamburger\":\"TrayMenu_hamburger_8hXJ\",\"is-active\":\"TrayMenu_is-active_1sW7\",\"message\":\"TrayMenu_message_3Wf0\",\"speech-bubble\":\"TrayMenu_speech-bubble_1cX8\",\"speech-bubble-right\":\"TrayMenu_speech-bubble-right_18FK\"});\n\n//# sourceURL=webpack://bos-platform/./src/page/TrayMenu.less?");

/***/ }),

/***/ "./src/component/images/satisfaction-rate.png":
/*!****************************************************!*\
  !*** ./src/component/images/satisfaction-rate.png ***!
  \****************************************************/
/***/ (function(module) {

eval("module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACMElEQVRYCWNkgIH/DIzlx1hTGP7/TwYKaQMxD0yKSvQXoDlXGRgZ53Za/Z7DwMjwH2QuI4ioOsQg+ZeJZQmQ6QTi0wHsY/73J6bNjuE5E9AdjHS2HOQ/J7CdQLsZy4+ypgKDfRYdfI1pBSNjGjAEwHGOKUkPEaDdTEB7QAluoIA2yAHUTu2keIYH5IABBQQdoC7owVBpeh+MQWxCgFT1BB0QpDKdgZ9NBoxBbEKAVPUEHUDIQkrlCTpg3Z1Mho+/noAxiE0IkKqesfwIC7hMJmQwreQJhgCtLIaZO+qA0RAgKgSYGdkYOFkEYOmGIM3HJsUgya1HUB1IAVEOiNdcx1BhcpdBjteCoKHCHMoM+QZnGbL1jjGwMnESVE+UA55/u8zAzszHkKC1kUGZ3xGnoSBfJ2tvZ+BmFWG4+X4Hw+9/33GqhUkQVRAxAgMqSmMZg65wMLAF95/h/KulDGdeLWB48fUyw9//fxjEONUZjMRiGUzFkxhYmNgZHn0+yTD7ihvQAd9g9uCkiXIASDfIEQ4ypQwucvUMzIysOA089nwqw7YH5Qx//v3EqQZZgmgHwDQJssszmIgnMmgIejIIcigAHcPC8O7HA4Z7Hw8ynHwxi+HV9xswpUTRJDuAKFNJUERUIiTBPJKVghwA6rEMFPgCcsDVgbIdZDcTqK82YA4A2g3qIgJ7Ryx7gI5worND9nVa/3EBhgDDf1BHEWj5Pjo6ANw5BdkN7h2DLR6g7jkArOSqyu8NOIoAAAAASUVORK5CYII=\"\n\n//# sourceURL=webpack://bos-platform/./src/component/images/satisfaction-rate.png?");

/***/ }),

/***/ "./src/component/images/yunzhijia.png":
/*!********************************************!*\
  !*** ./src/component/images/yunzhijia.png ***!
  \********************************************/
/***/ (function(module) {

eval("module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAKKADAAQAAAABAAAAKAAAAAB65masAAAD00lEQVRYCc2ZS0gVURjH/zNaZi8NK0vLkh5UUpgVRA9aSQQtLNBlEYGLFhKBIa2EFilGu6AiCKGVRA+CFkXRolpEmYQUZpaPvOajl6blc/r/Ha/cqzP3Xu/VnD/ceZw5c85vvu8735k514CDCi1rzuca5BkW8ixgJ6ukwcJCh6rRFxn4zZt9BvDKMnA3Mxt3rxnG4MQGeT1YuTXWEWMYFQRbF3xlZs8I0mDFofhRtnEnsKdxwFLLMl9Uo4xgxYEV/vcxgSr25KCk1DBG1He8H8ALcGKRgcgindVm1IJyK4ZxWwWeURyOyt2GBkRjNd7/75gLZwjF5NocbDZy31j5GEFVuBtm5bqJAlOpZFY6j6BTsZl0rfKcJyU2k2RpnqSzodLMaZ8hpvNpOXvJgp7WeKKOlnIO88HeZGAffysSgEQ+8pe/QCN/j78DzdzHIiP3tcVYjE67FgOnM4Blc53vH2bLD78BN3zAzyHnOuFKo7bg4aVAEeH8quW7ybteoJ8z6CpachvffVIIfoj1shYAZz4A3cP+2pHvowKUW1PZua+fkzmPLzUB1T3BnapO3jLgRDqQkQiUbaC164CBKforYhdvpUW2LwLWzwf6aImPfcCTH0AvXdcfotP9jM1zmUAcgS+3APc6gx8k3FlYwCTaWHGmgTBRA3Tn1S/A/a6JV4LPi1YDh2nNjgHgeC34XhK5QgLO1VNvAtbQRVIbXVrHOIvnSM2hNefH2eXXCHmrwz522iocKrMAk+11ErKO1n/+0x7lTvUDy0LGYOEqG06j8QohAt2ziHAXGFcb6fKTjLNn7PArO3dSO8v1cOnz7BGvUa+0dGAJcP4TMBgiRFwTtYL8YIrdXVV7MJxKe+inknpAo7eVua43jN/KG4GbbcD1VqBmbEDtTgKOrbT7cNu6ungHXSgLSflvgV9R5jG7hcnbU/RO3nLGI61XwPb1wE5ytWAqc5nUTtdMN5zaraQ1BafRrTBxk2sMvvzF78Fu4Cmnq5mQQsIfesoUbnK91MUv1HMf3W6LvTybeVVJXmr4Y++dtq6ATpWno0wxpWmweK3d2mfCtYR4oYgJcD3zY0kmkDyFVhJIqJ80RB9fbAI/idw1haYnN7KFlshgbotGzbRcOeHqmbRDKSbAB5zivjNWQwX5xM7/0lyCivQ9MSZAuUgzyEzK5NoC5wKPimwKV59H8YTl0wvGK68Cis3U4qFXAcVmamWTpA1egxST2Ewtu2pl02uAYhLbaE4fXYfjyqZXIGm9Cv9S8NikA2jZVRdmG1IMYvFz8DxYnl1ED8T00t8Q/wCDtTIU6eX/lQAAAABJRU5ErkJggg==\"\n\n//# sourceURL=webpack://bos-platform/./src/component/images/yunzhijia.png?");

/***/ }),

/***/ "./src/page/robot.png":
/*!****************************!*\
  !*** ./src/page/robot.png ***!
  \****************************/
/***/ (function(module) {

eval("module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAYAAADFeBvrAAAQR0lEQVRoQ72aWXBc1ZnHf+cuvau1ehHeF9mGgDEmRtgGY0HANg5hixmYgkyeskwyM6lkqvKQl3nJQ6omVUkVTM1UzUuSqZkMWxIyBmzWImAsSGwDHmMbS7IsydbeUqvXu52pc1ota2u3bKi5JVV39T33fN//W/7nO9+5gi/w2rKltcX3aYNgMxgbIVgrhEhKKWuUGCHEhJSkBaJTEJwJkB+bpvnWiRPtn31RaojPO9GNN7ZuNgy+ISWPCcGKK88n9W1Z+pi6hBA9wLNBwK9Pnmz/+PPodM2AtmxpvV9K8RMp5Y7Po8DsZ4UQR4Qwf3rixHsvX8u8Vw3opptabzUM8QzQei0Cr+KZ9iCQ3/vkk/a/XMUzLBjQ+vXrw4nEop8B35cSc2bILCTQpoXYgjUUPvB0JlP743PnXiku5LEFAdq6dfv6IBDPArcsZNLKY2YlT9meZS1m3y5lnKKT44YhHzt27P1z1eRXBbRly/YdCPFHAQ1MOfSyZC3ucnpPfptXs2q6TKeJqXkUgQihYY0i5QMnTrx/5EoTXRHQ1q137oHgRSBWttVVaFWyr5TaxlIGyCDAMG0EEqHMUMWc89zOgfHIsWN/OlRJj4pTbtu2a4cfBK+VwcyYoJoDlEWlxA8CXM9FCEkhn8crFjFtG2HZ1MRqME2jNG2FSKygdC4wjHtPfPjOvJ6aF9DWrbvXC8Nrl1KFmTLk/Ljn06PkD3A9j4n0KIGTJx4yCQtJEATkXY9M0cOMJqmtbyRsh6bmnxnI00lklnzBqAzM1mPH3p6TU3M0Xb9+X7iuLvu+RE4jgKqpNmlpiS8D3GIW6WSpswLWNUZY3VhDMmojA8lwpkD/eJ4LqTznxx1CySbisRoMlShT14Jcdnx8LL59NvvN0XTbtl2/kJJ/0HNXwjFHXmmgH/gU82kSRpGW+jBbVy6iLmYTMozJ8iCgUHRJZXL0jRe5MJbn7FAGN1JPIlGPMVteFflCGL/88MO3fzA9NGc80tp6x62BNNuZXGcq2Wn+UAPHKWD5Y2xoiHD76kUsqU8SsS2EIgbfx1f/nkOhUGAonefCeIFzIzlOD+UJJxcTjydm2LCafAG+Yfit7e3vTi2+MwDddtvuo/IaK4BABhQLaZpjAa0rG9i0pI5kIo5thzANEwIf3y3ieS6FfI7xiSwXRrJ0qtBL5enNSRoXr5gVetU5VUD7Bx+8fXt55BSg1ta2+yUcrD7FtOpyWtwrNpPOOOvqQ9y+djEbmhtIxGKEogkdSoHn4+UnKBYLOI4CVaB/LM2ZgQl6xot0pgpYtc2E7FB1FcrV7aR8Afvb29/Std8UoNtuv/s95hSa1cjgclAUnSK2zLB1VSPXL65h07JGkskkrhklFxgUsxOIXJq4rfIJCrkcfSPjnBkcp3s0y0DWY0zGiccS8yywlTBOyhfiyAdH39w5Bei229puFoY4Ud00lUfkCzmi5Nm1sZnVDVFaltQSWBHOT/hI38N2JqixDVasWIGby3Kuu5cjn12iN+0wlnPADOFYCULh6LWpIcXN7e1vfKxdcPuOe/4ZyY+m7D1nvzK/jOnD8vkcjVGP3Zuuo6UxRkMyjhFJULu4GSefpafjLMJzWdmykc9OneIv54dpWbOcuA3tZ3o4PeITRGpxi+4cep3B6JXIXfLz9qNv/OMkoK9cQF5hc3bF4rEkwXWLxEWenRuXsPm6BppiFvHaOkZS4xztTNE3PMKNi2N8ecsNiGyK5989RfeYg4NJ2AwIQglSIo5XcOauFwuQj6Dn6JHXV4rW1ntbDJOzkytjBXfPzqW5tU/cFjSGXJrigrs3NtPcUEPt8rUUC3lcz2egp5fGRY0kI4JiweH5w+9zaTzPmiX1XErndQ4N+nECMzLP8ldNful+4LNBbL/jvm8Jyb9NB1SpVCuXQKpOm35ZBrQtFWzfvI6sUySCpKkuSv2KdQTCxC3kkE6eUKwWMyhS9OCV197mo86LrF2UJBwy6UkVODtSoBhbiqwQY5Xkl4dLIb4tdt6x52mJ/N4MDRdUeVwuKkOm4MmtS9nYsprUpfNE65aStIrULVuDVbsIZ+QiqZ4uDCGxaxsZGhzm0HvHOT+YYn1TgsZkjPOjBS5mJcNWPcg5tVv1JC41YZ4RO+7Y+7pA3nM11FLGq8Sq75Yp+PrmpWxoCpPNpKlZtoGYlyIatkks34BbLHL2gz+xrGUTn545h5PP8M4nneTyBTY2N9HcEOfkQJ5LecEoukF0xWu6/BkDBa+LO+7c2yGRa2fOUG39mT66tMW7qTnBgxtr8U0bO15LlAKxEBhWiPREDmoWsWRNC67jkOo+Q19PLx+e6kB6LkuSUU4NFRgQdWR9taW4GvmXdRHQKe7ctW9IStmkf644T5WklBC2LZ78cjMr6mx8O07ChljU0gqnxjLYDc16P5QbGSefHufU+T4+vThIYAqWJiP0ZzxGQ0spBPM5p7p8rb4Qw+LOu+4vIGVY/VCZDBYUwiyrDfFXm5twfMF1i5LUN9bqXerY0DCnO3uoSzQQxmSof5CuS0OcGhohlrBZWpegPy+5SBPuPIAWXvSLoti1+/6ClGhAn/dSgmtCBttXxtm6oob6mgjRWFTTdrR+MeFYkrHBAc5+eprB4RF6RycwBYxkHVKBzbDRVNGoC9FNCBSg/UNAKeQWel2BBS0B+zbWsCwiSUQMamti2OGIpnAzFCPwHDIjQwz39XDuQh+n+9P0prJMhOpxreTCNKgsf1jsavtqhwBNCrNbtLNnn+L7WQOn1gegsaGWRzY3EvHzeLkstvBoqE+SrG8gvnwDfgAD507Rdb6HjotDdA1NMOoYFKOLkEz2GCrAqipf0Cl2t331dQlXRduVzOj5Affs38+DD+wl23WS3Lk/M37pArn0ONFYhIK0GBnPcn5gmMFUllSugBsIZHIZ0lzAtqGK/wS8Lna3fe1pxKyF9RrWAeW04dQYwrT57ve/y86d2/FyadJn2hk5c4y+i/2M5Dx6R7MMjabI5XLIwCcUr6UYXbywUJscVXEdkuIZ0XbPA9+SUkyWPrPmrbYcTIvlguPQ3deP6+Sx7TAPHzjAU08+QTgawc2kSJ06SseHb3Oh9xJj2Rz5goPjS3KhetJy+h5omg5XIb9E2/LbYte9j7aYgTtZnFabYa4hVV2n2lMXB4YZTanmptT9tiCQ3Hn3Pfzwh39PsiaBam/lRgfoefcPyMEO0tk8J7oG6S3GyBDT3dFrXVDLWvmGtUFP0/aVhy6AvHy2U3U/NFndSqkbHv2DI4ylxwhU38D3sVR3VBhYtkXLpuv54Y9+wOq1q3XHVIG/dOYjjr/6PN1dHZzsSxNpWI4diWpj6GuB8ss9wNJDouet13+/Umt2970P6Q3ePK3rybEzPVP2SmpsgsGRYXy/1OZVzQ/VLJHS1zvPkB3RDybrGvjO3/0td+++Q63muL7P2NgYz//7v/LuO+/ypW07iNUk6O3sLDmpWnE8//2fv/na70sbvHv2ProZP/hoIZnp+T6jqTHGxifIFfMl20h0iPmBh1ssaH1CoYju9ghTIIRJKBzhyW/+DQe+/iCO6/FfL77G8NAQXR8d4cHHn+Kzzm66T/5Ze/GarsC4+Y03XihtwTWo+x55D7jiaZzv+fT1DzI+kZkyo2rCl/ptns4T9ec6WRAGth3BMC1Mw8AwBIYZ4oGHH6Z20TL6BsepTUQ4dfRtlq3bxPFPTrO8VjXF5y3mSoabYrk5LjryxuEXLzdJ1Lh79z56v5TlNtZcn6owGxpJcbF/UIdNOdj1UUcAgfR1z02BVsB8J4cwTKxQFMOyMBAYwtAA12zaTNue/ZjhKJmRQT4+/hfOnvmUhOlyXXMzltoxzriuTFZCsP+1V1+Y2cbSoPY8erTSUaMKtc7uXvKFgg4v5RlFAip3Aim1B5QNVdJ7nqPLDum72lNWOKobiIooTFOFX5S2vQ+wYfM2coUi3R2fceLdVzl/9mMWLV3F+jWrsa0Zh4Qz4E03t2o0vnbohbmNRvXEffcduFUash1mHjmqe5lslnNd3VppTUb63EcBK4HzfU9/V95TPe7A87QSkgBDmKVjFAXIMDFNi1iihocef4r6JauQfpGBng6e+9W/4LiCpUuWsHrl8mmRUDGrfBGI1sOHn5u/Fawe27PvwC8kk836afOkxtN0dV8oKW3oANJsoD2k/0vAtHe0p/zL+aBDzcRQuSRM/V1Re9PiJTz019+kobERC5fDL/8Pf3rzEIYVZsOa1TTU112RHwT88tArz1Vu1qun9+3bFw5IvC+nnaeq4nNgeESXL9riqlc9maKKotUxifaKCkPf1//qdwVKEYECqi7lGQVKraKWFcK0bNZt2MS+hw/QWBens6OLV3733/RdGqQ2HmNTy1rtpXnPp4Q4bsj09ldemXmYPG+27fnagfV4QoWePvBS18WBIfr7B7QymhQmBemwUyynvaRAeHiuqz8VWxiWjWmF8dyizifduBdgGLZu5FuhENt23sVdbV/BdXKcOvkJB3/3nDbaDS3riEXVWjanMTeKJVsPvfRc9QOvMoD79j++w0DqI0kVZhd6+xkeHS3RZ7lJLtSqoai6VAGUAKlTXolXzOMUMjp8FNOpbFIsaNkhraxauzANLCtMNF7DQ489ydp1qxkauMThgy9xrqOTjatX0FA3Z4+UCxD3Hj7424UfSZZB7bn/ib1CyBd834919fSRTqdLh+yTB75KKSlKh1lB4OK6jg49/TsSt5Ah8B3sSBLTCmlA6lEFQihWVNgVtds2G264mQcffYzAL9Jx9ix/eOG3JBJJDeqyAclJaTzy6sH/vPpD4zKo/fsf3+H4/h87LvQ1ZDOZydwo8Vc5H0p0ViIGxXa+5+Ip1vNdvGJWd37MUFwrpkJRgVPEUKJLQ3sqEo3z4IEnWbt2DZmJFAf/8CLd58+zac0qapM1yoijhpQPHKzgmbK+Cyqv9+w5sL6j9+KzmWz2FpXw2v6aog3NeCUPKXLw8ZSHNL6AolNAekV8J48VqcGww5pA1PMalGHocTofDZPVLdez/5EniJge/3vyEw6//EdikTA3tLQcj9r2Yy+99B+f/8WLMnL1akw+SP7Mdb3vgzTLYaDaturIUYWT6zkalPaEp+o65VFFGg6GFcEIxTBMY5L6TU3h5ZxU40KRGHsfeYo1q5opZNP89te/8nP5zNOtN6368Ww2q8TnC/LQ9IebVt50qyGMZ5CyVZPd5EKr6Vu9m+Arlivq9xO053wHv5BBqJounNAvXigXqmhTVYMqXJXHyvn4pVu3s/PONuIx0X7opZe/1/7W5UXziovS5M2rBlSedOmqLeoI8ydCsEMHkQod/Vmq6Vzf1V5SAtz8OIHvYoVioAmh5Bm1LmkPlUtdIWhavPTI/gPf+Okz//Sd/5/Xy2ZbafGaW2624KlA8lgQ+CsUIJVniu3UmZHyGKq+K4xjqo2fFQG9ARRTgNTmTAieDQx+kx3sWtA25gsLuSu5fdHyLS1SOm1SyM2+62+S0l/juk4y8L0a6Tn4bm7CsiJp7HCXMKzTpjA+NizrrfRQ5xf2iub/Aex9gaeUPYEwAAAAAElFTkSuQmCC\"\n\n//# sourceURL=webpack://bos-platform/./src/page/robot.png?");

/***/ })

}]);