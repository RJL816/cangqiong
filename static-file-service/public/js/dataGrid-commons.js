"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackJsonp_bos-platform"] = self["webpackJsonp_bos-platform"] || []).push([[6936],{

/***/ "./src/component/web/DataGrid/AgDataGrid/CellEditor/AddressEditor.js":
/*!***************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/CellEditor/AddressEditor.js ***!
  \***************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = exports.AddressEditor = void 0;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.string.replace.js */ \"../../node_modules/core-js/modules/es.string.replace.js\");\n__webpack_require__(/*! core-js/modules/es.string.trim.js */ \"../../node_modules/core-js/modules/es.string.trim.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _AlphaFactory = _interopRequireDefault(__webpack_require__(/*! ./AlphaFactory */ \"./src/component/web/DataGrid/AgDataGrid/CellEditor/AlphaFactory.js\"));\nvar _Address = _interopRequireDefault(__webpack_require__(/*! @/component/web/base/Address */ \"./src/component/web/base/Address.js\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _debounce = _interopRequireDefault(__webpack_require__(/*! lodash/debounce */ \"../../node_modules/lodash/debounce.js\"));\nvar _componentutil = __webpack_require__(/*! @/util/componentutil */ \"./src/util/componentutil.js\");\nvar _memoryCacher = __webpack_require__(/*! @/model/memoryCacher */ \"./src/model/memoryCacher.js\");\nvar _addressAction = __webpack_require__(/*! @/action/addressAction */ \"./src/action/addressAction.js\");\nvar _serverproperties = __webpack_require__(/*! @/constant/serverproperties */ \"./src/constant/serverproperties.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar AddressEditor = exports.AddressEditor = /*#__PURE__*/function () {\n  function AddressEditor() {\n    var _this = this;\n    _classCallCheck(this, AddressEditor);\n    this.getSearchList = function (model, val) {\n      _this.cellApi.props.dispatch((0, _addressAction.getAddressSearchList)(model, val));\n    };\n    // 触发：模糊查询\n    this.addressChange = function (val) {\n      var props = _this.cellApi.props;\n      var model = {\n        pageId: props.pid,\n        key: props.column.colId,\n        entryKey: props.gridId\n      };\n      val && _this.debounceAddressChange(model, val);\n    };\n    // 点击某个下拉选项后\n    this.selectItem = function (primaryKey) {\n      var props = _this.cellApi.props;\n      var model = {\n        pageId: props.pid,\n        key: props.column.colId,\n        entryKey: props.gridId\n      };\n      var args = {};\n      args.id = primaryKey;\n      args.entryType = 1;\n      props.dispatch((0, _addressAction.changeAddressVal)(model, args));\n    };\n    this.setItemByNumber = function (val) {\n      var props = _this.cellApi.props;\n      var pid = props.pid,\n        column = props.column,\n        gridId = props.gridId,\n        dispatch = props.dispatch,\n        node = props.node,\n        rk = props.rk;\n      var rowKey = node.data[rk];\n      var model = {\n        pageId: pid,\n        key: column.colId,\n        entryKey: gridId\n      };\n      dispatch((0, _addressAction.setItemByNumber)(model, val, rowKey));\n    };\n    this.clickIcon = function () {\n      var props = _this.cellApi.props;\n      var model = {\n        pageId: props.pid,\n        key: props.column.colId,\n        entryKey: props.gridId\n      };\n      props.btnClick(model);\n    };\n    this.setExpandDom = function (range) {\n      _this._child = range;\n    };\n    this.getContainer = function () {\n      if (_this._child) return _this._child;\n      var container = document.createElement('div');\n      document.body.appendChild(container);\n      _this._child = container;\n      return container;\n    };\n  }\n  _createClass(AddressEditor, [{\n    key: \"onInitial\",\n    value: function onInitial(handoverApi) {\n      var _this2 = this;\n      this.cellApi = handoverApi;\n      // // 注册事件\n      var _this$cellApi$props = this.cellApi.props,\n        pid = _this$cellApi$props.pid,\n        gridId = _this$cellApi$props.gridId;\n      var doEvents = function doEvents(events) {\n        events.forEach(function (event) {\n          var methodname = event.methodname,\n            args = event.args;\n          switch (methodname) {\n            case 'setAddress':\n              args[0] && _this2.cellApi.updateState({\n                addressSearchList: args[0].data,\n                refreshId: (0, _componentutil.createNewId)()\n              });\n              break;\n          }\n        });\n      };\n      (0, _memoryCacher.setControlMount)(pid, gridId, true);\n      this.removeSubscribeControlMethod = (0, _memoryCacher.subscribeControlMethod)(pid, gridId, 'directives', function (pageData) {\n        if (pageData === undefined) {\n          return;\n        }\n        doEvents(pageData);\n      });\n      this.debounceAddressChange = (0, _debounce[\"default\"])(this.getSearchList.bind(this), 300); // 延迟xx毫秒触发搜索\n    }\n  }, {\n    key: \"getExpandRange\",\n    value: function getExpandRange() {\n      return this._child;\n    }\n  }, {\n    key: \"getEditor\",\n    value: function getEditor(args) {\n      var state = args.state,\n        value = args.value;\n      var props = this.cellApi.props;\n      var openFuzzyQuery = props.editor && props.editor[_serverproperties.ADDRESS_OPEN_FUZZY_QUERY] !== false;\n      if (value && _typeof(value) === 'object' && value[1]) {\n        value = value[1];\n      }\n      // 地址控件 目前需要过滤数据开始处的回车换行\n      if (typeof value === 'string') {\n        value = value.replace(/(\\r)/g, '').trim();\n      }\n      var fontSize = props.colStyle && props.colStyle.fontSize;\n      var inputProps = {\n        disabled: props.editable === false\n      };\n      return /*#__PURE__*/_react[\"default\"].createElement(_Address[\"default\"], {\n        value: value || '',\n        handleIconClick: this.clickIcon,\n        containerStyle: {\n          padding: '0 6px',\n          height: '100%',\n          width: '100%'\n        },\n        inputStyle: {\n          paddingRight: 26,\n          fontSize: fontSize,\n          height: '100%'\n        },\n        iconContainerStyle: {\n          right: 6\n        },\n        refreshId: state.refreshId,\n        addressSearchList: (0, _immutable.fromJS)(state.addressSearchList),\n        handleAddressChange: this.addressChange,\n        handleAddressSelectItem: this.selectItem,\n        openFuzzyQuery: openFuzzyQuery,\n        setItemByNumber: this.setItemByNumber,\n        getPopupPanel: this.getContainer,\n        focusOption: state.focusOption,\n        inputProps: inputProps\n      });\n    }\n  }, {\n    key: \"afterGuiAttached\",\n    value: function afterGuiAttached(eTop) {\n      // 挂到单元格后，自动获取焦点\n      this.cellApi.updateState({\n        focusOption: true\n      });\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this$cellApi$props2 = this.cellApi.props,\n        pid = _this$cellApi$props2.pid,\n        gridId = _this$cellApi$props2.gridId;\n      this._child && document.body.removeChild(this._child);\n      this._child = null;\n      (0, _memoryCacher.setControlMount)(pid, gridId, false);\n      this.removeSubscribeControlMethod && this.removeSubscribeControlMethod();\n    }\n  }, {\n    key: \"isCancelAfterEnd\",\n    value: function isCancelAfterEnd() {\n      return true;\n    }\n  }]);\n  return AddressEditor;\n}();\nvar addressEditor = exports[\"default\"] = (0, _AlphaFactory[\"default\"])(new AddressEditor());\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/CellEditor/AddressEditor.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/CellEditor/AdminDivisionEditor.js":
/*!*********************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/CellEditor/AdminDivisionEditor.js ***!
  \*********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = exports.adminDivisionEditor = void 0;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _AlphaFactory = _interopRequireDefault(__webpack_require__(/*! ./AlphaFactory */ \"./src/component/web/DataGrid/AgDataGrid/CellEditor/AlphaFactory.js\"));\nvar _KDAdminDivision = _interopRequireDefault(__webpack_require__(/*! ../../../KDAdminDivision */ \"./src/component/web/KDAdminDivision.js\"));\nvar _componentutil = __webpack_require__(/*! @/util/componentutil */ \"./src/util/componentutil.js\");\nvar _singleSpa = __webpack_require__(/*! @/api/singleSpa */ \"./src/api/singleSpa.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar AdminDivisionEditor = exports.adminDivisionEditor = /*#__PURE__*/function () {\n  function AdminDivisionEditor() {\n    var _this = this;\n    _classCallCheck(this, AdminDivisionEditor);\n    this.handleChange = function (value) {\n      // TODO:可以做个延迟\n      _this.cellApi.publishChangedValue(value);\n    };\n    this.getContainer = function () {\n      if (_this._child) return _this._child;\n      var container = document.createElement('div');\n      document.body.appendChild(container);\n      _this._child = container;\n      return container;\n    };\n    this.queryAllCountries = function () {\n      _this.query('getCountrys', null);\n    };\n    this.queryProvincesAndTitles = function (model, countryKey, rowKeyVal) {\n      _this.query('getProvincesByCountryId', [countryKey, rowKeyVal]);\n    };\n    this.queryAdminDivisionInfo = function (model, adminId, rowKeyVal) {\n      _this.query('getAdminDivisionInfo', [adminId, rowKeyVal]);\n    };\n    this.queryAdminDivisionByParentId = function (model, parentId, rowKeyVal) {\n      _this.query('getAdminDivisionsByParentId', [parentId, rowKeyVal]);\n    };\n  }\n  _createClass(AdminDivisionEditor, [{\n    key: \"onInitial\",\n    value: function onInitial(handoverApi) {\n      this.cellApi = handoverApi;\n    }\n  }, {\n    key: \"getExpandRange\",\n    value: function getExpandRange() {\n      return this._child;\n    }\n  }, {\n    key: \"query\",\n    value: function query(methodName, param) {\n      var prp = this.cellApi.props;\n      var model = {\n        pageId: prp.pid,\n        entryKey: prp.gridId,\n        key: prp.column.colId\n      };\n      prp.invokeControlMethodOnly(model, methodName, param || []);\n    }\n  }, {\n    key: \"compareValue\",\n    value: function compareValue(a, b) {\n      // 比较值一样，不会发到后端，如果值一样也要发到后端1.需要api.stopEditing 2.isCancelAfterEnd新加判断\n      var valueA = Array.isArray(a) ? a[0] : a;\n      var valueB = Array.isArray(b) ? b[0] : b;\n      return valueA === valueB;\n    }\n  }, {\n    key: \"getEditor\",\n    value: function getEditor(args) {\n      var _this2 = this;\n      var value = args.value,\n        props = args.props;\n      var node = props.node,\n        rk = props.rk;\n      var rowKeyVal = node.data[rk];\n      var prp = this.cellApi.props;\n      var model = {\n        pageId: prp.pid,\n        key: prp.column.colId,\n        entryKey: prp.gridId\n      };\n      var fontSize = props.colStyle && props.colStyle.fontSize;\n      var style = {\n        fontSize: fontSize\n      };\n      return /*#__PURE__*/_react[\"default\"].createElement(_KDAdminDivision[\"default\"], {\n        model: model,\n        value: value,\n        theme: \"default\",\n        containerStyle: {\n          paddingRight: 6\n        },\n        style: style,\n        shouldRespondADMethod: function shouldRespondADMethod(args, methodName) {\n          return (0, _componentutil.shouldRespondADMethod)(args, methodName, rowKeyVal);\n        },\n        handleChange: this.handleChange,\n        getPopupContainer: this.getContainer,\n        queryAllCountries: this.queryAllCountries,\n        queryProvincesAndTitles: function queryProvincesAndTitles(model, countryKey) {\n          _this2.queryProvincesAndTitles(model, countryKey, rowKeyVal);\n        },\n        queryAdminDivisionInfo: function queryAdminDivisionInfo(model, adminId) {\n          _this2.queryAdminDivisionInfo(model, adminId, rowKeyVal);\n        },\n        queryAdminDivisionByParentId: function queryAdminDivisionByParentId(model, parentId) {\n          _this2.queryAdminDivisionByParentId(model, parentId, rowKeyVal);\n        }\n      });\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var container = (0, _singleSpa.getRootContainter)();\n      this._child && container.removeChild(this._child);\n      this._child = null;\n    }\n  }]);\n  return AdminDivisionEditor;\n}();\nvar ADivisionEditor = exports[\"default\"] = (0, _AlphaFactory[\"default\"])(new AdminDivisionEditor());\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/CellEditor/AdminDivisionEditor.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/CellEditor/AlphaFactory.js":
/*!**************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/CellEditor/AlphaFactory.js ***!
  \**************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-properties.js */ \"../../node_modules/core-js/modules/es.object.define-properties.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptors.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.string.replace.js */ \"../../node_modules/core-js/modules/es.string.replace.js\");\n__webpack_require__(/*! core-js/modules/es.string.trim.js */ \"../../node_modules/core-js/modules/es.string.trim.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.timers.js */ \"../../node_modules/core-js/modules/web.timers.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _reactDom = _interopRequireDefault(__webpack_require__(/*! react-dom */ \"webpack/sharing/consume/default/react-dom/react-dom?418d\"));\nvar _moment = _interopRequireDefault(__webpack_require__(/*! moment */ \"../../node_modules/moment/moment.js\"));\nvar _CellClass = _interopRequireDefault(__webpack_require__(/*! ../CellClass.less */ \"./src/component/web/DataGrid/AgDataGrid/CellClass.less\"));\nvar _memoryCacher = __webpack_require__(/*! @/model/memoryCacher */ \"./src/model/memoryCacher.js\");\nvar _gridConst = __webpack_require__(/*! @/constant/gridConst */ \"./src/constant/gridConst.js\");\nvar _GridValidator = __webpack_require__(/*! ../validate/GridValidator */ \"./src/component/web/DataGrid/AgDataGrid/validate/GridValidator.js\");\nvar _textUtil = __webpack_require__(/*! @/util/textUtil */ \"./src/util/textUtil.js\");\nvar _keyCode = __webpack_require__(/*! @/constant/keyCode */ \"./src/constant/keyCode.js\");\nvar _keyCodeTool = __webpack_require__(/*! @/util/keyCodeTool */ \"./src/util/keyCodeTool.js\");\nvar _serverproperties = __webpack_require__(/*! @/constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _GridUtils = __webpack_require__(/*! ../GridUtils */ \"./src/component/web/DataGrid/AgDataGrid/GridUtils.js\");\nvar _params = __webpack_require__(/*! ../../TableHelper/util/params */ \"./src/component/web/DataGrid/TableHelper/util/params.js\");\nvar _crypto = __webpack_require__(/*! @/api/crypto.js */ \"./src/api/crypto.js\");\nvar _index = __webpack_require__(/*! @/component/web/designerCommonUtils/index */ \"./src/component/web/designerCommonUtils/index.js\");\nvar _const = __webpack_require__(/*! @/constant/const */ \"./src/constant/const.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); } //\n// *********编辑器工厂类-组件式************\n// 注意：编辑器的实现类是一个单例对象来接管处理，其init方法中的this每次调用时更新，在其它方法中获取this。这强依赖aggrid.cellRender的串行逻辑，如果成为并行将会有问题（同时有多个编辑器时），需要即时new新对象\n/*\n-------------->初始参数<---------------\nhandoverApi:[\n    props\n    //更新value,影响最终的单元格值,stop设置是否结束编辑\n    publishChangedValue(newValue, stop=false)\n    //停止编辑，参数指明是否取消值变更\n    stopEditing(cancel?)\n    //内部数据容器存取接口\n    setContainerData(propName,value)\n    getContainerData(propName?)\n    //是否取消值变更\n    setCancelMark(cancel?)\n    //获取最新的value,主要是提供一个可以随时取值的接口\n    getNewValue()\n    //更新state,将进行新旧state合并，与publishChangedValue区别是，此方法可更新任意state属性\n    updateState(stateObj,callback)\n]\n\n-------------->数据容器<---------------\n**这个是编辑器实例的内部数据容器，因为同一类编辑器用的是同一份实例，所以不能在实例内创建私有成员变量**\ndataContainer\n\n-------------->受监听方法<---------------\n//初始化，主要用于交接接口\nonInitial(handoverApi)\n//默认值\ndefaultValue(props)\n//修饰初始值，有时要将默认值进行转换\ndecorateStartValue(args)\n//获取编辑器，jsx类型\ngetEditor(args)\n//扩展范围，扩大外部点击结束编辑的排除范围\ngetExpandRange()\n//默认焦点\ndefaultFocusObj(eTop)\n//设置选中性\nsetSelection(eInput)\n//是否是弹出式编辑器\nisPopup\n//编辑器挂载后，此时编辑器才真正挂到单元格上\nafterGuiAttached(eTop)\n//开始编辑前的取消编辑\nisCancelBeforeStart(superCancel)\n//编辑结束后的取消编辑\nisCancelAfterEnd(superCancel)\n//值value变更比较方法\ncompareValue(a,b)\n//数据销毁方法\ndestroy()\n*/\nvar KEY_BACKSPACE = 8;\nvar KEY_DELETE = 46;\nvar KEY_F2 = 113;\nvar _handleClick = Symbol('_handleClick');\nvar _eventListener = Symbol('_eventListener');\nfunction readOnly(obj, propNames) {\n  propNames.forEach(function (propName) {\n    return Object.defineProperty(obj, propName, {\n      writable: false\n    });\n  });\n}\nvar AlphaFactory = function AlphaFactory(CellEditor) {\n  return /*#__PURE__*/function (_React$Component) {\n    _inherits(GridCellEditor, _React$Component);\n    // forbid override!!!\n    function GridCellEditor(props) {\n      var _props$colDef$cellRen;\n      var _this;\n      _classCallCheck(this, GridCellEditor);\n      _this = _callSuper(this, GridCellEditor, [props]);\n      _this.onKeyDown = function () {};\n      _this.onClick = function () {};\n      _this.onDoubleClick = function () {};\n      // 设置参数\n      _this.setContainerData = function (propName, value) {\n        _this.dataContainer[propName] = value;\n      };\n      // 获取参数\n      _this.getContainerData = function (propName) {\n        if (propName) return _this.dataContainer[propName];\n        return _this.dataContainer;\n      };\n      _this.getNewValue = function () {\n        return _this.newValue;\n      };\n      _this.getOldValue = function () {\n        return _this.state.oldValue;\n      };\n      _this.updateFlexFieldParentValue = function () {\n        var parentColumn = _this.props.column.getParent();\n        if (parentColumn) {\n          var _parentColumn$origina;\n          var parentColDef = (_parentColumn$origina = parentColumn.originalColumnGroup) === null || _parentColumn$origina === void 0 ? void 0 : _parentColumn$origina.colGroupDef;\n          if (parentColDef) {\n            var colType = parentColDef.colType,\n              field = parentColDef.field;\n            if (colType === _serverproperties.Ctrls.KDFlexField) {\n              var originFlexFieldValue = (0, _GridUtils.getCellValue)(_this.props.data, field) || [];\n              // 修改弹性域分组列的字段时，修改结果同步回弹性域字段\n              var newFlexFieldValue = originFlexFieldValue.map(function (valueItem) {\n                return _objectSpread(_objectSpread({}, valueItem), {}, {\n                  v: valueItem.k === _this.props.column.colId ? _this.newValue : valueItem.v\n                });\n              });\n              var node = _this.props.api.getDisplayedRowAtIndex(_this.props.rowIndex);\n              if (node) {\n                // node.setDataValue 只能修改普通列的值，不可以修改分组列的值，这里改为调用用setData修改整个data\n                node && node.setData(_objectSpread(_objectSpread({}, _this.props.data), {}, _defineProperty({}, field, newFlexFieldValue)));\n              }\n            }\n          }\n        }\n      };\n      _this[_handleClick] = function (e) {\n        // 合并单元格事件都不停止编辑。而由编辑器自己来结束。\n        if (_this.props.isCombined) return;\n        // 编辑器内部的点击都不停止编辑\n        var expandRange = null;\n        if (CellEditor.getExpandRange) {\n          expandRange = CellEditor.getExpandRange();\n        }\n        if (expandRange === true) return; // 所有页面点击都不中止编辑\n        var cellContainer = _reactDom[\"default\"].findDOMNode(_assertThisInitialized(_this));\n        // 下面特殊处理密码类型输入框，解决浏览器自动填充的问题\n        if (_this.props.type === 'passwordbox' && cellContainer.parentNode.childNodes.length > 1) {\n          cellContainer = Array.from(cellContainer.parentNode.childNodes).pop();\n        }\n        var skip = false;\n        var element = e.target;\n        while (element) {\n          if (element === cellContainer || expandRange && element === expandRange) {\n            return;\n          }\n          if (element === _this.props.getGridContainer()) break;\n          if (element.className === 'ag-menu') {\n            skip = true;\n            break;\n          }\n          element = element.parentNode;\n        }\n        //* *******************在重新渲染表格前，处于编辑态的表格一定要先停止编辑，否则会使该单元格的点击编辑一次性失效\n        if (!skip) {\n          var activeElement = document.activeElement;\n          _this.props.stopEditing(); // 会把焦点设回单元格\n          _this.props.api.clearFocusedCell();\n          _this.props.api.clearRangeSelection();\n          if (getElementEditable(activeElement)) {\n            var _activeElement$focus;\n            (_activeElement$focus = activeElement.focus) === null || _activeElement$focus === void 0 || _activeElement$focus.call(activeElement); // 把焦点设回到点击之前的dom\n          }\n        }\n      };\n      _this.publishChangedValue = function (value) {\n        var stop = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n        var newState = Object.assign({}, _this.state, {\n          value: value\n        });\n        _this.newValue = value;\n        if (!stop) {\n          if (!_this.unmounted) {\n            _this.setState(newState);\n            (0, _memoryCacher.setGridEditedStatusCell)(_this.props.pid, _this.props.gridId, _this.props.rowIndex, _this.props.column.colId);\n          }\n        } else {\n          _this.props.stopEditing();\n        }\n      };\n      _this.updateState = function (stateObj, callback) {\n        if (_this.unmounted) return;\n        _this.setState(Object.assign({}, _this.state, stateObj), callback);\n      };\n      _this.getState = function () {\n        if (_this.unmounted) return;\n        return _this.state;\n      };\n      // 设置取消输入标志\n      _this.setCancelMark = function (cancel) {\n        if (typeof cancel !== 'boolean') {\n          if (cancel === 'true') cancel = true;else if (cancel === 'false') cancel = false;\n        } else {\n          _this._cancelEdit = cancel;\n        }\n      };\n      // 取消输入\n      _this.stopEditing = function (cancel) {\n        _this.setCancelMark(cancel);\n        _this.props.stopEditing();\n      };\n      _this.onQSKeyDown = function (event, arrowJump) {\n        var _event$target;\n        // if (event.shiftKey && event.keyCode === KEYS.TAB) { // tab键\n        //   // 发给外部\n        //   return\n        // }\n        // 如果焦点在基础资料上，且其设置enter才触发模糊查询，就不往下执行\n        if (event.keyCode === _keyCode.KEYS.ENTER && String((_event$target = event.target) === null || _event$target === void 0 || (_event$target = _event$target.dataset) === null || _event$target === void 0 ? void 0 : _event$target.baseDataEnterToQuery) === 'true') return;\n        if ([_keyCode.KEYS.LEFT, _keyCode.KEYS.RIGHT].indexOf(event.keyCode) >= 0) {\n          var _event$target$value;\n          // 左右键 && 光标\n          var curIndex = (0, _keyCodeTool.getCursorPosition)(event.target);\n          var noInput = event.target.value === undefined || arrowJump; // 值为空是城市控件的特殊判断\n          if (event.keyCode === _keyCode.KEYS.LEFT && (curIndex === 0 || noInput)) {\n            event.shiftKey = true;\n            event.keyCode = _keyCode.KEYS.TAB;\n          }\n          if (event.keyCode === _keyCode.KEYS.RIGHT && (curIndex === ((_event$target$value = event.target.value) === null || _event$target$value === void 0 ? void 0 : _event$target$value.length) || noInput)) {\n            event.shiftKey = false;\n            event.keyCode = _keyCode.KEYS.TAB;\n          }\n        }\n        // up down 回车 tab\n        if ([_keyCode.KEYS.UP, _keyCode.KEYS.DOWN, _keyCode.KEYS.ENTER, _keyCode.KEYS.TAB].indexOf(event.keyCode) >= 0) {\n          _this.keyEvent = [event.keyCode];\n          if (_this.props.gridContrlParams.enterToNextRow && event.keyCode === _keyCode.KEYS.ENTER) {\n            _this.keyEvent = event.shiftKey ? [_keyCode.KEYS.UP] : [_keyCode.KEYS.DOWN];\n          }\n          _this.keyEvent = event.shiftKey ? _this.keyEvent.concat(_keyCode.KEYS.SHIFT) : _this.keyEvent;\n          if ((0, _keyCodeTool.isCtrlKey)(event)) {\n            _this.keyEvent.push(_keyCode.KEYS.CTRL);\n          }\n          // if (event.altKey) {\n          //     this.keyEvent.push(18);\n          // }\n          // 屏蔽 alt+up alt+down\n          if (event.altKey && [_keyCode.KEYS.UP, _keyCode.KEYS.DOWN].indexOf(event.keyCode) >= 0) {\n            _this.keyEvent = [];\n          }\n          _this.props.stopEditing();\n          event.preventDefault && event.preventDefault();\n          event.stopPropagation && event.stopPropagation();\n        }\n      };\n      _this.handleValidateTipsReady = function (callback) {\n        // 编辑器已经挂载，直接执行\n        if (_this.guiAttached) {\n          callback();\n        } else {\n          // 等编辑器挂载直接执行\n          _this.validateReadyCallback = callback;\n        }\n      };\n      _this[_eventListener] = function (e) {\n        e.stopPropagation(); // 否则会触发第二次编辑\n        var model = {\n          pageId: _this.props.pid,\n          entryKey: _this.props.gridId,\n          key: _this.props.column.colId\n        };\n        console.log('btn clicked.');\n        _this.props.btnClick(model);\n        _this._cancelEdit = true;\n        // this.params.onKeyDown({keyCode:13})\n        _this.props.stopEditing();\n      };\n      /**\n       * memoryCacher中保存进入编辑态的单元格信息\n       */\n      _this.recordEditingCell = function () {\n        var added = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n        var _this$props = _this.props,\n          pid = _this$props.pid,\n          gridId = _this$props.gridId,\n          column = _this$props.column,\n          rk = _this$props.rk,\n          node = _this$props.node;\n        var rowKey = node.data[rk];\n        var model = {\n          pageId: pid,\n          key: gridId\n        };\n        if (added) {\n          (0, _memoryCacher.setGridEditingCell)(model, {\n            colId: column.colId,\n            rowKey: rowKey\n          });\n        } else {\n          (0, _memoryCacher.clearGridEditingCell)(model);\n        }\n      };\n      _this.getEditingCell = function () {\n        var _this$props2 = _this.props,\n          pid = _this$props2.pid,\n          gridId = _this$props2.gridId;\n        var model = {\n          pageId: pid,\n          key: gridId\n        };\n        return (0, _memoryCacher.getGridEditingCell)(model);\n      };\n      _this.dataContainer = {};\n      _this.eventService = {\n        onKeyDown: _this.onKeyDown.bind(_assertThisInitialized(_this)),\n        onClick: _this.onClick.bind(_assertThisInitialized(_this)),\n        onDoubleClick: _this.onDoubleClick.bind(_assertThisInitialized(_this))\n      };\n      // Object.keys(k)\n      _this.handoverApi = {\n        props: props,\n        publishChangedValue: _this.publishChangedValue,\n        onQSKeyDown: _this.onQSKeyDown,\n        stopEditing: _this.stopEditing,\n        setContainerData: _this.setContainerData,\n        getContainerData: _this.getContainerData,\n        setCancelMark: _this.setCancelMark,\n        getNewValue: _this.getNewValue,\n        getOldValue: _this.getOldValue,\n        updateState: _this.updateState,\n        getState: _this.getState\n      };\n      readOnly(_this.handoverApi, Object.keys(_this.handoverApi));\n      _this._locked = _this.props.isCellLocked(props.pid, props.gridId, props.node.data[props.rk], props.column.colId, props.isPrivacy, (_props$colDef$cellRen = props.colDef.cellRendererParams) === null || _props$colDef$cellRen === void 0 ? void 0 : _props$colDef$cellRen.realEditable);\n      if (CellEditor.onInitial) {\n        CellEditor.onInitial(_this.handoverApi);\n      }\n      _this.state = _this.createInitialState(props);\n      _this.guiAttached = false;\n      _this.validateReadyCallback = null;\n      return _this;\n    }\n    _createClass(GridCellEditor, [{\n      key: \"createInitialState\",\n      value:\n      // forbid override!!!\n      function createInitialState(props) {\n        this._cancelEdit = true;\n        var startValue;\n        var putCursorAtEndOnFocus = false;\n        var highlightAllOnFocus = false;\n        var initValue = props.gridContrlParams.isListView ? (0, _GridUtils.getCellOriginalValue)(props.value, props.isuf, props.type) : props.value;\n        if (props.keyPress === KEY_BACKSPACE || props.keyPress === KEY_DELETE) {\n          startValue = '';\n        } else if (props.charPress) {\n          // 字符也作为初始编辑，如果作为值，有诸多不便//props.charPress;\n          // startValue = props.value;\n          startValue = props.charPress;\n        } else {\n          startValue = initValue;\n          if (props.keyPress === KEY_F2) {\n            this.putCursorAtEndOnFocus = true;\n          } else {\n            this.highlightAllOnFocus = true;\n          }\n        }\n\n        // if(CellEditor.onCellKeyDown) props.onKeyDown('f2');伪装，告诉grid按了哪个键\n        var oldValue = null;\n        if (this.props.isCombined) {\n          oldValue = this.decorateStartValue({\n            startValue: startValue,\n            props: this.props\n          });\n        } else {\n          oldValue = initValue == null ? this.defaultValue(this.props) : initValue;\n        }\n        var newValue = this.decorateStartValue({\n          startValue: startValue,\n          props: this.props\n        });\n        if (newValue == null) newValue = this.defaultValue(this.props);\n        this.newValue = newValue;\n        return {\n          value: newValue,\n          oldValue: oldValue,\n          putCursorAtEndOnFocus: putCursorAtEndOnFocus,\n          highlightAllOnFocus: highlightAllOnFocus\n        };\n      }\n\n      // 单元格默认值\n    }, {\n      key: \"defaultValue\",\n      value: function defaultValue(props) {\n        if (CellEditor.defaultValue) {\n          return CellEditor.defaultValue(props);\n        }\n        return null;\n      }\n\n      // 修饰初始值\n    }, {\n      key: \"decorateStartValue\",\n      value: function decorateStartValue(args) {\n        if (CellEditor.decorateStartValue) {\n          return CellEditor.decorateStartValue(args);\n        }\n        return args.startValue;\n      }\n    }, {\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        var props = this.props;\n        if (props.keyPress === 13 || this.props.node.rowPinned) {\n          // this[_cancelAndFocusNext]=true;\n          // return {};不能return ,因为会先走render，再走cancelbefore\n        } else {\n          // 要改到进入的时候就触发，因为单据头字段是失去焦点时才发到后台，可能使单元格锁定延迟。。。。也有问题，再考虑吧\n          var fc = props.api.getFocusedCell();\n          if (fc && !(fc.rowIndex === props.node.rowIndex && fc.column.colId === props.column.colId)) {\n            props.api.setFocusedCell(props.node.rowIndex, props.column.colId, null);\n          }\n          var selectedNodes = props.api.getSelectedNodes();\n          if (selectedNodes.length !== 1 || selectedNodes[0].rowIndex !== props.node.rowIndex) {\n            if (!props.gridContrlParams.suppressEntryRowClickSelect && !props.gridContrlParams.isListView) {\n              props.node.setSelected(true, true);\n            }\n          }\n        }\n        document.body.addEventListener('click', this[_handleClick], true); // 必须绑定在捕获期\n      }\n\n      // destroy\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        var _this2 = this;\n        this.unmounted = true;\n        // TODO:加垃圾清理\n        CellEditor.destroy && CellEditor.destroy();\n        document.body.removeEventListener('click', this[_handleClick], true);\n        // 编辑单元格指令设置值的时候，手动先退出编辑态，而且不发值更新到后端 ！！！\n        var editingCell = this.getEditingCell();\n        var trigger = editingCell && editingCell.get('trigger');\n        // 要在cellEditor.destroy()后才更新store,否则会引起cellEditor提前卸载导致aggrid内部中断\n        if (this._cancelEdit !== true && this.commonOperation && trigger !== false) {\n          var rk = this.props.rk;\n          var rv = this.props.node.data === undefined ? -1 : this.props.node.data[rk];\n          var colId = this.props.colDef.field;\n          var model = {\n            pageId: this.props.pid,\n            key: this.props.gridId,\n            fireUpdEvt: this.props.fireUpdEvt,\n            dataDesc: this.props.dataDesc\n          };\n          var value = [];\n          if (this.props.isCombined) {\n            var combinedV = this.newValue;\n            for (var kii in combinedV) {\n              var vit = {\n                k: colId,\n                r: rv,\n                v: combinedV[kii]\n              };\n              value.push(vit);\n            }\n          } else if (this.props.type === 'daterange') {\n            if (this.newValue && this.newValue.trim() === ',') this.newValue = '';\n            value.push({\n              k: colId,\n              r: rv,\n              v: this.newValue\n            });\n          } else if (this.props.type === 'timerange') {\n            value.push({\n              k: colId,\n              r: rv,\n              v: this.newValue.replace(/\\s/g, '')\n            });\n          } else if (this.props.type === 'date' || this.props.type === 'datetime') {\n            var dataFormat = this.props.type === 'date' ? 'YYYY-MM-DD' : 'YYYY-MM-DD HH:mm:ss';\n            var validateDate = function validateDate(value, format) {\n              return (0, _moment[\"default\"])(value, format, true).isValid();\n            };\n            if (this.newValue === '' || !validateDate(this.newValue, dataFormat)) {\n              value.push({\n                k: colId,\n                r: rv,\n                v: null\n              });\n            } else {\n              value.push({\n                k: colId,\n                r: rv,\n                v: this.newValue\n              });\n            }\n          } else if (this.props.type === 'number') {\n            /** BT-00123546 -start\n             * 表格专门处理数字小数点结尾去掉小数点\n             * 重现步骤\n             * 1、招标立项-招标方案-在线评标-分值标准选择权重制\n               2、输入1，此时显示100%\n               3、输入1.5后，鼠标挪开，则显示为1.模式\n               4、全选，输入1，,无法显示100%（只能使用删除按键，删除内容后，再输入1才显示100%）\n             * 业务负责人-杨召\\\n             * 交互负责人-张俊夫\n             * 前端负责人-文桥\n             */\n            if (this.newValue && this.newValue.slice && this.newValue.slice(this.newValue.length - 1) === '.') {\n              this.newValue = this.newValue.slice(0, this.newValue.length - 1);\n            }\n            value.push({\n              k: colId,\n              r: rv,\n              v: this.newValue\n            });\n            /* BT-00123546 -end */\n          } else if (this.props.type === 'text') {\n            var newVal = this.newValue;\n            var encodeKeys = (0, _memoryCacher.getPageData)(model.pageId, [model.key, _const.ENCODE_KEYS]);\n            if ((encodeKeys === null || encodeKeys === void 0 ? void 0 : encodeKeys.indexOf(colId)) > 1) {\n              newVal = (0, _index.encodeValWithPrefix)(newVal);\n            } else if (this.props.colDef.encode) {\n              newVal = (0, _crypto.getEncodeValWithPrefix)(newVal);\n            }\n            if (this.props.editor && this.props.editor.tfmt) {\n              var formatter = new _textUtil.TextFormatter(this.props.editor.tfmt);\n              newVal = formatter.getNormalValue(newVal);\n            }\n            value.push({\n              k: colId,\n              r: rv,\n              v: newVal\n            });\n          } else {\n            value.push({\n              k: colId,\n              r: rv,\n              v: this.newValue\n            });\n          }\n\n          // 列表行编辑走控件服务\n          if (this.props.gridContrlParams.isListView) {\n            var mergeModel = this.props.getMergeModel();\n            var primaryKeys = (0, _params.getRecordPrimaryKeys)(this.props.node.data || {}, this.props.getGridMetaProperty('entryentities'));\n            this.props.invokeCellChangeImmediately(model, value.map(function (item) {\n              item.pks = primaryKeys;\n              if (mergeModel) {\n                var currentGroup = mergeModel.getCurrentEntityGroup(item.r, _this2.props.entity);\n                if (currentGroup.length > 1) {\n                  item.range = [currentGroup[0], currentGroup[currentGroup.length - 1]];\n                }\n              }\n              return item;\n            }));\n          } else {\n            // 下拉类型会在选择的时候发送值更新请求\n            if (this.props.type !== _serverproperties.Ctrls.KDSelect) {\n              var isPasswordbox = this.props.type === 'passwordbox';\n              model.isPasswordbox = isPasswordbox;\n              this.props.onCellChange(model, value);\n            }\n          }\n        }\n        if (this.keyEvent) {\n          setTimeout(function () {\n            _this2.props.gridKeyDown({\n              altKey: _this2.keyEvent.indexOf(_keyCode.KEYS.ALT) >= 0,\n              ctrlKey: _this2.keyEvent.indexOf(_keyCode.KEYS.CTRL) >= 0,\n              shiftKey: _this2.keyEvent.indexOf(_keyCode.KEYS.SHIFT) >= 0,\n              keyCode: _this2.keyEvent[0]\n            });\n          }, 0);\n        }\n\n        // 只针对文本列和数值列修改\n        if (this.props.type === _serverproperties.Ctrls.KDText || this.props.type === _serverproperties.Ctrls.KDNumber) {\n          this.updateFlexFieldParentValue();\n        }\n        this.recordEditingCell(false);\n        this.validateReadyCallback = null;\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this3 = this;\n        if (this.props.keyPress === 13 || this.props.node.rowPinned || this._locked) {\n          // 阻断Enter键编辑//浮动行禁止编辑\n          return null;\n        }\n        if (!CellEditor.getEditor) {\n          throw new Error('必须实现getEditor方法！');\n        }\n        var args = {\n          // onEditorValueChanged: this.onEditorValueChanged,\n          publishChangedValue: this.publishChangedValue,\n          props: this.props,\n          value: this.newValue,\n          // this.state.value,\n          state: this.state\n        };\n        // 这种方式可以取得组件内方法\n        // let eParentElement = document.createElement('div');\n        // let ReactComponent = React.createElement(AReactComponent);\n        // let componentRef = ReactDOM.render(ReactComponent, eParentElement);\n        // console.log(componentRef,componentRef.funcA);\n\n        var aEditor = CellEditor.getEditor(args);\n        var btnStyle = {\n          backgroundColor: '#fff',\n          top: 0,\n          width: '24px'\n        };\n        // className={styles['editorBtn']}\n        if (this.props.showEditButton) {\n          var fontClass = this.props.editButtonFontClass || 'kdfont kdfont-zidingyi';\n          return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n            className: _CellClass[\"default\"].alphaFactory_Editor,\n            onKeyDown: function onKeyDown(e) {\n              return _this3.onQSKeyDown(e);\n            }\n          }, aEditor, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n            className: \"\".concat(_CellClass[\"default\"]['cell-suffix-editor'], \" \").concat(fontClass, \" kd-hover-color\"),\n            style: btnStyle,\n            onClick: function onClick(e) {\n              return _this3[_eventListener](e);\n            }\n          }));\n        } else {\n          var _this$props3 = this.props,\n            rk = _this$props3.rk,\n            node = _this$props3.node;\n          var rowKey = node.data[rk];\n          return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n            onKeyDown: function onKeyDown(e) {\n              return _this3.onQSKeyDown(e);\n            },\n            style: {\n              display: 'flex',\n              width: '100%',\n              height: '100%'\n            }\n          }, aEditor, /*#__PURE__*/_react[\"default\"].createElement(_GridValidator.ValidateMessageTips, _extends({}, this.props, {\n            value: this.state.value,\n            rowKey: rowKey,\n            containter: this.props.reactContainer,\n            onValidate: function onValidate(res) {\n              res.success ? _this3.props.reactContainer.classList.remove('error-color-border') // 校验通过删除\n              : !_this3.props.reactContainer.classList.contains('error-color-border') && _this3.props.reactContainer.classList.add('error-color-border') // 校验不通过设置红色边框\n              ;\n            },\n            onReady: this.handleValidateTipsReady\n          })));\n        }\n      }\n    }, {\n      key: \"getValue\",\n      value:\n      //* ******************getValue**********************\n      function getValue() {\n        console.log('getvalue');\n        var newValue = this.newValue; // this.state.value;\n        var isCombined = this.props.isCombined;\n        if (isCombined && CellEditor.reCalcCombinedValue) {\n          newValue = CellEditor.reCalcCombinedValue(this.state.oldValue, newValue);\n        }\n        return newValue;\n      }\n\n      //* ******************afterGuiAttached**********************\n      // 这个方法时才真正将dom挂到单元格上\n    }, {\n      key: \"afterGuiAttached\",\n      value: function afterGuiAttached() {\n        this.guiAttached = true;\n        if (this.validateReadyCallback) {\n          this.validateReadyCallback();\n          this.validateReadyCallback = null;\n        }\n        var eTop = _reactDom[\"default\"].findDOMNode(this);\n        eTop.parentElement.style.width = '100%';\n        if (CellEditor.afterGuiAttached) {\n          CellEditor.afterGuiAttached(eTop);\n        }\n        // 记录进入编辑态的单元格信息\n        this.recordEditingCell();\n        if (!CellEditor.isPopup || !CellEditor.isPopup()) {\n          eTop.parentElement.style.height = '100%'; // 弹出式应该在渲染时给固定大小，这样可以自适应窗口位置\n        } else {\n          eTop.style.cssText += \";width: \".concat(this.props.column.actualWidth - 2, \"px;height: \").concat(this.props.node.rowHeight - 2, \"px;\"); // '100%';  node.rowHeight是渲染出来的真实高度\n        }\n        var expectContainerHeight = this.props.eGridCell.getAttribute('data-container-height');\n        if (expectContainerHeight) {\n          eTop.parentElement.style.height = expectContainerHeight + 'px';\n        }\n        var eInput = this.refs.defFcsFld;\n        if (CellEditor.defaultFocusObj) {\n          // React.Children.map(children, (child,index)=>{})?\n          eInput = CellEditor.defaultFocusObj(eTop);\n        } else {\n          if (eTop.tagName.toLowerCase() === 'input') {\n            // 下面特殊处理密码类型输入框，解决浏览器自动填充的问题\n            if (this.props.type === 'passwordbox' && eTop.parentNode.childNodes.length > 1) {\n              eInput = Array.from(eTop.parentNode.childNodes).pop();\n            } else {\n              eInput = eTop;\n            }\n          } else {\n            var iN = eTop.getElementsByTagName('input');\n            if (iN.length > 0) {\n              eInput = iN[0];\n            }\n          }\n        }\n        eInput && eInput.focus && eInput.focus();\n        if (CellEditor.setSelection) {\n          // 这部分逻辑还要再改\n          CellEditor.setSelection(eInput || eTop);\n        } else if (eInput) {\n          if (this.highlightAllOnFocus) {\n            eInput.select && eInput.select();\n          } else {\n            var length = eInput.value ? eInput.value.length : 0;\n            if (length > 0) {\n              eInput.setSelectionRange(length, length);\n            }\n          }\n        }\n      }\n    }, {\n      key: \"isPopup\",\n      value:\n      //* ******************isPopup**********************\n      function isPopup() {\n        if (CellEditor.isPopup) {\n          return CellEditor.isPopup();\n        }\n        return false;\n      }\n\n      //* ******************isCancelBeforeStart**********************\n    }, {\n      key: \"isCancelBeforeStart\",\n      value: function isCancelBeforeStart() {\n        if (this.props.keyPress === 13 || this.props.node.rowPinned) {\n          // 阻断Enter键编辑//浮动行禁止编辑\n          this._cancelEdit = true;\n          return this._cancelEdit;\n        }\n        // 单据体同一行内进入编辑时不会触发行点击事件，手动触发一下。\n        !this.props.gridContrlParams.isListView && this.props.invokeRowSelection(this.props.node);\n        this._cancelEdit = false; // 此处置为false是个关键点！！！\n        var _locked = this._locked;\n        this._cancelEdit = _locked;\n        if (CellEditor.isCancelBeforeStart) {\n          var judge = CellEditor.isCancelBeforeStart(this._cancelEdit);\n          if (judge === true || judge === false) {\n            this._cancelEdit = judge;\n          }\n        }\n        if (!this._cancelEdit) {\n          // 如果存在editor 使用内部事件\n          // $(this.props.eGridCell).off('keydown');\n          this.props.eGridCell.onQSKeyDown && this.props.eGridCell.removeEventListener('keydown', this.props.eGridCell.onQSKeyDown, true);\n          this.props.eGridCell.onQSKeyDown = null;\n          this.props.setGridThisProp(_gridConst.LAST_EDIT_CELL, {\n            rowIndex: this.props.node.rowIndex,\n            rowKey: this.props.node.data[this.props.rk],\n            colId: this.props.column.colId\n          });\n        }\n        return this._cancelEdit;\n      }\n\n      //* ******************isCancelAfterEnd**********************\n      // 在编辑时，外部调用stopEditing都会进入end流程\n    }, {\n      key: \"isCancelAfterEnd\",\n      value: function isCancelAfterEnd() {\n        var isCancelAE = false;\n        if (this._cancelEdit) isCancelAE = true;\n        var isValChange = this.compareValue(this.state.oldValue, this.newValue);\n        if (isValChange) {\n          isCancelAE = true;\n        }\n        if (CellEditor.isCancelAfterEnd) {\n          var judge = CellEditor.isCancelAfterEnd(isCancelAE, isValChange);\n          if (judge === true || judge === false) {\n            isCancelAE = judge;\n          }\n        }\n        // 记录最后一次编辑的单元格\n        this.props.setGridThisProp(_gridConst.LAST_EDIT_CELL, {\n          rowIndex: this.props.node.rowIndex,\n          rowKey: this.props.node.data[this.props.rk],\n          colId: this.props.column.colId\n        });\n        this._cancelEdit = isCancelAE;\n        this.commonOperation = true; // 在编辑态如果是外部直接redraw,不会走这个方法，而是直接进willunmount,要用这个来标识是正常关闭\n        // 列表 UI不实时更新值，仅传值到后端， 由后端更新\n        return isCancelAE || this.props.gridContrlParams.isListView;\n      }\n    }, {\n      key: \"compareValue\",\n      value: function compareValue(a, b) {\n        if (CellEditor.compareValue) {\n          return CellEditor.compareValue(a, b);\n        }\n        return a === b;\n      }\n    }]);\n    return GridCellEditor;\n  }(_react[\"default\"].Component);\n};\nvar _default = exports[\"default\"] = AlphaFactory;\nvar getElementEditable = function getElementEditable(target) {\n  if (!target) return;\n  if (['input', 'textarea'].includes(target.tagName.toLowerCase())) {\n    return !target.disabled && !target.readOnly;\n  }\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/CellEditor/AlphaFactory.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/CellEditor/BDCellEditor.js":
/*!**************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/CellEditor/BDCellEditor.js ***!
  \**************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = exports.basedataEditor = void 0;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.find.js */ \"../../node_modules/core-js/modules/es.array.find.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _classnames = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _AlphaFactory = _interopRequireDefault(__webpack_require__(/*! ./AlphaFactory.js */ \"./src/component/web/DataGrid/AgDataGrid/CellEditor/AlphaFactory.js\"));\nvar _BaseData = _interopRequireDefault(__webpack_require__(/*! ../../../base/BaseData */ \"./src/component/web/base/BaseData/index.js\"));\nvar _serverproperties = __webpack_require__(/*! ../../../../../constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _componentutil = __webpack_require__(/*! ../../../../../util/componentutil */ \"./src/util/componentutil.js\");\nvar _baseDataUtil = __webpack_require__(/*! ../../../../../util/baseDataUtil */ \"./src/util/baseDataUtil.js\");\nvar _const = __webpack_require__(/*! @/constant/const */ \"./src/constant/const.js\");\nvar _memoryCacher = __webpack_require__(/*! @/model/memoryCacher */ \"./src/model/memoryCacher.js\");\nvar _keyCode = __webpack_require__(/*! @/constant/keyCode */ \"./src/constant/keyCode.js\");\nvar _waitGetLookUpListUtil = _interopRequireWildcard(__webpack_require__(/*! @/util/waitGetLookUpListUtil.js */ \"./src/util/waitGetLookUpListUtil.js\"));\nvar _pageConfigAction = __webpack_require__(/*! @/constant/pageConfigAction */ \"./src/constant/pageConfigAction.js\");\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); } /*\n  单据体F7组件(编辑器)封装\n  特殊场景说明：某个F7单元格有焦点，此时点击其他单元格，不会触发F7单元格的onBlur事件。但是点击单据体以外地方可以触发。\n*/ // import { Ctrls } from '../../../../../constant/serverproperties'\n// import { convertLookupInfo } from '../GridUtils.js'\nvar BasedataEditor = exports.basedataEditor = /*#__PURE__*/function () {\n  function BasedataEditor() {\n    var _this = this;\n    _classCallCheck(this, BasedataEditor);\n    this.setEnterToQuery = function (arg) {\n      var _arg$bdList;\n      var editor = _this.cellApi.props.editor;\n      var entityId = editor && editor[_serverproperties.BaseEntityId];\n      _this.enterToQuery = arg.range === 'all' || ((_arg$bdList = arg.bdList) === null || _arg$bdList === void 0 ? void 0 : _arg$bdList.includes(entityId));\n    };\n    this.handleUnauthorized = function (fieldConfig) {\n      if (fieldConfig.mulbasedata) {\n        var column = _this.cellApi.props.column;\n        var key = column.colId;\n        var _fieldConfig$mulbased = fieldConfig.mulbasedata.unauthorizedList,\n          unauthorizedList = _fieldConfig$mulbased === void 0 ? [] : _fieldConfig$mulbased;\n        if (unauthorizedList.includes(key)) {\n          _this.prohibitFuzzyQuery = true;\n        }\n      }\n    };\n    this.setLookupData = function (data) {\n      // this.lookupList=data||[];\n      // this.cellApi.updateState({lookupList: data});\n\n      _this.lookupList = data.dataList || [];\n      var oldState = _this.cellApi.getState();\n      var inited = oldState.inited;\n      _this.cellApi.updateState({\n        lookupList: data.dataList,\n        hasMore: data.next,\n        columns: inited ? oldState.columns : data.columns,\n        size: inited ? oldState.size : data.size || 5,\n        inited: true,\n        refreshId: (0, _componentutil.createNewId)()\n      });\n    };\n    this.setFilterFrequent = function (newlist) {\n      _this.cellApi.updateState({\n        filterFrequent: (0, _immutable.fromJS)(newlist),\n        filterFrequentRefreshId: (0, _componentutil.createNewId)()\n      });\n    };\n    this.handleKeyDown = function (e) {\n      if ([_keyCode.KEYS.UP, _keyCode.KEYS.DOWN].includes(e.keyCode)) {\n        _this.cellApi.onQSKeyDown(e);\n      }\n    };\n    this.setExpandDom = function (range) {\n      _this._child = range;\n    };\n    /**\n     * 这里的rk要缓存下来\n     * （下拉模式时点击其他基础资料类型单云格，新单元格的初始化会比弹窗关闭的回调先执行，导致直接取rk是不是当前单元格的值）\n     */\n    this.setItemByNumber = function (rk, value) {\n      return function (newValue) {\n        _this.isSetItemByNumber = true;\n        _this.onExactMatch(newValue, value, rk);\n      };\n    };\n    this.dbClick = function (e) {\n      e.stopPropagation();\n    };\n  }\n  _createClass(BasedataEditor, [{\n    key: \"onInitial\",\n    value: function onInitial(handoverApi) {\n      this.cellApi = handoverApi;\n      this.hold = false;\n      // 注册事件\n      var rkv = this.cellApi.props.node.data[this.cellApi.props.rk];\n      var _this$cellApi$props = this.cellApi.props,\n        pid = _this$cellApi$props.pid,\n        gridId = _this$cellApi$props.gridId,\n        column = _this$cellApi$props.column,\n        type = _this$cellApi$props.type;\n      var showFrequent = this.cellApi.props.editor && this.cellApi.props.editor[_serverproperties.F7_SHOW_FREQUENT];\n      this.removefrequentListener = showFrequent ? (0, _memoryCacher.addDataChangeListener)(pid, [column.colId, 'filterFrequent'], this.setFilterFrequent) : null;\n      this.removeLookUpListener = (0, _memoryCacher.addDataChangeListener)(pid, [\"\".concat(gridId, \"_\").concat(rkv, \"_\").concat(column.colId, \"_lookup\")], this.setLookupData);\n      this.debounceHandleBaseDataChange = _lodash[\"default\"].debounce(this.handleBaseDataChange.bind(this), 300); // 延迟xx毫秒触发搜索\n      this.isSetItemByNumber = false; // 组件是否调用过精确匹配(调用后组件就会释放)\n      this.enterToQuery = false; // 是否开启了enter才触发模糊搜索(调用后组件就会释放)\n      this.prohibitFuzzyQuery = false; // 是否禁用了模糊搜索(调用后组件就会释放)\n      var enterToQueryData = (0, _memoryCacher.getPageData)(pid, [_const.PAGE_CONFIG, _pageConfigAction.BD_ENTER_TO_QUERY]);\n      if (enterToQueryData) {\n        this.setEnterToQuery(enterToQueryData);\n      }\n      this.removeSetEnterToQueryListener = (0, _memoryCacher.addDataChangeListener)(pid, [_const.PAGE_CONFIG, _pageConfigAction.BD_ENTER_TO_QUERY], this.setEnterToQuery);\n      if (type === 'mulbasedata') {\n        var fieldConfig = (0, _memoryCacher.getPageData)(pid, [_const.PAGE_CONFIG, _serverproperties.Ctrls.KDGrid]);\n        fieldConfig && this.handleUnauthorized(fieldConfig);\n        this.removePageConfigListener = (0, _memoryCacher.addDataChangeListener)(pid, [_const.PAGE_CONFIG, _serverproperties.Ctrls.KDGrid], this.handleUnauthorized);\n      }\n    }\n  }, {\n    key: \"btnClick\",\n    value: function btnClick(e, props) {\n      this._isOpenF7 = true;\n      // alert(\"BDEditor btnClick 事件！\");\n      var model = {\n        pageId: props.pid,\n        entryKey: props.gridId,\n        key: props.column.colId\n      };\n      props.btnClick(model);\n      this.cellApi.stopEditing(false);\n    }\n  }, {\n    key: \"onF7\",\n    value: function onF7(e, props) {\n      if (e.key === 'F7') {\n        this._isOpenF7 = true;\n        // alert(\"BDEditor F7 事件！\");\n        var model = {\n          pageId: props.pid,\n          entryKey: props.gridId,\n          key: props.column.colId\n        };\n        props.btnClick(model);\n        this.cellApi.stopEditing(true);\n      }\n    }\n  }, {\n    key: \"defaultValue\",\n    value: function defaultValue() {\n      return ''; // [number,;name]\n    }\n  }, {\n    key: \"getExpandRange\",\n    value: function getExpandRange() {\n      // let isFlex = this.isShowFlex(this.cellApi.props);\n      // if(isFlex===true && this.hold) {\n      //     return true;//弹开了flex面板，永不由点击事件来关闭编辑器。可以由flex面板的关闭来解禁。\n      // }\n      return this._child;\n    }\n  }, {\n    key: \"getEditor\",\n    value:\n    // releaseHold=()=>{\n    //     this.hold=false;\n    // }\n    // addHold=()=>{\n    //     this.hold=true;\n    // }\n\n    // isShowFlex(props){\n    //     let isFlex=false;\n    //     let flexItemKey=props.editor.flexKey;\n    //     if(flexItemKey){//用指定flexItem列\n    //         let flexItemValue = props.node.data[flexItemKey];\n    //         let bdValue = props.value;\n    //         if(bdValue!=null && bdValue!=\"\" && flexItemValue!=null && Array.isArray(flexItemValue) && flexItemValue.length>0){\n    //             isFlex=true;//要弹出flex\n    //         }\n    //     }\n    //     return isFlex;\n    // }\n\n    function getEditor(args) {\n      var _this2 = this;\n      var value = args.value,\n        props = args.props,\n        state = args.state;\n      var _props$editor = props.editor,\n        editor = _props$editor === void 0 ? {} : _props$editor,\n        type = props.type;\n      this._value = value;\n      // let number = value\n      // let index = props[DISPLAY_PROP] == 'number' ? 0 : 1\n      // // index = 0; //编辑器永远取编码\n      // index = 2 // 格式:['number','name','editValue']\n      // let res = ''\n      // if (props.type == Ctrls.KDMulBaseData) {\n      //   if (Array.isArray(number)) {\n      //     for (let i = 0; i < number.length; i++) {\n      //       if (i == 0) {\n      //         res += Array.isArray(number[i]) ? number[i][index] : number[i] || ''\n      //       } else {\n      //         res += ',' + number[i][index]\n      //       }\n      //     }\n      //   } else {\n      //     res = number || ''\n      //   }\n      // } else {\n      //   res = Array.isArray(number) ? number[index] : number || ''\n      // }\n      var alias = '';\n      var _value = '';\n      var _editValue = '';\n      if (Array.isArray(value)) {\n        if (type === _serverproperties.Ctrls.KDMulBaseData) {\n          // 多选基础资料格式：[['number1'，'name1'],['number2'，'name2'],['number3'，'name3']]\n          // 多选基础资料格式：[['number1'，'name1','editValue1'],[number2'，'name2','editValue1'],['number3','name3','editValue1']] -20180626修改\n          if (value && value.length > 0) {\n            value.forEach(function (item, index) {\n              // _editValue += (index === 0 ? '' : ',') + item[2] // editvalue\n              _editValue += item[2] + _const.F7_DELIMITER; // 多选F7连续模糊自动输入逗号的优化\n              alias += (index === 0 ? '' : _const.F7_DELIMITER) + item[1]; // name\n              _value += (index === 0 ? '' : _const.F7_DELIMITER) + item[0]; // number\n            });\n          }\n        } else {\n          alias = value[1];\n          _value = value[0];\n          _editValue = value[2];\n        }\n      }\n      alias = (0, _baseDataUtil.getBaseDataDisplayProp)((0, _immutable.fromJS)(value), editor[_serverproperties.DISPLAY_PROP], type === _serverproperties.Ctrls.KDMulBaseData, editor[_serverproperties.CONNECTOR]);\n      var showAddBtnWhenNoData = props.editor && props.editor[_serverproperties.F7_QUICK_ADDNEW];\n      var openFuzzyQuery = props.editor && props.editor[_serverproperties.F7_OPEN_FUZZY_QUERY];\n      var entityId = props.editor && props.editor[_serverproperties.BaseEntityId];\n      var frequent = (0, _baseDataUtil.getBaseDataFrequent)(entityId, type);\n      var showFrequent = props.editor && props.editor[_serverproperties.F7_SHOW_FREQUENT];\n      var selectedItemStyle = props.editor && props.editor[_serverproperties.SELECTED_ITEM_STYLE];\n      var fontSize = props.colStyle && props.colStyle.fontSize;\n      var textAlign = props.colStyle && props.colStyle.textAlign;\n      var fontClass = props.editor && props.editor[_serverproperties.F7_FONT_CLASS];\n      var editStyle = props.editor && props.editor[_serverproperties.F7_EDIT_STYLE];\n      if (this.prohibitFuzzyQuery) {\n        editStyle = 1;\n      }\n      var rk = this.cellApi.props.node.data[this.cellApi.props.rk];\n      var editProp = props.editor && props.editor[_serverproperties.EDIT_PROP];\n      var editConnector = props.editor && props.editor[_serverproperties.EDIT_CONNECTOR];\n      var showViewDetailBtn = props.editor && props.editor[_serverproperties.F7_VIEW_DETAIL_BUTTON];\n      // test data\n      // showAddBtnWhenNoData = true;\n      // openFuzzyQuery = false;\n\n      return /*#__PURE__*/_react[\"default\"].createElement(_BaseData[\"default\"], {\n        ref: function ref(r) {\n          _this2.bdcell = r;\n        },\n        onKeyDown: this.handleKeyDown,\n        onClick: function onClick(e) {\n          return _this2.btnClick(e, props);\n        }\n        // onChange={e => this.handleValueChange(e)}\n        // alias={res || ''}\n        // value={res || ''}\n        ,\n        selectedData: value,\n        alias: alias || '',\n        value: _editValue || '',\n        code: _value || '',\n        disabled: false,\n        entityId: entityId,\n        placeholder: props.placeholder,\n        className: (0, _classnames[\"default\"])(props.styles['base-data'], _defineProperty({}, props.styles['multi-base-data'], type === _serverproperties.Ctrls.KDMulBaseData)),\n        theme: \"flat\"\n        // getPopupPanel={(ele) => this.setExpandDom(ele)}\n        // onExactMatch={(v)=>this.onExactMatch(v)}//调用时机由编辑器控制 (-20191125 改为BaseData组件内部处理)\n        ,\n        lookUpList: (0, _immutable.fromJS)(state.lookupList || []),\n        hasMore: state.hasMore,\n        columns: (0, _immutable.fromJS)(state.columns || []),\n        size: state.size,\n        inited: state.inited,\n        refreshId: state.refreshId,\n        filterFrequentRefreshId: state.filterFrequentRefreshId,\n        onBaseDataSelectItem: function onBaseDataSelectItem(baseDataKey) {\n          return _this2.onBaseDataSelectItem(baseDataKey);\n        },\n        onBaseDataChange: function onBaseDataChange(lookUpInof) {\n          return _this2.debounceHandleBaseDataChange(lookUpInof);\n        },\n        displayType: props.editor.dst,\n        inputStyle: {\n          fontSize: fontSize,\n          textAlign: textAlign\n        },\n        iconStyle: {\n          paddingRight: 5\n        },\n        getPopupPanel: function getPopupPanel(ele) {\n          return _this2.setExpandDom(ele);\n        },\n        showMoreClick: function showMoreClick(searchword) {\n          return _this2.showMoreClick(searchword);\n        },\n        showAddBtnWhenNoData: showAddBtnWhenNoData,\n        onClickAddBtn: function onClickAddBtn(searchword) {\n          return _this2.onClickAddBtn(searchword);\n        },\n        openFuzzyQuery: openFuzzyQuery,\n        frequent: frequent,\n        filterFrequent: state.filterFrequent,\n        onFilterFrequent: function onFilterFrequent(frequentData) {\n          return _this2.handleFilterFrequent(frequentData);\n        },\n        showFrequent: showFrequent,\n        fontClass: fontClass,\n        editStyle: editStyle,\n        isSupressChangeBreak: true,\n        type: type,\n        setItemByNumber: this.setItemByNumber(rk, value),\n        selectedItemStyle: selectedItemStyle,\n        labelStylePositionType: \"relative\",\n        noBorder: true,\n        contentAreaStyle: {\n          maxHeight: '100%'\n        },\n        editProp: editProp,\n        editConnector: editConnector,\n        enterToQuery: this.enterToQuery,\n        showViewDetailBtn: showViewDetailBtn\n      });\n    }\n  }, {\n    key: \"handleValueChange\",\n    value: function handleValueChange(value) {\n      // console.log(e);\n      // this._value = value\n      // this.cellApi.publishChangedValue(value, false)// 是否停止编辑：false\n    }\n\n    // 点击模糊查询界面'新增'按钮\n  }, {\n    key: \"onClickAddBtn\",\n    value: function onClickAddBtn(searchword) {\n      var prp = this.cellApi.props;\n      var model = {\n        pageId: prp.pid,\n        entryKey: prp.gridId,\n        key: prp.column.colId\n      };\n      var args = {};\n      args.searchword = searchword;\n      args.entryType = 1;\n      prp.invokeControlMethodOnly(model, 'quickAddNew', [args.searchword]);\n      this.cellApi.stopEditing(true);\n    }\n  }, {\n    key: \"showMoreClick\",\n    value: function showMoreClick(searchword) {\n      var prp = this.cellApi.props;\n      var model = {\n        pageId: prp.pid,\n        entryKey: prp.gridId,\n        key: prp.column.colId\n      };\n      var args = {};\n      args.searchword = searchword;\n      args.entryType = 1;\n      // prp.invokeControlMethodOnly(model, 'showMore', [[args.searchword,args.entryType]]);\n      prp.invokeControlMethodOnly(model, 'showMore', [args.searchword]);\n      this.cellApi.stopEditing(true);\n    }\n  }, {\n    key: \"onBaseDataSelectItem\",\n    value: function onBaseDataSelectItem(primaryKey) {\n      var prp = this.cellApi.props;\n      var model = {\n        pageId: prp.pid,\n        entryKey: prp.gridId,\n        key: prp.column.colId\n      };\n      var args = {};\n      args.id = primaryKey;\n      args.entryType = 1;\n      prp.invokeControlMethodOnly(model, 'setItemByIdFromClient', [[args.id, args.entryType]]);\n      this.cellApi.onQSKeyDown({\n        keyCode: _keyCode.KEYS.ENTER\n      });\n    }\n  }, {\n    key: \"handleBaseDataChange\",\n    value: function handleBaseDataChange(lookUpInfo) {\n      // let args = convertLookupInfo(lookUpInfo);\n      var args = lookUpInfo;\n      if (args) {\n        var prp = this.cellApi.props;\n        var model = {\n          pageId: prp.pid,\n          entryKey: prp.gridId,\n          key: prp.column.colId\n        };\n        var queryParams = [args.left, args.value, args.right, args.entryType, args.countStart, args.countEnd];\n        (0, _memoryCacher.setPageData)(prp.pid, [prp.gridId, prp.column.colId, _const.BASE_DATA_QUERY_PARAMS], queryParams);\n        prp.invokeControlMethodSingle(model, 'getLookUpList', [queryParams]); // 不知为何接口定义为数组形式。。。\n        var rkv = prp.node.data[this.cellApi.props.rk];\n        var pid = prp.pid,\n          gridId = prp.gridId,\n          column = prp.column;\n        // 更新f7模糊查询请求状态\n        (0, _waitGetLookUpListUtil.updateF7GetLookUpListStatus)(pid, \"\".concat(gridId, \"_\").concat(rkv, \"_\").concat(column.colId), true);\n      }\n    }\n\n    // 我的常用数据过滤\n  }, {\n    key: \"handleFilterFrequent\",\n    value: function handleFilterFrequent(frequentData) {\n      var prp = this.cellApi.props;\n      var model = {\n        pageId: prp.pid,\n        entryKey: prp.gridId,\n        key: prp.column.colId\n      };\n      prp.invokeControlMethodSingle(model, _const.FILTERFREQUENT, [frequentData]);\n    }\n  }, {\n    key: \"onExactMatch\",\n    value: function onExactMatch(e, value, rk) {\n      // 模糊查询有数据时，固定给第一项\n      /*         if(e!=\"\" && this.lookupList&&this.lookupList.length>=1){\n            e=this.lookupList[0][0];\n        } */\n      var props = this.cellApi.props;\n      var model = {\n        pageId: props.pid,\n        entryKey: props.gridId,\n        key: props.column.colId\n      };\n      if (rk != null) {\n        // todo:修复表格基础资料模糊搜索点合计行报错问题,这里后面需要改成 isCancelAfterEnd 去发模糊指令\n        // 表格这里自己走一套逻辑，所以这里特殊处理\n        var _props$editor2 = props.editor,\n          editor = _props$editor2 === void 0 ? {} : _props$editor2,\n          type = props.type;\n        var editProp = editor[_serverproperties.EDIT_PROP];\n        var editConnector = editor[_serverproperties.EDIT_CONNECTOR];\n        var data = (0, _immutable.fromJS)(value);\n        var newqueryStr = (0, _baseDataUtil.convertToCode)(e, data, editConnector, editProp, type);\n        var entityId = editor[_serverproperties.BaseEntityId];\n        var frequent = (0, _baseDataUtil.getBaseDataFrequent)(entityId, type); // [pkid, 编码, 名称]\n        // 编辑属性是名称时，并选择常用列表， 需要特殊处理，否则无法拿到编码信息\n        if (editProp === 'name' && type !== 'mulbasedata' && e !== '' && frequent) {\n          var isInModelData = _immutable.List.isList(data) && data.get(2) === e;\n          if (!isInModelData) {\n            var _frequent$find;\n            var selectFrequentValue = (_frequent$find = frequent.find(function (item) {\n              return (item === null || item === void 0 ? void 0 : item.get(2)) === e;\n            })) === null || _frequent$find === void 0 ? void 0 : _frequent$find.get(1);\n            if (selectFrequentValue) {\n              newqueryStr = selectFrequentValue;\n            }\n          }\n        }\n        var rkv = props.node.data[this.cellApi.props.rk];\n        var pid = props.pid,\n          gridId = props.gridId,\n          column = props.column;\n        var promise = (0, _waitGetLookUpListUtil[\"default\"])(pid, \"\".concat(gridId, \"_\").concat(rkv, \"_\").concat(column.colId));\n        promise.then(function () {\n          props.invokeControlMethodOnly(model, 'setItemByNumber', [newqueryStr, rk]); // 不与单据头BaseData走同一套action,后续较难维护\n          // 2022.08.11 说的一点没错，确实比较难维护\n        });\n      }\n    }\n  }, {\n    key: \"compareValue\",\n    value: function compareValue(a, b) {\n      if (_typeof(a) === _typeof(b)) {\n        if (_typeof(a) !== 'object') {\n          return a == b;\n        } else {\n          return a[0] == b[0];\n        }\n      } else {\n        return false;\n      }\n    }\n  }, {\n    key: \"isCancelAfterEnd\",\n    value: function isCancelAfterEnd(isCancelAE) {\n      // if (!isCancelAE) {\n      //   let nv = this.cellApi.getNewValue()\n      //   this.onExactMatch(nv) // 20191125 改为BaseData组件内部处理\n      // }\n      // if (!this.isSetItemByNumber && this._value === '' && this._value !== this.cellApi.getOldValue()) {\n      // this.onExactMatch(this._value)\n      // }\n      if (!this._isOpenF7 && !this.isSetItemByNumber && this.bdcell && this.bdcell.state.editValue !== this.bdcell.props.value) {\n        var rk = this.cellApi.props.node.data[this.cellApi.props.rk];\n        this.onExactMatch(this.bdcell.state.editValue, this._value, rk);\n      }\n      return true; // 手工录入只认服务端的值\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this$removeSetEnterT, _this$removePageConfi;\n      this._isOpenF7 = false;\n      // 注销事件\n      this.removeLookUpListener && this.removeLookUpListener();\n      this.removefrequentListener && this.removefrequentListener();\n      (_this$removeSetEnterT = this.removeSetEnterToQueryListener) === null || _this$removeSetEnterT === void 0 || _this$removeSetEnterT.call(this);\n      (_this$removePageConfi = this.removePageConfigListener) === null || _this$removePageConfi === void 0 || _this$removePageConfi.call(this);\n      // this.bdcell&&this.bdcell.removeEventListener('dblclick', this.dbClick)\n    }\n\n    // isPopup() {\n    //     return true;//以后要做下拉选项\n    // }\n  }]);\n  return BasedataEditor;\n}();\nvar BDCellEditor = exports[\"default\"] = (0, _AlphaFactory[\"default\"])(new BasedataEditor());\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/CellEditor/BDCellEditor.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/CellEditor/CascaderEditor.js":
/*!****************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/CellEditor/CascaderEditor.js ***!
  \****************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _serverproperties = __webpack_require__(/*! ../../../../../constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _AlphaFactory = _interopRequireDefault(__webpack_require__(/*! ./AlphaFactory.js */ \"./src/component/web/DataGrid/AgDataGrid/CellEditor/AlphaFactory.js\"));\nvar _Cascader = _interopRequireDefault(__webpack_require__(/*! ../../../base/Cascader.js */ \"./src/component/web/base/Cascader.js\"));\nvar _PanelWithOutside = _interopRequireDefault(__webpack_require__(/*! ../../../../common/PanelWithOutside */ \"./src/component/common/PanelWithOutside.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar ref = /*#__PURE__*/_react[\"default\"].createRef(null);\nvar CascaderEditorCore = /*#__PURE__*/function () {\n  function CascaderEditorCore() {\n    var _this = this;\n    _classCallCheck(this, CascaderEditorCore);\n    this.handleValueChange = function (value) {\n      _this.cellApi.publishChangedValue(value);\n    };\n    this.onCLickOutside = function (type) {\n      var activeDom = document.activeElement;\n      _this.cellApi.stopEditing();\n      var _ref = _this.cellApi && _this.cellApi.props,\n        api = _ref.api;\n      api.clearFocusedCell && api.clearFocusedCell();\n      api.clearFocusedCell && api.clearRangeSelection();\n      type === 'click' && activeDom.focus(); // stopEditing会改变焦点，这里将焦点设回点击处\n    };\n    /* 弹出的下拉框关闭会失去焦点，这时候要将焦点设回，不然不会执行onCLickOutside\n     * 级联字段点击自身关闭不会触发closeSelectPanelCb ，否则需要根据点击前后的activeDom判断是否重新设置焦点\n     */\n    this.closeSelectPanelCb = function () {\n      var refDom = ref && ref.current;\n      if (refDom && document.activeElement.tagName === 'BODY') {\n        refDom.focus && refDom.focus();\n      }\n    };\n  }\n  _createClass(CascaderEditorCore, [{\n    key: \"onInitial\",\n    value: function onInitial(handoverApi) {\n      this.cellApi = handoverApi;\n    }\n  }, {\n    key: \"getEditor\",\n    value: function getEditor(args) {\n      var value = args.value,\n        props = args.props;\n      var editor = props.editor,\n        editable = props.editable,\n        column = props.column,\n        getColProperty = props.getColProperty;\n      var val = value && value.split(',');\n      var dataOpts = getColProperty(column.colId, 'colCtrl');\n      var st = dataOpts.st || editor.st;\n      var items = (0, _immutable.fromJS)(st); // Cascader 需要不可变对象\n      var placeholder = editor && editor[_serverproperties.PLACE_HOLDER];\n      var changeOnSelect = editor && editor.changeOnSelect;\n      placeholder = props.getLangResult ? props.getLangResult(placeholder) : placeholder;\n      return /*#__PURE__*/_react[\"default\"].createElement(_PanelWithOutside[\"default\"], {\n        onCLickOutside: this.onCLickOutside,\n        style: {\n          width: '100%',\n          height: '100%',\n          display: 'flex',\n          flexDirection: 'column'\n        },\n        forwardRef: ref\n      }, /*#__PURE__*/_react[\"default\"].createElement(_Cascader[\"default\"]\n      // style={style}\n      , {\n        options: items,\n        required: editor && editor[_serverproperties.MUST_INPUT],\n        value: val,\n        onChange: this.handleValueChange,\n        disabled: editable === false,\n        placeholder: placeholder,\n        isImmeBackfill: changeOnSelect,\n        getLang: props.getLangResult,\n        style: {\n          flexGrow: 1\n        },\n        onSelectPanelClosed: this.closeSelectPanelCb\n      }));\n    }\n  }, {\n    key: \"getExpandRange\",\n    value: function getExpandRange() {\n      return true; // 关闭事件都由编辑器去关\n    }\n  }]);\n  return CascaderEditorCore;\n}();\nvar CascaderEditor = (0, _AlphaFactory[\"default\"])(new CascaderEditorCore());\nvar _default = exports[\"default\"] = CascaderEditor;\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/CellEditor/CascaderEditor.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/CellEditor/CityCellEditor.js":
/*!****************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/CellEditor/CityCellEditor.js ***!
  \****************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\n__webpack_require__(/*! core-js/modules/web.timers.js */ \"../../node_modules/core-js/modules/web.timers.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _AlphaFactory = _interopRequireDefault(__webpack_require__(/*! ./AlphaFactory */ \"./src/component/web/DataGrid/AgDataGrid/CellEditor/AlphaFactory.js\"));\nvar _KDCity = _interopRequireDefault(__webpack_require__(/*! ../../../KDCity */ \"./src/component/web/KDCity.jsx\"));\nvar _cityConst = __webpack_require__(/*! @/constant/cityConst */ \"./src/constant/cityConst.js\");\nvar _client = __webpack_require__(/*! @/action/actionname/control/city/client */ \"./src/action/actionname/control/city/client/index.js\");\nvar _singleSpa = __webpack_require__(/*! @/api/singleSpa */ \"./src/api/singleSpa.js\");\nvar _keyCode = __webpack_require__(/*! @/constant/keyCode */ \"./src/constant/keyCode.js\");\nvar _componentutil = __webpack_require__(/*! @/util/componentutil */ \"./src/util/componentutil.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); } // import { setPageReleaseStatus } from '@/model/memoryCacher'\nvar CityCellEditor = /*#__PURE__*/function () {\n  function CityCellEditor() {\n    var _this = this;\n    _classCallCheck(this, CityCellEditor);\n    this.createModel = function (prp) {\n      return {\n        pageId: prp.pid,\n        entryKey: prp.gridId,\n        key: prp.column.colId\n      };\n    };\n    this.requestData = function (prp, methodname, params) {\n      var model = _this.createModel(prp);\n      prp.invokeControlMethodOnly(model, methodname, params);\n    };\n    this.getCityInfo = function (model, params) {\n      var prp = _this.cellApi.props;\n      _this.requestData(prp, _client.GET_CITY_INFO, params);\n    };\n    this.getCityGroupList = function (model) {\n      var prp = _this.cellApi.props;\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n      _this.requestData(prp, _cityConst.GET_CITY_GROUP_LIST, args);\n    };\n    this.getCitySearchList = function (model, menu, keyWord) {\n      var prp = _this.cellApi.props;\n      _this.requestData(prp, _client.GET_CITY_SEARCH_LIST, [menu, keyWord]);\n    };\n    this.handleKeyDown = function (e) {\n      if ([_keyCode.KEYS.UP, _keyCode.KEYS.DOWN].includes(e.keyCode)) {\n        e.stopPropagation();\n      } else if (e.keyCode === _keyCode.KEYS.ENTER) {\n        e.stopPropagation();\n        setTimeout(function () {\n          // 延时时为了等城市内部state更新触发完change事件\n          _this.cellApi.onQSKeyDown({\n            keyCode: _keyCode.KEYS.ENTER\n          });\n        });\n      }\n    };\n    this.getExpandRange = function () {\n      return _this._child;\n    };\n    this.getContainer = function (dropdownPanelId) {\n      if (_this._child) return _this._child;\n      var dropdownPanel = document.querySelector(\".\".concat(dropdownPanelId));\n      _this._child = dropdownPanel;\n      return dropdownPanel;\n    };\n  }\n  _createClass(CityCellEditor, [{\n    key: \"onInitial\",\n    value: function onInitial(handoverApi) {\n      this.cellApi = handoverApi;\n      this.handleChange = this.handleChange.bind(this);\n    }\n  }, {\n    key: \"handleChange\",\n    value:\n    // 处理点击城市\n    function handleChange(value) {\n      this.cellApi.publishChangedValue(value, false);\n    }\n  }, {\n    key: \"compareValue\",\n    value: function compareValue(a, b) {\n      // 比较值一样，不会发到后端，如果值一样也要发到后端1.需要api.stopEditing 2.isCancelAfterEnd新加判断\n      var isCancel;\n      if (Array.isArray(a) && a.length > 2) {\n        var _b = Array.isArray(b) && b.length > 2 ? b[2] : b;\n        isCancel = a[2] + '' === _b + '';\n      } else {\n        isCancel = a === b;\n      }\n      return isCancel;\n    }\n  }, {\n    key: \"getEditor\",\n    value: function getEditor(args) {\n      var state = args.state,\n        props = args.props;\n      var prp = this.cellApi.props;\n      var model = {\n        pageId: prp.pid,\n        entryKey: prp.gridId,\n        key: prp.column.colId,\n        getUserLocale: function getUserLocale() {\n          return props.localeId;\n        }\n      };\n      var dropdownPanelId = \"kd_city_\".concat((0, _componentutil.createNewId)());\n      var fontSize = props.colStyle && props.colStyle.fontSize;\n      var style = {\n        fontSize: fontSize,\n        padding: '0 6px',\n        width: '100%'\n      };\n      return /*#__PURE__*/_react[\"default\"].createElement(_KDCity[\"default\"], {\n        dropdownPanelId: dropdownPanelId,\n        handleChange: this.handleChange,\n        onKeyDown: this.handleKeyDown,\n        defaultOpen: true,\n        getPopupContainer: this.getContainer,\n        getCityInfo: this.getCityInfo,\n        getCityGroupList: this.getCityGroupList,\n        getCitySearchList: this.getCitySearchList,\n        value: state.value,\n        model: model,\n        style: style,\n        containerStyle: {\n          paddingRight: 6\n        },\n        isCellEditor: true\n      });\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      // 修复单据体内常用不生效。原因是城市控件注册了页面卸载监听事件，单据体销毁的时候把监听事件移除了。导致页面卸载时候记录常用操作不生效\n      // 这里在单据体销毁之前操作\n      // const { pid } = this.cellApi?.props || {}\n      // setPageReleaseStatus(pid)\n      var container = (0, _singleSpa.getRootContainter)();\n      this._child && container.removeChild(this._child);\n      this._child = null;\n    }\n  }]);\n  return CityCellEditor;\n}();\nvar ctCellEditor = (0, _AlphaFactory[\"default\"])(new CityCellEditor());\nvar _default = exports[\"default\"] = ctCellEditor;\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/CellEditor/CityCellEditor.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/CellEditor/CombinedEditor.js":
/*!****************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/CellEditor/CombinedEditor.js ***!
  \****************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _reactDom = _interopRequireDefault(__webpack_require__(/*! react-dom */ \"webpack/sharing/consume/default/react-dom/react-dom?418d\"));\nvar _AlphaFactory = _interopRequireDefault(__webpack_require__(/*! ./AlphaFactory.js */ \"./src/component/web/DataGrid/AgDataGrid/CellEditor/AlphaFactory.js\"));\nvar CellEditor = _interopRequireWildcard(__webpack_require__(/*! ../CellEditor/indexOf */ \"./src/component/web/DataGrid/AgDataGrid/CellEditor/indexOf.js\"));\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _index = __webpack_require__(/*! ../CellEditor/index */ \"./src/component/web/DataGrid/AgDataGrid/CellEditor/index.js\");\nvar _GridUtils = __webpack_require__(/*! ../GridUtils.js */ \"./src/component/web/DataGrid/AgDataGrid/GridUtils.js\");\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); } /* {ComCellEditor,SelectEditor,NumberCellEditor,BDCellEditor,CheckboxEditor,TextAreaEditor,\r\nMulLangCellEditor,ImageCellEditor,CombinedEditor,MulLangCellEditor2} */\n/* //初始参数\r\nhandoverApi:[\r\n    props\r\n    publishChangedValue(newValue)\r\n    stopEditing(cancel?)\r\n    setContainerData(propName,value)\r\n    getContainerData(propName?)\r\n]\r\n\r\n//数据容器 **这个是编辑器实例的参数容器，因为同一类编辑器用的是同一份实例，所以不能在实例内创建私有成员变量**\r\ndataContainer\r\n\r\n//受监听方法\r\nonInitial(handoverApi)\r\ndefaultValue(props)\r\ndecorateStartValue(args)\r\ngetEditor(args)\r\ndefaultFocusObj(eTop)\r\nsetSelection(eInput)\r\nisPopup\r\nisCancelBeforeStart(superCancel)\r\nisCancelAfterEnd(superCancel)\r\ncompareValue(a,b) */\nvar CombinedEditor = /*#__PURE__*/function () {\n  function CombinedEditor() {\n    var _this = this;\n    _classCallCheck(this, CombinedEditor);\n    this.updateCombinedValue = function (k, v) {\n      _this.publishChangedValue(k, v);\n    };\n    // 设置参数\n    this.setContainerData = function (colId, propName, value) {\n      _this.dataContainer[colId][propName] = value;\n    };\n    // 获取参数\n    this.getContainerData = function (colId, propName) {\n      if (propName) return _this.dataContainer[colId][propName];\n      return _this.dataContainer[colId];\n    };\n  }\n  _createClass(CombinedEditor, [{\n    key: \"onInitial\",\n    value: function onInitial(handoverApi) {\n      var _this2 = this;\n      this.cellApi = handoverApi;\n      this.cellEditors = {};\n      this.attachElement = null;\n      this.preValue = null;\n      this.dataContainer = {};\n      var combinedItems = this.cellApi.props.combinedItems;\n      /************\r\n          动态数据，用eventBus触发本地组件state更新，动态发起取数、动态注册事件，动态反注册事件.编辑结束一次性更新store.(timeout发起另一个event?)\r\n          -->面板定义会直接在另一个列描述中，不需要动态取。但值获取需要用eventBus。\r\n          ************/\n      // TODO:得直接分发到单元格上\n\n      combinedItems.forEach(function (ki) {\n        var type = ki.type;\n        var colId = ki.colId;\n        // 要建一个 type ： {name; cellEditor} 的映射关系 return cellEditor\n        // test\n        var aCellEditor = new CellEditor[_index.cellEditorRelations[type]]();\n        var editorParams = {}; // handoverApi.props.combinedItems.editorParams[colId];\n        var itemProps = {\n          // 这个props要构建为自己的参数\n          api: handoverApi.props.api,\n          columnApi: handoverApi.props.columnApi,\n          // stopEditing:handoverApi.props.stopEditing,//这个不应该暴露才好，但。。\n          stopEditing: handoverApi.stopEditing,\n          // ...\n          value: (0, _GridUtils.getCellValue)(handoverApi.props.node.data, colId),\n          colId: colId,\n          title: ki.title\n          // ...editorParams,\n        };\n        // test\n        itemProps.localeId = 'zh_CN';\n        var itemHandoverApi = {\n          props: itemProps,\n          publishChangedValue: function publishChangedValue(v) {\n            return _this2.publishChangedValue(colId, v);\n          },\n          stopEditing: handoverApi.stopEditing,\n          // ?\n          setContainerData: function setContainerData(propName, v) {\n            return _this2.setContainerData(colId, propName, v);\n          },\n          getContainerData: function getContainerData(propName) {\n            return _this2.getContainerData(colId, propName);\n          }\n        };\n        aCellEditor.onInitial && aCellEditor.onInitial(itemHandoverApi);\n        _this2.cellEditors[colId] = {\n          editor: aCellEditor,\n          props: itemProps\n        };\n      });\n      this.oldValue = handoverApi.props.value == undefined ? this.defaultValue(handoverApi.props) : handoverApi.props.value;\n    }\n  }, {\n    key: \"publishChangedValue\",\n    value: function publishChangedValue(colId, value) {\n      // startValue??\n      var preValue = this.preValue ? this.preValue : {};\n      var nValue = Object.assign({}, preValue, _defineProperty({}, colId, value));\n      this.cellApi.publishChangedValue(nValue);\n    }\n  }, {\n    key: \"defaultValue\",\n    value: function defaultValue(props) {\n      var items = this.cellEditors;\n      var v = {};\n      for (var colId in items) {\n        v[colId] = (0, _GridUtils.getCellValue)(props.node.data, colId);\n        if (items[colId].editor.defaultValue) {\n          // const value = props.node.data[colId]\n          v[colId] = items[colId].editor.defaultValue(items[colId].props);\n        }\n      }\n      return v; // {key1:'value1',key2:'value2'}\n    }\n  }, {\n    key: \"decorateStartValue\",\n    value: function decorateStartValue(args) {\n      var startValue = args.startValue,\n        props = args.props; // 复合编辑器不支持字符直录。\n      // {key1:'value1',key2:'value2'}\n      var items = this.cellEditors;\n      var v = {};\n      for (var colId in items) {\n        var cellValue = (0, _GridUtils.getCellValue)(props.node.data, colId);\n        v[colId] = cellValue;\n        if (items[colId].editor.decorateStartValue) {\n          v[colId] = items[colId].editor.decorateStartValue({\n            startValue: items[colId].props.value,\n            props: items[colId].props\n          });\n        }\n        if (v[colId] == null) {\n          v[colId] = items[colId].editor.defaultValue ? items[colId].editor.defaultValue(items[colId].props) : cellValue;\n        }\n      }\n      return v;\n    }\n  }, {\n    key: \"combinedItemWrap\",\n    value: function combinedItemWrap(item, title) {\n      // TODO:showButton\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", null, /*#__PURE__*/_react[\"default\"].createElement(\"label\", null, title), item);\n    }\n  }, {\n    key: \"childrenFactory\",\n    value: function childrenFactory(value) {\n      var _this3 = this;\n      var children = [];\n      var items = this.cellEditors;\n      var _loop = function _loop(colId) {\n        var args = {\n          publishChangedValue: function publishChangedValue(v) {\n            return _this3.publishChangedValue(colId, v);\n          },\n          value: value[colId],\n          props: items[colId].props\n        };\n        var itemRender = items[colId].editor.getEditor(args);\n        var itemWrap = _this3.combinedItemWrap(itemRender, items[colId].props.title);\n        children.push(itemWrap);\n      };\n      for (var colId in items) {\n        _loop(colId);\n      }\n      return children;\n    }\n  }, {\n    key: \"getEditor\",\n    value: function getEditor(args) {\n      var value = args.value,\n        props = args.props;\n      this.preValue = value;\n      this.renderCellPanel(value, props);\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: props.styles,\n        onKeyDown: function onKeyDown(e) {}\n      });\n    }\n  }, {\n    key: \"computePanelPosition\",\n    value: function computePanelPosition(props) {\n      var items = props.items,\n        downExpand = props.downExpand,\n        eGridCell = props.eGridCell;\n      var top;\n      var itemsLength = items.length || 0;\n      /* let input = ReactDOM.findDOMNode(this); */\n      var input = eGridCell;\n      var div = this.attachElement;\n      if (!input || !div) return;\n      var position = input.getBoundingClientRect();\n      if (downExpand) {\n        top = position.bottom + (document.documentElement.scrollTop || document.body.scrollTop);\n        top = top + 1;\n      } else {\n        top = position.top + (document.documentElement.scrollTop || document.body.scrollTop);\n        top = top - 3 - itemsLength * 30;\n      }\n      var left = position.left + (document.documentElement.scrollLeft || document.body.scrollLeft);\n      div.style.display = 'block';\n      div.style.top = top + 'px';\n      div.style.left = left + 'px';\n      div.style.minWidth = position.width + 'px';\n    }\n  }, {\n    key: \"renderCellPanel\",\n    value: function renderCellPanel(value, props) {\n      var container = this.attachElement;\n      if (!container) {\n        container = document.createElement('div');\n        // container.className = styles.panel\n        document.body.appendChild(container);\n        this.attachElement = container;\n      }\n      this.computePanelPosition(props);\n      _reactDom[\"default\"].render(this.renderPanel(value), container);\n    }\n  }, {\n    key: \"renderPanel\",\n    value: function renderPanel(value) {\n      return this.childrenFactory(value);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      // this.attachElement.parentNode.removeChild(this.attachElement);\n    }\n\n    //* ***************待做:\n    // enter下推\n    // stopEditing\n    /*\r\n        defaultFocusObj(eTop)******直接用默认\r\n    setSelection(eInput)************用默认\r\n    isPopup***********多层怎么显示？\r\n    isCancelBeforeStart(superCancel)**如果控制？\r\n    isCancelAfterEnd(superCancel)**如果控制？\r\n    */\n  }, {\n    key: \"afterGuiAttached\",\n    value: function afterGuiAttached(eInput) {}\n  }, {\n    key: \"compareValue\",\n    value: function compareValue(a, b) {\n      var items = this.cellEditors;\n      var newValue = {};\n      for (var colId in items) {\n        if (items[colId].editor.compareValue) {\n          if (!items[colId].editor.compareValue(a[colId], b[colId])) {\n            return false;\n          }\n        } else if (!_lodash[\"default\"].isEqual(a[colId], b[colId])) {\n          return false;\n        }\n      }\n      return true;\n    }\n  }, {\n    key: \"reCalcCombinedValue\",\n    value: function reCalcCombinedValue(oldV, newV) {\n      var items = this.cellEditors;\n      var newValue = {};\n      for (var colId in items) {\n        if (items[colId].editor.compareValue) {\n          if (!items[colId].editor.compareValue(oldV[colId], newV[colId])) {\n            newValue[colId] = newV[colId];\n          }\n        } else if (!_lodash[\"default\"].isEqual(oldV[colId], newV[colId])) {\n          newValue[colId] = newV[colId];\n        }\n      }\n      return newValue;\n    }\n  }, {\n    key: \"isPopup\",\n    value: function isPopup() {\n      return false; //\n    }\n  }]);\n  return CombinedEditor;\n}();\nvar _default = exports[\"default\"] = (0, _AlphaFactory[\"default\"])(new CombinedEditor()); // class CombinedEditorCom extends React.Component {\n//   constructor (props) {\n//     super(props)\n//         this.state = { curFocus: {} }\n//     }\n//   onKeyDown (e, items, key, editProps) {\n//     const curt = this.state.curFocus.key\n//         let next = curt\n//         if (e.keyCode == 13) {\n//       e.stopPropagation()\n//             next = key + 1\n//             if (next >= items.length) {\n//         editProps.stopEditing()\n//                 return;\n//       }\n//     } else {\n//       next = key\n//         }\n//     if (next != curt) {\n//       this.setState({ curFocus: { key: next, item: items[next] } })//点击也要改\n//         }\n//   }\n//   componentWillMount () {\n//     this.setState({ curFocus: { key: 0, item: this.props.items[0] } })\n//     }\n//   onChange (e, handleChange, item, key) {\n//     const changeParams = { key: item.colId }\n//         handleChange(e, changeParams)\n//     }\n//   render () {\n//     const { items, value, onChange, handleChange, editProps } = this.props\n//         return <div style={{ backgroundColor: '#f2f2f2', border: '1px solid #9f9f9f', borderRadius: '2px', padding: '2px' }}>\n//       {items.map((item, key) => {\n//         return <div key={key} style={{ display: 'flex', backgroundColor: '#f2f2f2', margin: '2px 0', height: '30px' }}>\n//           <div style={{ display: 'flex', flexGrow: 1, backgroundColor: '#fff', alignItems: 'center', justifyContent: 'flex-end', paddingRight: '8px', whiteSpace: 'nowrap' }}>\n//             <label>{item.title}</label>\n//           </div>\n//           <InputCom\n// value={value[item.colId] || ''}\n//             onChange={(e) => this.onChange(e, handleChange, item, key)}\n//             onKeyDown={(e) => this.onKeyDown(e, items, key, editProps)}\n//             focused={this.state.curFocus.item.colId == item.colId}\n//             onClick={(e) => this.onKeyDown(e, items, key, editProps)}\n//           />\n//         </div>\n//       })}\n//     </div>\n//   }\n// }\n// function inputComWarp (InputCom) {\n//   return class extends React.Component {\n//     componentDidUpdate (preProps) {\n//       if (!preProps.focused && this.props.focused)\n//         {ReactDOM.findDOMNode(this).focus();}\n//     }\n//     componentDidMount () {\n//       if (this.props.focused)\n//         {ReactDOM.findDOMNode(this).focus();}\n//     }\n//     render () {\n//       return <InputCom {...this.props} />\n//     }\n//   }\n// }\n// @inputComWarp\n// class InputCom extends React.Component {\n//   render () {\n//     const { value, onChange, onKeyDown, onClick } = this.props\n//         return <input\n// style={{ width: '100%' }} value={value} onChange={onChange} onKeyDown={onKeyDown}\n//       onClick={onClick}\n//                />\n//   }\n//   // componentDidUpdate(preProps){\n//   //     if(!preProps.focused && this.props.focused)\n//   //         ReactDOM.findDOMNode(this).focus();\n//   // }\n// }\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/CellEditor/CombinedEditor.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/CellEditor/CommonEditor.js":
/*!**************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/CellEditor/CommonEditor.js ***!
  \**************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = exports.commonEditor = void 0;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\nvar _serverproperties = __webpack_require__(/*! ../../../../../constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _AlphaFactory = _interopRequireDefault(__webpack_require__(/*! ./AlphaFactory */ \"./src/component/web/DataGrid/AgDataGrid/CellEditor/AlphaFactory.js\"));\nvar _textUtil = __webpack_require__(/*! @/util/textUtil */ \"./src/util/textUtil.js\");\nvar _renderer = _interopRequireDefault(__webpack_require__(/*! ../CellRenderer/renderer.less */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/renderer.less\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar CommonEditor = exports.commonEditor = /*#__PURE__*/function () {\n  function CommonEditor() {\n    var _this = this;\n    _classCallCheck(this, CommonEditor);\n    this.handleFocus = function (evt) {\n      if (!_this.textFormatter) return;\n      var value = _this.textFormatter.getNormalValue(evt.target.value);\n      value = _this.textFormatter.generateFormatValue(value);\n      _this.valueLength = value.length;\n      _this.cellApi.publishChangedValue(value);\n    };\n    this.handleBlur = function (evt) {\n      if (!_this.textFormatter) return;\n      var value = evt.target.value;\n      value = _this.textFormatter.getNormalValue(value);\n      _this.cellApi.publishChangedValue(value);\n    };\n  }\n  _createClass(CommonEditor, [{\n    key: \"onInitial\",\n    value: function onInitial(handoverApi) {\n      var _handoverApi$props;\n      this.cellApi = handoverApi;\n      var tfmt = (_handoverApi$props = handoverApi.props) === null || _handoverApi$props === void 0 || (_handoverApi$props = _handoverApi$props.editor) === null || _handoverApi$props === void 0 ? void 0 : _handoverApi$props.tfmt;\n      this.textFormatter = tfmt ? new _textUtil.TextFormatter(tfmt) : null;\n      this.valueLength = 0;\n    }\n  }, {\n    key: \"defaultValue\",\n    value: function defaultValue() {\n      return '';\n    }\n  }, {\n    key: \"getEditor\",\n    value: function getEditor(args) {\n      var _this2 = this;\n      var value = args.value,\n        props = args.props;\n      var _type = 'text';\n      var fontSize = props.colStyle && props.colStyle.fontSize;\n      var textAlign = props.colStyle && props.colStyle.textAlign;\n      switch (props.type) {\n        case _serverproperties.Ctrls.KDDate:\n          _type = 'date';\n          break;\n        case _serverproperties.Ctrls.KDPasswordBox:\n          _type = 'password';\n          break;\n      }\n      // let getCursorPosition = super.getCursorPosition\n      if (_type === 'password') {\n        return [/*#__PURE__*/_react[\"default\"].createElement(\"input\", {\n          type: \"text\",\n          className: _renderer[\"default\"].hidden,\n          key: \"0\",\n          autoComplete: \"off\",\n          tabIndex: \"-1\"\n        }), /*#__PURE__*/_react[\"default\"].createElement(\"input\", {\n          type: \"password\",\n          className: _renderer[\"default\"].hidden,\n          key: \"1\",\n          autoComplete: \"off\",\n          tabIndex: \"-1\"\n        }), /*#__PURE__*/_react[\"default\"].createElement(\"input\", {\n          className: \"kd-cq-input\",\n          autoComplete: \"off\",\n          key: \"2\",\n          type: _type,\n          maxLength: props.editor.maxlength || 30,\n          onKeyDown: function onKeyDown(e) {\n            return _this2.onkeydown(e);\n          },\n          value: value,\n          onChange: function onChange(e) {\n            return _this2.handleValueChange(e);\n          }\n        })];\n      }\n      var maxLength = this.textFormatter ? this.textFormatter.getMaxLength(props.editor.maxlength || 30) : props.editor.maxlength || 30;\n      return /*#__PURE__*/_react[\"default\"].createElement(\"input\", {\n        className: \"kd-cq-input\",\n        style: {\n          fontSize: fontSize,\n          textAlign: textAlign\n        },\n        autoComplete: \"off\",\n        type: _type,\n        maxLength: maxLength,\n        onKeyDown: function onKeyDown(e) {\n          return _this2.onkeydown(e);\n        },\n        value: value,\n        onFocus: this.handleFocus,\n        onChange: function onChange(e) {\n          return _this2.handleValueChange(e);\n        },\n        onBlur: this.handleBlur\n      });\n    }\n  }, {\n    key: \"handleValueChange\",\n    value: function handleValueChange(e) {\n      // TODO:可以做个延迟\n      if (this.textFormatter) {\n        var _this$cellApi$props;\n        var value = this.textFormatter.getFormattedValue(e.target.value);\n        this.textFormatter.resetCursor(value, (_this$cellApi$props = this.cellApi.props) === null || _this$cellApi$props === void 0 ? void 0 : _this$cellApi$props.value, e.target);\n        return this.cellApi.publishChangedValue(value);\n      }\n      this.cellApi.publishChangedValue(e.target.value);\n    }\n  }, {\n    key: \"onkeydown\",\n    value: function onkeydown(event) {\n      if (event.keyCode == 37 || event.keyCode == 39) {\n        // if(_type != 'date'){\n        //     let curIndex=getCursorPosition(event.target);\n        //     if((event.keyCode==37 && curIndex!=0)||(event.keyCode==39 && curIndex!=event.target.value.length)){\n        //         event.stopPropagation();\n        //     }\n        // }else{\n        // event.stopPropagation()\n        // }\n      }\n    }\n  }, {\n    key: \"compareValue\",\n    value: function compareValue(a, b) {\n      if (this.cellApi.props.type == 'date') {\n        // 日期判断\n      }\n      return a == b;\n    }\n  }]);\n  return CommonEditor;\n}();\nvar ComCellEditor = exports[\"default\"] = (0, _AlphaFactory[\"default\"])(new CommonEditor());\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/CellEditor/CommonEditor.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/CellEditor/CustomEditor/CustomLightEditor.js":
/*!********************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/CellEditor/CustomEditor/CustomLightEditor.js ***!
  \********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-properties.js */ \"../../node_modules/core-js/modules/es.object.define-properties.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptors.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/web.timers.js */ \"../../node_modules/core-js/modules/web.timers.js\");\nvar _customComponentManage = __webpack_require__(/*! @/component/common/customComponentManage */ \"./src/component/common/customComponentManage.js\");\nvar _customCtrlUtil = __webpack_require__(/*! @/util/customCtrlUtil */ \"./src/util/customCtrlUtil.js\");\nvar _customUtil = __webpack_require__(/*! ../../util/customUtil */ \"./src/component/web/DataGrid/AgDataGrid/util/customUtil.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); } /**\n * 原生自定义渲染器\n */\nvar CustomLightEditor = /*#__PURE__*/function () {\n  function CustomLightEditor() {\n    var _this = this;\n    _classCallCheck(this, CustomLightEditor);\n    /**\n     * 编辑前取消编辑\n     */\n    this.isCancelBeforeStart = function () {\n      var customComponent = _this.getCustomComponent();\n      if (!customComponent) {\n        (0, _customUtil.printError)('custom schema not loaded!');\n        return true;\n      }\n      _this.initCustomComponent(customComponent, _this.params); // 初始化自定义模型\n      _this.executeCustomCtrlEvent(_this.params);\n    };\n    /**\n     * dom正式挂载\n     */\n    this.afterGuiAttached = function () {\n      _this.executeCustomCtrlEvent(_this.params); // 应该只会走一次这里\n    };\n    /**\n     * 编辑结束后是否取消编辑\n     */\n    this.isCancelAfterEnd = function () {\n      return _this.compareValue(_this.value, _this.oldValue); // 值一样取消编辑\n    };\n    /**\n     * 销毁\n     */\n    this.destroy = function () {\n      _this.removeSubscribeCustomControlMethod && _this.removeSubscribeCustomControlMethod();\n      try {\n        _this.customComponentInstance && (0, _customCtrlUtil.executeCustomCtrlMethod)(_this.customComponentInstance, 'destoryed');\n      } catch (error) {\n        (0, _customUtil.printError)(error);\n      }\n      _this.eGui = null;\n    };\n    // [暴露给自定义组件的api]\n    /**\n     * 更新编辑的最新值\n     */\n    this.fireCellValueChange = function (v) {\n      _this.value = v;\n    };\n    /**\n     * 编辑完毕\n     */\n    this.stopEditing = function () {\n      _this.params.stopEditing();\n      _this.publishCellChange();\n    };\n    this.publishCellChange = function () {\n      if (_this.compareValue(_this.value, _this.oldValue)) {\n        // 值一样不发送\n        return;\n      }\n      var _this$params = _this.params,\n        pid = _this$params.pid,\n        gridId = _this$params.gridId,\n        fireUpdEvt = _this$params.fireUpdEvt,\n        dataDesc = _this$params.dataDesc,\n        onCellChange = _this$params.onCellChange,\n        colDef = _this$params.colDef,\n        data = _this$params.data,\n        rk = _this$params.rk;\n      var model = {\n        pageId: pid,\n        key: gridId,\n        fireUpdEvt: fireUpdEvt,\n        dataDesc: dataDesc\n      };\n      var v = [{\n        k: colDef.field,\n        r: data && data[rk],\n        v: _this.value\n      }];\n      onCellChange(model, v);\n    };\n    // [加载自定义组件方法]\n    /**\n     * 监听控件方法，并传给自定义组件\n     * 注意：表格的控件方法均走表格的key\n     */\n    this.subscribeAndForwardCustomControlMethod = function (params, customProps) {\n      var pid = params.pid,\n        gridId = params.gridId,\n        colDef = params.colDef,\n        data = params.data,\n        rk = params.rk;\n      var getCustomProps = function getCustomProps() {\n        return customProps;\n      }; // 编辑态只构建一次customProps\n      return (0, _customUtil.subscribeCustomControlMethod)(pid, gridId, data && data[rk], colDef.field, {\n        customComponentInstance: _this.customComponentInstance,\n        getCustomProps: getCustomProps\n      });\n    };\n    this.getCustomComponent = function () {\n      var schemaInfo = _this.params.schemaInfo;\n      var schemaId = schemaInfo.schemaId;\n      return (0, _customComponentManage.getCustomComponent)(schemaId);\n    };\n    this.initCustomComponent = function (CustomComponent, params) {\n      if (_this.customComponentInstance) {\n        return; // 仅初始化一次\n      }\n      var customModleProps = (0, _customUtil.getCellCustomModleProps)(params);\n      var customModel = (0, _customComponentManage.createCustomModel)(_objectSpread({\n        dom: _this.eGui\n      }, customModleProps));\n      _this.customComponentInstance = new CustomComponent(customModel);\n    };\n    this.executeCustomCtrlEvent = function (params) {\n      try {\n        var customProps;\n        if (_this.customProps) {\n          customProps = _this.customProps;\n        } else {\n          customProps = (0, _customUtil.getCellCustomProps)(params, false);\n          if (customProps.gridApi) {\n            customProps.gridApi.fireCellValueChange = _this.fireCellValueChange;\n            customProps.gridApi.stopEditing = _this.stopEditing;\n          } else {\n            customProps.gridApi = {\n              fireCellValueChange: _this.fireCellValueChange,\n              stopEditing: _this.stopEditing\n            };\n          }\n          _this.customProps = customProps;\n        }\n        var _getCurrentTheme = (0, _customCtrlUtil.getCurrentTheme)(),\n          themeColor = _getCurrentTheme.themeColor,\n          themeNum = _getCurrentTheme.themeNum;\n        if (_this.initialized) {\n          // dom已经挂载到ag上\n          (0, _customCtrlUtil.executeCustomCtrlMethod)(_this.customComponentInstance, 'update', _objectSpread(_objectSpread({}, customProps), {}, {\n            themeColor: themeColor,\n            themeNum: themeNum,\n            isEditor: true\n          }));\n          return;\n        }\n        _this.initialized = true;\n        (0, _customCtrlUtil.executeCustomCtrlMethod)(_this.customComponentInstance, 'init', _objectSpread(_objectSpread({}, customProps), {}, {\n          themeColor: themeColor,\n          themeNum: themeNum,\n          isEditor: true\n        }));\n        _this.removeSubscribeCustomControlMethod = _this.subscribeAndForwardCustomControlMethod(params, customProps);\n      } catch (error) {\n        (0, _customUtil.printError)(error);\n      }\n    };\n    this.dispatchAsync = function (func) {\n      window.setTimeout(func, 0);\n    };\n  }\n  _createClass(CustomLightEditor, [{\n    key: \"init\",\n    value: function init(params) {\n      this.params = params;\n      this.value = this.oldValue = params.value;\n      this.eGui = document.createElement('div');\n      this.eGui.className = 'custom-light-editor-wrap';\n      this.customComponentInstance = null;\n    }\n  }, {\n    key: \"getGui\",\n    value: function getGui() {\n      return this.eGui;\n    }\n  }, {\n    key: \"getValue\",\n    value: function getValue() {\n      return this.value;\n    }\n  }, {\n    key: \"compareValue\",\n    value: function compareValue(a, b) {\n      if (this.customComponentInstance && typeof this.customComponentInstance.compareValue === 'function') {\n        try {\n          return this.customComponentInstance.compareValue(a, b);\n        } catch (error) {\n          (0, _customUtil.printError)(error);\n        }\n      }\n      return a === b;\n    }\n  }]);\n  return CustomLightEditor;\n}();\nvar _default = exports[\"default\"] = CustomLightEditor;\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/CellEditor/CustomEditor/CustomLightEditor.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/CellEditor/DateCellEditor.js":
/*!****************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/CellEditor/DateCellEditor.js ***!
  \****************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = exports.dateEditor = void 0;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\nvar _serverproperties = __webpack_require__(/*! ../../../../../constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _moment = _interopRequireDefault(__webpack_require__(/*! moment */ \"../../node_modules/moment/moment.js\"));\nvar _AlphaFactory = _interopRequireDefault(__webpack_require__(/*! ./AlphaFactory */ \"./src/component/web/DataGrid/AgDataGrid/CellEditor/AlphaFactory.js\"));\nvar _KDDatePicker = _interopRequireDefault(__webpack_require__(/*! @/component/web/KDDatePicker */ \"./src/component/web/KDDatePicker.js\"));\nvar _gridModel = __webpack_require__(/*! ../gridModel */ \"./src/component/web/DataGrid/AgDataGrid/gridModel/index.js\");\nvar _DateField = __webpack_require__(/*! ../../../baseField/DateField */ \"./src/component/web/baseField/DateField.jsx\");\nvar _keyCode = __webpack_require__(/*! @/constant/keyCode */ \"./src/constant/keyCode.js\");\nvar _dateUtil = __webpack_require__(/*! @/util/dateUtil */ \"./src/util/dateUtil.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar DateEditor = exports.dateEditor = /*#__PURE__*/function () {\n  function DateEditor() {\n    var _this = this;\n    _classCallCheck(this, DateEditor);\n    this.createModel = function (props) {\n      return {\n        pageId: props.pid,\n        entryKey: props.gridId,\n        key: props.column.colId\n      };\n    };\n    this.setExpandDom = function (range) {\n      _this._child = range;\n    };\n    this.handleKeydown = function (e) {\n      // 切模块快捷键不阻止冒泡\n      if (e.keyCode !== _keyCode.KEYS.F6) {\n        e.stopPropagation();\n      }\n      if (e.keyCode === _keyCode.KEYS.ENTER) {\n        _this.cellApi.stopEditing();\n      }\n      if (e.keyCode === _keyCode.KEYS.TAB) {\n        e.preventDefault();\n        _this.cellApi.onQSKeyDown(e);\n      }\n    };\n    this.handlePannelEnter = function () {\n      _this.cellApi.stopEditing();\n    };\n    this.onFinished = function (value) {\n      _this.cellApi.publishChangedValue(value);\n      _this.cellApi.stopEditing(false);\n    };\n    this.compareValue = function (a, b) {\n      var _this$cellApi$props = _this.cellApi.props,\n        eGridCell = _this$cellApi$props.eGridCell,\n        colDef = _this$cellApi$props.colDef,\n        editor = _this$cellApi$props.editor;\n      var target = eGridCell.querySelector(\"#\".concat(colDef.colId));\n      if (target) {\n        var _target$dataset = target.dataset,\n          format = _target$dataset.format,\n          locale = _target$dataset.locale;\n        var momentObj = (0, _dateUtil.getFormattedValue)({\n          value: b,\n          format: format,\n          locale: locale,\n          appendZero: true\n        });\n        if (momentObj !== null && momentObj !== void 0 && momentObj.isValid()) {\n          var dataFormat = editor.type === 'date' ? 'YYYY-MM-DD' : 'YYYY-MM-DD HH:mm:ss';\n          _this.val = momentObj.format(dataFormat);\n        }\n      }\n      return a === _this.val;\n    };\n  }\n  _createClass(DateEditor, [{\n    key: \"onInitial\",\n    value: function onInitial(handoverApi) {\n      this.cellApi = handoverApi;\n      this.val = '';\n    }\n  }, {\n    key: \"defaultValue\",\n    value: function defaultValue() {\n      return '';\n    }\n  }, {\n    key: \"decorateStartValue\",\n    value: function decorateStartValue(args) {\n      var startValue = args.startValue,\n        props = args.props;\n      if (props.charPress && /^\\d+$/.test(props.charPress)) {\n        // 数字为了方便，可以直接按数字键作为值\n        return props.charPress; // 日期控件对初入值目前不支持\n      } else {\n        return props.value || '';\n      }\n    }\n  }, {\n    key: \"getExpandRange\",\n    value: function getExpandRange() {\n      return this._child;\n    }\n  }, {\n    key: \"isCancelAfterEnd\",\n    value: function isCancelAfterEnd(isCancelAE, isValChange) {\n      return isValChange || false;\n    }\n  }, {\n    key: \"getEditor\",\n    value: function getEditor(args) {\n      var _this2 = this;\n      var value = args.value,\n        props = args.props;\n      var fontSize = props.colStyle && props.colStyle.fontSize;\n      var textAlign = props.colStyle && props.colStyle.textAlign;\n      var style = {\n        fontSize: fontSize,\n        textAlign: textAlign,\n        width: '100%',\n        height: '100%',\n        padding: '0 36px 0 6px',\n        border: 'none'\n      };\n      var inputStyle = {\n        padding: 0\n      };\n      var _props$editor = props.editor,\n        f = _props$editor.f,\n        df = _props$editor.df,\n        mask = _props$editor.mask,\n        type = _props$editor.type;\n      var tzInfo = (0, _gridModel.getTimeZoneInfo)(props, false);\n\n      // 业务场景处理，如果区域类型为短日期，则将控件类型设置为短日期\n      var regionType = props.editor[_serverproperties.REGION_TYPE];\n      // 兼容短日期的获取当前日期\n      var today = type === 'date' ? tzInfo[0] || props.editor[_serverproperties.TODAY] : tzInfo[1] || props.editor[_serverproperties.TODAY];\n      if (type === 'date') {\n        // 发版前多重判断保险 后续修改\n        if (tzInfo[0] && (0, _moment[\"default\"])(tzInfo[0]).isValid()) today = tzInfo[0];\n        if (tzInfo[1] && (0, _moment[\"default\"])(tzInfo[1]).isValid()) today = tzInfo[1];\n        if (!today) {\n          today = props.editor[_serverproperties.TODAY];\n        }\n      }\n      var displayFormat = props.editor[_serverproperties.DISPLAY_FORMAT];\n      var timeZone = type === 'date' ? '' : tzInfo[0] || props.editor[_serverproperties.TIME_ZONE];\n      var defaultTime = props.editor[_serverproperties.DEFAULT_TIME];\n      var model = this.createModel(props);\n      var options = {\n        actions: {\n          invokeControlMethodOnly: props.invokeControlMethodOnly\n        }\n      };\n      return /*#__PURE__*/_react[\"default\"].createElement(_KDDatePicker[\"default\"], {\n        defaultTime: defaultTime,\n        onKeyDown: this.handleKeydown,\n        onPannelEnter: this.handlePannelEnter,\n        model: model,\n        options: options,\n        value: value,\n        timeZone: timeZone,\n        today: today,\n        mask: mask,\n        type: type,\n        getPopupPanel: function getPopupPanel(ele) {\n          return _this2.setExpandDom(ele);\n        },\n        onChange: function onChange(date) {\n          return _this2.handleValueChange(date);\n        },\n        onImmediateChange: function onImmediateChange(date) {\n          return _this2.handleValueChange(date);\n        } // 每次值更新都回调\n        ,\n        style: style,\n        inputStyle: inputStyle,\n        iconStyle: {\n          right: 6\n        },\n        clearIconStyle: {\n          right: 6\n        },\n        displayFormat: displayFormat,\n        minDate: props.editor[_serverproperties.MIN_VALUE] || _DateField.DATE_MIN_VALUE,\n        maxDate: props.editor[_serverproperties.MAX_VALUE] || _DateField.DATE_MAX_VALUE,\n        theme: \"flat\",\n        regionType: regionType,\n        onFinished: this.onFinished,\n        localeCode: props.localeId,\n        triggerUpdateWhenChange: true\n      });\n    }\n  }, {\n    key: \"handleValueChange\",\n    value: function handleValueChange(value) {\n      // TODO:可以做个延迟\n\n      this.cellApi.publishChangedValue(value);\n    }\n  }, {\n    key: \"setSelection\",\n    value: function setSelection(eInput) {\n      // eInput.select();//日期控件是强制不选中的，这里不能控制到\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.cellApi.publishChangedValue(this.val);\n    }\n  }]);\n  return DateEditor;\n}();\nvar DateCellEditor = exports[\"default\"] = (0, _AlphaFactory[\"default\"])(new DateEditor());\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/CellEditor/DateCellEditor.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/CellEditor/DateRangeEditor.js":
/*!*****************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/CellEditor/DateRangeEditor.js ***!
  \*****************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = exports.dateRgEditor = void 0;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\nvar _serverproperties = __webpack_require__(/*! ../../../../../constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _AlphaFactory = _interopRequireDefault(__webpack_require__(/*! ./AlphaFactory */ \"./src/component/web/DataGrid/AgDataGrid/CellEditor/AlphaFactory.js\"));\nvar _DateRangeField = _interopRequireDefault(__webpack_require__(/*! ../../../baseField/DateRangeField */ \"./src/component/web/baseField/DateRangeField.jsx\"));\nvar _componentutil = __webpack_require__(/*! @/util/componentutil */ \"./src/util/componentutil.js\");\nvar _keyCode = __webpack_require__(/*! @/constant/keyCode */ \"./src/constant/keyCode.js\");\nvar _singleSpa = __webpack_require__(/*! @/api/singleSpa */ \"./src/api/singleSpa.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar DateRgEditor = exports.dateRgEditor = /*#__PURE__*/function () {\n  function DateRgEditor() {\n    var _this = this;\n    _classCallCheck(this, DateRgEditor);\n    this.handleKeydown = function (e) {\n      var _e$target$parentEleme;\n      // BT-01901206 修改后，日期范围内不对tab 阻止冒泡，这里也不阻止,响应全局快捷键\n      if (![_keyCode.KEYS.TAB, _keyCode.KEYS.F6].includes(e.keyCode)) {\n        e.stopPropagation();\n      }\n      var isEndDate = (_e$target$parentEleme = e.target.parentElement) === null || _e$target$parentEleme === void 0 ? void 0 : _e$target$parentEleme.previousElementSibling; // 是否是结束日期的输入框\n\n      // 结束日期回车时退出编辑\n      if (!e.shiftKey && e.keyCode === _keyCode.KEYS.ENTER && isEndDate) {\n        _this.cellApi.onQSKeyDown(e);\n      }\n\n      // 开始时间shift+enter退出编辑\n      if (e.shiftKey && e.keyCode === _keyCode.KEYS.ENTER && !isEndDate) {\n        _this.cellApi.onQSKeyDown(e);\n      }\n\n      // 按tab时不是第一个输入框才走表格的快捷键\n      if (!e.shiftKey && e.keyCode === _keyCode.KEYS.TAB && isEndDate) {\n        e.preventDefault();\n        _this.cellApi.onQSKeyDown(e);\n      }\n\n      // 开始时间shift+tab调转到上一个单元格\n      if (e.shiftKey && e.keyCode === _keyCode.KEYS.TAB && !isEndDate) {\n        _this.cellApi.onQSKeyDown(e);\n      }\n    };\n    // 自定义 - 获取时间控件的父级容器\n    this.getContainer = function () {\n      if (_this._child) return _this._child;\n      var container = document.createElement('div');\n      document.body.appendChild(container);\n      _this._child = container;\n      return container;\n    };\n  }\n  _createClass(DateRgEditor, [{\n    key: \"onInitial\",\n    value: function onInitial(handoverApi) {\n      this.cellApi = handoverApi;\n    }\n  }, {\n    key: \"defaultValue\",\n    value: function defaultValue() {\n      return '';\n    }\n  }, {\n    key: \"decorateStartValue\",\n    value: function decorateStartValue(args) {\n      var startValue = args.startValue,\n        props = args.props;\n      if (props.charPress && /^\\d+$/.test(props.charPress)) {\n        // 数字为了方便，可以直接按数字键作为值\n        return props.charPress; // 日期控件对初入值目前不支持\n      } else {\n        return props.value || '';\n      }\n    }\n  }, {\n    key: \"getExpandRange\",\n    value: function getExpandRange() {\n      return this._child;\n    }\n  }, {\n    key: \"getEditor\",\n    value: function getEditor(args) {\n      var _this2 = this;\n      var value = args.value,\n        props = args.props;\n      var fontSize = props.colStyle && props.colStyle.fontSize;\n      var textAlign = props.colStyle && props.colStyle.textAlign;\n      var style = {\n        fontSize: fontSize,\n        textAlign: textAlign,\n        width: '100%',\n        height: '100%',\n        padding: '0 6px 0 6px',\n        border: 'none'\n      };\n      var inputProps = {\n        style: {\n          fontSize: fontSize,\n          padding: 0\n        }\n      };\n      var _props$editor = props.editor,\n        f = _props$editor.f,\n        df = _props$editor.df,\n        mask = _props$editor.mask,\n        type = _props$editor.type;\n      var a = {\n        aa: 'b'\n      };\n      var b = ('aa' in a);\n      /*\n          style={style}\n          type={type}\n          mask={option.get(MASK)}\n          displayFormat={option.get(DISPLAY_FORMAT)}\n          minDate={option.get(MIN_VALUE)}\n          maxDate={option.get(MAX_VALUE)}\n          {...other} />\n          */\n      // 增加后端控制是否启用联动，现在是默认启用\n      // const linkage = props.editor[LINKAGE]\n      // 增加长日期支持, 由于担心editor有影响的参数，就逐一取值\n      var option = (0, _immutable.fromJS)(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty({}, _serverproperties.REGION_TYPE, props.editor[_serverproperties.REGION_TYPE]), _serverproperties.DISPLAY_FORMAT, props.editor[_serverproperties.DISPLAY_FORMAT]), _serverproperties.MASK, props.editor[_serverproperties.MASK]), _serverproperties.MIN_VALUE, props.editor[_serverproperties.MIN_VALUE]), _serverproperties.MAX_VALUE, props.editor[_serverproperties.MAX_VALUE]), _serverproperties.LINKAGE, props.editor[_serverproperties.LINKAGE]), _serverproperties.DEFAULT_TIME, props.editor[_serverproperties.DEFAULT_TIME]));\n      var localeCode = props.localeId;\n      return /*#__PURE__*/_react[\"default\"].createElement(_DateRangeField[\"default\"], {\n        onKeyDown: this.handleKeydown,\n        value: value,\n        type: type,\n        onChange: function onChange(date) {\n          return _this2.handleValueChange(date);\n        },\n        style: style,\n        inputProps: inputProps,\n        iconStyle: {\n          right: 6\n        },\n        clearIconStyle: {\n          right: 6\n        },\n        theme: \"flat\",\n        localeCode: localeCode,\n        option: option,\n        getPopupContainer: this.getContainer,\n        focusOpen: true,\n        startMonth: \"currentMonth\"\n      });\n    }\n  }, {\n    key: \"handleValueChange\",\n    value: function handleValueChange(value) {\n      // TODO:可以做个延迟\n      this.cellApi.publishChangedValue(value);\n    }\n  }, {\n    key: \"compareValue\",\n    value: function compareValue(a, b) {\n      return a == b;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var container = (0, _singleSpa.getRootContainter)();\n      this._child && container.removeChild(this._child);\n      this._child = null;\n    }\n  }]);\n  return DateRgEditor;\n}();\nvar DateRangeEditor = exports[\"default\"] = (0, _AlphaFactory[\"default\"])(new DateRgEditor());\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/CellEditor/DateRangeEditor.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/CellEditor/EmailEditor.js":
/*!*************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/CellEditor/EmailEditor.js ***!
  \*************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.emailEditor = exports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _AlphaFactory = _interopRequireDefault(__webpack_require__(/*! ./AlphaFactory.js */ \"./src/component/web/DataGrid/AgDataGrid/CellEditor/AlphaFactory.js\"));\nvar _EmailField = _interopRequireDefault(__webpack_require__(/*! ../../../../web/baseField/EmailField */ \"./src/component/web/baseField/EmailField.jsx\"));\nvar _singleSpa = __webpack_require__(/*! @/api/singleSpa */ \"./src/api/singleSpa.js\");\nvar _keyCode = __webpack_require__(/*! @/constant/keyCode */ \"./src/constant/keyCode.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar EmailEditor = exports.emailEditor = /*#__PURE__*/function () {\n  function EmailEditor() {\n    var _this = this;\n    _classCallCheck(this, EmailEditor);\n    this.handleKeyDown = function (e) {\n      if (e.keyCode === _keyCode.KEYS.ARROWUP || e.keyCode === _keyCode.KEYS.ARROWDOWN) {\n        e.stopPropagation();\n      }\n      if (e.keyCode === _keyCode.KEYS.ENTER) {\n        _this.cellApi.stopEditing();\n        e.stopPropagation();\n      }\n    };\n    this.handleChange = function (value) {\n      _this.cellApi.publishChangedValue(value);\n    };\n    this.getExpandRange = function () {\n      return _this._child;\n    };\n    this.getContainer = function () {\n      if (_this._child) return _this._child;\n      var container = document.createElement('div');\n      document.body.appendChild(container);\n      _this._child = container;\n      return container;\n    };\n  }\n  _createClass(EmailEditor, [{\n    key: \"onInitial\",\n    value: function onInitial(handoverApi) {\n      this.cellApi = handoverApi;\n      this.handleChange = this.handleChange.bind(this);\n      this.onEmailSelectItem = this.onEmailSelectItem.bind(this);\n    }\n  }, {\n    key: \"getEditor\",\n    value: function getEditor(args) {\n      var _props$editor;\n      var props = args.props,\n        value = args.value;\n      var editable = props.editable;\n      var model = {\n        pageId: props.pid,\n        entryKey: props.gridId,\n        key: props.column.colId\n      };\n      var fontSize = props.colStyle && props.colStyle.fontSize;\n      var textAlign = props.colStyle && props.colStyle.textAlign;\n      return /*#__PURE__*/_react[\"default\"].createElement(_EmailField[\"default\"], {\n        style: {\n          fontSize: fontSize,\n          textAlign: textAlign,\n          paddingLeft: 6\n        },\n        value: value,\n        onKeyDown: this.handleKeyDown,\n        getPopupContainer: this.getContainer,\n        onChange: this.handleChange,\n        model: model,\n        handleEmailSelectItem: this.onEmailSelectItem,\n        disabled: editable === false,\n        maxLength: (_props$editor = props.editor) === null || _props$editor === void 0 ? void 0 : _props$editor.maxlength\n      });\n    }\n  }, {\n    key: \"onEmailSelectItem\",\n    value: function onEmailSelectItem(value) {\n      this.cellApi.publishChangedValue(value);\n    }\n  }, {\n    key: \"destroy\",\n    value:\n    // afterGuiAttached = () => {\n\n    // }\n\n    function destroy() {\n      var container = (0, _singleSpa.getRootContainter)();\n      this._child && container.removeChild(this._child);\n      this._child = null;\n    }\n  }]);\n  return EmailEditor;\n}();\nvar EmailCellEditor = exports[\"default\"] = (0, _AlphaFactory[\"default\"])(new EmailEditor());\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/CellEditor/EmailEditor.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/CellEditor/FlexfieldEditor.js":
/*!*****************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/CellEditor/FlexfieldEditor.js ***!
  \*****************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = exports.FlexfieldEditor = void 0;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\nvar _AlphaFactory = _interopRequireDefault(__webpack_require__(/*! ./AlphaFactory */ \"./src/component/web/DataGrid/AgDataGrid/CellEditor/AlphaFactory.js\"));\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _FlexField = __webpack_require__(/*! ../../../baseField/FlexField */ \"./src/component/web/baseField/FlexField.js\");\nvar _GridUtils = __webpack_require__(/*! ../GridUtils.js */ \"./src/component/web/DataGrid/AgDataGrid/GridUtils.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); } /**\n * 弹性域编辑器\n * by kechuang\n */\nvar FlexfieldEditor = exports.FlexfieldEditor = /*#__PURE__*/function () {\n  function FlexfieldEditor() {\n    var _this = this;\n    _classCallCheck(this, FlexfieldEditor);\n    this.releaseHold = function () {\n      _this.hold = false;\n    };\n    this.addHold = function () {\n      _this.hold = true;\n    };\n  }\n  _createClass(FlexfieldEditor, [{\n    key: \"onInitial\",\n    value: function onInitial(handoverApi) {\n      this.cellApi = handoverApi;\n    }\n  }, {\n    key: \"isShowFlex\",\n    value: function isShowFlex(props) {\n      var editor = props.editor,\n        node = props.node,\n        value = props.value;\n      // TODO:后端需要加一个属性\n      var majorKey = editor.majorKey;\n      var isFlex = false;\n      if (majorKey) {\n        var majorValue = (0, _GridUtils.getCellValue)(node.data, majorKey);\n        if (majorValue != null && majorValue != '' && value != null && Array.isArray(value) && value.length > 0) {\n          isFlex = true;\n        }\n      }\n      return isFlex;\n    }\n  }, {\n    key: \"btnClick\",\n    value: function btnClick(e, props) {\n      // alert(\"BDEditor btnClick 事件！\");\n      var model = {\n        pageId: props.pid,\n        entryKey: props.gridId,\n        key: props.column.colId\n      };\n      props.btnClick(model);\n      // this.cellApi.stopEditing(true)\n    }\n  }, {\n    key: \"getExpandRange\",\n    value: function getExpandRange() {\n      var isFlex = this.isShowFlex(this.cellApi.props);\n      // let isFlex = true;\n      if (isFlex === true && this.hold) {\n        return true; // 弹开了flex面板，永不由点击事件来关闭编辑器。可以由flex面板的关闭来解禁。\n      }\n      return false;\n    }\n  }, {\n    key: \"stopEditor\",\n    value: function stopEditor() {\n      this.cellApi.props.stopEditing();\n      // this.cellApi.onQSKeyDown({ keyCode: KEYS.ENTER })\n    }\n  }, {\n    key: \"onClose\",\n    value: function onClose() {\n      // this.onClose()\n      console.log('close');\n      var cellApi = this.cellApi;\n      var cell = cellApi.props.api.getFocusedCell();\n      cellApi.props.api.setFocusedCell(cell.rowIndex, cell.column, null);\n    }\n  }, {\n    key: \"decorateStartValue\",\n    value: function decorateStartValue(args) {\n      // 弹性域字段初始值直接使用value,不用键盘输入的值\n      var props = args.props;\n      return props.value;\n    }\n\n    // 弹性域不需要范围选中，范围选中会导致弹性域面板失去焦点\n    // 该方法是提供给AlphyFactory调用的，不要删除\n  }, {\n    key: \"setSelection\",\n    value: function setSelection(eTop) {\n      // do nothing\n    }\n  }, {\n    key: \"getEditor\",\n    value: function getEditor(args) {\n      var _this2 = this;\n      var props = args.props,\n        value = args.value,\n        type = args.type;\n      var pid = props.pid,\n        gridId = props.gridId,\n        dispatch = props.dispatch,\n        column = props.column,\n        node = props.node,\n        rk = props.rk;\n      var rowKey = node.data[rk];\n      var colId = column.colId;\n      var isFlex = this.isShowFlex(props);\n      return /*#__PURE__*/_react[\"default\"].createElement(_FlexField.FlexTarget, {\n        onClick: function onClick(e) {\n          return _this2.btnClick(e, props);\n        },\n        value: value,\n        pageId: pid,\n        id: gridId + '_' + colId + '_' + rowKey,\n        ctrlKey: gridId,\n        rowKey: rowKey,\n        colId: colId,\n        isGridCell: true,\n        dispatch: dispatch,\n        isFlex: isFlex,\n        addHold: this.addHold,\n        releaseHold: this.releaseHold,\n        stopEditor: this.stopEditor.bind(this),\n        onClose: this.onClose.bind(this)\n      });\n    }\n  }]);\n  return FlexfieldEditor;\n}();\nvar FlexfieldCellEditor = (0, _AlphaFactory[\"default\"])(new FlexfieldEditor());\nvar _default = exports[\"default\"] = FlexfieldCellEditor;\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/CellEditor/FlexfieldEditor.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/CellEditor/ImageCellEditor.js":
/*!*****************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/CellEditor/ImageCellEditor.js ***!
  \*****************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.imageEditor = exports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _AlphaFactory = _interopRequireDefault(__webpack_require__(/*! ./AlphaFactory.js */ \"./src/component/web/DataGrid/AgDataGrid/CellEditor/AlphaFactory.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar ImageEditor = exports.imageEditor = /*#__PURE__*/function () {\n  function ImageEditor() {\n    _classCallCheck(this, ImageEditor);\n  }\n  _createClass(ImageEditor, [{\n    key: \"onInitial\",\n    value: function onInitial(handoverApi) {\n      this.cellApi = handoverApi;\n    }\n  }, {\n    key: \"defaultValue\",\n    value: function defaultValue() {\n      return '';\n    }\n  }, {\n    key: \"getEditor\",\n    value: function getEditor(args) {\n      return /*#__PURE__*/_react[\"default\"].createElement(\"img\", null);\n    }\n  }, {\n    key: \"isCancelBeforeStart\",\n    value: function isCancelBeforeStart(isCancelBS) {\n      if (!isCancelBS) {\n        var props = this.cellApi.props;\n        var model = {\n          pageId: props.pid,\n          entryKey: props.gridId,\n          key: props.column.colId\n        };\n        console.log('img click');\n        this.cellApi.props.btnClick(model);\n      }\n      return true; // 直接返回，后面的方法都不走了，元素不会插入到页面\n    }\n  }]);\n  return ImageEditor;\n}();\nvar ImageCellEditor = exports[\"default\"] = (0, _AlphaFactory[\"default\"])(new ImageEditor());\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/CellEditor/ImageCellEditor.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/CellEditor/LTextAreaEditor.js":
/*!*****************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/CellEditor/LTextAreaEditor.js ***!
  \*****************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.lTextAreaEditor = exports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _AlphaFactory = _interopRequireDefault(__webpack_require__(/*! ./AlphaFactory.js */ \"./src/component/web/DataGrid/AgDataGrid/CellEditor/AlphaFactory.js\"));\nvar _LargeTextCtl = _interopRequireDefault(__webpack_require__(/*! ../../../base/LargeTextCtl.js */ \"./src/component/web/base/LargeTextCtl.js\"));\nvar _serverproperties = __webpack_require__(/*! ../../../../../constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _keyCode = __webpack_require__(/*! @/constant/keyCode */ \"./src/constant/keyCode.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar LTextAreaEditor = exports.lTextAreaEditor = /*#__PURE__*/function () {\n  function LTextAreaEditor() {\n    _classCallCheck(this, LTextAreaEditor);\n    this.handleKeyDown = function (e) {\n      if (e.keyCode === _keyCode.KEYS.ENTER && e.altKey) {\n        e.target.value = e.target.value + '\\r\\n';\n        e.target.scrollTop = e.target.scrollHeight;\n        e.stopPropagation();\n      }\n    };\n  }\n  _createClass(LTextAreaEditor, [{\n    key: \"onInitial\",\n    value: function onInitial(handoverApi) {\n      this.cellApi = handoverApi;\n    }\n  }, {\n    key: \"defaultValue\",\n    value: function defaultValue() {\n      return '';\n    }\n  }, {\n    key: \"decorateStartValue\",\n    value: function decorateStartValue(args) {\n      var props = args.props;\n      return props.value;\n    }\n  }, {\n    key: \"getEditor\",\n    value: function getEditor(args) {\n      var _this = this;\n      var value = args.value,\n        props = args.props;\n\n      // eInput.onkeydown=function(event){\n      //     if(((event.shiftKey||event.altKey||event.ctrlKey) && event.keyCode==13)||(event.keyCode>=37&&event.keyCode<=40)){\n      //         event.stopPropagation();\n      //     }\n      // }\n      var editingMode = props.editor[_serverproperties.EDITING_MODE];\n      var isSummary = !editingMode || editingMode === 'summary';\n      var fontSize = props.colStyle && props.colStyle.fontSize;\n      var textAlign = props.colStyle && props.colStyle.textAlign;\n      var style = {\n        fontSize: fontSize,\n        textAlign: textAlign,\n        height: '100%',\n        width: '100%',\n        border: 'none',\n        outline: 'none',\n        paddingRight: isSummary ? '22px' : '6px'\n      };\n      return /*#__PURE__*/_react[\"default\"].createElement(_LargeTextCtl[\"default\"], {\n        btnStyle: {\n          right: '6px'\n        },\n        inputStyle: style,\n        editingMode: editingMode,\n        maxLength: props.editor[_serverproperties.MAX_LENGTH],\n        value: value,\n        placeholder: props.placeholder,\n        Grow: 1,\n        onChange: function onChange(e) {\n          return _this.handleValueChange(e);\n        } // disabled={inputProps.disabled}\n        ,\n        onHandleBtnClick: function onHandleBtnClick(e, lock) {\n          return _this.handleEditBtn(e);\n        } // onHandleEnter={e=>this.handleEnter(e)}\n        ,\n        onKeyDown: this.handleKeyDown,\n        notStopPropagationInEnter: true // enter 不阻止冒泡\n        ,\n        isLimitHeight: true,\n        autoSize: false,\n        showMaxLength: false\n      });\n    }\n  }, {\n    key: \"handleEditBtn\",\n    value: function handleEditBtn() {\n      var props = this.cellApi.props;\n      var model = {\n        pageId: props.pid,\n        entryKey: props.gridId,\n        key: props.column.colId\n      };\n      props.btnClick(model);\n      this.cellApi.stopEditing(); // 大文本点击按钮，摘要也要发到后端\n    }\n  }, {\n    key: \"defaultFocusObj\",\n    value: function defaultFocusObj(eTop) {\n      var tL = eTop.getElementsByTagName('textarea');\n      if (tL && tL[0] && tL[0].focus) {\n        tL[0].focus();\n      }\n    }\n  }, {\n    key: \"setSelection\",\n    value: function setSelection(eTop) {\n      var tL = eTop.getElementsByTagName('textarea');\n      if (tL && tL[0] && tL[0].select && this.cellApi.props.keyPress != 13) {\n        tL[0].select();\n      }\n    }\n  }, {\n    key: \"handleValueChange\",\n    value: function handleValueChange(e) {\n      // TODO:可以做个延迟\n      this.cellApi.publishChangedValue(e.target.value);\n      // this.cellApi.stopEditing(false);这样更新不会重新渲染，导致state未更新，是否考虑用普通属性？\n    }\n  }, {\n    key: \"isPopup\",\n    value: function isPopup() {\n      return false;\n    }\n  }]);\n  return LTextAreaEditor;\n}();\nvar LTxtAreaCellEditor = exports[\"default\"] = (0, _AlphaFactory[\"default\"])(new LTextAreaEditor());\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/CellEditor/LTextAreaEditor.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/CellEditor/MulLangCellEditor.js":
/*!*******************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/CellEditor/MulLangCellEditor.js ***!
  \*******************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.mulLangEditor = exports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _AlphaFactory = _interopRequireDefault(__webpack_require__(/*! ./AlphaFactory.js */ \"./src/component/web/DataGrid/AgDataGrid/CellEditor/AlphaFactory.js\"));\nvar _MulLangText = _interopRequireDefault(__webpack_require__(/*! ../../../base/MulLangText */ \"./src/component/web/base/MulLangText.js\"));\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _keyCode = __webpack_require__(/*! @/constant/keyCode */ \"./src/constant/keyCode.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); } // import {getCursorPosition} from './BasicCellEditor.js';\nvar MulLangEditor = exports.mulLangEditor = /*#__PURE__*/function () {\n  function MulLangEditor() {\n    var _this = this;\n    _classCallCheck(this, MulLangEditor);\n    this.handleKeyDown = function (e) {\n      if (e.keyCode === _keyCode.KEYS.ENTER && e.altKey) {\n        e.target.value = e.target.value + '\\r\\n';\n        e.target.scrollTop = e.target.scrollHeight;\n        e.stopPropagation();\n      }\n    };\n    this.setExpandDom = function (range) {\n      _this._child = range;\n    };\n  }\n  _createClass(MulLangEditor, [{\n    key: \"onInitial\",\n    value: function onInitial(handoverApi) {\n      this.cellApi = handoverApi;\n    }\n  }, {\n    key: \"defaultValue\",\n    value: function defaultValue(props) {\n      return {};\n    }\n  }, {\n    key: \"decorateStartValue\",\n    value: function decorateStartValue(args) {\n      var startValue = args.startValue,\n        props = args.props;\n      if (startValue != null && _typeof(startValue) !== 'object') {\n        //\n        // return {[props.localeId]:startValue}\n        return Object.assign({}, props.value, _defineProperty({}, props.localeId, startValue));\n      } else {\n        return startValue;\n      }\n    }\n  }, {\n    key: \"setSelection\",\n    value: function setSelection(eInput) {\n      eInput.select && eInput.select();\n    }\n  }, {\n    key: \"getEditor\",\n    value: function getEditor(args) {\n      var _this2 = this;\n      var value = args.value,\n        props = args.props;\n      var editor = props.editor,\n        localeId = props.localeId,\n        getMulLangListInRootPage = props.getMulLangListInRootPage,\n        defaultLocalId = props.defaultLocalId;\n      // let textValue= value?value[props.localeId] :'';\n      var langList = getMulLangListInRootPage && getMulLangListInRootPage();\n      var maxlength = editor.maxlength,\n        emptytip = editor.emptytip,\n        multiLine = editor.multiLine;\n      emptytip = Object.prototype.toString.call(emptytip) === '[object Object]' ? emptytip[localeId] : emptytip;\n      maxlength = typeof maxlength === 'number' && maxlength >= 0 ? maxlength : 50;\n      var fontSize = props.colStyle && props.colStyle.fontSize;\n      // props.eGridCell.style.background = 'white'; //基础控件有点问题，先兼容下. 注意！会影响eGridCell的样式\n      var wrapStyle = {\n        color: '#333',\n        fontSize: fontSize,\n        height: multiLine ? '100%' : undefined\n      };\n      var inputStyle = {\n        fontSize: fontSize,\n        paddingRight: multiLine ? 24 : 22\n      };\n      return /*#__PURE__*/_react[\"default\"].createElement(_MulLangText[\"default\"], {\n        onKeyDown: this.handleKeyDown,\n        langIconStyle: {\n          top: '50%',\n          marginTop: -9,\n          right: multiLine ? 8 : 6,\n          color: '#333'\n        },\n        langList: (0, _immutable.fromJS)(langList),\n        Grow: 1,\n        maxLength: maxlength,\n        value: value,\n        placeholder: emptytip,\n        onChange: function onChange(val) {\n          return _this2.handleValueChange(val);\n        },\n        getPopupPanel: function getPopupPanel(ele) {\n          return _this2.setExpandDom(ele);\n        },\n        lang: localeId,\n        defaultLang: defaultLocalId,\n        multiLine: multiLine,\n        wrapStyle: wrapStyle,\n        inputStyle: inputStyle,\n        isGrid: true\n      });\n    }\n  }, {\n    key: \"handleValueChange\",\n    value: function handleValueChange(value) {\n      // let nValue = Object.assign({},preValue,{[lang]:e.target.value});\n      // if(this.cellApi.props.localeId==lang){//当前语言向非当前语言转\n      //     let temV=convertST(lang,e.target.value);\n      //     switch(lang){\n      //         case 'zh_TW':\n      //             nValue = Object.assign({},nValue,{'zh_CN':temV}); //转简体\n      //         break;\n      //         case 'zh_CN':\n      //             nValue = Object.assign({},nValue,{'zh_TW':temV}); //转繁体\n      //         break;\n      //     }\n      // }\n\n      // //TODO:可以做个延迟\\\n      this.cellApi.publishChangedValue(value);\n    }\n  }, {\n    key: \"defaultFocusObj\",\n    value: function defaultFocusObj(eTop) {\n      var inputList = eTop.getElementsByTagName('input');\n      if (inputList.length > 0) {\n        return inputList[0];\n      }\n      var textAreaList = eTop.getElementsByTagName('textarea');\n      if (textAreaList.length > 0) {\n        return textAreaList[0];\n      }\n      return eTop;\n    }\n  }, {\n    key: \"compareValue\",\n    value: function compareValue(a, b) {\n      return _lodash[\"default\"].isEqual(a, b);\n    }\n  }, {\n    key: \"getExpandRange\",\n    value: function getExpandRange() {\n      return this._child;\n    }\n  }, {\n    key: \"isCancelAfterEnd\",\n    value: function isCancelAfterEnd() {\n      // this.cellApi.props.eGridCell.style.background = 'inherit' // 背景色归位\n    }\n  }]);\n  return MulLangEditor;\n}();\nvar MulLangCellEditor = exports[\"default\"] = (0, _AlphaFactory[\"default\"])(new MulLangEditor());\n\n// export default AlphaFactory(new MulLangCellEditor2());\n\n/*\r\n//初始参数\r\nhandoverApi:[\r\n    props\r\n    onEditorValueChanged(e,changeParams)\r\n    stopEditing(cancel)\r\n    setParams\r\n    getParams\r\n]\r\n\r\n//受监听方法\r\nonInitial(handoverApi)\r\ndefaultValue(props)\r\ndecorateStartValue(args)\r\nsetEditorValue(args)\r\ngetEditor(args)\r\ndefaultFocusObj(eTop)\r\nsetSelection(eInput)\r\nisPopup\r\nisCancelBeforeStart(superCancel)\r\nisCancelAfterEnd(superCancel)\r\ncompareValue(a,b)\r\n */\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/CellEditor/MulLangCellEditor.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/CellEditor/NumberCellEditor.js":
/*!******************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/CellEditor/NumberCellEditor.js ***!
  \******************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-properties.js */ \"../../node_modules/core-js/modules/es.object.define-properties.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptors.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.numberEditor = exports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.parse-float.js */ \"../../node_modules/core-js/modules/es.parse-float.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _AlphaFactory = _interopRequireDefault(__webpack_require__(/*! ./AlphaFactory.js */ \"./src/component/web/DataGrid/AgDataGrid/CellEditor/AlphaFactory.js\"));\nvar _serverproperties = __webpack_require__(/*! ../../../../../constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _BaseComponents = __webpack_require__(/*! ../../../base/BaseComponents */ \"./src/component/web/base/BaseComponents/index.js\");\nvar _componentutil = __webpack_require__(/*! @/util/componentutil */ \"./src/util/componentutil.js\");\nvar _formatUtil = __webpack_require__(/*! @/util/formatUtil */ \"./src/util/formatUtil.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); } // import {Button,Label,PlaceHolder,CardRowPanel,Text,TextArea,Number,DatePicker,CheckBox,Select,Image} from '../../../base/baseComponent.jsx';\nvar MIN_NUMBER = -10000000000000; // 后端数据库的最小值要大于这个值\nvar NumberEditor = exports.numberEditor = /*#__PURE__*/function () {\n  function NumberEditor() {\n    var _this = this;\n    _classCallCheck(this, NumberEditor);\n    this.compareValue = function (a, b) {\n      var props = _this.cellApi.props;\n      var gridContrlParams = props.gridContrlParams;\n      var isListView = gridContrlParams.isListView;\n      if (isListView) {\n        // 列表格式化前的值是数字类型，这里强转比较\n        return a + '' === b + '';\n      }\n      return a === b;\n    };\n  }\n  _createClass(NumberEditor, [{\n    key: \"onInitial\",\n    value: function onInitial(handoverApi) {\n      this.cellApi = handoverApi;\n      this.noformat = false; // 这个变量用来控制未进入编辑态直接键入数字的时候格式化的问题，这种情况跳过格式化\n    }\n  }, {\n    key: \"defaultValue\",\n    value: function defaultValue(props) {\n      return null;\n    }\n  }, {\n    key: \"decorateStartValue\",\n    value: function decorateStartValue(args) {\n      var startValue = args.startValue,\n        props = args.props;\n      if (props.charPress) {\n        // 数字为了方便，可以直接按数字键作为值\n        if (/^\\d+$/.test(props.charPress)) {\n          this.noformat = true;\n          return props.charPress;\n        }\n        return props.value;\n      } else {\n        return startValue;\n      }\n    }\n  }, {\n    key: \"getEditor\",\n    value: function getEditor(args) {\n      var _this2 = this;\n      var value = args.value,\n        props = args.props;\n      var numberType = props.editor.nt;\n      var scale = props.editor[_serverproperties.SCALE];\n      var displayDecimalLength = props.editor[_serverproperties.DISPLAY_SCALE];\n      var scaleDependencies = props.editor[_serverproperties.SCALE_DEPENDENCIES];\n      var showSymbol = false;\n      var symbol = '';\n      var integerPrecision = props.editor[_serverproperties.PRECISION];\n      // TODO:复杂取数要放到初始化里\n      var srcFieldInfo = props.getSrcFieldInfo(props.gridContrlParams.isListView ? _objectSpread(_objectSpread({}, props), {}, {\n        supressMainCurrency: true\n      }) : props);\n      if (srcFieldInfo) {\n        scale = srcFieldInfo.scale;\n        showSymbol = srcFieldInfo.showSymbol;\n        symbol = srcFieldInfo.symbol;\n        // 整体精度根据小数精度去重算，针对金额币别有关联的情况\n        integerPrecision = integerPrecision - props.editor[_serverproperties.SCALE] + scale;\n      }\n      if (scaleDependencies) {\n        var pageId = props.pid;\n        var key = props.column.colId;\n        var data = props.data;\n        var dependenciesScale = (0, _componentutil.getScaleFromDependencies)({\n          pageId: pageId,\n          data: data,\n          key: key,\n          scaleDependencies: scaleDependencies\n        });\n        if (dependenciesScale !== undefined) {\n          scale = dependenciesScale;\n        }\n      }\n      // props.eGridCell.style.background = 'white';//基础控件有点问题，先兼容下. 注意！会影响eGridCell的样式\n      var style = showSymbol ? {\n        paddingLeft: 0\n      } : {};\n      var fontSize = props.colStyle && props.colStyle.fontSize;\n      // 数值类型单元格默认右对齐\n      var textAlign = props.colStyle && props.colStyle.textAlign || 'right';\n      style = Object.assign({\n        fontSize: fontSize,\n        textAlign: textAlign\n      }, props.style, style); // 基础字段样式太坑了。。\n      var formatEditValue;\n      if (!this.noformat) {\n        formatEditValue = function formatEditValue() {\n          return (0, _formatUtil.formatEditNumber)(value, {\n            zeroShow: props.editor[_serverproperties.ZERO_SHOW],\n            decimalLength: scale,\n            noDisplayDecimalTailZero: props.editor[_serverproperties.NO_DISPLAY_SCALE_ZERO]\n          });\n        };\n      }\n      return /*#__PURE__*/_react[\"default\"].createElement(_BaseComponents.Number, {\n        type: numberType,\n        value: value,\n        formatEditValue: formatEditValue,\n        noformat: this.noformat,\n        disabled: props.editable === false,\n        onChange: function onChange(e) {\n          return _this2.handleValueChange(e);\n        },\n        onBlur: function onBlur(e) {\n          return _this2.handleValueChange(e);\n        } // blur在某些情况会修改输入框的值\n        ,\n        placeholder: props.ph,\n        readOnly: props.readOnly,\n        className: props.styles.field,\n        boxStyle: {\n          flexGrow: 1\n        },\n        style: style,\n        digitLength: integerPrecision,\n        decimalLength: scale,\n        displayDecimalLength: displayDecimalLength || scale,\n        zeroShow: props.editor[_serverproperties.ZERO_SHOW],\n        noDisplayDecimalTailZero: props.editor[_serverproperties.NO_DISPLAY_SCALE_ZERO],\n        mask: props.editor[_serverproperties.MASK],\n        displayFormat: props.editor[_serverproperties.DISPLAY_FORMAT],\n        min: props.editor[_serverproperties.MIN_VALUE],\n        max: props.editor[_serverproperties.MAX_VALUE],\n        minMark: props.editor[_serverproperties.MIN_MARK],\n        maxMark: props.editor[_serverproperties.MAX_MARK],\n        required: props.editor[_serverproperties.MUST_INPUT],\n        symbol: symbol,\n        showSymbol: showSymbol,\n        roundMethod: props.editor[_serverproperties.ROUND_METHOD] || '0'\n      });\n    }\n  }, {\n    key: \"handleValueChange\",\n    value: function handleValueChange(e) {\n      var props = this.cellApi.props;\n      // 整数时应该直接屏蔽掉小数点，但此处取不到当前key\n      var value = e.target.value;\n      // if (!isNaN(parseFloat(value)) && parseFloat(value) > MAX) return false// this.cellApi.getNewValue();\n      if (value == '' || value == '.' || value === '-') value = null; // 单独的-后端未处理，这里也不发\n      // TODO:可以做个延迟\n      // console.log(parseInt(value));\n      // console.log(parseFloat(value));\n      this.cellApi.publishChangedValue(value);\n    }\n  }, {\n    key: \"setSelection\",\n    value: function setSelection(eInput) {\n      if (this.cellApi.props.charPress && /^\\d+$/.test(this.cellApi.props.charPress)) {\n        // 数字为了方便，可以直接按数字键作为值\n        // selectionStart、selectionEnd --用来设置选中的文本范围\n        if (eInput.selectionEnd !== undefined && eInput.selectionStart !== undefined) {\n          eInput.selectionEnd = eInput.selectionStart = eInput.value.length;\n        }\n      } else {\n        eInput.select();\n      }\n    }\n  }, {\n    key: \"isCancelAfterEnd\",\n    value: function isCancelAfterEnd(isCancel) {\n      // 失去焦点时不会触发onBlur事件，需要在这里判断\n      var value = this.cellApi.getNewValue();\n      var _this$cellApi$props$e = this.cellApi.props.editor,\n        minMark = _this$cellApi$props$e.minm,\n        min = _this$cellApi$props$e.min,\n        max = _this$cellApi$props$e.max,\n        required = _this$cellApi$props$e.mi;\n      if (value === null && !required) {\n        this.cellApi.publishChangedValue(value);\n        return isCancel;\n      }\n      var newVal = value;\n      var minVal = Math.max(Number(min) || MIN_NUMBER, MIN_NUMBER);\n      var diffValue = value - minVal; // 这里value 可能为-\n      var isInValid = isNaN(diffValue);\n      if (isInValid) {\n        newVal = minVal;\n      }\n      if (Number(newVal) < Number(min)) {\n        newVal = min;\n      }\n      if (Number(newVal) > Number(max)) {\n        newVal = max;\n      }\n      this.cellApi.publishChangedValue(newVal || newVal === 0 ? newVal + '' : newVal);\n      return isCancel;\n    }\n  }, {\n    key: \"isScopeValid\",\n    value: function isScopeValid() {\n      var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n      if (value === '' || value === null) return true;\n      var _this$cellApi$props$e2 = this.cellApi.props.editor,\n        min = _this$cellApi$props$e2.min,\n        minm = _this$cellApi$props$e2.minm,\n        max = _this$cellApi$props$e2.max,\n        maxm = _this$cellApi$props$e2.maxm;\n      var numberValue = parseFloat(value) || 0;\n      if (minm === '[' && numberValue < min) return false;\n      if (minm === '(' && numberValue <= min) return false;\n      if (maxm === ']' && numberValue > max || maxm === ')' && numberValue >= max) {\n        return false;\n      }\n      return true;\n    }\n  }]);\n  return NumberEditor;\n}();\nvar NumberCellEditor = exports[\"default\"] = (0, _AlphaFactory[\"default\"])(new NumberEditor());\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/CellEditor/NumberCellEditor.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/CellEditor/SelectEditor.js":
/*!**************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/CellEditor/SelectEditor.js ***!
  \**************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.selectEditor = exports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.timers.js */ \"../../node_modules/core-js/modules/web.timers.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _AlphaFactory = _interopRequireDefault(__webpack_require__(/*! ./AlphaFactory.js */ \"./src/component/web/DataGrid/AgDataGrid/CellEditor/AlphaFactory.js\"));\nvar _Select = _interopRequireDefault(__webpack_require__(/*! ../../../base/Select.js */ \"./src/component/web/base/Select.js\"));\nvar _componentutil = __webpack_require__(/*! ../../../../../util/componentutil */ \"./src/util/componentutil.js\");\nvar _serverproperties = __webpack_require__(/*! ../../../../../constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _keyCode = __webpack_require__(/*! @/constant/keyCode */ \"./src/constant/keyCode.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar SelectEditor = exports.selectEditor = /*#__PURE__*/function () {\n  function SelectEditor() {\n    var _this = this;\n    _classCallCheck(this, SelectEditor);\n    this.setExpandDom = function (range) {\n      _this._child = range;\n    };\n    this.handleKeyDown = function (e) {\n      if (e.keyCode === _keyCode.KEYS.ENTER) {\n        _this.cellApi.onQSKeyDown(e);\n      } else if (e.keyCode === _keyCode.KEYS.TAB) {\n        _this.cellApi.onQSKeyDown(e);\n      }\n    };\n    this.handlePanelClosed = function () {\n      var cellApi = _this.cellApi;\n      var cell = cellApi.props.api.getFocusedCell();\n      cell && cellApi.props.api.setFocusedCell(cell.rowIndex, cell.column, null);\n    };\n  }\n  _createClass(SelectEditor, [{\n    key: \"onInitial\",\n    value: function onInitial(handoverApi) {\n      this.cellApi = handoverApi;\n      var props = this.cellApi.props;\n      var eCellc = props.eGridCell;\n      var eGridc = props.getGridContainer();\n      var fromTop = props.eGridCell.parentElement.offsetTop;\n      var fromLeft = props.eGridCell.offsetLeft;\n      var popupElm = props.reactContainer.parentElement;\n      var getAbsPoint = function getAbsPoint(resource, target) {\n        var _resource$getBounding = resource.getBoundingClientRect(),\n          x1 = _resource$getBounding.left,\n          y1 = _resource$getBounding.top;\n        var _target$getBoundingCl = target.getBoundingClientRect(),\n          x2 = _target$getBoundingCl.left,\n          y2 = _target$getBoundingCl.top;\n        return {\n          relativeX: x1 - x2,\n          relativeY: y1 - y2\n        };\n      };\n      var eGridPositon = getAbsPoint(eCellc, eGridc); // 单元格位置\n      this.cellApi.setContainerData('relativeX', eGridPositon.relativeX);\n      this.cellApi.setContainerData('relativeY', eGridPositon.relativeY);\n      this.cellApi.setContainerData('containerH', eGridc.clientHeight);\n      this.cellApi.setContainerData('containerW', eGridc.clientWidth);\n    }\n  }, {\n    key: \"defaultValue\",\n    value: function defaultValue() {\n      return '';\n    }\n  }, {\n    key: \"decorateStartValue\",\n    value: function decorateStartValue(args) {\n      var startValue = args.startValue,\n        props = args.props;\n      return props.value;\n    }\n  }, {\n    key: \"getExpandRange\",\n    value: function getExpandRange() {\n      return this._child;\n    }\n  }, {\n    key: \"getEditor\",\n    value: function getEditor(args) {\n      var _this2 = this;\n      var value = args.value,\n        props = args.props,\n        state = args.state;\n      // console.log(this.cellApi.getContainerData('relativeX'),',',this.cellApi.getContainerData('relativeY'))\n      var containerH = this.cellApi.getContainerData('containerH');\n      var cellY = this.cellApi.getContainerData('relativeY');\n      var showStyle = props.editor.showStyle; // 0:文本；1：图片；2：图文\n      var showClearBtn = props.editor[_serverproperties.SHOW_CLEAR_BUTTON];\n      var downExpand = (cellY + props.gridOptions.rowHeight / 2) / containerH <= 0.5; // TODO:应该判断下方容不下时\n      downExpand = containerH - cellY > props.gridOptions.rowHeight + props.editor.st.length * 26;\n      value = value == null ? '' : value;\n      var localeId = props.localeId || 'zh_CN';\n      // 这个地方要判断是否存在以避免反复重建。key:pageid+unId\n      // 以后要换成richSelect\n      // let value = model.getDataValue();\n      var array = [];\n      var opts = props.editor.st;\n      var dataOpts = props.getColProperty(props.column.colId, 'colCtrl');\n      opts = dataOpts.st || opts;\n      var parentId = props.editor.pid;\n      // if(props.column.colId==='combofield1'){\n      // \topts =[\n      // \t\t['1',{zh_CN: \"a\"},'',\"1,3\"],\n      // \t\t['2',{zh_CN: \"b\"},'',\"1,2\"],\n      // \t\t['3',{zh_CN: \"c\"},'',\"2\"],\n      // \t\t['4',{zh_CN: \"d\"},'',\"1,2,3,4\"],\n      // \t]\n      // \tparentId = 'filterparent'\n      // }\n      if (parentId) {\n        opts = props.filterParentCtrledItems('select', {\n          props: props,\n          filterObj: opts,\n          parentId: parentId\n        });\n      }\n      opts.forEach(function (item) {\n        // if (item[0] !== '') {\n        var _item = {};\n        _item.value = item[0];\n        _item.alias = item[1] ? item[1][localeId] || item[1][props.defaultLocalId] || item[1].zh_CN : '';\n        _item.itemVisible = item[3];\n        _item.disabled = item[4];\n        if (item[2]) {\n          // _item.imgkey = (props.config.fileserver || '') + item[2];\n          _item.imgkey = (0, _componentutil.getImgFullPath)(props.config.fileserver, item[2]);\n        }\n        array.push(_item);\n        // }\n        /* else if(!props.mustInput){\n                  array.unshift({\n                      value: '',\n                      alias : '请选择'\n                  })\n              } */\n      });\n      var containerRange = props.getGridContainer();\n      var appendRange = {\n        clientHeight: containerRange.clientHeight,\n        clientWidth: containerRange.clientWidth\n      };\n      // 如果在渲染时就给定大小，会自动适应界面。\n      /* 下拉项    position: absolute;\n        right: 0px;\n        z-index: 1;\n        top: 39px;\n        left: 0px;\n        width: 100%;\n        height: 90px;\n        overflow-y: scroll;\n        relateTop={props.gridOptions.rowHeight-1}\n        */\n      var fontSize = props.colStyle && props.colStyle.fontSize;\n      var style = {\n        fontSize: fontSize,\n        // height:props.gridOptions.rowHeight + props.st.length * 26,//TODO:下拉表表支持设置展开方向，故先不让表格自动定位\n        width: props.column.actualWidth - 8 + 'px',\n        height: '100%',\n        position: 'relative',\n        cursor: 'default',\n        border: 'none',\n        padding: '3px 6px',\n        marginRight: '0px',\n        boxSizing: 'border-box'\n      };\n      var multiple = props.type === 'mulcombo';\n      var selectedItemStyle = props.editor[_serverproperties.SELECTED_ITEM_STYLE];\n      var isLabelStyle = selectedItemStyle === 'label';\n      return /*#__PURE__*/_react[\"default\"].createElement(_Select[\"default\"], {\n        items: array,\n        showOption: state.showOption,\n        showClearBtn: showClearBtn,\n        showStyle: showStyle,\n        onChange: function onChange(value) {\n          return _this2.handleValueChange(value);\n        },\n        onKeyDown: this.handleKeyDown,\n        value: value,\n        multiple: multiple,\n        style: style,\n        theme: \"flat\",\n        getPopupPanel: function getPopupPanel(ele) {\n          return _this2.setExpandDom(ele);\n        },\n        required: props.mustInput,\n        tabIndex: 0,\n        selectedItemStyle: selectedItemStyle,\n        isSelectedItemWrap: multiple && isLabelStyle,\n        isCollapseTags: multiple && isLabelStyle,\n        isJustShowSelectedValueText: multiple && isLabelStyle,\n        labelStylePositionType: \"relative\",\n        onPanelClosed: this.handlePanelClosed,\n        singleClearIconStyle: {\n          right: 26\n        },\n        panelAlign: \"bottom\"\n      });\n    }\n  }, {\n    key: \"handleValueChange\",\n    value: function handleValueChange(value) {\n      var props = this.cellApi.props;\n      var cV = {\n        k: props.column.colId,\n        r: props.node.data[props.rk],\n        v: value\n      };\n      var model = {\n        pageId: props.pid,\n        key: props.gridId\n      };\n      /* 直接把新值发到服务端\n        ！！！！*******！！！！  TODO:已经传到后台的值，不应该再写到post中去。\n        现在有个问题：后台回传新值时，要停止编辑，此时value与post两者都不要再进store.未传新值，则value要进store,post不进。\n        而如果设计成直接每次更改就进store,又会导致编辑器每次都关闭。 */\n      // 多选下拉列表不能即时向后台发，会导致编辑器关闭\n      if (props.type !== 'mulcombo') {\n        props.invokeCellChangeOnly(model, [cV]);\n        this.cellApi.publishChangedValue(value, false);\n        // 单选直接调用keydown方法退出编辑\n        this.cellApi.onQSKeyDown({\n          keyCode: _keyCode.KEYS.ENTER\n        });\n      } else {\n        this.cellApi.publishChangedValue(value, false);\n      }\n      // this.cellApi.stopEditing(false);//这样更新不会重新渲染，导致state未更新，是否考虑用普通属性？\n    }\n  }, {\n    key: \"afterGuiAttached\",\n    value: function afterGuiAttached(eTop) {\n      var _this3 = this;\n      // 挂到单元格后，要将下拉项展示出来\n      // 这里延后一个时机执行，避免校验提示遮挡下拉面板\n      setTimeout(function () {\n        _this3.cellApi.updateState({\n          showOption: true\n        });\n      });\n    }\n\n    /*    isPopup(){\n              return true;\n          } */\n  }]);\n  return SelectEditor;\n}();\nvar SelectCellEditor = exports[\"default\"] = (0, _AlphaFactory[\"default\"])(new SelectEditor());\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/CellEditor/SelectEditor.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/CellEditor/StepperCellEditor.js":
/*!*******************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/CellEditor/StepperCellEditor.js ***!
  \*******************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.stepperEditor = exports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.parse-float.js */ \"../../node_modules/core-js/modules/es.parse-float.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _AlphaFactory = _interopRequireDefault(__webpack_require__(/*! ./AlphaFactory */ \"./src/component/web/DataGrid/AgDataGrid/CellEditor/AlphaFactory.js\"));\nvar _Stepper = _interopRequireDefault(__webpack_require__(/*! ../../../base/Stepper */ \"./src/component/web/base/Stepper.jsx\"));\nvar _serverproperties = __webpack_require__(/*! ../../../../../constant/serverproperties */ \"./src/constant/serverproperties.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar MIN_NUMBER = -10000000000000; // 后端数据库的最小值要大于这个值\nvar MAX_NUMBER = 9999999999999.99;\nvar StepperEditor = exports.stepperEditor = /*#__PURE__*/function () {\n  function StepperEditor() {\n    var _this = this;\n    _classCallCheck(this, StepperEditor);\n    this.handleChange = function (e) {\n      _this.cellApi.publishChangedValue(e.target.value);\n    };\n    this.operatorClick = function (value) {\n      _this.cellApi.publishChangedValue(value);\n    };\n  }\n  _createClass(StepperEditor, [{\n    key: \"onInitial\",\n    value: function onInitial(handoverApi) {\n      this.cellApi = handoverApi;\n    }\n  }, {\n    key: \"getEditor\",\n    value: function getEditor(args) {\n      var stepProps = this._getStepProps(args);\n      return /*#__PURE__*/_react[\"default\"].createElement(_Stepper[\"default\"], _extends({}, stepProps, {\n        handelOperatorClick: this.operatorClick,\n        onChange: this.handleChange,\n        onBlur: this.handleChange,\n        zeroShow: true\n      }));\n    }\n  }, {\n    key: \"isCancelAfterEnd\",\n    value: function isCancelAfterEnd(isCancel) {\n      // 失去焦点时不会触发onBlur事件，需要在这里判断\n      var value = this.cellApi.getNewValue();\n      var _this$cellApi$props$e = this.cellApi.props.editor,\n        minMark = _this$cellApi$props$e.minm,\n        min = _this$cellApi$props$e.min,\n        max = _this$cellApi$props$e.max;\n      var newVal = value;\n      var minVal = Math.max(min || MIN_NUMBER, MIN_NUMBER);\n      var diffValue = value - minVal; // 这里value 可能为-\n      var isInValid = isNaN(diffValue) || minMark === '[' && diffValue < 0 || minMark === '(' && diffValue <= 0;\n      if (isInValid) {\n        newVal = minVal;\n      }\n      if (newVal < min) {\n        newVal = min;\n      }\n      if (newVal > max) {\n        newVal = max;\n      }\n      this.cellApi.publishChangedValue(newVal);\n      return isCancel;\n    }\n  }, {\n    key: \"isScopeValid\",\n    value: function isScopeValid() {\n      var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n      if (value === '' || value === null) return true;\n      var _this$cellApi$props$e2 = this.cellApi.props.editor,\n        min = _this$cellApi$props$e2.min,\n        minm = _this$cellApi$props$e2.minm,\n        max = _this$cellApi$props$e2.max,\n        maxm = _this$cellApi$props$e2.maxm;\n      var numberValue = parseFloat(value) || 0;\n      if (minm === '[' && numberValue < min) return false;\n      if (minm === '(' && numberValue <= min) return false;\n      if (maxm === ']' && numberValue > max || maxm === ')' && numberValue >= max) {\n        return false;\n      }\n      return true;\n    }\n  }, {\n    key: \"_getStepProps\",\n    value: function _getStepProps(args) {\n      var props = args.props,\n        value = args.value;\n      var editor = props.editor,\n        getSrcFieldInfo = props.getSrcFieldInfo;\n      var srcFieldInfo = getSrcFieldInfo(props);\n      var _ref = srcFieldInfo || {},\n        scale = _ref.scale,\n        showSymbol = _ref.showSymbol,\n        symbol = _ref.symbol;\n      var fontSize = props.colStyle && props.colStyle.fontSize;\n      var max = Math.min(editor[_serverproperties.MAX_VALUE] || MAX_NUMBER, MAX_NUMBER);\n      return {\n        fieldStyle: {\n          fontSize: fontSize\n        },\n        style: {\n          fontSize: fontSize\n        },\n        value: value === null ? '' : value,\n        type: editor[_serverproperties.NUM_TYPE],\n        digitLength: editor[_serverproperties.PRECISION],\n        decimalLength: srcFieldInfo ? scale : editor[_serverproperties.SCALE],\n        mask: editor[_serverproperties.MASK],\n        displayFormat: editor[_serverproperties.DISPLAY_FORMAT],\n        noDisplayDecimalTailZero: editor[_serverproperties.NO_DISPLAY_SCALE_ZERO],\n        min: editor[_serverproperties.MIN_VALUE],\n        max: max,\n        minMark: editor[_serverproperties.MIN_MARK],\n        maxMark: editor[_serverproperties.MAX_MARK],\n        symbol: srcFieldInfo ? symbol : '',\n        showSymbol: !!showSymbol,\n        roundMethod: editor[_serverproperties.ROUND_METHOD] || '0',\n        stepperStyle: editor && editor.stepperstyle || 0,\n        stepValue: editor && editor.stepvalue || 1\n      };\n    }\n  }]);\n  return StepperEditor;\n}();\nvar StepperCellEditor = exports[\"default\"] = (0, _AlphaFactory[\"default\"])(new StepperEditor());\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/CellEditor/StepperCellEditor.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/CellEditor/TelephoneEditor.js":
/*!*****************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/CellEditor/TelephoneEditor.js ***!
  \*****************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.phoneEditor = exports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.find.js */ \"../../node_modules/core-js/modules/es.array.find.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.reduce.js */ \"../../node_modules/core-js/modules/es.array.reduce.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.object.values.js */ \"../../node_modules/core-js/modules/es.object.values.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _AlphaFactory = _interopRequireDefault(__webpack_require__(/*! ./AlphaFactory.js */ \"./src/component/web/DataGrid/AgDataGrid/CellEditor/AlphaFactory.js\"));\nvar _index = _interopRequireDefault(__webpack_require__(/*! ../../../base/Telephone/index */ \"./src/component/web/base/Telephone/index.js\"));\nvar _GlobalDataCacher = __webpack_require__(/*! ../../../../../model/GlobalDataCacher */ \"./src/model/GlobalDataCacher.js\");\nvar _symbolConst = __webpack_require__(/*! ../../../../../constant/symbolConst */ \"./src/constant/symbolConst.js\");\nvar _const = __webpack_require__(/*! ../../../../../constant/const */ \"./src/constant/const.js\");\nvar _memoryCacher = __webpack_require__(/*! @/model/memoryCacher */ \"./src/model/memoryCacher.js\");\nvar _keyCode = __webpack_require__(/*! @/constant/keyCode */ \"./src/constant/keyCode.js\");\nvar _singleSpa = __webpack_require__(/*! @/api/singleSpa */ \"./src/api/singleSpa.js\");\nvar _telephoneUtils = __webpack_require__(/*! @/util/telephoneUtils */ \"./src/util/telephoneUtils.js\");\nvar _componentutil = __webpack_require__(/*! @/util/componentutil */ \"./src/util/componentutil.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar TelephoneEditor = exports.phoneEditor = /*#__PURE__*/function () {\n  function TelephoneEditor() {\n    var _this = this;\n    _classCallCheck(this, TelephoneEditor);\n    this.handleViaKeydown = function (e) {\n      if (!e.shiftKey && e.keyCode !== _keyCode.KEYS.F6) {\n        e.stopPropagation();\n      }\n      if ([_keyCode.KEYS.LEFT, _keyCode.KEYS.RIGHT].includes(e.keyCode)) {\n        _this.cellApi.onQSKeyDown(e, true);\n      }\n    };\n    this.getExpandRange = function () {\n      return _this._child;\n    };\n    // 自定义 - 获取区号弹出的容器\n    this.getContainer = function () {\n      if (_this._child) return _this._child;\n      var container = document.createElement('div');\n      document.body.appendChild(container);\n      _this._child = container;\n      return container;\n    };\n    this.handleValueChange = function (value) {\n      _this.cellApi.publishChangedValue(value);\n    };\n    this.setData = function (list) {\n      var totalInAry = Object.values(list).reduce(function (total, item) {\n        return total.concat(item);\n      }, []);\n      var props = _this.cellApi.props;\n      var pid = props.pid,\n        column = props.column,\n        rowIndex = props.rowIndex,\n        value = props.value;\n      var id, segment;\n      if (value && value.split('-').length === 2) {\n        var _vals = value.split('-');\n        id = _vals[0];\n        segment = _vals[1].substring(0, 3);\n      }\n      var currentCountry = (0, _telephoneUtils.getCurrentCountry)(totalInAry, id, segment);\n      (0, _memoryCacher.setPageData)(pid, [column.colId, rowIndex, _const.TELEPHONE_COUNTRY], currentCountry);\n      _this.cellApi.updateState({\n        viaList: value,\n        currentCountry: currentCountry\n      });\n    };\n    this.selectCountry = function (country) {\n      var props = _this.cellApi.props;\n      var pid = props.pid,\n        column = props.column,\n        rowIndex = props.rowIndex;\n      _this.cellApi.updateState({\n        currentCountry: country\n      });\n      (0, _memoryCacher.setPageData)(pid, [column.colId, rowIndex, _const.TELEPHONE_COUNTRY], country);\n    };\n  }\n  _createClass(TelephoneEditor, [{\n    key: \"onInitial\",\n    value: function onInitial(handoverApi) {\n      this.cellApi = handoverApi;\n    }\n  }, {\n    key: \"getEditor\",\n    value: function getEditor(args) {\n      var _this2 = this;\n      var state = args.state,\n        props = args.props,\n        value = args.value;\n      var viaList = (0, _GlobalDataCacher.getData)(_symbolConst.KEY_COUNTRU_VIA_DATA);\n      viaList = viaList || state.viaList || {};\n      var list = Object.values(viaList).reduce(function (total, item) {\n        return total.concat(item);\n      }, []);\n      var pid = props.pid,\n        gridId = props.gridId,\n        column = props.column,\n        editable = props.editable,\n        rowIndex = props.rowIndex;\n      var currentCountry = (0, _memoryCacher.getPageData)(pid, [column.colId, rowIndex, _const.TELEPHONE_COUNTRY]) || state.currentCountry || list.find(function (item) {\n        return item.id === '+86' || item.id === '86';\n      }) || list.find(function (item) {\n        return !!item.id;\n      }) || _const.TELEPHONE_DEFAULT_COUNTRY_CODE;\n      var model = {\n        pageId: pid,\n        entryKey: gridId,\n        key: column.colId\n      };\n      var fontSize = props.colStyle && props.colStyle.fontSize;\n      var textAlign = props.colStyle && props.colStyle.textAlign;\n      return /*#__PURE__*/_react[\"default\"].createElement(_index[\"default\"], {\n        style: {\n          fontSize: fontSize,\n          textAlign: textAlign\n        },\n        theme: \"flat\",\n        value: value,\n        model: model,\n        disabled: editable === false,\n        noValue: (0, _componentutil.getNOValue)(),\n        viaList: list,\n        country: currentCountry,\n        onChange: function onChange(value) {\n          return _this2.handleValueChange(value);\n        },\n        getPopupContainer: this.getContainer,\n        onBlur: function onBlur() {},\n        selectCountry: this.selectCountry,\n        onViaKeyDown: this.handleViaKeydown\n      });\n    }\n  }, {\n    key: \"afterGuiAttached\",\n    value:\n    // 获得数据\n    function afterGuiAttached() {\n      // 组件加载完成需要请求所有的国家手机号识别码\n      var props = this.cellApi.props;\n      var getTelViaList = props.getTelViaList,\n        pid = props.pid,\n        column = props.column;\n      var model = {\n        pageId: pid,\n        key: column.colId\n      };\n      var countryList = (0, _GlobalDataCacher.getData)(_symbolConst.KEY_COUNTRU_VIA_DATA);\n      if (!countryList) {\n        getTelViaList && getTelViaList(model);\n        this.unbindDataChangeListener = (0, _GlobalDataCacher.addDataChangeListener)(_symbolConst.KEY_COUNTRU_VIA_DATA, this.setData);\n      } else {\n        this.setData(countryList);\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.unbindDataChangeListener && this.unbindDataChangeListener();\n      var container = (0, _singleSpa.getRootContainter)();\n      this._child && container.removeChild(this._child);\n      this._child = null;\n    }\n  }]);\n  return TelephoneEditor;\n}();\nvar PhoneCellEditor = exports[\"default\"] = (0, _AlphaFactory[\"default\"])(new TelephoneEditor());\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/CellEditor/TelephoneEditor.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/CellEditor/TextAreaEditor.js":
/*!****************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/CellEditor/TextAreaEditor.js ***!
  \****************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.textAreaEditor = exports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _AlphaFactory = _interopRequireDefault(__webpack_require__(/*! ./AlphaFactory.js */ \"./src/component/web/DataGrid/AgDataGrid/CellEditor/AlphaFactory.js\"));\nvar _gridModel = __webpack_require__(/*! ../gridModel */ \"./src/component/web/DataGrid/AgDataGrid/gridModel/index.js\");\nvar _keyCode = __webpack_require__(/*! @/constant/keyCode */ \"./src/constant/keyCode.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar TextAreaEditor = exports.textAreaEditor = /*#__PURE__*/function () {\n  function TextAreaEditor() {\n    _classCallCheck(this, TextAreaEditor);\n    this.handleKeyDown = function (e) {\n      if (e.keyCode === _keyCode.KEYS.ENTER && e.altKey) {\n        e.target.value = e.target.value + '\\r\\n';\n        e.target.scrollTop = e.target.scrollHeight;\n        e.stopPropagation();\n      }\n    };\n  }\n  _createClass(TextAreaEditor, [{\n    key: \"onInitial\",\n    value: function onInitial(handoverApi) {\n      this.cellApi = handoverApi;\n    }\n  }, {\n    key: \"defaultValue\",\n    value: function defaultValue() {\n      return '';\n    }\n  }, {\n    key: \"decorateStartValue\",\n    value: function decorateStartValue(args) {\n      var startValue = args.startValue,\n        props = args.props;\n      return props.value;\n    }\n  }, {\n    key: \"getEditor\",\n    value: function getEditor(args) {\n      var _this = this;\n      var value = args.value,\n        props = args.props;\n\n      // eInput.onkeydown=function(event){\n      //     if(((event.shiftKey||event.altKey||event.ctrlKey) && event.keyCode==13)||(event.keyCode>=37&&event.keyCode<=40)){\n      //         event.stopPropagation();\n      //     }\n      // }\n      var fontSize = props.colStyle && props.colStyle.fontSize;\n      var textAlign = props.colStyle && props.colStyle.textAlign;\n      var style = {\n        fontSize: fontSize,\n        textAlign: textAlign,\n        width: this.cellApi.props.column.actualWidth - 6 + 'px',\n        border: 'none',\n        outline: 'none',\n        padding: '2px 6px'\n      };\n      return /*#__PURE__*/_react[\"default\"].createElement(\"textarea\", {\n        style: style\n        // className={props.styles['field']} popup 沒有帶cellclass進來。。\n        ,\n        onChange: function onChange(e) {\n          _this.handleValueChange(e);\n        },\n        value: value,\n        placeholder: props.ph,\n        maxLength: props.editor.maxlength || 30,\n        onKeyDown: this.handleKeyDown\n      });\n    }\n  }, {\n    key: \"defaultFocusObj\",\n    value: function defaultFocusObj(eTop) {\n      // const rh = this.cellApi.props.node.rowHeight\n      // const trh = this.cellApi.props.gridOptions.rowHeight //* 1.3;\n      // eTop.style.height = (rh > trh ? rh : trh) - 8 + 'px'\n      if (eTop.focus) {\n        eTop.focus();\n      }\n    }\n  }, {\n    key: \"setSelection\",\n    value: function setSelection(eTop) {\n      var fobj = eTop.getElementsByTagName('textarea');\n      if (fobj && fobj[0] && fobj[0].select && this.cellApi.props.keyPress != 13) {\n        fobj[0].select();\n      }\n    }\n  }, {\n    key: \"handleValueChange\",\n    value: function handleValueChange(e) {\n      this.cellApi.setContainerData('newValue', e.target.value);\n      this.cellApi.publishChangedValue(e.target.value);\n      // this.cellApi.stopEditing(false);这样更新不会重新渲染，导致state未更新，是否考虑用普通属性？\n    }\n  }, {\n    key: \"isPopup\",\n    value: function isPopup() {\n      return false;\n    }\n  }, {\n    key: \"isCancelAfterEnd\",\n    value: function isCancelAfterEnd(isCancelAE) {\n      if (isCancelAE) return isCancelAE;\n      // console.time('old')\n      // let v = this.cellApi.getContainerData('newValue');\n      // let w =this.cellApi.props.column.actualWidth-2;\n      // let tempDiv = calculateRowHeight.createDiv(w,{padding:'2px 8px',fontSize:'12px'},this.cellApi.props.styles['field']);\n      // let currentRowHeight = this.cellApi.props.node.rowHeight;\n      // let tt = calculateRowHeight.getHeight(tempDiv,v,currentRowHeight);\n      // calculateRowHeight.destroyDiv(tempDiv);\n      // setTimeout(() => {\n      //   this.cellApi.props.api.resetRowHeights() // 这个方法会回调getRowHeight方法\n      //   this.cellApi.props.api.ensureIndexVisible(this.cellApi.props.node.rowIndex) // 行高自适应后滚动条会上移(目前原因不明),需要手动设置行可见\n      // })\n      // this.cellApi.props.node.setRowHeight(tt);\n      // setTimeout(() =>{//这个方法会触发stopEditing,不延迟会死循环，\n      //     this.cellApi.props.api.onRowHeightChanged();\n      //     console.timeEnd('old')\n      // }, 0);\n      return isCancelAE;\n    }\n  }]);\n  return TextAreaEditor;\n}();\nvar TxtAreaCellEditor = exports[\"default\"] = (0, _AlphaFactory[\"default\"])(new TextAreaEditor());\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/CellEditor/TextAreaEditor.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/CellEditor/TimeCellEditor.js":
/*!****************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/CellEditor/TimeCellEditor.js ***!
  \****************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.timeField = exports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _AlphaFactory = _interopRequireDefault(__webpack_require__(/*! ./AlphaFactory */ \"./src/component/web/DataGrid/AgDataGrid/CellEditor/AlphaFactory.js\"));\nvar _TimeField = _interopRequireDefault(__webpack_require__(/*! ../../../baseField/TimeField */ \"./src/component/web/baseField/TimeField.jsx\"));\nvar _keyCode = __webpack_require__(/*! @/constant/keyCode */ \"./src/constant/keyCode.js\");\nvar _singleSpa = __webpack_require__(/*! @/api/singleSpa */ \"./src/api/singleSpa.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar TimeEditor = exports.timeField = /*#__PURE__*/function () {\n  function TimeEditor() {\n    var _this = this;\n    _classCallCheck(this, TimeEditor);\n    this.onInitial = function (handoverApi) {\n      _this.cellApi = handoverApi;\n    };\n    this.defaultValue = function () {\n      return '';\n    };\n    this.getExpandRange = function () {\n      return _this._child;\n    };\n    this.handleKeyDown = function (e) {\n      // 切模块快捷键不阻止冒泡\n      if (!e.shiftKey && e.keyCode !== _keyCode.KEYS.F6) {\n        e.stopPropagation();\n      }\n      if (e.keyCode === _keyCode.KEYS.ENTER) {\n        _this.cellApi.onQSKeyDown(e);\n      }\n    };\n    // 自定义 - 获取时间控件的父级容器\n    this.getContainer = function () {\n      if (_this._child) return _this._child;\n      var container = document.createElement('div');\n      document.body.appendChild(container);\n      _this._child = container;\n      return container;\n    };\n  }\n  _createClass(TimeEditor, [{\n    key: \"getEditor\",\n    value: function getEditor(args) {\n      var value = args.value,\n        props = args.props;\n      var mask = props.editor.mask;\n      var fontSize = props.colStyle && props.colStyle.fontSize;\n      var textAlign = props.colStyle && props.colStyle.textAlign;\n      var style = {\n        width: '100%',\n        height: '100%',\n        padding: '0 36px 0 6px',\n        border: 'none'\n      };\n      return /*#__PURE__*/_react[\"default\"].createElement(_TimeField[\"default\"], {\n        value: value,\n        mask: mask,\n        focusOpen: true,\n        style: style,\n        inputStyle: {\n          fontSize: fontSize,\n          textAlign: textAlign,\n          paddingRight: 0\n        },\n        iconStyle: {\n          right: 6\n        },\n        clearIconStyle: {\n          right: 6\n        },\n        getPopupContainer: this.getContainer,\n        onChange: this.cellApi.publishChangedValue,\n        onImmediateChange: this.cellApi.publishChangedValue // 每次值更新都回调\n        ,\n        onKeyDown: this.handleKeyDown\n      });\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var container = (0, _singleSpa.getRootContainter)();\n      this._child && container.removeChild(this._child);\n      this._child = null;\n    }\n  }]);\n  return TimeEditor;\n}();\nvar TimeCellEditor = exports[\"default\"] = (0, _AlphaFactory[\"default\"])(new TimeEditor());\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/CellEditor/TimeCellEditor.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/CellEditor/TimeRangeCellEditor.js":
/*!*********************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/CellEditor/TimeRangeCellEditor.js ***!
  \*********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.timeRangeField = exports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _AlphaFactory = _interopRequireDefault(__webpack_require__(/*! ./AlphaFactory */ \"./src/component/web/DataGrid/AgDataGrid/CellEditor/AlphaFactory.js\"));\nvar _TimeRangeField = _interopRequireDefault(__webpack_require__(/*! ../../../baseField/TimeRangeField */ \"./src/component/web/baseField/TimeRangeField.jsx\"));\nvar _keyCode = __webpack_require__(/*! @/constant/keyCode */ \"./src/constant/keyCode.js\");\nvar _singleSpa = __webpack_require__(/*! @/api/singleSpa */ \"./src/api/singleSpa.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar TimeRangeEditor = exports.timeRangeField = /*#__PURE__*/function () {\n  function TimeRangeEditor() {\n    var _this = this;\n    _classCallCheck(this, TimeRangeEditor);\n    this.onInitial = function (handoverApi) {\n      _this.cellApi = handoverApi;\n    };\n    this.defaultValue = function () {\n      return '';\n    };\n    this.getExpandRange = function () {\n      return _this._child;\n    };\n    this.handleKeyDown = function (e) {\n      // 切模块快捷键不阻止冒泡\n      if (!e.shiftKey && e.keyCode !== _keyCode.KEYS.F6) {\n        e.stopPropagation();\n      }\n      if (e.keyCode === _keyCode.KEYS.ENTER) {\n        _this.cellApi.onQSKeyDown(e);\n      }\n    };\n    // 自定义 - 获取时间控件的父级容器\n    this.getContainer = function () {\n      if (_this._child) return _this._child;\n      var container = document.createElement('div');\n      document.body.appendChild(container);\n      _this._child = container;\n      return container;\n    };\n  }\n  _createClass(TimeRangeEditor, [{\n    key: \"getEditor\",\n    value: function getEditor(args) {\n      var value = args.value,\n        props = args.props;\n      var mask = props.editor.mask;\n      var fontSize = props.colStyle && props.colStyle.fontSize;\n      var textAlign = props.colStyle && props.colStyle.textAlign;\n      var style = {\n        width: '100%',\n        height: '100%',\n        padding: '0 0 0 6px',\n        border: 'none'\n      };\n      return /*#__PURE__*/_react[\"default\"].createElement(_TimeRangeField[\"default\"], {\n        value: value,\n        mask: mask,\n        focusOpen: true,\n        style: style,\n        iconStyle: {\n          right: 6\n        },\n        inputStyle: {\n          fontSize: fontSize,\n          textAlign: textAlign,\n          paddingRight: 0\n        },\n        clearIconStyle: {\n          right: 6\n        },\n        getPopupContainer: this.getContainer,\n        onChange: this.cellApi.publishChangedValue,\n        onImmediateChange: this.cellApi.publishChangedValue // 每次值更新都回调\n        ,\n        onKeyDown: this.handleKeyDown\n      });\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var container = (0, _singleSpa.getRootContainter)();\n      this._child && container.removeChild(this._child);\n      this._child = null;\n    }\n  }]);\n  return TimeRangeEditor;\n}();\nvar TimeRangeCellEditor = exports[\"default\"] = (0, _AlphaFactory[\"default\"])(new TimeRangeEditor());\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/CellEditor/TimeRangeCellEditor.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/CellEditor/index.js":
/*!*******************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/CellEditor/index.js ***!
  \*******************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nObject.defineProperty(exports, \"AddressEditor\", ({\n  enumerable: true,\n  get: function get() {\n    return _AddressEditor[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"AdminDivisionEditor\", ({\n  enumerable: true,\n  get: function get() {\n    return _AdminDivisionEditor[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"BDCellEditor\", ({\n  enumerable: true,\n  get: function get() {\n    return _BDCellEditor[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"CascaderEditor\", ({\n  enumerable: true,\n  get: function get() {\n    return _CascaderEditor[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"CityCellEditor\", ({\n  enumerable: true,\n  get: function get() {\n    return _CityCellEditor[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"ComCellEditor\", ({\n  enumerable: true,\n  get: function get() {\n    return _CommonEditor[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"CustomLightEditor\", ({\n  enumerable: true,\n  get: function get() {\n    return _CustomLightEditor[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"DateCellEditor\", ({\n  enumerable: true,\n  get: function get() {\n    return _DateCellEditor[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"DateRangeEditor\", ({\n  enumerable: true,\n  get: function get() {\n    return _DateRangeEditor[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"EmailEditor\", ({\n  enumerable: true,\n  get: function get() {\n    return _EmailEditor[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"FlexfieldEditor\", ({\n  enumerable: true,\n  get: function get() {\n    return _FlexfieldEditor[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"ImageCellEditor\", ({\n  enumerable: true,\n  get: function get() {\n    return _ImageCellEditor[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"LTxtAreaCellEditor\", ({\n  enumerable: true,\n  get: function get() {\n    return _LTextAreaEditor[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"MulLangCellEditor\", ({\n  enumerable: true,\n  get: function get() {\n    return _MulLangCellEditor[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"NumberCellEditor\", ({\n  enumerable: true,\n  get: function get() {\n    return _NumberCellEditor[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"SelectCellEditor\", ({\n  enumerable: true,\n  get: function get() {\n    return _SelectEditor[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"StepperCellEditor\", ({\n  enumerable: true,\n  get: function get() {\n    return _StepperCellEditor[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"TelePhoneCellEditor\", ({\n  enumerable: true,\n  get: function get() {\n    return _TelephoneEditor[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"TimeCellEditor\", ({\n  enumerable: true,\n  get: function get() {\n    return _TimeCellEditor[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"TimeRangeCellEditor\", ({\n  enumerable: true,\n  get: function get() {\n    return _TimeRangeCellEditor[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"TxtAreaCellEditor\", ({\n  enumerable: true,\n  get: function get() {\n    return _TextAreaEditor[\"default\"];\n  }\n}));\nexports.cellEditorRelations = void 0;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\nvar _serverproperties = __webpack_require__(/*! ../../../../../constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _CommonEditor = _interopRequireDefault(__webpack_require__(/*! ./CommonEditor.js */ \"./src/component/web/DataGrid/AgDataGrid/CellEditor/CommonEditor.js\"));\nvar _SelectEditor = _interopRequireDefault(__webpack_require__(/*! ./SelectEditor */ \"./src/component/web/DataGrid/AgDataGrid/CellEditor/SelectEditor.js\"));\nvar _NumberCellEditor = _interopRequireDefault(__webpack_require__(/*! ./NumberCellEditor.js */ \"./src/component/web/DataGrid/AgDataGrid/CellEditor/NumberCellEditor.js\"));\nvar _BDCellEditor = _interopRequireDefault(__webpack_require__(/*! ./BDCellEditor */ \"./src/component/web/DataGrid/AgDataGrid/CellEditor/BDCellEditor.js\"));\nvar _TextAreaEditor = _interopRequireDefault(__webpack_require__(/*! ./TextAreaEditor */ \"./src/component/web/DataGrid/AgDataGrid/CellEditor/TextAreaEditor.js\"));\nvar _ImageCellEditor = _interopRequireDefault(__webpack_require__(/*! ./ImageCellEditor */ \"./src/component/web/DataGrid/AgDataGrid/CellEditor/ImageCellEditor.js\"));\nvar _MulLangCellEditor = _interopRequireDefault(__webpack_require__(/*! ./MulLangCellEditor */ \"./src/component/web/DataGrid/AgDataGrid/CellEditor/MulLangCellEditor.js\"));\nvar _DateCellEditor = _interopRequireDefault(__webpack_require__(/*! ./DateCellEditor */ \"./src/component/web/DataGrid/AgDataGrid/CellEditor/DateCellEditor.js\"));\nvar _LTextAreaEditor = _interopRequireDefault(__webpack_require__(/*! ./LTextAreaEditor */ \"./src/component/web/DataGrid/AgDataGrid/CellEditor/LTextAreaEditor.js\"));\nvar _DateRangeEditor = _interopRequireDefault(__webpack_require__(/*! ./DateRangeEditor */ \"./src/component/web/DataGrid/AgDataGrid/CellEditor/DateRangeEditor.js\"));\nvar _CityCellEditor = _interopRequireDefault(__webpack_require__(/*! ./CityCellEditor */ \"./src/component/web/DataGrid/AgDataGrid/CellEditor/CityCellEditor.js\"));\nvar _FlexfieldEditor = _interopRequireDefault(__webpack_require__(/*! ./FlexfieldEditor */ \"./src/component/web/DataGrid/AgDataGrid/CellEditor/FlexfieldEditor.js\"));\nvar _TimeCellEditor = _interopRequireDefault(__webpack_require__(/*! ./TimeCellEditor */ \"./src/component/web/DataGrid/AgDataGrid/CellEditor/TimeCellEditor.js\"));\nvar _TimeRangeCellEditor = _interopRequireDefault(__webpack_require__(/*! ./TimeRangeCellEditor */ \"./src/component/web/DataGrid/AgDataGrid/CellEditor/TimeRangeCellEditor.js\"));\nvar _TelephoneEditor = _interopRequireDefault(__webpack_require__(/*! ./TelephoneEditor */ \"./src/component/web/DataGrid/AgDataGrid/CellEditor/TelephoneEditor.js\"));\nvar _CascaderEditor = _interopRequireDefault(__webpack_require__(/*! ./CascaderEditor */ \"./src/component/web/DataGrid/AgDataGrid/CellEditor/CascaderEditor.js\"));\nvar _EmailEditor = _interopRequireDefault(__webpack_require__(/*! ./EmailEditor */ \"./src/component/web/DataGrid/AgDataGrid/CellEditor/EmailEditor.js\"));\nvar _AdminDivisionEditor = _interopRequireDefault(__webpack_require__(/*! ./AdminDivisionEditor */ \"./src/component/web/DataGrid/AgDataGrid/CellEditor/AdminDivisionEditor.js\"));\nvar _StepperCellEditor = _interopRequireDefault(__webpack_require__(/*! ./StepperCellEditor */ \"./src/component/web/DataGrid/AgDataGrid/CellEditor/StepperCellEditor.js\"));\nvar _CustomLightEditor = _interopRequireDefault(__webpack_require__(/*! ./CustomEditor/CustomLightEditor */ \"./src/component/web/DataGrid/AgDataGrid/CellEditor/CustomEditor/CustomLightEditor.js\"));\nvar _AddressEditor = _interopRequireDefault(__webpack_require__(/*! ./AddressEditor */ \"./src/component/web/DataGrid/AgDataGrid/CellEditor/AddressEditor.js\"));\nvar _cellEditorRelations;\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); } // export ChkboxCellEditor from './CheckboxEditor'\n// export CombinedEditor from './CombinedEditor';*************合并编辑器不放在这，以避免循环引用\n// export CellEditor from './CellEditor';\nvar cellEditorRelations = exports.cellEditorRelations = (_cellEditorRelations = {}, _defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_cellEditorRelations, _serverproperties.Ctrls.KDBaseData, 'BDCellEditor'), _serverproperties.Ctrls.KDMulBaseData, 'BDCellEditor'), _serverproperties.Ctrls.KDOrg, 'BDCellEditor'), _serverproperties.Ctrls.KDUser, 'BDCellEditor'), _serverproperties.Ctrls.KDSelect, 'SelectCellEditor'), _serverproperties.Ctrls.KDMulSelect, 'SelectCellEditor'), _serverproperties.Ctrls.KDText, 'ComCellEditor'), _serverproperties.Ctrls.KDDate, 'DateCellEditor'), _serverproperties.Ctrls.KDDateRange, 'DateRangeEditor'), _serverproperties.Ctrls.KDDateTime, 'DateCellEditor'), _defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_cellEditorRelations, _serverproperties.Ctrls.KDNumber, 'NumberCellEditor'), _serverproperties.Ctrls.KDTextArea, 'TxtAreaCellEditor'), _serverproperties.Ctrls.KDLTextArea, 'LTxtAreaCellEditor'), _serverproperties.Ctrls.KDMulLangText, 'MulLangCellEditor'), _serverproperties.Ctrls.KDPasswordBox, 'ComCellEditor'), _serverproperties.Ctrls.KDCity, 'CityCellEditor'), _serverproperties.Ctrls.KDFlexField, 'FlexfieldEditor'), _serverproperties.Ctrls.KDTime, 'TimeCellEditor'), _serverproperties.Ctrls.KDTimeRange, 'TimeRangeCellEditor'), _serverproperties.Ctrls.KDTelephone, 'TelePhoneCellEditor'), _defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_cellEditorRelations, _serverproperties.Ctrls.KDEmail, 'EmailEditor'), _serverproperties.Ctrls.KDStepper, 'StepperCellEditor'), _serverproperties.Ctrls.KDAdminDivision, 'AdminDivisionEditor'), _serverproperties.Ctrls.KDAddress, 'AddressEditor'), \"other\", 'ComCellEditor'));\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/CellEditor/index.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/CellEditor/indexOf.js":
/*!*********************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/CellEditor/indexOf.js ***!
  \*********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nObject.defineProperty(exports, \"BDCellEditor\", ({\n  enumerable: true,\n  get: function get() {\n    return _BDCellEditor.basedataEditor;\n  }\n}));\nObject.defineProperty(exports, \"ComCellEditor\", ({\n  enumerable: true,\n  get: function get() {\n    return _CommonEditor.commonEditor;\n  }\n}));\nObject.defineProperty(exports, \"DateCellEditor\", ({\n  enumerable: true,\n  get: function get() {\n    return _DateCellEditor.dateEditor;\n  }\n}));\nObject.defineProperty(exports, \"ImageCellEditor\", ({\n  enumerable: true,\n  get: function get() {\n    return _ImageCellEditor.imageEditor;\n  }\n}));\nObject.defineProperty(exports, \"MulLangCellEditor\", ({\n  enumerable: true,\n  get: function get() {\n    return _MulLangCellEditor.mulLanEditor;\n  }\n}));\nObject.defineProperty(exports, \"NumberCellEditor\", ({\n  enumerable: true,\n  get: function get() {\n    return _NumberCellEditor.numberEditor;\n  }\n}));\nObject.defineProperty(exports, \"SelectCellEditor\", ({\n  enumerable: true,\n  get: function get() {\n    return _SelectEditor.selectEditor;\n  }\n}));\nObject.defineProperty(exports, \"StepperCellEditor\", ({\n  enumerable: true,\n  get: function get() {\n    return _StepperCellEditor.stepperEditor;\n  }\n}));\nObject.defineProperty(exports, \"TxtAreaCellEditor\", ({\n  enumerable: true,\n  get: function get() {\n    return _TextAreaEditor.textAreaEditor;\n  }\n}));\nvar _CommonEditor = __webpack_require__(/*! ./CommonEditor.js */ \"./src/component/web/DataGrid/AgDataGrid/CellEditor/CommonEditor.js\");\nvar _SelectEditor = __webpack_require__(/*! ./SelectEditor */ \"./src/component/web/DataGrid/AgDataGrid/CellEditor/SelectEditor.js\");\nvar _NumberCellEditor = __webpack_require__(/*! ./NumberCellEditor.js */ \"./src/component/web/DataGrid/AgDataGrid/CellEditor/NumberCellEditor.js\");\nvar _TextAreaEditor = __webpack_require__(/*! ./TextAreaEditor */ \"./src/component/web/DataGrid/AgDataGrid/CellEditor/TextAreaEditor.js\");\nvar _ImageCellEditor = __webpack_require__(/*! ./ImageCellEditor */ \"./src/component/web/DataGrid/AgDataGrid/CellEditor/ImageCellEditor.js\");\nvar _BDCellEditor = __webpack_require__(/*! ./BDCellEditor */ \"./src/component/web/DataGrid/AgDataGrid/CellEditor/BDCellEditor.js\");\nvar _MulLangCellEditor = __webpack_require__(/*! ./MulLangCellEditor */ \"./src/component/web/DataGrid/AgDataGrid/CellEditor/MulLangCellEditor.js\");\nvar _DateCellEditor = __webpack_require__(/*! ./DateCellEditor */ \"./src/component/web/DataGrid/AgDataGrid/CellEditor/DateCellEditor.js\");\nvar _StepperCellEditor = __webpack_require__(/*! ./StepperCellEditor */ \"./src/component/web/DataGrid/AgDataGrid/CellEditor/StepperCellEditor.js\");\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/CellEditor/indexOf.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/CellRenderer/AlphaFactory.js":
/*!****************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/CellRenderer/AlphaFactory.js ***!
  \****************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.CellEditBtnSuffix = CellEditBtnSuffix;\nexports.ClearBtn = ClearBtn;\nexports.EditBtn = EditBtn;\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.join.js */ \"../../node_modules/core-js/modules/es.array.join.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.promise.js */ \"../../node_modules/core-js/modules/es.promise.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.timers.js */ \"../../node_modules/core-js/modules/web.timers.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _classnames7 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _global = _interopRequireWildcard(__webpack_require__(/*! @/global */ \"./src/global/index.js\"));\nvar _serverproperties = __webpack_require__(/*! ../../../../../constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _baseCom = __webpack_require__(/*! ./baseCom.js */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/baseCom.js\");\nvar _util = __webpack_require__(/*! ./util */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/util.js\");\nvar _GridUtils = __webpack_require__(/*! ../GridUtils */ \"./src/component/web/DataGrid/AgDataGrid/GridUtils.js\");\nvar _params = __webpack_require__(/*! ../../TableHelper/util/params */ \"./src/component/web/DataGrid/TableHelper/util/params.js\");\nvar _defaultPropsUtil = __webpack_require__(/*! @/util/defaultPropsUtil */ \"./src/util/defaultPropsUtil.js\");\nvar _GridValidator = __webpack_require__(/*! ../validate/GridValidator */ \"./src/component/web/DataGrid/AgDataGrid/validate/GridValidator.js\");\nvar _constant = __webpack_require__(/*! ../constant */ \"./src/component/web/DataGrid/AgDataGrid/constant.js\");\nvar _TextEllipsisWrap = __webpack_require__(/*! @/component/common/TextEllipsisWrap.js */ \"./src/component/common/TextEllipsisWrap.js\");\nvar _gridConst = __webpack_require__(/*! @/constant/gridConst */ \"./src/constant/gridConst.js\");\nvar _keyCodeTool = __webpack_require__(/*! @/util/keyCodeTool */ \"./src/util/keyCodeTool.js\");\nvar _keyCode = __webpack_require__(/*! @/constant/keyCode */ \"./src/constant/keyCode.js\");\nvar _PrivacyIcon = _interopRequireDefault(__webpack_require__(/*! @/component/web/DataGrid/TableHelper/render/PrivacyIcon */ \"./src/component/web/DataGrid/TableHelper/render/PrivacyIcon.js\"));\nvar _util2 = __webpack_require__(/*! @/component/web/DataGrid/TableHelper/render/util */ \"./src/component/web/DataGrid/TableHelper/render/util.js\");\nvar _params2 = __webpack_require__(/*! @/component/web/DataGrid/TableHelper/util/params */ \"./src/component/web/DataGrid/TableHelper/util/params.js\");\nvar _f7DefaultIcon = __webpack_require__(/*! @/constant/f7DefaultIcon */ \"./src/constant/f7DefaultIcon.js\");\nvar _mergeUtil = __webpack_require__(/*! ../util/mergeUtil */ \"./src/component/web/DataGrid/AgDataGrid/util/mergeUtil.js\");\nvar _const = __webpack_require__(/*! @/constant/const */ \"./src/constant/const.js\");\nvar _GlobalDataCacher = __webpack_require__(/*! @/model/GlobalDataCacher */ \"./src/model/GlobalDataCacher.js\");\nvar _symbolConst = __webpack_require__(/*! @/constant/symbolConst */ \"./src/constant/symbolConst.js\");\nvar _flexFieldUtil = __webpack_require__(/*! @/util/flexFieldUtil */ \"./src/util/flexFieldUtil.js\");\nvar _CellClass = _interopRequireDefault(__webpack_require__(/*! ../CellClass.less */ \"./src/component/web/DataGrid/AgDataGrid/CellClass.less\"));\nvar _GridStyles = _interopRequireDefault(__webpack_require__(/*! ../GridStyles.less */ \"./src/component/web/DataGrid/AgDataGrid/GridStyles.less\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); } //\n// *********渲染器工厂类-组件式************\n//\n/*\n -------------->受监听方法<---------------\n //获取渲染器,返回jsx或string\n getRenderer(args)\n 其中：\n    args = {\n        props,\n        editable,\n        rStyle,\n        colStyle,\n        cellStyle,\n        containerStyle,\n        containerClass:,//将对齐样式传到renderer\n    }\n\n */\nvar _handleClick = Symbol('_handleClick');\nvar AlphaFactory = function AlphaFactory(CellRenderer) {\n  var _GridCell;\n  return _GridCell = /*#__PURE__*/function (_React$Component) {\n    _inherits(GridCell, _React$Component);\n    function GridCell(_props) {\n      var _this;\n      _classCallCheck(this, GridCell);\n      _this = _callSuper(this, GridCell, [_props]);\n      _this.onQSKeyDown = function (event) {\n        // if (event.shiftKey && event.keyCode === 9) {\n        //   return\n        // }\n        if (event.keyCode === _keyCode.KEYS.LEFT || event.keyCode === _keyCode.KEYS.RIGHT) {\n          _this.props.gridKeyDown({\n            shiftKey: event.keyCode === _keyCode.KEYS.LEFT,\n            keyCode: _keyCode.KEYS.TAB\n          });\n          return;\n        }\n        // up down 回车 tab\n        if (!event.altKey && [_keyCode.KEYS.ARROWUP, _keyCode.KEYS.ARROWDOWN, _keyCode.KEYS.ENTER, _keyCode.KEYS.TAB].indexOf(event.keyCode) >= 0) {\n          var colId = _this.props.colDef.field;\n          var rowKey = _this.props.data && _this.props.data[_this.props.rk];\n          if (rowKey >= 0) {\n            setTimeout(function () {\n              var keyCode = event.keyCode;\n              if (_this.props.gridContrlParams.enterToNextRow && event.keyCode === _keyCode.KEYS.ENTER) {\n                keyCode = event.shiftKey ? _keyCode.KEYS.ARROWUP : _keyCode.KEYS.ARROWDOWN;\n              }\n              _this.props.gridKeyDown({\n                altKey: event.altKey,\n                ctrlKey: (0, _keyCodeTool.isCtrlKey)(event),\n                shiftKey: event.shiftKey,\n                keyCode: keyCode\n              }, {\n                rowIndex: rowKey,\n                colId: colId\n              });\n            }, 0);\n          }\n          // event.preventDefault && event.preventDefault()\n          event.stopPropagation && event.stopPropagation();\n        }\n      };\n      /**\n       * 获取单元格右边距防止tips挡住内容\n       * @param {*} cellTipsChildren 基础资料tips\n       * @param {*} isAlignRight 是否右对齐\n       */\n      _this.getCellMarginRight = function (cellTipsChildren, isAlignRight, isShowClear) {\n        var ICON_WIDTH = 16; // 提示图标宽度\n        var MIN_ICON_WIDTH = 14; // 小图标宽度\n        var TIPS_WRAP_PADING = 8; // 提示图标右边距\n        var CONTENT_PADDING = 6; // 单元格类容内边距\n        var ICON_SPACE = 5; // 提示图标间距\n        var MIN_ICON_SPACE = 2; // 图标小间距\n        var marginRight = ICON_WIDTH;\n        if (cellTipsChildren.length > 0) {\n          marginRight = ICON_WIDTH * cellTipsChildren.length + ICON_SPACE * (cellTipsChildren.length - 1);\n        }\n        if (isShowClear) {\n          marginRight = marginRight + MIN_ICON_WIDTH + MIN_ICON_SPACE;\n        }\n        return (isAlignRight ? marginRight : marginRight + TIPS_WRAP_PADING) - CONTENT_PADDING;\n      };\n      _this.setCellContainerRef = function (dom) {\n        _this.cellContainerDom = dom;\n      };\n      _this.onMouseOver = function () {\n        // console.log('mouseover')\n        var _this$props = _this.props,\n          rk = _this$props.rk,\n          data = _this$props.data,\n          getMergeModel = _this$props.getMergeModel,\n          entity = _this$props.entity,\n          gridContrlParams = _this$props.gridContrlParams;\n        var rkV = data[rk];\n        var mergeM = getMergeModel();\n        // console.time('getMainGrpRks')\n        var groupRks = mergeM.getRealEntityGroup(rkV, entity, gridContrlParams.suppressMergeSelection);\n        // console.timeEnd('getMainGrpRks')\n        if (groupRks.length <= 1) return;\n        var node = null;\n        groupRks.forEach(function (grk) {\n          node = _this.props.getNodeByRowKey(grk);\n          if (node) {\n            node.onMouseEnter();\n          }\n        });\n      };\n      _this.onMouseOut = function () {\n        // console.log('mouseout')\n        var _this$props2 = _this.props,\n          rk = _this$props2.rk,\n          data = _this$props2.data,\n          getMergeModel = _this$props2.getMergeModel,\n          entity = _this$props2.entity,\n          gridContrlParams = _this$props2.gridContrlParams;\n        var rkV = data[rk];\n        var mergeM = getMergeModel();\n        var groupRks = mergeM.getRealEntityGroup(rkV, entity, gridContrlParams.suppressMergeSelection);\n        if (groupRks.length <= 1) return;\n        var node = null;\n        groupRks.forEach(function (grk) {\n          node = _this.props.getNodeByRowKey(grk);\n          if (node) {\n            node.onMouseLeave();\n          }\n        });\n      };\n      _this.handleSetFocusEvent = function (_ref) {\n        var _getData;\n        var enterToNext = _ref.enterToNext;\n        var _this$props3 = _this.props,\n          colId = _this$props3.column.colId,\n          node = _this$props3.node,\n          getGridThisProp = _this$props3.getGridThisProp;\n        var rowIndex = node.rowIndex;\n        var setCellFocusAndActive = getGridThisProp('setCellFocusAndActive');\n        var cell = {\n          rowIndex: rowIndex,\n          colId: colId\n        };\n        var enterToNextField = (_getData = (0, _GlobalDataCacher.getData)(_symbolConst.KEY_ADVANCE_SHORTCUT_INFO)) === null || _getData === void 0 ? void 0 : _getData.enterToNextField;\n        var toNext = enterToNextField && enterToNext;\n        setCellFocusAndActive && setCellFocusAndActive(cell, {\n          toNext: toNext\n        });\n      };\n      _this.handleCheckboxClick = function (e) {\n        var _this$props4 = _this.props,\n          rk = _this$props4.rk,\n          column = _this$props4.column,\n          node = _this$props4.node,\n          onCellChange = _this$props4.onCellChange,\n          pid = _this$props4.pid,\n          gridId = _this$props4.gridId,\n          invokeRowSelection = _this$props4.invokeRowSelection,\n          colDef = _this$props4.colDef,\n          colLocked = _this$props4.colLocked,\n          api = _this$props4.api,\n          gridContrlParams = _this$props4.gridContrlParams;\n        var _dynamicColLocked = (0, _util.getDynamicColLocked)(_this.props, node.data, colDef.field);\n        if (colLocked || _dynamicColLocked) return;\n        var value = [{\n          k: column.colId,\n          r: node.data[rk],\n          v: !_this.props.value\n        }];\n        var model = {\n          pageId: pid,\n          key: gridId,\n          fireUpdEvt: true\n        };\n        if (!gridContrlParams.suppressEntryRowClickSelect) {\n          // 禁止行点击选中时，不做行选中/取消操作\n          api.deselectAll(); // 是否需要排它选中？？\n          node.setSelected(true, true);\n        }\n        invokeRowSelection(node);\n        onCellChange(model, value);\n        // 记录最后一次编辑的单元格\n        _this.props.setGridThisProp(_gridConst.LAST_EDIT_CELL, {\n          rowIndex: node.rowIndex,\n          rowKey: value[0].r,\n          colId: value[0].k\n        });\n        e.stopPropagation();\n      };\n      _this.handleViewDetail = function (e) {\n        var _this$props5 = _this.props,\n          colDef = _this$props5.colDef,\n          rk = _this$props5.rk,\n          data = _this$props5.data,\n          invokeControlMethodOnly = _this$props5.invokeControlMethodOnly,\n          invokeRowSelection = _this$props5.invokeRowSelection,\n          pid = _this$props5.pid,\n          node = _this$props5.node,\n          gridContrlParams = _this$props5.gridContrlParams,\n          api = _this$props5.api;\n        var colId = colDef.field;\n        var rowKey = data[rk];\n        var model = {\n          pageId: pid,\n          key: colId\n        };\n        if (!gridContrlParams.suppressEntryRowClickSelect) {\n          // 禁止行点击选中时，不做行选中/取消操作\n          api.deselectAll(); // 是否需要排它选中？？\n          node.setSelected(true, true);\n        }\n        invokeRowSelection(node);\n        invokeControlMethodOnly(model, 'viewDetail', [{\n          rowKey: rowKey\n        }]);\n        e.stopPropagation();\n      };\n      _this.handleOpenF7 = function (e) {\n        e.stopPropagation();\n        var _this$props6 = _this.props,\n          pid = _this$props6.pid,\n          gridId = _this$props6.gridId,\n          colId = _this$props6.column.colId,\n          btnClick = _this$props6.btnClick,\n          node = _this$props6.node,\n          invokeRowSelection = _this$props6.invokeRowSelection,\n          gridContrlParams = _this$props6.gridContrlParams,\n          api = _this$props6.api;\n        var model = {\n          pageId: pid,\n          entryKey: gridId,\n          key: colId\n        };\n        if (!gridContrlParams.suppressEntryRowClickSelect) {\n          // 禁止行点击选中时，不做行选中/取消操作\n          api.deselectAll(); // 是否需要排它选中？？\n          node.setSelected(true, true);\n        }\n        invokeRowSelection(node);\n        btnClick(model);\n      };\n      _this.handleBatchInputClick = function (e) {\n        e.stopPropagation();\n        var _this$props7 = _this.props,\n          pid = _this$props7.pid,\n          gridId = _this$props7.gridId,\n          colId = _this$props7.column.colId,\n          node = _this$props7.node,\n          invokeRowSelection = _this$props7.invokeRowSelection,\n          invokeControlMethodOnly = _this$props7.invokeControlMethodOnly,\n          gridContrlParams = _this$props7.gridContrlParams,\n          api = _this$props7.api;\n        var model = {\n          pageId: pid,\n          entryKey: gridId,\n          key: colId\n        };\n        if (!gridContrlParams.suppressEntryRowClickSelect) {\n          // 禁止行点击选中时，不做行选中/取消操作\n          api.deselectAll(); // 是否需要排它选中？？\n          node.setSelected(true, true);\n        }\n        invokeRowSelection(node);\n        invokeControlMethodOnly(model, 'batchInput', []);\n      };\n      _this.handleEditAddress = function () {\n        var _this$props8 = _this.props,\n          pid = _this$props8.pid,\n          gridId = _this$props8.gridId,\n          colId = _this$props8.column.colId,\n          btnClick = _this$props8.btnClick;\n        var model = {\n          pageId: pid,\n          entryKey: gridId,\n          key: colId\n        };\n        btnClick(model);\n      };\n      _this.handleToggleColumnPrivacyText = function (e) {\n        var _this$props9 = _this.props,\n          pid = _this$props9.pid,\n          gridId = _this$props9.gridId,\n          colId = _this$props9.column.colId,\n          invokeControlMethodSingle = _this$props9.invokeControlMethodSingle,\n          rk = _this$props9.rk,\n          data = _this$props9.data,\n          gridContrlParams = _this$props9.gridContrlParams,\n          getGridMetaProperty = _this$props9.getGridMetaProperty;\n        (0, _util.handleToggleColumnPrivacyText)(e, {\n          pid: pid,\n          gridId: gridId,\n          colId: colId,\n          invokeControlMethodSingle: invokeControlMethodSingle,\n          rk: rk,\n          data: data,\n          gridContrlParams: gridContrlParams,\n          getGridMetaProperty: getGridMetaProperty\n        });\n      };\n      _this.combinedItemClick = function (e) {\n        _this.props.onCombinedItemClick(_this.props.column.colId);\n      };\n      _this[_handleClick] = function (e) {\n        var editalbe = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n        var props = _this.props;\n        props.api.setFocusedCell(props.node.rowIndex, props.column.colId, null);\n        var model = {\n          pageId: props.pid,\n          entryKey: props.gridId,\n          key: props.colDef.field\n        };\n        if (!props.gridContrlParams.suppressEntryRowClickSelect) {\n          // 禁止行点击选中时，不做行选中/取消操作\n          props.api.deselectAll(); // 是否需要排它选中？？\n          props.node.setSelected(true, true);\n        }\n        // 文本图标点击不强制发行点击事件，会自动触发一次  ->修改成先触发行选择，将选中状态带到后端，再触发click\n        props.invokeRowSelection(props.node); // 强制发选中行状态(禁止行点击选中时，不会做行选中，只会发送焦点行)\n        // 大文本摘要模式调用detailClick\n        if (props.type === _serverproperties.Ctrls.KDLTextArea && props.editor[_serverproperties.EDITING_MODE] === 'summary') {\n          props.detailBtnClick(model, [{\n            lock: !editalbe\n          }]);\n        } else {\n          props.btnClick(model);\n        }\n        e.stopPropagation(); // 阻止冒泡触发rowclick\n      };\n      /**\n       * 文本按钮点击清除值\n       */\n      _this.handleClearClick = function (e) {\n        var _this$props10 = _this.props,\n          api = _this$props10.api,\n          node = _this$props10.node,\n          pid = _this$props10.pid,\n          gridId = _this$props10.gridId,\n          colDef = _this$props10.colDef,\n          fireUpdEvt = _this$props10.fireUpdEvt,\n          dataDesc = _this$props10.dataDesc,\n          onCellChange = _this$props10.onCellChange,\n          invokeRowSelection = _this$props10.invokeRowSelection,\n          rk = _this$props10.rk,\n          data = _this$props10.data,\n          gridContrlParams = _this$props10.gridContrlParams;\n        api.setFocusedCell(node.rowIndex, colDef.field, null);\n        var model = {\n          pageId: pid,\n          key: gridId,\n          fireUpdEvt: fireUpdEvt,\n          dataDesc: dataDesc\n        };\n        if (!gridContrlParams.suppressEntryRowClickSelect) {\n          // 禁止行点击选中时，不做行选中/取消操作\n          api.deselectAll(); // 是否需要排它选中？？\n          node.setSelected(true, true);\n        }\n        // 文本图标点击不强制发行点击事件，会自动触发一次  ->修改成先触发行选择，将选中状态带到后端，再触发click\n        invokeRowSelection(node); // 强制发选中行状态\n        onCellChange(model, [{\n          k: colDef.field,\n          r: data && data[rk],\n          v: ''\n        }]);\n        e.stopPropagation(); // 阻止冒泡触发rowclick\n      };\n      _this.setCellTitle = function (title) {\n        var _this$props11 = _this.props,\n          isCombined = _this$props11.isCombined,\n          isCombinedItem = _this$props11.isCombinedItem,\n          eGridCell = _this$props11.eGridCell;\n        // 合并列存在下拉列表字段时，会在renderer修改title,需要在执行完renderer之后再执行一次.\n        // 合并列表字段，new title应该是 上个渲染的字段的tilte 合并 上此次渲染的title\n        if (!isCombined && isCombinedItem) {\n          var titleArr = [];\n          eGridCell.title != null && eGridCell.title !== '' && titleArr.push(eGridCell.title);\n          title != null && title !== '' && titleArr.push(title);\n          title = titleArr.join(' ');\n        }\n        _this.cellTitle = title;\n      };\n      _this.renderRef = /*#__PURE__*/(0, _react.createRef)();\n      return _this;\n    }\n    _createClass(GridCell, [{\n      key: \"render\",\n      value:\n      // TODO: cellRenderer会频繁渲染和销毁，render要尽一切可能进行优化。如果可以，要尝试对轻量级渲染器进行合并行支持。\n      function render() {\n        var _props$data,\n          _this2 = this;\n        if (!CellRenderer.getRenderer) {\n          throw new Error('必须实现getRenderer方法！');\n        }\n        var props = this.props;\n        var type = props.type,\n          value = props.value,\n          entity = props.entity,\n          editor = props.editor,\n          autoHeight = props.autoHeight,\n          node = props.node,\n          lineWrapOption = props.lineWrap,\n          showPrivateIcon = props.showPrivateIcon,\n          pid = props.pid,\n          gridId = props.gridId,\n          isPrivacy = props.isPrivacy,\n          colLocked = props.colLocked;\n        var rowPinned = node.rowPinned;\n        var colId = props.colDef.field; // props.column.colId;用colDef性能稍好\n        var rowData = node.data;\n        var rowKey = rowData && rowData[props.rk];\n        var eCell = props.eGridCell;\n        var _props$gridContrlPara = props.gridContrlParams,\n          gridEditable = _props$gridContrlPara.gridEditable,\n          showEditMark = _props$gridContrlPara.showEditMark;\n        var _showEditButton = props.showEditButton;\n        var _colDefEditable = props.colDef.editable; // 定义为不可编辑、锁定，或仅按钮编辑时，editable为false.\n        // 在虚模式表格时，data开始会是undefined状态，从服务器加载过来后才有真实数据。\n        var _dynamicColLocked = (0, _util.getDynamicColLocked)(props, rowData, colId);\n        var _runtimeEditable = (0, _util.getRunTimeEditable)(_dynamicColLocked, _colDefEditable);\n        var rStyle = {};\n        var shouldPreWrap = (0, _util.getShouldPreWrap)({\n          colType: type,\n          editor: editor,\n          autoHeight: autoHeight,\n          rowPinned: rowPinned\n        });\n        var shouldMultiLineClamp = shouldPreWrap && !_global[\"default\"][_global.IS_IE] && !_global[\"default\"][_global.IS_FIREFOX] && !props.autoHeight;\n        var _ref2 = props.gridContrlParams || {},\n          isListView = _ref2.isListView,\n          isVirtualView = _ref2.isVirtualView,\n          mergeColumns = _ref2.mergeColumns,\n          isEntryEntity = _ref2.isEntryEntity;\n        var isListOrVirtual = isListView || isVirtualView;\n        var _isPlaintextCell = (0, _params2.isPlaintextCell)(isPrivacy, {\n          pageId: pid,\n          gridId: gridId,\n          colId: colId,\n          rowKey: rowKey\n        });\n        this.editableCell = gridEditable && _runtimeEditable;\n        if (_runtimeEditable || !gridEditable) {\n          // eCell.style.backgroundColor = eCell.style.backgroundColor || '' // 删除背景色inherit继承，在360浏览器下界面缩小会造成行的border-bottom无法显示\n          rStyle.backgroundColor = rStyle.backgroundColor || 'inherit'; // 常规色\n        }\n        if (props.node.rowPinned) {\n          // 浮动行\n          if (!_runtimeEditable && gridEditable) {\n            // 列锁定\n            rStyle.backgroundColor = '';\n          } else {\n            rStyle.backgroundColor = '#FFF8E1';\n          }\n          if (type === _serverproperties.Ctrls.KDNumber || type === _serverproperties.Ctrls.KDStepper) {\n            rStyle.color = '#EB743F';\n          }\n        }\n        if (props.isVoucherEditor) {\n          rStyle.padding = '0px';\n          rStyle.width = '100%';\n          rStyle.height = '100%';\n        }\n        if (type === _serverproperties.Ctrls.KDTextArea) {\n          rStyle.whiteSpace = 'normal';\n        }\n        var contentWrapStyle = {};\n        if (shouldMultiLineClamp) {\n          var _props$colStyle;\n          var lineClamp = (0, _util2.getLineClamp)({\n            fontSize: (_props$colStyle = props.colStyle) === null || _props$colStyle === void 0 ? void 0 : _props$colStyle.fontSize,\n            rowHeight: props.gridOptions.rowHeight,\n            cellPadding: isListOrVirtual ? 0 : undefined\n          });\n          contentWrapStyle.display = '-webkit-box';\n          contentWrapStyle.WebkitBoxOrient = 'vertical';\n          contentWrapStyle.WebkitLineClamp = lineClamp;\n        }\n        var hideContent = false;\n        var mergeM = props.getMergeModel(); // 放到gridContrlParams内会出现取的对象是旧的的情况。。have no idea\n        if (mergeM && mergeM.suppress === false && !props.node.rowPinned) {\n          // &&mergeM.entities.maxLevel>0) {\n          // 采用当前实体来算，而不是主实体\n          var currentSpan = mergeM.getCurrentEntitySpan(rowKey, entity);\n          var currentGroup = mergeM.getCurrentEntityGroup(rowKey, entity);\n          var gridContrlParams = props.gridContrlParams,\n            gridOptions = props.gridOptions,\n            api = props.api;\n          if (gridContrlParams.rowMergeCellVerticalAlign === 'top') {\n            if (currentGroup.length > 1) {\n              eCell.className = eCell.className + ' ' + 'mergeCell';\n              if (currentSpan > 1) {\n                // 非首行\n                // 盖住上边框\n                eCell.style.height = (0, _util.getRowRealHeight)(gridOptions.rowHeight, rowKey, api) + 'px';\n                eCell.style['z-index'] = 1;\n                hideContent = true;\n              } else {\n                var pTop = (0, _util2.getMergeCellAlignPadding)(gridOptions.rowHeight, {\n                  fontSize: props.colStyle && props.colStyle.fontSize,\n                  type: type,\n                  editor: editor\n                });\n                rStyle.paddingTop = (this.editableCell ? pTop - 3 : pTop) + 'px'; // 3 => 2px padding , 1px border top\n                eCell.className += ' merge-cell-vertical-top';\n                var height = currentGroup.length * (0, _util.getRowRealHeight)(gridOptions.rowHeight, rowKey, api) - 1;\n                eCell.style.height = height + 'px';\n                eCell.style['z-index'] = 2;\n                if (shouldMultiLineClamp) {\n                  var _props$colStyle2;\n                  contentWrapStyle.WebkitLineClamp = (0, _util2.getLineClamp)({\n                    fontSize: (_props$colStyle2 = props.colStyle) === null || _props$colStyle2 === void 0 ? void 0 : _props$colStyle2.fontSize,\n                    rowHeight: height,\n                    cellPadding: isListOrVirtual ? 0 : undefined\n                  });\n                }\n              }\n            }\n          } else {\n            // 居中显示\n            if (currentSpan > 1) {\n              // const isGroupBottom = mergeM.isEntityGroupBottom(rowKey, entity)\n              // const { height, zIndex } = getCellMergeInfo(currentGroup, getGridThisProp, setGridThisProp, node, entity, rowKey, gridOptions, api, isVerticalAlignTop)\n              // // Fromin: 18/03/22: 这个高度可以用真实渲染算出来！用mergeM中的行序，用this.getNodeByRowKey取到同组的所有rowNode对象，每个对象中都有rowHeight属性！\n              // // eCell.style.height = (props.gridOptions.rowHeight * (span)-1) + 'px';//下边框改在ag-row上，暂不隐藏下边框，要减一个像素\n              // eCell.style.height = height + 'px'\n              // eCell.style['z-index'] = zIndex// 一层层往上盖，z-inde增大保证盖住上层\n              // if (shouldMultiLineClamp) {\n              //   contentWrapStyle.WebkitLineClamp = getLineClamp({ fontSize: props.colStyle?.fontSize, rowHeight: height })\n              // }\n\n              var _props$gridOptions = props.gridOptions,\n                rowHeight = _props$gridOptions.rowHeight,\n                rowBuffer = _props$gridOptions.rowBuffer;\n              var ZIndex = currentSpan;\n              var heightWeight = ZIndex;\n              var viewPortSize = props.getViewportSize() || {\n                height: 0\n              };\n              var viewPortRowCount = Math.round(viewPortSize.height / rowHeight);\n              if (ZIndex > viewPortRowCount + rowBuffer) {\n                heightWeight = viewPortRowCount + rowBuffer * 2;\n              }\n              var _height = heightWeight * rowHeight - 1;\n              eCell.style.height = _height + 'px';\n              eCell.style['z-index'] = ZIndex;\n              if (shouldMultiLineClamp) {\n                var _props$colStyle3;\n                contentWrapStyle.WebkitLineClamp = (0, _util2.getLineClamp)({\n                  fontSize: (_props$colStyle3 = props.colStyle) === null || _props$colStyle3 === void 0 ? void 0 : _props$colStyle3.fontSize,\n                  rowHeight: _height,\n                  cellPadding: isListOrVirtual ? 0 : undefined\n                });\n              }\n            }\n          }\n        }\n\n        // 报表设置融合\n        if (isVirtualView && mergeColumns.length > 0) {\n          var rightBorderMergeCols = props.getrightBorderMergeCols();\n          // 设置列右侧边框线\n          if (rightBorderMergeCols.includes(colId)) {\n            eCell.className += ' ' + 'mergeCell_ClsEnd';\n          }\n          if (mergeColumns.includes(colId)) {\n            (0, _mergeUtil.setMergeCellStyle)(props, {\n              setContentHideen: function setContentHideen() {\n                return hideContent === true;\n              }\n            });\n          }\n        }\n        var alignment = props.alignment;\n        var isAlignRight = alignment.getAlign(type, colId) === 'right' && props.colDef.filter;\n        // 仅按钮编辑的editable也为false,此处要判断的是按钮的可点击性 || 大文本摘要模式且非隐私情况下\n        var isShowEditButton = gridEditable && !(0, _util.getDynamicColLocked)(props, rowData, colId, false) && _showEditButton && !_colDefEditable || type === _serverproperties.Ctrls.KDLTextArea && props.editor[_serverproperties.EDITING_MODE] === 'summary' && _isPlaintextCell;\n        var isShowClear = type === _serverproperties.Ctrls.KDText && isShowEditButton && value && props.editor.sx !== false; // 文本类型才有清除按钮，可以直接用判断值不为空\n\n        var containerClass = (0, _classnames7[\"default\"])(alignment.getCellAlignClass(type, colId, !props.colDef.filter, !isListOrVirtual), _defineProperty({}, props.styles.vocherAmtCell, props.isVoucherEditor));\n        var colStyle = {\n          borderRadius: props.colStyle && props.colStyle.borderRadius\n        }; // 只有边框样式要传下去，其它都由colDef.cellStyle和colStyle渲染\n        // 数据样式优先于单元格样式，单元格样式优先于列样式\n        var args = (0, _util.getCellRenderArgs)(props, {\n          runtimeEditable: _runtimeEditable,\n          dynamicColLocked: _dynamicColLocked\n        }, {\n          rStyle: rStyle,\n          colStyle: colStyle,\n          containerClass: containerClass\n        }, {\n          setCellTitle: this.setCellTitle\n        }, this.renderRef);\n        CellRenderer.resetIsEmpty && CellRenderer.resetIsEmpty();\n        var aRenderer = CellRenderer.getRenderer(args); // 支持直接返回显示值的情况，以减少元素层数\n\n        var lineWrap = (0, _util.getShouldLineWrap)({\n          colType: type,\n          editor: editor,\n          autoHeight: autoHeight,\n          rowPinned: rowPinned,\n          lineWrap: lineWrapOption\n        });\n        var className = (0, _classnames7[\"default\"])(_CellClass[\"default\"].alphaFactory_Render, _defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty({}, _CellClass[\"default\"].alphaFactory_Render_Entry, !isListOrVirtual), _CellClass[\"default\"]['full-height'], lineWrap || type === _serverproperties.Ctrls.KDMulLangText), _CellClass[\"default\"].view_Render, props.gridContrlParams.isListView), _CellClass[\"default\"].seq_Render, colId === props.seq), _CellClass[\"default\"].combinedField_render, props.isCombined), _CellClass[\"default\"].combinedItem, props.isCombinedItem));\n        var contentWrapClass = (0, _classnames7[\"default\"])(_CellClass[\"default\"]['alphaFactory-content-wrap'], containerClass, _defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty({}, _CellClass[\"default\"]['full-height-limit'], type === _serverproperties.Ctrls.KDMulLangText), _CellClass[\"default\"]['alphaFactory-content-line-wrap'], lineWrap), _CellClass[\"default\"]['seq-content'], colId === props.seq), _CellClass[\"default\"]['alphaFactory-content-pre-wrap'], shouldPreWrap), _CellClass[\"default\"]['alphaFactory-content-combine'], props.isCombined), _CellClass[\"default\"].container_content, props.isContainerCol));\n        if (typeof aRenderer === 'string') {\n          rStyle = Object.assign({}, rStyle, colStyle);\n          this.setCellTitle(aRenderer); // 字符串类型的都由工厂类去设置title\n        }\n        // 超链接\n        var noLink = (_props$data = props.data) === null || _props$data === void 0 || (_props$data = _props$data.cprop) === null || _props$data === void 0 ? void 0 : _props$data.nolink;\n        var isNoLink = noLink && Array.isArray(noLink) && noLink.includes(props.colDef.field);\n        if (props.isHyperlink && !_runtimeEditable && !props.node.rowPinned && !isNoLink) {\n          aRenderer = /*#__PURE__*/_react[\"default\"].createElement(_baseCom.HLinkRendererCore, _extends({\n            className: \"\".concat(props.styles.hLink, \" link-color grid-hyper-link\")\n          }, props, {\n            value: aRenderer\n          }));\n        }\n        if (CellRenderer.isEmpty && !gridEditable && !props.isCombinedItem) {\n          aRenderer = _constant.EMPTY_PH;\n        }\n        rStyle = Object.assign({}, rStyle, props.containerStyle); // 注意是props.containerStyle\n        var baseDataDst = props.editor && props.editor.dst;\n        var baseEntityId = props.editor && props.editor[_serverproperties.BaseEntityId];\n        var batchInput = props.editor && props.editor.batchInput;\n        var editable = _runtimeEditable && gridEditable;\n        var fontClass = props.editor && props.editor[_serverproperties.F7_FONT_CLASS];\n        return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n          style: rStyle,\n          className: className,\n          ref: this.setCellContainerRef\n        }, hideContent ? null : /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n          className: contentWrapClass,\n          style: contentWrapStyle\n        }, Array.isArray(aRenderer) ? _react[\"default\"].Children.toArray(aRenderer) : aRenderer), /*#__PURE__*/_react[\"default\"].createElement(CellEditBtnSuffix, {\n          isShowEditBtn: isShowEditButton,\n          isShowClear: isShowClear,\n          isAlignRight: isAlignRight,\n          onHandleBtnClick: function onHandleBtnClick(e) {\n            return _this2[_handleClick](e, editable);\n          },\n          onHandleClearClick: this.handleClearClick,\n          value: value,\n          fontClass: fontClass\n        }), /*#__PURE__*/_react[\"default\"].createElement(CellRenderIcons, {\n          pageId: pid,\n          gridId: gridId,\n          colId: colId,\n          rowKey: rowKey,\n          type: type,\n          showPreViewIcon: props.hasCellTips && _isPlaintextCell,\n          value: value,\n          baseDataDst: baseDataDst,\n          editable: editable,\n          onViewDetail: this.handleViewDetail,\n          onOpenF7: this.handleOpenF7,\n          onEditAddress: this.handleEditAddress,\n          onBatchInputClick: this.handleBatchInputClick,\n          baseEntityId: baseEntityId,\n          fontClass: fontClass,\n          showEditMark: showEditMark,\n          batchInput: batchInput,\n          isEntryEntity: isEntryEntity,\n          showPrivateIcon: showPrivateIcon && !rowPinned,\n          onToggleColumnPrivacyText: this.handleToggleColumnPrivacyText\n        }), gridEditable && (0, _GridUtils.isEditableColumn)(_colDefEditable, colLocked, type) && !_dynamicColLocked && !this.props.node.rowPinned && /*#__PURE__*/_react[\"default\"].createElement(_GridValidator.ValidateMessageTips, _extends({}, this.props, {\n          rowKey: rowKey,\n          containter: this.props.reactContainer,\n          bindFieldValidate: false,\n          onValidate: function onValidate(res) {\n            res.success ? _this2.props.reactContainer.classList.remove('error-color-border') // 校验通过删除\n            : !_this2.props.reactContainer.classList.contains('error-color-border') && _this2.props.reactContainer.classList.add('error-color-border') // 校验不通过设置红色边框\n            ;\n          }\n        })));\n      }\n    }, {\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        var _this$props13;\n        CellRenderer.afterCreate && CellRenderer.afterCreate(this);\n        var _this$props12 = this.props,\n          isCombinedItem = _this$props12.isCombinedItem,\n          getMergeModel = _this$props12.getMergeModel,\n          node = _this$props12.node,\n          rk = _this$props12.rk,\n          type = _this$props12.type,\n          editor = _this$props12.editor; // 简单的才取出来\n        if (isCombinedItem) {\n          this.cellContainerDom.addEventListener('click', this.combinedItemClick, true);\n        }\n        // 防止编辑态回车，导致马上切换非编辑态后，马上执行绑定的方法\n        if (!((_this$props13 = this.props) !== null && _this$props13 !== void 0 && (_this$props13 = _this$props13.model) !== null && _this$props13 !== void 0 && _this$props13.meta.get('gridtype'))) {\n          // 编辑时指令触发值更新可能会导致重复添加两次\n          if (!this.props.eGridCell.onQSKeyDown) {\n            this.props.eGridCell.addEventListener('keydown', this.onQSKeyDown, true);\n            this.props.eGridCell.onQSKeyDown = this.onQSKeyDown;\n          }\n        }\n        if ((0, _GridUtils.isBaseData)(type)) {\n          var editProp = editor && editor[_serverproperties.EDIT_PROP];\n          var displayProp = editor && editor[_serverproperties.DISPLAY_PROP];\n          if (editProp === displayProp) {\n            this.props.eGridCell[_const.DATA_BIND_SET_FOCUS_CALLBACK] = this.handleSetFocusEvent;\n          }\n        }\n        this.cellTitle != null && this.props.eGridCell.setAttribute('title', (0, _TextEllipsisWrap.getFormatWrapTitle)(this.cellTitle)); // this.cellTitle不为空的设置鼠标悬浮文本\n        var mergeM = getMergeModel();\n        if (mergeM && mergeM.suppress === false && !node.rowPinned) {\n          var rowKey = node.data && node.data[rk];\n          var mainRks = mergeM.getMainEntityGroup(rowKey); // 只要主组的长度大于1，就需要绑定hover事件，不然再切换拆分的时候有问题\n          if (mainRks && mainRks.length > 1) {\n            this.props.eGridCell.addEventListener('mouseover', this.onMouseOver, true);\n            this.props.eGridCell.addEventListener('mouseout', this.onMouseOut, true);\n            this.removeMergeMouseEvent = function () {\n              this.props.eGridCell.removeEventListener('mouseover', this.onMouseOver, true);\n              this.props.eGridCell.removeEventListener('mouseout', this.onMouseOut, true);\n            };\n          }\n          // 融合可编辑单元格处理高度\n          if (this.editableCell) {\n            var _this$props14 = this.props,\n              gridContrlParams = _this$props14.gridContrlParams,\n              gridOptions = _this$props14.gridOptions,\n              entity = _this$props14.entity,\n              eGridCell = _this$props14.eGridCell;\n            var currentSpan = mergeM.getCurrentEntitySpan(rowKey, entity);\n            var currentGroup = mergeM.getCurrentEntityGroup(rowKey, entity);\n            if (gridContrlParams.rowMergeCellVerticalAlign === 'top' && currentGroup.length > 1 && currentSpan === 1) {\n              var ele = this.cellContainerDom.parentNode;\n              var rowHeight = gridOptions.rowHeight;\n              var expectHeight = rowHeight - 7;\n              ele.style.height = expectHeight + 'px'; // 7=> 4px padding,2px cell boder, 1px row border\n              eGridCell.setAttribute('data-container-height', expectHeight);\n            }\n          }\n        }\n        // 专门为checkbox做的特殊处理\n        this.renderRef.current && this.renderRef.current.addEventListener('click', this.handleCheckboxClick);\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate() {\n        this.cellTitle != null && this.props.eGridCell.setAttribute('title', (0, _TextEllipsisWrap.getFormatWrapTitle)(this.cellTitle)); // this.cellTitle不为空的设置鼠标悬浮文本\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value:\n      // destory\n      function componentWillUnmount() {\n        CellRenderer.destroy && CellRenderer.destroy(this);\n        this.renderRef.current && this.renderRef.current.removeEventListener('click', this.handleCheckboxClick);\n        // TODO:加垃圾清理\n        if (this.props.isCombinedItem) {\n          this.cellContainerDom.removeEventListener('click', this.combinedItemClick, true);\n        }\n        this.props.eGridCell.removeEventListener('keydown', this.onQSKeyDown, true);\n        this.props.eGridCell.onQSKeyDown = null;\n        typeof this.removeMergeMouseEvent === 'function' && this.removeMergeMouseEvent();\n      }\n    }, {\n      key: \"refresh\",\n      value:\n      // Mandatory - Get the cell to refresh. Return true if the refresh succeeded, otherwise return false.\n      // If you return false, the grid will remove the component from the DOM and create\n      // a new component in it's place with the new values.\n      function refresh(params) {\n        /*\n          // set value into cell again\n          this.eValue.innerHTML = params.valueFormatted ? params.valueFormatted : params.value;\n          // return true to tell the grid we refreshed successfully\n          return true;\n          */\n        return false; // 可以组件自己更新，暂直接让grid重建组件，因为在单据体时可能有动态锁定性，要变更样式。---或可将这些信息也用state来做？\n      }\n    }]);\n    return GridCell;\n  }(_react[\"default\"].Component), _GridCell.cellRenderInstance = CellRenderer, _GridCell;\n};\nvar _default = exports[\"default\"] = AlphaFactory;\nfunction CellEditBtnSuffix(props) {\n  var isShowEditBtn = props.isShowEditBtn,\n    isShowClear = props.isShowClear,\n    onHandleBtnClick = props.onHandleBtnClick,\n    onHandleClearClick = props.onHandleClearClick,\n    fontClass = props.fontClass;\n  return /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, null, isShowClear ? /*#__PURE__*/_react[\"default\"].createElement(ClearBtn, {\n    onHandleClick: onHandleClearClick\n  }) : null, isShowEditBtn ? /*#__PURE__*/_react[\"default\"].createElement(EditBtn, {\n    onHandleClick: onHandleBtnClick,\n    fontClass: fontClass\n  }) : null);\n}\nfunction EditBtn(props) {\n  var btnDom = (0, _react.useRef)(null);\n  var onHandleClick = props.onHandleClick,\n    fontClass = props.fontClass;\n  var cellBtnClass = (0, _classnames7[\"default\"])(['kdfont kd-hover-color'], fontClass || 'kdfont-zidingyi', _CellClass[\"default\"]['alpha-render-icon']);\n  (0, _react.useEffect)(function () {\n    btnDom.current && btnDom.current.addEventListener('click', onHandleClick, true);\n    return function cleanUp() {\n      btnDom.current && btnDom.current.removeEventListener('click', onHandleClick, true);\n    };\n  }, []);\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    ref: btnDom,\n    className: cellBtnClass\n  });\n}\nfunction ClearBtn(props) {\n  var onHandleClick = props.onHandleClick;\n  var btnDom = (0, _react.useRef)(null);\n  var clearBtnClass = (0, _classnames7[\"default\"])('kdfont kdfont-guanbi8 kd-hover-color', _defineProperty(_defineProperty(_defineProperty(_defineProperty({}, _CellClass[\"default\"]['cell-suffix-clear-btn'], true), _GridStyles[\"default\"]['cell-btn-hover-show'], true), _CellClass[\"default\"]['alpha-render-icon'], true), _CellClass[\"default\"]['cell-btn-hover-show'], true));\n  var handleMouseDown = function handleMouseDown(e) {\n    e.stopPropagation();\n  };\n  var handleClick = function handleClick(e) {\n    onHandleClick(e);\n  };\n  (0, _react.useEffect)(function () {\n    btnDom.current && btnDom.current.addEventListener('click', handleClick, false);\n    btnDom.current && btnDom.current.addEventListener('mousedown', handleMouseDown);\n    return function cleanUp() {\n      btnDom.current && btnDom.current.removeEventListener('click', handleClick, false);\n      btnDom.current && btnDom.current.addEventListener('mousedown', handleMouseDown);\n    };\n  }, []);\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    ref: btnDom,\n    className: clearBtnClass\n  });\n}\nvar CellRenderIcons = function CellRenderIcons(_ref3) {\n  var type = _ref3.type,\n    showPreViewIcon = _ref3.showPreViewIcon,\n    value = _ref3.value,\n    baseDataDst = _ref3.baseDataDst,\n    editable = _ref3.editable,\n    onViewDetail = _ref3.onViewDetail,\n    onOpenF7 = _ref3.onOpenF7,\n    onEditAddress = _ref3.onEditAddress,\n    onBatchInputClick = _ref3.onBatchInputClick,\n    baseEntityId = _ref3.baseEntityId,\n    fontClass = _ref3.fontClass,\n    showEditMark = _ref3.showEditMark,\n    showPrivateIcon = _ref3.showPrivateIcon,\n    batchInput = _ref3.batchInput,\n    onToggleColumnPrivacyText = _ref3.onToggleColumnPrivacyText,\n    isEntryEntity = _ref3.isEntryEntity,\n    pageId = _ref3.pageId,\n    gridId = _ref3.gridId,\n    colId = _ref3.colId,\n    rowKey = _ref3.rowKey;\n  var cellTipIconClass = (0, _classnames7[\"default\"])(_GridStyles[\"default\"]['cell-btn-hover-show'], _CellClass[\"default\"]['cell-btn-hover-show'], _CellClass[\"default\"]['alpha-render-icon'], _CellClass[\"default\"]['cell-tip-icon'], _defineProperty({}, _CellClass[\"default\"]['cell-btn-show'], showEditMark));\n  var baseDataShowPreViewIcon = (0, _GridUtils.isBaseData)(type) && showPreViewIcon && !!value;\n  var flexFieldShowPreViewIcon = type === _serverproperties.Ctrls.KDFlexField && !editable && (0, _flexFieldUtil.getFlexFieldValue)(value) && isEntryEntity;\n  var _showPreViewIcon = baseDataShowPreViewIcon || flexFieldShowPreViewIcon;\n  var showF7Icon = (0, _GridUtils.isBaseData)(type) && editable && baseDataDst !== 1;\n  var showAddressIcon = type === _serverproperties.Ctrls.KDAddress && editable;\n  var showBatchInputIcon = type === _serverproperties.Ctrls.KDFlexField && editable && batchInput;\n  var f7Ref = (0, _react.useRef)();\n  var preViewRef = (0, _react.useRef)();\n  var batchInputRef = (0, _react.useRef)();\n  (0, _react.useEffect)(function () {\n    f7Ref.current && f7Ref.current.addEventListener('click', onOpenF7);\n    preViewRef.current && preViewRef.current.addEventListener('click', onViewDetail);\n    batchInputRef.current && batchInputRef.current.addEventListener('click', onBatchInputClick);\n    return function () {\n      f7Ref.current && f7Ref.current.removeEventListener('click', onOpenF7);\n      preViewRef.current && preViewRef.current.removeEventListener('click', onViewDetail);\n      batchInputRef.current && batchInputRef.current.removeEventListener('click', onBatchInputClick);\n    };\n  }, []);\n  var getF7IconClass = function getF7IconClass() {\n    var icon = _f7DefaultIcon.F7DEFAULTICON[baseEntityId] || 'kdfont kdfont-f';\n    return (0, _classnames7[\"default\"])(_defineProperty(_defineProperty({}, (0, _defaultPropsUtil.getBaseDataFieldIcon)(baseEntityId), !fontClass), fontClass || icon, true), cellTipIconClass);\n  };\n  return [_showPreViewIcon ? /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    key: \"preView\",\n    ref: preViewRef,\n    className: (0, _classnames7[\"default\"])('kdfont kdfont-chakanjichuziliao', cellTipIconClass)\n  }) : null, showF7Icon ? /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    key: \"f7\",\n    ref: f7Ref,\n    className: getF7IconClass(),\n    title: \"F7\"\n  }) : null, showBatchInputIcon ? /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    key: \"batchInput\",\n    ref: batchInputRef,\n    className: (0, _classnames7[\"default\"])('kdfont kdfont-tianjiatongji', cellTipIconClass)\n  }) : null, showAddressIcon ? /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    key: \"address\",\n    onClick: onEditAddress,\n    className: (0, _classnames7[\"default\"])({\n      'kdfont kdfont-dizhiguanli': true\n    }, cellTipIconClass)\n  }) : null, showPrivateIcon ? /*#__PURE__*/_react[\"default\"].createElement(_PrivacyIcon[\"default\"], {\n    onToggleColumnPrivacyText: onToggleColumnPrivacyText,\n    cellTipIconClass: (0, _classnames7[\"default\"])(_GridStyles[\"default\"]['cell-btn-hover-show'], _CellClass[\"default\"]['cell-btn-hover-show'], _CellClass[\"default\"]['alpha-render-icon']),\n    pageId: pageId,\n    gridId: gridId,\n    colId: colId,\n    rowKeyVal: rowKey\n  }) : null];\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/CellRenderer/AlphaFactory.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/CellRenderer/AttachmentFieldRenderer.js":
/*!***************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/CellRenderer/AttachmentFieldRenderer.js ***!
  \***************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = exports.AttachmentFieldRender = void 0;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _classnames = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _AlphaFactory = _interopRequireDefault(__webpack_require__(/*! ./AlphaFactory */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/AlphaFactory.js\"));\nvar _gridConst = __webpack_require__(/*! @/constant/gridConst */ \"./src/constant/gridConst.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); } /**\n * 表格附件字段\n */\nvar AttachmentFieldRender = exports.AttachmentFieldRender = /*#__PURE__*/function () {\n  function AttachmentFieldRender() {\n    _classCallCheck(this, AttachmentFieldRender);\n    this.isEmpty = false;\n  }\n  _createClass(AttachmentFieldRender, [{\n    key: \"getRenderer\",\n    value: function getRenderer(params) {\n      var props = params.props,\n        cellLocked = params.cellLocked;\n      var value = props.value,\n        rk = props.rk,\n        column = props.column,\n        node = props.node,\n        invokeControlMethodOnly = props.invokeControlMethodOnly,\n        pid = props.pid,\n        gridId = props.gridId,\n        gridContrlParams = props.gridContrlParams;\n      var size = value && value.length;\n      var hasFile = !!(size > 0);\n      var iconClass = (0, _classnames[\"default\"])({\n        kdfont: true,\n        'kdfont-youfujian theme-fc': hasFile === true,\n        'kdfont-fujian': hasFile !== true,\n        'kd-hover-color': true\n      });\n      var handleClick = function handleClick() {\n        invokeControlMethodOnly({\n          pageId: pid,\n          key: gridId\n        }, 'attachmentClick', [{\n          c: column.colId,\n          r: node.data[rk],\n          l: cellLocked\n        }]);\n\n        // 记录最后一次编辑的单元格\n        props.setGridThisProp(_gridConst.LAST_EDIT_CELL, {\n          rowIndex: node.rowIndex,\n          rowKey: node.data[rk],\n          colId: column.colId\n        });\n      };\n      return !cellLocked || hasFile ? /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n        className: iconClass,\n        onClick: handleClick\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n        style: {\n          paddingLeft: '4px'\n        }\n      }, hasFile ? size : this._setIsEmpty())) : null;\n    }\n  }, {\n    key: \"_setIsEmpty\",\n    value: function _setIsEmpty() {\n      this.isEmpty = true;\n      return '';\n    }\n  }, {\n    key: \"resetIsEmpty\",\n    value: function resetIsEmpty() {\n      this.isEmpty = false;\n    }\n  }]);\n  return AttachmentFieldRender;\n}();\nvar AttachmentFieldRenderer = exports[\"default\"] = (0, _AlphaFactory[\"default\"])(new AttachmentFieldRender());\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/CellRenderer/AttachmentFieldRenderer.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/CellRenderer/BDRenderer.js":
/*!**************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/CellRenderer/BDRenderer.js ***!
  \**************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = exports.BDRenderer = void 0;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\nvar _AlphaFactory = _interopRequireDefault(__webpack_require__(/*! ./AlphaFactory.js */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/AlphaFactory.js\"));\nvar _serverproperties = __webpack_require__(/*! ../../../../../constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _baseDataUtil = __webpack_require__(/*! ../../../../../util/baseDataUtil */ \"./src/util/baseDataUtil.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); } /*\r\n * @Descripttion:\r\n * @version:\r\n * @Author: wenq\r\n * @Date: 2020-02-06 16:09:09\r\n * @LastEditors: wenq\r\n * @LastEditTime: 2020-02-18 11:41:47\r\n */ // import { DISPLAY_PROP } from '../../../../../constant/serverproperties'\nvar BDRenderer = exports.BDRenderer = /*#__PURE__*/function () {\n  function BDRenderer() {\n    _classCallCheck(this, BDRenderer);\n    this.isEmpty = false;\n  }\n  _createClass(BDRenderer, [{\n    key: \"getRenderer\",\n    value: function getRenderer(args) {\n      var _this = this;\n      var props = args.props;\n      var name = props.value;\n      var isuf = props.isuf;\n\n      // const index = 1 // ['number3'，'name3','editValue']\n      // let res = ''\n      // if (props.type == Ctrls.KDMulBaseData) {\n      //   if (Array.isArray(name)) {\n      //     for (let i = 0; i < name.length; i++) {\n      //       if (i == 0) {\n      //         res += Array.isArray(name[i]) ? name[i][index] : name[i] || ''\n      //       } else {\n      //         res += ',' + name[i][index]\n      //       }\n      //     }\n      //   } else {\n      //     res = name || ''\n      //   }\n      // } else {\n      //   res = Array.isArray(name) ? name[index] : name || ''\n      // }\n\n      // 值格式化偏函数\n      var getDisplayValue = function getDisplayValue(val) {\n        if (isuf === true) {\n          return val == null || val === '' ? _this._setIsEmpty() : val;\n        }\n        return (0, _baseDataUtil.getBaseDataDisplayProp)((0, _immutable.fromJS)(val), props.editor && props.editor[_serverproperties.DISPLAY_PROP], props.type === _serverproperties.Ctrls.KDMulBaseData, props.editor && props.editor[_serverproperties.CONNECTOR]);\n      };\n      props.setGridDisplayFun && props.setGridDisplayFun(props.colDef.field, getDisplayValue);\n      return getDisplayValue(name);\n    }\n  }, {\n    key: \"resetIsEmpty\",\n    value: function resetIsEmpty() {\n      this.isEmpty = false;\n    }\n  }, {\n    key: \"_setIsEmpty\",\n    value: function _setIsEmpty() {\n      this.isEmpty = true;\n      return '';\n    }\n  }]);\n  return BDRenderer;\n}();\nvar BDCellRenderer = exports[\"default\"] = (0, _AlphaFactory[\"default\"])(new BDRenderer());\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/CellRenderer/BDRenderer.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/CellRenderer/CascaderRenderer.js":
/*!********************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/CellRenderer/CascaderRenderer.js ***!
  \********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = exports.CascaderRendererCore = void 0;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.join.js */ \"../../node_modules/core-js/modules/es.array.join.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _AlphaFactory = _interopRequireDefault(__webpack_require__(/*! ./AlphaFactory.js */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/AlphaFactory.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar CascaderRendererCore = exports.CascaderRendererCore = /*#__PURE__*/function () {\n  function CascaderRendererCore() {\n    _classCallCheck(this, CascaderRendererCore);\n  }\n  _createClass(CascaderRendererCore, [{\n    key: \"getRenderer\",\n    value: function getRenderer(args) {\n      var props = args.props;\n      var value = props.value,\n        column = props.column,\n        editor = props.editor,\n        getColProperty = props.getColProperty;\n      if (value == null || value == '') return '';\n      var dataOpts = getColProperty(column.colId, 'colCtrl');\n      var items = dataOpts.st || editor.st;\n      var _value = value.split(',');\n      var title = [];\n      var selOption;\n      _value.forEach(function (itemValue) {\n        var selOptionItem = selOption && selOption[0];\n        var children = selOptionItem ? selOptionItem.children : items;\n        if (!children || children.length === 0) return;\n        selOption = children.filter(function (option) {\n          return option.value === itemValue;\n        });\n        var label = selOption && selOption[0] && selOption[0].caption;\n        var text = props.getLangResult && props.getLangResult(label);\n        title.push(text == null ? itemValue : text);\n      });\n      return title.length === 0 ? value : title.join('/');\n    }\n  }]);\n  return CascaderRendererCore;\n}();\nvar CascaderRenderer = (0, _AlphaFactory[\"default\"])(new CascaderRendererCore());\nvar _default = exports[\"default\"] = CascaderRenderer;\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/CellRenderer/CascaderRenderer.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/CellRenderer/CheckboxRenderer.js":
/*!********************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/CellRenderer/CheckboxRenderer.js ***!
  \********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = exports.chkboxRenderer = void 0;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\nvar _AlphaFactory = _interopRequireDefault(__webpack_require__(/*! ./AlphaFactory.js */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/AlphaFactory.js\"));\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _BaseComponents = __webpack_require__(/*! ../../../base/BaseComponents */ \"./src/component/web/base/BaseComponents/index.js\");\nvar _gridConst = __webpack_require__(/*! @/constant/gridConst */ \"./src/constant/gridConst.js\");\nvar _classnames3 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _CellClass = _interopRequireDefault(__webpack_require__(/*! ../CellClass.less */ \"./src/component/web/DataGrid/AgDataGrid/CellClass.less\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar CheckboxRenderer = exports.chkboxRenderer = /*#__PURE__*/function () {\n  function CheckboxRenderer() {\n    _classCallCheck(this, CheckboxRenderer);\n    /**\n     * 是否显示空白\n     * cprop: {\n     *  blank: field[]\n     * }\n     */\n    this._getIsShowBlank = function (data, field) {\n      var _data$cprop;\n      return data === null || data === void 0 || (_data$cprop = data.cprop) === null || _data$cprop === void 0 || (_data$cprop = _data$cprop.blank) === null || _data$cprop === void 0 ? void 0 : _data$cprop.includes(field);\n    };\n  }\n  _createClass(CheckboxRenderer, [{\n    key: \"getRenderer\",\n    value: function getRenderer(args) {\n      var props = args.props,\n        cellLocked = args.cellLocked,\n        renderRef = args.renderRef;\n      var showStyle = props.editor.s;\n      // styleType：1 标签样式； 2 复选框勾选样式；开关样式，默认\n      var disabled = cellLocked;\n      var className = (0, _classnames3[\"default\"])(_defineProperty(_defineProperty({}, args.containerClass, true), _CellClass[\"default\"].checkbox, showStyle === 2));\n      var iconClassName = (0, _classnames3[\"default\"])(_defineProperty(_defineProperty({}, _CellClass[\"default\"].checkbox, showStyle === 2), _CellClass[\"default\"]['disable-checkbox'], disabled));\n      var showBlank = this._getIsShowBlank(props.data, props.colDef.field); // 复选框支持通过cprop显示空白\n      if (showBlank) return null;\n      var checkBoxLabelStyle = {};\n      // 表格复选框不设置边距\n      if (showStyle === 2) {\n        checkBoxLabelStyle = {\n          marginLeft: 0\n        };\n      }\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _CellClass[\"default\"]['checkbox-wrap']\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        ref: renderRef\n      }, /*#__PURE__*/_react[\"default\"].createElement(_BaseComponents.CheckBox, {\n        iconClassName: iconClassName,\n        value: props.value === true || props.value == 1,\n        className: className,\n        style: args.containerStyle,\n        disabled: disabled,\n        styleType: showStyle,\n        onChange: function onChange() {},\n        checkBoxLabelStyle: checkBoxLabelStyle\n      })));\n    }\n  }]);\n  return CheckboxRenderer;\n}();\nvar ChkboxCellRenderer = exports[\"default\"] = (0, _AlphaFactory[\"default\"])(new CheckboxRenderer());\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/CellRenderer/CheckboxRenderer.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/CellRenderer/CombinedCellRenderer.js":
/*!************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/CellRenderer/CombinedCellRenderer.js ***!
  \************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-properties.js */ \"../../node_modules/core-js/modules/es.object.define-properties.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptors.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = exports.combinedRenderer = void 0;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _AlphaFactory = _interopRequireDefault(__webpack_require__(/*! ./AlphaFactory.js */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/AlphaFactory.js\"));\nvar _gridConst = __webpack_require__(/*! @/constant/gridConst.js */ \"./src/constant/gridConst.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); } // import { cellRendererRelations } from './index.js';\n// import * as CellRender from './indexOf.js';\n\nfunction doNothing() {}\nvar CombinedRenderer = exports.combinedRenderer = /*#__PURE__*/function () {\n  function CombinedRenderer() {\n    _classCallCheck(this, CombinedRenderer);\n    this.isEmpty = false;\n  }\n  _createClass(CombinedRenderer, [{\n    key: \"getRenderer\",\n    value: function getRenderer(args) {\n      var props = args.props;\n      var gridContrlParams = props.gridContrlParams,\n        eGridCell = props.eGridCell;\n      var columnResizeMode = gridContrlParams.columnResizeMode;\n      var srrrr = [];\n      if (props.node.data === undefined) return ''; // 在虚模式表格时，data开始会是undefined状态，从服务器加载过来后才有真实数据。\n      var isEmpty = true;\n      if (eGridCell.title !== '') {\n        // 仅刷新单元格内容时，title为之前的值，应当清空\n        eGridCell.setAttribute('title', '');\n      }\n      props.combinedItems.map(function (ki, index) {\n        // let render = CellRender[cellRendererRelations[ki.cellRendererParams.type]];\n        var itemProps = Object.assign({}, props, _objectSpread(_objectSpread({}, ki.cellRendererParams), {}, {\n          api: props.api,\n          columnApi: props.columnApi,\n          value: props.node.data[ki.field],\n          colDef: ki,\n          node: props.node,\n          column: {\n            colId: ki.field\n          },\n          colStyle: ki.cellRendererParams.colStyle,\n          containerStyle: {\n            width: columnResizeMode === _gridConst.GRID_COLUMN_RESIZE_MODE.preset ? ki.width : 'auto'\n          },\n          // 在coldeffactory重算了宽度,要用此覆盖宽度值，列宽自适应时列宽跟随内容\n          isCombined: false,\n          // 重写props中的iscombined\n          isCombinedItem: true\n          // tips:null 有tips时需要放开\n          // title:ki.title,\n          // ...editorParams,\n        }));\n        // let te = new ki.cellRendererFramework(itemProps);//将渲染器作为普通类使用---要绑定事件，只能用react component了\n        // const item = ki.cellRendererFramework ? React.createElement(ki.cellRendererFramework, itemProps) : getNativeRender(ki.cellRenderer, itemProps)\n        // srrrr.push(item)\n        var CellRendererFramework = ki.cellRendererFramework;\n        if (CellRendererFramework) {\n          var cellRenderInstance = CellRendererFramework.cellRenderInstance;\n          if (cellRenderInstance) {\n            cellRenderInstance.resetIsEmpty && cellRenderInstance.resetIsEmpty();\n            cellRenderInstance.getRenderer(_objectSpread(_objectSpread({}, args), {}, {\n              props: itemProps,\n              setCellTitle: doNothing\n            }));\n            if (!cellRenderInstance.isEmpty) {\n              isEmpty = false;\n            }\n          }\n          srrrr.push( /*#__PURE__*/_react[\"default\"].createElement(ki.cellRendererFramework, itemProps));\n        } else {\n          var nativeRender = getNativeRender(ki.cellRenderer, itemProps);\n          var itemValue = props.node.data[ki.field];\n          if (nativeRender && (itemValue || itemValue === 0)) {\n            isEmpty = false;\n          }\n          srrrr.push(nativeRender);\n        }\n      });\n      return isEmpty ? this._setIsEmpty() : srrrr;\n    }\n  }, {\n    key: \"resetIsEmpty\",\n    value: function resetIsEmpty() {\n      this.isEmpty = false;\n    }\n  }, {\n    key: \"_setIsEmpty\",\n    value: function _setIsEmpty() {\n      this.isEmpty = true;\n      return '';\n    }\n  }]);\n  return CombinedRenderer;\n}();\nfunction getNativeRender(CellRenderer, itemProps) {\n  if (CellRenderer) {\n    var cellRender = new CellRenderer();\n    var props = Object.assign({}, itemProps);\n    props.containerStyle.width = props.containerStyle.width + 'px';\n    cellRender && cellRender.init && cellRender.init(itemProps);\n    return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      ref: function ref(nodeElement) {\n        nodeElement && nodeElement.appendChild(cellRender ? cellRender.getGui() : '');\n      }\n    });\n  }\n  return '';\n}\nvar CombinedCellRenderer = exports[\"default\"] = (0, _AlphaFactory[\"default\"])(new CombinedRenderer());\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/CellRenderer/CombinedCellRenderer.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/CellRenderer/CommonRenderer.js":
/*!******************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/CellRenderer/CommonRenderer.js ***!
  \******************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-properties.js */ \"../../node_modules/core-js/modules/es.object.define-properties.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptors.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = exports.CommonRenderer = void 0;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.join.js */ \"../../node_modules/core-js/modules/es.array.join.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\n__webpack_require__(/*! core-js/modules/es.string.replace.js */ \"../../node_modules/core-js/modules/es.string.replace.js\");\nvar _moment = _interopRequireDefault(__webpack_require__(/*! moment */ \"../../node_modules/moment/moment.js\"));\nvar _AlphaFactory = _interopRequireDefault(__webpack_require__(/*! ./AlphaFactory.js */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/AlphaFactory.js\"));\nvar _serverproperties = __webpack_require__(/*! ../../../../../constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar formatUtil = _interopRequireWildcard(__webpack_require__(/*! ../../../../../util/formatUtil */ \"./src/util/formatUtil.js\"));\nvar _gridModel = __webpack_require__(/*! ../gridModel */ \"./src/component/web/DataGrid/AgDataGrid/gridModel/index.js\");\nvar _timeUtil = __webpack_require__(/*! @/util/timeUtil */ \"./src/util/timeUtil.js\");\nvar _textUtil = __webpack_require__(/*! @/util/textUtil */ \"./src/util/textUtil.js\");\nvar _componentutil = __webpack_require__(/*! @/util/componentutil */ \"./src/util/componentutil.js\");\nvar _GridUtils = __webpack_require__(/*! ../GridUtils.js */ \"./src/component/web/DataGrid/AgDataGrid/GridUtils.js\");\nvar _flexFieldUtil = __webpack_require__(/*! @/util/flexFieldUtil */ \"./src/util/flexFieldUtil.js\");\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n// 显示不需处理，直接显示值的情况用此渲染器\nvar CommonRenderer = exports.CommonRenderer = /*#__PURE__*/function () {\n  function CommonRenderer() {\n    _classCallCheck(this, CommonRenderer);\n    this.isEmpty = false;\n    this.getRendererDisplayValue = function (args) {\n      var props = args.props,\n        _args$props = args.props,\n        value = _args$props.value,\n        field = _args$props.colDef.field,\n        rowData = args.rowData;\n      return getDisplayValue(_objectSpread(_objectSpread({}, props), {}, {\n        field: field\n      }))(value, rowData);\n    };\n  }\n  _createClass(CommonRenderer, [{\n    key: \"getRenderer\",\n    value: function getRenderer(args) {\n      var props = args.props;\n      var value = props.value,\n        aggType = props.aggType,\n        node = props.node,\n        gridContrlParams = props.gridContrlParams,\n        data = props.data,\n        colDef = props.colDef;\n      var key = '__' + colDef.field + 'isFromServer';\n      if (node.rowPinned && data[key]) {\n        return value;\n      }\n      if (node.rowPinned && (gridContrlParams.isListView || aggType === 'count')) {\n        // 列表合并字段或者格式化原样显示\n        if (value == null || value === '') return '';\n        return value;\n      }\n      var displayValue = getDisplayValue(props)(value);\n      if (!displayValue && displayValue !== 0) {\n        this._setIsEmpty();\n      }\n      return displayValue; // 正常render不需要传rowData直接用node里面的data\n    }\n  }, {\n    key: \"resetIsEmpty\",\n    value: function resetIsEmpty() {\n      this.isEmpty = false;\n    }\n  }, {\n    key: \"_setIsEmpty\",\n    value: function _setIsEmpty() {\n      this.isEmpty = true;\n      return '';\n    }\n  }]);\n  return CommonRenderer;\n}();\nvar getDisplayValue = function getDisplayValue(props) {\n  return function (value, rowData) {\n    var isuf = props.isuf,\n      type = props.type,\n      editor = props.editor,\n      getSrcFieldInfo = props.getSrcFieldInfo,\n      node = props.node,\n      isPrivacy = props.isPrivacy;\n    if (isuf === true) {\n      if (value == null || value === '') return '';\n      if (Array.isArray(value)) {\n        return value[0];\n      }\n      return value;\n    }\n    if (type === _serverproperties.Ctrls.KDText) {\n      if (Array.isArray(value)) {\n        return value.toString();\n      }\n      if (editor[_serverproperties.TEXT_FIELD_FORMAT]) {\n        var _value, _value$replace;\n        var formatter = new _textUtil.TextFormatter(editor[_serverproperties.TEXT_FIELD_FORMAT]);\n        return formatter.generateFormatValue((_value = value) === null || _value === void 0 || (_value$replace = _value.replace) === null || _value$replace === void 0 ? void 0 : _value$replace.call(_value, /\\s*/g, '')); // 格式化前先去掉空格，银行卡没有改值直接点击其他单元格的值会有空格\n      }\n    }\n    if (type === _serverproperties.Ctrls.KDNumber || type === _serverproperties.Ctrls.KDStepper) {\n      var _props$data;\n      if (value && value[value.length - 1] === '.') {\n        // 如果位类似\"1.\"的值，则修改为\"1\"\n        value = value.slice(0, value.length - 1);\n      }\n      if (typeof value === 'string' && !formatUtil.isNumberStr(value)) return value; // 非数字类型原样输出\n      if (value === null || value === '') return '';\n      var scale = editor[_serverproperties.SCALE];\n      var scaleDependencies = props.editor[_serverproperties.SCALE_DEPENDENCIES];\n      var zeroShow = type === _serverproperties.Ctrls.KDStepper ? true : editor[_serverproperties.ZERO_SHOW]; // 步进器渲染zeroShow固定为true\n      var noDisplayDecimalTailZero = editor[_serverproperties.NO_DISPLAY_SCALE_ZERO];\n      var srcFieldInfo = getSrcFieldInfo(props, rowData);\n      if (srcFieldInfo && srcFieldInfo.scale !== undefined && srcFieldInfo.scale !== null) {\n        scale = srcFieldInfo.scale;\n      }\n      if (scaleDependencies) {\n        var pageId = props.pid;\n        var key = props.colDef.colId;\n        var data = props.data;\n        var dependenciesScale = (0, _componentutil.getScaleFromDependencies)({\n          pageId: pageId,\n          data: data,\n          key: key,\n          scaleDependencies: scaleDependencies\n        });\n        if (dependenciesScale !== undefined) {\n          scale = dependenciesScale;\n        }\n      }\n      var colId = props.colDef.colId;\n      if ((_props$data = props.data) !== null && _props$data !== void 0 && (_props$data = _props$data.cprop) !== null && _props$data !== void 0 && (_props$data = _props$data[colId]) !== null && _props$data !== void 0 && _props$data.ssc) {\n        scale = props.data.cprop[colId].ssc;\n      }\n      if (node && node.rowPinned && srcFieldInfo !== null && srcFieldInfo.srcType === 'entry') {\n        // 合计行数量字段关联的是行计量单位时，精度取不到，先做不显示尾零处理,之前的写法会把纯数字类型的尾0也给去掉\n        noDisplayDecimalTailZero = true;\n      }\n      if (node && node.rowPinned) {\n        // 合计行为0也要显示\n        zeroShow = true;\n      }\n      var symbol = srcFieldInfo && srcFieldInfo.symbol ? srcFieldInfo.symbol : '';\n      var mask = editor[_serverproperties.DISPLAY_FORMAT] || editor[_serverproperties.MASK];\n      var code = srcFieldInfo && srcFieldInfo.code ? srcFieldInfo.code : '';\n      var r = formatUtil.formatNumber(value, {\n        mask: mask,\n        zeroShow: zeroShow,\n        decimalLength: scale,\n        noDisplayDecimalTailZero: noDisplayDecimalTailZero,\n        type: editor[_serverproperties.NUM_TYPE],\n        symbol: symbol,\n        code: code,\n        roundMethod: editor[_serverproperties.ROUND_METHOD] || '0'\n      });\n      if (r === 0 && !editor[_serverproperties.ZERO_SHOW]) return 0;\n      // if (srcFieldInfo && srcFieldInfo.showSymbol) r = srcFieldInfo.symbol + '' + r;\n      // props.eGridCell.setAttribute('title', r);  //title需要显示格式化过的数值\n      return r;\n    }\n    // 表格日期走前端格式化\n    if (type === _serverproperties.Ctrls.KDDate) {\n      // const date = value ? moment(value).locale(props.localeId) : ''\n      var localeCode = (0, _componentutil.getRootLocale)();\n      var date = (0, _moment[\"default\"])(value, 'YYYY-MM-DD', localeCode, true);\n      if (!value) {\n        return '';\n      }\n      if (!date.isValid()) {\n        return isPrivacy ? value : '';\n      }\n      var format = editor[_serverproperties.DISPLAY_FORMAT] || editor[_serverproperties.MASK];\n      return formatUtil.formatDate(date, format, type);\n    }\n    if (type === _serverproperties.Ctrls.KDDateTime) {\n      // 长日期不走isBiztype判断\n      // 长日期添加时区编码\n      var timeZone = (0, _gridModel.getTimeZoneInfo)(props);\n      if (Array.isArray(timeZone)) timeZone = timeZone[0];\n      if (!timeZone) timeZone = '';\n      // if (timeZone && timeZone[0] && timeZone[1]) {\n      //   timeZone = timeZone[0]\n      // } else {\n      //   timeZone = ''\n      // }\n      var timeValue = value;\n      var _format = editor[_serverproperties.DISPLAY_FORMAT] || editor[_serverproperties.MASK];\n      // 业务场景处理，如果区域类型为短日期，则将控件类型设置为短日期\n      var formatType = !_format && props.editor[_serverproperties.REGION_TYPE] === 1 ? 'date' : type;\n      // const date = value ? moment(Array.isArray(value) ? value[0] : value).locale(props.localeId) : ''\n      var _localeCode = (0, _componentutil.getRootLocale)();\n      var _date = (0, _moment[\"default\"])(Array.isArray(value) ? value[0] : value, 'YYYY-MM-DD HH:mm:ss', _localeCode, true);\n      if (!value) {\n        return '';\n      }\n      if (!_date.isValid()) {\n        return isPrivacy ? value : '';\n      }\n      timeValue = formatUtil.formatDate(_date, _format, formatType);\n      return timeValue ? timeValue + '  ' + timeZone : '';\n    }\n    if (type === _serverproperties.Ctrls.KDDateRange) {\n      // 日期范围\n      if (value && value.includes(',')) {\n        var dataList = value.split(',');\n        var _localeCode2 = (0, _componentutil.getRootLocale)();\n        var firstDate = (0, _moment[\"default\"])(dataList[0]).locale(_localeCode2);\n        var endDate = (0, _moment[\"default\"])(dataList[1]).locale(_localeCode2);\n        var _format2 = editor[_serverproperties.DISPLAY_FORMAT] || editor[_serverproperties.MASK];\n        var _formatType = !_format2 && props.editor[_serverproperties.REGION_TYPE] === 2 ? 'datetime' : type;\n        var firstDateStr = firstDate.isValid() ? formatUtil.formatDate(firstDate, _format2, _formatType) : '';\n        var endDateStr = endDate.isValid() ? formatUtil.formatDate(endDate, _format2, _formatType) : '';\n        if (!firstDate.isValid() && !endDate.isValid() && isPrivacy) {\n          return value;\n        }\n        if (firstDateStr && endDateStr) return firstDateStr + ' ~ ' + endDateStr;\n        return '';\n      }\n      return '';\n    }\n    if (type === _serverproperties.Ctrls.KDTextArea || type === _serverproperties.Ctrls.KDLTextArea) {\n      if (typeof value === 'string') {\n        return value.replace(/\\\\n\\\\r|\\\\n/g, '\\n');\n      } // 对字符中的\\\\n转义为换行,注意只在pre中有效\n    }\n    if (type === _serverproperties.Ctrls.KDFlexField) {\n      // 值为：[{k:'01',v:[],alias:'aaa'},{k:'02',v:\"\",alias:'bbb'}]\n      return (0, _flexFieldUtil.getFlexFieldValue)(value);\n    }\n    if (type === _serverproperties.Ctrls.KDCity) {\n      return Array.isArray(value) ? value[1] : value;\n    }\n    if (type === _serverproperties.Ctrls.KDAdminDivision) {\n      // value.length 判断是兼容只选国家不选地区的情况,数据格式为['1234567']\n      // 正常情况数据格式为['1234567','中国',['广东省','深圳市']]\n      return Array.isArray(value) ? value.length > 1 ? value[1] + ' ' + value[2].join('/') : '' : value;\n    }\n    if (type === _serverproperties.Ctrls.KDTime) {\n      // value 正常为数值|null ,脱敏时为非数组的字符串直接返回\n      if (isPrivacy && typeof value === 'string' && !formatUtil.isNumberStr(value)) return value;\n      return (0, _timeUtil.formatTime)(value, editor[_serverproperties.MASK]);\n    }\n    if (type === _serverproperties.Ctrls.KDTimeRange) return (0, _timeUtil.formatTimeRange)(value, editor[_serverproperties.MASK]);\n    if (type === _serverproperties.Ctrls.KDAddress) {\n      var _value2;\n      value = Array.isArray(value) ? value[1] : ((_value2 = value) === null || _value2 === void 0 ? void 0 : _value2.toString()) || '';\n      // 地址控件 目前需要过滤数据开始处的回车换行\n      if (typeof value === 'string') {\n        return value.replace(/^((\\r\\n)|(\\n\\r)|\\r|\\n)/, '');\n      } else {\n        return value;\n      }\n    }\n    if (value == null || value === '') return '';\n    return value.toString(); // 如果是对象在此处会导致界面渲染异常\n  };\n};\nvar ComCellRenderer = exports[\"default\"] = (0, _AlphaFactory[\"default\"])(new CommonRenderer());\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/CellRenderer/CommonRenderer.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/CellRenderer/ContainerRenderer/ContainerRenderer.js":
/*!***************************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/CellRenderer/ContainerRenderer/ContainerRenderer.js ***!
  \***************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\nvar _AlphaFactory = _interopRequireDefault(__webpack_require__(/*! ../AlphaFactory */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/AlphaFactory.js\"));\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _colDefinition = __webpack_require__(/*! ../../colDefinition */ \"./src/component/web/DataGrid/AgDataGrid/colDefinition/index.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); } /**\n * 容器列的单元格渲染器\n * by kechuang\n */\nvar ContainerRender = /*#__PURE__*/function () {\n  function ContainerRender() {\n    _classCallCheck(this, ContainerRender);\n  }\n  _createClass(ContainerRender, [{\n    key: \"getRenderer\",\n    value: function getRenderer(args) {\n      var props = args.props,\n        containerStyle = args.containerStyle;\n      var api = props.api,\n        columnApi = props.columnApi,\n        rowIndex = props.rowIndex,\n        data = props.data,\n        colDef = props.colDef,\n        node = props.node,\n        classNames = props.classNames,\n        colStyle = props.colStyle;\n      var colProps = {\n        api: api,\n        columnApi: columnApi,\n        rowIndex: rowIndex,\n        data: data,\n        cellNode: node\n      };\n      var style = Object.assign({}, containerStyle, colStyle, {\n        display: 'flex'\n      });\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        style: style,\n        className: classNames\n      }, (0, _colDefinition.parseSubComponent)(colDef.subItems, colProps));\n    }\n  }]);\n  return ContainerRender;\n}();\nvar ContainerRenderer = (0, _AlphaFactory[\"default\"])(new ContainerRender());\nvar _default = exports[\"default\"] = ContainerRenderer; // container列的数据格式\n// const value = {\n//     'imageap':{imageKey:'20161117/0c93/02/07/Crown_icon@2x.png'},\n//     'labelap':{text:{en: \"标签\", zh_CN: \"标签\", zh_TW: \"標籤\"}},\n//     'vectorap':{fontClass:'kdfont kdfont-xianjinguanli'},\n//     'vectorap1':{fontClass:'kdfont kdfont-zhinenghuiji'}\n// }\n// const META = [{\n//   w: {\n//   },\n//   h: {\n//     zh_CN: '50px',\n//     en_US: '50px',\n//     zh_TW: '50px'\n//   },\n//   sk: 0,\n//   id: 'flexpanelap',\n//   text: {\n//     zh_CN: 'Flex面板',\n//     en_US: 'Flex面板',\n//     zh_TW: 'Flex面板'\n//   },\n//   type: 'flexpanel',\n//   items: [{\n//     showStyle: 0,\n//     w: {\n//       zh_CN: '50px',\n//       en_US: '50px',\n//       zh_TW: '50px'\n//     },\n//     h: {\n//       zh_CN: '50px',\n//       en_US: '50px',\n//       zh_TW: '50px'\n//     },\n//     id: 'imageap',\n//     dataIndex: 'picturefield',\n//     text: {\n//       zh_CN: '图片',\n//       en_US: '图片',\n//       zh_TW: '圖片'\n//     },\n//     type: 'picture',\n//     busyTip: {\n//       zh_CN: '正在加载...',\n//       en_US: '正在加载...',\n//       zh_TW: '正在加载...'\n//     }\n//   }, {\n//     items: [{\n//       h: {\n//         zh_CN: '25px',\n//         en_US: '25px',\n//         zh_TW: '25px'\n//       },\n//       id: 'flexpanelap2',\n//       gr: 1,\n//       text: {\n//         zh_CN: 'Flex面板',\n//         en_US: 'Flex面板',\n//         zh_TW: 'Flex面板'\n//       },\n//       wr: true,\n//       type: 'flexpanel',\n//       items: [{\n//         showStyle: 0,\n//         caption: {\n//           zh_CN: '标签',\n//           en_US: '标签',\n//           zh_TW: '標籤'\n//         },\n//         id: 'labelap',\n//         dataIndex: 'datefield',\n//         text: {\n//           zh_CN: '标签',\n//           en_US: '标签',\n//           zh_TW: '標籤'\n//         },\n//         type: 'label',\n//         busyTip: {\n//           zh_CN: '正在加载...',\n//           en_US: '正在加载...',\n//           zh_TW: '正在加载...'\n//         }\n//       }]\n//     }, {\n//       h: {\n//         zh_CN: '25px',\n//         en_US: '25px',\n//         zh_TW: '25px'\n//       },\n//       id: 'flexpanelap3',\n//       gr: 1,\n//       text: {\n//         zh_CN: 'Flex面板',\n//         en_US: 'Flex面板',\n//         zh_TW: 'Flex面板'\n//       },\n//       wr: true,\n//       type: 'flexpanel',\n//       items: [{\n//         showStyle: 0,\n//         caption: {\n//           zh_CN: '标签',\n//           en_US: '标签',\n//           zh_TW: '標籤'\n//         },\n//         id: 'labelap1',\n//         dataIndex: 'textfield',\n//         text: {\n//           zh_CN: '标签',\n//           en_US: '标签',\n//           zh_TW: '標籤'\n//         },\n//         type: 'label',\n//         busyTip: {\n//           zh_CN: '正在加载...',\n//           en_US: '正在加载...',\n//           zh_TW: '正在加载...'\n//         }\n//       }]\n//     }],\n//     ai: 'stretch',\n//     gr: 1,\n//     text: {\n//       zh_CN: 'Flex面板',\n//       en_US: 'Flex面板',\n//       zh_TW: 'Flex面板'\n//     },\n//     dr: 'column',\n//     as: 'stretch',\n//     jc: 'flex-start',\n//     type: 'flexpanel',\n//     id: 'flexpanelap1'\n//   }]\n// }]\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/CellRenderer/ContainerRenderer/ContainerRenderer.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/CellRenderer/ContainerRenderer/baseComponent.js":
/*!***********************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/CellRenderer/ContainerRenderer/baseComponent.js ***!
  \***********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = exports.Label = exports.Image = exports.FlexPanel = void 0;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _reactDom = _interopRequireDefault(__webpack_require__(/*! react-dom */ \"webpack/sharing/consume/default/react-dom/react-dom?418d\"));\nvar _classnames4 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _colDefinition = __webpack_require__(/*! ../../colDefinition */ \"./src/component/web/DataGrid/AgDataGrid/colDefinition/index.js\");\nvar _commonUtils = _interopRequireDefault(__webpack_require__(/*! ../../../../../common/commonUtils */ \"./src/component/common/commonUtils.js\"));\nvar _baseComponent_undefined = _interopRequireDefault(__webpack_require__(/*! ../../../../../web/img/default/baseComponent_undefined.png */ \"./src/component/web/img/default/baseComponent_undefined.png\"));\nvar _containerCell = _interopRequireDefault(__webpack_require__(/*! ./containerCell.less */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/ContainerRenderer/containerCell.less\"));\nvar _componentutil = __webpack_require__(/*! ../../../../../../util/componentutil */ \"./src/util/componentutil.js\");\nvar _serverproperties = __webpack_require__(/*! ../../../../../../constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _baseCom = __webpack_require__(/*! ../baseCom.js */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/baseCom.js\");\nvar _ = __webpack_require__(/*! .. */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/index.js\");\nvar _imageUtil = __webpack_require__(/*! @/util/imageUtil */ \"./src/util/imageUtil.js\");\nvar _PrivacyIcon = _interopRequireDefault(__webpack_require__(/*! @/component/web/DataGrid/TableHelper/render/PrivacyIcon */ \"./src/component/web/DataGrid/TableHelper/render/PrivacyIcon.js\"));\nvar _util = __webpack_require__(/*! ../util */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/util.js\");\nvar _GridStyles = _interopRequireDefault(__webpack_require__(/*! ./../../GridStyles.less */ \"./src/component/web/DataGrid/AgDataGrid/GridStyles.less\"));\nvar _CellClass = _interopRequireDefault(__webpack_require__(/*! ./../../CellClass.less */ \"./src/component/web/DataGrid/AgDataGrid/CellClass.less\"));\nvar _container$image$Ctrl;\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); } /**\n * 容器列的基本控件\n * by kechuang\n * 支持四种基本控件 label image fontIcon flexpanel\n */\n// label组件\nvar Label = exports.Label = /*#__PURE__*/function (_React$Component) {\n  _inherits(Label, _React$Component);\n  function Label() {\n    var _this;\n    _classCallCheck(this, Label);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _callSuper(this, Label, [].concat(args));\n    _this.handleToggleColumnPrivacyText = function (e) {\n      var _this$props = _this.props,\n        pid = _this$props.pid,\n        gridId = _this$props.gridId,\n        colId = _this$props.colDef.colId,\n        invokeControlMethodSingle = _this$props.invokeControlMethodSingle,\n        rk = _this$props.rk,\n        data = _this$props.data,\n        gridContrlParams = _this$props.gridContrlParams,\n        getGridMetaProperty = _this$props.getGridMetaProperty;\n      (0, _util.handleToggleColumnPrivacyText)(e, {\n        pid: pid,\n        gridId: gridId,\n        colId: colId,\n        invokeControlMethodSingle: invokeControlMethodSingle,\n        rk: rk,\n        data: data,\n        gridContrlParams: gridContrlParams,\n        getGridMetaProperty: getGridMetaProperty\n      });\n    };\n    return _this;\n  }\n  _createClass(Label, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n        id = _this$props2.id,\n        colDef = _this$props2.colDef,\n        data = _this$props2.data,\n        originHeaderName = _this$props2.originHeaderName,\n        colStyle = _this$props2.colStyle,\n        isHyperlink = _this$props2.isHyperlink,\n        classNames = _this$props2.classNames,\n        showTitle = _this$props2.showTitle,\n        pid = _this$props2.pid,\n        gridId = _this$props2.gridId,\n        colId = _this$props2.colId,\n        rk = _this$props2.rk;\n      var showPrivateIcon = colDef.cellRendererParams.showPrivateIcon;\n      var className = (0, _classnames4[\"default\"])(_defineProperty(_defineProperty({}, _containerCell[\"default\"].container_label, true), classNames, true));\n      var isShowHeader = showTitle !== false; // ShowTitle\n      // const dataIndex = meta ? meta.get('dataIndex') || id : ''\n      // const colMeta = getColMetaByField(dataIndex)\n      // const valueText = data && data[dataIndex]\n      // let header = colMeta && colMeta.header\n      // header = getLangResult && getLangResult(header)\n      // const colDef = getColumnDefByField(dataIndex)\n      // const colDefParams = getCellRenderProps(colDef, dataIndex, valueText, this.props)\n      // const value = getDisplayValueByProps(valueText, colDefParams, null, data)\n      var dataIndex = colDef ? colDef.field : id || '';\n      var header = originHeaderName || colDef.headerName;\n      var valueText = data && data[dataIndex];\n      var colRenderProps = getCellRenderProps(colDef, dataIndex, valueText, this.props);\n      var value = (0, _.getCellDisplayValueByRender)(colRenderProps, valueText, data);\n      var content = value;\n      if (_typeof(content) === 'object') {\n        console.warn('container field value type is object!');\n        content = '';\n      }\n      // const content = isHyperlink ? <HLinkRendererCore {...colRenderProps} value={value} /> : value\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        style: colStyle || {},\n        className: className\n      }, isShowHeader && header != null ? /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n        className: _CellClass[\"default\"]['text-omit']\n      }, header, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n        style: {\n          padding: '0 3px'\n        }\n      }, \":\"), \" \") : null, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n        className: _CellClass[\"default\"]['text-omit'],\n        title: content\n      }, content), showPrivateIcon ? /*#__PURE__*/_react[\"default\"].createElement(_PrivacyIcon[\"default\"], {\n        onToggleColumnPrivacyText: this.handleToggleColumnPrivacyText,\n        cellTipIconClass: (0, _classnames4[\"default\"])(_GridStyles[\"default\"]['cell-btn-hover-show'], _CellClass[\"default\"]['cell-btn-hover-show'], _CellClass[\"default\"]['alpha-render-icon']),\n        pageId: pid,\n        gridId: gridId,\n        colId: colId,\n        rowKeyVal: data[rk]\n      }) : null);\n    }\n  }]);\n  return Label;\n}(_react[\"default\"].Component); // image组件\nvar Image = exports.Image = /*#__PURE__*/function (_React$Component2) {\n  _inherits(Image, _React$Component2);\n  function Image() {\n    _classCallCheck(this, Image);\n    return _callSuper(this, Image, arguments);\n  }\n  _createClass(Image, [{\n    key: \"getUrl\",\n    value: function getUrl(imgKey) {\n      var config = this.props.config;\n      var fileserver = config.fileserver,\n        imageurl = config.imageurl,\n        pageId = config.pageId;\n      if (imgKey && fileserver) {\n        // if (/^data:?/.test(imgKey)) {\n        //     return imgKey;\n        // } else if (!/^http(s)?/.test(imgKey)) {\n        //     return fileServer + imgKey;\n        // } else {\n        //     return imgKey;\n        // }\n        // return getImgFullPath(fileServer, imgKey)\n        return (0, _imageUtil.getImageUrl)({\n          fileserver: fileserver,\n          imageurl: imageurl,\n          pageId: pageId,\n          appendFileServer: true\n        }, imgKey);\n      }\n      return imgKey;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props3 = this.props,\n        id = _this$props3.id,\n        colDef = _this$props3.colDef,\n        data = _this$props3.data,\n        colStyle = _this$props3.colStyle,\n        classNames = _this$props3.classNames; // getCommonClass(meta)\n      var showPrivateIcon = colDef.cellRendererParams.showPrivateIcon;\n      var className = (0, _classnames4[\"default\"])(_defineProperty(_defineProperty({}, _containerCell[\"default\"].container_image, true), classNames, true));\n      var dataIndex = colDef ? colDef.field : id || '';\n      // const colMeta = getColMetaByField(dataIndex)\n      var valueText = data && data[dataIndex];\n      // const header = colMeta && colMeta.header\n      var imgUrl = this.getUrl(valueText);\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", null, /*#__PURE__*/_react[\"default\"].createElement(\"img\", {\n        style: colStyle || {},\n        className: className,\n        src: imgUrl || _baseComponent_undefined[\"default\"]\n      }), showPrivateIcon ? /*#__PURE__*/_react[\"default\"].createElement(_PrivacyIcon[\"default\"], null) : null);\n    }\n  }]);\n  return Image;\n}(_react[\"default\"].Component); // vectorIcon组件\n// export class VectorIcon extends React.Component {\n//   constructor (props) {\n//     super(props)\n//     this.handleClick = this.handleClick.bind(this)\n//   }\n//   handleClick (e) {\n//     e.stopPropagation()\n//     const { id, invokeRowSelection, invokeControlMethodOnly, rk, node, data, column, pid, gridId } = this.props\n//     const rowKey = data[rk]\n//     const colId = column.colId\n//     invokeRowSelection(node)\n//     invokeControlMethodOnly({ pageId: pid, key: gridId }, 'click', [rowKey, colId, id])\n//   }\n//   componentDidMount () {\n//     this.dom.addEventListener('click', this.handleClick)\n//   }\n//   componentWillUnmount () {\n//     this.dom.removeEventListener('click', this.handleClick)\n//   }\n//   render () {\n//     const { id, meta, localeId, value } = this.props\n//     const style = {} || getCommonStyle(meta, localeId)\n//     const { Grow, Shrink, AlignSelf } = {} || getCommonClass(meta)\n//     const wrapClass = classnames({\n//       [containerClass.container_vector]: true\n//     }, mergeCommonClassNames({ Grow, Shrink, AlignSelf }))\n//     const metaFont = getMetaProperty(meta, 'fontClass')\n//     const dataFont = value[id] && value[id].fontClass\n//     const font = dataFont || metaFont\n//     const fontClass = classnames({\n//       'kd-hover-color': true,\n//       [font]: true\n//     })\n//     const fontStyle = style.fontSize ? { fontSize: style.fontSize } : {}\n//     return (\n//       <div className={wrapClass} style={style}>\n//         <span ref={ref => this.dom = ref} style={fontStyle} className={fontClass} />\n//       </div>\n//     )\n//   }\n// }\n// flexpanel 组件\nvar FlexPanel = exports.FlexPanel = /*#__PURE__*/function (_React$Component3) {\n  _inherits(FlexPanel, _React$Component3);\n  function FlexPanel() {\n    _classCallCheck(this, FlexPanel);\n    return _callSuper(this, FlexPanel, arguments);\n  }\n  _createClass(FlexPanel, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props4 = this.props,\n        colDef = _this$props4.colDef,\n        colStyle = _this$props4.colStyle,\n        classNames = _this$props4.classNames,\n        topContainerColProps = _this$props4.topContainerColProps;\n      var className = (0, _classnames4[\"default\"])(_defineProperty(_defineProperty({}, _containerCell[\"default\"].container_flexPanel, true), classNames, true));\n      var childMeta = colDef.subItems ? colDef.subItems : null;\n      var children = childMeta ? (0, _colDefinition.parseSubComponent)(childMeta, topContainerColProps) : /*#__PURE__*/_react[\"default\"].createElement(\"div\", null, \"ll\");\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: className,\n        style: colStyle\n      }, children);\n    }\n  }]);\n  return FlexPanel;\n}(_react[\"default\"].Component);\nfunction getCellRenderProps(colDef, field, value, containerColProps) {\n  var api = containerColProps.api,\n    columnApi = containerColProps.columnApi,\n    rowIndex = containerColProps.rowIndex,\n    data = containerColProps.data;\n  var renderProps = Object.assign({}, colDef.cellRendererParams, {\n    field: field,\n    api: api,\n    columnApi: columnApi,\n    colDef: colDef,\n    rowIndex: rowIndex,\n    data: data,\n    value: value,\n    node: {\n      data: data,\n      rowIndex: rowIndex\n    }\n  });\n  renderProps.column = {\n    colId: field,\n    colDef: colDef\n  };\n  return renderProps;\n}\nvar _default = exports[\"default\"] = (_container$image$Ctrl = {\n  container: FlexPanel,\n  image: Image\n}, _defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_container$image$Ctrl, _serverproperties.Ctrls.KDPic, Image), \"label\", Label), _serverproperties.Ctrls.KDBaseData, Label), _serverproperties.Ctrls.KDMulBaseData, Label), _serverproperties.Ctrls.KDOrg, Label), _serverproperties.Ctrls.KDUser, Label), _serverproperties.Ctrls.KDMulSelect, Label), _serverproperties.Ctrls.KDText, Label), _serverproperties.Ctrls.KDDate, Label), _serverproperties.Ctrls.KDDateRange, Label), _defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_container$image$Ctrl, _serverproperties.Ctrls.KDDateTime, Label), _serverproperties.Ctrls.KDTime, Label), _serverproperties.Ctrls.KDTimeRange, Label), _serverproperties.Ctrls.KDNumber, Label), _serverproperties.Ctrls.KDTextArea, Label), _serverproperties.Ctrls.KDLTextArea, Label), _serverproperties.Ctrls.KDFlexField, Label), _serverproperties.Ctrls.KDCity, Label), _serverproperties.Ctrls.KDMulLangText, Label), _serverproperties.Ctrls.KDPasswordBox, Label), _defineProperty(_container$image$Ctrl, \"other\", Label));\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/CellRenderer/ContainerRenderer/baseComponent.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/CellRenderer/CustomRender/CustomLightRender.js":
/*!**********************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/CellRenderer/CustomRender/CustomLightRender.js ***!
  \**********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-properties.js */ \"../../node_modules/core-js/modules/es.object.define-properties.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptors.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.CustomLightRender = void 0;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/web.timers.js */ \"../../node_modules/core-js/modules/web.timers.js\");\nvar _customComponentManage = __webpack_require__(/*! @/component/common/customComponentManage */ \"./src/component/common/customComponentManage.js\");\nvar _customCtrlUtil = __webpack_require__(/*! @/util/customCtrlUtil */ \"./src/util/customCtrlUtil.js\");\nvar _util = __webpack_require__(/*! ./util */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/CustomRender/util.js\");\nvar _customUtil = __webpack_require__(/*! ../../util/customUtil */ \"./src/component/web/DataGrid/AgDataGrid/util/customUtil.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); } /**\n * 原生自定义渲染器\n */ // import useThemeContext from '@/use/useThemeContext'\nvar CustomLightRender = exports.CustomLightRender = /*#__PURE__*/function () {\n  function CustomLightRender() {\n    var _this = this;\n    _classCallCheck(this, CustomLightRender);\n    /**\n     * 1.单元格销毁重建\n     * 2.通知自定义组件自己刷新\n     */\n    this.refresh = function (params) {\n      _this.params = params; // 重设params\n      var schemaInfo = params.schemaInfo;\n      var schemaId = schemaInfo.schemaId;\n      var customComponent = (0, _customComponentManage.getCustomComponent)(schemaId);\n      var isLoadedSchema = !!customComponent;\n      // 还未加载方案成功 但此次加载成功了 强刷一遍自定义控件\n      if (!_this.isLoadedSchema && isLoadedSchema) {\n        return false;\n      }\n      var cellRenderArgs = (0, _util.getCustomCellUpdateRenderArgs)(params);\n      _this.dispatchAsync(function () {\n        return _this.executeCustomCtrlEvent(cellRenderArgs);\n      });\n      return true; // 控件不刷新 给自定义组件自己刷新\n    };\n    /**\n     * 销毁\n     */\n    this.destroy = function () {\n      try {\n        _this.customComponentInstance && (0, _customCtrlUtil.executeCustomCtrlMethod)(_this.customComponentInstance, 'destoryed');\n      } catch (error) {\n        (0, _customUtil.printError)(error);\n      }\n      _this.eGui = null;\n    };\n    // [加载自定义组件方法]\n    this.executeCustomCtrlEvent = function (cellRenderArgs) {\n      try {\n        var props = cellRenderArgs.props,\n          cellLocked = cellRenderArgs.cellLocked;\n        var customProps = (0, _customUtil.getCellCustomProps)(props, cellLocked);\n        var _getCurrentTheme = (0, _customCtrlUtil.getCurrentTheme)(),\n          themeColor = _getCurrentTheme.themeColor,\n          themeNum = _getCurrentTheme.themeNum;\n        if (_this.isLoadedSchema && _this.initialized) {\n          // 已经加载过方案已初始化成功\n          (0, _customCtrlUtil.executeCustomCtrlMethod)(_this.customComponentInstance, 'update', _objectSpread(_objectSpread({}, customProps), {}, {\n            themeColor: themeColor,\n            themeNum: themeNum\n          }));\n          return;\n        }\n        _this.initialized = true;\n        // 通过isImmediateUpdate标识，判断update生命周期是否需要立即更新\n        var isImmediateUpdate = (0, _customCtrlUtil.executeCustomCtrlMethod)(_this.customComponentInstance, 'init', _objectSpread(_objectSpread({}, customProps), {}, {\n          themeColor: themeColor,\n          themeNum: themeNum\n        })) !== true;\n        isImmediateUpdate && (0, _customCtrlUtil.executeCustomCtrlMethod)(_this.customComponentInstance, 'update', _objectSpread(_objectSpread({}, customProps), {}, {\n          themeColor: themeColor,\n          themeNum: themeNum\n        }));\n      } catch (error) {\n        (0, _customUtil.printError)(error);\n      }\n    };\n    this.initCustomComponent = function (CustomComponent, params) {\n      if (_this.customComponentInstance) {\n        return; // 仅初始化一次\n      }\n      var customModleProps = (0, _customUtil.getCellCustomModleProps)(params);\n      var customModel = (0, _customComponentManage.createCustomModel)(_objectSpread({\n        dom: _this.eGui\n      }, customModleProps));\n      _this.customComponentInstance = new CustomComponent(customModel);\n    };\n    this.dispatchAsync = function (func) {\n      window.setTimeout(func, 0);\n    };\n  }\n  _createClass(CustomLightRender, [{\n    key: \"init\",\n    value: function init(params) {\n      this.params = params;\n      this.initialized = false; // 判断是[初始化]还是[更新]\n      this.eGui = document.createElement('div');\n      this.eGui.className = 'custom-light-render-wrap';\n      this.customComponentInstance = null;\n    }\n  }, {\n    key: \"getGui\",\n    value: function getGui() {\n      var _this2 = this;\n      var params = this.params;\n      var schemaInfo = params.schemaInfo;\n      var schemaId = schemaInfo.schemaId;\n      var customComponent = (0, _customComponentManage.getCustomComponent)(schemaId);\n      this.isLoadedSchema = !!customComponent;\n      if (!this.isLoadedSchema) {\n        return '';\n      } else {\n        this.initCustomComponent(customComponent, this.params); // 初始化自定义模型\n      }\n      var cellRenderArgs = (0, _util.getCustomCellUpdateRenderArgs)(params);\n\n      // todo:后面如果要加上行融合也可以再来修改。1.平台提供 2.将融合信息传给二开\n\n      if (this.params.node.rowPinned) {\n        // 浮动行\n        this.params.eGridCell.style.backgroundColor = '#FFF8E1';\n        this.params.eGridCell.style.border = 'none';\n        this.params.eGridCell.style.color = '#EB743F';\n      }\n      this.dispatchAsync(function () {\n        return _this2.executeCustomCtrlEvent(cellRenderArgs);\n      }); // 应该只会走一次这里\n      return this.eGui;\n    }\n  }]);\n  return CustomLightRender;\n}();\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/CellRenderer/CustomRender/CustomLightRender.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/CellRenderer/CustomRender/index.js":
/*!**********************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/CellRenderer/CustomRender/index.js ***!
  \**********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nObject.defineProperty(exports, \"CustomLightRender\", ({\n  enumerable: true,\n  get: function get() {\n    return _CustomLightRender.CustomLightRender;\n  }\n}));\nvar _CustomLightRender = __webpack_require__(/*! ./CustomLightRender */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/CustomRender/CustomLightRender.js\");\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/CellRenderer/CustomRender/index.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/CellRenderer/CustomRender/util.js":
/*!*********************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/CellRenderer/CustomRender/util.js ***!
  \*********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.getCustomCellUpdateRenderArgs = getCustomCellUpdateRenderArgs;\nvar _util = __webpack_require__(/*! ../util */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/util.js\");\n/**\n * 仅用来给自定义组件判断是否更新，所以除了锁定性这些都不需要传\n * @param {} props\n * @param {*} rStyle\n * @param {*} colStyle\n * @param {*} containerClass\n * @param {*} setCellTitle\n */\nfunction getCustomCellUpdateRenderArgs(props, styleParams, cbParams) {\n  var _ref = styleParams || {},\n    _ref$rStyle = _ref.rStyle,\n    rStyle = _ref$rStyle === void 0 ? {} : _ref$rStyle,\n    _ref$colStyle = _ref.colStyle,\n    colStyle = _ref$colStyle === void 0 ? {} : _ref$colStyle,\n    _ref$containerClass = _ref.containerClass,\n    containerClass = _ref$containerClass === void 0 ? '' : _ref$containerClass;\n  var _ref2 = cbParams || {},\n    setCellTitle = _ref2.setCellTitle;\n  var colId = props.colDef.field; // props.column.colId;用colDef性能稍好\n  var rowData = props.node.data;\n  var colDefEditable = props.colDef.editable; // 定义为不可编辑、锁定，或仅按钮编辑时，editable为false.\n  var dynamicColLocked = (0, _util.getDynamicColLocked)(props, rowData, colId);\n  var runtimeEditable = (0, _util.getRunTimeEditable)(dynamicColLocked, colDefEditable);\n  return (0, _util.getCellRenderArgs)(props, {\n    runtimeEditable: runtimeEditable,\n    dynamicColLocked: dynamicColLocked\n  }, {\n    rStyle: rStyle,\n    colStyle: colStyle,\n    containerClass: containerClass\n  }, {\n    setCellTitle: setCellTitle\n  });\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/CellRenderer/CustomRender/util.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/CellRenderer/FlexfieldRenderer.js":
/*!*********************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/CellRenderer/FlexfieldRenderer.js ***!
  \*********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = exports.FlexRenderer = void 0;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.join.js */ \"../../node_modules/core-js/modules/es.array.join.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\nvar _AlphaFactory = _interopRequireDefault(__webpack_require__(/*! ./AlphaFactory.js */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/AlphaFactory.js\"));\nvar _serverproperties = __webpack_require__(/*! ../../../../../constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _componentutil = __webpack_require__(/*! @/util/componentutil */ \"./src/util/componentutil.js\");\nvar _memoryCacher = __webpack_require__(/*! @/model/memoryCacher */ \"./src/model/memoryCacher.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n// 显示不需处理，直接显示值的情况用此渲染器\nvar FlexRenderer = exports.FlexRenderer = /*#__PURE__*/function () {\n  function FlexRenderer() {\n    _classCallCheck(this, FlexRenderer);\n    this.isEmpty = false;\n    this.getRendererDisplayValue = function (args) {\n      var props = args.props;\n      var value = props.value,\n        isuf = props.isuf,\n        type = props.type;\n      var _getDisplayValue = getDisplayValue(isuf, type);\n      props.setGridDisplayFun && props.setGridDisplayFun(props.colDef.field, _getDisplayValue);\n\n      // props.eGridCell.setAttribute('title', value)\n      return _getDisplayValue(value);\n    };\n  }\n  _createClass(FlexRenderer, [{\n    key: \"getRenderer\",\n    value: function getRenderer(args) {\n      var props = args.props;\n      var value = props.value;\n      if (props.node.rowPinned && props.gridContrlParams.isListView) {\n        // 列表合并字段原样显示\n        if (value == null || value === '') return this._setIsEmpty();\n        return value;\n      }\n      var displayValue = this.getRendererDisplayValue(args);\n      if (!displayValue) {\n        this._setIsEmpty();\n      }\n      return displayValue;\n    }\n  }, {\n    key: \"resetIsEmpty\",\n    value: function resetIsEmpty() {\n      this.isEmpty = false;\n    }\n  }, {\n    key: \"_setIsEmpty\",\n    value: function _setIsEmpty() {\n      this.isEmpty = true;\n      return '';\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate(args) {\n      var _args$props = args.props,\n        colId = _args$props.column.colId,\n        node = _args$props.node,\n        pid = _args$props.pid,\n        gridId = _args$props.gridId,\n        rk = _args$props.rk,\n        eGridCell = _args$props.eGridCell;\n      var sourceCtrl = gridId + '_' + colId + '_' + node.data[rk];\n      var setLocation = function setLocation(data) {\n        var flexDOM = data.flexDOM;\n        var location = {};\n        if (flexDOM) {\n          location = (0, _componentutil.placeFloatPanel)(flexDOM, eGridCell, 'bottom', {\n            top: 2,\n            bottom: 2\n          });\n        } else {\n          var position = eGridCell.getBoundingClientRect();\n          location = {\n            top: position.top,\n            left: position.left\n          };\n        }\n        (0, _memoryCacher.setPageData)(pid, [sourceCtrl, 'setFlexibleLocation'], location);\n      };\n      (0, _memoryCacher.setPageData)(pid, [sourceCtrl, 'isFlexfieldAlive'], true);\n      args.removeGetFlexibleLocationListener = (0, _memoryCacher.addDataChangeListener)(pid, [sourceCtrl, 'getFlexibleLocation'], setLocation);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy(args) {\n      args.removeGetFlexibleLocationListener && args.removeGetFlexibleLocationListener();\n      var _args$props2 = args.props,\n        pid = _args$props2.pid,\n        colId = _args$props2.column.colId,\n        gridId = _args$props2.gridId,\n        rk = _args$props2.rk,\n        node = _args$props2.node;\n      var sourceCtrl = gridId + '_' + colId + '_' + node.data[rk];\n      (0, _memoryCacher.setPageData)(pid, [sourceCtrl, 'isFlexfieldAlive'], false);\n    }\n  }]);\n  return FlexRenderer;\n}();\nvar getDisplayValue = function getDisplayValue(isuf, type) {\n  return function (val) {\n    var value = val;\n    if (isuf === true) {\n      return value == null || value === '' ? '' : value;\n    }\n    if (type === _serverproperties.Ctrls.KDFlexField) {\n      // 值为：[{k:'01',v:[],alias:'aaa'},{k:'02',v:\"\",alias:'bbb'}]\n      // let newFlexData = '';\n      var flexDataArr = [];\n      if (Array.isArray(value) && value.length > 0) {\n        for (var i = 0; i < value.length; i++) {\n          var vv = value[i];\n          if (vv.alias != null && vv.alias !== '') {\n            flexDataArr.push(vv.alias);\n          }\n          // if (vv.alias != null && vv.alias!=\"\") newFlexData += vv.alias;\n          // if (i < value.length - 1) newFlexData += \"; \";\n        }\n      }\n      value = flexDataArr.join('; ');\n    }\n    if (value == null || value === '') value = '';\n    value = value.toString(); // 如果是对象在此处会导致界面渲染异常\n    // props.eGridCell.setAttribute('title', value)// 重设title\n    return value;\n  };\n};\nvar FlexfieldRenderer = exports[\"default\"] = (0, _AlphaFactory[\"default\"])(new FlexRenderer());\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/CellRenderer/FlexfieldRenderer.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/CellRenderer/HlinkRenderer.js":
/*!*****************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/CellRenderer/HlinkRenderer.js ***!
  \*****************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.hyperLinkRenderer = exports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _reactDom = _interopRequireDefault(__webpack_require__(/*! react-dom */ \"webpack/sharing/consume/default/react-dom/react-dom?418d\"));\nvar _baseCom = __webpack_require__(/*! ./baseCom.js */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/baseCom.js\");\nvar _AlphaFactory = _interopRequireDefault(__webpack_require__(/*! ./AlphaFactory.js */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/AlphaFactory.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); } // import BasicCellRenderer from './BasicCellRenderer';\nvar HyperLinkRenderer = exports.hyperLinkRenderer = /*#__PURE__*/function () {\n  function HyperLinkRenderer() {\n    _classCallCheck(this, HyperLinkRenderer);\n    this.isEmpty = false;\n  }\n  _createClass(HyperLinkRenderer, [{\n    key: \"getRenderer\",\n    value: function getRenderer(args) {\n      var props = args.props;\n      var _colEditable = props.colDef.editable; // this.columns\n      var _locked = props.node.data === undefined ? true : props.isCellLocked(props.pid, props.gridId, props.node.data[props.rk], props.column.colId, props.isPrivacy, props.realEditable);\n      if (_locked == undefined || !_colEditable) {\n        _locked = !_colEditable;\n      }\n      var isList = props.gridContrlParams.isListView;\n      if (props.hlinkPerfix && props.hlinkPerfix !== '' && props.hlinkPerfix === props.value) {\n        this._setIsEmpty();\n      }\n      if (isList && !props.node.rowPinned) {\n        return /*#__PURE__*/_react[\"default\"].createElement(\"div\", null, /*#__PURE__*/_react[\"default\"].createElement(_baseCom.HLinkRendererCore, _extends({\n          className: \"\".concat(props.styles['hLink'], \" link-color\")\n        }, props, {\n          value: props.value\n        })));\n      } else {\n        return props.value || this._setIsEmpty();\n      }\n    }\n  }, {\n    key: \"resetIsEmpty\",\n    value: function resetIsEmpty() {\n      this.isEmpty = false;\n    }\n  }, {\n    key: \"_setIsEmpty\",\n    value: function _setIsEmpty() {\n      this.isEmpty = true;\n      return '';\n    }\n  }]);\n  return HyperLinkRenderer;\n}();\nvar HlinkRenderer = exports[\"default\"] = (0, _AlphaFactory[\"default\"])(new HyperLinkRenderer());\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/CellRenderer/HlinkRenderer.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/CellRenderer/ImageRenderer.js":
/*!*****************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/CellRenderer/ImageRenderer.js ***!
  \*****************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.imgRenderer = exports[\"default\"] = exports.ClearBtn = void 0;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.join.js */ \"../../node_modules/core-js/modules/es.array.join.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.number.to-fixed.js */ \"../../node_modules/core-js/modules/es.number.to-fixed.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.parse-float.js */ \"../../node_modules/core-js/modules/es.parse-float.js\");\n__webpack_require__(/*! core-js/modules/es.promise.js */ \"../../node_modules/core-js/modules/es.promise.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.string.trim.js */ \"../../node_modules/core-js/modules/es.string.trim.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.url.js */ \"../../node_modules/core-js/modules/web.url.js\");\n__webpack_require__(/*! core-js/modules/web.url-search-params.js */ \"../../node_modules/core-js/modules/web.url-search-params.js\");\nvar _defaultImg = _interopRequireDefault(__webpack_require__(/*! ../../../img/default/defaultImg.png */ \"./src/component/web/img/default/defaultImg.png\"));\nvar _AlphaFactory = _interopRequireDefault(__webpack_require__(/*! ./AlphaFactory.js */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/AlphaFactory.js\"));\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _CellClass = _interopRequireDefault(__webpack_require__(/*! ../CellClass.less */ \"./src/component/web/DataGrid/AgDataGrid/CellClass.less\"));\nvar _classnames4 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _baseCom = __webpack_require__(/*! ./baseCom */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/baseCom.js\");\nvar _componentutil = __webpack_require__(/*! ../../../../../util/componentutil */ \"./src/util/componentutil.js\");\nvar _imageUtil = __webpack_require__(/*! ../../../../../util/imageUtil */ \"./src/util/imageUtil.js\");\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nvar _rcUpload = _interopRequireDefault(__webpack_require__(/*! rc-upload */ \"../../node_modules/rc-upload/es/index.js\"));\nvar _getWebRootPath = _interopRequireDefault(__webpack_require__(/*! @/api/getWebRootPath */ \"./src/api/getWebRootPath.js\"));\nvar _const = __webpack_require__(/*! @/constant/const */ \"./src/constant/const.js\");\nvar _appModelFunction = __webpack_require__(/*! @/model/appModelFunction */ \"./src/model/appModelFunction.js\");\nvar _imageUtil2 = __webpack_require__(/*! @/util/imageUtil */ \"./src/util/imageUtil.js\");\nvar _toolUtils = __webpack_require__(/*! @/util/toolUtils */ \"./src/util/toolUtils.js\");\nvar _Cropper = _interopRequireDefault(__webpack_require__(/*! ../../../base/Cropper/Cropper */ \"./src/component/web/base/Cropper/Cropper.jsx\"));\nvar _imagelistaction = __webpack_require__(/*! @/action/imagelistaction */ \"./src/action/imagelistaction.js\");\nvar _requestParamsUtil = __webpack_require__(/*! @/util/requestParamsUtil */ \"./src/util/requestParamsUtil.js\");\nvar _urlconst = __webpack_require__(/*! ../../../../../constant/urlconst */ \"./src/constant/urlconst.js\");\nvar _componentutil2 = __webpack_require__(/*! @/util/componentutil */ \"./src/util/componentutil.js\");\nvar _kdesign = __webpack_require__(/*! @kdcloudjs/kdesign */ \"webpack/sharing/consume/default/@kdcloudjs/kdesign/@kdcloudjs/kdesign\");\nvar _symbolConst = __webpack_require__(/*! @/constant/symbolConst */ \"./src/constant/symbolConst.js\");\nvar _GlobalDataCacher = __webpack_require__(/*! @/model/GlobalDataCacher */ \"./src/model/GlobalDataCacher.js\");\nvar _gridConst = __webpack_require__(/*! @/constant/gridConst */ \"./src/constant/gridConst.js\");\nvar _serverproperties = __webpack_require__(/*! @/constant/serverproperties */ \"./src/constant/serverproperties.js\");\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar ClearBtn = exports.ClearBtn = /*#__PURE__*/function (_React$Component) {\n  _inherits(ClearBtn, _React$Component);\n  function ClearBtn() {\n    var _this;\n    _classCallCheck(this, ClearBtn);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _callSuper(this, ClearBtn, [].concat(args));\n    _this.imgClear = function (e) {\n      e.stopPropagation();\n      var props = _this.props;\n      var model = {\n        pageId: props.pid,\n        key: props.gridId,\n        fireUpdEvt: props.fireUpdEvt,\n        dataDesc: props.dataDesc\n      };\n      var value = [{\n        k: props.column.colId,\n        r: props.data[props.rk],\n        v: ''\n      }];\n      props.api.setFocusedCell(props.node.childIndex, props.column.colId, null);\n      var selectedNodes = props.api.getSelectedNodes();\n      if (selectedNodes.length != 1 || selectedNodes[0].childIndex != props.node.childIndex) {\n        props.node.setSelected(true, true);\n      }\n      props.onCellChange(model, value);\n    };\n    return _this;\n  }\n  _createClass(ClearBtn, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        ref: function ref(r) {\n          _this2.r = r;\n        }\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"svg\", {\n        viewBox: \"0 0 40 40\",\n        className: this.props.styles.imgClear,\n        width: \"8px\",\n        height: \"8px\"\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"path\", {\n        d: \"M0 0L40 40M0 40L40 0\",\n        stroke: \"#000\",\n        fill: \"none\",\n        style: {\n          strokeWidth: '2px'\n        }\n      })));\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.r.addEventListener('click', this.imgClear, true);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.r.removeEventListener('click', this.imgClear, true);\n    }\n  }]);\n  return ClearBtn;\n}(_react[\"default\"].Component);\nvar ImgRenderer = exports.imgRenderer = /*#__PURE__*/function () {\n  function ImgRenderer() {\n    _classCallCheck(this, ImgRenderer);\n    this.isEmpty = false;\n  }\n  _createClass(ImgRenderer, [{\n    key: \"getRenderer\",\n    value: function getRenderer(args) {\n      var props = args.props,\n        editable = args.editable,\n        cellLocked = args.cellLocked;\n      // 获取fileserver配置\n      var _fileServer = props.config.fileserver;\n      var gridEditable = props.gridContrlParams.gridEditable; // 表格不可编辑时，没有图片的字段不显示为默认图片\n      var colDefEditable = props.colDef.editable;\n      var lockPreview = props.editor[_serverproperties.LOCK_PREVIEW];\n      var ImageKey = props.value;\n      if (Array.isArray(ImageKey)) {\n        // React.Children.toArray()\n      } else {\n        ImageKey = [ImageKey];\n      }\n      // margin: 'auto auto',\n      // let maxWidth = props.colDef.width ? props.colDef.width - 20 : ''\n      // maxWidth = maxWidth >= 30 ? maxWidth : 30// 不能小于30，不能大于列宽-20（padding）\n      // const rowHeight = props.node && (props.node.rowHeight - 10) // 默认设置图片宽高为行高-10\n      var rowHeight = props.node && props.node.rowHeight - (props.node.rowHeight > 24 ? 8 : 4); // 默认设置图片宽高为行高-8/4\n      var iStyle = Object.assign({}, props.colStyle, props.cellStyle, {\n        width: rowHeight,\n        height: rowHeight\n      });\n      var imgRender = [];\n      var isrc = '';\n      var hasNotDefaultImg = false;\n      var uploadSuccessStatus = false;\n      var _props$config = props.config,\n        fileserver = _props$config.fileserver,\n        imageurl = _props$config.imageurl,\n        pageId = _props$config.pageId;\n      ImageKey.forEach(function (img, index) {\n        if (img && String.prototype.trim.call(img)) {\n          /// /oracle数据库默认值的‘ ’，兼容\n          // isrc = getImgFullPath(_fileServer, img, true)\n          isrc = (0, _imageUtil.getImageUrl)({\n            fileserver: fileserver,\n            imageurl: imageurl,\n            pageId: pageId,\n            appendFileServer: true\n          }, img);\n          var defaultpic = props.editor.defaultpic;\n          if (defaultpic) {\n            isrc = (0, _imageUtil.scaleImage)(isrc, defaultpic);\n          }\n          hasNotDefaultImg = true;\n          uploadSuccessStatus = true;\n          // 点击头像需要发送行点击事件\n          imgRender.push( /*#__PURE__*/_react[\"default\"].createElement(_baseCom.Image, {\n            args: props,\n            img: img,\n            style: iStyle,\n            src: isrc,\n            previewSrc: defaultpic ? (0, _imageUtil.getOriginImageUrl)(isrc, defaultpic) : isrc,\n            showPreviewProp: !lockPreview\n          }));\n        } else if (props.editor.dik) {\n          isrc = (0, _imageUtil.getImageUrl)({\n            fileserver: fileserver,\n            imageurl: imageurl,\n            pageId: pageId\n          }, props.editor.dik);\n          imgRender.push( /*#__PURE__*/_react[\"default\"].createElement(_baseCom.Image, {\n            args: props,\n            img: img,\n            style: iStyle,\n            src: isrc,\n            showPreviewProp: !lockPreview\n          }));\n        } else if (props.editor.bgik) {\n          // 背景图片 允许上传时显示，不允许上传时不显示\n          isrc = props.editor.canUpload && !cellLocked ? (0, _imageUtil.getImageUrl)({\n            fileserver: fileserver,\n            imageurl: imageurl,\n            pageId: pageId\n          }, props.editor.bgik) : _defaultImg[\"default\"];\n          imgRender.push( /*#__PURE__*/_react[\"default\"].createElement(_baseCom.Image, {\n            args: props,\n            img: img,\n            style: iStyle,\n            src: isrc\n          }));\n        } else {\n          isrc = _defaultImg[\"default\"];\n          // if (gridEditable && colDefEditable) {\n          if (gridEditable && !props.editor.canUpload && !cellLocked) {\n            imgRender.push( /*#__PURE__*/_react[\"default\"].createElement(_baseCom.Image, {\n              args: props,\n              img: img,\n              style: iStyle,\n              src: isrc\n            }));\n          }\n        }\n      });\n      var className = (0, _classnames4[\"default\"])(_defineProperty(_defineProperty({}, _CellClass[\"default\"].imgRender, true), args.containerClass, true));\n      var viewImg = props.s && props.s === 'view';\n      if (editable) iStyle.cursor = 'pointer';\n      var rendImg = ImageKey.length <= 1 ? _react[\"default\"].Children.toArray(imgRender) : /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: props.styles.imgs,\n        style: {\n          height: props.gridOptions.rowHeight\n        }\n      }, _react[\"default\"].Children.toArray(imgRender), \" \");\n      if (imgRender.length === 0) {\n        this._setIsEmpty();\n      }\n      return (\n        /*#__PURE__*/\n        // style={args.containerStyle}\n        _react[\"default\"].createElement(\"div\", {\n          className: className\n        }, /*#__PURE__*/_react[\"default\"].createElement(Img, _extends({}, props, {\n          iStyle: iStyle,\n          isrc: isrc,\n          uploadSuccessStatus: uploadSuccessStatus,\n          rendImg: rendImg,\n          cellLocked: cellLocked\n        })), !props.editor.canUpload && !cellLocked && !viewImg && hasNotDefaultImg ? /*#__PURE__*/_react[\"default\"].createElement(ClearBtn, props) : null)\n      );\n    }\n  }, {\n    key: \"resetIsEmpty\",\n    value: function resetIsEmpty() {\n      this.isEmpty = false;\n    }\n  }, {\n    key: \"_setIsEmpty\",\n    value: function _setIsEmpty() {\n      this.isEmpty = true;\n      return '';\n    }\n  }]);\n  return ImgRenderer;\n}();\nfunction Img(props) {\n  var editor = props.editor,\n    config = props.config,\n    fireUpdEvt = props.fireUpdEvt,\n    dataDesc = props.dataDesc,\n    iStyle = props.iStyle,\n    isrc = props.isrc,\n    rendImg = props.rendImg,\n    uploadSuccessStatus = props.uploadSuccessStatus,\n    dispatch = props.dispatch,\n    colDef = props.colDef,\n    rk = props.rk,\n    node = props.node,\n    cellLocked = props.cellLocked;\n  var appId = config.appId,\n    formId = config.formId,\n    pageId = config.pageId,\n    fileserver = config.fileserver,\n    imageurl = config.imageurl;\n  var encryptStorage = editor.encryptStorage,\n    allowcropper = editor.allowcropper,\n    mi = editor.mi,\n    maximgsize = editor.maximgsize,\n    canUpload = editor.canUpload; // encryptStorage加密， mi必录\n  var lockPreview = editor[_serverproperties.LOCK_PREVIEW];\n  var model = {\n    pageId: pageId,\n    key: colDef.field,\n    fireUpdEvt: fireUpdEvt,\n    dataDesc: dataDesc\n  };\n  var _useState = (0, _react.useState)(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    file = _useState2[0],\n    setFile = _useState2[1];\n  var _useState3 = (0, _react.useState)(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    url = _useState4[0],\n    setUrl = _useState4[1];\n  var _useState5 = (0, _react.useState)(_const.IMAGE_STATUS.INIT),\n    _useState6 = _slicedToArray(_useState5, 2),\n    status = _useState6[0],\n    setStatus = _useState6[1];\n  var _useState7 = (0, _react.useState)(0),\n    _useState8 = _slicedToArray(_useState7, 2),\n    progress = _useState8[0],\n    setProgress = _useState8[1];\n  var _useState9 = (0, _react.useState)(false),\n    _useState10 = _slicedToArray(_useState9, 2),\n    showAllowCropper = _useState10[0],\n    setShowAllowCropper = _useState10[1];\n  var inner = (0, _react.useRef)(null);\n  var lPDomRef = (0, _react.useRef)(null);\n  var imgWrapRef = (0, _react.useRef)(null);\n  var _useState11 = (0, _react.useState)(false),\n    _useState12 = _slicedToArray(_useState11, 2),\n    showDragMask = _useState12[0],\n    setShowDragMask = _useState12[1];\n  uploadSuccessStatus && status === _const.IMAGE_STATUS.INIT && setStatus(_const.IMAGE_STATUS.SUCCESS);\n  (0, _react.useEffect)(function () {\n    var canPreview = lockPreview && (props.value || props.editor.dik); // 锁定预览开启&&（有图片或者有默认图片）情况下，能点击预览\n    canPreview && lPDomRef.current && lPDomRef.current.addEventListener('click', handlePreview, true);\n    return function () {\n      canPreview && lPDomRef.current && lPDomRef.current.removeEventListener('click', handlePreview, true);\n    };\n  }, []);\n  var handleUpload = function handleUpload(e) {\n    e.stopPropagation();\n    e.preventDefault();\n    var uploadComponent = inner.current.uploader;\n    if (e.type && e.type !== 'click') {\n      return uploadComponent.onFileDrop(e);\n    }\n    var inputEl = uploadComponent.fileInput;\n    inputEl.click();\n    // 记录最后一次编辑的单元格\n    props.setGridThisProp(_gridConst.LAST_EDIT_CELL, {\n      rowIndex: node.rowIndex,\n      rowKey: node.data[rk],\n      colId: colDef.field\n    });\n  };\n\n  // 检查上传的文件大小、后缀名是否符合要求\n  var canUploadFile = function canUploadFile(file) {\n    var extension = (file.name || '').split('.').pop();\n    var maxSize = (0, _imageUtil.getMaxSize)((maximgsize || 0) * 1024 * 1024);\n    if (extension && _const.ALLOWED_IMAGES.extensions.includes(\".\".concat(extension.toLowerCase())) && (maxSize === 0 || file.size < maxSize)) {\n      return true;\n    }\n    var msgContent = maxSize > 0 && file.size > maxSize ? (0, _intlApi.getLangMsg)({\n      key: 'image.key0016',\n      variables: {\n        name: file.name,\n        size: parseFloat(maxSize / 1024 / 1024).toFixed(2)\n      }\n    }) : (0, _intlApi.getLangMsg)({\n      key: 'image.key0015',\n      variables: {\n        types: _const.ALLOWED_IMAGES.extensions.join(',')\n      }\n    });\n    (0, _appModelFunction.setDataMessages)(pageId, {\n      content: msgContent,\n      type: 1\n    });\n    setStatus(_const.IMAGE_STATUS.FAILURE);\n    return false;\n  };\n  var transFileToUrl = function transFileToUrl(file) {\n    var objectURL = URL.createObjectURL(file);\n    setUrl(objectURL);\n    setFile(file);\n    setShowAllowCropper(true);\n  };\n  var updateValue = function updateValue(url) {\n    var data = props.data;\n    var rk = props.rk;\n    var model = {\n      pageId: pageId,\n      key: props.gridId,\n      fireUpdEvt: fireUpdEvt,\n      dataDesc: dataDesc\n    };\n    props.onCellChange(model, [{\n      k: props.colDef.field,\n      r: data && data[rk],\n      v: url\n    }]);\n  };\n  var handleImageUrl = function handleImageUrl(response) {\n    var _response$data;\n    var responseUrl = response.url;\n    var appendedUrl = responseUrl;\n    // 全路径，此处暂时未用到\n    appendedUrl = ((_response$data = response.data) === null || _response$data === void 0 || (_response$data = _response$data[0]) === null || _response$data === void 0 ? void 0 : _response$data.url) || (0, _imageUtil.getImageUrl)({\n      imageurl: imageurl,\n      pageId: pageId,\n      fileserver: fileserver,\n      appendFileServer: true,\n      isUpload: true\n    }, appendedUrl);\n    // 保存处理后文件的相对路径\n    updateValue(responseUrl);\n    return appendedUrl;\n  };\n  var beforeUploadPicture = function beforeUploadPicture(file) {\n    if (!canUploadFile(file)) return false;\n    if (allowcropper) {\n      transFileToUrl(file);\n    }\n    // 图片无效或者无法找到时，触发回调\n    var errorCallback = function errorCallback(event) {\n      (0, _appModelFunction.setDataMessages)(pageId, {\n        content: (0, _intlApi.getLangMsg)({\n          key: 'image.key0014'\n        }),\n        type: 1\n      });\n      setStatus(_const.IMAGE_STATUS.FAILURE);\n      setProgress(0);\n    };\n    // 避免 correctImageDirection 第二个参数为 undefined //处理图片获取promise结果\n    return !allowcropper && (0, _imageUtil2.correctImageDirection)(file, false, errorCallback);\n  };\n  var onStart = function onStart(file) {\n    removeImg();\n    var args = [[{\n      uid: file.uid,\n      name: file.name,\n      size: file.size,\n      type: file.type\n    }]];\n    dispatch((0, _imagelistaction.beforeUpload)(model, args));\n    setStatus(_const.IMAGE_STATUS.UPLOAD);\n    setFile(file);\n  };\n  var onProgress = function onProgress(e, file) {\n    setProgress(e.percent);\n  };\n  var onSuccess = function onSuccess(res, file) {\n    if (res && res.status === 'success') {\n      // 获取图片请求地址\n      handleImageUrl(res);\n      var args = [[{\n        uid: file.uid,\n        status: 'success'\n      }]];\n      // 上报图片上传结果\n      dispatch((0, _imagelistaction.reportUploadResult)(model, args));\n    } else {\n      var _args = [[{\n        uid: file.uid,\n        description: res.description,\n        status: 'error'\n      }]];\n      dispatch((0, _imagelistaction.reportUploadResult)(model, _args));\n      showErr(res.description);\n    }\n  };\n  var showErr = function showErr() {\n    var msg = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    (0, _appModelFunction.setDataMessages)(pageId, {\n      content: msg,\n      type: 1\n    });\n    setStatus(_const.IMAGE_STATUS.FAILURE);\n    setProgress(0);\n    setShowAllowCropper(false);\n    console.log(\"\\u4E0A\\u4F20\\u56FE\\u7247\\u5931\\u8D25\\uFF1A\".concat(msg));\n  };\n  var onError = function onError(err, res, file) {\n    var errMessage = typeof err === 'string' ? err : err.message ? err.message\n    // : JSON.stringify(err) 当网络离线时，报错显示有循环引用，故先注释\n    : '';\n    setStatus(_const.IMAGE_STATUS.FAILURE);\n    setProgress(0);\n    var args = [[{\n      uid: file.uid,\n      description: errMessage,\n      status: 'error'\n    }]];\n    // 上报图片上传结果\n    dispatch((0, _imagelistaction.reportUploadResult)(model, args));\n    console.error(err);\n  };\n  var handleDelete = function handleDelete(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    if (status === _const.IMAGE_STATUS.FAILURE) {\n      setStatus(_const.IMAGE_STATUS.INIT);\n      return;\n    }\n    removeImg();\n    updateValue('');\n  };\n  var removeImg = function removeImg() {\n    if (url) {\n      var params = {\n        url: url\n      };\n      var thumbparam = props.editor.thumbparam;\n      if (thumbparam) {\n        params.thumbparam = thumbparam;\n      }\n      dispatch((0, _imagelistaction.removeImage)(model, params));\n    }\n  };\n\n  // 有加密和缩略属性时，返回新的url 缩略属性暂时不加\n  var getUploadUrl = function getUploadUrl() {\n    if (!editor) return _urlconst.IMAGE_SERVER_URL;\n    var queryString = '';\n    // 加密存储\n    if (encryptStorage) {\n      queryString = !queryString ? '?encryptStorage=true' : \"\".concat(queryString, \"&encryptStorage=true\");\n    }\n    var uploadUrl = _urlconst.IMAGE_SERVER_URL + queryString;\n    return uploadUrl;\n  };\n  var onCropperSuccess = function onCropperSuccess(res) {\n    if (res && res.status === 'success') {\n      handleImageUrl(res);\n      return;\n    }\n    var errMsg = !res ? (0, _intlApi.getLangMsg)({\n      key: 'image.key0001'\n    }) : res.description;\n    showErr(errMsg);\n  };\n  var onClose = function onClose() {\n    setShowAllowCropper(false);\n  };\n  var handlePreview = function handlePreview(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    var urls = (0, _imageUtil.getImageUrl)({\n      imageurl: imageurl,\n      pageId: pageId,\n      fileserver: fileserver,\n      appendFileServer: true,\n      isUpload: true\n    }, props.value) || isrc;\n    var data = {\n      urls: urls,\n      activeIndex: 0\n    };\n    // 图片字段的预览由后端指令执行改为前端preview\n    (0, _GlobalDataCacher.setData)(_symbolConst.KEY_PREVIEW, [true, data]);\n  };\n  var canDragImg = function canDragImg() {\n    return [_const.IMAGE_STATUS.INIT, _const.IMAGE_STATUS.FAILURE, _const.IMAGE_STATUS.SUCCESS].indexOf(status) > -1;\n  };\n  var handleDragOver = function handleDragOver(evt) {\n    if (!canDragImg()) return;\n    evt.preventDefault();\n    setShowDragMask(true);\n  };\n  var handleDragLeave = function handleDragLeave(evt) {\n    var _imgWrapRef$current;\n    if (!canDragImg() || (_imgWrapRef$current = imgWrapRef.current) !== null && _imgWrapRef$current !== void 0 && _imgWrapRef$current.contains(evt.relatedTarget)) return;\n    setShowDragMask(false);\n  };\n  var handleDrop = function handleDrop(evt) {\n    var _evt$dataTransfer;\n    if (!canDragImg()) return;\n    evt.preventDefault();\n    setShowDragMask(false);\n    // 检查上传的文件大小、后缀名是否符合要求\n    var fileList = ((_evt$dataTransfer = evt.dataTransfer) === null || _evt$dataTransfer === void 0 ? void 0 : _evt$dataTransfer.files) || [];\n    var file = fileList.length > 0 && fileList[0];\n    if (!file || !canUploadFile(file)) return;\n    handleUpload(evt);\n  };\n  var renderByStatus = function renderByStatus(file) {\n    var initClassName = (0, _classnames4[\"default\"])({\n      'weak-1px-border-dashed': !editor.bgik,\n      'img-hover-color': !editor.bgik\n    }, 'contain-bg', 'third-text-in-light', 'active-theme-fc', _CellClass[\"default\"]['picture-upload-init']);\n    var circleStyle = {};\n    return _defineProperty(_defineProperty(_defineProperty(_defineProperty({}, _const.IMAGE_STATUS.INIT, showDragMask ? null : /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: (0, _classnames4[\"default\"])(initClassName, _CellClass[\"default\"]['picture-upload'], 'cell-picture-upload'),\n      title: (0, _intlApi.getLangMsg)({\n        key: 'image.key0021'\n      }),\n      style: iStyle,\n      onClick: handleUpload\n    }, editor.bgik ? /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      style: Object.assign({}, iStyle, {\n        backgroundImage: 'url(' + isrc + ')',\n        backgroundSize: '100% 100%'\n      })\n    }) : /*#__PURE__*/_react[\"default\"].createElement(\"div\", null, /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n      style: {\n        fontSize: 13\n      },\n      className: \"kdfont kdfont-tianjia\"\n    })))), _const.IMAGE_STATUS.UPLOAD, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: (0, _classnames4[\"default\"])('weak-1px-border-dashed', 'contain-bg', _CellClass[\"default\"]['picture-upload'], 'cell-picture-upload'),\n      style: iStyle\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _CellClass[\"default\"]['progress-bar']\n    }, /*#__PURE__*/_react[\"default\"].createElement(_kdesign.Progress, {\n      type: \"circle\",\n      percent: progress,\n      width: \"16\",\n      showInfo: false,\n      strokeColor: \"#5582f3\",\n      style: circleStyle\n    })))), _const.IMAGE_STATUS.FAILURE, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: (0, _classnames4[\"default\"])(_CellClass[\"default\"]['picture-upload'], 'error-bg-color', 'error-color', 'cell-picture-upload'),\n      style: iStyle\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", null, /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n      className: \"kdfont kdfont-tishi4\"\n    })))), _const.IMAGE_STATUS.SUCCESS, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _CellClass[\"default\"]['picture-upload'],\n      style: iStyle\n    }, rendImg));\n  };\n  var uploadUrl = getUploadUrl();\n  var options = {\n    action: (0, _getWebRootPath[\"default\"])(uploadUrl),\n    accept: _const.ALLOWED_IMAGES.extensions.join(','),\n    beforeUpload: beforeUploadPicture,\n    onStart: onStart,\n    onSuccess: onSuccess,\n    onError: onError,\n    onProgress: onProgress,\n    data: function data(file) {\n      if (file) {\n        // 后端要求图片上传需要租户隔离，所以需要带APPID以及formId\n        var imgPath = \"\".concat(file.name);\n        return {\n          url: imgPath,\n          appId: appId,\n          fId: formId,\n          pageId: pageId\n        };\n      }\n    },\n    customRequest: function customRequest(_ref2) {\n      var action = _ref2.action,\n        data = _ref2.data,\n        file = _ref2.file,\n        filename = _ref2.filename,\n        headers = _ref2.headers,\n        onError = _ref2.onError,\n        onProgress = _ref2.onProgress,\n        onSuccess = _ref2.onSuccess,\n        withCredentials = _ref2.withCredentials;\n      (0, _imageUtil2.upload)({\n        action: action,\n        data: data,\n        file: file,\n        filename: filename,\n        headers: headers,\n        onError: onError,\n        onProgress: onProgress,\n        onSuccess: onSuccess,\n        withCredentials: withCredentials\n      });\n    }\n  };\n  var getDropdownMenu = function getDropdownMenu() {\n    var reUpload = /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n      className: _CellClass[\"default\"].dropdownItem,\n      onClick: handleUpload\n    }, (0, _intlApi.getLangMsg)({\n      key: 'image.key0010'\n    }));\n    if (mi && status !== _const.IMAGE_STATUS.SUCCESS) {\n      return /*#__PURE__*/_react[\"default\"].createElement(_kdesign.Dropdown.Menu, {\n        className: _CellClass[\"default\"].imgRenderDropdownMenu\n      }, /*#__PURE__*/_react[\"default\"].createElement(_kdesign.Dropdown.Item, {\n        className: \"kd-cq-dropdown-menu-item\"\n      }, reUpload));\n    } else {\n      return /*#__PURE__*/_react[\"default\"].createElement(_kdesign.Dropdown.Menu, {\n        className: _CellClass[\"default\"].imgRenderDropdownMenu\n      }, /*#__PURE__*/_react[\"default\"].createElement(_kdesign.Dropdown.Item, {\n        className: \"kd-cq-dropdown-menu-item\"\n      }, status === _const.IMAGE_STATUS.SUCCESS ? /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n        className: _CellClass[\"default\"].dropdownItem,\n        onClick: handlePreview\n      }, (0, _intlApi.getLangMsg)({\n        key: 'image.key0006'\n      })) : reUpload), /*#__PURE__*/_react[\"default\"].createElement(_kdesign.Dropdown.Item, {\n        className: \"kd-cq-dropdown-menu-item\"\n      }, mi ? /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n        className: _CellClass[\"default\"].dropdownItem,\n        onClick: handleUpload\n      }, (0, _intlApi.getLangMsg)({\n        key: 'image.key0008'\n      })) : /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n        className: _CellClass[\"default\"].dropdownItem,\n        onClick: handleDelete\n      }, (0, _intlApi.getLangMsg)({\n        key: 'image.key0007'\n      }))));\n    }\n  };\n  var popperStyle = {\n    width: 100,\n    minWidth: 100\n  };\n  var cannotUploadClassName = (0, _classnames4[\"default\"])(_defineProperty(_defineProperty({}, _CellClass[\"default\"]['picture-cannotupload'], true), _CellClass[\"default\"]['cannotupload-hover'], lockPreview && (props.value || props.editor.dik)));\n  return /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, null, canUpload && !cellLocked && !props.editor.dik\n  // props.editor.canUpload && !cellLocked && !props.editor.dik\n  ? /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames4[\"default\"])(_CellClass[\"default\"]['img-wrap'], _defineProperty({}, _CellClass[\"default\"]['drag-mask'], showDragMask)),\n    ref: imgWrapRef,\n    onDragOver: handleDragOver,\n    onDragLeave: handleDragLeave,\n    onDrop: handleDrop\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    style: iStyle,\n    className: _CellClass[\"default\"]['img-container']\n  }, /*#__PURE__*/_react[\"default\"].createElement(_rcUpload[\"default\"], _extends({}, options, {\n    ref: inner\n  })), showAllowCropper && /*#__PURE__*/_react[\"default\"].createElement(_Cropper[\"default\"], {\n    isShow: showAllowCropper,\n    onClose: onClose,\n    file: file,\n    appId: appId,\n    formId: formId,\n    url: url,\n    uploadUrl: (0, _requestParamsUtil.appendParamsToUrl)(uploadUrl, {\n      model: config\n    }) // 'image/uploadImage.do'\n    ,\n    fileServer: fileserver,\n    onCropperSuccess: onCropperSuccess\n  }), renderByStatus(file)[status], [_const.IMAGE_STATUS.SUCCESS, _const.IMAGE_STATUS.FAILURE].indexOf(status) > -1 && /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _CellClass[\"default\"]['def-img-hover']\n  }, /*#__PURE__*/_react[\"default\"].createElement(_kdesign.Dropdown, {\n    popperClassName: \"kd-cq-dropdown kd-cq-dropdown-select-type\",\n    placement: \"bottomLeft\",\n    menu: getDropdownMenu(),\n    trigger: \"hover\",\n    popperStyle: popperStyle\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: \"kdfont kdfont-gengduo\"\n  }))))) : /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    style: iStyle,\n    className: _CellClass[\"default\"]['img-container']\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    id: \"picture-cannotupload\",\n    className: cannotUploadClassName,\n    ref: lPDomRef\n  }, rendImg)));\n}\nvar ImageRenderer = exports[\"default\"] = (0, _AlphaFactory[\"default\"])(new ImgRenderer());\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/CellRenderer/ImageRenderer.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/CellRenderer/LightRender.js":
/*!***************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/CellRenderer/LightRender.js ***!
  \***************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.canUseLightRender = exports.LightRender = exports.LIGHT_RENDER_WHITE_LIST = void 0;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\nvar _classnames2 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _ = __webpack_require__(/*! . */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/index.js\");\nvar _serverproperties = __webpack_require__(/*! ../../../../../constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _CellClass = _interopRequireDefault(__webpack_require__(/*! ../CellClass.less */ \"./src/component/web/DataGrid/AgDataGrid/CellClass.less\"));\nvar _constant = __webpack_require__(/*! ../constant */ \"./src/component/web/DataGrid/AgDataGrid/constant.js\");\nvar _TextEllipsisWrap = __webpack_require__(/*! @/component/common/TextEllipsisWrap.js */ \"./src/component/common/TextEllipsisWrap.js\");\nvar _util = __webpack_require__(/*! ./util */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/util.js\");\nvar _mergeUtil = __webpack_require__(/*! ../util/mergeUtil */ \"./src/component/web/DataGrid/AgDataGrid/util/mergeUtil.js\");\nvar _util2 = __webpack_require__(/*! @/component/web/DataGrid/TableHelper/render/util */ \"./src/component/web/DataGrid/TableHelper/render/util.js\");\nvar _global = _interopRequireWildcard(__webpack_require__(/*! @/global */ \"./src/global/index.js\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); } /**\n * 轻量级渲染器\n */\nvar LightRender = exports.LightRender = /*#__PURE__*/function () {\n  function LightRender() {\n    var _this = this;\n    _classCallCheck(this, LightRender);\n    this.setContentHideen = function () {\n      _this.v = '';\n    };\n    this.onClick = function (e) {\n      _this.params.api.setFocusedCell(_this.params.node.rowIndex, _this.params.column.colId, null);\n      // this.params.node.setSelected(true)\n      _this.params.invokeRowSelection(_this.params.node);\n      e.stopPropagation();\n      _this.params.hyperLinkClick(_this.params.column.colId, _this.params.node.data[_this.params.rk]);\n    };\n    this.setCellTitle = function (title) {\n      if (_this.handleTitlerequestId) {\n        window.cancelIdleCallback(_this.handleTitlerequestId);\n      }\n      _this.handleTitlerequestId = window.requestIdleCallback(function () {\n        title != null && _this.params.eGridCell.setAttribute('title', (0, _TextEllipsisWrap.getFormatWrapTitle)(title));\n      });\n    };\n  }\n  _createClass(LightRender, [{\n    key: \"init\",\n    value: function init(params) {\n      var _params$data;\n      this.isEmpty = false;\n      this.isVirtualLoading = false;\n      this.params = params;\n      this.v = params.value;\n      this.isHyperlink = params.isHyperlink && !params.node.rowPinned; // 合计行不显示超链接\n      var noLink = (_params$data = params.data) === null || _params$data === void 0 || (_params$data = _params$data.cprop) === null || _params$data === void 0 ? void 0 : _params$data.nolink;\n      if (noLink && Array.isArray(noLink) && noLink.includes(params.colDef.field)) {\n        this.isHyperlink = false;\n      }\n    }\n  }, {\n    key: \"getGui\",\n    value: function getGui() {\n      this.valueFormatter();\n      this.setCellStyle();\n      if (!this.isEmpty) {\n        this.setCellTitle(this.v);\n      }\n      this.ediv = document.createElement('div');\n      this.ediv.className = this.getWrapClassName();\n      this.ediv.style.cssText = this.getWrapStyle();\n      if (this.isHyperlink && !this.isEmpty) {\n        this.ediv.onclick = this.onClick;\n      }\n      this.ediv.appendChild(document.createTextNode(this.v));\n      return this.ediv;\n      // return v;//ag grid 内部是用的innerHTML，会受 \"><video src=x onerror=alert(document.cookie);> 这样的攻击\n    }\n  }, {\n    key: \"getWrapClassName\",\n    value: function getWrapClassName() {\n      var _this$params = this.params,\n        autoHeight = _this$params.autoHeight,\n        editor = _this$params.editor,\n        lineWrap = _this$params.lineWrap,\n        rowPinned = _this$params.node.rowPinned,\n        colType = _this$params.colDef.cellRendererParams.type;\n      return (0, _classnames2[\"default\"])(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty({}, _CellClass[\"default\"].lightRender, true), \"\".concat(_CellClass[\"default\"].hLink, \" link-color  grid-hyper-link\"), this.isHyperlink), _CellClass[\"default\"]['line-wrap'], (0, _util.getShouldLineWrap)({\n        colType: colType,\n        editor: editor,\n        autoHeight: autoHeight,\n        rowPinned: rowPinned,\n        lineWrap: lineWrap\n      })), _CellClass[\"default\"]['pre-wrap'], (0, _util.getShouldPreWrap)({\n        colType: colType,\n        editor: editor,\n        autoHeight: autoHeight,\n        rowPinned: rowPinned\n      })), _CellClass[\"default\"]['full-height-limit'], colType === _serverproperties.Ctrls.KDMulLangText));\n    }\n  }, {\n    key: \"getWrapStyle\",\n    value: function getWrapStyle() {\n      var cssText = '';\n      var _this$params2 = this.params,\n        autoHeight = _this$params2.autoHeight,\n        editor = _this$params2.editor,\n        rowPinned = _this$params2.node.rowPinned,\n        colType = _this$params2.colDef.cellRendererParams.type,\n        colStyle = _this$params2.colStyle,\n        rowHeight = _this$params2.gridOptions.rowHeight;\n      if ((0, _util.getShouldPreWrap)({\n        colType: colType,\n        editor: editor,\n        autoHeight: autoHeight,\n        rowPinned: rowPinned\n      }) && !_global[\"default\"][_global.IS_IE] && !_global[\"default\"][_global.IS_FIREFOX] && !autoHeight) {\n        var lineClamp = (0, _util2.getLineClamp)({\n          fontSize: colStyle === null || colStyle === void 0 ? void 0 : colStyle.fontSize,\n          rowHeight: rowHeight,\n          cellPadding: 0\n        });\n        // 同时设置宽度，防止lineClamp=1时，宽度按内容撑开，第一行文本内容显示不全\n        cssText = \"display: -webkit-box;-webkit-box-orient: vertical;-webkit-line-clamp: \".concat(lineClamp, \"; width: inherit;\");\n      }\n      return cssText;\n    }\n  }, {\n    key: \"setCellStyle\",\n    value: function setCellStyle() {\n      var _this$params$gridCont = this.params.gridContrlParams,\n        isVirtualView = _this$params$gridCont.isVirtualView,\n        mergeColumns = _this$params$gridCont.mergeColumns;\n      if (isVirtualView && mergeColumns.length > 0) {\n        var rightBorderMergeCols = this.params.getrightBorderMergeCols();\n        // 设置列右侧边框线\n        if (rightBorderMergeCols.includes(this.params.colDef.colId)) {\n          this.params.eGridCell.className += ' ' + 'mergeCell_ClsEnd';\n        }\n        if (mergeColumns.includes(this.params.colDef.colId)) {\n          (0, _mergeUtil.setMergeCellStyle)(this.params, {\n            setContentHideen: this.setContentHideen\n          });\n        }\n      }\n      if (this.params.node.rowPinned) {\n        // 浮动行\n        this.params.eGridCell.style.color = '#EB743F';\n        // this.params.eGridCell.style.border = 'none'\n        this.params.eGridCell.style.backgroundColor = '#FFF8E1';\n      }\n    }\n  }, {\n    key: \"valueFormatter\",\n    value: function valueFormatter() {\n      var _this$params3 = this.params,\n        seq = _this$params3.seq,\n        isHyperlink = _this$params3.isHyperlink,\n        hlinkPerfix = _this$params3.hlinkPerfix,\n        colId = _this$params3.column.colId,\n        rowPinned = _this$params3.node.rowPinned,\n        rowModelType = _this$params3.gridOptions.rowModelType;\n\n      // 报表显示加载中\n      if (this.v == null && rowModelType === 'virtual' && colId === seq) {\n        this.isVirtualLoading = true;\n      }\n\n      // 超链接\n      if (isHyperlink && !rowPinned) {\n        if (typeof this.v === 'string' && hlinkPerfix) {\n          var result = this.expectPrefix(this.v, hlinkPerfix);\n          if (result[0]) {\n            this.isHyperlink = false;\n            this.v = result[1];\n          }\n        }\n        if (!this.v && this.v !== 0 || this.v === ' ') {\n          this.v = '';\n        }\n      }\n      this.v = this.getDispalyValue(this.v);\n      if (!this.v && this.v !== 0) {\n        this.isEmpty = true;\n        this.v = '';\n      }\n      if (this.isEmpty) {\n        this.v = _constant.EMPTY_PH;\n      }\n      if (this.isVirtualLoading) {\n        this.v = 'loading...';\n      }\n    }\n  }, {\n    key: \"getDispalyValue\",\n    value: function getDispalyValue(v) {\n      var _this$params4 = this.params,\n        api = _this$params4.api,\n        value = _this$params4.value,\n        columnApi = _this$params4.columnApi,\n        rowIndex = _this$params4.node.rowIndex,\n        node = _this$params4.node,\n        data = _this$params4.data,\n        colDef = _this$params4.colDef,\n        field = _this$params4.colDef.field;\n      var renderProps = Object.assign({}, colDef.cellRendererParams, {\n        field: field,\n        api: api,\n        columnApi: columnApi,\n        colDef: colDef,\n        rowIndex: rowIndex,\n        data: data,\n        node: node,\n        value: value,\n        column: {\n          colId: field,\n          colDef: colDef\n        }\n      });\n      return (0, _.getCellDisplayValueByRender)(renderProps, v, data);\n    }\n  }, {\n    key: \"expectPrefix\",\n    value: function expectPrefix(value, prefix) {\n      var prefixIndex = value.indexOf(prefix);\n      var result = [];\n      if (prefixIndex === 0) {\n        result.push(true);\n        result.push(value.slice(prefix.length));\n      } else {\n        result.push(false);\n        result.push(value);\n      }\n      return result;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (this.ediv) this.ediv.onclick = null;\n      if (this.handleTitlerequestId) {\n        window.cancelIdleCallback(this.handleTitlerequestId);\n      }\n    }\n  }]);\n  return LightRender;\n}();\n/**\n * 可以使用lightRender的列\n * 1. 序号列(特殊列)单独处理,不在白名单里面\n */\nvar LIGHT_RENDER_WHITE_LIST = exports.LIGHT_RENDER_WHITE_LIST = [_serverproperties.Ctrls.KDText, _serverproperties.Ctrls.KDBaseData, _serverproperties.Ctrls.KDMulBaseData, _serverproperties.Ctrls.KDOrg, _serverproperties.Ctrls.KDUser, _serverproperties.Ctrls.KDText, _serverproperties.Ctrls.KDDate, _serverproperties.Ctrls.KDDateRange, _serverproperties.Ctrls.KDDateTime, _serverproperties.Ctrls.KDTime, _serverproperties.Ctrls.KDTimeRange, _serverproperties.Ctrls.KDNumber, _serverproperties.Ctrls.KDTextArea, _serverproperties.Ctrls.KDLTextArea, _serverproperties.Ctrls.KDCity, _serverproperties.Ctrls.KDMulLangText, _serverproperties.Ctrls.KDTelephone, _serverproperties.Ctrls.KDEmail, _serverproperties.Ctrls.KDStepper,\n// Ctrls.KDAdminDivision,\n'other'];\nvar canUseLightRender = exports.canUseLightRender = function canUseLightRender(_ref) {\n  var colType = _ref.colType,\n    needMerge = _ref.needMerge,\n    editable = _ref.editable,\n    isCombined = _ref.isCombined,\n    isCombinedItem = _ref.isCombinedItem,\n    hasCellTips = _ref.hasCellTips,\n    showEditButton = _ref.showEditButton,\n    showPrivateIcon = _ref.showPrivateIcon;\n  if (needMerge || editable || isCombined || isCombinedItem || hasCellTips || showEditButton || showPrivateIcon) return;\n  return LIGHT_RENDER_WHITE_LIST.includes(colType);\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/CellRenderer/LightRender.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/CellRenderer/ListCheckBoxRenderer.js":
/*!************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/CellRenderer/ListCheckBoxRenderer.js ***!
  \************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = exports.ListCheckBox = void 0;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _AlphaFactory = _interopRequireDefault(__webpack_require__(/*! ./AlphaFactory */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/AlphaFactory.js\"));\nvar _renderer = _interopRequireDefault(__webpack_require__(/*! ./renderer.less */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/renderer.less\"));\nvar _classnames = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _GridUtils = __webpack_require__(/*! ../GridUtils */ \"./src/component/web/DataGrid/AgDataGrid/GridUtils.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); } /**\n * 列表和报表的复选框列渲染器\n * by kechuang\n */\nvar ListCheckBox = exports.ListCheckBox = /*#__PURE__*/function () {\n  function ListCheckBox() {\n    _classCallCheck(this, ListCheckBox);\n    this.isEmpty = false;\n  }\n  _createClass(ListCheckBox, [{\n    key: \"getRenderer\",\n    value: function getRenderer(params) {\n      var props = params.props,\n        containerClass = params.containerClass;\n      var editor = props.editor,\n        value = props.value;\n      var s = editor.s,\n        tt = editor.tt,\n        ft = editor.ft;\n      value = value === true || value === 1;\n      if (s === 1) {\n        return value ? tt || '' : ft || '';\n      } else {\n        var cls = (0, _classnames[\"default\"])([containerClass, 'kdfont kdfont-gouxuan'], _renderer[\"default\"].listCheckboxIcon);\n        return value ? /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n          className: cls\n        }) : this._setIsEmpty();\n      }\n    }\n  }, {\n    key: \"resetIsEmpty\",\n    value: function resetIsEmpty() {\n      this.isEmpty = false;\n    }\n  }, {\n    key: \"_setIsEmpty\",\n    value: function _setIsEmpty() {\n      this.isEmpty = true;\n      return '';\n    }\n  }]);\n  return ListCheckBox;\n}();\nvar ListCheckBoxRenderer = exports[\"default\"] = (0, _AlphaFactory[\"default\"])(new ListCheckBox());\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/CellRenderer/ListCheckBoxRenderer.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/CellRenderer/MulHLinkRenderer.js":
/*!********************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/CellRenderer/MulHLinkRenderer.js ***!
  \********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = exports.MulHLink = void 0;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.join.js */ \"../../node_modules/core-js/modules/es.array.join.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _AlphaFactory = _interopRequireDefault(__webpack_require__(/*! ./AlphaFactory */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/AlphaFactory.js\"));\nvar _CellClass = _interopRequireDefault(__webpack_require__(/*! ../CellClass.less */ \"./src/component/web/DataGrid/AgDataGrid/CellClass.less\"));\nvar _multiHyperLink = __webpack_require__(/*! ../../TableHelper/render/multiHyperLink */ \"./src/component/web/DataGrid/TableHelper/render/multiHyperLink.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); } /**\n * 多超链接单元格\n */\nvar MulHLink = exports.MulHLink = /*#__PURE__*/function () {\n  function MulHLink() {\n    _classCallCheck(this, MulHLink);\n    this.getRendererDisplayValue = function (args) {\n      var _args$props$value = args.props.value,\n        tem = _args$props$value.tem,\n        data = _args$props$value.data;\n      if (!tem) return null; // 如果格式规则不存在，则直接返回null\n      var val = data;\n      val = (0, _multiHyperLink.getMultiHyperLinkContent)(tem, data, {\n        onlyText: true\n      });\n      return Array.isArray(val) && val.join ? val.join('') : val;\n    };\n  }\n  _createClass(MulHLink, [{\n    key: \"getRenderer\",\n    value: function getRenderer(params) {\n      var props = params.props;\n      var value = props.value,\n        hyperLinkClick = props.hyperLinkClick,\n        rk = props.rk,\n        column = props.column,\n        node = props.node,\n        invokeRowSelection = props.invokeRowSelection;\n      var tem = value.tem,\n        data = value.data;\n      if (!tem) return null; // 如果格式规则不存在，则直接返回null\n      var onHyperClick = function onHyperClick(e, key) {\n        e.stopPropagation();\n        invokeRowSelection(node);\n        hyperLinkClick(column.colId, node.data[rk], key);\n      };\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", null, (0, _multiHyperLink.getMultiHyperLinkContent)(tem, data, {\n        onHyperClick: onHyperClick,\n        hyperLinkClassName: \"\".concat(_CellClass[\"default\"].hLink, \" link-color grid-hyper-link\")\n      }));\n    }\n  }]);\n  return MulHLink;\n}();\nvar MulHLinkRenderer = (0, _AlphaFactory[\"default\"])(new MulHLink());\nvar _default = exports[\"default\"] = MulHLinkRenderer;\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/CellRenderer/MulHLinkRenderer.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/CellRenderer/MulLangRenderer.js":
/*!*******************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/CellRenderer/MulLangRenderer.js ***!
  \*******************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = exports.MulLgRenderer = void 0;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _AlphaFactory = _interopRequireDefault(__webpack_require__(/*! ./AlphaFactory.js */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/AlphaFactory.js\"));\nvar _langUtil = __webpack_require__(/*! @/util/langUtil */ \"./src/util/langUtil.js\");\nvar _GridUtils = __webpack_require__(/*! ../GridUtils.js */ \"./src/component/web/DataGrid/AgDataGrid/GridUtils.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); } // import { getMulLangInitLang } from '@/util/gridUtil'\nvar MulLgRenderer = exports.MulLgRenderer = /*#__PURE__*/function () {\n  function MulLgRenderer() {\n    _classCallCheck(this, MulLgRenderer);\n    this.isEmpty = false;\n  }\n  _createClass(MulLgRenderer, [{\n    key: \"getRenderer\",\n    value: function getRenderer(args) {\n      var props = args.props,\n        rStyle = args.rStyle;\n      var localeId = props.localeId,\n        defaultLocalId = props.defaultLocalId,\n        gridContrlParams = props.gridContrlParams;\n      var _colEditable = props.colDef.editable; // this.columns\n      var _locked = props.node.data === undefined ? true : props.isCellLocked(props.pid, props.gridId, props.node.data[props.rk], props.column.colId, props.isPrivacy, props.realEditable);\n      if (_locked == undefined || !_colEditable) {\n        _locked = !_colEditable;\n      }\n      // 兼容列表，列表发的是字符串\n      var value = props.value,\n        isuf = props.isuf;\n      var _getDisplayValue = getDisplayValue(isuf, localeId, defaultLocalId);\n      props.setGridDisplayFun && props.setGridDisplayFun(props.colDef.field, _getDisplayValue);\n\n      // props.eGridCell.setAttribute('title', value)\n      if (!_getDisplayValue(value)) {\n        this._setIsEmpty();\n      }\n      return _getDisplayValue(value);\n    }\n  }, {\n    key: \"getRendererDisplayValue\",\n    value: function getRendererDisplayValue(args) {\n      var props = args.props;\n      var isuf = props.isuf,\n        localeId = props.localeId,\n        defaultLocalId = props.defaultLocalId,\n        value = props.value;\n      var _getDisplayValue = getDisplayValue(isuf, localeId, defaultLocalId);\n      props.setGridDisplayFun && props.setGridDisplayFun(props.colDef.field, _getDisplayValue);\n      return _getDisplayValue(value);\n    }\n  }, {\n    key: \"resetIsEmpty\",\n    value: function resetIsEmpty() {\n      this.isEmpty = false;\n    }\n  }, {\n    key: \"_setIsEmpty\",\n    value: function _setIsEmpty() {\n      this.isEmpty = true;\n      return '';\n    }\n  }]);\n  return MulLgRenderer;\n}(); // 值格式化偏函数\nvar getDisplayValue = function getDisplayValue(isuf, localeId, defaultLocalId) {\n  return function (val) {\n    var _v = val;\n    if (isuf === true) {\n      return _v == null || _v === '' ? '' : _v;\n    }\n    if (_v && _typeof(_v) === 'object') {\n      var _localeId = (0, _langUtil.getLanguage)(_v, localeId, defaultLocalId);\n      _v = _v[_localeId];\n    }\n    _v = _v || '';\n    return _v;\n  };\n};\nvar MulLangRenderer = exports[\"default\"] = (0, _AlphaFactory[\"default\"])(new MulLgRenderer());\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/CellRenderer/MulLangRenderer.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/CellRenderer/OperationCellRenderer.js":
/*!*************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/CellRenderer/OperationCellRenderer.js ***!
  \*************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.operationCell = exports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\nvar _AlphaFactory = _interopRequireDefault(__webpack_require__(/*! ./AlphaFactory.js */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/AlphaFactory.js\"));\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _classnames4 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _baseCom = __webpack_require__(/*! ./baseCom */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/baseCom.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); } // import { Ctrls } from '../../../../../constant/serverproperties';\nvar OperationCell = exports.operationCell = /*#__PURE__*/function () {\n  function OperationCell() {\n    _classCallCheck(this, OperationCell);\n  }\n  _createClass(OperationCell, [{\n    key: \"getRenderer\",\n    value: function getRenderer(args) {\n      var props = args.props;\n      // let showStyle = props.editor.showstyle;\n\n      // if (props.value == null || props.value == '') return '';\n      var opts = props.editor.opr; // 定义操作项\n      var showType = props.editor.showType; // 展示形式\n      var value = props.value || []; // 操作列的值 [{locked:true,opk:'new',fontSize:'16px',foreColor:'red'},{opk:'modify',visible:true,fontSize:'10px',foreColor:'blue'}]\n      var className = (0, _classnames4[\"default\"])(_defineProperty(_defineProperty({}, props.styles.operate, true), args.containerClass, true));\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: className,\n        style: args.containerStyle\n      }, showType === 1 && opts.length > 1 ? /*#__PURE__*/_react[\"default\"].createElement(_baseCom.OperateSelect, _extends({}, props, {\n        optValue: value,\n        items: opts\n      })) : this.getChildrenItems(opts, value, props));\n    }\n  }, {\n    key: \"getChildrenItems\",\n    value: function getChildrenItems(items, value, props) {\n      var localeId = props.localeId || 'zh_CN';\n      return items.map(function (item) {\n        var OperationNode = null;\n        var className = '';\n        var locked = item.locked,\n          visible = item.visible,\n          showStyle = item.showStyle,\n          fontSize = item.fontSize,\n          foreColor = item.foreColor;\n        var operationName = '';\n        var optItemValue = value.filter(function (v) {\n          return v.opk === item.opk;\n        });\n        if (optItemValue.length > 0) {\n          var valItem = optItemValue[0];\n          typeof valItem.fontSize !== 'undefined' && (fontSize = valItem.fontSize);\n          typeof valItem.foreColor !== 'undefined' && (foreColor = valItem.foreColor);\n          typeof valItem.locked !== 'undefined' && (locked = valItem.locked); // 数据锁定\n          typeof valItem.visible !== 'undefined' && (visible = valItem.visible); // 数据可见\n          typeof valItem.operationName !== 'undefined' && (operationName = valItem.operationName); // 操作名称\n        }\n        /// /文本0、图标1、下拉2\n        if (showStyle == '1') {\n          OperationNode = _baseCom.OperationIcon;\n          className = (0, _classnames4[\"default\"])(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty({}, props.styles.operationIcon, true), props.styles['operation-item-enable'], !locked), props.styles['operation-item-disable'], locked), 'link-color', !locked), 'disabled-fc', locked));\n        } else if (showStyle == '0') {\n          OperationNode = _baseCom.OperationText;\n          className = (0, _classnames4[\"default\"])(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty({}, props.styles.operationText, true), props.styles['operation-item-enable'], !locked), props.styles['operation-item-disable'], locked), 'link-color', !locked), 'disabled-fc', locked));\n        }\n        return OperationNode && /*#__PURE__*/_react[\"default\"].createElement(OperationNode, _extends({}, props, {\n          optItemValue: optItemValue.length > 0 ? optItemValue[0] : {},\n          key: item.id,\n          visible: visible,\n          locked: locked,\n          className: className,\n          iconUrl: item.iconUrl,\n          operationName: operationName && operationName[localeId] || item.text && item.text[localeId],\n          itemId: item.id,\n          operationKey: item.opk,\n          fontSize: fontSize,\n          foreColor: foreColor\n        }));\n      });\n    }\n  }]);\n  return OperationCell;\n}();\nvar OperationCellRenderer = exports[\"default\"] = (0, _AlphaFactory[\"default\"])(new OperationCell());\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/CellRenderer/OperationCellRenderer.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/CellRenderer/PasswordRenderer.js":
/*!********************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/CellRenderer/PasswordRenderer.js ***!
  \********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.passwordRenderer = exports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\nvar _AlphaFactory = _interopRequireDefault(__webpack_require__(/*! ./AlphaFactory.js */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/AlphaFactory.js\"));\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _renderer = _interopRequireDefault(__webpack_require__(/*! ./renderer.less */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/renderer.less\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar PasswordRenderer = exports.passwordRenderer = /*#__PURE__*/function () {\n  function PasswordRenderer() {\n    _classCallCheck(this, PasswordRenderer);\n  }\n  _createClass(PasswordRenderer, [{\n    key: \"getRenderer\",\n    value: function getRenderer(_ref) {\n      var props = _ref.props;\n      var type = props.type,\n        value = props.value,\n        alignment = props.alignment,\n        field = props.colDef.field;\n      var textAlign = alignment.getAlign(type, field) || 'left';\n      return [/*#__PURE__*/_react[\"default\"].createElement(\"input\", {\n        type: \"text\",\n        className: _renderer[\"default\"].hidden,\n        key: \"0\",\n        autoComplete: \"off\",\n        tabIndex: \"-1\"\n      }), /*#__PURE__*/_react[\"default\"].createElement(\"input\", {\n        type: \"password\",\n        className: _renderer[\"default\"].hidden,\n        key: \"1\",\n        autoComplete: \"off\",\n        tabIndex: \"-1\"\n      }), /*#__PURE__*/_react[\"default\"].createElement(\"input\", {\n        autoComplete: \"off\",\n        readOnly: true,\n        key: \"2\",\n        type: \"password\",\n        value: value ? '******' : '',\n        style: {\n          textAlign: textAlign,\n          cursor: 'default',\n          backgroundColor: 'transparent'\n        }\n      })];\n    }\n  }]);\n  return PasswordRenderer;\n}();\nvar PwdRenderer = exports[\"default\"] = (0, _AlphaFactory[\"default\"])(new PasswordRenderer());\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/CellRenderer/PasswordRenderer.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/CellRenderer/SelectColRenderer.js":
/*!*********************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/CellRenderer/SelectColRenderer.js ***!
  \*********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.string.replace.js */ \"../../node_modules/core-js/modules/es.string.replace.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _kdesign = __webpack_require__(/*! @kdcloudjs/kdesign */ \"webpack/sharing/consume/default/@kdcloudjs/kdesign/@kdcloudjs/kdesign\");\nvar _util = __webpack_require__(/*! ./util */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/util.js\");\nvar _gridConst = __webpack_require__(/*! @/constant/gridConst */ \"./src/constant/gridConst.js\");\nvar _rowModel = __webpack_require__(/*! ../rowModel */ \"./src/component/web/DataGrid/AgDataGrid/rowModel/index.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); } /**\n * 选择列的单元格渲染器\n * by kechuang\n */\nvar SelectColRenderer = exports[\"default\"] = /*#__PURE__*/function (_React$Component) {\n  _inherits(SelectColRenderer, _React$Component);\n  function SelectColRenderer(props) {\n    var _this;\n    _classCallCheck(this, SelectColRenderer);\n    _this = _callSuper(this, SelectColRenderer, [props]);\n    _this.handleCellMerged = function () {\n      var _this$props = _this.props,\n        gridOptions = _this$props.gridOptions,\n        rowKey = _this$props.rowKey,\n        gridContrlParams = _this$props.gridContrlParams,\n        data = _this$props.data,\n        eGridCell = _this$props.eGridCell,\n        api = _this$props.api,\n        column = _this$props.column,\n        node = _this$props.node;\n      var mergeModel = gridContrlParams.mergeModel,\n        suppressMergeSelection = gridContrlParams.suppressMergeSelection,\n        isAlternatelyRowsStyle = gridContrlParams.isAlternatelyRowsStyle;\n      if (mergeModel && mergeModel.suppress === false && !node.rowPinned) {\n        var rkValue = data[rowKey];\n        var mainRks = mergeModel.getMainEntityGroup(rkValue);\n        eGridCell.removeEventListener('mouseover', _this.onMouseOver, true);\n        eGridCell.removeEventListener('mouseout', _this.onMouseOut, true);\n        if (mainRks.length > 1) {\n          eGridCell.addEventListener('mouseover', _this.onMouseOver, true);\n          eGridCell.addEventListener('mouseout', _this.onMouseOut, true);\n        }\n        if (isAlternatelyRowsStyle && (0, _util.getIsOddRow)(mergeModel, rkValue)) {\n          eGridCell.className += ' ' + 'oddMergeCell';\n        }\n        var entity = _this.getRealEntityKey(mergeModel, suppressMergeSelection);\n        var span = mergeModel.getCurrentEntitySpan(rkValue, entity);\n        var grpRks = mergeModel.getCurrentEntityGroup(rkValue, entity);\n        var rowMergeCellVerticalAlign = gridContrlParams.rowMergeCellVerticalAlign;\n        var isVerticalAlignTop = rowMergeCellVerticalAlign === 'top';\n\n        // 不融合，但是之前复用了该单元格，需要删除融合的信息\n        if (_this.merged && suppressMergeSelection) {\n          eGridCell.className = eGridCell.className.replace('mergeCell', '');\n          eGridCell.style.height = '';\n          eGridCell.style['z-index'] = '';\n          if (isVerticalAlignTop) {\n            var _this$dom$classList;\n            (_this$dom$classList = _this.dom.classList) === null || _this$dom$classList === void 0 || _this$dom$classList.remove('row-selected-icon-hide');\n          }\n        }\n        // 重置标识\n        _this.merged = false;\n        if (isVerticalAlignTop) {\n          // 当前组融合\n          if (grpRks.length > 1) {\n            eGridCell.className = eGridCell.className + ' ' + 'mergeCell';\n            if (span > 1) {\n              var _this$dom$classList2;\n              // 非首行\n              (_this$dom$classList2 = _this.dom.classList) === null || _this$dom$classList2 === void 0 || _this$dom$classList2.add('row-selected-icon-hide');\n              // 盖住上边框\n              eGridCell.style.height = (0, _util.getRowRealHeight)(gridOptions.rowHeight, rkValue, api) + 'px';\n              eGridCell.style['z-index'] = 1;\n            }\n            _this.merged = true;\n          }\n        } else {\n          // 居中显示\n          if (span > 1) {\n            eGridCell.className = eGridCell.className + ' ' + 'mergeCell';\n            // const isGroupBottom = mergeModel.isEntityGroupBottom(rkValue, entity)\n            // const { height, zIndex } = getCellMergeInfo(grpRks, this.props.getGridThisProp, this.props.setGridThisProp, node, entity, rkValue, gridOptions, api, isVerticalAlignTop)\n            // eGridCell.style.height = height + 'px'// 下边框改在ag-row上，暂不隐藏下边框，要减一个像素\n            // eGridCell.style['z-index'] = zIndex // 一层层往上盖，z-inde增大保证盖住上层\n            // this.merged = true\n\n            var rowHeight = gridOptions.rowHeight,\n              rowBuffer = gridOptions.rowBuffer;\n            var ZIndex = span;\n            var heightWeight = ZIndex;\n            var viewPortSize = _this.props.getGridThisProp(_gridConst.VIEWPORT_SIZE) || {\n              height: 0\n            };\n            var viewPortRowCount = Math.round(viewPortSize.height / rowHeight);\n            if (ZIndex > viewPortRowCount + rowBuffer) {\n              heightWeight = viewPortRowCount + rowBuffer * 2;\n            }\n            var height = heightWeight * rowHeight - 1;\n            eGridCell.style.height = height + 'px';\n            eGridCell.style['z-index'] = ZIndex;\n            _this.merged = true;\n          }\n        }\n        if (suppressMergeSelection || mergeModel.groupBorderCol.indexOf(column.colId) >= 0) {\n          eGridCell.className += ' ' + 'mergeCell_ClsEnd';\n        }\n      }\n    };\n    _this.handleClick = function (e) {\n      var _this$props2 = _this.props,\n        invokeRowSelection = _this$props2.invokeRowSelection,\n        postRowSelection = _this$props2.postRowSelection,\n        node = _this$props2.node,\n        getMergeModel = _this$props2.getMergeModel,\n        data = _this$props2.data,\n        rowKey = _this$props2.rowKey,\n        gridContrlParams = _this$props2.gridContrlParams,\n        gridOptions = _this$props2.gridOptions,\n        setGridThisProp = _this$props2.setGridThisProp,\n        getGridThisProp = _this$props2.getGridThisProp,\n        getNodeByRowKey = _this$props2.getNodeByRowKey,\n        getNodeByRowIndex = _this$props2.getNodeByRowIndex,\n        api = _this$props2.api;\n      var suppressEntryRowClickSelect = gridContrlParams.suppressEntryRowClickSelect;\n      var mergeModel = getMergeModel();\n      var rkV = data[rowKey];\n      var lastClickedNode = getGridThisProp('lastClickedNode');\n      if (gridOptions.rowSelection === 'multiple' && lastClickedNode && lastClickedNode !== node && e.shiftKey) {\n        var focuseCell = api.getFocusedCell();\n        var column = focuseCell ? focuseCell.column : null;\n        (0, _rowModel.doShiftSelect)(node, lastClickedNode, {\n          data: data,\n          column: column,\n          rk: rowKey,\n          getNodeByRowKey: getNodeByRowKey,\n          getNodeByRowIndex: getNodeByRowIndex,\n          gridContrlParams: gridContrlParams,\n          postRowSelection: postRowSelection\n        });\n        setGridThisProp('lastClickedNode', node);\n        e.stopPropagation();\n        return;\n      }\n      setGridThisProp('lastClickedNode', node);\n      // 合并行走行点击\n      if (mergeModel && mergeModel.getMainEntityGroup(rkV).length > 1) return;\n      // 非合并行点击圆圈不走行的click，减少代码判断\n      // 圆圈选中由行点击统一处理,在refresh中来进行setState\n      // 禁止行点击选中时，行点击回调不会做行选中操作，需要在这里处理\n      if (suppressEntryRowClickSelect) {\n        node.setSelected(!_this.state.isSelected);\n      }\n      if (_this.state.isSelected) {\n        invokeRowSelection(node, false);\n      } else {\n        invokeRowSelection(node, true);\n      }\n      e.stopPropagation();\n    };\n    _this.handleSelectedChange = function (e) {\n      e.stopPropagation();\n    };\n    _this.onMouseOver = function () {\n      // console.log('mouseover')\n      var _this$props3 = _this.props,\n        gridContrlParams = _this$props3.gridContrlParams,\n        rowKey = _this$props3.rowKey,\n        data = _this$props3.data,\n        api = _this$props3.api;\n      var mergeModel = gridContrlParams.mergeModel,\n        suppressMergeSelection = gridContrlParams.suppressMergeSelection;\n      var rkV = data[rowKey];\n      var entity = _this.getRealEntityKey(mergeModel, suppressMergeSelection);\n      var groupRks = mergeModel.getCurrentEntityGroup(rkV, entity);\n      if (groupRks.length <= 1) return;\n      var node = null;\n      groupRks.forEach(function (grk) {\n        node = api.getRowNode(grk);\n        if (node) {\n          node.onMouseEnter();\n        }\n      });\n    };\n    _this.onMouseOut = function () {\n      // console.log('mouseout')\n      var _this$props4 = _this.props,\n        gridContrlParams = _this$props4.gridContrlParams,\n        rowKey = _this$props4.rowKey,\n        data = _this$props4.data,\n        api = _this$props4.api;\n      var mergeModel = gridContrlParams.mergeModel,\n        suppressMergeSelection = gridContrlParams.suppressMergeSelection;\n      var rkV = data[rowKey];\n      var entity = _this.getRealEntityKey(mergeModel, suppressMergeSelection);\n      var groupRks = mergeModel.getCurrentEntityGroup(rkV, entity);\n      if (groupRks.length <= 1) return;\n      var node = null;\n      groupRks.forEach(function (grk) {\n        node = api.getRowNode(grk);\n        if (node) {\n          node.onMouseLeave();\n        }\n      });\n    };\n    _this.getRealEntityKey = function (mergeModel, suppressMergeSelection) {\n      if (!mergeModel) return;\n      if (suppressMergeSelection) {\n        return mergeModel.entityRelationInfo.leafEntityKey;\n      } else {\n        return mergeModel.entityRelationInfo.mainEntityKey;\n      }\n    };\n    _this.setRefEle = function (dom) {\n      _this.dom = dom;\n    };\n    _this.state = {\n      isSelected: props.node.isSelected()\n    };\n    // 存在复用单元格（eg：refreshCells的刷新），需知道之前该单元格是否融合并重置class和style\n    _this.merged = false;\n    return _this;\n  }\n  _createClass(SelectColRenderer, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.handleCellMerged();\n      this.dom && this.dom.addEventListener('click', this.handleClick, false);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.handleCellMerged();\n    }\n  }, {\n    key: \"refresh\",\n    value: function refresh(params) {\n      // 先选中行，在来更新样式\n      this.setState({\n        isSelected: params.value\n      });\n      return true;\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var eGridCell = this.props.eGridCell;\n      this.dom && this.dom.removeEventListener('click', this.handleClick, false);\n      eGridCell.removeEventListener('mouseover', this.onMouseOver, true);\n      eGridCell.removeEventListener('mouseout', this.onMouseOut, true);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _data$cprop;\n      var _this$props5 = this.props,\n        gridOptions = _this$props5.gridOptions,\n        data = _this$props5.data;\n      var isSelected = this.state.isSelected;\n      var rowSelection = gridOptions.rowSelection;\n      var disabled = data === null || data === void 0 || (_data$cprop = data.cprop) === null || _data$cprop === void 0 ? void 0 : _data$cprop.disabled;\n      var commomProps = {\n        disabled: disabled,\n        checked: isSelected,\n        onChange: this.handleSelectedChange\n      };\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        ref: this.setRefEle,\n        className: \"row-selection-icon\"\n      }, rowSelection === 'single' ? /*#__PURE__*/_react[\"default\"].createElement(_kdesign.Radio, _extends({}, commomProps, {\n        className: \"row-selection-radio\"\n      })) : /*#__PURE__*/_react[\"default\"].createElement(_kdesign.Checkbox, _extends({}, commomProps, {\n        size: \"small\"\n      })));\n    }\n  }]);\n  return SelectColRenderer;\n}(_react[\"default\"].Component);\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/CellRenderer/SelectColRenderer.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/CellRenderer/SelectRenderer.js":
/*!******************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/CellRenderer/SelectRenderer.js ***!
  \******************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = exports.SlctRenderer = void 0;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.find-index.js */ \"../../node_modules/core-js/modules/es.array.find-index.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.join.js */ \"../../node_modules/core-js/modules/es.array.join.js\");\n__webpack_require__(/*! core-js/modules/es.array.some.js */ \"../../node_modules/core-js/modules/es.array.some.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _AlphaFactory = _interopRequireDefault(__webpack_require__(/*! ./AlphaFactory.js */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/AlphaFactory.js\"));\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _serverproperties = __webpack_require__(/*! ../../../../../constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _classnames4 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _componentutil = __webpack_require__(/*! ../../../../../util/componentutil */ \"./src/util/componentutil.js\");\nvar _langUtil = __webpack_require__(/*! @/util/langUtil */ \"./src/util/langUtil.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar SlctRenderer = exports.SlctRenderer = /*#__PURE__*/function () {\n  function SlctRenderer() {\n    _classCallCheck(this, SlctRenderer);\n    this.isEmpty = false;\n  }\n  _createClass(SlctRenderer, [{\n    key: \"getRenderer\",\n    value: function getRenderer(args) {\n      if (args.props.value == null || args.props.value === '') return this._setIsEmpty();\n      var props = args.props,\n        setCellTitle = args.setCellTitle;\n      var editor = props.editor,\n        value = props.value,\n        getColProperty = props.getColProperty,\n        column = props.column,\n        filterParentCtrledItems = props.filterParentCtrledItems,\n        type = props.type,\n        config = props.config,\n        styles = props.styles,\n        _props$localeId = props.localeId,\n        localeId = _props$localeId === void 0 ? 'zh_CN' : _props$localeId;\n      var showStyle = editor.showStyle; // 0:文本；1：图片；2：图文\n      if (value == null || value === '') return '';\n      var opts = editor.st;\n      var dataOpts = getColProperty(column.colId, 'colCtrl');\n      opts = dataOpts.st || opts;\n      var parentId = editor.pid;\n      if (parentId) {\n        opts = filterParentCtrledItems('select', {\n          props: props,\n          filterObj: opts,\n          parentId: parentId\n        });\n      }\n      var sltedValue = convertValue(type, value);\n      var _fileServer = config.fileserver;\n      var valueClassNames = (0, _classnames4[\"default\"])(_defineProperty(_defineProperty(_defineProperty({}, styles['value-item'], true), styles['value-item-block'], type === _serverproperties.Ctrls.KDMulSelect), styles['value-item-block-only-img'], type === _serverproperties.Ctrls.KDMulSelect && showStyle === 1));\n      // const showTips = []\n      var selectItems = [];\n      var formatValues = [];\n      var isEmpty = true;\n      var setValueByLoop = function setValueByLoop(text, img, tip) {\n        tip !== '' && tip != null && formatValues.push(tip);\n        // showTips.push(tip)\n        if (showStyle && img) {\n          // 图片文本任意一个有值就把isEmpty改为false\n          isEmpty = false;\n        }\n        if (styles !== 1 && text) {\n          isEmpty = false;\n        }\n        var _valueClassNames = (0, _classnames4[\"default\"])(_defineProperty(_defineProperty({}, valueClassNames, true), styles['value-item-text-cotainer'], type === _serverproperties.Ctrls.KDSelect && showStyle !== 1));\n        selectItems.push( /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n          key: (0, _componentutil.createNewId)(),\n          className: _valueClassNames\n        }, showStyle ? img : null, showStyle !== 1 ? text : null));\n      };\n      sltedValue.forEach(function (item) {\n        var optIndex = -1;\n        var isFindInOpts = function isFindInOpts(opt, index) {\n          var v = opt[0];\n          if (v && v !== '' && item === v) {\n            optIndex = index;\n            return true;\n          }\n        };\n        if (item && opts.some(isFindInOpts) && optIndex > -1) {\n          var opt = opts[optIndex];\n          var al = opt[1] ? (0, _langUtil.getValueOfLanguage)((0, _immutable.fromJS)(opt[1]), localeId) : '';\n          var im = opt[2];\n          var optionText = al ? /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n            className: styles['value-item-text-content']\n          }, al) : null;\n          var optionImg = im ? /*#__PURE__*/_react[\"default\"].createElement(\"img\", {\n            title: showStyle === 1 ? al : '',\n            src: (0, _componentutil.getImgFullPath)(_fileServer, im)\n          }) : null;\n          setValueByLoop(optionText, optionImg, al);\n        } else if (showStyle !== 1) {\n          setValueByLoop(item, item, item);\n        }\n      });\n      var _getDisplayValue = getDisplayValue(opts, type, localeId, showStyle);\n      props.setGridDisplayFun && props.setGridDisplayFun(props.colDef.field, _getDisplayValue);\n      var className = (0, _classnames4[\"default\"])(_defineProperty(_defineProperty({}, styles.select, true), args.containerClass, true));\n      showStyle !== 1 && setCellTitle && setCellTitle(formatValues.join(' ')); // 设置悬浮文本\n      var gridEditable = props.gridContrlParams.gridEditable;\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: (0, _classnames4[\"default\"])(styles.select, args.containerClass),\n        style: args.containerStyle\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: styles.value\n      }, isEmpty && !gridEditable ? this._setIsEmpty() : selectItems));\n    }\n  }, {\n    key: \"getRendererDisplayValue\",\n    value: function getRendererDisplayValue(args) {\n      var props = args.props;\n      var editor = props.editor,\n        value = props.value,\n        type = props.type,\n        _props$localeId2 = props.localeId,\n        localeId = _props$localeId2 === void 0 ? 'zh_CN' : _props$localeId2;\n      if (value == null || value === '') return '';\n      var showStyle = editor.showStyle; // 0:文本；1：图片；2：图文\n      var opts = getSelectOptins(props);\n      var _getDisplayValue = getDisplayValue(opts, type, localeId, showStyle);\n      props.setGridDisplayFun && props.setGridDisplayFun(props.colDef.field, _getDisplayValue);\n      return _getDisplayValue(value);\n    }\n  }, {\n    key: \"resetIsEmpty\",\n    value: function resetIsEmpty() {\n      this.isEmpty = false;\n    }\n  }, {\n    key: \"_setIsEmpty\",\n    value: function _setIsEmpty() {\n      this.isEmpty = true;\n      return '';\n    }\n  }]);\n  return SlctRenderer;\n}();\nfunction getSelectOptins(props) {\n  var editor = props.editor,\n    getColProperty = props.getColProperty,\n    colDef = props.colDef;\n  var opts = editor.st;\n  var dataOpts = getColProperty(colDef.field, 'colCtrl');\n  opts = dataOpts.st || opts;\n  // 需要去修改 filterParentCtrledItemsfilterParentCtrledItems 里面的node data\n  // const parentId = editor.pid\n  // if (parentId) {\n  //   opts = filterParentCtrledItems('select', { props, filterObj: opts, parentId })\n  // }\n  return opts;\n}\nfunction convertValue(type, val) {\n  var v = [];\n  if (type === _serverproperties.Ctrls.KDMulSelect) {\n    v = val.split(',').filter(function (item) {\n      return item !== '';\n    }); // 过滤空字符， eg: ',1,'.split(',') // ['', 1, '']\n  } else {\n    v.push(val);\n  }\n  return v;\n}\n\n// 值格式化偏函数\nvar getDisplayValue = function getDisplayValue(opts, type, localeId, showStyle) {\n  return function (val) {\n    if (val == null || val === '') return '';\n    var formatValues = [];\n    var selectVal = convertValue(type, val);\n    var setValueByLoop = function setValueByLoop(tip) {\n      tip !== '' && tip != null && formatValues.push(tip);\n    };\n    selectVal.forEach(function (item) {\n      var optIndex = opts && opts.findIndex(function (opt, index) {\n        var v = opt[0];\n        if (v && v !== '' && item === v) {\n          return true;\n        }\n      });\n      if (item && optIndex > -1) {\n        var opt = opts[optIndex];\n        var al = opt[1] ? (0, _langUtil.getValueOfLanguage)((0, _immutable.fromJS)(opt[1]), localeId) : '';\n        setValueByLoop(al);\n      } else if (showStyle !== 1) {\n        setValueByLoop(item);\n      }\n    });\n    return formatValues.join(' ');\n  };\n};\nvar SelectRenderer = exports[\"default\"] = (0, _AlphaFactory[\"default\"])(new SlctRenderer());\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/CellRenderer/SelectRenderer.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/CellRenderer/SeqOpereateRenderer.js":
/*!***********************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/CellRenderer/SeqOpereateRenderer.js ***!
  \***********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.seqOpereateRender = exports[\"default\"] = exports.ToolBar = void 0;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\nvar _AlphaFactory = _interopRequireDefault(__webpack_require__(/*! ./AlphaFactory.js */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/AlphaFactory.js\"));\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _classnames2 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _CellClass = _interopRequireDefault(__webpack_require__(/*! ../CellClass.less */ \"./src/component/web/DataGrid/AgDataGrid/CellClass.less\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); } /**\n * 序号列新增删除操作渲染\n */\n// import { getDynamicFormStatus } from '../../../../../model/appModelFunction'\nvar SeqOpereateRender = exports.seqOpereateRender = /*#__PURE__*/function () {\n  function SeqOpereateRender() {\n    _classCallCheck(this, SeqOpereateRender);\n  }\n  _createClass(SeqOpereateRender, [{\n    key: \"getRenderer\",\n    value: function getRenderer(args) {\n      var props = args.props;\n      var value = props.value,\n        pid = props.pid,\n        gridId = props.gridId,\n        getGridMetaProperty = props.getGridMetaProperty,\n        invokeControlMethodOnly = props.invokeControlMethodOnly,\n        node = props.node,\n        invokeRowSelection = props.invokeRowSelection,\n        gridContrlParams = props.gridContrlParams;\n      // 鼠标滑过是否显示操作按钮\n      // let hasOperateIcon = gridContrlParams.hasOperateIcon || false\n      // let gridEditable = gridContrlParams.gridEditable || false\n      // 审核及查看状态，操作按钮不可见 应由锁定控制\n      // let frmStatus = getDynamicFormStatus(props.model.pageId)(props.model.state)\n      // let isViewStatus = frmStatus == 2\n      var seqCls = (0, _classnames2[\"default\"])(_defineProperty(_defineProperty({}, _CellClass[\"default\"]['seq'], true), _CellClass[\"default\"]['hover-no-hide'], !gridContrlParams.hasOperateIcon));\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _CellClass[\"default\"]['lightRender']\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n        className: seqCls\n      }, value), gridContrlParams.hasOperateIcon ? /*#__PURE__*/_react[\"default\"].createElement(ToolBar, {\n        getGridMetaProperty: getGridMetaProperty,\n        invokeControlMethodOnly: invokeControlMethodOnly,\n        node: node,\n        invokeRowSelection: invokeRowSelection,\n        pageId: pid,\n        gridId: gridId\n      }) : null);\n    }\n  }]);\n  return SeqOpereateRender;\n}();\nvar ToolBar = exports.ToolBar = function ToolBar(props) {\n  var getGridMetaProperty = props.getGridMetaProperty;\n  // icon图标\n  var addIconClass = 'kdfont kdfont-tianjiaqiapian';\n  var delIconClass = 'kdfont kdfont-yidongduanshanchu';\n  var insertentryOperation = getGridMetaProperty('insertentryOperation'); // insert\n  var deleteentryOperation = getGridMetaProperty('deleteentryOperation'); // delete\n\n  var insertDom = (0, _react.useRef)(null);\n  var deleteDom = (0, _react.useRef)(null);\n  var operateRow = function operateRow(e, operationName) {\n    e.stopPropagation();\n    var invokeControlMethodOnly = props.invokeControlMethodOnly,\n      invokeRowSelection = props.invokeRowSelection,\n      node = props.node,\n      pageId = props.pageId,\n      gridId = props.gridId;\n    var model = {\n      pageId: pageId,\n      key: gridId\n    };\n    invokeRowSelection && invokeRowSelection(node);\n    invokeControlMethodOnly && invokeControlMethodOnly(model, 'seqOperationClick', [operationName]);\n  };\n  (0, _react.useEffect)(function () {\n    var insertEle = insertDom.current;\n    var deleteEle = deleteDom.current;\n    insertEle && insertEle.addEventListener('click', function (e) {\n      return operateRow(e, insertentryOperation);\n    });\n    deleteEle && deleteEle.addEventListener('click', function (e) {\n      return operateRow(e, deleteentryOperation);\n    });\n    return function cleanup() {\n      insertEle && insertEle.removeEventListener('click', function (e) {\n        return operateRow(e, insertentryOperation);\n      });\n      deleteEle && deleteEle.removeEventListener('click', function (e) {\n        return operateRow(e, deleteentryOperation);\n      });\n    };\n  }, []);\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _CellClass[\"default\"]['operateIcon']\n  }, insertentryOperation && /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    ref: insertDom,\n    className: (0, _classnames2[\"default\"])(addIconClass, _CellClass[\"default\"]['addIcon'])\n  }), deleteentryOperation && /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    ref: deleteDom,\n    className: (0, _classnames2[\"default\"])(delIconClass, _CellClass[\"default\"]['deleteIcon'])\n  }));\n};\nvar SeqOpereateRenderer = exports[\"default\"] = (0, _AlphaFactory[\"default\"])(new SeqOpereateRender());\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/CellRenderer/SeqOpereateRenderer.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/CellRenderer/VoucherAmtRenderer.js":
/*!**********************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/CellRenderer/VoucherAmtRenderer.js ***!
  \**********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.string.replace.js */ \"../../node_modules/core-js/modules/es.string.replace.js\");\n__webpack_require__(/*! core-js/modules/esnext.string.replace-all.js */ \"../../node_modules/core-js/modules/esnext.string.replace-all.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _classnames2 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _AlphaFactory = _interopRequireDefault(__webpack_require__(/*! ./AlphaFactory.js */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/AlphaFactory.js\"));\nvar _serverproperties = __webpack_require__(/*! ../../../../../constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar formatUtil = _interopRequireWildcard(__webpack_require__(/*! ../../../../../util/formatUtil */ \"./src/util/formatUtil.js\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n// 显示不需处理，直接显示值的情况用此渲染器\nvar AmtRenderer = /*#__PURE__*/function () {\n  function AmtRenderer() {\n    _classCallCheck(this, AmtRenderer);\n  }\n  _createClass(AmtRenderer, [{\n    key: \"getRenderer\",\n    value: function getRenderer(args) {\n      var props = args.props,\n        rStyle = args.rStyle;\n      var type = props.type;\n      var r = props.value;\n      var isuf = props.isuf;\n      if (isuf === true) {\n        return r == null || r === '' ? '' : r;\n      }\n      var className = (0, _classnames2[\"default\"])(_defineProperty({}, args.containerClass, true));\n      var scale = props.editor[_serverproperties.SCALE];\n      var srcFieldInfo = props.getSrcFieldInfo(props);\n      if (srcFieldInfo) scale = srcFieldInfo.scale;\n\n      // let r = formatUtil.formatNumber(props.value, { zeroShow: props[ZERO_SHOW], decimalLength: scale, noDisplayDecimalTailZero: props[NO_DISPLAY_SCALE_ZERO] });\n      if (r == null || r === '' || r === 0) r = '';\n      r = '' + r;\n      // if ((r === 0) && !props[ZERO_SHOW]) r= 0;\n      var sty = Object.assign({}, args.containerStyle, {\n        width: '280px',\n        height: 'auto'\n      }); // width:'100%',height:'100%'\n      if (props.node.rowPinned) sty.color = '#EB743F';\n      // 不能带币别符if (srcFieldInfo && srcFieldInfo.showSymbol) r = srcFieldInfo.symbol + '' + r;\n      var strLe = r.length - 1;\n      var spoIdx = r.indexOf('.');\n      if (spoIdx >= 0) {\n        if (spoIdx < strLe - 2) {\n          r = r.substring(0, spoIdx + 3);\n        } else if (spoIdx > strLe - 2) {\n          r = r + '0';\n          if (strLe - spoIdx == 2) r = r + '0';\n        }\n      } else if (r !== '') {\n        r = r + '00';\n      }\n      r = r.replace('.', '');\n      // 开启凭证金额编辑，不展示千分位\n      r = r.replaceAll(',', '');\n      if (r.length > 14) {\n        r = r.substr(r.length - 14, 14);\n      }\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        style: sty\n      }, r);\n    }\n  }]);\n  return AmtRenderer;\n}();\nvar VoucherAmtRenderer = exports[\"default\"] = (0, _AlphaFactory[\"default\"])(new AmtRenderer());\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/CellRenderer/VoucherAmtRenderer.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/CellRenderer/baseCom.js":
/*!***********************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/CellRenderer/baseCom.js ***!
  \***********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-properties.js */ \"../../node_modules/core-js/modules/es.object.define-properties.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptors.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.OperationText = exports.OperationIcon = exports.OperationButton = exports.OperateSelect = exports.Image = exports.HLinkRendererCore = void 0;\nexports[\"default\"] = operationWrap;\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.find.js */ \"../../node_modules/core-js/modules/es.array.find.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.timers.js */ \"../../node_modules/core-js/modules/web.timers.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _reactDom = _interopRequireDefault(__webpack_require__(/*! react-dom */ \"webpack/sharing/consume/default/react-dom/react-dom?418d\"));\nvar _propTypes = _interopRequireDefault(__webpack_require__(/*! prop-types */ \"../../node_modules/prop-types/index.js\"));\nvar _classnames6 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _renderer = _interopRequireDefault(__webpack_require__(/*! ./renderer.less */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/renderer.less\"));\nvar _componentutil = __webpack_require__(/*! ../../../../../util/componentutil */ \"./src/util/componentutil.js\");\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _GridUtils = __webpack_require__(/*! ../GridUtils */ \"./src/component/web/DataGrid/AgDataGrid/GridUtils.js\");\nvar _keyCode = __webpack_require__(/*! @/constant/keyCode */ \"./src/constant/keyCode.js\");\nvar _excluded = [\"ctrlKey\", \"rowKey\", \"colId\", \"itemId\", \"optItemValue\", \"visible\", \"locked\", \"foreColor\", \"fontSize\"];\nvar _class, _class2, _class3, _class4;\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n/**\n * 超链接\n */\nvar HLinkRendererCore = exports.HLinkRendererCore = operationWrap(_class = /*#__PURE__*/function (_React$Component) {\n  _inherits(HLinkRendererCore, _React$Component);\n  function HLinkRendererCore() {\n    _classCallCheck(this, HLinkRendererCore);\n    return _callSuper(this, HLinkRendererCore, arguments);\n  }\n  _createClass(HLinkRendererCore, [{\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n      var _this$props = this.props,\n        value = _this$props.value,\n        className = _this$props.className,\n        hlinkPerfix = _this$props.hlinkPerfix,\n        gridContrlParams = _this$props.gridContrlParams;\n      if (typeof value === 'string') {\n        if (hlinkPerfix && hlinkPerfix !== '') {\n          var result = this.expectPrefix(value, hlinkPerfix);\n          if (result[0]) {\n            this.hasPerfix = true;\n            return /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n              ref: function ref(r) {\n                return _this.r = r;\n              }\n            }, result[1]);\n          } else {\n            var v = result[1] ? result[1] === ' ' ? (0, _GridUtils.showEmptyPH)('', gridContrlParams.gridEditable) : result[1] : (0, _GridUtils.showEmptyPH)('', gridContrlParams.gridEditable);\n            return /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n              ref: function ref(r) {\n                return _this.r = r;\n              },\n              className: className\n            }, v);\n          }\n        } else {\n          var _v = value ? value === ' ' ? (0, _GridUtils.showEmptyPH)('', gridContrlParams.gridEditable) : value : (0, _GridUtils.showEmptyPH)('', gridContrlParams.gridEditable);\n          return /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n            ref: function ref(r) {\n              return _this.r = r;\n            },\n            className: className\n          }, _v);\n        }\n      } else {\n        return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n          ref: function ref(r) {\n            return _this.r = r;\n          },\n          className: \"link-color \".concat(_renderer[\"default\"].hlinkContainer, \" grid-hyper-link\")\n        }, value);\n      }\n    }\n  }, {\n    key: \"formatValue\",\n    value: function formatValue(value) {\n      if (value) {\n        if (value === ' ') {\n          return '';\n        }\n      } else {\n        return '';\n      }\n    }\n  }, {\n    key: \"expectPrefix\",\n    value: function expectPrefix(value, prefix) {\n      var prefixIndex = value.indexOf(prefix);\n      var result = [];\n      if (prefixIndex === 0) {\n        result.push(true);\n        result.push(value.slice(prefix.length));\n      } else {\n        result.push(false);\n        result.push(value);\n      }\n      return result;\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // this.r赋值先于修饰器didmount走\n      if (this.props.registerOperation && !this.hasPerfix) {\n        var _this$props2 = this.props,\n          column = _this$props2.column,\n          node = _this$props2.node,\n          rk = _this$props2.rk,\n          getMergeCurGpHeadRowkey = _this$props2.getMergeCurGpHeadRowkey,\n          entity = _this$props2.entity;\n        if (node && node.data) {\n          var rowKey = getMergeCurGpHeadRowkey(node.data[rk], entity);\n          var args = [column.colId, rowKey];\n          this.props.registerOperation({\n            DomObj: this.r,\n            operationName: 'hyperLinkClick',\n            args: args,\n            eventType: 'click'\n          });\n        }\n      }\n    }\n  }]);\n  return HLinkRendererCore;\n}(_react[\"default\"].Component)) || _class;\n/**\n* 操作绑定事件公共方法\n* @param {*} that 组件的this\n*/\nfunction bindRegisterOperationEvent(that) {\n  var _that$props = that.props,\n    registerOperation = _that$props.registerOperation,\n    locked = _that$props.locked,\n    pid = _that$props.pid,\n    gridId = _that$props.gridId,\n    itemId = _that$props.itemId,\n    operationKey = _that$props.operationKey;\n  if (registerOperation && locked !== true) {\n    var model = {\n      pageId: pid,\n      key: gridId\n    };\n    registerOperation({\n      DomObj: that.r,\n      operationName: 'itemClick',\n      model: model,\n      args: [itemId, operationKey],\n      eventType: 'click'\n    });\n  }\n}\n\n/**\n* 操作按钮\n*/\nvar OperationButton = exports.OperationButton = operationWrap(_class2 = /*#__PURE__*/function (_React$Component2) {\n  _inherits(OperationButton, _React$Component2);\n  function OperationButton() {\n    _classCallCheck(this, OperationButton);\n    return _callSuper(this, OperationButton, arguments);\n  }\n  _createClass(OperationButton, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      var _this$props3 = this.props,\n        value = _this$props3.value,\n        className = _this$props3.className;\n      return /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n        ref: function ref(r) {\n          _this2.r = r;\n        },\n        className: className\n      }, value || '');\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      bindRegisterOperationEvent(this);\n      // if (this.props.registerOperation && this.props.locked !== true) {\n      // \tlet model = {\n      // \t\tpageId: this.props.pid,\n      // \t\tkey: this.props.gridId,\n      // \t\t//key: this.props.colDef.field,\n      // \t}\n      // \tthis.props.registerOperation({ DomObj: this.r, operationName: 'itemClick', model, args: [this.props.itemId, this.props.operationKey], eventType: 'click' });\n      // }\n    }\n  }]);\n  return OperationButton;\n}(_react[\"default\"].Component)) || _class2;\nOperationButton.propTypes = {\n  oprName: _propTypes[\"default\"].string,\n  // tips显示内容\n  operate: _propTypes[\"default\"].string // 操作标识\n};\n\n/**\n* 操作文字\n*/\nvar OperationText = exports.OperationText = operationWrap(_class3 = /*#__PURE__*/function (_React$Component3) {\n  _inherits(OperationText, _React$Component3);\n  function OperationText() {\n    _classCallCheck(this, OperationText);\n    return _callSuper(this, OperationText, arguments);\n  }\n  _createClass(OperationText, [{\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n      var _this$props4 = this.props,\n        operationName = _this$props4.operationName,\n        className = _this$props4.className,\n        style = _this$props4.style;\n      return /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n        style: style,\n        ref: function ref(r) {\n          _this3.r = r;\n        },\n        className: className\n      }, operationName || '');\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      bindRegisterOperationEvent(this);\n      // if (this.props.registerOperation && this.props.locked !== true) {\n      // \tlet model = {\n      // \t\tpageId: this.props.pid,\n      // \t\tkey: this.props.gridId,\n      // \t\t//key: this.props.colDef.field,\n      // \t}\n      // \t// let args = [this.props.column.colId, this.props.node.data ? this.props.node.data[this.props.rk] : '']\n      // \tthis.props.registerOperation({ DomObj: this.r, operationName: 'itemClick', model, args: [this.props.itemId, this.props.operationKey], eventType: 'click' });\n      // }\n    }\n  }]);\n  return OperationText;\n}(_react[\"default\"].Component)) || _class3;\nOperationText.propTypes = {\n  operationName: _propTypes[\"default\"].string,\n  // tips显示内容\n  operationKey: _propTypes[\"default\"].string,\n  // 操作标识\n  locked: _propTypes[\"default\"].bool // 是否可用，默认false\n};\n\n/**\n* 操作图标\n*/\nvar OperationIcon = exports.OperationIcon = operationWrap(_class4 = /*#__PURE__*/function (_React$Component4) {\n  _inherits(OperationIcon, _React$Component4);\n  function OperationIcon() {\n    _classCallCheck(this, OperationIcon);\n    return _callSuper(this, OperationIcon, arguments);\n  }\n  _createClass(OperationIcon, [{\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n      var _this$props5 = this.props,\n        className = _this$props5.className,\n        operationName = _this$props5.operationName,\n        iconUrl = _this$props5.iconUrl,\n        style = _this$props5.style;\n      var navClass = (0, _classnames6[\"default\"])(_defineProperty(_defineProperty({}, className, className), iconUrl, iconUrl));\n      return /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n        style: style,\n        className: navClass,\n        ref: function ref(r) {\n          return _this4.r = r;\n        },\n        title: !this.props.locked ? operationName : null\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      bindRegisterOperationEvent(this);\n      // if (this.props.registerOperation && this.props.locked !== true) {\n      // \tlet operationKey = this.props.operationKey;\n      // \tlet model = {\n      // \t\tpageId: this.props.pid,\n      // \t\tkey: this.props.gridId,\n      // \t\t//key: this.props.colDef.field,\n      // \t}\n      // \tthis.props.registerOperation({ DomObj: this.r, operationName: 'itemClick', model, args: [this.props.itemId, this.props.operationKey], eventType: 'click' });\n      // }\n    }\n  }]);\n  return OperationIcon;\n}(_react[\"default\"].Component)) || _class4;\nOperationIcon.propTypes = {\n  iconUrl: _propTypes[\"default\"].string,\n  // 图标样式名\n  className: _propTypes[\"default\"].string,\n  // 样式名\n  operationName: _propTypes[\"default\"].string,\n  // tips显示内容\n  operationKey: _propTypes[\"default\"].string,\n  // 操作标识\n  locked: _propTypes[\"default\"].bool // 是否可用，默认false\n};\n\n/**\n* 获得数据的可见性和锁定性\n* @param {*} optItemValue\n* @param {*} locked\n* @param {*} visible\n* @returns {*} dataList[locked,visible]\n*/\nvar getDataProps = function getDataProps(optItemValue, locked, visible, fontSize, foreColor) {\n  var dataList = [locked, visible, fontSize, foreColor];\n  if (optItemValue.length > 0) {\n    var valItem = optItemValue[0];\n    typeof valItem.locked !== 'undefined' && (dataList[0] = valItem.locked); // 数据锁定\n    typeof valItem.visible !== 'undefined' && (dataList[1] = valItem.visible); // 数据可见\n    typeof valItem.fontSize !== 'undefined' && (dataList[2] = valItem.fontSize); // 字体大小\n    typeof valItem.foreColor !== 'undefined' && (dataList[3] = valItem.foreColor); // 字体颜色\n  }\n  return dataList;\n};\nvar OperateSelect = exports.OperateSelect = /*#__PURE__*/function (_React$Component5) {\n  _inherits(OperateSelect, _React$Component5);\n  function OperateSelect(props) {\n    var _this5;\n    _classCallCheck(this, OperateSelect);\n    _this5 = _callSuper(this, OperateSelect, [props]);\n    _this5.setIconRef = function (element) {\n      _this5.icon = element;\n    };\n    _this5.state = {\n      showPanel: false\n    };\n    _this5.renderMainItem = _this5.renderMainItem.bind(_assertThisInitialized(_this5));\n    _this5.iconClick = _this5.iconClick.bind(_assertThisInitialized(_this5));\n    _this5.closePanel = _this5.closePanel.bind(_assertThisInitialized(_this5));\n    _this5.keyDownHandler = _this5.keyDownHandler.bind(_assertThisInitialized(_this5));\n    _this5.documentClickHandle = _this5.documentClickHandle.bind(_assertThisInitialized(_this5));\n    _this5.scrollHandler = _lodash[\"default\"].debounce(_this5.documentClickHandle, 300, {\n      leading: true,\n      trailing: true\n    });\n    _this5.getVisible = _this5.getVisible.bind(_assertThisInitialized(_this5));\n    _this5.getVisibleItems = _this5.getVisibleItems.bind(_assertThisInitialized(_this5));\n    _this5.panelRef = /*#__PURE__*/_react[\"default\"].createRef();\n    return _this5;\n  }\n  _createClass(OperateSelect, [{\n    key: \"renderMainItem\",\n    value: function renderMainItem(item) {\n      var props = this.props;\n      var showStyle = item.showStyle,\n        text = item.text,\n        opk = item.opk,\n        id = item.id,\n        iconUrl = item.iconUrl,\n        locked = item.locked,\n        visible = item.visible,\n        fontSize = item.fontSize,\n        foreColor = item.foreColor;\n      var localeId = props.localeId;\n      var className = '';\n      var OperationNode = null;\n      var optValue = props.optValue;\n      var optItemValue = optValue.filter(function (v) {\n        return v.opk === opk;\n      });\n      var dataList = getDataProps(optItemValue, locked, visible, fontSize, foreColor);\n      locked = dataList[0];\n      visible = dataList[1];\n      fontSize = dataList[2];\n      foreColor = dataList[3];\n      if (showStyle == '1') {\n        OperationNode = OperationIcon;\n        className = (0, _classnames6[\"default\"])(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty({}, props.styles.operationIcon, true), props.styles['operation-item-enable'], !locked), props.styles['operation-item-disable'], locked), 'link-color', !locked), 'disabled-fc', locked));\n      } else if (showStyle == '0') {\n        OperationNode = OperationText;\n        className = (0, _classnames6[\"default\"])(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty({}, props.styles.operationText, true), props.styles['operation-item-enable'], !locked), props.styles['operation-item-disable'], locked), 'link-color', !locked), 'disabled-fc', locked));\n      }\n      return OperationNode && /*#__PURE__*/_react[\"default\"].createElement(OperationNode, _extends({}, props, {\n        optItemValue: optItemValue.length > 0 ? optItemValue[0] : {},\n        visible: visible,\n        locked: locked,\n        className: className,\n        iconUrl: iconUrl,\n        operationName: text && text[localeId],\n        itemId: id,\n        operationKey: opk,\n        fontSize: fontSize,\n        foreColor: foreColor\n      }));\n    }\n  }, {\n    key: \"iconClick\",\n    value: function iconClick(e) {\n      var _this6 = this;\n      if (e.target !== this.icon) return;\n      var selected = this.props.node && this.props.node.selected;\n      // 行选中时点击下拉箭头不允许反选\n      if (selected) {\n        e.stopPropagation();\n      }\n      var showPanel = this.state.showPanel;\n      if (!showPanel) {\n        // 异步处理，防止第一次点击事件冒泡到document触发点击事件回调\n        setTimeout(function () {\n          document.addEventListener('click', _this6.documentClickHandle, true);\n          document.addEventListener('scroll', _this6.scrollHandler, true);\n          document.addEventListener('keydown', _this6.keyDownHandler, true);\n        }, 0);\n      }\n      this.setState({\n        showPanel: !showPanel\n      });\n    }\n  }, {\n    key: \"documentClickHandle\",\n    value: function documentClickHandle(e) {\n      var _this$panelRef$curren;\n      if ((_this$panelRef$curren = this.panelRef.current) !== null && _this$panelRef$curren !== void 0 && _this$panelRef$curren.contains(e.target) || e.target === this.icon) {\n        return;\n      }\n      this.closePanel();\n    }\n  }, {\n    key: \"closePanel\",\n    value: function closePanel() {\n      document.removeEventListener('click', this.documentClickHandle, true);\n      document.removeEventListener('scroll', this.scrollHandler, true);\n      document.removeEventListener('keydown', this.keyDownHandler, true);\n      var showPanel = this.state.showPanel;\n      if (showPanel) {\n        this.setState({\n          showPanel: false\n        });\n      }\n    }\n  }, {\n    key: \"keyDownHandler\",\n    value: function keyDownHandler(e) {\n      switch (e.keyCode) {\n        case _keyCode.KEYS.ESC:\n          if (!this.state.showPanel) return;\n          e.stopPropagation();\n          this.closePanel();\n          break;\n        default:\n          break;\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.container.addEventListener('click', this.iconClick);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.container.removeEventListener('click', this.iconClick);\n      this.container = null;\n      document.removeEventListener('click', this.documentClickHandle);\n    }\n  }, {\n    key: \"getVisible\",\n    value:\n    // 获取子项的可见性\n    function getVisible(item) {\n      var visible = true;\n      var _this$props6 = this.props,\n        items = _this$props6.items,\n        optValue = _this$props6.optValue;\n      var dataVis = optValue.find(function (t) {\n        if (t.opk === item.opk) {\n          return true;\n        }\n      });\n      if (dataVis) {\n        visible = dataVis.visible;\n        typeof visible === 'undefined' && (visible = item.visible); // 数据未设置可见性则使用元数据可见性\n        return visible;\n      }\n      var metaVis = items.find(function (i) {\n        if (i.opk === item.opk) {\n          return true;\n        }\n      });\n      if (metaVis) {\n        visible = metaVis.visible;\n        return visible;\n      }\n      return visible;\n    }\n  }, {\n    key: \"getVisibleItems\",\n    value: function getVisibleItems() {\n      var _this7 = this;\n      var items = this.props.items;\n      var activeItems = items.filter(function (item) {\n        if (_this7.getVisible(item)) {\n          return true;\n        }\n      });\n      return activeItems;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this8 = this;\n      var activeItems = this.getVisibleItems();\n      var mainItem = activeItems.length > 0 ? activeItems[0] : null;\n      var showPanel = this.state.showPanel;\n      var expandIcon = (0, _classnames6[\"default\"])({\n        'kdfont kdfont-xiala': !showPanel,\n        'kdfont kdfont-shangla': showPanel,\n        'link-color': true\n      });\n      var iconShow = activeItems.length > 1;\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        ref: function ref(r) {\n          return _this8.container = r;\n        },\n        className: this.props.styles.operateContainer\n      }, mainItem && this.renderMainItem(mainItem), iconShow ? /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n        ref: this.setIconRef,\n        className: expandIcon,\n        style: {\n          cursor: 'pointer'\n        }\n      }) : null, showPanel && /*#__PURE__*/_react[\"default\"].createElement(PanelPop, _extends({\n        parentNode: this.container,\n        ref: this.panelRef,\n        activeItems: activeItems,\n        closePanel: this.closePanel\n      }, this.props)));\n    }\n  }]);\n  return OperateSelect;\n}(_react[\"default\"].Component);\nvar PanelPop = /*#__PURE__*/_react[\"default\"].forwardRef(function (props, popRef) {\n  var _useState = (0, _react.useState)(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    popStyle = _useState2[0],\n    setPopStyle = _useState2[1];\n  (0, _react.useEffect)(function () {\n    var parentNode = props.parentNode;\n    var calcStyle = (0, _componentutil.adaptivePopupWindow)(parentNode, popRef.current, 14);\n    setPopStyle(calcStyle);\n  }, []);\n  var renderItem = function renderItem(item) {\n    var showStyle = item.showStyle,\n      text = item.text,\n      opk = item.opk,\n      id = item.id,\n      iconUrl = item.iconUrl,\n      locked = item.locked,\n      visible = item.visible,\n      fontSize = item.fontSize,\n      foreColor = item.foreColor;\n    var localeId = props.localeId,\n      closePanel = props.closePanel,\n      styles = props.styles;\n    var OperationNode = null;\n    var className = '';\n    var optValue = props.optValue;\n    var optItemValue = optValue.filter(function (v) {\n      return v.opk === opk;\n    });\n    var dataList = getDataProps(optItemValue, locked, visible, fontSize, foreColor);\n    locked = dataList[0];\n    visible = dataList[1];\n    fontSize = dataList[2];\n    foreColor = dataList[3];\n    if (showStyle == '1') {\n      OperationNode = OperationIcon;\n      className = (0, _classnames6[\"default\"])(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty({}, styles.operateItem, true), styles['operation-item-enable'], !locked), styles['operation-item-disable'], locked), 'secondary-text-in-light', !locked), 'disabled-fc', locked), 'kd-hover-bgcolor', !locked));\n    } else if (showStyle == '0') {\n      OperationNode = OperationText;\n      className = (0, _classnames6[\"default\"])('kd-cq-dropdown-menu-item', _defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty({}, styles.operateItem, true), styles['operation-item-enable'], !locked), styles['operation-item-disable'], locked), 'secondary-text-in-light', !locked), 'disabled-fc', locked), 'kd-hover-bgcolor', !locked));\n    }\n    return OperationNode && /*#__PURE__*/_react[\"default\"].createElement(OperationNode, _extends({}, props, {\n      optItemValue: optItemValue.length > 0 ? optItemValue[0] : {},\n      key: id,\n      visible: visible,\n      locked: locked,\n      className: className,\n      iconUrl: iconUrl,\n      operationName: text && (text[localeId] || text.zh_CN),\n      closePanel: closePanel,\n      suppressClickRow: true,\n      itemId: id,\n      operationKey: opk,\n      fontSiaaze: fontSize,\n      foreColor: foreColor\n    }));\n  };\n  var activeItems = props.activeItems,\n    styles = props.styles;\n  return /*#__PURE__*/_reactDom[\"default\"].createPortal( /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    style: popStyle,\n    ref: popRef,\n    className: (0, _classnames6[\"default\"])(styles.operatePanel, 'kd-cq-dropdown', 'kd-cq-dropdown-select-type')\n  }, activeItems.map(function (item, index) {\n    return index > 0 ? renderItem(item) : null;\n  })), document.body);\n});\n\n/**\n* 操作列修饰器\n*/\nfunction operationWrap(WrapComponent) {\n  return /*#__PURE__*/function (_React$Component6) {\n    _inherits(OperationRenderer, _React$Component6);\n    function OperationRenderer(props) {\n      var _this9;\n      _classCallCheck(this, OperationRenderer);\n      _this9 = _callSuper(this, OperationRenderer, [props]);\n      // 所有注册的操作\n      _this9.genarateHandler = function (operationName, modle, args) {\n        return function (e) {\n          _this9.invokeOperation(e, operationName, modle, args);\n        };\n      };\n      _this9.operationHandler = [];\n      _this9.registerOperation = _this9.registerOperation.bind(_assertThisInitialized(_this9));\n      _this9.unregisterOperation = _this9.unregisterOperation.bind(_assertThisInitialized(_this9));\n      return _this9;\n    }\n\n    /**\n    * 注册操作监听\n    * @param {*} operates { DomObj:监听的DOM对象, operationName:触发的后台指令名, model:{pageId,key=gridId}(可选), args:发往后台的参数(缺省：[]), eventType:监听的事件，如click等, }\n    */\n    _createClass(OperationRenderer, [{\n      key: \"registerOperation\",\n      value: function registerOperation(operates) {\n        var DomObj = operates.DomObj,\n          operationName = operates.operationName,\n          eventType = operates.eventType,\n          model = operates.model,\n          args = operates.args;\n        var handler = this.genarateHandler(operationName, model, args);\n        if (this.operationHandler === undefined) debugger;\n        this.operationHandler.push(_objectSpread({\n          handler: handler\n        }, operates));\n        DomObj.addEventListener(eventType, handler, true);\n      }\n\n      /**\n      * 注销操作监听\n      * @param {*} operates { DomObj, operationName, eventType, unregisterAll=false }\n      */\n    }, {\n      key: \"unregisterOperation\",\n      value: function unregisterOperation(operates) {\n        var DomObj = operates.DomObj,\n          operationName = operates.operationName,\n          eventType = operates.eventType,\n          unregisterAll = operates.unregisterAll;\n        // dom对象还持留在handler内\n        this.operationHandler.forEach(function (e) {\n          if (e.DomObj === DomObj) {\n            if (unregisterAll === true) {\n              DomObj.removeEventListener(e.eventType, e.handler, true);\n            } else {\n              if (e.operationName === operationName && e.eventType === eventType) {\n                DomObj.removeEventListener(e.eventType, e.handler, true);\n              }\n            }\n          }\n        });\n      }\n    }, {\n      key: \"invokeOperation\",\n      value: function invokeOperation(e, operationName, model, args) {\n        var prp = this.props;\n        var closePanel = prp.closePanel,\n          _prp$suppressClickRow = prp.suppressClickRow,\n          suppressClickRow = _prp$suppressClickRow === void 0 ? false : _prp$suppressClickRow; // 下拉项点击不发行选择指令\n        if (prp.node.data === undefined) return;\n        if (!prp.isCombinedItem) {\n          prp.api.setFocusedCell(prp.node.rowIndex, prp.column.colId, null);\n        }\n        prp.selectByGroup({\n          data: prp.node.data,\n          node: prp.node\n        }, true, true, function () {\n          if (!prp.gridContrlParams.suppressEntryRowClickSelect) {\n            prp.node.setSelected(true);\n          }\n          if (!suppressClickRow) {\n            // 不走融合发送行数据，则手动触发\n            prp.invokeRowSelection(prp.node);\n          }\n        });\n\n        // prp.invokeRowSelection(prp.node);\n        e.stopPropagation();\n        // let model = {};\n        model = model || {\n          pageId: prp.pid,\n          key: prp.gridId\n        };\n        args = args || [];\n        prp.invokeControlMethodOnly(model, operationName, args);\n        if (suppressClickRow) {\n          closePanel();\n        }\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this$props7 = this.props,\n          ctrlKey = _this$props7.ctrlKey,\n          rowKey = _this$props7.rowKey,\n          colId = _this$props7.colId,\n          itemId = _this$props7.itemId,\n          _this$props7$optItemV = _this$props7.optItemValue,\n          optItemValue = _this$props7$optItemV === void 0 ? {} : _this$props7$optItemV,\n          _this$props7$visible = _this$props7.visible,\n          visible = _this$props7$visible === void 0 ? true : _this$props7$visible,\n          locked = _this$props7.locked,\n          foreColor = _this$props7.foreColor,\n          fontSize = _this$props7.fontSize,\n          others = _objectWithoutProperties(_this$props7, _excluded);\n        var show = visible;\n        if (optItemValue.visible !== undefined) {\n          show = optItemValue.visible;\n        }\n        var style = {\n          color: locked === true ? '' : foreColor,\n          fontSize: fontSize\n        };\n        return show ? /*#__PURE__*/_react[\"default\"].createElement(WrapComponent, _extends({\n          ref: this.getRef,\n          registerOperation: this.registerOperation,\n          unregisterOperation: this.unregisterOperation,\n          itemId: itemId,\n          locked: locked,\n          style: style\n        }, others)) : null;\n      }\n    }, {\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        //\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        // 此处先于被修饰组件走\n        this.operationHandler.forEach(function (e) {\n          var DomObj = e.DomObj,\n            operationName = e.operationName,\n            eventType = e.eventType,\n            handler = e.handler;\n          DomObj.removeEventListener(eventType, handler, true);\n        });\n        this.operationHandler = null; //\n      }\n    }]);\n    return OperationRenderer;\n  }(_react[\"default\"].Component);\n}\nvar Image = exports.Image = /*#__PURE__*/function (_React$Component7) {\n  _inherits(Image, _React$Component7);\n  function Image(props) {\n    var _this10;\n    _classCallCheck(this, Image);\n    _this10 = _callSuper(this, Image, [props]);\n    _this10.handleMouseOut = function () {\n      if (_this10.showPreviewTimerId) {\n        clearTimeout(_this10.showPreviewTimerId);\n      }\n      if (!_this10.state.showPreview) return;\n      _this10.clearPreviewTimerId = setTimeout(function () {\n        _this10.setState({\n          showPreview: false\n        });\n      }, 100);\n    };\n    _this10.handleMouseOver = function () {\n      var _this10$props$showPre = _this10.props.showPreviewProp,\n        showPreviewProp = _this10$props$showPre === void 0 ? true : _this10$props$showPre;\n      if (_this10.clearPreviewTimerId) {\n        clearTimeout(_this10.clearPreviewTimerId);\n      }\n      if (_this10.state.showPreview || !showPreviewProp) return;\n      _this10.computedPosition();\n      _this10.showPreviewTimerId = setTimeout(function () {\n        _this10.setState({\n          showPreview: true\n        });\n      }, 500);\n    };\n    _this10.computedPosition = function () {\n      var position = _this10.dom.getBoundingClientRect();\n      var imgStyle = {};\n      var left = position.left,\n        top = position.top,\n        right = position.right,\n        bottom = position.bottom,\n        width = position.width,\n        height = position.height;\n      var clientHeight = document.documentElement.clientHeight;\n      var clientWidth = document.documentElement.clientWidth;\n      if (clientHeight - top - height > 200) {\n        if (clientWidth - left - width > 200) {\n          imgStyle = {\n            top: top + height,\n            left: left + width\n          };\n        } else {\n          imgStyle = {\n            top: top + height,\n            right: clientWidth - right + width\n          };\n        }\n      } else {\n        if (clientWidth - left - width > 200) {\n          imgStyle = {\n            bottom: clientHeight - bottom + height,\n            left: left + width\n          };\n        } else {\n          imgStyle = {\n            bottom: clientHeight - bottom + height,\n            right: clientWidth - right + width\n          };\n        }\n      }\n      _this10.imgPosition = imgStyle;\n    };\n    _this10.imageClick = _this10.imageClick.bind(_assertThisInitialized(_this10));\n    _this10.state = {\n      showPreview: false\n    };\n    return _this10;\n  }\n  _createClass(Image, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.dom.addEventListener('click', this.imageClick);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.dom.removeEventListener('click', this.imageClick);\n    }\n  }, {\n    key: \"imageClick\",\n    value: function imageClick(e) {\n      var _this$props$args = this.props.args,\n        invokeRowSelection = _this$props$args.invokeRowSelection,\n        node = _this$props$args.node,\n        btnClick = _this$props$args.btnClick,\n        pid = _this$props$args.pid,\n        gridId = _this$props$args.gridId,\n        colDef = _this$props$args.colDef,\n        editor = _this$props$args.editor;\n      var model = {\n        pageId: pid,\n        entryKey: gridId,\n        key: colDef.field\n      };\n      invokeRowSelection(node);\n      if (editor.clickable !== false) {\n        // clickable为false时不发请求\n        btnClick(model);\n      }\n      e.stopPropagation();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this11 = this;\n      var showPreview = this.state.showPreview;\n      var _this$props8 = this.props,\n        style = _this$props8.style,\n        src = _this$props8.src,\n        img = _this$props8.img,\n        previewSrc = _this$props8.previewSrc;\n      var el = /*#__PURE__*/_react[\"default\"].createElement(\"img\", {\n        style: this.imgPosition,\n        className: _renderer[\"default\"]['preview-img'],\n        \"data-image-src\": previewSrc || src,\n        onMouseOver: this.handleMouseOver,\n        onMouseOut: this.handleMouseOut\n      });\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", null, /*#__PURE__*/_react[\"default\"].createElement(\"img\", {\n        ref: function ref(_ref) {\n          return _this11.dom = _ref;\n        },\n        \"data-image-src\": src,\n        alt: ' ',\n        style: style,\n        onMouseOver: this.handleMouseOver,\n        onMouseOut: this.handleMouseOut\n      }), showPreview ? ( /*#__PURE__*/_reactDom[\"default\"].createPortal(el, document.body)) : null);\n    }\n  }]);\n  return Image;\n}(_react[\"default\"].Component);\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/CellRenderer/baseCom.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/CellRenderer/index.js":
/*!*********************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/CellRenderer/index.js ***!
  \*********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nObject.defineProperty(exports, \"AttachmentFieldRenderer\", ({\n  enumerable: true,\n  get: function get() {\n    return _AttachmentFieldRenderer[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"BDCellRenderer\", ({\n  enumerable: true,\n  get: function get() {\n    return _BDRenderer[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"CascaderRenderer\", ({\n  enumerable: true,\n  get: function get() {\n    return _CascaderRenderer[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"ChkboxCellRenderer\", ({\n  enumerable: true,\n  get: function get() {\n    return _CheckboxRenderer[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"ComCellRenderer\", ({\n  enumerable: true,\n  get: function get() {\n    return _CommonRenderer[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"CombinedCellRenderer\", ({\n  enumerable: true,\n  get: function get() {\n    return _CombinedCellRenderer[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"ContainerRenderer\", ({\n  enumerable: true,\n  get: function get() {\n    return _ContainerRenderer[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"CustomLightRender\", ({\n  enumerable: true,\n  get: function get() {\n    return _CustomRender.CustomLightRender;\n  }\n}));\nObject.defineProperty(exports, \"FlexfieldRenderer\", ({\n  enumerable: true,\n  get: function get() {\n    return _FlexfieldRenderer[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"HlinkRenderer\", ({\n  enumerable: true,\n  get: function get() {\n    return _HlinkRenderer[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"ImageRenderer\", ({\n  enumerable: true,\n  get: function get() {\n    return _ImageRenderer[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"LightRender\", ({\n  enumerable: true,\n  get: function get() {\n    return _LightRender.LightRender;\n  }\n}));\nObject.defineProperty(exports, \"ListCheckBoxRenderer\", ({\n  enumerable: true,\n  get: function get() {\n    return _ListCheckBoxRenderer[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"MulHLinkRenderer\", ({\n  enumerable: true,\n  get: function get() {\n    return _MulHLinkRenderer[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"MulLangRenderer\", ({\n  enumerable: true,\n  get: function get() {\n    return _MulLangRenderer[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"OperationCellRenderer\", ({\n  enumerable: true,\n  get: function get() {\n    return _OperationCellRenderer[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"PwdCellRenderer\", ({\n  enumerable: true,\n  get: function get() {\n    return _PasswordRenderer[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"SelectColRenderer\", ({\n  enumerable: true,\n  get: function get() {\n    return _SelectColRenderer[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"SelectRenderer\", ({\n  enumerable: true,\n  get: function get() {\n    return _SelectRenderer[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"SeqOpereateRenderer\", ({\n  enumerable: true,\n  get: function get() {\n    return _SeqOpereateRenderer[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"VoucherAmtRenderer\", ({\n  enumerable: true,\n  get: function get() {\n    return _VoucherAmtRenderer[\"default\"];\n  }\n}));\nexports.cellRendererRelations = void 0;\nexports.getCellDisplayValueByRender = getCellDisplayValueByRender;\nexports.isComCellRender = void 0;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\nvar _serverproperties = __webpack_require__(/*! ../../../../../constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _GridUtils = __webpack_require__(/*! ../GridUtils */ \"./src/component/web/DataGrid/AgDataGrid/GridUtils.js\");\nvar _BDRenderer = _interopRequireWildcard(__webpack_require__(/*! ./BDRenderer */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/BDRenderer.js\"));\nvar _MulLangRenderer = _interopRequireWildcard(__webpack_require__(/*! ./MulLangRenderer */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/MulLangRenderer.js\"));\nvar _SelectRenderer = _interopRequireWildcard(__webpack_require__(/*! ./SelectRenderer */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/SelectRenderer.js\"));\nvar _FlexfieldRenderer = _interopRequireWildcard(__webpack_require__(/*! ./FlexfieldRenderer */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/FlexfieldRenderer.js\"));\nvar _CommonRenderer = _interopRequireWildcard(__webpack_require__(/*! ./CommonRenderer */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/CommonRenderer.js\"));\nvar _MulHLinkRenderer = _interopRequireWildcard(__webpack_require__(/*! ./MulHLinkRenderer */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/MulHLinkRenderer.js\"));\nvar _LightRender = __webpack_require__(/*! ./LightRender.js */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/LightRender.js\");\nvar _CheckboxRenderer = _interopRequireDefault(__webpack_require__(/*! ./CheckboxRenderer */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/CheckboxRenderer.js\"));\nvar _ListCheckBoxRenderer = _interopRequireDefault(__webpack_require__(/*! ./ListCheckBoxRenderer */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/ListCheckBoxRenderer.js\"));\nvar _ImageRenderer = _interopRequireDefault(__webpack_require__(/*! ./ImageRenderer.js */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/ImageRenderer.js\"));\nvar _VoucherAmtRenderer = _interopRequireDefault(__webpack_require__(/*! ./VoucherAmtRenderer */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/VoucherAmtRenderer.js\"));\nvar _CombinedCellRenderer = _interopRequireDefault(__webpack_require__(/*! ./CombinedCellRenderer */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/CombinedCellRenderer.js\"));\nvar _HlinkRenderer = _interopRequireDefault(__webpack_require__(/*! ./HlinkRenderer */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/HlinkRenderer.js\"));\nvar _PasswordRenderer = _interopRequireDefault(__webpack_require__(/*! ./PasswordRenderer */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/PasswordRenderer.js\"));\nvar _OperationCellRenderer = _interopRequireDefault(__webpack_require__(/*! ./OperationCellRenderer */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/OperationCellRenderer.js\"));\nvar _ContainerRenderer = _interopRequireDefault(__webpack_require__(/*! ./ContainerRenderer/ContainerRenderer */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/ContainerRenderer/ContainerRenderer.js\"));\nvar _SelectColRenderer = _interopRequireDefault(__webpack_require__(/*! ./SelectColRenderer */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/SelectColRenderer.js\"));\nvar _AttachmentFieldRenderer = _interopRequireDefault(__webpack_require__(/*! ./AttachmentFieldRenderer */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/AttachmentFieldRenderer.js\"));\nvar _SeqOpereateRenderer = _interopRequireDefault(__webpack_require__(/*! ./SeqOpereateRenderer */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/SeqOpereateRenderer.js\"));\nvar _CascaderRenderer = _interopRequireDefault(__webpack_require__(/*! ./CascaderRenderer */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/CascaderRenderer.js\"));\nvar _CustomRender = __webpack_require__(/*! ./CustomRender */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/CustomRender/index.js\");\nvar _cellRendererRelation;\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar cellRendererRelations = exports.cellRendererRelations = (_cellRendererRelation = {\n  voucherAmount: 'VoucherAmtRenderer'\n}, _defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_cellRendererRelation, _serverproperties.Ctrls.KDBaseData, 'BDCellRenderer'), _serverproperties.Ctrls.KDMulBaseData, 'BDCellRenderer'), _serverproperties.Ctrls.KDOrg, 'BDCellRenderer'), _serverproperties.Ctrls.KDUser, 'BDCellRenderer'), _serverproperties.Ctrls.KDSelect, 'SelectRenderer'), _serverproperties.Ctrls.KDMulSelect, 'SelectRenderer'), _serverproperties.Ctrls.KDCheckbox, 'ChkboxCellRenderer'), _serverproperties.Ctrls.KDText, 'ComCellRenderer'), _serverproperties.Ctrls.KDDate, 'ComCellRenderer'), _serverproperties.Ctrls.KDDateRange, 'ComCellRenderer'), _defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_cellRendererRelation, _serverproperties.Ctrls.KDDateTime, 'ComCellRenderer'), _serverproperties.Ctrls.KDTime, 'ComCellRenderer'), _serverproperties.Ctrls.KDTimeRange, 'ComCellRenderer'), _serverproperties.Ctrls.KDNumber, 'ComCellRenderer'), _serverproperties.Ctrls.KDTextArea, 'ComCellRenderer'), _serverproperties.Ctrls.KDLTextArea, 'ComCellRenderer'), _serverproperties.Ctrls.KDFlexField, 'FlexfieldRenderer'), _serverproperties.Ctrls.KDCity, 'ComCellRenderer'), _serverproperties.Ctrls.KDMulLangText, 'MulLangRenderer'), _serverproperties.Ctrls.KDPic, 'ImageRenderer'), _defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_cellRendererRelation, _serverproperties.Ctrls.KDPasswordBox, 'PwdCellRenderer'), \"operate\", 'OperationCellRenderer'), \"combinedField\", 'CombinedCellRenderer'), _serverproperties.Ctrls.KDMulHLink, 'MulHLinkRenderer'), \"attachmentfield\", 'AttachmentFieldRenderer'), \"container\", 'ContainerRenderer'), _serverproperties.Ctrls.KDTelephone, 'ComCellRenderer'), _serverproperties.Ctrls.KDEmail, 'ComCellRenderer'), _serverproperties.Ctrls.KDStepper, 'ComCellRenderer'), _serverproperties.Ctrls.KDAdminDivision, 'ComCellRenderer'), _defineProperty(_defineProperty(_cellRendererRelation, _serverproperties.Ctrls.KDAddress, 'ComCellRenderer'), \"other\", 'ComCellRenderer'));\nvar isComCellRender = exports.isComCellRender = function isComCellRender(type) {\n  return [_serverproperties.Ctrls.KDText, _serverproperties.Ctrls.KDDate, _serverproperties.Ctrls.KDDateRange, _serverproperties.Ctrls.KDDateTime, _serverproperties.Ctrls.KDTime, _serverproperties.Ctrls.KDTimeRange, _serverproperties.Ctrls.KDNumber, _serverproperties.Ctrls.KDTextArea, _serverproperties.Ctrls.KDLTextArea, _serverproperties.Ctrls.KDCity, _serverproperties.Ctrls.KDTelephone, _serverproperties.Ctrls.KDEmail, _serverproperties.Ctrls.KDStepper, _serverproperties.Ctrls.KDAddress, 'other'].includes(type);\n};\nfunction getCellDisplayValueByRender(renderParams, value, rowData) {\n  var type = renderParams.type;\n  var args = {\n    props: renderParams,\n    rowData: rowData\n  };\n  args.props.value = value;\n  switch (true) {\n    case (0, _GridUtils.isBaseData)(type):\n      return new _BDRenderer.BDRenderer().getRenderer(args);\n    case type === _serverproperties.Ctrls.KDSelect:\n    case type === _serverproperties.Ctrls.KDMulSelect:\n      return new _SelectRenderer.SlctRenderer().getRendererDisplayValue(args);\n    case type === _serverproperties.Ctrls.KDMulLangText:\n      return new _MulLangRenderer.MulLgRenderer().getRendererDisplayValue(args);\n    case type === _serverproperties.Ctrls.KDFlexField:\n      return new _FlexfieldRenderer.FlexRenderer().getRendererDisplayValue(args);\n    case type === _serverproperties.Ctrls.KDMulHLink:\n      return new _MulHLinkRenderer.MulHLink().getRendererDisplayValue(args);\n    case isComCellRender(type):\n      return new _CommonRenderer.CommonRenderer().getRendererDisplayValue(args);\n    default:\n      return value;\n  }\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/CellRenderer/index.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/CellRenderer/util.js":
/*!********************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/CellRenderer/util.js ***!
  \********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.getCellMergeInfo = getCellMergeInfo;\nexports.getCellRenderArgs = getCellRenderArgs;\nexports.getDynamicColLocked = getDynamicColLocked;\nexports.getIsOddRow = void 0;\nexports.getRowRealHeight = getRowRealHeight;\nexports.getRunTimeEditable = getRunTimeEditable;\nexports.getShouldLineWrap = getShouldLineWrap;\nexports.getShouldPreWrap = getShouldPreWrap;\nexports.handleToggleColumnPrivacyText = void 0;\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.splice.js */ \"../../node_modules/core-js/modules/es.array.splice.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _gridConst = __webpack_require__(/*! @/constant/gridConst.js */ \"./src/constant/gridConst.js\");\nvar _serverproperties = __webpack_require__(/*! @/constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _params = __webpack_require__(/*! @/component/web/DataGrid/TableHelper/util/params */ \"./src/component/web/DataGrid/TableHelper/util/params.js\");\nfunction getCellMergeInfo(currentGroup, getGridThisProp, setGridThisProp, node, entity, rowKeyVal, gridOptions, api, isVerticalAlignTop) {\n  var mergeCache = getGridThisProp(_gridConst.MERGE_CACHE) || {};\n  var mergeRowCache = mergeCache[node.rowIndex + '$_$' + entity];\n\n  // 缓存里面有则直接取合计行高度\n  // 缓存里面没有则通过行数去计算，高度要减一，避免遮住上方边框线\n  var height = mergeRowCache && mergeRowCache.height ? mergeRowCache.height : -1;\n  // 暂时采用一层层向上盖处理，后面优化渲染器之后再用其他方式处理\n  var zIndex = mergeRowCache && mergeRowCache.zIndex ? mergeRowCache.zIndex : 1;\n  if (!mergeRowCache) {\n    if (isVerticalAlignTop) {\n      // 居上模式，任意行高都是确定的\n      height += currentGroup.length * getRowRealHeight(gridOptions.rowHeight, rowKeyVal, api);\n    } else {\n      currentGroup.forEach(function (rk, index) {\n        // 后续也可以修改成，融合的行数*任意行高度?\n        if (rk < rowKeyVal) {\n          height += getRowRealHeight(gridOptions.rowHeight, rk, api);\n        } else if (rk === rowKeyVal) {\n          height += getRowRealHeight(gridOptions.rowHeight, rk, api);\n          zIndex = index;\n        }\n      });\n      var maxHeight = getGridThisProp(_gridConst.VIEWPORT_SIZE) && getGridThisProp(_gridConst.VIEWPORT_SIZE).height ? getGridThisProp(_gridConst.VIEWPORT_SIZE).height : 0;\n      height = maxHeight > 40 && height > maxHeight ? maxHeight : height;\n    }\n    setMergeRowCache(mergeCache, node, entity, height, zIndex, setGridThisProp);\n  }\n  return {\n    height: height,\n    zIndex: zIndex\n  };\n}\nfunction setMergeRowCache(mergeCache, node, entity, height, zIndex, setGridThisProp) {\n  mergeCache[node.rowIndex + '$_$' + entity] = {\n    height: height,\n    zIndex: zIndex\n  };\n  setGridThisProp(_gridConst.MERGE_CACHE, mergeCache);\n}\nvar getIsOddRow = exports.getIsOddRow = function getIsOddRow(mergeModel, rowKey) {\n  var mergedRowLength = (mergeModel.getMergeRowKey() || []).filter(function (i) {\n    return i <= rowKey;\n  }).length;\n  var rowKeyAfterMerge = rowKey - mergedRowLength;\n  return rowKeyAfterMerge % 2 === 1;\n};\nfunction getRowRealHeight(defaultRowHeight, rk, api) {\n  var rowHeight = defaultRowHeight;\n  var node = api.getRowNode(rk); // 在初次渲染时，AgGridCore中的onGridReady还未被回调。。不能用getNodeByRowKey\n  if (node && node.alreadyRendered) {\n    // node.rowHeight可能会取到错误值，怀疑跟异步有关，比如27=>48\n    rowHeight = node.rowHeight;\n  }\n  return rowHeight;\n}\nfunction getDynamicColLocked(props, rowData, colId) {\n  var needEditable = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n  var isCellLocked = props.isCellLocked,\n    pid = props.pid,\n    gridId = props.gridId,\n    rk = props.rk,\n    isPrivacy = props.isPrivacy,\n    realEditable = props.realEditable; // TODO: 传入的props需强调定义成如此\n  // 判断单元格锁定性时是否要忽略可编辑性\n  var _realEditable = needEditable ? realEditable : true;\n  return rowData === undefined ? true : isCellLocked(pid, gridId, rowData[rk], colId, isPrivacy, _realEditable);\n}\nfunction getRunTimeEditable(dynamicColLocked, colDefEditable) {\n  return !dynamicColLocked && colDefEditable;\n}\n\n/**\n *\n * @param {*} props\n * @param {*} lockParams 锁定性和编辑性相关参数\n * @param {*} param2 样式相关参数\n * @param {*} param3 回调函数相关参数\n */\nfunction getCellRenderArgs(props, lockParams, styleParams, cbParams, renderRef) {\n  var _ref = lockParams || {},\n    runtimeEditable = _ref.runtimeEditable,\n    dynamicColLocked = _ref.dynamicColLocked;\n  var _ref2 = styleParams || {},\n    rStyle = _ref2.rStyle,\n    colStyle = _ref2.colStyle,\n    containerClass = _ref2.containerClass;\n  var _ref3 = cbParams || {},\n    setCellTitle = _ref3.setCellTitle;\n  return {\n    props: props,\n    renderRef: renderRef,\n    editable: runtimeEditable,\n    cellLocked: props.colLocked || dynamicColLocked,\n    rStyle: rStyle,\n    colStyle: colStyle,\n    // cellStyle: cellStyle, //不传下去\n    containerStyle: Object.assign({}, {\n      paddingRight: '0px'\n    }, props.containerStyle),\n    containerClass: containerClass,\n    // 将对齐样式传到renderer\n    setCellTitle: setCellTitle // 自定义title\n  };\n}\n\n/**\n * 判断是否需要换行\n */\nfunction getShouldLineWrap(_ref4) {\n  var colType = _ref4.colType,\n    editor = _ref4.editor,\n    autoHeight = _ref4.autoHeight,\n    rowPinned = _ref4.rowPinned,\n    lineWrap = _ref4.lineWrap;\n  if (rowPinned) return false; // 合计行不换行\n  if (lineWrap || autoHeight) return true; // react组件使用/原生组件\n  if ([_serverproperties.Ctrls.KDTextArea, _serverproperties.Ctrls.KDLTextArea, _serverproperties.Ctrls.KDAddress].includes(colType)) return true;\n  if (colType === _serverproperties.Ctrls.KDMulLangText && editor.multiLine) return true;\n}\n\n/**\n * 判断是否需要保留换行符号\n */\nfunction getShouldPreWrap(_ref5) {\n  var colType = _ref5.colType,\n    editor = _ref5.editor,\n    autoHeight = _ref5.autoHeight,\n    rowPinned = _ref5.rowPinned;\n  if (rowPinned) return false; // 合计行不保留\n  if ([_serverproperties.Ctrls.KDTextArea, _serverproperties.Ctrls.KDLTextArea, _serverproperties.Ctrls.KDAddress].includes(colType)) return true;\n  if (colType === _serverproperties.Ctrls.KDMulLangText && (editor.multiLine || autoHeight)) return true; // 多语言在列表没有多行属性，先兼容自适应的情况\n}\nvar handleToggleColumnPrivacyText = exports.handleToggleColumnPrivacyText = function handleToggleColumnPrivacyText(e, params) {\n  var pid = params.pid,\n    gridId = params.gridId,\n    colId = params.colId,\n    invokeControlMethodSingle = params.invokeControlMethodSingle,\n    rk = params.rk,\n    data = params.data,\n    gridContrlParams = params.gridContrlParams,\n    getGridMetaProperty = params.getGridMetaProperty;\n  var r = data[rk];\n  var isListView = gridContrlParams.isListView,\n    isVirtualView = gridContrlParams.isVirtualView;\n  var args = [];\n  if (isListView || isVirtualView) {\n    args.splice(0, 0, r, colId, (0, _params.getRecordPrimaryKeys)(data, getGridMetaProperty('entryentities')));\n  } else {\n    args.push(r);\n  }\n  invokeControlMethodSingle({\n    pageId: pid,\n    key: isListView || isVirtualView ? gridId : colId\n  }, 'getPlainText', args);\n  e.stopPropagation();\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/CellRenderer/util.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/FilterRenderer/EntryDateFilterRenderer.js":
/*!*****************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/FilterRenderer/EntryDateFilterRenderer.js ***!
  \*****************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _FilterRenderer = _interopRequireDefault(__webpack_require__(/*! ./FilterRenderer */ \"./src/component/web/DataGrid/AgDataGrid/FilterRenderer/FilterRenderer.js\"));\nvar _EntryFilterFactory = _interopRequireDefault(__webpack_require__(/*! ./EntryFilterFactory */ \"./src/component/web/DataGrid/AgDataGrid/FilterRenderer/EntryFilterFactory.js\"));\nvar _DatePicker = _interopRequireDefault(__webpack_require__(/*! ../../../base/DatePicker */ \"./src/component/web/base/DatePicker.jsx\"));\nvar _DateRangeField = _interopRequireDefault(__webpack_require__(/*! ../../../baseField/DateRangeField */ \"./src/component/web/baseField/DateRangeField.jsx\"));\nvar _intlApi = __webpack_require__(/*! ../../../../../i18n/intlApi */ \"./src/i18n/intlApi.js\");\nvar _componentutil = __webpack_require__(/*! @/util/componentutil */ \"./src/util/componentutil.js\");\nvar _FilterBaseItem = __webpack_require__(/*! ./FilterBaseItem */ \"./src/component/web/DataGrid/AgDataGrid/FilterRenderer/FilterBaseItem.js\");\nvar _serverproperties = __webpack_require__(/*! ../../../../../constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _moment = _interopRequireDefault(__webpack_require__(/*! moment */ \"../../node_modules/moment/moment.js\"));\nvar _excluded = [\"getFilterFunction\", \"filterModel\"],\n  _excluded2 = [\"typeChanged\", \"value\", \"handleChange\"];\nvar _class;\n/**\n * 日期列过滤器\n */\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction getFilterTypes() {\n  return [{\n    id: 'today',\n    name: (0, _intlApi.getLangMsg)('grid.key0031')\n  }, {\n    id: 'thisWeek',\n    name: (0, _intlApi.getLangMsg)('grid.key0032')\n  }, {\n    id: 'thisMonth',\n    name: (0, _intlApi.getLangMsg)('grid.key0033')\n  }, {\n    id: 'lastMonth',\n    name: (0, _intlApi.getLangMsg)('grid.key0034')\n  }, {\n    id: 'lastThreeMonth',\n    name: (0, _intlApi.getLangMsg)('grid.key0035')\n  }, {\n    id: 'fromTo',\n    name: (0, _intlApi.getLangMsg)('grid.key0036')\n  }, {\n    id: 'equals',\n    name: (0, _intlApi.getLangMsg)('grid.key0008')\n  }];\n}\nvar DateFilterRenderer = (0, _EntryFilterFactory[\"default\"])(_class = /*#__PURE__*/function (_React$Component) {\n  _inherits(DateFilterRenderer, _React$Component);\n  function DateFilterRenderer(_props) {\n    var _this;\n    _classCallCheck(this, DateFilterRenderer);\n    _this = _callSuper(this, DateFilterRenderer, [_props]);\n    _this.renderSearchBox = function () {\n      var editor = _this.props.editor || {};\n      return function (props) {\n        var handleChange = props.handleChange,\n          filter = props.filter,\n          handleFocus = props.handleFocus,\n          inputTextClass = props.inputTextClass,\n          onKeyDownHandle = props.onKeyDownHandle,\n          type = props.type,\n          localeId = props.localeId;\n        var _type = type[0];\n        var dom = null;\n        if (_type === 'fromTo') {\n          var inputProps = {\n            style: {\n              padding: 0,\n              backgroundColor: '#FAFAFA'\n            }\n          };\n          var dateRangeType = editor.type;\n          dom = /*#__PURE__*/_react[\"default\"].createElement(\"div\", null, /*#__PURE__*/_react[\"default\"].createElement(_DateRangeField[\"default\"], {\n            style: {\n              padding: '0 16px 0 6px',\n              width: dateRangeType === 'datetime' ? 375 : 204,\n              lineHeight: 'inherit'\n            },\n            inputProps: inputProps,\n            iconStyle: {\n              right: 6\n            },\n            clearIconStyle: {\n              right: 6\n            },\n            isAttachToBody: false,\n            value: filter,\n            mask: editor[_serverproperties.MASK],\n            displayFormat: editor[_serverproperties.DISPLAY_FORMAT],\n            type: \"daterange\",\n            showTime: dateRangeType === 'datetime',\n            onChange: function onChange(date) {\n              return handleChange({\n                isValue: true,\n                value: date\n              });\n            },\n            onKeyDown: onKeyDownHandle,\n            className: inputTextClass,\n            minDate: editor[_serverproperties.MIN_VALUE],\n            maxDate: editor[_serverproperties.MAX_VALUE],\n            linkage: editor[_serverproperties.LINKAGE],\n            localeCode: localeId\n          }));\n        } else if (_type === 'equals') {\n          dom = /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n            className: inputTextClass,\n            style: {\n              padding: '0',\n              display: 'flex',\n              lineHeight: 'inherit'\n            }\n          }, /*#__PURE__*/_react[\"default\"].createElement(_DatePicker[\"default\"], {\n            style: {\n              padding: '0 36px 0 6px',\n              backgroundColor: '#FAFAFA'\n            },\n            inputStyle: {\n              padding: 0\n            },\n            iconStyle: {\n              right: 6\n            },\n            clearIconStyle: {\n              right: 6\n            },\n            isAttachToBody: false,\n            calendarLocale: localeId,\n            valueLocale: (0, _componentutil.getRootLocale)(),\n            value: filter,\n            mask: editor[_serverproperties.MASK],\n            displayFormat: editor[_serverproperties.DISPLAY_FORMAT],\n            today: editor[_serverproperties.TODAY],\n            timeZone: editor[_serverproperties.TIME_ZONE],\n            type: editor.type,\n            onChange: function onChange(date) {\n              return handleChange({\n                isValue: true,\n                value: date\n              });\n            },\n            onKeyDown: onKeyDownHandle\n            // getPopupPanel={(ele) => this.getExpandDom(ele)}\n            ,\n            onFocus: function onFocus(e) {\n              return handleFocus();\n            }\n          }));\n        }\n        return dom;\n      };\n    };\n    _this.handlePublishFilterRequest = function () {\n      var _this$props = _this.props,\n        publishFilterRequest = _this$props.publishFilterRequest,\n        setCheckFilter = _this$props.setCheckFilter;\n      setCheckFilter(false);\n      publishFilterRequest();\n    };\n    _this.compareRule = _this.compareRule.bind(_assertThisInitialized(_this));\n    _this.filterFunction = _this.filterFunction.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  _createClass(DateFilterRenderer, [{\n    key: \"compareRule\",\n    value: function compareRule(filter, type, target) {\n      var _type = type[0];\n      if (target === null || !_type) {\n        return false;\n      }\n      switch (_type) {\n        case 'today':\n          return (0, _moment[\"default\"])(target).isSame((0, _moment[\"default\"])(), 'day');\n        case 'thisWeek':\n          return (0, _moment[\"default\"])(target).isSame((0, _moment[\"default\"])(), 'week');\n        case 'thisMonth':\n          return (0, _moment[\"default\"])(target).isSame((0, _moment[\"default\"])(), 'month');\n        case 'lastMonth':\n          return (0, _moment[\"default\"])(target).isSame((0, _moment[\"default\"])().add(-1, 'month'), 'month');\n        case 'lastThreeMonth':\n          return (0, _moment[\"default\"])(target).isBetween((0, _moment[\"default\"])().add(-3, 'month'), (0, _moment[\"default\"])(), null, '[]');\n        case 'fromTo':\n          {\n            var _filter$split = filter.split(','),\n              _filter$split2 = _slicedToArray(_filter$split, 2),\n              start = _filter$split2[0],\n              end = _filter$split2[1];\n            return (0, _moment[\"default\"])(target).isBetween(start, end, null, '[]');\n          }\n        case 'equals':\n          return (0, _moment[\"default\"])(target).isSame(filter);\n        default:\n          console.warn('invalid filter type ' + _type);\n          return false;\n      }\n    }\n  }, {\n    key: \"filterFunction\",\n    value: function filterFunction(valueGetter, type, filter, params) {\n      var target = valueGetter(params.node);\n      return this.compareRule(filter, type, target);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.getFilterFunction(this.filterFunction);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n        getFilterFunction = _this$props2.getFilterFunction,\n        filterModel = _this$props2.filterModel,\n        other = _objectWithoutProperties(_this$props2, _excluded);\n      var _filterModel = filterModel.type.length === 0 ? Object.assign(filterModel, {\n        type: ['today']\n      }) : Object.assign({}, filterModel);\n      var filterTypes = getFilterTypes();\n      var defaultType = [filterTypes[0].id];\n      return /*#__PURE__*/_react[\"default\"].createElement(_FilterRenderer[\"default\"], _extends({}, other, {\n        option: MyOption,\n        filterTypes: filterTypes,\n        defaultType: defaultType,\n        searchBox: this.renderSearchBox(),\n        filterModel: _filterModel,\n        publishFilterRequest: this.handlePublishFilterRequest\n      }));\n    }\n  }]);\n  return DateFilterRenderer;\n}(_react[\"default\"].Component)) || _class;\nfunction MyOption(props) {\n  var typeChanged = props.typeChanged,\n    value = props.value,\n    handleChange = props.handleChange,\n    other = _objectWithoutProperties(props, _excluded2);\n  // 每次点击切换时需要清空filter值，不然由日期切换到日期范围会出错\n  var _typeChanged = function _typeChanged(type) {\n    handleChange({\n      isValue: true,\n      value: value || ''\n    });\n    typeChanged(type);\n  };\n  return /*#__PURE__*/_react[\"default\"].createElement(_FilterBaseItem.Option, _extends({\n    typeChanged: _typeChanged\n  }, other));\n}\nvar _default = exports[\"default\"] = DateFilterRenderer;\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/FilterRenderer/EntryDateFilterRenderer.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/FilterRenderer/EntryFilterFactory.js":
/*!************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/FilterRenderer/EntryFilterFactory.js ***!
  \************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); } /**\n * 列过滤器工厂\n * by kechuang\n */\nvar EntryFilterFactory = function EntryFilterFactory(FilterRender) {\n  return /*#__PURE__*/function (_React$Component) {\n    _inherits(Filter, _React$Component);\n    function Filter(props) {\n      var _this;\n      _classCallCheck(this, Filter);\n      _this = _callSuper(this, Filter, [props]);\n      _this.hideFilterPopup = function () {\n        _this.hidePopup && _this.hidePopup();\n      };\n      // 调用ag过滤\n      _this.publishFilterRequest = function () {\n        _this.setActiveType();\n        _this.invokeFiliterChange();\n      };\n      _this.resetAll = function () {\n        _this.setActiveType(true);\n        _this.setCheckFilter(true);\n        _this.invokeFiliterChange();\n      };\n      _this.invokeFiliterChange = function () {\n        var colId = _this.props.colDef.colId;\n        _this.props.recordEntryEntityFilterStatus({\n          isActive: _this.isFilterActive(),\n          colId: colId\n        });\n        _this.props.filterChangedCallback();\n        _this.hideFilterPopup();\n      };\n      // 1.确认的时候修改这个type\n      // 2.清空的时候删除这个type\n      // 用来确定当前激活的过滤条件，有就说明需要过滤，有输入框的则同时判断输入框的值\n      // 目前只有一个过滤条件id 直接取第一个 有多个再来修改\n      _this.setActiveType = function (isClear) {\n        _this.activeType = isClear ? '' : _this.filterModel.type;\n      };\n      _this.setCheckFilter = function (isCheckFilter) {\n        _this.isCheckFilter = isCheckFilter;\n      };\n      _this.filterModel = {\n        filter: '',\n        type: []\n      };\n      _this.activeType = null; // 当前确定激活的条件id\n      _this.isCheckFilter = true;\n      _this.clearInputFunction = null;\n      _this.filterFunction = null;\n      _this.setInputFocus = null;\n      _this.getFilterFunction = _this.getFilterFunction.bind(_assertThisInitialized(_this));\n      _this.handleFilterChange = _this.handleFilterChange.bind(_assertThisInitialized(_this));\n      _this.handleTypeChange = _this.handleTypeChange.bind(_assertThisInitialized(_this));\n      _this.getInputFocusFun = _this.getInputFocusFun.bind(_assertThisInitialized(_this));\n      _this.clearInput = _this.clearInput.bind(_assertThisInitialized(_this));\n      _this.getClearInputFun = _this.getClearInputFun.bind(_assertThisInitialized(_this));\n      return _this;\n    }\n\n    // 表头上是否显示过滤图标，aggrid调用\n    _createClass(Filter, [{\n      key: \"isFilterActive\",\n      value: function isFilterActive() {\n        var filter = this.filterModel.filter;\n        return this.isCheckFilter ? filter !== null && filter !== undefined && filter !== '' : this.activeType && this.activeType.length > 0; // 下拉、复选框、文本为空/不为空用activeType去判断是否存在过滤条件\n      }\n\n      // 过滤比较算法函数\n    }, {\n      key: \"doesFilterPass\",\n      value: function doesFilterPass(params) {\n        var _this$filterModel = this.filterModel,\n          type = _this$filterModel.type,\n          filter = _this$filterModel.filter;\n        var valueGetter = this.props.valueGetter;\n        if (!this.isFilterActive()) return true;\n        return this.filterFunction && this.filterFunction(valueGetter, type, filter, params);\n      }\n\n      // Gets the filter state for storing\n      // custom filter format {value :}\n    }, {\n      key: \"getModel\",\n      value: function getModel() {\n        var filter = this.filterModel.filter;\n        return {\n          value: filter\n        };\n      }\n    }, {\n      key: \"setModel\",\n      value: function setModel(model) {\n        if (model) {\n          this.filterModel.filter = model.value;\n        }\n      }\n    }, {\n      key: \"afterGuiAttached\",\n      value: function afterGuiAttached(param) {\n        this.hidePopup = param.hidePopup;\n        this.setInputFocus && this.setInputFocus();\n      }\n    }, {\n      key: \"getFilterFunction\",\n      value: function getFilterFunction(func) {\n        this.filterFunction = func;\n      }\n    }, {\n      key: \"getInputFocusFun\",\n      value: function getInputFocusFun(fun) {\n        this.setInputFocus = fun;\n      }\n    }, {\n      key: \"handleFilterChange\",\n      value: function handleFilterChange(value) {\n        var filter = this.filterModel.filter;\n        if (value !== filter) {\n          this.filterModel.filter = value;\n        }\n      }\n    }, {\n      key: \"handleTypeChange\",\n      value: function handleTypeChange(value) {\n        this.filterModel.type = value;\n      }\n    }, {\n      key: \"getClearInputFun\",\n      value: function getClearInputFun(func) {\n        this.clearInputFunction = func;\n      }\n\n      // 清空过滤条件的输入框\n    }, {\n      key: \"clearInput\",\n      value: function clearInput() {\n        this.clearInputFunction && this.clearInputFunction();\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        this.clearInputFunction = null;\n        this.filterFunction = null;\n        this.setInputFocus = null;\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        return /*#__PURE__*/_react[\"default\"].createElement(FilterRender, {\n          getFilterFunction: this.getFilterFunction,\n          handleFilterChange: this.handleFilterChange,\n          handleTypeChange: this.handleTypeChange,\n          publishFilterRequest: this.publishFilterRequest,\n          resetAll: this.resetAll,\n          hideFilterPopup: this.hideFilterPopup,\n          filterModel: this.filterModel,\n          colDef: this.props.colDef,\n          getInputFocusFun: this.getInputFocusFun,\n          getClearInputFun: this.getClearInputFun,\n          getGridDataByFilter: this.getGridDataByFilter,\n          clearInput: this.clearInput,\n          isEntryFilter: true,\n          editor: this.props.editor,\n          localeId: this.props.localeId,\n          defaultLocalId: this.props.defaultLocalId,\n          getColProperty: this.props.getColProperty,\n          setCheckFilter: this.setCheckFilter\n        });\n      }\n    }]);\n    return Filter;\n  }(_react[\"default\"].Component);\n};\nvar _default = exports[\"default\"] = EntryFilterFactory;\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/FilterRenderer/EntryFilterFactory.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/FilterRenderer/EntryNumberFilterRenderer.js":
/*!*******************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/FilterRenderer/EntryNumberFilterRenderer.js ***!
  \*******************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.find-index.js */ \"../../node_modules/core-js/modules/es.array.find-index.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _classnames = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _FilterRenderer = _interopRequireDefault(__webpack_require__(/*! ./FilterRenderer */ \"./src/component/web/DataGrid/AgDataGrid/FilterRenderer/FilterRenderer.js\"));\nvar _EntryFilterFactory = _interopRequireDefault(__webpack_require__(/*! ./EntryFilterFactory */ \"./src/component/web/DataGrid/AgDataGrid/FilterRenderer/EntryFilterFactory.js\"));\nvar _intlApi = __webpack_require__(/*! ../../../../../i18n/intlApi */ \"./src/i18n/intlApi.js\");\nvar _BaseComponents = __webpack_require__(/*! ../../../base/BaseComponents */ \"./src/component/web/base/BaseComponents/index.js\");\nvar _serverproperties = __webpack_require__(/*! ../../../../../constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _const = __webpack_require__(/*! ../../../../../constant/const */ \"./src/constant/const.js\");\nvar _big = _interopRequireDefault(__webpack_require__(/*! big.js */ \"../../node_modules/big.js/big.js\"));\nvar _excluded = [\"getFilterFunction\", \"filterModel\"];\nvar _class;\n/**\n * 数字列的过滤器\n * by kechuang\n */\n/**\n * 文本过滤器\n * by kechuang\n */\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n// 还有一个inRange没支持\nfunction getFilterTypes() {\n  return [{\n    id: 'equals',\n    name: (0, _intlApi.getLangMsg)('grid.key0008')\n  }, {\n    id: 'notEqual',\n    name: (0, _intlApi.getLangMsg)('grid.key0009')\n  }, {\n    id: 'lessThan',\n    name: (0, _intlApi.getLangMsg)('grid.key0012')\n  }, {\n    id: 'lessThanOrEqual',\n    name: (0, _intlApi.getLangMsg)('grid.key0013')\n  }, {\n    id: 'greaterThan',\n    name: (0, _intlApi.getLangMsg)('grid.key0014')\n  }, {\n    id: 'greaterThanOrEqual',\n    name: (0, _intlApi.getLangMsg)('grid.key0015')\n  }];\n}\nvar NumberFilterRenderer = exports[\"default\"] = (0, _EntryFilterFactory[\"default\"])(_class = /*#__PURE__*/function (_React$Component) {\n  _inherits(NumberFilterRenderer, _React$Component);\n  function NumberFilterRenderer(_props) {\n    var _this;\n    _classCallCheck(this, NumberFilterRenderer);\n    _this = _callSuper(this, NumberFilterRenderer, [_props]);\n    _this.renderSearchBox = function () {\n      var editor = _this.props.editor || {};\n      return function (props) {\n        var placeholder = props.placeholder,\n          handleChange = props.handleChange,\n          filter = props.filter,\n          handleFocus = props.handleFocus,\n          inputTextClass = props.inputTextClass,\n          onKeyDownHandle = props.onKeyDownHandle;\n        //digitLength: 整个数字的最大长度(长整数长度:18) 后端不肯传，那就和过滤面板一样写死\n        //decimalLength: 小数精度长度(精度为0即当作整数处理)\n        var decimalLength = editor[_serverproperties.SCALE] || 0;\n        var digitLength = editor[_serverproperties.PRECISION] ? editor[_serverproperties.PRECISION] : _const.DEFAULT_DIGIT_LENGTH + decimalLength;\n        return /*#__PURE__*/_react[\"default\"].createElement(_BaseComponents.Number, {\n          className: (0, _classnames[\"default\"])(inputTextClass, 'kd-dropdown-menu-input'),\n          boxStyle: {\n            flexGrow: 1\n          } // 宽度自适应撑开\n          ,\n          value: filter,\n          onChange: function onChange(e) {\n            var value = e.target.value;\n            if (value == '' || value == '.') value = '';\n            return handleChange({\n              isValue: true,\n              value: value\n            });\n          },\n          onKeyDown: onKeyDownHandle,\n          onFocus: function onFocus(e) {\n            return handleFocus();\n          },\n          decimalLength: decimalLength,\n          placeholder: placeholder,\n          digitLength: digitLength,\n          zeroShow: editor[_serverproperties.ZERO_SHOW],\n          noDisplayDecimalTailZero: editor[_serverproperties.NO_DISPLAY_SCALE_ZERO],\n          mask: editor[_serverproperties.MASK],\n          min: editor[_serverproperties.MIN_VALUE],\n          max: editor[_serverproperties.MAX_VALUE],\n          minMark: editor[_serverproperties.MIN_MARK],\n          maxMark: editor[_serverproperties.MAX_MARK],\n          defaultFocus: true\n        });\n      };\n    };\n    _this.compareRule = _this.compareRule.bind(_assertThisInitialized(_this));\n    _this.filterFunction = _this.filterFunction.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  _createClass(NumberFilterRenderer, [{\n    key: \"compareRule\",\n    value: function compareRule(filter, type, target) {\n      var _type = type[0];\n      if (target === null || !_type) {\n        return false;\n      }\n      if (filter === '' || filter === undefined) {\n        filter = new _big[\"default\"](0);\n      } else {\n        filter = new _big[\"default\"](filter);\n      }\n      if (target === '' || target === undefined) {\n        target = new _big[\"default\"](0);\n      } else {\n        target = new _big[\"default\"](target);\n      }\n      switch (_type) {\n        case 'equals':\n          return target.eq(filter);\n        case 'notEqual':\n          return !target.eq(filter);\n        case 'lessThan':\n          return target.lt(filter);\n        case 'lessThanOrEqual':\n          return target.lte(filter);\n        case 'greaterThan':\n          return target.gt(filter);\n        case 'greaterThanOrEqual':\n          return target.gte(filter);\n        default:\n          console.warn('invalid filter type ' + _type);\n          return false;\n      }\n    }\n  }, {\n    key: \"findInOptions\",\n    value: function findInOptions(opts, value) {\n      if (value == null) return null;\n      var fidex = _.findIndex(opts, function (opt) {\n        return value.toString().toLowerCase() === opt[0].toString().toLowerCase();\n      });\n      return fidex >= 0 ? opts[fidex] : null;\n    }\n  }, {\n    key: \"filterFunction\",\n    value: function filterFunction(valueGetter, type, filter, params) {\n      return this.compareRule(filter, type, valueGetter(params.node));\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.getFilterFunction(this.filterFunction);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n        getFilterFunction = _this$props.getFilterFunction,\n        filterModel = _this$props.filterModel,\n        other = _objectWithoutProperties(_this$props, _excluded);\n      var _filterModel = filterModel.type.length === 0 ? Object.assign(filterModel, {\n        type: ['equals']\n      }) : Object.assign({}, filterModel);\n      var filterTypes = getFilterTypes();\n      var defaultType = [filterTypes[0]['id']];\n      return /*#__PURE__*/_react[\"default\"].createElement(_FilterRenderer[\"default\"], _extends({\n        filterTypes: filterTypes,\n        defaultType: defaultType,\n        searchBox: this.renderSearchBox(),\n        filterModel: _filterModel\n      }, other));\n    }\n  }]);\n  return NumberFilterRenderer;\n}(_react[\"default\"].Component)) || _class;\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/FilterRenderer/EntryNumberFilterRenderer.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/FilterRenderer/EntrySelectFilterRenderer/OptionWithCheckbox.js":
/*!**************************************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/FilterRenderer/EntrySelectFilterRenderer/OptionWithCheckbox.js ***!
  \**************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _classnames = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _FilterRender = _interopRequireDefault(__webpack_require__(/*! ../FilterRender.less */ \"./src/component/web/DataGrid/AgDataGrid/FilterRenderer/FilterRender.less\"));\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nvar OptionWithCheckbox = function OptionWithCheckbox(_ref) {\n  var type = _ref.type,\n    name = _ref.name,\n    activeType = _ref.activeType,\n    typeChanged = _ref.typeChanged,\n    handleChange = _ref.handleChange,\n    isSelectAllOption = _ref.isSelectAllOption,\n    isSelectAll = _ref.isSelectAll;\n  var handleClick = function handleClick() {\n    if (isSelectAllOption) {\n      // 处理全选(至于为什么叫handleChange)\n      handleChange();\n    } else {\n      typeChanged(type, true);\n    }\n  };\n  var isActive = _lodash[\"default\"].isArray(activeType) && activeType.includes(type) || isSelectAllOption && isSelectAll;\n  var className = (0, _classnames[\"default\"])(_FilterRender[\"default\"].option, 'kd-cq-dropdown-menu-item', {\n    'kd-hover': !isActive\n  });\n  var checkboxClassName = (0, _classnames[\"default\"])('kdfont', {\n    'kdfont-fuxuankuangxuanzhong_fang': isActive,\n    'kdfont-fuxuankuangweixuanzhong_fang': !isActive,\n    'theme-fc': isActive\n  });\n  var contentText = type === '' ? \"(\".concat((0, _intlApi.getLangMsg)('grid.key0023'), \")\") : name;\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: className,\n    onClick: handleClick\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: checkboxClassName,\n    style: {\n      fontSize: '12px',\n      marginLeft: '2px'\n    }\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"input\", {\n    type: \"checkbox\",\n    value: type,\n    checked: isActive,\n    readOnly: true,\n    style: {\n      display: 'none'\n    }\n  })), /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: _FilterRender[\"default\"].checkboxContent,\n    title: contentText\n  }, contentText));\n};\nvar _default = exports[\"default\"] = OptionWithCheckbox;\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/FilterRenderer/EntrySelectFilterRenderer/OptionWithCheckbox.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/FilterRenderer/EntrySelectFilterRenderer/index.js":
/*!*************************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/FilterRenderer/EntrySelectFilterRenderer/index.js ***!
  \*************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.every.js */ \"../../node_modules/core-js/modules/es.array.every.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.array.some.js */ \"../../node_modules/core-js/modules/es.array.some.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _FilterRenderer = _interopRequireDefault(__webpack_require__(/*! ../FilterRenderer */ \"./src/component/web/DataGrid/AgDataGrid/FilterRenderer/FilterRenderer.js\"));\nvar _serverproperties = __webpack_require__(/*! @/constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _OptionWithCheckbox = _interopRequireDefault(__webpack_require__(/*! ./OptionWithCheckbox */ \"./src/component/web/DataGrid/AgDataGrid/FilterRenderer/EntrySelectFilterRenderer/OptionWithCheckbox.js\"));\nvar _EntryFilterFactory = _interopRequireDefault(__webpack_require__(/*! ../EntryFilterFactory */ \"./src/component/web/DataGrid/AgDataGrid/FilterRenderer/EntryFilterFactory.js\"));\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nvar EntrySelectFilterRender = function EntrySelectFilterRender(props) {\n  var _useState = (0, _react.useState)(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    isSelectAll = _useState2[0],\n    setIsSelectAll = _useState2[1];\n  var getSelectOptions = function getSelectOptions() {\n    var colDef = props.colDef,\n      editor = props.editor,\n      getColProperty = props.getColProperty;\n    var _ref = editor || {},\n      st = _ref.st;\n    var dataOpts = getColProperty(colDef.field, 'colCtrl');\n    return dataOpts.st || st || [];\n  };\n  var getFilterTypes = function getFilterTypes() {\n    var editor = props.editor;\n    var _ref2 = editor || {},\n      type = _ref2.type;\n    var isSelect = [_serverproperties.Ctrls.KDMulSelect, _serverproperties.Ctrls.KDSelect].includes(type);\n    var filterTypes = [];\n    if (isSelect) {\n      // 下拉列过滤选项\n      var selectOptions = getSelectOptions();\n      filterTypes = selectOptions.filter(function (item) {\n        return item[3]; // 过滤掉不可见条件\n      }).map(function (item) {\n        var _item = _slicedToArray(item, 2),\n          value = _item[0],\n          alias = _item[1];\n        return {\n          value: value,\n          name: alias\n        };\n      });\n    } else if (type === _serverproperties.Ctrls.KDCheckbox) {\n      // 复选框过滤选项\n      filterTypes = [{\n        value: true,\n        name: (0, _intlApi.getLangMsg)('grid.key0027')\n      }, {\n        value: false,\n        name: (0, _intlApi.getLangMsg)('grid.key0028')\n      }];\n    }\n    return filterTypes;\n  };\n  var filterFunction = function filterFunction(valueGetter, activeTypes, _filter, params) {\n    if (_lodash[\"default\"].isArray(activeTypes)) {\n      var editor = props.editor;\n      var _ref3 = editor || {},\n        type = _ref3.type;\n      var value = valueGetter(params.node) || '';\n      if (type === _serverproperties.Ctrls.KDMulSelect) {\n        // 处理多选下拉\n        var valueArr = _lodash[\"default\"].isString(value) ? value.split(',') : [];\n        return activeTypes.every(function (activeValue) {\n          return valueArr.includes(activeValue);\n        });\n      }\n      return activeTypes.some(function (activeValue) {\n        // 复选框列未选中\n        if (activeValue === false) {\n          return !value;\n        }\n        return activeValue === value;\n      });\n    }\n  };\n  (0, _react.useEffect)(function () {\n    var getFilterFunction = props.getFilterFunction;\n    getFilterFunction(filterFunction);\n  }, []);\n  var handlePublishFilterRequest = function handlePublishFilterRequest() {\n    var publishFilterRequest = props.publishFilterRequest,\n      setCheckFilter = props.setCheckFilter;\n    setCheckFilter(false);\n    publishFilterRequest();\n  };\n  var filterTypes = getFilterTypes(); // 下拉选项\n\n  var handleTypeChange = function handleTypeChange(selectedTypes) {\n    var handleTypeChange = props.handleTypeChange;\n    handleTypeChange(selectedTypes);\n    // 处理全选状态\n    setIsSelectAll(selectedTypes.length === filterTypes.length);\n  };\n\n  /**\n   * 下拉点击全选对应回掉\n   */\n  var selectAllTypes = function selectAllTypes(_ref4) {\n    var updateActiveTypes = _ref4.updateActiveTypes;\n    if (isSelectAll) {\n      // 取消全选\n      updateActiveTypes([]);\n    } else {\n      // 全选\n      var allTypes = filterTypes.map(function (_ref5) {\n        var value = _ref5.value;\n        return value;\n      });\n      updateActiveTypes(allTypes);\n    }\n    setIsSelectAll(!isSelectAll);\n  };\n  return /*#__PURE__*/_react[\"default\"].createElement(_FilterRenderer[\"default\"], _extends({}, props, {\n    isSelectAll: isSelectAll,\n    selectAllTypes: selectAllTypes,\n    handleTypeChange: handleTypeChange,\n    filterTypes: getFilterTypes(),\n    option: _OptionWithCheckbox[\"default\"],\n    publishFilterRequest: handlePublishFilterRequest,\n    getIsShowInputBox: function getIsShowInputBox() {\n      return false;\n    },\n    isCombo: true\n  }));\n};\nvar _default = exports[\"default\"] = (0, _EntryFilterFactory[\"default\"])(EntrySelectFilterRender);\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/FilterRenderer/EntrySelectFilterRenderer/index.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/FilterRenderer/EntryTextFilterRenderer.js":
/*!*****************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/FilterRenderer/EntryTextFilterRenderer.js ***!
  \*****************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-properties.js */ \"../../node_modules/core-js/modules/es.object.define-properties.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptors.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.every.js */ \"../../node_modules/core-js/modules/es.array.every.js\");\n__webpack_require__(/*! core-js/modules/es.array.find.js */ \"../../node_modules/core-js/modules/es.array.find.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.array.last-index-of.js */ \"../../node_modules/core-js/modules/es.array.last-index-of.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.trim.js */ \"../../node_modules/core-js/modules/es.string.trim.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _serverproperties = __webpack_require__(/*! @/constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _FilterRenderer = _interopRequireDefault(__webpack_require__(/*! ./FilterRenderer */ \"./src/component/web/DataGrid/AgDataGrid/FilterRenderer/FilterRenderer.js\"));\nvar _EntryFilterFactory = _interopRequireDefault(__webpack_require__(/*! ./EntryFilterFactory */ \"./src/component/web/DataGrid/AgDataGrid/FilterRenderer/EntryFilterFactory.js\"));\nvar _intlApi = __webpack_require__(/*! ../../../../../i18n/intlApi */ \"./src/i18n/intlApi.js\");\nvar _CellRenderer = __webpack_require__(/*! ../CellRenderer */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/index.js\");\nvar _excluded = [\"getFilterFunction\", \"filterModel\"];\nvar _class;\n/**\n * 文本过滤器\n * by kechuang\n */\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n/**\n * 不要定义成const常量，会在require的时候就加载\n * 1.会造成加载不需要的内容\n * 2.多语言会有问题，还没有来得急初始化\n */\nfunction getFilterTypes(editor) {\n  var _ref = editor || {},\n    type = _ref.type;\n  var extendTypes = [_serverproperties.Ctrls.KDMulSelect, _serverproperties.Ctrls.KDSelect, _serverproperties.Ctrls.KDTextArea, _serverproperties.Ctrls.KDLTextArea, _serverproperties.Ctrls.KDText, _serverproperties.Ctrls.KDMulLangText, _serverproperties.Ctrls.KDBaseData, _serverproperties.Ctrls.KDMulBaseData, _serverproperties.Ctrls.KDOrg, _serverproperties.Ctrls.KDUser];\n  var filterTypes = [{\n    id: 'contains',\n    name: (0, _intlApi.getLangMsg)('grid.key0006')\n  }, {\n    id: 'notContains',\n    name: (0, _intlApi.getLangMsg)('grid.key0007')\n  }, {\n    id: 'equals',\n    name: (0, _intlApi.getLangMsg)('grid.key0008')\n  }, {\n    id: 'notEqual',\n    name: (0, _intlApi.getLangMsg)('grid.key0009')\n  }, {\n    id: 'startsWith',\n    name: (0, _intlApi.getLangMsg)('grid.key0010')\n  }, {\n    id: 'endsWith',\n    name: (0, _intlApi.getLangMsg)('grid.key0011')\n  }];\n  filterTypes = extendTypes.indexOf(type) > -1 ? filterTypes.concat([{\n    id: 'isEmpty',\n    name: (0, _intlApi.getLangMsg)('grid.key0025'),\n    inputCtlType: -1\n  },\n  // inputCtlType -1 不显示输入框\n  {\n    id: 'notEmpty',\n    name: (0, _intlApi.getLangMsg)('grid.key0026'),\n    inputCtlType: -1\n  }]) : filterTypes;\n  return filterTypes;\n}\nvar TextFilterRenderer = (0, _EntryFilterFactory[\"default\"])(_class = /*#__PURE__*/function (_React$Component) {\n  _inherits(TextFilterRenderer, _React$Component);\n  function TextFilterRenderer(props) {\n    var _this;\n    _classCallCheck(this, TextFilterRenderer);\n    _this = _callSuper(this, TextFilterRenderer, [props]);\n    _this.getNotShowType = function (id) {\n      return _this.filterTypes && _this.filterTypes.find && _this.filterTypes.find(function (item) {\n        return item.id === id;\n      });\n    };\n    _this.getIsShowInputBox = function (params) {\n      var id = params.activeType && params.activeType[0];\n      var type = _this.getNotShowType(id);\n      return !(type && type.inputCtlType === -1);\n    };\n    _this.handleTypeChange = function (newType) {\n      var _this$props = _this.props,\n        handleTypeChange = _this$props.handleTypeChange,\n        setCheckFilter = _this$props.setCheckFilter;\n      _this.getIsShowInputBox({\n        activeType: newType\n      }) ? setCheckFilter(true) : setCheckFilter(false);\n      handleTypeChange(newType);\n    };\n    _this.compareRule = _this.compareRule.bind(_assertThisInitialized(_this));\n    _this.filterFunction = _this.filterFunction.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  _createClass(TextFilterRenderer, [{\n    key: \"compareRule\",\n    value: function compareRule(filter, type, target) {\n      var _type = type[0];\n      if (target == null || !_type) {\n        return false;\n      }\n      switch (_type) {\n        case 'contains':\n          return target.indexOf(filter) >= 0;\n        case 'notContains':\n          return target.indexOf(filter) < 0;\n        case 'equals':\n          return target === filter;\n        case 'notEqual':\n          return target != filter;\n        case 'startsWith':\n          return target.indexOf(filter) === 0;\n        case 'endsWith':\n          var index = target.lastIndexOf(filter);\n          return index >= 0 && index === target.length - filter.length;\n        case 'isEmpty':\n          return _lodash[\"default\"].isEmpty(target);\n        case 'notEmpty':\n          return !_lodash[\"default\"].isEmpty(target);\n        default:\n          console.warn('invalid filter type ' + _type);\n          return false;\n      }\n    }\n  }, {\n    key: \"filterFunction\",\n    value: function filterFunction(valueGetter, type, filter, params) {\n      var _this2 = this;\n      return filter.split(' ').every(function (word) {\n        var value = valueGetter(params.node) || '';\n        var _this2$props = _this2.props,\n          localeId = _this2$props.localeId,\n          colDef = _this2$props.colDef;\n        var cellRendererParams = _this2.props.colDef.cellRendererParams;\n        var target = (0, _CellRenderer.getCellDisplayValueByRender)(_objectSpread({\n          localeId: localeId,\n          colDef: colDef\n        }, cellRendererParams), value, params.node && params.node.data);\n        target = target.toString().toLowerCase();\n        target = target.trim();\n        var keyWord = word.toLowerCase();\n        return _this2.compareRule(keyWord, type, target);\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.getFilterFunction(this.filterFunction);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n        getFilterFunction = _this$props2.getFilterFunction,\n        filterModel = _this$props2.filterModel,\n        other = _objectWithoutProperties(_this$props2, _excluded);\n      var _filterModel = filterModel.type.length === 0 ? Object.assign(filterModel, {\n        type: ['contains']\n      }) : Object.assign({}, filterModel);\n      this.filterTypes = getFilterTypes(this.props.editor);\n      var defaultType = [this.filterTypes[0].id];\n      return /*#__PURE__*/_react[\"default\"].createElement(_FilterRenderer[\"default\"], _extends({\n        filterTypes: this.filterTypes,\n        defaultType: defaultType,\n        filterModel: _filterModel,\n        getIsShowInputBox: this.getIsShowInputBox\n      }, other, {\n        handleTypeChange: this.handleTypeChange\n      }));\n    }\n  }]);\n  return TextFilterRenderer;\n}(_react[\"default\"].Component)) || _class;\nvar _default = exports[\"default\"] = TextFilterRenderer;\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/FilterRenderer/EntryTextFilterRenderer.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/FilterRenderer/FilterBaseItem.js":
/*!********************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/FilterRenderer/FilterBaseItem.js ***!
  \********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.BaseOption = BaseOption;\nexports.InputBox = exports.FoldPanel = void 0;\nexports.Option = Option;\nexports.SingleEnumOption = void 0;\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.splice.js */ \"../../node_modules/core-js/modules/es.array.splice.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _FilterRender = _interopRequireDefault(__webpack_require__(/*! ./FilterRender.less */ \"./src/component/web/DataGrid/AgDataGrid/FilterRenderer/FilterRender.less\"));\nvar _classnames = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _commonAnimation = _interopRequireDefault(__webpack_require__(/*! @/component/common/commonAnimation.less */ \"./src/component/common/commonAnimation.less\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); } /* *\n * 表头公用小模块\n * @Author: qinghui_wu  * @Date: 2019-04-08 17:11:15\n * */\nfunction Option(props) {\n  var type = props.type,\n    activeType = props.activeType,\n    typeChanged = props.typeChanged,\n    getExistInfo = props.getExistInfo;\n  var _getExistInfo = getExistInfo(activeType, type),\n    isExistValue = _getExistInfo.isExistValue;\n  return /*#__PURE__*/_react[\"default\"].createElement(BaseOption, _extends({}, props, {\n    active: isExistValue,\n    handleClick: function handleClick() {\n      return typeChanged(type);\n    }\n  }));\n}\nfunction BaseOption(_ref) {\n  var name = _ref.name,\n    active = _ref.active,\n    handleClick = _ref.handleClick;\n  var className = (0, _classnames[\"default\"])('kd-cq-dropdown-menu-item', _FilterRender[\"default\"].option, _FilterRender[\"default\"].optionText, 'hover-theme-light-bg', {\n    'theme-light-bg theme-fc': active\n  });\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: className,\n    onClick: !active ? handleClick : null\n  }, name, active && /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: \"kdfont kdfont-dagou\",\n    style: {\n      fontWeight: 'bold',\n      fontSize: '12px'\n    }\n  }));\n}\nvar InputBox = exports.InputBox = function InputBox(_ref2) {\n  var inputTextClass = _ref2.inputTextClass,\n    filter = _ref2.filter,\n    handleBlur = _ref2.handleBlur,\n    handleFocus = _ref2.handleFocus,\n    handleChange = _ref2.handleChange,\n    placeholder = _ref2.placeholder,\n    onKeyDownHandle = _ref2.onKeyDownHandle;\n  return /*#__PURE__*/_react[\"default\"].createElement(\"input\", {\n    type: \"text\",\n    className: (0, _classnames[\"default\"])(inputTextClass, 'kd-dropdown-menu-input'),\n    value: filter,\n    onBlur: handleBlur,\n    onFocus: handleFocus,\n    onChange: handleChange,\n    placeholder: placeholder,\n    onKeyDown: onKeyDownHandle\n  });\n};\nvar SingleEnumOption = exports.SingleEnumOption = function SingleEnumOption(props) {\n  var type = props.type,\n    typeChanged = props.typeChanged,\n    handleChange = props.handleChange,\n    getExistInfo = props.getExistInfo,\n    value = props.value,\n    filter = props.filter;\n  // 比较符id都是一样的，只能用值来做比较了\n  var filterIsArray = Array.isArray(filter); // 是数组时代表里面已经存了值\n  var active = false;\n  var _index;\n  if (filterIsArray) {\n    var _getExistInfo2 = getExistInfo(filter, value),\n      isExistValue = _getExistInfo2.isExistValue,\n      index = _getExistInfo2.index;\n    active = isExistValue;\n    _index = index;\n  }\n  var handleClick = function handleClick() {\n    typeChanged(type);\n    var newFilter;\n    // 塞值和反选\n    if (filterIsArray) {\n      if (active === false || active === undefined) {\n        newFilter = [value];\n      } else if (active === true) {\n        newFilter = Object.assign([], filter);\n        newFilter.splice(_index, 1);\n      }\n    } else {\n      newFilter = [value];\n    }\n    handleChange({\n      isValue: true,\n      value: newFilter\n    });\n  };\n  return /*#__PURE__*/_react[\"default\"].createElement(BaseOption, _extends({}, props, {\n    active: active,\n    handleClick: handleClick\n  }));\n};\nvar FoldPanel = exports.FoldPanel = function FoldPanel(_ref3) {\n  var title = _ref3.title,\n    children = _ref3.children,\n    className = _ref3.className,\n    contentClassNames = _ref3.contentClassNames,\n    _ref3$isCollapse = _ref3.isCollapse,\n    isCollapse = _ref3$isCollapse === void 0 ? false : _ref3$isCollapse,\n    onChangeFold = _ref3.onChangeFold;\n  var _useState = (0, _react.useState)(isCollapse),\n    _useState2 = _slicedToArray(_useState, 2),\n    isFold = _useState2[0],\n    setFold = _useState2[1];\n  var click = function click() {\n    var newFold = !isFold;\n    setFold(newFold);\n    onChangeFold && onChangeFold(newFold);\n  };\n  var foldPanelClassName = (0, _classnames[\"default\"])([className, _FilterRender[\"default\"].foldPanel]);\n  (0, _react.useEffect)(function () {\n    if (isFold !== isCollapse) {\n      // props改变 修改state\n      setFold(isCollapse);\n    }\n  }, [isCollapse]);\n  var iconClass = (0, _classnames[\"default\"])(['kdfont', 'kdfont-shangla', _FilterRender[\"default\"].foldContent, _FilterRender[\"default\"].foldIcon]);\n  var foldContentClassNames = (0, _classnames[\"default\"])([contentClassNames, _FilterRender[\"default\"].foldContent, _defineProperty({}, _commonAnimation[\"default\"]['panel-drop-down-animation'], !isFold)]);\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: foldPanelClassName\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FilterRender[\"default\"].foldHeader,\n    onClick: click\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames[\"default\"])(_FilterRender[\"default\"].foldTitle, 'kd-cq-dropdown-menu-title')\n  }, title), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: iconClass,\n    style: {\n      transform: isFold ? 'rotate(180deg)' : ''\n    }\n  })), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: foldContentClassNames,\n    style: {\n      display: isFold ? 'none' : 'flex'\n    }\n  }, children));\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/FilterRenderer/FilterBaseItem.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/FilterRenderer/FilterRenderer.js":
/*!********************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/FilterRenderer/FilterRenderer.js ***!
  \********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.MinorType = MinorType;\nexports[\"default\"] = FilterRenderer;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.array.splice.js */ \"../../node_modules/core-js/modules/es.array.splice.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _FilterRender = _interopRequireDefault(__webpack_require__(/*! ./FilterRender.less */ \"./src/component/web/DataGrid/AgDataGrid/FilterRenderer/FilterRender.less\"));\nvar _classnames4 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _intlApi = __webpack_require__(/*! ../../../../../i18n/intlApi */ \"./src/i18n/intlApi.js\");\nvar _filterHooks = __webpack_require__(/*! ./filterHooks */ \"./src/component/web/DataGrid/AgDataGrid/FilterRenderer/filterHooks.js\");\nvar _FilterBaseItem = __webpack_require__(/*! ./FilterBaseItem */ \"./src/component/web/DataGrid/AgDataGrid/FilterRenderer/FilterBaseItem.js\");\nvar _defaultPropsUtil = __webpack_require__(/*! @/util/defaultPropsUtil */ \"./src/util/defaultPropsUtil.js\");\nvar _customProperties = _interopRequireDefault(__webpack_require__(/*! @/constant/customProperties */ \"./src/constant/customProperties.js\"));\nvar _customCtrlName = _interopRequireDefault(__webpack_require__(/*! @/constant/customCtrlName */ \"./src/constant/customCtrlName.js\"));\nvar _TextEllipsisWrap = _interopRequireDefault(__webpack_require__(/*! @/component/common/TextEllipsisWrap */ \"./src/component/common/TextEllipsisWrap.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; } /**\n * 表头过滤器基础控件\n * by kechuang\n */\nfunction FilterRenderer(props) {\n  var filterModel = props.filterModel,\n    getInputFocusFun = props.getInputFocusFun,\n    getClearInputFun = props.getClearInputFun,\n    handleTypeChange = props.handleTypeChange,\n    isEntryFilter = props.isEntryFilter,\n    localeId = props.localeId,\n    defaultLocalId = props.defaultLocalId,\n    getIsShowInputBox = props.getIsShowInputBox;\n  var _useFilterRenderState = (0, _filterHooks.useFilterRenderState)(filterModel.filter, filterModel.type),\n    filter = _useFilterRenderState.filter,\n    setFilter = _useFilterRenderState.setFilter,\n    type = _useFilterRenderState.type,\n    setType = _useFilterRenderState.setType,\n    inputFocus = _useFilterRenderState.inputFocus,\n    setInputFocus = _useFilterRenderState.setInputFocus;\n  // let inputRef = React.createRef(null)\n  var _useState = (0, _react.useState)(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    activeTypeGroupKey = _useState2[0],\n    setActiveTypeGroupKey = _useState2[1]; // 激活的groupKey，一开始全都激活\n  var inputParent = _react[\"default\"].useRef(null);\n  var thisFilter = (0, _react.useRef)(filter);\n  var resetFunList = _react[\"default\"].useRef([]);\n  var handleChange = function handleChange(e) {\n    var newText = e && e.isValue ? e.value : e.target.value;\n    if (filter !== newText) {\n      setFilter(newText);\n      props.handleFilterChange(newText);\n    }\n  };\n  var getExistInfo = function getExistInfo(array, value) {\n    var index = array.indexOf(value);\n    var isExistValue = index > -1;\n    return {\n      isExistValue: isExistValue,\n      index: index\n    };\n  };\n  var typeChanged = function typeChanged(newType) {\n    var isMulti = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var _type;\n    if (isMulti) {\n      // 多个条件\n      var _getExistInfo = getExistInfo(type, newType),\n        isExistValue = _getExistInfo.isExistValue,\n        index = _getExistInfo.index;\n      if (isExistValue === false) {\n        // 不存在，直接新增\n        _type = type.concat([newType]);\n      } else if (isExistValue === true) {\n        // 存在，则删除\n        _type = Object.assign([], type);\n        _type.splice(index, 1);\n      }\n    } else {\n      // 单个条件\n      _type = [newType];\n    }\n    setType(_type);\n    handleTypeChange(_type);\n    setInputDomFocus();\n  };\n\n  /**\n   * 更新选中type\n   */\n  var updateActiveTypes = function updateActiveTypes(types) {\n    setType(types);\n    handleTypeChange(types);\n  };\n  var handleFocus = function handleFocus() {\n    // input focus之后设置边框颜色\n    setInputFocus(true);\n  };\n  var handleBlur = function handleBlur() {\n    setInputFocus(false);\n  };\n  var onKeyDownHandle = function onKeyDownHandle(e) {\n    if (e.keyCode === 13) {\n      props.publishFilterRequest();\n    }\n  };\n  var setInputDomFocus = function setInputDomFocus() {\n    if (inputParent && inputParent.current) {\n      var input = inputParent.current.querySelector('input');\n      input && input.focus();\n    }\n  };\n  var clearInputValue = function clearInputValue(resetValue) {\n    if (thisFilter.current !== '' || resetValue) {\n      setFilter(resetValue || '');\n      props.handleFilterChange(resetValue || '');\n    }\n  };\n  var clearTypeValue = function clearTypeValue(defaultType) {\n    if (type && type.length > 0) {\n      setType(defaultType || []);\n      handleTypeChange(defaultType || []);\n    }\n  };\n  var resetFilterAndType = function resetFilterAndType() {\n    clearInputValue(props.resetValue);\n    clearTypeValue(props.defaultType);\n    props.resetAll && props.resetAll();\n    doMultiResetFun();\n    props.hideFilterPopup && props.hideFilterPopup(); // 关闭过滤面板\n  };\n  var selectAllTypes = function selectAllTypes() {\n    var selectAllTypes = props.selectAllTypes;\n    selectAllTypes && selectAllTypes({\n      handleChange: handleChange,\n      typeChanged: typeChanged,\n      filter: thisFilter.current,\n      updateActiveTypes: updateActiveTypes\n    });\n  };\n  var filterColumnChange = function filterColumnChange(filterColumn) {\n    var _filterColumn$value = filterColumn.value,\n      filter = _filterColumn$value.filter,\n      type = _filterColumn$value.type;\n    clearInputValue(filter);\n    clearTypeValue(type);\n    setFilter(filter);\n    setType(type);\n    props.onFilterChange && props.onFilterChange(filter); // 复选框对值改变要做出响应\n  };\n  var addMultiResetFun = function addMultiResetFun(fn) {\n    return resetFunList.current && resetFunList.current.push(fn);\n  };\n  var doMultiResetFun = function doMultiResetFun() {\n    return resetFunList.current && resetFunList.current.forEach(function (fn) {\n      return fn && fn();\n    });\n  };\n  var renderItems = function renderItems() {\n    var filterTypes = props.filterTypes;\n    var MyOption = props.option || _FilterBaseItem.Option;\n    return filterTypes.map(function (f, index) {\n      var name = f.name;\n      var displayName = _lodash[\"default\"].isString(name) ? name : f.name[localeId] || f.name[defaultLocalId] || f.name.zh_CN;\n      return /*#__PURE__*/_react[\"default\"].createElement(MyOption, {\n        publishFilterRequest: props.publishFilterRequest,\n        key: f.id + index,\n        name: displayName,\n        type: f.id || f.value,\n        value: f.value,\n        activeType: type,\n        filter: filter,\n        typeChanged: typeChanged,\n        handleChange: handleChange,\n        getExistInfo: getExistInfo,\n        changeSelAllState: props.changeSelAllState\n      });\n    });\n  };\n  var addComboOption = function addComboOption(_options) {\n    if (props.isCombo) {\n      var MyOption = props.option || _FilterBaseItem.Option;\n      var selectAllOption = /*#__PURE__*/_react[\"default\"].createElement(MyOption, {\n        publishFilterRequest: props.publishFilterRequest,\n        isSelectAllOption: true,\n        key: \"selectAll\",\n        isSelectAll: props.isSelectAll,\n        name: (0, _intlApi.getLangMsg)('grid.key0022'),\n        value: (0, _intlApi.getLangMsg)('grid.key0022'),\n        activeType: type,\n        filter: filter,\n        typeChanged: typeChanged,\n        handleChange: selectAllTypes,\n        getExistInfo: getExistInfo\n      });\n      _options.unshift(selectAllOption);\n    }\n    return _options;\n  };\n  var onChangeFold = function onChangeFold(isCollapse) {\n    var key = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    // 默认0，0代表主过滤条件\n    !isCollapse && setActiveTypeGroupKey(key);\n  };\n  (0, _filterHooks.useDidMount)(getInputFocusFun, getClearInputFun, setInputDomFocus, clearInputValue, resetFilterAndType, isEntryFilter);\n  (0, _filterHooks.useFilterChangeListenr)(props, filterColumnChange);\n  (0, _react.useEffect)(function () {\n    thisFilter.current = filter;\n    props.onFilterChange && props.onFilterChange(filter); // 复选框对值改变要做出响应\n  }, [filter]);\n  var inputTextClass = (0, _classnames4[\"default\"])(_defineProperty(_defineProperty({}, _FilterRender[\"default\"].input, true), 'kd-hover-bdcolor', true));\n  var inputClass = (0, _classnames4[\"default\"])(_defineProperty({}, _FilterRender[\"default\"].filterInput, true));\n  var okBtnClass = (0, _classnames4[\"default\"])(_FilterRender[\"default\"].filterButton, 'follow-theme-bg-fc1 active-theme-bg1 hover-theme-bg1', 'kd-cq-control kd-cq-btn');\n  var ghostTypeActiveWithLightBg = (0, _defaultPropsUtil.getUIDefaultProps)(_customCtrlName[\"default\"].BUTTON, _customProperties[\"default\"].GHOST_TYPE_ACTIVE_WITH_LIGHT_BG);\n  var btnThemeColor = (0, _defaultPropsUtil.getUIDefaultProps)(_customCtrlName[\"default\"].BUTTON, _customProperties[\"default\"].COLOR);\n  var cancelConfirmBtnPositionExchange = (0, _defaultPropsUtil.getCommonDefaultProps)(_customProperties[\"default\"].CANCEL_CONFIRM_BTN_POSITION_EXCHANGE);\n  var clearBtnClass = (0, _classnames4[\"default\"])('kd-cq-control', 'kd-cq-btn', _defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty({}, _FilterRender[\"default\"].filterButton, true), _FilterRender[\"default\"]['clear-button'], true), 'strong-border ', true), 'hover-theme-fc1 active-theme-active-fc1 hover-theme-border-color1 active-theme-border-color1', !ghostTypeActiveWithLightBg), 'active-theme-light-bg1 hover-theme-fc1 hover-theme-border-color1', ghostTypeActiveWithLightBg), 'theme-fc', btnThemeColor === 'themeColor'), _FilterRender[\"default\"]['filter-button-rever'], cancelConfirmBtnPositionExchange));\n  var options = renderItems();\n  options = addComboOption(options);\n  var SearchBox = props.searchBox;\n  var MySearchBox;\n  if (typeof SearchBox === 'undefined') {\n    var isShow = getIsShowInputBox ? getIsShowInputBox({\n      activeType: type\n    }) : true;\n    MySearchBox = isShow ? /*#__PURE__*/_react[\"default\"].createElement(_FilterBaseItem.InputBox, {\n      inputTextClass: inputTextClass,\n      filter: filter,\n      onBlur: handleBlur,\n      handleFocus: handleFocus,\n      handleChange: handleChange,\n      onKeyDownHandle: onKeyDownHandle,\n      placeholder: (0, _intlApi.getLangMsg)('grid.key0016')\n    }) : null;\n    inputClass = isShow ? inputClass : {};\n  } else if (SearchBox === null) {\n    MySearchBox = null;\n    inputClass = {};\n  } else {\n    MySearchBox = /*#__PURE__*/_react[\"default\"].createElement(SearchBox, {\n      inputTextClass: inputTextClass,\n      type: type,\n      filter: filter,\n      onBlur: handleBlur,\n      handleFocus: handleFocus,\n      handleChange: handleChange,\n      onKeyDownHandle: onKeyDownHandle,\n      placeholder: (0, _intlApi.getLangMsg)('grid.key0016'),\n      inputFocus: inputFocus\n    });\n  }\n  var texts = {\n    ok: (0, _intlApi.getLangMsg)('grid.key0020'),\n    clear: (0, _intlApi.getLangMsg)('grid.key0021'),\n    all: (0, _intlApi.getLangMsg)('grid.key0022'),\n    type: (0, _intlApi.getLangMsg)('grid.key0024')\n  };\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames4[\"default\"])(_FilterRender[\"default\"].filterPanel, 'kd-cq-dropdown', 'kd-cq-dropdown-select-type', 'kd-cq-table-header-filter-dropdown')\n  }, props.isMultiTypes && /*#__PURE__*/_react[\"default\"].createElement(MinorType, _extends({}, props, {\n    getExistInfo: getExistInfo,\n    addMultiResetFun: addMultiResetFun,\n    onChangeFold: onChangeFold,\n    activeTypeGroupKey: activeTypeGroupKey\n  })), !props.isMultiTypes ? /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FilterRender[\"default\"].filterOption\n  }, options) : /*#__PURE__*/_react[\"default\"].createElement(_FilterBaseItem.FoldPanel, {\n    isCollapse: activeTypeGroupKey !== 0 && activeTypeGroupKey !== null,\n    onChangeFold: onChangeFold,\n    children: options,\n    title: texts.type,\n    contentClassNames: _FilterRender[\"default\"].filterOption\n  }), MySearchBox && /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: inputClass,\n    ref: inputParent\n  }, MySearchBox), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FilterRender[\"default\"].filterFooter\n  }, /*#__PURE__*/_react[\"default\"].createElement(_TextEllipsisWrap[\"default\"], null, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: clearBtnClass,\n    onClick: resetFilterAndType,\n    title: texts.clear\n  }, texts.clear)), /*#__PURE__*/_react[\"default\"].createElement(_TextEllipsisWrap[\"default\"], null, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: okBtnClass,\n    onClick: props.publishFilterRequest,\n    style: {\n      color: '#FFFFFF'\n    },\n    title: texts.ok\n  }, texts.ok))));\n}\nfunction MinorType(props) {\n  var minorFilterModel = props.minorFilterModel,\n    minorFilterMeta = props.minorFilterMeta,\n    addMultiResetFun = props.addMultiResetFun,\n    isEntryFilter = props.isEntryFilter,\n    localeId = props.localeId,\n    defaultLocalId = props.defaultLocalId,\n    getExistInfo = props.getExistInfo,\n    handleTypeChange = props.handleTypeChange,\n    handleFilterChange = props.handleFilterChange,\n    activeTypeGroupKey = props.activeTypeGroupKey;\n  var initFilter = minorFilterModel ? minorFilterModel.filter : [];\n  var initTypes = minorFilterModel ? minorFilterModel.type : '';\n  var _useFilterRenderState2 = (0, _filterHooks.useFilterRenderState)(initFilter, initTypes),\n    filter = _useFilterRenderState2.filter,\n    setFilter = _useFilterRenderState2.setFilter,\n    type = _useFilterRenderState2.type,\n    setType = _useFilterRenderState2.setType;\n  var handleChange = function handleChange(e) {\n    var newText = e && e.isValue ? e.value : e.target.value;\n    setFilter(newText);\n    handleFilterChange(newText, false);\n  };\n  var typeChanged = function typeChanged(newType) {\n    var _type = [newType];\n    setType(_type);\n    handleTypeChange(_type, false);\n  };\n  var clearFilterValue = function clearFilterValue(resetValue) {\n    setFilter(resetValue || []);\n    handleFilterChange(resetValue || [], false);\n  };\n  var clearTypeValue = function clearTypeValue(defaultType) {\n    if (type && type.length > 0) {\n      setType(defaultType || []);\n      handleTypeChange(defaultType || [], false);\n    }\n  };\n  var resetFilterAndType = function resetFilterAndType() {\n    var _props$minorDefaultVa = _slicedToArray(props.minorDefaultValue, 2),\n      resetValue = _props$minorDefaultVa[0],\n      defaultType = _props$minorDefaultVa[1];\n    clearFilterValue(resetValue);\n    clearTypeValue(defaultType);\n  };\n  var onChangeFold = function onChangeFold(isCollapse) {\n    props.onChangeFold && props.onChangeFold(isCollapse, 1); // 这里先写死为1，只有一个次要条件\n  };\n  (0, _react.useEffect)(function () {\n    addMultiResetFun(resetFilterAndType);\n  }, []);\n  var renderItems = function renderItems(_localId) {\n    var minorFilterItems = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n    return minorFilterItems.map(function (f, index) {\n      var name = isEntryFilter ? f.name[_localId] || f.name[defaultLocalId] || f.name.zh_CN || f.name : f.name[_localId] || f.name[defaultLocalId] || f.name.zh_CN;\n      return /*#__PURE__*/_react[\"default\"].createElement(_FilterBaseItem.SingleEnumOption, {\n        key: f.id + index,\n        name: name,\n        type: f.id || f.value,\n        value: f.value,\n        activeType: type,\n        filter: filter,\n        typeChanged: typeChanged,\n        handleChange: handleChange,\n        getExistInfo: getExistInfo\n      });\n    });\n  };\n  var _localId = localeId || defaultLocalId || 'zh_CN';\n  var options = renderItems(_localId, minorFilterMeta && minorFilterMeta.items);\n  var title = minorFilterMeta && minorFilterMeta.caption;\n  title = title && (title[_localId] || title[defaultLocalId] || title.zh_CN);\n  return options && options.length > 0 && /*#__PURE__*/_react[\"default\"].createElement(_FilterBaseItem.FoldPanel, {\n    onChangeFold: onChangeFold,\n    isCollapse: activeTypeGroupKey !== 1 && activeTypeGroupKey !== null,\n    children: options,\n    title: title,\n    contentClassNames: _FilterRender[\"default\"].filterOption\n  });\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/FilterRenderer/FilterRenderer.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/FilterRenderer/ListDateFilterRenderer.js":
/*!****************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/FilterRenderer/ListDateFilterRenderer.js ***!
  \****************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.string.split.js */ \"../../node_modules/core-js/modules/es.string.split.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _FilterRenderer = _interopRequireDefault(__webpack_require__(/*! ./FilterRenderer */ \"./src/component/web/DataGrid/AgDataGrid/FilterRenderer/FilterRenderer.js\"));\nvar _ListFilterFactory = _interopRequireDefault(__webpack_require__(/*! ./ListFilterFactory */ \"./src/component/web/DataGrid/AgDataGrid/FilterRenderer/ListFilterFactory.js\"));\nvar _DatePicker = _interopRequireDefault(__webpack_require__(/*! ../../../base/DatePicker */ \"./src/component/web/base/DatePicker.jsx\"));\nvar _DateRangeField = _interopRequireDefault(__webpack_require__(/*! ../../../baseField/DateRangeField */ \"./src/component/web/baseField/DateRangeField.jsx\"));\nvar _FilterBaseItem = __webpack_require__(/*! ./FilterBaseItem */ \"./src/component/web/DataGrid/AgDataGrid/FilterRenderer/FilterBaseItem.js\");\nvar _elementFromPoint = __webpack_require__(/*! ../../../../common/elementFromPoint */ \"./src/component/common/elementFromPoint.js\");\nvar _serverproperties = __webpack_require__(/*! ../../../../../constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _componentutil = __webpack_require__(/*! @/util/componentutil */ \"./src/util/componentutil.js\");\nvar _excluded = [\"filterModel\", \"defaultValue\", \"handleFilterChange\"],\n  _excluded2 = [\"typeChanged\", \"value\", \"handleChange\"];\nvar _class;\n/**\n * 日期过滤器\n * by kechuang\n */\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar ListDateFilterRenderer = (0, _ListFilterFactory[\"default\"])(_class = /*#__PURE__*/function (_React$Component) {\n  _inherits(ListDateFilterRenderer, _React$Component);\n  function ListDateFilterRenderer() {\n    var _this;\n    _classCallCheck(this, ListDateFilterRenderer);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _callSuper(this, ListDateFilterRenderer, [].concat(args));\n    _this.publishFilterRequest = function () {\n      var _this$props = _this.props,\n        getGridDataByFilter = _this$props.getGridDataByFilter,\n        filterModel = _this$props.filterModel;\n      var type = filterModel.type,\n        filter = filterModel.filter;\n      if (type.length === 0 || _this.isInput === true && (filter === '' || filter === null)) {\n        _this.resetAll();\n        _this.props.hideFilterPopup();\n        return;\n      }\n      var newFilter = _this.activeOption === 'DateRangePicker' && _this.customValueChanged(filter);\n      getGridDataByFilter && getGridDataByFilter(false, newFilter);\n    };\n    // 处理时间范围返回的值 后端需要数组\n    _this.customValueChanged = function (val) {\n      if (!val || !val.split) return;\n      var newVal = [];\n      var newValueArr = val.split(',');\n      // const { editor } = this.props\n      // // 保证发往server的长日期格式为'YYYMMDD HHmmss',基础组件时间范围目前不带HHmmss(兼容处理)\n      // if (editor.type === 'datetime') {\n      //   const dateOne = newValueArr[0]\n      //   if (dateOne && dateOne.split && dateOne.split(' ').length !== 2) {\n      //     newValueArr[0] = dateOne + ' 00:00:00'\n      //   }\n      //   const dateTwo = newValueArr[1]\n      //   if (dateTwo && dateTwo.split && dateTwo.split(' ').length !== 2) {\n      //     newValueArr[1] = dateTwo + ' 23:59:59'\n      //   }\n      // }\n      var first = newValueArr[0];\n      var second = newValueArr[1];\n      if (first !== undefined) {\n        newVal[0] = first;\n      }\n      if (second !== undefined) {\n        newVal[1] = second;\n      }\n      return newVal;\n    };\n    _this.getExpandDom = function (ele) {\n      _this.expandDom = ele;\n    };\n    _this.getDateRangeExpandDom = function () {\n      if (_this.childDom) return _this.childDom;\n      var container = document.createElement('div');\n      document.body.appendChild(container);\n      _this.childDom = container;\n      return container;\n    };\n    _this.mouseDownHandle = function (e) {\n      var target = e.target;\n      if ((0, _elementFromPoint.isParentElement)(_this.expandDom, target) || (0, _elementFromPoint.isParentElement)(_this.childDom, target) === true) {\n        e.stopImmediatePropagation();\n      }\n    };\n    _this.getSearchBox = function (activeItem, props) {\n      _this.childDom = null;\n      var id = activeItem.id;\n      var dom = null;\n      var _this$props2 = _this.props,\n        editor = _this$props2.editor,\n        localeId = _this$props2.localeId,\n        type = _this$props2.editor.type;\n      var filter = props.filter,\n        handleChange = props.handleChange,\n        inputFocus = props.inputFocus,\n        handleFocus = props.handleFocus,\n        inputTextClass = props.inputTextClass,\n        onKeyDownHandle = props.onKeyDownHandle;\n      if (id === '1') {\n        // 1介于 后端规定\n        _this.activeOption = 'DateRangePicker';\n        var inputProps = {\n          style: {\n            padding: 0,\n            backgroundColor: '#FAFAFA'\n          }\n        };\n        var showTime = type === _serverproperties.Ctrls.KDDateTime;\n        var format = showTime ? 'yyyy-MM-dd HH:mm:ss' : 'yyyy-MM-dd';\n        dom = /*#__PURE__*/_react[\"default\"].createElement(\"div\", null, /*#__PURE__*/_react[\"default\"].createElement(_DateRangeField[\"default\"], {\n          style: {\n            padding: '0 16px 0 6px',\n            width: type === 'datetime' ? 310 : 204,\n            lineHeight: 'inherit'\n          },\n          inputProps: inputProps,\n          iconStyle: {\n            right: 6\n          },\n          clearIconStyle: {\n            right: 6\n          },\n          isAttachToBody: false,\n          value: filter,\n          mask: editor[_serverproperties.MASK],\n          displayFormat: editor[_serverproperties.DISPLAY_FORMAT],\n          type: \"daterange\",\n          showTime: showTime,\n          format: format,\n          onChange: function onChange(date) {\n            return handleChange({\n              isValue: true,\n              value: date\n            });\n          },\n          onKeyDown: onKeyDownHandle,\n          className: inputTextClass,\n          minDate: editor[_serverproperties.MIN_VALUE],\n          maxDate: editor[_serverproperties.MAX_VALUE],\n          linkage: editor[_serverproperties.LINKAGE],\n          localeCode: localeId\n          // getPopupContainer={this.getDateRangeExpandDom} // 此处的方法要传一个dom给基础组件\n        }));\n      } else if (id === '67') {\n        // 67等于 后端规定\n        dom = /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n          className: inputTextClass,\n          style: {\n            padding: '0',\n            display: 'flex',\n            lineHeight: 'inherit'\n          }\n        }, /*#__PURE__*/_react[\"default\"].createElement(_DatePicker[\"default\"], {\n          style: {\n            padding: '0 36px 0 6px',\n            backgroundColor: '#FAFAFA',\n            width: editor.type === 'datetime' ? 178 : 'auto'\n          },\n          inputStyle: {\n            padding: 0\n          },\n          iconStyle: {\n            right: 6\n          },\n          clearIconStyle: {\n            right: 6\n          },\n          isAttachToBody: false,\n          calendarLocale: localeId,\n          valueLocale: (0, _componentutil.getRootLocale)(),\n          value: filter,\n          mask: editor[_serverproperties.MASK],\n          displayFormat: editor[_serverproperties.DISPLAY_FORMAT],\n          today: editor[_serverproperties.TODAY],\n          timeZone: editor[_serverproperties.TIME_ZONE],\n          type: editor.type,\n          onChange: function onChange(date) {\n            return handleChange({\n              isValue: true,\n              value: date\n            });\n          },\n          onKeyDown: onKeyDownHandle,\n          getPopupPanel: function getPopupPanel(ele) {\n            return _this.getExpandDom(ele);\n          },\n          onFocus: function onFocus(e) {\n            return handleFocus();\n          }\n        }));\n      }\n      return dom;\n    };\n    _this.SearchBox = function () {\n      var filterTypes = _this.props.filterTypes;\n      return function (props) {\n        var filterTypeId = props.type;\n        var inpuntItems = filterTypes.length > 0 && filterTypes.filter(function (item) {\n          return item.id === filterTypeId[0] && item.inputCtlType === 0;\n        }) || [];\n        _this.activeOption = ''; // 每次加载\n        if (inpuntItems.length > 0) {\n          _this.isInput = true;\n          return _this.getSearchBox(inpuntItems[0], props);\n        } else {\n          _this.isInput = false;\n          return null;\n        }\n      };\n    };\n    _this.resetAll = function () {\n      var _this$props3 = _this.props,\n        publishRowSortFilter = _this$props3.publishRowSortFilter,\n        colDef = _this$props3.colDef,\n        getGridDataByFilter = _this$props3.getGridDataByFilter,\n        getIsActiveFilter = _this$props3.getIsActiveFilter;\n      publishRowSortFilter && publishRowSortFilter({\n        colId: colDef.field,\n        value: {\n          type: [],\n          filter: ''\n        }\n      }, 'filter');\n      getIsActiveFilter && getIsActiveFilter() && getGridDataByFilter && getGridDataByFilter(true);\n    };\n    return _this;\n  }\n  _createClass(ListDateFilterRenderer, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      document.addEventListener('mousedown', this.mouseDownHandle);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.expandDom = null;\n      this.childDom = null;\n      document.removeEventListener('mousedown', this.mouseDownHandle);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props4 = this.props,\n        filterModel = _this$props4.filterModel,\n        defaultValue = _this$props4.defaultValue,\n        handleFilterChange = _this$props4.handleFilterChange,\n        other = _objectWithoutProperties(_this$props4, _excluded);\n      var _filterModel = Object.assign({}, filterModel);\n      // if (defaultValue && _filterModel.filter === '' && this.isInput !== true) {\n      //   handleFilterChange && handleFilterChange(defaultValue)\n      //   _filterModel.filter = defaultValue\n      // }\n      return /*#__PURE__*/_react[\"default\"].createElement(_FilterRenderer[\"default\"], _extends({\n        option: MyOption,\n        searchBox: this.SearchBox(),\n        filterModel: _filterModel,\n        resetAll: this.resetAll,\n        publishFilterRequest: this.publishFilterRequest,\n        handleFilterChange: handleFilterChange\n      }, other));\n    }\n  }]);\n  return ListDateFilterRenderer;\n}(_react[\"default\"].Component)) || _class;\nfunction MyOption(props) {\n  var typeChanged = props.typeChanged,\n    value = props.value,\n    handleChange = props.handleChange,\n    other = _objectWithoutProperties(props, _excluded2);\n  var _typeChanged = function _typeChanged(type) {\n    handleChange({\n      isValue: true,\n      value: value || ''\n    });\n    typeChanged(type);\n  };\n  return /*#__PURE__*/_react[\"default\"].createElement(_FilterBaseItem.Option, _extends({\n    typeChanged: _typeChanged\n  }, other));\n}\nvar _default = exports[\"default\"] = ListDateFilterRenderer;\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/FilterRenderer/ListDateFilterRenderer.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/FilterRenderer/ListFilterFactory.js":
/*!***********************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/FilterRenderer/ListFilterFactory.js ***!
  \***********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _serverproperties = __webpack_require__(/*! ../../../../../constant/serverproperties */ \"./src/constant/serverproperties.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); } /**\n * 列过滤器工厂\n * by kechuang\n */\nvar ListFilterFactory = function ListFilterFactory(FilterRender) {\n  return /*#__PURE__*/function (_React$Component) {\n    _inherits(_class, _React$Component);\n    function _class(props) {\n      var _this;\n      _classCallCheck(this, _class);\n      _this = _callSuper(this, _class, [props]);\n      // todo:这两个都应该使用Set保证值唯一\n      _this.getInputFocusFun = function (fun) {\n        _this.setInputFocus = fun;\n      };\n      _this.hideFilterPopup = function () {\n        _this.hidePopup && _this.hidePopup();\n      };\n      _this.handleFilterChange = function (value) {\n        var filter = _this.filterModel.filter;\n        if (value !== filter) {\n          _this.filterModel.filter = value;\n        }\n      };\n      _this.handleTypeChange = function (value) {\n        _this.filterModel.type = value;\n      };\n      _this.getGridDataByFilter = function () {\n        var isReset = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n        var customFilter = arguments.length > 1 ? arguments[1] : undefined;\n        var _this$filterModel = _this.filterModel,\n          filter = _this$filterModel.filter,\n          type = _this$filterModel.type; // Value,Compare\n        var newfilter = customFilter || filter; // 自定义发出去的值，不是存储在model里面的值\n        var filterAry = _lodash[\"default\"].isArray(newfilter) ? newfilter : [newfilter];\n        if (isReset === true) {\n          filterAry = [];\n          filter = '';\n          type = [];\n        }\n        var colDef = _this.getFilterCol();\n        var args = [[{\n          FieldName: [colDef.field],\n          Value: filterAry,\n          Compare: type\n        }]];\n        _this.saveFilterAndRequest({\n          colId: colDef.field,\n          value: {\n            filter: filter,\n            type: type\n          },\n          isReset: isReset\n        }, args);\n      };\n      _this.saveFilterAndRequest = function (filterState, args) {\n        var _this$props = _this.props,\n          publishRowSortFilter = _this$props.publishRowSortFilter,\n          invokeControlMethodOnly = _this$props.invokeControlMethodOnly,\n          pid = _this$props.pid,\n          gridId = _this$props.gridId;\n        var model = {\n          pageId: pid,\n          key: gridId\n        };\n        publishRowSortFilter && publishRowSortFilter(filterState, 'filter');\n        invokeControlMethodOnly && invokeControlMethodOnly(model, 'getGridDataByFilter', args);\n        _this.hidePopup && _this.hidePopup();\n      };\n      // 多类型过滤，目前只有多类型基础资料有\n      _this.getIsMultiTypes = function () {\n        var colDef = _this.getFilterCol();\n        var otherFilterItems = colDef.otherFilterItems;\n        _this.isMultiTypes = otherFilterItems && otherFilterItems.length > 0;\n        return _this.isMultiTypes;\n      };\n      _this.isNotDefaultType = function (type) {\n        var notTypeArray = [_serverproperties.Ctrls.KDSelect, _serverproperties.Ctrls.KDMulSelect, _serverproperties.Ctrls.KDCheckbox];\n        return notTypeArray.indexOf(type) > -1;\n      };\n      _this.getFilterData = function () {\n        return _this.props.getRowSortFilter && _this.props.getRowSortFilter();\n      };\n      _this.getFilterCol = function () {\n        var _this$props2 = _this.props,\n          colDef = _this$props2.colDef,\n          isCombined = _this$props2.isCombined,\n          combinedItems = _this$props2.combinedItems,\n          sortAndFilterField = _this$props2.sortAndFilterField,\n          getFilterAndSortCol = _this$props2.getFilterAndSortCol;\n        return getFilterAndSortCol(isCombined, combinedItems, sortAndFilterField) || colDef;\n      };\n      _this.getFilterTypesAndCol = function () {\n        var _this$getFilterData = _this.getFilterData(),\n          filterColumn = _this$getFilterData.filterColumn;\n        var initFilter = '';\n        var initType = [];\n        var colDef = _this.getFilterCol();\n        if (filterColumn && filterColumn.hasOwnProperty(colDef.field)) {\n          var _filterColumn = filterColumn[colDef.field];\n          initFilter = _filterColumn.filter || '';\n          initType = _filterColumn.type || [];\n        }\n        _this.filterModel = {\n          filter: initFilter,\n          type: initType\n        };\n        var comboItems = colDef.comboItems,\n          filterItems = colDef.filterItems;\n        var typeItems = comboItems || filterItems || [];\n        var isNotDefaultType = _this.isNotDefaultType(colDef.cellRendererParams.type);\n        // 如果传入的过滤条件为空且不为某些类型就取默认值\n        _this.defaultType = !isNotDefaultType && typeItems.length > 0 ? [typeItems[0].id || typeItems[0].value] : [];\n        _this.defaultValue = !isNotDefaultType && typeItems.length > 0 ? typeItems[0].value : ''; // 日期默认需要传值\n        var filterModel = !isNotDefaultType && _this.filterModel && _this.filterModel.type.length === 0 ? Object.assign(_this.filterModel, {\n          type: _this.defaultType\n        }) : _this.filterModel;\n        return {\n          typeItems: typeItems,\n          filterModel: filterModel,\n          colDef: colDef\n        };\n      };\n      _this.getIsActiveFilter = function () {\n        var colDef = _this.getFilterCol();\n        var _this$getFilterData2 = _this.getFilterData(),\n          filterColumn = _this$getFilterData2.filterColumn;\n        var filterType = filterColumn && filterColumn.hasOwnProperty(colDef.field) ? filterColumn[colDef.field] : {};\n        return !!(filterType.type && filterType.type.length > 0);\n      };\n      _this.getClearInputFun = function (func) {\n        _this.clearInputFunction = func;\n      };\n      _this.clearInput = function () {\n        _this.clearInputFunction && _this.clearInputFunction();\n      };\n      var _initFilter = '';\n      var _initType = [];\n      _this.setInputFocus = null;\n      _this.filterModel = {\n        filter: _initFilter,\n        type: _initType\n      };\n      return _this;\n    }\n    _createClass(_class, [{\n      key: \"afterGuiAttached\",\n      value: function afterGuiAttached(param) {\n        this.hidePopup = param.hidePopup;\n        this.setInputFocus && this.setInputFocus();\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this$getFilterTypesA = this.getFilterTypesAndCol(),\n          typeItems = _this$getFilterTypesA.typeItems,\n          filterModel = _this$getFilterTypesA.filterModel,\n          colDef = _this$getFilterTypesA.colDef;\n        var isMultiTypes = this.getIsMultiTypes();\n        var _this$props3 = this.props,\n          pid = _this$props3.pid,\n          gridId = _this$props3.gridId,\n          localeId = _this$props3.localeId,\n          defaultLocalId = _this$props3.defaultLocalId;\n        return /*#__PURE__*/_react[\"default\"].createElement(FilterRender, {\n          handleFilterChange: this.handleFilterChange,\n          handleTypeChange: this.handleTypeChange,\n          filterModel: filterModel,\n          colDef: colDef,\n          editor: colDef.cellRendererParams.editor || {},\n          pid: pid,\n          gridId: gridId,\n          getGridDataByFilter: this.getGridDataByFilter,\n          getInputFocusFun: this.getInputFocusFun,\n          publishRowSortFilter: this.publishRowSortFilter,\n          filterTypes: typeItems,\n          hideFilterPopup: this.hideFilterPopup,\n          localeId: localeId,\n          defaultLocalId: defaultLocalId,\n          defaultType: this.defaultType,\n          defaultValue: this.defaultValue,\n          getIsActiveFilter: this.getIsActiveFilter,\n          getClearInputFun: this.getClearInputFun,\n          getFilterData: this.getFilterData,\n          isMultiTypes: isMultiTypes,\n          saveFilterAndRequest: this.saveFilterAndRequest\n        });\n      }\n    }]);\n    return _class;\n  }(_react[\"default\"].Component);\n};\nvar _default = exports[\"default\"] = ListFilterFactory;\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/FilterRenderer/ListFilterFactory.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/FilterRenderer/ListNumberFilterRenderer.js":
/*!******************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/FilterRenderer/ListNumberFilterRenderer.js ***!
  \******************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _FilterRenderer = _interopRequireDefault(__webpack_require__(/*! ./FilterRenderer */ \"./src/component/web/DataGrid/AgDataGrid/FilterRenderer/FilterRenderer.js\"));\nvar _ListFilterFactory = _interopRequireDefault(__webpack_require__(/*! ./ListFilterFactory */ \"./src/component/web/DataGrid/AgDataGrid/FilterRenderer/ListFilterFactory.js\"));\nvar _BaseComponents = __webpack_require__(/*! ../../../base/BaseComponents */ \"./src/component/web/base/BaseComponents/index.js\");\nvar _serverproperties = __webpack_require__(/*! ../../../../../constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _const = __webpack_require__(/*! ../../../../../constant/const */ \"./src/constant/const.js\");\nvar _class;\n/**\n * 数字列的过滤器\n * by kechuang\n */\n/**\n * 文本过滤器\n * by kechuang\n */\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectDestructuringEmpty(obj) { if (obj == null) throw new TypeError(\"Cannot destructure \" + obj); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar ListNumberFilterRenderer = exports[\"default\"] = (0, _ListFilterFactory[\"default\"])(_class = /*#__PURE__*/function (_React$Component) {\n  _inherits(ListNumberFilterRenderer, _React$Component);\n  function ListNumberFilterRenderer() {\n    var _this;\n    _classCallCheck(this, ListNumberFilterRenderer);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _callSuper(this, ListNumberFilterRenderer, [].concat(args));\n    _this.publishFilterRequest = function () {\n      var _this$props = _this.props,\n        getGridDataByFilter = _this$props.getGridDataByFilter,\n        filterModel = _this$props.filterModel;\n      var type = filterModel.type,\n        filter = filterModel.filter;\n      if (filter === '' || type.length === 0) {\n        _this.resetAll();\n        _this.props.hideFilterPopup();\n        return;\n      }\n      getGridDataByFilter && getGridDataByFilter();\n    };\n    _this.resetAll = function () {\n      var _this$props2 = _this.props,\n        publishRowSortFilter = _this$props2.publishRowSortFilter,\n        colDef = _this$props2.colDef,\n        getGridDataByFilter = _this$props2.getGridDataByFilter,\n        getIsActiveFilter = _this$props2.getIsActiveFilter;\n      publishRowSortFilter && publishRowSortFilter({\n        colId: colDef.field,\n        value: {\n          type: [],\n          filter: ''\n        }\n      }, 'filter');\n      getIsActiveFilter && getIsActiveFilter() && getGridDataByFilter && getGridDataByFilter(true);\n    };\n    _this.renderSearchBox = function () {\n      var editor = _this.props.editor || {};\n      return function (props) {\n        var placeholder = props.placeholder,\n          handleChange = props.handleChange,\n          filter = props.filter,\n          handleFocus = props.handleFocus,\n          inputTextClass = props.inputTextClass,\n          onKeyDownHandle = props.onKeyDownHandle;\n        //digitLength: 整个数字的最大长度(长整数长度:18) 后端不肯传，那就和过滤面板一样写死\n        //decimalLength: 小数精度长度(精度为0即当作整数处理) \n        var decimalLength = editor[_serverproperties.SCALE] || 0;\n        var digitLength = editor[_serverproperties.PRECISION] ? editor[_serverproperties.PRECISION] : _const.DEFAULT_DIGIT_LENGTH + decimalLength;\n        return /*#__PURE__*/_react[\"default\"].createElement(_BaseComponents.Number, {\n          className: inputTextClass,\n          boxStyle: {\n            flexGrow: 1\n          } // 宽度自适应撑开\n          ,\n          value: filter,\n          onChange: function onChange(e) {\n            var value = e.target.value;\n            if (value == '' || value == '.') value = '';\n            return handleChange({\n              isValue: true,\n              value: value\n            });\n          },\n          onFocus: function onFocus(e) {\n            return handleFocus();\n          },\n          onKeyDown: onKeyDownHandle,\n          decimalLength: decimalLength,\n          placeholder: placeholder,\n          digitLength: digitLength,\n          zeroShow: true //列表过滤时，零始终显示editor[ZERO_SHOW]\n          ,\n          noDisplayDecimalTailZero: editor[_serverproperties.NO_DISPLAY_SCALE_ZERO],\n          mask: editor[_serverproperties.MASK],\n          min: editor[_serverproperties.MIN_VALUE],\n          max: editor[_serverproperties.MAX_VALUE],\n          minMark: editor[_serverproperties.MIN_MARK],\n          maxMark: editor[_serverproperties.MAX_MARK],\n          defaultFocus: true\n        });\n      };\n    };\n    return _this;\n  }\n  _createClass(ListNumberFilterRenderer, [{\n    key: \"render\",\n    value: function render() {\n      var other = Object.assign({}, (_objectDestructuringEmpty(this.props), this.props));\n      return /*#__PURE__*/_react[\"default\"].createElement(_FilterRenderer[\"default\"], _extends({\n        resetAll: this.resetAll,\n        publishFilterRequest: this.publishFilterRequest,\n        searchBox: this.renderSearchBox()\n      }, other));\n    }\n  }]);\n  return ListNumberFilterRenderer;\n}(_react[\"default\"].Component)) || _class;\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/FilterRenderer/ListNumberFilterRenderer.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/FilterRenderer/ListSelectFilterRenderer.js":
/*!******************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/FilterRenderer/ListSelectFilterRenderer.js ***!
  \******************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.every.js */ \"../../node_modules/core-js/modules/es.array.every.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.reduce.js */ \"../../node_modules/core-js/modules/es.array.reduce.js\");\n__webpack_require__(/*! core-js/modules/es.array.splice.js */ \"../../node_modules/core-js/modules/es.array.splice.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _FilterRenderer = _interopRequireDefault(__webpack_require__(/*! ./FilterRenderer */ \"./src/component/web/DataGrid/AgDataGrid/FilterRenderer/FilterRenderer.js\"));\nvar _ListFilterFactory = _interopRequireDefault(__webpack_require__(/*! ./ListFilterFactory */ \"./src/component/web/DataGrid/AgDataGrid/FilterRenderer/ListFilterFactory.js\"));\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _intlApi = __webpack_require__(/*! ../../../../../i18n/intlApi */ \"./src/i18n/intlApi.js\");\nvar _FilterRender = _interopRequireDefault(__webpack_require__(/*! ./FilterRender.less */ \"./src/component/web/DataGrid/AgDataGrid/FilterRenderer/FilterRender.less\"));\nvar _classnames2 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _class;\n/**\n * 下拉列表的列过滤渲染器\n * by kechuang\n */\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectDestructuringEmpty(obj) { if (obj == null) throw new TypeError(\"Cannot destructure \" + obj); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar ListSelectFilterRenderer = (0, _ListFilterFactory[\"default\"])(_class = /*#__PURE__*/function (_React$Component) {\n  _inherits(ListSelectFilterRenderer, _React$Component);\n  function ListSelectFilterRenderer(props) {\n    var _this;\n    _classCallCheck(this, ListSelectFilterRenderer);\n    _this = _callSuper(this, ListSelectFilterRenderer, [props]);\n    _this.publishFilterRequest = function () {\n      var _this$props = _this.props,\n        getGridDataByFilter = _this$props.getGridDataByFilter,\n        filterModel = _this$props.filterModel;\n      var type = filterModel.type,\n        filter = filterModel.filter;\n      if (type.length === 0) {\n        _this.resetAll();\n        _this.props.hideFilterPopup();\n        return;\n      }\n      var isValEmpty = filter.length === 0; // 值为空，则表明为清空\n      getGridDataByFilter && getGridDataByFilter(isValEmpty);\n    };\n    _this.resetAll = function () {\n      var _this$props2 = _this.props,\n        publishRowSortFilter = _this$props2.publishRowSortFilter,\n        colDef = _this$props2.colDef,\n        getGridDataByFilter = _this$props2.getGridDataByFilter,\n        getIsActiveFilter = _this$props2.getIsActiveFilter;\n      publishRowSortFilter && publishRowSortFilter({\n        colId: colDef.field,\n        value: {\n          type: []\n        }\n      }, 'filter');\n      getIsActiveFilter && getIsActiveFilter() && getGridDataByFilter && getGridDataByFilter(true);\n      _this.setState({\n        selectAll: false\n      });\n    };\n    _this.selectAllTypes = function (_ref) {\n      var handleChange = _ref.handleChange,\n        typeChanged = _ref.typeChanged,\n        filter = _ref.filter;\n      _this.setState({\n        selectAll: !_this.state.selectAll\n      }, function () {\n        var filterTypes = _this.props.filterTypes;\n        if (!_this.state.selectAll) {\n          handleChange({\n            isValue: true,\n            value: []\n          });\n          return;\n        }\n        if (!filterTypes || filter && filter.length === filterTypes.length) return;\n        typeChanged(filterTypes[0].id); // 复选框的比较符都是一样的\n        var values = filterTypes.reduce(function (pre, cur) {\n          pre.push(cur.value);\n          return pre;\n        }, []);\n        values = _this.state.selectAll ? values : [];\n        handleChange({\n          isValue: true,\n          value: values\n        });\n      });\n\n      // this.publishFilterRequest()\n    };\n    _this.state = {\n      selectAll: false\n    };\n    return _this;\n  }\n  _createClass(ListSelectFilterRenderer, [{\n    key: \"changeSelAllState\",\n    value: function changeSelAllState(filter) {\n      var filterTypes = this.props.filterTypes;\n      var selAllStatus = filterTypes.every(function (item) {\n        return filter.includes(item.value);\n      });\n      this.setState({\n        selectAll: selAllStatus\n      });\n    }\n  }, {\n    key: \"onFilterChange\",\n    value: function onFilterChange(filter) {\n      this.changeSelAllState(filter);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      var other = Object.assign({}, (_objectDestructuringEmpty(this.props), this.props));\n      return /*#__PURE__*/_react[\"default\"].createElement(_FilterRenderer[\"default\"], _extends({\n        option: Option,\n        isSelectAll: this.state.selectAll,\n        changeSelAllState: function changeSelAllState(filter) {\n          return _this2.changeSelAllState(filter);\n        },\n        searchBox: null,\n        resetAll: this.resetAll,\n        publishFilterRequest: this.publishFilterRequest,\n        selectAllTypes: this.selectAllTypes,\n        onFilterChange: this.onFilterChange,\n        isCombo: true\n      }, other));\n    }\n  }]);\n  return ListSelectFilterRenderer;\n}(_react[\"default\"].Component)) || _class;\nfunction Option(props) {\n  var name = props.name,\n    type = props.type,\n    activeType = props.activeType,\n    typeChanged = props.typeChanged,\n    getExistInfo = props.getExistInfo,\n    value = props.value,\n    handleChange = props.handleChange,\n    filter = props.filter,\n    isSelectAllOption = props.isSelectAllOption;\n  // 复选框类型的比较符都是一样的，只能用值来做比较了。。。\n  var filterIsArray = _lodash[\"default\"].isArray(filter); // 是数组时代表里面已经存了值\n  var active = false;\n  var _index;\n  if (filterIsArray) {\n    var _getExistInfo = getExistInfo(filter, value),\n      isExistValue = _getExistInfo.isExistValue,\n      index = _getExistInfo.index;\n    active = isExistValue;\n    _index = index;\n  }\n  active = props.isSelectAll || active;\n  var handleClick = function handleClick() {\n    !isSelectAllOption && typeChanged(type); // 全选不改变type\n    var newFilter;\n    // 塞值和反选\n    if (filterIsArray) {\n      if (active === false || active === undefined) {\n        newFilter = filter.concat([value]);\n      } else if (active === true) {\n        newFilter = Object.assign([], filter);\n        newFilter.splice(_index, 1);\n      }\n    } else {\n      newFilter = [value];\n    }\n    // props.changeSelAllState && props.changeSelAllState(newFilter)\n    handleChange({\n      isValue: true,\n      value: newFilter\n    });\n    // publishFilterRequest()\n  };\n  var className = (0, _classnames2[\"default\"])('kd-cq-dropdown-menu-item', _defineProperty({\n    'kd-hover': !active\n  }, _FilterRender[\"default\"].option, true));\n  var checkboxClassName = (0, _classnames2[\"default\"])({\n    kdfont: true,\n    'kdfont-fuxuankuangxuanzhong_fang': active,\n    'kdfont-fuxuankuangweixuanzhong_fang': !active,\n    'theme-fc': active\n  });\n  var contentText = name === '' ? \"(\".concat((0, _intlApi.getLangMsg)('grid.key0023'), \")\") : name;\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: className,\n    onClick: handleClick\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: checkboxClassName,\n    style: {\n      fontSize: '12px',\n      marginLeft: '2px'\n    }\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"input\", {\n    type: \"checkbox\",\n    value: type,\n    checked: active,\n    readOnly: true,\n    style: {\n      display: 'none'\n    }\n  })), /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: (0, _classnames2[\"default\"])(_FilterRender[\"default\"].checkboxContent),\n    title: contentText\n  }, contentText));\n}\nvar _default = exports[\"default\"] = ListSelectFilterRenderer;\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/FilterRenderer/ListSelectFilterRenderer.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/FilterRenderer/ListTextFilterRenderer.js":
/*!****************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/FilterRenderer/ListTextFilterRenderer.js ***!
  \****************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.find.js */ \"../../node_modules/core-js/modules/es.array.find.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _FilterRenderer = _interopRequireDefault(__webpack_require__(/*! ./FilterRenderer */ \"./src/component/web/DataGrid/AgDataGrid/FilterRenderer/FilterRenderer.js\"));\nvar _ListFilterFactory = _interopRequireDefault(__webpack_require__(/*! ./ListFilterFactory */ \"./src/component/web/DataGrid/AgDataGrid/FilterRenderer/ListFilterFactory.js\"));\nvar _class;\n/**\n * 文本过滤器\n * by kechuang\n */\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectDestructuringEmpty(obj) { if (obj == null) throw new TypeError(\"Cannot destructure \" + obj); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar ListTextFilterRenderer = (0, _ListFilterFactory[\"default\"])(_class = /*#__PURE__*/function (_React$Component) {\n  _inherits(ListTextFilterRenderer, _React$Component);\n  function ListTextFilterRenderer() {\n    var _this;\n    _classCallCheck(this, ListTextFilterRenderer);\n    for (var _len = arguments.length, _args = new Array(_len), _key = 0; _key < _len; _key++) {\n      _args[_key] = arguments[_key];\n    }\n    _this = _callSuper(this, ListTextFilterRenderer, [].concat(_args));\n    _this.isSuppresRequest = function (filter, type) {\n      if (filter === '' && !_this.isNotShowInputBox || type.length === 0) {\n        return true;\n      }\n    };\n    _this.publishFilterRequest = function () {\n      var filterModel = _this.props.filterModel;\n      var type = filterModel.type,\n        filter = filterModel.filter;\n      if (_this.isSuppresRequest(filter, type)) {\n        _this.resetAll();\n        _this.props.hideFilterPopup();\n        return;\n      }\n      _this._getGridDataByFilter(type, filter);\n    };\n    _this._getGridDataByFilter = function (type, filter) {\n      var _this$props = _this.props,\n        getGridDataByFilter = _this$props.getGridDataByFilter,\n        isMultiTypes = _this$props.isMultiTypes;\n      if (isMultiTypes) {\n        _this.postMultiType(type, filter);\n        return;\n      }\n      getGridDataByFilter && getGridDataByFilter();\n    };\n    _this.postMultiType = function (type, filter) {\n      var isReset = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var _this$constructMultiT = _this.constructMultiTypesData(type, filter, isReset),\n        args = _this$constructMultiT.args,\n        filterColumn = _this$constructMultiT.filterColumn;\n      _this.props.saveFilterAndRequest(filterColumn, [args]);\n    };\n    _this.constructMultiTypesData = function (type, filter) {\n      var isReset = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var colDef = _this.props.colDef;\n      var filterAry = Array.isArray(filter) ? filter : [filter];\n      var args = [{\n        FieldName: [colDef.field],\n        Value: filterAry,\n        Compare: type\n      }];\n      var minorFilterModel = _this.minorFilterModel || []; // 给多个次要条件过滤留口子\n      minorFilterModel = minorFilterModel[0] || {};\n      var otherFilterItems = colDef.otherFilterItems;\n      var minorFilter = isReset ? [] : minorFilterModel.filter;\n      var minorType = isReset ? [] : minorFilterModel.type;\n      args.push({\n        FieldName: [otherFilterItems && otherFilterItems[0] && otherFilterItems[0].fieldName],\n        Value: minorFilter,\n        Compare: minorType\n      });\n      var filterColumn = {\n        colId: colDef.field,\n        value: {\n          filter: filter,\n          type: type\n        },\n        minorFilter: {\n          filter: minorFilter,\n          type: minorType\n        },\n        isReset: isReset\n      };\n      return {\n        args: args,\n        filterColumn: filterColumn\n      };\n    };\n    _this.resetAll = function () {\n      var getIsActiveFilter = _this.props.getIsActiveFilter;\n      // publishRowSortFilter && publishRowSortFilter({ colId: colDef.field, value: { type: [], filter: '' } }, 'filter')\n      getIsActiveFilter && getIsActiveFilter() && _this.dispathResetAll();\n    };\n    _this.dispathResetAll = function () {\n      var _this$props2 = _this.props,\n        getGridDataByFilter = _this$props2.getGridDataByFilter,\n        isMultiTypes = _this$props2.isMultiTypes;\n      if (isMultiTypes) {\n        _this.postMultiType([], [], true);\n        return;\n      }\n      getGridDataByFilter && getGridDataByFilter(true);\n    };\n    _this.getIsShowInputBox = function (params) {\n      var filterTypes = _this.props.filterTypes;\n      var id = params.activeType && params.activeType[0];\n      var type = filterTypes.find && filterTypes.find(function (item) {\n        return item.id === id;\n      });\n      _this.isNotShowInputBox = type && type.inputCtlType === -1;\n      return !_this.isNotShowInputBox;\n    };\n    _this._handleTypeChange = function (newType) {\n      var isMainType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var handleTypeChange = _this.props.handleTypeChange;\n      isMainType ? handleTypeChange(newType) : _this.handleMinorTypeChange(newType);\n    };\n    _this._handleFilterChange = function (newFilter) {\n      var isMainType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var handleFilterChange = _this.props.handleFilterChange;\n      isMainType ? handleFilterChange(newFilter) : _this.handleMinorFilterChange(newFilter);\n    };\n    _this.handleMinorFilterChange = function (value) {\n      var minorFilterModel = _this.minorFilterModel || [];\n      minorFilterModel = minorFilterModel[0] || {};\n      var _minorFilterModel = minorFilterModel,\n        filter = _minorFilterModel.filter;\n      if (value !== filter) {\n        minorFilterModel.filter = value;\n        _this.minorFilterModel ? _this.minorFilterModel[0] = minorFilterModel : _this.minorFilterModel = [minorFilterModel];\n      }\n    };\n    _this.handleMinorTypeChange = function (value) {\n      var minorFilterModel = _this.minorFilterModel || [];\n      minorFilterModel = minorFilterModel[0] || {};\n      minorFilterModel.type = value;\n      _this.minorFilterModel ? _this.minorFilterModel[0] = minorFilterModel : _this.minorFilterModel = [minorFilterModel];\n    };\n    _this.getMinorByMeta = function () {\n      var minorFilterModel = _this.getMinorData();\n      var minorFilterMeta = _this.props.colDef.otherFilterItems[0];\n      _this.minorFilterMeta = minorFilterMeta;\n      return {\n        minorFilterModel: minorFilterModel,\n        minorFilterMeta: minorFilterMeta,\n        minorDefaultValue: [_this.defaultValue, _this.defaultType]\n      };\n    };\n    _this.getMinorData = function () {\n      var _this$props3 = _this.props,\n        getFilterData = _this$props3.getFilterData,\n        colDef = _this$props3.colDef;\n      var _getFilterData = getFilterData(),\n        minorFilterColumn = _getFilterData.minorFilterColumn;\n      var initFilter = '';\n      var initType = [];\n      if (minorFilterColumn && minorFilterColumn.hasOwnProperty(colDef.field)) {\n        var _filterColumn = minorFilterColumn[colDef.field] && minorFilterColumn[colDef.field][0];\n        initFilter = _filterColumn.filter || '';\n        initType = _filterColumn.type || [];\n      }\n      var minorFilterModel = {\n        filter: initFilter,\n        type: initType\n      };\n      var otherFilterItems = colDef.otherFilterItems;\n      var minorFilterMeta = otherFilterItems[0];\n      // 目前这个次要条件是枚举类型，type比较符 id都一样，用value代替\n      var minorTypeItems = minorFilterMeta && minorFilterMeta.items;\n      _this.defaultValue = minorTypeItems && minorTypeItems.length > 0 ? [minorFilterMeta.items[0].value] : ''; // 枚举类型默认取个数组\n      _this.defaultType = minorTypeItems && minorTypeItems.length > 0 ? [minorTypeItems[0].id || minorTypeItems[0].value] : [];\n      minorFilterModel.filter.length === 0 && Object.assign(minorFilterModel, {\n        filter: _this.defaultValue,\n        type: _this.defaultType\n      });\n      _this.minorFilterModel = [minorFilterModel]; // 留下多个过滤的口子\n      return minorFilterModel;\n    };\n    return _this;\n  }\n  _createClass(ListTextFilterRenderer, [{\n    key: \"render\",\n    value: function render() {\n      var other = Object.assign({}, (_objectDestructuringEmpty(this.props), this.props));\n      var minorData = this.props.isMultiTypes ? this.getMinorByMeta() : {};\n      return /*#__PURE__*/_react[\"default\"].createElement(_FilterRenderer[\"default\"], _extends({\n        resetAll: this.resetAll,\n        publishFilterRequest: this.publishFilterRequest,\n        getIsShowInputBox: this.getIsShowInputBox\n      }, other, {\n        handleTypeChange: this._handleTypeChange,\n        handleFilterChange: this._handleFilterChange\n      }, minorData));\n    }\n  }]);\n  return ListTextFilterRenderer;\n}(_react[\"default\"].Component)) || _class;\nvar _default = exports[\"default\"] = ListTextFilterRenderer;\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/FilterRenderer/ListTextFilterRenderer.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/FilterRenderer/filterHooks.js":
/*!*****************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/FilterRenderer/filterHooks.js ***!
  \*****************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.useDidMount = useDidMount;\nexports.useFilterChangeListenr = useFilterChangeListenr;\nexports.useFilterRenderState = useFilterRenderState;\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\nvar _react = __webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\");\nvar _memoryCacher = __webpack_require__(/*! @/model/memoryCacher.js */ \"./src/model/memoryCacher.js\");\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction useFilterRenderState(defaultFilter, defaultType) {\n  var _useState = (0, _react.useState)(defaultFilter || ''),\n    _useState2 = _slicedToArray(_useState, 2),\n    filter = _useState2[0],\n    setFilter = _useState2[1];\n  var _useState3 = (0, _react.useState)(defaultType),\n    _useState4 = _slicedToArray(_useState3, 2),\n    type = _useState4[0],\n    setType = _useState4[1];\n  var _useState5 = (0, _react.useState)(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    inputFocus = _useState6[0],\n    setInputFocus = _useState6[1];\n  return {\n    filter: filter,\n    setFilter: setFilter,\n    type: type,\n    setType: setType,\n    inputFocus: inputFocus,\n    setInputFocus: setInputFocus\n  };\n}\nfunction useDidMount(getInputFocusFun, getClearInputFun, setInputDomFocus, clearInputValue, resetFilterAndType, isEntryFilter) {\n  (0, _react.useEffect)(function () {\n    setInputDomFocus && setInputDomFocus();\n    getInputFocusFun && getInputFocusFun(setInputDomFocus);\n    getClearInputFun && getClearInputFun(resetFilterAndType); // 列表单据体过滤清理\n  }, []);\n}\nfunction useFilterChangeListenr(props, filterColumnChange) {\n  (0, _react.useEffect)(function () {\n    var pid = props.pid,\n      gridId = props.gridId,\n      colDef = props.colDef;\n    var field = colDef.field;\n    var eventHandle = (0, _memoryCacher.addDataChangeListener)(pid, [gridId, field, 'filter', 'data'], filterColumnChange);\n    return function () {\n      eventHandle && eventHandle();\n    };\n  }, []);\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/FilterRenderer/filterHooks.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/FilterRenderer/index.js":
/*!***********************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/FilterRenderer/index.js ***!
  \***********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nObject.defineProperty(exports, \"EntryDateFilterRenderer\", ({\n  enumerable: true,\n  get: function get() {\n    return _EntryDateFilterRenderer[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"EntryNumberFilterRenderer\", ({\n  enumerable: true,\n  get: function get() {\n    return _EntryNumberFilterRenderer[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"EntrySelectFilterRenderer\", ({\n  enumerable: true,\n  get: function get() {\n    return _EntrySelectFilterRenderer[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"EntryTextFilterRenderer\", ({\n  enumerable: true,\n  get: function get() {\n    return _EntryTextFilterRenderer[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"ListDateFilterRenderer\", ({\n  enumerable: true,\n  get: function get() {\n    return _ListDateFilterRenderer[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"ListNumberFilterRenderer\", ({\n  enumerable: true,\n  get: function get() {\n    return _ListNumberFilterRenderer[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"ListSelectFilterRenderer\", ({\n  enumerable: true,\n  get: function get() {\n    return _ListSelectFilterRenderer[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"ListTextFilterRenderer\", ({\n  enumerable: true,\n  get: function get() {\n    return _ListTextFilterRenderer[\"default\"];\n  }\n}));\nvar _ListTextFilterRenderer = _interopRequireDefault(__webpack_require__(/*! ./ListTextFilterRenderer */ \"./src/component/web/DataGrid/AgDataGrid/FilterRenderer/ListTextFilterRenderer.js\"));\nvar _ListNumberFilterRenderer = _interopRequireDefault(__webpack_require__(/*! ./ListNumberFilterRenderer */ \"./src/component/web/DataGrid/AgDataGrid/FilterRenderer/ListNumberFilterRenderer.js\"));\nvar _ListSelectFilterRenderer = _interopRequireDefault(__webpack_require__(/*! ./ListSelectFilterRenderer */ \"./src/component/web/DataGrid/AgDataGrid/FilterRenderer/ListSelectFilterRenderer.js\"));\nvar _ListDateFilterRenderer = _interopRequireDefault(__webpack_require__(/*! ./ListDateFilterRenderer */ \"./src/component/web/DataGrid/AgDataGrid/FilterRenderer/ListDateFilterRenderer.js\"));\nvar _EntryTextFilterRenderer = _interopRequireDefault(__webpack_require__(/*! ./EntryTextFilterRenderer */ \"./src/component/web/DataGrid/AgDataGrid/FilterRenderer/EntryTextFilterRenderer.js\"));\nvar _EntryNumberFilterRenderer = _interopRequireDefault(__webpack_require__(/*! ./EntryNumberFilterRenderer */ \"./src/component/web/DataGrid/AgDataGrid/FilterRenderer/EntryNumberFilterRenderer.js\"));\nvar _EntryDateFilterRenderer = _interopRequireDefault(__webpack_require__(/*! ./EntryDateFilterRenderer */ \"./src/component/web/DataGrid/AgDataGrid/FilterRenderer/EntryDateFilterRenderer.js\"));\nvar _EntrySelectFilterRenderer = _interopRequireDefault(__webpack_require__(/*! ./EntrySelectFilterRenderer */ \"./src/component/web/DataGrid/AgDataGrid/FilterRenderer/EntrySelectFilterRenderer/index.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/FilterRenderer/index.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/GridUtils.js":
/*!************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/GridUtils.js ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.async-iterator.js */ \"../../node_modules/core-js/modules/es.symbol.async-iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-string-tag.js */ \"../../node_modules/core-js/modules/es.symbol.to-string-tag.js\");\n__webpack_require__(/*! core-js/modules/es.array.reverse.js */ \"../../node_modules/core-js/modules/es.array.reverse.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.json.to-string-tag.js */ \"../../node_modules/core-js/modules/es.json.to-string-tag.js\");\n__webpack_require__(/*! core-js/modules/es.math.to-string-tag.js */ \"../../node_modules/core-js/modules/es.math.to-string-tag.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-properties.js */ \"../../node_modules/core-js/modules/es.object.define-properties.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptors.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.promise.js */ \"../../node_modules/core-js/modules/es.promise.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.ArrayIterator = ArrayIterator;\nObject.defineProperty(exports, \"Ctrls\", ({\n  enumerable: true,\n  get: function get() {\n    return _serverproperties.Ctrls;\n  }\n}));\nexports.DEFAULTROWCOUNT = void 0;\nObject.defineProperty(exports, \"HEIGHT\", ({\n  enumerable: true,\n  get: function get() {\n    return _serverproperties.HEIGHT;\n  }\n}));\nexports.Iterator = void 0;\nObject.defineProperty(exports, \"KEY\", ({\n  enumerable: true,\n  get: function get() {\n    return _serverproperties.KEY;\n  }\n}));\nexports.ObjectIterator = ObjectIterator;\nexports.VIRTUAL_VIEW_TOOLBAR_HEIGHT = exports.TOOLBARHEIGHT = exports.SELECTIONCOLID = exports.SCROLLBARWIDTH = exports.PINNEDROWHEIGHT = void 0;\nObject.defineProperty(exports, \"WIDTH\", ({\n  enumerable: true,\n  get: function get() {\n    return _serverproperties.WIDTH;\n  }\n}));\nexports.calAutoHeightHeader = calAutoHeightHeader;\nexports.cellValueGetter = cellValueGetter;\nexports.childrenLookUp = childrenLookUp;\nexports.childrenLoop = childrenLoop;\nexports.compareObj = compareObj;\nexports.convertLookupInfo = convertLookupInfo;\nexports.deepClone = deepClone;\nexports.executeFrameRecursion = executeFrameRecursion;\nexports.find = find;\nexports.foy = foy;\nexports.getCellOriginalValue = getCellOriginalValue;\nexports.getCellValue = getCellValue;\nexports.getCommonClassInObj = getCommonClassInObj;\nexports.getEnableAutoSizeCol = getEnableAutoSizeCol;\nexports.getFlexFieldChildValue = getFlexFieldChildValue;\nexports.getGridMetaAndUIDefaultProps = getGridMetaAndUIDefaultProps;\nexports.getHeaderBorder = getHeaderBorder;\nexports.getRecordPrimaryKeys = getRecordPrimaryKeys;\nexports.getRightBorderCols = getRightBorderCols;\nexports.getRowDataWithOriginalCellValue = getRowDataWithOriginalCellValue;\nexports.getScrollWidth = getScrollWidth;\nexports.getSelfCommonClass = getSelfCommonClass;\nexports.getStyleInObj = getStyleInObj;\nexports.getTargetColumnsForAutoSize = getTargetColumnsForAutoSize;\nexports.getValue = getValue;\nexports.hasFilterModel = void 0;\nexports.hasGridSettingButton = hasGridSettingButton;\nexports.htmlDecode = htmlDecode;\nexports.htmlEncode = htmlEncode;\nexports.isBaseData = isBaseData;\nexports.isColumnOfNoEditor = isColumnOfNoEditor;\nexports.isEditableColumn = isEditableColumn;\nexports.isEntryWithoutTreeByGridContrlParams = isEntryWithoutTreeByGridContrlParams;\nexports.isEnumColumn = isEnumColumn;\nexports.isSimplestPageMode = isSimplestPageMode;\nexports.isSingleSelectBaseData = isSingleSelectBaseData;\nexports.isSrollToEnd = isSrollToEnd;\nexports.stopPropagation = exports.showEmptyPH = void 0;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.find.js */ \"../../node_modules/core-js/modules/es.array.find.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.join.js */ \"../../node_modules/core-js/modules/es.array.join.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.set.js */ \"../../node_modules/core-js/modules/es.set.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.string.starts-with.js */ \"../../node_modules/core-js/modules/es.string.starts-with.js\");\n__webpack_require__(/*! core-js/modules/es.string.trim.js */ \"../../node_modules/core-js/modules/es.string.trim.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nvar _lodash = _interopRequireWildcard(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _serverproperties = __webpack_require__(/*! ../../../../constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _componentutil = __webpack_require__(/*! ../../../../util/componentutil */ \"./src/util/componentutil.js\");\nvar _GridStyles = _interopRequireDefault(__webpack_require__(/*! ./GridStyles.less */ \"./src/component/web/DataGrid/AgDataGrid/GridStyles.less\"));\nvar _metaCacher = __webpack_require__(/*! @/model/metaCacher */ \"./src/model/metaCacher.js\");\nvar _defaultPropsUtil = __webpack_require__(/*! @/util/defaultPropsUtil */ \"./src/util/defaultPropsUtil.js\");\nvar _constant = __webpack_require__(/*! ./constant */ \"./src/component/web/DataGrid/AgDataGrid/constant.js\");\nvar _gridConst = __webpack_require__(/*! @/constant/gridConst */ \"./src/constant/gridConst.js\");\nvar _customProperties = _interopRequireDefault(__webpack_require__(/*! @/constant/customProperties */ \"./src/constant/customProperties.js\"));\nvar _propsMap = __webpack_require__(/*! @/constant/propsMap */ \"./src/constant/propsMap.js\");\nvar _symbolConst = __webpack_require__(/*! @/constant/symbolConst */ \"./src/constant/symbolConst.js\");\nvar _GlobalDataCacher = __webpack_require__(/*! @/model/GlobalDataCacher */ \"./src/model/GlobalDataCacher.js\");\nvar _params = __webpack_require__(/*! @/component/web/DataGrid/TableHelper/util/params */ \"./src/component/web/DataGrid/TableHelper/util/params.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw new Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw new Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nvar _marked = /*#__PURE__*/_regeneratorRuntime().mark(ArrayIterator),\n  _marked2 = /*#__PURE__*/_regeneratorRuntime().mark(ObjectIterator);\nvar SCROLLBARWIDTH = exports.SCROLLBARWIDTH = getScrollWidth();\nvar SELECTIONCOLID = exports.SELECTIONCOLID = 'XXfieldXX';\nvar DEFAULTROWCOUNT = exports.DEFAULTROWCOUNT = 1;\nvar PINNEDROWHEIGHT = exports.PINNEDROWHEIGHT = 34;\nvar VIRTUAL_VIEW_TOOLBAR_HEIGHT = exports.VIRTUAL_VIEW_TOOLBAR_HEIGHT = 32;\nvar TOOLBARHEIGHT = exports.TOOLBARHEIGHT = {\n  min: 32,\n  // 默认\n  max: 50\n};\nfunction ArrayIterator(arr) {\n  var length, i, item;\n  return _regeneratorRuntime().wrap(function ArrayIterator$(_context) {\n    while (1) switch (_context.prev = _context.next) {\n      case 0:\n        length = arr.length;\n        i = 0;\n      case 2:\n        if (!(i < length)) {\n          _context.next = 9;\n          break;\n        }\n        item = arr[i];\n        _context.next = 6;\n        return item;\n      case 6:\n        i++;\n        _context.next = 2;\n        break;\n      case 9:\n      case \"end\":\n        return _context.stop();\n    }\n  }, _marked);\n}\nfunction ObjectIterator(obj) {\n  var o;\n  return _regeneratorRuntime().wrap(function ObjectIterator$(_context2) {\n    while (1) switch (_context2.prev = _context2.next) {\n      case 0:\n        _context2.t0 = _regeneratorRuntime().keys(obj);\n      case 1:\n        if ((_context2.t1 = _context2.t0()).done) {\n          _context2.next = 7;\n          break;\n        }\n        o = _context2.t1.value;\n        _context2.next = 5;\n        return {\n          key: o,\n          value: obj[o]\n        };\n      case 5:\n        _context2.next = 1;\n        break;\n      case 7:\n      case \"end\":\n        return _context2.stop();\n    }\n  }, _marked2);\n}\nfunction getValue(obj, propertyName, defaultValue) {\n  if (_immutable.Map.isMap(obj)) {\n    if (obj.has(propertyName)) {\n      var v = obj.get(propertyName, (0, _immutable.Map)());\n      if (_immutable.Map.isMap(v) || _immutable.List.isList(v)) {\n        v = v.toJS();\n      }\n      return v === '' || v == null ? defaultValue : v;\n    } else {\n      return defaultValue;\n    }\n  }\n  return obj[propertyName] == undefined || obj[propertyName].toString() === '' ? defaultValue : obj[propertyName];\n}\nfunction getScrollWidth() {\n  var noScroll;\n  var scroll;\n  var oDiv = document.createElement('DIV');\n  oDiv.className = _GridStyles[\"default\"].getScrollWidth;\n  oDiv.style.cssText = 'position:absolute; top:-1000px; width:100px; height:100px; overflow:hidden;';\n  noScroll = document.body.appendChild(oDiv).clientWidth;\n  oDiv.style.overflowY = 'scroll';\n  scroll = oDiv.clientWidth;\n  document.body.removeChild(oDiv);\n  var barWidth = noScroll - scroll;\n  // barWidth = barWidth < 8 ? 8 : barWidth\n  return barWidth;\n}\nfunction childrenLoop(obj, operate) {\n  if (Array.isArray(obj)) {\n    for (var cc in obj) {\n      childrenLoop(obj[cc], operate);\n    }\n  } else if (_typeof(obj) === 'object') {\n    if (obj.hasOwnProperty('children')) {\n      childrenLoop(obj.children, operate);\n    } else {\n      operate(obj);\n    }\n  }\n}\n// 如果层级很多，需要进行算法优化，使用索引码方式。By Fromin\nfunction childrenLookUp(obj, condition) {\n  var isLookUpGroup = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  if (_typeof(obj) === 'object' && obj.hasOwnProperty('children')) {\n    // 遍历分组列自身\n    if (isLookUpGroup && condition(obj)) return obj;\n    var a = childrenLookUp(obj.children, condition, isLookUpGroup);\n    if (a) return a;\n  } else {\n    if (Array.isArray(obj)) {\n      for (var cc in obj) {\n        var _a = childrenLookUp(obj[cc], condition, isLookUpGroup);\n        if (_a) return _a;\n      }\n    } else {\n      if (condition(obj)) {\n        return obj;\n      }\n    }\n  }\n}\nfunction find(obj, condition) {\n  if (Array.isArray(obj)) {\n    for (var i = 0; i < obj.length; i++) {\n      if (condition(obj[i]) === true) {\n        return obj[i];\n      }\n    }\n    return null;\n  } else {\n    for (var p in obj) {\n      if (condition(obj[p]) === true) {\n        return obj[p];\n      }\n    }\n    return null;\n  }\n}\nfunction deepClone(obj) {\n  var str;\n  var newobj = obj.constructor === Array ? [] : {};\n  if (_typeof(obj) !== 'object') {\n    return;\n  } else if (window.JSON) {\n    str = JSON.stringify(obj);\n    newobj = JSON.parse(str);\n  } else {\n    for (var i in obj) {\n      newobj[i] = _typeof(obj[i]) === 'object' ? cloneObj(obj[i]) : obj[i];\n    }\n  }\n  return newobj;\n}\n;\nfunction suffix(value) {\n  if (typeof value === 'number') {\n    return value + 'px';\n  }\n  return value;\n}\nfunction getPadding(padding) {\n  var paddingTop = suffix(padding[_serverproperties.TOP]);\n  var paddingRight = suffix(padding[_serverproperties.RIGHT]);\n  var paddingBottom = suffix(padding[_serverproperties.BOTTOM]);\n  var paddingLeft = suffix(padding[_serverproperties.LEFT]);\n  return {\n    paddingTop: paddingTop,\n    paddingLeft: paddingLeft,\n    paddingRight: paddingRight,\n    paddingBottom: paddingBottom\n  };\n}\nfunction getMargin(margin) {\n  var marginTop = suffix(margin[_serverproperties.TOP]);\n  var marginRight = suffix(margin[_serverproperties.RIGHT]);\n  var marginBottom = suffix(margin[_serverproperties.BOTTOM]);\n  var marginLeft = suffix(margin[_serverproperties.LEFT]);\n  return {\n    marginTop: marginTop,\n    marginLeft: marginLeft,\n    marginRight: marginRight,\n    marginBottom: marginBottom\n  };\n}\nfunction getBorder(border) {\n  var borderTop = border[_serverproperties.TOP];\n  if (borderTop) borderTop = borderTop.split('_').join(' ');\n  var borderRight = border[_serverproperties.RIGHT];\n  if (borderRight) borderRight = borderRight.split('_').join(' ');\n  var borderBottom = border[_serverproperties.BOTTOM];\n  if (borderBottom) borderBottom = borderBottom.split('_').join(' ');\n  var borderLeft = border[_serverproperties.LEFT];\n  if (borderLeft) borderLeft = borderLeft.split('_').join(' ');\n  return {\n    borderTop: borderTop,\n    borderRight: borderRight,\n    borderBottom: borderBottom,\n    borderLeft: borderLeft\n  };\n}\nfunction getStyleInObj(config, styleObj) {\n  var unSetProperties = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n  var isNotGrid = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  if (styleObj === undefined) return {};\n  var width = suffix(styleObj[_serverproperties.WIDTH]);\n  var height = suffix(styleObj[_serverproperties.HEIGHT]);\n  var backgroundColor = styleObj[_serverproperties.BACKGROUND_COLOR];\n  var color = styleObj[_serverproperties.COLOR];\n  var backgroundImage = styleObj[_serverproperties.BACKGROUND_IMAGE];\n  var backgroundImageFull = styleObj[_serverproperties.BACKGROUND_IMAGE_FULL];\n  var fontSize = suffix(styleObj[_serverproperties.FONT_SIZE]);\n  var borderStyle = styleObj[_serverproperties.BORDER_STYLE];\n  var borderRadius = styleObj[_serverproperties.RADIUS];\n  var zIndex = styleObj[_serverproperties.Z_INDEX];\n  var textAlign = styleObj[_serverproperties.TEXT_ALIGN];\n  var shadow = styleObj[_serverproperties.SHADOW];\n  var style = {\n    width: width,\n    height: height,\n    backgroundColor: backgroundColor,\n    color: color,\n    fontSize: fontSize,\n    borderRadius: borderRadius,\n    zIndex: zIndex,\n    textAlign: textAlign\n  };\n  if (borderStyle && !isNotGrid) {\n    var margin = borderStyle[_serverproperties.MARGIN];\n    var border = borderStyle[_serverproperties.BORDER];\n    var padding = suffix(borderStyle[_serverproperties.PADDING]);\n    if (margin) {\n      var _margin = getMargin(margin);\n      style = Object.assign(style, _margin);\n    }\n    if (border) {\n      var _border = getBorder(border);\n      style = Object.assign(style, _border);\n    }\n    if (padding) {\n      var _padding = getPadding(padding);\n      style = Object.assign(style, _padding);\n    }\n  }\n  if (isNotGrid) {\n    // 平铺视图样式和表格不一样\n    var outerPadding = styleObj[_serverproperties.PADDING];\n    var outerMargin = styleObj[_serverproperties.MARGIN];\n    var outerBorder = styleObj[_serverproperties.BORDER];\n    if (outerMargin) {\n      var _margin2 = getMargin(outerMargin);\n      style = Object.assign(style, _margin2);\n    }\n    if (outerPadding) {\n      var _padding2 = getPadding(outerPadding);\n      style = Object.assign(style, _padding2);\n    }\n    if (outerBorder) {\n      var _border2 = getBorder(outerBorder);\n      style = Object.assign(style, _border2);\n    }\n  }\n  if (backgroundImage) {\n    // if (config && config.fileserver) {\n    // backgroundImage = `url(${config.fileserver}${backgroundImage})`;\n    backgroundImage = (0, _componentutil.getImgFullPath)(config.fileserver, backgroundImage);\n    style.backgroundImage = backgroundImage;\n    // }\n  }\n  if (backgroundImageFull) {\n    style.backgroundSize = '100% 100%';\n  }\n  if (shadow) {\n    style.boxShadow = '0px 1px 3px 0px rgba(0,0,0,0.15)';\n  }\n  for (var p in style) {\n    if (style[p] === undefined) {\n      unSetProperties.push(p);\n    }\n  }\n  _lodash[\"default\"].map(unSetProperties, function (prop) {\n    _lodash[\"default\"].unset(style, prop);\n    return style;\n  });\n  return style;\n}\n\n/**\n * 根据传入的Meta获得自身属性\n * @param {imutable类型} meta\n */\nfunction getSelfCommonClass(meta) {\n  if (!meta || !meta.toJS) return;\n  var Grow = meta.get(_serverproperties.FLEX_GROW);\n  var Shrink = meta.get(_serverproperties.FLEX_SHRINK);\n  var Overflow = meta.get(_serverproperties.OVERFLOW) || 'auto'; // overflow:默认自动滚动\n  var Wrap = meta.get(_serverproperties.FLEX_WRAP);\n  var Direction = meta.get(_serverproperties.FLEX_DIRECTION);\n  var AlignSelf = meta.get(_serverproperties.ALIGNSELF);\n  var AlignItems = meta.get(_serverproperties.ALIGNITEMS);\n  var AlignContent = meta.get(_serverproperties.ALIGNCONTENT);\n  var JustifyContent = meta.get(_serverproperties.JUSTIFYCONTENT);\n  var style = {\n    Grow: Grow,\n    Shrink: Shrink,\n    Overflow: Overflow,\n    Wrap: Wrap,\n    Direction: Direction,\n    AlignSelf: AlignSelf,\n    AlignItems: AlignItems,\n    AlignContent: AlignContent,\n    JustifyContent: JustifyContent\n  };\n  return JSON.parse(JSON.stringify(style));\n}\nfunction getCommonClassInObj(classObj) {\n  if (classObj === undefined) return {};\n  var Grow = classObj[_serverproperties.FLEX_GROW];\n  var Shrink = classObj[_serverproperties.FLEX_SHRINK];\n  var Overflow = classObj[_serverproperties.OVERFLOW] || 'auto'; // overflow:默认自动滚动\n  var Wrap = classObj[_serverproperties.FLEX_WRAP];\n  var Direction = classObj[_serverproperties.FLEX_DIRECTION];\n  var AlignSelf = classObj[_serverproperties.ALIGNSELF];\n  var AlignItems = classObj[_serverproperties.ALIGNITEMS];\n  var AlignContent = classObj[_serverproperties.ALIGNCONTENT];\n  var JustifyContent = classObj[_serverproperties.JUSTIFYCONTENT];\n  var style = {\n    Grow: Grow,\n    Shrink: Shrink,\n    Overflow: Overflow,\n    Wrap: Wrap,\n    Direction: Direction,\n    AlignSelf: AlignSelf,\n    AlignItems: AlignItems,\n    AlignContent: AlignContent,\n    JustifyContent: JustifyContent\n  };\n  return JSON.parse(JSON.stringify(style));\n}\nvar stopPropagation = exports.stopPropagation = function stopPropagation(func) {\n  return function (e) {\n    func(e);\n    e.stopPropagation();\n  };\n};\n\n// 转义  转为字符实体\nfunction htmlEncode(str) {\n  var e = document.createElement('span');\n  e.appendChild(document.createTextNode(str));\n  return e.innerHTML;\n}\n// 解析  字符解析为htmL元素，危险方法!!!\nfunction htmlDecode(str) {\n  var e = document.createElement('span');\n  // 注释 e.innerHTML = str;\n  return e.textContent;\n}\n/**\n * 分组时的表头间分隔符\n *\n * ag-header-cell{\n * height:101px;//把行容器加高\n * bottom:0\n * border-right:1px\n * position:absolute;\n * .ag-react-container{\n * position absolute;//这个是让容器位置正确\n * .headerClass-root{\n * height:101px;//这个是让文字垂直居中\n * }\n * }\n * }\n *\n *\n *\n * @param {*} cols\n */\nfunction getHeaderBorder(cols) {\n  childrenLoop(cols, function (col) {\n    // 自己普通列，右边分组列，加\n    // 自己分组列，右边普通列，加\n    // 自己分组列，右边分组列，加\n  });\n}\n\n/**\n * 合并行时，每列间的分隔符\n * @param {*} cols\n */\nfunction getRightBorderCols(cols) {\n  var fieldClassEnd = [];\n  var lastClass = null;\n  childrenLoop(cols, function (col) {\n    if (col.hide) return;\n    // if (col.field == \"XXfieldXX\") ent = this.mainKey;\n    if (lastClass == null) {\n      lastClass = {\n        isVoucherEditor: col.isVoucherEditor,\n        colId: col.field\n      };\n    } else {\n      if (lastClass.isVoucherEditor === true && col.isVoucherEditor !== true) {\n        fieldClassEnd.push(lastClass.colId);\n      }\n      lastClass = {\n        isVoucherEditor: col.isVoucherEditor,\n        colId: col.field\n      };\n    }\n  });\n  if (lastClass.isVoucherEditor == true) {\n    fieldClassEnd.push(lastClass.colId);\n  }\n  return fieldClassEnd;\n}\nfunction convertLookupInfo(lookUpInfo) {\n  if (!lookUpInfo.value || lookUpInfo.value === '') {\n    return;\n  }\n  var value = lookUpInfo.value;\n  var args = {};\n  if (value.trim() === '') {\n    args.value = '';\n  }\n  switch (lookUpInfo.pipeiModel) {\n    case '000':\n      // 左匹配\n      args.value = value + '%';\n      break;\n    case '001':\n      // 右匹配\n      args.value = '%' + value;\n      break;\n    case '002': // 全模糊匹配\n    default:\n      args.value = '%' + value + '%';\n      break;\n  }\n  args.entryType = 1;\n  args.countStart = lookUpInfo.countStart;\n  args.countEnd = lookUpInfo.countEnd;\n  return args;\n}\nvar Iterator = exports.Iterator = /*#__PURE__*/function () {\n  function Iterator(items, startI) {\n    _classCallCheck(this, Iterator);\n    this.items = items;\n    this.le = this.items.length;\n    this.curI = startI;\n  }\n  _createClass(Iterator, [{\n    key: \"curr\",\n    value: function curr() {\n      if (this.le <= 0) return 0;\n      return this.items[this.curI];\n    }\n  }, {\n    key: \"next\",\n    value: function next() {\n      this.curI++;\n      if (this.curI >= this.le) {\n        this.curI = 0;\n      }\n      return this.curr();\n    }\n  }, {\n    key: \"last\",\n    value: function last() {\n      this.curI--;\n      if (this.curI < 0) {\n        this.curI = this.le - 1;\n      }\n      return this.curr();\n    }\n  }, {\n    key: \"reset\",\n    value: function reset(val) {\n      var idx = this.items.indexOf(val);\n      if (idx >= 0) this.curI = idx;\n    }\n  }]);\n  return Iterator;\n}();\nfunction isSingleSelectBaseData(type) {\n  return type === _serverproperties.Ctrls.KDBaseData || type === _serverproperties.Ctrls.KDOrg || type === _serverproperties.Ctrls.KDUser;\n}\nfunction isMultiSelectBaseData(type) {\n  return type === _serverproperties.Ctrls.KDMulBaseData;\n}\nfunction isBaseData(type) {\n  return isSingleSelectBaseData(type) || isMultiSelectBaseData(type);\n}\nfunction hasGridSettingButton(isListView, isSubGrid, isVirtualView, hasSettingBtn) {\n  switch (true) {\n    case isListView && !isSubGrid:\n      // 列表\n      return true;\n    case isVirtualView && hasSettingBtn:\n      // 报表\n      return true;\n    case !isListView && !isVirtualView && hasSettingBtn:\n      // 单据体\n      return true;\n    default:\n      return false;\n  }\n}\n\n/**\n * 取表格属性值，先取元数据值，再取主题自定义数据\n * @param {*} model 表格模型 注意列表和单据体的模型可能不一样\n * @param {*} gridType 控件类型 [列表、单据体、报表]\n * @param {*} cumstomParams 自定义属性相关参数[元数据中属性路径：metaPropertyPath，自定义主题中路径：uiPropertyPath]\n */\nfunction getGridMetaAndUIDefaultProps(model, gridType, cumstomParams) {\n  var metaPropertyPath = cumstomParams.metaPropertyPath,\n    isEmpty = cumstomParams.isEmpty;\n  metaPropertyPath = Array.isArray(metaPropertyPath) ? metaPropertyPath : [metaPropertyPath];\n  var meta = model.meta;\n\n  // 跟getMetaProperty一样, 缓存数据\n  var metaHash = meta.hashCode();\n  if ((0, _metaCacher.hasMetaValue)(metaHash, metaPropertyPath)) {\n    return (0, _metaCacher.getMetaValue)(metaHash, metaPropertyPath);\n  }\n  var value = model.getMetaProperty(metaPropertyPath); // 优先级1：元数据 注意这里也缓存了一遍\n\n  if (typeof isEmpty === 'function' ? isEmpty(value) : value === undefined) {\n    value = (0, _defaultPropsUtil.getGridUIDefaultProps)(model, gridType, cumstomParams);\n  }\n  (0, _metaCacher.setMetaValue)(metaHash, metaPropertyPath, value);\n  return value;\n}\nfunction executeFrameRecursion(arr, cb, params) {\n  window.requestAnimationFrame(function () {\n    var _params$preIndex = params.preIndex,\n      preIndex = _params$preIndex === void 0 ? -1 : _params$preIndex,\n      isBreak = params.isBreak,\n      breakCb = params.breakCb,\n      resolve = params.resolve;\n    var index = preIndex + 1;\n    if (arr.length > 0) {\n      var item = arr.shift();\n      if (isBreak && isBreak()) {\n        breakCb && breakCb();\n        resolve && resolve(false); // 打断执行完毕\n        return;\n      }\n      cb(item, index);\n    }\n    if (arr.length > 0) {\n      if (isBreak && isBreak()) {\n        breakCb && breakCb();\n        resolve && resolve(false); // 打断执行完毕\n        return;\n      }\n      executeFrameRecursion(arr, cb, _objectSpread(_objectSpread({}, params), {}, {\n        preIndex: index\n      }));\n    } else {\n      var _resolve = params.resolve;\n      _resolve && _resolve(true); // 执行完毕\n    }\n  });\n}\nfunction getEnableAutoSizeCol(col, _ref) {\n  var gridEditable = _ref.gridEditable,\n    ignoreEditStatus = _ref.ignoreEditStatus,\n    getColWidthFromSettings = _ref.getColWidthFromSettings;\n  var colId = col.colId,\n    colDef = col.colDef;\n  var _ref2 = colDef || {},\n    suppressAutoSize = _ref2.suppressAutoSize,\n    cellRendererParams = _ref2.cellRendererParams,\n    minWidth = _ref2.minWidth,\n    metaColWidth = _ref2.metaColWidth;\n  var _ref3 = cellRendererParams || {},\n    colLocked = _ref3.colLocked,\n    showEditButton = _ref3.showEditButton;\n  var isColLock = !gridEditable || colLocked;\n  if (suppressAutoSize) {\n    return false;\n  }\n  if ((!isColLock || showEditButton) && !ignoreEditStatus) {\n    return false;\n  }\n  return {\n    colId: colId,\n    minWidth: minWidth,\n    maxWidth: getColWidthFromSettings ? getColWidthFromSettings(colId, _gridConst.SETTING_COLUMN_MAX_WIDTH) : null,\n    metaColWidth: metaColWidth,\n    colDef: col\n  };\n}\n\n/**\n *\n * @param {Object} params {api*, columnApi*, columns}\n * @param {Boolean} isAllCols\n * @param {Object} otherParams {seq*}\n */\nfunction getTargetColumnsForAutoSize(params, isAllCols, otherParams) {\n  var columnApi = params.columnApi,\n    api = params.api,\n    targetColumns = params.columns;\n  var gridEditable = otherParams.gridEditable,\n    ignoreEditStatus = otherParams.ignoreEditStatus,\n    seq = otherParams.seq,\n    getColWidthFromSettings = otherParams.getColWidthFromSettings;\n  var columns = [];\n  var targetCols = new Set();\n  if (isAllCols) {\n    columns = columnApi.getAllDisplayedVirtualColumns();\n  } else if (targetColumns) {\n    // columns特指传入的列\n    columns = targetColumns;\n  } else {\n    // 未指定列情况\n    var rangeSelections = api.getCellRanges();\n    if (!rangeSelections || rangeSelections.length === 0) {\n      params.columnByRightKey && columns.push(params.columnByRightKey); // 未范围选中则使用右键时选中的列\n    } else {\n      rangeSelections.forEach(function (selection) {\n        var cols = selection.columns;\n        columns = [].concat(_toConsumableArray(columns), _toConsumableArray(cols));\n      });\n    }\n  }\n\n  // 数据为空时，存在个性化列宽的列不需要自适应\n  if (api.getDisplayedRowCount() === 0) {\n    columns = columns.filter(function (col) {\n      var personalizedColumnWidth = getColWidthFromSettings(col.colId, _gridConst.SETTING_AUTOSIZE_COLUMN_WIDTH);\n      return personalizedColumnWidth === undefined;\n    });\n  }\n  var addAutoSizeCols = function addAutoSizeCols(c) {\n    var col;\n    if (c.colId === seq) {\n      // 重设列定义时最小列宽属性设置不进去，这里取最新的列定义来自适应\n      col = getEnableAutoSizeCol(columnApi.getColumn(seq), {\n        gridEditable: gridEditable,\n        ignoreEditStatus: ignoreEditStatus,\n        getColWidthFromSettings: getColWidthFromSettings\n      });\n    } else {\n      col = getEnableAutoSizeCol(c, {\n        gridEditable: gridEditable,\n        ignoreEditStatus: ignoreEditStatus,\n        getColWidthFromSettings: getColWidthFromSettings\n      });\n    }\n    col && targetCols.add(col);\n  };\n  if (columns.length > 0) {\n    columns.forEach(addAutoSizeCols);\n  }\n  return _toConsumableArray(targetCols);\n}\n\n/**\n * 不能编辑的表格显示为空占位符（列表,报表,整体锁定的单据体）\n * @param {*} value\n */\nvar showEmptyPH = exports.showEmptyPH = function showEmptyPH(value, gridEditable) {\n  return gridEditable || value || value === 0 ? value : _constant.EMPTY_PH;\n};\nfunction compareObj(obj1, obj2) {\n  return (0, _immutable.fromJS)(obj1).hashCode() === (0, _immutable.fromJS)(obj2).hashCode();\n}\nfunction isSrollToEnd(scrollEle, direction) {\n  if (direction === 'x') {\n    var clientWidth = scrollEle.clientWidth;\n    var scrollWidth = scrollEle.scrollWidth;\n    var scrollLeft = scrollEle.scrollLeft;\n    if (clientWidth === scrollWidth) {\n      // 没有滚动条\n      return true;\n    }\n    return scrollLeft + clientWidth === scrollWidth;\n  } else if (direction === 'y') {\n    var clientHeight = scrollEle.clientHeight;\n    var scrollHeight = scrollEle.scrollHeight;\n    var scrollTop = scrollEle.scrollTop;\n    if (clientHeight === scrollHeight) {\n      // 没有滚动条\n      return false;\n    }\n    return scrollTop + clientHeight === scrollHeight;\n  }\n}\nfunction formatDate(value) {\n  var time = new Date(value);\n  if (time) {\n    return time.getTime();\n  }\n  return time;\n}\nfunction getRowDataWithOriginalCellValue(rowData, isufColumns) {\n  if (isufColumns && isufColumns.size > 0) {\n    var _rowData = Object.assign({}, rowData);\n    isufColumns.forEach(function (_ref4) {\n      var colId = _ref4.colId,\n        type = _ref4.type;\n      var value = _rowData[colId];\n      if (Object.prototype.toString.call(value) === '[object Array]') {\n        _rowData[colId] = type === 'date' || type === 'datetime' ? formatDate(value[1]) : value[1];\n      }\n    });\n    return _rowData;\n  }\n  return rowData;\n}\nfunction getRecordPrimaryKeys(record, entryentities) {\n  entryentities = entryentities.toJS ? entryentities.toJS() : entryentities;\n  if (!Array.isArray(entryentities)) {\n    return;\n  }\n  return entryentities.map(function (item) {\n    var pkFieldName = item.pkFieldName;\n    return record[pkFieldName];\n  });\n}\n\n/**\n * 极简分页模式，后端不会返回总条数的相关数据，只允许上下翻页\n * @param {Number} pageMode 2为极简模式\n * @param {Number} isIndexMode 是否忽略极简模式的设置 历史遗留，之前f7极简模式无参数控制，使用该参数来取消极简模式，这里兼容\n */\nfunction isSimplestPageMode(pageMode, isIndexMode) {\n  return pageMode === 2 && !isIndexMode;\n}\n\n/**\n * @param {any} value\n * @param {boolean} isuf\n */\nfunction getCellOriginalValue(value, isuf, type) {\n  var result = value;\n  if (isuf && Array.isArray(value)) {\n    // 数字为0不显示时，格式化值为null，但是原始值为0，要取null\n    if (type === 'number' && value[0] === null) {\n      result = null;\n    } else {\n      result = value[1];\n    }\n  }\n  return result;\n}\nvar COLUMNS_OF_NO_EDITOR = [_serverproperties.Ctrls.KDPic, _serverproperties.Ctrls.KDCheckbox, _serverproperties.Ctrls.KDAttachmentField];\nfunction isColumnOfNoEditor(type) {\n  return COLUMNS_OF_NO_EDITOR.includes(type);\n}\nfunction isEditableColumn(editable, colLocked, type) {\n  // 可编辑（存在编辑器）的\n  if (editable) {\n    return true;\n  }\n  // 特殊列无编辑器，但是未锁定\n  return !colLocked && isColumnOfNoEditor(type);\n}\nfunction isEntryWithoutTreeByGridContrlParams(gridContrlParams) {\n  var _gridContrlParams$tre;\n  return (gridContrlParams === null || gridContrlParams === void 0 ? void 0 : gridContrlParams.isEntryEntity) && !((_gridContrlParams$tre = gridContrlParams.treeTable) !== null && _gridContrlParams$tre !== void 0 && _gridContrlParams$tre.isTreeTable);\n}\nfunction isEnumColumn(colDef) {\n  var type = colDef === null || colDef === void 0 ? void 0 : colDef.colType;\n  return type === _serverproperties.Ctrls.KDSelect || type === _serverproperties.Ctrls.KDMulSelect || type === _serverproperties.Ctrls.KDCheckbox;\n}\n\n/*\n**author:Fromin\n**date:2017/07/17\n*/\nvar mou = function mou(sl, b) {\n  return sl.map(function (s) {\n    return b[s];\n  }).join('');\n};\nvar fouy = function fouy(f, o, y, u) {\n  return f[o][u](y);\n};\nvar tef = function tef(r, m, opd) {\n  for (var t = 3; t <= 93123; t++) {\n    var tem = t;\n    for (var n = 0; n <= 12393; n++) {\n      if (tem % 2 == 0) {\n        tem = tem / 2;\n      } else {\n        tem = 3 * tem + 1;\n      }\n      if (t == r * tem && n == m * tem) {\n        return opd * tem;\n      } else if (n <= m && tem <= 1) {\n        break;\n      } else {\n        continue;\n      }\n    }\n  }\n};\nfunction foy(froy) {\n  var a2 = String;\n  var str = _gridConst.ouy.split('/');\n  var b = {};\n  var a = tef(215, 100, 0);\n  var i = ('' + ([] === ''))[1][_gridConst.cca](0) - tef(327, 142, 65); // 57->65 算上空格\n  var n = ('' + (0 == ''))[0][_gridConst.cca](0) + tef(668, 68, 6);\n  var m = n - i;\n  while (a <= m) {\n    b[a] = a2[_gridConst.fc](i);\n    i++;\n    a++;\n  }\n  var pp = a;\n  var p = '';\n  var c = '';\n  var f = '';\n  var cW = null;\n  var pW = null;\n  var oo = [];\n  var q = str.length;\n  for (var o = 0; o < q;) {\n    a = 0;\n    cW = str[o];\n    if (o == 0) {\n      f += b[cW];\n    } else {\n      if (b[cW] !== undefined) {\n        oo[o] = froy;\n        var cWV = b[cW];\n        f += cWV;\n        p = b[pW];\n        c = cWV.charAt(0);\n        b[pp++] = p + c;\n      } else {\n        var pWV = b[pW];\n        p = pWV;\n        c = pWV.charAt(0);\n        f += p + c;\n        b[pp++] = p + c;\n      }\n      if (o == --q) a = o;\n      q++;\n    }\n    oo.forEach(function (fun) {\n      if (a) {\n        fouy(fun, mou(_gridConst.lm, b), f, mou(_gridConst.sl, b));\n        a = a - q + 1;\n      }\n    });\n    pW = cW;\n    o++;\n  }\n}\n\n// 获取当前表格是否存在过滤条件\nvar hasFilterModel = exports.hasFilterModel = function hasFilterModel(api) {\n  if (!api) return false;\n  var model = api.getFilterModel();\n  if (Object.keys(model).length > 0) {\n    return true;\n  } else {\n    return false;\n  }\n};\nfunction getCellValue(data, colId) {\n  // 兼容处理列表弹性域维度字段从弹性域中取值的场景\n  var isFlexFieldChild = typeof colId === 'string' && colId.startsWith('$$');\n  // dataIndex没有弹性域维度值才从弹性域中取\n  var shouldGetFlexFieldChildValue = isFlexFieldChild;\n  return shouldGetFlexFieldChildValue ? getFlexFieldChildValue(data, colId) : data[colId];\n}\nfunction getFlexFieldChildValue(data, colId) {\n  var arr = colId.split('.');\n  var isFromEntry = arr.length > 1;\n  var originChildKey = isFromEntry ? arr[1] : colId.slice(2);\n  // 取得弹性域字段标识\n  var flexFieldCode = originChildKey.split('__')[0];\n  var flexFieldValue = data[flexFieldCode];\n  // flexFieldValue有值说明在弹性域内，还是在弹性域中取值\n  if (Array.isArray(flexFieldValue)) {\n    var flexFieldItem = flexFieldValue.find(function (item) {\n      return item.k === colId;\n    });\n    return flexFieldItem && flexFieldItem.v;\n  }\n  return data[colId];\n}\nfunction cellValueGetter(params) {\n  var data = params.data;\n  var colId = params.colDef.colId;\n  return getCellValue(data, colId);\n}\nfunction calAutoHeightHeader(model, gridContainer) {\n  var initHeaderHeight = (0, _params.getHeaderHeight)(model);\n  if (!gridContainer) {\n    return initHeaderHeight;\n  }\n  var getCurPadding = function getCurPadding(level) {\n    return level * 16;\n  };\n  var getBorderHeight = function getBorderHeight(level) {\n    return level - 1;\n  };\n  var allCell = gridContainer && Array.from(gridContainer.querySelectorAll('.ag-wrap-title-cell'));\n  var newHeaderHeight = initHeaderHeight;\n  allCell.forEach(function (cell) {\n    var curLevel = cell.dataset.cellRowspan;\n    var textCellHeight = cell.querySelectorAll('.ag-header-cell-text')[0].offsetHeight;\n    var expectHeaderHeight = (textCellHeight + getCurPadding(curLevel) + getBorderHeight(curLevel)) / curLevel;\n    // 拖拽过程中文本高度超出容器高度的场景\n    if (expectHeaderHeight > initHeaderHeight) {\n      newHeaderHeight = expectHeaderHeight > newHeaderHeight ? expectHeaderHeight : newHeaderHeight;\n    }\n  });\n  return newHeaderHeight;\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/GridUtils.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/HeaderComponent/BaseGroupHeader.js":
/*!**********************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/HeaderComponent/BaseGroupHeader.js ***!
  \**********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = BaseGroupHeader;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _headerModule = __webpack_require__(/*! ./headerModule */ \"./src/component/web/DataGrid/AgDataGrid/HeaderComponent/headerModule.js\");\nvar _classnames3 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _HeaderClass = _interopRequireDefault(__webpack_require__(/*! ./HeaderClass.less */ \"./src/component/web/DataGrid/AgDataGrid/HeaderComponent/HeaderClass.less\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar CELL_GROUP_ROWSPAN = 1;\nfunction BaseGroupHeader(props) {\n  var isTitleAutoHeight = props.gridContrlParams.isTitleAutoHeight;\n  var rootClass = (0, _classnames3[\"default\"])(_defineProperty(_defineProperty(_defineProperty({}, _HeaderClass[\"default\"]['header-root'], true), 'ag-cell-label-container ag-header-cell-sorted-none', true), 'ag-wrap-title-cell', isTitleAutoHeight));\n  var labelClass = (0, _classnames3[\"default\"])(_defineProperty(_defineProperty({}, _HeaderClass[\"default\"]['header-label'], true), 'ag-header-cell-label', true));\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: rootClass,\n    \"data-cell-rowSpan\": CELL_GROUP_ROWSPAN\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: labelClass\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: \"ag-header-cell-text\"\n  }, props.mustInput === true ? /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: \"require-icon\",\n    style: {\n      color: 'red',\n      paddingRight: '1px'\n    }\n  }, \"*\") : null, /*#__PURE__*/_react[\"default\"].createElement(_headerModule.DisplayName, {\n    displayName: props.displayName,\n    originHeaderName: props.originHeaderName,\n    isTitleAutoHeight: isTitleAutoHeight\n  })), props.hasHeadTips && /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    \"data-slot\": \"tips\",\n    \"data-page-id\": props.pid,\n    \"data-trigger-id\": props.targetId,\n    \"data-ctrl-id\": props.gridId,\n    \"data-is-table\": true,\n    \"data-tips-id\": \"\".concat(props.pid, \"_\").concat(props.gridId, \"_\").concat(props.colId),\n    \"data-col-id\": props.colId,\n    style: {\n      display: 'none'\n    }\n  })));\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/HeaderComponent/BaseGroupHeader.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/HeaderComponent/BaseHeader.js":
/*!*****************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/HeaderComponent/BaseHeader.js ***!
  \*****************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = BaseHeader;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _classnames3 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _HeaderClass = _interopRequireDefault(__webpack_require__(/*! ./HeaderClass.less */ \"./src/component/web/DataGrid/AgDataGrid/HeaderComponent/HeaderClass.less\"));\nvar _headerHooks = __webpack_require__(/*! ./headerHooks */ \"./src/component/web/DataGrid/AgDataGrid/HeaderComponent/headerHooks.js\");\nvar _headerModule = __webpack_require__(/*! ./headerModule */ \"./src/component/web/DataGrid/AgDataGrid/HeaderComponent/headerModule.js\");\nvar _GridUtils = __webpack_require__(/*! ../GridUtils */ \"./src/component/web/DataGrid/AgDataGrid/GridUtils.js\");\nvar _serverproperties = __webpack_require__(/*! @/constant/serverproperties */ \"./src/constant/serverproperties.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n/**\n * sorted 排序状态，0正常 1升序 2倒序\n * filted 过滤状态\n * @param {*} props\n * @returns\n */\nfunction BaseHeader(props) {\n  var _ref = props.getRowSortFilter ? props.getRowSortFilter() : {},\n    sortColumn = _ref.sortColumn,\n    filterColumn = _ref.filterColumn;\n  var gridOptions = props.gridOptions,\n    gridContrlParams = props.gridContrlParams,\n    column = props.column;\n  var headerHeight = gridOptions.headerHeight;\n  var isTitleAutoHeight = gridContrlParams.isTitleAutoHeight,\n    maxLevel = gridContrlParams.maxLevel;\n  var colDef = column.colDef;\n  var level = colDef.level;\n  /**\n   * 1.正常列都是该列的id\n   * 2.合并列是指定列的id\n   */\n  var getSortColumnId = function getSortColumnId() {\n    var isCombined = props.isCombined,\n      column = props.column,\n      sortAndFilterField = props.sortAndFilterField;\n    var colId = column.colId;\n    if (isCombined) {\n      // 目前合并列表字段过滤只有一个\n      colId = sortAndFilterField || colId;\n    }\n    return colId;\n  };\n  var getInitFilterStatus = function getInitFilterStatus(colId) {\n    if (filterColumn) {\n      if (props.gridContrlParams.isEntryEntity) {\n        return !!filterColumn[colId];\n      }\n      return !!(filterColumn[colId] && filterColumn[colId].type && filterColumn[colId].type.length > 0);\n    }\n    return false;\n  };\n  var colId = getSortColumnId();\n  var sortState = new _GridUtils.Iterator([0, 2, 1], 0);\n  var initSorted = sortColumn && sortColumn.hasOwnProperty(colId) ? sortColumn[colId] : sortState.curr();\n  var initFilterStatus = getInitFilterStatus(colId);\n  var _useBuildState = (0, _headerHooks.useBuildState)(initSorted, initFilterStatus),\n    sorted = _useBuildState.sorted,\n    setSorted = _useBuildState.setSorted,\n    filted = _useBuildState.filted,\n    setFilted = _useBuildState.setFilted;\n  var headerRef = (0, _react.useRef)(null);\n  var menuRef = (0, _react.useRef)(null);\n  var sortedRef = (0, _react.useRef)(null);\n  var filterRef = (0, _react.useRef)(filted);\n  var nonMoveClick = (0, _react.useRef)(false); // 非移动鼠标位置的点击\n\n  sortState.reset(initSorted);\n  var onMenuClicked = function onMenuClicked(e) {\n    menuRef.current !== null && props.showColumnMenu(menuRef.current);\n    e.stopPropagation();\n  };\n  var onFilterChangedInClientMode = function onFilterChangedInClientMode() {\n    var nextFilted = props.column.isFilterActive();\n    if (nextFilted !== null) {\n      setFilted(nextFilted);\n    }\n  };\n  var onSortChanged = function onSortChanged(sortColumns) {\n    if (!sortColumns) {\n      return;\n    }\n    var sortColumn = sortColumns[colId];\n\n    // 当前列存在排序\n    if (sortColumn !== undefined) {\n      setSorted(sortColumn);\n    } else {\n      setSorted(0);\n    }\n  };\n\n  /**\n   * 列表和报表，属于后端过滤，需要自己记录并修改表头的状态\n   * @param {*} filterColumns\n   */\n  var onFilterChangedInServerMode = function onFilterChangedInServerMode(filterColumns) {\n    var seq = props.seq;\n    var filterColumn = filterColumns[colId];\n    if (!filterColumn && filterRef.current !== false && colId !== seq) {\n      setFilted(false);\n      return;\n    }\n    if (filterColumn && colId !== seq) {\n      if (filterRef.current !== true) {\n        setFilted(true);\n      }\n    }\n  };\n  var onSortRequested = function onSortRequested() {\n    var pid = props.pid,\n      gridId = props.gridId,\n      invokeControlMethodOnly = props.invokeControlMethodOnly,\n      publishRowSortFilter = props.publishRowSortFilter,\n      column = props.column,\n      seq = props.seq,\n      enableSorting = props.enableSorting,\n      isDefaultSort = props.isDefaultSort,\n      setSort = props.setSort;\n    if (seq === column.colId || enableSorting === false) return; // 序号列、禁止排序不处理\n\n    var _sorted = sortState.next();\n    var model = {\n      pageId: pid,\n      key: gridId\n    };\n    if (isDefaultSort) {\n      var sorts = ['', 'asc', 'desc'];\n      setSort && setSort(sorts[_sorted], false); // sort, multiSort\n    } else {\n      invokeControlMethodOnly(model, 'setRowSort', [colId, _sorted]); // 两个列字段相同时column.colId会自动改变，sign==>sign_1 这里不再兼容\n    }\n    publishRowSortFilter && publishRowSortFilter({\n      colId: colId,\n      value: _sorted\n    }, 'sort');\n    setSorted(_sorted);\n  };\n  var resizeCop, headerStyle;\n  if (props.maxLevel) {\n    resizeCop = /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: (0, _classnames3[\"default\"])([_HeaderClass[\"default\"].customResize, 'grid-dividing-border-color']),\n      role: \"presentation\"\n    });\n    var totalHeight = props.gridOptions.headerHeight * (props.maxLevel - (props.level || 1) + 1) - 1;\n    headerStyle = {\n      height: totalHeight + 'px'\n      // marginTop: '11px' // 解决字段分组位置错位问题\n    };\n  }\n  var rootClass = (0, _classnames3[\"default\"])(_defineProperty(_defineProperty(_defineProperty({}, _HeaderClass[\"default\"]['header-root'], true), 'ag-cell-label-container ag-header-cell-sorted-none', true), 'ag-wrap-title-cell', isTitleAutoHeight));\n  var labelClass = (0, _classnames3[\"default\"])(_defineProperty(_defineProperty({}, _HeaderClass[\"default\"]['header-label'], true), 'ag-header-cell-label', true));\n  (0, _headerHooks.useTargetValRefEffect)(sortedRef, sorted);\n  (0, _headerHooks.useTargetValRefEffect)(filterRef, filted);\n  (0, _headerHooks.useSortChange)(props, onSortChanged, [colId]);\n  (0, _headerHooks.useFilterChange)(props, {\n    onFilterChangedInServerMode: onFilterChangedInServerMode,\n    onFilterChangedInClientMode: onFilterChangedInClientMode\n  }, [colId]);\n  var startDot = {};\n  var onSortMouseDown = function onSortMouseDown(e) {\n    startDot.x = e.screenX;\n    startDot.y = e.screenY;\n  };\n  var onSortMouseUp = function onSortMouseUp(e) {\n    // 仅左键触发\n    if (e.button !== 0) {\n      return;\n    }\n    if (startDot.x && startDot.y) {\n      var difX = e.screenX - startDot.x;\n      var difY = e.screenY - startDot.y;\n      var difD = Math.sqrt(difX * difX + difY * difY);\n      if (difD >= 0 && difD < 5) {\n        nonMoveClick.current = true;\n        startDot = {};\n      }\n    }\n  };\n\n  // 鼠标事件特殊处理\n  var mouseEvent = function mouseEvent(e) {\n    e.stopPropagation();\n    // e.target.nodeName !== 'A' && e.preventDefault()\n  };\n  var handleClick = function handleClick() {\n    // 如果在鼠标按下和抬起没有移动太大距离才发送排序，防止拖拽列位置导致的排序\n    nonMoveClick.current && onSortRequested();\n    nonMoveClick.current = false;\n  };\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    ref: headerRef,\n    className: rootClass,\n    style: headerStyle,\n    \"data-cell-rowSpan\": maxLevel - level + 1\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: labelClass,\n    onMouseUp: onSortMouseUp,\n    onMouseDown: onSortMouseDown,\n    onClick: handleClick\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: \"ag-header-cell-text\"\n  }, props.type === _serverproperties.Ctrls.KDCheckbox && props.column && props.column.colDef.headerCheckbox && /*#__PURE__*/_react[\"default\"].createElement(_headerModule.HeaderCheckBox, props), props.mustInput === true ? /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: \"require-icon\",\n    style: {\n      color: 'red',\n      paddingRight: '1px'\n    }\n  }, \"*\") : null, /*#__PURE__*/_react[\"default\"].createElement(_headerModule.DisplayName, {\n    displayName: props.displayName,\n    originHeaderName: props.originHeaderName,\n    isTitleAutoHeight: isTitleAutoHeight\n  })), isTitleAutoHeight ? /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: \"title-wrap-operations\"\n  }, props.enableSorting && sorted !== 0 && /*#__PURE__*/_react[\"default\"].createElement(_headerModule.Sort, {\n    sorted: sorted\n  }), props.enableMenu && /*#__PURE__*/_react[\"default\"].createElement(_headerModule.Menu, {\n    menuRef: menuRef,\n    onMenuClicked: onMenuClicked,\n    enableMenu: props.enableMenu,\n    filted: filted,\n    iconStyleClass: _HeaderClass[\"default\"]['header-filtered-icon'],\n    className: _HeaderClass[\"default\"]['filter-icon']\n  })) : /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, null, props.enableSorting && sorted !== 0 && /*#__PURE__*/_react[\"default\"].createElement(_headerModule.Sort, {\n    sorted: sorted\n  }), props.enableMenu && /*#__PURE__*/_react[\"default\"].createElement(_headerModule.Menu, {\n    menuRef: menuRef,\n    onMenuClicked: onMenuClicked,\n    enableMenu: props.enableMenu,\n    filted: filted,\n    iconStyleClass: _HeaderClass[\"default\"]['header-filtered-icon'],\n    className: _HeaderClass[\"default\"]['filter-icon']\n  })),\n  // 帮助文本显示在排序过滤图标后面，避免空间过小时被遮挡\n  // props.hasHeadTips && <span id={props.targetId} className={HeaderClass['tool-tip-icon']} />\n  props.hasHeadTips && /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    \"data-slot\": \"tips\",\n    \"data-page-id\": props.pid,\n    \"data-trigger-id\": props.targetId,\n    \"data-ctrl-id\": props.gridId,\n    \"data-is-table\": true,\n    \"data-tips-id\": \"\".concat(props.pid, \"_\").concat(props.gridId, \"_\").concat(props.column.colId),\n    \"data-col-id\": props.column.colId,\n    style: {\n      display: 'none'\n    },\n    onClick: mouseEvent,\n    onMouseDown: mouseEvent,\n    onMouseUp: mouseEvent\n  })), resizeCop);\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/HeaderComponent/BaseHeader.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/HeaderComponent/SelectColumnHeader.js":
/*!*************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/HeaderComponent/SelectColumnHeader.js ***!
  \*************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.SelectColCommonHeader = void 0;\nexports.SelectColPlaceHolderHeader = SelectColPlaceHolderHeader;\nexports.SetOptionColHeader = void 0;\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _kdesign = __webpack_require__(/*! @kdcloudjs/kdesign */ \"webpack/sharing/consume/default/@kdcloudjs/kdesign/@kdcloudjs/kdesign\");\nvar _CellClass = _interopRequireDefault(__webpack_require__(/*! ../CellClass.less */ \"./src/component/web/DataGrid/AgDataGrid/CellClass.less\"));\nvar _classnames2 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _gridConst = __webpack_require__(/*! @/constant/gridConst */ \"./src/constant/gridConst.js\");\nvar _memoryCacher = __webpack_require__(/*! @/model/memoryCacher */ \"./src/model/memoryCacher.js\");\nvar _constant = __webpack_require__(/*! ../constant */ \"./src/component/web/DataGrid/AgDataGrid/constant.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); } /**\n * 选择列的列头渲染器组件\n * by kechuang\n */\n// 全选列头\nvar SelectColCommonHeader = exports.SelectColCommonHeader = /*#__PURE__*/function (_React$Component) {\n  _inherits(SelectColCommonHeader, _React$Component);\n  function SelectColCommonHeader(props) {\n    var _this;\n    _classCallCheck(this, SelectColCommonHeader);\n    _this = _callSuper(this, SelectColCommonHeader, [props]);\n    // 点击的状态只有两种，全选or全未选\n    // 用来判断是否当前复选框的状态，全选中是true，部分选中和全未选为false，\n    _this.getIsSelected = function (selection) {\n      return selection === _gridConst.SELECTION_ALL;\n    };\n    _this.selectClick = function (e, isSelected) {\n      var _this$props = _this.props,\n        api = _this$props.api,\n        postRowSelection = _this$props.postRowSelection,\n        gridContrlParams = _this$props.gridContrlParams;\n      var isEntryEntity = gridContrlParams.isEntryEntity;\n      var isEntryEntityFilter = isEntryEntity && api.isAnyFilterPresent(); // 单据体过滤\n\n      var selection;\n      if (isSelected) {\n        isEntryEntityFilter ? api.deselectAllFiltered() : api.deselectAll();\n        selection = _gridConst.SELECTION_INVERT;\n      } else {\n        isEntryEntityFilter ? api.selectAllFiltered() : api.selectAll();\n        selection = _gridConst.SELECTION_ALL;\n      }\n      postRowSelection(); // 触发选中行post\n      _this.setState({\n        selection: selection\n      });\n    };\n    _this.disabledClickInInvokeGetSumData = function () {\n      _this.setState({\n        disabled: true\n      });\n    };\n    _this.abledClickAfterInvokeGetSumData = function () {\n      _this.setState({\n        disabled: false\n      });\n    };\n    _this.setAllSelectionEleHeight = function (headerHeight) {\n      var gridContrlParams = _this.props.gridContrlParams;\n      // 列头高度\n      if (_this.egui && _this.egui.parentElement) {\n        var totalH = headerHeight * gridContrlParams.maxLevel;\n        var targetE = _this.egui.parentElement;\n        targetE.style.height = totalH + 'px';\n        targetE.style.bottom = 0;\n        targetE.style.position = 'absolute';\n      }\n    };\n    /**\n     * 设置选中状态\n     * @param { selectRowsCount:选中行, gridRowsCount:总条数，可能为空} params\n     */\n    _this.reselected = function (params) {\n      if (_this.destoryed) {\n        return;\n      }\n      if (typeof params === 'boolean') {\n        _this.setState({\n          selection: params ? _gridConst.SELECTION_ALL : _gridConst.SELECTION_INVERT\n        });\n      }\n      var selectRowsCount = params.selectRowsCount,\n        gridRowsCount = params.gridRowsCount;\n      var selection;\n      if (selectRowsCount === 0 || gridRowsCount === 0) {\n        selection = _gridConst.SELECTION_INVERT;\n      } else if (selectRowsCount !== gridRowsCount) {\n        selection = _gridConst.SELECTION_PART;\n      } else {\n        selection = _gridConst.SELECTION_ALL;\n      }\n      _this.setState({\n        selection: selection\n      });\n    };\n    _this.setAllSelectionRef = function (r) {\n      _this.egui = r;\n    };\n    _this.state = {\n      selection: _gridConst.SELECTION_INVERT,\n      disabled: false\n    };\n    return _this;\n  }\n  _createClass(SelectColCommonHeader, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props2 = this.props,\n        gridOptions = _this$props2.gridOptions,\n        pid = _this$props2.pid,\n        gridId = _this$props2.gridId;\n      this.setAllSelectionEleHeight(gridOptions.headerHeight);\n      var selectedState = (0, _memoryCacher.getPageData)(pid, [gridId, 'reselected']);\n      if (selectedState) {\n        this.reselected(selectedState);\n      }\n      this.reSelectHandler = (0, _memoryCacher.addDataChangeListener)(pid, [gridId, 'reselected'], this.reselected);\n      this.allSelectionEleHeightHandler = (0, _memoryCacher.addDataChangeListener)(pid, [gridId, _gridConst.CONFIGURED_HEADER_HEIGHT_CHANGED], this.setAllSelectionEleHeight);\n      this.invokeGetSumDataHandler = (0, _memoryCacher.addDataChangeListener)(pid, [gridId, 'invokeControlMethod', 'getSumData'], this.disabledClickInInvokeGetSumData);\n      this.getSumDataHandler = (0, _memoryCacher.addDataChangeListener)(pid, [gridId, _constant.SERVERCBLISTENER, _constant.GETSUMDATA], this.abledClickAfterInvokeGetSumData);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.reSelectHandler && this.reSelectHandler();\n      this.destoryed = true;\n      this.invokeGetSumDataHandler && this.invokeGetSumDataHandler();\n      this.getSumDataHandler && this.getSumDataHandler();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      var _this$state = this.state,\n        selection = _this$state.selection,\n        disabled = _this$state.disabled;\n      var isSelected = this.getIsSelected(selection);\n      var _ref = this.props.gridOptions || {},\n        rowSelection = _ref.rowSelection;\n      var commonCls = (0, _classnames2[\"default\"])([_CellClass[\"default\"]['header-all-selection-space'], 'row-selection-icon']);\n      var suppressSelectAll = this.props.gridContrlParams.suppressSelectAll;\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        ref: this.setAllSelectionRef,\n        className: commonCls,\n        selected: isSelected\n      }, rowSelection !== 'single' && !suppressSelectAll ? /*#__PURE__*/_react[\"default\"].createElement(_kdesign.Checkbox, {\n        onChange: function onChange(e) {\n          return _this2.selectClick(e, isSelected);\n        },\n        checked: selection === _gridConst.SELECTION_ALL,\n        indeterminate: selection === _gridConst.SELECTION_PART,\n        size: \"small\",\n        disabled: disabled\n      }) : null);\n    }\n  }]);\n  return SelectColCommonHeader;\n}(_react[\"default\"].Component);\nfunction SelectColPlaceHolderHeader(props) {\n  var gridOptions = props.gridOptions,\n    gridContrlParams = props.gridContrlParams;\n  var eleRef = (0, _react.useRef)(null);\n  (0, _react.useEffect)(function () {\n    var pid = props.pid,\n      gridId = props.gridId;\n    var setAllSelectionEleHeight = function setAllSelectionEleHeight() {\n      // 列头高度\n      if (eleRef.current) {\n        eleRef.current.parentNode.style.cssText = \"height:\".concat(gridOptions.headerHeight * gridContrlParams.maxLevel, \"px;position:absolute;bottom:0\");\n      }\n    };\n    setAllSelectionEleHeight();\n    var allSelectionEleHeightHandler = (0, _memoryCacher.addDataChangeListener)(pid, [gridId, _gridConst.CONFIGURED_HEADER_HEIGHT_CHANGED], setAllSelectionEleHeight);\n    return function () {\n      allSelectionEleHeightHandler();\n    };\n  }, [gridOptions.headerHeight, gridContrlParams.maxLevel]);\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    ref: eleRef\n  });\n}\n\n// 表格控制按钮列头\nvar SetOptionColHeader = exports.SetOptionColHeader = /*#__PURE__*/function (_React$Component2) {\n  _inherits(SetOptionColHeader, _React$Component2);\n  function SetOptionColHeader(props) {\n    var _this3;\n    _classCallCheck(this, SetOptionColHeader);\n    _this3 = _callSuper(this, SetOptionColHeader, [props]);\n    _this3.onClick = function (e) {\n      var _this3$props = _this3.props,\n        pid = _this3$props.pid,\n        gridId = _this3$props.gridId,\n        toolBarBtnClick = _this3$props.toolBarBtnClick,\n        getGridState = _this3$props.getGridState,\n        rowKey = _this3$props.rowKey,\n        seq = _this3$props.seq;\n      var model = {\n        pageId: pid,\n        key: gridId\n      };\n      var gridState = getGridState && getGridState();\n      var postArg = [];\n      if (gridState && gridState.columnDefs && Array.isArray(gridState.columnDefs)) {\n        gridState.columnDefs.map(function (f) {\n          var field = f.field,\n            width = f.width;\n          if (field != 'XXfieldXX' && field != rowKey && field !== seq && field !== _gridConst.DETAIL_EXPAND_COL_ID) {\n            postArg.push({\n              k: field,\n              w: width\n            });\n          }\n        });\n      }\n      toolBarBtnClick(model, [postArg], 'listFieldsControl');\n    };\n    return _this3;\n  }\n  _createClass(SetOptionColHeader, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props3 = this.props,\n        gridContrlParams = _this$props3.gridContrlParams,\n        gridOptions = _this$props3.gridOptions;\n      // 列头高度\n      if (this.egui && this.egui.parentElement) {\n        var totalH = gridOptions.headerHeight * gridContrlParams.maxLevel - 1;\n        var targetE = this.egui.parentElement;\n        targetE.style.height = totalH + 'px';\n        targetE.style.bottom = 0;\n        targetE.style.position = 'absolute';\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n      var iconClass = (0, _classnames2[\"default\"])(_defineProperty({\n        'kdfont kdfont-shezhi11': true,\n        'kd-hover-color': true,\n        'hover-theme-hover-fc': true,\n        'active-theme-active-fc': true\n      }, _CellClass[\"default\"].icon, true));\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        ref: function ref(r) {\n          return _this4.egui = r;\n        },\n        className: _CellClass[\"default\"].columnOptions\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n        className: iconClass,\n        onClick: this.onClick\n      }));\n    }\n  }]);\n  return SetOptionColHeader;\n}(_react[\"default\"].Component);\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/HeaderComponent/SelectColumnHeader.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/HeaderComponent/VoucherAmtHeader.js":
/*!***********************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/HeaderComponent/VoucherAmtHeader.js ***!
  \***********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _propTypes = _interopRequireDefault(__webpack_require__(/*! prop-types */ \"../../node_modules/prop-types/index.js\"));\nvar _classnames3 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _HeaderClass = _interopRequireDefault(__webpack_require__(/*! ./HeaderClass.less */ \"./src/component/web/DataGrid/AgDataGrid/HeaderComponent/HeaderClass.less\"));\nvar _GridUtils = __webpack_require__(/*! ../GridUtils.js */ \"./src/component/web/DataGrid/AgDataGrid/GridUtils.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n// Header component to be used as default for all the columns.\nvar VoucherAmtHeader = exports[\"default\"] = /*#__PURE__*/function (_React$Component) {\n  _inherits(VoucherAmtHeader, _React$Component);\n  function VoucherAmtHeader(props) {\n    var _this;\n    _classCallCheck(this, VoucherAmtHeader);\n    _this = _callSuper(this, VoucherAmtHeader, [props]);\n    _this.onSortChanged = _this.onSortChanged.bind(_assertThisInitialized(_this));\n    _this.onFilterChanged = _this.onFilterChanged.bind(_assertThisInitialized(_this));\n    // if(!this.props.column.eventService.allListeners.sortChanged)\n    _this.props.column.addEventListener('sortChanged', _this.onSortChanged);\n    // when filter changes on the col, this will print one of [true,false]\n    _this.props.column.addEventListener('filterChanged', _this.onFilterChanged);\n    _this.sortState = new _GridUtils.Iterator(['', 'asc', 'desc'], 0); // none, asc,desc\n    _this.state = {\n      sorted: _this.sortState.curr(),\n      filted: false\n      // sortState:this.sortState.curr();\n    };\n    return _this;\n  }\n  _createClass(VoucherAmtHeader, [{\n    key: \"init\",\n    value: function init(params) {\n      console.log('init', params);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      var sortElements = [];\n      var sortElement = function sortElement() {\n        if (!_this2.props.enableSorting) return null;\n        if (_this2.state.sorted == 'asc') {\n          return /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n            ref: \"eSortAsc\",\n            className: \"ag-header-icon ag-sort-ascending-icon\"\n          }, /*#__PURE__*/_react[\"default\"].createElement(\"svg\", {\n            width: \"10\",\n            height: \"10\"\n          }, /*#__PURE__*/_react[\"default\"].createElement(\"polygon\", {\n            points: \"0,10 5,0 10,10\"\n          })));\n        } else if (_this2.state.sorted == 'desc') {\n          return /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n            ref: \"eSortDesc\",\n            className: \"ag-header-icon ag-sort-descending-icon \"\n          }, /*#__PURE__*/_react[\"default\"].createElement(\"svg\", {\n            width: \"10\",\n            height: \"10\"\n          }, /*#__PURE__*/_react[\"default\"].createElement(\"polygon\", {\n            points: \"0,0 5,10 10,0\"\n          })));\n        } else if (_this2.state.sorted == '') {\n          return null;\n        }\n        /*                return <span ref=\"eSortNone\" className=\"ag-header-icon ag-sort-none-icon\">\n                          <svg width=\"10\" height=\"10\"><polygon points=\"0,4 5,0 10,4\">\n                          </polygon><polygon points=\"0,6 5,10 10,6\"></polygon></svg>\n                  </span>; */else return null;\n      };\n      var menuCop = function menuCop() {\n        if (!_this2.props.enableMenu) return null;\n        return /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n          ref: \"eMenu\",\n          className: \"ag-header-icon ag-header-cell-menu-button\",\n          style: menuStyle,\n          onClick: _this2.onMenuClick.bind(_this2)\n        }, /*#__PURE__*/_react[\"default\"].createElement(\"svg\", {\n          width: \"12\",\n          height: \"12\"\n        }, /*#__PURE__*/_react[\"default\"].createElement(\"rect\", {\n          y: \"0\",\n          width: \"12\",\n          height: \"2\",\n          className: \"ag-header-icon\"\n        }), /*#__PURE__*/_react[\"default\"].createElement(\"rect\", {\n          y: \"5\",\n          width: \"12\",\n          height: \"2\",\n          className: \"ag-header-icon\"\n        }), /*#__PURE__*/_react[\"default\"].createElement(\"rect\", {\n          y: \"10\",\n          width: \"12\",\n          height: \"2\",\n          className: \"ag-header-icon\"\n        })));\n      };\n      // class ag-hidden\n      // conatiner:position: absolute;\n      /// /\n      /// style={{display:'flex',width:'100%',height: '100%',position: 'absolute'}} width与position会影响resize\n      ///\n      var rootCls = (0, _classnames3[\"default\"])(_defineProperty(_defineProperty({}, _HeaderClass[\"default\"]['header-root'], true), 'ag-header-cell-sorted-none', true));\n      // TODO:heiht\n      var totalH = this.props.gridOptions.headerHeight * (this.props.maxLevel - (this.props.level || 1) + 1) - 1;\n      var headerStyle = {\n        height: totalH - 23 + 'px',\n        position: 'absolute',\n        width: '280px',\n        marginLeft: '1px'\n        // borderLeft: '1px solid #e5e5e5'\n      };\n      var menuStyle = {\n        height: '12px',\n        opacity: 0,\n        transition: 'opacity 0.2s, border 0.2s'\n        // marginTop:totalH/2 - 18/2 +'px',\n      };\n      var mustInputL = null;\n      var mustInputR = null;\n      if (this.props.mustInput) {\n        if (this.props.alignment.judgeAlign(this.props.type, this.props.field, 'right')) {\n          mustInputL = /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n            style: {\n              color: 'red',\n              paddingRight: '1px'\n            }\n          }, \"*\");\n        } else {\n          mustInputR = /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n            style: {\n              color: 'red',\n              paddingLeft: '1px'\n            }\n          }, \"*\");\n        }\n      }\n      var displayName = this.props.groupHeaderName;\n      var rootStyle = {\n        width: '100%',\n        height: totalH\n      };\n      var rootClass = (0, _classnames3[\"default\"])(_defineProperty({}, _HeaderClass[\"default\"]['header-root'], true));\n      // 右边线一直显示\n      rootStyle.borderRight = '1px solid #e5e5e5';\n      if (this.props.maxLevel === 1) {\n        // 存在分组列左侧有边框线，不需要再显示边框线\n        rootStyle.borderLeft = '1px solid #e5e5e5';\n      }\n\n      // TODO:设置图标位置。中：右；右：右：左：左。\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: rootClass,\n        style: rootStyle\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        id: \"fromintesteee\",\n        ref: function ref(ro) {\n          return _this2.headerRoot = ro;\n        },\n        onMouseEnter: function onMouseEnter(e) {\n          return _this2.onMouseEnter(e);\n        },\n        onMouseLeave: function onMouseLeave(e) {\n          return _this2.onMouseLeave(e);\n        }\n        // className={rootCls}\n        ,\n        style: headerStyle\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        onClick: this.onSortRequested.bind(this),\n        ref: \"eLabel\",\n        className: \"ag-header-cell-label\",\n        style: {\n          padding: '0px',\n          width: '100%'\n        }\n      }, sortElement(), this.state.filted ? /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n        ref: \"eFilter\",\n        className: \"ag-header-icon ag-filter-icon\"\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"svg\", {\n        width: \"10\",\n        height: \"10\"\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"polygon\", {\n        points: \"0,0 4,4 4,10 6,10 6,4 10,0\",\n        className: \"ag-header-icon\"\n      }))) : null, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n        style: {\n          padding: '0px'\n        },\n        ref: \"eText\",\n        className: \"ag-header-cell-text\"\n      }, mustInputL, displayName, mustInputR))), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        style: {\n          height: '23px',\n          borderTop: '1px solid #e4e4e4',\n          width: '280px'\n        },\n        className: _HeaderClass[\"default\"].voucherAmthead\n      }));\n\n      /*        return <div style={{display:'flex',width:'100%',border:'1px solid red'}}>\n              {sortElements}\n              <div className=\"customHeaderLabel\">{this.props.displayName}</div>\n              {menuButton}\n          </div> */\n    }\n  }, {\n    key: \"destory\",\n    value: function destory() {\n      this.props.column.removeEventListener('sortChanged', this.onSortChanged.bind(this));\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // console.log(this.headerRoot);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {}\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.props.column.removeEventListener('sortChanged', this.onSortChanged);\n      this.props.column.removeEventListener('filterChanged', this.onFilterChanged);\n    }\n  }, {\n    key: \"onMouseEnter\",\n    value: function onMouseEnter() {\n      if (this.refs.eMenu) this.refs.eMenu.style.opacity = 1;\n    }\n  }, {\n    key: \"onMouseLeave\",\n    value: function onMouseLeave() {\n      if (this.refs.eMenu) this.refs.eMenu.style.opacity = 0;\n    }\n  }, {\n    key: \"onSortRequested\",\n    value: function onSortRequested() {\n      this.props.setSort(this.sortState.next(), false); // sort, multiSort\n    }\n  }, {\n    key: \"onSortChanged\",\n    value: function onSortChanged() {\n      var sos = '';\n      if (this.props.column.isSortAscending()) {\n        sos = 'asc';\n      } else if (this.props.column.isSortDescending()) {\n        sos = 'desc';\n      } else {\n        sos = '';\n      }\n      //\n      this.sortState.reset(sos);\n      if (this.headerRoot && this.state.sorted != sos) {\n        this.setState(Object.assign({}, this.state, {\n          sorted: sos\n        }));\n      }\n    }\n  }, {\n    key: \"onFilterChanged\",\n    value: function onFilterChanged() {\n      var fis = this.props.column.isFilterActive();\n      if (this.headerRoot && this.state.filted != fis) {\n        this.setState(Object.assign({}, this.state, {\n          filted: fis\n        }));\n      }\n    }\n  }, {\n    key: \"onMenuClick\",\n    value: function onMenuClick() {\n      this.props.showColumnMenu(this.refs.eMenu);\n    }\n  }]);\n  return VoucherAmtHeader;\n}(_react[\"default\"].Component); // the grid will always pass in one props called 'params',\n// which is the grid passing you the params for the cellRenderer.\n// this piece is optional. the grid will always pass the 'params'\n// props, so little need for adding this validation meta-data.\nVoucherAmtHeader.propTypes = {\n  params: _propTypes[\"default\"].object\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/HeaderComponent/VoucherAmtHeader.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/HeaderComponent/headerHooks.js":
/*!******************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/HeaderComponent/headerHooks.js ***!
  \******************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.useBuildState = useBuildState;\nexports.useFilterChange = useFilterChange;\nexports.useSortChange = useSortChange;\nexports.useTargetValRefEffect = useTargetValRefEffect;\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\nvar _react = __webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\");\nvar _memoryCacher = __webpack_require__(/*! @/model/memoryCacher */ \"./src/model/memoryCacher.js\");\nvar _gridConst = __webpack_require__(/*! @/constant/gridConst */ \"./src/constant/gridConst.js\");\nvar _grid = __webpack_require__(/*! @/util/component/grid */ \"./src/util/component/grid.js\");\nvar _GridUtils = __webpack_require__(/*! ../GridUtils */ \"./src/component/web/DataGrid/AgDataGrid/GridUtils.js\");\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction useSortChange(props, onSortChanged, changes) {\n  var pid = props.pid,\n    gridId = props.gridId,\n    enableSorting = props.enableSorting;\n  (0, _react.useEffect)(function () {\n    var sortChangedHandle = enableSorting === true && (0, _memoryCacher.addDataChangeListener)(pid, [gridId, _gridConst.GRID_SORTED_CHANGE], onSortChanged);\n    // Specify how to clean up after this effect:\n    return function cleanup() {\n      sortChangedHandle && sortChangedHandle();\n    };\n  }, changes);\n}\nfunction useTargetValRefEffect(targetValRef, val) {\n  (0, _react.useEffect)(function () {\n    targetValRef.current = val;\n  }, [val]);\n}\nfunction useBuildState(initSort, initFilter) {\n  var _useState = (0, _react.useState)(initSort),\n    _useState2 = _slicedToArray(_useState, 2),\n    sorted = _useState2[0],\n    setSorted = _useState2[1]; // 无序，1升序，2降序\n  var _useState3 = (0, _react.useState)(initFilter),\n    _useState4 = _slicedToArray(_useState3, 2),\n    filted = _useState4[0],\n    setFilted = _useState4[1];\n  return {\n    sorted: sorted,\n    setSorted: setSorted,\n    filted: filted,\n    setFilted: setFilted\n  };\n}\nfunction useFilterChange(props, _ref, changes) {\n  var onFilterChangedInServerMode = _ref.onFilterChangedInServerMode,\n    onFilterChangedInClientMode = _ref.onFilterChangedInClientMode;\n  var pid = props.pid,\n    gridId = props.gridId,\n    gridContrlParams = props.gridContrlParams,\n    column = props.column,\n    enableMenu = props.enableMenu;\n  var isListView = gridContrlParams.isListView,\n    isVirtualView = gridContrlParams.isVirtualView,\n    isSubGrid = gridContrlParams.isSubGrid;\n  (0, _react.useEffect)(function () {\n    if (enableMenu) {\n      var isServerFilter = isListView && !isSubGrid || isVirtualView || (0, _grid.isServerFilterModeTablePage)(pid) && (0, _GridUtils.isEntryWithoutTreeByGridContrlParams)(gridContrlParams);\n      var removeDataChangeListener = isServerFilter && (0, _memoryCacher.addDataChangeListener)(pid, [gridId, 'filter'], onFilterChangedInServerMode);\n      !isServerFilter && column.addEventListener('filterChanged', onFilterChangedInClientMode);\n      return function cleanup() {\n        removeDataChangeListener && removeDataChangeListener();\n        !isServerFilter && column.removeEventListener('filterChanged', onFilterChangedInClientMode);\n      };\n    }\n  }, changes);\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/HeaderComponent/headerHooks.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/HeaderComponent/headerModule.js":
/*!*******************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/HeaderComponent/headerModule.js ***!
  \*******************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.DisplayName = DisplayName;\nexports.HeaderCheckBox = HeaderCheckBox;\nexports.Menu = Menu;\nexports.Sort = Sort;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _classnames3 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _memoryCacher = __webpack_require__(/*! @/model/memoryCacher */ \"./src/model/memoryCacher.js\");\nvar _gridConst = __webpack_require__(/*! @/constant/gridConst */ \"./src/constant/gridConst.js\");\nvar _HeaderClass = _interopRequireDefault(__webpack_require__(/*! ./HeaderClass.less */ \"./src/component/web/DataGrid/AgDataGrid/HeaderComponent/HeaderClass.less\"));\nvar _BaseComponents = __webpack_require__(/*! @/component/web/base/BaseComponents */ \"./src/component/web/base/BaseComponents/index.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction Menu(_ref) {\n  var menuRef = _ref.menuRef,\n    onMenuClicked = _ref.onMenuClicked,\n    filted = _ref.filted,\n    iconStyleClass = _ref.iconStyleClass,\n    className = _ref.className;\n  var cls = (0, _classnames3[\"default\"])('ag-header-icon', 'kdfont kdfont-guolv_mian', _defineProperty(_defineProperty(_defineProperty({}, iconStyleClass, true), 'kd-active-fontIcon', filted === true), _HeaderClass[\"default\"]['hover-show-icon'], !filted), className);\n  return /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    ref: menuRef,\n    className: cls,\n    onClick: onMenuClicked,\n    onMouseUp: function onMouseUp(e) {\n      return e.stopPropagation();\n    },\n    onMouseDown: function onMouseDown(e) {\n      return e.stopPropagation();\n    }\n  });\n}\nfunction Sort(_ref2) {\n  var sorted = _ref2.sorted;\n  var className = (0, _classnames3[\"default\"])('ag-header-icon ag-sort-ascending-icon', _defineProperty(_defineProperty({}, _HeaderClass[\"default\"]['header-sort'], true), _HeaderClass[\"default\"]['hover-show-icon'], sorted !== 1 && sorted !== 2));\n  return /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: className\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: (0, _classnames3[\"default\"])({\n      'theme-fc': sorted === 1\n    }, 'kdfont kdfont-top')\n  }), /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: (0, _classnames3[\"default\"])({\n      'theme-fc': sorted === 2\n    }, 'kdfont kdfont-bottom')\n  }));\n  // if (!enableSorting || sorted === 0) {\n  //   return null\n  // }\n\n  // if (sorted === 1) {\n  //   return <span className='kdfont kdfont-xiangshang ag-header-icon ag-sort-ascending-icon' />\n  // } else if (sorted === 2) {\n  //   return <span className='kdfont kdfont-xiangshang ag-header-icon' style={{ transform: 'rotate(-180deg)' }} />\n  // }\n  // return null\n}\nfunction DisplayName(_ref3) {\n  var displayName = _ref3.displayName,\n    originHeaderName = _ref3.originHeaderName,\n    hasHeadTips = _ref3.hasHeadTips,\n    isTitleAutoHeight = _ref3.isTitleAutoHeight;\n  // if (hasHeadTips === true) {\n  //   return (\n  //     <>\n  //       <span>{originHeaderName}</span>\n  //       <span id={targetId} className={HeaderClass['tool-tip-icon']}/>\n  //     </>\n  //   )\n  // }\n  var wrapClass = isTitleAutoHeight ? 'title-wrap' : '';\n  return /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: wrapClass,\n    title: originHeaderName !== null && originHeaderName !== void 0 ? originHeaderName : displayName\n  }, originHeaderName !== null && originHeaderName !== void 0 ? originHeaderName : displayName);\n}\nfunction HeaderCheckBox(_ref4) {\n  var pid = _ref4.pid,\n    gridId = _ref4.gridId,\n    column = _ref4.column,\n    invokeControlMethodOnly = _ref4.invokeControlMethodOnly,\n    rk = _ref4.rk,\n    api = _ref4.api,\n    gridContrlParams = _ref4.gridContrlParams,\n    getGridThisProp = _ref4.getGridThisProp,\n    addGirdPostData = _ref4.addGirdPostData,\n    invokeUpdateCells = _ref4.invokeUpdateCells;\n  var styleType = 2; // 1 标签样式； 2 选型样式(目前只有该情况 column.colDef)；开关样式，默认\n  var _useState = (0, _react.useState)(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    check = _useState2[0],\n    setCheck = _useState2[1];\n  var _ref5 = column || {},\n    colDef = _ref5.colDef;\n  var colId = colDef.field;\n  var setColAllChecked = function setColAllChecked(checked) {\n    var isEntryEntity = gridContrlParams.isEntryEntity;\n    var isEntryEntityFilter = isEntryEntity && api.isAnyFilterPresent();\n    // 单据体存在过滤, 只更新过滤出来的值\n    if (isEntryEntityFilter) {\n      var getCellIsLock = getGridThisProp('getCellIsLock');\n      var postData = [];\n      api.forEachNodeAfterFilter(function (node) {\n        var data = node.data;\n        if (!(getCellIsLock !== null && getCellIsLock !== void 0 && getCellIsLock(data[rk], colDef))) {\n          postData.push({\n            k: colId,\n            r: data[rk],\n            v: checked\n          });\n        }\n      });\n      if (postData.length > 0) {\n        addGirdPostData(pid, gridId, postData);\n        invokeUpdateCells({\n          pageId: pid,\n          key: gridId\n        });\n      }\n    } else {\n      invokeControlMethodOnly({\n        pageId: pid,\n        key: gridId\n      }, 'setColAllChecked', [colId, checked]);\n    }\n  };\n  var onChange = function onChange(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    var checked = e.target.checked;\n    setCheck(checked);\n    setColAllChecked(checked);\n  };\n  var onMouseStop = function onMouseStop(e) {\n    e.preventDefault();\n    e.stopPropagation();\n  };\n  (0, _react.useEffect)(function () {\n    var v = (0, _memoryCacher.getPageData)(pid, [gridId, _gridConst.GRID_COL_SAME_VAL, colId]);\n    setCheck(!!v);\n    var colValChangeHandle = (0, _memoryCacher.addDataChangeListener)(pid, [gridId, _gridConst.GRID_COL_SAME_VAL, colId], function (val) {\n      return setCheck(val);\n    });\n    return function cleanup() {\n      colValChangeHandle && colValChangeHandle();\n    };\n  }, []);\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _HeaderClass[\"default\"]['header-checkbox'],\n    onMouseEnter: onMouseStop,\n    onMouseDown: onMouseStop\n  }, /*#__PURE__*/_react[\"default\"].createElement(_BaseComponents.CheckBox, {\n    iconClassName: _HeaderClass[\"default\"]['checkbox-icon'],\n    value: !!check,\n    styleType: styleType,\n    onChange: onChange\n  }));\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/HeaderComponent/headerModule.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/LightGrid/LightGrid.js":
/*!**********************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/LightGrid/LightGrid.js ***!
  \**********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-properties.js */ \"../../node_modules/core-js/modules/es.object.define-properties.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptors.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.timers.js */ \"../../node_modules/core-js/modules/web.timers.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _agGridReact = __webpack_require__(/*! ag-grid-react */ \"../../node_modules/ag-grid-react/main.js\");\nvar _lightGrid = _interopRequireDefault(__webpack_require__(/*! ./lightGrid.less */ \"./src/component/web/DataGrid/AgDataGrid/LightGrid/lightGrid.less\"));\nvar _gridConfiguration = __webpack_require__(/*! ../gridConfiguration */ \"./src/component/web/DataGrid/AgDataGrid/gridConfiguration/index.js\");\nvar _buildSubGridProps = _interopRequireDefault(__webpack_require__(/*! ./buildSubGridProps */ \"./src/component/web/DataGrid/AgDataGrid/LightGrid/buildSubGridProps.js\"));\nvar _resizeObserve = _interopRequireDefault(__webpack_require__(/*! ../../../../../util/resizeObserve */ \"./src/util/resizeObserve.js\"));\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _classnames2 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _memoryCacher = __webpack_require__(/*! ../../../../../model/memoryCacher */ \"./src/model/memoryCacher.js\");\nvar _GridUtils = __webpack_require__(/*! ../GridUtils */ \"./src/component/web/DataGrid/AgDataGrid/GridUtils.js\");\nvar _gridModel = __webpack_require__(/*! ../gridModel */ \"./src/component/web/DataGrid/AgDataGrid/gridModel/index.js\");\nvar _gridConst = __webpack_require__(/*! @/constant/gridConst */ \"./src/constant/gridConst.js\");\nvar _agGridCbFun = __webpack_require__(/*! ../gridCoreUseFucntion/agGridCbFun */ \"./src/component/web/DataGrid/AgDataGrid/gridCoreUseFucntion/agGridCbFun.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); } /**\n * 轻量级的表格控件，用在行展开面板里面\n * by kechuang\n */\nvar LightGrid = exports[\"default\"] = /*#__PURE__*/function (_React$Component) {\n  _inherits(LightGrid, _React$Component);\n  function LightGrid(_props) {\n    var _this;\n    _classCallCheck(this, LightGrid);\n    _this = _callSuper(this, LightGrid, [_props]);\n    /**\n     * 初始化gridState对象\n     */\n    _this.initGridState = function (props) {\n      var pkId = props.pkId,\n        parentGridState = props.parentGridState;\n      var pageId = parentGridState.pageId,\n        gridId = parentGridState.gridId,\n        config = parentGridState.config,\n        localeId = parentGridState.localeId;\n      return {\n        pageId: pageId,\n        gridId: gridId,\n        config: config,\n        localeId: localeId,\n        pkId: pkId\n      };\n    };\n    /**\n     * 初始化gridOptions对象\n     */\n    _this.initGridOptions = function () {\n      var gridOptions = (0, _gridConfiguration.buildGridOptions)(_assertThisInitialized(_this));\n      return _objectSpread(_objectSpread({}, gridOptions), {}, {\n        suppressRowClickSelection: true,\n        // suppressClickEdit: true,\n        suppressNoRowsOverlay: false\n      });\n    };\n    /**\n     * 初始化gridContrlParams对象\n     */\n    _this.initGridContrlParams = function () {\n      var parentGridContrlParams = _this.props.getGridThisProp('gridContrlParams');\n      var columnResizeMode = parentGridContrlParams && parentGridContrlParams.columnResizeMode;\n      return {\n        isSubGrid: true,\n        inheritLevel: 1,\n        isListView: true,\n        columnResizeMode: columnResizeMode\n      };\n    };\n    /**\n     * 构造表格参数\n     */\n    _this.buildProps = function () {\n      var _this$props = _this.props,\n        rowDetailParams = _this$props.rowDetailParams,\n        superProps = _this$props.superProps,\n        getCellActions = _this$props.getCellActions;\n      (0, _buildSubGridProps[\"default\"])(rowDetailParams.subGridMeta, superProps, getCellActions, _assertThisInitialized(_this));\n    };\n    _this.registerGridDataListener = function () {\n      var _this$props2 = _this.props,\n        pkId = _this$props2.pkId,\n        parentGridState = _this$props2.parentGridState;\n      var gridId = parentGridState.gridId,\n        pageId = parentGridState.pageId;\n      _this.dataHandler = (0, _memoryCacher.addDataChangeListener)(pageId, [gridId, pkId, '_subGridData'], _this.setGridData);\n      _this.debounceResize = _lodash[\"default\"].debounce(_this.resizeListener, 300);\n    };\n    _this.setGridData = function (gridData) {\n      if (!_this.api) {\n        return;\n      }\n      _this.dataDesc = gridData;\n      var rowDatas = _this.buildRowDatas(gridData);\n      setTimeout(function () {\n        _this.updateGridDatas(rowDatas);\n      }, 0);\n    };\n    /**\n     * 批量更新数据，第一个和后面的次数，调用的api不同\n     * 如果后面有行数改变，需要修改api！！！\n     */\n    _this.updateGridDatas = function (rowDatas) {\n      if (_this.rowDatas && _this.rowDatas.length === rowDatas.length) {\n        _this.api.updateRowData({\n          update: rowDatas\n        });\n      } else {\n        _this.api.setRowData(rowDatas);\n      }\n      //  const { gridEditable } = this.gridContrlParams\n      window.requestAnimationFrame(function () {\n        _this.autoSizeColumns();\n        // const targetColumns = getTargetColumnsForAutoSize({ api: this.api, columnApi: this.columnApi }, true, { gridEditable, getColWidthFromSettings: this.getColWidthFromSettings })\n        // const columnsWidthSet = this.calculatePreferredColumnsWidthWrap(targetColumns)\n        // columnsWidthSet.forEach(item => {\n        //   this.columnApi.setColumnWidth(item.colId, item.width, false)\n        // })\n      });\n      _this.rowDatas = rowDatas;\n    };\n    _this.getColWidthFromSettings = function (field) {\n      var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _gridConst.SETTING_COLUMN_WIDTH;\n      if (_this.columnWidthSetting[type][field]) {\n        return _this.columnWidthSetting[type][field];\n      }\n      var superProps = _this.props.superProps;\n      var settigs = superProps.model.getPageSettingByKey();\n      if (settigs) {\n        return settigs.getIn([type, field]); // 取最大宽度时修改\n      }\n      return null;\n    };\n    _this.buildRowDatas = function (gridData) {\n      var dataindex = gridData.dataindex,\n        rows = gridData.rows;\n      var rowDatas = [];\n      var keys = Object.keys(dataindex);\n      rows.forEach(function (row) {\n        var rowData = {};\n        for (var _i = 0, _keys = keys; _i < _keys.length; _i++) {\n          var k = _keys[_i];\n          var index = dataindex[k];\n          var v = row[index];\n          rowData[k] = v;\n        }\n        rowDatas.push(rowData);\n      });\n      return rowDatas;\n    };\n    _this.requestGridData = function () {\n      var _this$props3 = _this.props,\n        needRequestData = _this$props3.needRequestData,\n        superProps = _this$props3.superProps,\n        pushDelayInvoke = _this$props3.pushDelayInvoke;\n      var _this$gridState = _this.gridState,\n        gridId = _this$gridState.gridId,\n        pageId = _this$gridState.pageId,\n        pkId = _this$gridState.pkId;\n      if (needRequestData === true) {\n        pushDelayInvoke(superProps.getDetailGridData, {\n          pageId: pageId,\n          key: gridId\n        }, [pkId]);\n      }\n    };\n    /** ***表格事件   ---------start */\n    _this.gridReady = function (params) {\n      _this.api = params.api;\n      _this.columnApi = params.columnApi;\n      // params.api.sizeColumnsToFit();\n      _this.requestGridData();\n    };\n    _this.onColumnResized = function (params) {\n      var column = params.column,\n        finished = params.finished;\n      var superProps = _this.props.superProps;\n      if (finished && column) {\n        var colId = column.colId,\n          actualWidth = column.actualWidth;\n        var colDef;\n        colId && (colDef = (0, _GridUtils.childrenLookUp)(_this.gridState.columnDefs, function (f) {\n          return f.field === colId;\n        }));\n        if (colDef) {\n          colDef.width = actualWidth;\n          // setPageUIState(superProps.model, ['cw', colId], actualWidth)\n          if (_this.gridContrlParams.columnResizeMode === _gridConst.GRID_COLUMN_RESIZE_MODE.preset) {\n            // 预设列宽模式 存宽度\n            (0, _memoryCacher.setPageUIState)(superProps.model, [_gridConst.SETTING_COLUMN_WIDTH, colId], actualWidth);\n          } else {\n            (0, _memoryCacher.setPageUIState)(superProps.model, [_gridConst.SETTING_COLUMN_MAX_WIDTH, colId], actualWidth);\n            // 最大列宽存本地\n            _this.columnWidthSetting[_gridConst.SETTING_COLUMN_MAX_WIDTH][colId] = Math.round(actualWidth);\n          }\n        }\n      }\n    };\n    _this.autoSizeColumns = function (params) {\n      var _ref = params || {},\n        _ref$isAllCol = _ref.isAllCol,\n        isAllCol = _ref$isAllCol === void 0 ? true : _ref$isAllCol,\n        ignoreEditStatus = _ref.ignoreEditStatus;\n      var _assertThisInitialize = _assertThisInitialized(_this),\n        api = _assertThisInitialize.api,\n        columnApi = _assertThisInitialize.columnApi,\n        gridContrlParams = _assertThisInitialize.gridContrlParams;\n      var superProps = _this.props.superProps;\n      if (!api || !gridContrlParams) {\n        return;\n      }\n      var gridEditable = gridContrlParams.gridEditable,\n        columnResizeMode = gridContrlParams.columnResizeMode;\n      if (columnResizeMode === _gridConst.GRID_COLUMN_RESIZE_MODE.adaptive) {\n        var getColumnsWidthSet = function getColumnsWidthSet() {\n          var targetColumns = (0, _GridUtils.getTargetColumnsForAutoSize)({\n            api: api,\n            columnApi: columnApi\n          }, isAllCol, {\n            gridEditable: gridEditable,\n            ignoreEditStatus: ignoreEditStatus,\n            seq: _this.gridState.seq,\n            getColWidthFromSettings: _this.getColWidthFromSettings\n          });\n          return _this.calculatePreferredColumnsWidthWrap(targetColumns);\n        };\n        var columnsWidthSet = getColumnsWidthSet();\n        columnsWidthSet.forEach(function (item) {\n          _this.columnApi.setColumnWidth(item.colId, item.width, false);\n          // 自适应完存个性化列宽\n          (0, _memoryCacher.setPageUIState)(superProps.model, [_gridConst.SETTING_AUTOSIZE_COLUMN_WIDTH, item.colId], item.width);\n        });\n      }\n    };\n    /** ***表格事件   ---------end */\n    _this.resizeListener = function (rect) {\n      // TODO:宽度自适应\n      // this.api && this.api.sizeColumnsToFit();\n    };\n    _this.resetCols = function () {\n      _this.api.setColumnDefs(_this.gridState.columnDefs);\n    };\n    /**\n     * @param {Array} columns [{colId,maxWidth}]\n     */\n    _this.calculatePreferredColumnsWidthWrap = function (columns) {\n      return _this.columnApi && _this.gridContainerI && (0, _gridModel.calculatePreferredColumnsWidth)(columns, _this.columnApi, {\n        eGridContainer: _this.gridContainerI\n      });\n    };\n    _this.setGridContainerRef = function (eleRef) {\n      _this.gridContainerI = eleRef;\n    };\n    _this.gridState = _this.initGridState(_props);\n    _this.gridOptions = _this.initGridOptions();\n    _this.gridContrlParams = _this.initGridContrlParams();\n    _this.columnWidthSetting = _defineProperty({}, _gridConst.SETTING_COLUMN_MAX_WIDTH, {});\n    _this.buildProps(); // 构造表格参数\n    _this.registerGridDataListener(); // 注册接受行数据的事件\n\n    _this.rowDatas = null; // 初始构建数据需要使用setRowData,后面的数据更新才使用updateRowDate\n    return _this;\n  }\n  _createClass(LightGrid, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.resizeObserve = (0, _resizeObserve[\"default\"])(this.gridContainerI, this.resizeListener);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.dataHandler && this.dataHandler();\n      this.resizeObserve.removeResizeObserve();\n      this.resizeObserve = null;\n      this.rowDatas = null;\n      this.dataDesc = null;\n      this.api = null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      var columnDefs = this.gridState.columnDefs;\n      var className = (0, _classnames2[\"default\"])(_defineProperty(_defineProperty(_defineProperty({}, _lightGrid[\"default\"].gridContainer, true), _lightGrid[\"default\"].lightGrid, true), 'light-grid', true));\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        ref: this.setGridContainerRef,\n        className: className\n      }, /*#__PURE__*/_react[\"default\"].createElement(_agGridReact.AgGridReact, {\n        gridOptions: this.gridOptions,\n        columnDefs: columnDefs,\n        onBodyScroll: function onBodyScroll(params) {\n          return (0, _agGridCbFun.onBodyScroll)(_this2, params);\n        },\n        onGridReady: this.gridReady,\n        onColumnResized: this.onColumnResized\n      }));\n    }\n  }]);\n  return LightGrid;\n}(_react[\"default\"].Component);\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/LightGrid/LightGrid.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/LightGrid/buildSubGridProps.js":
/*!******************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/LightGrid/buildSubGridProps.js ***!
  \******************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = buildSubGridProps;\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.set.js */ \"../../node_modules/core-js/modules/es.set.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nvar _GridUtils = __webpack_require__(/*! ../GridUtils */ \"./src/component/web/DataGrid/AgDataGrid/GridUtils.js\");\nvar _colDefFactory = _interopRequireDefault(__webpack_require__(/*! ../columnModel/colDefFactory */ \"./src/component/web/DataGrid/AgDataGrid/columnModel/colDefFactory.js\"));\nvar _gridNoticeTemplate = __webpack_require__(/*! ../gridConfiguration/gridNoticeTemplate */ \"./src/component/web/DataGrid/AgDataGrid/gridConfiguration/gridNoticeTemplate.js\");\nvar _intlApi = __webpack_require__(/*! ../../../../../i18n/intlApi */ \"./src/i18n/intlApi.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n/**\n * 构造字表的配置参数\n * by kechuag\n */\n\nfunction buildSubGridProps(meta, superProps, getCellActions, context) {\n  var gridState = context.gridState,\n    gridOptions = context.gridOptions,\n    gridContrlParams = context.gridContrlParams;\n  gridState = updateGridState(gridState, meta);\n  gridContrlParams = updateGridContrlParams(gridContrlParams);\n  var params = getExposedParams(meta, superProps, getCellActions, context);\n  var columnDefs = (0, _colDefFactory[\"default\"])(params);\n  // 合计行 aggregateColumns\n  var pinnedRows = gridContrlParams.aggregateColumns.length > 0 ? 1 : 0;\n  // if (pinnedRows === 1) {\n  //   gridOptions.suppressColumnVirtualisation = true// 要做合计列列宽自适应，只能牺牲一些性能来使计算生效\n  // }\n  // 空行提示\n  gridOptions.overlayNoRowsTemplate = (0, _gridNoticeTemplate.setNoRowsInterface)(gridOptions, gridContrlParams.maxLevel, (0, _intlApi.getLangMsg)({\n    key: 'cardview.key0002'\n  }), pinnedRows);\n  gridOptions.overlayLoadingTemplate = (0, _gridNoticeTemplate.setLoadingInterface)();\n  gridState.columnDefs = columnDefs;\n}\n\n/**\n * 更新gridState\n * @param {*} gridState\n * @param {*} meta\n */\nvar updateGridState = function updateGridState(gridState, meta) {\n  return Object.assign(gridState, {\n    rk: meta.get('rk'),\n    seq: (0, _GridUtils.getValue)(meta, 'seq', 'fseq'),\n    // 如果要加序号列，需要后端在元数据里加序号列的标识\n    colDefsGUID: (0, _GridUtils.getValue)(meta, 'colDefsGUID', '')\n  });\n};\n\n/**\n * 更新gridContrlParams\n * @param {*} gridContrlParams\n */\nvar updateGridContrlParams = function updateGridContrlParams(gridContrlParams) {\n  return Object.assign(gridContrlParams, {\n    gridEditable: false,\n    nextFocusCell: {},\n    aggregateColumns: [],\n    fireRowHeightCols: [],\n    percentCols: [],\n    // 百分比宽度的列\n    widthSettedCols: new Set() // 设置了宽度的列\n  });\n};\nvar getExposedParams = function getExposedParams(meta, superProps, getCellActions, context) {\n  var gridContrlParams = context.gridContrlParams,\n    gridOptions = context.gridOptions,\n    gridState = context.gridState;\n  var pageId = gridState.pageId,\n    seq = gridState.seq,\n    config = gridState.config,\n    gridId = gridState.gridId,\n    localeId = gridState.localeId,\n    rk = gridState.rk,\n    pkId = gridState.pkId;\n  var args = {\n    pid: pageId,\n    gridId: gridId,\n    pkId: pkId,\n    seq: seq,\n    config: config,\n    rowKey: rk,\n    localeId: localeId,\n    cols: (0, _GridUtils.getValue)(meta, 'columns', []),\n    gridContrlParams: gridContrlParams,\n    gridOptions: gridOptions,\n    actions: getCellActions(superProps)\n  };\n  return args;\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/LightGrid/buildSubGridProps.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/colDefinition/colModify.js":
/*!**************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/colDefinition/colModify.js ***!
  \**************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.array.find.js */ \"../../node_modules/core-js/modules/es.array.find.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.modifyColDefs = modifyColDefs;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _GridUtils = __webpack_require__(/*! ../GridUtils */ \"./src/component/web/DataGrid/AgDataGrid/GridUtils.js\");\nvar _serverproperties = __webpack_require__(/*! ../../../../../constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _CellRenderer = __webpack_require__(/*! ../CellRenderer */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/index.js\");\nvar _LightRender = __webpack_require__(/*! ../CellRenderer/LightRender */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/LightRender.js\");\nvar _colWidth = __webpack_require__(/*! ../columnModel/columnProperty/colWidth */ \"./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/colWidth.js\");\nvar _columnStatus = __webpack_require__(/*! ../columnModel/columnProperty/columnStatus */ \"./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/columnStatus.js\");\nvar _visibility = __webpack_require__(/*! @/component/web/DataGrid/TableHelper/column/visibility */ \"./src/component/web/DataGrid/TableHelper/column/visibility.js\");\nvar _CellClass = _interopRequireDefault(__webpack_require__(/*! ../CellClass.less */ \"./src/component/web/DataGrid/AgDataGrid/CellClass.less\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nvar actionCbs = {\n  gridLock: setGridLock,\n  colVisb: setColVisible,\n  colLock: function colLock(newColDefs) {\n    return newColDefs;\n  }\n};\nfunction modifyColDefs(colDefs, params) {\n  var action = params.action,\n    meta = params.meta,\n    gridContrlParams = params.gridContrlParams,\n    funcs = params.funcs,\n    localeId = params.localeId,\n    defaultLocalId = params.defaultLocalId,\n    cellActions = params.cellActions,\n    seq = params.seq;\n  var newColDefs = [].concat(colDefs);\n  var metaCols = [].concat(meta.columns || []);\n  var cb = actionCbs[action];\n  if (cb) {\n    return cb(newColDefs, metaCols, gridContrlParams, funcs, {\n      localeId: localeId,\n      defaultLocalId: defaultLocalId,\n      cellActions: cellActions,\n      seq: seq\n    });\n  } else {\n    console.warn('can not invoke method:', action);\n    return colDefs;\n  }\n}\n\n// TODO:此处有多重循环,如果有问题需要修改\nfunction setGridLock(colDefs, metaCols, gridContrlParams, funcs, _ref) {\n  var localeId = _ref.localeId,\n    defaultLocalId = _ref.defaultLocalId,\n    cellActions = _ref.cellActions,\n    seq = _ref.seq;\n  var edt = gridContrlParams.gridEditable;\n  var getLockedByNum = funcs.getLockedByNum;\n  var _getNewLockColDefs = function getNewLockColDefs(colDefs, metaCols) {\n    var params = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var parentCol = params.parentCol;\n    return colDefs && colDefs.map(function (_item) {\n      var item = Object.assign({}, _item); // ag内部列定义是浅比较\n      if (item.treeGroup) return item;\n      var c = (0, _GridUtils.find)(metaCols, function (col) {\n        return item.field === col.dataIndex;\n      });\n      if (c) {\n        var _parentCol$cellEditor;\n        if (item.children && c.children) {\n          // 分组列处理子列，其自身没有锁定性之说\n          item.children = _getNewLockColDefs(item.children, c.children, {\n            parentCol: item\n          });\n          return item;\n        }\n        var statusLocked = false;\n        if (typeof c.l !== 'undefined' && getLockedByNum(c.l)) {\n          statusLocked = true;\n        }\n        var editor = c.editor;\n        var showEditButton = item.cellRendererParams.showEditButton;\n        var oldColLock = item.cellRendererParams.colLocked;\n        var isEntryEntityFlexFieldChild = gridContrlParams.isEntryEntity && (parentCol === null || parentCol === void 0 || (_parentCol$cellEditor = parentCol.cellEditorParams) === null || _parentCol$cellEditor === void 0 ? void 0 : _parentCol$cellEditor.type) === _serverproperties.Ctrls.KDFlexField;\n        if (isEntryEntityFlexFieldChild) {\n          item.valueGetter = _GridUtils.cellValueGetter;\n          item.equals = function (val1, val2) {\n            return val1 === val2;\n          };\n        }\n\n        // 单据体弹性域拆分出来的列都设置可编辑\n        item.editable = gridContrlParams.gridEditable && isEntryEntityFlexFieldChild || (0, _columnStatus.getColEditable)(editor || {}, gridContrlParams, statusLocked);\n        // 列定义真实的可编辑性\n        item.realEditable = (0, _columnStatus.getColEditable)(editor || {}, gridContrlParams, statusLocked);\n        item.suppressAutoSize = gridContrlParams.gridEditable && isEntryEntityFlexFieldChild;\n        // item.editable = getColEditable(editor || {}, gridContrlParams, statusLocked)\n\n        var isPrivacy, showPrivateIcon;\n        var colLocked;\n        // 这里锁定性与columnEditor逻辑保持一致\n        if (editor) {\n          var _editor$privacy, _editor$privacy2;\n          colLocked = !item.editable;\n          showEditButton = editor.showEditButton && !statusLocked && edt;\n          isPrivacy = (_editor$privacy = editor.privacy) === null || _editor$privacy === void 0 ? void 0 : _editor$privacy.isprivacy;\n          showPrivateIcon = isPrivacy && ((_editor$privacy2 = editor.privacy) === null || _editor$privacy2 === void 0 ? void 0 : _editor$privacy2.canshowdetail);\n        } else {\n          colLocked = true;\n        }\n\n        // 更新suppressNavigable(整体status修改后没有更新列定义)\n        item.suppressNavigable = colLocked;\n        // 使用列锁定性判断头部的复选框（该参数包含表格锁定性，无需再次判断）\n        if (!colLocked) {\n          // 从不可编辑到可编辑 修改headerCheckbox\n          if (c.headerCheckbox) {\n            item.headerCheckbox = true;\n          }\n        } else {\n          // 从编辑到不可编辑 修改headerCheckbox\n          if (item.headerCheckbox) {\n            item.headerCheckbox = false;\n          }\n        }\n        if (!(item.cellEditor || item.cellEditorFramework)) {\n          item.editable = false;\n        }\n        if (item.cellRendererParams.type === 'other') item.editable = false;\n        item.cellRendererParams = Object.assign({}, item.cellRendererParams, {\n          editable: item.editable,\n          realEditable: item.realEditable,\n          statusLocked: statusLocked,\n          showEditButton: showEditButton,\n          colLocked: colLocked,\n          isPrivacy: isPrivacy,\n          showPrivateIcon: showPrivateIcon\n        });\n        if (item.editable) {\n          item.cellEditorParams = Object.assign({}, item.cellEditorParams, {\n            showEditButton: showEditButton,\n            isPrivacy: isPrivacy\n          });\n        }\n        var needMerge = false;\n        var mergeM = gridContrlParams.mergeModel;\n        // if(mergeM&&mergeM.entities.maxLevel>0) needMerge=true;\n        if (mergeM) needMerge = true;\n\n        // 单独处理行内增删的序号列状态切换(从锁定到非锁定)\n        if (item.colId === seq) {\n          var hasOperateIcon = gridContrlParams.hasOperateIcon,\n            treeTable = gridContrlParams.treeTable,\n            gridEditable = gridContrlParams.gridEditable;\n          var isTree = treeTable && treeTable.isTreeTable;\n          if (hasOperateIcon && !isTree && gridEditable) {\n            // 显示图标、不是树表、没有锁定\n            delete item.cellRenderer;\n            item.cellRendererFramework = _CellRenderer.SeqOpereateRenderer;\n            item.cellRendererParams.oldRenderer = {\n              t: 'common',\n              e: _CellRenderer.SeqOpereateRenderer\n            };\n            item.minWidth = _colWidth.SEQ_COL_DEFAULT_WIDTH.scatter;\n          } else {\n            delete item.cellRendererFramework;\n            item.cellRenderer = _CellRenderer.LightRender;\n            item.cellRendererParams.oldRenderer = {\n              t: 'light',\n              e: _CellRenderer.SeqOpereateRenderer\n            };\n          }\n          return item;\n        }\n\n        // 特殊处理凭证金额编辑列样式和宽度，和初始化构造列逻辑保持一致\n        if (item.isVoucherEditor) {\n          item.width = 280; // 191;\n          item.resizable = false;\n          item.filter = false;\n          var headCls = _CellClass[\"default\"].headerClass2;\n          item.headerClass = headCls;\n          item.cellRendererParams.isVoucherEditor = true;\n          return item;\n        }\n\n        /**\n         * 切换锁定性之后要修改列渲染器\n         * 1. 目前受锁定性影响的渲染器只有已经用到或者需要用到轻渲染器的列\n         * 2. 注意: 这里的轻渲染器的列指的是在轻渲染器白名单里面，不包括序号列等特殊列\n         */\n        var useLightRender = (0, _LightRender.canUseLightRender)({\n          needMerge: needMerge,\n          colType: item.cellRendererParams.type,\n          editable: gridContrlParams.gridEditable && item.editable,\n          isCombined: item.cellRendererParams.isCombined,\n          isCombinedItem: undefined,\n          // 这里不会出现何并列子列\n          hasCellTips: item.cellRendererParams.hasCellTips,\n          showEditButton: gridContrlParams.gridEditable && !item.editable && showEditButton || item.cellRendererParams.type === _serverproperties.Ctrls.KDLTextArea && item.cellRendererParams.editor && item.cellRendererParams.editor[_serverproperties.EDITING_MODE] === 'summary',\n          // 文本按钮编辑模式 || 大文本摘要模式\n          showPrivateIcon: item.cellRendererParams.showPrivateIcon\n        });\n        var oldRenderer = item.cellRendererParams.oldRenderer;\n        if (useLightRender) {\n          if (oldRenderer && oldRenderer.t === 'light') {\n            // 原来就是纯文本渲染，无需处理\n            return item;\n          }\n          // 原来是alphaFactory渲染\n          item.cellRenderer = _CellRenderer.LightRender;\n          item.cellRendererParams.oldRenderer = {\n            t: 'light',\n            e: item.cellRendererFramework\n          };\n          item.cellRendererFramework = undefined;\n          return item;\n        }\n        // 之前是轻渲染器(不包括序号等特殊列)，修改锁定性之后不能使用轻渲染器的（使用之前缓存的alphaFactory去渲染）\n        if (oldRenderer && oldRenderer.t === 'light' && _LightRender.LIGHT_RENDER_WHITE_LIST.includes(item.cellRendererParams.type)) {\n          item.cellRenderer = undefined;\n          item.cellRendererFramework = oldRenderer.e;\n          item.cellRendererParams.oldRenderer = {\n            t: 'common',\n            e: oldRenderer.e\n          };\n        }\n        // 列锁定状态发生变化，处理列宽(多语言)\n        if (oldColLock !== colLocked) {\n          item = (0, _colWidth.setColumnWidth)(item, c, {\n            colType: item.cellRendererParams.type,\n            localeId: localeId,\n            defaultLocalId: defaultLocalId,\n            gridContrlParams: gridContrlParams,\n            actions: cellActions\n          });\n        }\n      }\n      return item;\n    });\n  };\n  var newColDef = _getNewLockColDefs(colDefs, metaCols);\n  _getNewLockColDefs = null;\n  return newColDef;\n}\nfunction isVisible(colId, colVisb) {\n  if (colVisb && colVisb[colId]) {\n    if (Array.isArray(colVisb[colId]) && colVisb[colId].length > 0) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction setColVisible(colDefs, metaCols, gridContrlParams, funcs) {\n  var getVisibleByNum = funcs.getVisibleByNum,\n    getColProperty = funcs.getColProperty;\n  var colVisb = getColProperty('', 'colVisb');\n  var _getColVisibleDefs = function getColVisibleDefs(colDefs, metaCols, parentCol) {\n    var _loop = function _loop() {\n      var itemTemp = colDefs[i];\n      var item = Object.assign({}, itemTemp);\n      colDefs[i] = item;\n      var c = (0, _GridUtils.find)(metaCols, function (col) {\n        return item.field === col.dataIndex;\n      });\n      if (c) {\n        item.hide = false; // Shawn\n        if (!item.treeGroup) {\n          var _item$cellRendererPar;\n          // 树形单据体的索引列始终可见\n          if (typeof c.visible !== 'undefined') {\n            item.hide = !c.visible;\n          }\n          if (!item.hide && typeof c.vi !== 'undefined') {\n            if (!getVisibleByNum(item.field, c.vi)) item.hide = true;\n          }\n          if (!item.hide) {\n            item.hide = !isVisible(item.field, colVisb);\n          }\n          if (!item.hide && parentCol && parentCol.hide) {\n            item.hide = parentCol.hide;\n          }\n          if (!item.hide && (0, _visibility.isHiddenFormEditor)((0, _immutable.fromJS)((_item$cellRendererPar = item.cellRendererParams) === null || _item$cellRendererPar === void 0 ? void 0 : _item$cellRendererPar.editor))) {\n            item.hide = true;\n          }\n        }\n      }\n      if (item.isGroupColumn) {\n        if (item.hide) {\n          // 父列隐藏，子列也直接隐藏\n          (0, _GridUtils.childrenLoop)(item, function (leafCol) {\n            leafCol.hide = item.hide;\n          });\n        } else {\n          // 分组列子项也应该遍历是否隐藏\n          item.children && c.children && _getColVisibleDefs(item.children, c.children, c);\n        }\n      }\n    };\n    for (var i = 0; i < colDefs.length; i++) {\n      _loop();\n    }\n    return colDefs;\n  };\n  var newColDefs = _getColVisibleDefs(colDefs, metaCols);\n  _getColVisibleDefs = null;\n  return newColDefs;\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/colDefinition/colModify.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/colDefinition/containerColUtils.js":
/*!**********************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/colDefinition/containerColUtils.js ***!
  \**********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-properties.js */ \"../../node_modules/core-js/modules/es.object.define-properties.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptors.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.parseSubComponent = exports.parseComponent = exports.getMetaProperty = exports.getMetaLocaleProperty = exports.getCommonStyle = exports.getCommonClass = void 0;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.join.js */ \"../../node_modules/core-js/modules/es.array.join.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _reactDom = _interopRequireDefault(__webpack_require__(/*! react-dom */ \"webpack/sharing/consume/default/react-dom/react-dom?418d\"));\nvar _baseComponent = _interopRequireDefault(__webpack_require__(/*! ../CellRenderer/ContainerRenderer/baseComponent */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/ContainerRenderer/baseComponent.js\"));\nvar name = _interopRequireWildcard(__webpack_require__(/*! ../../../../../constant/serverproperties */ \"./src/constant/serverproperties.js\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); } /**\n * 容器列的工具方法\n * by kechuang\n */\nvar parseSubComponent = exports.parseSubComponent = function parseSubComponent(colDefs, props) {\n  var component = colDefs && colDefs.map(function (item) {\n    return parseComponent(item, props);\n  });\n  return component;\n};\nvar parseComponent = exports.parseComponent = function parseComponent(colDef, props) {\n  // 这里的meta是colDef\n  if (!colDef) {\n    console.error('容器列元数据为空');\n    return null;\n  }\n  var hide = colDef.hide;\n  // 隐藏列不现实\n  if (hide) {\n    return null;\n  }\n  var _props = Object.assign({}, props, colDef.cellRendererParams);\n  var type = _props.type; // container\n  var id = colDef.field;\n  if (_baseComponent[\"default\"][type]) {\n    return /*#__PURE__*/_react[\"default\"].createElement(_baseComponent[\"default\"][type], _objectSpread({\n      key: id,\n      id: id,\n      colDef: colDef,\n      topContainerColProps: props\n    }, _props));\n  } else {\n    console.warn(type + '类型的组件在容器列中不支持');\n    return null;\n  }\n};\nvar getCommonStyle = exports.getCommonStyle = function getCommonStyle(meta, localeId) {\n  var width = getMetaLocaleProperty(meta, localeId, name.WIDTH);\n  var height = getMetaLocaleProperty(meta, localeId, name.HEIGHT);\n  var backgroundColor = getMetaProperty(meta, name.BACKGROUND_COLOR);\n  var color = getMetaProperty(meta, name.COLOR);\n  var backgroundImage = getMetaProperty(meta, name.BACKGROUND_IMAGE);\n  var backgroundImageFull = getMetaProperty(meta, name.BACKGROUND_IMAGE_FULL);\n  var fontSize = getMetaProperty(meta, name.FONT_SIZE);\n  var borderStyle = getMetaProperty(meta, name.BORDER_STYLE);\n  var borderRadius = getMetaProperty(meta, name.RADIUS);\n  var zIndex = getMetaProperty(meta, name.Z_INDEX);\n  var textAlign = getMetaProperty(meta, name.TEXT_ALIGN);\n  var shadow = getMetaProperty(meta, name.SHADOW);\n  var marginTop, marginLeft, marginRight, marginBottom;\n  var borderTop, borderLeft, borderRight, borderBottom;\n  var paddingTop, paddingLeft, paddingRight, paddingBottom;\n  if (borderStyle) {\n    var margin = borderStyle.get(name.MARGIN);\n    var border = borderStyle.get(name.BORDER);\n    var padding = borderStyle.get(name.PADDING);\n    if (margin) {\n      marginTop = margin.get(name.TOP);\n      marginRight = margin.get(name.RIGHT);\n      marginBottom = margin.get(name.BOTTOM);\n      marginLeft = margin.get(name.LEFT);\n    }\n    if (border) {\n      borderTop = border.get(name.TOP);\n      if (borderTop) borderTop = borderTop.split('_').join(' ');\n      borderRight = border.get(name.RIGHT);\n      if (borderRight) borderRight = borderRight.split('_').join(' ');\n      borderBottom = border.get(name.BOTTOM);\n      if (borderBottom) borderBottom = borderBottom.split('_').join(' ');\n      borderLeft = border.get(name.LEFT);\n      if (borderLeft) borderLeft = borderLeft.split('_').join(' ');\n    }\n    if (padding) {\n      paddingTop = padding.get(name.TOP);\n      paddingRight = padding.get(name.RIGHT);\n      paddingBottom = padding.get(name.BOTTOM);\n      paddingLeft = padding.get(name.LEFT);\n    }\n  }\n  var style = {\n    width: width,\n    height: height,\n    backgroundColor: backgroundColor,\n    color: color,\n    fontSize: fontSize,\n    borderRadius: borderRadius,\n    marginTop: marginTop,\n    marginLeft: marginLeft,\n    marginRight: marginRight,\n    marginBottom: marginBottom,\n    zIndex: zIndex,\n    textAlign: textAlign,\n    borderTop: borderTop,\n    borderLeft: borderLeft,\n    borderRight: borderRight,\n    borderBottom: borderBottom,\n    paddingTop: paddingTop,\n    paddingLeft: paddingLeft,\n    paddingRight: paddingRight,\n    paddingBottom: paddingBottom\n  };\n  // if(backgroundImage){\n  // \tlet config  = model.getFormConfig();\n  // \tif(config && config.fileserver){\n  // \t\tbackgroundImage = `url(${config.fileserver}${backgroundImage})`;\n  // \t\tstyle.backgroundImage = backgroundImage;\n  // \t}\n\n  // }\n  if (backgroundImageFull) {\n    style.backgroundSize = '100% 100%';\n  }\n  // if(shadow){\n  // \tstyle.boxShadow='0px 1px 3px 0px rgba(0,0,0,0.15)';\n  // }\n  // for(let p in style){\n  //     if(style[p]===undefined)\n  //         unSetProperties.push(p);\n  // }\n  // _.map(unSetProperties,prop=>{\n  // \t_.unset(style,prop);\n  // \treturn style\n  // })\n  return style;\n};\nvar getCommonClass = exports.getCommonClass = function getCommonClass(meta) {\n  var Grow = getMetaProperty(meta, name.FLEX_GROW);\n  var Shrink = getMetaProperty(meta, name.FLEX_SHRINK);\n  var Overflow = getMetaProperty(meta, name.OVERFLOW) || 'auto'; // overflow:默认自动滚动\n  var Wrap = getMetaProperty(meta, name.FLEX_WRAP);\n  var Direction = getMetaProperty(meta, name.FLEX_DIRECTION);\n  var AlignSelf = getMetaProperty(meta, 'as');\n  var AlignItems = getMetaProperty(meta, 'ai');\n  var AlignContent = getMetaProperty(meta, 'ac');\n  var JustifyContent = getMetaProperty(meta, 'jc');\n  var style = {\n    Grow: Grow,\n    Shrink: Shrink,\n    Overflow: Overflow,\n    Wrap: Wrap,\n    Direction: Direction,\n    AlignSelf: AlignSelf,\n    AlignItems: AlignItems,\n    AlignContent: AlignContent,\n    JustifyContent: JustifyContent\n  };\n  return JSON.parse(JSON.stringify(style));\n};\n\n/** **工具方法 */\n\nvar getMetaProperty = exports.getMetaProperty = function getMetaProperty(meta, prop) {\n  if (Array.isArray(prop)) {\n    return meta.getIn(prop);\n  } else {\n    return meta.get(prop);\n  }\n};\nvar getMetaLocaleProperty = exports.getMetaLocaleProperty = function getMetaLocaleProperty(meta, localeId, prop) {\n  if (Array.isArray(prop)) {\n    return meta.getIn(prop.concat(localeId));\n  } else {\n    return meta.getIn([prop, localeId]);\n  }\n};\n\n/** **工具方法 */\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/colDefinition/containerColUtils.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/colDefinition/index.js":
/*!**********************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/colDefinition/index.js ***!
  \**********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nObject.defineProperty(exports, \"getCommonClass\", ({\n  enumerable: true,\n  get: function get() {\n    return _containerColUtils.getCommonClass;\n  }\n}));\nObject.defineProperty(exports, \"getCommonStyle\", ({\n  enumerable: true,\n  get: function get() {\n    return _containerColUtils.getCommonStyle;\n  }\n}));\nObject.defineProperty(exports, \"getMetaLocaleProperty\", ({\n  enumerable: true,\n  get: function get() {\n    return _containerColUtils.getMetaLocaleProperty;\n  }\n}));\nObject.defineProperty(exports, \"getMetaProperty\", ({\n  enumerable: true,\n  get: function get() {\n    return _containerColUtils.getMetaProperty;\n  }\n}));\nObject.defineProperty(exports, \"modifyColDefs\", ({\n  enumerable: true,\n  get: function get() {\n    return _colModify.modifyColDefs;\n  }\n}));\nObject.defineProperty(exports, \"parseSubComponent\", ({\n  enumerable: true,\n  get: function get() {\n    return _containerColUtils.parseSubComponent;\n  }\n}));\nvar _colModify = __webpack_require__(/*! ./colModify */ \"./src/component/web/DataGrid/AgDataGrid/colDefinition/colModify.js\");\nvar _containerColUtils = __webpack_require__(/*! ./containerColUtils */ \"./src/component/web/DataGrid/AgDataGrid/colDefinition/containerColUtils.js\");\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/colDefinition/index.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/columnModel/colDefFactory.js":
/*!****************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/columnModel/colDefFactory.js ***!
  \****************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-properties.js */ \"../../node_modules/core-js/modules/es.object.define-properties.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptors.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = colDefFactory;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _columnProperty = __webpack_require__(/*! ./columnProperty */ \"./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/index.js\");\nvar _componentutil = __webpack_require__(/*! ../../../../../util/componentutil */ \"./src/util/componentutil.js\");\nvar _CellClass = _interopRequireDefault(__webpack_require__(/*! ../CellClass.less */ \"./src/component/web/DataGrid/AgDataGrid/CellClass.less\"));\nvar _rowModel = __webpack_require__(/*! ../rowModel */ \"./src/component/web/DataGrid/AgDataGrid/rowModel/index.js\");\nvar _serverproperties = __webpack_require__(/*! ../../../../../constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _treeTable = __webpack_require__(/*! ../treeTable */ \"./src/component/web/DataGrid/AgDataGrid/treeTable/index.js\");\nvar _gridModel = __webpack_require__(/*! ../gridModel */ \"./src/component/web/DataGrid/AgDataGrid/gridModel/index.js\");\nvar _GridUtils = __webpack_require__(/*! ../GridUtils */ \"./src/component/web/DataGrid/AgDataGrid/GridUtils.js\");\nvar _cellStyle = __webpack_require__(/*! ./columnProperty/cellStyle */ \"./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/cellStyle.js\");\nvar _CellRenderer = __webpack_require__(/*! ../CellRenderer */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/index.js\");\nvar _LightRender = __webpack_require__(/*! ../CellRenderer/LightRender */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/LightRender.js\");\nvar _langUtil = __webpack_require__(/*! @/util/langUtil */ \"./src/util/langUtil.js\");\nvar _grid = __webpack_require__(/*! @/util/component/grid */ \"./src/util/component/grid.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); } /**\n * 构造列定义的构造方法\n * by kechuang\n */\n/**\n *\n * @param {*} params buildProps构造的参数\n */\nfunction colDefFactory(params) {\n  var pid = params.pid,\n    gridId = params.gridId,\n    cols = params.cols,\n    dataDesc = params.dataDesc,\n    config = params.config,\n    getVirtualGridMergeRowSpan = params.getVirtualGridMergeRowSpan,\n    getrightBorderMergeCols = params.getrightBorderMergeCols,\n    getViewportSize = params.getViewportSize,\n    gridOptions = params.gridOptions,\n    gridContrlParams = params.gridContrlParams,\n    localeId = params.localeId,\n    rowKey = params.rowKey,\n    seq = params.seq,\n    actions = params.actions,\n    defaultLocalId = params.defaultLocalId,\n    rowStyleRules = params.rowStyleRules,\n    encodeKeys = params.encodeKeys;\n  var columnDefs = {\n    isRoot: true,\n    children: [],\n    level: 0,\n    gNamePath: []\n  };\n  var maxLevel = 1; // 判断是否有分组列\n  var displayColCount = 0; // 显示的\n  if (gridContrlParams.showSelectionItem) {\n    (0, _columnProperty.createSelectionCol)(params, columnDefs);\n  }\n  var alignment = new _columnProperty.Alignment();\n  var initialCellParams = _objectSpread(_objectSpread({\n    // params\n    pid: pid,\n    gridId: gridId,\n    rk: rowKey,\n    seq: seq,\n    dataDesc: dataDesc,\n    config: config,\n    localeId: localeId,\n    defaultLocalId: defaultLocalId,\n    rowHeight: gridOptions.rowHeight,\n    gridContrlParams: gridContrlParams,\n    gridOptions: gridOptions,\n    alignment: alignment,\n    getViewportSize: getViewportSize,\n    fireUpdEvt: true,\n    // 即时触发\n    styles: _CellClass[\"default\"],\n    keyFieldId: params.keyFieldId\n  }, actions), {}, {\n    isCellLocked: (0, _columnProperty.isCellLocked)(actions, dataDesc),\n    getCellStyle: (0, _columnProperty.getCellStyle)(actions, dataDesc, config),\n    // TODO:后面要抽出来\n    getSrcFieldInfo: _gridModel.getSrcFieldInfo,\n    getVirtualGridMergeRowSpan: getVirtualGridMergeRowSpan,\n    getrightBorderMergeCols: getrightBorderMergeCols,\n    filterParentCtrledItems: _gridModel.filterParentCtrledItems\n  });\n  var headerTipsConfig = [];\n  var isServerModeTable = (0, _grid.isServerFilterModeTablePage)(pid) && (0, _GridUtils.isEntryWithoutTreeByGridContrlParams)(gridContrlParams);\n  var createColumns = function createColumns(childMetas, parentCol) {\n    var _iterator = _createForOfIteratorHelper(childMetas),\n      _step;\n    try {\n      var _loop = function _loop() {\n        var child = _step.value;\n        var colItem = {};\n        colItem.lockVisible = true;\n        colItem.cellEditorParams = Object.assign({}, initialCellParams);\n        colItem.cellRendererParams = Object.assign({}, initialCellParams);\n        colItem.headerName = child.header && child.dataIndex !== seq ? (0, _langUtil.getValueOfLanguage)((0, _immutable.fromJS)(child.header), localeId) : gridContrlParams.fseqName; // 使用TextNode节点，列头tips会在这里拼接一个载体 <==\n        colItem.cellRendererParams.groupHeaderName = colItem.headerName;\n        colItem.colId = colItem.field = child.dataIndex;\n        if (colItem.field === undefined) {\n          // 未有列id，，则生成一个GUID为列id，因为没有列id时，列位置移动后更新会丢失\n          colItem.field = (0, _componentutil.createNewId)();\n        }\n        colItem.suppressKeyboardEvent = _columnProperty.suppressKeyboardEvent;\n        colItem.level = parentCol.level + 1;\n        if (colItem.level > 1) colItem.suppressMovable = true;\n        colItem.gNamePath = parentCol.gNamePath.concat(parentCol.children ? parentCol.children.length : 0);\n        if (child.isFixed || child.dataIndex === seq || parentCol.pinned) {\n          // 冻结列 位置固定,脱离滚动区域 | 分组列固定，子全部固定才会固定\n          colItem.pinned = true;\n          colItem.lockPinned = true;\n        }\n        if (encodeKeys && encodeKeys.indexOf(child.dataIndex) > -1) {\n          colItem.encode = true;\n        }\n        if (parentCol.isContainerCol) {\n          colItem.isContainerColInnerField = true;\n          colItem.cellRendererParams = Object.assign(colItem.cellRendererParams, {\n            isContainerColInnerField: true\n          });\n        }\n        // 处理单元格和列头的样式\n        colItem = (0, _columnProperty.setCellStyleByRules)(colItem, child.cellStyleRules, {\n          pid: pid,\n          gridId: gridId,\n          colId: colItem.field,\n          rowKey: rowKey,\n          config: config,\n          gridContrlParams: gridContrlParams,\n          rowStyleRules: rowStyleRules,\n          getCellStyle: colItem.cellRendererParams.getCellStyle\n        });\n        alignment.setCustomAlign(colItem.field, child['text-align'], child);\n        // colItem.headerClass = alignment.getHeaderAlignClass('other', colItem.field, colItem.filter);\n        // 处理editor\n        colItem = (0, _columnProperty.dealWithColEditor)(colItem, child, {\n          config: config,\n          alignment: alignment,\n          gridContrlParams: gridContrlParams,\n          actions: actions,\n          pageId: pid,\n          parentCol: parentCol\n        });\n        // 列的可见性\n        colItem.hide = (0, _columnProperty.getColVisible)(child, colItem, parentCol, actions);\n        // 分组列\n        colItem = (0, _columnProperty.buildGroupCol)(colItem, parentCol, child, gridContrlParams, _CellClass[\"default\"], createColumns);\n        // 合并列\n        colItem = (0, _columnProperty.buildCombinedCol)(colItem, child, _CellClass[\"default\"], createColumns);\n        // 字段汇总（固定行）\n        colItem = (0, _rowModel.definePinnedRowCells)(child, colItem, gridContrlParams, child.dataIndex === seq ? initialCellParams : {});\n        // 分配渲染器和编辑器\n        colItem = (0, _columnProperty.distributeRendererAndEditor)(colItem, child, gridContrlParams);\n        // 处理实体\n        colItem = (0, _columnProperty.getColEntity)(colItem, child, gridContrlParams);\n        // 处理列表超链接\n        // if (gridContrlParams.isListView && child.ln) {\n        //     colItem.cellRendererFramework = HlinkRenderer;\n        // }\n        if (colItem.hide) {\n          colItem.suppressFiltersToolPanel = true;\n        } else {\n          // 只算可见列的最大层级\n          maxLevel = Math.max(maxLevel, colItem.level);\n        }\n        colItem.cellRendererParams = Object.assign(colItem.cellRendererParams, {\n          isHyperlink: child.ln,\n          hlinkPerfix: child.ln ? '<nolink>' : null\n        });\n        // 使用轻渲染器\n        var colType = colItem.cellRendererParams.type;\n        colItem.colType = colType;\n        var needMerge = !!gridContrlParams.mergeModel;\n        /* 用轻量级渲染器条件：\n          1.无行合并\n          2.非特殊列\n          2.无列样式\n          3.列表时且无编辑器；或非合并列且：文本或other类型，且整表不可编辑\n        */\n        // 不记得为何要控制无列样式了，先去掉 && (style == null || _.isEqual(style, {}))\n        // if (!needMerge) {\n        //   if (!colItem.cellRendererParams || !colItem.cellRendererParams.isCombined) {\n        //     if ((gridContrlParams.isListView && child.editor === undefined) || (!parentCol.isCombinedItem && (colType === Ctrls.KDText || colType === 'other') && gridContrlParams.gridEditable === false)) {\n        //       const originCellRenderFramework = colItem.cellRendererFramework\n        //       const originCellRender = colItem.cellRenderer\n        //       delete colItem.cellRendererFramework\n        //       colItem.cellRenderer = LightRender\n        //       colItem.cellRendererParams.oldRenderer = { t: 'light', e: colItem.cellRenderer, originCellRender, originCellRenderFramework }\n        //     }\n        //   }\n        // }\n\n        /**\n         * 1. 列表合并字段\n         * 3. 基础资料有预览图标\n         * 以上2种情况不能使用lightRender\n         */\n        var useLightRender = (0, _LightRender.canUseLightRender)({\n          colType: colType,\n          needMerge: needMerge,\n          editable: gridContrlParams.gridEditable && colItem.editable,\n          isCombined: colItem.cellRendererParams.isCombined,\n          isCombinedItem: parentCol.isCombinedItem,\n          hasCellTips: colItem.cellRendererParams.hasCellTips,\n          showEditButton: gridContrlParams.gridEditable && !colItem.editable && child.editor && child.editor.showEditButton || colType === _serverproperties.Ctrls.KDLTextArea && child.editor && child.editor[_serverproperties.EDITING_MODE] === 'summary',\n          // 文本按钮编辑模式 || 大文本摘要模式\n          showPrivateIcon: colItem.cellRendererParams.showPrivateIcon\n        });\n        if (useLightRender) {\n          colItem.cellRenderer = _CellRenderer.LightRender;\n          colItem.cellRendererParams.oldRenderer = {\n            t: 'light',\n            e: colItem.cellRendererFramework\n          };\n          colItem.cellRendererFramework = undefined;\n        }\n\n        // child.autoHeight\n        var autoHeightTypes = [_serverproperties.Ctrls.KDText, _serverproperties.Ctrls.KDTextArea, _serverproperties.Ctrls.KDLTextArea, _serverproperties.Ctrls.KDMulLangText, _serverproperties.Ctrls.KDBaseData, _serverproperties.Ctrls.KDMulBaseData, _serverproperties.Ctrls.KDOrg, _serverproperties.Ctrls.KDUser, _serverproperties.Ctrls.KDFlexField, _serverproperties.Ctrls.KDAddress, 'mulhlink', 'other'];\n        var autoHeightable = gridContrlParams.autoHeight && [seq, rowKey].indexOf(child.dataIndex) < 0 && autoHeightTypes.indexOf(colType) > -1;\n        if (autoHeightable) {\n          colItem.autoHeight = gridContrlParams.autoHeight;\n          // gridContrlParams.autoHeightCols.push(child.dataIndex)\n        }\n        if (gridContrlParams.isListView && child.fontColor) {\n          console.warn('不再支持fontColor的特殊处理');\n        }\n        // 处理列宽(多语言)\n        colItem = (0, _columnProperty.setColumnWidth)(colItem, child, {\n          colType: colType,\n          localeId: localeId,\n          defaultLocalId: defaultLocalId,\n          gridContrlParams: gridContrlParams,\n          actions: actions\n        });\n        colItem.suppressSizeToFit = (0, _columnProperty.isSuppressSizeToFit)(colItem, {\n          seq: seq,\n          rowKey: rowKey\n        });\n        // 处理过滤和排序\n        colItem = (0, _columnProperty.setColSortFilter)(colItem, child, colType, gridContrlParams, localeId, defaultLocalId, isServerModeTable);\n        // 处理特殊列\n        colItem = (0, _columnProperty.dealWithSpecialCols)(colItem, gridContrlParams, seq, _CellClass[\"default\"], dataDesc);\n        colItem = (0, _columnProperty.buildCustomColumn)(colItem, child, {\n          gridContrlParams: gridContrlParams,\n          actions: actions\n        });\n        // 列头tips\n        headerTipsConfig = (0, _columnProperty.setHeaderTipsConfig)(child, colItem, parentCol, seq, headerTipsConfig);\n        colItem.cellRendererParams.editable = colItem.editable;\n        colItem.cellRendererParams.autoHeight = colItem.autoHeight;\n        // 不可编辑列禁止粘贴\n        colItem.suppressPaste = colItem.suppressNavigable = !colItem.editable;\n        // 列头都修改成自定义表头，同时去掉XXS注入的转义，react会自动转\n        colItem = (0, _columnProperty.setColHeader)(colItem, gridContrlParams, isServerModeTable);\n        if (child[_serverproperties.SKIP_SHORT_CUT_FOCUS]) {\n          colItem.skipShortCutFocus = child[_serverproperties.SKIP_SHORT_CUT_FOCUS]; // 编辑跳过\n        }\n        // 分组列的隐藏和显示影响表头的高度，需要提前筛选不可见的分组列 放到这边来实现 ****\n        // 被隐藏的分组列直接剔除\n        if (colItem.isGroupColumn && colItem.hide) {\n          return 1; // continue\n        }\n        if (colItem.leaf) {\n          displayColCount++;\n        }\n        if (gridContrlParams.mergeColumns && gridContrlParams.mergeColumns.includes(colItem.colId)) {\n          gridContrlParams.autoHeight = false; // 融合列表暂不支持行高自适应\n          gridOptions.suppressRowTransform = true; // 禁止CSS Transform\n        }\n        // 注意如果起前面的定义中有修改cellClass 这里要兼容。（createSelectionCol不进行）\n        // 在后面有修改的 如(defineTreeIndexCol、defineDetailExpandCol、createSettingCol) 注意兼容\n        // 设置不同渲染器的时候也要在这之前，这里要区分react render 、 light render 以及自定义渲染，class不一样\n        var enhancedParams = {\n          colId: colItem.field,\n          pid: pid,\n          gridId: gridId,\n          seq: seq,\n          rowKey: rowKey,\n          colType: colType,\n          autoHeightable: autoHeightable,\n          gridContrlParams: gridContrlParams,\n          alignment: alignment,\n          editor: child.editor,\n          isCustom: colItem.isCustom,\n          // 自定义是特殊的轻渲染器\n          isHyperlink: colItem.cellRendererParams.isHyperlink,\n          entity: colItem.cellRendererParams.entity,\n          colLocked: colItem.cellRendererParams.colLocked,\n          // 是否列锁定，未定义编辑态这里也是不锁定但是不可编辑\n          isCellLocked: colItem.cellRendererParams.isCellLocked,\n          getMergeModel: actions.getMergeModel,\n          getRigntBorderCols: actions.getRigntBorderCols,\n          isPrivacy: colItem.cellRendererParams.isPrivacy,\n          realEditable: colItem.realEditable\n        };\n        colItem.cellClass = function (params) {\n          return (0, _columnProperty.getCellClass)('', params, enhancedParams);\n        };\n        colItem.cellClassRules = (0, _cellStyle.getCellClassRules)(enhancedParams);\n        parentCol.children.push(colItem);\n      };\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        if (_loop()) continue;\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  };\n  createColumns(cols, columnDefs);\n  gridContrlParams.maxLevel = maxLevel;\n  gridContrlParams.displayColCount = displayColCount;\n  gridContrlParams.headerTipsConfig = headerTipsConfig;\n\n  // 树形单据体\n  (0, _treeTable.defineTreeIndexCol)(columnDefs.children, rowKey, _CellClass[\"default\"], gridContrlParams, seq, cols, isServerModeTable);\n  // 行展开面板\n  (0, _rowModel.defineDetailExpandCol)(columnDefs.children, gridOptions, _CellClass[\"default\"], rowKey, seq);\n  // 分组表头\n  (0, _columnProperty.createSpecialHeader)(columnDefs, maxLevel, gridOptions, gridContrlParams, isServerModeTable);\n  // 设置列\n  if ((0, _GridUtils.hasGridSettingButton)(gridContrlParams.isListView, gridContrlParams.isSubGrid, gridContrlParams.isVirtualView, gridContrlParams.hasSettingBtn)) {\n    !gridOptions.masterDetail && (0, _columnProperty.createSettingCol)(params, columnDefs.children);\n  }\n  return columnDefs.children;\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/columnModel/colDefFactory.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/Alignment.js":
/*!***************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/Alignment.js ***!
  \***************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.some.js */ \"../../node_modules/core-js/modules/es.array.some.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\nvar _serverproperties = __webpack_require__(/*! ../../../../../../constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _CellClass = _interopRequireDefault(__webpack_require__(/*! ../../CellClass.less */ \"./src/component/web/DataGrid/AgDataGrid/CellClass.less\"));\nvar _gridConst = __webpack_require__(/*! @/constant/gridConst */ \"./src/constant/gridConst.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); } /**\n * 列的对齐方式管理器\n * by kechuang\n */\nvar Alignment = exports[\"default\"] = /*#__PURE__*/function () {\n  function Alignment() {\n    var _this$defaultAlign;\n    _classCallCheck(this, Alignment);\n    this.alignConstant = ['left', 'center', 'right'];\n    // 默认的对齐方式\n    this.defaultAlign = (_this$defaultAlign = {}, _defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_this$defaultAlign, _serverproperties.Ctrls.KDNumber, 'right'), _serverproperties.Ctrls.KDSelect, 'left'), _serverproperties.Ctrls.KDCheckbox, 'center'), _serverproperties.Ctrls.KDMulSelect, 'left'), _serverproperties.Ctrls.KDPic, 'center'), _serverproperties.Ctrls.KDDate, 'left'), _serverproperties.Ctrls.KDDateRange, 'left'), _serverproperties.Ctrls.KDDateTime, 'left'), _serverproperties.Ctrls.KDTime, 'left'), _serverproperties.Ctrls.KDTimeRange, 'left'), _defineProperty(_defineProperty(_defineProperty(_this$defaultAlign, _gridConst.GROUP_COLUMN_TYPE, 'center'), \"voucherAmount\", 'center'), \"other\", 'left'));\n    // 自定义的对齐方式\n    this.customAlign = {};\n  }\n  _createClass(Alignment, [{\n    key: \"judgeAlign\",\n    value: function judgeAlign(type, field, targetAlign) {\n      var align = this.getAlign(type, field);\n      return align === targetAlign;\n    }\n  }, {\n    key: \"getHeaderAlignClass\",\n    value: function getHeaderAlignClass(type, field, suppressFilter) {\n      var align = this.getAlign(type, field);\n      switch (align) {\n        case 'left':\n          return _CellClass[\"default\"].headerClass1;\n        case 'center':\n          if (suppressFilter) return _CellClass[\"default\"].headerClass2;\n          return _CellClass[\"default\"].headerClass2_filter + ' ' + _CellClass[\"default\"].headerClass2;\n        case 'right':\n          return _CellClass[\"default\"].headerClass3;\n        default:\n          return '';\n      }\n    }\n  }, {\n    key: \"getCellAlignClass\",\n    value: function getCellAlignClass(type, field, suppressFilter, isEntry) {\n      var align = this.getAlign(type, field);\n      switch (align) {\n        case 'left':\n          return _CellClass[\"default\"].flexstart_Render;\n        case 'center':\n          return _CellClass[\"default\"].flexscenter_Render;\n        case 'right':\n          return _CellClass[\"default\"].flexend_Render;\n        default:\n          return '';\n      }\n    }\n  }, {\n    key: \"getAlign\",\n    value: function getAlign(type, field) {\n      var align = this.defaultAlign[type];\n      if (!align) align = 'left';\n      if (field && this.customAlign[field]) align = this.customAlign[field];\n      return align;\n    }\n  }, {\n    key: \"getContainerAlign\",\n    value: function getContainerAlign(meta) {\n      var dr = meta.dr,\n        ai = meta.ai,\n        jc = meta.jc; // 容器列需要根据容器对齐去设置表头\n      var alignVal = dr === 'column' ? ai : jc;\n      var map = {\n        'flex-start': 'left',\n        'flex-end': 'right',\n        center: 'center'\n      };\n      return map[alignVal];\n    }\n  }, {\n    key: \"setCustomAlign\",\n    value: function setCustomAlign(field, align, meta) {\n      if (meta && meta.type === 'container') align = this.getContainerAlign(meta);\n      if (align == undefined) return;\n      // 后端会传过来比较奇怪的值，所以需要做兼容\n      var existent = this.alignConstant.some(function (v) {\n        return v === align;\n      });\n      if (existent) {\n        this.customAlign[field] = align;\n      }\n    }\n  }]);\n  return Alignment;\n}();\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/Alignment.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/cellChange.js":
/*!****************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/cellChange.js ***!
  \****************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = cellChange;\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/web.timers.js */ \"../../node_modules/core-js/modules/web.timers.js\");\nvar _ajaxState = __webpack_require__(/*! @/api/ajaxState */ \"./src/api/ajaxState.js\");\nvar proxy = _interopRequireWildcard(__webpack_require__(/*! @/proxy/formproxy */ \"./src/proxy/formproxy.js\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\n// TODO FILE TO BE DELETE\nvar baseDataList = ['org', 'basedata', 'mulbasedata', 'city'];\nfunction cellChange(param, params) {\n  var data = param.data,\n    colDef = param.colDef,\n    column = param.column;\n  if (colDef.viewPaste) {\n    if (baseDataList.indexOf(colDef.cellEditorParams.type) != -1) {\n      var model = {\n        pageId: params.pid,\n        entryKey: params.gridId,\n        key: column.colId\n      };\n      var requestKey = (0, _ajaxState.makeAjaxKey)(model.pageId, model.key, 'setItemByNumber');\n      proxy.disableDisposeAction(requestKey);\n      params.actions.invokeControlMethodOnly(model, 'setItemByNumber', [param.newValue, data['rk']]);\n      proxy.allowDisposeAction(requestKey);\n    } else {\n      var _model = {\n        pageId: params.pid,\n        key: params.gridId,\n        fireUpdEvt: true,\n        dataDesc: params.dataDesc\n      };\n      var cellData = [{\n        k: column.colId,\n        r: data['rk'],\n        v: param.newValue\n      }];\n      params.actions.onCellChange(_model, cellData);\n    }\n    setTimeout(function () {\n      // 做延时处理\n      if (colDef.viewPaste) {\n        delete colDef.viewPaste;\n      }\n    }, 0);\n  }\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/cellChange.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/cellComponentMapping.js":
/*!**************************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/cellComponentMapping.js ***!
  \**************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = distributeRendererAndEditor;\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\nvar CellEditor = _interopRequireWildcard(__webpack_require__(/*! ../../CellEditor */ \"./src/component/web/DataGrid/AgDataGrid/CellEditor/index.js\"));\nvar CellRenderer = _interopRequireWildcard(__webpack_require__(/*! ../../CellRenderer */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/index.js\"));\nvar _CombinedEditor = _interopRequireDefault(__webpack_require__(/*! ../../CellEditor/CombinedEditor */ \"./src/component/web/DataGrid/AgDataGrid/CellEditor/CombinedEditor.js\"));\nvar _serverproperties = __webpack_require__(/*! ../../../../../../constant/serverproperties */ \"./src/constant/serverproperties.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\n/**\n * 单元格编辑器和渲染器的映射关系\n * by kechuang\n */\n\n// 在这里统一分配Editor和Renderer\nfunction distributeRendererAndEditor(colItem, child, gridContrlParams) {\n  var editType = colItem.cellEditorParams.type;\n  var renderType = colItem.cellRendererParams.type;\n  var editor = child.editor;\n  // Editor\n  if (editType === 'combinedField') {\n    colItem.cellEditorFramework = _CombinedEditor[\"default\"];\n  } else {\n    var editorInfo = getCellEditorFramework(editType);\n    if (editorInfo.matched) {\n      // 应该只有匹配到的才给编辑器,减少无属性的添加\n      colItem.cellEditorFramework = editorInfo.editor;\n    } else {\n      colItem.editable = false; // 取不到编辑器时不可编辑。\n      colItem.cellEditorParams.type = 'other';\n    }\n  }\n\n  // Renderer\n  var rendererInfo = getCellRendererFramework(renderType);\n  if (rendererInfo.matched) {\n    colItem.cellRendererParams.type = renderType;\n  } else {\n    colItem.cellRendererParams.type = 'other';\n  }\n  colItem.cellRendererFramework = rendererInfo.renderer;\n  colItem = dealWithCheckBoxCol(colItem);\n  colItem.cellRendererParams = Object.assign(colItem.cellRendererParams, {\n    oldRenderer: {\n      t: 'common',\n      e: colItem.cellRendererFramework\n    }\n  });\n  colItem.cellRendererParams.isuf = child.isuf; // 是否格式化字符串\n  colItem.cellEditorParams.isuf = child.isuf; // 是否格式化字符串\n  child.isuf && gridContrlParams.isufColumns && gridContrlParams.isufColumns.add({\n    colId: child.dataIndex,\n    type: renderType\n  });\n  return colItem;\n}\nfunction getCellRendererFramework(colType) {\n  if (CellRenderer.cellRendererRelations[colType]) {\n    return {\n      matched: true,\n      renderer: CellRenderer[CellRenderer.cellRendererRelations[colType]]\n    };\n  }\n  return {\n    matched: false,\n    renderer: CellRenderer[CellRenderer.cellRendererRelations['other']]\n  };\n}\nfunction getCellEditorFramework(colType) {\n  if (CellEditor.cellEditorRelations[colType]) {\n    return {\n      matched: true,\n      editor: CellEditor[CellEditor.cellEditorRelations[colType]]\n    };\n  }\n  return {\n    matched: false,\n    editor: CellEditor[CellEditor.cellEditorRelations['other']]\n  };\n}\n\n/**\n * 列表和报表的复选框用其他的渲染器\n * @param {*} colItem\n */\nvar dealWithCheckBoxCol = function dealWithCheckBoxCol(colItem) {\n  var _colItem$cellRenderer = colItem.cellRendererParams,\n    gridContrlParams = _colItem$cellRenderer.gridContrlParams,\n    type = _colItem$cellRenderer.type;\n  if (type === _serverproperties.Ctrls.KDCheckbox && (gridContrlParams.isListView || gridContrlParams.isVirtualView)) {\n    colItem.cellRendererFramework = CellRenderer.ListCheckBoxRenderer;\n  }\n  return colItem;\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/cellComponentMapping.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/cellStyle.js":
/*!***************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/cellStyle.js ***!
  \***************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-properties.js */ \"../../node_modules/core-js/modules/es.object.define-properties.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptors.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.getCellClass = getCellClass;\nexports.getCellClassRules = void 0;\nexports.getCellStyle = getCellStyle;\nexports.setCellStyleByRules = setCellStyleByRules;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _exprEval = __webpack_require__(/*! expr-eval */ \"./node_modules/expr-eval/dist/bundle.js\");\nvar _classnames3 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _GridUtils = __webpack_require__(/*! ../../GridUtils */ \"./src/component/web/DataGrid/AgDataGrid/GridUtils.js\");\nvar _expressionAnalys = __webpack_require__(/*! ../../../../../../util/expressionAnalys */ \"./src/util/expressionAnalys.js\");\nvar _console = _interopRequireDefault(__webpack_require__(/*! ../../../../../../api/console */ \"./src/api/console.js\"));\nvar _serverproperties = __webpack_require__(/*! @/constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _CellClass = _interopRequireDefault(__webpack_require__(/*! ../../CellClass.less */ \"./src/component/web/DataGrid/AgDataGrid/CellClass.less\"));\nvar _util = __webpack_require__(/*! ../../CellRenderer/util */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/util.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); } /**\n * 单元格样式\n * by kechuang\n */\n// TODO:是否抽出去\n\n/**\n * 设置单元格的样式\n * @param {*} colItem\n * @param {*} cellStyleRules\n * @param {*} enhancedParams 额外组装的参数\n */\nfunction setCellStyleByRules(colItem, cellStyleRules, enhancedParams) {\n  var pid = enhancedParams.pid,\n    gridId = enhancedParams.gridId,\n    colId = enhancedParams.colId,\n    rowKey = enhancedParams.rowKey,\n    getCellStyle = enhancedParams.getCellStyle,\n    rowStyleRules = enhancedParams.rowStyleRules,\n    config = enhancedParams.config,\n    gridContrlParams = enhancedParams.gridContrlParams;\n  var rules = [];\n  if (cellStyleRules) {\n    cellStyleRules.map(function (r) {\n      var expression = (0, _expressionAnalys.analysClientAction)(r.cond);\n      var expr;\n      try {\n        expr = _exprEval.Parser.parse(expression);\n      } catch (error) {\n        _console[\"default\"].warn(error, expression);\n      }\n      var syl = (0, _GridUtils.getStyleInObj)(config, r.style);\n      rules.push(function (variables) {\n        var filter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n        var type = arguments.length > 2 ? arguments[2] : undefined;\n        if (expr.evaluate(variables) === filter) {\n          return syl;\n        }\n      });\n    });\n  }\n  var hasCellStyleRules = rules && rules.length > 0;\n  colItem.hasCellStyleRules = hasCellStyleRules; // 列有样式规则标识\n  // ag会判断前后两次列定义是否相同，如果相同还是使用旧的列定义\n  // cellStylesRules 条数相同时构造出来的rules ag会认为是相同的，使用的还是旧的规则，这里使用列定义的uid保证每次是最新的\n  colItem.flag = gridContrlParams.colDefsGUID;\n  //* *数据样式优先于单元格样式，单元格样式优先于列样式\n  colItem.cellStyle = function (params) {\n    var colDef = params.colDef,\n      column = params.column,\n      data = params.data,\n      node = params.node;\n    var _colDef$cellRendererP = colDef.cellRendererParams,\n      type = _colDef$cellRendererP.type,\n      isContainerCol = _colDef$cellRendererP.isContainerCol;\n    // 注意一些涉及单元格固定样式（比如边框）的colStyle不能传进来\n    // 容器列的样式设到内部的单元格的渲染容器中\n    // 设计器定义的列样式\n    var colStyle = isContainerCol ? {} : _objectSpread(_objectSpread({}, colDef.cellRendererParams.colStyle), {}, {\n      'border-radius': '0px'\n    });\n    // let cellstyle = { ...colDef.cellRendererParams.fixedColStyle }\n    var cellRulesStyle = {};\n    if (colDef.hasCellStyleRules) {\n      var _data = (0, _GridUtils.getRowDataWithOriginalCellValue)(data, gridContrlParams.isufColumns);\n      var _colId = column.colId;\n      rules.forEach(function (f) {\n        try {\n          if (_data[_colId] === undefined) return;\n          var rs = f(_data, true, type);\n          if (rs) {\n            Object.assign(cellRulesStyle, rs);\n          }\n        } catch (e) {\n          _console[\"default\"].warn('cell style rules error!');\n        }\n      });\n    }\n    var rowStyle = getRowStyle({\n      rowStyleRules: rowStyleRules,\n      data: data,\n      config: config,\n      gridContrlParams: gridContrlParams\n    });\n    var styleInData = data !== undefined && getCellStyle(pid, gridId, data[rowKey], colId) || {}; // 单元格的样式需要在eGridCell这一层来设置，和界面规则保持一致\n    // 样式优先级 dataStyle > cellRulesStyle > rowStyle > colStyle\n    var cellStyle = Object.assign(colStyle, rowStyle, cellRulesStyle, styleInData);\n    if (node.rowPinned) {\n      cellStyle.background = '#FFF8E1';\n      cellStyle.backgroundColor = '#FFF8E1';\n      // cellStyle.borderColor = 'transparent'\n    }\n    if (colDef.autoHeight && gridContrlParams.maxRowHeight) {\n      cellStyle.maxHeight = gridContrlParams.maxRowHeight;\n    }\n    return cellStyle; // 单元格样式\n  };\n  return colItem;\n}\nfunction getRowStyle(_ref) {\n  var rowStyleRules = _ref.rowStyleRules,\n    data = _ref.data,\n    config = _ref.config,\n    gridContrlParams = _ref.gridContrlParams;\n  var rowStyle = {};\n  if (data === undefined) return rowStyle;\n  if (Array.isArray(rowStyleRules) && rowStyleRules.length > 0) {\n    var _data = (0, _GridUtils.getRowDataWithOriginalCellValue)(data, gridContrlParams.isufColumns);\n    rowStyleRules.forEach(function (f) {\n      try {\n        var style = f(_data, true);\n        if (style) {\n          Object.assign(rowStyle, style);\n        }\n      } catch (e) {\n        _console[\"default\"].warn('row style rule error!');\n      }\n    });\n  }\n  var styleObj = data.s ? data.s.s : null;\n  // 解析样式对象\n  if (styleObj) {\n    Object.assign(rowStyle, (0, _GridUtils.getStyleInObj)(config || {}, styleObj));\n  }\n  return rowStyle;\n}\n\n/**\n * 获取数据包中的单元格样式\n * @param {*} actions\n * @param {*} dataDesc\n * @param {*} config\n */\nfunction getCellStyle(actions, dataDesc, config) {\n  return function (pageId, gridId, rk, colId) {\n    var syI = dataDesc && dataDesc.dataindex && dataDesc.dataindex.s;\n    if (syI >= 0) {\n      var sy = actions.getRowProperty(rk, syI, colId);\n      return (0, _GridUtils.getStyleInObj)(config, sy);\n    }\n    return {};\n  };\n}\n\n/**\n * 设置原生ag cell 的class\n * @param {*} originCellCls 列定义传入的class 注意传入的得是react 和 light都需要的\n * @param {*} params ag提供的参数\n * @param {*} enhancedParams 额外组装的参数 { pid, gridId, colId, seq, rowKey, colType, autoHeightable, gridContrlParams, alignment, isHyperlink, isCellLocked, entity, getMergeModel, getRigntBorderCols, editor, isPureTextCell }\n */\nfunction getCellClass(originCellCls, params, enhancedParams) {\n  var colId = enhancedParams.colId,\n    seq = enhancedParams.seq,\n    colType = enhancedParams.colType,\n    autoHeightable = enhancedParams.autoHeightable;\n  var cellCls = \"\".concat(originCellCls, \" \").concat(_CellClass[\"default\"].field);\n\n  // 互斥的类型\n  switch (true) {\n    case colType === _serverproperties.Ctrls.KDCheckbox:\n      cellCls = \"\".concat(cellCls, \" checkbox-col-cell\");\n      break;\n    case colId === seq:\n      cellCls = \"\".concat(cellCls, \" seq-col-cell\");\n      break;\n  }\n\n  // 非互斥的类型\n  if (autoHeightable) {\n    cellCls = \"\".concat(cellCls, \" \").concat(_CellClass[\"default\"]['cell-wrap-text']);\n  }\n  cellCls = params.colDef.cellRenderer ? getLightCellClass(cellCls, params, enhancedParams) : getReactCellClass(cellCls, params, enhancedParams);\n  return cellCls;\n}\n\n/**\n * 设置轻渲染器组件下 ag cell 的样式\n * @param {*} originCellCls 列定义传入的class\n * @param {*} params ag提供的参数\n * @param {*} enhancedParams 额外组装的参数 { pid, gridId, rowKey, isCellLocked, colLocked ,colId, seq, colType, gridContrlParams, autoHeightable, alignment, isHyperlink, isCustom }\n */\nfunction getLightCellClass(originCellCls, params, enhancedParams) {\n  var node = params.node,\n    colDef = params.colDef;\n  var rowPinned = node.rowPinned;\n  var filter = colDef.filter;\n  var colId = enhancedParams.colId,\n    seq = enhancedParams.seq,\n    colType = enhancedParams.colType,\n    gridContrlParams = enhancedParams.gridContrlParams,\n    alignment = enhancedParams.alignment,\n    isCustom = enhancedParams.isCustom;\n  var isListView = gridContrlParams.isListView,\n    isVirtualView = gridContrlParams.isVirtualView;\n  var cellCls;\n  if (isCustom) {\n    var data = params.data;\n    var pid = enhancedParams.pid,\n      gridId = enhancedParams.gridId,\n      rowKey = enhancedParams.rowKey,\n      isCellLocked = enhancedParams.isCellLocked,\n      colLocked = enhancedParams.colLocked,\n      isPrivacy = enhancedParams.isPrivacy,\n      realEditable = enhancedParams.realEditable;\n    var _dynamicColLocked = (0, _util.getDynamicColLocked)({\n      isCellLocked: isCellLocked,\n      pid: pid,\n      gridId: gridId,\n      rk: rowKey,\n      isPrivacy: isPrivacy,\n      realEditable: realEditable\n    }, data, colId);\n    var _lock = _dynamicColLocked || colLocked || rowPinned;\n    cellCls = (0, _classnames3[\"default\"])(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty({}, alignment.getCellAlignClass(colType, colId, !filter), true), _CellClass[\"default\"].alphaFactory_Render_Entry, !(isListView || isVirtualView)), _CellClass[\"default\"].view_Render, isListView), \"lightCell\", true), \"editHover\", !_lock), \"cellLocked\", _lock));\n  } else {\n    cellCls = (0, _classnames3[\"default\"])(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty({}, originCellCls, true), _CellClass[\"default\"].alphaFactory_Render, true), alignment.getCellAlignClass(colType, colId, !filter), true), _CellClass[\"default\"].view_Render, isListView), _CellClass[\"default\"].seq_Render, colId === seq), \"lightCell\", true));\n  }\n  return cellCls;\n}\n\n/**\n * 设置react组件下 ag cell 的样式\n * @param {*} originCellCls 列定义传入的class\n * @param {*} params ag提供的参数\n * @param {*} enhancedParams 额外组装的参数 { pid, gridId, colId, seq, rowKey, gridContrlParams, isCellLocked, entity, getMergeModel, getRigntBorderCols, editor }\n */\nfunction getReactCellClass(originCellCls, params, enhancedParams) {\n  var colId = enhancedParams.colId,\n    rowKey = enhancedParams.rowKey,\n    gridContrlParams = enhancedParams.gridContrlParams,\n    entity = enhancedParams.entity,\n    getMergeModel = enhancedParams.getMergeModel,\n    getRigntBorderCols = enhancedParams.getRigntBorderCols;\n  var cellCls = originCellCls;\n  cellCls = getMergeCellClass(cellCls, params, {\n    colId: colId,\n    rowKey: rowKey,\n    entity: entity,\n    getMergeModel: getMergeModel,\n    gridContrlParams: gridContrlParams\n  });\n  var rborder = getRigntBorderCols();\n  if (rborder && rborder.indexOf(colId) >= 0) {\n    cellCls = \"\".concat(cellCls, \" mergeCell_ClsEnd\"); // 处理凭证金额列及合并行末位列的分割线\n  }\n  return cellCls;\n}\n\n/**\n * 融合单元格class\n * @param {*} originCellCls\n * @param {*} params\n * @param {*} enhancedParams { colId, rowKey, entity, getMergeModel, gridContrlParams }\n */\nfunction getMergeCellClass(originCellCls, params, enhancedParams) {\n  var node = params.node,\n    data = params.data;\n  var rowPinned = node.rowPinned;\n  var colId = enhancedParams.colId,\n    rowKey = enhancedParams.rowKey,\n    entity = enhancedParams.entity,\n    getMergeModel = enhancedParams.getMergeModel,\n    gridContrlParams = enhancedParams.gridContrlParams;\n  var suppressMergeSelection = gridContrlParams.suppressMergeSelection,\n    isAlternatelyRowsStyle = gridContrlParams.isAlternatelyRowsStyle;\n  var cellCls = originCellCls;\n  var mergeM = getMergeModel(); // 放到gridContrlParams内会出现取的对象是旧的的情况。。have no idea\n  if (mergeM && mergeM.suppress === false && !rowPinned) {\n    // &&mergeM.entities.maxLevel>0) {\n    if (isAlternatelyRowsStyle && data && (0, _util.getIsOddRow)(mergeM, data[rowKey])) {\n      cellCls = \"\".concat(cellCls, \" oddMergeCell\");\n    }\n    // 采用当前实体来算，而不是主实体\n    var currentSpan = mergeM.getCurrentEntitySpan(data[rowKey], entity);\n    if (mergeM.groupBorderCol.indexOf(colId) >= 0) {\n      cellCls = \"\".concat(cellCls, \" mergeCell_ClsEnd\"); // 合并行每组间有间隔线\n    }\n    if (currentSpan > 1) {\n      cellCls = \"\".concat(cellCls, \" mergeCell\");\n    }\n  }\n  return cellCls;\n}\nvar getCellClassRules = exports.getCellClassRules = function getCellClassRules(enhancedParams) {\n  return Object.assign({}, getCellEditableClass(enhancedParams));\n};\nvar getCellEditableClass = function getCellEditableClass(enhancedParams) {\n  return {\n    editHover: function editHover(params) {\n      var node = params.node,\n        colDef = params.colDef,\n        data = params.data;\n      var rowPinned = node.rowPinned;\n      var editable = colDef.editable,\n        cellRenderer = colDef.cellRenderer;\n      var pid = enhancedParams.pid,\n        gridId = enhancedParams.gridId,\n        colId = enhancedParams.colId,\n        rowKey = enhancedParams.rowKey,\n        gridContrlParams = enhancedParams.gridContrlParams,\n        isCellLocked = enhancedParams.isCellLocked,\n        isPrivacy = enhancedParams.isPrivacy,\n        realEditable = enhancedParams.realEditable;\n      var gridEditable = gridContrlParams.gridEditable;\n      if (cellRenderer) return false;\n      var _dynamicColLocked = (0, _util.getDynamicColLocked)({\n        isCellLocked: isCellLocked,\n        pid: pid,\n        gridId: gridId,\n        rk: rowKey,\n        isPrivacy: isPrivacy,\n        realEditable: realEditable\n      }, data, colId);\n      var _runtimeEditable = (0, _util.getRunTimeEditable)(_dynamicColLocked, editable);\n      return _runtimeEditable && gridEditable && !rowPinned;\n    },\n    cellLocked: function cellLocked(params) {\n      var colDef = params.colDef,\n        data = params.data;\n      var editable = colDef.editable,\n        cellRenderer = colDef.cellRenderer;\n      var pid = enhancedParams.pid,\n        gridId = enhancedParams.gridId,\n        colId = enhancedParams.colId,\n        rowKey = enhancedParams.rowKey,\n        gridContrlParams = enhancedParams.gridContrlParams,\n        isCellLocked = enhancedParams.isCellLocked,\n        isPrivacy = enhancedParams.isPrivacy,\n        realEditable = enhancedParams.realEditable;\n      var gridEditable = gridContrlParams.gridEditable;\n      if (cellRenderer) return false;\n      var _dynamicColLocked = (0, _util.getDynamicColLocked)({\n        isCellLocked: isCellLocked,\n        pid: pid,\n        gridId: gridId,\n        rk: rowKey,\n        isPrivacy: isPrivacy,\n        realEditable: realEditable\n      }, data, colId);\n      var _runtimeEditable = (0, _util.getRunTimeEditable)(_dynamicColLocked, editable);\n      return !_runtimeEditable && gridEditable;\n    },\n    'show-edit-mark': function showEditMark(_ref2) {\n      var node = _ref2.node;\n      var rowPinned = node.rowPinned;\n      var gridContrlParams = enhancedParams.gridContrlParams;\n      var gridEditable = gridContrlParams.gridEditable,\n        showEditMark = gridContrlParams.showEditMark;\n      return showEditMark && gridEditable && !rowPinned;\n    },\n    'field-with-input': function fieldWithInput(params) {\n      var colDef = params.colDef,\n        data = params.data;\n      var editable = colDef.editable;\n      var pid = enhancedParams.pid,\n        gridId = enhancedParams.gridId,\n        colId = enhancedParams.colId,\n        rowKey = enhancedParams.rowKey,\n        gridContrlParams = enhancedParams.gridContrlParams,\n        isCellLocked = enhancedParams.isCellLocked,\n        isPrivacy = enhancedParams.isPrivacy,\n        colType = enhancedParams.colType,\n        realEditable = enhancedParams.realEditable;\n      var gridEditable = gridContrlParams.gridEditable;\n      if (!gridEditable) return false;\n      var _dynamicColLocked = (0, _util.getDynamicColLocked)({\n        isCellLocked: isCellLocked,\n        pid: pid,\n        gridId: gridId,\n        rk: rowKey,\n        isPrivacy: isPrivacy,\n        realEditable: realEditable\n      }, data, colId);\n      var _runtimeEditable = (0, _util.getRunTimeEditable)(_dynamicColLocked, editable);\n      return _runtimeEditable && isFieldWithInput(colType);\n    }\n  };\n};\nfunction isFieldWithInput(type) {\n  var fieldWithoutInput = [_serverproperties.Ctrls.KDSelect, _serverproperties.Ctrls.KDMulSelect];\n  return !fieldWithoutInput.includes(type);\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/cellStyle.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/colEntity.js":
/*!***************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/colEntity.js ***!
  \***************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = getColEntity;\n/**\n * 获取列的实体信息\n * 主要是在行融合的时候使用，需要修改实体信息\n * by kechuang\n */\n\nfunction getColEntity(colItem, child, gridContrlParams) {\n  var mergeModel = gridContrlParams.mergeModel,\n    suppressMergeSelection = gridContrlParams.suppressMergeSelection;\n  colItem.cellRendererParams.entity = child.entity;\n  colItem.cellEditorParams.entity = child.entity;\n  if (mergeModel) {\n    var entityRelationInfo = mergeModel.entityRelationInfo;\n    if (child.issp && suppressMergeSelection) {\n      colItem.cellRendererParams.entity = entityRelationInfo.leafEntityKey;\n      colItem.cellRendererParams.isSplit = true;\n    }\n  }\n  return colItem;\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/colEntity.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/colHeader.js":
/*!***************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/colHeader.js ***!
  \***************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = setColHeader;\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\nvar _BaseHeader = _interopRequireDefault(__webpack_require__(/*! ../../HeaderComponent/BaseHeader */ \"./src/component/web/DataGrid/AgDataGrid/HeaderComponent/BaseHeader.js\"));\nvar _BaseGroupHeader = _interopRequireDefault(__webpack_require__(/*! ../../HeaderComponent/BaseGroupHeader */ \"./src/component/web/DataGrid/AgDataGrid/HeaderComponent/BaseGroupHeader.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction setColHeader(item, gridContrlParams, isServerModeTable) {\n  item.headerComponentFramework = _BaseHeader[\"default\"];\n  item.headerComponentParams = Object.assign({}, item.cellRendererParams, {\n    enableMenu: item.filter,\n    enableSorting: item.sortable,\n    gridContrlParams: gridContrlParams,\n    isDefaultSort: gridContrlParams.isEntryEntity === true && !isServerModeTable || gridContrlParams.isSubGrid === true // 单据体和轻表格走前端排序\n  });\n  if (item.children) {\n    item.headerGroupComponentFramework = _BaseGroupHeader[\"default\"];\n    item.headerGroupComponentParams = Object.assign({}, item.cellRendererParams, {\n      enableMenu: false,\n      enableSorting: false,\n      gridContrlParams: gridContrlParams,\n      colId: item.colId,\n      isDefaultSort: gridContrlParams.isEntryEntity === true && !isServerModeTable || gridContrlParams.isSubGrid === true // 单据体和轻表格走前端排序\n    });\n  }\n  return item;\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/colHeader.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/colSortFilter.js":
/*!*******************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/colSortFilter.js ***!
  \*******************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = exports.colComparator = void 0;\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.array.sort.js */ \"../../node_modules/core-js/modules/es.array.sort.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\nvar _serverproperties = __webpack_require__(/*! ../../../../../../constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _FilterRenderer = __webpack_require__(/*! ../../FilterRenderer */ \"./src/component/web/DataGrid/AgDataGrid/FilterRenderer/index.js\");\nvar _CellRenderer = __webpack_require__(/*! ../../CellRenderer */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/index.js\");\nvar _big = _interopRequireDefault(__webpack_require__(/*! big.js */ \"../../node_modules/big.js/big.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); } /**\n * @Author: qinghui_wu\n * @Date: 2018-12-20 09:43:32\n * @Last Modified by: qinghui_wu\n * @Last Modified time: 2020-11-19 10:25:25\n */\n/**\n * 列定义自定义行排序方法\n * @param {*} valueA\n * @param {*} valueB\n * @param {*} nodeA\n * @param {*} nodeB\n * @param {*} isInverted 是否降序\n */\nvar colComparator = exports.colComparator = function colComparator(child) {\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var comparatorFun = function comparatorFun(valueA, valueB) {\n    var targetA = valueA != null ? valueA.toString().toLowerCase() : ''; // null或者undefiend当做空串处理\n    var targetB = valueB != null ? valueB.toString().toLowerCase() : '';\n    return targetA != null && targetA.localeCompare ? targetA.localeCompare(targetB) : targetA - targetB;\n  };\n  var cb = function cb(valueA, valueB, nodeA, nodeB, isInverted) {\n    // 默认比较方法\n    return comparatorFun(valueA, valueB);\n  };\n  if (!child || !child.editor) return cb;\n  var type = child.editor.type;\n  switch (type) {\n    case _serverproperties.Ctrls.KDNumber:\n    case _serverproperties.Ctrls.KDStepper:\n      cb = function cb(valueA, valueB, nodeA, nodeB, isInverted) {\n        // 数字比较\n        var invalidNumber = function invalidNumber(item) {\n          return item === undefined || item === null || item === '';\n        };\n        // 兼容空字符串的排序规则\n        if (invalidNumber(valueA)) {\n          return 1;\n        }\n        if (invalidNumber(valueB)) {\n          return -1;\n        }\n        // 兼容大数\n        return new _big[\"default\"](valueA).gt(new _big[\"default\"](valueB)) ? 1 : -1;\n      };\n      break;\n    case _serverproperties.Ctrls.KDMulLangText:\n    case _serverproperties.Ctrls.KDCity:\n    case _serverproperties.Ctrls.KDText:\n    case _serverproperties.Ctrls.KDTextArea:\n    case _serverproperties.Ctrls.KDLTextArea:\n    case _serverproperties.Ctrls.KDFlexField:\n    case _serverproperties.Ctrls.KDBaseData:\n    case _serverproperties.Ctrls.KDOrg:\n    case _serverproperties.Ctrls.KDUser:\n    case _serverproperties.Ctrls.KDMulBaseData:\n      cb = function cb(valueA, valueB, nodeA, nodeB, isInverted) {\n        // 其他类型比较\n        var targetA = (0, _CellRenderer.getCellDisplayValueByRender)(params, valueA, nodeA && nodeA.data);\n        var targetB = (0, _CellRenderer.getCellDisplayValueByRender)(params, valueB, nodeB && nodeB.data);\n        return comparatorFun(targetA, targetB);\n      };\n      break;\n  }\n  return cb;\n};\nfunction getFilterRender(colType, gridContrlParams, isServerModeTable) {\n  var filterRender = {};\n  var isListView = gridContrlParams.isListView,\n    isVirtualView = gridContrlParams.isVirtualView,\n    isSubGrid = gridContrlParams.isSubGrid,\n    isEntryEntity = gridContrlParams.isEntryEntity;\n  var isServerFilter = isListView && !isSubGrid || isVirtualView || isEntryEntity && isServerModeTable;\n  if (isServerFilter) {\n    // 列表和报表后端过滤\n    filterRender = _defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty({}, _serverproperties.Ctrls.KDNumber, _FilterRenderer.ListNumberFilterRenderer), _serverproperties.Ctrls.KDStepper, _FilterRenderer.ListNumberFilterRenderer), _serverproperties.Ctrls.KDSelect, _FilterRenderer.ListSelectFilterRenderer), _serverproperties.Ctrls.KDMulSelect, _FilterRenderer.ListSelectFilterRenderer), _serverproperties.Ctrls.KDCheckbox, _FilterRenderer.ListSelectFilterRenderer), _serverproperties.Ctrls.KDDateTime, _FilterRenderer.ListDateFilterRenderer), _serverproperties.Ctrls.KDDate, _FilterRenderer.ListDateFilterRenderer), \"ohter\", _FilterRenderer.ListTextFilterRenderer);\n  } else {\n    filterRender = _defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty({}, _serverproperties.Ctrls.KDNumber, _FilterRenderer.EntryNumberFilterRenderer), _serverproperties.Ctrls.KDStepper, _FilterRenderer.EntryNumberFilterRenderer), _serverproperties.Ctrls.KDDate, _FilterRenderer.EntryDateFilterRenderer), _serverproperties.Ctrls.KDDateTime, _FilterRenderer.EntryDateFilterRenderer), _serverproperties.Ctrls.KDSelect, _FilterRenderer.EntrySelectFilterRenderer), _serverproperties.Ctrls.KDMulSelect, _FilterRenderer.EntrySelectFilterRenderer), _serverproperties.Ctrls.KDCheckbox, _FilterRenderer.EntrySelectFilterRenderer), \"ohter\", _FilterRenderer.EntryTextFilterRenderer);\n  }\n  return filterRender[colType] || filterRender.ohter;\n}\nvar isSupportFilter = function isSupportFilter(child, colType) {\n  if (colType === _serverproperties.Ctrls.KDAttachmentField) {\n    // 附件类型不支持过滤\n    return false;\n  }\n  return child.filter !== false;\n};\n\n/**\n * 合并列表字段需要获取真实的过滤和排序列id\n * @param {*} isCombined\n * @param {*} combinedItems\n * @param {*} sortAndFilterField\n */\nvar getFilterAndSortCol = function getFilterAndSortCol(isCombined, combinedItems, sortAndFilterField) {\n  var colDef;\n  if (isCombined && sortAndFilterField) {\n    var colDefs = combinedItems.filter(function (item) {\n      return item.colId === sortAndFilterField;\n    });\n    if (colDefs[0]) {\n      colDef = colDefs[0];\n    }\n  }\n  return colDef;\n};\nvar getFilterAndSortColType = function getFilterAndSortColType(colItem, colType) {\n  var _colType = colType;\n  if (_colType === 'combinedField') {\n    var cellRendererParams = colItem.cellRendererParams;\n    var isCombined = cellRendererParams.isCombined,\n      combinedItems = cellRendererParams.combinedItems,\n      sortAndFilterField = cellRendererParams.sortAndFilterField;\n    var _colDef = getFilterAndSortCol(isCombined, combinedItems, sortAndFilterField);\n    _colType = _colDef ? _colDef.cellRendererParams.type : _colType;\n  }\n  return _colType;\n};\nvar setColSortFilter = function setColSortFilter(colItem, child, colType, gridContrlParams, localeId, defaultLocalId, isServerModeTable) {\n  var _colType = getFilterAndSortColType(colItem, colType);\n  var suppressColTypes = [_serverproperties.Ctrls.KDPic, 'operate', 'container'];\n  var isSubGrid = gridContrlParams.isSubGrid,\n    isEntryEntity = gridContrlParams.isEntryEntity;\n  if (suppressColTypes.indexOf(colType) > -1) {\n    // 不处理排序和过滤的\n    colItem.sortable = false;\n    colItem.filter = false;\n    colItem.menuTabs = [];\n    return colItem;\n  }\n  colItem.sortable = child.sort !== false;\n  colItem.filter = isSupportFilter(child, _colType);\n  // if (((isVirtualView !== true && isListView !== true) || isSubGrid === true) && colType !== Ctrls.KDNumber) { // 单据体和子表格情况下，非数字类型不允许排序\n  //   colItem.suppressSorting = true\n  // }\n  if (colItem.sortable === true) {\n    // 不禁止排序的\n    if (isEntryEntity && !isServerModeTable || isSubGrid === true) {\n      // 非服务端过滤单据体和子表格情况下才会前端排序\n      colItem.comparator = colComparator(child, Object.assign({\n        localeId: localeId,\n        defaultLocalId: defaultLocalId,\n        colDef: colItem\n      }, colItem.cellRendererParams));\n    }\n  }\n  colItem.menuTabs = !colItem.filter ? [] : ['filterMenuTab']; // 仅开启列过滤菜单\n  colItem.filterItems = child.filterItems;\n  colItem.comboItems = child.comboItems;\n  colItem.otherFilterItems = child.otherFilterItems;\n  // 列过滤器\n  colItem.filterFramework = getFilterRender(_colType, gridContrlParams, isServerModeTable);\n  colItem.filterParams = Object.assign({\n    localeId: localeId,\n    defaultLocalId: defaultLocalId,\n    getFilterAndSortCol: getFilterAndSortCol\n  }, colItem.cellRendererParams, colItem.editor);\n  return colItem;\n};\nvar _default = exports[\"default\"] = setColSortFilter;\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/colSortFilter.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/colWidth.js":
/*!**************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/colWidth.js ***!
  \**************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.defaultColWidth = exports.SEQ_COL_DEFAULT_WIDTH = exports.SELECT_COL_WIDTH = void 0;\nexports.isSuppressAutoSize = isSuppressAutoSize;\nexports.isSuppressSizeToFit = isSuppressSizeToFit;\nexports.setColumnWidth = setColumnWidth;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.parse-float.js */ \"../../node_modules/core-js/modules/es.parse-float.js\");\n__webpack_require__(/*! core-js/modules/es.parse-int.js */ \"../../node_modules/core-js/modules/es.parse-int.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\nvar _serverproperties = __webpack_require__(/*! ../../../../../../constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _GridUtils = __webpack_require__(/*! ../../GridUtils */ \"./src/component/web/DataGrid/AgDataGrid/GridUtils.js\");\nvar _gridConst = __webpack_require__(/*! @/constant/gridConst */ \"./src/constant/gridConst.js\");\nvar _defaultColWidth;\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); } /**\n * 处理列定义中的列宽\n * 百分比列宽的列定义的时候不处理，需要等表格渲染之后才能处理\n * by kechuang\n */\n/*\n序号列列宽=44px\n状态列列宽=100px\n短日期列宽度=110px\n长日期列宽度=180px\n中文人名列宽度=80px\n容器列默认宽度=160px\n*/\nvar defaultColWidth = exports.defaultColWidth = (_defaultColWidth = {}, _defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defaultColWidth, _serverproperties.Ctrls.KDBaseData, 100), _serverproperties.Ctrls.KDMulBaseData, 100), _serverproperties.Ctrls.KDUser, 80), _serverproperties.Ctrls.KDSelect, 100), _serverproperties.Ctrls.KDMulSelect, 200), _serverproperties.Ctrls.KDCheckbox, 100), _serverproperties.Ctrls.KDText, 200), _serverproperties.Ctrls.KDDate, 112), _serverproperties.Ctrls.KDDateTime, 160), _serverproperties.Ctrls.KDDateRange, 304), _defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defaultColWidth, _serverproperties.Ctrls.KDTime, 112), _serverproperties.Ctrls.KDTimeRange, 160), _serverproperties.Ctrls.KDNumber, 148), _serverproperties.Ctrls.KDTextArea, 200), _serverproperties.Ctrls.KDLTextArea, 200), _serverproperties.Ctrls.KDMulLangText, 200), _serverproperties.Ctrls.KDPic, 100), _serverproperties.Ctrls.KDTelephone, 160), _serverproperties.Ctrls.KDAdminDivision, 240), \"container\", 160), _defineProperty(_defineProperty(_defineProperty(_defaultColWidth, \"other\", 100), \"attachmentfield\", 60), \"checkboxLabelType\", 160));\n\n// 紧凑和宽松两种宽度\nvar SELECT_COL_WIDTH = exports.SELECT_COL_WIDTH = {\n  scatter: 56,\n  terse: 32\n};\nvar SEQ_COL_DEFAULT_WIDTH = exports.SEQ_COL_DEFAULT_WIDTH = {\n  scatter: 50,\n  terse: 31 // 序号列两位数自适应后宽度是31\n};\nvar COL_MIN_WIDTH = 14;\n\n// 获取用户设置的宽度，保存入columns中，后续参与宽度计算\nfunction getWidthFromUser(child, localeId, defaultLocalId, colType, gridContrlParams, actions, colItem, gridState) {\n  var widthSize = child.w ? child.w[localeId] || child.w[defaultLocalId] : 0;\n  return child.width || getWidth(widthSize, colType, gridContrlParams, actions, colItem, gridState);\n}\n/**\n * 【列宽功能】\n * 1. 设置列宽和最大列宽，列宽为显示宽度，最大列宽仅作用于列宽自适应\n * 2. 列宽自适应，最大宽度为: 用户拖动后改变的列宽>用户设置的列宽> 248px ,默认的列宽不算做最大列宽\n * 3. 行高自适应下，列宽取默认\n */\nfunction setColumnWidth(colItem, child, _ref) {\n  var _colItem$cellRenderer, _colItem$cellRenderer2, _colItem$cellRenderer3;\n  var colType = _ref.colType,\n    localeId = _ref.localeId,\n    defaultLocalId = _ref.defaultLocalId,\n    gridContrlParams = _ref.gridContrlParams,\n    actions = _ref.actions;\n  var gridState = actions.getGridState && actions.getGridState();\n  var colWidth;\n\n  // 1.行高自适应 2.单据体可编辑列 3.预设列宽模式 取拖动的列宽\n  // 1.列表和报表 2. 单据体不可编辑列 取自适应列宽\n  if (gridContrlParams.autoHeight || gridContrlParams.columnResizeMode === _gridConst.GRID_COLUMN_RESIZE_MODE.preset || gridContrlParams.isEntryEntity && (!((_colItem$cellRenderer = colItem.cellRendererParams) !== null && _colItem$cellRenderer !== void 0 && _colItem$cellRenderer.colLocked) || (_colItem$cellRenderer2 = colItem.cellRendererParams) !== null && _colItem$cellRenderer2 !== void 0 && _colItem$cellRenderer2.showEditButton)) {\n    colWidth = actions.getColWidthFromSettings(colItem.field, _gridConst.SETTING_COLUMN_WIDTH);\n  } else if (gridContrlParams.isListView || gridContrlParams.isVirtualView || gridContrlParams.isEntryEntity && (_colItem$cellRenderer3 = colItem.cellRendererParams) !== null && _colItem$cellRenderer3 !== void 0 && _colItem$cellRenderer3.colLocked) {\n    // 自适应的列表和报表取自适应的列宽\n    colWidth = actions.getColWidthFromSettings(colItem.field, _gridConst.SETTING_AUTOSIZE_COLUMN_WIDTH);\n  }\n  var metaColWidth = getWidthFromUser(child, localeId, defaultLocalId, colType, gridContrlParams, actions, colItem, gridState);\n  colItem.metaColWidth = metaColWidth;\n  if (colWidth == null) {\n    colWidth = metaColWidth;\n  }\n  if (colWidth != null && !isNaN(colWidth) && colWidth !== 0) {\n    // 取设置的列宽： 用户拖动后改变的列宽，用户设置的列宽\n    gridContrlParams.widthSettedCols.add(colItem.field);\n  } else {\n    // 取不到设置的列宽则取预设的列宽\n    colWidth = getPresetColWidth(colWidth, colType, colItem, {\n      gridState: gridState,\n      gridContrlParams: gridContrlParams\n    });\n  }\n  if (colWidth != null) colItem.width = colWidth;\n  colItem.minWidth = COL_MIN_WIDTH;\n  return colItem;\n}\nfunction getWidth(widthSize, type, gridContrlParams, actions, colItem, gridState) {\n  var width = widthSize;\n  var unit = 'px';\n  var percentCols = gridContrlParams.percentCols;\n  if (containUnit(widthSize, unit)) {\n    width = widthSize.substring(0, widthSize.length - unit.length);\n  }\n  if (containPercent(widthSize)) {\n    var parentWidth = getGridEffectiveWidth(actions.getParentGridWidth(), gridContrlParams, gridState.rk);\n    if (parentWidth > 0 && !isNaN(parentWidth)) {\n      var percent = parseFloat(widthSize) / 100;\n      width = Math.floor(parentWidth * percent);\n    } else {\n      percentCols.push({\n        field: colItem.field,\n        width: widthSize\n      }); // 提取出百分比列宽的列\n      // width = widthSize // 百分比将按初始时宽度算一次，在colWidthCalculator里处理\n      width = getDefaultWidth(type, colItem);\n    }\n  }\n  return parseInt(width);\n}\nvar containPercent = function containPercent(widthSize) {\n  return widthSize && typeof widthSize === 'string' && widthSize.includes('%');\n};\nvar containUnit = function containUnit(widthSize, unit) {\n  return widthSize && typeof widthSize === 'string' && widthSize.includes(unit);\n};\nfunction getDefaultWidth(type, colItem) {\n  if (type === _serverproperties.Ctrls.KDCheckbox && colItem.cellRendererParams.editor && colItem.cellRendererParams.editor.s === 1) {\n    return defaultColWidth.checkboxLabelType;\n  }\n  return defaultColWidth[type] || 200;\n}\nfunction getSeqColumnWidth(gridContrlParams) {\n  var hasOperateIcon = gridContrlParams.hasOperateIcon,\n    treeTable = gridContrlParams.treeTable,\n    gridEditable = gridContrlParams.gridEditable;\n  return hasOperateIcon && !treeTable && !gridEditable ? SEQ_COL_DEFAULT_WIDTH.scatter : SEQ_COL_DEFAULT_WIDTH.terse; // 序号列特殊处理,默认44，有悬浮图标50\n}\nfunction getPresetColWidth(width, type, colItem, _ref2) {\n  var gridState = _ref2.gridState,\n    gridContrlParams = _ref2.gridContrlParams;\n  if (isNaN(width) || width === 0) {\n    if (gridState && colItem.field === gridState.seq) {\n      width = getSeqColumnWidth(gridContrlParams);\n    } else {\n      width = getDefaultWidth(type, colItem); // defaultColWidth[type] || 200\n    }\n  }\n  return width;\n}\n\n/**\n * 获取表格整体有效列宽。百分比列宽*有效列宽=真实列宽\n * @param {*} gridContainerWidth\n * @param {*} gridContrlParams\n * @param {*} rk\n */\nvar getGridEffectiveWidth = function getGridEffectiveWidth(gridContainerWidth, gridContrlParams, rk) {\n  if (gridContrlParams.isSubGrid) {\n    return gridContainerWidth - 20 - _GridUtils.SCROLLBARWIDTH; // 表格父容器已经在加载好了，可以直接获取宽度计算百分比\n  }\n  var width = Math.floor(gridContainerWidth - 2 - _GridUtils.SCROLLBARWIDTH); // 实际内容宽 - root border 1px， scroll width 8;\n  var showSelectionItem = gridContrlParams.showSelectionItem,\n    showSeq = gridContrlParams.showSeq,\n    treeIndexCol = gridContrlParams.treeIndexCol,\n    isListView = gridContrlParams.isListView,\n    isVirtualView = gridContrlParams.isVirtualView,\n    isSubGrid = gridContrlParams.isSubGrid,\n    hasSettingBtn = gridContrlParams.hasSettingBtn;\n  var selectColwidth = SELECT_COL_WIDTH.terse;\n  if (showSelectionItem) {\n    // 选择列\n    width -= selectColwidth;\n  }\n  if (showSeq && showSeq.v) {\n    // 序号列\n    width -= showSeq.w;\n  }\n  if ((0, _GridUtils.hasGridSettingButton)(isListView, isSubGrid, isVirtualView, hasSettingBtn)) {\n    // 设置列\n    width -= 30;\n  }\n  if (treeIndexCol && treeIndexCol === rk) {\n    // 树形展开列是rk时，需要除去\n    width -= 50; // 展开列的列宽默认是50\n  }\n  return width;\n};\n\n/**\n * 是否阻止列宽自适应\n * @param {String} field id\n */\nfunction isSuppressAutoSize(field) {\n  var suppressIds = [_GridUtils.SELECTIONCOLID, _gridConst.SETTING_COL, _gridConst.DETAIL_EXPAND_COL_ID];\n  if (suppressIds.indexOf(field) > -1) {\n    // 1. 选择列、设置列不自适应列宽\n    return true;\n  }\n  return false;\n}\n\n/**\n * 是否需要扩展列宽\n * @param {*} colItem\n * @param {*} gridContrlParams\n * @param {*} gridState\n */\nfunction isSuppressSizeToFit(colItem, _ref3) {\n  var seq = _ref3.seq,\n    rowKey = _ref3.rowKey;\n  // const noNeedType = [Ctrls.KDDateTime, Ctrls.KDDate, Ctrls.KDDateRange, Ctrls.KDSelect, Ctrls.KDUser]\n  var noNeedIds = [_GridUtils.SELECTIONCOLID, _gridConst.SETTING_COL, _gridConst.DETAIL_EXPAND_COL_ID, seq, rowKey];\n  var field = colItem.field;\n  if (noNeedIds.indexOf(field) > -1) {\n    // 1.特殊列不扩展\n    return true;\n  }\n  // const type = cellRendererParams.type\n  // if (noNeedType.includes(type)) { // 2.特殊类型不扩展\n  //   return true\n  // }\n  // if (colWidth != null && !isNaN(colWidth)) { // 3. 设置了宽度的不扩展\n  //   return true\n  // }\n  return false;\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/colWidth.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/columnEditor.js":
/*!******************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/columnEditor.js ***!
  \******************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-properties.js */ \"../../node_modules/core-js/modules/es.object.define-properties.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptors.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = dealWithColEditor;\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\nvar _serverproperties = __webpack_require__(/*! ../../../../../../constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _columnStatus = __webpack_require__(/*! ./columnStatus */ \"./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/columnStatus.js\");\nvar _GridUtils = __webpack_require__(/*! ../../GridUtils */ \"./src/component/web/DataGrid/AgDataGrid/GridUtils.js\");\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _commonUtils = _interopRequireDefault(__webpack_require__(/*! @/component/common/commonUtils.js */ \"./src/component/common/commonUtils.js\"));\nvar _gridConst = __webpack_require__(/*! @/constant/gridConst */ \"./src/constant/gridConst.js\");\nvar _editor2 = __webpack_require__(/*! @/component/web/DataGrid/TableHelper/column/editor */ \"./src/component/web/DataGrid/TableHelper/column/editor.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); } /**\n * 处理列的元数据中editor的部分\n * 所有的编辑器控制属性、样式属性等都在editor内描述\n * editor会决定单元格的渲染器和编辑器\n * by kechuang\n */\n// 列的默认样式\n// const commonColStyle={\n//     'fontSize':'12px',\n//     'color':'inherit',\n//     'backgroundColor':'inherit',\n//     'borderRadius':'0px'\n// }\n\nfunction dealWithColEditor(colItem, child, _ref) {\n  var config = _ref.config,\n    alignment = _ref.alignment,\n    gridContrlParams = _ref.gridContrlParams,\n    actions = _ref.actions,\n    pageId = _ref.pageId,\n    parentCol = _ref.parentCol;\n  // 列级样式\n  var colStyle = getColStyle(colItem, child, actions, {\n    config: config,\n    gridContrlParams: gridContrlParams\n  });\n  var _editor = (0, _editor2.getEditor)(child.editor, {\n    pageId: pageId\n  });\n  var editor = _editor ? _editor.toJS() : _editor;\n  if (editor) {\n    var _editor$privacy, _editor$privacy2, _parentCol$cellEditor;\n    // 列锁定\n    var colLocked = false;\n    if (child.l != undefined && actions.getLockedByNum(child.l)) colLocked = true;\n    // 必录项\n    var mustInput = false;\n    var originHeaderName;\n    if (editor.mi) {\n      originHeaderName = colItem.originHeaderName || colItem.headerName;\n      colItem.originHeaderName = originHeaderName;\n      mustInput = true;\n      colItem.headerName = '<span className=\"require-icon\" style=\"color:red;padding-right:1px\">*</span>' + colItem.headerName;\n    }\n    // 单元格按钮\n    var showEditButton = false;\n    showEditButton = editor.showEditButton && !colLocked && gridContrlParams.gridEditable;\n    var editButtonFontClass = editor.fontClass;\n    var isPrivacy = (_editor$privacy = editor.privacy) === null || _editor$privacy === void 0 ? void 0 : _editor$privacy.isprivacy;\n    var showPrivateIcon = isPrivacy && ((_editor$privacy2 = editor.privacy) === null || _editor$privacy2 === void 0 ? void 0 : _editor$privacy2.canshowdetail);\n    var isEntryEntityFlexFieldChild = gridContrlParams.isEntryEntity && (parentCol === null || parentCol === void 0 || (_parentCol$cellEditor = parentCol.cellEditorParams) === null || _parentCol$cellEditor === void 0 ? void 0 : _parentCol$cellEditor.type) === _serverproperties.Ctrls.KDFlexField;\n    if (isEntryEntityFlexFieldChild) {\n      colItem.valueGetter = _GridUtils.cellValueGetter;\n      colItem.equals = function (val1, val2) {\n        return val1 === val2;\n      };\n    }\n    // 单据体弹性域拆分出来的列都设置可编辑\n    colItem.editable = gridContrlParams.gridEditable && isEntryEntityFlexFieldChild || (0, _columnStatus.getColEditable)(editor, gridContrlParams, colLocked);\n    // 列定义真实的可编辑性\n    colItem.realEditable = (0, _columnStatus.getColEditable)(editor, gridContrlParams, colLocked);\n    colItem.suppressAutoSize = gridContrlParams.gridEditable && isEntryEntityFlexFieldChild;\n    colItem.cellRendererParams = Object.assign(colItem.cellRendererParams, {\n      editor: editor,\n      mustInput: mustInput,\n      showEditButton: showEditButton,\n      editable: colItem.editable,\n      realEditable: colItem.realEditable,\n      colLocked: !colItem.editable,\n      originHeaderName: originHeaderName,\n      editButtonFontClass: editButtonFontClass,\n      isPrivacy: isPrivacy,\n      showPrivateIcon: showPrivateIcon\n    }); // colLock表示列的锁定性，编辑editable和列锁定不一定是相反关系\n    colItem.cellEditorParams = Object.assign(colItem.cellEditorParams, {\n      editor: editor,\n      mustInput: mustInput,\n      showEditButton: showEditButton,\n      editButtonFontClass: editButtonFontClass,\n      isPrivacy: isPrivacy,\n      showPrivateIcon: showPrivateIcon\n    });\n\n    // colItem.cellRendererParams.fixedColStyle = { ...commonColStyle,...colStyle }\n    if (editor.type) {\n      colItem.cellEditorParams.type = editor.type;\n      colItem.cellRendererParams.type = editor.type;\n      // 基础资料字段单元格tips\n      if ((0, _GridUtils.isSingleSelectBaseData)(editor.type) && editor[_serverproperties.F7_VIEW_DETAIL_BUTTON] !== false) {\n        colItem.cellRendererParams.hasCellTips = true;\n      }\n    }\n    // 列头全选复选框\n    if (child.headerCheckbox && !colLocked && gridContrlParams.gridEditable) {\n      colItem.headerCheckbox = true;\n    }\n  } else {\n    // 单据体序号列不存在editor，默认设置为锁定\n    // todo: 后续可考虑加上选择列等默认锁定的列\n    // 没有editor的认为是锁定，这里先都将colLocked设置为true，但是可能有一些特殊列没考虑到\n    // 目前发现的有序号列，报表，表格容器列\n    colItem.cellRendererParams.colLocked = true;\n  }\n  // 凭证金额列需要修改一下渲染器的类型，此处插入一个类型变化逻辑\n  if (child.isVoucherEditor) {\n    gridContrlParams.hasVocherAmtCol = true;\n    colItem.isVoucherEditor = true;\n    colItem.cellRendererParams.type = 'voucherAmount';\n  }\n  // 容器列字段需要特殊处理。1.渲染器类型 2.样式（放到getColStyle） 3.布局信息\n  // 容器列和内部字段需要特殊处理。1.样式（放到getColStyle） 2.布局信息\n  if (child.type === 'container') {\n    colItem.cellRendererParams.type = 'container';\n  }\n  if (child.type === 'container' || colItem.isContainerColInnerField) {\n    setContainerItemProps(child, colItem, child.type === 'container'); // 容器列及内部字段布局信息\n  }\n  var renderType = colItem.cellRendererParams.type;\n  if (renderType === _serverproperties.Ctrls.KDTextArea) {\n    // colItem.autoHeight = true // 多行文本列行高需要自适应\n    // if (!colItem.hide) gridContrlParams.fireRowHeightCols.push(colItem.field)  多行文本的支持自动增高的功能先屏蔽\n  }\n  colItem = setColEquals(colItem, renderType, editor);\n  colItem.headerClass = alignment.getHeaderAlignClass(child.children && !renderType ? _gridConst.GROUP_COLUMN_TYPE : renderType,\n  // 分组列没有type,这里传入\n  colItem.field, !colItem.filter);\n  colItem.cellRendererParams.colStyle = colStyle;\n  colItem.cellEditorParams.colStyle = colStyle;\n  return colItem;\n}\nfunction getColStyle(colItem, child, actions, _ref2) {\n  var config = _ref2.config,\n    gridContrlParams = _ref2.gridContrlParams;\n  var colStyle;\n  var editor = child.editor;\n  // 单据体容器列和内部布局字段 样式\n  if (child.type === 'container' || colItem.isContainerColInnerField) {\n    colStyle = setContainerStyle(config, child, actions);\n    // 单据体、报表取元数据里的列样式，目前只有前背景色和字体三种，之所以取出来是因为直接传会取到宽度\n  } else if (gridContrlParams.isListView !== true) {\n    var _editor = editor || {};\n    colStyle = (0, _GridUtils.getStyleInObj)(config, _objectSpread(_defineProperty(_defineProperty(_defineProperty(_defineProperty({}, _serverproperties.BACKGROUND_COLOR, child[_serverproperties.BACKGROUND_COLOR]), _serverproperties.COLOR, child[_serverproperties.COLOR]), _serverproperties.FONT_SIZE, child[_serverproperties.FONT_SIZE]), _serverproperties.TEXT_ALIGN, child[_serverproperties.TEXT_ALIGN]), _editor));\n  } else if (gridContrlParams.isListView === true && editor) {\n    // 仅有列表的存在editor里面，跟单据体报表不一样\n    colStyle = (0, _GridUtils.getStyleInObj)(config, editor);\n  }\n  return colStyle || {};\n}\nfunction setContainerStyle(config, child, actions) {\n  var colStyle = (0, _GridUtils.getStyleInObj)(config, child); // 处理样式 容器列里的字段可以不排除宽度\n  if (actions.getLangResult) {\n    colStyle.width && (colStyle.width = actions.getLangResult(colStyle.width)); // 宽度为多语言，需要特殊处理\n    colStyle.height && (colStyle.height = actions.getLangResult(colStyle.height)); // 高度为多语言，需要特殊处理\n  }\n  return colStyle;\n}\nfunction setContainerItemProps(child, colItem, isContainer) {\n  colItem.cellRendererParams.classNames = (0, _commonUtils[\"default\"])((0, _GridUtils.getCommonClassInObj)(child)); // 处理flex布局信息\n  !isContainer && (colItem.cellRendererParams.showTitle = !child.hft); // 显示标题 传过来的为hide Field Title\n}\nfunction complexObjectIsEqual(val1, val2) {\n  return _lodash[\"default\"].isEqual(val1, val2);\n}\nfunction setColEquals(colItem, renderType, editor) {\n  switch (true) {\n    case (0, _GridUtils.isBaseData)(renderType):\n    case renderType === _serverproperties.Ctrls.KDMulLangText:\n    case renderType === _serverproperties.Ctrls.KDAttachmentField:\n    case editor && editor.isCustom:\n      colItem.equals = complexObjectIsEqual;\n      break;\n    default:\n  }\n  return colItem;\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/columnEditor.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/columnStatus.js":
/*!******************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/columnStatus.js ***!
  \******************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.getColEditable = getColEditable;\nexports.getColVisible = getColVisible;\nexports.isCellLocked = isCellLocked;\nexports.isUnlockCell = void 0;\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _gridConst = __webpack_require__(/*! @/constant/gridConst */ \"./src/constant/gridConst.js\");\nvar _grid = __webpack_require__(/*! @/util/component/grid */ \"./src/util/component/grid.js\");\nvar _visibility = __webpack_require__(/*! @/component/web/DataGrid/TableHelper/column/visibility */ \"./src/component/web/DataGrid/TableHelper/column/visibility.js\");\n/**\n * 列定义中列的可见性,锁定性和可编辑性\n * by kechuang\n */\n\n/**\n * 判断列的可见性\n * 只要其中一种情况隐藏，列就会隐藏\n * @param {*} colMeta\n * @param {*} actions\n */\nfunction getColVisible(colMeta, colItem, parentCol, actions) {\n  var _colItem$cellRenderer;\n  var vi = colMeta.vi,\n    visible = colMeta.visible;\n  var field = colItem.field;\n  var hide = false;\n  var isVisibleByData = getColVisibleFormData(actions);\n  if (visible != undefined) {\n    hide = !visible;\n  }\n  if (!hide && vi != undefined) {\n    hide = !actions.getVisibleByNum(field, vi);\n  }\n  if (!hide) {\n    hide = !isVisibleByData(field);\n  }\n  if (!hide && parentCol.hide) {\n    hide = true;\n  }\n  if (!hide && (0, _visibility.isHiddenFormEditor)((0, _immutable.fromJS)((_colItem$cellRenderer = colItem.cellRendererParams) === null || _colItem$cellRenderer === void 0 ? void 0 : _colItem$cellRenderer.editor))) {\n    hide = true;\n  }\n  return hide;\n}\nvar DEFAULT_LOCK_COL_TYPES = ['operate'];\n\n/**\n * 判断是否可编辑\n * @param {*} editor\n * @param {*} gridContrlParams\n */\nfunction getColEditable(editor, gridContrlParams, colLocked) {\n  // 列表默认锁定、单据体默认可编辑，报表整表锁定\n  var editable = !gridContrlParams.isListView;\n  var eb = editor.eb,\n    type = editor.type;\n  if (DEFAULT_LOCK_COL_TYPES.indexOf(type) > -1) {\n    // 默认锁定的列类型,该列会锁定且不可编辑\n    return false;\n  }\n  editable = eb === undefined ? editable : eb;\n  return editable && gridContrlParams.gridEditable && !colLocked;\n}\nvar isUnlockCell = exports.isUnlockCell = function isUnlockCell(cprop, colId) {\n  var unlockCells = cprop === null || cprop === void 0 ? void 0 : cprop.unlockCells;\n  if (!Array.isArray(unlockCells)) return false;\n  return unlockCells.includes(colId);\n};\n\n/**\n * 判断单元格是否锁定\n * @param {*} actions\n * @param {*} dataDesc\n */\nfunction isCellLocked(_ref, dataDesc) {\n  var getColProperty = _ref.getColProperty,\n    getRowProperty = _ref.getRowProperty,\n    getColumnEntityKey = _ref.getColumnEntityKey,\n    getGridEditable = _ref.getGridEditable,\n    getMergeModel = _ref.getMergeModel;\n  // TODO:去掉多余的参数\n  return function (pageId, gridId, rk, colId, isPrivacy) {\n    var realEditable = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : true;\n    var cpropIndex = dataDesc && dataDesc.dataindex && dataDesc.dataindex.cprop;\n    var cprop = getRowProperty(rk, cpropIndex);\n    var gridEditable = getGridEditable();\n    if (isUnlockCell(cprop, colId)) return false;\n\n    // 整表或者列锁了，单元格也是锁定\n    if (!gridEditable || !realEditable) return true;\n\n    // 列锁定应该在列定义级别就处理。\n    var r = getColProperty(colId, 'colLock');\n    if (r && Array.isArray(r) && r.length > 0) return true; // 动态的列锁定。\n    var lkI = dataDesc && dataDesc.dataindex && dataDesc.dataindex.l;\n    if (lkI >= 0) {\n      r = getRowProperty(rk, lkI, colId);\n      if (r && Array.isArray(r) && r.length > 0) return true; // 动态的单元格锁定。\n      r = getRowProperty(rk, lkI, _gridConst.LOCK_ROWS_KEY);\n      if (r && Array.isArray(r) && r.length > 0) return true; // 整行锁定\n    }\n    if (isPrivacy && typeof (0, _grid.getGridCellPlainText)({\n      pageId: pageId,\n      gridId: gridId,\n      colId: colId,\n      rowKey: rk\n    }) === 'undefined') {\n      return true;\n    }\n    var entityKey = getColumnEntityKey(colId);\n    if (entityKey) {\n      var _getMergeModel, _dataDesc$dataindex;\n      // 可以从元数据取，此处直接从mergeModel取\n      var entityPrimaryKey = (_getMergeModel = getMergeModel()) === null || _getMergeModel === void 0 || (_getMergeModel = _getMergeModel.entityRelationInfo.entities[entityKey]) === null || _getMergeModel === void 0 ? void 0 : _getMergeModel.pkFieldName;\n      var entityDataIndex = dataDesc === null || dataDesc === void 0 || (_dataDesc$dataindex = dataDesc.dataindex) === null || _dataDesc$dataindex === void 0 ? void 0 : _dataDesc$dataindex[entityPrimaryKey];\n      var entityPrimaryKeyValue = entityDataIndex >= 0 && getRowProperty(rk, entityDataIndex);\n      // 实体key为'0'，表示该单元格不存在实体，不可编辑\n      if (entityPrimaryKeyValue === '0') {\n        return true;\n      }\n    }\n    return false;\n  };\n}\n\n/** utils function */\nvar getColVisibleFormData = function getColVisibleFormData(actions) {\n  var visibleData = actions.getColProperty('', 'colVisb');\n  return function (colId) {\n    if (visibleData && visibleData[colId]) {\n      var colVis = visibleData[colId];\n      if (Array.isArray(colVis) && colVis.length > 0) {\n        return false;\n      }\n    }\n    return true;\n  };\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/columnStatus.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/complexColumn.js":
/*!*******************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/complexColumn.js ***!
  \*******************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.buildCombinedCol = buildCombinedCol;\nexports.buildContainerCol = buildContainerCol;\nexports.buildGroupCol = buildGroupCol;\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.join.js */ \"../../node_modules/core-js/modules/es.array.join.js\");\n__webpack_require__(/*! core-js/modules/es.array.some.js */ \"../../node_modules/core-js/modules/es.array.some.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n/**\n * 分组列的列定义\n * by kechuang\n */\n\n/**\n * 构造分组列/容器列相关的属性\n * @param {*} colItem\n * @param {*} parentCol\n * @param {*} child 列的元数据\n * @param {*} gridContrlParams\n * @param {*} createColumns 递归的方法\n */\nfunction buildGroupCol(colItem, parentCol, child, gridContrlParams, styles, createColumns) {\n  // 容器列\n  if (colItem.cellRendererParams && colItem.cellRendererParams.type === 'container') {\n    return buildContainerCol(colItem, child, parentCol, createColumns);\n  }\n  // if (parentCol.isGroupColumn === true) {\n  //   colItem.columnGroupShow = 'open'\n  // }\n  if (child.children) {\n    gridContrlParams.hasGroupColumn = true;\n    colItem.isGroupColumn = true;\n    // colItem.columnGroupShow = 'open'\n    colItem.children = [];\n    createColumns(child.children, colItem);\n    colItem.headerClass = colItem.headerClass ? styles['header-group'] + ' ' + colItem.headerClass : styles['header-group'];\n    colItem.groupId = colItem.gNamePath.join('-');\n    colItem.marryChildren = true; // Moving the columns outside of the group (and hence breaking the group) is not allowed\n    var allChildrenHide = !colItem.children.some(function (item) {\n      return !item.hide;\n    });\n    if (allChildrenHide) {\n      colItem.hide = true;\n    }\n  } else {\n    colItem.leaf = true;\n  }\n  return colItem;\n}\nfunction buildCombinedCol(colItem, child, styles, createColumns) {\n  if (child.items) {\n    var combinedItems = {\n      isCombinedItem: true,\n      children: [],\n      level: 0,\n      gNamePath: []\n    };\n    createColumns(child.items, combinedItems);\n    // 注意！valueGetter的值比较是用的 ===，故复杂对象值的单元格将在refreshCell时恒更新,故还要用equals方法\n    colItem.valueGetter = function combinedValue(params) {\n      var data = params.data,\n        node = params.node;\n      // 在虚模式表格时，data开始会是undefined状态，从服务器加载过来后才有真实数据。\n      if (data === undefined) return '';\n      if (node.rowPinned) return ''; // 合并列暂不支持合计行\n      var v = {};\n      combinedItems.children.forEach(function (element) {\n        var field = element.field;\n        v[field] = data[field];\n      });\n      return v;\n    };\n    colItem.filter = false;\n    colItem.sortable = false;\n    // 复杂对象的值比较方法\n    colItem.equals = function equals(val1, val2) {\n      return _lodash[\"default\"].isEqual(val1, val2);\n    };\n    // 编辑器\n    var combinedParams = {\n      type: 'combinedField',\n      styles: styles.combinedField,\n      combinedItems: combinedItems.children,\n      isCombined: true,\n      sortAndFilterField: child.sff // 合并列的过滤排序字段\n    };\n    colItem.cellEditorParams = Object.assign(colItem.cellEditorParams, combinedParams);\n    colItem.cellRendererParams = Object.assign(colItem.cellRendererParams, combinedParams);\n  }\n  return colItem;\n}\nfunction buildContainerCol(colItem, child, parentCol, createColumns) {\n  if (child.children) {\n    var containerColItem = {\n      isContainerCol: true,\n      children: [],\n      level: 0,\n      gNamePath: []\n    };\n    createColumns(child.children, containerColItem);\n    var containerItems = containerColItem.children;\n    colItem.subItems = containerItems;\n    colItem.isContainerCol = true;\n    if (!parentCol.isContainerCol) {\n      // 顶层容器列将子级key打平存储，减少容器字段的循环\n      colItem.childrenFiledKeys = getContainerFieldKey(containerItems, []);\n      colItem.leaf = true;\n      colItem.valueGetter = function (params) {\n        var data = params.data,\n          node = params.node;\n        // 在虚模式表格时，data开始会是undefined状态，从服务器加载过来后才有真实数据。\n        if (data === undefined) return '';\n        if (node.rowPinned) return ''; // 容器列暂不支持合计行\n        var v = {};\n        colItem.childrenFiledKeys && colItem.childrenFiledKeys.forEach(function (key) {\n          v[key] = data[key];\n        });\n        return v;\n      };\n      colItem.equals = function (v1, v2) {\n        return v1 === v2;\n      };\n    }\n    var containerParams = {\n      isContainerCol: true\n    };\n    colItem.cellRendererParams = Object.assign(colItem.cellRendererParams, containerParams);\n  }\n  return colItem;\n}\nfunction getContainerFieldKey(subItems, val) {\n  subItems && subItems.forEach(function (item) {\n    var field = item.field;\n    if (item.subItems) {\n      // 还存在子级 继续遍历子级 如果后面有性能问题 再修改做法\n      val = getContainerFieldKey(item.subItems, val);\n    } else {\n      val.push(field);\n    }\n  });\n  return val;\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/complexColumn.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/createSelectionCol.js":
/*!************************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/createSelectionCol.js ***!
  \************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-properties.js */ \"../../node_modules/core-js/modules/es.object.define-properties.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptors.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = createSelectionCol;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\nvar _SelectColumnHeader = __webpack_require__(/*! ../../HeaderComponent/SelectColumnHeader */ \"./src/component/web/DataGrid/AgDataGrid/HeaderComponent/SelectColumnHeader.js\");\nvar _CellRenderer = __webpack_require__(/*! ../../CellRenderer */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/index.js\");\nvar _rowModel = __webpack_require__(/*! ../../rowModel */ \"./src/component/web/DataGrid/AgDataGrid/rowModel/index.js\");\nvar _colWidth = __webpack_require__(/*! ./colWidth */ \"./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/colWidth.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); } /**\n * 选择列由前端来构建\n * 后端不传此列的元数据\n * by kechuang\n */\nfunction createSelectionCol(params, parentCol) {\n  var pid = params.pid,\n    gridId = params.gridId,\n    gridOptions = params.gridOptions,\n    gridContrlParams = params.gridContrlParams,\n    rowKey = params.rowKey,\n    seq = params.seq,\n    actions = params.actions,\n    dataDesc = params.dataDesc;\n  var width = _colWidth.SELECT_COL_WIDTH.terse;\n  var colDef = {\n    headerName: '',\n    field: 'XXfieldXX',\n    colId: 'XXfieldXX',\n    cellRendererFramework: _CellRenderer.SelectColRenderer,\n    cellRendererParams: {\n      invokeRowSelection: actions.invokeRowSelection,\n      postRowSelection: actions.postRowSelection,\n      getMergeModel: actions.getMergeModel,\n      getGridThisProp: actions.getGridThisProp,\n      setGridThisProp: actions.setGridThisProp,\n      getNodeByRowKey: actions.getNodeByRowKey,\n      getNodeByRowIndex: actions.getNodeByRowIndex,\n      rowKey: rowKey,\n      gridContrlParams: gridContrlParams,\n      gridOptions: gridOptions\n      // entity:entity  //mergerow变化的时候不修改列定义的任何东西，否则会造成所有单元格重构,aggrid对整个对象会做深度对比\n    },\n    pinnedRowCellRendererFramework: _rowModel.PinnedRowCellRenderer,\n    pinnedRowCellRendererParams: _objectSpread({\n      pid: pid,\n      gridId: gridId,\n      gridOptions: gridOptions,\n      gridContrlParams: gridContrlParams,\n      rowKey: rowKey,\n      seq: seq,\n      dataDesc: dataDesc\n    }, actions),\n    // onCellClicked: (params) => { }, 单元格点击事件\n    cellClass: 'selection-cell',\n    headerClass: 'selection-header-cell',\n    width: width,\n    // checkboxSelection: true,\n    sortable: false,\n    suppressMenu: true,\n    filter: false,\n    resizable: false,\n    suppressMovable: true,\n    suppressNavigable: true,\n    // pinned: true,\n    pinned: 'left',\n    lockPinned: true,\n    editable: false,\n    pivotIndex: 0,\n    gNamePath: [0],\n    leaf: true,\n    level: 1,\n    valueGetter: function combinedValue(params) {\n      // 使用选中状态作为值，在更新选中列状态的时候可以用上\n      return params.node.selected;\n    }\n  };\n  var headerComponentParams = {\n    rowKey: rowKey,\n    seq: seq,\n    gridOptions: gridOptions,\n    gridContrlParams: gridContrlParams,\n    toolBarBtnClick: actions.toolBarBtnClick,\n    pid: pid,\n    gridId: gridId,\n    getGridState: actions.getGridState,\n    postRowSelection: actions.postRowSelection\n  };\n  // if (gridContrlParams.isListView || gridContrlParams.isVirtualView) {\n  //   // 表格的选择列的列头设置按钮\n  //   colDef.headerComponentFramework = SetOptionColHeader\n  //   colDef.headerComponentParams = headerComponentParams\n  // } else\n  colDef.headerComponentParams = headerComponentParams;\n  if (gridOptions.rowSelection === 'multiple' && !gridContrlParams.isVirtualView) {\n    colDef.headerComponentFramework = _SelectColumnHeader.SelectColCommonHeader;\n  } else {\n    colDef.headerComponentFramework = _SelectColumnHeader.SelectColPlaceHolderHeader;\n  }\n  colDef.suppressAutoSize = (0, _colWidth.isSuppressAutoSize)(colDef.field); // 阻止列宽自适应\n  colDef.suppressSizeToFit = (0, _colWidth.isSuppressSizeToFit)(colDef, {\n    rowKey: rowKey,\n    seq: seq\n  }); // 阻止列宽缩小或者增大去适应屏幕大小\n  parentCol.children.push(colDef);\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/createSelectionCol.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/createSettingCol.js":
/*!**********************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/createSettingCol.js ***!
  \**********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = createSettingCol;\nvar _gridConst = __webpack_require__(/*! ../../../../../../constant/gridConst */ \"./src/constant/gridConst.js\");\nvar _colWidth = __webpack_require__(/*! ./colWidth */ \"./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/colWidth.js\");\nfunction createSettingCol(params, colDefs) {\n  var gridOptions = params.gridOptions,\n    gridContrlParams = params.gridContrlParams,\n    rowKey = params.rowKey,\n    seq = params.seq,\n    actions = params.actions;\n  var colDef = {\n    headerName: '',\n    field: _gridConst.SETTING_COL,\n    colId: _gridConst.SETTING_COL,\n    // onCellClicked: (params) => { }, 单元格点击事件\n    cellRendererParams: {\n      invokeRowSelection: actions.invokeRowSelection,\n      getMergeModel: actions.getMergeModel,\n      rowKey: rowKey,\n      gridContrlParams: gridContrlParams,\n      gridOptions: gridOptions\n      // entity:entity  //mergerow变化的时候不修改列定义的任何东西，否则会造成所有单元格重构,aggrid对整个对象会做深度对比\n    },\n    cellClass: 'setting-col-cell',\n    width: 30,\n    // checkboxSelection: true,\n    sortable: false,\n    suppressMenu: true,\n    filter: false,\n    resizable: false,\n    suppressMovable: true,\n    editable: false,\n    pivotIndex: 0,\n    gNamePath: [0],\n    leaf: true,\n    level: 1,\n    valueGetter: function combinedValue(params) {\n      // 值\n      return '';\n    }\n  };\n  colDef.suppressAutoSize = (0, _colWidth.isSuppressAutoSize)(colDef.field); // 阻止列宽自适应\n  colDef.suppressSizeToFit = (0, _colWidth.isSuppressSizeToFit)(colDef, {\n    rowKey: rowKey,\n    seq: seq\n  }); // 阻止列宽缩小或者增大去适应屏幕大小\n  colDefs.push(colDef);\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/createSettingCol.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/customColumn.js":
/*!******************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/customColumn.js ***!
  \******************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\nvar _gridConst = __webpack_require__(/*! @/constant/gridConst */ \"./src/constant/gridConst.js\");\nvar _CellRenderer = __webpack_require__(/*! ../../CellRenderer */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/index.js\");\nvar _CellEditor = __webpack_require__(/*! ../../CellEditor */ \"./src/component/web/DataGrid/AgDataGrid/CellEditor/index.js\");\nfunction buildCustomColumn(colItem, child, _ref) {\n  var gridContrlParams = _ref.gridContrlParams,\n    actions = _ref.actions;\n  var _child$editor = child.editor,\n    editor = _child$editor === void 0 ? {} : _child$editor;\n  var isCustom = editor.isCustom,\n    schemaInfo = editor.schemaInfo;\n\n  // 测试代码 start\n  // isCustom = colItem.cellRendererParams.type === 'text'\n  // schemaInfo = {\n  //   schemaId: 'helloworld',\n  //   isvId: 'kdtest',\n  //   moduleId: 'cq'\n  // }\n  // 测试代码 end\n\n  if (isCustom) {\n    // 可编辑处理\n    if (colItem.cellEditorFramework || child.editable) {\n      delete colItem.cellEditorFramework;\n      colItem.cellEditor = _CellEditor.CustomLightEditor;\n    }\n    delete colItem.cellRendererFramework;\n    colItem.cellRenderer = _CellRenderer.CustomLightRender; // 不能用cellRendererFramework 所以这里得重新设置 先不修改共同的配置\n\n    colItem.cellRendererParams.originType = colItem.cellRendererParams.type;\n    colItem.cellRendererParams.type = 'custom';\n    colItem.cellRendererParams.oldRenderer = {\n      t: 'light',\n      e: colItem.cellRenderer\n    };\n    colItem.cellRendererParams.schemaInfo = schemaInfo;\n    colItem.cellEditorParams.originType = colItem.cellRendererParams.type;\n    colItem.cellEditorParams.type = 'custom';\n    colItem.cellEditorParams.schemaInfo = schemaInfo;\n    colItem.isCustom = isCustom;\n    colItem.autoHeight = gridContrlParams.autoHeight;\n    var schemaId = schemaInfo.schemaId,\n      isvId = schemaInfo.isvId,\n      moduleId = schemaInfo.moduleId;\n    var getGridThisProp = actions.getGridThisProp,\n      setGridThisProp = actions.setGridThisProp;\n    var customSchemaInfos = getGridThisProp(_gridConst.GRID_CUSTOM_COL_SCHEMA_INFOS) || {}; // {schemaId1:{cols:[]}},schemaId2:{cols:[]}}\n    if (customSchemaInfos[schemaId]) {\n      customSchemaInfos[schemaId].cols.push(colItem.field);\n    } else {\n      customSchemaInfos[schemaId] = {\n        cols: [colItem.field],\n        isvId: isvId,\n        moduleId: moduleId\n      };\n    }\n    setGridThisProp(_gridConst.GRID_CUSTOM_COL_SCHEMA_INFOS, customSchemaInfos);\n  }\n  return colItem;\n}\nvar _default = exports[\"default\"] = buildCustomColumn;\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/customColumn.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/headerTips.js":
/*!****************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/headerTips.js ***!
  \****************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = setHeaderTipsConfig;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _componentutil = __webpack_require__(/*! ../../../../../../util/componentutil */ \"./src/util/componentutil.js\");\nvar _memoryCacher = __webpack_require__(/*! @/model/memoryCacher */ \"./src/model/memoryCacher.js\");\nvar _const = __webpack_require__(/*! @/constant/const */ \"./src/constant/const.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n/**\n * 列头tips\n * by kechuang\n */\n\n// 隐藏列、序号列、合并子列 列头没有tips\nfunction setHeaderTipsConfig(child, colItem, parentCol, seq, headerTipsConfig) {\n  if (child.tips && !colItem.hide && !parentCol.isCombinedItem && colItem.field !== seq) {\n    var headerTipId = (0, _componentutil.createNewId)();\n    var originHeaderName = colItem.originHeaderName || colItem.headerName;\n    var headerTipCarrier = '<div id=' + headerTipId + '></div>';\n    colItem.headerName = colItem.headerName + headerTipCarrier;\n    // 不能将React元素放在props上，aggrid内部会做一次深度遍历对比，React元素是不可写的，会报错！！！\n    colItem.cellRendererParams = Object.assign(colItem.cellRendererParams, {\n      hasHeadTips: true,\n      targetId: headerTipId,\n      originHeaderName: originHeaderName\n    });\n    var _colItem$cellEditorPa = colItem.cellEditorParams,\n      pid = _colItem$cellEditorPa.pid,\n      gridId = _colItem$cellEditorPa.gridId;\n    (0, _memoryCacher.setPageData)(colItem.cellRendererParams.pid, [_const.TIPS_INFO, \"\".concat(pid, \"_\").concat(gridId, \"_\").concat(colItem.colId)], (0, _immutable.fromJS)(child.tips));\n    headerTipsConfig.push({\n      id: headerTipId,\n      tips: (0, _immutable.fromJS)(child.tips),\n      header: child.header\n    });\n  }\n  return headerTipsConfig;\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/headerTips.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/index.js":
/*!***********************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/index.js ***!
  \***********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nObject.defineProperty(exports, \"Alignment\", ({\n  enumerable: true,\n  get: function get() {\n    return _Alignment[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"SELECT_COL_WIDTH\", ({\n  enumerable: true,\n  get: function get() {\n    return _colWidth.SELECT_COL_WIDTH;\n  }\n}));\nObject.defineProperty(exports, \"addHorizantalScrollObserver\", ({\n  enumerable: true,\n  get: function get() {\n    return _setOperationColPinnedStatus.addHorizantalScrollObserver;\n  }\n}));\nObject.defineProperty(exports, \"buildCombinedCol\", ({\n  enumerable: true,\n  get: function get() {\n    return _complexColumn.buildCombinedCol;\n  }\n}));\nObject.defineProperty(exports, \"buildCustomColumn\", ({\n  enumerable: true,\n  get: function get() {\n    return _customColumn[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"buildGroupCol\", ({\n  enumerable: true,\n  get: function get() {\n    return _complexColumn.buildGroupCol;\n  }\n}));\nObject.defineProperty(exports, \"cellChange\", ({\n  enumerable: true,\n  get: function get() {\n    return _cellChange[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"createSelectionCol\", ({\n  enumerable: true,\n  get: function get() {\n    return _createSelectionCol[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"createSettingCol\", ({\n  enumerable: true,\n  get: function get() {\n    return _createSettingCol[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"createSpecialHeader\", ({\n  enumerable: true,\n  get: function get() {\n    return _specialHeaders[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"dealWithColEditor\", ({\n  enumerable: true,\n  get: function get() {\n    return _columnEditor[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"dealWithSpecialCols\", ({\n  enumerable: true,\n  get: function get() {\n    return _specialCols[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"defaultColWidth\", ({\n  enumerable: true,\n  get: function get() {\n    return _colWidth.defaultColWidth;\n  }\n}));\nObject.defineProperty(exports, \"distributeRendererAndEditor\", ({\n  enumerable: true,\n  get: function get() {\n    return _cellComponentMapping[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"eventSuppress\", ({\n  enumerable: true,\n  get: function get() {\n    return _suppressKeyboardEvent.eventSuppress;\n  }\n}));\nObject.defineProperty(exports, \"getCellClass\", ({\n  enumerable: true,\n  get: function get() {\n    return _cellStyle.getCellClass;\n  }\n}));\nObject.defineProperty(exports, \"getCellStyle\", ({\n  enumerable: true,\n  get: function get() {\n    return _cellStyle.getCellStyle;\n  }\n}));\nObject.defineProperty(exports, \"getColEntity\", ({\n  enumerable: true,\n  get: function get() {\n    return _colEntity[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"getColVisible\", ({\n  enumerable: true,\n  get: function get() {\n    return _columnStatus.getColVisible;\n  }\n}));\nObject.defineProperty(exports, \"isCellLocked\", ({\n  enumerable: true,\n  get: function get() {\n    return _columnStatus.isCellLocked;\n  }\n}));\nObject.defineProperty(exports, \"isSuppressAutoSize\", ({\n  enumerable: true,\n  get: function get() {\n    return _colWidth.isSuppressAutoSize;\n  }\n}));\nObject.defineProperty(exports, \"isSuppressSizeToFit\", ({\n  enumerable: true,\n  get: function get() {\n    return _colWidth.isSuppressSizeToFit;\n  }\n}));\nObject.defineProperty(exports, \"setCellStyleByRules\", ({\n  enumerable: true,\n  get: function get() {\n    return _cellStyle.setCellStyleByRules;\n  }\n}));\nObject.defineProperty(exports, \"setColHeader\", ({\n  enumerable: true,\n  get: function get() {\n    return _colHeader[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"setColSortFilter\", ({\n  enumerable: true,\n  get: function get() {\n    return _colSortFilter[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"setColumnWidth\", ({\n  enumerable: true,\n  get: function get() {\n    return _colWidth.setColumnWidth;\n  }\n}));\nObject.defineProperty(exports, \"setHeaderTipsConfig\", ({\n  enumerable: true,\n  get: function get() {\n    return _headerTips[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"setOperationColPinnedStatus\", ({\n  enumerable: true,\n  get: function get() {\n    return _setOperationColPinnedStatus.setOperationColPinnedStatus;\n  }\n}));\nObject.defineProperty(exports, \"suppressKeyboardEvent\", ({\n  enumerable: true,\n  get: function get() {\n    return _suppressKeyboardEvent[\"default\"];\n  }\n}));\nvar _createSelectionCol = _interopRequireDefault(__webpack_require__(/*! ./createSelectionCol */ \"./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/createSelectionCol.js\"));\nvar _Alignment = _interopRequireDefault(__webpack_require__(/*! ./Alignment */ \"./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/Alignment.js\"));\nvar _suppressKeyboardEvent = _interopRequireWildcard(__webpack_require__(/*! ./suppressKeyboardEvent */ \"./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/suppressKeyboardEvent.js\"));\nvar _cellStyle = __webpack_require__(/*! ./cellStyle */ \"./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/cellStyle.js\");\nvar _columnStatus = __webpack_require__(/*! ./columnStatus */ \"./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/columnStatus.js\");\nvar _complexColumn = __webpack_require__(/*! ./complexColumn */ \"./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/complexColumn.js\");\nvar _columnEditor = _interopRequireDefault(__webpack_require__(/*! ./columnEditor */ \"./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/columnEditor.js\"));\nvar _colWidth = __webpack_require__(/*! ./colWidth */ \"./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/colWidth.js\");\nvar _specialCols = _interopRequireDefault(__webpack_require__(/*! ./specialCols */ \"./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/specialCols.js\"));\nvar _headerTips = _interopRequireDefault(__webpack_require__(/*! ./headerTips */ \"./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/headerTips.js\"));\nvar _specialHeaders = _interopRequireDefault(__webpack_require__(/*! ./specialHeaders */ \"./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/specialHeaders.js\"));\nvar _cellComponentMapping = _interopRequireDefault(__webpack_require__(/*! ./cellComponentMapping */ \"./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/cellComponentMapping.js\"));\nvar _colEntity = _interopRequireDefault(__webpack_require__(/*! ./colEntity */ \"./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/colEntity.js\"));\nvar _colSortFilter = _interopRequireDefault(__webpack_require__(/*! ./colSortFilter */ \"./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/colSortFilter.js\"));\nvar _colHeader = _interopRequireDefault(__webpack_require__(/*! ./colHeader */ \"./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/colHeader.js\"));\nvar _cellChange = _interopRequireDefault(__webpack_require__(/*! ./cellChange */ \"./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/cellChange.js\"));\nvar _createSettingCol = _interopRequireDefault(__webpack_require__(/*! ./createSettingCol */ \"./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/createSettingCol.js\"));\nvar _customColumn = _interopRequireDefault(__webpack_require__(/*! ./customColumn */ \"./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/customColumn.js\"));\nvar _setOperationColPinnedStatus = __webpack_require__(/*! ./setOperationColPinnedStatus */ \"./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/setOperationColPinnedStatus.js\");\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/index.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/setOperationColPinnedStatus.js":
/*!*********************************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/setOperationColPinnedStatus.js ***!
  \*********************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.addHorizantalScrollObserver = addHorizantalScrollObserver;\nexports.setOperationColPinnedStatus = setOperationColPinnedStatus;\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _gridConst = __webpack_require__(/*! @/constant/gridConst */ \"./src/constant/gridConst.js\");\nvar _domObserverUtil = __webpack_require__(/*! @/util/domObserverUtil */ \"./src/util/domObserverUtil.js\");\nvar _GridUtils = __webpack_require__(/*! ../../GridUtils */ \"./src/component/web/DataGrid/AgDataGrid/GridUtils.js\");\nfunction isScrollBarVisible(style) {\n  return !style.includes('height: 0px');\n}\nfunction setColumnPinned(value, _ref) {\n  var colId = _ref.colId,\n    gridState = _ref.gridState,\n    columnApi = _ref.columnApi;\n  var colDef = (0, _GridUtils.childrenLookUp)(gridState.columnDefs, function (f) {\n    return f.field === colId;\n  });\n  if (colDef) {\n    colDef.pinned = value;\n    columnApi.setColumnPinned(colId, value);\n  }\n}\nfunction setOperationColPinnedStatus(_ref2) {\n  var columnApi = _ref2.columnApi,\n    gridState = _ref2.gridState,\n    gridContainerI = _ref2.gridContainerI,\n    setGridThisProp = _ref2.setGridThisProp,\n    getGridThisProp = _ref2.getGridThisProp;\n  if (!gridState || !columnApi) return;\n  var columns = gridState.columnDefs.filter(function (col) {\n    return col.colId !== _gridConst.SETTING_COL && col.colId !== _gridConst.DETAIL_EXPAND_COL_ID && !col.hide;\n  });\n  if (!columns || columns.length === 0) return;\n  var lastColDef = columns[columns.length - 1];\n  var colId = lastColDef.colId,\n    colType = lastColDef.colType;\n  var isOperationColAtLast = colType === 'operate';\n  if (isOperationColAtLast) {\n    var scrollDom = gridContainerI && gridContainerI.querySelector('.ag-body-horizontal-scroll-viewport');\n    if (!scrollDom) return;\n    var style = scrollDom.getAttribute('style');\n    var currentVisible = isScrollBarVisible(style);\n    var _pinned = currentVisible && 'right';\n    setColumnPinned(_pinned, {\n      colId: colId,\n      gridState: gridState,\n      columnApi: columnApi\n    });\n    setColumnPinned(_pinned, {\n      colId: _gridConst.SETTING_COL,\n      gridState: gridState,\n      columnApi: columnApi\n    });\n\n    // ag不是最后一列也可以固定在最右侧，这里要记一下设置过的操作列\n    var pinnedOperationColId = getGridThisProp('pinnedOperationColId');\n    if (_pinned === 'right' && pinnedOperationColId !== colId) {\n      // 清掉先前操作列的固定状态\n      if (pinnedOperationColId) {\n        setColumnPinned(false, {\n          colId: pinnedOperationColId,\n          gridState: gridState,\n          columnApi: columnApi\n        });\n      }\n      pinnedOperationColId = colId;\n      setGridThisProp('pinnedOperationColId', pinnedOperationColId);\n    }\n  } else {\n    var _pinnedOperationColId = getGridThisProp('pinnedOperationColId');\n    if (_pinnedOperationColId) {\n      setColumnPinned(false, {\n        colId: _pinnedOperationColId,\n        gridState: gridState,\n        columnApi: columnApi\n      });\n    }\n    setColumnPinned(false, {\n      colId: _gridConst.SETTING_COL,\n      gridState: gridState,\n      columnApi: columnApi\n    });\n    setGridThisProp('pinnedOperationColId', '');\n  }\n}\nfunction addHorizantalScrollObserver(_ref3) {\n  var gridState = _ref3.gridState,\n    columnApi = _ref3.columnApi,\n    gridContainerI = _ref3.gridContainerI,\n    setGridThisProp = _ref3.setGridThisProp,\n    getGridThisProp = _ref3.getGridThisProp;\n  var scrollDom = gridContainerI && gridContainerI.querySelector('.ag-body-horizontal-scroll-viewport');\n  if (!scrollDom) return;\n  // 滚动条可见性变化触发\n  var callback = function callback(mutations) {\n    if (!gridState || !columnApi) return;\n    var columns = gridState.columnDefs.filter(function (col) {\n      return col.colId !== _gridConst.SETTING_COL && col.colId !== _gridConst.DETAIL_EXPAND_COL_ID && !col.hide;\n    });\n    if (!columns || columns.length === 0) return;\n    var lastColDef = columns[columns.length - 1];\n    var colId = lastColDef.colId,\n      colType = lastColDef.colType;\n    var isOperationColAtLast = colType === 'operate';\n    if (!isOperationColAtLast) return; // 操作列是最后一列才执行回调\n\n    mutations.forEach(function (mutation) {\n      // style 属性变化才执行\n      var attributeName = mutation.attributeName,\n        target = mutation.target,\n        oldValue = mutation.oldValue;\n      if (attributeName === 'style') {\n        var style = target.getAttribute('style');\n        var currentVisible = isScrollBarVisible(style);\n        var prevVisible = isScrollBarVisible(oldValue);\n        // 滚动条可见性发生变化时，设置操作列的锁定性\n        if (currentVisible !== prevVisible) {\n          var _pinned = currentVisible && 'right';\n          setColumnPinned(_pinned, {\n            colId: colId,\n            gridState: gridState,\n            columnApi: columnApi\n          });\n          setColumnPinned(_pinned, {\n            colId: _gridConst.SETTING_COL,\n            gridState: gridState,\n            columnApi: columnApi\n          });\n          var pinnedOperationColId = getGridThisProp('pinnedOperationColId');\n          if (_pinned === 'right') {\n            if (pinnedOperationColId !== colId) {\n              if (pinnedOperationColId) {\n                setColumnPinned(false, {\n                  colId: pinnedOperationColId,\n                  gridState: gridState,\n                  columnApi: columnApi\n                });\n              }\n              pinnedOperationColId = colId;\n              setGridThisProp('pinnedOperationColId', pinnedOperationColId);\n            }\n          } else {\n            setGridThisProp('pinnedOperationColId', '');\n          }\n        }\n      }\n    });\n  };\n  var options = {\n    attributes: true,\n    // 属性的变动\n    attributeOldValue: true // 表示观察attributes变动时，是否需要记录变动前的属性\n  };\n  return (0, _domObserverUtil.addMutationObserver)(scrollDom, options, callback);\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/setOperationColPinnedStatus.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/specialCols.js":
/*!*****************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/specialCols.js ***!
  \*****************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = dealWithSpecialCols;\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.array.some.js */ \"../../node_modules/core-js/modules/es.array.some.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.number.to-fixed.js */ \"../../node_modules/core-js/modules/es.number.to-fixed.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.parse-float.js */ \"../../node_modules/core-js/modules/es.parse-float.js\");\n__webpack_require__(/*! core-js/modules/es.parse-int.js */ \"../../node_modules/core-js/modules/es.parse-int.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.set.js */ \"../../node_modules/core-js/modules/es.set.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nvar _colWidth = __webpack_require__(/*! ./colWidth */ \"./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/colWidth.js\");\nvar _CellRenderer = __webpack_require__(/*! ../../CellRenderer */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/index.js\");\n/**\n * 处理特殊列\n * 合并列，凭证金额列，序号写\n * by kechuang\n */\n\nfunction dealWithSpecialCols(colItem, gridContrlParams, seq, styles, dataDesc) {\n  if (colItem.cellRendererParams.type === 'combinedField') {\n    colItem = dealWithCombinedCol(colItem, gridContrlParams);\n  }\n  if (colItem.isVoucherEditor) {\n    colItem = dealWithVoucherCol(colItem, styles);\n  }\n  if (colItem.field === seq) {\n    colItem = dealWithSeqCol(colItem, gridContrlParams, seq, styles, dataDesc);\n  }\n  return colItem;\n}\n\n// 合并列的列宽需要特殊处理\n// TODO:现在的做法对于合并子项宽度为%时，处理无效，要再考虑\nvar dealWithCombinedCol = function dealWithCombinedCol(colItem, gridContrlParams) {\n  var widthSettedCols = gridContrlParams.widthSettedCols || new Set();\n  var combinedItems = colItem.cellRendererParams.combinedItems;\n  var twidth = 0;\n\n  // 有拖动 列宽直接取设置的\n  if (widthSettedCols.has(colItem.field)) {\n    twidth = colItem.width;\n  } else {\n    // 取子列的和\n    combinedItems.map(function (c) {\n      if (!c.width) {\n        twidth += _colWidth.defaultColWidth[c.cellRendererParams.type] || 100;\n      } else {\n        twidth += parseInt(c.width);\n      }\n    });\n  }\n  var hasNotSetWidthCol = combinedItems.some(function (c) {\n    return widthSettedCols && widthSettedCols.size > 0 && !widthSettedCols.has(c.field);\n  });\n  combinedItems.map(function (c) {\n    // 设置固定宽度时，不能被拉伸\n    if (c.width && c.width.toString().indexOf('%') > 0) {\n      // 设置合并子项的宽度为占合并项宽度的比例，而不是整个表格的比例\n      c.width = parseFloat((parseInt(c.width) / Math.max(twidth, 1)).toFixed(2)) * 100 + '%';\n    }\n  });\n  colItem.width = twidth;\n  colItem.suppressSizeToFit = !hasNotSetWidthCol;\n  return colItem;\n};\nvar dealWithVoucherCol = function dealWithVoucherCol(colItem, styles) {\n  colItem.width = 280; // 191;\n  colItem.resizable = false;\n  colItem.filter = false;\n  // let headCls\n  // 凭证金额列只能居中对齐\n  // if (!colItem.filter) {\n  var headCls = styles.headerClass2;\n  // } else {\n  //   headCls = styles.headerClass2_filter + ' ' + styles.headerClass2\n  // }\n  colItem.headerClass = headCls;\n  colItem.cellRendererParams.isVoucherEditor = true;\n  return colItem;\n};\nvar dealWithSeqCol = function dealWithSeqCol(colItem, gridContrlParams, seq, styles, dataDesc) {\n  var mergeM = gridContrlParams.mergeModel;\n  if (mergeM) {\n    colItem.cellRendererParams.entity = mergeM.entityRelationInfo.leafEntityKey;\n  } else {\n    delete colItem.cellRendererFramework;\n    colItem.cellRenderer = _CellRenderer.LightRender;\n    colItem.cellRendererParams.oldRenderer = {\n      t: 'light',\n      e: colItem.cellRenderer\n    };\n  }\n  var hasOperateIcon = gridContrlParams.hasOperateIcon,\n    treeTable = gridContrlParams.treeTable,\n    gridEditable = gridContrlParams.gridEditable,\n    isEntryEntity = gridContrlParams.isEntryEntity;\n  var isTree = treeTable && treeTable.isTreeTable;\n  if (hasOperateIcon && !isTree && gridEditable) {\n    // 显示图标、不是树表、没有锁定\n    delete colItem.cellRenderer;\n    colItem.cellRendererFramework = _CellRenderer.SeqOpereateRenderer;\n    colItem.cellRendererParams.oldRenderer = {\n      t: 'common',\n      e: colItem.cellRendererFramework\n    };\n    colItem.minWidth = _colWidth.SEQ_COL_DEFAULT_WIDTH.scatter;\n  }\n  // colItem.width = gridContrlParams.isListView ? 58 : 44\n  if (isEntryEntity && !isTree) {\n    colItem.valueGetter = function (params) {\n      var node = params.node,\n        data = params.data;\n      var rowIndex = node.rowIndex,\n        rowPinned = node.rowPinned;\n      if (rowPinned) return data[seq];\n      var index = rowIndex + 1;\n      var isSplitPage = dataDesc.isSplitPage,\n        pageindex = dataDesc.pageindex,\n        pagerows = dataDesc.pagerows;\n      isSplitPage && (index += (pageindex - 1) * pagerows);\n      return index;\n    };\n    colItem.equals = function (val1, val2) {\n      return val1 === val2;\n    };\n  }\n  gridContrlParams.showSeq = {\n    key: seq,\n    w: colItem.width,\n    v: !colItem.hide\n  }; // 自适应列宽等用\n  colItem.headerClass = styles.seqHeaderClass;\n  colItem.sortable = false;\n  colItem.suppressMenu = true;\n  colItem.filter = false;\n  // colItem.resizable = false\n  colItem.editable = false;\n  colItem.suppressMovable = true;\n  colItem.lockPinned = true;\n  return colItem;\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/specialCols.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/specialHeaders.js":
/*!********************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/specialHeaders.js ***!
  \********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = createSpecialHeader;\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\nvar _GridUtils = __webpack_require__(/*! ../../GridUtils */ \"./src/component/web/DataGrid/AgDataGrid/GridUtils.js\");\nvar _BaseHeader = _interopRequireDefault(__webpack_require__(/*! ../../HeaderComponent/BaseHeader */ \"./src/component/web/DataGrid/AgDataGrid/HeaderComponent/BaseHeader.js\"));\nvar _VoucherAmtHeader = _interopRequireDefault(__webpack_require__(/*! ../../HeaderComponent/VoucherAmtHeader */ \"./src/component/web/DataGrid/AgDataGrid/HeaderComponent/VoucherAmtHeader.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n/**\n * 特殊的列头\n * by kechuang\n */\n\nfunction createSpecialHeader(columnDefs, maxLevel, gridOptions, gridContrlParams, isServerModeTable) {\n  // 凭证金额列处理\n  if (gridContrlParams.hasVocherAmtCol == true) {\n    (0, _GridUtils.childrenLoop)(columnDefs.children, function (item) {\n      if (item.isVoucherEditor) {\n        // 只有浅叶子结点\n        item.headerComponentFramework = _VoucherAmtHeader[\"default\"];\n        item.headerComponentParams = Object.assign({}, item.cellRendererParams, {\n          level: item.level,\n          maxLevel: maxLevel,\n          // 计算表头高\n          leaf: item.leaf,\n          field: item.field\n        });\n      }\n    });\n    if (gridOptions.headerHeight < 53) gridOptions.headerHeight = 53; // 最小列头高\n    var rigntBorder = (0, _GridUtils.getRightBorderCols)(columnDefs.children);\n    gridContrlParams.rightBorderCols = rigntBorder;\n  }\n  // 分组列处理。header component要在边界上加分隔符。colItem.headerClass = colItem.headerClass + ' ' + 分隔样式\n  if (maxLevel > 1) {\n    (0, _GridUtils.childrenLoop)(columnDefs.children, function (item) {\n      if (!item.isVoucherEditor && item.leaf && item.level < maxLevel) {\n        // 只有浅叶子结点\n        if (item.field === _GridUtils.SELECTIONCOLID) {\n          return; // TODO:选择列用的selectionCol.headerComponentFramework = colOptionButtom;或selectionCol.headerComponentFramework = selectionHeader;在分组中要拉伸高度\n        }\n        item.headerComponentFramework = _BaseHeader[\"default\"];\n        item.headerComponentParams = Object.assign({}, item.cellRendererParams, {\n          level: item.level,\n          maxLevel: maxLevel,\n          leaf: item.leaf,\n          field: item.field,\n          enableMenu: item.filter,\n          enableSorting: item.sortable,\n          isDefaultSort: gridContrlParams.isEntryEntity === true && !isServerModeTable || gridContrlParams.isSubGrid === true,\n          // 单据体和轻表格走前端排序\n          gridContrlParams: gridContrlParams\n        });\n      }\n    });\n  }\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/specialHeaders.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/suppressKeyboardEvent.js":
/*!***************************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/suppressKeyboardEvent.js ***!
  \***************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = suppressKeyboardEvent;\nexports.eventSuppress = eventSuppress;\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\nvar _keyCodeTool = __webpack_require__(/*! ../../../../../../util/keyCodeTool */ \"./src/util/keyCodeTool.js\");\nvar _serverproperties = __webpack_require__(/*! ../../../../../../constant/serverproperties */ \"./src/constant/serverproperties.js\");\n/**\n * 单据体全键盘操作\n * 需要屏蔽aggrid的默认按键操作\n * by kechuang\n */\n\nvar KEY_UP = 38;\nvar KEY_DOWN = 40;\nvar KEY_LEFT = 37;\nvar KEY_RIGHT = 39;\nvar KEY_PAGE_UP = 33;\nvar KEY_PAGE_DOWN = 34;\nvar KEY_PAGE_HOME = 36;\nvar KEY_PAGE_END = 35;\nvar KEY_ENTER = 13;\nvar KEY_SHIFT = 16;\nvar KEY_CONTROL = 17;\nvar KEY_V = 86;\nvar KEY_TAB = 9;\n/**\n * 控制按键响应事件 return true to suppress\n * 总则：回车键是结束编辑的标志，多行文本用shift + enter换行（ctrl/meta/alt 原生不支持作为换行）。文本内左右键在编辑态作为光标移动，在非编辑态作为焦点切换功能\n * @param {*} params\n */\nfunction suppressKeyboardEvent(params) {\n  var event = params.event;\n  // console.log('cell is editing: ' + params.editing);\n  // console.log('keyboard event:', params.event);\n  if (params.editing === false && event.keyCode === KEY_ENTER) return true; // 默认不在编辑态回车键会进入编辑态，这里禁止默认事件，用来焦点到下一单元格功能\n  if (params.editing === false) return false; // 不在编辑态时也会触发，这个可以用来做回车键焦点到下一单元格功能\n  var gridShouldDoNothing = false; // 默认走grid的按键控制\n  var editorParams = params.colDef && params.colDef.cellEditorParams;\n  var keyCode = (0, _keyCodeTool.getKeyCode)(params.event);\n  var suppress = eventSuppress(keyCode, editorParams.type, editorParams, params);\n  gridShouldDoNothing = suppress;\n  return gridShouldDoNothing;\n}\n\n// 是否阻止键盘事件\nfunction eventSuppress(keyCode, colType, editorParams, params) {\n  var suppress = false;\n  var event = params.event;\n  if (keyCode === KEY_LEFT || keyCode === KEY_RIGHT || keyCode === KEY_DOWN || keyCode === KEY_UP || keyCode === KEY_TAB || keyCode === KEY_ENTER) return true; // 左右键在编辑态作为光标移动，在非编辑态作为焦点切换功能\n  switch (colType) {\n    case _serverproperties.Ctrls.KDBaseData:\n    case _serverproperties.Ctrls.KDMulBaseData:\n    case _serverproperties.Ctrls.KDOrg:\n    case _serverproperties.Ctrls.KDUser:\n    case _serverproperties.Ctrls.KDSelect: // 以下都是全键盘阻止上下键\n    case _serverproperties.Ctrls.KDMulSelect:\n    case _serverproperties.Ctrls.KDStepper:\n    case _serverproperties.Ctrls.KDCity:\n    case _serverproperties.Ctrls.KDFlexField:\n    case _serverproperties.Ctrls.KDTelephone:\n    case _serverproperties.Ctrls.KDEmail:\n      if (keyCode === KEY_UP || keyCode === KEY_DOWN) suppress = true;\n      break;\n    case _serverproperties.Ctrls.KDTextArea:\n    case _serverproperties.Ctrls.KDLTextArea:\n      if (keyCode === KEY_ENTER) {\n        if ((0, _keyCodeTool.isShiftKey)(event)) {\n          suppress = true;\n        }\n      } else {\n        if (keyCode === KEY_LEFT || keyCode === KEY_RIGHT || keyCode === KEY_UP || keyCode === KEY_DOWN) {\n          suppress = true;\n        }\n      }\n      break;\n    case _serverproperties.Ctrls.KDDate:\n    case _serverproperties.Ctrls.KDDateTime:\n    case _serverproperties.Ctrls.KDDateRange: // 日期范围不能手工录入，不处理\n    case _serverproperties.Ctrls.KDTime:\n    case _serverproperties.Ctrls.KDTimeRange:\n      if ([KEY_UP, KEY_DOWN, KEY_LEFT, KEY_RIGHT, KEY_ENTER].includes(keyCode)) suppress = true;\n      break;\n    case _serverproperties.Ctrls.KDMulLangText:\n      // 多语言多行\n      if (editorParams.editor && editorParams.editor.multiLine) {\n        if (keyCode === KEY_ENTER && (0, _keyCodeTool.isShiftKey)(event)) {\n          // shift+enter 换行\n          suppress = true;\n        }\n        if (keyCode === KEY_UP || keyCode === KEY_DOWN) {\n          // 上下调整位置\n          suppress = true;\n        }\n      }\n      break;\n    default:\n      suppress = false;\n  }\n  return suppress;\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/suppressKeyboardEvent.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/constant.js":
/*!***********************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/constant.js ***!
  \***********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.SERVERCBLISTENER = exports.SELECT_TYPE = exports.LIST_SELECT = exports.ISPINOPEN = exports.GETSUMDATA = exports.EMPTY_PH = exports.CHECKBOX_SELECT = void 0;\nvar ISPINOPEN = exports.ISPINOPEN = 'isPinnedCheckBoxOpen'; // 列表合计行，请求合计数据开关是否打开\nvar GETSUMDATA = exports.GETSUMDATA = 'getSumData'; // 获取合计行合计值\nvar SERVERCBLISTENER = exports.SERVERCBLISTENER = '__cbListener__'; // 后端返回监听\n\nvar SELECT_TYPE = exports.SELECT_TYPE = 'selectType'; // 行选择模式\nvar CHECKBOX_SELECT = exports.CHECKBOX_SELECT = 'checkboxSelect'; // 只能点击勾选框来选中\nvar LIST_SELECT = exports.LIST_SELECT = 'listSelect'; //  // 允许行点击多选（该模式下会修改表格锁定性）\n\nvar EMPTY_PH = exports.EMPTY_PH = ''; // 空白占位符\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/constant.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/gridAppendant/contextMenu.js":
/*!****************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/gridAppendant/contextMenu.js ***!
  \****************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.find.js */ \"../../node_modules/core-js/modules/es.array.find.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = getContextMenuItems;\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.some.js */ \"../../node_modules/core-js/modules/es.array.some.js\");\n__webpack_require__(/*! core-js/modules/es.array.sort.js */ \"../../node_modules/core-js/modules/es.array.sort.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _GridUtils = __webpack_require__(/*! ../GridUtils */ \"./src/component/web/DataGrid/AgDataGrid/GridUtils.js\");\nvar _intlApi = __webpack_require__(/*! ../../../../../i18n/intlApi */ \"./src/i18n/intlApi.js\");\nvar _client = __webpack_require__(/*! @/util/client */ \"./src/util/client.js\");\nvar _appModelFunction = __webpack_require__(/*! @/model/appModelFunction */ \"./src/model/appModelFunction.js\");\nvar _dataService = __webpack_require__(/*! @/component/web/DataGrid/TableHelper/util/dataService.js */ \"./src/component/web/DataGrid/TableHelper/util/dataService.js\");\nvar _switch = __webpack_require__(/*! ../../TableHelper/util/switch */ \"./src/component/web/DataGrid/TableHelper/util/switch.js\");\nvar _symbolConst = __webpack_require__(/*! @/constant/symbolConst */ \"./src/constant/symbolConst.js\");\nvar _GlobalDataCacher = __webpack_require__(/*! @/model/GlobalDataCacher */ \"./src/model/GlobalDataCacher.js\");\nvar _grid = __webpack_require__(/*! @/util/component/grid */ \"./src/util/component/grid.js\");\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; } /**\n * 表格的右键菜单\n * by kechuang\n */\nvar _buriedPointOfContextMenu = function _buriedPointOfContextMenu(context) {\n  return function (methodKey, methodName) {\n    var gridState = context.gridState;\n    var pageId = gridState.pageId,\n      id = gridState.id,\n      gridId = gridState.gridId,\n      type = gridState.type,\n      gridType = gridState.gridType;\n    var controlType = (0, _dataService.getGridTrackingType)({\n      type: type,\n      gridType: gridType\n    });\n    (0, _dataService.buriedPointOfContextMenu)({\n      pageId: pageId,\n      controlId: gridId || id,\n      controlType: controlType,\n      methodKey: methodKey,\n      methodName: methodName\n    });\n  };\n};\nfunction getContextMenuItems(context) {\n  var resetCols = context.resetCols,\n    autoSizeColumns = context.autoSizeColumns;\n  return function (params) {\n    var gridContrlParams = context.gridContrlParams,\n      gridState = context.gridState;\n    var _ref = gridContrlParams || {},\n      suppressCopy = _ref.suppressCopy,\n      autoHeight = _ref.autoHeight,\n      isEntryEntity = _ref.isEntryEntity,\n      isVirtualView = _ref.isVirtualView;\n    var cssClasses = ['kd-cq-context-menu-item'];\n    var contextMenuItems = [\n    // TODO:需要实现复制功能，具体的交互要在想一想\n    {\n      name: (0, _intlApi.getLangMsg)('grid.key0001'),\n      // short cut CTRL+C 其实是调用这个方法，必须要实现\n      action: function action() {\n        doCopy(params);\n        _buriedPointOfContextMenu(context)('copy', (0, _intlApi.getLangMsg)('grid.key0001'));\n      },\n      disabled: suppressCopy,\n      cssClasses: cssClasses\n    }, {\n      name: (0, _intlApi.getLangMsg)('grid.key0002'),\n      action: function action() {\n        clearFilters(params, context);\n        _buriedPointOfContextMenu(context)('clearFilters', (0, _intlApi.getLangMsg)('grid.key0002'));\n      },\n      cssClasses: cssClasses\n    }, {\n      name: (0, _intlApi.getLangMsg)('grid.key0003'),\n      action: function action() {\n        autoSizeColumns({\n          columnByRightKey: params.column,\n          isAllCol: false,\n          ignoreEditStatus: true,\n          source: 'contextMenu'\n        });\n        _buriedPointOfContextMenu(context)('autoSizeColumn', (0, _intlApi.getLangMsg)('grid.key0003'));\n      },\n      disabled: autoHeight,\n      cssClasses: cssClasses\n    }, {\n      name: (0, _intlApi.getLangMsg)('grid.key0004'),\n      action: function action() {\n        autoSizeColumns({\n          ignoreEditStatus: true,\n          source: 'contextMenu'\n        });\n        _buriedPointOfContextMenu(context)('autoSizeAllColumns', (0, _intlApi.getLangMsg)('grid.key0004'));\n      },\n      disabled: autoHeight,\n      cssClasses: cssClasses\n    }, {\n      name: (0, _intlApi.getLangMsg)('grid.key0005'),\n      action: function action() {\n        resetColumns(params, resetCols, context);\n        _buriedPointOfContextMenu(context)('resetColumns', (0, _intlApi.getLangMsg)('grid.key0005'));\n      },\n      cssClasses: cssClasses\n    }];\n\n    // 切换新旧表格\n    var switchTableItem = {\n      name: (0, _intlApi.getLangMsg)('grid.key0041'),\n      action: function action() {\n        return switchToNewTable(_getGridType(context.gridContrlParams));\n      },\n      cssClasses: cssClasses\n    };\n    _isShowSwitchTable(context.gridContrlParams) && contextMenuItems.push(switchTableItem);\n    return contextMenuItems;\n  };\n}\n\n/** *contextItem function */\nvar doCopy = function doCopy(params) {\n  var api = params.api,\n    node = params.node,\n    column = params.column;\n  if (node && node.detail) {\n    document.execCommand('copy');\n    return;\n  }\n  if (column) {\n    var colId = column.colId;\n    var selectCells = api.getCellRanges() || [];\n    var rowIndex = node.rowIndex;\n    if ((selectCells.length === 0 || !isInCellRanges(colId, rowIndex, selectCells)) && api.clipboardService) {\n      // 未选中范围，直接复制焦点单元格\n      // 如果没有选中的单元格或者当前单元格不在选中的单元格里面就直接复制当前单元格的内容\n      api.clipboardService.copyFocusedCellToClipboard(false);\n      return;\n    }\n  }\n  params.api.copySelectedRangeToClipboard(false);\n};\nvar pasteTips = function pasteTips(pageId) {\n  var content = (0, _client.isMac)() ? (0, _intlApi.getLangMsg)('grid.key0039') : (0, _intlApi.getLangMsg)('grid.key0038');\n  var message = [{\n    content: content,\n    duration: 3500,\n    messageKey: Math.random().toString(36).substr(2),\n    timestamp: new Date(),\n    type: 2\n  }];\n  (0, _appModelFunction.setDataMessages)(pageId, message);\n};\n\n/**\n * 判断cell是否在选中单元格（cellRanges）之内\n * @param {*} cell\n * @param {*} cellRanges\n */\nvar isInCellRanges = function isInCellRanges(colId, rowIndex, cellRanges) {\n  var _iterator = _createForOfIteratorHelper(cellRanges),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var cellRange = _step.value;\n      var startRowIndex = cellRange.startRow.rowIndex,\n        endRowIndex = cellRange.endRow.rowIndex,\n        columns = cellRange.columns;\n      var isColumnInRange = columns.some(function (item) {\n        return item.colId === colId;\n      });\n      // rowIndex需要排序（因为endRowIndex可能比startRowIndex小，即从下往上拖的情况）\n      var _sort = [startRowIndex, endRowIndex].sort(function (a, b) {\n          return a > b ? 1 : -1;\n        }),\n        _sort2 = _slicedToArray(_sort, 2),\n        minRowIndex = _sort2[0],\n        maxRowIndex = _sort2[1];\n      if (rowIndex >= minRowIndex && rowIndex <= maxRowIndex && isColumnInRange) return true;\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n};\nfunction getCombinedColFilterInstance(columns, api, filterColId) {\n  var combinedRootColId = '';\n  if (columns) {\n    var combindRootCol = (0, _GridUtils.find)(columns, function (item) {\n      return item.cellRendererParams && item.cellRendererParams.sortAndFilterField === filterColId;\n    });\n    combinedRootColId = combindRootCol && combindRootCol.field;\n  }\n  return api.getFilterInstance(combinedRootColId);\n}\nvar clearFilters = function clearFilters(params, context) {\n  var _context$gridContrlPa = context.gridContrlParams,\n    gridContrlParams = _context$gridContrlPa === void 0 ? {} : _context$gridContrlPa,\n    sortFilterColumn = context.sortFilterColumn,\n    gridState = context.gridState;\n  var isListView = gridContrlParams.isListView,\n    isVirtualView = gridContrlParams.isVirtualView,\n    isSubGrid = gridContrlParams.isSubGrid;\n  var api = params.api;\n  var filterModel;\n  var isServerFilter = isListView && !isSubGrid || isVirtualView || (0, _GridUtils.isEntryWithoutTreeByGridContrlParams)(gridContrlParams) && (0, _grid.isServerFilterModeTablePage)(gridState.pageId);\n  if (isServerFilter) {\n    filterModel = sortFilterColumn.filterColumn || {};\n  } else {\n    filterModel = api.getFilterModel();\n  }\n  Object.keys(filterModel).forEach(function (col) {\n    var filterInstance = api.getFilterInstance(col);\n    if (!filterInstance) {\n      // 只有在合并列表字段中才为空\n      filterInstance = getCombinedColFilterInstance(gridState.columnDefs, api, col);\n    }\n    var component = filterInstance.getFrameworkComponentInstance();\n    component.clearInput();\n  });\n};\nvar resetColumns = function resetColumns(params, resetCols, context) {\n  // const hasGroup = gridState.columnDefs.some(item => {\n  //   return item.children\n  // })\n  // if (hasGroup) { // 列有分组调用setColumnDefs会报错\n  //   const nodes = []\n  //   api.forEachNode((node, index) => {\n  //     nodes.push(node)\n  //   })\n  //   api.refreshHeader()\n  //   api.redrawRows({\n  //     rowNodes: nodes\n  //   })\n  // } else {\n  //   // api.setColumnDefs(gridState.columnDefs)\n  //   clearFilters(params, context)\n  //   resetCols()\n  // }\n  context.api.clearRangeSelection();\n  clearFilters(params, context);\n  resetCols();\n  context.postHeaderTipsAction && context.postHeaderTipsAction();\n};\nfunction switchToNewTable(gridType) {\n  var isUseNewTable = true;\n  (0, _switch.setNewTable)(gridType, isUseNewTable);\n  (0, _GlobalDataCacher.setData)(_symbolConst.KEY_USE_TABLE_CHANGED, {\n    gridType: gridType,\n    isUseNewTable: isUseNewTable\n  });\n}\nfunction _getGridType(gridContrlParams) {\n  var isVirtualView = gridContrlParams.isVirtualView,\n    isListView = gridContrlParams.isListView;\n  var gridType;\n  if (isListView) {\n    gridType = 'VIEWGRID';\n  } else if (isVirtualView) {\n    gridType = 'VIRTUALVIEWGRID';\n  }\n  return gridType;\n}\nfunction _isShowSwitchTable(gridContrlParams) {\n  var isVirtualView = gridContrlParams.isVirtualView,\n    isListView = gridContrlParams.isListView,\n    isEntryEntity = gridContrlParams.isEntryEntity,\n    isSubGrid = gridContrlParams.isSubGrid;\n  return isListView && !isSubGrid || isVirtualView || isEntryEntity;\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/gridAppendant/contextMenu.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/gridAppendant/index.js":
/*!**********************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/gridAppendant/index.js ***!
  \**********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nObject.defineProperty(exports, \"getContextMenuItems\", ({\n  enumerable: true,\n  get: function get() {\n    return _contextMenu[\"default\"];\n  }\n}));\nvar _contextMenu = _interopRequireDefault(__webpack_require__(/*! ./contextMenu */ \"./src/component/web/DataGrid/AgDataGrid/gridAppendant/contextMenu.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/gridAppendant/index.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/gridConfiguration/gridControlParams/buildProps.js":
/*!*************************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/gridConfiguration/gridControlParams/buildProps.js ***!
  \*************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-properties.js */ \"../../node_modules/core-js/modules/es.object.define-properties.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptors.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.buildColDefs = buildColDefs;\nexports.buildProps = buildProps;\nexports.calculateMinHeight = void 0;\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.parse-int.js */ \"../../node_modules/core-js/modules/es.parse-int.js\");\n__webpack_require__(/*! core-js/modules/es.set.js */ \"../../node_modules/core-js/modules/es.set.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nvar _GridUtils = __webpack_require__(/*! ../../GridUtils */ \"./src/component/web/DataGrid/AgDataGrid/GridUtils.js\");\nvar _rowModel = __webpack_require__(/*! ../../rowModel */ \"./src/component/web/DataGrid/AgDataGrid/rowModel/index.js\");\nvar _visibleLock = __webpack_require__(/*! ../../visibleLock */ \"./src/component/web/DataGrid/AgDataGrid/visibleLock/index.js\");\nvar _treeTable = __webpack_require__(/*! ../../treeTable */ \"./src/component/web/DataGrid/AgDataGrid/treeTable/index.js\");\nvar _colDefFactory = _interopRequireDefault(__webpack_require__(/*! ../../columnModel/colDefFactory */ \"./src/component/web/DataGrid/AgDataGrid/columnModel/colDefFactory.js\"));\nvar _gridNoticeTemplate = __webpack_require__(/*! ../gridNoticeTemplate */ \"./src/component/web/DataGrid/AgDataGrid/gridConfiguration/gridNoticeTemplate.js\");\nvar _componentutil = __webpack_require__(/*! ../../../../../../util/componentutil */ \"./src/util/componentutil.js\");\nvar _buildVirtualProps = __webpack_require__(/*! ../virtualGrid/buildVirtualProps */ \"./src/component/web/DataGrid/AgDataGrid/gridConfiguration/virtualGrid/buildVirtualProps.js\");\nvar _intlApi = __webpack_require__(/*! ../../../../../../i18n/intlApi */ \"./src/i18n/intlApi.js\");\nvar _viewModel = __webpack_require__(/*! ../../viewModel */ \"./src/component/web/DataGrid/AgDataGrid/viewModel/index.js\");\nvar _defaultPropsUtil = __webpack_require__(/*! @/util/defaultPropsUtil */ \"./src/util/defaultPropsUtil.js\");\nvar _customProperties = _interopRequireDefault(__webpack_require__(/*! @/constant/customProperties */ \"./src/constant/customProperties.js\"));\nvar _constant = __webpack_require__(/*! ../../constant */ \"./src/component/web/DataGrid/AgDataGrid/constant.js\");\nvar _defineTreeEntry = __webpack_require__(/*! @/component/web/DataGrid/AgDataGrid/treeTable/defineTreeEntry */ \"./src/component/web/DataGrid/AgDataGrid/treeTable/defineTreeEntry.js\");\nvar _mergeUtil = __webpack_require__(/*! ../../util/mergeUtil */ \"./src/component/web/DataGrid/AgDataGrid/util/mergeUtil.js\");\nvar _params = __webpack_require__(/*! @/component/web/DataGrid/TableHelper/util/params */ \"./src/component/web/DataGrid/TableHelper/util/params.js\");\nvar _const = __webpack_require__(/*! @/constant/const */ \"./src/constant/const.js\");\nvar _gridConst = __webpack_require__(/*! @/constant/gridConst */ \"./src/constant/gridConst.js\");\nvar _memoryCacher = __webpack_require__(/*! @/model/memoryCacher */ \"./src/model/memoryCacher.js\");\nvar _symbolConst = __webpack_require__(/*! @/constant/symbolConst */ \"./src/constant/symbolConst.js\");\nvar _GlobalDataCacher = __webpack_require__(/*! @/model/GlobalDataCacher */ \"./src/model/GlobalDataCacher.js\");\nvar _array = __webpack_require__(/*! @/component/web/DataGrid/TableHelper/util/array.js */ \"./src/component/web/DataGrid/TableHelper/util/array.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); } /**\n * 构建表格实例自己维护的参数\n * gridContrlParams  gridState\n * by kechuang\n */\n/**\n *\n * @param {*} props\n * @param {*} context 表格实例的this\n */\nfunction buildProps(props, context, orherParams) {\n  var _getData, _getData2, _getData3, _meta$get;\n  var _ref = orherParams || {},\n    _ref$isBuildColDefs = _ref.isBuildColDefs,\n    isBuildColDefs = _ref$isBuildColDefs === void 0 ? true : _ref$isBuildColDefs;\n  var gridOptions = context.gridOptions,\n    gridState = context.gridState,\n    gridContrlParams = context.gridContrlParams;\n  var model = props.model;\n  var meta = model.meta;\n  var advModel = props.parentModel ? props.parentModel : props.model;\n  var advMeta = advModel.meta;\n  var config = model.getFormConfigWithoutMeta() || {};\n  var gridId = advMeta.get('id'); // 高级表格的id\n  var ctrKey = meta.get('id');\n  var rowKey = advMeta.get('rk');\n  var seq = advMeta.get('seq');\n  var pageId = model.pageId;\n  var localeId = model.getUserLocale() || 'zh_CN';\n  var defaultLocalId = model.getDefaultLang();\n  var gridType = meta.get('gridtype');\n  // 构造gridState\n  Object.assign(gridState, {\n    pageId: pageId,\n    styles: getGridStyleSetting(props, gridState),\n    id: ctrKey,\n    // 控件id\n    gridId: gridId,\n    // 高级表格id\n    rk: rowKey,\n    seq: seq,\n    config: config,\n    localeId: localeId,\n    defaultLocalId: defaultLocalId,\n    type: meta.get('type'),\n    gridType: gridType\n  });\n  var isListView = gridType === 'VIEWGRID' || advMeta.get('gridtype') === 'VIEWGRID';\n  var isVirtualView = gridType === 'VIRTUALVIEWGRID' || advMeta.get('gridtype') === 'VIRTUALVIEWGRID';\n  var selectType = meta.get(_constant.SELECT_TYPE); // 行选中模式\n  var suppressEntryRowClickSelect = selectType === _constant.CHECKBOX_SELECT; // 只能点击勾选框来选中\n  var entryRowClickMultiSelect = selectType === _constant.LIST_SELECT; // 允许行点击多选（该模式下会修改表格锁定性）\n\n  var enabledChangePageInFakeCount = advMeta.get('enabledChangePage', false); // 大数据获取真实条数时，是否允许上下翻页\n  var suppressSelectAllRows = advMeta.get('suppressSelectAllRows', false); // 禁止选择全部按钮\n  var suppressSelectAll = advMeta.get('suppressSelectAll', false); // 禁止选择列表头全选\n  var sumWithFilter = advMeta.get('sumWithFilter'); // 单据体是否开启过滤合计（不分页情况下才有）\n  var showEditMark = (0, _params.isShowEditMark)(model);\n  var enterToNextRow = (_getData = (0, _GlobalDataCacher.getData)(_symbolConst.KEY_ADVANCE_SHORTCUT_INFO)) === null || _getData === void 0 ? void 0 : _getData.enterToNextFieldInEntry; // enter切换下一行\n  var supportEnterShortcut = ((_getData2 = (0, _GlobalDataCacher.getData)(_symbolConst.KEY_ADVANCE_SHORTCUT_INFO)) === null || _getData2 === void 0 ? void 0 : _getData2.enterToNextField) && !enterToNextRow; // 回车切换下一个字段\n  var autoAddRow = (_getData3 = (0, _GlobalDataCacher.getData)(_symbolConst.KEY_ADVANCE_SHORTCUT_INFO)) === null || _getData3 === void 0 ? void 0 : _getData3.autoAddRowInEntry; // 自动增行\n  var isEntryEntity = !isListView && !isVirtualView;\n  var gridEditable = (0, _visibleLock.isEditable)(props) && !entryRowClickMultiSelect; // 单据体列表选择模式直接锁定\n  var hasSettingBtn = meta.get('showGridConfig');\n  var hasSelectCol = isListView ? meta.get('selcheckbox') !== false : advMeta.get('selchexkbox'); // 显示选择列,列表不禁止就是显示\n  var autoHeight = meta.get('arh', false); // 表格行高自适应 autoRowHeight = arh\n\n  if (isListView) {\n    gridOptions.suppressNoRowsOverlay = false;\n    gridOptions.suppressRowClickSelection = true;\n    gridOptions.rowHeight = 40;\n  }\n  if (isVirtualView) {\n    gridOptions = (0, _buildVirtualProps.buildVirtualFixedProps)(gridOptions, autoHeight, meta);\n    gridOptions.rowMultiSelectWithClick = !!hasSelectCol; // 支持点击多选行（有选择列的报表才支持多行点击）\n  }\n  if (isEntryEntity && entryRowClickMultiSelect) {\n    gridOptions.rowMultiSelectWithClick = true; // 支持点击多选行\n  }\n  if (suppressEntryRowClickSelect) {\n    gridOptions.suppressRowClickSelection = true; // 单据体不依赖ag选中\n  }\n  // 是否多选\n  var isMulSelect = (0, _GridUtils.getValue)(advMeta, 'ismul', true);\n  gridOptions.rowSelection = isMulSelect === true ? 'multiple' : 'single';\n  // 获取行高和表头高度\n  setRowHeightAndHeadHeight(model, gridOptions);\n  var maxRowHeight = getMaxRowHeight(meta, gridOptions.rowHeight);\n\n  // 行样式规则\n  context.rowStyleRules = getRowStyleRules(model, config); // 行样式规则\n  var hasOperateIcon = meta.get('hasOperateIcon') || false;\n  // 页数和合计值查询类型 SqlQuery需要前端异步去请求数据\n  var isSqlQuery = (0, _GridUtils.getValue)(advMeta, 'queryType', false);\n  // 是否是索引模式，F7且isIndexMode为true时显示分页条数\n  var isIndexMode = (0, _GridUtils.getValue)(advMeta, 'isindexmode', false);\n  var suppressCopy = meta.get('scp', false); // 禁止复制功能\n  var postRangeSelection = meta.get('prs', false); // 是否发送范围选中信息到后端\n  var autoGetAggregateData = meta.get('autoGetAggData'); // 后端要求：自动获取合计\n  var hasSummaryFields = (0, _GridUtils.getValue)(advMeta, 'hsf');\n  var treeExpandColId = meta.get('teci'); // 树形表格指定列展开\n  var showTreeSeq = meta.get('showTreeSeq'); // 树形单据体显示树形序号\n  var mergeColumns = ((_meta$get = meta.get('mergeColumns')) === null || _meta$get === void 0 ? void 0 : _meta$get.toJS()) || [];\n  var isLimitHeight = !(0, _memoryCacher.getPageData)(pageId, [_const.SPLIT_SCREEN_CANCEL_TABLE_LIMIT_HEIGHT, ctrKey]);\n  // 报表多选情况下才显示选择全部按钮\n  var hasSelectAllRow = isVirtualView && advMeta.get('selallrow') && isMulSelect && hasSelectCol;\n  var asyncAggreate = isVirtualView && meta.get('asyncTotal'); // 报表异步合计\n  var isShowVirtualViewRowCount = isVirtualView && meta.get('showRowCount') !== false;\n\n  // 是否开启框选合计\n  var isCellRangesSum = meta.get('isCellSum') === true;\n\n  // 是否开启标题换行\n  var isTitleAutoHeight = meta.get('taw') === true;\n  // 构造gridContrlParams\n  gridContrlParams = Object.assign(gridContrlParams, {\n    isListView: isListView,\n    isVirtualView: isVirtualView,\n    isEntryEntity: isEntryEntity,\n    isAlternatelyRowsStyle: (0, _params.isGridStriped)(model, props.bordered),\n    hasGroupColumn: false,\n    showSelectionItem: hasSelectCol,\n    gridEditable: gridEditable,\n    nextFocusCell: {},\n    aggregateColumns: [],\n    fireRowHeightCols: [],\n    percentCols: [],\n    // 百分比宽度的列\n    widthSettedCols: new Set(),\n    // 设置了宽度的列\n    isufColumns: new Set(),\n    // 格式化值的列\n    hideNavigation: (0, _GridUtils.getValue)(meta, 'phide', false),\n    // 是否隐藏导航条，注意这里只取了元数据的，业务数据可能也会有\n    defaultRows: (0, _GridUtils.getValue)(meta, 'defaultrows', _GridUtils.DEFAULTROWCOUNT),\n    operations: (0, _GridUtils.getValue)(meta, 'operations', null),\n    heightLimit: (0, _GridUtils.getValue)(meta, 'heightLimit', isLimitHeight),\n    // 是否限制高度，默认限制\n    colDefsGUID: (0, _GridUtils.getValue)(meta, 'colDefsGUID', ''),\n    rowDetailType: getRowDetailType(meta, advMeta),\n    // 获取行展开面板的类型  bill entry null\n    sortFilterColumn: {},\n    // sortColumn:{columnId: sortState},filterColumn{columnId: filterValue}\n    // rowDetailType:'entry'\n    hasOperateIcon: hasOperateIcon,\n    // 鼠标滑过是否显示操作按钮\n    hasSettingBtn: hasSettingBtn,\n    // 设置列按钮\n    hasSelectAllRow: hasSelectAllRow,\n    // 报表选择全部按钮\n    isSqlQuery: isSqlQuery,\n    isIndexMode: isIndexMode,\n    // autoHeightCols: [], // 自动行高列\n    autoHeight: autoHeight,\n    maxRowHeight: maxRowHeight,\n    suppressCopy: suppressCopy,\n    postRangeSelection: postRangeSelection,\n    viewParams: [],\n    suppressEntryRowClickSelect: suppressEntryRowClickSelect,\n    // 静止单据体行点击选中功能\n    entryRowClickMultiSelect: entryRowClickMultiSelect,\n    // 单据体点击行多选\n    sumWithFilter: sumWithFilter,\n    // 单据体过滤合计\n    enabledChangePageInFakeCount: enabledChangePageInFakeCount,\n    suppressSelectAll: suppressSelectAll,\n    suppressSelectAllRows: suppressSelectAllRows,\n    columnResizeMode: (0, _params.getColumnResizeMode)(model, gridType),\n    autoGetAggregateData: autoGetAggregateData,\n    hasSummaryFields: hasSummaryFields,\n    autoAddRow: autoAddRow,\n    showEditMark: showEditMark,\n    enterToNextRow: enterToNextRow,\n    supportEnterShortcut: supportEnterShortcut,\n    treeExpandColId: treeExpandColId,\n    maxLevel: 1,\n    mergeColumns: mergeColumns,\n    verticalBordered: (0, _params.isVerticalBordered)(model, gridType),\n    pageType: (0, _params.getPageType)(model),\n    showTreeSeq: showTreeSeq,\n    fseqName: (0, _params.getfseqName)(model),\n    asyncAggreate: asyncAggreate,\n    isCellRangesSum: isCellRangesSum,\n    isShowVirtualViewRowCount: isShowVirtualViewRowCount,\n    isTitleAutoHeight: isTitleAutoHeight\n  });\n\n  // 定义树形单据体\n  // defineTreeEntry(meta, gridOptions, gridContrlParams)\n  (0, _defineTreeEntry.defineTreeEntryOptions)(meta, gridOptions, gridContrlParams, rowKey);\n\n  // 定义树形报表\n  (0, _treeTable.defineTreeVirtualView)(meta, gridOptions, gridContrlParams, rowKey);\n\n  // 处理行融合,现在列表有多实体就会融合，mergerow这个属性用来控制选择列是否融合（后端模型意义）\n  gridContrlParams.suppressMergeSelection = meta.get('mergerow') === false || advMeta.get('mergerow') === false;\n  if (isNeedMerge(meta, advMeta, gridContrlParams, gridOptions)) {\n    // 此处要在ColDefFactory前\n    gridContrlParams.autoHeight = false; // 融合列表暂不支持行高自适应\n    gridOptions.suppressRowTransform = true; // 禁止CSS Transform\n    gridContrlParams.rowMergeCellVerticalAlign = (0, _params.getRowMergeCellVerticalAlign)(model);\n    gridOptions.rowBuffer = 0;\n    gridContrlParams.mergeModel = new _rowModel.EntityMergeModel((0, _GridUtils.getValue)(meta, 'entryentities', []));\n  } else {\n    gridContrlParams.mergeModel = null;\n  }\n\n  // 行展开面板\n  var args = getExposedParams(props, context);\n  if (gridContrlParams.rowDetailType) {\n    (0, _rowModel.buildRowDetailsProps)(props, meta, args);\n  }\n\n  // 构建其他视图\n  if (!isListView && !isVirtualView) {\n    (0, _viewModel.buildViewProps)(meta, gridContrlParams, args);\n  }\n  if (isBuildColDefs) {\n    var prevColumns = gridState.columnDefs || [];\n    // 重刷列定义前，先清掉先前被握住的过滤控件\n    if (gridContrlParams.isVirtualView) {\n      destroyColumnsFilter({\n        columns: prevColumns,\n        api: context.api\n      });\n    }\n    buildColDefs(props, context, args);\n  } else {\n    setGridMinHeight(context);\n  }\n  if (!autoHeight && gridOptions.rowModelType !== 'serverSide') {\n    // 自适应行高&服务器端数据模式下和maxBlocksInCache冲突,后面如果需要设置不同行高再来修改\n    gridOptions.getRowHeight = (0, _rowModel.getRowHeight)(context);\n  }\n}\nfunction destroyColumnsFilter(_ref2) {\n  var columns = _ref2.columns,\n    api = _ref2.api;\n  var processFn = function processFn(col) {\n    var _api$destroyFilter;\n    var colId = col.colId;\n    api && ((_api$destroyFilter = api.destroyFilter) === null || _api$destroyFilter === void 0 ? void 0 : _api$destroyFilter.call(api, colId));\n  };\n  (0, _array.iterateColumns)(columns, processFn);\n}\nfunction setGridMinHeight(context) {\n  var gridContrlParams = context.gridContrlParams,\n    gridOptions = context.gridOptions,\n    gridState = context.gridState,\n    hasNavigation = context.hasNavigation,\n    getNavigationDefaultHeight = context.getNavigationDefaultHeight;\n  var pinnedRows = 0; // 计算最小高度是不考虑合计行（因为没有数据时不用加上合计行高度）\n  // 计算表格的最小高度\n  var minHeight = calculateMinHeight(pinnedRows, gridState, gridOptions, gridContrlParams, hasNavigation, getNavigationDefaultHeight);\n\n  // 最终需要保存在gridState 这里直接使用gridState有概率会触发bug: minHeight仅只读，怀疑跟forceUpdate调用有关\n  gridState.styles = _objectSpread(_objectSpread({}, gridState.styles), {}, {\n    minHeight: minHeight\n  });\n}\nfunction setGridOverlay(context) {\n  var gridContrlParams = context.gridContrlParams,\n    gridOptions = context.gridOptions;\n  var pinnedRows = gridContrlParams.aggregateColumns.length > 0 ? 1 : 0;\n  // 空行提示\n  gridOptions.overlayNoRowsTemplate = (0, _gridNoticeTemplate.setNoRowsInterface)(gridOptions, gridContrlParams.maxLevel, (0, _intlApi.getLangMsg)({\n    key: 'cardview.key0002'\n  }), pinnedRows, gridContrlParams.isEntryEntity);\n  gridOptions.overlayLoadingTemplate = (0, _gridNoticeTemplate.setLoadingInterface)();\n}\n\n// 构造列定义，单独提出来,有些场景只需要重新生成列定义，而不需要重新生成整个表格参数（列锁定，表头）\nfunction buildColDefs(props, context, params) {\n  var gridContrlParams = context.gridContrlParams,\n    gridState = context.gridState,\n    gridOptions = context.gridOptions;\n  var args = params || getExposedParams(props, context);\n  var meta = props.model.meta;\n  // 构造列定义\n  var columnDefs = (0, _colDefFactory[\"default\"])(args);\n  // 处理行融合的列分组边界线\n  if (gridContrlParams.mergeModel) {\n    gridContrlParams.mergeModel.findBorderCols(columnDefs);\n  }\n  if (gridContrlParams.mergeColumns.length > 0) {\n    context.rightBorderMergeCols = (0, _mergeUtil.getRightBorderMergeCols)(columnDefs, gridContrlParams.mergeColumns);\n  }\n  setGridMinHeight(context);\n  setGridOverlay(context);\n\n  // if (gridContrlParams.displayColCount <= 16) {\n  //   gridOptions.suppressColumnVirtualisation = true\n  // }\n  // 标题高度自适应场景禁用虚加载，解决虚加载时，高度塌陷问题\n  if (gridContrlParams.isTitleAutoHeight) {\n    gridOptions.suppressColumnVirtualisation = true;\n  }\n  gridState.columnDefs = columnDefs;\n  gridState.colDefsGUID = (0, _GridUtils.getValue)(meta, 'colDefsGUID', ''); //* *注意此处是其自身元数据**\n}\n\n// utils function\nfunction setRowHeightAndHeadHeight(model, gridOptions) {\n  gridOptions.rowHeight = (0, _params.getRowHeight)(model);\n  gridOptions.headerHeight = (0, _params.getHeaderHeight)(model);\n}\nfunction getMaxRowHeight(meta, rowHeight) {\n  var maxRowHeight = meta.get('mrh');\n  var maxRowHeightNum = parseInt(maxRowHeight);\n  // 1.未设置时直接返回，2.最大行高不能小于默认行高\n  return isNaN(maxRowHeightNum) ? maxRowHeight : maxRowHeightNum < rowHeight ? rowHeight + 'px' : maxRowHeight;\n}\nvar getRowStyleRules = function getRowStyleRules(model, config) {\n  var rules = model.getMetaProperty('rowStyleRules');\n  if (rules) {\n    return (0, _rowModel.buildRowStyleRules)(rules.toJS(), config);\n  } else {\n    return [];\n  }\n};\nvar getGridStyleSetting = function getGridStyleSetting(props, gridState) {\n  var model = props.model,\n    gridStyle = props.gridStyle;\n  // state内对象不应直接传给其它函数使用。\n  var style = Object.assign({}, gridStyle, (0, _componentutil.getVisibleStyle)(gridState.styles, (0, _componentutil.getVisible)(model)));\n  if (style.width == 'px') delete style.width;\n  if (style.height == 'px') delete style.height;\n  return style;\n};\nvar calculateMinHeight = exports.calculateMinHeight = function calculateMinHeight(pinnedRows, state, gridOptions, gridContrlParams, hasNavigation, getNavigationDefaultHeight) {\n  if (state.styles.height) return state.styles.height;\n  var minHeight = 190;\n  var maxLevel = gridContrlParams.maxLevel;\n  var defaultRows = gridContrlParams.defaultRows;\n  if (defaultRows > 10) {\n    defaultRows = 10;\n  } else if (defaultRows < _GridUtils.DEFAULTROWCOUNT) {\n    defaultRows = _GridUtils.DEFAULTROWCOUNT;\n  }\n  minHeight = gridOptions.rowHeight * defaultRows + pinnedRows * gridOptions.rowHeight + gridOptions.headerHeight * maxLevel; // 8H scroll\n  // 最小高度不考虑滚动条（后续计算高度expandheight会计算）\n  if (!gridContrlParams.hasVocherAmtCol) {\n    minHeight = minHeight + _GridUtils.SCROLLBARWIDTH;\n  }\n  if (hasNavigation()) {\n    minHeight += getNavigationDefaultHeight(); // 工具栏高度\n  }\n  return minHeight + 'px';\n};\n\n// 获取表格对象暴露到下层组件的参数\nvar getExposedParams = function getExposedParams(props, context) {\n  var gridContrlParams = context.gridContrlParams,\n    gridOptions = context.gridOptions,\n    gridState = context.gridState,\n    dataDesc = context.dataDesc,\n    getCellActions = context.getCellActions,\n    getViewportSize = context.getViewportSize,\n    rowStyleRules = context.rowStyleRules,\n    encodeKeys = context.encodeKeys;\n  var pageId = gridState.pageId,\n    seq = gridState.seq,\n    config = gridState.config,\n    id = gridState.id,\n    gridId = gridState.gridId,\n    localeId = gridState.localeId,\n    rk = gridState.rk,\n    defaultLocalId = gridState.defaultLocalId;\n  var meta = props.model.meta;\n  var args = {\n    pid: pageId,\n    id: id,\n    gridId: gridId,\n    seq: seq,\n    config: config,\n    rowKey: rk,\n    localeId: localeId,\n    defaultLocalId: defaultLocalId,\n    cols: (0, _GridUtils.getValue)(meta, 'columns', []),\n    dataDesc: dataDesc,\n    // 注意：这个是初始对象,取行数据时会更新，目前主要用来取dataindex，后台应初始时与数据包中dataindex必须一致，否则会出问题\n    gridContrlParams: gridContrlParams,\n    getVirtualGridMergeRowSpan: function getVirtualGridMergeRowSpan() {\n      return context.virtualGridMergeRowSpan;\n    },\n    getrightBorderMergeCols: function getrightBorderMergeCols() {\n      return context.rightBorderMergeCols;\n    },\n    getViewportSize: getViewportSize,\n    gridOptions: gridOptions,\n    keyFieldId: props.keyFieldId,\n    actions: getCellActions(props),\n    rowStyleRules: rowStyleRules,\n    // 行样式规则\n    encodeKeys: encodeKeys\n  };\n  return args;\n};\n\n/**\n * 根据实体判断是否需要融合\n * 1.多选\n * 2.列表\n * 3.没有行展开面板\n * 4.有多实体\n * TODO:以后如果有问题需要改成判断实体的层级关系\n * @param {*} meta\n * @param {*} advMeta\n */\nvar isNeedMerge = function isNeedMerge(meta, advMeta, gridContrlParams, gridOptions) {\n  var isListView = gridContrlParams.isListView,\n    rowDetailType = gridContrlParams.rowDetailType;\n  // if (!isListView || rowDetailType || gridOptions.rowSelection !== 'multiple') return false\n  if (!isListView || rowDetailType) return false;\n  var entities = advMeta.get('entryentities') || meta.get('entryentities');\n  if (entities && entities.size > 1) {\n    return true;\n  } else {\n    return false;\n  }\n};\n\n/**\n * 判断是否有行展开面板\n * @param {*} meta\n */\nvar getRowDetailType = function getRowDetailType(meta, advMeta) {\n  var formDetailId = meta.get('formDetailId');\n  var detailEntry = meta.get('detailentry');\n  var entities = advMeta.get('entryentities') || meta.get('entryentities');\n  if (formDetailId != null && formDetailId !== '') return 'bill'; // 表单的优先级更高\n  if (detailEntry && entities && entities.size > 1) return 'entry';\n  return null;\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/gridConfiguration/gridControlParams/buildProps.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/gridConfiguration/gridControlParams/cellAction.js":
/*!*************************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/gridConfiguration/gridControlParams/cellAction.js ***!
  \*************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.getGridCellActions = getGridCellActions;\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n/**\n * 在构建表格参数时\n * 提供给表格单元格的接口\n * by kechuang\n */\n\nfunction getGridCellActions(props, context) {\n  /**\n  * 当前语言取不到取默认语言\n  * @param {*} value\n  * @param {*} localLang\n  * @param {*} defaultLang\n  */\n  var getLangResult = function getLangResult(value) {\n    var model = context.getLastestGridModel && context.getLastestGridModel();\n    if (model && _lodash[\"default\"].isObject(value)) {\n      var localLang = model.getUserLocale() || 'zh_CN';\n      var defaultLang = model.getDefaultLang() || 'zh_CN';\n      var result = value.get ? value.get(localLang) : value[localLang];\n      if (_lodash[\"default\"].isEmpty(result)) {\n        result = value.get ? value.get(defaultLang) : value[defaultLang];\n      }\n      return result;\n    } else {\n      return value;\n    }\n  };\n  var getColumnEntityKey = function getColumnEntityKey(colId) {\n    var api = context.api,\n      gridOptions = context.gridOptions,\n      gridContrlParams = context.gridContrlParams;\n    // 仅列表的列有不同的实体\n    if (gridContrlParams.isListView) {\n      var _gridOptions$api;\n      var columnDef = api ? api.getColumnDef(colId) : gridOptions === null || gridOptions === void 0 || (_gridOptions$api = gridOptions.api) === null || _gridOptions$api === void 0 ? void 0 : _gridOptions$api.getColumnDef(colId);\n      return columnDef === null || columnDef === void 0 ? void 0 : columnDef.cellRendererParams.entity;\n    }\n    return null;\n  };\n  return {\n    getLangResult: getLangResult,\n    getColumnEntityKey: getColumnEntityKey\n  };\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/gridConfiguration/gridControlParams/cellAction.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/gridConfiguration/gridNoticeTemplate.js":
/*!***************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/gridConfiguration/gridNoticeTemplate.js ***!
  \***************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.setLoadingInterface = setLoadingInterface;\nexports.setNoRowsInterface = setNoRowsInterface;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\nvar _CellClass = _interopRequireDefault(__webpack_require__(/*! ../CellClass.less */ \"./src/component/web/DataGrid/AgDataGrid/CellClass.less\"));\nvar _defaultPropsUtil = __webpack_require__(/*! @/util/defaultPropsUtil */ \"./src/util/defaultPropsUtil.js\");\nvar _emotionalConst = __webpack_require__(/*! @/constant/emotionalConst */ \"./src/constant/emotionalConst.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n/**\n * 表格的空行提示及loading提示html模板\n * by kechuang\n */\n\n// 表头和合计行需要特殊处理\nfunction setNoRowsInterface(gridOptions, maxLevel, msg, pinnedRows, isEntryEntity) {\n  // 获取情感化图片设置\n  var _getCommonEmotionalIn = (0, _defaultPropsUtil.getCommonEmotionalInfo)(_emotionalConst.EMOTIONAL_TYPE_NO_DATA),\n    imagePath = _getCommonEmotionalIn.imagePath,\n    description = _getCommonEmotionalIn.description;\n  // 动态生成image样式\n  var topM = gridOptions.headerHeight * maxLevel;\n  var imgStyle = imagePath ? \"background-image: url(\".concat(imagePath, \")\") : '';\n  var imgP = \"<div class=\\\"gird-nodata-placeholder \".concat(_CellClass[\"default\"].imgP, \" \").concat(isEntryEntity ? _CellClass[\"default\"].entryImgBox : '', \"\\\" style=\\\"padding-top:\").concat(topM, \"px\\\">\\n    <div class=\\\"\").concat(_CellClass[\"default\"].imgItem, \"\\\" style=\\\"\").concat(imgStyle, \"\\\"></div><div class=\\\"\").concat(_CellClass[\"default\"].textItem, \"\\\">\").concat(description || msg, \"</div>\\n  </div>\");\n  return \"<div class=\".concat(_CellClass[\"default\"].nodata_overlay, \" style=\\\"\\\">\\n        \").concat(imgP, \"\\n        </div>\");\n}\nfunction setLoadingInterface() {\n  return \"\\n    <div class=\".concat(_CellClass[\"default\"].loading_overlay, \">\\n      <div class=\").concat(_CellClass[\"default\"].container1, \">\\n        <div class=\").concat(_CellClass[\"default\"].circle11, \"></div>\\n        <div class=\").concat(_CellClass[\"default\"].circle12, \"></div>\\n        <div class=\").concat(_CellClass[\"default\"].circle13, \"></div>\\n        <div class=\").concat(_CellClass[\"default\"].circle14, \"></div>\\n      </div>\\n      <div class=\").concat(_CellClass[\"default\"].container2, \">\\n        <div class=\").concat(_CellClass[\"default\"].circle21, \"></div>\\n        <div class=\").concat(_CellClass[\"default\"].circle22, \"></div>\\n        <div class=\").concat(_CellClass[\"default\"].circle23, \"></div>\\n        <div class=\").concat(_CellClass[\"default\"].circle24, \"></div>\\n      </div>\\n      <div class=\").concat(_CellClass[\"default\"].container3, \">\\n        <div class=\").concat(_CellClass[\"default\"].circle31, \"></div>\\n        <div class=\").concat(_CellClass[\"default\"].circle32, \"></div>\\n        <div class=\").concat(_CellClass[\"default\"].circle33, \"></div>\\n        <div class=\").concat(_CellClass[\"default\"].circle34, \"></div>\\n      </div>\\n    </div>\\n    \");\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/gridConfiguration/gridNoticeTemplate.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/gridConfiguration/gridOptions/buildGridOptions.js":
/*!*************************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/gridConfiguration/gridOptions/buildGridOptions.js ***!
  \*************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = buildGridOptions;\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\nvar _defaultOptions = _interopRequireDefault(__webpack_require__(/*! ./defaultOptions */ \"./src/component/web/DataGrid/AgDataGrid/gridConfiguration/gridOptions/defaultOptions.js\"));\nvar _rowModel = __webpack_require__(/*! ../../rowModel */ \"./src/component/web/DataGrid/AgDataGrid/rowModel/index.js\");\nvar _gridAppendant = __webpack_require__(/*! ../../gridAppendant */ \"./src/component/web/DataGrid/AgDataGrid/gridAppendant/index.js\");\nvar _clipboardFormat = _interopRequireDefault(__webpack_require__(/*! ./clipboardFormat */ \"./src/component/web/DataGrid/AgDataGrid/gridConfiguration/gridOptions/clipboardFormat.js\"));\nvar _cellChange = __webpack_require__(/*! ./cellChange */ \"./src/component/web/DataGrid/AgDataGrid/gridConfiguration/gridOptions/cellChange.js\");\nvar _customPaste = __webpack_require__(/*! ./customPaste */ \"./src/component/web/DataGrid/AgDataGrid/gridConfiguration/gridOptions/customPaste.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n/**\n * 构建aggrid需要的表格配置参数对象--gridOptions\n * by kechuang\n */\n\n// 是否粘贴中 （用于判断cellChange是否是粘贴触发的）\nvar isPaste = false;\n\n// context就是组件的this\nfunction buildGridOptions(context) {\n  var gridOptions = {};\n  var gridState = context.gridState;\n  Object.assign(gridOptions, (0, _defaultOptions[\"default\"])(), {\n    // getRowHeight: getRowHeight(context), // autoRowHeight跟这里冲突\n    getRowStyle: (0, _rowModel.getRowStyle)(context),\n    rowClassRules: (0, _rowModel.getRowClassRules)(context),\n    getRowNodeId: function getRowNodeId(item) {\n      return item[gridState.rk].toString();\n    },\n    processCellForClipboard: function processCellForClipboard(param) {\n      return (0, _clipboardFormat[\"default\"])(param, context);\n    },\n    isRowSelectable: function isRowSelectable(rowNode) {\n      var _rowNode$data, _rowNode$data2;\n      return !((_rowNode$data = rowNode.data) !== null && _rowNode$data !== void 0 && _rowNode$data.isEmptyChildRow) && !((_rowNode$data2 = rowNode.data) !== null && _rowNode$data2 !== void 0 && (_rowNode$data2 = _rowNode$data2.cprop) !== null && _rowNode$data2 !== void 0 && _rowNode$data2.disabled); // 1.树形单据体懒加载手动添加的无用行不可选中,通过数据disabled禁止选中的行不可选中\n    },\n    processDataFromClipboard: (0, _customPaste.customPaste)(context),\n    // TODO:自定义右键菜单\n    getContextMenuItems: (0, _gridAppendant.getContextMenuItems)(context),\n    onPasteStart: function onPasteStart() {\n      isPaste = true;\n    },\n    onCellValueChanged: function onCellValueChanged(e) {\n      // 监听单元格值改变（这里用于处理粘贴事件）\n      (0, _cellChange.handleCellChange)(e, context, isPaste, resetIsPaste);\n    },\n    onPasteEnd: function onPasteEnd() {\n      isPaste = false;\n    }\n  });\n  return gridOptions;\n}\n\n/**\n * 重置粘贴状态\n */\nvar resetIsPaste = function resetIsPaste() {\n  isPaste = false;\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/gridConfiguration/gridOptions/buildGridOptions.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/gridConfiguration/gridOptions/cellChange.js":
/*!*******************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/gridConfiguration/gridOptions/cellChange.js ***!
  \*******************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.handleCellChange = exports.getSelectedValue = void 0;\n__webpack_require__(/*! core-js/modules/es.array.every.js */ \"../../node_modules/core-js/modules/es.array.every.js\");\n__webpack_require__(/*! core-js/modules/es.array.find.js */ \"../../node_modules/core-js/modules/es.array.find.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.join.js */ \"../../node_modules/core-js/modules/es.array.join.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.array.some.js */ \"../../node_modules/core-js/modules/es.array.some.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.set.js */ \"../../node_modules/core-js/modules/es.set.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.string.trim.js */ \"../../node_modules/core-js/modules/es.string.trim.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.timers.js */ \"../../node_modules/core-js/modules/web.timers.js\");\nvar _memoryCacher = __webpack_require__(/*! @/model/memoryCacher */ \"./src/model/memoryCacher.js\");\nvar _ajaxState = __webpack_require__(/*! @/api/ajaxState */ \"./src/api/ajaxState.js\");\nvar proxy = _interopRequireWildcard(__webpack_require__(/*! @/proxy/formproxy */ \"./src/proxy/formproxy.js\"));\nvar _serverproperties = __webpack_require__(/*! ../../../../../../constant/serverproperties */ \"./src/constant/serverproperties.js\");\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nvar baseDataList = ['org', 'basedata', 'mulbasedata', 'city'];\n\n/**\n * 处理粘贴(ctrl + v)触发的cellChange\n * @param {*} e\n * @param {*} context\n * @param {*} isPaste\n */\nvar handleCellChange = exports.handleCellChange = function handleCellChange(e, context, isPaste, resetIsPaste) {\n  var newValue = e.newValue;\n  var rk = e.data.rk,\n    colDef = e.colDef,\n    colId = e.column.colId,\n    node = e.node,\n    oldValue = e.oldValue;\n  var gridState = context.gridState,\n    dataDesc = context.dataDesc,\n    _context$props = context.props,\n    invokeControlMethodOnly = _context$props.invokeControlMethodOnly,\n    cellChange = _context$props.cellChange;\n  var pageId = gridState.pageId,\n    gridId = gridState.gridId;\n  var type = colDef.cellEditorParams.type;\n  if (isPaste) {\n    var isLock = context.getCellIsLock(rk, colDef); // 这里只判断单元格锁定性，列锁定ag会自动禁止粘贴\n    // 处理锁定的单元格\n    if (isLock) {\n      setTimeout(function () {\n        // 重置数据前先重置isPaste\n        // 1.timeout会在由粘贴引起的cellChange全部执行完在执行\n        // 2. 当整行粘贴报错时ag不会触发pasteEnd去重置isPaste, 需要手动重置\n        resetIsPaste();\n        node.setDataValue(colId, oldValue); // 基础资料粘贴后要先重置（重置时候触发的cellChange会在pasteEnd之后）\n      });\n      return;\n    }\n\n    // 设置已编辑\n    (0, _memoryCacher.setGridEditedStatusCell)(pageId, gridId, colId, e.rowIndex);\n\n    // 处理基础资料类型\n    if (baseDataList.indexOf(type) !== -1) {\n      var _model = {\n        pageId: pageId,\n        entryKey: gridId,\n        key: colId\n      };\n      var requestKey = (0, _ajaxState.makeAjaxKey)(_model.pageId, _model.key, 'setItemByNumber');\n      proxy.disableDisposeAction(requestKey);\n      invokeControlMethodOnly(_model, 'setItemByNumber', [newValue, rk]);\n      proxy.allowDisposeAction(requestKey);\n      setTimeout(function () {\n        // 重置数据前先重置isPaste\n        // 1.timeout会在由粘贴引起的cellChange全部执行完在执行\n        // 2. 当整行粘贴报错时ag不会触发pasteEnd去重置isPaste, 需要手动重置\n        resetIsPaste();\n        node.setDataValue(colId, oldValue); // 基础资料粘贴后要先重置（重置时候触发的cellChange会在pasteEnd之后）\n      });\n      return;\n    }\n\n    // 处理下拉类型(下拉类型不允许粘贴)\n    if (type === _serverproperties.Ctrls.KDSelect || type === _serverproperties.Ctrls.KDMulSelect) {\n      var selectedValue = getSelectedValue(colDef, newValue, type === _serverproperties.Ctrls.KDMulSelect);\n      if (selectedValue) {\n        newValue = selectedValue;\n      } else {\n        console.warn('不合法数据');\n        setTimeout(function () {\n          // 重置数据前先重置isPaste\n          // 1.timeout会在由粘贴引起的cellChange全部执行完在执行\n          // 2. 当整行粘贴报错时ag不会触发pasteEnd去重置isPaste, 需要手动重置\n          resetIsPaste();\n          node.setDataValue(colId, oldValue); // 下拉类型的要重置（重置时候触发的cellChange会在pasteEnd之后）\n        });\n        return;\n      }\n    }\n\n    // 普通单元格值更新\n    var model = {\n      pageId: pageId,\n      key: gridId,\n      fireUpdEvt: true,\n      dataDesc: dataDesc\n    };\n    var cellData = [{\n      k: colId,\n      r: rk,\n      v: newValue\n    }];\n    cellChange(model, cellData);\n    setTimeout(function () {\n      // 1.timeout会在由粘贴触发的cellChange全部执行完在执行\n      // 2. 当整行粘贴报错时ag不会触发pasteEnd去重置isPaste, 需要手动重置\n      resetIsPaste();\n    });\n  }\n};\nvar getSelectedValue = exports.getSelectedValue = function getSelectedValue(colDef, labelStr, isMulti) {\n  try {\n    var _colDef$cellRendererP = colDef.cellRendererParams,\n      editorLocaleId = _colDef$cellRendererP.localeId,\n      defaultLocalId = _colDef$cellRendererP.defaultLocalId,\n      options = _colDef$cellRendererP.editor.st;\n    var localeId = editorLocaleId || defaultLocalId || 'zh_CN';\n    var labels = Array.from(new Set(isMulti ? labelStr.trim().split(' ') : [labelStr.trim()])); // 下拉复制粘贴的值是label\n    var isValid = labels.every(function (v) {\n      return options.some(function (option) {\n        return v === option[1][localeId];\n      });\n    });\n    if (isValid) {\n      // 返回通过label找到value\n      return labels.map(function (label) {\n        var _options$find = options.find(function (option) {\n            return option[1][localeId] === label;\n          }),\n          _options$find2 = _slicedToArray(_options$find, 1),\n          value = _options$find2[0];\n        return value;\n      }).join(',');\n    }\n  } catch (_) {}\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/gridConfiguration/gridOptions/cellChange.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/gridConfiguration/gridOptions/clipboardFormat.js":
/*!************************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/gridConfiguration/gridOptions/clipboardFormat.js ***!
  \************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = clipboardFormat;\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.join.js */ \"../../node_modules/core-js/modules/es.array.join.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\nvar _serverproperties = __webpack_require__(/*! ../../../../../../constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _CellRenderer = __webpack_require__(/*! ../../CellRenderer */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/index.js\");\nvar _formatUtil = __webpack_require__(/*! @/util/formatUtil */ \"./src/util/formatUtil.js\");\nvar _numberUtil = __webpack_require__(/*! @/util/numberUtil */ \"./src/util/numberUtil.js\");\nvar _format = __webpack_require__(/*! @/component/web/DataGrid/TableHelper/util/format */ \"./src/component/web/DataGrid/TableHelper/util/format.js\");\n/*\n * @Author: qinghui_wu\n * @Date: 2019-03-12 11:29:09\n */\n\nvar SHOULD_CONVERT_COPY_TYPES = ['combinedField', 'operate'];\nfunction clipboardFormat(params, context) {\n  // 处理放在剪贴板的内容，基础资料需要特殊处理\n  var value = params.value,\n    column = params.column,\n    node = params.node;\n  var cellParam = column.colDef.cellRendererParams; // cellRendererParams\n  var rowData = node && params.node.data || {};\n  var isShowOriginVal = cellParam && cellParam.type && [_serverproperties.Ctrls.KDDateTime].indexOf(cellParam.type) > -1;\n  if (!cellParam) {\n    return value;\n  }\n  // 数值类型复制时，做精度和尾零显示的格式化(忽略金额符号和分位符)，保证复制的值和粘贴出来的一致\n  if (cellParam.type === _serverproperties.Ctrls.KDNumber) return getNumberCellFormatValue(value, rowData, cellParam, node);\n  if (isShowOriginVal) {\n    if (cellParam.isuf && Array.isArray(value)) {\n      // 复制时，格式化的值复制原值\n      return value[1] == null || value[1] === '' ? '' : value[1];\n    }\n    return value;\n  }\n  // 可以使用这个方法获得单元格实例 但是只能获得显示的单元格。。。没法改造const instances = params.api.getCellRendererInstances({ rowNodes: [node], columns: [column] })\n  return SHOULD_CONVERT_COPY_TYPES.includes(cellParam.type) ? getCopyValue({\n    value: value,\n    rowData: rowData,\n    cellParam: cellParam\n  }) : (0, _CellRenderer.getCellDisplayValueByRender)(Object.assign({\n    colDef: column.colDef\n  }, cellParam), value, rowData);\n  // 动态更新行数据复制粘贴会有问题，先禁止\n  // let value = params.value\n  // let { field, cellRendererParams } = params.column.colDef\n  // let { formatRowsValue, gridState } = context\n  // let notSetType = [Ctrls.KDPic, 'operate']\n\n  // if (cellRendererParams && notSetType.indexOf(cellRendererParams.type) > -1) { // 不处理的情况\n  //   return\n  // } else if (params.node.rowPinned && params.node.rowPinned !== false && formatRowsValue && formatRowsValue.hasOwnProperty('$_pinnedFormat')) {\n  //   let formatObj = formatRowsValue['$_pinnedFormat'] || {}\n  //   if (formatObj.hasOwnProperty(field)) {\n  //     value = formatObj[field]\n  //   }\n  // } else if (formatRowsValue && formatRowsValue.hasOwnProperty(field)) { // BDCellRenderer、ComCellRenderer、FlexRender、MullanRender\n  //   let formatList = formatRowsValue[field] || []\n  //   if (formatList.length > params.node.data) {\n  //     let { rk } = gridState\n  //     let key = params.node.data[rk]\n  //     value = formatList[key]\n  //   }\n  // }\n\n  // return value\n}\nfunction getNumberCellFormatValue(value, rowData, cellParam, node) {\n  var editor = cellParam.editor || {};\n  var scale = editor[_serverproperties.SCALE];\n  var noDisplayDecimalTailZero = editor[_serverproperties.NO_DISPLAY_SCALE_ZERO];\n  var zeroShow = editor[_serverproperties.ZERO_SHOW];\n  var srcFieldInfo = cellParam.getSrcFieldInfo(cellParam, rowData);\n  if (srcFieldInfo && srcFieldInfo.scale !== undefined && srcFieldInfo.scale !== null) {\n    scale = srcFieldInfo.scale;\n  }\n  if (node && node.rowPinned && srcFieldInfo !== null && srcFieldInfo.srcType === 'entry') {\n    // 合计行数量字段关联的是行计量单位时，精度取不到，先做不显示尾零处理,之前的写法会把纯数字类型的尾0也给去掉\n    noDisplayDecimalTailZero = true;\n  }\n  if (node && node.rowPinned) {\n    // 合计行为0也要显示\n    zeroShow = true;\n  }\n  // 格式化字符串的数值是一个数组，要特殊处理一下\n  // 要取格式化之后的值，避免长整数后面精度丢失\n  if (cellParam.isuf && Array.isArray(value)) {\n    // 格式化值序列化后直接返回，因为格式化的显示精度可能和计算的精度不一致\n    return (0, _numberUtil.serializationSymbolNumber)(value[0]);\n  }\n  var formatValue = (0, _formatUtil.formatNumber)(value, {\n    mask: '#',\n    zeroShow: zeroShow,\n    decimalLength: scale,\n    noDisplayDecimalTailZero: noDisplayDecimalTailZero,\n    roundMethod: editor[_serverproperties.ROUND_METHOD] || '0'\n  });\n  return formatValue;\n}\nfunction getCopyValue(_ref) {\n  var value = _ref.value,\n    rowData = _ref.rowData,\n    cellParam = _ref.cellParam;\n  var type = cellParam.type;\n  switch (type) {\n    case 'combinedField':\n      return getCombinedValue(value, rowData, cellParam);\n    case 'operate':\n      return getOperationValue({\n        value: value,\n        cellParam: cellParam\n      });\n  }\n}\nfunction getCombinedValue(value, rowData, parentCellParam) {\n  var combinedItems = parentCellParam.combinedItems;\n  return combinedItems.map(function (combinedItemColDef) {\n    var field = combinedItemColDef.field,\n      cellRendererParams = combinedItemColDef.cellRendererParams;\n    var combinedItemValue = value[field];\n    return !cellRendererParams ? combinedItemValue : (0, _CellRenderer.getCellDisplayValueByRender)(Object.assign({\n      colDef: combinedItemColDef\n    }, cellRendererParams), combinedItemValue, rowData);\n  }).join(' ');\n}\nfunction getOperationValue(_ref2) {\n  var value = _ref2.value,\n    cellParam = _ref2.cellParam;\n  var _cellParam$editor = cellParam.editor,\n    editor = _cellParam$editor === void 0 ? {} : _cellParam$editor,\n    localeId = cellParam.localeId,\n    defaultLocalId = cellParam.defaultLocalId;\n  var _editor$opr = editor.opr,\n    opr = _editor$opr === void 0 ? [] : _editor$opr;\n  return (0, _format.getTextesOfOperationItems)(opr, value, {\n    localeId: localeId,\n    defaultLocalId: defaultLocalId\n  }).filter(function (item) {\n    return item !== '';\n  }).join(' ');\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/gridConfiguration/gridOptions/clipboardFormat.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/gridConfiguration/gridOptions/customPaste.js":
/*!********************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/gridConfiguration/gridOptions/customPaste.js ***!
  \********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.getValidData = exports.getSelectRange = exports.customPaste = void 0;\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.array.reduce.js */ \"../../node_modules/core-js/modules/es.array.reduce.js\");\n__webpack_require__(/*! core-js/modules/es.array.splice.js */ \"../../node_modules/core-js/modules/es.array.splice.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.string.replace.js */ \"../../node_modules/core-js/modules/es.string.replace.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _moment = _interopRequireDefault(__webpack_require__(/*! moment */ \"../../node_modules/moment/moment.js\"));\nvar _serverproperties = __webpack_require__(/*! @/constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _cellChange = __webpack_require__(/*! ./cellChange */ \"./src/component/web/DataGrid/AgDataGrid/gridConfiguration/gridOptions/cellChange.js\");\nvar _appModelFunction = __webpack_require__(/*! @/model/appModelFunction */ \"./src/model/appModelFunction.js\");\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nvar _client = __webpack_require__(/*! @/util/client */ \"./src/util/client.js\");\nvar _paste = __webpack_require__(/*! @/component/web/DataGrid/TableHelper/util/paste */ \"./src/component/web/DataGrid/TableHelper/util/paste.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nvar customPaste = exports.customPaste = function customPaste(context) {\n  return function (params) {\n    var selectCellRanges = context.selectCellRanges,\n      api = context.api,\n      columnApi = context.columnApi,\n      getCellIsLock = context.getCellIsLock,\n      batchInvokeUpdateCells = context.props.batchInvokeUpdateCells,\n      _context$gridState = context.gridState,\n      pageId = _context$gridState.pageId,\n      key = _context$gridState.id,\n      isEntryEntity = context.gridContrlParams.isEntryEntity;\n    if (!isEntryEntity) return;\n    var data = params.data;\n    var selectRange = getSelectRange(selectCellRanges, api);\n\n    // 从windows的excel复制内容时，会多出一行空白行，且该空白行只有一个空白的单元格， 此时手动过滤掉该空白行\n    // 注意该改动会影响只复制一列时、且复制的最后一个单元格为空值的粘贴\n    if ((0, _client.isWin)() && (0, _paste.isOnlyEmptyCellInLastRow)(data)) {\n      data.splice(data.length - 1);\n    }\n\n    // 排序筛选状态时，当复制行数≤选中行数，才支持粘贴数据。\n    if (api.isAnyFilterPresent() || api.getSortModel().length > 0) {\n      // 复制行数>选中行数\n      if (data.length > selectRange.length) {\n        (0, _appModelFunction.setDataMessages)(pageId, {\n          content: (0, _intlApi.getLangMsg)({\n            key: 'grid.key0045'\n          }),\n          type: 2,\n          duration: 5000\n        });\n        return;\n      }\n    }\n    var model = {\n      pageId: pageId,\n      key: key\n    };\n    var batchUpdateArgs = [];\n    if (isCellRangeActive(selectRange)) {\n      batchUpdateArgs = getPasteToRangePD(data, selectRange, api, columnApi, getCellIsLock);\n    } else {\n      batchUpdateArgs = getPasteFromFocusedCellPD(data, api, columnApi, getCellIsLock);\n    }\n    if (batchUpdateArgs.length > 0) {\n      // addGirdPostData(pageId, key, postData)\n      // invokeUpdateCells(model)\n      batchInvokeUpdateCells(model, [batchUpdateArgs]);\n    }\n  };\n};\n\n/**\n * 获取粘贴到选中范围德postData\n */\nvar getPasteToRangePD = function getPasteToRangePD(data, selectRange, api, columnApi, getCellIsLock) {\n  var batchUpdateArgs = [];\n  var isSingleDataFlag = isSingleData(data);\n  // 需求调整,要以剪切板范围为准,只有单个值时才以选中范围为准\n  if (isSingleDataFlag) {\n    selectRange.forEach(function (selectRow, rowIndex) {\n      var rowData = {};\n      selectRow.forEach(function (selectCell, cellIndex) {\n        var colDef = selectCell.colDef,\n          rk = selectCell.rk;\n        var clipboardValue = isSingleDataFlag ? data[0][0] : data[rowIndex] && data[rowIndex][cellIndex];\n        if (clipboardValue !== undefined) {\n          addRowData(rowData, {\n            colDef: colDef,\n            value: clipboardValue,\n            rk: rk\n          }, getCellIsLock);\n        }\n      });\n      batchUpdateArgs.push({\n        rk: selectRow[0].rk,\n        data: rowData\n      });\n    });\n    return batchUpdateArgs;\n  }\n  var _selectRange$0$ = selectRange[0][0],\n    firstCellColId = _selectRange$0$.colDef.colId,\n    firstCellRk = _selectRange$0$.rk;\n  var column = columnApi.getColumn(firstCellColId);\n  var _api$getRowNode = api.getRowNode(firstCellRk),\n    rowIndex = _api$getRowNode.rowIndex;\n  return getPasteFromFocusedCellPD(data, api, columnApi, getCellIsLock, {\n    rowIndex: rowIndex,\n    column: column\n  });\n};\n\n/**\n * 获取从焦点单元格开始粘贴的postData\n */\nvar getPasteFromFocusedCellPD = function getPasteFromFocusedCellPD(data, api, columnApi, getCellIsLock, focusCell) {\n  if (isSingleData(data)) return [];\n  var focusedCell = focusCell || api.getFocusedCell();\n  if (!focusedCell) return [];\n  var focusRowIndex = focusedCell.rowIndex,\n    focusColumn = focusedCell.column;\n  var allColumns = columnApi.getAllDisplayedColumns();\n  var foucesColIndex = allColumns.indexOf(focusColumn);\n  var batchUpdateArgs = [];\n  var focusNode = api.getDisplayedRowAtIndex(focusRowIndex);\n  var focusRowKey = focusNode.data.rk;\n  data.forEach(function (rowData, rowDataIndex) {\n    var _rowData = {};\n    var rowIndex = focusRowIndex + rowDataIndex;\n    var rk;\n    var isNewRow = false;\n    var nodeData = api.getDisplayedRowAtIndex(rowIndex);\n    if (nodeData) {\n      rk = nodeData.data.rk;\n    } else {\n      // 新增/下一页的行(只考虑rk连续的情况,排序/过滤后不支持)\n      rk = focusRowKey + rowDataIndex;\n      isNewRow = true;\n    }\n    rowData.forEach(function (cellData, cellDataIndex) {\n      var columnIndex = foucesColIndex + cellDataIndex;\n      var column = allColumns[columnIndex];\n      if (column) {\n        var colDef = column.colDef;\n        addRowData(_rowData, {\n          colDef: colDef,\n          value: cellData,\n          rk: rk\n        }, getCellIsLock, isNewRow);\n      }\n    });\n    batchUpdateArgs.push({\n      rk: rk,\n      data: _rowData\n    });\n  });\n  return batchUpdateArgs;\n};\nvar getSelectRange = exports.getSelectRange = function getSelectRange(selectCellRanges, api) {\n  var _selectCellRanges$ = selectCellRanges[0],\n    columns = _selectCellRanges$.columns,\n    endRow = _selectCellRanges$.endRow,\n    startRow = _selectCellRanges$.startRow;\n  var endRowIndex = endRow.rowIndex;\n  var startRowIndex = startRow.rowIndex;\n  // 选中范围里面有合计行的情况, 合计行不计入选中范围\n  if (startRow.rowPinned || endRow.rowPinned) {\n    // 只选中了合计行, 选中范围为空\n    if (startRow.rowPinned && endRow.rowPinned) {\n      return [];\n    }\n    // 选中合计行，即选中第一个选中行到最后一行, 不包括合计行\n    startRowIndex = startRow.rowPinned ? endRowIndex : startRowIndex;\n    endRowIndex = api.getDisplayedRowCount() - 1;\n  }\n  if (endRowIndex < startRowIndex) {\n    var temp = endRowIndex;\n    endRowIndex = startRowIndex;\n    startRowIndex = temp;\n  }\n  var selectRange = [];\n  var _loop = function _loop() {\n    var rowData = api.getDisplayedRowAtIndex(i);\n    var rk = rowData.data.rk;\n    var selectColumns = columns || [];\n    var rowSelectCell = [];\n    selectColumns.forEach(function (_ref) {\n      var colDef = _ref.colDef;\n      rowSelectCell.push({\n        colDef: colDef,\n        rk: rk\n      });\n    });\n    selectRange.push(rowSelectCell);\n  };\n  for (var i = startRowIndex; i <= endRowIndex; i++) {\n    _loop();\n  }\n  return selectRange;\n};\nvar isCellRangeActive = function isCellRangeActive(selectRanges) {\n  var cellCount = selectRanges.reduce(function (lastCount, selectRange) {\n    lastCount += selectRange.length;\n    return lastCount;\n  }, 0);\n  return cellCount > 1;\n};\nvar isSingleData = function isSingleData(data) {\n  return data.length === 1 && data[0].length === 1;\n};\nvar addRowData = function addRowData(rowData, _ref2, getCellIsLock, isNewRow) {\n  var colDef = _ref2.colDef,\n    rk = _ref2.rk,\n    value = _ref2.value;\n  var colId = colDef.colId,\n    editable = colDef.editable;\n  // 锁定的不允许粘贴(新增行时只考虑列的锁定性)\n  if (!editable || !isNewRow && getCellIsLock(rk, colDef)) return;\n  var validData = getValidData(colDef, value);\n  if (validData != null) {\n    rowData[colId] = validData;\n  }\n};\nvar getValidData = exports.getValidData = function getValidData(colDef, value) {\n  var type = colDef.cellRendererParams.type;\n  switch (type) {\n    case _serverproperties.Ctrls.KDSelect:\n    case _serverproperties.Ctrls.KDMulSelect:\n      return (0, _cellChange.getSelectedValue)(colDef, value, type === _serverproperties.Ctrls.KDMulSelect);\n    case _serverproperties.Ctrls.KDNumber:\n      value = value.replace(/,/g, '');\n      return isNaN(value) || value === '' ? null : value;\n    case _serverproperties.Ctrls.KDDate:\n    case _serverproperties.Ctrls.KDDateTime:\n      {\n        value = value.replace(/\\//g, '-');\n        var time = (0, _moment[\"default\"])(value);\n        return time.isValid() ? time.format(\"YYYY-MM-DD\".concat(type === _serverproperties.Ctrls.KDDateTime ? ' HH:mm:ss' : '')) : null;\n      }\n    default:\n      return value;\n  }\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/gridConfiguration/gridOptions/customPaste.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/gridConfiguration/gridOptions/defaultOptions.js":
/*!***********************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/gridConfiguration/gridOptions/defaultOptions.js ***!
  \***********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = getDefaultOptions;\nvar _localeText = _interopRequireDefault(__webpack_require__(/*! ./localeText */ \"./src/component/web/DataGrid/AgDataGrid/gridConfiguration/gridOptions/localeText.js\"));\nvar _icons = _interopRequireDefault(__webpack_require__(/*! ./icons */ \"./src/component/web/DataGrid/AgDataGrid/gridConfiguration/gridOptions/icons.js\"));\nvar _const = __webpack_require__(/*! @/component/common/table/const */ \"./src/component/common/table/const.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n/**\n * gridOptions中一些公共的选项\n * by kechuang\n */\n\nfunction getDefaultOptions() {\n  return {\n    // layoutInterval:-1,//表格内部大小监控，默认500ms，-1表示不监控，会导致正好大小时不能显示滚动条\n    rowSelection: 'multiple',\n    // 'single',//\n    // enableColResize: 'true',\n    // enableSorting: 'true',\n    // enableFilter: 'true',\n    defaultColDef: {\n      sortable: true,\n      resizable: true,\n      filter: true\n    },\n    singleClickEdit: true,\n    // 单击编辑设置为true\n    // suppressMenuFilterPanel: false,\n    // suppressMenuMainPanel: true,\n    // suppressMenuColumnPanel: true,//此三个是列的菜单，v11后作废，改在列定义menuTabs上\n    suppressLoadingOverlay: true,\n    // 禁用加载提示\n    suppressNoRowsOverlay: false,\n    // 禁用无数据提示\n    enableRangeSelection: true,\n    // enterprise features**  用来做按住鼠标选中多个单元格，会在body层添加css类，导致页面重绘。ie下不开放\n    // onRangeSelectionChanged: (e)=>{console.log('ffeeeeee',e)},//this.onRangeSelectionChanged},//enterprise features**\n    suppressContextMenu: false,\n    // 禁用右键菜单\n    // showToolPanel: false, // 是否默认显示工具面板 enterprise features**\n    // toolPanelSuppressValues: true,\n    // toolPanelSuppressPivots: true,\n    // toolPanelSuppressPivotMode: true,\n    // toolPanelSuppressRowGroups: true, // sideBar\n    // toolPanelSuppressSideButtons: true,\n    suppressDragLeaveHidesColumns: true,\n    suppressPropertyNamesCheck: true,\n    // 禁用属性检查\n    // suppressColumnVirtualisation:true,//对性能会有影响\n    rowHeight: _const.DEFAULT_ROW_HEIGHT,\n    headerHeight: _const.DEFAULT_HEADER_HEIGHT,\n    // getRowClass : this.getRowClass,\n    localeText: (0, _localeText[\"default\"])(),\n    rowBuffer: 20,\n    icons: (0, _icons[\"default\"])(),\n    deltaColumnMode: true,\n    // To change this behaviour and have column attributes above (order, width, row group etc) take effect each time the application updates the grid columns\n    sortingOrder: ['desc', 'asc', '']\n    // pinnedBottomRowData: [],\n    // enableBrowserTooltips: true\n  };\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/gridConfiguration/gridOptions/defaultOptions.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/gridConfiguration/gridOptions/icons.js":
/*!**************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/gridConfiguration/gridOptions/icons.js ***!
  \**************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = getIcons;\nvar _defaultPropsUtil = __webpack_require__(/*! @/util/defaultPropsUtil */ \"./src/util/defaultPropsUtil.js\");\nvar _customProperties = _interopRequireDefault(__webpack_require__(/*! @/constant/customProperties */ \"./src/constant/customProperties.js\"));\nvar _customCtrlName = _interopRequireDefault(__webpack_require__(/*! @/constant/customCtrlName */ \"./src/constant/customCtrlName.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n/**\n * 表格图标替换文件\n * by kechuang\n */\n\nfunction getIcons() {\n  return {\n    columnRemoveFromGroup: '<i class=\"kdfont kdfont-shanchu-s\"/>',\n    menu: '<i class=\"kdfont kdfont-guolv_xian ag-icon kd-hover-color\" style=\"font-size:12px;line-height:14px\"/>',\n    // filter: '<i class=\"fa fa-filter\"/>',\n    filter: '<i class=\"kdfont kdfont-guolv_mian\" style=\"font-size:12px;\"/>',\n    sortAscending: '<i class=\"kdfont kdfont-xiangshang\" style=\"font-size:12px;\"/>',\n    sortDescending: '<i class=\"kdfont kdfont-xiangshang\" style=\"font-size:12px;transform: rotate(-180deg);display: inline-block;\"/>',\n    // groupExpanded: '<i class=\"switch on\"/>', // 展开列图标\n    // groupContracted: '<i class=\"switch\"/>',\n    groupExpanded: \"<i class=\\\"\".concat((0, _defaultPropsUtil.getUIDefaultProps)(_customCtrlName[\"default\"].GRID, [_customProperties[\"default\"].GROUP_EXPANDED_FONT_CLASS]) || 'kdfont kdfont-shouqi', \" tree-expand\\\"/>\"),\n    groupContracted: \"<i class=\\\"\".concat((0, _defaultPropsUtil.getUIDefaultProps)(_customCtrlName[\"default\"].GRID, [_customProperties[\"default\"].GROUP_CONTRACTED_FONT_CLASS]) || 'kdfont kdfont-unfolded-s', \" tree-contract\\\"/>\"),\n    columnGroupOpened: '<i class=\"kdfont kdfont-shouqi\"/>',\n    columnGroupClosed: '<i class=\"kdfont kdfont-unfolded-s\"/>'\n  };\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/gridConfiguration/gridOptions/icons.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/gridConfiguration/gridOptions/localeText.js":
/*!*******************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/gridConfiguration/gridOptions/localeText.js ***!
  \*******************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = getLocaleText;\n/**\n * 语言映射\n * by kechuang\n */\n\nfunction getLocaleText() {\n  return {\n    // for filter panel\n    page: '页',\n    more: 'daMore',\n    to: 'daTo',\n    of: 'daOf',\n    next: 'daNexten',\n    // last: 'daLasten',\n    // first: 'daFirsten',\n    first: '第一个',\n    last: '最后一个',\n    previous: 'daPreviousen',\n    loadingOoo: '加载中...',\n    // for set filter\n    selectAll: '搜索全部',\n    searchOoo: '搜索...',\n    blanks: 'daBlanc',\n    // for number filter and text filter\n    filterOoo: '过滤...',\n    applyFilter: '应用...',\n    // for number filter\n    equals: '等于',\n    notEqual: '不等于',\n    lessThan: '小于',\n    lessThanOrEqual: '小于等于',\n    greaterThan: '大于',\n    greaterThanOrEqual: '大于等于',\n    inRange: '在...以内',\n    // for text filter\n    contains: '包含',\n    notContains: '不包含',\n    startsWith: '以...开始',\n    endsWith: '以...结尾',\n    // the header of the default group column\n    group: '组',\n    // tool panel\n    columns: '列',\n    rowGroupColumns: 'laPivot Cols',\n    rowGroupColumnsEmptyMessage: 'la please drag cols to group',\n    valueColumns: 'laValue Cols',\n    pivotMode: '主轴模式',\n    groups: '分组',\n    values: 'laValues',\n    pivots: '主轴',\n    valueColumnsEmptyMessage: 'la drag cols to aggregate',\n    pivotColumnsEmptyMessage: 'la drag here to pivot',\n    // other\n    noRowsToShow: '无数据...',\n    // enterprise menu\n    pinColumn: '钉住列',\n    valueAggregation: 'laValue Agg',\n    autosizeThiscolumn: '自动此列列宽',\n    autosizeAllColumns: '自动列宽',\n    groupBy: '以...分组',\n    ungroupBy: '不以...分组',\n    resetColumns: '重置列',\n    expandAll: '展开全部',\n    collapseAll: '折叠全部',\n    toolPanel: '工具面板',\n    // enterprise menu pinning\n    pinLeft: '钉于左侧 <<',\n    pinRight: '钉于右侧 >>',\n    noPin: '去钉 <>',\n    // enterprise menu aggregation and status panel\n    sum: '求和',\n    min: '最小值',\n    max: '最大值',\n    none: '无',\n    count: '计数',\n    average: '平均值',\n    // standard menu\n    copy: 'laCopy',\n    ctrlC: 'ctrl n C',\n    paste: 'laPaste',\n    ctrlV: 'ctrl n C'\n  };\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/gridConfiguration/gridOptions/localeText.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/gridConfiguration/index.js":
/*!**************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/gridConfiguration/index.js ***!
  \**************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nObject.defineProperty(exports, \"buildColDefs\", ({\n  enumerable: true,\n  get: function get() {\n    return _buildProps.buildColDefs;\n  }\n}));\nObject.defineProperty(exports, \"buildGridOptions\", ({\n  enumerable: true,\n  get: function get() {\n    return _buildGridOptions[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"buildProps\", ({\n  enumerable: true,\n  get: function get() {\n    return _buildProps.buildProps;\n  }\n}));\nObject.defineProperty(exports, \"buildVirtualDataSource\", ({\n  enumerable: true,\n  get: function get() {\n    return _buildVirtualProps.buildVirtualDataSource;\n  }\n}));\nObject.defineProperty(exports, \"buildVirtualFixedProps\", ({\n  enumerable: true,\n  get: function get() {\n    return _buildVirtualProps.buildVirtualFixedProps;\n  }\n}));\nObject.defineProperty(exports, \"calculateMinHeight\", ({\n  enumerable: true,\n  get: function get() {\n    return _buildProps.calculateMinHeight;\n  }\n}));\nObject.defineProperty(exports, \"getGridCellActions\", ({\n  enumerable: true,\n  get: function get() {\n    return _cellAction.getGridCellActions;\n  }\n}));\nvar _buildGridOptions = _interopRequireDefault(__webpack_require__(/*! ./gridOptions/buildGridOptions */ \"./src/component/web/DataGrid/AgDataGrid/gridConfiguration/gridOptions/buildGridOptions.js\"));\nvar _buildProps = __webpack_require__(/*! ./gridControlParams/buildProps */ \"./src/component/web/DataGrid/AgDataGrid/gridConfiguration/gridControlParams/buildProps.js\");\nvar _buildVirtualProps = __webpack_require__(/*! ./virtualGrid/buildVirtualProps */ \"./src/component/web/DataGrid/AgDataGrid/gridConfiguration/virtualGrid/buildVirtualProps.js\");\nvar _cellAction = __webpack_require__(/*! ./gridControlParams/cellAction */ \"./src/component/web/DataGrid/AgDataGrid/gridConfiguration/gridControlParams/cellAction.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/gridConfiguration/index.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/gridConfiguration/virtualGrid/VirtualDataCtrler.js":
/*!**************************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/gridConfiguration/virtualGrid/VirtualDataCtrler.js ***!
  \**************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _memoryCacher = __webpack_require__(/*! @/model/memoryCacher */ \"./src/model/memoryCacher.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); } /**\n * 虚模式表格的取数管理器\n * 虚模式取数是用eventbus\n * 每次发起取数的同时，需要注册接受这次返回数据的方法\n * by Fromin kechuang\n */\nvar VirtualDataCtrler = exports[\"default\"] = /*#__PURE__*/function () {\n  function VirtualDataCtrler(pageId, key) {\n    _classCallCheck(this, VirtualDataCtrler);\n    this.pageId = pageId;\n    this.key = key;\n    this.eventHandleList = {};\n  }\n  _createClass(VirtualDataCtrler, [{\n    key: \"getEventHandle\",\n    value: function getEventHandle(startIndex, rowCount, rowId) {\n      if (startIndex === this.startIndex && rowCount === this.rowCount) {\n        return this.eventHandleList[this.getChannel(startIndex, rowCount, rowId)];\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: \"subEvent\",\n    value: function subEvent(startIndex, rowCount, params, callback, rowId) {\n      var channel = this.getChannel(startIndex, rowCount, rowId);\n      var eventHandle = this.eventHandleList[channel];\n      if (eventHandle) {\n        this.unsubEvent(startIndex, rowCount, rowId);\n      }\n      var removeListener = (0, _memoryCacher.addDataChangeListener)(this.pageId, channel, callback);\n      this.startIndex = startIndex;\n      this.rowCount = rowCount;\n      this.eventHandleList[channel] = {\n        handle: removeListener,\n        params: params\n      };\n    }\n  }, {\n    key: \"unsubEvent\",\n    value: function unsubEvent(startIndex, rowCount, rowId) {\n      var channel = this.getChannel(startIndex, rowCount, rowId);\n      var eventHandle = this.eventHandleList[channel];\n      if (!eventHandle) return;\n      eventHandle.handle();\n      delete this.eventHandleList[channel];\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      var _this = this;\n      var keys = Object.keys(this.eventHandleList);\n      keys.forEach(function (key) {\n        var _eventHandle$handle;\n        var eventHandle = _this.eventHandleList[key];\n        (_eventHandle$handle = eventHandle.handle) === null || _eventHandle$handle === void 0 || _eventHandle$handle.call(eventHandle);\n      });\n      this.eventHandleList = {};\n    }\n  }, {\n    key: \"getChannel\",\n    value: function getChannel(startIndex, rowCount, rowId) {\n      var channel = this.key + '.' + \"\".concat(startIndex, \".\").concat(rowCount);\n      channel = rowId === '' || rowId == null ? channel : channel + \".\".concat(rowId);\n      return channel;\n    }\n  }]);\n  return VirtualDataCtrler;\n}();\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/gridConfiguration/virtualGrid/VirtualDataCtrler.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/gridConfiguration/virtualGrid/buildVirtualProps.js":
/*!**************************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/gridConfiguration/virtualGrid/buildVirtualProps.js ***!
  \**************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.buildVirtualDataSource = buildVirtualDataSource;\nexports.buildVirtualFixedProps = buildVirtualFixedProps;\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/web.timers.js */ \"../../node_modules/core-js/modules/web.timers.js\");\nvar _VirtualDataCtrler = _interopRequireDefault(__webpack_require__(/*! ./VirtualDataCtrler */ \"./src/component/web/DataGrid/AgDataGrid/gridConfiguration/virtualGrid/VirtualDataCtrler.js\"));\nvar _console = _interopRequireDefault(__webpack_require__(/*! ../../../../../../api/console */ \"./src/api/console.js\"));\nvar _mergeUtil = __webpack_require__(/*! ../../util/mergeUtil */ \"./src/component/web/DataGrid/AgDataGrid/util/mergeUtil.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n/**\n * 构造虚模式表格的参数\n * by kechuang\n * 一个queryId对应一个dataSource\n * 目前有两种模式：\n * 1. infinite 正常无限滚动模式，可以一下子滚动到全部数据（也主要是为了兼容这里），在大数据模式（bigData）不可滚到末页\n * 2. serverSide 服务端无限滚动模式，自适应行高（autoHeight）、树形模式、目前无大数据模式（bigData）\n */\n\n// 构造新的数据源\n// 暂时不考虑切换表格模式的情况，最初是什么模式定好之后不会变\nfunction buildVirtualDataSource(context, props, nextProps) {\n  var gridOptions = context.gridOptions,\n    api = context.api,\n    lastQueryId = context.lastQueryId,\n    takeRows = context.takeRows,\n    delayFuncs = context.delayFuncs,\n    _resetLayout = context._resetLayout;\n  var _gridOptions = gridOptions,\n    rowModelType = _gridOptions.rowModelType;\n  var nextAdvModel = nextProps.parentModel || nextProps.model;\n  var pageId = nextAdvModel.pageId;\n  var key = nextAdvModel.meta.get('id');\n  var rowKey = nextAdvModel.meta.get('rk');\n  if (!api) return;\n  var datas = nextAdvModel.getDataValue();\n  if (!isNeededRebuildDataSource(datas, api, lastQueryId, props, delayFuncs, rowModelType)) {\n    handleColDefChange(props, nextProps, {\n      _resetLayout: _resetLayout,\n      delayFuncs: delayFuncs\n    });\n    return;\n  }\n  var newQueryId = datas.get('queryId', 0);\n  var dataCount = datas.get('datacount');\n  var pageRows = datas.get('pagerows', 100); // 每块的行数 默认是100\n  var isLargeData = datas.get('isLargeData', false); // 大数据模式\n  var isShowLargeDataCount = datas.get('resetDataCount', false); // 大数据模式下是否显示条数\n  // 数据已经加载完，修改状态\n  context.dataLoaded = true;\n  context.isResetedLayout = false;\n  context.isLargeData = isLargeData;\n  context.isShowLargeDataCount = isShowLargeDataCount;\n  var setContextProps = function setContextProps(key, value) {\n    context[key] = value;\n  };\n  var getContextProps = function getContextProps(key) {\n    return context[key];\n  };\n  var virtualDataCtrler = new _VirtualDataCtrler[\"default\"](pageId, key);\n  var setVirtualData = setVirtualDataFun(gridOptions, virtualDataCtrler, {\n    rowKey: rowKey,\n    isLargeData: isLargeData,\n    api: api,\n    getContextProps: getContextProps,\n    setContextProps: setContextProps,\n    _resetLayout: _resetLayout\n  });\n  var dataSource = {\n    getRows: function getRows(params) {\n      // * TODO:这里应该修改，禁止就只做禁止，将处理事件 params.successCallback 这些抽出去实现\n      if (suppersGetRowInServerSide(rowModelType, params, {\n        dataCount: dataCount,\n        delayFuncs: delayFuncs,\n        api: api\n      })) {\n        return; // 禁止向后端发请求\n      }\n      // infinite 和 serverSide 两种请求的params不一样\n      var request = rowModelType === 'infinite' ? params : params.request;\n      var startRow = request.startRow,\n        endRow = request.endRow;\n      _console[\"default\"].log('asking for ' + startRow + ' to ' + endRow);\n      getVirtualData(startRow, endRow - startRow, params, virtualDataCtrler, setVirtualData, nextProps, rowKey, gridOptions.treeData);\n    }\n  };\n  gridOptions = Object.assign(gridOptions, {\n    datasource: dataSource,\n    infiniteInitialRowCount: dataCount,\n    // How many rows to initially allow the user to scroll to\n    cacheBlockSize: pageRows // How many rows for each block in the cache\n  });\n  // to wait fix: datasource和infiniteInitialRowCount在gridOption上不生效，待aggrid修复，目前直接用api\n  if (gridOptions.rowModelType === 'infinite') {\n    api.setDatasource(gridOptions.datasource);\n    // api.setInfiniteRowCount(gridOptions.infiniteInitialRowCount, true)\n  } else {\n    api.setServerSideDatasource(gridOptions.datasource);\n  }\n  context.virtualDataCtrler && context.virtualDataCtrler.clear(); // 清理之前的监听事件\n  context.virtualDataCtrler = virtualDataCtrler;\n  context.lastQueryId = newQueryId; // 如果需要更换数据源，需要使用传统的塞数据方法，虚模式取数只走eventBus\n}\n\n//* ***构造虚模式的固定参数，必须在初始的时候构造出来，后面再设置不生效(aggrid的规则？)\n// 放在buildProps来调用，保证初始定义\nfunction buildVirtualFixedProps(gridOptions, autoHeight, meta) {\n  var isTreeVirtualView = meta.get('istreevirtualviewgrid');\n  return Object.assign(gridOptions, {\n    rowDeselection: true,\n    // If true then rows will be deselected if you hold down ctrl + click the row.\n    rowModelType: isTreeVirtualView || autoHeight ? 'serverSide' : 'infinite',\n    // 两种模式：1.infinite 可以设置滚动条的滚动范围，2.serverSide，树形报表和自适应行高，不能设置滚动条的滚动范围\n    cacheOverflowSize: 1,\n    // how many rows beyond the current last row the scrolls should allow to scroll\n    maxConcurrentDatasourceRequests: 1,\n    // How many requests to hit the server with concurrently---****不设置这个地方会导致问题。官网说默认值是1应该是有问题的\n    suppressNoRowsOverlay: false // 虚模式无数据显示提示\n  }, !autoHeight ? {\n    // 自适应行高不支持maxBlocksInCache\n    maxBlocksInCache: 2 // How many blocks to cache in the client.\n  } : {});\n}\n\n/** utils function */\n\n// 判断是否需要重新构造数据源，queryId改变的时候需要重新构造\nvar isNeededRebuildDataSource = function isNeededRebuildDataSource(nextDatas, api, lastQueryId, props, delayFuncs, rowModelType) {\n  if (!nextDatas) {\n    // 将总行数设置为0，但是允许去查找更多行\n    api.setInfiniteRowCount(0, true);\n    api.showNoRowsOverlay();\n    return false;\n  }\n  var newQueryId = nextDatas.get('queryId', 0);\n  var advModel = props.parentModel || props.model;\n  var thisDatas = advModel.getDataValue();\n  if (thisDatas) {\n    if (newQueryId === thisDatas.get('queryId', 0)) {\n      if (lastQueryId && lastQueryId === newQueryId) {\n        return false;\n      }\n    }\n  }\n  var dataCount = nextDatas.get('datacount');\n  if (dataCount <= 0) {\n    if (rowModelType !== 'serverSide') {\n      return handleNoDataInInfinite(api, delayFuncs);\n    } else {\n      return handleNoDataInServerSide();\n    }\n  } else {\n    api.hideOverlay();\n    return true;\n  }\n};\nfunction handleNoDataInInfinite(api, delayFuncs) {\n  api.setInfiniteRowCount(0, true); // infinite时这里更新\n  // 报表无数据，列定义发生变化在数据之后，ag内部会自动去掉空行提示，这里都放在延迟去做\n  delayFuncs && delayFuncs.push(function () {\n    api.showNoRowsOverlay();\n  });\n  return false;\n}\nfunction handleNoDataInServerSide() {\n  return true;\n}\nvar getVirtualData = function getVirtualData(startIndex, rowCount, params, virtualDataCtrler, setVirtualData, nextProps, rowKey, isTreeData) {\n  var rowId = isTreeData ? getNodeId(params) : '';\n  virtualDataCtrler.subEvent(startIndex, rowCount, params, setVirtualData, rowId);\n  var advModel = nextProps.parentModel || nextProps.model;\n  nextProps.getVirtualData(advModel, startIndex, rowCount, null, rowId); // 需要传当前点击行 或者后端直接从当前焦点行取\n  _console[\"default\"].log('getVirtualData 请求数据');\n};\n\n// 生成设置虚模式数据的回调函数\nvar setVirtualDataFun = function setVirtualDataFun(gridOptions, virtualDataCtrler, _ref) {\n  var rowKey = _ref.rowKey,\n    isLargeData = _ref.isLargeData,\n    api = _ref.api,\n    getContextProps = _ref.getContextProps,\n    setContextProps = _ref.setContextProps,\n    _resetLayout = _ref._resetLayout;\n  return function (data) {\n    var startIndex = data.startIndex;\n    var rowCount = data.length; // 是一页预期的条数，eventHandle用的是该参数\n    var dataCount = data.datacount;\n    var isLast = data.isLast; // 大数据用来判断是否最后一页\n    var returnDatas = data.rows;\n    var eventHandle = virtualDataCtrler.getEventHandle(startIndex, rowCount, data.pid);\n    virtualDataCtrler.unsubEvent(startIndex, rowCount, data.pid); // 优先注销\n    var takeRows = getContextProps('takeRows');\n    returnDatas = takeRows(returnDatas, data);\n    var isResetedLayout = getContextProps('isResetedLayout');\n    var gridContrlParams = getContextProps('gridContrlParams');\n    if (gridContrlParams.mergeColumns.length > 0) {\n      (0, _mergeUtil.setMergeInfo)(returnDatas, {\n        rowKey: rowKey,\n        api: api,\n        gridContrlParams: gridContrlParams,\n        getContextProps: getContextProps,\n        setContextProps: setContextProps\n      });\n    }\n    try {\n      if (eventHandle) {\n        gridOptions.treeData ? setTreeVirtualData(dataCount, startIndex, rowCount, eventHandle, returnDatas, data) : setNormalVirtualData(dataCount, startIndex, rowCount, eventHandle, returnDatas, {\n          isLargeData: isLargeData,\n          isLast: isLast\n        });\n      }\n      var lastDisplayedRow = api.getLastDisplayedRow();\n      var isInShowRange = startIndex <= lastDisplayedRow && lastDisplayedRow <= startIndex + rowCount;\n      if (!isResetedLayout && isInShowRange) {\n        // queryId发生改变未重置过列宽，且在可视区域内，则重设列宽\n        setContextProps('isResetedLayout', true);\n        _console[\"default\"].log('do resetLayout');\n        setTimeout(function () {\n          _resetLayout();\n        }, 0);\n      }\n\n      // 要重刷，避免融合行取得的是旧的数据\n      if (gridContrlParams.mergeColumns.length > 0) {\n        api.redrawRows();\n      }\n    } catch (error) {\n      setContextProps('isResetedLayout', true);\n      _console[\"default\"].error('setVirtualData 返回数据出错', error);\n    }\n  };\n};\nfunction getLastRow(dataCount, startIndex, rowCount, params) {\n  var _ref2 = params || {},\n    isLargeData = _ref2.isLargeData,\n    isLast = _ref2.isLast;\n  var lastRow = -1;\n  if (isLargeData) {\n    lastRow = isLast ? dataCount : lastRow;\n    _console[\"default\"].log('最后行======', lastRow);\n    return lastRow;\n  }\n  if (dataCount <= startIndex + rowCount) {\n    lastRow = dataCount;\n    _console[\"default\"].log('最后行======', lastRow);\n  }\n  return lastRow;\n}\nfunction setNormalVirtualData(dataCount, startIndex, rowCount, eventHandle, returnDatas, _ref3) {\n  var isLargeData = _ref3.isLargeData,\n    isLast = _ref3.isLast;\n  eventHandle.params.successCallback(returnDatas, getLastRow(dataCount, startIndex, rowCount, {\n    isLargeData: isLargeData,\n    isLast: isLast\n  }));\n}\nfunction getTreeLastRow(dataCount, startIndex, rowCount, returnDatas, data) {\n  var lastRow = getLastRow(dataCount, startIndex, rowCount);\n\n  // 当前返回数据总数 小于 一页的数据总数，已经加载完本级\n  if (returnDatas.length < (data.pagerows || 100)) {\n    lastRow = startIndex + returnDatas.length;\n    _console[\"default\"].log('本级最后行======', lastRow);\n  }\n  return lastRow;\n}\nfunction setTreeVirtualData(dataCount, startIndex, rowCount, eventHandle, returnDatas, data) {\n  eventHandle.params.successCallback(returnDatas, getTreeLastRow(dataCount, startIndex, rowCount, returnDatas, data));\n}\n\n/**\n * 树节点id\n * @param {*} params\n */\nfunction getNodeId(params) {\n  var parentNode = params.parentNode;\n  if (parentNode.level === -1) {\n    return '0'; // 父节点都是0\n  }\n  return parentNode.data && parentNode.data.rowid;\n}\n\n/**\n * 服务端模式更新时，禁止后端取数的情况，并实现一些更新逻辑\n * @param {*} rowModelType\n * @param {*} params ag getRow 参数\n * @param {*} param2 自定义的其他参数\n */\nfunction suppersGetRowInServerSide(rowModelType, params, _ref4) {\n  var dataCount = _ref4.dataCount,\n    delayFuncs = _ref4.delayFuncs,\n    api = _ref4.api;\n  if (rowModelType === 'serverSide' && dataCount === 0) {\n    params.successCallback([], dataCount); // 无值时，服务端模式要更新值，且不发送请求到后端\n    api.getRenderedNodes() && api.getRenderedNodes().length === 0 && api.showNoRowsOverlay(); // serverSide getDislayRowCount 就是没有数据也是1\n    return true;\n  }\n}\nfunction handleColDefChange(props, nextProps, _ref5) {\n  var _resetLayout = _ref5._resetLayout,\n    delayFuncs = _ref5.delayFuncs;\n  var model = props.model;\n  var nextModel = nextProps.model;\n  if (nextModel && model.getMetaProperty('colDefsGUID') !== nextModel.getMetaProperty('colDefsGUID')) {\n    delayFuncs.push(function () {\n      return setTimeout(function () {\n        return _resetLayout();\n      }, 0);\n    });\n  }\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/gridConfiguration/virtualGrid/buildVirtualProps.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/gridCoreUseFucntion/agGridCbFun.js":
/*!**********************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/gridCoreUseFucntion/agGridCbFun.js ***!
  \**********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.handleFilterChanged = exports[\"default\"] = void 0;\nexports.onBodyScroll = _onBodyScroll;\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.timers.js */ \"../../node_modules/core-js/modules/web.timers.js\");\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _gridPureFun = __webpack_require__(/*! ./gridPureFun */ \"./src/component/web/DataGrid/AgDataGrid/gridCoreUseFucntion/gridPureFun.js\");\nvar _gridConst = __webpack_require__(/*! @/constant/gridConst */ \"./src/constant/gridConst.js\");\nvar _resizeObserve = _interopRequireDefault(__webpack_require__(/*! @/util/resizeObserve */ \"./src/util/resizeObserve.js\"));\nvar _gridEventName = _interopRequireDefault(__webpack_require__(/*! ../gridEvent/gridEventName */ \"./src/component/web/DataGrid/AgDataGrid/gridEvent/gridEventName.js\"));\nvar _GridUtils = __webpack_require__(/*! ../GridUtils */ \"./src/component/web/DataGrid/AgDataGrid/GridUtils.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nvar navigateToNextCell = function navigateToNextCell(params) {\n  return null;\n  // const { key, nextCellPosition } = params\n  // if (!nextCellPosition) return params.previousCellPosition // 下个单元格不存在\n  // if (key === 40 && nextCellPosition.rowPinned != null) { // 固定行禁止全键盘\n  //   return null\n  // }\n  // return nextCellPosition\n};\nvar tabToNextCell = function tabToNextCell(context) {\n  var tempPreviousCellPosition; // 临时保存上一次焦点单元格（锁定｜固定的不保存）\n  return function (params) {\n    var nextCellPosition = params.nextCellPosition,\n      previousCellPosition = params.previousCellPosition;\n    if (previousCellPosition && !previousCellPosition.rowPinned && previousCellPosition.column.colDef.editable) {\n      tempPreviousCellPosition = previousCellPosition;\n    }\n    if (!nextCellPosition || nextCellPosition.rowPinned != null) {\n      // 固定行禁止全键盘\n      var tempPosition = tempPreviousCellPosition;\n      tempPreviousCellPosition = undefined;\n      return tempPosition;\n    }\n    var rowIndex = nextCellPosition.rowIndex,\n      colDef = nextCellPosition.column.colDef;\n    var isLock = context.getCellIsLock(rowIndex, colDef);\n    if (isLock) {\n      // 当下一个单元格锁定时，手动触发tab事件\n      setTimeout(function () {\n        context.api.tabToNextCell();\n      });\n    }\n    return nextCellPosition;\n  };\n};\n\n// function getSelectCellRangesRowsRk (startRowIndex, endRowIndex, api, rk) {\n//   if (endRowIndex < startRowIndex) {\n//     const tem = endRowIndex\n//     endRowIndex = startRowIndex\n//     startRowIndex = tem\n//   }\n//   const rowkeyArray = []\n//   for (let i = startRowIndex; i <= endRowIndex; i++) {\n//     const node = api.getDisplayedRowAtIndex(i)\n//     const data = node && node.data\n//     if (data) {\n//       rowkeyArray.push(data[rk])\n//     }\n//   }\n//   return rowkeyArray\n// }\n\nfunction getRowNodeRk(node, rk) {\n  return node && node.data[rk];\n}\nfunction getStartAndEndRk(startRowIndex, endRowIndex, api, rk) {\n  var startRowKey = getRowNodeRk(api.getDisplayedRowAtIndex(startRowIndex), rk) || startRowIndex;\n  var endRowKey = getRowNodeRk(api.getDisplayedRowAtIndex(endRowIndex), rk) || endRowIndex;\n  return {\n    startRowKey: startRowKey,\n    endRowKey: endRowKey\n  };\n}\nfunction setSelectionRangePostDataWrap(selectCellRanges, model, setSelectionRangePostData, _ref) {\n  var api = _ref.api,\n    rk = _ref.rk;\n  if (selectCellRanges[0]) {\n    var _selectCellRanges$ = selectCellRanges[0],\n      columns = _selectCellRanges$.columns,\n      endRow = _selectCellRanges$.endRow,\n      startRow = _selectCellRanges$.startRow;\n    var colFieldKeys = columns.map(function (col) {\n      return col.colDef ? col.colDef.field : col.colId;\n    });\n    var rowKeysRange = getStartAndEndRk(startRow.rowIndex, endRow.rowIndex, api, rk);\n    var cellRangeData = {\n      selectionRange: [Object.assign({\n        colFieldKeys: colFieldKeys\n      }, rowKeysRange)]\n    };\n    setSelectionRangePostData && setSelectionRangePostData(model, cellRangeData);\n  }\n}\nvar getSelectionRange = function getSelectionRange(context) {\n  var cellRanges = context.api && context.api.getCellRanges();\n  context.selectCellRanges = cellRanges;\n  // 清空范围选中的同时要清掉框选合计的结果\n  if (cellRanges.length === 0) {\n    var _context$clearSumResu;\n    (_context$clearSumResu = context.clearSumResult) === null || _context$clearSumResu === void 0 || _context$clearSumResu.call(context);\n  }\n  if (context.gridContrlParams.postRangeSelection) {\n    setSelectionRangePostDataWrap(cellRanges, context.getLastestGridModel(), context.props.setSelectionRangePostData, {\n      api: context.api,\n      rk: context.gridState.rk\n    });\n  }\n};\n\n/**\n * 表格列过滤回掉\n * 用来处理单据体过滤后无数据情况\n * @param {*} filterEvent\n */\nvar handleFilterChanged = exports.handleFilterChanged = function handleFilterChanged(gridContrlParams, filterEvent, seq) {\n  var isListView = gridContrlParams.isListView,\n    isVirtualView = gridContrlParams.isVirtualView,\n    showSeq = gridContrlParams.showSeq;\n  // 只处理单据体\n  if (isListView || isVirtualView) return;\n  var api = filterEvent.api;\n  if (api.getDisplayedRowCount() === 0) {\n    api.showNoRowsOverlay();\n    return;\n  }\n  api.hideOverlay();\n  showSeq && refreshSeqCells(api, seq);\n};\nfunction refreshSeqCells(api, seq) {\n  // 更新序号列\n  var refreshCells = {\n    rowNodes: api.getRenderedNodes(),\n    columns: [seq]\n  };\n  api.refreshCells(refreshCells);\n}\nfunction setPinnedClass(context, params) {\n  var direction = params.direction,\n    left = params.left,\n    columnApi = params.columnApi;\n  if (direction === 'horizontal' && context.gridContainerI) {\n    // 设置在绝对定位容器内部，减少回流\n    if (columnApi.isPinningLeft()) {\n      left > 0 && context.gridContainerI.classList.add('grid-pinning-left');\n      left === 0 && context.gridContainerI.classList.remove('grid-pinning-left');\n    }\n    if (columnApi.isPinningRight()) {\n      var scollEle = context.gridContainerI.querySelector('.ag-body-horizontal-scroll .ag-body-horizontal-scroll-viewport');\n      if ((0, _GridUtils.isSrollToEnd)(scollEle, 'x')) {\n        context.gridContainerI.classList.remove('grid-pinning-right');\n      } else {\n        context.gridContainerI.classList.add('grid-pinning-right');\n      }\n    }\n  }\n}\nvar _setPinnedClass = _lodash[\"default\"].debounce(setPinnedClass, 100, {\n  leading: true,\n  trailing: true\n}); // leading开始执行 trailing结束也执行\n\nfunction autoSizeColumnsByScroll(context, apiParams, execParams) {\n  var gridContrlParams = context.gridContrlParams;\n  var top = execParams.top;\n  if (!gridContrlParams || top === 0) {\n    // 避免翻页时多余自适应，top=0加载完毕时已经处理过。\n    return;\n  }\n  var isBreak = function isBreak() {\n    return context.gridVerticalScrollTop !== top;\n  };\n  (0, _gridPureFun.autoSizeColumnsByFrame)(context, apiParams, {\n    isBreak: isBreak\n  });\n}\nvar _autoSizeColumnsByScroll = _lodash[\"default\"].debounce(autoSizeColumnsByScroll, 200);\nfunction handleAutoSizeColumnsByScroll(context, params) {\n  var top = params.top;\n  context.gridVerticalScrollTop = top;\n  _autoSizeColumnsByScroll(context, params, {\n    top: top\n  });\n}\nvar _handleAutoSizeColumnsByScroll = _lodash[\"default\"].debounce(handleAutoSizeColumnsByScroll, 200);\nfunction _onBodyScroll(context, params) {\n  _setPinnedClass(context, params);\n  context.gridEventService.dispatchEvent({\n    eventType: _gridEventName[\"default\"].bodyScroll,\n    params: params\n  });\n\n  // 空数据不做自适应\n  if (context.api.getDisplayedRowCount() === 0) return;\n  if (!context.hadRenderCol) {\n    // 记住已经渲染过的列\n    context.hadRenderCol = {};\n    var columns = params.columnApi.getAllDisplayedVirtualColumns();\n    columns.forEach(function (item) {\n      context.hadRenderCol[item.colId] = true;\n    });\n  }\n  if (params.direction === 'vertical') {\n    handleAutoSizeColumnsByScroll(context, params);\n  } else if (params.direction === 'horizontal') {\n    _handleAutoSizeColumnsByScroll(context, params);\n  }\n}\nfunction _onAnimationQueueEmpty(context, params) {\n  context.gridEventService.dispatchEvent({\n    eventType: _gridEventName[\"default\"].animationQueueEmpty\n  });\n}\nfunction _onGridColumnsChanged(context, params) {\n  context.gridQuickFilterModelRef.onGridColumnsChanged && context.gridQuickFilterModelRef.onGridColumnsChanged();\n  context.api && (0, _gridPureFun.refreshCustomCols)(context[_gridConst.GRID_CUSTOM_COL_SCHEMA_INFOS], context.gridState, context.api); // 列定义改变 也得刷新下自定义列\n}\nfunction _postProcessPopup(context, params) {\n  var ePopup = params.ePopup;\n  // 过滤菜单底部不足以显示的时候设置最大高度\n  if (params.type === 'columnMenu') {\n    // const ePopupRect = params.ePopup.getBoundingClientRect()\n    var tbody = params.ePopup.querySelector('.ag-tab-body');\n    var tbodyRect = tbody.getBoundingClientRect();\n    // 最大高度不能超过 450px\n    var maxHeight = Math.min(window.innerHeight - tbodyRect.top - 12, 450);\n    tbody.style.cssText += \";max-height: \".concat(maxHeight, \"px;overflow: auto;display:flex;\");\n    var left = ePopup.style.left;\n    var leftNum = Number(left.substring(0, left.indexOf('px')));\n    // 过滤弹出窗位置离页面边缘的距离不能小于弹出框输入框的宽度，否则在日期等面板弹出时，会导致页面跳动\n    // 长日期类型输入框长度 考虑了滚动条的情况\n    var MAX_INPUT_WIDTH = 210;\n    if (window.innerWidth - leftNum < MAX_INPUT_WIDTH) {\n      ePopup.style.left = window.innerWidth - MAX_INPUT_WIDTH + 'px';\n    }\n    context._popupResizeObserve && context._popupResizeObserve.removeResizeObserve();\n    context._popupResizeObserve = (0, _resizeObserve[\"default\"])(tbody, function (_ref2) {\n      var width = _ref2.width;\n      if (window.innerWidth < width + leftNum) {\n        ePopup.style.left = window.innerWidth - width + 'px';\n      }\n    });\n  } else if (params.type === 'contextMenu') {\n    var _ePopup$classList;\n    (_ePopup$classList = ePopup.classList) === null || _ePopup$classList === void 0 || _ePopup$classList.add('kd-cq-context-menu');\n  }\n\n  // 滚动 列过滤面板/右键菜单都会消失\n  var removeScrollListen = function removeScrollListen(context) {\n    document.removeEventListener('scroll', context._scrollEvent, true);\n    delete context._scrollEvent;\n  };\n  removeScrollListen(context);\n  context._scrollEvent = function (e) {\n    var _context$api;\n    if (ePopup.contains(e.target)) return;\n    removeScrollListen(context);\n    (_context$api = context.api) === null || _context$api === void 0 || _context$api.hidePopupMenu();\n  };\n  document.addEventListener('scroll', context._scrollEvent, true);\n}\n\n/**\n * 不涉及调用多个agGrid函数的agGrid回调函数\n * agGrid回调函数,this已经指向agGridCore的this\n */\nfunction getCallBackProps() {\n  var _this = this;\n  var _this$props$model = this.props.model,\n    model = _this$props$model === void 0 ? {} : _this$props$model;\n  var meta = model.meta;\n  var suppressCopy = meta && meta.get('scp', false); // 禁止复制功能\n\n  return {\n    navigateToNextCell: navigateToNextCell,\n    tabToNextCell: tabToNextCell(this),\n    onRangeSelectionChanged: function onRangeSelectionChanged() {\n      return getSelectionRange(_this);\n    },\n    onBodyScroll: function onBodyScroll(params) {\n      return _onBodyScroll(_this, params);\n    },\n    onGridColumnsChanged: function onGridColumnsChanged(params) {\n      return _onGridColumnsChanged(_this, params);\n    },\n    postProcessPopup: function postProcessPopup(params) {\n      return _postProcessPopup(_this, params);\n    },\n    onAnimationQueueEmpty: function onAnimationQueueEmpty(params) {\n      return _onAnimationQueueEmpty(_this, params);\n    },\n    sendToClipboard: suppressCopy ? function () {} : null // 该方法会截断ag内部的复制，以此来禁止复制\n  };\n}\nvar _default = exports[\"default\"] = getCallBackProps;\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/gridCoreUseFucntion/agGridCbFun.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/gridCoreUseFucntion/gridPureFun.js":
/*!**********************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/gridCoreUseFucntion/gridPureFun.js ***!
  \**********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-properties.js */ \"../../node_modules/core-js/modules/es.object.define-properties.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptors.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.autoSizeColumnsByFrame = autoSizeColumnsByFrame;\nexports.cellRangesOutOfSizeTips = cellRangesOutOfSizeTips;\nexports.cellRangesOverlapTips = cellRangesOverlapTips;\nexports.checkValidateFailedCountOfHidden = checkValidateFailedCountOfHidden;\nexports.getCellDisplayValueWrap = getCellDisplayValueWrap;\nexports.getCellRangeCalculatedResult = getCellRangeCalculatedResult;\nexports.getCellRangeId = getCellRangeId;\nexports.getCellRangeInfo = getCellRangeInfo;\nexports.getColDef = getColDef;\nexports.getColWidthFromSettings = exports.getColProperty = void 0;\nexports.getColumnSequence = getColumnSequence;\nexports.getFirstEditableCell = exports.getDataProperty = void 0;\nexports.getGridPostData = getGridPostData;\nexports.getLockedByNum = void 0;\nexports.getNextValidateFailedCol = getNextValidateFailedCol;\nexports.getVisibleByNum = exports.getSelectCellRangesInfo = exports.getRowProperty = void 0;\nexports.isCellRangesOutOfSize = isCellRangesOutOfSize;\nexports.isCellRangesOverlap = isCellRangesOverlap;\nexports.isPinningRight = isPinningRight;\nexports.mergeCellRangesResult = mergeCellRangesResult;\nexports.recordLastFocusCell = void 0;\nexports.refreshCustomCols = refreshCustomCols;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.find-index.js */ \"../../node_modules/core-js/modules/es.array.find-index.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.array.reduce.js */ \"../../node_modules/core-js/modules/es.array.reduce.js\");\n__webpack_require__(/*! core-js/modules/es.array.reverse.js */ \"../../node_modules/core-js/modules/es.array.reverse.js\");\n__webpack_require__(/*! core-js/modules/es.array.some.js */ \"../../node_modules/core-js/modules/es.array.some.js\");\n__webpack_require__(/*! core-js/modules/es.map.js */ \"../../node_modules/core-js/modules/es.map.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nvar _rowKeyMiddleware = __webpack_require__(/*! @/util/rowKeyMiddleware */ \"./src/util/rowKeyMiddleware.js\");\nvar _componentutil = __webpack_require__(/*! @/util/componentutil */ \"./src/util/componentutil.js\");\nvar _memoryCacher = __webpack_require__(/*! @/model/memoryCacher */ \"./src/model/memoryCacher.js\");\nvar _gridConst = __webpack_require__(/*! @/constant/gridConst */ \"./src/constant/gridConst.js\");\nvar _GridUtils = __webpack_require__(/*! ../GridUtils */ \"./src/component/web/DataGrid/AgDataGrid/GridUtils.js\");\nvar _CellRenderer = __webpack_require__(/*! ../CellRenderer */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/index.js\");\nvar _appModelFunction = __webpack_require__(/*! @/model/appModelFunction */ \"./src/model/appModelFunction.js\");\nvar _BaseCustomCtrl = __webpack_require__(/*! @/component/web/base/CustomCtrl/BaseCustomCtrl */ \"./src/component/web/base/CustomCtrl/BaseCustomCtrl.js\");\nvar _gridModel = __webpack_require__(/*! ../gridModel */ \"./src/component/web/DataGrid/AgDataGrid/gridModel/index.js\");\nvar _memoryCacher2 = __webpack_require__(/*! ../../../../../model/memoryCacher */ \"./src/model/memoryCacher.js\");\nvar _dataService = __webpack_require__(/*! @/component/web/DataGrid/TableHelper/util/dataService.js */ \"./src/component/web/DataGrid/TableHelper/util/dataService.js\");\nvar _serverproperties = __webpack_require__(/*! @/constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _big = _interopRequireDefault(__webpack_require__(/*! big.js */ \"../../node_modules/big.js/big.js\"));\nvar _numberUtil = __webpack_require__(/*! @/util/numberUtil */ \"./src/util/numberUtil.js\");\nvar _intlApi = __webpack_require__(/*! ../../../../../i18n/intlApi */ \"./src/i18n/intlApi.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); } /**\n* 表格进一步封装的方法\n*/\n// 获取表格data中有关的列的属性，如下拉列的动态下拉项、列的动态锁定性、列的动态可见性等。\nvar getColProperty = exports.getColProperty = function getColProperty(model) {\n  return function (colId, propName) {\n    var path;\n    switch (propName) {\n      case 'colCtrl':\n      case 'colVisb':\n      case 'colLock':\n        path = colId ? [propName, colId] : [propName];\n        break;\n      default:\n        break;\n    }\n    var dataOpts = model.getDataProperty(path);\n    return dataOpts ? dataOpts.toJS() : {};\n  };\n};\n\n// 获取行数中的属性\nvar getRowProperty = exports.getRowProperty = function getRowProperty(model) {\n  return function (rowIndex, propIndex, colId) {\n    var gridData = model.getDataValue();\n    rowIndex = (0, _rowKeyMiddleware.transformAbsolute2Relative)(rowIndex)(gridData);\n    var dataOpts = gridData.getIn(['rows', rowIndex, propIndex, colId]);\n    return dataOpts ? dataOpts.toJS() : {};\n  };\n};\nvar getDataProperty = exports.getDataProperty = function getDataProperty(model) {\n  return function (path) {\n    return model.getDataProperty(path);\n  };\n};\nvar getLockedByNum = exports.getLockedByNum = function getLockedByNum(model) {\n  return function (l) {\n    return (0, _componentutil.getLocked)(model, undefined, l);\n  };\n};\nvar getVisibleByNum = exports.getVisibleByNum = function getVisibleByNum(model) {\n  return function (colkey, v) {\n    return (0, _componentutil.getVisible)(model, colkey, v);\n  };\n};\nvar getColWidthFromSettings = exports.getColWidthFromSettings = function getColWidthFromSettings(model) {\n  return function (field) {\n    var settigs = model.getPageSettingByKey();\n    if (settigs) {\n      var colWidth = settigs.getIn(['cw', field]);\n      return colWidth;\n    }\n    return null;\n  };\n};\n// 获取单据体选中部分执行删除时的单元格信息\nvar getSelectCellRangesInfo = exports.getSelectCellRangesInfo = function getSelectCellRangesInfo(selRanges, api, getCellIsLock) {\n  var _selRanges$ = selRanges[0],\n    columns = _selRanges$.columns,\n    endRow = _selRanges$.endRow,\n    startRow = _selRanges$.startRow;\n  var endRowIndex = endRow.rowIndex;\n  var startRowIndex = startRow.rowIndex;\n  // 选中范围里面有合计行的情况, 合计行不计入选中范围\n  if (startRow.rowPinned || endRow.rowPinned) {\n    // 只选中了合计行, 选中范围为空\n    if (startRow.rowPinned && endRow.rowPinned) {\n      return [];\n    }\n    // 选中合计行，即选中第一个选中行到最后一行, 不包括合计行\n    startRowIndex = startRow.rowPinned ? endRowIndex : startRowIndex;\n    endRowIndex = api.getDisplayedRowCount() - 1;\n  }\n  if (endRowIndex < startRowIndex) {\n    var tem = endRowIndex;\n    endRowIndex = startRowIndex;\n    startRowIndex = tem;\n  }\n  var value = [];\n  var _loop = function _loop() {\n    var rowData = api.getDisplayedRowAtIndex(i);\n    var _rowData$data = rowData.data,\n      data = _rowData$data === void 0 ? {} : _rowData$data;\n    var rk = data.rk;\n    var selectColumns = columns || [];\n    selectColumns.forEach(function (item) {\n      var colDef = item.colDef;\n      var isLock = getCellIsLock(rk, colDef) || !colDef.editable; // 是否锁定，锁定则不能删除\n      if (isLock) return;\n      var emptyValue = getEmptyValue(colDef, data);\n      value.push({\n        k: item.colId,\n        r: rk,\n        v: emptyValue\n      });\n    });\n  };\n  for (var i = startRowIndex; i <= endRowIndex; i++) {\n    _loop();\n  }\n  return value;\n};\nfunction getEmptyValue(colDef, data) {\n  var field = colDef.field,\n    colType = colDef.colType;\n  var emptyValue = null;\n  // 弹性域字段删除不能直接置null, 要返回对应的数据格式\n  if (colType === _serverproperties.Ctrls.KDFlexField) {\n    var originValue = (0, _GridUtils.getCellValue)(data, field) || [];\n    emptyValue = originValue.map(function (valueItem) {\n      return _objectSpread(_objectSpread({}, valueItem), {}, {\n        v: '',\n        alias: ''\n      });\n    });\n  }\n  return emptyValue;\n}\n\n/**\n * 获取列顺序 ['name', 'age', ...]\n * @param {*} columnApi\n */\nfunction getColumnSequence(columnApi) {\n  try {\n    var displayedColumn = columnApi.getAllDisplayedColumns();\n    var columnSequence = [];\n    displayedColumn.forEach(function (colItem) {\n      var field = colItem.colDef.field;\n      // 过滤到设置列和选择列\n      if (field && field !== _gridConst.SETTING_COL && field !== 'XXfieldXX') {\n        columnSequence.push(field);\n      }\n    });\n    return columnSequence;\n  } catch (err) {\n    console.log(err);\n    return [];\n  }\n}\nfunction getColDef(colId, columnDefs) {\n  var colDef = columnDefs && (0, _GridUtils.childrenLookUp)(columnDefs, function (item) {\n    return item.field === colId;\n  });\n  if (!colDef) {\n    console.warn(\"\".concat(colId, \" column def not found!\"));\n  }\n  return colDef;\n}\nfunction getCellDisplayValueWrap(colDef, value, rowData) {\n  var _ref = colDef || {},\n    cellRendererParams = _ref.cellRendererParams;\n  return (0, _CellRenderer.getCellDisplayValueByRender)(_objectSpread(_objectSpread({}, cellRendererParams), {}, {\n    colDef: colDef || {}\n  }), value, rowData);\n}\nfunction getGridPostData(model) {\n  if (!model) {\n    return {};\n  }\n  var contorlPost = (0, _appModelFunction.getContorlPost)(model.pageId)(model.state);\n  return contorlPost.get(model.key, {});\n}\nfunction refreshCustomCols(gridCustomColSchemaInfos, gridState, api) {\n  if (gridCustomColSchemaInfos) {\n    var keys = Object.keys(gridCustomColSchemaInfos);\n    var type = gridState.type,\n      gridType = gridState.gridType,\n      pageId = gridState.pageId,\n      localeId = gridState.localeId;\n    var props = {\n      pageId: pageId,\n      controlKey: '',\n      fileServer: gridState.config.fileServer,\n      customProps: {\n        lang: localeId\n      }\n    };\n    var trackingOfGridCustomColumnProps = function trackingOfGridCustomColumnProps(colIds, controlValue) {\n      var controlType = (0, _dataService.getGridTrackingType)({\n        type: type,\n        gridType: gridType\n      });\n      Array.isArray(colIds) && colIds.forEach(function (controlId) {\n        (0, _dataService.trackingOfGridProps)({\n          pageId: pageId,\n          controlId: controlId,\n          controlName: '',\n          controlType: \"\".concat(controlType, \"-customColumn\"),\n          // 列类型，自定义字段直接写死,\n          controlProp: 'customInfo',\n          // 自定义方案参数名,\n          controlValue: controlValue\n        });\n      });\n    };\n    keys && keys.forEach(function (key) {\n      var customColSchemaInfoitem = gridCustomColSchemaInfos[key];\n      props.schemaId = key;\n      props.isvId = customColSchemaInfoitem.isvId;\n      props.moduleId = customColSchemaInfoitem.moduleId;\n      (0, _BaseCustomCtrl.initCustomComponentInstance)(props).then(function (CustomComponent) {\n        api.refreshCells({\n          rowNodes: api.getRenderedNodes(),\n          columns: customColSchemaInfoitem.cols || [],\n          force: true\n        });\n        trackingOfGridCustomColumnProps(customColSchemaInfoitem.cols, \"\".concat(customColSchemaInfoitem.isvId, \"_\").concat(customColSchemaInfoitem.moduleId, \"_\").concat(key));\n      })[\"catch\"](function (err) {\n        console.error('initCustomComponentInstance', err);\n      });\n    });\n  }\n}\nfunction autoSizeColumnsByFrame(context, apiParams, execParams) {\n  var gridContrlParams = context.gridContrlParams;\n  var columnApi = apiParams.columnApi,\n    direction = apiParams.direction;\n  var isBreak = execParams.isBreak;\n  var gridEditable = gridContrlParams.gridEditable,\n    autoHeight = gridContrlParams.autoHeight,\n    columnResizeMode = gridContrlParams.columnResizeMode;\n  if (!autoHeight) {\n    // 与行高自适应互斥\n    if (columnResizeMode === _gridConst.GRID_COLUMN_RESIZE_MODE.adaptive) {\n      // 仅列宽自适应\n      var handleColAutoSize = function handleColAutoSize(col) {\n        var enableCol = (0, _GridUtils.getEnableAutoSizeCol)(col, {\n          gridEditable: gridEditable,\n          getColWidthFromSettings: context.getColWidthFromSettings\n        });\n        if (!enableCol) {\n          return;\n        }\n        var preferredWidth = (0, _gridModel.getPreferredWidthForColumn)(enableCol, context.gridContainerI);\n        if (preferredWidth > 0) {\n          var _column = columnApi.getColumn(enableCol.colId);\n          if (direction === 'vertical') {\n            var isWideThanActualWidth = !_column ? true : preferredWidth > _column.actualWidth;\n            isWideThanActualWidth && setColumnsWidthAndCacheByAutoSize(context, columnApi, enableCol.colId, preferredWidth); // 仅处理变宽情况\n          } else if (direction === 'horizontal') {\n            var isNotEqualActualWidth = !_column ? true : preferredWidth !== _column.actualWidth;\n            var _isWideThanActualWidth = !_column ? true : preferredWidth > _column.actualWidth;\n            if (context.hadRenderCol[enableCol.colId]) {\n              _isWideThanActualWidth && setColumnsWidthAndCacheByAutoSize(context, columnApi, enableCol.colId, preferredWidth); // 已经渲染过的列仅处理变宽情况\n            } else {\n              isNotEqualActualWidth && setColumnsWidthAndCacheByAutoSize(context, columnApi, enableCol.colId, preferredWidth); // 没渲染过的列列宽不等时做自适应\n              context.hadRenderCol[enableCol.colId] = true;\n            }\n          }\n        }\n      };\n      var columns = columnApi.getAllDisplayedVirtualColumns(); // 可见列\n      (0, _GridUtils.executeFrameRecursion)(_toConsumableArray(columns), handleColAutoSize, {\n        isBreak: isBreak\n      });\n    }\n  }\n}\nvar setColumnsWidthAndCacheByAutoSize = function setColumnsWidthAndCacheByAutoSize(context, columnApi, colId, preferredWidth) {\n  var gridContrlParams = context.gridContrlParams,\n    gridState = context.gridState;\n  var isListView = gridContrlParams.isListView,\n    isVirtualView = gridContrlParams.isVirtualView,\n    isSubGrid = gridContrlParams.isSubGrid;\n  columnApi.setColumnWidth(colId, preferredWidth, false);\n  if (colId !== gridState.seq) {\n    // 子列表直接更新到state,存context退出时更新不上\n    if (isSubGrid) {\n      var superProps = context.props.superProps;\n      (0, _memoryCacher2.setPageUIState)(superProps.model, [_gridConst.SETTING_AUTOSIZE_COLUMN_WIDTH, colId], preferredWidth);\n      return;\n    }\n    // 1.列表 2.报表 3.单据体锁定列\n    context.columnWidthSetting[_gridConst.SETTING_AUTOSIZE_COLUMN_WIDTH][colId] = preferredWidth;\n  }\n};\nfunction isPinningRight(_ref2) {\n  var gridContainerI = _ref2.gridContainerI,\n    columnApi = _ref2.columnApi;\n  if (!columnApi || !columnApi.isPinningRight() || !gridContainerI || !gridContainerI.querySelector('.ag-body-horizontal-scroll .ag-body-horizontal-scroll-viewport')) {\n    return false;\n  }\n  var scrollEle = gridContainerI.querySelector('.ag-body-horizontal-scroll .ag-body-horizontal-scroll-viewport');\n  return !(0, _GridUtils.isSrollToEnd)(scrollEle, 'x');\n}\nvar getFirstEditableCell = exports.getFirstEditableCell = function getFirstEditableCell(_ref3) {\n  var api = _ref3.api,\n    columnApi = _ref3.columnApi,\n    rowKey = _ref3.rowKey,\n    getCellIsLock = _ref3.getCellIsLock,\n    gridEditable = _ref3.gridEditable,\n    reverse = _ref3.reverse;\n  if (!api || !columnApi || !gridEditable) return;\n  var columns = columnApi.getAllDisplayedColumns().map(function (_ref4) {\n    var colDef = _ref4.colDef;\n    return colDef;\n  });\n  var rows = api.rowModel.rowsToDisplay.map(function (_ref5) {\n    var data = _ref5.data;\n    return data[rowKey];\n  });\n  if (reverse) {\n    columns = _toConsumableArray(columns).reverse();\n    rows = _toConsumableArray(rows).reverse();\n  }\n  var _iterator = _createForOfIteratorHelper(rows),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var rk = _step.value;\n      var _iterator2 = _createForOfIteratorHelper(columns),\n        _step2;\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var colDef = _step2.value;\n          if (!colDef) continue;\n          var editable = colDef.editable,\n            colId = colDef.colId,\n            cellRendererParams = colDef.cellRendererParams;\n          if (!editable || colId === '0') continue;\n          if (!getCellIsLock(rk, colDef)) {\n            return {\n              rk: rk,\n              colId: colId\n            };\n          }\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n};\nvar recordLastFocusCell = exports.recordLastFocusCell = function recordLastFocusCell(api, rk, setContextProp, getContextProp) {\n  var _gridContainer$contai;\n  if (!api) return;\n  var editingCell = api.getEditingCells()[0];\n  // 之前有在编辑的单元格,重新设置编辑态\n  if (editingCell) {\n    var rowIndex = editingCell.rowIndex,\n      colId = editingCell.column.colId;\n    var rowNode = api.getDisplayedRowAtIndex(rowIndex);\n    if (rowNode) {\n      // 过滤后可能node会找不到\n      var rowKey = rowNode.data[rk];\n      setContextProp('lastFocusCell', {\n        colId: colId,\n        rowKey: rowKey,\n        editing: true\n      });\n    }\n    return;\n  }\n\n  // 之前没有编辑中的单元格, 如果之前存在焦点则重置焦点\n  var focusCell = api.getFocusedCell();\n  var gridContainer = getContextProp('gridContainerI');\n  var gridIsActive = gridContainer === null || gridContainer === void 0 || (_gridContainer$contai = gridContainer.contains) === null || _gridContainer$contai === void 0 ? void 0 : _gridContainer$contai.call(gridContainer, document.activeElement);\n  if (focusCell && gridIsActive) {\n    var _rowIndex = focusCell.rowIndex,\n      column = focusCell.column;\n    var _rowNode = api.getDisplayedRowAtIndex(_rowIndex);\n    if (column && _rowNode) {\n      // 过滤后可能node会找不到, 动态隐藏列后column可能为null\n      var _rowKey = _rowNode.data[rk];\n      var _colId = column.colId;\n      setContextProp('lastFocusCell', {\n        colId: _colId,\n        rowKey: _rowKey,\n        editing: false\n      });\n    }\n  }\n};\nfunction checkValidateFailedCountOfHidden(api, gridState, gridRows) {\n  var pageId = gridState.pageId,\n    gridId = gridState.gridId,\n    rk = gridState.rk;\n  var validateFailedCountOfHidden = 0;\n  var isColumnFilter = api.isColumnFilterPresent();\n  var _getGridValidateFaile = getGridValidateFailedCount({\n      pageId: pageId,\n      gridId: gridId\n    }),\n    countMap = _getGridValidateFaile.countMap,\n    count = _getGridValidateFaile.count;\n  if (isColumnFilter && count) {\n    var showErrorCount = 0;\n    api.forEachNodeAfterFilter(function (rowNode) {\n      if (countMap.has(rowNode.data[rk])) {\n        showErrorCount += countMap.get(rowNode.data[rk]);\n      }\n    });\n    validateFailedCountOfHidden = count - showErrorCount;\n  }\n  (0, _memoryCacher.setPageData)(pageId, [gridId, _gridConst.VALIDATE_FAILED_COUNT], validateFailedCountOfHidden);\n}\nfunction getGridValidateFailedCount(_ref6) {\n  var pageId = _ref6.pageId,\n    gridId = _ref6.gridId;\n  var gridValidateData = (0, _appModelFunction.getGridValidateData)(pageId, [gridId]);\n  var countMap = new Map();\n  var count = 0;\n  if (gridValidateData) {\n    gridValidateData.forEach(function (rowValidateData, rowKey) {\n      rowValidateData.forEach(function (value) {\n        countMap.set(rowKey, !countMap.has(rowKey) ? 1 : countMap.get(rowKey) + value.size);\n        count += value.size;\n      });\n    });\n  }\n  return {\n    countMap: countMap,\n    count: count\n  };\n}\nfunction getNextValidateFailedCol(columnApi, currentColId, gridRowValidateData) {\n  var currentCol = columnApi.getColumn(currentColId);\n  var col = columnApi.getDisplayedColAfter(currentCol);\n  while (col) {\n    if (gridRowValidateData.has(col.colId)) {\n      return col;\n    }\n    col = columnApi.getDisplayedColAfter(col);\n  }\n  return null;\n}\n\n/**\n * 获取框选范围唯一标识\n * @param {*} cellRange\n * @returns\n */\nfunction getCellRangeId(cellRange, _ref7) {\n  var api = _ref7.api;\n  var _getCellRangeInfo = getCellRangeInfo(cellRange, {\n      api: api\n    }),\n    startIndex = _getCellRangeInfo.startIndex,\n    endIndex = _getCellRangeInfo.endIndex,\n    pinnedRowStartIndex = _getCellRangeInfo.pinnedRowStartIndex,\n    pinnedRowEndIndex = _getCellRangeInfo.pinnedRowEndIndex,\n    columns = _getCellRangeInfo.columns;\n  var firstColId = columns[0].colId;\n  var endColId = columns[columns.length - 1].colId;\n  return startIndex + '_' + endIndex + '_' + pinnedRowStartIndex + '_' + pinnedRowEndIndex + '_' + firstColId + '_' + endColId;\n}\nfunction getCellRangeInfo(cellRange, _ref8) {\n  var api = _ref8.api;\n  var startRow = cellRange.startRow,\n    endRow = cellRange.endRow,\n    columns = cellRange.columns;\n  // const { startIndex,rowPinned }  = startRow\n  var startIndex = -1;\n  var endIndex = -1;\n  var pinnedRowStartIndex = -1;\n  var pinnedRowEndIndex = -1;\n  if (!startRow.rowPinned && !endRow.rowPinned) {\n    startIndex = Math.min(startRow.rowIndex, endRow.rowIndex);\n    endIndex = Math.max(startRow.rowIndex, endRow.rowIndex);\n  } else if (!startRow.rowPinned && endRow.rowPinned) {\n    startIndex = startRow.rowIndex;\n    endIndex = api.getDisplayedRowCount() - 1;\n    pinnedRowStartIndex = 0;\n    pinnedRowEndIndex = endRow.rowIndex;\n  } else if (startRow.rowPinned && !endRow.rowPinned) {\n    startIndex = endRow.rowIndex;\n    endIndex = api.getDisplayedRowCount() - 1;\n    pinnedRowStartIndex = 0;\n    pinnedRowEndIndex = startRow.rowIndex;\n  } else {\n    pinnedRowStartIndex = Math.min(startRow.rowIndex, endRow.rowIndex);\n    pinnedRowEndIndex = Math.max(startRow.rowIndex, endRow.rowIndex);\n  }\n  return {\n    startIndex: startIndex,\n    endIndex: endIndex,\n    pinnedRowStartIndex: pinnedRowStartIndex,\n    pinnedRowEndIndex: pinnedRowEndIndex,\n    columns: columns\n  };\n}\n\n/**\n * 合并两次框选合计结果\n * @param {*} prevResult\n * @param {*} nextResult\n * @returns\n */\nfunction mergeCellRangesResult(prevResult, nextResult) {\n  if (!prevResult) return nextResult;\n  if (!nextResult) return prevResult;\n  var prevPlus = prevResult.plus,\n    prevCount = prevResult.count,\n    prevNumberCount = prevResult.numberCount;\n  var nextPlus = nextResult.plus,\n    nextCount = nextResult.count,\n    nextNumberCount = nextResult.numberCount;\n  var plus = prevPlus.plus(nextPlus);\n  var count = prevCount + nextCount;\n  var numberCount = prevNumberCount + nextNumberCount;\n  var average = numberCount === 0 ? new _big[\"default\"](0) : plus.div(numberCount);\n  return {\n    plus: plus,\n    count: count,\n    numberCount: numberCount,\n    average: average\n  };\n}\n\n/**\n * 判断两个区间是否有重叠\n * @param {*} interval1\n * @param {*} interval2\n * @returns\n */\nfunction isIntervalsOverlap(interval1, interval2) {\n  return Math.max(interval1.start, interval2.start) <= Math.min(interval1.end, interval2.end);\n}\n\n/**\n * 判断两个框选范围是否有重叠\n * @param {*} area1\n * @param {*} area2\n * @returns\n */\nfunction isCellRangeAreasOverlap(area1, area2) {\n  var isRowOverlap = isIntervalsOverlap({\n    start: area1.startRowIndex,\n    end: area1.endRowIndex\n  }, {\n    start: area2.startRowIndex,\n    end: area2.endRowIndex\n  });\n  var isColumnOverlap = isIntervalsOverlap({\n    start: area1.startColumnIndex,\n    end: area1.endColumnIndex\n  }, {\n    start: area2.startColumnIndex,\n    end: area2.endColumnIndex\n  });\n  return isRowOverlap && isColumnOverlap;\n}\n\n/**\n * 获取框选范围区域\n * @param {*} cellRange\n * @param {*} allColumns\n * @returns\n */\nfunction getCellRangeArea(cellRange, _ref9) {\n  var allColumns = _ref9.allColumns,\n    api = _ref9.api;\n  var _getCellRangeInfo2 = getCellRangeInfo(cellRange, {\n      api: api\n    }),\n    startIndex = _getCellRangeInfo2.startIndex,\n    endIndex = _getCellRangeInfo2.endIndex,\n    pinnedRowStartIndex = _getCellRangeInfo2.pinnedRowStartIndex,\n    pinnedRowEndIndex = _getCellRangeInfo2.pinnedRowEndIndex,\n    columns = _getCellRangeInfo2.columns;\n  var allCount = api.getDisplayedRowCount();\n  var startRowIndex = startIndex !== -1 ? startIndex : allCount + pinnedRowStartIndex;\n  var endRowIndex = pinnedRowEndIndex !== -1 ? allCount + pinnedRowEndIndex : endIndex;\n  var firstColumn = columns[0];\n  var startColumnIndex = allColumns.findIndex(function (col) {\n    return col.colId === firstColumn.colId;\n  });\n  var endColumnIndex = startColumnIndex + columns.length - 1;\n  return {\n    startRowIndex: startRowIndex,\n    endRowIndex: endRowIndex,\n    startColumnIndex: startColumnIndex,\n    endColumnIndex: endColumnIndex\n  };\n}\n\n/**\n * 判断所有的框选范围是否有重叠\n * @param {*} cellRanges\n * @param {*} param1\n * @returns\n */\nfunction isCellRangesOverlap(cellRanges, _ref10) {\n  var columnApi = _ref10.columnApi,\n    api = _ref10.api;\n  if (cellRanges.length <= 1) return false;\n  var allColumns = columnApi.getAllDisplayedColumns();\n  var hadComparedCellRangeAreas = [];\n  var isOverlap = cellRanges.some(function (cellRange) {\n    var currentCellRangeArea = getCellRangeArea(cellRange, {\n      allColumns: allColumns,\n      api: api\n    });\n    var isCurrentOverlap = hadComparedCellRangeAreas.some(function (cellRangeArea) {\n      return isCellRangeAreasOverlap(cellRangeArea, currentCellRangeArea);\n    });\n    if (isCurrentOverlap) {\n      return true;\n    } else {\n      hadComparedCellRangeAreas.push(currentCellRangeArea);\n      return false;\n    }\n  });\n  return isOverlap;\n}\nfunction isCellRangesOutOfSize(cellRanges, _ref11) {\n  var api = _ref11.api,\n    seq = _ref11.seq;\n  return cellRanges.some(function (cellRange) {\n    var isHadNumberCol = cellRange.columns.some(function (col) {\n      return isNumberCol(col, {\n        seq: seq\n      });\n    });\n\n    // 没有数值列的，不需要合计，也就不需要判断是否超出行数\n    if (!isHadNumberCol) return false;\n    var _getCellRangeInfo3 = getCellRangeInfo(cellRange, {\n        api: api\n      }),\n      startIndex = _getCellRangeInfo3.startIndex,\n      endIndex = _getCellRangeInfo3.endIndex,\n      pinnedRowStartIndex = _getCellRangeInfo3.pinnedRowStartIndex,\n      pinnedRowEndIndex = _getCellRangeInfo3.pinnedRowEndIndex;\n    return endIndex - startIndex + (pinnedRowEndIndex - pinnedRowStartIndex) >= _gridConst.CELL_RANGE_SUM_MAX_COUNT;\n  });\n}\n\n/**\n * 获取单个框选范围的合计结果\n * @param {*} cellRange\n * @param {*} param1\n * @returns\n */\nfunction getCellRangeCalculatedResult(cellRange, _ref12) {\n  var getNodeByRowIndex = _ref12.getNodeByRowIndex,\n    seq = _ref12.seq,\n    api = _ref12.api;\n  var columns = cellRange.columns;\n  // const startIndex = Math.min(startRow.rowIndex, endRow.rowIndex)\n  // const endIndex = Math.max(startRow.rowIndex, endRow.rowIndex)\n  var cellRangeSelectedRows = getCellRangeSelectedRows(cellRange, {\n    api: api,\n    getNodeByRowIndex: getNodeByRowIndex\n  });\n  // 框选的单元格个数\n  var cellCount = 0;\n  // 数值类单元格个数\n  var numberCellCount = columns.reduce(function (count, col) {\n    count += isNumberCol(col, {\n      seq: seq\n    }) ? cellRangeSelectedRows.length : 0;\n    return count;\n  }, 0);\n  var plusResult = cellRangeSelectedRows.reduce(function (value, row) {\n    cellCount += columns.length;\n    // 行数据合计\n    var rowPlusValue = getRowPlusValue(columns, row, {\n      seq: seq\n    });\n    return value.plus(rowPlusValue);\n  }, new _big[\"default\"](0));\n  var average = numberCellCount === 0 ? new _big[\"default\"](0) : plusResult.div(numberCellCount);\n  return {\n    plus: plusResult,\n    average: average,\n    count: cellCount,\n    numberCount: numberCellCount\n  };\n}\nfunction getCellRangeSelectedRows(cellRange, _ref13) {\n  var api = _ref13.api,\n    getNodeByRowIndex = _ref13.getNodeByRowIndex;\n  var _getCellRangeInfo4 = getCellRangeInfo(cellRange, {\n      api: api\n    }),\n    startIndex = _getCellRangeInfo4.startIndex,\n    endIndex = _getCellRangeInfo4.endIndex,\n    pinnedRowStartIndex = _getCellRangeInfo4.pinnedRowStartIndex,\n    pinnedRowEndIndex = _getCellRangeInfo4.pinnedRowEndIndex;\n  // 框选超过100行时只取后100行\n  var cellRangeSelectedRows = [];\n  for (var i = startIndex; i <= endIndex; i++) {\n    if (i !== -1) {\n      cellRangeSelectedRows.push(getNodeByRowIndex(i));\n    }\n  }\n  for (var _i = pinnedRowStartIndex; _i <= pinnedRowEndIndex; _i++) {\n    if (_i !== -1) {\n      cellRangeSelectedRows.push(api.getPinnedBottomRow(_i));\n    }\n  }\n  return cellRangeSelectedRows;\n}\nfunction getRowPlusValue(columns, row, _ref14) {\n  var seq = _ref14.seq;\n  // 列数据合计\n  return columns.reduce(function (sum, col) {\n    var isNumber = isNumberCol(col, {\n      seq: seq\n    });\n    var value = isNumber ? getCellNumberValue(row, col) : 0;\n    var cellNumber = new _big[\"default\"](value);\n    return sum.plus(cellNumber);\n  }, new _big[\"default\"](0));\n}\n\n/**\n * 获取单元格合计数值\n * @param {*} row\n * @param {*} col\n * @returns\n */\nfunction getCellNumberValue(row, col) {\n  var colDef = col.colDef;\n  var colId = colDef.colId;\n  var cellParam = colDef.cellRendererParams;\n  var data = row.data;\n  var value = (0, _GridUtils.getCellValue)(data, colId);\n  if (!value) return 0;\n\n  // 存在格式化的取格式化的值\n  // 使用serializationSymbolNumber 去掉币别符号\n  if (cellParam.isuf && Array.isArray(value)) {\n    return (0, _numberUtil.serializationSymbolNumber)(value[0]) || 0;\n  }\n  return (0, _numberUtil.serializationSymbolNumber)(value) || 0;\n}\nfunction isNumberCol(col, _ref15) {\n  var seq = _ref15.seq;\n  var colDef = col.colDef;\n  var colType = colDef.colType,\n    colId = colDef.colId;\n  var cellParam = colDef.cellRendererParams;\n  return colType === _serverproperties.Ctrls.KDNumber && !cellParam.isPrivacy && colId !== seq;\n}\nfunction cellRangesOverlapTips(pageId) {\n  var content = (0, _intlApi.getLangMsg)('grid.key0050');\n  var message = [{\n    content: content,\n    duration: 3500,\n    type: 2\n  }];\n  (0, _appModelFunction.setDataMessages)(pageId, message);\n}\nfunction cellRangesOutOfSizeTips(pageId) {\n  var content = (0, _intlApi.getLangMsg)('grid.key0051');\n  var message = [{\n    content: content,\n    duration: 3500,\n    type: 2\n  }];\n  (0, _appModelFunction.setDataMessages)(pageId, message);\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/gridCoreUseFucntion/gridPureFun.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/gridCoreUseFucntion/index.js":
/*!****************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/gridCoreUseFucntion/index.js ***!
  \****************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nObject.defineProperty(exports, \"checkValidateFailedCountOfHidden\", ({\n  enumerable: true,\n  get: function get() {\n    return _gridPureFun.checkValidateFailedCountOfHidden;\n  }\n}));\nObject.defineProperty(exports, \"getCallBackProps\", ({\n  enumerable: true,\n  get: function get() {\n    return _agGridCbFun[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"getCellDisplayValueWrap\", ({\n  enumerable: true,\n  get: function get() {\n    return _gridPureFun.getCellDisplayValueWrap;\n  }\n}));\nObject.defineProperty(exports, \"getColDef\", ({\n  enumerable: true,\n  get: function get() {\n    return _gridPureFun.getColDef;\n  }\n}));\nObject.defineProperty(exports, \"getColumnSequence\", ({\n  enumerable: true,\n  get: function get() {\n    return _gridPureFun.getColumnSequence;\n  }\n}));\nObject.defineProperty(exports, \"getGridPostData\", ({\n  enumerable: true,\n  get: function get() {\n    return _gridPureFun.getGridPostData;\n  }\n}));\nObject.defineProperty(exports, \"getNextValidateFailedCol\", ({\n  enumerable: true,\n  get: function get() {\n    return _gridPureFun.getNextValidateFailedCol;\n  }\n}));\nObject.defineProperty(exports, \"getSumData\", ({\n  enumerable: true,\n  get: function get() {\n    return _lifeCycleFun.getSumData;\n  }\n}));\nObject.defineProperty(exports, \"handleFilterChanged\", ({\n  enumerable: true,\n  get: function get() {\n    return _agGridCbFun.handleFilterChanged;\n  }\n}));\nObject.defineProperty(exports, \"handleThemeChangedBeforeRefresh\", ({\n  enumerable: true,\n  get: function get() {\n    return _lifeCycleFun.handleThemeChangedBeforeRefresh;\n  }\n}));\nObject.defineProperty(exports, \"isPinningRight\", ({\n  enumerable: true,\n  get: function get() {\n    return _gridPureFun.isPinningRight;\n  }\n}));\nObject.defineProperty(exports, \"onGridReadyDo\", ({\n  enumerable: true,\n  get: function get() {\n    return _lifeCycleFun.onGridReadyDo;\n  }\n}));\nObject.defineProperty(exports, \"onKeyDown\", ({\n  enumerable: true,\n  get: function get() {\n    return _lifeCycleFun.onKeyDown;\n  }\n}));\nObject.defineProperty(exports, \"sendGridInfo\", ({\n  enumerable: true,\n  get: function get() {\n    return _lifeCycleFun.sendGridInfo;\n  }\n}));\nObject.defineProperty(exports, \"willUnmountDo\", ({\n  enumerable: true,\n  get: function get() {\n    return _lifeCycleFun.willUnmountDo;\n  }\n}));\nvar _lifeCycleFun = __webpack_require__(/*! ./lifeCycleFun */ \"./src/component/web/DataGrid/AgDataGrid/gridCoreUseFucntion/lifeCycleFun.js\");\nvar _agGridCbFun = _interopRequireWildcard(__webpack_require__(/*! ./agGridCbFun */ \"./src/component/web/DataGrid/AgDataGrid/gridCoreUseFucntion/agGridCbFun.js\"));\nvar _gridPureFun = __webpack_require__(/*! ./gridPureFun */ \"./src/component/web/DataGrid/AgDataGrid/gridCoreUseFucntion/gridPureFun.js\");\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/gridCoreUseFucntion/index.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/gridCoreUseFucntion/lifeCycleFun.js":
/*!***********************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/gridCoreUseFucntion/lifeCycleFun.js ***!
  \***********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.getSumData = void 0;\nexports.handleThemeChangedBeforeRefresh = handleThemeChangedBeforeRefresh;\nexports.willUnmountDo = exports.sendGridInfo = exports.onKeyDown = exports.onGridReadyDo = void 0;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.array.reduce.js */ \"../../node_modules/core-js/modules/es.array.reduce.js\");\n__webpack_require__(/*! core-js/modules/es.map.js */ \"../../node_modules/core-js/modules/es.map.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.parse-int.js */ \"../../node_modules/core-js/modules/es.parse-int.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.timers.js */ \"../../node_modules/core-js/modules/web.timers.js\");\nvar _lodash = __webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\");\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _global = __webpack_require__(/*! @/global */ \"./src/global/index.js\");\nvar _constant = __webpack_require__(/*! ../constant */ \"./src/component/web/DataGrid/AgDataGrid/constant.js\");\nvar _gridPureFun = __webpack_require__(/*! ./gridPureFun */ \"./src/component/web/DataGrid/AgDataGrid/gridCoreUseFucntion/gridPureFun.js\");\nvar _gridConst = __webpack_require__(/*! ../../../../../constant/gridConst */ \"./src/constant/gridConst.js\");\nvar _keyCode = __webpack_require__(/*! @/constant/keyCode */ \"./src/constant/keyCode.js\");\nvar _gridConst2 = __webpack_require__(/*! @/constant/gridConst */ \"./src/constant/gridConst.js\");\nvar _symbolConst = __webpack_require__(/*! @/constant/symbolConst */ \"./src/constant/symbolConst.js\");\nvar _GlobalDataCacher = __webpack_require__(/*! @/model/GlobalDataCacher */ \"./src/model/GlobalDataCacher.js\");\nvar _memoryCacher = __webpack_require__(/*! @/model/memoryCacher */ \"./src/model/memoryCacher.js\");\nvar _const = __webpack_require__(/*! @/constant/const */ \"./src/constant/const.js\");\nvar _params = __webpack_require__(/*! @/component/web/DataGrid/TableHelper/util/params */ \"./src/component/web/DataGrid/TableHelper/util/params.js\");\nvar _array = __webpack_require__(/*! @/component/web/DataGrid/TableHelper/util/array */ \"./src/component/web/DataGrid/TableHelper/util/array.js\");\nvar _appModelFunction = __webpack_require__(/*! @/model/appModelFunction */ \"./src/model/appModelFunction.js\");\nvar _dataService = __webpack_require__(/*! @/component/web/DataGrid/TableHelper/util/dataService */ \"./src/component/web/DataGrid/TableHelper/util/dataService.js\");\nvar _grid = __webpack_require__(/*! @/util/component/grid */ \"./src/util/component/grid.js\");\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; } // import { TIME_STAMP_FRESH } from '@/constant/const'\nvar getSumData = exports.getSumData = function getSumData(that) {\n  var model = that.latestProps.parentModel ? that.latestProps.parentModel : that.latestProps.model;\n  if (that.gridContrlParams.isVirtualView) {\n    return getVirtualViewSumData(that);\n  }\n  var dataValue = model.getDataValue();\n  var isgetsumdata = dataValue && dataValue.get('isgetsumdata');\n  if (!isgetsumdata) return;\n  var needInvokeByAutoGetAggData = false;\n  if (that.gridContrlParams.autoGetAggregateData) {\n    var floatBottomData = that.getDataProperty && that.getDataProperty(['value', 'floatBottomData']);\n    if (floatBottomData && floatBottomData.size > 0) {\n      // 判断是否存在合计值，存在则需要发\n      needInvokeByAutoGetAggData = true;\n    }\n  }\n  if (that[_constant.ISPINOPEN] || needInvokeByAutoGetAggData) {\n    // 1. 前端合计按钮开启 2.后端设置自动请求合计\n    if (that.props.invokeControlMethodSingle) {\n      // 后端要求，请求时禁止全选功能，这里需要触发事件\n      var _that$gridState = that.gridState,\n        pageId = _that$gridState.pageId,\n        gridId = _that$gridState.gridId;\n      (0, _memoryCacher.setPageData)(pageId, [gridId, 'invokeControlMethod', 'getSumData'], true);\n      that.props.invokeControlMethodSingle(model, 'getSumData', [], true);\n    }\n  }\n};\nfunction getVirtualViewSumData(that) {\n  if (that[_constant.ISPINOPEN] && that.gridContrlParams.asyncAggreate) {\n    if (that.props.invokeControlMethodSingle) {\n      // 后端要求，请求时禁止全选功能，这里需要触发事件\n      var _that$gridState2 = that.gridState,\n        pageId = _that$gridState2.pageId,\n        id = _that$gridState2.id;\n      (0, _memoryCacher.setPageData)(pageId, [id, 'invokeControlMethod', 'getSumData'], true);\n      that.props.invokeControlMethodSingle({\n        pageId: pageId,\n        key: id\n      }, 'getSumData', [], true);\n    }\n  }\n}\nvar onKeyDown = exports.onKeyDown = function onKeyDown(that) {\n  return function (e) {\n    if (that.activeView === 'tiledView') return;\n    var keyCode = e.keyCode;\n    var api = that.api;\n    switch (keyCode) {\n      // case KEYS.ENTER:\n      //   if (api) {\n      //     setNextFocus(e, api)\n      //   }\n      //   break\n      // case KEYS.DOWN:\n      // case KEYS.UP:\n      //   if (api) {\n      //     setKeyDownOrUpFocus(e, api)\n      //   }\n      //   break\n      case _keyCode.KEYS.DELETE:\n      case 8:\n        {\n          var selRanges = that.selectCellRanges;\n          var model = that.props.model;\n          if (!(selRanges && selRanges[0] && (selRanges[0].columns.length > 1 || Math.abs(selRanges[0].endRow.rowIndex - selRanges[0].startRow.rowIndex) >= 1))) {\n            return;\n          }\n          var value = (0, _gridPureFun.getSelectCellRangesInfo)(selRanges, api, that.getCellIsLock);\n          e.stopPropagation();\n          // invokeControlMethodSingle && invokeControlMethodSingle(model, 'setBillSelectRangesData', value)\n          that.props.deleteCellRanges(model, value);\n          break;\n        }\n    }\n  };\n};\nfunction handleHorizontalScrollbarObserver(context) {\n  var scrollViewportEle = context.gridContainerI.querySelector('.ag-body-horizontal-scroll-viewport');\n  if (scrollViewportEle) {\n    var _handleHorizontalScrollVisibilityChanged = (0, _lodash.debounce)(context.handleHorizontalScrollVisibilityChanged, 200);\n    var onScrollViewportEleChanged = function onScrollViewportEleChanged(mutationsList) {\n      // 后续如果复用可以在此发送事件this.gridEventService.dispatchEvent\n      var mutation = mutationsList[0];\n      var target = mutation.target;\n      _handleHorizontalScrollVisibilityChanged({\n        target: target\n      });\n    };\n    var MutationObserver = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver;\n    context.scrollViewportEleObserver = new MutationObserver(onScrollViewportEleChanged);\n    var options = {\n      attributes: true,\n      attributeFilter: ['style']\n    };\n    context.scrollViewportEleObserver.observe(scrollViewportEle, options);\n    if (parseInt(scrollViewportEle === null || scrollViewportEle === void 0 ? void 0 : scrollViewportEle.style.height) > 0) {\n      context.gridContainerI.classList.add('grid-horizontal-scroll-display');\n    }\n  }\n}\n\n/**\n * onGridReady需要执行的方法抽出\n * @param {*} context AgGridCore this\n */\nvar onGridReadyDo = exports.onGridReadyDo = function onGridReadyDo(context) {\n  // 行融合情况下，滚动时禁止鼠标事件，提高滚动性能\n  if (context.gridContrlParams.mergeModel) {\n    context._viewportScrollEvent = function () {\n      if (context.gridContrlParams.mergeModel && context.gridContrlParams.mergeModel.suppress) {\n        context.viewport.classList.contains('suppress-event') && context.viewport.classList.remove('suppress-event');\n        return;\n      }\n      // context.viewport.style.willChange = 'scroll-position'\n      context.viewport.classList.add('suppress-event');\n      // context.viewportLeft.style.willChange = 'scroll-position'\n      clearTimeout(context._viewportScrollTimeChange);\n      context._viewportScrollTimeChange = window.setTimeout(function () {\n        // context.viewport.style.willChange = 'auto'\n        // context.viewportLeft.style.willChange = 'auto'\n        context.viewport.classList.remove('suppress-event');\n      }, 100);\n    };\n    context.viewport = context.gridContainerI.querySelector('.ag-body-viewport');\n    // context.viewportLeft = context.gridContainerI.querySelector('.ag-pinned-left-cols-viewport')\n    context.viewport.addEventListener('scroll', context._viewportScrollEvent, {\n      passive: true,\n      capture: true\n    });\n  }\n  (0, _gridPureFun.refreshCustomCols)(context[_gridConst.GRID_CUSTOM_COL_SCHEMA_INFOS], context.gridState, context.api);\n  handleHorizontalScrollbarObserver(context);\n  handleTableGlobalConfigChanged(context);\n  // handleGridValidate(context)\n  handleGridValidateTip(context);\n  handleGridValidateFailedFocus(context);\n  handleUpdateCellsData(context);\n};\nfunction modifyHeaderHeight(_ref) {\n  var pageId = _ref.pageId,\n    gridId = _ref.gridId,\n    api = _ref.api,\n    headerHeight = _ref.headerHeight,\n    gridOptions = _ref.gridOptions;\n  api.setHeaderHeight(headerHeight);\n  gridOptions.headerHeight = headerHeight;\n  (0, _memoryCacher.setPageData)(pageId, [gridId, _gridConst.CONFIGURED_HEADER_HEIGHT_CHANGED], headerHeight);\n}\nfunction modifyRowHeight(_ref2) {\n  var api = _ref2.api,\n    rowHeight = _ref2.rowHeight,\n    context = _ref2.context,\n    gridOptions = _ref2.gridOptions,\n    _ref2$forceRefresh = _ref2.forceRefresh,\n    forceRefresh = _ref2$forceRefresh === void 0 ? true : _ref2$forceRefresh;\n  gridOptions.rowHeight = rowHeight;\n  // 合计需要重新render才能更新\n  var pinnedRowNode = api.getPinnedBottomRow(0);\n  if (pinnedRowNode) {\n    context.refreshing = true;\n    forceRefresh && context.refresh();\n  }\n}\nfunction handleTableGlobalConfigChanged(context) {\n  context.tableGlobalConfigChangedRemover = (0, _GlobalDataCacher.addDataChangeListener)(_symbolConst.KEY_TABLE_GLOBAL_CONFIG, function (tableConfig, oldTableConfig) {\n    if (!(0, _immutable.is)(tableConfig, oldTableConfig)) {\n      var props = context.props,\n        gridOptions = context.gridOptions,\n        gridContrlParams = context.gridContrlParams,\n        resetRowHeightsAndGridHeight = context.resetRowHeightsAndGridHeight,\n        gridContainer = context.gridContainer,\n        api = context.api,\n        autoSizeColumns = context.autoSizeColumns,\n        gridState = context.gridState;\n      var model = props.model,\n        bordered = props.bordered;\n      var columnDefs = gridState.columnDefs;\n      var rowHeight = gridOptions.rowHeight,\n        headerHeight = gridOptions.headerHeight;\n      var gridType = model.getMetaProperty('gridtype');\n      var isAlternatelyRowsStyle = gridContrlParams.isAlternatelyRowsStyle,\n        columnResizeMode = gridContrlParams.columnResizeMode,\n        verticalBordered = gridContrlParams.verticalBordered,\n        mergeModel = gridContrlParams.mergeModel;\n      var newIsAlternatelyRowsStyle = (0, _params.isGridStriped)(model, bordered);\n      var newColumnResizeMode = (0, _params.getColumnResizeMode)(model, gridType);\n      var newVerticalBordered = (0, _params.isVerticalBordered)(model, gridType);\n      // 默认值与defaultOption对应\n      var newRowHeight = (0, _params.getRowHeight)(model);\n      var newHeaderHeight = (0, _params.getHeaderHeight)(model);\n      var shouldResetHeight = headerHeight !== newHeaderHeight || newRowHeight !== rowHeight;\n      if (!!isAlternatelyRowsStyle !== !!newIsAlternatelyRowsStyle) {\n        gridContrlParams.isAlternatelyRowsStyle = newIsAlternatelyRowsStyle;\n        var isMerged = mergeModel && !mergeModel.suppress;\n        var stripeClass = isMerged ? 'grid-merge-zebra-stripe' : 'grid-zebra-stripe';\n        newIsAlternatelyRowsStyle ? gridContainer.classList.add(stripeClass) : gridContainer.classList.remove(stripeClass);\n        if (isMerged) {\n          api.redrawRows({\n            rowNodes: api.getRenderedNodes()\n          });\n        }\n      }\n      if (newColumnResizeMode !== columnResizeMode) {\n        gridContrlParams.columnResizeMode = newColumnResizeMode;\n        autoSizeColumns();\n      }\n      if (newVerticalBordered !== verticalBordered) {\n        gridContrlParams.verticalBordered = newVerticalBordered;\n        newVerticalBordered ? gridContainer.classList.add('kd-grid-vertical-bordered') : gridContainer.classList.remove('kd-grid-vertical-bordered');\n      }\n      if (headerHeight !== newHeaderHeight) {\n        var pageId = gridState.pageId,\n          gridId = gridState.gridId;\n        modifyHeaderHeight({\n          pageId: pageId,\n          gridId: gridId,\n          api: api,\n          headerHeight: newHeaderHeight,\n          gridOptions: gridOptions\n        });\n      }\n      if (newRowHeight !== rowHeight) {\n        modifyRowHeight({\n          api: api,\n          rowHeight: newRowHeight,\n          context: context,\n          gridOptions: gridOptions\n        });\n      }\n      shouldResetHeight && resetRowHeightsAndGridHeight();\n      var imgCols = (0, _array.flatColumns)(columnDefs).filter(function (col) {\n        return col.colType === 'picture';\n      }).map(function (col) {\n        return col.colId;\n      });\n      if (imgCols.length > 0) {\n        var allnodes = api.getRenderedNodes();\n        api.refreshCells({\n          rowNodes: allnodes,\n          columns: _toConsumableArray(imgCols),\n          force: true\n        });\n      }\n    }\n  });\n}\n\n// function handleGridValidate (context) {\n//   if (!context.gridContrlParams.isEntryEntity) {\n\n//   }\n//   context.removeValidateListener = addGlobalDataChangeListener(KEY_VALIDATE_EVENT, ({ pageId: pid = '' }) => {\n//     const { gridState, api, getCellIsLock } = context\n//     const { pageId, gridId, columnDefs, rk } = gridState\n//     if (pid !== pageId) {\n//       return\n//     }\n//     // const col = []\n//     // for (let i = 0; i < window.COL_COUNT || 0; i++) {\n//     //   const mockCol = columnDefs[columnDefs.length - 2]\n//     //   col.splice(col.length, 0, { ...mockCol, field: mockCol.field + `_${i}` })\n//     // }\n//     let rowIndex = 0\n//     let validateFailedCount = 0\n//     let tmpValidateFailedCount = validateFailedCount\n//     const isColumnFilter = api.isColumnFilterPresent()\n//     const rowErrorCountMap = new Map()\n//     let failedCount = 0\n//     let firstValidateFailedCell = null\n\n//     while (rowIndex < context.gridRows.length) {\n//       let row = context.gridRows[rowIndex]\n//       const rowKey = row[rk]\n//       const rowNode = api.getRowNode(rowKey + '') || {}\n//       // gridRows会取到旧的数据，因为单个单元格的更新不会修改gridRows\n//       if (rowNode.data) {\n//         row = rowNode.data\n//       }\n//       let currentRowEdited\n//       let colIndex = 0\n//       childrenLoop(columnDefs, (colDef) => {\n//         const { cellRendererParams, field } = colDef\n//         const { type, isPrivacy, editor } = cellRendererParams\n//         const validatorParams = { ...cellRendererParams, colDef }\n//         // 1.可编辑 2.特殊列类型判断\n//         if ((!cellRendererParams.colLocked || cellRendererParams.showEditButton) && ableValidateOnType(type, editor)) {\n//           const fieldValidators = bindValidators(type)\n//           let failed = 0\n//           fieldValidators && fieldValidators.forEach(validator => {\n//             let innerValue = row[field]\n//             currentRowEdited = currentRowEdited || getPageData(\n//               pid,\n//               [gridId, 'edited', rowKey]\n//             )\n//             if (_ableValidateCell(getCellIsLock(rowKey, field, isPrivacy), context.gridContrlParams, currentRowEdited, row, context.props.keyFieldId)) {\n//               if (type === 'localeText' && innerValue) {\n//                 const { localeId, defaultLocalId } = gridState\n//                 const lang = getMulLangInitLang(innerValue, localeId, defaultLocalId)\n//                 innerValue = innerValue[lang]\n//               }\n//               validatorParams.rowIndex = rowIndex\n//               validatorParams.rowKey = rowKey\n//               validatorParams.colIndex = colIndex\n//               if (!validator(validatorParams, { innerValue: innerValue })) {\n//                 if (isColumnFilter) {\n//                   // failedCount只会计数一次\n//                   if (failed === 0) {\n//                     failedCount++\n//                     failed = 1\n//                   }\n//                   rowErrorCountMap.set(rowKey, !rowErrorCountMap.has([rowKey]) ? 1 : rowErrorCountMap[rowKey] + 1)\n//                 }\n//                 if (!firstValidateFailedCell) {\n//                   firstValidateFailedCell = { rowKey, rowIndex, colId: field }\n//                 }\n//                 tmpValidateFailedCount === validateFailedCount && tmpValidateFailedCount++\n//               }\n//             }\n//           })\n//         }\n//         colIndex++\n//       })\n//       validateFailedCount = tmpValidateFailedCount\n//       if (validateFailedCount === 100) {\n//         rowIndex = context.gridRows.length\n//       } else {\n//         rowIndex++\n//       }\n//     }\n//     setPageData(pageId, [gridId, 'firstValidateFailedCell'], firstValidateFailedCell)\n//     // 先让全局抛出校验异常，延迟步显示表格的提示\n//     setTimeout(() => {\n//       const { api, gridState } = context\n//       const { rk } = gridState\n//       let hiddenFailedCount = 0\n//       if (isColumnFilter && rowErrorCountMap.size) {\n//         let showFailedCount = 0\n//         api.forEachNodeAfterFilter(rowNode => {\n//           if (rowErrorCountMap.has(rowNode.data[rk])) {\n//             showFailedCount += rowErrorCountMap.get(rowNode.data[rk])\n//           }\n//         })\n//         hiddenFailedCount = failedCount - showFailedCount\n//       }\n//       setPageData(pid, [gridId, VALIDATE_FAILED_COUNT], hiddenFailedCount)\n//       setPageData(pid, [gridId, GRID_VALIDATE_CHANGE], {})\n//     })\n//   })\n// }\n\n// function ableValidateOnType (type, editor) {\n//   if (type === 'picture' && editor?.dik) {\n//     return false\n//   }\n//   return true\n// }\n\n// function _ableValidateCell (cellLocked, gridContrlParams, currentRowEdited, row, keyFieldId) {\n//   if (!cellLocked) {\n//     const { treeTable } = gridContrlParams\n//     // 树单据体存在校验属性则直接校验\n//     if (treeTable && treeTable.isTreeTable) {\n//       return true\n//     }\n\n//     // 普通单据体需要判断1. 行是否编辑过，2. 关键字段是否有值\n//     if (currentRowEdited) {\n//       return true\n//     }\n\n//     const keyFieldData = row[keyFieldId]\n//     // 关键字段现在只有文本和基础资料, 判断字段值是否为空\n//     const keyFieldIsNull = keyFieldData === null || keyFieldData === '' || keyFieldData === undefined\n//     if (!keyFieldIsNull) {\n//       return true\n//     }\n//   }\n\n//   return false\n// }\n\n// 构造行的map对象=> Map({rowKey:{rk:0, text:'文本'}})\nfunction _getRowsMap(pageId, gridId, rk) {\n  var rows = _getGridValueForStore(pageId, gridId, 'rows');\n  var dataIndex = _getGridValueForStore(pageId, gridId, 'dataindex');\n  var rowKeyPosition = dataIndex.get(rk);\n  if (!rows || !dataIndex) {\n    return new Map();\n  }\n  return rows.reduce(function (rowKeyMap, row) {\n    return rowKeyMap.set(row.get(rowKeyPosition), _getRow(row, dataIndex));\n  }, new Map());\n}\n\n/**\n * 构造行数据=>{rk:0, text:'文本'}\n * @param {*} row immutable map\n * @param {*} dataIndex immutable map\n * @returns\n */\nfunction _getRow(row, dataIndex) {\n  var rowArray = row.toJS();\n  var newRow = {};\n  dataIndex.forEach(function (colIndex, colKey) {\n    newRow[colKey] = rowArray[colIndex];\n  });\n  return newRow;\n}\nfunction _getGridValueForStore(pageId, gridId, prop) {\n  return (0, _global.getGlobalState)().getIn(['forms', pageId, 'data', gridId, 'value', prop]);\n}\nfunction _getRowByApi(api, rowKey) {\n  var rowNode = api.getRowNode(rowKey + '') || {};\n  if (rowNode.data) {\n    return rowNode.data;\n  }\n  return null;\n}\nfunction createRowValidateFailedTipNode(handleClick) {\n  var node = document.createElement('span');\n  node.setAttribute('class', 'kd-row-validate-failed-tip');\n  node.onclick = handleClick;\n  return node;\n}\nfunction handleGridValidateTip(context) {\n  if (!context.gridContrlParams.isEntryEntity) {\n    return;\n  }\n  var api = context.api,\n    columnApi = context.columnApi,\n    gridState = context.gridState,\n    getGridThisProp = context.getGridThisProp,\n    startEditingCellAndRecord = context.startEditingCellAndRecord;\n  var pageId = gridState.pageId,\n    gridId = gridState.gridId;\n  function handleGridBodyChanged(mutationsList) {\n    var _iterator = _createForOfIteratorHelper(mutationsList),\n      _step;\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var mutation = _step.value;\n        if (mutation.type === 'childList') {\n          var addedNodes = mutation.addedNodes;\n          for (var i = 0; i < addedNodes.length; i++) {\n            var rowEle = addedNodes[i];\n            var id = rowEle.getAttribute('row-id');\n            if (id) {\n              handleGridRowValidateTipEle({\n                rowEle: rowEle,\n                pageId: pageId,\n                gridId: gridId,\n                rowId: id - 0,\n                api: api,\n                columnApi: columnApi,\n                getGridThisProp: getGridThisProp,\n                startEditingCellAndRecord: startEditingCellAndRecord\n              });\n            }\n          }\n        }\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  }\n  context.gridBodyOberserve = new window.MutationObserver(handleGridBodyChanged);\n  var handleRowTip = function handleRowTip(data, gridValidateData) {\n    var rowKey = data.rowKey;\n    var targetContainer = columnApi.isPinningLeft() ? api.gridPanel.eLeftContainer : api.gridPanel.eCenterContainer;\n    if (typeof rowKey !== 'undefined') {\n      var rowEle = targetContainer.querySelector(\"div[row-id=\\\"\".concat(rowKey, \"\\\"]\"));\n      if (rowEle) {\n        handleGridRowValidateTipEle({\n          rowEle: rowEle,\n          pageId: pageId,\n          gridId: gridId,\n          rowId: rowKey,\n          api: api,\n          columnApi: columnApi,\n          getGridThisProp: getGridThisProp,\n          startEditingCellAndRecord: startEditingCellAndRecord\n        });\n      }\n    } else {\n      // 表示表格全部校验（如提交时），需要对可见行都进行判断\n      setTimeout(function () {\n        var nodeList = targetContainer.children;\n        for (var i = 0; i < nodeList.length; i++) {\n          var _rowEle = nodeList[i];\n          var id = _rowEle.getAttribute('row-id');\n          if (id) {\n            handleGridRowValidateTipEle({\n              rowEle: _rowEle,\n              pageId: pageId,\n              gridId: gridId,\n              rowId: id - 0,\n              api: api,\n              columnApi: columnApi,\n              getGridThisProp: getGridThisProp,\n              startEditingCellAndRecord: startEditingCellAndRecord\n            });\n          }\n        }\n      });\n    }\n    if (gridValidateData && gridValidateData.size > 0) {\n      context.gridBodyOberserve.observe(targetContainer, {\n        childList: true\n      });\n    } else {\n      context.gridBodyOberserve.disconnect();\n    }\n  };\n  var handleCollapseTip = function handleCollapseTip(gridValidateData) {\n    if (context.gridContainer) {\n      if (gridValidateData && gridValidateData.size > 0) {\n        context.gridContainer.setAttribute('data-valid', pageId);\n      } else {\n        context.gridContainer.removeAttribute('data-valid');\n      }\n    }\n  };\n  context.removeValidateChangeListener = (0, _memoryCacher.addDataChangeListener)(pageId, [_const.VALIDATE_FINISH], function (_ref3) {\n    var tableId = _ref3.tableId,\n      rowKey = _ref3.rowKey;\n    if (tableId && tableId !== gridId) {\n      return;\n    }\n    var gridValidateData = (0, _appModelFunction.getGridValidateData)(pageId, [gridId]);\n    handleRowTip({\n      rowKey: rowKey\n    }, gridValidateData);\n    handleCollapseTip(gridValidateData);\n  });\n  context.removeValidateChangeListener = (0, _memoryCacher.addDataChangeListener)(pageId, [gridId, _const.GRID_VALIDATE_CHANGE], function () {\n    var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var trigger = data.trigger;\n    var gridValidateData = (0, _appModelFunction.getGridValidateData)(pageId, [gridId]);\n    trigger !== 'deleteRows' && handleRowTip(data, gridValidateData);\n    handleCollapseTip(gridValidateData);\n  });\n}\nfunction handleGridRowValidateTipEle(_ref4) {\n  var rowEle = _ref4.rowEle,\n    pageId = _ref4.pageId,\n    gridId = _ref4.gridId,\n    rowId = _ref4.rowId,\n    api = _ref4.api,\n    columnApi = _ref4.columnApi,\n    getGridThisProp = _ref4.getGridThisProp,\n    startEditingCellAndRecord = _ref4.startEditingCellAndRecord;\n  var gridRowValidateData = (0, _appModelFunction.getGridValidateData)(pageId, [gridId, rowId]);\n  if (gridRowValidateData) {\n    var handleClick = (0, _lodash.throttle)(function (e) {\n      e.stopPropagation();\n      var gridRowValidateData = (0, _appModelFunction.getGridValidateData)(pageId, [gridId, rowId]);\n      if (gridRowValidateData && gridRowValidateData.size === 1) {\n        var colKeys = [];\n        gridRowValidateData.map(function (v, k) {\n          return colKeys.push(k);\n        });\n        var _ref5 = api.getRowNode(rowId + '') || {},\n          rowIndex = _ref5.rowIndex;\n        api.ensureColumnVisible(colKeys[0]);\n        api.clearRangeSelection();\n        api.startEditingCell({\n          rowIndex: rowIndex,\n          colKey: colKeys[0]\n        });\n      } else {\n        var lastEditCell = getGridThisProp(_gridConst2.LAST_EDIT_CELL);\n        var nextCol;\n        var _rowIndex;\n        if (lastEditCell && lastEditCell.rowKey === rowId) {\n          var _columnApi$getAllDisp;\n          // 1. 从当前焦点往后找， 2.未找到则从头再找一遍\n          nextCol = (0, _gridPureFun.getNextValidateFailedCol)(columnApi, lastEditCell.colId, gridRowValidateData) || (0, _gridPureFun.getNextValidateFailedCol)(columnApi, (_columnApi$getAllDisp = columnApi.getAllDisplayedColumns()[0]) === null || _columnApi$getAllDisp === void 0 ? void 0 : _columnApi$getAllDisp.colId, gridRowValidateData);\n          _rowIndex = lastEditCell.rowIndex;\n        } else {\n          var _api$getRowNode, _columnApi$getAllDisp2;\n          _rowIndex = (_api$getRowNode = api.getRowNode(rowId + '')) === null || _api$getRowNode === void 0 ? void 0 : _api$getRowNode.rowIndex;\n          nextCol = (0, _gridPureFun.getNextValidateFailedCol)(columnApi, (_columnApi$getAllDisp2 = columnApi.getAllDisplayedColumns()[0]) === null || _columnApi$getAllDisp2 === void 0 ? void 0 : _columnApi$getAllDisp2.colId, gridRowValidateData);\n        }\n        if (nextCol) {\n          api.ensureColumnVisible(nextCol.colId);\n          api.clearRangeSelection();\n          startEditingCellAndRecord === null || startEditingCellAndRecord === void 0 || startEditingCellAndRecord(_rowIndex, nextCol.colId, rowId);\n        }\n      }\n      var _ref6 = getGridThisProp('gridState') || {},\n        type = _ref6.type,\n        gridType = _ref6.gridType;\n      var controlType = (0, _dataService.getGridTrackingType)({\n        type: type,\n        gridType: gridType\n      });\n      (0, _dataService.trackingOfValidateClick)({\n        pageId: pageId,\n        controlId: gridId,\n        controlType: controlType,\n        actionKey: 'left'\n      });\n    }, 100);\n    !rowEle.querySelector('.kd-row-validate-failed-tip') && rowEle.appendChild(createRowValidateFailedTipNode(handleClick));\n  } else {\n    // 该行不存在，清空\n    var tipEle = rowEle.querySelector('.kd-row-validate-failed-tip');\n    tipEle && rowEle.removeChild(tipEle);\n  }\n}\nfunction handleGridValidateFailedFocus(context) {\n  if (!context.gridContrlParams.isEntryEntity) {\n    return;\n  }\n  var api = context.api,\n    gridState = context.gridState;\n  var pageId = gridState.pageId,\n    gridId = gridState.gridId;\n  context.remoceGridValidateFailedFocus = (0, _memoryCacher.addDataChangeListener)(pageId, [gridId, 'errorFocus'], function (data) {\n    if (data) {\n      var _data = _slicedToArray(data, 2),\n        colId = _data[0],\n        rowKey = _data[1];\n      var lastestValidateMessageKey = (0, _memoryCacher.getPageData)(pageId, [_const.LATEST_VALIDATE_MESSAGE_KEY]);\n      if (!lastestValidateMessageKey || lastestValidateMessageKey !== colId) {\n        (0, _memoryCacher.setPageData)(pageId, [_const.LATEST_VALIDATE_MESSAGE_KEY], colId);\n      }\n      if (context.activeView === 'grid') {\n        var _ref7 = api.getRowNode(rowKey + '') || {},\n          rowIndex = _ref7.rowIndex;\n        api.ensureIndexVisible(rowIndex);\n        api.ensureColumnVisible(colId);\n        (0, _memoryCacher.setPageData)(pageId, [\"\".concat(gridId, \"_\").concat(colId, \"_\").concat(rowKey), 'errorFocus'], []);\n      }\n    }\n  });\n}\nfunction handleThemeChangedBeforeRefresh(context) {\n  var props = context.props,\n    gridOptions = context.gridOptions,\n    resetRowHeightsAndGridHeight = context.resetRowHeightsAndGridHeight,\n    api = context.api,\n    gridState = context.gridState;\n  var model = props.model;\n  var rowHeight = gridOptions.rowHeight,\n    headerHeight = gridOptions.headerHeight;\n  var newRowHeight = (0, _params.getRowHeight)(model);\n  var newHeaderHeight = (0, _params.getHeaderHeight)(model);\n  var shouldResetHeight = headerHeight !== newHeaderHeight || newRowHeight !== rowHeight;\n  if (headerHeight !== newHeaderHeight) {\n    var pageId = gridState.pageId,\n      gridId = gridState.gridId;\n    api && modifyHeaderHeight({\n      pageId: pageId,\n      gridId: gridId,\n      api: api,\n      headerHeight: newHeaderHeight,\n      gridOptions: gridOptions\n    });\n  }\n  if (newRowHeight !== rowHeight) {\n    api && modifyRowHeight({\n      api: api,\n      rowHeight: newRowHeight,\n      context: context,\n      gridOptions: gridOptions\n    });\n  }\n  shouldResetHeight && resetRowHeightsAndGridHeight();\n}\nfunction handleUpdateCellsData(context) {\n  var gridContrlParams = context.gridContrlParams;\n  if (gridContrlParams.isVirtualView) {\n    var api = context.api,\n      gridState = context.gridState;\n    var pageId = gridState.pageId,\n      gridId = gridState.gridId,\n      rk = gridState.rk;\n    context.removeUpdateCellsDataListener = (0, _grid.addGridCellsDataChanged)(pageId, gridId, function (cells) {\n      if (Array.isArray(cells)) {\n        var getMatchedCells = function getMatchedCells(rowKey) {\n          return cells.filter(function (cellValue) {\n            return cellValue.r === rowKey;\n          });\n        };\n        api === null || api === void 0 || api.forEachNode(function (node) {\n          var _node$data;\n          var matchedCells = getMatchedCells((_node$data = node.data) === null || _node$data === void 0 ? void 0 : _node$data[rk]);\n          if (matchedCells.length) {\n            var updateData = node.data;\n            matchedCells.forEach(function (cellValue) {\n              updateData[cellValue.k] = cellValue.v;\n            });\n            node.setData(updateData);\n          }\n        });\n      }\n    });\n  }\n}\n\n/**\n * 组件销毁需要执行的方法 用来解绑等\n * @param {*} context\n */\nvar willUnmountDo = exports.willUnmountDo = function willUnmountDo(context) {\n  context._viewportScrollEvent && context.viewport && context.viewport.removeEventListener('scroll', context._viewportScrollEvent, {\n    passive: true,\n    capture: true\n  });\n  context._popupResizeObserve && context._popupResizeObserve.removeResizeObserve();\n  delete context._viewportScrollEvent;\n  delete context.viewport;\n  delete context._popupResizeObserve;\n  if (context.scrollViewportEleObserver) {\n    context.scrollViewportEleObserver.disconnect();\n    context.scrollViewportEleObserver = null;\n  }\n  context.tableGlobalConfigChangedRemover && context.tableGlobalConfigChangedRemover();\n  context.removeValidateListener && context.removeValidateListener();\n  context.gridBodyOberserve && context.gridBodyOberserve.disconnect();\n  context.removeValidateChangeListener && context.removeValidateChangeListener();\n  context.remoceGridValidateFailedFocus && context.remoceGridValidateFailedFocus();\n  context.removeUpdateCellsDataListener && context.removeUpdateCellsDataListener();\n};\n\n/**\n * 发送ag-grid配置信息(列宽...)\n * @param {*} gridState: {columnDefs, ...}\n * @param type: string[]\n */\n\nvar sendGridInfo = exports.sendGridInfo = function sendGridInfo(pageId, key, context, invokeControlMethodOnly) {\n  return function (types) {\n    try {\n      var gridInfo = {};\n      gridInfo[key] = {};\n      if (types.length === 0) {\n        // 默认获取所有设置信息\n        types = [_gridConst.COLUMN_WIDTH, _gridConst.COLUMN_WIDTH_GRUOP, _gridConst.COLUMN_VISIBLE, _gridConst.COLUMN_SEQUENCE, _gridConst.COLUMN_ALIGN];\n      }\n      types.forEach(function (infoType) {\n        var gridInfoItem = getGridInfoByType(context, infoType);\n        if (gridInfoItem !== undefined) {\n          gridInfo[key][infoType] = gridInfoItem;\n        }\n      });\n      invokeControlMethodOnly({\n        pageId: pageId\n      }, _gridConst.SAVE_SETTING, [gridInfo]);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n};\n\n/**\n * 根据type获取ag-grid对应信息\n * @param {*} type: string // 'cw'...\n */\nvar getGridInfoByType = function getGridInfoByType(context, type) {\n  var gridState = context.gridState,\n    columnApi = context.columnApi;\n  switch (type) {\n    case _gridConst.COLUMN_WIDTH:\n      // 列宽\n      return getColumnWidth(gridState);\n    case _gridConst.COLUMN_WIDTH_GRUOP:\n      return getColumnWidthWithGroup(gridState);\n    case _gridConst.COLUMN_VISIBLE:\n      // 列显示/隐藏\n      return getColumnVisible(gridState);\n    case _gridConst.COLUMN_SEQUENCE:\n      // 列顺序\n      return (0, _gridPureFun.getColumnSequence)(columnApi);\n    case _gridConst.COLUMN_ALIGN:\n      // 列对齐方式\n      return getColumnAlign(gridState);\n    default:\n      {}\n  }\n};\n\n/**\n * 获取列宽信息\n * @param {*} gridState\n */\nvar getColumnWidth = function getColumnWidth(gridState) {\n  try {\n    var columnDefs = gridState.columnDefs;\n    var columnWidthInfo = {};\n    columnDefs.forEach(function (colItem) {\n      var field = colItem.field,\n        width = colItem.width;\n      if (field && width && field !== _gridConst.SETTING_COL) {\n        columnWidthInfo[field] = width;\n      }\n    });\n    return columnWidthInfo;\n  } catch (err) {\n    console.log(err);\n  }\n};\n\n/**\n * 获取列宽信息\n * @param {*} gridState\n */\nvar getColumnWidthWithGroup = function getColumnWidthWithGroup(gridState) {\n  try {\n    var columnDefs = gridState.columnDefs;\n    return getColWidthInfo(columnDefs);\n  } catch (err) {\n    console.log(err);\n  }\n};\nvar getColWidthInfo = function getColWidthInfo(columnDefs) {\n  var columnWidthInfo = [];\n  columnDefs.forEach(function (_ref8) {\n    var field = _ref8.field,\n      width = _ref8.width,\n      headerName = _ref8.headerName,\n      cellRendererParams = _ref8.cellRendererParams,\n      children = _ref8.children;\n    if (field && width && field !== _gridConst.SETTING_COL) {\n      var colItem = {\n        colId: field,\n        width: width,\n        name: (cellRendererParams === null || cellRendererParams === void 0 ? void 0 : cellRendererParams.originHeaderName) || headerName\n      };\n      if (children) {\n        colItem.children = getColWidthInfo(children);\n      }\n      columnWidthInfo.push(colItem);\n    }\n  });\n  return columnWidthInfo;\n};\n\n/**\n * 获取列显示/隐藏\n * @param {*} gridState\n */\nvar getColumnVisible = function getColumnVisible(gridState) {\n  try {\n    var columnDefs = gridState.columnDefs;\n    var columnVisible = {};\n    columnDefs.forEach(function (colItem) {\n      var field = colItem.field,\n        hide = colItem.hide;\n      if (field && field !== _gridConst.SETTING_COL) {\n        columnVisible[field] = !hide;\n      }\n    });\n    return columnVisible;\n  } catch (err) {\n    console.log(err);\n  }\n};\n\n/**\n * 获取列对齐方式\n * @param {*} gridState\n */\nvar getColumnAlign = function getColumnAlign(gridState) {\n  try {\n    var columnDefs = gridState.columnDefs;\n    var columnAlign = {};\n    columnDefs.forEach(function (colItem) {\n      var field = colItem.field,\n        type = colItem.type,\n        cellRendererParams = colItem.cellRendererParams;\n      if (field && field !== _gridConst.SETTING_COL && field !== 'XXfieldXX') {\n        var _cellRendererParams$a = cellRendererParams.alignment,\n          customAlign = _cellRendererParams$a.customAlign,\n          defaultAlign = _cellRendererParams$a.defaultAlign;\n        if (customAlign && customAlign[field]) {\n          columnAlign[field] = customAlign[field];\n        } else {\n          columnAlign[field] = defaultAlign[type] || defaultAlign.other;\n        }\n      }\n    });\n    return columnAlign;\n  } catch (err) {\n    console.log(err);\n  }\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/gridCoreUseFucntion/lifeCycleFun.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/gridEvent/gridEventName.js":
/*!**************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/gridEvent/gridEventName.js ***!
  \**************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\nvar GRIND_EVENT = {\n  gridViewSizeChanged: 'gridViewSizeChanged',\n  animationQueueEmpty: 'animationQueueEmpty',\n  bodyScroll: 'bodyScroll'\n};\nvar _default = exports[\"default\"] = GRIND_EVENT;\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/gridEvent/gridEventName.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/gridModel/colRearrangement/columnMoved.js":
/*!*****************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/gridModel/colRearrangement/columnMoved.js ***!
  \*****************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.onColumnMoved = onColumnMoved;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.reduce.js */ \"../../node_modules/core-js/modules/es.array.reduce.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\nvar _GridUtils = __webpack_require__(/*! ../../GridUtils */ \"./src/component/web/DataGrid/AgDataGrid/GridUtils.js\");\nvar _mergeUtil = __webpack_require__(/*! ../../util/mergeUtil */ \"./src/component/web/DataGrid/AgDataGrid/util/mergeUtil.js\");\nfunction onColumnMoved(e) {\n  var _this = this;\n  var gridCols = [].concat(this.columnApi.getAllGridColumns()); // 返回的是个引用对象，要拷贝！\n  var newCols = [];\n  if (e.columns.length > 1) {// 分组列的移动\n  }\n  // 分组列不可移动情况下的简化版列序处理\n  var _loop = function _loop(_t) {\n      var p = (0, _GridUtils.childrenLookUp)(_this.gridState.columnDefs, function (f) {\n        return f.field == gridCols[_t].colId;\n      });\n      if (p) {\n        if (_this.gridContrlParams.maxLevel == 1) {\n          p.gNamePath[0] = newCols.length;\n          newCols.push(p);\n          t = _t;\n          return 0; // continue\n        }\n        if (p.level == 1 && p.leaf) {\n          p.gNamePath[0] = newCols.length;\n          newCols.push(p);\n          t = _t;\n          return 0; // continue\n        }\n        var cCount = 0;\n        var cObj = _this.gridState.columnDefs[p.gNamePath[0]];\n        (0, _GridUtils.childrenLoop)(cObj, function (c) {\n          c.gNamePath[0] = newCols.length;\n          cCount++;\n        }); // 此方法更新不到分组列上的gNamePath..\n        // console.log('组',cObj.headerName,cObj,'子数',cCount);\n        cObj.gNamePath[0] = newCols.length;\n        newCols.push(cObj);\n        _t = _t + cCount - 1; // 会到t++\n      }\n      t = _t;\n    },\n    _ret;\n  for (var t = 0; t < gridCols.length; t++) {\n    _ret = _loop(t);\n    if (_ret === 0) continue;\n  }\n  this.gridState.columnDefs = newCols;\n  var needRefresh = false;\n  if (this.gridContrlParams.rightBorderCols) {\n    var rigntBorder = (0, _GridUtils.getRightBorderCols)(newCols);\n    this.gridContrlParams.rightBorderCols = rigntBorder;\n    this.api.refreshHeader();\n    needRefresh = true;\n  }\n  if (this.gridContrlParams.mergeModel) {\n    this.gridContrlParams.mergeModel.findBorderCols(this.gridState.columnDefs);\n    needRefresh = true;\n  }\n  if (this.gridContrlParams.mergeColumns.length > 0) {\n    this.rightBorderMergeCols = (0, _mergeUtil.getRightBorderMergeCols)(this.gridState.columnDefs, this.gridContrlParams.mergeColumns);\n    needRefresh = true;\n  }\n  needRefresh && this.api.redrawRows({\n    rowNodes: this.api.getRenderedNodes()\n  });\n  // console.log('移动后的cols',newCols);\n  this.columnSequence = newCols.reduce(function (res, nextCol) {\n    var field = nextCol.field;\n    if (field != 'XXfieldXX' && field !== _this.gridState.rk && field !== _this.gridState.seq) {\n      res.push(field);\n    }\n    return res;\n  }, []);\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/gridModel/colRearrangement/columnMoved.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/gridModel/fieldRelation/index.js":
/*!********************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/gridModel/fieldRelation/index.js ***!
  \********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-properties.js */ \"../../node_modules/core-js/modules/es.object.define-properties.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptors.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.filterParentCtrledItems = filterParentCtrledItems;\nexports.getSrcFieldInfo = getSrcFieldInfo;\nexports.getTimeZoneInfo = getTimeZoneInfo;\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.number.is-integer.js */ \"../../node_modules/core-js/modules/es.number.is-integer.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\nvar _serverproperties = __webpack_require__(/*! ../../../../../../constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _componentutil = __webpack_require__(/*! @/util/componentutil */ \"./src/util/componentutil.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n/**\n * 获取关联字段的精度信息\n * @param {*} props\n */\nfunction getSrcFieldInfo(props, rowData) {\n  var numberType = props.editor.nt;\n  var scale = props.editor.sc;\n  var showSymbol = false;\n  var symbol = '';\n  var code = '';\n  var srcFieldInfo = {};\n  if (numberType && (numberType == 'amount' || numberType == 'price' || numberType == 'qty')) {\n    // 金额、单价、数量\n    var srcField = props.editor.sf;\n    if (srcField) {\n      var colFormat;\n      var _rowData = rowData || props.node && props.node.data;\n      if (props.getDataProperty(['value', 'dataindex', srcField]) !== undefined) {\n        // 表内字段\n        srcFieldInfo.srcType = 'entry';\n        // 取对应表体字段值编码\n        if (_rowData === undefined) return null;\n        colFormat = getFmtInfoForRowData(srcField, _rowData, numberType);\n        if (!colFormat) {\n          var No = _rowData.get ? _rowData.get(srcField) : _rowData[srcField];\n          No = No && No.toJS ? No.toJS() : No;\n          if (No && Array.isArray(No) && No.length > 0) No = No[0];\n          var fmt = numberType == 'qty' ? 'unitfmt' : 'currencyfmt';\n          colFormat = props.getDataProperty(['fmtinfo', fmt, No]);\n        }\n      } else {\n        srcFieldInfo.srcType = 'head';\n        colFormat = props.getDataProperty(['fmtinfo', 'colfmt', srcField]);\n      }\n      if (colFormat != null) {\n        // 没有或后台清除\n        colFormat = colFormat.toJS();\n        if (numberType == 'price') {\n          scale = colFormat.pp; // 精度\n          showSymbol = colFormat.scs; // 是否显示货币符号\n          symbol = colFormat.cs; // 货币符号\n          code = colFormat.cn;\n        } else if (numberType == 'amount') {\n          scale = colFormat.ap; // 精度\n          showSymbol = colFormat.scs; // 是否显示货币符号\n          symbol = colFormat.cs; // 货币符号\n          code = colFormat.cn;\n        } else {\n          // qty\n          scale = colFormat.ps;\n        }\n        return _objectSpread({\n          scale: scale,\n          showSymbol: showSymbol,\n          symbol: symbol,\n          code: code\n        }, srcFieldInfo);\n      } else if (numberType !== 'qty') {\n        // 本位币\n        var mainCurrencyFormat = props.supressMainCurrency ? null : (0, _componentutil.getMainCurrencyFormatConfig)();\n        if (mainCurrencyFormat) {\n          showSymbol = mainCurrencyFormat.scs; // 是否显示货币符号\n          symbol = ''; // mainCurrencyFormat.cs // 货币符号\n          code = mainCurrencyFormat.cn;\n          if (numberType === 'price') {\n            scale = mainCurrencyFormat.pp === undefined ? scale : mainCurrencyFormat.pp;\n          } else if (numberType === 'amount') {\n            scale = mainCurrencyFormat.ap === undefined ? scale : mainCurrencyFormat.ap;\n          }\n        }\n        return _objectSpread({\n          scale: scale,\n          showSymbol: showSymbol,\n          symbol: symbol,\n          code: code\n        }, srcFieldInfo);\n      }\n      if (numberType === 'qty' && props.node && props.node.rowPinned) {\n        // 单据体合计行数量关联取值为空，不显示尾0\n        return _objectSpread({}, srcFieldInfo);\n      }\n    }\n  }\n  if (numberType && numberType === 'D') {\n    // 小数增加关联字段获取精度\n    // 小数关联字段\n    var _srcField = props.editor.sf;\n    if (props.getDataProperty(['value', 'dataindex', _srcField]) !== undefined) {\n      // 表内字段\n      srcFieldInfo.srcType = 'entry';\n      // 取对应表体字段值编码\n      var _rowData2 = rowData || props.node && props.node.data;\n      if (_rowData2 === undefined) return null;\n      var _No = _rowData2.get ? _rowData2.get(_srcField) : _rowData2[_srcField];\n      _No = _No && _No.toJS ? _No.toJS() : _No;\n      if (_No && Array.isArray(_No) && _No.length > 0) _No = _No[0];\n      var srcFieldValue = _No;\n      if (srcFieldValue === 0) return {\n        scale: 0,\n        showSymbol: false,\n        symbol: ''\n      };\n      if (!srcFieldValue) return null;\n      var _scale = Number(srcFieldValue);\n      return Number.isInteger(_scale) ? {\n        scale: _scale,\n        showSymbol: false,\n        symbol: ''\n      } : null;\n    }\n  }\n  return null;\n}\nfunction getFmtInfoForRowData(srcField, rowData, numberType) {\n  var _rowData$cprop;\n  var fmt = numberType === 'qty' ? 'unitfmt' : 'currencyfmt';\n  var colFormat = rowData === null || rowData === void 0 || (_rowData$cprop = rowData.cprop) === null || _rowData$cprop === void 0 || (_rowData$cprop = _rowData$cprop.fmtinfo) === null || _rowData$cprop === void 0 || (_rowData$cprop = _rowData$cprop[fmt]) === null || _rowData$cprop === void 0 ? void 0 : _rowData$cprop[srcField];\n  return colFormat ? (0, _immutable.fromJS)(colFormat) : null;\n}\n\n/**\n * 获取上级控件的可用子级项\n * @param {*} type\n * @param {*} args\n */\nfunction filterParentCtrledItems(type, args) {\n  var props = args.props,\n    filterObj = args.filterObj,\n    parentId = args.parentId;\n  if (parentId === undefined || parentId === '') return filterObj;\n  switch (type) {\n    case 'select':\n      {\n        if (filterObj == null || !Array.isArray(filterObj) || filterObj.length <= 0) return [];\n        var colIdx = props.getDataProperty(['value', 'dataindex', parentId]);\n        if (colIdx !== undefined) {\n          // 表内字段\n          // 取对应表体字段值编码\n          if (props.node.data === undefined) return [];\n          var colValue = props.getDataProperty(['value', 'rows', props.node.data[props.rk], colIdx]);\n          if (colValue == null || colValue === '') return [];\n          var newObj = _lodash[\"default\"].filter(filterObj, function (obj) {\n            if (obj != null && Array.isArray(obj) && obj.length >= 4) {\n              return _lodash[\"default\"].includes(('' + obj[3]).split(','), '' + colValue);\n            }\n            return false;\n          });\n          return newObj || [];\n        } else {\n          return [];\n        }\n      }\n    default:\n      return filterObj;\n  }\n}\n\n/**\n * 单据体从fmtinfo中获取时区信息\n * 列表的时区信息要带行数据里面带回来，每行数据可能不同\n * {'timezone':{colid:[zone,today]}}\n * by kechuang\n */\nfunction getTimeZoneInfo(props) {\n  var onlyTimeZone = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  var rowData = arguments.length > 2 ? arguments[2] : undefined;\n  var getDataProperty = props.getDataProperty,\n    gridContrlParams = props.gridContrlParams,\n    value = props.value;\n  if (gridContrlParams) {\n    if (gridContrlParams.isListView) {\n      if (Array.isArray(value)) {\n        return value[1];\n      } else {\n        return '';\n      }\n    }\n  }\n  var srcField = props.editor[_serverproperties.RELATE_ORG];\n  var timeZoneInfo = null;\n  if (!srcField) {\n    var field = props.field || props.column && props.column.colDef.field;\n    var _timeZoneInfo = getDataProperty(['fmtinfo', 'colfmt', field]);\n    if (_timeZoneInfo) {\n      // return Object.values(timeZoneInfo.toJS())\n      return onlyTimeZone ? _timeZoneInfo.get('timezone', '') : [_timeZoneInfo.get('timezone', ''), _timeZoneInfo.get('today')];\n    } else {\n      return '';\n    }\n  }\n  var gridSrcField = props.getDataProperty(['value', 'dataindex', srcField]);\n  if (gridSrcField !== undefined) {\n    // 表内字段\n    // 取对应表体字段值编码\n    var _rowData = rowData || props.node && props.node.data;\n    if (_rowData === undefined) return '';\n    var dataSrcField = _rowData.get ? _rowData.get(srcField) : _rowData[srcField];\n    if (dataSrcField && Array.isArray(dataSrcField) && dataSrcField.length > 0) {\n      dataSrcField = dataSrcField[0];\n    }\n    timeZoneInfo = getDataProperty(['fmtinfo', 'timezonefmt', dataSrcField]);\n    if (!timeZoneInfo) return onlyTimeZone ? '' : [];\n    return onlyTimeZone ? timeZoneInfo.timezone || '' : [timeZoneInfo.timezone, timeZoneInfo.today];\n  } else {\n    timeZoneInfo = getDataProperty(['fmtinfo', 'colfmt', srcField]);\n    if (!timeZoneInfo) return onlyTimeZone ? '' : [];\n    return onlyTimeZone ? timeZoneInfo.get('timezone', '') : [timeZoneInfo.get('timezone', ''), timeZoneInfo.get('today')];\n  }\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/gridModel/fieldRelation/index.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/gridModel/index.js":
/*!******************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/gridModel/index.js ***!
  \******************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nObject.defineProperty(exports, \"calculatePreferredColumnsWidth\", ({\n  enumerable: true,\n  get: function get() {\n    return _autoColumnWidthCalculator.calculatePreferredColumnsWidth;\n  }\n}));\nObject.defineProperty(exports, \"colWidthAutoFull\", ({\n  enumerable: true,\n  get: function get() {\n    return _colWidthAutoFull.colWidthAutoFull;\n  }\n}));\nObject.defineProperty(exports, \"delayFuncsWhenMount\", ({\n  enumerable: true,\n  get: function get() {\n    return _updateInterceptor.delayFuncsWhenMount;\n  }\n}));\nObject.defineProperty(exports, \"expandHeight\", ({\n  enumerable: true,\n  get: function get() {\n    return _expandHeight.expandHeight;\n  }\n}));\nObject.defineProperty(exports, \"filterParentCtrledItems\", ({\n  enumerable: true,\n  get: function get() {\n    return _fieldRelation.filterParentCtrledItems;\n  }\n}));\nObject.defineProperty(exports, \"getGreedyAutoSizeColWidths\", ({\n  enumerable: true,\n  get: function get() {\n    return _colWidthAutoFull.getGreedyAutoSizeColWidths;\n  }\n}));\nObject.defineProperty(exports, \"getPreferredWidthForColumn\", ({\n  enumerable: true,\n  get: function get() {\n    return _autoColumnWidthCalculator.getPreferredWidthForColumn;\n  }\n}));\nObject.defineProperty(exports, \"getSrcFieldInfo\", ({\n  enumerable: true,\n  get: function get() {\n    return _fieldRelation.getSrcFieldInfo;\n  }\n}));\nObject.defineProperty(exports, \"getTimeZoneInfo\", ({\n  enumerable: true,\n  get: function get() {\n    return _fieldRelation.getTimeZoneInfo;\n  }\n}));\nexports.modelFuncs = void 0;\nObject.defineProperty(exports, \"onColumnMoved\", ({\n  enumerable: true,\n  get: function get() {\n    return _columnMoved.onColumnMoved;\n  }\n}));\nObject.defineProperty(exports, \"resetLayout\", ({\n  enumerable: true,\n  get: function get() {\n    return _resetLayout.resetLayout;\n  }\n}));\nObject.defineProperty(exports, \"setKeyDownOrUpFocus\", ({\n  enumerable: true,\n  get: function get() {\n    return _keyboardEvent.setKeyDownOrUpFocus;\n  }\n}));\nObject.defineProperty(exports, \"setNextFocus\", ({\n  enumerable: true,\n  get: function get() {\n    return _keyboardEvent.setNextFocus;\n  }\n}));\nObject.defineProperty(exports, \"simpleDataDiffer\", ({\n  enumerable: true,\n  get: function get() {\n    return _updateInterceptor.simpleDataDiffer;\n  }\n}));\nObject.defineProperty(exports, \"updateIntercept\", ({\n  enumerable: true,\n  get: function get() {\n    return _updateInterceptor.updateIntercept;\n  }\n}));\nvar _modelFuncs = _interopRequireWildcard(__webpack_require__(/*! ./modelFuncs.js */ \"./src/component/web/DataGrid/AgDataGrid/gridModel/modelFuncs.js\"));\nexports.modelFuncs = _modelFuncs;\nvar _expandHeight = __webpack_require__(/*! ./layout/expandHeight */ \"./src/component/web/DataGrid/AgDataGrid/gridModel/layout/expandHeight.js\");\nvar _resetLayout = __webpack_require__(/*! ./layout/resetLayout */ \"./src/component/web/DataGrid/AgDataGrid/gridModel/layout/resetLayout.js\");\nvar _colWidthAutoFull = __webpack_require__(/*! ./layout/colWidthAutoFull */ \"./src/component/web/DataGrid/AgDataGrid/gridModel/layout/colWidthAutoFull.js\");\nvar _autoColumnWidthCalculator = __webpack_require__(/*! ./layout/autoColumnWidthCalculator */ \"./src/component/web/DataGrid/AgDataGrid/gridModel/layout/autoColumnWidthCalculator.js\");\nvar _updateInterceptor = __webpack_require__(/*! ./updateInterceptor */ \"./src/component/web/DataGrid/AgDataGrid/gridModel/updateInterceptor/index.js\");\nvar _fieldRelation = __webpack_require__(/*! ./fieldRelation */ \"./src/component/web/DataGrid/AgDataGrid/gridModel/fieldRelation/index.js\");\nvar _columnMoved = __webpack_require__(/*! ./colRearrangement/columnMoved */ \"./src/component/web/DataGrid/AgDataGrid/gridModel/colRearrangement/columnMoved.js\");\nvar _keyboardEvent = __webpack_require__(/*! ./keyboardEvent */ \"./src/component/web/DataGrid/AgDataGrid/gridModel/keyboardEvent.js\");\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/gridModel/index.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/gridModel/keyboardEvent.js":
/*!**************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/gridModel/keyboardEvent.js ***!
  \**************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.navigateToNextCell = navigateToNextCell;\nexports.setKeyDownOrUpFocus = setKeyDownOrUpFocus;\nexports.setNextFocus = setNextFocus;\nvar _columnProperty = __webpack_require__(/*! ../columnModel/columnProperty */ \"./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/index.js\");\n/**\n *\n * 非编辑态enter键控制事件\n * 自动聚焦到下个单元格\n * @export\n * @param {*} e\n * @param {*} api\n * @param {*} gridOptions\n */\nfunction setNextFocus(e, api) {\n  var cells = api.getEditingCells() || [];\n  var hasEditCell = cells.length > 0;\n  if (!hasEditCell) {\n    var focused = api.getFocusedCell();\n    if (!focused) return;\n    var column = focused.column;\n    var columnApi = column.columnApi;\n    var nextIndex = focused.rowIndex;\n    var nextField = columnApi.getDisplayedColAfter(column);\n    if (nextField) {} else {\n      nextIndex++;\n      var rowCount = api.getDisplayedRowCount();\n      if (nextIndex >= rowCount) return;\n      nextField = columnApi.getAllDisplayedColumns();\n      nextField = nextField[0].colId == '0' ? nextField[1] : nextField[0];\n    }\n    api.clearRangeSelection();\n    api.ensureColumnVisible(nextField.colId);\n    api.setFocusedCell(nextIndex, nextField.colId, null);\n  }\n}\n\n/**\n * 编辑态上下键事件\n * 自动聚焦到下个单元格\n * @export\n * @param {*} e\n * @param {*} api\n */\nfunction setKeyDownOrUpFocus(e, api) {\n  var cells = api.getEditingCells();\n  cells = cells || [];\n  var focused = api.getFocusedCell();\n  if (cells.length < 1 || !focused) return;\n  navigateToNextCell(e, api, focused);\n  e.preventDefault();\n}\nfunction navigateToNextCell(e, api, cellPosition) {\n  if (!cellPosition.column) return;\n  var column = cellPosition.column,\n    rowIndex = cellPosition.rowIndex;\n  var colDef = column.colDef,\n    columnApi = column.columnApi;\n  var node = api.getDisplayedRowAtIndex(rowIndex);\n  var params = {\n    api: api,\n    colDef: colDef,\n    column: column,\n    columnApi: columnApi,\n    context: undefined,\n    data: node && node.data,\n    editing: true,\n    event: e,\n    node: node\n  };\n  var editorParams = colDef && colDef.cellEditorParams;\n  if ((0, _columnProperty.eventSuppress)(e.keyCode, editorParams.type, editorParams, params)) return;\n  // const nextIndex = rowIndex + 1\n  // const rowCount = api.getDisplayedRowCount()\n  // if (nextIndex >= rowCount) return\n  // console.log(nextIndex, column.colId)\n  // api.clearRangeSelection()\n  // api.ensureColumnVisible(column.colId)\n  // api.setFocusedCell(nextIndex, column.colId, null)\n  api.stopEditing(); // 结束编辑\n  // 直接调用ag内部方法去实现跳到下个单元格, 好处是可以调用ag cb function navigateToNextCell\n  api.rowRenderer && api.rowRenderer.navigateToNextCell(e, e.keyCode, cellPosition, true);\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/gridModel/keyboardEvent.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/gridModel/layout/autoColumnWidthCalculator.js":
/*!*********************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/gridModel/layout/autoColumnWidthCalculator.js ***!
  \*********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.calculatePreferredColumnsWidth = calculatePreferredColumnsWidth;\nexports.getPreferredWidthForColumn = getPreferredWidthForColumn;\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.array.reduce.js */ \"../../node_modules/core-js/modules/es.array.reduce.js\");\n__webpack_require__(/*! core-js/modules/es.map.js */ \"../../node_modules/core-js/modules/es.map.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nvar _gridConst = __webpack_require__(/*! @/constant/gridConst.js */ \"./src/constant/gridConst.js\");\nvar _width = __webpack_require__(/*! ../../../TableHelper/column/width */ \"./src/component/web/DataGrid/TableHelper/column/width.js\");\nvar _array = __webpack_require__(/*! @/component/web/DataGrid/TableHelper/util/array */ \"./src/component/web/DataGrid/TableHelper/util/array.js\");\nvar GROUP_SUFFIX = '_0';\n/**\n * 自定义的自适应列宽方法\n * @param {Array} columns [{colId,maxWidth}]\n * @param {Object} columnApi ag columnApi\n * @param {Object} otherParams {eGridContainer}\n */\nfunction calculatePreferredColumnsWidth(columns, columnApi, otherParams) {\n  var eGridContainer = otherParams.eGridContainer,\n    ignoreMaxWidth = otherParams.ignoreMaxWidth;\n  if (!Array.isArray(columns)) {\n    columns = [columns];\n  }\n  var sets = [];\n  var hasCalCol = new Map();\n  // 拿到计算出来的 leaf 节点和所有 bodycell 节点自适应后的宽度\n  columns.forEach(function (column) {\n    hasCalCol.set(column.colId, getPreferredWidthForColumn(column, eGridContainer, {\n      ignoreMaxWidth: ignoreMaxWidth\n    }));\n  });\n  var columnsDef = columns.map(function (col) {\n    return col.colDef;\n  });\n  var processGroupHeaderCell = function processGroupHeaderCell(columns, eGridContainer, _ref) {\n    var ignoreMaxWidth = _ref.ignoreMaxWidth,\n      hasCalCol = _ref.hasCalCol;\n    var dealEachLevel = function dealEachLevel(columns) {\n      var ancestorColumns = columns.map(function (col) {\n        return col.getParent();\n      });\n      if (!ancestorColumns[0]) return;\n      ancestorColumns.forEach(function (col) {\n        var colId = col.colId || col.groupId;\n        if (hasCalCol.get(colId)) {\n          return;\n        }\n        var preferredWidth = getPreferredWidthForColumn({\n          colId: colId,\n          maxWidth: null,\n          colDef: col\n        }, eGridContainer, {\n          ignoreMaxWidth: true,\n          ignoreBodyCell: true\n        });\n        hasCalCol.set(colId, preferredWidth);\n        // 比较父节点宽度和所有子节点的宽度，如果父节点更大则加大子节点的位置\n        var curLeaftChildren = (0, _array.flatColumns)(col.children);\n        var childrenSum = curLeaftChildren.reduce(function (sum, childCol) {\n          return sum + hasCalCol.get(childCol.colId);\n        }, 0);\n        if (preferredWidth > childrenSum) {\n          curLeaftChildren.forEach(function (col) {\n            hasCalCol.set(col.colId, hasCalCol.get(col.colId) + Math.ceil((preferredWidth - childrenSum) / curLeaftChildren.length));\n          });\n        }\n      });\n      dealEachLevel(ancestorColumns);\n    };\n    dealEachLevel(columns);\n  };\n  processGroupHeaderCell(columnsDef, eGridContainer, {\n    ignoreMaxWidth: ignoreMaxWidth,\n    hasCalCol: hasCalCol\n  });\n  columns.forEach(function (column) {\n    var colId = column.colId;\n    var finalPreferredWidth = hasCalCol.get(colId);\n    if (finalPreferredWidth > 0) {\n      var _colId = column.colId,\n        maxWidth = column.maxWidth,\n        minWidth = column.minWidth,\n        metaColWidth = column.metaColWidth;\n      sets.push({\n        width: minWidth ? Math.max(finalPreferredWidth, minWidth) : finalPreferredWidth,\n        colId: _colId,\n        maxWidth: maxWidth || (0, _width.getMaxAutoWidth)({\n          metaColWidth: metaColWidth\n        })\n      });\n    }\n  });\n  return sets;\n}\nfunction getHeaderGroupCellForColumn(colId, eGridContainer) {\n  return eGridContainer.querySelector(\".ag-header-group-cell[col-id=\\\"\".concat(colId, \"\\\"]\"));\n}\nfunction getHeaderCellForColumn(colId, eGridContainer) {\n  return eGridContainer.querySelector(\".ag-header .ag-header-cell[col-id=\\\"\".concat(colId, \"\\\"]\"));\n}\nfunction getAllCellsForColumn(colId, eGridContainer) {\n  return eGridContainer.querySelectorAll(\".ag-root .ag-cell[col-id=\\\"\".concat(colId, \"\\\"]\"));\n}\nfunction getAppenedEle(eGridContainer) {\n  return eGridContainer.querySelector('.ag-root .ag-center-cols-container') || eGridContainer;\n}\nfunction getPreferredWidthForColumn(column, eGridContainer, otherParams) {\n  var colId = column.colId,\n    maxWidth = column.maxWidth,\n    metaColWidth = column.metaColWidth,\n    colDef = column.colDef;\n  var autoSizePadding = 1;\n  var defaultMaxWidth = (0, _width.getMaxAutoWidth)({\n    metaColWidth: metaColWidth\n  });\n  var _ref2 = otherParams || {},\n    ignoreMaxWidth = _ref2.ignoreMaxWidth,\n    ignoreBodyCell = _ref2.ignoreBodyCell;\n  var _maxWidth = maxWidth != null ? maxWidth : defaultMaxWidth;\n  var eHeaderCell = colDef.groupId ? getHeaderGroupCellForColumn(colDef.groupId + GROUP_SUFFIX, eGridContainer) : getHeaderCellForColumn(colId, eGridContainer);\n  if (!eHeaderCell) {\n    return -1;\n  }\n  var eFakeContainer = document.createElement('span');\n  eFakeContainer.className = 'grid-auto-size-column-fake-container';\n  eFakeContainer.style.position = 'fixed';\n  cloneItemIntoFakeContainer(eHeaderCell, eFakeContainer);\n  if (!ignoreBodyCell) {\n    var eCells = getAllCellsForColumn(colId, eGridContainer);\n    eCells.forEach(function (eCell) {\n      return cloneItemIntoFakeContainer(eCell, eFakeContainer);\n    });\n  }\n  var appendEle = getAppenedEle(eGridContainer);\n  appendEle.appendChild(eFakeContainer);\n  var eFakeContainerWidth = eFakeContainer.offsetWidth;\n  appendEle.removeChild(eFakeContainer);\n  if (eFakeContainerWidth === 0) {\n    // 计算出宽度为0只能为隐藏的情况，此时不处理\n    return -1;\n  }\n  var expectWidth = eFakeContainerWidth + autoSizePadding;\n  if (_maxWidth == null || ignoreMaxWidth) {\n    // 不限制宽度，则无限撑宽\n    return Math.ceil(expectWidth);\n  }\n  return Math.ceil(expectWidth > _maxWidth ? _maxWidth : expectWidth);\n}\nfunction cloneItemIntoFakeContainer(eCell, eFakeContainer) {\n  var eCellClone = eCell.cloneNode(true);\n  eCellClone.style.width = '';\n  eCellClone.style.position = 'static';\n  eCellClone.style.left = '';\n  var eCloneParent = document.createElement('div');\n  eCloneParent.style.display = 'table-row';\n  eCloneParent.appendChild(eCellClone);\n  eFakeContainer.appendChild(eCloneParent);\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/gridModel/layout/autoColumnWidthCalculator.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/gridModel/layout/colWidthAutoFull.js":
/*!************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/gridModel/layout/colWidthAutoFull.js ***!
  \************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.colWidthAutoFull = colWidthAutoFull;\nexports.getGreedyAutoSizeColWidths = getGreedyAutoSizeColWidths;\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.array.some.js */ \"../../node_modules/core-js/modules/es.array.some.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _GridUtils = __webpack_require__(/*! ../../GridUtils */ \"./src/component/web/DataGrid/AgDataGrid/GridUtils.js\");\nvar _gridConst = __webpack_require__(/*! @/constant/gridConst */ \"./src/constant/gridConst.js\");\nvar _visibleLock = __webpack_require__(/*! ../../visibleLock */ \"./src/component/web/DataGrid/AgDataGrid/visibleLock/index.js\");\n/**\n * 列宽自动撑满容器\n * 支持列表、报表、全锁定单据体\n */\n\n/**\n *\n * @param {*} context this\n * @param {*} params  {columnsWidthSet}\n */\nfunction colWidthAutoFull(context, params) {\n  var _ref = params || {},\n    columnsWidthSet = _ref.columnsWidthSet;\n  var gridContainer = context.gridContainer,\n    gridContrlParams = context.gridContrlParams,\n    columnApi = context.columnApi,\n    gridState = context.gridState;\n  var isListView = gridContrlParams.isListView,\n    isVirtualView = gridContrlParams.isVirtualView,\n    isEntryEntity = gridContrlParams.isEntryEntity,\n    gridEditable = gridContrlParams.gridEditable,\n    widthSettedCols = gridContrlParams.widthSettedCols,\n    columnResizeMode = gridContrlParams.columnResizeMode;\n  if (!gridContainer || !columnApi) return false;\n  var seq = gridState.seq,\n    rk = gridState.rk,\n    columnDefs = gridState.columnDefs;\n  if (isListView || isVirtualView || (0, _visibleLock.isAllEntryEntityColLocked)(columnDefs, {\n    isEntryEntity: isEntryEntity,\n    gridEditable: gridEditable,\n    seq: seq,\n    rk: rk\n  })) {\n    var totalWidth = Math.floor(gridContainer.clientWidth - 2 - _GridUtils.SCROLLBARWIDTH);\n    var colDefs = gridState.columnDefs; // 修改成getAllColumns\n    var expandCollection = {\n      sumWidth: 0,\n      expandCols: []\n    };\n    var widthSetForSuppressSizeToFit = [];\n    (0, _GridUtils.childrenLoop)(colDefs, function (coldef) {\n      if (coldef.hide) return;\n      var width = coldef.width,\n        suppressSizeToFit = coldef.suppressSizeToFit;\n      var widthSetItem = getWidthSetItemById(coldef.field, columnsWidthSet);\n      var _width = widthSetItem ? widthSetItem.width : width;\n      if (suppressSizeToFit || columnResizeMode === _gridConst.GRID_COLUMN_RESIZE_MODE.preset && widthSettedCols.has(coldef.field)) {\n        // 禁止扩展：1.suppressSizeToFit 2.预设列宽模式下已设置宽度的\n        totalWidth -= _width;\n        columnResizeMode !== _gridConst.GRID_COLUMN_RESIZE_MODE.preset && widthSetItem && widthSetForSuppressSizeToFit.push(widthSetItem);\n      } else {\n        if (coldef.children) return;\n        coldef.width = _width;\n        expandCollection.expandCols.push(coldef);\n        expandCollection.sumWidth += _width;\n      }\n    });\n    // 没有扩展列 不需要重设列，重设列会导致整个表格重绘\n    if (expandCollection.expandCols.length > 0 && expandCollection.sumWidth < totalWidth) {\n      var expandBaseWidth = Math.floor((totalWidth - expandCollection.sumWidth) / expandCollection.expandCols.length);\n      var remainingWidth = totalWidth; // 计算出来除不尽有误差，最后一列加上误差，保证充满\n      var setColumnWidthToFull = function setColumnWidthToFull(colDef, index) {\n        var width = colDef.width;\n        colDef.width = index === expandCollection.expandCols.length - 1 ? remainingWidth : width + expandBaseWidth;\n        remainingWidth -= colDef.width;\n        columnApi.setColumnWidth(colDef.colId, colDef.width, false);\n      };\n      var setColumnWidth = function setColumnWidth(item) {\n        columnApi.setColumnWidth(item.colId, item.width, false);\n      };\n      expandCollection.expandCols.forEach(setColumnWidthToFull);\n      widthSetForSuppressSizeToFit.forEach(setColumnWidth);\n      return true;\n    }\n  }\n}\nvar AUTO_SIZE_COL_MAX_PADDING = 64;\nvar GREEDY_GRID_WIDTH_MAX_RATE = 0.7;\nfunction getGreedyAutoSizeColWidths(params) {\n  var _ref2 = params || {},\n    columnsWidthSet = _ref2.columnsWidthSet;\n  var gridViewSize = this.gridViewSize,\n    gridState = this.gridState,\n    columnApi = this.columnApi;\n  var _ref3 = gridViewSize || {},\n    gridWidth = _ref3.width;\n  if (gridWidth && columnApi && Array.isArray(columnsWidthSet) && columnsWidthSet.length > 0) {\n    var totalWidth = Math.floor(gridWidth - 2 - _GridUtils.SCROLLBARWIDTH);\n    var nextWidthCollection = {\n      visibleColumnsWidthCount: 0\n    };\n    var seq = gridState.seq;\n    var displayColumns = columnApi.getAllDisplayedColumns();\n    (0, _GridUtils.childrenLoop)(displayColumns, function (col) {\n      var actualWidth = col.actualWidth,\n        colId = col.colId;\n      var widthSetItem = getWidthSetItemById(colId, columnsWidthSet);\n      var nextWidth = widthSetItem ? widthSetItem.width : actualWidth;\n      nextWidthCollection.visibleColumnsWidthCount += nextWidth;\n    });\n    var maxWidth = Math.ceil(totalWidth * GREEDY_GRID_WIDTH_MAX_RATE);\n    if (nextWidthCollection.visibleColumnsWidthCount < maxWidth) {\n      var isExsitSeqCol = columnsWidthSet.some(function (item) {\n        return item.colId === seq;\n      });\n      var length = getExpandedColumnsLength({\n        length: columnsWidthSet.length,\n        isExsitSeqCol: isExsitSeqCol\n      });\n      if (length < 1) {\n        return columnsWidthSet;\n      }\n      var additionalPadding = Math.floor((maxWidth - nextWidthCollection.visibleColumnsWidthCount) / length);\n      additionalPadding = additionalPadding > AUTO_SIZE_COL_MAX_PADDING ? AUTO_SIZE_COL_MAX_PADDING : additionalPadding;\n      return columnsWidthSet.map(function (item) {\n        var width = item.width,\n          maxWidth = item.maxWidth,\n          colId = item.colId;\n        if (![seq].includes(colId)) {\n          var nextWidth = width + additionalPadding;\n          item.width = nextWidth < maxWidth + AUTO_SIZE_COL_MAX_PADDING ? nextWidth : maxWidth + AUTO_SIZE_COL_MAX_PADDING;\n        }\n        return item;\n      });\n    }\n  }\n  return columnsWidthSet;\n}\nfunction getWidthSetItemById(colId, columnsWidthSet) {\n  if (!columnsWidthSet) {\n    return;\n  }\n  var targetItems = columnsWidthSet.filter(function (item) {\n    return item.colId === colId;\n  });\n  return targetItems[0];\n}\nfunction getExpandedColumnsLength(_ref4) {\n  var length = _ref4.length,\n    isExsitSeqCol = _ref4.isExsitSeqCol;\n  if (isExsitSeqCol) {\n    length -= 1;\n  }\n  return length;\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/gridModel/layout/colWidthAutoFull.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/gridModel/layout/expandHeight.js":
/*!********************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/gridModel/layout/expandHeight.js ***!
  \********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.expandHeight = expandHeight;\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.parse-int.js */ \"../../node_modules/core-js/modules/es.parse-int.js\");\nvar _global = _interopRequireWildcard(__webpack_require__(/*! @/global */ \"./src/global/index.js\"));\nvar _GridUtils = __webpack_require__(/*! ../../GridUtils */ \"./src/component/web/DataGrid/AgDataGrid/GridUtils.js\");\nvar _pinnedRowInterface = __webpack_require__(/*! ../../rowModel/pinnedRow/pinnedRowInterface */ \"./src/component/web/DataGrid/AgDataGrid/rowModel/pinnedRow/pinnedRowInterface.js\");\nvar _index = __webpack_require__(/*! @/action/actionname/control/grid/server/index.js */ \"./src/action/actionname/control/grid/server/index.js\");\nvar _memoryCacher = __webpack_require__(/*! @/model/memoryCacher */ \"./src/model/memoryCacher.js\");\nvar _gridConst = __webpack_require__(/*! @/constant/gridConst */ \"./src/constant/gridConst.js\");\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction getHeight(minCount, maxCount, rowCount, api, gridOptions) {\n  var count = 0;\n  var calHeight = 0;\n  var height = {\n    totalHeight: 0,\n    // 不出滚动条时的总高度\n    expectHeight: 0,\n    // 按rowCount数取得的期望高度\n    minHeight: 0,\n    maxHeight: 0\n  };\n  var iteratorFunc = (0, _GridUtils.hasFilterModel)(api) ? api.forEachNodeAfterFilter.bind(api) : api.forEachNode.bind(api);\n  iteratorFunc(function (node) {\n    if (node.rowTop === null) return; // 树形单据体折叠后隐藏的行也会遍历出来，但是rowTop为null(目前只找到这种判断方式)\n    height.totalHeight += node.alreadyRendered && node.rowHeight || gridOptions.rowHeight;\n    count++;\n    if (count == rowCount) {\n      height.expectHeight = height.totalHeight;\n    }\n    if (count == minCount) {\n      height.minHeight = height.totalHeight;\n    }\n    if (count == maxCount) {\n      height.maxHeight = height.totalHeight;\n    }\n  });\n  if (height.expectHeight == 0) height.expectHeight = height.totalHeight + gridOptions.rowHeight * (rowCount - count);\n  if (height.minHeight == 0) height.minHeight = height.totalHeight + gridOptions.rowHeight * (minCount - count);\n  if (height.maxHeight == 0) height.maxHeight = height.totalHeight + gridOptions.rowHeight * (maxCount - count);\n  return height;\n}\n/**\n * 表格高度扩展\n * @param {*} arg\n * @param {*} heightLimit\n */\nfunction expandHeight(arg) {\n  if (this.activeView === 'tiledView' && this.isEntryEntity && this.isEntryEntity()) {\n    // 如果激活的视图是平铺，先不做撑高，后续切回表格视图再实现\n    this.expandHeightFlagBySwithView = true;\n    return;\n  }\n  var oper = arg.oper,\n    rowcount = arg.rowcount;\n  var heightLimit = arg.heightLimit;\n  heightLimit = typeof heightLimit !== 'boolean' ? this.gridContrlParams.heightLimit : heightLimit; // 不传入值 则取参数里的heightLimit\n  var _this$gridContrlParam = this.gridContrlParams,\n    maxLevel = _this$gridContrlParam.maxLevel,\n    hasVocherAmtCol = _this$gridContrlParam.hasVocherAmtCol,\n    autoHeight = _this$gridContrlParam.autoHeight;\n  // 表格高少于10行则自增高度。\n  var eTop = this.gridContainer;\n  if (!eTop || !this.api) return;\n  var clH = parseInt(eTop.style.height);\n  var pagecount = this.dataDesc.pagecount;\n  var displayedRowCount = this.api.getDisplayedRowCount();\n  var floatRows = this.gridContrlParams.aggregateColumns.length > 0 && (0, _pinnedRowInterface.isShowPinnedRow)({\n    pageCount: pagecount,\n    dataCount: displayedRowCount\n  }) ? 1 : 0;\n  if (this.gridContrlParams.aggregateColumns.length > 0 && this.gridContrlParams.isEntryEntity && (0, _pinnedRowInterface.isShowPinnedRow)({\n    pageCount: pagecount,\n    dataCount: this.gridRows.length\n  })) {\n    floatRows = 1; // 单据体是前端过滤，目前合计是所有数据，所以只要有数据就要显示合计行\n  }\n  var throne = 1;\n  // if (hasVocherAmtCol) {\n  //   throne = 0\n  // }\n\n  var virtualViewToolBarHeight = this.gridContrlParams.isVirtualView && !this.isLargeData ? _GridUtils.VIRTUAL_VIEW_TOOLBAR_HEIGHT : 0;\n  // const pinnedRowHeight = autoHeight ? this.gridOptions.rowHeight : PINNEDROWHEIGHT // 自适应行高下合计行高度为默认行高\n  // 滚动条为了兼容IE下左右箭头不能点击问题使用了box-sizing: content-box，这里计算高度要+1\n  var scrollbarWidth = _global[\"default\"][_global.IS_IE] ? _GridUtils.SCROLLBARWIDTH + 1 : _GridUtils.SCROLLBARWIDTH;\n  if (this.gridContrlParams.isTitleAutoHeight) {\n    var _this$gridState = this.gridState,\n      pageId = _this$gridState.pageId,\n      gridId = _this$gridState.gridId;\n    var newHeadHeight = (0, _GridUtils.calAutoHeightHeader)(this.props.model, this.gridContainer);\n    this.gridOptions.headerHeight = newHeadHeight;\n    (0, _memoryCacher.setPageData)(pageId, [gridId, _gridConst.CONFIGURED_HEADER_HEIGHT_CHANGED], newHeadHeight);\n    // 如果是无数据的情况下，标题高度变化需要实时调整无数据提示的位置\n    var noDataPlaceholder = this.gridContrlParams.isEntryEntity ? this.api.gridPanel.eGui.querySelector('.ag-overlay .gird-nodata-placeholder') : null;\n    if (noDataPlaceholder) {\n      noDataPlaceholder.style.paddingTop = this.gridOptions.headerHeight * maxLevel + 'px';\n    }\n    this.resetColsWithColumnsState();\n  }\n  var publicHeight = floatRows * this.gridOptions.rowHeight + this.gridOptions.headerHeight * maxLevel + scrollbarWidth * throne + virtualViewToolBarHeight;\n  if (floatRows >= 1) {\n    publicHeight += 1; // 合计行ag内部会自动+1px\n  }\n  if (this.hasNavigation()) {\n    publicHeight += this.getNavigationHeight() + 1; // 工具栏高度，有工具栏的时候ag-root会加上1px边框\n  }\n  publicHeight += eTop.offsetHeight - eTop.clientHeight; // 算出上下边框;//容器上下边框\n\n  var initH = this.props.model.getMetaLocaleProperty(_GridUtils.HEIGHT);\n  var hasInitH = initH && initH.indexOf('px') >= 0;\n  var dr = this.gridContrlParams.defaultRows;\n  if (dr > 10) {\n    dr = 10;\n  } else if (dr < _GridUtils.DEFAULTROWCOUNT && !hasInitH) {\n    // 用户设置了高度，就不需要默认最小行\n    dr = _GridUtils.DEFAULTROWCOUNT;\n  }\n  var _this$dataDesc = this.dataDesc,\n    isSplitPage = _this$dataDesc.isSplitPage,\n    pagerows = _this$dataDesc.pagerows;\n  if (isSplitPage && pagerows && dr > pagerows) {\n    dr = pagerows;\n  }\n  var calculatedHeight = getHeight(dr, 10, rowcount || 0, this.api, this.gridOptions);\n  var maxHeight = calculatedHeight.maxHeight + publicHeight;\n  var minHeight = calculatedHeight.minHeight + publicHeight;\n  minHeight = Math.max(this.gridInitialSize.height, minHeight);\n  maxHeight = Math.max(maxHeight, minHeight);\n  // 设置了高度，以设置值为准。\n  if (hasInitH) maxHeight = isNaN(parseInt(initH)) ? maxHeight : parseInt(initH);\n  var expectHeight = publicHeight;\n  if (oper && (oper == _index.GRID_INSERT_ROW || oper == _index.GRID_APPEND_ROWS)) {\n    expectHeight += calculatedHeight.expectHeight;\n  } else {\n    expectHeight += calculatedHeight.totalHeight;\n  }\n\n  // 无限高则无限撑\n  if (heightLimit === false) {\n    expectHeight = expectHeight > minHeight ? expectHeight : minHeight; // clH+this.gridOptions.rowHeight+1+'px';\n  } else {\n    if (minHeight > expectHeight) {\n      expectHeight = minHeight;\n    } else {\n      if (expectHeight > maxHeight) {\n        expectHeight = maxHeight;\n      }\n    }\n  }\n  if (clH == expectHeight) return;\n  eTop.style.height = expectHeight + 'px'; // clH+this.gridOptions.rowHeight+1+'px';\n  this.api.doLayout();\n\n  // eTop.style.height = (maxHeight > expectHeight ? expectHeight : maxHeight) + 'px';//clH+this.gridOptions.rowHeight+1+'px';\n  // this.api.doLayout();\n  // if ((oper == INSERT_ROW || oper == APPEND_ROWS) && !isNaN(clH) && clH < maxHeight) {\n  //     if (clH < expectHeight) {\n  //         //console.log('扩大高度');\n  //         eTop.style.height = (maxHeight > expectHeight ? expectHeight : maxHeight) + 'px';//clH+this.gridOptions.rowHeight+1+'px';\n  //         this.api.doLayout();\n  //     }\n  // } else if (oper == DELETE_ROW && !isNaN(clH) && clH > minHeight) {\n  //     if (clH > expectHeight) {\n  //         //console.log('缩小高度');\n  //         expectHeight = Math.max(expectHeight, minHeight);\n  //         eTop.style.height = expectHeight + 'px';//clH-this.gridOptions.rowHeight-1+'px';\n  //         this.api.doLayout();\n  //     }\n  // }\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/gridModel/layout/expandHeight.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/gridModel/layout/resetLayout.js":
/*!*******************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/gridModel/layout/resetLayout.js ***!
  \*******************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.resetLayout = resetLayout;\nvar _gridEventName = _interopRequireDefault(__webpack_require__(/*! ../../gridEvent/gridEventName */ \"./src/component/web/DataGrid/AgDataGrid/gridEvent/gridEventName.js\"));\nvar _index = __webpack_require__(/*! ../../treeTable/index */ \"./src/component/web/DataGrid/AgDataGrid/treeTable/index.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n/**\n * 重设表格布局：1.列宽自适应 2.行高（表格高度）自适应\n */\n\nfunction resetLayout() {\n  var _this = this;\n  var gridContrlParams = this.gridContrlParams,\n    api = this.api,\n    gridEventService = this.gridEventService,\n    onGridViewSizeChanged = this.onGridViewSizeChanged;\n  // TODO: 初始化不可见时(clientVisible)可以考虑不执行\n  if (!api || !gridContrlParams) return; // 1.api不存在、2.或者关闭页签的时候，由于延时操作，可能这个时候表格已经销毁,表格不可见 3.显示数据为空\n  var autoHeight = gridContrlParams.autoHeight,\n    treeTable = gridContrlParams.treeTable;\n  if (autoHeight) {\n    if (api.getDisplayedRowCount() > 0) {\n      console.log('resetLayout');\n      window.requestAnimationFrame(function () {\n        _this.resetRowHeightsAndGridHeight();\n      });\n    }\n  } else {\n    // 树表存在展开列指令则延迟去做 handleExpandCollapseAction\n    if (treeTable ? (0, _index.anyTreeExpandOrCollapse)(this.props.model) === false : true) {\n      this.addEventForDelayAutoSizeColumns();\n    }\n    if (api.animationFrameService) {\n      // ag内部单元格的渲染通过frameService去按照任务队列执行，队列执行完毕触发onAnimationQueueEmpty，ag提供的api.isAnimationFrameQueueEmpty方法无法实时判断单元格渲染队列是否为空,\n      // 此处为了保证自适应方法在onAnimationQueueEmpty后执行, 在任务队列中增加一个任务，保证在监听后任务队列至少会执行一次onAnimationQueueEmpty\n      api.animationFrameService.addP2Task(function () {});\n    }\n    // 这个是表格初始化时设置的监听，表格大小改变时要调用，不能设置once\n    gridEventService.addEventListener(_gridEventName[\"default\"].gridViewSizeChanged, onGridViewSizeChanged);\n  }\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/gridModel/layout/resetLayout.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/gridModel/modelFuncs.js":
/*!***********************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/gridModel/modelFuncs.js ***!
  \***********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.array.find.js */ \"../../node_modules/core-js/modules/es.array.find.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.compileColGrp = compileColGrp;\nexports.focusToNextCell = focusToNextCell;\nexports.getGridHeader = getGridHeader;\nexports.getKeyFieldData = getKeyFieldData;\nexports.getRowByIndex = getRowByIndex;\nexports.jumpToEditorCell = jumpToEditorCell;\nexports.setLeftRightFocus = setLeftRightFocus;\nexports.setUpDownFocus = setUpDownFocus;\nexports.takeOneRow = takeOneRow;\nexports.takeRows = takeRows;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.timers.js */ \"../../node_modules/core-js/modules/web.timers.js\");\nvar _GridUtils = __webpack_require__(/*! ../GridUtils */ \"./src/component/web/DataGrid/AgDataGrid/GridUtils.js\");\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _rowKeyMiddleware = __webpack_require__(/*! ../../../../../util/rowKeyMiddleware */ \"./src/util/rowKeyMiddleware.js\");\nvar _grid = __webpack_require__(/*! @/util/component/grid */ \"./src/util/component/grid.js\");\n// 作用在于向实体对象中插入level标识，表明实体之间的父子关系\nfunction compileColGrp(entryentities) {\n  if (entryentities === undefined || !Array.isArray(entryentities)) return null;\n  var entt = {\n    maxLevel: 0,\n    entityDetails: {}\n  };\n  var maxLevel = 0;\n  var lookup = function lookup(obj, level) {\n    if (obj.parentKey === '') return level;\n    var pe = (0, _GridUtils.find)(entryentities, function (e) {\n      return e.key === obj.parentKey;\n    });\n    if (pe == null) return level;\n    return lookup(pe, level + 1); // 尾递归\n  };\n  entryentities.forEach(function (e) {\n    if (entt[e.key] === undefined) {\n      var l = lookup(e, 0);\n      maxLevel = Math.max(maxLevel, l);\n      entt.entityDetails[e.key] = {\n        level: l,\n        parentKey: e.parentKey,\n        key: e.key,\n        pkFieldName: e.pkFieldName // 数据与标识可能不同\n      };\n    }\n  });\n  entt.maxLevel = maxLevel;\n  return entt;\n}\nfunction takeRows(rows, startIndex, dataindex, seq, isTree) {\n  var isTreeVirtualView = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : false;\n  var rowdatas = [];\n  rows.map(function (item, index) {\n    var rowitem = {};\n    for (var i in dataindex) {\n      var key = dataindex[i]; // colid\n      var name = i; // colname\n      if (!item.hasOwnProperty(key)) {\n        continue;\n      }\n      var value = item[key];\n      rowitem[name] = value;\n      if (name === seq && !isTreeVirtualView) rowitem[name] = index + startIndex + 1;\n    }\n    if (isTree && rowitem.id === rowitem.pid) {\n      throw new Error('id和pid相等！');\n    }\n    rowdatas.push(rowitem);\n  });\n  return rowdatas;\n}\nfunction getRowByIndex(dataModel, rowKey) {\n  var gridAllData = dataModel.getData();\n  var rowKeyName = (gridAllData === null || gridAllData === void 0 ? void 0 : gridAllData.get('rkName')) || 'rk';\n  var data = gridAllData === null || gridAllData === void 0 ? void 0 : gridAllData.get('value');\n  var rows = data ? data.get('rows') : (0, _immutable.List)();\n  if (rows.size > 0) {\n    var rk = (0, _grid.isServerFilterModeTablePage)(dataModel.pageId) && (0, _grid.isEntryMatchServerMode)(dataModel.meta) ? (0, _rowKeyMiddleware.getRowIndexInGridDataByRowKey)(rowKey)(data, rowKeyName) : (0, _rowKeyMiddleware.transformAbsolute2Relative)(rowKey)(data);\n    if (rk > -1) {\n      return rows.get(rk, (0, _immutable.List)());\n    }\n  }\n  return (0, _immutable.List)();\n}\nfunction takeOneRow(row, dataindex, rowKey, seq) {\n  var rowData = {};\n  for (var i in dataindex) {\n    var key = dataindex[i]; // colid\n    var name = i; // colname\n    if (row && !row.hasOwnProperty(key)) {\n      continue;\n    }\n    var value = row && row[key];\n    rowData[name] = value;\n    if (name === seq) rowData[name] = rowKey + 1;\n  }\n  return rowData;\n}\nfunction getKeyFieldData(dataModel, keyFields, rowKey, relatedField, seq) {\n  var data = dataModel.getDataValue();\n  if (!data) {\n    return [];\n  }\n  var rows = data.get('rows', (0, _immutable.List)());\n  var dataIndex = data.get('dataindex', (0, _immutable.Map)());\n  var startIndex = _getStartIndex(data.get('pageindex'), data.get('pagerows'), data.get('isSplitPage'));\n  var rowData = rows.map(function (row, rowIndex) {\n    var keyData = {};\n    keyData[rowKey] = row.get(dataIndex.get(rowKey));\n    keyFields.forEach(function (key) {\n      var keyIndex = dataIndex.get(key);\n      keyData[key] = key === seq ? _getSeqValue(startIndex, rowIndex) : row.get(keyIndex);\n    });\n    relatedField.forEach(function (key) {\n      var keyIndex = dataIndex.get(key);\n      keyData[key] = row.get(keyIndex);\n    });\n    return keyData;\n  });\n  return rowData;\n}\nfunction _getStartIndex(pageIndex, pageRows, isSplitPage) {\n  if (isSplitPage === false) {\n    return 0;\n  }\n  return (pageIndex - 1) * pageRows;\n}\nfunction _getSeqValue(startIndex, rowIndex) {\n  return startIndex + rowIndex + 1;\n}\nfunction getGridHeader(container) {\n  if (!container) return;\n  var header = container;\n  var searchArray = ['', 'ag-bl ', 'ag-bl-center-row ', 'ag-bl-center ', 'ag-bl ', 'ag-bl-center ', 'ag-root ', 'ag-header '];\n  for (var i = 0; i < searchArray.length; i++) {\n    var iv = searchArray[i];\n    if (iv == '') {\n      header = header && header.children && header.children[0];\n    } else {\n      var hd = void 0;\n      var hdc = header && header.children;\n      var length = hdc ? hdc.length : 0;\n      for (var j = 0; j < length; j++) {\n        if (hdc && hdc[j] && hdc[j].className.indexOf(iv) >= 0) {\n          hd = hdc[j];\n          break;\n        }\n      }\n      header = hd;\n    }\n  }\n  return header;\n}\n\n// gr 后续把这些事件移到keyboardEvent文件\n// 跳转到某个单元格\nfunction jumpToEditorCell(api, rowIndex, colId, callback) {\n  api.clearRangeSelection();\n  api.ensureIndexVisible(rowIndex);\n  api.ensureColumnVisible(colId);\n  api.setFocusedCell(rowIndex, colId, null);\n  setTimeout(function () {\n    console.log(\"\\u524D\\u7AEF\\u8DF3\\u8F6C\\u5355\\u5143\\u683C \\u884C\".concat(rowIndex, \"\\u5217\").concat(colId));\n    var editorInstances = api.getCellEditorInstances().length;\n    console.log('editor实例数量', editorInstances, editorInstances ? '未跳转' : '跳转');\n    if (editorInstances) {\n      // 实例未销毁完全时候，丢到微队列， 继续检查，直到上一列销毁完全， 进入下一列\n      setTimeout(function () {\n        api.stopEditing();\n        jumpToEditorCell(api, rowIndex, colId, callback);\n      }, 80); // 5帧后继续检查\n    } else {\n      api.startEditingCell({\n        rowIndex: rowIndex,\n        colKey: colId\n      });\n      callback && callback(api.getSelectedNodes()[0]);\n    }\n  }, 0);\n}\nfunction isNonFocusableCell(column, rowIndex, colLockFunc) {\n  var _column$colDef;\n  if (!column) {\n    return false;\n  }\n  // 该单元格锁定 || 跳过该列的单元格\n  return colLockFunc(rowIndex, column) || ((_column$colDef = column.colDef) === null || _column$colDef === void 0 ? void 0 : _column$colDef.skipShortCutFocus);\n}\n\n// 获得行第一个或者最后一个可编辑单元格\nfunction getEditCellByRow(columnApi, rowIndex, colLockFunc, first) {\n  var columns = columnApi.getAllDisplayedColumns();\n  var _column = first ? columns[0] : columns[columns.length - 1];\n  var nonFocusable = isNonFocusableCell(_column, rowIndex, colLockFunc);\n  while (nonFocusable) {\n    _column = first ? columnApi.getDisplayedColAfter(_column) : columnApi.getDisplayedColBefore(_column);\n    nonFocusable = isNonFocusableCell(_column, rowIndex, colLockFunc);\n  }\n  return _column;\n}\n\n// 左/右/tab/enter切换到下一行的单元格\nvar jumpToNextRow = function jumpToNextRow(_ref) {\n  var api = _ref.api,\n    columnApi = _ref.columnApi,\n    colLockFunc = _ref.colLockFunc,\n    toNextField = _ref.toNextField,\n    getEditCellByRow = _ref.getEditCellByRow,\n    isNextRow = _ref.isNextRow,\n    isNextCol = _ref.isNextCol,\n    nextRowIndex = _ref.nextRowIndex;\n  var column = getEditCellByRow(columnApi, nextRowIndex, colLockFunc, isNextCol);\n  if (column) {\n    var colId = column.colId;\n    jumpToEditorCell(api, nextRowIndex, colId);\n    return;\n  }\n  var rowCount = api.getDisplayedRowCount();\n  // 整行锁定继续往下找\n  if (isNextRow) {\n    if (nextRowIndex > rowCount - 1) {\n      // 最后一行\n      toNextField();\n    } else {\n      jumpToNextRow({\n        api: api,\n        columnApi: columnApi,\n        colLockFunc: colLockFunc,\n        toNextField: toNextField,\n        getEditCellByRow: getEditCellByRow,\n        isNextRow: isNextRow,\n        isNextCol: isNextCol,\n        nextRowIndex: nextRowIndex + 1\n      });\n    }\n  } else {\n    if (nextRowIndex < 0) {\n      // 第一行\n      toNextField();\n    } else {\n      jumpToNextRow({\n        api: api,\n        columnApi: columnApi,\n        colLockFunc: colLockFunc,\n        toNextField: toNextField,\n        getEditCellByRow: getEditCellByRow,\n        isNextRow: isNextRow,\n        isNextCol: isNextCol,\n        nextRowIndex: nextRowIndex - 1\n      });\n    }\n  }\n};\n\n// 获得某个可编辑单元格之后的某个单元格\nfunction getNextFocusableCellByCell(columnApi, rowIndex, colLockFunc, column, backwards) {\n  var nonFocusable = true;\n  var _column = column;\n  while (nonFocusable) {\n    // 最后或者最开始一个会变成null\n    _column = backwards ? columnApi.getDisplayedColBefore(_column) : columnApi.getDisplayedColAfter(_column);\n    nonFocusable = isNonFocusableCell(_column, rowIndex, colLockFunc);\n  }\n  return _column && _column.colId;\n}\n\n// 左右单元格 backwards = true 左 backwards = false 右\nfunction setLeftRightFocus(api, columnApi, backwards, colLockFunc, func) {\n  var focused = api.getFocusedCell();\n  var rowCount = api.getDisplayedRowCount();\n  if (!focused) return;\n  var rowIndex = focused.rowIndex;\n  var colId = focused.column.colId;\n  var isLastRow = rowIndex === rowCount - 1;\n  var isFirstRow = rowIndex === 0;\n  var _column = columnApi.getColumn(colId);\n  var _colId = getNextFocusableCellByCell(columnApi, rowIndex, colLockFunc, _column, backwards);\n  if (!_colId) {\n    if (!backwards) {\n      // 右键 执行callback, 没有callback 跳转到下一行第一个可编辑单元格\n      isLastRow ? func.canEdit ? func.autoAddRow ? func.insert({\n        colKey: colId,\n        rowIndex: rowIndex\n      }) : func.toNextField() : api.startEditingCell({\n        rowIndex: rowIndex,\n        colKey: colId\n      }) : jumpToNextRow({\n        api: api,\n        columnApi: columnApi,\n        colLockFunc: colLockFunc,\n        getEditCellByRow: getEditCellByRow,\n        nextRowIndex: rowIndex + 1,\n        isNextRow: true,\n        toNextField: func.toNextField,\n        isNextCol: true\n      });\n    } else {\n      // 左键\n      // 第一行 不做处理\n      // 非第一行 跳转到上一行最后一个可编辑单元格\n      isFirstRow ? func.toNextField() : jumpToNextRow({\n        api: api,\n        columnApi: columnApi,\n        colLockFunc: colLockFunc,\n        getEditCellByRow: getEditCellByRow,\n        nextRowIndex: rowIndex - 1,\n        isNextRow: false,\n        toNextField: func.toNextField,\n        isNextCol: false\n      });\n    }\n  } else {\n    jumpToEditorCell(api, rowIndex, _colId, undefined);\n  }\n}\nfunction focusToNextCell(cell, _ref2) {\n  var api = _ref2.api,\n    columnApi = _ref2.columnApi,\n    colLockFunc = _ref2.colLockFunc,\n    toNextField = _ref2.toNextField;\n  var rowIndex = cell.rowIndex,\n    colId = cell.colId;\n  var rowCount = api.getDisplayedRowCount();\n  var isLastRow = rowIndex === rowCount - 1;\n  var _column = columnApi.getColumn(colId);\n  var _colId = getNextFocusableCellByCell(columnApi, rowIndex, colLockFunc, _column, false);\n  // colId说明到了最后一列，这时候找下一行的\n  if (!_colId) {\n    isLastRow ? toNextField() : jumpToNextRow({\n      api: api,\n      columnApi: columnApi,\n      colLockFunc: colLockFunc,\n      getEditCellByRow: getEditCellByRow,\n      nextRowIndex: rowIndex + 1,\n      isNextRow: true,\n      toNextField: toNextField,\n      isNextCol: true\n    });\n  } else {\n    jumpToEditorCell(api, rowIndex, _colId, undefined);\n  }\n}\n\n// 上下单元格\nfunction setUpDownFocus(api, columnApi, backwards, colLockFunc, func) {\n  var focused = api.getFocusedCell();\n  var rowCount = api.getDisplayedRowCount();\n  var rowIndex = focused.rowIndex,\n    column = focused.column;\n  var colId = column.colId;\n  var isFirstUp = rowIndex === 0 && backwards;\n  var isLastDown = rowIndex === rowCount - 1 && !backwards;\n  if (!isFirstUp && !isLastDown) {\n    var nextRowIndex = getNextRowIndex(rowIndex, column, backwards, colLockFunc, rowCount);\n    if (nextRowIndex || nextRowIndex === 0) {\n      jumpToEditorCell(api, nextRowIndex, colId, func.click);\n    }\n  } else {\n    isFirstUp && api.startEditingCell({\n      rowIndex: rowIndex,\n      colKey: colId\n    });\n    if (isLastDown) {\n      func.canEdit && func.autoAddRow && func.insert({\n        colKey: colId,\n        rowIndex: rowIndex\n      });\n    } else {\n      api.startEditingCell({\n        rowIndex: rowIndex,\n        colKey: colId\n      });\n    }\n  }\n}\n\n// 上下快捷键获取下一个可以编辑的行号\nvar getNextRowIndex = function getNextRowIndex(rowIndex, column, backwards, colLockFunc, rowCount) {\n  var nextRowIndex = rowIndex;\n  if (backwards) {\n    nextRowIndex--;\n    if (nextRowIndex < 0) {\n      return;\n    }\n  } else {\n    nextRowIndex++;\n    if (nextRowIndex > rowCount - 1) {\n      return;\n    }\n  }\n  if (colLockFunc(nextRowIndex, column)) {\n    return getNextRowIndex(nextRowIndex, column, backwards, colLockFunc, rowCount);\n  } else {\n    return nextRowIndex;\n  }\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/gridModel/modelFuncs.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/gridModel/updateInterceptor/controller.js":
/*!*****************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/gridModel/updateInterceptor/controller.js ***!
  \*****************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.interceptorLine = void 0;\nvar interceptorLoop = function interceptorLoop(args) {\n  return function (preResult, next) {\n    return next(args);\n  };\n};\nfunction interceptableReduce(array, iteratee, initAccum) {\n  var index = -1;\n  var length = array == null ? 0 : array.length;\n  var accumulator = null;\n  if (initAccum !== undefined) {\n    accumulator = initAccum;\n  } else if (length) {\n    accumulator = array[++index];\n  }\n  while (++index < length) {\n    accumulator = iteratee(accumulator, array && array[index], index, array);\n    if (accumulator !== undefined) return accumulator; // 有显示值出来，说明要立即跳出\n  }\n  return accumulator;\n}\nvar interceptorLine = exports.interceptorLine = function interceptorLine(args) {\n  return function (processes) {\n    var result = interceptableReduce(processes, function (preV, curP) {\n      return interceptorLoop(args)(preV, curP);\n    }, false);\n    return result;\n  };\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/gridModel/updateInterceptor/controller.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/gridModel/updateInterceptor/dataDiff.js":
/*!***************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/gridModel/updateInterceptor/dataDiff.js ***!
  \***************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.dataDiffer = dataDiffer;\nexports.listViewStatus = listViewStatus;\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.array.reduce.js */ \"../../node_modules/core-js/modules/es.array.reduce.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.set.js */ \"../../node_modules/core-js/modules/es.set.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.timers.js */ \"../../node_modules/core-js/modules/web.timers.js\");\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _rowModel = __webpack_require__(/*! ../../rowModel */ \"./src/component/web/DataGrid/AgDataGrid/rowModel/index.js\");\nvar _memoryCacher = __webpack_require__(/*! ../../../../../../model/memoryCacher */ \"./src/model/memoryCacher.js\");\nvar _rowKeyMiddleware = __webpack_require__(/*! ../../../../../../util/rowKeyMiddleware */ \"./src/util/rowKeyMiddleware.js\");\nvar _gridConst = __webpack_require__(/*! @/constant/gridConst */ \"./src/constant/gridConst.js\");\nvar _gridPureFun = __webpack_require__(/*! ../../gridCoreUseFucntion/gridPureFun */ \"./src/component/web/DataGrid/AgDataGrid/gridCoreUseFucntion/gridPureFun.js\");\nvar _treeUtils = __webpack_require__(/*! ../../treeTable/treeUtils */ \"./src/component/web/DataGrid/AgDataGrid/treeTable/treeUtils.js\");\nvar _const = __webpack_require__(/*! @/constant/const */ \"./src/constant/const.js\");\nvar _grid = __webpack_require__(/*! @/util/component/grid */ \"./src/util/component/grid.js\");\nvar _global = _interopRequireWildcard(__webpack_require__(/*! @/global */ \"./src/global/index.js\"));\nvar _GridUtils = __webpack_require__(/*! ../../GridUtils */ \"./src/component/web/DataGrid/AgDataGrid/GridUtils.js\");\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction listViewStatus(args) {\n  var setDataMatched = args.setDataMatched,\n    thisModel = args.thisModel,\n    nextModel = args.nextModel,\n    delayFuncs = args.delayFuncs,\n    setSelectRows = args.setSelectRows,\n    isListView = args.isListView,\n    gridContrlParams = args.gridContrlParams,\n    setLastRowKeyRecord = args.setLastRowKeyRecord,\n    api = args.api,\n    columnApi = args.columnApi,\n    gridState = args.gridState,\n    dataDesc = args.dataDesc,\n    getDataProperty = args.getDataProperty,\n    setSelectedRowsRecord = args.setSelectedRowsRecord,\n    setSelectedRowsCount = args.setSelectedRowsCount,\n    getContextProp = args.getContextProp;\n  var dataMatched = (0, _immutable.is)(thisModel.componentData.deleteIn(['__timestamp_fresh__']), nextModel.componentData.deleteIn(['__timestamp_fresh__']));\n  setDataMatched(dataMatched); // 注入参数，减少is调用\n  if (isListView && !dataMatched) {\n    // 列表数据变化时，要清除行选中信息\n    var thData = thisModel.componentData.deleteIn(['value', 'pagecount']).deleteIn(['value', 'realPageCount']).deleteIn(['value', 'datacount']).deleteIn(['value', 'billdatacount']).deleteIn(['__timestamp_fresh__']);\n    var neData = nextModel.componentData.deleteIn(['value', 'pagecount']).deleteIn(['value', 'realPageCount']).deleteIn(['value', 'datacount']).deleteIn(['value', 'billdatacount']).deleteIn(['__timestamp_fresh__']);\n    if ((0, _immutable.is)(thData.deleteIn(['value', 'floatBottomData']), neData.deleteIn(['value', 'floatBottomData']))) {\n      // 调用导航栏方法\n      var pagecount = nextModel.componentData.getIn(['value', 'pagecount']);\n      var realPageCount = nextModel.componentData.getIn(['value', 'realPageCount']);\n      var datacount = nextModel.componentData.getIn(['value', 'datacount']);\n      var isgetrealcount = nextModel.componentData.getIn(['value', 'isgetrealcount']);\n      var billdatacount = nextModel.componentData.getIn(['value', 'billdatacount']);\n      dataDesc.datacount = datacount;\n      dataDesc.pagecount = pagecount;\n      dataDesc.realPageCount = realPageCount;\n      dataDesc.billdatacount = billdatacount;\n      if (typeof isgetrealcount === 'boolean') dataDesc.isgetrealcount = isgetrealcount;\n      // 如果realPageCount有取到值，要更新toolBar,因为toolBar内有定时器向后台请求指令。----在gridaction内用eventBus走\n      // setRealPageCount && setRealPageCount({ pagecount, realPageCount, datacount });\n      if (!(0, _immutable.is)(thData.getIn(['value', 'floatBottomData'], null), neData.getIn(['value', 'floatBottomData'], null))) {\n        // 可能数据行没变，但后台的合计行数据有变化，要走此逻辑\n        var lfc = gridContrlParams.aggregateColumns;\n        var rows = neData.getIn(['value', 'rows']);\n        if (lfc && lfc.length > 0) {\n          var seq = gridState.seq,\n            rk = gridState.rk;\n          var pinnedDatas = (0, _rowModel.buildPinnedRowDatas)({\n            dataindex: dataDesc.dataindex,\n            rowdatas: rows,\n            gridContrlParams: gridContrlParams,\n            getDataProperty: getDataProperty,\n            datacount: datacount,\n            pagecount: neData.getIn(['value', 'datacount']),\n            seq: seq,\n            rk: rk\n          });\n          (0, _rowModel.setPinnedRowDatas)(api, pinnedDatas);\n          // api && api.setPinnedBottomRowData(getFloatingBottonRowData());//不延迟！！\n          // 对合计列进行列宽自适应,要等界面渲染完才能调用这个方法，走api的话只能延迟\n          // IE对复杂单元格自适应不支持，暂时禁止该功能\n          if (columnApi && getContextProp && !_global[\"default\"][_global.IS_IE]) {\n            setTimeout(function () {\n              var calculatePreferredColumnsWidthWrap = getContextProp('calculatePreferredColumnsWidthWrap');\n              var columnsWidthSet = calculatePreferredColumnsWidthWrap(lfc.map(function (m) {\n                return columnApi.getColumn(m.key);\n              }));\n              if (gridContrlParams.columnResizeMode === _gridConst.GRID_COLUMN_RESIZE_MODE.adaptive) {\n                var getGreedyAutoSizeColWidths = getContextProp('getGreedyAutoSizeColWidths');\n                columnsWidthSet = getGreedyAutoSizeColWidths({\n                  columnsWidthSet: columnsWidthSet\n                });\n              }\n              columnsWidthSet && columnsWidthSet.forEach(function (item) {\n                columnApi.setColumnWidth(item.colId, item.width, false);\n              });\n            }, 16);\n          }\n        }\n      }\n      return false;\n    } else {\n      // setSelectedRowsRecord([]);\n      var selectArr = neData.getIn(['slctState', 'slcted']);\n      selectArr = selectArr ? selectArr.toJS() : [];\n      if (Array.isArray(selectArr) && selectArr[0] && Array.isArray(selectArr[0])) {\n        selectArr = selectArr[0];\n      }\n      setSelectedRowsRecord(selectArr);\n      setLastRowKeyRecord('O');\n      setSelectedRowsCount && setSelectedRowsCount(0);\n      // 如果没有重定义，要清除选中状态\n      if ((0, _immutable.is)(thisModel.getDataProperty(['slctState']), nextModel.getDataProperty(['slctState']))) {\n        delayFuncs.push(function () {\n          return setSelectRows([]);\n        });\n      }\n    }\n  }\n  if (gridContrlParams.isVirtualView && gridContrlParams.asyncAggreate && !dataMatched) {\n    // 报表数据变化时\n    // 如果只是合计行数据改变，不刷新报表\n    if ((0, _immutable.is)(thisModel.componentData.deleteIn(['value', 'floatBottomData']), nextModel.componentData.deleteIn(['value', 'floatBottomData']))) {\n      var _seq = gridState.seq,\n        _rk = gridState.rk;\n      var _pinnedDatas = (0, _rowModel.buildPinnedRowDatas)({\n        dataindex: dataDesc.dataindex,\n        rowdatas: nextModel.componentData.getIn(['value', 'rows']),\n        gridContrlParams: gridContrlParams,\n        getDataProperty: getDataProperty,\n        datacount: nextModel.componentData.getIn(['value', 'datacount']),\n        pagecount: nextModel.componentData.getIn(['value', 'datacount']),\n        seq: _seq,\n        rk: _rk\n      });\n      (0, _rowModel.setPinnedRowDatas)(api, _pinnedDatas);\n      setDataMatched(true);\n    }\n  }\n}\nvar getFreshRows = function getFreshRows(_ref) {\n  var newRows = _ref.newRows,\n    oldRows = _ref.oldRows,\n    isEntryEntity = _ref.isEntryEntity,\n    rkIdx = _ref.rkIdx;\n  var diffIdx = -1;\n  var diffRowKey;\n  var freshRows = [];\n  for (var i = 0; i < newRows.size; i++) {\n    if (!(0, _immutable.is)(newRows.get(i, ''), oldRows.get(i, ''))) {\n      freshRows.push(i);\n      // 1.非单据体目前只处理仅有一行不同的情况2.单据体3行及以上也直接全刷,为了兼容之前修改两行值，点击进入编辑态又退出的问题 3.树表不刷新\n      if (isEntryEntity ? freshRows.length > 2 : diffIdx >= 0) {\n        // 单据体改为差量更新后重绘已显示的行\n        // isEntryEntity && delayFuncs.push(() => {\n        //   api.redrawRows({ rowNodes: api.getRenderedNodes() })\n        // })\n        return [freshRows, diffIdx, diffRowKey];\n      }\n      diffIdx = i;\n      diffRowKey = newRows.getIn([i, rkIdx]);\n    }\n  }\n  return [freshRows, diffIdx, diffRowKey];\n};\nvar getResetHeight = function getResetHeight(args) {\n  return function (rowIndex) {\n    var getContextProp = args.getContextProp,\n      delayFuncs = args.delayFuncs;\n    var resetRowHeightsAndGridHeight = getContextProp('resetRowHeightsAndGridHeight');\n    return delayFuncs.push(function () {\n      return window.requestAnimationFrame(function () {\n        resetRowHeightsAndGridHeight(rowIndex);\n      });\n    });\n  };\n};\nvar tableHeightHandle = function tableHeightHandle(_ref2) {\n  var args = _ref2.args,\n    freshRows = _ref2.freshRows,\n    diffRowKey = _ref2.diffRowKey,\n    datas = _ref2.datas,\n    rkName = _ref2.rkName;\n  var api = args.api,\n    gridContrlParams = args.gridContrlParams;\n  var isEntryEntity = gridContrlParams.isEntryEntity,\n    autoHeight = gridContrlParams.autoHeight;\n  if (!autoHeight || !api.resetRowHeights) {\n    return;\n  }\n  var resetHeight = getResetHeight(args);\n  // rows 数据发生变化，需要更新高度,单行高度更新和多行更新要区分开\n  // 更新高度的行应该是数据变化的行，而不是当前激活行, 当新增的时候 refreshRowkey是undefined，走全刷逻辑\n  if (isEntryEntity && freshRows.length === 1) {\n    resetHeight(diffRowKey);\n  } else {\n    resetHeight();\n  }\n};\nfunction dataDiffer(args) {\n  var rk = args.rk,\n    seq = args.seq,\n    dataMatched = args.dataMatched,\n    nextModel = args.nextModel,\n    columns = args.columns,\n    thisModel = args.thisModel,\n    api = args.api,\n    gridContrlParams = args.gridContrlParams,\n    updateFuncList = args.updateFuncList,\n    getDataProperty = args.getDataProperty,\n    dataDesc = args.dataDesc,\n    getNodeByRowKey = args.getNodeByRowKey,\n    publishForceRefreshViews = args.publishForceRefreshViews,\n    setContextProp = args.setContextProp,\n    getContextProp = args.getContextProp,\n    pageId = args.pageId,\n    delayFuncs = args.delayFuncs,\n    rkName = args.rk;\n  if (!dataMatched) {\n    // grid内部有数比较，当值没有变化时，render不会导致单元格重渲染，但colLock一定要重渲染，所以要在return true 之前。\n    specialRedraw(args);\n    var gridAllData = nextModel.getData();\n    var datas = gridAllData === null || gridAllData === void 0 ? void 0 : gridAllData.get('value');\n    var thisdatas = thisModel.getDataValue();\n    var dirtyRow = getDirtyRow(nextModel);\n    if (!(0, _immutable.is)(datas, thisdatas)) {\n      var nDAll = datas || new _immutable.Map();\n      var newRows = nDAll.get('rows', new _immutable.List());\n      var oldRows = thisdatas ? thisdatas.get('rows', new _immutable.List()) : new _immutable.List();\n      refreshRowDetails(gridContrlParams, nDAll, newRows, getNodeByRowKey);\n      var newDataIndex = nDAll.get('dataindex');\n      var oldDataIndex = thisdatas && thisdatas.get('dataindex');\n      if (!(0, _immutable.is)(newDataIndex, oldDataIndex)) return true; // dataindex不同直接更新（为了处理创建列之后元数据一样,但是u指令的dataindex跟之前不一样的情况）\n      var newPhide = nDAll.get('phide');\n      var oldPhide = thisdatas && thisdatas.get('phide');\n      var newPageindex = nDAll.get('pageindex');\n      var oldPageindex = thisdatas && thisdatas.get('pageindex');\n      var datacount = nDAll.get('datacount');\n      var pagecount = nDAll.get('pagecount');\n      var isListView = gridContrlParams.isListView,\n        treeTable = gridContrlParams.treeTable,\n        isEntryEntity = gridContrlParams.isEntryEntity;\n      var isTree = treeTable && treeTable.isTreeTable;\n      var dIdx = nDAll.get('dataindex', new _immutable.Map()).toJS(); // 索引集合\n      var rkIdx = dIdx[rk]; // rk索引\n      var isServerTable = (0, _grid.isServerFilterModeTablePage)(pageId) && (0, _GridUtils.isEntryWithoutTreeByGridContrlParams)(gridContrlParams);\n      var _getFreshRows = getFreshRows({\n          newRows: newRows,\n          oldRows: oldRows,\n          isEntryEntity: isEntryEntity,\n          rkIdx: rkIdx\n        }),\n        _getFreshRows2 = _slicedToArray(_getFreshRows, 3),\n        freshRows = _getFreshRows2[0],\n        diffIdx = _getFreshRows2[1],\n        diffRowKey = _getFreshRows2[2];\n      if ((0, _immutable.is)(newRows, oldRows)) {\n        // if (thisModel.componentData.getIn(['value', 'realPageCount'], 0) != nextModel.componentData.getIn(['value', 'realPageCount'], 0)) {\n        //   // 只要更新总页数\n        // }\n        return true;\n      } else {\n        tableHeightHandle({\n          args: args,\n          freshRows: freshRows,\n          diffRowKey: diffRowKey,\n          datas: datas,\n          rkName: rkName\n        });\n      }\n      if (isEntryEntity ? freshRows.length > 2 : diffIdx >= 0) {\n        return true;\n      }\n      if (newRows.size !== oldRows.size || !(0, _immutable.is)(newPhide, oldPhide) || newPageindex !== oldPageindex || thisdatas && thisdatas.get('pr') !== nDAll.get('pr')) {\n        // 长度改变、工具栏隐藏、当前页改变、父单据体切换\n        publishForceRefreshViews && publishForceRefreshViews();\n        return true;\n      }\n      // 树表只有一行数据更新时需要render-- by kechuang (childdetail模式的时候才需要重新刷新 -gr)\n      if (diffIdx >= 0 && isEntryEntity && isTree) {\n        var isRebuild = isTreeModelSame(newRows, oldRows, nDAll.get('dataindex', new _immutable.Map()).toJS());\n        // 树表更新isgroupnode值时，刷新全部（如果只做值跟新，不会走gridoptions.getNodeChildDetails）\n        var isGroupnodeChange = isValueChange(newRows, oldRows, nDAll.get('dataindex', new _immutable.Map()).toJS(), ['isgroupnode']);\n        if (isRebuild || isGroupnodeChange) return true;\n      }\n\n      // 单据体两行刷新\n      if (diffIdx >= 0 && isEntryEntity && freshRows.length > 1) {\n        if (isServerTable) {\n          // 服务端过滤排序单据体，直接全部刷新，否则可能出现rowNode的id一样情况\n          return true;\n        }\n        var isRedraw = false;\n        var isFreshMoreRows = freshRows.length > 2; // 三行及以上情况直接刷新行，不做刷新单元格\n        var redrawNodes = !isFreshMoreRows && [];\n        var _ref3 = !isFreshMoreRows ? getSpecialCols(columns) : {},\n          _ref3$hideColKeys = _ref3.hideColKeys,\n          hideColKeys = _ref3$hideColKeys === void 0 ? [] : _ref3$hideColKeys;\n        updateEditingCellValue(dIdx, diffIdx, newRows, oldRows)(api, datas, nextModel, gridContrlParams, rk);\n        updateTileView(args, diffIdx, datas);\n        var nodes = freshRows.map(function (idx) {\n          var nRKV = newRows.getIn([idx, rkIdx]);\n          var node = setNodeValue(newRows, api, dIdx, idx, rk, seq);\n          if (node === true) {\n            // setNodeValue会返回true,表示强制刷新\n            isRedraw = true;\n          }\n          node !== true && redrawNodes && setRedrawRows(redrawNodes, node, nRKV, newRows, oldRows, dIdx, hideColKeys); // 两行情况判断是否有刷新行\n          return node;\n        });\n        if (isRedraw) return true; // 存在找不到节点，直接全部刷新\n        refreshPinnedRow({\n          gridContrlParams: gridContrlParams,\n          updateFuncList: updateFuncList,\n          newData: newRows,\n          dataDesc: dataDesc,\n          getDataProperty: getDataProperty,\n          api: api,\n          datacount: datacount,\n          pagecount: pagecount,\n          seq: seq,\n          rk: rk\n        });\n        if (dirtyRow != null && freshRows.indexOf(dirtyRow) < 0 && dirtyRow < newRows.size) {\n          // 存在脏数据且这一行不在刷新行内\n          var dirtyNode = setNodeValue(newRows, api, dIdx, dirtyRow, rk, seq);\n          nodes.push(dirtyNode);\n        }\n        refreshMultiRows(nodes, isFreshMoreRows, redrawNodes)(api, updateFuncList); // 树表或者刷新行大于2行直接刷新行\n        refreshToolbar(nDAll, thisdatas, args);\n        (0, _gridPureFun.recordLastFocusCell)(api, rk, setContextProp, getContextProp); // 刷新后保留之前的焦点\n        return;\n      }\n      if (diffIdx >= 0) {\n        // 脏数据判断,判断是多行刷新\n        if (dirtyRow != null && _isDifferentBetweenRefreshRowAndDirtyRow(diffIdx, diffRowKey, dirtyRow, isServerTable)) return true;\n        if (typeof rkIdx === 'undefined') return true;\n        var nRKV = newRows.getIn([diffIdx, rkIdx]);\n        updateEditingCellValue(dIdx, diffIdx, newRows, oldRows)(api, datas, nextModel, gridContrlParams, rk);\n        updateTileView(args, diffIdx, datas);\n        var node = setNodeValue(newRows, api, dIdx, diffIdx, rk, seq);\n        // 单据体复选框列setDataValue更新有问题，要再看看\n        // api.updateRowData({update: [rowitem]});//aggrid用内码更新对应的行。 这样对于复杂字段值，每个都会刷新。。。orz===>会调cellRenderer.refresh\n        var updatedNodes = [];\n        if (node && node !== true) {\n          // setNodeValue会返回true,表示强制刷新\n          updatedNodes.push(node);\n        }\n        if (updatedNodes.length <= 0) return true;\n\n        // let shouldRecalc = false;\n        refreshPinnedRow({\n          gridContrlParams: gridContrlParams,\n          updateFuncList: updateFuncList,\n          newData: newRows,\n          dataDesc: dataDesc,\n          getDataProperty: getDataProperty,\n          api: api,\n          datacount: datacount,\n          pagecount: pagecount,\n          seq: seq,\n          rk: rk\n        });\n        /* updateFuncList.push(() =>\n                    api.redrawRows({ rowNodes: updatedNodes }));//合并列没有key，不能用refreshCells */\n        /* -----------此处的问题： 如果用redrawRows,会导致点击另一单元格来结束编辑时，另一单元格无法进入编辑态。\n                    */\n        refreshToolbar(nDAll, thisdatas, args);\n        refreshDiffRow(dIdx, updatedNodes, nRKV, newRows, oldRows, columns)({\n          api: api,\n          updateFuncList: updateFuncList,\n          rk: rk,\n          setContextProp: setContextProp,\n          isEntryEntity: isEntryEntity,\n          getContextProp: getContextProp\n        });\n        // 单据体u指令刷新时需要重新执行过滤\n        if (isEntryEntity && thisModel.getDataProperty([_const.TIME_STAMP_FRESH]) !== nextModel.getDataProperty([_const.TIME_STAMP_FRESH])) {\n          refreshOnFilter(api, updateFuncList, gridContrlParams, dirtyRow);\n        }\n        isListView && setDirtyRowIndex(nextModel, diffIdx);\n      } // just one row diff\n      else {\n        // others..\n        return true;\n      }\n    } /* data value diff */\n  } // componentData end\n}\n\n/**\n * 单行数据更新的时候需要手动刷新平铺视图\n * @param {*} args\n * @param {*} diffIndex\n * @param {*} gridDatas\n */\nvar updateTileView = function updateTileView(args, diffIndex, gridDatas) {\n  var updateFuncList = args.updateFuncList,\n    pageId = args.pageId,\n    id = args.id,\n    getActiveRowKey = args.getActiveRowKey,\n    hasOtherView = args.hasOtherView,\n    gridContrlParams = args.gridContrlParams,\n    rkName = args.rk;\n  if (!hasOtherView()) return;\n  var rk = (0, _grid.isServerFilterModeTablePage)(pageId) && (0, _GridUtils.isEntryWithoutTreeByGridContrlParams)(gridContrlParams) ? (0, _rowKeyMiddleware.getRowIndexInGridDataByRowKey)(getActiveRowKey())(gridDatas, rkName) : (0, _rowKeyMiddleware.transformAbsolute2Relative)(getActiveRowKey())(gridDatas);\n  if (rk === diffIndex) {\n    updateFuncList.push(function () {\n      (0, _memoryCacher.setPageData)(pageId, [id, 'refreshTiledView']);\n    });\n  }\n};\n\n/**\n * 局部刷新rowDetails\n * @param {*} gridContrlParams\n * @param {*} newData\n * @param {*} newRows\n * @param {*} getNodeByRowKey\n */\nvar refreshRowDetails = function refreshRowDetails(gridContrlParams, newData, newRows, getNodeByRowKey) {\n  var rowDetailParams = gridContrlParams.rowDetailParams;\n  var dataIndex = newData.get('dataindex', new _immutable.Map());\n  if (!rowDetailParams) return;\n  var pkKey = rowDetailParams.pkKey,\n    rowDetailsDaemon = rowDetailParams.rowDetailsDaemon;\n  if (!dataIndex.get(pkKey)) return;\n  var targetDomStorage = rowDetailsDaemon.targetDomStorage;\n  var changedId = [];\n  Object.keys(targetDomStorage).forEach(function (id) {\n    var _targetDomStorage$id = targetDomStorage[id],\n      pkId = _targetDomStorage$id.pkId,\n      rowKey = _targetDomStorage$id.rowKey;\n    var rkIndex = (0, _rowKeyMiddleware.transformAbsolute2Relative)(rowKey)(newData);\n    var targetRow = newRows.get(rkIndex);\n    if (!targetRow) {\n      return;\n    }\n    var newPkId = targetRow.get(dataIndex.get(pkKey));\n    if (newPkId !== pkId) {\n      var node = getNodeByRowKey(rowKey);\n      changedId.push(id); // pkid改变 无论这个面板是否展开 这时候这个面板的缓存应该被删除\n      if (node && node.expanded && node.master) {\n        // rowDetailsDaemon.resetTargetDom(id)\n        node.setExpanded(false);\n      }\n    }\n  });\n  rowDetailsDaemon.resetTargetDom(changedId);\n};\n\n/**\n * 涉及到单元格样式的修改需要强制刷新\n * @param {*} args\n */\nvar specialRedraw = function specialRedraw(args) {\n  var thisModel = args.thisModel,\n    nextModel = args.nextModel,\n    delayFuncs = args.delayFuncs,\n    api = args.api,\n    publishForceRefreshViews = args.publishForceRefreshViews;\n  // 一些列的动态属性变化\n  if (!(0, _immutable.is)(thisModel.getDataProperty(['colLock']), nextModel.getDataProperty(['colLock']))) {\n    // 值未变，单纯只是样式要变的话，由于aggrid内做了datadiff，会判定不重渲染，故只能强制重画\n    delayFuncs.push(function () {\n      return api.redrawRows({\n        rowNodes: api.getRenderedNodes()\n      });\n    });\n  }\n  if (!(0, _immutable.is)(thisModel.getDataProperty(['fmtinfo']), nextModel.getDataProperty(['fmtinfo']))) {\n    delayFuncs.push(function () {\n      return api.redrawRows({\n        rowNodes: api.getRenderedNodes()\n      });\n    });\n    publishForceRefreshViews && publishForceRefreshViews();\n  }\n};\n\n// 获取隐藏列和样式规则列的key\nvar getSpecialCols = function getSpecialCols(columns) {\n  var result = columns.reduce(function (preResult, column) {\n    preResult.hideColKeys = setHideColKey(column, preResult.hideColKeys);\n    preResult.cellRuleColKeys = setRuleStyleColKey(column, preResult.cellRuleColKeys);\n    return preResult;\n  }, {\n    hideColKeys: [],\n    cellRuleColKeys: []\n  });\n  return result;\n};\nvar setRuleStyleColKey = function setRuleStyleColKey(col, ruleStyleColKeys) {\n  if (col.hasCellStyleRules) {\n    ruleStyleColKeys.push(col.field);\n  }\n  return ruleStyleColKeys;\n};\nvar setHideColKey = function setHideColKey(col, hideColKeys) {\n  if (col.hide) {\n    hideColKeys.push(col.field);\n  }\n  return hideColKeys;\n};\n\n/**\n * 更新单元格\n * @param {*} dataIndex\n * @param {*} nodes\n * @param {*} rowKey\n * @param {*} newData\n * @param {*} oldData\n */\nvar refreshDiffRow = function refreshDiffRow(dataIndex, nodes, rowKey, newData, oldData, columns) {\n  return function (_ref4) {\n    var api = _ref4.api,\n      updateFuncList = _ref4.updateFuncList,\n      rk = _ref4.rk,\n      setContextProp = _ref4.setContextProp,\n      isEntryEntity = _ref4.isEntryEntity,\n      getContextProp = _ref4.getContextProp;\n    var compareKey = ['l', 's'];\n    var _getSpecialCols = getSpecialCols(columns),\n      hideColKeys = _getSpecialCols.hideColKeys,\n      cellRuleColKeys = _getSpecialCols.cellRuleColKeys;\n    var forceRefresh = forceRefreshCell(rowKey, newData, oldData, dataIndex, compareKey, hideColKeys, cellRuleColKeys);\n    if (forceRefresh.isRedraw) {\n      updateFuncList.push(function () {\n        api.redrawRows({\n          rowNodes: nodes\n        });\n      });\n      isEntryEntity && (0, _gridPureFun.recordLastFocusCell)(api, rk, setContextProp, getContextProp); // 刷新后保留之前的焦点\n    } else {\n      updateFuncList.push(function () {\n        var refreshCells = {\n          rowNodes: nodes,\n          // columns: [], 会导致列表合并字段不刷新\n          force: false,\n          // false,非强制，会调cof.equals来决定是否刷新。合并列等会走valueGetter\n          \"volatile\": false\n        };\n        api.refreshCells(refreshCells); // 即使调用了node.setDataValue(name,value)也需要再刷一下，因为合并列可能需要刷新。\n      });\n      if (forceRefresh.columns.length > 0) {\n        updateFuncList.push(function () {\n          var refreshCells = {\n            rowNodes: nodes,\n            columns: forceRefresh.columns,\n            force: true\n          };\n          api.refreshCells(refreshCells);\n        });\n      }\n    }\n  };\n};\n\n/**\n * 整体表格值改变 且存在过滤 刷新视图\n * @param {*} api\n * @param {*} updateFuncList\n * @param {*} gridContrlParams\n * @param {*} dirtyRow 单个单元格更新存在dirtyRow dirtyRow == null代表不是单个单元格更新\n */\nfunction refreshOnFilter(api, updateFuncList, gridContrlParams, dirtyRow) {\n  if (gridContrlParams.isEntryEntity && api.isAnyFilterPresent()) {\n    updateFuncList.push(function () {\n      api.onFilterChanged();\n    });\n  }\n}\n\n/**\n * 单元格锁定和修改样式需要强制刷新单元格\n * @param {*} rowKey\n * @param {*} newRow\n * @param {*} oldRow\n * @param {*} dataIndex\n * @param {*} compareKey\n */\nvar forceRefreshCell = function forceRefreshCell(rowKey, newRow, oldRow, dataIndex, compareKey, hideKey, forceRefreshColumns) {\n  var forceRefresh = {\n    columns: forceRefreshColumns || [],\n    isRedraw: false\n  };\n  hideKey.forEach(function (key) {\n    // 隐藏列数值改变刷新整行\n    if (newRow.getIn([rowKey, dataIndex[key]]) !== oldRow.getIn([rowKey, dataIndex[key]])) {\n      forceRefresh.isRedraw = true;\n    }\n  });\n  compareKey.forEach(function (k) {\n    var pos = dataIndex[k];\n    if (pos) {\n      var newData = newRow.getIn([rowKey, pos], new _immutable.Map());\n      var oldData = oldRow.getIn([rowKey, pos], new _immutable.Map());\n      if (newData && !(0, _immutable.is)(newData, oldData)) {\n        // 兼容新旧dataIndex不同,导致获取的oldData不是Map类型\n        newData.merge(_immutable.Map.isMap(oldData) ? oldData : (0, _immutable.Map)()).keySeq().forEach(function (item) {\n          // 单元格设置的样式生效后，清除样式后刷新单元格样式刷不掉，要刷新整行\n          if (k === 's' || k === 'l' && item === _gridConst.LOCK_ROWS_KEY) {\n            // 设置行样式的时候，需要重建整个行\n            forceRefresh.isRedraw = true;\n            return;\n          }\n          var newColData = newData.get(item);\n          var oldColData = oldData.get(item);\n          if (!(0, _immutable.is)(newColData, oldColData)) {\n            forceRefresh.columns.indexOf(item) < 0 && forceRefresh.columns.push(item);\n          }\n        });\n      }\n    }\n  });\n  return forceRefresh;\n};\n\n/**\n * 获取脏数据，获取之后立马清除\n * 数据包更新可能会导致单元格更新被覆盖\n * @param {*} model\n */\nvar getDirtyRow = function getDirtyRow(model) {\n  var pageId = model.pageId,\n    key = model.key;\n  var dirtyRow = (0, _memoryCacher.getPageData)(pageId, [key, 'dirtyRow']);\n  dirtyRow != null && (0, _memoryCacher.deletePageData)(pageId, [key, 'dirtyRow']);\n  return dirtyRow;\n};\n\n/**\n * 单行刷新的时候会出现单元格进入编辑态的时候更新当前单元格的值\n * 需要先退出编辑态再更新\n * @param {*} dataindex\n * @param {*} newData\n * @param {*} oldData\n * @param {*} model\n */\nvar updateEditingCellValue = function updateEditingCellValue(dataindex, diffIndex, newData, oldData) {\n  return function (api, gridDatas, model, gridContrlParams, rkName) {\n    var editingCell = (0, _memoryCacher.getGridEditingCell)(model);\n    if (!editingCell) return;\n    var colId = editingCell.get('colId');\n    var rowKey = editingCell.get('rowKey');\n    var rkIndex = (0, _grid.isServerFilterModeTablePage)(model.pageId) && (0, _GridUtils.isEntryWithoutTreeByGridContrlParams)(gridContrlParams) ? (0, _rowKeyMiddleware.getRowIndexInGridDataByRowKey)(rowKey)(gridDatas, rkName) : (0, _rowKeyMiddleware.transformAbsolute2Relative)(rowKey)(gridDatas); // 绝对行号转相对的行号\n    if (diffIndex !== rkIndex) return; // 单行的情况\n    var index = dataindex[colId];\n    var newValue = newData.getIn([diffIndex, index]);\n    var oldValue = oldData.getIn([diffIndex, index]);\n    if (!(0, _immutable.is)(oldValue, newValue)) {\n      // 这种情况下设置一个不触发值更新的标志，在单元格销毁的时候会判断这个标志\n      (0, _memoryCacher.setGridEditingCell)(model, false, ['trigger']);\n      api && api.stopEditing(false);\n      // 编辑态是值更新表格会失去焦点，需要重置焦点\n      var node = api.getRowNode(rowKey + ''); // id是string类型，目前后端传的数字\n      node && api.setFocusedCell(node.rowIndex, colId);\n    }\n  };\n};\nfunction isTreeModelSame(nd, od, dataIndex) {\n  var ntemp = createData(nd, dataIndex);\n  var otemp = createData(od, dataIndex);\n  return !_lodash[\"default\"].isEqual((0, _treeUtils.buildTreeData)(ntemp), (0, _treeUtils.buildTreeData)(otemp));\n}\nfunction createData(data, dataIndex) {\n  var pid = 'pid';\n  var id = 'id';\n  var pidPos = dataIndex[pid];\n  var idPos = dataIndex[id];\n  var arr = [];\n  data.forEach(function (item) {\n    arr.push({\n      pid: item.get(pidPos),\n      id: item.get(idPos)\n    });\n  });\n  return arr;\n}\n\n/**\n *\n * @param {*} data 所有行数据\n * @param {*} api 表格api\n * @param {*} dataIndex dataIndexs\n * @param {*} rowIndex 行号\n * @param {*} rk rk字段名\n * @param {*} seq 序号字段名\n */\nfunction setNodeValue(data, api, dataIndex, rowIndex, rk, seq) {\n  var rkIdx = dataIndex[rk]; // rk在数据中的位置\n  var row = data.get(rowIndex).toJS();\n  var rowKey = row[rkIdx];\n  var node = api.getRowNode(rowKey);\n  // 弹性域拆分的字段更新时，dataIndex和data对不上，要直接刷新\n  if (!node) {\n    // 数据整体改变时，node可能取不到，直接刷新\n    return true;\n  }\n  var rowitem = node.data; // 用原始对象更新值，用新建的对象会有更新不上的问题，，要在考虑\n  for (var name in dataIndex) {\n    var key = dataIndex[name]; // colid\n    if (!row.hasOwnProperty(key) || name === seq) {\n      // 序号列不能修改值\n      continue;\n    }\n    var value = row[key];\n    rowitem[name] = value;\n    node.setDataValue(name, value);\n  }\n  return node;\n}\n\n/**\n * 不返回true时刷新工具栏条数、页数、当前页数、每页条数\n */\nfunction refreshToolbar(newData, oldData, args) {\n  var setRealPageCount = args.setRealPageCount,\n    dataDesc = args.dataDesc;\n  if (!oldData || !setRealPageCount) return;\n  var isTargetKeys = function isTargetKeys(v, k) {\n    return ['pagecount', 'datacount', 'pagerows'].indexOf(k) > -1;\n  };\n  var newCount = newData.filter ? newData.filter(isTargetKeys) : (0, _immutable.Map)();\n  var oldCount = oldData.filter ? oldData.filter(isTargetKeys) : (0, _immutable.Map)();\n  if (!(0, _immutable.is)(newCount, oldCount) && newCount.size === oldCount.size) {\n    // 都存在 且值不一样\n    setRealPageCount(newCount.toJS());\n    dataDesc.datacount = newCount.get('datacount');\n    dataDesc.pagecount = newCount.get('pagecount');\n    dataDesc.pagerows = newCount.get('pagerows');\n  }\n}\n\n// 比较树表中某个值是否改变\nfunction isValueChange(newData, oldData, dataIndex, keys) {\n  var ndValueArr = getTreeInfoArray(newData, keys, dataIndex);\n  var odValueArr = getTreeInfoArray(oldData, keys, dataIndex);\n  return !_lodash[\"default\"].isEqual(ndValueArr, odValueArr);\n}\n// 获取树表中某个key对应的值数组\nfunction getTreeInfoArray(data, keys, dataIndex) {\n  var keyArray = [];\n  keyArray = typeof keys === 'string' ? keyArray[0] = keys : keys;\n  var arr = [];\n  data.forEach(function (treeData) {\n    keyArray.forEach(function (item) {\n      var obj = {};\n      obj[item] = treeData.get(dataIndex[item]);\n      arr.push(obj);\n    });\n  });\n  return arr;\n}\nfunction refreshPinnedRow(_ref5) {\n  var gridContrlParams = _ref5.gridContrlParams,\n    updateFuncList = _ref5.updateFuncList,\n    newData = _ref5.newData,\n    dataDesc = _ref5.dataDesc,\n    getDataProperty = _ref5.getDataProperty,\n    api = _ref5.api,\n    datacount = _ref5.datacount,\n    pagecount = _ref5.pagecount,\n    seq = _ref5.seq,\n    rk = _ref5.rk;\n  var lfc = gridContrlParams.aggregateColumns;\n  if (lfc && lfc.length > 0) {\n    // 刷新合计行\n    updateFuncList.push(function () {\n      var rows = gridContrlParams.isListView ? null : newData;\n      (0, _rowModel.setPinnedRowDatas)(api, (0, _rowModel.buildPinnedRowDatas)({\n        dataindex: dataDesc.dataindex,\n        rowdatas: rows,\n        gridContrlParams: gridContrlParams,\n        getDataProperty: getDataProperty,\n        datacount: datacount,\n        pagecount: pagecount,\n        seq: seq,\n        rk: rk\n      }));\n    });\n  }\n}\nvar setRedrawRows = function setRedrawRows(redrawRows, node, rowKey, newData, oldData, dataIndex, hideKeys) {\n  var forceRefresh = forceRefreshCell(rowKey, newData, oldData, dataIndex, ['l', 's'], hideKeys);\n  if (forceRefresh.isRedraw || forceRefresh.columns.length > 0) {\n    redrawRows.push(node);\n    return true;\n  }\n};\nvar refreshMultiRows = function refreshMultiRows(nodes, isRedrawRows, redrawNodes) {\n  return function (api, updateFuncList) {\n    if (isRedrawRows) {\n      updateFuncList.push(function () {\n        api.redrawRows({\n          rowNodes: nodes\n        });\n      });\n    } else {\n      updateFuncList.push(function () {\n        var refreshCells = {\n          rowNodes: nodes,\n          columns: [],\n          force: false\n        };\n        api.refreshCells(refreshCells);\n      });\n      if (redrawNodes && redrawNodes.length > 0) {\n        // 样式、锁定行等改变需要刷新行\n        updateFuncList.push(function () {\n          api.redrawRows({\n            rowNodes: redrawNodes\n          });\n        });\n      }\n    }\n  };\n};\n\n/**\n * 将未更新到ag props里的行号收集起来\n * @param {*} model\n * @param {*} rowIndex\n */\nfunction setDirtyRowIndex(model, rowIndex) {\n  var pageId = model.pageId,\n    key = model.key;\n  var dirtyRowIndexs = (0, _memoryCacher.getPageData)(pageId, [key, 'dirtyRowIndexs']) || new Set();\n  dirtyRowIndexs.add(rowIndex);\n  (0, _memoryCacher.setPageData)(pageId, [key, 'dirtyRowIndexs'], dirtyRowIndexs);\n}\nfunction _isDifferentBetweenRefreshRowAndDirtyRow(diffIdx, diffRowKey, dirtyRow, isServerTable) {\n  // 后端过滤排序和表格下，rowKey和rowIndex无法对应上，需要通过rowKey判断\n  return !isServerTable ? diffIdx !== dirtyRow : diffRowKey !== dirtyRow;\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/gridModel/updateInterceptor/dataDiff.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/gridModel/updateInterceptor/delayFuncs.js":
/*!*****************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/gridModel/updateInterceptor/delayFuncs.js ***!
  \*****************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.delayFuncsBuilder = delayFuncsBuilder;\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.splice.js */ \"../../node_modules/core-js/modules/es.array.splice.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.timers.js */ \"../../node_modules/core-js/modules/web.timers.js\");\nvar _treeTable = __webpack_require__(/*! ../../treeTable */ \"./src/component/web/DataGrid/AgDataGrid/treeTable/index.js\");\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _gridConst = __webpack_require__(/*! @/constant/gridConst */ \"./src/constant/gridConst.js\");\nvar _GridUtils = __webpack_require__(/*! ../../GridUtils */ \"./src/component/web/DataGrid/AgDataGrid/GridUtils.js\");\nvar _const = __webpack_require__(/*! @/constant/const */ \"./src/constant/const.js\");\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction selectionChanged(args) {\n  var thisModel = args.thisModel,\n    nextModel = args.nextModel,\n    setSelectedRowsRecord = args.setSelectedRowsRecord,\n    setSelectRows = args.setSelectRows,\n    delayFuncs = args.delayFuncs,\n    gridContrlParams = args.gridContrlParams,\n    nextProps = args.nextProps;\n  // 此处属于状态变化，与render无关\n  if (nextModel == null || !(0, _immutable.is)(thisModel.getDataProperty(['slctState']), nextModel.getDataProperty(['slctState']))) {\n    if (gridContrlParams.isListView && nextProps && nextModel && nextProps.notActivedSelectRowsRecord && (0, _immutable.is)(nextProps.notActivedSelectRowsRecord, nextModel.getDataProperty(['slctState']))) {\n      return; // 存在从非表格视图切换到表格视图的选中数据记录，且与此次要更新的行选中数据一样，表格视图不应该重新执行该选中，这里禁止掉\n    }\n    var usedModel = nextModel == null ? thisModel : nextModel;\n    var slctedrs = usedModel.getDataProperty(['slctState', 'slcted']);\n    slctedrs = slctedrs ? slctedrs.toJS() : [];\n    if (Array.isArray(slctedrs) && slctedrs[0] && Array.isArray(slctedrs[0])) {\n      slctedrs = slctedrs[0];\n    }\n    delayFuncs.push(function () {\n      // 解析里面的合并行rk (该方法会导致一页1w条全融合时且全被选中时，选中行数组会叠加1w次，导致内存溢出)\n      // 猜测是为了兼容融合行里面一行选中时把所有融合行都选上，但是测试发现后端已经处理融合行选中，前端不用兼容\n      // slctedrs = analyMergeRowKey(slctedrs, gridContrlParams.mergeModel, gridContrlParams.suppressMergeSelection)\n      setSelectedRowsRecord(slctedrs);\n      setSelectRows(slctedrs);\n    });\n  }\n}\nfunction focusChanged(args) {\n  var thisModel = args.thisModel,\n    nextModel = args.nextModel,\n    setFocusedCell = args.setFocusedCell,\n    delayFuncs = args.delayFuncs;\n  if (nextModel == null || !(0, _immutable.is)(thisModel.getDataProperty(['fcsState']), nextModel.getDataProperty(['fcsState']))) {\n    var usedModel = nextModel == null ? thisModel : nextModel;\n    var fcs = usedModel.getDataProperty(['fcsState', 'fcs']);\n    fcs = fcs ? fcs.toJS() : [];\n    delayFuncs.push(function () {\n      return setFocusedCell(fcs);\n    });\n  }\n}\n\n// 判断是否设置单元格进入编辑态\nfunction cellStartEdit(args) {\n  var thisModel = args.thisModel,\n    nextModel = args.nextModel,\n    setActiveCell = args.setActiveCell,\n    delayFuncs = args.delayFuncs;\n  if (nextModel == null || !(0, _immutable.is)(thisModel.getDataProperty(['startEditing']), nextModel.getDataProperty(['startEditing']))) {\n    var usedModel = nextModel == null ? thisModel : nextModel;\n    var cellInfo = usedModel.getDataProperty(['startEditing', 'cellInfo']);\n    cellInfo = cellInfo ? cellInfo.toJS() : {};\n    delayFuncs.push(function () {\n      return setActiveCell(cellInfo);\n    });\n  }\n}\n\n// const analyMergeRowKey = (rkArr, mergeModel, suppressMergeSelection) => {\n//   let newArr = []\n//   if (mergeModel && !suppressMergeSelection) {\n//     rkArr.forEach((rk) => {\n//       const groupRk = mergeModel.getMainEntityGroup(rk)\n//       if (groupRk.length > 1) {\n//         newArr = newArr.concat(groupRk)\n//       } else {\n//         newArr.push(rk)\n//       }\n//     })\n//   } else {\n//     newArr = rkArr\n//   }\n//   return newArr\n// }\n\n// 列表的单据拆分状态改变\n// 在切换mergerow的时候，列定义或者行数据发生变化，大部分情况下会重构所有单元格\n// 但是存在例外情况如：行数据中序号列是前端计算所得，如果后端返回的序号列改变但是前端计算后一样，这里截断则可能导致选择列不刷新\nfunction billMergeChanged(args) {\n  var thisModel = args.thisModel,\n    nextModel = args.nextModel,\n    delayFuncs = args.delayFuncs,\n    gridContrlParams = args.gridContrlParams,\n    api = args.api;\n  if (nextModel && thisModel.getMetaProperty(['mergerow']) !== nextModel.getMetaProperty(['mergerow'])) {\n    // 列定义改变，表格会整体刷新 不做处理\n    if (thisModel.getMetaProperty('colDefsGUID') !== nextModel.getMetaProperty('colDefsGUID')) {\n      return;\n    }\n    // 暂时先不截断其他更新，后续发现性能问题再针对特定问题修改，否则截断条件过多\n    delayFuncs.push(function () {\n      var mergeModel = gridContrlParams.mergeModel,\n        showSelectionItem = gridContrlParams.showSelectionItem;\n      if (mergeModel && showSelectionItem) {\n        // 刷新选择列\n        // 如果还有问题，修改成融合的行刷新整行，非融合的行刷新选择列单元格\n        api.refreshCells({\n          rowNodes: api.getRenderedNodes(),\n          columns: [_GridUtils.SELECTIONCOLID],\n          force: true\n        });\n      }\n    });\n  }\n}\nfunction handleExpandDetails(args) {\n  var thisModel = args.thisModel,\n    nextModel = args.nextModel,\n    getNodeByRowKey = args.getNodeByRowKey,\n    delayFuncs = args.delayFuncs,\n    getApi = args.getApi,\n    gridContrlParams = args.gridContrlParams;\n  if (nextModel === null && thisModel.getDataProperty(['expandDetails']) || nextModel && !(0, _immutable.is)(thisModel.getDataProperty(['expandDetails']), nextModel.getDataProperty(['expandDetails']))) {\n    var usedModel = nextModel === null ? thisModel : nextModel;\n    var expandInfo = usedModel.getDataProperty(['expandDetails', 'expandInfo']);\n    var _expandInfo = _slicedToArray(expandInfo, 3),\n      expandsRows = _expandInfo[0],\n      closeRows = _expandInfo[1],\n      isOtherClose = _expandInfo[2];\n    delayFuncs.push(function () {\n      if (!isOtherClose) {\n        closeRows && closeRows.forEach(function (rowKey) {\n          var node = getNodeByRowKey && getNodeByRowKey(rowKey);\n          if (node && node.expanded && node.master) {\n            node.setExpanded(false);\n          }\n        });\n      } else {\n        var api = getApi();\n        if (api && api.forEachNode) {\n          api.forEachNode(function (node) {\n            // 关闭所有节点，内部没有方法，只能遍历去关闭\n            if (node && node.expanded && node.master) {\n              node.setExpanded(false);\n            }\n          });\n          var rowDetailParams = gridContrlParams.rowDetailParams,\n            rowDetailType = gridContrlParams.rowDetailType;\n          var _ref = rowDetailParams || {},\n            rowDetailsDaemon = _ref.rowDetailsDaemon;\n          rowDetailType === 'bill' && rowDetailsDaemon && rowDetailsDaemon.reset(); // 全部关闭（一般是刷新）后，删除所有展开过的内容\n        }\n      }\n      expandsRows && expandsRows.forEach(function (rowKey) {\n        var node = getNodeByRowKey && getNodeByRowKey(rowKey);\n        if (node && !node.expanded && node.master) {\n          node.setExpanded(true);\n        }\n      });\n    });\n  }\n}\nfunction updateCellFmt(args) {\n  var nextModel = args.nextModel,\n    thisModel = args.thisModel,\n    delayFuncs = args.delayFuncs,\n    getNodeByRowKey = args.getNodeByRowKey,\n    getApi = args.getApi;\n  if (nextModel && !(0, _immutable.is)(thisModel.getDataProperty(['refreshCells']), nextModel.getDataProperty(['refreshCells']))) {\n    var forceCellInfo = nextModel.getDataProperty('refreshCells');\n    var forceCells = forceCellInfo && forceCellInfo.get('forceCells', (0, _immutable.List)([])); // [[['name'],0],[['name'],1]]\n    if (forceCells.size > 0) {\n      delayFuncs.push(function () {\n        forceCells.forEach(function (item) {\n          // [['name'],0]\n          var cols = item.get && item.get(0, []);\n          var r = item.get && item.get(1, null);\n          if (r !== null && r !== undefined && cols) {\n            var node = getNodeByRowKey(r);\n            var api = getApi();\n            node && api && api.refreshCells({\n              rowNodes: [node],\n              columns: cols.toJS ? cols.toJS() : cols,\n              force: true\n            });\n          }\n        });\n      });\n    }\n  }\n}\n\n/**\n * 延迟显示工具栏实际行数提示\n * @param {*} args\n */\nfunction updateRealCountTips(args) {\n  var nextModel = args.nextModel,\n    thisModel = args.thisModel,\n    delayFuncs = args.delayFuncs;\n  if (nextModel && !(0, _immutable.is)(thisModel.getDataProperty(['realCountTips']), nextModel.getDataProperty(['realCountTips'])) || !nextModel && thisModel.getDataProperty(['realCountTips'])) {\n    var usedModel = nextModel == null ? thisModel : nextModel;\n    var data = usedModel.getDataProperty(['realCountTips']);\n    var tips = data.get('tips');\n    if (tips) {\n      delayFuncs.push(function () {\n        // ToolBar.js 的realCountTips订阅取消了，这里也取消\n      });\n    }\n  }\n}\n\n/**\n * 行高元数据改变\n * @param {*} args\n */\nfunction rowHeightChanged(args) {\n  var thisProps = args.thisProps,\n    nextProps = args.nextProps,\n    delayFuncs = args.delayFuncs,\n    api = args.api,\n    getApi = args.getApi,\n    gridContrlParams = args.gridContrlParams,\n    resetRowHeightsAndGridHeight = args.resetRowHeightsAndGridHeight;\n  var _api = api || getApi();\n  if (_api && nextProps && !gridContrlParams.autoHeight && thisProps.model.getMetaProperty(['rh']) !== nextProps.model.getMetaProperty(['rh'])) {\n    // TODO: 如果单纯只修改元数据，则也需要改变gridOptions里的rowHeight，否则表格的行高不会改变\n    delayFuncs.push(function () {\n      return window.requestAnimationFrame(function () {\n        resetRowHeightsAndGridHeight();\n      });\n    });\n  }\n}\nfunction getValueChangeColumnsForRow(dataIndex, targetRow, nextTargetRow, _ref2) {\n  var columnApi = _ref2.columnApi;\n  var _dataIndex = dataIndex.toJS();\n  var valueChangeCols = [];\n  for (var colId in _dataIndex) {\n    var colIndex = _dataIndex[colId]; // col index in row\n    if (!(0, _immutable.is)(targetRow.get(colIndex), nextTargetRow.get(colIndex))) {\n      var col = columnApi && columnApi.getColumn(colId);\n      var _ref3 = col || {},\n        colDef = _ref3.colDef;\n      if (colDef !== null && colDef !== void 0 && colDef.cellRendererParams.colLocked) {\n        // 如s、l、cprop列是取不到的，这里不处理\n        valueChangeCols.push(col);\n      }\n    }\n  }\n  return valueChangeCols;\n}\nfunction handleAutoSizeColumn(gridContrlParams, _ref4) {\n  var getContextProp = _ref4.getContextProp,\n    setContextProp = _ref4.setContextProp,\n    delayFuncs = _ref4.delayFuncs,\n    thisData = _ref4.thisData,\n    nextData = _ref4.nextData,\n    dataIndex = _ref4.dataIndex,\n    columnApi = _ref4.columnApi;\n  var isEntryEntity = gridContrlParams.isEntryEntity;\n  if (isEntryEntity) {\n    var lastEditCell = getContextProp(_gridConst.LAST_EDIT_CELL);\n    if (lastEditCell !== undefined) {\n      // lastEditCell: {colId,rowIndex}\n      var rowIndex = lastEditCell.rowIndex;\n      var leftoverRows = thisData.splice(rowIndex, 1);\n      var nextLeftoverRows = nextData.splice(rowIndex, 1);\n      // 排除编辑的行 如果剩下的行数据都一致 证明只改了当前行，需要自适应\n      if ((0, _immutable.is)(leftoverRows, nextLeftoverRows)) {\n        var targetRow = thisData.get(rowIndex, (0, _immutable.List)());\n        var nextTargetRow = nextData.get(rowIndex, (0, _immutable.List)());\n        var columns = getValueChangeColumnsForRow(dataIndex, targetRow, nextTargetRow, {\n          columnApi: columnApi\n        });\n        if (columns.length > 0) {\n          var autoSizeColumns = getContextProp('autoSizeColumns');\n          delayFuncs.push(function () {\n            return window.requestAnimationFrame(function () {\n              return autoSizeColumns({\n                columns: columns,\n                isAllCol: false\n              });\n            });\n          });\n        }\n        setContextProp(_gridConst.LAST_EDIT_CELL, undefined); // 重置最后一次编辑的行\n        return;\n      }\n    }\n  }\n  var delayAutoSizeColumns = getContextProp('delayAutoSizeColumns');\n  if (nextData.size > 0) {\n    // 数据为空不自适应\n    var addEventForDelayAutoSizeColumns = getContextProp('addEventForDelayAutoSizeColumns');\n    addEventForDelayAutoSizeColumns && addEventForDelayAutoSizeColumns();\n    delayFuncs.push(function (params) {\n      var _ref5 = params || {},\n        execSource = _ref5.execSource;\n      execSource === 'onShouldComponentUpdate' && setTimeout(delayAutoSizeColumns, 0);\n    });\n  }\n}\n\n/**\n * 行数据改变下的流程\n * @param {*} args\n */\nfunction rowDataChanged(args) {\n  var nextModel = args.nextModel,\n    thisModel = args.thisModel,\n    delayFuncs = args.delayFuncs,\n    api = args.api,\n    getApi = args.getApi,\n    getColumnApi = args.getColumnApi,\n    gridContrlParams = args.gridContrlParams,\n    resetRowHeightsAndGridHeight = args.resetRowHeightsAndGridHeight,\n    getContextProp = args.getContextProp,\n    setContextProp = args.setContextProp;\n  api = api || getApi();\n  if (api) {\n    var thisData = thisModel.componentData ? thisModel.componentData.getIn(['value', 'rows'], (0, _immutable.List)([])) : (0, _immutable.List)([]);\n    if (nextModel) {\n      var nextData = nextModel.componentData ? nextModel.componentData.getIn(['value', 'rows'], (0, _immutable.List)([])) : (0, _immutable.List)([]);\n      if (!(0, _immutable.is)(thisData, nextData)) {\n        var columnApi = getColumnApi();\n        if (!gridContrlParams.autoHeight) {\n          var dataIndex = thisModel.componentData ? thisModel.componentData.getIn(['value', 'dataindex'], (0, _immutable.Map)()) : (0, _immutable.Map)();\n          handleAutoSizeColumn(gridContrlParams, {\n            getContextProp: getContextProp,\n            setContextProp: setContextProp,\n            delayFuncs: delayFuncs,\n            thisData: thisData,\n            nextData: nextData,\n            dataIndex: dataIndex,\n            columnApi: columnApi\n          });\n        }\n        handleRowDetailByDataChanged({\n          delayFuncs: delayFuncs,\n          gridContrlParams: gridContrlParams,\n          columnApi: columnApi,\n          rowsLength: nextData.size\n        });\n      }\n    }\n  }\n}\nfunction handleRowDetailByDataChanged(_ref6) {\n  var delayFuncs = _ref6.delayFuncs,\n    gridContrlParams = _ref6.gridContrlParams,\n    columnApi = _ref6.columnApi,\n    rowsLength = _ref6.rowsLength;\n  var rowDetailType = gridContrlParams.rowDetailType;\n  if (rowDetailType) {\n    delayFuncs.push(function () {\n      setTimeout(function () {\n        rowsLength > 0 && columnApi.autoSizeColumn(_gridConst.DETAIL_EXPAND_COL_ID);\n      });\n    });\n  }\n}\n\n/**\n * 动态修改序号列新增删除按钮显示隐藏\n * @param {*} args\n */\nfunction seqOperateChanged(args) {\n  var nextModel = args.nextModel,\n    thisModel = args.thisModel,\n    delayFuncs = args.delayFuncs,\n    api = args.api,\n    getApi = args.getApi,\n    gridState = args.gridState,\n    gridContrlParams = args.gridContrlParams;\n  if (nextModel && gridState && thisModel.getMetaProperty(['hasOperateIcon']) !== nextModel.getMetaProperty(['hasOperateIcon'])) {\n    gridContrlParams.hasOperateIcon = nextModel.getMetaProperty(['hasOperateIcon']);\n    var _api = api || getApi();\n    _api && delayFuncs.push(function () {\n      _api.refreshCells({\n        rowNodes: _api.getRenderedNodes(),\n        columns: [gridState.seq],\n        force: true\n      });\n    });\n  }\n}\nfunction delayFuncsBuilder() {\n  var process = [];\n  process.push(selectionChanged);\n  process.push(focusChanged);\n  process.push(_treeTable.handleExpandCollapseAction);\n  process.push(cellStartEdit);\n  process.push(handleExpandDetails);\n  process.push(updateCellFmt);\n  process.push(updateRealCountTips);\n  process.push(billMergeChanged);\n  process.push(rowHeightChanged);\n  process.push(rowDataChanged);\n  process.push(seqOperateChanged);\n  return process;\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/gridModel/updateInterceptor/delayFuncs.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/gridModel/updateInterceptor/index.js":
/*!************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/gridModel/updateInterceptor/index.js ***!
  \************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-properties.js */ \"../../node_modules/core-js/modules/es.object.define-properties.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptors.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.delayFuncsWhenMount = delayFuncsWhenMount;\nexports.simpleDataDiffer = simpleDataDiffer;\nexports.updateIntercept = updateIntercept;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\nvar _controller = __webpack_require__(/*! ./controller */ \"./src/component/web/DataGrid/AgDataGrid/gridModel/updateInterceptor/controller.js\");\nvar _process = __webpack_require__(/*! ./process */ \"./src/component/web/DataGrid/AgDataGrid/gridModel/updateInterceptor/process.js\");\nvar _delayFuncs = __webpack_require__(/*! ./delayFuncs */ \"./src/component/web/DataGrid/AgDataGrid/gridModel/updateInterceptor/delayFuncs.js\");\nvar _dataDiff = __webpack_require__(/*! ./dataDiff */ \"./src/component/web/DataGrid/AgDataGrid/gridModel/updateInterceptor/dataDiff.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction updateIntercept(nextProps, nextState, interceptParams) {\n  var _this = this;\n  var args = _objectSpread(_objectSpread({\n    pageId: this.gridState.pageId,\n    id: this.gridState.id,\n    thisProps: this.props,\n    nextProps: nextProps,\n    thisState: this.state,\n    nextState: nextState,\n    api: this.api,\n    getApi: function getApi() {\n      return _this.api;\n    },\n    getColumnApi: function getColumnApi() {\n      return _this.columnApi;\n    },\n    getGridRows: function getGridRows() {\n      return _this.gridRows;\n    },\n    gridState: this.gridState,\n    nextModel: nextProps.parentModel || nextProps.model,\n    thisModel: this.props.parentModel || this.props.model,\n    dataDesc: this.dataDesc,\n    gridContrlParams: this.gridContrlParams,\n    isListView: this.gridContrlParams.isListView,\n    columnApi: this.columnApi,\n    // expandedNodes: this.expandedNodes,\n    // postExpandNodes: this.debouncePostExpandNodes,\n    getNodeByRowKey: this.getNodeByRowKey,\n    resetRowHeightsAndGridHeight: this.resetRowHeightsAndGridHeight,\n    setSelectedRowsRecord: function setSelectedRowsRecord(srs) {\n      _this.selectedRows = srs;\n      _this.setActiveRowKey(_this.selectedRows);\n    },\n    setLastRowKeyRecord: function setLastRowKeyRecord(rk) {\n      _this.lastRowKey = rk;\n    },\n    setDataMatched: function setDataMatched(mcd) {\n      interceptParams.dataMatched = mcd; // 注入参数，减少is调用\n    },\n    // actions\n    setRealPageCount: this.setRealPageCount,\n    setSelectedRowsCount: this.setSelectedRowsCount,\n    // getFloatingBottonRowData:this.getFloatingBottonRowData,\n    setSelectRows: this.setSelectRows,\n    setFocusedCell: this.setFocusedCell,\n    setActiveCell: this.setActiveCell,\n    getDataProperty: this.getDataProperty,\n    publishForceRefreshViews: this.publishForceRefreshViews\n  }, interceptParams), {}, {\n    getContextProp: function getContextProp(prop) {\n      return _this[prop];\n    },\n    // 获取AgGridCore属性\n    setContextProp: function setContextProp(prop, value) {\n      // 设置AgGridCore属性\n      _this[prop] = value;\n    },\n    __setOriginalProps: function __setOriginalProps(props, value) {\n      _this[props] = value;\n    }\n  });\n  var delays = (0, _delayFuncs.delayFuncsBuilder)();\n  var processes = (0, _process.processBuilder)();\n  var result = (0, _controller.interceptorLine)(args)(delays.concat(processes));\n  result = {\n    updateFlag: result\n  };\n  return result;\n}\nfunction simpleDataDiffer(nextProps, nextState, interceptParams) {\n  var _this2 = this;\n  var args = _objectSpread({\n    pageId: this.gridState.pageId,\n    id: this.gridState.id,\n    rk: this.gridState.rk,\n    seq: this.gridState.seq,\n    thisProps: this.props,\n    nextProps: nextProps,\n    thisState: this.state,\n    nextState: nextState,\n    api: this.api,\n    getApi: function getApi() {\n      return _this2.api;\n    },\n    getColumnApi: function getColumnApi() {\n      return _this2.columnApi;\n    },\n    columnApi: this.columnApi,\n    nextModel: nextProps.parentModel || nextProps.model,\n    thisModel: this.props.parentModel || this.props.model,\n    gridContrlParams: this.gridContrlParams,\n    getDataProperty: this.getDataProperty,\n    dataDesc: this.dataDesc,\n    getNodeByRowKey: this.getNodeByRowKey,\n    getActiveRowKey: this.getActiveRowKey,\n    hasOtherView: this.hasOtherView,\n    columns: this.gridState.columnDefs,\n    setRealPageCount: this.setRealPageCount,\n    publishForceRefreshViews: this.publishForceRefreshViews,\n    setContextProp: function setContextProp(prop, value) {\n      // 设置AgGridCore属性\n      _this2[prop] = value;\n    },\n    getContextProp: function getContextProp(prop) {\n      return _this2[prop];\n    }\n  }, interceptParams);\n  var result = (0, _controller.interceptorLine)(args)([_dataDiff.dataDiffer]);\n  result = {\n    updateFlag: result\n  };\n  return result;\n}\n\n/**\n * mount后处理延迟方法\n */\nfunction delayFuncsWhenMount(interceptParams) {\n  var _this3 = this;\n  var args = _objectSpread(_objectSpread({\n    pageId: this.gridState.pageId,\n    id: this.gridState.id,\n    api: this.api,\n    gridState: this.gridState,\n    columnApi: this.columnApi,\n    thisProps: this.props,\n    thisModel: this.props.parentModel || this.props.model,\n    nextProps: null,\n    nextModel: null,\n    gridContrlParams: this.gridContrlParams,\n    expandedNodes: this.expandedNodes,\n    getApi: function getApi() {\n      return _this3.api;\n    },\n    getColumnApi: function getColumnApi() {\n      return _this3.columnApi;\n    },\n    getNodeByRowKey: this.getNodeByRowKey,\n    resetRowHeightsAndGridHeight: this.resetRowHeightsAndGridHeight,\n    setSelectedRowsRecord: function setSelectedRowsRecord(srs) {\n      _this3.selectedRows = srs;\n      _this3.setActiveRowKey(_this3.selectedRows);\n    },\n    // actions\n    setSelectRows: this.setSelectRows,\n    setFocusedCell: this.setFocusedCell,\n    setActiveCell: this.setActiveCell\n  }, interceptParams), {}, {\n    __setOriginalProps: function __setOriginalProps(props, value) {\n      _this3[props] = value;\n    },\n    getContextProp: function getContextProp(prop) {\n      return _this3[prop];\n    } // 获取AgGridCore属性\n  });\n  var delays = (0, _delayFuncs.delayFuncsBuilder)();\n  var result = (0, _controller.interceptorLine)(args)(delays);\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/gridModel/updateInterceptor/index.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/gridModel/updateInterceptor/process.js":
/*!**************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/gridModel/updateInterceptor/process.js ***!
  \**************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.processBuilder = processBuilder;\nvar _dataDiff = __webpack_require__(/*! ./dataDiff */ \"./src/component/web/DataGrid/AgDataGrid/gridModel/updateInterceptor/dataDiff.js\");\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _visibleLock = __webpack_require__(/*! ../../visibleLock */ \"./src/component/web/DataGrid/AgDataGrid/visibleLock/index.js\");\nfunction forceUpdate(args) {\n  var thisState = args.thisState,\n    nextState = args.nextState;\n  if (nextState.isForceUpdate !== thisState.isForceUpdate) return true; // forceUpdate! 注意，强前提是api未加载前没有调用api的指令，只有单纯的元数据初始化表格\n}\nfunction gridNotReady(args) {\n  var thisState = args.thisState,\n    nextState = args.nextState,\n    api = args.api,\n    thisProps = args.thisProps,\n    nextProps = args.nextProps;\n  var isAfterForceUpdate = thisState.isForceUpdate === true && nextState.isForceUpdate === thisState.isForceUpdate;\n  var isNotReadyBeforeForceUpdate = thisState.isForceUpdate !== true && nextProps.alreadyReady === false && nextProps.alreadyReady === thisProps.alreadyReady;\n  if (api === undefined && (isAfterForceUpdate || isNotReadyBeforeForceUpdate)) {\n    // api未准备好时不能刷新\n    console.log('grid not ready!----------');\n    return false;\n  }\n}\nfunction gridReady(args) {\n  var thisProps = args.thisProps,\n    nextProps = args.nextProps;\n  if (thisProps.alreadyReady === false && nextProps.alreadyReady === true) {\n    return true; // api初次准备好，此时虚模式表格要发起取数，而列宽计算也要在此后执行\n  }\n}\nfunction interfaceStatus(args) {\n  var thisModel = args.thisModel,\n    nextModel = args.nextModel,\n    thisProps = args.thisProps,\n    nextProps = args.nextProps,\n    setContextProp = args.setContextProp;\n  var billStateChanged = thisProps.formStatus !== nextProps.formStatus;\n  if (thisProps.isVisible !== nextProps.isVisible || (0, _visibleLock.getGridLocked)(thisProps, thisModel) !== (0, _visibleLock.getGridLocked)(nextProps, nextModel) || billStateChanged) {\n    return true;\n  }\n  if (!(0, _immutable.is)(thisProps.model.meta, nextProps.model.meta)) {\n    // 元数据用自身控件。\n    setContextProp('shouldForceUpdateEntryEntity', true);\n    return true;\n  }\n}\nfunction colVisible(args) {\n  var thisModel = args.thisModel,\n    nextModel = args.nextModel,\n    getApi = args.getApi,\n    delayFuncs = args.delayFuncs,\n    getGridRows = args.getGridRows;\n  if (!(0, _immutable.is)(thisModel.getDataProperty(['colVisb']), nextModel.getDataProperty(['colVisb']))) {\n    // to wait fix: ag grid控件动态设置失效。。\n    // this.api && this.api.setColumnDefs(this.gridState.columnDefs);\n    // 表格数据的更新不会影响隐藏列的数据，所以有的场景下会造成隐藏列显示会保存上一次的脏数据，需要手动call一次数据更新\n    // 暂时不做优化,有问题的话到时候改成精准更新单元格\n    delayFuncs.push(function () {\n      var api = getApi();\n      api && api.updateRowData({\n        update: getGridRows() || []\n      });\n    });\n    return true; // TODO:是否也可以走接口方法？\n  }\n}\nfunction processBuilder() {\n  var process = [];\n  process.push(forceUpdate);\n  process.push(gridNotReady);\n  process.push(gridReady);\n  process.push(_dataDiff.listViewStatus);\n  process.push(interfaceStatus);\n  process.push(colVisible);\n  return process;\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/gridModel/updateInterceptor/process.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/rowModel/index.js":
/*!*****************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/rowModel/index.js ***!
  \*****************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nObject.defineProperty(exports, \"EntityMergeModel\", ({\n  enumerable: true,\n  get: function get() {\n    return _entityMergeModel[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"PinnedRowCellRenderer\", ({\n  enumerable: true,\n  get: function get() {\n    return _PinnedRowCellRenderer[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"PinnedRowSuspendSpace\", ({\n  enumerable: true,\n  get: function get() {\n    return _PinnedRowSuspendSpace[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"RowDetailsContainer\", ({\n  enumerable: true,\n  get: function get() {\n    return _rowDetails.RowDetailsContainer;\n  }\n}));\nObject.defineProperty(exports, \"buildEntityRelation\", ({\n  enumerable: true,\n  get: function get() {\n    return _mergeInterface.buildEntityRelation;\n  }\n}));\nObject.defineProperty(exports, \"buildPinnedRowDatas\", ({\n  enumerable: true,\n  get: function get() {\n    return _pinnedRowInterface.buildPinnedRowDatas;\n  }\n}));\nObject.defineProperty(exports, \"buildRowDetailsProps\", ({\n  enumerable: true,\n  get: function get() {\n    return _rowDetails.buildRowDetailsProps;\n  }\n}));\nObject.defineProperty(exports, \"buildRowStyleRules\", ({\n  enumerable: true,\n  get: function get() {\n    return _getRowStyle.buildRowStyleRules;\n  }\n}));\nObject.defineProperty(exports, \"calculateRowHeight\", ({\n  enumerable: true,\n  get: function get() {\n    return _calculateRowHeight[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"collapseAllDetailRows\", ({\n  enumerable: true,\n  get: function get() {\n    return _rowDetails.collapseAllDetailRows;\n  }\n}));\nObject.defineProperty(exports, \"defineDetailExpandCol\", ({\n  enumerable: true,\n  get: function get() {\n    return _rowDetails.defineDetailExpandCol;\n  }\n}));\nObject.defineProperty(exports, \"definePinnedRowCells\", ({\n  enumerable: true,\n  get: function get() {\n    return _pinnedRowInterface.definePinnedRowCells;\n  }\n}));\nObject.defineProperty(exports, \"doClickSelect\", ({\n  enumerable: true,\n  get: function get() {\n    return _rowSelection.doClickSelect;\n  }\n}));\nObject.defineProperty(exports, \"doGroupSelect\", ({\n  enumerable: true,\n  get: function get() {\n    return _rowSelection.doGroupSelect;\n  }\n}));\nObject.defineProperty(exports, \"doShiftSelect\", ({\n  enumerable: true,\n  get: function get() {\n    return _shiftSelection.doShiftSelect;\n  }\n}));\nObject.defineProperty(exports, \"entitySpanEngine\", ({\n  enumerable: true,\n  get: function get() {\n    return _entitySpanEngine[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"getClickColMergeGroup\", ({\n  enumerable: true,\n  get: function get() {\n    return _mergeInterface.getClickColMergeGroup;\n  }\n}));\nObject.defineProperty(exports, \"getCurrentGroupHeadRowkey\", ({\n  enumerable: true,\n  get: function get() {\n    return _mergeInterface.getCurrentGroupHeadRowkey;\n  }\n}));\nObject.defineProperty(exports, \"getMainEntityNum\", ({\n  enumerable: true,\n  get: function get() {\n    return _mergeInterface.getMainEntityNum;\n  }\n}));\nObject.defineProperty(exports, \"getMainGroupHeadRowkey\", ({\n  enumerable: true,\n  get: function get() {\n    return _mergeInterface.getMainGroupHeadRowkey;\n  }\n}));\nObject.defineProperty(exports, \"getRealRowKey\", ({\n  enumerable: true,\n  get: function get() {\n    return _mergeInterface.getRealRowKey;\n  }\n}));\nObject.defineProperty(exports, \"getRowClassRules\", ({\n  enumerable: true,\n  get: function get() {\n    return _getRowStyle.getRowClassRules;\n  }\n}));\nObject.defineProperty(exports, \"getRowHeight\", ({\n  enumerable: true,\n  get: function get() {\n    return _getRowHeight[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"getRowStyle\", ({\n  enumerable: true,\n  get: function get() {\n    return _getRowStyle.getRowStyle;\n  }\n}));\nObject.defineProperty(exports, \"setPinnedRowDatas\", ({\n  enumerable: true,\n  get: function get() {\n    return _pinnedRowInterface.setPinnedRowDatas;\n  }\n}));\nObject.defineProperty(exports, \"updateSubGridMeta\", ({\n  enumerable: true,\n  get: function get() {\n    return _rowDetails.updateSubGridMeta;\n  }\n}));\nvar _pinnedRowInterface = __webpack_require__(/*! ./pinnedRow/pinnedRowInterface */ \"./src/component/web/DataGrid/AgDataGrid/rowModel/pinnedRow/pinnedRowInterface.js\");\nvar _PinnedRowCellRenderer = _interopRequireDefault(__webpack_require__(/*! ./pinnedRow/PinnedRowCellRenderer */ \"./src/component/web/DataGrid/AgDataGrid/rowModel/pinnedRow/PinnedRowCellRenderer.js\"));\nvar _entityMergeModel = _interopRequireDefault(__webpack_require__(/*! ./rowMerge/entityMergeModel */ \"./src/component/web/DataGrid/AgDataGrid/rowModel/rowMerge/entityMergeModel.js\"));\nvar _entitySpanEngine = _interopRequireDefault(__webpack_require__(/*! ./rowMerge/entitySpanEngine */ \"./src/component/web/DataGrid/AgDataGrid/rowModel/rowMerge/entitySpanEngine.js\"));\nvar _mergeInterface = __webpack_require__(/*! ./rowMerge/mergeInterface */ \"./src/component/web/DataGrid/AgDataGrid/rowModel/rowMerge/mergeInterface.js\");\nvar _rowDetails = __webpack_require__(/*! ./rowDetails */ \"./src/component/web/DataGrid/AgDataGrid/rowModel/rowDetails/index.js\");\nvar _getRowHeight = _interopRequireDefault(__webpack_require__(/*! ./rowHeight/getRowHeight */ \"./src/component/web/DataGrid/AgDataGrid/rowModel/rowHeight/getRowHeight.js\"));\nvar _calculateRowHeight = _interopRequireDefault(__webpack_require__(/*! ./rowHeight/calculateRowHeight */ \"./src/component/web/DataGrid/AgDataGrid/rowModel/rowHeight/calculateRowHeight.js\"));\nvar _getRowStyle = __webpack_require__(/*! ./rowStyle/getRowStyle */ \"./src/component/web/DataGrid/AgDataGrid/rowModel/rowStyle/getRowStyle.js\");\nvar _rowSelection = __webpack_require__(/*! ./rowSelection/rowSelection */ \"./src/component/web/DataGrid/AgDataGrid/rowModel/rowSelection/rowSelection.js\");\nvar _shiftSelection = __webpack_require__(/*! ./rowSelection/shiftSelection */ \"./src/component/web/DataGrid/AgDataGrid/rowModel/rowSelection/shiftSelection.js\");\nvar _PinnedRowSuspendSpace = _interopRequireDefault(__webpack_require__(/*! ./pinnedRow/PinnedRowSuspendSpace */ \"./src/component/web/DataGrid/AgDataGrid/rowModel/pinnedRow/PinnedRowSuspendSpace.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/rowModel/index.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/rowModel/pinnedRow/PinnedRowCellRenderer.js":
/*!*******************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/rowModel/pinnedRow/PinnedRowCellRenderer.js ***!
  \*******************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _pinnedCell = _interopRequireDefault(__webpack_require__(/*! ./pinnedCell.less */ \"./src/component/web/DataGrid/AgDataGrid/rowModel/pinnedRow/pinnedCell.less\"));\nvar _GridUtils = __webpack_require__(/*! ../../GridUtils */ \"./src/component/web/DataGrid/AgDataGrid/GridUtils.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n/**\n * 固定行的单元格渲染器\n * 当列带有汇总属性的时候，需要在表格下方固定一行来显示\n * 数字字段由于需要格式化，需要走原来的渲染器\n * 其他字段走这个固定单元格渲染器\n * by kechuang\n */\n\nvar PinnedRowCellRenderer = function PinnedRowCellRenderer(props) {\n  var value = props.value,\n    colDef = props.colDef;\n  var containerClass = _pinnedCell[\"default\"]['pinnedCell-container'];\n  var field = colDef.field;\n  value = value == null ? '' : value;\n  if (field === _GridUtils.SELECTIONCOLID) {\n    containerClass = containerClass + ' ' + _pinnedCell[\"default\"]['pinnedCell-selction'];\n    value = '';\n  }\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: containerClass,\n    style: {\n      borderColor: '#FFF8E1'\n    }\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _pinnedCell[\"default\"].pinnedCell\n  }, value));\n};\nvar _default = exports[\"default\"] = PinnedRowCellRenderer;\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/rowModel/pinnedRow/PinnedRowCellRenderer.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/rowModel/pinnedRow/PinnedRowSuspendSpace.js":
/*!*******************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/rowModel/pinnedRow/PinnedRowSuspendSpace.js ***!
  \*******************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = PinnedRowSuspendSpace;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/web.timers.js */ \"../../node_modules/core-js/modules/web.timers.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _reactDom = _interopRequireDefault(__webpack_require__(/*! react-dom */ \"webpack/sharing/consume/default/react-dom/react-dom?418d\"));\nvar _kdesign = __webpack_require__(/*! @kdcloudjs/kdesign */ \"webpack/sharing/consume/default/@kdcloudjs/kdesign/@kdcloudjs/kdesign\");\nvar _console = _interopRequireDefault(__webpack_require__(/*! @/api/console */ \"./src/api/console.js\"));\nvar _constant = __webpack_require__(/*! ../../constant */ \"./src/component/web/DataGrid/AgDataGrid/constant.js\");\nvar _memoryCacher = __webpack_require__(/*! @/model/memoryCacher.js */ \"./src/model/memoryCacher.js\");\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nvar _gridConst = __webpack_require__(/*! @/constant/gridConst */ \"./src/constant/gridConst.js\");\nvar _PinnedRowSuspendSpace = _interopRequireDefault(__webpack_require__(/*! ./PinnedRowSuspendSpace.less */ \"./src/component/web/DataGrid/AgDataGrid/rowModel/pinnedRow/PinnedRowSuspendSpace.less\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction PinnedRowSuspendSpace(props) {\n  var pageId = props.pageId,\n    gridId = props.gridId,\n    id = props.id,\n    gridContrlParams = props.gridContrlParams,\n    api = props.api,\n    getGridThisProp = props.getGridThisProp,\n    setGridThisProp = props.setGridThisProp,\n    invokeControlMethodSingle = props.invokeControlMethodSingle;\n  var isListView = gridContrlParams.isListView,\n    asyncAggreate = gridContrlParams.asyncAggreate,\n    isSubGrid = gridContrlParams.isSubGrid,\n    autoGetAggregateData = gridContrlParams.autoGetAggregateData;\n  var _isListView = isListView && !isSubGrid;\n  if (!_isListView && !asyncAggreate || autoGetAggregateData) {\n    return null;\n  }\n  return /*#__PURE__*/_react[\"default\"].createElement(PinnedRowOverlay, {\n    pageId: pageId,\n    gridId: gridId,\n    id: id,\n    api: api,\n    getGridThisProp: getGridThisProp,\n    setGridThisProp: setGridThisProp,\n    invokeControlMethodSingle: invokeControlMethodSingle,\n    isListView: isListView\n  });\n}\nfunction PinnedRowOverlay(props) {\n  var pageId = props.pageId,\n    gridId = props.gridId,\n    id = props.id,\n    api = props.api,\n    getGridThisProp = props.getGridThisProp,\n    setGridThisProp = props.setGridThisProp,\n    isListView = props.isListView;\n  var _isCompoleted = !!getGridThisProp(_constant.ISPINOPEN); // 表格级别记录是否加载过合计数据\n\n  var _useState = (0, _react.useState)(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    prepared = _useState2[0],\n    setPrepared = _useState2[1];\n  var _useState3 = (0, _react.useState)(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    loading = _useState4[0],\n    setLoading = _useState4[1];\n  var _useState5 = (0, _react.useState)(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    error = _useState6[0],\n    setError = _useState6[1];\n  var _useState7 = (0, _react.useState)(_isCompoleted),\n    _useState8 = _slicedToArray(_useState7, 2),\n    isCompoleted = _useState8[0],\n    setCompoleted = _useState8[1];\n  var agFloatingBottomDom = (0, _react.useRef)(null);\n  var loaddingTimerId = (0, _react.useRef)(null);\n  var findDom = function findDom(childSelector) {\n    var dom = document.querySelector(\"[id=\\\"\".concat(pageId, \"\\\"] [id=\\\"\").concat(gridId, \"\\\"] \").concat(childSelector));\n    if (!dom) {\n      _console[\"default\"].warn('grid: PinnedRowSuspendSpace dom 未找到');\n    }\n    return dom;\n  };\n  var getPinnedData = function getPinnedData() {\n    var invokeControlMethodSingle = props.invokeControlMethodSingle;\n    setError(false);\n    if (pageId) {\n      var model = {\n        pageId: pageId,\n        key: gridId || id\n      };\n      if (invokeControlMethodSingle) {\n        (0, _memoryCacher.setPageData)(pageId, [gridId || id, 'invokeControlMethod', 'getSumData'], true);\n        invokeControlMethodSingle(model, _constant.GETSUMDATA, [], isListView);\n        loaddingTimerId.current && clearTimeout(loaddingTimerId.current);\n        loaddingTimerId.current = setTimeout(function () {\n          setLoading(true);\n        }, 200);\n      }\n    }\n  };\n  var getSumDataCb = function getSumDataCb(data) {\n    var _ref = data || {},\n      success = _ref.success;\n    loaddingTimerId.current && clearTimeout(loaddingTimerId.current);\n    setLoading(false);\n    if (success === false) {\n      setError(true);\n      return;\n    }\n    setGridThisProp(_constant.ISPINOPEN, true); // 已经请求过,缓存\n    setCompoleted(true);\n  };\n  (0, _react.useEffect)(function () {\n    var getSumDataListenHandle;\n    if (isListView) {\n      getSumDataListenHandle = (0, _memoryCacher.addDataChangeListener)(pageId, [gridId, _constant.SERVERCBLISTENER, _constant.GETSUMDATA], getSumDataCb);\n    } else {\n      getSumDataListenHandle = (0, _memoryCacher.addDataChangeListener)(pageId, [id, _gridConst.SET_FLOAT_BUTTOM_DATA_DONE], getSumDataCb);\n    }\n    return function cleanup() {\n      getSumDataListenHandle && getSumDataListenHandle();\n    };\n  }, [pageId, gridId, id, isListView]);\n  (0, _react.useEffect)(function () {\n    // 其他地方默认自动调用请求合计\n    function loaddingInInvokeGetSumData() {\n      if (getGridThisProp(_constant.ISPINOPEN)) {\n        setCompoleted(false);\n        setLoading(true);\n      }\n    }\n    var pageId = props.pageId,\n      gridId = props.gridId,\n      id = props.id;\n    var invokeGetSumDataHandler = (0, _memoryCacher.addDataChangeListener)(pageId, [gridId || id, 'invokeControlMethod', 'getSumData'], loaddingInInvokeGetSumData);\n    return function cleanup() {\n      invokeGetSumDataHandler();\n    };\n  }, []);\n  (0, _react.useEffect)(function () {\n    if (!prepared) {\n      agFloatingBottomDom.current = findDom('.ag-floating-bottom');\n      if (agFloatingBottomDom.current) {\n        setPrepared(true);\n      }\n    }\n  }, [api, prepared]); // 为了防止未成功找到ag-floating-bottom\n\n  (0, _react.useEffect)(function () {\n    setCompoleted(_isCompoleted);\n  }, [_isCompoleted]);\n  var renderContent = function renderContent() {\n    return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _PinnedRowSuspendSpace[\"default\"]['pinned-row-suspend-space']\n    }, /*#__PURE__*/_react[\"default\"].createElement(_kdesign.Button, {\n      className: \"kd-cq-control kd-cq-btn\",\n      onClick: getPinnedData,\n      type: \"link\",\n      loading: loading,\n      bordered: false\n    }, !loading ? /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n      className: \"theme-fc hover-theme-hover-fc\"\n    }, (0, _intlApi.getLangMsg)('grid.key0029')) : (0, _intlApi.getLangMsg)('grid.key0030')), error ? /*#__PURE__*/_react[\"default\"].createElement(\"span\", null, (0, _intlApi.getLangMsg)('grid.key0040')) : null);\n  };\n  return agFloatingBottomDom.current && isCompoleted === false ? /*#__PURE__*/_reactDom[\"default\"].createPortal(renderContent(), agFloatingBottomDom.current) : null;\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/rowModel/pinnedRow/PinnedRowSuspendSpace.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/rowModel/pinnedRow/pinnedRowInterface.js":
/*!****************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/rowModel/pinnedRow/pinnedRowInterface.js ***!
  \****************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.buildPinnedRowDatas = buildPinnedRowDatas;\nexports.definePinnedRowCells = definePinnedRowCells;\nexports.getCalculateData = void 0;\nexports.isShowPinnedRow = isShowPinnedRow;\nexports.setPinnedRowDatas = setPinnedRowDatas;\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.number.to-fixed.js */ \"../../node_modules/core-js/modules/es.number.to-fixed.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.parse-float.js */ \"../../node_modules/core-js/modules/es.parse-float.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _PinnedRowCellRenderer = _interopRequireDefault(__webpack_require__(/*! ./PinnedRowCellRenderer */ \"./src/component/web/DataGrid/AgDataGrid/rowModel/pinnedRow/PinnedRowCellRenderer.js\"));\nvar _intlApi = __webpack_require__(/*! ../../../../../../i18n/intlApi */ \"./src/i18n/intlApi.js\");\nvar _big = _interopRequireDefault(__webpack_require__(/*! big.js */ \"../../node_modules/big.js/big.js\"));\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _serverproperties = __webpack_require__(/*! @/constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _serverproperties2 = __webpack_require__(/*! ../../../../../../constant/serverproperties */ \"./src/constant/serverproperties.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); } /**\n * 固定行提供的接口\n * by kechuang\n */\n// 合计属性的类型\nvar aggregateType = {\n  0: 'no',\n  1: 'sum',\n  2: 'max',\n  3: 'min',\n  4: 'avg',\n  5: 'count'\n};\n\n/**\n * rowdatas immutable 减少toJS的操作 datadiff\n */\nfunction buildPinnedRowDatas(_ref) {\n  var dataindex = _ref.dataindex,\n    rowdatas = _ref.rowdatas,\n    gridContrlParams = _ref.gridContrlParams,\n    getDataProperty = _ref.getDataProperty,\n    datacount = _ref.datacount,\n    pagecount = _ref.pagecount,\n    seq = _ref.seq,\n    rk = _ref.rk,\n    api = _ref.api,\n    sortFilterColumn = _ref.sortFilterColumn,\n    postFilterData = _ref.postFilterData;\n  var isListView = gridContrlParams.isListView,\n    isVirtualView = gridContrlParams.isVirtualView,\n    sumWithFilter = gridContrlParams.sumWithFilter,\n    aggregateColumns = gridContrlParams.aggregateColumns;\n  var showPinnedRow = isShowPinnedRow({\n    pageCount: pagecount,\n    dataCount: isVirtualView ? datacount : rowdatas && rowdatas.size\n  });\n  if (!dataindex || !showPinnedRow) return [];\n  var path = ['value', 'floatBottomData'];\n  var pinnedData = getDataProperty(path);\n  if (isListView || isVirtualView) {\n    if (pinnedData === undefined) {\n      return [];\n    } else {\n      return pinnedData.toJS();\n    }\n  } else {\n    // 单据体\n    if (aggregateColumns && aggregateColumns.length > 0) {\n      // todo: 该部分应该拆出\n      var _getFilterDataInfo = getFilterDataInfo({\n          api: api,\n          rowdatas: rowdatas,\n          sumWithFilter: sumWithFilter,\n          sortFilterColumn: sortFilterColumn,\n          dataindex: dataindex,\n          rk: rk\n        }),\n        filteredData = _getFilterDataInfo.filteredData,\n        filteredRk = _getFilterDataInfo.filteredRk,\n        isReset = _getFilterDataInfo.isReset;\n      if (postFilterData && filteredRk) {\n        postFilterData(filteredRk, isReset); // 发送过滤后的rk给后台\n      }\n      // 单据体无数据时不显示合计行\n      if (filteredData.length < 2) return [];\n      var autoCalculateData = getCalculateData(filteredData, aggregateColumns, dataindex);\n      if (pinnedData !== undefined) {\n        pinnedData = pinnedData.toJS();\n        pinnedData[0] = Object.assign(autoCalculateData, pinnedData[0], _defineProperty({}, seq, (0, _intlApi.getLangMsg)('grid.key0019')));\n        return pinnedData;\n      } else {\n        return [Object.assign(autoCalculateData, _defineProperty({}, seq, (0, _intlApi.getLangMsg)('grid.key0019')))];\n      }\n    }\n  }\n  return [];\n}\n\n/**\n * 获取过滤后的数据\n */\nvar getFilterDataInfo = function getFilterDataInfo(_ref2) {\n  var api = _ref2.api,\n    rowdatas = _ref2.rowdatas,\n    sumWithFilter = _ref2.sumWithFilter,\n    sortFilterColumn = _ref2.sortFilterColumn,\n    dataindex = _ref2.dataindex,\n    rk = _ref2.rk;\n  var filteredRk;\n  var isReset = false;\n  var filteredData = rowdatas;\n  var activeFilterColumns = (sortFilterColumn === null || sortFilterColumn === void 0 ? void 0 : sortFilterColumn.activeFilterColumns) || [];\n  var preActiveFilterColumns = (sortFilterColumn === null || sortFilterColumn === void 0 ? void 0 : sortFilterColumn.preActiveFilterColumns) || [];\n  // 单据体重置过滤时需要同步给后台\n  if (sumWithFilter && preActiveFilterColumns.length > 0 && activeFilterColumns.length === 0) {\n    filteredRk = [];\n    isReset = true;\n  }\n  // 单据体存在过滤条件,需要把rk同步给后台（单据体合计的是过滤后的数据）\n  if (sumWithFilter && api && activeFilterColumns.length > 0) {\n    filteredRk = api.rowModel.rowsToDisplay.map(function (_ref3) {\n      var data = _ref3.data;\n      return data[rk];\n    });\n    var rkIndex = dataindex[rk];\n    // TODO 可以直接通过rk转化成下标直接去取data（需要后台数据的rk和下标一致）\n    filteredData = rowdatas.filter(function (rowData) {\n      return filteredRk.includes(rowData.get(rkIndex));\n    });\n  }\n  return {\n    filteredRk: filteredRk,\n    isReset: isReset,\n    filteredData: filteredData\n  };\n};\n\n// 定义固定行的单元格渲染器，有合计属性的需要走原始列的渲染器，其他的走自定义的渲染器\nfunction definePinnedRowCells(colMeta, colDef, gridContrlParams, params) {\n  var type = colMeta.sum;\n  if (type) {\n    gridContrlParams.aggregateColumns.push({\n      key: colDef.field,\n      aggType: aggregateType[type],\n      editor: colDef.cellRendererParams.editor,\n      type: colDef.cellRendererParams.type\n    });\n    colDef.cellRendererParams.aggType = aggregateType[type];\n  } else {\n    colDef.pinnedRowCellRendererFramework = _PinnedRowCellRenderer[\"default\"];\n    colDef.pinnedRowCellRendererParams = params;\n  }\n  return colDef;\n}\n\n/**\n * 设置固定列的值\n * 如果使用原生的api.setPinnedBottomRowData来更新的话会导致所有单元格都刷新，有单元格出于编辑态的时候会有问题，tab键无效\n * 现在只有一行固定行，如果有多行的话，要再修改\n * @param {*} api\n * @param {*} pinnedDatas\n */\nfunction setPinnedRowDatas(api, pinnedDatas) {\n  // api && api.setPinnedBottomRowData(pannedDatas);\n  if (Array.isArray(pinnedDatas) || pinnedDatas.length > 0) {\n    pinnedDatas.forEach(function (data, index) {\n      var node = api.getPinnedBottomRow(index);\n      node && node.setData(data);\n    });\n  } else {}\n}\n\n/** ***utilsfunction */\n\nvar getCalculateData = exports.getCalculateData = function getCalculateData(rowdatas, aggregateColumns, dataindex) {\n  var data = {};\n  if (aggregateColumns && aggregateColumns.length > 0 && rowdatas) {\n    aggregateColumns.forEach(function (l) {\n      var colResult = '';\n      var colNaNValCount = 0;\n      rowdatas.forEach(function (row, i) {\n        var v;\n        var temporaryVal = parseFloat(row.get(dataindex[l.key])); // 因为big不支持isNaN,这里临时用js方法判断\n        if (isNaN(temporaryVal)) {\n          // 合计、最大值、最小值、平均值为空(是NaN)的数据不参与运算(后端需求确定)\n          v = (0, _big[\"default\"])(0);\n          if (!['avg', 'count'].includes(l.aggType)) {\n            return;\n          }\n          if (l.aggType === 'avg') {\n            // 平均数需要记录空值的行\n            colNaNValCount += 1;\n          }\n        } else {\n          v = (0, _big[\"default\"])(row.get(dataindex[l.key]));\n        }\n        switch (l.aggType) {\n          case 'sum':\n            {\n              // 空行不参与合计, 为0的情况只有‘为0显示’时才会参与合计（步进器的为0显示一直为true）\n              var zeroShow = l.editor && l.editor[_serverproperties.ZERO_SHOW] || l.type === _serverproperties.Ctrls.KDStepper;\n              if (!v.eq((0, _big[\"default\"])(0)) || !isNaN(temporaryVal) && v.eq((0, _big[\"default\"])(0)) && zeroShow) {\n                colResult = v.plus((0, _big[\"default\"])(colResult || 0));\n              }\n              break;\n            }\n          case 'min':\n            colResult = colResult === '' ? v : getMin(v, colResult);\n            break;\n          case 'max':\n            colResult = colResult === '' ? v : getMax(v, colResult);\n            break;\n          case 'avg':\n            {\n              colResult = v.plus((0, _big[\"default\"])(colResult || 0));\n              // TODO:平均值现在走前端计算是保留两位小数，后面业务可能会修改\n              // 仅计算存在值的行\n              var numberValRowCount = rowdatas.size - colNaNValCount;\n              if (i === rowdatas.size - 1 && numberValRowCount !== 0) {\n                var sc = l.editor && l.editor[_serverproperties2.SCALE] || 2;\n                colResult = colResult.div(numberValRowCount).toFixed(sc);\n              }\n              break;\n            }\n          case 'count':\n            colResult = rowdatas.size;\n            break;\n        }\n      });\n      data[l.key] = _lodash[\"default\"].isString(colResult) ? colResult : colResult.toFixed();\n    });\n  }\n  return data;\n};\n\n// 数据小于两行时，不显示合计行 => 存在多页或者行数大于2\nfunction isShowPinnedRow(_ref4) {\n  var dataCount = _ref4.dataCount,\n    pageCount = _ref4.pageCount;\n  return pageCount > 1 || dataCount > 1;\n}\n\n// const handleDecimal = (arg) => {\n//   let r\n//   let arr = []\n//   const newArg = arg.toString()\n//   let mark = ''\n//   if (newArg.indexOf('-') !== -1) {\n//     mark = '-'\n//   }\n//   if (newArg.indexOf('.') !== -1) {\n//     arr = newArg.split('.')\n//     r = arr[1].length\n//     arr[1] = mark + arr[1]\n//     arr.push(r)\n//   } else {\n//     arr = [newArg, 0, 0]\n//   }\n//   return arr\n// }\n\n// 注释没有使用的函数\n// const add = (arg1, arg2) => {\n//   const s1 = handleDecimal(arg1)\n//   const s2 = handleDecimal(arg2)\n//   const r1 = s1[2]\n//   const r2 = s2[2]\n//   const p = Math.max(r1, r2)\n//   const m = Math.pow(10, p)\n//   return (s1[0] * m + s1[1] * m / Math.pow(10, r1) + s2[0] * m + s2[1] * m / Math.pow(10, r2)) / m\n// }\n\nvar getMin = function getMin(v1, v2) {\n  return v1.lt(v2) ? v1 : v2;\n};\nvar getMax = function getMax(v1, v2) {\n  return v1.gt(v2) ? v1 : v2;\n};\n\n// const subtract = (arg1, arg2) => {\n//   const s1 = handleDecimal(arg1)\n//   const s2 = handleDecimal(arg2)\n//   const r1 = s1[2]\n//   const r2 = s2[2]\n//   const p = Math.max(r1, r2)\n//   const m = Math.pow(10, p)\n//   return (s1[0] * m + s1[1] * m / Math.pow(10, r1) - s2[0] * m - s2[1] * m / Math.pow(10, r2)) / m\n// }\n\n// const multiply = (arg1, arg2) => {\n//   const s1 = handleDecimal(arg1)\n//   const s2 = handleDecimal(arg2)\n//   const r1 = s1[2]\n//   const r2 = s2[2]\n//   const p = Math.max(r1, r2)\n//   const m = Math.pow(10, p)\n//   return ((s1[0] * m + s1[1] * m / Math.pow(10, r1)) * (s2[0] * m + s2[1] * m / Math.pow(10, r2))) / (m * m)\n// }\n\n// const divide = (arg1, arg2) => {\n//   const s1 = handleDecimal(arg1)\n//   const s2 = handleDecimal(arg2)\n//   const r1 = s1[2]\n//   const r2 = s2[2]\n//   const p = Math.max(r1, r2)\n//   const m = Math.pow(10, p)\n//   return ((s1[0] * m + s1[1] * m / Math.pow(10, r1)) / (s2[0] * m + s2[1] * m / Math.pow(10, r2)))\n// }\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/rowModel/pinnedRow/pinnedRowInterface.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/rowModel/rowDetails/RowDetailsContainer.js":
/*!******************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/rowModel/rowDetails/RowDetailsContainer.js ***!
  \******************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _reactDom = _interopRequireDefault(__webpack_require__(/*! react-dom */ \"webpack/sharing/consume/default/react-dom/react-dom?418d\"));\nvar _Bill = _interopRequireDefault(__webpack_require__(/*! ../../../../Bill */ \"./src/component/web/Bill.js\"));\nvar _LightGrid = _interopRequireDefault(__webpack_require__(/*! ../../LightGrid/LightGrid */ \"./src/component/web/DataGrid/AgDataGrid/LightGrid/LightGrid.js\"));\nvar _memoryCacher = __webpack_require__(/*! @/model/memoryCacher */ \"./src/model/memoryCacher.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); } /**\n * 行展开面板的存储器\n * 所有的展开面板的内容都放在这里\n * 根据id将相应的内容portal在相应的面板中\n * by kechuang\n */\n// rowDetailsItems:{targetDomId:{pkId: ,targetDom:}}\nvar RowDetailsContainer = exports[\"default\"] = /*#__PURE__*/function (_React$Component) {\n  _inherits(RowDetailsContainer, _React$Component);\n  function RowDetailsContainer(props) {\n    var _this;\n    _classCallCheck(this, RowDetailsContainer);\n    _this = _callSuper(this, RowDetailsContainer, [props]);\n    _this.state = {\n      rowDetailsItems: {}\n    };\n    _this.renderRowItems = _this.renderRowItems.bind(_assertThisInitialized(_this));\n    _this.rerenderHandle = _this.rerenderHandle.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  // 只关注内部状态，与props无关\n  _createClass(RowDetailsContainer, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      if (this.state !== nextState) return true;\n      return false;\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props$parentGri = this.props.parentGridState,\n        pageId = _this$props$parentGri.pageId,\n        gridId = _this$props$parentGri.gridId;\n      this.renderRowItemsHandler = (0, _memoryCacher.addDataChangeListener)(pageId, [gridId, '_rowdetails'], this.rerenderHandle);\n    }\n  }, {\n    key: \"rerenderHandle\",\n    value: function rerenderHandle(rowDetailsItems) {\n      this.setState({\n        rowDetailsItems: rowDetailsItems\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.renderRowItemsHandler && this.renderRowItemsHandler();\n    }\n  }, {\n    key: \"renderRowItems\",\n    value: function renderRowItems() {\n      var _this2 = this;\n      var rowDetailsItems = this.state.rowDetailsItems;\n      var keys = Object.keys(rowDetailsItems);\n      var items = keys.map(function (key) {\n        var item = rowDetailsItems[key];\n        return /*#__PURE__*/_react[\"default\"].createElement(RowDetailsItem, _extends({}, _this2.props, {\n          key: key,\n          pkId: item.pkId,\n          targetDom: item.targetDom,\n          needRequestData: item.needRequestData\n        }));\n      });\n      return items;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", null, this.renderRowItems());\n    }\n  }]);\n  return RowDetailsContainer;\n}(_react[\"default\"].Component);\nvar RowDetailsItem = /*#__PURE__*/function (_React$Component2) {\n  _inherits(RowDetailsItem, _React$Component2);\n  function RowDetailsItem(props) {\n    var _this3;\n    _classCallCheck(this, RowDetailsItem);\n    _this3 = _callSuper(this, RowDetailsItem, [props]);\n    _this3.renderBill = _this3.renderBill.bind(_assertThisInitialized(_this3));\n    _this3.renderEntry = _this3.renderEntry.bind(_assertThisInitialized(_this3));\n    return _this3;\n  }\n  _createClass(RowDetailsItem, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      if (nextProps === this.props) return false;\n      return true;\n    }\n  }, {\n    key: \"renderBill\",\n    value: function renderBill() {\n      var _this$props = this.props,\n        rowDetailParams = _this$props.rowDetailParams,\n        pkId = _this$props.pkId,\n        parentGridState = _this$props.parentGridState;\n      var config = {\n        formId: rowDetailParams.formDetailId,\n        pkId: pkId == undefined ? '-1' : pkId,\n        parentPageId: parentGridState.pageId,\n        billStatusValue: 2,\n        statusValue: 2\n      };\n      return /*#__PURE__*/_react[\"default\"].createElement(_Bill[\"default\"], {\n        config: config\n      });\n    }\n  }, {\n    key: \"renderEntry\",\n    value: function renderEntry() {\n      var _this$props2 = this.props,\n        pkId = _this$props2.pkId,\n        rowDetailParams = _this$props2.rowDetailParams,\n        parentGridState = _this$props2.parentGridState,\n        superProps = _this$props2.superProps,\n        getCellActions = _this$props2.getCellActions,\n        needRequestData = _this$props2.needRequestData,\n        pushDelayInvoke = _this$props2.pushDelayInvoke,\n        getGridThisProp = _this$props2.getGridThisProp;\n      return /*#__PURE__*/_react[\"default\"].createElement(_LightGrid[\"default\"], {\n        pkId: pkId,\n        rowDetailParams: rowDetailParams,\n        parentGridState: parentGridState,\n        superProps: superProps,\n        getCellActions: getCellActions,\n        needRequestData: needRequestData,\n        pushDelayInvoke: pushDelayInvoke,\n        getGridThisProp: getGridThisProp\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props3 = this.props,\n        rowDetailType = _this$props3.rowDetailType,\n        targetDom = _this$props3.targetDom;\n      var Component = null;\n      if (rowDetailType === 'bill') {\n        Component = this.renderBill();\n      } else if (rowDetailType === 'entry') {\n        Component = this.renderEntry();\n      }\n      return /*#__PURE__*/_reactDom[\"default\"].createPortal(Component, targetDom);\n    }\n  }]);\n  return RowDetailsItem;\n}(_react[\"default\"].Component); // 单据的状态\n/**\n * billStatusValue:{\n * ADDNEW:0,\n * EDIT:1,\n * VIEW:2,\n * SUBMIT:4,\n * AUDIT:5,\n * }\n */\n/**\n * statusValue:{\n * ADDNEW:0,\n * EDIT:1,\n * VIEW:2\n * }\n */\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/rowModel/rowDetails/RowDetailsContainer.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/rowModel/rowDetails/RowDetailsDaemon.js":
/*!***************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/rowModel/rowDetails/RowDetailsDaemon.js ***!
  \***************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _memoryCacher = __webpack_require__(/*! @/model/memoryCacher */ \"./src/model/memoryCacher.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); } /**\n * 统一监管和控制所有行展开面板的类\n * 负责管理和缓存展开面板的dom\n * 负责将aggrid和展开rowDetailsContainer之间的消息通信\n * by kechuang Fromin\n */\nvar RowDetailsDaemon = exports[\"default\"] = /*#__PURE__*/function () {\n  function RowDetailsDaemon(props) {\n    _classCallCheck(this, RowDetailsDaemon);\n    this.pageId = props.pageId;\n    this.gridId = props.gridId;\n    this.targetDomStorage = {}; // 缓存所有的展开面板的dom,{id:{targetDom:,pkId:}}\n    this.pubRenderEvent = this.pubRenderEvent.bind(this);\n  }\n  _createClass(RowDetailsDaemon, [{\n    key: \"addTargetDom\",\n    value: function addTargetDom(infos) {\n      var id = infos.id,\n        pkId = infos.pkId,\n        targetDom = infos.targetDom,\n        rowKey = infos.rowKey,\n        _infos$needRequestDat = infos.needRequestData,\n        needRequestData = _infos$needRequestDat === void 0 ? false : _infos$needRequestDat;\n      this.targetDomStorage[id] = {\n        targetDom: targetDom,\n        pkId: pkId,\n        needRequestData: needRequestData,\n        rowKey: rowKey\n      };\n    }\n  }, {\n    key: \"getTargetDom\",\n    value: function getTargetDom(id) {\n      if (this.targetDomStorage[id]) {\n        return this.targetDomStorage[id].targetDom;\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.targetDomStorage = {};\n      this.pubRenderEvent();\n    }\n  }, {\n    key: \"resetTargetDom\",\n    value: function resetTargetDom() {\n      var _this = this;\n      var idArr = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var needRefresh = false;\n      idArr.forEach(function (id) {\n        if (_this.targetDomStorage[id]) {\n          _this.targetDomStorage[id] = undefined;\n          needRefresh = true;\n        }\n      });\n      needRefresh && this.pubRenderEvent();\n    }\n  }, {\n    key: \"pubRenderEvent\",\n    value: function pubRenderEvent() {\n      var _this2 = this;\n      var keys = Object.keys(this.targetDomStorage); // 处理缓存id为undefined渲染报错的问题，去除undefined的id\n      keys.forEach(function (id) {\n        if (_this2.targetDomStorage[id] === undefined) {\n          delete _this2.targetDomStorage[id];\n        }\n      });\n      (0, _memoryCacher.setPageData)(this.pageId, [this.gridId, '_rowdetails'], this.targetDomStorage);\n    }\n  }, {\n    key: \"render\",\n    value: function render(id) {\n      var targetDom = this.getTargetDom(id);\n      targetDom && this.pubRenderEvent();\n    }\n  }]);\n  return RowDetailsDaemon;\n}();\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/rowModel/rowDetails/RowDetailsDaemon.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/rowModel/rowDetails/RowDetailsRenderer.js":
/*!*****************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/rowModel/rowDetails/RowDetailsRenderer.js ***!
  \*****************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/web.timers.js */ \"../../node_modules/core-js/modules/web.timers.js\");\nvar _resizeObserve = _interopRequireDefault(__webpack_require__(/*! ../../../../../../util/resizeObserve */ \"./src/util/resizeObserve.js\"));\nvar _CellClass = _interopRequireDefault(__webpack_require__(/*! ../../CellClass.less */ \"./src/component/web/DataGrid/AgDataGrid/CellClass.less\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); } /**\n * 行展开面板的渲染器\n * by kechuang\n */\nvar RowDetailsRenderer = exports[\"default\"] = /*#__PURE__*/function () {\n  function RowDetailsRenderer(props) {\n    _classCallCheck(this, RowDetailsRenderer);\n    this.renderTimer = null;\n    this.rowPanelHeight = 0;\n  }\n  _createClass(RowDetailsRenderer, [{\n    key: \"init\",\n    value: function init(params) {\n      var _this = this;\n      var gridContrlParams = params.gridContrlParams,\n        node = params.node,\n        rowKey = params.rowKey,\n        gridId = params.gridId,\n        api = params.api,\n        actions = params.actions,\n        pid = params.pid;\n      var rowDetailParams = gridContrlParams.rowDetailParams,\n        rowDetailType = gridContrlParams.rowDetailType;\n      var pkKey = rowDetailParams.pkKey;\n      var pkId = node.data[pkKey]; // 单据id，唯一识别\n      var rkv = node.data[rowKey];\n      var id = rkv + '_' + pkId;\n      this.eGui = rowDetailParams.rowDetailsDaemon.getTargetDom(id);\n      // 有缓存就不重复加载\n      if (!this.eGui) {\n        this.eGui = document.createElement('div');\n        this.eGui.setAttribute('id', 'rowDetails_' + gridId + '_' + id);\n        this.eGui.className = _CellClass[\"default\"]['rowDerailsCellConstainer'];\n        // 这个主要是用于在初始就展开时，因为表格所有行都会先渲染一次，会导致太多的rowdetail加载，用一个时间来控制只有最终真正加载出来的行才进行detail加载\n        this.renderTimer = setTimeout(function () {\n          rowDetailParams.rowDetailsDaemon.addTargetDom({\n            id: id,\n            pkId: pkId,\n            pkKey: pkKey,\n            rowKey: rkv,\n            targetDom: _this.eGui,\n            needRequestData: rowDetailType === 'entry' // 展开面板是单据体的情况，第一次请求数据需要在表格初始化之后\n          });\n          rowDetailParams.rowDetailsDaemon.render(id);\n        }, 500);\n      } else {\n        // 表格已经存在，请求行数放在这里\n        if (rowDetailType === 'entry') {\n          this.requestSonGridData(pkId, params);\n        }\n      }\n      actions.invokeControlMethodOnly({\n        key: gridId,\n        pageId: pid\n      }, 'expandClick', [pkId, rkv]);\n      // 设置自适应高度，会导致设计器设置的高度无效\n      // const resizeListener = (rect) => {\n      //     let { height } = rect;\n      //     if (this.rowPanelHeight !== height) {\n      //         this.rowPanelHeight = height;\n      //         node.setRowHeight(this.rowPanelHeight);\n      //         api.onRowHeightChanged();\n      //     }\n      // }\n      // this.rowPanelObeserve = addResizeObserve(this.eGui, resizeListener);\n    }\n\n    // 请求行展开面板的表格行数据\n  }, {\n    key: \"requestSonGridData\",\n    value: function requestSonGridData(pkId, params) {\n      var actions = params.actions,\n        gridId = params.gridId,\n        pid = params.pid;\n      var pushDelayInvoke = actions.pushDelayInvoke,\n        getDetailGridData = actions.getDetailGridData;\n      pushDelayInvoke(getDetailGridData, {\n        pageId: pid,\n        key: gridId\n      }, [pkId]);\n    }\n  }, {\n    key: \"getGui\",\n    value: function getGui() {\n      return this.eGui;\n    }\n  }, {\n    key: \"refresh\",\n    value: function refresh() {\n      // TODO:true or false\n      return true;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      clearTimeout(this.renderTimer);\n      // this.rowPanelObeserve.removeResizeObserve();\n      // this.rowPanelObeserve = null;\n    }\n  }]);\n  return RowDetailsRenderer;\n}();\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/rowModel/rowDetails/RowDetailsRenderer.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/rowModel/rowDetails/buildRowDetailsProps.js":
/*!*******************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/rowModel/rowDetails/buildRowDetailsProps.js ***!
  \*******************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-properties.js */ \"../../node_modules/core-js/modules/es.object.define-properties.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptors.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.buildRowDetailsProps = buildRowDetailsProps;\nexports.collapseAllDetailRows = collapseAllDetailRows;\nexports.updateSubGridMeta = updateSubGridMeta;\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.map.js */ \"../../node_modules/core-js/modules/es.map.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.parse-int.js */ \"../../node_modules/core-js/modules/es.parse-int.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nvar _mergeInterface = __webpack_require__(/*! ../rowMerge/mergeInterface */ \"./src/component/web/DataGrid/AgDataGrid/rowModel/rowMerge/mergeInterface.js\");\nvar _GridUtils = __webpack_require__(/*! ../../GridUtils */ \"./src/component/web/DataGrid/AgDataGrid/GridUtils.js\");\nvar _RowDetailsDaemon = _interopRequireDefault(__webpack_require__(/*! ./RowDetailsDaemon */ \"./src/component/web/DataGrid/AgDataGrid/rowModel/rowDetails/RowDetailsDaemon.js\"));\nvar _RowDetailsRenderer = _interopRequireDefault(__webpack_require__(/*! ./RowDetailsRenderer */ \"./src/component/web/DataGrid/AgDataGrid/rowModel/rowDetails/RowDetailsRenderer.js\"));\nvar _intlApi = __webpack_require__(/*! ../../../../../../i18n/intlApi */ \"./src/i18n/intlApi.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); } /**\n * 行展开详情面板的参数构建\n * 这种表格必须在初始设定options的时候就把相应的配置设置好\n * 可能是出于安全考虑，aggrid只提供了一个机会让你设置，怀疑是内部缓存了\n * by kechuang\n */\nfunction buildRowDetailsProps(props, meta, args) {\n  var gridContrlParams = args.gridContrlParams,\n    pid = args.pid,\n    gridId = args.gridId,\n    gridOptions = args.gridOptions;\n  var rowDetailType = gridContrlParams.rowDetailType;\n  var rowDetailParams = {};\n  if (rowDetailType === 'bill') {\n    var formDetailId = meta.get('formDetailId');\n    rowDetailParams.formDetailId = formDetailId;\n  } else if (rowDetailType === 'entry') {\n    updateSubGridMeta(props, rowDetailParams, gridOptions.api);\n  }\n  var pkKey = null;\n  var entityRelationInfo = (0, _mergeInterface.buildEntityRelation)((0, _GridUtils.getValue)(meta, 'entryentities', []));\n  pkKey = entityRelationInfo.entities[entityRelationInfo.mainEntityKey]['pkFieldName'];\n  rowDetailParams.pkKey = pkKey;\n  rowDetailParams.entityRelationInfo = entityRelationInfo;\n  rowDetailParams.rowDetailsDaemon = new _RowDetailsDaemon[\"default\"]({\n    pageId: pid,\n    gridId: gridId\n  });\n  gridContrlParams.rowDetailParams = rowDetailParams;\n  // TODO:取元数据中rowDetail的高度\n  var detailRowHeight = props.model.getMetaProperty('formDetailHeight');\n  detailRowHeight = isNaN(parseInt(detailRowHeight)) ? 200 : parseInt(detailRowHeight); // 默认0，用自适应高度做\n  buildRowDetailsOptions(args, detailRowHeight);\n}\n\n/**\n * 更新子表格的元数据\n * @param {*} props\n * @param {*} gridContrlParams\n */\nfunction updateSubGridMeta(props, rowDetailParams, api) {\n  var model = props.model;\n  var gridData = model.getData();\n  rowDetailParams.subGridMeta = gridData && gridData.get('subMeta', new Map());\n  if (rowDetailParams && rowDetailParams.rowDetailsDaemon) {\n    rowDetailParams.rowDetailsDaemon.reset();\n    // api && api.collapseAll(); //这个api只对group节点有用，对master没用，会在都是表格刷新，但是不知道为什么可以做到不收缩刷新\n    api && collapseAllDetailRows(api);\n  }\n}\nfunction collapseAllDetailRows(api) {\n  api.forEachNode(function (node) {\n    if (node && node.expanded && node.master) {\n      // node.expanded = false\n      node.setExpanded(false);\n    }\n  });\n  // 这种方式会导致所有单元格重新渲染！！！\n  // api.onGroupExpandedOrCollapsed();\n}\n\n// 构建aggrid需要的配置\nfunction buildRowDetailsOptions(params, detailRowHeight) {\n  var gridOptions = params.gridOptions,\n    gridContrlParams = params.gridContrlParams;\n  gridOptions.masterDetail = true;\n  gridOptions.detailRowHeight = detailRowHeight;\n  // 默认展开层级，0默认不展开\n  gridOptions.suppressPreventDefaultOnMouseWheel = true; // 解决列表展开面板滚动条无法滚动问题\n  gridOptions.groupDefaultExpanded = 0;\n  gridOptions.icons.groupExpanded = \"<span>\".concat((0, _intlApi.getLangMsg)('grid.key0018'), \"<i style='font-size: 22px;' class='kdfont kdfont-shangla kd-hover-color'/></span>\"); // 展开列图标\n  gridOptions.icons.groupContracted = \"<span>\".concat((0, _intlApi.getLangMsg)('grid.key0017'), \"<i style='font-size: 22px;' class='kdfont kdfont-xiala kd-hover-color'/></span>\");\n  gridOptions.detailCellRendererParams = _objectSpread({}, params);\n  gridOptions.detailCellRenderer = _RowDetailsRenderer[\"default\"];\n  gridOptions.isRowMaster = function (dataItem) {\n    // return true when row data has children, false otherwise\n    var pkKey = gridContrlParams.rowDetailParams.pkKey;\n    return pkKey && dataItem[pkKey] != null;\n  };\n  // gridOptions.detailCellRenderer = RowDetailsRenderer;\n  // gridOptions.detailCellRendererParams = {\n  //     ...params,\n  //     // provide detail grid options\n  //     detailGridOptions: {},\n  //     // extract and supply row data for detail,有detailCellRenderer的时候不走这个方法\n  //     getDetailRowData: function (params) {\n  //         setTimeout(() => {\n  //             params.successCallback([]);\n  //         }, 100);\n  //     }\n  // }\n  // gridOptions.isRowMaster = function (dataItem) {\n  //     // return true when row data has children, false otherwise\n  //     let pkId = gridContrlParams.masterDetailKey;\n  //     return pkId && dataItem[pkId] != null;\n  // }\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/rowModel/rowDetails/buildRowDetailsProps.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/rowModel/rowDetails/defineDetailExpandCol.js":
/*!********************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/rowModel/rowDetails/defineDetailExpandCol.js ***!
  \********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = defineDetailExpandCol;\nvar _gridConst = __webpack_require__(/*! @/constant/gridConst */ \"./src/constant/gridConst.js\");\nvar _columnProperty = __webpack_require__(/*! ../../columnModel/columnProperty */ \"./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/index.js\");\n/**\n * 定义行展开面板的展开列\n * 需要放在最后\n * by kechuang\n */\n\nfunction defineDetailExpandCol(colDefs, gridOptions, styles, rowKey, seq) {\n  if (!gridOptions.masterDetail) return;\n  var expandCol = {\n    headerName: '',\n    field: _gridConst.DETAIL_EXPAND_COL_ID,\n    colId: _gridConst.DETAIL_EXPAND_COL_ID,\n    cellRenderer: 'agGroupCellRenderer',\n    cellRendererParams: {\n      suppressCount: true,\n      innerRenderer: function innerRenderer(params) {\n        return '';\n      }\n    },\n    width: 65,\n    // 适配英文情况，增加5px\n    sortable: false,\n    filter: false,\n    resizable: false,\n    suppressMovable: true,\n    pinned: 'right',\n    editable: false,\n    hide: false,\n    menuTabs: [],\n    //* *需要定义这个才能显示成group\n    valueGetter: function valueGetter(params) {\n      return params.data[rowKey];\n    },\n    cellClass: styles['field'] + ' ' + styles['groupTextStyle'] + ' ' + styles['formDetailColText']\n  };\n  expandCol.suppressAutoSize = (0, _columnProperty.isSuppressAutoSize)(expandCol.field); // 阻止列宽自适应\n  expandCol.suppressSizeToFit = (0, _columnProperty.isSuppressSizeToFit)(expandCol, {\n    rowKey: rowKey,\n    seq: seq\n  }); // 阻止列宽缩小或者增大去适应屏幕大小\n  colDefs.push(expandCol);\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/rowModel/rowDetails/defineDetailExpandCol.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/rowModel/rowDetails/index.js":
/*!****************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/rowModel/rowDetails/index.js ***!
  \****************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nObject.defineProperty(exports, \"RowDetailsContainer\", ({\n  enumerable: true,\n  get: function get() {\n    return _RowDetailsContainer[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"buildRowDetailsProps\", ({\n  enumerable: true,\n  get: function get() {\n    return _buildRowDetailsProps.buildRowDetailsProps;\n  }\n}));\nObject.defineProperty(exports, \"collapseAllDetailRows\", ({\n  enumerable: true,\n  get: function get() {\n    return _buildRowDetailsProps.collapseAllDetailRows;\n  }\n}));\nObject.defineProperty(exports, \"defineDetailExpandCol\", ({\n  enumerable: true,\n  get: function get() {\n    return _defineDetailExpandCol[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"updateSubGridMeta\", ({\n  enumerable: true,\n  get: function get() {\n    return _buildRowDetailsProps.updateSubGridMeta;\n  }\n}));\nvar _buildRowDetailsProps = __webpack_require__(/*! ./buildRowDetailsProps */ \"./src/component/web/DataGrid/AgDataGrid/rowModel/rowDetails/buildRowDetailsProps.js\");\nvar _defineDetailExpandCol = _interopRequireDefault(__webpack_require__(/*! ./defineDetailExpandCol */ \"./src/component/web/DataGrid/AgDataGrid/rowModel/rowDetails/defineDetailExpandCol.js\"));\nvar _RowDetailsContainer = _interopRequireDefault(__webpack_require__(/*! ./RowDetailsContainer */ \"./src/component/web/DataGrid/AgDataGrid/rowModel/rowDetails/RowDetailsContainer.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/rowModel/rowDetails/index.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/rowModel/rowHeight/calculateRowHeight.js":
/*!****************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/rowModel/rowHeight/calculateRowHeight.js ***!
  \****************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.string.replace.js */ \"../../node_modules/core-js/modules/es.string.replace.js\");\n/**\n * 构造一个dom来动态计算内容高度\n * 有多行文本的时候，需要动态计算改变行高\n * by kechuang Fromin\n */\n\nvar calculateRowHeight = {\n  createDiv: function createDiv(width, style, className) {\n    var temDiv = document.createElement('div');\n    Object.assign(temDiv.style, style);\n    temDiv.className = className;\n    temDiv.style.width = width + 'px';\n    temDiv.style.whiteSpace = 'pre-wrap';\n    temDiv.style.position = 'absolute'; // 使用绝对定位，脱离文档流，独立视图层，重排的应该比较小\n    temDiv.style.wordBreak = 'break-word';\n    temDiv.style.top = '-9999px';\n    document.body.appendChild(temDiv);\n    return temDiv;\n  },\n  destroyDiv: function destroyDiv(temDiv) {\n    document.body.removeChild(temDiv);\n  },\n  // 获取多行文本所需要的高度\n  getNeededRowHeight: function getNeededRowHeight(temDiv, text, defaultHeight, actualWidth) {\n    if (text === null || text === '') return defaultHeight;\n    if (typeof text === 'string') text = text.replace(/\\\\n\\\\r|\\\\n/g, '\\n');\n    if (actualWidth) {\n      temDiv.style.width = actualWidth + 'px';\n    }\n    var textNode = document.createTextNode(text);\n    temDiv.appendChild(textNode);\n    var h = temDiv.offsetHeight;\n    temDiv.removeChild(textNode);\n    h = Math.ceil(h);\n    if (isNaN(h) || h < defaultHeight) h = defaultHeight;\n    return h;\n  }\n};\nvar _default = exports[\"default\"] = calculateRowHeight;\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/rowModel/rowHeight/calculateRowHeight.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/rowModel/rowHeight/getRowHeight.js":
/*!**********************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/rowModel/rowHeight/getRowHeight.js ***!
  \**********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = getRowHeight;\nvar _calculateRowHeight = _interopRequireDefault(__webpack_require__(/*! ./calculateRowHeight */ \"./src/component/web/DataGrid/AgDataGrid/rowModel/rowHeight/calculateRowHeight.js\"));\nvar _GridUtils = __webpack_require__(/*! ../../GridUtils */ \"./src/component/web/DataGrid/AgDataGrid/GridUtils.js\");\nvar _CellClass = _interopRequireDefault(__webpack_require__(/*! ../../CellClass.less */ \"./src/component/web/DataGrid/AgDataGrid/CellClass.less\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n/**\n * aggrid计算行高的回调函数\n * by kechuang\n */\n\nfunction getRowHeight(context) {\n  return function (params) {\n    var node = params.node,\n      data = params.data;\n    var gridOptions = context.gridOptions;\n    // const fireRowHeightCols = gridContrlParams.fireRowHeightCols\n    // const columnDefs = gridState.columnDefs\n    var defaultHeight = gridOptions.rowHeight;\n    if (node.detail) {\n      return gridOptions.detailRowHeight;\n    } else if (node.rowPinned) {\n      return gridOptions.rowHeight;\n    } else {\n      return defaultHeight;\n    }\n    // else if (fireRowHeightCols.length > 0) { // 已加载的列中有多行文本列，需要动态计算\n    //   let targetHeight = defaultHeight\n    //   fireRowHeightCols.forEach((k) => {\n    //     let w = 0\n    //     const col = childrenLookUp(columnDefs, (c) => c.field == k)\n    //     if (col) w = col.width - 2 // 有边框\n    //     if (!context.calcRowHeightTemDiv) {\n    //       context.calcRowHeightTemDiv = calculateRowHeight.createDiv(w, { padding: '2px 8px', fontSize: '12px' }, cellStyles['field'])\n    //     }\n    //     const v = data[k]\n    //     const neededHeight = calculateRowHeight.getNeededRowHeight(context.calcRowHeightTemDiv, v, defaultHeight, w)\n    //     targetHeight = neededHeight > targetHeight ? neededHeight : targetHeight\n    //   })\n    //   return targetHeight\n    // }\n  };\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/rowModel/rowHeight/getRowHeight.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/rowModel/rowMerge/entityMergeModel.js":
/*!*************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/rowModel/rowMerge/entityMergeModel.js ***!
  \*************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.object.values.js */ \"../../node_modules/core-js/modules/es.object.values.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _GridUtils = __webpack_require__(/*! ../../GridUtils */ \"./src/component/web/DataGrid/AgDataGrid/GridUtils.js\");\nvar _mergeInterface = __webpack_require__(/*! ./mergeInterface */ \"./src/component/web/DataGrid/AgDataGrid/rowModel/rowMerge/mergeInterface.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); } /**\n * 行融合模型\n * 管理行融合的状态\n * 1.根据实体关系融合，pkFieldName\n * 2.根据相邻两行的值是否相等来融合\n */\nvar EntityMergeModel = exports[\"default\"] = /*#__PURE__*/function () {\n  function EntityMergeModel(entryentities) {\n    _classCallCheck(this, EntityMergeModel);\n    /** entityRelationInfo={entities:{},mainEntityKey: ,maxLevel} */\n    this.entityRelationInfo = (0, _mergeInterface.buildEntityRelation)(entryentities);\n    this.rowOrder = []; // 行的rk\n    this.lastRow = null;\n    this.spanDetails = {};\n    this.groupBorderCol = []; // 不同实体的分界列\n    this.rowEntityGroup = {}; // 每行的不同实体所跨的行\n    this.suppress = true; // 引入这个变量可以单实体列表中，减少获取span的计算，因为单实体列表的mergeModel也是可能存在的\n    this.mergeRowKey = []; // 记录融合的行，在切换拆分状态的时候需要只需要重新构建这些行，避免整个表格都重新构建\n  }\n  _createClass(EntityMergeModel, [{\n    key: \"reset\",\n    value: function reset() {\n      this.lastRow = null;\n      this.rowOrder = [];\n      this.rowEntityGroup = {};\n      this.spanDetails = {};\n      this.suppress = true;\n      this.mergeRowKey = [];\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.spanDetails = null;\n      this.rowOrder = null;\n      this.entityRelationInfo = null;\n      this.lastRow = null;\n      this.groupBorderCol = null;\n      this.rowEntityGroup = null;\n      this.mergeRowKey = null;\n    }\n  }, {\n    key: \"findBorderCols\",\n    value: function findBorderCols(colDefs) {\n      var _this = this;\n      var lastCol = null;\n      this.groupBorderCol = [];\n      (0, _GridUtils.childrenLoop)(colDefs, function (col) {\n        if (col.hide) return;\n        var enttKey = col.cellRendererParams.entity || '';\n        if (col.field == 'XXfieldXX') enttKey = _this.entityRelationInfo.mainEntityKey;\n        // if (col.field == \"XXfieldXX\") enttKey = this.entityRelationInfo.leafEntityKey;\n        if (lastCol) {\n          if (lastCol.entity !== enttKey) {\n            _this.groupBorderCol.push(lastCol.colId);\n          }\n        }\n        lastCol = {\n          entity: enttKey,\n          colId: col.field\n        };\n      });\n    }\n  }, {\n    key: \"recordRowEntityGroup\",\n    value: function recordRowEntityGroup() {\n      var rowOrder = this.rowOrder,\n        entityRelationInfo = this.entityRelationInfo,\n        rowEntityGroup = this.rowEntityGroup,\n        spanDetails = this.spanDetails;\n      setRowEntityGroup(rowOrder, entityRelationInfo, rowEntityGroup, spanDetails);\n    }\n  }, {\n    key: \"getMainEntityGroup\",\n    value: function getMainEntityGroup(rk) {\n      var enttKey = this.entityRelationInfo.mainEntityKey;\n      return this.getCurrentEntityGroup(rk, enttKey);\n    }\n  }, {\n    key: \"getCurrentEntityGroup\",\n    value: function getCurrentEntityGroup(rk, enttKey) {\n      // 行号有undefined或者-1的情况  需要兼容\n      if (this.rowEntityGroup[rk]) {\n        return this.rowEntityGroup[rk][enttKey] || [rk];\n      } else {\n        return [rk];\n      }\n    }\n  }, {\n    key: \"isEntityGroupBottom\",\n    value: function isEntityGroupBottom(rk, enttKey) {\n      var group = this.getCurrentEntityGroup(rk, enttKey);\n      var length = group.length;\n      if (rk === group[length - 1]) {\n        return true;\n      } else {\n        return false;\n      }\n    }\n  }, {\n    key: \"getCurrentEntitySpan\",\n    value: function getCurrentEntitySpan(rk, enttKey) {\n      if (rk == null) return 1;\n      if (this.entityRelationInfo.entities[enttKey]) {\n        // 在切换单据体的时候，单元格第一次渲染取到的是旧的数据，需要兼容\n        var groupIndex = this.entityRelationInfo.entities[enttKey].groupIndex;\n        var span = this.spanDetails[\"r_\".concat(rk)];\n        // 单元格是异步加载，可能存在第一次第10行单元格未渲染完毕，但是表格数据更新了，这次只有3行，取不到对应行的融合信息导致报错\n        return span ? span[groupIndex] : 1;\n      } else {\n        return 1;\n      }\n    }\n\n    // 拆分显示\n  }, {\n    key: \"getRealEntityGroup\",\n    value: function getRealEntityGroup(rk, enttKey, suppressMergeSelection) {\n      if (suppressMergeSelection) {\n        return this.getCurrentEntityGroup(rk, enttKey);\n      } else {\n        return this.getMainEntityGroup(rk);\n      }\n    }\n  }, {\n    key: \"getMergeRowKey\",\n    value: function getMergeRowKey() {\n      return this.mergeRowKey;\n    }\n  }]);\n  return EntityMergeModel;\n}();\n/** **utils function */\nvar setRowEntityGroup = function setRowEntityGroup(rowOrder, entityRelationInfo) {\n  var rowEntityGroup = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var spanDetails = arguments.length > 3 ? arguments[3] : undefined;\n  var entities = entityRelationInfo.entities;\n  rowOrder.forEach(function (rk) {\n    rowEntityGroup[rk] = {};\n    var rkIndex = rowOrder.indexOf(rk);\n    Object.values(entities).forEach(function (enttInfo) {\n      var key = enttInfo.key;\n      rowEntityGroup[rk][key] = findEntityGroup(rk, rkIndex, enttInfo, rowOrder, spanDetails, rowEntityGroup);\n    });\n  });\n};\nvar findEntityGroup = function findEntityGroup(rk, rkIndex, enttInfo, rowOrder, spanDetails, rowEntityGroup) {\n  var result = [];\n  var groupIndex = enttInfo.groupIndex,\n    key = enttInfo.key;\n  var span = spanDetails[\"r_\".concat(rk)] === undefined ? 1 : spanDetails[\"r_\".concat(rk)][groupIndex];\n  //* *如果同一组的第一个已经算过了，后面都不再遍历计算\n  if (rkIndex > 0 && span > 1) {\n    // TODO:考虑是否生成副本\n    return rowEntityGroup[rowOrder[rkIndex - 1]][key];\n  }\n  // 向前找\n  for (var i = span; i > 0; i--) {\n    result.push(rowOrder[rkIndex - i + 1]);\n  }\n  // 向后找\n  for (var j = rkIndex + 1; j < rowOrder.length; j++) {\n    var curSpan = spanDetails[\"r_\".concat(rowOrder[j])] === undefined ? 1 : spanDetails[\"r_\".concat(rowOrder[j])][groupIndex];\n    // 如果后面的行的合并数值比curSpan大，说明它覆盖了前面的行，还是在一个主组内\n    if (curSpan > span) {\n      result.push(rowOrder[j]);\n    } else {\n      break; // 到达组尾\n    }\n  }\n  return result;\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/rowModel/rowMerge/entityMergeModel.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/rowModel/rowMerge/entitySpanEngine.js":
/*!*************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/rowModel/rowMerge/entitySpanEngine.js ***!
  \*************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = entitySpanEngine;\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.object.values.js */ \"../../node_modules/core-js/modules/es.object.values.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n/**\n * 根据实体来进行行融合的融合引擎\n * 判断同一列两行的值是否相同的依据是\n * 行数据中该列实体的pkFieldName字段的值是否相等\n */\n\nfunction entitySpanEngine(entityMergeModel, data, gridState) {\n  if (!entityMergeModel || !data) return;\n  entityMergeModel.reset();\n  var rk = gridState.rk;\n  data.forEach(function (row) {\n    setRowSpan(entityMergeModel, row, rk);\n  });\n  entityMergeModel.recordRowEntityGroup();\n}\nvar setRowSpan = function setRowSpan(entityMergeModel, row, rk) {\n  var entityRelationInfo = entityMergeModel.entityRelationInfo,\n    lastRow = entityMergeModel.lastRow,\n    spanDetails = entityMergeModel.spanDetails;\n  var entities = entityRelationInfo.entities;\n  var thisRk = row[rk];\n  var thisRowSpan = [];\n  Object.values(entities).forEach(function (enttInfo) {\n    var groupIndex = enttInfo.groupIndex;\n    var span = 1;\n    if (lastRow == null) {\n      span = 1;\n    } else {\n      var lastRk = lastRow[rk];\n      var lastRowSpan = spanDetails[\"r_\".concat(lastRk)];\n      span = getEntitySpan(enttInfo, row, lastRow, entityRelationInfo, thisRowSpan, lastRowSpan);\n      if (span > 1) {\n        entityMergeModel.suppress = false;\n        entityMergeModel.mergeRowKey.push(thisRk);\n      }\n    }\n    thisRowSpan[groupIndex] = span;\n  });\n  spanDetails[\"r_\".concat(thisRk)] = thisRowSpan;\n  entityMergeModel.lastRow = row;\n  entityMergeModel.rowOrder.push(thisRk);\n};\nvar getEntitySpan = function getEntitySpan(enttInfo, row, lastRow, entityRelationInfo, thisRowSpan, lastRowSpan) {\n  var pkFieldName = enttInfo.pkFieldName,\n    parentKey = enttInfo.parentKey,\n    groupIndex = enttInfo.groupIndex,\n    key = enttInfo.key;\n  var entities = entityRelationInfo.entities,\n    mainEntityKey = entityRelationInfo.mainEntityKey;\n  var targetSpan = 1;\n  if (thisRowSpan[groupIndex] !== undefined) return thisRowSpan[groupIndex];\n  if (row.hasOwnProperty(pkFieldName) && row[pkFieldName] === lastRow[pkFieldName]) {\n    if (key === mainEntityKey) {\n      targetSpan = lastRowSpan[groupIndex] + 1;\n    } else {\n      var parentEnttInfo = entities[parentKey];\n      var parentSpan = getEntitySpan(parentEnttInfo, row, lastRow, entityRelationInfo, thisRowSpan, lastRowSpan);\n      if (parentSpan > 1) {\n        targetSpan = lastRowSpan[groupIndex] + 1;\n      }\n    }\n  } else {\n    targetSpan = 1;\n  }\n  return targetSpan;\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/rowModel/rowMerge/entitySpanEngine.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/rowModel/rowMerge/mergeInterface.js":
/*!***********************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/rowModel/rowMerge/mergeInterface.js ***!
  \***********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.array.find.js */ \"../../node_modules/core-js/modules/es.array.find.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.buildEntityRelation = buildEntityRelation;\nexports.getClickColMergeGroup = getClickColMergeGroup;\nexports.getCurrentGroupHeadRowkey = getCurrentGroupHeadRowkey;\nexports.getMainEntityNum = getMainEntityNum;\nexports.getMainGroupHeadRowkey = getMainGroupHeadRowkey;\nexports.getRealRowKey = getRealRowKey;\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.set.js */ \"../../node_modules/core-js/modules/es.set.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nvar _GridUtils = __webpack_require__(/*! ../../GridUtils */ \"./src/component/web/DataGrid/AgDataGrid/GridUtils.js\");\n/**\n * 行融合模型的接口\n * by kehuang\n */\n\n// 获取主组的第一个rowkey\nfunction getMainGroupHeadRowkey(mergeModel, rk) {\n  if (mergeModel) {\n    var mainGroup = mergeModel.getMainEntityGroup(rk);\n    return mainGroup[0];\n  } else {\n    return rk;\n  }\n}\nfunction getCurrentGroupHeadRowkey(mergeModel, enttKey, rk) {\n  if (mergeModel) {\n    var currentGroup = mergeModel.getCurrentEntityGroup(rk, enttKey);\n    return currentGroup[0];\n  } else {\n    return rk;\n  }\n}\nfunction buildEntityRelation(entryentities) {\n  var relationInfo = {\n    entities: {},\n    maxLevel: 0\n  };\n  var maxLevel = 0;\n  var lookup = function lookup(entt, level) {\n    if (entt.parentKey === '') return level;\n    var parentEntt = (0, _GridUtils.find)(entryentities, function (e) {\n      return e.key === entt.parentKey;\n    });\n    if (parentEntt == null) return level;\n    return lookup(parentEntt, level + 1);\n  };\n  entryentities.forEach(function (entt, index) {\n    var level = lookup(entt, 1);\n    if (level >= maxLevel) {\n      relationInfo.leafEntityKey = entt.key;\n      maxLevel = level;\n    }\n    if (entt.parentKey === '') relationInfo.mainEntityKey = entt.key;\n    relationInfo.entities[entt.key] = {\n      key: entt.key,\n      parentKey: entt.parentKey,\n      pkFieldName: entt.pkFieldName,\n      level: level,\n      groupIndex: index\n    };\n  });\n  relationInfo.maxLevel = maxLevel;\n  return relationInfo;\n}\n\n/**\n * 获取选中行的单据数量\n * 与mergeModel有关，所以写在这里\n * @param {*} mergeModel\n * @param {*} rowKeyArr\n */\nfunction getMainEntityNum(mergeModel) {\n  var rowKeyArr = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  if (mergeModel) {\n    var uniqueRowKeys = new Set();\n    rowKeyArr.forEach(function (rk) {\n      var headRowKey = getMainGroupHeadRowkey(mergeModel, rk);\n      uniqueRowKeys.add(headRowKey);\n    });\n    return uniqueRowKeys.size;\n  } else {\n    return rowKeyArr.length;\n  }\n}\n\n/**\n * 获取点击单元格应该合并的行数\n * @param {*} rowKey\n * @param {*} column\n * @param {*} mergeModel\n * @param {*} suppressMergeSelection\n */\nfunction getClickColMergeGroup(rowKey, column, mergeModel, suppressMergeSelection) {\n  if (suppressMergeSelection) {\n    var enttKey = getColEnttKey(column, mergeModel, suppressMergeSelection);\n    return mergeModel.getRealEntityGroup(rowKey, enttKey, suppressMergeSelection);\n  } else {\n    return mergeModel.getMainEntityGroup(rowKey);\n  }\n}\nfunction getColEnttKey(column, mergeModel, suppressMergeSelection) {\n  var entityRelationInfo = mergeModel.entityRelationInfo;\n  if (!column) {\n    return entityRelationInfo.leafEntityKey;\n  }\n  var colId = column.colId,\n    colDef = column.colDef;\n  if (colId === _GridUtils.SELECTIONCOLID) {\n    return suppressMergeSelection ? entityRelationInfo.leafEntityKey : entityRelationInfo.mainEntityKey;\n  } else {\n    return colDef.cellRendererParams.entity || entityRelationInfo.leafEntityKey;\n  }\n}\n\n/**\n * 获取列表行点击时发给后端的行号\n * @param {*} rowKey\n * @param {*} mergeModel\n * @param {*} suppressMergeSelection\n */\nfunction getRealRowKey(rowKey, mergeModel, suppressMergeSelection) {\n  if (suppressMergeSelection) {\n    return rowKey;\n  } else {\n    return getMainGroupHeadRowkey(mergeModel, rowKey);\n  }\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/rowModel/rowMerge/mergeInterface.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/rowModel/rowSelection/rowSelection.js":
/*!*************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/rowModel/rowSelection/rowSelection.js ***!
  \*************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.getClickRowSelected = exports.doGroupSelect = exports.doClickSelect = void 0;\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.some.js */ \"../../node_modules/core-js/modules/es.array.some.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _mergeInterface = __webpack_require__(/*! ../rowMerge/mergeInterface */ \"./src/component/web/DataGrid/AgDataGrid/rowModel/rowMerge/mergeInterface.js\");\n/**\n * 行选中\n * 点击选中，指令选中，融合行选中\n * by kechuang\n */\n\n/**\n * 列表不走aggrid的选中\n * 在行点击事件中来手动选中\n * @param {*} e\n * @param {*} rowKey\n * @param {*} column\n * @param {*} gridContrlParams\n * @param {*} getNodeByRowKey\n */\nvar doClickSelect = exports.doClickSelect = function doClickSelect(e, rowKey, column) {\n  return function (context) {\n    var gridContrlParams = context.gridContrlParams,\n      getNodeByRowKey = context.getNodeByRowKey;\n    if (e && e.node && gridContrlParams.isListView) {\n      var _e$node = e.node,\n        detail = _e$node.detail,\n        parent = _e$node.parent;\n      if (detail) {\n        parent && parent.setSelected(true); // 如果点击的是formdetail,不能反选,而要强制选中其父行\n      } else {\n        // let targetSelected = !selected;\n        // if (mergeModel && !mergeModel.suppress && suppressMergeSelection) {\n        //     targetSelected = getMergeCellRowSelected(rowKey, column, gridContrlParams, getNodeByRowKey);\n        // }\n        var targetSelected = getClickRowSelected(rowKey, e.node, column, gridContrlParams, getNodeByRowKey);\n        e.node.setSelected(targetSelected);\n      }\n    }\n  };\n};\n\n/**\n * 点击某行时，获取最终行选中状态\n * @param {*} rowKey\n * @param {*} node\n * @param {*} column\n * @param {*} gridContrlParams\n * @param {*} getNodeByRowKey\n */\nvar getClickRowSelected = exports.getClickRowSelected = function getClickRowSelected(rowKey, node, column, gridContrlParams, getNodeByRowKey) {\n  var mergeModel = gridContrlParams.mergeModel,\n    suppressMergeSelection = gridContrlParams.suppressMergeSelection;\n  if (mergeModel && !mergeModel.suppress && suppressMergeSelection) {\n    return getMergeCellRowSelected(rowKey, column, gridContrlParams, getNodeByRowKey);\n  } else {\n    return !node.selected;\n  }\n};\n\n/**\n * 拆分显示的时候，点击合并区域，若有一行没有选中则需要选中全部\n * @param {*} rowKey\n * @param {*} column\n * @param {*} gridContrlParams\n * @param {*} getNodeByRowKey\n */\nvar getMergeCellRowSelected = function getMergeCellRowSelected(rowKey, column, gridContrlParams, getNodeByRowKey) {\n  var mergeModel = gridContrlParams.mergeModel,\n    suppressMergeSelection = gridContrlParams.suppressMergeSelection;\n  var groupRk = (0, _mergeInterface.getClickColMergeGroup)(rowKey, column, mergeModel, suppressMergeSelection);\n  var targetSelected = groupRk.some(function (rk) {\n    var node = getNodeByRowKey(rk);\n    return !node.selected;\n  });\n  return targetSelected;\n};\n\n/**\n * 选中融合行\n * @param {*} groupRks\n * @param {*} targetSelected\n */\nvar doGroupSelect = exports.doGroupSelect = function doGroupSelect(groupRks, targetSelected) {\n  return function (context) {\n    var gridOptions = context.gridOptions,\n      getNodeByRowKey = context.getNodeByRowKey;\n    // if (gridOptions.rowSelection === 'single') return // 单选不操作\n    var length = groupRks.length;\n    var lastNode = getNodeByRowKey(groupRks[length - 1]);\n    if (gridOptions.rowSelection === 'single' && length > 1 && targetSelected) {\n      var firstNode = getNodeByRowKey(groupRks[0]);\n      lastNode = getNodeByRowKey(groupRks[length - 1]);\n      if (firstNode && lastNode) {\n        firstNode.setSelected(targetSelected);\n        lastNode.doRowRangeSelection();\n      }\n    } else {\n      groupRks.forEach(function (rk, index) {\n        var node = getNodeByRowKey(rk);\n        if (node) {\n          node.setSelected(targetSelected);\n        }\n      });\n    }\n  };\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/rowModel/rowSelection/rowSelection.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/rowModel/rowSelection/shiftSelection.js":
/*!***************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/rowModel/rowSelection/shiftSelection.js ***!
  \***************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.doShiftSelect = void 0;\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _rowSelection = __webpack_require__(/*! ./rowSelection */ \"./src/component/web/DataGrid/AgDataGrid/rowModel/rowSelection/rowSelection.js\");\n/**\n * 列表的shift选中\n * shfit选中，要先click选中一行之后才有用\n * 注意行融合的出路，拆分和不拆分是不一样的\n * by kechuang\n */\n\n/**\n * shift选中\n * @param {*} e\n * @param {*} column\n */\nvar doShiftSelect = exports.doShiftSelect = function doShiftSelect(node, lastClickedNode, _ref) {\n  var data = _ref.data,\n    column = _ref.column,\n    rk = _ref.rk,\n    getNodeByRowKey = _ref.getNodeByRowKey,\n    getNodeByRowIndex = _ref.getNodeByRowIndex,\n    gridContrlParams = _ref.gridContrlParams,\n    postRowSelection = _ref.postRowSelection;\n  var rowKey = data[rk];\n  var boundary = getBoundaryRowIndex(node, lastClickedNode);\n  var targetSelected = (0, _rowSelection.getClickRowSelected)(rowKey, node, column, gridContrlParams, getNodeByRowKey);\n  groupSelect(boundary, targetSelected, {\n    rk: rk,\n    gridContrlParams: gridContrlParams,\n    getNodeByRowKey: getNodeByRowKey,\n    getNodeByRowIndex: getNodeByRowIndex\n  });\n  postRowSelection();\n  // 融合行的选中逻辑已经在groupSelect里面处理了,不需要调用selectByGroup\n  // selectByGroup(e, null, true, postRowSelection)\n};\nvar groupSelect = function groupSelect(boundary, targetSelected, _ref2) {\n  var rk = _ref2.rk,\n    gridContrlParams = _ref2.gridContrlParams,\n    getNodeByRowKey = _ref2.getNodeByRowKey,\n    getNodeByRowIndex = _ref2.getNodeByRowIndex;\n  var from = boundary.from,\n    to = boundary.to;\n  var mergeModel = gridContrlParams.mergeModel,\n    suppressMergeSelection = gridContrlParams.suppressMergeSelection;\n  if (to === from) return;\n  for (var i = from; i <= to; i++) {\n    var currNode = getNodeByRowIndex(i);\n    if (mergeModel && !mergeModel.suppress && !suppressMergeSelection) {\n      var rowKey = currNode.data[rk];\n      var groupRks = mergeModel.getMainEntityGroup(rowKey);\n      groupRks.forEach(function (k) {\n        var node = getNodeByRowKey(k);\n        node && reserveSelect(node, targetSelected);\n      });\n    } else {\n      reserveSelect(currNode, targetSelected);\n    }\n  }\n};\nvar getBoundaryRowIndex = function getBoundaryRowIndex(node, lastNode) {\n  var currIndex = node.rowIndex;\n  var lastIndex = lastNode.rowIndex;\n  if (currIndex > lastIndex) {\n    return {\n      from: lastIndex,\n      to: currIndex\n    };\n  } else {\n    return {\n      from: currIndex,\n      to: lastIndex\n    };\n  }\n};\nvar reserveSelect = function reserveSelect(node, targetSelected) {\n  node.setSelected(targetSelected);\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/rowModel/rowSelection/shiftSelection.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/rowModel/rowStyle/getRowStyle.js":
/*!********************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/rowModel/rowStyle/getRowStyle.js ***!
  \********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.buildRowStyleRules = buildRowStyleRules;\nexports.getRowClassRules = getRowClassRules;\nexports.getRowStyle = getRowStyle;\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _exprEval = __webpack_require__(/*! expr-eval */ \"./node_modules/expr-eval/dist/bundle.js\");\nvar _GridUtils = __webpack_require__(/*! ../../GridUtils */ \"./src/component/web/DataGrid/AgDataGrid/GridUtils.js\");\nvar _console = _interopRequireDefault(__webpack_require__(/*! ../../../../../../api/console */ \"./src/api/console.js\"));\nvar _expressionAnalys = __webpack_require__(/*! ../../../../../../util/expressionAnalys */ \"./src/util/expressionAnalys.js\");\nvar _util = __webpack_require__(/*! ../../CellRenderer/util */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/util.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n/**\n * aggrid回调函数\n * 获取行级样式,行样式规则\n * by kechuang\n */\n\n// TODO:是否抽出去\n\n// 数据上的带的样式优先级要高于元数据上的带的\nfunction getRowStyle(context) {\n  return function (params) {\n    var data = params.data;\n    if (data && data.isEmptyChildRow) {\n      // 隐藏树形单据体懒加载手动添加的无用行\n      return {\n        display: 'none'\n      };\n    }\n    var rowStyleRules = context.rowStyleRules,\n      dataDesc = context.dataDesc,\n      gridState = context.gridState,\n      gridContrlParams = context.gridContrlParams;\n    var dataindex = dataDesc.dataindex;\n    var rowStyle = {};\n    if (data === undefined) return rowStyle;\n    if (Array.isArray(rowStyleRules) && rowStyleRules.length > 0) {\n      var _data = (0, _GridUtils.getRowDataWithOriginalCellValue)(data, gridContrlParams.isufColumns);\n      rowStyleRules.forEach(function (f) {\n        try {\n          var style = f(_data, true);\n          if (style) {\n            Object.assign(rowStyle, style);\n          }\n        } catch (e) {\n          _console[\"default\"].warn('row style rule error!');\n        }\n      });\n    }\n    var styleIndex = dataindex && dataindex.s;\n    if (styleIndex >= 0) {\n      var styleObj = data.s ? data.s.s : null;\n      // 解析样式对象\n      if (styleObj) {\n        Object.assign(rowStyle, (0, _GridUtils.getStyleInObj)(gridState.config || {}, styleObj));\n      }\n    }\n    return rowStyle;\n  };\n}\nfunction getRowClassRules(context) {\n  return {\n    'mergeed-row': function mergeedRow(params) {\n      var data = params.data;\n      var _context$gridContrlPa = context.gridContrlParams,\n        gridContrlParams = _context$gridContrlPa === void 0 ? {} : _context$gridContrlPa;\n      if (data !== undefined && gridContrlParams.mergeModel) {\n        var rk = context.gridState.rk;\n        var rkVal = data[rk];\n        var _gridContrlParams$mer = gridContrlParams.mergeModel,\n          rowEntityGroup = _gridContrlParams$mer.rowEntityGroup,\n          entityRelationInfo = _gridContrlParams$mer.entityRelationInfo;\n        var rowGroup = rowEntityGroup[rkVal];\n        var mainEntityMergeArray = rowGroup && rowGroup[entityRelationInfo.mainEntityKey];\n        if (mainEntityMergeArray && mainEntityMergeArray[mainEntityMergeArray.length - 1] !== rkVal) {\n          return true;\n        }\n      }\n      return false;\n    },\n    'odd-row-with-merge': function oddRowWithMerge(params) {\n      var data = params.data;\n      var _context$gridContrlPa2 = context.gridContrlParams,\n        gridContrlParams = _context$gridContrlPa2 === void 0 ? {} : _context$gridContrlPa2,\n        getMergeModel = context.getMergeModel,\n        gridState = context.gridState;\n      var mergeModel = getMergeModel && getMergeModel();\n      if (data !== undefined && mergeModel && !mergeModel.suppress) {\n        var rk = gridState.rk;\n        var isAlternatelyRowsStyle = gridContrlParams.isAlternatelyRowsStyle;\n        if (isAlternatelyRowsStyle && (0, _util.getIsOddRow)(mergeModel, data[rk])) {\n          return true;\n        }\n      }\n      return false;\n    }\n  };\n}\n\n// 解析表格的行样式规则\nfunction buildRowStyleRules(rules, config) {\n  var rowStyleRules = [];\n  // rSR =fromJS([{cond:'fseq % 2 = 0',style: { fc: 'red', bc: 'green' }}]); 数据格式\n  if (Array.isArray(rules) && rules.length > 0) {\n    rules.forEach(function (r) {\n      var expression = (0, _expressionAnalys.analysClientAction)(r.cond);\n      var expr;\n      try {\n        expr = _exprEval.Parser.parse(expression);\n      } catch (error) {\n        _console[\"default\"].warn(error, expression);\n      }\n      var syl = (0, _GridUtils.getStyleInObj)(config, r.style);\n      rowStyleRules.push(function (variables) {\n        var filter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n        if (expr.evaluate(variables) === filter) {\n          return syl;\n        }\n      });\n    });\n  }\n  return rowStyleRules;\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/rowModel/rowStyle/getRowStyle.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/treeTable/defineTreeEntry.js":
/*!****************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/treeTable/defineTreeEntry.js ***!
  \****************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.defineTreeEntryOptions = void 0;\nvar defineTreeEntryOptions = exports.defineTreeEntryOptions = function defineTreeEntryOptions(meta, gridOptions, gridContrlParams, rowKey) {\n  var isTreeTable = meta.get('treeentry');\n  if (isTreeTable) {\n    gridOptions.treeData = true;\n    gridOptions.getDataPath = function (dataItem) {\n      return dataItem.path;\n    };\n    // gridOptions.autoGroupColumnDef = {\n    //   headerName: 'Organisation Hierarchy',\n    //   minWidth: 300,\n    //   cellRendererParams: { suppressCount: true },\n    // }\n    // gridOptions.groupDefaultExpanded = -1\n    gridOptions.groupSuppressAutoColumn = true;\n    if (!gridContrlParams.treeTable) {\n      gridContrlParams.treeTable = {\n        key: 'id',\n        parentKey: 'pid',\n        isTreeTable: true,\n        expandedNodes: []\n      };\n    }\n  }\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/treeTable/defineTreeEntry.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/treeTable/defineTreeIndexCol.js":
/*!*******************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/treeTable/defineTreeIndexCol.js ***!
  \*******************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = defineTreeIndexCol;\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\nvar _GridUtils = __webpack_require__(/*! ../GridUtils */ \"./src/component/web/DataGrid/AgDataGrid/GridUtils.js\");\nvar _CellRenderer = __webpack_require__(/*! ../CellRenderer */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/index.js\");\nvar _serverproperties = __webpack_require__(/*! ../../../../../constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _colHeader = _interopRequireDefault(__webpack_require__(/*! ../columnModel/columnProperty/colHeader */ \"./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/colHeader.js\"));\nvar _LightRender = __webpack_require__(/*! ../CellRenderer/LightRender */ \"./src/component/web/DataGrid/AgDataGrid/CellRenderer/LightRender.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; } /**\n * 定义树形单据体的索引列（展开/收缩）\n * 除选择列、分组列之外的第一个可见列，索引列不可编辑\n * 索引列的渲染器的\n * by kechuang\n */\nfunction defineTreeIndexCol(colDefs, rowKey, styles, gridContrlParams, seq, cols, isServerModeTable) {\n  if (gridContrlParams.treeTable && gridContrlParams.treeTable.isTreeTable || gridContrlParams.treeVirtualView) {\n    var indexColDef = null;\n    var rowKeyCol = null;\n    // TODO 设置展开列的逻辑有缺陷，需要调整\n    var _iterator = _createForOfIteratorHelper(colDefs),\n      _step;\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var colItem = _step.value;\n        if (colItem.field === rowKey) rowKeyCol = colItem;\n        if (!colItem.hide && colItem.field !== null && colItem.field !== _GridUtils.SELECTIONCOLID && !colItem.isGroupColumn && isNotTreeVirtualViewExpectCol(gridContrlParams.treeVirtualView, colItem, seq)) {\n          var colType = colItem.cellRendererParams.type;\n\n          // 后端有设置展开列则取展开列，否则取第一个文本列或者序号列\n          if (gridContrlParams.treeExpandColId) {\n            if (gridContrlParams.treeVirtualView && colItem.field === gridContrlParams.treeExpandColId) {\n              var isLightRenderType = (0, _LightRender.canUseLightRender)({\n                colType: colType,\n                needMerge: !!gridContrlParams.mergeModel,\n                editable: gridContrlParams.gridEditable && colItem.editable,\n                hasCellTips: colItem.cellRendererParams.hasCellTips,\n                showPrivateIcon: colItem.cellRendererParams.showPrivateIcon\n              });\n              if (isLightRenderType) {\n                indexColDef = colItem;\n                break;\n              }\n            }\n          } else {\n            if (!colItem.editable && gridContrlParams.gridEditable === false && (colType === _serverproperties.Ctrls.KDText || colType === 'other')) {\n              // 和原先展开列逻辑保持一致\n              indexColDef = colItem;\n              break;\n            }\n            if (!colItem.editable && colItem.cellRenderer !== undefined && colItem.field === seq) {\n              // 无行内增删的序号列\n              indexColDef = colItem;\n              break;\n            }\n          }\n        }\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n    if (!indexColDef && !rowKeyCol) return;\n    if (!indexColDef) indexColDef = rowKeyCol || {};\n    gridContrlParams.treeTable && setTreeEntryParams(gridContrlParams, indexColDef);\n    gridContrlParams.treeVirtualView && setTreeVirtualViewParams(gridContrlParams, indexColDef);\n    indexColDef.hide = false;\n    indexColDef.treeGroup = true; // 索引列的标记\n    indexColDef.cellRendererParams.suppressCount = true;\n    // ag-row-group-indent-level  这个类是aggrid推荐的设置缩进的方式，但是递进的数值是10px，不符合我们的场景\n    indexColDef.cellRendererParams.padding = 18;\n    // 展开列默认锁定\n    indexColDef.cellRendererParams.colLocked = true;\n    indexColDef.minWidth = 30;\n    indexColDef.sortable = false;\n    indexColDef.filter = isSupportFilter(indexColDef, cols, rowKey);\n    indexColDef.suppressFiltersToolPanel = false;\n    // indexColDef.menuTabs = []\n    delete indexColDef.cellRendererFramework;\n    indexColDef.cellRenderer = 'agGroupCellRenderer';\n    indexColDef.cellRendererParams.oldRenderer = {\n      t: 'original',\n      e: indexColDef.cellRenderer\n    };\n    var oldCellClass = indexColDef.cellClass;\n    indexColDef.cellClass = typeof oldCellClass === 'function' ? function (params) {\n      return oldCellClass(params) + ' ' + styles.groupTextStyle;\n    } : oldCellClass + ' ' + styles.groupTextStyle;\n    if (indexColDef.field === rowKey) {\n      indexColDef.headerName = '';\n      indexColDef.cellRendererParams.groupHeaderName = '';\n      indexColDef.cellRendererParams.innerRenderer = function (params) {\n        return '';\n      };\n    } else {\n      indexColDef.cellRendererParams.innerRenderer = _CellRenderer.LightRender;\n    }\n    indexColDef = (0, _colHeader[\"default\"])(indexColDef, gridContrlParams, isServerModeTable);\n  }\n}\nfunction setTreeEntryParams(gridContrlParams, indexColDef) {\n  gridContrlParams.treeTable.treeIndexCol = indexColDef && indexColDef.field;\n}\nfunction setTreeVirtualViewParams(gridContrlParams, indexColDef) {\n  gridContrlParams.treeVirtualView.treeIndexCol = indexColDef && indexColDef.field;\n  // 可以设置格式化值\n  // indexColDef.valueGetter = function (params) {\n  //   const { data } = params\n  //   return gridContrlParams.treeVirtualView.treeIndexCol ? data[gridContrlParams.treeVirtualView.treeIndexCol] : ''\n  // }\n}\nfunction isNotTreeVirtualViewExpectCol(treeVirtualView, colItem, seq) {\n  // 树形报表排除合并列表字段或者是序号列\n  return treeVirtualView ? colItem.field !== seq && colItem.cellRendererParams && colItem.cellRendererParams.isCombined !== true : true;\n}\nvar isSupportFilter = function isSupportFilter(indexColDef, cols, rowKey) {\n  var field = indexColDef.field;\n  if (field === rowKey) return false;\n  var colMeta = (0, _GridUtils.childrenLookUp)(cols, function (item) {\n    return item.dataIndex === field;\n  });\n  return (colMeta === null || colMeta === void 0 ? void 0 : colMeta.filter) !== false;\n};\n\n/**\n * TODO\n *由于innerRenderer只能是原始的组件，不能用react组件\n * 需要在后面渲染器修改之后，再来修改这里\n */\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/treeTable/defineTreeIndexCol.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/treeTable/index.js":
/*!******************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/treeTable/index.js ***!
  \******************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nObject.defineProperty(exports, \"anyTreeExpandOrCollapse\", ({\n  enumerable: true,\n  get: function get() {\n    return _treeUtils.anyTreeExpandOrCollapse;\n  }\n}));\nObject.defineProperty(exports, \"defineTreeEntry\", ({\n  enumerable: true,\n  get: function get() {\n    return _treeDefinition.defineTreeEntry;\n  }\n}));\nObject.defineProperty(exports, \"defineTreeIndexCol\", ({\n  enumerable: true,\n  get: function get() {\n    return _defineTreeIndexCol[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"defineTreeVirtualView\", ({\n  enumerable: true,\n  get: function get() {\n    return _treeDefinition.defineTreeVirtualView;\n  }\n}));\nObject.defineProperty(exports, \"handleExpandCollapseAction\", ({\n  enumerable: true,\n  get: function get() {\n    return _treeUtils.handleExpandCollapseAction;\n  }\n}));\nObject.defineProperty(exports, \"handleGroupRowOpended\", ({\n  enumerable: true,\n  get: function get() {\n    return _treeUtils.handleGroupRowOpended;\n  }\n}));\nvar _treeDefinition = __webpack_require__(/*! ./treeDefinition */ \"./src/component/web/DataGrid/AgDataGrid/treeTable/treeDefinition.js\");\nvar _defineTreeIndexCol = _interopRequireDefault(__webpack_require__(/*! ./defineTreeIndexCol */ \"./src/component/web/DataGrid/AgDataGrid/treeTable/defineTreeIndexCol.js\"));\nvar _treeUtils = __webpack_require__(/*! ./treeUtils */ \"./src/component/web/DataGrid/AgDataGrid/treeTable/treeUtils.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/treeTable/index.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/treeTable/treeDefinition.js":
/*!***************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/treeTable/treeDefinition.js ***!
  \***************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-properties.js */ \"../../node_modules/core-js/modules/es.object.define-properties.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptors.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.buildTreeVirtualViewOption = buildTreeVirtualViewOption;\nexports.defineTreeEntry = defineTreeEntry;\nexports.defineTreeVirtualView = defineTreeVirtualView;\nexports.getNodeChildDetails = getNodeChildDetails;\nexports.getTreeEntryData = void 0;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; } /**\n * 树形单据体定义 入口文件\n * by kechuang  使用aggrid-v14的api\n * 尝试升级v15的接口，性能好像没有什么提升\n * 但是新接口对虚模式支持不是很方便，暂时不升\n * 树形单据体的状态,由这里生成状态，统一维护\n * this.gridContrlParams.treeTable={key,parentKey,isTreeTable,expandedNodes,treeIndexCol,nodeNums}\n */\n// 设置树表的配置项\nfunction defineTreeEntry(meta, gridOptions, gridContrlParams) {\n  var isTreeTable = meta.get('treeentry');\n  if (isTreeTable) {\n    if (!gridContrlParams.treeTable) {\n      gridContrlParams.treeTable = {\n        key: 'id',\n        parentKey: 'pid',\n        isTreeTable: true,\n        expandedNodes: []\n      };\n    }\n    gridOptions.enableGroupEdit = true; // 树形单据体的分组索引列不支持编辑，硬性要求,但是非叶子节点需要编辑\n    // TODO:aggrid支持组节点全选，但是和我们的选中机制有冲突，暂时没有实现，重构完成需要支持\n    // gridOptions.groupSelectsChildren = true;\n    // 这个方法只能初始定义一次，后面定义的无法覆盖，aggrid内部会暂存第一次赋值以及上下文***\n    gridOptions.getNodeChildDetails = getNodeChildDetails.bind(gridContrlParams);\n  }\n}\nfunction getNodeChildDetails(node) {\n  if (node.isgroupnode || node.children) {\n    return {\n      group: true,\n      children: node.children || [],\n      // this is not used, however it is available to the cellRenderers,\n      // if you provide a custom cellRenderer, you might use it. it's more\n      // relavent if you are doing multi levels of groupings, not just one\n      // as in this example.\n      expanded: this.treeTable.expandedNodes.includes(node.id),\n      field: '',\n      // the key is used by the default group cellRenderer\n      key: 'clickExpanded'\n    };\n  } else {\n    return null;\n  }\n}\n\n/**\n * 树形报表 主要是定义treeVirtualView状态 和 ag关于树形serverSide模式的定义\n * this.gridContrlParams.treeVirtualView={key,parentKey,expandedNodes,treeIndexCol}\n */\nfunction defineTreeVirtualView(meta, gridOptions, gridContrlParams, rowKey) {\n  var isTreeVirtualView = gridContrlParams.isVirtualView && meta.get('istreevirtualviewgrid');\n  if (isTreeVirtualView) {\n    if (!gridContrlParams.treeVirtualView) {\n      gridContrlParams.treeVirtualView = {\n        key: 'rowid',\n        parentKey: 'pid',\n        expandedNodes: []\n      };\n    }\n    gridOptions = Object.assign(gridOptions, buildTreeVirtualViewOption(rowKey));\n  }\n}\nfunction buildTreeVirtualViewOption(rowKey) {\n  return {\n    treeData: true,\n    groupSuppressAutoColumn: true,\n    // 禁止自动的树展开节点,只能一开始定义\n    // 是否显示树节点\n    isServerSideGroup: function isServerSideGroup(dataItem) {\n      return dataItem.isgroupnode;\n    },\n    // 树组key\n    getServerSideGroupKey: function getServerSideGroupKey(dataItem) {\n      return dataItem[rowKey];\n    }\n  };\n}\nvar getTreeEntryData = exports.getTreeEntryData = function getTreeEntryData(treeTable, rowData, rk, showTreeSeq) {\n  var newData = [];\n  treeDataAddPath({\n    treeTable: treeTable,\n    rk: rk,\n    rowData: rowData,\n    newData: newData,\n    showTreeSeq: showTreeSeq\n  });\n  return newData;\n};\nvar treeDataAddPath = function treeDataAddPath(_ref) {\n  var treeTable = _ref.treeTable,\n    rk = _ref.rk,\n    rowData = _ref.rowData,\n    newData = _ref.newData,\n    showTreeSeq = _ref.showTreeSeq,\n    _ref$path = _ref.path,\n    path = _ref$path === void 0 ? [] : _ref$path,\n    _ref$prefix = _ref.prefix,\n    prefix = _ref$prefix === void 0 ? '' : _ref$prefix,\n    _ref$rowSeq = _ref.rowSeq,\n    rowSeq = _ref$rowSeq === void 0 ? {\n      index: 1\n    } : _ref$rowSeq;\n  var _index = 0;\n  rowData.forEach(function (item) {\n    var id = item.id,\n      isgroupnode = item.isgroupnode,\n      children = item.children;\n    var _path = _toConsumableArray(path);\n    _path.push(id);\n    item.path = _path;\n    var treeSeq = '';\n    item.seq = rowSeq.index;\n    // 如果有子项且展示树形序号（1.1, 1.1.1这种形式）时，行序号不需要增加\n    if (!showTreeSeq || !children) {\n      rowSeq.index++;\n    }\n    if (showTreeSeq) {\n      treeSeq = \"\".concat(prefix).concat(prefix && '.').concat(++_index);\n      item.seq = treeSeq;\n    }\n    if (isgroupnode && !children) {\n      treeTable.isLazyLoadTree = true;\n      item.isLazyLoadGroupNode = true;\n      newData.push(item);\n      var emptyChildRow = getEmptyChildRow(item, rk);\n      newData.push(emptyChildRow);\n      return;\n    }\n    newData.push(item);\n    if (children) {\n      treeDataAddPath({\n        treeTable: treeTable,\n        rk: rk,\n        rowData: children,\n        newData: newData,\n        showTreeSeq: showTreeSeq,\n        path: _path,\n        prefix: treeSeq,\n        rowSeq: rowSeq\n      });\n    }\n  });\n};\nvar getEmptyChildRow = function getEmptyChildRow(row, rk) {\n  var path = row.path,\n    id = row.id;\n  return _objectSpread(_objectSpread({}, row), {}, _defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty({}, rk, \"empty_rk_\".concat(row[rk])), \"id\", \"empty_id_\".concat(id)), \"path\", path.concat([\"empty_id_\".concat(id)])), \"isLazyLoadGroupNode\", false), \"isEmptyChildRow\", true));\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/treeTable/treeDefinition.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/treeTable/treeUtils.js":
/*!**********************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/treeTable/treeUtils.js ***!
  \**********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.anyTreeExpandOrCollapse = anyTreeExpandOrCollapse;\nexports.getGroupByParent = exports.expandNode = exports.expandLastExpanded = exports.expandAllNodeBySelectNode = exports.expandAllNode = exports.createTreeData = exports.collapseNode = exports.collapseAllNodeBySelectNode = exports.collapseAllNode = exports.buildTreeData = void 0;\nexports.handleExpandCollapseAction = handleExpandCollapseAction;\nexports.handleGroupRowOpended = handleGroupRowOpended;\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.array.reduce.js */ \"../../node_modules/core-js/modules/es.array.reduce.js\");\n__webpack_require__(/*! core-js/modules/es.array.splice.js */ \"../../node_modules/core-js/modules/es.array.splice.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.timers.js */ \"../../node_modules/core-js/modules/web.timers.js\");\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n/**\n * 树形单据体的操作的方法\n * 包括响应后端的指令，已经用户的点击展开\n * by kechuang\n */\n\nvar ROOTID = '0';\n// 用户的点击展开收缩才会触发这个方法，指令展开不会触发这个回调函数\nfunction handleGroupRowOpended(params, treeTable, model, invokeControlMethodOnly, columnApi, api, rk) {\n  recordOpenedState(params, treeTable);\n  postExpandNodes(treeTable, model, invokeControlMethodOnly);\n  var node = params.node;\n  if (node && node.expanded) {\n    var _node$data = node.data,\n      isLazyLoadGroupNode = _node$data.isLazyLoadGroupNode,\n      id = _node$data.id;\n    if (isLazyLoadGroupNode) {\n      // node.expanded = false\n      // api.onGroupExpandedOrCollapsed()\n      loadChildrenDatas(id, node.data[rk], model, invokeControlMethodOnly);\n    }\n  }\n}\n\n// 记录树形单据体的展开节点id\nvar recordOpenedState = function recordOpenedState(params, treeTable) {\n  var id = params.data && params.data.id;\n  var expanded = params.node && params.node.expanded;\n  var expandedNodes = treeTable.expandedNodes;\n  var index = expandedNodes.indexOf(id);\n  if (id && index > -1 && !expanded) {\n    expandedNodes.splice(index, 1);\n    return;\n  }\n  if (expanded && index === -1) {\n    expandedNodes.push(id);\n  }\n};\n\n// 动态加载子节点\nvar loadChildrenDatas = function loadChildrenDatas(id, rkVal, model, invokeControlMethodOnly) {\n  invokeControlMethodOnly(model, 'loadChildrenData', [{\n    id: id,\n    rowkey: rkVal\n  }]);\n};\n\n// 将展开的节点id发到后端\nvar postExpandNodes = function postExpandNodes(treeTable, model, invokeControlMethodOnly) {\n  var expandedNodes = treeTable.expandedNodes;\n  invokeControlMethodOnly(model, 'postExpandNodes', [expandedNodes]);\n};\nvar expandLastExpanded = exports.expandLastExpanded = function expandLastExpanded(api, gridContrlParams, gridRows, rk) {\n  var treeTable = gridContrlParams.treeTable;\n  var expandedNodes = treeTable.expandedNodes;\n  var expandedRks = gridRows.filter(function (row) {\n    return expandedNodes.includes(row.id);\n  }).map(function (row) {\n    return row[rk];\n  });\n  expandedRks.forEach(function (rk) {\n    var node = api.getRowNode(rk);\n    if (node) {\n      node.expanded = true;\n    }\n  });\n  api.onGroupExpandedOrCollapsed();\n};\n\n// 响应后端的展开收缩指令\nfunction handleExpandCollapseAction(args) {\n  var delayFuncs = args.delayFuncs;\n  var holdFuns = [];\n  var nextModel = args.nextModel,\n    getColumnApi = args.getColumnApi,\n    nextProps = args.nextProps,\n    gridContrlParams = args.gridContrlParams,\n    thisModel = args.thisModel,\n    thisProps = args.thisProps,\n    getContextProp = args.getContextProp;\n  if (!gridContrlParams.treeTable) return;\n  controlExpand(args, holdFuns);\n  controlCollapse(args, holdFuns);\n  var useModel = nextModel || thisModel; // 初次渲染nextModel、nextProps为null\n  var useProps = nextProps || thisProps;\n  sortExecute(delayFuncs, holdFuns, useModel, getColumnApi, useProps, gridContrlParams.treeTable, getContextProp);\n  delayFuncs.push(function () {\n    // 初始化列宽自适应不做，等到展开行后再去监听\n    var reSizeHeight = getContextProp('reSizeHeight');\n    reSizeHeight({});\n  });\n}\n\n// 按指令的顺序来排列展开操作的执行顺序\nvar sortExecute = function sortExecute(delayFuncs, holdFuns, nextModel, getColumnApi, nextProps, treeTable, getContextProp) {\n  // 一次指令最多之后触发一次收缩和展开\n  var addEventForDelayAutoSizeColumns = getContextProp('addEventForDelayAutoSizeColumns');\n  if (holdFuns.length === 0) {\n    setTimeout(function () {\n      addEventForDelayAutoSizeColumns();\n    }, 0);\n    return;\n  } else if (holdFuns.length === 1) {\n    delayFuncs.push(holdFuns[0].func);\n  } else {\n    if (holdFuns[0].timeStamp > holdFuns[1].timeStamp) {\n      delayFuncs.push(holdFuns[1].func);\n      delayFuncs.push(holdFuns[0].func);\n    } else {\n      delayFuncs.push(holdFuns[0].func);\n      delayFuncs.push(holdFuns[1].func);\n    }\n  }\n  delayFuncs.push(function () {\n    setTimeout(function () {\n      // 延迟执行设置列宽add\n      // 初始化列宽自适应不做，等到展开行后再去监听\n      addEventForDelayAutoSizeColumns();\n    }, 0);\n  });\n  delayFuncs.push(function () {\n    postExpandNodes(treeTable, nextModel, nextProps.invokeControlMethodOnly);\n  });\n};\n\n// 操作expand\nvar controlExpand = function controlExpand(args, holdFuns) {\n  var thisModel = args.thisModel,\n    nextModel = args.nextModel,\n    getApi = args.getApi,\n    gridContrlParams = args.gridContrlParams;\n  if (nextModel == null || !(0, _immutable.is)(thisModel.getDataProperty(['expandState']), nextModel.getDataProperty(['expandState']))) {\n    var usedModel = nextModel == null ? thisModel : nextModel;\n    var rowKey = usedModel.getDataProperty(['expandState', 'rowKey']);\n    var isAll = usedModel.getDataProperty(['expandState', 'isAll']);\n    var timeStamp = usedModel.getDataProperty(['expandState', 'timeStamp']);\n    if (rowKey != null) {\n      rowKey = rowKey ? rowKey.toJS() : [];\n      if (isAll) {\n        if (rowKey.length > 0) {\n          holdFuns.push({\n            timeStamp: timeStamp,\n            func: function func() {\n              expandAllNodeBySelectNode(rowKey, getApi(), gridContrlParams.treeTable);\n            }\n          });\n        } else {\n          holdFuns.push({\n            timeStamp: timeStamp,\n            func: function func() {\n              expandAllNode(getApi(), gridContrlParams.treeTable);\n            }\n          });\n        }\n      } else {\n        if (rowKey.length > 0) {\n          holdFuns.push({\n            timeStamp: timeStamp,\n            func: function func() {\n              expandNode(rowKey, getApi(), gridContrlParams.treeTable);\n            }\n          });\n        }\n      }\n    }\n  }\n};\nvar controlCollapse = function controlCollapse(args, holdFuns) {\n  var thisModel = args.thisModel,\n    nextModel = args.nextModel,\n    getApi = args.getApi,\n    gridContrlParams = args.gridContrlParams;\n  if (nextModel == null || !(0, _immutable.is)(thisModel.getDataProperty(['collapseState']), nextModel.getDataProperty(['collapseState']))) {\n    var usedModel = nextModel == null ? thisModel : nextModel;\n    var rowKey = usedModel.getDataProperty(['collapseState', 'rowKey']);\n    var isAll = usedModel.getDataProperty(['collapseState', 'isAll']);\n    var timeStamp = usedModel.getDataProperty(['collapseState', 'timeStamp']);\n    if (rowKey != null) {\n      rowKey = rowKey ? rowKey.toJS() : [];\n      if (isAll) {\n        if (rowKey.length > 0) {\n          holdFuns.push({\n            timeStamp: timeStamp,\n            func: function func() {\n              collapseAllNodeBySelectNode(rowKey, getApi(), gridContrlParams.treeTable);\n            }\n          });\n        } else {\n          holdFuns.push({\n            timeStamp: timeStamp,\n            func: function func() {\n              collapseAllNode(getApi(), gridContrlParams.treeTable);\n            }\n          });\n        }\n      } else {\n        if (rowKey.length > 0) {\n          holdFuns.push({\n            timeStamp: timeStamp,\n            func: function func() {\n              collapseNode(rowKey, getApi(), gridContrlParams.treeTable);\n            }\n          });\n        }\n      }\n    }\n  }\n};\n\n/**\n * 是否存在展开关闭列操作，跟holdFuns设置保持一致保持\n * @param {*} model\n * @returns\n */\nfunction anyTreeExpandOrCollapse(model) {\n  var expandState = model.getDataProperty(['expandState']);\n  if (expandState) {\n    var rowKeys = expandState.get('rowKey');\n    if (rowKeys != null && (expandState.get('isAll') || rowKeys.size > 0)) {\n      return true;\n    }\n  }\n  var collapseState = model.getDataProperty(['collapseState']);\n  if (collapseState) {\n    var _rowKeys = collapseState.get('rowKey');\n    if (_rowKeys != null && (collapseState.get('isAll') || _rowKeys.size > 0)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n// 展开树表的所有节点\nvar expandAllNode = exports.expandAllNode = function expandAllNode(api, treeTable) {\n  if (!api) return;\n  api.expandAll();\n  api.forEachNode(function (node) {\n    if (node && node.data.isLazyLoadGroupNode) {\n      // 不展开懒加载的行\n      node.expanded = false;\n      recordFrozenOpenedState(node, treeTable, false);\n    } else {\n      recordFrozenOpenedState(node, treeTable, true);\n    }\n  });\n  api.onGroupExpandedOrCollapsed();\n};\n\n// 展开所选节点的所有子节点\nvar expandAllNodeBySelectNode = exports.expandAllNodeBySelectNode = function expandAllNodeBySelectNode(data, api, treeTable) {\n  if (!api) return;\n  data.forEach(function (rk) {\n    var selectNode = api.getRowNode(rk);\n    if (selectNode && selectNode.allChildrenCount) {\n      recursionSwitchNode(selectNode, true, treeTable);\n    }\n  });\n  api.onGroupExpandedOrCollapsed();\n};\n\n// 展开所选节点，展开一级\nvar expandNode = exports.expandNode = function expandNode(data, api, treeTable) {\n  if (!api) return;\n  data.forEach(function (rk) {\n    var selectNode = api.getRowNode(rk);\n    if (selectNode && selectNode.allChildrenCount) {\n      selectNode.expanded = true;\n      recordFrozenOpenedState(selectNode, treeTable, true);\n    }\n  });\n  api.onGroupExpandedOrCollapsed();\n};\n\n// 合并所有的节点\nvar collapseAllNode = exports.collapseAllNode = function collapseAllNode(api, treeTable) {\n  if (!api) return;\n  api.collapseAll();\n  api.forEachNode(function (node) {\n    recordFrozenOpenedState(node, treeTable, false);\n  });\n};\n\n// 合并选中节点的所有子节点\nvar collapseAllNodeBySelectNode = exports.collapseAllNodeBySelectNode = function collapseAllNodeBySelectNode(data, api, treeTable) {\n  if (!api) return;\n  data.forEach(function (rk) {\n    var selectNode = api.getRowNode(rk);\n    if (selectNode && selectNode.allChildrenCount) {\n      recursionSwitchNode(selectNode, false, treeTable);\n    }\n  });\n  api.onGroupExpandedOrCollapsed();\n};\n\n// 合并所选节点，展开一级\nvar collapseNode = exports.collapseNode = function collapseNode(data, api, treeTable) {\n  if (!api) return;\n  data.forEach(function (rk) {\n    var selectNode = api.getRowNode(rk);\n    if (selectNode && selectNode.allChildrenCount) {\n      selectNode.expanded = false;\n      recordFrozenOpenedState(selectNode, treeTable, false);\n    }\n  });\n  api.onGroupExpandedOrCollapsed();\n};\n\n// 递归节点来设置状态\nvar recursionSwitchNode = function recursionSwitchNode(selectNode, status, treeTable) {\n  if (!selectNode || !selectNode.allChildrenCount) return;\n  selectNode.expanded = status; // 这种展开的方式不会再走onRowGroupOpened，所以要单独记录状态\n  recordFrozenOpenedState(selectNode, treeTable, status);\n  var childrenNode = selectNode.childrenAfterGroup;\n  if (childrenNode) {\n    childrenNode.forEach(function (node) {\n      recursionSwitchNode(node, status, treeTable);\n    });\n  }\n};\n\n// 记录节点的固定状态,初始是expanded ,发送展开指令还得是expanded(no toggle)\nvar recordFrozenOpenedState = function recordFrozenOpenedState(node, treeTable, status) {\n  var expandedNodes = treeTable.expandedNodes;\n  var id = node.data.id;\n  var index = expandedNodes.indexOf(id);\n  if (status) {\n    if (node.allChildrenCount && index === -1) {\n      expandedNodes.push(id);\n    }\n  } else {\n    if (node.allChildrenCount && index > -1) {\n      expandedNodes.splice(index, 1);\n    }\n  }\n};\n\n// 从 flat 数组构建树结构\nvar buildTreeData = exports.buildTreeData = function buildTreeData(originTreeData) {\n  var childrenMap = getGroupByParent(originTreeData);\n  return createTreeData(childrenMap, childrenMap[ROOTID]);\n};\nvar createTreeData = exports.createTreeData = function createTreeData(groupedObj) {\n  var rootNodes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var tree = [];\n  rootNodes.forEach(function (node) {\n    var children = groupedObj[node.id];\n    if (children) {\n      node.children = createTreeData(groupedObj, children);\n    }\n    tree.push(node);\n  });\n  return tree;\n};\n\n// 生成 {pid:[children]} 形式的数据，为后续构建减少复杂度\nvar getGroupByParent = exports.getGroupByParent = function getGroupByParent(rowDatas) {\n  var idObj = _lodash[\"default\"].keyBy(rowDatas, 'id');\n  return rowDatas.reduce(function (res, item) {\n    var pid = !item.pid || !idObj[item.pid] ? ROOTID : item.pid;\n    if (pid && res[pid]) {\n      res[pid].push(item);\n      return res;\n    }\n    res[pid] = [item];\n    return res;\n  }, {});\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/treeTable/treeUtils.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/util/customUtil.js":
/*!******************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/util/customUtil.js ***!
  \******************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-properties.js */ \"../../node_modules/core-js/modules/es.object.define-properties.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptors.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.getCellCustomModleProps = getCellCustomModleProps;\nexports.getCellCustomProps = getCellCustomProps;\nexports.printError = printError;\nexports.subscribeCustomControlMethod = subscribeCustomControlMethod;\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\nvar _customCtrlUtil = __webpack_require__(/*! @/util/customCtrlUtil */ \"./src/util/customCtrlUtil.js\");\nvar _memoryCacher = __webpack_require__(/*! @/model/memoryCacher */ \"./src/model/memoryCacher.js\");\nvar _gridConst = __webpack_require__(/*! @/constant/gridConst */ \"./src/constant/gridConst.js\");\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n/**\n * 取自定义控件模型需要参数\n * 输入：props(单元格渲染器的参数), 除了dom\n * 输出：{ pageId, controlKey, schemaId, isvId, moduleId, fileServer, gridRowData, lang }\n */\nfunction getCellCustomModleProps(props) {\n  var pid = props.pid,\n    config = props.config,\n    localeId = props.localeId,\n    colDef = props.colDef,\n    schemaInfo = props.schemaInfo,\n    invokeCustomMethod = props.invokeCustomMethod;\n  var colId = colDef.field;\n\n  // const schemaInfo = //从列元数据取自定义方案 测试代码\n  var schemaId = schemaInfo.schemaId,\n    isvId = schemaInfo.isvId,\n    moduleId = schemaInfo.moduleId;\n  var fileServer = config.fileServer;\n  return {\n    pageId: pid,\n    controlKey: colId,\n    schemaId: schemaId,\n    isvId: isvId,\n    moduleId: moduleId,\n    fileServer: fileServer,\n    gridRowData: getCustomRowData(props),\n    lang: localeId,\n    invokeCustomMethod: _invokeCustomMethod(pid, colId, invokeCustomMethod)\n  };\n}\nvar _invokeCustomMethod = function _invokeCustomMethod(pageId, key, invokeCustomMethod) {\n  return function (method) {\n    var args = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n    var isNoClearPostData = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n    args = Array.isArray(args) ? args : [args];\n    invokeCustomMethod(pageId, key, method, args, isNoClearPostData);\n  };\n};\n\n/**\n   * 取自定义控件实例具体参数公共部分 编辑和渲染目前都走这里，各自特殊的需重写\n   * 输入：props(cellRenderParams或者cellEditorParams)\n   * 输出：{ pageId, controlKey, schemaId, isvId, moduleId, fileServer, gridRowData, lang }\n   */\nfunction getCellCustomProps(props, cellLocked) {\n  var value = props.value,\n    localeId = props.localeId,\n    colDef = props.colDef,\n    gridId = props.gridId;\n  var _getCurrentTheme = (0, _customCtrlUtil.getCurrentTheme)(),\n    themeColor = _getCurrentTheme.themeColor,\n    themeNum = _getCurrentTheme.themeNum;\n  // const model = {\n  //   pageId: pid,\n  //   key: gridId,\n  //   fireUpdEvt: fireUpdEvt,\n  //   dataDesc: dataDesc\n  // }\n  var customRowData = getCustomRowData(props);\n  // const { rowData, rowKey } = customRowData\n\n  return {\n    data: value,\n    // configItems: List([]),\n    lock: cellLocked,\n    lang: localeId,\n    themeColor: themeColor,\n    themeNum: themeNum,\n    gridId: gridId,\n    gridRowData: customRowData,\n    column: getColumn(colDef, props.gridContrlParams, props.editor, {\n      isHyperlink: props.isHyperlink\n    })\n    // 暂只考虑渲染态\n    // gridApi: getApi(colDef, props.api, props.data, { rk: props.rk })\n    // invokeCellChange: function (value) { // 更新当前单元格值\n    //   const _value = [{\n    //     k: colDef.field, r: rowData && rowData[rowKey], v: value\n    //   }]\n    //   onCellChange(model, _value)\n    // }\n  };\n}\nfunction getColumn(colDef, gridContrlParams, editor, _ref) {\n  var isHyperlink = _ref.isHyperlink;\n  var _ref2 = gridContrlParams || {},\n    autoHeight = _ref2.autoHeight;\n  return _objectSpread({\n    colId: colDef.field,\n    // 列id\n    isHyperlink: isHyperlink,\n    // 是否超链接\n    autoHeight: autoHeight\n  }, editor || {});\n}\nfunction getCustomRowData(props) {\n  var data = props.data,\n    node = props.node,\n    rk = props.rk;\n  var rowPinned = node.rowPinned;\n  return {\n    rowData: data,\n    rowKey: data[rk],\n    // 行唯一标识\n    rowPinned: rowPinned\n  };\n}\n\n// function getApi (colDef, api, data, { rk }) {\n//   const thisColId = colDef.field\n//   /** 刷新方法 */\n\n//   const getAndCheckApi = (checkSuccessCb) => {\n//     if (api) {\n//       checkSuccessCb && checkSuccessCb(api)\n//       return api\n//     } else {\n//       console.warn('grid api is not ready.')\n//     }\n//   }\n\n//   /**\n//        * 刷新当前行单元格,会走值更新判断，值不变不会走update\n//        * @param {[]} colIds 列id数组,不传默认刷新当前列\n//        * @param {*} force 是否强制刷新，强制刷新dom会销毁重建\n//        */\n//   const refreshRowCells = (colIds, force = false) => {\n//     getAndCheckApi((api) => {\n//       colIds = colIds != null ? colIds : [thisColId]\n//       const refreshCells = {\n//         rowNodes: [api.getRowNode(data && data[rk])],\n//         columns: colIds,\n//         force: force\n//       }\n//       api.refreshCells(refreshCells)\n//     })\n//   }\n\n//   const _refreshCells = (api, nodes, colums, force = false) => {\n//     const refreshCells = {\n//       rowNodes: nodes,\n//       columns: colums,\n//       force: force\n//     }\n//     api.refreshCells(refreshCells)\n//   }\n\n//   /**\n//        * 刷新列, 会走值更新判断，值不变不会走update\n//        * @param {*} colIds 列id数组,不传默认刷新当前列\n//        * @param {*} force 是否强制刷新，强制刷新dom会销毁重建\n//        */\n//   const refreshColumns = (colIds, force = false) => {\n//     colIds = colIds != null ? colIds : [thisColId]\n//     getAndCheckApi((api) => {\n//       _refreshCells(api, api.getRenderedNodes(), [colIds], force)\n//     })\n//   }\n\n//   /**\n//      * 销毁当前单元格并重新绘制\n//      */\n//   const redrawCell = () => {\n//     getAndCheckApi((api) => {\n//       _refreshCells(api, [api.getRowNode(data && data[rk])], [thisColId], true)\n//     })\n//   }\n\n//   /**\n//     * 重绘当前行，该行所有单元格都会销毁重建\n//     */\n//   const redrawRow = () => {\n//     getAndCheckApi((api) => {\n//       api.redrawRows({ rowNodes: [api.getRowNode(data && data[rk])] })\n//     })\n//   }\n\n//   return {\n//     // refreshRowCells,\n//     // refreshColumns,\n//     // redrawRow,\n//     redrawCell\n//   }\n//   /** 刷新方法end */\n// }\n\nfunction subscribeCustomControlMethod(pageId, gridId, r, colId, _ref3) {\n  var customComponentInstance = _ref3.customComponentInstance,\n    getCustomProps = _ref3.getCustomProps;\n  return (0, _memoryCacher.subscribeGridCellControlMethod)(pageId, gridId, r, colId, _gridConst.CUSTOM_CONTROL_DATA, function (result) {\n    var method = result[0].method; // [{r:0, c:'customColId', method:'setSearchResult',v:[]}]\n    if (method) {\n      try {\n        (0, _customCtrlUtil.executeCustomCtrlMethod)(customComponentInstance, 'handleDirective', getCustomProps(), method, result);\n      } catch (error) {\n        printError(error);\n      }\n    }\n  });\n}\nfunction printError(error) {\n  console.error('grid custom control: ' + error);\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/util/customUtil.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/util/mergeUtil.js":
/*!*****************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/util/mergeUtil.js ***!
  \*****************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-properties.js */ \"../../node_modules/core-js/modules/es.object.define-properties.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptors.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.getMergeRowSpan = getMergeRowSpan;\nexports.getRightBorderMergeCols = getRightBorderMergeCols;\nexports.getVirtualGridMergeDatas = getVirtualGridMergeDatas;\nexports.getVirtualGridMergeRowSpan = getVirtualGridMergeRowSpan;\nexports.setMergeCellStyle = setMergeCellStyle;\nexports.setMergeInfo = setMergeInfo;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.find-index.js */ \"../../node_modules/core-js/modules/es.array.find-index.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _util = __webpack_require__(/*! ../../TableHelper/render/util */ \"./src/component/web/DataGrid/TableHelper/render/util.js\");\nvar _GridUtils = __webpack_require__(/*! ../GridUtils */ \"./src/component/web/DataGrid/AgDataGrid/GridUtils.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); } /**\n * 报表融合行公共方法抽离\n */\nfunction setMergeInfo(returnDatas, _ref) {\n  var rowKey = _ref.rowKey,\n    api = _ref.api,\n    gridContrlParams = _ref.gridContrlParams,\n    getContextProps = _ref.getContextProps,\n    setContextProps = _ref.setContextProps;\n  var prevVirtualGridMergeDatas = getContextProps('virtualGridMergeDatas');\n  var _getDisplayedRowIndex = getDisplayedRowIndex({\n      api: api,\n      rowKey: rowKey\n    }),\n    firstDisplayedRowIndex = _getDisplayedRowIndex.firstDisplayedRowIndex,\n    lastDisplayedRowIndex = _getDisplayedRowIndex.lastDisplayedRowIndex;\n  // mergeDatas是一个数组，是合并好的数据\n  // virtualGridMergeDatas 是一个对象，存储报表最近三个数据块\n  var virtualGridMergeDatas = getVirtualGridMergeDatas(returnDatas, prevVirtualGridMergeDatas, {\n    rowKey: rowKey,\n    firstDisplayedRowIndex: firstDisplayedRowIndex,\n    lastDisplayedRowIndex: lastDisplayedRowIndex\n  });\n  var mergeDatas = getMergeDatas(virtualGridMergeDatas);\n  var virtualGridMergeRowSpan = getVirtualGridMergeRowSpan(mergeDatas, {\n    gridContrlParams: gridContrlParams,\n    rowKey: rowKey\n  });\n  setContextProps('virtualGridMergeRowSpan', virtualGridMergeRowSpan);\n  setContextProps('virtualGridMergeDatas', virtualGridMergeDatas);\n}\nfunction getDisplayedRowIndex(_ref2) {\n  var api = _ref2.api,\n    rowKey = _ref2.rowKey;\n  var firstDisplayedRowIndex = api.getFirstDisplayedRow();\n  var firstDisplayedRowNode = api.getDisplayedRowAtIndex(firstDisplayedRowIndex);\n  if (firstDisplayedRowNode && firstDisplayedRowNode.data) {\n    // 过滤后可能node会找不到\n    firstDisplayedRowIndex = firstDisplayedRowNode.data[rowKey];\n  }\n\n  // 可见行最后一行+1,保证最最后一次取数只有一行的情况下也能正确显示\n  var lastDisplayedRowIndex = api.getLastDisplayedRow() + 1;\n  var lastDisplayedRowNode = api.getDisplayedRowAtIndex(lastDisplayedRowIndex);\n  if (lastDisplayedRowNode && lastDisplayedRowNode.data) {\n    // 过滤后可能node会找不到\n    lastDisplayedRowIndex = lastDisplayedRowNode.data[rowKey];\n  }\n  return {\n    firstDisplayedRowIndex: firstDisplayedRowIndex,\n    lastDisplayedRowIndex: lastDisplayedRowIndex\n  };\n}\nfunction getVirtualGridMergeDatas(returnDatas, prevVirtualGridMergeDatas, _ref3) {\n  var rowKey = _ref3.rowKey,\n    firstDisplayedRowIndex = _ref3.firstDisplayedRowIndex,\n    lastDisplayedRowIndex = _ref3.lastDisplayedRowIndex;\n  var virtualGridMergeDatas = {};\n  if (!prevVirtualGridMergeDatas) {\n    virtualGridMergeDatas.currentDatas = returnDatas;\n    return virtualGridMergeDatas;\n  }\n  virtualGridMergeDatas = _objectSpread({}, prevVirtualGridMergeDatas);\n  var currentDatas = prevVirtualGridMergeDatas.currentDatas;\n  var returnDatasFirstRowIndex = returnDatas[0][rowKey];\n  var returnDatasLastRowIndex = returnDatas[returnDatas.length - 1][rowKey];\n  // currentDatas 在返回数据之后，则返回的数据是上一个数据块\n  if (currentDatas[0][rowKey] === returnDatasLastRowIndex + 1) {\n    virtualGridMergeDatas.prevDatas = returnDatas;\n  } else if (currentDatas[currentDatas.length - 1][rowKey] + 1 === returnDatasFirstRowIndex) {\n    // currentDatas 在返回数据之前，则返回的数据是下一个数据块\n    virtualGridMergeDatas.nextDatas = returnDatas;\n  } else {\n    var _virtualGridMergeData = virtualGridMergeDatas,\n      prevDatas = _virtualGridMergeData.prevDatas,\n      _currentDatas = _virtualGridMergeData.currentDatas,\n      nextDatas = _virtualGridMergeData.nextDatas;\n    if (nextDatas && nextDatas[nextDatas.length - 1][rowKey] + 1 === returnDatasFirstRowIndex) {\n      // nextDatas 在返回数据之前\n      virtualGridMergeDatas.prevDatas = _currentDatas;\n      virtualGridMergeDatas.currentDatas = nextDatas;\n      virtualGridMergeDatas.nextDatas = returnDatas;\n    } else if (prevDatas && prevDatas[0][rowKey] === returnDatasLastRowIndex + 1) {\n      // prevDatas 在返回数据之后\n      virtualGridMergeDatas.prevDatas = returnDatas;\n      virtualGridMergeDatas.currentDatas = prevDatas;\n      virtualGridMergeDatas.nextDatas = _currentDatas;\n    } else {\n      // 其他情况是快速滚动导致数据块不连续的场景，这时候只设currentDatas,清空prevDatas和nextDatas\n\n      var isDisplayRowInReturnDatas = returnDatas.findIndex(function (row) {\n        return row[rowKey] === firstDisplayedRowIndex || row[rowKey] === lastDisplayedRowIndex;\n      });\n      // 返回数据包含当前节点的才更新数据\n      if (isDisplayRowInReturnDatas > -1) {\n        virtualGridMergeDatas.prevDatas = undefined;\n        virtualGridMergeDatas.currentDatas = returnDatas;\n        virtualGridMergeDatas.nextDatas = undefined;\n      }\n    }\n  }\n  return virtualGridMergeDatas;\n}\nfunction getMergeDatas(virtualGridMergeDatas) {\n  var _virtualGridMergeData2 = virtualGridMergeDatas.prevDatas,\n    prevDatas = _virtualGridMergeData2 === void 0 ? [] : _virtualGridMergeData2,\n    _virtualGridMergeData3 = virtualGridMergeDatas.currentDatas,\n    currentDatas = _virtualGridMergeData3 === void 0 ? [] : _virtualGridMergeData3,\n    _virtualGridMergeData4 = virtualGridMergeDatas.nextDatas,\n    nextDatas = _virtualGridMergeData4 === void 0 ? [] : _virtualGridMergeData4;\n  return [].concat(prevDatas, currentDatas, nextDatas);\n}\nfunction getVirtualGridMergeRowSpan(gridRows, _ref4) {\n  var gridContrlParams = _ref4.gridContrlParams,\n    rowKey = _ref4.rowKey;\n  // const { gridRows, gridContrlParams } = context\n  var mergeColumns = gridContrlParams.mergeColumns;\n  if (gridRows.length === 0 || mergeColumns.length === 0) return;\n  var virtualGridRowSpan = {};\n  mergeColumns.forEach(function (colId) {\n    virtualGridRowSpan[colId] = getMergeRowSpan(gridRows, {\n      rowKey: rowKey,\n      colId: colId\n    });\n  });\n  return virtualGridRowSpan;\n}\nfunction getMergeRowSpan(gridRows, _ref5) {\n  var rowKey = _ref5.rowKey,\n    colId = _ref5.colId;\n  var firstIndex = gridRows[0][rowKey] - 1;\n  var lastIndex = gridRows[gridRows.length - 1][rowKey] - 1;\n  var prevRow = null;\n  var prevIndex = firstIndex;\n  var span = 1;\n  var spanDetail = {};\n  var spanGroupLength = {};\n  gridRows.forEach(function (row) {\n    var rowIndex = row[rowKey] - 1;\n    if (rowIndex === firstIndex || !shouldMergeCell(prevRow, row, colId)) {\n      for (var i = prevIndex; i < rowIndex; i++) {\n        spanGroupLength[\"r_\".concat(i)] = span;\n      }\n      span = 1;\n      prevRow = row;\n      prevIndex = rowIndex;\n      spanDetail[\"r_\".concat(rowIndex)] = 1;\n      spanGroupLength[\"r_\".concat(rowIndex)] = 1;\n    } else {\n      span += 1;\n      spanDetail[\"r_\".concat(rowIndex)] = span;\n    }\n  });\n  for (var i = prevIndex; i <= lastIndex; i++) {\n    spanGroupLength[\"r_\".concat(i)] = span;\n  }\n  return {\n    spanDetail: spanDetail,\n    spanGroupLength: spanGroupLength\n  };\n}\nfunction shouldMergeCell(prevRow, row, colId) {\n  var _row$cprop$nomerge;\n  if ((_row$cprop$nomerge = row.cprop.nomerge) !== null && _row$cprop$nomerge !== void 0 && _row$cprop$nomerge.includes(colId)) return false;\n  var value = row[colId];\n  var prevValue = prevRow[colId];\n  if (Array.isArray(value) && Array.isArray(prevValue)) {\n    return value[0] === prevValue[0];\n  }\n  return prevValue === value;\n}\nfunction setMergeCellStyle(params, _ref6) {\n  var setContentHideen = _ref6.setContentHideen;\n  var rowMergeCellVerticalAlign = params.gridContrlParams.rowMergeCellVerticalAlign;\n  var _params$gridOptions = params.gridOptions,\n    rowHeight = _params$gridOptions.rowHeight,\n    rowBuffer = _params$gridOptions.rowBuffer;\n  // 是否居上显示融合信息\n  var isVerticalAlignTop = rowMergeCellVerticalAlign === 'top';\n  var virtualGridMergeRowSpan = params.getVirtualGridMergeRowSpan();\n  if (virtualGridMergeRowSpan) {\n    var _virtualGridMergeRowS = virtualGridMergeRowSpan[params.colDef.colId],\n      spanDetail = _virtualGridMergeRowS.spanDetail,\n      spanGroupLength = _virtualGridMergeRowS.spanGroupLength;\n    var rowIndex = params.node.rowIndex;\n    var currentSpan = spanDetail[\"r_\".concat(rowIndex)];\n    var currentGroupLength = spanGroupLength[\"r_\".concat(rowIndex)];\n    if (isVerticalAlignTop) {\n      // currentGroup.length > 1表示有行融合\n      if (currentGroupLength > 1) {\n        params.eGridCell.className = params.eGridCell.className + ' ' + 'virtual-merge-cell';\n        if (currentSpan > 1) {\n          // 非首行\n          if (currentSpan === currentGroupLength) {\n            params.eGridCell.className = params.eGridCell.className + ' ' + 'last-virtual-merge-cell';\n          }\n          // 盖住上边框\n          params.eGridCell.style.height = rowHeight + 'px';\n          params.eGridCell.style['z-index'] = 1;\n          setContentHideen();\n        } else {\n          var pTop = (0, _util.getMergeCellAlignPadding)(rowHeight, {\n            fontSize: params.colStyle && params.colStyle.fontSize,\n            type: params.type\n          });\n          var height = currentGroupLength * rowHeight - 1;\n          params.eGridCell.style.paddingTop = pTop + 'px';\n          params.eGridCell.style.height = height + 'px';\n          params.eGridCell.style['z-index'] = 2;\n          params.eGridCell.style['align-items'] = 'flex-start';\n        }\n      }\n    } else {\n      // 居中显示\n      if (currentGroupLength > 1) {\n        params.eGridCell.className = params.eGridCell.className + ' ' + 'virtual-merge-cell';\n        if (currentSpan === currentGroupLength) {\n          params.eGridCell.className = params.eGridCell.className + ' ' + 'last-virtual-merge-cell';\n        }\n        var ZIndex = currentGroupLength - currentSpan + 1;\n        var heightWeight = ZIndex;\n        var viewPortSize = params.getViewportSize() || {\n          height: 0\n        };\n        var viewPortRowCount = Math.round(viewPortSize.height / rowHeight);\n        if (ZIndex > viewPortRowCount + rowBuffer) {\n          heightWeight = viewPortRowCount + rowBuffer * 2;\n        }\n        var _height = heightWeight * rowHeight - 1;\n        params.eGridCell.style.height = _height + 'px';\n        params.eGridCell.style['z-index'] = ZIndex;\n      }\n    }\n  }\n}\nfunction getRightBorderMergeCols(columns, mergeColumns) {\n  var mergeBorderCols = [];\n  var leftCol = null;\n  (0, _GridUtils.childrenLoop)(columns, function (col) {\n    if (col.hide) return;\n    if (!mergeColumns.includes(col.colId)) {\n      leftCol = col;\n      return;\n    }\n    if (leftCol !== null) {\n      mergeBorderCols.push(leftCol.colId);\n    }\n    mergeBorderCols.push(col.colId);\n    leftCol = null;\n  });\n  return mergeBorderCols;\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/util/mergeUtil.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/validate/GridValidator.js":
/*!*************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/validate/GridValidator.js ***!
  \*************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.ValidateMessageTips = ValidateMessageTips;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.object.values.js */ \"../../node_modules/core-js/modules/es.object.values.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.timers.js */ \"../../node_modules/core-js/modules/web.timers.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _reactDom = __webpack_require__(/*! react-dom */ \"webpack/sharing/consume/default/react-dom/react-dom?418d\");\nvar _classnames = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _CellClass = _interopRequireDefault(__webpack_require__(/*! ../CellClass.less */ \"./src/component/web/DataGrid/AgDataGrid/CellClass.less\"));\nvar _memoryCacher = __webpack_require__(/*! @/model/memoryCacher */ \"./src/model/memoryCacher.js\");\nvar _const = __webpack_require__(/*! @/constant/const */ \"./src/constant/const.js\");\nvar _utils = __webpack_require__(/*! @/validator/utils */ \"./src/validator/utils.js\");\nvar _appModelFunction = __webpack_require__(/*! @/model/appModelFunction */ \"./src/model/appModelFunction.js\");\nvar _PanelWrapper = _interopRequireDefault(__webpack_require__(/*! @/component/common/PanelWrapper */ \"./src/component/common/PanelWrapper.js\"));\nvar _serverproperties = __webpack_require__(/*! @/constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _gridUtil = __webpack_require__(/*! ../../../../../util/gridUtil */ \"./src/util/gridUtil.js\");\nvar _telephoneUtils = __webpack_require__(/*! @/util/telephoneUtils */ \"./src/util/telephoneUtils.js\");\nvar _useGetCountryList = _interopRequireDefault(__webpack_require__(/*! @/use/useGetCountryList */ \"./src/use/useGetCountryList.js\"));\nvar _ValidationService = __webpack_require__(/*! @/service/common/ValidationService */ \"./src/service/common/ValidationService.js\");\nvar _excluded = [\"bindFieldValidate\", \"containter\", \"onReady\", \"onValidate\", \"gridContrlParams\"];\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nfunction ValidateMessageTips(_ref) {\n  var _ref$bindFieldValidat = _ref.bindFieldValidate,\n    bindFieldValidate = _ref$bindFieldValidat === void 0 ? true : _ref$bindFieldValidat,\n    containter = _ref.containter,\n    onReady = _ref.onReady,\n    onValidate = _ref.onValidate,\n    _ref$gridContrlParams = _ref.gridContrlParams,\n    _ref$gridContrlParams2 = _ref$gridContrlParams.visible,\n    visible = _ref$gridContrlParams2 === void 0 ? true : _ref$gridContrlParams2,\n    isListView = _ref$gridContrlParams.isListView,\n    otherProps = _objectWithoutProperties(_ref, _excluded);\n  // 字段校验-订阅校验事件，复选框、单选、图片、图标字段不订阅事件\n  if (_utils.NO_VALIDATE_FIELD_BLACKLIST.includes(otherProps.type) || isListView) {\n    return null;\n  }\n  var noticeEl = (0, _react.useRef)(null);\n  var _useState = (0, _react.useState)(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    showNotice = _useState2[0],\n    setShowNotice = _useState2[1];\n  var _useState3 = (0, _react.useState)(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    notice = _useState4[0],\n    setNotice = _useState4[1];\n\n  // 首次不做校验\n  var firstEffect = (0, _react.useRef)(true);\n\n  // 隐藏不做校验\n  var gridVisible = (0, _react.useRef)(visible);\n  var focusEvent = (0, _react.useRef)(null);\n  var timer = (0, _react.useRef)(null);\n  var type = otherProps.type,\n    pid = otherProps.pid,\n    column = otherProps.column,\n    rowIndex = otherProps.rowIndex,\n    value = otherProps.value;\n  // 手机字段需要提前设置每个单元格的国家，否则不编辑直接提交不会做校验\n  (0, _useGetCountryList[\"default\"])(function (countryList) {\n    var _setCellCountry;\n    (_setCellCountry = (0, _telephoneUtils.setCellCountry)({\n      bindFieldValidate: bindFieldValidate,\n      type: type,\n      pid: pid,\n      column: column,\n      rowIndex: rowIndex,\n      value: value\n    })) === null || _setCellCountry === void 0 || _setCellCountry(countryList);\n  });\n  (0, _react.useEffect)(function () {\n    var _column$colDef, _column$colDef2;\n    // 绑定字段值改变以及字段值删除事件\n    // 已经编辑过\n    var currentCellEdited = (0, _memoryCacher.getPageData)(otherProps.pid, [_const.TABLE_EDITED, otherProps.gridId, 'edited', otherProps.rowKey, otherProps.column.colId]);\n    // 关键字段现在只有文本和基础资料\n    // 分别判断字段是否为空\n    // 后续这里应该抽离成公有方法\n    // const keyFieldData = otherProps.data[otherProps.keyFieldId]\n    // const keyFieldIsNull = keyFieldData === null || keyFieldData === '' || keyFieldData === undefined\n    if (currentCellEdited) {\n      firstEffect.current = false;\n    }\n    if (firstEffect.current) {\n      // 首次不做校验\n      firstEffect.current = false;\n      return;\n    }\n    if (!gridVisible.current) return;\n    var column = otherProps.column,\n      dataDesc = otherProps.dataDesc,\n      editor = otherProps.editor,\n      gridId = otherProps.gridId,\n      localeId = otherProps.localeId,\n      pid = otherProps.pid,\n      rowKey = otherProps.rowKey,\n      type = otherProps.type,\n      data = otherProps.data;\n    (0, _ValidationService.doRealTimeValidateForTable)({\n      key: column === null || column === void 0 || (_column$colDef = column.colDef) === null || _column$colDef === void 0 ? void 0 : _column$colDef.field,\n      caption: _defineProperty({}, localeId, column === null || column === void 0 || (_column$colDef2 = column.colDef) === null || _column$colDef2 === void 0 ? void 0 : _column$colDef2.originHeaderName),\n      dataDesc: dataDesc,\n      editor: editor,\n      gridId: gridId,\n      localeId: localeId,\n      pid: pid,\n      rowKey: rowKey,\n      type: type,\n      value: value,\n      record: data\n    });\n  }, [otherProps.value]);\n  (0, _react.useEffect)(function () {\n    // 首次渲染完成获取当前Grid Cell是否已有校验信息\n    var messages = (0, _appModelFunction.getGridFieldValidateMsg)(otherProps.pid, otherProps.gridId, otherProps.column.colId, otherProps.rowKey);\n    var validateSuccess = true;\n    messages && messages.forEach(function (m) {\n      setNotice(m.success ? '' : m.message);\n      validateSuccess = m.success;\n      onValidate(m);\n    });\n\n    // 需要实时校验需要等编辑器加载完毕才显示tips\n    if (bindFieldValidate) {\n      onReady ? onReady(function () {\n        setShowNotice(!validateSuccess);\n      }) : setShowNotice(!validateSuccess);\n    }\n  }, []);\n\n  // useEffect(() => {\n  //   const removeValidateFinishListener = addDataChangeListener(otherProps.pid, [VALIDATE_FINISH], () => {\n  //     const param = {\n  //       pageId: otherProps.pid,\n  //       tableId: otherProps.gridId,\n  //       rowIndex: otherProps.rowKey,\n  //       key: otherProps.column.colId\n  //     }\n  //     if (isCellValidateFailed(param)) {\n  //       setPageData(otherProps.pid, [otherProps.gridId, GRID_VALIDATE_CHANGE], { colId: otherProps.column.colId, rowKey: otherProps.rowKey })\n  //     }\n  //   })\n  //   return () => {\n  //     removeValidateFinishListener()\n  //   }\n  // }, [otherProps.pid, otherProps.gridId, otherProps.column.colId, otherProps.rowKey])\n\n  // useSubscribeGridValidatorMethod( // 订阅表格单元格校验事件\n  //   bindFieldValidate,\n  //   (res) => {\n  //     setNotice(res.success ? '' : res.message)\n  //     bindFieldValidate && setShowNotice(!res.success)\n  //     onValidate(res)\n  //   },\n  //   [\n  //     otherProps.pid, // pageId\n  //     otherProps.gridId, // gridId\n  //     otherProps.column.colId, // colId\n  //     otherProps.rowIndex // rowIndex\n  //   ]\n  // )\n\n  (0, _react.useEffect)(function () {\n    // 订阅表格单元格校验事件\n    var listeners = Object.values(_const.VALIDATE_MSG_TYPE).map(function (type) {\n      return (0, _memoryCacher.subscribeGridValidatorMethod)(otherProps.pid,\n      // pageId\n      otherProps.gridId,\n      // gridId\n      otherProps.column.colId,\n      // colId\n      otherProps.rowKey,\n      // rowKey\n      type,\n      // 校验成功 res === undefined; 校验失败 res={success:false,message:'XXX'}\n      function () {\n        var res = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n          success: true\n        };\n        setNotice(res.success ? '' : res.message);\n        bindFieldValidate && setShowNotice(!res.success);\n        onValidate(res);\n        if (!res.success) {\n          (0, _memoryCacher.setGridEditedStatusCell)(otherProps.pid, otherProps.gridId, otherProps.rowKey, otherProps.column.colId);\n        }\n      });\n    });\n    return function () {\n      listeners && listeners.forEach(function (cb) {\n        return cb();\n      });\n    };\n  }, []);\n  (0, _react.useEffect)(function () {\n    if (containter && !bindFieldValidate) {\n      var handleMouseOver = function handleMouseOver(e) {\n        var isTarget = otherProps.type === _serverproperties.Ctrls.KDPic ? _isPictureTarget(containter, e.path) : true;\n        timer.current = setTimeout(function () {\n          containter.offsetHeight && isTarget && setShowNotice(true);\n        }, 300);\n      };\n      var handleMouseOut = function handleMouseOut() {\n        clearTimeout(timer.current);\n        !bindFieldValidate && setShowNotice(false);\n      };\n      containter.addEventListener('mouseover', handleMouseOver);\n      containter.addEventListener('mouseout', handleMouseOut);\n      containter.addEventListener('click', handleMouseOut);\n      return function () {\n        containter.removeEventListener('mouseover', handleMouseOver);\n        containter.removeEventListener('mouseout', handleMouseOut);\n        containter.removeEventListener('click', handleMouseOut);\n        clearTimeout(timer.current);\n      };\n    }\n  }, [bindFieldValidate]);\n  (0, _react.useEffect)(function () {\n    if (bindFieldValidate) return;\n    var cb = function cb(data) {\n      gridVisible.current = data;\n      if (!gridVisible.current) {\n        (0, _appModelFunction.deleteGridParentCollapsePanelId)(otherProps.pageId, otherProps.gridId);\n      }\n    };\n    var removeVisibleChangeListener = (0, _memoryCacher.addDataChangeListener)(otherProps.pid, [otherProps.gridId, 'visible'], cb);\n    return function () {\n      removeVisibleChangeListener && removeVisibleChangeListener();\n    };\n  }, []);\n  (0, _react.useEffect)(function () {\n    if (notice) {\n      var handleErrorFocus = function handleErrorFocus() {\n        // 不可见 单元格不进入编辑态等\n        if (!containter.offsetHeight) {\n          return;\n        }\n        var lastestValidateMessageKey = (0, _memoryCacher.getPageData)(otherProps.pid, [_const.LATEST_VALIDATE_MESSAGE_KEY]);\n        otherProps.api.stopEditing();\n        // 多次点击校验设置边框闪烁\n        if (lastestValidateMessageKey === otherProps.column.colId) {\n          otherProps.reactContainer.classList.remove('error-color-border');\n          setTimeout(function () {\n            otherProps.api.setFocusedCell(otherProps.rowIndex, otherProps.column.colId);\n            otherProps.api.startEditingCell({\n              rowIndex: otherProps.rowIndex,\n              colKey: otherProps.column.colId\n            });\n            otherProps === null || otherProps === void 0 || otherProps.reactContainer.classList.add('error-color-border');\n          }, 100);\n        } else {\n          otherProps.api.setFocusedCell(otherProps.rowIndex, otherProps.column.colId);\n          otherProps.api.startEditingCell({\n            rowIndex: otherProps.rowIndex,\n            colKey: otherProps.column.colId\n          });\n        }\n      };\n      focusEvent.current = (0, _memoryCacher.addDataChangeListener)(otherProps.pid, [\"\".concat(otherProps.gridId, \"_\").concat(otherProps.column.colId, \"_\").concat(otherProps.rowKey), 'errorFocus'], handleErrorFocus);\n    } else {\n      focusEvent.current && focusEvent.current();\n    }\n    return function () {\n      focusEvent.current && focusEvent.current();\n    };\n  }, [notice]);\n  var cls = (0, _classnames[\"default\"])(_CellClass[\"default\"]['editor-error'], 'error-color');\n  var getCurTrigger = function getCurTrigger() {\n    if (otherProps.type === _serverproperties.Ctrls.KDPic) {\n      return containter.querySelector('.cell-picture-upload') || containter;\n    }\n    return containter;\n  };\n  if (!notice || !showNotice) return null;\n  return /*#__PURE__*/(0, _reactDom.createPortal)( /*#__PURE__*/_react[\"default\"].createElement(_PanelWrapper[\"default\"], {\n    className: (0, _classnames[\"default\"])('kd-cq-popup', 'kd-cq-table-valid-popup'),\n    trigger: getCurTrigger()\n    // defaultAlign={{ top: true }}\n    ,\n    onClose: function onClose() {\n      return setShowNotice(false);\n    }\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: cls,\n    ref: noticeEl\n  }, notice)), document.body);\n}\nfunction getInnerValue(_ref2) {\n  var type = _ref2.type,\n    value = _ref2.value,\n    localeId = _ref2.localeId,\n    defaultLocalId = _ref2.defaultLocalId;\n  if (type === _serverproperties.Ctrls.KDMulLangText && value) {\n    var lang = (0, _gridUtil.getMulLangInitLang)(value, localeId, defaultLocalId);\n    return value[lang];\n  }\n  if (type === _serverproperties.Ctrls.KDTime && value === '') {\n    // 单innerValue元格输入时间值时为空字符串，而校验仅判断null值\n    return null;\n  }\n  return value;\n}\nfunction _isPictureTarget(containter, eventPath) {\n  var pictureUploadDom = containter.querySelector('.cell-picture-upload');\n  return !pictureUploadDom || (eventPath === null || eventPath === void 0 ? void 0 : eventPath.indexOf(pictureUploadDom)) > -1;\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/validate/GridValidator.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/viewModel/SwitchView.js":
/*!***********************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/viewModel/SwitchView.js ***!
  \***********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _classnames = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _GridStyles = _interopRequireDefault(__webpack_require__(/*! ../GridStyles.less */ \"./src/component/web/DataGrid/AgDataGrid/GridStyles.less\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); } /**\n * 视图切换按钮\n * by kechuang\n */\nvar SwitchView = exports[\"default\"] = /*#__PURE__*/function (_Component) {\n  _inherits(SwitchView, _Component);\n  function SwitchView(props) {\n    var _this;\n    _classCallCheck(this, SwitchView);\n    _this = _callSuper(this, SwitchView, [props]);\n    _this.renderIcon = function () {\n      var _this$props = _this.props,\n        viewParams = _this$props.viewParams,\n        activeView = _this$props.activeView,\n        handleSwitch = _this$props.handleSwitch;\n      var items = viewParams.map(function (view) {\n        if (view.type === 'tiledView') {\n          var tiledIcon = (0, _classnames[\"default\"])(_defineProperty(_defineProperty(_defineProperty({}, _GridStyles[\"default\"]['icon'], true), 'kdfont kdfont-dibu kd-hover-color', true), 'theme-fc', activeView === 'tiledView'));\n          return /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n            key: view.type,\n            onClick: function onClick(e) {\n              return handleSwitch(view.type);\n            },\n            className: tiledIcon\n          });\n        }\n        return null;\n      });\n      return items;\n    };\n    return _this;\n  }\n  _createClass(SwitchView, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n        activeView = _this$props2.activeView,\n        handleSwitch = _this$props2.handleSwitch;\n      var gridIcon = (0, _classnames[\"default\"])(_defineProperty(_defineProperty(_defineProperty({}, _GridStyles[\"default\"]['icon'], true), 'kdfont kdfont-dibu1 kd-hover-color', true), 'theme-fc', activeView === 'grid'));\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _GridStyles[\"default\"]['viewSwitch']\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n        onClick: function onClick(e) {\n          handleSwitch('grid');\n        },\n        className: gridIcon\n      }), this.renderIcon());\n    }\n  }]);\n  return SwitchView;\n}(_react.Component);\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/viewModel/SwitchView.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/viewModel/ViewManager.js":
/*!************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/viewModel/ViewManager.js ***!
  \************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _TiledView = _interopRequireDefault(__webpack_require__(/*! ./tiledView/TiledView */ \"./src/component/web/DataGrid/AgDataGrid/viewModel/tiledView/TiledView.js\"));\nvar _SwitchView = _interopRequireDefault(__webpack_require__(/*! ./SwitchView */ \"./src/component/web/DataGrid/AgDataGrid/viewModel/SwitchView.js\"));\nvar _memoryCacher = __webpack_require__(/*! @/model/memoryCacher */ \"./src/model/memoryCacher.js\");\nvar _excluded = [\"viewParams\", \"getLastestGridModel\", \"getColMetaByField\"];\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); } /**\n * 视图管理层\n * by kechuang use new life cycle\n */\nvar ViewManager = exports[\"default\"] = /*#__PURE__*/function (_Component) {\n  _inherits(ViewManager, _Component);\n  function ViewManager(props) {\n    var _this;\n    _classCallCheck(this, ViewManager);\n    _this = _callSuper(this, ViewManager, [props]);\n    _this.handleSwitch = function (viewType) {\n      var _this$props = _this.props,\n        getActiveRowKey = _this$props.getActiveRowKey,\n        setActiveView = _this$props.setActiveView;\n      if (_this.state.activeView !== viewType) {\n        _this.setState({\n          activeView: viewType\n        }, function () {\n          setActiveView(viewType); // 记录激活视图\n        });\n      }\n      if (viewType !== 'grid') {\n        var newRowKey = getActiveRowKey();\n        if (_this.state.activeRowKey !== newRowKey) {\n          _this.setState({\n            activeRowKey: newRowKey\n          });\n        }\n      }\n    };\n    _this.setActiveRowKey = function (rowkey) {\n      if (_this.state.activeRowKey !== rowkey) {\n        _this.setState({\n          activeRowKey: rowkey\n        });\n      }\n    };\n    _this.state = {\n      activeView: 'grid',\n      activeRowKey: 0\n    };\n    return _this;\n  }\n  _createClass(ViewManager, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props2 = this.props,\n        pageId = _this$props2.pageId,\n        id = _this$props2.id;\n      this.activeHandler = (0, _memoryCacher.addDataChangeListener)(pageId, [id, 'setActiveRowKey'], this.setActiveRowKey);\n      // switchGridView 可能在单据体渲染之前就被赋值，需要在单据体渲染后取值切换视图\n      var curView = (0, _memoryCacher.getPageData)(pageId, [id, 'switchGridView']);\n      if (curView) {\n        this.handleSwitch(curView);\n      }\n      this.setViewHandler = (0, _memoryCacher.addDataChangeListener)(pageId, [id, 'switchGridView'], this.handleSwitch);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.activeHandler && this.activeHandler();\n      this.setViewHandler && this.setViewHandler();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      var _this$props3 = this.props,\n        viewParams = _this$props3.viewParams,\n        getLastestGridModel = _this$props3.getLastestGridModel,\n        getColMetaByField = _this$props3.getColMetaByField,\n        others = _objectWithoutProperties(_this$props3, _excluded);\n      return /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, null, viewParams.map(function (view) {\n        if (view.type === 'tiledView') {\n          return /*#__PURE__*/_react[\"default\"].createElement(_TiledView[\"default\"], _extends({}, view, {\n            key: view.type,\n            getLastestGridModel: getLastestGridModel\n          }, others, {\n            activeView: _this2.state.activeView,\n            activeRowKey: _this2.state.activeRowKey,\n            getColMetaByField: getColMetaByField\n          }));\n        } else {\n          return null;\n        }\n      }), /*#__PURE__*/_react[\"default\"].createElement(_SwitchView[\"default\"], {\n        viewParams: viewParams,\n        activeView: this.state.activeView,\n        handleSwitch: this.handleSwitch\n      }));\n    }\n  }]);\n  return ViewManager;\n}(_react.Component);\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/viewModel/ViewManager.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/viewModel/buildViewProps.js":
/*!***************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/viewModel/buildViewProps.js ***!
  \***************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = buildViewProps;\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\n/**\n * 构建其他的视图参数\n * by kechuang\n */\n\nfunction buildViewProps(meta, gridContrlParams, args) {\n  var viewMeta = meta.get('views');\n  // viewMeta = fromJS([{ 'type': 'tiledView', 'items': [{ 'dataindex': 'orgfield', 'editor': { 'dsp': 'name', 'dst': 0, 'ep': 0, 'mi': false, 'type': 'basedata' }, 'caption': { 'zh_CN': '币别2', 'en_US': '币别2', 'zh_TW': '幣別2' }, 'id': 'currencyfield1', 'l': 52, 'type': 'tilefiled' }, { 'dataindex': 'mulfilter', 'caption': { 'zh_CN': '多选下拉列表1', 'en_US': '多选下拉列表1', 'zh_TW': '多選下拉列表1' }, 'id': 'mulcombofield3123', 'editor': { 'sd': false, 'st': [['1', { 'zh_CN': '1', 'en_US': '1', 'zh_TW': '1' }, null], ['2', { 'zh_CN': '2', 'en_US': '2', 'zh_TW': '2' }, null]], 'mi': false, 'type': 'mulcombo' }, 'l': 52, 'type': 'tilefiled' }, { 'dataindex': 'orgfield33', 'type': 'tilefiled', 'editor': { 'minlength': 0, 'maxlength': 30, 'emptytip': { 'zh_CN': '编码不能为空', 'en_US': 'Code cannot be blank', 'zh_TW': '編碼不能為空' }, 'mi': true, 'type': 'text', 'qan': false }, 'caption': { 'zh_CN': '编码', 'en_US': 'Code', 'zh_TW': '編碼' }, 'id': 'number', 'l': 52, 'mi': true }, { 'dataindex': 'orgfield22', 'type': 'tilefiled', 'editor': { 'minlength': 0, 'maxlength': 50, 'emptytip': { 'zh_CN': '名称不能为空', 'en_US': '名称不能为空', 'zh_TW': '名稱不能為空' }, 'multiLine': false, 'mi': true, 'type': 'localeText', 'qan': false }, 'caption': { 'zh_CN': '名称', 'en_US': 'Name', 'zh_TW': '名稱' }, 'id': 'name', 'l': 52, 'mi': true }, { 'dataindex': 'orgfield11', 'type': 'tilefiled', 'editor': { 'dsp': 'name', 'dst': 0, 'ep': 0, 'mi': false, 'type': 'text', 'qan': false }, 'caption': { 'zh_CN': '创建人', 'en_US': 'Creator', 'zh_TW': '創建人' }, 'id': 'creator', 'l': 55 }, { 'dataindex': 'orgfield4', 'type': 'tilefiled', 'editor': { 'minlength': 0, 'maxlength': 50, 'mi': false, 'type': 'text' }, 'caption': { 'zh_CN': '文本3', 'en_US': '文本3', 'zh_TW': '文本3' }, 'id': 'textfield1', 'l': 52 }, { 'dataindex': 'orgfield6', 'type': 'tilefiled', 'editor': { 'min': null, 'regiontype': 2, 'max': null, 'mi': false, 'type': 'date' }, 'caption': { 'zh_CN': '日期2', 'en_US': '日期2', 'zh_TW': '日期2' }, 'id': 'datefield1', 'l': 52 }, { 'dataindex': 'orgfield7', 'type': 'tilefiled', 'editor': { 'mi': false, 'type': 'daterange' }, 'caption': { 'zh_CN': '日期范围1', 'en_US': '日期范围1', 'zh_TW': '日期範圍1' }, 'id': 'daterangefield', 'l': 52 }, { 'dataindex': 'orgfield8', 'type': 'tilefiled', 'editor': { 'sc': 0, 'pc': 10, 'nt': 'D', 'zs': false, 'mi': false, 'type': 'number' }, 'caption': { 'zh_CN': '整数1', 'en_US': '整数1', 'zh_TW': '整數1' }, 'id': 'integerfield', 'l': 52 }, { 'dataindex': 'orgfield81', 'type': 'tilefiled', 'editor': { 'minlength': 0, 'maxlength': 255, 'mi': false, 'type': 'textarea' }, 'caption': { 'zh_CN': '多行文本1', 'en_US': '多行文本1', 'zh_TW': '多行文本1' }, 'id': 'textareafield', 'l': 52 }, { 'dataindex': 'orgfield82', 'type': 'tilefiled', 'editor': { 'minlength': 0, 'maxlength': 255, 'mi': false, 'type': 'largeText' }, 'caption': { 'zh_CN': '大文本1', 'en_US': '大文本1', 'zh_TW': '大文本1' }, 'id': 'largetextfield', 'l': 52 }, { 'dataindex': 'orgfield123', 'type': 'tilefiled', 'editor': { 'minlength': 0, 'maxlength': 50, 'multiLine': false, 'mi': false, 'type': 'localeText' }, 'caption': { 'zh_CN': '多语言文本2', 'en_US': '多语言文本2', 'zh_TW': '多語言文本2' }, 'id': 'mulilangtextfield', 'l': 52 }, { 'dataindex': 'orgfield', 'type': 'tilefiled', 'editor': { 'sd': false, 'st': [['1', { 'zh_CN': '1', 'en_US': '1', 'zh_TW': '1' }, null], ['2', { 'zh_CN': '2', 'en_US': '2', 'zh_TW': '2' }, null], ['3', { 'zh_CN': '3', 'en_US': '3', 'zh_TW': '3' }, null]], 'mi': false, 'type': 'mulcombo' }, 'caption': { 'zh_CN': '多选下拉列表1', 'en_US': '多选下拉列表1', 'zh_TW': '多選下拉列表1' }, 'id': 'mulcombofield', 'l': 52 }] }])\n  if (viewMeta && _immutable.List.isList(viewMeta)) {\n    var viewParams = [];\n    viewMeta.map(function (view) {\n      var type = view.get('type');\n      return viewParams.push({\n        type: type,\n        meta: view,\n        params: args\n      });\n    });\n    gridContrlParams.viewParams = viewParams;\n  }\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/viewModel/buildViewProps.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/viewModel/index.js":
/*!******************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/viewModel/index.js ***!
  \******************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nObject.defineProperty(exports, \"SwitchView\", ({\n  enumerable: true,\n  get: function get() {\n    return _SwitchView[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"ViewManager\", ({\n  enumerable: true,\n  get: function get() {\n    return _ViewManager[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"buildViewProps\", ({\n  enumerable: true,\n  get: function get() {\n    return _buildViewProps[\"default\"];\n  }\n}));\nvar _buildViewProps = _interopRequireDefault(__webpack_require__(/*! ./buildViewProps */ \"./src/component/web/DataGrid/AgDataGrid/viewModel/buildViewProps.js\"));\nvar _ViewManager = _interopRequireDefault(__webpack_require__(/*! ./ViewManager */ \"./src/component/web/DataGrid/AgDataGrid/viewModel/ViewManager.js\"));\nvar _SwitchView = _interopRequireDefault(__webpack_require__(/*! ./SwitchView */ \"./src/component/web/DataGrid/AgDataGrid/viewModel/SwitchView.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/viewModel/index.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/viewModel/tiledView/TiledView.js":
/*!********************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/viewModel/tiledView/TiledView.js ***!
  \********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = exports.TiledViewOutline = exports.TiledViewContent = exports.OutlineItem = void 0;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _classnames4 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _global = __webpack_require__(/*! @/global */ \"./src/global/index.js\");\nvar _componentFactory = _interopRequireDefault(__webpack_require__(/*! ../../../../../../factory/componentFactory */ \"./src/factory/componentFactory.js\"));\nvar _gridModel = __webpack_require__(/*! ../../gridModel */ \"./src/component/web/DataGrid/AgDataGrid/gridModel/index.js\");\nvar _columnProperty = __webpack_require__(/*! ../../columnModel/columnProperty */ \"./src/component/web/DataGrid/AgDataGrid/columnModel/columnProperty/index.js\");\nvar _serverproperties = __webpack_require__(/*! ../../../../../../constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _GridUtils = __webpack_require__(/*! ../../GridUtils */ \"./src/component/web/DataGrid/AgDataGrid/GridUtils.js\");\nvar _commonUtils = _interopRequireDefault(__webpack_require__(/*! ../../../../../common/commonUtils */ \"./src/component/common/commonUtils.js\"));\nvar _console = _interopRequireDefault(__webpack_require__(/*! @/api/console */ \"./src/api/console.js\"));\nvar _gridCoreUseFucntion = __webpack_require__(/*! ../../gridCoreUseFucntion */ \"./src/component/web/DataGrid/AgDataGrid/gridCoreUseFucntion/index.js\");\nvar _defaultPropsUtil = __webpack_require__(/*! @/util/defaultPropsUtil */ \"./src/util/defaultPropsUtil.js\");\nvar _emotionalConst = __webpack_require__(/*! @/constant/emotionalConst */ \"./src/constant/emotionalConst.js\");\nvar _memoryCacher = __webpack_require__(/*! @/model/memoryCacher */ \"./src/model/memoryCacher.js\");\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nvar _action = __webpack_require__(/*! @/action/action */ \"./src/action/action.js\");\nvar _ControlInfoCollect = _interopRequireDefault(__webpack_require__(/*! @/component/common/ControlInfoCollect */ \"./src/component/common/ControlInfoCollect.js\"));\nvar _GridStyles = _interopRequireDefault(__webpack_require__(/*! ../../GridStyles.less */ \"./src/component/web/DataGrid/AgDataGrid/GridStyles.less\"));\nvar _class;\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); } /**\n * 平铺视图\n * by kechuang\n */\nvar TiledView = exports[\"default\"] = (0, _ControlInfoCollect[\"default\"])(_class = /*#__PURE__*/function (_Component4) {\n  _inherits(TiledView, _Component4);\n  function TiledView(props) {\n    _classCallCheck(this, TiledView);\n    return _callSuper(this, TiledView, [props]);\n  }\n  _createClass(TiledView, [{\n    key: \"render\",\n    value: function render() {\n      var className = (0, _classnames4[\"default\"])(_defineProperty(_defineProperty({}, _GridStyles[\"default\"].viewContainer, true), _GridStyles[\"default\"].activeView, this.props.type === this.props.activeView));\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: className\n      }, /*#__PURE__*/_react[\"default\"].createElement(TiledViewContent, _extends({}, this.props, {\n        show: this.props.type === this.props.activeView\n      })));\n    }\n  }]);\n  return TiledView;\n}(_react.Component)) || _class;\nvar TiledViewContent = exports.TiledViewContent = /*#__PURE__*/function (_Component) {\n  _inherits(TiledViewContent, _Component);\n  function TiledViewContent(props) {\n    var _this;\n    _classCallCheck(this, TiledViewContent);\n    _this = _callSuper(this, TiledViewContent, [props]);\n    // 获取字段的可见性\n    _this.getFiledVisible = function (colMeta) {\n      if (!colMeta) return false; // 列元数据找不到，直接隐藏\n      var actions = _this.props.params.actions;\n      return !(0, _columnProperty.getColVisible)(colMeta, {\n        field: colMeta.dataIndex\n      }, {\n        hide: false\n      }, actions);\n    };\n    // 获取字段的锁定性\n    _this.getFieldLocked = function (colMeta) {\n      if (!colMeta) return; // 列元数据找不到\n      var _this$props = _this.props,\n        activeRowKey = _this$props.activeRowKey,\n        params = _this$props.params;\n      var actions = params.actions,\n        dataDesc = params.dataDesc,\n        pid = params.pid,\n        id = params.id;\n      // let field = model.getMetaProperty('dataIndex')\n      // let l = model.getMetaProperty(LOCK_CTRL)\n      var field = colMeta.dataIndex;\n      var l = colMeta && colMeta[_serverproperties.LOCK_CTRL];\n      var isLock = !actions.getGridEditable(); // 表格锁定\n      if (isLock) return isLock;\n      isLock = actions.getLockedByNum(l); // 元数据锁定\n      if (isLock) return isLock;\n      var checkCellLock = (0, _columnProperty.isCellLocked)(actions, dataDesc);\n      return checkCellLock(pid, id, activeRowKey, field); // 动态锁定和单元格锁定\n    };\n    _this.getRowData = function () {\n      var _this$props2 = _this.props,\n        getLastestGridModel = _this$props2.getLastestGridModel,\n        params = _this$props2.params,\n        activeRowKey = _this$props2.activeRowKey;\n      var seq = params.seq;\n      var lastestModel = getLastestGridModel();\n      var gridData = lastestModel && lastestModel.getDataValue();\n      var dataindex = gridData ? gridData.get('dataindex', (0, _immutable.Map)()) : (0, _immutable.Map)();\n      return _gridModel.modelFuncs.takeOneRow(_this.row && _this.row.toJS(), dataindex.toJS(), activeRowKey, seq);\n    };\n    _this.renderItems = function () {\n      var _this$props3 = _this.props,\n        meta = _this$props3.meta,\n        params = _this$props3.params,\n        activeRowKey = _this$props3.activeRowKey,\n        getColMetaByField = _this$props3.getColMetaByField,\n        comfirmDelete = _this$props3.comfirmDelete,\n        dispatch = _this$props3.dispatch,\n        getColProperty = _this$props3.getColProperty,\n        getDataProperty = _this$props3.getDataProperty;\n      _this.meta = meta;\n      var pid = params.pid;\n      var items = meta.get('items');\n      var rowData = _this.getRowData();\n      _console[\"default\"].log('tiledRowData', rowData);\n      var dataKeys = Object.keys(rowData);\n      if (items && dataKeys.length > 0) {\n        // rowDate为{}表示没值\n        return items.map(function (meta) {\n          return (0, _componentFactory[\"default\"])(pid, meta, (0, _global.getGlobalState)(), undefined, {\n            params: params,\n            rowData: rowData,\n            getFiledVisible: _this.getFiledVisible,\n            getFieldLocked: _this.getFieldLocked,\n            activeRowKey: activeRowKey,\n            getColMetaByField: getColMetaByField,\n            mergeState: _action.mergeState,\n            comfirmDelete: comfirmDelete,\n            dispatch: dispatch,\n            getColProperty: getColProperty,\n            getDataProperty: getDataProperty\n          });\n        });\n      }\n      return null;\n    };\n    _this.refreshHandle = function () {\n      _this.setState({\n        refresh: !_this.state.refresh\n      });\n    };\n    _this.state = {\n      refresh: false\n    };\n    _this.meta = null;\n    _this.row = null;\n    return _this;\n  }\n  _createClass(TiledViewContent, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props$params = this.props.params,\n        pid = _this$props$params.pid,\n        id = _this$props$params.id;\n      // 单行刷新需要使用addDataChangeListener来通讯\n      this.refreshHandler = (0, _memoryCacher.addDataChangeListener)(pid, [id, 'refreshTiledView'], this.refreshHandle);\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      var getLastestGridModel = nextProps.getLastestGridModel,\n        show = nextProps.show,\n        meta = nextProps.meta,\n        activeRowKey = nextProps.activeRowKey;\n      var refresh = nextState.refresh;\n      var newRow = _gridModel.modelFuncs.getRowByIndex(getLastestGridModel(), activeRowKey);\n      var needRefresh = false;\n      if (refresh !== this.state.refresh) needRefresh = true;\n      if (!needRefresh) {\n        if (show) {\n          if (!(0, _immutable.is)(this.meta, meta)) needRefresh = true;\n          if (!(0, _immutable.is)(this.row, newRow)) needRefresh = true;\n        } else {\n          // 不可见时不刷新\n          needRefresh = false;\n        }\n      }\n      if (needRefresh) {\n        this.row = newRow;\n        _console[\"default\"].log('tiledRow', this.row.toJS());\n      }\n      return needRefresh;\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.refreshHandler && this.refreshHandler();\n      this.meta = null;\n      this.row = null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      _console[\"default\"].log('activeRowKey', this.props.activeRowKey);\n      var _this$props4 = this.props,\n        meta = _this$props4.meta,\n        params = _this$props4.params;\n      var _getSelfCommonClass = (0, _GridUtils.getSelfCommonClass)(meta),\n        Wrap = _getSelfCommonClass.Wrap,\n        Direction = _getSelfCommonClass.Direction,\n        AlignItems = _getSelfCommonClass.AlignItems,\n        AlignContent = _getSelfCommonClass.AlignContent,\n        JustifyContent = _getSelfCommonClass.JustifyContent;\n      var styleMeta = meta.get(_serverproperties.STYLE);\n      var style = (0, _GridUtils.getStyleInObj)(params.config, styleMeta && styleMeta.toJS(), [], true);\n      var _getDefaultPadding = (0, _defaultPropsUtil.getDefaultPadding)(),\n        paddingRight = _getDefaultPadding.paddingRight,\n        paddingLeft = _getDefaultPadding.paddingLeft;\n      // 紧凑主题下取容器内边距，目前只处理right 和left\n      var _style = Object.assign({}, {\n        paddingRight: paddingRight,\n        paddingLeft: paddingLeft\n      }, style);\n      var className = (0, _classnames4[\"default\"])(_defineProperty({}, _GridStyles[\"default\"].tileContent, true), (0, _commonUtils[\"default\"])({\n        Wrap: Wrap,\n        Direction: Direction,\n        AlignItems: AlignItems,\n        AlignContent: AlignContent,\n        JustifyContent: JustifyContent\n      }));\n      return /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, null, _immutable.List.isList(this.row) && this.row.size === 0 ? /*#__PURE__*/_react[\"default\"].createElement(NotDataOverlay, null) : /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, null, /*#__PURE__*/_react[\"default\"].createElement(TiledViewOutline, this.props), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        style: _style,\n        className: className\n      }, this.renderItems())));\n    }\n  }]);\n  return TiledViewContent;\n}(_react.Component);\nvar TiledViewOutline = exports.TiledViewOutline = /*#__PURE__*/function (_Component2) {\n  _inherits(TiledViewOutline, _Component2);\n  function TiledViewOutline(props) {\n    var _this2;\n    _classCallCheck(this, TiledViewOutline);\n    _this2 = _callSuper(this, TiledViewOutline, [props]);\n    _this2.getOutlineFieldData = function (outlineField, rowKey, relatedField, seq) {\n      var getLastestGridModel = _this2.props.getLastestGridModel;\n      return _gridModel.modelFuncs.getKeyFieldData(getLastestGridModel(), outlineField, rowKey, relatedField, seq);\n    };\n    _this2.getRelatedField = function (outlineField, rowKey, seq) {\n      var getColMetaByField = _this2.props.getColMetaByField;\n      var relatedField = [];\n      outlineField.forEach(function (field) {\n        if (field === rowKey || field === seq || field === '') return;\n        var colMeta = getColMetaByField(field);\n        if (!colMeta) return;\n        var editor = colMeta.editor;\n        var sf = editor[_serverproperties.SOURCE_FIELD];\n        if (sf) {\n          relatedField.push(sf);\n        }\n      });\n      return relatedField;\n    };\n    _this2.renderItems = function (hasSummary) {\n      var _this2$props = _this2.props,\n        meta = _this2$props.meta,\n        params = _this2$props.params,\n        activeRowKey = _this2$props.activeRowKey,\n        columnDefs = _this2$props.columnDefs,\n        getGridDisplayFun = _this2$props.getGridDisplayFun;\n      var rowKey = params.rowKey,\n        seq = params.seq;\n      var outlineField = meta.get('outlineField', (0, _immutable.List)());\n      // let outlineField = fromJS(['seq', 'textfield'])\n      var relatedField = _this2.getRelatedField(outlineField, rowKey, seq);\n      var outlineFieldData = _this2.getOutlineFieldData(outlineField, rowKey, relatedField, seq);\n      return outlineFieldData.map(function (data) {\n        return /*#__PURE__*/_react[\"default\"].createElement(OutlineItem, {\n          key: data[rowKey],\n          rowKey: rowKey,\n          data: data,\n          params: params,\n          outlineField: outlineField,\n          activeRowKey: activeRowKey,\n          hasSummary: hasSummary,\n          seq: seq,\n          getGridDisplayFun: getGridDisplayFun,\n          columnDefs: columnDefs\n        });\n      });\n    };\n    return _this2;\n  }\n  _createClass(TiledViewOutline, [{\n    key: \"render\",\n    value: function render() {\n      var hasSummary = true;\n      var meta = this.props.meta;\n      var outlineField = meta.get('outlineField', (0, _immutable.List)());\n      var style;\n      if (outlineField.get(1, '') === '') {\n        style = {\n          width: 50\n        };\n        hasSummary = false;\n      }\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _GridStyles[\"default\"].outline,\n        style: style\n      }, this.renderItems(hasSummary));\n    }\n  }]);\n  return TiledViewOutline;\n}(_react.Component);\nvar OutlineItem = exports.OutlineItem = /*#__PURE__*/function (_Component3) {\n  _inherits(OutlineItem, _Component3);\n  function OutlineItem() {\n    var _this3;\n    _classCallCheck(this, OutlineItem);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this3 = _callSuper(this, OutlineItem, [].concat(args));\n    _this3.handleClick = function () {\n      var _this3$props = _this3.props,\n        params = _this3$props.params,\n        rowKey = _this3$props.rowKey,\n        data = _this3$props.data;\n      var _params$actions = params.actions,\n        getNodeByRowKey = _params$actions.getNodeByRowKey,\n        invokeRowSelection = _params$actions.invokeRowSelection;\n      var node = getNodeByRowKey(data[rowKey]);\n      if (node) {\n        invokeRowSelection(node, true, true);\n      }\n    };\n    _this3.getCellDisplayValue = function (colId, value, rowData) {\n      return (0, _gridCoreUseFucntion.getCellDisplayValueWrap)((0, _gridCoreUseFucntion.getColDef)(colId, _this3.props.columnDefs), value, rowData);\n    };\n    _this3.getOutlineDisplayValue = function (key, data) {\n      var formmatFun = _this3.props.getGridDisplayFun(key);\n      var v = formmatFun ? formmatFun(data[key], data) : _this3.getCellDisplayValue(key, data[key], data);\n      if (_typeof(v) === 'object') {\n        _console[\"default\"].warn('tiled field outline title type is not String!');\n        v = '';\n      }\n      return v;\n    };\n    _this3.renderItems = function () {\n      var _this3$props2 = _this3.props,\n        data = _this3$props2.data,\n        seq = _this3$props2.seq,\n        outlineField = _this3$props2.outlineField;\n      return Object.keys(data).map(function (key) {\n        if (!outlineField.includes(key) || key === '') return null;\n        var style = {};\n        var v = data[key];\n        if (key !== seq) {\n          style = Object.assign({\n            marginLeft: '8px',\n            textOverflow: 'ellipsis',\n            whiteSpace: 'nowrap',\n            overflow: 'hidden'\n          }, style);\n          v = _this3.getOutlineDisplayValue(key, data);\n        }\n        return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n          key: key,\n          className: _GridStyles[\"default\"].item,\n          style: style\n        }, v);\n      });\n    };\n    return _this3;\n  }\n  _createClass(OutlineItem, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props5 = this.props,\n        activeRowKey = _this$props5.activeRowKey,\n        rowKey = _this$props5.rowKey,\n        data = _this$props5.data,\n        hasSummary = _this$props5.hasSummary;\n      var rkv = data[rowKey];\n      var className = (0, _classnames4[\"default\"])(_defineProperty(_defineProperty(_defineProperty({}, _GridStyles[\"default\"].outlineItem, true), 'kd-hover-bgcolor', true), 'hover-bg outlineItemSelect', rkv === activeRowKey));\n      var style = {};\n      if (hasSummary === false) {\n        style.justifyContent = 'center';\n      }\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: className,\n        onClick: this.handleClick,\n        style: style\n      }, this.renderItems());\n    }\n  }]);\n  return OutlineItem;\n}(_react.Component);\nfunction NotDataOverlay() {\n  // 获取情感化图片设置\n  var _getCommonEmotionalIn = (0, _defaultPropsUtil.getCommonEmotionalInfo)(_emotionalConst.EMOTIONAL_TYPE_NO_DATA),\n    imagePath = _getCommonEmotionalIn.imagePath,\n    description = _getCommonEmotionalIn.description;\n  // 动态生成image样式\n  var imgStyle = imagePath ? {\n    'background-image': \"url(\".concat(imagePath, \")\")\n  } : {};\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames4[\"default\"])('kd-cq-empty', _GridStyles[\"default\"]['norow-overlay'])\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _GridStyles[\"default\"]['norow-overlay-img'],\n    style: imgStyle\n  }), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: \"kd-cq-empty-description\"\n  }, description || (0, _intlApi.getLangMsg)({\n    key: 'tiledview.key0001'\n  })));\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/viewModel/tiledView/TiledView.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/visibleLock/index.js":
/*!********************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/visibleLock/index.js ***!
  \********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nObject.defineProperty(exports, \"getGridLocked\", ({\n  enumerable: true,\n  get: function get() {\n    return _lockUtils.getGridLocked;\n  }\n}));\nObject.defineProperty(exports, \"isAllEntryEntityColLocked\", ({\n  enumerable: true,\n  get: function get() {\n    return _lockUtils.isAllEntryEntityColLocked;\n  }\n}));\nObject.defineProperty(exports, \"isEditable\", ({\n  enumerable: true,\n  get: function get() {\n    return _lockUtils.isEditable;\n  }\n}));\nvar _lockUtils = __webpack_require__(/*! ./lockUtils */ \"./src/component/web/DataGrid/AgDataGrid/visibleLock/lockUtils.js\");\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/visibleLock/index.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/visibleLock/lockUtils.js":
/*!************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/visibleLock/lockUtils.js ***!
  \************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.getGridLocked = getGridLocked;\nexports.isAllEntryEntityColLocked = isAllEntryEntityColLocked;\nexports.isEditable = isEditable;\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.array.some.js */ \"../../node_modules/core-js/modules/es.array.some.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\nvar _gridConst = __webpack_require__(/*! @/constant/gridConst.js */ \"./src/constant/gridConst.js\");\n/**\n * 获取表格锁定状态的方法\n * 包含表格锁定，列锁定，单元格锁定\n * by kechuang\n */\n\n// 这里涉及到billlist层的锁定性判断，所以提供了一个targetModel\nfunction getGridLocked(props, targetModel) {\n  if (!targetModel) targetModel = props.model;\n  return props.getLocked(targetModel);\n}\nfunction isEditable(props) {\n  var meta = props.model.meta;\n  if (meta.has('gridtype')) {\n    var type = meta.get('gridtype');\n    if (type === 'VIRTUALVIEWGRID') return false;\n  }\n  return !getGridLocked(props);\n}\n\n/**\n * 所有列是否锁定\n * @param {[]} colDefs\n * @param {rk,seq} params\n */\nfunction isAllColLocked(colDefs, params) {\n  return !hasEditCol(colDefs, params);\n}\nfunction hasEditCol(colDefs, params) {\n  return colDefs.some(function (colDef) {\n    // if (colDef.combinedItems) { } // 单据体没有\n    if (colDef.children && colDef.children.length > 0) {\n      return hasEditCol(colDef.children, params);\n    }\n    return !isColLocked(colDef, params);\n  });\n}\nfunction isColLocked(colDef, params) {\n  var rk = params.rk,\n    seq = params.seq;\n  var DEFAULT_LOCK_COL_IDS = [rk, seq, 'XXfieldXX', _gridConst.SETTING_COL];\n  if (DEFAULT_LOCK_COL_IDS.indexOf(colDef.field) > -1) {\n    return true;\n  }\n  return colDef.cellRendererParams.colLocked === true;\n}\n\n/**\n * 单据体所有列锁定\n * @param {*} columnDefs\n * @param {*} param { isEntryEntity, gridEditable, seq, rk }\n */\nfunction isAllEntryEntityColLocked(columnDefs, _ref) {\n  var isEntryEntity = _ref.isEntryEntity,\n    gridEditable = _ref.gridEditable,\n    seq = _ref.seq,\n    rk = _ref.rk;\n  if (isEntryEntity) {\n    // 单据体整表锁定 或者所有列锁定\n    return !gridEditable || isAllColLocked(columnDefs, {\n      seq: seq,\n      rk: rk\n    });\n  }\n  return false;\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/visibleLock/lockUtils.js?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/CellClass.less":
/*!**************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/CellClass.less ***!
  \**************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"header-group\":\"CellClass_header-group_2y8c\",\"headerClass1\":\"CellClass_headerClass1_1clc\",\"headerClass2\":\"CellClass_headerClass2_2sD1\",\"seqHeaderClass\":\"CellClass_seqHeaderClass_180N\",\"headerClass3\":\"CellClass_headerClass3_3Kem\",\"vocherAmtCell\":\"CellClass_vocherAmtCell_1KLG\",\"grid-setting-btn\":\"CellClass_grid-setting-btn_3r8C\",\"billViewWithToolbar\":\"CellClass_billViewWithToolbar_3cKH\",\"billViewWithBottomToolbar\":\"CellClass_billViewWithBottomToolbar_2A4f\",\"cell-wrap-text\":\"CellClass_cell-wrap-text_FT73\",\"field\":\"CellClass_field_23Ls\",\"base-data\":\"CellClass_base-data_3xuD\",\"multi-base-data\":\"CellClass_multi-base-data_3KYO\",\"colHeader\":\"CellClass_colHeader_2kwR\",\"combinedField\":\"CellClass_combinedField_2prB\",\"alphaFactory_Editor\":\"CellClass_alphaFactory_Editor_2YQo\",\"editorBtn\":\"CellClass_editorBtn_2DRv\",\"cell-suffix-editor\":\"CellClass_cell-suffix-editor_2Rvt\",\"alphaFactory_Render\":\"CellClass_alphaFactory_Render_2BPk\",\"full-height\":\"CellClass_full-height_3fCi\",\"alphaFactory-content-wrap\":\"CellClass_alphaFactory-content-wrap_19Ir\",\"full-height-limit\":\"CellClass_full-height-limit_iaQJ\",\"alphaFactory-content-line-wrap\":\"CellClass_alphaFactory-content-line-wrap_2rZT\",\"alphaFactory-content-pre-wrap\":\"CellClass_alphaFactory-content-pre-wrap_37zt\",\"alphaFactory-content-combine\":\"CellClass_alphaFactory-content-combine_1jQP\",\"lightRender\":\"CellClass_lightRender_f3ij\",\"line-wrap\":\"CellClass_line-wrap_3RV9\",\"pre-wrap\":\"CellClass_pre-wrap_mb3R\",\"imgRender\":\"CellClass_imgRender_3igh\",\"imgs\":\"CellClass_imgs_1prS\",\"imgClear\":\"CellClass_imgClear_3ZEO\",\"img-wrap\":\"CellClass_img-wrap_Ose5\",\"drag-mask\":\"CellClass_drag-mask_YNZt\",\"img-container\":\"CellClass_img-container_3K4S\",\"def-img-hover\":\"CellClass_def-img-hover_3Pko\",\"pic-edit\":\"CellClass_pic-edit_27W7\",\"picture-upload\":\"CellClass_picture-upload_2VOG\",\"progress-bar\":\"CellClass_progress-bar_2jRM\",\"picture-upload-init\":\"CellClass_picture-upload-init_1CHa\",\"cannotupload-hover\":\"CellClass_cannotupload-hover_CGL7\",\"select-item\":\"CellClass_select-item_iuP8\",\"alpha-render-icon\":\"CellClass_alpha-render-icon_2FFU\",\"cell-suffix-clear-btn\":\"CellClass_cell-suffix-clear-btn_Y4-n\",\"cell-tip-icon\":\"CellClass_cell-tip-icon_J4v6\",\"cell-btn-hover-show\":\"CellClass_cell-btn-hover-show_11Ei\",\"cell-btn-show\":\"CellClass_cell-btn-show_3Ca_\",\"text-omit\":\"CellClass_text-omit_-0YD\",\"checkbox-wrap\":\"CellClass_checkbox-wrap_1ENV\",\"checkbox\":\"CellClass_checkbox_3cOV\",\"disable-checkbox\":\"CellClass_disable-checkbox_1xWj\",\"alphaFactory_Render_Entry\":\"CellClass_alphaFactory_Render_Entry_1Z50\",\"view_Render\":\"CellClass_view_Render_2Uvc\",\"seq_Render\":\"CellClass_seq_Render_FjjK\",\"select\":\"CellClass_select_gj_R\",\"value\":\"CellClass_value_3Rq2\",\"value-item\":\"CellClass_value-item_VdAr\",\"value-item-block\":\"CellClass_value-item-block_2jxz\",\"value-item-block-only-img\":\"CellClass_value-item-block-only-img_1zLg\",\"value-item-text-cotainer\":\"CellClass_value-item-text-cotainer_2VRY\",\"value-item-text-content\":\"CellClass_value-item-text-content_3II8\",\"lineWrap\":\"CellClass_lineWrap_31cj\",\"flexend_Render\":\"CellClass_flexend_Render_1mCG\",\"flexstart_Render\":\"CellClass_flexstart_Render_1yD-\",\"flexscenter_Render\":\"CellClass_flexscenter_Render_3Wf6\",\"seq-content\":\"CellClass_seq-content_1kLa\",\"columnOptions\":\"CellClass_columnOptions_3kVI\",\"icon\":\"CellClass_icon_Ad6x\",\"hLink\":\"CellClass_hLink_3mxw\",\"combinedField_render\":\"CellClass_combinedField_render_2lvY\",\"combinedItem\":\"CellClass_combinedItem_2FjB\",\"operate\":\"CellClass_operate_1Lm4\",\"operationIcon\":\"CellClass_operationIcon_2fit\",\"operationText\":\"CellClass_operationText_1g28\",\"operation-item-enable\":\"CellClass_operation-item-enable_1y4n\",\"operation-item-disable\":\"CellClass_operation-item-disable_3GL_\",\"operateContainer\":\"CellClass_operateContainer_1o0S\",\"operatePanel\":\"CellClass_operatePanel_3PSI\",\"operateItem\":\"CellClass_operateItem_goc0\",\"containerCell\":\"CellClass_containerCell_2EuS\",\"nodata_overlay\":\"CellClass_nodata_overlay_3l9L\",\"maskP\":\"CellClass_maskP_2-XW\",\"imgP\":\"CellClass_imgP_cq3d\",\"imgItem\":\"CellClass_imgItem_152B\",\"textItem\":\"CellClass_textItem_17yM\",\"entryImgBox\":\"CellClass_entryImgBox_31Bt\",\"loading_overlay\":\"CellClass_loading_overlay_3YoP\",\"container2\":\"CellClass_container2_2Oz-\",\"bouncedelay\":\"CellClass_bouncedelay_2a2t\",\"circle21\":\"CellClass_circle21_20Lh\",\"circle22\":\"CellClass_circle22_2fdn\",\"circle23\":\"CellClass_circle23_3iHy\",\"circle24\":\"CellClass_circle24_26NL\",\"container3\":\"CellClass_container3_1dCa\",\"circle31\":\"CellClass_circle31_AY3l\",\"circle32\":\"CellClass_circle32_1PXC\",\"circle33\":\"CellClass_circle33_1aS-\",\"circle34\":\"CellClass_circle34_2GLG\",\"container1\":\"CellClass_container1_2eYV\",\"circle11\":\"CellClass_circle11__y4O\",\"circle12\":\"CellClass_circle12_2nug\",\"circle13\":\"CellClass_circle13_3CJD\",\"circle14\":\"CellClass_circle14_1UKk\",\"groupTextStyle\":\"CellClass_groupTextStyle_3_Gi\",\"formDetailColText\":\"CellClass_formDetailColText_1FjH\",\"tipsCellContainer\":\"CellClass_tipsCellContainer_3rJI\",\"rowDerailsCellConstainer\":\"CellClass_rowDerailsCellConstainer_3W21\",\"seq\":\"CellClass_seq_eYWq\",\"hover-no-hide\":\"CellClass_hover-no-hide_3UUC\",\"operateIcon\":\"CellClass_operateIcon_2CE6\",\"deleteIcon\":\"CellClass_deleteIcon_3HLh\",\"addIcon\":\"CellClass_addIcon_2xpn\",\"container_content\":\"CellClass_container_content_2EP1\",\"editor-error\":\"CellClass_editor-error_6woO\",\"light-wrap-cell\":\"CellClass_light-wrap-cell_1TVu\",\"header-all-selection-space\":\"CellClass_header-all-selection-space_1kz-\",\"imgRenderDropdownMenu\":\"CellClass_imgRenderDropdownMenu_1UOu\",\"dropdownItem\":\"CellClass_dropdownItem_1OFO\"});\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/CellClass.less?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/CellRenderer/ContainerRenderer/containerCell.less":
/*!*************************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/CellRenderer/ContainerRenderer/containerCell.less ***!
  \*************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"container_flexPanel\":\"containerCell_container_flexPanel_3cmj\",\"container_vector\":\"containerCell_container_vector_EXhg\",\"container_label\":\"containerCell_container_label_2mBh\",\"container_image\":\"containerCell_container_image_2j4Q\"});\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/CellRenderer/ContainerRenderer/containerCell.less?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/CellRenderer/renderer.less":
/*!**************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/CellRenderer/renderer.less ***!
  \**************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"hlinkContainer\":\"renderer_hlinkContainer_2nus\",\"preview-img\":\"renderer_preview-img_1n6B\",\"hidden\":\"renderer_hidden_2CSQ\",\"listCheckboxIcon\":\"renderer_listCheckboxIcon_2OVG\"});\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/CellRenderer/renderer.less?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/FilterRenderer/FilterRender.less":
/*!********************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/FilterRenderer/FilterRender.less ***!
  \********************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"filterPanel\":\"FilterRender_filterPanel_2ML4\",\"filterOption\":\"FilterRender_filterOption_1QJ6\",\"option\":\"FilterRender_option_1Zka\",\"checkboxContent\":\"FilterRender_checkboxContent_37Ns\",\"optionText\":\"FilterRender_optionText_19ps\",\"optionActive\":\"FilterRender_optionActive_cnTq\",\"filterInput\":\"FilterRender_filterInput_MvwY\",\"search-icon\":\"FilterRender_search-icon_30yx\",\"input\":\"FilterRender_input_3emu\",\"filterFooter\":\"FilterRender_filterFooter_7g81\",\"filterButton\":\"FilterRender_filterButton_3Zkf\",\"filter-button-rever\":\"FilterRender_filter-button-rever_22pz\",\"clear-button\":\"FilterRender_clear-button_2kET\",\"foldPanel\":\"FilterRender_foldPanel_iFhf\",\"foldHeader\":\"FilterRender_foldHeader_11y8\",\"foldTitle\":\"FilterRender_foldTitle_dAXn\",\"foldIcon\":\"FilterRender_foldIcon_XX02\",\"foldContent\":\"FilterRender_foldContent_2RBY\"});\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/FilterRenderer/FilterRender.less?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/GridStyles.less":
/*!***************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/GridStyles.less ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"gridContainer\":\"GridStyles_gridContainer_3XAM\",\"cell-btn-hover-show\":\"GridStyles_cell-btn-hover-show_WyC1\",\"getScrollWidth\":\"GridStyles_getScrollWidth_2fIg\",\"gridContainerI\":\"GridStyles_gridContainerI_e--0\",\"absoluteContainer\":\"GridStyles_absoluteContainer_4-vk\",\"viewContainer\":\"GridStyles_viewContainer_2xZb\",\"tileContent\":\"GridStyles_tileContent_3hYJ\",\"outline\":\"GridStyles_outline_1RYd\",\"outlineItem\":\"GridStyles_outlineItem_3737\",\"norow-overlay\":\"GridStyles_norow-overlay_rgjs\",\"norow-overlay-img\":\"GridStyles_norow-overlay-img_YxV0\",\"activeView\":\"GridStyles_activeView_2WmE\",\"viewSwitch\":\"GridStyles_viewSwitch_2mKT\",\"icon\":\"GridStyles_icon_4ra5\",\"ieSizeClass\":\"GridStyles_ieSizeClass_2hTv\",\"billView\":\"GridStyles_billView_3_t1\",\"billEdit\":\"GridStyles_billEdit_2Zf5\",\"grid-suppress-copy\":\"GridStyles_grid-suppress-copy_2WlA\",\"grid-validate-tip\":\"GridStyles_grid-validate-tip_20VF\"});\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/GridStyles.less?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/HeaderComponent/HeaderClass.less":
/*!********************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/HeaderComponent/HeaderClass.less ***!
  \********************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"header-root\":\"HeaderClass_header-root_22Rn\",\"hover-show-icon\":\"HeaderClass_hover-show-icon_3mGP\",\"header-filtered-icon\":\"HeaderClass_header-filtered-icon_1GYT\",\"tool-tip-icon\":\"HeaderClass_tool-tip-icon_1Wxc\",\"header-label\":\"HeaderClass_header-label_tyvK\",\"header-checkbox\":\"HeaderClass_header-checkbox_31rh\",\"checkbox-icon\":\"HeaderClass_checkbox-icon_2TA-\",\"voucherAmthead\":\"HeaderClass_voucherAmthead_129b\",\"customResize\":\"HeaderClass_customResize_1l8R\",\"header-sort\":\"HeaderClass_header-sort_u4Te\"});\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/HeaderComponent/HeaderClass.less?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/LightGrid/lightGrid.less":
/*!************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/LightGrid/lightGrid.less ***!
  \************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"gridContainer\":\"lightGrid_gridContainer_PPvB\",\"lightGrid\":\"lightGrid_lightGrid_1nA2\"});\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/LightGrid/lightGrid.less?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/rowModel/pinnedRow/PinnedRowSuspendSpace.less":
/*!*********************************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/rowModel/pinnedRow/PinnedRowSuspendSpace.less ***!
  \*********************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"pinned-row-suspend-space\":\"PinnedRowSuspendSpace_pinned-row-suspend-space_1r7n\"});\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/rowModel/pinnedRow/PinnedRowSuspendSpace.less?");

/***/ }),

/***/ "./src/component/web/DataGrid/AgDataGrid/rowModel/pinnedRow/pinnedCell.less":
/*!**********************************************************************************!*\
  !*** ./src/component/web/DataGrid/AgDataGrid/rowModel/pinnedRow/pinnedCell.less ***!
  \**********************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"pinnedCell\":\"pinnedCell_pinnedCell_3Elt\",\"pinnedCell-container\":\"pinnedCell_pinnedCell-container_3JV0\",\"pinnedCell-selction\":\"pinnedCell_pinnedCell-selction_351b\"});\n\n//# sourceURL=webpack://bos-platform/./src/component/web/DataGrid/AgDataGrid/rowModel/pinnedRow/pinnedCell.less?");

/***/ })

}]);