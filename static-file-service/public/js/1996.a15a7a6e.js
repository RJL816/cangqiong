(self["webpackJsonp_bos-platform"]=self["webpackJsonp_bos-platform"]||[]).push([[1996],{918848:function(r){r.exports=Math.sign||function(r){return 0==(r=+r)||r!=r?r:r<0?-1:1}},73960:function(r,e,t){var n=t(387248),i=Math.log,f=Math.LN2;n({target:"Math",stat:!0},{log2:function(r){return i(r)/f}})},511512:function(r,e,t){t(387248)({target:"Math",stat:!0},{sign:t(918848)})},805720:function(r,e,t){t(387248)({target:"String",proto:!0},{repeat:t(617512)})},524532:function(r,e,t){t(279440)("Float32",(function(r){return function(e,t,n){return r(this,e,t,n)}}))},778763:function(r,e,t){t(279440)("Float64",(function(r){return function(e,t,n){return r(this,e,t,n)}}))},882800:function(r,e,t){t(279440)("Int16",(function(r){return function(e,t,n){return r(this,e,t,n)}}))},911364:function(r,e,t){t(279440)("Int32",(function(r){return function(e,t,n){return r(this,e,t,n)}}))},278176:function(r,e,t){t(279440)("Int8",(function(r){return function(e,t,n){return r(this,e,t,n)}}))},302080:function(r,e,t){t(279440)("Uint16",(function(r){return function(e,t,n){return r(this,e,t,n)}}))},719572:function(r,e,t){t(279440)("Uint32",(function(r){return function(e,t,n){return r(this,e,t,n)}}))},342032:function(r,e,t){t(279440)("Uint8",(function(r){return function(e,t,n){return r(this,e,t,n)}}),!0)},921996:function(r,e,t){"use strict";r=t.nmd(r);var n=t(353664);function i(r){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},i(r)}t(182320),t(909112),t(697060),t(78504),t(977864),t(9692),t(106208),t(241872),t(743924),t(693917),t(927184),t(201336),t(803372),t(976896),t(721300),t(73960),t(511512),t(76124),t(387912),t(571176),t(690512),t(125048),t(805720),t(524532),t(778763),t(278176),t(882800),t(911364),t(144388),t(342032),t(302080),t(719572),t(137292),t(502240),t(123268),t(420660),t(794580),t(843160),t(808608),t(587503),t(216696),t(257309),t(576728),t(637332),t(37888),t(614379),t(893723),t(748776),t(557096),t(156539),t(155888),t(750768),t(154732),t(413108),t(956264),function(){var e={};function t(){void 0===n&&console.log.apply(console,arguments)}"object"==i(r)?r.exports=e:self.UTIF=e,function(r){var e,n,f,a,o,u,s,c,l,v,h,d,w,g,_;!function(){var e=function(){function r(r){this.message="JPEG error: "+r}return r.prototype=new Error,r.prototype.name="JpegError",r.constructor=r,r}(),t=function(){var r=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),t=4017,f=799,a=3406,o=2276,u=1567,s=3784,c=5793,l=2896;function v(r){null==r&&(r={}),null==r.w&&(r.w=-1),this.V=r.n,this.N=r.w}function h(r,e){for(var t,n,i,f=0,a=[],o=16;o>0&&!r[o-1];)o--;a.push({children:[],index:0});var u=a[0];for(t=0;t<o;t++){for(n=0;n<r[t];n++){for((u=a.pop()).children[u.index]=e[f];u.index>0;)u=a.pop();for(u.index++,a.push(u);a.length<=t;)a.push(i={children:[],index:0}),u.children[u.index]=i.children,u=i;f++}t+1<o&&(a.push(i={children:[],index:0}),u.children[u.index]=i.children,u=i)}return a[0].children}function d(r,e,t){return 64*((r.P+1)*e+t)}function w(t,f,a,o,u,s,c,l,v,h){null==h&&(h=!1);var w,g,_,p,m,y,A,U,I,E,M,D=a.m,k=a.Z,B=f,F=0,P=0,x=0,S=0,C=0,L=0;function H(){if(P>0)return P--,F>>P&1;if(255===(F=t[f++])){var r=t[f++];if(r){if(220===r&&h){var i=n(t,f+=2);if(f+=2,i>0&&i!==a.s)throw new DNLMarkerError("Found DNL marker (0xFFDC) while parsing scan data",i)}else if(217===r){if(h){var o=8*C;if(o>0&&o<a.s/10)throw new DNLMarkerError("Found EOI marker (0xFFD9) while parsing scan data, possibly caused by incorrect `scanLines` parameter",o)}throw new EOIMarkerError("Found EOI marker (0xFFD9) while parsing scan data")}throw new e("unexpected marker")}}return P=7,F>>>7}function J(r){for(var t=r;;){switch(i(t=t[H()])){case"number":return t;case"object":continue}throw new e("invalid huffman sequence")}}function G(r){for(var e=0;r>0;)e=e<<1|H(),r--;return e}function N(r){if(1===r)return 1===H()?1:-1;var e=G(r);return e>=1<<r-1?e:e+(-1<<r)+1}function O(r,e,t,n,i){var f=t%D;C=(t/D|0)*r.A+n;var a=f*r.h+i;e(r,d(r,C,a))}function W(r,e,t){C=t/r.P|0;var n=t%r.P;e(r,d(r,C,n))}var j=o.length;for(A=k?0===s?0===l?function(r,e){var t=J(r.J),n=0===t?0:N(t)<<v;r.D[e]=r.Q+=n}:function(r,e){r.D[e]|=H()<<v}:0===l?function(e,t){if(x>0)x--;else for(var n=s,i=c;n<=i;){var f=J(e.i),a=15&f,o=f>>4;if(0!==a){var u=r[n+=o];e.D[t+u]=N(a)*(1<<v),n++}else{if(o<15){x=G(o)+(1<<o)-1;break}n+=16}}}:function(t,n){for(var i,f,a=s,o=c,u=0;a<=o;){var l=n+r[a],h=t.D[l]<0?-1:1;switch(S){case 0:if(u=(f=J(t.i))>>4,0==(i=15&f))u<15?(x=G(u)+(1<<u),S=4):(u=16,S=1);else{if(1!==i)throw new e("invalid ACn encoding");w=N(i),S=u?2:3}continue;case 1:case 2:t.D[l]?t.D[l]+=h*(H()<<v):0==--u&&(S=2===S?3:0);break;case 3:t.D[l]?t.D[l]+=h*(H()<<v):(t.D[l]=w<<v,S=0);break;case 4:t.D[l]&&(t.D[l]+=h*(H()<<v))}a++}4===S&&0==--x&&(S=0)}:function(e,t){var n=J(e.J),i=0===n?0:N(n),f=1;for(e.D[t]=e.Q+=i;f<64;){var a=J(e.i),o=15&a,u=a>>4;if(0!==o){var s=r[f+=u];e.D[t+s]=N(o),f++}else{if(u<15)break;f+=16}}},I=1===j?o[0].P*o[0].c:D*a.R;L<=I;){var T=u?Math.min(I-L,u):I;if(T>0){for(_=0;_<j;_++)o[_].Q=0;if(x=0,1===j)for(g=o[0],y=0;y<T;y++)W(g,A,L),L++;else for(y=0;y<T;y++){for(_=0;_<j;_++)for(E=(g=o[_]).h,M=g.A,p=0;p<M;p++)for(m=0;m<E;m++)O(g,A,L,p,m);L++}}if(P=0,!(U=b(t,f)))break;if(U.u){f=U.offset}if(!(U.M>=65488&&U.M<=65495))break;f+=2}return f-B}function g(r,n,i){var v,h,d,w,g,_,b,p,m,y,A,U,I,E,M,D,k,B=r.$,F=r.D;if(!B)throw new e("missing required Quantization Table.");for(var P=0;P<64;P+=8)m=F[n+P],y=F[n+P+1],A=F[n+P+2],U=F[n+P+3],I=F[n+P+4],E=F[n+P+5],M=F[n+P+6],D=F[n+P+7],m*=B[P],0!=(y|A|U|I|E|M|D)?(y*=B[P+1],A*=B[P+2],U*=B[P+3],I*=B[P+4],E*=B[P+5],M*=B[P+6],D*=B[P+7],h=(v=(v=c*m+128>>8)+(h=c*I+128>>8)+1>>1)-h,k=(d=A)*s+(w=M)*u+128>>8,d=d*u-w*s+128>>8,b=(g=(g=l*(y-D)+128>>8)+(b=E<<4)+1>>1)-b,_=(p=(p=l*(y+D)+128>>8)+(_=U<<4)+1>>1)-_,w=(v=v+(w=k)+1>>1)-w,d=(h=h+d+1>>1)-d,k=g*o+p*a+2048>>12,g=g*a-p*o+2048>>12,p=k,k=_*f+b*t+2048>>12,_=_*t-b*f+2048>>12,b=k,i[P]=v+p,i[P+7]=v-p,i[P+1]=h+b,i[P+6]=h-b,i[P+2]=d+_,i[P+5]=d-_,i[P+3]=w+g,i[P+4]=w-g):(k=c*m+512>>10,i[P]=k,i[P+1]=k,i[P+2]=k,i[P+3]=k,i[P+4]=k,i[P+5]=k,i[P+6]=k,i[P+7]=k);for(var x=0;x<8;++x)m=i[x],0!=((y=i[x+8])|(A=i[x+16])|(U=i[x+24])|(I=i[x+32])|(E=i[x+40])|(M=i[x+48])|(D=i[x+56]))?(h=(v=4112+((v=c*m+2048>>12)+(h=c*I+2048>>12)+1>>1))-h,k=(d=A)*s+(w=M)*u+2048>>12,d=d*u-w*s+2048>>12,w=k,b=(g=(g=l*(y-D)+2048>>12)+(b=E)+1>>1)-b,_=(p=(p=l*(y+D)+2048>>12)+(_=U)+1>>1)-_,k=g*o+p*a+2048>>12,g=g*a-p*o+2048>>12,p=k,k=_*f+b*t+2048>>12,_=_*t-b*f+2048>>12,(m=(v=v+w+1>>1)+p)<16?m=0:m>=4080?m=255:m>>=4,(y=(h=h+d+1>>1)+(b=k))<16?y=0:y>=4080?y=255:y>>=4,(A=(d=h-d)+_)<16?A=0:A>=4080?A=255:A>>=4,(U=(w=v-w)+g)<16?U=0:U>=4080?U=255:U>>=4,(I=w-g)<16?I=0:I>=4080?I=255:I>>=4,(E=d-_)<16?E=0:E>=4080?E=255:E>>=4,(M=h-b)<16?M=0:M>=4080?M=255:M>>=4,(D=v-p)<16?D=0:D>=4080?D=255:D>>=4,F[n+x]=m,F[n+x+8]=y,F[n+x+16]=A,F[n+x+24]=U,F[n+x+32]=I,F[n+x+40]=E,F[n+x+48]=M,F[n+x+56]=D):(k=(k=c*m+8192>>14)<-2040?0:k>=2024?255:k+2056>>4,F[n+x]=k,F[n+x+8]=k,F[n+x+16]=k,F[n+x+24]=k,F[n+x+32]=k,F[n+x+40]=k,F[n+x+48]=k,F[n+x+56]=k)}function _(r,e){for(var t=e.P,n=e.c,i=new Int16Array(64),f=0;f<n;f++)for(var a=0;a<t;a++){g(e,d(e,f,a),i)}return e.D}function b(r,e,t){null==t&&(t=e);var i=r.length-1,f=t<e?t:e;if(e>=i)return null;var a=n(r,e);if(a>=65472&&a<=65534)return{u:null,M:a,offset:e};for(var o=n(r,f);!(o>=65472&&o<=65534);){if(++f>=i)return null;o=n(r,f)}return{u:a.toString(16),M:o,offset:f}}return v.prototype={parse:function(t,i){null==i&&(i={});var f,a,o=i.F,u=0,s=null,c=null,l=0;function v(){var r=n(t,u),e=(u+=2)+r-2,i=b(t,e,u);i&&i.u&&(e=i.offset);var f=t.subarray(u,e);return u+=f.length,f}function d(r){for(var e=Math.ceil(r.o/8/r.X),t=Math.ceil(r.s/8/r.B),n=0;n<r.W.length;n++){j=r.W[n];var i=Math.ceil(Math.ceil(r.o/8)*j.h/r.X),f=Math.ceil(Math.ceil(r.s/8)*j.A/r.B),a=e*j.h,o=64*(t*j.A)*(a+1);j.D=new Int16Array(o),j.P=i,j.c=f}r.m=e,r.R=t}var g=[],p=[],m=[],y=n(t,u);if(u+=2,65496!==y)throw new e("SOI not found");y=n(t,u),u+=2;r:for(;65497!==y;){var A,U,I;switch(y){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var E=v();65504===y&&74===E[0]&&70===E[1]&&73===E[2]&&70===E[3]&&0===E[4]&&(s={version:{d:E[5],T:E[6]},K:E[7],j:E[8]<<8|E[9],H:E[10]<<8|E[11],S:E[12],I:E[13],C:E.subarray(14,14+3*E[12]*E[13])}),65518===y&&65===E[0]&&100===E[1]&&111===E[2]&&98===E[3]&&101===E[4]&&(c={version:E[5]<<8|E[6],k:E[7]<<8|E[8],q:E[9]<<8|E[10],a:E[11]});break;case 65499:for(var M=n(t,u)+(u+=2)-2;u<M;){var D=t[u++],k=new Uint16Array(64);if(D>>4==0)for(U=0;U<64;U++)k[r[U]]=t[u++];else{if(D>>4!=1)throw new e("DQT - invalid table spec");for(U=0;U<64;U++)k[r[U]]=n(t,u),u+=2}g[15&D]=k}break;case 65472:case 65473:case 65474:if(f)throw new e("Only single frame JPEGs supported");u+=2,(f={}).G=65473===y,f.Z=65474===y,f.precision=t[u++];var B,F=n(t,u),P=0,x=0;u+=2,f.s=o||F,f.o=n(t,u),u+=2,f.W=[],f._={};var S=t[u++];for(A=0;A<S;A++){B=t[u];var C=t[u+1]>>4,L=15&t[u+1];P<C&&(P=C),x<L&&(x=L);var H=t[u+2];I=f.W.push({h:C,A:L,L:H,$:null}),f._[B]=I-1,u+=3}f.X=P,f.B=x,d(f);break;case 65476:var J=n(t,u);for(u+=2,A=2;A<J;){var G=t[u++],N=new Uint8Array(16),O=0;for(U=0;U<16;U++,u++)O+=N[U]=t[u];var W=new Uint8Array(O);for(U=0;U<O;U++,u++)W[U]=t[u];A+=17+O,(G>>4==0?m:p)[15&G]=h(N,W)}break;case 65501:a=n(t,u+=2),u+=2;break;case 65498:var j,T=1==++l&&!o;u+=2;var R=t[u++],Q=[];for(A=0;A<R;A++){var q=t[u++],Z=f._[q];(j=f.W[Z]).index=q;var $=t[u++];j.J=m[$>>4],j.i=p[15&$],Q.push(j)}var V=t[u++],X=t[u++],z=t[u++];try{var Y=w(t,u,f,Q,a,V,X,z>>4,15&z,T);u+=Y}catch(r){if(r instanceof DNLMarkerError)return this.parse(t,{F:r.s});if(r instanceof EOIMarkerError)break r;throw r}break;case 65500:u+=4;break;case 65535:255!==t[u]&&u--;break;default:var K=b(t,u-2,u-3);if(K&&K.u){u=K.offset;break}if(u>=t.length-1)break r;throw new e("JpegImage.parse - unknown marker: "+y.toString(16))}y=n(t,u),u+=2}for(this.width=f.o,this.height=f.s,this.g=s,this.b=c,this.W=[],A=0;A<f.W.length;A++){var rr=g[(j=f.W[A]).L];rr&&(j.$=rr),this.W.push({index:j.index,e:_(0,j),l:j.h/f.X,t:j.A/f.B,P:j.P,c:j.c})}this.p=this.W.length},Y:function(r,e,t){null==t&&(t=!1);var n,i,f,a,o,u,s,c,l,v,h,d,w=this.width/r,g=this.height/e,_=0,b=this.W.length,p=r*e*b,m=new Uint8ClampedArray(p),y=new Uint32Array(r),A=4294967288;for(s=0;s<b;s++){if(i=(n=this.W[s]).l*w,f=n.t*g,_=s,h=n.e,a=n.P+1<<3,i!==d){for(o=0;o<r;o++)c=0|o*i,y[o]=(c&A)<<3|7&c;d=i}for(u=0;u<e;u++)for(v=a*((c=0|u*f)&A)|(7&c)<<3,o=0;o<r;o++)m[_]=h[v+y[o]],_+=b}var U=this.V;if(t||4!==b||U||(U=new Int32Array([-256,255,-256,255,-256,255,-256,255])),U)for(s=0;s<p;)for(c=0,l=0;c<b;c++,s++,l+=2)m[s]=(m[s]*U[l]>>8)+U[l+1];return m},get f(){return this.b?!!this.b.a:3===this.p?0!==this.N&&(82!==this.W[0].index||71!==this.W[1].index||66!==this.W[2].index):1===this.N},z:function(r){for(var e,t,n,i=0,f=r.length;i<f;i+=3)e=r[i],t=r[i+1],n=r[i+2],r[i]=e-179.456+1.402*n,r[i+1]=e+135.459-.344*t-.714*n,r[i+2]=e-226.816+1.772*t;return r},O:function(r){for(var e,t,n,i,f=0,a=0,o=r.length;a<o;a+=4)e=r[a],t=r[a+1],n=r[a+2],i=r[a+3],r[f++]=t*(-660635669420364e-19*t+.000437130475926232*n-54080610064599e-18*e+.00048449797120281*i-.154362151871126)-122.67195406894+n*(-.000957964378445773*n+.000817076911346625*e-.00477271405408747*i+1.53380253221734)+e*(.000961250184130688*e-.00266257332283933*i+.48357088451265)+i*(-.000336197177618394*i+.484791561490776),r[f++]=107.268039397724+t*(219927104525741e-19*t-.000640992018297945*n+.000659397001245577*e+.000426105652938837*i-.176491792462875)+n*(-.000778269941513683*n+.00130872261408275*e+.000770482631801132*i-.151051492775562)+e*(.00126935368114843*e-.00265090189010898*i+.25802910206845)+i*(-.000318913117588328*i-.213742400323665),r[f++]=t*(-.000570115196973677*t-263409051004589e-19*n+.0020741088115012*e-.00288260236853442*i+.814272968359295)-20.810012546947+n*(-153496057440975e-19*n-.000132689043961446*e+.000560833691242812*i-.195152027534049)+e*(.00174418132927582*e-.00255243321439347*i+.116935020465145)+i*(-.000343531996510555*i+.24165260232407);return r.subarray(0,f)},r:function(r){for(var e,t,n,i=0,f=r.length;i<f;i+=4)e=r[i],t=r[i+1],n=r[i+2],r[i]=434.456-e-1.402*n,r[i+1]=119.541-e+.344*t+.714*n,r[i+2]=481.816-e-1.772*t;return r},U:function(r){for(var e,t,n,i,f=0,a=0,o=r.length;a<o;a+=4)e=r[a],t=r[a+1],n=r[a+2],i=r[a+3],r[f++]=255+e*(-6747147073602441e-20*e+.0008379262121013727*t+.0002894718188643294*n+.003264231057537806*i-1.1185611867203937)+t*(26374107616089405e-21*t-8626949158638572e-20*n-.0002748769067499491*i-.02155688794978967)+n*(-3878099212869363e-20*n-.0003267808279485286*i+.0686742238595345)-i*(.0003361971776183937*i+.7430659151342254),r[f++]=255+e*(.00013596372813588848*e+.000924537132573585*t+.00010567359618683593*n+.0004791864687436512*i-.3109689587515875)+t*(-.00023545346108370344*t+.0002702845253534714*n+.0020200308977307156*i-.7488052167015494)+n*(6834815998235662e-20*n+.00015168452363460973*i-.09751927774728933)-i*(.0003189131175883281*i+.7364883807733168),r[f++]=255+e*(13598650411385307e-21*e+.00012423956175490851*t+.0004751985097583589*n-36729317476630422e-22*i-.05562186980264034)+t*(.00016141380598724676*t+.0009692239130725186*n+.0007782692450036253*i-.44015232367526463)+n*(5.068882914068769e-7*n+.0017778369011375071*i-.7591454649749609)-i*(.0003435319965105553*i+.7063770186160144);return r.subarray(0,f)},getData:function(r){var t=r.width,n=r.height,i=r.forceRGB,f=r.isSourcePDF;if(this.p>4)throw new e("Unsupported color mode");var a=this.Y(t,n,f);if(1===this.p&&i){for(var o=a.length,u=new Uint8ClampedArray(3*o),s=0,c=0;c<o;c++){var l=a[c];u[s++]=l,u[s++]=l,u[s++]=l}return u}if(3===this.p&&this.f)return this.z(a);if(4===this.p){if(this.f)return i?this.O(a):this.r(a);if(i)return this.U(a)}return a}},v}();function n(r,e){return r[e]<<8|r[e+1]}r.JpegDecoder=t}(),r.encodeImage=function(e,t,n,i){var f={t256:[t],t257:[n],t258:[8,8,8,8],t259:[1],t262:[2],t273:[1e3],t277:[4],t278:[n],t279:[t*n*4],t282:[[72,1]],t283:[[72,1]],t284:[1],t286:[[0,1]],t287:[[0,1]],t296:[1],t305:["Photopea (UTIF.js)"],t338:[1]};if(i)for(var a in i)f[a]=i[a];var o=new Uint8Array(r.encode([f])),u=new Uint8Array(e),s=new Uint8Array(1e3+t*n*4);for(a=0;a<o.length;a++)s[a]=o[a];for(a=0;a<u.length;a++)s[1e3+a]=u[a];return s.buffer},r.encode=function(e){var t=new Uint8Array(2e4),n=4,i=r._binBE;t[0]=t[1]=77,i.writeUshort(t,2,42);var f=8;i.writeUint(t,n,f),n+=4;for(var a=0;a<e.length;a++){var o=r._writeIFD(i,r._types.basic,t,f,e[a]);f=o[1],a<e.length-1&&(0!=(3&f)&&(f+=4-(3&f)),i.writeUint(t,o[0],f))}return t.slice(0,f).buffer},r.decode=function(e,n){null==n&&(n={parseMN:!0,debug:!1});var i=new Uint8Array(e),f=0,a=r._binBE.readASCII(i,f,2);f+=2;var o="II"==a?r._binLE:r._binBE;o.readUshort(i,f);f+=2;var u=o.readUint(i,f);f+=4;for(var s=[];;){var c=o.readUshort(i,u),l=o.readUshort(i,u+4);if(0!=c&&(l<1||13<l)){t("error in TIFF");break}if(r._readIFD(o,i,u,s,0,n),0==(u=o.readUint(i,u+2+12*c)))break}return s},r.decodeImage=function(e,n,i){if(!n.data){var f=new Uint8Array(e),a=r._binBE.readASCII(f,0,2);if(null!=n.t256){n.isLE="II"==a,n.width=n.t256[0],n.height=n.t257[0];var o=n.t259?n.t259[0]:1,u=n.t266?n.t266[0]:1;n.t284&&2==n.t284[0]&&t("PlanarConfiguration 2 should not be used!"),7==o&&n.t258&&n.t258.length>3&&(n.t258=n.t258.slice(0,3));var s=n.t277?n.t277[0]:1,c=(n.t258?n.t258[0]:1)*s;1==o&&null!=n.t279&&n.t278&&32803==n.t262[0]&&(c=Math.round(8*n.t279[0]/(n.width*n.t278[0]))),n.t50885&&4==n.t50885[0]&&(c=3*n.t258[0]);var l=8*Math.ceil(n.width*c/8),v=n.t273;(null==v||n.t322)&&(v=n.t324);var h=n.t279;1==o&&1==v.length&&(h=[n.height*(l>>>3)]),(null==h||n.t322)&&(h=n.t325);var d=new Uint8Array(n.height*(l>>>3)),w=0;if(null!=n.t322){for(var g=n.t322[0],_=n.t323[0],b=Math.floor((n.width+g-1)/g),p=Math.floor((n.height+_-1)/_),m=new Uint8Array(0|Math.ceil(g*_*c/8)),y=0;y<p;y++)for(var A=0;A<b;A++){var U=y*b+A;m.fill(0),r.decode._decompress(n,i,f,v[U],h[U],o,m,0,u,g,_),6==o?d=m:r._copyTile(m,0|Math.ceil(g*c/8),_,d,0|Math.ceil(n.width*c/8),n.height,0|Math.ceil(A*g*c/8),y*_)}w=8*d.length}else{if(null==v)return;var I=n.t278?n.t278[0]:n.height;I=Math.min(I,n.height);for(U=0;U<v.length;U++)r.decode._decompress(n,i,f,v[U],h[U],o,d,0|Math.ceil(w/8),u,n.width,I),w+=l*I;w=Math.min(w,8*d.length)}n.data=new Uint8Array(d.buffer,0,0|Math.ceil(w/8))}}},r.decode._decompress=function(e,n,i,f,a,o,u,s,c,l,v){if(e.t271&&"Panasonic"==e.t271[0]&&e.t45&&6==e.t45[0]&&(o=34316),1==o)for(var h=0;h<a;h++)u[s+h]=i[f+h];else if(2==o)r.decode._decodeG2(i,f,a,u,s,l,c);else if(3==o)r.decode._decodeG3(i,f,a,u,s,l,c,!!e.t292&&1==(1&e.t292[0]));else if(4==o)r.decode._decodeG4(i,f,a,u,s,l,c);else if(5==o)r.decode._decodeLZW(i,f,a,u,s,8);else if(6==o)r.decode._decodeOldJPEG(e,i,f,a,u,s);else if(7==o||34892==o)r.decode._decodeNewJPEG(e,i,f,a,u,s);else if(8==o||32946==o){var d=new Uint8Array(i.buffer,f+2,a-6),w=r._inflateRaw(d);s+w.length<=u.length&&u.set(w,s)}else 9==o?r.decode._decodeVC5(i,f,a,u,s,e.t33422):32767==o?r.decode._decodeARW(e,i,f,a,u,s):32773==o?r.decode._decodePackBits(i,f,a,u,s):32809==o?r.decode._decodeThunder(i,f,a,u,s):34316==o?r.decode._decodePanasonic(e,i,f,a,u,s):34713==o?r.decode._decodeNikon(e,n,i,f,a,u,s):34676==o?r.decode._decodeLogLuv32(e,i,f,a,u,s):t("Unknown compression",o);var g=e.t258?Math.min(32,e.t258[0]):1,_=e.t277?e.t277[0]:1,b=g*_>>>3,p=Math.ceil(g*_*l/8);if(16==g&&!e.isLE&&null==e.t33422)for(var m=0;m<v;m++)for(var y=s+m*p,A=1;A<p;A+=2){var U=u[y+A];u[y+A]=u[y+A-1],u[y+A-1]=U}if(e.t317&&2==e.t317[0])for(m=0;m<v;m++){var I=s+m*p;if(16==g)for(h=b;h<p;h+=2){var E=(u[I+h+1]<<8|u[I+h])+(u[I+h-b+1]<<8|u[I+h-b]);u[I+h]=255&E,u[I+h+1]=E>>>8&255}else if(3==_)for(h=3;h<p;h+=3)u[I+h]=u[I+h]+u[I+h-3]&255,u[I+h+1]=u[I+h+1]+u[I+h-2]&255,u[I+h+2]=u[I+h+2]+u[I+h-1]&255;else for(h=b;h<p;h++)u[I+h]=u[I+h]+u[I+h-b]&255}},r.decode._decodePanasonic=function(r,e,t,n,i,f){var a,o,u,s,c,l,v,h,d=e.buffer,w=r.t2[0],g=r.t3[0],_=r.t10[0],b=r.t45[0],p=0,m=0,y=0,A=0,U=6==b?new Uint32Array(18):new Uint8Array(16),I=[0,0],E=[0,0],M=0,D=new Uint8Array(16384),k=new Uint16Array(i.buffer);function B(r){if(0==y){var e=new Uint8Array(d,t+m+8184,8200),n=new Uint8Array(d,t+m,8184);D.set(e),D.set(n,e.length),m+=16384}if(5!=b)return(D[A=(y=y-r&131071)>>3^16368]|D[A+1]<<8)>>(7&y)&~(-1<<r);for(a=0;a<16;a++)U[a]=D[y++],y&=16383}function F(r){return D[y+15-r]}function P(){I[0]=0,I[1]=0,E[0]=0,E[1]=0}if(7==b)throw b;if(6==b){var x=12==_,S=x?function(){U[0]=F(0)<<4|F(1)>>4,U[1]=4095&((15&F(1))<<8|F(2)),U[2]=F(3)>>6&3,U[3]=(63&F(3))<<2|F(4)>>6,U[4]=(63&F(4))<<2|F(5)>>6,U[5]=(63&F(5))<<2|F(6)>>6,U[6]=F(6)>>4&3,U[7]=(15&F(6))<<4|F(7)>>4,U[8]=(15&F(7))<<4|F(8)>>4,U[9]=(15&F(8))<<4|F(9)>>4,U[10]=F(9)>>2&3,U[11]=(3&F(9))<<6|F(10)>>2,U[12]=(3&F(10))<<6|F(11)>>2,U[13]=(3&F(11))<<6|F(12)>>2,U[14]=3&F(12),U[15]=F(13),U[16]=F(14),U[17]=F(15),y+=16,A=0}:function(){U[0]=F(0)<<6|F(1)>>2,U[1]=16383&((3&F(1))<<12|F(2)<<4|F(3)>>4),U[2]=F(3)>>2&3,U[3]=(3&F(3))<<8|F(4),U[4]=F(5)<<2|F(6)>>6,U[5]=(63&F(6))<<4|F(7)>>4,U[6]=F(7)>>2&3,U[7]=(3&F(7))<<8|F(8),U[8]=F(9)<<2&1020|F(10)>>6,U[9]=1023&(F(10)<<4|F(11)>>4),U[10]=F(11)>>2&3,U[11]=(3&F(11))<<8|F(12),U[12]=1023&(F(13)<<2&1020|F(14)>>6),U[13]=1023&(F(14)<<4|F(15)>>4),y+=16,A=0},C=x?14:11,L=x?128:512,H=x?2048:8192,J=x?16383:65535,G=x?4095:16383,N=w/C,O=16*N,W=x?18:14;for(l=0;l<g-15;l+=16){var j=Math.min(16,g-l),T=O*j;for(D=new Uint8Array(d,t+p,T),y=0,p+=T,h=0,v=0;h<j;h++,v=0){M=(l+h)*w;for(var R=0;R<N;R++)for(S(),P(),u=0,c=0,a=0;a<C;a++){if(s=1&a,a%3==2){var Q=A<W?U[A++]:0;3==Q&&(Q=4),c=L<<Q,u=1<<Q}var q=A<W?U[A++]:0;I[s]?(q*=u,c<H&&E[s]>c&&(q+=E[s]-c),E[s]=q):(I[s]=q,q?E[s]=q:q=E[s]),k[M+v++]=q-15<=J?q-15&J:q+2147483633>>31&G}}}}else if(5==b){var Z=12==_?10:9;for(l=0;l<g;l++)for(v=0;v<w;v+=Z)B(0),12==_?(k[M++]=((15&U[1])<<8)+U[0],k[M++]=16*U[2]+(U[1]>>4),k[M++]=((15&U[4])<<8)+U[3],k[M++]=16*U[5]+(U[4]>>4),k[M++]=((15&U[7])<<8)+U[6],k[M++]=16*U[8]+(U[7]>>4),k[M++]=((15&U[10])<<8)+U[9],k[M++]=16*U[11]+(U[10]>>4),k[M++]=((15&U[13])<<8)+U[12],k[M++]=16*U[14]+(U[13]>>4)):14==_&&(k[M++]=U[0]+((63&U[1])<<8),k[M++]=(U[1]>>6)+4*U[2]+((15&U[3])<<10),k[M++]=(U[3]>>4)+16*U[4]+((3&U[5])<<12),k[M++]=((252&U[5])>>2)+(U[6]<<6),k[M++]=U[7]+((63&U[8])<<8),k[M++]=(U[8]>>6)+4*U[9]+((15&U[10])<<10),k[M++]=(U[10]>>4)+16*U[11]+((3&U[12])<<12),k[M++]=((252&U[12])>>2)+(U[13]<<6),k[M++]=U[14]+((63&U[15])<<8))}else{if(4!=b)throw b;for(l=0;l<g;l++)for(v=0;v<w;v++)s=1&(a=v%14),0==a&&P(),a%3==2&&(u=4>>3-B(2)),E[s]?0!=(o=B(8))&&(I[s]-=128<<u,(I[s]<0||4==u)&&(I[s]&=~(-1<<u)),I[s]+=o<<u):(E[s]=B(8),(E[s]||a>11)&&(I[s]=E[s]<<4|B(4))),k[M++]=I[1&v]}},r.decode._decodeVC5=function(){var e,t,n,i=[1,0,1,0,2,2,1,1,3,7,1,2,5,25,1,3,6,48,1,4,6,54,1,5,7,111,1,8,7,99,1,6,7,105,12,0,7,107,1,7,8,209,20,0,8,212,1,9,8,220,1,10,9,393,1,11,9,394,32,0,9,416,1,12,9,427,1,13,10,887,1,18,10,784,1,14,10,790,1,15,10,835,60,0,10,852,1,16,10,885,1,17,11,1571,1,19,11,1668,1,20,11,1669,100,0,11,1707,1,21,11,1772,1,22,12,3547,1,29,12,3164,1,24,12,3166,1,25,12,3140,1,23,12,3413,1,26,12,3537,1,27,12,3539,1,28,13,7093,1,35,13,6283,1,30,13,6331,1,31,13,6335,180,0,13,6824,1,32,13,7072,1,33,13,7077,320,0,13,7076,1,34,14,12565,1,36,14,12661,1,37,14,12669,1,38,14,13651,1,39,14,14184,1,40,15,28295,1,46,15,28371,1,47,15,25320,1,42,15,25336,1,43,15,25128,1,41,15,27300,1,44,15,28293,1,45,16,50259,1,48,16,50643,1,49,16,50675,1,50,16,56740,1,53,16,56584,1,51,16,56588,1,52,17,113483,1,61,17,113482,1,60,17,101285,1,55,17,101349,1,56,17,109205,1,57,17,109207,1,58,17,100516,1,54,17,113171,1,59,18,202568,1,62,18,202696,1,63,18,218408,1,64,18,218412,1,65,18,226340,1,66,18,226356,1,67,18,226358,1,68,19,402068,1,69,19,405138,1,70,19,405394,1,71,19,436818,1,72,19,436826,1,73,19,452714,1,75,19,452718,1,76,19,452682,1,74,20,804138,1,77,20,810279,1,78,20,810790,1,79,20,873638,1,80,20,873654,1,81,20,905366,1,82,20,905430,1,83,20,905438,1,84,21,1608278,1,85,21,1620557,1,86,21,1621582,1,87,21,1621583,1,88,21,1747310,1,89,21,1810734,1,90,21,1810735,1,91,21,1810863,1,92,21,1810879,1,93,22,3621725,1,99,22,3621757,1,100,22,3241112,1,94,22,3494556,1,95,22,3494557,1,96,22,3494622,1,97,22,3494623,1,98,23,6482227,1,102,23,6433117,1,101,23,6989117,1,103,23,6989119,1,105,23,6989118,1,104,23,7243449,1,106,23,7243512,1,107,24,13978233,1,111,24,12964453,1,109,24,12866232,1,108,24,14486897,1,113,24,13978232,1,110,24,14486896,1,112,24,14487026,1,114,24,14487027,1,115,25,25732598,1,225,25,25732597,1,189,25,25732596,1,188,25,25732595,1,203,25,25732594,1,202,25,25732593,1,197,25,25732592,1,207,25,25732591,1,169,25,25732590,1,223,25,25732589,1,159,25,25732522,1,235,25,25732579,1,152,25,25732575,1,192,25,25732489,1,179,25,25732573,1,201,25,25732472,1,172,25,25732576,1,149,25,25732488,1,178,25,25732566,1,120,25,25732571,1,219,25,25732577,1,150,25,25732487,1,127,25,25732506,1,211,25,25732548,1,125,25,25732588,1,158,25,25732486,1,247,25,25732467,1,238,25,25732508,1,163,25,25732552,1,228,25,25732603,1,183,25,25732513,1,217,25,25732587,1,168,25,25732520,1,122,25,25732484,1,128,25,25732562,1,249,25,25732505,1,187,25,25732504,1,186,25,25732483,1,136,25,25928905,1,181,25,25732560,1,255,25,25732500,1,230,25,25732482,1,135,25,25732555,1,233,25,25732568,1,222,25,25732583,1,145,25,25732481,1,134,25,25732586,1,167,25,25732521,1,248,25,25732518,1,209,25,25732480,1,243,25,25732512,1,216,25,25732509,1,164,25,25732547,1,140,25,25732479,1,157,25,25732544,1,239,25,25732574,1,191,25,25732564,1,251,25,25732478,1,156,25,25732546,1,139,25,25732498,1,242,25,25732557,1,133,25,25732477,1,162,25,25732515,1,213,25,25732584,1,165,25,25732514,1,212,25,25732476,1,227,25,25732494,1,198,25,25732531,1,236,25,25732530,1,234,25,25732529,1,117,25,25732528,1,215,25,25732527,1,124,25,25732526,1,123,25,25732525,1,254,25,25732524,1,253,25,25732523,1,148,25,25732570,1,218,25,25732580,1,146,25,25732581,1,147,25,25732569,1,224,25,25732533,1,143,25,25732540,1,184,25,25732541,1,185,25,25732585,1,166,25,25732556,1,132,25,25732485,1,129,25,25732563,1,250,25,25732578,1,151,25,25732501,1,119,25,25732502,1,193,25,25732536,1,176,25,25732496,1,245,25,25732553,1,229,25,25732516,1,206,25,25732582,1,144,25,25732517,1,208,25,25732558,1,137,25,25732543,1,241,25,25732466,1,237,25,25732507,1,190,25,25732542,1,240,25,25732551,1,131,25,25732554,1,232,25,25732565,1,252,25,25732475,1,171,25,25732493,1,205,25,25732492,1,204,25,25732491,1,118,25,25732490,1,214,25,25928904,1,180,25,25732549,1,126,25,25732602,1,182,25,25732539,1,175,25,25732545,1,141,25,25732559,1,138,25,25732537,1,177,25,25732534,1,153,25,25732503,1,194,25,25732606,1,160,25,25732567,1,121,25,25732538,1,174,25,25732497,1,246,25,25732550,1,130,25,25732572,1,200,25,25732474,1,170,25,25732511,1,221,25,25732601,1,196,25,25732532,1,142,25,25732519,1,210,25,25732495,1,199,25,25732605,1,155,25,25732535,1,154,25,25732499,1,244,25,25732510,1,220,25,25732600,1,195,25,25732607,1,161,25,25732604,1,231,25,25732473,1,173,25,25732599,1,226,26,51465122,1,116,26,51465123,0,1],f=[3,3,3,3,2,2,2,1,1,1];function a(r){var e=r[1],t=r[0][e>>>3]>>>7-(7&e)&1;return r[1]++,t}function o(r,t){if(null==e){e={};for(var n=0;n<i.length;n+=4)e[i[n+1]]=i.slice(n,n+4)}for(var f=a(r),o=e[f];null==o;)f=f<<1|a(r),o=e[f];var u=o[3];0!=u&&(u=0==a(r)?u:-u),t[0]=o[2],t[1]=u}function u(r,e){for(var t=0;t<e;t++)1==(1&r)&&r++,r>>>=1;return r}function s(r,e){return r>>e}function c(r,e,t,n,i,f){e[t]=s(s(11*r[i]-4*r[i+f]+r[i+f+f]+4,3)+r[n],1),e[t+f]=s(s(5*r[i]+4*r[i+f]-r[i+f+f]+4,3)-r[n],1)}function l(r,e,t,n,i,f){var a=r[i-f]-r[i+f],o=r[i],u=r[n];e[t]=s(s(a+4,3)+o+u,1),e[t+f]=s(s(4-a,3)+o-u,1)}function v(r,e,t,n,i,f){e[t]=s(s(5*r[i]+4*r[i-f]-r[i-f-f]+4,3)+r[n],1),e[t+f]=s(s(11*r[i]-4*r[i-f]+r[i-f-f]+4,3)-r[n],1)}function h(r){return r=n[r=r<0?0:r>4095?4095:r]>>>2}return function(e,i,a,s,d,w){s=new Uint16Array(s.buffer),Date.now();var g,_,b,p,m,y,A,U,I=r._binBE,E=i+a;i+=4;for(var M=1==w[0];i<E;){var D=I.readShort(e,i),k=I.readUshort(e,i+2);if(i+=4,12==D)L=k;else if(20==D)g=k;else if(21==D)_=k;else if(48==D)b=k;else if(53==D)p=k;else if(35==D)k;else if(62==D)m=k;else if(101==D)k;else if(109==D)y=k;else if(84==D)k;else if(106==D)k;else if(107==D)k;else if(108==D)k;else if(102==D)k;else if(104==D)er=k;else if(105==D)k;else{var B=D<0?-D:D,F=65280&B,P=0;if(24576&B&&(8192&B?(P=65535&k,P+=(255&B)<<16):P=65535&k),24576==(24576&B)){if(null==A){A=[];for(var x=0;x<4;x++)A[x]=new Int16Array((g>>>1)*(_>>>1));U=new Int16Array((g>>>1)*(_>>>1)),t=new Int16Array(1024);for(x=0;x<1024;x++){var S=x-512,C=Math.abs(S),L=Math.floor(768*C*C*C/16581375)+C;t[x]=Math.sign(S)*L}n=new Uint16Array(4096);for(x=0;x<4096;x++){var H=x,J=65535*(Math.pow(113,H/4095)-1)/112;n[x]=Math.min(J,65535)}}var G=A[m],N=u(g,1+f[b]),O=u(_,1+f[b]);if(0==b)for(var W=0;W<O;W++)for(var j=0;j<N;j++){var T=i+2*(W*N+j);G[W*(g>>>1)+j]=e[T]<<8|e[T+1]}else{var R=[e,8*i],Q=[],q=0,Z=N*O,$=[0,0],V=0;for(k=0;q<Z;)for(o(R,$),V=$[0],k=$[1];V>0;)Q[q++]=k,V--;var X=(b-1)%3,z=1!=X?N:0,Y=0!=X?O:0;for(W=0;W<O;W++){var K=(W+Y)*(g>>>1)+z,rr=W*N;for(j=0;j<N;j++)G[K+j]=t[Q[rr+j]+512]*p}if(2==X){var er=g>>>1,tr=2*N,nr=2*O;for(W=0;W<O;W++)for(j=0;j<tr;j++){x=2*W*er+j;var ir=O*er+(ar=W*er+j);0==W?c(G,U,x,ir,ar,er):W==O-1?v(G,U,x,ir,ar,er):l(G,U,x,ir,ar,er)}var fr=G;G=U,U=fr;for(W=0;W<nr;W++)for(j=0;j<N;j++){var ar;x=W*er+2*j,ir=N+(ar=W*er+j);0==j?c(G,U,x,ir,ar,1):j==N-1?v(G,U,x,ir,ar,1):l(G,U,x,ir,ar,1)}fr=G;G=U,U=fr;for(var or=[],ur=2-~~((b-1)/3),sr=0;sr<3;sr++)or[sr]=y>>14-2*sr&3;var cr=or[ur];if(0!=cr)for(W=0;W<nr;W++)for(j=0;j<tr;j++){G[x=W*er+j]=G[x]<<cr}}}if(9==b&&3==m){var lr=A[0],vr=A[1],hr=A[2],dr=A[3];for(W=0;W<_;W+=2)for(j=0;j<g;j+=2){var wr=W*g+j,gr=lr[T=(W>>>1)*(g>>>1)+(j>>>1)],_r=vr[T]-2048,br=hr[T]-2048,pr=dr[T]-2048,mr=(_r<<1)+gr,yr=(br<<1)+gr,Ar=gr+pr,Ur=gr-pr;M?(s[wr]=h(Ar),s[wr+1]=h(yr),s[wr+g]=h(mr),s[wr+g+1]=h(Ur)):(s[wr]=h(mr),s[wr+1]=h(Ar),s[wr+g]=h(Ur),s[wr+g+1]=h(yr))}}i+=4*P}else if(16388==B)i+=4*P;else if(8192!=F&&8448!=F&&9216!=F)throw B.toString(16)}}Date.now()}}(),r.decode._decodeLogLuv32=function(r,e,t,n,i,f){for(var a=r.width,o=4*a,u=0,s=new Uint8Array(o);u<n;){for(var c=0;c<o;){var l=e[t+u];if(u++,l<128){for(var v=0;v<l;v++)s[c+v]=e[t+u+v];c+=l,u+=l}else{l-=126;for(v=0;v<l;v++)s[c+v]=e[t+u];c+=l,u++}}for(var h=0;h<a;h++)i[f+0]=s[h],i[f+1]=s[h+a],i[f+2]=s[h+2*a],i[f+4]=s[h+3*a],f+=6}},r.decode._ljpeg_diff=function(e,t,n){var i,f,a=r.decode._getbithuff;return i=a(e,t,n[0],n),0==((f=a(e,t,i,0))&1<<i-1)&&(f-=(1<<i)-1),f},r.decode._decodeARW=function(e,t,n,i,f,a){var o=e.t256[0],u=e.t257[0],s=e.t258[0],c=e.isLE?r._binLE:r._binBE;if(o*u==i||o*u*1.5==i)if(o*u*1.5!=i){var l,v,h,d,w,g,_,b,p=new Uint16Array(16),m=new Uint8Array(o+1);for(k=0;k<u;k++){for(var y=0;y<o;y++)m[y]=t[n++];for(b=0,D=0;D<o-30;b+=16){for(v=2047&(l=c.readUint(m,b)),h=2047&l>>>11,d=15&l>>>22,w=15&l>>>26,g=0;g<4&&128<<g<=v-h;g++);for(_=30,A=0;A<16;A++)A==d?p[A]=v:A==w?p[A]=h:(p[A]=((c.readUshort(m,b+(_>>3))>>>(7&_)&127)<<g)+h,p[A]>2047&&(p[A]=2047),_+=7);for(A=0;A<16;A++,D+=2){H=p[A]<<1;r.decode._putsF(f,(k*o+D)*s,H<<16-s)}D-=1&D?1:31}}}else for(var A=0;A<i;A+=3){var U=t[n+A+0],I=t[n+A+1],E=t[n+A+2];f[a+A]=I<<4|U>>>4,f[a+A+1]=U<<4|E>>>4,f[a+A+2]=E<<4|I>>>4}else{u+=8;var M,D,k,B=[n,0,0,0],F=new Uint16Array(32770),P=[3857,3856,3599,3342,3085,2828,2571,2314,2057,1800,1543,1286,1029,772,771,768,514,513],x=0,S=r.decode._ljpeg_diff;for(F[0]=15,M=A=0;A<18;A++)for(var C=32768>>>(P[A]>>>8),L=0;L<C;L++)F[++M]=P[A];for(D=o;D--;)for(k=0;k<u+1;k+=2)if(k==u&&(k=1),x+=S(t,B,F),k<u){var H=4095&x;r.decode._putsF(f,(k*o+D)*s,H<<16-s)}}},r.decode._decodeNikon=function(e,t,n,i,f,a,o){var u=[[0,0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,5,4,3,6,2,7,1,0,8,9,11,10,12],[0,0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,57,90,56,39,22,5,4,3,2,1,0,11,12,12],[0,0,1,4,2,3,1,2,0,0,0,0,0,0,0,0,0,5,4,6,3,7,2,8,1,9,0,10,11,12],[0,0,1,4,3,1,1,1,1,1,2,0,0,0,0,0,0,5,6,4,7,8,3,9,2,1,0,10,11,12,13,14],[0,0,1,5,1,1,1,1,1,1,1,2,0,0,0,0,0,8,92,75,58,41,7,6,5,4,3,2,1,0,13,14],[0,0,1,4,2,2,3,1,2,0,0,0,0,0,0,0,0,7,6,8,5,9,4,10,3,11,12,2,0,1,13,14]],s=e.t256[0],c=e.t257[0],l=e.t258[0],v=0,h=0,d=r.decode._make_decoder,w=r.decode._getbithuff,g=t[0].exifIFD.makerNote,_=g.t150?g.t150:g.t140,b=0,p=_[b++],m=_[b++];73!=p&&88!=m||(b+=2110),70==p&&(v=2),14==l&&(v+=3);for(var y=[[0,0],[0,0]],A=e.isLE?r._binLE:r._binBE,U=0;U<2;U++)for(var I=0;I<2;I++)y[U][I]=A.readShort(_,b),b+=2;var E,M,D,k,B,F=1<<l&32767,P=0,x=A.readShort(_,b);b+=2,x>1&&(P=Math.floor(F/(x-1))),68==p&&32==m&&P>0&&(h=A.readShort(_,562));var S=[0,0],C=d(u[v]),L=[i,0,0,0];for(E=0;E<c;E++)for(h&&E==h&&(C=d(u[v+1])),M=0;M<s;M++){U=w(n,L,C[0],C),0==((B=1+(w(n,L,(D=15&U)-(k=U>>>4),0)<<1)<<k>>>1)&1<<D-1)&&(B-=(1<<D)-(0==k?1:0)),M<2?S[M]=y[1&E][M]+=B:S[1&M]+=B;var H=Math.min(Math.max(S[1&M],0),(1<<l)-1),J=(E*s+M)*l;r.decode._putsF(a,J,H<<16-l)}},r.decode._putsF=function(r,e,t){t<<=8-(7&e);var n=e>>>3;r[n]|=t>>>16,r[n+1]|=t>>>8,r[n+2]|=t},r.decode._getbithuff=function(e,t,n,i){r.decode._get_byte;var f,a=t[0],o=t[1],u=t[2],s=t[3];if(0==n||u<0)return 0;for(;!s&&u<n&&-1!=(f=e[a++])&&!(s=0);)o=(o<<8)+f,u+=8;if(f=o<<32-u>>>32-n,i?(u-=i[f+1]>>>8,f=255&i[f+1]):u-=n,u<0)throw"e";return t[0]=a,t[1]=o,t[2]=u,t[3]=s,f},r.decode._make_decoder=function(r){var e,t,n,i,f,a=[];for(e=16;0!=e&&!r[e];e--);var o=17;for(a[0]=e,n=t=1;t<=e;t++)for(i=0;i<r[t];i++,++o)for(f=0;f<1<<e-t;f++)n<=1<<e&&(a[n++]=t<<8|r[o]);return a},r.decode._decodeNewJPEG=function(e,t,n,i,f,a){i=Math.min(i,t.length-n);var o=e.t347,u=o?o.length:0,s=new Uint8Array(u+i);if(o){for(var c=0,l=0;l<u-1&&(255!=o[l]||217!=o[l+1]);l++)s[c++]=o[l];var v=t[n],h=t[n+1];255==v&&216==h||(s[c++]=v,s[c++]=h);for(l=2;l<i;l++)s[c++]=t[n+l]}else for(l=0;l<i;l++)s[l]=t[n+l];if(32803==e.t262[0]||7==e.t259[0]&&34892==e.t262[0]){var d=e.t258[0],w=r.LosslessJpegDecode(s),g=w.length;if(16==d)if(e.isLE)for(l=0;l<g;l++)f[a+(l<<1)]=255&w[l],f[a+(l<<1)+1]=w[l]>>>8;else for(l=0;l<g;l++)f[a+(l<<1)]=w[l]>>>8,f[a+(l<<1)+1]=255&w[l];else if(14==d||12==d||10==d){var _=16-d;for(l=0;l<g;l++)r.decode._putsF(f,l*d,w[l]<<_)}else{if(8!=d)throw new Error("unsupported bit depth "+d);for(l=0;l<g;l++)f[a+l]=w[l]}}else{var b=new r.JpegDecoder;b.parse(s);var p=b.getData({width:b.width,height:b.height,forceRGB:!0,isSourcePDF:!1});for(l=0;l<p.length;l++)f[a+l]=p[l]}6==e.t262[0]&&(e.t262[0]=2)},r.decode._decodeOldJPEGInit=function(r,e,n,i){var f,a,o,u,s,c=216,l=0,v=0,h=!1,d=r.t513,w=d?d[0]:0,g=r.t514,_=g?g[0]:0,b=r.t324||r.t273||d,p=r.t530,m=0,y=0,A=r.t277?r.t277[0]:1,U=r.t515;if(b&&(v=b[0],h=b.length>1),!h){if(255==e[n]&&e[n+1]==c)return{jpegOffset:n};if(null!=d&&(255==e[n+w]&&e[n+w+1]==c?l=n+w:t("JPEGInterchangeFormat does not point to SOI"),null==g?t("JPEGInterchangeFormatLength field is missing"):(w>=v||w+_<=v)&&t("JPEGInterchangeFormatLength field value is invalid"),null!=l))return{jpegOffset:l}}if(null!=p&&(m=p[0],y=p[1]),null!=d&&null!=g)if(_>=2&&w+_<=v){for(f=255==e[n+w+_-2]&&e[n+w+_-1]==c?new Uint8Array(_-2):new Uint8Array(_),o=0;o<f.length;o++)f[o]=e[n+w+o];t("Incorrect JPEG interchange format: using JPEGInterchangeFormat offset to derive tables")}else t("JPEGInterchangeFormat+JPEGInterchangeFormatLength > offset to first strip or tile");if(null==f){var I=0,E=[];E[I++]=255,E[I++]=c;var M=r.t519;if(null==M)throw new Error("JPEGQTables tag is missing");for(o=0;o<M.length;o++)for(E[I++]=255,E[I++]=219,E[I++]=0,E[I++]=67,E[I++]=o,u=0;u<64;u++)E[I++]=e[n+M[o]+u];for(s=0;s<2;s++){var D=r[0==s?"t520":"t521"];if(null==D)throw new Error((0==s?"JPEGDCTables":"JPEGACTables")+" tag is missing");for(o=0;o<D.length;o++){E[I++]=255,E[I++]=196;var k=19;for(u=0;u<16;u++)k+=e[n+D[o]+u];for(E[I++]=k>>>8,E[I++]=255&k,E[I++]=o|s<<4,u=0;u<16;u++)E[I++]=e[n+D[o]+u];for(u=0;u<k;u++)E[I++]=e[n+D[o]+16+u]}}if(E[I++]=255,E[I++]=192,E[I++]=0,E[I++]=8+3*A,E[I++]=8,E[I++]=r.height>>>8&255,E[I++]=255&r.height,E[I++]=r.width>>>8&255,E[I++]=255&r.width,E[I++]=A,1==A)E[I++]=1,E[I++]=17,E[I++]=0;else for(o=0;o<3;o++)E[I++]=o+1,E[I++]=0!=o?17:(15&m)<<4|15&y,E[I++]=o;null!=U&&0!=U[0]&&(E[I++]=255,E[I++]=221,E[I++]=0,E[I++]=4,E[I++]=U[0]>>>8&255,E[I++]=255&U[0]),f=new Uint8Array(E)}var B=-1;for(o=0;o<f.length-1;){if(255==f[o]&&192==f[o+1]){B=o;break}o++}if(-1==B){var F=new Uint8Array(f.length+10+3*A);F.set(f);var P=f.length;if(B=f.length,(f=F)[P++]=255,f[P++]=192,f[P++]=0,f[P++]=8+3*A,f[P++]=8,f[P++]=r.height>>>8&255,f[P++]=255&r.height,f[P++]=r.width>>>8&255,f[P++]=255&r.width,f[P++]=A,1==A)f[P++]=1,f[P++]=17,f[P++]=0;else for(o=0;o<3;o++)f[P++]=o+1,f[P++]=0!=o?17:(15&m)<<4|15&y,f[P++]=o}if(255==e[v]&&218==e[v+1]){var x=e[v+2]<<8|e[v+3];for((a=new Uint8Array(x+2))[0]=e[v],a[1]=e[v+1],a[2]=e[v+2],a[3]=e[v+3],o=0;o<x-2;o++)a[o+4]=e[v+o+4]}else{var S=0;if((a=new Uint8Array(8+2*A))[S++]=255,a[S++]=218,a[S++]=0,a[S++]=6+2*A,a[S++]=A,1==A)a[S++]=1,a[S++]=0;else for(o=0;o<3;o++)a[S++]=o+1,a[S++]=o<<4|o;a[S++]=0,a[S++]=63,a[S++]=0}return{jpegOffset:n,tables:f,sosMarker:a,sofPosition:B}},r.decode._decodeOldJPEG=function(e,t,n,i,f,a){var o,u,s,c,l=r.decode._decodeOldJPEGInit(e,t,n,i);if(null!=l.jpegOffset)for(o=n+i-l.jpegOffset,s=new Uint8Array(o),d=0;d<o;d++)s[d]=t[l.jpegOffset+d];else{for(u=l.tables.length,(s=new Uint8Array(u+l.sosMarker.length+i+2)).set(l.tables),c=u,s[l.sofPosition+5]=e.height>>>8&255,s[l.sofPosition+6]=255&e.height,s[l.sofPosition+7]=e.width>>>8&255,s[l.sofPosition+8]=255&e.width,255==t[n]&&t[n+1]==SOS||(s.set(l.sosMarker,c),c+=sosMarker.length),d=0;d<i;d++)s[c++]=t[n+d];s[c++]=255,s[c++]=EOI}var v=new r.JpegDecoder;v.parse(s);for(var h=v.getData({width:v.width,height:v.height,forceRGB:!0,isSourcePDF:!1}),d=0;d<h.length;d++)f[a+d]=h[d];e.t262&&6==e.t262[0]&&(e.t262[0]=2)},r.decode._decodePackBits=function(r,e,t,n,i){for(var f=new Int8Array(r.buffer),a=new Int8Array(n.buffer),o=e+t;e<o;){var u=f[e];if(e++,u>=0&&u<128)for(var s=0;s<u+1;s++)a[i]=f[e],i++,e++;if(u>=-127&&u<0){for(s=0;s<1-u;s++)a[i]=f[e],i++;e++}}return i},r.decode._decodeThunder=function(r,e,t,n,i){for(var f=[0,1,0,-1],a=[0,1,2,3,0,-3,-2,-1],o=e+t,u=2*i,s=0;e<o;){var c=r[e],l=c>>>6,v=63&c;if(e++,3==l&&(s=15&v,n[u>>>1]|=s<<4*(1-u&1),u++),0==l)for(var h=0;h<v;h++)n[u>>>1]|=s<<4*(1-u&1),u++;if(2==l)for(h=0;h<2;h++){4!=(d=v>>>3*(1-h)&7)&&(s+=a[d],n[u>>>1]|=s<<4*(1-u&1),u++)}if(1==l)for(h=0;h<3;h++){var d;2!=(d=v>>>2*(2-h)&3)&&(s+=f[d],n[u>>>1]|=s<<4*(1-u&1),u++)}}},r.decode._dmap={1:0,"011":1,"000011":2,"0000011":3,"010":-1,"000010":-2,"0000010":-3},r.decode._lens=function(){var r=function(r,e,t,n){for(var i=0;i<e.length;i++)r[e[i]]=t+i*n},e="00110101,000111,0111,1000,1011,1100,1110,1111,10011,10100,00111,01000,001000,000011,110100,110101,101010,101011,0100111,0001100,0001000,0010111,0000011,0000100,0101000,0101011,0010011,0100100,0011000,00000010,00000011,00011010,00011011,00010010,00010011,00010100,00010101,00010110,00010111,00101000,00101001,00101010,00101011,00101100,00101101,00000100,00000101,00001010,00001011,01010010,01010011,01010100,01010101,00100100,00100101,01011000,01011001,01011010,01011011,01001010,01001011,00110010,00110011,00110100",t="0000110111,010,11,10,011,0011,0010,00011,000101,000100,0000100,0000101,0000111,00000100,00000111,000011000,0000010111,0000011000,0000001000,00001100111,00001101000,00001101100,00000110111,00000101000,00000010111,00000011000,000011001010,000011001011,000011001100,000011001101,000001101000,000001101001,000001101010,000001101011,000011010010,000011010011,000011010100,000011010101,000011010110,000011010111,000001101100,000001101101,000011011010,000011011011,000001010100,000001010101,000001010110,000001010111,000001100100,000001100101,000001010010,000001010011,000000100100,000000110111,000000111000,000000100111,000000101000,000001011000,000001011001,000000101011,000000101100,000001011010,000001100110,000001100111",n="11011,10010,010111,0110111,00110110,00110111,01100100,01100101,01101000,01100111,011001100,011001101,011010010,011010011,011010100,011010101,011010110,011010111,011011000,011011001,011011010,011011011,010011000,010011001,010011010,011000,010011011",i="0000001111,000011001000,000011001001,000001011011,000000110011,000000110100,000000110101,0000001101100,0000001101101,0000001001010,0000001001011,0000001001100,0000001001101,0000001110010,0000001110011,0000001110100,0000001110101,0000001110110,0000001110111,0000001010010,0000001010011,0000001010100,0000001010101,0000001011010,0000001011011,0000001100100,0000001100101",f="00000001000,00000001100,00000001101,000000010010,000000010011,000000010100,000000010101,000000010110,000000010111,000000011100,000000011101,000000011110,000000011111";e=e.split(","),t=t.split(","),n=n.split(","),i=i.split(","),f=f.split(",");var a={},o={};return r(a,e,0,1),r(a,n,64,64),r(a,f,1792,64),r(o,t,0,1),r(o,i,64,64),r(o,f,1792,64),[a,o]}(),r.decode._decodeG4=function(e,t,n,i,f,a,o){for(var u=r.decode,s=t<<3,c=0,l="",v=[],h=[],d=0;d<a;d++)h.push(0);h=u._makeDiff(h);for(var w=0,g=0,_=0,b=0,p=0,m=0,y="",A=0,U=8*Math.ceil(a/8);s>>>3<t+n;){_=u._findDiff(h,w+(0==w?0:1),1-p),b=u._findDiff(h,_,p);var I=0;if(1==o&&(I=e[s>>>3]>>>7-(7&s)&1),2==o&&(I=e[s>>>3]>>>(7&s)&1),s++,l+=I,"H"==y){if(null!=u._lens[p][l]){var E=u._lens[p][l];l="",c+=E,E<64&&(u._addNtimes(v,c,p),w+=c,p=1-p,c=0,0==--A&&(y=""))}}else"0001"==l&&(l="",u._addNtimes(v,b-w,p),w=b),"001"==l&&(l="",y="H",A=2),null!=u._dmap[l]&&(g=_+u._dmap[l],u._addNtimes(v,g-w,p),w=g,l="",p=1-p);v.length==a&&""==y&&(u._writeBits(v,i,8*f+m*U),p=0,m++,w=0,h=u._makeDiff(v),v=[])}},r.decode._findDiff=function(r,e,t){for(var n=0;n<r.length;n+=2)if(r[n]>=e&&r[n+1]==t)return r[n]},r.decode._makeDiff=function(r){var e=[];1==r[0]&&e.push(0,1);for(var t=1;t<r.length;t++)r[t-1]!=r[t]&&e.push(t,r[t]);return e.push(r.length,0,r.length,1),e},r.decode._decodeG2=function(e,t,n,i,f,a,o){for(var u=r.decode,s=t<<3,c=0,l="",v=[],h=0,d=0,w=8*Math.ceil(a/8);s>>>3<t+n;){var g=0;1==o&&(g=e[s>>>3]>>>7-(7&s)&1),2==o&&(g=e[s>>>3]>>>(7&s)&1),s++,l+=g,null!=(c=u._lens[h][l])&&(u._addNtimes(v,c,h),l="",c<64&&(h=1-h),v.length==a&&(u._writeBits(v,i,8*f+d*w),v=[],d++,h=0,0!=(7&s)&&(s+=8-(7&s)),c>=64&&(s+=8)))}},r.decode._decodeG3=function(e,t,n,i,f,a,o,u){for(var s=r.decode,c=t<<3,l=0,v="",h=[],d=[],w=0;w<a;w++)h.push(0);for(var g=0,_=0,b=0,p=0,m=0,y=-1,A="",U=0,I=!0,E=8*Math.ceil(a/8);c>>>3<t+n;){b=s._findDiff(d,g+(0==g?0:1),1-m),p=s._findDiff(d,b,m);var M=0;if(1==o&&(M=e[c>>>3]>>>7-(7&c)&1),2==o&&(M=e[c>>>3]>>>(7&c)&1),c++,v+=M,I){if(null!=s._lens[m][v]){var D=s._lens[m][v];v="",l+=D,D<64&&(s._addNtimes(h,l,m),m=1-m,l=0)}}else if("H"==A){if(null!=s._lens[m][v]){D=s._lens[m][v];v="",l+=D,D<64&&(s._addNtimes(h,l,m),g+=l,m=1-m,l=0,0==--U&&(A=""))}}else"0001"==v&&(v="",s._addNtimes(h,p-g,m),g=p),"001"==v&&(v="",A="H",U=2),null!=s._dmap[v]&&(_=b+s._dmap[v],s._addNtimes(h,_-g,m),g=_,v="",m=1-m);v.endsWith("000000000001")&&(y>=0&&s._writeBits(h,i,8*f+y*E),u&&(1==o&&(I=1==(e[c>>>3]>>>7-(7&c)&1)),2==o&&(I=1==(e[c>>>3]>>>(7&c)&1)),c++),v="",m=0,y++,g=0,d=s._makeDiff(h),h=[])}h.length==a&&s._writeBits(h,i,8*f+y*E)},r.decode._addNtimes=function(r,e,t){for(var n=0;n<e;n++)r.push(t)},r.decode._writeBits=function(r,e,t){for(var n=0;n<r.length;n++)e[t+n>>>3]|=r[n]<<7-(t+n&7)},r.decode._decodeLZW=r.decode._decodeLZW=(o=0,u=0,s=0,c=0,l=function(){var r=e>>>3,t=(n[r]<<16|n[r+1]<<8|n[r+2])>>>24-(7&e)-u&(1<<u)-1;return e+=u,t},v=new Uint32Array(16384),h=0,d=function(r){u=r+1,o=c+1},w=function(r){for(var e=r<<2,t=v[e+2],n=a+t-1;65535!=e;)f[n--]=v[e],e=v[e+1];a+=t},g=function(r,e){var t=o<<2,n=r<<2;v[t]=v[3+(e<<2)],v[t+1]=n,v[t+2]=v[n+2]+1,v[t+3]=v[n+3],1+ ++o==1<<u&&12!=u&&u++},function(r,t,i,u,_,b){e=t<<3,n=r,f=u,a=_;var p=t+i<<3,m=0,y=0;for(function(r){if(r!=h){h=r,c=1+(s=1<<r);for(var e=0;e<c+1;e++)v[4*e]=v[4*e+3]=e,v[4*e+1]=65535,v[4*e+2]=1}}(b),d(b);e<p&&(m=l())!=c;){if(m==s){if(d(b),(m=l())==c)break;w(m)}else m<o?(w(m),g(y,m)):(g(y,y),w(o-1));y=m}return a}),r.tags={},r._types=function(){var r=new Array(250);r.fill(0);return{basic:{main:r=r.concat([0,0,0,0,4,3,3,3,3,3,0,0,3,0,0,0,3,0,0,2,2,2,2,4,3,0,0,3,4,4,3,3,5,5,3,2,5,5,0,0,0,0,4,4,0,0,3,3,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,2,2,3,5,5,3,0,3,3,4,4,4,3,4,0,0,0,0,0,0,0,0,0,3,3,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),rest:{33432:2,33434:5,33437:5,34665:4,34850:3,34853:4,34855:3,34864:3,34866:4,36864:7,36867:2,36868:2,37121:7,37377:10,37378:5,37380:10,37381:5,37383:3,37384:3,37385:3,37386:5,37510:7,37520:2,37521:2,37522:2,40960:7,40961:3,40962:4,40963:4,40965:4,41486:5,41487:5,41488:3,41985:3,41986:3,41987:3,41988:5,41989:3,41990:3,41993:3,41994:3,41995:7,41996:3,42032:2,42033:2,42034:5,42036:2,42037:2,59932:7}},gps:{main:[1,2,5,2,5,1,5,5,0,9],rest:{18:2,29:2}}}}(),r._readIFD=function(e,n,i,f,a,o){var u=e.readUshort(n,i);i+=2;var s={};o.debug&&t("   ".repeat(a),f.length-1,">>>----------------");for(var c=0;c<u;c++){var l=e.readUshort(n,i);i+=2;var v=e.readUshort(n,i);i+=2;var h=e.readUint(n,i);i+=4;var d=e.readUint(n,i);i+=4;var w=[];if(1==v||7==v){var g=h<5?i-4:d;g+h>n.buffer.byteLength&&(h=n.buffer.byteLength-g),w=new Uint8Array(n.buffer,g,h)}if(2==v){var _=h<5?i-4:d,b=n[_],p=Math.max(0,Math.min(h-1,n.length-_));b<128||0==p?w.push(e.readASCII(n,_,p)):w=new Uint8Array(n.buffer,_,p)}if(3==v)for(var m=0;m<h;m++)w.push(e.readUshort(n,(h<3?i-4:d)+2*m));if(4==v||13==v)for(m=0;m<h;m++)w.push(e.readUint(n,(h<2?i-4:d)+4*m));if(5==v||10==v){var y=5==v?e.readUint:e.readInt;for(m=0;m<h;m++)w.push([y(n,d+8*m),y(n,d+8*m+4)])}if(8==v)for(m=0;m<h;m++)w.push(e.readShort(n,(h<3?i-4:d)+2*m));if(9==v)for(m=0;m<h;m++)w.push(e.readInt(n,(h<2?i-4:d)+4*m));if(11==v)for(m=0;m<h;m++)w.push(e.readFloat(n,d+4*m));if(12==v)for(m=0;m<h;m++)w.push(e.readDouble(n,d+8*m));if(0==h||0!=w.length){if(o.debug&&t("   ".repeat(a),l,v,r.tags[l],w),s["t"+l]=w,330==l&&s.t272&&"DSLR-A100"==s.t272[0]);else if(330==l||34665==l||34853==l||50740==l&&e.readUshort(n,e.readUint(w,0))<300||61440==l){var A=50740==l?[e.readUint(w,0)]:w,U=[];for(m=0;m<A.length;m++)r._readIFD(e,n,A[m],U,a+1,o);330==l&&(s.subIFD=U),34665==l&&(s.exifIFD=U[0]),34853==l&&(s.gpsiIFD=U[0]),50740==l&&(s.dngPrvt=U[0]),61440==l&&(s.fujiIFD=U[0])}if(37500==l&&o.parseMN){var I=w;if("Nikon"==e.readASCII(I,0,5))s.makerNote=r.decode(I.slice(10).buffer)[0];else if("OLYMP"==e.readASCII(I,0,5)||"OM SYSTEM"==e.readASCII(I,0,9)){var E=[8208,8224,8240,8256,8272],M=[];r._readIFD(e,I,77==I[1]?16:85==I[5]?12:8,M,a+1,o);var D=s.makerNote=M.pop();for(m=0;m<E.length;m++){var k="t"+E[m];null!=D[k]&&(r._readIFD(e,I,D[k][0],M,a+1,o),D[k]=M.pop())}D.t12288&&(r._readIFD(e,D.t12288,0,M,a+1,o),D.t12288=M.pop())}else if(e.readUshort(n,d)<300&&e.readUshort(n,d+4)<=12){M=[];r._readIFD(e,n,d,M,a+1,o),s.makerNote=M[0]}}}else if(t(l,"unknown TIFF tag type: ",v,"num:",h),0==c)return}return f.push(s),o.debug&&t("   ".repeat(a),"<<<---------------"),i},r._writeIFD=function(e,t,n,i,f){var a=Object.keys(f),o=a.length;f.exifIFD&&o--,f.gpsiIFD&&o--,e.writeUshort(n,i,o);for(var u=(i+=2)+12*o+4,s=0;s<a.length;s++){var c=a[s];if("t34665"!=c&&"t34853"!=c){"exifIFD"==c&&(c="t34665"),"gpsiIFD"==c&&(c="t34853");var l=parseInt(c.slice(1)),v=t.main[l];if(null==v&&(v=t.rest[l]),null==v||0==v)throw new Error("unknown type of tag: "+l);var h=f[c];if(34665==l)h=[u],u=r._writeIFD(e,t,n,u,f.exifIFD)[1];if(34853==l)h=[u],u=r._writeIFD(e,r._types.gps,n,u,f.gpsiIFD)[1];2==v&&(h=h[0]+"\0");var d=h.length;e.writeUshort(n,i,l),i+=2,e.writeUshort(n,i,v),i+=2,e.writeUint(n,i,d);var w=[-1,1,1,2,4,8,0,1,0,4,8,0,8][v]*d,g=i+=4;if(w>4&&(e.writeUint(n,i,u),g=u),1==v||7==v)for(var _=0;_<d;_++)n[g+_]=h[_];else if(2==v)e.writeASCII(n,g,h);else if(3==v)for(_=0;_<d;_++)e.writeUshort(n,g+2*_,h[_]);else if(4==v)for(_=0;_<d;_++)e.writeUint(n,g+4*_,h[_]);else if(5==v||10==v){var b=5==v?e.writeUint:e.writeInt;for(_=0;_<d;_++){var p=h[_],m=p[0],y=p[1];if(null==m)throw"e";b(n,g+8*_,m),b(n,g+8*_+4,y)}}else if(9==v)for(_=0;_<d;_++)e.writeInt(n,g+4*_,h[_]);else{if(12!=v)throw v;for(_=0;_<d;_++)e.writeDouble(n,g+8*_,h[_])}w>4&&(u+=w+=1&w),i+=4}}return[i,u]},r.toRGBA8=function(r,e){function n(r){return r<.0031308?12.92*r:1.055*Math.pow(r,1/2.4)-.055}var i=r.width,f=r.height,a=i*f,o=r.data,u=new Uint8Array(4*a),s=r.t262?r.t262[0]:2,c=r.t258?Math.min(32,r.t258[0]):1;null==r.t262&&1==c&&(s=0);var l=r.t277?r.t277[0]:r.t258?r.t258.length:[1,1,3,1,1,4,3][s],v=r.t339?r.t339[0]:null;if(1==s&&32==c&&3!=v)throw"e";var h=Math.ceil(l*c*i/8);if(0==s){e=1/256;for(var d=0;d<f;d++){var w=d*h,g=d*i;if(1==c)for(var _=0;_<i;_++){var b=g+_<<2,p=o[w+(_>>3)]>>7-(7&_)&1;u[b]=u[b+1]=u[b+2]=255*(1-p),u[b+3]=255}if(4==c)for(_=0;_<i;_++){b=g+_<<2,p=o[w+(_>>1)]>>4-4*(1&_)&15;u[b]=u[b+1]=u[b+2]=17*(15-p),u[b+3]=255}if(8==c)for(_=0;_<i;_++){b=g+_<<2,p=o[w+_];u[b]=u[b+1]=u[b+2]=255-p,u[b+3]=255}if(16==c)for(_=0;_<i;_++){b=g+_<<2,p=o[(y=w+2*_)+1]<<8|o[y];u[b]=u[b+1]=u[b+2]=Math.min(255,255-~~(p*e)),u[b+3]=255}}}else if(1==s){null==e&&(e=1/256);var m=0==(3&o.length)?new Float32Array(o.buffer):null;for(d=0;d<f;d++){w=d*h,g=d*i;if(1==c)for(_=0;_<i;_++){b=g+_<<2,p=o[w+(_>>3)]>>7-(7&_)&1;u[b]=u[b+1]=u[b+2]=255*p,u[b+3]=255}if(2==c)for(_=0;_<i;_++){b=g+_<<2,p=o[w+(_>>2)]>>6-2*(3&_)&3;u[b]=u[b+1]=u[b+2]=85*p,u[b+3]=255}if(8==c)for(_=0;_<i;_++){b=g+_<<2,p=o[w+_*l];u[b]=u[b+1]=u[b+2]=p,u[b+3]=255}if(16==c)for(_=0;_<i;_++){b=g+_<<2,p=o[(y=w+2*_)+1]<<8|o[y];u[b]=u[b+1]=u[b+2]=Math.min(255,~~(p*e)),u[b+3]=255}if(32==c)for(_=0;_<i;_++){var y;b=g+_<<2,p=m[y=(w>>>2)+_];u[b]=u[b+1]=u[b+2]=~~(.5+255*p),u[b+3]=255}}}else if(2==s)if(8==c){if(1==l)for(_=0;_<a;_++)u[4*_]=u[4*_+1]=u[4*_+2]=o[_],u[4*_+3]=255;if(3==l)for(_=0;_<a;_++){var A=3*_;u[b=_<<2]=o[A],u[b+1]=o[A+1],u[b+2]=o[A+2],u[b+3]=255}if(l>=4)for(_=0;_<a;_++){A=_*l;u[b=_<<2]=o[A],u[b+1]=o[A+1],u[b+2]=o[A+2],u[b+3]=o[A+3]}}else if(16==c){if(4==l)for(_=0;_<a;_++){A=8*_+1;u[b=_<<2]=o[A],u[b+1]=o[A+2],u[b+2]=o[A+4],u[b+3]=o[A+6]}if(3==l)for(_=0;_<a;_++){A=6*_+1;u[b=_<<2]=o[A],u[b+1]=o[A+2],u[b+2]=o[A+4],u[b+3]=255}}else{if(32!=c)throw c;var U=new Float32Array(o.buffer),I=0;for(_=0;_<U.length;_++)I=Math.min(I,U[_]);if(I<0)for(_=0;_<o.length;_+=4){var E=o[_];o[_]=o[_+3],o[_+3]=E,E=o[_+1],o[_+1]=o[_+2],o[_+2]=E}var M=[];for(_=0;_<65536;_++)M.push(n(_/65535));for(_=0;_<U.length;_++){var D=Math.max(0,Math.min(1,U[_]));U[_]=M[~~(.5+65535*D)]}if(3==l)for(_=0;_<a;_++){A=3*_;u[b=_<<2]=~~(.5+255*U[A]),u[b+1]=~~(.5+255*U[A+1]),u[b+2]=~~(.5+255*U[A+2]),u[b+3]=255}else{if(4!=l)throw l;for(_=0;_<a;_++){A=4*_;u[b=_<<2]=~~(.5+255*U[A]),u[b+1]=~~(.5+255*U[A+1]),u[b+2]=~~(.5+255*U[A+2]),u[b+3]=~~(.5+255*U[A+3])}}}else if(3==s){var k=r.t320,B=1<<c,F=8==c&&l>1&&r.t338&&0!=r.t338[0];for(d=0;d<f;d++)for(var P=0;P<i;P++){b=(_=d*i+P)<<2;var x=0,S=d*h;if(1==c)x=o[S+(P>>>3)]>>>7-(7&P)&1;else if(2==c)x=o[S+(P>>>2)]>>>6-2*(3&P)&3;else if(4==c)x=o[S+(P>>>1)]>>>4-4*(1&P)&15;else{if(8!=c)throw c;x=o[S+P*l]}u[b]=k[x]>>8,u[b+1]=k[B+x]>>8,u[b+2]=k[B+B+x]>>8,u[b+3]=F?o[S+P*l+1]:255}}else if(5==s){var C=l>4?1:0;for(_=0;_<a;_++){b=_<<2;var L=_*l;if(window.UDOC){var H=o[L],J=o[L+1],G=o[L+2],N=o[L+3],O=UDOC.C.cmykToRgb([H*(1/255),J*(1/255),G*(1/255),N*(1/255)]);u[b]=~~(.5+255*O[0]),u[b+1]=~~(.5+255*O[1]),u[b+2]=~~(.5+255*O[2])}else{H=255-o[L],J=255-o[L+1],G=255-o[L+2],N=(255-o[L+3])*(1/255);u[b]=~~(H*N+.5),u[b+1]=~~(J*N+.5),u[b+2]=~~(G*N+.5)}u[b+3]=255*(1-C)+o[L+4]*C}}else if(6==s&&r.t278){var W=r.t278[0];for(d=0;d<f;d+=W){_=d*i;for(var j=W*i,T=0;T<j;T++){b=4*(_+T),G=o[(L=3*_+4*(T>>>1))+(1&T)];var R=o[L+2]-128,Q=o[L+3]-128,q=G+((Q>>2)+(Q>>3)+(Q>>5)),Z=G-((R>>2)+(R>>4)+(R>>5))-((Q>>1)+(Q>>3)+(Q>>4)+(Q>>5)),$=G+(R+(R>>1)+(R>>2)+(R>>6));u[b]=Math.max(0,Math.min(255,q)),u[b+1]=Math.max(0,Math.min(255,Z)),u[b+2]=Math.max(0,Math.min(255,$)),u[b+3]=255}}}else if(32845==s)for(d=0;d<f;d++)for(P=0;P<i;P++){b=4*(d*i+P);var V=o[(L=6*(d*i+P))+1]<<8|o[L],X=(V=Math.pow(2,(V+.5)/256-64),(o[L+3]+.5)/410),z=(o[L+5]+.5)/410,Y=9*X/(6*X-16*z+12),K=4*z/(6*X-16*z+12),rr=Y*V/K,er=(1-Y-K)*V/K;q=2.69*rr-1.276*(G=V)-.414*er,Z=-1.022*rr+1.978*G+.044*er,$=.061*rr-.224*G+1.163*er;u[b]=255*n(Math.min(q,1)),u[b+1]=255*n(Math.min(Z,1)),u[b+2]=255*n(Math.min($,1)),u[b+3]=255}else t("Unknown Photometric interpretation: "+s);return u},r.replaceIMG=function(e){null==e&&(e=document.getElementsByTagName("img"));for(var t=["tif","tiff","dng","cr2","nef"],n=0;n<e.length;n++){var i=e[n],f=i.getAttribute("src");if(null!=f){var a=f.split(".").pop().toLowerCase();if(-1!=t.indexOf(a)){var o=new XMLHttpRequest;r._xhrs.push(o),r._imgs.push(i),o.open("GET",f),o.responseType="arraybuffer",o.onload=r._imgLoaded,o.send()}}}},r._xhrs=[],r._imgs=[],r._imgLoaded=function(e){var t=r._xhrs.indexOf(e.target),n=r._imgs[t];r._xhrs.splice(t,1),r._imgs.splice(t,1),n.setAttribute("src",r.bufferToURI(e.target.response))},r.bufferToURI=function(e){var t=r.decode(e),n=t,i=0,f=n[0];t[0].subIFD&&(n=n.concat(t[0].subIFD));for(var a=0;a<n.length;a++){var o=n[a];if(!(null==o.t258||o.t258.length<3)){var u=o.t256*o.t257;u>i&&(i=u,f=o)}}r.decodeImage(e,f,t);var s=r.toRGBA8(f),c=f.width,l=f.height,v=document.createElement("canvas");v.width=c,v.height=l;var h=v.getContext("2d"),d=new ImageData(new Uint8ClampedArray(s.buffer),c,l);return h.putImageData(d,0,0),v.toDataURL()},r._binBE={nextZero:function(r,e){for(;0!=r[e];)e++;return e},readUshort:function(r,e){return r[e]<<8|r[e+1]},readShort:function(e,t){var n=r._binBE.ui8;return n[0]=e[t+1],n[1]=e[t+0],r._binBE.i16[0]},readInt:function(e,t){var n=r._binBE.ui8;return n[0]=e[t+3],n[1]=e[t+2],n[2]=e[t+1],n[3]=e[t+0],r._binBE.i32[0]},readUint:function(e,t){var n=r._binBE.ui8;return n[0]=e[t+3],n[1]=e[t+2],n[2]=e[t+1],n[3]=e[t+0],r._binBE.ui32[0]},readASCII:function(r,e,t){for(var n="",i=0;i<t;i++)n+=String.fromCharCode(r[e+i]);return n},readFloat:function(e,t){for(var n=r._binBE.ui8,i=0;i<4;i++)n[i]=e[t+3-i];return r._binBE.fl32[0]},readDouble:function(e,t){for(var n=r._binBE.ui8,i=0;i<8;i++)n[i]=e[t+7-i];return r._binBE.fl64[0]},writeUshort:function(r,e,t){r[e]=t>>8&255,r[e+1]=255&t},writeInt:function(e,t,n){var i=r._binBE.ui8;r._binBE.i32[0]=n,e[t+3]=i[0],e[t+2]=i[1],e[t+1]=i[2],e[t+0]=i[3]},writeUint:function(r,e,t){r[e]=t>>24&255,r[e+1]=t>>16&255,r[e+2]=t>>8&255,r[e+3]=t>>0&255},writeASCII:function(r,e,t){for(var n=0;n<t.length;n++)r[e+n]=t.charCodeAt(n)},writeDouble:function(e,t,n){r._binBE.fl64[0]=n;for(var i=0;i<8;i++)e[t+i]=r._binBE.ui8[7-i]}},r._binBE.ui8=new Uint8Array(8),r._binBE.i16=new Int16Array(r._binBE.ui8.buffer),r._binBE.i32=new Int32Array(r._binBE.ui8.buffer),r._binBE.ui32=new Uint32Array(r._binBE.ui8.buffer),r._binBE.fl32=new Float32Array(r._binBE.ui8.buffer),r._binBE.fl64=new Float64Array(r._binBE.ui8.buffer),r._binLE={nextZero:r._binBE.nextZero,readUshort:function(r,e){return r[e+1]<<8|r[e]},readShort:function(e,t){var n=r._binBE.ui8;return n[0]=e[t+0],n[1]=e[t+1],r._binBE.i16[0]},readInt:function(e,t){var n=r._binBE.ui8;return n[0]=e[t+0],n[1]=e[t+1],n[2]=e[t+2],n[3]=e[t+3],r._binBE.i32[0]},readUint:function(e,t){var n=r._binBE.ui8;return n[0]=e[t+0],n[1]=e[t+1],n[2]=e[t+2],n[3]=e[t+3],r._binBE.ui32[0]},readASCII:r._binBE.readASCII,readFloat:function(e,t){for(var n=r._binBE.ui8,i=0;i<4;i++)n[i]=e[t+i];return r._binBE.fl32[0]},readDouble:function(e,t){for(var n=r._binBE.ui8,i=0;i<8;i++)n[i]=e[t+i];return r._binBE.fl64[0]},writeUshort:function(r,e,t){r[e]=255&t,r[e+1]=t>>8&255},writeInt:function(e,t,n){var i=r._binBE.ui8;r._binBE.i32[0]=n,e[t+0]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3]},writeUint:function(r,e,t){r[e]=t>>>0&255,r[e+1]=t>>>8&255,r[e+2]=t>>>16&255,r[e+3]=t>>>24&255},writeASCII:r._binBE.writeASCII},r._copyTile=function(r,e,t,n,i,f,a,o){for(var u=Math.min(e,i-a),s=Math.min(t,f-o),c=0;c<s;c++)for(var l=(o+c)*i+a,v=c*e,h=0;h<u;h++)n[l+h]=r[v+h]},r._inflateRaw=((_={H:{}}).H.N=function(r,e){var t,n,i=Uint8Array,f=0,a=0,o=0,u=0,s=0,c=0,l=0,v=0,h=0;if(3==r[0]&&0==r[1])return e||new i(0);var d=_.H,w=d.b,g=d.e,b=d.R,p=d.n,m=d.A,y=d.Z,A=d.m,U=null==e;for(U&&(e=new i(r.length>>>2<<5));0==f;)if(f=w(r,h,1),a=w(r,h+1,2),h+=3,0!=a){if(U&&(e=_.H.W(e,v+(1<<17))),1==a&&(t=A.J,n=A.h,c=511,l=31),2==a){o=g(r,h,5)+257,u=g(r,h+5,5)+1,s=g(r,h+10,4)+4,h+=14;for(var I=1,E=0;E<38;E+=2)A.Q[E]=0,A.Q[E+1]=0;for(E=0;E<s;E++){var M=g(r,h+3*E,3);A.Q[1+(A.X[E]<<1)]=M,M>I&&(I=M)}h+=3*s,p(A.Q,I),m(A.Q,I,A.u),t=A.w,n=A.d,h=b(A.u,(1<<I)-1,o+u,r,h,A.v);var D=d.V(A.v,0,o,A.C);c=(1<<D)-1;var k=d.V(A.v,o,u,A.D);l=(1<<k)-1,p(A.C,D),m(A.C,D,t),p(A.D,k),m(A.D,k,n)}for(;;){var B=t[y(r,h)&c];h+=15&B;var F=B>>>4;if(F>>>8==0)e[v++]=F;else{if(256==F)break;var P=v+F-254;if(F>264){var x=A.q[F-257];P=v+(x>>>3)+g(r,h,7&x),h+=7&x}var S=n[y(r,h)&l];h+=15&S;var C=S>>>4,L=A.c[C],H=(L>>>4)+w(r,h,15&L);for(h+=15&L;v<P;)e[v]=e[v++-H],e[v]=e[v++-H],e[v]=e[v++-H],e[v]=e[v++-H];v=P}}}else{0!=(7&h)&&(h+=8-(7&h));var J=4+(h>>>3),G=r[J-4]|r[J-3]<<8;U&&(e=_.H.W(e,v+G)),e.set(new i(r.buffer,r.byteOffset+J,G),v),h=J+G<<3,v+=G}return e.length==v?e:e.slice(0,v)},_.H.W=function(r,e){var t=r.length;if(e<=t)return r;var n=new Uint8Array(t<<1);return n.set(r,0),n},_.H.R=function(r,e,t,n,i,f){for(var a=_.H.e,o=_.H.Z,u=0;u<t;){var s=r[o(n,i)&e];i+=15&s;var c=s>>>4;if(c<=15)f[u]=c,u++;else{var l=0,v=0;16==c?(v=3+a(n,i,2),i+=2,l=f[u-1]):17==c?(v=3+a(n,i,3),i+=3):18==c&&(v=11+a(n,i,7),i+=7);for(var h=u+v;u<h;)f[u]=l,u++}}return i},_.H.V=function(r,e,t,n){for(var i=0,f=0,a=n.length>>>1;f<t;){var o=r[f+e];n[f<<1]=0,n[1+(f<<1)]=o,o>i&&(i=o),f++}for(;f<a;)n[f<<1]=0,n[1+(f<<1)]=0,f++;return i},_.H.n=function(r,e){for(var t,n,i,f,a=_.H.m,o=r.length,u=a.j,s=0;s<=e;s++)u[s]=0;for(s=1;s<o;s+=2)u[r[s]]++;var c=a.K;for(t=0,u[0]=0,n=1;n<=e;n++)t=t+u[n-1]<<1,c[n]=t;for(i=0;i<o;i+=2)0!=(f=r[i+1])&&(r[i]=c[f],c[f]++)},_.H.A=function(r,e,t){for(var n=r.length,i=_.H.m.r,f=0;f<n;f+=2)if(0!=r[f+1])for(var a=f>>1,o=r[f+1],u=a<<4|o,s=e-o,c=r[f]<<s,l=c+(1<<s);c!=l;)t[i[c]>>>15-e]=u,c++},_.H.l=function(r,e){for(var t=_.H.m.r,n=15-e,i=0;i<r.length;i+=2){var f=r[i]<<e-r[i+1];r[i]=t[f]>>>n}},_.H.M=function(r,e,t){t<<=7&e;var n=e>>>3;r[n]|=t,r[n+1]|=t>>>8},_.H.I=function(r,e,t){t<<=7&e;var n=e>>>3;r[n]|=t,r[n+1]|=t>>>8,r[n+2]|=t>>>16},_.H.e=function(r,e,t){return(r[e>>>3]|r[1+(e>>>3)]<<8)>>>(7&e)&(1<<t)-1},_.H.b=function(r,e,t){return(r[e>>>3]|r[1+(e>>>3)]<<8|r[2+(e>>>3)]<<16)>>>(7&e)&(1<<t)-1},_.H.Z=function(r,e){return(r[e>>>3]|r[1+(e>>>3)]<<8|r[2+(e>>>3)]<<16)>>>(7&e)},_.H.i=function(r,e){return(r[e>>>3]|r[1+(e>>>3)]<<8|r[2+(e>>>3)]<<16|r[3+(e>>>3)]<<24)>>>(7&e)},_.H.m=function(){var r=Uint16Array,e=Uint32Array;return{K:new r(16),j:new r(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new r(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new e(32),J:new r(512),_:[],h:new r(32),$:[],w:new r(32768),C:[],v:[],d:new r(32768),D:[],u:new r(512),Q:[],r:new r(32768),s:new e(286),Y:new e(30),a:new e(19),t:new e(15e3),k:new r(65536),g:new r(32768)}}(),function(){for(var r=_.H.m,e=0;e<32768;e++){var t=e;t=(4278255360&(t=(4042322160&(t=(3435973836&(t=(2863311530&t)>>>1|(1431655765&t)<<1))>>>2|(858993459&t)<<2))>>>4|(252645135&t)<<4))>>>8|(16711935&t)<<8,r.r[e]=(t>>>16|t<<16)>>>17}function n(r,e,t){for(;0!=e--;)r.push(0,t)}for(e=0;e<32;e++)r.q[e]=r.S[e]<<3|r.T[e],r.c[e]=r.p[e]<<4|r.z[e];n(r._,144,8),n(r._,112,9),n(r._,24,7),n(r._,8,8),_.H.n(r._,9),_.H.A(r._,9,r.J),_.H.l(r._,9),n(r.$,32,5),_.H.n(r.$,5),_.H.A(r.$,5,r.h),_.H.l(r.$,5),n(r.Q,19,0),n(r.C,286,0),n(r.D,30,0),n(r.v,320,0)}(),_.H.N),r.LosslessJpegDecode=function(){var r,e;function t(){return r[e++]}function n(){return r[e++]<<8|r[e++]}function i(r){for(var e=t(),n=[0,0,0,255],i=[],a=0;a<16;a++)i[a]=t();for(a=0;a<16;a++)for(var o=0;o<i[a];o++){n[f(n,0,a+1,1)+3]=t()}var u=new Uint8Array(256);r[e]=[new Uint8Array(n),u];for(a=0;a<256;a++){for(var s=8,c=a,l=0;255==n[l+3]&&0!=s;)l=n[l+(c>>--s&1)];u[a]=l}}function f(r,e,t,n){if(255!=r[e+3])return 0;if(0==t)return e;for(var i=0;i<2;i++){0==r[e+i]&&(r[e+i]=r.length,r.push(0,0,n,255));var a=f(r,r[e+i],t-1,n+1);if(0!=a)return a}return 0}function a(r){for(var e=r.b,t=r.f;e<25&&r.a<r.d;){var n=r.data[r.a++];255!=n||r.c||r.a++,t=t<<8|n,e+=8}if(e<0)throw"e";r.b=e,r.f=t}function o(r,e){return e.b<r&&a(e),e.f>>(e.b-=r)&65535>>16-r}function u(r,e){var t=r[0],n=0,i=255;e.b<16&&a(e);var f=e.f>>e.b-8&255;for(i=t[(n=r[1][f])+3],e.b-=t[n+2];255==i;)i=t[(n=t[n+(e.f>>--e.b&1)])+3];return i}function s(r,e){return r<32768>>16-e&&(r+=1-(1<<e)),r}function c(r,e){var t=u(r,e);return 0==t?0:16==t?-32768:s(o(t,e),t)}function l(r,e,t,n,i,f){for(var a=0,o=0;o<f;o++){for(var u=o*e,s=0;s<e;s+=i){a++;for(var l=0;l<i;l++)r[u+s+l]=c(n[l],t)}if(0!=t.e&&a%t.e==0&&0!=o){for(var v=t.a,h=t.data;255!=h[v]||!(208<=h[v+1]&&h[v+1]<=215);)v--;t.a=v+2,t.f=0,t.b=0}}}function v(r,e){return s(o(r,e),r)}function h(r,e,t,n,i,f,a,o){for(var u=t*a,s=i;s<f;s++)r[s]+=1<<o-1;for(var c=a;c<u;c+=a)for(s=i;s<f;s++)r[c+s]+=r[c+s-a];for(var l=1;l<n;l++){var v=l*u;for(s=i;s<f;s++)r[v+s]+=r[v+s-u];for(c=a;c<u;c+=a)for(s=i;s<f;s++){var h=v+c+s,d=h-u,w=r[h-a],g=0;if(0==e)g=0;else if(1==e)g=w;else if(2==e)g=r[d];else if(3==e)g=r[d-a];else if(4==e)g=w+(r[d]-r[d-a]);else if(5==e)g=w+(r[d]-r[d-a]>>>1);else if(6==e)g=r[d]+(w-r[d-a]>>>1);else{if(7!=e)throw e;g=w+r[d]>>>1}r[h]+=g}}}return function(f){if(r=f,e=0,65496!=n())throw"e";for(var a=[],o=0,s=0,c=0,d=[],w=[],g=[],_=0,b=0,p=0;;){var m=n();if(65535!=m){var y=n();if(65475==m){s=t(),b=n(),p=n(),_=t();for(var A=0;A<_;A++){var U=t(),I=t();if(0!=t())throw"e";a[U]=[A,I>>4,15&I]}}else if(65476==m)for(var E=e+y-2;e<E;)i(w);else{if(65498==m){e++;for(A=0;A<_;A++){var M=a[t()];g[M[0]]=w[t()>>>4],d[M[0]]=M.slice(1)}o=t(),e+=2;break}65501==m?c=n():e+=y-2}}else e--}var D=new(s>8?Uint16Array:Uint8Array)(b*p*_),k={b:0,f:0,c:8==o,a:e,data:r,d:r.length,e:c};if(k.c)!function(t,n,i,f,a){for(var o=r.length-e,s=0;s<o;s+=4){var c=r[e+s];r[e+s]=r[e+s+3],r[e+s+3]=c,c=r[e+s+1],r[e+s+1]=r[e+s+2],r[e+s+2]=c}for(var l=0;l<a;l++)for(var h=32768,d=32768,w=0;w<n;w+=2){var g=u(f,i),_=u(f,i);0!=g&&(h+=v(g,i)),0!=_&&(d+=v(_,i)),t[l*n+w]=65535&h,t[l*n+w+1]=65535&d}}(D,p*_,k,g[0],b);else{var B=[],F=0,P=0;for(A=0;A<_;A++){var x=d[A];(j=x[0])>F&&(F=j),(W=x[1])>P&&(P=W),B.push(j*W)}if(1!=F||1!=P){if(3!=_||1!=B[1]||1!=B[2])throw"e";if(2!=F||1!=P&&2!=P)throw"e";var S=[],C=0;for(A=0;A<_;A++){for(var L=0;L<B[A];L++)S.push(g[A]);C+=B[A]}var H=p/F,J=b/P,G=H*J;l(D,H*C,k,S,C,J),h(D,o,H,J,C-2,C,C,s);var N=new Uint16Array(G*B[0]);if(2==F&&2==P){for(A=0;A<G;A++)N[4*A]=D[6*A],N[4*A+1]=D[6*A+1],N[4*A+2]=D[6*A+2],N[4*A+3]=D[6*A+3];h(N,o,4*H,J,0,1,1,s);for(A=0;A<G;A++)D[6*A]=N[4*A],D[6*A+1]=N[4*A+1],D[6*A+2]=N[4*A+2],D[6*A+3]=N[4*A+3]}if(2==F&&1==P){for(A=0;A<G;A++)N[2*A]=D[4*A],N[2*A+1]=D[4*A+1];h(N,o,2*H,J,0,1,1,s);for(A=0;A<G;A++)D[4*A]=N[2*A],D[4*A+1]=N[2*A+1]}for(var O=D.slice(0),W=0;W<b;W++)if(2==P)for(var j=0;j<p;j++){var T=((W>>>1)*H+(j>>>1))*C,R=2*(1&W)+(1&j);D[Q=(W*p+j)*_]=O[T+R],D[Q+1]=O[T+4],D[Q+2]=O[T+5]}else for(j=0;j<p;j++){var Q;T=(W*H+(j>>>1))*C,R=1&j;D[Q=(W*p+j)*_]=O[T+R],D[Q+1]=O[T+2],D[Q+2]=O[T+3]}}else if(l(D,p*_,k,g,_,b),0==c)h(D,o,p,b,0,_,_,s);else{var q=Math.floor(c/p);for(W=0;W<b;W+=q){var Z=D.slice(W*p*_,(W+q)*p*_);h(Z,o,p,q,0,_,_,s),D.set(Z,W*p*_)}}}return D}}(),function(){var e=2,t=4,n=5,i=6,f=7,a=12,o=13,u=14,s=15,c=17;function l(r){var e={c:new Int8Array(2<<r.u)};return function(r,e,t){var n=[e,3*e+18,5*e+67,7*e+276,t];r.o=e,r.w=(n[4]+2*e)/(2*e+1)+1|0,r.v=Math.ceil(Math.log2(r.w)),r.t=9,function(r,e){for(var t=-e[4],n=0;t<=e[4];n++,t++)r[n]=t<=-e[3]?-4:t<=-e[2]?-3:t<=-e[1]?-2:t<-e[0]?-1:t<=e[0]?0:t<e[1]?1:t<e[2]?2:t<e[3]?3:4}(r.c,n)}(e,0,r.g),e}function v(r){for(var e=[[],[],[]],t=Math.max(2,r.w+32>>>6),n=0;n<3;n++)for(var i=0;i<41;i++)e[n][i]=[t,1];return e}function h(r,e){var t=0,n=8-r.a;r.j,r.a;if(e){if(e>=n)do{t<<=n,e-=n,t|=r[r.j]&(1<<n)-1,r.j++,n=8}while(e>=8);e&&(t<<=e,n-=e,t|=r[r.j]>>>n&(1<<e)-1),r.a=8-n}return t}function d(r,e,t,n,i,f,a,o){null==o&&(o=0);var u,s,c,l,v,d,w=f+1,g=w%2,_=0,b=n[i],p=n[i-1],m=n[i-2][w],y=p[w-1],A=p[w],U=p[w+1],I=b[w-1],E=b[w+1],M=Math.abs;if(g&&(c=M(U-A),l=M(m-A),v=M(y-A)),g){if(d=(d=c>v&&l<c?m+y:c<v&&l<v?m+U:U+y)+2*A>>>2,o)return void(b[w]=d);u=e.t*e.c[r.g+A-m]+e.c[r.g+y-A]}else d=A>y&&A>U||A<y&&A<U?E+I+2*A>>>2:I+E>>>1,u=e.t*e.c[r.g+A-y]+e.c[r.g+y-I];s=M(u);var D=function(r){for(var e=-1,t=0;!t;e++)t=r[r.j]>>>7-r.a&1,r.a++,r.a&=7,r.a||r.j++;return e}(t);if(D<r.n-e.v-1){var k=function(r,e){var t=0;if(e<r)for(;t<=14&&e<<++t<r;);return t}(a[s][0],a[s][1]);_=h(t,k)+(D<<k)}else _=h(t,e.v)+1;_=1&_?-1-(_>>>1):_>>>1,a[s][0]+=M(_),a[s][1]==r.f&&(a[s][0]>>>=1,a[s][1]>>>=1),a[s][1]++,d=u<0?d-_:d+_,r.i&&(d<0?d+=e.w:d>r.g&&(d-=e.w)),b[w]=d>=0?Math.min(d,r.g):0}function w(r,e,t){for(var n=r[0].length,i=e;i<=t;i++)r[i][0]=r[i-1][1],r[i][n-1]=r[i-1][n-2]}function g(r){w(r,f,a),w(r,e,t),w(r,s,c)}function _(r,e,n,i,f,a,u,s,c,l,v,h,w){for(var _=0,b=1,p=f<o&&f>t;b<r.m;)_<r.m&&(d(r,e,n,i,f,_,u[c],r.h&&(p&&l||!p&&(v||(_&h)==w))),d(r,e,n,i,a,_,u[c],r.h&&(!p&&l||p&&(v||(_&h)==w))),_+=2),_>8&&(d(r,e,n,i,f,b,s[c]),d(r,e,n,i,a,b,s[c]),b+=2);g(i)}function b(r,n,i,o,u,l){_(r,n,i,o,e,f,u,l,0,0,1,0,8),_(r,n,i,o,8,s,u,l,1,0,1,0,8),_(r,n,i,o,3,9,u,l,2,1,0,3,0),_(r,n,i,o,10,16,u,l,0,0,0,3,2),_(r,n,i,o,t,11,u,l,1,0,0,3,2),_(r,n,i,o,a,c,u,l,2,1,0,3,0)}function p(r,t,n,i,a,o){var u=o.length,c=r.l;a+1==r.s&&(c=r.e-a*r.l);for(var l=6*r.e*i+a*r.l,v=0;v<6;v++){for(var h=0;h<c;h++){var d,w=o[v%u][h%u];d=0==w?e+(v>>>1):2==w?s+(v>>>1):f+v;var g=r.h?(2*h/3&2147483646|h%3&1)+(h%3>>>1):h>>>1;t[l+h]=n[d][g+1]}l+=r.e}}r._decompressRAF=function(f,s){var h=function(e){var t=r._binBE.readUshort,n={b:t(e,0),i:e[2],C:e[3],u:e[4],q:t(e,5),k:t(e,7),e:t(e,9),l:t(e,11),s:e[13],d:t(e,14)};if(18771!=n.b||n.i>1||n.q<6||n.q%6||n.e<768||n.e%24||768!=n.l||n.k<n.l||n.k%n.l||n.k-n.e>=n.l||n.s>16||n.s!=n.k/n.l||n.s!=Math.ceil(n.e/n.l)||n.d!=n.q/6||12!=n.u&&14!=n.u&&16!=n.u||16!=n.C&&0!=n.C)throw"Invalid data";if(0==n.i)throw"Not implemented. We need this file!";return n.h=16==n.C,n.m=0|(n.h?2*n.l/3:n.l>>>1),n.A=n.m+2,n.f=64,n.g=(1<<n.u)-1,n.n=4*n.u,n}(f),d=function(e,t){var n=new Array(t.s),i=4*t.s,f=16+i;12&i&&(f+=16-(12&i));for(var a=0,o=16;a<t.s;o+=4){var u=r._binBE.readUint(e,o);n[a]=e.slice(f,f+u),n[a].j=0,n[a].a=0,f+=u,a++}if(f!=e.length)throw"Invalid data";return n}(f,h),w=l(h),_=new Int16Array(h.e*h.q);null==s&&(s=h.h?[[1,1,0,1,1,2],[1,1,2,1,1,0],[2,0,1,0,2,1],[1,1,2,1,1,0],[1,1,0,1,1,2],[0,2,1,2,0,1]]:[[0,1],[3,2]]);for(var m=[[0,3],[1,t],[n,11],[i,a],[o,16],[u,c]],y=[],A=0;A<18;A++)y[A]=new Uint16Array(h.A);for(var U=0;U<h.s;U++){var I=v(w),E=v(w);for(A=0;A<18;A++)for(var M=0;M<h.A;M++)y[A][M]=0;for(var D=0;D<h.d;D++){b(h,w,d[U],y,I,E);for(A=0;A<6;A++)for(M=0;M<h.A;M++)y[m[A][0]][M]=y[m[A][1]][M];p(h,_,y,D,U,s);for(A=e;A<18;A++)if(-1==[n,i,o,u].indexOf(A))for(M=0;M<h.A;M++)y[A][M]=0;g(y)}}return _}}()}(e)}()}}]);