(self["webpackJsonp_bos-platform"]=self["webpackJsonp_bos-platform"]||[]).push([[4660,3524,3724,2616],{184016:function(e,t,r){"use strict";r.r(t),t.default={root:"k2OjHMt7",header:"_3u_CF0qr",title:"_3WosU9OL",icon:"_1ER5U36w",expand:"_-8g3dZDs",content:"wexcC5Qf",active:"AbkTM6kE"}},812508:function(e,t,r){"use strict";r.r(t),t.default={overlay:"KloSJBda",dialog:"_1x01dtVU",close:"_3WIrQtif",title:"_179JIFku",toolbar:"_2o9rr8yx",btn:"_2lO4DgeA"}},331692:function(e,t,r){"use strict";r.r(t),t.default={root:"_1YnxGkQm",bar:"_17Cgl8NX",active:"_20BV-nCP",panel:"_2Iyf_pn-",hidden:"_4cIBAlOV"}},660088:function(e,t,r){"use strict";r.r(t),t.default={tree:"_3q8raTrh","tree-node":"xSmjSrdI",title:"zUHv08h2",switcher:"_1F1KwnG4",icon:"_2QQYE8fk",text:"_1uj8oUcG","title-padding":"_1I1WhYpH",content:"_1ulPDAOC","node-selected":"_2rfDmM8W",hidden:"_1GWNUAK0"}},26016:function(e,t,r){"use strict";r.r(t),t.default={root:"_3c9dsKBG",clear:"_2tdVMnG5",btnEditDisabled:"_3pZMiewo",btnEditDisabledMask:"_3kJRs78V",btnName:"_32K6gTl9"}},24892:function(e,t,r){"use strict";r.r(t),t.default={comboPropertyOverHidden:"_3O8J8N1Z"}},296176:function(e,t,r){"use strict";r.r(t),t.default={root:"_3XnQc0xk",clear:"_2v8w24eA"}},345612:function(e,t,r){"use strict";r.r(t),t.default={"edit-Input":"_3QuNIDqM"}},700584:function(e,t,r){"use strict";r.r(t),t.default={PositionSelectBox:"zd8HoNJB",text:"_1JAE7mM5","text-selected":"z0nPKVL2"}},619092:function(e,t,r){"use strict";r.r(t),t.default={root:"_3B3iDCB3",clear:"_1oe78VLh",icon:"_3EPCQokS"}},546668:function(e,t,r){"use strict";r.r(t),t.default={content:"QGZbQioE","button-div":"YesNaNwo","but-grey":"_2CnaIfEC","but-large-grey":"_1jFYMaJq","but-gap-grey":"v10RbXuZ","but-blue":"_1w8Nu77t"}},15176:function(e,t,r){"use strict";r.r(t),t.default={colorPicker:"_1ySuh44u",trigger:"_18CT1ec0",colorPanel:"_3bnADZys",colors:"tRB6Uejy",colorItem:"_1jced0ST",textPanel:"_3oItFgx2",textItme:"hPWgmcJb",input:"_2s3O_Qvz","input-disabled":"DYVMwYL0",themeBtn:"m2s6tbUK"}},669212:function(e,t,r){"use strict";r.r(t),t.default={root:"_2lBqhBrm",header:"_27MPC_5T",body:"_3y84RNwc",item:"_2wlGf3lk",selected:"_1WErOqtH","node-title":"FX-AtY5k",caption:"_2hTbnWLf",target:"O-4qMIP2",close:"_1yqkBsst","node-body":"_15tgV1io"}},207336:function(e,t,r){"use strict";r.r(t),t.default={container:"_1Yg-6M0e",title:"_335OyiH3",item:"_2SUiuTG3","item-func":"WCBqKYUX",top:"_2j7Wta2o","func-desc":"_3tJyxDDt","edit-btn":"_3LzTkHBn","func-name":"Mi-CiwVY"}},205440:function(e,t,r){"use strict";r.r(t),t.default={root:"Z_A5Y2qk",content:"_1vLo2ECj",panel:"_1ok4DG6F",showpanel:"_2fm5dciV",ctrospanel:"_2b8YJLgu",ctroitem:"li-Wt0yo",text:"_2n2Rr7bh",hasTmp:"_12Kj2Bsr",filterContainer:"pd3pFeKI",filterInput:"_3ma6IjDq",deleteImg:"_2qc7_pYN",controlToolTips:"_2Rk6_j2j",tooltipWrap:"QPaVoPg6",tooltipItem:"UXpx1xon",fontIcon:"_3L8dBRVs",tipContainer:"_2lGbFX31",thumbnail:"_24gwbe9p",tipDetail:"_1UuM_A8g",introduction:"P8q0W7bW",tipTitle:"_22CTZ7KM",learnMore:"_1AmFqliE"}},299628:function(e,t,r){"use strict";r.r(t),t.default={tipContainer:"OXt338Ft",thumbnail:"_3Ybin8PG",tipDetail:"_3U8c2Dax",tipTitle:"_38PxASt-",introduction:"_2cRYvVzw",learnMore:"_18f6iQsL"}},675824:function(e,t,r){"use strict";r.r(t),t.default={dropDownBox:"_2nad6YVS",dorpDownIcon:"_3QP9hoDx",dropDownCont:"_2pOJH_yn",dorpImg:"_2IeikcfJ","dorpDownIcon-active":"_3sOKue6E",showDropdownItemIcon:"_10CwcN5J","dropDownBox-active":"_17oqavIJ",dropdownName:"-uDzHDqt"}},70728:function(e,t,r){"use strict";r.r(t),t.default={"li-active":"_1pz6XyRe","li-disabled":"_9nBwtKkk","auxiliary-line-base":"hsUgWj0J",sideBar:"_3ruxcq3a",layout:"_1Po1kjzb","disabled-toolbar":"_1tZ_qYVT","auxiliary-line":"_1yTYt4di",dropdown:"kY3c1Z7V",maxormin:"_1s3DCruR","layout-mobile":"_3AuFlctd","auxiliary-line-mobile":"_3jzRJAbF",mobilesideBar:"_3lrqgyGv"}},163084:function(e,t,r){"use strict";r.r(t),t.default={root:"_2jHeSXwP","root-empty":"_2z2lKylL","ui-content":"_1j2m9NY_","script-viewer":"_3zhQr7AS"}},505168:function(e,t,r){"use strict";r.r(t),t.default={shadebox:"VYCKsDFo",shade:"_4pbbAghh",root:"_3YsfLg4K",selectbox:"_3ufUscPE",titlecontent:"_1NDEuH2Q",mustinput:"_2TZNOsns",selectcontent:"_2kWfRBkN",inputbox:"_394gfBCY",inputtext:"_1q2CWjiB",pulldownpanel:"_1pM2g7Jr",entitynodata:"_3QRt2XXw",entitylist:"_2wccvN5l",activeentity:"_1IobnE__",spantext:"KDDxR-fF",content:"_3R8csdy2",mappingpanel:"_3claCvxS",mappingtitle:"_1Ts9T0D7",entitytablepanle:"b1pue41M",entityheader:"_30vAgdTH",entityname:"_1aFb1k_m",divisionbox:"_1NGOsD5J",divisionicon:"_2zpA7GTj"}},86611:function(e,t,r){"use strict";r.r(t),t.default={layoutpanel:"_1j3ahbYV",tempRoot:"XTM92jbT",tipPanel:"_2Wc1xAef",temImgPanel:"_7FyiO4Oz",temImg:"_3BnyJlW4",advRoot:"R_qG0QSB",preview:"_2g7zahCC",choose:"afvGZi9g",field:"_57fVbMxw",select_container:"NujzbWIp",select:"_3jmF0TLF",container:"_3ALVXkyi",child:"uXbvMqQ5",num:"_2RvQLDAC",item1:"_3g2P1N-X",item2:"G0eVw1JV",item3:"_34_MAweS",item4:"lqD-zRcZ",item5:"_20m7lLAC",item6:"_3d5QRTWa",wrap:"_3BeGMlgX","other-props-list":"fRpXHBFi"}},21848:function(e,t,r){"use strict";r.r(t),t.default={shadebox:"_38CSg9Th",shade:"_3mHbHdlT",previewImg:"wmJtPJSn",root:"_2feTanIj",content:"_2h1chaGa",mappingpanel:"ibZmuq3_",mappingtitle:"fJC-peAb",entitytablepanle:"_3b9J41gJ",entityheader:"_2QXUnK8G",entityname:"_2e9gmVLD",divisionbox:"_16MEnLy-",divisionicon:"SznU_ZjG"}},448004:function(e,t,r){"use strict";r.r(t),t.default={header:"_3fgtwU0k",title:"zyVwBxNd",mappingtable:"Dgn6BvJS",mappingheaderpanel:"_2DltYNIH",mappingheader:"_1zL2CZSK",mapingheaderlast:"_1riRxQqD",mappingitempanel:"w55lorIi",mappingItemAct:"_27C_BNSJ",mappingItem:"_3qOoyMdC",templatefield:"_2j81y0VW",name:"_1sxGq93r",deleteicon:"hd-ONjKN",templatefieldAct:"kAQf4ALq",mappingfield:"C1bRBS0c",clearicon:"bRTutBsI",mappingname:"_1pIKGJX2",mappingfieldAct:"ltFhZoJO",mappingfieldplaceholder:"_9RaDFZHl",grouppanelheader:"_3wJ8UiOK",grouparrow:"_1WVryX85",grouptip:"_1B9Sqltm",activetip:"dyYurwL-",footter:"_3RpNLsN6",btn:"_1rl9VCFn",cancelBtn:"_2q5kY0Bj",confirmBtn:"_3jdlTJPW",disablebtn:"-qYj7fro",searchbar:"_1ysdP_L1",searchbox:"_18gOmwXL",searchicon:"_1AWGJ4dS",searchinput:"_277Ie6Kl",searchdel:"J-c-TyNs",entitytable:"_2XYBJ-8O",tableheaderpanel:"QBsOqlap",tableheader:"_1Qx5wrJW",tableheaderlast:"ohesejAo",tablepanel:"n-WGlcDJ",nodatabox:"_1-B2B0Th",tableitempanel:"f1al1aED",tableitem:"h9KY5pKY",tableitemlast:"_1bJldwOg",tableitemsleted:"_1xTK5Uvz",previewcontent:"_2Vmr2ASK",buttonbox:"Z1SZiIdF",previewbox:"_2rm7LWh5",previewtitle:"oZAtpBrX",previewImg:"KMk9xMxz",checkbox:"_3C6Alj7B",anchor:"_1E0TdGjU",activeanchor:"uFBV9P2D",tipbox:"_1BhioBM9",jinggao:"J5Pyrkrf",text:"_1g5bqw6B",close:"RdRDQRUN",treetable:"_1WmxvZT5",treenodebox:"_2kqNhSXD",tableitempanels:"_1SwG24QO",fold:"_1ddktLox",seltableitem:"_2IO9lHiE",nodecontent:"_3PSbuXlL"}},434067:function(e,t,r){"use strict";r.r(t),t.default={dialogRoot:"_1ONkKFY9",dialog:"_3vYYb6T5",diag_in:"_1Ssrj7qh",title:"_1l2ThaTl",text:"_2oAw_hLn",icon:"_19Q7_mdo",content:"_23LGMGaN",position:"_2_XEMajk",inputCount:"_1t3OB1KX",label:"_1gxTiGGI",error:"_2CSosnoW",numberInput:"fz8AtDPE",footer:"_3vhPbBqn",button:"_1AQay5Os"}},411960:function(e,t,r){"use strict";r.r(t),t.default={"guide-container":"_64Fg1UMu","guide-content":"_2SENL4cX","guide-overlay":"_2ArUKwCn","guide-overlay-shape":"Q6LIiLtB","guide-start-page":"_3Lbq7a39",username:"_2XjCiRiJ","start-img":"_2TmkTwfG","start-word":"AYhToeyY","start-footer":"_3qqXwgU2","active-btn":"_21ND_kEW","guide-info":"_2JTnc3QQ",header:"_2Un1ivoF",title:"_3AIPFzc0",jump:"_1QqcTt2s",main:"_2Cfcf-HR",footer:"_1oGIu-mW",page:"fa6Y66YU",finger:"_1WL04tdr","finger-left":"_24hefH1O","finger-top":"_3im_Jhqz","finger-bottom":"_1T7rd7mQ","target-mask":"_19k89PKi"}},941564:function(e,t,r){"use strict";r.r(t),t.default={wrapContainer:"_1M_Z_uVm",wrap:"_XyUlTSY",tip:"_31jc7eCm",icon:"_3HCdQSz2",text:"fsokl9Uq",box:"ZqJzcGbo",codeHidden:"_2JGhWCWU",code:"_1ZJ8ushw",clicked:"_2nPXstYS"}},673252:function(e,t,r){"use strict";r.r(t),t.default={outline:"_21A-7bgV",showContentC:"NYyxk6Kt",showContent:"_1-XnZwDD",showC:"_2TiYLpUR","hidden-node":"_2bhUyaX9","tree-wrapper":"_2zYWT1x-","formula-tree":"_2sEmPt18","formula-treenode":"_36zxL1Zc",search:"_2hI3zpCO",input:"_1iYK7HGP"}},752654:function(e,t,r){"use strict";r.r(t),t.default={root:"_3ZT2y8lx",pointer:"_278H4TJL",newFeature:"Bu9lnHDQ",arrow:"_25RCyQiv",arrowActive:"_2R6Eaw2z",active:"EbsB1qZc",crumbToolTips:"_1GaFkwfj",crumbScroll:"YVX38YY3",animated:"_31r-VJsE",list:"_3yCEaOn7",mobile:"_3IiQT7XW",arrowFont:"_3475tage",arrowLeft:"_1Bq5Q6Mc",arrowRight:"_39oxJLIM",arrowDisabled:"nsLp6ybj","tips-trigger":"zNWgrhh6","tool-tips-warp":"_2LQNVV89","tips-title-wrap":"S0h1i444","tips-title":"_1Wlu1elf","tips-content":"_3f6iEckG","tips-action":"gqeKsmBK","tips-btn":"_1SwY5N3R",rotate180deg:"_24gDrYXc"}},995004:function(e,t,r){"use strict";r.r(t),t.default={propertyViewer:"sUTrJeNi",title:"_3hxYug7W"}},553884:function(e,t,r){"use strict";r.r(t),t.default={root:"_3pO7rqQ-",fragmentPanel:"_2Zatr8is",fragmentItem:"_2KkiSAz7",img:"_1O1xe7sQ","no-data":"_19dLUlmn"}},520504:function(e,t,r){"use strict";r.r(t),t.default={shadebox:"_1Cycqd22",shade:"buY3Rspu",root:"_3VailsMS",noData:"_30gqsI4V",content:"_3H64tGt2",subtitle:"DLY3LRfm",templateList:"_3TM8PqMU",anchorbox:"_19qVo_Bj",anchorf:"_1f4iVRsZ",anchor:"_1QXVUiM_",anchorborder:"OMACqfCa",templatebox:"_37Ova_EB",templateCon:"_2J42mew5",templateGroupItem:"_3jMpebkE",templateItemContent:"_2oGuLEOc",templateItem:"_1j7a1j9w",templateName:"_1vpyitlT",nametip:"_29JrCbRy",tooltip:"_2_XQdJs8",tiptext:"_3z7H_u0W",templateImg:"_31fSROrZ",templateImgAct:"_2URiROxz"}},509088:function(e,t,r){"use strict";r.r(t),t.default={root:"tCVeMrGQ",btn:"TlyzM-xH",panel:"_2jH-LxTL",warmming:"_7bWvMteC",icon:"_26IMTII3",text:"_2YWFrIKM",close:"_1IgC8yS1",filter:"_2V3Nvjpd",item:"_2uMx_25t",conner:"xc76I3hT","blue-border":"uyn7ctCe",list:"_2J470Fxh","scheme-item":"_36F6vQzs","scheme-image":"ppPpJGd_","scheme-smallImage":"_1pidp0Ks",listWithoutFilterPanel:"_2vmoAvm_",mulColums:"_1LWCV7US","display-none":"_2Lrcdjij",noscheme:"_1WYCBdr4"}},571008:function(e,t,r){"use strict";r.r(t),t.default={"ui-center":"_3Yy-6ilw","ui-center-pc":"_3rrXz-HX","ui-center-mobile":"iJZ11GoH"}},181836:function(e,t,r){"use strict";r.r(t),t.default={modileDesignerMain:"_3h5VC2Fy",mobileView:"ro2haVf1",home:"_9qcc5DMv",top:"_3NH1JSzk",pcDesignerMain:"k4rgFQfq",pcView:"qyc2Z_6V"}},911864:function(e,t,r){"use strict";r.r(t),t.default={root:"_3kUX7_Dv",title:"_1wRnHcML",text:"_2fTQN2iQ",hidden:"M_jrXYAk"}},668104:function(e,t,r){"use strict";r.r(t),t.default={root:"_2wDRIZZH"}},594164:function(e,t,r){"use strict";r.r(t),t.default={hidden:"Hrc1gCyT"}},681680:function(e,t,r){"use strict";r.r(t),t.default={input:"_2MlvIEvD"}},829592:function(e,t,r){"use strict";r.r(t),t.default={root:"EstESE8P",title:"atLUMYOy",content:"h4Ty11ic",error:"_1z1J5Wx6",hidden:"uyP9h1uO"}},168156:function(e,t,r){"use strict";r.r(t),t.default={root:"_1ZQpHrBn",title:"_1ZPJmn_g",content:"_3n9U43Wc",error:"ah9zJirg"}},145764:function(e,t,r){"use strict";r.r(t),t.default={root:"XUa1EgtQ"}},406240:function(e,t,r){"use strict";r.r(t),t.default={root:"_32mJVUhG",item:"_30x1zD35"}},915500:function(e,t,r){"use strict";r.r(t),t.default={root:"_1bGDdG4T","control-panel":"_1JFOgn1L",item:"_eAk6X9P","item-hover":"_25bubHtO","list-panel":"_2UJuEHC3",title:"_1t8cWtlf","select-count":"_2qle8qiG","clear-all":"_1zb1uJWL",content:"_1E2kxDWB",delete:"_2Cd6fUQv","item-selected":"VFiafK9z","prop-panel":"_1QBXoxCR"}},343919:function(e,t,r){"use strict";r.r(t),t.default={overlay:"_3L5CoA0a","overlay-close":"_25g2XeWX",dialog:"_1F6v_Q58",title:"_14PVoQMB",toolbar:"_3Ga8gwgh"}},593448:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(360776),r(505684),r(241872),r(323784),r(743924),r(693917),r(205960),r(976896),r(297336),r(721300),r(846428),r(336368),r(708896),r(606200),r(534440),r(670864),r(76124),r(880920),r(836887),r(633768),r(690512),r(78504),r(776512),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(9692),r(233696),r(387912),r(997308);var o,i,a,l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=P(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}return o.default=e,r&&r.set(e,o),o}(r(795520)),u=C(r(540900)),d=C(r(459392)),c=r(887084),s=C(r(348896)),f=r(218652),p=C(r(385384)),g=r(974184),m=r(251536),y=r(738704),v=r(545072),h=r(195196),b=r(681868),I=r(891052),A=r(674260),E=r(868256),M=["modeltype","modelver"];function C(e){return e&&e.__esModule?e:{default:e}}function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(P=function(e){return e?r:t})(e)}function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},w.apply(this,arguments)}function O(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],u=!0,d=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){d=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(d)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function k(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,S(n.key),n)}}function S(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:String(t)}function j(e,t,r){return t=F(t),function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,N()?Reflect.construct(t,r||[],F(e).constructor):t.apply(e,r))}function N(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(N=function(){return!!e})()}function F(e){return F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},F(e)}function D(e,t){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},D(e,t)}var L=(o=(0,s.default)(!1),(0,p.default)(i=o((a=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=j(this,t,[e])).invokeControlMethods=function(e){e.forEach((function(e){var t=e.methodname,n=e.args;switch(t){case h.TRANSFORM_MODEL:r.setEncodeData(n);break;case h.SET_ENCODING_KEYS:r.setEncodingKeys(n);break;case b.SET_MUL_LANG_PROPERTY:r.setMulLangProperty(n);break;case b.LOCK_PROPERTY:r.lockProperty(n);break;case b.SET_DESIGNER_CONFIG:r.setDesignerConfig(n)}}))},r.setMulLangProperty=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(0,A.setData)(E.MUL_LANG_PROPERTY,(0,I.fromJS)(e[0]))},r.setEncodeData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if((0,f.getRootEncodeMethod)()){var t=T(e,2)[1];(0,y.setPageData)(r.props.model.pageId,v.KDBASE64,t||[])}},r.setEncodingKeys=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if((0,f.getRootEncodeMethod)()){var t,n,o=null===(t=e[0])||void 0===t?void 0:t.default,i=!!o&&(null===(n=e[0])||void 0===n||null===(n=n.propertyClick)||void 0===n?void 0:n.concat(o));(0,y.setPageData)(r.props.model.pageId,v.ENCODE_DEFAULT_KEYS,o||[]),(0,y.setPageData)(r.props.model.pageId,v.ENCODE_PROPERTY_KEYS,i||[])}},r.lockProperty=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[])[0];if(e){var t=r.props.model,n=t.pageId,o=t.key;(0,y.setPageData)(n,[o,b.LOCK_PROPERTY],(0,I.fromJS)(e))}},r.setDesignerConfig=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[])[0];if(e){var t=r.props.model,n=t.pageId,o=t.key;(0,y.setPageData)(n,[o,"config"],e)}},r.state={openArgs:[]},r}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D(e,t)}(t,e),r=t,n=[{key:"componentWillMount",value:function(){var e=this.props.model.getFormConfig();this.clientParams=e.clientParams||{};var t=e.fileserver,r=(0,f.getDataProperty)(this.props.model.pageId,this.props.model.key,"open_args")(this.props.model.state);this.setState({openArgs:r,fileserver:t})}},{key:"componentDidMount",value:function(){var e=this,t=this.props.model;this.removeDirectivesListener=(0,y.subscribeControlMethod)(t.pageId,t.key,"directives",(function(t){void 0!==t&&e.invokeControlMethods(t)}))}},{key:"componentWillUnmount",value:function(){var e;null===(e=this.removeDirectivesListener)||void 0===e||e.call(this)}},{key:"componentWillReceiveProps",value:function(e){var t=e.model.getFormConfig().fileserver,r=(0,f.getDataProperty)(this.props.model.pageId,this.props.model.key,"open_args")(e.model.state);r&&this.setState({openArgs:r,fileserver:t})}},{key:"shouldComponentUpdate",value:function(e,t){var r=this.state.openArgs,n=(0,f.getDataProperty)(e.model.pageId,e.model.key,"open_args")(e.model.state);return!r||n!==r}},{key:"render",value:function(){var e={minWidth:800,height:this.props.height,width:this.props.width||"100%",display:"flex",flexDirection:"column",flexGrow:1,paddingTop:"8px",background:"#E9ECF1"},t=this.props,r=t.model,n=t.dispatch,o=this.clientParams,i=o.modeltype,a=o.modelver,u=O(o,M),s={model:this.props.model,invokeAction:function(){return n(c.property_editor_click.apply(void 0,arguments))},setPostControlValue:function(){return n(c.setPostControlValue.apply(void 0,arguments))},setValidMessage:function(){return n(m.setValidMessage.apply(void 0,arguments))},modelType:this.state.openArgs&&this.state.openArgs[0]||i,modelVer:a||"1.0",clientParams:u};return l.default.createElement(g.DesignerContext.Provider,{value:s},l.default.createElement("div",w({id:r.key,ref:this.props.model.key,className:"designer",style:e},this.props.attachData),l.default.createElement(d.default,{openArgs:this.state.openArgs,fileserver:this.state.fileserver})))}}],n&&k(r.prototype,n),o&&k(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(l.Component),a.propTypes={data:u.default.object,pageId:u.default.string},i=a))||i)||i);t.default=L},127204:function(e,t,r){"use strict";r(606200),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(331428),o={TextField:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0001"),docAddress:"commonField/text/",category:"218035423933468928",id:"215128684791905280",productLineId:"29"},DateField:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0002"),docAddress:"commonField/date/",category:"218035423933468928",id:"220180664904104960",productLineId:"29"},DateTimeField:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0003"),docAddress:"commonField/datetime/",category:"218035423933468928",id:"221548306877269760",productLineId:"29"},DateRangeField:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0004"),docAddress:"commonField/daterange/",category:"218035423933468928",id:"221549412948950016",productLineId:"29"},DecimalField:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0005"),docAddress:"commonField/decimal/",category:"218035423933468928",id:"220153919438712064",productLineId:"29"},IntegerField:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0006"),docAddress:"commonField/integer/",category:"218035423933468928",id:"220142099956385536",productLineId:"29"},BigIntField:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0007"),docAddress:"commonField/bigint/",category:"218035423933468928",id:"220175081899995392",productLineId:"29"},TextAreaField:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0008"),docAddress:"commonField/textarea/",category:"218035423933468928",id:"220176216492230400",productLineId:"29"},LargeTextField:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0009"),docAddress:"commonField/largetext/",category:"218035423933468928",id:"220178555018588416",productLineId:"29"},MuliLangTextField:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0010"),docAddress:"commonField/localetext/",category:"218035423933468928",id:"220179325780070656",productLineId:"29"},PictureField:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0011"),docAddress:"commonField/picture/",category:"218035423933468928",id:"221557353186454784",productLineId:"29"},CheckBoxField:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0012"),docAddress:"commonField/checkbox/",category:"218035423933468928",id:"221552451739577600",productLineId:"29"},ComboField:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0013"),docAddress:"commonField/combo/",category:"218035423933468928",id:"221555621978878208",productLineId:"29"},MulComboField:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0014"),docAddress:"commonField/mulcombo/",category:"218035423933468928",id:"221556415758908416",productLineId:"29"},AttachmentField:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0015"),docAddress:"commonField/attachmentfield/",category:"218035423933468928",id:"221558278130386688",productLineId:"29"},RadioField:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0016"),docAddress:"commonField/radio/",category:"218035423933468928",id:"221553785326923008",productLineId:"29"},RadioGroupField:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0017"),docAddress:"commonField/radio/",category:"218035423933468928",id:"221553785326923008",productLineId:"29"},TimeField:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0018"),docAddress:"commonField/time/",category:"218035423933468928",id:"221550498083106048",productLineId:"29"},TimeRangeField:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0019"),docAddress:"commonField/timerange/",category:"218035423933468928",id:"221551264331512832",productLineId:"29"},StepperField:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0020"),docAddress:"",category:"218035423933468928",id:"219098725463931904",productLineId:"29"},BasedataField:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0021"),docAddress:"commonField/basedata/",category:"218035461581541632",id:"221670300038589696",productLineId:"29"},MulBasedataField:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0022"),docAddress:"",category:"218035461581541632",id:"254637283390352384",productLineId:"29"},AssistantField:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0023"),docAddress:"",category:"218035461581541632",id:"254640429957213184",productLineId:"29"},BasedataPropField:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0024"),docAddress:"",category:"218035461581541632",id:"254630112203567616",productLineId:"29"},UserField:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0025"),docAddress:"",category:"218035461581541632",id:"254641688097079040",productLineId:"29"},UserAvatarField:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0026"),docAddress:"",category:"218035461581541632",id:"254645462971018240",productLineId:"29"},OrgField:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0027"),docAddress:"",category:"218035461581541632",id:"254647978647448576",productLineId:"29"},CityField:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0028"),docAddress:"",category:"218035461581541632",id:"221672032084005120",productLineId:"29"},MaterielField:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0029"),docAddress:"",category:"218035461581541632",id:"254649363002462208",productLineId:"29"},UnitField:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0030"),docAddress:"",category:"218035461581541632",id:"254657415831109376",productLineId:"29"},QtyField:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0031"),docAddress:"",category:"218035461581541632",id:"254665469700247552",productLineId:"29"},CurrencyField:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0032"),docAddress:"",category:"218035461581541632",id:"254658799934991360",productLineId:"29"},AmountField:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0033"),docAddress:"",category:"218035461581541632",id:"254664210486415616",productLineId:"29"},PriceField:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0034"),docAddress:"",category:"218035461581541632",id:"254667356264480512",productLineId:"29"},FlexField:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0035"),docAddress:"",category:"218035461581541632",id:"255615264455676160",productLineId:"29"},ItemClassField:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0036"),docAddress:"",category:"218035461581541632",id:"255617779980996608",productLineId:"29"},ItemClassTypeField:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0037"),docAddress:"",category:"218035461581541632",id:"255619669196181504",productLineId:"29"},AdminDivisionField:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0038"),docAddress:"",category:"218035461581541632",id:"224082920489459712",productLineId:"29"},AddressField:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0039"),docAddress:"",category:"218035461581541632",id:"144529579825292800",productLineId:"29"},EmailField:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0040"),docAddress:"",category:"218035461581541632",id:"224081578312137472",productLineId:"29"},TelephoneField:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0041"),docAddress:"",category:"218035461581541632",id:"236778854621456896",productLineId:"29"},AttachmentPanelAp:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0042"),docAddress:"commonControl/attachment/",category:"218035603349614848",id:"224157659564187392",productLineId:"29"},ButtonAp:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0043"),docAddress:"commonControl/button/",category:"218035603349614848",id:"224138661196231936",productLineId:"29"},CarouselFigureAp:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0044"),docAddress:"commonControl/carousel/",category:"218035603349614848",id:"224171406412282624",productLineId:"29"},CustomControlAp:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0045"),docAddress:"commonControl/customctrl/",category:"249447947539332864",id:"205421332635100416",productLineId:"29"},HtmlAp:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0046"),docAddress:"commonControl/html/",category:"218035603349614848",id:"224163276727547136",productLineId:"29"},HyperlinkAp:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0047"),docAddress:"commonControl/hyperlink/",category:"218035603349614848",id:"224140296572138752",productLineId:"29"},IFrameAp:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0048"),docAddress:"commonControl/iframe/",category:"218035603349614848",id:"224159253316269312",productLineId:"29"},ImageAp:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0049"),docAddress:"commonControl/image/",category:"218035603349614848",id:"224140799921683200",productLineId:"29"},ImageListAp:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0050"),docAddress:"commonControl/imagelist/",category:"218035603349614848",id:"224142813137761536",productLineId:"29"},LabelAp:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0051"),docAddress:"commonControl/label/",category:"218035603349614848",id:"224139751295841536",productLineId:"29"},MarkdownAp:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0052"),docAddress:"commonControl/markdown/",category:"218035603349614848",id:"226616744045815040",productLineId:"29"},ProgressBarAp:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0053"),docAddress:"commonControl/progressbar/",category:"218035603349614848",id:"224163738101282560",productLineId:"29"},QRCodeAp:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0054"),docAddress:"commonControl/qrcode/",category:"218035603349614848",id:"224158750083227648",productLineId:"29"},RichTextEditorAp:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0055"),docAddress:"commonControl/richtext/",category:"218035603349614848",id:"224167384963981056",productLineId:"29"},CodeEditAp:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0056"),docAddress:"commonControl/codeedit/",category:"218035603349614848",id:"224143358380056320",productLineId:"29"},SearchAp:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0057"),docAddress:"commonControl/searchbox/",category:"218035603349614848",id:"224164535035524352",productLineId:"29"},TreeViewAp:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0058"),docAddress:"commonControl/treecontrol/",category:"218035603349614848",id:"224144029502698752",productLineId:"29"},VectorAp:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0059"),docAddress:"commonControl/vector/",category:"218035603349614848",id:"224141974276513792",productLineId:"29"},ClientAjaxAp:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0060"),docAddress:"commonControl/ajax/",category:"218035603349614848",id:"224162647648608256",productLineId:"29"},MapControlAp:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0061"),docAddress:"commonControl/map/",category:"218035603349614848",id:"224205192453791744",productLineId:"29"},AnchorControlAp:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0062"),docAddress:"commonControl/anchor/",category:"218035603349614848",id:"224206408802399488",productLineId:"29"},AudioAp:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0063"),docAddress:"commonControl/audio/",category:"218035603349614848",id:"224207499321439488",productLineId:"29"},VideoAp:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0064"),docAddress:"commonControl/video/",category:"218035603349614848",id:"224208296222422272",productLineId:"29"},CountDownAp:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0065"),docAddress:"commonControl/countdown/",category:"218035603349614848",id:"226619005480314368",productLineId:"29"},StepsAp:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0066"),docAddress:"commonControl/steps/",category:"",id:"",productLineId:""},TimelineAp:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0067"),docAddress:"commonControl/timeline/",category:"218035603349614848",id:"224190961297760256",productLineId:"29"},RateAp:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0068"),docAddress:"commonControl/rate/",category:"218035603349614848",id:"224192094498037760",productLineId:"29"},SliderAp:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0069"),docAddress:"commonControl/slider/",category:"",id:"",productLineId:""},TransferContainerAp:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0070"),docAddress:"",category:"218035603349614848",id:"224193142352575232",productLineId:"29"},SpreadAp:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0071"),docAddress:"",category:"218035603349614848",id:"229915214085755648",productLineId:"29"},WebOfficeAp:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0072"),docAddress:"",category:"218035603349614848",id:"224196875316731904",productLineId:"29"},LittleKAp:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0073"),docAddress:"",category:"218035603349614848",id:"281825832387985152",productLineId:"29"},FlexPanelAp:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0074"),docAddress:"container/flexpanel/",category:"218035632357421312",id:"226621396334707456",productLineId:"29"},AdvConAp:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0075"),docAddress:"",category:"218035632357421312",id:"226627394155423232",productLineId:"29"},MessageCarouselContainerAp:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0076"),docAddress:"container/carouselcontainer/",category:"218035632357421312",id:"226624290336908800",productLineId:"29"},FieldsetPanelAp:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0077"),docAddress:"container/fieldpanel/",category:"218035632357421312",id:"226622402883781376",productLineId:"29"},FilterContainerAp:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0078"),docAddress:"container/querypanel/",category:"218035632357421312",id:"227018721024124416",productLineId:"29"},SplitContainerAp:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0079"),docAddress:"container/splitcontainer/",category:"218035632357421312",id:"226990828919301376",productLineId:"29"},TabAp:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0080"),docAddress:"container/tabcontrol/",category:"218035632357421312",id:"226988606022517248",productLineId:"29"},ToolbarAp:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0081"),docAddress:"categoryNavigation/toolbar/",category:"218035683124725504",id:"226993177780323072",productLineId:"29"},TreeMenuAp:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0082"),docAddress:"categoryNavigation/treemenu/",category:"218035683124725504",id:"226994478333330176",productLineId:"29"},ListboxAp:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0083"),docAddress:"categoryNavigation/listbox/",category:"218035603349614848",id:"226620054090318336",productLineId:"29"},SegmentedControlAp:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0084"),docAddress:"commonControl/segmentedControl/"},WizardAp:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0085"),docAddress:"categoryNavigation/guide/",category:"218035683124725504",id:"226992171080254208",productLineId:"29"},EntryEntity:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0086"),docAddress:"grid/entry/",category:"218035559762017280",id:"224093028694948608",productLineId:"29"},SubEntryEntity:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0087"),docAddress:"grid/subEntry/",category:"218035559762017280",id:"224097852144548608",productLineId:"29"},TreeEntryEntity:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0088"),docAddress:"grid/treeEntry/",category:"218035559762017280",id:"224102549865733888",productLineId:"29"},CardEntryAp:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0089"),docAddress:"card/entry/",category:"218035559762017280",id:"224086695346282496",productLineId:"29"},SubCardEntryAp:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0090"),docAddress:"card/subEntry/",category:"218035559762017280",id:"224091015462583040",productLineId:"29"},BillListAp:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0091"),docAddress:"",category:"218035723876536576",id:"224105443851565824",productLineId:"29"},BarChartAp:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0092"),docAddress:"chart/barchart/",category:"218035764947207936",id:"221668042009653504",productLineId:"29"},defaultInfo:{introduction:(0,n.getLangMsg)("bosd.controlDocInfo.key0094"),category:"",id:"",productLineId:""}};t.default=o},459392:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(360776),r(743924),r(205960),r(846428),r(708896),r(606200),r(534440),r(670864),r(387912),r(836887),r(78504),r(776512),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(297336),r(880920);h(r(790832)),h(r(540900));var o=r(330936),i=v(r(795520)),a=r(891052),l=v(r(211152)),u=r(300288),d=r(357576),c=h(r(536320)),s=h(r(686272)),f=h(r(178460)),p=r(974184),g=r(674260),m=r(868256);function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(y=function(e){return e?r:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=y(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}return o.default=e,r&&r.set(e,o),o}function h(e){return e&&e.__esModule?e:{default:e}}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,I(n.key),n)}}function I(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:String(t)}function A(e,t,r){return t=M(t),function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,E()?Reflect.construct(t,r||[],M(e).constructor):t.apply(e,r))}function E(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(E=function(){return!!e})()}function M(e){return M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},M(e)}function C(e,t){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},C(e,t)}var P=0,w=0,O=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),A(this,t,arguments)}var r,n,p;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C(e,t)}(t,e),r=t,(n=[{key:"componentWillMount",value:function(){this.store=(0,f.default)(c.default,(0,s.default)(this.context.model.pageId)),l.default[l.DSTORE]=window.dStore||{},this.number=P++,l.default[l.DSTORE][this.number]=this.store,w++,(0,g.setData)(m.KEY_TRAYMENU,!1)}},{key:"componentWillUnmount",value:function(){l.default[l.DSTORE][this.number]=null,0==--w&&(0,g.setData)(m.KEY_TRAYMENU,!0)}},{key:"render",value:function(){return i.default.createElement(o.Provider,{store:this.store},i.default.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%",flexGrow:1}},i.default.createElement(u.EdituiContainer,{openArgs:(0,a.fromJS)(this.props.openArgs),fileserver:this.props.fileserver}),i.default.createElement(d.MessagePageContainer,null)))}}])&&b(r.prototype,n),p&&b(r,p),Object.defineProperty(r,"prototype",{writable:!1}),t}(i.Component);O.contextType=p.DesignerContext;t.default=O},46932:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(743924),r(606200),r(534440),r(387912),r(78504),r(776512),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.addControl=function(e,t,r,n){return{type:o.add_control,parentId:e,ctrlInfo:t,uiConfig:r,selectedFormInfo:n}},t.addEntityInfo=function(e){return{type:i.add_entity_info,entityInfo:e}},t.addFieldControl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{type:o.add_field_control,fieldInfo:e,uiConfig:t}},t.addTempFragment=function(e,t){return{type:i.add_template_fragment,controlId:e,tempFragmentData:t}},t.addUiInfoValue=function(e,t){return{type:o.add_uiInfo_Item,propName:e,data:t}},t.applyContainerTemplate=function(e,t,r){return{type:i.apply_container_template,templateData:e,uiConfig:t,containerId:r}},t.applyControlTemplate=function(e,t){return{type:i.apply_control_template,templateData:e,controlId:t}},t.applyPageTemplate=function(e,t){return{type:i.apply_page_template,templateData:e,uiConfig:t}},t.clearDirtyData=function(){return{type:o.clear_dirty_data}},t.copyAndAdd=function(e,t,r){return{type:o.copy_and_add,parentId:e,ctrlId:t,uiConfig:r}},t.copyControl=function(e,t){return{type:o.copy_control,ctrlId:e,mode:"copy",disableDelete:t||!1}},t.cutControl=function(e,t){return{type:o.copy_control,ctrlId:e,mode:"cut",disableDelete:t||!1}},t.deleteControl=function(e,t,r){return{type:o.delete_control,ctrlId:e,uiConfig:t,deleteConfirm:r}},t.dragOverControl=function(e){return{type:o.dragover_control,ctrlId:e}},t.fetchUiMetadata=function(e,t){return function(r){a.getUiMetadata(e,t).then((function(e){r(d(e))})).catch((function(e){console.error(e.message,e.stack)}))}},t.maxWin=function(e){return{type:o.max_win,max:e}},t.moveControl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"down";return{type:o.move_control,direction:e}},t.moveToControl=function(e,t,r){return{type:o.moveto_control,parentId:e,ctrlId:t,uiConfig:r}},t.notifyMessage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";return{type:o.notify_message,message:e,messageType:t}},t.pasteControl=function(e,t){return{type:o.paste_control,ctrlId:e,uiConfig:t}},t.pasteControlStyle=function(){return{type:i.paste_control_style}},t.pushUndo=function(){return{type:o.push_undo}},t.redo=function(){return{type:o.redo_ui_info}},t.refreshAllControls=function(){return{type:i.refresh_all_controls}},t.resetFillWidthHeight=function(e,t,r){return{type:o.reset_fill_wh,postInfo:{fieldId:e,propName:t,uiConfig:r}}},t.selectControlId=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{type:o.select_control_id,ctrlId:e,multi:t,scope:r}},t.selectControlIds=function(e){return{type:o.set_select_controlIds,selIds:e}},t.setFormatInfo=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:o.set_format_info,ctrlId:e,multi:t}},t.setUILoading=function(e){return{type:o.set_ui_loading,value:e}},t.setUiInfo=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{type:o.set_ui_info,uiInfo:e,selectRootControl:t}},t.setUiLoadError=function(e){return{type:o.set_ui_load_error,value:e}},t.setUiMetadata=d,t.switchToFlatPanel=function(e,t){return{type:o.switch_flat_panel,ctrlId:e,uiConfig:t}},t.throwOperateInfo=function(e){return{type:o.throw_operate_info,info:e}},t.undo=function(){return{type:o.undo_ui_info}},t.updatePropValue=function(e,t,r,n,i){return function(a){var l=[];Array.isArray(e)?(l=e,i=t):l=[{fieldId:e,propName:t,value:r,metaType:n}],a({type:o.update_prop_value,propInfos:l,uiConfig:i,dispatch:a})}},t.updateUIPropValue=function(e,t,r){return{type:i.update_ui_prop_value,controlId:e,propertyName:t,value:r}},r(323784);var o=u(r(579016)),i=o,a=u(r(525896));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=i?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(o,a,u):o[a]=e[a]}return o.default=e,r&&r.set(e,o),o}function d(e){return{type:o.set_ui_metadata,metadata:e}}},707892:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(360776),r(743924),r(205960),r(846428),r(708896),r(606200),r(670864),r(387912),r(836887),r(78504),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(297336),r(880920);var o=u(r(795520)),i=u(r(540900)),a=u(r(671252)),l=u(r(184016));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t,r){return(t=s(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s(n.key),n)}}function s(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:String(t)}function f(e,t,r){return t=g(t),function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}(e,p()?Reflect.construct(t,r||[],g(e).constructor):t.apply(e,r))}function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(p=function(){return!!e})()}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}var v=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=f(this,t,[e])).state={expand:!0},r.onClick=r.onClick.bind(m(r)),r}var r,n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(t,e),r=t,(n=[{key:"shouldComponentUpdate",value:function(e,t){var r=this.state.expand;return!1!==r||r!==t.expand}},{key:"onClick",value:function(){this.setState({expand:!this.state.expand})}},{key:"render",value:function(){var e=this.props,t=e.style,r=e.title,n=this.state.expand,i=(0,a.default)(d(d({},l.default.header,!0),l.default.expand,!n)),u=(0,a.default)(d(d({},l.default.content,!0),l.default.active,n));return o.default.createElement("div",{className:l.default.root,style:t},o.default.createElement("div",{className:i,onClick:this.onClick},o.default.createElement("span",{className:l.default.title},r),o.default.createElement("span",{className:l.default.icon},o.default.createElement("i",{className:"kdfont kdfont-bottom"}))),o.default.createElement("div",{className:u},this.props.children))}}])&&c(r.prototype,n),i&&c(r,i),Object.defineProperty(r,"prototype",{writable:!1}),t}(o.default.Component);v.propTypes={title:i.default.string};t.default=v},128400:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(360776),r(743924),r(205960),r(846428),r(708896),r(606200),r(534440),r(670864),r(387912),r(836887),r(78504),r(776512),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(297336),r(880920);var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}return o.default=e,r&&r.set(e,o),o}(r(795520)),i=c(r(540900)),a=c(r(369396)),l=c(r(671252)),u=r(331428),d=c(r(812508));function c(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p(n.key),n)}}function p(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:String(t)}function g(e,t,r){return t=y(t),function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}(e,m()?Reflect.construct(t,r||[],y(e).constructor):t.apply(e,r))}function m(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(m=function(){return!!e})()}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}var b=t.default=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=g(this,t,[e])).onKeyUp=r.onKeyUp.bind(v(r)),r.onClose=r.onClose.bind(v(r)),r}var r,n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(t,e),r=t,(n=[{key:"componentDidMount",value:function(){document.addEventListener("keyup",this.onKeyUp)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",this.onKeyUp)}},{key:"onKeyUp",value:function(e){this.props.closable&&27===e.keyCode&&this.onClose(e)}},{key:"onClose",value:function(e){this.props.onClose(e)}},{key:"renderTitle",value:function(){var e=this.props.title;return"function"==typeof e?e():"boolean"==typeof e||"string"==typeof e?e&&o.default.createElement("div",{className:(0,l.default)(d.default.title)},e||""):e}},{key:"renderFooter",value:function(){var e=this.props.footer;if("function"==typeof e)return e();if("boolean"==typeof e){var t=this.props,r=t.onOk,n=t.onCancel;return e&&o.default.createElement("div",{className:(0,l.default)(d.default.toolbar)},o.default.createElement("div",{className:(0,l.default)(d.default.btn),onClick:r},(0,u.getLangMsg)("bosd.dialog.key0001")),o.default.createElement("div",{className:(0,l.default)(d.default.btn),onClick:n},(0,u.getLangMsg)("bosd.dialog.key0002")))}return e}},{key:"render",value:function(){var e=this.props.closable;return a.default.createPortal(o.default.createElement("div",{className:(0,l.default)(d.default.overlay)},o.default.createElement("div",{className:(0,l.default)(d.default.dialog)},e&&o.default.createElement("span",{className:(0,l.default)(d.default.close),onClick:this.onClose},"×"),this.renderTitle(),o.default.createElement("div",{style:{flexGrow:1}},this.props.children),this.renderFooter())),document.body)}}])&&f(r.prototype,n),i&&f(r,i),Object.defineProperty(r,"prototype",{writable:!1}),t}(o.Component);b.propTypes={title:i.default.any,footer:i.default.any,closable:i.default.bool,onClose:i.default.func,onOk:i.default.func,onCancel:i.default.func},b.defaultProps={title:!0,footer:!0,closable:!0,onClose:function(){}}},799576:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(360776),r(743924),r(205960),r(846428),r(708896),r(606200),r(670864),r(836887),r(78504),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.TabPanel=void 0,r(9692),r(233696),r(443616),r(241872),r(297336),r(721300),r(880920),r(387912),r(997308);var o=f(r(790832)),i=f(r(795520)),a=f(r(671252)),l=f(r(331692)),u=r(674260),d=r(868256),c=f(r(937344)),s=r(891052);function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,r){return(t=v(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v(n.key),n)}}function y(e,t,r){return t&&m(e.prototype,t),r&&m(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function v(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:String(t)}function h(e,t,r){return t=I(t),function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,b()?Reflect.construct(t,r||[],I(e).constructor):t.apply(e,r))}function b(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(b=function(){return!!e})()}function I(e){return I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},I(e)}function A(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E(e,t)}function E(e,t){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},E(e,t)}var M=function(e){function t(e){var r;return g(this,t),(r=h(this,t,[e])).state={hoverKey:"",activeKey:e.defaultActiveKey||e.activeKey},r}return A(t,e),y(t,[{key:"componentWillReceiveProps",value:function(e){this.props.activeKey!=e.activeKey&&e.activeKey!=this.state.activeKey&&this.setState({activeKey:e.activeKey})}},{key:"componentDidMount",value:function(){var e=this;this.removeTemplateSchemeListener=(0,u.addDataChangeListener)(d.KEY_OPEN_TEMPLATE_SCHEME,(function(){"propertyViewer"===e.props.name&&"scheme"!==e.state.activeKey&&e.setState({activeKey:"scheme"})}))}},{key:"componentWillUnmount",value:function(){this.removeTemplateSchemeListener&&this.removeTemplateSchemeListener()}},{key:"getActiveKey",value:function(e,t){var r=t.activeKey,n=e.children,i=[];return n&&n.forEach((function(e,t){if(e){var r=e.key+"";i.push(r||t)}})),-1===o.default.indexOf(i,r)?i[0]:r}},{key:"onTabClick",value:function(e,t,r){var n=this,o=this.props.designerType;if(e.stopPropagation(),"fragments"===t&&["MobileBillFormModel","MobileFormAp","MobileBillFormAp"].includes(o)&&!(0,u.getData)(d.KEY_FRAGMENT_DATA)){var i="metatemplate/getFragmentTemplates.do?tempFragmentType="+o;i="".concat(i,"&random=").concat(Math.random()),c.default.postApi(i).then((function(e){(0,u.setData)(d.KEY_FRAGMENT_DATA,(0,s.fromJS)(e))})).catch((function(e){}))}this.setState({activeKey:t},(function(){n.props.onChange&&n.props.onChange(t,r)}))}},{key:"onTabMouseEnter",value:function(e){this.setState({hoverKey:e})}},{key:"onTabMouseLeave",value:function(){this.setState({hoverKey:""})}},{key:"render",value:function(){var e=this,t=this.props,r=t.children,n=t.style,o=t.className,u=this.getActiveKey(this.props,this.state),d=(0,a.default)(p(p({},l.default.root,!0),o,o)),c=[],s=[];return r&&r.forEach((function(t,r){if(t){var n=t.key+""||r,o=t.props.title,a=t.props.tab,d=t.props.selTab,f=u===n,p=f?l.default.active:"",g=f?d:a;e.state.hoverKey===n&&(g=d),g=g||o,c.push(i.default.createElement("li",{key:"title_"+n,className:p,title:o,onClick:function(t){return e.onTabClick(t,n,o)},onMouseEnter:function(){return e.onTabMouseEnter(n)},onMouseLeave:function(){return e.onTabMouseLeave()}},g)),s.push(i.default.cloneElement(t,{isSelected:f}))}})),i.default.createElement("div",{className:d,style:n},i.default.createElement("ul",{className:l.default.bar},c),s)}}]),t}(i.default.Component);t.default=M,t.TabPanel=function(e){function t(e){return g(this,t),h(this,t,[e])}return A(t,e),y(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.isSelected!==e.isSelected||!1!==e.isSelected}},{key:"render",value:function(){var e=this.props.isSelected,t=(0,a.default)(p(p({},l.default.panel,!0),l.default.hidden,!e));return i.default.createElement("div",{className:t},this.props.children)}}]),t}(i.default.Component)},12656:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(360776),r(743924),r(205960),r(846428),r(708896),r(606200),r(534440),r(670864),r(836887),r(78504),r(776512),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.TreeNode=void 0,r(233696),r(241872),r(297336),r(880920),r(387912),r(997308);var o=d(r(790832)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}return o.default=e,r&&r.set(e,o),o}(r(795520)),a=d(r(671252)),l=d(r(660088));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,r){return(t=g(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g(n.key),n)}}function p(e,t,r){return t&&f(e.prototype,t),r&&f(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:String(t)}function m(e,t,r){return t=h(t),function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}(e,v()?Reflect.construct(t,r||[],h(e).constructor):t.apply(e,r))}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(v=function(){return!!e})()}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I(e,t)}function I(e,t){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},I(e,t)}var A=function(e){function t(e){return s(this,t),m(this,t,[e])}return b(t,e),p(t,[{key:"render",value:function(){var e=this.props,t=e.onSelect,r=e.selectedIds,n=void 0===r?[]:r,o=e.children,u=e.className,d=e.style,s=e.isPackUpAll,f=e.isExpandAll,p=e.handleChildExpandChange,g=e.handleChildPackUpChange,m=[];o&&i.default.Children.forEach(o,(function(e){m.push(i.default.cloneElement(e,{onSelect:t,selectedIds:n,isPackUpAll:s,isExpandAll:f,handleChildExpandChange:p,handleChildPackUpChange:g}))}));var y=(0,a.default)(c(c({},l.default.tree,!0),u,u));return i.default.createElement("div",{className:y,style:d},m)}}]),t}(i.Component);t.default=A,t.TreeNode=function(e){function t(e){var r;return s(this,t),(r=m(this,t,[e])).state={expand:e.expand},r.onExpand=r.onExpand.bind(y(r)),r.onSelect=r.onSelect.bind(y(r)),r}return b(t,e),p(t,[{key:"isExpand",value:function(e){var t=e.selectedIds,r=e.children,n=!1;return function e(i){r=i.children,o.default.forEach(r,(function(r){if(o.default.indexOf(t,r.props.id)>=0)return n=!0,!1;e(r.props)}))}(e),n}},{key:"componentWillReceiveProps",value:function(e){!this.state.expand&&this.isExpand(e)||e.isExpandAll?(this.props.isPackUpAll&&this.props.handleChildPackUpChange&&this.props.handleChildPackUpChange(),this.setState({expand:!0})):!this.state.expand&&this.props.isPackUpAll?this.props.handleChildPackUpChange&&this.props.handleChildPackUpChange():e.isPackUpAll&&this.setState({expand:!1})}},{key:"shouldComponentUpdate",value:function(e,t){var r=this.state.expand,n=this.props,i=n.key,a=n.id,l=n.title,u=n.value,d=n.icon,c=n.selectedIds,s=n.children,f=void 0===s?[]:s,p=e.children||[];return i!=e.key||a!=e.id||l!=e.title||u!=e.value||d!=e.icon||(-1===o.default.indexOf(c,a)&&o.default.indexOf(e.selectedIds,a)>=0||(o.default.indexOf(c,a)>=0&&-1===o.default.indexOf(e.selectedIds,a)||(0===f.length&&p.length>0||f.length>0&&0===p.length||(this.props.isExpandAll!==e.isExpandAll||(this.props.isPackUpAll!==e.isPackUpAll||(!1!==r||r!==t.expand)&&(f.length!=p.length||0!==p.length))))))}},{key:"onExpand",value:function(e){e.stopPropagation();var t=!this.state.expand;t||(this.props.handleChildPackUpChange&&this.props.handleChildPackUpChange(),this.props.handleChildExpandChange&&this.props.handleChildExpandChange()),this.setState({expand:t})}},{key:"onSelect",value:function(e){e.stopPropagation();var t=this.props,r=t.id,n=t.title,o=t.value,i=t.icon,a=t.onSelect;a&&a(e,{id:r,title:n,value:o,icon:i})}},{key:"render",value:function(){var e=this.props,t=e.style,r=e.className,n=e.children,u=e.id,d=e.title,s=e.icon,f=e.onSelect,p=e.selectedIds,g=e.isPackUpAll,m=e.isExpandAll,y=e.handleChildExpandChange,v=e.handleChildPackUpChange,h=this.state.expand,b=m||h,I=(0,a.default)(c(c(c({},l.default.title,!0),l.default["title-padding"],!n),r,r)),A=(0,a.default)({kdfont:!0,"kdfont-shouqi":b,"kdfont-unfolded-s":!b}),E=(0,a.default)(c(c({},l.default.text,!0),l.default["node-selected"],-1!==o.default.indexOf(p,u))),M=(0,a.default)(c(c({},l.default.content,!0),l.default.hidden,!b||!n)),C=[];return n&&i.default.Children.forEach(n,(function(e){C.push(i.default.cloneElement(e,{onSelect:f,selectedIds:p,isPackUpAll:g,isExpandAll:m,handleChildExpandChange:y,handleChildPackUpChange:v}))})),i.default.createElement("div",{className:l.default["tree-node"]},i.default.createElement("div",{className:I,style:t,onClick:this.onSelect},n?i.default.createElement("span",{className:l.default.switcher,onClick:this.onExpand},i.default.createElement("i",{className:A})):null,s?i.default.createElement("img",{className:l.default.icon,src:s}):null,i.default.createElement("span",{className:E},d)),i.default.createElement("div",{className:M},C))}}]),t}(i.Component)},579016:function(e,t,r){"use strict";r(606200),Object.defineProperty(t,"__esModule",{value:!0}),t.update_ui_prop_value=t.update_prop_value=t.undo_ui_info_and_push_undo=t.undo_ui_info=t.throw_operate_info=t.switch_flat_panel=t.set_ui_metadata=t.set_ui_loading=t.set_ui_load_error=t.set_ui_info=t.set_select_controlIds=t.set_refresh_ctrl_ids=t.set_format_info=t.select_control_id=t.reset_fill_wh=t.refresh_all_controls=t.redo_ui_info=t.push_undo=t.paste_control_style=t.paste_control=t.notify_message=t.moveto_control=t.move_control=t.max_win=t.dragover_control=t.delete_control=t.current_edit_mode=t.copy_control=t.copy_and_add=t.convert_appmodelfunction=t.clear_dirty_data=t.apply_page_template=t.apply_control_template=t.apply_container_template=t.add_uiInfo_Item=t.add_template_fragment=t.add_field_control=t.add_entity_info=t.add_control=void 0;t.current_edit_mode="current_edit_mode",t.set_ui_metadata="set_ui_metadata",t.set_ui_info="set_ui_info",t.select_control_id="select_control_id",t.copy_and_add="copy_and_add",t.add_control="add_control",t.add_field_control="add_field_control",t.delete_control="delete_control",t.move_control="move_control",t.set_ui_loading="set_ui_loading",t.set_ui_load_error="set_ui_load_error",t.update_prop_value="update_prop_value",t.notify_message="notify_message",t.copy_control="copy_control",t.paste_control="paste_control",t.moveto_control="moveto_control",t.dragover_control="dragover_control",t.max_win="max_win",t.redo_ui_info="redo",t.undo_ui_info="undo",t.push_undo="push_undo",t.set_format_info="set_format_info",t.clear_dirty_data="clear_dirty_data",t.set_refresh_ctrl_ids="set_refresh_ctrl_ids",t.throw_operate_info="throw_operate_info",t.reset_fill_wh="reset_fill_wh",t.switch_flat_panel="switch_flat_panel",t.add_uiInfo_Item="add_uiInfo_Item",t.set_select_controlIds="setSelectControlIds",t.apply_page_template="apply_page_template",t.apply_container_template="apply_container_template",t.apply_control_template="apply_control_template",t.update_ui_prop_value="update_ui_prop_value",t.add_template_fragment="add_template_fragment",t.convert_appmodelfunction="convert_appmodelfunction",t.undo_ui_info_and_push_undo="undo_ui_info_and_push_undo",t.refresh_all_controls="refresh_all_controls",t.add_entity_info="add_entity_info",t.paste_control_style="paste_control_style"},233528:function(e,t,r){"use strict";r(606200),Object.defineProperty(t,"__esModule",{value:!0}),t.PageSizeEnum=void 0;t.PageSizeEnum={"na-letter":{width:"215.9mm",height:"279.4mm"},tabloid:{width:"279.4mm",height:"431.8mm"},"na-legal":{width:"215.9mm",height:"355.6mm"},executive:{width:"184.1mm",height:"266.7mm"},A3:{width:"297mm",height:"420mm"},A4:{width:"210mm",height:"297mm"},"iso-a5":{width:"148mm",height:"210mm"},"iso-b4":{width:"257mm",height:"364mm"},B5:{width:"182mm",height:"257mm"},"na-number-10-envelope":{width:"104.8mm",height:"241.3mm"},"monarch-envelope":{width:"984mm",height:"190.5mm"},Prc16KRotated:{width:"184mm",height:"260mm"},Prc32KRotated:{width:"130mm",height:"184mm"},Prc32KBigRotated:{width:"140mm",height:"203mm"},"KP-J101":{width:"140mm",height:"210mm"},"KP-J102":{width:"140mm",height:"240mm"},"KP-J103":{width:"120mm",height:"240mm"},"KP-J104":{width:"140mm",height:"222mm"},"KP-J105":{width:"140mm",height:"241mm"},"KP-J106":{width:"114mm",height:"241mm"},"KP-J107":{width:"114.3mm",height:"241mm"},"KP-J108":{width:"203mm",height:"312mm"},"KP-J109":{width:"254mm",height:"372mm"}}},410916:function(e,t,r){"use strict";r(182320),r(909112),r(697060),r(360776),r(622676),r(233696),r(505684),r(323784),r(743924),r(693917),r(205960),r(976896),r(721300),r(846428),r(336368),r(708896),r(969e3),r(606200),r(534440),r(76152),r(670864),r(76124),r(387912),r(836887),r(633768),r(690512),r(78504),r(776512),r(997308),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(297336),r(880920);var n=g(r(790832)),o=g(r(671252)),i=p(r(795520)),a=p(r(982460)),l=g(r(411136)),u=g(r(174112)),d=g(r(26016)),c=r(974184),s=r(65624);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=A(e)&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}function g(e){return e&&e.__esModule?e:{default:e}}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){I(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],u=!0,d=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){d=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(d)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b.apply(this,arguments)}function I(e,t,r){return(t=M(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function E(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,M(n.key),n)}}function M(e){var t=function(e,t){if("object"!=A(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=A(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==A(t)?t:String(t)}function C(e,t,r){return t=w(t),function(e,t){if(t&&("object"===A(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return O(e)}(e,P()?Reflect.construct(t,r||[],w(e).constructor):t.apply(e,r))}function P(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(P=function(){return!!e})()}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e,t){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},T(e,t)}(function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=C(this,t,[e])).onClear=r.onClear.bind(O(r)),r.onChange=r.onChange.bind(O(r)),r.onClick=r.onClick.bind(O(r)),r.getPropertyAliasValue=r.getPropertyAliasValue.bind(O(r)),r.delayUpdateValue=n.default.debounce(r.props.updatePropValue,200),r.state={value:e.getPropertyValue()},r}var r,l,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T(e,t)}(t,e),r=t,(l=[{key:"componentWillReceiveProps",value:function(e){this.setState({value:e.getPropertyValue()})}},{key:"onClear",value:function(e){e&&e.stopPropagation();var t=this.props.prop.getIn(["Editor","default"]);this.props.updatePropValue(t&&"")}},{key:"onChange",value:function(){var e=this.refs.input.value;this.setState({value:e}),this.delayUpdateValue(e)}},{key:"onClick",value:function(e){this.props.onClick&&this.props.onClick(e)}},{key:"getPropertyAliasValue",value:function(){var e=this.props,t=e.uiInfo,r=e.field,o=e.prop,i=e.itemId,a=e.metaType,l=o.get("name"),u=this.props.getPropertyValue();if(null==u)return u;var d=this.context.alias;if(null==(d&&d.getIn([i,a,l])))return this.props.getPropertyAliasValue(t,r,o);var c=d.getIn([i,a,l,"value"])||"";return u=u&&u.toJS?u.toJS():u,c=c&&c.toJS?c.toJS():c,n.default.isEqual(u,c)?d.getIn([i,a,l,"alias"])||u:u=this.props.getPropertyAliasValue(t,r,o)}},{key:"render",value:function(){var e=this.props.prop,t=e.get("Editor"),r=t.get("length"),n=t.get("editable",!1),l=t.get("alias",!1),c=t.get("required",!1),s={};!0===n?(s.maxLength=r,s.onChange=this.onChange,s.value=this.state.value):(s.readOnly=!0,s.value=!1===l?this.props.getPropertyValue():this.getPropertyAliasValue()),s.value=s.value||"",s.value.toJS&&(s.value=s.value.toJS()),"object"===A(s.value)&&(s.value=JSON.stringify(s.value));var f=!n&&!c,p=(0,o.default)(u.default.mixinscontrol,I({},d.default.root,f));return i.default.createElement(a.default,(0,a.getLabelContainerProps)(e,"Btn"),i.default.createElement("div",{className:p},i.default.createElement("input",b({ref:"input",type:"text"},s)),f&&!!s.value&&i.default.createElement("span",{className:d.default.clear,onClick:this.onClear},"×"),i.default.createElement("span",{className:u.default.btn,onClick:this.onClick},"...")))}}])&&E(r.prototype,l),c&&E(r,c),Object.defineProperty(r,"prototype",{writable:!1}),t}(i.Component)).contextType=c.PropertyViewerContext;t.default=(0,l.default)((function(e){var t=e.prop,r=e.uiInfo,l=e.field,f=e.itemId,p=e.metaType,g=e.onClick,m=e.getPropertyValue,h=e.updatePropValue,E=e.getPropertyAliasValue,M=m(),C=(0,i.useContext)(c.PropertyViewerContext),P=C.alias,w=(C.inherit,v((0,i.useState)(M),2)),O=w[0],T=w[1],_=v((0,i.useState)({}),2),k=_[0],S=_[1],j=v((0,i.useState)(!1),2),N=j[0],F=j[1],D=(0,i.useRef)(!1),L=t.get("Editor"),x=L.get("length"),B=L.get("editable",!1),R=L.get("alias",!1),V=L.get("emptyDisplay",!1),U=L.get("required",!1),W=L.get("btnName",""),K=t.get("name");(0,i.useEffect)((function(){var e=m();T(e),!B&&O&&e&&O!==e&&"JSPlugins"!==K&&Y(e)}),[m,O,B,K]),(0,i.useEffect)((function(){var e=t.get("ReadOnly");F(e)}),[t]);var Y=n.default.debounce(h,200),Q=(0,i.useRef)(null),G=(0,i.useCallback)((function(e){e&&e.stopPropagation();var r=t.getIn(["Editor","default"]);h(r&&"")}),[t,h]),H=(0,i.useCallback)((function(){var e=Q.current.value;S((function(t){return y(y({},t),{},{value:e})}))}),[Q.current]),J=(0,i.useCallback)((function(){var e;null!==(e=Q.current)&&void 0!==e&&e.readOnly||(D.current=!0)}),[]),z=(0,i.useCallback)((function(){var e;if(null===(e=Q.current)||void 0===e||!e.readOnly){D.current=!1;var t=Q.current.value;h(t)}}),[Q.current]),q=N&&t.get("LockType")!==s.LOCK_TYPE.SPECIALLOCK,X=(0,i.useCallback)((function(){return!q&&g&&g()}),[g,N]),Z=(0,i.useCallback)((function(e){var o=t.get("name"),i=m();if(null==i&&!e)return i;if(null==(P&&P.getIn([f,p,o])))return E(r,l,t);var a=P.getIn([f,p,o,"value"]);if(e||(a=a||""),i=i&&i.toJS?i.toJS():i,a=a&&a.toJS?a.toJS():a,n.default.isEqual(i,a)){var u=P.getIn([f,p,o,"alias"]);i=u||(E(r,l,t)||i)}else i=E(r,l,t);return i}),[t.hashCode(),P.hashCode(),f,p]);(0,i.useEffect)((function(){var e={};B?(e.maxLength=x,e.onChange=H,R&&(O||V)?(e.value=Z(V),e.value=e.value||O):e.value=O):(e.readOnly=!0,e.onChange=H,e.value=!1!==R&&O?Z(V):m()),e.value=e.value||"",e.value.toJS&&(e.value=e.value.toJS()),"object"===A(e.value)&&(e.value=JSON.stringify(e.value)),S(e)}),[B,R,O,Z,V]),(0,i.useEffect)((function(){var e=t.get("name"),r=P.getIn([f,p,e,"alias"]);!D.current&&R&&r&&O&&O!=r&&S((function(e){return y(y({},e),{},{value:r})}))}),[P.hashCode(),f,p]);var $=!B&&!U,ee=t.get("LockType")===s.LOCK_TYPE.SPECIALLOCK,te=!N&&$&&!!k.value&&!ee,re=(0,o.default)(u.default.mixinscontrol,I(I({},d.default.root,$),d.default.btnEditDisabled,N)),ne=N||ee,oe=(0,o.default)(I({},u.default["input-disabled"],ne)),ie=(0,o.default)(I(I({},u.default.btn,!0),u.default.disabled,q));return i.default.createElement(a.default,(0,a.getLabelContainerProps)(t,"Btn"),i.default.createElement("div",{className:re},W?i.default.createElement("span",{className:d.default.btnName,onClick:X},W):i.default.createElement(i.default.Fragment,null,i.default.createElement("input",b({disabled:ne,ref:Q,type:"text",className:oe},k,{onFocus:J,onBlur:z})),te&&i.default.createElement("span",{className:d.default.clear,onClick:G},"×"),i.default.createElement("span",{className:ie,onClick:X},"..."))))}))},151736:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(360776),r(743924),r(205960),r(846428),r(336368),r(708896),r(606200),r(534440),r(670864),r(387912),r(836887),r(78504),r(776512),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(297336),r(880920);var o=f(r(795520)),i=c(r(501772)),a=f(r(982460)),l=c(r(411136)),u=r(974184),d=r(489912);r(891052);function c(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}return o.default=e,r&&r.set(e,o),o}function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p.apply(this,arguments)}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m(n.key),n)}}function m(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:String(t)}function y(e,t,r){return t=h(t),function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}(e,v()?Reflect.construct(t,r||[],h(e).constructor):t.apply(e,r))}function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(v=function(){return!!e})()}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e,t){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},I(e,t)}var A=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=y(this,t,[e])).onChange=r.onChange.bind(b(r)),r}var r,n,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I(e,t)}(t,e),r=t,(n=[{key:"onChange",value:function(e){this.props.updatePropValue(!e)}},{key:"render",value:function(){var e=this,t=this.props,r=t.prop,n=t.select_control_ids,l=t.select_control_id,u=t.uiInfo,c=t.metaType,s=t.uiConfig,f=!!this.props.getPropertyValue();n.size>1&&""===this.props.getPropertyValue()&&(f=d.uiModel.getPropertyValue(u,l,r,c,s));var g=r.get("ReadOnly"),m={disabled:g,onClick:function(){return!g&&e.onChange(f)},style:g?{cursor:"not-allowed"}:{}};return o.default.createElement(a.default,(0,a.getLabelContainerProps)(r,"Checkbox"),o.default.createElement(i.default,p({value:f,size:2},m)))}}])&&g(r.prototype,n),l&&g(r,l),Object.defineProperty(r,"prototype",{writable:!1}),t}(o.Component);A.contextType=u.PropertyViewerContext;t.default=(0,l.default)(A)},25272:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(360776),r(743924),r(205960),r(708896),r(606200),r(534440),r(670864),r(836887),r(78504),r(776512),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(9692),r(693917),r(976896),r(297336),r(846428),r(880920),r(387912),r(23544),r(571176),r(633768),r(690512),r(218080),r(805720),r(513640),r(694904),r(321164);var o=f(r(795520)),i=c(r(790832)),a=c(r(159472)),l=c(r(174112)),u=f(r(982460)),d=c(r(411136));function c(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}return o.default=e,r&&r.set(e,o),o}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g(n.key),n)}}function g(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:String(t)}function m(e,t,r){return t=v(t),function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}(e,y()?Reflect.construct(t,r||[],v(e).constructor):t.apply(e,r))}function y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(y=function(){return!!e})()}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}var I=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=m(this,t,[e])).handleChangeComplete=r.handleChangeComplete.bind(h(r)),r.handleChangeInput=r.handleChangeInput.bind(h(r)),r}var r,n,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(t,e),r=t,(n=[{key:"handleChangeComplete",value:function(e){var t,r,n,o=e.alpha;if("themeColor"===(e=e.color)&&100!=o)return e="themeColor|".concat(o),void this.props.updatePropValue(e);100!==o&&(e.match(/^#[0-9a-fA-F]{3}$/)?(t=parseInt("0x"+i.default.repeat(e.slice(1,2),2)),r=parseInt("0x"+i.default.repeat(e.slice(2,3),2)),n=parseInt("0x"+i.default.repeat(e.slice(3,4),2))):(t=parseInt("0x"+e.slice(1,3)),r=parseInt("0x"+e.slice(3,5)),n=parseInt("0x"+e.slice(5,7))),e="rgba(".concat(t,",").concat(r,",").concat(n,",").concat(o/100,")"));this.props.updatePropValue(e)}},{key:"handleChangeInput",value:function(e){this.props.updatePropValue(e.target.value)}},{key:"getColor",value:function(e){var t="#ffffff",r=100;if(/^themeColor/.test(e)){var n=e.split("|");return{color:t=n[0],alpha:r=Number(n[1])||100}}if(e=i.default.trim(e).toLowerCase(),i.default.startsWith(e,"#"))t=e;else{var o,a,l,u,d=e.replace(/\s+/g,"").match(/rgba?\((\d{1,3}),(\d{1,3}),(\d{1,3})(,([.\d]+))?\)/);d&&(o=1==(o=parseInt(d[1]).toString(16)).length?"0"+o:o,a=1==(a=parseInt(d[2]).toString(16)).length?"0"+a:a,l=1==(l=parseInt(d[3]).toString(16)).length?"0"+l:l,u=parseFloat(d[5]),t="#"+o+a+l,r=isNaN(u)?100:parseInt(100*u))}return{color:t,alpha:r}}},{key:"render",value:function(){var e=this.props.prop,t=this.props.getPropertyValue(),r=this.getColor(t);return o.default.createElement(u.default,(0,u.getLabelContainerProps)(e,"Color"),o.default.createElement("div",{className:l.default.mixinscontrol},o.default.createElement("input",{ref:"input",type:"text",value:t||"",onChange:this.handleChangeInput}),o.default.createElement(a.default,{animation:"slide-up",placement:"bottomRight",color:r.color,alpha:r.alpha,defaultColor:"#ffffff",onChange:this.handleChangeComplete})))}}])&&p(r.prototype,n),d&&p(r,d),Object.defineProperty(r,"prototype",{writable:!1}),t}(o.Component);t.default=(0,d.default)(I)},427712:function(e,t,r){"use strict";r(697060),r(743924),r(336368),r(708896),r(606200),r(534440),r(670864),r(880920),r(836887),r(78504),r(776512),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(182320),r(909112),r(360776),r(622676),r(305092),r(443616),r(835164),r(205960),r(297336),r(721300),r(846428),r(286620),r(387912),r(660824);var n=y(r(790832)),o=m(r(795520)),i=r(891052),a=m(r(273380)),l=y(r(174112)),u=m(r(982460)),d=y(r(411136)),c=r(65624),s=y(r(593172)),f=r(331428),p=y(r(24892));function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(g=function(e){return e?r:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=v(e)&&"function"!=typeof e)return{default:e};var r=g(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}function y(e){return e&&e.__esModule?e:{default:e}}function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h.apply(this,arguments)}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,w(n.key),n)}}function I(e,t,r){return t=E(t),function(e,t){if(t&&("object"===v(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return M(e)}(e,A()?Reflect.construct(t,r||[],E(e).constructor):t.apply(e,r))}function A(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(A=function(){return!!e})()}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e,t){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},C(e,t)}function P(e,t,r){return(t=w(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w(e){var t=function(e,t){if("object"!=v(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==v(t)?t:String(t)}var O="Default",T={FieldStyle:P({RadioGroupField:[-1,1,3]},O,[-1,0,1,2]),ComboShowType:P({ComboField:[0,1,2],RadioOptGroupField:[0,1,2],MulComboField:[0,2]},O,[0,2])},_=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=I(this,t,[e])).state={valueIsNum:!1,showDg:!1},r.onChange=r.onChange.bind(M(r)),r.showOrHiddenDialog=r.showOrHiddenDialog.bind(M(r)),r.onChangeInDialog=r.onChangeInDialog.bind(M(r)),r.setValueType=r.setValueType.bind(M(r)),r}var r,d,g;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C(e,t)}(t,e),r=t,(d=[{key:"componentDidMount",value:function(){this.setValueType(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.setValueType(e)}},{key:"componentWillUnmount",value:function(){this.value=null,this.isHaveDialog=null}},{key:"setValueType",value:function(e){var t=(e||this.props).prop,r=t.getIn(["Editor","items"],(0,i.List)());if(this.isHaveDialog=!!t.get("ShowDialog",!1),0!==r.size){var o=r.get(0).get("id");this.setState({valueIsNum:n.default.isNumber(o)})}}},{key:"onChange",value:function(e){this.state.valueIsNum&&(e=n.default.parseInt(e)),this.value=e,this.isHaveDialog&&this.showOrHiddenDialog(),!this.isHaveDialog&&this.props.updatePropValue(e)}},{key:"showOrHiddenDialog",value:function(){this.setState({showDg:!this.state.showDg})}},{key:"onChangeInDialog",value:function(){this.showOrHiddenDialog();var e=this.props,t=e.prop,r=e.uiConfig,n=e.metaType,o=e.field,i=t.get("name");Object.is(o.get(c.TYPE),"MobTableAp")&&Object.is(i,"MobTableType")&&this.props.resetMobTypeField(o,n,r),this.props.updatePropValue(this.value)}},{key:"createDialog",value:function(){var e=this.props.prop.get("ShowDialog"),t=e&&e.get("dialogContent")||"";return o.default.createElement(s.default,{handleClose:this.showOrHiddenDialog,handleOk:this.onChangeInDialog,title:(0,f.getLangMsg)("bosd.comboPropertyEditor.key0001"),content:t})}},{key:"render",value:function(){var e,t=this.props,r=t.prop,d=t.field,s=r.getIn(["Editor","items"],(0,i.List)()).toJS(),g=r.getIn(["Editor","readonly"]),m=this.props.getPropertyValue()+"";if(1==g){var y=s.find((function(e){var t=e.id+"";return m==t})).name;e=o.default.createElement("span",{className:l.default.readonly,title:y},y)}else{var v=r.get("name"),b=d.get(c.FieldType),I=T[v]&&(T[v][b]||T[v][O]);I&&(s=s.filter((function(e){return I.includes(e.id)})));var A=r.get("ReadOnly");e=o.default.createElement(a.default,{className:A?l.default["select-disabled"]:"",disabled:A,style:{flexGrow:1},value:m,showSearch:!1,animation:"slide-up",choiceTransitionName:"rc-select-selection__choice-zoom",optionFilterProp:"children",optionLabelProp:"children",placeholder:(0,f.getLangMsg)("bosd.comboPropertyEditor.key0002"),dropdownMenuStyle:{maxHeight:200,overflow:"auto"},onChange:this.onChange},n.default.map(s,(function(e,t){return o.default.createElement(a.Option,{key:t,value:e.id+""},e.name)})))}return o.default.createElement(u.default,h({},(0,u.getLabelContainerProps)(r,"Combo"),{containerClassName:p.default.comboPropertyOverHidden}),e,this.state.showDg?this.createDialog():null)}}])&&b(r.prototype,d),g&&b(r,g),Object.defineProperty(r,"prototype",{writable:!1}),t}(o.Component);t.default=(0,d.default)(_)},138204:function(e,t,r){"use strict";r(182320),r(909112),r(697060),r(360776),r(743924),r(205960),r(846428),r(336368),r(708896),r(606200),r(534440),r(670864),r(387912),r(836887),r(78504),r(776512),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(297336),r(880920);f(r(790832)),f(r(540900));var n=f(r(671252)),o=s(r(795520)),i=s(r(982460)),a=f(r(411136)),l=(s(r(884012)),s(r(611744))),u=f(r(174112)),d=f(r(296176));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=p(e)&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}function f(e){return e&&e.__esModule?e:{default:e}}function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g.apply(this,arguments)}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y(n.key),n)}}function y(e){var t=function(e,t){if("object"!=p(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==p(t)?t:String(t)}function v(e,t,r){return t=b(t),function(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return I(e)}(e,h()?Reflect.construct(t,r||[],b(e).constructor):t.apply(e,r))}function h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(h=function(){return!!e})()}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e,t){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},A(e,t)}var E=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=v(this,t,[e])).state={open:!1},r.onShow=r.onShow.bind(I(r)),r.onHide=r.onHide.bind(I(r)),r.onClear=r.onClear.bind(I(r)),r}var r,a,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A(e,t)}(t,e),r=t,(a=[{key:"onClear",value:function(e){e.stopPropagation();var t=this.props.prop.getIn(["Editor","default"]);this.props.updatePropValue(t&&"")}},{key:"onShow",value:function(e){this.setState({open:!0})}},{key:"onHide",value:function(e){this.setState({open:!1})}},{key:"renderPage",value:function(){if(!this.state.open)return null;var e=this.props,t=(e.field,e.prop),r=(e.uiInfo,e.uiConfig,t.getIn(["Editor","CustomPropName"])),n=l.createCustomProp(r);return n?o.default.createElement(n,g({},this.props,{onDialogClose:this.onHide})):null}},{key:"render",value:function(){var e=this.props,t=(e.field,e.prop),r=(e.uiInfo,e.uiConfig,this.props.getPropertyValue()||"");r&&r.toJS&&(r=r.toJS()),"object"===p(r)&&(r=JSON.stringify(r));var a=(0,n.default)(u.default.mixinscontrol,function(e,t,r){return(t=y(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},d.default.root,!0));return o.default.createElement(i.default,(0,i.getLabelContainerProps)(t,"Custom"),o.default.createElement("div",{className:a},o.default.createElement("input",{type:"text",value:r,readOnly:!0}),o.default.createElement("span",{className:d.default.clear,onClick:this.onClear},"×"),o.default.createElement("span",{className:u.default.btn,onClick:this.onShow},"..."),this.renderPage()))}}])&&m(r.prototype,a),c&&m(r,c),Object.defineProperty(r,"prototype",{writable:!1}),t}(o.Component);t.default=(0,a.default)(E)},279544:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(360776),r(743924),r(205960),r(846428),r(708896),r(606200),r(534440),r(670864),r(387912),r(836887),r(78504),r(776512),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(297336),r(880920);var o=f(r(795520)),i=f(r(982460)),a=c(r(411136)),l=c(r(593600)),u=c(r(174112)),d=c(r(671252));function c(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}return o.default=e,r&&r.set(e,o),o}function p(e,t,r){return(t=m(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m(n.key),n)}}function m(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:String(t)}function y(e,t,r){return t=h(t),function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,v()?Reflect.construct(t,r||[],h(e).constructor):t.apply(e,r))}function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(v=function(){return!!e})()}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}var I=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=y(this,t,[e])).onChange=function(e){r.props.updatePropValue(e)},r.state={value:r.props.getPropertyValue()},r}var r,n,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(t,e),r=t,(n=[{key:"componentWillReceiveProps",value:function(e){var t=e.getPropertyValue();this.setState({value:t})}},{key:"render",value:function(){var e,t=this.props.prop,r=this.state.value,n=t.get("ReadOnly"),a=(0,d.default)(p(p(p({},u.default.input,!0),u.default.daterange,!0),u.default.disabled,n)),c=null===(e=this.props.uiInfo)||void 0===e?void 0:e.get("language");return o.default.createElement(i.default,(0,i.getLabelContainerProps)(t,"DateRange"),o.default.createElement("div",{className:a},o.default.createElement(l.default,{disabled:n,value:r,type:"daterange",style:{height:"18px",lineHeight:"18px"},inputProps:{style:{fontSize:"12px",color:"#666"}},localeCode:c,onChange:this.onChange,splitChar:","})))}}])&&g(r.prototype,n),a&&g(r,a),Object.defineProperty(r,"prototype",{writable:!1}),t}(o.Component);t.default=(0,a.default)(I)},86976:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(360776),r(743924),r(205960),r(846428),r(708896),r(606200),r(534440),r(670864),r(387912),r(836887),r(78504),r(776512),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(297336),r(880920);var o=s(r(795520)),i=d(r(174112)),a=s(r(982460)),l=d(r(411136)),u=d(r(671252));function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}return o.default=e,r&&r.set(e,o),o}function f(e,t,r){return(t=g(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g(n.key),n)}}function g(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:String(t)}function m(e,t,r){return t=v(t),function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,y()?Reflect.construct(t,r||[],v(e).constructor):t.apply(e,r))}function y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(y=function(){return!!e})()}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}var b=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=m(this,t,[e])).handleChange=function(e){r.setState({value:e.target.value})},r.handleBlur=function(e){var t=e.target.value;r.props.updatePropValue(t)},r.state={value:e.getPropertyValue()||""},r}var r,n,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(t,e),r=t,(n=[{key:"componentWillReceiveProps",value:function(e){var t=e.getPropertyValue()||"";this.state.value!==t&&this.setState({value:t})}},{key:"render",value:function(){var e=this.props.prop,t=e.get("Editor"),r=t&&"integer"==t.get("type")?"number":"text",n=e.get("ReadOnly"),l=(0,u.default)(f(f({},i.default.input,!0),i.default.disabled,n));return o.default.createElement(a.default,(0,a.getLabelContainerProps)(e,"Default"),o.default.createElement("input",{disabled:n,className:l,ref:"input",type:r,value:this.state.value,onChange:this.handleChange,onBlur:this.handleBlur}))}}])&&p(r.prototype,n),l&&p(r,l),Object.defineProperty(r,"prototype",{writable:!1}),t}(o.Component);t.default=(0,l.default)(b)},491292:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(360776),r(743924),r(205960),r(708896),r(606200),r(534440),r(670864),r(836887),r(78504),r(776512),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(9692),r(305092),r(443616),r(835164),r(297336),r(846428),r(880920),r(387912),r(633768),r(125048),r(660824),r(328640);var o=g(r(795520)),i=r(891052),a=f(r(790832)),l=f(r(174112)),u=g(r(982460)),d=f(r(411136)),c=r(331428),s=f(r(671252));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(p=function(e){return e?r:t})(e)}function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=p(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}return o.default=e,r&&r.set(e,o),o}function m(e,t,r){return(t=v(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v(n.key),n)}}function v(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:String(t)}function h(e,t,r){return t=I(t),function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return A(e)}(e,b()?Reflect.construct(t,r||[],I(e).constructor):t.apply(e,r))}function b(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(b=function(){return!!e})()}function I(e){return I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},I(e)}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},E(e,t)}var M=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=h(this,t,[e])).handleCorrectValue=function(){var e=r.props.prop,t=r.state.unit,n=e.getIn(["Editor","min"],void 0),o=r.state.value,i="";o&&o.length&&!isNaN(o[0])&&(i=Number(o[0])),!isNaN(n)&&!isNaN(i)&&i<=n&&r.updatePropValue("".concat(n).concat(t))},r.state=r.getDimensionValue(e.getPropertyValue()),r.defaultUnits=(0,i.List)(["","%","px"]),r.handleBlur=r.handleBlur.bind(A(r)),r.handleUnitChange=r.handleUnitChange.bind(A(r)),r.handleValueChange=r.handleValueChange.bind(A(r)),r.handleCorrectValue=r.handleCorrectValue.bind(A(r)),r.updatePropValue=e.updatePropValue,r}var r,n,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E(e,t)}(t,e),r=t,(n=[{key:"componentWillReceiveProps",value:function(e){var t=this.getDimensionValue(e.getPropertyValue()),r=this.state||{};t.value==r.value&&t.unit==r.unit||this.setState(t)}},{key:"getUnits",value:function(){return this.props.prop.getIn(["Editor","units"],this.defaultUnits)}},{key:"getDimensionValue",value:function(e){var t="",r="";return a.default.endsWith(e,"%")?(t=a.default.split(e,"%",1),r="%"):a.default.endsWith(e,"px")?(t=a.default.split(e,"px",1),r="px"):a.default.endsWith(e,"mm")&&(t=a.default.split(e,"mm",1),r="mm"),{value:t,unit:r}}},{key:"isDefautUnit",value:function(e){return""===e||e===(0,c.getLangMsg)("bosd.dimensionPropertyEditor.key0001")||"default"===e}},{key:"handleUnitChange",value:function(e){var t=this,r=this.refs.unit.value,n=this.refs.input.value;this.isDefautUnit(r)?(this.setState({value:"",unit:r}),this.props.updatePropValue(void 0)):0===n.length?this.setState({value:n,unit:r},(function(){t.refs.input.focus()})):(this.setState({value:n,unit:r}),this.props.updatePropValue(n+r))}},{key:"handleValueChange",value:function(e){var t=this,r=this.refs.input.value,n=this.refs.unit.value;if(this.isDefautUnit(n)){if(0===r.length)return this.setState({value:r,unit:n}),void this.updatePropValue(void 0);var o=this.getUnits();n=(n=!(n=o.find((function(e){return!t.isDefautUnit(e)&&"%"!=e})))&&o.includes("%")?"%":n)||""}this.setState({value:r,unit:n}),r.length>0&&this.updatePropValue(r+n)}},{key:"handleBlur",value:function(){var e=this.state||{};e.value||e.unit&&this.updatePropValue(void 0),this.handleCorrectValue()}},{key:"render",value:function(){var e=this.props.prop,t=this.state||{},r=t.value,n=t.unit,i=e.get("ReadOnly"),a=(0,s.default)(m({},l.default.disabled,i)),d=(0,s.default)(m(m({},l.default.triger,!0),l.default.disabled,i));return o.default.createElement(u.default,(0,u.getLabelContainerProps)(e,"Dimension"),o.default.createElement("div",{className:l.default.mixinscontrol},o.default.createElement("input",{ref:"input",type:"number",disabled:i,className:a,value:r,onChange:this.handleValueChange,onBlur:this.handleBlur}),o.default.createElement("select",{ref:"unit",disabled:i,className:d,onChange:this.handleUnitChange,value:n},this.getUnits().map((function(e,t){return o.default.createElement("option",{key:e,value:e},e||(0,c.getLangMsg)("bosd.dimensionPropertyEditor.key0001"))})))))}}])&&y(r.prototype,n),d&&y(r,d),Object.defineProperty(r,"prototype",{writable:!1}),t}(o.Component);t.default=(0,d.default)(M)},473964:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(360776),r(743924),r(205960),r(846428),r(708896),r(606200),r(534440),r(670864),r(836887),r(78504),r(776512),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(9692),r(622676),r(613468),r(233696),r(835164),r(297336),r(880920),r(387912),r(997308);var o=y(r(790832)),i=m(r(795520)),a=r(891052),l=m(r(273380)),u=m(r(982460)),d=y(r(411136)),c=r(65624),s=r(489912),f=y(r(174112)),p=r(331428);function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(g=function(e){return e?r:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=g(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}return o.default=e,r&&r.set(e,o),o}function y(e){return e&&e.__esModule?e:{default:e}}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h(n.key),n)}}function h(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:String(t)}function b(e,t,r){return t=A(t),function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return E(e)}(e,I()?Reflect.construct(t,r||[],A(e).constructor):t.apply(e,r))}function I(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(I=function(){return!!e})()}function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},A(e)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e,t){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},M(e,t)}var C=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=b(this,t,[e])).onChange=r.onChange.bind(E(r)),r}var r,n,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M(e,t)}(t,e),r=t,(n=[{key:"onChange",value:function(e){this.props.updatePropValue(e)}},{key:"render",value:function(){var e=this.props,t=e.field,r=e.prop,n=e.uiInfo,d=e.metaType,g=r.getIn(["Editor","types"],(0,a.List)()),m=r.getIn(["Editor","scope"],"sibling");d=r.getIn(["Editor","metaType"])||d;var y,v,h,b=n.getIn([d,c.ITEMS],(0,a.List)()),I=t.get(c.ID),A=b.getIn([0,c.ID]),E=(0,a.List)();switch(m){case"sibling":I=t.get(c.ID),d===c.ENTITYMETA?(y=s.uiModel.getEntityFieldInfo(n,I))||(I=s.uiModel.getParentEntityId(n,I),y=s.uiModel.getEntityFieldInfo(n,I)):y=s.uiModel.getFormFieldInfo(n,I),v=y.get(c.PARENTID,""),A=b.getIn([0,c.ID]),v=v||A,b=b.filter((function(e){var t=e.get(c.PARENTID);return(t=t||A)===v}));break;case"child":v=t.get(c.ID),A=b.getIn([0,c.ID]),b=b.filter((function(e){return(e.get(c.PARENTID)||A)===v}));break;case"ps":for(I=t.get(c.ID),A=b.getIn([0,c.ID]),h=s.uiModel.getFormFieldInfo(n,I),y=d===c.ENTITYMETA&&s.uiModel.getEntityFieldInfo(n,I)||h,v=y.get(c.PARENTID)||A,E=(0,a.List)();y;)E=E.concat(b.filter((function(e){var t=e.get(c.PARENTID);return(t=t||A)===v}))),v===A?y=null:(y=s.uiModel.getFieldInfo(n,v,d)||(0,a.Map)(),v=y.get(c.PARENTID)||A);b=E}var M=[];(b=b.filter((function(e){return g.contains(e.get(c._TYPE_))&&e.get(c.ID)!==t.get(c.ID)}))).forEach((function(e){return M.push({Id:e.get(c.ID),Name:e.get(c.NAME)})}));var C=r.getIn(["Editor","default"],""),P=this.props.getPropertyValue();-1===o.default.findIndex(M,(function(e){return e.Id===P}))&&(P="");var w=r.get("ReadOnly");return i.default.createElement(u.default,(0,u.getLabelContainerProps)(r,"Ecombo"),i.default.createElement(l.default,{className:w?f.default["select-disabled"]:"",disabled:w,allowClear:!w,style:{flexGrow:1},defaultValue:C,value:P,optionFilterProp:"children",optionLabelProp:"children",placeholder:(0,p.getLangMsg)("bosd.ecomboPropertyEditor.key0001"),dropdownMenuStyle:{maxHeight:200,overflow:"auto"},onChange:this.onChange},M.map((function(e,t){return i.default.createElement(l.Option,{key:t,value:e.Id},e.Name)}))))}}])&&v(r.prototype,n),d&&v(r,d),Object.defineProperty(r,"prototype",{writable:!1}),t}(i.Component);t.default=(0,d.default)(C)},490040:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(360776),r(505684),r(323784),r(205960),r(976896),r(846428),r(708896),r(606200),r(534440),r(670864),r(836887),r(633768),r(690512),r(776512),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(622676),r(305092),r(743924),r(835164),r(693917),r(297336),r(721300),r(880920),r(387912),r(764840),r(78504),r(977864);var o=h(r(790832)),i=v(r(795520)),a=r(891052),l=v(r(273380)),u=h(r(671252)),d=h(r(345612)),c=h(r(174112)),s=v(r(982460)),f=h(r(411136)),p=r(471160),g=r(331428),m=r(489912);function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(y=function(e){return e?r:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=y(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}return o.default=e,r&&r.set(e,o),o}function h(e){return e&&e.__esModule?e:{default:e}}function b(e,t,r){return(t=M(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function E(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,M(n.key),n)}}function M(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:String(t)}function C(e,t,r){return t=w(t),function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,P()?Reflect.construct(t,r||[],w(e).constructor):t.apply(e,r))}function P(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(P=function(){return!!e})()}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function O(e,t){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},O(e,t)}var T=function(e){function t(e){var r,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=C(this,t,[e])).getValue=function(e){var t;return n.editable?e.getPropertyValue()+"":null!==(t=e.getPropertyValue())&&void 0!==t?t:""},n.handleChange=function(e){n.setState({value:e}),n.editable||n.props.updatePropValue(e)},n.handleBlur=function(e){n.props.updatePropValue(e)},n.state={value:n.getValue(e)},n.editable=null===(r=n.props.prop.getIn(["Editor","editable"]))||void 0===r||r,n}var r,n,f;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t)}(t,e),r=t,(n=[{key:"UNSAFE_componentWillUpdate",value:function(e){var t=this.getValue(this.props),r=this.getValue(e);r!==t&&this.setState({value:r})}},{key:"render",value:function(){var e=this.props,t=e.prop,r=e.field,n=e.select_control_ids,f=e.uiInfo,y=t.getIn(["Editor","items"],(0,a.List)()).toJS(),v=t.getIn(["Editor","typeKey"]),h=this.editable?"name":t.getIn(["Editor","returnData"]);if((null==n?void 0:n.size)>1){var A=n.map((function(e){var t;return null===(t=(0,p.getUIFieldInfo)(f,e))||void 0===t?void 0:t.get("FieldType")}));if((A=new Set(A)).size>1){var E,M=I(A),C=M[0],P=M.slice(1),w=(null===(E=y.find((function(e){return e.key===C})))||void 0===E?void 0:E.items)||[],O=P.find((function(e){var t,r=(null===(t=y.find((function(t){return t.key===e})))||void 0===t?void 0:t.items)||[];return w.length!==r.length||!(0,a.is)((0,a.fromJS)(w),(0,a.fromJS)(r))}));if(O)return null}}var T,_=r.get("FieldType")||r.get("Type"),k=r.get("Id"),S=m.uiModel.getFieldInfo(f,k,"formmeta"),j=(null==S?void 0:S.get(v))||_;T=(T=y.filter((function(e){return e.key===j})))&&T[0]&&T[0].items||[];var N=t.get("ReadOnly"),F=(0,u.default)(b(b({},d.default["edit-Input"],!0),c.default["select-disabled"],N)),D=i.default.createElement(l.default,{className:F,disabled:N,style:{flexGrow:1},value:this.state.value,combobox:this.editable,showSearch:this.editable,filterOption:!1,animation:"slide-up",optionLabelProp:"children",choiceTransitionName:"rc-select-selection__choice-zoom",placeholder:(0,g.getLangMsg)("bosd.editcomboPropertyEditor.key0001"),dropdownMenuStyle:{maxHeight:200,overflow:"auto"},onChange:this.handleChange,onBlur:this.handleBlur},o.default.map(T,(function(e,t){return i.default.createElement(l.Option,{key:t,value:e[h]},e.name)})));return i.default.createElement(s.default,(0,s.getLabelContainerProps)(t,"Editcombo"),D)}}])&&E(r.prototype,n),f&&E(r,f),Object.defineProperty(r,"prototype",{writable:!1}),t}(i.Component);t.default=(0,f.default)(T)},421104:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(360776),r(241872),r(743924),r(205960),r(336368),r(708896),r(606200),r(534440),r(670864),r(76124),r(836887),r(78504),r(776512),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SingleBorderPanel=t.EditBox=void 0,r(9692),r(686456),r(835164),r(693917),r(976896),r(297336),r(846428),r(880920),r(387912),r(23544),r(571176),r(633768),r(690512),r(125048),r(218080),r(805720),r(513640),r(328640),r(694904),r(321164);var o=h(r(795520)),i=h(r(982460)),a=y(r(411136)),l=y(r(159472)),u=h(r(576352)),d=h(r(390716)),c=y(r(790832)),s=y(r(174112)),f=y(r(671252)),p=r(891052),g=r(331428),m=["title","bgc","mold","children","value"];function y(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(v=function(e){return e?r:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=v(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}return o.default=e,r&&r.set(e,o),o}function b(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function I(){return I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I.apply(this,arguments)}function A(e,t,r){return(t=P(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,P(n.key),n)}}function C(e,t,r){return t&&M(e.prototype,t),r&&M(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function P(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:String(t)}function w(e,t,r){return t=T(t),function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _(e)}(e,O()?Reflect.construct(t,r||[],T(e).constructor):t.apply(e,r))}function O(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(O=function(){return!!e})()}function T(e){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},T(e)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S(e,t)}function S(e,t){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},S(e,t)}var j=function(e){function t(e){var r;return E(this,t),(r=w(this,t,[e])).state={showBorder:!1,showSpecialEditBox:!1,selectDirection:""},r.handleClick=r.handleClick.bind(_(r)),r.onFocus=r.onFocus.bind(_(r)),r.onChange=r.onChange.bind(_(r)),r.clearStyle=r.clearStyle.bind(_(r)),r.handleColorChange=r.handleColorChange.bind(_(r)),r.handleStyleChange=r.handleStyleChange.bind(_(r)),r.getPropValue=r.getPropValue.bind(_(r)),r.handleChangeComplete=r.handleChangeComplete.bind(_(r)),r.getColor=r.getColor.bind(_(r)),r}return k(t,e),C(t,[{key:"getColor",value:function(e){var t="#ffffff",r=100;if(/^themeColor/.test(e)){var n=e.split("|");return{color:t=n[0],alpha:r=Number(n[1])||100}}if(e=c.default.trim(e).toLowerCase(),c.default.startsWith(e,"#"))t=e;else{var o,i,a,l,u=e.replace(/\s+/g,"").match(/rgba?\((\d{1,3}),(\d{1,3}),(\d{1,3})(,([.\d]+))?\)/);u&&(o=1==(o=parseInt(u[1]).toString(16)).length?"0"+o:o,i=1==(i=parseInt(u[2]).toString(16)).length?"0"+i:i,a=1==(a=parseInt(u[3]).toString(16)).length?"0"+a:a,l=parseFloat(u[5]),t="#"+o+i+a,r=isNaN(l)?100:parseInt(100*l))}return{color:t,alpha:r}}},{key:"getPropValue",value:function(e){var t=this.props.getPropertyValue();return t?t.get(e)||(0,p.Map)():new p.Map}},{key:"handleClick",value:function(e){this.setState({showSpecialEditBox:!this.state.showSpecialEditBox})}},{key:"onFocus",value:function(e,t){"Border"==e?this.setState({showBorder:!0,selectDirection:t}):this.setState({showBorder:!1})}},{key:"onChange",value:function(e,t,r){var n=this.props.getPropertyValue();"Border"===t&&(e=D(e,this.props.uiInfo,this.props.notifyMsg));var o=e?"".concat(e,"px"):"",i=(0,p.Map)().set(r,o);if(n)if("Border"==t)if(n.has(t)){var a=n.getIn([t,r]),l=this.borderString2Obj(a);l=l.set("Width",o);var u=this.borderObj2String(l);this.props.updatePropValue(n.update(t,(function(e){return e.set(r,u)})))}else{var d=new p.Map;d=d.set("Width",o);var c=this.borderObj2String(d);i=(0,p.Map)().set(r,c),this.props.updatePropValue(n.set(t,i))}else n.has(t)?this.props.updatePropValue(n.update(t,(function(e){return e.set(r,o)}))):this.props.updatePropValue(n.set(t,i));else if("Border"==t){var s=new p.Map;s=s.set("Width",o);var f=this.borderObj2String(s);i=(0,p.Map)().set(r,f),this.props.updatePropValue((0,p.Map)().set(t,i))}else this.props.updatePropValue((0,p.Map)().set(t,i))}},{key:"clearStyle",value:function(){this.props.updatePropValue(void 0)}},{key:"handleColorChange",value:function(e){var t=this.state.selectDirection,r=this.handleChangeComplete(e),n=this.props.getPropertyValue();n||(n=(0,p.Map)()),n.has("Border")||(n=n.set("Border",(0,p.Map)()));var o=n.getIn(["Border",t]),i=this.borderString2Obj(o);(i=i.set("Color",r)).get("Width")||(i=i.set("Width","1px"));var a=this.borderObj2String(i);this.props.updatePropValue(n.updateIn(["Border",t],(function(e){return a})))}},{key:"handleChangeComplete",value:function(e){var t=e.alpha;if("themeColor"===(e=e.color)&&100!=t)return e="themeColor|".concat(t),this.props.updatePropValue(e),e;if(100!=t){var r,n,o;e.match(/^#[0-9a-fA-F]{3}$/)?(r=parseInt("0x"+c.default.repeat(e.slice(1,2),2)),n=parseInt("0x"+c.default.repeat(e.slice(2,3),2)),o=parseInt("0x"+c.default.repeat(e.slice(3,4),2))):(r=parseInt("0x"+e.slice(1,3)),n=parseInt("0x"+e.slice(3,5)),o=parseInt("0x"+e.slice(5,7))),e="rgba(".concat(r,",").concat(n,",").concat(o,",").concat(t/100,")")}return e}},{key:"handleStyleChange",value:function(e){var t=this.state.selectDirection,r=this.props.getPropertyValue();r||(r=new p.Map),r.has("Border")||(r=r.set("Border",(0,p.Map)()));var n=r.getIn(["Border",t]),o=this.borderString2Obj(n);(o=o.set("Style",e)).get("Width")||(o=o.set("Width","1px"));var i=this.borderObj2String(o);this.props.updatePropValue(r.updateIn(["Border",t],(function(e){return i})))}},{key:"borderString2Obj",value:function(e){if(!e)return new p.Map;var t=c.default.split(e,"_"),r={};return r.Width=t[0],r.Style=t[1],r.Color=t[2],(0,p.Map)(r)}},{key:"borderObj2String",value:function(e){if(!e.get("Width"))return"";var t=["0px","solid","#000000"];return e.get("Style")&&(t[1]=e.get("Style")),e.get("Color")&&(t[2]=e.get("Color")),e.get("Width")&&(t[0]=e.get("Width")),t.join("_")}},{key:"render",value:function(){var e=this,t=this.props,r=(t.field,t.prop),n=(t.uiInfo,r.get("name")),a=r.get("alias",n),u=(0,f.default)(A(A({},s.default.borderpanel,!0),s.default.hidden,!this.state.showBorder)),c=this.getPropValue("Border").get(this.state.selectDirection),p=this.borderString2Obj(c),m=p.get("Color"),y=this.getColor(m),v=p.get("Style"),h=this.state.showSpecialEditBox;return o.default.createElement(i.default,I({},(0,i.getLabelContainerProps)(r,"MBP"),{name:a}),o.default.createElement("div",{className:s.default.singleBorderpanel},h?o.default.createElement(L,I({},this.props,{colorValue:y||"",onColorChange:this.handleColorChange,handleChangeComplete:this.handleChangeComplete,getPropValue:this.getPropValue,getPropertyValue:this.props.getPropertyValue,updatePropValue:this.props.updatePropValue,getColor:this.getColor})):o.default.createElement("div",null,o.default.createElement(x,{title:(0,g.getLangMsg)("bosd.mBPPropertyEditor.key0001"),mold:"Margin",bgc:s.default.marginbgc,onFocus:this.onFocus,value:this.getPropValue("Margin"),onChange:this.onChange},o.default.createElement(x,{title:(0,g.getLangMsg)("bosd.mBPPropertyEditor.key0002"),mold:"Border",bgc:s.default.borderbgc,onFocus:this.onFocus,value:this.getPropValue("Border"),onChange:this.onChange},o.default.createElement(x,{title:(0,g.getLangMsg)("bosd.mBPPropertyEditor.key0003"),mold:"Padding",bgc:s.default.paddingbgc,onFocus:this.onFocus,value:this.getPropValue("Padding"),onChange:this.onChange},o.default.createElement("div",{className:s.default.whbox},o.default.createElement("i",{className:"".concat(s.default.arrow," kdfont kdfont-shuaxin"),"aria-hidden":"true",onClick:this.clearStyle}))))),o.default.createElement("div",{className:u},o.default.createElement("div",{className:s.default.root},o.default.createElement("label",{className:"".concat(s.default.label," ").concat(s.default["label-width"])},(0,g.getLangMsg)("bosd.mBPPropertyEditor.key0004")),o.default.createElement("div",{className:"".concat(s.default.mixinscontrol," ").concat(s.default.shrink)},o.default.createElement("input",{type:"text",className:s.default.shrink,readOnly:!0,value:m||"",onChange:function(t){return e.handleColorChange(t)}}),o.default.createElement(l.default,{animation:"slide-up",placement:"bottomRight",color:y.color,alpha:y.alpha,onChange:function(t){return e.handleColorChange(t)}}))),o.default.createElement("div",{className:s.default.root},o.default.createElement("label",{className:"".concat(s.default.label," ").concat(s.default["label-width"])},(0,g.getLangMsg)("bosd.mBPPropertyEditor.key0005")),o.default.createElement(d.default,{style:{flexGrow:1},onChange:this.handleStyleChange,value:v},["solid","dotted","dashed"].map((function(e,t){return o.default.createElement(d.Option,{key:t,style:{display:"flex",alignItems:"center",height:"28px"},value:e},o.default.createElement("div",{style:{border:"".concat(e," 1px #000"),flexGrow:1}}))})))))),o.default.createElement("div",{className:s.default.editTap},o.default.createElement("div",{className:s.default.arrow,onClick:function(){return e.handleClick()}}))))}}]),t}(o.Component),N=function(e){if(!e)return new p.Map;var t=c.default.split(e,"_"),r={};return r.Width=t[0],r.Style=t[1],r.Color=t[2],(0,p.Map)(r)},F=function(e){var t=["1px","solid","#000000"];return e.get("Style")&&(t[1]=e.get("Style")),e.get("Color")&&(t[2]=e.get("Color")),e.get("Width")&&(t[0]=e.get("Width")),t.join("_")},D=function(e,t,r){if(e){var n=parseFloat(e);if(isNaN(n))return e;var o=u.getLimitedBorderWidth(t);if(o>0&&n>o)return r((0,g.getLangMsg)({key:"bosd.mBPPropertyEditor.key0006",variables:{borderLimitedWidth:o}})),o}return e},L=t.SingleBorderPanel=function(e){function t(e){var r;return E(this,t),(r=w(this,t,[e])).state={Margin:r.getPropFormatValue("Margin"),Border:r.getPropFormatValue("Border"),Padding:r.getPropFormatValue("Padding")},r.getPropFormatValue=r.getPropFormatValue.bind(_(r)),r.getFormatNum=r.getFormatNum.bind(_(r)),r.handleChange=r.handleChange.bind(_(r)),r}return k(t,e),C(t,[{key:"componentWillReceiveProps",value:function(e){this.props.field.get("Id")!=e.field.get("Id")&&this.setState({Margin:this.getPropFormatValue("Margin"),Border:this.getPropFormatValue("Border"),Padding:this.getPropFormatValue("Padding")})}},{key:"getPropFormatValue",value:function(e){var t=[],r=this.props.getPropValue(e);return t[0]=this.getFormatNum(r,e,"Top"),t[1]=this.getFormatNum(r,e,"Right"),t[2]=this.getFormatNum(r,e,"Bottom"),t[3]=this.getFormatNum(r,e,"Left"),t[0]===t[1]&&t[0]===t[2]&&t[0]===t[3]?"0"===t[0]?"":t[0]:t[0]===t[2]&&t[1]===t[3]?"".concat(t[0]," ").concat(t[1]):t[1]===t[3]?"".concat(t[0]," ").concat(t[1]," ").concat(t[2]):"".concat(t[0]," ").concat(t[1]," ").concat(t[2]," ").concat(t[3])}},{key:"getFormatNum",value:function(e,t,r){var n="0";if("Border"==t){var o=e.get(r);n=N(o).get("Width")||"0"}else n=e.get(r)||"0";return c.default.endsWith(n,"px")&&(n=c.default.replace(n,"px","")),n}},{key:"getBorderStyle",value:function(e,t){var r,n,o,i,a=e.length;1===a?r=n=o=i=e[0]:2===a?(r=o=e[0],n=i=e[1]):3===a?(r=e[0],n=i=e[1],o=e[2]):4===a&&(r=e[0],n=e[1],o=e[2],i=e[3]);var l=(0,p.Map)({Width:"".concat(r||"","px")}),u=(0,p.Map)({Width:"".concat(n||"","px")}),d=(0,p.Map)({Width:"".concat(o||"","px")}),c=(0,p.Map)({Width:"".concat(i||"","px")});return t&&t.get("Border")&&(l=N(t.getIn(["Border","Top"])).set("Width","".concat(r,"px")),u=N(t.getIn(["Border","Right"])).set("Width","".concat(n,"px")),d=N(t.getIn(["Border","Bottom"])).set("Width","".concat(o,"px")),c=N(t.getIn(["Border","Left"])).set("Width","".concat(i,"px"))),(0,p.fromJS)({Top:F(l),Right:F(u),Bottom:F(d),Left:F(c)})}},{key:"updateMoldStyle",value:function(e,t,r){var n=e;n?this.props.updatePropValue(n.update(t,(function(e){return r}))):(n=(0,p.Map)().set(t,r),this.props.updatePropValue(n))}},{key:"handleChange",value:function(e,t){var r=this;if(/^[\d\s]*$/.test(e)){var n=e.replace(/(^\s*)|(\s*$)/g,"").replace(/\s{2,}/g," ").split(" ").slice(0,4).map((function(n){return"Border"===t?D(e,r.props.uiInfo,r.props.notifyMsg):n})),o=4===n.length?n.join(" "):e;this.setState(A({},t,o));var i=this.props.getPropertyValue();if(1===n.length){var a=""===n[0];if("Border"===t){var l=a?(0,p.fromJS)({}):this.getBorderStyle(n,i);this.updateMoldStyle(i,t,l)}else{var u=a?(0,p.fromJS)({}):(0,p.fromJS)({Top:"".concat(n[0],"px"),Right:"".concat(n[0],"px"),Bottom:"".concat(n[0],"px"),Left:"".concat(n[0],"px")});this.updateMoldStyle(i,t,u)}}else if(2===n.length)if("Border"===t){var d=this.getBorderStyle(n,i);this.updateMoldStyle(i,t,d)}else{var c=(0,p.fromJS)({Top:"".concat(n[0],"px"),Right:"".concat(n[1],"px"),Bottom:"".concat(n[0],"px"),Left:"".concat(n[1],"px")});this.updateMoldStyle(i,t,c)}else if(3===n.length)if("Border"===t){var s=this.getBorderStyle(n,i);this.updateMoldStyle(i,t,s)}else{var f=(0,p.fromJS)({Top:"".concat(n[0],"px"),Right:"".concat(n[1],"px"),Bottom:"".concat(n[2],"px"),Left:"".concat(n[1],"px")});this.updateMoldStyle(i,t,f)}else if(4===n.length)if("Border"===t){var g=this.getBorderStyle(n,i);this.updateMoldStyle(i,t,g)}else{var m=(0,p.fromJS)({Top:"".concat(n[0],"px"),Right:"".concat(n[1],"px"),Bottom:"".concat(n[2],"px"),Left:"".concat(n[3],"px")});this.updateMoldStyle(i,t,m)}}}},{key:"getInitialColor",value:function(){var e=this.props.getPropertyValue();if(!e||!e.has("Border"))return"";var t=e.getIn(["Border","Top"]),r=e.getIn(["Border","Right"]),n=e.getIn(["Border","Bottom"]),o=e.getIn(["Border","Left"]);return t=t?t.split("_")[2]:"",r=r?r.split("_")[2]:"",n=n?n.split("_")[2]:"",o=o?o.split("_")[2]:"",t===r&&t===n&&t===o?t:""}},{key:"getDirBorderColor",value:function(e,t,r){var n=e.getIn(["Border",r]),o=N(n);return o=o.set("Color",t),F(o)}},{key:"handleColorInputChange",value:function(e){var t=e.target.value;this.onColorChange({color:t,alpha:100})}},{key:"onColorChange",value:function(e){var t=this.props.getPropertyValue(),r=this.props.handleChangeComplete(e);t||(t=(0,p.Map)()),t.has("Border")||(t=t.set("Border",(0,p.Map)()),this.setState({Border:1}));var n=this.getDirBorderColor(t,r,"Top"),o=this.getDirBorderColor(t,r,"Right"),i=this.getDirBorderColor(t,r,"Bottom"),a=this.getDirBorderColor(t,r,"Left");t=t.updateIn(["Border","Top"],(function(e){return n})).updateIn(["Border","Right"],(function(e){return o})).updateIn(["Border","Bottom"],(function(e){return i})).updateIn(["Border","Left"],(function(e){return a})),this.props.updatePropValue(t)}},{key:"render",value:function(){var e=this,t=this.props,r=(t.colorValue,t.onColorChange,(0,t.getColor)(this.getInitialColor()));return o.default.createElement("div",{className:s.default.singleBorderpanel},o.default.createElement("div",{className:s.default.root},o.default.createElement("label",{className:"".concat(s.default.label," ").concat(s.default["label-width"])},(0,g.getLangMsg)("bosd.mBPPropertyEditor.key0001")),o.default.createElement("div",{className:"".concat(s.default.mixinscontrol," ").concat(s.default.shrink)},o.default.createElement("input",{type:"text",className:s.default.shrink,value:this.state.Margin,onChange:function(t){e.handleChange(t.target.value,"Margin")}}))),o.default.createElement("div",{className:s.default.root},o.default.createElement("label",{className:"".concat(s.default.label," ").concat(s.default["label-width"])},(0,g.getLangMsg)("bosd.mBPPropertyEditor.key0002")),o.default.createElement("div",{className:"".concat(s.default.mixinscontrol," ").concat(s.default.shrink)},o.default.createElement("input",{type:"text",className:s.default.shrink,value:this.state.Border,onChange:function(t){return e.handleChange(t.target.value,"Border")}}))),o.default.createElement("div",{className:s.default.root},o.default.createElement("label",{className:"".concat(s.default.label," ").concat(s.default["label-width"])},(0,g.getLangMsg)("bosd.mBPPropertyEditor.key0004")),o.default.createElement("div",{className:"".concat(s.default.mixinscontrol," ").concat(s.default.shrink)},o.default.createElement("input",{type:"text",className:s.default.shrink,value:this.getInitialColor(),onChange:function(t){return e.handleColorInputChange(t)}}),o.default.createElement(l.default,{animation:"slide-up",placement:"bottomRight",color:r.color,alpha:r.alpha,onChange:function(t){return e.onColorChange(t)}}))),o.default.createElement("div",{className:s.default.root},o.default.createElement("label",{className:"".concat(s.default.label," ").concat(s.default["label-width"])},(0,g.getLangMsg)("bosd.mBPPropertyEditor.key0003")),o.default.createElement("div",{className:"".concat(s.default.mixinscontrol," ").concat(s.default.shrink)},o.default.createElement("input",{type:"text",className:s.default.shrink,value:this.state.Padding,onChange:function(t){return e.handleChange(t.target.value,"Padding")}}))))}}]),t}(o.default.Component),x=t.EditBox=function(e){function t(){return E(this,t),w(this,t,arguments)}return k(t,e),C(t,[{key:"borderString2Obj",value:function(e){if(!e)return new p.Map;var t=c.default.split(e,"_"),r={};return r.Width=t[0],r.Style=t[1],r.Color=t[2],(0,p.Map)(r)}},{key:"onChange",value:function(e,t,r){this.props.onChange&&this.props.onChange(e,t,r)}},{key:"onFocus",value:function(e,t){this.props.onFocus&&this.props.onFocus(e,t)}},{key:"getValue",value:function(e,t){var r=this.props.mold,n="";if(e){if("Border"==r){var o=e.get(t);n=this.borderString2Obj(o).get("Width")||""}else n=e.get(t)||"";c.default.endsWith(n,"px")&&(n=c.default.replace(n,"px",""))}return n}},{key:"render",value:function(){var e=this,t=this.props,r=t.title,n=t.bgc,i=t.mold,a=t.children,l=t.value,u=(b(t,m),(0,f.default)(A(A({},s.default.marginbox,!0),n,n)));return o.default.createElement("div",{className:u},o.default.createElement("div",{className:s.default.top},o.default.createElement("span",{className:s.default.title},r),o.default.createElement("div",{className:s.default.value},o.default.createElement("input",{className:s.default.ip,onChange:function(t){return e.onChange(t.target.value,i,"Top")},onFocus:function(t){return e.onFocus(i,"Top")},value:this.getValue(l,"Top")}))),o.default.createElement("div",{className:s.default.center},o.default.createElement("div",{className:s.default.value},o.default.createElement("input",{className:s.default.ip,onChange:function(t){return e.onChange(t.target.value,i,"Left")},onFocus:function(t){return e.onFocus(i,"Left")},value:this.getValue(l,"Left")})),o.default.createElement("div",{className:s.default.content},a),o.default.createElement("div",{className:s.default.value},o.default.createElement("input",{className:s.default.ip,onChange:function(t){return e.onChange(t.target.value,i,"Right")},onFocus:function(t){return e.onFocus(i,"Right")},value:this.getValue(l,"Right")}))),o.default.createElement("div",{className:s.default.bottom},o.default.createElement("div",{className:s.default.value},o.default.createElement("input",{className:s.default.ip,onChange:function(t){return e.onChange(t.target.value,i,"Bottom")},onFocus:function(t){return e.onFocus(i,"Bottom")},value:this.getValue(l,"Bottom")}))))}}]),t}(o.Component);t.default=(0,a.default)(j)},423440:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(360776),r(743924),r(205960),r(846428),r(708896),r(606200),r(534440),r(670864),r(836887),r(78504),r(776512),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(622676),r(305092),r(443616),r(686456),r(835164),r(297336),r(721300),r(880920),r(387912),r(633768),r(660824),r(328640);var o=m(r(790832)),i=r(891052),a=g(r(795520)),l=g(r(273380)),u=m(r(174112)),d=g(r(982460)),c=m(r(411136)),s=r(331428),f=r(65624);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(p=function(e){return e?r:t})(e)}function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=p(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}return o.default=e,r&&r.set(e,o),o}function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v(n.key),n)}}function v(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:String(t)}function h(e,t,r){return t=I(t),function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return A(e)}(e,b()?Reflect.construct(t,r||[],I(e).constructor):t.apply(e,r))}function b(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(b=function(){return!!e})()}function I(e){return I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},I(e)}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},E(e,t)}var M=["1403","1404"],C=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=h(this,t,[e])).isSpecialLock=function(){return r.props.prop.get("LockType")===f.LOCK_TYPE.SPECIALLOCK},r.onChange=r.onChange.bind(A(r)),r}var r,n,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E(e,t)}(t,e),r=t,(n=[{key:"onChange",value:function(e){this.props.updatePropValue(e.join(","))}},{key:"render",value:function(){var e=this,t=this.props,r=t.prop,n=t.uiInfo,c=t.select_control_id,p=t.field,g=r.get(f.ORIGIN_PROPS_VALUE,""),m=r.getIn(["Editor","items"],(0,i.List)()).toJS(),y=this.props.getPropertyValue();y=(y=""===y?[]:o.default.split(y,",")).filter((function(e){return null!=e&&""!==e}));var v=r.get("ReadOnly");return"date"===(n.getIn(["formmeta","Items"],(0,i.List)()).find((function(e){return e.get("Id")===c}))||(0,i.Map)()).get("Type")&&"CommonDateFilterColumnAp"===p.get("Type")&&(y=y.filter((function(e){return!M.includes(e)})),m=m.filter((function(e){return!M.includes(e.id)}))),a.default.createElement(d.default,(0,d.getLabelContainerProps)(r,"Mcombo"),a.default.createElement(l.default,{className:v?u.default["select-disabled"]:"",disabled:v,allowClear:!v,style:{flexGrow:1},value:y,multiple:!0,optionFilterProp:"children",optionLabelProp:"children",placeholder:(0,s.getLangMsg)("bosd.mcomboPropertyEditor.key0001"),dropdownMenuStyle:{maxHeight:200,overflow:"auto"},onChange:this.onChange},o.default.map(m,(function(t,r){var n,o=!v&&e.isSpecialLock()&&(null==g?void 0:g.includes(t.id))&&(null===(n=y)||void 0===n?void 0:n.includes(t.id));return a.default.createElement(l.Option,{key:r,value:t.id,disabled:o},t.name)}))))}}])&&y(r.prototype,n),c&&y(r,c),Object.defineProperty(r,"prototype",{writable:!1}),t}(a.Component);t.default=(0,c.default)(C)},991064:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(360776),r(743924),r(205960),r(708896),r(606200),r(534440),r(670864),r(387912),r(836887),r(78504),r(776512),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(443616),r(297336),r(846428),r(903656),r(880920),r(23544),r(571176);var o=f(r(795520)),i=r(891052),a=c(r(174112)),l=f(r(982460)),u=c(r(411136)),d=c(r(671252));function c(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}return o.default=e,r&&r.set(e,o),o}function p(e,t,r){return(t=m(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m(n.key),n)}}function m(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:String(t)}function y(e,t,r){return t=h(t),function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}(e,v()?Reflect.construct(t,r||[],h(e).constructor):t.apply(e,r))}function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(v=function(){return!!e})()}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e,t){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},I(e,t)}var A=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=y(this,t,[e])).preventBubble=function(e){return e.stopPropagation()},r.state={value:r.props.getPropertyValue()},r.onChange=r.onChange.bind(b(r)),r.onBlur=r.onBlur.bind(b(r)),r}var r,n,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I(e,t)}(t,e),r=t,(n=[{key:"componentDidMount",value:function(){this.refs.input&&this.refs.input.addEventListener("mousewheel",this.preventBubble,!1)}},{key:"componentWillUnmount",value:function(){this.refs.input&&this.refs.input.removeEventListener("mousewheel",this.preventBubble,!1)}},{key:"componentWillReceiveProps",value:function(e){var t=e.getPropertyValue();t!==this.props.getPropertyValue()&&void 0===t?this.setState({value:""}):t!==this.state.value&&this.setState({value:t})}},{key:"onChange",value:function(e){var t=this.props.prop.get("Editor",(0,i.Map)()).get("type"),r=this.refs.input.valueAsNumber;isNaN(r)?r="":"integer"===t?r=parseInt(r):"decimal"===t&&(r=parseFloat(r)),this.setState({value:r})}},{key:"onBlur",value:function(e){var t=this.state.value,r=this.props.prop,n=r.get("Editor",(0,i.Map)()),o=n.get("min"),a=n.get("max");if(isNaN(t)&&(t=""),(t=+t)||0===t)if((o||0===o)&&t<o){var l=r.get("name");t=""===this.state.value&&["FontSize","FieldFontSize"].includes(l)?n.get("default"):o}else(a||0===a)&&t>a&&(t=a);else t=void 0;this.setState({value:void 0===t?"":t}),this.props.updatePropValue(t)}},{key:"render",value:function(){var e=this.props.prop,t=e.get("Editor",(0,i.Map)()),r=t.get("type"),n=t.get("min"),u=t.get("max"),c=this.state.value;"integer"===r?c=parseInt(c):"decimal"===r&&(c=parseFloat(c)),!Number.isNaN(c)&&!Number.isNaN(u)&&c>u&&(c=u);var s=e.get("ReadOnly"),f=(0,d.default)(p(p({},a.default.input,!0),a.default.disabled,s));return o.default.createElement(l.default,(0,l.getLabelContainerProps)(e,"Number"),o.default.createElement("input",{className:f,disabled:s,ref:"input",type:"number",max:u,min:n,value:c,onChange:this.onChange,onBlur:this.onBlur}))}}])&&g(r.prototype,n),u&&g(r,u),Object.defineProperty(r,"prototype",{writable:!1}),t}(o.Component);t.default=(0,u.default)(A)},121528:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(360776),r(505684),r(743924),r(693917),r(205960),r(976896),r(846428),r(606200),r(534440),r(387912),r(633768),r(690512),r(78504),r(776512),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(613468),r(323784),r(835164),r(721300);var o=g(r(790832)),i=r(891052),a=p(r(795520)),l=p(r(982460)),u=g(r(411136)),d=g(r(700584)),c=g(r(671252)),s=r(331428);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}return o.default=e,r&&r.set(e,o),o}function g(e){return e&&e.__esModule?e:{default:e}}function m(e,t,r){var o;return o=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==n(o)?o:String(o))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],u=!0,d=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){d=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(d)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}t.default=(0,u.default)((function(e){var t=e.prop;return a.default.createElement(l.default,(0,l.getLabelContainerProps)(t,"Position"),a.default.createElement(h,e))}));var h=function(e){var t=e.prop,r=e.value,n=t.getIn(["Editor","items"],(0,i.List)()).toJS(),l=y((0,a.useState)(0),2),u=l[0],f=l[1];(0,a.useEffect)((function(){f(n.findIndex((function(e,t,n){return e.id===r}))||0)}),[r]);return a.default.createElement("div",{className:d.default.PositionSelectBox},o.default.map(n,(function(t,r){var n=(0,c.default)(m({},d.default.text,!0));return r===u&&(n=(0,c.default)(m(m({},n,!0),d.default["text-selected"],!0))),a.default.createElement("div",{title:(0,s.getLangMsg)({key:"bosd.positionPropertyEditor.key0001",variables:{position:t.name}}),onClick:function(){return function(t){return e.updatePropValue(t)}(t.id)},className:n,key:r,value:t.id+""},t.name)})))}},610352:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(360776),r(743924),r(205960),r(708896),r(606200),r(534440),r(670864),r(880920),r(836887),r(78504),r(776512),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(9692),r(305092),r(443616),r(686456),r(835164),r(297336),r(846428),r(387912),r(23544),r(633768),r(660824);var o=f(r(795520)),i=r(891052),a=(c(r(790832)),c(r(174112))),l=f(r(982460)),u=c(r(411136)),d=r(331428);function c(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}return o.default=e,r&&r.set(e,o),o}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g(n.key),n)}}function g(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:String(t)}function m(e,t,r){return t=v(t),function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}(e,y()?Reflect.construct(t,r||[],v(e).constructor):t.apply(e,r))}function y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(y=function(){return!!e})()}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}function I(e){return e?e.split(" ").map(parseFloat).join(";"):""}var A=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=m(this,t,[e])).handleCorrectValue=function(){var e=r.props.prop,t=r.state.unit,n=e.getIn(["Editor","min"],void 0),o=r.state.value,i="";o&&o.length&&!isNaN(o[0])&&(i=Number(o[0])),!isNaN(n)&&!isNaN(i)&&i<=n&&r.updatePropValue("".concat(n).concat(t))},r.state=r.getDimensionValue(e.getPropertyValue()),r.defaultUnits=(0,i.List)(["","%","px"]),r.handleBlur=r.handleBlur.bind(h(r)),r.handleUnitChange=r.handleUnitChange.bind(h(r)),r.handleValueChange=r.handleValueChange.bind(h(r)),r.handleCorrectValue=r.handleCorrectValue.bind(h(r)),r.updatePropValue=e.updatePropValue,r}var r,n,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(t,e),r=t,(n=[{key:"componentWillReceiveProps",value:function(e){var t=this.getDimensionValue(e.getPropertyValue()),r=this.state||{};t.value==r.value&&t.unit==r.unit||this.setState(t)}},{key:"getUnits",value:function(){return this.props.prop.getIn(["Editor","units"],this.defaultUnits)}},{key:"getDimensionValue",value:function(e){var t="",r="";return null!=e&&e.includes("%")?(t=I(e),r="%"):null!=e&&e.includes("px")?(t=I(e),r="px"):null!=e&&e.includes("mm")&&(t=I(e),r="mm"),{value:t,unit:r}}},{key:"isDefautUnit",value:function(e){return""===e||e===(0,d.getLangMsg)("bosd.radiusPropertyEditor.key0001")||"default"===e}},{key:"handleUnitChange",value:function(e){var t=this,r=this.refs.unit.value,n=this.refs.input.value;if(this.isDefautUnit(r))this.setState({value:"",unit:r}),this.props.updatePropValue(void 0);else if(0===n.length)this.setState({value:n,unit:r},(function(){t.refs.input.focus()}));else if(this.setState({value:n,unit:r}),/^(\d+;){1,3}\d+$/.test(n)){var o=n.split(";").map((function(e){return"".concat(e).concat(r)})).join(" ");this.updatePropValue(o)}else/^\d+$/.test(n)&&this.updatePropValue("".concat(n).concat(r))}},{key:"handleValueChange",value:function(e){var t=this,r=this.refs.input.value,n=this.refs.unit.value;if(this.isDefautUnit(n)){if(0===r.length)return this.setState({value:r,unit:n}),void this.updatePropValue(void 0);var o=this.getUnits();n=(n=!(n=o.find((function(e){return!t.isDefautUnit(e)&&"%"!=e})))&&o.includes("%")?"%":n)||""}if(this.setState({value:r,unit:n}),/^(\d+;){1,3}\d+$/.test(r)){var i=r.split(";").map((function(e){return"".concat(e).concat(n)})).join(" ");this.updatePropValue(i)}else/^\d+$/.test(r)&&this.updatePropValue("".concat(r).concat(n))}},{key:"handleBlur",value:function(){var e=this.state||{};e.value||e.unit&&this.updatePropValue(void 0),this.handleCorrectValue()}},{key:"render",value:function(){var e=this.props,t=(e.field,e.prop),r=(e.uiInfo,t.get("name")),n=(t.get("alias",r),this.state||{}),i=n.value,u=n.unit;return o.default.createElement(l.default,(0,l.getLabelContainerProps)(t,"Radius"),o.default.createElement("div",{className:a.default.mixinscontrol},o.default.createElement("input",{ref:"input",type:"text",value:i,onChange:this.handleValueChange,onBlur:this.handleBlur}),o.default.createElement("select",{className:a.default.triger,ref:"unit",onChange:this.handleUnitChange,value:u},this.getUnits().map((function(e,t){return o.default.createElement("option",{key:e,value:e},e||(0,d.getLangMsg)("bosd.radiusPropertyEditor.key0001"))})))))}}])&&p(r.prototype,n),u&&p(r,u),Object.defineProperty(r,"prototype",{writable:!1}),t}(o.Component);t.default=(0,u.default)(A)},121464:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(360776),r(743924),r(205960),r(846428),r(708896),r(606200),r(534440),r(670864),r(387912),r(836887),r(78504),r(776512),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(297336),r(880920);var o=c(r(795520)),i=u(r(174112)),a=c(r(982460)),l=u(r(411136));function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(d=function(e){return e?r:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=d(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}return o.default=e,r&&r.set(e,o),o}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f(n.key),n)}}function f(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:String(t)}function p(e,t,r){return t=m(t),function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,g()?Reflect.construct(t,r||[],m(e).constructor):t.apply(e,r))}function g(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(g=function(){return!!e})()}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}var v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,t,arguments)}var r,n,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){var e=this.props,t=(e.field,e.prop),r=(e.uiInfo,t.get("name")),n=(t.get("alias",r),this.props.getPropertyValue());return o.default.createElement(a.default,(0,a.getLabelContainerProps)(t,"ReadOnly"),o.default.createElement("span",{className:i.default.readonly,title:n},n))}}])&&s(r.prototype,n),l&&s(r,l),Object.defineProperty(r,"prototype",{writable:!1}),t}(o.Component);t.default=(0,l.default)(v)},430616:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(360776),r(505684),r(743924),r(693917),r(205960),r(976896),r(297336),r(721300),r(846428),r(336368),r(606200),r(534440),r(387912),r(633768),r(690512),r(78504),r(776512),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.RefEditBtnPropertyEditor=A,t.default=void 0,r(443616),r(323784),r(76124),r(660824);var o=y(r(795520)),i=g(r(174112)),a=y(r(982460)),l=g(r(411136)),u=g(r(671252)),d=r(218652),c=r(199860),s=r(471160),f=g(r(619092)),p=r(331428);function g(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(m=function(e){return e?r:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=m(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}return o.default=e,r&&r.set(e,o),o}function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v.apply(this,arguments)}function h(e,t,r){var o;return o=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==n(o)?o:String(o))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],u=!0,d=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){d=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(d)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function A(e){var t,r=e.prop,n=e.field,l=e.uiInfo,g=e.updatePropValue,m=e.getPropertyValue,y=e.updateOtherPropValue,I=e.otherTypeClick,A=r.getIn(["Editor","refId"]),E=r.getIn(["Editor","length"]),M="integer"===r.getIn(["Editor","type"])?"number":"text",C=r.get("ReadOnly"),P=b((0,o.useState)((0,p.getLangMsg)("bosd.refEditBtnPropertyEditor.key0001")),2),w=P[0],O=P[1],T=b((0,o.useState)(),2),_=T[0],k=T[1],S=b((0,o.useState)(!1),2),j=S[0],N=S[1],F=m(),D=b((0,o.useState)(F||""),2),L=D[0],x=D[1],B=(0,o.useRef)((null===(t=(0,d.getRootConfig)())||void 0===t?void 0:t.kdesignerRefType)||"1");(0,o.useEffect)((function(){var e=r.getIn(["Editor","apply"]),t=e.get("allowinheritref",!0),o=e.get("modeltype"),i=e.get("applyBillLayout",!1),a=(0,s.getFormFieldInfo)(l,n.get("Id")),u=n.get("FieldType"),d=a.get("Inherit")||!1,c=l.getIn(["formmeta","ModelType"]),f=l.getIn(["entityreadonly"]);if(t||!d){var p=!e||e.get("field").includes(u),g=!("3"===B.current&&!_),m=null==o?void 0:o.includes(c);N(p&&g&&m&&(!f||i))}else N(!1)}),[r,n,_]),(0,o.useEffect)((function(){var e,t,r=(0,s.getEntityFieldInfo)(l,n.get("Id")),o=null==r?void 0:r.get(A);o&&"string"==typeof o&&(o=JSON.parse(o)),O(o?(0,p.getLangMsg)({key:"bosd.refEditBtnPropertyEditor.key0002",variables:{name:null===(e=o)||void 0===e?void 0:e.Name,key:null===(t=o)||void 0===t?void 0:t.Key}}):(0,p.getLangMsg)("bosd.refEditBtnPropertyEditor.key0001")),k(o)}),[l,n]),(0,o.useEffect)((function(){x(F)}),[F]);var R=(0,o.useCallback)((function(e){e&&e.stopPropagation();var t=(0,s.getEntityFieldInfo)(l,n.get("Id"));I&&I({otherParams:h({type:"del"},A,null==t?void 0:t.get(A)),metaType:"entitymeta"}),A&&y(A,"")}),[y,I,l,n]),V=(0,o.useCallback)((function(){var e=(0,u.default)(h(h(h({},f.default.icon,!0),"kdfont kdfont-yiyinyong",_),"kdfont kdfont-weiyinyong",!_));return o.default.createElement(c.Tooltip,{placement:"top",tip:w},o.default.createElement("i",{className:e}))}),[w,_]),U=(0,u.default)(h(h({},i.default.input,!0),i.default.disabled,C&&!(j&&_))),W=(0,u.default)(h(h({},i.default.btn,!0),i.default.disabled,C&&!_)),K=(0,u.default)(i.default.mixinscontrol,h({},f.default.root,!0));return o.default.createElement(a.default,v({},(0,a.getLabelContainerProps)(r,"Default"),{titleSlot:j&&V}),o.default.createElement("div",{className:K},o.default.createElement("input",{readOnly:Boolean(j&&(_||"2"===B.current)),disabled:C&&!(j&&_),className:U,type:M,value:L,onChange:function(e){x(e.target.value)},onBlur:function(e){g&&g(e.target.value)},title:E&&(0,p.getLangMsg)({key:"bosd.refEditBtnPropertyEditor.key0003",variables:{maxlength:E}}),maxLength:E}),j&&_&&o.default.createElement("span",{className:f.default.clear,onClick:R},"×"),j&&o.default.createElement("span",{style:{cursor:C&&!_?"not-allowed":"pointer"},className:W,onClick:function(){C&&!_||I&&I({metaType:"entitymeta"})}},"...")))}t.default=(0,l.default)(A)},138208:function(e,t,r){"use strict";r(182320),r(909112),r(697060),r(360776),r(743924),r(205960),r(846428),r(708896),r(606200),r(534440),r(670864),r(836887),r(78504),r(776512),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(622676),r(233696),r(443616),r(241872),r(323784),r(686456),r(835164),r(297336),r(880920),r(387912),r(660824),r(997308);var n=g(r(790832)),o=p(r(795520)),i=r(891052),a=p(r(273380)),l=g(r(174112)),u=p(r(982460)),d=g(r(411136)),c=r(489912),s=r(331428);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=m(e)&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}function g(e){return e&&e.__esModule?e:{default:e}}function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v(n.key),n)}}function v(e){var t=function(e,t){if("object"!=m(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==m(t)?t:String(t)}function h(e,t,r){return t=I(t),function(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return A(e)}(e,b()?Reflect.construct(t,r||[],I(e).constructor):t.apply(e,r))}function b(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(b=function(){return!!e})()}function I(e){return I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},I(e)}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},E(e,t)}var M=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=h(this,t,[e])).onChange=r.onChange.bind(A(r)),r}var r,d,f;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E(e,t)}(t,e),r=t,(d=[{key:"componentWillUpdate",value:function(e,t){var r=this.getItems(e),o=this.props.getPropertyValue(),i=!1;r.forEach((function(e){n.default.includes(o,e.Id)&&(i=!0)})),!i&&o&&this.onChange(void 0)}},{key:"onChange",value:function(e){Array.isArray(e)&&(e=e.join(",")),this.props.updatePropValue(e)}},{key:"getItems",value:function(e){for(var t,r,n=e.field,o=e.prop,a=e.uiInfo,l=e.metaType,u=e.uiConfig,d=o.get("Editor",(0,i.Map)()).get("ref"),s=n.get("Id"),f=l;d;){switch(r=d.get("name"),d.get("type")){case"entitymeta":f="entitymeta";break;case"formmeta":f="formmeta";break;case"entityrootitem":s=c.uiModel.getEntityRootId(a),f="entitymeta";break;case"formrootitem":s=c.uiModel.getRootId(a),f="formmeta";break;case"entityparentitem":var p=c.uiModel.getEntityFieldInfo(a,s);s=p.get("ParentId")||c.uiModel.getEntityRootId(a);break;case"formparentitem":s=(p=c.uiModel.getFormFieldInfo(a,s)).get("ParentId")||c.uiModel.getRootId(a)}t=this.props.getPropertyValue(a,s,r,f);var g=d.get("ref");if(!g)break;s=t,d=g}var y=t;if("string"==typeof t&&""!==t&&(y=y.split(",")).length>0){var v=d.getIn(["displayItem","value"]),h=c.metadataModel.getConfigProp(u,n.get("Type"),r).getIn(["Editor","items"],(0,i.List)());y=h.filter((function(e){return y.indexOf(e.get(v))>=0}))}var b=[];if(y){var I=d.getIn(["displayItem","caption"]),A=d.getIn(["displayItem","value"]);if(y=Array.isArray(y)?(0,i.fromJS)(y):y,i.List.isList(y))y.forEach((function(e){var t=e.get(I),r=e.get(A);null!=t&&""!=t||(t=r),b.push({Id:r,Name:t})}));else if("object"===m(y)){var E=y.get(I),M=y.get(A);b.push({Id:M,Name:E})}}return b}},{key:"render",value:function(){var e=this.props,t=e.prop,r=e.multiple,n=void 0!==r&&r,i=this.props.getPropertyValue(),d=t.getIn(["Editor","default"],""),c=this.getItems(this.props);n&&(d=""===d?[]:d.split(","),i=""===(i=i||"")?[]:i.split(",")),c=c.filter((function(e){return""!==e.Id}));var f=t.get("ReadOnly");return o.default.createElement(u.default,(0,u.getLabelContainerProps)(t,"Refcombo"),o.default.createElement(a.default,{className:f?l.default["select-disabled"]:"",disabled:f,allowClear:!f,multiple:n,style:{flexGrow:1},defaultValue:d,value:i,optionFilterProp:"children",optionLabelProp:"children",placeholder:(0,s.getLangMsg)("bosd.refcomboPropertyEditor.key0001"),dropdownMenuStyle:{maxHeight:200,overflow:"auto"},onChange:this.onChange},c.map((function(e,t){return o.default.createElement(a.Option,{key:t,value:e.Id},e.Name)}))))}}])&&y(r.prototype,d),f&&y(r,f),Object.defineProperty(r,"prototype",{writable:!1}),t}(o.Component);t.default=(0,d.default)(M)},377288:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(743924),r(606200),r(534440),r(387912),r(78504),r(776512),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(297336),r(336368);var o,i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=i?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(o,a,u):o[a]=e[a]}return o.default=e,r&&r.set(e,o),o}(r(795520)),a=(o=r(138208))&&o.__esModule?o:{default:o};function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u.apply(this,arguments)}t.default=function(e){return i.default.createElement(a.default,u({},e,{multiple:!0}))}},839408:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(360776),r(743924),r(205960),r(846428),r(336368),r(708896),r(606200),r(534440),r(670864),r(836887),r(78504),r(776512),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(613468),r(241872),r(835164),r(704180),r(297336),r(880920),r(387912),r(763600),r(633768),r(690512),r(513640),r(321164);var o=h(r(795520)),i=r(891052),a=y(r(790832)),l=r(65624),u=r(438728),d=y(r(174112)),c=h(r(982460)),s=y(r(411136)),f=r(974184),p=r(489912),g=y(r(671252)),m=r(331428);function y(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(v=function(e){return e?r:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=v(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}return o.default=e,r&&r.set(e,o),o}function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b.apply(this,arguments)}function I(e,t,r){return(t=E(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,E(n.key),n)}}function E(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:String(t)}function M(e,t,r){return t=P(t),function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}(e,C()?Reflect.construct(t,r||[],P(e).constructor):t.apply(e,r))}function C(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(C=function(){return!!e})()}function P(e){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},P(e)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,t){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},O(e,t)}var T=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=M(this,t,[e])).state={value:e.value},r.requiredProps=[l.KEY],r.uniqueProps=[l.KEY],r.validateProps=["TableName","PkFieldName","FieldName","DataScope"],r.lowerCaseProps=[l.KEY,"TableName","PkFieldName","FieldName"],r.onKeyDown=r.onKeyDown.bind(w(r)),r.onBlur=r.onBlur.bind(w(r)),r.onChange=r.onChange.bind(w(r)),r.isValidSuccess=r.isValidSuccess.bind(w(r)),r.updatePropValue=r.updatePropValue.bind(w(r)),r.delayUpdateValue=a.default.debounce(r.updatePropValue,300),r}var r,n,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t)}(t,e),r=t,(n=[{key:"componentWillReceiveProps",value:function(e){var t=this.props.value,r=e.value;t!==r&&this.setState({value:r})}},{key:"updatePropValue",value:function(e){}},{key:"isValidSuccess",value:function(e){var t=this,r=this.props,n=r.prop,o=r.value,i=r.field,a=r.uiInfo,u=n.get("Validator",[]),d={isSuccess:!0,errorMessage:""};return!u||u.size<=0?d:(u.map((function(t){var r=t.get("type"),n=t.get("format");"regex"===r&&n&&n.size>0&&(d.isSuccess=!n.some((function(t){var r=t.get(0),n=t.get(1);d.errorMessage=n;var o=r&&new RegExp(r);return o&&!o.test(e)})))})),d.isSuccess||this.setState({value:o},(function(){var e=p.uiModel.getFormFieldInfo(a,i.get(l.ID)).get(l.NAME),r=n.get("alias")||n.get("name");t.context.notifyMsg((0,m.getLangMsg)({key:"bosd.textPropertyEditor.key0001",variables:{filedName:e,propName:r,errorMessage:d.errorMessage}}),"warn")})),d.isSuccess)}},{key:"onChange",value:function(){var e=this.props.prop.get("name"),t=this.refs.input.value||"";a.default.indexOf(this.lowerCaseProps,e)>=0&&(t=(t||"").toLowerCase()),e===l.KEY&&(t=t.replace(/\./g,"")),this.setState({value:t}),-1===a.default.indexOf(this.requiredProps,e)&&-1===a.default.indexOf(this.uniqueProps,e)&&-1===a.default.indexOf(this.validateProps,e)&&this.delayUpdateValue(t)}},{key:"uniqueValidate",value:function(e){var t=this.props,r=t.uiInfo,n=t.field,o=t.prop.get("name"),a=n.get(l.ID),u=["formmeta",l.ITEMS];return-1==r.getIn(u,(0,i.List)()).findIndex((function(t){return t.get(l.ID)!=a&&(t.get(o)==e||t.get("ListFieldId")===e)}))}},{key:"onKeyDown",value:function(e){13===e.nativeEvent.keyCode&&this.onBlur(e)}},{key:"onBlur",value:function(){var e=this.refs.input.value||"",t=this.props.value;if(e!==t){var r=this.props.prop,n=r.get("name"),o=r.get("alias",n);if(a.default.indexOf(this.requiredProps,n)>=0&&a.default.isEmpty(e+""))return this.context.notifyMsg((0,m.getLangMsg)({key:"bosd.textPropertyEditor.key0002",variables:{name:o}}),"warn"),void this.setState({value:t});if(a.default.indexOf(this.uniqueProps,n)>=0&&!this.uniqueValidate(e))return this.context.notifyMsg((0,m.getLangMsg)({key:"bosd.textPropertyEditor.key0003",variables:{value:e}}),"warn"),void this.setState({value:t});if(a.default.indexOf(this.validateProps,n)>=0&&a.default.findIndex(u.SPECIAL_WORDS,(function(t){return t.toLowerCase()==e}))>=0)return this.context.notifyMsg((0,m.getLangMsg)({key:"bosd.textPropertyEditor.key0004",variables:{name:o,value:e}}),"warn"),void this.setState({value:t});if(n===l.KEY){if(a.default.findIndex(u.RESERVEDFILEDKEYS,(function(t){return t.toLowerCase()==e}))>=0)return this.context.notifyMsg((0,m.getLangMsg)({key:"bosd.textPropertyEditor.key0005",variables:{value:e}}),"warn"),void this.setState({value:t});if(e.indexOf(" ")>=0)return this.context.notifyMsg((0,m.getLangMsg)("bosd.textPropertyEditor.key0006"),"warn"),void this.setState({value:t});if(0===e.indexOf("$$"))return this.context.notifyMsg((0,m.getLangMsg)('bosd.textPropertyEditor.key0007"'),"warn"),void this.setState({value:t})}else if("DataScope"===n&&""!==a.default.trim(e)){e=e.replace(/\s/g,"");var i=new RegExp(/^[\[|\(](-?\d*\.?\d*),(-?\d*\.?\d*)[\]|\)]$/,"g").exec(e);if(null===i||""!==i[1]&&""!==i[2]&&a.default.toNumber(i[1])>=a.default.toNumber(i[2]))return this.context.notifyMsg((0,m.getLangMsg)("bosd.textPropertyEditor.key0008"),"warn"),void this.setState({value:t})}a.default.indexOf(this.lowerCaseProps,n)>=0&&(e=e.toLowerCase()),this.isValidSuccess(e)&&this.props.updatePropValue(e)}}},{key:"render",value:function(){var e=this.props.prop,t=(e.get("name"),e.getIn(["Editor","length"])),r={};t&&(r.title=(0,m.getLangMsg)({key:"bosd.textPropertyEditor.key0009",variables:{maxlength:t}}),r.maxLength=t),r.onChange=this.onChange,r.onBlur=this.onBlur,r.onKeyDown=this.onKeyDown;var n=e.get("ReadOnly"),i=(0,g.default)(I(I({},d.default.input,!0),d.default.disabled,n));return o.default.createElement(c.default,(0,c.getLabelContainerProps)(e,"Text"),o.default.createElement("input",b({disabled:n,className:i,ref:"input",type:"text",value:null==this.state.value?"":this.state.value},r)))}}])&&A(r.prototype,n),s&&A(r,s),Object.defineProperty(r,"prototype",{writable:!1}),t}(o.Component);T.contextType=f.EdituiContext;t.default=(0,s.default)(T)},159472:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(360776),r(743924),r(205960),r(846428),r(708896),r(606200),r(670864),r(387912),r(836887),r(78504),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(835164),r(297336),r(880920),r(633768),r(218080);var o=p(r(795520)),i=p(r(540900)),a=p(r(369396)),l=p(r(15176)),u=p(r(824324)),d=p(r(790832)),c=p(r(671252)),s=p(r(501772)),f=r(331428);function p(e){return e&&e.__esModule?e:{default:e}}function g(e,t,r){return(t=y(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y(n.key),n)}}function y(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:String(t)}function v(e,t,r){return t=b(t),function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return I(e)}(e,h()?Reflect.construct(t,r||[],b(e).constructor):t.apply(e,r))}function h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(h=function(){return!!e})()}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e,t){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},A(e,t)}var E=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=v(this,t,[e])).state={showPanel:!1,color:e.color,alpha:e.alpha,isCheck:!1},r.clickFunc=r.clickFunc.bind(I(r)),r.handleCheck=r.handleCheck.bind(I(r)),r.changeColorFromItems=r.changeColorFromItems.bind(I(r)),r}var r,n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A(e,t)}(t,e),r=t,(n=[{key:"componentWillReceiveProps",value:function(e){var t=!1;"themeColor"===e.color&&(t=!0),this.setState({color:e.color,alpha:e.alpha,isCheck:t})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.clickFunc)}},{key:"clickFunc",value:function(e){for(var t=e.target;t;){if(t===a.default.findDOMNode(this))return;t=t.parentNode}this.closePanel()}},{key:"createColorItems",value:function(){var e=this;if(this.state.showPanel){var t=d.default.flatten(this.props.colors);return d.default.map(t,(function(t,r){var n={backgroundColor:t="current"===t?e.props.color||"#ffffff":t};return o.default.createElement("span",{key:r,className:(0,c.default)(l.default.colorItem,"kd-cq-color-picker-color-block"),title:t,style:n,onClick:function(r){return e.changeColorFromItems({color:t,alpha:e.state.alpha})}})}))}return null}},{key:"openPanel",value:function(){var e=this,t=!1;"themeColor"===this.props.color&&(t=!0),this.setState({showPanel:!this.state.showPanel,isCheck:t},(function(){e.state.showPanel?document.addEventListener("click",e.clickFunc):document.removeEventListener("click",e.clickFunc)}))}},{key:"closePanel",value:function(){this.setState({showPanel:!1})}},{key:"changeColorFromItems",value:function(e){var t=e.color,r=e.alpha;this.state.isCheck||this.changeColor({color:t,alpha:r})}},{key:"changeColor",value:function(e){var t=this,r=e.color,n=e.alpha;this.setState({color:r,alpha:n},(function(){(r.match(/^#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})$/)||/^themeColor/.test(r))&&t.props.onChange({color:r,alpha:n})}))}},{key:"handleChangeText",value:function(e){var t=e.target.value;this.changeColor({color:t,alpha:this.state.alpha})}},{key:"handleChangeAlpha",value:function(e){var t=this.state.color,r=e.target.value;r<0||r>100||this.changeColor({color:t,alpha:r})}},{key:"handleCheck",value:function(e){var t=this,r=this.state,n=r.isCheck,o=r.alpha,i=(n=!n)?"themeColor":"";o=n?o:100,this.setState({isCheck:n,color:i},(function(){t.props.onChange({color:i,alpha:o})}))}},{key:"render",value:function(){var e=this,t=this.props,r=t.color,n=t.alpha,i=t.defaultColor,a=this.state.isCheck,d=1;n>-1&&(d=n/100);var p={backgroundImage:"url(".concat(u.default,")"),backgroundColor:r||i,opacity:d,backgroundSize:"100% 100%"},m=(0,c.default)(g(g({},l.default.input,!0),l.default["input-disabled"],a));return o.default.createElement("div",{className:l.default.colorPicker},o.default.createElement("span",{className:(0,c.default)(l.default.trigger,"kd-cq-color-picker-color-block"),style:p,onClick:function(t){return e.openPanel()}}),this.state.showPanel?o.default.createElement("div",{className:(0,c.default)(l.default.colorPanel,"kd-cq-color-picker kd-cq-designer-color-picker")},o.default.createElement("div",{className:l.default.colors},this.createColorItems()),o.default.createElement("div",{className:l.default.textPanel},o.default.createElement("div",{className:l.default.textItme},o.default.createElement("label",null,(0,f.getLangMsg)("bosd.textPropertyEditor.key0010")),o.default.createElement("input",{disabled:a,className:m,value:this.state.color,onChange:function(t){return e.handleChangeText(t)}})),o.default.createElement("div",{className:l.default.textItme,title:(0,f.getLangMsg)("bosd.textPropertyEditor.key0011")},o.default.createElement("label",null,(0,f.getLangMsg)("bosd.textPropertyEditor.key0012")),o.default.createElement("input",{type:"number",min:"0",max:"100",className:l.default.input,value:this.state.alpha,onChange:function(t){return e.handleChangeAlpha(t)}}))),o.default.createElement("div",{className:l.default.themeBtn,onClick:function(t){return e.handleCheck(t)}},o.default.createElement("label",null,(0,f.getLangMsg)("bosd.textPropertyEditor.key0013")),o.default.createElement(s.default,{size:3,value:a}))):null)}}])&&m(r.prototype,n),i&&m(r,i),Object.defineProperty(r,"prototype",{writable:!1}),t}(o.default.Component);E.propTypes={color:i.default.string,alpha:i.default.number,defaultColor:i.default.string,onChange:i.default.func},E.defaultProps={colors:[["#45cdff","#3dccc0","#40bd6e","#99d92b","#ffd52e","#ffb44a","#ff854d","#ff5257","#ff3b72","#9a4dff","#3987ed","#5797ff"],["#16b0f1","#16b8b1","#1ba854","#77c404","#fdc200","#ff991c","#ff5f1f","#fb2323","#f90d58","#701df0","#0e5fd8","#276ff5"],["#ffffff","#fafafa","#f5f5f5","#f2f2f2","#e5e5e5","#d9d9d9","#cccccc","#999999","#666666","#404040","#212121","#000000"]],alpha:100,color:"#ffffff",defaultColor:"#ffffff"};t.default=E},593172:function(e,t,r){"use strict";r(606200),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(795520)),o=u(r(247600)),i=u(r(546668)),a=u(r(671252)),l=r(331428);function u(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.title,r=e.content,u=e.handleClose,d=e.handleOk,c=(0,a.default)(i.default["but-blue"],"theme-bg");return n.default.createElement(o.default,{width:"100%",height:"100%",isShowTitle:!0,title:t,onClose:u},n.default.createElement("div",{className:i.default.content},r),n.default.createElement("div",{className:i.default["button-div"]},n.default.createElement("a",{className:i.default["but-grey"],onClick:u},(0,l.getLangMsg)("bosd.dialogPicker.key0001")),n.default.createElement("a",{className:c,onClick:d},(0,l.getLangMsg)("bosd.dialogPicker.key0002"))))}},273380:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(360776),r(743924),r(205960),r(846428),r(336368),r(708896),r(606200),r(534440),r(670864),r(387912),r(836887),r(78504),r(776512),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"OptGroup",{enumerable:!0,get:function(){return l.OptGroup}}),Object.defineProperty(t,"Option",{enumerable:!0,get:function(){return l.Option}}),Object.defineProperty(t,"SelectPropTypes",{enumerable:!0,get:function(){return l.SelectPropTypes}}),t.default=void 0,r(241872),r(297336),r(880920);var o=s(r(790832)),i=s(r(369396)),a=c(r(795520)),l=c(r(390716)),u=r(331428);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(d=function(e){return e?r:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=d(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}return o.default=e,r&&r.set(e,o),o}function s(e){return e&&e.__esModule?e:{default:e}}function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f.apply(this,arguments)}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g(n.key),n)}}function g(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:String(t)}function m(e,t,r){return t=v(t),function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}(e,y()?Reflect.construct(t,r||[],v(e).constructor):t.apply(e,r))}function y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(y=function(){return!!e})()}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}var I="rc-select-kingdee-flag",A=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=m(this,t,[e])).closeSelPanel=r.closeSelPanel.bind(h(r)),r.closeSelPanelHandler=o.default.throttle(r.closeSelPanel,500),r.RCSelectRef=(0,a.createRef)(null),r}var r,n,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(t,e),r=t,(n=[{key:"componentDidMount",value:function(){document.addEventListener("scroll",this.closeSelPanelHandler,!0),window.addEventListener("resize",this.closeSelPanelHandler)}},{key:"componentWillUnmount",value:function(){this.closeSelPanelHandler.cancel(),document.removeEventListener("scroll",this.closeSelPanelHandler,!0),window.removeEventListener("resize",this.closeSelPanelHandler)}},{key:"closeSelPanel",value:function(e){var t,r=e.target;if(!((null===(t=r)||void 0===t||null===(t=t.className)||void 0===t?void 0:t.indexOf("rc-select-search__field"))>=0)){for(;r;){if((r.className||"").indexOf(I)>=0)return;r=r.parentNode}var n=i.default.findDOMNode(this);if(n){this.RCSelectRef.current&&this.RCSelectRef.current.blur();for(var o=n.getElementsByTagName("input"),a=0;a<o.length;a++)o[a].blur()}}}},{key:"render",value:function(){var e=this.props.dropdownClassName+" "+I;return a.default.createElement(l.default,f({notFoundContent:(0,u.getLangMsg)("bosd.select.emptyTips")},this.props,{dropdownClassName:e,ref:this.RCSelectRef}))}}])&&p(r.prototype,n),d&&p(r,d),Object.defineProperty(r,"prototype",{writable:!1}),t}(a.Component);A.Option=l.Option,A.OptGroup=l.OptGroup;t.default=A},272172:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(360776),r(743924),r(205960),r(846428),r(336368),r(708896),r(606200),r(534440),r(670864),r(836887),r(78504),r(776512),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(9692),r(233696),r(241872),r(835164),r(297336),r(880920),r(387912),r(997308);var o=y(r(790832)),i=y(r(671252)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=m(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}return o.default=e,r&&r.set(e,o),o}(r(795520)),l=r(891052),u=y(r(128400)),d=r(489912),c=r(611744),s=y(r(669212)),f=r(864792),p=r(65624),g=r(331428);function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(m=function(e){return e?r:t})(e)}function y(e){return e&&e.__esModule?e:{default:e}}function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v.apply(this,arguments)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,A(n.key),n)}}function I(e,t,r){return t&&b(e.prototype,t),r&&b(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function A(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:String(t)}function E(e,t,r){return t=C(t),function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return P(e)}(e,M()?Reflect.construct(t,r||[],C(e).constructor):t.apply(e,r))}function M(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(M=function(){return!!e})()}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t)}function O(e,t){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},O(e,t)}var T=(0,f.getArrayTreeUtils)("target","items"),_=function(e){function t(e){var r;return h(this,t),(r=E(this,t,[e])).onTextChange=r.onTextChange.bind(P(r)),r.onSelectChange=r.onSelectChange.bind(P(r)),r.onDelete=r.onDelete.bind(P(r)),r.onSelect=r.onSelect.bind(P(r)),r}return w(t,e),I(t,[{key:"onTextChange",value:function(e){var t=e.target.value,r=this.props.item,n=r.get("target");r=r.set("caption",t),this.props.onUpdateItem(n,r),this.props.setSelectId(n)}},{key:"onSelectChange",value:function(e){var t=e.target.options,r=e.target.selectedIndex,n=e.target.value,o=t[r].text;"-1"!=n&&n||(o="");var i=this.props.item,a=i.get("target");i=(i=i.set("target",n)).set("caption",o),this.props.onUpdateItem(a,i),this.props.setSelectId(n)}},{key:"onDelete",value:function(e){e.stopPropagation();var t=this.props.item;this.props.onDeleteItem(t.get("target"))}},{key:"onSelect",value:function(e){e.stopPropagation(),this.props.setSelectId(this.props.item.get("target"))}},{key:"getAllIds",value:function(e){var t=[];return function e(r){r&&r.forEach((function(r){t.push(r.get("target")),e(r.get("items"))}))}(e),t}},{key:"renderSelectItem",value:function(){var e=this.props,t=e.uiInfo,r=e.uiConfig,n=e.item,i=e.items,l=this.getAllIds(i),u=[];return d.uiModel.getFormmeta(t).forEach((function(e){var i=e&&e.get(p.ID);i&&(i!=n.get("target")&&o.default.indexOf(l,i)>=0||d.uiModel.isContainerControl(r,t,i)&&u.push(a.default.createElement("option",{key:i,value:i},e.get(p.NAME))))})),u}},{key:"render",value:function(){var e,t,r,n=this.props,o=n.selected,l=n.item;return a.default.createElement("div",{className:s.default.item},a.default.createElement("div",{className:(0,i.default)(s.default["node-title"],(e={},t=s.default.selected,r=o,(t=A(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e)),onClick:this.onSelect},a.default.createElement("input",{className:s.default.caption,value:l.get("caption"),onChange:this.onTextChange}),a.default.createElement("select",{className:s.default.target,value:l.get("target"),onChange:this.onSelectChange},a.default.createElement("option",{key:"-1",value:"-1"},(0,g.getLangMsg)("bosd.anchorPropertyEditor.key0001")),this.renderSelectItem()),a.default.createElement("div",{className:s.default.close,onClick:this.onDelete},"×")),this.props.children&&a.default.createElement("div",{className:s.default["node-body"]},this.props.children))}}]),t}(a.Component),k=function(e){function t(e){var r;return h(this,t),(r=E(this,t,[e])).state={items:e.getPropertyValue()||(0,l.List)(),selId:"-1"},r.onAddItem=r.onAddItem.bind(P(r)),r.onAddSubItem=r.onAddSubItem.bind(P(r)),r.onUpdateItem=r.onUpdateItem.bind(P(r)),r.onDeleteItem=r.onDeleteItem.bind(P(r)),r.setSelectId=r.setSelectId.bind(P(r)),r.onOk=r.onOk.bind(P(r)),r}return w(t,e),I(t,[{key:"getItem",value:function(e,t){var r=T.byId(e,t);if(r=T.getRealPath(r))return e.getIn(r)}},{key:"updateItem",value:function(e,t,r){var n=T.byId(e,t);return(n=T.getRealPath(n))&&(e=e.setIn(n,r)),e}},{key:"delItem",value:function(e,t){var r=T.byId(e,t);return(r=T.getRealPath(r))&&(e=e.deleteIn(r)),e}},{key:"addItem",value:function(e,t,r){var n=T.byId(e,t);return(n=T.getRealPath(n))?(n=n.concat("items"),e=e.updateIn(n,(0,l.List)(),(function(e){return e.push(r)}))):e=e.push(r),e}},{key:"setSelectId",value:function(e){this.setState({selId:e})}},{key:"onAddItem",value:function(){var e=this.state.items;this.getItem(e,"-1")?this.setSelectId("-1"):(e=this.addItem(e,null,(0,l.Map)({target:"-1",caption:""})),this.setState({items:e,selId:"-1"}))}},{key:"onAddSubItem",value:function(){var e=this.state,t=e.items,r=e.selId;if(this.getItem(t,"-1"))this.setSelectId("-1");else{if(!r)return;t=this.addItem(t,r,(0,l.Map)({target:"-1",caption:""})),this.setState({items:t,selId:"-1"})}}},{key:"onUpdateItem",value:function(e,t){var r=this.state.items;r=this.updateItem(r,e,t),this.setState({items:r})}},{key:"onDeleteItem",value:function(e){var t=this.state.items;t=this.delItem(t,e),this.setState({items:t})}},{key:"onOk",value:function(){var e=this.state.items;e&&0!==e.size||(e=void 0),this.props.updatePropValue(e),this.props.onDialogClose()}},{key:"createItems",value:function(e,t){var r=this;return e&&0!==e.size?e.map((function(e){var n=e.get("target"),o=e.get("items",(0,l.List)());return o.size>0?(o=r.createItems(o,t),a.default.createElement(_,v({key:n,selected:n===r.state.selId,item:e},t),o)):a.default.createElement(_,v({key:n,selected:n===r.state.selId,item:e},t))})):null}},{key:"renderItems",value:function(){var e=this.props,t=e.field,r=e.uiInfo,n=e.uiConfig,o=this.state.items,i={field:t,uiInfo:r,uiConfig:n,items:o,onUpdateItem:this.onUpdateItem,onDeleteItem:this.onDeleteItem,setSelectId:this.setSelectId};return this.createItems(o,i)}},{key:"render",value:function(){var e=this.props,t=e.prop,r=e.onDialogClose,n=t.getIn(["alias"]);return a.default.createElement(u.default,{title:n,onClose:r,onCancel:r,onOk:this.onOk},a.default.createElement("div",{className:s.default.root},a.default.createElement("div",{className:s.default.header},a.default.createElement("button",{onClick:this.onAddItem},(0,g.getLangMsg)("bosd.anchorPropertyEditor.key0002")),a.default.createElement("button",{onClick:this.onAddSubItem},(0,g.getLangMsg)("bosd.anchorPropertyEditor.key0003"))),a.default.createElement("div",{className:s.default.body},this.renderItems())))}}]),t}(a.Component);(0,c.registCustomProp)("Anchor",k);t.default=k},611744:function(e,t,r){"use strict";r(606200),Object.defineProperty(t,"__esModule",{value:!0}),t.createCustomProp=function(e){return n[e]},t.registCustomProp=function(e,t){n[e]=t};var n={}},884012:function(e,t,r){"use strict";var n;(n=r(272172))&&n.__esModule},277528:function(e,t,r){"use strict";r(606200),Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BorderPropertyEditor",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"BtneditPropertyEditor",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"CheckboxPropertyEditor",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"ColorPropertyEditor",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"ComboPropertyEditor",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"CsseditPropertyEditor",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(t,"CustomPropertyEditor",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"DaterangePropertyEditor",{enumerable:!0,get:function(){return I.default}}),Object.defineProperty(t,"DecimalPropertyEditor",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"DefaultPropEditor",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"DimensionPropertyEditor",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"EcomboPropertyEditor",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"EditcomboPropertyEditor",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(t,"FontboldPropertyEditor",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"IntegerPropertyEditor",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"McomboPropertyEditor",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"PositionPropertyEditor",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(t,"RadiusPropertyEditor",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"ReadOnlyPropEditor",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"RefcomboPropertyEditor",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(t,"RefeditbtnPropertyEditor",{enumerable:!0,get:function(){return M.default}}),Object.defineProperty(t,"RefmcomboPropertyEditor",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(t,"TabselectPropertyEditor",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"TextPropertyEditor",{enumerable:!0,get:function(){return l.default}});var n=C(r(86976)),o=C(r(121464)),i=C(r(151736)),a=C(r(991064)),l=C(r(839408)),u=C(r(410916)),d=C(r(427712)),c=C(r(25272)),s=C(r(491292)),f=C(r(610352)),p=C(r(423440)),g=C(r(421104)),m=C(r(473964)),y=C(r(138208)),v=C(r(377288)),h=C(r(138204)),b=C(r(263576)),I=C(r(279544)),A=C(r(121528)),E=C(r(490040)),M=C(r(430616));function C(e){return e&&e.__esModule?e:{default:e}}},707904:function(e,t,r){"use strict";r(606200),Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"layout1",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"layout10",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"layout11",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"layout12",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"layout2",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"layout3",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"layout4",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"layout5",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"layout6",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"layout7",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"layout8",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"layout9",{enumerable:!0,get:function(){return s.default}});var n=m(r(382428)),o=m(r(598096)),i=m(r(474124)),a=m(r(458444)),l=m(r(519588)),u=m(r(166380)),d=m(r(565512)),c=m(r(794540)),s=m(r(476380)),f=m(r(169500)),p=m(r(260092)),g=m(r(896300));function m(e){return e&&e.__esModule?e:{default:e}}},225613:function(e,t,r){"use strict";r(606200),Object.defineProperty(t,"__esModule",{value:!0}),t.toTreeData=t.getNewMappingData=t.getGroupInfos=t.formatResultsSingleList=t.formatResultsSingleForm=t.formatResultsForm=t.formatResults=t.formatNewField=t.flatten=t.filterListData=t.filterData=void 0,r(9692),r(622676),r(233696),r(443616),r(241872),r(835164),r(492948),r(387912),r(997308);var n,o=r(891052),i=(n=r(918048))&&n.__esModule?n:{default:n},a=r(331428);t.toTreeData=function(e,t){return function t(r){var n=[];return e.filter((function(e){return e.pid===r})).forEach((function(e){n.push({Id:e.Id,Name:e.Name,Items:t(e.Id),hierarchy:e.hierarchy,isLeafNode:e.isLeafNode})})),n}(t)},t.flatten=function e(t,r,n){return t.reduce((function(t,o){var i={},a=o.get("Items");return i.Id=o.get("Id"),i.Name=o.get("Name"),i.Type=o.get("Type"),i.isLeafNode=!a,i.pid=r,i.visible=!0,i.hierarchy=n,t.concat([i],e(a||[],i.Id,n+1))}),[])},t.filterData=function(e,t){return t&&t.filter((function(t){var r=t.Name,n=t.Key,o=r?r.toLocaleLowerCase():"",i=n?n.toLocaleLowerCase():"";return o.indexOf(e.toLocaleLowerCase())>=0||i.indexOf(e.toLocaleLowerCase())>=0}))},t.filterListData=function(e,t){return t&&t.filter((function(t){var r=t.Name?t.Name.toLocaleLowerCase():"",n=t.Id?t.Id.toLocaleLowerCase():"";return!0!==t.isLeafNode||r.indexOf(e.toLocaleLowerCase())>=0||n.indexOf(e.toLocaleLowerCase())>=0}))},t.formatResults=function(e,t){var r=[];return e&&e.forEach((function(e){var n,o,i=[],a=e.get("id"),l=e.get("fieldId");a&&l&&(t&&t.forEach((function(e){l===e.Id&&(n=e.Name,o="Card"+e.Type)})),i[0]={itemId:a,metaType:"formmeta",propertyName:"ListFieldId",value:l},i[1]={itemId:a,metaType:"formmeta",propertyName:"Name",value:n},i[2]={itemId:a,metaType:"formmeta",propertyName:"_Type_",value:o},r=r.concat(i))})),r},t.formatResultsSingleList=function(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,o.Map)(),n=arguments.length>1?arguments[1]:void 0,i=[],a=[],l=r.get("id"),u=r.get("fieldId");if(l&&u)n&&n.forEach((function(r){u===r.Id&&(e=r.Name,t="Card"+r.Type)})),a[0]={itemId:l,metaType:"formmeta",propertyName:"ListFieldId",value:u},a[1]={itemId:l,metaType:"formmeta",propertyName:"Name",value:e},a[2]={itemId:l,metaType:"formmeta",propertyName:"_Type_",value:t},i=i.concat(a);else if(l&&!u){var d=[],c=r.get("name");d[0]={itemId:l,metaType:"formmeta",propertyName:"ListFieldId",value:""},d[1]={itemId:l,metaType:"formmeta",propertyName:"Name",value:c},i=i.concat(d)}return i},t.formatResultsForm=function(e,t){var r=[];return e&&e.forEach((function(e){var n=e.get("id"),o=e.get("fieldId"),i=e.get("fieldKey"),a=e.get("newField"),l=e.get("isFooter");if(n&&o&&!0!==a){var u,d=[];t&&t.forEach((function(e){o===e.Id&&(u=e.Name)})),d[0]={alias:i,itemId:n,metaType:"formmeta",propertyName:"FieldId",value:o},d[1]={alias:i,itemId:n,metaType:"formmeta",propertyName:"Name",value:u},d[2]={alias:i,itemId:n,metaType:"formmeta",propertyName:"Key",value:i},r=r.concat(d)}else if(n&&!o&&!l&&!0!==a){var c=[],s=e.get("name");c[0]={alias:i,itemId:n,metaType:"formmeta",propertyName:"FieldId",value:""},c[1]={alias:i,itemId:n,metaType:"formmeta",propertyName:"Name",value:s},c[2]={alias:i,itemId:n,metaType:"formmeta",propertyName:"Key",value:""},r=r.concat(c)}})),r},t.formatResultsSingleForm=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,o.Map)(),t=arguments.length>1?arguments[1]:void 0,r=[],n=e.get("id"),i=e.get("fieldId"),a=e.get("fieldKey"),l=e.get("newField"),u=e.get("isFooter");if(n&&i&&!0!==l){var d,c=[];t&&t.forEach((function(e){i===e.Id&&(d=e.Name)})),c[0]={alias:a,itemId:n,metaType:"formmeta",propertyName:"FieldId",value:i},c[1]={alias:a,itemId:n,metaType:"formmeta",propertyName:"Name",value:d},c[2]={alias:a,itemId:n,metaType:"formmeta",propertyName:"Key",value:a},r=r.concat(c)}else if(n&&!i&&!a&&!0!==l&&!u){var s=[],f=e.get("name");s[0]={alias:a,itemId:n,metaType:"formmeta",propertyName:"FieldId",value:""},s[1]={alias:a,itemId:n,metaType:"formmeta",propertyName:"Name",value:f},s[2]={alias:a,itemId:n,metaType:"formmeta",propertyName:"Key",value:""},r=r.concat(s)}return r},t.getGroupInfos=function(e,t){var r=[],n=[],l="";return e&&e.forEach((function(e,o){var u=e.get("parentId");if(r.includes(u))n.push(e);else{0!==r.length&&n.push({name:"+".concat((0,a.getLangMsg)("bosd.fieldBindFunction.key0001")),parentId:l,isFooter:!0,id:(0,i.default)(10)}),r.push(u);var d=t(u);d=d.set("isParent",!0),n.push(d),n.push(e),l=u}})),n.push({name:"+".concat((0,a.getLangMsg)("bosd.fieldBindFunction.key0001")),parentId:l,isFooter:!0,id:(0,i.default)(10)}),(0,o.fromJS)(n)},t.formatNewField=function(e,t){return e&&e.map((function(e){var r=e.get("temporaryId"),n=e;return void 0!==r&&(n=(n=e.set("id",t)).set("temporaryId",void 0)),n}))},t.getNewMappingData=function(e,t,r,n,o){var i=t&&t.get(e),a=i&&i.get("newField");if(i){var l=t.setIn([e,"fieldKey"],r);return l=(l=l.setIn([e,"fieldId"],n)).setIn([e,"Name"],o),!0===a&&(l=l.setIn([e,"newField"],!1)),l}return null}},147344:function(e,t,r){"use strict";r(606200),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(835164),r(721300),r(125048);var n=s(r(795520)),o=r(331428),i=r(445200),a=r(65624),l=r(738704),u=r(211152),d=r(681868),c=s(r(207336));function s(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t=e.get(a.TYPE);return"FieldAp"===t?i.ELEMENT_TYPE.Field:t.endsWith("FormAp")?i.ELEMENT_TYPE.Page:i.ELEMENT_TYPE.Control};t.default=function(e){var t=e.element,r=e.fieldInfo,a=function(e){var t=(0,u.getGlobalState)().get("rootPageId"),n=e.name,o={text:n};if("onValueChange"===n&&r){var i=r.get("Key"),a=r.get("Name");o.controlKey=i,o.controlName=a}var c,s="false"===(null==(c=document.querySelector("#tabpagesubdesigner"))?void 0:c.dataset.tabHidden)?"subformdesigner":"formdesigner";(0,l.publishControlMethod)(t,s,"directives",[{methodname:d.SHOW_JS_SCRIPT_EDITOR,args:[{isInternal:!0,content:o}]}])},s=f(t),p=i.FUNCTION_TYPE[s],g=r?r.get("Name"):"";return n.default.createElement("div",{className:c.default.container},n.default.createElement("div",{className:c.default.title},g),n.default.createElement("div",{className:c.default.item},p.map((function(e){var t=(0,o.getLangMsg)("bosd.actionpanel.key0001");return n.default.createElement("div",{className:c.default["item-func"],key:e.name},n.default.createElement("div",{className:c.default.top},n.default.createElement("p",{className:c.default["func-desc"],title:e.desc},e.desc),n.default.createElement("p",{className:c.default["edit-btn"],title:t,onClick:function(t){return a(e)}},t)),n.default.createElement("div",{className:c.default["func-name"]},e.name))}))))}},525056:function(e,t,r){"use strict";r(182320),r(909112),r(697060),r(360776),r(505684),r(743924),r(693917),r(205960),r(976896),r(721300),r(846428),r(708896),r(606200),r(534440),r(670864),r(836887),r(633768),r(690512),r(78504),r(776512),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(9692),r(622676),r(443616),r(241872),r(323784),r(835164),r(704180),r(297336),r(336368),r(880920),r(387912),r(660824),r(321164),r(86744);var n=S(r(795520)),o=(S(r(540900)),S(r(790832))),i=S(r(707892)),a=S(r(205440)),l=r(65624),u=S(r(671252)),d=S(r(535136)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=D(e)&&"function"!=typeof e)return{default:e};var r=k(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(373448)),s=r(613856),f=r(489912),p=r(891052),g=S(r(787780)),m=r(219288),y=S(r(300476)),v=r(99808),h=(S(r(173096)),S(r(733996))),b=r(471160),I=r(482816),A=r(62327),E=S(r(783956)),M=S(r(127204)),C=r(974184),P=r(439532),w=r(406660),O=r(331428),T=S(r(661524)),_=r(331448);function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(k=function(e){return e?r:t})(e)}function S(e){return e&&e.__esModule?e:{default:e}}function j(e){return function(e){if(Array.isArray(e))return N(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function F(){return F=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F.apply(this,arguments)}function D(e){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(e)}function L(e,t,r){return(t=V(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,V(n.key),n)}}function R(e,t,r){return t&&B(e.prototype,t),r&&B(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function V(e){var t=function(e,t){if("object"!=D(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=D(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==D(t)?t:String(t)}function U(e,t,r){return t=K(t),function(e,t){if(t&&("object"===D(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Y(e)}(e,W()?Reflect.construct(t,r||[],K(e).constructor):t.apply(e,r))}function W(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(W=function(){return!!e})()}function K(e){return K=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},K(e)}function Y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&G(e,t)}function G(e,t){return G=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},G(e,t)}var H=0,J=function(e){function t(e){var r,o;return x(this,t),(o=U(this,t,[e])).getGroupControlsData=function(e,t){return e&&""!==e.trim()?t.get(l.GROUPS):o.groupControls},o.dropHandle=function(e){return function(t,r){o.addControl(Object.assign({},r,L({},l.TYPE,e.get(l.TYPE))),t)}},o.renderControlsItem=function(e,t){var r=o.props,i=r.pathname,a=r.hasTmpCtrls,u=["CommonField","BusinessField","CommonControl"].indexOf(t.get(l.ID))>-1,d=t.get(l.ID),c=u?"".concat(d,":").concat(e.get(l.ID)):void 0,s=e.get(l.TYPE);return e.get(_.CONTROL_TYPE)===_.DROPDOWN?n.default.createElement(T.default,{key:s,ctrl:e.get(_.CTRL),pathname:i,dataDesignKey:c,addControl:o.addControl,dropdownDatas:e.get(l.CHILDERN),dropHandle:o.dropHandle(e)}):n.default.createElement(q,{key:s,ctrl:e,pathname:i,hasTmpCtrls:a,onClick:function(){return o.addControl(e.get(l.TYPE),void 0,e.get(l.CTRL_NAME))},dropHandle:o.dropHandle(e),dataDesignKey:c})},o.addControl=function(e,t,r){try{var i="object"===D(e)?e[l.TYPE]:e,a=(0,v.getWizardPage)(i)||{},u=a.WinzardPage,d=a.props;if(window.wizard&&u)o.setState({OverlayChildren:n.default.createElement(u,F({setCallback:function(e){return o.action=e}},d)),showOverlay:!0,ctrlInfo:i,ctrlName:r});else{var c="object"===D(e)?e:{Type:e,Id:(0,P.createNewId)()};o.props.addControl(t||o.props.select_control_id,c,o.props.uiConfig)}}catch(e){console.error(e.message),o.context.notifyMsg(e.message)}},o.filterPermission=function(e){return function(t){return t.update("children",(function(t){return t.filter((function(t){return o.isAllowAdd(t.get("Type"),e)}))}))}},o.filterName=function(e){return function(t){return e&&""!==e.trim()?(e=e.trim(),t.update("children",(function(t){return t.filter((function(t){if(""===e)return!0;var r=t.get("name");if(r&&r.toLocaleLowerCase().indexOf(e.toLocaleLowerCase())>=0)return!0;var n=(0,A.cont2Spell)(t.get("name"));return!!(n&&n.toLocaleLowerCase().indexOf(e.toLocaleLowerCase())>=0)||void 0}))}))):t}},o.state={active:"all",filterStr:"",controls:void 0,showOverlay:!1},o.filterPermission=o.filterPermission.bind(Y(o)),o.isAllowAdd=o.isAllowAdd.bind(Y(o)),o.filterName=o.filterName.bind(Y(o)),o.updateContronPanel=o.updateContronPanel.bind(Y(o)),o.getControlGroups=o.getControlGroups.bind(Y(o)),o.asyncRenderGroups=o.asyncRenderGroups.bind(Y(o)),o.onCloseOverlay=o.onCloseOverlay.bind(Y(o)),o.onOk=o.onOk.bind(Y(o)),o.setInput=o.setInput.bind(Y(o)),o.groupControls=(0,w.getGroupControls)(null===(r=o.props.uiConfig)||void 0===r?void 0:r.get(l.GROUPS)),o}return Q(t,e),R(t,[{key:"componentWillMount",value:function(){this.isAllowAddCache={}}},{key:"componentWillReceiveProps",value:function(e){var t,r=this.props.select_control_id!=e.select_control_id&&e.uiInfo,n=!(0,p.is)(this.props.uiConfig,e.uiConfig),o=this.props.uiInfo&&e.uiInfo&&this.props.uiInfo.get("language")!=e.uiInfo.get("language"),i=!1,a=(0,b.getFormFieldInfo)(this.props.uiInfo,this.props.select_control_id),u=(0,b.getFormFieldInfo)(e.uiInfo,this.props.select_control_id),d=null==a?void 0:a.get(l._TYPE_);["FlexPanelAp","FieldsetPanelAp"].includes(d)&&(i=(null==a?void 0:a.get("ContainerType"))!==(null==u?void 0:u.get("ContainerType")));n&&(this.groupControls=(0,w.getGroupControls)(null===(t=e.uiConfig)||void 0===t?void 0:t.get(l.GROUPS)));(r||n||o||i)&&this.updateContronPanel(e,this.input?this.input.value:"")}},{key:"componentDidMount",value:function(){H+=1,this.num=H,this.props.select_control_id&&this.props.uiInfo&&this.updateContronPanel(this.props)}},{key:"componentDidUpdate",value:function(e,t){t.filterStr!=this.state.filterStr&&this.updateContronPanel(this.props,this.state.filterStr)}},{key:"updateContronPanel",value:function(e,t){var r=this,n=e.select_control_id,i=e.uiInfo,a=e.uiConfig,l=this.getGroupControlsData(t,a).filterNot((function(e){return!1===e.get("Visible")||i.get("entityreadonly")&&o.default.includes(["Field","Entry"],e.get("BaseType"))}));l=l.map(this.filterName(t));var u=n||f.uiModel.getRootId(i),d=f.uiModel.getContainerControl(i,u,!0,a);if(d){var c=this.filterPermission(d.control);clearTimeout(this.timer),this.timer=setTimeout((function(){r.asyncRenderGroups(l,c,n)}),200)}}},{key:"asyncRenderGroups",value:function(e,t,r){var o,u=this,d=(0,p.List)(),c=(0,p.List)();(0,m.eachOfSeries)(e,(function(e,s,f){setTimeout((function(){if(u.props.select_control_id===r){var s;if(c=(c=c.push(t(e))).filter((function(e){return e.get("children").size>0})),0===c.size){var p=(0,b.getFormFieldInfo)(u.props.uiInfo,u.props.select_control_id),g="";if(p){var m=p.get(l._TYPE_);g=(0,I.getConfigFieldByType)(u.props.uiConfig,m).get("name")}d=u.state.filterStr?n.default.createElement("div",{style:{margin:8}},(0,O.getLangMsg)({key:"bosd.controlsPanel.key0001",variables:{name:n.default.createElement("span",{style:{color:"red"}},g),filterStr:n.default.createElement("span",{style:{color:"red"}},u.state.filterStr)}})):n.default.createElement("div",{style:{margin:8}},(0,O.getLangMsg)({key:"bosd.controlsPanel.key0002",variables:{name:n.default.createElement("span",{style:{color:"red"}},g)}}))}else d=c.map((function(e,t){return n.default.createElement(i.default,{key:"group"+t,title:e.get("name")},n.default.createElement("div",{className:a.default.ctrospanel},e.get("children").map((function(t,r){return u.renderControlsItem(t,e)}))))}));d.size>0&&o&&!(s=o).includes.apply(s,j(c))&&u.setState({controls:d}),f()}}),0)}),(function(){o=c,u.setState({controls:d})}))}},{key:"switchTab",value:function(e){this.setState({active:e})}},{key:"onCloseOverlay",value:function(){this.setState({showOverlay:!1,OverlayChildren:void 0})}},{key:"onOk",value:function(){var e=this.action();e&&(this.onCloseOverlay(),this.props.addControl(this.props.select_control_id,e,this.props.uiConfig))}},{key:"isInGridFlatPanel",value:function(e,t){var r,n=t.uiConfig,o=t.ctrlInfo,i=null==o?void 0:o.get("Type");if("FieldsetPanelAp"===i){var a,l=null===(a=f.uiModel.getContainerControl(e,null==o?void 0:o.get("Id"),!1,n))||void 0===a?void 0:a.control;r=null==l?void 0:l.get("Type")}else if("FieldgroupPanelAp"===i){var u,d,c=null===(u=f.uiModel.getContainerControl(e,null==o?void 0:o.get("Id"),!1,n))||void 0===u?void 0:u.control,s=null===(d=f.uiModel.getContainerControl(e,null==c?void 0:c.get("Id"),!1,n))||void 0===d?void 0:d.control;r=null==s?void 0:s.get("Type")}return"GridFlatPanelAp"===r}},{key:"isAllowAdd",value:function(e,t){if(this.props.uiInfo.getIn(["ui","Items"],(0,p.List)()).some((function(e){return"MTabBarAp"===e.get("Type")}))&&"MobileFormAp"===(null==t?void 0:t.get("Type")))return!1;var r=f.uiModel.getRealControlType(this.props.uiInfo)(t.get(l.TYPE),t.get(l.ID)),n="".concat(e,"_").concat(t.get(l.ID),"_").concat(r);if(void 0===this.isAllowAddCache[n]){var o=this.props.uiConfig,i=this.props.uiInfo,a=f.uiModel.getTypeInfo({ctrlType:e},o);e=a.ctrlType;var u=a.fieldType,d=!1;if("RichTextField"===u||"SignatureField"===u)if(this.isInGridFlatPanel(i,{uiConfig:o,ctrlInfo:t}))return this.isAllowAddCache[n]=!1,this.isAllowAddCache[n];try{d=(0,s.canAddControl)(i,{parentId:t,ctrlType:e,fieldType:u,uiConfig:o})}catch(e){}this.isAllowAddCache[n]=d}return this.isAllowAddCache[n]}},{key:"getControlGroups",value:function(e,t){var r=e.select_control_id,n=e.uiInfo,i=e.uiConfig,a=i.get("groups").filterNot((function(e){return!1===e.get("Visible")||n.get("entityreadonly")&&o.default.includes(["Field","Entry"],e.get("BaseType"))}));a=a.map(this.filterName(t));var l=r||f.uiModel.getRootId(n),u=f.uiModel.getContainerControl(n,l,!0,i);return a=(a=a.map(this.filterPermission(u.control))).filter((function(e){return e.get("children").size>0}))}},{key:"setInput",value:function(e){var t=this;e?(this.input=e,this.removeListener=(0,h.default)(e,(function(e){t.setState({filterStr:e})}))):this.removeListener&&this.removeListener()}},{key:"render",value:function(){var e=this;if(!this.props.uiInfo||!this.props.uiConfig)return null;var t=!!this.state.filterStr,r={ctrlInfo:this.state.ctrlInfo,showColseButton:!0,uiInfo:this.props.uiInfo,uiConfig:this.props.uiConfig,title:(0,O.getLangMsg)({key:"bosd.controlsPanel.key0003",variables:{ctrlName:this.state.ctrlName}}),onClose:this.onCloseOverlay,onOk:this.onOk};return n.default.createElement("div",{className:a.default.root},n.default.createElement("div",{className:a.default.filterContainer},n.default.createElement("input",{type:"text",onKeyUp:function(t){13===t.keyCode&&e.updateContronPanel(e.props,t.target.value)},className:a.default.filterInput,placeholder:(0,O.getLangMsg)("bosd.controlsPanel.key0004"),ref:this.setInput}),t?n.default.createElement("img",{src:g.default,className:a.default.deleteImg,onClick:function(t){e.setState({filterStr:""}),e.input.select(),document.execCommand("Delete")}}):null),n.default.createElement("div",{className:a.default.content},n.default.createElement("div",{className:(0,u.default)(L(L({},a.default.panel,!0),a.default.showpanel,"all"==this.state.active))},this.state.controls||n.default.createElement("div",null,"   ",(0,O.getLangMsg)("bosd.controlsPanel.key0007")))),this.state.OverlayChildren&&n.default.createElement(y.default,r,this.state.OverlayChildren))}}]),t}(n.default.Component);J.contextType=C.EdituiContext;var z=function(e){function t(e){var r;return x(this,t),(r=U(this,t,[e])).state={mouseDown:!1,options:{delayHide:500,delayUpdate:500,delayShow:1e3}},r.timer=null,r.isdragging=!1,r}return Q(t,e),R(t,[{key:"handleMouseUp",value:function(){this.isdragging?this.isdragging=!1:clearTimeout(this.timer),this.setState({mouseDown:!1,options:{delayHide:500,delayShow:1e3,delayUpdate:500}})}},{key:"handleMouseDown",value:function(){var e=this;this.setState({mouseDown:!0}),this.isdragging=!1,this.timer=setTimeout((function(){e.isdragging=!0,e.setState({options:{}})}),200)}},{key:"handleMouseLeave",value:function(){this.isdragging?(this.isdragging=!1,this.setState({mouseDown:!1,options:{delayHide:500,delayShow:1e3,delayUpdate:500}})):(clearTimeout(this.timer),this.setState({mouseDown:!1}))}},{key:"render",value:function(){var e=this,t=this.props.ctrl.get("Type"),r=this.props.ctrl.get("ExtendFontClass"),o="".concat(t,"_h"),i="".concat(t,"_tips"),l=c[t]||c.defaultIcon,d=c[o]||c.defaultIcon_h,s=M.default[t]||M.default.defaultInfo,f=c[i]||c.defaultIcon_tips,p=s.introduction,g="".concat(this.props.pathname,"?category=").concat(s.category,"&id=").concat(s.id,"&productLineId=").concat(s.productLineId),m=M.default[t]?n.default.createElement("a",{className:(0,u.default)(a.default.learnMore,"link-color"),href:g,rel:"noopener noreferrer",target:"_blank"},(0,O.getLangMsg)("bosd.controlsPanel.key0005")):n.default.createElement("span",{className:a.default.learnMore},(0,O.getLangMsg)("bosd.controlsPanel.key0006")),y=this.state.options,v=y.delayHide,h=y.delayShow,b=y.delayUpdate,I=this.props.hasTmpCtrls&&Array.isArray(this.props.hasTmpCtrls)&&this.props.hasTmpCtrls.includes(t)?a.default.hasTmp:null,A=(0,u.default)(a.default.text,I);return n.default.createElement("div",{className:a.default.tooltipWrap,"data-design-key":this.props.dataDesignKey},n.default.createElement("div",{"data-for":this.props.ctrl.get("Id"),"data-tip":!0,className:(0,u.default)(L(L({},a.default.ctroitem,!0),a.default.tooltipItem,!0)),onClick:this.props.onClick,onMouseUp:function(t){return e.handleMouseUp()},onMouseLeave:function(t){return e.handleMouseLeave()},onMouseDown:function(t){return e.handleMouseDown()}},n.default.createElement("div",{className:a.default.icon},r?n.default.createElement("i",{className:(0,u.default)(r,a.default.fontIcon)}):n.default.createElement("img",{src:this.state.mouseDown?d:l})),n.default.createElement("div",{className:A},this.props.ctrl.get("name"))),!this.isdragging&&n.default.createElement(E.default,{id:this.props.ctrl.get("Id"),effect:"solid",delayHide:v,delayUpdate:b,delayShow:h,overridePosition:function(e,t,r,n,o,i,a,l){var u=e.left,d=e.top,c=document.documentElement;return u=Math.min(c.clientWidth-r.clientWidth,u),d=Math.min(c.clientHeight-192,d),u=Math.max(0,u),{top:d=Math.max(0,d),left:u}},place:"right",type:"light",className:a.default.controlToolTips},n.default.createElement("div",{className:a.default.tipContainer},n.default.createElement("div",{className:a.default.thumbnail},n.default.createElement("img",{src:f})),n.default.createElement("div",{className:a.default.tipDetail},n.default.createElement("p",{className:(0,u.default)(a.default.tipTitle,"primary-text-in-light")},this.props.ctrl.get("name")),n.default.createElement("div",{className:(0,u.default)(a.default.introduction,"third-text-in-light"),title:p},p),m))))}}]),t}(n.default.Component),q=(0,d.default)(z,!0,!1);t.default=J},533440:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(743924),r(606200),r(534440),r(387912),r(78504),r(776512),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(9692);var o=s(r(795520)),i=s(r(299628)),a=s(r(671252)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}return o.default=e,r&&r.set(e,o),o}(r(373448)),u=s(r(127204)),d=r(331428);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.ctrl,r=e.pathname,n=t.get("Type"),c="".concat(n,"_tips"),s=l[c]||l.defaultIcon_tips,f=u.default[n]||u.default.defaultInfo,p=f.introduction,g="".concat(r,"?category=").concat(f.category,"&id=").concat(f.id,"&productLineId=").concat(f.productLineId),m=u.default[n]?o.default.createElement("a",{className:(0,a.default)(i.default.learnMore,"link-color"),href:g,rel:"noopener noreferrer",target:"_blank"},(0,d.getLangMsg)("bosd.controlsPanel.key0005")):o.default.createElement("span",{className:i.default.learnMore},(0,d.getLangMsg)("bosd.controlsPanel.key0006")),y=function(e){e.stopPropagation()};return o.default.createElement("div",{className:i.default.tipContainer,onClick:y,onMouseDown:y,onMouseUp:y},o.default.createElement("div",{className:i.default.thumbnail},o.default.createElement("img",{src:s})),o.default.createElement("div",{className:i.default.tipDetail},o.default.createElement("p",{className:(0,a.default)(i.default.tipTitle,"primary-text-in-light")},t.get("name")),o.default.createElement("div",{className:(0,a.default)(i.default.introduction,"third-text-in-light")},p),m))}},661524:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(360776),r(505684),r(743924),r(693917),r(205960),r(976896),r(721300),r(846428),r(606200),r(534440),r(387912),r(633768),r(690512),r(78504),r(776512),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(323784),r(835164),r(336368),r(86744);var o=v(r(795520)),i=r(199860),a=m(r(205440)),l=m(r(675824)),u=m(r(533440)),d=m(r(671252)),c=v(r(373448)),s=m(r(535136)),f=m(r(986036)),p=r(65624),g=r(891052);function m(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(y=function(e){return e?r:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=y(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}return o.default=e,r&&r.set(e,o),o}function h(e,t,r){var o;return o=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==n(o)?o:String(o))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],u=!0,d=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){d=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(d)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var A=(0,o.memo)((function(e){var t=e.ctrl,r=e.pathname,n=e.dataDesignKey,s=e.dropdownDatas,m=void 0===s?(0,g.List)([]):s,y=e.addControl,v=b((0,o.useState)(!1),2),I=v[0],A=v[1],E=b((0,o.useState)(!1),2),M=E[0],C=E[1],P=b((0,o.useState)(!1),2),w=P[0],O=P[1],T=t.get(p.TYPE),_=c["".concat(T,"_h")]||c.defaultIcon_h,k=c[T]||c.defaultIcon,S=function(e){return function(t,r){y(Object.assign({},r,h({},p.TYPE,e.get(p.TYPE))),t)}},j=(0,o.useCallback)((function(){return o.default.createElement(i.Dropdown.Menu,null,null==m?void 0:m.map((function(e){return o.default.createElement(f.default,{key:e.get(p.TYPE),"dorp-type":e.get(p.TYPE),"drop-name":e.get(p.CTRL_NAME),dropdownData:e,dropHandle:S(e)})})))}),[m]),N=(0,d.default)(l.default.dorpDownIcon,"kdfont kdfont-xiala",h(h({},l.default.showDropdownItemIcon,M),l.default["dorpDownIcon-active"],w)),F=(0,d.default)(a.default.ctroitem,a.default.tooltipItem,l.default.dropDownBox,h({},l.default["dropDownBox-active"],w));return o.default.createElement("div",{className:a.default.tooltipWrap,"data-design-key":n,onClick:function(e){A(!1);var r=e.target.getAttribute("drop-type")||t.get(p.TYPE),n=e.target.getAttribute("drop-name")||t.get(p.CTRL_NAME);y(r,void 0,n)},onMouseDown:function(e){"dropicon"===e.target.id||e.target.getAttribute("drop-type")||e.target.getAttribute("role")||O(!0)},onMouseUp:function(e){"dropicon"===e.target.id||e.target.getAttribute("drop-type")||e.target.getAttribute("role")||O(!1)}},o.default.createElement(i.Dropdown,{menu:j(),trigger:"click",popperClassName:"dropdown-animation-not",placement:"bottom",visible:M,onVisibleChange:function(e){setTimeout((function(){!e&&C(e)}),0)}},o.default.createElement("div",{"data-for":t.get(p.ID),"data-tip":!0,className:F},o.default.createElement(i.Tooltip,{tip:o.default.createElement(u.default,{ctrl:t,pathname:r}),popperStyle:{maxWidth:420,padding:12},placement:"right",visible:I,mouseEnterDelay:1,mouseLeaveDelay:.5,onVisibleChange:function(e){A(e)}},o.default.createElement("div",null,o.default.createElement("div",{className:l.default.dorpImg,onDragOver:function(){A(!1)}},o.default.createElement("img",{src:w?_:k})),o.default.createElement("div",{className:l.default.dropDownCont},o.default.createElement("div",{className:l.default.dropdownName,title:t.get(p.CTRL_NAME)},t.get(p.CTRL_NAME)),m.size>0&&o.default.createElement("i",{id:"dropicon",className:N,onClick:function(e){e.stopPropagation(),C(!M),A(!1)}})))))))}));t.default=(0,s.default)(A,!0,!1)},986036:function(e,t,r){"use strict";r(606200),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(795520)),o=l(r(535136)),i=r(199860),a=r(65624);function l(e){return e&&e.__esModule?e:{default:e}}t.default=(0,o.default)((function(e){var t=e.dropdownData;return n.default.createElement(i.Dropdown.Item,{key:t.get(a.TYPE)},n.default.createElement("div",{"drop-type":t.get(a.TYPE),"drop-name":t.get(a.CTRL_NAME)},t.get(a.CTRL_NAME)))}),!0,!1)},397140:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(360776),r(743924),r(205960),r(846428),r(336368),r(708896),r(606200),r(670864),r(836887),r(78504),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(9692),r(622676),r(233696),r(443616),r(835164),r(492948),r(927184),r(297336),r(880920),r(387912),r(23544),r(125048),r(660824),r(805720),r(694904),r(997308);var o=I(r(790832)),i=I(r(795520)),a=r(891052),l=I(r(139224)),u=r(373448),d=I(r(688188)),c=I(r(70728)),s=r(489912),f=r(65624),p=I(r(864792)),g=I(r(250552)),m=r(477100),y=I(r(937344)),v=I(r(671252)),h=r(974184),b=(r(438728),r(331428));function I(e){return e&&e.__esModule?e:{default:e}}function A(){return A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A.apply(this,arguments)}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,P(n.key),n)}}function C(e,t,r){return t&&M(e.prototype,t),r&&M(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function P(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:String(t)}function w(e,t,r){return t=_(t),function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return O(e)}(e,T()?Reflect.construct(t,r||[],_(e).constructor):t.apply(e,r))}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(T=function(){return!!e})()}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}function k(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S(e,t)}function S(e,t){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},S(e,t)}var j="toolbar",N=function(e){function t(e){var r;return E(this,t),(r=w(this,t,[e])).insertControl=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.props,i=n.select_control_id,a=n.uiInfo,l=n.uiConfig,u=s.uiModel.getFormFieldInfo(a,i),d=u.get(f._TYPE_);(o.default.endsWith(d,"Grid")||o.default.endsWith(d,"Column")||o.default.endsWith(d,"Row")||o.default.endsWith(d,"Cell"))&&(o.default.startsWith(d,"Data")?t.Type="Data"+e:o.default.startsWith(d,"SubData")?t.Type="SubData"+e:(delete t.RowType,t.Type="Layout"+e),r.props.addControl(u.get("Id"),t,l,u),r.hideInserDialog&&r.hideInserDialog())},r.hideInserDialog=function(){r.setState({isShowInserDialog:!1})},r.showInserDialog=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r.insertInfo=t,r.setState({isShowInserDialog:!0,inserDialogType:e||"Row"})},r.handleTemplateClick=function(){var e=r.props,t=e.designerType,n=e.changeTemplateData,o=e.changeShowPanleType,i=e.changeOriginUiInfo,l=e.uiInfo,u=void 0===l?(0,a.Map)():l;"MobileBillFormAp"===t?i&&i(u):o&&o(0);var d="metatemplate/getTemplates.do?templateType="+t;return d="".concat(d,"&random=").concat(Math.random()),y.default.postApi(d).then((function(e){n&&n(e)})).catch((function(e){}))},e.isPC?r.state={itemWidth:68,itemHeight:56,isShowInserDialog:!1,inserDialogType:""}:r.state={itemWidth:80,itemHeight:60,isShowInserDialog:!1,inserDialogType:""},r}return k(t,e),C(t,[{key:"componentDidMount",value:function(){var e=this;this.resizeObserveMobile=(0,l.default)(document.body,(function(t){var r=t.width;e.props.isPC||e.reSetLiMobile(r)}))}},{key:"componentWillUnmount",value:function(){this.resizeObserveMobile&&this.resizeObserveMobile.removeResizeObserve()}},{key:"reSetLiPC",value:function(e){if(this.refs.toolbar){var t=68,r=56;e<450?(t=40,r=42):e<650?(t=45,r=45):e<850?(t=53,r=50):e<1050&&(t=60,r=52),t!=this.state.itemWidth&&this.setState({itemWidth:t,itemHeight:r})}}},{key:"reSetLiMobile",value:function(e){var t=80,r=60;e<1050&&(t=55,r=50),t!=this.state.itemWidth&&this.setState({itemWidth:t,itemHeight:r})}},{key:"getAllTableRowOrColumnIds",value:function(e,t){var r=["DataColumn","LayoutColumn","SubDataColumn"];return"height"===t&&(r=["DataRow","LayoutRow","SubDataRow"]),e.filter((function(e){return r.includes(e.get("Type"))})).map((function(e){return e.get("Id")}))}},{key:"getAverageWidthOrHeight",value:function(e,t,r,n){var o=0,i="Width";return"height"===t&&(i="Height"),e.forEach((function(e){o=(parseFloat(s.uiModel.getPropertyValue(n,e,i,f.FORMMETA,r))||0)+o})),(0,m.toFloorFix)(o/e.size,1)}},{key:"setAlignment",value:function(e){var t=this.props,r=t.select_control_ids,n=t.uiInfo,o=t.uiConfig,i=t.updatePropValue;if(!((r=r||(0,a.List)()).size<=1&&"width"!==e&&"height"!==e)){var l=r.get(0),u=r.shift(0),d=[],c=s.uiModel.getPropertyValue(n,l,"Y",f.FORMMETA,o),g=s.uiModel.getPropertyValue(n,l,"X",f.FORMMETA,o),m=s.uiModel.getPropertyValue(n,l,"Height",f.FORMMETA,o),y=s.uiModel.getPropertyValue(n,l,"Width",f.FORMMETA,o);c=parseFloat(c)||0,g=parseFloat(g)||0,y=parseFloat(y)||0,m=parseFloat(m)||0;var v=c+m,h=g+y,b=s.uiModel.getPropertyValue(n,l,"_Type_",f.FORMMETA,o);if(("DataGrid"===b||"LayoutGrid"===b||"SubDataGrid"===b)&&1===r.size){var I=p.default.byId(n,l),A=n.getIn(I.concat("Items"));u=this.getAllTableRowOrColumnIds(A,e);var E=this.getAverageWidthOrHeight(u,e,o,n);"width"===e?y=E:"height"===e&&(m=E)}u.forEach((function(t){var r=s.uiModel.getPropertyValue(n,t,"Y",f.FORMMETA,o),i=s.uiModel.getPropertyValue(n,t,"X",f.FORMMETA,o),a=s.uiModel.getPropertyValue(n,t,"Width",f.FORMMETA,o),l=s.uiModel.getPropertyValue(n,t,"Height",f.FORMMETA,o);switch(r=parseFloat(r)||0,i=parseFloat(i)||0,a=parseFloat(a)||0,l=parseFloat(l)||0,e){case"t":d.push({fieldId:t,propName:"Y",value:c+"mm",metaType:f.FORMMETA});break;case"b":r=v-l,d.push({fieldId:t,propName:"Y",value:r+"mm",metaType:f.FORMMETA});break;case"l":d.push({fieldId:t,propName:"X",value:g+"mm",metaType:f.FORMMETA});break;case"r":i=h-a,d.push({fieldId:t,propName:"X",value:i+"mm",metaType:f.FORMMETA});break;case"h":r=c+m/2-l/2,d.push({fieldId:t,propName:"Y",value:r+"mm",metaType:f.FORMMETA});break;case"v":i=g+y/2-a/2,d.push({fieldId:t,propName:"X",value:i+"mm",metaType:f.FORMMETA});break;case"width":d.push({fieldId:t,propName:"Width",value:y+"mm",metaType:f.FORMMETA});break;case"height":d.push({fieldId:t,propName:"Height",value:m+"mm",metaType:f.FORMMETA})}})),d.length>0&&i&&i(d,o)}}},{key:"setControlLayout",value:function(e){var t=this.props,r=t.select_control_ids,n=t.select_control_id,o=t.uiInfo,i=t.uiConfig,l=t.updatePropValue,u=r.size>0?r:(0,a.List)([n]),d=[],c=s.uiModel.getRootId(o);u.forEach((function(t){var r=s.uiModel.getPropertyValue(o,t,"Width",f.FORMMETA,i),a=s.uiModel.getPropertyValue(o,t,"Height",f.FORMMETA,i);r=parseFloat(r)||0,a=parseFloat(a)||0;var l=s.uiModel.getParentControl(o,n).get("Id"),u=s.uiModel.getPropertyValue(o,l,"Width",f.FORMMETA,i),p=s.uiModel.getPropertyValue(o,l,"Height",f.FORMMETA,i);if(u=parseFloat(u)||0,p=parseFloat(p)||0,l==c){var g=s.uiModel.getPropertyValue(o,c,"MarginLeft",f.FORMMETA,i),m=s.uiModel.getPropertyValue(o,c,"MarginRight",f.FORMMETA,i),y=s.uiModel.getPropertyValue(o,c,"MarginTop",f.FORMMETA,i),v=s.uiModel.getPropertyValue(o,c,"MarginBottom",f.FORMMETA,i);g=parseFloat(g)||0,y=parseFloat(y)||0,u=u-g-(m=parseFloat(m)||0),p=p-y-(v=parseFloat(v)||0)}switch(e){case"h":var h=u/2-r/2;d.push({fieldId:t,propName:"X",value:h+"mm",metaType:f.FORMMETA});break;case"v":var b=p/2-a/2;d.push({fieldId:t,propName:"Y",value:b+"mm",metaType:f.FORMMETA})}})),d.length>0&&l&&l(d,i)}},{key:"setEqualGapLayout",value:function(e){var t=this.props,r=t.select_control_ids,n=t.uiInfo,i=t.uiConfig,a=t.updatePropValue;if(!(r.size<3)){var l=0,u=r.map((function(t){var r=s.uiModel.getPropertyValue(n,t,"Width",f.FORMMETA,i);if(r=parseFloat(r)||0,"d"===e)return l+=r,{x:parseFloat(s.uiModel.getPropertyValue(n,t,"X",f.FORMMETA,i))||0,w:r,id:t}})),d=this.quickSort(u.toJS()),c=d.length,p=d.shift(),g=d.pop(),m=g.x+g.w-p.x-l;if(o.default.isNumber(m)&&m>0){var y=m/(c-1),v=d.reduce((function(e,t){var r=p.x+p.w+y;return e.push({fieldId:t.id,propName:"X",value:r+"mm",metaType:f.FORMMETA}),t.x=r,p=t,e}),[]);v.length>0&&a&&a(v,i)}}}},{key:"quickSort",value:function(e){if(e.length<=1)return e;for(var t=Math.floor(e.length/2),r=e.splice(t,1)[0],n=[],o=[],i=0;i<e.length;i++){var a=e[i];a.x+a.w<r.x+r.w?n.push(a):o.push(a)}return this.quickSort(n).concat([r],this.quickSort(o))}},{key:"mergeCells",value:function(){var e=this.props,t=e.select_control_ids,r=void 0===t?(0,a.List)():t,n=e.uiInfo,o=e.uiConfig;if(!(r.size<=1)){var i=s.printModel.getGridInfo(n,r.first());if(i){var l=s.printModel.mergeCells(n,r);l&&l.type?this.props.throwOperateInfo(l):l?this.props.updatePropValue(i.get(f.ID),"MergeBlocks",l,"formmeta",o):this.props.throwOperateInfo({type:"info",message:(0,b.getLangMsg)("bosd.editToolBar.key0001")})}}}},{key:"splitCells",value:function(){var e=this.props,t=e.select_control_id,r=e.select_control_ids,n=e.uiInfo,o=e.uiConfig,i=s.printModel.getGridInfo(n,t);if(i){var a=s.printModel.splitCells(n,r);a&&this.props.updatePropValue(i.get(f.ID),"MergeBlocks",a,"formmeta",o)}}},{key:"renderPrintToolBar",value:function(e,t,r,n,o){var a=this;return i.default.createElement("ul",{className:c.default.layout,style:{margin:"0 10px"}},i.default.createElement(F,{style:e,icon:u.alignment,text:(0,b.getLangMsg)("bosd.editToolBar.key0002")},i.default.createElement(F,{icon:u.alignment_center,text:(0,b.getLangMsg)("bosd.editToolBar.key0003"),onClick:function(e){return a.setAlignment("t")}}),i.default.createElement(F,{icon:u.alignment_center,text:(0,b.getLangMsg)("bosd.editToolBar.key0004"),onClick:function(e){return a.setAlignment("b")}}),i.default.createElement(F,{icon:u.alignment_left,text:(0,b.getLangMsg)("bosd.editToolBar.key0005"),onClick:function(e){return a.setAlignment("l")}}),i.default.createElement(F,{icon:u.alignment_right,text:(0,b.getLangMsg)("bosd.editToolBar.key0006"),onClick:function(e){return a.setAlignment("r")}}),i.default.createElement(F,{icon:u.alignment_right,text:(0,b.getLangMsg)("bosd.editToolBar.key0007"),onClick:function(e){return a.setAlignment("v")}}),i.default.createElement(F,{icon:u.alignment_right,text:(0,b.getLangMsg)("bosd.editToolBar.key0008"),onClick:function(e){return a.setAlignment("h")}})),i.default.createElement(F,{style:e,icon:u.layout,text:(0,b.getLangMsg)("bosd.editToolBar.key0009")},i.default.createElement(F,{icon:u.layout_v_center,text:(0,b.getLangMsg)("bosd.editToolBar.key0010"),onClick:function(e){return a.setControlLayout("v")}}),i.default.createElement(F,{icon:u.layout_h_center,text:(0,b.getLangMsg)("bosd.editToolBar.key0011"),onClick:function(e){return a.setControlLayout("h")}}),i.default.createElement(F,{icon:u.layout_h_center,text:(0,b.getLangMsg)("bosd.editToolBar.key0012"),onClick:function(e){return a.setEqualGapLayout("d")}})),i.default.createElement(F,{style:e,icon:u.equal,text:(0,b.getLangMsg)("bosd.editToolBar.key0013")},i.default.createElement(F,{icon:u.equal_width,text:(0,b.getLangMsg)("bosd.editToolBar.key0014"),onClick:function(e){return a.setAlignment("width")}}),i.default.createElement(F,{icon:u.equal_height,text:(0,b.getLangMsg)("bosd.editToolBar.key0015"),onClick:function(e){return a.setAlignment("height")}})),o?i.default.createElement(F,{style:e,icon:u.insert,width:120,text:(0,b.getLangMsg)("bosd.editToolBar.key0016")},!0!==n?i.default.createElement(F,{icon:u.insert_row,text:(0,b.getLangMsg)("bosd.editToolBar.key0017"),onClick:function(e){return a.showInserDialog("Row",{RowType:"normal"})}}):null,i.default.createElement(F,{icon:u.insert_column,text:(0,b.getLangMsg)("bosd.editToolBar.key0018"),onClick:function(e){return a.showInserDialog("Column")}}),!0===t?i.default.createElement(F,{icon:u.insert_row,text:(0,b.getLangMsg)("bosd.editToolBar.key0019"),onClick:function(e){return a.insertControl("Row",{RowType:"extend"})}}):null,!0===t?i.default.createElement(F,{icon:u.insert_row,text:(0,b.getLangMsg)("bosd.editToolBar.key0020"),onClick:function(e){return a.insertControl("Row",{RowType:"group"})}}):null):null)}},{key:"render",value:function(){var e=this,t=this.props,r=t.select_control_id,n=t.select_control_ids,o=t.format_control_id,l=t.isPC,f=t.history,p=t.uiInfo,m=void 0===p?(0,a.Map)():p,y=t.uiConfig,h=t.showPanelType,I=t.auxiliaryLine,A=t.designerType,E=n.size>0?n:r,M=this.state,C=M.isShowInserDialog,w=M.inserDialogType,O=this.context,T=O.disableDelete,_=O.permissions,k=f.get("curIndex"),S=f.get("undos",(0,a.List)()),N=null==k||k<=0,D=null==k||S.size-1<=k,L={};l?(L.padding="0 4px",L.minWidth="60px"):(L.width=this.state.itemWidth,L.height=this.state.itemWidth);var x={height:this.state.itemHeight},B=void 0===h?{}:{display:"none"},R=null;if(l){var V=this.props.shareState.get("max_win",!1);R=i.default.createElement("ul",{className:c.default.layout},i.default.createElement("li",{style:L,onClick:function(){return e.props.maxWin(!V)}},i.default.createElement("img",{src:V?u.min:u.max,className:c.default.maxormin})))}var U,W,K,Y=i.default.createElement("ul",{className:(0,v.default)(c.default.layout,(U={},W=c.default["layout-mobile"],K=!l,(W=P(W))in U?Object.defineProperty(U,W,{value:K,enumerable:!0,configurable:!0,writable:!0}):U[W]=K,U))},i.default.createElement("li",{onClick:function(){return e.props.showAuxiliaryLine(!I)},className:l?c.default["auxiliary-line"]:c.default["auxiliary-line-mobile"]},i.default.createElement("img",{src:I?u.checked:u.unchecked}),i.default.createElement("span",null,(0,b.getLangMsg)("bosd.editToolBar.key0021")))),Q=s.printModel.isPrintModel(m),G=s.printModel.isCell(m,r),H=s.printModel.isTargetGrid(m,r,"DataGrid"),J=s.printModel.isTargetRowType(m,{cellId:r,targetType:"extend"}),z=s.printModel.isTargetRowType(m,{cellId:r,targetType:"detail"}),q=s.uiModel.isTargetCtrls(m,r,["Cell","Row","Column"]),X=s.uiModel.isTargetCtrls(m,r,["Row","Column"]),Z=(0,v.default)(l?c.default.sideBar:c.default.mobilesideBar),$=(0,v.default)(o?c.default["li-active"]:"","bos-guide-formatpainter"),ee=(0,v.default)(T&&c.default["disabled-toolbar"]),te={template:!l&&"MobileUserGuideFormAp"!==A,repeat:_.repeat&&!q,delete:_.delete,moveUp:_.moveUp&&!Q,moveDown:_.moveDown&&!Q,undo:_.undo,redo:_.redo,cut:_.cut&&!q,copy:_.copy&&!X,paste:_.paste&&!X,brush:_.brush};return i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{ref:"toolbar",style:l?x:B,className:Z},i.default.createElement("ul",{className:(0,v.default)(c.default.layout,"bos-guide-toolbar"),style:{flexGrow:1}},te.template&&i.default.createElement(F,{className:"bos-guide-template",style:L,icon:d.default,text:(0,b.getLangMsg)("bosd.editToolBar.key0022"),designKey:"".concat(j,":template"),onClick:this.handleTemplateClick}),te.repeat&&i.default.createElement(F,{className:ee,style:L,icon:u.repeat,text:(0,b.getLangMsg)("bosd.editToolBar.key0023"),designKey:"".concat(j,":copyAndAdd"),onClick:function(){return!T&&e.props.copyAndAdd(r,r,y)}}),te.delete&&i.default.createElement(F,{className:ee,style:L,icon:u.del,text:(0,b.getLangMsg)("bosd.editToolBar.key0024"),designKey:"".concat(j,":delete"),onClick:function(){return!T&&e.props.deleteControl(E)}}),te.moveUp&&i.default.createElement(F,{style:L,icon:u.up,text:(0,b.getLangMsg)("bosd.editToolBar.key0025"),designKey:"".concat(j,":moveUp"),onClick:function(){return e.props.moveControl("up")}}),te.moveDown&&i.default.createElement(F,{style:L,icon:u.down,text:(0,b.getLangMsg)("bosd.editToolBar.key0026"),designKey:"".concat(j,":moveDone"),onClick:function(){return e.props.moveControl("down")}}),te.undo&&i.default.createElement(F,{style:L,icon:u.undo,text:(0,b.getLangMsg)("bosd.editToolBar.key0027"),designKey:"".concat(j,":undo"),onClick:function(){return N?null:e.props.undo()}}),te.redo&&i.default.createElement(F,{style:L,icon:u.redo,text:(0,b.getLangMsg)("bosd.editToolBar.key0028"),designKey:"".concat(j,":redo"),onClick:function(){return D?null:e.props.redo()}}),te.cut&&i.default.createElement(F,{className:ee,style:L,icon:u.cut,text:(0,b.getLangMsg)("bosd.editToolBar.key0029"),designKey:"".concat(j,":cut"),onClick:function(){return!T&&e.props.cutControl(E)}}),te.copy&&i.default.createElement(F,{className:"bos-guide-copy ".concat(ee),style:L,icon:u.copy,text:(0,b.getLangMsg)("bosd.editToolBar.key0030"),designKey:"".concat(j,":copy"),onClick:function(){return!T&&e.props.copyControl(E)}}),te.paste&&i.default.createElement(F,{style:L,icon:u.paste,text:(0,b.getLangMsg)("bosd.editToolBar.key0031"),designKey:"".concat(j,":paste"),onClick:function(){return e.props.pasteControl(r,y)}}),te.brush&&i.default.createElement(F,{style:L,className:$,icon:u.brush,text:(0,b.getLangMsg)("bosd.editToolBar.key0032"),designKey:"".concat(j,":format"),onClick:function(){return e.props.setFormatInfo(o?"":r,!1)},onDoubleClick:function(){return e.props.setFormatInfo(r,!0)}}),G&&!J?i.default.createElement(F,{style:L,icon:u.split_cell,text:(0,b.getLangMsg)("bosd.editToolBar.key0033"),designKey:"".concat(j,":splitCells"),onClick:function(){return e.splitCells()}}):null,G?i.default.createElement(F,{style:L,icon:u.merge_cell,text:(0,b.getLangMsg)("bosd.editToolBar.key0034"),designKey:"".concat(j,":mergeCells"),onClick:function(){return e.mergeCells()}}):null),Q?this.renderPrintToolBar(L,H,z,J,q):null,Q&&C?i.default.createElement(g.default,{isShowInserDialog:C,inserDialogType:w,hideInserDialog:this.hideInserDialog,insertControl:this.insertControl,insertInfo:this.insertInfo}):null,l&&Y,R),!l&&void 0===h&&Y)}}]),t}(i.default.Component);N.contextType=h.EdituiContext;var F=function(e){function t(e){var r;return E(this,t),(r=w(this,t,[e])).state={show:!1},r.onMouseEnter=r.onMouseEnter.bind(O(r)),r.onMouseLeave=r.onMouseLeave.bind(O(r)),r}return k(t,e),C(t,[{key:"bindEvent",value:function(e){var t=this;e&&(this.props.onClick&&(e.onclick=function(e){return t.props.onClick(e)}),this.props.onDoubleClick&&(e.ondblclick=function(e){return t.props.onDoubleClick(e)}))}},{key:"onMouseEnter",value:function(e){var t=this.refs.li.parentNode;this.setState({show:!0,top:t.offsetHeight})}},{key:"onMouseLeave",value:function(e){this.setState({show:!1})}},{key:"render",value:function(){var e,t=this,r=this.props,n=r.icon,o=r.text,a=r.style,l=r.className,u=r.children,d=r.width,s=r.designKey,f={};return u?(f.ref="li",f.onMouseEnter=this.onMouseEnter,f.onMouseLeave=this.onMouseLeave,e={display:"none"},this.state.show&&(e.display="block",e.top=this.state.top||"0px"),d&&(e.width=d+"px"),u=i.default.createElement("ul",{className:c.default.dropdown,style:e},u)):f.ref=function(e){return t.bindEvent(e)},i.default.createElement("li",A({style:a,className:l,"data-design-key":s},f),i.default.createElement("img",{src:n}),i.default.createElement("span",null,o),u)}}]),t}(i.default.Component);t.default=N},300288:function(e,t,r){"use strict";r(182320),r(909112),r(697060),r(360776),r(505684),r(323784),r(693917),r(205960),r(976896),r(721300),r(846428),r(708896),r(969e3),r(606200),r(534440),r(76152),r(670864),r(836887),r(633768),r(690512),r(776512),Object.defineProperty(t,"__esModule",{value:!0}),t.EdituiContainer=void 0,r(622676),r(305092),r(233696),r(443616),r(241872),r(743924),r(835164),r(297336),r(70472),r(336368),r(76124),r(880920),r(387912),r(23544),r(125048),r(660824),r(78504),r(997308),r(977864),r(86744),r(589089);var n=$(r(540900)),o=Z(r(795520)),i=r(330936),a=r(77612),l=$(r(790832)),u=r(891052),d=Z(r(211152)),c=r(482816),s=$(r(317760)),f=$(r(994212)),p=$(r(360800)),g=$(r(599864)),m=$(r(397140)),y=$(r(160512)),v=r(489912),h=r(65624),b=r(438728),I=Z(r(46932)),A=$(r(470284)),E=r(463108),M=$(r(127360)),C=$(r(50988)),P=$(r(802660)),w=$(r(641396)),O=$(r(243708)),T=$(r(411120)),_=$(r(860213)),k=$(r(687096)),S=r(218652),j=r(974184),N=r(884464),F=r(497548),D=r(441108),L=Z(r(212352)),x=r(674260),B=r(738704),R=r(811596),V=r(520372),U=r(635779),W=r(331428),K=r(589200),Y=r(545072),Q=r(681868),G=r(445200),H=r(868256),J=r(438728),z=$(r(163084)),q=$(r(240872));function X(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(X=function(e){return e?r:t})(e)}function Z(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=ee(e)&&"function"!=typeof e)return{default:e};var r=X(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}function $(e){return e&&e.__esModule?e:{default:e}}function ee(e){return ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ee(e)}function te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?te(Object(r),!0).forEach((function(t){ne(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):te(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ne(e,t,r){return(t=le(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],u=!0,d=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){d=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(d)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ie(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ie(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,le(n.key),n)}}function le(e){var t=function(e,t){if("object"!=ee(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ee(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ee(t)?t:String(t)}function ue(e,t,r){return t=ce(t),function(e,t){if(t&&("object"===ee(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return se(e)}(e,de()?Reflect.construct(t,r||[],ce(e).constructor):t.apply(e,r))}function de(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(de=function(){return!!e})()}function ce(e){return ce=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ce(e)}function se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fe(e,t){return fe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},fe(e,t)}var pe=function(e){function t(e,r){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=ue(this,t,[e,r])).invokeControlMethods=function(e){e.forEach((function(e){var t=e.methodname,r=e.args;switch(t){case Q.SHOW_JS_SCRIPT_EDITOR:n.showJSScriptEditor(r);break;case Q.SHOW_JS_SCRIPT_MANAGER:n.showJSScriptManager()}}))},n.onKeyDown=function(e){if((e.ctrlKey||e.metaKey)&&e.altKey&&"KeyT"===e.code){var t=n.props.ui.get("uiInfo"),r=n.props.ui.get("select_control_id"),o=v.uiModel.getUIFieldInfo(t,r).toJS(),i=v.uiModel.getFormmeta(t).toJS(),a=(0,N.convertUiInfo2Template)(o,i),l=new window.Blob([JSON.stringify(a)],{type:""});(0,F.saveAs)(l,"template.json")}},n.refreshAllControls=function(e){!0===e&&n.props.refreshAllControls&&n.props.refreshAllControls()},n.doDelete=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=n.props,r=t.deleteControl,o=t.uiConfig;e[0]&&r(e[0],o)},n.changeTemplateData=function(e){n.setState({templateData:e})},n.changeShowPanleType=function(e){n.setState({showPanelType:e})},n.changeOriginUiInfo=function(e){n.setState({originUiInfo:e,showPanelType:0})},n.changeActiveTempInfo=function(e){n.setState({activeTempInfo:e})},n.setFormMappingData=function(e){n.setState({formMappingData:e})},n.showGuide=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;n.setState({showGuideType:e})},n.toggleShowAuxiliaryLine=function(){"true"!==L.default.get(L.KD_AUXILIARY_LINE)?L.default.set(L.KD_AUXILIARY_LINE,"true"):L.default.set(L.KD_AUXILIARY_LINE,"false"),n.forceUpdate()},n.deleteConfirm=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,u.List)(),t=n.props.ui.get("uiInfo"),r=e.map((function(e){var r=v.uiModel.getFieldInfo(t,e,h.FORMMETA),n=r.get(h.KEY),o=r.get(h._TYPE_);return{key:n,id:e,isEntity:V.entryApRelatedEntity.includes(o)}}));n.context.invokeAction(n.context.model,"deleteConfirm",[r])},n.showJSScriptEditor=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if("ie"!==(0,K.getBrowserData)()){var t=n.props.ui.get("uiInfo");if(t.get("isv")===t.getIn([h.FORMMETA,"Isv"]))n.setState({showScriptEditor:!0},(function(){var t=oe(e,1)[0],r=t.isInternal,n=t.content,o=(0,d.getGlobalState)().get("rootPageId");r&&(0,B.setPageData)(o,[G.JAVASCRIPT_EDITOR,G.JUMP_TO_POSITION],{content:n})}));else{var r=t.getIn([h.FORMMETA,h.ITEMS]).find((function(e){return e.get(h._TYPE_).endsWith("FormAp")})).getIn([h.JS_PLUGINS])||(0,u.List)(),o=t.getIn([h.FORMMETA,"Id"]),i=r.find((function(e){return oe(e.get("ClassName").split("_"),1)[0]===o})),a=null==i?void 0:i.get("FPK");n.setState({scriptId:a})}}else(0,y.default)({msg:(0,W.getLangMsg)("Confirm.unsupportIE"),confirmType:4})},n.showJSScriptManager=function(){"ie"!==(0,K.getBrowserData)()?n.setState({showScriptManager:!0}):(0,y.default)({msg:(0,W.getLangMsg)("Confirm.unsupportIE"),confirmType:4})},n.handleCloseEditor=function(){n.setState({showScriptEditor:!1})},n.handleCloseManager=function(){n.setState({showScriptManager:!1})},n.handleCloseViewer=function(){n.setState({scriptId:""})},n.getBizAppId=function(){var e,t,r=(0,d.getGlobalState)(),n=(0,S.getRootPageId)()(r),o=(0,S.getDataProperty)(n,"formdesigner","open_args")(r);return null!==(e=null==o||null===(t=o[2])||void 0===t?void 0:t.bizappid)&&void 0!==e?e:""},n.state={originUiInfo:(0,u.Map)(),templateData:[],activeTempInfo:{},showPanelType:void 0,showGuideType:-1,formMappingData:(0,u.List)(),showScriptEditor:!1,showScriptManager:!1,scriptId:""},n.save=n.save.bind(se(n)),n.createUIElement=n.createUIElement.bind(se(n)),n.createEntityElement=n.createEntityElement.bind(se(n)),n.removeUIElements=n.removeUIElements.bind(se(n)),n.addEntityControl=n.addEntityControl.bind(se(n)),n.resetSideBar=n.resetSideBar.bind(se(n)),n.showErrorList=n.showErrorList.bind(se(n)),n.handleOpenArgs=n.handleOpenArgs.bind(se(n)),n.addControl=n.addControl.bind(se(n)),n.notifyMsg=A.default.bind(null,n.context.model.pageId),n.customContext={value:{}},n.handleAddControlNotifyTobackend=n.handleAddControlNotifyTobackend.bind(se(n)),n}var r,n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fe(e,t)}(t,e),r=t,n=[{key:"componentDidMount",value:function(){var e=this;this.removeValidateEventListener=(0,x.addDataChangeListener)(H.KEY_VALIDATE_EVENT,(function(t){var r=t.pageId;(void 0===r?"":r)===e.context.model.pageId&&e.save()}));var t=this.context.model,r=t.pageId,n=t.key;this.removeDirectivesListener=(0,B.subscribeControlMethod)(r,n,"directives",(function(t){void 0!==t&&e.invokeControlMethods(t)})),this.handleOpenArgs(this.props.openArgs),this.context.model.sub_Event("createUIElement",this.createUIElement),this.context.model.sub_Event("createEntityElement",this.createEntityElement),this.context.model.sub_Event("removeUIElements",this.removeUIElements),this.context.model.sub_Event("resetSideBar",this.resetSideBar),this.context.model.sub_Event("showErrorList",this.showErrorList),this.context.model.sub_Event("batchSetPropValueFinished",this.refreshAllControls),this.context.model.sub_Event("doDelete",this.doDelete);var o={};o.clearDirtyData=this.props.clearDirtyData,d.default[d.KD_DESIGNER_TOOL]=o,document.addEventListener("keydown",this.onKeyDown);var i=v.uiModel.getDesignerPermissions(this.props.disableFeatures),a=v.uiModel.getPropertyViewsVisibility(this.props.hidePropertyViews);this.customContext.value=re({addControl:this.props.addControl,notifyMsg:this.notifyMsg,fileserver:this.props.fileserver,pushUndo:this.props.pushUndo,dragOverControl:this.props.dragOverControl,switchToFlatPanel:this.props.switchToFlatPanel,addEntityControl:this.addEntityControl,deleteControl:this.props.deleteControl,deleteConfirm:this.deleteConfirm,selectControl:this.props.selectControlId,showGuide:this.showGuide,moveControl:this.props.moveControl,auxiliaryLine:"true"===L.default.get(L.KD_AUXILIARY_LINE),updatePropValue:this.props.updatePropValue,copyAndAdd:this.props.copyAndAdd,permissions:i,propertyViewsVisibility:a},this.context)}},{key:"componentWillUnmount",value:function(){var e;this.removeValidateEventListener&&this.removeValidateEventListener(),null===(e=this.removeDirectivesListener)||void 0===e||e.call(this),document.removeEventListener("keydown",this.onKeyDown)}},{key:"componentWillReceiveProps",value:function(e){var t;(0,u.is)(this.props.openArgs,e.openArgs)||this.handleOpenArgs(e.openArgs);var r=e.ui,n=e.uiConfig,o=null==r?void 0:r.get("select_control_id"),i=null===(t=this.props.ui)||void 0===t?void 0:t.get("select_control_id");if(r&&n&&i!==o){var a=r.get("uiInfo"),l=v.uiModel.getUIFieldInfo(a,o);if(a&&o&&l){var d=l.get(h.TYPE),c=l.get(h.FieldType);if("FieldAp"===d&&"RadioGroupField"===c){var s=[c,d];d=s[0],c=s[1]}var f=v.metadataModel.getConfigFieldByType(n,o,d,c),p=f&&f.get("disableDelete");this.customContext.value.disableDelete=p,this.handleAddControlNotifyTobackend(a,n)}}(0,u.is)(this.props.disableFeatures,e.disableFeatures)||(this.customContext.value.permissions=v.uiModel.getDesignerPermissions(e.disableFeatures)),(0,u.is)(this.props.hidePropertyViews,e.hidePropertyViews)||(this.customContext.value.propertyViewsVisibility=v.uiModel.getPropertyViewsVisibility(e.hidePropertyViews))}},{key:"shouldComponentUpdate",value:function(){return!0}},{key:"handleAddControlNotifyTobackend",value:function(e,t){var r=this,n=v.uiModel.getFormmeta(e),o=e.getIn(["entitymeta",h.ITEMS,0,"Operations"],(0,u.List)()),i=v.uiModel.getRootId(e),a=new window.Map;n.forEach((function(e){var l=e.getIn(["afterAddControlNotify"]);if(l){var u=l.get("controlId"),d=n.find((function(e){return e.get("Id")===u})).get("EntryId"),c=l.get("type");if(a.has(u)||a.set(u,{data:[],operations:o}),["CardEntryAp","SubCardEntryAp","EntryEntity","SubEntryEntity"].includes(c)){if(["CardEntryRowAp"].includes(e.get(h.TYPE))){var s=a.get(u);s.data.push({entryId:d,rootId:i,controlType:c,setAttr:{id:e.get(h.ID),prop:"CardOperationBar",type:["deleteentry"]}}),a.set(u,s)}if(["MBarItemAp"].includes(e.get(h.TYPE))){var f=a.get(u);f.data.push({entryId:d,rootId:i,controlType:c,setAttr:{id:e.get(h.ID),prop:"OperationKey",type:["newentry"]}}),a.set(u,f)}r.props.updatePropValue(e.get(h.ID),"afterAddControlNotify",void 0,h.FORMMETA,t)}}})),a.forEach((function(e,t){r.context.invokeAction(r.context.model,"afterAddControlNotify",[e])})),a.clear()}},{key:"fetchUiMetadata",value:function(e,t){e&&(this.props.fetchUiMetadata(e,t),L.default.set(L.KD_GET_METADATA,"true"))}},{key:"save",value:function(){var e=this,t=this.context.model,r=t.pageId,n=this.props.ui.get("uiInfo");if(n){var o,i,a,l,u=n.filterNot((function(e,t){return"ui"===t||"entitytree"===t||"entitymeta"===t&&!0===e.get("Readonly")})).updateIn([h.FORMMETA,h.ITEMS],(function(t){return t.map((function(t){var r=t.get(h._TYPE_),n=t.get("Style");return n&&(0,c.isDefaultValue)(e.props.uiConfig,r,"Style",n.delete(h._TYPE_))?t.delete("Style"):t}))})),d=(0,B.getPageData)(r,Y.KDBASE64),s=(0,B.getPageData)(r,Y.ENCODE_DEFAULT_KEYS);if((null==s?void 0:s.length)>0)(null===(o=(u=u.toJS()).entitymeta)||void 0===o?void 0:o.Items)&&(0,R.encodeDesignerValue)(null===(i=u.entitymeta)||void 0===i?void 0:i.Items,s),(null===(a=u.formmeta)||void 0===a?void 0:a.Items)&&(0,R.encodeDesignerValue)(null===(l=u.formmeta)||void 0===l?void 0:l.Items,s);else if((null==d?void 0:d.length)>0){var f,p,g,m;(null===(f=(u=u.toJS()).entitymeta)||void 0===f?void 0:f.Items)&&(0,R.encodeDesignerRule)(null===(p=u.entitymeta)||void 0===p?void 0:p.Items,d),(null===(g=u.formmeta)||void 0===g?void 0:g.Items)&&(0,R.encodeDesignerRule)(null===(m=u.formmeta)||void 0===m?void 0:m.Items,d)}this.context.setPostControlValue(t,u),this.context.setValidMessage(r,{success:!0,key:t.key}),this.setState({errorInfos:[]})}}},{key:"handleOpenArgs",value:function(e){if(e){var t=oe(e,3),r=t[0],n=t[1],o=t[2];this.isPC=n,l.default.isEmpty(o)?console.error("ui data is null"):this.props.setUiInfo(o),this.fetchUiMetadata(r,this.context.clientParams)}else console.warn("没有收到Open 数据")}},{key:"resetSideBar",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.setState({sideBarMenuList:e[0]})}},{key:"showErrorList",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[])[0]||[];this.setState({errorInfos:e})}},{key:"removeUIElements",value:function(){var e=this,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[])[0],r=this.props.ui.get("uiInfo",(0,u.Map)());if(!r||0===r.size)return null;v.uiModel.getUIFieldInfo(r,t).get(h.ITEMS,(0,u.List)()).forEach((function(t){var r=t.get(h.ID);r&&e.props.deleteControl(r,e.props.uiConfig)}))}},{key:"createUIElement",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e[0],r=e[1];if(null!=r.TargetIndex&&r.TargetIndex>=0&&(t.TargetIndex=r.TargetIndex),t.ParentId=t.ParentId||r.Id,"MobAdvFilterPanelAp"===t._Type_){var n=t.ParentId,o=t.FieldName,i=t.Name;if(v.uiModel.getFormmeta(this.props.ui.get("uiInfo",(0,u.Map)())).find((function(e){var t=e.get("FieldName"),r=e.get("Name");return e.get("ParentId")===n&&(t&&t===o||r&&r===i)})))throw{message:(0,W.getLangMsg)({key:"bosd.editUi.key0001",variables:{fieldName:o||i}}),type:"warning"};var a=(0,x.getData)(H.IS_FIRST_CREATE);(0,x.setData)(H.IS_FIRST_CREATE,re(re({},a),{},ne({},t.Id,!0))),this.props.addFieldControl(t,this.props.uiConfig)}else if("MToolbarAp"===t._Type_){var l=t.FieldName,d=t.Name;if(v.uiModel.getFormmeta(this.props.ui.get("uiInfo",(0,u.Map)())).find((function(e){return"MToolbarAp"===e.get(h._TYPE_)&&t.Id===e.get("Id")&&(null==t?void 0:t.isMultipleToolbar)}))){var c=(0,W.getLangMsg)({key:"bosd.editUi.key0001",variables:{fieldName:l||d}});throw new Error(c)}this.props.addFieldControl(t,this.props.uiConfig)}else this.props.addFieldControl(t,this.props.uiConfig)}},{key:"createEntityElement",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e[0],r=e[1];r.ParentId=t,this.props.addEntityInfo(r)}},{key:"addEntityControl",value:function(e,t){var r=this,n=(e="object"!==ee(e)?{FieldId:e}:e).FieldId;t=t||this.props.ui.get("select_control_id");var o=this.props.ui.get("uiInfo",(0,u.Map)());if(o.get("entityreadonly")){var i=v.uiModel.getEntityFieldInfo(o,{entityId:n});if("NameCombineEntity"!==(i=i||v.uiModel.getEntityTreeInfo(o,n)||(0,u.Map)()).get(h._TYPE_)){var a,l=function(){if(1===i.get("CreateType")){var a=v.uiModel.getContainerControl(o,t,!0,r.props.uiConfig);t=a.control.get(h.ID);var l=v.uiModel.getFormFieldInfo(o,t);null!=a.targetIndex&&(l=l.set("TargetIndex",a.targetIndex)),r.context.invokeAction(r.context.model,"createUIElemntByEntityItem",[i.toJS(),(l||(0,u.Map)()).toJS()])}else{var d,c=null===(d=v.uiModel.getUIFieldInfo(o,n))||void 0===d?void 0:d.get("Type");"EntryFieldAp"===c&&(e.Type=c),e=Object.assign({},e,{FieldType:i.get(h._TYPE_)||i.get(h.TYPE),Name:i.get(h.NAME),Key:i.get(h.KEY),ParentId:t,FieldId:n}),r.props.addFieldControl(e,r.props.uiConfig)}},d=v.printModel.getGridInfo(o,t),c=d&&d.get(h.TYPE);if(c&&v.uiModel.isTargetCtrls(o,t,["DataCell"])&&["AmountField","PictureField"].indexOf(i.get(h.TYPE))<0){a="DataGrid"===c?["ReportFormModel","EntryEntity","SubEntryEntity"]:["ReportFormModel","SubEntryEntity"];var s=v.uiModel.getBillEntityDataSource(o,n,a),f=v.uiModel.getPropertyValue(o,d.get(h.ID),"DataSource",h.FORMMETA);if((0,D.isJsonString)(f))try{var p=JSON.parse(f);f=p&&p.key}catch(e){}f&&s[0]!==f&&a.indexOf(s[1])>=0?(0,y.default)({msg:(0,W.getLangMsg)("bosd.editUi.key0002"),confirmType:0,buttonType:1,onClose:l}):l()}else if(d&&c){var g=v.uiModel.getUIFieldInfo(o,t).get(h.TYPE);if(v.printModel.blockListToAddEntityTypes.includes(g)){var m=(0,W.getLangMsg)("bosd.editUi.key0003");(0,A.default)(this.context.model.pageId,m,"error")}else l()}else{var b=o&&o.getIn(["formmeta","ModelType"],""),I=v.uiModel.getContainerControl(o,t)||{};if("BillListCardViewModel"===b&&"gridview"===(null==I?void 0:I.targetId)){var E=o&&o.getIn(["formmeta","Items"],(0,u.List)()).filter((function(e){return"gridview"===e.get("ParentId")}));if((E=E.filter((function(e){return e.get("ListFieldId")===n}))).size>0&&1===i.get("CreateType")){var M=(0,W.getLangMsg)("bosd.editUi.key0004");return void(0,A.default)(this.context.model.pageId,M,"error")}}l()}}}else this.selectEntity(n)}},{key:"addControl",value:function(e,t,r){var n=this,o=this.props.ui.get("uiInfo",(0,u.Map)()),i=t;"object"===ee(t)&&(i=t.Type);var a=v.metadataModel.getConfigFieldByType(r,i);if(a&&1===a.get("CreateType")){var l=v.uiModel.getFormFieldInfo(o,e),d={CreateType:1,type:i};this.context.invokeAction(this.context.model,"createUIElementByType",[d,(l||(0,u.Map)()).toJS()])}else{var c=o.getIn(["ui","Items"],(0,u.List)());if("MTabBarAp"===i&&c.size>0){var s={confirmType:0,id:"mtabbar",msg:(0,W.getLangMsg)("bosd.editUi.key0005"),button_type:U.BtnType.YesNoCancel,btn_names:ne(ne({},U.BtnKey.Yes,(0,W.getLangMsg)("bosd.editUi.key0006")),U.BtnKey.No,(0,W.getLangMsg)("bosd.editUi.key0007")),clickCallback:function(e,i,a,l){if(a===U.BtnKey.Yes){var d=o&&v.uiModel.getRootId(o);n.props.addControl(d,t,r),setTimeout((function(){var e,t=null===(e=n.props.ui.get("uiInfo",(0,u.Map)()).getIn(["formmeta","Items"]).find((function(e){return"MTabBarItemAp"===e.get("Type")})))||void 0===e?void 0:e.get("Id"),o=c.map((function(e){return e.get("Id")}));n.props.moveToControl(t,o,r)}))}else if(a===U.BtnKey.No){c.forEach((function(e){var t=e.get("Id");n.props.deleteControl(t)}));var s=o&&v.uiModel.getRootId(o);n.props.addControl(s,t,r)}}};(0,x.setData)(H.KEY_SHOW_CONFIRM_EVENT,s)}else this.props.addControl(e,t,r)}}},{key:"selectEntity",value:function(e){var t=this.props.ui.get("uiInfo",(0,u.Map)()),r=v.uiModel.getFormmeta(t).find((function(r){return v.uiModel.getEntityIdByFieldId(t,r.get(h.ID))===e}));r&&this.props.selectControlId(r.get(h.ID))}},{key:"handleShortcutKey",value:function(e){var t,r=this.props,n=r.ui,o=r.uiConfig,i=r.disableFeatures,a=null===(t=this.customContext.value)||void 0===t?void 0:t.disableDelete,d=n.get("uiInfo"),c=n.get("select_control_id"),s=n.get("select_control_ids",(0,u.List)());s=s.size>0?s:(0,u.List)(c);var f=(0,E.getKeyCode)(e),p=v.uiModel.getDesignerPermissions(i);if(p.cut&&(0,E.isCtrlKey)(e)&&f===b.KEYS.X)this.props.cutControl(s,a);else if(p.copy&&(0,E.isCtrlKey)(e)&&f===b.KEYS.C)this.props.copyControl(s,a);else if(p.paste&&(0,E.isCtrlKey)(e)&&f===b.KEYS.V)(0,E.isAltKey)(e)?this.props.pasteControlStyle():this.props.pasteControl(c,o);else if(p.undo&&(0,E.isCtrlKey)(e)&&f===b.KEYS.Z)this.props.undo();else if(p.redo&&(0,E.isCtrlKey)(e)&&f===b.KEYS.Y)this.props.redo();else if((0,E.isCtrlKey)(e)&&f===b.KEYS.S)this.save();else if(p.moveUp&&(0,E.isCtrlKey)(e)&&(f===b.KEYS.LEFT||f===b.KEYS.UP))this.props.moveControl("up");else if(p.moveDown&&(0,E.isCtrlKey)(e)&&(f===b.KEYS.RIGHT||f===b.KEYS.DOWN))this.props.moveControl("down");else if(e.shiftKey&&l.default.indexOf([b.KEYS.LEFT,b.KEYS.UP,b.KEYS.RIGHT,b.KEYS.DOWN],f)>=0){var g=f===b.KEYS.LEFT||f===b.KEYS.RIGHT?"Width":"Height",m=f===b.KEYS.LEFT||f===b.KEYS.DOWN?-1:1,y=v.uiModel.getPropertyValue(d,c,g,h.FORMMETA,o),I=l.default.endsWith(y,"%")?"%":"";if(I=l.default.endsWith(y,"px")?"px":I,!(I=l.default.endsWith(y,"mm")?"mm":I))return;y=((y=parseFloat(y)+m)<0?0:y)+I,this.props.updatePropValue(c,g,y,h.FORMMETA,o)}else if(p.delete&&f===b.KEYS.DELETE)this.props.deleteControl(s,o,this.deleteConfirm);else if(f===b.KEYS.ESC){var A=v.uiModel.getParentControl(d,c),M=A&&A.get(h.ID);M&&this.props.selectControlId(M)}else if(l.default.indexOf([b.KEYS.LEFT,b.KEYS.UP,b.KEYS.RIGHT,b.KEYS.DOWN],f)>=0)if(e.preventDefault(),v.printModel.isPrintModel(d)){var C=f===b.KEYS.LEFT||f===b.KEYS.RIGHT?"X":"Y",P=f===b.KEYS.UP||f===b.KEYS.LEFT?-.5:.5,w=[];s.forEach((function(e){var t=v.uiModel.getPropertyValue(d,e,C,h.FORMMETA,o);t=(t=parseFloat(t)+P)<0?0:t,w.push({fieldId:e,propName:C,value:t+"mm",metaType:h.FORMMETA})})),this.props.updatePropValue(w,o)}else{var O=f===b.KEYS.LEFT||f===b.KEYS.UP?v.uiModel.getPreControl(d,c,!0):v.uiModel.getNextControl(d,c,!0);O&&this.props.selectControlId(O.get(h.ID))}}},{key:"render",value:function(){var e=this;if(void 0===this.isPC||!this.props.uiConfig)return o.default.createElement(M.default,{style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%,-50%)"}});var t=this.props,r=t.ui,n=t.uiConfig,i=t.shareState,a=r.get("uiInfo"),l=a&&a.get("ui"),d=l&&l.get("Type"),c=r.get("select_control_id"),y=r.get("select_control_ids",(0,u.List)()),h=r.get("refresh_ctrl_ids"),b=r.get("format_control_id"),I=(this.state||{}).sideBarMenuList,A=a&&v.uiModel.getRootId(a),E=this.props.ui.get("clipboard"),S=this.props.ui.get("dragover_control_id"),N="true"===L.default.get(L.KD_AUXILIARY_LINE);return o.default.createElement(j.EdituiContext.Provider,{value:this.customContext.value},o.default.createElement("div",{className:z.default.root},o.default.createElement(k.default,{isPC:this.isPC,showGuideType:this.state.showGuideType,showGuide:this.showGuide},o.default.createElement("div",{className:z.default["ui-content"]},o.default.createElement(f.default,{uiConfig:n,uiInfo:a,addControl:this.addControl,select_control_id:c,select_control_ids:y,format_control_id:b,selectControlId:this.props.selectControlId,addEntityControl:this.addEntityControl,moveToControl:this.props.moveToControl,updatePropValue:this.props.updatePropValue,handleShortcutKey:function(t){return e.handleShortcutKey(t)},menuList:I,shareState:i,designerType:d,rootId:A,addTempFragment:this.props.addTempFragment,showGuide:this.showGuide,isPC:this.isPC,dragover_control_id:S}),o.default.createElement(s.default,{dragover_control_id:S,clipboard:E,uiConfig:n,uiInfo:a,isPC:this.isPC,select_control_id:c,select_control_ids:y,refresh_ctrl_ids:h,showGuide:this.showGuide},o.default.createElement(m.default,{auxiliaryLine:N,addControl:this.props.addControl,deleteControl:function(t){e.props.deleteControl(t,n,e.deleteConfirm)},copyAndAdd:this.props.copyAndAdd,copyControl:this.props.copyControl,cutControl:this.props.cutControl,pasteControl:this.props.pasteControl,moveControl:this.props.moveControl,showTemplatePanel:this.props.showTemplatePanel,select_control_id:c,select_control_ids:y,uiConfig:n,maxWin:this.props.maxWin,showAuxiliaryLine:this.toggleShowAuxiliaryLine,shareState:i,undo:this.props.undo,redo:this.props.redo,format_control_id:b,setFormatInfo:this.props.setFormatInfo,history:r.get("history",(0,u.Map)()),uiInfo:a,updatePropValue:this.props.updatePropValue,throwOperateInfo:this.props.throwOperateInfo,isPC:this.isPC,designerType:d,changeTemplateData:this.changeTemplateData,changeShowPanleType:this.changeShowPanleType,changeOriginUiInfo:this.changeOriginUiInfo,showPanelType:this.state.showPanelType}),o.default.createElement(g.default,ne(ne(ne(ne({auxiliaryLine:N,dragover_control_id:S,clipboard:E,uiConfig:n,uiInfo:a,ui:r,selectControl:this.props.selectControlId,select_control_id:c,select_control_ids:y,refresh_ctrl_ids:h,format_control_id:b,addControl:this.props.addControl,moveToControl:this.props.moveToControl,onKeyDown:function(t){return e.handleShortcutKey(t)},updatePropValue:this.props.updatePropValue,resetFillWidthHeight:this.props.resetFillWidthHeight},"uiConfig",n),"isPC",this.isPC),"switchToFlatPanel",this.props.switchToFlatPanel),"selectControlIds",this.props.selectControlIds))),o.default.createElement(p.default,{uiConfig:n,select_control_id:c,select_control_ids:y,uiInfo:a,updatePropValue:this.props.updatePropValue,addUiInfoValue:this.props.addUiInfoValue,selectControlId:this.props.selectControlId,getPropertyValue:function(e,t,r,o){return v.uiModel.getPropertyValue(e,t,r,o,n)},shareState:i,applyContainerTemplate:this.props.applyContainerTemplate,applyControlTemplate:this.props.applyControlTemplate,updateUIPropValue:this.props.updateUIPropValue,showPanelType:this.state.showPanelType,designerType:d})),0===this.state.showPanelType&&o.default.createElement(C.default,{isPC:this.isPC,uiInfo:a,designerType:d,templateData:this.state.templateData,showPanelType:this.state.showPanelType,activeTempInfo:this.state.activeTempInfo,uiConfig:n,applyPageTemplate:this.props.applyPageTemplate,changeShowPanleType:this.changeShowPanleType,changeActiveTempInfo:this.changeActiveTempInfo,changeTemplateData:this.changeTemplateData}),1===this.state.showPanelType&&o.default.createElement(P.default,{isPC:this.isPC,changeShowPanleType:this.changeShowPanleType,undo:this.props.undo,showPanelType:this.state.showPanelType,selectControlId:this.props.selectControlId,getPageFieldInfos:function(){return v.uiModel.getChildrenFieldInfos(a,n,A)},getBillListEntityTreeInfo:function(){return v.uiModel.getBillListEntityTreeInfo(a)}}),2===this.state.showPanelType&&o.default.createElement(T.default,{setUiInfo:this.props.setUiInfo,originUiInfo:this.state.originUiInfo,isPC:this.isPC,changeShowPanleType:this.changeShowPanleType,activeTempKey:this.state.activeTempInfo.key,showPanelType:this.state.showPanelType,deleteControl:function(t){return e.props.deleteControl(t,n)},selectControlId:this.props.selectControlId,getPageFieldInfos:function(){return v.uiModel.getChildrenFieldInfos(a,n,A)},selControlId:c,getBillHeaderFieldInfo:function(){return v.uiModel.getBillHeaderFieldInfo(a)},addEntityControl:function(t,r){return e.addEntityControl(t,r)},getFormFieldInfo:function(e){return v.uiModel.getFormFieldInfo(a,e)},setFormMappingData:this.setFormMappingData,formMappingData:this.state.formMappingData}),3===this.state.showPanelType&&o.default.createElement(_.default,{isPC:this.isPC,changeShowPanleType:this.changeShowPanleType,showPanelType:this.state.showPanelType,setUiInfo:this.props.setUiInfo,selectControlId:this.props.selectControlId,getPageFieldInfos:function(){return v.uiModel.getChildrenFieldInfos(a,n,A)},originUiInfo:this.state.originUiInfo,getBillEntryEntityInfo:function(){return v.uiModel.getBillEntryEntityInfo(a)},getBillEntryEntityFieldInfo:function(e){return v.uiModel.getBillEntryEntityFieldInfo(a,e)},setFormMappingData:this.setFormMappingData,selControlId:c,getControlInfoFromType:function(e){return v.uiModel.getControlInfoFromType(a,e)},addEntityControl:function(t,r){return e.addEntityControl(t,r)},deleteControl:function(t){return e.props.deleteControl(t,n)}}),this.state.showScriptEditor&&o.default.createElement(w.default,{bizAppId:this.getBizAppId(),isMobile:["MobileBillFormModel","MobileFormAp","MobileBillFormAp","MobileFormModel"].includes(this.customContext.value.modelType),uiConfig:n,uiInfo:a,uiModel:v.uiModel,value:this.props.value,updatePropValue:this.props.updatePropValue,onClose:this.handleCloseEditor}),this.state.showScriptManager&&o.default.createElement(O.default,{bizAppId:this.getBizAppId(),uiInfo:a,onClose:this.handleCloseManager,updatePropValue:this.props.updatePropValue}),this.state.scriptId&&o.default.createElement("div",{className:z.default["script-viewer"]},o.default.createElement(q.default,{scriptId:this.state.scriptId,title:a.get("caption"),onClose:this.handleCloseViewer})))))}}],n&&ae(r.prototype,n),i&&ae(r,i),Object.defineProperty(r,"prototype",{writable:!1}),t}(o.Component);pe.propTypes={ui:n.default.object,uiConfig:n.default.object,shareState:n.default.object},pe.contextType=j.DesignerContext;var ge=(0,a.createSelector)((function(e){return e.metadata.get("uiMetadata")}),(function(e){return v.metadataModel.transform(e)}));t.EdituiContainer=(0,i.connect)((function(e){var t=e.metadata.getIn(["uiMetadata","hidePropertyViews"],(0,u.List)()),r=e.ui.get("uiInfo");if(r){var n=r.get("designer"),o=r.get("isv")!==r.getIn([h.FORMMETA,"Isv"]);(void 0!==n&&"MobMeta"!==n||o)&&(t=t.push(J.PROPERTY_VIEWS.ACTION))}return{ui:e.ui,uiConfig:ge(e),shareState:e.shareState,disableFeatures:e.metadata.getIn(["uiMetadata","disableFeatures"]),hidePropertyViews:t}}),I)(pe)},860213:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(360776),r(505684),r(743924),r(693917),r(205960),r(976896),r(721300),r(846428),r(606200),r(534440),r(633768),r(690512),r(78504),r(776512),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.isPC,r=e.changeShowPanleType,n=e.showPanelType,g=e.selectControlId,m=e.getPageFieldInfos,y=e.setUiInfo,h=e.originUiInfo,A=e.getBillEntryEntityFieldInfo,E=e.getBillEntryEntityInfo,C=e.setFormMappingData,P=e.getControlInfoFromType,w=e.addEntityControl,O=e.selControlId,T=e.deleteControl,_=(0,o.useRef)(),k=(0,o.useContext)(u.EdituiContext).model,S=v((0,o.useState)((0,c.List)()),2),j=S[0],N=S[1],F=v((0,o.useState)({}),2),D=F[0],L=F[1],x=v((0,o.useState)((0,c.List)()),2),B=x[0],R=x[1],V=v((0,o.useState)(!1),2),U=V[0],W=V[1],K=v((0,o.useState)((0,c.List)()),2),Y=K[0],Q=K[1],G=v((0,o.useState)(),2),H=G[0],J=G[1],z=v((0,o.useState)((0,c.Map)()),2),q=z[0],X=z[1],Z=v((0,o.useState)(),2),$=Z[0],ee=Z[1];(0,o.useEffect)((function(){var e=m(),t=E();J(t),de(t&&t.get(0));var r=e&&e.filter((function(e){return"FieldAp"!==e.get("type")})),n=r&&r.map((function(e){var t=e.get("fieldId"),r=e.get("id"),n=e.get("name");if(t){var o=b[r];e=e.set("name",o)}else b[r]=n;return e})),o=P("CardEntryRowAp").getIn([0,"Id"]),i=(0,c.fromJS)({name:"+".concat((0,p.getLangMsg)("bosd.entityFieldBindPanel.key0001")),parentId:o,isFooter:!0,id:(0,s.default)(10)}),a=n.push(i);N(a),ee(o),re("",0)}),[]),(0,o.useEffect)((function(){if($&&O!==$){var e=(0,f.formatNewField)(j,O);N(e)}}),[O]);var te=(0,o.useCallback)((function(e,t,r){var n=D.index,o=(0,f.getNewMappingData)(n,j,e,t,r);o&&N(o);var i=o&&o.get(n);ie(i)}),[D,j]),re=(0,o.useCallback)((function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];g($),L({index:t,isFooter:r})}),[g,$]),ne=(0,o.useCallback)((function(e,t,r,n){var o=D.index;if(D.isFooter){var i=o+1,a=B.get(t),l=a.Id,u=a.Name;w(l,$);var d={name:u,fieldId:r,fieldKey:e,parentId:$,type:"CardEntryFieldAp",temporaryId:(0,s.default)(10),newField:!0},f=j.splice(o,0,(0,c.fromJS)(d));N(f),L({index:i,isFooter:!0})}else{te(e,r,n);var p=o+1,g=j.getIn([p,"isFooter"]);g?L({index:p,isFooter:g}):re("",p)}}),[D,te,j,re,B,w]),oe=(0,o.useCallback)((function(){r(),C((0,c.List)()),y&&y(h)}),[r,C,y,h]),ie=(0,o.useCallback)((function(e){var t=(0,f.formatResultsSingleForm)(e,Y);k.pub_Event("setProperty",[t])}),[Y]),ae=(0,o.useCallback)((function(){r(2)}),[r]),le=(0,o.useCallback)((function(e){te(e)}),[te]),ue=(0,o.useCallback)((function(e){if(""===e||null==e)R(Y),W(!1);else{var t=(0,f.filterData)(e,Y)||(0,c.List)();R(t),W(!0)}}),[Y]),de=function(e,t){if(e){var r=e.get("Key"),n=e.get("EntryId");X(e);var o=A(n);R(o),Q(o);var i=P("CardEntryAp").getIn([0,"Id"]),a=[];if(a[0]={alias:r,itemId:i,metaType:"formmeta",propertyName:"EntryId",value:n},a[1]={alias:r,itemId:i,metaType:"formmeta",propertyName:"Key",value:r},t){var l=j&&j.map((function(e){var t=e.set("fieldKey","");return t=(t=t.set("fieldId","")).set("Name","")}));N(l);var u=(0,f.formatResultsForm)(l,Y);a=a.concat(u),L({index:0,isFooter:!1})}k.pub_Event("setProperty",[a])}},ce=(0,o.useCallback)((function(e){var t=j.getIn([e,"id"]);T(t);var r=j.delete(e);N(r);var n=r.getIn([e,"isFooter"]);re("",e,n)}),[j,T,re]);return t||3!==n?null:o.default.createElement(l.default,{onCLickOutside:oe},o.default.createElement("div",{className:i.default.shadebox},o.default.createElement("div",{className:i.default.root},o.default.createElement(d.Header,{title:(0,p.getLangMsg)("bosd.entityFieldBindPanel.key0002")}),o.default.createElement(d.HeaderTip,{tiptext:(0,p.getLangMsg)("bosd.entityFieldBindPanel.key0003")}),o.default.createElement("div",{className:i.default.selectbox},o.default.createElement("div",{className:i.default.titlecontent},o.default.createElement("span",null,(0,p.getLangMsg)("bosd.entityFieldBindPanel.key0004")),o.default.createElement("span",{className:(0,a.default)(i.default.mustinput,"require-icon")},"*")),o.default.createElement(M,{entitytList:H,handleEntityListClick:de,EntitylistVal:q})),o.default.createElement(I,{handleEntityItemClick:ne,mappingActiveIndex:D.index,entityTableData:B,isSearch:U,deleteMappingItem:ce,handleMappingItemClick:re,handleDeleteClick:le,mappingTableData:j,inputRef:_,handleSearch:ue}),o.default.createElement(d.Footter,{handleCancelClick:oe,handleConfirmClick:function(){r(),C((0,c.List)())},handleBackClick:ae,buttonType:7})),o.default.createElement("div",{className:i.default.shade})))},r(9692),r(622676),r(323784),r(835164),r(927184),r(387912);var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=m(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}return o.default=e,r&&r.set(e,o),o}(r(795520)),i=g(r(505168)),a=g(r(671252)),l=g(r(472792)),u=r(974184),d=r(912),c=r(891052),s=g(r(918048)),f=r(225613),p=r(331428);function g(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(m=function(e){return e?r:t})(e)}function y(e,t,r){var o;return o=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==n(o)?o:String(o))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],u=!0,d=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){d=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(d)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var b={};function I(e){var t=e.handleEntityItemClick,r=e.handleMappingItemClick,n=e.mappingActiveIndex,l=e.handleDeleteClick,u=e.mappingTableData,d=e.inputRef,c=e.handleSearch,s=e.entityTableData,f=e.isSearch,p=e.deleteMappingItem,g=(0,a.default)(y({"kdfont kdfont-houfan":!0},i.default.divisionicon,!0));return o.default.createElement("div",{className:i.default.content},o.default.createElement(E,{handleEntityItemClick:t,inputRef:d,handleSearch:c,entityTableData:s,isSearch:f,mappingTableData:u}),o.default.createElement("div",{className:i.default.divisionbox},o.default.createElement("span",{className:g})),o.default.createElement(A,{handleMappingItemClick:r,mappingActiveIndex:n,handleDeleteClick:l,mappingTableData:u,deleteMappingItem:p}))}function A(e){var t=e.handleDeleteClick,r=e.mappingTableData,n=e.handleMappingItemClick,a=e.mappingActiveIndex,l=e.deleteMappingItem;return o.default.createElement("div",{className:i.default.mappingpanel},o.default.createElement("div",{className:i.default.mappingtitle},(0,p.getLangMsg)("bosd.entityFieldBindPanel.key0005")),o.default.createElement(d.MappingGroupTable,{handleMappingItemClick:n,mappingActiveIndex:a,handleDeleteClick:t,mappingTableData:r,deleteMappingItem:l}))}function E(e){var t=e.handleSearch,r=e.inputRef,n=e.handleEntityItemClick,a=e.entityTableData,l=e.isSearch,u=e.mappingTableData,c=u&&u.map((function(e){return e.get("fieldId")}));return o.default.createElement("div",{className:i.default.entitytablepanle},o.default.createElement("div",{className:i.default.entityheader},o.default.createElement("div",{className:i.default.entityname},(0,p.getLangMsg)("bosd.entityFieldBindPanel.key0006")),o.default.createElement(d.SearchBar,{inputRef:r,handleSearch:t})),o.default.createElement(d.EntityTable,{handleEntityItemClick:n,entityTableData:a,isSearch:l,isEntity:!0,slectedFieldArr:c}))}function M(e){var t=v((0,o.useState)(!1),2),r=t[0],n=t[1],u=e.entitytList,d=e.handleEntityListClick,c=e.EntitylistVal,s=(0,o.useCallback)((function(){n((function(e){return!e}))}),[]),f=c.get("Key"),g=(0,o.useCallback)((function(e,t){e&&(n(!1),t!==f&&d(e,f))}),[d,f]),m=(0,a.default)({"kdfont kdfont-xiala":!r,"kdfont kdfont-shangla":r});return o.default.createElement(l.default,{onCLickOutside:function(){return n(!1)}},o.default.createElement("div",{className:i.default.selectcontent},o.default.createElement("div",{className:i.default.inputbox,onClick:s},c&&c.size>0&&o.default.createElement("input",{type:"text",className:i.default.inputtext,value:"".concat(c.get("Name"),"（").concat(c.get("Key"),"）"),readOnly:!0}),o.default.createElement("i",{className:m})),r&&o.default.createElement("div",{className:i.default.pulldownpanel},u&&u.size>0?u.map((function(e){var t=e&&e.get("Name"),r=e&&e.get("Key"),n=(0,a.default)(y(y({},i.default.entitylist,!0),i.default.activeentity,r===f));return o.default.createElement("div",{className:n,key:e.get("EntryId"),onClick:function(){return g(e,r)}},o.default.createElement("span",{className:i.default.spantext,title:t},t),o.default.createElement("span",{className:i.default.spantext,title:r},r))})):o.default.createElement("div",{className:i.default.entitynodata},(0,p.getLangMsg)("bosd.entityFieldBindPanel.key0007")))))}},225800:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(360776),r(505684),r(323784),r(743924),r(693917),r(205960),r(976896),r(297336),r(721300),r(846428),r(606200),r(534440),r(633768),r(690512),r(78504),r(776512),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(622676),r(443616),r(835164),r(336368),r(387912),r(660824);var o=v(r(790832)),i=v(r(783956)),a=v(r(671252)),l=y(r(795520)),u=v(r(501772)),d=v(r(329132)),c=y(r(390716)),s=v(r(86611)),f=r(349848),p=v(r(707892)),g=r(331428);function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(m=function(e){return e?r:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=m(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}return o.default=e,r&&r.set(e,o),o}function v(e){return e&&e.__esModule?e:{default:e}}function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h.apply(this,arguments)}function b(e,t,r){var o;return o=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==n(o)?o:String(o))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],u=!0,d=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){d=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(d)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function E(e){var t=o.default.map(f.layoutTempls,(function(t,r){return l.default.createElement("div",{key:r},l.default.createElement("img",{"data-tip":t.describe,className:s.default.temImg,src:t.imgsrc,onClick:function(){e.onResult(t.layout)}}),l.default.createElement(i.default,{place:"left",type:"success"}))}));return l.default.createElement("div",{className:s.default.tempRoot},l.default.createElement("div",{className:s.default.temImgPanel},t))}function M(e){var t=I((0,l.useState)(e.layout),2),r=t[0],n=t[1];(0,l.useEffect)((function(){n(e.layout)}),[e.layout]);return l.default.createElement("div",{className:s.default.advRoot,tabIndex:"1"},l.default.createElement(T,h({choose:function(t,o){var i=Object.assign(r,b({},t,o));n(i),e.onResult(i)}},r)),l.default.createElement("div",{className:s.default.preview},(0,g.getLangMsg)("bosd.fastLayout.key0003")),l.default.createElement(C,h({},r,{onResult:function(){return e.onResult(r)}})),l.default.createElement("div",{className:s.default["other-props-list"]},e.layoutPropEditors))}function C(e){var t=e.Wrap,r=e.Direction,n=e.AlignItems,o=e.JustifyContent,i=e.AlignContent;n="default"===n?"flex-start":n,i="default"===i?"flex-start":i,o="default"===o?"flex-start":o;var u=(0,a.default)(s.default.container,(0,d.default)({Wrap:t,Direction:r,AlignItems:n,JustifyContent:o,AlignContent:i}));return l.default.createElement("div",{className:u},l.default.createElement("div",{className:(0,a.default)(s.default.child,s.default.item1,b({},s.default.wrap,!t))},l.default.createElement("div",{className:s.default.num},"1")),l.default.createElement("div",{className:(0,a.default)(s.default.child,s.default.item2,b({},s.default.wrap,!t))},l.default.createElement("div",{className:s.default.num},"2")),l.default.createElement("div",{className:(0,a.default)(s.default.child,s.default.item3,b({},s.default.wrap,!t))},l.default.createElement("div",{className:s.default.num},"3")),l.default.createElement("div",{className:(0,a.default)(s.default.child,s.default.item4,b({},s.default.wrap,!t))},l.default.createElement("div",{className:s.default.num},"4")),l.default.createElement("div",{className:(0,a.default)(s.default.child,s.default.item5,b({},s.default.wrap,!t))},l.default.createElement("div",{className:s.default.num},"5")),l.default.createElement("div",{className:(0,a.default)(s.default.child,s.default.item6,b({},s.default.wrap,!t))},l.default.createElement("div",{className:s.default.num},"6")))}var P=[{show:"".concat((0,g.getLangMsg)("bosd.fastLayout.key0004"),"(flex-start)"),val:"flex-start"},{show:"".concat((0,g.getLangMsg)("bosd.fastLayout.key0005"),"(center)"),val:"center"},{show:"".concat((0,g.getLangMsg)("bosd.fastLayout.key0006"),"(flex-end)"),val:"flex-end"},{show:"".concat((0,g.getLangMsg)("bosd.fastLayout.key0007"),"(stretch)"),val:"stretch"},{show:"".concat((0,g.getLangMsg)("bosd.fastLayout.key0009"),"(baseline)"),val:"baseline"}],w=[{show:"".concat((0,g.getLangMsg)("bosd.fastLayout.key0004"),"(flex-start)"),val:"flex-start"},{show:"".concat((0,g.getLangMsg)("bosd.fastLayout.key0005"),"(center)"),val:"center"},{show:"".concat((0,g.getLangMsg)("bosd.fastLayout.key0006"),"(flex-end)"),val:"flex-end"},{show:"".concat((0,g.getLangMsg)("bosd.fastLayout.key0007"),"(stretch)"),val:"stretch"},{show:"".concat((0,g.getLangMsg)("bosd.fastLayout.key0008"),"(space-between)"),val:"space-between"},{show:"".concat((0,g.getLangMsg)("bosd.fastLayout.key0010"),"(space-around)"),val:"space-around"}],O=[{show:"".concat((0,g.getLangMsg)("bosd.fastLayout.key0004"),"(flex-start)"),val:"flex-start"},{show:"".concat((0,g.getLangMsg)("bosd.fastLayout.key0005"),"(center)"),val:"center"},{show:"".concat((0,g.getLangMsg)("bosd.fastLayout.key0006"),"(flex-end)"),val:"flex-end"},{show:"".concat((0,g.getLangMsg)("bosd.fastLayout.key0008"),"(space-between)"),val:"space-between"},{show:"".concat((0,g.getLangMsg)("bosd.fastLayout.key0010"),"(space-around)"),val:"space-around"}];function T(e){var t=e.Wrap,r=e.Direction,n=e.JustifyContent,o=e.AlignItems,i=e.AlignContent,a=e.choose;return l.default.createElement("div",{tabIndex:"2",className:s.default.choose},l.default.createElement("div",{className:s.default.field,title:"Direction:row"},l.default.createElement("span",null,(0,g.getLangMsg)("bosd.fastLayout.key0011")),l.default.createElement(u.default,{value:"row"===r,size:3,onClick:function(){return a("Direction","row"===r?"column":"row")}})),l.default.createElement("div",{className:s.default.field,title:"Wrap"},l.default.createElement("span",null,(0,g.getLangMsg)("bosd.fastLayout.key0012")),l.default.createElement(u.default,{value:t,size:3,onClick:function(e){return a("Wrap",!t)}})),l.default.createElement("div",{className:s.default.field,title:"Direction:column"},l.default.createElement("span",null,(0,g.getLangMsg)("bosd.fastLayout.key0013")),l.default.createElement(u.default,{value:"column"===r,size:3,onClick:function(){return a("Direction","row"===r?"column":"row")}})),l.default.createElement(_,{propName:"JustifyContent",title:"JustifyContent",showName:"row"===r?(0,g.getLangMsg)("bosd.fastLayout.key0014"):(0,g.getLangMsg)("bosd.fastLayout.key0015"),propValueList:O,value:n||"flex-start",choose:a}),l.default.createElement(_,{propName:"AlignItems",title:"AlignItems",showName:"row"===r?(0,g.getLangMsg)("bosd.fastLayout.key0015"):(0,g.getLangMsg)("bosd.fastLayout.key0014"),propValueList:P,value:o||"flex-start",choose:a}),t&&l.default.createElement(_,{propName:"AlignContent",title:"AlignContent",showName:"row"===r?(0,g.getLangMsg)("bosd.fastLayout.key0016"):(0,g.getLangMsg)("bosd.fastLayout.key0017"),propValueList:w,value:i||"flex-start",choose:a}))}function _(e){var t=e.value,r=e.propName,n=e.propValueList,o=e.choose,i=e.title,a=e.showName;return l.default.createElement("div",{className:s.default.select_container,title:i},l.default.createElement("span",null,a),l.default.createElement(c.default,{defaultValue:t,animation:"slide-up",showSearch:!1,className:s.default.select+" __properView__",dropdownMenuStyle:{maxHeight:200,overflow:"auto"},onChange:function(e){return o(r,e)},value:t},l.default.createElement(c.Option,{key:"default",value:"default"},(0,g.getLangMsg)("bosd.fastLayout.key0018")),n.map((function(e){return l.default.createElement(c.Option,{key:e.val,value:e.val},e.show)}))))}t.default=function(e){var t=function(t){var r=t.Wrap,n=t.Direction,o=t.AlignContent,i=t.AlignItems,a=t.JustifyContent,l=e.field,u=e.uiInfo,d=e.updatePropValue,c=e.getPropertyValue,s=c(u,l,"AlignItems"),f=c(u,l,"AlignContent"),p=c(u,l,"JustifyContent"),g=[{propName:"Wrap",newValue:r===c(u,l,"Wrap")?void 0:r},{propName:"JustifyContent",newValue:a===p?void 0:a},{propName:"Direction",newValue:n===c(u,l,"Direction")?void 0:n},{propName:"AlignContent",newValue:o===f?void 0:o},{propName:"AlignItems",newValue:i===s?void 0:i}];d(g=g.filter((function(e){return void 0!==e.newValue})))},r=e.field,n=e.uiInfo,i=e.getPropertyValue,a=e.layoutPropEditors,u=[n.getIn(["ui","Type"]),"FlexPanelAp","CardEntryViewAp","SubCardEntryViewAp","CardEntryFlexPanelAp","CardFlexPanelAp","AdvConChildPanelAp","SplitPanelAp","ListCardViewAp","MessageCarouselContainerAp","CardEntryFixRowAp","CardEntryRowAp","CardRowPanelAp","MessageCarouselFlexPanelAp","GridFlatPanelAp","EntryFieldContainerAp","CardEntryFixRowPanelAp","MTabBarItemAp"];if(!o.default.includes(u,r.get("Type")))return null;var d={AlignItems:i(n,r,"AlignItems"),AlignContent:i(n,r,"AlignContent"),JustifyContent:i(n,r,"JustifyContent"),Wrap:i(n,r,"Wrap"),Direction:i(n,r,"Direction")};return l.default.createElement("div",{className:s.default.layoutpanel},l.default.createElement(p.default,{title:(0,g.getLangMsg)("bosd.fastLayout.key0001")},l.default.createElement(E,{onResult:t})),l.default.createElement(p.default,{title:(0,g.getLangMsg)("bosd.fastLayout.key0002")},l.default.createElement(M,{onResult:t,layout:d,layoutPropEditors:a})))}},802660:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(360776),r(505684),r(743924),r(693917),r(205960),r(976896),r(721300),r(846428),r(606200),r(534440),r(633768),r(690512),r(78504),r(776512),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.isPC,r=e.changeShowPanleType,n=e.showPanelType,a=e.undo,p=e.selectControlId,g=e.getPageFieldInfos,m=e.getBillListEntityTreeInfo,E=(0,o.useRef)(),M=(0,o.useContext)(u.EdituiContext).model,C=y((0,o.useState)((0,c.List)()),2),P=C[0],w=C[1],O=y((0,o.useState)({}),2),T=O[0],_=O[1],k=y((0,o.useState)([]),2),S=k[0],j=k[1],N=y((0,o.useState)({}),2),F=N[0],D=N[1],L=y((0,o.useState)({}),2),x=L[0],B=L[1],R=y((0,o.useState)([]),2),V=R[0],U=R[1],W=y((0,o.useState)([]),2),K=W[0],Y=W[1],Q=y((0,o.useState)([]),2),G=Q[0],H=Q[1],J=y((0,o.useState)([]),2),z=J[0],q=J[1],X=y((0,o.useState)([]),2),Z=X[0],$=X[1];(0,o.useEffect)((function(){var e=g(),t=m(),r=(0,s.flatten)([t],0,0),n=[],o=[];r&&r.forEach((function(e){e.isLeafNode&&!b.includes(e.Type)||n.push(e),b.includes(e.Type)||o.push(e)}));var i=(0,s.toTreeData)(n,0),a=(0,s.toTreeData)(o,0);U(r),D(i),B(a),Y(n),H(o),w(e),q(i),$(a);var l=(0,s.formatResults)(e,r);l&&l.length>0&&M.pub_Event("setProperty",[l]);var u=e&&e.get("0"),d=u&&u.get("id");ne(d,0,e,i,a)}),[]);var ee=(0,o.useCallback)((function(e,t){var r=T.index;if(P.get(r)){var n=P.setIn([r,"fieldId"],e);n=n.setIn([r,"Name"],t),w(n);var o=n&&n.get(r);te(o)}}),[T,P]),te=(0,o.useCallback)((function(e){var t=(0,s.formatResultsSingleList)(e,V);M.pub_Event("setProperty",[t])}),[V]),re=(0,o.useCallback)((function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:T.type)===I,r=t?F:x;if(""===e||null==e)j(r);else{var n=function(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||v(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t?K:G),o=(0,s.filterListData)(e,n)||[];r=(0,s.toTreeData)(o,0),j(r)}t?q(r):$(r)}),[T.type,F,x,K,G]),ne=(0,o.useCallback)((function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:P,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:z,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Z;p(e);var i=r.getIn([t,"type"]),a=T.type===I,l=i===I;T.type&&a!==l?(E.current.value="",re("",i)):j(l?n:o),_({index:t,type:i})}),[P,z,Z,T,re]),oe=(0,o.useCallback)((function(e,t){ee(e,t);var r=T.index+1;setTimeout((function(){if(r<P.size){var e=P.getIn([r,"id"]);ne(e,r)}}),0)}),[ee,T,P,ne]),ie=(0,o.useCallback)((function(){r(),a&&a()}),[r,a]),ae=(0,o.useCallback)((function(){r(0),a&&a()}),[r,a]),le=(0,o.useCallback)((function(e){ee(e)}),[ee]);return t||1!==n?null:o.default.createElement(l.default,{onCLickOutside:ie},o.default.createElement("div",{className:i.default.shadebox},o.default.createElement("div",{className:i.default.root},o.default.createElement(d.Header,{title:(0,f.getLangMsg)("bosd.fieldBindingPanel.key0001")}),o.default.createElement(d.HeaderTip,{tiptext:(0,f.getLangMsg)("bosd.fieldBindingPanel.key0002")}),o.default.createElement(A,{handleEntityItemClick:oe,mappingActiveIndex:T.index,handleMappingItemClick:ne,handleDeleteClick:le,mappingTableData:P,inputRef:E,handleSearch:re,entityTableData:S}),o.default.createElement(d.Footter,{handleCancelClick:ie,handleConfirmClick:function(){r()},handleBackClick:ae,buttonType:7})),o.default.createElement("div",{className:i.default.shade})))},r(233696),r(443616),r(323784),r(835164),r(387912),r(997308),r(86744);var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=g(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}return o.default=e,r&&r.set(e,o),o}(r(795520)),i=p(r(21848)),a=p(r(671252)),l=p(r(472792)),u=r(974184),d=r(912),c=r(891052),s=r(225613),f=r(331428);function p(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(g=function(e){return e?r:t})(e)}function m(e,t,r){var o;return o=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==n(o)?o:String(o))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],u=!0,d=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){d=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(d)throw o}}return l}}(e,t)||v(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){if(e){if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var b=["PictureListColumnAp"],I="CardPictureListColumnAp";function A(e){var t=e.handleEntityItemClick,r=e.handleMappingItemClick,n=e.mappingActiveIndex,l=e.handleDeleteClick,u=e.mappingTableData,d=e.inputRef,c=e.handleSearch,s=e.entityTableData,f=(0,a.default)(m({"kdfont kdfont-houfan":!0},i.default.divisionicon,!0));return o.default.createElement("div",{className:i.default.content},o.default.createElement(M,{handleEntityItemClick:t,inputRef:d,handleSearch:c,entityTableData:s,mappingTableData:u}),o.default.createElement("div",{className:i.default.divisionbox},o.default.createElement("span",{className:f})),o.default.createElement(E,{handleMappingItemClick:r,mappingActiveIndex:n,handleDeleteClick:l,mappingTableData:u}))}function E(e){var t=e.handleDeleteClick,r=e.mappingTableData,n=e.handleMappingItemClick,a=e.mappingActiveIndex;return o.default.createElement("div",{className:i.default.mappingpanel},o.default.createElement("div",{className:i.default.mappingtitle},(0,f.getLangMsg)("bosd.fieldBindingPanel.key0003")),o.default.createElement(d.MappingTable,{handleMappingItemClick:n,mappingActiveIndex:a,handleDeleteClick:t,mappingTableData:r,isList:!0}))}function M(e){var t=e.handleSearch,r=e.inputRef,n=e.handleEntityItemClick,a=e.entityTableData,l=e.mappingTableData,u=l&&l.map((function(e){return e.get("fieldId")}));return o.default.createElement("div",{className:i.default.entitytablepanle},o.default.createElement("div",{className:i.default.entityheader},o.default.createElement("div",{className:i.default.entityname},(0,f.getLangMsg)("bosd.fieldBindingPanel.key0004")),o.default.createElement(d.SearchBar,{inputRef:r,handleSearch:t})),o.default.createElement(d.TreeTable,{treeData:a,handleEntityItemClick:n,slectedFieldArr:u}))}},912:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(360776),r(505684),r(323784),r(743924),r(693917),r(205960),r(976896),r(846428),r(606200),r(534440),r(633768),r(690512),r(78504),r(776512),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.EntityTable=function(e){var t=e.handleEntityItemClick,r=e.entityTableData,n=e.isSearch,a=e.isEntity,u=e.slectedFieldArr;return o.default.createElement("div",{className:i.default.entitytable},o.default.createElement("div",{className:i.default.tableheaderpanel},o.default.createElement("div",{className:i.default.tableheader},(0,d.getLangMsg)("bosd.fieldBindingModule.key0005")),o.default.createElement("div",{className:i.default.tableheaderlast},(0,d.getLangMsg)("bosd.fieldBindingModule.key0006"))),o.default.createElement("div",{className:i.default.tablepanel},r&&r.size>0?r.map((function(e,r){return o.default.createElement(v,{key:e.Id,fieldId:e.Id,id:e.Key,name:e.Name,handleEntityItemClick:t,index:r,slectedFieldArr:u})})):n||a?o.default.createElement("div",{className:i.default.nodatabox},o.default.createElement("img",{src:l.default}),o.default.createElement("span",null,(0,d.getLangMsg)("bosd.fieldBindingModule.key0007"))):null))},t.Footter=function(e){var t,r=e.buttonType,n=e.handleNextClick,l=e.handleConfirmClick,u=e.handleBackClick,c=e.handleCancelClick,s=e.activeTempKey,f=(0,a.default)(g(g(g({},i.default.btn,!0),i.default.cancelBtn,void 0!==s),i.default.disablebtn,!s)),p=o.default.createElement("div",{className:"".concat(i.default.btn," ").concat(i.default.cancelBtn),onClick:c},(0,d.getLangMsg)("bosd.fieldBindingModule.key0009")),m=o.default.createElement("div",{className:"".concat(i.default.btn," ").concat(i.default.confirmBtn),onClick:l},(0,d.getLangMsg)("bosd.fieldBindingModule.key0010")),y=o.default.createElement("div",{className:"".concat(i.default.btn," ").concat(i.default.cancelBtn),onClick:u},(0,d.getLangMsg)("bosd.fieldBindingModule.key0011")),v=o.default.createElement("div",{className:"".concat(i.default.btn," ").concat(i.default.confirmBtn),onClick:n},(0,d.getLangMsg)("bosd.fieldBindingModule.key0012")),h=o.default.createElement("div",{className:f,onClick:l},(0,d.getLangMsg)("bosd.fieldBindingModule.key0013")),b=o.default.createElement("div",{className:f,onClick:n},(0,d.getLangMsg)("bosd.fieldBindingModule.key0014"));switch(r){case 3:t=o.default.createElement("div",{className:i.default.footter},p,m);break;case 7:t=o.default.createElement("div",{className:i.default.footter},p,y,m);break;case 9:t=o.default.createElement("div",{className:i.default.footter},p,b,h);break;case 13:t=o.default.createElement("div",{className:i.default.footter},p,y,v)}return t},t.Header=function(e){var t=e.title;return o.default.createElement("div",{className:i.default.header},o.default.createElement("div",{className:i.default.title},t))},t.HeaderTip=function(e){var t=e.tiptext,r=f((0,o.useState)(!0),2),n=r[0],l=r[1],u=(0,o.useCallback)((function(e){l(!1)}),[]);return n&&o.default.createElement("div",{className:i.default.tipbox},o.default.createElement("i",{className:(0,a.default)("kdfont kdfont-jinggao-mian",i.default.jinggao)}),o.default.createElement("span",{className:i.default.text},t),o.default.createElement("i",{className:(0,a.default)("kdfont kdfont-tupianyulanguanbi",i.default.close),onClick:u}))},t.MappingGroupTable=function(e){var t=e.handleDeleteClick,r=e.mappingTableData,n=e.handleMappingItemClick,a=e.mappingActiveIndex,l=e.deleteMappingItem;return o.default.createElement("div",{className:i.default.mappingtable},o.default.createElement("div",{className:i.default.mappingheaderpanel},o.default.createElement("div",{className:i.default.mappingheader},(0,d.getLangMsg)("bosd.fieldBindingModule.key0001")),o.default.createElement("div",{className:i.default.mapingheaderlast},(0,d.getLangMsg)("bosd.fieldBindingModule.key0002"))),o.default.createElement("div",{className:i.default.mappingitempanel},r&&r.map((function(e,r){var i=e.get("id")||e.get("Id")||e.get("temporaryId"),u=e.get("fieldId");return o.default.createElement(m,{key:i,isFooter:e.get("isFooter"),isParent:e.get("isParent"),parentId:e.get("parentId"),id:i,name:e.get("Name")||e.get("name"),fieldKey:u&&e.get("fieldKey"),newField:e.get("newField"),mappingActiveIndex:a,handleMappingItemClick:n,handleDeleteClick:t,deleteMappingItem:l,index:r})}))))},t.MappingTable=function(e){var t=e.handleDeleteClick,r=e.mappingTableData,n=e.handleMappingItemClick,a=e.mappingActiveIndex,l=e.isForm,u=e.deleteMappingItem,c=e.isList;return o.default.createElement("div",{className:i.default.mappingtable},o.default.createElement("div",{className:i.default.mappingheaderpanel},o.default.createElement("div",{className:i.default.mappingheader},(0,d.getLangMsg)("bosd.fieldBindingModule.key0001")),o.default.createElement("div",{className:i.default.mapingheaderlast},(0,d.getLangMsg)("bosd.fieldBindingModule.key0002"))),o.default.createElement("div",{className:i.default.mappingitempanel},r&&r.map((function(e,r){return o.default.createElement(y,{key:e.get("id"),index:r,id:e.get("id"),name:e.get("Name")||e.get("name"),mappingActiveIndex:a,fieldKey:c&&e.get("fieldId"),handleMappingItemClick:n,handleDeleteClick:t,isForm:l,deleteMappingItem:u})}))))},t.Preview=function(e){var t=e.imgSrcArr,r=e.templateName,n=e.activeTempKey,l=f((0,o.useState)(0),2),d=l[0],c=l[1],s=[];t&&t.forEach((function(e){s.push((0,u.getImgFullPath)("",e,!0,!1))})),(0,o.useEffect)((function(){c(0)}),[n]);var p=(0,o.useCallback)((function(e){e.stopPropagation();var t=d-1;t<0&&(t=s.length-1),c(t)}),[d,s]),m=(0,o.useCallback)((function(e){e.stopPropagation();var t=d+1;t>=s.length&&(t=0),c(t)}),[d,s]),y=(0,a.default)({"kdfont kdfont-qianfan":!0}),v=(0,a.default)({"kdfont kdfont-houfan":!0});return o.default.createElement("div",{className:i.default.previewcontent},1===s.length?null:o.default.createElement("div",{className:i.default.buttonbox,onClick:p},o.default.createElement("span",{className:y})),o.default.createElement("div",{className:i.default.previewbox},o.default.createElement("span",{className:i.default.previewtitle},r),o.default.createElement("img",{className:i.default.previewImg,src:s[d]}),o.default.createElement("div",{className:i.default.checkbox},s&&s.map((function(e,t){var r=(0,a.default)(g(g({},i.default.anchor,!0),i.default.activeanchor,t===d));return o.default.createElement("span",{className:r,key:t})})))),1===s.length?null:o.default.createElement("div",{className:i.default.buttonbox,onClick:m},o.default.createElement("span",{className:v})))},t.SearchBar=function(e){var t=e.inputRef,r=e.handleSearch,n=f((0,o.useState)(""),2),l=n[0],u=n[1],c=(0,o.useCallback)((function(e){u(e.target.value)}),[]),s=(0,o.useCallback)((function(e){13===e.keyCode&&r&&r(e.target.value)}),[r]),p=(0,o.useCallback)((function(){""!==t.current.value&&(t.current.value="",r&&r(""),u(""))}),[r]);return o.default.createElement("div",{className:i.default.searchbar},o.default.createElement("div",{className:i.default.searchbox},o.default.createElement("i",{className:(0,a.default)("kdfont kdfont-f",i.default.searchicon)}),o.default.createElement("input",{className:i.default.searchinput,placeholder:(0,d.getLangMsg)("bosd.fieldBindingModule.key0008"),onChange:c,onKeyDown:s,type:"text",ref:t}),""!==l&&o.default.createElement("span",{onClick:p,className:(0,a.default)("kdfont kdfont-qingkong",i.default.searchdel)})),o.default.createElement("div",null))},t.TreeTable=function(e){var t=e.handleEntityItemClick,r=e.treeData,n=e.slectedFieldArr;return o.default.createElement("div",{className:i.default.treetable},o.default.createElement("div",{className:i.default.tableheaderpanel},o.default.createElement("div",{className:i.default.tableheader},(0,d.getLangMsg)("bosd.fieldBindingModule.key0005")),o.default.createElement("div",{className:i.default.tableheaderlast},(0,d.getLangMsg)("bosd.fieldBindingModule.key0006"))),o.default.createElement("div",{className:i.default.tablepanel},function e(r){if(!r)return null;var a=[];if(r instanceof Array){var l=[];r&&r.forEach((function(t){l.push(e(t))})),a.push(o.default.createElement("div",{className:i.default.nodecontent},l))}else{var u=r.Type,d=r.Items&&r.Items.length>0||"Entity"===u;a.push(o.default.createElement("div",{className:i.default.treenodebox},o.default.createElement(h,{name:r.Name,id:r.Id,isLeafNode:r.isLeafNode,hierarchy:r.hierarchy,children:r.Items,handleEntityItemClick:t,type:u,slectedFieldArr:n}),d?e(r.Items):null))}return a}(r)))},r(9692),r(233696),r(443616),r(835164),r(721300),r(387912),r(660824),r(203120),r(997308);var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}return o.default=e,r&&r.set(e,o),o}(r(795520)),i=c(r(448004)),a=c(r(671252)),l=c(r(247844)),u=r(439532),d=r(331428);function c(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],u=!0,d=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){d=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(d)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function g(e,t,r){var o;return o=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==n(o)?o:String(o))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e){var t=e.isFooter,r=e.isParent,n=e.parentId,l=e.id,u=e.name,d=e.fieldKey,c=e.index,s=e.newField,f=e.mappingActiveIndex,p=e.handleMappingItemClick,m=e.handleDeleteClick,v=e.deleteMappingItem,h=(0,a.default)(g(g({},i.default.grouptip,!0),i.default.activetip,f===c)),b=(0,o.useCallback)((function(){p(l,c+1)}),[p,l,c]),I=(0,o.useCallback)((function(){p(n,c,!0)}),[p,n,c]);return r?o.default.createElement("div",{className:i.default.grouppanelheader,onClick:b},o.default.createElement("span",null,u)):t?o.default.createElement("div",{className:h,onClick:I},u):o.default.createElement(y,{index:c,id:l,name:u,mappingActiveIndex:f,fieldKey:d,parentId:n,newField:s,handleMappingItemClick:p,handleDeleteClick:m,isForm:!0,deleteMappingItem:v})}function y(e){var t=e.name,r=e.id,n=e.mappingActiveIndex,l=e.handleMappingItemClick,u=e.index,c=e.handleDeleteClick,s=e.deleteMappingItem,f=e.fieldKey,p=e.isForm,m=e.parentId,y=e.newField,v=f||(0,d.getLangMsg)("bosd.fieldBindingModule.key0003");u!==n||f||(v=(0,d.getLangMsg)("bosd.fieldBindingModule.key0004"));var h=(0,a.default)(g(g({},i.default.mappingItem,!0),i.default.mappingItemAct,u===n)),b=(0,a.default)(g(g({},i.default.templatefield,!0),i.default.templatefieldAct,u===n)),I=(0,a.default)(g(g(g({},i.default.mappingfield,!0),i.default.mappingfieldAct,v===(0,d.getLangMsg)("bosd.fieldBindingModule.key0004")),i.default.mappingfieldplaceholder,v===(0,d.getLangMsg)("bosd.fieldBindingModule.key0003"))),A=(0,a.default)(g({"kdfont kdfont-yidongduanshanchu":!0},i.default.deleteicon,!0)),E=(0,a.default)(g({"kdfont kdfont-zhuangtai_cuowu":!0},i.default.clearicon,!0)),M=(0,o.useCallback)((function(e){e.stopPropagation(),s(u)}),[u,s]),C=(0,o.useCallback)((function(){l(p?m:r,u)}),[p,m,r,u,l]),P=(0,o.useCallback)((function(e){e.stopPropagation(),c("")}),[c]);return o.default.createElement("div",{className:h,onClick:C},o.default.createElement("div",{className:b},p&&o.default.createElement("span",{className:A,onClick:M}),o.default.createElement("span",{className:i.default.name,title:t},t)),o.default.createElement("div",{className:I},o.default.createElement("span",{className:i.default.mappingname,title:v},v),void 0===y&&u===n&&v!==(0,d.getLangMsg)("bosd.fieldBindingModule.key0004")&&o.default.createElement("i",{className:E,onClick:P})))}function v(e){var t=e.name,r=e.id,n=e.handleEntityItemClick,l=e.index,u=e.fieldId,d=e.slectedFieldArr,c=(0,o.useCallback)((function(){n(r,l,u,t)}),[r,l,u,n,t]),s=(0,a.default)(g(g({},i.default.tableitempanel,!0),i.default.tableitemsleted,d&&d.includes(u)));return o.default.createElement("div",{className:s,onClick:c},o.default.createElement("div",{className:i.default.tableitem,title:t},t),o.default.createElement("div",{className:i.default.tableitemlast,title:r},r))}function h(e){var t=e.name,r=e.id,n=e.handleEntityItemClick,u=e.hierarchy,c=e.isLeafNode,s=e.children,p=e.slectedFieldArr;if(!c&&(!s||s.length<1))return 0===u?o.default.createElement("div",{className:i.default.nodatabox},o.default.createElement("img",{src:l.default}),o.default.createElement("span",null,(0,d.getLangMsg)("bosd.fieldBindingModule.key0007"))):null;var m=(0,o.useRef)(),y=f((0,o.useState)(!0),2),v=y[0],h=y[1],b=(0,a.default)(g({"kdfont kdfont-shouqi":v,"kdfont kdfont-unfolded-s":!v},i.default.fold,!0)),I=(0,o.useCallback)((function(){c?n(r,t):h((function(e){var t=e?"none":"flex";return m.current.nextSibling.style.display=t,!e}))}),[c,n,t]),A=c?24*(u-1)+60:24*u+13,E=(0,a.default)(g(g(g({},i.default.tableitempanels,!0),i.default.tableitempanel,c),i.default.seltableitem,p&&p.includes(r)));return o.default.createElement("div",{className:E,style:{paddingLeft:"".concat(A,"px")},ref:m,onClick:I},!c&&o.default.createElement("i",{className:b}),o.default.createElement("div",{className:i.default.tableitem,title:t},t),c&&o.default.createElement("div",{className:i.default.tableitemlast,title:r},r))}},411120:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(360776),r(505684),r(743924),r(693917),r(205960),r(976896),r(721300),r(846428),r(606200),r(534440),r(633768),r(690512),r(78504),r(776512),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.isPC,r=e.changeShowPanleType,n=e.showPanelType,a=e.selectControlId,g=e.getPageFieldInfos,m=e.getBillHeaderFieldInfo,y=e.addEntityControl,h=e.activeTempKey,A=e.deleteControl,E=e.selControlId,M=e.setUiInfo,C=e.originUiInfo,P=e.getFormFieldInfo,w=e.setFormMappingData,O=e.formMappingData,T=(0,o.useRef)(),_=(0,o.useContext)(u.EdituiContext).model,k=v((0,o.useState)((0,c.List)()),2),S=k[0],j=k[1],N=v((0,o.useState)(O),2),F=N[0],D=N[1],L=v((0,o.useState)({}),2),x=L[0],B=L[1],R=v((0,o.useState)((0,c.List)()),2),V=R[0],U=R[1],W=v((0,o.useState)(),2),K=W[0],Y=W[1],Q=v((0,o.useState)(!1),2),G=Q[0],H=Q[1];(0,o.useEffect)((function(){var e=m();U(e),j(e);var t=O;if(O&&0===O.size){var r=g(),n=r&&r.filter((function(e){return"FieldAp"===e.get("type")}));t=(0,f.getGroupInfos)(n,P),D(t)}var o=t&&t.get("0"),i=o&&o.get("Id");z(i,1)}),[]),(0,o.useEffect)((function(){if(K&&E!==K){var e=(0,f.formatNewField)(F,E);D(e)}}),[E]);var J=(0,o.useCallback)((function(e,t,r){var n=x.index,o=(0,f.getNewMappingData)(n,F,e,t,r);o&&D(o);var i=o&&o.get(n);X(i)}),[x,F]),z=(0,o.useCallback)((function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];a(e),B({index:t,isFooter:r}),r&&Y(e)}),[a]),q=(0,o.useCallback)((function(e,t,r,n){var o=x.index;if(x.isFooter){var i=o+1,a=V.get(t),l=a.Id,u=a.Name;y(l,K);var d={name:u,fieldId:r,fieldKey:e,parentId:K,type:"FieldAp",temporaryId:(0,s.default)(10),newField:!0},f=F.splice(o,0,(0,c.fromJS)(d));D(f),B({index:i,isFooter:!0})}else{J(e,r,n);var p=o+1,g=F.getIn([p,"isFooter"]);if(g){var m=F.getIn([o,"parentId"]);B({index:p,isFooter:g}),Y(m)}else{var v=F.getIn([p,"parentId"]);z(v,p)}}}),[x,J,F,z,V,y]),X=(0,o.useCallback)((function(e){var t=(0,f.formatResultsSingleForm)(e,S);_.pub_Event("setProperty",[t])}),[S]),Z=(0,o.useCallback)((function(){r(),w((0,c.List)()),M&&M(C)}),[r,w,M,C]),$=(0,o.useCallback)((function(){r(0),w((0,c.List)()),M&&M(C)}),[r,w,M,C]),ee=(0,o.useCallback)((function(e){J(e)}),[J]),te=(0,o.useCallback)((function(e){if(""===e||null==e)U(S),H(!1);else{var t=(0,f.filterData)(e,S)||(0,c.List)();U(t),H(!0)}}),[S]),re=(0,o.useCallback)((function(e){var t=F.getIn([e,"id"]);A(t);var r=F.delete(e);D(r);var n=r.getIn([e,"parentId"]),o=r.getIn([e,"isFooter"]);z(n,e,o)}),[F,A,z]);if(t||2!==n)return null;var ne=b.includes(h)?13:7;return o.default.createElement(l.default,{onCLickOutside:Z},o.default.createElement("div",{className:i.default.shadebox},o.default.createElement("div",{className:i.default.root},o.default.createElement(d.Header,{title:(0,p.getLangMsg)("bosd.formFieldBindPanel.key0001")}),o.default.createElement(d.HeaderTip,{tiptext:(0,p.getLangMsg)("bosd.formFieldBindPanel.key0002")}),o.default.createElement(I,{handleEntityItemClick:q,mappingActiveIndex:x.index,deleteMappingItem:re,handleMappingItemClick:z,handleDeleteClick:ee,mappingTableData:F,inputRef:T,handleSearch:te,entityTableData:V,isSearch:G}),o.default.createElement(d.Footter,{handleCancelClick:Z,handleConfirmClick:function(){r()},handleBackClick:$,buttonType:ne,handleNextClick:function(){r(3),w(F)}})),o.default.createElement("div",{className:i.default.shade})))},r(622676),r(443616),r(323784),r(835164),r(927184),r(387912);var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=m(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}return o.default=e,r&&r.set(e,o),o}(r(795520)),i=g(r(21848)),a=g(r(671252)),l=g(r(472792)),u=r(974184),d=r(912),c=r(891052),s=g(r(918048)),f=r(225613),p=r(331428);function g(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(m=function(e){return e?r:t})(e)}function y(e,t,r){var o;return o=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==n(o)?o:String(o))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],u=!0,d=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){d=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(d)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var b=["bos_entryinput_mobform","bos_cardentry_mobform","bos_billdetails_mobform","bos_clientdetails_mobform"];function I(e){var t=e.handleEntityItemClick,r=e.handleMappingItemClick,n=e.mappingActiveIndex,l=e.handleDeleteClick,u=e.mappingTableData,d=e.inputRef,c=e.handleSearch,s=e.entityTableData,f=e.deleteMappingItem,p=e.isSearch,g=(0,a.default)(y({"kdfont kdfont-houfan":!0},i.default.divisionicon,!0));return o.default.createElement("div",{className:i.default.content},o.default.createElement(E,{handleEntityItemClick:t,inputRef:d,handleSearch:c,entityTableData:s,isSearch:p,mappingTableData:u}),o.default.createElement("div",{className:i.default.divisionbox},o.default.createElement("span",{className:g})),o.default.createElement(A,{handleMappingItemClick:r,mappingActiveIndex:n,deleteMappingItem:f,handleDeleteClick:l,mappingTableData:u}))}function A(e){var t=e.handleDeleteClick,r=e.mappingTableData,n=e.handleMappingItemClick,a=e.mappingActiveIndex,l=e.deleteMappingItem;return o.default.createElement("div",{className:i.default.mappingpanel},o.default.createElement("div",{className:i.default.mappingtitle},(0,p.getLangMsg)("bosd.formFieldBindPanel.key0003")),o.default.createElement(d.MappingGroupTable,{handleMappingItemClick:n,mappingActiveIndex:a,deleteMappingItem:l,handleDeleteClick:t,mappingTableData:r}))}function E(e){var t=e.handleSearch,r=e.inputRef,n=e.handleEntityItemClick,a=e.entityTableData,l=e.isSearch,u=e.mappingTableData,c=u&&u.map((function(e){return e.get("fieldId")}));return o.default.createElement("div",{className:i.default.entitytablepanle},o.default.createElement("div",{className:i.default.entityheader},o.default.createElement("div",{className:i.default.entityname},(0,p.getLangMsg)("bosd.formFieldBindPanel.key0004")),o.default.createElement(d.SearchBar,{inputRef:r,handleSearch:t})),o.default.createElement(d.EntityTable,{handleEntityItemClick:n,entityTableData:a,isSearch:l,slectedFieldArr:c}))}},250552:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(360776),r(622676),r(233696),r(505684),r(743924),r(693917),r(205960),r(976896),r(297336),r(721300),r(846428),r(969e3),r(606200),r(534440),r(76152),r(76124),r(387912),r(690512),r(78504),r(776512),r(997308),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.isShowInserDialog,r=e.inserDialogType,n=e.insertInfo,s=e.hideInserDialog,f=e.insertControl,p=y((0,o.useState)("next"),2),v=p[0],b=p[1],I=y((0,o.useState)(1),2),A=I[0],E=I[1],M=y((0,o.useState)(!1),2),C=M[0],P=M[1],w=function(e){b(e.target.value)},O=function(){s&&s(!1)},T=(0,i.default)(m({},d.default.button,!0)),_="Row"===r,k=!0===t?o.default.createElement("div",{className:d.default.dialogRoot},o.default.createElement("div",{className:d.default.dialog},o.default.createElement("div",{className:d.default.title},o.default.createElement("span",{className:d.default.text},_?(0,c.getLangMsg)("bosd.gridDialog.key0001"):(0,c.getLangMsg)("bosd.gridDialog.key0002")),o.default.createElement("span",{className:(0,i.default)("kdfont kdfont-guanbiyulan kd-hover-color",d.default.icon),onClick:O})),o.default.createElement("div",{className:d.default.content},o.default.createElement("div",{className:d.default.position},(0,c.getLangMsg)("bosd.gridDialog.key0003"),o.default.createElement(u.Radio,{checked:"before"===v,group:"printGridRadiogroup",onChange:w,text:_?(0,c.getLangMsg)("bosd.gridDialog.key0004"):(0,c.getLangMsg)("bosd.gridDialog.key0006"),value:"before"}),o.default.createElement(u.Radio,{checked:"next"===v,group:"printGridRadiogroup",onChange:w,text:_?(0,c.getLangMsg)("bosd.gridDialog.key0005"):(0,c.getLangMsg)("bosd.gridDialog.key0007"),value:"next"})),o.default.createElement("div",{className:d.default.inputCount},o.default.createElement("div",{className:d.default.label},_?(0,c.getLangMsg)("bosd.gridDialog.key0008"):(0,c.getLangMsg)("bosd.gridDialog.key0009")),o.default.createElement("div",null,o.default.createElement(h,{value:A,onChange:function(e){E(e.target.value.replace(/\D/g,""))},onBlur:function(e){e.target.value>20||e.target.value<=0?P(!0):!0===C&&P(!1)}}),!0===C?o.default.createElement("div",{className:d.default.error},(0,c.getLangMsg)("bosd.gridDialog.key0010")," [0,20]"):null))),o.default.createElement("div",{className:d.default.footer},o.default.createElement(l.Button,{className:d.default.button,type:"ghost",onClick:O},(0,c.getLangMsg)("bosd.gridDialog.key0011")),o.default.createElement(l.Button,{className:T,onClick:function(){!1===C&&f&&A>0&&A<=20&&f(r,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({isNext:"next"===v,repeatCount:parseInt(A)},n))},type:"primary"},(0,c.getLangMsg)("bosd.gridDialog.key0012"))))):null;return a.default.createPortal(k,document.body)},r(323784),r(336368),r(571176),r(633768),r(513640);var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}return o.default=e,r&&r.set(e,o),o}(r(795520)),i=s(r(671252)),a=s(r(369396)),l=r(199860),u=r(564491),d=s(r(434067)),c=r(331428);function s(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p.apply(this,arguments)}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e,t,r){var o;return o=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==n(o)?o:String(o))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],u=!0,d=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){d=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(d)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function h(e){var t=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e));return o.default.createElement("input",p({className:d.default.numberInput,type:"text"},t))}},687096:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(505684),r(323784),r(743924),r(976896),r(297336),r(721300),r(606200),r(534440),r(387912),r(690512),r(78504),r(776512),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.GuideBubble=I,t.StartPage=b,t.default=void 0,t.getCurrentEnvrionment=h,r(9692),r(443616),r(835164),r(693917),r(336368),r(76124),r(571176),r(633768),r(660824),r(218080),r(513640);var o=f(r(795520)),i=(c(r(540900)),c(r(411960))),a=c(r(671252)),l=r(373448),u=f(r(212352)),d=r(331428);function c(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}return o.default=e,r&&r.set(e,o),o}function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p.apply(this,arguments)}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],u=!0,d=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){d=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(d)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var y=[{selector:"",content:{title:"home",desc:(0,d.getLangMsg)("bosd.guide.key0001"),img:l.GxiaoKImg}},{selector:".bos-guide-toolbar",content:{title:(0,d.getLangMsg)("bosd.guide.key0002"),desc:(0,d.getLangMsg)("bosd.guide.key0003"),img:l.GtoolbarImg}},{selector:".bos-guide-template",content:{title:(0,d.getLangMsg)("bosd.guide.key0004"),desc:(0,d.getLangMsg)("bosd.guide.key0005"),img:l.GtemplateImg}},{selector:"",content:{direction:"",title:(0,d.getLangMsg)("bosd.guide.key0006"),desc:(0,d.getLangMsg)("bosd.guide.key0007"),img:l.GtemplatePickImg,fakeTarget:[{id:1,img:l.GtemplateListImg,style:{position:"absolute",width:"640px",top:58,left:0}},{id:2,img:l.GtemplateBtnImg,style:{position:"absolute",width:"640px",bottom:0,left:0}}],pos:{left:680,top:"50%",fingerDirection:"left"}}},{selector:"",content:{title:(0,d.getLangMsg)("bosd.guide.key0008"),desc:(0,d.getLangMsg)("bosd.guide.key0009"),img:l.GfieldBindModuleImg,fakeTarget:[{id:1,img:l.GfieldBindListImg,style:{position:"absolute",width:"640px",top:58,left:0}},{id:2,img:l.GfieldBindBtnImg,style:{position:"absolute",width:"640px",bottom:0,left:0}}],pos:{left:680,top:"50%",fingerDirection:"left"}}},{selector:".bos-guide-copy",content:{title:(0,d.getLangMsg)("bosd.guide.key0010"),desc:(0,d.getLangMsg)("bosd.guide.key0011"),img:l.GcopeImg}},{selector:".bos-guide-formatpainter",content:{title:(0,d.getLangMsg)("bosd.guide.key0012"),desc:(0,d.getLangMsg)("bosd.guide.key0013"),img:l.GformatPainterImg},img:""},{selector:".bos-guide-mobile-receipt",content:{title:(0,d.getLangMsg)("bosd.guide.key0014"),desc:(0,d.getLangMsg)("bosd.guide.key0015"),img:l.GstartImg}}],v={toolbox:{selector:"",content:{direction:"",title:(0,d.getLangMsg)("bosd.guide.key0016"),desc:(0,d.getLangMsg)("bosd.guide.key0017").replace("*","<span style='color: red'>*</span>"),img:l.GControlSImg,fakeTarget:[{id:1,img:l.GControlBImg,style:{position:"absolute",width:"270px",top:58,left:0}}],pos:{left:310,top:"50%",fingerDirection:"left"}}},fragments:{selector:"",content:{direction:"",title:(0,d.getLangMsg)("bosd.guide.key0018"),desc:(0,d.getLangMsg)("bosd.guide.key0019"),img:l.GModuleSImg,fakeTarget:[{id:1,img:l.GModuleBImg,style:{position:"absolute",width:"270px",top:58,left:0}}],pos:{left:310,top:"58px",fingerDirection:"left",transform:"translateY(0)"},fingerPos:{top:"35px"}}},CardListColumnAp:{selector:".bos-guide-selectPanel",content:{direction:"",title:(0,d.getLangMsg)("bosd.guide.key0020"),desc:(0,d.getLangMsg)("bosd.guide.key0021"),img:l.GfastPickCard,pos:{left:"50%",top:"100%",fingerDirection:"left",transform:"translate(-50%, -130%)"},fingerPos:{top:"220px",transform:"rotate(-90deg)",left:"50%"}}},CardRowPanelAp:{selector:"",content:{direction:"",title:(0,d.getLangMsg)("bosd.guide.key0022"),desc:(0,d.getLangMsg)("bosd.guide.key0023"),img:l.GCardRowListImg,fakeTarget:[{id:1,img:l.GCardRowPanelImg,style:{position:"absolute",width:"280px",top:58,left:"100%",transform:"translateX(-100%)"}}],pos:{left:"100%",top:"58px",transform:"translateX(-640px)"},fingerPos:{top:"35px"}}},CardListColumnApBind:{selector:'[title="[ListFieldId]"]',content:{direction:"",title:(0,d.getLangMsg)("bosd.guide.key0024"),desc:(0,d.getLangMsg)("bosd.guide.key0025"),img:l.GsingFieldBindImg}}};function h(){var e=window.location.pathname.match(/\/(\w+)\//);return e?e[1]:""}function b(e){var t=h(),r=u.default.get("".concat(t).concat(u.KD_DESIGNER_LOGIN_USER_INFO));return r=r?JSON.parse(r):{},o.default.createElement("div",{className:i.default["guide-start-page"]},o.default.createElement("div",{className:i.default["start-img"]},o.default.createElement("img",{src:l.GxiaoKImg,alt:""})),o.default.createElement("p",{className:i.default.username},"Hi, ",r?r.username:""),o.default.createElement("div",{className:i.default["start-word"]},o.default.createElement("p",null,(0,d.getLangMsg)("bosd.guide.key0026")),o.default.createElement("p",null,(0,d.getLangMsg)("bosd.guide.key0027"))),o.default.createElement("div",{className:i.default["start-footer"]},o.default.createElement("button",{onClick:e.handleSkipGuide},(0,d.getLangMsg)("bosd.guide.key0028")),o.default.createElement("button",{className:i.default["active-btn"],onClick:e.handleStartGuide},(0,d.getLangMsg)("bosd.guide.key0029"))))}function I(e){var t=(0,o.useRef)(null),r=g((0,o.useState)({}),2),n=r[0],l=r[1],u=g((0,o.useState)({}),2),c=u[0],s=u[1],f=e.guideIndex===e.totalStep-1,p=e.fakeTarget,m=p?p.map((function(e){return o.default.createElement("div",{key:e.id},o.default.createElement("img",{src:e.img,alt:"",style:e.style}))})):"",y=(0,a.default)(i.default.finger,e.pos&&e.pos.fingerDirection?i.default["finger-left"]:"");(0,o.useEffect)((function(){l(function(){if(e.pos)return e.fingerPos?s(e.fingerPos):s({top:"50%"}),Object.assign({},e.pos,{visibility:"visible"});var r=e.targetNode?e.targetNode.getBoundingClientRect():{},n=r.left,o=r.top,i=(r.width,r.height),a=t.current?t.current.getBoundingClientRect():{},l={position:"absolute",left:n-40-a.width,top:o+Math.floor(i/2),visibility:"visible"},u=(parseInt(a.height)-parseInt(i))/2-o,d=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,c=o+(parseInt(a.height)-parseInt(i))/2-d;return u>0?(l.transform="translateY(-10%)",s({top:"10%"})):c>0?(l.transform="translateY(-90%)",s({top:"90%"})):s({top:"50%"}),l}())}),[e.guideIndex]);var v=e.guideIndex,h=e.totalStep;return e.isFirstGuide&&(v-=1,h-=1),o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{className:i.default["guide-info"],style:n,ref:t},o.default.createElement("div",{className:i.default.header},o.default.createElement("span",{className:i.default.title},e.title),e.showSkip&&!f&&o.default.createElement("span",{className:i.default.jump,onClick:e.handleSkipGuide},(0,d.getLangMsg)("bosd.guide.key0030"))),o.default.createElement("div",{className:i.default.main},o.default.createElement("p",{dangerouslySetInnerHTML:{__html:e.desc}}),o.default.createElement("img",{src:e.img,alt:""})),o.default.createElement("div",{className:i.default.footer},e.showSkip?o.default.createElement(o.default.Fragment,null,o.default.createElement("span",{className:i.default.page},v+1,"/",h," "),o.default.createElement("div",null,v>0&&o.default.createElement("button",{onClick:e.handlePrevStep},(0,d.getLangMsg)("bosd.guide.key0032")),o.default.createElement("button",{className:i.default["active-btn"],onClick:e.handleNextStep},f?(0,d.getLangMsg)("bosd.guide.key0033"):(0,d.getLangMsg)("bosd.guide.key0034")))):o.default.createElement("div",{style:{width:"100%",textAlign:"right"}},o.default.createElement("button",{className:i.default["active-btn"],onClick:e.handleNextStep},(0,d.getLangMsg)("bosd.guide.key0031")))),o.default.createElement("div",{className:y,style:c},o.default.createElement("span",null)),o.default.createElement("div",{className:i.default["target-mask"]})),m)}t.default=function(e){var t=g((0,o.useState)(!1),2),r=t[0],n=t[1],l=g((0,o.useState)(0),2),c=l[0],s=l[1],f=g((0,o.useState)(),2),m=f[0],h=f[1],A=g((0,o.useState)(!0),2),E=A[0],M=A[1],C=g((0,o.useState)({}),2),P=C[0],w=C[1],O=(0,o.useRef)(null),T=e.isPC,_=g((0,o.useState)(y),2),k=_[0],S=_[1],j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=u.default.get(u.IERP_BOS_GUIDE)||"{}",r=JSON.parse(t);return e?r[e]:r},N={toolbox:"toolbox",fragments:"fragments",CardRowPanelAp:"CardRowPanelAp",CardListColumnApBind:"CardListColumnApBind",CardListColumnAp:"CardListColumnAp",CardFlexPanelAp:"CardListColumnAp",CardPictureListColumnAp:"CardListColumnAp",CardDateListColumnAp:"CardListColumnAp",CardTimeListColumnAp:"CardListColumnAp",CardCheckBoxListColumnAp:"CardListColumnAp",CardComboListColumnAp:"CardListColumnAp",CardMulComboListColumnAp:"CardListColumnAp",CardDecimalListColumnAp:"CardListColumnAp",CardFlexListColumnAp:"CardListColumnAp"},F=["CardListColumnAp","CardPictureListColumnAp","CardDateListColumnAp","CardTimeListColumnAp","CardCheckBoxListColumnAp","CardComboListColumnAp","CardMulComboListColumnAp","CardDecimalListColumnAp","CardFlexListColumnAp"],D=1===j().isFirstGuide&&Object.keys(N).includes(e.showGuideType);(0,o.useEffect)((function(){var t=e.showGuideType;return T||1===j().isFirstGuide&&0!==t||n(!0),D&&(1!==j(N[t])&&n(!0),"CardListColumnAp"===t&&1!==j("CardListColumnApBind")&&n(!0)),function(){n(!1)}})),(0,o.useEffect)((function(){var t=e.showGuideType,r=[];if(D){var n=N[t],o=1===j(n);if(o&&"CardListColumnAp"!==t)return;r=[v[n]],F.includes(t)&&(r=o?[v.CardListColumnApBind]:[v.CardListColumnApBind,v[n]])}else 0===t&&(r=y.slice(1));0!==r.length&&(1===r.length&&M(!1),s(0),S(r),V(r[0].selector,L))}),[e.showGuideType]);var L=function(){n(!1),s(0),M(!0),h(null),e.showGuide&&e.showGuide(-1)};(0,o.useEffect)((function(){if(m){var e=m.getBoundingClientRect()||{},t=e.left,r=e.top,n=e.width,o=e.height;w({width:n,height:o,left:t,top:r})}return function(){w({width:0,height:0})}}),[m]);var x=k.length,B=(0,a.default)("guide-content-container",i.default["guide-content"]),R=function(){M(!1),W(x-1)},V=function(e,t){if(!e)return h(null);var r=O&&O.current&&O.current.querySelectorAll(e);if(r.length||!t){if(r&&r.length){var n=r[0];h(n)}}else t()},U=function(){return W(c+1)},W=function(t){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k;if(t===x)return r=j()||{},D?(r[N[e.showGuideType]]=1,F.includes(e.showGuideType)&&(r.CardListColumnApBind=1)):r.isFirstGuide=1,u.default.set(u.IERP_BOS_GUIDE,JSON.stringify(r)),n(!1),s(0),M(!0),h(null),void(e.showGuide&&e.showGuide(-1));s(t),o[t]&&V(o[t].selector)},K=Object.assign({showSkip:E,guideIndex:c,totalStep:x,targetNode:m},k[c].content),Y=!D&&1!==j().isFirstGuide,Q=Y&&0===c;return o.default.createElement("div",{className:i.default["guide-container"],ref:O},e.children,r&&o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{className:i.default["guide-overlay"]},o.default.createElement("i",{className:i.default["guide-overlay-shape"],style:P,"data-content":(0,d.getLangMsg)("bosd.guide.key0035")})),o.default.createElement("div",{className:B,key:"guide-content"},Q?o.default.createElement(b,{handleSkipGuide:R,handleStartGuide:U}):o.default.createElement(I,p({handlePrevStep:function(){return W(c-1)},handleNextStep:U},K,{handleSkipGuide:R,isFirstGuide:Y})))))}},357576:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(360776),r(743924),r(205960),r(846428),r(708896),r(606200),r(534440),r(670864),r(387912),r(836887),r(78504),r(776512),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.MessagePageContainer=void 0,r(297336),r(880920),r(86744);var o=p(r(795520)),i=s(r(540900)),a=r(891052),l=r(330936),u=p(r(46932)),d=s(r(551008)),c=r(974184);function s(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}return o.default=e,r&&r.set(e,o),o}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m(n.key),n)}}function m(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:String(t)}function y(e,t,r){return t=h(t),function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,v()?Reflect.construct(t,r||[],h(e).constructor):t.apply(e,r))}function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(v=function(){return!!e})()}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}var I=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),y(this,t,arguments)}var r,n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(t,e),r=t,(n=[{key:"componentDidMount",value:function(){var e=this;this.subscribe=d.default.subscribe({channel:this.context.model.pageId,topic:"notify_message:designer",callback:function(t){var r=t.message,n=t.messageType;e.props.notifyMessage(r,n)}})}},{key:"componentWillUnmount",value:function(){d.default.unsubscribe(this.subscribe)}},{key:"componentWillReceiveProps",value:function(e){var t=this;e.notify_message&&!e.notify_message.get("message")||(0,a.is)(this.props.notify_message,e.notify_message)||(clearTimeout(this.timeId),this.timeId=setTimeout((function(){t.props.notifyMessage()}),3e3))}},{key:"shouldComponentUpdate",value:function(e,t){return!(0,a.is)(this.props.notify_message,e.notify_message)}},{key:"render",value:function(){if(!this.props.notify_message||this.props.notify_message&&!this.props.notify_message.get("message"))return null;var e=this.props.notify_message,t={color:"warn"==e.get("messageType")?"darkorange":"#ffffff"};return o.default.createElement("div",{id:"message-page",style:{position:"fixed",width:"100%",backgroundColor:"black",height:40,bottom:0,border:"1px solid ",display:"flex",alignItems:"center",paddingLeft:20,zIndex:1050}},o.default.createElement("span",{style:t},e.get("message")))}}])&&g(r.prototype,n),i&&g(r,i),Object.defineProperty(r,"prototype",{writable:!1}),t}(o.Component);I.propTypes={notify_message:i.default.object},I.contextType=c.DesignerContext;t.MessagePageContainer=(0,l.connect)((function(e){return{notify_message:e.shareState.get("notify_message")}}),u)(I)},635988:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(360776),r(505684),r(743924),r(693917),r(205960),r(976896),r(721300),r(846428),r(606200),r(534440),r(387912),r(690512),r(78504),r(776512),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(323784),r(571176),r(633768),r(125048),r(513640);var o=g(r(795520)),i=f(r(671252)),a=g(r(211152)),l=f(r(472792)),u=f(r(591360)),d=r(331428),c=r(142408),s=f(r(941564));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(p=function(e){return e?r:t})(e)}function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=p(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}return o.default=e,r&&r.set(e,o),o}function m(e,t,r){var o;return o=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==n(o)?o:String(o))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],u=!0,d=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){d=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(d)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var h=function(e){var t=e.qrCodeRight,r=function(){var e=window.location,t=e.origin,r=e.pathname;return t+(r.endsWith("html")?r.replace("index","mobile"):r+"mobile.html")+"?userId=Guest#/form/cos_component"};return o.default.createElement("div",{className:s.default.box,style:{right:t}},o.default.createElement("h4",null," ",(0,d.getLangMsg)("mobile.mobileReceiptQRcode.key0002")),o.default.createElement(u.default,{value:r(),size:130,bgColor:"#FFFFFF",fgColor:"#000000",level:"L"}),o.default.createElement("a",{href:r(),target:"_blank",rel:"noopener noreferrer",onClick:function(e){e.preventDefault();var t=(0,a.getGlobalState)().get("rootPageId");a.default[a.INVOKE_CUSTOM_EVENT]&&a.default[a.INVOKE_CUSTOM_EVENT](t,"",[c.CUSTOM_EVENT_SHOW_MOBILE_CTRL,"",""])}},(0,d.getLangMsg)("mobile.mobileReceiptQRcode.key0003")))};t.default=function(e){var t=y((0,o.useState)(!0),2),r=t[0],n=t[1],a=y((0,o.useState)(0),2),u=a[0],c=a[1],f=(0,o.useRef)();(0,o.useLayoutEffect)((function(){var e=window.parseInt(window.getComputedStyle(f.current).width);c(e+20)}),[]);var p=r?(0,i.default)(s.default.wrap,s.default.codeHidden):(0,i.default)(s.default.wrap,s.default.code),g=(0,i.default)(s.default.wrap,"bos-guide-mobile-receipt"),v=(0,i.default)(s.default.tip,m({},s.default.clicked,!1===r)),b=(0,i.default)(s.default.tip);return o.default.createElement(l.default,{onCLickOutside:function(){return n(!0)}},o.default.createElement("div",{className:s.default.wrapContainer,ref:f},o.default.createElement("div",{className:p},r?null:o.default.createElement(h,{qrCodeRight:u}),o.default.createElement("div",{className:v,onClick:function(){return n(!r)}},o.default.createElement("span",{className:"kdfont kdfont-shili ".concat(s.default.icon)}),o.default.createElement("span",{className:s.default.text},(0,d.getLangMsg)("mobile.mobileReceiptQRcode.key0001")))),o.default.createElement("div",{className:g},o.default.createElement("div",{className:b,onClick:function(){e.showGuide&&e.showGuide()}},o.default.createElement("span",{className:"kdfont kdfont-yindao2 ".concat(s.default.icon)}),o.default.createElement("span",{className:s.default.text},(0,d.getLangMsg)("mobile.mobileReceiptQRcode.key0004"))))))}},425060:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(360776),r(743924),r(205960),r(846428),r(336368),r(708896),r(606200),r(534440),r(670864),r(836887),r(78504),r(776512),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(9692),r(622676),r(233696),r(443616),r(241872),r(835164),r(297336),r(721300),r(880920),r(387912),r(763600),r(633768),r(690512),r(29885),r(997308);var o=A(r(790832)),i=A(r(540900)),a=I(r(795520)),l=r(891052),u=A(r(671252)),d=I(r(373448)),c=d,s=r(65624),f=A(r(535136)),p=(A(r(501772)),I(r(12656))),g=A(r(673252)),m=r(463108),y=r(489912),v=r(974184),h=r(331428);function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(b=function(e){return e?r:t})(e)}function I(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=b(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}return o.default=e,r&&r.set(e,o),o}function A(e){return e&&e.__esModule?e:{default:e}}function E(){return E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E.apply(this,arguments)}function M(e,t,r){return(t=P(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,P(n.key),n)}}function P(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:String(t)}function w(e,t,r){return t=T(t),function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _(e)}(e,O()?Reflect.construct(t,r||[],T(e).constructor):t.apply(e,r))}function O(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(O=function(){return!!e})()}function T(e){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},T(e)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},k(e,t)}var S=(0,f.default)(p.TreeNode,!0,!1),j=(0,f.default)(p.TreeNode,!1,!0),N=(0,f.default)(p.TreeNode,!0,!0),F=["ColumnAp","TabPageAp","SplitPanelAp","AdvConSummaryPanelAp","AdvConToolbarAp","AdvConChildPanelAp"];function D(e){return c[e]||c.defaultIcon}var L=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=w(this,t,[e])).state={showContentModel:!1,isExpand:!1,isExpandAll:!1,isPackUpAll:!1},r.onSelect=r.onSelect.bind(_(r)),r.handleSearch=r.handleSearch.bind(_(r)),r.getIdInTree=r.getIdInTree.bind(_(r)),r.handleSwitch=r.handleSwitch.bind(_(r)),r.handlePackUpAll=r.handlePackUpAll.bind(_(r)),r.handleChildExpandChange=r.handleChildExpandChange.bind(_(r)),r.handleChildPackUpChange=r.handleChildPackUpChange.bind(_(r)),r.handlePreventBubble=r.handlePreventBubble.bind(_(r)),r.getKeyById=r.getKeyById.bind(_(r)),r.searchInfo={ids:[],name:"",index:0},r}var r,n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}(t,e),r=t,(n=[{key:"shouldComponentUpdate",value:function(e,t,r){return!(0,l.is)(this.props.uiInfo,e.uiInfo)||this.props.select_control_id!=e.select_control_id||this.props.select_control_ids!=e.select_control_ids||this.props.format_control_id!=e.format_control_id||this.props.dragover_control_id!=e.dragover_control_id||this.state.showContentModel!==t.showContentModel||this.state.isExpandAll!==t.isExpandAll||this.state.isPackUpAll!==t.isPackUpAll}},{key:"handleSearch",value:function(e){var t=this.props,r=t.isEntity,n=t.uiInfo,o=t.select_control_id,i=e.target.value,a=this.props.uiInfo.getIn(["ui"]);if(r&&(a=this.props.uiInfo.getIn(["entitytree"])),13===e.which){if(""===i)return this.resetSearch(),void(r?this.props.initSelectControlId(a.getIn(["Id"])):this.props.selectControlId(a.getIn(["Id"])));if(this.searchInfo.name===i?(this.searchInfo.index++,this.searchInfo.index===this.searchInfo.ids.length&&(this.searchInfo.index=0)):(this.searchInfo.name=i,this.searchInfo.ids.length=0,this.searchInfo.index=0,this.getIdInTree(a)),r){var l,u=this.searchInfo.ids[this.searchInfo.index],d=new RegExp(this.searchInfo.name,"i"),c=(null===(l=y.uiModel.getFormmetaItemsByFieldId(n,u))||void 0===l?void 0:l.filter((function(e){return d.test(e.get("Name"))||d.test(e.get("Key"))}))).getIn([0,s.ID]);u&&c&&u!==c?u=c:u&&!c&&"MobMeta"===n.get("designer")&&(u=o),this.searchInfo.ids.length?this.props.initSelectControlId(u):this.props.initSelectControlId(a.getIn(["Id"]))}else this.searchInfo.ids.length?this.props.selectControlId(this.searchInfo.ids[this.searchInfo.index]):this.props.selectControlId(a.getIn(["Id"]))}}},{key:"handlePreventBubble",value:function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}},{key:"getIdInTree",value:function(e){var t=this,r=this.props,n=r.isEntity,o=r.uiInfo,i=e.getIn(["Items"]),a=e.getIn(["Id"]),l=new RegExp(this.searchInfo.name,"i"),u=this.getNameById(a),d=this.getKeyById(a);n&&y.printModel.isPrintModel(o)&&(u=e.getIn(["Name"]),d=a),n&&!d&&(d=y.uiModel.getEntityFieldInfo(o,{entityId:a}).get(s.KEY,a)),(l.test(u)||l.test(d))&&this.searchInfo.ids.push(a),e&&i&&i.forEach((function(e){t.getIdInTree(e)}))}},{key:"getKeyById",value:function(e){var t,r=this.props.uiInfo;return null===(t=y.uiModel.getFormFieldInfo(r,e))||void 0===t?void 0:t.get(s.KEY)}},{key:"getNameById",value:function(e){var t=this.props,r=t.uiInfo,n=t.isEntity,o=this.props.uiInfo.getIn(["ui"]),i=n?y.uiModel.getEntityFieldInfo(r,{entityId:e}):y.uiModel.getFormFieldInfo(r,e),a=e,l=o.get(s.NAME),u="";return i&&(a=i.get(s.KEY,e),l=i.get(s.NAME,e),("DataRow"===(u=i.get(s._TYPE_))&&"数据表格的行"===l||"SubDataRow"===u&&"子数据表格的行"===l)&&(l=y.uiModel.changeDataGridEntityName(i.get(s.ROWTYPE),l))),l=this.state.showContentModel?l+"("+a+")":l}},{key:"onSelect",value:function(e,t){var r=this.props,n=r.isEntity,o=r.selectControlId;r.uiInfo,r.updatePropValue,n?o(t.id):o(t.id,(0,m.isCtrlKey)(e),e.shiftKey)}},{key:"resetSearch",value:function(){this.searchInfo.name="",this.searchInfo.ids.length=0,this.searchInfo.index=0,this.refs.searchInput&&(this.refs.searchInput.value="")}},{key:"handleSwitch",value:function(e){this.setState({showContentModel:!this.state.showContentModel}),this.resetSearch()}},{key:"handleChildExpandChange",value:function(){this.setState({isExpandAll:!1})}},{key:"handleChildPackUpChange",value:function(){this.setState({isPackUpAll:!1})}},{key:"handlePackUpAll",value:function(e){var t=this.state.isExpand;this.setState({isPackUpAll:t,isExpandAll:!t,isExpand:!t})}},{key:"createTreeNode",value:function(e,t,r){var n,i=this,c=this.props,f=c.uiInfo,m=c.isEntity,v=c.format_control_id,h=c.select_control_id,b=c.select_control_ids,I=this.state,A=I.isExpandAll,C=I.isPackUpAll,P=e.get(s.ID),w=m?y.uiModel.getEntityFieldInfo(f,{entityId:P}):y.uiModel.getFormFieldInfo(f,P),O=P,T=e.get(s.NAME),_="";w&&(O=w.get(s.KEY,P),T=w.get(s.NAME,P),("DataRow"===(_=w.get(s._TYPE_))&&"数据表格的行"===T||"SubDataRow"===_&&"子数据表格的行"===T)&&(T=y.uiModel.changeDataGridEntityName(w.get(s.ROWTYPE),T))),null===T&&(T=""),T=this.state.showContentModel?T+"("+O+")":T||O;var k=!t&&-1===o.default.indexOf(F,_),L={field:e,select_control_id:h,select_control_ids:b},x={},B="";v&&(x.cursor="url("+d.cursor_brush+") 16 16, auto"),m?(n=k?S:p.TreeNode,L.dropHandle=function(e,t){return i.props.selectControlId(t,e)}):(n=k?N:j,L.dropHandle=this.props.moveToControl,B=(0,u.default)(M({},g.default["hidden-node"],-1===o.default.indexOf(r,P)&&(y.uiModel.getPropertyValue(f,P,"Hidden")||y.uiModel.getPropertyValue(f,P,"Invisible")))));var R=D(_),V=e.get("Type");if(!m&&y.printModel.isPrintModel(f)&&("DataCell"===V||"LayoutCell"===V)){var U=y.printModel.getGridInfo(f,P);if(U){var W=y.printModel.getCellPosition(U,P),K=y.printModel.getMergeBlocks(f,U.get(s.ID)),Y=K&&W&&y.printModel.getMergeBlock(K,W);if(Y&&!y.printModel.isMainMergeCell(Y,W))return}}var Q=e.get(s.ITEMS,(0,l.List)()),G=y.printModel.isPrintModel(f);if(Q.size>0){var H=[];return Q.forEach((function(e){var t=i.createTreeNode(e,!1,r);t&&H.push(t)})),a.default.createElement(n,E({expand:t&&!G,style:x,className:B,key:P,id:P,title:T,value:O,icon:R,isExpandAll:A,isPackUpAll:C,handleChildExpandChange:this.handleChildExpandChange,handleChildPackUpChange:this.handleChildPackUpChange},L),H)}return a.default.createElement(n,E({expand:t&&!G,style:x,className:B,key:P,id:P,title:T,value:O,icon:R},L))}},{key:"render",value:function(){var e=this,t=this.props,r=t.uiInfo,n=t.isEntity,i=t.select_control_id,d=t.select_control_ids,c=(t.format_control_id,t.dragover_control_id),f=this.state,m=f.isExpandAll,v=f.isPackUpAll,b=f.isExpand,I=f.showContentModel;if(!r)return null;var A,M=y.printModel.isPrintModel(r),C=d?d.toJS():[];C=o.default.concat(C,[i,c]);var P=(0,h.getLangMsg)("bosd.outline.key0003"),w=!1;n?(A=r.get("entitytree",(0,l.Map)()),w=["ListMeta","MobListMeta"].includes(r.get("designer",""))&&["subformdesigner","cardviewdesigner"].includes(r.getIn(["formmeta","Key"],""))||["QueryListModel"].includes(r.get("modelType","")),P=(0,h.getLangMsg)("bosd.outline.key0004"),C=o.default.map(C,(function(t){if(M){var n=y.uiModel.getFormFieldInfo(r,t);return n?n.get("BindField"):t}var o=e.searchInfo.ids[e.searchInfo.index],i=y.uiModel.getFormmetaItemsByFieldId(r,o).getIn([0,s.ID]);return o&&o!==i?o:y.uiModel.getEntityIdByFieldId(r,t)}))):A=r.get("ui",(0,l.Map)());var O=this.createTreeNode(A,!0,C),T=r.get("formulatree")||!1,_=r.get("workflowtree")||!1,k=r.get("attachPanelTree")||!1,S=b?(0,h.getLangMsg)("bosd.outline.key0005"):(0,h.getLangMsg)("bosd.outline.key0006"),j=I?(0,h.getLangMsg)("bosd.outline.key0007"):(0,h.getLangMsg)("bosd.outline.key0008"),N={select_control_id:i,select_control_ids:d};return a.default.createElement("div",{id:"outline",tabIndex:"-1",className:g.default.outline,onKeyDown:this.props.handleShortcutKey},a.default.createElement("div",{style:{display:"flex",justifyContent:"space-around"}},a.default.createElement("div",{className:g.default.showContentC},a.default.createElement("i",{className:(0,u.default)("kdfont",b?"kdfont-shouqi":"kdfont-unfolded-s",g.default.showContent),onClick:function(t){return e.handlePackUpAll(t)}}),a.default.createElement("label",{className:g.default.showC,onClick:function(t){return e.handlePackUpAll(t)}},S)),a.default.createElement("div",{className:g.default.showContentC},a.default.createElement("i",{className:(0,u.default)("kdfont",I?"kdfont-yincang":"kdfont-yulan",g.default.showContent),onClick:function(t){return e.handleSwitch(t)}}),a.default.createElement("label",{className:g.default.showC,onClick:function(t){return e.handleSwitch(t)}},j))),!w&&a.default.createElement("div",{className:g.default.search},a.default.createElement("input",{ref:"searchInput",onKeyDown:this.handlePreventBubble,onKeyUp:function(t){return e.handleSearch(t)},className:g.default.input,type:"text",placeholder:P})),M&&n?a.default.createElement("div",{className:g.default["tree-wrapper"]},T&&a.default.createElement(R,E({formmetaKey:"formulatree",bindFunction:x,showContentModel:I,isExpandAll:m,handleChildExpandChange:this.handleChildExpandChange,handleChildPackUpChange:this.handleChildPackUpChange,isPackUpAll:v},this.props)),_&&a.default.createElement(R,E({formmetaKey:"workflowtree",bindFunction:B,showContentModel:I,isExpandAll:m,handleChildExpandChange:this.handleChildExpandChange,handleChildPackUpChange:this.handleChildPackUpChange,isPackUpAll:v},this.props)),k&&a.default.createElement(R,E({formmetaKey:"attachPanelTree",bindFunction:B,showContentModel:I,isExpandAll:m,handleChildExpandChange:this.handleChildExpandChange,handleChildPackUpChange:this.handleChildPackUpChange,isPackUpAll:v},this.props)),A?a.default.createElement(p.default,E({onSelect:this.onSelect,selectedIds:C,style:{flexShrink:0}},N,{isExpandAll:m,handleChildExpandChange:this.handleChildExpandChange,handleChildPackUpChange:this.handleChildPackUpChange,isPackUpAll:v}),O):null):a.default.createElement(p.default,E({onSelect:this.onSelect,selectedIds:C,isExpandAll:m,handleChildExpandChange:this.handleChildExpandChange,handleChildPackUpChange:this.handleChildPackUpChange,isPackUpAll:v},N),O))}}])&&C(r.prototype,n),i&&C(r,i),Object.defineProperty(r,"prototype",{writable:!1}),t}(a.Component);L.propTypes={uiInfo:i.default.object,select_control_id:i.default.string,select_control_ids:i.default.object,selectControlId:i.default.func},L.contextType=v.EdituiContext;t.default=L;function x(e){var t=e.bindValue,r=e.ctrlId,n=e.bindCtrlInfo,o=e.isDrop,i=e.uiInfo,a=e.uiConfig,l=e.updatePropValue,u=e.addControl;if("formula"!==t){var d=y.uiModel.getUIFieldInfo(i,r);if(d){var c=d.get(s.TYPE),f=[];if("Text"===c?f=[{fieldId:r,propName:"BindType",value:"text",metaType:"formmeta",isUpdateProps:!0},{fieldId:r,propName:"BindText",value:t,metaType:"formmeta"}]:"LayoutCell"===c?f=[{fieldId:r,propName:"BindText",value:t,metaType:"formmeta"}]:"DataCell"===c&&(f=[{fieldId:r,propName:"CellType",value:"text",metaType:"formmeta"},{fieldId:r,propName:"BindText",value:t,metaType:"formmeta"}]),f.length>0)l(f,a);else u(r,o?M(M(M(M(M({},s.TYPE,"Text"),"BindType","text"),"BindText",t),"X",n.X),"Y",n.Y):M(M(M({},s.TYPE,"Text"),"BindType","text"),"BindText",t),a)}}}function B(e){var t=e.bindValue,r=e.ctrlId,n=e.ctrlInfo,o=e.isDrop,i=e.uiInfo,a=e.uiConfig,l=e.updatePropValue,u=e.addControl,d=e.formmetaKey,c=y.printModel.getFormmetaTreeInfo(i,t,d);if(!c.get(s.ITEMS)){var f=y.printModel.getEntityDataSource(i,c,d);if(f){var p=y.uiModel.getUIFieldInfo(i,r);if(p){var g=c.get(s.NAME),m=p.get(s.TYPE),v=[],h=!0;if("DataCell"===m)v=[{fieldId:y.printModel.getGridInfo(i,r).get(s.ID),propName:"DataSource",value:f,metaType:"formmeta",isUpdateProps:h},{fieldId:r,propName:"DataSource",value:f,metaType:"formmeta",isUpdateProps:h},{fieldId:r,propName:"BindField",value:t,metaType:"formmeta"},{fieldId:r,propName:"Name",value:g,metaType:"formmeta"},{fieldId:r,propName:"CellType",value:"field",metaType:"formmeta"}];else"Text"!==m&&"LayoutCell"!==m||(v=[{fieldId:r,propName:"Name",value:g,metaType:"formmeta"},{fieldId:r,propName:"BindField",value:t,metaType:"formmeta"},{fieldId:r,propName:"DataSource",value:f,metaType:"formmeta",isUpdateProps:h},{fieldId:r,propName:"CellType",value:"field",metaType:"formmeta"}]);if(v.length>0)l(v,a);else u(r,o?M(M(M(M(M(M({},s.TYPE,"Text"),"Name",g),"BindField",t),"DataSource",f),"X",n.X),"Y",n.Y):M(M(M(M({},s.TYPE,"Text"),"Name",g),"BindField",t),"DataSource",f),a)}}}}function R(e){var t=e.isExpandAll,r=e.isPackUpAll,n=e.handleChildExpandChange,o=e.handleChildPackUpChange,i=e.bindFunction,u=e.select_control_id,d=e.formmetaKey,c=e.showContentModel,f=e.uiInfo,m=e.uiConfig,y=e.updatePropValue,v=e.addControl;function h(e,t,r){i({bindValue:t,ctrlId:e,ctrlInfo:r,isDrop:!0,uiInfo:f,uiConfig:m,updatePropValue:y,addControl:v,formmetaKey:d})}var b=(0,a.useRef)(h);function I(e){var t=D(),r=e.get("Id"),n=e.get("Name");n=c?n+"("+r+")":n;var o=e.get(s.ITEMS,(0,l.List)());if(o.size>0){var i=[];return o.forEach((function(e){i.push(I(e))})),a.default.createElement(S,{key:r+n,id:r,title:n,value:r,icon:t},i)}return a.default.createElement(S,{className:g.default["formula-treenode"],key:r+n,id:r,title:n,value:r,icon:t,dropHandle:function(e,t){b.current&&b.current(e,r,t)}})}(0,a.useEffect)((function(){b.current=h}));var A=f.get(d,(0,l.Map)());if(!A)return null;var E=a.default.useMemo((function(){return I(A)}),[A]);return a.default.createElement(p.default,{className:g.default["formula-tree"],style:{flexShrink:0},onSelect:function(e,t){i({bindValue:t.value,ctrlId:u,uiInfo:f,uiConfig:m,updatePropValue:y,addControl:v,formmetaKey:d})},isExpandAll:t,handleChildExpandChange:n,handleChildPackUpChange:o,isPackUpAll:r},E)}},688024:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(360776),r(233696),r(505684),r(743924),r(693917),r(205960),r(846428),r(969e3),r(606200),r(534440),r(76152),r(78504),r(776512),r(997308),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.TIPS_NEW_FEATURE=void 0,t.default=function(e){var t=(0,o.useContext)(i.EdituiContext).selectControl,r=e.select_control_id,n=e.refresh_ctrl_ids,p=e.uiInfo,g=(0,o.useRef)(void 0),v=C((0,o.useState)((0,l.List)()),2),h=v[0],b=v[1],I=C((0,o.useState)((0,l.List)()),2),A=I[0],P=I[1],w=C((0,o.useState)(!1),2),O=w[0],k=w[1],S=C((0,o.useState)(!1),2),j=S[0],L=S[1],x=(0,o.useRef)(),R=(0,o.useRef)(),V=(0,o.useRef)(0),U=(0,o.useRef)(1),W=(0,o.useRef)(!0),K=(0,o.useRef)(!1),Y=g&&(0,s.default)(g.current),Q=C((0,o.useState)(!1),2),G=Q[0],H=Q[1],J=C((0,o.useState)(!0),2),z=J[0],q=J[1],X=C((0,o.useState)(!1),2),Z=X[0],$=X[1];(0,o.useEffect)((function(){r&&(g.current=(0,a.getAncestorIds)(p,r),K.current=!(0,l.is)(Y,g.current))})),(0,o.useEffect)((function(){var e=(0,m.addDataChangeListener)(y.KEY_DESIGNER_SELECT_CTRL,(function(){q(!0)}));return function(){e&&e()}}),[]);var ee=(0,o.useCallback)((function(){H(!G)}),[G]),te=(0,o.useCallback)((function(){q(!z)}),[z]);function re(e,r){W.current=!0,t(r,(0,u.isCtrlKey)(e),e.shiftKey)}function ne(e){var t,r=R.current.style;"transform"in(t=r)||"webkitTransform"in t||"MozTransform"in t?function(e,t){e.transform=t,e.webkitTransform=t,e.mozTransform=t}(r,e="translate(".concat(e,"px,0)")):r.left="".concat(e,"px")}(0,o.useEffect)((function(){var e=g&&g.current&&g.current.reverse().concat([r]).map((function(e){return(0,a.getFormFieldInfo)(p,e)}));b(e),W.current=!0}),[n,K&&K.current]),(0,o.useEffect)((function(){oe()}),[x&&x.current,R&&R.current,K&&K.current]),(0,o.useEffect)((function(){ie()}));var oe=function(){if(U.current-1>=0&&W&&W.current){var e=(x&&x.current.getBoundingClientRect()).width,t=R.current.getBoundingClientRect().width,r=e-t;ne(r>=0?0:r),U.current=Math.ceil(t/e)||1,V.current=U.current-1}};(0,o.useEffect)((function(){var e=f.default.get(_);try{e=e&&JSON.parse(e)}catch(e){console.error("取数据失败: 因为数据不是经过JSON序列化的字符串")}var t=h&&h.map((function(t){if(!t)return null;var n=t.get("Id"),i=(0,a.getUIFieldInfo)(p,n),l=i&&(i.get("FieldType")||i.get("Type")),u=T[l],d=n===r,c=t.get("Name")||t.get("Key")||t.get("Id");return o.default.createElement(D,{name:c,key:n,select:d,selectControlid:re,id:n,ctrlNewFeatOfConst:u,newFeatureOfStorage:Object(e),ctrlType:l,handleRefresh:ee,toggleModal:te,showModel:z})}));P(t)}),[h,G,p,z]),(0,o.useEffect)((function(){var e=function(){var e,t;e=(x&&x.current.getBoundingClientRect()).width,t=(R&&R.current.getBoundingClientRect()).width,U.current=Math.ceil(t/e)||1,ie(),W.current=!0,oe()};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}));var ie=(0,o.useCallback)((function(){var e=V.current,t=U.current;e>0?k(!0):e<=0&&k(!1),L(!(e>=t-1))}),[V&&V.current,U&&U.current]);function ae(e,t){var r,n=(x&&x.current.getBoundingClientRect()).width;if("prev"===e)(t-=1)<0?V.current=0:(V.current=t,ne(-(r=Math.floor(n*t))));else if((t+=1)>=U.current)V.current=U.current-1;else{V.current=t,r=Math.floor(n*t);var o=R.current.getBoundingClientRect().width;if(o-r<n)ne(n-o);else ne(-r)}ie(),W.current=!1}var le=(0,o.useCallback)((function(){$(!Z)}),[Z]),ue=(0,o.useMemo)((function(){var e=(0,a.getUIFieldInfo)(p,r),t=e&&(e.get("FieldType")||e.get("Type"));return{constant:T[t],ctrlType:t}}),[p,r]),de=f.default.get(_);try{de=de&&JSON.parse(de)}catch(e){console.error("useMemo取数据失败: 因为数据不是经过JSON序列化的字符串")}var ce=Object(de)[ue.ctrlType],se=E(E({},ue),{},{storage:ce,newFeatureOfStorage:de});return o.default.createElement("div",{className:(0,c.default)(M(M({},d.default.root,!0),d.default.mobile,!e.isPC),"bos-guide-selectPanel")},o.default.createElement("span",{className:(0,c.default)(M(M(M({},d.default.arrowFont,!0),d.default.arrowLeft,!0),d.default.arrowDisabled,!O),"kdfont kdfont-left"),onClick:function(){return ae("prev",V.current)}}),o.default.createElement("div",{className:d.default.crumbScroll,ref:x},o.default.createElement("div",{className:d.default.animated,ref:R},o.default.createElement("div",{className:(0,c.default)(M({},d.default.list,!0))},A),N(z,se)&&o.default.createElement(B,{checkboxClick:le,enable:Z,closeClick:function(){Z&&F(se.newFeatureOfStorage,se.ctrlType,{key:"noMoreTips",value:Z}),te()},uiInfo:p,select_control_id:r,ctrlType:se.ctrlType,key:"tool-tips",handleRefresh:ee,toggleModal:te,parentNode:x.current}))),o.default.createElement("span",{className:(0,c.default)(M(M(M({},d.default.arrowFont,!0),d.default.arrowRight,!0),d.default.arrowDisabled,!j),"kdfont kdfont-right"),onClick:function(){return ae("next",V.current)}}))},r(9692),r(622676),r(323784),r(835164),r(885612),r(976896),r(721300),r(336368),r(76124),r(387912),r(571176),r(633768),r(690512),r(328640);var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=b(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}return o.default=e,r&&r.set(e,o),o}(r(795520)),i=r(974184),a=r(471160),l=r(891052),u=r(463108),d=h(r(752654)),c=h(r(671252)),s=h(r(189236)),f=h(r(212352)),p=r(564491),g=h(r(533900)),m=r(674260),y=r(868256),v=r(331428);function h(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(b=function(e){return e?r:t})(e)}function I(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||P(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){M(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function M(e,t,r){var o;return o=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==n(o)?o:String(o))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],u=!0,d=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){d=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(d)throw o}}return l}}(e,t)||P(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){if(e){if("string"==typeof e)return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(e,t):void 0}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var O="##_&&",T=t.TIPS_NEW_FEATURE={CardRowPanelAp:[(0,v.getLangMsg)({key:"bosd.parentControlSelectPanel.key0001",variables:{splitStr:O}})]},_="ierp-ide_ctrl_new_feature",k=function(e){e&&(e.stopPropagation(),e.preventDefault())},S="kd-designer-crumb-select-control-id",j="kd-designer-crumb-tool-tips-wrap",N=function(e,t){return e&&t.constant&&(t.storage&&!t.storage.noMoreTips||!t.storage)};var F=function(e,t,r){var n=r.key,o=r.value,i=Object.assign(e&&{},{});i[t]=E(E({},i[t]),{},M({},n,o)),f.default.set(_,i)},D=function(e){var t=e.select,r=e.name,n=e.id,i=e.selectControlid,a=e.ctrlNewFeatOfConst,l=e.newFeatureOfStorage,u=e.ctrlType,s=e.showModel,f=l[u]||{},p=(0,c.default)(M(M({},d.default.newFeature,a&&!f),d.default.text,!0)),g=(0,c.default)(M(M(M({},d.default.active,t),d.default.crumbToolTips,a&&t&&s&&!f.noMoreTips),S,t),d.default.pointer);return(0,o.useEffect)((function(){var e=l[u];t&&a&&!e&&F(l,u,{key:"newFeat",value:!1})}),[a,t,u,l]),o.default.createElement("div",{className:g,onClick:function(e){return i(e,n)}},o.default.createElement("div",{className:p},r),o.default.createElement("div",{className:(0,c.default)(M({},d.default.arrowActive,t),d.default.arrow)}))},L=function(e){return I(e).filter((function(e){return 0!==e.getBoundingClientRect().width}))[0].getBoundingClientRect()},x=function(e,t){return function(r){if(r&&e.current){var n=r.left,o=r.width,i=r.height;if(0!==n||0!==o){var a,l,u=parseInt(window.getComputedStyle(e.current).top),d=e.current.getBoundingClientRect(),c=d.bottom,s=d.width,f=document.body.getBoundingClientRect(),p=f.width,g=f.height,m=L(document.querySelectorAll("#designer-UILeft")).width,y=L(document.querySelectorAll("#designer-UIRight")).width;o<s&&(a=n-m-s+o-10),n-(s-o)/2<=m+13?a=0:n+s>=p-y&&(l=0,a=void 0);var v=parseInt(c-g+(i+5+8));v>0&&(u-=v);var h="";h="top:".concat(u,"px;"),void 0!==a&&(h="".concat(h,"left:").concat(a,"px;")),void 0!==l&&(h="".concat(h,"right:").concat(l,"px;")),e.current&&(e.current.style.cssText=h)}else t()}}},B=function(e){var t=e.checkboxClick,r=e.enable,n=e.closeClick,i=e.ctrlType,a=e.handleRefresh,l=e.toggleModal,u=e.parentNode,c=(0,o.useRef)(null),s=T[i],f=u&&u.querySelector(".".concat(S));return(0,o.useEffect)((function(){var e=function(e){var t=function(e){for(var t=e.target;t&&t!==document;){if(t.id===j)return!1;if("__kd_content__"===t.id)return!0;t=t.parentNode}}(e);t&&l()};return document.addEventListener("click",e,!1),function(){document.removeEventListener("click",e,!1)}}),[]),(0,g.default)({selectedCtrlNode:f,callback:x(c,a)}),o.default.createElement("div",{className:d.default["tool-tips-warp"],ref:c,onClick:k,id:j},function(e){var t=Array.isArray(e)&&e.map((function(e){var t=C(e&&e.split(O),2);return{title:t[0],desc:t[1]}})),r=[];return Array.isArray(t)&&(r=t.map((function(e,t){var r=e.title,n=e.desc;return o.default.createElement(o.default.Fragment,{key:t.toString()},o.default.createElement("p",{className:d.default["tips-title"]},r),o.default.createElement("div",{className:d.default["tips-content"]},o.default.createElement("span",null,n)))}))),r}(s),o.default.createElement("div",{className:d.default["tips-action"]},o.default.createElement(p.CheckBox,{styleType:2,text:(0,v.getLangMsg)("bosd.parentControlSelectPanel.key0002"),fieldWidth:72,value:r,onMouseDown:t}),o.default.createElement(p.Button,{Name:(0,v.getLangMsg)("bosd.parentControlSelectPanel.key0003"),className:d.default["tips-btn"],onClick:n})))}},660488:function(e,t,r){"use strict";r(182320),r(909112),r(697060),r(360776),r(205960),r(846428),r(336368),r(708896),r(969e3),r(606200),r(534440),r(76152),r(670864),r(76124),r(836887),r(776512),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(9692),r(622676),r(305092),r(613468),r(233696),r(443616),r(323784),r(743924),r(835164),r(492948),r(704180),r(976896),r(297336),r(286620),r(880920),r(387912),r(497448),r(633768),r(690512),r(125048),r(660824),r(78504),r(513640),r(997308),r(977864),r(86744);var n=O(r(790832)),o=O(r(540900)),i=w(r(795520)),a=r(891052),l=r(967104),u=w(r(277528)),d=O(r(707892)),c=O(r(225800)),s=w(r(799576)),f=O(r(147344)),p=r(489912),g=r(65624),m=O(r(182288)),y=O(r(54780)),v=w(r(279284)),h=r(974184),b=r(738704),I=r(545072),A=r(811596),E=r(331428),M=r(681868),C=O(r(995004));function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(P=function(e){return e?r:t})(e)}function w(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=T(e)&&"function"!=typeof e)return{default:e};var r=P(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}function O(e){return e&&e.__esModule?e:{default:e}}function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function _(){return _=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_.apply(this,arguments)}function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){j(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function j(e,t,r){return(t=L(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,L(n.key),n)}}function D(e,t,r){return t&&F(e.prototype,t),r&&F(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function L(e){var t=function(e,t){if("object"!=T(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=T(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==T(t)?t:String(t)}function x(e,t,r){return t=R(t),function(e,t){if(t&&("object"===T(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return V(e)}(e,B()?Reflect.construct(t,r||[],R(e).constructor):t.apply(e,r))}function B(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(B=function(){return!!e})()}function R(e){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},R(e)}function V(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W(e,t)}function W(e,t){return W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},W(e,t)}var K=["FieldAp","FormAp","BillFormAp","MobileFormAp","MobileBillFormAp","BasedataFormAp"],Y=function(e){function t(e){var r;return N(this,t),(r=x(this,t,[e])).handleConfigChange=function(){var e,t=r.context.model,n=t.pageId,o=t.key;r.enableGlobalExtLimits=!(null===(e=(0,b.getPageData)(n,[o,"config"]))||void 0===e||!e.enableExtLimits)},r.getPropertyAliasValue=function(e,t,n,o){var i=r.getPropertyValue(e,t,n,o);if(!0===n.getIn(["Editor","alias"],!1)){var a=r.getInvokeActionParams(n,o);setTimeout((function(){return r.getEncodeParamsDelay(e,t,n,o,a)}),0)}return i},r.encodeValue=function(e){var t=r.context.model.pageId,n=(0,b.getPageData)(t,I.KDBASE64),o=(0,b.getPageData)(t,I.ENCODE_PROPERTY_KEYS);(null==o?void 0:o.length)>0?(0,A.encodePropertyValue)(e,o):(null==n?void 0:n.length)>0&&r.encodeListValueByKeys(e,n)},r.encodeListValueByKeys=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];Array.isArray(e)&&e.find((function(e){return A.RuleKeys.includes(e)}))&&e.forEach((function(e){if(e&&"[object Object]"===Object.prototype.toString.call(e)&&e.value){var r=e.value;a.List.isList(r)&&(r=r.toJS()),Array.isArray(r)&&r.forEach((function(e){(0,A.encodeObjectValueByKeys)(e,t)})),e.value=r}}))},r.addReadOnlyProperty=function(e,t){var n,o,i=r.props.uiInfo,l=i.getIn(["entitymeta","ExtElements"],(0,a.List)()),u=i.getIn(["entitymeta","Items"],(0,a.List)()),d=(null===(n=l.find((function(e){return"Field"===e.get("Type")})))||void 0===n?void 0:n.get("Items"))||(0,a.List)();d=d.map((function(e){return e.get("Id")===u.getIn([0,"PkId"])&&(e=e.set("Id",u.getIn([0,"Id"]))),e}));var c=p.uiModel.getFieldInfo(i,t,g.FORMMETA),s=[c.get(g.ID),c.get(g.FIELDID),c.get(g.ENTRYID)],f=d.find((function(e){return s.includes(e.get("Id"))})),m=c.get("Inherit")||!1;return e=null===(o=e)||void 0===o?void 0:o.map((function(e){r.enableGlobalExtLimits||(e=e.set("LockType",g.LOCK_TYPE.UNLOCK));var t,n=e.get("ReadOnly"),o=e.get("LockType");(m||o!==g.LOCK_TYPE.SPECIALLOCK||(e=e.set("LockType","unlock")),!n&&o===g.LOCK_TYPE.LOCK&&m&&(e=e.set("ReadOnly",!0)),f)&&(null===(t=f.get("Props"))||void 0===t||t.forEach((function(t){var r=t.get("LockType")||g.LOCK_TYPE.LOCK;e.get("name")===t.get("Id")&&(e=e.set("LockType",r),r===g.LOCK_TYPE.LOCK?e=e.set("ReadOnly",!0):n||r!==g.LOCK_TYPE.UNLOCK||(e=e.set("ReadOnly",!1)))})));return e}))},r.renderActionTab=function(){var e=r.props,t=e.uiInfo,n=e.select_control_id;if(!t)return null;var o=p.uiModel.getUIFieldInfo(t,n);if(!o||!K.includes(o.get(g.TYPE)))return null;var a="FieldAp"===o.get(g.TYPE)?p.uiModel.getFormFieldInfo(t,n):null;return i.default.createElement(s.TabPanel,{key:"action",title:(0,E.getLangMsg)("bosd.propertyView.key0009")},i.default.createElement(f.default,{element:o,fieldInfo:a}))},r.state={alias:(0,a.Map)()},r.getPropertyValue=r.getPropertyValue.bind(V(r)),r.onPropClick=r.onPropClick.bind(V(r)),r.updateGroupPropValue=r.updateGroupPropValue.bind(V(r)),r.isExtBill=p.uiModel.isExtBill(e.uiInfo),r}return U(t,e),D(t,[{key:"shouldComponentUpdate",value:function(e,t){return!((0,a.is)(this.props.uiConfig,e.uiConfig)&&this.props.select_control_id==e.select_control_id&&(0,a.is)(this.props.select_control_ids,e.select_control_ids)&&(0,a.is)(this.props.uiInfo,e.uiInfo)&&(0,a.is)(this.state.alias,t.alias))}},{key:"componentDidMount",value:function(){var e=this;this.context.model.sub_Event("setProperty",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.setProperty(t)}));var t=this.props,r=t.uiInfo,n=t.select_control_id,o=this.context.model,i=o.key,a=o.pageId;this.fieldInfo=p.uiModel.getFormFieldInfo(r,n),this.isExtBill=p.uiModel.isExtBill(r),this.handleConfigChange(),this.removeDesignerConfigListener=(0,b.addDataChangeListener)(a,[i,"config"],this.handleConfigChange)}},{key:"componentDidUpdate",value:function(e){var t=this.props.uiInfo;(0,a.is)(t,e.uiInfo)||(this.isExtBill=p.uiModel.isExtBill(t),this.handleConfigChange())}},{key:"componentWillUnmount",value:function(){this.fieldInfo=null,this.removeDesignerConfigListener()}},{key:"setProperty",value:function(e){var t=this;if(e&&e[0]){var r=e[0];r=n.default.isArray(r)?r:[r];var o=this.props,i=o.uiInfo,l=o.uiConfig,u=(0,a.Set)(),d=r.map((function(e,r){return new Promise((function(o,a){if(e){var d,c=e.itemId,s=e.value,f=e.metaType,m=e.propertyName,v=e.alias;d=(d=f===g.ENTITYMETA?p.uiModel.getEntityPropertyValue(i,c,m,l):p.uiModel.getPropertyValue(i,c,m,f))&&d.toJS?d.toJS():d;var h=!n.default.isEqual(d,s);(0,y.default)((function(){if(h){u=u.concat([c]),t.props.updatePropValue(c,m,s,f),t.afterUpdatePropValue(c,m,s,f,v);var e=p.uiModel.getUIFieldInfo(i,c);if(Object.is(null==e?void 0:e.get(g.TYPE),"MobTableAp")&&Object.is(m,"MobTableDataSource")){var r=e&&e.get("Items");r&&r.map((function(e){var r=e.get("Id");t.context.updatePropValue(r,"MobTableField",void 0,f,l)}))}}var n=t.state.alias,a=n.getIn([c,f,m,"alias"]),d=n.getIn([c,f,m,"value"]),y=Object.prototype.toString.call(d),b=Object.prototype.toString.call(s);a!==v||y!==b||(["[object Array]","[object Object]"].includes(b)?JSON.stringify(d)!==JSON.stringify(s):d!==s)?(t.setAliasContext(c,m,v,s,f),o(!0)):o(!0)}),r),h&&"Language"===m&&setTimeout((function(){var e=t.props.uiInfo.filterNot((function(e,t){return"ui"===t||"entitytree"===t||"entitymeta"===t&&!0===e.get("Readonly")}));t.context.setPostControlValue(t.context.model,e);var r=[c,"formmeta","Language",s];t.context.invokeAction(t.context.model,"afterSetProperty",r)}),0)}else o(!0)}))}));Promise.all(d).then((function(e){(u.size>1||1===u.size&&u.first()!==t.props.select_control_id)&&t.context.model.pub_Event("batchSetPropValueFinished",!0)}))}}},{key:"setAliasContext",value:function(e,t,r,n,o){var i=this.state.alias;i=i.updateIn([e,o,t],(0,a.Map)(),(function(e){return e.set("alias",r).set("value",n)})),this.setState({alias:i})}},{key:"afterUpdatePropValue",value:function(e,t,r,n,o){var i,l=this,u=this.props.uiInfo;if(n===g.FORMMETA?i=p.uiModel.getFormFieldInfo(u,e):n===g.ENTITYMETA&&(i=p.uiModel.getEntityFieldInfo(u,e)),i){var d=i.get(g._TYPE_);if(o&&("CardEntryFieldAp"===d&&"FieldId"==t||"BindField"===t&&"PrintModel"===this.props.uiInfo.get("modelType")||("CardListColumnAp"===d||"ListColumnAp"===d)&&"ListFieldId"==t)&&e===this.props.select_control_id&&this.updatePropValue(g.NAME,o,g.FORMMETA),"ListFieldId"===t||"FieldId"===t){var c=(p.uiModel.getEntityFieldInfo(u,e)||(0,a.Map)()).get("_Type_");this.props.updateUIPropValue(e,"FieldType",c)}if(K.includes(d)&&["Key","Name"].includes(t)){var s="Key"===t?"SourceNumber":"SourceName",f=i.get(g.JS_PLUGINS);f&&(f=f.map((function(t){return t.get("ClassName").split("_")[0]===e?t.update(s,(function(){return r})):t})),this.updatePropValue(g.JS_PLUGINS,f,"formmeta"))}var m=p.uiModel.getUIFieldInfo(u,e);if(!m)return u;var y=m.get("FieldType");if(Object.is(y,"RadioField")&&Object.is(t,"Group")){var v=p.uiModel.getFormFieldInfo(u,r);if(!v)return;var h=v.get("FieldStyle");this.updatePropValue("FieldStyle",h,g.FORMMETA)}else if(Object.is(y,"RadioGroupField")&&Object.is(t,"FieldStyle")){var b=[];p.uiModel.getEntitymeta(u).forEach((function(t){Object.is(e,t.get("Group"))&&b.push(t.get(g.ID))})),b.forEach((function(e){l.props.updatePropValue(e,t,r,g.FORMMETA,l.props.uiConfig)}))}}}},{key:"updatePropValue",value:function(e,t,r){var n=this;if(e instanceof Array){e.forEach((function(e){var t=e.propName,r=e.newValue,o=e.metaType,i=void 0===o?g.FORMMETA:o;n.updatePropValue(t,r,i)}))}else{var o=this.props.select_control_id,i=this.props.uiInfo;if(e!==g.ID||""!==t){var l=p.uiModel.getFieldInfoByCtrlId(i,o,r);if(l&&!(Object.is(e,"FieldStyle")&&Object.is(this.getPropertyValue(i,l,g._TYPE_,g.ENTITYMETA),"RadioField")&&this.getPropertyValue(i,l,"Group",g.ENTITYMETA))&&l){var u=l.get(g._TYPE_),d=l.get(g.ID),c=this.props.select_control_ids||(0,a.List)(),s=c.size>1;if(p.metadataModel.isDefaultValue(this.props.uiConfig,u,e,t))if(s){var f=c.map((function(t){var n=p.uiModel.getFieldInfoByCtrlId(i,t,r);return{fieldId:null==n?void 0:n.get(g.ID),propName:e,value:void 0,metaType:r}})).toJS();this.props.updatePropValue(f)}else this.props.updatePropValue(d,e,void 0,r,this.props.uiConfig);else if(s){var m=c.map((function(n){var o=p.uiModel.getFieldInfoByCtrlId(i,n,r);return{fieldId:null==o?void 0:o.get(g.ID),propName:e,value:t,metaType:r}})).toJS();this.props.updatePropValue(m)}else this.props.updatePropValue(d,e,t,r,this.props.uiConfig);this.afterUpdatePropValue(d,e,t,r)}}}}},{key:"updateGroupPropValue",value:function(e,t,r,n){var o=this;(this.props.uiInfo&&this.props.uiInfo.getIn([r,"Items"],(0,a.List)())).forEach((function(i){var a=i.get(g.ID);n?n===a&&o.props.updatePropValue(a,e,t,r,o.props.uiConfig):o.props.updatePropValue(a,e,t,r,o.props.uiConfig)}))}},{key:"getEncodeParamsDelay",value:function(e,t,r,n,o){this.encodeValue(o),this.context.invokeAction(this.context.model,"getPropertyAlias",o)}},{key:"getPropertyValue",value:function(e,t,r,o){var i=this.props.getPropertyValue(e,t,r,o),l=a.Map.isMap(r)?r.get("name"):r;if(l===g._TYPE_||"ContainerType"===l&&"FlexPanelAp"===i){var u=i,d=p.metadataModel.getConfigFieldByType(this.props.uiConfig,u),c=d&&d.get("name");if(!n.default.isUndefined(c))return c}if(l===g.NAME&&("数据表格的行"===i||"子数据表格的行"===i)){var s=this.props.getPropertyValue(e,t,"RowType",o);i=s?p.uiModel.changeDataGridEntityName(s,i):i}"EntityType"===l&&(i=this.props.getPropertyValue(e,t,g._TYPE_,g.ENTITYMETA));return i}},{key:"getInvokeActionContext",value:function(e,t,r){var n=[],o=r.get("properties",new a.List);if(0==o.size)return n;var i=function(e){if(e){var t=null;o.forEach((function(r){var n=e.get(r);null!=n&&((t=t||{})[r]=n)})),t&&n.push(t)}},l=r.get("type",""),u=r.get("parentType");if("item"===l)i(t);else if("formmeta"===l||"entitymeta"===l){e.getIn([l,g.ITEMS],(0,a.List)()).forEach((function(e){return i(e)}))}else if("entityrootitem"===l){var d=e.getIn(["ui",g.ID]),c=p.uiModel.getEntityFieldInfo(e,d);i(c)}else if("formrootitem"===l){var s=e.getIn(["ui",g.ID]),f=p.uiModel.getFormFieldInfo(e,s),m=e.getIn(["formmeta","EntityId"]);f=f.set("EntityId",m),i(f)}else if("entityparentitem"===l){var y=t.get("ParentId"),v=y&&p.uiModel.getEntityFieldInfo(e,{entityId:y});i(v)}else if("formparentitem"===l){var h=t.get(g.ID),b=p.uiModel.getParentControl(e,h,u),I=b&&b.get(g.ID),A=I&&p.uiModel.getFormFieldInfo(e,I);i(A)}return n}},{key:"getInvokeActionParams",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=this.props,i=o.uiInfo,l=o.uiConfig,u=o.select_control_id,d=t===g.ENTITYMETA?p.uiModel.getEntityFieldInfo(i,u):p.uiModel.getFormFieldInfo(i,u),c=d.get(g.ID),s=e.get("name"),f=e.get("Editor",(0,a.Map)()),m=f.get("form",(0,a.Map)()),y=f.get("extenddata"),v=[];y&&(a.List.isList(y)?y.forEach((function(e){v.push(r.getInvokeActionContext(i,d,e))})):v=this.getInvokeActionContext(i,d,y));var h=t===g.ENTITYMETA?p.uiModel.getEntityPropertyValue(i,c,s,l):p.uiModel.getPropertyValue(i,c,s,t,l);return[c,t,s,S({form:m.toJS(),value:h,context:v,item:j(j({},g.ID,c),g._TYPE_,d.get(g._TYPE_))},n)]}},{key:"onPropClick",value:function(e,t,r){if("JSPlugins"!==(null==e?void 0:e.get("name"))){var n=this.getInvokeActionParams(e,t,r);this.encodeValue(n),this.context.invokeAction(this.context.model,"click",n)}else{var o=this.context.model,i=o.pageId,a=o.key;(0,b.publishControlMethod)(i,a,"directives",[{key:a,methodname:M.SHOW_JS_SCRIPT_MANAGER}])}}},{key:"renderEditorGroups",value:function(e,t,r){var n=this,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=[],l=this.props,u=l.uiInfo,d=l.uiConfig,c=l.select_control_id,s=(r===g.ENTITYMETA?p.uiModel.getEntityFieldInfo(u,c):p.uiModel.getFormFieldInfo(u,c)).get(g.KEY);return t.forEach((function(t,l){a.push(i.default.createElement(X,{key:l+r,groupName:l,groupProps:t,uiInfo:u,uiConfig:d,field:e,metaType:r,updatePropValue:function(e,t,r){n.updatePropValue(e,t,r)},addUiInfoValue:function(e,t){n.props.addUiInfoValue(e,t)},getPropertyValue:n.getPropertyValue,getPropertyAliasValue:n.getPropertyAliasValue,updateGroupPropValue:n.updateGroupPropValue,onPropClick:n.onPropClick,applyContainerTemplate:n.props.applyContainerTemplate,select_control_id:n.props.select_control_id,select_control_ids:n.props.select_control_ids,applyControlTemplate:n.props.applyControlTemplate,selectControlKey:s,showGroupTitle:o}))})),a}},{key:"getBusinessEditorGroups",value:function(e,t,r){if(t&&0!==t.size){var n=t.filter((function(e,t){return"_base_"===t})),o=t.filter((function(e,t){return"_base_"!==t&&"样式"!==t&&"layout"!==t}));return t=n.concat(o),this.renderEditorGroups(e,t,r)}}},{key:"getStyleEditorGroups",value:function(e,t,r){if(t&&0!==t.size){var n=t.filter((function(e,t){return"_base_"==t})),o=t.filter((function(e,t){return"样式"==t})),i=n.get("_base_").filter((function(e){return"Width"==e.get("name")||"Height"==e.get("name")}));return t=o.update("样式",(function(e){return e&&e.concat(i)})),this.renderEditorGroups(e,t,r)}}},{key:"getLayoutEditorGroups",value:function(e,t,r){if(t&&0!==t.size){var n=t.filter((function(e,t){return"layout"===t}));return this.renderEditorGroups(e,n,r,!1)}}},{key:"renderBusinessEditorGroup",value:function(){var e=this,t=this.props,r=t.uiInfo,o=t.select_control_id,i=t.uiConfig,l=t.select_control_ids;if(!r)return null;var u=p.uiModel.getUIFieldInfo(r,o);if(!u)return null;var d=l.map((function(t){var n=p.uiModel.getUIFieldInfo(r,t),a=p.uiModel.getRealControlType(r)(n.get(g.TYPE),t),l=p.metadataModel.getConfigFieldByType(i,a),u=l&&l.get("properties");return u=p.uiModel.convertProperty(u)(r,o),u=e.isExtBill?e.addReadOnlyProperty(u,t):u})),c=p.uiModel.getCommonProperties(d);if(!c)return null;var s=c.groupBy((function(e){return e.get("group","_base_")})),f=this.getBusinessEditorGroups(u,s,g.FORMMETA);if(!this.props.uiInfo.get("entityreadonly")){var m=l.map((function(t){var n=p.uiModel.getEntityFieldInfo(r,t);if(!n)return(0,a.List)();var o=n.get(g._TYPE_),l=p.metadataModel.getConfigFieldByType(i,o),u=l&&l.get("properties");return(u=e.isExtBill?e.addReadOnlyProperty(u,t):u)||(0,a.List)()})),y=p.uiModel.getCommonProperties(m).groupBy((function(e){return e.get("group","_base_")}));f=n.default.concat(f,this.getBusinessEditorGroups(u,y,g.ENTITYMETA))}return f}},{key:"renderStyleTab",value:function(){var e=this.props,t=e.uiInfo,r=e.select_control_id,n=e.uiConfig;if(!t)return null;var o=p.uiModel.getUIFieldInfo(t,r);if(!o)return null;var a=p.uiModel.getRealControlType(t)(o.get(g.TYPE),r),l=p.metadataModel.getConfigFieldByType(n,a),u=l&&l.get("properties");if(!u)return null;var d=u.groupBy((function(e){return e.get("group","_base_")})),c=this.getStyleEditorGroups(o,d,g.FORMMETA);return c&&c.length>0&&i.default.createElement(s.TabPanel,{key:"style",title:(0,E.getLangMsg)("bosd.propertyView.key0001")},c)}},{key:"renderLayoutTab",value:function(){var e=this,t=this.props,r=t.uiInfo,o=t.select_control_id,a=t.uiConfig;if(!r)return null;var l=[r.getIn(["ui","Type"]),"FlexPanelAp","CardEntryViewAp","SubCardEntryViewAp","CardEntryFlexPanelAp","CardFlexPanelAp","AdvConChildPanelAp","SplitPanelAp","ListCardViewAp","MessageCarouselContainerAp","CardEntryFixRowAp","CardEntryRowAp","CardRowPanelAp","MessageCarouselFlexPanelAp","GridFlatPanelAp","EntryFieldContainerAp","CardEntryFixRowPanelAp","MTabBarItemAp"],u=p.uiModel.getUIFieldInfo(r,o),d=u&&u.get("Type");if(d&&(d=p.uiModel.getRealControlType(r)(d,o),u=u.set("Type",d)),!(n.default.includes(l,d)&&"PrintModel"!==r.get("modelType")))return null;var f=p.uiModel.getRealControlType(r)(u.get(g.TYPE),o),m=p.metadataModel.getConfigFieldByType(a,f),y=m&&m.get("properties");if(!y)return null;var v=y.groupBy((function(e){return e.get("group","_base_")})),h=this.getLayoutEditorGroups(u,v,g.FORMMETA);return i.default.createElement(s.TabPanel,{key:"layout",title:(0,E.getLangMsg)("bosd.propertyView.key0002")},i.default.createElement(c.default,{field:u,uiInfo:r,getPropertyValue:this.getPropertyValue,updatePropValue:function(t,r,n){e.updatePropValue(t,r,n)},layoutPropEditors:h}))}},{key:"renderSechemeTab",value:function(){var e=this.props,t=e.uiInfo,r=e.select_control_id,n=e.applyControlTemplate,o=e.applyContainerTemplate,a=e.uiConfig,l=e.select_control_ids;if(!t)return null;var u,d,c=p.uiModel.getUIFieldInfo(t,r),f=c&&c.get(g.TYPE),y=t.get("isPC")?f:"Mobile".concat(f),h=v.hasSchemesSelectControl(l,t);h&&(u=v.getFilterOptions(y),d=v.isGroupScheme(y));var b=v.hasSchemesOfController(y)?{applyControlTemplate:n}:{applyContainerTemplate:o,uiConfig:a};return h&&i.default.createElement(s.TabPanel,{key:"scheme",title:(0,E.getLangMsg)("bosd.propertyView.key0003")},i.default.createElement(m.default,_({uiInfo:t,designerType:this.props.designerType,field:c,controlType:y,filterOptions:u,selectControlId:r,isGroupScheme:d},b)))}},{key:"render",value:function(){var e=S({alias:this.state.alias,inherit:this.fieldInfo&&this.fieldInfo.get("Inherit")},this.context),t=this.context.propertyViewsVisibility;return i.default.createElement(h.PropertyViewerContext.Provider,{value:e},i.default.createElement("div",{className:C.default.propertyViewer},i.default.createElement("div",{className:C.default.title},(0,E.getLangMsg)("bosd.propertyView.key0004")),i.default.createElement(s.default,{name:"propertyViewer"},t.business&&i.default.createElement(s.TabPanel,{key:"common",title:(0,E.getLangMsg)("bosd.propertyView.key0005")},this.renderBusinessEditorGroup()),t.style&&this.renderStyleTab(),t.layout&&this.renderLayoutTab(),t.scheme&&this.renderSechemeTab(),t.action&&this.renderActionTab())))}}]),t}(i.default.Component);Y.propTypes={uiConfig:o.default.object,uiInfo:o.default.object,selectControlId:o.default.func,updatePropValue:o.default.func,getPropertyValue:o.default.func,select_control_id:o.default.string,applyContainerTemplate:o.default.func},Y.contextType=h.EdituiContext;var Q=function(e){return function(t,r){return e(t)==r}},G=function(e){return function(t,r){return e(t)==r}},H=function(e){return function(t){return e()==t}};function J(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.List)(),n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,i=(0,a.List)(),l=(0,a.Map)();return r.forEach((function(r){var u=r.get("Action"),d=u instanceof a.List?u:a.List.of(u);d&&d.forEach((function(u){if(u&&"relatedProperty"===u.getIn(["action","name"])){var d=r&&r.get("name"),c=u.getIn(["action","relatedOptionList"]);if(e=c.get(n,(0,a.List)()),d!==o)return;if(t=u.getIn(["action","relatedPropName"])&&u.getIn(["action","relatedPropName",0]),l=(l=(l=(l=l.set("beRelatedPropName",d)).set("relatedOptions",(0,a.fromJS)(e))).set("value",n)).set("relatedPropName",t),0===i.size)return i=i.push(l);i.forEach((function(e,t){i=e.get("beRelatedPropName")===d?i.update(t,(function(e){return l})):i.push(l)}))}}))})),i}var z=["KeyFieldId"];var q=["checkbox","btnedit","text","integer","ecombo","combo","refcombo","editcombo","decimal","mcombo","refmcombo","daterange","dimension"];var X=function(e){function t(){return N(this,t),x(this,t,arguments)}return U(t,e),D(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,r=t.groupProps,n=t.uiInfo,o=t.field;r.forEach((function(t){var i=t.get("Action"),l=i instanceof a.List?i:a.List.of(i);l&&l.forEach((function(i){if(i&&"relatedProperty"===i.getIn(["action","name"])){var a=e.props.getPropertyValue(n,o,t,e.props.metaType),l=t.get("name"),u=J(r,n,o,a,l,e.props.metaType);u.size>0&&e.props.addUiInfoValue("relatedList",u)}}))}))}},{key:"shouldComponentUpdate",value:function(e,t,r){return!(this.props.groupName==e.groupName&&(0,a.is)(this.props.groupProps,e.groupProps)&&(0,a.is)(this.props.field,e.field)&&(0,a.is)(this.props.uiInfo,e.uiInfo)&&(0,a.is)(this.context.alias,r.alias))}},{key:"render",value:function(){var e=this,t=this.props,r=t.uiInfo,o=t.field,c=t.metaType,s=t.select_control_ids,f=this.props.groupName,m=this.props.field.get(g.ID),y=[];if(c===g.FORMMETA)"_base_"===f&&(f=(0,E.getLangMsg)("bosd.propertyView.key0006")),"_scheme_"===f&&(f=(0,E.getLangMsg)("bosd.propertyView.key0003")),"_control_scheme_"===f&&(f=(0,E.getLangMsg)("bosd.propertyView.key0007")),"样式"===f&&(f=(0,E.getLangMsg)("bosd.propertyView.key0001")),y=[g.ID,g.TYPE];else if(c===g.ENTITYMETA){"_base_"===f&&(f=(0,E.getLangMsg)("bosd.propertyView.key0008")),y=[g.ID,g.TYPE,g.KEY,g.NAME];var v=p.uiModel.getEntityFieldInfo(this.props.uiInfo,m);m=v.get(g.ID)}var h=this.props.groupProps.filterNot((function(e){return n.default.includes(y,e.get("name"))}));h=h.filterNot((function(e){return s.some((function(t){var o=p.uiModel.getUIFieldInfo(r,t),i=p.uiModel.getParentControl(r,t);return function(e,t,r,o){var i=r.get("Hide");if(i&&"object"===T(i)){var a=i.toJS(),l=a.types,u=a.fieldTypes,d=a.parentTypes,c=a.hide;if(l&&u){var s=t.get(g.ID),f=t.get(g.TYPE),m=p.uiModel.getEntityFieldInfo(e,s),y=m&&m.get(g._TYPE_);return null==c||1==c?n.default.includes(l,f)&&n.default.includes(u,y):!(n.default.includes(l,f)&&n.default.includes(u,y))}return d?null==c||1==c?n.default.includes(d,o):!n.default.includes(d,o):c}}(r,o,e,i&&i.get("Type"))}))})),this.props.uiInfo.get("relatedList",(0,a.List)()).map((function(e,t){var r=h.findIndex((function(t){return t.get("name")===e.get("relatedPropName")}));r>=0&&(h=h.updateIn([r,"Editor"],(function(t){return t.set("items",e.get("relatedOptions"))})))}));var I=s.reduce((function(t,n){var o=p.uiModel.getUIFieldInfo(r,n),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.List)(),t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,i=(0,a.Set)();return e.forEach((function(e){var u=e.get("Action"),d=u instanceof a.List?u:a.List.of(u);d&&d.forEach((function(e){var u=r;if(e&&"hideproperty"===e.getIn(["action","name"])){e.getIn(["action","affectedByParent"],!1)&&(u=p.uiModel.getParentControl(t,r.get("Id")));var d=e.get("condition");try{d=d.replace(/&&/g," and ").replace(/!/g," not ").replace(/\|\|/g," or "),l.Parser.parse(d).evaluate({is:Q((function(r){var i,l=e.getIn(["action","conditionTypes"]);return l&&a.List.isList(l)&&(i=l.find((function(e){return n(t,u,r,e)}))),n(t,u,r,i||o)})),null:null})&&(i=i.concat(e.get("action").get("args")))}catch(e){console.error("eval condition scripts error:",d)}}}))})),i}(h,r,o,e.props.getPropertyValue,c);return t=t.concat(i)}),(0,a.Set)());I=I.concat(["AlignContent","JustifyContent","AlignItems","Direction","Wrap"]),h=h.filterNot((function(e){return I.includes(e.get("name"))}));var A=this.context.model,C=A.pageId,P=A.key,w=this.props.select_control_ids.reduce((function(t,n){var o=t.lockPropList,i=t.specialLockPropList,u=p.uiModel.getUIFieldInfo(r,n),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.List)(),t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,i=(0,a.Set)();return e.forEach((function(e){var u=e.get("Action"),d=u instanceof a.List?u:a.List.of(u);d&&d.forEach((function(e){if(e&&"lockproperty"===e.getIn(["action","name"])){var a=e.get("condition");try{a=a.replace(/&&/g," and ").replace(/!/g," not ").replace(/\|\|/g," or "),l.Parser.parse(a).evaluate({is:Q((function(e){return n(t,r,e,o)||n(t,r,e,g.FORMMETA)||n(t,r,e,g.ENTITYMETA)})),isGlobal:G((function(e){return t.get(e)})),null:null})&&(i=i.concat(e.get("action").get("args")))}catch(e){console.error("eval condition scripts error:",a)}}}))})),i}(e.props.groupProps,e.props.uiInfo,u,e.props.getPropertyValue,c),s=(0,b.getPageData)(C,[P,M.LOCK_PROPERTY,n])||(0,a.List)();if(s.size>0){var f=s.filter((function(e){return"string"==typeof e}))||(0,a.List)();o=o.concat(d,f);var m=s.filter((function(e){return"object"===T(e)}))||(0,a.List)();i=i.concat(m)}else o=o.concat(d);return{lockPropList:o,specialLockPropList:i}}),{lockPropList:(0,a.Set)(),specialLockPropList:(0,a.Set)()}),O=w.lockPropList,_=w.specialLockPropList;if(0===h.size)return null;var k=h.map((function(t){var d=t.get("name"),s=_.find((function(e){return void 0!==e.get(d)}));O.includes(d)?t=t.set("ReadOnly",!0):s&&(t=t.set("LockType",g.LOCK_TYPE.SPECIALLOCK).set(g.ORIGIN_PROPS_VALUE,s.get(d))),"JSPlugins"===d&&(t=t.set("LockType",g.LOCK_TYPE.SPECIALLOCK));var f=t.get("name"),y=function(e){var t=e.get("Editor"),r=t&&t.get("type"),o=e.get("name");if(e.get("ReadOnly")&&(r&&!q.includes(r)||["_Type_","ContainerType"].includes(o)))return u.ReadOnlyPropEditor;if(t){var i="";i=t.get("CustomPropName")?"CustomPropertyEditor":"".concat(n.default.upperFirst(t.get("type")),"PropertyEditor");var a=u[i];if(a)return a}return u.DefaultPropEditor}(t),v=e.props.getPropertyValue(r,o,t,c),h=J(e.props.groupProps,r,o,v,f,c);h.size>0&&e.props.addUiInfoValue("relatedList",h),t=t.merge((0,a.fromJS)({SelectControlKey:e.props.selectControlKey,metaType:e.props.metaType}));var b={uiConfig:e.props.uiConfig,uiInfo:e.props.uiInfo,prop:t,key:"".concat(m,"_").concat(d),itemId:m,field:e.props.field,metaType:e.props.metaType,notifyMsg:e.context.notifyMsg,select_control_id:e.props.select_control_id,select_control_ids:e.props.select_control_ids,updatePropValue:function(t,r){e.props.updatePropValue(d,t,r||e.props.metaType);var n=J(e.props.groupProps,e.props.uiInfo,e.props.field,t,f,r);n.size>0&&(e.props.addUiInfoValue("relatedList",n),n.map((function(t){t.get("beRelatedPropName")===d&&e.props.updateGroupPropValue(t.get("relatedPropName"),void 0,r||e.props.metaType,m)})));var o=e.props.groupProps.find((function(e){return e.get("name")===d})),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.Map)(),t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,n=(0,a.Set)(),o=(0,a.Map)({}),i=e.get("Action"),u=i instanceof a.List?i:a.List.of(i);return u&&u.forEach((function(e){if(e&&"resetproperty"===e.getIn(["action","name"])){var i=e.get("condition");try{if(i=i.replace(/&&/g," and ").replace(/!/g," not ").replace(/\|\|/g," or "),l.Parser.parse(i).evaluate({isChange:H((function(){return t})),is:Q((function(){return r})),null:null})){var a=e.getIn(["action","args"]),u=e.getIn(["action","argsTypes"]);a&&(n=n.concat(a),u&&a.forEach((function(e){u.get(e)&&(o=o.set(e,u.get(e)))})))}}catch(e){console.error("eval condition scripts error:",i)}}})),{out:n,outTypes:o}}(o,d,t,r||e.props.metaType);i.out.forEach((function(t){e.props.updatePropValue(t,void 0,i.outTypes.get(t)||r||e.props.metaType)}));var u=t;if(z.includes(d)){var c=p.uiModel.getUIFieldInfo(e.props.uiInfo,t);u=c?c.get(g.FieldType):t}var s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.Map)(),t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,n=(0,a.List)(),o=e.get("Action"),i=o instanceof a.List?o:a.List.of(o);return i&&i.forEach((function(e){if(e&&"setpropertyvalue"===e.getIn(["action","name"])){var o=e.get("condition");try{o=o.replace(/&&/g," and ").replace(/!/g," not ").replace(/\|\|/g," or "),l.Parser.parse(o).evaluate({isChange:H((function(){return t})),is:Q((function(){return r})),null:null})&&(n=n.concat(e.get("action").get("args")))}catch(e){console.error("eval condition scripts error:",o)}}})),n}(o,d,u,r||e.props.metaType);s&&s.size>0&&s.forEach((function(t){var n=t.get("property"),o=t.get("value",void 0);e.props.updatePropValue(n,o,r||e.props.metaType)}))},getPropertyValue:function(t,r,n,o){if("JSPlugins"===d){var i=t.getIn([g.FORMMETA,g.ITEMS]).find((function(e){return e.get(g._TYPE_).endsWith("FormAp")}));if(!i)return"";var a=i.get("JsPlugins")?i.get("JsPlugins").toJS():"";return a?JSON.stringify(a):""}return e.props.getPropertyValue(t,r,n,o||e.props.metaType)},getPropertyAliasValue:function(t,r,n,o){return e.props.getPropertyAliasValue(t,r,n,o||e.props.metaType)},updateOtherPropValue:function(t,r,n){e.props.updatePropValue(t,r,n||e.props.metaType)}},I=t.getIn(["Editor","type"],"");return["btnedit","refeditbtn"].includes(I.toLowerCase())&&(b.onClick=function(){return e.props.onPropClick(t,e.props.metaType)},b.otherTypeClick=function(r){var n=r.metaType,o=r.otherParams;e.props.onPropClick(t,n||e.props.metaType,o)}),i.default.createElement(y,b)}));return!1===this.props.showGroupTitle?k:i.default.createElement(d.default,{title:f},i.default.createElement("div",{style:{fontSize:"1em",paddingLeft:4,paddingTop:5}},k))}}]),t}(i.Component);X.contextType=h.PropertyViewerContext;t.default=Y},839936:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(505684),r(743924),r(693917),r(976896),r(721300),r(606200),r(534440),r(387912),r(633768),r(690512),r(78504),r(776512),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.designerType,r=e.addTempFragment,n=e.rootId,l=m((0,o.useState)((0,u.List)()),2),s=l[0],p=l[1];(0,o.useEffect)((function(){var e=(0,d.getData)(c.KEY_FRAGMENT_DATA);e&&g(e)}),[t]),(0,o.useEffect)((function(){var e=(0,d.addDataChangeListener)(c.KEY_FRAGMENT_DATA,g);return function(){e()}}),[]);var g=function(e){p(e)},y=(0,o.useMemo)((function(){var e=[];return s&&s.map((function(t){var r,n=t.get("groupType");return null===(r=t.get("children"))||void 0===r?void 0:r.map((function(t){e.push((0,u.fromJS)({groupType:n,groupName:t.get("groupName"),groupId:t.get("groupId"),tempFragments:t.get("tempFragments")}))}))})),e}),[s]);return o.default.createElement("div",{className:a.default.root},y&&y.map((function(e,t){return o.default.createElement(i.default,{key:e.get("groupId"),title:e.get("groupName")},o.default.createElement(h,{tempFragments:e.get("tempFragments"),groupType:e.get("groupType"),addTempFragment:r,rootId:n}))})),0===y.length&&o.default.createElement("div",{className:a.default["no-data"]},(0,f.getLangMsg)("bosd.tempFragment.key0001")))},r(9692),r(443616),r(241872),r(323784),r(835164),r(927184),r(660824),r(86744);var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=g(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}return o.default=e,r&&r.set(e,o),o}(r(795520)),i=p(r(707892)),a=p(r(553884)),l=p(r(937344)),u=r(891052),d=r(674260),c=r(868256),s=p(r(802012)),f=r(331428);function p(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(g=function(e){return e?r:t})(e)}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],u=!0,d=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){d=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(d)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var v=new u.Map;function h(e){var t=e.tempFragments,r=e.groupType,n=e.addTempFragment,i=e.rootId,d=m((0,o.useState)((0,u.List)()),2),c=d[0],f=d[1];return o.default.createElement("div",{className:a.default.fragmentPanel},t.map((function(e,t){return o.default.createElement("div",{key:e.get("key"),className:a.default.fragmentItem,onClick:function(){return function(e){var t=v.get(e);if(t)n(i,t);else if(!c.includes(e)){var o="metatemplate/getDesignerFragmentMetadata.do?groupType=".concat(r,"&fragmentId=").concat(e),a=setTimeout((function(){f((function(t){return t.push(e)}))}),300);l.default.postApi(o).then((function(t){clearTimeout(a),f((function(t){return t.includes(e)&&(t=t.splice(t.indexOf(e),1)),t})),v=v.set(e,(0,u.fromJS)(t)),n(i,(0,u.fromJS)(t))})).catch((function(e){}))}}(e.get("key"))}},o.default.createElement("img",{src:e.get("src"),className:a.default.img}),c.includes(e.get("key"))&&o.default.createElement(s.default,{loading:{showLoading:!0,loadingType:2},style:{backgroundColor:"#FFFFFF"}}))})))}},50988:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(697060),r(360776),r(622676),r(505684),r(743924),r(693917),r(205960),r(976896),r(846428),r(969e3),r(606200),r(534440),r(76152),r(76124),r(633768),r(690512),r(78504),r(776512),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.isPC,r=e.designerType,n=e.applyPageTemplate,l=e.uiConfig,u=e.templateData,d=e.changeShowPanleType,s=e.showPanelType,I=e.changeActiveTempInfo,A=e.activeTempInfo,E=e.changeTemplateData,M=e.uiInfo,P=Array.isArray(u)&&u[0],O=w((0,o.useState)(!0),2),k=O[0],S=O[1],j=w((0,o.useState)(!1),2),N=j[0],F=j[1],D=(0,o.useRef)({});(0,o.useEffect)((function(){if(P)if(S(!1),P.children&&0!==P.children.length||P.pages&&0!==P.pages.length){if(!A.key){var e=P.children||[],t=P||{};e.length>0&&(t=e.find((function(e){return void 0!==e.pages})));var r=t.groupId,n=t.groupName,o=(t.pages||[])[0];o&&I({key:o.key,previewSrcs:o.prevpaths,title:o.name,groupId:r,groupName:n})}}else F(!0)}),[u]),(0,o.useEffect)((function(){A.key&&("MobileBillFormAp"===r?T.includes(A.key)&&I({}):"MobileListFormAp"===r&&!T.includes(A.key)&&I({}))}),[r,A]);var L=function(){d(),E([])},x=function(e,t,n){var o="metadata/getDesignerMetadata.do?formId=".concat(e,"&designerMetaType=").concat(t,"&random=").concat(Math.random()),l=function(){if(!M||0===M.size)return{};var e=M.get("id"),t=(M.getIn(["formmeta","Items",0,"JsPlugins"])||(0,i.List)()).find((function(t){return w(t.get("ClassName","").split("_"),1)[0]===e})),r=t?t.get("FPK"):"";return{srcFormId:e,srcScriptId:r}}();return c.default.postApi(o,l).then((function(t){try{var o=a.default[a.DSTORE][0].getState().ui;D.current=Object.assign(D.current,{appId:o&&o.getIn(["uiInfo","appNum"]),formId:o&&o.getIn(["uiInfo","formmeta","Key"]),templateId:e,templateName:t.formmeta.Name,tempGroupId:A.groupId,tempGroupName:A.groupName,pageType:r})}catch(e){v.default.log(e)}"function"==typeof n&&n(t)})).catch((function(e){v.default.log(e)}))};if(t||0!==s)return null;var B="MobileFormAp"===r?3:9;return o.default.createElement(p.default,{onCLickOutside:L},o.default.createElement("div",{className:b.default.shadebox},o.default.createElement("div",{className:b.default.root},o.default.createElement(g.Header,{title:(0,h.getLangMsg)("bosd.templatePanel.key0001")}),k?o.default.createElement("div",{className:b.default.noData},o.default.createElement(f.default,{loadingType:2})):N?o.default.createElement("div",{className:b.default.noData},(0,h.getLangMsg)("bosd.templatePanel.key0002")):o.default.createElement(_,{templateData:P,handletemItemClick:function(e){var t=e.key,r=e.previewSrcs,n=e.title,o=e.groupId,i=e.groupName;t===A.key||I({key:t,previewSrcs:r,title:n,groupId:o,groupName:i})},activeTempInfo:A}),o.default.createElement(g.Footter,{buttonType:B,handleCancelClick:L,handleConfirmClick:function(){A.key&&x(A.key,r,(function(e){n(e,l),L(),(0,y.setData)(m.KEY_UI_ACTION,C(C({},D.current),{},{tableName:"mob_page_template"}))}))},handleNextClick:function(){if(A.key){var e="MobileBillFormAp"===r?2:1;x(A.key,r,(function(t){n(t,l),d(e)}))}},activeTempKey:A.key})),o.default.createElement("div",{className:b.default.shade},A.previewSrcs&&A.previewSrcs.length>0&&o.default.createElement(g.Preview,{imgSrcArr:A.previewSrcs,templateName:A.title,activeTempKey:A.key}))))},r(182320),r(909112),r(9692),r(305092),r(233696),r(443616),r(323784),r(835164),r(721300),r(336368),r(387912),r(203120),r(997308);var o=E(r(795520)),i=r(891052),a=E(r(211152)),l=I(r(671252)),u=I(r(707892)),d=I(r(783956)),c=I(r(937344)),s=r(439532),f=I(r(127360)),p=I(r(472792)),g=r(912),m=r(868256),y=r(674260),v=I(r(882976)),h=r(331428),b=I(r(520504));function I(e){return e&&e.__esModule?e:{default:e}}function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(A=function(e){return e?r:t})(e)}function E(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=A(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}return o.default=e,r&&r.set(e,o),o}function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach((function(t){P(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function P(e,t,r){var o;return o=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==n(o)?o:String(o))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],u=!0,d=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){d=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(d)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var T=["bos_doublepicrow_moblist","bos_doublerow_mobbilltpl","bos_multiopera_moblist","bos_singlecol_moblisttpl","bos_singleopera_moblist","bos_singlepicrow_mobbill"];function _(e){var t=e.templateData,r=e.handletemItemClick,n=e.activeTempInfo,i=function(e){if(e){var t=document.getElementById(e);t&&t.scrollIntoView({block:"start",behavior:"smooth"})}},a=t&&t.children;if(a&&a.length>0){var l=[],u=[];a&&a.forEach((function(e,t){if(e.pages&&e.pages.length>0){var i={anchorname:e.groupName,anchorid:e.groupId};l.push(i);var a=o.default.createElement(k,{key:e.groupId,id:e.groupId,groupname:e.groupName,pages:e.pages,handletemItemClick:r,activeTempInfo:n});u.push(a)}}));var d=l.length-1;return o.default.createElement("div",{className:b.default.content},d>0&&o.default.createElement("div",{className:b.default.anchorbox},l&&l.map((function(e,t){var r=null;return t<d?r=o.default.createElement("div",{className:b.default.anchorf},o.default.createElement("span",{key:t,className:b.default.anchor,onClick:function(){return i(e.anchorid)}},e.anchorname),o.default.createElement("span",{className:b.default.anchorborder})):t===d&&(r=o.default.createElement("div",{className:b.default.anchorf},o.default.createElement("span",{key:t,className:b.default.anchor,onClick:function(){return i(e.anchorid)}},e.anchorname))),r}))),o.default.createElement("div",{className:b.default.templatebox},o.default.createElement("div",{className:b.default.templateCon},u.length>0?u:o.default.createElement("div",{className:b.default.noData},(0,h.getLangMsg)("bosd.templatePanel.key0002")))))}var c=t&&t.pages,s=t||{},f=s.groupId,p=s.groupName;return o.default.createElement("div",{className:b.default.content},o.default.createElement("div",{className:b.default.subtitle},(0,h.getLangMsg)("bosd.templatePanel.key0003")),o.default.createElement("div",{className:b.default.templateList},c&&c.map((function(e,t){return o.default.createElement(S,{key:e.key,id:e.key,name:e.name,src:e.src,description:e.description,activeTempInfo:n,handletemItemClick:r,prevpaths:e.prevpaths,groupId:f,groupName:p})}))))}function k(e){var t=e.groupname,r=e.pages,n=e.key,i=e.handletemItemClick,a=e.activeTempInfo,l=e.id;return r&&r.length>0&&o.default.createElement("div",{className:b.default.templateGroupItem,id:l},o.default.createElement(u.default,{key:n,title:t},o.default.createElement("div",{className:b.default.templateItemContent},r&&r.map((function(e,r){return o.default.createElement(S,{key:e.key,id:e.key,name:e.name,src:e.src,description:e.description,activeTempInfo:a,handletemItemClick:i,prevpaths:e.prevpaths,groupName:t,groupId:l})})))))}function S(e){var t=e.name,r=e.id,n=e.src,i=e.description,a=e.activeTempInfo,u=e.handletemItemClick,c=e.prevpaths,f=e.groupId,p=e.groupName,g=(0,s.getImgFullPath)("",n,!0,!1),m=c||[],y=(0,l.default)(P({"kdfont kdfont-wenhao":!0},b.default.nametip,!0)),v=(0,l.default)(P(P({},b.default.templateImg,!0),b.default.templateImgAct,r===a.key)),h=(0,o.useCallback)((function(){u({key:r,previewSrcs:m,title:t,groupId:f,groupName:p})}),[r,m,t,u,f,p]);return o.default.createElement("div",{className:b.default.templateItem},o.default.createElement("div",{className:v,onClick:h},o.default.createElement("img",{src:g})),o.default.createElement("div",{className:b.default.templateName},t,o.default.createElement("i",{className:y,"data-tip":!0,"data-for":r}),i&&o.default.createElement(d.default,{className:(0,l.default)(b.default.tooltip,"primary-text-in-light"),id:r,effect:"solid",place:"top",type:"light"},o.default.createElement("span",{id:r,className:(0,l.default)(b.default.tiptext,"third-text-in-light")},i))))}},182288:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(360776),r(233696),r(505684),r(743924),r(693917),r(205960),r(297336),r(721300),r(336368),r(969e3),r(606200),r(534440),r(76152),r(76124),r(633768),r(78504),r(776512),r(997308),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=I((0,o.useState)(""),2),r=t[0],n=t[1],i=I((0,o.useState)((0,l.List)()),2),u=i[0],c=i[1],s=I((0,o.useState)((0,l.List)()),2),f=s[0],p=s[1],g=I((0,o.useState)(e.filterOptions),2),m=g[0],y=g[1],v=I((0,o.useState)(e.isGroupScheme),2),h=v[0],A=v[1],w=e.warmmingVisible,O=e.selectControlId,T=e.uiInfo,_=e.controlType,k=e.field,S=e.designerType,j=(0,o.useRef)(null);(0,o.useEffect)((function(){p((0,l.List)()),y(d.getFilterOptions(_)),A(d.isGroupScheme(_)),d.getTemplateScheme(S,_,k,T,(function(e,t){p(t),j.current=e}))}),[_]),(0,o.useEffect)((function(){n("")}),[O]);var N=!!m,F=u.reduce((function(e,t){return e+Math.pow(2,t)}),0),D=!h&&f&&f.filter((function(e){var t;return(Number("0b"+(null===(t=e.get("value"))||void 0===t?void 0:t.toString(2)))&Number("0b"+(null==F?void 0:F.toString(2))))===Number("0b"+(null==F?void 0:F.toString(2)))}));return o.default.createElement("div",{className:a.default.root},f&&o.default.createElement("div",{className:a.default.panel},o.default.createElement(E,{visible:w}),o.default.createElement(M,{options:m,activeOptions:u,setActiveOptions:c}),h?o.default.createElement(P,b({},e,{schemes:f,hasFilter:N,activeScheme:r,setActiveScheme:n})):o.default.createElement(C,b({},e,{schemes:D,hasFilter:N,activeScheme:r,setActiveScheme:n}))))},r(9692),r(622676),r(443616),r(323784),r(835164),r(492948),r(803372),r(976896),r(846428),r(387912),r(690512),r(660824);var o=y(r(795520)),i=g(r(671252)),a=g(r(509088)),l=r(891052),u=g(r(707892)),d=y(r(279284)),c=g(r(616696)),s=(g(r(3832)),r(331428)),f=r(868256),p=r(674260);function g(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(m=function(e){return e?r:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=m(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}return o.default=e,r&&r.set(e,o),o}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e,t,r){var o;return o=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==n(o)?o:String(o))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b.apply(this,arguments)}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],u=!0,d=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){d=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(d)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function E(e){var t=I((0,o.useState)(e.visible),2),r=t[0],n=t[1];return r?o.default.createElement("div",{className:a.default.warmming},o.default.createElement("div",{className:a.default.icon},"!"),o.default.createElement("div",{className:a.default.text},(0,s.getLangMsg)("bosd.templateScheme.key0001")),o.default.createElement("div",{className:a.default.close+" kdfont kdfont-guanbiyulan",onClick:function(e){return n(!1)}})):null}function M(e){var t=e.options,r=e.activeOptions,n=e.setActiveOptions;if(void 0===t||t.size<=0)return null;var l=t.map((function(e,t){var l=r.includes(t),u=(0,i.default)(h(h({},a.default.item,!0),a.default["blue-border"],l));return o.default.createElement("div",{key:t,className:u,onClick:function(e){return function(e,t){var o=r.includes(t)?r.filter((function(e){return e!==t})):r.push(t);n(o)}(0,t)}},e,o.default.createElement("div",{className:l?a.default.conner:""}))}));return o.default.createElement("div",{className:a.default.filter},l)}function C(e){var t,r=e.schemes,n=e.field,l=e.controlType,u=e.uiInfo,c=e.uiConfig,s=e.selectControlId,g=e.applyContainerTemplate,m=e.applyControlTemplate,y=e.hasFilter,b=e.activeScheme,I=e.setActiveScheme,A=e.mulColums,E=e.schemeCategory,M=e.designerType,C=null!=M&&null!==(t=M.toLowerCase())&&void 0!==t&&t.includes("mobile")?"mobile":"pc",P=null==u?void 0:u.getIn(["formmeta","Key"]),O=function(e){(0,p.setData)(f.KEY_UI_ACTION,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({tableName:"control_scheme"},e))},T=r.map((function(e){var t=b===e.get("name"),r=e.get("smallImg",!1),f=(0,i.default)(h(h({},a.default["scheme-item"],!0),a.default["blue-border"],t));return o.default.createElement("div",{key:e.get("name"),className:f,onClick:function(t){return function(e){var t=e.get("name");if(t===b&&d.hasSchemesOfController(l)&&m){var r=d.getDefControlJson(l,n,u);return m(r,s),void I("")}I(t),m?m(e.get("json"),s):g(e.get("json"),c,s),O({controlType:n.get("Type"),clientType:C,schemeKey:e.get("key"),schemeName:e.get("name"),schemeCategory:E,startTime:Date.now(),formId:P})}(e)}},o.default.createElement("img",{src:e.get("image"),className:r?a.default["scheme-smallImage"]:a.default["scheme-image"]}),o.default.createElement("div",{className:t?a.default.conner:""}))})),_=o.default.createElement(w,null);return o.default.createElement("div",{className:(0,i.default)(a.default.list,h(h({},a.default.listWithoutFilterPanel,!y),a.default.mulColums,A))},0===T.size?_:T)}function P(e){var t=e.schemes,r=e.hasFilter,n=e.field,i=t.map((function(t,i){var a=t.get("title"),l=t.get("mulColums",!1),d=n.get("Id");return o.default.createElement(u.default,{title:a,key:"".concat(a,"-").concat(d)},o.default.createElement(C,b({},e,{schemes:t.get("items"),hasFilter:r,mulColums:l,schemeCategory:a})))}));return o.default.createElement("div",null,i)}function w(){return o.default.createElement("div",{className:a.default.noscheme},o.default.createElement("img",{src:c.default,alt:"",srcset:""}),o.default.createElement("p",null,(0,s.getLangMsg)("bosd.templateScheme.key0002")))}},317760:function(e,t,r){"use strict";r(697060),r(743924),r(606200),r(78504),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(182320),r(909112),r(360776),r(205960),r(846428),r(387912);var n=u(r(795520)),o=u(r(671252)),i=u(r(571008)),a=u(r(635988)),l=u(r(688024));function u(e){return e&&e.__esModule?e:{default:e}}function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function c(e,t,r){var n;return n=function(e,t){if("object"!=d(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==d(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}t.default=function(e){var t=e.isPC,r=e.uiInfo,u=e.select_control_id,d=e.refresh_ctrl_ids,s=e.showGuide,f=(0,o.default)(c(c(c({},i.default["ui-center"],!0),i.default["ui-center-pc"],t),i.default["ui-center-mobile"],!t));return t?n.default.createElement("div",{className:f},e.children,n.default.createElement(l.default,{uiInfo:r,isPC:t,select_control_id:u,refresh_ctrl_ids:d})):n.default.createElement("div",{className:f},e.children,n.default.createElement(a.default,{showGuide:s}),n.default.createElement(l.default,{uiInfo:r,select_control_id:u,refresh_ctrl_ids:d}))}},599864:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(360776),r(743924),r(205960),r(846428),r(708896),r(606200),r(534440),r(670864),r(387912),r(836887),r(78504),r(776512),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(297336),r(880920);var o,i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=d(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}return o.default=e,r&&r.set(e,o),o}(r(795520)),a=r(874828),l=(o=r(181836))&&o.__esModule?o:{default:o},u=r(373448);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(d=function(e){return e?r:t})(e)}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s(n.key),n)}}function s(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:String(t)}function f(e,t,r){return t=g(t),function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,p()?Reflect.construct(t,r||[],g(e).constructor):t.apply(e,r))}function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(p=function(){return!!e})()}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}var y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),f(this,t,arguments)}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){var e=this.props.isPC,t=this.props.ui.getIn(["uiInfo","ui"]),r={};this.props.format_control_id&&(r.cursor="url("+u.cursor_brush+") 16 16, auto");var n=this.props.ui.get("ui_loading"),o=this.props.ui.get("ui_load_error");if(!t)return i.default.createElement("div",{id:"ui-designer",className:e?l.default.pcDesignerMain:l.default.modileDesignerMain,style:r},i.default.createElement("div",{style:{color:n?void 0:"red",wordBreak:"break-word",overflow:"auto"}},n?"loading":o));var d=this.props,c=d.selectControl,s=d.select_control_id,f=d.select_control_ids,p=d.refresh_ctrl_ids,g=d.addControl,m=d.moveToControl,y=d.updatePropValue,v=d.uiConfig,h=d.resetFillWidthHeight,b=d.selectControlIds,I=d.clipboard,A=d.dragover_control_id,E=d.auxiliaryLine,M=(0,a.parseUIControl)(t,!1,e);return M=i.default.cloneElement(M,{selectControl:c,select_control_id:s,select_control_ids:f,clipboard:I,auxiliaryLine:E,dragover_control_id:A,refresh_ctrl_ids:p,addControl:g,resetFillWidthHeight:h,dropHandle:function(e,t){return m(e,t,v)},updatePropValue:y,uiConfig:v,uiInfo:this.props.ui.get("uiInfo"),isPC:e,selectControlIds:b}),i.default.createElement("div",{id:"ui-designer",className:e?l.default.pcDesignerMain:l.default.modileDesignerMain,style:r},o?i.default.createElement("div",{style:{color:"red"}},o):n?"loading":i.default.createElement("div",{id:!e&&"ui-mobileView",className:e?l.default.pcView:l.default.mobileView,onKeyDown:this.props.onKeyDown},M))}}])&&c(r.prototype,n),o&&c(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(i.Component);t.default=y},994212:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(360776),r(743924),r(205960),r(846428),r(708896),r(606200),r(534440),r(670864),r(836887),r(78504),r(776512),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(233696),r(241872),r(820444),r(704180),r(297336),r(721300),r(880920),r(387912),r(997308);var o=h(r(795520)),i=h(r(540900)),a=h(r(671252)),l=h(r(790832)),u=h(r(425060)),d=h(r(525056)),c=h(r(839936)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=v(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}return o.default=e,r&&r.set(e,o),o}(r(799576)),f=r(373448),p=h(r(911864)),g=r(489912),m=r(891052),y=r(331428);function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(v=function(e){return e?r:t})(e)}function h(e){return e&&e.__esModule?e:{default:e}}function b(e,t,r){return(t=A(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,A(n.key),n)}}function A(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:String(t)}function E(e,t,r){return t=C(t),function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return P(e)}(e,M()?Reflect.construct(t,r||[],C(e).constructor):t.apply(e,r))}function M(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(M=function(){return!!e})()}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},w(e,t)}var O=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=E(this,t,[e])).onTabChange=r.onTabChange.bind(P(r)),r.selTabInfo={key:"toolbox",name:(0,y.getLangMsg)("bosd.uiLeft.key0001")},r.menuInfos=r.getMenuInfos(e),r.pathname="https://vip.kingdee.com/knowledge/specialDetail/218022218066869248",r.hasTmpCtrls=["ButtonAp","LabelAp","MToolbarAp","RateAp","BillListAp","ProgressBarAp","SuspendButtonAp","TimelineAp","StepsAp","CountDownAp"],r.hasTmpCtrlsPC=["BillListAp"],r}var r,n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}(t,e),r=t,(n=[{key:"componentWillMount",value:function(){this.menuInfos=this.getMenuInfos(this.props)}},{key:"componentWillUpdate",value:function(e,t){this.menuInfos=this.getMenuInfos(this.props)}},{key:"getMenuInfos",value:function(e){return{toolbox:{name:(0,y.getLangMsg)("bosd.uiLeft.key0001"),icon:f.control,selIcon:f.control_h},outline:{name:(0,y.getLangMsg)("bosd.uiLeft.key0002"),icon:f.outline,selIcon:f.outline_h},entitytree:{name:g.printModel.isPrintModel(e.uiInfo)?(0,y.getLangMsg)("bosd.uiLeft.key0003"):(0,y.getLangMsg)("bosd.uiLeft.key0004"),icon:f.entry,selIcon:f.entry_h},tempFragment:{name:(0,y.getLangMsg)("bosd.uiLeft.key0005"),icon:f.tempFragment,selIcon:f.tempFragment_h}}}},{key:"onTabChange",value:function(e,t){this.selTabInfo={key:e,name:t},this.refs.text.innerText=t,"toolbox"!==e&&"fragments"!==e||this.props.showGuide&&this.props.showGuide(e)}},{key:"getLocation",value:function(e,t){var r=e.origin,n=e.pathname.lastIndexOf("/"),o=e.pathname;return n>=0&&(o=o.substring(0,n+1)),r+o+t}},{key:"render",value:function(){var e=this,t=this.props,r=t.menuList,n=t.uiInfo,i=t.uiConfig,f=t.shareState,v=t.designerType,h=t.rootId,I=t.addTempFragment,A=t.isPC,E=t.select_control_id,M=A?this.hasTmpCtrlsPC:this.hasTmpCtrls,C=(0,a.default)(b(b({},p.default.root,!0),p.default.hidden,f.get("max_win")));if(-1===l.default.indexOf(r,this.selTabInfo.key)&&"fragments"!==this.selTabInfo.key){var P=this.menuInfos[r[0]];this.selTabInfo.key=r[0],this.selTabInfo.name=P.name}var w=[];if(l.default.forEach(r,(function(t){var r=e.menuInfos[t];switch(t){case"toolbox":w.push(o.default.createElement(s.TabPanel,{key:t,title:r.name,tab:o.default.createElement("img",{src:r.icon}),selTab:o.default.createElement("img",{src:r.selIcon})},o.default.createElement(d.default,{uiInfo:n,uiConfig:i,addControl:e.props.addControl,contentWidth:270,select_control_id:e.props.select_control_id,pathname:e.pathname,hasTmpCtrls:M})));break;case"outline":w.push(o.default.createElement(s.TabPanel,{key:t,title:r.name,tab:o.default.createElement("img",{src:r.icon}),selTab:o.default.createElement("img",{src:r.selIcon})},o.default.createElement(u.default,{uiInfo:n,uiConfig:i,select_control_id:e.props.select_control_id,select_control_ids:e.props.select_control_ids,format_control_id:e.props.format_control_id,selectControlId:e.props.selectControlId,handleShortcutKey:e.props.handleShortcutKey,updatePropValue:e.props.updatePropValue,moveToControl:function(t,r){return e.props.moveToControl(t,r,e.props.uiConfig)}})));break;case"entitytree":w.push(o.default.createElement(s.TabPanel,{key:t,title:r.name,tab:o.default.createElement("img",{src:r.icon}),selTab:o.default.createElement("img",{src:r.selIcon})},o.default.createElement(u.default,{isEntity:!0,uiInfo:n,uiConfig:i,select_control_id:e.props.select_control_id,select_control_ids:e.props.select_control_ids,format_control_id:e.props.format_control_id,updatePropValue:e.props.updatePropValue,selectControlId:e.props.addEntityControl,addControl:e.props.addControl,initSelectControlId:e.props.selectControlId})))}})),"MobileBillFormModel"===v||"MobileFormAp"===v||"MobileBillFormAp"===v){var O=this.menuInfos.tempFragment,T=h,_=(g.uiModel.getContainerControl(n,E,!0,i)||{}).control,k=null==_?void 0:_.get("Type");"MTabBarItemAp"===k&&(T=_.get("Id"));var S=((null==n?void 0:n.getIn(["ui","Items"]))||(0,m.List)()).some((function(e){return"MTabBarAp"===e.get("Type")}));(!S||S&&"MTabBarItemAp"===k)&&w.push(o.default.createElement(s.TabPanel,{key:"fragments",title:(0,y.getLangMsg)("bosd.uiLeft.key0005"),tab:o.default.createElement("img",{src:O.icon}),selTab:o.default.createElement("img",{src:O.selIcon})},o.default.createElement(c.default,{designerType:v,addTempFragment:I,rootId:T})))}return o.default.createElement("div",{className:C,id:"designer-UILeft"},o.default.createElement("div",{className:p.default.title},o.default.createElement("span",{ref:"text",className:p.default.text},this.selTabInfo.name)),o.default.createElement(s.default,{activeKey:this.selTabInfo.key,onChange:this.onTabChange,designerType:this.props.designerType},w))}}])&&I(r.prototype,n),i&&I(r,i),Object.defineProperty(r,"prototype",{writable:!1}),t}(o.default.Component);O.propTypes={uiConfig:i.default.object,uiInfo:i.default.object,shareState:i.default.object,addControl:i.default.func,select_control_id:i.default.string,select_control_ids:i.default.object},O.defaultProps={menuList:["toolbox","outline","entitytree"]};t.default=O},360800:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(360776),r(743924),r(205960),r(846428),r(708896),r(606200),r(534440),r(670864),r(387912),r(836887),r(78504),r(776512),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(297336),r(880920);var o=r(891052),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=d(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}return o.default=e,r&&r.set(e,o),o}(r(795520)),a=u(r(660488)),l=u(r(668104));function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(d=function(e){return e?r:t})(e)}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s(n.key),n)}}function s(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:String(t)}function f(e,t,r){return t=g(t),function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,p()?Reflect.construct(t,r||[],g(e).constructor):t.apply(e,r))}function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(p=function(){return!!e})()}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}var y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),f(this,t,arguments)}var r,n,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(t,e),r=t,(n=[{key:"shouldComponentUpdate",value:function(e,t){return!((0,o.is)(this.props.uiConfig,e.uiConfig)&&this.props.select_control_id===e.select_control_id&&(0,o.is)(this.props.select_control_ids,e.select_control_ids)&&(0,o.is)(this.props.uiInfo,e.uiInfo)&&(0,o.is)(this.props.shareState,e.shareState)&&(0,o.is)(this.props.showPanelType,e.showPanelType))}},{key:"render",value:function(){var e={};return(this.props.shareState.get("max_win")||void 0!==this.props.showPanelType)&&(e.display="none"),i.default.createElement("div",{className:l.default.root,style:e,id:"designer-UIRight"},i.default.createElement(a.default,{uiConfig:this.props.uiConfig,uiInfo:this.props.uiInfo,addUiInfoValue:this.props.addUiInfoValue,select_control_id:this.props.select_control_id,select_control_ids:this.props.select_control_ids,updatePropValue:this.props.updatePropValue,selectControlId:this.props.selectControlId,getPropertyValue:this.props.getPropertyValue,applyContainerTemplate:this.props.applyContainerTemplate,applyControlTemplate:this.props.applyControlTemplate,updateUIPropValue:this.props.updateUIPropValue,designerType:this.props.designerType}))}}])&&c(r.prototype,n),u&&c(r,u),Object.defineProperty(r,"prototype",{writable:!1}),t}(i.Component);t.default=y},349848:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(743924),r(606200),r(534440),r(387912),r(78504),r(776512),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.layoutTempls=void 0;var o=r(331428),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=a(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var u=i?Object.getOwnPropertyDescriptor(e,l):null;u&&(u.get||u.set)?Object.defineProperty(o,l,u):o[l]=e[l]}return o.default=e,r&&r.set(e,o),o}(r(707904));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}t.layoutTempls=[{name:"1",describe:(0,o.getLangMsg)("bosd.layoutTempls.key0001"),imgsrc:i.layout1,layout:{Wrap:!1,Direction:"column",JustifyContent:"flex-start",AlignItems:"flex-start"}},{name:"2",describe:(0,o.getLangMsg)("bosd.layoutTempls.key0002"),imgsrc:i.layout2,layout:{Wrap:!1,Direction:"column",JustifyContent:"flex-start",AlignItems:"center"}},{name:"3",describe:(0,o.getLangMsg)("bosd.layoutTempls.key0003"),imgsrc:i.layout3,layout:{Wrap:!1,Direction:"column",JustifyContent:"center",AlignItems:"flex-start"}},{name:"4",describe:(0,o.getLangMsg)("bosd.layoutTempls.key0004"),imgsrc:i.layout4,layout:{Wrap:!1,Direction:"column",JustifyContent:"space-between",AlignItems:"flex-start"}},{name:"5",describe:(0,o.getLangMsg)("bosd.layoutTempls.key0005"),imgsrc:i.layout5,layout:{Wrap:!1,Direction:"row",JustifyContent:"flex-start",AlignItems:"flex-start"}},{name:"6",describe:(0,o.getLangMsg)("bosd.layoutTempls.key0006"),imgsrc:i.layout6,layout:{Wrap:!1,Direction:"row",JustifyContent:"center",AlignItems:"flex-start"}},{name:"7",describe:(0,o.getLangMsg)("bosd.layoutTempls.key0007"),imgsrc:i.layout7,layout:{Wrap:!1,Direction:"row",JustifyContent:"space-between",AlignItems:"flex-start"}},{name:"8",describe:(0,o.getLangMsg)("bosd.layoutTempls.key0008"),imgsrc:i.layout8,layout:{Wrap:!1,Direction:"row",JustifyContent:"center",AlignItems:"center"}},{name:"9",describe:(0,o.getLangMsg)("bosd.layoutTempls.key0009"),imgsrc:i.layout9,layout:{Wrap:!1,Direction:"column",JustifyContent:"flex-start",AlignItems:"stretch"}},{name:"10",describe:(0,o.getLangMsg)("bosd.layoutTempls.key0010"),imgsrc:i.layout10,layout:{Wrap:!1,Direction:"column",JustifyContent:"center",AlignItems:"center"}},{name:"11",describe:(0,o.getLangMsg)("bosd.layoutTempls.key0011"),imgsrc:i.layout11,layout:{Wrap:!0,Direction:"column",JustifyContent:"flex-start",AlignItems:"flex-start",AlignContent:"flex-start"}},{name:"12",describe:(0,o.getLangMsg)("bosd.layoutTempls.key0012"),imgsrc:i.layout12,layout:{Wrap:!0,Direction:"row",JustifyContent:"flex-start",AlignItems:"flex-start",AlignContent:"flex-start"}}]},536320:function(e,t,r){"use strict";r(606200),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(141170),o=l(r(768888)),i=l(r(418604)),a=l(r(746164));function l(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.combineReducers)({shareState:a.default,ui:o.default,metadata:i.default})},418604:function(e,t,r){"use strict";r(606200),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,n.Map)(),t=arguments.length>1?arguments[1]:void 0;if(t.type===o.set_ui_metadata)return e.set("uiMetadata",(0,n.fromJS)(t.metadata||{}));return e};var n=r(891052),o=(r(65624),r(579016))},746164:function(e,t,r){"use strict";r(606200),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,n.Map)(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.current_edit_mode:return e.set("current_edit_mode",t.value);case o.notify_message:return e.set("notify_message",(0,n.Map)({message:t.message,messageType:t.messageType}));case o.max_win:return e.set("max_win",t.max)}return e};var n=r(891052),o=r(579016)},613856:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(360776),r(505684),r(323784),r(743924),r(205960),r(976896),r(721300),r(846428),r(606200),r(633768),r(690512),r(78504),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.actionWrap=function(e,t,r){return function(){var n=arguments[0],o=Array.prototype.slice.call(arguments).slice(1);return t&&(n=t.apply(void 0,[n].concat(h(o)))),n=e.apply(void 0,[n].concat(h(o))),r&&(n=r.apply(void 0,[n].concat(h(o)))),n}},t.canAddControl=function(e,t){var r=t.ctrlId,n=t.parentId,l=t.ctrlType,d=t.fieldType,s=t.uiConfig,f=t.isPaste,p="string"==typeof n?c.uiModel.getUIFieldInfo(e,n):n,g=r?"string"==typeof r?c.uiModel.getUIFieldInfo(e,r):r:(0,o.fromJS)(v(v(v({},i.TYPE,l),"FieldType",d),"isPaste",f));return function(e,t,r,n,l){var d,s;if(!e)return!0;var f=c.uiModel.getRealControlType(n)(e.get(i.TYPE),e.get(i.ID)),p=e.get("FieldType"),g=c.metadataModel.getConfigCtrlBaseType(f,r),y=c.metadataModel.getConfigCtrlBaseType(p,r),v=t.get(i.TYPE),h=t.get("FieldType")||(null===(d=c.uiModel.getFormFieldInfo(n,t.get(i.ID)))||void 0===d?void 0:d.get(i.FieldType)),b=null===(s=c.uiModel.getFormFieldInfo(n,t.get(i.ID)))||void 0===s?void 0:s.get("Inherit"),I=c.metadataModel.getConfigCtrlBaseType(v,r),A=c.metadataModel.getConfigCtrlBaseType(h,r);u.default.byId(n,e.get("Id"));if("EntryAp"===f&&void 0===p){var E=c.uiModel.getFieldInfo(n,e.get(i.ID),i.ENTITYMETA).get("_Type_");["SubEntryEntity","EmbedSubEntryEntity"].includes(E)&&(p=E)}var M=n&&n.getIn(["ui","Type"]);if(["MobileBillFormAp"].includes(M)&&["CardEntryAp","EntryAp"].includes(f))throw{message:(0,m.getLangMsg)("bosd.common.key0001"),type:"warning"};var C=(0,m.getLangMsg)("bosd.common.key0002");if(a.panelApRelatedEntity.includes(f)&&!a.FieldTypeListOfPanel.includes(h))throw{message:C,type:"warning"};if(a.panelApRelatedEntity.includes(f)&&a.FieldTypeListOfPanel.includes(h)&&c.uiModel.getPropertyValue(n,t,"RelatedParentId",i.FORMMETA,r)!==e.get("Id"))throw{message:C,type:"warning"};if(b&&["EntryFieldAp","CardEntryFieldAp"].includes(v)){var P=t.get(i.ID),w=c.uiModel.getParentControl(n,P);if(c.uiModel.getParentEntityId(n,w.get(i.ID))!==c.uiModel.getParentEntityId(n,e.get(i.ID))){var O,T,_=null===(O=c.uiModel.getFormFieldInfo(n,P))||void 0===O?void 0:O.get(i.NAME),k=null===(T=c.uiModel.getFormFieldInfo(n,P))||void 0===T?void 0:T.get(i.KEY);throw l.isPaste?{message:(0,m.getLangMsg)({key:"bosd.common.key0017",variables:{fieldName:_,fieldKey:k}}),type:"warning"}:{message:(0,m.getLangMsg)({key:"bosd.common.key0016",variables:{fieldName:_,fieldKey:k}}),type:"warning"}}}if(t.get(i.ID)||t.get("isPaste")){if("EntryAp"===f||"EmbedSubEntryAp"===f){if(["EntryFieldAp","EntryFieldGroupAp","OperationColumnAp","EntryFieldContainerAp"].indexOf(v)>-1)return!0;throw{message:(0,m.getLangMsg)("bosd.common.key0001"),type:"warning"}}if(["EntryFieldGroupAp","EntryFieldContainerAp","CardEntryRowAp","CardEntryFlexPanelAp"].includes(f)&&"FieldAp"===v)throw{message:(0,m.getLangMsg)("bosd.common.key0001"),type:"warning"}}if(["MTabBarItemAp","MTabBarFormAp"].includes(v)){if(6===e.get("Items").size)throw{message:(0,m.getLangMsg)("bosd.common.key0003"),type:"warning"}}var S=function(e){var t=c.metadataModel.getConfigFieldByType(r,e),n=t&&t.get("NotAccept"),i=(n=n||(0,o.Map)()).get("ids",(0,o.List)());return i.includes(v)||i.includes(h)},j=S(f)||S(p);if(j)throw{message:(0,m.getLangMsg)("bosd.common.key0001"),type:"warning"};var N=function(e){var t=c.metadataModel.getConfigFieldByType(r,e),n=t&&t.get("Accept");if(!n)return!0;var i=n.get("ids",(0,o.List)()),a=n.get("basetypes",(0,o.List)());return i.includes(v)||i.includes(h)||a.includes(I)||a.includes(A)};if(!(j=N(f)&&N(p)))throw{message:(0,m.getLangMsg)("bosd.common.key0001"),type:"warning"};var F=function(e){var t=c.metadataModel.getConfigFieldByType(r,e),n=t&&t.get("AcceptParent");if(!n)return!0;var i=n.get("ids",(0,o.List)()),a=n.get("basetypes",(0,o.List)());return i.includes(f)||i.includes(p)||a.includes(g)||a.includes(y)};if(!(j=F(v)&&F(h)))throw{message:(0,m.getLangMsg)("bosd.common.key0004"),type:"warning"};return!0}(p,g,s,e,{isPaste:f})},t.canAddUniqueFeild=function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},l=a.isMove,u=c.uiModel.getUIFieldInfo(n,e),d=t.get(i.TYPE),s=t.get("FieldType"),f=c.metadataModel.getConfigFieldByType(r,d,s)||(0,o.Map)(),p=f.get("isUnique")||!1,g=f.get("name")||f.get("Id");if(p){var y=u.get("Id"),v=c.uiModel.getParentEntityId(n,y),h=n.getIn(["entitytree","Id"]),b=n.get("entitytree");if(v===h){if(l)return!0;if(b.getIn(["Items"]).some((function(e){return e.get("Type")===s})))throw{message:(0,m.getLangMsg)({key:"bosd.common.key0011",variables:{name:g}}),type:"warning"}}else{var I=(c.uiModel.getEntityTreeInfo(n,v)||(0,o.Map)()).get("Items",(0,o.List)()).find((function(e){return e.get("Type")===s})),A=I&&I.get(i.ID),E=t&&t.get(i.ID),M=(0,m.getLangMsg)({key:"bosd.common.key0012",variables:{name:g}});if(l){if(I&&A!==E)throw{message:M,type:"warning"}}else if(I)throw{message:M,type:"warning"}}}},t.canDeleteControl=function(e,t){var r=t.ctrlId,n=t.uiConfig,l=c.uiModel.getUIFieldInfo(e,r);if(!l)return!1;var d=c.uiModel.getFormFieldInfo(e,r),s=d.get("Name"),f=d.get("Key"),p=l.get(i.TYPE),g=l.get(i.FieldType);if(c.uiModel.isRootCtrl(e,r)){var y=(0,m.getLangMsg)({key:"bosd.common.key0005",variables:{fieldName:s,fieldKey:f}});throw new Error(y)}if(a.FieldTypeListOfPanel.includes(g)){var v=c.uiModel.getPropertyValue(e,l,"RelatedParentId",i.FORMMETA,n);if(v&&c.uiModel.getUIFieldInfo(e,v)){var h=c.uiModel.getPropertyValue(e,v,"Name",i.FORMMETA,n),b=(0,m.getLangMsg)({key:"bosd.common.key0006",variables:{fieldName:s,fieldKey:f,name:h}});throw new Error(b)}}var I=p;!function t(r){var l=r.get(i.TYPE),u=r.get(i.ID),d=c.uiModel.getFormFieldInfo(e,u),s=d.get("Inherit"),f=d.get(i.NAME),p=d.get(i.KEY),g=d.get(i.TYPE),y=d.get(i.FIELD_NAME);if(1==s&&(!c.uiModel.isContainerControl(n,e,u)||["EntryAp","ReportCommFilterPanelAp","ReportMoreFilterPanelAp","ReportListAp"].includes(l))){var v=y||p,h=(0,m.getLangMsg)({key:"bosd.common.key0007",variables:{fieldName:f,key:v}});throw new Error(h)}if(a.FieldTypeListOfPanel.includes(g)&&!a.panelApRelatedEntity.includes(I)){var b=c.uiModel.getPropertyValue(e,r,"RelatedParentId",i.FORMMETA,n);if(b&&c.uiModel.getUIFieldInfo(e,b)){var A=c.uiModel.getPropertyValue(e,b,"Name",i.FORMMETA,n),E=(0,m.getLangMsg)({key:"bosd.common.key0008",variables:{fieldName:f,fieldKey:p,name:A}});throw new Error(E)}}var M=r.get(i.ITEMS,(0,o.List)());M&&M.size>0&&(I=l,M.forEach((function(e){return t(e)})))}(l);var E=c.metadataModel.getConfigFieldByType(n,p,g);if(E&&E.get("disableDelete")){var M=(0,m.getLangMsg)({key:"bosd.common.key0009",variables:{fieldName:s,fieldKey:f}});throw new Error(M)}var C=c.uiModel.getParentControl(e,r);if(A.includes(p)&&"GridFlatPanelAp"===(null==C?void 0:C.get(i.TYPE)))return!0;var P=u.default.byId(e,r);return P&&P.forEach((function(t,r){if("GridFlatPanelAp"===e.getIn(P.slice(0,r)).get("Type")){var n=(0,m.getLangMsg)({key:"bosd.common.key0010",variables:{fieldName:s,fieldKey:f}});throw new Error(n)}})),!0},t.cloneControls=function(e,t,r,n,l){var u,s,f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},p=(f||{}).isCopyAndAdd,g=e&&e.getIn(["ui","Type"]);u=s=(0,o.List)();var m=e.get("entityreadonly"),y=c.printModel.isPrintModel(e),h=[l],b=[],I=c.uiModel.getUIFieldInfo(t,r),A=[],E=function r(n,l,f){var m=f,I=(0,d.createNewId)(),A=n.get(i.ID),E=n.get(i.FieldType),M=c.uiModel.getFormFieldInfo(t,A),C=M.get(i._TYPE_),P=M.get(i.KEY);if(p){var w=e.get("isv","kingdee");w&&0===P.indexOf(w)&&(P=E||P)}var O=(0,d.createNewKey)(e,P,b);b.push(O);var T=v(v({},i.ID,I),i.KEY,O);M.get("Inherit")&&(T.Inherit=!1);var _=!y&&c.uiModel.getEntityFieldInfo(t,A);_&&(m=[],T[i.PARENTID]=h[h.length-1],h.push(I),_=_.merge((0,o.fromJS)(T)),s=s.push(_),a.entryApRelatedEntity.includes(C)?T[a.entityNameOfEntry]=I:a.panelApRelatedEntity.includes(C)?T[a.entityNameOfPanelAp]=I:"MobileBillFormAp"!==g&&(T.FieldId=I)),T[i.PARENTID]=l,M=M.merge((0,o.fromJS)(T)),u=u.push(M);var k=n.withMutations((function(e){e.update(i.ID,(function(e){return I})).update(i.ITEMS,(function(e){return e&&e.map((function(e){return r(e,I,m)}))}))}));if(_){h.pop();var S=v(v({},i.ID,_.get(i.ID)),i.TYPE,_.get(i._TYPE_));m.length>0&&(S[i.ITEMS]=m),f.push(S)}return k}(I,n,A);if(!m)return A=(0,o.fromJS)(A),(0,o.fromJS)({ui:E,formmeta:u,entitymeta:s,entitytree:A});return(0,o.fromJS)({ui:E,formmeta:u,entitymeta:s})},t.createUIInfo=I,t.getCopyContent=function(){var e=f.default.get(l.COPY_CONTENT_KEY);if(!e)return;return e=(0,o.fromJS)(JSON.parse(e))},t.setCopyContent=function(e,t){if(!t)return void f.default.remove(l.COPY_CONTENT_KEY);var r=I(e,t),n=e.get("modelType")||e.getIn(["formmeta","ModelType"]);r=r.set("modelType",n),f.default.set(l.COPY_CONTENT_KEY,JSON.stringify(r.toJS()))},t.setDragoverControlId=function(e,t){return e=e.set("dragover_control_id",t)},t.setSelectControlId=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];r=!0===a?function(e,t){var r=e.get("uiInfo"),n=e.get("select_control_ids",(0,o.List)()),a=n.last();if(a==t)return;if(c.uiModel.isRootCtrl(r,a))return;var l,d;(0,o.List)();if(c.printModel.isPrintModel(r)&&(l=c.uiModel.getUIFieldInfo(r,a))&&(d=c.printModel.getGridInfo(r,l))&&d.get(i.ID)!=a){var s=c.uiModel.getUIFieldInfo(r,t),f=c.printModel.getGridInfo(r,s);if(!f||f.get(i.ID)!=d.get(i.ID))return;if(s.get(i.TYPE)!=l.get(i.TYPE))return;var p=c.printModel.getCellPosition(f,a),g=c.printModel.getCellPosition(f,t);if(!p||!g)return;return function(e,t,r){var n=(0,o.List)(),a=t.rowIndex,l=t.colIndex,u=r.rowIndex,d=r.colIndex;if(a>u){var s=a;a=u,u=s}if(l>d){var f=l;l=d,d=f}var p=function(t,r){var o=c.printModel.getCellInfo(e,{rowIndex:t,colIndex:r});o&&(n=n.push(o.get(i.ID)))};if(a>=0&&l>=0)for(var g=a;g<=u;g++)for(var m=l;m<=d;m++)p(g,m);else if(a>=0)for(var y=a;y<=u;y++)p(y);else if(l>=0)for(var v=l;v<=d;v++)p(void 0,v);return n}(f,p,g)}var m=c.printModel.getGridInfo(r,t);if(m&&c.uiModel.isTargetCtrls(r,a,["Text","Amount","Barcode","QRCode","Image","Grid"])&&(t=m.get(i.ID)),!c.uiModel.isSiblingControl(r,a,t))return;var y=u.default.childIndex(r,a),v=u.default.childIndex(r,t);return function(e,t,r){var n=(0,o.List)();if(t>r){var a=t;t=r,r=a}for(var l=t;l<=r;l++){var u=e.get(l);u&&(n=n.push(u.get(i.ID)))}return n}(c.uiModel.getParentControl(r,a).get(i.ITEMS,(0,o.List)()),y,v)}(e,t):!0===n?function(e,t){var r,n,a=e.get("uiInfo"),l=e.get("select_control_ids",(0,o.List)()),u=l.last();if(c.uiModel.isRootCtrl(a,u))return;if(c.printModel.isPrintModel(a)&&(r=c.uiModel.getUIFieldInfo(a,u))&&(n=c.printModel.getGridInfo(a,r))&&n.get(i.ID)!=u){var d=c.uiModel.getUIFieldInfo(a,t),f=c.printModel.getGridInfo(a,d);if(!f)return;if(f.get(i.ID)!=n.get(i.ID)){var p=c.uiModel.getPropertyValue(a,f.get(i.ID),"VerticalFill",i.FORMMETA,e.get("uiConfig")),g=c.uiModel.getPropertyValue(a,f.get(i.ID),"HorizontalFill",i.FORMMETA,e.get("uiConfig"));if(s.default.endsWith(d.get(i.TYPE),"Column")!==s.default.endsWith(r.get(i.TYPE),"Column")||s.default.endsWith(d.get(i.TYPE),"Row")!==s.default.endsWith(r.get(i.TYPE),"Row"))return;if(s.default.endsWith(r.get(i.TYPE),"Column")&&g||s.default.endsWith(r.get(i.TYPE),"Row")&&p)return}}else{var m=c.printModel.getGridInfo(a,t);if(m&&c.uiModel.isTargetCtrls(a,u,["Text","Amount","Barcode","QRCode","Image","Grid"])&&(t=m.get(i.ID)),!c.uiModel.isSiblingControl(a,u,t))return}var y=l,v=y.findIndex((function(e){return e==t}));if(v>=0&&1===y.size)return;return y=-1===v?y.push(t):y.splice(v,1),y}(e,t):o.List.of(t);return r&&0!==r.size?(e=(e=(e=e.set("select_control_ids",r)).set("select_control_id",r.last())).set("dragover_control_id",""),(0,p.setData)(g.KEY_DESIGNER_SELECT_CTRL,r.last()),e):e},r(9692),r(305092),r(613468),r(233696),r(443616),r(241872),r(835164),r(693917),r(704180),r(927184),r(76124),r(387912),r(125048),r(660824),r(997308);var o=r(891052),i=r(65624),a=r(520372),l=r(438728),u=y(r(864792)),d=r(874828),c=r(489912),s=y(r(790832)),f=y(r(212352)),p=r(674260),g=r(868256),m=r(331428);function y(e){return e&&e.__esModule?e:{default:e}}function v(e,t,r){var o;return o=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==n(o)?o:String(o))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function I(e,t){var r={ui:v({},i.ITEMS,[]),formmeta:v({},i.ITEMS,[]),entitymeta:v({},i.ITEMS,[])},n=function t(n){var a=n.get(i.ID),l=c.uiModel.getFormFieldInfo(e,a),u=c.uiModel.getEntityFieldInfo(e,a);l&&r.formmeta[i.ITEMS].push(l.toJS()),u&&r.entitymeta[i.ITEMS].push(u.toJS()),n.get(i.ITEMS,(0,o.List)()).forEach((function(e){return t(e)}))};return t.forEach((function(t){var o=c.uiModel.getUIFieldInfo(e,t);o&&(r.ui[i.ITEMS].push(o.toJS()),n(o))})),(0,o.fromJS)(r)}var A=["ButtonAp","LabelAp","ImageAp"]},463844:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(743924),r(606200),r(534440),r(78504),r(776512),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){switch(t.type){case c.set_ui_loading:return e.set("ui_loading",t.value);case c.set_ui_load_error:return e.set("ui_load_error",t.value);case c.set_ui_info:var r=(0,o.fromJS)(t.uiInfo||{});return e=e.set("uiInfo",r).set("originUiInfo",r).set("clipboard",(0,o.Map)()),t.selectRootControl&&(e=(0,a.setSelectControlId)(e,i.uiModel.getRootId(r))),e=e.set("history",(0,o.Map)());case c.set_refresh_ctrl_ids:return e.set("refresh_ctrl_ids",t.value);case c.clear_dirty_data:return function(e){return e.update("uiInfo",(function(e){var t=[],r=i.uiModel.getFormmeta(e),n=e.getIn([s.ENTITYMETA,s.ID]);return e=e.updateIn([s.ENTITYMETA,s.ITEMS],(function(e){return e.filter((function(e){var o=e.get(s.ID);return!1!==e.get("Inherit",!1)||o===n||-1!==r.findIndex((function(e){return e.get("FieldId")===o||e.get(f.entityNameOfEntry)===o||e.get(f.entityNameOfPanelAp)===o}))||(t.push(e.toJS()),!1)}))}))}))}(e)}switch(t.type){case c.dragover_control:return(0,a.setDragoverControlId)(e,t.ctrlId);case c.select_control_id:return v(e=(0,a.setSelectControlId)(e,t.ctrlId,t.multi,t.scope),t.ctrlId);case c.set_format_info:return function(e,t){var r=t.ctrlId,n=t.multi;return e.set("format_control_id",r).set("multi_format_state",n)}(e,t);case c.paste_control_style:return function(e){var t=e.getIn(["clipboard","copy_control_id"],(0,o.List)());if(1===t.size){var r=t.get(0),n=e.get("select_control_id");e=v(e,n,r)}return e}(e);case c.move_control:return function(e,t){t.direction;var r=e.get("select_control_id"),n=e.get("select_control_ids",(0,o.List)()),i=n.size>0?n:o.List.of(r);return e.update("uiInfo",(function(e){return(0,a.actionWrap)(h,null,b)(e,i,t.direction)}))}(e,t);case c.copy_control:return function(e,t){var r=t.ctrlId,n=t.mode,l=t.disableDelete;if(l)return e;var u="string"==typeof r?o.List.of(r):r;if(0===u.size)return e;n=n||"copy";var d=e.get("uiInfo"),c=i.uiModel.getPropertyValue(d,u.get(0),s._TYPE_),f=["LayoutRow","LayoutColumn","DataRow","DataColumn","SubDataRow","SubDataColumn"].indexOf(c);if(i.uiModel.isRootCtrl(d,u.get(0))||f>-1){throw{message:f>-1&&f%2==0?(0,p.getLangMsg)("bosd.common.key0013"):(0,p.getLangMsg)("bosd.common.key0014"),type:"warn"}}if(["LayoutCell","DataCell"].indexOf(c)>-1&&"cut"===n)throw{message:(0,p.getLangMsg)("bosd.common.key0015"),type:"warn"};return(0,a.setCopyContent)(d,"copy"===n?u:null),e.update("clipboard",(0,o.Map)(),(function(e){return e.set("mode",n).set("copy_control_id",u)}))}(e,t)}return e},r(9692),r(622676),r(613468),r(233696),r(443616),r(241872),r(835164),r(885612),r(387912),r(660824),r(997308);m(r(790832));var o=r(891052),i=r(489912),a=r(613856),l=r(874828),u=r(438728),d=m(r(864792)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=g(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}return o.default=e,r&&r.set(e,o),o}(r(579016)),s=r(65624),f=r(520372),p=r(331428);function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(g=function(e){return e?r:t})(e)}function m(e){return e&&e.__esModule?e:{default:e}}var y=["CardListColumnAp","CardDateListColumnAp","CardTimeListColumnAp","CardCheckBoxListColumnAp","CardComboListColumnAp","CardMulComboListColumnAp","CardDecimalListColumnAp","CardFlexListColumnAp"];function v(e,t,r){var n=r||e.get("format_control_id","");if(!n)return e;var a=e.get("uiInfo"),d=i.uiModel.getFormFieldInfo(a,n);if(!d)return e;var c="PrintModel"===e.getIn(["uiInfo","modelType"]),f=e.get("select_control_ids",(0,o.List)());return(c?(0,l.convertToList)(t):f.concat(i.uiModel.getDescendantIds(a,f))).forEach((function(e){var t=i.uiModel.getFormFieldInfo(a,e);(function(e,t,r){var n=t.get(s._TYPE_),o=r.get(s._TYPE_);if(n===o||y.includes(n)&&y.includes(o))return!0;var i=["Text","Amount"];return!!("PrintModel"===e.get("modelType")&&i.indexOf(n)>-1&&i.indexOf(o)>-1)})(a,d,t)&&u.FORMAT_PROPS.forEach((function(t){var r=i.uiModel.getPropertyValue(a,n,t);a=i.uiModel.updatePropValue({fieldId:e,propName:t,value:r,metaType:"formmeta"})(a)}))})),(e=e.set("uiInfo",a)).get("multi_format_state",!1)||(e=e.set("format_control_id","").set("multi_format_state",!1)),e}function h(e,t,r){var n=i.uiModel.getParentControl(e,t.first());if(!n)return e;var a=n.get(s.ITEMS,(0,o.List)());t=a.map((function(e){return e.get(s.ID)})).filter((function(e){return t.includes(e)})),t="up"==r?t:t.reverse();var l="up"==r?i.uiModel.getPreControl:i.uiModel.getNextControl,u=function t(r){if(r){var n=l(e,r,!1);if(n){var o=n.get(s.ID);if(o!=r){var a=i.uiModel.getPropertyValue(e,o,"Hidden",s.FORMMETA),u=i.uiModel.getPropertyValue(e,o,"Invisible",s.FORMMETA);if(a||u)return t(o)}return o}}};return t.forEach((function(r){var n=u(r);if(n&&!t.contains(n)){var o=d.default.byId(e,n),i=e.getIn(o),a=d.default.byId(e,r),l=e.getIn(a);e=e.updateIn(a,(function(){return i})).updateIn(o,(function(){return l}))}})),e}function b(e,t,r){var n=i.uiModel.getFormFieldInfo(e,t.first()).get("ParentId");return i.uiModel.updateFormIndex(n)(e)}},603008:function(e,t,r){"use strict";r(360776),r(505684),r(323784),r(693917),r(205960),r(721300),r(846428),r(969e3),r(606200),r(534440),r(76152),r(633768),r(776512),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){switch(t.type){case a.add_control:return function(e,t){var r,n=t.ctrlInfo,i=t.parentId,a=t.uiConfig;"object"!==N(n)?(r=n,n={}):(r=n[l.TYPE],delete n[l.TYPE]);var u=f.uiModel.getTypeInfo({ctrlType:r},a);r=u.ctrlType;var d=u.fieldType,p=e.get("uiInfo");i=i||f.uiModel.getRootId(p);var g=f.uiModel.getContainerControl(p,i,!0,a);i=g.control.get(l.ID);var m=g.targetIndex;isNaN(m)||m++;if(!(0,s.canAddControl)(p,{parentId:i,ctrlType:r,fieldType:d,uiConfig:a})){throw{message:(0,A.getLangMsg)({key:"bosd.defaultReducer.key0001",variables:{type:d||r}}),type:"warning"}}var y=(0,o.fromJS)(j(j({},l.TYPE,r),l.FieldType,d));(0,s.canAddUniqueFeild)(i,y,a,p);var v=n[l.ID]||(0,c.createNewId)(),h=(0,c.createNewKey)(p,d||r);if(n.Items&&n.Items.length>0){var b=n.Items;delete n.Items,e=D({_id:v,key:h,parentId:i,ctrlType:r,fieldType:d,index:m,formInfo:n,uiConfig:a,items:b})(e)}else e=e.update("uiInfo",(function(t){var o={state:e,_id:v,key:h,parentId:i,ctrlType:r,fieldType:d,index:m,formInfo:n,uiConfig:a};return t=(0,s.actionWrap)(x,L,B)(t,o),v=o._id,t}));return e=(0,s.setSelectControlId)(e,v),e}(e,t);case a.add_field_control:return function(e,t){var r=e.get("uiInfo"),n=t.uiConfig,i=t.fieldInfo,a=i[l.ID];if(a){var u=i.TargetIndex;isNaN(u)||"forward"===(null==i?void 0:i.insertedmode)||u++,delete i.TargetIndex;var d=i[l._TYPE_]||i[l.TYPE],p=i.ParentId,g=i.Name,m=i.Key,y={state:e,parentId:p,index:u,fieldName:g,ctrlType:d,fieldType:i.FieldType,_id:a,key:m,uiConfig:n,fieldInfo:i};e=e.update("uiInfo",(function(e){return(0,s.actionWrap)(K,W,Y)(e,y)}))}else{a=(0,c.createNewId)();var v=i.ParentId,h=i.Name,b=i.FieldType,I=i.FieldId,E=i.Key,M=i._Type_;v=v||f.uiModel.getRootId(r);var C=f.uiModel.getContainerControl(r,v,!0,n);if(!C)return e;v=C.control.get(l.ID);var P=C.control.get(l.TYPE),w=C.targetIndex;isNaN(w)||w++,M=M||"FieldAp";var O=r.get("isPC");"EntryEntity"===b||"SubEntryEntity"===b?M=O?"EntryAp":"CardEntryAp":"TreeEntryEntity"===b&&O?M="EntryAp":"NameCombineEntity"===b&&(M="NameCombinePanelAp");var T=f.metadataModel.getConfigFieldByType(n,"CardEntryFieldAp"),_=T&&T.get("AcceptParent"),k=_&&_.get("ids",(0,o.List)());if(k&&k.size>0&&k.includes(P)&&(M="CardEntryFieldAp"),!function(e,t){var r=t.parentId,n=t.fieldType,i=t.ctrlType,a=t.fieldId,u=t.uiConfig;if("BillEntity"===n)return!1;var d=f.uiModel.getUIFieldInfo(e,r),c=d.get(l.TYPE),p=function(e,t){var r=f.uiModel.getEntityRootId(e),n=f.uiModel.getEntityTreeInfo(e,r),o=n.get(l.ITEMS).findIndex((function(e){return e.get(l.ID)===t}));return o>-1}(e,a)||"SubEntryEntity"===n;if("FieldAp"===c)return!1;if("EntryAp"===c||"EmbedSubEntryAp"===c){if("EntryEntity"===n||"SubEntryEntity"===n)return!1;if(!function(e,t,r){var n=r.get(l.TYPE);if("EntryAp"!==n&&"EmbedSubEntryAp"!==n)return!1;var i=r.get(l.ID),a=f.uiModel.getFormFieldInfo(e,i);if(a){var u=a.get("EntryId"),d=f.uiModel.getEntityTreeInfo(e,u);if(d)return d.get(l.ITEMS,(0,o.List)()).find((function(e){return e.get(l.ID)===t}))}}(e,a,d))return!1}else if("CardEntryRowAp"===c||"CardEntryFlexPanelAp"===c){if(p||function(e,t,r,n){var o=f.uiModel.getEntityParentTreeInfo(e,t),i=o.get("Id"),a=f.uiModel.getParentControl(e,r,n),l=a.get("Id"),u=f.uiModel.getFormFieldInfo(e,l);return i!==u.get("EntryId")}(e,a,r,"CardEntryAp"))return!1}else if(["MobileBillFormAp","TabPageAp","FlexPanelAp","LayoutFlexAp"].includes(c)){if(!p)return!1}else if("NameCombinePanelAp"===c&&"NameCombineEntity"===n)return!1;return(0,s.canAddControl)(e,{parentId:r,ctrlType:i,fieldType:n,uiConfig:u})}(r,{parentId:v,fieldType:b,ctrlType:M,fieldId:I,uiConfig:n}))throw{message:(0,A.getLangMsg)({key:"bosd.defaultReducer.key0001",variables:{type:b}}),type:"warning"};var S={state:e,parentId:v,index:w,fieldName:h,fieldType:b,ctrlType:M,fieldId:I,_id:a,key:E,uiConfig:n};e=e.update("uiInfo",(function(e){return(0,s.actionWrap)(G,L,B)(e,S)}))}return(0,s.setSelectControlId)(e,a)}(e,t);case a.delete_control:return H(e,t);case a.update_prop_value:return function(e,t){var r=t.propInfos,n=void 0===r?[]:r,o=t.uiConfig;return n.forEach((function(t){t.metaType=t.metaType||"formmeta",e=e.update("uiInfo",(function(e){return(0,s.actionWrap)(X,q,Z)(e,S(S({},t),{},{uiConfig:o}))}))})),e}(e,t);case a.update_ui_prop_value:return function(e,t){var r=t.controlId,n=t.propertyName,o=t.value;return e.update("uiInfo",(function(e){return f.uiModel.updateUIPropValue(r,n,o)(e)}))}(e,t);case a.paste_control:return function(e,t){var r=t.ctrlId,n=t.uiConfig,i=r;if(!i)return e;var a=e.getIn(["clipboard","mode"],"copy");if("cut"===a){var l=e.getIn(["clipboard","copy_control_id"],(0,o.List)());if(0===l.size)return e;e=(e=e.update("uiInfo",(function(e){return ee(e,i,l,n,{isPaste:!0})}))).set("clipboard",(0,o.Map)())}else e=e.update("uiInfo",(function(e){return ae(e,i,null,n)}));return e}(e,t);case a.moveto_control:return function(e,t){var r=t.ctrlId,n=t.parentId,i=t.uiConfig,a="string"==typeof r?o.List.of(r):r;if(0===a.size)return e;r=a.get(0);var u=e.get("uiInfo");if(f.uiModel.isRootCtrl(u,r))return e;var d=r;1===a.size&&function(e,t,r){var n=f.uiModel.getUIFieldInfo(e,t),o=n&&n.get(l.TYPE),i=f.uiModel.getUIFieldInfo(e,r),a=i&&i.get(l.TYPE);if("EntryFieldAp"===o&&"CardEntryFieldAp"===a){var u=f.uiModel.getParentControl(e,r,"CardEntryAp");if(!u)return!1;var d=f.uiModel.getFormFieldInfo(e,u.get(l.ID)).get("EntryId","");if(0===d.length)return!0;if(d.length>0){var c=f.uiModel.getParentControl(e,t);if(f.uiModel.getFormFieldInfo(e,c.get(l.ID)).get("EntryId","")===d)return!0;throw{message:(0,A.getLangMsg)("bosd.defaultReducer.key0014"),type:"warning"}}}return!1}(u,r,n)?(e=e.update("uiInfo",(function(e){return function(e,t,r){var n=f.uiModel.getParentControl(e,r,"CardEntryAp");if(!n)return e;var o=f.uiModel.getParentControl(e,t);if(!o)return e;var i=f.uiModel.getFormFieldInfo(e,n.get(l.ID)),a=f.uiModel.getFormFieldInfo(e,o.get(l.ID)),u=a.get("EntryId",""),d=i.get("EntryId","");if(d.length>0&&u!==d)return e;if(0===d.length){var c=n.get(l.ID);e=f.uiModel.updatePropValue({fieldId:c,propName:"EntryId",value:u,metaType:"formmeta"})(e)}var s=f.uiModel.getEntityFieldInfo(e,t);if(!s)return e;var p=s.get(l.ID),g=s.get("Name");return e=f.uiModel.updatePropValue({fieldId:r,propName:"FieldId",value:p,metaType:"formmeta"})(e),e=f.uiModel.updatePropValue({fieldId:r,propName:"Name",value:g,metaType:"formmeta"})(e),e}(e,r,n)})),d=n):e=e.update("uiInfo",(function(e){return ee(e,n,a,i,{isDrag:!0})}));return e=(0,s.setSelectControlId)(e,d||f.uiModel.getRootId(u)),e}(e,t);case a.copy_and_add:return function(e,t){var r=t.parentId,n=t.ctrlId,i=t.uiConfig,a=e.get("uiInfo"),u=f.uiModel.getParentControl(a,n),d=f.uiModel.getUIFieldInfo(a,n);(0,s.canAddUniqueFeild)(u.get(l.ID),d,i,a);var c=e.get("select_control_id"),p=e.get("select_control_ids",(0,o.List)()),g=p.size>0?p:o.List.of(c);return 0===(g=g.filter((function(e){return!f.uiModel.isRootCtrl(a,e)}))).size?e:e.update("uiInfo",(function(e){return ae(e,r,g,i)}))}(e,t);case a.switch_flat_panel:return function(e,t){var r=t.ctrlId,n=t.uiConfig,i=e.get("uiInfo"),a=(0,d.getTreeUtils)((0,o.Seq)(["ui"]),l.ID,l.ITEMS).byId(i,r),u=i.getIn(a),c=u.get("Items",(0,o.List)()).filter((function(e){return"GridFlatPanelAp"===e.get("Type")}));e=c.size>0?e.update("uiInfo",(function(e){return ue(e,u,c,n)})):e.update("uiInfo",(function(e){return le(e,u,n)}));return e}(e,t);case a.add_uiInfo_Item:return e=e.setIn(["uiInfo",t.propName],t.data);case a.apply_page_template:return function(e,t){var r=t.templateData,n=t.uiConfig,i=e.getIn(["uiInfo","id"]),a=e.getIn(["uiInfo","formmeta","Items"],(0,o.List)()),l=a.find((function(e){return"_BillList_"===e.get("Id")})),u=l&&l.get("EntityId"),d=e.get("uiInfo"),c=e.getIn(["uiInfo","pageFieldInfos"],(0,o.Map)()),s=ce(d,i),p=c.merge(s);return e=e.setIn(["uiInfo","pageFieldInfos"],p),e=se(e,{containerId:i,uiConfig:n}),e=e.update("uiInfo",(function(e){return f.uiModel.convertPageTemplateToUiInfo(e,i,r,u)})),e}(e,t);case a.apply_container_template:return function(e,t){var r=t.templateData,n=t.uiConfig,i=t.containerId,a=e.get("uiInfo"),l=e.getIn(["uiInfo","pageFieldInfos"],(0,o.Map)()),u=ce(a,i),d=l.merge(u);e=e.setIn(["uiInfo","pageFieldInfos"],d);var c=function(e){return e.get("Items",(0,o.List)()).find((function(e){return"billList"===e.get("Type")}),null,(0,o.Map)()).get("Items",(0,o.List)())}(a.get("entitytree",(0,o.Map)()));return e=se(e,{containerId:i,uiConfig:n}),e=e.update("uiInfo",(function(e){return f.uiModel.convertContainerTemplateToUiInfo(e,i,r,d,c)})),e}(e,t);case a.apply_control_template:return function(e,t){var r=t.templateData,n=t.controlId,i=e.get("select_control_ids",(0,o.List)());return(i.size>0?i:[n]).forEach((function(t){e=e.update("uiInfo",(function(e){return f.uiModel.updateControlFormInfo(e,t,r)}));var n=e.get("uiInfo"),o=f.uiModel.getUIFieldInfo(n,t);if("MToolbarAp"===o.get(l.TYPE)){var i=o.get(l.ITEMS),a=r.getIn(["formMeta","items"]);i.forEach((function(t,r){var n=t.get("Id"),o=a[r];e=e.update("uiInfo",(function(e){return f.uiModel.updateControlFormInfo(e,n,o)}))}))}})),e}(e,t);case a.add_template_fragment:return function(e,t){var r=t.controlId,n=t.tempFragmentData,i=r;return e=e.update("uiInfo",(function(e){var t=(0,p.convertTemplate2UiInfo)(n),a=t.get("ui");i=a.get("Id"),e=f.uiModel.addUIItem(r,a,null)(e);var u=[],d=t.getIn(["formmeta","Items"],(0,o.List)()).map((function(t){var n,o=t.get(l.KEY),a=(0,c.createNewKey)(e,o,u),d=fe.get(null===(n=t)||void 0===n?void 0:n.get(l.NAME));if(d){var s=(0,A.getLangMsg)(d);s&&(t=t.set(l.NAME,s))}return u.push(a),(t=t.set(l.KEY,a)).get(l.ID)===i&&(t=t.set(l.PARENTID,r)),t}));return e=f.uiModel.addFormItem(d)(e),e=f.uiModel.updateFormIndex(r)(e)})),e=(0,s.setSelectControlId)(e,i),e}(e,t);case a.add_entity_info:return function(e,t){var r=ge(e),n=t.entityInfo;return n=(0,o.fromJS)(n),e=e.update("uiInfo",(function(e){var t=(0,c.createNewKey)(e,n.get(l.KEY)),i=f.uiModel.getParentEntityId(e,n.get(l.PARENTID))||n.get(l.PARENTID);return n=(n=(n=n.set(l.KEY,t)).set("FieldName","".concat(r).concat(t))).set(l.PARENTID,i),(e=f.uiModel.addEntityItem(n)(e)).get("entityreadonly")||(e=f.uiModel.addEntityTreeItem(i,(0,o.Map)(j(j(j({},l.ID,n.get(l.ID)),l.TYPE,n.get(l._TYPE_)),l.NAME,n.get(l.NAME))))(e)),e})),e}(e,t)}return e},r(182320),r(909112),r(697060),r(9692),r(622676),r(305092),r(613468),r(233696),r(443616),r(743924),r(835164),r(492948),r(885612),r(976896),r(336368),r(286620),r(76124),r(387912),r(804092),r(497448),r(690512),r(125048),r(660824),r(78504),r(997308),r(977864);var n=w(r(790832)),o=r(891052),i=r(211152),a=P(r(579016)),l=r(65624),u=r(520372),d=P(r(864792)),c=r(874828),s=r(613856),f=r(489912),p=r(884464),g=r(279284),m=r(743968),y=r(674260),v=r(868256),h=r(218652),b=r(471160),I=r(201848),A=r(331428),E=r(19536),M=w(r(716718));function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(C=function(e){return e?r:t})(e)}function P(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=N(e)&&"function"!=typeof e)return{default:e};var r=C(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}function w(e){return e&&e.__esModule?e:{default:e}}function O(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||T(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){if(e){if("string"==typeof e)return _(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_(e,t):void 0}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){j(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function j(e,t,r){var n;return n=function(e,t){if("object"!=N(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=N(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==N(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N(e){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N(e)}var F=["CardEntryRowAp","CardRowPanelAp","CardEntryFlexPanelAp","CardFlexPanelAp"];function D(e){var t=e._id,r=e.key,n=e.parentId,o=e.ctrlType,i=e.fieldType,a=e.index,l=e.formInfo,u=e.uiConfig,d=e.items;return function(e){return e=e.update("uiInfo",(function(e){return e=x(e,{_id:t,key:r,parentId:n,ctrlType:o,fieldType:i,index:a,formInfo:l,uiConfig:u})})),d&&d.forEach((function(r,n){e=D({_id:r.Id,key:r.Key,parentId:t,ctrlType:r.Type,fieldType:r.FieldType,index:n,formInfo:r,uiConfig:u})(e)})),e}}function L(e,t){var r=t.fieldType,n=t.ctrlType,o=t.parentId;if(r){var i=f.uiModel.getUIFieldInfo(e,o).get(l.TYPE);"EntryFieldGroupAp"===n||"EntryFieldContainerAp"===n||"EntryAp"!==i&&"EntryFieldGroupAp"!==i&&"ReportListAp"!==i&&"EntryFieldContainerAp"!==i&&"EmbedSubEntryAp"!==i?"CardEntryRowAp"!==i&&"CardEntryFlexPanelAp"!==i||"FieldAp"!==n||(n="CardEntryFieldAp"):n="EntryFieldAp",t.ctrlType=n}return e}function x(e,t){var r=t._id,n=t.key,i=t.parentId,a=t.ctrlType,d=t.fieldType,s=t.index,p=t.formInfo,g=void 0===p?{}:p,m=t.uiConfig,y=t.fieldId,v=t.ctrlName;if(g[l.ID]=r,g[l.KEY]=n,g[l.NAME]=v||f.metadataModel.getConfigCtrlName(d||a,m)||g[l.ID],["FieldAp","EntryFieldAp","CardEntryFieldAp"].includes(a)&&(g[l.NAME]=v||(0,c.createNewName)(e,d,g[l.NAME])),g[l.TYPE]=a,d&&(g.FieldType=d,u.entryApRelatedEntity.includes(a)?g[u.entityNameOfEntry]=g[l.ID]:u.panelApRelatedEntity.includes(a)?g[u.entityNameOfPanelAp]=g[l.ID]:g.FieldId=y||r),"SuspendButtonAp"===a){var h=f.uiModel.getRootId(e);e=f.uiModel.addControl(h,(0,o.fromJS)(g),s)(e)}else e=f.uiModel.addControl(i,(0,o.fromJS)(g),s)(e);if(f.metadataModel.getConfigProp(m,d,"FieldName")&&"FlatFieldAp"!==a){var b=e.get("isv","kingdee"),I="f".concat(n);b&&"kingdee"!==b&&(I="fk_".concat(n)),e=f.uiModel.updatePropValue({fieldId:y||r,propName:"FieldName",value:I,metaType:l.ENTITYMETA})(e)}if(f.uiModel.hasEntitymeta({ctrlType:a})){var A=f.metadataModel.getConfigFieldByType(m,d),E=A&&A.get("properties");if(E){var M=E.groupBy((function(e){return e.get("group","_base_")}));M.forEach((function(t){t.filter((function(e){return e.getIn(["Editor","value"])})).forEach((function(t){var n=t.get("name"),o=t.getIn(["Editor","value"]);e=f.uiModel.updatePropValue({fieldId:y||r,propName:n,value:o,metaType:l.ENTITYMETA})(e)}))}))}}return e}function B(e,t){var r=t._id,o=t.parentId,i=t.ctrlType,a=t.fieldType,u=t.uiConfig,d=t.fieldId,s=e&&e.get("isPC"),p=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,o=arguments.length>2?arguments[2]:void 0,i=(0,c.createNewId)(),a=(0,c.createNewKey)(e,t);return e=x(e,{_id:i,key:a,ctrlType:t,parentId:n,uiConfig:u,formInfo:o}),i};if("SearchAp"===i&&(e=f.uiModel.updatePropValue({fieldId:r,propName:"Width",value:"200px",metaType:"formmeta"})(e)),"TreeViewAp"===i&&(e=f.uiModel.updatePropValue({fieldId:r,propName:"BigDataRender",value:!0,metaType:"formmeta"})(e)),"EntryFieldAp"===i){var g=f.uiModel.getParentControl(e,r,"EntryAp");if(g){var y=g.get(l.ID);if(f.uiModel.getPropertyValue(e,y,"ShowFlatPanel","formmeta",u)){var v=g.get(l.ITEMS),h=v&&v.filter((function(e){return"GridFlatPanelAp"===e.get("Type")}));e=h.size>0?ue(e,g,h,u):le(e,g,u)}}}if("MarkdownAp"===i&&(e=f.uiModel.updatePropValue({fieldId:r,propName:"defoc",value:!1,metaType:"formmeta"})(e)),"EmbedSubEntryEntity"===a&&(e=f.uiModel.updatePropValue({fieldId:r,propName:"Width",value:"100%",metaType:"formmeta"})(e)),"StepperField"===a&&(e=f.uiModel.updatePropValue({fieldId:r,propName:"AdvFormatString",value:"#",metaType:"formmeta"})(e)),"RichTextField"===a){var b=f.uiModel.getFormFieldInfo(e,o);"FieldsetPanelAp"===(b&&b.get(l._TYPE_))&&(e=f.uiModel.updatePropValue({fieldId:r,propName:"FullLine",value:!0,metaType:"formmeta"})(e))}!s&&"TextAreaField"===a&&["FieldAp","CardEntryFieldAp"].includes(i)&&(e=f.uiModel.updatePropValue({fieldId:r,propName:"MobShowLines",value:3,metaType:"formmeta"})(e)),s||"PictureField"!==a||(e=f.uiModel.updatePropValue({fieldId:r,propName:"EditPreview",value:!0,metaType:"formmeta"})(e)),!s&&"PictureField"===a&&["CardEntryFieldAp"].includes(i)&&(e=f.uiModel.updatePropValue({fieldId:r,propName:"MobCanUpload",value:!0,metaType:"formmeta"})(e));if(!s&&["ButtonAp","LabelAp","HyperlinkAp","ImageAp","VectorAp","QRCodeAp","IFrameAp","HtmlAp","ProgressBarAp","CarouselFigureAp","RateAp","MapControlAp","AudioAp","VideoAp","CustomControlAp","SliderAp","StepsAp","SegmentedControlAp","CountDownAp","MobileSearchAp","MBlockMenuAp","BarChartAp","HistogramChartAp","PieChartAp","PointLineChartAp","RadarChartAp","CustomChartAp","GaugeChartAp"].includes(i)&&(e=f.uiModel.updatePropValue({fieldId:r,propName:"Shrink",value:0,metaType:"formmeta"})(e)),s||!Object.is(i,"FieldAp")&&!Object.is(i,"CardEntryFieldAp")||(e=f.uiModel.updatePropValue({fieldId:r,propName:"MobFieldPattern",value:1,metaType:"formmeta"})(e),"TelephoneField"===a&&(e=f.uiModel.updatePropValue({fieldId:r,propName:"MobFieldOpenSelector",value:!0,metaType:"formmeta"})(e))),"ColumnPanelAp"===i)for(var I=f.metadataModel.getControlPropertyDefaultValue("ColumnPanelAp","Cols",u).defaultValue,A=0;A<I;A++)p("ColumnAp");else if("SpreadAp"===i)e=f.uiModel.updatePropValue({fieldId:r,propName:"Height",value:"500px",metaType:"formmeta"})(e);else if("MBlockMenuAp"===i)for(var E=f.metadataModel.getControlPropertyDefaultValue("MBlockMenuAp","Cols",u).defaultValue,M=0;M<E;M++)p("MBlockMenuItemAp");else if("TabAp"===i)p("TabPageAp"),e=f.uiModel.updatePropValue({fieldId:r,propName:"Shrink",value:0,metaType:"formmeta"})(e),s?(e=f.uiModel.updatePropValue({fieldId:r,propName:"TabStyle",value:3,metaType:"formmeta"})(e),e=f.uiModel.updatePropValue({fieldId:r,propName:"BackColor",value:m.CONTAINER_BACKGROUND_COLOR,metaType:"formmeta"})(e)):e=f.uiModel.updatePropValue({fieldId:r,propName:"TabStyle",value:1,metaType:"formmeta"})(e);else if("SuspendButtonAp"===i)e=f.uiModel.updatePropValue({fieldId:r,propName:"Height",value:"48px",metaType:"formmeta"})(e),e=f.uiModel.updatePropValue({fieldId:r,propName:"Width",value:"48px",metaType:"formmeta"})(e),e=f.uiModel.updatePropValue({fieldId:r,propName:"FloatPos",value:8,metaType:"formmeta"})(e),e=f.uiModel.updatePropValue({fieldId:r,propName:"OffsetH",value:"-12px",metaType:"formmeta"})(e),e=f.uiModel.updatePropValue({fieldId:r,propName:"OffsetV",value:"-24px",metaType:"formmeta"})(e),e=f.uiModel.updatePropValue({fieldId:r,propName:"TextBtnIcon",value:"kdfont kdfont-zengjia3",metaType:"formmeta"})(e),e=f.uiModel.updatePropValue({fieldId:r,propName:"FontSize",value:"16",metaType:"formmeta"})(e),e=f.uiModel.updatePropValue({fieldId:r,propName:"BackColor",value:"themeColor",metaType:"formmeta"})(e),e=f.uiModel.updatePropValue({fieldId:r,propName:"ForeColor",value:"#fff",metaType:"formmeta"})(e),e=f.uiModel.updatePropValue({fieldId:r,propName:"Pinned",value:!0,metaType:"formmeta"})(e);else if("MobileSearchAp"===i)e=f.uiModel.updatePropValue({fieldId:r,propName:"ShowCancelButton",value:!0,metaType:"formmeta"})(e);else if("GuidePageAp"===i)p("GuideItemAp");else if("SplitContainerAp"===i)p("SplitPanelAp"),p("SplitPanelAp");else{if("MToolbarAp"===i){p("MBarItemAp"),p("MBarItemAp");var C=f.uiModel.getFormFieldInfo(e,o),P=C&&C.get(l._TYPE_);return F.includes(P)||(e=f.uiModel.updatePropValue({fieldId:r,propName:"Position",value:2,metaType:"formmeta"})(e)),e=f.uiModel.updatePropValue({fieldId:r,propName:"TextStyle",value:0,metaType:"formmeta"})(e),e=f.uiModel.updatePropValue({fieldId:r,propName:"Shrink",value:0,metaType:"formmeta"})(e),R(i,{isPC:s,parentType:P}),e}if("ToolbarAp"===i)p("BarItemAp"),p("BarItemAp"),p("BarItemAp"),e=f.uiModel.updatePropValue({fieldId:r,propName:"Shrink",value:0,metaType:"formmeta"})(e);else if("AdvConAp"===i){p("AdvConSummaryPanelAp");var w=p("AdvConToolbarAp");p("AdvConBarItemAp",w),p("AdvConBarItemAp",w);var O=p("AdvConChildPanelAp");e=f.uiModel.updatePropValue({fieldId:r,propName:"Shrink",value:0,metaType:"formmeta"})(e),e=f.uiModel.updatePropValue({fieldId:r,propName:"Grow",value:0,metaType:"formmeta"})(e),e=f.uiModel.updatePropValue({fieldId:r,propName:"Collapsible",value:!0,metaType:"formmeta"})(e),s&&(e=f.uiModel.updatePropValue({fieldId:r,propName:"BackColor",value:m.CONTAINER_BACKGROUND_COLOR,metaType:"formmeta"})(e)),t._id=O}else if("BillListAp"===i)if(s&&p("ListGridViewAp"),s){var T=p("ListCardViewAp",r,{LayoutStyle:2,AlignContent:"flex-start",AlignItems:"flex-start",JustifyContent:"flex-start"});p("CardRowPanelAp",T,{Shrink:0,Grow:0,Height:"250px",Width:"300px"})}else{var _={Direction:"column",JustifyContent:"flex-start",AlignItems:"stretch",Wrap:!1},k=p("ListCardViewAp",r,S({LayoutStyle:2},_));p("CardRowPanelAp",k,_),e=f.uiModel.updatePropValue({fieldId:r,propName:"Height",value:"0px",metaType:"formmeta"})(e)}else if("CardEntryAp"===i||"SubCardEntryAp"===i)if(s){var j=p("CardEntryViewAp");p("CardEntryFixRowAp",j,{CardType:0,Hidden:!0,Shrink:0,Grow:0,Height:"250px",Width:"300px"}),p("CardEntryRowAp",j,{CardType:1,Shrink:0,Grow:0,Height:"250px",Width:"300px"}),p("CardEntryFixRowAp",j,{CardType:0,Hidden:!0,Shrink:0,Grow:0,Height:"250px",Width:"300px"})}else{e=f.uiModel.updatePropValue({fieldId:r,propName:"Grow",value:0,metaType:"formmeta"})(e),e=f.uiModel.updatePropValue({fieldId:r,propName:"Shrink",value:0,metaType:"formmeta"})(e);var N={Direction:"column",JustifyContent:"flex-start",AlignItems:"stretch",Wrap:!1},D=p("CardEntryViewAp",r,N);p("CardEntryFixRowAp",D,S({CardType:0,Hidden:!0,Shrink:0,Grow:0},N)),p("CardEntryRowAp",D,S({CardType:1,Shrink:0,Grow:0,afterAddControlNotify:{controlId:r,type:i}},N));var L=p("CardEntryFixRowAp",D,S({CardType:0,Hidden:!1,Shrink:0,Grow:0},N)),B=p("MToolbarAp",L,{Height:"36px"});p("MBarItemAp",B,{BackColor:"rgba(255,255,255,0)",ForeColor:"themeColor",afterAddControlNotify:{controlId:r,type:i}})}else if(Object.is(i,"CardEntryFieldAp")&&Object.is(a,"AttachmentField"))s&&(e=f.uiModel.updatePropValue({fieldId:r,propName:"ShowTitle",value:!1,metaType:"formmeta"})(e));else if(Object.is(i,"FieldAp")&&Object.is(a,"AttachmentField"))s&&(e=f.uiModel.updatePropValue({fieldId:r,propName:"ShowTitle",value:!1,metaType:"formmeta"})(e)),e=f.uiModel.updatePropValue({fieldId:r,propName:"FireUpdEvt",value:!0,metaType:"formmeta"})(e);else if((Object.is(i,"FieldAp")||Object.is(i,"CardEntryFieldAp"))&&(Object.is(a,"DateRangeField")||Object.is(a,"DateField")))s||(e=f.uiModel.updatePropValue({fieldId:r,propName:"DateSelectType",value:1,metaType:"formmeta"})(e));else if(Object.is(i,"FieldAp")&&Object.is(a,"RadioField")){var W=U(d,e,i,r);if(Object.is(W,null)||"[object Object]"===Object.prototype.toString.call(W)){var K=(0,c.createNewId)();"[object Object]"===Object.prototype.toString.call(W)&&(K=W.newid),W=K;var Y=(0,c.createNewKey)(e,"RadioGroupField");e=x(e,{_id:K,key:Y,ctrlType:"FieldAp",fieldType:"RadioGroupField",parentId:o,uiConfig:u}),e=f.uiModel.updatePropValue({fieldId:r,propName:"Group",value:K,metaType:"entitymeta"})(e)}else e=f.uiModel.updatePropValue({fieldId:r,propName:"Group",value:W,metaType:"entitymeta"})(e);e=V(r,W,e,u)}else if(Object.is(i,"CardEntryFieldAp")&&Object.is(a,"RadioField")){var Q=U(d,e,i,r);if(Object.is(Q,null)||"[object Object]"===Object.prototype.toString.call(Q)){var G=(0,c.createNewId)();"[object Object]"===Object.prototype.toString.call(Q)&&(G=Q.newid),Q=G;var H=(0,c.createNewKey)(e,"RadioGroupField");e=x(e,{_id:G,key:H,ctrlType:"CardEntryFieldAp",fieldType:"RadioGroupField",parentId:o,uiConfig:u}),e=f.uiModel.updatePropValue({fieldId:r,propName:"Group",value:G,metaType:"entitymeta"})(e)}else e=f.uiModel.updatePropValue({fieldId:r,propName:"Group",value:Q,metaType:"entitymeta"})(e);e=V(r,Q,e,u)}else if("LayoutFlexAp"===i)e=f.uiModel.updatePropValue({fieldId:r,propName:"Grow",value:0,metaType:"formmeta"})(e);else if(n.default.endsWith(i,"ChartAp"))e=f.uiModel.updatePropValue({fieldId:r,propName:"Width",value:"250px",metaType:"formmeta"})(e),e=f.uiModel.updatePropValue({fieldId:r,propName:"Height",value:"250px",metaType:"formmeta"})(e);else if("FieldsetPanelAp"===i)s&&(e=f.uiModel.updatePropValue({fieldId:r,propName:"BackColor",value:m.CONTAINER_BACKGROUND_COLOR,metaType:"formmeta"})(e));else if("MTabBarAp"===i){var J=p("MTabBarItemAp"),z=p("MTabBarFormAp");e=f.uiModel.updatePropValue({fieldId:J,propName:"DefaultIcon",value:"kdfont-yingyong7",metaType:"formmeta"})(e),e=f.uiModel.updatePropValue({fieldId:J,propName:"Direction",value:"column",metaType:"formmeta"})(e),e=f.uiModel.updatePropValue({fieldId:J,propName:"Wrap",value:!1,metaType:"formmeta"})(e),e=f.uiModel.updatePropValue({fieldId:J,propName:"AlignItems",value:"stretch",metaType:"formmeta"})(e),e=f.uiModel.updatePropValue({fieldId:z,propName:"DefaultIcon",value:"kdfont-dingdan6",metaType:"formmeta"})(e)}else"MTabBarItemAp"===i?(e=f.uiModel.updatePropValue({fieldId:r,propName:"Direction",value:"column",metaType:"formmeta"})(e),e=f.uiModel.updatePropValue({fieldId:r,propName:"Wrap",value:!1,metaType:"formmeta"})(e),e=f.uiModel.updatePropValue({fieldId:r,propName:"AlignItems",value:"stretch",metaType:"formmeta"})(e)):"PrintCountField"===a?e=f.uiModel.updatePropValue({fieldId:r,propName:"RecordModel",value:"print",metaType:"entitymeta"})(e):"WizardAp"===i&&(e=f.uiModel.updatePropValue({fieldId:r,propName:"NodeLinkageSubTab",value:!0,metaType:"formmeta"})(e))}return R(i,{isPC:s,fieldType:a}),!s&&["FlexPanelAp","CardEntryFlexPanelAp","CardFlexPanelAp","CardEntryFixRowPanelAp"].includes(i)&&(e=f.uiModel.updatePropValue({fieldId:r,propName:"Direction",value:"column",metaType:"formmeta"})(e),e=f.uiModel.updatePropValue({fieldId:r,propName:"JustifyContent",value:"flex-start",metaType:"formmeta"})(e),e=f.uiModel.updatePropValue({fieldId:r,propName:"AlignItems",value:"stretch",metaType:"formmeta"})(e),e=f.uiModel.updatePropValue({fieldId:r,propName:"Wrap",value:!1,metaType:"formmeta"})(e)),e}function R(e,t){var r=t.isPC,n=t.parentType,o=void 0===n?"":n,i=t.fieldType,a=r?e:"Mobile"+e;(0,g.hasSchemes)(a,{parentType:o,fieldType:i})&&(0,y.setData)(v.KEY_OPEN_TEMPLATE_SCHEME,!0)}var V=function(e,t,r,n){var i=r.getIn(["entitymeta","Items"])||new o.List,a=f.uiModel.getPropertyValue(r,e,"Name","entitymeta",n),u=f.uiModel.getPropertyValue(r,t,"Items","entitymeta",n)||new o.List,d=i.filter((function(e){return"RadioField"===e.get(l._TYPE_)})).count()+"";return r=f.uiModel.updatePropValue({fieldId:e,propName:"Items",value:d,metaType:"entitymeta"})(r),r=f.uiModel.updatePropValue({fieldId:t,propName:"Items",value:u.push({Caption:a,Value:d,_Type_:"ComboItem"}).toArray(),metaType:"entitymeta"})(r)},U=function(e,t,r,n){var o=f.uiModel.getEntitymeta(t),i=o.filter((function(t){var r=t.get("Id");return Object.is(r,e)}));if(i.size>0){var a=i.get(0).get("Group");return f.uiModel.getFormFieldInfo(t,a)?a:{newid:a,isNew:!0}}var l,u=null===(l=f.uiModel.getParentControl(t,n))||void 0===l?void 0:l.get("Id"),d=f.uiModel.getParentEntityId(t,u),c=o.filter((function(e){var n=e.get("Id"),o=f.uiModel.getFormFieldInfo(t,n),i=o&&o.get("_Type_");if("CardEntryFieldAp"===r){var a,l=null===(a=f.uiModel.getParentControl(t,n))||void 0===a?void 0:a.get("Id"),u=f.uiModel.getParentEntityId(t,l);return Object.is(e.get("_Type_"),"RadioGroupField")&&Object.is(i,r)&&d===u}return Object.is(e.get("_Type_"),"RadioGroupField")&&Object.is(i,r)}));return c.size>0&&c.get(0).get("Id")||null};function W(e,t){var r=t.ctrlType,n=t.fieldInfo,o=e&&e.get("isPC");if("MToolbarAp"===r&&!o&&null!=n&&n.isMultipleToolbar){var i=f.uiModel.getRootId(e);t.parentId=i,n[l.PARENTID]=i}return e}function K(e,t){var r=t.parentId,n=t.index,i=(t.fieldName,t.ctrlType),a=t.fieldType,d=t._id,s=t.key,p=(t.uiConfig,t.fieldInfo),g=(0,c.createNewKey)(e,s||i);null!=p&&p.LockKey&&s&&(g=s),p[l.KEY]=g;var m=j(j({},l.ID,d),l.TYPE,i);if((u.panelApRelatedEntity.includes(i)&&(p[l.TYPE]=i,m.FieldType=u.entityNameOfPanelAp),p&&p[l.TYPE]&&p[l.TYPE].includes("NameSeg")&&(m[l.FieldType]=p[l.TYPE]),a&&(m.FieldType=a),"MobAdvFilterPanelAp"===i&&(p.isFirstCreate=!0),["schemefilterview","filtergridview","fastsearchgridview"].includes(r))&&(0,b.findAllReletiveChildIds)(e,r,"formmeta").map((function(t){var r=(0,I.getFieldInfo)(e,t,"formmeta");return null==r?void 0:r.get("FieldName")})).includes(p.FieldName))return e;var y="forward"===(null==p?void 0:p.insertedmode);return e=f.uiModel.addUIItem(r,(0,o.Map)(m),n,y)(e),e=f.uiModel.addFormItem((0,o.Map)(p))(e),f.uiModel.updateFormIndex(r)(e)}function Y(e,t){var r=t._id,n=t.ctrlType,o=t.uiConfig,i=t.fieldInfo,a=e&&e.get("isPC"),l=function(t,r){var n=(0,c.createNewId)(),i=(0,c.createNewKey)(e,t),a=f.metadataModel.getConfigCtrlName(t,o);return e=K(e,{_id:n,key:i,ctrlType:t,fieldName:a,parentId:r,uiConfig:o,fieldInfo:{Id:n,Key:i,Name:a||n,_Type_:t,ParentId:r}}),n};if("MToolbarAp"!==n||a)"MBarItemAp"!==n||a||null!=i&&i.isMultipleToolbarItem&&(e=Q(r,e));else if(null!=i&&i.isMultipleToolbar){e=f.uiModel.updatePropValue({fieldId:r,propName:"Position",value:2,metaType:"formmeta"})(e),e=f.uiModel.updatePropValue({fieldId:r,propName:"ItemStyle",value:3,metaType:"formmeta"})(e);var u=l("MBarItemAp",r);e=f.uiModel.updatePropValue({fieldId:u,propName:"Name",value:(0,A.getLangMsg)("bosd.defaultReducer.key0002"),metaType:"formmeta"})(e),e=f.uiModel.updatePropValue({fieldId:u,propName:"InteractionTypes",value:0,metaType:"formmeta"})(e),e=Q(u,e=f.uiModel.updatePropValue({fieldId:u,propName:"OperationKey",value:"mobtoolbarselect",metaType:"formmeta"})(e));var d=l("MBarItemAp",r);e=f.uiModel.updatePropValue({fieldId:d,propName:"Name",value:(0,A.getLangMsg)("bosd.defaultReducer.key0003"),metaType:"formmeta"})(e),e=f.uiModel.updatePropValue({fieldId:d,propName:"InteractionTypes",value:1,metaType:"formmeta"})(e),e=Q(d,e=f.uiModel.updatePropValue({fieldId:d,propName:"OperationKey",value:"mobtoolbarcancel",metaType:"formmeta"})(e))}return e}function Q(e,t){return t=f.uiModel.updatePropValue({fieldId:e,propName:"BackColor",value:"#ffffff",metaType:"formmeta"})(t),t=f.uiModel.updatePropValue({fieldId:e,propName:"ForeColor",value:"#212121",metaType:"formmeta"})(t),t=f.uiModel.updatePropValue({fieldId:e,propName:"FontSize",value:"16",metaType:"formmeta"})(t)}function G(e,t){var r=t.parentId,n=t.index,i=t.fieldName,a=t.fieldType,d=t.ctrlType,c=t.fieldId,s=t._id,p=t.key,g=(t.uiConfig,t.formInfo),m=j(j(j({},l.ID,s),l.TYPE,d),l.FieldType,a),y="FieldId";return u.entryApRelatedEntity.includes(d)?y=u.entityNameOfEntry:u.panelApRelatedEntity.includes(d)&&(y=u.entityNameOfPanelAp),g=Object.assign({},g,j({Id:s,Key:p,Name:i||s,_Type_:d,Index:0,ParentId:r},y,c)),e=f.uiModel.addUIItem(r,(0,o.fromJS)(m),n)(e),e=f.uiModel.addFormItem((0,o.fromJS)(g))(e),e=f.uiModel.updateFormIndex(r)(e)}function H(e,t){var r=t.ctrlId,n=t.uiConfig,o=t.fromTemplate,i=t.deleteConfirm,a=(0,c.convertToList)(r),u=e.get("uiInfo"),d="";r=a.first();var p,g,m=f.uiModel.getParentControl(u,r);if(1===a.size&&(g=(p=(p=f.uiModel.getPreControl(u,r,!1))||f.uiModel.getNextControl(u,r,!1))&&p.get(l.ID)),a.forEach((function(e,t,r){try{if(void 0===o&&!(0,s.canDeleteControl)(u,{ctrlId:e,uiConfig:n}))return u;if(void 0===f.uiModel.getUIFieldInfo(u,e))return;u=(0,s.actionWrap)(z,J)(u,{ctrlId:e,uiConfig:n})}catch(e){var i=t===r.size-1?(0,A.getLangMsg)("bosd.marker.key0001"):(0,A.getLangMsg)("bosd.marker.key0002");d+=e.message+i}})),""!==d)throw{message:(0,A.getLangMsg)({key:"bosd.defaultReducer.key0004",variables:{errorMsg:d}}),type:"warning"};if(i){var y=e.get("uiInfo"),v=f.uiModel.hasEntityMetaInCtrls(y,a),h=y.get("modelType");if(["BillFormModel","BaseFormModel"].includes(h)&&v)return null==i||i(a),e}return e=e.set("uiInfo",u),g=(p=(p=g&&f.uiModel.getUIFieldInfo(u,g))||m)?p.get(l.ID):f.uiModel.getRootId(u),(0,s.setSelectControlId)(e,g)}function J(e,t){var r=t.ctrlId,n=t.uiConfig,i=f.uiModel.getUIFieldInfo(e,r);if("ColumnAp"===i.get(l.TYPE)){var a=f.uiModel.getParentControl(e,r,"ColumnPanelAp");if(a){var u=a.get(l.ID),d=f.uiModel.getPropertyValue(e,u,"Cols","formmeta",n);e=f.uiModel.updatePropValue({fieldId:u,propName:"Cols",value:d-1,metaType:"formmeta"})(e)}}else if("RadioField"===i.get("FieldType")&&["FieldAp","CardEntryFieldAp"].includes(i.get(l.TYPE))){var c=f.uiModel.getPropertyValue(e,r,"Group","entitymeta",n);if(c){var s=f.uiModel.getEntitymeta(e),p=f.uiModel.getFormmeta(e),g=s.filter((function(e){return Object.is(e.get(l._TYPE_),"RadioField")&&Object.is(e.get("Group"),c)}));if("MobMeta"===e.get("designer")){var m=p.reduce((function(e,t){return"FieldAp"===t.get("_Type_")?e.push(t.get("FieldId")):e}),(0,o.List)());g=g.filter((function(e){return m.includes(e.get("Id"))}))}if(1===g.count())e=f.uiModel.deleteControl(c)(e);else{var y=f.uiModel.getPropertyValue(e,r,"Name","entitymeta",n),v=f.uiModel.getPropertyValue(e,r,"Items","entitymeta",n),h=(f.uiModel.getPropertyValue(e,c,"Items","entitymeta",n)||new o.List).filterNot((function(e){return e.get("Value")===v&&e.get("Caption")===y}));e=f.uiModel.updatePropValue({fieldId:c,propName:"Items",value:h.toArray(),metaType:"entitymeta"})(e)}}}else if("EntryFieldAp"===i.get(l.TYPE)){var b=f.uiModel.getParentControl(e,r,"EntryAp");if(b){var I,A=null===(I=b.get(l.ITEMS))||void 0===I?void 0:I.filter((function(e){return"GridFlatPanelAp"===e.get(l.TYPE)})),E=o.List.isList(A)&&A.size>0?A.getIn([0,"Items"]).find((function(e){return"FieldsetPanelAp"===e.get("Type")})):null,M=E&&E.get("Id"),C=f.uiModel.getPropertyValue(e,r,"FieldId","formmeta",n),P=e.getIn(["formmeta","Items"],new o.List).filter((function(e){return e.get("FieldId")===C&&e.get("Id")!==r&&"FlatFieldAp"===e.get("_Type_")&&e.get("ParentId")===M}));P.size>0&&(e=z(e,{ctrlId:P.getIn([0,"Id"]),uiConfig:n}))}}else if(["EntryFieldGroupAp","OperationColumnAp","EntryFieldContainerAp"].includes(i.get(l.TYPE))){var w,O=(null===(w=f.uiModel.getParentControl(e,r,"EntryAp").get(l.ITEMS))||void 0===w?void 0:w.filter((function(e){return"GridFlatPanelAp"===e.get(l.TYPE)}))).getIn([0,l.ITEMS,0,l.ITEMS],(0,o.List)([]));if(O.size>0){var T=f.uiModel.getChildEntityId(e,r);O.forEach((function(t){var r=t.get(l.ID),n=f.uiModel.getFormFieldInfo(e,r);T.includes(null==n?void 0:n.get("FieldId"))&&(e=z(e,{ctrlId:r}))}))}}return e}function z(e,t){var r=t.ctrlId,n=(t.uiConfig,f.uiModel.getFormFieldInfo(e,r).get("ParentId"));return e=f.uiModel.deleteControl(r)(e),e=f.uiModel.updateFormIndex(n)(e)}function q(e,t){var r=t.fieldId,n=t.propName,i=(t.value,t.metaType,t.uiConfig),a=f.uiModel.getFormFieldInfo(e,r);if(!a)return e;var l=a.get("_Type_");if(Object.is(l,"FieldAp")&&Object.is(n,"Group")){var u=f.uiModel.getPropertyValue(e,r,"Group","entitymeta",i),d=f.uiModel.getPropertyValue(e,u,"Items","entitymeta",i)||new o.List,c=f.uiModel.getPropertyValue(e,r,"Items","entitymeta",i),s=d.filter((function(e){return!Object.is(e.get("Value"),c)}));e=f.uiModel.updatePropValue({fieldId:u,propName:"Items",value:s.toArray(),metaType:"entitymeta"})(e)}return e}function X(e,t){var r=t.fieldId,n=t.propName,o=t.value,i=t.metaType,a=t.uiConfig;return f.uiModel.updatePropValue({fieldId:r,propName:n,value:o,metaType:i,uiConfig:a})(e)}function Z(e,t){var r=t.fieldId,n=t.propName,i=t.value,a=t.metaType,u=t.uiConfig,d=f.uiModel.getFormFieldInfo(e,r);if(!d)return e;var s=d.get("_Type_"),p=e&&e.getIn(["ui","Type"]),g=f.uiModel.getUIFieldInfo(e,r).get(l.FieldType);if("MobileBillFormAp"!==p&&("Key"===n||"Name"===n)&&f.uiModel.hasEntitymeta({ctrlType:s})){var m=f.uiModel.getEntityIdByFieldId(e,r);m&&(e=f.uiModel.updatePropValue({fieldId:m,propName:n,value:i,metaType:"entitymeta",uiConfig:u})(e))}if("ColumnPanelAp"===s&&"Cols"===n){for(var y=f.uiModel.getUIFieldInfo(e,r).get(l.ITEMS).size,v=(i=f.uiModel.getPropertyValue(e,r,n,a,u))-y;v>0;v--){var h=(0,c.createNewId)(),b=(0,c.createNewKey)(e,"ColumnAp");e=x(e,{_id:h,key:b,parentId:r,ctrlType:"ColumnAp",uiConfig:u})}for(;v<0;v++)e=e.updateIn(path.concat("Items"),(function(e){return e.pop()}))}else if(Object.is(s,"FieldAp")&&Object.is(n,"Items")){var I=f.uiModel.getPropertyValue(e,r,"Group","entitymeta",u);if(I){var E=f.uiModel.getPropertyValue(e,r,"Name","entitymeta",u),M=f.uiModel.getPropertyValue(e,I,"Items","entitymeta",u)||new o.List,C=M.filter((function(e){return e.get("Caption")===E})).get(0);if($(M,"Value",i)&&C.get("Value")!==i)throw{message:(0,A.getLangMsg)({key:"bosd.defaultReducer.key0005",variables:{value:i}}),type:"warning"};if($(M,"Caption",E)){var P=M.map((function(e){return Object.is(e.get("Caption"),E)?e.set("Value",i):e}));e=f.uiModel.updatePropValue({fieldId:I,propName:"Items",value:P.toArray(),metaType:"entitymeta"})(e)}else e=f.uiModel.updatePropValue({fieldId:I,propName:"Items",value:M.push({Caption:E,Value:i,_Type_:"ComboItem"}).toArray(),metaType:"entitymeta"})(e)}}else if(Object.is(s,"FieldAp")&&Object.is(n,"Name")){var w=f.uiModel.getPropertyValue(e,r,"Group","entitymeta",u);if(w){var O=f.uiModel.getPropertyValue(e,r,"Items","entitymeta",u);if(O&&!Object.is(O,"")){var T=f.uiModel.getPropertyValue(e,w,"Items","entitymeta",u)||new o.List;if($(T,"Caption",i))throw{message:(0,A.getLangMsg)({key:"bosd.defaultReducer.key0006",variables:{value:i}}),type:"warning"};if($(T,"Value",O)){var _=T.map((function(e){return Object.is(e.get("Value"),O)?e.set("Caption",i):e}));e=f.uiModel.updatePropValue({fieldId:w,propName:"Items",value:_.toArray(),metaType:"entitymeta"})(e)}else e=f.uiModel.updatePropValue({fieldId:w,propName:"Items",value:T.push({Caption:i,Value:O,_Type_:"ComboItem"}).toArray(),metaType:"entitymeta"})(e)}}}else if("SplitPanelAp"===s&&"DefaultCollapse"===n&&!0===i){var k=f.uiModel.getParentControl(e,r).get("Items").filter((function(e){return e.get("Id")!==r}));e=f.uiModel.updatePropValue({fieldId:k.get(0).get("Id"),propName:"DefaultCollapse",value:!1,metaType:"formmeta"})(e)}else if("TabPageAp"===s&&"HomeTab"===n&&!0===i){f.uiModel.getParentControl(e,r).get("Items").filter((function(e){return e.get("Id")!==r})).forEach((function(t){e=f.uiModel.updatePropValue({fieldId:t.get("Id"),propName:"HomeTab",value:!1,metaType:"formmeta"})(e)}))}else if(["MTabBarItemAp","MTabBarFormAp"].includes(s)&&"DefaultSelected"===n&&!0===i){f.uiModel.getParentControl(e,r).get("Items").filter((function(e){return e.get("Id")!==r})).forEach((function(t){e=f.uiModel.updatePropValue({fieldId:t.get("Id"),propName:"DefaultSelected",value:!1,metaType:"formmeta"})(e)}))}else if("SuspendButtonAp"===s&&"FloatPos"===n)switch(i){case 1:e=f.uiModel.updatePropValue({fieldId:r,propName:"OffsetH",value:"12px",metaType:"formmeta"})(e),e=f.uiModel.updatePropValue({fieldId:r,propName:"OffsetV",value:"24px",metaType:"formmeta"})(e);break;case 2:e=f.uiModel.updatePropValue({fieldId:r,propName:"OffsetH",value:"",metaType:"formmeta"})(e),e=f.uiModel.updatePropValue({fieldId:r,propName:"OffsetV",value:"24px",metaType:"formmeta"})(e);break;case 3:e=f.uiModel.updatePropValue({fieldId:r,propName:"OffsetH",value:"-12px",metaType:"formmeta"})(e),e=f.uiModel.updatePropValue({fieldId:r,propName:"OffsetV",value:"24px",metaType:"formmeta"})(e);break;case 4:e=f.uiModel.updatePropValue({fieldId:r,propName:"OffsetH",value:"12px",metaType:"formmeta"})(e),e=f.uiModel.updatePropValue({fieldId:r,propName:"OffsetV",value:"",metaType:"formmeta"})(e);break;case 5:e=f.uiModel.updatePropValue({fieldId:r,propName:"OffsetH",value:"-12px",metaType:"formmeta"})(e),e=f.uiModel.updatePropValue({fieldId:r,propName:"OffsetV",value:"",metaType:"formmeta"})(e);break;case 6:e=f.uiModel.updatePropValue({fieldId:r,propName:"OffsetH",value:"12px",metaType:"formmeta"})(e),e=f.uiModel.updatePropValue({fieldId:r,propName:"OffsetV",value:"-24px",metaType:"formmeta"})(e);break;case 7:e=f.uiModel.updatePropValue({fieldId:r,propName:"OffsetH",value:"",metaType:"formmeta"})(e),e=f.uiModel.updatePropValue({fieldId:r,propName:"OffsetV",value:"-24px",metaType:"formmeta"})(e);break;case 8:e=f.uiModel.updatePropValue({fieldId:r,propName:"OffsetH",value:"-12px",metaType:"formmeta"})(e),e=f.uiModel.updatePropValue({fieldId:r,propName:"OffsetV",value:"-24px",metaType:"formmeta"})(e);break;case 9:e=f.uiModel.updatePropValue({fieldId:r,propName:"OffsetH",value:"",metaType:"formmeta"})(e),e=f.uiModel.updatePropValue({fieldId:r,propName:"OffsetV",value:"",metaType:"formmeta"})(e)}else if(["MulComboField","ComboField"].includes(g))"ComboShowType"===n&&2===i?e=f.uiModel.updatePropValue({fieldId:r,propName:"LabelDirection",value:"h",metaType:"formmeta"})(e):"LabelDirection"===n&&"v"===i&&2===d.get("ComboShowType")&&(e=f.uiModel.updatePropValue({fieldId:r,propName:"ComboShowType",value:0,metaType:"formmeta"})(e));else if(["EntryFieldAp","FlatFieldAp"].includes(s)&&Object.is(n,"Hidden")){var S=f.uiModel.getFormFieldInfo(e,r).get("FieldId");if("EntryFieldAp"===s){var j,N=f.uiModel.getParentControl(e,r,(0,o.List)(["EntryAp","SubEntryAp"]));if(f.uiModel.getFormFieldInfo(e,N.get(l.ID)).get("ShowFlatPanel",!1))null===(j=f.uiModel.getFormmetaItemsByFieldId(e,S))||void 0===j||null===(j=j.filter((function(e){return e.get(l.ID)!==r})))||void 0===j?void 0:j.getIn([0,l.ID])}else if("FlatFieldAp"===s){var F;null===(F=f.uiModel.getFormmetaItemsByFieldId(e,S))||void 0===F||null===(F=F.filter((function(e){return e.get(l.ID)!==r})))||void 0===F?void 0:F.getIn([0,l.ID])}}else if("EntryFieldGroupAp"===s&&"Merge"===n&&!0===i){f.uiModel.getUIFieldInfo(e,r).get(l.ITEMS,(0,o.List)()).filter((function(e){return"FlexField"===e.get("FieldType")})).forEach((function(t){e=f.uiModel.updatePropValue({fieldId:t.get("Id"),propName:"NeedSplit",value:!1,metaType:"formmeta"})(e)}))}return e}function $(e,t,r){var n,o=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=T(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}(e);try{for(o.s();!(n=o.n()).done;){var i=n.value;if(Object.is(i.get(t),r))return!0}}catch(e){o.e(e)}finally{o.f()}return!1}function ee(e,t,r,i,a){var u,p,g=(0,c.convertToList)(r),m=e.get("entityreadonly"),y=f.uiModel.getUIFieldInfo(e,g.get(0)),v=f.uiModel.isContainerControl(i,e,t),h=f.uiModel.isRootCtrl(e,t),b=v||h?t:null===(u=f.uiModel.getParentControl(e,t))||void 0===u?void 0:u.get(l.ID);(0,s.canAddUniqueFeild)(b,y,i,e,{isMove:!0});var I=f.uiModel.getContainerControl(e,t,!0,i),E=!!a&&Boolean(a.isDrag);if(!I)return e;if("GridFlatPanelAp"===I.control.get(l.TYPE))throw{message:(0,A.getLangMsg)("bosd.defaultReducer.key0007"),type:"warning"};var M=null==I||null===(p=I.control)||void 0===p?void 0:p.get(l.ID),C=f.uiModel.getParentControl(e,g.get(0)),P=null==C?void 0:C.get(l.ID);if(M!==P){var w=f.uiModel.getParentControl(e,M),O=f.uiModel.getParentControl(e,P);if(w&&"GridFlatPanelAp"===w.get(l.TYPE))throw{message:(0,A.getLangMsg)("bosd.defaultReducer.key0008"),type:"warning"};if("GridFlatPanelAp"===(null==O?void 0:O.get(l.TYPE)))throw{message:(0,A.getLangMsg)("bosd.defaultReducer.key0009"),type:"warning"}}t=I.targetId;var T=I.targetIndex,_=f.uiModel.getParentEntityId(e,M),k=(0,o.List)(),S=(0,o.List)();return g.forEach((function(r){var u=f.uiModel.getUIFieldInfo(e,r);if(t!==r){var c=f.uiModel.getContainerControl(e,r),p=c&&c.control.get(l.ID);if((t||p!==M)&&!(0,d.getTreeUtils)((0,o.Seq)(),l.ID,l.ITEMS).byId(u,M)&&(0,s.canAddControl)(e,{parentId:M,ctrlId:r,uiConfig:i,isPaste:a.isPaste})){var g=e&&e.getIn(["ui","Type"]);if(["MobileFormAp","MobileBillFormAp"].includes(g)&&!ne(e,c,I,u)){var y=u.get("FieldType");throw{message:(0,A.getLangMsg)({key:"bosd.defaultReducer.key0001",variables:{type:y}}),type:"warning"}}if(!m){var v=f.uiModel.getChildEntityId(e,r);n.default.forEach(v,(function(t){var r=f.uiModel.getEntityTreeInfo(e,t);e=f.uiModel.deleteEntityTreeItem(t)(e),S=S.push(r)}))}e=te(e,i,u),e=f.uiModel.deleteUIItem(r)(e),k=k.push(u),M===p&&c.targetIndex<T&&T--}}})),k.size>0&&(E&&(T+=1),e=f.uiModel.addUIItem(M,k,T)(e),S.size>0&&(e=f.uiModel.addEntityTreeItem(_,S)(e)),e=f.uiModel.updateParentId(M,{isMove:!0})(e),e=f.uiModel.updateFormIndex(M)(e)),e}function te(e,t,r){var n=r.get(l.TYPE),i=r.get(l.ITEMS,(0,o.List)()),a=r.get(l.ID);if((i.size>0&&i.map((function(r){e=te(e,t,r)})),"EntryFieldAp"===n)&&f.uiModel.getParentControl(e,a,"EntryAp")){var u=f.uiModel.getPropertyValue(e,a,"FieldId","formmeta",t),d=e.getIn(["formmeta","Items"],new o.List).filter((function(e){return e.get("FieldId")===u&&e.get("Id")!==a}));d.size>0&&(e=z(e,{ctrlId:d.getIn([0,"Id"]),uiConfig:t}))}return e}var re=["Inherit","TableName","SplitTables","Suffix"];function ne(e,t,r,n){var o=e&&e.getIn(["ui","Type"]),i=["CardEntryRowAp","CardEntryFlexPanelAp","EntryAp","EmbedSubEntryAp","CardEntryAp","SubCardEntryAp","EntryFieldGroupAp"],a=t.targetId,u=r.targetId,d=t&&t.control.get(l.TYPE),c=r&&r.control.get(l.TYPE),s=n.get(l.TYPE);if(i.includes(d)&&i.includes(c)&&!["VectorAp","ImageAp","LabelAp","ButtonAp","CustomControlAp"].includes(s)){var p,g=r.control;if(!["MobileFormAp","MobileBillFormAp"].includes(o))return!0;p=f.uiModel.getParentControl(e,a,"CardEntryRowAp");var m=g.get(l.TYPE);(u||["CardEntryRowAp","CardEntryFlexPanelAp"].includes(m))&&(u=u||g.get(l.ID),"CardEntryRowAp"!==m&&(g=f.uiModel.getParentControl(e,u,"CardEntryRowAp")));var y=p&&p.get(l.ID),v=g&&g.get(l.ID);if(v&&y&&v!==y)return!1}return!0}function oe(e,t){return e.size>0&&(e=e.forEach((function(e){var r=e.get(l.ITEMS,(0,o.List)());r.size>0&&oe(r,t);var n=e.get(l.TYPE),i=e.get(l.ID);f.uiModel.hasEntitymeta({ctrlType:n})&&t.push(i)}))),t}function ie(e,t){var r=e.getIn(["options","isNotAllowPasteEntity"],!1),n=t.getIn(["ui","Items"]);if(r){var o=oe(n,[]);if(o.length<=0)return t;o.reverse().forEach((function(e){var r=d.default.byId(t,e);t=r?t.deleteIn(r):t;var n=d.formmetatreeUtils.byId(t,e);t=n?t.deleteIn(n):t;var o=d.entitymetatreeUtils.byId(t,e);t=o?t.deleteIn(o):t}));var a=(0,h.getRootPageId)()((0,i.getGlobalState)()),l={type:2,content:(0,A.getLangMsg)("bosd.defaultReducer.key0010")};(0,h.setDataMessages)(a,l)}return t}function ae(e,t,r,i){var a,u,d=null==r;if(d){if(!(u=(0,s.getCopyContent)()))return console.warn("复制源控件不存在"),e;var p=e.get("modelType")||e.getIn(["formmeta","ModelType"]),g=u.get("modelType");if(p!==g)throw{message:(0,A.getLangMsg)({key:"bosd.defaultReducer.key0011",variables:{modelType1:g,modelType2:p}}),type:"warning"}}else u=(0,s.createUIInfo)(e,(0,c.convertToList)(r));(u=ie(e,u)).getIn(["ui","Items"]).forEach((function(r){var n,o=f.uiModel.isContainerControl(i,e,t),a=f.uiModel.isRootCtrl(e,t),l=o||a?t:null===(n=f.uiModel.getParentControl(e,t))||void 0===n?void 0:n.get("Id");(0,s.canAddUniqueFeild)(l,r,i,e)}));var m=f.uiModel.getContainerControl(e,t,!0,i);if(!m)return e;if("GridFlatPanelAp"===m.control.get(l.TYPE))throw{message:(0,A.getLangMsg)("bosd.defaultReducer.key0012"),type:"warning"};var y=f.uiModel.getParentControl(e,null==m||null===(a=m.control)||void 0===a?void 0:a.get(l.ID));if("GridFlatPanelAp"===(null==y?void 0:y.get(l.TYPE)))throw{message:(0,A.getLangMsg)("bosd.defaultReducer.key0013"),type:"warning"};var v=m.control.get(l.ID);if(!d){var h=f.uiModel.getContainerControl(e,(0,c.convertToList)(r).get(0),!1,i).control;v=h.get(l.ID)}t=m.targetId;var b,I,E,M,C=m.targetIndex,P=f.uiModel.getParentEntityId(e,v);return b=I=E=M=(0,o.List)(),u.getIn(["ui",l.ITEMS],(0,o.List)()).forEach((function(t){var r=t.get(l.ID),n=t.get(l.TYPE),a=t.get("FieldType"),c={parentId:v,ctrlType:n,fieldType:a,uiConfig:i};if(d?c.isPaste=!0:c.ctrlId=r,(0,s.canAddControl)(e,c)){var p=e&&e.getIn(["ui","Type"]),g=["MobileFormAp","MobileBillFormAp"].includes(p),y=f.uiModel.getContainerControl(e,r);if(g&&y&&!ne(e,y,m,t)){var h=t.get("FieldType");throw{message:(0,A.getLangMsg)({key:"bosd.defaultReducer.key0001",variables:{type:h}}),type:"warning"}}var C,w,T,_=(0,s.cloneControls)(e,u,r,v,P,{isCopyAndAdd:!d}),k=_.get("ui"),S=_.get("formmeta",(0,o.List)()),j=_.get("entitymeta",(0,o.List)()),N=_.get("entitytree",(0,o.List)());if(b=b.push(k),S.size>0)I=(C=I).push.apply(C,O(S));if(j.size>0)E=(w=E).push.apply(w,O(j));if(N.size>0)M=(T=M).push.apply(T,O(N))}})),b.size>0&&(d||(C=1===b.size?C:null),e=f.uiModel.addUIItem(v,b,C)(e),e=f.uiModel.addFormItem(I)(e),E=E.map((function(t){var r=function(e,t){var r=(e=e.filterNot((function(e,t){return n.default.includes(re,t)}))).get(l.ID),i=e.get("FieldName");return i&&(t?t.getIn(["entitymeta",l.ITEMS],(0,o.List)()).forEach((function(t){if(t.get("FieldName")===i&&t.get(l.ID)!==r)return e=e.delete("FieldName"),!1})):e=e.delete("FieldName")),e}(t,e),a=r.get("_Type_");if(void 0!==f.metadataModel.getConfigProp(i,a,"FieldName")&&""===r.get("FieldName","")&&"RadioField"!==a){var u=ge(null,e);r=r.set("FieldName","".concat(u).concat(r.get(l.KEY)))}return r})),e=f.uiModel.addEntityItem(E)(e),M.size>0&&(e=f.uiModel.addEntityTreeItem(P,M)(e)),e=f.uiModel.updateFormIndex(v)(e)),e}function le(e,t,r){var n=t.get("Id"),i=de(t,e);if(i.size<1)return e;var a=(0,c.createNewId)();e=x(e,{_id:a,key:(0,c.createNewKey)(e,"GridFlatPanelAp"),ctrlType:"GridFlatPanelAp",parentId:n,uiConfig:r}),e=f.uiModel.updatePropValue({fieldId:a,propName:"Direction",value:"column",metaType:"formmeta"})(e),e=f.uiModel.updatePropValue({fieldId:a,propName:"Grow",value:1,metaType:"formmeta"})(e);var u=(0,c.createNewId)();return e=x(e,{_id:u,key:(0,c.createNewKey)(e,"FieldsetPanelAp"),ctrlType:"FieldsetPanelAp",parentId:a,uiConfig:r}),i.forEach((function(t,i){var a=t.get("_Type_"),d=t.get("Id"),s=e.getIn(["formmeta","Items"],new o.List),f=(0,c.createNewId)(),p=(0,c.createNewKey)(e,a),g=s.find((function(e){if(e.get("FieldId")!==d||"EntryFieldAp"!==e.get("_Type_"))return!1;var t=e.get("ParentId");if(t===n)return!0;for(var r=s.find((function(e){return e.get("Id")===t}));r&&"EntryAp"!==r.get("_Type_");)r=s.find((function(e){return e.get("Id")===r.get("ParentId")}));return(t=r&&r.get("Id")||"")===n}));if(g){var m=g.get("Name"),y=g.get("Id"),v=j({inflat:!0},l.RELATE_ENTRY_FIELD_ID,y);e=x(e,{_id:f,key:p,ctrlType:"FlatFieldAp",fieldType:a,index:i,parentId:u,uiConfig:r,fieldId:d,formInfo:v,ctrlName:m})}})),e}function ue(e,t,r,n){var i=de(t,e),a=t.get("Id"),u=r.getIn([0,"Id"]),d=r.getIn([0,"Items"]).find((function(e){return"FieldsetPanelAp"===e.get("Type")}));return d&&(u=d.get("Id")),i.forEach((function(t,r){var i=t.get("Id"),d=e.getIn(["formmeta","Items"],new o.List),s=d.find((function(e){if(e.get("FieldId")!==i||"EntryFieldAp"!==e.get("_Type_"))return!1;var t=e.get("ParentId");if(t===a)return!0;for(var r=d.find((function(e){return e.get("Id")===t}));r&&"EntryAp"!==r.get("_Type_");)r=d.find((function(e){return e.get("Id")===r.get("ParentId")}));return(t=r&&r.get("Id")||"")===a})),f=d.filter((function(e){return e.get("FieldId")===i&&e.get("ParentId")===u})).size;if(s&&0===f){var p=t.get("_Type_"),g=s.get("Name"),m=s.get("Id"),y=(0,c.createNewId)(),v=(0,c.createNewKey)(e,p),h=j({inflat:!0},l.RELATE_ENTRY_FIELD_ID,m);e=x(e,{_id:y,key:v,ctrlType:"FlatFieldAp",fieldType:p,index:r,parentId:u,uiConfig:n,fieldId:i,formInfo:h,ctrlName:g})}})),e}function de(e,t){return(0,d.getTreeUtils)((0,o.Seq)(),l.ID,l.ITEMS).filter(e,(function(e){return"EntryFieldAp"===e.get("Type")})).map((function(t){return e.getIn(t)})).reverse().map((function(e){var r=e.get("Id"),n=t.getIn(["formmeta","Items"],new o.List).find((function(e){return e.get("Id")===r}),(0,o.List)());if(n){var i=n.get("FieldId");return t.getIn(["entitymeta","Items"],new o.List).find((function(e){return e.get("Id")===i}),(0,o.List)())}}))}function ce(e,t){var r=f.uiModel.getUIFieldInfo(e,t),n=e.getIn(["formmeta","Items"]),i=(0,d.getTreeUtils)((0,o.Seq)(),l.ID,l.ITEMS),a=(0,o.Map)();return i.nodes(r).forEach((function(e){var t=i.id(r,e),u=n.find((function(e){return e.get(l.ID)===t})),d=u&&u.get("ListFieldId");if(d){var c=u.get("Key");a=a.set(c,(0,o.Map)({ListFieldId:d,Name:u.get("Name")}))}})),a}function se(e,t){var r=t.containerId,n=t.uiConfig,i=e.get("uiInfo"),a=f.uiModel.getUIFieldInfo(i,r).get(l.ITEMS)||(0,o.List)();a.size>0&&(e=H(e,{ctrlId:a.map((function(e){return e.get(l.ID)})),uiConfig:n,fromTemplate:!0}));return e}var fe=(0,E.getEnum)(Object.keys(M.default),Object.values(M.default));var pe="";function ge(e,t){if(!pe){var r=(t||e.get("uiInfo")).get("isv","kingdee");pe="f",r&&"kingdee"!==r&&(pe="fk_")}return pe}},228584:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(743924),r(606200),r(534440),r(387912),r(78504),r(776512),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){switch(t.type){case a.push_undo:e=u(e);break;case a.undo_ui_info:e=function(e){var t=e.getIn(["history","curIndex"],0);if(t<=0)return e;t-=1;var r=e.getIn(["history","undos",t]);if(!r)return e;var n=r.get("uiInfo"),o=r.get("select_control_id"),i=r.get("select_control_ids");return e=e.set("uiInfo",n),e=e.set("select_control_id",o),e=e.set("select_control_ids",i),e=e.setIn(["history","curIndex"],t),e}(e);break;case a.redo_ui_info:e=function(e){var t=e.getIn(["history","curIndex"],0),r=e.getIn(["history","undos"],(0,o.List)());if(r.size-1<=t)return e;t+=1;var n=e.getIn(["history","undos",t]);if(!n)return e;var i=n.get("uiInfo"),a=n.get("select_control_id"),l=n.get("select_control_ids");return e=e.set("uiInfo",i),e=e.set("select_control_id",a),e=e.set("select_control_ids",l),e=e.setIn(["history","curIndex"],t),e}(e);break;case a.undo_ui_info_and_push_undo:e=function(e){var t=e.get("uiInfo");return t?(e=e.update("history",(0,o.Map)(),(function(e){var t=e.get("curIndex",-1),r=e.get("undos",(0,o.List)());return 1===r.size||0===t?e:(t--,r=r.slice(0,r.size-1),e.set("undos",r).set("curIndex",t))})),u(e)):e}(e)}return e},r(693917);var o=r(891052),i=r(438728),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=i?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(o,a,u):o[a]=e[a]}return o.default=e,r&&r.set(e,o),o}(r(579016));r(489912),r(613856);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}function u(e){var t=e.get("uiInfo");return t?e=e.update("history",(0,o.Map)(),(function(r){var n=r.get("curIndex",-1),a=r.get("undos",(0,o.List)()),l=0,u=n+1;n===i.UNDO_STACK_SIZE-1?l=1:n+=1;var d=e.get("select_control_id"),c=e.get("select_control_ids");return a=a.slice(l,u).push((0,o.Map)({uiInfo:t,select_control_id:d,select_control_ids:c})),r.set("undos",a).set("curIndex",n)})):e}},768888:function(e,t,r){"use strict";r(606200),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,n.Map)(),t=arguments.length>1?arguments[1]:void 0;e=(0,o.default)(e,t);var r=(e=(0,i.default)(e,t)).get("uiInfo");e=r&&"PrintModel"===r.get("modelType")?(0,l.default)(e,t):(0,a.default)(e,t);return e};var n=r(891052),o=u(r(463844)),i=u(r(228584)),a=u(r(603008)),l=u(r(202680));function u(e){return e&&e.__esModule?e:{default:e}}},202680:function(e,t,r){"use strict";r(360776),r(505684),r(323784),r(205960),r(976896),r(846428),r(969e3),r(606200),r(534440),r(76152),r(76124),r(690512),r(776512),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,o.Map)(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.add_control:return function(e,t){var r,n=t.ctrlInfo,o=t.parentId,i=t.uiConfig,l=t.selectedFormInfo,u=o;"object"!==O(n)?(r=n,n=null):(r=n[a.TYPE],delete n[a.TYPE]);if(s.printModel.isCell(r))return e;var f=(0,d.createNewId)();return e=e.update("uiInfo",(function(t){var a=(0,d.createNewKey)(t,r),s={state:e,_id:f,key:a,parentId:o,targetId:u,ctrlType:r,index:null,formInfo:n,uiConfig:i,selectedFormInfo:l};return(0,c.actionWrap)(_,T,F)(t,s)})),e=(0,c.setSelectControlId)(e,f),e}(e,t);case l.add_field_control:return function(e,t){var r=t.fieldInfo,i=t.uiConfig,l=r.Id,u=r.ParentId,f=r.Name,p=r.FieldId,g=r.FieldType,m=r.Key,v=r._Type_,h=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(r,y),b=e.get("uiInfo",(0,o.Map)());if(n.default.indexOf(["EntryEntity","SubEntryEntity"],g)>=0)return e;if(s.uiModel.getEntityRootId(b)==p)return e;u=u||e.get("select_control_id");var I=s.uiModel.getUIFieldInfo(b,u).get(a.TYPE),A=s.uiModel.getEntityTreeInfo(b,p);if(A&&A.get(a.ITEMS,(0,o.List)()).size>0)return e;if(D.indexOf(I)>=0)return e=e.update("uiInfo",(function(e){return x(e,{id:u,name:f,ctrlType:I,fieldId:p,fieldType:g})})),(0,c.setSelectControlId)(e,u);var E=s.uiModel.getContainerControl(b,u,!0,i);if(!E)return e;u=E.control.get(a.ID),I=E.control.get(a.TYPE);var M=n.default.isNumber(E.targetIndex)?E.targetIndex+1:E.targetIndex;return l=(0,d.createNewId)(),v="Text",n.default.forEach(L,(function(e,t){if(e.includes(g))return v=t,!1})),m=m||(0,d.createNewKey)(b,v),e=e.update("uiInfo",(function(e){var t=!1;return n.default.endsWith(I,"Cell")&&"Text"!==v&&(e=B(e,{ctrlId:u,ctrlType:I,uiConfig:i}),h.X=0,h.Y=0,t=!0),e=function(e,t){var r=t.id,n=t.key,i=t.name,l=t.ctrlType,u=t.parentId,d=t.targetIndex,c=t.formInfo,f=t.uiConfig,p=t.isAddSpecial,g=w(w({},a.ID,r),a.TYPE,l);e=s.uiModel.addUIItem(u,(0,o.fromJS)(g),d)(e);var m=Object.assign({},c,{_Type_:l,Index:0,Id:r,Key:n,Name:i||r,ParentId:u});return e=s.uiModel.addFormItem((0,o.fromJS)(m))(e),e=s.uiModel.updateFormIndex(u)(e),p?F(e,{_id:r,parentId:u,ctrlType:l,uiConfig:f,formInfo:c}):e}(e,{id:l,key:m,name:f,ctrlType:v,fieldType:g,parentId:u,targetIndex:M,formInfo:h,uiConfig:i,isAddSpecial:t}),x(e,{id:l,name:f,ctrlType:v,fieldId:p})})),(0,c.setSelectControlId)(e,l)}(e,t);case l.delete_control:return function(e,t){var r=t.ctrlId,n=t.uiConfig,i=e.get("uiInfo"),l=(0,d.convertToList)(r),u={selId:null,uiConfig:n},f="";if(l.forEach((function(e){try{var t=s.uiModel.getUIFieldInfo(i,e),r=t.get(a.TYPE);u.ctrlId=e,u.ctrlType=r;var l=s.printModel.getGridInfo(i,t);if(u.gridInfo=l,s.printModel.isCell(t)){var d=s.printModel.getGridInfo(i,t),p=s.printModel.getRows(d),g=s.printModel.getCellPosition(d,e),y=s.uiModel.getUIFieldInfo(i,g.rowId);if(1===y.get(a.ITEMS,(0,o.List)()).size)u.ctrlId=y.get(a.ID),u.ctrlType=y.get(a.TYPE);else{if(1!==p.size)return i=B(i,u),void(u.selId=e);var v=g&&g.colId,h=s.uiModel.getUIFieldInfo(i,v);u.ctrlId=v,u.ctrlType=h.get(a.TYPE)}}if(!(0,c.canDeleteControl)(i,{ctrlId:e,uiConfig:n}))return i;if(!function(e,t){var r=t.ctrlId,n=s.uiModel.getFormFieldInfo(e,r),o=n.get(a._TYPE_);if(("DataRow"===o||"SubDataRow"===o)&&"detail"===n.get("RowType"))throw{message:(0,m.getLangMsg)("bosd.printReducer.key0009")};return!0}(i,{ctrlId:e,uiConfig:n}))return i;i=(0,c.actionWrap)(U,R,V)(i,u)}catch(e){f+=e.message+"; "}})),""!=f){throw{message:(0,m.getLangMsg)({key:"bosd.defaultReducer.key0004",variables:{errorMsg:f}}),type:"warning"}}return e=e.set("uiInfo",i),(0,c.setSelectControlId)(e,u.selId||s.uiModel.getRootId(i))}(e,t);case l.update_prop_value:return function(e,t){var r=t.propInfos,n=void 0===r?[]:r,o=t.uiConfig,i=t.dispatch;return n.forEach((function(t){var r=t.propName,n=t.value;if("ShowHeader"===r||"ShowFooter"===r){var a=(0,d.createNewId)(),l="ShowHeader"===r?"Header":"Footer",u=(e=e.update("uiInfo",(function(t){if(!0===n){var i=s.uiModel.getRootId(t),u=i,p=s.uiModel.getFormFieldInfo(t,i),g=(0,f.convertMMToNum)(p.get("Width")),m=(0,f.convertMMToNum)(p.get("Height")),y=(0,f.convertMMToNum)(p.get("MarginLeft")),v=(0,f.convertMMToNum)(p.get("MarginRight")),h=(0,f.convertMMToNum)(p.get("MarginTop")),b=m-(0,f.convertMMToNum)(p.get("MarginBottom"))-h-((0,f.convertMMToNum)(s.metadataModel.getControlPropertyDefaultValue("Footer","Height",o).defaultValue)||15);b="ShowHeader"===r?"0mm":b+"mm";var I=g-v-y,A=(0,d.createNewKey)(t,l),E={state:e,_id:a,key:A,parentId:i,targetId:u,ctrlType:l,index:null,formInfo:{X:"0mm",Width:I+"mm",Y:b},uiConfig:o};return(0,c.actionWrap)(_,T,F)(t,E)}var M=t.getIn(["ui","Items"]).find((function(e){return e.get("Type")===l})),C={ctrlId:M&&M.get("Id"),ctrlType:l,uiConfig:o};return(0,c.actionWrap)(U,R)(t,C)}))).getIn(["uiInfo","ui"]).get("Id");e=(0,c.setSelectControlId)(e,n?a:u)}t.metaType=t.metaType||"formmeta",e=e.update("uiInfo",(function(e){return(0,c.actionWrap)(Y,W,X)(e,P(P({},t),{},{uiConfig:o,dispatch:i}))}))})),e}(e,t);case l.reset_fill_wh:return function(e,t){var r=t.postInfo;return e.update("uiInfo",(function(e){return(0,c.actionWrap)(ee,null,null)(e,P({},r))}))}(e,t);case l.paste_control:return function(e,t){var r=t.ctrlId,n=t.uiConfig,i=r;if(!i)return e;var a=e.getIn(["clipboard","mode"],"copy");if("cut"===a){var l=e.getIn(["clipboard","copy_control_id"],(0,o.List)());if(0==l.size)return e;e=(e=e.update("uiInfo",(function(e){return Z(e,i,l,n)}))).set("clipboard",(0,o.Map)())}else e=e.update("uiInfo",(function(e){return $(e,i,null,n)}));return e}(e,t);case l.moveto_control:return function(e,t){var r=t.ctrlId,n=t.parentId,i=t.uiConfig;"object"===O(r)&&r.FieldId&&(r=r.FieldId);var a="string"==typeof r?o.List.of(r):r;if(0===a.size)return e;r=a.get(0);var l=e.get("uiInfo");if(s.uiModel.isRootCtrl(l,r))return e;var u=r;return e=e.update("uiInfo",(function(e){return Z(e,n,a,i)})),e=(0,c.setSelectControlId)(e,u||s.uiModel.getRootId(l)),e}(e,t);case l.copy_and_add:return function(e,t){var r=t.parentId,n=t.ctrlId,i=t.uiConfig,l=e.get("uiInfo");if(!r||r==n){var u=s.uiModel.getParentControl(l,n);u&&(r=u.get(a.ID))}var d=e.get("select_control_id"),c=e.get("select_control_ids",(0,o.List)()),f=c.size>0?c:o.List.of(d);return 0===(f=f.filter((function(e){return!s.uiModel.isRootCtrl(l,e)}))).size?e:e.update("uiInfo",(function(e){return $(e,r,f,i)}))}(e,t);case l.throw_operate_info:return function(e,t){var r=t.info;if(r){throw{message:r.message,type:r.type}}return e}(e,t);case l.set_select_controlIds:return te(e,t);case l.convert_appmodelfunction:return t.action(e)}return e},t.setSelectControlIds=te,r(182320),r(909112),r(697060),r(9692),r(622676),r(305092),r(613468),r(233696),r(443616),r(241872),r(743924),r(835164),r(492948),r(693917),r(721300),r(336368),r(387912),r(23544),r(571176),r(633768),r(125048),r(660824),r(78504),r(513640),r(997308),r(977864),r(86744);var n=b(r(790832)),o=r(891052),i=h(r(211152)),a=r(65624),l=h(r(579016)),u=h(r(864792)),d=r(874828),c=r(613856),s=r(489912),f=r(477100),p=r(233528),g=b(r(220600)),m=r(331428),y=["Id","ParentId","Name","FieldId","FieldType","Key","_Type_"];function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(v=function(e){return e?r:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=O(e)&&"function"!=typeof e)return{default:e};var r=v(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}function b(e){return e&&e.__esModule?e:{default:e}}function I(e){return function(e){if(Array.isArray(e))return M(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||E(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],u=!0,d=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){d=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(d)throw o}}return l}}(e,t)||E(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){if(e){if("string"==typeof e)return M(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?M(e,t):void 0}}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e,t,r){var n;return n=function(e,t){if("object"!=O(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=O(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==O(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function T(e,t){var r=t.index,i=t.ctrlType,l=t.targetId,p=t.parentId,g=t.formInfo,y=t.uiConfig,v=t.state;if("DataRow"===i||"LayoutRow"===i||"SubDataRow"===i){var h=s.printModel.getGridInfo(e,p);if(!h)throw{message:(0,m.getLangMsg)("bosd.printReducer.key0001"),type:"warning"};p=h.get(a.ID);var b,I,A=s.printModel.getCellPosition(h,l)||{},E=A&&A.rowId,M=g&&g.RowType,C=g&&g.isNext,P=h.get(a.ITEMS,(0,o.List)()).findIndex((function(t){var r=s.uiModel.getFormFieldInfo(e,t.get(a.ID));if(r.get(a._TYPE_)===i&&"detail"===r.get("RowType"))return I=t.get(a.ID),!0}));if(E){r=u.default.childIndex(e,E),!0===C&&"extend"!==M&&"detail"!==M&&(r+=1);var w=(b=s.uiModel.getFormFieldInfo(e,E))&&b.get("Height");w&&g&&"extend"!==g.RowType&&(t.formInfo.Height=w)}var O=A.rowIndex;if("DataRow"===i||"SubDataRow"===i){if("detail"===M&&P>=0)throw{message:(0,m.getLangMsg)("bosd.printReducer.key0002"),type:"warning"};if(n.default.endsWith(M,"group")){if(-1===P)throw{message:(0,m.getLangMsg)("bosd.printReducer.key0003"),type:"warning"};b&&n.default.endsWith(b.get("RowType"),"group")?("startgroup"===b.get("RowType")&&(O=I!==E?s.printModel.getCellPosition(h,I).rowIndex:O,r=P),t.formInfo.GroupID=b.get("GroupID")):(O=I!==E?s.printModel.getCellPosition(h,I).rowIndex:O,r=P,t.formInfo.GroupID=(0,d.createNewId)(),t.formInfo.RowType="startgroup")}else if("extend"===M){if(-1===P)throw{message:(0,m.getLangMsg)("bosd.printReducer.key0004"),type:"warning"};if(-1!==h.get(a.ITEMS,(0,o.List)()).findIndex((function(t){var r=s.uiModel.getFormFieldInfo(e,t.get(a.ID));return r.get(a._TYPE_)===i&&"extend"===r.get("RowType")})))throw{message:(0,m.getLangMsg)("bosd.printReducer.key0005"),type:"warning"};O=I!==E?s.printModel.getCellPosition(h,I).rowIndex+1:O+1,t.formInfo.Height="24mm",r=P+1}}var T=g&&g.repeatCount||1,_=s.printModel.getMergeBlocks(e,p);_&&(O=!0===C?O+1:O,_=s.printModel.updateMergeBlockVertical(_,O,T),e=s.uiModel.updatePropValue({fieldId:p,propName:"MergeBlocks",value:_,metaType:a.FORMMETA})(e))}else if("DataColumn"===i||"LayoutColumn"===i||"SubDataColumn"===i){var k=s.printModel.getGridInfo(e,p);if(!k)throw{message:(0,m.getLangMsg)("bosd.printReducer.key0006"),type:"warning"};p=k.get(a.ID);var S,j,N=s.printModel.getCellPosition(k,l),F=N&&N.colId,D=g&&g.isNext,L=g&&g.repeatCount;if(F){r=u.default.childIndex(e,F),!0===D&&(r+=1);var x=(S=s.uiModel.getFormFieldInfo(e,F)).get("Width");x&&(t.formInfo.Width=x);var B=s.printModel.getMergeBlocks(e,p);if(B){var R=N.colIndex;R=!0===D?R+1:R;var V=v.get("select_control_ids",(0,o.List)()),U=s.printModel.getCols(k).map((function(e){return e.get("Id")})),W=!1,K=V.size,Y=U.size,Q=V.filter((function(e){return!U.includes(e)}));K!==Y||Q.size>0||(W=!0),B=B.map((function(e){var t=e.get("left"),n=e.get("right");return e.get("isExtendRow")?W?D?e=e.set("right",n):(r=0,e=e.set("left",t+L).set("right",n+L)):e=R<=t?e.set("left",t).set("right",n+L):R>t&&R<=(D?n+1:n)?e.set("right",n+L):e.set("right",n):W?e=D?e.set("right",n):e.set("left",t+L).set("right",n+L):R<=t?e=e.set("left",t+L).set("right",n+L):R>t&&R<=n+1&&(e=e.set("right",n+L)),e})),e=s.uiModel.updatePropValue({fieldId:p,propName:"MergeBlocks",value:B,metaType:a.FORMMETA})(e)}}var G=s.uiModel.getParentControl(e,p),H=G&&G.get(a.TYPE);if(k&&"PrintFormAp"==H){var J=G.get(a.ID),z=k.get(a.ITEMS,(0,o.List)()),q=function(t,r){return s.uiModel.getPropertyValue(e,r,t,"formmeta",y)},X=(0,f.convertMMToNum)(q("Width",J))-(0,f.convertMMToNum)(q("MarginLeft",J))-(0,f.convertMMToNum)(q("MarginRight",J)),Z=S?S.get("Width"):s.uiModel.getPropertyValue(e,p,"PreColumnWidth",a.FORMMETA,y);Z=Z||"25mm";var $=(Z=(0,f.convertMMToNum)(Z))*(g&&g.repeatCount);if(z.forEach((function(e){if(n.default.endsWith(e.get(a.TYPE),"Column")){var t=(0,f.convertMMToNum)(q("Width",e.get(a.ID)));$+=t}})),X<$){var ee=function(t,r,n){return s.uiModel.updatePropValue({fieldId:r,propName:t,value:n,metaType:a.FORMMETA})(e)};j=(0,f.toFloorFix)(Z*X/$,1)||1,t.formInfo.Width=j+"mm",j<25&&(e=ee("PreColumnWidth",p,j)),z.forEach((function(t){if(n.default.endsWith(t.get(a.TYPE),"Column")){var r=t.get(a.ID),o=(0,f.convertMMToNum)(q("Width",r));e=ee("Width",r,((0,f.toFloorFix)(o*X/$,1)||1)+"mm")}})),e=ee("X",p,"0mm")}}}else{p=p||s.uiModel.getRootId(e);var te=s.uiModel.getContainerControl(e,p,!0,y);if(r=n.default.isNumber(te.targetIndex)?te.targetIndex+1:te.targetIndex,p=te.control.get(a.ID),!(0,c.canAddControl)(e,{parentId:p,ctrlType:i,uiConfig:y}))throw{message:(0,m.getLangMsg)({key:"bosd.defaultReducer.key0001",variables:{type:i}}),type:"warning"};if(!g||!g.X&&!g.Y){g=g||{};var re=0,ne=0;te.control.get(a.ITEMS,(0,o.List)()).forEach((function(t){var r=t.get(a.ID),n=s.uiModel.getPropertyValue(e,r,"X","formmeta",y),o=s.uiModel.getPropertyValue(e,r,"Y","formmeta",y);n=n?parseFloat(n):0,o=o?parseFloat(o):0,n==re&&(re+=2),o==ne&&(ne+=2)})),g.X=re+"mm",g.Y=ne+"mm",t.formInfo=g}}return t.index=r,t.parentId=p,e}function _(e,t){var r=t._id,n=t.key,i=t.parentId,a=t.ctrlType,l=t.index,u=t.formInfo,c=void 0===u?{}:u,f=t.uiConfig,p={Id:r,Type:a};e=s.uiModel.addUIItem(i,(0,o.fromJS)(p),l)(e);var g,m=c.repeatCount&&c.repeatCount-1,y=c.Name;g=y||s.metadataModel.getConfigCtrlName(a,f);var v=Object.assign({},c,{_Type_:a,Index:0,Id:r,Key:n,Name:g||r,ParentId:i});if(e=s.uiModel.addFormItem((0,o.fromJS)(v))(e),e=s.uiModel.updateFormIndex(i)(e),m>0){c.repeatCount=m;var h=(0,d.createNewId)();return F(e=_(e,{_id:h,key:(0,d.createNewKey)(e,a),parentId:i,ctrlType:a,index:l,formInfo:c,uiConfig:f}),{_id:h,parentId:i,targetId:h,ctrlType:a,uiConfig:f,formInfo:Object.assign(c,{repeatCount:0})})}return e}var k=["Text","Amount","Barcode","QRCode","Image","Label"],S=["DataGrid","SubDataGrid","LayoutGrid"],j=["DataCell","LayoutCell"],N=function(e){var t=e.parentType,r=e.uiInfo,n=e.fieldId,o=e.uiConfig;return j.includes(t)&&(r=(0,c.actionWrap)(Y,W,X)(r,{fieldId:n,propName:"HorizontalFill",value:!0,metaType:"formmeta",uiConfig:o}),r=(0,c.actionWrap)(Y,W,X)(r,{fieldId:n,propName:"VerticalFill",value:!0,metaType:"formmeta",uiConfig:o})),r};function F(e,t){var r=t._id,i=t.parentId,l=t.targetId,c=t.ctrlType,p=t.uiConfig,g=t.formInfo,m=function(t){e=N({parentType:t,uiInfo:e,fieldId:r,uiConfig:p})},y=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,o=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,a=(0,d.createNewId)(),l=(0,d.createNewKey)(e,t);return e=_(e,{_id:a,key:l,ctrlType:t,parentId:n,uiConfig:p,formInfo:o,index:i}),a},v=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,o=0,l=0,u=s.printModel.getGridInfo(e,t),d=s.printModel.getCellPosition(u,t),c=d.rowId,m=d.colId,y=d.rowIndex,v=d.colIndex,h=s.printModel.getMergeBlocks(e,u.get(a.ID)),b=s.printModel.getMergeBlock(h,{rowIndex:y,colIndex:v});if(b){var I=b.toJS(),A=I.left,E=I.right,M=I.top,C=I.bottom;if(A!==E)for(var P=s.printModel.getCols(u),w=P.size,O=A;O<=E;O++){if(A>w)return;o+=(0,f.convertMMToNum)(s.uiModel.getPropertyValue(e,P.getIn([O,a.ID]),"Width",a.FORMMETA,p))}else o=(0,f.convertMMToNum)(s.uiModel.getPropertyValue(e,m,"Width",a.FORMMETA,p));if(M!==C)for(var T=s.printModel.getRows(u),_=T.size,k=M;k<=C;k++){if(C>_)return;l+=(0,f.convertMMToNum)(s.uiModel.getPropertyValue(e,T.getIn([k,a.ID]),"Height",a.FORMMETA,p))}else l=(0,f.convertMMToNum)(s.uiModel.getPropertyValue(e,c,"Height",a.FORMMETA,p))}else o=(0,f.convertMMToNum)(s.uiModel.getPropertyValue(e,m,"Width",a.FORMMETA,p)),l=(0,f.convertMMToNum)(s.uiModel.getPropertyValue(e,c,"Height",a.FORMMETA,p));return{parentUseWidth:o,parentUseHeight:l,_width:(0,f.convertMMToNum)(s.uiModel.getPropertyValue(e,n,"Width",a.FORMMETA,p)),_height:(0,f.convertMMToNum)(s.uiModel.getPropertyValue(e,n,"Height",a.FORMMETA,p)),_x:(0,f.convertMMToNum)(g.X)||0,_y:(0,f.convertMMToNum)(g.Y)||0}};if("DataGrid"===c||"SubDataGrid"===c){var h=[],b="DataRow",I="DataColumn";"SubDataGrid"===c&&(b="SubDataRow",I="SubDataColumn");var A=Object.assign({}),E=Object.assign({}),M=s.uiModel.getUIFieldInfo(e,i),C=M&&M.get(a.TYPE);if(n.default.endsWith(C,"Cell")){var P=v(i,r),w=P.parentUseWidth,O=P.parentUseHeight;75>w&&(A.Width=((0,f.toFloorFix)(w/3,1)||1)+"mm"),40>O&&(E.Height=(0,f.toFloorFix)(O/5,1)+"mm")}h.push(y(I,void 0,A)),h.push(y(I,void 0,A)),h.push(y(I,void 0,A));for(var T=0;T<3;T++)for(var S=y(b,void 0,1==T?Object.assign({RowType:"detail"},E):Object.assign({RowType:"normal"},E)),j=0;j<3;j++)y("DataCell",S);e=X(e,{fieldId:r,propName:"OuterBorder",value:void 0,metaType:"formmeta",uiConfig:p}),e=X(e,{fieldId:r,propName:"InnerBorder",value:void 0,metaType:"formmeta",uiConfig:p}),m(C)}else if("DataRow"===c||"SubDataRow"===c){var F=i,D=s.uiModel.getUIFieldInfo(e,F),L=D.get(a.ITEMS,(0,o.List)()),x=s.printModel.getCols(D),B=s.uiModel.getFormFieldInfo(e,r),R=B.get("RowType");if(x&&x.forEach((function(){var t=y("DataCell",r);e=s.uiModel.setDefaultBorderStyle(e,p,t,s.uiModel)})),"extend"===R){var V=s.printModel.getCellPosition(D,r).rowIndex,U=s.printModel.getMergeBlocks(e,F),W=(0,o.Map)({left:0,right:parseFloat(x.size)-1,top:V,bottom:V,isExtendRow:!0});U=U?U.push(W):(0,o.List)([W]),e=s.uiModel.updatePropValue({fieldId:F,propName:"MergeBlocks",value:U,metaType:a.FORMMETA})(e)}if(n.default.endsWith(R,"group")){var K=s.printModel.getCellPosition(D,l),Y=K&&K.rowId&&s.uiModel.getFormFieldInfo(e,K.rowId),Q=Y&&Y.get("RowType");if(!n.default.endsWith(Q,"group")){var G,H=L.findIndex((function(t){var r=s.uiModel.getFormFieldInfo(e,t.get(a.ID));if(r.get(a._TYPE_)===c&&"detail"===r.get("RowType"))return G=t.get(a.ID),!0})),J=D.get(a.ITEMS,(0,o.List)()).findIndex((function(t){var r=s.uiModel.getFormFieldInfo(e,t.get(a.ID));return r.get(a._TYPE_)===c&&"extend"===r.get("RowType")}));J>0&&(H+=1);var z=s.printModel.getMergeBlocks(e,i);if(z){var q=J>0?2:1;q+=s.printModel.getCellPosition(D,G).rowIndex,z=s.printModel.updateMergeBlockVertical(z,q,1),e=s.uiModel.updatePropValue({fieldId:i,propName:"MergeBlocks",value:z,metaType:a.FORMMETA})(e)}var Z=y(c,F,{RowType:"endgroup",GroupID:B.get("GroupID")},H+1);x&&x.forEach((function(){var t=y("DataCell",Z);e=s.uiModel.setDefaultBorderStyle(e,p,t,s.uiModel)}))}}}else if("DataColumn"===c||"SubDataColumn"===c){var $=i,ee=s.printModel.getGridInfo(e,$),te=s.printModel.getRows(ee),re=u.default.childIndex(e,r);te&&te.forEach((function(t){var r=t.get(a.ID),n=y("DataCell",r,{},re);e=s.uiModel.setDefaultBorderStyle(e,p,n,s.uiModel)}))}else if("LayoutGrid"===c){var ne=Object.assign({}),oe=Object.assign({}),ie=s.uiModel.getUIFieldInfo(e,i),ae=ie&&ie.get(a.TYPE);if(n.default.endsWith(ae,"Cell")){var le=v(i,r),ue=le.parentUseWidth,de=le.parentUseHeight;75>ue&&(ne.Width=((0,f.toFloorFix)(ue/3,1)||1)+"mm"),24>de&&(oe.Height=((0,f.toFloorFix)(de/3,1)||1)+"mm")}var ce=[];ce.push(y("LayoutColumn",void 0,ne)),ce.push(y("LayoutColumn",void 0,ne)),ce.push(y("LayoutColumn",void 0,ne));for(var se=0;se<3;se++)for(var fe=y("LayoutRow",void 0,oe),pe=0;pe<3;pe++){var ge=y("LayoutCell",fe);e=s.uiModel.setDefaultBorderStyle(e,p,ge,s.uiModel)}e=X(e,{fieldId:r,propName:"OuterBorder",value:void 0,metaType:"formmeta",uiConfig:p}),e=X(e,{fieldId:r,propName:"InnerBorder",value:void 0,metaType:"formmeta",uiConfig:p}),m(ae)}else if("LayoutRow"===c){var me=i,ye=s.printModel.getGridInfo(e,me),ve=s.printModel.getCols(ye);ve&&ve.forEach((function(){var t=y("LayoutCell",r);e=s.uiModel.setDefaultBorderStyle(e,p,t,s.uiModel)}))}else if("LayoutColumn"===c){var he=i,be=s.printModel.getGridInfo(e,he),Ie=s.printModel.getRows(be),Ae=u.default.childIndex(e,r);Ie&&Ie.forEach((function(t){var r=y("LayoutCell",t.get(a.ID),{},Ae);e=s.uiModel.setDefaultBorderStyle(e,p,r,s.uiModel)}))}else if(-1!==k.indexOf(c)){var Ee=s.uiModel.getUIFieldInfo(e,i),Me=Ee&&Ee.get(a.TYPE);if("PrintFormAp"===Me)return e;if(n.default.endsWith(Me,"Cell")){var Ce=v(i,r),Pe=Ce.parentUseWidth,we=Ce.parentUseHeight,Oe=Ce._width,Te=Ce._height,_e=Ce._x,ke=Ce._y;Oe&&Oe>Pe-_e?e=s.uiModel.updatePropValue({fieldId:r,propName:"Width",value:Pe-_e+"mm",metaType:a.FORMMETA})(e):!_e&&Pe>=Oe&&(e=s.uiModel.updatePropValue({fieldId:r,propName:"HorizontalFill",value:!0,metaType:a.FORMMETA})(e)),Te&&Te>we-ke?e=s.uiModel.updatePropValue({fieldId:r,propName:"Height",value:we-ke+"mm",metaType:a.FORMMETA})(e):!ke&&we>=Te&&(e=s.uiModel.updatePropValue({fieldId:r,propName:"VerticalFill",value:!0,metaType:a.FORMMETA})(e))}if(n.default.endsWith(Me,"Header")||n.default.endsWith(Me,"Footer")){var Se=(0,f.convertMMToNum)(s.uiModel.getPropertyValue(e,i,"Height","formmeta",p))||15;(0,f.convertMMToNum)(s.uiModel.getPropertyValue(e,r,"Height",a.FORMMETA,p))>Se&&(e=s.uiModel.updatePropValue({fieldId:r,propName:"Height",value:Se+"mm",metaType:a.FORMMETA})(e))}}return e}var D=["Text","Amount","Barcode","QRCode","Image","DataCell"],L={Amount:["AmountField","PriceField"],Image:["PictureField"]};function x(e,t){var r,i,l,d,c,f,p=t.id,g=t.name,y=t.ctrlType,v=t.fieldId,h=t.fieldType,b=(0,o.Map)({ui:e.get("entitytree")}),I=s.uiModel.getRootId(b),A=s.printModel.getGridInfo(e,p),E=A&&A.get(a.TYPE),M=["ReportFormModel","EntryEntity","SubEntryEntity","TreeEntryEntity"];for(r=E?"DataGrid"===E?M.slice():["ReportFormModel","SubEntryEntity"]:M.slice(),l=(i=u.default.byId(b,v))&&i.size;l>0;){var C=i.slice(0,l);if(!(d=b.getIn(C)))break;if(c=d.get(a.ID),f=d.get(a.TYPE),!c||!f)break;if(c===I)break;if(r.indexOf(f)>=0)break;l-=2}if(!d||!c||!f)return e;if("DataCell"==y){if(!M.includes(f)&&"DataGrid"===E)throw{message:(0,m.getLangMsg)("bosd.printReducer.key0007"),type:"warning"};if("SubEntryEntity"!==f&&"ReportFormModel"!==e.get("modelType")&&"SubDataGrid"===E)throw{message:(0,m.getLangMsg)("bosd.printReducer.key0008"),type:"warning"};var P=A.get(a.ID);e=s.uiModel.updatePropValue({fieldId:P,propName:"DataSource",value:c,metaType:"formmeta"})(e),e=s.uiModel.updatePropValue({fieldId:p,propName:"DataSource",value:c,metaType:"formmeta"})(e),e=s.uiModel.updatePropValue({fieldId:p,propName:"BindField",value:v,metaType:"formmeta"})(e),e=s.uiModel.updatePropValue({fieldId:p,propName:"Name",value:g,metaType:"formmeta"})(e),e=s.uiModel.updatePropValue({fieldId:p,propName:"CellType",value:"field",metaType:"formmeta"})(e)}else{if(n.default.endsWith(h,"Field"))"custom"===s.uiModel.getPropertyValue(e,p,"BindType",a.FORMMETA)&&(e=s.uiModel.updatePropValue({fieldId:p,propName:"BindType",value:"field",metaType:"formmeta"})(e));e=s.uiModel.updatePropValue({fieldId:p,propName:"DataSource",value:c,metaType:"formmeta"})(e),e=s.uiModel.updatePropValue({fieldId:p,propName:"BindField",value:v,metaType:"formmeta"})(e),e=s.uiModel.updatePropValue({fieldId:p,propName:"Name",value:g,metaType:"formmeta"})(e)}return e}function B(e,t){var r=t.ctrlId,n=t.ctrlType,o=t.uiConfig;if(e=s.uiModel.updatePropValue({fieldId:r,propName:"CellType",value:void 0,metaType:"formmeta"})(e),e=s.uiModel.updatePropValue({fieldId:r,propName:"BindField",value:void 0,metaType:"formmeta"})(e),e=s.uiModel.updatePropValue({fieldId:r,propName:"BindText",value:void 0,metaType:"formmeta"})(e),"DataCell"===n){var i=s.metadataModel.getConfigCtrlName(n,o);e=s.uiModel.updatePropValue({fieldId:r,propName:"DataSource",value:void 0,metaType:"formmeta"})(e),e=s.uiModel.updatePropValue({fieldId:r,propName:"Name",value:i,metaType:"formmeta"})(e)}return e}function R(e,t){var r=t.ctrlId,i=t.ctrlType,l=t.uiConfig;if(n.default.endsWith(i,"Column")){var u=s.printModel.getGridInfo(e,r),d=s.printModel.getCols(u),c=u.get(a.ID),f=s.uiModel.getParentControl(e,c),p=f&&f.get(a.TYPE);if(u&&"PrintFormAp"==p){var g=f.get(a.ID),m=u.get(a.ITEMS,(0,o.List)()),y=function(t,r){return s.uiModel.getPropertyValue(e,r,t,"formmeta",l)},v=function(e){return e?parseFloat(e.replace(/mm/,"")):0},h=v(y("Width",g))-v(y("MarginLeft",g))-v(y("MarginRight",g)),b=0;m.forEach((function(e){if("DataColumn"==e.get(a.TYPE)){var t=v(y("Width",e.get(a.ID)));b+=t}}));var I=h-(b-=v(y("Width",r)));if(I>0){var A=I>25?25:I;e=s.uiModel.updatePropValue({fieldId:c,propName:"PreColumnWidth",value:A,metaType:a.FORMMETA})(e)}}if(1===d.size)t.ctrlId=c;else{var E=(s.printModel.getCellPosition(u,r)||{}).colIndex,M=s.printModel.getMergeBlocks(e,c);M&&(M=0===(M=(M=M.map((function(e){var t=e.get("left"),r=e.get("right");return E===t?e=t===r?e.set("top",0).set("bottom",0):e.set("right",r-1):E<t?e=e.set("left",t-1).set("right",r-1):E>t&&E<=r&&(e=e.set("right",r-1)),e}))).filterNot((function(e){return e.get("left")==e.get("right")&&e.get("top")==e.get("bottom")}))).size?void 0:M,e=s.uiModel.updatePropValue({fieldId:c,propName:"MergeBlocks",value:M,metaType:a.FORMMETA})(e)),s.printModel.getRows(u).forEach((function(t){var r=t.getIn([a.ITEMS,E]);r&&(e=U(e,{ctrlId:r.get(a.ID),uiConfig:l}))}))}}else if(n.default.endsWith(i,"Row")){var C=s.printModel.getGridInfo(e,r),P=s.printModel.getRows(C),w=C.get(a.ID);if(1===P.size)t.ctrlId=w;else{var O=s.printModel.getMergeBlocks(e,w),T=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(O){var n=(s.printModel.getCellPosition(C,t)||{}).rowIndex;return O=0===(O=(O=s.printModel.updateMergeBlockVertical(O,n+r,-1)).filterNot((function(e){return e.get("left")==e.get("right")&&e.get("top")==e.get("bottom")}))).size?void 0:O,s.uiModel.updatePropValue({fieldId:w,propName:"MergeBlocks",value:O,metaType:a.FORMMETA})(e)}return e};if(e=T(r),"DataRow"===i||"SubDataRow"===i){var _=s.uiModel.getFormFieldInfo(e,r),k=_.get("RowType");if(n.default.endsWith(k,"group")){var S,j=_.get("GroupID"),N=[],F=[];P.forEach((function(t){var r=t.get(a.ID),o=s.uiModel.getFormFieldInfo(e,r),i=o.get("RowType");n.default.endsWith(i,"group")&&o.get("GroupID")===j&&(S?F.push(r):N.push(r)),N.length>0&&0===F.length&&"detail"===i&&(S=r)}));var D=[];1===N.length&&N.indexOf(r)>-1?(D=F,F.forEach((function(t){e=T(t,-1)}))):1===F.length&&F.indexOf(r)>-1&&(D=N,N.forEach((function(t){e=T(t,-1)}))),n.default.forEach(D,(function(t){e=U(e,{ctrlId:t,uiConfig:l})}))}}}}var L=s.uiModel.getRootId(e);["Header","Footer"].indexOf(i)>-1&&(e=s.uiModel.updatePropValue({fieldId:L,propName:"Show"+i,value:!1,metaType:a.FORMMETA})(e));var x=s.uiModel.getPreControl(e,t.ctrlId,!1)||s.uiModel.getNextControl(e,t.ctrlId,!1);return t.selId=x&&x.get(a.ID),e}function V(e,t){var r=t.uiConfig,n=t.gridInfo;try{n&&(e=ee(e,{fieldId:n.get(a.ID),propName:"HorizontalFill",uiConfig:r}),e=ee(e,{fieldId:n.get(a.ID),propName:"VerticalFill",uiConfig:r}))}catch(e){}return e}function U(e,t){var r=t.ctrlId,n=s.uiModel.getFormFieldInfo(e,r);e=s.uiModel.deleteFormItem(r)(e),e=s.uiModel.deleteUIItem(r)(e);var o=n.get("ParentId");return e=s.uiModel.updateFormIndex(o)(e)}function W(e,t){var r=t.fieldId,o=t.propName,i=t.value,l=(t.metaType,t.uiConfig),u=s.uiModel.getFieldInfo(e,r,a.FORMMETA);return u&&n.default.endsWith(u.get(a._TYPE_),"Grid")&&(e=K(e,r,o,i,l)),e}function K(e,t,r,o,i){var l=s.printModel.getGridInfo(e,t);switch(r){case"HorizontalFill":var u=function(t,r){return s.uiModel.getPropertyValue(e,r,t,"formmeta",i)};if(!0===o){var d=s.uiModel.getParentControl(e,t),c=d&&d.get(a.TYPE),p=0;if(l){var g=d.get(a.ID),m=s.printModel.getCols(l);if(n.default.endsWith(c,"Cell")){var y=s.printModel.getGridInfo(e,g),v=s.printModel.getCellPosition(y,g),h=v.colId,b=v.rowIndex,I=v.colIndex,A=s.printModel.getMergeBlocks(e,y.get(a.ID)),E=s.printModel.getMergeBlock(A,{rowIndex:b,colIndex:I});if(E)for(var M=s.printModel.getCols(y),C=E.toJS(),P=C.left,w=C.right,O=M.size,T=P;T<=w;T++){if(P>O)return;p+=(0,f.convertMMToNum)(u("Width",M.getIn([T,a.ID])))}else p=(0,f.convertMMToNum)(u("Width",h))}else{var _=(0,f.convertMMToNum)(u("Width",g)),k=(0,f.convertMMToNum)(u("MarginLeft",g)),S=(0,f.convertMMToNum)(u("MarginRight",g));p=_-k-S}var j=0;if(m.forEach((function(e){var t=(0,f.convertMMToNum)(u("Width",e.get(a.ID)));j+=t})),p>0&&p!==j){var N=function(t,r,n){return s.uiModel.updatePropValue({fieldId:r,propName:t,value:n,metaType:a.FORMMETA})(e)},F=p;m.forEach((function(r,n){var o=r.get(a.ID),i=(0,f.convertMMToNum)(u("Width",o));if(n===m.size-1)e=N("Width",o,F+"mm");else{var l=(0,f.toFloorFix)(i*p/j,1);e=N("Width",o,l+"mm");var d=l;F=(0,f.toFloorFix)((0,f.numAdd)(F,-d),1)}u("isFillWidth",t)||(e=N("PreFillWidth",o,i+"mm"))})),e=N("isFillWidth",t,!0)}}}else if(!1===o){var D=s.printModel.getCols(l),L=function(t,r,n){return s.uiModel.updatePropValue({fieldId:r,propName:t,value:n,metaType:a.FORMMETA})(e)};D.forEach((function(t){var r=t.get(a.ID),n=(0,f.convertMMToNum)(u("PreFillWidth",r))||(0,f.convertMMToNum)(u("Width",r));e=L("Width",r,n+"mm")})),e=L("isFillWidth",t,!1)}break;case"VerticalFill":var x=function(t,r){return s.uiModel.getPropertyValue(e,r,t,"formmeta",i)};if(!0===o){var B=s.uiModel.getParentControl(e,t),R=B&&B.get(a.TYPE),V=0;if(l){var U=B.get(a.ID),W=s.printModel.getRows(l);if(n.default.endsWith(R,"Cell")){var K=s.printModel.getGridInfo(e,U),Y=s.printModel.getCellPosition(K,U),Q=Y.rowId,G=Y.rowIndex,H=Y.colIndex,J=s.printModel.getMergeBlocks(e,K.get(a.ID)),z=s.printModel.getMergeBlock(J,{rowIndex:G,colIndex:H});if(z)for(var q=s.printModel.getRows(K),X=z.toJS(),Z=X.top,$=X.bottom,ee=q.size,te=Z;te<=$;te++){if(Z>ee)return;V+=(0,f.convertMMToNum)(x("Height",q.getIn([te,a.ID])))}else V=(0,f.convertMMToNum)(x("Height",Q))}else{var re=(0,f.convertMMToNum)(x("Height",U)),ne=(0,f.convertMMToNum)(x("MarginTop",U)),oe=(0,f.convertMMToNum)(x("MarginBottom",U));V=re-ne-oe}var ie=0;if(W.forEach((function(t){var r=(0,f.convertMMToNum)(x("Height",t.get(a.ID)),!0);if("detail"===x(a.ROWTYPE,t.get(a.ID))){var n=s.uiModel.getPropertyValue(e,t.get(a.ID),"RepeatTimes",a.FORMMETA,i);r*=n=parseInt(n)||1}ie+=r})),V>0&&V!==ie){var ae=function(t,r,n){return s.uiModel.updatePropValue({fieldId:r,propName:t,value:n,metaType:a.FORMMETA})(e)},le=V;W.forEach((function(r,n){var o=r.get(a.ID),l=(0,f.convertMMToNum)(x("Height",o),!0);if(n===W.size-1&&"detail"!==x(a.ROWTYPE,r.get(a.ID)))e=ae("Height",o,le+"mm");else{var u=(0,f.toFloorFix)(l*V/ie,1);if(e=ae("Height",o,u+"mm"),"detail"===x(a.ROWTYPE,r.get(a.ID))){var d=s.uiModel.getPropertyValue(e,r.get(a.ID),"RepeatTimes",a.FORMMETA,i);d=parseInt(d)||1;for(var c=0;c<d;c++)le=(0,f.toFloorFix)((0,f.numAdd)(le,-u),1)}else le=(0,f.toFloorFix)((0,f.numAdd)(le,-u),1)}x("isFillHeight",t)||(e=ae("PreFillHeight",o,l+"mm"))})),e=ae("isFillHeight",t,!0)}}}else if(!1===o){var ue=s.printModel.getRows(l),de=function(t,r,n){return s.uiModel.updatePropValue({fieldId:r,propName:t,value:n,metaType:a.FORMMETA})(e)};ue.forEach((function(t){var r=t.get(a.ID),n=(0,f.convertMMToNum)(x("PreFillHeight",r))||(0,f.convertMMToNum)(x("Height",r));e=de("Height",r,n+"mm")})),e=de("isFillHeight",t,!1)}}return e}function Y(e,t){var r=t.fieldId,n=t.propName,o=t.value,i=t.metaType,a=t.uiConfig;return s.uiModel.updatePropValue({fieldId:r,propName:n,value:o,metaType:i,uiConfig:a})(e)}function Q(e,t){return e.filter((function(e,r){return!!t.includes(r)}))}var G,H="1px_solid_#000000",J=["HorAlignment","VerAlignment","HorizontalFill","VerticalFill","WrapText","Shrink","Format","FontSize","FontName","Style","ForeColor"],z=["Border"];function q(e,t){if(!e||!o.Map.isMap(e))return[];var r=e.filter((function(e,r){return t.includes(r)}));return[r,r.reduce((function(e,t){var r;return null!==(r=e+(null==t?void 0:t.size))&&void 0!==r?r:0}),0)]}function X(e,t){var r=t.fieldId,u=t.propName,d=t.value,m=t.metaType,y=t.uiConfig,v=t.isUpdateProps,h=t.dispatch;if("formmeta"!==m)return e;var b=s.uiModel.getFormFieldInfo(e,r),I=b.get(a._TYPE_);if("Paper"===u){var E=s.uiModel.getPropertyValue(e,r,"PaperDirection","formmeta",y),M=p.PageSizeEnum[d]||{},C=M.width,P=M.height;"horizontal"==E?(C&&(e=s.uiModel.updatePropValue({fieldId:r,propName:"Height",value:C,metaType:"formmeta",uiConfig:y})(e)),P&&(e=s.uiModel.updatePropValue({fieldId:r,propName:"Width",value:P,metaType:"formmeta",uiConfig:y})(e))):(C&&(e=s.uiModel.updatePropValue({fieldId:r,propName:"Width",value:C,metaType:"formmeta",uiConfig:y})(e)),P&&(e=s.uiModel.updatePropValue({fieldId:r,propName:"Height",value:P,metaType:"formmeta",uiConfig:y})(e)))}else if("OuterBorder"===u){d=s.uiModel.getPropertyValue(e,r,u,m,y);var w,O,T=s.uiModel.getUIFieldInfo(e,r);if(n.default.endsWith(I,"Grid"))T,w=T.get(a.ITEMS,(0,o.List)()).filter((function(e){return n.default.endsWith(e.get(a.TYPE,""),"Row")}));else if(n.default.endsWith(I,"Row"))w=o.List.of(T);else if(n.default.endsWith(I,"Column")){var _=s.uiModel.getParentControl(e,r).get(a.ITEMS,(0,o.List)());w=_.filter((function(e){return n.default.endsWith(e.get(a.TYPE,""),"Row")})),O=_.findIndex((function(e){return e.get(a.ID)==r}))}var k=w&&w.size;w&&w.forEach((function(t,r){var n=t.get(a.ITEMS,(0,o.List)()),i=n.size;n.forEach((function(t,n){if(null==O||n==O){var l=t.get(a.ID),u=s.uiModel.getPropertyValue(e,l,"Style","formmeta",y)||(0,o.Map)(),c=u.get("Border",(0,o.Map)());0===r&&(c=d?c.set("Top",H):c.delete("Top")),r===k-1&&(c=d?c.set("Bottom",H):c.delete("Bottom")),0!==n&&null==O||(c=d?c.set("Left",H):c.delete("Left")),n!==i-1&&null==O||(c=d?c.set("Right",H):c.delete("Right")),u=u.set("Border",c),e=s.uiModel.updatePropValue({fieldId:l,propName:"Style",value:u,metaType:"formmeta",uiConfig:y})(e)}}))}))}else if("InnerBorder"===u){d=s.uiModel.getPropertyValue(e,r,u,m,y);var S,j,N=s.uiModel.getUIFieldInfo(e,r);if(n.default.endsWith(I,"Grid"))N,S=N.get(a.ITEMS,(0,o.List)()).filter((function(e){return n.default.endsWith(e.get(a.TYPE,""),"Row")}));else if(n.default.endsWith(I,"Row"))S=o.List.of(N);else if(n.default.endsWith(I,"Column")){var F=s.uiModel.getParentControl(e,r).get(a.ITEMS,(0,o.List)());S=F.filter((function(e){return n.default.endsWith(e.get(a.TYPE,""),"Row")})),j=F.findIndex((function(e){return e.get(a.ID)==r}))}var D=S&&S.size;S&&S.forEach((function(t,r){var n=t.get(a.ITEMS,(0,o.List)()),i=n.size;n.forEach((function(t,n){if(null==j||n==j){var l=t.get(a.ID),u=s.uiModel.getPropertyValue(e,l,"Style","formmeta",y)||(0,o.Map)(),c=u.get("Border",(0,o.Map)()),f=(0,o.Map)({Top:H,Bottom:H,Left:H,Right:H});0===r&&(f=f.delete("Top")),r===D-1&&(f=f.delete("Bottom")),0!==n&&null==j||(f=f.delete("Left")),n!==i-1&&null==j||(f=f.delete("Right")),c=d?c.concat(f):c.filterNot((function(e,t){return f.has(t)})),u=u.set("Border",c),e=s.uiModel.updatePropValue({fieldId:l,propName:"Style",value:u,metaType:"formmeta",uiConfig:y})(e)}}))}))}else if("PaperDirection"===u){var L=s.uiModel.getPropertyValue(e,r,"Width","formmeta",y),x=s.uiModel.getPropertyValue(e,r,"Height","formmeta",y);e=s.uiModel.updatePropValue({fieldId:r,propName:"Width",value:x,metaType:"formmeta",uiConfig:y})(e),e=s.uiModel.updatePropValue({fieldId:r,propName:"Height",value:L,metaType:"formmeta",uiConfig:y})(e)}else if("MergeBlocks"===u&&n.default.endsWith(I,"Grid")){var B=s.printModel.getGridInfo(e,r);(d||(0,o.List)()).forEach((function(t){for(var r=t.toJS(),i=r.left,l=r.right,u=r.top,d=r.bottom,c=s.printModel.getCellInfo(B,{rowIndex:u,colIndex:i}),f=[],p=[],g=u;g<=d;g++){var m=s.printModel.getCellInfo(B,{rowIndex:g});p[g]=parseFloat(s.uiModel.getPropertyValue(e,m,"Height",a.FORMMETA,y))||0}for(var v=i;v<=l;v++){var h=s.printModel.getCellInfo(B,{colIndex:v});f[v]=parseFloat(s.uiModel.getPropertyValue(e,h,"Width",a.FORMMETA,y))||0}for(var b=u;b<=d;b++)for(var I=function(){if(b===u&&A===i)return 1;var t=s.printModel.getCellInfo(B,{rowIndex:b,colIndex:A}),r=t.get(a.ID),l=n.default.reduce(f.slice(i,A),(function(e,t){return e+t})),d=n.default.reduce(p.slice(u,b),(function(e,t){return e+t}));t.get(a.ITEMS,(0,o.List)()).forEach((function(t){var r=t.get(a.ID);if(e=s.uiModel.deleteUIItem(r)(e),e=s.uiModel.addUIItem(c.get(a.ID),t)(e),l>0){var n=parseFloat(s.uiModel.getPropertyValue(e,t,"X",a.FORMMETA,y))||0;e=s.uiModel.updatePropValue({fieldId:r,propName:"X",value:n+l+"mm",metaType:a.FORMMETA})(e)}if(d>0){var o=parseFloat(s.uiModel.getPropertyValue(e,t,"Y",a.FORMMETA,y))||0;e=s.uiModel.updatePropValue({fieldId:r,propName:"Y",value:o+d+"mm",metaType:a.FORMMETA})(e)}})),e=s.uiModel.updatePropValue({fieldId:r,propName:"BindText",value:void 0,metaType:"formmeta"})(e)},A=i;A<=l;A++)I();e=s.uiModel.updateParentId(c.get(a.ID))(e),e=s.uiModel.updateFormIndex(c.get(a.ID))(e)}))}else if(n.default.indexOf(J,u)>-1){if(n.default.endsWith(I,"Grid")||n.default.endsWith(I,"Row")){var R=s.uiModel.getUIFieldInfo(e,r).get(a.ITEMS,(0,o.List)());if("HorizontalFill"==u)R.forEach((function(t){n.default.endsWith(t.get(a.TYPE),"Column")||(e=X(e,{fieldId:t.get(a.ID),propName:u,value:d,metaType:m,uiConfig:y}))}));else if("VerticalFill"==u)R.forEach((function(t){n.default.endsWith(t.get(a.TYPE),"Column")||(e=X(e,{fieldId:t.get(a.ID),propName:u,value:d,metaType:m,uiConfig:y}))}));else if("Style"===u){var V=A(q(d,z),2),U=V[0];V[1]>0&&R.forEach((function(t){e=(0,c.actionWrap)(Y,null,X)(e,{fieldId:t.get(a.ID),propName:u,value:Q(U,z),metaType:m,uiConfig:y})}))}else R.forEach((function(t){e=(0,c.actionWrap)(Y,null,X)(e,{fieldId:t.get(a.ID),propName:u,value:d,metaType:m,uiConfig:y,dispatch:h})}))}else if(n.default.endsWith(I,"Column")){var K=s.printModel.getGridInfo(e,r),Z=(s.printModel.getCellPosition(K,r)||{}).colIndex;s.printModel.getRows(K).forEach((function(t){var r=t.getIn([a.ITEMS,Z]);if(r)if("Style"===u){var n=A(q(d,z),2),o=n[0];n[1]>0&&(e=(0,c.actionWrap)(Y,null,X)(e,{fieldId:r.get(a.ID),propName:u,value:Q(o,z),metaType:m,uiConfig:y}))}else e=(0,c.actionWrap)(Y,null,X)(e,{fieldId:r.get(a.ID),propName:u,value:d,metaType:m,uiConfig:y,dispatch:h})}))}else if(n.default.endsWith(I,"Cell")){var $=A(q(d,["Padding"]),2);$[0];if($[1]>0&&(G&&(clearTimeout(G),G=null),G=setTimeout((function(){(h||i.default[i.DSTORE][0].dispatch)({type:l.convert_appmodelfunction,action:function(e){return e.update("uiInfo",(function(t){return function(e,t){var r=s.printModel.getGridInfo(e,t),n="formmeta",o=s.printModel.getRows(r),i=s.printModel.getCellPosition(r,t)||{},l=i.colIndex,u=i.rowIndex,d=o.get(u),p=s.printModel.getCols(r).find((function(e,t){return t===l}));if(d){var m,y,v=d.get(a.ID),h=s.uiModel.getPropertyValue(e,v,"MaxCellHeight",a.FORMMETA,e)||(0,f.convertMMToNum)(s.uiModel.getPropertyValue(e,v,"Height",a.FORMMETA,e))||25,b=null!==(m=null===(y=g.default.getSelectDom())||void 0===y?void 0:y.clientHeight)&&void 0!==m?m:0;h&&h<b&&(e=s.uiModel.updatePropValue({fieldId:v,propName:"MaxCellHeight",value:b,metaType:a.FORMMETA,uiInfo:e})(e),e=(0,c.actionWrap)(Y,null,X)(e,{fieldId:v,propName:"Height",value:(0,f.convertToMM)(b+"px","y")+"mm",metaType:n,uiConfig:e}))}if(p){var I,A,E=p.get(a.ID),M=s.uiModel.getPropertyValue(e,E,"MaxCellWidth",a.FORMMETA,e)||(0,f.convertMMToNum)(s.uiModel.getPropertyValue(e,E,"Width",a.FORMMETA,e))||8,C=null!==(I=null===(A=g.default.getSelectDom())||void 0===A?void 0:A.clientWidth)&&void 0!==I?I:0;M&&M<C&&(e=s.uiModel.updatePropValue({fieldId:E,propName:"MaxCellWidth",value:C,metaType:a.FORMMETA,uiInfo:e})(e),e=(0,c.actionWrap)(Y,null,X)(e,{fieldId:E,propName:"Width",value:(0,f.convertToMM)(C+"px","x")+"mm",metaType:n,uiConfig:e}))}return e}(t,e.get("select_control_id"))}))}})}),100)),"Style"!==u)s.uiModel.getUIFieldInfo(e,r).get(a.ITEMS,(0,o.List)()).forEach((function(t){e=(0,c.actionWrap)(Y,W,X)(e,{fieldId:t.get(a.ID),propName:u,value:d,metaType:m,uiConfig:y,dispatch:h})}))}}else if("BindType"!==u&&"DataSource"!==u||v){if("Height"===u&&n.default.endsWith(I,"Footer")){var ee=s.uiModel.getRootId(e),te=(0,f.convertMMToNum)(b.get("Height")),re=s.uiModel.getFormFieldInfo(e,ee),ne=(0,f.convertMMToNum)(re.get("Height"))-(0,f.convertMMToNum)(re.get("MarginBottom"))-te-(0,f.convertMMToNum)(re.get("MarginTop"));e=s.uiModel.updatePropValue({fieldId:r,propName:"Y",value:ne+"mm",metaType:a.FORMMETA})(e)}else if("ColumnType"===u){var oe=s.printModel.getGridInfo(e,r),ie=s.printModel.getRows(oe),ae=(s.printModel.getCellPosition(oe,r)||{}).colIndex,le=ie.map((function(e){return e.getIn([a.ITEMS,ae]).get(a.ID)})),ue=["DataSource","BindField","CombineField","BindText","CustomField"];le.forEach((function(t){s.uiModel.findAllReletiveChildIds(e,t,m).forEach((function(t){ue.forEach((function(r){e=s.uiModel.updatePropValue({fieldId:t,propName:r,value:void 0,metaType:"formmeta"})(e)}))}))})),e=s.uiModel.updatePropValue({fieldId:r,propName:u,value:d,metaType:"formmeta"})(e)}else if("MarginTop"===u||"MarginBottom"===u){var de=s.uiModel.getRootId(e);if(e=s.uiModel.updatePropValue({fieldId:r,propName:u,value:d,metaType:"formmeta"})(e),de!==r)return e;var ce=s.uiModel.getUIFieldInfo(e,de),se=ce&&ce.getIn(["Items"])&&ce.getIn(["Items"]).find((function(e){return"Footer"===e.get("Type")}));if(!se)return e;var fe=s.uiModel.getFormFieldInfo(e,se.get("Id")),pe=(0,f.convertMMToNum)(b.get("Height")),ge=(0,f.convertMMToNum)(b.get("MarginBottom")),me=(0,f.convertMMToNum)(b.get("MarginTop")),ye=pe-ge-(0,f.convertMMToNum)(fe.get("Height",15))-me;e=s.uiModel.updatePropValue({fieldId:se.get("Id"),propName:"Y",value:ye+"mm",metaType:a.FORMMETA})(e)}}else{("BindType"===u?["DataSource","BindField","CombineField","BindText","CustomField"]:["BindField","CombineField","CustomField"]).forEach((function(t){e=s.uiModel.updatePropValue({fieldId:r,propName:t,value:void 0,metaType:"formmeta",uiConfig:y})(e)}))}return e}function Z(e,t,r,n){var i="string"==typeof r?o.List.of(r):r,l=s.uiModel.getContainerControl(e,t,!0,n);if(!l)return e;var d=l.control.get(a.ID),f=l.control.get(a.TYPE);t=l.targetId;var p=l.targetIndex,g=(0,o.List)();return i.forEach((function(r){var i=s.uiModel.getUIFieldInfo(e,r);if(t!=r){var l=s.uiModel.getContainerControl(e,r),f=l&&l.control.get(a.ID);(t||f!=d)&&((0,u.getTreeUtils)((0,o.Seq)(),a.ID,a.ITEMS).byId(i,d)||(0,c.canAddControl)(e,{parentId:d,ctrlId:r,uiConfig:n})&&(e=s.uiModel.deleteUIItem(r)(e),g=g.push(i),d==f&&l.targetIndex<p&&p--))}})),g.size>0&&(e=s.uiModel.addUIItem(d,g,p)(e),e=s.uiModel.updateParentId(d)(e),e=s.uiModel.updateFormIndex(d)(e),g.forEach((function(t){var r=t.get(a.ID),o=s.uiModel.getFormFieldInfo(e,r);o.get("X")&&(e=s.uiModel.updatePropValue({fieldId:r,propName:"X",value:"0mm",metaType:"formmeta"})(e),e=s.uiModel.updatePropValue({fieldId:r,propName:"Y",value:"0mm",metaType:"formmeta"})(e));var i=o.get(a._TYPE_);S.includes(i)&&(e=N({parentType:f,uiInfo:e,fieldId:r,uiConfig:n}))}))),e}function $(e,t,r,i){var l,u=null==r;if(u){if(!(l=(0,c.getCopyContent)())||e.get("modelType")!=l.get("modelType"))return e}else l=(0,c.createUIInfo)(e,(0,d.convertToList)(r));var f=s.uiModel.getContainerControl(e,t,!0,i);if(!f)return e;var p=f.control.get(a.ID),g=f.control.get(a.TYPE);t=f.targetId;var m=f.targetIndex,y=(0,o.List)(),v=(0,o.List)(),h=l.getIn(["ui",a.ITEMS],(0,o.List)());return n.default.endsWith(h.getIn([0,a.TYPE],""),"Cell")&&0===(h=h.getIn([0,a.ITEMS],(0,o.List)([]))).size||(h.forEach((function(t){var r=t.get(a.ID),n=t.get(a.TYPE),d={parentId:p,ctrlType:n,uiConfig:i};if(u||(d.ctrlId=r),(0,c.canAddControl)(e,d)){var s=(0,c.cloneControls)(e,l,r,p);y=y.push(s.get("ui"));var f,g=s.get("formmeta",(0,o.List)());if(g.size>0)v=(f=v).push.apply(f,I(g))}})),y.size>0&&(u||(m=1===y.size?m:null),e=s.uiModel.addUIItem(p,y,m)(e),v=v.map((function(e){return e=function(e){return e.filterNot((function(e,t){return"Inherit"==t}))}(e),S.includes(e.get(a._TYPE_))&&j.includes(g)&&(e=function(e){return e=e.set("HorizontalFill",!0),e=e.set("VerticalFill",!0),e}(e)),function(e){e.get("X")&&(e=(e=e.set("X","0mm")).set("Y","0mm"));return e}(e)})),e=s.uiModel.addFormItem(v)(e),e=s.uiModel.updateFormIndex(p)(e))),e}function ee(e,t){var r=t.fieldId,n=t.propName,o=t.uiConfig,i=s.uiModel.getPropertyValue(e,r,n,a.FORMMETA);return!0===i?K(e,r,n,i,o):e}function te(e,t){var r=t.selIds;return(r=(0,o.List)(r))&&0!==r.size?e=(e=(e=e.set("select_control_ids",r)).set("select_control_id",r.last())).set("dragover_control_id",""):e}},178460:function(e,t,r){"use strict";r(606200),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(609568)),o=r(141170),i=u(r(843780)),a=u(r(426280)),l=u(r(264596));function u(e){return e&&e.__esModule?e:{default:e}}var d=(0,o.applyMiddleware)(n.default,i.default,a.default,l.default)(o.createStore);t.default=d},843780:function(e,t,r){"use strict";r(606200),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(182320),r(909112),r(697060),r(743924),r(976896),r(721300),r(387912),r(690512),r(78504),r(977864);var n,o=(n=r(470284))&&n.__esModule?n:{default:n};function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}var a=function(e,t,r){switch(t){case"warning":console.warn(e);break;case"error":console.error(e)}r&&(0,o.default)(r,e,t||"message")};t.default=function(e){return function(t){return function(r){try{return t(r)}catch(t){var n="message",o=e.getState(),l=o&&o.shareState&&o.shareState.get("pageId");if("object"!==i(t))a(t,n,l);else{if("Object"!=t.constructor.name)throw t;a(t.message||t.msg||t.toString(),t.type||n,l)}}}}}},686272:function(e,t,r){"use strict";r(606200),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return{ui:(0,n.Map)(),metadata:(0,n.Map)(),shareState:(0,n.Map)({pageId:e})}};var n=r(891052)},426280:function(e,t,r){"use strict";r(606200),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(443616),r(660824);var n,o=(n=r(790832))&&n.__esModule?n:{default:n},i=r(891052),a=r(579016);var l=[a.set_ui_info,a.add_control,a.add_field_control,a.delete_control,a.copy_and_add,a.move_control,a.paste_control,a.moveto_control,a.select_control_id,a.update_prop_value,a.apply_page_template,a.apply_container_template,a.apply_control_template,a.add_template_fragment,a.add_entity_info,a.paste_control_style];t.default=function(e){return function(t){return function(r){var n=e.getState().ui,u=t(r),d=e.getState().ui;return o.default.includes(l,r.type)&&!(0,i.is)(n.get("uiInfo"),d.get("uiInfo"))&&((0,i.is)(n.getIn(["uiInfo","ui"]),d.getIn(["uiInfo","ui"]))&&(0,i.is)(n.getIn(["uiInfo","formmeta"]),d.getIn(["uiInfo","formmeta"]))||e.dispatch({type:a.push_undo})),r.type!==a.convert_appmodelfunction||(0,i.is)(n.get("uiInfo"),d.get("uiInfo"))||(0,i.is)(n.getIn(["uiInfo","ui"]),d.getIn(["uiInfo","ui"]))&&(0,i.is)(n.getIn(["uiInfo","formmeta"]),d.getIn(["uiInfo","formmeta"]))||e.dispatch({type:a.undo_ui_info_and_push_undo}),u}}}},264596:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(743924),r(606200),r(534440),r(78504),r(776512),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(9692),r(233696),r(443616),r(241872),r(387912),r(660824),r(997308);var o,i=r(891052),a=(o=r(790832))&&o.__esModule?o:{default:o},l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=d(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}return o.default=e,r&&r.set(e,o),o}(r(579016)),u=r(489912);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(d=function(e){return e?r:t})(e)}var c=[l.dragover_control,l.select_control_id,l.move_control,l.copy_control,l.undo_ui_info,l.redo_ui_info,l.add_control,l.add_field_control,l.delete_control,l.update_prop_value,l.paste_control,l.moveto_control,l.copy_and_add,l.add_template_fragment,l.add_entity_info];t.default=function(e){return function(t){return function(r){var n,o=e.getState().ui,d=t(r),s=e.getState().ui;if([l.set_ui_info,l.apply_page_template,l.refresh_all_controls].includes(r.type))n=(0,i.Set)([-1]);else if(a.default.indexOf(c,r.type)>=0&&u.printModel.isPrintModel(s.get("uiInfo")))n=(0,i.Set)([0]);else if(a.default.indexOf(c,r.type)>=0){var f=o.get("dragover_control_id"),p=o.get("select_control_id"),g=o.get("select_control_ids",(0,i.List)()),m=s.get("dragover_control_id"),y=s.get("select_control_id"),v=s.get("select_control_ids",(0,i.List)());if(f!=m||p!=y||!(0,i.is)(g,v)){n=(n=(0,i.Set)([f,p,m,y])).concat(g,v);var h=o.get("uiInfo"),b=s.get("uiInfo"),I=(0,i.Set)();n.forEach((function(e){if(e){var t=u.uiModel.getAncestorIds(h,e),n=u.uiModel.getAncestorIds(b,e);r.type===l.select_control_id&&o.get("format_control_id")&&(n=n.concat(u.uiModel.getDescendantIds(b,v))),I=I.concat(t).concat(n)}})),n=n.concat(I)}}else if(r.type===l.paste_control_style){var A=s.get("select_control_ids",(0,i.List)()),E=s.get("uiInfo");n=(0,i.Set)(A).concat(u.uiModel.getDescendantIds(E,A))}return n&&e.dispatch({type:l.set_refresh_ctrl_ids,value:n}),d}}}},279284:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(360776),r(622676),r(743924),r(205960),r(846428),r(969e3),r(606200),r(534440),r(76152),r(76124),r(78504),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.getDefControlJson=function(e,t,r){var n=m[e];if("MobileMToolbarAp"===e){var o=t.get("Items");if(!o)return[];var u=o.size,d=o.map((function(e){return l.uiModel.getFormFieldInfo(r,e.get("Id"))}));n=(0,a.default)("",u,d,m[e])}return(0,i.fromJS)(n)},t.getFilterOptions=function(e){if("MobileCardRowPanelAp"===e||"CardRowPanelAp"===e)return(0,i.List)([(0,c.getLangMsg)("bosd.template.key0001"),(0,c.getLangMsg)("bosd.template.key0002"),(0,c.getLangMsg)("bosd.template.key0003")])},t.getRemoteSchemes=v,t.getRemoteTemplateByCtlType=h,t.getTemplateScheme=function(e,t,r,n,o){(0,u.getTemplateSchemeWithCache)(e,t).then((function(e){var i=e;i=function(e,t){var r=b(e,t[0].children),n=[];"CardRowPanelAp"!==e&&"MobileCardRowPanelAp"!==e||(r.forEach((function(e){e.items.forEach((function(e){n.push(e)}))})),r=n);return r}(t,i),i=v(t,r,n,i),o(t,i)}))},t.hasSchemes=y,t.hasSchemesOfController=function(e){return["MobileButtonAp","MobileLabelAp","MobileMToolbarAp","MobileRateAp","MobileProgressBarAp","MobileSuspendButtonAp","MobileTimelineAp","MobileCountDownAp","MobileStepsAp","MobileFieldAp","MobileCardEntryFieldAp"].includes(e)},t.hasSchemesSelectControl=function(e,t){if(!e)return!1;var r="";return e.every((function(e){var n,o=l.uiModel.getUIFieldInfo(t,e),i=o&&o.get(d.TYPE),a=t.get("isPC")?i:"Mobile".concat(i);if(r||(r=a),r&&a!==r)return!1;if("MobileMToolbarAp"===r){var u=l.uiModel.getParentControl(t,e);n=u&&u.get("Type")}var c=null==o?void 0:o.get("FieldType");return y(r,{parentType:n,fieldType:c})}))},t.isGroupScheme=function(e){return["MobileButtonAp","MobileLabelAp","MobileMToolbarAp","MobileRateAp","MobileProgressBarAp","MobileSuspendButtonAp","MobileTimelineAp","MobileCountDownAp","MobileStepsAp","MobileFieldAp","MobileCardEntryFieldAp"].indexOf(e)>-1},t.preventOverWriteingStyle=b,r(941408),r(233696),r(443616),r(241872),r(835164),r(721300),r(387912),r(997308);var o,i=r(891052),a=(o=r(469712))&&o.__esModule?o:{default:o},l=r(489912),u=r(445808),d=r(65624),c=r(331428);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){var o;return o=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==n(o)?o:String(o))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g={mbButtonExcludeProps:["Id","_Type_","Key","Name","ParentId","Hidden","Visible","Lock","CommitValidate","OperationKey","BusyTip","ControlLoading","Index"],mbLabelExcludeProps:["Id","_Type_","Key","Name","ParentId","Hidden","Visible","Lock","Clickable","Uploadable","OperationKey","UploadConfig","ControlLoading","Index"],mbRateExcludeProps:["Id","_Type_","Key","Name","ParentId","Hidden","Visible","Lock","RateType","ShowTextType","RateMode","StarsNum","Index"],mbTimelineExcludeProps:["Id","_Type_","Key","Name","ParentId","Hidden","Visible","Lock","TimelineOptions","Index"],mbStepsExcludeProps:["Id","_Type_","Key","Name","ParentId","Hidden","Visible","Lock","StepLength","StepsOptions","Index"]},m={MobileButtonAp:{formMeta:{AlignSelf:"default",Style:{Padding:{Left:"",Right:""},Margin:{Left:"",Right:""}},Height:void 0,ButtonStyle:0,ImageKey:void 0,ForeColor:""},excludeProp:["Id","_Type_","Key","Name","ParentId","Hidden","Visible","Lock","OperationKey","BusyTip","ControlLoading"]},MobileLabelAp:{formMeta:{AlignSelf:"default",BackColor:"",LabelStyle:"1",Style:{Padding:{Left:"",Right:""}},ForeColor:""},excludeProp:["Id","_Type_","Key","Name","ParentId","Hidden","Visible","Lock","Clickable","AlignSelf"]},MobileMToolbarAp:{formMeta:{TextStyle:0,Position:2,flex:{Grow:0},Shrink:0,items:[{formMeta:{Index:2,FontWeight:"normal"},excludeProp:["Id","_Type_","Key","Name","ParentId","Hidden","Visible","Lock","ImageKey","ImgHeight","ImgWidth","OperationKey","fontClass","DropdownItems","BusyTip","CommitValidate","ControlLoading"]},{formMeta:{Index:1,FontWeight:"normal"},excludeProp:["Id","_Type_","Key","Name","ParentId","Hidden","Visible","Lock","ImageKey","ImgHeight","ImgWidth","OperationKey","fontClass","DropdownItems","BusyTip","CommitValidate","ControlLoading"]}]},excludeProp:["Id","_Type_","Key","Name","ParentId","Hidden","Visible","Lock","Width","Height","Position"]},MobileRateAp:{formMeta:{StarsNum:5,AlignSelf:"default",ShowTextType:0,BackColor:"#ffffff",Zindex:"0",RateType:"normal",LightStarsNum:3},excludeProp:["Id","_Type_","Key","Name","ParentId","AlignSelf"]},MobileProgressBarAp:{excludeProp:["Id","_Type_","Key","Name","ParentId"],formMeta:{ProgressBarStyle:0,StrokeWidth:0}},MobileSuspendButtonAp:{excludeProp:["Id","_Type_","Key","ParentId","OffsetV","OffsetH","FloatPos","AlignSelf","DropdownItems","Name"],formMeta:{BackColor:"#276FF5",ForeColor:"#FFFFFF",ShowTitle:!1,TextBtnIcon:"kdfont kdfont-zengjia3",Width:"48px",Height:"48px",Pinned:!0}},MobileTimelineAp:{excludeProp:["Id","_Type_","Key","Name","ParentId","AlignSelf","TimelineOptions"],formMeta:{AxisPosition:"left",Index:10,LayoutType:"leftandright"}},MobileCountDownAp:{formMeta:{CountdownStyle:1,ForeColor:"",CountdownSplitMode:1,CountdownShowDay:!1,Index:10,BackColor:""}},MobileStepsAp:{excludeProp:["Id","_Type_","Key","Name","ParentId","AlignSelf","StepLength","StepsOptions"],formMeta:{StepsType:"normal",Index:6,StepLength:4,StepsDirection:"horizontal"}},MobileFieldAp:{excludeProp:["Id","_Type_","Key","Name","ParentId","Index","FieldId"],formMeta:{LabelDirection:"h",ValueAreaStyle:"underline",MobFieldPattern:1}},MobileCardEntryFieldAp:{excludeProp:["Id","_Type_","Key","Name","ParentId","Index","FieldId"],formMeta:{LabelDirection_New:"h",ValueAreaStyle_New:"underline",MobFieldPattern:1}}};function y(e,t){var r=t.parentType,n=void 0===r?"":r,o=t.fieldType,i=void 0===o?"":o;if("MobileMToolbarAp"===e&&["CardEntryRowAp","CardRowPanelAp","CardEntryFlexPanelAp","CardFlexPanelAp"].includes(n))return!1;return("MobileFieldAp"!==e&&"MobileCardEntryFieldAp"!==e||!["CheckBoxField","RadioField","PictureField","AttachmentField","UserAvatarField","RadioGroupField","SignatureField"].includes(i))&&["MobileButtonAp","MobileLabelAp","MobileMToolbarAp","MobileRateAp","CardRowPanelAp","MobileCardRowPanelAp","MobileProgressBarAp","MobileSuspendButtonAp","MobileTimelineAp","MobileCountDownAp","MobileStepsAp","MobileFieldAp","MobileCardEntryFieldAp"].includes(e)}function v(e,t,r,n){return(0,i.fromJS)(h(e,t,r,n))}function h(e,t,r,n){if("MobileMToolbarAp"===e&&t){var o=t.get("Items");if(!o)return[];var i=o.size,u=o.map((function(e){return l.uiModel.getFormFieldInfo(r,e.get("Id"))}));return n.map((function(e){var t=e.items.map((function(e){var t=(0,a.default)(e.name,i,u,e.json);return f(f({},e),{},{json:t})}));return f(f({},e),{},{items:t})}))}return n}function b(e,t){var r;if("MobileButtonAp"===e)r="mbButtonExcludeProps";else if("MobileLabelAp"===e)r="mbLabelExcludeProps";else if("MobileRateAp"===e)r="mbRateExcludeProps";else if("MobileTimelineAp"===e)r="mbTimelineExcludeProps";else{if("MobileStepsAp"!==e)return t;r="mbStepsExcludeProps"}return t.map((function(e,t){return e.items.map((function(e,t){return e.json.excludeProp=g[r],e})),e}))}},469712:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(360776),r(622676),r(233696),r(743924),r(205960),r(846428),r(969e3),r(606200),r(534440),r(76152),r(76124),r(387912),r(78504),r(997308),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(835164);(o=r(146624))&&o.__esModule;var o,i=r(891052);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){var o;return o=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==n(o)?o:String(o))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}t.default=function(e,t,r,n){var o=n;if(o&&o.formMeta){var a=(o=(0,i.fromJS)(o)).get("formMeta"),u=o.getIn(["formMeta","items"]);if(!u)return o;var d=u.get(1),c=u.get(0),s=[];r.map((function(e,r){var n=e&&e.get("ImageKey"),o=r===t-1?c:d;n&&(o=(o=(o=o.deleteIn(["formMeta","ImageKey"])).deleteIn(["formMeta","ImgWidth"])).deleteIn(["formMeta","ImgHeight"])),s.push(o)}));var f=a.set("items",s);return l(l({},o),{},{formMeta:f})}}},406660:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(360776),r(743924),r(205960),r(846428),r(606200),r(78504),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.getGroupControls=function(e){if(!o.List.isList(e))return e;var t=(0,o.List)([]);return e.forEach((function(e){var r=e,n={},u={};r=r.set(i.CHILDERN,(0,o.List)([])),o.List.isList(null==e?void 0:e.get(i.CHILDERN))&&e.get(i.CHILDERN).forEach((function(e){var t=e.get(i.TYPE);if(a.DROPDOWN_CONTROL_FIELDS.includes(t))r=r.update(i.CHILDERN,(function(r){return n[t]=r.size,r.push((0,o.fromJS)(l(l(l(l(l({controlType:a.DROPDOWN},i.ID,e.get(i.ID)),i.TYPE,e.get(i.TYPE)),"name",e.get(i.CTRL_NAME)),"ctrl",e),"children",(0,o.List)([]))))}));else{var d=e.get(i.OWNER_TYPE_ID);if(a.DROPDOWN_CONTROL_FIELDS.includes(d))return u[d]||(u[d]=(0,o.List)([])),void(u[d]=u[d].push(e));r=r.update(i.CHILDERN,(function(t){return t.push(e)}))}})),Object.keys(u).forEach((function(e){n.hasOwnProperty(e)&&(r=r.update(i.CHILDERN,(function(t){return t.update(n[e],(function(t){return t.set(i.CHILDERN,u[e])}))})))})),t=t.push(r)})),t},r(233696),r(443616),r(76124),r(387912),r(660824),r(997308);var o=r(891052),i=r(65624),a=r(331448);function l(e,t,r){var o;return o=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==n(o)?o:String(o))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},348196:function(e,t,r){"use strict";r(606200),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(305092),r(241872),r(387912),r(694904);var n,o=(n=r(790832))&&n.__esModule?n:{default:n},i=r(331428);var a={require:function(){return function(e){return e||0===e?{success:!0}:{success:!1,message:(0,i.getLangMsg)("bosd.validator.key0001")}}},unique:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(t){return e.indexOf(t)>=0?{success:!1,message:(0,i.getLangMsg)("bosd.validator.key0002")}:{success:!0}}},reservedWord:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(t){var r=o.default.find(e,(function(e){return e.toLowerCase()===t.toLowerCase()}));return r?{success:!1,message:(0,i.getLangMsg)({key:"bosd.validator.key0002",variables:{rValue:r}})}:{success:!0}}},beginWith:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(t){var r=o.default.find(e,(function(e){return o.default.startsWith(t.toLowerCase(),e.toLowerCase())}));return r?{success:!1,message:(0,i.getLangMsg)({key:"bosd.validator.key0002",variables:{rValue:r}})}:{success:!0}}}};t.default=a},561908:function(e,t,r){"use strict";r(182320),r(909112),r(697060),r(360776),r(622676),r(743924),r(205960),r(846428),r(708896),r(969e3),r(606200),r(534440),r(76152),r(670864),r(76124),r(836887),r(78504),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(9692),r(233696),r(443616),r(323784),r(835164),r(297336),r(880920),r(387912),r(660824),r(997308);var n=f(r(795520)),o=f(r(540900)),i=(f(r(671252)),r(891052)),a=f(r(594164)),l=r(489912),u=r(874828),d=r(65624),c=r(864792),s=r(974184);function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function y(e,t,r){return(t=h(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h(n.key),n)}}function h(e){var t=function(e,t){if("object"!=m(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==m(t)?t:String(t)}function b(e,t,r){return t=A(t),function(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return E(e)}(e,I()?Reflect.construct(t,r||[],A(e).constructor):t.apply(e,r))}function I(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(I=function(){return!!e})()}function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},A(e)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e,t){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},M(e,t)}var C=(0,c.getTreeUtils)((0,i.Seq)(["ui"]),d.ID,d.ITEMS),P=function(e){function t(e){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=b(this,t,[e]);var n=(0,i.Map)().set("ui",r.createItem({ctrlType:e.ctrlInfo},e));return r.state={step:1,data:n,validateResult:(0,i.Map)()},r.initPages=(0,i.Set)(),r.onSubmit=r.onSubmit.bind(E(r)),r.go=r.go.bind(E(r)),r.setButtonState=r.setButtonState.bind(E(r)),r.createItem=r.createItem.bind(E(r)),r.addItem=r.addItem.bind(E(r)),r.setItemValue=r.setItemValue.bind(E(r)),r.removeItem=r.removeItem.bind(E(r)),r.getItem=r.getItem.bind(E(r)),r.getItemValue=r.getItemValue.bind(E(r)),r.getRootId=r.getRootId.bind(E(r)),r.setValidation=r.setValidation.bind(E(r)),r.getValidation=r.getValidation.bind(E(r)),r}var r,o,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M(e,t)}(t,e),r=t,o=[{key:"componentDidMount",value:function(){if(this.props.setCallback&&this.props.setCallback(this.onSubmit),this.props.setDoStep&&this.props.setDoStep(this.go),this.props.setButtonState){var e={pre:!1,next:!0,cancel:!0,ok:!1},t=this.props.children,r=void 0===t?[]:t;e.ok=0===r.length,this.setButtonState(e)}}},{key:"createItem",value:function(e){var t=e.ctrlType,r=e.fieldType,n=e.parentType,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props,a=o.uiInfo,c=o.uiConfig,s=l.uiModel.getTypeInfo({ctrlType:t,fieldType:r,parentType:n},c);t=s.ctrlType,r=s.fieldType;var f=(this.state||{}).data,p=void 0===f?(0,i.Map)():f,g=this.getAllKeys(p.get("ui",(0,i.Map)())),m=(0,u.createNewId)(),v=(0,u.createNewKey)(a,r||t,g),h=l.metadataModel.getConfigCtrlName(r||t,c),b=y(y(y(y({},d.ID,m),d.KEY,v),d.NAME,h),d.TYPE,t);return r&&(b.FieldType=r),(0,i.Map)(b)}},{key:"getAllKeys",value:function(e){var t=[];return function e(r){t.push(r.get(d.KEY)),r.get(d.ITEMS,(0,i.List)()).forEach((function(t){e(t)}))}(e),t}},{key:"addItem",value:function(e,t){var r=this.state.data,n=this.getItem(t).get(d.TYPE),o=this.createItem({ctrlType:e,parentType:n}),a=C.byId(r,t);return r=r.updateIn(a.concat(d.ITEMS),(0,i.List)(),(function(e){return e.push(o)})),this.setState({data:r}),o}},{key:"setItemValue",value:function(e,t,r,n){var o=this.state.data,i=C.byId(o,e);i&&(i=n===d.ENTITYMETA?i.concat(["Entity",t]):i.concat([t]),o=o.setIn(i,r),this.setState({data:o}))}},{key:"removeItem",value:function(e){var t=this.state.data,r=e;Array.isArray(e)||(r=[e]),r.forEach((function(e){var r=C.byId(t,e);r&&(t=t.deleteIn(r))})),this.setState({data:t})}},{key:"getItem",value:function(e){var t=this.state.data,r=C.byId(t,e);if(r)return t.getIn(r)}},{key:"getItemValue",value:function(e,t,r){var n=this.getItem(e);if(n)return r===d.ENTITYMETA?n.getIn(["Entity",t]):n.getIn([t])}},{key:"getRootId",value:function(){return(this.state||{}).data.getIn(["ui",d.ID])}},{key:"setButtonState",value:function(e){if("object"===m(e)&&this.props.setButtonState){var t={};for(var r in e)"boolean"==typeof e[r]&&(t[r]=e[r]?"visible":"hidden");this.props.setButtonState(t)}}},{key:"onSubmit",value:function(){if(this.getValidation())return this.state.data.get("ui",(0,i.Map)()).toJS()}},{key:"go",value:function(e){if(this.getValidation()){var t=this.props.children,r=(void 0===t?[]:t).length;e=(e=(e+=this.state.step)<1?1:e)>r?r:e,this.setState({step:e});var n={};n.pre=1!==e,n.next=e!==r,n.ok=e===r,this.setButtonState(n)}}},{key:"setValidation",value:function(e){var t=e.id,r=e.propName,n=e.message,o=e.success,i=this.state.validateResult;i=(i=i.setIn([t,r,"Message"],n)).setIn([t,r,"Success"],o),this.setState({validateResult:i})}},{key:"getValidation",value:function(e,t){var r=this.state.validateResult;if(e){var n=[e];return t&&n.push(t),r.getIn(n)}var o=!0;return r.forEach((function(e){return e.forEach((function(e){return o=e.get("Success",!0)})),o})),o}},{key:"render",value:function(){var e=this,t=this.props,r=t.className,o=t.style,i=t.children,l=void 0===i?[]:i,u=t.uiInfo,d=t.uiConfig,c=this.state,f=c.step,p=c.data,m={getValidation:this.getValidation,setValidation:this.setValidation},y={addItem:this.addItem,setItemValue:this.setItemValue,removeItem:this.removeItem,getItem:this.getItem,getItemValue:this.getItemValue,go:this.go,setButtonState:this.setButtonState,getRootId:this.getRootId,uiInfo:u,uiConfig:d,data:p};return l=n.default.Children.map(l,(function(t,r){var o=t.key||r;return f-1===r?(e.initPages=e.initPages.add(o),n.default.cloneElement(t,y)):e.initPages.includes(o)?n.default.cloneElement(t,g(g({},y),{},{className:a.default.hidden})):null})),n.default.createElement(s.WizardContext.Provider,{value:m},n.default.createElement("div",{className:r,style:o},l))}}],o&&v(r.prototype,o),c&&v(r,c),Object.defineProperty(r,"prototype",{writable:!1}),t}(n.default.Component);P.propTypes={uiInfo:o.default.object.isRequired,uiConfig:o.default.object.isRequired,ctrlInfo:o.default.oneOfType([o.default.string,o.default.object]).isRequired,setCallback:o.default.func,setDoStep:o.default.func,setButtonState:o.default.func};t.default=P},941204:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(360776),r(241872),r(743924),r(205960),r(846428),r(336368),r(708896),r(606200),r(670864),r(76124),r(387912),r(836887),r(78504),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(297336),r(880920);var o=u(r(795520)),i=(u(r(540900)),u(r(671252))),a=u(r(681680)),l=["addonBefore","addonAfter","className"];function u(e){return e&&e.__esModule?e:{default:e}}function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d.apply(this,arguments)}function c(e,t,r){return(t=p(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p(n.key),n)}}function p(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:String(t)}function g(e,t,r){return t=y(t),function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,m()?Reflect.construct(t,r||[],y(e).constructor):t.apply(e,r))}function m(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(m=function(){return!!e})()}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}var h=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),g(this,t,[e])}var r,n,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(t,e),r=t,(n=[{key:"render",value:function(){var e=this.props,t=(e.addonBefore,e.addonAfter,e.className),r=s(e,l);return t=(0,i.default)(c(c({},a.default.input,!0),t,t)),o.default.createElement("input",d({},r,{className:t}))}}])&&f(r.prototype,n),u&&f(r,u),Object.defineProperty(r,"prototype",{writable:!1}),t}(o.default.Component);h.defaultProps={type:"text"};t.default=h},390040:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(360776),r(743924),r(205960),r(846428),r(336368),r(708896),r(606200),r(534440),r(670864),r(76124),r(836887),r(78504),r(776512),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(622676),r(233696),r(241872),r(297336),r(880920),r(387912),r(997308);var o=m(r(795520)),i=m(r(540900)),a=m(r(671252)),l=r(891052),u=m(r(790832)),d=m(r(829592)),c=m(r(348196)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=g(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}return o.default=e,r&&r.set(e,o),o}(r(399412)),f=r(974184),p=["validations"];function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(g=function(e){return e?r:t})(e)}function m(e){return e&&e.__esModule?e:{default:e}}function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y.apply(this,arguments)}function v(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function h(e,t,r){return(t=I(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,I(n.key),n)}}function I(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:String(t)}function A(e,t,r){return t=M(t),function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return C(e)}(e,E()?Reflect.construct(t,r||[],M(e).constructor):t.apply(e,r))}function E(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(E=function(){return!!e})()}function M(e){return M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},M(e)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e,t){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},P(e,t)}var w=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=A(this,t,[e])).onChange=r.onChange.bind(C(r)),r}var r,n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P(e,t)}(t,e),r=t,(n=[{key:"componentDidMount",value:function(){this.onValidate(this.props.value)}},{key:"onValidate",value:function(e){var t=this.props.validations;if(t&&0!==(t=u.default.filter(t,(function(e){return"lowerCase"!==e}))).length){var r;u.default.forEach(t,(function(t){var n;if("string"==typeof t?(n=c.default[t])&&(n=n()):"function"==typeof t&&(n=t),"function"==typeof n&&(r=n(e)),r&&!0!==r.success)return!1}));var n="",o=!0;r&&(n=r.message,o=r.success);var i=this.props,a=i.id,l=i.prop.get("name");this.context.setValidation({id:a,propName:l,message:n,success:o})}}},{key:"onChange",value:function(e){this.onValidate(e);var t=this.props.validations;t&&t.indexOf("lowerCase")>=0&&(e=e.toLowerCase()),this.props.onChange(e)}},{key:"getValidation",value:function(){var e=this.props,t=e.id,r=e.prop.get("name"),n=this.context.getValidation(t,r);return l.Map.isMap(n)?n:null}},{key:"render",value:function(){var e=this.props,t=e.className,r=e.style,n=e.labelStyle,i=e.prop;t=(0,a.default)(h(h({},d.default.root,!0),t,t));var c=this.props,f=(c.validations,v(c,p)),g=i.get("name"),m=i.get("alias")||g,b=i.get("Editor",(0,l.Map)()).get("type"),I=s["".concat(u.default.upperFirst(b),"PropertyEditor")]||s.TextPropertyEditor,A=this.getValidation(),E=(0,a.default)(h(h({},d.default.error,!0),d.default.hidden,!A||0!=A.get("Success")));return o.default.createElement("div",{className:t,style:r},o.default.createElement("div",{className:d.default.title,style:n,title:m},m),o.default.createElement("div",{className:d.default.content},o.default.createElement(I,y({},f,{onChange:this.onChange})),o.default.createElement("div",{className:E},A&&A.get("Message"))))}}])&&b(r.prototype,n),i&&b(r,i),Object.defineProperty(r,"prototype",{writable:!1}),t}(o.default.Component);w.propTypes={validations:i.default.array},w.contextType=f.WizardContext;t.default=w},775996:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(360776),r(241872),r(743924),r(205960),r(846428),r(336368),r(708896),r(606200),r(670864),r(76124),r(387912),r(836887),r(78504),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(297336),r(880920);var o=d(r(795520)),i=(d(r(540900)),d(r(671252))),a=(r(891052),r(438728),d(r(168156))),l=(d(r(348196)),d(r(941204))),u=["className","style","labelStyle","title","prop","onValidate","uiInfo","data"];function d(e){return e&&e.__esModule?e:{default:e}}function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c.apply(this,arguments)}function s(e,t,r){return(t=g(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g(n.key),n)}}function g(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:String(t)}function m(e,t,r){return t=v(t),function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}(e,y()?Reflect.construct(t,r||[],v(e).constructor):t.apply(e,r))}function y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(y=function(){return!!e})()}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}var I=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=m(this,t,[e])).onChange=r.onChange.bind(h(r)),r}var r,n,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(t,e),r=t,(n=[{key:"componentWillReceiveProps",value:function(e){}},{key:"componentDidMount",value:function(){}},{key:"onChange",value:function(e){this.props.onChange&&this.props.onChange(e.target.value)}},{key:"render",value:function(){var e=this.props,t=e.className,r=(e.style,e.labelStyle,e.title,e.prop,e.onValidate,e.uiInfo,e.data,f(e,u));return(0,i.default)(s(s({},a.default.root,!0),t,t)),o.default.createElement(l.default,c({type:"text"},r,{onChange:this.onChange}))}}])&&p(r.prototype,n),d&&p(r,d),Object.defineProperty(r,"prototype",{writable:!1}),t}(o.default.Component);t.default=I},399412:function(e,t,r){"use strict";r(606200),Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"TextPropertyEditor",{enumerable:!0,get:function(){return o.default}});var n,o=(n=r(775996))&&n.__esModule?n:{default:n}},616488:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(360776),r(743924),r(205960),r(846428),r(708896),r(606200),r(670864),r(387912),r(836887),r(78504),r(977864),r(297336),r(336368),r(880920);var o=i(r(795520));i(r(99808));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function l(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:String(t)}function u(e,t,r){return t=c(t),function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,d()?Reflect.construct(t,r||[],c(e).constructor):t.apply(e,r))}function d(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(d=function(){return!!e})()}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}o.default.Component},60112:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(360776),r(743924),r(205960),r(846428),r(708896),r(606200),r(670864),r(836887),r(78504),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(9692),r(622676),r(233696),r(241872),r(835164),r(297336),r(880920),r(387912),r(997308);var o=g(r(795520)),i=(g(r(540900)),g(r(671252))),a=r(891052),l=g(r(790832)),u=g(r(406240)),d=r(65624),c=r(438728),s=r(489912),f=g(r(390040)),p=g(r(348196));function g(e){return e&&e.__esModule?e:{default:e}}function m(e,t,r){return(t=v(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v(n.key),n)}}function v(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:String(t)}function h(e,t,r){return t=I(t),function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return A(e)}(e,b()?Reflect.construct(t,r||[],I(e).constructor):t.apply(e,r))}function b(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(b=function(){return!!e})()}function I(e){return I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},I(e)}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},E(e,t)}var M=[d.KEY,d.NAME,"TableName"],C=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=h(this,t,[e])).onChange=r.onChange.bind(A(r)),r}var r,n,g;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E(e,t)}(t,e),r=t,(n=[{key:"onChange",value:function(e,t,r){var n=this.props.getRootId();this.props.setItemValue(n,e,t,r)}},{key:"getAllKeys",value:function(){var e=this.props,t=e.data,r=e.uiInfo,n=[];return r.getIn([d.FORMMETA,d.ITEMS],(0,a.List)()).forEach((function(e){return n.push(e.get(d.KEY))})),function e(t){n.push(t.get(d.KEY)),t.get(d.ITEMS,(0,a.List)()).forEach((function(t){return e(t)}))}(t.get("ui",(0,a.Map)())),n}},{key:"renderProp",value:function(e,t){var r=this,n=this.props.getRootId(),i=e.get("name"),a=this.props.getItemValue(n,i,t),s=[];switch(i){case d.KEY:s.push("lowerCase"),s.push("require");var g=l.default.filter(this.getAllKeys(),(function(e){return e!=a}));s.push(p.default.unique(g));var m=l.default.clone(c.RESERVEDFILEDKEYS);m.push(" "),s.push(p.default.reservedWord(m)),s.push(p.default.beginWith(["$$"]));break;case"TableName":case"PkFieldName":case"FieldName":s.push("lowerCase"),s.push(p.default.reservedWord(c.SPECIAL_WORDS))}return o.default.createElement(f.default,{key:i+t,id:n,prop:e,className:u.default.item,validations:s,value:a||"",onChange:function(e){return r.onChange(i,e,t)}})}},{key:"renderProps",value:function(){var e=this,t=this.props.uiConfig,r=this.props.getRootId(),n=this.props.getItemValue(r,d.TYPE,d.FORMMETA),o=s.metadataModel.getConfigFieldByType(t,n).get("properties",(0,a.List)()).filter((function(e){return M.indexOf(e.get("name"))>=0}));o=o.map((function(t){return e.renderProp(t,d.FORMMETA)}));var i=this.props.getItemValue(r,"FieldType",d.FORMMETA),l=s.metadataModel.getConfigFieldByType(t,i).get("properties",(0,a.List)()).filter((function(e){return M.indexOf(e.get("name"))>=0&&-1===[d.ID,d.KEY,d.NAME].indexOf(e.get("name"))}));return o=o.concat(l.map((function(t){return e.renderProp(t,d.ENTITYMETA)})))}},{key:"render",value:function(){var e=this.props,t=e.style,r=e.className;return e.addItem,e.createItem,e.getItem,e.getItemValue,e.go,e.removeItem,e.setButtonState,e.setItemValue,r=(0,i.default)(m(m({},u.default.root,!0),r,r)),o.default.createElement("div",{style:t,className:r},this.renderProps())}}])&&y(r.prototype,n),g&&y(r,g),Object.defineProperty(r,"prototype",{writable:!1}),t}(o.default.Component);t.default=C},724172:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(360776),r(743924),r(205960),r(846428),r(708896),r(606200),r(670864),r(836887),r(78504),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(9692),r(622676),r(613468),r(233696),r(241872),r(835164),r(297336),r(880920),r(387912),r(997308);var o=y(r(795520)),i=(y(r(540900)),y(r(671252))),a=r(891052),l=y(r(790832)),u=r(613856),d=r(489912),c=r(65624),s=r(438728),f=y(r(915500)),p=y(r(390040)),g=y(r(707892)),m=y(r(348196));function y(e){return e&&e.__esModule?e:{default:e}}function v(e,t,r){return(t=b(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b(n.key),n)}}function b(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:String(t)}function I(e,t,r){return t=E(t),function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return M(e)}(e,A()?Reflect.construct(t,r||[],E(e).constructor):t.apply(e,r))}function A(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(A=function(){return!!e})()}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e,t){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},C(e,t)}var P=[c.KEY,c.NAME,"FieldName","DefValue"],w=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=I(this,t,[e])).state={},r.onChange=r.onChange.bind(M(r)),r.addItem=r.addItem.bind(M(r)),r}var r,n,y;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C(e,t)}(t,e),r=t,(n=[{key:"selectItem",value:function(e,t){e&&e.stopPropagation(),this.setState({select_control_id:t})}},{key:"addItem",value:function(e,t){e.stopPropagation();var r=this.props.getRootId(),n=this.props.addItem(t,r);this.selectItem(null,n.get(c.ID))}},{key:"deleteItem",value:function(e,t){e.stopPropagation();var r=this.props.getRootId(),n=this.props.getItem(r).get(c.ITEMS,(0,a.List)()),o=n.findIndex((function(e){return e.get(c.ID)===t})),i=n.size,l=null,u=n.get(o+1);(u&&o+1<i||(u=n.get(o-1))&&o-1>=0)&&(l=u.get(c.ID)),this.setState({select_control_id:l}),this.props.removeItem(t)}},{key:"deleteAddItem",value:function(e){e.stopPropagation();var t=this.props.getRootId(),r=this.props.getItem(t),n=[];r.get(c.ITEMS,(0,a.List)()).forEach((function(e){return n.push(e.get(c.ID))})),this.setState({select_control_id:null}),this.props.removeItem(n)}},{key:"isAllowAdd",value:function(e,t){var r=this.props,n=r.uiConfig,o=r.uiInfo,i=d.uiModel.getTypeInfo({ctrlType:e},n);e=i.ctrlType;var a=i.fieldType,l=!1;try{l=(0,u.canAddControl)(o,{parentId:t,ctrlType:e,fieldType:a,uiConfig:n})}catch(e){}return l}},{key:"renderControl",value:function(){var e=this,t=this.props.uiConfig,r=this.props.getRootId(),n=this.props.getItem(r),l=n.get(c.TYPE),u=n.get("FieldType"),d=(0,a.Map)({Type:l,FieldType:u}),s=t.get("groups").filter((function(e){return"Field"===e.get("BaseType")}));s=(s=s.map((function(t){return t.update("children",(function(t){return t.filter((function(t){return e.isAllowAdd(t.get(c.TYPE),d)}))}))}))).filter((function(e){return e.get("children",(0,a.List)()).size>0}));var p=(0,i.default)(v(v({},f.default.item,!0),f.default["item-hover"],!0));return(s=s.map((function(t){var r=t.get("children",(0,a.List)());return r=r.map((function(t){return o.default.createElement("div",{key:t.get(c.ID),className:p,onClick:function(r){return e.addItem(r,t.get(c.ID))}},t.get("name"))})),o.default.createElement(g.default,{key:t.get(c.ID),title:t.get("name"),className:f.default.item},r.toJS())}))).toJS()}},{key:"renderList",value:function(){var e=this,t=this.state.select_control_id,r=this.props.getRootId();return this.props.getItem(r).get(c.ITEMS,(0,a.List)()).map((function(r){var n=r.get(c.ID),i=r.get(c.KEY),a=r.get(c.NAME),l=f.default.item;return n===t&&(l+=" "+f.default["item-selected"]),o.default.createElement("div",{key:n,className:l,onClick:function(t){return e.selectItem(t,n)}},"".concat(a,"（").concat(i,"）"),o.default.createElement("div",{className:f.default.delete,onClick:function(t){return e.deleteItem(t,n)}},"×"))}))}},{key:"onChange",value:function(e,t,r){var n=this.state.select_control_id;this.props.setItemValue(n,e,t,r)}},{key:"getAllKeys",value:function(){var e=this.props,t=e.data,r=e.uiInfo,n=[];return r.getIn([c.FORMMETA,c.ITEMS],(0,a.List)()).forEach((function(e){return n.push(e.get(c.KEY))})),function e(t){n.push(t.get(c.KEY)),t.get(c.ITEMS,(0,a.List)()).forEach((function(t){return e(t)}))}(t.get("ui",(0,a.Map)())),n}},{key:"renderProp",value:function(e,t){var r=this,n=this.state.select_control_id,i=e.get("name"),a=this.props.getItemValue(n,i,t),u=[];switch(i){case c.KEY:u.push("lowerCase"),u.push("require");var d=l.default.filter(this.getAllKeys(),(function(e){return e!=a}));u.push(m.default.unique(d));var g=l.default.clone(s.RESERVEDFILEDKEYS);g.push(" "),u.push(m.default.reservedWord(g)),u.push(m.default.beginWith(["$$"]));break;case"TableName":case"PkFieldName":case"FieldName":u.push("lowerCase"),u.push(m.default.reservedWord(s.SPECIAL_WORDS))}return o.default.createElement(p.default,{key:i+t,id:n,className:f.default.item,prop:e,validations:u,value:a||"",onChange:function(e){return r.onChange(i,e,t)}})}},{key:"renderProps",value:function(){var e=this,t=this.state.select_control_id;if(!t)return null;var r=this.props.uiConfig,n=this.props.getItemValue(t,c.TYPE,c.FORMMETA),o=d.metadataModel.getConfigFieldByType(r,n).get("properties",(0,a.List)()).filter((function(e){return P.indexOf(e.get("name"))>=0}));o=o.map((function(t){return e.renderProp(t,c.FORMMETA)}));var i=this.props.getItemValue(t,"FieldType",c.FORMMETA),l=d.metadataModel.getConfigFieldByType(r,i).get("properties",(0,a.List)()).filter((function(e){return P.indexOf(e.get("name"))>=0&&-1===[c.ID,c.KEY,c.NAME].indexOf(e.get("name"))}));return o=o.concat(l.map((function(t){return e.renderProp(t,c.ENTITYMETA)})))}},{key:"getChildCount",value:function(){var e=this.props.getRootId(),t=this.props.getItem(e);return t?t.get(c.ITEMS,(0,a.List)()).size:0}},{key:"render",value:function(){var e=this,t=this.props,r=t.style,n=t.className;return n=(0,i.default)(v(v({},f.default.root,!0),n,n)),o.default.createElement("div",{className:n,style:r},o.default.createElement("div",{className:f.default["control-panel"]},this.renderControl()),o.default.createElement("div",{className:f.default["list-panel"]},o.default.createElement("div",{className:f.default.title},o.default.createElement("div",{className:f.default["select-count"]},"已选（",this.getChildCount(),"）"),o.default.createElement("div",{className:f.default["clear-all"],onClick:function(t){return e.deleteAddItem(t)}},"全部清除")),o.default.createElement("div",{className:f.default.content},this.renderList())),o.default.createElement("div",{className:f.default["prop-panel"]},this.renderProps()))}}])&&h(r.prototype,n),y&&h(r,y),Object.defineProperty(r,"prototype",{writable:!1}),t}(o.default.Component);t.default=w},93336:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(360776),r(743924),r(205960),r(846428),r(336368),r(708896),r(606200),r(670864),r(387912),r(836887),r(78504),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(297336),r(880920);var o=c(r(795520)),i=(c(r(540900)),c(r(671252)),r(891052),c(r(99808))),a=c(r(561908)),l=c(r(60112)),u=c(r(724172)),d=c(r(145764));function c(e){return e&&e.__esModule?e:{default:e}}function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s.apply(this,arguments)}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p(n.key),n)}}function p(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:String(t)}function g(e,t,r){return t=y(t),function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,m()?Reflect.construct(t,r||[],y(e).constructor):t.apply(e,r))}function m(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(m=function(){return!!e})()}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}var h=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),g(this,t,[e])}var r,n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(t,e),r=t,(n=[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return o.default.createElement(a.default,s({},this.props,{className:d.default.root}),o.default.createElement(l.default,{key:"entrywizard1"}),o.default.createElement(u.default,{key:"wntrywizard2"}))}}])&&f(r.prototype,n),i&&f(r,i),Object.defineProperty(r,"prototype",{writable:!1}),t}(o.default.Component);(0,i.default)("EntryEntity",h);t.default=h},173096:function(e,t,r){"use strict";r(606200),Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ButtonWizard",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"EntryWizard",{enumerable:!0,get:function(){return o.default}});var n=i(r(616488)),o=i(r(93336));function i(e){return e&&e.__esModule?e:{default:e}}},99808:function(e,t,r){"use strict";r(606200),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){n[e]={WinzardPage:t,props:r}},t.getWizardPage=function(e){return n[e]};var n={}},300476:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(360776),r(743924),r(205960),r(846428),r(708896),r(606200),r(534440),r(670864),r(387912),r(836887),r(78504),r(776512),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(443616),r(297336),r(336368),r(880920),r(660824);var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}return o.default=e,r&&r.set(e,o),o}(r(795520)),i=d(r(369396)),a=d(r(671252)),l=d(r(343919)),u=r(891052);function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f(n.key),n)}}function f(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:String(t)}function p(e,t,r){return t=m(t),function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}(e,g()?Reflect.construct(t,r||[],m(e).constructor):t.apply(e,r))}function g(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(g=function(){return!!e})()}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}t.default=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=p(this,t,[e])).onKeyup=r.onKeyup.bind(y(r)),r.renderBody=r.renderBody.bind(y(r)),r.renderTitle=r.renderTitle.bind(y(r)),r.renderToolbar=r.renderToolbar.bind(y(r)),r.onOk=r.onOk.bind(y(r)),r.setButtonState=r.setButtonState.bind(y(r)),r.container=document.createElement("div"),document.body.appendChild(r.container),r.state={buttonState:(0,u.Map)()},r}var r,n,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(t,e),r=t,n=[{key:"componentDidMount",value:function(){document.addEventListener("keyup",this.onKeyup,!0)}},{key:"componentWillUnmount",value:function(){document.body.removeChild(this.container),document.removeEventListener("keyup",this.onKeyup,!0)}},{key:"shouldComponentUpdate",value:function(e,t){return!(0,u.is)(this.state.buttonState,t.buttonState)}},{key:"onKeyup",value:function(e){27===e.keyCode&&this.props.onClose()}},{key:"renderBody",value:function(){var e=this,t=Object.assign({},this.props.children.props.style,{flexGrow:1}),r=t.width,n=void 0===r?"":r,i=t.height,a=void 0===i?"":i;return"string"==typeof n&&n.includes("%")&&delete t.width,"string"==typeof a&&a.includes("%")&&delete t.height,o.default.cloneElement(this.props.children,{style:t,uiInfo:this.props.uiInfo,ctrlInfo:this.props.ctrlInfo,uiConfig:this.props.uiConfig,setDoStep:function(t){return e.stepFunc=t},setButtonState:this.setButtonState})}},{key:"setButtonState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState({buttonState:this.state.buttonState.mergeDeep((0,u.fromJS)(e))})}},{key:"renderTitle",value:function(){return this.props.title?o.default.createElement("span",{className:(0,a.default)(l.default.title)},this.props.title):null}},{key:"getButtonStyle",value:function(e){switch(this.state.buttonState.get(e)){case"visible":return{};case"hidden":return{display:"none"}}}},{key:"renderToolbar",value:function(){var e=this;return 0!=this.props.showToolbar?o.default.createElement("div",{className:(0,a.default)(l.default.toolbar)},o.default.createElement("div",{style:this.getButtonStyle("pre"),onClick:function(){return e.stepFunc&&e.stepFunc(-1)}},"上一步"),o.default.createElement("div",{style:this.getButtonStyle("next"),onClick:function(){return e.stepFunc&&e.stepFunc(1)}},"下一步"),o.default.createElement("div",{style:this.getButtonStyle("cancel"),onClick:this.props.onClose},"取消"),o.default.createElement("div",{style:this.getButtonStyle("ok"),onClick:this.onOk},"确定")):null}},{key:"onOk",value:function(e){this.props.onOk(this.props.ctrlInfo)}},{key:"render",value:function(){var e=this.renderTitle(),t=this.renderBody(),r=this.renderToolbar(),n=this.props.children.props.style||{},u={};return"string"==typeof n.width&&n.width.includes("%")&&(u.width=n.width),"string"==typeof n.height&&n.height.includes("%")&&(u.height=n.height),i.default.createPortal(o.default.createElement("div",{className:(0,a.default)(l.default.overlay)},o.default.createElement("div",{className:(0,a.default)(l.default.dialog),style:u},this.props.showColseButton&&o.default.createElement("span",{className:(0,a.default)(l.default["overlay-close"]),onClick:this.props.onClose},"×"),e,t,r)),this.container)}}],n&&s(r.prototype,n),d&&s(r,d),Object.defineProperty(r,"prototype",{writable:!1}),t}(o.Component)},54780:function(e,t,r){"use strict";r(606200),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;window.requestAnimationFrame((function(){0===r?t():e(t,r-1)}))}},441108:function(e,t,r){"use strict";r(606200),Object.defineProperty(t,"__esModule",{value:!0}),t.isPhoneNumber=t.isJsonString=t.isIdCard=t.isEmail=void 0,r(976896),r(76124),r(387912),r(633768),r(690512);t.isEmail=function(e){return/^\w+([\._\\-]*\w)*@(\w+[\w|\-]*\.){1,63}[\w|\-]+$/.test(e)},t.isPhoneNumber=function(e){return/^1[3456789]\d{9}$/.test(e)},t.isIdCard=function(e){return/^(^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$)|(^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])((\d{4})|\d{3}[Xx])$)$/.test(e)},t.isJsonString=function(e){try{if("[object Object]"===Object.prototype.toString.call(JSON.parse(e)))return!0}catch(e){}return!1}},787780:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUBAMAAAB/pwA+AAAAIVBMVEUAAAC5xN26xNy6xN27xt67xt3ByuXb2/+5xdy5xNz///+8D9VqAAAACXRSTlMA5sfDingdBxZSq0mtAAAAZ0lEQVQI12NAAWzBksJhYBa750wgcAcxm2aCwKQGoKDmTDBQZ2BgmQkBUxgYMmdCQQJD5MyZK8EogMFy5sxZQDhzpgGDJJBcuRJICDAACbDgzAnIogi1yCYgzEXYhuwGhMsQ7kXxBQDh71L1KnH65QAAAABJRU5ErkJggg=="},824324:function(e){e.exports="data:image/png;base64,R0lGODlhGQAYAKIEANjY2P////Dw8BseI////wAAAAAAAAAAACH5BAEAAAQALAAAAAAZABgAAANXKLDc/kvBSWO4OOssVyBgKI5i0HxkOpoMqr6s984x4M5kfePlyae6X84n7LWKRhltE+jYcLXJblh50qpWWGMAma4Yg/DDawybHeRQFCJgcrDwijPuECQAADsA"},247844:function(e){e.exports="data:image/png;base64,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"},382428:function(e){e.exports="data:image/jpeg;base64,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"},169500:function(e){e.exports="data:image/jpeg;base64,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"},260092:function(e){e.exports="data:image/jpeg;base64,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"},896300:function(e){e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAYEBAUEBAYFBQUGBgYHCQ4JCQgICRINDQoOFRIWFhUSFBQXGiEcFxgfGRQUHScdHyIjJSUlFhwpLCgkKyEkJST/2wBDAQYGBgkICREJCREkGBQYJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCT/wgARCABQAFADAREAAhEBAxEB/8QAHAABAAEFAQEAAAAAAAAAAAAAAAYBAwQFBwII/8QAGwEBAAEFAQAAAAAAAAAAAAAAAAYBAgMEBQf/2gAMAwEAAhADEAAAAOyR7l0tpFe36BEex6FcpgtVY/Yg2lmPllu+3rUKkGdBIrrMlmk6csjXQmGTTPr8fa8dCH6uRefbzWy9i521ymnkni7GAxb0RjvtdSQH1qVPn3W8JwqauFuSKSZpVLbJFqsXSsG5OnA+fY54pj3Zs/TjXUpB6/Kd2VgADX0xRW3Hapjy8m56VqVMsit9nT7LwAAAI7dbIrbgAAAAAAAAAAAAAAP/xABDEAACAQIEAgQFDw0AAAAAAAABAgMEBQAGESESMQcTUWEWMkGBwQgQFCAiNFJVcXKTlKHR8BUYMFBTVFZzkaKy0uH/2gAIAQEAAT8Aa1qXJFddFBOyiul0H92PyUP3+6fXZf8AbGeaurskNIlFX3GNpWYs5q5WOg023bTHhHfPjm4/WH+/D3rMMfj3O6L86aQenBzHefLea/6w/wB+K/N17p6B1guFdJO7qFk6+QmMaEnQBtN9uYOJc55qhIWW8XJCRqA8rDbHhxmX47r/AKZsdCmucbdczep62qlppUCP7MmXVWB2IVwDjMiWSa5SJVX+rp5IxwGOlqSq9u4AO++DSZUPj36vfvaqk+7GabXZPYsM9quHXSo5Do87s+nkI129OHplcaMgJ7S5PpxQ2+eqqEpqWngkmc6IjKmrHsHFiuako6uWCpeBJo3KuikEKRzHudsO1KbXPVUtxoI6iNlCwSAM0q78XDqCBpsd9Nd9MU0lwqxM8RhYIurksibdgGo1+QYpMi5lvlsNVS2WonDH3EqLoG5a6Enf5RtjoPyddsqWq4m8QGllqpUKREgsFUYlJMrknUljqT7TrGiPWIxR0OqsDpoe3XCWyQqXmdYl56k/gY6yggA4Y2mcbksdvx5jz546PaxqvPdjheOLqWq0BQgEEa4ChRoAAByA9a7Wa31FyqJaMzQws5KoWB07dNuWGsMCgs0795OmGhoi5jp5KmrkG2kKggHvbkP64yt0YXPMkRqpquGgpdSP20uo7tlGKDoTtNPVRz1NZPWKm/VyoNH7j/wDFf6nO1VdZNPFe66JHJIR0DkecnU4/Npt38QVf0C4yj0F2rKt7gu5uVVWzU+8SOioA3r3qrltkvU9WomeUxjrTwqh8vEcJaROeO4TtVt4wTxYwe5Rz8+I40hQJGqoq8guwGOj2N48vAuCOKV2Ht66x2y5K6VlBTVCuNGEkQbXFR0R2IOXt89wt3YkE5KDzNrgZFzHRe88w0FUg5JW2uMnzuu5xGvSHRIFRMs1KDyDrYzjwkztT7T5KScfDprlH/iw1x4c3eL3xki+L/L4JB9hwOkXgOkuVM0p8lBxD7DiHPVHL41pzDD8+1zehTjJ/TBFc7s9nu8Binedo6eeNDo++iq6c1b9FlzJFoyzNNU0sPHWVDs71EmhfckkL8Edw/UH/8QAMxEAAQMCAwUFBgcAAAAAAAAAAQIDEQAEBRIhBhMgMVEUInGR8BYjU2Gh0TAyQVBSgbH/2gAIAQIBAT8AVfuzzrt73WsJcVcBW8/StwjpW5b9Gty16NYJhtrcvkPnugTzifrSNmcLWJQiR8lH717LYb8P6q+9bTYaxYOthgQFA6STy8aRY3aAQhsEdYrs198IeQqwtXyDv0x0rsielKtkJEkV7msNXhwey3iZSRz10P8AWtFrZzmDHgV1h+LW7F8EsOqDIBnOZB6ZRzGtbU4mxevI3BkJB18aHLgcICDPEdo3E90IBihtI6TAbFJxh+MziAkfM0nEy8mWzp660XZGok9TxMW2dSs+gHnSrvJKWU5f9pS1LMqMmsPBDInjyjnGtFtCvzCa3KP4jyoCOEgTp+EVT+wf/8QAOhEAAQIEAQYLBQkAAAAAAAAAAQIDAAQFEQYSICExQZETFBUWUVJTYXGS0SKBorHSMEJQYoKDk6Hh/9oACAEDAQE/ADiec2BHkR6RzonehHkR6RgeZNULxm0pORa3sJGu/QI5Mk+yTuEcXpvVR8McXpvVR8MY5nRT5ZtynBOUpVjZKVaLX2gwcXVUGyikfto+mOeNT6yf42/pij4inZlC+FKdH5Ebf0w5U2ZRamSUk38Y5wtdZO6MM4goxK01R0AHVa48b2gVnBnbg+9cM1TBzywht1JJ71wleHQLAJ/uMXOSpZQKQAFg3Nhstq0wHKttF/cmJqSdcl7uIBXsyRvvFGk3JdCuEFiYdJKyTmSDa1vIDYJNxq8c6fnmlzCywiyb7T/kImFuKCUIuTsEMUSZKA7N5LSDtUbHdrv3G0Uah0yYb4dslwXtp0DR3aDvhMgUqAbVkIH3UgC/idfyzqXReNTDomLhLdyQBdR7gIexCZcKZprQZGq+tZ8SYfmHH1lx1RUo7SbmMGoKKYm4tck54ZQF8IEjK6bad8OyjDpu6gKPeAfnHJsn2KfKPSEpAFkiwzQo20/ZBNvwD//Z"},598096:function(e){e.exports="data:image/jpeg;base64,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"},474124:function(e){e.exports="data:image/jpeg;base64,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"},458444:function(e){e.exports="data:image/jpeg;base64,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"},519588:function(e){e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAcFBQYFBAcGBgYIBwcICxILCwoKCxYPEA0SGhYbGhkWGRgcICgiHB4mHhgZIzAkJiorLS4tGyIyNTEsNSgsLSz/2wBDAQcICAsJCxULCxUsHRkdLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCz/wgARCABQAFADAREAAhEBAxEB/8QAGwABAAIDAQEAAAAAAAAAAAAAAAMGAgQFAQf/xAAcAQEAAwEBAAMAAAAAAAAAAAAABAUGAQcCAwj/2gAMAwEAAhADEAAAAPrdPAp9vvuLO0fC3fhnneWTG1UfPrukTSXKJoxo0mSpF36TwLDVVz0T88Y9+NrwlPD2Pf4OwvsLTgAAAAAAAAADXMSEwIjTPCE4JdyIiBgRGJ4a5wC9HUAAAAAAAAAAAAAAAAAAAB//xAA9EAABAwMBAgYOCwEAAAAAAAABAgMEAAUGESFVBxIWMUGTFRcyUVRhcXKSo7HB0dITFCIjQERQgYKRlOH/2gAIAQEAAT8AfhqRIcSmbLCUqIH3n/Kyu73G1XFmNEnSED6ILUSrUkkkd6mspvQeQV3B5xIUNUkgajvbBTufZGt5akXJ1tBUSlOgOg6BrpSc9yRK0lVzdUAdSkgCnsmuy33FMz322iolKOMDxR0DXTbXKW9bzf8A7HwrAnH7+JqJ8uSssFJSpLnF2HWuTjHhUzrjXJ6N4VN641KhSPrThDRWFKJBHjrNMYu8qexLjQnZCC0EENjUpIJO0VFw+/SZTTRtkhoKVoVutlKUjvkmpeA5PDmOMdhpbwQrQLabK0qHQQRUfA8nlSW2RZJjZWQNXGihI8ZJ5hUzD75EluMi3yHkpP2VttlSVDoOyuTN93RM6lVcG1kn2tqa9OYLAf4oQhexWzXUkfh1ToiFcVUplJHQXAK7JQfDI/Wp+NKvtpb7u6Qkec+ge+uUti31b/8ASj405llga7u8wv4vBXso59jCDobqOqWfYmu2Hi+8/UufLS+EjGh+ccPkZVSOFFhi8OtONmVblK1beSOK4gHoKTsOhq03223uMHoMpt4aalIOi0+VPOKXi1icJK7PCJJ1JDKRRwzHd0RvRrkXju6I3o0cIxw89pYo4BjCue1jrXPmrtd4tuv17vzUeDrF92+vc+al8GWOr5mn2/NePv1pHBYHru8S84xbk7G0khbq/wB9NAKtGP22xs8SBFQ0SNFL51r8qjt/Sf/EACcRAAEDAwIEBwAAAAAAAAAAAAEAAgMEERMFEgYUIXEQIiMxUWCR/9oACAECAQE/AJauRryAqH149z/dYGlM4dotouCT3R4dorGwP6uTjHRcrGp4Wx22+M9PJkJAutPGKLa/oVkaOt1Fq9HIwOyAdzZSatRsYXZAexuuYjf5rrNH8hVMjXEBv1P/xAAsEQABAwMBBgQHAAAAAAAAAAABAgMEAAUREgYUIVKRkhMVFkFCU2BhYnKh/9oACAEDAQE/AHrw6lZSlCcD8a2aaZuEUvSG05zjgMU5aYYQdLYBxS7/ACAogIR2ivUEjPFCe0UvauZrOlCAP1FeqpvKjtFWW9vTAsOoTkY+Ee9b2eRPSt7PInoKfjO+ISE5zWykpmJFLL6gk5zxqRdoaG1EOA8PY05BkBRGgmkQZCjjQaftMttZSGyfuBXlsz5SuhqwQnoyVrdGM4/n0n//2Q=="},166380:function(e){e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAUEBAQEAwUEBAQGBQUGCA0ICAcHCBALDAkNExAUExIQEhIUFx0ZFBYcFhISGiMaHB4fISEhFBkkJyQgJh0gISD/2wBDAQUGBggHCA8ICA8gFRIVICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICD/wgARCABQAFADAREAAhEBAxEB/8QAGwABAAIDAQEAAAAAAAAAAAAAAAMGBAUHAQj/xAAcAQEBAQEAAwEBAAAAAAAAAAAABQYHAwQIAQL/2gAMAwEAAhADEAAAAPqf+qtZz+c55T6FQND1jRdO+VdZSkXrmkWPwej0WftOuzN1ZPydVoWdoFPe8/v9V0vTPlrV0ZV65tIx/F6HR5206vM3kwAAABCTAAAAEJojAMMxDGMQxDGK2d2N+ADwiIyErpbCYAAAAhJgAAACEmAAAAISYAAAAgP/xAA+EAACAQIEAQgFBw0AAAAAAAABAgMEBQAGESEHEjAxNEFxcrETFDJD0RAiI1GRk8IXICVFVFZihJKUosHS/9oACAEBAAE/ABkjKg/UkX2t8cXfLVhhuLww2yNEUDoZu0d+M/RU9poKKnt9MkDTuxeVS3L0UDYHXo3wtXVoQwqpiRvu5I88X3Mt1q73UvDO1FEjejSGmdlQBdtenUk6ak/WewYW/XpGDC6VJIOu8hI+w4ku9VcVhqurcqNNUgdlXXkjU9PadTj1mq/a6j71vjjhVBSXq811tutP64gg9OjvI/KQhgCNj0HlYGUsv0nKqYLcEljQlSXc9h7CdPku9uq5rg80MRkVgBt2aDGfMlX+8W2knoKT00lOzawggOQ2m412xHw6zrLIsYsE6FiN3KgDvOuMw8Hs90t7n9Us73GnmPpEmgcdvYQxBBGIuEnEaRwgyvUqWI3d0AHeeVip4X5wtohpYqA1ypGn0kBBGum430Oxx+T7On7v1P8Aj8ccLMn3qx3Ssul3pjS8uH0CRsQWbVgSx08OKjqs/gby5qo6rP4G8uaqOqz+BvLFVnGzUc8sEvr5eMlTyLdOw1B0OhCaHvB0xLxGsEfuLmf5CUeYGH4rZdjHUrt/aEeZw/GPLSDqF1+4UebYfjdlobC2XL+iMfjw/HO0e6sdY3idVw/HaL3WWHbxVgH4Dh+Ok7ggZZi7jVH/AIxZuKt/s9bJoBV21mJSjqHLGFddlWT2thtvriyX5cxZde4Cgq6EMh+ZUpySdulfrH5pAI0IBwaaBvagjbvQYNuoD7VDTt3xL8MPZrSyn9FUZP8AFAp/1iycPbBaq6S5z0yV1xlcyGaVAERidfo4x81B9XSRio6pN4G8uaqOqz+BvLmqjqk3gby5qo6tN4G8sAgjmaplWinZmAARiSTsNsf/xAArEQABBAECBAMJAAAAAAAAAAABAAIDEQUEEwYSFCFBUqEQUWBhcZGxwdH/2gAIAQIBAT8AWu1MscnKw0Fh3unD93vS2Ge5Yzh/QdLG6SMOJFkn590eHsYRWyPVajHQQTPiaLAJ/K6WHyrWQsYA5gpX7NbpZZJOdgsLERmAO3e1/pGaMeKxfEmP6VjJX8paKog+H3TuJcWBe96H+KbIwzyvlurJPf6rqofMtZOyQBrDfwl//8QALxEAAQIFAgIHCQAAAAAAAAAAAQIDAAQFBhES0RZBMVFTcYGRoRAVISIjVGBhsf/aAAgBAwEBPwD3xPdqfSKhcdTbe0IeIA7tosKdmakt4zjhXoxjOOeYMu0RjSIrFzVZiffYafIShRA+A6AcRxbWe3PkNonL5rpeOl8pA5ADaON6/wDcnyTtFr3XVpxxxqYeKgBkZCeuHalNuoLa15B/Q29lQk3XHdaBkGLEm2qUt4TnyheMHuz0468wq5KYkH6ufA7RV6fMPzzz7SMpWokeJzApE4TjR/Inrcn0PHQjUDzEcP1HsT6RbFJmZNa3phOnIwB+Jf/Z"},565512:function(e){e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wgARCABQAFADAREAAhEBAxEB/8QAGwABAAIDAQEAAAAAAAAAAAAAAAMHAgUGBAj/xAAbAQEAAgMBAQAAAAAAAAAAAAAABQYDBAcBAv/aAAwDAQACEAMQAAAAuGAiuim56ipPp++xxm8k+a0ldq7YtblutreKut2qS+ZbupMx0s1P0TJdM3+OM3shzijbzXbKrMv1ddxVtv1Gf42foKI6QAAABESgAAAERKCA8xCQnnPMc4d4eY8REYmBiYGBoiwzbAAAAERKAAAAREoAAABESgAAAER//8QAPxAAAQMCAgUHCAcJAAAAAAAAAQIDBAAFBhEHEiExcjAyNEGDsdEVF1RVYZOh0hATFBYiUaIjJEVSU2RxgYT/2gAIAQEAAT8ANnhE5hpQ9gdXl31Bw1aXojTi4p1lJzP7VfzVe50jyvNS08802h5SEoQ6oBIBIA31ozV5RxMiFPLshh1tZyW6vYRtBGRrTUw1h3DEd60hbD78kNFYeWSE6qldZry9dvWUz3yvGtCUpy+YhmQLut6U0IpfQVvLBSUqSOo7jrVpTjsWZiA1bUOtLfUtSnA+5mAnV2bVdetX22Z6ZL9+vxqPc5bLyHFyJDqUnMoW+vJQ/I7aNtlBZSGSfaNxqC0WYbbauckZGr9ga/i8TCxBW+046paHGyNxPwNaMcJ3a3YiE+4xTGZaQoALIzUSMtgFaZsOT8SYZZYtLQeksPh7U2AqGRBAJrzc4t9Ryv01oSwXebFe5lyu8QxEFgsIQsgqJKkqJ/TWlPD069xoLtub+tXHKwpsEAkKy2jP8tWvuXiP1U/8PGomBr8++EPQXGGt63HCMkjr69vJSOju8B7uSkdHd4D3fQSBTkuO3z5DKeJYFLvNsRz7jDT/AJfT40cR2VO+7QR26fGjiywI513g++BpzG+HEb7sweEKV3Cl6Q8MI/iWfCw58tQdKMZq5PMTWy/CCiGpbIIUU9Wsg/EioN2g3WA4/b5TUhvUOeodo2dY3j/dScLWmW6tySw6ta1FSv3l0DM+wKyFLwBhpzn24q/6Xfmo6OcL+riO3c+avNvhn0FY7dfjR0a4a9FeHbqo6MsN/wBB8dsaOjDD38kr31HRdh7+8HbDwqDotQ9c33ZTq2LaFkNMghTqkjYCVbhnVustvs1vcYtsVthGoQSkfiVs6zvPJSOju8B7uSkdHd4D3clI6O7wHuoHkZBAjO8B7q//xAAoEQABBAEBBwQDAAAAAAAAAAABAAIDBBEGBRIUIUGh0RVRU7EWYJH/2gAIAQIBAT8ANuYnO8oXl8YceqbE3A5KWNobkLT1KG7ZLJhkAZx/AvQaPxjv5Wo9mVqkLZYG4Ocdj4VWJshO90XDR+ydWjweSNOUHGFEwsYGnomzNwppGluAtP34qNgvm5AjH0vyDZ/ydj4Wo9rV7cTYYDvc8/aqTNjJDuq4mL3T7UYacH9R/8QALxEAAQIEAwUGBwAAAAAAAAAAAQIDAAQFERIT0QYWITFBFTNSU4GhUWBhcaKx0v/aAAgBAwEBPwDeGoE957DSGKtNONpUVc/oNIkpZvIQVJBJANyBpFfQJeVzmbJII6Dr6RVK3OS7QLa7En4J0jeWpeZ7J0ilV6efcKHF34eFOkbQ7RT8mhAZWBivxwp6ekb3VfzfxT/MM7XVXMTicuL8sKdIMi8DbDDKC22EnpElXZLIQFrsQACOPSK9WJaZlsllWIk/qKpLLfaAb5g3jsya8EUqSeZcK3BbhaNoac9ONoUyLlN+H3jsOe8sxK0KdU6kKRYX5/KP/9k="},794540:function(e){e.exports="data:image/jpeg;base64,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"},476380:function(e){e.exports="data:image/jpeg;base64,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"},616696:function(e){e.exports="data:image/png;base64,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"},688188:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYAgMAAACdGdVrAAAACVBMVEUAAAD///////9zeKVjAAAAAnRSTlMAtc2YijsAAAAkSURBVAjXY8AKGFcBgQMDE4hqwE5BAJCnBeRRiWIEUQ5YXQQAnvQvSVIqTKwAAAAASUVORK5CYII="},534712:function(e,t,r){var n={"./actionReducer.js":460236,"./admindivisionReducer.js":108264,"./approvalProcessingReducer.js":831448,"./approvalRecordReducer.js":651020,"./appstartReducer.js":516480,"./attachmentpanelReducer.js":599108,"./baseCardFieldReducer.js":951712,"./billReducer.js":870480,"./buttonReducer.js":35179,"./commonFilterReducer.js":410628,"./commonFunctionPanelReducer.js":908320,"./dateselectReducer.js":516768,"./entitydesignerReducer.js":16176,"./f7Reducer.js":327464,"./fieldReducer.js":849257,"./generalf7Reducer.js":960024,"./generaltreef7Reducer.js":735112,"./gridReducer.js":424841,"./gridcontainerReducer.js":877416,"./guideReducer.js":890243,"./homePageTabReducer.js":361020,"./htmlReducer.js":697588,"./hyperLinkReducer.js":410548,"./iconReducer.js":494488,"./iframeReducer.js":714140,"./littlekReducer.js":556712,"./mapReducer.js":6480,"./mobilefilterReducer.js":597787,"./myApplicationReducer.js":203208,"./qingReducer.js":803292,"./qrcodeReducer.js":549188,"./querypanelReducer.js":562144,"./reportfilterReducer.js":365248,"./searchReducer.js":379316,"./splitcontainerReducer.js":136040,"./subGridReducer.js":879696,"./tabReducer.js":490360,"./tilePanelReducer.js":283204,"./transferContainerReducer.js":154392,"./treeReducer.js":433572,"./wFNavigationBarReducer.js":116320,"./wfConditionReducer.js":236784,"./workcalendarReducer.js":212800,"./yzjChatReducer.js":669532};function o(e){var t=i(e);return r(t)}function i(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=i,e.exports=o,o.id=534712},34628:function(e,t,r){"use strict";r.r(t),t.default={color:["#40a9ff","#45dad1","#73d13d","#ffc53d","#ffa940","#f57582","#9f69e2","#6682f5","#f273b5"],graph:{color:["#40a9ff","#45dad1","#73d13d","#ffc53d","#ffa940","#f57582","#9f69e2","#6682f5","#f273b5"]},visualMap:{color:["#40a9ff"],inRange:{colorLightness:[.9,.15],color:["#40a9ff"]}},geo:{label:{normal:{textStyle:{color:"#ffffff"}},emphasis:{textStyle:{color:"#ffffff"}}},itemStyle:{normal:{borderColor:"#eee"},emphasis:{areaColor:"#fe994e"}}},gauge:{axisLine:{lineStyle:{color:[[.2,"#40A9FF"],[.5,"#26C9C3"],[.8,"#FFC53D"],[1,"#F57582"]]}},title:{offsetCenter:[0,"20%"],color:"#999999",fontWeight:"bold"},detail:{offsetCenter:[0,"40%"]}},title:{textStyle:{color:"rgba(33,33,33,1)",fontSize:14},subtextStyle:{color:"#6E7079"}},legend:{textStyle:{color:"#666666"}},tooltip:{trigger:"axis",confine:!0,backgroundColor:"rgba(0, 0, 0, 0.6)",textStyle:{align:"left",fontSize:14,lineHeight:18,color:"#ffffff"},padding:8},bar:{tooltip:{}},line:{itemStyle:{borderWidth:2},tooltip:{}},pie:{itemStyle:{borderColor:"#fff",borderWidth:1}},radar:{areaStyle:{opacity:.3},lineStyle:{width:2}},scatter:{itemStyle:{opacity:.7}},funnel:{color:["#40a9ff","#45dad1","#73d13d","#ffc53d","#ffa940","#f57582","#9f69e2","#6682f5","#f273b5"]},categoryAxis:{axisLine:{show:!0,lineStyle:{color:"#D9D9D9"}},axisTick:{alignWithLabel:!0,lineStyle:{color:"#B2B2B2"}},axisLabel:{textStyle:{color:"#666666"}},splitLine:{lineStyle:{type:"dashed",color:"#D9D9D9"}},splitArea:{areaStyle:{color:"#666666"}}},valueAxis:{axisLine:{show:!1},axisTick:{alignWithLabel:!0,lineStyle:{color:"#B2B2B2"}},axisLabel:{textStyle:{color:"#666666"}},splitLine:{lineStyle:{type:"dashed",color:"#D9D9D9"}},splitArea:{areaStyle:{color:"#666666"}}}}},213872:function(e,t,r){e.exports=r(251656)(283)},77240:function(e,t,r){e.exports=r(251656)(8375)},197648:function(e,t,r){e.exports=r(251656)(9177)},141170:function(e,t,r){e.exports=r(251656)(9249)},146624:function(e){"use strict";e.exports=JSON.parse('{"temp1":{"excludeProp":["Id","_Type_","Key","Name","ParentId","Hidden","Visible","Lock","Width","Height"],"formMeta":{"type":"MToolbarAp","flex":{"Grow":0},"Position":2,"Shrink":0,"Name":"工具栏","ItemStyle":2,"Style":{"Border":{"Top":"0.5px_solid_#e5e5e5"}},"items":[{"excludeProp":["Id","_Type_","Key","Name","ParentId","Hidden","Visible","Lock","ImageKey","ImgHeight","ImgWidth","OperationKey","fontClass","DropdownItems","BusyTip","CommitValidate","ControlLoading"],"formMeta":{"ImgWidth":"24px","ImageKey":"/icons/mobile/tab_bar/icon_yy(x)_64_64.png","ForeColor":"#666666","ImgHeight":"24px"}},{"excludeProp":["Id","_Type_","Key","Name","ParentId","Hidden","Visible","Lock","ImageKey","ImgHeight","ImgWidth","OperationKey","fontClass","DropdownItems","BusyTip","CommitValidate","ControlLoading"],"formMeta":{"ImgWidth":"24px","ImageKey":"/icons/mobile/tab_bar/icon_yy(x)_64_64.png","ForeColor":"#666666","ImgHeight":"24px"}}]}},"temp2":{"excludeProp":["Id","_Type_","Key","Name","ParentId","Hidden","Visible","Lock","Width","Height"],"formMeta":{"flex":{"Grow":0},"Position":2,"TextStyle":0,"Shrink":0,"items":[{"excludeProp":["Id","_Type_","Key","Name","ParentId","Hidden","Visible","Lock","ImageKey","ImgHeight","ImgWidth","OperationKey","fontClass","DropdownItems","BusyTip","CommitValidate","ControlLoading"],"formMeta":{"Index":2,"FontSize":14,"FontWeight":"bold","Style":{"_Type_":"Style","Margin":{"_Type_":"Margin","Left":"6px","Top":"","Right":"6px","Bottom":""}},"Radius":"4px"}},{"excludeProp":["Id","_Type_","Key","Name","ParentId","Hidden","Visible","Lock","ImageKey","ImgHeight","ImgWidth","OperationKey","fontClass","DropdownItems","BusyTip","CommitValidate","ControlLoading"],"formMeta":{"ForeColor":"#666666","FontSize":14,"FontWeight":"bold","Style":{"Border":{"Top":"0.5px_solid_#cccccc","Left":"0.5px_solid_#cccccc","Right":"0.5px_solid_#cccccc","Bottom":"0.5px_solid_#cccccc"},"Margin":{"Left":"6px","Right":"6px","Top":"","Bottom":""}},"Index":1,"Radius":"4px","BackColor":"#ffffff"}}]}},"temp4":{"excludeProp":["Id","_Type_","Key","Name","ParentId","Hidden","Visible","Lock","Width","Height"],"formMeta":{"type":"MToolbarAp","flex":{"Grow":0},"Position":2,"Shrink":0,"Index":0,"ItemStyle":3,"items":[{"excludeProp":["Id","_Type_","Key","Name","ParentId","Hidden","Visible","Lock","ImageKey","ImgHeight","ImgWidth","OperationKey","fontClass","DropdownItems","BusyTip","CommitValidate","ControlLoading"],"formMeta":{"ImgWidth":"20px","ImageKey":"/icons/mobile/tab_bar/icon_commit_64_64.png","ForeColor":"#666666","BackColor":"#ffffff","ImgHeight":"20px","FontSize":16}},{"excludeProp":["Id","_Type_","Key","Name","ParentId","Hidden","Visible","Lock","ImageKey","ImgHeight","ImgWidth","OperationKey","fontClass","DropdownItems","BusyTip","CommitValidate","ControlLoading","ZIndex","CustomeStyles"],"formMeta":{"ImgWidth":"20px","ImageKey":"/icons/mobile/tab_bar/icon_save_64_64.png","ForeColor":"#666666","BackColor":"#ffffff","ImgHeight":"20px","FontSize":16}}]}}}')}}]);