(self["webpackJsonp_bos-platform"]=self["webpackJsonp_bos-platform"]||[]).push([[9984,3724,5520],{349052:function(e,t,o){"use strict";var r,n=(r=o(206368))&&r.__esModule?r:{default:r};o(276056),o(994432);jest.mock("../../middleware/index",(function(){return{ChainCaller:jest.fn().mockImplementation((function(){return{use:jest.fn((function(e){if("function"==typeof e)return e(jest.fn())})),exec:jest.fn((function(e){return e}))}})),checkSupportNames:jest.fn()}})),jest.mock("../../utils/index",(function(){return{converGetterString:jest.fn(),createSupportedProppertyNames:jest.fn(),converSetterString:jest.fn()}})),jest.mock("@/component/web/DataGrid/KDTable/utils/columns",(function(){return{getOriginColumnCode:jest.fn((function(e){return e}))}})),describe("KDTableProxy",(function(){var e,t;beforeEach((function(){e={tableController:{getColumnWidth:jest.fn().mockReturnValue([10,10,10]),row:jest.fn(),rows:jest.fn(),setFilters:jest.fn()},tableConfig:{key:"id",id:123,parentKey:"parentId",seqKey:"seq",columns:["name"]},tablePoster:{send:jest.fn()},tableApi:{startEditingCell:jest.fn(),execFilter:jest.fn(),isCellLock:jest.fn()},getActionByKey:jest.fn().mockReturnValue(jest.fn()),model:{},parentModel:{}},t=(0,n.default)("pageId","controlKey")({instance:e})})),it("should perform control method correctly",(function(){t.get("key"),t.set("selectedRows",[1,2,3]),t.performControlMethod("postRowClick",{rowKey:1,column:"name"}),expect(e.tablePoster.send).toHaveBeenCalledWith({type:"postRowClick",args:{rowKeyValue:1,column:"name"}})})),it("should perform control method correctly1",(function(){t.performControlMethod("postRowSelection",{rowKey:1,column:"name",selectedRowKeys:1,isDoubleClick:!1}),expect(e.tablePoster.send).toHaveBeenCalledWith({type:"postRowSelection",args:{rowKeyValue:1,column:"name",selectedRowKeys:1,isDoubleClick:!1}})})),it("should perform control method correctly2",(function(){t.performControlMethod("postOperationItemClick",{itemId:"1",opk:!1}),expect(e.tablePoster.send).toHaveBeenCalledWith({type:"cellOperationItemClick",args:{itemId:"1",opk:!1}})})),it("should perform control method correctly3",(function(){t.performControlMethod("updateCellValue",{record:"record",column:"name",value:0}),expect(e.tablePoster.send).toHaveBeenCalledWith({type:"updateCellValue",args:{record:"record",column:"name",v:0}})})),it("should perform control method correctly4",(function(){t.performControlMethod("setItemByNumber",{code:"code",rowKey:1,value:0}),expect(e.tablePoster.send).toHaveBeenCalledWith({type:"invokeAction",args:{code:"code",actionName:"setItemByNumber",params:[0,1]}})})),it("should perform control method correctly5",(function(){e.tableConfig.rowKey=0,t.performControlMethod("postHyperLinkClick",{record:[0],column:"name"}),expect(e.tablePoster.send).toHaveBeenCalledWith({type:"cellHyperLinkClick",args:{record:[0],column:"name",rowKeyValue:0}})})),it("should perform control method correctly6",(function(){e.tableConfig.rowKey=0,t.performControlMethod("postMultiHyperLinkClick",{record:[0],column:"name",linkKey:"linkKey"}),expect(e.tablePoster.send).toHaveBeenCalledWith({type:"multiHyperLinkClick",args:{record:[0],column:"name",rowKeyValue:0,linkKey:"linkKey"}})})),it("should perform control method correctly7",(function(){t.performControlMethod("tryCloseFlexible",{code:"code",rowKey:1,flexId:0}),expect(e.tablePoster.send).toHaveBeenCalledWith({type:"invokeAction",args:{code:"code",actionName:"tryCloseFlexible",params:[{c:"code",r:1,flexId:0}]}})})),it("should perform control method correctly8",(function(){t.performControlMethod("startEditingCell",{rowKey:1,code:"code"}),expect(e.tableApi.startEditingCell).toHaveBeenCalledWith({rowKey:1,code:"code"})})),it("should perform control method correctly9",(function(){t.performControlMethod("viewDetailClick",{code:"code",rowKey:1}),expect(e.tablePoster.send).toHaveBeenCalledWith({type:"viewDetailClick",args:{code:"code",rowKey:1}})})),it("should perform control method correctly10",(function(){t.performControlMethod("postBtnClick",{code:"code"}),expect(e.tablePoster.send).toHaveBeenCalledWith({type:"btnClick",args:{code:"code"}})})),it("should throw error for unsupported method",(function(){expect((function(){t.performControlMethod("unsupportedMethod")})).toThrow()})),it("execFilter",(function(){t.performControlMethod("execFilter",[]),expect(e.tableApi.execFilter).toHaveBeenCalledWith([])})),it("isCellLock",(function(){e.tableConfig.rowKey=0,t.performControlMethod("isCellLock",{column:"name",record:[0]}),expect(e.tableApi.isCellLock).toHaveBeenCalled()})),it("should call getActionByKey correctly",(function(){t.performControlMethod("setPageRows",10),expect(e.getActionByKey).toHaveBeenCalledWith("setAmountOperation"),t.performControlMethod("selectAllRows",{}),expect(e.getActionByKey).toHaveBeenCalledWith("toolBarBtnClick"),t.performControlMethod("setPageIndex",1),expect(e.getActionByKey).toHaveBeenCalledWith("setAmountOperation"),t.performControlMethod("listFieldsControl"),expect(e.getActionByKey).toHaveBeenCalledWith("toolBarBtnClick"),t.performControlMethod("activeView"),expect(e.getActionByKey).toHaveBeenCalledWith("activeView"),t.performControlMethod("getGridDataByFilter",{}),expect(e.getActionByKey).toHaveBeenCalledWith("invokeControlMethodOnly"),t.performControlMethod("setRowSort",{}),expect(e.getActionByKey).toHaveBeenCalledWith("invokeControlMethodOnly"),t.performControlMethod("postExpandNodes",{}),expect(e.getActionByKey).toHaveBeenCalledWith("invokeControlMethodOnly"),t.performControlMethod("loadChildrenData",{}),expect(e.getActionByKey).toHaveBeenCalledWith("invokeControlMethodOnly")}))}))},534712:function(e,t,o){var r={"./actionReducer.js":460236,"./admindivisionReducer.js":108264,"./approvalProcessingReducer.js":831448,"./approvalRecordReducer.js":651020,"./appstartReducer.js":516480,"./attachmentpanelReducer.js":599108,"./baseCardFieldReducer.js":951712,"./billReducer.js":870480,"./buttonReducer.js":35179,"./commonFilterReducer.js":410628,"./commonFunctionPanelReducer.js":908320,"./dateselectReducer.js":516768,"./entitydesignerReducer.js":16176,"./f7Reducer.js":327464,"./fieldReducer.js":849257,"./generalf7Reducer.js":960024,"./generaltreef7Reducer.js":735112,"./gridReducer.js":424841,"./gridcontainerReducer.js":877416,"./guideReducer.js":890243,"./homePageTabReducer.js":361020,"./htmlReducer.js":697588,"./hyperLinkReducer.js":410548,"./iconReducer.js":494488,"./iframeReducer.js":714140,"./littlekReducer.js":556712,"./mapReducer.js":6480,"./mobilefilterReducer.js":597787,"./myApplicationReducer.js":203208,"./qingReducer.js":803292,"./qrcodeReducer.js":549188,"./querypanelReducer.js":562144,"./reportfilterReducer.js":365248,"./searchReducer.js":379316,"./splitcontainerReducer.js":136040,"./subGridReducer.js":879696,"./tabReducer.js":490360,"./tilePanelReducer.js":283204,"./transferContainerReducer.js":154392,"./treeReducer.js":433572,"./wFNavigationBarReducer.js":116320,"./wfConditionReducer.js":236784,"./workcalendarReducer.js":212800,"./yzjChatReducer.js":669532};function n(e){var t=l(e);return o(t)}function l(e){if(!o.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=l,e.exports=n,n.id=534712},141170:function(e,t,o){e.exports=o(251656)(9249)}}]);