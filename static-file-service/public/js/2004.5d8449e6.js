(self["webpackJsonp_bos-platform"]=self["webpackJsonp_bos-platform"]||[]).push([[2004,9860],{581716:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n(697060),n(505684),n(241872),n(743924),n(693917),n(976896),n(297336),n(721300),n(336368),n(606200),n(534440),n(76124),n(633768),n(690512),n(78504),n(776512),n(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CreateMessage=void 0,n(182320),n(909112),n(622676),n(613468),n(233696),n(443616),n(323784),n(835164),n(927184),n(846428),n(387912),n(660824),n(997308);var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=l?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(n(795520)),l=k(n(369396)),o=k(n(278332)),s=k(n(607844)),i=k(n(828696)),u=k(n(459336)),f=k(n(951576)),c=n(331428),A=n(218652),m=k(n(704788)),g=k(n(56988)),p=n(559100),d=n(1816),y=n(608008),b=k(n(32956)),h=k(n(84904)),C=n(674260),M=n(868256),j=["state","clickCallback"],v=["state","clickCallback","deleteMessage","message","isIndex"];function k(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,l,o,s=[],i=!0,u=!1;try{if(l=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=l.call(n)).done)&&(s.push(r.value),s.length!==t);i=!0);}catch(e){u=!0,a=e}finally{try{if(!i&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(){return L=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},L.apply(this,arguments)}function P(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var S=0,T=1,U=2,R=3,x=function(e){return[0,1,2,3].includes(e)?e:0},Q=function(e,t){if(Array.isArray(e)&&0!==e.length){var n=e.filter((function(e){return x(e.messageType)===t}));if(0!==n.length)return n}},V=t.CreateMessage=function(e){var t=e.state,n=e.clickCallback,r=e.deleteMessage,m=e.message,y=e.isIndex,j=P(e,v),k=O((0,g.default)({dialogWidth:460}),2),I=k[0],E=k[1],S=(0,a.useRef)([]);(0,a.useEffect)((function(){return function(){var e=(0,C.getData)(M.KEY_GLOBAL_MESSAGE_ACTION_KEY);S.current.forEach((function(t){(0,C.setData)(M.KEY_UI_ACTION,{tableName:"click",key:e,type:"prompt_error",methodName:"prompt_click_useless",args:[{controlKey:t}]})}))}}),[]);var T,U={0:{imgUrl:u.default,title:(0,c.getLangMsg)("msg.bizTitle"),type:d.EMOTIONAL_TYPE_BUSINESS_PROMPT},1:{imgUrl:i.default,title:(0,c.getLangMsg)("msg.permissionTitle"),type:d.EMOTIONAL_TYPE_PERMISSION_PROMPT},2:{imgUrl:s.default,title:(0,c.getLangMsg)("msg.bizTitle"),type:d.EMOTIONAL_TYPE_SUBMIT_PROMPT},3:{imgUrl:f.default,title:(0,c.getLangMsg)("msg.comingsoon"),type:d.EMOTIONAL_TYPE_STAY_TUNED}};if(!(0,A.getRootPageId)()(t))return null;if(!m)return null;Array.isArray(m)&&m.length>=1&&(T=m[0]);var R=function(e){var t=U[e.messageType]||U[2],n=(0,p.getCommonEmotionalInfo)(t.type),r=n.imagePath,a=n.description;return{imgUrl:r||t.imgUrl,title:a||t.title}}(T),x=R.title,Q=R.imgUrl,V=function(){return r()};T&&T.onClose&&(V=function(){r(),T.onClose()});var z=y?{zIndex:1050}:{zIndex:1049},F=Number((0,p.getFieldDefaultProps)(b.default.DIALOG,[h.default.DIALOG_TYPE]))||0,N=a.default.createElement("div",{className:"modal",onClick:function(e){var t=e.target.dataset.messageButton;if(t){var n=e.target.parentElement.dataset.msgcode,r=(0,C.getData)(M.KEY_GLOBAL_MESSAGE_ACTION_KEY);switch(t){case"link":(0,C.setData)(M.KEY_UI_ACTION,{tableName:"click",key:r,type:"prompt_error",methodName:"prompt_click_link",args:[{controlKey:n}]});break;case"copy":(0,C.setData)(M.KEY_UI_ACTION,{tableName:"click",key:r,type:"prompt_error",methodName:"prompt_click_copy",args:[{controlKey:n}]});break;case"useless":var a=S.current.findIndex((function(e){return e===n}));-1===a?S.current.push(n):S.current.splice(a,1)}}}},a.default.createElement(o.default,L({},j,T,{setDialogRef:E,setDragRef:I,key:m.messageType,style:z,message:m,clickCallback:n,closeAndCallBack:V,destroy:r,isConfirm:!1,title:x,buttonType:0,imgUrl:Q,dialogType:F})));return l.default.createPortal(N,document.body)};t.default=function(e){var t=e.state,n=e.clickCallback,r=P(e,j),l=(0,a.useContext)(y.SystemUIContext).close,o={businessMessageCount:0,permissionMessageCount:0,defaultMessageCount:0,comingSoonMessageCount:0},s=(0,A.getRootPageId)()(t);if(!s)return null;var i=function(e,l,s){if(0===s){if(1===o.businessMessageCount)return;o.businessMessageCount++}else if(1===s){if(1===o.permissionMessageCount)return;o.permissionMessageCount++}else if(2===s){if(1===o.defaultMessageCount)return;o.defaultMessageCount++}else if(3===s){if(1===o.comingSoonMessageCount)return;o.comingSoonMessageCount++}var i=e[e.length-1],f=(i&&x(i.messageType))===s;return a.default.createElement(V,L({},r,{state:t,clickCallback:n,isIndex:f,key:s,deleteMessage:function(){return u(e,s,t)},message:l}))},u=function(e,t,n){var r=(0,A.getRootPageId)()(n),a=Array.isArray(e)&&e.filter((function(e){return x(e.messageType)!==t}));m.default.dispatch((0,A.convertAppModelFunctionAction)((0,A.setMessage)(r,a))),!a.length&&l&&l()},f=(0,A.getMessage)(s)(t)||[],c=Q(f,0)||[],g=Q(f,1)||[],p=Q(f,2)||[],d=Q(f,3)||[];return f.map((function(e){return c.includes(e)?i(f,c,S)||null:g.includes(e)?i(f,g,T)||null:p.includes(e)?i(f,p,U)||null:d.includes(e)?i(f,d,R)||null:void 0}))}},459336:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKgAAABgCAMAAAC+LslfAAAAyVBMVEUAAABuh69+i6Z9jKVsgKf9mR57h6pshaf+mhz/mh3/mRyHjJT/mx7/nh6gj3v9mR/nlzTelDz+mR7/mR34mCT/mR3xmCv/mh3/mR3/mh7/mx6Ajqf/pR7/nSf/qhzelz/rljCSj43Dk1u9kl71mCfXlUbRlU3IlFbllzizkW6ukm/alkSTj4f/nB//mRz/////slT/pzv/9Of/057/xHz/t1//ojH/nCL/+PD/7tr/6c7/4b3/z5X/yor/yIX/wHP/u2f/sVH/q0XeUe3pAAAALnRSTlMAM01mGuwvHvWDajs2GUbWm4jo5NXLt6aPeVxHEQ0Jt6VxXlvkrqadk4eFfEAxe/H8HQAAAjhJREFUaN7t2ddy2kAYhuG1k5VQQfTeDLjE7VuEbXBv939RWXLgmaAf0ExE9sfsc8IZ847KNgnLsizLsixr3zmdw0x1HLEVzmHmtlPayT60I7Yh00vpus7iV2icQ52fmrMDoe4i1LWhe3jrd+Zl+sOG6v/djdCDLRCaDbWhNtSG2lCuoT/+mQ3do9Dh+dnpycnp2fmQc+jF4BhfjgcXPEOHA4kl8ihiNzwFxRwIuWLAK7QksYIsMQoN6lijHnAJjapYqxrxCB1LbCDHYsFwaCSxkcyLhW2Fppp1gipSqPWFMBxaRyoNIcyGlpCSbzY0kFg2m2gzLJM9o6FFJNwo7QYJnsnQKIeEZ6U9IyGXzzw0vSMkvSjtBUlNg6FlJN0q7RZJFXOhIxDelPYGQmgstAjCu9LeQfCMhRZAuFPaHQgFU6FXoHwo7QOUrqHQESifSvsEJTQUeglKrLQYlLah0BIoM6XNQPENhf4CZa60OSgtVqFQGliFlkC6V+oerG79JUhTpaZg9TKNQHpQ6gGshqcrkB6VegSrAZ+eQhFPJjFYTaEHRazEa1Eyxkq8lnkHZVDiGOC1cCa3IvMnpZ7mzLYiUW7VVoTZ5o7JdjmFQKZd4cuewVB6vn+dTl//y5GOky7R/CGZm67Q/LGjcJ2sD3LLecHAdXlj57VgIV/DWjUW13Oh38Aajb7gw5dYQfqClZ5Hf2L0eoKbfLOCJZUmm6fzb6FXwJeCFwrGumHbb7X8dtgVlmVZ38pvJW1q54MVl4cAAAAASUVORK5CYII="},951576:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKgAAABgCAMAAAC+LslfAAAAnFBMVEUAAABuh69+i6Z9jKUscfEocPZ7jKs1ePMzd/Z+jKZsgqiaueJ3iqwocPWy1P2rzPaPq9R+nMJrhKUrdf+ZuN+z1P6x0/uu0fqszfYvcu6kxO6fvuaYt96z1/9xjrOAjKQqcvYocPVUgMiz1f8nb/U4fPdtovupzv+BsfxmnfotdPZPjPmYwv6Svv2t0P+jyf6dxf6WwP2Muf0/gfdQLPsYAAAAI3RSTlMAM01mzMBI2c9fGmgvoOKsUj8fGFvx18mzs4dwY0A2KsOfRpHd7n4AAAIZSURBVGje7NS7CsMwDIXhE6eoOHEWd8pkenn/Z6xIhwzFJgELbHK+SZP5QcggIiIioqtL4qqSBBPJVWdTKq46gQVXUYgxOAXVcmiYVOggNE4qMvSCq+/mmDYM1Xf7CB0MQDGUoQxlKEMZylCGMnT3Wm8FywMwDBXvpTzv1k/RAtiFyqgkN58LfQJ2oX5UPjv/r/6e8Vt9I6FqfmfMAzZNrP5QaAvHVAxt6Xv6tmdmKQpDQRRNPhoaoxlwxAmbk5jBWfe/t1bT6ks0CC3CFXJWcKBSr+pWjoypYCwm6lOBLyYaAPOwxBwIxERtF3Zl0SW4UiP0hAdERc8I8OREHSApiiaAIydq94CF6bkAelrb05kRsImMwm+AkaCoPQBWN9EVMBDbR3MCF0jMD9QNJEVtvwukuWcKdH21Db8w8BeXRsKRiyJXhsD6EIaHNTDUy0w3vLyhdoAnGO5uTPtAFAH9qbSo3bmIdhTj8geKfkzpPXJR9WYachHVfp4crqLSD77fNUSFR2jgYorqLiUDiqKqa96Isqjo4ty7E9WMIg73opLhznsgKhmXXXLiJM2yNIk5IXiACP400yw8k6Ux8L6TTvO1I9nWjMtbTvhN6x00Xjo7LrPQIFsCjBvWW2g0/9/0cfn2FAMdS4sJsJ+X2AMTS4sJj1ATbbe+Zt8VzL5abUuF1rM/dyo8Ef2xVDiWvhql0tfU1NTUaPAL7euYPWhnyOoAAAAASUVORK5CYII="},607844:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKgAAABgCAMAAAC+LslfAAAAyVBMVEUAAABuh69+i6Z9jKVsgKf9mR57h6pshaf+mhz/mh3/mRyHjJT/mx7/nh6gj3v9mR/nlzTelDz+mR7/mR34mCT/mR3xmCv/mh3/mR3/mh7/mx6Ajqf/pR7/nSf/qhzelz/rljCSj43Dk1u9kl71mCfXlUbRlU3IlFbllzizkW6ukm/alkSTj4f/nB//mRz/////slT/pzv/9Of/057/xHz/t1//ojH/nCL/+PD/7tr/6c7/4b3/z5X/yor/yIX/wHP/u2f/sVH/q0XeUe3pAAAALnRSTlMAM01mGuwvHvWDajs2GUbWm4jo5NXLt6aPeVxHEQ0Jt6VxXlvkrqadk4eFfEAxe/H8HQAAAjhJREFUaN7t2ddy2kAYhuG1k5VQQfTeDLjE7VuEbXBv939RWXLgmaAf0ExE9sfsc8IZ847KNgnLsizLsixr3zmdw0x1HLEVzmHmtlPayT60I7Yh00vpus7iV2icQ52fmrMDoe4i1LWhe3jrd+Zl+sOG6v/djdCDLRCaDbWhNtSG2lCuoT/+mQ3do9Dh+dnpycnp2fmQc+jF4BhfjgcXPEOHA4kl8ihiNzwFxRwIuWLAK7QksYIsMQoN6lijHnAJjapYqxrxCB1LbCDHYsFwaCSxkcyLhW2Fppp1gipSqPWFMBxaRyoNIcyGlpCSbzY0kFg2m2gzLJM9o6FFJNwo7QYJnsnQKIeEZ6U9IyGXzzw0vSMkvSjtBUlNg6FlJN0q7RZJFXOhIxDelPYGQmgstAjCu9LeQfCMhRZAuFPaHQgFU6FXoHwo7QOUrqHQESifSvsEJTQUeglKrLQYlLah0BIoM6XNQPENhf4CZa60OSgtVqFQGliFlkC6V+oerG79JUhTpaZg9TKNQHpQ6gGshqcrkB6VegSrAZ+eQhFPJjFYTaEHRazEa1Eyxkq8lnkHZVDiGOC1cCa3IvMnpZ7mzLYiUW7VVoTZ5o7JdjmFQKZd4cuewVB6vn+dTl//y5GOky7R/CGZm67Q/LGjcJ2sD3LLecHAdXlj57VgIV/DWjUW13Oh38Aajb7gw5dYQfqClZ5Hf2L0eoKbfLOCJZUmm6fzb6FXwJeCFwrGumHbb7X8dtgVlmVZ38pvJW1q54MVl4cAAAAASUVORK5CYII="}}]);