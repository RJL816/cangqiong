(self["webpackJsonp_bos-platform"]=self["webpackJsonp_bos-platform"]||[]).push([[8600,9860],{160960:function(e,t,n){"use strict";n.r(t),t.default={parentDiv:"_1h8iJkOB",firstChildDiv:"_1tVZXKD2",textAlignRight:"_9YUFbywo",unvisiable:"_3z5Z57zy",visiable:"mlFJy8_a",divButtonStyle:"_2d97084K",divLabelStyle:"_2HJnu6LN",toolbarStyle:"ZhLMoVLU"}},378536:function(e,t,n){"use strict";n.r(t),t.default={anvBodyExpand:"_2_2tB1p4",anvBody:"_3OaArig4",splitSignExpand:"_26Lr1pQS",splitSignExpandHiden:"_3k6dLKH5",splitSign:"_28kOX-x_",splitSignArrow:"_2c6HcO5M",anvWarp:"g4z1MJGn",anvWarpHidden:"_2rZd3Yol",navHeadTab:"_2m1qtSZA",navHeadTabSpanClick:"yaF8alTt",notifySign:"m1zBDtbb",naviContainer:"_3oN4D0HQ",generalItemsul:"PFM4e7Jj",itemDiv:"bVGaARNw",contentText:"rx0ML6VY",contentTextHover:"RmfEDmlR",leftImgCss:"_6usTdqpq",rightImgCss:"_17MvSPrD",twoContainer:"zJNF_EHB",twoContainerHide:"_5EcGZljz",addNewFolder:"_3DctB4NI",operate:"bpqchiK-",myfolderText:"_2iTTPM9c",updateImag:"_31wgugY-",deleteImag:"_3hcp8_rr",customItemsul:"_22H4FK0f",customItemDiv:"_1Wc5RE_V",customItemEditDiv:"_2E3sTxSR",settingAuto:"_6ThwmFc7",settingImg:"_3HZuIBa8",svgHoverColor:"_1YxgdNiS"}},930348:function(e,t,n){"use strict";n.r(t),t.default={commonfilter:"_3OkeprRw",bar:"_1ZaHGTui",bar_field:"_135tqMbk",bar_conditon:"_1UESC00x",bar_vlue:"_2QXlSypq",bar_logic:"CP1lM3Hj",bar_item:"_34ZbqNnW",field:"_275OQmWJ",content:"_3ldpl6Xi","content-msgcenter":"_1x0gnMEy",operation:"_3c8vI_U1","operation-msgcenter":"_378pr_tv",option:"_8UZzZNhq","option-msgcenter":"_2FOfjaBI","option-text":"_1ucvJFhl","option-add":"_1vZgi33r","o-add-flag":"_2CwigEs4","o-add-text":"_1ZvrAK6H","option-msgcenter-add":"Vnj3sxaD","option-insert":"_1oLbO-a-","o-insert-flag":"_3V5vPmy3","advance-condition":"_3cfQM4NF",seq:"_2vDZYQgg","advance-msgcenter-condition":"_3K_kNRMR","condition-field":"_2dxNJN8V","condition-field-first":"rPtWWj8w","condition-msgcenter-field-first":"_2hivkbW7","condition-f-text":"_11sVwijS","sq-conditon-del":"_3_wGttnA","sq-condition-insert":"rn85dpzm","sq-conditon-and":"_3G2TdYWa",conditionalrule:"_1EXvQ6Pf",valueType:"_3hYuMLlO",addOneInput:"rULjl7Zz"}},156384:function(e,t,n){"use strict";n(606200),Object.defineProperty(t,"__esModule",{value:!0}),t.DATA_SHOWMODIFYPAGE=t.DATA_SELECTONCHANGE=t.DATA_RADIOONCHANGE=t.DATA_INITIALIZATION=void 0,t.doRecallOp=function(e,t,n,r){return function(i,l){var u={labelItem:t,labelItems:n,checkedValue:r};$.ajax({type:"POST",url:"form/batchInvokeAction.do",dataType:"json",data:o(e,"doRecallOp",JSON.stringify(u)),success:function(t){(0,a.doPostActions)(e,t,i)}})}},t.radioOnChange=function(e,t){return function(n,r){var i={checkedValue:t};$.ajax({type:"POST",url:"form/batchInvokeAction.do",dataType:"json",data:o(e,"radioOnChange",JSON.stringify(i)),success:function(t){(0,a.doPostActions)(e,t,n)}})}},t.selectOnChange=function(e,t,n){return function(r,i){var l={checkedValue:t,selectValue:n};$.ajax({type:"POST",url:"form/batchInvokeAction.do",dataType:"json",data:o(e,"selectOnChange",JSON.stringify(l)),success:function(t){(0,a.doPostActions)(e,t,r)}})}},t.showModifyPage=function(e,t,n,r){return function(i,l){var u={labelItem:t,labelItems:n,checkedValue:r};$.ajax({type:"POST",url:"form/batchInvokeAction.do",dataType:"json",data:o(e,"showModifyPage",JSON.stringify(u)),success:function(t){(0,a.doPostActions)(e,t,i)}})}},t.submitData=function(e,t,n,r,i,l,u){return function(d,s){var c={checkedValue:t,isShowNextNode:n,isShowReturnNode:r,selectValue:i,labelItems:l,textAreaValue:u};$.ajax({type:"POST",url:"form/batchInvokeAction.do",dataType:"json",data:o(e,"submitData",JSON.stringify(c)),success:function(t){(0,a.doPostActions)(e,t,d)}})}};var a=n(251536);t.DATA_INITIALIZATION="DATA_INITIALIZATION",t.DATA_RADIOONCHANGE="DATA_RADIOONCHANGE",t.DATA_SELECTONCHANGE="DATA_SELECTONCHANGE",t.DATA_SHOWMODIFYPAGE="DATA_SHOWMODIFYPAGE";function o(e,t,n){return n?{pageId:e,params:'[{"key":"approvalprocessingap","methodName":"itemClick","args":['+n+',"'+t+'"],"postData:[]}]'}:{pageId:e,params:'[{"key":"approvalprocessingap","methodName":"itemClick","args":[{},"'+t+'"],"postData:[]}]'}}},548240:function(e,t,n){"use strict";function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}n(182320),n(909112),n(697060),n(743924),n(606200),n(534440),n(387912),n(78504),n(776512),n(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.SHOW_WFNAVIGATION=t.REFRESH_WFNAVIGATION=void 0,t.updateSelectedType=function(e,t){return o.doDispath(e,(function(n){var a=n.dispatch;n.post;o.mergeState(r.UPDATE_CONTROL_STATES,e.pageId,[{key:e.key,selectedTab:t}],a)}))};var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var u=r?Object.getOwnPropertyDescriptor(e,l):null;u&&(u.get||u.set)?Object.defineProperty(o,l,u):o[l]=e[l]}return o.default=e,n&&n.set(e,o),o}(n(251536)),r=n(29804);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}t.SHOW_WFNAVIGATION="SHOW_WFNAVIGATION",t.REFRESH_WFNAVIGATION="refreshWfNavigation"},359856:function(e,t,n){"use strict";n(182320),n(909112),n(697060),n(743924),n(606200),n(534440),n(78504),n(776512),n(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.VALUETYPE=t.VALUE=t.SETUPDF7VALUE=t.SETEXPRESSIONANDROWDATA=t.RIGHTBRACKET=t.PASTECONDITION=t.MULTIPROPKEY=t.LOGAIC=t.LOAD_WF_CONDITIONS=t.LOADCONDITIONRESULT=t.LEFTBRACKET=t.ISHIDEEXP=t.HASQUOTES=t.EXPRESSION=t.DELETEALLUPDCONDITION=t.COPYCONDITION=t.COMPARETYPE=t.ADDUPDCONDITION=void 0,t.deleteEntityId=function(e,t){var n=[{key:e.key,methodName:"deleteBillType",args:[{taskEntityNumber:"delete"}],postData:e.getPost()}],a={};a.pageId=e.pageId,a.params=n;var o=Object.keys(a).map((function(e){return e+"="+p(a[e])})).join("&");f("form/batchInvokeAction.do",o,t,e)},t.expressionClickForWf=function(e,t){var n=t.clientType,a=t.rowIndex,o=t.entityId,l=t.expression,u=t.isVal,d=t.leftEntryPath;return function(t,s){r.invokeControlService(e,"expressionClickForWf",[n,a,o,l,u,d],(0,i.getPost)(e.pageId)(s()),t)}},t.f7ClickForWf=function(e,t){var n=t.isMulti,a=t.clientType,o=t.rowIndex,l=t.entityId,u=t.value,d=t.compareType,s=t.fieldName,c=t.valueNumber;return function(t,f){r.invokeControlService(e,"f7Click",[l,n,a,o,u,d,s,c],(0,i.getPost)(e.pageId)(f()),t)}},t.f7ClickForWfUpd=function(e,t){var n=t.isMulti,a=t.clientType,o=t.rowIndex,l=t.entityId,u=t.value,d=t.compareType;return function(t,s){r.invokeControlService(e,"f7Click",[l,n,a,o,u,d],(0,i.getPost)(e.pageId)(s()),t)}},t.onConditionChange=function(e,t,n){var a=[{key:e.key,methodName:"onConditionChange",args:[{value:t}],postData:e.getPost()}],o={};o.pageId=e.pageId,o.params=a;var r=Object.keys(o).map((function(e){return e+"="+p(o[e])})).join("&");f("form/batchInvokeAction.do",r,n,e)},t.onConditionUpdChange=function(e,t,n,a){var o=[{key:e.key,methodName:"onConditionChange",args:[{value:t,changedData:a}],postData:e.getPost()}],r={};r.pageId=e.pageId,r.params=o;var i=Object.keys(r).map((function(e){return e+"="+p(r[e])})).join("&");f("form/batchInvokeAction.do",i,n,e)},t.postPasteConditions=function(e,t,n,a,o){var r=[{key:e.key,methodName:"onConditionChange",args:[{value:n,pasteState:a,msg:o}],postData:[]}],i={};i.pageId=e.pageId,i.params=r;var l=Object.keys(i).map((function(e){return e+"="+p(i[e])})).join("&");f("form/batchInvokeAction.do",l,t,e)},t.updateWFResult=function(e,t,n){return r.doDispath(e,(function(i){var l=i.dispatch;i.post;r.mergeState(o.UPDATE_CONTROL_STATES,e.pageId,[{key:e.key,resultSet:t}],l),r.mergeState(o.UPDATE_CONTROL_STATES,e.pageId,[{key:e.key,conditionItems:n}],l),r.mergeState(a.UPDATE_CONTROL_VIEW,e.pageId,{key:e.key,value:t,updateData:!1},l)}))},t.updateWFSelected=function(e,t){return r.doDispath(e,(function(n){var i=n.dispatch;n.post;r.mergeState(o.UPDATE_CONTROL_STATES,e.pageId,[{key:e.key,selected:t}],i);var l,d=t.added;d&&d.forEach((function(e){void 0!==(l=e[u.QP_VALUE])&&"[object Array]"!==Object.prototype.toString.call(l)&&(e[u.QP_VALUE]=l)}));r.mergeState(a.UPDATE_CONTROL_VIEW,e.pageId,{key:e.key,value:d,updateData:!1},i)}))},n(233696),n(686456),n(835164),n(976896),n(76124),n(387912),n(497448),n(690512),n(997308);var a=n(373728),o=n(29804),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=c(e)&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(n(251536)),i=(d(n(790832)),n(218652)),l=d(n(996283)),u=n(290600);n(891052);function d(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}t.LOAD_WF_CONDITIONS="loadWfConditions",t.SETEXPRESSIONANDROWDATA="setExpressionAndRowData",t.SETUPDF7VALUE="setUpdF7Value",t.LOADCONDITIONRESULT="loadConditionResult",t.ADDUPDCONDITION="addUpdCondition",t.DELETEALLUPDCONDITION="deleteAllUpdCondition",t.COPYCONDITION="copyCondition",t.PASTECONDITION="pasteCondition",t.LEFTBRACKET="leftbracket",t.EXPRESSION="expression",t.COMPARETYPE="comparetype",t.VALUETYPE="valuetype",t.VALUE="value",t.RIGHTBRACKET="rightbracket",t.LOGAIC="logaic",t.HASQUOTES="hasquotes",t.MULTIPROPKEY="multiPropKey",t.ISHIDEEXP="isHideExp";function f(e,t,n,a){fetch(e,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8;",ajax:!0,traceId:(0,l.default)()},body:t,mode:"cors",credentials:"include"}).then((function(e){if(e.ok)return e.json();throw new Error(e.statusText)})).then((function(e){null!=n&&r.doPostActions(a.pageId,e,n)}))}function p(e){return"object"===c(e)?encodeURIComponent(JSON.stringify(e)):encodeURIComponent(e)}},521460:function(e,t,n){"use strict";function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}n(182320),n(909112),n(697060),n(360776),n(743924),n(205960),n(846428),n(708896),n(606200),n(534440),n(670864),n(836887),n(78504),n(776512),n(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(233696),n(297336),n(721300),n(336368),n(880920),n(387912),n(997308);var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(o,i,l):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(n(795520)),r=(p(n(671252)),p(n(160960))),i=n(156384),l=n(218652),u=n(564491),d=p(n(827120)),s=p(n(789392)),c=p(n(134824)),f=n(331428);function p(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},g.apply(this,arguments)}function y(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,v(a.key),a)}}function v(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=a(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:String(t)}function h(e,t,n){return t=E(t),function(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,b()?Reflect.construct(t,n||[],E(e).constructor):t.apply(e,n))}function b(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(b=function(){return!!e})()}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}function C(e,t){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},C(e,t)}t.default=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=h(this,t,[e])).state={textArea:""},n}var n,a,p;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C(e,t)}(t,e),n=t,(a=[{key:"renderMoreRadio",value:function(e,t,n,a,r){var i=this,l=[],d={};return 0!=e.length&&e.forEach((function(e,s){d.value=e.value,d.text=e.text,d.name=e.name,null!=t?e.value==t?d.checked=!0:d.checked=!1:d.checked=e.checked,l.push(o.default.createElement(u.Radio,g({style:r},d,{key:"radio_"+s,onChange:function(e){return i.radioOnChange(n,a.pageId,e.target.value)}})))})),l}},{key:"renderMoreHref",value:function(e,t,n,a,l,u,d,p,m){for(var g,y,v=[],h=function(l){g="radio"+l,y=e[l].isShowRecall,t?v.push(o.default.createElement("div",{key:"showHrefDiv"},o.default.createElement("label",{htmlFor:g,key:"label_href_more"+l,style:n},e[l].text),o.default.createElement(c.default,{key:"change",title:(0,f.getLangMsg)({key:"ApprovalProcessing.xiugai"}),onClick:function(t){return d((0,i.showModifyPage)(u.pageId,e[l],e,m))},style:Object.assign({},p,{marginLeft:"10px"}),className:r.default.toolbarStyle}))):a?v.push(o.default.createElement("div",{className:r.default.divLabelStyle,key:"label_div"+l},o.default.createElement("label",{htmlFor:g,key:"label_href_select"+l,style:n},e[l].text),o.default.createElement("img",{src:s.default,title:(0,f.getLangMsg)({key:"ApprovalProcessing.zanshiwufajisuan"}),key:"label_href_more",style:n}))):v.push(o.default.createElement("label",{htmlFor:g,key:"label_href_select"+l,style:n},e[l].text,";")),t&&y&&v.push(o.default.createElement(c.default,{key:"recall",title:(0,f.getLangMsg)({key:"ApprovalProcessing.cexiao"}),onClick:function(t){return d((0,i.doRecallOp)(u.pageId,e[l],e,m))},style:Object.assign({},p,{marginLeft:"-10px"}),className:r.default.toolbarStyle}))},b=0;b<e.length;b++)h(b);return v}},{key:"renderSelect",value:function(e,t,n,a,l,u,c,p,m,y){var v,h=[],b=[],E={required:!0};0!=e.length&&(e.forEach((function(e){b.push({value:e.value,alias:e.text})})),h.push(o.default.createElement(d.default,g({style:a},E,{items:b,key:"select_"+e.length,onChange:function(e){return u((0,i.selectOnChange)(c.pageId,p,e))},value:t}))));for(var C=0;C<n.length;C++)v="radio"+C,y?h.push(o.default.createElement("div",{className:r.default.divLabelStyle,key:"label_div"+C},o.default.createElement("label",{htmlFor:v,key:"label_href_select"+C,style:m},n[C].text),o.default.createElement("img",{src:s.default,title:(0,f.getLangMsg)({key:"ApprovalProcessing.zanshiwufajisuan"}),key:"label_href_more",style:m}))):h.push(o.default.createElement("label",{htmlFor:v,key:"label_href_select"+C,style:m},n[C].text,";"));return h}},{key:"radioOnChange",value:function(e,t,n){var a=localStorage.getItem(t+n),o=null==a?"":a;this.setState({textArea:o}),e((0,i.radioOnChange)(t,n))}},{key:"getTextArea",value:function(e,t,n){localStorage.setItem(n+t,e),this.setState({textArea:e})}},{key:"submitData",value:function(e,t,n,a,o,r,l,u,d){0!=a.length&&a.forEach((function(e,n){localStorage.removeItem(t+e.value)})),e((0,i.submitData)(t,n,o,r,l,u,d))}},{key:"render",value:function(){var e=this,t=this.props,n=t.model,a=t.dispatch,i=n.state,d=(0,l.getDevportalParams)(n.pageId,"radioArry")(i),s=(0,l.getDevportalParams)(n.pageId,"labelItems")(i),c=(0,l.getDevportalParams)(n.pageId,"selectItems")(i),p=(0,l.getDevportalParams)(n.pageId,"selectValue")(i),m=(0,l.getDevportalParams)(n.pageId,"isShowNextNode")(i),g=(0,l.getDevportalParams)(n.pageId,"isShowReturnNode")(i),y=(0,l.getDevportalParams)(n.pageId,"isShowtips")(i),v=(0,l.getDevportalParams)(n.pageId,"checkedValue")(i),h=m?"visiable":"unvisiable",b=g?"visiable":"unvisiable",E=(0,l.getDevportalParams)(n.pageId,"isShowHref")(i),C=localStorage.getItem("approvalProcessingPageId");n.pageId!=C&&(0!=d.length&&d.forEach((function(e,t){localStorage.removeItem(C+e.value)})),localStorage.removeItem("approvalProcessingPageId")),localStorage.setItem("approvalProcessingPageId",n.pageId);var k={textDecoration:"underline",cursor:"pointer",fontStyle:"italic"},A={padding:"2px 0px 0px 10px",display:"inline-block",float:"left"};return o.default.createElement("div",{id:"approvalProcessingId",className:r.default.parentDiv},o.default.createElement("div",{className:r.default.firstChildDiv},o.default.createElement("form",null,o.default.createElement("table",null,o.default.createElement("tbody",null,o.default.createElement("tr",null,o.default.createElement("td",{className:r.default.textAlignRight},(0,f.getLangMsg)({key:"ApprovalProcessing.chuli"})),o.default.createElement("td",null,this.renderMoreRadio(d,v,a,n,{float:"left",paddingRight:"10px"}))),o.default.createElement("tr",{className:r.default[h]},o.default.createElement("td",{className:r.default.textAlignRight},(0,f.getLangMsg)({key:"ApprovalProcessing.xiayijiedian"})),o.default.createElement("td",null,this.renderMoreHref(s,E,A,y,k,n,a,{width:"48px",height:"20px",color:"rgb(85, 119, 196)",borderRadius:"2px",textAlign:"center",borderWidth:"1px",borderStyle:"solid",borderColor:"rgb(85, 119, 196)",background:"white",float:"left"},v))),o.default.createElement("tr",{className:r.default[b]},o.default.createElement("td",{className:r.default.textAlignRight},(0,f.getLangMsg)({key:"ApprovalProcessing.dahuizhijiedian"})),o.default.createElement("td",null,this.renderSelect(c,p,s,{width:"200px",float:"left",position:"relative",borderBottom:"1px",borderBottomStyle:"solid"},k,a,n,v,A,y))),o.default.createElement("tr",null,o.default.createElement("td",{className:r.default.textAlignRight},(0,f.getLangMsg)({key:"ApprovalProcessing.yijian"})),o.default.createElement("td",null,o.default.createElement(u.TextArea,{placeholder:(0,f.getLangMsg)({key:"ApprovalProcessing.shenpiyijianzuiduo"}),maxLength:"50",value:this.state.textArea,id:"testtextarea",style:{minWidth:"500px",minHeight:"100px",padding:"0px 5px",borderWidth:"1px",borderStyle:"solid",borderImage:"initial"},ref:"textAreaValue",onChange:function(t){return e.getTextArea(t.target.value,v,n.pageId)}}))))))),o.default.createElement("div",{className:r.default.divButtonStyle},o.default.createElement(u.Button,{style:{width:"80px",backgroundColor:"#f2f2f2"},onClick:function(t){return e.submitData(a,n.pageId,v,d,m,g,p,s,e.state.textArea)},text:(0,f.getLangMsg)({key:"ApprovalProcessing.tijiao"})})))}}])&&y(n.prototype,a),p&&y(n,p),Object.defineProperty(n,"prototype",{writable:!1}),t}(o.Component)},869600:function(e,t,n){"use strict";n(182320),n(909112),n(697060),n(360776),n(743924),n(205960),n(846428),n(708896),n(606200),n(534440),n(670864),n(836887),n(78504),n(776512),n(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(9692),n(233696),n(686456),n(835164),n(693917),n(297336),n(721300),n(76124),n(880920),n(387912),n(497448),n(997308);var a=m(n(795520)),o=(f(n(540900)),m(n(548240))),r=n(251536),i=n(218652),l=f(n(378536)),u=(f(n(123952)),f(n(996283))),d=n(331428),s=f(n(671252)),c=n(738704);function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=g(e)&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function y(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,v(a.key),a)}}function v(e){var t=function(e,t){if("object"!=g(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=g(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==g(t)?t:String(t)}function h(e,t,n){return t=E(t),function(e,t){if(t&&("object"===g(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,b()?Reflect.construct(t,n||[],E(e).constructor):t.apply(e,n))}function b(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(b=function(){return!!e})()}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}function C(e,t){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},C(e,t)}t.default=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=h(this,t,[e])).state={showChildren:{wf_task:1},imgHover:{},folderState:1,isExpand:!0,expandSignVisible:!1},n}var n,f,p;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C(e,t)}(t,e),n=t,(f=[{key:"tabClick",value:function(e,t){var n=this.props,a=n.model;(0,n.dispatch)((0,o.updateSelectedType)(a,t));var r=[{key:a.key,methodName:"itemClick",args:[{currentTab:t},"tabClick"],postData:[]}];this.senderDataToServer(r)}},{key:"componentDidMount",value:function(){var e=this;this.removeRefreshNavDataListener=(0,c.addDataChangeListener)(this.props.model.pageId,[this.props.model.key,"refreshNavData"],(function(){var t=e.props;t.model,t.dispatch,e.refreshNavData()}))}},{key:"componentWillUnmount",value:function(){this.removeRefreshNavDataListener&&this.removeRefreshNavDataListener()}},{key:"render",value:function(){var e=this,t=this.props.model,n=(t.state,t.getDataProperty("navigationItems")),o=t.getDataProperty("selectedTab")||"task",r=t.getDataProperty("expandItem");if(!n)return a.default.createElement("div",null);var i=n.task,u=n.message,c=[],f=[],p={},m={};i.forEach((function(e,t){"general"==e.category?c[c.length]=e:"transfer"==e.category?p=e:"delegate"==e.category?m=e:f[f.length]=e}));var g=(0,d.getLangMsg)({key:"KDWFNavigationBar.bianji"}),y=(0,d.getLangMsg)({key:"KDWFNavigationBar.wancheng"}),v=(0,d.getLangMsg)({key:"KDWFNavigationBar.xinzeng"}),h=this.state.folderState?g:y,b=(0,s.default)("kdfont kdfont-bianji",l.default.updateImag),E=(0,s.default)("kdfont kdfont-wancheng7",l.default.updateImag),C=this.state.folderState?b:E,k=a.default.createElement("div",{className:l.default.naviContainer},a.default.createElement("ul",{style:{width:"100%"}},this.renderGeneralItems(c,r)),a.default.createElement("ul",{style:{width:"100%"}},this.renderTransform(p,r)),a.default.createElement("ul",{className:l.default.generalItemsul},this.renderDelegateform(m,r)),a.default.createElement("div",{className:l.default.addNewFolder},a.default.createElement("span",{className:l.default.myfolderText},(0,d.getLangMsg)({key:"KDWFNavigationBar.wodewenjianjia"})),a.default.createElement("span",{className:l.default.operate,style:{marginRight:4,marginLeft:10},title:v,onClick:function(t){e.addCustomFolder.bind(e)(t)}},a.default.createElement("div",{className:(0,s.default)("kdfont kdfont-zengjia-yuan",l.default.updateImag)})),f&&f.length>0?a.default.createElement("span",{className:l.default.operate,title:h,onClick:function(t){e.editFolder.bind(e)(t)}},a.default.createElement("div",{className:C})):""),a.default.createElement("ul",{style:{width:"100%"}},this.renderCustomItems(f,r)),a.default.createElement("div",{className:l.default.settingAuto},a.default.createElement("span",{className:(0,s.default)("kdfont kdfont-shezhi",l.default.settingImg),onClick:function(t){e.setAutoRuler.bind(e)(t)}}),a.default.createElement("span",{onClick:function(t){e.setAutoRuler.bind(e)(t)}}," ",(0,d.getLangMsg)({key:"KDWFNavigationBar.zidongchulishezhi"})," "))),A=a.default.createElement("div",{className:l.default.naviContainer},a.default.createElement("ul",{style:{width:"100%"}},this.renderGeneralItems(u))),I=0,P=0,_={};c.forEach((function(e,t){"wf_task"==e.number&&(_=e)})),null!=_.children&&_.children.length>0&&_.children.forEach((function(e,t){I+=e.count})),u.forEach((function(e,t){P+=e.count}));var O="splitSignExpand";O=this.state.isExpand?this.state.expandSignVisible?"splitSignExpand":"splitSignExpandHiden":"splitSign";var T=this.state.isExpand?(0,d.getLangMsg)({key:"KDWFNavigationBar.shouqicaidan"}):(0,d.getLangMsg)({key:"KDWFNavigationBar.zhankaicaidan"});return null!=u&&u.length>0?a.default.createElement("div",{className:this.state.isExpand?l.default.anvBodyExpand:l.default.anvBody,onMouseOver:function(t){e.expandAreaMouseOver.bind(e)(t)},onMouseOut:function(t){e.expandAreaMouseOut.bind(e)(t)}},a.default.createElement("div",{className:this.state.isExpand?l.default.anvWarp:l.default.anvWarpHidden},a.default.createElement("div",{className:l.default.navHeadTab},a.default.createElement("span",{className:"task"==o?l.default.navHeadTabSpanClick:"",onClick:function(t){e.tabClick.bind(e)(t,"task")}},(0,d.getLangMsg)({key:"KDWFNavigationBar.renwu"}),a.default.createElement("i",{className:0!=I?l.default.notifySign:""})),a.default.createElement("span",{className:"message"==o?l.default.navHeadTabSpanClick:"",onClick:function(t){e.tabClick.bind(e)(t,"message")}},(0,d.getLangMsg)({key:"KDWFNavigationBar.xiaoxi"}),a.default.createElement("i",{className:0!=P?l.default.notifySign:""}))),"task"==o?k:A),a.default.createElement("div",{className:(0,s.default)(l.default[O]),onClick:function(t){e.expandOrRetractMenu.bind(e)(t)}},a.default.createElement("i",{className:(0,s.default)(this.state.isExpand?"kdfont kdfont-qianfan":"kdfont kdfont-houfan",l.default.splitSignArrow),title:T}))):k}},{key:"renderTransform",value:function(e,t){var n=this;if(!e||""==e||e.length<1||0===Object.keys(e).length)return null;var o=[],r=this.state.imgHover[e.number],i=this.state.showChildren[e.number]||t==e.number,u=e.name||"",c=e.menuSvg;return o.push(a.default.createElement("li",{key:"transfer"},a.default.createElement("div",{className:l.default.customItemDiv,onMouseOver:function(t){n.setImgHoverState.bind(n)(t,e.number)},onMouseOut:function(t){n.setImgHoverState.bind(n)(t,e.number)},onClick:function(t){n.setShowSecondState.bind(n)(e.number)}},a.default.createElement("span",{className:this.getFristMenuSvgFont(c)}),a.default.createElement("span",{className:r?l.default.contentTextHover:l.default.contentText,title:e.name},u,"(",e.count,")"),a.default.createElement("span",{className:(0,s.default)(this.getUpDownSvgFont(i),l.default.rightImgCss)})),a.default.createElement("div",{className:i?l.default.twoContainer:l.default.twoContainerHide},a.default.createElement("ul",{style:{width:"100%"}},a.default.createElement("li",null,a.default.createElement("span",{onClick:function(t){n.customItemClick.bind(n)(t,e,"wf_task")}},(0,d.getLangMsg)({key:"KDWFNavigationBar.daichuli"}))),a.default.createElement("li",null,a.default.createElement("span",{onClick:function(t){n.customItemClick.bind(n)(t,e,"wf_hitaskinst")}},(0,d.getLangMsg)({key:"KDWFNavigationBar.yichuli"}))))))),o}},{key:"renderDelegateform",value:function(e,t){var n=this;if(!e||""==e||e.length<1||0===Object.keys(e).length)return null;var o=[],r=this.state.imgHover[e.number],i=this.state.showChildren[e.number]||t==e.number,u=e.name||"",c=e.menuSvg;return o.push(a.default.createElement("li",{key:"delegate"},a.default.createElement("div",{className:l.default.customItemDiv,onMouseOver:function(t){n.setImgHoverState.bind(n)(t,e.number)},onMouseOut:function(t){n.setImgHoverState.bind(n)(t,e.number)},onClick:function(t){n.setShowSecondState.bind(n)(e.number)}},a.default.createElement("span",{className:this.getFristMenuSvgFont(c)}),a.default.createElement("span",{className:r?l.default.contentTextHover:l.default.contentText,title:e.name},u,"(",e.count,")"),a.default.createElement("span",{className:(0,s.default)(this.getUpDownSvgFont(i),l.default.rightImgCss)})),a.default.createElement("div",{className:i?l.default.twoContainer:l.default.twoContainerHide},a.default.createElement("ul",{style:{width:"100%"}},a.default.createElement("li",null,a.default.createElement("span",{onClick:function(t){n.customItemClick.bind(n)(t,e,"wf_task")}},(0,d.getLangMsg)({key:"KDWFNavigationBar.daichuli"}))),a.default.createElement("li",null,a.default.createElement("span",{onClick:function(t){n.customItemClick.bind(n)(t,e,"wf_hitaskinst")}},(0,d.getLangMsg)({key:"KDWFNavigationBar.yichuli"}))),a.default.createElement("li",null,a.default.createElement("span",{onClick:function(t){n.customItemClick.bind(n)(t,e,"wf_delegatesetting_ext")}},(0,d.getLangMsg)({key:"KDWFNavigationBar.weituoshezhi"}))))))),o}},{key:"renderGeneralItems",value:function(e,t){var n=this;if(!e||""==e||e.length<1)return null;var o=[];return e.forEach((function(e,r,i){var u=n.state.showChildren[e.number]||t==e.number,d=n.state.imgHover[e.number],c=e.name+(e.count>0?"("+e.count+")":""),f=e.menuSvg;o.push(a.default.createElement("li",{key:"GeneralItems"+r},a.default.createElement("div",{className:l.default.itemDiv,onMouseOver:function(t){n.setImgHoverState.bind(n)(t,e.number)},onMouseOut:function(t){n.setImgHoverState.bind(n)(t,e.number)},onClick:function(t){n.menuClick.bind(n)(t,e,"")}},a.default.createElement("span",{className:n.getFristMenuSvgFont(f)}),a.default.createElement("span",{className:d?l.default.contentTextHover:l.default.contentText},c),e.children&&e.children.length>0?a.default.createElement("span",{className:(0,s.default)(n.getUpDownSvgFont(u),l.default.rightImgCss),id:"expansion"}):""),a.default.createElement("div",{className:u?l.default.twoContainer:l.default.twoContainerHide},a.default.createElement("ul",{style:{width:"100%"}},e.children&&e.children.length>0?n.renderChildren(e.children,e.number):""))))})),o}},{key:"renderChildren",value:function(e,t){var n=this,o=[];return e.forEach((function(e,r,i){o.push(a.default.createElement("li",{key:"wfNavigationItem"+r,onClick:function(a){n.menuClick.bind(n)(a,e,t)}},a.default.createElement("span",{title:"".concat(e.name,"(").concat(e.count,")")},e.name,"(",e.count,")")))})),o}},{key:"renderCustomItems",value:function(e,t){var n=this;if(null==e||e.length<1)return"";var o=[];return e.forEach((function(e,r){var i=n.state.imgHover[e.number],u=n.state.showChildren[e.number]||t==e.number,c=e.name||"";c=c.length>6?c.slice(0,5)+"...":c;var f=(0,s.default)("kdfont kdfont-bianji",l.default.updateImag),p=(0,s.default)("kdfont kdfont-shanchu",l.default.deleteImag),m=(0,d.getLangMsg)({key:"KDWFNavigationBar.bianji"}),g=(0,d.getLangMsg)({key:"KDWFNavigationBar.shanchu"});n.state.folderState?o.push(a.default.createElement("li",{key:"CustomItems"+r},a.default.createElement("div",{className:l.default.customItemDiv,onMouseOver:function(t){n.setImgHoverState.bind(n)(t,e.number)},onMouseOut:function(t){n.setImgHoverState.bind(n)(t,e.number)},onClick:function(t){n.setShowSecondState.bind(n)(e.number)}},a.default.createElement("span",{className:n.getFristMenuSvgFont(e.menuSvg)}),a.default.createElement("span",{className:i?l.default.contentTextHover:l.default.contentText,title:e.name},c,"(",e.count,")"),a.default.createElement("span",{className:(0,s.default)(n.getUpDownSvgFont(u),l.default.rightImgCss)})),a.default.createElement("div",{className:u?l.default.twoContainer:l.default.twoContainerHide},a.default.createElement("ul",{style:{width:"100%"}},a.default.createElement("li",null,a.default.createElement("span",{onClick:function(t){n.customItemClick.bind(n)(t,e,"wf_task")}},(0,d.getLangMsg)({key:"KDWFNavigationBar.daibanrenwu"}))),a.default.createElement("li",null,a.default.createElement("span",{onClick:function(t){n.customItemClick.bind(n)(t,e,"wf_hitaskinst")}},(0,d.getLangMsg)({key:"KDWFNavigationBar.yibanrenwu"}))))))):o.push(a.default.createElement("li",{key:"CustomItems"+r},a.default.createElement("div",{className:l.default.customItemEditDiv},a.default.createElement("span",{className:i?l.default.contentTextHover:l.default.contentText,title:e.name},c,"(",e.count,")"),a.default.createElement("div",{className:f,title:m,onClick:function(t){n.updateCustomFolder.bind(n)(t,e)}}),a.default.createElement("div",{className:p,title:g,onClick:function(t){n.deleteCustomFolder.bind(n)(t,e)}}))))})),o}},{key:"menuClick",value:function(e,t,n){var a=this.props,o=a.model;a.dispatch,n||"expansion"!=e.target.id||this.setShowSecondState(t.number),t.parentNumber=n;var r=[{key:o.key,methodName:"itemClick",args:[t,"generalItemClick"],postData:[]}];this.senderDataToServer(r)}},{key:"setShowSecondState",value:function(e){var t=this.props.model,n=t.getDataProperty("expandItem"),a=this.state.showChildren,o=a[e]||n==e;a[e]=o?0:1,(0,i.setDataProperty)(t.pageId,t.key,"expandItem","")(t.state),this.setState(a),this.state.showChildren[e]?this.state.showChildren[e]=1:this.state.showChildren[e]=0}},{key:"setImgHoverState",value:function(e,t){var n=this.state.imgHover,a=n[t];n[t]=a?0:1,this.setState(n)}},{key:"customItemClick",value:function(e,t,n){var a=this.props,o=a.model;a.dispatch,"expansion"==e.target.id&&this.setShowSecondState(t.number),t.type=n;var r=[{key:o.key,methodName:"itemClick",args:[t,"customItemClick"],postData:[]}];this.senderDataToServer(r)}},{key:"addCustomFolder",value:function(e){var t=this.props,n=t.model,a=(t.dispatch,[{key:n.key,methodName:"itemClick",args:[{},"addCustomFolder"],postData:[]}]);this.senderDataToServer(a)}},{key:"editFolder",value:function(e){var t=this.state.folderState,n={folderState:t=t?0:1};this.setState(n)}},{key:"updateCustomFolder",value:function(e,t){var n=this.props,a=n.model,o=(n.dispatch,[{key:a.key,methodName:"itemClick",args:[t,"updateCustomFolder"],postData:[]}]);this.senderDataToServer(o)}},{key:"deleteCustomFolder",value:function(e,t){var n=this.props,a=n.model,o=(n.dispatch,[{key:a.key,methodName:"itemClick",args:[t,"deleteCustomFolder"],postData:[]}]);this.senderDataToServer(o)}},{key:"setAutoRuler",value:function(e){var t=this.props,n=t.model,a=(t.dispatch,[{key:n.key,methodName:"itemClick",args:[{},"setAutoRuler"],postData:[]}]);this.senderDataToServer(a)}},{key:"refreshNavData",value:function(){var e=this.props,t=e.model,n=(e.dispatch,[{key:t.key,methodName:"refreshNavData",args:[],postData:[]}]);this.senderDataToServer(n)}},{key:"senderDataToServer",value:function(e){var t=this,n=this.props,a=n.model,o=n.dispatch,i={};i.pageId=a.pageId,i.params=e;var l=Object.keys(i).map((function(e){return e+"="+t.encodeParam(i[e])})).join("&");fetch("form/batchInvokeAction.do",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8;",ajax:!0,traceId:(0,u.default)()},body:l,mode:"cors",credentials:"include"}).then((function(e){if(e.ok)return e.json();throw new Error(e.statusText)})).then((function(e){(0,r.doPostActions)(a.pageId,e,o)}))}},{key:"encodeParam",value:function(e){return"object"===g(e)?encodeURIComponent(JSON.stringify(e)):encodeURIComponent(e)}},{key:"expandOrRetractMenu",value:function(e){var t=this.state;t.isExpand=!this.state.isExpand,this.setState(t)}},{key:"expandAreaMouseOver",value:function(e){var t=this.state;t.isExpand&&(t.expandSignVisible=!0,this.setState(t))}},{key:"expandAreaMouseOut",value:function(e){var t=this.state;t.isExpand&&(t.expandSignVisible=!1,this.setState(t))}},{key:"getFristMenuSvgFont",value:function(e){var t="kdfont "+e;return(0,s.default)(t,l.default.leftImgCss)}},{key:"getUpDownSvgFont",value:function(e){return"kdfont "+(e?"kdfont-fangxiangzuo":"kdfont-shangla")}}])&&y(n.prototype,f),p&&y(n,p),Object.defineProperty(n,"prototype",{writable:!1}),t}(a.Component)},331800:function(e,t,n){"use strict";n(182320),n(909112),n(697060),n(360776),n(743924),n(205960),n(297336),n(846428),n(708896),n(606200),n(534440),n(670864),n(880920),n(836887),n(78504),n(776512),n(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(622676),n(305092),n(233696),n(241872),n(835164),n(387912),n(997308);var a,o,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=P(e)&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(n(795520)),i=A(n(540900)),l=A(n(671252)),u=n(564491),d=A(n(238304)),s=A(n(834260)),c=A(n(827120)),f=n(439532),p=n(891052),m=A(n(348896)),g=n(359856),y=A(n(790832)),v=n(290600),h=A(n(930348)),b=n(29804),E=n(251536),C=A(n(629480)),k=n(331428);function A(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function _(e,t,n){return(t=T(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,T(a.key),a)}}function T(e){var t=function(e,t){if("object"!=P(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=P(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==P(t)?t:String(t)}function S(e,t,n){return t=D(t),function(e,t){if(t&&("object"===P(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,N()?Reflect.construct(t,n||[],D(e).constructor):t.apply(e,n))}function N(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(N=function(){return!!e})()}function D(e){return D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},D(e)}function w(e,t){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},w(e,t)}var x={conditions:[]};x=(0,p.fromJS)(x);var M={added:[]};M=(0,p.fromJS)(M);var R=(0,m.default)(!1)((o=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=S(this,t,[e])).state={updatePostData:void 0},n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}(t,e),n=t,(a=[{key:"getItemArray",value:function(e,t){var n=[],a=this.props.model.getFormConfig().lang;return e&&e.forEach((function(e){return t&&0!=t?1==t?n.push({alias:e.getIn(["name",a]),imgkey:null,value:e.get("number")}):t==v.QP_COMPARE_TYPE?n.push({alias:e.getIn(["name",a]),imgkey:null,value:e.get("id")}):t==v.QP_VALUE?n.push({alias:e.getIn(["name",a]),imgkey:null,value:e.get("value")}):void 0:n.push({alias:e.get("fieldCaption"),imgkey:null,value:e.get("fieldName")})})),n}},{key:"renderAddOneCondition",value:function(e,t,n,a,o,i,f,p,m,g){var y=this,b=t.get("fieldName"),E=null;t.get("compareTypes")&&(E=t.get("compareTypes").find((function(e){return e.get("id")==m})));var C,k=!0;E&&""!=E&&(k=E.get(v.QP_NEED_INPUT));var A={};switch(a){case"enum":var I=!1;E&&""!=E&&(I=1==E.get(v.QP_MULTI)),C=r.default.createElement(c.default,_({key:e+p,className:(0,l.default)(h.default["condition-msgcenter-field-first"],h.default["condition-f-text"],h.default.addOneInput),onChange:function(t){return y.onCFAddConditionChange(e,b,f,t,n,p)},items:o,value:n,Grow:0,style:A,multiple:!1,theme:"default",required:!0,placeholder:"",disabled:!k},"multiple",I));break;case"basedata":case"mulbasedata":case"org":case"user":var P="",O="";n&&n.map?(n.map((function(e,t){P+=(0==t?"":",")+e.get("alias"),O+=(0==t?"":",")+e.get("value")})),C=r.default.createElement(s.default,{key:e+p,className:(0,l.default)(h.default["option-msgcenter"],h.default["option-text"],h.default.addOneInput),onClick:function(t){return y.onSchemeF7Click(b,m,-1,e,i,p)},onChange:function(e){return null},alias:P,value:O,Grow:0,disabled:!k,editble:!1,placeholder:g,inputStyle:A})):C=r.default.createElement(s.default,{key:e+p,className:(0,l.default)(h.default["option-msgcenter"],h.default["option-text"],h.default.addOneInput),onClick:function(t){return y.onSchemeF7Click(b,"1",-1,e,i,p)},onChange:function(e){return null},value:n,Grow:0,disabled:!k,editble:!1,placeholder:"",inputStyle:A});break;case"text":default:C=r.default.createElement(u.Text,{key:e+p,className:(0,l.default)(h.default["option-msgcenter"],h.default["option-text"],h.default.addOneInput),onChange:function(t){return y.onCFAddConditionChange(e,b,f,t.target.value,void 0,p)},style:A,placeholder:g,Grow:0,value:n,theme:"default",disabled:!k});break;case"number":C=r.default.createElement(u.Number,{key:e+p,className:(0,l.default)(h.default["option-msgcenter"],h.default["option-text"],h.default.addOneInput),value:n,style:A,digitLength:10,decimalLength:0,mask:"",zeroShow:!0,noDisplayDecimalTailZero:void 0,min:void 0,max:void 0,minMark:void 0,maxMark:void 0,symbol:void 0,showSymbol:!1,disabled:!k,onChange:function(t){return y.onCFAddConditionChange(e,b,f,t.target.value,void 0,p)}});break;case"date":case"datetime":C=r.default.createElement("div",{key:e+p,className:(0,l.default)(h.default["option-msgcenter"],h.default["option-text"],h.default.addOneInput)},r.default.createElement(d.default,{onChange:function(t){return y.onCFAddConditionChange(e,b,f,t,void 0,p)},type:"date",value:n,style:A,Grow:0,theme:"default",disabled:!k}))}return C}},{key:"renderAddLineCondition",value:function(e,t,n){var a=this,o=this.props.model.getDataProperty("fields"),i=o.find((function(t){return t.get("fieldName")==e.get(v.FIELD_NAME)}));if(!i)return null;var u=i.get("fieldName"),d=[],s={};i.get(v.QP_LEFT_BRACKET)&&d.push(r.default.createElement(c.default,{key:t+".1",className:(0,l.default)(h.default.valueType,h.default["option-text"]),items:this.getItemArray(i.get(v.QP_LEFT_BRACKET),"1"),onChange:function(e){return a.onCFAddConditionChange(t,u,v.QP_LEFT_BRACKET,e)},value:e.get(v.QP_LEFT_BRACKET),Grow:0,style:s,multiple:!1,theme:"default",required:!0,placeholder:""})),d.push(r.default.createElement(c.default,{key:t+".2",className:(0,l.default)(h.default["condition-msgcenter-field-first"],h.default["condition-f-text"]),items:this.getItemArray(o),onChange:function(e){return a.onCFAddConditionChange(t,u,v.FIELD_NAME,e)},value:e.get(v.FIELD_NAME),Grow:0,style:s,multiple:!1,theme:"default",required:!0,placeholder:""}));var f=i.get("compareTypes");f&&d.push(r.default.createElement(c.default,{key:t+".3",className:(0,l.default)(h.default["operation-msgcenter"],h.default["option-text"]),items:this.getItemArray(f,v.QP_COMPARE_TYPE),onChange:function(n){return a.onCFAddConditionChange(t,u,v.QP_COMPARE_TYPE,n,e.get(v.QP_COMPARE_TYPE))},value:e.get(v.QP_COMPARE_TYPE),Grow:0,style:s,multiple:!1,theme:"default",required:!0,placeholder:""}));var p=i.get("commVal");if(p){d.push(r.default.createElement(c.default,{key:t+".4",className:(0,l.default)(h.default.valueType,h.default["option-text"]),items:n,onChange:function(n){return a.onCFAddConditionChange(t,u,"valueType",n,e.get("valueType"))},value:e.get("valueType"),showStyle:2,Grow:0,multiple:!1,theme:"default",required:!0,placeholder:""}));var m=e.get("valueType")||"";if("commVal"===m&&p){var g=p.get("entityId"),y=p.get("type");if(f){var b=i.get("compareTypes").find((function(t){return t.get("id")==e.get(v.QP_COMPARE_TYPE)}));b&&10001==b.get("inputCtlType")||b&&10002==b.get("inputCtlType")?(y="org",g="bos_org"):b&&10003==b.get("inputCtlType")?g="wf_role":b&&10004==b.get("inputCtlType")&&(y="org",g="bos_org")}var E=p.get("number"),C=this.getItemArray(p.get("items"),v.QP_VALUE);d.push(this.renderAddOneCondition(t,i,e.get("commVal"),y,C,g,"commVal",E,e.get(v.QP_COMPARE_TYPE)))}else if("fieldVal"===m){var k=i.get("fieldVal"),A=k.get("entityId"),I=k.get("type"),P=k.get("number"),_=this.getItemArray(o);d.push(this.renderAddOneCondition(t,i,e.get("fieldVal"),I,_,A,"fieldVal",P,e.get(v.QP_COMPARE_TYPE)))}else if("funcVal"===m){var O=i.get("funcVal"),T=O.get("entityId"),S=O.get("type"),N=O.get("number"),D=this.getItemArray(O.get("items"),v.QP_VALUE);d.push(this.renderAddOneCondition(t,i,e.get("funcVal"),S,D,T,"funcVal",N,e.get(v.QP_COMPARE_TYPE)))}}else{var w=i.get("value"),x=e.get("value");w.map((function(n,o){var r=n.get("entityId"),l=n.get("type"),u=n.get("placeholder")||"";if(f){var s=i.get("compareTypes").find((function(t){return t.get("id")==e.get(v.QP_COMPARE_TYPE)}));s&&10001==s.get("inputCtlType")||s&&10002==s.get("inputCtlType")?(l="org",r="bos_org"):s&&10003==s.get("inputCtlType")?r="wf_role":s&&10004==s.get("inputCtlType")&&(l="org",r="bos_org")}var c=n.get("number"),p=a.getItemArray(n.get("items"),v.QP_VALUE);d.push(a.renderAddOneCondition(t,i,x.get(c),l,p,r,v.QP_VALUE,c,e.get(v.QP_COMPARE_TYPE),u))}))}return i.get(v.QP_RIGHT_BRACKET)&&d.push(r.default.createElement(c.default,{key:t+".5",className:(0,l.default)(h.default.valueType,h.default["option-text"]),items:this.getItemArray(i.get(v.QP_RIGHT_BRACKET),"1"),onChange:function(e){return a.onCFAddConditionChange(t,u,v.QP_RIGHT_BRACKET,e)},value:e.get(v.QP_RIGHT_BRACKET),Grow:0,style:s,multiple:!1,theme:"default",required:!0,placeholder:""})),e.get(v.QP_LOGIC),i.get(v.QP_LOGIC)&&d.push(r.default.createElement(c.default,{key:t+".6",className:(0,l.default)(h.default["operation-msgcenter"],h.default["option-text"],h.default["condition-f-l"]),items:this.getItemArray(i.get(v.QP_LOGIC),"1"),onChange:function(e){return a.onCFAddConditionChange(t,u,v.QP_LOGIC,e)},value:e.get(v.QP_LOGIC),Grow:0,style:s,multiple:!1,theme:"default",required:!0,placeholder:""})),r.default.createElement("li",{className:h.default["advance-msgcenter-condition"],key:t},d,r.default.createElement("i",{className:h.default["sq-conditon-del"],onClick:function(e){a.onCFConditionDel(t)}}))}},{key:"componentWillReceiveProps",value:function(e){var t=this,n=e.model.getDataProperty(["updatePostData"]);void 0!==n&&n!==this.state.updatePostData&&this.setState({updatePostData:n},(function(){var e=t.props.model,n=e.getDataProperty("selected").toJS();t.props.dispatch((0,g.updateWFSelected)(e,n))}))}},{key:"render",value:function(){var e=this,t=this.props.model,n=(0,f.getCommonStyle)(t),a=(0,f.getCommonClass)(t),o=(t.getDataProperty("fields")||x.get("conditions"),t.getDataProperty("selected")||M);o=o.get("added");var i=(0,l.default)(_({},h.default.commonfilter,!0),a),u=[{alias:(0,k.getLangMsg)({key:"KDWfCondition.zhi"}),imgkey:null,value:"commVal"},{alias:(0,k.getLangMsg)({key:"KDWfCondition.ziduan"}),imgkey:null,value:"fieldVal"}];if(t.getDataProperty("configParam")){var d=t.getDataProperty("configParam").get("class");i=(0,l.default)(_({},h.default.commonfilter,!0),a,h.default[d])}var s=(0,k.getLangMsg)({key:"KDWfCondition.tianjiatiaomu"});return r.default.createElement("div",{className:i,style:n},r.default.createElement("div",{className:(0,l.default)(h.default.field,h.default.advance)},r.default.createElement("ul",{className:h.default["content-msgcenter"]},o?o.map((function(t,n){return e.renderAddLineCondition(t,n,u)})):null,r.default.createElement("li",{className:h.default["option-msgcenter-add"],onClick:function(t){e.onConditionAdd()}},r.default.createElement("img",{src:C.default,className:h.default["o-add-flag"]}),r.default.createElement("div",{className:h.default["o-add-text"],title:s},s)))))}},{key:"onSchemeF7Click",value:function(e,t,n,a,o,r){var i,l=this.props.model,u=l.getDataProperty("selected"),d=((u?u.toJS():{}).added,u.get("added").get(a).get("value").get(r)),s=(l.getDataProperty("fields")||(0,p.fromJS)([])).find((function(t){return t.get("fieldName")&&e&&e==t.get("fieldName")})),c="";if("Transfer"==e)i=!1;else if("circulated"==e)i=!0;else{var f=s.get("compareTypes").find((function(e){return null!=u&&null!=u.get("added")?e.get("id")==u.get("added").get(a).get("compareType"):""==e.get("id")}));c=f.get("id"),i=!(!f||!f.get("multi"))&&f.get("multi")}this.props.dispatch((0,g.f7ClickForWf)(l,{isMulti:i,clientType:n,rowIndex:a,entityId:o,value:d,compareType:c,fieldName:e,valueNumber:r}))}},{key:"onConditionAdd",value:function(){var e=this.props,t=e.model,n=e.dispatch,a=t.getDataProperty("selected"),o=a?a.toJS():{},r=o.added;r||(r=[],o.added=r);var i=t.getDataProperty("fields");if(i&&i.count()>0){var l=i.first(),u={};if(l.get(v.QP_LEFT_BRACKET)&&(u[v.QP_LEFT_BRACKET]=l.getIn([v.QP_LEFT_BRACKET,0,"number"])||""),u[v.FIELD_NAME]=l.get("fieldName"),u[v.QP_COMPARE_TYPE]=l.getIn(["compareTypes",0,"id"])||"",l.get("commVal")||l.get("fieldVal")||l.get("funcVal"))u.valueType="commVal","enum"===l.get("commVal").get("type")?u.commVal=l.get("commVal"):u.commVal="";else{var d=l.getIn(["value"])||[],s={};d.forEach((function(e,t){var n=e.get("type"),a=e.get("number");s[a]="enum"==n&&e.getIn(["items",0,"value"])||""})),u[v.QP_VALUE]=(0,p.fromJS)(s)}l.get(v.QP_RIGHT_BRACKET)&&(u[v.QP_RIGHT_BRACKET]=l.getIn([v.QP_RIGHT_BRACKET,0,"number"])||"",u[v.QP_LOGIC]=l.getIn([v.QP_LOGIC,0,"number"])||""),r.push(u),this.props.dispatch((0,g.updateWFSelected)(t,o)),(0,g.onConditionChange)(t,r,n)}else console.warn(t.key+" : no conditions to add...")}},{key:"onCFAddConditionChange",value:function(e,t,n,a,o,r){var i=this.props,l=i.model,u=(i.dispatch,l.getDataProperty("selected").toJS()),d=u.added,s=d[e];if(n==v.QP_COMPARE_TYPE){var c=l.getDataProperty("fields").find((function(e){return t==e.get("fieldName")})),f=c.get("compareTypes").find((function(e){return e.get("id")==a})),m=c.get("compareTypes").find((function(e){return e.get("id")==o}));f&&m&&(f!=m&&(s[v.QP_VALUE][s[v.FIELD_NAME]]=""),!1===f.get(v.QP_NEED_INPUT)?s.valueType?s[s.valueType]="":s[v.QP_VALUE][s[v.FIELD_NAME]]="":a==o||1!=m.get(v.QP_NUMBER)&&1!=f.get(v.QP_NUMBER)?m.get("inputCtlType")!==f.get("inputCtlType")&&(s.valueType?s[s.valueType]="":s[v.QP_VALUE][s[v.FIELD_NAME]]=""):s.valueType?s[s.valueType]="":s[v.QP_VALUE][s[v.FIELD_NAME]]="")}if(s)if(n!=v.FIELD_NAME){if(n==v.QP_COMPARE_TYPE)s[v.QP_COMPARE_TYPE]=a;else if(n==v.QP_VALUE)s[v.QP_VALUE][r]=a;else if(n==v.QP_LEFT_BRACKET)s[v.QP_LEFT_BRACKET]=a;else if(n==v.QP_RIGHT_BRACKET)s[v.QP_RIGHT_BRACKET]=a;else if(n==v.QP_LOGIC)s[v.QP_LOGIC]=a;else if("valueType"==n&&s.valueType!=a){var y=s.valueType;s.valueType=a,s[y]="",s[a]=""}else"commVal"==n?s.commVal=a:"fieldVal"==n?s.fieldVal=a:"funcVal"==n&&(s.funcVal=a);this.props.dispatch((0,g.updateWFSelected)(l,u)),(0,g.onConditionChange)(l,d,this.props.dispatch)}else{if(t==a)return;if("task.entityNumber"==a){var h=d.filter((function(e){return 0==e.fieldName.indexOf("task.entityNumber")}));if(h&&h.length>0)return void this.showTipe((0,k.getLangMsg)({key:"KDWfCondition.yijingyoudanju"}))}if("task.entityNumber"==t&&a&&0==a.indexOf("model."))return void this.showTipe((0,k.getLangMsg)({key:"KDWfCondition.bunengjiangdanju"}));var b=l.getDataProperty("fields");if(b&&b.count()>0){var E=b.find((function(e,t){return a===e.get("fieldName")})),C={};if(E.get(v.QP_LEFT_BRACKET)&&(C[v.QP_LEFT_BRACKET]=E.getIn([v.QP_LEFT_BRACKET,0,"number"])||""),C[v.FIELD_NAME]=E.get("fieldName"),E.get("commVal")){C.valueType="commVal";var A=E.get("commVal");A.get("items")?C.commVal=A.getIn(["items",0,"value"]):C.commVal=""}else{var I=E.getIn(["value"])||[],P={};I.forEach((function(e,t){var n=e.get("type"),a=e.get("number");P[a]="enum"==n&&e.getIn(["items",0,"number"])||""})),C[v.QP_VALUE]=(0,p.fromJS)(P)}C[v.QP_COMPARE_TYPE]=E.getIn(["compareTypes",0,"id"])||"",E.get(v.QP_RIGHT_BRACKET)&&(C[v.QP_RIGHT_BRACKET]=E.getIn([v.QP_RIGHT_BRACKET,0,"number"])||"",C[v.QP_LOGIC]=E.getIn([v.QP_LOGIC,0,"number"])||""),d[e]=C,"task.entityNumber"==t&&((0,g.deleteEntityId)(l,this.props.dispatch),d=d.filter((function(e){return e.fieldName.indexOf("model.")<0}))),this.props.dispatch((0,g.updateWFSelected)(l,u)),(0,g.onConditionChange)(l,d,this.props.dispatch)}}else console.warn(l.key+": the conditon not found, can not chang...")}},{key:"showTipe",value:function(e){var t=this.props,n=t.model,a=t.dispatch,o={content:e,duration:3500,type:2},r=[];r.push(o);var i=[{a:b.SHOW_NOTIFICATION_MESSAGE,p:r}];(0,E.doPostActions)(n.pageId,i,a)}},{key:"onCFConditionDel",value:function(e){var t=this.props,n=t.model,a=t.dispatch,o=n.getDataProperty("selected").toJS(),r=o.added,i=r[e],l=[];if(l.push(e),"task.entityNumber"==i.fieldName&&((0,g.deleteEntityId)(n,a),r.map((function(e,t){e.fieldName.indexOf("model.")>-1&&l.push(t)}))),i){for(var u=l.length-1;u>-1;u--){var d=r[l[u]];y.default.pull(r,d)}a((0,g.updateWFSelected)(n,o)),(0,g.onConditionChange)(n,r,a)}}},{key:"encodeParam",value:function(e){return"object"===P(e)?encodeURIComponent(JSON.stringify(e)):encodeURIComponent(e)}}])&&O(n.prototype,a),o&&O(n,o),Object.defineProperty(n,"prototype",{writable:!1}),t}(r.Component),o.contextTypes={store:i.default.object},a=o))||a;t.default=R},335300:function(e,t,n){"use strict";function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}n(182320),n(909112),n(697060),n(360776),n(743924),n(205960),n(297336),n(846428),n(708896),n(606200),n(534440),n(670864),n(880920),n(836887),n(78504),n(776512),n(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.VALUETYPE=t.VALUE=t.RIGHTBRACKET=t.MULTIPROPKEY=t.LOGAIC=t.LEFTBRACKET=t.ISHIDEEXP=t.HASQUOTES=t.EXPRESSION=t.COMPARETYPE=void 0,n(305092),n(233696),n(241872),n(835164),n(693917),n(927184),n(976896),n(387912),n(997308);var o,r,i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(o,i,l):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(n(795520)),l=A(n(540900)),u=A(n(671252)),d=n(564491),s=A(n(238304)),c=A(n(834260)),f=A(n(827120)),p=n(439532),m=(n(218652),n(891052)),g=A(n(348896)),y=n(359856),v=(A(n(790832)),A(n(930348))),h=n(29804),b=n(251536),E=A(n(629480)),C=n(331428),k=n(738704);function A(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function P(e,t,n){return(t=O(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,O(a.key),a)}}function O(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=a(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:String(t)}function T(e,t,n){return t=N(t),function(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,S()?Reflect.construct(t,n||[],N(e).constructor):t.apply(e,n))}function S(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(S=function(){return!!e})()}function N(e){return N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},N(e)}function D(e,t){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},D(e,t)}var w,x=[{alias:" ",imgkey:null,value:" "},{alias:"(",imgkey:null,value:"("},{alias:"((",imgkey:null,value:"(("},{alias:"(((",imgkey:null,value:"((("},{alias:"((((",imgkey:null,value:"(((("},{alias:"!(",imgkey:null,value:"!("},{alias:"!((",imgkey:null,value:"!(("},{alias:"!(((",imgkey:null,value:"!((("},{alias:"!((((",imgkey:null,value:"!(((("}],M=[{alias:" ",imgkey:null,value:" "},{alias:")",imgkey:null,value:")"},{alias:"))",imgkey:null,value:"))"},{alias:")))",imgkey:null,value:")))"},{alias:"))))",imgkey:null,value:"))))"}],R=new Date,L=["BT","NBT","BTU","NBTU"],j=t.LEFTBRACKET="leftbracket",F=t.EXPRESSION="expression",W=t.COMPARETYPE="comparetype",H=t.VALUETYPE="valuetype",V=t.VALUE="value",U=t.RIGHTBRACKET="rightbracket",B=t.LOGAIC="logaic",Q=t.HASQUOTES="hasquotes",G=t.MULTIPROPKEY="multiPropKey",K=t.ISHIDEEXP="isHideExp",J=(0,g.default)(!1)((r=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=T(this,t,[e])).state={updatePostData:void 0},n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D(e,t)}(t,e),n=t,a=[{key:"getItemArray",value:function(e,t){var n=[],a=this.props.model.getFormConfig().lang;return e&&e.forEach((function(e){return t&&0!=t?1==t?n.push({alias:e.getIn(["name",a]),imgkey:null,value:e.get("number")}):t==W?n.push({alias:e.getIn(["name",a]),imgkey:null,value:e.get("id")}):void 0:n.push({alias:e.getIn(["caption",a]),imgkey:null,value:e.get("value")})})),n}},{key:"renderAddOneCondition",value:function(e,t,n,a,o,r){var l,p=this,g={};switch(n){case"enum":var y=this.props,h=y.model,b=(y.dispatch,!1),E=h.getDataProperty("resultSet"),C=(h.getDataProperty("conditionItems")||(0,m.fromJS)([])).get(e).get("compareTypes").find((function(t){return t.get("id")==E.get(e).get(W)}));C&&(b=C.get("multi")),l=i.default.createElement(f.default,P({key:e+".7",className:(0,u.default)(v.default["condition-field-first"],v.default["condition-f-text"],v.default.addOneInput),onChange:function(t){return p.onCFAddConditionChange(e,t,"value")},items:a,value:t,Grow:0,style:g,multiple:!1,theme:"default",required:!0,placeholder:"",disabled:!r},"multiple",b));break;case"basedata":case"mulbasedata":case"org":case"user":case"F7":var k="",A="";t&&t.map?(t.map((function(e,t){k+=(0==t?"":",")+e.get("alias"),A+=(0==t?"":",")+e.get("value")})),l=i.default.createElement(c.default,{key:e+".7",className:(0,u.default)(v.default.option,v.default["option-text"],v.default.addOneInput),onClick:function(t){return p.onSchemeF7Click(-1,e,o)},alias:k,value:A,Grow:0,disabled:!r,editble:!1,placeholder:"",displayProp:"name",inputStyle:g})):l=i.default.createElement(c.default,{key:e+".7",className:(0,u.default)(v.default.option,v.default["option-text"],v.default.addOneInput),onClick:function(t){return p.onSchemeF7Click(-1,e,o)},value:t,Grow:0,disabled:!r,editble:!1,placeholder:"",displayProp:"name",inputStyle:g});break;case"text":default:l=i.default.createElement(d.Text,{key:e+".7",className:(0,u.default)(v.default.option,v.default["option-text"],v.default.addOneInput),onChange:function(t){return p.onCFAddConditionChange(e,t.target.value,"value")},style:g,placeholder:"",Grow:0,value:t,theme:"default",disabled:!r});break;case"number":l=i.default.createElement(d.Number,{key:e+".7",className:(0,u.default)(v.default.option,v.default["option-text"],v.default.addOneInput),value:t,style:g,digitLength:10,decimalLength:0,mask:"",zeroShow:!0,noDisplayDecimalTailZero:void 0,min:void 0,max:void 0,minMark:void 0,maxMark:void 0,symbol:void 0,showSymbol:!1,disabled:!r,onChange:function(t){return p.onCFAddConditionChange(e,t.target.value,"value")}});break;case"decimal":l=i.default.createElement(d.Number,{key:e+".7",className:(0,u.default)(v.default.option,v.default["option-text"],v.default.addOneInput),value:t,style:g,digitLength:23,decimalLength:10,mask:"",zeroShow:!0,noDisplayDecimalTailZero:void 0,min:void 0,max:void 0,minMark:void 0,maxMark:void 0,symbol:void 0,showSymbol:!1,disabled:!r,onChange:function(t){return p.onCFAddConditionChange(e,t.target.value,"value")}});break;case"date":case"datetime":l=i.default.createElement("div",{key:e+".7",className:(0,u.default)(v.default.option,v.default["option-text"],v.default.addOneInput)},i.default.createElement(s.default,{onChange:function(t){return p.onCFAddConditionChange(e,t,"value")},type:"date",value:t,style:g,Grow:0,theme:"default",disabled:!r}))}return l}},{key:"renderAddLineCondition",value:function(e,t,n,a,o){var r=this,l=this.props.model.getDataProperty("conditionItems").get(t),d=l.get("entryPath")||"",s=[],p={};l&&s.push(i.default.createElement(f.default,{key:t+".1",className:(0,u.default)(v.default.valueType,v.default["option-text"]),items:x,onChange:function(e){return r.onCFAddConditionChange(t,e,j)},value:e.get(j),Grow:0,style:p,multiple:!1,theme:"default",required:!0,placeholder:""})),p={};var g,y="",h="";e&&e.get(F)?(g=e.get(F),y=e.get(F).get("alias"),h=e.get(F).get("value")):g=(0,m.fromJS)({}),s.push(i.default.createElement(c.default,{key:t+".2",className:(0,u.default)(v.default.option,v.default["option-text"],v.default.addOneInput),onClick:function(e){return r.onExpressionClick(g,t,!1,"")},onChange:function(e){return null},alias:y,value:h,Grow:0,editble:!1,placeholder:"",displayProp:"name",inputStyle:p})),s.push(i.default.createElement(f.default,{key:t+".3",className:(0,u.default)(v.default.operation,v.default["option-text"],v.default.addOneInput),items:this.getItemArray(l.get("compareTypes"),W),onChange:function(e){return r.onCFAddConditionChange(t,e,W)},value:e.get(W),Grow:0,style:p,multiple:!1,theme:"default",required:!0,placeholder:""}));var b=e.get(W),E=l.get(G),C=l.get("compareTypes").find((function(t){return t.get("id")==e.get(W)})),k=!1;C&&(k=null!=C.get(K)&&C.get(K));var A=n.slice();(L.indexOf(b)>-1||E>0||k)&&A.splice(1,1),s.push(i.default.createElement(f.default,{key:t+".4",className:(0,u.default)(v.default.valueType,v.default["option-text"]),items:A,onChange:function(e){return r.onCFAddConditionChange(t,e,H)},value:e.get(H),Grow:0,multiple:!1,theme:"default",required:!0,placeholder:""}));var I=e.get(H),P=!0;if(C&&!C.get("needInput")&&(P=!1),I.indexOf("fieldVal")>-1){var _="",O="",T=(0,m.fromJS)({});e&&e.get(V)&&(T=e.get(V),_=e.get(V).get("alias"),O=e.get(V).get("value")),s.push(i.default.createElement(c.default,{key:t+".7",className:(0,u.default)(v.default.option,v.default["option-text"],v.default.addOneInput),onClick:function(e){return r.onExpressionClick(T,t,!0,d)},onChange:function(e){return null},alias:_,value:O,Grow:0,disabled:!P,editble:!1,placeholder:"",displayProp:"name",inputStyle:p}))}else{var S=l.get("controlType");C&&C.get("controlType")&&(S=C.get("controlType"));var N=l.get("items");C&&C.get("items")&&(N=C.get("items"));var D=this.getItemArray(N),w=l.get("entityNumber");C&&C.get("entityId")&&(w=C.get("entityId")),s.push(this.renderAddOneCondition(t,e.get(V),S,D,w,P))}return s.push(i.default.createElement(f.default,{key:t+".5",className:(0,u.default)(v.default.valueType,v.default["option-text"],v.default.addOneInput),items:M,onChange:function(e){return r.onCFAddConditionChange(t,e,U)},value:e.get(U),Grow:0,style:p,multiple:!1,theme:"default",required:!0,placeholder:""})),s.push(i.default.createElement(f.default,{key:t+".6",className:(0,u.default)(v.default.operation,v.default["option-text"],v.default["condition-f-l"],v.default.addOneInput),items:a,onChange:function(e){return r.onCFAddConditionChange(t,e,B)},value:e.get(B),Grow:0,style:p,multiple:!1,theme:"default",required:!0,placeholder:""})),i.default.createElement("li",{className:v.default["advance-condition"],key:t},i.default.createElement("div",{className:v.default.seq},t+1),s,i.default.createElement("i",{className:v.default["sq-conditon-del"],onClick:function(e){r.onCFConditionDel(t)}}),i.default.createElement("i",{className:v.default["sq-condition-insert"],onClick:function(e){r.onCFConditionInsert(t,o)}}))}},{key:"onExpressionClick",value:function(e,t,n,a){var o=this.props.model;this.props.dispatch((0,y.expressionClickForWf)(o,{clientType:-1,rowIndex:t,entityId:"wf_valueexpression",expression:e,isVal:n,leftEntryPath:a}))}},{key:"componentWillReceiveProps",value:function(e){var t=this,n=e.model.getDataProperty(["updatePostData"]);void 0!==n&&n!==this.state.updatePostData&&this.setState({updatePostData:n},(function(){var e=t.props.model,n=e.getDataProperty("resultSet")||(0,m.fromJS)([]),a=e.getDataProperty("conditionItems")||(0,m.fromJS)([]);t.props.dispatch((0,y.updateWFResult)(e,n,a))}))}},{key:"componentDidMount",value:function(){var e=this;this.removePasteConditionListener=(0,k.addDataChangeListener)(this.props.model.pageId,[this.props.model.key,"pasteCondition"],(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=e.props,a=n.model,o=n.dispatch,r=t.resultSetNew,i=t.pasteState,l=t.msg;(0,y.postPasteConditions)(a,o,r,i,l)}))}},{key:"componentWillUnmount",value:function(){this.removePasteConditionListener&&this.removePasteConditionListener()}},{key:"render",value:function(){var e=this,t=this.props.model,n=(0,p.getCommonStyle)(t),a=(0,p.getCommonClass)(t),o=(0,u.default)(P({},v.default.commonfilter,!0),a,v.default.conditionalrule),r=t.getDataProperty("resultSet")||(0,m.fromJS)([]),l=[{alias:(0,C.getLangMsg)({key:"KDWfConditionUpd.zhi"}),imgkey:null,value:"commVal"},{alias:(0,C.getLangMsg)({key:"KDWfConditionUpd.biaodashi"}),imgkey:null,value:"fieldVal"}];w=new Array;for(var d=0,s=l.length;d<s;d++)w.push(l[d].value);var c=[{alias:" ",imgkey:null,value:" "},{alias:(0,C.getLangMsg)({key:"KDWfConditionUpd.qie"}),imgkey:null,value:"&&"},{alias:(0,C.getLangMsg)({key:"KDWfConditionUpd.huo"}),imgkey:null,value:"||"}],f=[{name:(0,C.getLangMsg)({key:"KDWfConditionUpd.dengyu"}),imgkey:null,id:"=="},{name:(0,C.getLangMsg)({key:"KDWfConditionUpd.budengyu"}),imgkey:null,id:"!="}],g=(0,C.getLangMsg)({key:"KDWfCondition.tianjiatiaomu"});return i.default.createElement("div",{className:o,style:n},i.default.createElement("div",{className:(0,u.default)(v.default.field,v.default.advance)},i.default.createElement("ul",{className:v.default.content},r?r.map((function(t,n){return e.renderAddLineCondition(t,n,l,c,f)})):null,i.default.createElement("li",{className:v.default["option-add"],onClick:function(t){e.onConditionAdd(f)}},i.default.createElement("img",{src:E.default,className:v.default["o-add-flag"]}),i.default.createElement("div",{className:v.default["o-add-text"],title:g},g)))))}},{key:"onSchemeF7Click",value:function(e,t,n){var a,o=this.props.model,r=o.getDataProperty("resultSet"),i=r.get(t).get("value")||(0,m.fromJS)([]),l=(o.getDataProperty("conditionItems")||(0,m.fromJS)([])).get(t).get("compareTypes").find((function(e){return e.get("id")==r.get(t).get(W)}));a=!(!l||!l.get("multi"))&&l.get("multi"),this.props.dispatch((0,y.f7ClickForWfUpd)(o,{isMulti:a,clientType:e,rowIndex:t,entityId:n,value:i,compareType:l.get("id")}))}},{key:"onConditionAdd",value:function(e){var t=this.props,n=t.model,a=t.dispatch,o=n.getDataProperty("resultSet")||(0,m.fromJS)([]),r=n.getDataProperty("conditionItems")||(0,m.fromJS)([]),i={compareTypes:e,controlType:"text",entityNumber:"",items:""};r=r.push((0,m.fromJS)(i));var l={};l[j]="",l[F]="",l[W]="",l[H]="commVal",l[V]="",l[U]="",l[B]="&&",l[Q]=!0,o=o.push((0,m.fromJS)(l)),this.props.dispatch((0,y.updateWFResult)(n,o,r)),(0,y.onConditionUpdChange)(n,o,a)}},{key:"onCFAddConditionChange",value:function(e,t,n){var a=this.props,o=a.model,r=a.dispatch,i=o.getDataProperty("resultSet")||(0,m.fromJS)([]),l=o.getDataProperty("conditionItems")||(0,m.fromJS)([]),u=i.get(e),d=u.get("id"),s=u.get(n),c=l.get(e);if(n==W){var f=c.get(G),p=!1,g=c.get("compareTypes").find((function(e){return e.get("id")==t}));g&&(p=null!=g.get(K)&&g.get(K),g.needInput||(u=u.set(V,""))),(L.indexOf(t)>-1||f>0||p)&&null!=w&&0<w.length&&(u=u.set(H,w[0]))}else n==H&&t!=u.get(H)&&(u=u.set(V,""));if(new Date-R>300){u=u.set(n,t),i=i.set(e,u),this.props.dispatch((0,y.updateWFResult)(o,i,l));var v={id:d,type:n,oldValue:s,value:t};(0,y.onConditionUpdChange)(o,i,r,v)}}},{key:"onCFConditionDel",value:function(e){var t=this.props,n=t.model,a=t.dispatch,o=n.getDataProperty("resultSet")||(0,m.fromJS)([]),r=n.getDataProperty("conditionItems")||(0,m.fromJS)([]);r=r.delete(e),o=o.delete(e),this.props.dispatch((0,y.updateWFResult)(n,o,r)),(0,y.onConditionUpdChange)(n,o,a)}},{key:"onCFConditionInsert",value:function(e,t){var n=this.props,a=n.model,o=n.dispatch,r=a.getDataProperty("resultSet")||(0,m.fromJS)([]),i=a.getDataProperty("conditionItems")||(0,m.fromJS)([]),l={compareTypes:t,controlType:"text",entityNumber:"",items:""},u={};u[j]="",u[F]="",u[W]="",u[H]="commVal",u[V]="",u[U]="",u[B]="&&",u[Q]=!0,i=i.splice(e,0,(0,m.fromJS)(l)),r=r.splice(e,0,(0,m.fromJS)(u)),this.props.dispatch((0,y.updateWFResult)(a,r,i)),(0,y.onConditionUpdChange)(a,r,o)}},{key:"showTipe",value:function(e){var t=this.props,n=t.model,a=t.dispatch,o={content:e,duration:3500,type:2},r=[];r.push(o);var i=[{a:h.SHOW_NOTIFICATION_MESSAGE,p:r}];(0,b.doPostActions)(n.pageId,i,a)}}],a&&_(n.prototype,a),o&&_(n,o),Object.defineProperty(n,"prototype",{writable:!1}),t}(i.Component),r.contextTypes={store:l.default.object},o=r))||o;t.default=J},629480:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALAQMAAACTYuVlAAAABlBMVEUAAABegOvPHhnOAAAAAXRSTlMAQObYZgAAABFJREFUCNdjYGFAQf8foIkAACG4AggfdAFFAAAAAElFTkSuQmCC"},789392:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAAAXNSR0IArs4c6QAAAoNJREFUOBHVlU1oE0EUx9+b3TTWUFAKHorgocdNIioIrSAofoAglHrzUISIHgRPbQx4kJ7ydRN7yE0Q9GQVPIiHKhTUUxWaRgTpRVREKAh2Y2my83xv4qRJ2E0L9uLAMjPv/f+/mdmdnQH43wr2m7BX8C8C0CQQjbNu5K/2GyC+AcD5Wi7xLMofCk4W6uMEeg6BNgjVA+W4L4cHB74IZO335kEdNE+DpilAiCOoGyu5vTzQNiVZ9DPJ/Pr3ZLE+uY0URNPS+plebdeMU0V/gjTdBcc9tZLds9orDusnSxujEDRfocKb1VuJp1bTBqfLvw4EAdQcpc4vZxPvrGAndbrkHw20fuE44C3PDP0Qj7JG3YQ7CHg/DJrK+9d4yZ+9wvpXL+9ftR5bi0e8wrAxAz5WoRh/iMvKobJN2DpVro8R6izGYucG3NhZQLp9uFg/bvO2Nl5mGBYHDbjx0z8JBDW7DCs2dUBpIKxUp+Mf30/HP/BOeR4QnenScMd4mWFY3HdFQBpHCagm7d5SzSUqNnak6I9sarqgUE3ZWGdNADVhcWzBzJgUDfM7WusU9bZTedrf0HpBIZWrucHF3rz0hSEsaRswag5AKyDB0KL8CbYuVXNDc6F5DgpDWJJvgRWt8r7zogwS5/19CBR+6qcRBjJLNAYc25dY5HV4spcjjS7Og6InUXnjZYZhWfDSdWzwOh7qAGeijNCEjHkiBMbLDMOyYNEqF2b5HV2RvyjMq5R6JE9YTjziFYbNt39pCezmWWHesR3FHCIKZ/lQeb3T0020/FFnOw8g4XXN2A7gleonQOt7/3Ieh4LbA8gNQnSJN9sYx7ZuEMC3fIs87neDWMau138A1mwcH5YLmgIAAAAASUVORK5CYII="},77240:function(e,t,n){e.exports=n(251656)(8375)},141170:function(e,t,n){e.exports=n(251656)(9249)}}]);