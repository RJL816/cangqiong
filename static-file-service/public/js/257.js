"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackJsonp_bos-platform"] = self["webpackJsonp_bos-platform"] || []).push([[257],{

/***/ "./src/component/web/KDFontSelect.jsx":
/*!********************************************!*\
  !*** ./src/component/web/KDFontSelect.jsx ***!
  \********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-properties.js */ \"../../node_modules/core-js/modules/es.object.define-properties.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptors.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.find.js */ \"../../node_modules/core-js/modules/es.array.find.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.parse-int.js */ \"../../node_modules/core-js/modules/es.parse-int.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.timers.js */ \"../../node_modules/core-js/modules/web.timers.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _classnames2 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _global = __webpack_require__(/*! @/global */ \"./src/global/index.js\");\nvar _VisibleLockWrap = _interopRequireDefault(__webpack_require__(/*! ../common/VisibleLockWrap */ \"./src/component/common/VisibleLockWrap.js\"));\nvar _commonUtils = _interopRequireDefault(__webpack_require__(/*! ../common/commonUtils */ \"./src/component/common/commonUtils.js\"));\nvar _FontIcon = _interopRequireDefault(__webpack_require__(/*! ./base/FontIcon */ \"./src/component/web/base/FontIcon.jsx\"));\nvar _iconAction = __webpack_require__(/*! ../../action/iconAction */ \"./src/action/iconAction.js\");\nvar _componentutil = __webpack_require__(/*! ../../util/componentutil */ \"./src/util/componentutil.js\");\nvar _appModelFunction = __webpack_require__(/*! ../../model/appModelFunction */ \"./src/model/appModelFunction.js\");\nvar _AttachDataWrap = _interopRequireDefault(__webpack_require__(/*! ../common/AttachDataWrap */ \"./src/component/common/AttachDataWrap.js\"));\nvar _ControlInfoCollect = _interopRequireDefault(__webpack_require__(/*! @/component/common/ControlInfoCollect */ \"./src/component/common/ControlInfoCollect.js\"));\nvar _kdfont = _interopRequireDefault(__webpack_require__(/*! ./base/kdfont.json */ \"./src/component/web/base/kdfont.json\"));\nvar _KDFontSelect2 = _interopRequireDefault(__webpack_require__(/*! ./KDFontSelect.less */ \"./src/component/web/KDFontSelect.less\"));\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nvar _dec, _class;\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); } /**\n * @description 字体图标选择控件\n * @date 2017-9-29\n */\n// 图标分组列表\nfunction FontGroup(_ref) {\n  var data = _ref.data,\n    onIconClick = _ref.onIconClick,\n    activeItem = _ref.activeItem;\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _KDFontSelect2[\"default\"]['fontselect-contain']\n  }, data.map(function (group) {\n    var icons = group.icons,\n      key = group.key,\n      layout = group.layout,\n      group_name = group.group_name;\n    var name = key ? (0, _intlApi.getLangMsg)(key) : group_name;\n    var iconCount = icons.length;\n    var totalStr = iconCount ? \"\\uFF08\".concat(iconCount, \"\\uFF09\") : '';\n    return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      key: \"group_\".concat(layout),\n      id: \"group_\".concat(layout),\n      className: \"font-group\"\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _KDFontSelect2[\"default\"].fontGroup\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n      className: \"kdfont kdfont-bottom\"\n    }), \"\".concat(name).concat(totalStr)), /*#__PURE__*/_react[\"default\"].createElement(IconList, {\n      icons: icons,\n      layout: layout,\n      onIconClick: onIconClick,\n      activeItem: activeItem\n    }));\n  }));\n}\n\n// 图标列表\nfunction IconList(_ref2) {\n  var icons = _ref2.icons,\n    layout = _ref2.layout,\n    onIconClick = _ref2.onIconClick,\n    activeItem = _ref2.activeItem;\n  return /*#__PURE__*/_react[\"default\"].createElement(\"ul\", {\n    className: _KDFontSelect2[\"default\"]['fontselect-contain-list']\n  }, icons.map(function (item, index) {\n    var key = item.key,\n      fontClass = item.fontClass,\n      iconName = item.name;\n    var name = key ? (0, _intlApi.getLangMsg)(key) : iconName;\n    var activeKey = \"\".concat(layout, \"_\").concat(index);\n    var active = activeItem === activeKey;\n    var itemClass = (0, _classnames2[\"default\"])(_KDFontSelect2[\"default\"]['font-item'], _defineProperty({\n      'kdfont-active': active\n    }, _KDFontSelect2[\"default\"]['font-item-active'], active));\n    return /*#__PURE__*/_react[\"default\"].createElement(\"li\", {\n      key: \"item_\".concat(activeKey),\n      className: itemClass,\n      onClick: function onClick(e) {\n        return onIconClick(e, activeKey, item);\n      },\n      title: name\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _KDFontSelect2[\"default\"].fontIconWrap\n    }, /*#__PURE__*/_react[\"default\"].createElement(_FontIcon[\"default\"], {\n      key: \"icon_\".concat(activeKey),\n      active: active,\n      fontSelect: true // 区分是否来自fontselect\n      ,\n      fontClass: fontClass\n    })), /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n      className: _KDFontSelect2[\"default\"]['icon-name'],\n      title: name\n    }, name));\n  }));\n}\nvar KDFontSelect = (_dec = (0, _VisibleLockWrap[\"default\"])(false), (0, _AttachDataWrap[\"default\"])(_class = _dec(_class = (0, _ControlInfoCollect[\"default\"])(_class = /*#__PURE__*/function (_React$Component) {\n  _inherits(KDFontSelect, _React$Component);\n  function KDFontSelect(props) {\n    var _this$fontData$;\n    var _this;\n    _classCallCheck(this, KDFontSelect);\n    _this = _callSuper(this, KDFontSelect, [props]);\n    // 可见性----观察当前高亮的字体图标分组\n    _this.observeActiveGroup = function () {\n      _this.intersectionObserver = new IntersectionObserver(function (entries) {\n        if (!_this.observeEntries) {\n          _this.observeEntries = entries.map(function (entry) {\n            var intersectionRatio = entry.intersectionRatio,\n              target = entry.target;\n            var id = target.id;\n            var currentType = parseInt(id.split('_')[1] || 0);\n            return {\n              currentType: currentType,\n              intersectionRatio: intersectionRatio\n            };\n          });\n        } else {\n          var _iterator = _createForOfIteratorHelper(entries),\n            _step;\n          try {\n            var _loop = function _loop() {\n              var entry = _step.value;\n              var intersectionRatio = entry.intersectionRatio,\n                target = entry.target;\n              var id = target.id;\n              var currentType = parseInt(id.split('_')[1] || 0);\n              _this.observeEntries.find(function (item) {\n                return item.currentType === currentType;\n              }).intersectionRatio = intersectionRatio;\n            };\n            for (_iterator.s(); !(_step = _iterator.n()).done;) {\n              _loop();\n            }\n          } catch (err) {\n            _iterator.e(err);\n          } finally {\n            _iterator.f();\n          }\n        }\n        if (!_this.shouldObserve) return;\n        var activeEntry = _this.observeEntries.find(function (entry) {\n          return entry.intersectionRatio > 0;\n        });\n        if (activeEntry) {\n          var currentType = activeEntry.currentType;\n          if (currentType !== _this.state.currentType) {\n            _this.setState({\n              currentType: currentType\n            });\n          }\n        }\n      }, {\n        threshold: [0.000001],\n        rootMargin: '0px 0px 0px 0px'\n      });\n      document.querySelectorAll('.font-group').forEach(function (node) {\n        _this.intersectionObserver.observe(node);\n      });\n    };\n    _this.stopObserve = function () {\n      _this.intersectionObserver && _this.intersectionObserver.disconnect();\n      _this.intersectionObserver = null;\n      _this.observeEntries = null;\n    };\n    // 点击分组名称（需滚动到对应分组的位置）\n    _this.handleGroupClick = function (e, layout) {\n      e.stopPropagation();\n      _this.shouldObserve = false;\n      _this.setState({\n        currentType: layout\n      }, function () {\n        var id = \"group_\".concat(layout);\n        document.getElementById(id).scrollIntoView();\n        var timer = setTimeout(function () {\n          _this.shouldObserve = true;\n          clearTimeout(timer);\n          timer = null;\n        }, 0);\n      });\n    };\n    _this.getTypes = function (datas) {\n      var currentType = _this.state.currentType;\n      return datas.map(function (data, index) {\n        var layout = data.layout,\n          key = data.key,\n          group_name = data.group_name;\n        var cls = (0, _classnames2[\"default\"])(_KDFontSelect2[\"default\"]['fontselect-type-item'], {\n          theme: true,\n          'list-box-item-hover': data.layout !== currentType,\n          'list-box-item-active': data.layout === currentType\n        });\n        var groupName = key ? (0, _intlApi.getLangMsg)(key) : group_name;\n        return /*#__PURE__*/_react[\"default\"].createElement(\"li\", {\n          key: \"type_\".concat(index),\n          className: cls,\n          onClick: function onClick(e) {\n            return _this.handleGroupClick(e, layout);\n          }\n        }, groupName);\n      });\n    };\n    _this.getFilterData = function (filterString) {\n      var data = [];\n      filterString = (filterString || '').toUpperCase();\n      for (var i = 0; i < _this.fontData.length; i++) {\n        var group = _this.fontData[i];\n        var icons = group.icons,\n          group_name = group.group_name,\n          layout = group.layout,\n          key = group.key;\n        icons = icons.filter(function (_ref3) {\n          var key = _ref3.key,\n            fontClass = _ref3.fontClass,\n            iconName = _ref3.name;\n          var name = (key ? (0, _intlApi.getLangMsg)(key) : iconName).toUpperCase();\n          fontClass = fontClass.toUpperCase();\n          return name.indexOf(filterString) > -1 || fontClass.indexOf(filterString) > -1;\n        });\n        if (!icons.length) {\n          continue;\n        } else {\n          data.push({\n            icons: icons,\n            group_name: group_name,\n            layout: layout,\n            key: key\n          });\n        }\n      }\n      return data;\n    };\n    _this.handleIconClick = function (e, activeKey, data) {\n      e.stopPropagation();\n      _this.setState({\n        activeItem: activeKey\n      });\n      _iconAction.fontSelectClick && _this.props.dispatch((0, _iconAction.fontSelectClick)(_this.props.model, data));\n    };\n    var model = props.model;\n    var searchStr = model.getDataProperty('searchStr') || '';\n    var iconfontData = (0, _appModelFunction.getIconfontData)()((0, _global.getGlobalState)());\n    _this.fontData = _kdfont[\"default\"].concat(iconfontData).filter(function (item) {\n      return item.icons.length > 0;\n    }).map(function (item, index) {\n      return _objectSpread(_objectSpread({}, item), {}, {\n        layout: index\n      });\n    });\n    _this.state = {\n      kdfontData: _this.fontData,\n      currentType: ((_this$fontData$ = _this.fontData[0]) === null || _this$fontData$ === void 0 ? void 0 : _this$fontData$.layout) || 0,\n      searchStr: searchStr,\n      activeItem: '' // 当前选中的图标\n    };\n    _this.observeEntries = null;\n    _this.shouldObserve = true;\n    return _this;\n  }\n  _createClass(KDFontSelect, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.observeActiveGroup();\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(np) {\n      // 根据searchStr处理过滤\n      var nextSearchStr = np.model.getDataProperty('searchStr') || '';\n      if (nextSearchStr !== this.state.searchStr) {\n        this.doFilter(nextSearchStr);\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.stopObserve();\n    }\n  }, {\n    key: \"doFilter\",\n    value:\n    // 搜索过滤\n    function doFilter(searchStr) {\n      var _this2 = this;\n      var data = this.getFilterData(searchStr);\n      this.stopObserve();\n      this.setState({\n        kdfontData: []\n      }, function () {\n        _this2.setState(function () {\n          var _data$;\n          return {\n            searchStr: searchStr,\n            kdfontData: data,\n            currentType: ((_data$ = data[0]) === null || _data$ === void 0 ? void 0 : _data$.layout) || 0\n          };\n        }, function () {\n          _this2.observeActiveGroup();\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var model = this.props.model;\n      var _this$state = this.state,\n        kdfontData = _this$state.kdfontData,\n        searchStr = _this$state.searchStr,\n        activeItem = _this$state.activeItem;\n      var style = (0, _componentutil.getCommonStyle)(model);\n      var commonClass = (0, _componentutil.getCommonClass)(model);\n      var cls = (0, _classnames2[\"default\"])(_KDFontSelect2[\"default\"].fontselect, (0, _commonUtils[\"default\"])(_objectSpread({}, commonClass)));\n      var noSearchData = !!searchStr && !kdfontData.length;\n      return noSearchData ? /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _KDFontSelect2[\"default\"]['no-search-result']\n      }, (0, _intlApi.getLangMsg)({\n        key: 'FontSelect.key001'\n      })) : /*#__PURE__*/_react[\"default\"].createElement(\"div\", _extends({\n        className: cls,\n        style: style\n      }, this.props.attachData), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _KDFontSelect2[\"default\"]['fontselect-type']\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"ul\", {\n        className: _KDFontSelect2[\"default\"]['fontselect-type-list']\n      }, this.getTypes(kdfontData))), /*#__PURE__*/_react[\"default\"].createElement(FontGroup, {\n        data: kdfontData,\n        onIconClick: this.handleIconClick,\n        activeItem: activeItem\n      }));\n    }\n  }]);\n  return KDFontSelect;\n}(_react[\"default\"].Component)) || _class) || _class) || _class);\nvar _default = exports[\"default\"] = KDFontSelect;\n\n//# sourceURL=webpack://bos-platform/./src/component/web/KDFontSelect.jsx?");

/***/ }),

/***/ "./src/component/web/KDFontSelect.less":
/*!*********************************************!*\
  !*** ./src/component/web/KDFontSelect.less ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"no-search-result\":\"KDFontSelect_no-search-result_3in5\",\"font-item\":\"KDFontSelect_font-item_18Wv\",\"font-item-active\":\"KDFontSelect_font-item-active_3J04\",\"fontIconWrap\":\"KDFontSelect_fontIconWrap_2Sad\",\"icon-name\":\"KDFontSelect_icon-name_3kKc\",\"font-type\":\"KDFontSelect_font-type_26fV\",\"fontGroup\":\"KDFontSelect_fontGroup_3wtE\",\"fontselect\":\"KDFontSelect_fontselect__P_l\",\"fontselect-contain\":\"KDFontSelect_fontselect-contain_15dj\",\"fontselect-contain-list\":\"KDFontSelect_fontselect-contain-list_PcMX\",\"fontselect-type\":\"KDFontSelect_fontselect-type_Tokg\",\"fontselect-type-list\":\"KDFontSelect_fontselect-type-list_12hq\",\"fontselect-type-item\":\"KDFontSelect_fontselect-type-item_2xmX\"});\n\n//# sourceURL=webpack://bos-platform/./src/component/web/KDFontSelect.less?");

/***/ })

}]);