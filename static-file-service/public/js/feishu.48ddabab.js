"use strict";(self["webpackJsonp_bos-platform"]=self["webpackJsonp_bos-platform"]||[]).push([[2328],{905672:function(t,e,n){function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}n(182320),n(909112),n(697060),n(505684),n(323784),n(743924),n(693917),n(976896),n(721300),n(606200),n(534440),n(633768),n(690512),n(78504),n(776512),n(977864),Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=t.loadjs;s.default[s.KD_PLUGIN]={getDevicedLang:p().getDevicedLang},n("https://lf1-cdn-tos.bytegoofy.com/goofy/lark/op/h5-js-sdk-1.5.23.js",{success:function(){(0,f.loadDynamicPlugin)(p()),e&&e(!0),(0,a.getRootConfigPromise)().then((function(t){(0,r.getAppTrdAuthData)(i.FEI_SHU).then((function(t){(0,r.isAuthSuccess)(t)?function(t){var e=(null==t?void 0:t.config)||{},n=e.appId,o=e.timestamp,r=e.nonce,i=e.signature,c=window.clientApiList||[],a=["tt.previewImage","tt.scanCode","tt.setClipboardData","tt.getLocation"].concat((s=c,function(t){if(Array.isArray(t))return d(t)}(s)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(s)||function(t,e){if(t){if("string"==typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}}(s)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()));var s;window.h5sdk.config({appId:n,timestamp:o,nonceStr:r,signature:i,jsApiList:a,onSuccess:function(t){var e;"config success: ".concat(JSON.stringify(t)),(0,f.loadDynamicPlugin)((e={previewImage:function(t,e){var n=t.current,o=t.urls;window.tt.previewImage({urls:o,current:n,success:function(t){JSON.stringify(t)},fail:function(t){console.error("previewImage fail: ".concat(JSON.stringify(t)))}})},scanQRCode:function(t,e){window.tt.scanCode({scanType:["barCode","qrCode","datamatrix","pdf417"],barCodeInput:!0,success:function(t){JSON.stringify(t);var n={success:!0,data:{qrcode_str:t.result}};e(n)},fail:function(t){console.error("scanCode fail: ".concat(JSON.stringify(t)))}})},setClipboardData:function(t,e){window.tt.setClipboardData({data:t,success:function(t){JSON.stringify(t)},fail:function(t){console.error("setClipboardData fail: ".concat(JSON.stringify(t)))}})},getLocation:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=t&&t.type?t.type:"gcj02";window.tt.getLocation({type:n,timeout:5,cacheTimeout:30,accuracy:"best",success:function(t){JSON.stringify(t),e({success:!0,data:t})},fail:function(t){console.error("getLocation fail: ".concat(JSON.stringify(t)))}})}},e))},onFail:function(t){console.error("config failed: ".concat(JSON.stringify(t)))}})}(t.data):s.default[s.KD_PLUGIN]&&(console.error("鉴权失败，getAppTrdAuthData.do接口返回数据：".concat(JSON.stringify(t))),s.default[s.KD_PLUGIN][i.AUTH_RESULT]=t,s.default[s.KD_PLUGIN][i.AUTH_API_WHITE_LIST]=["previewImage","scanQRCode","setClipboardData","getLocation"])}))}))},error:function(){console.error("飞书SDK加载失败"),e&&e(!1)}})},n(9692),n(305092),n(443616),n(387912),n(660824),n(694904);var r=n(747325),i=n(702776),c=n(529040),a=n(781456),s=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=o(t)&&"function"!=typeof t)return{default:t};var n=l(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if("default"!==c&&Object.prototype.hasOwnProperty.call(t,c)){var a=i?Object.getOwnPropertyDescriptor(t,c):null;a&&(a.get||a.set)?Object.defineProperty(r,c,a):r[c]=t[c]}return r.default=t,n&&n.set(t,r),r}(n(211152)),u=n(331428),f=n(529040);function l(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(l=function(t){return t?n:e})(t)}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function p(){return{closeWebView:function(){window.tt.closeWindow({success:function(t){JSON.stringify(t),(0,c.releaseResource)()},fail:function(t){console.error("closeWindow fail: ".concat(JSON.stringify(t)))}})},setWebViewTitle:function(t){document.title=t},getDevicedLang:function(t,e){var n=window.navigator.userAgent.split(" ").find((function(t){return t.startsWith("LarkLocale")}))||"LarkLocale/zh_CN";e({success:!0,data:n.includes("zh_TW")||n.includes("zh_HK")?"zh_TW":n.includes("zh")?"zh_CN":(0,u.getLanguage)(n)})}}}}}]);