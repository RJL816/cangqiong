/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackJsonp_bos-platform"] = self["webpackJsonp_bos-platform"] || []).push([[7868],{

/***/ "./src/component/common/MobileVirtualView.js":
/*!***************************************************!*\
  !*** ./src/component/common/MobileVirtualView.js ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.DIRECTION_V = void 0;\nexports[\"default\"] = VirtualView;\n__webpack_require__(/*! core-js/modules/es.array.fill.js */ \"../../node_modules/core-js/modules/es.array.fill.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.array.reduce.js */ \"../../node_modules/core-js/modules/es.array.reduce.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.parse-int.js */ \"../../node_modules/core-js/modules/es.parse-int.js\");\n__webpack_require__(/*! core-js/modules/es.promise.js */ \"../../node_modules/core-js/modules/es.promise.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.timers.js */ \"../../node_modules/core-js/modules/web.timers.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _commonUtils = _interopRequireDefault(__webpack_require__(/*! @/component/common/commonUtils */ \"./src/component/common/commonUtils.js\"));\nvar _resizeObserve = _interopRequireDefault(__webpack_require__(/*! @/util/resizeObserve */ \"./src/util/resizeObserve.js\"));\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _MobileVirtualView = _interopRequireDefault(__webpack_require__(/*! ./MobileVirtualView.less */ \"./src/component/common/MobileVirtualView.less\"));\nvar _classnames = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n/**\n *\n * @param {*} items 渲染列表数组\n * @param {*} itemRender 每个条目的渲染函数 (item,index)=>...\n * @param {*} options itemWidth, itemHeight, isMultiItem：是否一行显示多个item,enableVirtual:启用虚拟列表\n * refreshFlag 刷新标志，如果变化，虚拟列表需要刷新,有些状态不在items, itemRender范围控制，比如卡片选中状态\n * direction:vertical/horizontal\n * isMultiItem:一行包含多个列表子项，默认\n */\nvar DIRECTION_V = exports.DIRECTION_V = 'vertical'; // 垂直方向滚动\nvar CONTAINER_MIN_HEIGHT = 20; // 容器最小高度，小于这个值时认为容器高度坍塌了，需要重新计算容器高度\n\nfunction VirtualView(_ref) {\n  var items = _ref.items,\n    itemRender = _ref.itemRender,\n    flex = _ref.flex,\n    style = _ref.style,\n    _ref$options = _ref.options,\n    options = _ref$options === void 0 ? {} : _ref$options;\n  var _options$itemWidth = options.itemWidth,\n    itemWidth = _options$itemWidth === void 0 ? 0 : _options$itemWidth,\n    _options$itemHeight = options.itemHeight,\n    itemHeight = _options$itemHeight === void 0 ? 0 : _options$itemHeight,\n    _options$refreshFlag = options.refreshFlag,\n    refreshFlag = _options$refreshFlag === void 0 ? '' : _options$refreshFlag,\n    _options$isMultiItem = options.isMultiItem,\n    isMultiItem = _options$isMultiItem === void 0 ? true : _options$isMultiItem,\n    _options$enableVirtua = options.enableVirtual,\n    enableVirtual = _options$enableVirtua === void 0 ? true : _options$enableVirtua,\n    _options$direction = options.direction,\n    direction = _options$direction === void 0 ? DIRECTION_V : _options$direction,\n    _options$parentHeight = options.parentHeight,\n    parentHeight = _options$parentHeight === void 0 ? 0 : _options$parentHeight,\n    headerRender = options.headerRender,\n    footerRender = options.footerRender,\n    onApi = options.onApi;\n  var _useReducer = (0, _react.useReducer)(function (x) {\n      return x + 1;\n    }, 0),\n    _useReducer2 = _slicedToArray(_useReducer, 2),\n    refresh = _useReducer2[0],\n    forceUpdate = _useReducer2[1]; // 强制刷新\n  var view$ = (0, _react.useRef)({\n    isHidden: true,\n    width: 0,\n    height: 0\n  }); // 虚拟列表页面大小、可见性\n  var placeholder$ = (0, _react.useRef)(); // 占位元素,用于撑开容器，显示滚动栏\n  var viewContainer$ = (0, _react.useRef)(null); // 虚拟列表容器\n  var itemSize$ = (0, _react.useRef)({\n    itemWidth: itemWidth,\n    itemHeight: itemHeight,\n    itemMarginHeight: 0,\n    itemMarginWidth: 0\n  }); // 每个子项大小\n  var ele$ = (0, _react.useRef)(null);\n  var items$ = (0, _react.useRef)(items);\n  var itemsSizeCache = (0, _react.useRef)(new Array(items.size).fill({\n    itemWidth: itemWidth,\n    itemHeight: itemHeight,\n    hadCalc: false\n  }));\n  items$.current = items;\n  var this$ = (0, _react.useRef)({}); // 定义非ui实例变量\n  this$.current.direction = direction; // 水平还是垂直方向滚动\n  this$.current.isMultiItem = isMultiItem;\n  this$.current.headerElement = headerRender && headerRender();\n  this$.current.footerElement = footerRender && footerRender();\n  var _useState = (0, _react.useState)(itemWidth && itemHeight || !enableVirtual),\n    _useState2 = _slicedToArray(_useState, 2),\n    isReady = _useState2[0],\n    setReady = _useState2[1]; // isReady是否需要计算元素的高宽，用于计算渲染区域元素\n  var _useState3 = (0, _react.useState)({\n      startIndex: -1,\n      endIndex: -1,\n      numOfLine: 1,\n      totalLength: -1\n    }),\n    _useState4 = _slicedToArray(_useState3, 2),\n    position = _useState4[0],\n    setPosition = _useState4[1]; // ui渲染位置信息,totalLength=总占位高度或宽度（水平滚动）\n  this$.current.isReady = isReady;\n  (0, _react.useEffect)(function () {\n    var api = getVirtualViewApi(position);\n    onApi === null || onApi === void 0 || onApi(api);\n  }, [position]);\n  (0, _react.useEffect)(function () {\n    // 数据改变时重置已计算的状态\n    itemsSizeCache.current.forEach(function (itemSize) {\n      itemSize.hadCalc = false;\n    });\n    if (items.size < itemsSizeCache.current.length) {\n      itemsSizeCache.current.length = items.size;\n    } else if (items.size > itemsSizeCache.current.length) {\n      var prevSize = itemsSizeCache.current.length;\n      itemsSizeCache.current.length = items.size;\n      itemsSizeCache.current.fill({\n        itemWidth: itemWidth,\n        itemHeight: itemHeight,\n        hadCalc: false\n      }, prevSize);\n    }\n  }, [items.hashCode()]);\n  (0, _react.useEffect)(function () {\n    var resizeObserver = (0, _resizeObserve[\"default\"])(ele$.current, function (_ref2) {\n      var hide = _ref2.hide,\n        width = _ref2.width,\n        height = _ref2.height;\n      Object.assign(view$.current, {\n        isHidden: hide,\n        width: width,\n        height: height\n      });\n\n      // 记录原始高度，如果原始高度有值，说明高度可以被撑开，这时候不需要去动态计算父容器高度\n      if (view$.current.initEleHeight === undefined) {\n        view$.current.initEleHeight = height;\n      }\n      if (this$.current.initClientHeight === undefined) {\n        this$.current.initClientHeight = document.body.clientHeight;\n      }\n      if (hide) return;\n      if (this$.current.isReady && view$.current.initEleHeight <= CONTAINER_MIN_HEIGHT) {\n        setParentContainerHeight();\n      }\n\n      // 如果是键盘弹出导致的大小发生变化，则不用刷新页面\n      if (document.body.clientHeight < this$.current.initClientHeight) {\n        this$.current.isMobileKeyBoardShow = true;\n      } else {\n        this$.current.isMobileKeyBoardShow = false;\n      }\n      if (this$.current.isMobileKeyBoardShow) return;\n      forceUpdate();\n    });\n    return function () {\n      resizeObserver.removeResizeObserve();\n    };\n  }, []);\n  (0, _react.useEffect)(function () {\n    if (isReady) {\n      ele$.current.addEventListener('scroll', onScroll, {\n        passive: true\n      });\n    }\n    return function () {\n      return ele$.current.removeEventListener('scroll', onScroll, {\n        passive: true\n      });\n    };\n  }, [isReady]);\n  (0, _react.useEffect)(function () {\n    if (isReady && enableVirtual) {\n      var _calcVisbileData = calcVisbileData(),\n        startIndex = _calcVisbileData.startIndex,\n        endIndex = _calcVisbileData.endIndex,\n        totalLength = _calcVisbileData.totalLength,\n        numOfLine = _calcVisbileData.numOfLine;\n      this$.current.position = {\n        startIndex: startIndex,\n        endIndex: endIndex,\n        numOfLine: numOfLine,\n        totalLength: totalLength\n      };\n      if (this$.current.direction === DIRECTION_V) {\n        placeholder$.current.style.height = \"\".concat(totalLength, \"px\"); // 调整滚动高度\n      } else {\n        placeholder$.current.style.width = \"\".concat(totalLength, \"px\"); // 调整滚动宽度\n      }\n      setPosition({\n        startIndex: startIndex,\n        endIndex: endIndex,\n        numOfLine: numOfLine,\n        totalLength: totalLength\n      });\n    }\n  }, [items.size, enableVirtual]);\n  (0, _react.useEffect)(function () {\n    var time;\n    if (!view$.current.isHidden && itemSize$.current.itemHeight && itemSize$.current.itemWidth) {\n      time = setTimeout(function () {\n        refreshPage(); // 容器大小发生变化，重新计算并刷新视图\n      }, 0);\n    }\n    return function () {\n      return time && clearTimeout(time);\n    };\n  }, [view$.current.height, view$.current.width]);\n  (0, _react.useEffect)(function () {\n    var timeHandler = null;\n    if (!isReady) {\n      // 计算item尺寸\n      var calcSize = function calcSize() {\n        var headerElement = this$.current.headerElement;\n        var footerElement = this$.current.footerElement;\n        var len = 1; // 需要测量元素的数量\n        if (headerElement && footerElement) {\n          len = 3;\n        } else if (headerElement || footerElement) {\n          len = 2;\n        }\n        if (viewContainer$.current.children.length >= len) {\n          calcItemSize();\n          if (itemSize$.current.itemHeight && itemSize$.current.itemWidth) {\n            setReady(true);\n            this$.current.isReady = true;\n            return;\n          }\n        }\n        timeHandler = window.requestAnimationFrame(calcSize);\n      };\n      calcSize();\n    } else {\n      refreshPage();\n    }\n    return function () {\n      timeHandler && window.cancelAnimationFrame(timeHandler);\n    };\n  }, [isReady]);\n  (0, _react.useEffect)(function () {\n    if (isReady && view$.current.initEleHeight <= CONTAINER_MIN_HEIGHT) {\n      setParentContainerHeight();\n    }\n  }, [items.size, isReady]);\n\n  // 注意这里依赖项的引用\n  var getVirtualViewApi = function getVirtualViewApi(position) {\n    var jumpToTargetItem = function jumpToTargetItem(itemIndex, pos) {\n      var node = ele$.current;\n      if (node && itemIndex !== -1 && this$.current.direction === DIRECTION_V) {\n        // 暂不考虑横向的\n        var numOfLine = position.numOfLine;\n        ensureRowIndexVisible(node, itemIndex, {\n          numOfLine: numOfLine,\n          itemsSize: itemsSizeCache.current,\n          position: pos\n        });\n      }\n    };\n    var resetScrollBar = function resetScrollBar() {\n      var node = ele$.current;\n      if (node) {\n        node.scrollTop = 0;\n        node.scrollLeft = 0;\n      }\n    };\n    return {\n      jumpToTargetItem: jumpToTargetItem,\n      resetScrollBar: resetScrollBar\n    };\n  };\n  var getScrollOffset = function getScrollOffset() {\n    var offset = 0;\n    if (isReady) {\n      if (direction === DIRECTION_V) {\n        offset = ele$.current.scrollTop;\n      } else {\n        offset = ele$.current.scrollLeft;\n      }\n    }\n    return offset;\n  };\n  /**\n   * 计算可视区域的参数，用于渲染可视区域元素\n   * @param {*} offset  滚动偏移量\n   * @returns  {startIndex, endIndex, numOfLine, totalLength}\n   */\n  var calcVisbileData = function calcVisbileData(offset) {\n    if (offset === undefined) {\n      offset = getScrollOffset();\n    }\n    var _this$$current = this$.current,\n      direction = _this$$current.direction,\n      isMultiItem = _this$$current.isMultiItem;\n    var listRect = {\n      height: view$.current.height,\n      width: view$.current.width\n    };\n    var listItemRect = {\n      height: itemSize$.current.itemHeight,\n      width: itemSize$.current.itemWidth\n    };\n    var _calcVirtualListParam = calcVirtualListParams(listRect, listItemRect, items$.current, {\n        direction: direction,\n        isMultiItem: isMultiItem\n      }),\n      numOfLine = _calcVirtualListParam.numOfLine,\n      visibleRows = _calcVirtualListParam.visibleRows;\n    var totalRows = Math.ceil(items$.current.size / numOfLine);\n    var totalLength = totalRows * (direction === DIRECTION_V ? listItemRect.height : listItemRect.width);\n    var startIndex = offset === 0 ? 0 : Math.floor(offset / (direction === DIRECTION_V ? listItemRect.height : listItemRect.width));\n    if (startIndex > totalRows - visibleRows) {\n      startIndex = Math.max(0, totalRows - visibleRows);\n    }\n    var endIndex = startIndex + visibleRows;\n    // 上下加半屏的缓冲区\n    var buffer = Math.ceil(visibleRows / 2);\n    var _startIndex = Math.max(startIndex - buffer, 0);\n    var _endIndex = Math.min(endIndex + buffer, totalRows);\n    // startIndex 第几行开始渲染（一行可以有多个元素numOfLine）\n    return {\n      startIndex: _startIndex,\n      endIndex: _endIndex,\n      numOfLine: numOfLine,\n      totalLength: totalLength\n    };\n  };\n\n  // 计算子项大小\n  var calcItemSize = function calcItemSize() {\n    var headerElement = this$.current.headerElement;\n    var footerElement = this$.current.footerElement;\n    var childrenList = Array.from(viewContainer$.current.children);\n    var setItemSize = function setItemSize(ele) {\n      var _calcMarginSize = calcMarginSize(ele),\n        marginHeight = _calcMarginSize.marginHeight,\n        marginWidth = _calcMarginSize.marginWidth;\n      itemSize$.current.itemWidth = ele.offsetWidth + marginWidth;\n      itemSize$.current.itemHeight = ele.offsetHeight + marginHeight;\n      itemSize$.current.itemMarginHeight = marginHeight;\n      itemSize$.current.itemMarginWidth = marginWidth;\n    };\n    if (this$.current.isReady) {\n      // isReady为true时不需要去算固定子项的大小了\n      if (childrenList.length > 0) {\n        var ele = childrenList.length > 1 ? childrenList[1] : childrenList[0];\n        // 初始计算卡片大小时不能扩展\n        ele.classList.add(_MobileVirtualView[\"default\"]['init-item-flex-grow']);\n        setItemSize(ele);\n        ele.classList.remove(_MobileVirtualView[\"default\"]['init-item-flex-grow']);\n      }\n    } else {\n      childrenList.forEach(function (ele, index) {\n        ele.classList.add(_MobileVirtualView[\"default\"]['init-item-flex-grow']);\n        if (headerElement && index === 0 || footerElement && index === ele$.current.children.length - 1) {\n          itemSize$.current.fixItemWidth = ele.offsetWidth;\n          itemSize$.current.fixItemHeight = ele.offsetHeight;\n        } else {\n          setItemSize(ele);\n        }\n        ele.classList.remove(_MobileVirtualView[\"default\"]['init-item-flex-grow']);\n      });\n    }\n  };\n\n  // 设置父容器高度\n  var setParentContainerHeight = function setParentContainerHeight() {\n    var lineHeight = itemSize$.current.itemHeight;\n    if (this$.current.direction !== DIRECTION_V) {\n      ele$.current.parentElement.style.height = lineHeight + 'px';\n      ele$.current.parentElement.style.minHeight = lineHeight + 'px';\n      return;\n    }\n    var _this$$current2 = this$.current,\n      direction = _this$$current2.direction,\n      isMultiItem = _this$$current2.isMultiItem;\n    var listRect = {\n      height: view$.current.height,\n      width: view$.current.width\n    };\n    var listItemRect = {\n      height: itemSize$.current.itemHeight,\n      width: itemSize$.current.itemWidth\n    };\n    var _calcVirtualListParam2 = calcVirtualListParams(listRect, listItemRect, items$.current, {\n        direction: direction,\n        isMultiItem: isMultiItem\n      }),\n      numOfLine = _calcVirtualListParam2.numOfLine;\n    var totalRows = Math.ceil(items$.current.size / numOfLine);\n    if (parentHeight > 0 && totalRows * lineHeight > parentHeight) {\n      ele$.current.parentElement.style.height = parentHeight + 'px';\n    } else {\n      ele$.current.parentElement.style.height = totalRows * lineHeight + 'px';\n    }\n    ele$.current.parentElement.style.minHeight = lineHeight + 'px';\n  };\n  var refreshPage = function refreshPage(offset) {\n    if (!view$.current.isHidden) {\n      var _calcVisbileData2 = calcVisbileData(offset),\n        startIndex = _calcVisbileData2.startIndex,\n        endIndex = _calcVisbileData2.endIndex,\n        totalLength = _calcVisbileData2.totalLength,\n        numOfLine = _calcVisbileData2.numOfLine;\n      this$.current.position = {\n        startIndex: startIndex,\n        endIndex: endIndex,\n        numOfLine: numOfLine,\n        totalLength: totalLength\n      };\n      setPosition({\n        startIndex: startIndex,\n        endIndex: endIndex,\n        numOfLine: numOfLine,\n        totalLength: totalLength\n      });\n    }\n  };\n  var adjustOffset = function adjustOffset(offset) {\n    // 调整offset,鼠标移动太快，导致超出范围\n    if (offset < this$.current.position.totalLength) {\n      var size = direction === DIRECTION_V ? view$.current.height : view$.current.width;\n      if (offset > this$.current.position.totalLength - size) {\n        offset = this$.current.position.totalLength - size;\n      }\n    }\n    return Math.max(0, offset);\n  };\n  var throttleFun = (0, _react.useCallback)(_lodash[\"default\"].throttle(function (scrollDirection) {\n    var offset = adjustOffset(getScrollOffset());\n    refreshPage(offset);\n  }, 100), [isReady]);\n  var onScroll = function onScroll(event) {\n    if (this$.current.isMobileKeyBoardShow) return;\n    // const prevOffset = this$.current.offset || 0\n    // const offset = adjustOffset(getScrollOffset())\n    // this$.current.offset = offset\n\n    // const { startIndex } = calcVisbileData(offset)\n    // const move = startIndex * itemSize$.current.itemHeight\n    // viewContainer$.current.style.transform = direction === DIRECTION_V ? `translateY(${move}px)` : `translateX(${move}px)`\n    // clearTimeout(this$.current.hander)\n    // this$.current.hander = setTimeout(() => {\n    //   const offset = adjustOffset(getScrollOffset())\n    //   refreshPage(offset)\n    // }, 100)\n\n    throttleFun();\n  };\n  var elements = (0, _react.useMemo)(function () {\n    var currentElement = [];\n    if (isReady) {\n      if (enableVirtual) {\n        var startIndex = position.startIndex,\n          endIndex = position.endIndex,\n          numOfLine = position.numOfLine;\n        if (startIndex === 0) {\n          // 加载可视区域元素\n          if (this$.current.headerElement) {\n            currentElement.push(this$.current.headerElement);\n          }\n        }\n        if (startIndex !== -1 && endIndex !== -1) {\n          var _items = items.slice(startIndex * numOfLine, endIndex * numOfLine).map(itemRender);\n          currentElement.push.apply(currentElement, _toConsumableArray(_items));\n        }\n        if (endIndex * numOfLine >= items.size) {\n          if (this$.current.footerElement) {\n            currentElement.push(this$.current.footerElement);\n          }\n        }\n      } else {\n        // 不开启虚拟列表，全部加载\n        if (this$.current.headerElement) {\n          currentElement.push(this$.current.headerElement);\n        }\n        currentElement.push.apply(currentElement, _toConsumableArray(renderItems(items, items.size, itemRender)));\n        if (this$.current.footerElement) {\n          currentElement.push(this$.current.footerElement);\n        }\n      }\n    } else {\n      // 渲染一两个元素，用于获取元素高宽\n      if (this$.current.headerElement) {\n        currentElement.push(this$.current.headerElement);\n      }\n      currentElement.push.apply(currentElement, _toConsumableArray(renderItems(items, 1, itemRender)));\n      if (this$.current.footerElement) {\n        currentElement.push(this$.current.footerElement);\n      }\n    }\n    return currentElement;\n  }, [isReady, refresh, items.hashCode(), refreshFlag, enableVirtual, position]);\n  var _ref3 = flex || {},\n    AlignItems = _ref3.AlignItems,\n    AlignContent = _ref3.AlignContent,\n    Direction = _ref3.Direction,\n    Wrap = _ref3.Wrap;\n  var className = (0, _classnames[\"default\"])(_defineProperty({}, _MobileVirtualView[\"default\"]['view-container'], true), (0, _commonUtils[\"default\"])({\n    AlignItems: AlignItems,\n    Direction: Direction,\n    // Overflow,\n    Wrap: direction !== DIRECTION_V ? 'nowrap' : Wrap,\n    // 水平方向滚动，不能换行\n    AlignContent: AlignContent\n  }));\n  // const startIndex = Math.max(position.startIndex - 3, 0)\n  var move = position.startIndex * (direction === DIRECTION_V ? itemSize$.current.itemHeight : itemSize$.current.itemWidth);\n  if (position.totalLength < (direction === DIRECTION_V ? view$.current.height : view$.current.width)) {\n    move = 0; // 避免无效滚动栏出现\n  }\n  var transform = direction === DIRECTION_V ? \"translateY(\".concat(move, \"px)\") : \"translateX(\".concat(move, \"px)\");\n  // chrome69以下版本容器内只有单个元素时alignContent不生效，而初始化时取的是单个卡片来算高度，卡片会充满整个容器，\n  // 导致计算高度不正确，这里需要多加一个alignItems\n  var viewContainerStyle = {\n    transform: transform\n  };\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _MobileVirtualView[\"default\"]['virtual-container'],\n    ref: ele$\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    id: \"view-container\",\n    ref: viewContainer$,\n    style: viewContainerStyle,\n    className: className\n  }, elements), /*#__PURE__*/_react[\"default\"].createElement(Placeholder, {\n    ref: placeholder$,\n    totalLength: position.totalLength,\n    direction: direction\n  }));\n}\n// 占位控件，撑开容器，形成滚动栏\nvar Placeholder = /*#__PURE__*/_react[\"default\"].forwardRef(function (_ref4, ref) {\n  var _ref4$totalLength = _ref4.totalLength,\n    totalLength = _ref4$totalLength === void 0 ? 0 : _ref4$totalLength,\n    _ref4$direction = _ref4.direction,\n    direction = _ref4$direction === void 0 ? DIRECTION_V : _ref4$direction;\n  var style = {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    width: 1,\n    height: totalLength || 0,\n    zIndex: -1\n  };\n  if (direction !== DIRECTION_V) {\n    style.height = 1;\n    style.width = totalLength;\n  }\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    ref: ref,\n    id: \"placeholder\",\n    style: style\n  });\n});\n/**\n * 渲染子项元素\n * @param {*} items  子项数组\n * @param {*} number  渲染子项数量\n * @param {*} render  渲染函数\n * @returns\n */\nfunction renderItems(items, number) {\n  var render = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function (item, index) {\n    return /*#__PURE__*/_react[\"default\"].createElement(\"div\", null, index);\n  };\n  return items.take(number).map(function (item, index) {\n    return render(item, index);\n  });\n}\n/**\n * 计算可见视图范围参数\n * @param {*} listRect  可是区域高宽\n * @param {*} listItemRect  每个子项高宽\n * @param {*} items  所有子项数组\n * @param {*} options  可选配置项\n * @returns\n */\nfunction calcVirtualListParams(listRect, listItemRect, items) {\n  var _ref5 = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {},\n    _ref5$direction = _ref5.direction,\n    direction = _ref5$direction === void 0 ? DIRECTION_V : _ref5$direction,\n    _ref5$isMultiItem = _ref5.isMultiItem,\n    isMultiItem = _ref5$isMultiItem === void 0 ? true : _ref5$isMultiItem;\n  // 水平滚动 ||isMultiItem == false  numOfLine=1\n  var numOfLine = listItemRect.width && isMultiItem && direction === DIRECTION_V ? Math.floor(listRect.width / listItemRect.width) : 1;\n  var visibleRows = Math.ceil((direction === DIRECTION_V ? listRect.height : listRect.width) / (direction === DIRECTION_V ? listItemRect.height : listItemRect.width));\n  return {\n    numOfLine: numOfLine || 1,\n    // 每行渲染几个item\n    visibleRows: visibleRows + 1 // 可见区域渲染行数，一行可以渲染多个子项,多渲染一行防止空白\n  };\n}\n\n/**\n * 计算子项的margin大小\n * @param {*} ele  子项元素\n * @returns\n */\nfunction calcMarginSize(ele) {\n  if (!ele) return {\n    marginHeight: 0,\n    marginWidth: 0\n  };\n  var eleComputedStyle = window.getComputedStyle(ele);\n  var itemMarginTop = parseInt(eleComputedStyle['margin-top']);\n  var itemMarginBottom = parseInt(eleComputedStyle['margin-bottom']);\n  var itemMarginLeft = parseInt(eleComputedStyle['margin-left']);\n  var itemMarginRight = parseInt(eleComputedStyle['margin-right']);\n  return {\n    marginHeight: itemMarginTop + itemMarginBottom,\n    marginWidth: itemMarginLeft + itemMarginRight\n  };\n}\nfunction getLineMaxLength(_ref6) {\n  var lineIndex = _ref6.lineIndex,\n    numOfLine = _ref6.numOfLine,\n    itemsSize = _ref6.itemsSize,\n    direction = _ref6.direction;\n  var baseItemIndex = lineIndex * numOfLine;\n  var lineMaxLength = itemsSize.slice(baseItemIndex, baseItemIndex + numOfLine).reduce(function (maxLength, item) {\n    var itemLength = direction === DIRECTION_V ? item.itemHeight : item.itemWidth;\n    if (itemLength > maxLength) {\n      maxLength = itemLength;\n    }\n    return maxLength;\n  }, 0);\n  return lineMaxLength;\n}\n\n/**\n * 将目标行滚动到可视区域内\n * @param {*} container 滚动容器\n * @param {*} rowIndex 目标行\n * @param {*} param2  position: 将目标行滚动到的位置，默认auto是根据目标行相对视口的位置滚动到底部或顶部，可取值为'top' | 'middle' | 'bottom' | 'auto'\n * @returns\n */\nfunction ensureRowIndexVisible(container, rowIndex, _ref7) {\n  var itemsSize = _ref7.itemsSize,\n    numOfLine = _ref7.numOfLine,\n    _ref7$position = _ref7.position,\n    position = _ref7$position === void 0 ? 'auto' : _ref7$position;\n  if (!container || typeof rowIndex !== 'number' || rowIndex < 0 || rowIndex >= itemsSize.length) {\n    return;\n  }\n  var rowTopPixel = 0;\n  // 一行可能有多个卡片，这里计算的是每行的高度\n  var lineIndex = Math.ceil(rowIndex / numOfLine);\n  for (var i = 0; i < lineIndex; i++) {\n    rowTopPixel += getLineMaxLength({\n      lineIndex: i,\n      numOfLine: numOfLine,\n      itemsSize: itemsSize,\n      direction: DIRECTION_V\n    });\n  }\n  var rowBottomPixel = rowTopPixel + getLineMaxLength({\n    lineIndex: lineIndex,\n    numOfLine: numOfLine,\n    itemsSize: itemsSize,\n    direction: DIRECTION_V\n  });\n  var viewportHeight = container.clientHeight;\n  var vScrollTop = container.scrollTop;\n  var vScrollBottom = vScrollTop + viewportHeight;\n  var pxTop = rowTopPixel; // 跳转到视口顶部的偏移量\n  var pxBottom = rowBottomPixel - viewportHeight; // 跳转到视口底部的偏移量\n  var pxMiddle = Math.min((pxTop + pxBottom) / 2, rowTopPixel);\n  var rowBelowViewport = vScrollTop > rowTopPixel;\n  var rowAboveViewport = vScrollBottom < rowBottomPixel;\n  var newScrollPosition = null;\n  if (position === 'top') {\n    newScrollPosition = pxTop;\n  } else if (position === 'bottom') {\n    newScrollPosition = pxBottom;\n  } else if (position === 'middle') {\n    newScrollPosition = pxMiddle;\n  } else if (rowBelowViewport) {\n    // 目标行在视口之上，则向上滚动到顶部\n    newScrollPosition = pxTop;\n  } else if (rowAboveViewport) {\n    // 目标行在视口之下，则向下滚动到底部\n    newScrollPosition = pxBottom;\n  }\n  if (newScrollPosition !== null) {\n    container.scrollTop = newScrollPosition;\n  }\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/common/MobileVirtualView.js?");

/***/ }),

/***/ "./src/component/mobile/KDAdvGrid.js":
/*!*******************************************!*\
  !*** ./src/component/mobile/KDAdvGrid.js ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.find.js */ \"../../node_modules/core-js/modules/es.array.find.js\");\n__webpack_require__(/*! core-js/modules/es.array.find-index.js */ \"../../node_modules/core-js/modules/es.array.find-index.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.array.splice.js */ \"../../node_modules/core-js/modules/es.array.splice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _propTypes = _interopRequireDefault(__webpack_require__(/*! prop-types */ \"../../node_modules/prop-types/index.js\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _global = __webpack_require__(/*! @/global */ \"./src/global/index.js\");\nvar _BillListMobile = _interopRequireDefault(__webpack_require__(/*! ./base/BillListMobile */ \"./src/component/mobile/base/BillListMobile.jsx\"));\nvar _componentFactory = _interopRequireDefault(__webpack_require__(/*! ../../factory/componentFactory */ \"./src/factory/componentFactory.js\"));\nvar _componentutil = __webpack_require__(/*! ../../util/componentutil */ \"./src/util/componentutil.js\");\nvar _KDAdvGrid = _interopRequireDefault(__webpack_require__(/*! ./KDAdvGrid.less */ \"./src/component/mobile/KDAdvGrid.less\"));\nvar _VisibleLockWrap = _interopRequireWildcard(__webpack_require__(/*! ../common/VisibleLockWrap */ \"./src/component/common/VisibleLockWrap.js\"));\nvar _AttachDataWrap = _interopRequireDefault(__webpack_require__(/*! ../common/AttachDataWrap */ \"./src/component/common/AttachDataWrap.js\"));\nvar _const = __webpack_require__(/*! @/constant/const */ \"./src/constant/const.js\");\nvar _gridaction = __webpack_require__(/*! ../../action/gridaction */ \"./src/action/gridaction.js\");\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _appModelFunction = __webpack_require__(/*! @/model/appModelFunction.js */ \"./src/model/appModelFunction.js\");\nvar _grid = __webpack_require__(/*! @/util/component/grid */ \"./src/util/component/grid.js\");\nvar _memoryCacher = __webpack_require__(/*! @/model/memoryCacher */ \"./src/model/memoryCacher.js\");\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nvar _uiComponents = __webpack_require__(/*! ./base/uiComponents */ \"./src/component/mobile/base/uiComponents/index.js\");\nvar _index = __webpack_require__(/*! @/action/actionname/control/grid/server/index.js */ \"./src/action/actionname/control/grid/server/index.js\");\nvar _baseDataUtil = __webpack_require__(/*! @/util/baseDataUtil */ \"./src/util/baseDataUtil.js\");\nvar _trackingUtils = __webpack_require__(/*! @/util/trackingUtils.js */ \"./src/util/trackingUtils.js\");\nvar _dec, _class, _KDBillList;\n/**\n * 列表控件(包含表格、卡片视图)\n */\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar KDBillList = (_dec = (0, _VisibleLockWrap[\"default\"])(true), _dec(_class = (0, _VisibleLockWrap.ContainerLockWrap)(_class = (0, _AttachDataWrap[\"default\"])(_class = (_KDBillList = /*#__PURE__*/function (_React$Component) {\n  _inherits(KDBillList, _React$Component);\n  function KDBillList(props) {\n    var _this;\n    _classCallCheck(this, KDBillList);\n    _this = _callSuper(this, KDBillList, [props]);\n    _this.reportUserData = function (_ref) {\n      var _model$getMetaPropert, _cardView$get;\n      var model = _ref.model;\n      var cardViewType = _this.getCardViewType(model);\n      if (cardViewType !== 'cardEntry') return; // 卡片分录和卡片列表都是该组件，识别卡片分录才上报\n\n      var pageId = model.pageId,\n        key = model.key;\n      var controlProp = 'showHeaderLine';\n      var showHeaderLine = (!!model.getMetaProperty(controlProp)).toString();\n      var controlName = model.getMetaLocaleProperty('text');\n      // 上报单据体的【标题行】属性是否开启\n      (0, _trackingUtils.sendCtrlPropsEventTracking)({\n        model: model,\n        controlProp: controlProp,\n        controlValue: showHeaderLine,\n        pageId: pageId,\n        controlId: key,\n        controlType: 'advgrid',\n        controlName: controlName\n      });\n      var cardView = (_model$getMetaPropert = model.getMetaProperty('items')) === null || _model$getMetaPropert === void 0 ? void 0 : _model$getMetaPropert.get(0);\n      if (!cardView) return;\n      var cardRowPanel = (_cardView$get = cardView.get('items')) === null || _cardView$get === void 0 ? void 0 : _cardView$get.find(function (item) {\n        return item.get('CardType') === '1';\n      });\n      if (!cardRowPanel) return;\n      var cardShowHeaderLine = (!!cardRowPanel.get(controlProp)).toString();\n      var controlId = cardRowPanel.get('id');\n      // 上报卡片行的【标题行】属性是否开启\n      (0, _trackingUtils.sendCtrlPropsEventTracking)({\n        model: model,\n        controlProp: controlProp,\n        controlValue: cardShowHeaderLine,\n        pageId: pageId,\n        controlId: controlId,\n        controlType: 'cardrowpanel'\n      });\n    };\n    _this.getCardViewType = function (model) {\n      var _model$getMetaPropert2;\n      var cardView = (_model$getMetaPropert2 = model.getMetaProperty('items')) === null || _model$getMetaPropert2 === void 0 ? void 0 : _model$getMetaPropert2.get(0);\n      if (!cardView) return undefined;\n      var cardType = cardView.get('cardtype');\n      return cardType || 'cardEntry';\n    };\n    _this.dataMessageListener = function (data) {\n      // addDataChangeListener是异步回调，需要判断控件是否销毁\n      if (!_this.dispose) {\n        _this.setState({\n          selectedData: data ? (0, _immutable.List)(data) : (0, _immutable.List)()\n        });\n      }\n    };\n    _this.handleShowFrequentPanel = function (data) {\n      if (!data) return;\n      var type = data.type,\n        isMulti = data.isMulti,\n        _data$show = data.show,\n        show = _data$show === void 0 ? true : _data$show;\n      _this.setState({\n        showFrequentPanel: show\n      });\n      _this.basedataType = type;\n      _this.isMulti = isMulti;\n    };\n    _this.handlePageRelease = function () {\n      var _model$getDataValue, _model$getDataValue2;\n      if (!_this.basedataType) return;\n      var model = _this.props.model;\n      var selectedData = _this.state.selectedData;\n      var rows = ((_model$getDataValue = model.getDataValue()) === null || _model$getDataValue === void 0 ? void 0 : _model$getDataValue.get('rows')) || (0, _immutable.List)();\n      var dataIndex = (_model$getDataValue2 = model.getDataValue()) === null || _model$getDataValue2 === void 0 ? void 0 : _model$getDataValue2.get('dataindex');\n      var itemsInfo = rows.filter(function (row) {\n        return selectedData.includes(row.get(dataIndex.get('rk')));\n      }).map(function (row) {\n        return (0, _immutable.Map)({\n          id: row.get(dataIndex.get(_this.basedataType + '_id')),\n          mt: row.get(dataIndex.get('name')),\n          st: row.get(dataIndex.get('number'))\n        });\n      });\n      (0, _baseDataUtil.setBasedata2Cacher)(itemsInfo, {\n        pageId: model.pageId,\n        basedataType: _this.basedataType,\n        isMulti: _this.isMulti\n      });\n    };\n    _this.useToolbarGetRealCount = function () {\n      return _this.props.dispatch((0, _gridaction.invokeControlMethodSingle)(_this.props.model, 'getRealCount', []));\n    };\n    _this.rendSelectedItems = function () {\n      var model = _this.props.model;\n      var cardSelectStatus = model.getDataProperty('cardSelectStatus') || false;\n      var selectedItemsCount = _this.state.selectedData.size;\n      var showPanel = cardSelectStatus && selectedItemsCount > 0;\n      var count = /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n        className: _KDAdvGrid[\"default\"].count\n      }, selectedItemsCount);\n      return showPanel && /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _KDAdvGrid[\"default\"].selectedItems\n      }, (0, _intlApi.getLangMsg)({\n        key: 'KDAdvGrid.key0001',\n        variables: {\n          count: count\n        }\n      }));\n    };\n    _this.handleClearData = function () {\n      var rootPath = _this.isMulti ? ['mulbasedata'] : ['basedata'];\n      var _this$props = _this.props,\n        dispatch = _this$props.dispatch,\n        model = _this$props.model;\n      var pageId = model.pageId,\n        key = model.key;\n      var path = rootPath.concat([_this.basedataType, 'recent', 'myFrequent']);\n      (0, _memoryCacher.setUserUIState)(pageId, path, [], true);\n      dispatch((0, _appModelFunction.convertAppModelFunctionAction)((0, _appModelFunction.setDataProperty)(pageId, key, 'frequentData', (0, _immutable.List)())));\n    };\n    _this.handleRecordTextClick = function (record) {\n      var _model$getDataValue3, _model$getDataValue4, _model$getDataValue5;\n      var isCkecked = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var _this$props2 = _this.props,\n        dispatch = _this$props2.dispatch,\n        model = _this$props2.model;\n      var id = record.get('id');\n      var number = record.get('number');\n      var name = record.get('name');\n      var rows = ((_model$getDataValue3 = model.getDataValue()) === null || _model$getDataValue3 === void 0 ? void 0 : _model$getDataValue3.get('rows')) || (0, _immutable.List)();\n      var postCols = ((_model$getDataValue4 = model.getDataValue()) === null || _model$getDataValue4 === void 0 ? void 0 : _model$getDataValue4.get('postcols')) || (0, _immutable.List)();\n      var dataIndex = (_model$getDataValue5 = model.getDataValue()) === null || _model$getDataValue5 === void 0 ? void 0 : _model$getDataValue5.get('dataindex');\n      var selectRow = rows.find(function (row) {\n        return row.get(dataIndex.get(_this.basedataType + '_id')) === id;\n      });\n      var rowKey, args;\n      if (selectRow) {\n        rowKey = selectRow.get(dataIndex.get('rk'));\n        args = postCols.map(function (col) {\n          return selectRow.get(dataIndex.get(col));\n        });\n        var newSelectRows = [];\n        if (_this.isMulti) {\n          var selectedData = _this.state.selectedData;\n          var index = selectedData.findIndex(function (item) {\n            return item === rowKey;\n          });\n          if (index > -1) {\n            newSelectRows = selectedData.splice(index, 1).toJS();\n          } else {\n            newSelectRows = selectedData.push(rowKey).toJS();\n          }\n        } else {\n          newSelectRows = [rowKey];\n        }\n        (0, _appModelFunction.setCardviewSelectedRows)(model.pageId, newSelectRows, model.key);\n      } else {\n        rowKey = -1;\n        args = [id, id, number, name, ''];\n      }\n      if (isCkecked) {\n        dispatch((0, _gridaction.clearRowSelection)(model, [[rowKey], [args]]));\n      } else {\n        dispatch((0, _gridaction.addRowSelection)(model, [[rowKey], [args]]));\n      }\n    };\n    _this.getSelectRowIds = function () {\n      var _model$getDataValue6, _model$getDataValue7;\n      var model = _this.props.model;\n      var rows = ((_model$getDataValue6 = model.getDataValue()) === null || _model$getDataValue6 === void 0 ? void 0 : _model$getDataValue6.get('rows')) || (0, _immutable.List)();\n      var dataIndex = (_model$getDataValue7 = model.getDataValue()) === null || _model$getDataValue7 === void 0 ? void 0 : _model$getDataValue7.get('dataindex');\n      var selectRowIds = rows.map(function (row) {\n        var rowKey = row.get(dataIndex.get('rk'));\n        var rowId = row.get(dataIndex.get(_this.basedataType + '_id'));\n        if (_this.state.selectedData.includes(rowKey)) {\n          return rowId;\n        } else {\n          return undefined;\n        }\n      }).filter(Boolean);\n      return selectRowIds;\n    };\n    _this.renderFrequentPanel = function () {\n      var model = _this.props.model;\n      var frequentData = model.getDataProperty('frequentData') || (0, _immutable.List)();\n      var selData = _this.getSelectRowIds();\n      if (_this.state.showFrequentPanel && frequentData.size > 0) {\n        var data = frequentData.filter(function (item) {\n          return item.get(2);\n        }).slice(0, 10).map(function (item) {\n          return (0, _immutable.Map)({\n            id: item.get(0),\n            st: item.get(1),\n            mt: item.get(2)\n          });\n        });\n        return /*#__PURE__*/_react[\"default\"].createElement(_uiComponents.FrequentPanel, {\n          data: data,\n          selData: selData,\n          onClearData: _this.handleClearData,\n          onRecordTextClick: _this.handleRecordTextClick,\n          isMulti: _this.isMulti\n        });\n      }\n      return null;\n    };\n    _this.state = {\n      activeIndex: 0,\n      selectedData: (0, _immutable.List)(),\n      showFrequentPanel: false\n    };\n    _this._useToolbarGetRealCount = _lodash[\"default\"].debounce(_this.useToolbarGetRealCount, 300, {\n      trailing: true\n    });\n    _this.renderHeaderLine = _this.renderHeaderLine.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  _createClass(KDBillList, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var model = this.props.model;\n      if (model && prevProps.model && model.getDataProperty(['value', 'isgetrealcount']) === true && model.getDataProperty([_const.TIME_STAMP_FRESH]) !== prevProps.model.getDataProperty([_const.TIME_STAMP_FRESH])) {\n        console.log('执行请求列表记录数和页数');\n        this._useToolbarGetRealCount();\n      }\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      if (this.props.model.getDataProperty([_const.TIME_STAMP_FRESH]) !== nextProps.model.getDataProperty([_const.TIME_STAMP_FRESH])) {\n        var _nextProps$model = nextProps.model,\n          pageId = _nextProps$model.pageId,\n          key = _nextProps$model.key;\n        (0, _grid.clearAllGridPlainText)({\n          pageId: pageId,\n          gridId: key\n        });\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props3 = this.props,\n        model = _this$props3.model,\n        dispatch = _this$props3.dispatch;\n      var pageId = model.pageId,\n        key = model.key;\n      var busyTip = model.getMetaProperty('busyTip');\n      if (busyTip) {\n        dispatch((0, _appModelFunction.convertAppModelFunctionAction)((0, _appModelFunction.setCtlMetaProperty)(pageId, key, ['busyTip', 'supportMethod'], ['entryRowClick'])));\n      }\n      var isgetrealcount = model.getDataProperty(['value', 'isgetrealcount']);\n      if (isgetrealcount) {\n        this._useToolbarGetRealCount();\n      }\n      var data = (0, _appModelFunction.getCardviewSelectedRows)(pageId, key);\n      this.dataMessageListener(data);\n      this.removeDataMessageListener = (0, _memoryCacher.addDataChangeListener)(pageId, [key, _const.SELECTEDROWS_ARRAY], this.dataMessageListener);\n      this.removeShowFreqwuentPanelListener = (0, _memoryCacher.subscribeControlMethod)(pageId, key, _index.GRID_SHOW_FREQUENT_PANEL, this.handleShowFrequentPanel);\n      this.removePageReleaseListener = (0, _memoryCacher.addPageReleaseListener)(pageId, this.handlePageRelease);\n      (0, _memoryCacher.setControlMount)(pageId, key, true);\n      this.reportUserData({\n        model: model\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.dispose = true;\n      this.removeDataMessageListener();\n      this.removePageReleaseListener();\n    }\n  }, {\n    key: \"renderToolBar\",\n    value: function renderToolBar() {\n      return null;\n      // return <ul className={styles.toolbar}>\n      //   <li className={classnames({ [styles.active]: this.state.activeIndex === 0 })} onClick={() => this.setState({ activeIndex: 0 })}><i className='fa fa-th' /></li>\n      // </ul>\n    }\n  }, {\n    key: \"renderHeaderLine\",\n    value: function renderHeaderLine() {\n      var _model$getDataValue8;\n      var model = this.props.model;\n      var showHeaderLine = model.getMetaProperty('showHeaderLine');\n      var totalLineNumber = model.getMetaProperty('totalLineNumber');\n      var locale = model.getUserLocale();\n      var name = model.getMetaProperty(['text', locale]);\n      var rows = ((_model$getDataValue8 = model.getDataValue()) === null || _model$getDataValue8 === void 0 ? void 0 : _model$getDataValue8.get('rows')) || (0, _immutable.List)();\n      return showHeaderLine && /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _KDAdvGrid[\"default\"]['card-header-line']\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", null, name), !!totalLineNumber && /*#__PURE__*/_react[\"default\"].createElement(\"span\", null, (0, _intlApi.getLangMsg)({\n        key: 'KDAdvGrid.key0002',\n        variables: {\n          count: rows.size\n        }\n      })));\n    }\n  }, {\n    key: \"renderPanel\",\n    value: function renderPanel(props) {\n      var _this2 = this;\n      var children = [];\n      var model = this.props.model;\n      var advSty = {};\n      var entryentities = model.getMetaProperty('entryentities');\n      model.meta.get('items').forEach(function (meta, index) {\n        advSty = index != _this2.state.activeIndex ? {\n          display: 'none'\n        } : {};\n        children.push( /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n          className: _KDAdvGrid[\"default\"].panel,\n          style: advSty,\n          key: index\n        }, /*#__PURE__*/_react[\"default\"].createElement(_react.Suspense, {\n          fallback: /*#__PURE__*/_react[\"default\"].createElement(\"div\", null)\n        }, /*#__PURE__*/_react[\"default\"].cloneElement((0, _componentFactory[\"default\"])(model.pageId, meta, (0, _global.getGlobalState)()), {\n          parentModel: model,\n          entryentities: entryentities\n        }))));\n      });\n      return children;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n      var model = this.props.model;\n      var items = model.meta.get('items');\n      if (!items) return null;\n      // let style = getCommonStyle(model);\n      var style = Object.assign({}, (0, _componentutil.getCommonStyle)(model), this.props.style);\n      var commonClass = (0, _componentutil.getCommonClass)(model);\n      return /*#__PURE__*/_react[\"default\"].createElement(_BillListMobile[\"default\"], _extends({\n        style: style,\n        renderFrequentPanel: this.renderFrequentPanel,\n        rendPanel: function rendPanel(props) {\n          return _this3.renderPanel(props);\n        },\n        rendToolbar: function rendToolbar() {\n          return _this3.renderToolBar();\n        },\n        rendSelectedItems: this.rendSelectedItems,\n        renderHeaderLine: this.renderHeaderLine,\n        className: _KDAdvGrid[\"default\"]['bill-list'],\n        id: model.key\n      }, commonClass, this.props.attachData));\n    }\n  }]);\n  return KDBillList;\n}(_react[\"default\"].Component), _KDBillList.contextTypes = {\n  store: _propTypes[\"default\"].object\n}, _KDBillList)) || _class) || _class) || _class); // KDBillList.actions = Object.assign({}, gridaction)\nvar _default = exports[\"default\"] = KDBillList;\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/KDAdvGrid.js?");

/***/ }),

/***/ "./src/component/mobile/KDCardField.js":
/*!*********************************************!*\
  !*** ./src/component/mobile/KDCardField.js ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.is.js */ \"../../node_modules/core-js/modules/es.object.is.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _reactDom = _interopRequireDefault(__webpack_require__(/*! react-dom */ \"webpack/sharing/consume/default/react-dom/react-dom?418d\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _lodash = __webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\");\nvar _global = _interopRequireWildcard(__webpack_require__(/*! @/global */ \"./src/global/index.js\"));\nvar _componentutil = __webpack_require__(/*! ../../util/componentutil */ \"./src/util/componentutil.js\");\nvar _serverproperties = __webpack_require__(/*! ../../constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _customProperty = __webpack_require__(/*! @/util/customProperty */ \"./src/util/customProperty.js\");\nvar _gridaction = __webpack_require__(/*! ../../action/gridaction */ \"./src/action/gridaction.js\");\nvar _buttonaction = __webpack_require__(/*! ../../action/buttonaction */ \"./src/action/buttonaction.js\");\nvar _fieldaction = __webpack_require__(/*! ../../action/fieldaction */ \"./src/action/fieldaction.js\");\nvar _baseCardField = _interopRequireDefault(__webpack_require__(/*! ./baseCardField */ \"./src/component/mobile/baseCardField/index.js\"));\nvar _appModelFunction = __webpack_require__(/*! ../../model/appModelFunction */ \"./src/model/appModelFunction.js\");\nvar _componentutil2 = __webpack_require__(/*! @/util/componentutil */ \"./src/util/componentutil.js\");\nvar _AttachDataWrap = _interopRequireDefault(__webpack_require__(/*! ../common/AttachDataWrap */ \"./src/component/common/AttachDataWrap.js\"));\nvar _const = __webpack_require__(/*! @/constant/const */ \"./src/constant/const.js\");\nvar _memoryCacher = __webpack_require__(/*! @/model/memoryCacher */ \"./src/model/memoryCacher.js\");\nvar _utils = __webpack_require__(/*! @/validator/utils */ \"./src/validator/utils.js\");\nvar _excluded = [\"valueColor\", \"valueBackgroundColor\", \"valueFontSize\"];\nvar _class;\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n/**\n * 字段展示形式\n */\n// const showStyleEnum = {\n//   TEXT: 0,\n//   IMAGE: 1\n// }\n\n// 锁定时的前景色\n// const LOCK_COLOR = '#999999'\nvar notShowTilteFieldStyle = [1, 2, 3];\nvar notAllowParticular = ['icon', 'radiogroup', 'radio', 'attachmentfield', 'flexfield', 'picture'];\nvar MyCardField = (0, _AttachDataWrap[\"default\"])(_class = /*#__PURE__*/function (_React$Component) {\n  _inherits(MyCardField, _React$Component);\n  function MyCardField(props) {\n    var _this;\n    _classCallCheck(this, MyCardField);\n    _this = _callSuper(this, MyCardField, [props]);\n    /**\n     * 获取字段检验监听的路径\n     */\n    _this.getValidateListenerPath = function () {\n      var _this$props = _this.props,\n        model = _this$props.model,\n        gridKey = _this$props.gridKey;\n      var key = model.key;\n      var rowIndex = _this.getRowIndex();\n      return [_const.VALIDATE_DATA, \"\".concat(gridKey, \"_\").concat(key, \"_\").concat(rowIndex)];\n    };\n    /**\n     * 获取行号\n     */\n    _this.getRowIndex = function () {\n      var _this$props2 = _this.props,\n        data = _this$props2.data,\n        option = _this$props2.option,\n        rowKey = _this$props2.rowKey;\n      var _option = option.get(rowKey);\n      return data.get(_option);\n    };\n    /**\n     * 监听校验数据改变\n     */\n    _this.onValidateDataChange = function (data) {\n      if (data) {\n        var success = data.success,\n          message = data.message;\n        _this.setState({\n          validateData: success ? '' : message\n        });\n      } else {\n        var model = _this.props.model;\n        var pageId = model.pageId,\n          key = model.key;\n        var pagedata = (0, _memoryCacher.getPageData)(pageId, [_const.VALIDATE_DATA, key]);\n        if (!pagedata) {\n          _this.setState({\n            validateData: ''\n          });\n        }\n      }\n    };\n    _this.getMustInput = function () {\n      var _this$props3 = _this.props,\n        model = _this$props3.model,\n        data = _this$props3.data,\n        option = _this$props3.option;\n      var metaMi = model.getMetaProperty(_serverproperties.MUST_INPUT);\n\n      // 元数据必录\n      if (metaMi) return true;\n\n      // 数据必录\n      return (0, _customProperty.isControlRowMustInputProperty)({\n        data: data,\n        option: option,\n        model: model\n      });\n    };\n    _this.handleClick = function (e) {\n      var rootEle = _reactDom[\"default\"].findDOMNode(_assertThisInitialized(_this));\n      var childEle = rootEle.querySelector('[data-click=true]');\n      if (childEle) {\n        childEle.click();\n        if (_global[\"default\"][_global.IS_IOS]) {\n          childEle.click();\n        }\n      }\n      var focusEle = rootEle.querySelector('[data-focus=true]');\n      if (focusEle) {\n        focusEle.focus();\n        var valueLen = focusEle.value.length;\n        focusEle.setSelectionRange(valueLen, valueLen);\n      }\n    };\n    _this.forAutoTestActions = {\n      cellChange: _gridaction.cellChange,\n      hyperLinkClick: _gridaction.hyperLinkClick,\n      click: _buttonaction.click,\n      setItemByNumber: _fieldaction.setItemByNumber\n    };\n    _this.state = {\n      validateData: ''\n    };\n    return _this;\n  }\n  _createClass(MyCardField, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n      var model = this.props.model;\n      var pageId = model.pageId,\n        key = model.key;\n      var validateListenerPath = this.getValidateListenerPath();\n      this.validateListeners = Object.keys(_const.VALIDATE_MSG_TYPE).map(function (type) {\n        return (0, _memoryCacher.addDataChangeListener)(pageId, [].concat(_toConsumableArray(validateListenerPath), [type]), _this2.onValidateDataChange);\n      });\n      var visible = this.getVisible(this.props);\n      (0, _appModelFunction.setInvisibleControls)(pageId, key, visible);\n    }\n  }, {\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(nextProps) {\n      var _this$props4 = this.props,\n        model = _this$props4.model,\n        gridKey = _this$props4.gridKey;\n      var pageId = model.pageId,\n        key = model.key;\n      var visible = this.getVisible(this.props);\n      var nextVisible = this.getVisible(nextProps);\n      if (visible !== nextVisible) {\n        (0, _appModelFunction.setInvisibleControls)(pageId, key, nextVisible);\n      }\n      var mustInput = model.getMetaProperty(_serverproperties.MUST_INPUT);\n      if (mustInput) {\n        var rowIndex = this.getRowIndex();\n        var value = (0, _appModelFunction.getGridCellsValue)(pageId, gridKey, rowIndex, key)(model.state);\n        var nextValue = (0, _appModelFunction.getGridCellsValue)(pageId, gridKey, rowIndex, key)(nextProps.model.state);\n        if (this.state.validateData && nextValue && !(0, _lodash.isEqual)(value, nextValue)) {\n          this.setState({\n            validateData: ''\n          });\n        }\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.validateListeners.forEach(function (unBindListener) {\n        return unBindListener();\n      });\n    }\n  }, {\n    key: \"getFieldAction\",\n    value: function getFieldAction(_ref, action, otheraction) {\n      var model = _ref.model,\n        fieldAction = _ref.fieldAction;\n      // action oneof ['lockf', 'unlockf', 'showf', 'hidef', 'setf']\n      // const { model, fieldAction } = this.props\n      var id = model.getMetaProperty('id');\n      var fieldRules = fieldAction && fieldAction[id];\n      if (fieldRules) {\n        if (action === 'setf') {\n          if (fieldRules.action === 'setf' || Array.isArray(fieldRules)) return fieldRules;\n        } else {\n          var result;\n          var rules = Array.isArray(fieldRules) ? fieldRules : [fieldRules];\n          rules.forEach(function (item) {\n            var actionName = item.action;\n            switch (actionName) {\n              case action:\n                result = true;\n                break;\n              case otheraction:\n                result = false;\n                break;\n              default:\n                break;\n            }\n          });\n          return result;\n        }\n      }\n    }\n  }, {\n    key: \"getStyle\",\n    value: function getStyle() {\n      var _this$props5 = this.props,\n        model = _this$props5.model,\n        data = _this$props5.data,\n        option = _this$props5.option,\n        fieldAction = _this$props5.fieldAction;\n      var style = Object.assign({}, (0, _componentutil.getCommonStyle)(model)); // 获取字体大小、前景色、背景色等基本样式\n      var controlRowProperty = (0, _customProperty.getControlRowProperty)({\n        data: data,\n        model: model,\n        option: option\n      });\n      if (controlRowProperty) {\n        style = (0, _customProperty.mergeCustomStyle)(style, controlRowProperty);\n      }\n      var fieldRuleStyle = this.getFieldAction({\n        model: model,\n        fieldAction: fieldAction\n      }, 'setf');\n      if (fieldRuleStyle) {\n        if (Array.isArray(fieldRuleStyle)) {\n          fieldRuleStyle.forEach(function (item) {\n            if (item.action === 'setf') {\n              // 解析界面规则，修改style字体大小、前景色、背景色\n              if (item.k in _serverproperties.styleName) {\n                style[_serverproperties.styleName[item.k]] = item.k === 'fs' ? \"\".concat(item.v, \"px\") : item.v;\n              } else {\n                style[item.k] = item.k === 'fontSize' || item.k === 'valueFontSize' ? \"\".concat(item.v, \"px\") : item.v;\n              }\n            }\n          });\n        } else {\n          if (fieldRuleStyle.k in _serverproperties.styleName) {\n            style[_serverproperties.styleName[fieldRuleStyle.k]] = fieldRuleStyle.k === 'fs' ? \"\".concat(fieldRuleStyle.v, \"px\") : fieldRuleStyle.v;\n          } else {\n            style[fieldRuleStyle.k] = fieldRuleStyle.v;\n          }\n        }\n      }\n      // let locked = this.getLocked()\n      // if (locked) style.color = LOCK_COLOR\n      return (0, _componentutil.getVisibleStyle)(style, this.getVisible(this.props));\n    }\n  }, {\n    key: \"getLocked\",\n    value: function getLocked() {\n      var _this$props6 = this.props,\n        cardViewLocked = _this$props6.cardViewLocked,\n        model = _this$props6.model,\n        getCardLocked = _this$props6.getCardLocked,\n        fieldAction = _this$props6.fieldAction;\n      if (cardViewLocked) {\n        // cardViewLocked 卡片视图锁定性（卡片视图锁定->所有卡片字段锁定）\n        return true;\n      }\n      var lockActionResult = this.getFieldAction({\n        model: model,\n        fieldAction: fieldAction\n      }, 'lockf', 'unlockf');\n      if (lockActionResult !== undefined) {\n        return lockActionResult;\n      }\n      if (getCardLocked) {\n        return getCardLocked(model);\n      }\n      return false;\n    }\n  }, {\n    key: \"getVisible\",\n    value: function getVisible(props) {\n      var model = props.model,\n        getCardVisible = props.getCardVisible,\n        fieldAction = props.fieldAction;\n      var lockActionResult = this.getFieldAction({\n        model: model,\n        fieldAction: fieldAction\n      }, 'showf', 'hidef');\n      if (lockActionResult !== undefined) {\n        return lockActionResult;\n      }\n      if (getCardVisible) {\n        return getCardVisible(model);\n      }\n      return true;\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      return true;\n      // 字段优化 暂不处理\n      // let { model, data, option, fmtinfo } = this.props\n      // return this.state.editing !== nextState.editing ||\n      // !is(fmtinfo, nextProps.fmtinfo) ||\n      // !is(option, nextProps.option) ||\n      // !is(model.meta, nextProps.model.meta) ||\n      // !is(data.get(option.get(model.getMetaProperty('dataIndex'))), nextProps.data.get(nextProps.option.get(nextProps.model.getMetaProperty('dataIndex'))))\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props7 = this.props,\n        model = _this$props7.model,\n        fieldAction = _this$props7.fieldAction;\n      var visibility = this.getVisible({\n        model: model,\n        fieldAction: fieldAction\n      });\n      if (!visibility) return null;\n      // let editOption = model.getMetaProperty('item') || model.getMetaProperty('editor'); //移动端卡片列表发editor，卡片分录发item；前端暂时做兼容\n      var editOption = model.getMetaProperty('item') || (0, _immutable.Map)();\n      var mustInput = this.getMustInput();\n      var isLineWrap = model.getMetaProperty('lnl') || false; // 自动换行\n      var labelDirection = model.getMetaProperty(_serverproperties.LABEL_DIRECTION_NEW); // 标题位置\n      var valueAreaStyle = model.getMetaProperty(_serverproperties.VALUE_AREA_STYLE_NEW) || 'underline';\n\n      // const fieldStyle = editOption && editOption.get(FIELD_STYLE)\n      var fieldStyle;\n      fieldStyle = editOption && editOption.get(_serverproperties.FIELD_STYLE);\n      var group = editOption && editOption.get(_serverproperties.GROUP);\n      if (group) {\n        var rdGroup = (0, _appModelFunction.getItemMeta)(model.pageId, group)(model.state);\n        fieldStyle = rdGroup && rdGroup.getIn(['item', _serverproperties.FIELD_STYLE]);\n      }\n      var editOptionType = editOption && editOption.get('type');\n      var showAsLabelStyle = fieldStyle === 1 && !Object.is(editOptionType, 'radiogroup') && !Object.is(editOptionType, 'radio');\n      var mobFieldStyle = editOption && editOption.get(_serverproperties.MOB_FIELD_STYLE, 0); // 字段风格属性：0-默认，1-主流，2-标签\n\n      var FieldComponent;\n      if (showAsLabelStyle) {\n        FieldComponent = _baseCardField[\"default\"].labelStyle;\n      } else if (editOptionType) {\n        if (isLineWrap && editOptionType === 'text') {\n          editOptionType = 'textarea';\n        }\n        FieldComponent = _baseCardField[\"default\"][editOptionType] || _baseCardField[\"default\"].text;\n        // } else if (model.getMetaProperty('showStyle') === showStyleEnum.IMAGE) {\n        // FieldComponent = CommonField['picture']; // 兼容卡片列表showStyle放在editor外面，注释掉是因为后端已经将showStyle都放在editor或item里面\n      } else {\n        FieldComponent = _baseCardField[\"default\"].other;\n      }\n      if (mobFieldStyle === 2) {\n        if (!notAllowParticular.includes(editOptionType)) {\n          FieldComponent = _baseCardField[\"default\"].particularStyle;\n        } else {\n          mobFieldStyle = 1;\n        }\n      }\n      var style = this.getStyle();\n      var titleStyle = {\n        width: model.getMetaLocaleProperty(_serverproperties.LABEL_WIDTH),\n        textAlign: style.textAlign || model.getMetaProperty(_serverproperties.TEXT_ALIGN),\n        color: style.color || model.getMetaProperty(_serverproperties.COLOR),\n        fontSize: style.fontSize || model.getMetaProperty(_serverproperties.FONT_SIZE)\n      };\n      var showTitle = model.getMetaProperty(_serverproperties.SHOW_TITLE) !== false && editOptionType !== 'flexfield';\n      if (editOptionType === 'radio' && notShowTilteFieldStyle.includes(fieldStyle)) {\n        showTitle = false;\n      }\n      var valueColor = style.valueColor,\n        valueBackgroundColor = style.valueBackgroundColor,\n        valueFontSize = style.valueFontSize,\n        otherStyle = _objectWithoutProperties(style, _excluded);\n      var editorOption = model.getMetaProperty('editor') || editOption || (0, _immutable.Map)();\n      var valueStyle = {\n        // 卡片列表界面规则的值域样式>设计器的值域样式\n        color: valueColor || editorOption.get('fc') || style.color,\n        backgroundColor: valueBackgroundColor || editorOption.get('bc'),\n        fontSize: valueFontSize || editorOption.get('fs')\n      };\n      var showLine = editOption.get(_serverproperties.MOB_SHOWLINE); // 多行文本显示行数\n      var showCount = editOption.get(_serverproperties.SHOW_COUNT) || false; // 多行文本显示字数\n      var isView = (0, _componentutil.isViewModel)(this.props.formStatus);\n      // const actions = Object.assign({}, gridaction, buttonaction, fieldaction, dateselectaction, admindivisionAction)\n      // 增加自定义样式\n      // let className = ` ${addCutomStyleToHead(model)}`\n      return /*#__PURE__*/_react[\"default\"].createElement(FieldComponent, _extends({}, this.props, {\n        // {...createActions(actions, dispatch)}\n        // className={className}\n        showTitle: showTitle // 卡片字段，卡片列表字段，默认都显示标题.\n        ,\n        title: model.getMetaLocaleProperty('header'),\n        style: otherStyle,\n        valueStyle: valueStyle,\n        lock: this.getLocked(),\n        commonClass: (0, _componentutil.getCommonClass)(model),\n        editOption: editOption,\n        editOptionType: editOptionType,\n        titleStyle: titleStyle,\n        fieldType: editOptionType,\n        mustInput: mustInput,\n        mobFieldStyle: mobFieldStyle,\n        noValue: (0, _componentutil2.getNOValue)(),\n        showLine: showLine,\n        validateData: this.state.validateData,\n        isNotNullMsg: (0, _utils.isNotNullMsg)(this.state.validateData),\n        labelDirection: labelDirection,\n        valueAreaStyle: valueAreaStyle,\n        showCount: showCount,\n        onClick: this.handleClick,\n        isView: isView\n      }));\n    }\n  }]);\n  return MyCardField;\n}(_react[\"default\"].Component)) || _class; // MyCardField.actions = Object.assign({}, gridaction, buttonaction, fieldaction, dateselectaction, admindivisionAction)\nvar _default = exports[\"default\"] = MyCardField;\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/KDCardField.js?");

/***/ }),

/***/ "./src/component/mobile/KDCardFlexPanel.js":
/*!*************************************************!*\
  !*** ./src/component/mobile/KDCardFlexPanel.js ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _propTypes = _interopRequireDefault(__webpack_require__(/*! prop-types */ \"../../node_modules/prop-types/index.js\"));\nvar _global = __webpack_require__(/*! @/global */ \"./src/global/index.js\");\nvar _FlexPanel = _interopRequireDefault(__webpack_require__(/*! ./base/FlexPanel */ \"./src/component/mobile/base/FlexPanel.js\"));\nvar _componentFactory = _interopRequireDefault(__webpack_require__(/*! ../../factory/componentFactory */ \"./src/factory/componentFactory.js\"));\nvar _componentutil = __webpack_require__(/*! ../../util/componentutil */ \"./src/util/componentutil.js\");\nvar _buttonaction = __webpack_require__(/*! ../../action/buttonaction */ \"./src/action/buttonaction.js\");\nvar _VisibleLockWrap = _interopRequireWildcard(__webpack_require__(/*! ../common/VisibleLockWrap */ \"./src/component/common/VisibleLockWrap.js\"));\nvar _AttachDataWrap = _interopRequireDefault(__webpack_require__(/*! ../common/AttachDataWrap */ \"./src/component/common/AttachDataWrap.js\"));\nvar _customProperty = __webpack_require__(/*! ../../util/customProperty */ \"./src/util/customProperty.js\");\nvar _serverproperties = __webpack_require__(/*! @/constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _appModelFunction = __webpack_require__(/*! @/model/appModelFunction */ \"./src/model/appModelFunction.js\");\nvar _dec, _class, _KDCardFlexPanel;\n/**\n * 卡片行容器\n */\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar KDCardFlexPanel = (_dec = (0, _VisibleLockWrap[\"default\"])(true, true), _dec(_class = (0, _AttachDataWrap[\"default\"])(_class = (0, _VisibleLockWrap.ContainerLockWrap)(_class = (_KDCardFlexPanel = /*#__PURE__*/function (_React$Component) {\n  _inherits(KDCardFlexPanel, _React$Component);\n  function KDCardFlexPanel() {\n    var _this;\n    _classCallCheck(this, KDCardFlexPanel);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _callSuper(this, KDCardFlexPanel, [].concat(args));\n    _this.getFieldAction = function (_ref, action) {\n      var model = _ref.model,\n        fieldAction = _ref.fieldAction;\n      // action oneof ['lockc', 'unlockc', 'showc', 'hidec', 'setc']\n      // const { model, fieldAction } = this.props\n      var id = model.getMetaProperty('id');\n      var fieldRules = fieldAction && fieldAction[id];\n      if (fieldRules) {\n        if (action === 'setc') {\n          if (fieldRules.action === 'setc') return fieldRules;\n        } else {\n          return fieldRules.action === action;\n        }\n      }\n    };\n    _this.getStyle = function (model, fieldAction, controlRowProperty) {\n      var style = (0, _componentutil.getCommonStyle)(model);\n      if (controlRowProperty) {\n        style = (0, _customProperty.mergeCustomStyle)(style, controlRowProperty);\n      }\n      var fieldRuleStyle = _this.getFieldAction({\n        model: model,\n        fieldAction: fieldAction\n      }, 'setc');\n      if (fieldRuleStyle) {\n        style[fieldRuleStyle.k] = fieldRuleStyle.v;\n      }\n      return style;\n    };\n    return _this;\n  }\n  _createClass(KDCardFlexPanel, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var visible = this._getVisible(this.props);\n      var model = this.props.model;\n      var pageId = model.pageId,\n        key = model.key;\n      (0, _appModelFunction.setInvisibleControls)(pageId, key, visible);\n    }\n  }, {\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(nextProps) {\n      var visible = this._getVisible(this.props);\n      var nextVisible = this._getVisible(nextProps);\n      if (visible !== nextVisible) {\n        var model = this.props.model;\n        var pageId = model.pageId,\n          key = model.key;\n        (0, _appModelFunction.setInvisibleControls)(pageId, key, nextVisible);\n      }\n    }\n  }, {\n    key: \"_getVisible\",\n    value: function _getVisible(props) {\n      var model = props.model,\n        getCardVisible = props.getCardVisible,\n        isFromCardRow = props.isFromCardRow,\n        getVisible = props.getVisible,\n        fieldAction = props.fieldAction;\n      if (this.getFieldAction({\n        model: model,\n        fieldAction: fieldAction\n      }, 'hidec')) return false;\n      if (!isFromCardRow) {\n        return getVisible(model); // 固定卡片本身以及固定卡片中的卡片布局容器获取可见性的值\n      }\n      if (getCardVisible) {\n        return getCardVisible(model);\n      }\n      return true;\n    }\n  }, {\n    key: \"handleClick\",\n    value: function handleClick(e) {\n      e.stopPropagation();\n      var _this$props = this.props,\n        model = _this$props.model,\n        dispatch = _this$props.dispatch,\n        beforeClick = _this$props.beforeClick;\n      beforeClick && beforeClick(e);\n      dispatch((0, _buttonaction.click)(model, []));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _controlRowProperty$g,\n        _this2 = this;\n      var _this$props2 = this.props,\n        model = _this$props2.model,\n        isSelected = _this$props2.isSelected,\n        showHover = _this$props2.showHover,\n        cardViewLocked = _this$props2.cardViewLocked,\n        isFromCardRow = _this$props2.isFromCardRow,\n        selRows = _this$props2.selRows,\n        data = _this$props2.data,\n        option = _this$props2.option,\n        constructorCardFieldProps = _this$props2.constructorCardFieldProps,\n        fieldAction = _this$props2.fieldAction,\n        cardMode = _this$props2.cardMode,\n        beforeClick = _this$props2.beforeClick;\n      var controlRowProperty = (0, _customProperty.getControlRowProperty)({\n        data: data,\n        model: model,\n        option: option\n      });\n      var style = this.getStyle(model, fieldAction, controlRowProperty);\n      var commonClass = (0, _componentutil.getCommonClass)(model);\n      var items = model.meta.get('items');\n      var visible = this._getVisible(this.props);\n      var clickable = model.getMetaProperty('clickable'); // 容器点击\n      if (!items || !visible) return null;\n      var floatingDock = model.getMetaProperty('fd'); // 悬浮停靠\n      var dockingPosition = model.getMetaProperty('dp'); // 停靠位置\n      var collapsible = model.getMetaProperty('collapsible'); // 可折叠\n      var defaultCollapse = model.getMetaProperty('defaultcollapse'); // 默认折叠\n      var TitleBackColor = model.getMetaProperty(_serverproperties.TITLE_BACKGROUND_COLOR); // 开启折叠后的标题背景色\n      var title = (_controlRowProperty$g = controlRowProperty === null || controlRowProperty === void 0 ? void 0 : controlRowProperty.get('title')) !== null && _controlRowProperty$g !== void 0 ? _controlRowProperty$g : model.getMetaLocaleProperty('text');\n      var hideTitle = (0, _componentutil.getComponentDataProperty)(model, 'hidetitle', 'hidetitle', false); // 开启折叠后是否隐藏标题头\n      var iconPosition = model.getMetaProperty('iconPosition') || '2'; // 折叠图标显示位置\n      var _abstract = (0, _componentutil.getComponentDataProperty)(model, 'flexabstract', 'flexabstract', false); // 折叠摘要\n      if (controlRowProperty) {\n        var val = controlRowProperty.get('abstract');\n        if (val !== undefined) {\n          _abstract = val;\n        }\n      }\n      _abstract = (0, _componentutil.getLangResult)(model, _abstract);\n      var isExpand = controlRowProperty === null || controlRowProperty === void 0 ? void 0 : controlRowProperty.get('isExpand');\n      var uid = controlRowProperty === null || controlRowProperty === void 0 ? void 0 : controlRowProperty.get('_uid_');\n\n      // 增加自定义样式\n      // let className = ` ${addCutomStyleToHead(model)}`\n      return /*#__PURE__*/_react[\"default\"].createElement(_FlexPanel[\"default\"], _extends({\n        style: style,\n        FloatingDock: floatingDock,\n        DockingPosition: dockingPosition\n      }, commonClass, {\n        handleClick: function handleClick(e) {\n          return clickable && _this2.handleClick(e);\n        }\n      }, this.props.attachData, {\n        Collapsible: collapsible,\n        defaultCollapse: defaultCollapse,\n        Name: title,\n        TitleBackColor: TitleBackColor,\n        FlexAbstract: _abstract,\n        hideTitle: hideTitle,\n        IconPosition: iconPosition,\n        pageId: model.pageId,\n        isExpand: isExpand,\n        uid: uid\n      }), items.map(function (meta, index) {\n        return (0, _componentFactory[\"default\"])(model.pageId, meta, (0, _global.getGlobalState)(), undefined, {\n          showHover: showHover,\n          isSelected: isSelected,\n          isFromCardRow: isFromCardRow,\n          fieldAction: _this2.props.fieldAction,\n          data: _this2.props.data,\n          fmtinfo: _this2.props.fmtinfo,\n          option: _this2.props.option,\n          key: meta.get('id'),\n          gridKey: _this2.props.gridKey,\n          rowKey: _this2.props.rowKey,\n          getSelectRowsPostData: _this2.props.getSelectRowsPostData,\n          sum: _this2.props.sum,\n          cardViewLocked: cardViewLocked,\n          getCardVisible: isFromCardRow && _this2.props.getCardVisible,\n          selRows: selRows,\n          dataModel: _this2.props.dataModel,\n          constructorCardFieldProps: constructorCardFieldProps,\n          // 嵌套面板也需要把构造参数方法传到字段\n          cardMode: cardMode,\n          setSelectorDom: _this2.props.setSelectorDom,\n          entryentities: _this2.props.entryentities,\n          getCardLocked: isFromCardRow && function (subModel) {\n            // 固定卡片，不会传入getCardLocked等function\n            if (_this2.props.getCardLocked === undefined) {\n              return false;\n            }\n            if (_this2.props.cardViewLocked || _this2.props.getCardLocked(model) || _this2.getFieldAction({\n              model: model,\n              fieldAction: fieldAction\n            }, 'lockc')) {\n              // 父容器锁定，则直接锁定子元素\n              return true;\n            } else {\n              return _this2.props.getCardLocked(subModel);\n            }\n          },\n          beforeClick: beforeClick\n        });\n      }));\n    }\n  }]);\n  return KDCardFlexPanel;\n}(_react[\"default\"].Component), _KDCardFlexPanel.contextTypes = {\n  store: _propTypes[\"default\"].object\n}, _KDCardFlexPanel)) || _class) || _class) || _class);\nvar _default = exports[\"default\"] = KDCardFlexPanel;\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/KDCardFlexPanel.js?");

/***/ }),

/***/ "./src/component/mobile/KDCardRowPanel.js":
/*!************************************************!*\
  !*** ./src/component/mobile/KDCardRowPanel.js ***!
  \************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-properties.js */ \"../../node_modules/core-js/modules/es.object.define-properties.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptors.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.find.js */ \"../../node_modules/core-js/modules/es.array.find.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.array.reduce.js */ \"../../node_modules/core-js/modules/es.array.reduce.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _reactDom = _interopRequireDefault(__webpack_require__(/*! react-dom */ \"webpack/sharing/consume/default/react-dom/react-dom?418d\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _global = __webpack_require__(/*! @/global */ \"./src/global/index.js\");\nvar _baseComponent = __webpack_require__(/*! ./base/baseComponent */ \"./src/component/mobile/base/baseComponent.jsx\");\nvar _componentFactory = _interopRequireDefault(__webpack_require__(/*! ../../factory/componentFactory */ \"./src/factory/componentFactory.js\"));\nvar _componentutil = __webpack_require__(/*! ../../util/componentutil */ \"./src/util/componentutil.js\");\nvar _VisibleLockWrap = _interopRequireDefault(__webpack_require__(/*! ../common/VisibleLockWrap */ \"./src/component/common/VisibleLockWrap.js\"));\nvar _AttachDataWrap = _interopRequireDefault(__webpack_require__(/*! ../common/AttachDataWrap */ \"./src/component/common/AttachDataWrap.js\"));\nvar _supportsPassive = _interopRequireDefault(__webpack_require__(/*! ../common/supportsPassive */ \"./src/component/common/supportsPassive.js\"));\nvar _LongPressPopupPanel = __webpack_require__(/*! ../../page/mobile/LongPressPopupPanel */ \"./src/page/mobile/LongPressPopupPanel.jsx\");\nvar _action = __webpack_require__(/*! @/action/action.js */ \"./src/action/action.js\");\nvar _const = __webpack_require__(/*! @/constant/const */ \"./src/constant/const.js\");\nvar _memoryCacher = __webpack_require__(/*! @/model/memoryCacher */ \"./src/model/memoryCacher.js\");\nvar _langUtil = __webpack_require__(/*! @/util/langUtil.js */ \"./src/util/langUtil.js\");\nvar _symbolConst = __webpack_require__(/*! @/constant/symbolConst */ \"./src/constant/symbolConst.js\");\nvar _GlobalDataCacher = __webpack_require__(/*! @/model/GlobalDataCacher */ \"./src/model/GlobalDataCacher.js\");\nvar _IntersectionComponent = _interopRequireDefault(__webpack_require__(/*! @/component/common/IntersectionComponent.js */ \"./src/component/common/IntersectionComponent.js\"));\nvar _ControlValueChangeContextProvider = __webpack_require__(/*! @/page/ControlValueChangeContextProvider */ \"./src/page/ControlValueChangeContextProvider.js\");\nvar _KDCardRowPanel2 = _interopRequireDefault(__webpack_require__(/*! ./KDCardRowPanel.less */ \"./src/component/mobile/KDCardRowPanel.less\"));\nvar _dec, _class;\n/**\n * 卡片行容器\n */\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n// import { addCutomStyleToHead } from '../../util/customStyle'\n/* 卡片与固定卡片都是KDCardRowPanel，独立的component,卡片参与循环，固定卡片不参与循环(即固定卡片是唯一的)。 */\nvar KDCardRowPanel = (_dec = (0, _VisibleLockWrap[\"default\"])(false), _dec(_class = (0, _AttachDataWrap[\"default\"])(_class = /*#__PURE__*/function (_React$Component) {\n  _inherits(KDCardRowPanel, _React$Component);\n  function KDCardRowPanel(props) {\n    var _this;\n    _classCallCheck(this, KDCardRowPanel);\n    _this = _callSuper(this, KDCardRowPanel, [props]);\n    /**\n    * 界面规则 By Shawn\n    * '[{\"condition\": \"g(\\'billno\\')=\\'1\\'\", \"actions\":[\"lockc(\\'c1\\')\", \"setc(\\'abc\\', \\'backcolor\\', \\'#ff33ee\\')\"]}]';\n    */\n    // 面板项点击事件\n    _this.handleMenuItemClick = function (key, opk, lock, e) {\n      return function () {\n        if (lock) return;\n        var _this$props = _this.props,\n          model = _this$props.model,\n          gridKey = _this$props.gridKey,\n          dispatch = _this$props.dispatch;\n        _this.beforeClick(e);\n        dispatch((0, _action.invokeControlService)({\n          pageId: model.pageId,\n          key: gridKey\n        }, 'cardOperations', [key, opk]));\n      };\n    };\n    _this.handleTstart = function () {\n      _this.flag = true;\n    };\n    _this.handleTmove = function () {\n      _this.flag = false;\n    };\n    _this.beforeClick = function (e, options) {\n      _this.activeRow(e, options);\n      _this.setMemoryData();\n    };\n    _this.setSelectorDom = function (selectorDom) {\n      _this.selectorDom = selectorDom;\n    };\n    _this.constructorCardFieldProps = function (fieldAction, fmtinfo, meta, cardViewLocked, selRows, model, cardMode, entryentities) {\n      return {\n        fieldAction: fieldAction,\n        data: _this.props.data,\n        fmtinfo: fmtinfo,\n        option: _this.props.option,\n        formStatus: _this.props.formStatus,\n        key: meta.get('id'),\n        gridKey: _this.props.gridKey,\n        rowKey: _this.props.rowKey,\n        /*, getSelectRowsPostData:this.props.getSelectRowsPostData */\n        sum: _this.props.sum,\n        cardViewLocked: cardViewLocked,\n        getCardVisible: _this.props.getCardVisible,\n        isFromCardRow: true,\n        // 卡片内字段、控件\n        keyIndex: _this.props.serialNumber,\n        selRows: selRows,\n        dataModel: _this.props.dataModel,\n        cardMode: cardMode,\n        entryentities: entryentities,\n        setSelectorDom: _this.setSelectorDom,\n        getCardLocked: function getCardLocked(subModel) {\n          // 固定卡片，不会传入getCardLocked等function\n          if (_this.props.getCardLocked == undefined) {\n            return false;\n          }\n          if (_this.props.cardViewLocked || _this.props.getCardLocked(model)) {\n            // 父容器锁定，则直接锁定子元素\n            return true;\n          } else {\n            return _this.props.getCardLocked(subModel);\n          }\n        },\n        beforeClick: _this.beforeClick\n      };\n    };\n    _this.isSelected = function () {\n      var _this$props2 = _this.props,\n        _this$props2$selected = _this$props2.selectedData,\n        selectedData = _this$props2$selected === void 0 ? [] : _this$props2$selected,\n        data = _this$props2.data,\n        option = _this$props2.option,\n        rowKey = _this$props2.rowKey;\n      var selectedRowKey = data === null || data === void 0 ? void 0 : data.get(option === null || option === void 0 ? void 0 : option.get(rowKey));\n      return selectedData.includes(selectedRowKey);\n    };\n    _this.handleCardIconClick = function (e, _ref) {\n      var lock = _ref.lock,\n        opk = _ref.opk,\n        key = _ref.key;\n      e.stopPropagation();\n      var _this$props3 = _this.props,\n        cardSelectStatus = _this$props3.cardSelectStatus,\n        model = _this$props3.model,\n        gridKey = _this$props3.gridKey,\n        dispatch = _this$props3.dispatch,\n        clearSelRows = _this$props3.clearSelRows;\n      if (lock === 'true' || cardSelectStatus || key === undefined || key === '') return;\n      clearSelRows && clearSelRows();\n      _this.beforeClick(e, {\n        isRowOperations: true\n      });\n      dispatch((0, _action.invokeControlService)({\n        pageId: model.pageId,\n        key: gridKey\n      }, 'entryRowOperations', [key, opk]));\n      _this.sendClicksEventTracking(model, opk);\n    };\n    // 上报操作栏点击数据\n    _this.sendClicksEventTracking = function (model, opk) {\n      (0, _GlobalDataCacher.setData)(_symbolConst.KEY_UI_ACTION, {\n        pageId: model.pageId,\n        key: model.key,\n        controlName: '移动端卡片分录行操作栏',\n        tableName: 'click',\n        type: model.meta.get('type'),\n        methodName: 'mobEntryRowOptBtnClick',\n        opk: opk\n      });\n    };\n    _this.convertCardOperationBarData = function () {\n      var sourceData = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : (0, _immutable.List)();\n      var lang = _this.props.model.getUserLocale();\n      return sourceData.map(function (item) {\n        var titleValue = item.get('title');\n        if (!titleValue) return item;\n        var title = (0, _langUtil.getValueOfLanguage)(titleValue, lang);\n        return item.set('title', title);\n      });\n    };\n    _this.handleIntersection = function (visible) {\n      _this.cardVisible = visible;\n      if (visible) {\n        _this.forceUpdate();\n      }\n    };\n    var _model = props.model;\n    var rules = _model.meta.get('rules');\n    var _rules = null;\n    if (rules) {\n      try {\n        _rules = JSON.parse(rules);\n      } catch (err) {\n        console.log('字段规则配置错误', err);\n      }\n    }\n    _this.state = {\n      rules: _rules,\n      showDot: false\n    };\n    _this.activeRow = _this.activeRow.bind(_assertThisInitialized(_this));\n    // this.onClick = _.debounce(this.onClick.bind(this), 300) // 双击时只发一次指令\n    _this.setMemoryData = _this.setMemoryData.bind(_assertThisInitialized(_this));\n    _this.isMobile = 'ontouchstart' in window || window.DocumentTouch && document instanceof DocumentTouch; // 判断当前设备是否支持touchstart事件\n    _this.flag = null;\n    _this.menuInfoData = _this.menuInfoData.bind(_assertThisInitialized(_this));\n    _this.handleMenuItemClick = _this.handleMenuItemClick.bind(_assertThisInitialized(_this));\n    _this.calcBtnVisLock = _this.calcBtnVisLock.bind(_assertThisInitialized(_this));\n    _this.ref = /*#__PURE__*/_react[\"default\"].createRef();\n    _this.intersectionRef = /*#__PURE__*/_react[\"default\"].createRef();\n    return _this;\n  }\n  _createClass(KDCardRowPanel, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      var nextModel = nextProps.model;\n      var rules = this.props.model.meta && this.props.model.meta.get('rules');\n      var _rules = nextModel.meta && nextModel.meta.get('rules');\n      if (_rules && rules !== _rules) {\n        var newRules = null;\n        try {\n          newRules = JSON.parse(_rules);\n        } catch (err) {\n          console.log('字段规则配置错误', err);\n        }\n        this.setState({\n          rules: newRules\n        });\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n      var longPressInvokeActionMeta = this.props.longPressInvokeActionMeta;\n      var thisDomElement = _reactDom[\"default\"].findDOMNode(this);\n      if (!thisDomElement) return;\n      // 移动端预览走不同事件\n      if (this.isMobile) {\n        // 监听3个事件，设置标志，判断是否滚动触发||下拉刷新，如果是，则不记录行号\n        thisDomElement.addEventListener('touchstart', this.handleTstart, _supportsPassive[\"default\"] ? {\n          passive: true,\n          capture: true\n        } : true);\n        thisDomElement.addEventListener('touchmove', this.handleTmove, _supportsPassive[\"default\"] ? {\n          passive: true,\n          capture: true\n        } : true);\n      }\n      if (longPressInvokeActionMeta && longPressInvokeActionMeta.size > 0) {\n        // 解决一加手机长按时有自己的弹窗，导致我们的手势中断\n        document.oncontextmenu = function (e) {\n          return false;\n        };\n        this.removeUnSubscribe = (0, _LongPressPopupPanel.longPressPopupPanelSubscribe)('onLongTap', thisDomElement, this.menuInfoData);\n      }\n      var _this$props4 = this.props,\n        model = _this$props4.model,\n        data = _this$props4.data,\n        option = _this$props4.option,\n        rowKey = _this$props4.rowKey;\n      var pageId = model.pageId,\n        key = model.key;\n      var rkVal = data === null || data === void 0 ? void 0 : data.get(option === null || option === void 0 ? void 0 : option.get(rowKey));\n      this.removePageDataListener = (0, _memoryCacher.addDataChangeListener)(pageId, [_const.CHILDREN_VALIDATE_ERROR, \"\".concat(key, \"_\").concat(rkVal)], function (show) {\n        _this2.setState({\n          showDot: show\n        });\n      });\n    }\n\n    // 获取弹出菜单数据\n  }, {\n    key: \"menuInfoData\",\n    value: function menuInfoData(e) {\n      var _this3 = this;\n      var _this$props5 = this.props,\n        model = _this$props5.model,\n        longPressInvokeActionMeta = _this$props5.longPressInvokeActionMeta,\n        data = _this$props5.data,\n        option = _this$props5.option,\n        cardSelectStatus = _this$props5.cardSelectStatus;\n      var menuItemInfoData = (0, _immutable.List)([]);\n      if (!cardSelectStatus) {\n        var locale = model.getUserLocale();\n        var longPressInvokeAction = data.getIn([option.get('cprop'), 'longPressInvokeAction']);\n        menuItemInfoData = longPressInvokeActionMeta === null || longPressInvokeActionMeta === void 0 ? void 0 : longPressInvokeActionMeta.reduce(function (pre, cur) {\n          var _this3$calcBtnVisLock = _this3.calcBtnVisLock(cur, longPressInvokeAction, model),\n            visible = _this3$calcBtnVisLock.visible,\n            lock = _this3$calcBtnVisLock.lock;\n          if (visible) {\n            return pre.push((0, _immutable.fromJS)({\n              key: cur.get('key'),\n              title: cur.get('title').get(locale),\n              disabled: lock,\n              itemClick: _this3.handleMenuItemClick(cur.get('key'), cur.get('opk'), lock, e)\n            }));\n          }\n        }, (0, _immutable.List)([]));\n      }\n      return menuItemInfoData;\n    }\n  }, {\n    key: \"calcBtnVisLock\",\n    value: function calcBtnVisLock(actionButInfo, longPressInvokeAction, model) {\n      var dynamicInfo = longPressInvokeAction === null || longPressInvokeAction === void 0 ? void 0 : longPressInvokeAction.find(function (item) {\n        return item.get('key') === actionButInfo.get('key');\n      });\n      var btnMetaLock = (0, _componentutil.getMetaLocked)(model, actionButInfo.get('lock'));\n      var btnMetaVisible = (0, _componentutil.getMetaVisible)(model, actionButInfo.get('visible'));\n      if (dynamicInfo && dynamicInfo.size > 0) {\n        return {\n          visible: this.checkVisible(dynamicInfo.get('visible'), btnMetaVisible),\n          lock: this.checkLock(dynamicInfo.get('lock'), btnMetaLock)\n        };\n      } else {\n        return {\n          visible: btnMetaVisible,\n          lock: btnMetaLock\n        };\n      }\n    }\n  }, {\n    key: \"checkLock\",\n    value: function checkLock(lock, metaLock) {\n      return lock === undefined ? metaLock : metaLock && lock;\n    }\n  }, {\n    key: \"checkVisible\",\n    value: function checkVisible(visible, metaVisible) {\n      return visible === undefined ? metaVisible : metaVisible && visible;\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var thisDomElement = _reactDom[\"default\"].findDOMNode(this);\n      if (!thisDomElement) return;\n      // 移动端预览走不同事件\n      if (this.isMobile) {\n        thisDomElement.removeEventListener('touchstart', this.handleTstart, true);\n        thisDomElement.removeEventListener('touchmove', this.handleTmove, true);\n        // thisDomElement.removeEventListener('touchend', this.handleTend, true)\n      } else {\n        // thisDomElement.removeEventListener('mousedown', this.activeRow, true)\n      }\n      this.removeUnSubscribe && this.removeUnSubscribe();\n      document.oncontextmenu = function (e) {\n        return true;\n      };\n    }\n  }, {\n    key: \"activeRow\",\n    value: function activeRow(e, options) {\n      var _ref2 = options || {},\n        _ref2$isRowOperations = _ref2.isRowOperations,\n        isRowOperations = _ref2$isRowOperations === void 0 ? false : _ref2$isRowOperations;\n      // 准备postdata数据\n      var _this$props6 = this.props,\n        cardMode = _this$props6.cardMode,\n        activeRow = _this$props6.activeRow,\n        activeFocusRow = _this$props6.activeFocusRow;\n      if (!activeRow) return;\n      // 购物车模式，只点击卡片选择标志生效, 点击其他地方发送当前选中行和焦点行，不做选中和反选逻辑\n      if (cardMode === 1 && (e === null || e === void 0 ? void 0 : e.target) !== this.selectorDom && !isRowOperations) {\n        activeFocusRow && activeFocusRow();\n      }\n      // 工具栏操作行时，要选中行\n      if (cardMode === 1 && (e === null || e === void 0 ? void 0 : e.target) === this.selectorDom || cardMode !== 1 || isRowOperations) {\n        activeRow(); // setPostdata\n      }\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      var _this$ref$current;\n      // 卡片懒渲染：针对不可见并且有高度的卡片才做懒渲染（高度为0做懒渲染会导致卡片内容从不可见->可见不生效）\n      if (!this.cardVisible && (_this$ref$current = this.ref.current) !== null && _this$ref$current !== void 0 && (_this$ref$current = _this$ref$current.card) !== null && _this$ref$current !== void 0 && _this$ref$current.offsetHeight) {\n        return false;\n      }\n      var _this$props7 = this.props,\n        model = _this$props7.model,\n        data = _this$props7.data,\n        option = _this$props7.option,\n        selected = _this$props7.selected,\n        fmtinfo = _this$props7.fmtinfo,\n        selRows = _this$props7.selRows,\n        formStatus = _this$props7.formStatus,\n        colCtrl = _this$props7.colCtrl;\n      if (nextProps.isvisible !== this.props.isvisible) return true;\n      if (nextProps.cardSelectStatus !== this.props.cardSelectStatus) return true;\n      if (nextProps.selectedData !== this.props.selectedData) return true;\n      return !(0, _immutable.is)(colCtrl, nextProps.colCtrl) || !(0, _immutable.is)(data, nextProps.data) || !(0, _immutable.is)(fmtinfo, nextProps.fmtinfo) || selected !== nextProps.selected || !(0, _immutable.is)(model.meta, nextProps.model.meta) || !(0, _immutable.is)(option, nextProps.option) || selRows !== nextProps.selRows || formStatus !== nextProps.formStatus || nextState.showDot !== this.state.showDot;\n\n      // 由于需要动态控制卡片行中字段的可见性，而在卡片行的shouldComponentUpdate中无法判断卡片行中字段是否需要刷新，导致阻止了卡片行中字段刷新。\n      // 暂时注释调 wenq -20170607\n      // return true;\n    }\n  }, {\n    key: \"setMemoryData\",\n    value: function setMemoryData(e) {\n      if (this.flag === false) return;\n      this.props.setMemoryData && this.props.setMemoryData();\n    }\n  }, {\n    key: \"onClick\",\n    value: function onClick(e) {\n      // 注意此处会导致每次点击都会重新刷新组件\n      if (this.flag === false) return;\n      e.stopPropagation();\n      var model = this.props.model;\n      if (this.props.getCardLocked && !this.props.getCardLocked(model) || !this.props.getCardLocked) {\n        this.beforeClick(e);\n        this.selectedRow();\n      }\n    }\n  }, {\n    key: \"selectedRow\",\n    value: function selectedRow() {\n      this.props.selectRows && this.props.selectRows();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n      var _this$props8 = this.props,\n        model = _this$props8.model,\n        data = _this$props8.data,\n        option = _this$props8.option,\n        fmtinfo = _this$props8.fmtinfo,\n        cardViewLocked = _this$props8.cardViewLocked,\n        selRows = _this$props8.selRows,\n        isvisible = _this$props8.isvisible,\n        isMulti = _this$props8.isMulti,\n        cardMode = _this$props8.cardMode,\n        entryentities = _this$props8.entryentities;\n      var style = (0, _componentutil.getCommonStyle)(model);\n      var commonClass = (0, _componentutil.getCommonClass)(model);\n      // let lock = this._getLock(model);\n      style = (0, _componentutil.getVisibleStyle)(style, (0, _componentutil.getVisible)(model));\n      var fieldAction = (0, _componentutil.getCardRowRules)(this.props, this.state.rules);\n      var items = model.meta.get('items');\n      var bkimgfield = model.meta.get('bkimgfield');\n      if (bkimgfield) {\n        var value = data.get(option.get(bkimgfield));\n        if (value) {\n          if (!/^http(s)*/.test(_lodash[\"default\"].toLower(value))) {\n            var config = model.getFormConfig();\n            // value = config.fileserver + value;\n            value = (0, _componentutil.getImgFullPath)(config.fileserver, value, true);\n          }\n          style.backgroundImage = \"url(\".concat(value, \")\");\n        }\n      }\n      if (!items) return null;\n\n      // // 自定义样式嵌入\n      // let customClassName = addCutomStyleToHead(model)\n\n      // const className = classnames({\n      //   [customClassName]: !!customClassName\n      // })\n      var cardSelectStyle = model.getMetaProperty('selectstyle') || 5; // 卡片选择风格，1:默认，2：勾选，5：角标\n      var showRowHeaderLine = model.getMetaProperty('showRowHeaderLine');\n      var collapse = model.getMetaProperty('collapse');\n      var locale = model.getUserLocale();\n      var name = model.getMetaProperty(['text', locale]);\n      var cardopebar = this.convertCardOperationBarData(model.getMetaProperty('cardopebar'));\n      return /*#__PURE__*/_react[\"default\"].createElement(_ControlValueChangeContextProvider.ControlValueChangeContext.Consumer, null, function (customCtrlValue) {\n        var _this4$ref$current;\n        return /*#__PURE__*/_react[\"default\"].createElement(_baseComponent.CardRowPanel, _extends({\n          ref: _this4.ref,\n          style: style,\n          isvisible: isvisible ? 'true' : 'false'\n        }, commonClass, {\n          cardSelectStatus: _this4.props.cardSelectStatus,\n          cardSelectStyle: cardSelectStyle,\n          isSelected: _this4.isSelected(),\n          onClick: function onClick(e) {\n            return _this4.onClick(e);\n          },\n          longPressInvokeActionMeta: _this4.props.longPressInvokeActionMeta,\n          model: model,\n          Name: name,\n          ShowRowHeaderLine: showRowHeaderLine,\n          Collapse: collapse,\n          CardOperationBar: cardopebar,\n          handleCardIconClick: _this4.handleCardIconClick,\n          gridKey: _this4.props.gridKey,\n          dispatch: _this4.props.dispatch,\n          beforeClick: _this4.beforeClick,\n          isDesigner: _this4.props.isDesigner,\n          showErrorDot: _this4.state.showDot,\n          serialNumber: _this4.props.serialNumber\n        }, _this4.props.attachData), items.map(function (meta) {\n          return (0, _componentFactory[\"default\"])(model.pageId, meta, (0, _global.getGlobalState)(), undefined, _objectSpread(_objectSpread({}, _this4.constructorCardFieldProps(fieldAction, fmtinfo, meta, cardViewLocked, selRows, model, cardMode, entryentities)), {}, {\n            constructorCardFieldProps: _this4.constructorCardFieldProps\n          }));\n        }), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n          className: _KDCardRowPanel2[\"default\"].intersection,\n          style: {\n            width: ((_this4$ref$current = _this4.ref.current) === null || _this4$ref$current === void 0 || (_this4$ref$current = _this4$ref$current.card) === null || _this4$ref$current === void 0 ? void 0 : _this4$ref$current.scrollWidth) || '100%'\n          }\n        }, /*#__PURE__*/_react[\"default\"].createElement(_IntersectionComponent[\"default\"], {\n          onIntersection: _this4.handleIntersection\n        })));\n      });\n    }\n  }]);\n  return KDCardRowPanel;\n}(_react[\"default\"].Component)) || _class) || _class);\nKDCardRowPanel.propTypes = {};\nvar _default = exports[\"default\"] = KDCardRowPanel;\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/KDCardRowPanel.js?");

/***/ }),

/***/ "./src/component/mobile/KDCardSelector.jsx":
/*!*************************************************!*\
  !*** ./src/component/mobile/KDCardSelector.jsx ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _componentutil = __webpack_require__(/*! ../../util/componentutil */ \"./src/util/componentutil.js\");\nvar _classnames3 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _commonUtils = _interopRequireDefault(__webpack_require__(/*! ../common/commonUtils */ \"./src/component/common/commonUtils.js\"));\nvar _KDCardSelector2 = _interopRequireDefault(__webpack_require__(/*! ./KDCardSelector.less */ \"./src/component/mobile/KDCardSelector.less\"));\nvar _VisibleLockWrap = _interopRequireDefault(__webpack_require__(/*! ../common/VisibleLockWrap */ \"./src/component/common/VisibleLockWrap.js\"));\nvar _AttachDataWrap = _interopRequireDefault(__webpack_require__(/*! ../common/AttachDataWrap */ \"./src/component/common/AttachDataWrap.js\"));\nvar _memoryCacher = __webpack_require__(/*! ../../model/memoryCacher */ \"./src/model/memoryCacher.js\");\nvar _const = __webpack_require__(/*! ../../constant/const */ \"./src/constant/const.js\");\nvar _appModelFunction = __webpack_require__(/*! ../../model/appModelFunction */ \"./src/model/appModelFunction.js\");\nvar _lodash = __webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\");\nvar _dec, _class; // import * as actions from '../../action/cardselectoraction'\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar KDCardSelector = (_dec = (0, _VisibleLockWrap[\"default\"])(false), (0, _AttachDataWrap[\"default\"])(_class = _dec(_class = /*#__PURE__*/function (_Component) {\n  _inherits(KDCardSelector, _Component);\n  function KDCardSelector(props) {\n    var _this;\n    _classCallCheck(this, KDCardSelector);\n    _this = _callSuper(this, KDCardSelector, [props]);\n    _this.dataMessageListener = function (data) {\n      // addDataChangeListener是异步回调，需要判断控件是否销毁\n      if (!_this.dispose && !(0, _lodash.isEqual)(_this.state.selectedRows, data)) {\n        var selectedRows = data || [];\n        _this.setState({\n          selectedRows: selectedRows\n        });\n      }\n    };\n    _this.state = {\n      selectedRows: []\n    };\n    var gridKey = props.gridKey,\n      dataModel = props.dataModel,\n      cardMode = props.cardMode,\n      setSelectorDom = props.setSelectorDom;\n    var pageId = dataModel && dataModel.pageId;\n    if (!(cardMode === '0' || !setSelectorDom)) {\n      var data = (0, _appModelFunction.getCardviewSelectedRows)(pageId, gridKey);\n      _this.state = {\n        selectedRows: data || []\n      };\n      _this.removeDataMessageListener = (0, _memoryCacher.addDataChangeListener)(pageId, [gridKey, _const.SELECTEDROWS_ARRAY], _this.dataMessageListener);\n    }\n    return _this;\n  }\n  _createClass(KDCardSelector, [{\n    key: \"_getVisible\",\n    value: function _getVisible(model) {\n      var cardVisible = this.props.getCardVisible && this.props.getCardVisible(model);\n      return cardVisible && this.props.isVisible;\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.dispose = true;\n      this.removeDataMessageListener && this.removeDataMessageListener();\n    }\n  }, {\n    key: \"render\",\n    value:\n    // handleClick (e) {\n    //   e.stopPropagation()\n    //   let { data, option, rowKey, dataModel } = this.props\n    //   let selectedRowKey = data.get(option.get(rowKey))\n    //   this.setState({\n    //     isSelected: !this.state.isSelected\n    //   })\n    //   this.props.setSelRows(selectedRowKey)\n    //   // this.props.selectCard && this.props.selectCard(dataModel, [selectedRowKey])\n    // }\n\n    function render() {\n      var _this$props = this.props,\n        model = _this$props.model,\n        fieldAction = _this$props.fieldAction,\n        data = _this$props.data,\n        option = _this$props.option,\n        rowKey = _this$props.rowKey,\n        setSelectorDom = _this$props.setSelectorDom;\n      var selectedRowKey = data.get(option.get(rowKey));\n      var style = (0, _componentutil.getCommonStyle)(model);\n      var checked = this.state.selectedRows.indexOf(selectedRowKey) > -1;\n      var _getCommonClass = (0, _componentutil.getCommonClass)(model),\n        Grow = _getCommonClass.Grow,\n        Shrink = _getCommonClass.Shrink,\n        AlignSelf = _getCommonClass.AlignSelf;\n      var box = (0, _classnames3[\"default\"])(_defineProperty({}, _KDCardSelector2[\"default\"].box, true), (0, _commonUtils[\"default\"])({\n        Grow: Grow,\n        Shrink: Shrink,\n        AlignSelf: AlignSelf\n      }));\n      var cn = (0, _classnames3[\"default\"])(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty({}, _KDCardSelector2[\"default\"].selector, true), _KDCardSelector2[\"default\"].checked, checked), _KDCardSelector2[\"default\"].notchecked, !checked), 'kdfont kdfont-fuxuanweixuan', !checked), 'kdfont kdfont-fuxuanxuanzhong', checked));\n      var iconStyle = {};\n      if (style) {\n        iconStyle.fontSize = style.fontSize;\n        iconStyle.color = style.color;\n      }\n      var visibility = this._getVisible(model);\n\n      // 卡片行控件规则\n      var id = model.getMetaProperty('id');\n      var fieldRules = fieldAction && fieldAction[id];\n      if (fieldRules) {\n        var rulesResult = (0, _componentutil.getCardRulesResult)(fieldRules, visibility, false, iconStyle);\n        visibility = rulesResult.visibility;\n        iconStyle = rulesResult.style;\n      }\n      if (!visibility) {\n        return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n          id: model ? model.key + '_hide_control' : 'hide_control',\n          style: {\n            display: 'none'\n          }\n        });\n      }\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", _extends({\n        className: box,\n        style: style,\n        id: model.key\n      }, this.props.attachData), /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n        className: cn,\n        style: iconStyle,\n        ref: function ref(dom) {\n          setSelectorDom && setSelectorDom(dom);\n        }\n      }));\n    }\n  }]);\n  return KDCardSelector;\n}(_react.Component)) || _class) || _class); // KDCardSelector.actions = actions\nvar _default = exports[\"default\"] = KDCardSelector;\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/KDCardSelector.jsx?");

/***/ }),

/***/ "./src/component/mobile/KDCardView.js":
/*!********************************************!*\
  !*** ./src/component/mobile/KDCardView.js ***!
  \********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = exports.CardChunk = void 0;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.find.js */ \"../../node_modules/core-js/modules/es.array.find.js\");\n__webpack_require__(/*! core-js/modules/es.array.find-index.js */ \"../../node_modules/core-js/modules/es.array.find-index.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.join.js */ \"../../node_modules/core-js/modules/es.array.join.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.array.reduce.js */ \"../../node_modules/core-js/modules/es.array.reduce.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.array.splice.js */ \"../../node_modules/core-js/modules/es.array.splice.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.parse-int.js */ \"../../node_modules/core-js/modules/es.parse-int.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.timers.js */ \"../../node_modules/core-js/modules/web.timers.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _propTypes = _interopRequireDefault(__webpack_require__(/*! prop-types */ \"../../node_modules/prop-types/index.js\"));\nvar _reactDom = _interopRequireDefault(__webpack_require__(/*! react-dom */ \"webpack/sharing/consume/default/react-dom/react-dom?418d\"));\nvar _classnames2 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _componentutil = __webpack_require__(/*! ../../util/componentutil */ \"./src/util/componentutil.js\");\nvar _componentFactory = _interopRequireDefault(__webpack_require__(/*! ../../factory/componentFactory */ \"./src/factory/componentFactory.js\"));\nvar _serverproperties = __webpack_require__(/*! ../../constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _ListCardViewMobile = _interopRequireDefault(__webpack_require__(/*! ./base/ListCardViewMobile */ \"./src/component/mobile/base/ListCardViewMobile.jsx\"));\nvar _KDCardView2 = _interopRequireDefault(__webpack_require__(/*! ./KDCardView.less */ \"./src/component/mobile/KDCardView.less\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _gridaction = __webpack_require__(/*! ../../action/gridaction */ \"./src/action/gridaction.js\");\nvar _fieldaction = __webpack_require__(/*! ../../action/fieldaction */ \"./src/action/fieldaction.js\");\nvar _appModelFunction = __webpack_require__(/*! @/model/appModelFunction */ \"./src/model/appModelFunction.js\");\nvar _VisibleLockWrap = _interopRequireDefault(__webpack_require__(/*! ../common/VisibleLockWrap */ \"./src/component/common/VisibleLockWrap.js\"));\nvar _AttachDataWrap = _interopRequireDefault(__webpack_require__(/*! ../common/AttachDataWrap */ \"./src/component/common/AttachDataWrap.js\"));\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nvar _memoryCacher = __webpack_require__(/*! @/model/memoryCacher.js */ \"./src/model/memoryCacher.js\");\nvar _PullToRefresh = _interopRequireDefault(__webpack_require__(/*! @/component/common/PullToRefresh.jsx */ \"./src/component/common/PullToRefresh.jsx\"));\nvar _ctrlMethodConst = __webpack_require__(/*! @/constant/ctrlMethodConst */ \"./src/constant/ctrlMethodConst.js\");\nvar _const = __webpack_require__(/*! @/constant/const */ \"./src/constant/const.js\");\nvar _MobileVirtualView = _interopRequireWildcard(__webpack_require__(/*! @/component/common/MobileVirtualView */ \"./src/component/common/MobileVirtualView.js\"));\nvar _invokeActionUtils = __webpack_require__(/*! @/component/common/invokeActionUtils.js */ \"./src/component/common/invokeActionUtils.js\");\nvar _ControlValueChangeContextProvider = _interopRequireDefault(__webpack_require__(/*! @/page/ControlValueChangeContextProvider */ \"./src/page/ControlValueChangeContextProvider.js\"));\nvar _flattenTreeNodes = _interopRequireDefault(__webpack_require__(/*! @/util/flattenTreeNodes */ \"./src/util/flattenTreeNodes.js\"));\nvar _langUtil = __webpack_require__(/*! @/util/langUtil */ \"./src/util/langUtil.js\");\nvar _Aggregate = _interopRequireDefault(__webpack_require__(/*! ./base/Aggregate */ \"./src/component/mobile/base/Aggregate.js\"));\nvar _const2 = __webpack_require__(/*! @/component/common/table/const */ \"./src/component/common/table/const.js\");\nvar _excluded = [\"onOperationTap\", \"text\", \"style\", \"className\"];\nvar _dec, _class, _KDCardView;\n/**\n * 列表-卡片布局\n */\n// loading元素的高度\n// import { addCutomStyleToHead } from '../../util/customStyle'\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar LOADER_HEIGHT = 15;\n\n/**\n * 判断对应字段是否可见\n * 由于 cardrowpanel 折叠时，是通过样式控制，字段无法感知\n * 所以添加了 data-ctrl-type 进行判定\n * @param {object} dom observer 观察节点\n * @returns\n */\nvar isDisplaying = function isDisplaying(dom) {\n  var node = dom.target;\n  var parentElement = node.parentElement;\n  while (parentElement) {\n    if (parentElement.dataset.ctrlType === 'card-row-panel') {\n      return parentElement.style.height !== '0px';\n    }\n    parentElement = parentElement.parentElement;\n  }\n  return true;\n};\nvar conditionFn = function conditionFn(dom) {\n  return dom.intersectionRatio < 1 && dom.target.dataset.validate === 'true' && isDisplaying(dom);\n};\nvar KDCardView = (_dec = (0, _VisibleLockWrap[\"default\"])(false), _dec(_class = (0, _AttachDataWrap[\"default\"])(_class = (_KDCardView = /*#__PURE__*/function (_React$Component) {\n  _inherits(KDCardView, _React$Component);\n  function KDCardView(props) {\n    var _this;\n    _classCallCheck(this, KDCardView);\n    _this = _callSuper(this, KDCardView, [props]);\n    // getVisible(model){\n    // if(getCardVisible){\n    // return getCardVisible(model);\n    // }\n    // return true;\n    // }\n    // setSelRows (selectedRowKey) {\n    //   let { parentModel, model } = this.props\n    //   let dataModel = parentModel || model\n    //   let data = dataModel.getDataValue()\n    //   if (!data) return null\n    //   let rows = data.get('rows')\n    //   if (!rows || rows.size === 0) return null\n    //   let option = data.get(DATA_INDEX)\n    //   let rowKey = dataModel.getMetaProperty(ROWKEY)\n    //   let postcols = dataModel.getDataProperty(['value', 'postcols'])\n    //   let selRowsInfo = []\n    //   let gridKey = dataModel.key\n    //   rows.map((row) => {\n    //     let index = row.get(option.get(rowKey))\n    //     if (index === selectedRowKey) {\n    //       if (postcols && postcols.size > 0) {\n    //         postcols.forEach(col => {\n    //           if (col !== null) {\n    //             selRowsInfo.push(row.get(option.get(col)))\n    //           }\n    //         })\n    //       }\n    //     }\n    //   }) // 取跟selectedRowKey相对应的selRowsInfo\n    //   let rowIndex = this.selRows.indexOf(selectedRowKey)\n    //   if (rowIndex === -1) {\n    //     this.selRows.push(selectedRowKey)\n    //     this.selRowsInfos.push(selRowsInfo)\n    //   } else if (rowIndex > -1) {\n    //     this.selRows.splice(rowIndex, 1)\n    //     this.selRowsInfos.splice(rowIndex, 1)\n    //   }\n    //   let postData = {\n    //     row: selectedRowKey,\n    //     selRows: this.selRows,\n    //     isClientNewRow: false,\n    //     clientNewRows: '',\n    //     selDatas: this.selRowsInfos,\n    //     rowData: selRowsInfo\n    //   }\n    //   if (postData.selDatas === null) {\n    //     delete postData.selDatas\n    //   }\n    //   if (postData.rowData === null) {\n    //     delete postData.rowData\n    //   }\n    //   this.postData = postData\n    //   this.setPostData(postData)\n    //   this.props.EntityRowClick({ pageId: model.pageId, key: gridKey }, [selectedRowKey])\n    // }\n    _this.setPostData = function (postData) {\n      var _this$props = _this.props,\n        parentModel = _this$props.parentModel,\n        model = _this$props.model,\n        dispatch = _this$props.dispatch;\n      var dataModel = parentModel || model;\n      var pageId = dataModel.pageId,\n        key = dataModel.key;\n      dispatch((0, _appModelFunction.convertAppModelFunctionAction)((0, _appModelFunction.setControlPostValue)(pageId, key, postData)));\n    };\n    // setPageRows: 发送行数给后端，获取此行数之前的所有行数据，页数不变\n    // setNextpageData： 发送当前页数给后端，获取当前页的下一页的数据\n    _this.onScroll = function (e) {\n      if (_this.isLoadding) return;\n      // if(this.loadingState.style.display == 'flex') return;\n      var _target = e.target;\n      //  if (_target !== this.ref.current) return\n      var scrollTop = _target.scrollTop;\n      var scrollHeight = _target.scrollHeight;\n      var clientHeight = _target.clientHeight;\n      var _this$props2 = _this.props,\n        parentModel = _this$props2.parentModel,\n        model = _this$props2.model,\n        dispatch = _this$props2.dispatch;\n      var dataModel = parentModel || model;\n      var data = dataModel.getDataValue() || (0, _immutable.Map)();\n      var noAppendRow = data.get('noAppendRow');\n      if (scrollTop + clientHeight + LOADER_HEIGHT >= scrollHeight && !noAppendRow) {\n        _this.isLoadding = true;\n        _this.loadingState.style.display = 'flex';\n        // this.loadingState.scrollIntoView(true);\n        // pageRows = data?data.get('pagerows'):20;\n        // this.props.setAmountOperation(parentModel||model, (pageRows + 20), 'setPageRows')\n        var pageIndex = data && data.get('pageindex');\n        dispatch((0, _gridaction.setAmountOperation)(parentModel || model, pageIndex, 'setNextpageData'));\n      }\n    };\n    // 不更新选中行，直接返回当前的选中行信息\n    _this.getCardModeSelectedData = function () {\n      return {\n        selectedRows: _this.selRows,\n        selectedRowInfos: _this.selRowsInfos\n      };\n    };\n    /*\n    selectedRowKey   操作的行号\n    isPush   是否push进数组  boolean\n    */\n    _this.setDeleteRows = function (selectedRowKey, isPush) {\n      if (isPush) {\n        _this.deleteRows.push(selectedRowKey);\n      } else {\n        var rowIndex = _this.deleteRows.indexOf(selectedRowKey);\n        rowIndex > -1 && _this.deleteRows.splice(rowIndex, 1);\n      }\n    };\n    _this.getSelectedRows = function (row, option, rowKey) {\n      var model = _this.props.parentModel || _this.props.model;\n      var selectedRowKey = row.get(option.get(rowKey));\n      if (selectedRowKey === undefined) return;\n      var isMulti = model.getMetaProperty('ismul') !== false;\n      var postcols = model.getDataProperty(['value', 'postcols']);\n      var selRowsInfo = [];\n      var index = row.get(option.get(rowKey));\n      if (index === selectedRowKey) {\n        selRowsInfo = _this.getRowInfo(postcols, row, option);\n      }\n      var rowIndex = _this.selRows.indexOf(selectedRowKey);\n      if (isMulti) {\n        if (rowIndex === -1) {\n          _this.selRows.push(selectedRowKey);\n          _this.selRowsInfos.push(selRowsInfo);\n          _this.setDeleteRows(selectedRowKey, false);\n        } else if (rowIndex > -1) {\n          _this.selRows.splice(rowIndex, 1);\n          _this.selRowsInfos.splice(rowIndex, 1);\n          _this.setDeleteRows(selectedRowKey, true);\n        }\n      } else {\n        _this.selRows = [selectedRowKey];\n        _this.selRowsInfos = [selRowsInfo];\n      }\n      return {\n        selectedRows: _this.selRows,\n        selectedRowInfos: _this.selRowsInfos\n      };\n    };\n    _this.getRowInfo = function (postcols, row, option) {\n      if (!postcols || postcols.size === 0) return null;\n      var selectedDatas = [];\n      postcols.forEach(function (col) {\n        if (col !== null) {\n          selectedDatas.push(row.get(option.get(col)));\n        }\n      });\n      return selectedDatas;\n    };\n    _this.getCardSelectStatus = function () {\n      var _this$props3 = _this.props,\n        model = _this$props3.model,\n        parentModel = _this$props3.parentModel;\n      var dataModel = parentModel || model;\n      // 卡片列表的选择状态，true表示可以卡片行可以选中，默认是false\n      var cardSelectStatus = dataModel.getDataProperty('cardSelectStatus') || false;\n      return cardSelectStatus;\n    };\n    // 下拉刷新\n    _this.handleRefresh = function () {\n      var _this$props4 = _this.props,\n        parentModel = _this$props4.parentModel,\n        model = _this$props4.model,\n        dispatch = _this$props4.dispatch;\n      dispatch((0, _gridaction.refreshData)(parentModel || model, 'refreshData', []));\n    };\n    _this.postGetSumData = function () {\n      var _this$props5 = _this.props,\n        parentModel = _this$props5.parentModel,\n        model = _this$props5.model,\n        dispatch = _this$props5.dispatch;\n      var useModel = parentModel || model;\n      dispatch((0, _gridaction.invokeControlMethodSingle)(useModel, _const2.GETSUMDATA, [], true));\n    };\n    _this.initializePreSelRow = function (data) {\n      _this.preSelRow = -1;\n    };\n    _this.clearSelRows = function (data) {\n      _this.selRows = [];\n      _this.selRowsInfos = [];\n      _this.deleteRows = [];\n    };\n    _this.setBusyTips = function (model) {\n      var pageId = model.pageId,\n        key = model.key;\n      var userLocale = model.getUserLocale();\n      var text = (0, _intlApi.getLangMsg)('cardview.key0004');\n      var busyTipObject = _defineProperty(_defineProperty({}, userLocale, text), \"supportMethod\", ['entryRowClick']);\n      (0, _memoryCacher.setControlBusyTip)(pageId, key, busyTipObject);\n    };\n    _this.addIntersectionObserver = function () {\n      _this.domElement = _this.ref.current;\n      var config = {\n        threshold: [0.99999999],\n        root: _this.domElement\n      };\n      _this.intersectionObserver = new window.IntersectionObserver(function (entries) {\n        if (_this.childDOM.length === 0) {\n          _this.childDOM = entries;\n        } else {\n          entries.forEach(function (entry, index) {\n            var cacheIndex = _this.childDOM.findIndex(function (dom) {\n              return dom.target === entry.target;\n            });\n            _this.childDOM.splice(cacheIndex, 1, entry);\n          });\n        }\n        _this.displayErrBtn();\n      }, config);\n    };\n    _this.addMutationObserver = function () {\n      _this.domElement = _this.ref.current;\n      if (!_this.domElement) return;\n      var config = {\n        childList: true,\n        subtree: true\n      };\n      _this.mutationObserver = new window.MutationObserver(function (mutations) {\n        mutations.forEach(function (mutation) {\n          if (mutation.type === 'childList') {\n            var fields = _this.domElement.querySelectorAll('[data-validate]');\n            _this.intersectionObserver.disconnect();\n            _this.childDOM = [];\n            if (fields.length > 0) {\n              Array.from(fields).forEach(function (field) {\n                _this.intersectionObserver.observe(field);\n              });\n            } else {\n              _this.resetShowFloatBtn();\n            }\n          }\n        });\n      });\n      _this.mutationObserver.observe(_this.domElement, config);\n    };\n    _this.resetShowFloatBtn = function () {\n      _this.setState({\n        showTopFloatBtn: false,\n        showBottomFloatBtn: false\n      });\n    };\n    _this.dataMessageListener = function (data) {\n      // addDataChangeListener是异步回调，需要判断控件是否销毁\n      if (!_this.dispose) {\n        _this.setState({\n          selectedData: (0, _immutable.List)(data) || (0, _immutable.List)()\n        });\n      }\n    };\n    _this.displayErrBtn = function () {\n      if (!_this.childDOM.length) return;\n      // 先过滤出可见的字段\n      var visibleDOM = _this.childDOM.filter(function (dom) {\n        return isDisplaying(dom);\n      });\n      var firstVisibleIndex = visibleDOM.findIndex(function (dom) {\n        return dom.intersectionRatio >= 1 && isDisplaying(dom);\n      });\n      var lastVisibleIndex = _lodash[\"default\"].findLastIndex(visibleDOM, function (dom) {\n        return dom.intersectionRatio >= 1 && isDisplaying(dom);\n      });\n      if (firstVisibleIndex === 0 && lastVisibleIndex === _this.childDOM.length - 1) return; // 不存在滚动条，字段都是可见的\n      if (firstVisibleIndex === -1 && lastVisibleIndex === -1) return;\n      // 分割数组，找出可见不可见的已校验字段\n      var before = visibleDOM.slice(0, firstVisibleIndex);\n      var after = visibleDOM.slice(lastVisibleIndex + 1);\n      _this.topIndex = _lodash[\"default\"].findLastIndex(before, conditionFn);\n      var showTop = _this.topIndex > -1;\n      var tempBottomIndex = after.findIndex(conditionFn);\n      _this.bottomIndex = tempBottomIndex + lastVisibleIndex + 1;\n      var showDown = tempBottomIndex >= 0;\n      _this.setState({\n        showTopFloatBtn: showTop,\n        showBottomFloatBtn: showDown\n      });\n    };\n    _this.setSelRowsInfos = function (model) {\n      var data = model.getDataValue() || (0, _immutable.Map)();\n      var rows = data.get('rows') || (0, _immutable.List)();\n      var option = data.get(_serverproperties.DATA_INDEX) || (0, _immutable.Map)();\n      var rowKey = model.getMetaProperty(_serverproperties.ROWKEY);\n      var postcols = model.getDataProperty(['value', 'postcols']);\n      _this.selRowsInfos = rows.reduce(function (prev, row) {\n        var _rowkey = row.get(option.get(rowKey));\n        if (_this.selRows.includes(_rowkey)) {\n          var selRowsInfo = _this.getRowInfo(postcols, row, option);\n          prev.push(selRowsInfo);\n        }\n        return prev;\n      }, []);\n    };\n    _this.updateSlctState = function (model) {\n      var isMulti = model.getMetaProperty('ismul') !== false;\n      var selectedRows = model.getDataProperty(['slctState', 'slcted']) || (0, _immutable.List)();\n      var selected = selectedRows ? selectedRows.toJS() : [];\n      if (Array.isArray(selected) && selected[0] && Array.isArray(selected[0])) {\n        selected = selected[0];\n      }\n      if (isMulti && selected.length > 0) {\n        var nowSelRows = _lodash[\"default\"].pullAll(selected, _this.deleteRows); // 去掉指令选中行中已手动取消选中的行\n        _this.selRows = _lodash[\"default\"].union(_this.selRows, nowSelRows); // 合并手动选中行与指令selectRows选中行两个数组，并去掉重复项（移动端多选卡片特殊处理）\n      } else {\n        _this.selRows = selected;\n      }\n      if (Array.isArray(_this.selRows)) {\n        _this.setSelRowsInfos(model);\n      }\n      _this.setMemoryData();\n    };\n    // 获取卡片中所有自定义控件\n    _this.getAllCustomControls = function (model) {\n      var items = model.getMetaProperty('items');\n\n      // 排除掉固定卡片，只需要普通卡片的元数据，cardType为0是固定卡片\n      var loopCardMeta = items.find(function (item) {\n        var cardType = item.get('cardType');\n        return cardType !== '0';\n      });\n      var getCustomControls = function getCustomControls(loopCardMeta) {\n        var metaList = _immutable.List.isList(loopCardMeta) ? loopCardMeta : [loopCardMeta];\n        var flattenItemNode = (0, _flattenTreeNodes[\"default\"])(metaList, 'items');\n        var customControls = flattenItemNode.filter(function (item) {\n          return item.get('type') === 'customcontrol';\n        }).map(function (item) {\n          return item.get('id');\n        });\n        return customControls;\n      };\n      var customControls = getCustomControls(loopCardMeta);\n      return customControls;\n    };\n    _this.getAllFields = function (model) {\n      var items = model.getMetaProperty('items');\n\n      // 排除掉固定卡片，只需要普通卡片的元数据，cardType为0是固定卡片\n      var loopCardMeta = items.find(function (item) {\n        var cardType = item.get('cardType');\n        return cardType !== '0';\n      });\n      var getFields = function getFields(loopCardMeta) {\n        var metaList = _immutable.List.isList(loopCardMeta) ? loopCardMeta : [loopCardMeta];\n        var flattenItemNode = (0, _flattenTreeNodes[\"default\"])(metaList, 'items');\n        var customControls = flattenItemNode.filter(function (item) {\n          return item.get('type') === 'cardfield';\n        });\n        return customControls || [];\n      };\n      var fields = getFields(loopCardMeta);\n      return fields;\n    };\n    _this.getFieldInfoById = function (id) {\n      var model = _this.props.model;\n      var index = _this.allFields ? _this.allFields.findIndex(function (item) {\n        return item.get('dataIndex') === id;\n      }) : -1;\n      if (index === -1) {\n        return {\n          fieldName: null,\n          index: index\n        };\n      }\n      var field = _this.allFields[index];\n      var locale = model.getUserLocale();\n      var fieldName = (0, _langUtil.getValueOfLanguage)(field.get('header'), locale);\n      return {\n        fieldName: fieldName,\n        index: index\n      };\n    };\n    _this.handleTopFloatBtnClick = function () {\n      if (_this.topIndex < 0) return;\n      var visibleDOM = _this.childDOM.filter(function (dom) {\n        return isDisplaying(dom);\n      });\n      var dom = visibleDOM[_this.topIndex];\n      dom.target.scrollIntoView();\n    };\n    _this.handleBottomFloatBtnClick = function () {\n      if (_this.bottomIndex < 0) return;\n      var visibleDOM = _this.childDOM.filter(function (dom) {\n        return isDisplaying(dom);\n      });\n      var dom = visibleDOM[_this.bottomIndex];\n      dom.target.scrollIntoView();\n    };\n    // 移动端卡片列表，选择行与点击行无直接联系，暂作处理，之后会与后端重新定义交互\n    // componentWillReceiveProps(nextProps) {\n    // let nextModel = nextProps.parentModel || nextProps.model\n    // let newselRows = nextModel.getDataProperty(['slctState', 'slcted']);\n    // // newselRows = [[]] || [[1,2,3]] || [-1]\n    // if (List.isList(newselRows)) {\n    // let selRows = newselRows.toJS()\n    // if (Array.isArray(selRows[0])) {\n    // this.selRows = selRows[0]\n    // } else {\n    // this.selRows = selRows\n    // }\n    // if (this.selRows.length === 0 || this.selRows[0] === -1) {\n    // this.selRows = []\n    // this.postData = {}\n    // } else {\n    // this.postData.selRows = this.selRows\n    // }\n    // }\n    // }\n    /**\n    * @Description 卡片分录删除时，因为卡片分录遍历的key为index，删除的下一行会复用删除行的dom，导致复用了上一行的dom的样式，需要把删除行的dom滚动条复位\n    * @authors he_ying_jin (he_ying_jin@kingdee.com)\n    * @param {Object} delKeys 操作的行号，有可能传的行号为数组为双层 [[0]]\n    * @returns {String} ''\n    */\n    _this.handleRemoveCardRow = function (delKeys) {\n      if (Array.isArray(delKeys) && delKeys[0] && Array.isArray(delKeys[0])) {\n        delKeys = delKeys[0];\n      } // 以前的代码做了兼容，这里也兼容一下\n      // 支持多选删除\n      delKeys.forEach(function (delKey) {\n        // 获取删除的dom\n        var delDom = _this.ref.current.querySelector(\"[card-row-key='\".concat(delKey, \"']\"));\n        if (!delDom) return;\n        delDom.scrollTo(0, 0);\n      });\n    };\n    _this.invokeControlMethods = function () {\n      var events = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      events.forEach(function (event) {\n        var methodName = event.methodname,\n          args = event.args;\n        switch (methodName) {\n          case _ctrlMethodConst.M_REMOVE_SEL_ROW:\n            {\n              var isMulti = (_this.props.parentModel || _this.props.model).getMetaProperty('ismul') !== false;\n              if (isMulti) {\n                _this.clearSelRows();\n              }\n            }\n            break;\n          case _ctrlMethodConst.M_REMOVE_CARD_ROW:\n            {\n              var _isMulti = (_this.props.parentModel || _this.props.model).getMetaProperty('ismul') !== false;\n              if (!_isMulti) {\n                _this.initializePreSelRow();\n              }\n              _this.handleRemoveCardRow(_toConsumableArray(args[0]));\n            }\n            break;\n          case _ctrlMethodConst.M_SET_ROW_VISIBLE:\n            _this.setState({\n              currentRow: args[0]\n            });\n            break;\n          default:\n            console.info(\"\".concat(methodName, \" is not been implemented\"));\n            break;\n        }\n      });\n    };\n    // 得到虚拟列表参数\n    _this.getRows = function () {\n      var _this$props6 = _this.props,\n        model = _this$props6.model,\n        parentModel = _this$props6.parentModel;\n      var dataModel = parentModel || model;\n      var data = dataModel.getDataValue();\n      var rows = data === null || data === void 0 ? void 0 : data.get('rows');\n      return rows || (0, _immutable.List)();\n    };\n    _this.itemRender = function (row, index) {\n      return _this.getLoopCard(row, index);\n    };\n    /**\n    * 获取每个卡片元素\n    * @param {*} row  卡片数据\n    * @param {*} index 卡片位置索引\n    * @returns 卡片元素\n    */\n    _this.getLoopCard = function (row, index) {\n      var _this$props7 = _this.props,\n        model = _this$props7.model,\n        parentModel = _this$props7.parentModel;\n      var dataModel = parentModel || model;\n      var data = dataModel.getDataValue();\n      var items = model.getMetaProperty('items');\n      var loopCardMeta = items.find(function (item) {\n        var cardType = item.get('cardType');\n        return cardType !== '0';\n      });\n      var fmtinfo = dataModel.getDataProperty('fmtinfo');\n      var colCtrl = dataModel.getDataProperty('colCtrl');\n      var isMulti = dataModel.getMetaProperty('ismul') !== false;\n      var option = data.get(_serverproperties.DATA_INDEX);\n      var rowKey = dataModel.getMetaProperty(_serverproperties.ROWKEY);\n      // 用于隐藏与锁定\n      var viPosition = option.get('vi');\n      var lPosition = option.get('l');\n      var gridKey = dataModel.key;\n      // 整个卡片控件的锁定性\n      var cardViewLocked = _this._getLock();\n      var options = {\n        fmtinfo: fmtinfo,\n        option: option,\n        rowKey: rowKey,\n        viPosition: viPosition,\n        lPosition: lPosition,\n        gridKey: gridKey,\n        cardViewLocked: cardViewLocked,\n        isMulti: isMulti,\n        colCtrl: colCtrl\n      };\n      return _this.createLoopCard(row, index, loopCardMeta, options);\n    };\n    _this.setVirtualViewApi = function (api) {\n      _this.virtualViewApi = api;\n    };\n    /**\n    * 创建卡片元素\n    * @param {*} row 卡片行数据\n    * @param {*} idx  卡片位置索引\n    * @param {*} meta 卡片元数据\n    * @param {*} options 可选配置项，渲染卡片所需\n    * @returns\n    */\n    _this.createLoopCard = function (row, idx, meta, options) {\n      var _this$props8 = _this.props,\n        model = _this$props8.model,\n        parentModel = _this$props8.parentModel;\n      var dataModel = parentModel || model;\n      // const data = dataModel.getDataValue()\n      var fmtinfo = options.fmtinfo,\n        option = options.option,\n        rowKey = options.rowKey,\n        viPosition = options.viPosition,\n        lPosition = options.lPosition,\n        gridKey = options.gridKey,\n        cardViewLocked = options.cardViewLocked,\n        isMulti = options.isMulti,\n        colCtrl = options.colCtrl;\n      var key = \"loop_\".concat(idx);\n      var currentRow = _this.state.currentRow;\n      var rowIndex = row.get(option.get(rowKey));\n      var cardSelectStatus = _this.getCardSelectStatus();\n      var longPressInvokeActionMeta = model.getMetaProperty('longPressInvokeAction');\n      return (0, _componentFactory[\"default\"])(model.pageId, meta, _this.context.store.getState(), undefined, {\n        key: \"\".concat(idx, \"_\").concat(rowIndex),\n        data: row,\n        fmtinfo: fmtinfo,\n        // key: meta.get('id'),\n        option: option,\n        gridKey: dataModel.key,\n        rowKey: rowKey,\n        isvisible: currentRow === idx,\n        selectRows: _this.selectRows.bind(_assertThisInitialized(_this), row, option, rowKey),\n        setMemoryData: _this.setMemoryData.bind(_assertThisInitialized(_this)),\n        activeRow: _this.activeRow.bind(_assertThisInitialized(_this), row, option, rowKey),\n        activeFocusRow: _this.activeFocusRow.bind(_assertThisInitialized(_this), row, option, rowKey),\n        selected: _this.state.selectedRows === rowIndex,\n        sum: _this.getRows().count(),\n        cardViewLocked: cardViewLocked,\n        selRows: _this.selRows,\n        dataModel: dataModel,\n        isMulti: isMulti,\n        cardMode: _this.state.cardMode,\n        colCtrl: colCtrl,\n        cardSelectStatus: cardSelectStatus,\n        selectedData: _this.state.selectedData,\n        entryentities: _this.props.entryentities,\n        longPressInvokeActionMeta: longPressInvokeActionMeta,\n        serialNumber: rowIndex,\n        clearSelRows: _this.clearSelRows,\n        getCardVisible: function getCardVisible(subModel) {\n          return (0, _componentutil.getCardVisible)(subModel, undefined, undefined, gridKey, viPosition, rowIndex);\n        },\n        getCardLocked: function getCardLocked(subModel) {\n          if (cardViewLocked) {\n            // 父容器锁定，则直接锁定子元素\n            return true;\n          } else {\n            return (0, _componentutil.getCardLocked)(subModel, undefined, undefined, gridKey, lPosition, rowIndex);\n          }\n        }\n      });\n    };\n    /**\n     * 渲染固定卡片\n     * @param {*} index  首位=0，末尾-1\n     * @returns\n     */\n    _this.renderFixedCard = function (index) {\n      return function () {\n        var model = _this.props.model;\n        var items = model.getMetaProperty('items');\n        var meta = items.get(index);\n        var cardType = meta.get('cardType');\n        if (cardType === '0') {\n          // 固定卡片\n          return (0, _componentFactory[\"default\"])(model.pageId, meta, _this.context.store.getState(), undefined, {\n            key: index,\n            cardType: 0\n          });\n        }\n        return null;\n      };\n    };\n    _this.getCards = function (meta, index) {\n      var currentRow = _this.state.currentRow;\n      var _this$props9 = _this.props,\n        parentModel = _this$props9.parentModel,\n        model = _this$props9.model;\n      var dataModel = parentModel || model;\n      var cardType = meta.get('cardType');\n      var data = dataModel.getDataValue();\n      var colCtrl = dataModel.getDataProperty('colCtrl');\n      var rows = data.get('rows');\n      var option = data.get(_serverproperties.DATA_INDEX);\n      var rowKey = dataModel.getMetaProperty(_serverproperties.ROWKEY);\n      var fmtinfo = dataModel.getDataProperty('fmtinfo');\n      var isMulti = dataModel.getMetaProperty('ismul') !== false;\n      var longPressInvokeActionMeta = model.getMetaProperty('longPressInvokeAction') || (0, _immutable.List)([]);\n      // 用于隐藏与锁定\n      var viPosition = option.get('vi');\n      var lPosition = option.get('l');\n      var gridKey = dataModel.key;\n      var cardViewLocked = _this._getLock(); // 整个卡片控件的锁定性\n\n      var cardSelectStatus = _this.getCardSelectStatus();\n\n      // 中间循环卡片\n      if (cardType !== '0') {\n        return rows.map(function (row, innerIndex) {\n          // let meta = items.get(0);\n          var rowIndex = row.get(option.get(rowKey));\n          return (0, _componentFactory[\"default\"])(model.pageId, meta, _this.context.store.getState(), undefined, {\n            key: \"\".concat(index, \"_\").concat(rowIndex),\n            data: row,\n            fmtinfo: fmtinfo,\n            // key: meta.get('id'),\n            option: option,\n            gridKey: dataModel.key,\n            rowKey: rowKey,\n            isvisible: currentRow === innerIndex,\n            serialNumber: rowIndex,\n            selectRows: _this.selectRows.bind(_assertThisInitialized(_this), row, option, rowKey),\n            setMemoryData: _this.setMemoryData.bind(_assertThisInitialized(_this)),\n            activeRow: _this.activeRow.bind(_assertThisInitialized(_this), row, option, rowKey),\n            activeFocusRow: _this.activeFocusRow.bind(_assertThisInitialized(_this), row, option, rowKey),\n            selected: _this.state.selectedRows === rowIndex,\n            sum: rows.count(),\n            cardViewLocked: cardViewLocked,\n            selRows: _this.selRows,\n            dataModel: dataModel,\n            isMulti: isMulti,\n            colCtrl: colCtrl,\n            cardMode: _this.state.cardMode,\n            cardSelectStatus: cardSelectStatus,\n            selectedData: _this.state.selectedData,\n            entryentities: _this.props.entryentities,\n            longPressInvokeActionMeta: longPressInvokeActionMeta,\n            clearSelRows: _this.clearSelRows,\n            getCardVisible: function getCardVisible(subModel) {\n              return (0, _componentutil.getCardVisible)(subModel, undefined, undefined, gridKey, viPosition, rowIndex);\n            },\n            getCardLocked: function getCardLocked(subModel) {\n              if (cardViewLocked) {\n                // 父容器锁定，则直接锁定子元素\n                return true;\n              } else {\n                return (0, _componentutil.getCardLocked)(subModel, undefined, undefined, gridKey, lPosition, rowIndex);\n              }\n            }\n          });\n        });\n      }\n      return (0, _componentFactory[\"default\"])(model.pageId, meta, _this.context.store.getState(), undefined, {\n        key: index,\n        cardType: 0\n      });\n    };\n    /**\n     * 获取设计器设置的卡片大小，只取设置px的情况，不取设置百分比的情况，用作虚加载卡片默认宽高\n     * @returns\n     */\n    _this.getCardSize = function () {\n      var model = _this.props.model;\n      var items = model.getMetaProperty('items');\n      var cardMeta = items.find(function (item) {\n        return item.get('cardType') !== '0';\n      });\n      if (!cardMeta) return;\n      var cardSize = {};\n      var locale = model.getUserLocale();\n      var defaultLocalId = model.getDefaultLang();\n      var width = cardMeta.getIn(['w', locale]) || cardMeta.getIn(['w', defaultLocalId]);\n      var height = cardMeta.getIn(['h', locale]) || cardMeta.getIn(['h', defaultLocalId]);\n      if (width && typeof width === 'string' && width.includes('px')) {\n        cardSize.width = parseInt(width.substring(0, width.length - 2));\n      }\n      if (height && typeof height === 'string' && height.includes('px')) {\n        cardSize.height = parseInt(height.substring(0, height.length - 2));\n      }\n      return cardSize;\n    };\n    var _model2 = props.parentModel || props.model;\n    var cardMode = _model2.getDataProperty('cardmode') || 0; // 卡片模式，0为默认，1为购物车模式。。。\n    _this.state = {\n      selectedRows: '',\n      cardMode: cardMode,\n      currentRow: undefined,\n      selectedData: (0, _immutable.List)(),\n      showTopFloatBtn: false,\n      showBottomFloatBtn: false\n    };\n    _this.isLoadding = false;\n    _this.selRows = [];\n    _this.selRowsInfos = [];\n    _this.deleteRows = [];\n    _this.postData = {};\n    _this.preSelRow = -1; // 单选时，记住上一行点击的行号\n    _this.ref = /*#__PURE__*/_react[\"default\"].createRef(null);\n    _this.isRollLoading = false;\n    _this.forAutoTestActions = {\n      EntityRowClick: _gridaction.EntityRowClick,\n      setAmountOperation: _gridaction.setAmountOperation,\n      refreshData: _gridaction.refreshData,\n      setItemByNumber: _fieldaction.setItemByNumber\n    };\n    _this.allowEntityRowClick = true; // 是否允许发送行点击事件\n    _this.entryRowClickAjaxListener = _lodash[\"default\"].debounce(_this.entryRowClickAjaxListener.bind(_assertThisInitialized(_this)), 500);\n    return _this;\n  }\n  _createClass(KDCardView, [{\n    key: \"_getLock\",\n    value:\n    // 整个卡片控件的锁定(继承其父容器的锁定)\n    function _getLock() {\n      var model = this.props.model;\n      return this.props.getLocked(model);\n    }\n  }, {\n    key: \"onOperationTap\",\n    value:\n    /**\n       * 右滑行菜单操作\n       * @param  {[type]} rowIndex [行数据索引]\n       * @param  {[type]} id     [操作id]\n       */\n    function onOperationTap(id, operationkey, row, option, rowKey) {\n      var _this$props10 = this.props,\n        parentModel = _this$props10.parentModel,\n        model = _this$props10.model,\n        dispatch = _this$props10.dispatch;\n      var myModel = parentModel || model;\n      var gridKey = model.key;\n      var postData = this.getSelectRowsPostData(row, option, rowKey);\n      dispatch((0, _gridaction.cardRowMenuClick)(myModel, [id, operationkey == undefined ? '' : operationkey], [_defineProperty({}, gridKey, postData)]));\n    }\n\n    /**\n     * 获取当前选中行的postdata\n     * @param  {[type]} row    [description]\n     * @param  {[type]} option [description]\n     * @param  {[type]} rowKey [description]\n     * @return {[type]}        [description]\n     */\n  }, {\n    key: \"getSelectRowsPostData\",\n    value: function getSelectRowsPostData(row, option, rowKey) {\n      var updateSelectedRows = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n      var model = this.props.parentModel || this.props.model;\n      var selectedRowKey = row.get(option.get(rowKey));\n      if (selectedRowKey === undefined) return;\n      var selectedData = updateSelectedRows ? this.getSelectedRows(row, option, rowKey) : this.getCardModeSelectedData();\n      var postcols = model.getDataProperty(['value', 'postcols']);\n      var selRowsInfo = [];\n      var isMulti = model.getMetaProperty('ismul') !== false;\n      var index = row.get(option.get(rowKey));\n      if (index === selectedRowKey) {\n        selRowsInfo = this.getRowInfo(postcols, row, option);\n      } // 取跟selectedRowKey相对应的selRowsInfo\n\n      var postData = {\n        row: selectedRowKey,\n        selRows: selectedData.selectedRows,\n        isClientNewRow: false,\n        clientNewRows: '',\n        selDatas: selectedData.selectedRowInfos,\n        rowData: selRowsInfo,\n        isRollLoading: this.isRollLoading\n      };\n      if (postData.selDatas === null) {\n        delete postData.selDatas;\n      }\n      if (postData.rowData === null) {\n        delete postData.rowData;\n      }\n      if (!isMulti) {\n        postData.preSelRow = this.preSelRow;\n      }\n      var cardSelectStatus = this.getCardSelectStatus();\n      if (cardSelectStatus) {\n        postData.cardSelectStatus = true;\n      }\n      return postData;\n    }\n  }, {\n    key: \"activeFocusRow\",\n    value:\n    // 仅更新焦点行，其他选中行信息不变\n    function activeFocusRow(row, option, rowKey) {\n      var postData = this.getSelectRowsPostData(row, option, rowKey, false);\n      this.setPostData(postData);\n    }\n  }, {\n    key: \"activeRow\",\n    value: function activeRow(row, option, rowKey) {\n      if (!this.allowEntityRowClick) return;\n      var model = this.props.parentModel || this.props.model;\n      var pageId = model.pageId,\n        key = model.key;\n      var postData = this.getSelectRowsPostData(row, option, rowKey);\n      this.props.dispatch((0, _appModelFunction.convertAppModelFunctionAction)((0, _appModelFunction.setControlPostValue)(pageId, key, postData)));\n      var selectedRowKey = row.get(option.get(rowKey));\n      this.preSelRow = selectedRowKey;\n    }\n  }, {\n    key: \"selectRows\",\n    value:\n    /**\n     * 卡片选中事件,click触发,改变内部选中状态\n     * @param  {[type]} row [选中的卡片]\n     */\n    function selectRows(row, option, rowKey) {\n      var _this2 = this;\n      if (!this.allowEntityRowClick) return;\n      var isListView = this.props.model.getMetaProperty('cardtype') === 'listcard';\n      var isMul = this.props.parentModel.getMetaProperty('ismul') !== false;\n      var cardselectStatus = this.getCardSelectStatus();\n      if (isListView && !cardselectStatus && !isMul) {\n        // 卡片列表，并且不是在选择状态时\n        this.allowEntityRowClick = false;\n        this.clearEntityRowClickTimer = setTimeout(function () {\n          _this2.allowEntityRowClick = true;\n        }, 3000);\n      }\n      var model = this.props.parentModel || this.props.model;\n      var gridKey = model.key;\n      var selectedRowKey = row.get(option.get(rowKey));\n      if (selectedRowKey == undefined) return -1;\n      this.setSelectRowState(selectedRowKey);\n      this.props.dispatch((0, _gridaction.EntityRowClick)({\n        pageId: model.pageId,\n        key: gridKey\n      }, [selectedRowKey]));\n    }\n\n    // 点击卡片dom，将已选中的卡片行号数组放进memory\n  }, {\n    key: \"setMemoryData\",\n    value: function setMemoryData() {\n      var model = this.props.parentModel || this.props.model;\n      var gridKey = model.key;\n      (0, _appModelFunction.setCardviewSelectedRows)(model.pageId, this.selRows, gridKey);\n    }\n  }, {\n    key: \"setSelectRowState\",\n    value:\n    /**\n     * 设置内部的选中状态 setState,\n     * click 事件后 设置选中行\n     */\n    function setSelectRowState(selectedRowKey) {\n      this.setState({\n        selectedRows: selectedRowKey\n      });\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      if (nextState.currentRow !== this.state.currentRow) {\n        return true;\n      }\n      if (!(0, _immutable.is)(nextState.selectedData, this.state.selectedData)) return true;\n      if (!(0, _immutable.is)(nextState.showTopFloatBtn, this.state.showTopFloatBtn)) return true;\n      if (!(0, _immutable.is)(nextState.showBottomFloatBtn, this.state.showBottomFloatBtn)) return true;\n      var prevModel = this.props.parentModel || this.props.model;\n      var nextModel = nextProps.parentModel || nextProps.model;\n      if ((0, _immutable.is)((0, _appModelFunction.getForm)(prevModel.pageId)(prevModel.state), (0, _appModelFunction.getForm)(nextModel.pageId)(nextModel.state))) {\n        return false;\n      }\n      return true;\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this3 = this;\n      var el = this.domElement = _reactDom[\"default\"].findDOMNode(this);\n      if (el && el.scrollHeight > el.clientHeight) {\n        // 初始状态\n        el.scrollTop = 1;\n        // el.addEventListener('scroll', this.scrollSmoothing);\n\n        this.scrollFlag = true;\n      }\n      var _this$props11 = this.props,\n        model = _this$props11.model,\n        parentModel = _this$props11.parentModel;\n      var dataModel = parentModel || model;\n      this.updateSlctState(dataModel);\n      this.allCustomControls = this.getAllCustomControls(model);\n      this.allFields = this.getAllFields(model);\n      (0, _memoryCacher.setControlMount)(dataModel.pageId, \"\".concat(dataModel.pageId, \"_\").concat(dataModel.key), true);\n      this.removeDirectiveListener = (0, _memoryCacher.subscribeControlMethod)(dataModel.pageId, \"\".concat(dataModel.pageId, \"_\").concat(dataModel.key), 'directives', function (pageData) {\n        if (pageData === undefined) {\n          return;\n        }\n        _this3.invokeControlMethods(pageData);\n      });\n      // this.setBusyTips(this.props.parentModel || this.props.model)\n      var pageId = dataModel && dataModel.pageId;\n      var gridKey = dataModel && dataModel.key;\n      var data = (0, _appModelFunction.getCardviewSelectedRows)(pageId, gridKey);\n      this.dataMessageListener(data);\n      this.removeDataMessageListener = (0, _memoryCacher.addDataChangeListener)(pageId, [gridKey, _const.SELECTEDROWS_ARRAY], this.dataMessageListener);\n      this.removeEntryRowClickAjaxListener = (0, _invokeActionUtils.addAjaxStateListener)(pageId, gridKey, 'entryRowClick', this.entryRowClickAjaxListener);\n      this.addIntersectionObserver();\n      this.addMutationObserver();\n    }\n    // 处理iOS下弹性滚动。\n    // scrollSmoothing(e) {\n    // let el = e.target;\n    // let scrollTop = el.scrollTop;\n    // let clientHeight = el.clientHeight;\n    // let scrollHeight = el.scrollHeight;\n\n    // if (scrollTop <= 1) {\n    // el.scrollTop = 1;\n    // } else if (scrollTop + clientHeight + 1 >= scrollHeight ) {\n    // el.scrollTop = scrollHeight - clientHeight - 1;\n    // }\n    // }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var _this$removeDataMessa, _this$mutationObserve, _this$intersectionObs;\n      // this.domElement && this.domElement.removeEventListener('scroll', this.scrollSmoothing)\n      this.dispose = true;\n      this.removeDirectiveListener && this.removeDirectiveListener();\n      (_this$removeDataMessa = this.removeDataMessageListener) === null || _this$removeDataMessa === void 0 || _this$removeDataMessa.call(this);\n      (_this$mutationObserve = this.mutationObserver) === null || _this$mutationObserve === void 0 || _this$mutationObserve.disconnect();\n      this.mutationObserver = null;\n      (_this$intersectionObs = this.intersectionObserver) === null || _this$intersectionObs === void 0 || _this$intersectionObs.disconnect();\n      this.intersectionObserver = null;\n    }\n  }, {\n    key: \"entryRowClickAjaxListener\",\n    value: function entryRowClickAjaxListener(_ref2) {\n      var value = _ref2.value,\n        args = _ref2.args;\n      if (value !== _invokeActionUtils.AJAX_PENDING) {\n        clearTimeout(this.clearEntityRowClickTimer);\n        this.allowEntityRowClick = true;\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (!this.mutationObserver && this.ref.current) {\n        this.addMutationObserver();\n      }\n      this.isLoadding = false;\n      // 处理滚动\n      var el = this.domElement;\n      if (!this.scrollFlag && el && el.scrollHeight > el.clientHeight) {\n        el.scrollTop = 1;\n        // el.addEventListener('scroll', this.scrollSmoothing)\n        this.scrollFlag = true;\n      }\n      var prevModel = prevProps.model,\n        prevParentModel = prevProps.parentModel;\n      var _this$props12 = this.props,\n        model = _this$props12.model,\n        parentModel = _this$props12.parentModel;\n      var _prevModel, _model;\n      if (prevParentModel) {\n        _prevModel = prevParentModel;\n        _model = parentModel;\n      } else {\n        _prevModel = prevModel;\n        _model = model;\n      }\n      if (!(0, _immutable.is)(prevModel.getMetaProperty('items'), model.getMetaProperty('items'))) {\n        this.allCustomControls = this.getAllCustomControls(model);\n        this.allFields = this.getAllFields(model);\n      }\n      if (!(0, _immutable.is)(_prevModel.getDataProperty(['slctState']), _model.getDataProperty(['slctState']))) {\n        this.updateSlctState(_model);\n      }\n      if (!(0, _immutable.is)(_prevModel.getDataProperty(['deselRows']), _model.getDataProperty(['deselRows']))) {\n        var deselectedRows = _model.getDataProperty(['deselRows', 'desel']) || (0, _immutable.List)();\n        var deselected = deselectedRows ? deselectedRows.toJS() : [];\n        if (Array.isArray(deselected) && deselected[0] && Array.isArray(deselected[0])) {\n          deselected = deselected[0];\n        }\n        var nowSelRows = _lodash[\"default\"].pullAll(this.selRows, deselected);\n        this.selRows = nowSelRows;\n        if (Array.isArray(this.selRows)) {\n          this.setSelRowsInfos(_model);\n        }\n        this.setMemoryData();\n      }\n\n      // 后端指令控制滚动条位置\n      var scrolltop = _model.getDataProperty(['scrollTop']);\n      if (scrolltop && !(0, _immutable.is)(_prevModel.getDataProperty(['scrollTop']), scrolltop)) {\n        var _el = this.ref && this.ref.current;\n        if (_el && _el.scrollHeight > _el.clientHeight) {\n          // 初始状态\n          _el.scrollTop = 1;\n          this.scrollFlag = true;\n        }\n      }\n      var preFocusState = _prevModel.getDataProperty('fcsState');\n      var focusState = _model.getDataProperty('fcsState');\n      if (!(0, _immutable.is)(preFocusState, focusState)) {\n        var focusRowIndex = focusState.getIn(['fcs', 0]);\n        if (isNaN(focusRowIndex)) return;\n        var isVirtualLoad = _model.getMetaProperty('isVirtualLoad') || false;\n        if (isVirtualLoad) {\n          var _this$getCardSize;\n          var itemHeight = (_this$getCardSize = this.getCardSize()) === null || _this$getCardSize === void 0 ? void 0 : _this$getCardSize.height;\n          if (itemHeight) {\n            var _this$virtualViewApi;\n            // 未设置固定高度滚动会错乱\n            (_this$virtualViewApi = this.virtualViewApi) === null || _this$virtualViewApi === void 0 || _this$virtualViewApi.jumpToTargetItem(focusRowIndex);\n          }\n        } else {\n          var _rowEles$focusRowInde;\n          var rootEle = this.ref.current;\n          var rowEles = rootEle === null || rootEle === void 0 ? void 0 : rootEle.querySelectorAll('[data-ctrl-type=\"card-row-panel\"]');\n          rowEles === null || rowEles === void 0 || (_rowEles$focusRowInde = rowEles[focusRowIndex]) === null || _rowEles$focusRowInde === void 0 || _rowEles$focusRowInde.scrollIntoView();\n        }\n      }\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      var nextModel = nextProps.parentModel || nextProps.model;\n      var thisModel = this.props.parentModel || this.props.model;\n      var nextCardMode = nextModel.getDataProperty('cardmode') || 0; // 卡片模式，0为默认，1为购物车模式。。。\n      var thisCardMode = thisModel.getDataProperty('cardmode') || 0;\n      if (nextCardMode !== thisCardMode) {\n        this.setState({\n          cardMode: nextCardMode\n        });\n      }\n    }\n  }, {\n    key: \"getNoDataCard\",\n    value: function getNoDataCard() {\n      var model = this.props.model;\n      // 无数据提示，pc默认为true, 移动端分录默认为false，默认值发false；移动端列表默认为true，移动列表默认值不发\n      var showNodataTip = (0, _componentutil.getComponentDataProperty)(model, _serverproperties.SHOW_NO_DATA_TIP, _serverproperties.SHOW_NO_DATA_TIP, false);\n      var refreshRun = model.getMetaProperty(_serverproperties.PULL_REFRESH); // 是否刷新\n\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _KDCardView2[\"default\"].nodatabox\n      }, refreshRun && /*#__PURE__*/_react[\"default\"].createElement(_PullToRefresh[\"default\"], {\n        pageId: model.pageId,\n        timeout: 1000,\n        onRefresh: this.handleRefresh\n      }), showNodataTip === false ? null : /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _KDCardView2[\"default\"]['no-data-card']\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _KDCardView2[\"default\"].zhangwei\n      }), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _KDCardView2[\"default\"]['no-data-container']\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        \"class\": _KDCardView2[\"default\"]['img-item']\n      }), /*#__PURE__*/_react[\"default\"].createElement(\"p\", null, (0, _intlApi.getLangMsg)({\n        key: 'cardview.key0003'\n      })))));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _data$get,\n        _this4 = this,\n        _model$meta;\n      var _this$props13 = this.props,\n        parentModel = _this$props13.parentModel,\n        model = _this$props13.model;\n      var _this$state = this.state,\n        showTopFloatBtn = _this$state.showTopFloatBtn,\n        showBottomFloatBtn = _this$state.showBottomFloatBtn;\n      var dataModel = parentModel || model;\n      var style = (0, _componentutil.getCommonStyle)(model);\n      var commonClass = (0, _componentutil.getCommonClass)(model);\n      var data = dataModel.getDataValue();\n      var items = model.getMetaProperty('items');\n      if (!data || !items) return null;\n      var rows = data.get('rows');\n      var footerRowData = (_data$get = data.get('floatBottomData')) === null || _data$get === void 0 ? void 0 : _data$get.toJS();\n      var seqKey = dataModel.getDataProperty('seqName');\n      var timeStamp = dataModel.getDataProperty([_const.TIME_STAMP_FRESH]);\n      if (items.size === 1 && (!rows || rows.size === 0)) return this.getNoDataCard(); // 没有固定卡片且没有行数据直接返回,开启无数据提示时，显示无数据图片，未开始时，直接返回null\n\n      var isSplitPage = data.get('isSplitPage', true); // 是否分页\n\n      var dataCount = data.get('datacount'); // 所有数据总行数\n      var onScrollFunc = null;\n      if (isSplitPage === true && rows.size < dataCount) {\n        onScrollFunc = function onScrollFunc(e) {\n          return _this4.onScroll(e);\n        };\n        this.isRollLoading = true;\n      }\n      var refreshRun = model.getMetaProperty(_serverproperties.PULL_REFRESH); // 是否刷新\n      if (this.loadingState) {\n        this.loadingState.style.display = 'none';\n      }\n      var cardSelectStatus = this.getCardSelectStatus();\n      // 卡片列表自定义样式放入动态元数据，不能走ComponentDidMount，只能render时判断是否有cstyles动态添加\n      // let customClassName = addCutomStyleToHead(model)\n\n      var isVirtualLoad = dataModel.getMetaProperty('isVirtualLoad') || false;\n      var metaHashCode = ((_model$meta = model.meta) === null || _model$meta === void 0 ? void 0 : _model$meta.hashCode()) || '';\n      var errorIconClz = (0, _classnames2[\"default\"])('kdfont kdfont-zhuangtai_jingshi', _defineProperty({}, _KDCardView2[\"default\"]['error-icon'], true));\n      var cardSize = this.getCardSize() || {};\n      var isListView = model.getMetaProperty('cardtype') === 'listcard';\n      var isShowAggregate = isListView && !cardSelectStatus && footerRowData && footerRowData.length > 0;\n      return /*#__PURE__*/_react[\"default\"].createElement(_ControlValueChangeContextProvider[\"default\"], {\n        pageId: model.pageId,\n        ctrlKeys: this.allCustomControls\n      }, /*#__PURE__*/_react[\"default\"].createElement(_ListCardViewMobile[\"default\"], _extends({\n        className: _KDCardView2[\"default\"].list,\n        ref: this.ref,\n        style: style\n      }, commonClass, {\n        onScroll: onScrollFunc\n      }, this.props.attachData), refreshRun && /*#__PURE__*/_react[\"default\"].createElement(_PullToRefresh[\"default\"], {\n        pageId: model.pageId,\n        timeout: 1000,\n        onRefresh: this.handleRefresh\n      }),\n      // MobileVirtualView里面元素是绝对定位，这里加一个div包起来，避免下面的loading跑到上面去\n      // 宽高设置100%，不用flex去扩展压缩，因为如果是水平布局的话不能按实际的高度撑开，导致会动态设置高度出双滚动条\n      isVirtualLoad ? /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        style: {\n          width: '100%',\n          height: '100%',\n          position: 'relative'\n        }\n      }, /*#__PURE__*/_react[\"default\"].createElement(_MobileVirtualView[\"default\"], {\n        flex: commonClass,\n        options: {\n          direction: _MobileVirtualView.DIRECTION_V,\n          headerRender: this.renderFixedCard(0),\n          footerRender: this.renderFixedCard(-1),\n          refreshFlag: this.selRows.join('') + \"_\".concat(cardSelectStatus) + \"_\".concat(metaHashCode),\n          parentHeight: document.body.clientHeight,\n          itemHeight: cardSize.height || 100,\n          onApi: this.setVirtualViewApi\n        },\n        items: this.getRows(),\n        itemRender: this.itemRender\n      })) : items.map(function (meta, index) {\n        return _this4.getCards(meta, index);\n      }), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        ref: function ref(div) {\n          _this4.loadingState = div;\n        },\n        className: _KDCardView2[\"default\"].loadding,\n        style: {\n          display: 'none'\n        }\n      }), showTopFloatBtn && /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _KDCardView2[\"default\"]['top-float-btn'],\n        onClick: this.handleTopFloatBtnClick\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n        className: errorIconClz\n      })), showBottomFloatBtn && /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _KDCardView2[\"default\"]['bottom-float-btn'],\n        onClick: this.handleBottomFloatBtnClick\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n        className: errorIconClz\n      })), isShowAggregate && /*#__PURE__*/_react[\"default\"].createElement(_Aggregate[\"default\"], {\n        model: dataModel,\n        pageId: dataModel.pageId,\n        id: dataModel.key,\n        footerRowData: footerRowData,\n        postGetSumData: this.postGetSumData,\n        getFieldInfoById: this.getFieldInfoById,\n        seqKey: seqKey,\n        refreshFlag: timeStamp\n      })));\n    }\n  }]);\n  return KDCardView;\n}(_react[\"default\"].Component), _KDCardView.contextTypes = {\n  store: _propTypes[\"default\"].object\n}, _KDCardView)) || _class) || _class); // KDCardView.actions = Object.assign({}, gridaction, mobileAction)\nvar _default = exports[\"default\"] = KDCardView;\nvar CardChunk = exports.CardChunk = /*#__PURE__*/function (_React$Component2) {\n  _inherits(CardChunk, _React$Component2);\n  function CardChunk(props) {\n    var _this5;\n    _classCallCheck(this, CardChunk);\n    _this5 = _callSuper(this, CardChunk, [props]);\n    _this5.state = {\n      operated: false\n    };\n    return _this5;\n  }\n  _createClass(CardChunk, [{\n    key: \"onTouchStart\",\n    value: function onTouchStart(e) {\n      // 如果多点则返回\n      if (this.state.operated || e.touches.length > 1) return;\n      var point = e.touches[0];\n      this.startX = point.pageX;\n      this.startY = point.pageY;\n    }\n  }, {\n    key: \"onTouchMove\",\n    value: function onTouchMove(e) {\n      if (this.state.operated || e.touches.length > 1) return;\n      var point = e.touches[0];\n      this.moveX = point.pageX - this.startX;\n      this.moveY = point.pageY - this.startY;\n    }\n  }, {\n    key: \"onTouchEnd\",\n    value: function onTouchEnd(e) {\n      if (this.state.operated) {\n        this.setState({\n          operated: false\n        });\n      } else {\n        // 当向左滑动大于30px的时候出发滑动\n        if (this.moveX < -30 && Math.abs(this.moveY) <= 15) {\n          this.setState({\n            operated: true\n          });\n        }\n      }\n      this.moveX = 0;\n      this.moveY = 0;\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps() {\n      this.setState({\n        operated: false\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this6 = this;\n      var _this$props14 = this.props,\n        menu = _this$props14.menu,\n        children = _this$props14.children,\n        model = _this$props14.model;\n      if (menu) {\n        var tempModel = model;\n        var items = menu.get('items', (0, _immutable.List)());\n        return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n          className: _KDCardView2[\"default\"].chunk,\n          onTouchStart: function onTouchStart(e) {\n            return _this6.onTouchStart(e);\n          },\n          onTouchEnd: function onTouchEnd(e) {\n            return _this6.onTouchEnd(e);\n          },\n          onTouchMove: function onTouchMove(e) {\n            return _this6.onTouchMove(e);\n          }\n        }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n          className: _KDCardView2[\"default\"].content,\n          style: {\n            marginLeft: this.state.operated ? \"-\".concat(15 * items.size, \"%\") : 0\n          }\n        }, children), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n          className: (0, _classnames2[\"default\"])(_KDCardView2[\"default\"].operation),\n          style: {\n            width: this.state.operated ? \"\".concat(15 * items.size, \"%\") : 0,\n            marginLeft: this.state.operated ? \"-\".concat(15 * items.size, \"%\") : 0\n          }\n        }, items.map(function (meta) {\n          tempModel.meta = meta;\n          return /*#__PURE__*/_react[\"default\"].createElement(BarItem, {\n            key: meta.get('id'),\n            style: (0, _componentutil.getCommonStyle)(tempModel),\n            className: _KDCardView2[\"default\"]['bar-item'],\n            onOperationTap: function onOperationTap(e) {\n              return _this6.props.onOperationTap(meta.get('id'), meta.get('opk', ''));\n            },\n            text: tempModel.getMetaLocaleProperty('text')\n          });\n        })));\n      } else {\n        return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n          className: _KDCardView2[\"default\"].chunk\n        }, children);\n      }\n    }\n  }]);\n  return CardChunk;\n}(_react[\"default\"].Component);\nfunction BarItem(_ref3) {\n  var onOperationTap = _ref3.onOperationTap,\n    text = _ref3.text,\n    style = _ref3.style,\n    className = _ref3.className,\n    other = _objectWithoutProperties(_ref3, _excluded);\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", _extends({\n    className: className,\n    style: style,\n    onClick: function onClick(e) {\n      e.stopPropagation();\n      onOperationTap();\n    }\n  }, other), text);\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/KDCardView.js?");

/***/ }),

/***/ "./src/component/mobile/base/Aggregate.js":
/*!************************************************!*\
  !*** ./src/component/mobile/base/Aggregate.js ***!
  \************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.find-index.js */ \"../../node_modules/core-js/modules/es.array.find-index.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.array.reduce.js */ \"../../node_modules/core-js/modules/es.array.reduce.js\");\n__webpack_require__(/*! core-js/modules/es.array.sort.js */ \"../../node_modules/core-js/modules/es.array.sort.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.timers.js */ \"../../node_modules/core-js/modules/web.timers.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _classnames2 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _gridConst = __webpack_require__(/*! @/constant/gridConst */ \"./src/constant/gridConst.js\");\nvar _memoryCacher = __webpack_require__(/*! @/model/memoryCacher */ \"./src/model/memoryCacher.js\");\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nvar _ControlLoading = _interopRequireDefault(__webpack_require__(/*! ./ControlLoading */ \"./src/component/mobile/base/ControlLoading/index.js\"));\nvar _Dialog = _interopRequireDefault(__webpack_require__(/*! ../Dialog */ \"./src/component/mobile/Dialog.js\"));\nvar _Aggregate = _interopRequireDefault(__webpack_require__(/*! ./Aggregate.less */ \"./src/component/mobile/base/Aggregate.less\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nvar AGGREGATE_STATUS = {\n  init: 0,\n  // 初始状态\n  wait: 1,\n  // 合计请求已发送但是没到200ms还没显示loading\n  loading: 2,\n  // 200ms后 loading\n  completed: 3 // 请求完成\n};\nfunction Aggregate(_ref) {\n  var pageId = _ref.pageId,\n    id = _ref.id,\n    footerRowData = _ref.footerRowData,\n    postGetSumData = _ref.postGetSumData,\n    getFieldInfoById = _ref.getFieldInfoById,\n    seqKey = _ref.seqKey,\n    refreshFlag = _ref.refreshFlag;\n  var _useState = (0, _react.useState)(AGGREGATE_STATUS.init),\n    _useState2 = _slicedToArray(_useState, 2),\n    aggregateStatus = _useState2[0],\n    setAggregateStatus = _useState2[1];\n  var _useState3 = (0, _react.useState)(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    showDetailDialog = _useState4[0],\n    setShowDetailDialog = _useState4[1]; // 显示详情\n  var loaddingTimerId = (0, _react.useRef)(null);\n  var resetAggregateStatus = function resetAggregateStatus() {\n    setAggregateStatus(AGGREGATE_STATUS.init);\n    setShowDetailDialog(false);\n    loaddingTimerId.current && clearTimeout(loaddingTimerId.current);\n  };\n\n  // 数据刷新时重新计算合计\n  (0, _react.useEffect)(function () {\n    resetAggregateStatus();\n  }, [refreshFlag]);\n\n  // 监听设置合计值的指令\n  (0, _react.useEffect)(function () {\n    var callback = function callback(data) {\n      // const { success } = data || {}\n      loaddingTimerId.current && clearTimeout(loaddingTimerId.current);\n      setAggregateStatus(AGGREGATE_STATUS.completed);\n    };\n    var getSumDataListenHandle = (0, _memoryCacher.addDataChangeListener)(pageId, [id, _gridConst.SET_FLOAT_BUTTOM_DATA_DONE], callback);\n\n    // 后端指令重置合计状态\n    var removeTotalStateHandler = (0, _memoryCacher.addDataChangeListener)(pageId, [id, _gridConst.RESET_TOTAL_STATUS_DATA], resetAggregateStatus);\n    return function cleanup() {\n      getSumDataListenHandle();\n      removeTotalStateHandler();\n    };\n  }, [pageId, id]);\n  var aggregateTitleName = (0, _react.useMemo)(function () {\n    var name = '';\n    footerRowData.forEach(function (row) {\n      if (row[seqKey]) {\n        name = row[seqKey];\n      }\n    });\n    return name;\n  }, [footerRowData]);\n\n  // 根据字段维度从合计数据里面提取字段合计值\n  var aggregateData = (0, _react.useMemo)(function () {\n    var data = footerRowData.reduce(function (result, row) {\n      Object.keys(row).forEach(function (fieldId) {\n        var _getFieldInfoById = getFieldInfoById(fieldId),\n          fieldName = _getFieldInfoById.fieldName,\n          index = _getFieldInfoById.index;\n        if (index === -1 || fieldName === seqKey) return;\n        var value = row[fieldId];\n\n        // 判断是否是多币别值\n        var isMultiCurrencyValue = _typeof(row) === 'object' && value !== null && value.val != null;\n        var multiCurrencyValueIndex = isMultiCurrencyValue ? result.findIndex(function (item) {\n          return item.id === fieldId;\n        }) : -1;\n        if (isMultiCurrencyValue && multiCurrencyValueIndex >= 0) {\n          result[multiCurrencyValueIndex].value.push(value);\n        } else {\n          var item = {\n            id: fieldId,\n            fieldName: fieldName,\n            value: isMultiCurrencyValue ? [value] : value,\n            isMultiCurrencyValue: isMultiCurrencyValue,\n            index: index\n          };\n          result.push(item);\n        }\n      });\n      return result;\n    }, []);\n\n    // 按字段顺序排序\n    data.sort(function (a, b) {\n      return a.index - b.index;\n    });\n    return data;\n  }, [footerRowData]);\n  var handleGetAggregate = function handleGetAggregate() {\n    if (aggregateStatus !== AGGREGATE_STATUS.init) return;\n    postGetSumData();\n    setAggregateStatus(AGGREGATE_STATUS.wait);\n    loaddingTimerId.current && clearTimeout(loaddingTimerId.current);\n    loaddingTimerId.current = setTimeout(function () {\n      setAggregateStatus(AGGREGATE_STATUS.loading);\n    }, 200);\n  };\n  var handleShowDetail = function handleShowDetail() {\n    if (aggregateStatus === AGGREGATE_STATUS.completed) {\n      setShowDetailDialog(true);\n    }\n  };\n  var getTitle = function getTitle() {\n    if (aggregateStatus === AGGREGATE_STATUS.loading) return (0, _intlApi.getLangMsg)('cardview.key0008');\n    return aggregateStatus === AGGREGATE_STATUS.completed ? aggregateTitleName : (0, _intlApi.getLangMsg)('cardview.key0007');\n  };\n  var getAggregateContent = function getAggregateContent() {\n    return aggregateData.map(function (item, index) {\n      var result = '';\n      var isMultiCurrencyValue = item.isMultiCurrencyValue,\n        value = item.value,\n        fieldName = item.fieldName;\n      var title = fieldName ? \"\".concat(fieldName, \"\\uFF1A\") : '';\n      if (isMultiCurrencyValue) {\n        result += value.reduce(function (string, item, index) {\n          var val = item.val,\n            ab = item.ab; // val为合计值，ab为币别\n          string += ab ? \"\".concat(ab, \" \").concat(val) : \"\".concat(val);\n          if (index !== value.length) {\n            string += '；';\n          }\n          return string;\n        }, '');\n      } else {\n        result += value;\n      }\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _Aggregate[\"default\"]['aggregate-content-item'],\n        key: index\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n        className: _Aggregate[\"default\"]['aggregate-content-item-title']\n      }, title), /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n        className: _Aggregate[\"default\"]['aggregate-content-item-value']\n      }, result));\n    });\n  };\n  var detailIconClassName = (0, _classnames2[\"default\"])('kdfont kdfont-jinru', _Aggregate[\"default\"]['show-detail-icon']);\n  var titleClassName = (0, _classnames2[\"default\"])(_defineProperty(_defineProperty(_defineProperty(_defineProperty({}, _Aggregate[\"default\"]['aggregate-title'], true), _Aggregate[\"default\"]['aggregate-loading-text'], aggregateStatus === AGGREGATE_STATUS.loading), _Aggregate[\"default\"]['aggregate-completed-text'], aggregateStatus === AGGREGATE_STATUS.completed), _Aggregate[\"default\"]['theme-color'], aggregateStatus === AGGREGATE_STATUS.init));\n  var loadingParams = {\n    showLoading: true\n  };\n  var loadingPositionStyle = {\n    left: '8px'\n  };\n  return /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, null, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _Aggregate[\"default\"]['aggregate-container'],\n    onClick: handleShowDetail\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _Aggregate[\"default\"]['aggregate-title-area'],\n    onClick: handleGetAggregate\n  }, aggregateStatus === AGGREGATE_STATUS.loading ? /*#__PURE__*/_react[\"default\"].createElement(_ControlLoading[\"default\"], {\n    loading: loadingParams,\n    positionStyle: loadingPositionStyle\n  }) : null, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: titleClassName\n  }, getTitle())), aggregateStatus === AGGREGATE_STATUS.completed ? /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _Aggregate[\"default\"]['aggregate-content-area']\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _Aggregate[\"default\"]['aggregate-content']\n  }, getAggregateContent()), /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n    className: detailIconClassName\n  })) : null), showDetailDialog && /*#__PURE__*/_react[\"default\"].createElement(_Dialog[\"default\"], {\n    visible: showDetailDialog,\n    maskCloseable: true,\n    zIndex: 1051,\n    onClose: function onClose() {\n      return setShowDetailDialog(false);\n    }\n  }, /*#__PURE__*/_react[\"default\"].createElement(AggregateDetail, {\n    aggregateTitleName: aggregateTitleName,\n    aggregateData: aggregateData,\n    onClose: function onClose() {\n      return setShowDetailDialog(false);\n    }\n  })));\n}\nfunction AggregateDetail(_ref2) {\n  var aggregateTitleName = _ref2.aggregateTitleName,\n    aggregateData = _ref2.aggregateData,\n    onClose = _ref2.onClose;\n  var detailItems = aggregateData.reduce(function (result, item) {\n    var isMultiCurrencyValue = item.isMultiCurrencyValue,\n      value = item.value,\n      fieldName = item.fieldName;\n    if (isMultiCurrencyValue) {\n      result.push( /*#__PURE__*/_react[\"default\"].createElement(MultiCurrencyDetailItem, {\n        title: fieldName,\n        value: value\n      }));\n    } else {\n      result.push( /*#__PURE__*/_react[\"default\"].createElement(DetailItem, {\n        title: fieldName,\n        value: value\n      }));\n    }\n    return result;\n  }, []);\n  var closeIconClassName = (0, _classnames2[\"default\"])('kdfont kdfont-guanbi6', _Aggregate[\"default\"]['aggregate-detail-close-icon']);\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _Aggregate[\"default\"]['aggregate-detail']\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _Aggregate[\"default\"]['aggregate-detail-title-area']\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: _Aggregate[\"default\"]['aggregate-detail-title']\n  }, aggregateTitleName), /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n    className: closeIconClassName,\n    onClick: onClose\n  })), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _Aggregate[\"default\"]['aggregate-detail-content']\n  }, detailItems));\n}\nfunction DetailItem(_ref3) {\n  var title = _ref3.title,\n    value = _ref3.value;\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _Aggregate[\"default\"]['aggregate-detail-item']\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _Aggregate[\"default\"]['item-title']\n  }, title), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _Aggregate[\"default\"]['item-value']\n  }, value));\n}\nfunction MultiCurrencyDetailItem(_ref4) {\n  var title = _ref4.title,\n    value = _ref4.value;\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _Aggregate[\"default\"]['mul-currency-aggregate-detail-item']\n  }, value.map(function (item, index) {\n    var val = item.val,\n      ab = item.ab; // val为合计值，ab为币别\n    var content = ab ? \"\".concat(ab, \" \").concat(val) : val;\n    var itemTitle = index === 0 ? title : '';\n    return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _Aggregate[\"default\"]['mul-currency-item'],\n      key: index\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _Aggregate[\"default\"]['item-title']\n    }, itemTitle), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _Aggregate[\"default\"]['item-value']\n    }, content));\n  }));\n}\nvar _default = exports[\"default\"] = Aggregate;\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/base/Aggregate.js?");

/***/ }),

/***/ "./src/component/mobile/base/CardField.js":
/*!************************************************!*\
  !*** ./src/component/mobile/base/CardField.js ***!
  \************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\n__webpack_require__(/*! core-js/modules/es.string.link.js */ \"../../node_modules/core-js/modules/es.string.link.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _reactDom = _interopRequireDefault(__webpack_require__(/*! react-dom */ \"webpack/sharing/consume/default/react-dom/react-dom?418d\"));\nvar _propTypes = _interopRequireDefault(__webpack_require__(/*! prop-types */ \"../../node_modules/prop-types/index.js\"));\nvar _classnames9 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _CardField2 = _interopRequireDefault(__webpack_require__(/*! ./CardField.less */ \"./src/component/mobile/base/CardField.less\"));\nvar _commonUtils = _interopRequireDefault(__webpack_require__(/*! ../../common/commonUtils */ \"./src/component/common/commonUtils.js\"));\nvar _Popup = _interopRequireDefault(__webpack_require__(/*! ./Popup */ \"./src/component/mobile/base/Popup/index.js\"));\nvar _TouchFeedback = __webpack_require__(/*! ./TouchFeedback */ \"./src/component/mobile/base/TouchFeedback/index.js\");\nvar _intlApi = __webpack_require__(/*! ../../../i18n/intlApi */ \"./src/i18n/intlApi.js\");\nvar _FieldItem = __webpack_require__(/*! ./FieldItem */ \"./src/component/mobile/base/FieldItem.js\");\nvar _PrivacyIcon = _interopRequireDefault(__webpack_require__(/*! ../baseCardField/PrivacyIcon */ \"./src/component/mobile/baseCardField/PrivacyIcon.js\"));\nvar _grid = __webpack_require__(/*! @/util/component/grid */ \"./src/util/component/grid.js\");\nvar _serverproperties = __webpack_require__(/*! @/constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _fieldConst = __webpack_require__(/*! @/constant/fieldConst */ \"./src/constant/fieldConst.js\");\nvar _CardFieldUtil = __webpack_require__(/*! @/util/CardFieldUtil */ \"./src/util/CardFieldUtil.js\");\nvar _excluded = [\"isNewline\", \"type\", \"style\", \"className\", \"showTitle\", \"title\", \"value\", \"Direction\", \"Wrap\", \"Overflow\", \"Grow\", \"Shrink\", \"AlignSelf\", \"isLink\", \"titleStyle\", \"editOption\", \"lock\", \"isLineWrap\", \"multiLine\", \"fieldStyle\", \"mustInput\", \"mobFieldStyle\", \"showStyle\", \"isListField\", \"formStatus\", \"onGetPrivateProps\", \"validateData\", \"labelDirection\", \"valueAreaStyle\", \"showCount\", \"totalNumber\", \"currentNumber\"];\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); } /**\n * 列表-卡片字段\n */ // import { FIELD_STYLE } from '@/constant/serverproperties'\nvar CardField = /*#__PURE__*/function (_React$Component) {\n  _inherits(CardField, _React$Component);\n  function CardField(props) {\n    var _this;\n    _classCallCheck(this, CardField);\n    _this = _callSuper(this, CardField, [props]);\n    _this.handleCancel = function () {\n      _this.setState({\n        showPopupView: false\n      });\n    };\n    _this.handleSetVisible = function (e) {\n      e.stopPropagation();\n      e.preventDefault();\n      _this.setState({\n        showPopupView: true\n      });\n    };\n    _this.getValidateBoxStyle = function () {\n      var _this$valueAreaRef$cu;\n      var editOption = _this.props.editOption;\n      var showValidateBox = _this.isShowValidateMsg();\n      if (!showValidateBox) return {};\n      var style = {\n        width: (_this$valueAreaRef$cu = _this.valueAreaRef.current) === null || _this$valueAreaRef$cu === void 0 ? void 0 : _this$valueAreaRef$cu.offsetWidth,\n        textAlign: editOption.get(_serverproperties.TEXT_ALIGN)\n      };\n      return style;\n    };\n    _this.isShowValidateMsg = function () {\n      var _this$props = _this.props,\n        validateData = _this$props.validateData,\n        isNotNullMsg = _this$props.isNotNullMsg,\n        mobFieldStyle = _this$props.mobFieldStyle,\n        type = _this$props.type;\n      return !!validateData && (!isNotNullMsg || _fieldConst.NEED_SHOW_VAL_TYPES.includes(type)) && mobFieldStyle === 1;\n    };\n    _this.state = {\n      showPopupView: false\n    };\n    _this.fieldDomRef = /*#__PURE__*/_react[\"default\"].createRef();\n    _this.valueAreaRef = /*#__PURE__*/_react[\"default\"].createRef();\n    return _this;\n  }\n  _createClass(CardField, [{\n    key: \"render\",\n    value: function render() {\n      var _classnames, _classnames2, _this$props$valueArr, _this$props$valueArr$, _this$props$valueArr$2;\n      var _this$props2 = this.props,\n        isNewline = _this$props2.isNewline,\n        type = _this$props2.type,\n        style = _this$props2.style,\n        className = _this$props2.className,\n        showTitle = _this$props2.showTitle,\n        title = _this$props2.title,\n        value = _this$props2.value,\n        Direction = _this$props2.Direction,\n        Wrap = _this$props2.Wrap,\n        Overflow = _this$props2.Overflow,\n        Grow = _this$props2.Grow,\n        Shrink = _this$props2.Shrink,\n        AlignSelf = _this$props2.AlignSelf,\n        isLink = _this$props2.isLink,\n        _this$props2$titleSty = _this$props2.titleStyle,\n        titleStyle = _this$props2$titleSty === void 0 ? {} : _this$props2$titleSty,\n        editOption = _this$props2.editOption,\n        lock = _this$props2.lock,\n        isLineWrap = _this$props2.isLineWrap,\n        _this$props2$multiLin = _this$props2.multiLine,\n        multiLine = _this$props2$multiLin === void 0 ? false : _this$props2$multiLin,\n        _this$props2$fieldSty = _this$props2.fieldStyle,\n        fieldStyle = _this$props2$fieldSty === void 0 ? 0 : _this$props2$fieldSty,\n        mustInput = _this$props2.mustInput,\n        _this$props2$mobField = _this$props2.mobFieldStyle,\n        mobFieldStyle = _this$props2$mobField === void 0 ? 0 : _this$props2$mobField,\n        showStyle = _this$props2.showStyle,\n        _this$props2$isListFi = _this$props2.isListField,\n        isListField = _this$props2$isListFi === void 0 ? false : _this$props2$isListFi,\n        formStatus = _this$props2.formStatus,\n        onGetPrivateProps = _this$props2.onGetPrivateProps,\n        validateData = _this$props2.validateData,\n        labelDirection = _this$props2.labelDirection,\n        valueAreaStyle = _this$props2.valueAreaStyle,\n        showCount = _this$props2.showCount,\n        totalNumber = _this$props2.totalNumber,\n        currentNumber = _this$props2.currentNumber,\n        other = _objectWithoutProperties(_this$props2, _excluded);\n      var showValidateBox = this.isShowValidateMsg();\n      // const fieldStyle = editOption && editOption.get(FIELD_STYLE)\n      if (!Overflow && typeof value === 'string' || type === 'radio') {\n        Overflow = 'hidden';\n      }\n      var _onGetPrivateProps = onGetPrivateProps(),\n        isShowPrivacyEye = _onGetPrivateProps.isShowPrivacyEye,\n        onUpdatePrivacyText = _onGetPrivateProps.onUpdatePrivacyText;\n      var isView = (0, _FieldItem.isViewStatus)({\n        formStatus: formStatus,\n        mobFieldStyle: mobFieldStyle\n      });\n      var labelWidth = titleStyle.width;\n      var labelTextAlign = titleStyle.textAlign;\n      var labelStyle = Object.assign({}, titleStyle);\n      delete labelStyle.width;\n      // 标题样式 v 垂直， h 水平\n      var isVerticalLabel = labelDirection === 'v';\n      var classNames = (0, _classnames9[\"default\"])((_classnames = {}, _defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_classnames, _CardField2[\"default\"].field, mobFieldStyle === 0), _CardField2[\"default\"]['text-align-baseline'], mobFieldStyle === 0 && ['number', 'date', 'datetime', 'daterange', 'time', 'timerange'].includes(type)), _CardField2[\"default\"]['field-CT'], mobFieldStyle === 1), _CardField2[\"default\"].radio, type === 'radio' && fieldStyle !== 1), _CardField2[\"default\"].radioline, type === 'radio' && fieldStyle === 0), _CardField2[\"default\"].normal, type && !(type === 'radio' && fieldStyle === 1) && type !== 'checkbox' && type !== 'stepper' && !(type === 'picture' && !showTitle)), _CardField2[\"default\"]['checkbox-switch'], type === 'checkbox' && showStyle === 0 || type === 'stepper'), _CardField2[\"default\"]['checkbox-option'], type === 'checkbox' && (showStyle === 2 || showStyle === 3)), _CardField2[\"default\"]['is-view-title'], isView && lock), _CardField2[\"default\"]['show-validate-box'], showValidateBox), _defineProperty(_defineProperty(_classnames, className, className), _CardField2[\"default\"]['field-labelVertical'], showTitle && isVerticalLabel)), (0, _commonUtils[\"default\"])({\n        Direction: Direction,\n        Wrap: Wrap,\n        Overflow: Overflow,\n        Grow: Grow,\n        Shrink: Shrink,\n        AlignSelf: AlignSelf\n      }));\n      var isTextarea = type && (type === 'textarea' || type === 'largeText');\n      var isPcture = type && type === 'picture';\n      var isMulLang = type && type === 'localeText' && multiLine === true;\n      var isWrapText = type && type === 'text' && isLineWrap; // 文本字段自动换行\n      var isButtonField = type && (type === 'stepper' || type === 'checkbox'); // 步进器／复选框字段默认显示在字段尾部\n\n      var valueClassNames = (0, _classnames9[\"default\"])((_classnames2 = {}, _defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_classnames2, _CardField2[\"default\"][typeof value === 'string' ? 'text-value' : 'value'], true), _CardField2[\"default\"]['text-value-color'], !lock), _CardField2[\"default\"]['textarea-wrapper'], isTextarea || isMulLang || isWrapText), _CardField2[\"default\"][style.textAlign], style.textAlign), _CardField2[\"default\"]['text-omit'], !isNewline), _CardField2[\"default\"]['text-wordwrap'], isNewline), _CardField2[\"default\"].link, isLink && !lock), _CardField2[\"default\"]['value-disabled'], lock && !isView), _CardField2[\"default\"].justifyContentEnd, isButtonField && !isVerticalLabel), _CardField2[\"default\"].listfieldval, isListField), _defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_classnames2, _CardField2[\"default\"]['is-view-value'], isView && lock), _CardField2[\"default\"]['textarea-fold-wrapper'], lock && type && type === 'textarea'), _CardField2[\"default\"].underline, !_fieldConst.WITHOUTUNDERLINE.includes(type) && isVerticalLabel && showTitle && valueAreaStyle === 'underline'), _CardField2[\"default\"].border, !_fieldConst.WITHOUTBORDER.includes(type) && isVerticalLabel && showTitle && valueAreaStyle === 'border'), _CardField2[\"default\"]['red-border'], !!validateData), _CardField2[\"default\"]['textarea-show-count'], showCount), _CardField2[\"default\"]['attachment-card-field'], type === 'attachmentfield'), _CardField2[\"default\"]['text-combo'], type === 'combo')));\n      var mustCT = (0, _classnames9[\"default\"])(_defineProperty({}, _CardField2[\"default\"].must, true));\n      var valueStyle = (0, _CardFieldUtil.getValueStyle)({\n        value: value,\n        style: this.props.valueStyle,\n        type: type,\n        editOption: editOption\n      });\n      var titleClassNames = (0, _classnames9[\"default\"])(_defineProperty(_defineProperty(_defineProperty(_defineProperty({}, _CardField2[\"default\"].title, true), _CardField2[\"default\"].disabled, lock && !isView), _CardField2[\"default\"].listfieldtitle, isListField), _CardField2[\"default\"]['title-vertical'], isVerticalLabel));\n      var textAlignClass = _CardField2[\"default\"]['label-text-' + labelTextAlign];\n      var titlebox = (0, _classnames9[\"default\"])(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty({}, _CardField2[\"default\"].titlebox, true), _CardField2[\"default\"].notmustInput, title), textAlignClass, textAlignClass), _CardField2[\"default\"]['label-width'], !labelWidth && mobFieldStyle === 1 && !isVerticalLabel), _CardField2[\"default\"].textarealabel, (isTextarea || isPcture) && mobFieldStyle === 1), _CardField2[\"default\"].listhascolon, isListField && showTitle && title && title.indexOf('：') === title.length - 1), _CardField2[\"default\"].titleTop, mobFieldStyle === 1), _CardField2[\"default\"]['label-vertical'], isVerticalLabel));\n      var iconClass = (0, _classnames9[\"default\"])(_defineProperty(_defineProperty({}, _CardField2[\"default\"]['privacy-icon'], true), _CardField2[\"default\"]['privacy-icon-list'], isListField === true));\n      var maskClass = (0, _classnames9[\"default\"])(_defineProperty(_defineProperty({}, _CardField2[\"default\"]['textarea-count'], true), _CardField2[\"default\"]['textarea-count-over'], !isNaN(currentNumber) && currentNumber >= totalNumber));\n      var validateBoxClass = (0, _classnames9[\"default\"])(_CardField2[\"default\"]['validate-box'], _defineProperty({}, _CardField2[\"default\"].fontSizeInherit, ['radiooptgroup', 'checkboxgroup'].includes(type)));\n      var countNode = /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: maskClass\n      }, currentNumber, \"/\", totalNumber);\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", _extends({\n        className: classNames\n      }, other, {\n        style: style,\n        \"data-validate\": !!validateData\n      }), showTitle && /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: titlebox,\n        style: {\n          width: labelWidth\n        }\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n        className: titleClassNames,\n        style: labelStyle\n      }, title || ''), !lock && mustInput ? /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: mustCT\n      }, \"*\") : null), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        ref: this.valueAreaRef,\n        className: valueClassNames,\n        title: title,\n        style: valueStyle\n      }, value, isTextarea && showCount && countNode), isShowPrivacyEye && /*#__PURE__*/_react[\"default\"].createElement(_PrivacyIcon[\"default\"], {\n        onUpdatePrivacyText: onUpdatePrivacyText,\n        iconClass: iconClass,\n        ref: this.fieldDomRef\n      }), this.props.type === 'mulbasedata' && editOption.get('lockViewSelected') && lock && ((_this$props$valueArr = this.props.valueArr) === null || _this$props$valueArr === void 0 ? void 0 : _this$props$valueArr.length) > 0 && !isLineWrap && /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _CardField2[\"default\"]['text-check-button'],\n        onClick: this.handleSetVisible\n      }, \"\\u67E5\\u770B\"), showValidateBox && /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        style: this.getValidateBoxStyle(),\n        className: validateBoxClass\n      }, validateData), this.props.type === 'mulbasedata' && /*#__PURE__*/_reactDom[\"default\"].createPortal( /*#__PURE__*/_react[\"default\"].createElement(CardFieldDataPopup, {\n        show: this.state.showPopupView,\n        renderItems: (_this$props$valueArr$ = this.props.valueArr[0]) === null || _this$props$valueArr$ === void 0 ? void 0 : _this$props$valueArr$.split('；'),\n        onCancel: this.handleCancel,\n        leftTitle: (_this$props$valueArr$2 = this.props.valueArr[0]) === null || _this$props$valueArr$2 === void 0 || (_this$props$valueArr$2 = _this$props$valueArr$2.split('；')) === null || _this$props$valueArr$2 === void 0 ? void 0 : _this$props$valueArr$2.length\n      }), document.body));\n    }\n  }]);\n  return CardField;\n}(_react[\"default\"].Component);\nvar CardFieldDataPopup = function CardFieldDataPopup(_ref) {\n  var show = _ref.show,\n    renderItems = _ref.renderItems,\n    onCancel = _ref.onCancel,\n    leftTitle = _ref.leftTitle;\n  var CustomHeader = function CustomHeader(_ref2) {\n    var onCancel = _ref2.onCancel,\n      title = _ref2.title;\n    return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: (0, _classnames9[\"default\"])(_CardField2[\"default\"]['select-popup-header'], _CardField2[\"default\"]['border-buttom-1px'])\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _CardField2[\"default\"].title\n    }, (0, _intlApi.getLangMsg)({\n      key: 'CardField.key0001',\n      variables: {\n        title: title\n      }\n    })), /*#__PURE__*/_react[\"default\"].createElement(_TouchFeedback.TouchFeedback, {\n      activeClassName: _CardField2[\"default\"]['popup-header-btn-active']\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: \"kdfont kdfont-guanbi6 \".concat(_CardField2[\"default\"]['popup-header-cancel']),\n      onClick: onCancel\n    })));\n  };\n  return /*#__PURE__*/_react[\"default\"].createElement(_Popup[\"default\"], {\n    key: \"popup_BaseData\",\n    show: show,\n    title: leftTitle,\n    className: _CardField2[\"default\"]['popup-baseData'],\n    onCancel: onCancel,\n    header: CustomHeader\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _CardField2[\"default\"]['select-popup-content']\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"ul\", {\n    className: _CardField2[\"default\"].list\n  }, renderItems === null || renderItems === void 0 ? void 0 : renderItems.map(function (item) {\n    return /*#__PURE__*/_react[\"default\"].createElement(_TouchFeedback.TouchFeedback, {\n      activeClassName: _CardField2[\"default\"]['popup-header-btn-active'],\n      key: item\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"li\", null, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n      className: _CardField2[\"default\"].textOverflow\n    }, item)));\n  }))));\n};\nCardField.propTypes = {\n  style: _propTypes[\"default\"].object,\n  className: _propTypes[\"default\"].string,\n  showTitle: _propTypes[\"default\"].bool,\n  title: _propTypes[\"default\"].string,\n  value: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].number, _propTypes[\"default\"].element]),\n  cssClass: _propTypes[\"default\"].object\n};\nvar _default = exports[\"default\"] = CardField;\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/base/CardField.js?");

/***/ }),

/***/ "./src/component/mobile/baseCardField/AddressField.jsx":
/*!*************************************************************!*\
  !*** ./src/component/mobile/baseCardField/AddressField.jsx ***!
  \*************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.get.js */ \"../../node_modules/core-js/modules/es.reflect.get.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _BaseField2 = _interopRequireDefault(__webpack_require__(/*! ./BaseField */ \"./src/component/mobile/baseCardField/BaseField.jsx\"));\nvar _fieldaction = __webpack_require__(/*! @/action/fieldaction */ \"./src/action/fieldaction.js\");\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _get() { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar AddressField = exports[\"default\"] = /*#__PURE__*/function (_BaseField) {\n  _inherits(AddressField, _BaseField);\n  function AddressField() {\n    _classCallCheck(this, AddressField);\n    return _callSuper(this, AddressField, arguments);\n  }\n  _createClass(AddressField, [{\n    key: \"handleAddressClick\",\n    value: function handleAddressClick() {\n      var _this$props = this.props,\n        model = _this$props.model,\n        dispatch = _this$props.dispatch;\n      dispatch((0, _fieldaction.showAddressModal)(model));\n    }\n  }, {\n    key: \"getThisField\",\n    value: function getThisField() {\n      var value = this.getInitialValue(); // 父方法\n      var inputStyle = this.getInputStyle(); // 父方法\n      var inputProps = this.getInputProps(); // 父方法\n      var addressValue = value;\n      if (_immutable.List.isList(value) && value.get(1)) {\n        addressValue = value.get(1);\n      }\n      return this.renderTextValue(addressValue, inputStyle, inputProps.placeholder, {\n        type: 'address'\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return _get(_getPrototypeOf(AddressField.prototype), \"render\", this).call(this);\n    }\n  }]);\n  return AddressField;\n}(_BaseField2[\"default\"]);\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/baseCardField/AddressField.jsx?");

/***/ }),

/***/ "./src/component/mobile/baseCardField/AdmindivisionField.jsx":
/*!*******************************************************************!*\
  !*** ./src/component/mobile/baseCardField/AdmindivisionField.jsx ***!
  \*******************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.get.js */ \"../../node_modules/core-js/modules/es.reflect.get.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _KDAdminDivision = _interopRequireDefault(__webpack_require__(/*! ../KDAdminDivision */ \"./src/component/mobile/KDAdminDivision.js\"));\nvar _BaseField2 = _interopRequireDefault(__webpack_require__(/*! ./BaseField */ \"./src/component/mobile/baseCardField/BaseField.jsx\"));\nvar _componentutil = __webpack_require__(/*! @/util/componentutil */ \"./src/util/componentutil.js\");\nvar _gridaction = __webpack_require__(/*! @/action/gridaction */ \"./src/action/gridaction.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _get() { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar AdminDivisionField = exports[\"default\"] = /*#__PURE__*/function (_BaseField) {\n  _inherits(AdminDivisionField, _BaseField);\n  function AdminDivisionField(props) {\n    var _this;\n    _classCallCheck(this, AdminDivisionField);\n    _this = _callSuper(this, AdminDivisionField, [props]);\n    _this.queryAllCountriesMobile = function () {\n      _this.query('getCountrysByFirstLetterForMobile', null);\n    };\n    _this.queryProvincesAndTitlesMobile = function (model, countryKey, rowKeyVal) {\n      _this.query('getProincesByCountryIdForMobile', [countryKey, rowKeyVal]);\n    };\n    _this.queryAdminDivisionInfo = function (model, adminId, rowKeyVal) {\n      _this.query('getAdminDivisionInfo', [adminId, rowKeyVal]);\n    };\n    _this.queryAdminDivisionByParentId = function (model, parentId, rowKeyVal) {\n      _this.query('getAdminDivisionsByParentId', [parentId, rowKeyVal]);\n    };\n    return _this;\n  }\n  _createClass(AdminDivisionField, [{\n    key: \"query\",\n    value: function query(methodName, param) {\n      var _this$props = this.props,\n        model = _this$props.model,\n        gridKey = _this$props.gridKey,\n        dispatch = _this$props.dispatch;\n      var _model = {\n        pageId: model.pageId,\n        entryKey: gridKey,\n        key: model.key\n      };\n      dispatch((0, _gridaction.invokeControlMethodOnly)(_model, methodName, param || []));\n    }\n  }, {\n    key: \"getThisField\",\n    value: function getThisField() {\n      var _this2 = this;\n      var _this$props2 = this.props,\n        data = _this$props2.data,\n        rowKey = _this$props2.rowKey,\n        option = _this$props2.option,\n        model = _this$props2.model,\n        noValue = _this$props2.noValue,\n        dispatch = _this$props2.dispatch;\n      var _rowKey = option.get(rowKey);\n      var rowKeyVal = data.get(_rowKey);\n      var inputStyle = this.getInputStyle();\n      var inputProps = this.getInputProps();\n      return /*#__PURE__*/_react[\"default\"].createElement(_KDAdminDivision[\"default\"], {\n        model: model,\n        value: inputProps.value,\n        dispatch: dispatch,\n        handleChange: function handleChange(value) {\n          return _this2.handleEditChange(value);\n        },\n        shouldRespondADMethod: function shouldRespondADMethod(args, methodName) {\n          return (0, _componentutil.shouldRespondADMethod)(args, methodName, rowKeyVal);\n        },\n        style: inputStyle,\n        placeholder: inputProps.placeholder,\n        disabled: inputProps.readOnly,\n        theme: inputProps.theme,\n        hide: inputProps.hide,\n        mobFieldStyle: inputProps.mobFieldStyle,\n        noValue: noValue,\n        queryAllCountriesMobile: this.queryAllCountriesMobile,\n        queryProvincesAndTitlesMobile: function queryProvincesAndTitlesMobile(model, countryKey) {\n          _this2.queryProvincesAndTitlesMobile(model, countryKey, rowKeyVal);\n        },\n        queryAdminDivisionInfo: function queryAdminDivisionInfo(model, adminId) {\n          _this2.queryAdminDivisionInfo(model, adminId, rowKeyVal);\n        },\n        queryAdminDivisionByParentId: function queryAdminDivisionByParentId(model, parentId) {\n          _this2.queryAdminDivisionByParentId(model, parentId, rowKeyVal);\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return _get(_getPrototypeOf(AdminDivisionField.prototype), \"render\", this).call(this);\n    }\n  }]);\n  return AdminDivisionField;\n}(_BaseField2[\"default\"]);\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/baseCardField/AdmindivisionField.jsx?");

/***/ }),

/***/ "./src/component/mobile/baseCardField/AttachmentPanelField.jsx":
/*!*********************************************************************!*\
  !*** ./src/component/mobile/baseCardField/AttachmentPanelField.jsx ***!
  \*********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _componentutil = __webpack_require__(/*! ../../../util/componentutil */ \"./src/util/componentutil.js\");\nvar _client = __webpack_require__(/*! @/action/actionname/global/system/client */ \"./src/action/actionname/global/system/client/index.js\");\nvar _attachmentpanelaction = __webpack_require__(/*! @/action/attachmentpanelaction */ \"./src/action/attachmentpanelaction.js\");\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _BaseField2 = _interopRequireDefault(__webpack_require__(/*! ./BaseField */ \"./src/component/mobile/baseCardField/BaseField.jsx\"));\nvar _Attachment = _interopRequireDefault(__webpack_require__(/*! @/component/mobile/base/Attachment */ \"./src/component/mobile/base/Attachment/index.js\"));\nvar _CardField = _interopRequireDefault(__webpack_require__(/*! ../base/CardField */ \"./src/component/mobile/base/CardField.js\"));\nvar _attachmentUtils = __webpack_require__(/*! @/util/attachmentUtils */ \"./src/util/attachmentUtils.js\");\nvar _attachmentConst = __webpack_require__(/*! @/constant/attachmentConst */ \"./src/constant/attachmentConst.js\");\nvar _action = __webpack_require__(/*! @/action/action */ \"./src/action/action.js\");\nvar _serverproperties = __webpack_require__(/*! @/constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _imageUtil = __webpack_require__(/*! @/util/imageUtil */ \"./src/util/imageUtil.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar AttachmentPanelField = exports[\"default\"] = /*#__PURE__*/function (_BaseField) {\n  _inherits(AttachmentPanelField, _BaseField);\n  function AttachmentPanelField(props) {\n    var _this;\n    _classCallCheck(this, AttachmentPanelField);\n    _this = _callSuper(this, AttachmentPanelField, [props]);\n    _this.beforeUpload = function (attachment) {\n      _this.props.dispatch && _this.props.dispatch((0, _attachmentpanelaction.beforeUpload)(_this.props.model, attachment));\n    };\n    _this.beforeRemove = function (attachment) {\n      _this.props.dispatch && _this.props.dispatch((0, _attachmentpanelaction.comfirmDelete)(_this.props.model, attachment));\n    };\n    _this.uploadFile = function (files) {\n      _this.handleEditChange(files, true);\n    };\n    _this.uploadFailed = function (attachment) {\n      _this.props.dispatch && _this.props.dispatch((0, _attachmentpanelaction.reportUploadResult)(_this.props.model, attachment));\n    };\n    _this.attachOperationCount = function (args) {\n      _this.props.dispatch && _this.props.dispatch((0, _attachmentpanelaction.attachOperationCount)(_this.props.model, args));\n    };\n    _this.renameFile = function (args) {\n      _this.props.dispatch && _this.props.dispatch((0, _attachmentpanelaction.rename)(_this.props.model, args));\n    };\n    _this.removeFile = function (files) {\n      _this.handleEditChange(files, true);\n    };\n    // 自定义操作按钮点击事件\n    _this.handleAttachOperaClick = function (args) {\n      _this.props.dispatch && _this.props.dispatch((0, _attachmentpanelaction.attachOperaClick)(_this.props.model, args));\n    };\n    _this.afterUpload = function (attachment) {\n      _this.props.dispatch && _this.props.dispatch((0, _attachmentpanelaction.reportUploadResult)(_this.props.model, attachment));\n    };\n    _this.updateControlValue = function (value) {\n      var _this$props = _this.props,\n        model = _this$props.model,\n        dispatch = _this$props.dispatch;\n      var pageId = model.pageId,\n        key = model.key;\n      (0, _action.mergeState)(_client.UPDATE_CONTROL_VALUE, pageId, {\n        key: key,\n        value: (0, _immutable.fromJS)(value),\n        updateData: false\n      }, dispatch);\n    };\n    _this.permissionQuery = function (args) {\n      _this.props.dispatch && _this.props.dispatch((0, _attachmentpanelaction.permissionQuery)(_this.props.model, args));\n    };\n    _this.getDisposableUrl = function (args) {\n      var _this$props2 = _this.props,\n        model = _this$props2.model,\n        dispatch = _this$props2.dispatch;\n      dispatch((0, _attachmentpanelaction.getDisposableUrl)(model, args));\n    };\n    var config = props.model.getFormConfig();\n    _this._fileServer = config.attachmentserver;\n    return _this;\n  }\n  _createClass(AttachmentPanelField, [{\n    key: \"getThisField\",\n    value: function getThisField() {\n      var _model$getMetaPropert, _model$getMetaPropert2, _model$getMetaPropert3, _model$getMetaPropert4, _model$getMetaPropert5;\n      var _this$props3 = this.props,\n        model = _this$props3.model,\n        editOption = _this$props3.editOption,\n        style = _this$props3.style,\n        title = _this$props3.title,\n        validateData = _this$props3.validateData,\n        mustInput = _this$props3.mustInput;\n      var attachmentFileSource = model.getMetaProperty('afs') || 7;\n      var _getAttachInfoFromRoo = (0, _componentutil.getAttachInfoFromRootConfig)(),\n        attachmentUploadMaxSize = _getAttachInfoFromRoo.attachmentUploadMaxSize,\n        forbidfiletype = _getAttachInfoFromRoo.forbidfiletype,\n        fileTypeWhiteList = _getAttachInfoFromRoo.fileTypeWhiteList; // 服务器最大文件大小，附件上传黑名单，附件上传白名单\n      var _getCommonClass = (0, _componentutil.getCommonClass)(model),\n        Grow = _getCommonClass.Grow,\n        Shrink = _getCommonClass.Shrink,\n        AlignSelf = _getCommonClass.AlignSelf;\n      var inputStyle = this.getInputStyle();\n      var inputProps = this.getInputProps();\n      var displayData = inputProps.value;\n      var maxAtmCount = editOption.get('maxatmcount', 0); // 最大附件数，默认值为0，不限制\n      var extName = editOption.get('ext'); // 文件扩展名\n      var maxAtmSize = editOption.get('maxatmsize'); // 文件最大大小\n      var maxSize = (0, _attachmentUtils.getMaxSize)(maxAtmSize, attachmentUploadMaxSize);\n      var rowIndex = this.getRowIndex();\n      var sortField = editOption.get('sortField', _attachmentConst.ATTACHMENT_SORT_FIELD.FileName);\n      var sortType = editOption.get('sortType', _attachmentConst.ATTACHMENT_SORT_TYPE.NoSort);\n      var checkDuplicateFileName = editOption.get('checkDuplicateFileName');\n      var showTitle = (_model$getMetaPropert = model.getMetaProperty(_serverproperties.ATTACHMENT_SHOWYITLE)) !== null && _model$getMetaPropert !== void 0 ? _model$getMetaPropert : true;\n      var showAttachmentTips = (_model$getMetaPropert2 = model.getMetaProperty(_serverproperties.ATTACHMENT_SHOWTIPS)) !== null && _model$getMetaPropert2 !== void 0 ? _model$getMetaPropert2 : true;\n      var uploadButtonPosition = (_model$getMetaPropert3 = model.getMetaProperty(_serverproperties.ATTACHMENT_UPLOADBTNPOS)) !== null && _model$getMetaPropert3 !== void 0 ? _model$getMetaPropert3 : 'default';\n      var expanedMore = (_model$getMetaPropert4 = model.getMetaProperty(_serverproperties.ATTACHMENT_EXPANDMORE)) !== null && _model$getMetaPropert4 !== void 0 ? _model$getMetaPropert4 : false;\n      var showThumbnail = (_model$getMetaPropert5 = model.getMetaProperty(_serverproperties.ATTACHMENT_SHOW_THUMBNAIL)) !== null && _model$getMetaPropert5 !== void 0 ? _model$getMetaPropert5 : false;\n      var previewLimitSize = (0, _attachmentUtils.getPreviewLimitSize)();\n      // 图片压缩阈值，先取设计器的值，没有取默认值\n      var convertSize = (editOption.get(_serverproperties.ATTACHMENT_IMG_COMP_THR) || 0) * 1024 * 1024 || _imageUtil.COMPRESS_IMAGE_CONVERT_SIZE;\n      var isDragSort = editOption.get(_attachmentConst.DRAGBLE); // 拖拽排序\n\n      return /*#__PURE__*/_react[\"default\"].createElement(_Attachment[\"default\"], _extends({\n        model: model,\n        title: title,\n        locale: model.getUserLocale(),\n        fileServer: this._fileServer,\n        disabled: inputProps.readOnly,\n        beforeUpload: this.beforeUpload,\n        uploadFile: this.uploadFile,\n        uploadFailed: this.uploadFailed,\n        beforeRemove: this.beforeRemove,\n        attachOperationCount: this.attachOperationCount,\n        removeFile: this.removeFile,\n        getDisposableUrl: this.getDisposableUrl,\n        style: style,\n        displayData: displayData,\n        updateControlValue: this.updateControlValue,\n        attachmentFileSource: attachmentFileSource,\n        forbidfiletype: forbidfiletype,\n        maxAtmCount: maxAtmCount,\n        extName: extName,\n        maxSize: maxSize,\n        renameFile: this.renameFile,\n        fileTypeWhiteList: fileTypeWhiteList,\n        isField: true,\n        isCard: true,\n        rowIndex: rowIndex,\n        sortField: sortField,\n        sortType: sortType,\n        attachOperaClick: this.handleAttachOperaClick,\n        checkDuplicateFileName: checkDuplicateFileName,\n        showTitle: showTitle,\n        showAttachmentTips: showAttachmentTips,\n        uploadButtonPosition: uploadButtonPosition,\n        expanedMore: expanedMore,\n        afterUpload: this.afterUpload,\n        showThumbnail: showThumbnail,\n        permissionQuery: this.permissionQuery,\n        validateData: validateData,\n        beforeClick: this.props.beforeClick,\n        previewLimitSize: previewLimitSize,\n        convertSize: convertSize,\n        mustInput: mustInput,\n        isDragSort: isDragSort,\n        Grow: Grow,\n        Shrink: Shrink,\n        AlignSelf: AlignSelf\n      }, this.props.attachData));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props4 = this.props,\n        title = _this$props4.title,\n        style = _this$props4.style,\n        className = _this$props4.className,\n        lock = _this$props4.lock,\n        valueStyle = _this$props4.valueStyle,\n        fieldType = _this$props4.fieldType;\n      var value = this.getThisField();\n      return /*#__PURE__*/_react[\"default\"].createElement(_CardField[\"default\"], {\n        style: style,\n        valueStyle: valueStyle,\n        showTitle: false,\n        title: title,\n        value: value,\n        lock: lock,\n        className: className,\n        type: fieldType,\n        onGetPrivateProps: this.handleGetPrivateProps\n      });\n    }\n  }]);\n  return AttachmentPanelField;\n}(_BaseField2[\"default\"]);\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/baseCardField/AttachmentPanelField.jsx?");

/***/ }),

/***/ "./src/component/mobile/baseCardField/BaseDataField.jsx":
/*!**************************************************************!*\
  !*** ./src/component/mobile/baseCardField/BaseDataField.jsx ***!
  \**************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.get.js */ \"../../node_modules/core-js/modules/es.reflect.get.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/web.timers.js */ \"../../node_modules/core-js/modules/web.timers.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _commonService = __webpack_require__(/*! ../../../api/commonService.js */ \"./src/api/commonService.js\");\nvar _BaseField2 = _interopRequireDefault(__webpack_require__(/*! ./BaseField */ \"./src/component/mobile/baseCardField/BaseField.jsx\"));\nvar _serverproperties = __webpack_require__(/*! @/constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _baseDataUtil = __webpack_require__(/*! @/util/baseDataUtil */ \"./src/util/baseDataUtil.js\");\nvar _invokeActionUtils = __webpack_require__(/*! @/component/common/invokeActionUtils */ \"./src/component/common/invokeActionUtils.js\");\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _buttonaction = __webpack_require__(/*! @/action/buttonaction */ \"./src/action/buttonaction.js\");\nvar _fieldaction = __webpack_require__(/*! @/action/fieldaction */ \"./src/action/fieldaction.js\");\nvar _appModelFunction = __webpack_require__(/*! @/model/appModelFunction.js */ \"./src/model/appModelFunction.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _get() { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar allowBasedataClick = true; // f7字段是否允许发送点击请求\nvar BaseDataField = exports[\"default\"] = /*#__PURE__*/function (_BaseField) {\n  _inherits(BaseDataField, _BaseField);\n  function BaseDataField(props) {\n    var _this;\n    _classCallCheck(this, BaseDataField);\n    _this = _callSuper(this, BaseDataField, [props]);\n    _this.baseDataAjax = _lodash[\"default\"].debounce(_this.baseDataAjax.bind(_assertThisInitialized(_this)), 500);\n    return _this;\n  }\n  _createClass(BaseDataField, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props = this.props,\n        editOption = _this$props.editOption,\n        editOptionType = _this$props.editOptionType,\n        model = _this$props.model;\n      var pageId = model.pageId,\n        key = model.key;\n      var needLocate = editOption.get('locate');\n      if (editOptionType == 'city' && needLocate === true) {\n        this.getLocation();\n      } else if (editOptionType === 'basedata') {\n        (0, _appModelFunction.setBusyTips)(model, ['click']);\n      }\n      this._removeListener = (0, _invokeActionUtils.addAjaxStateListener)(pageId, key, 'click', this.baseDataAjax);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var _this$_removeListener;\n      (_this$_removeListener = this._removeListener) === null || _this$_removeListener === void 0 || _this$_removeListener.call(this);\n    }\n  }, {\n    key: \"baseDataAjax\",\n    value: function baseDataAjax(_ref) {\n      var value = _ref.value;\n      if (value !== _invokeActionUtils.AJAX_PENDING) {\n        clearTimeout(this.clearClickBaseDataTimer);\n        allowBasedataClick = true;\n      }\n    }\n  }, {\n    key: \"handleBasDataClick\",\n    value: function handleBasDataClick() {\n      if (allowBasedataClick) {\n        allowBasedataClick = false;\n        this.clearClickBaseDataTimer = setTimeout(function () {\n          allowBasedataClick = true;\n        }, 3000); // 延迟3s，防止请求不返回\n        var _this$props2 = this.props,\n          dispatch = _this$props2.dispatch,\n          model = _this$props2.model;\n        dispatch((0, _buttonaction.rowClick)(model, []));\n      }\n    }\n  }, {\n    key: \"getLocation\",\n    value: function getLocation(data) {\n      var _this$props3 = this.props,\n        dispatch = _this$props3.dispatch,\n        model = _this$props3.model;\n      _commonService.locationService.getLocation(function (details) {\n        dispatch((0, _fieldaction.publicLocation)(model, {\n          city: details.city\n        })); // 目前只要城市\n      }, 3000);\n    }\n  }, {\n    key: \"getThisField\",\n    value: function getThisField() {\n      var _this$props4 = this.props,\n        model = _this$props4.model,\n        editOptionType = _this$props4.editOptionType,\n        editOption = _this$props4.editOption;\n      var isLineWrap = model.getMetaProperty('lnl') || false; // 自动换行\n      var value = this.getInitialValue(); // 父方法\n      var inputStyle = this.getInputStyle(); // 父方法\n      var inputProps = this.getInputProps(); // 父方法\n      var showValue = (0, _baseDataUtil.getBaseDataDisplayProp)(value, editOption && editOption.get(_serverproperties.DISPLAY_PROP), editOptionType === 'mulbasedata', editOption && editOption.get(_serverproperties.CONNECTOR));\n      return this.renderTextValue(showValue, inputStyle, inputProps.placeholder, {\n        type: 'basedata'\n      }, isLineWrap); // 父方法\n    }\n  }, {\n    key: \"getThisFieldValue\",\n    value: function getThisFieldValue() {\n      var _this$props5 = this.props,\n        editOptionType = _this$props5.editOptionType,\n        editOption = _this$props5.editOption;\n      var value = this.getInitialValue(); // 父方法\n      var showValue = (0, _baseDataUtil.getBaseDataDisplayProp)(value, editOption && editOption.get(_serverproperties.DISPLAY_PROP), editOptionType === 'mulbasedata');\n      if (showValue !== null && showValue !== undefined && Object.prototype.toString.call(showValue) === '[object String]') {\n        if (showValue === '') {\n          return [];\n        } else {\n          return showValue.split(';');\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return _get(_getPrototypeOf(BaseDataField.prototype), \"render\", this).call(this);\n    }\n  }]);\n  return BaseDataField;\n}(_BaseField2[\"default\"]);\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/baseCardField/BaseDataField.jsx?");

/***/ }),

/***/ "./src/component/mobile/baseCardField/BaseField.jsx":
/*!**********************************************************!*\
  !*** ./src/component/mobile/baseCardField/BaseField.jsx ***!
  \**********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _classnames4 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _serverproperties = __webpack_require__(/*! ../../../constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _CardField = _interopRequireDefault(__webpack_require__(/*! ../base/CardField */ \"./src/component/mobile/base/CardField.js\"));\nvar _KDCardField = _interopRequireDefault(__webpack_require__(/*! ../KDCardField.less */ \"./src/component/mobile/KDCardField.less\"));\nvar _common = _interopRequireDefault(__webpack_require__(/*! ../../common/common.less */ \"./src/component/common/common.less\"));\nvar _baseComponent = _interopRequireDefault(__webpack_require__(/*! ../base/baseComponent.less */ \"./src/component/mobile/base/baseComponent.less\"));\nvar _formatUtil = __webpack_require__(/*! ../../../util/formatUtil */ \"./src/util/formatUtil.js\");\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _appModelFunction = __webpack_require__(/*! @/model/appModelFunction */ \"./src/model/appModelFunction.js\");\nvar _componentutil = __webpack_require__(/*! ../../../util/componentutil */ \"./src/util/componentutil.js\");\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _memoryCacher = __webpack_require__(/*! ../../../model/memoryCacher */ \"./src/model/memoryCacher.js\");\nvar _validator = __webpack_require__(/*! @/validator/validator.js */ \"./src/validator/validator.js\");\nvar _grid = __webpack_require__(/*! @/util/component/grid */ \"./src/util/component/grid.js\");\nvar _gridaction = __webpack_require__(/*! @/action/gridaction */ \"./src/action/gridaction.js\");\nvar _ValidationService = __webpack_require__(/*! @/service/common/ValidationService */ \"./src/service/common/ValidationService.js\");\nvar _utils = __webpack_require__(/*! @/validator/utils.js */ \"./src/validator/utils.js\");\nvar _serverproperties2 = __webpack_require__(/*! @/constant/serverproperties */ \"./src/constant/serverproperties.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar BaseField = exports[\"default\"] = /*#__PURE__*/function (_React$Component) {\n  _inherits(BaseField, _React$Component);\n  function BaseField(props) {\n    var _this;\n    _classCallCheck(this, BaseField);\n    _this = _callSuper(this, BaseField, [props]);\n    _this.getIsViewModel = function () {\n      var model = _this.props.model;\n      var formStatus = (0, _memoryCacher.getDynamicFormStatus)(model === null || model === void 0 ? void 0 : model.pageId);\n      return (0, _componentutil.isViewModel)(formStatus); // 是否是查看态\n    };\n    _this.validate = function (value) {\n      var _model$getMetaPropert;\n      var _this$props = _this.props,\n        model = _this$props.model,\n        editOption = _this$props.editOption,\n        gridKey = _this$props.gridKey,\n        fieldType = _this$props.fieldType,\n        dataModel = _this$props.dataModel,\n        data = _this$props.data;\n      var key = model.key,\n        pageId = model.pageId;\n      var rowKey = _this.getRowIndex();\n      var localeId = model.getUserLocale();\n      var dataDesc = dataModel === null || dataModel === void 0 ? void 0 : dataModel.getData().get('value').toJS();\n      var caption = (_model$getMetaPropert = model.getMetaProperty('caption')) === null || _model$getMetaPropert === void 0 ? void 0 : _model$getMetaPropert.toJS();\n      (0, _ValidationService.doRealTimeValidateForTable)({\n        key: key,\n        caption: caption,\n        dataDesc: dataDesc,\n        editor: editOption.toJS(),\n        gridId: gridKey,\n        localeId: localeId,\n        pid: pageId,\n        rowKey: rowKey,\n        type: fieldType,\n        value: value,\n        record: data\n      });\n    };\n    _this.getInputNoVal = function (lock, placeholder, showTitle, title) {\n      var displayValue = '';\n      if (lock) {\n        displayValue = (0, _componentutil.getNOValue)(); // 锁定态没有值的话什么都不显示\n        return displayValue;\n      } else {\n        if (showTitle) {\n          displayValue = placeholder || '';\n        } else {\n          displayValue = placeholder || title;\n        }\n      }\n      return displayValue;\n    };\n    _this.getRecordPrimaryKeys = function (model, record, entryentities, option) {\n      var postcols = model.getDataProperty(['value', 'postcols']);\n      if (!postcols || postcols.size === 0) return null;\n      var selectedDatas = [];\n      postcols.forEach(function (col) {\n        if (col !== null) {\n          selectedDatas.push(record.get(option.get(col)));\n        }\n      });\n      return selectedDatas;\n    };\n    _this.handleUpdatePrivacyText = function () {\n      var _this$props2 = _this.props,\n        model = _this$props2.model,\n        option = _this$props2.option,\n        data = _this$props2.data,\n        gridKey = _this$props2.gridKey,\n        rowKey = _this$props2.rowKey,\n        dispatch = _this$props2.dispatch,\n        entryentities = _this$props2.entryentities,\n        dataModel = _this$props2.dataModel;\n      var isMobileListView = entryentities !== undefined;\n      var colId = model.getMetaProperty('dataIndex');\n      var rowId = data.get(option.get(rowKey));\n      if (isMobileListView) {\n        var pks = _this.getRecordPrimaryKeys(dataModel, data, entryentities, option);\n        dispatch((0, _gridaction.invokeControlMethodSingle)({\n          pageId: model.pageId,\n          key: gridKey\n        }, 'getPlainText', [rowId, colId, pks]));\n      } else {\n        dispatch((0, _gridaction.invokeControlMethodSingle)({\n          pageId: model.pageId,\n          key: colId\n        }, 'getPlainText', [Number(rowId)]));\n      }\n    };\n    _this.handleGetPrivateProps = function () {\n      var _this$props3 = _this.props,\n        model = _this$props3.model,\n        entryentities = _this$props3.entryentities;\n      // const excludePriveteType = ['radio', 'picture', 'attachmentfield', 'stepper', 'checkbox']\n      var isMobileListView = entryentities !== undefined;\n      var isShowPrivacyEye;\n      var isPrivacyField;\n      var editorOptionList;\n      if (isMobileListView) {\n        editorOptionList = model.getMetaProperty('editor');\n        if (_immutable.Map.isMap(editorOptionList) && editorOptionList.size === 0) {\n          editorOptionList = model.getMetaProperty('item');\n        }\n        isShowPrivacyEye = editorOptionList && editorOptionList.getIn(['privacy', 'isprivacy'], false) && editorOptionList.getIn(['privacy', 'canshowdetail'], false);\n        isPrivacyField = editorOptionList && editorOptionList.getIn(['privacy', 'isprivacy'], false);\n      } else {\n        editorOptionList = model.getMetaProperty('item');\n        isShowPrivacyEye = editorOptionList && editorOptionList.getIn(['privacy', 'isprivacy'], false) && editorOptionList.getIn(['privacy', 'canshowdetail'], false);\n        isPrivacyField = editorOptionList && editorOptionList.getIn(['privacy', 'isprivacy'], false);\n      }\n      return {\n        pageId: model.pageId,\n        gridId: _this.props.gridKey,\n        rowKey: _this.props.data.get(_this.props.option.get(_this.props.rowKey)),\n        colId: model.getMetaProperty('dataIndex'),\n        isMobileListView: entryentities !== undefined,\n        isShowPrivacyEyeMeta: isShowPrivacyEye,\n        isShowPrivacyEye: isShowPrivacyEye && typeof (0, _grid.getGridCellPlainText)({\n          pageId: model.pageId,\n          gridId: _this.props.gridKey,\n          colId: model.getMetaProperty('dataIndex'),\n          rowKey: _this.props.data.get(_this.props.option.get(_this.props.rowKey))\n        }) === 'undefined',\n        isPrivacyField: isPrivacyField && typeof (0, _grid.getGridCellPlainText)({\n          pageId: model.pageId,\n          gridId: _this.props.gridKey,\n          colId: model.getMetaProperty('dataIndex'),\n          rowKey: _this.props.data.get(_this.props.option.get(_this.props.rowKey))\n        }) === 'undefined',\n        onUpdatePrivacyText: _this.handleUpdatePrivacyText\n      };\n    };\n    _this.handleCardFieldleClick = function (e) {\n      var _this$props4 = _this.props,\n        editOption = _this$props4.editOption,\n        lock = _this$props4.lock;\n      var type = editOption && editOption.get('type');\n      type !== 'stepper' && _this.onClickHandle(e, editOption, lock);\n      type === 'radio' && !lock && _this.handleEditChange(editOption.get('v'), true);\n      _this.props.onClick && _this.props.onClick();\n    };\n    _this.state = {\n      editing: false,\n      innerValue: undefined // 控件内部value,失去焦点时才更新store\n    };\n    var _model2 = props.model;\n    var config = _model2.getFormConfig();\n    _this._fileServer = config.fileserver;\n    _this.handleGetPrivateProps.bind(_assertThisInitialized(_this));\n    _this.getLock.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  _createClass(BaseField, [{\n    key: \"getPlaceHolder\",\n    value: function getPlaceHolder(editorOption) {\n      var model = this.props.model;\n      var editOption = this.props.editOption || editorOption;\n      var placeHolderObj = editOption && editOption.get(_serverproperties.PLACE_HOLDER) || editOption && editOption.get('placeholder');\n      var userLocal = model.getUserLocale();\n      // 兼容之前非多语言\n      return _lodash[\"default\"].isObject(placeHolderObj) ? placeHolderObj.get(userLocal) : placeHolderObj;\n    }\n\n    /**\n     * 获取当前字段值\n     * @returns {string|*}\n     */\n  }, {\n    key: \"getInitialValue\",\n    value: function getInitialValue(props) {\n      var _props = props || this.props;\n      var data = _props.data,\n        model = _props.model,\n        option = _props.option,\n        getInitiaValueImpl = _props.getInitiaValueImpl;\n      var _dataIndex = model.getMetaProperty('dataIndex');\n      var _option = option.get(_dataIndex);\n      var value = getInitiaValueImpl ? getInitiaValueImpl(_props, _dataIndex) : data.get(_option);\n      return value === null || value === undefined ? '' : value;\n    }\n\n    /**\n     * 获取通用属性： 锁定之类的\n     * @returns {{Grow: number, readOnly: boolean, placeholder: (*|boolean), value: (string|*), key: *}}\n     */\n  }, {\n    key: \"getInputProps\",\n    value: function getInputProps() {\n      var _this$props5 = this.props,\n        model = _this$props5.model,\n        editOption = _this$props5.editOption,\n        showTitle = _this$props5.showTitle,\n        mustInput = _this$props5.mustInput,\n        validateData = _this$props5.validateData;\n      var lock = this.getLock();\n      var option = editOption || (0, _immutable.Map)();\n      var fildeType = option.get('type');\n      var showLine = option.get(_serverproperties.MOB_SHOWLINE); // 多行折叠后显示行数\n      var value = this.getInitialValue();\n      if (fildeType === 'attachmentfield' || fildeType === 'text') {\n        value = this.state.innerValue === undefined ? value : this.state.innerValue;\n      }\n      var mobFieldStyle = option.get(_serverproperties.MOB_FIELD_STYLE, 0); // 字段风格属性：0-默认，1-主流，2-标签\n      var maxLength = (0, _componentutil.getComponentDataProperty)(model, _serverproperties.MAX_LENGTH, _serverproperties.MAX_LENGTH, false) || option.get(_serverproperties.MAX_LENGTH);\n      var _this$handleGetPrivat = this.handleGetPrivateProps(),\n        pageId = _this$handleGetPrivat.pageId,\n        gridId = _this$handleGetPrivat.gridId,\n        colId = _this$handleGetPrivat.colId,\n        rowKey = _this$handleGetPrivat.rowKey,\n        isPrivacyField = _this$handleGetPrivat.isPrivacyField;\n      var showEmptyFieldTips = (0, _utils.isNotNullMsg)(validateData);\n      return {\n        Grow: 1,\n        value: value,\n        key: model.key,\n        readOnly: !!lock,\n        maxLength: maxLength,\n        mobFieldStyle: mobFieldStyle,\n        mustInput: mustInput,\n        // 字段为空提示属性修改为多语言\n        placeholder: this.getPlaceHolder(editOption) || !showTitle && model.getMetaLocaleProperty('header'),\n        isPrivacyField: isPrivacyField && typeof (0, _grid.getGridCellPlainText)({\n          pageId: pageId,\n          gridId: gridId,\n          colId: colId,\n          rowKey: rowKey\n        }) === 'undefined',\n        showLine: showLine,\n        showEmptyFieldTips: showEmptyFieldTips,\n        validateData: validateData,\n        hide: !validateData\n      };\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      var model = nextProps.model,\n        data = nextProps.data,\n        option = nextProps.option;\n      var _this$props6 = this.props,\n        _model = _this$props6.model,\n        _data = _this$props6.data,\n        _option = _this$props6.option,\n        editOption = _this$props6.editOption;\n      var newValue = data.get(option.get(model.getMetaProperty('dataIndex')));\n      var oldValue = _data.get(_option.get(_model.getMetaProperty('dataIndex')));\n      var fildeType = editOption && editOption.get('type');\n      if (fildeType === 'attachmentfield') {\n        if (newValue !== undefined && newValue !== oldValue) {\n          this.setState({\n            innerValue: newValue // value先存到控件内部\n          });\n        }\n      }\n    }\n\n    /**\n     * 获取字段通用样式属性\n     * @returns {*|{backgroundColor: *, color: *, fontSize: (string|string)}}\n     */\n  }, {\n    key: \"getInputStyle\",\n    value: function getInputStyle() {\n      var _this$props7 = this.props,\n        style = _this$props7.style,\n        editOption = _this$props7.editOption,\n        valueStyle = _this$props7.valueStyle,\n        labelDirection = _this$props7.labelDirection;\n      var inputStyle = {\n        textAlign: editOption.get(_serverproperties.TEXT_ALIGN) || (labelDirection === 'v' ? 'left' : ''),\n        // 垂直模式时默认对齐方式改为左对齐\n        fontSize: (valueStyle === null || valueStyle === void 0 ? void 0 : valueStyle.fontSize) || editOption.get(_serverproperties.FONT_SIZE) || style.fontSize,\n        color: (valueStyle === null || valueStyle === void 0 ? void 0 : valueStyle.color) || editOption.get(_serverproperties.COLOR) || style.color,\n        backgroundColor: (valueStyle === null || valueStyle === void 0 ? void 0 : valueStyle.backgroundColor) || editOption.get(_serverproperties.BACKGROUND_COLOR) || style.backgroundColor\n      };\n      return inputStyle;\n    }\n  }, {\n    key: \"getImageStyle\",\n    value: function getImageStyle(style) {\n      var imageStyle = {};\n      if (style.width) {\n        imageStyle.width = style.width;\n      }\n      if (style.height) {\n        imageStyle.height = style.height;\n      }\n      if (style.borderRadius) {\n        imageStyle.borderRadius = style.borderRadius;\n      }\n      return imageStyle;\n    }\n  }, {\n    key: \"getRowIndex\",\n    value: function getRowIndex() {\n      var _this$props8 = this.props,\n        data = _this$props8.data,\n        option = _this$props8.option,\n        rowKey = _this$props8.rowKey;\n      var _option = option.get(rowKey);\n      return data.get(_option);\n    }\n  }, {\n    key: \"handleEditClick\",\n    value: function handleEditClick() {\n      if (!this.state.editing) {\n        this.setState({\n          editing: true\n        });\n      }\n    }\n\n    /**\n     * 值更新\n     * @param value\n     * @param fireUpdEvt 是否需要及时更新 bool\n     */\n  }, {\n    key: \"handleEditChange\",\n    value: function handleEditChange(value, fireUpdEvt, updateStore) {\n      var _this$props9 = this.props,\n        model = _this$props9.model,\n        option = _this$props9.option,\n        gridKey = _this$props9.gridKey,\n        data = _this$props9.data,\n        rowKey = _this$props9.rowKey,\n        dispatch = _this$props9.dispatch,\n        beforeClick = _this$props9.beforeClick;\n      var _this$handleGetPrivat2 = this.handleGetPrivateProps(),\n        isPrivacyField = _this$handleGetPrivat2.isPrivacyField;\n      if (isPrivacyField) return;\n      var editOption = model.getMetaProperty('item');\n      var type = editOption && editOption.get('type');\n      if (type === 'email' && (0, _validator.includeEmoji)(value)) {\n        return false;\n      }\n      var cellData = [_defineProperty(_defineProperty(_defineProperty({}, _serverproperties.ROW, data.get(option.get(rowKey))), _serverproperties.VALUE, value), _serverproperties.KEY, type === 'radio' ? editOption.get(_serverproperties.GROUP) : model.getMetaProperty('dataIndex'))];\n      var isPasswordbox = type === 'passwordbox';\n      beforeClick && beforeClick();\n      dispatch((0, _gridaction.cellChange)({\n        pageId: model.pageId,\n        key: gridKey,\n        fireUpdEvt: fireUpdEvt,\n        isPasswordbox: isPasswordbox\n      }, cellData));\n      // 先针对数字类型的字段做处理，其他类型有需要后续再放开\n      if (updateStore && type === 'number') {\n        dispatch((0, _gridaction.cellChange)({\n          pageId: model.pageId,\n          key: gridKey,\n          fireUpdEvt: false\n        }, cellData));\n      }\n      if (fireUpdEvt) {\n        // 失焦时校验\n        this.validate(value);\n      }\n    }\n  }, {\n    key: \"stopEditing\",\n    value: function stopEditing(value) {\n      this.setState({\n        editing: false\n      });\n      // 需要更新store，不然会有脏数据问题\n      this.handleEditChange(value, true, true);\n    }\n  }, {\n    key: \"editField\",\n    value: function editField(e, editOption) {\n      if (!editOption) return;\n      e.stopPropagation();\n      var type = editOption.get('type');\n      var baseDataList = ['basedata', 'mulbasedata', 'city', 'user', 'org'];\n      var canEditTypeList = ['combo', 'text', 'number', 'localeText', 'stepper', 'email', 'passwordbox', 'textarea', 'largeText'];\n      // if (type === 'basedata' || type === 'city' || type === 'user') {\n      if (baseDataList.indexOf(type) > -1) {\n        this.handleBasDataClick();\n      } else if (canEditTypeList.includes(type)) {\n        this.handleEditClick();\n      } else if (type === 'address') {\n        this.handleAddressClick();\n      }\n    }\n  }, {\n    key: \"renderTextValue\",\n    value: function renderTextValue(value) {\n      var style = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var placeholder = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n      var _ref2 = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {},\n        showSymbol = _ref2.showSymbol,\n        symbol = _ref2.symbol,\n        _ref2$decimalLength = _ref2.decimalLength,\n        decimalLength = _ref2$decimalLength === void 0 ? null : _ref2$decimalLength,\n        noDisplayDecimalTailZero = _ref2.noDisplayDecimalTailZero,\n        type = _ref2.type,\n        zeroShow = _ref2.zeroShow,\n        mask = _ref2.mask,\n        roundMethod = _ref2.roundMethod;\n      var isLineWrap = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n      var _this$props10 = this.props,\n        model = _this$props10.model,\n        showTitle = _this$props10.showTitle,\n        _this$props10$mobFiel = _this$props10.mobFieldStyle,\n        mobFieldStyle = _this$props10$mobFiel === void 0 ? 0 : _this$props10$mobFiel,\n        validateData = _this$props10.validateData,\n        isNotNullMsg = _this$props10.isNotNullMsg,\n        editOption = _this$props10.editOption;\n      var lock = this.getLock();\n      var title = model.getMetaLocaleProperty('header');\n      var showValidateMsg = isNotNullMsg && mobFieldStyle === 1;\n      var controlType = editOption === null || editOption === void 0 ? void 0 : editOption.get('type');\n      var displayValue = value;\n      // if (showSymbol && symbol) {\n      if (symbol) {\n        if (!displayValue && displayValue !== 0) {\n          displayValue = '';\n        } else {\n          displayValue = (0, _formatUtil.formatNumber)(displayValue, {\n            mask: mask,\n            symbol: symbol,\n            decimalLength: decimalLength,\n            zeroShow: zeroShow,\n            type: type,\n            noDisplayDecimalTailZero: noDisplayDecimalTailZero,\n            roundMethod: roundMethod\n          });\n        }\n      } else if (decimalLength !== null) {\n        if (!displayValue && displayValue !== 0) {\n          displayValue = '';\n        } else {\n          displayValue = (0, _formatUtil.formatNumber)(displayValue, {\n            mask: mask,\n            decimalLength: decimalLength,\n            zeroShow: zeroShow,\n            type: type,\n            noDisplayDecimalTailZero: noDisplayDecimalTailZero,\n            roundMethod: roundMethod\n          });\n        }\n      }\n      var boxCN = (0, _classnames4[\"default\"])(_defineProperty(_defineProperty(_defineProperty({}, _KDCardField[\"default\"]['span-container-value'], true), _KDCardField[\"default\"]['span-container-value-margin'], mobFieldStyle === 0), _KDCardField[\"default\"]['span-container-value-textarea'], controlType === 'textarea'));\n      var displayValueClass = (0, _classnames4[\"default\"])(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty({}, _KDCardField[\"default\"]['span-value'], true), _common[\"default\"]['text-omit'], !isLineWrap), _baseComponent[\"default\"].placeholder, (displayValue === null || displayValue === '') && !lock && !showValidateMsg), _KDCardField[\"default\"]['text-wrap'], isLineWrap), _KDCardField[\"default\"]['must-input'], showValidateMsg));\n      if (type === 'address') {\n        displayValueClass = (0, _classnames4[\"default\"])(_defineProperty(_defineProperty({}, _KDCardField[\"default\"]['address-span-value'], true), _KDCardField[\"default\"]['must-input'], showValidateMsg));\n      }\n      if (displayValue === null || displayValue === '') {\n        displayValue = this.getInputNoVal(lock, placeholder, showTitle, title);\n      }\n      var showIcon = type === 'basedata' && !lock && mobFieldStyle === 1 || type === 'address' && !lock;\n      var iconStyle = {\n        marginLeft: '4px',\n        color: '#cccccc'\n      };\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: boxCN\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: displayValueClass,\n        style: style\n      }, showValidateMsg ? validateData : displayValue), showIcon && /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n        className: \"kdfont kdfont-jinru\",\n        style: iconStyle\n      }));\n    }\n  }, {\n    key: \"onClickHandle\",\n    value: function onClickHandle(e, editOption, lock) {\n      var _this$handleGetPrivat3 = this.handleGetPrivateProps(),\n        isPrivacyField = _this$handleGetPrivat3.isPrivacyField;\n      if (lock !== true && !isPrivacyField) {\n        this.props.beforeClick && this.props.beforeClick(e);\n        this.editField(e, editOption);\n      }\n    }\n  }, {\n    key: \"getThisField\",\n    value: function getThisField() {\n      // 所有子类需要实现一个该方法。\n    }\n  }, {\n    key: \"getThisFieldValue\",\n    value: function getThisFieldValue() {\n      // 目前仅需多选基础资料实现\n    }\n  }, {\n    key: \"getThisFieldStyle\",\n    value: function getThisFieldStyle() {\n      // 子类可以实现的一个干预style方法\n    }\n  }, {\n    key: \"getLock\",\n    value: function getLock() {\n      var _this$handleGetPrivat4 = this.handleGetPrivateProps(),\n        pageId = _this$handleGetPrivat4.pageId,\n        gridId = _this$handleGetPrivat4.gridId,\n        colId = _this$handleGetPrivat4.colId,\n        rowKey = _this$handleGetPrivat4.rowKey,\n        isPrivacyField = _this$handleGetPrivat4.isPrivacyField;\n      var lock = this.props.lock || isPrivacyField && typeof (0, _grid.getGridCellPlainText)({\n        pageId: pageId,\n        gridId: gridId,\n        colId: colId,\n        rowKey: rowKey\n      }) === 'undefined';\n      return lock;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props11 = this.props,\n        editOption = _this$props11.editOption,\n        style = _this$props11.style,\n        title = _this$props11.title,\n        lock = _this$props11.lock,\n        commonClass = _this$props11.commonClass,\n        model = _this$props11.model,\n        titleStyle = _this$props11.titleStyle,\n        className = _this$props11.className,\n        flexibleFieldKey = _this$props11.flexibleFieldKey,\n        mustInput = _this$props11.mustInput,\n        _this$props11$mobFiel = _this$props11.mobFieldStyle,\n        mobFieldStyle = _this$props11$mobFiel === void 0 ? 0 : _this$props11$mobFiel,\n        valueStyle = _this$props11.valueStyle,\n        validateData = _this$props11.validateData,\n        isNotNullMsg = _this$props11.isNotNullMsg,\n        labelDirection = _this$props11.labelDirection,\n        valueAreaStyle = _this$props11.valueAreaStyle,\n        showCount = _this$props11.showCount;\n      var showTitle = this.props.showTitle;\n      var isNewline = model.getMetaProperty('atw'); // 是否换行，对列表的处理\n      var isLineWrap = model.getMetaProperty('lnl') || false; // 自动换行，对卡片分录基础资料字段/文本字段处理\n      var type = editOption && editOption.get('type');\n      var multiLine = editOption && editOption.get('multiLine'); // 是否多行显示\n      var showStyle = editOption && editOption.get('s', 0); // 复现框风格\n      var value = this.getThisField();\n      var _style = Object.assign({}, style);\n      var formStatus = (0, _memoryCacher.getDynamicFormStatus)(model.pageId);\n      var fieldStyle;\n      fieldStyle = editOption && editOption.get(_serverproperties.FIELD_STYLE);\n      var group = editOption.get(_serverproperties.GROUP);\n      if (group) {\n        var rdGroup = (0, _appModelFunction.getItemMeta)(model.pageId, group)(model.state);\n        fieldStyle = rdGroup && rdGroup.getIn(['item', _serverproperties.FIELD_STYLE]);\n      }\n      if (type === 'flexfield') {\n        delete _style.height; // 弹性域的高度设置为标题区域的高度，不设整体高度\n      }\n      if (type === 'radiogroup') return null;\n      if (type === 'checkbox') {\n        if (showStyle === 1) {\n          return value;\n        } else if (showStyle === 2 || showStyle === 3) {\n          showTitle = false;\n        }\n      }\n      if (type === 'picture') {\n        var canUpload = model.getMetaProperty(_serverproperties2.MOB_CAN_UPLOAD);\n        if (canUpload) {\n          showTitle = false;\n        }\n        _style = this.getThisFieldStyle(_style);\n      }\n      var valueArr;\n      if (type === 'mulbasedata') {\n        valueArr = this.getThisFieldValue();\n      }\n      var currentNumber = 0; // 多行文本当前字数\n      var totalNumber = 0; // 多行文本最大字数\n      if (type === 'textarea' && showCount) {\n        var textAreaValue = this.getInitialValue();\n        currentNumber = textAreaValue.length;\n        totalNumber = editOption.get(_serverproperties.MAX_LENGTH);\n      }\n      return /*#__PURE__*/_react[\"default\"].createElement(_CardField[\"default\"], _extends({\n        isNewline: isNewline,\n        isLineWrap: isLineWrap,\n        style: _style,\n        valueStyle: valueStyle,\n        type: type,\n        showTitle: showTitle,\n        title: title,\n        value: value,\n        titleStyle: titleStyle,\n        editOption: editOption,\n        fieldStyle: fieldStyle,\n        mustInput: mustInput,\n        lock: lock,\n        onClick: this.handleCardFieldleClick,\n        multiLine: multiLine,\n        mobFieldStyle: mobFieldStyle,\n        showStyle: showStyle,\n        className: flexibleFieldKey ? className : '' // 弹性域字段才传\n        ,\n        valueArr: valueArr,\n        formStatus: formStatus,\n        onGetPrivateProps: this.handleGetPrivateProps,\n        validateData: validateData,\n        isNotNullMsg: isNotNullMsg,\n        labelDirection: labelDirection,\n        valueAreaStyle: valueAreaStyle,\n        showCount: showCount,\n        currentNumber: currentNumber,\n        totalNumber: totalNumber\n      }, commonClass));\n    }\n  }]);\n  return BaseField;\n}(_react[\"default\"].Component);\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/baseCardField/BaseField.jsx?");

/***/ }),

/***/ "./src/component/mobile/baseCardField/CheckBoxGroupField.jsx":
/*!*******************************************************************!*\
  !*** ./src/component/mobile/baseCardField/CheckBoxGroupField.jsx ***!
  \*******************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.get.js */ \"../../node_modules/core-js/modules/es.reflect.get.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _CheckBoxGroup = _interopRequireDefault(__webpack_require__(/*! ../base/CheckBoxGroup */ \"./src/component/mobile/base/CheckBoxGroup.js\"));\nvar _BaseField2 = _interopRequireDefault(__webpack_require__(/*! ./BaseField */ \"./src/component/mobile/baseCardField/BaseField.jsx\"));\nvar _serverproperties = __webpack_require__(/*! @/constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _fieldConst = __webpack_require__(/*! @/constant/fieldConst.js */ \"./src/constant/fieldConst.js\");\nvar _radioOptGroupFieldUtil = __webpack_require__(/*! @/util/radioOptGroupFieldUtil.js */ \"./src/util/radioOptGroupFieldUtil.js\");\nvar _appModelFunction = __webpack_require__(/*! @/model/appModelFunction */ \"./src/model/appModelFunction.js\");\nvar _UpdateComboDataWrap = __webpack_require__(/*! @/component/common/UpdateComboDataWrap.jsx */ \"./src/component/common/UpdateComboDataWrap.jsx\");\nvar _class;\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _get() { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar CheckBoxGroupField = exports[\"default\"] = (0, _UpdateComboDataWrap.UpdateCardComboItemDataWrap)(_class = /*#__PURE__*/function (_BaseField) {\n  _inherits(CheckBoxGroupField, _BaseField);\n  function CheckBoxGroupField() {\n    _classCallCheck(this, CheckBoxGroupField);\n    return _callSuper(this, CheckBoxGroupField, arguments);\n  }\n  _createClass(CheckBoxGroupField, [{\n    key: \"getThisField\",\n    value: function getThisField() {\n      var _this = this;\n      var _this$props = this.props,\n        editOption = _this$props.editOption,\n        isView = _this$props.isView,\n        model = _this$props.model,\n        validateData = _this$props.validateData,\n        valueAreaStyle = _this$props.valueAreaStyle,\n        lock = _this$props.lock,\n        noValue = _this$props.noValue,\n        gridKey = _this$props.gridKey;\n      var locale = model.getUserLocale();\n      var stImmuData = (0, _appModelFunction.getDataProperty)(model.pageId, gridKey, ['colCtrl', model.key, _fieldConst.ST])(model.state) || editOption.get(_fieldConst.ST);\n      var checkBoxOpts = (0, _radioOptGroupFieldUtil.getRadioOptData)(stImmuData, locale);\n\n      // 选项风格\n      var flatStyle = editOption.get(_fieldConst.FLAT_STYLE);\n      var labelDirection = model.getMetaProperty(_serverproperties.LABEL_DIRECTION_NEW) || 'h';\n      // 单选的选项布局方式，横向|纵向 产品要求，选项风格为标签时，不生效垂直布局\n      var radioDirection = flatStyle !== _fieldConst.FLAT_STYLE_OPT.button && editOption.get(_fieldConst.FLAT_LAYOUT);\n      var isWrap = !!model.getMetaProperty('atw');\n      var inputStyle = this.getInputStyle();\n      var inputProps = this.getInputProps();\n      delete inputProps.onChange;\n      var handleChange = function handleChange(value) {\n        _this.handleEditChange(value, true);\n      };\n      var style = (0, _radioOptGroupFieldUtil.getStyle)(inputStyle, labelDirection, radioDirection);\n      return /*#__PURE__*/_react[\"default\"].createElement(_CheckBoxGroup[\"default\"], _extends({\n        valueStr: inputProps.value,\n        checkBoxOpts: checkBoxOpts,\n        flatStyle: flatStyle,\n        lock: lock,\n        style: style,\n        radioDirection: radioDirection,\n        validateData: validateData,\n        isWrap: isWrap,\n        valueAreaStyle: labelDirection !== 'v' ? undefined : valueAreaStyle,\n        isShowText: isView && lock,\n        noValue: noValue,\n        labelDirection: labelDirection,\n        onChange: handleChange\n      }, inputProps));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return _get(_getPrototypeOf(CheckBoxGroupField.prototype), \"render\", this).call(this);\n    }\n  }]);\n  return CheckBoxGroupField;\n}(_BaseField2[\"default\"])) || _class;\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/baseCardField/CheckBoxGroupField.jsx?");

/***/ }),

/***/ "./src/component/mobile/baseCardField/CheckboxField.jsx":
/*!**************************************************************!*\
  !*** ./src/component/mobile/baseCardField/CheckboxField.jsx ***!
  \**************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.get.js */ \"../../node_modules/core-js/modules/es.reflect.get.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _BaseField2 = _interopRequireDefault(__webpack_require__(/*! ./BaseField */ \"./src/component/mobile/baseCardField/BaseField.jsx\"));\nvar _CheckBox = _interopRequireDefault(__webpack_require__(/*! ../base/CheckBox */ \"./src/component/mobile/base/CheckBox.jsx\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _get() { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar CheckboxField = exports[\"default\"] = /*#__PURE__*/function (_BaseField) {\n  _inherits(CheckboxField, _BaseField);\n  function CheckboxField() {\n    _classCallCheck(this, CheckboxField);\n    return _callSuper(this, CheckboxField, arguments);\n  }\n  _createClass(CheckboxField, [{\n    key: \"getThisField\",\n    value: function getThisField() {\n      var _this = this;\n      var _this$props = this.props,\n        style = _this$props.style,\n        editOption = _this$props.editOption,\n        title = _this$props.title;\n      var value = this.getInitialValue(); // 父方法\n      var inputProps = this.getInputProps(); // 父方法\n      var inputStyle = this.getInputStyle(); // 父方法\n      var readOnly = inputProps.readOnly;\n      var showStyle = editOption.get('s') || 0;\n      var checkstyle = Object.assign({}, style, inputStyle);\n      return /*#__PURE__*/_react[\"default\"].createElement(_CheckBox[\"default\"], {\n        text: title,\n        disabled: readOnly,\n        showStyle: showStyle,\n        style: checkstyle,\n        inputStyle: inputStyle,\n        value: !!value,\n        onClick: function onClick(e) {\n          return readOnly ? null : _this.handleEditChange(!value, true);\n        }\n      }); // 父方法\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return _get(_getPrototypeOf(CheckboxField.prototype), \"render\", this).call(this);\n    }\n  }]);\n  return CheckboxField;\n}(_BaseField2[\"default\"]);\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/baseCardField/CheckboxField.jsx?");

/***/ }),

/***/ "./src/component/mobile/baseCardField/ComboField.jsx":
/*!***********************************************************!*\
  !*** ./src/component/mobile/baseCardField/ComboField.jsx ***!
  \***********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.get.js */ \"../../node_modules/core-js/modules/es.reflect.get.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _componentutil = __webpack_require__(/*! ../../../util/componentutil */ \"./src/util/componentutil.js\");\nvar _serverproperties = __webpack_require__(/*! ../../../constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _Select = _interopRequireDefault(__webpack_require__(/*! ../base/Select */ \"./src/component/mobile/base/Select.js\"));\nvar _BaseField2 = _interopRequireDefault(__webpack_require__(/*! ./BaseField */ \"./src/component/mobile/baseCardField/BaseField.jsx\"));\nvar _appModelFunction = __webpack_require__(/*! @/model/appModelFunction */ \"./src/model/appModelFunction.js\");\nvar _UpdateComboDataWrap = __webpack_require__(/*! @/component/common/UpdateComboDataWrap.jsx */ \"./src/component/common/UpdateComboDataWrap.jsx\");\nvar _class;\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _get() { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar ComboField = exports[\"default\"] = (0, _UpdateComboDataWrap.UpdateCardComboItemDataWrap)(_class = /*#__PURE__*/function (_BaseField) {\n  _inherits(ComboField, _BaseField);\n  function ComboField() {\n    _classCallCheck(this, ComboField);\n    return _callSuper(this, ComboField, arguments);\n  }\n  _createClass(ComboField, [{\n    key: \"handleSelectChange\",\n    value: function handleSelectChange(value) {\n      this.stopEditing(value); // 父方法\n    }\n  }, {\n    key: \"getThisField\",\n    value: function getThisField() {\n      var _this = this;\n      var _this$props = this.props,\n        model = _this$props.model,\n        editOption = _this$props.editOption,\n        gridKey = _this$props.gridKey,\n        noValue = _this$props.noValue;\n      var pageId = model.pageId,\n        key = model.key,\n        state = model.state;\n      var isNewline = model.getMetaProperty('atw'); // 是否换行，父组件设置属性对下拉内部的文本不生效\n      var inputProps = this.getInputProps(); // 父方法\n      var inputStyle = this.getInputStyle(); // 父方法\n      var showStyle = editOption && editOption.get('showStyle') || 0;\n      var lockViewSelected = editOption && editOption.get('lockViewSelected');\n      var editOptionType = editOption && editOption.get('type');\n      var showClearBtn = (editOption && editOption.get(_serverproperties.SHOW_CLEAR_BUTTON)) !== false;\n      var multiple = editOptionType === 'mulcombo';\n      delete inputProps.Grow;\n      var items = (0, _appModelFunction.getDataProperty)(pageId, gridKey, ['colCtrl', key, _serverproperties.STORE])(state) || editOption.get(_serverproperties.STORE);\n      var style = (0, _componentutil.getCommonStyle)(model);\n      var imageStyle = this.getImageStyle(style);\n      var array = [];\n      items.forEach(function (item) {\n        var val = item.get(0);\n        var itemVisible = item.get(3, true);\n        if (val != null && val != '') {\n          array.push({\n            value: val,\n            alias: item.getIn([1, model.getUserLocale()]),\n            imgkey: item.get(2) ? (0, _componentutil.getImgFullPath)(_this._fileServer, item.get(2)) : null,\n            itemVisible: itemVisible,\n            disabled: item.get(4)\n          });\n        }\n      });\n      return /*#__PURE__*/_react[\"default\"].createElement(_Select[\"default\"], _extends({\n        style: Object.assign({}, inputStyle, {\n          height: '100%',\n          flexGrow: 1\n        }),\n        items: array,\n        showStyle: showStyle,\n        lockViewSelected: lockViewSelected,\n        aliasStyle: imageStyle,\n        multiple: multiple,\n        showRightIcon: true,\n        onChange: function onChange(value) {\n          return _this.handleSelectChange(value);\n        }\n      }, inputProps, {\n        noValue: noValue,\n        isNewline: isNewline,\n        showClearBtn: showClearBtn\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return _get(_getPrototypeOf(ComboField.prototype), \"render\", this).call(this);\n    }\n  }]);\n  return ComboField;\n}(_BaseField2[\"default\"])) || _class;\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/baseCardField/ComboField.jsx?");

/***/ }),

/***/ "./src/component/mobile/baseCardField/DateField.jsx":
/*!**********************************************************!*\
  !*** ./src/component/mobile/baseCardField/DateField.jsx ***!
  \**********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.get.js */ \"../../node_modules/core-js/modules/es.reflect.get.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _DateRangePicker = _interopRequireDefault(__webpack_require__(/*! ../base/DateRangePicker */ \"./src/component/mobile/base/DateRangePicker.jsx\"));\nvar _DatePicker = _interopRequireDefault(__webpack_require__(/*! ../base/DatePicker */ \"./src/component/mobile/base/DatePicker.jsx\"));\nvar _serverproperties = __webpack_require__(/*! ../../../constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _BaseField2 = _interopRequireDefault(__webpack_require__(/*! ./BaseField */ \"./src/component/mobile/baseCardField/BaseField.jsx\"));\nvar _componentutil = __webpack_require__(/*! @/util/componentutil */ \"./src/util/componentutil.js\");\nvar _gridaction = __webpack_require__(/*! @/action/gridaction */ \"./src/action/gridaction.js\");\nvar _fieldaction = __webpack_require__(/*! @/action/fieldaction */ \"./src/action/fieldaction.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _get() { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar DateField = exports[\"default\"] = /*#__PURE__*/function (_BaseField) {\n  _inherits(DateField, _BaseField);\n  function DateField() {\n    _classCallCheck(this, DateField);\n    return _callSuper(this, DateField, arguments);\n  }\n  _createClass(DateField, [{\n    key: \"_getInputProps\",\n    value: function _getInputProps() {\n      var _this = this;\n      var _this$props = this.props,\n        model = _this$props.model,\n        editOption = _this$props.editOption,\n        showTitle = _this$props.showTitle;\n      var inputProps = this.getInputProps(); // 父方法\n      inputProps.mask = editOption.get(_serverproperties.MASK);\n      inputProps.displayFormat = editOption.get(_serverproperties.DISPLAY_FORMAT);\n      inputProps.minDate = editOption.get(_serverproperties.MIN_VALUE);\n      inputProps.maxDate = editOption.get(_serverproperties.MAX_VALUE);\n      inputProps.regionType = editOption.get(_serverproperties.REGION_TYPE);\n      inputProps.valueLocale = (0, _componentutil.getRootLocale)();\n      inputProps.defaultTime = model && (0, _componentutil.getComponentDataProperty)(model, _serverproperties.DEFAULT_TIME, _serverproperties.DEFAULT_TIME, false);\n      inputProps.onChange = function (dateString) {\n        return _this.handleEditChange(dateString, true);\n      }; // 父方法\n      return inputProps;\n    }\n  }, {\n    key: \"handleDateChange\",\n    value: function handleDateChange(dateString1, dateString2, _ref) {\n      var isStartDate = _ref.isStartDate,\n        relatedDateKey = _ref.relatedDateKey;\n      var _this$props2 = this.props,\n        model = _this$props2.model,\n        data = _this$props2.data,\n        option = _this$props2.option,\n        gridKey = _this$props2.gridKey,\n        rowKey = _this$props2.rowKey,\n        dispatch = _this$props2.dispatch;\n      var row = data.get(option.get(rowKey));\n      if (isStartDate) {\n        dispatch((0, _gridaction.cellChange)({\n          pageId: model.pageId,\n          key: gridKey,\n          fireUpdEvt: true\n        }, [_defineProperty(_defineProperty(_defineProperty({}, _serverproperties.ROW, row), _serverproperties.VALUE, dateString2), _serverproperties.KEY, relatedDateKey)]));\n        this.handleEditChange(dateString1, true);\n      } else {\n        dispatch((0, _gridaction.cellChange)({\n          pageId: model.pageId,\n          key: gridKey,\n          fireUpdEvt: true\n        }, [_defineProperty(_defineProperty(_defineProperty({}, _serverproperties.ROW, row), _serverproperties.VALUE, dateString1), _serverproperties.KEY, relatedDateKey)]));\n        this.handleEditChange(dateString2, true);\n      }\n    }\n  }, {\n    key: \"getThisField\",\n    value: function getThisField() {\n      var _this2 = this;\n      // TODO isFromCardRow 获取是否在卡片字段内\n      var _this$props3 = this.props,\n        editOption = _this$props3.editOption,\n        type = _this$props3.editOptionType,\n        model = _this$props3.model,\n        isFromCardRow = _this$props3.isFromCardRow,\n        _this$props3$noValue = _this$props3.noValue,\n        noValue = _this$props3$noValue === void 0 ? '' : _this$props3$noValue,\n        dispatch = _this$props3.dispatch,\n        beforeClick = _this$props3.beforeClick,\n        option = _this$props3.option,\n        data = _this$props3.data,\n        fmtinfo = _this$props3.fmtinfo;\n      var inputProps = this._getInputProps();\n      var inputStyle = this.getInputStyle(); // 父方法\n      var value = this.getInitialValue();\n      var element;\n      if (type === 'daterange') {\n        element = /*#__PURE__*/_react[\"default\"].createElement(_DateRangePicker[\"default\"], _extends({\n          style: inputStyle\n        }, inputProps, {\n          onClick: function onClick() {\n            dispatch((0, _fieldaction.focus)(model));\n          },\n          dateSelectType: editOption.get('dateSelectType'),\n          isFromCardRow: isFromCardRow,\n          noValue: noValue\n        }));\n      } else {\n        var relatedDateKey = editOption.get(_serverproperties.RELATED_DATE);\n        // 获取日期控件的关联组织\n        var relateOrg = editOption.get(_serverproperties.RELATE_ORG);\n        var relateOrgInfo = (0, _componentutil.getRelateOrgInfo)({\n          option: option,\n          data: data,\n          fmtinfo: fmtinfo,\n          relateOrg: relateOrg,\n          fieldKey: model.key\n        });\n\n        // 多时区\n        var timeZone = relateOrgInfo && relateOrgInfo.timezone || model.getDataProperty(_serverproperties.TIME_ZONE);\n        var today = relateOrgInfo && relateOrgInfo.today || model.getDataProperty(_serverproperties.TODAY);\n        if (relatedDateKey && type === 'date' && !inputProps.isPrivacyField) {\n          type = 'daterange';\n          var _option = this.props.option;\n          var relatedDateKeyIndex = _option.get(relatedDateKey);\n          var relatedDateValue = this.props.data.get(relatedDateKeyIndex);\n          var isStartDate = editOption.get(_serverproperties.IS_START_DATE);\n          if (isStartDate) value = [value, relatedDateValue];else value = [relatedDateValue, value];\n          inputProps.isStartDate = isStartDate;\n          inputProps.value = value;\n          inputProps.onChange = function (dateString1, dateString2) {\n            return _this2.handleDateChange(dateString1, dateString2, {\n              isStartDate: isStartDate,\n              relatedDateKey: relatedDateKey\n            });\n          }; // 父方法\n        }\n        element = /*#__PURE__*/_react[\"default\"].createElement(_DatePicker[\"default\"], _extends({\n          type: type,\n          timeZone: timeZone,\n          today: today,\n          style: inputStyle\n        }, inputProps, {\n          onClick: function onClick() {},\n          onFocus: function onFocus() {\n            return dispatch((0, _fieldaction.focus)(model));\n          },\n          selectType: editOption.get('dateSelectType'),\n          isFromCardRow: isFromCardRow,\n          noValue: noValue,\n          beforeClick: beforeClick\n        }));\n      }\n      return element;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return _get(_getPrototypeOf(DateField.prototype), \"render\", this).call(this);\n    }\n  }]);\n  return DateField;\n}(_BaseField2[\"default\"]);\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/baseCardField/DateField.jsx?");

/***/ }),

/***/ "./src/component/mobile/baseCardField/EmailField.jsx":
/*!***********************************************************!*\
  !*** ./src/component/mobile/baseCardField/EmailField.jsx ***!
  \***********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.get.js */ \"../../node_modules/core-js/modules/es.reflect.get.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _baseComponent = __webpack_require__(/*! ../base/baseComponent */ \"./src/component/mobile/base/baseComponent.jsx\");\nvar _BaseField2 = _interopRequireDefault(__webpack_require__(/*! ./BaseField */ \"./src/component/mobile/baseCardField/BaseField.jsx\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _get() { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar EmailField = exports[\"default\"] = /*#__PURE__*/function (_BaseField) {\n  _inherits(EmailField, _BaseField);\n  function EmailField() {\n    _classCallCheck(this, EmailField);\n    return _callSuper(this, EmailField, arguments);\n  }\n  _createClass(EmailField, [{\n    key: \"getThisField\",\n    value: function getThisField() {\n      var _this = this;\n      var value = this.getInitialValue();\n      var inputStyle = this.getInputStyle();\n      var inputProps = this.getInputProps();\n      var element;\n      if (!this.state.editing) {\n        element = this.renderTextValue(value, inputStyle, inputProps.placeholder); // 父方法\n      } else {\n        inputProps.autoFocus = true;\n        inputProps.onBlur = function (e) {\n          return _this.stopEditing(e.target.value);\n        }; // 父方法\n        element = /*#__PURE__*/_react[\"default\"].createElement(_baseComponent.Text, _extends({}, inputProps, {\n          style: inputStyle,\n          onChange: function onChange(e) {\n            return _this.handleEditChange(e.target.value);\n          }\n        }));\n      }\n      return element;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return _get(_getPrototypeOf(EmailField.prototype), \"render\", this).call(this);\n    }\n  }]);\n  return EmailField;\n}(_BaseField2[\"default\"]);\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/baseCardField/EmailField.jsx?");

/***/ }),

/***/ "./src/component/mobile/baseCardField/FlexField.jsx":
/*!**********************************************************!*\
  !*** ./src/component/mobile/baseCardField/FlexField.jsx ***!
  \**********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-properties.js */ \"../../node_modules/core-js/modules/es.object.define-properties.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptors.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.find.js */ \"../../node_modules/core-js/modules/es.array.find.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.promise.js */ \"../../node_modules/core-js/modules/es.promise.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _componentutil = __webpack_require__(/*! ../../../util/componentutil */ \"./src/util/componentutil.js\");\nvar _flexFieldUtil = __webpack_require__(/*! ../../../util/flexFieldUtil */ \"./src/util/flexFieldUtil.js\");\nvar _componentFactory = _interopRequireDefault(__webpack_require__(/*! @/factory/componentFactory.js */ \"./src/factory/componentFactory.js\"));\nvar _memoryCacher = __webpack_require__(/*! ../../../model/memoryCacher */ \"./src/model/memoryCacher.js\");\nvar _FlexibleField = _interopRequireDefault(__webpack_require__(/*! ../base/FlexibleField.js */ \"./src/component/mobile/base/FlexibleField.js\"));\nvar _BaseField2 = _interopRequireDefault(__webpack_require__(/*! ./BaseField */ \"./src/component/mobile/baseCardField/BaseField.jsx\"));\nvar _FlexField2 = _interopRequireDefault(__webpack_require__(/*! ./FlexField.less */ \"./src/component/mobile/baseCardField/FlexField.less\"));\nvar _buttonaction = __webpack_require__(/*! @/action/buttonaction */ \"./src/action/buttonaction.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); } // import { tryCloseFlexible, closeFlexible, clickCloseFlexible } from '../../action/fieldaction'\nvar FlexField = /*#__PURE__*/function (_BaseField) {\n  _inherits(FlexField, _BaseField);\n  function FlexField() {\n    var _this;\n    _classCallCheck(this, FlexField);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _callSuper(this, FlexField, [].concat(args));\n    _this.handleClick = function (e) {\n      e.stopPropagation();\n      var _this$props = _this.props,\n        model = _this$props.model,\n        dispatch = _this$props.dispatch;\n      if (!_this.props.getLocked(model)) {\n        dispatch((0, _buttonaction.click)(model, []));\n      }\n    };\n    /**\n     * 获得值特殊处理方法\n     * @param {*} props\n     */\n    _this.getInitiaValueImpl = function (props, flexFieldKey) {\n      var data = props.data;\n      var _option = props.option.get(props.flexibleFieldKey);\n      var value = data.get(_option);\n      return _this.getFlexFieldValue(value, flexFieldKey);\n    };\n    return _this;\n  }\n  _createClass(FlexField, [{\n    key: \"getFlexFieldValue\",\n    value:\n    /**\n     * 弹性域内字段，从弹性域值中取得自身的值\n     * @param {*} flexibleFieldValue  弹性域值\n     * @param {*} dataIndex 弹性域内目标字段key\n     */\n    function getFlexFieldValue(flexibleFieldValue, dataIndex) {\n      var value = '';\n      var flexFieldVal = flexibleFieldValue && flexibleFieldValue.find(function (item) {\n        return item.get('k') === dataIndex;\n      });\n      value = flexFieldVal && flexFieldVal.get('v');\n      return value;\n    }\n\n    // useValKeysChange (newVal) {\n    //   if (this.preValue) {\n    //     const newKeys = newVal && newVal.map(item => item.get('k'))\n    //     const preKeys = this.preValue && this.preValue.map(item => item.get('k'))\n    //     return !is(newKeys, preKeys)\n    //   }\n    //   this.preValue = newVal\n    //   return false\n    // }\n  }, {\n    key: \"getThisField\",\n    value: function getThisField() {\n      var _this2 = this;\n      var _this$props2 = this.props,\n        title = _this$props2.title,\n        dataModel = _this$props2.dataModel,\n        data = _this$props2.data,\n        rowKey = _this$props2.rowKey,\n        style = _this$props2.style,\n        fieldAction = _this$props2.fieldAction,\n        fmtinfo = _this$props2.fmtinfo,\n        cardViewLocked = _this$props2.cardViewLocked,\n        selRows = _this$props2.selRows,\n        model = _this$props2.model,\n        labelDirection = _this$props2.labelDirection,\n        valueAreaStyle = _this$props2.valueAreaStyle,\n        constructorCardFieldProps = _this$props2.constructorCardFieldProps;\n      var componentData = dataModel.componentData; // componentData\n      var key = model.key;\n      var value = this.getInitialValue();\n\n      // const isValKeysChange = this.useValKeysChange(value)\n      var rowKeyVal = data.get(rowKey);\n      var inputStyle = this.getInputStyle();\n      var inputProps = this.getInputProps();\n      var lock = !!inputProps.readOnly;\n      var _style = Object.assign({}, inputStyle);\n      _style.display = style.display; // 对接卡片分录的显隐\n      var headerStyle = {\n        height: style.height\n      }; // 弹性域的高度设置为标题区域的高度，不设整体高度\n\n      var commonClass = (0, _componentutil.getCommonClass)(model);\n      var clickable = model.getMetaProperty('clickable'); // 容器点击\n\n      // 移动端方案1：移动端标识+行号,直接存缓存里\n      // const flexMeta1 = getPageData(pageId, [gridKey, 'flexMeta', model.key])// model.key\n      // 移动端方案2：动态从componentData取\n      var _getFlexFieldMeta = (0, _flexFieldUtil.getFlexFieldMeta)(value, componentData, key),\n        flexFieldItems = _getFlexFieldMeta.flexFieldItems,\n        matched = _getFlexFieldMeta.matched;\n      flexFieldItems = matched ? flexFieldItems : (0, _immutable.List)([]);\n      var flexibleFieldKey = key;\n      var state = this.props.appState;\n      var locked = this.props.cardViewLocked || lock;\n      // const children = parseSubComponents(flexfieldMeta, model.pageId, state)\n      var children = flexFieldItems.map(function (meta) {\n        var newMeta = meta.setIn(['item', 'mfp'], inputProps.mobFieldStyle === 0 ? 0 : 1);\n        if (locked) {\n          // 修改元数据锁定性\n          newMeta = newMeta.set('l', 63);\n        }\n        return (0, _componentFactory[\"default\"])(model.pageId, newMeta, state, undefined, _objectSpread(_objectSpread({}, constructorCardFieldProps(fieldAction, fmtinfo, newMeta, cardViewLocked, selRows, model)), {}, {\n          constructorCardFieldProps: constructorCardFieldProps,\n          cardViewLocked: locked,\n          // 对于弹性域内部字段来说，父锁定相当于整个卡片锁定\n          className: _FlexField2[\"default\"]['flex-card-field'],\n          flexibleFieldKey: flexibleFieldKey,\n          flexibleFieldValue: value,\n          getInitiaValueImpl: _this2.getInitiaValueImpl\n        }));\n      });\n      var titleInfo = (0, _flexFieldUtil.getFlexFieldItemsTitle)(model, flexFieldItems);\n      value = (0, _flexFieldUtil.getValue)(value, titleInfo); // 显示值\n      var required = model && model.getMetaProperty('mi');\n      var flexfieldCls = inputProps.mobFieldStyle === 0 ? 'flexfield-card' : 'flexfield-card-CT';\n      var formStatus = (0, _memoryCacher.getDynamicFormStatus)(model.pageId);\n      return /*#__PURE__*/_react[\"default\"].createElement(_FlexibleField[\"default\"], _extends({\n        id: model.key,\n        pageId: model.pageId,\n        handleClick: function handleClick(e) {\n          return clickable && _this2.handleClick(e);\n        },\n        style: _style,\n        headerStyle: headerStyle\n      }, commonClass, {\n        rowKeyVal: rowKeyVal,\n        value: value\n        // isValKeysChange={isValKeysChange}\n        ,\n        title: title,\n        required: required,\n        flexfieldCls: flexfieldCls,\n        lock: locked,\n        formStatus: formStatus,\n        labelDirection: labelDirection,\n        valueAreaStyle: valueAreaStyle\n      }), children, _react[\"default\"].Children.toArray((0, _componentutil.parseSubForms)(model.pageId, model.meta.get('id'), state)));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return this.getThisField();\n    }\n  }]);\n  return FlexField;\n}(_BaseField2[\"default\"]); // KDFlexibleField.actions = { ...buttonaction, tryCloseFlexible, closeFlexible }\nvar _default = exports[\"default\"] = FlexField; // 测试数据\n// value = value.get(0) ? value : fromJS([\n//   { v: 'a', alias: '32', k: '$$kdtest_flexfield__f000032' },\n//   { v: 'b', alias: '323', k: '$$kdtest_flexfield__f000011' }\n// ])\n// 测试元数据\n// matched = true\n// flexMeta = fromJS([\n//   { ln: false,\n//     caption: { zh_CN: '基础资料', en_US: '基础资料', zh_TW: '基礎資料' },\n//     dataIndex: 'kdtest_basedatafield_flex',\n//     lnl: false,\n//     l: 52,\n//     header: { zh_CN: '弹性域基础资料', en_US: '弹性域基础资料', zh_TW: '弹性域基礎資料' },\n//     item: { dsp: 'name', dst: 0, ei: 'kdtest_txy_base_test', ep: 0, mi: false, type: 'basedata' },\n//     type: 'cardfield',\n//     sem: false,\n//     id: 'kdtest_basedatafield_flex' },\n//   { ln: false,\n//     caption: { zh_CN: '文本', en_US: '文本', zh_TW: '文本' },\n//     dataIndex: 'kdtest_textfield_flex',\n//     lnl: false,\n//     l: 52,\n//     header: { zh_CN: '文本', en_US: '文本', zh_TW: '文本' },\n//     item: { minlength: 0, maxlength: 50, mi: false, type: 'text' },\n//     type: 'cardfield',\n//     sem: false,\n//     id: 'kdtest_textfield_flex' }\n// ])\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/baseCardField/FlexField.jsx?");

/***/ }),

/***/ "./src/component/mobile/baseCardField/IconField.jsx":
/*!**********************************************************!*\
  !*** ./src/component/mobile/baseCardField/IconField.jsx ***!
  \**********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _Icon = _interopRequireDefault(__webpack_require__(/*! ../base/Icon */ \"./src/component/mobile/base/Icon.jsx\"));\nvar _defaultApp = _interopRequireDefault(__webpack_require__(/*! ../img/default/defaultApp.png */ \"./src/component/mobile/img/default/defaultApp.png\"));\nvar _BaseField2 = _interopRequireDefault(__webpack_require__(/*! ./BaseField */ \"./src/component/mobile/baseCardField/BaseField.jsx\"));\nvar _componentutil = __webpack_require__(/*! ../../../util/componentutil */ \"./src/util/componentutil.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar IconField = exports[\"default\"] = /*#__PURE__*/function (_BaseField) {\n  _inherits(IconField, _BaseField);\n  function IconField() {\n    _classCallCheck(this, IconField);\n    return _callSuper(this, IconField, arguments);\n  }\n  _createClass(IconField, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n        editOption = _this$props.editOption,\n        style = _this$props.style;\n      var value = this.getInitialValue() || [];\n      var _value = _slicedToArray(value, 2),\n        imgUrl = _value[0],\n        bgColor = _value[1];\n      var imageZoom = editOption.get('imageZoom') !== undefined;\n      if (!imgUrl) {\n        imgUrl = _defaultApp[\"default\"];\n      } else {\n        imgUrl = (0, _componentutil.getImgFullPath)(this._fileServer, imgUrl, true);\n      }\n      // else if(!/^http(s)*/.test(imgUrl)) {\n      //   imgUrl = `${this._fileServer + imgUrl}`;\n      // }\n      return /*#__PURE__*/_react[\"default\"].createElement(_Icon[\"default\"], {\n        imageZoom: imageZoom,\n        style: style,\n        src: imgUrl,\n        bgColor: bgColor,\n        clickable: false\n      });\n    }\n  }]);\n  return IconField;\n}(_BaseField2[\"default\"]);\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/baseCardField/IconField.jsx?");

/***/ }),

/***/ "./src/component/mobile/baseCardField/LabelStyleField.jsx":
/*!****************************************************************!*\
  !*** ./src/component/mobile/baseCardField/LabelStyleField.jsx ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _classnames2 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _componentutil = __webpack_require__(/*! ../../../util/componentutil */ \"./src/util/componentutil.js\");\nvar _serverproperties = __webpack_require__(/*! ../../../constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _formatUtil = __webpack_require__(/*! ../../../util/formatUtil */ \"./src/util/formatUtil.js\");\nvar _common = _interopRequireDefault(__webpack_require__(/*! ../../common/common.less */ \"./src/component/common/common.less\"));\nvar _BaseField2 = _interopRequireDefault(__webpack_require__(/*! ./BaseField */ \"./src/component/mobile/baseCardField/BaseField.jsx\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _CardField = _interopRequireDefault(__webpack_require__(/*! ../../mobile/base/CardField.less */ \"./src/component/mobile/base/CardField.less\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar LabelStyleField = exports[\"default\"] = /*#__PURE__*/function (_BaseField) {\n  _inherits(LabelStyleField, _BaseField);\n  function LabelStyleField() {\n    _classCallCheck(this, LabelStyleField);\n    return _callSuper(this, LabelStyleField, arguments);\n  }\n  _createClass(LabelStyleField, [{\n    key: \"getSelectValue\",\n    value: function getSelectValue(value) {\n      if (value == null) return [];\n      if (typeof value === 'string') {\n        return value === '' ? [] : value.split(',');\n      }\n      return [value];\n    }\n  }, {\n    key: \"getSelectDispVal\",\n    value: function getSelectDispVal(val, type) {\n      var _this = this;\n      var model = this.props.model;\n      var editorOption = model.getMetaProperty('editor');\n      var editOption = model.getMetaProperty('item') || editorOption;\n      var showStyle = editOption && editOption.get('showStyle') || 0;\n      var items = (0, _componentutil.getComponentDataProperty)(model, _serverproperties.STORE, [editorOption ? 'editor' : 'item', _serverproperties.STORE]) || [];\n      var array = [];\n      items.forEach(function (item) {\n        if (item.get(0) !== '') {\n          array.push({\n            value: item.get(0),\n            alias: item.getIn([1, model.getUserLocale()]),\n            imgkey: item.get(2) ? (0, _componentutil.getImgFullPath)(_this._fileServer, item.get(2)) : null,\n            itemVisible: item.get(3, true)\n          });\n        }\n      });\n      var values = this.getSelectValue(val);\n      var selectInfo = [];\n      var imgWidth = type === 'mulcombo' ? '25px' : '100%';\n      array.forEach(function (item, index) {\n        if (values.indexOf(item.value) === -1) return;\n        switch (showStyle) {\n          case 1:\n            selectInfo.push(item.imgkey ? /*#__PURE__*/_react[\"default\"].createElement(\"img\", {\n              style: {\n                width: imgWidth,\n                display: 'block'\n              },\n              src: item.imgkey\n            }) : item.alias);\n            break;\n          case 2:\n            selectInfo.push( /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n              key: index,\n              style: {\n                display: 'flex',\n                alignItems: 'center'\n              }\n            }, item.imgkey ? /*#__PURE__*/_react[\"default\"].createElement(\"img\", {\n              style: {\n                width: '25px',\n                height: '25px'\n              },\n              src: item.imgkey\n            }) : null, /*#__PURE__*/_react[\"default\"].createElement(\"span\", null, item.alias)));\n            break;\n          default:\n            selectInfo.push(item.alias);\n            break;\n        }\n      });\n      var hasValue = selectInfo && selectInfo.length > 0;\n      var innerValue = hasValue && (selectInfo.length === 1 ? selectInfo : /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center'\n        }\n      }, '包括 ', selectInfo[0], \" \\u7B49\".concat(selectInfo.length, \"\\u9879\")));\n      return innerValue;\n    }\n  }, {\n    key: \"getLabelDispVal\",\n    value: function getLabelDispVal(val, fieldType, editOption) {\n      var result;\n      switch (fieldType) {\n        case 'date':\n        case 'datetime':\n          var displayFormat = editOption.get(_serverproperties.DISPLAY_FORMAT);\n          result = (0, _formatUtil.formatDate)(val, displayFormat);\n          break;\n        case 'city':\n        case 'user':\n        case 'basedata':\n        case 'mulbasedata':\n        case 'org':\n          var alias = val ? val.get(1) : '';\n          var value = val ? val.get(0) : '';\n          if (fieldType == 'mulbasedata') {\n            // 多选基础资料格式：[['name1','number1'],['name2','number2'],['name3','number3']]\n            alias = '';\n            value = '';\n            if (val && val.map) {\n              val.map(function (item, index) {\n                alias += (index == 0 ? '' : ';') + item.get(1); // name\n                value += (index == 0 ? '' : ',') + item.get(0); // number\n              });\n            }\n          }\n          result = alias;\n          break;\n        case 'combo':\n        case 'mulcombo':\n          result = val && this.getSelectDispVal(val, fieldType);\n          break;\n        case 'number':\n          result = val;\n          var formatInfo = (0, _componentutil.getFieldFormatInfo)(this.props) || {};\n          var showSymbol = formatInfo.showSymbol,\n            symbol = formatInfo.symbol,\n            decimalLength = formatInfo.decimalLength;\n          // if (showSymbol && symbol) {\n          //   result = symbol + formatNumber(val || 0, { mask: '', decimalLength: decimalLength, zeroShow: true })\n          // }\n          if (!val && val !== 0) {\n            result = '';\n          } else {\n            result = (0, _formatUtil.formatNumber)(val, {\n              mask: '',\n              decimalLength: decimalLength,\n              zeroShow: true,\n              symbol: symbol\n            });\n          }\n          break;\n        default:\n          result = val;\n      }\n      return result;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n        editOptionType = _this$props.editOptionType,\n        editOption = _this$props.editOption,\n        style = _this$props.style,\n        commonClass = _this$props.commonClass,\n        title = _this$props.title,\n        lock = _this$props.lock;\n      // let placeholder = editOption.get(PLACE_HOLDER) || '';\n      var value = this.getInitialValue();\n      value = this.getLabelDispVal(value, editOptionType, editOption);\n      var cn = (0, _classnames2[\"default\"])(_defineProperty(_defineProperty(_defineProperty({}, _common[\"default\"]['text-omit'], true), _CardField[\"default\"]['label-color'], !lock), _CardField[\"default\"]['label-disabled-color'], lock), commonClass);\n      var textAlign = editOption.get('text-align');\n      var color = editOption.get('fc');\n      var backgroundColor = editOption.get('bc');\n      var fontSize = editOption.get('fs');\n      if (textAlign) {\n        style = Object.assign({}, style, {\n          textAlign: textAlign\n        });\n      }\n      if (color) {\n        style = Object.assign({}, style, {\n          color: color\n        });\n      }\n      if (backgroundColor) {\n        style = Object.assign({}, style, {\n          backgroundColor: backgroundColor\n        });\n      }\n      if (fontSize) {\n        style = Object.assign({}, style, {\n          fontSize: fontSize\n        });\n      }\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: cn,\n        style: style\n      }, typeof value === 'string' ? /*#__PURE__*/_react[\"default\"].createElement(\"span\", null, value || title) : value);\n    }\n  }]);\n  return LabelStyleField;\n}(_BaseField2[\"default\"]);\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/baseCardField/LabelStyleField.jsx?");

/***/ }),

/***/ "./src/component/mobile/baseCardField/LargeTextField.jsx":
/*!***************************************************************!*\
  !*** ./src/component/mobile/baseCardField/LargeTextField.jsx ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.get.js */ \"../../node_modules/core-js/modules/es.reflect.get.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.string.replace.js */ \"../../node_modules/core-js/modules/es.string.replace.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _baseComponent = __webpack_require__(/*! ../base/baseComponent */ \"./src/component/mobile/base/baseComponent.jsx\");\nvar _BaseField2 = _interopRequireDefault(__webpack_require__(/*! ./BaseField */ \"./src/component/mobile/baseCardField/BaseField.jsx\"));\nvar _TextAreaField = _interopRequireDefault(__webpack_require__(/*! ./TextAreaField.less */ \"./src/component/mobile/baseCardField/TextAreaField.less\"));\nvar _xssFilters = _interopRequireDefault(__webpack_require__(/*! @/util/xssFilters */ \"./src/util/xssFilters.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _get() { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar LargeTextField = exports[\"default\"] = /*#__PURE__*/function (_BaseField) {\n  _inherits(LargeTextField, _BaseField);\n  function LargeTextField() {\n    _classCallCheck(this, LargeTextField);\n    return _callSuper(this, LargeTextField, arguments);\n  }\n  _createClass(LargeTextField, [{\n    key: \"getThisField\",\n    value: function getThisField() {\n      var _this = this;\n      var value = this.getInitialValue() || '';\n      var inputProps = this.getInputProps();\n      var inputStyle = this.getInputStyle();\n      if (inputProps.readOnly) {\n        var text = (0, _xssFilters[\"default\"])(value);\n        text = text && text.replace(/(\\r\\n)|(\\n)|(\\r)/g, '<br />');\n        var html = text && text.replace(/(\\t)/g, '<span style=\"padding-left: 2em\"></span>'); // 替换换行缩进转义符\n        return /*#__PURE__*/_react[\"default\"].createElement(\"div\", _extends({\n          className: _TextAreaField[\"default\"].value_readOnly\n        }, inputProps, {\n          style: inputStyle,\n          dangerouslySetInnerHTML: {\n            __html: html\n          }\n        }));\n      }\n      inputProps.inputRef = function (n) {\n        _this.textareaDom = n;\n      };\n      inputProps.onBlur = function (e) {\n        var scrollTop = _this.textareaDom && _this.textareaDom.scrollTop;\n        if (scrollTop > 0) {\n          _this.textareaDom.scrollTop = 0;\n        }\n        _this.handleEditChange(e.target.value, true);\n        _this.setState({\n          editing: false\n        });\n      };\n      var element;\n      if (!this.state.editing) {\n        element = this.renderTextValue(value, inputStyle, inputProps.placeholder);\n      } else {\n        inputProps.autoFocus = true;\n        element = /*#__PURE__*/_react[\"default\"].createElement(_baseComponent.TextArea, _extends({}, inputProps, {\n          style: inputStyle,\n          onChange: function onChange(e) {\n            return _this.handleEditChange(e.target.value);\n          }\n        })); // 父方法\n      }\n      return element;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return _get(_getPrototypeOf(LargeTextField.prototype), \"render\", this).call(this);\n    }\n  }]);\n  return LargeTextField;\n}(_BaseField2[\"default\"]);\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/baseCardField/LargeTextField.jsx?");

/***/ }),

/***/ "./src/component/mobile/baseCardField/MulLangField.jsx":
/*!*************************************************************!*\
  !*** ./src/component/mobile/baseCardField/MulLangField.jsx ***!
  \*************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.get.js */ \"../../node_modules/core-js/modules/es.reflect.get.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _MulLangText = _interopRequireDefault(__webpack_require__(/*! ../base/MulLangText */ \"./src/component/mobile/base/MulLangText.jsx\"));\nvar _BaseField2 = _interopRequireDefault(__webpack_require__(/*! ./BaseField */ \"./src/component/mobile/baseCardField/BaseField.jsx\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _langUtil = __webpack_require__(/*! @/util/langUtil */ \"./src/util/langUtil.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _get() { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar MulLangField = exports[\"default\"] = /*#__PURE__*/function (_BaseField) {\n  _inherits(MulLangField, _BaseField);\n  function MulLangField() {\n    _classCallCheck(this, MulLangField);\n    return _callSuper(this, MulLangField, arguments);\n  }\n  _createClass(MulLangField, [{\n    key: \"getLocaleTextDisplayValue\",\n    value:\n    // 获取多语言value的显示内容\n    function getLocaleTextDisplayValue(value, model) {\n      if (_immutable.Map.isMap(value)) {\n        var localLang = model.getUserLocale(); // 系统当前语言\n        var defaultLang = model.getDefaultLang(); // 系统默认语言\n        var initLang = (0, _langUtil.getLanguage)(value, localLang, defaultLang);\n        return value.get(initLang) || '';\n      } else {\n        return value;\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var inputProps = this.getInputProps();\n      if (this.textareaDom && !inputProps.readOnly) {\n        var parentNode = this.textareaDom.parentNode;\n        var parentHeight = parentNode.clientHeight;\n        if (parentHeight !== this.textareaDom.clientHeight) {\n          var height = parentHeight ? parentHeight + 'px' : '20px';\n          this.textareaDom.style.cssText += \";height: \".concat(height, \";min-height: \").concat(height, \";max-height: \").concat(height, \";\");\n        }\n      }\n    }\n  }, {\n    key: \"getThisField\",\n    value: function getThisField() {\n      var _this = this;\n      var _this$props = this.props,\n        model = _this$props.model,\n        editOption = _this$props.editOption;\n      var value = this.getInitialValue();\n      var inputProps = this.getInputProps();\n      var inputStyle = this.getInputStyle();\n      var multiLine = editOption && editOption.get('multiLine'); // 是否多行显示\n      inputProps.value = this.getLocaleTextDisplayValue(value, model);\n      if (multiLine !== true) {\n        inputProps.autoFocus = true;\n        inputProps.onBlur = function (e) {\n          return _this.stopEditing(e.target.value);\n        }; // 父方法\n      } else {\n        inputProps.inputRef = function (n) {\n          _this.textareaDom = n;\n        };\n        inputProps.onBlur = function (e) {\n          var scrollTop = _this.textareaDom && _this.textareaDom.scrollTop;\n          if (scrollTop > 0) {\n            _this.textareaDom.scrollTop = 0;\n          }\n          _this.handleEditChange(e.target.value, true);\n        };\n      }\n      var element;\n      if (!this.state.editing && multiLine !== true) {\n        element = this.renderTextValue(inputProps.value, inputStyle, inputProps.placeholder, {}, false, multiLine); // 父方法\n      } else {\n        element = /*#__PURE__*/_react[\"default\"].createElement(_MulLangText[\"default\"], _extends({\n          multiLine: multiLine\n        }, inputProps, {\n          style: inputStyle,\n          onChange: function onChange(e) {\n            return _this.handleEditChange(e.target.value);\n          }\n        })); // 父方法\n      }\n      return element;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return _get(_getPrototypeOf(MulLangField.prototype), \"render\", this).call(this);\n    }\n  }]);\n  return MulLangField;\n}(_BaseField2[\"default\"]);\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/baseCardField/MulLangField.jsx?");

/***/ }),

/***/ "./src/component/mobile/baseCardField/NumberField.jsx":
/*!************************************************************!*\
  !*** ./src/component/mobile/baseCardField/NumberField.jsx ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.get.js */ \"../../node_modules/core-js/modules/es.reflect.get.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _componentutil = __webpack_require__(/*! ../../../util/componentutil */ \"./src/util/componentutil.js\");\nvar _baseComponent = __webpack_require__(/*! ../base/baseComponent */ \"./src/component/mobile/base/baseComponent.jsx\");\nvar _serverproperties = __webpack_require__(/*! ../../../constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _BaseField2 = _interopRequireDefault(__webpack_require__(/*! ./BaseField */ \"./src/component/mobile/baseCardField/BaseField.jsx\"));\nvar _fieldUtils = __webpack_require__(/*! @/util/fieldUtils */ \"./src/util/fieldUtils.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _get() { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar NumberField = exports[\"default\"] = /*#__PURE__*/function (_BaseField) {\n  _inherits(NumberField, _BaseField);\n  function NumberField() {\n    _classCallCheck(this, NumberField);\n    return _callSuper(this, NumberField, arguments);\n  }\n  _createClass(NumberField, [{\n    key: \"getThisField\",\n    value: function getThisField() {\n      var _editOption$get,\n        _this = this;\n      var _this$props = this.props,\n        editOption = _this$props.editOption,\n        model = _this$props.model,\n        data = _this$props.data,\n        option = _this$props.option;\n      var value = this.getInitialValue();\n      var inputStyle = this.getInputStyle();\n      var inputProps = this.getInputProps();\n      var element;\n      var formatInfo = (0, _componentutil.getFieldFormatInfo)(this.props) || {};\n      var scaleDependencies = (_editOption$get = editOption.get(_serverproperties.SCALE_DEPENDENCIES)) === null || _editOption$get === void 0 ? void 0 : _editOption$get.toJS();\n      var noDisplayDecimalTailZero = editOption.get(_serverproperties.NO_DISPLAY_SCALE_ZERO) || false;\n      var symbol = formatInfo.symbol;\n      // 金额字段显示货币符号\n      var showSymbol = formatInfo.showSymbol;\n      var decimalLength = [undefined, null, ''].includes(formatInfo.decimalLength) ? editOption.get(_serverproperties.SCALE) : formatInfo.decimalLength;\n      var zeroShow = editOption.get(_serverproperties.ZERO_SHOW) || false;\n      var mask = editOption.get(_serverproperties.DISPLAY_FORMAT) || editOption.get(_serverproperties.MASK);\n      var roundMethod = editOption.get(_serverproperties.ROUND_METHOD);\n      var cpropIndex = option.get('cprop');\n      var displayDecimalLength;\n      if (cpropIndex !== undefined) {\n        displayDecimalLength = data.getIn([cpropIndex, model.key, _serverproperties.DISPLAY_SCALE]);\n      }\n      if (scaleDependencies) {\n        var pageId = model.pageId,\n          key = model.key;\n        var rowData = (0, _componentutil.getCardConvertedRowData)(data, option);\n        var dependenciesScale = (0, _componentutil.getScaleFromDependencies)({\n          pageId: pageId,\n          data: rowData,\n          key: key,\n          scaleDependencies: scaleDependencies\n        });\n        if (dependenciesScale !== undefined) {\n          decimalLength = dependenciesScale;\n        }\n      }\n      if (!this.state.editing) {\n        var _displayDecimalLength;\n        /**\n        * 问题：当失去焦点后，value为空字符串时，会短暂只显示币别符号\n        * 修复：将value转为0\n        */\n        // 允许为null\n        // if (Object.is(value, '')) value = 0\n        element = this.renderTextValue(value, inputStyle, inputProps.placeholder, {\n          showSymbol: showSymbol,\n          symbol: symbol,\n          decimalLength: (_displayDecimalLength = displayDecimalLength) !== null && _displayDecimalLength !== void 0 ? _displayDecimalLength : decimalLength,\n          noDisplayDecimalTailZero: noDisplayDecimalTailZero,\n          type: editOption.get(_serverproperties.NUM_TYPE),\n          zeroShow: zeroShow,\n          mask: mask,\n          roundMethod: roundMethod\n        });\n      } else {\n        inputProps.autoFocus = true;\n        inputProps.onBlur = function (e) {\n          return _this.stopEditing(e.target.value);\n        };\n        inputProps.digitLength = editOption.get(_serverproperties.PRECISION);\n        inputProps.min = editOption.get(_serverproperties.MIN_VALUE);\n        inputProps.max = editOption.get(_serverproperties.MAX_VALUE);\n        inputProps.minMark = editOption.get(_serverproperties.MIN_MARK);\n        inputProps.maxMark = editOption.get(_serverproperties.MAX_MARK);\n        inputProps.noDisplayDecimalTailZero = editOption.get(_serverproperties.NO_DISPLAY_SCALE_ZERO);\n        inputProps.mask = editOption.get(_serverproperties.DISPLAY_FORMAT) || editOption.get(_serverproperties.MASK);\n        inputProps.zeroShow = editOption.get(_serverproperties.ZERO_SHOW);\n        inputProps.roundMethod = editOption.get(_serverproperties.ROUND_METHOD);\n        inputProps.decimalLength = decimalLength;\n        inputProps.displayDecimalLength = displayDecimalLength;\n        // inputProps.placeholder = ''\n\n        var scale = editOption.get(_serverproperties.SCALE);\n        if (scale !== inputProps.decimalLength) {\n          // 整体精度根据小数精度去重算，针对金额币别有关联的情况\n          inputProps.digitLength = inputProps.digitLength - scale + inputProps.decimalLength;\n        }\n        var shouldGetFormattedValueOnBlur = (0, _fieldUtils.isFlexField)(model);\n        element = /*#__PURE__*/_react[\"default\"].createElement(_baseComponent.Number, _extends({}, inputProps, {\n          isCard: true,\n          style: inputStyle,\n          onChange: function onChange(e) {\n            return _this.handleEditChange(e.target.value);\n          },\n          shouldGetFormattedValueOnBlur: shouldGetFormattedValueOnBlur\n        }));\n      }\n      return element;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return _get(_getPrototypeOf(NumberField.prototype), \"render\", this).call(this);\n    }\n  }]);\n  return NumberField;\n}(_BaseField2[\"default\"]);\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/baseCardField/NumberField.jsx?");

/***/ }),

/***/ "./src/component/mobile/baseCardField/OtherField.jsx":
/*!***********************************************************!*\
  !*** ./src/component/mobile/baseCardField/OtherField.jsx ***!
  \***********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _reactDom = _interopRequireDefault(__webpack_require__(/*! react-dom */ \"webpack/sharing/consume/default/react-dom/react-dom?418d\"));\nvar _BaseField2 = _interopRequireDefault(__webpack_require__(/*! ./BaseField */ \"./src/component/mobile/baseCardField/BaseField.jsx\"));\nvar _componentutil = __webpack_require__(/*! ../../../util/componentutil */ \"./src/util/componentutil.js\");\nvar _serverproperties = __webpack_require__(/*! ../../../constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _formatUtil = __webpack_require__(/*! ../../../util/formatUtil */ \"./src/util/formatUtil.js\");\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _CardField = _interopRequireDefault(__webpack_require__(/*! ../base/CardField */ \"./src/component/mobile/base/CardField.js\"));\nvar _KDTime = __webpack_require__(/*! ../KDTime */ \"./src/component/mobile/KDTime.js\");\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _imageUtil = __webpack_require__(/*! ../../../util/imageUtil */ \"./src/util/imageUtil.js\");\nvar _baseComponent_undefined = _interopRequireDefault(__webpack_require__(/*! ../img/default/baseComponent_undefined.png */ \"./src/component/mobile/img/default/baseComponent_undefined.png\"));\nvar _grid = __webpack_require__(/*! @/util/component/grid */ \"./src/util/component/grid.js\");\nvar _ImagePreview = _interopRequireDefault(__webpack_require__(/*! @/component/mobile/base/ImagePreview */ \"./src/component/mobile/base/ImagePreview.jsx\"));\nvar _flexFieldUtil = __webpack_require__(/*! @/util/flexFieldUtil */ \"./src/util/flexFieldUtil.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar OtherField = exports[\"default\"] = /*#__PURE__*/function (_BaseField) {\n  _inherits(OtherField, _BaseField);\n  function OtherField(props) {\n    var _this;\n    _classCallCheck(this, OtherField);\n    _this = _callSuper(this, OtherField, [props]);\n    _this.handleClosePreview = function (e) {\n      e.stopPropagation();\n      _this.setState({\n        isPreviewing: false\n      });\n    };\n    _this.handleClick = function (e) {\n      var model = _this.props.model;\n      var lockPreview = model.getMetaProperty(['editor', 'lip']);\n      if (lockPreview) {\n        e.stopPropagation();\n        _this.setState({\n          isPreviewing: true\n        });\n      }\n    };\n    _this.state = {\n      isPreviewing: false\n    };\n    return _this;\n  }\n  _createClass(OtherField, [{\n    key: \"getSelectValue\",\n    value: function getSelectValue(value) {\n      if (value == null) return [];\n      if (typeof value === 'string') {\n        return value === '' ? [] : value.split(',');\n      }\n      return [value];\n    }\n  }, {\n    key: \"getSelectDispVal\",\n    value: function getSelectDispVal(val, editorOption, type) {\n      var _this2 = this;\n      var model = this.props.model;\n      var showStyle = _immutable.Map.isMap(editorOption) && editorOption.get('showStyle') || model.getMetaProperty('showStyle');\n      var items = (0, _componentutil.getComponentDataProperty)(model, _serverproperties.STORE, ['editor', _serverproperties.STORE]) || [];\n      var array = [];\n      items.forEach(function (item) {\n        if (item.get(0) !== '') {\n          array.push({\n            value: item.get(0),\n            alias: item.getIn([1, model.getUserLocale()]),\n            imgkey: item.get(2) ? (0, _componentutil.getImgFullPath)(_this2._fileServer, item.get(2)) : null,\n            itemVisible: item.get(3, true)\n          });\n        }\n      });\n      var values = this.getSelectValue(val);\n      var selectInfo = [];\n      var imgWidth = type === 'mulcombo' ? '25px' : '100%';\n      array.forEach(function (item, index) {\n        if (values.indexOf(item.value) === -1) return;\n        switch (showStyle) {\n          case 1:\n            selectInfo.push(item.imgkey ? /*#__PURE__*/_react[\"default\"].createElement(\"img\", {\n              style: {\n                width: imgWidth,\n                display: 'block'\n              },\n              src: item.imgkey\n            }) : item.alias);\n            break;\n          case 2:\n            selectInfo.push( /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n              key: index,\n              style: {\n                display: 'flex',\n                alignItems: 'flex-star'\n              }\n            }, item.imgkey ? /*#__PURE__*/_react[\"default\"].createElement(\"img\", {\n              style: {\n                width: '25px',\n                height: '25px'\n              },\n              src: item.imgkey\n            }) : null, /*#__PURE__*/_react[\"default\"].createElement(\"span\", null, item.alias)));\n            break;\n          default:\n            selectInfo.push(item.alias);\n            break;\n        }\n      });\n      var hasValue = selectInfo && selectInfo.length > 0;\n      var innerValue = hasValue && (selectInfo.length === 1 ? selectInfo : /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'flex-star'\n        }\n      }, '包括 ', selectInfo[0], \" \\u7B49\".concat(selectInfo.length, \"\\u9879\")));\n      return innerValue;\n    }\n  }, {\n    key: \"getLabelDispVal\",\n    value: function getLabelDispVal(val, listCardType, editorOption) {\n      var result;\n      switch (listCardType) {\n        case 'date':\n        case 'datetime':\n        case 'time':\n          {\n            if (val && val.get) val = val.get(0);\n            result = val;\n            // let displayFormat = editorOption.get(DISPLAY_FORMAT)\n            // result = formatDate(val, displayFormat)\n            break;\n          }\n        case 'city':\n        case 'user':\n        case 'basedata':\n        case 'mulbasedata':\n        case 'org':\n          {\n            var alias = val ? val.get(1) : '';\n            // let value = val?val.get(0):'';\n            if (listCardType == 'mulbasedata') {\n              // 多选基础资料格式：[['name1','number1'],['name2','number2'],['name3','number3']]\n              alias = '';\n              // value = '';\n              if (val && val.map) {\n                val.map(function (item, index) {\n                  alias += (index == 0 ? '' : ';') + item.get(1); // name\n                  // value += (index==0? '':',') + item.get(0); //number\n                });\n              }\n            }\n            result = alias;\n            break;\n          }\n        case 'combo':\n        case 'mulcombo':\n        case _serverproperties.Ctrls.KDRadioOptGroup:\n        case _serverproperties.Ctrls.KDCheckBoxGroup:\n          result = val && this.getSelectDispVal(val, editorOption, listCardType);\n          break;\n        case 'number':\n          {\n            if (val && val.get) val = val.get(0);\n            result = val;\n            // let formatInfo = getFieldFormatInfo(this.props) || {}\n            // let { showSymbol, symbol, decimalLength } = formatInfo\n            // if (showSymbol && symbol) {\n            //   result = symbol + formatNumber(val || 0, { mask: '#,##0', decimalLength: decimalLength, zeroShow: true })\n            // }\n            break;\n          }\n        // case 'time':\n        //   if (val === -1) {\n        //     result = ''\n        //   } else {\n        //     result = formatTime(val)\n        //   }\n        //   break\n        case 'checkbox':\n          {\n            var model = this.props.model;\n            var checkBoxshowStyle = editorOption && editorOption.get('s') || 1;\n            var userLocal = model.getUserLocale();\n            if (checkBoxshowStyle === 1) {\n              var yesText = _lodash[\"default\"].isObject(editorOption.get('tt')) ? editorOption.get('tt').get(userLocal) : editorOption.get('tt');\n              var noText = _lodash[\"default\"].isObject(editorOption.get('ft')) ? editorOption.get('ft').get(userLocal) : editorOption.get('ft');\n              result = val ? yesText : noText;\n            }\n            break;\n          }\n        case 'flexfield':\n          {\n            result = (0, _flexFieldUtil.getFlexFieldValue)(val);\n            break;\n          }\n        default:\n          result = val;\n      }\n      return result;\n    }\n    //* **/\n  }, {\n    key: \"getLabelPrivacyDispVal\",\n    value: function getLabelPrivacyDispVal(val, listCardType, editorOption) {\n      var result;\n      switch (listCardType) {\n        case 'date':\n        case 'datetime':\n        case 'time':\n          {\n            if (val && val.get) val = val.get(0);\n            result = val;\n            break;\n          }\n        case 'city':\n        case 'user':\n        case 'basedata':\n        case 'mulbasedata':\n        case 'org':\n          {\n            var alias = val ? val.get(1) : '';\n            if (listCardType === 'mulbasedata') {\n              // 多选基础资料格式：[['name1','number1'],['name2','number2'],['name3','number3']]\n              alias = '';\n              if (val && val.map) {\n                val.forEach(function (item, index) {\n                  alias += (index === 0 ? '' : ';') + item.get(1); // name\n                });\n              }\n            }\n            result = alias;\n            break;\n          }\n        case 'number':\n          {\n            if (val && val.get) val = val.get(0);\n            result = val;\n            break;\n          }\n        case 'flexfield':\n          {\n            result = (0, _flexFieldUtil.getFlexFieldValue)(val);\n            break;\n          }\n        default:\n          result = val;\n      }\n      return result;\n    }\n  }, {\n    key: \"getThisField\",\n    value: function getThisField() {\n      var model = this.props.model;\n      var value = this.getInitialValue();\n      var editorOption = model.getMetaProperty('editor') || model.getMetaProperty('item');\n      var listCardType = _immutable.Map.isMap(editorOption) && editorOption.get('type');\n      return listCardType ? this.getLabelDispVal(value, listCardType, editorOption) : value;\n    }\n  }, {\n    key: \"getThisPrivacyField\",\n    value: function getThisPrivacyField() {\n      var model = this.props.model;\n      var value = this.getInitialValue();\n      var editorOption = model.getMetaProperty('editor') || model.getMetaProperty('item');\n      var listCardType = _immutable.Map.isMap(editorOption) && editorOption.get('type');\n      return listCardType ? this.getLabelPrivacyDispVal(value, listCardType, editorOption) : value;\n    }\n\n    /**\n     * @param isDealScale @Boolean true返回缩略图路径，false则是返回原图路径\n     */\n  }, {\n    key: \"dealImageSrcByMode\",\n    value: function dealImageSrcByMode(_ref) {\n      var url = _ref.url,\n        _ref$isDealScale = _ref.isDealScale,\n        isDealScale = _ref$isDealScale === void 0 ? true : _ref$isDealScale,\n        edition = _ref.edition;\n      var defaultPic = edition && edition.get('defaultpic');\n      if (defaultPic) {\n        if (isDealScale) {\n          url = (0, _imageUtil.scaleImage)(url, defaultPic);\n        } else {\n          url = (0, _imageUtil.getOriginImageUrl)(url, defaultPic);\n        }\n      }\n      return url;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n        model = _this$props.model,\n        style = _this$props.style,\n        titleStyle = _this$props.titleStyle,\n        lock = _this$props.lock,\n        commonClass = _this$props.commonClass,\n        title = _this$props.title,\n        showTitle = _this$props.showTitle,\n        valueStyle = _this$props.valueStyle;\n      var isPreviewing = this.state.isPreviewing;\n      var value = this.getInitialValue();\n      var editorOption = model.getMetaProperty('editor');\n      if (_immutable.Map.isMap(editorOption) && editorOption.size === 0) {\n        editorOption = model.getMetaProperty('item');\n      }\n      var listCardType = _immutable.Map.isMap(editorOption) && editorOption.get('type');\n      if (listCardType && listCardType === 'picture') {\n        var _editorOption;\n        value = (0, _componentutil.getImgFullPath)(this._fileServer, value, true);\n        var dik = (_editorOption = editorOption) === null || _editorOption === void 0 ? void 0 : _editorOption.get('dik');\n        if (!value && dik) {\n          value = (0, _componentutil.getImgFullPath)(this._fileServer, dik);\n        }\n        var imgpath = this.dealImageSrcByMode({\n          url: value,\n          edition: editorOption\n        }) || _baseComponent_undefined[\"default\"];\n        var previewElement = /*#__PURE__*/_react[\"default\"].createElement(_ImagePreview[\"default\"], {\n          imgUrls: [imgpath],\n          curIndex: 0,\n          onClose: this.handleClosePreview\n        });\n        return /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, null, /*#__PURE__*/_react[\"default\"].createElement(\"img\", {\n          src: imgpath,\n          style: style,\n          onClick: this.handleClick\n        }), isPreviewing ? /*#__PURE__*/_reactDom[\"default\"].createPortal(previewElement, document.body) : null);\n      }\n      if (listCardType && listCardType === 'icon') {\n        var imgurl = '';\n        var bgColor = '';\n        if (_immutable.List.isList(value)) {\n          imgurl = value.get(0, ''); // icon类型时，返回值为List,取第一个值\n          bgColor = value.get(1, ''); // 取icon背景颜色\n        }\n        imgurl = (0, _componentutil.getImgFullPath)(this._fileServer, imgurl, true);\n        if (bgColor) {\n          style = Object.assign({}, style, {\n            backgroundColor: bgColor\n          });\n        }\n        // 图标无法自测，如果以后启用检查缩略图相关设置是否会导致报错\n        return /*#__PURE__*/_react[\"default\"].createElement(\"img\", {\n          src: this.dealImageSrcByMode({\n            url: imgurl,\n            edition: editorOption\n          }),\n          style: style,\n          onClick: this.handleClick\n        });\n      }\n      var isNewline = model.getMetaProperty('atw'); // 是否换行，对列表的处理\n      var _this$handleGetPrivat = this.handleGetPrivateProps(),\n        isPrivacyField = _this$handleGetPrivat.isPrivacyField;\n      value = isPrivacyField ? this.getThisPrivacyField() : this.getThisField();\n      return /*#__PURE__*/_react[\"default\"].createElement(_CardField[\"default\"], _extends({\n        isNewline: isNewline,\n        style: style,\n        valueStyle: valueStyle,\n        type: listCardType,\n        showTitle: showTitle,\n        title: title,\n        value: value,\n        titleStyle: titleStyle,\n        editOption: editorOption,\n        lock: lock,\n        isListField: true,\n        onGetPrivateProps: this.handleGetPrivateProps\n      }, commonClass));\n    }\n  }]);\n  return OtherField;\n}(_BaseField2[\"default\"]);\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/baseCardField/OtherField.jsx?");

/***/ }),

/***/ "./src/component/mobile/baseCardField/ParticularStyleField.jsx":
/*!*********************************************************************!*\
  !*** ./src/component/mobile/baseCardField/ParticularStyleField.jsx ***!
  \*********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.number.parse-int.js */ \"../../node_modules/core-js/modules/es.number.parse-int.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.string.replace.js */ \"../../node_modules/core-js/modules/es.string.replace.js\");\n__webpack_require__(/*! core-js/modules/es.string.starts-with.js */ \"../../node_modules/core-js/modules/es.string.starts-with.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _reactDom = _interopRequireDefault(__webpack_require__(/*! react-dom */ \"webpack/sharing/consume/default/react-dom/react-dom?418d\"));\nvar _classnames14 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _moment = _interopRequireDefault(__webpack_require__(/*! moment */ \"../../node_modules/moment/moment.js\"));\nvar _componentutil = __webpack_require__(/*! @/util/componentutil */ \"./src/util/componentutil.js\");\nvar _ParticularStyleField2 = _interopRequireDefault(__webpack_require__(/*! ./ParticularStyleField.less */ \"./src/component/mobile/baseCardField/ParticularStyleField.less\"));\nvar _serverproperties = __webpack_require__(/*! @/constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _xssFilters = _interopRequireDefault(__webpack_require__(/*! @/util/xssFilters */ \"./src/util/xssFilters.js\"));\nvar _baseDataUtil = __webpack_require__(/*! @/util/baseDataUtil */ \"./src/util/baseDataUtil.js\");\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nvar _BaseField2 = _interopRequireDefault(__webpack_require__(/*! ./BaseField */ \"./src/component/mobile/baseCardField/BaseField.jsx\"));\nvar _formatUtil = __webpack_require__(/*! @/util/formatUtil */ \"./src/util/formatUtil.js\");\nvar _Popup = _interopRequireDefault(__webpack_require__(/*! ../base/Popup */ \"./src/component/mobile/base/Popup/index.js\"));\nvar _TouchFeedback = __webpack_require__(/*! ../base/TouchFeedback */ \"./src/component/mobile/base/TouchFeedback/index.js\");\nvar _PrivacyIcon = _interopRequireDefault(__webpack_require__(/*! ./PrivacyIcon */ \"./src/component/mobile/baseCardField/PrivacyIcon.js\"));\nvar _grid = __webpack_require__(/*! @/util/component/grid */ \"./src/util/component/grid.js\");\nvar _ParticularStyleField3 = __webpack_require__(/*! ../base/ParticularStyleField */ \"./src/component/mobile/base/ParticularStyleField.jsx\");\nvar _timeUtil = __webpack_require__(/*! @/util/timeUtil */ \"./src/util/timeUtil.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar ParticularStyleField = exports[\"default\"] = /*#__PURE__*/function (_BaseField) {\n  _inherits(ParticularStyleField, _BaseField);\n  function ParticularStyleField(props) {\n    var _this;\n    _classCallCheck(this, ParticularStyleField);\n    _this = _callSuper(this, ParticularStyleField, [props]);\n    _this.handleCancel = function () {\n      _this.setState({\n        show: false\n      });\n    };\n    _this.handleSetVisible = function (e) {\n      e.stopPropagation();\n      e.preventDefault();\n      _this.setState({\n        show: true\n      });\n    };\n    // 格式化数字\n    _this.formatNumber = function (value) {\n      var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        showSymbol = _ref.showSymbol,\n        symbol = _ref.symbol,\n        _ref$decimalLength = _ref.decimalLength,\n        decimalLength = _ref$decimalLength === void 0 ? null : _ref$decimalLength,\n        noDisplayDecimalTailZero = _ref.noDisplayDecimalTailZero,\n        type = _ref.type,\n        zeroShow = _ref.zeroShow,\n        mask = _ref.mask;\n      if (symbol) {\n        if (!value && value !== 0) {\n          value = '';\n        } else {\n          value = (0, _formatUtil.formatNumber)(value, {\n            mask: mask,\n            symbol: symbol,\n            decimalLength: decimalLength,\n            zeroShow: zeroShow,\n            type: type,\n            noDisplayDecimalTailZero: noDisplayDecimalTailZero\n          });\n        }\n      } else if (decimalLength !== null) {\n        if (!value && value !== 0) {\n          value = '';\n        } else {\n          value = (0, _formatUtil.formatNumber)(value, {\n            mask: mask,\n            decimalLength: decimalLength,\n            zeroShow: zeroShow,\n            type: type,\n            noDisplayDecimalTailZero: noDisplayDecimalTailZero\n          });\n        }\n      }\n      return value;\n    };\n    // 点击标题\n    _this.handleTitleClick = function (e) {\n      _this.props.onTitleClick && _this.props.onTitleClick(e);\n    };\n    // 将初始值化为数组\n    _this.handleFormatValue = function () {\n      var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n      var type = arguments.length > 1 ? arguments[1] : undefined;\n      var _this$props = _this.props,\n        model = _this$props.model,\n        editOption = _this$props.editOption;\n      if (type === 'mulcombo') {\n        var items = (0, _componentutil.getComponentDataProperty)(model, _serverproperties.STORE, ['item', _serverproperties.STORE]) || [];\n        var showStyle = (editOption === null || editOption === void 0 ? void 0 : editOption.get('showStyle')) || 0;\n        var array = [];\n        items.forEach(function (item) {\n          if (item.get(0) !== '') {\n            array.push({\n              value: item.get(0),\n              alias: item.getIn([1, model.getUserLocale()]),\n              imgkey: item.get(2) ? (0, _componentutil.getImgFullPath)(_this._fileServer, item.get(2)) : null,\n              itemVisible: item.get(3, true)\n            });\n          }\n        });\n        var values = _this.getSelectValue(value);\n        var selectInfo = [];\n        array.forEach(function (item, index) {\n          if (values.indexOf(item.value) === -1) return;\n          switch (showStyle) {\n            case 1:\n              selectInfo.push(item.imgkey ? {\n                imgkey: item.imgkey\n              } : {\n                alias: item.alias\n              });\n              break;\n            case 2:\n              selectInfo.push(item.imgkey ? {\n                imgkey: item.imgkey,\n                alias: item.alias\n              } : {\n                alias: item.alias\n              });\n              break;\n            default:\n              selectInfo.push({\n                alias: item.alias\n              });\n              break;\n          }\n        });\n        return selectInfo;\n      } else if (type === 'mulbasedata') {\n        var result = (0, _baseDataUtil.getBaseDataDisplayProp)(value, editOption.get(_serverproperties.DISPLAY_PROP), type === 'mulbasedata'); // 前端对f7的值进行格式化，提取出最终显示的值\n\n        return result === '' ? [] : result.split(';').map(function (item) {\n          return {\n            alias: item\n          };\n        });\n      }\n    };\n    _this.handlePriviay = function (e) {\n      var _this$handleGetPrivat = _this.handleGetPrivateProps(),\n        pageId = _this$handleGetPrivat.pageId,\n        gridId = _this$handleGetPrivat.gridId,\n        colId = _this$handleGetPrivat.colId,\n        rowKey = _this$handleGetPrivat.rowKey,\n        isPrivacyField = _this$handleGetPrivat.isPrivacyField;\n      if (isPrivacyField && typeof (0, _grid.getGridCellPlainText)({\n        pageId: pageId,\n        gridId: gridId,\n        colId: colId,\n        rowKey: rowKey\n      }) === 'undefined') {\n        var _this$fieldDomRef;\n        (_this$fieldDomRef = _this.fieldDomRef) === null || _this$fieldDomRef === void 0 || (_this$fieldDomRef = _this$fieldDomRef.current) === null || _this$fieldDomRef === void 0 || _this$fieldDomRef.handleIconClick();\n      }\n    };\n    _this.state = {\n      show: false\n    };\n    _this.fieldDomRef = /*#__PURE__*/_react[\"default\"].createRef();\n    return _this;\n  }\n  _createClass(ParticularStyleField, [{\n    key: \"getSelectValue\",\n    value: function getSelectValue(value) {\n      if (value == null) return [];\n      if (typeof value === 'string') {\n        return value === '' ? [] : value.split(',');\n      }\n      return [value];\n    }\n  }, {\n    key: \"getSelectDispVal\",\n    value: function getSelectDispVal(val, option) {\n      var _this2 = this;\n      var _this$props2 = this.props,\n        model = _this$props2.model,\n        style = _this$props2.style;\n      var items = (0, _componentutil.getComponentDataProperty)(model, _serverproperties.STORE, ['item', _serverproperties.STORE]) || [];\n      var showStyle = option.get('showStyle') || 0;\n      var array = [];\n      items.forEach(function (item) {\n        if (item.get(0) !== '') {\n          array.push({\n            value: item.get(0),\n            alias: item.getIn([1, model.getUserLocale()]),\n            imgkey: item.get(2) ? (0, _componentutil.getImgFullPath)(_this2._fileServer, item.get(2)) : null,\n            itemVisible: item.get(3, true)\n          });\n        }\n      });\n      var values = this.getSelectValue(val) || [];\n      var innerValue = '';\n      values.length === 1 && array.forEach(function (item, index) {\n        if (values.indexOf(item.value) === -1) return;\n        switch (showStyle) {\n          case 1:\n            innerValue = item.imgkey ? /*#__PURE__*/_react[\"default\"].createElement(\"img\", {\n              style: {\n                width: '24px',\n                height: '24px'\n              },\n              src: item.imgkey\n            }) : item.alias;\n            break;\n          case 2:\n            innerValue = /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n              key: index,\n              style: {\n                display: 'flex',\n                alignItems: 'flex-start'\n              }\n            }, item.imgkey ? /*#__PURE__*/_react[\"default\"].createElement(\"img\", {\n              style: {\n                width: '24px',\n                height: '24px'\n              },\n              src: item.imgkey\n            }) : null, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n              className: (0, _classnames14[\"default\"])(_defineProperty({}, _ParticularStyleField2[\"default\"].seltextbox, !style.height))\n            }, item.alias));\n            break;\n          default:\n            innerValue = /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n              className: (0, _classnames14[\"default\"])(_defineProperty({}, _ParticularStyleField2[\"default\"].seltextbox, !style.height))\n            }, item.alias);\n            break;\n        }\n      });\n      values.length > 1 && array.forEach(function (item, index) {\n        if (item.value === values[0]) {\n          switch (showStyle) {\n            case 1:\n              innerValue = /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n                style: {\n                  display: 'flex',\n                  alignItems: 'flex-start'\n                }\n              }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n                className: _ParticularStyleField2[\"default\"].multext\n              }, (0, _intlApi.getLangMsg)({\n                key: 'Select.key0002'\n              })), item.imgkey ? /*#__PURE__*/_react[\"default\"].createElement(\"img\", {\n                style: {\n                  width: '24px',\n                  height: '24px'\n                },\n                src: item.imgkey\n              }) : item.alias, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n                className: (0, _classnames14[\"default\"])(_defineProperty(_defineProperty({}, _ParticularStyleField2[\"default\"].multext, true), _ParticularStyleField2[\"default\"].showmore, true)),\n                onClick: _this2.handleSetVisible\n              }, (0, _intlApi.getLangMsg)({\n                key: 'Select.key0001',\n                variables: {\n                  length: values.length\n                }\n              })));\n              break;\n            case 2:\n              innerValue = /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n                className: (0, _classnames14[\"default\"])(_defineProperty({}, _ParticularStyleField2[\"default\"].seltextbox, !style.height))\n              }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n                className: _ParticularStyleField2[\"default\"].multext\n              }, (0, _intlApi.getLangMsg)({\n                key: 'Select.key0002'\n              })), item.imgkey ? /*#__PURE__*/_react[\"default\"].createElement(\"img\", {\n                style: {\n                  width: '20px',\n                  height: '20px'\n                },\n                src: item.imgkey\n              }) : null, item.alias, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n                className: (0, _classnames14[\"default\"])(_defineProperty(_defineProperty({}, _ParticularStyleField2[\"default\"].multext, true), _ParticularStyleField2[\"default\"].showmore, true)),\n                onClick: _this2.handleSetVisible\n              }, (0, _intlApi.getLangMsg)({\n                key: 'Select.key0001',\n                variables: {\n                  length: values.length\n                }\n              })));\n              break;\n            default:\n              innerValue = /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n                className: (0, _classnames14[\"default\"])(_defineProperty({}, _ParticularStyleField2[\"default\"].seltextbox, !style.height)),\n                onClick: _this2.handleSetVisible\n              }, (0, _intlApi.getLangMsg)({\n                key: 'Select.key0002'\n              }) + item.alias, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n                className: (0, _classnames14[\"default\"])(_defineProperty(_defineProperty({}, _ParticularStyleField2[\"default\"].multext, true), _ParticularStyleField2[\"default\"].showmore, true)),\n                onClick: _this2.handleSetVisible\n              }, (0, _intlApi.getLangMsg)({\n                key: 'Select.key0001',\n                variables: {\n                  length: values.length\n                }\n              })));\n              break;\n          }\n        }\n      });\n      return innerValue;\n    }\n  }, {\n    key: \"calcTime\",\n    value: function calcTime(value) {\n      if (value === -1 || value === undefined || value === '' || value === null) return null;\n      var timeSeconds = Number.parseInt(value);\n      var hours = Math.floor(timeSeconds / 3600);\n      var minutes = Math.floor((timeSeconds - hours * 3600) / 60);\n      var seconds = timeSeconds - hours * 3600 - minutes * 60;\n      return (0, _moment[\"default\"])(\"\".concat(hours, \":\").concat(minutes, \":\").concat(seconds), 'HH:mm:ss');\n    }\n\n    // 格式化时间\n  }, {\n    key: \"formatTime\",\n    value: function formatTime(value, format) {\n      var time = this.calcTime(value);\n      return time ? (0, _timeUtil.getTimeData)(time, format, 'HH:mm:ss') : '';\n    }\n  }, {\n    key: \"getLocaleTextDisplayValue\",\n    value:\n    // 获取多语言value的显示内容\n    function getLocaleTextDisplayValue(value, model) {\n      if (_immutable.Map.isMap(value)) {\n        var localLang = model.getUserLocale(); // 系统当前语言\n        var defaultLang = model.getDefaultLang(); // 系统默认语言\n\n        var defaultval = value.get(localLang) || value.get(defaultLang);\n        if (!defaultval) {\n          // 当前语言&&默认语言都没有值的时候，去遍历所有的值，取第一个有值的语言\n          value.forEach(function (val) {\n            if (val) {\n              defaultval = val;\n            }\n          });\n        }\n        return defaultval || '';\n      } else {\n        return value;\n      }\n    }\n\n    // 格式化值\n  }, {\n    key: \"getLabelDispVal\",\n    value: function getLabelDispVal(value, type, editOption) {\n      var _this$props3 = this.props,\n        model = _this$props3.model,\n        style = _this$props3.style;\n      var result;\n      switch (type) {\n        case 'textarea':\n          {\n            var _this$props$showLine = this.props.showLine,\n              showLine = _this$props$showLine === void 0 ? '' : _this$props$showLine;\n            value = value || '';\n            value = (0, _xssFilters[\"default\"])(value);\n            value = value && value.replace(/(\\r\\n)|(\\n)|(\\r)/g, '<br />');\n            var html = value && value.replace(/(\\t)/g, '<span style=\"padding-left: 2em\"></span>');\n            var lineControl = showLine !== null && showLine !== void 0 && showLine.length ? showLine : '3';\n            result = /*#__PURE__*/_react[\"default\"].createElement(_ParticularStyleField3.TextareaWithFoldBtn, {\n              textareaClassname: _ParticularStyleField2[\"default\"].textareaBox,\n              lineControl: lineControl,\n              html: html\n            });\n            break;\n          }\n        case 'largeText':\n          {\n            value = value || '';\n            value = (0, _xssFilters[\"default\"])(value);\n            value = value && value.replace(/(\\r\\n)|(\\n)|(\\r)/g, '<br />');\n            var _html = value && value.replace(/(\\t)/g, '<span style=\"padding-left: 2em\"></span>'); // 替换换行缩进转义符\n            result = /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n              className: (0, _classnames14[\"default\"])(_defineProperty({}, _ParticularStyleField2[\"default\"].seltextbox, !style.height)),\n              style: {\n                wordBreak: 'break-all'\n              },\n              dangerouslySetInnerHTML: {\n                __html: _html\n              }\n            });\n            break;\n          }\n        case 'number':\n        case 'stepper':\n          {\n            // 金额字段显示货币符号\n            var showSymbol = false;\n            var formatInfo = (0, _componentutil.getFieldFormatInfo)(this.props) || {};\n            var noDisplayDecimalTailZero = editOption.get(_serverproperties.NO_DISPLAY_SCALE_ZERO) || false;\n            var symbol = formatInfo.symbol;\n            showSymbol = formatInfo.showSymbol;\n            var decimalLength = formatInfo.decimalLength || editOption.get(_serverproperties.SCALE);\n            var zeroShow = editOption.get(_serverproperties.ZERO_SHOW) || false;\n            var mask = editOption.get(_serverproperties.DISPLAY_FORMAT) || editOption.get(_serverproperties.MASK);\n            result = (0, _formatUtil.formatNumber)(value, {\n              showSymbol: showSymbol,\n              symbol: symbol,\n              decimalLength: decimalLength,\n              noDisplayDecimalTailZero: noDisplayDecimalTailZero,\n              type: editOption.get(_serverproperties.NUM_TYPE),\n              zeroShow: zeroShow,\n              mask: mask\n            });\n          }\n          break;\n        case 'date':\n        case 'datetime':\n          {\n            var displayFormat = editOption.get(_serverproperties.DISPLAY_FORMAT);\n            result = (0, _formatUtil.formatDate)(value, displayFormat, type);\n          }\n          break;\n        case 'combo':\n        case 'mulcombo':\n          result = this.getSelectDispVal(value, editOption);\n          break;\n        case 'localeText':\n          result = this.getLocaleTextDisplayValue(value, model);\n          break;\n        case 'checkbox':\n          result = value ? '是' : '否';\n          break;\n        case 'basedata':\n        case 'mulbasedata':\n        case 'city':\n        case 'user':\n        case 'org':\n          result = (0, _baseDataUtil.getBaseDataDisplayProp)(value, editOption.get(_serverproperties.DISPLAY_PROP), type === 'mulbasedata', editOption.get(_serverproperties.CONNECTOR)); // 前端对f7的值进行格式化，提取出最终显示的值\n          break;\n        case 'time':\n          {\n            var option = model.getMetaProperty('item') || (0, _immutable.Map)();\n            result = this.formatTime(value, option.get(_serverproperties.MASK));\n          }\n          break;\n        case 'daterange':\n          {\n            var _option = model.getMetaProperty('item') || (0, _immutable.Map)();\n            var _mask = _option.get(_serverproperties.MASK);\n            var regionType = _option.get(_serverproperties.REGION_TYPE);\n            var defaultFormat = regionType === 2 ? 'YYYY-MM-DD HH:mm:ss' : 'YYYY-MM-DD';\n            var _getDates = (0, _timeUtil.getDates)(value, defaultFormat),\n              startDate = _getDates.startDate,\n              endDate = _getDates.endDate;\n            result = (0, _timeUtil.getDateRangeValue)(startDate, endDate, _mask, defaultFormat, regionType);\n          }\n          break;\n        case 'timerange':\n          {\n            var _option2 = model.getMetaProperty('item') || (0, _immutable.Map)();\n            var _mask2 = _option2.get(_serverproperties.MASK) || 'HH:mm:ss';\n            var times = (0, _timeUtil.calcTimes)(value);\n            result = (0, _timeUtil.timeRangeToString)(times, _mask2);\n          }\n          break;\n        default:\n          result = value;\n      }\n      return result;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _popupValue;\n      var _this$props4 = this.props,\n        editOptionType = _this$props4.editOptionType,\n        fieldType = _this$props4.fieldType,\n        _this$props4$editOpti = _this$props4.editOption,\n        editOption = _this$props4$editOpti === void 0 ? (0, _immutable.Map)() : _this$props4$editOpti,\n        _this$props4$style = _this$props4.style,\n        style = _this$props4$style === void 0 ? {} : _this$props4$style,\n        commonClass = _this$props4.commonClass,\n        title = _this$props4.title,\n        className = _this$props4.className,\n        showTitle = _this$props4.showTitle,\n        _this$props4$titleSty = _this$props4.titleStyle,\n        titleStyle = _this$props4$titleSty === void 0 ? {} : _this$props4$titleSty;\n      var value = this.getInitialValue();\n      var popupValue;\n      var _this$handleGetPrivat2 = this.handleGetPrivateProps(),\n        pageId = _this$handleGetPrivat2.pageId,\n        gridId = _this$handleGetPrivat2.gridId,\n        colId = _this$handleGetPrivat2.colId,\n        rowKey = _this$handleGetPrivat2.rowKey,\n        isPrivacyField = _this$handleGetPrivat2.isPrivacyField,\n        isShowPrivacyEye = _this$handleGetPrivat2.isShowPrivacyEye,\n        onUpdatePrivacyText = _this$handleGetPrivat2.onUpdatePrivacyText;\n      if (!(isPrivacyField && typeof (0, _grid.getGridCellPlainText)({\n        pageId: pageId,\n        gridId: gridId,\n        colId: colId,\n        rowKey: rowKey\n      }) === 'undefined')) {\n        popupValue = this.handleFormatValue(value, editOption.get('type'));\n        value = value !== undefined ? this.getLabelDispVal(value, editOptionType, editOption) : '';\n      }\n      if (style.textAlign) {\n        delete style.textAlign;\n      }\n      var valueStyle = this.getInputStyle();\n      var textAlign = editOption.get('text-align');\n      var textAlignClass = _ParticularStyleField2[\"default\"]['label-text-' + textAlign];\n      var handledTitleStyle = {};\n      Object.keys(titleStyle).forEach(function (key) {\n        handledTitleStyle[key] = key === 'color' ? style && style.color : titleStyle[key];\n      });\n      var labelfieldbox = (0, _classnames14[\"default\"])(_defineProperty(_defineProperty({}, className, className), _ParticularStyleField2[\"default\"].labelfieldbox, true), commonClass);\n      var titlebox = (0, _classnames14[\"default\"])(_defineProperty({}, _ParticularStyleField2[\"default\"].titlebox, true));\n      var valuebox = (0, _classnames14[\"default\"])(_defineProperty(_defineProperty({}, _ParticularStyleField2[\"default\"].valuebox, !style.height), _ParticularStyleField2[\"default\"].valueheight, style.height));\n      var contentbox = (0, _classnames14[\"default\"])(_defineProperty(_defineProperty(_defineProperty({}, _ParticularStyleField2[\"default\"].contentbox, true), textAlignClass, textAlignClass), _ParticularStyleField2[\"default\"].contentheight, style.height));\n      var iconClass = (0, _classnames14[\"default\"])(_defineProperty({}, _ParticularStyleField2[\"default\"]['privacy-icon'], true));\n\n      // 带有币别符号的数字类型字段，币别符号不继承设置的字体大小\n      var symbol = '';\n      var hasSymbol = false;\n      if (editOptionType === 'number') {\n        var _getFieldFormatInfo, _value;\n        symbol = (_getFieldFormatInfo = (0, _componentutil.getFieldFormatInfo)(this.props)) === null || _getFieldFormatInfo === void 0 ? void 0 : _getFieldFormatInfo.symbol;\n        hasSymbol = symbol && ((_value = value) === null || _value === void 0 ? void 0 : _value.startsWith(symbol));\n        value = hasSymbol ? value.slice(symbol.length) : value;\n      }\n      var symbolStyle = {\n        fontSize: (style === null || style === void 0 ? void 0 : style.fontSize) >= 14 || (style === null || style === void 0 ? void 0 : style.fontSize) === undefined ? 14 : 12\n      };\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: labelfieldbox,\n        style: style\n      }, showTitle && /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n        className: titlebox,\n        style: handledTitleStyle,\n        onClick: this.handleTitleClick\n      }, title), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        style: valueStyle,\n        className: typeof value === 'string' ? valuebox : contentbox,\n        onClick: this.handlePriviay\n      }, hasSymbol && /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n        style: symbolStyle\n      }, symbol), value), isShowPrivacyEye && /*#__PURE__*/_react[\"default\"].createElement(_PrivacyIcon[\"default\"], {\n        onUpdatePrivacyText: onUpdatePrivacyText,\n        iconClass: iconClass,\n        ref: this.fieldDomRef\n      }), ['mulbasedata'].includes(editOption.get('type')) && editOption.get('lockViewSelected') && popupValue.length > 0 && /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _ParticularStyleField2[\"default\"]['text-check-button'],\n        onClick: this.handleSetVisible\n      }, (0, _intlApi.getLangMsg)({\n        key: 'Select.key0016'\n      })), ['mulbasedata', 'mulcombo'].includes(editOption.get('type')) && this.state.show && /*#__PURE__*/_reactDom[\"default\"].createPortal( /*#__PURE__*/_react[\"default\"].createElement(ParticularStyleDataPopup, {\n        show: this.state.show,\n        renderItems: popupValue,\n        onCancel: this.handleCancel,\n        leftTitle: (_popupValue = popupValue) === null || _popupValue === void 0 ? void 0 : _popupValue.length\n      }), document.body));\n    }\n  }]);\n  return ParticularStyleField;\n}(_BaseField2[\"default\"]);\nvar ParticularStyleDataPopup = function ParticularStyleDataPopup(_ref2) {\n  var show = _ref2.show,\n    renderItems = _ref2.renderItems,\n    onCancel = _ref2.onCancel,\n    leftTitle = _ref2.leftTitle;\n  var CustomHeader = function CustomHeader(_ref3) {\n    var onCancel = _ref3.onCancel,\n      title = _ref3.title;\n    return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: (0, _classnames14[\"default\"])(_ParticularStyleField2[\"default\"]['select-popup-header'], _ParticularStyleField2[\"default\"]['border-buttom-1px'])\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _ParticularStyleField2[\"default\"].title\n    }, \"\\u5DF2\\u9009\\u62E9\".concat(title, \"\\u9879\")), /*#__PURE__*/_react[\"default\"].createElement(_TouchFeedback.TouchFeedback, {\n      activeClassName: _ParticularStyleField2[\"default\"]['popup-header-btn-active']\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: \"kdfont kdfont-guanbi6 \".concat(_ParticularStyleField2[\"default\"]['popup-header-cancel']),\n      onClick: onCancel\n    })));\n  };\n  return /*#__PURE__*/_react[\"default\"].createElement(_Popup[\"default\"], {\n    key: \"popup_BaseData\",\n    show: show,\n    title: leftTitle,\n    className: _ParticularStyleField2[\"default\"]['popup-baseData'],\n    onCancel: onCancel,\n    header: CustomHeader\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _ParticularStyleField2[\"default\"]['select-popup-content']\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"ul\", {\n    className: _ParticularStyleField2[\"default\"].list\n  }, renderItems === null || renderItems === void 0 ? void 0 : renderItems.map(function (item) {\n    return /*#__PURE__*/_react[\"default\"].createElement(_TouchFeedback.TouchFeedback, {\n      activeClassName: _ParticularStyleField2[\"default\"]['popup-header-btn-active'],\n      key: item\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"li\", null, item.imgkey && /*#__PURE__*/_react[\"default\"].createElement(\"img\", {\n      src: item.imgkey\n    }), /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n      className: _ParticularStyleField2[\"default\"].textOverflow\n    }, item.alias)));\n  }))));\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/baseCardField/ParticularStyleField.jsx?");

/***/ }),

/***/ "./src/component/mobile/baseCardField/PasswordBoxField.jsx":
/*!*****************************************************************!*\
  !*** ./src/component/mobile/baseCardField/PasswordBoxField.jsx ***!
  \*****************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.get.js */ \"../../node_modules/core-js/modules/es.reflect.get.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _baseComponent = __webpack_require__(/*! ../base/baseComponent */ \"./src/component/mobile/base/baseComponent.jsx\");\nvar _CardField = _interopRequireDefault(__webpack_require__(/*! ../base/CardField */ \"./src/component/mobile/base/CardField.js\"));\nvar _BaseField2 = _interopRequireDefault(__webpack_require__(/*! ./BaseField */ \"./src/component/mobile/baseCardField/BaseField.jsx\"));\nvar _serverproperties = __webpack_require__(/*! ../../../constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _gridaction = __webpack_require__(/*! @/action/gridaction */ \"./src/action/gridaction.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _get() { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar PasswordBoxField = exports[\"default\"] = /*#__PURE__*/function (_BaseField) {\n  _inherits(PasswordBoxField, _BaseField);\n  function PasswordBoxField(props) {\n    var _this;\n    _classCallCheck(this, PasswordBoxField);\n    _this = _callSuper(this, PasswordBoxField, [props]);\n    _this.handleClick = function (e) {\n      var _this$props = _this.props,\n        model = _this$props.model,\n        gridKey = _this$props.gridKey,\n        dispatch = _this$props.dispatch,\n        beforeClick = _this$props.beforeClick;\n      if (model.getMetaProperty('ln')) {\n        e.stopPropagation();\n        beforeClick && beforeClick();\n        var colId = model.getMetaProperty('id');\n        dispatch((0, _gridaction.hyperLinkClick)({\n          key: gridKey,\n          pageId: model.pageId\n        }, colId, _this.getRowIndex()));\n      }\n    };\n    _this.handleEditChange = _this.handleEditChange.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  _createClass(PasswordBoxField, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      var model = nextProps.model,\n        data = nextProps.data,\n        option = nextProps.option;\n      var dataIndex = model.getMetaProperty('dataIndex');\n      // 弹性域文本的值从getInitiaValueImpl 方法获取\n      var newValue = nextProps.getInitiaValueImpl ? nextProps.getInitiaValueImpl(nextProps, dataIndex) : data.get(option.get(dataIndex));\n      if (newValue !== undefined && newValue !== this.state.innerValue) {\n        this.setState({\n          innerValue: newValue // value先存到控件内部\n        });\n      }\n    }\n  }, {\n    key: \"handleEditChange\",\n    value: function handleEditChange(evt) {\n      var value = evt.target.value;\n      this.handleChange(value);\n    }\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(value) {\n      var isUpdateAllowed = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      _get(_getPrototypeOf(PasswordBoxField.prototype), \"handleEditChange\", this).call(this, value, isUpdateAllowed);\n    }\n  }, {\n    key: \"stopEditing\",\n    value: function stopEditing(value) {\n      // 需要更新store，不然会有脏数据问题\n      _get(_getPrototypeOf(PasswordBoxField.prototype), \"handleEditChange\", this).call(this, value, true, true);\n    }\n  }, {\n    key: \"getThisField\",\n    value: function getThisField() {\n      var _this2 = this;\n      var inputStyle = this.getInputStyle();\n      var inputProps = this.getInputProps();\n      var model = this.props.model;\n      inputProps.showEye = !!model.getMetaProperty([_serverproperties.ITEM, _serverproperties.SHOW_EYE]);\n      inputProps.onBlur = function (e) {\n        _this2.setState({\n          innerValue: e.target.value\n        });\n        var normalValue = e.target.value;\n        _this2.stopEditing(normalValue);\n      };\n      return /*#__PURE__*/_react[\"default\"].createElement(_baseComponent.PasswordBox, _extends({}, inputProps, {\n        style: inputStyle,\n        value: this.state.innerValue,\n        onChange: this.handleEditChange,\n        ctrlId: model.key\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n        model = _this$props2.model,\n        editOption = _this$props2.editOption,\n        titleStyle = _this$props2.titleStyle,\n        style = _this$props2.style,\n        showTitle = _this$props2.showTitle,\n        lock = _this$props2.lock,\n        valueStyle = _this$props2.valueStyle;\n      var isLink = model.getMetaProperty('ln');\n      return isLink ? /*#__PURE__*/_react[\"default\"].createElement(_CardField[\"default\"], _extends({\n        isLink: isLink,\n        style: style,\n        valueStyle: valueStyle,\n        showTitle: showTitle,\n        title: model.getMetaLocaleProperty('header'),\n        value: this.getInitialValue(),\n        onClick: this.handleClick,\n        editOption: editOption,\n        titleStyle: titleStyle,\n        lock: lock,\n        onGetPrivateProps: this.handleGetPrivateProps\n      }, this.props.className)) : _get(_getPrototypeOf(PasswordBoxField.prototype), \"render\", this).call(this);\n    }\n  }]);\n  return PasswordBoxField;\n}(_BaseField2[\"default\"]);\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/baseCardField/PasswordBoxField.jsx?");

/***/ }),

/***/ "./src/component/mobile/baseCardField/PictureField.jsx":
/*!*************************************************************!*\
  !*** ./src/component/mobile/baseCardField/PictureField.jsx ***!
  \*************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-properties.js */ \"../../node_modules/core-js/modules/es.object.define-properties.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptors.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.get.js */ \"../../node_modules/core-js/modules/es.reflect.get.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.parse-int.js */ \"../../node_modules/core-js/modules/es.parse-int.js\");\n__webpack_require__(/*! core-js/modules/web.timers.js */ \"../../node_modules/core-js/modules/web.timers.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _BaseField2 = _interopRequireDefault(__webpack_require__(/*! ./BaseField */ \"./src/component/mobile/baseCardField/BaseField.jsx\"));\nvar _baseComponent = __webpack_require__(/*! ../base/baseComponent */ \"./src/component/mobile/base/baseComponent.jsx\");\nvar _componentutil = __webpack_require__(/*! ../../../util/componentutil */ \"./src/util/componentutil.js\");\nvar _imageUtil = __webpack_require__(/*! @/util/imageUtil */ \"./src/util/imageUtil.js\");\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _Picture = _interopRequireDefault(__webpack_require__(/*! @/component/mobile/base/Picture */ \"./src/component/mobile/base/Picture.jsx\"));\nvar _imagelistaction = __webpack_require__(/*! @/action/imagelistaction */ \"./src/action/imagelistaction.js\");\nvar _serverproperties = __webpack_require__(/*! @/constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _Picture2 = _interopRequireDefault(__webpack_require__(/*! @/component/mobile/base/Picture.less */ \"./src/component/mobile/base/Picture.less\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _get() { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar PictureField = exports[\"default\"] = /*#__PURE__*/function (_BaseField) {\n  _inherits(PictureField, _BaseField);\n  function PictureField(props) {\n    var _this;\n    _classCallCheck(this, PictureField);\n    _this = _callSuper(this, PictureField, [props]);\n    _this.handleUploadFile = function (files) {\n      _this.handleEditChange(files, true);\n    };\n    _this.uploadPictureResult = function (args) {\n      _this.props.dispatch && _this.props.dispatch((0, _imagelistaction.reportUploadResult)(_this.props.model, args));\n    };\n    _this.beforeUploadPicture = function (args) {\n      _this.props.dispatch && _this.props.dispatch((0, _imagelistaction.beforeUpload)(_this.props.model, args));\n    };\n    _this.getImagePreviewUrl = function (args) {\n      _this.props.dispatch && _this.props.dispatch((0, _imagelistaction.getPreviewUrlNoLogin)(_this.props.model, args));\n    };\n    // 删除图片\n    _this.onHandleDeletePic = function (url) {\n      var _model$getMetaPropert;\n      var _this$props = _this.props,\n        model = _this$props.model,\n        dispatch = _this$props.dispatch;\n      var params = {\n        url: url,\n        rowKey: _this.rowKey\n      };\n      var thumbparam = (_model$getMetaPropert = model.getMetaProperty(_serverproperties.ITEM)) === null || _model$getMetaPropert === void 0 ? void 0 : _model$getMetaPropert.get('thumbparam');\n      if (thumbparam) {\n        params.thumbparam = thumbparam;\n      }\n      // 删除时这里的空格是用于删除默认图片，由于默认图片是无值时显示，如果不加空格就会存在删不掉默认图片的情况\n      _this.handleUploadFile(' ');\n      setTimeout(function () {\n        dispatch === null || dispatch === void 0 || dispatch((0, _imagelistaction.removeImage)(model, params));\n      }, 0);\n    };\n    _this.rowKey = _this.getRowIndex(); // 行号\n    return _this;\n  }\n  _createClass(PictureField, [{\n    key: \"getImgUrl\",\n    value: function getImgUrl() {\n      var _this$props$editOptio = this.props.editOption,\n        editOption = _this$props$editOptio === void 0 ? (0, _immutable.Map)() : _this$props$editOptio;\n      var defaultik = editOption.get('dik');\n      var imgUrl = this.getInitialValue();\n      var imgpath = imgUrl;\n      if (!imgUrl && defaultik) {\n        imgpath = (0, _componentutil.getImgFullPath)('', defaultik, false);\n      }\n      // if (!/^http(s)*/.test(imgUrl)) {\n      // imgUrl = `${this._fileServer + imgUrl}`;\n      // }\n      // imgUrl = getImgFullPath(this._fileServer, imgUrl, true)\n\n      // 在有值的情况，或者没有值没有有默认图片的情况下，appendFileServer传true\n      return (0, _imageUtil.getImageUrl)(_objectSpread(_objectSpread({}, this.props.model.getFormConfig()), {}, {\n        appendFileServer: imgUrl || !defaultik\n      }), imgpath);\n    }\n  }, {\n    key: \"renderCanUploadPicture\",\n    value:\n    // 可以上传图片的图片组件\n    function renderCanUploadPicture() {\n      var _model$getMetaPropert2;\n      var _this$props2 = this.props,\n        _this$props2$style = _this$props2.style,\n        style = _this$props2$style === void 0 ? {} : _this$props2$style,\n        model = _this$props2.model,\n        title = _this$props2.title,\n        showTitle = _this$props2.showTitle,\n        mustInput = _this$props2.mustInput,\n        _this$props2$titleSty = _this$props2.titleStyle,\n        titleStyle = _this$props2$titleSty === void 0 ? {} : _this$props2$titleSty;\n      var option = model.getMetaProperty('item');\n      var defaultik = option.get('dik'); // 默认图片\n      var imgUrl = this.getInitialValue(); // 图片url\n      if (!imgUrl && defaultik) {\n        defaultik = (0, _componentutil.getImgFullPath)('', defaultik, false);\n        imgUrl = defaultik;\n      }\n      var inputProps = this.getInputProps();\n      var allowCropper = !!model.getMetaProperty(_serverproperties.ALLOW_CROPPER); // 缩略图\n      var cutAspectRatio = (_model$getMetaPropert2 = model.getMetaProperty(_serverproperties.CUT_ASPECT_RATIO)) !== null && _model$getMetaPropert2 !== void 0 ? _model$getMetaPropert2 : 0; // 裁剪比例\n      var imgSource = option.get(_serverproperties.IMG_SOURCE); // 图片来源\n      var showWaterMark = model.getMetaProperty(_serverproperties.SHOW_WATERMARK); // 图片水印\n      var maxSize = (0, _imageUtil.getMaxSize)((option.get(_serverproperties.IMAGE_MAX_SIZE) || 0) * 1024 * 1024); // 最大尺寸\n      var convertSize = (0, _imageUtil.getMaxSize)((option.get(_serverproperties.IMAGE_MAX_SIZE) || 0) * 1024 * 1024 || _imageUtil.COMPRESS_IMAGE_CONVERT_SIZE); // 需要压缩尺寸\n      var editPreview = !!model.getMetaProperty(_serverproperties.EDIT_PREVIEW); // 编辑态预览\n      return /*#__PURE__*/_react[\"default\"].createElement(_Picture[\"default\"], {\n        className: _Picture2[\"default\"]['card-picture-field'],\n        src: imgUrl,\n        pictureModel: model,\n        style: style,\n        titleStyle: titleStyle,\n        disabled: inputProps.readOnly,\n        editPreview: editPreview,\n        defaultik: defaultik,\n        allowCropper: allowCropper,\n        cutAspectRatio: parseInt(cutAspectRatio),\n        imgSource: imgSource,\n        showWaterMark: showWaterMark,\n        maxSize: maxSize,\n        convertSize: convertSize,\n        showPicture: _imageUtil.showPicture,\n        rowKey: this.rowKey // 行号\n        ,\n        dispatch: this.props.dispatch,\n        onChange: this.handleUploadFile // 值更新\n        ,\n        handleDeletePic: this.onHandleDeletePic // 删除\n        ,\n        reportUploadResult: this.uploadPictureResult // 上报上传结果\n        ,\n        beforeUpload: this.beforeUploadPicture // 上传图片前向后端发送请求\n        ,\n        getImagePreviewUrl: this.getImagePreviewUrl // 请求免登url\n        ,\n        displayTitle: showTitle,\n        labelText: title,\n        mustInput: mustInput\n      });\n    }\n\n    // 只能预览,不能上传的的图片组件\n  }, {\n    key: \"renderPreviewPicture\",\n    value: function renderPreviewPicture() {\n      var style = this.props.style;\n      var imgUrl = this.getImgUrl();\n      var imageStyle = this.getImageStyle(style);\n      return /*#__PURE__*/_react[\"default\"].createElement(_baseComponent.Image, {\n        url: imgUrl,\n        style: imageStyle\n      });\n    }\n  }, {\n    key: \"getThisField\",\n    value: function getThisField() {\n      var model = this.props.model;\n      var canUpload = model.getMetaProperty(_serverproperties.MOB_CAN_UPLOAD);\n      return canUpload ? this.renderCanUploadPicture() : this.renderPreviewPicture();\n    }\n  }, {\n    key: \"getThisFieldStyle\",\n    value: function getThisFieldStyle(style) {\n      // 如果允许上传,删掉父组件的宽高圆角，宽高圆角定义内部图片的宽高\n      var model = this.props.model;\n      var canUpload = model.getMetaProperty(_serverproperties.MOB_CAN_UPLOAD);\n      if (canUpload) {\n        var removeStyles = ['width', 'height', 'borderRadius'];\n        removeStyles.forEach(function (styleKey) {\n          delete style[styleKey];\n        });\n      }\n      return style;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return _get(_getPrototypeOf(PictureField.prototype), \"render\", this).call(this);\n    }\n  }]);\n  return PictureField;\n}(_BaseField2[\"default\"]);\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/baseCardField/PictureField.jsx?");

/***/ }),

/***/ "./src/component/mobile/baseCardField/PrivacyIcon.js":
/*!***********************************************************!*\
  !*** ./src/component/mobile/baseCardField/PrivacyIcon.js ***!
  \***********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _classnames = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nvar PrivacyIcon = /*#__PURE__*/(0, _react.forwardRef)(function (_ref, ref) {\n  var onUpdatePrivacyText = _ref.onUpdatePrivacyText,\n    iconClass = _ref.iconClass;\n  var handleClick = function handleClick(e) {\n    e.stopPropagation();\n    onUpdatePrivacyText();\n  };\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    key: \"privacy\",\n    className: (0, _classnames[\"default\"])({\n      'kdfont kdfont-yanjing': true\n    }, iconClass),\n    onClick: handleClick\n  });\n});\nvar _default = exports[\"default\"] = PrivacyIcon;\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/baseCardField/PrivacyIcon.js?");

/***/ }),

/***/ "./src/component/mobile/baseCardField/RadioField.jsx":
/*!***********************************************************!*\
  !*** ./src/component/mobile/baseCardField/RadioField.jsx ***!
  \***********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.get.js */ \"../../node_modules/core-js/modules/es.reflect.get.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.is.js */ \"../../node_modules/core-js/modules/es.object.is.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _baseComponent = __webpack_require__(/*! ../base/baseComponent */ \"./src/component/mobile/base/baseComponent.jsx\");\nvar _BaseField2 = _interopRequireDefault(__webpack_require__(/*! ./BaseField */ \"./src/component/mobile/baseCardField/BaseField.jsx\"));\nvar _serverproperties = __webpack_require__(/*! ../../../constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _appModelFunction = __webpack_require__(/*! ../../../model/appModelFunction */ \"./src/model/appModelFunction.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _get() { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar RadioField = exports[\"default\"] = /*#__PURE__*/function (_BaseField) {\n  _inherits(RadioField, _BaseField);\n  function RadioField() {\n    _classCallCheck(this, RadioField);\n    return _callSuper(this, RadioField, arguments);\n  }\n  _createClass(RadioField, [{\n    key: \"getThisField\",\n    value: function getThisField() {\n      var _this$props = this.props,\n        editOption = _this$props.editOption,\n        caption = _this$props.caption,\n        model = _this$props.model,\n        data = _this$props.data,\n        option = _this$props.option,\n        style = _this$props.style;\n      var type = editOption.get('type');\n      if (type === 'radiogroup') return null;\n      var inputStyle = this.getInputStyle();\n      var inputProps = this.getInputProps();\n      delete inputProps.placeholder;\n      delete inputProps.maxLength;\n      inputProps.value = editOption.get(_serverproperties.VALUE);\n      inputProps.value = inputProps.value == null ? '' : inputProps.value;\n      inputProps.group = editOption.get(_serverproperties.GROUP);\n      inputProps.text = caption;\n      inputProps.text = model.getMetaLocaleProperty('caption');\n      inputProps.isFormViewStatus = this.getIsViewModel(); // 是否是查看态\n      if (inputProps.group) {\n        var _option = option.get(inputProps.group);\n        var val = data.get(_option);\n        var rdGroup = (0, _appModelFunction.getItemMeta)(model.pageId, inputProps.group)(model.state);\n        if (rdGroup) {\n          if (Object.is(val, null) || val === '') {\n            val = rdGroup.getIn(['item', _serverproperties.VALUE]);\n          }\n          inputProps.fieldStyle = rdGroup.getIn(['item', _serverproperties.FIELD_STYLE]);\n        } else {\n          console.error('按钮组或按钮组所在容器不可见，请把按钮组或按钮组所在容器设为可见'); // 处理按钮组或按钮组所在容器不可见状态下报错的问题，并给出相关提示\n          return /*#__PURE__*/_react[\"default\"].createElement(\"span\", null);\n        }\n        inputProps.checked = Object.is(val, inputProps.value);\n        inputProps.disabled = inputProps.readOnly;\n      }\n      delete inputProps.onBlur;\n      return /*#__PURE__*/_react[\"default\"].createElement(_baseComponent.Radio, _extends({\n        fieldWidth: style && style.width,\n        style: inputStyle\n      }, inputProps, {\n        isCardRadio: true\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return _get(_getPrototypeOf(RadioField.prototype), \"render\", this).call(this);\n    }\n  }]);\n  return RadioField;\n}(_BaseField2[\"default\"]);\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/baseCardField/RadioField.jsx?");

/***/ }),

/***/ "./src/component/mobile/baseCardField/RadioOptGroupField.jsx":
/*!*******************************************************************!*\
  !*** ./src/component/mobile/baseCardField/RadioOptGroupField.jsx ***!
  \*******************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.get.js */ \"../../node_modules/core-js/modules/es.reflect.get.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _RadioOptGroup = _interopRequireDefault(__webpack_require__(/*! ../base/RadioOptGroup */ \"./src/component/mobile/base/RadioOptGroup.js\"));\nvar _BaseField2 = _interopRequireDefault(__webpack_require__(/*! ./BaseField */ \"./src/component/mobile/baseCardField/BaseField.jsx\"));\nvar _serverproperties = __webpack_require__(/*! @/constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _fieldConst = __webpack_require__(/*! @/constant/fieldConst.js */ \"./src/constant/fieldConst.js\");\nvar _radioOptGroupFieldUtil = __webpack_require__(/*! @/util/radioOptGroupFieldUtil.js */ \"./src/util/radioOptGroupFieldUtil.js\");\nvar _appModelFunction = __webpack_require__(/*! @/model/appModelFunction */ \"./src/model/appModelFunction.js\");\nvar _UpdateComboDataWrap = __webpack_require__(/*! @/component/common/UpdateComboDataWrap.jsx */ \"./src/component/common/UpdateComboDataWrap.jsx\");\nvar _class;\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _get() { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar RadioGroupField = exports[\"default\"] = (0, _UpdateComboDataWrap.UpdateCardComboItemDataWrap)(_class = /*#__PURE__*/function (_BaseField) {\n  _inherits(RadioGroupField, _BaseField);\n  function RadioGroupField() {\n    _classCallCheck(this, RadioGroupField);\n    return _callSuper(this, RadioGroupField, arguments);\n  }\n  _createClass(RadioGroupField, [{\n    key: \"getThisField\",\n    value: function getThisField() {\n      var _this = this;\n      var _this$props = this.props,\n        editOption = _this$props.editOption,\n        isView = _this$props.isView,\n        model = _this$props.model,\n        validateData = _this$props.validateData,\n        valueAreaStyle = _this$props.valueAreaStyle,\n        lock = _this$props.lock,\n        noValue = _this$props.noValue,\n        gridKey = _this$props.gridKey;\n      var locale = model.getUserLocale();\n      var stImmuData = (0, _appModelFunction.getDataProperty)(model.pageId, gridKey, ['colCtrl', model.key, _fieldConst.ST])(model.state) || editOption.get(_fieldConst.ST);\n      var radioOpt = (0, _radioOptGroupFieldUtil.getRadioOptData)(stImmuData, locale);\n\n      // 选项风格\n      var flatStyle = editOption.get(_fieldConst.FLAT_STYLE);\n      var labelDirection = model.getMetaProperty(_serverproperties.LABEL_DIRECTION_NEW) || 'h';\n      // 单选的选项布局方式，横向|纵向 产品要求，选项风格为标签时，不生效垂直布局\n      var radioDirection = flatStyle !== _fieldConst.FLAT_STYLE_OPT.button && editOption.get(_fieldConst.FLAT_LAYOUT);\n      var isWrap = !!model.getMetaProperty('atw');\n      var inputStyle = this.getInputStyle();\n      var inputProps = this.getInputProps();\n      delete inputProps.onChange;\n      var handleChange = function handleChange(value) {\n        _this.handleEditChange(value, true);\n      };\n      var style = (0, _radioOptGroupFieldUtil.getStyle)(inputStyle, labelDirection, radioDirection);\n      return /*#__PURE__*/_react[\"default\"].createElement(_RadioOptGroup[\"default\"]\n      // value={value}\n      , _extends({\n        radioOpt: radioOpt,\n        radioDirection: radioDirection,\n        lock: lock,\n        valueAreaStyle: labelDirection !== 'v' ? undefined : valueAreaStyle,\n        flatStyle: flatStyle,\n        isWrap: isWrap,\n        isShowText: isView && lock,\n        validateData: validateData,\n        style: style,\n        noValue: noValue,\n        onChange: handleChange,\n        labelDirection: labelDirection\n      }, inputProps));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return _get(_getPrototypeOf(RadioGroupField.prototype), \"render\", this).call(this);\n    }\n  }]);\n  return RadioGroupField;\n}(_BaseField2[\"default\"])) || _class;\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/baseCardField/RadioOptGroupField.jsx?");

/***/ }),

/***/ "./src/component/mobile/baseCardField/StepperField.jsx":
/*!*************************************************************!*\
  !*** ./src/component/mobile/baseCardField/StepperField.jsx ***!
  \*************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.get.js */ \"../../node_modules/core-js/modules/es.reflect.get.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.is.js */ \"../../node_modules/core-js/modules/es.object.is.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _componentutil = __webpack_require__(/*! ../../../util/componentutil */ \"./src/util/componentutil.js\");\nvar _Stepper = _interopRequireDefault(__webpack_require__(/*! ../base/Stepper */ \"./src/component/mobile/base/Stepper.jsx\"));\nvar _serverproperties = __webpack_require__(/*! ../../../constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _BaseField2 = _interopRequireDefault(__webpack_require__(/*! ./BaseField */ \"./src/component/mobile/baseCardField/BaseField.jsx\"));\nvar _formatUtil = __webpack_require__(/*! ../../../util/formatUtil */ \"./src/util/formatUtil.js\");\nvar _customProperty = __webpack_require__(/*! @/util/customProperty */ \"./src/util/customProperty.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _get() { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar StepperField = exports[\"default\"] = /*#__PURE__*/function (_BaseField) {\n  _inherits(StepperField, _BaseField);\n  function StepperField() {\n    _classCallCheck(this, StepperField);\n    return _callSuper(this, StepperField, arguments);\n  }\n  _createClass(StepperField, [{\n    key: \"getThisField\",\n    value: function getThisField() {\n      var _this = this;\n      var _this$props = this.props,\n        editOption = _this$props.editOption,\n        lock = _this$props.lock,\n        style = _this$props.style,\n        showTitle = _this$props.showTitle,\n        data = _this$props.data,\n        model = _this$props.model,\n        option = _this$props.option;\n      var value = this.getInitialValue();\n      var inputStyle = this.getInputStyle();\n      // 产品要求步进器的对齐方式不应该生效\n      inputStyle.textAlign = '';\n      style.textAlign = '';\n      var inputProps = this.getInputProps();\n      var stepValue = editOption && editOption.get('stepvalue') || 1; // 步进值\n      var stepperStyle = editOption && editOption.get('mobstepperstyle') || 0; // 显示风格\n      var stepperPattern = editOption && editOption.get('stepperpattern') || 0; // 步进器模式，0为默认模式，1为极简模式\n      inputProps.onBlur = function (e) {\n        return _this.stopEditing(e.target.value);\n      };\n      inputProps.digitLength = editOption.get(_serverproperties.PRECISION);\n      inputProps.decimalLength = editOption.get(_serverproperties.SCALE);\n      inputProps.min = editOption.get(_serverproperties.MIN_VALUE);\n      inputProps.max = editOption.get(_serverproperties.MAX_VALUE);\n      inputProps.minMark = editOption.get(_serverproperties.MIN_MARK);\n      inputProps.maxMark = editOption.get(_serverproperties.MAX_MARK);\n      inputProps.noDisplayDecimalTailZero = editOption.get(_serverproperties.NO_DISPLAY_SCALE_ZERO) || false;\n      inputProps.mask = editOption.get(_serverproperties.DISPLAY_FORMAT) || editOption.get(_serverproperties.MASK);\n      inputProps.zeroShow = true;\n      inputProps.placeholder = '';\n      var controlRowProperty = (0, _customProperty.getControlRowProperty)({\n        data: data,\n        model: model,\n        option: option\n      });\n      if (controlRowProperty && controlRowProperty.get('stepvalue') >= 0) {\n        stepValue = controlRowProperty.get('stepvalue');\n      }\n      inputProps.handelOperatorClick = function (val, isStepperOperatorClick) {\n        _this.handleEditChange(val, isStepperOperatorClick);\n      };\n      inputProps.editClick = function (e) {\n        _this.onClickHandle(e, editOption, lock);\n      };\n      var formatInfo = (0, _componentutil.getFieldFormatInfo)(this.props) || {};\n      var decimalLength = formatInfo.decimalLength,\n        symbol = formatInfo.symbol,\n        showSymbol = formatInfo.showSymbol;\n      inputProps.decimalLength = decimalLength || inputProps.decimalLength;\n      var isReader = false;\n      if (!this.state.editing) {\n        // 金额字段显示货币符号\n        var type = editOption.get(_serverproperties.NUM_TYPE);\n        isReader = true;\n        /**\n        * 问题：当失去焦点后，value为空字符串时，会短暂只显示币别符号\n        * 修复：将value转为0\n        */\n        if (Object.is(value, '')) value = 0;\n        var displayValue = value;\n        if (symbol) {\n          inputProps.value = (0, _formatUtil.formatNumber)(displayValue || 0, {\n            mask: inputProps.mask,\n            symbol: symbol,\n            decimalLength: inputProps.decimalLength,\n            zeroShow: true,\n            type: type,\n            noDisplayDecimalTailZero: inputProps.noDisplayDecimalTailZero\n          });\n        } else if (inputProps.decimalLength !== null) {\n          inputProps.value = (0, _formatUtil.formatNumber)(displayValue || 0, {\n            mask: inputProps.mask,\n            decimalLength: inputProps.decimalLength,\n            zeroShow: true,\n            type: type,\n            noDisplayDecimalTailZero: inputProps.noDisplayDecimalTailZero\n          });\n        }\n      } else {}\n      if (stepperStyle === 1) {\n        if (inputProps.min < 0) {\n          inputProps.min = 0;\n          inputProps.minMark = '[';\n        }\n        if (inputProps.value < 0) {\n          inputProps.value = 0;\n        }\n      }\n      // 不显示标题的情况下，设置的宽度就是步进器本身的宽度\n      // const stepperWidth = !showTitle && style.width\n      var element = /*#__PURE__*/_react[\"default\"].createElement(_Stepper[\"default\"], _extends({}, inputProps, {\n        stepValue: stepValue,\n        stepperStyle: stepperStyle,\n        stepperPattern: stepperPattern,\n        isReader: isReader,\n        isCard: true,\n        style: stepperPattern === 1 ? style : inputStyle,\n        onChange: function onChange(e) {\n          return _this.handleEditChange(e.target.value);\n        }\n      }));\n      return element;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var editOption = this.props.editOption;\n      var stepperPattern = editOption && editOption.get('stepperpattern') || 0; // 步进器模式，0为默认模式，1为极简模式\n      // return super.render()\n      if (stepperPattern === 1) {\n        return this.getThisField();\n      } else {\n        return _get(_getPrototypeOf(StepperField.prototype), \"render\", this).call(this);\n      }\n    }\n  }]);\n  return StepperField;\n}(_BaseField2[\"default\"]);\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/baseCardField/StepperField.jsx?");

/***/ }),

/***/ "./src/component/mobile/baseCardField/TelephoneField.jsx":
/*!***************************************************************!*\
  !*** ./src/component/mobile/baseCardField/TelephoneField.jsx ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.get.js */ \"../../node_modules/core-js/modules/es.reflect.get.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _Telephone = _interopRequireDefault(__webpack_require__(/*! ../base/Telephone */ \"./src/component/mobile/base/Telephone.jsx\"));\nvar _BaseField2 = _interopRequireDefault(__webpack_require__(/*! ./BaseField */ \"./src/component/mobile/baseCardField/BaseField.jsx\"));\nvar _GlobalDataCacher = __webpack_require__(/*! ../../../model/GlobalDataCacher */ \"./src/model/GlobalDataCacher.js\");\nvar _symbolConst = __webpack_require__(/*! ../../../constant/symbolConst */ \"./src/constant/symbolConst.js\");\nvar _componentutil = __webpack_require__(/*! @/util/componentutil */ \"./src/util/componentutil.js\");\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _serverproperties = __webpack_require__(/*! @/constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _fieldaction = __webpack_require__(/*! @/action/fieldaction */ \"./src/action/fieldaction.js\");\nvar _memoryCacher = __webpack_require__(/*! @/model/memoryCacher */ \"./src/model/memoryCacher.js\");\nvar _const = __webpack_require__(/*! @/constant/const */ \"./src/constant/const.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _get() { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nvar TelephoneField = exports[\"default\"] = /*#__PURE__*/function (_BaseField) {\n  _inherits(TelephoneField, _BaseField);\n  function TelephoneField(props) {\n    var _thisSuper, _this;\n    _classCallCheck(this, TelephoneField);\n    _this = _callSuper(this, TelephoneField, [props]);\n    _this.selectCountry = function (country) {\n      var model = _this.props.model;\n      var rowIndex = _get((_thisSuper = _assertThisInitialized(_this), _getPrototypeOf(TelephoneField.prototype)), \"getRowIndex\", _thisSuper).call(_thisSuper);\n      (0, _memoryCacher.setPageData)(model.pageId, [model.key, rowIndex, _const.TELEPHONE_COUNTRY], country);\n    };\n    _this.setData = _this.setData.bind(_assertThisInitialized(_this));\n    _this.state = {\n      viaList: undefined\n    };\n    return _this;\n  }\n  _createClass(TelephoneField, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // 组件加载完成需要请求所有的国家手机号识别码\n      var _this$props = this.props,\n        dispatch = _this$props.dispatch,\n        model = _this$props.model;\n      (0, _GlobalDataCacher.getData)(_symbolConst.KEY_COUNTRU_VIA_DATA) || dispatch((0, _fieldaction.getTelViaList)(model));\n      this.unbindDataChangeListener = (0, _GlobalDataCacher.addDataChangeListener)(_symbolConst.KEY_COUNTRU_VIA_DATA, this.setData);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.unbindDataChangeListener && this.unbindDataChangeListener();\n      var model = this.props.model;\n      var rowIndex = _get(_getPrototypeOf(TelephoneField.prototype), \"getRowIndex\", this).call(this);\n      (0, _memoryCacher.deletePageData)(model.pageId, [model.key, rowIndex, _const.TELEPHONE_COUNTRY]);\n    }\n  }, {\n    key: \"setData\",\n    value: function setData(value, oldValue) {\n      this.setState({\n        viaList: value\n      });\n    }\n  }, {\n    key: \"getThisField\",\n    value: function getThisField() {\n      var _this2 = this;\n      var _this$state$viaList = this.state.viaList,\n        viaList = _this$state$viaList === void 0 ? (0, _GlobalDataCacher.getData)(_symbolConst.KEY_COUNTRU_VIA_DATA) || {} : _this$state$viaList;\n      var inputStyle = this.getInputStyle();\n      var inputProps = this.getInputProps();\n      // inputProps.placeholder = ''\n      var option = this.props.model.getMetaProperty('item') || (0, _immutable.Map)();\n      var openSeparator = option.get(_serverproperties.OPRN_SEPARATOR) || false;\n      return /*#__PURE__*/_react[\"default\"].createElement(_Telephone[\"default\"], _extends({}, inputProps, {\n        viaList: viaList,\n        letters: Object.keys(viaList) || [],\n        style: inputStyle,\n        onChange: function onChange(value) {\n          return _this2.handleEditChange(value);\n        },\n        onBlur: function onBlur(value) {\n          return _this2.stopEditing(value);\n        },\n        noValue: (0, _componentutil.getNOValue)(),\n        openSeparator: openSeparator,\n        selectCountry: this.selectCountry\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return _get(_getPrototypeOf(TelephoneField.prototype), \"render\", this).call(this);\n    }\n  }]);\n  return TelephoneField;\n}(_BaseField2[\"default\"]);\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/baseCardField/TelephoneField.jsx?");

/***/ }),

/***/ "./src/component/mobile/baseCardField/TextAreaField.jsx":
/*!**************************************************************!*\
  !*** ./src/component/mobile/baseCardField/TextAreaField.jsx ***!
  \**************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.get.js */ \"../../node_modules/core-js/modules/es.reflect.get.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.string.replace.js */ \"../../node_modules/core-js/modules/es.string.replace.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _baseComponent = __webpack_require__(/*! ../base/baseComponent */ \"./src/component/mobile/base/baseComponent.jsx\");\nvar _BaseField2 = _interopRequireDefault(__webpack_require__(/*! ./BaseField */ \"./src/component/mobile/baseCardField/BaseField.jsx\"));\nvar _TextAreaField = _interopRequireDefault(__webpack_require__(/*! ./TextAreaField.less */ \"./src/component/mobile/baseCardField/TextAreaField.less\"));\nvar _xssFilters = _interopRequireDefault(__webpack_require__(/*! @/util/xssFilters */ \"./src/util/xssFilters.js\"));\nvar _classnames = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _ParticularStyleField = __webpack_require__(/*! ../base/ParticularStyleField */ \"./src/component/mobile/base/ParticularStyleField.jsx\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _get() { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar TextAreaField = exports[\"default\"] = /*#__PURE__*/function (_BaseField) {\n  _inherits(TextAreaField, _BaseField);\n  function TextAreaField() {\n    _classCallCheck(this, TextAreaField);\n    return _callSuper(this, TextAreaField, arguments);\n  }\n  _createClass(TextAreaField, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var inputProps = this.getInputProps();\n      var readOnly = inputProps.readOnly;\n      if (this.textareaDom && !readOnly) {\n        var parentNode = this.textareaDom.parentNode;\n        var parentHeight = parentNode.clientHeight;\n        if (parentHeight !== this.textareaDom.clientHeight) {\n          var height = parentHeight ? parentHeight + 'px' : '20px';\n          this.textareaDom.style.cssText += \";height: \".concat(height, \";min-height: \").concat(height, \";max-height: \").concat(height, \";\");\n        }\n      }\n    }\n  }, {\n    key: \"getThisField\",\n    value: function getThisField() {\n      var _this = this;\n      var value = this.getInitialValue() || '';\n      var inputProps = this.getInputProps();\n      var inputStyle = this.getInputStyle();\n      var showLine = inputProps.showLine,\n        readOnly = inputProps.readOnly;\n      if (readOnly) {\n        var text = (0, _xssFilters[\"default\"])(value);\n        text = text && text.replace(/(\\r\\n)|(\\n)|(\\r)/g, '<br />');\n        var html = text && text.replace(/(\\t)/g, '<span style=\"padding-left: 2em\"></span>'); // 替换换行缩进转义符\n\n        var lineControl = showLine !== null && showLine !== void 0 && showLine.length ? showLine : '0';\n        return /*#__PURE__*/_react[\"default\"].createElement(_ParticularStyleField.TextareaWithFoldBtn, {\n          textareaStyle: inputStyle,\n          textareaAttribute: inputProps,\n          textareaClassname: (0, _classnames[\"default\"])(_TextAreaField[\"default\"].value_readOnly, _TextAreaField[\"default\"].value_fold),\n          html: html || this.props.noValue,\n          lineControl: lineControl,\n          btnStyle: {\n            width: '100%'\n          }\n        });\n      }\n      inputProps.inputRef = function (n) {\n        _this.textareaDom = n;\n      };\n      inputProps.onBlur = function (e) {\n        var scrollTop = _this.textareaDom && _this.textareaDom.scrollTop;\n        if (scrollTop > 0) {\n          _this.textareaDom.scrollTop = 0;\n        }\n        _this.handleEditChange(e.target.value, true);\n        _this.setState({\n          editing: false\n        });\n      };\n      var element;\n      if (!this.state.editing) {\n        element = this.renderTextValue(value, inputStyle, inputProps.placeholder);\n      } else {\n        inputProps.autoFocus = true;\n        element = /*#__PURE__*/_react[\"default\"].createElement(_baseComponent.TextArea, _extends({}, inputProps, {\n          style: inputStyle,\n          onChange: function onChange(e) {\n            return _this.handleEditChange(e.target.value);\n          }\n        })); // 父方法\n      }\n      return element;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return _get(_getPrototypeOf(TextAreaField.prototype), \"render\", this).call(this);\n    }\n  }]);\n  return TextAreaField;\n}(_BaseField2[\"default\"]);\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/baseCardField/TextAreaField.jsx?");

/***/ }),

/***/ "./src/component/mobile/baseCardField/TextField.jsx":
/*!**********************************************************!*\
  !*** ./src/component/mobile/baseCardField/TextField.jsx ***!
  \**********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.get.js */ \"../../node_modules/core-js/modules/es.reflect.get.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.join.js */ \"../../node_modules/core-js/modules/es.array.join.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.string.replace.js */ \"../../node_modules/core-js/modules/es.string.replace.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _baseComponent = __webpack_require__(/*! ../base/baseComponent */ \"./src/component/mobile/base/baseComponent.jsx\");\nvar _CardField = _interopRequireDefault(__webpack_require__(/*! ../base/CardField */ \"./src/component/mobile/base/CardField.js\"));\nvar _BaseField2 = _interopRequireDefault(__webpack_require__(/*! ./BaseField */ \"./src/component/mobile/baseCardField/BaseField.jsx\"));\nvar _serverproperties = __webpack_require__(/*! ../../../constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _textUtil = __webpack_require__(/*! @/util/textUtil */ \"./src/util/textUtil.js\");\nvar _gridaction = __webpack_require__(/*! @/action/gridaction */ \"./src/action/gridaction.js\");\nvar _toolUtils = __webpack_require__(/*! @/util/toolUtils */ \"./src/util/toolUtils.js\");\nvar _memoryCacher = __webpack_require__(/*! @/model/memoryCacher.js */ \"./src/model/memoryCacher.js\");\nvar _server = __webpack_require__(/*! @/action/actionname/control/fieldMobile/server */ \"./src/action/actionname/control/fieldMobile/server/index.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _get() { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar TextField = exports[\"default\"] = /*#__PURE__*/function (_BaseField) {\n  _inherits(TextField, _BaseField);\n  function TextField(props) {\n    var _this;\n    _classCallCheck(this, TextField);\n    _this = _callSuper(this, TextField, [props]);\n    _this.handleClick = function (e) {\n      var _this$props = _this.props,\n        model = _this$props.model,\n        gridKey = _this$props.gridKey,\n        dispatch = _this$props.dispatch,\n        beforeClick = _this$props.beforeClick;\n      if (model.getMetaProperty('ln')) {\n        e.stopPropagation();\n        beforeClick && beforeClick();\n        var colId = model.getMetaProperty('id');\n        dispatch((0, _gridaction.hyperLinkClick)({\n          key: gridKey,\n          pageId: model.pageId\n        }, colId, _this.getRowIndex()));\n      }\n    };\n    var _this$props2 = _this.props,\n      editOptionType = _this$props2.editOptionType,\n      editOption = _this$props2.editOption;\n    var format = editOption.get(_serverproperties.TEXT_FIELD_FORMAT);\n    if (editOptionType === _serverproperties.Ctrls.KDText && format) {\n      _this.textFormatter = new _textUtil.TextFormatter(format);\n    }\n    _this.handleEditChange = _this.handleEditChange.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  _createClass(TextField, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      var model = nextProps.model,\n        data = nextProps.data,\n        option = nextProps.option;\n      var _this$props3 = this.props,\n        _model = _this$props3.model,\n        _data = _this$props3.data,\n        _option = _this$props3.option;\n      var dataIndex = model.getMetaProperty('dataIndex');\n      // 弹性域文本的值从getInitiaValueImpl 方法获取\n      var newValue = nextProps.getInitiaValueImpl ? nextProps.getInitiaValueImpl(nextProps, dataIndex) : data.get(option.get(dataIndex));\n      var oldValue = _data.get(_option.get(_model.getMetaProperty('dataIndex')));\n      if (newValue !== undefined && newValue !== oldValue) {\n        this.setState({\n          innerValue: this.textFormatter ? this.textFormatter.setFormatValue(newValue) : newValue // value先存到控件内部\n        });\n      }\n    }\n  }, {\n    key: \"handleEditChange\",\n    value: function handleEditChange(evt) {\n      var _this$props$editOptio;\n      var value = evt.target.value;\n      if (this.textFormatter) {\n        value = this.textFormatter.getFormattedValue(value);\n        this.textFormatter.resetCursor(value, this.state.innerValue, evt.target);\n      }\n      var isPasswordBox = ((_this$props$editOptio = this.props.editOption) === null || _this$props$editOptio === void 0 ? void 0 : _this$props$editOptio.get('type')) === 'passwordbox';\n      if (isPasswordBox) {\n        if (this.state.innerValue === '******') {\n          if (value.length === 5 && value === '*****') {\n            value = '';\n          }\n          if (value.length === 7 && (0, _toolUtils.getStrCount)(value, '*') === 6) {\n            value = value.split('*').join('');\n          }\n        }\n      }\n      this.handleChange(value);\n    }\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(value) {\n      var _this$state$innerValu;\n      var isUpdateAllowed = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      if (this.textFormatter && value.length > (((_this$state$innerValu = this.state.innerValue) === null || _this$state$innerValu === void 0 ? void 0 : _this$state$innerValu.length) || 0)) {\n        if (!/^(\\d{1,}\\s?)+$/.test(value)) {\n          this.setState({\n            innerValue: value.replace(/[^\\d ]+/g, '')\n          });\n          return;\n        } else {\n          var formatVal = this.textFormatter ? this.textFormatter.setFormatValue(value) : value;\n          this.setState({\n            innerValue: formatVal\n          });\n          return;\n          // const normalValue = this.textFormatter.getNormalValue(formatVal)\n          // super.handleEditChange(normalValue, isUpdateAllowed)\n        }\n      }\n      _get(_getPrototypeOf(TextField.prototype), \"handleEditChange\", this).call(this, value, isUpdateAllowed);\n    }\n  }, {\n    key: \"getInitialValue\",\n    value: function getInitialValue() {\n      var value = _get(_getPrototypeOf(TextField.prototype), \"getInitialValue\", this).call(this);\n      return this.textFormatter ? this.textFormatter.setFormatValue(value) : value;\n    }\n  }, {\n    key: \"stopEditing\",\n    value: function stopEditing(value) {\n      this.setState({\n        editing: false\n      });\n      // 需要更新store，不然会有脏数据问题\n      _get(_getPrototypeOf(TextField.prototype), \"handleEditChange\", this).call(this, value, true, true);\n    }\n  }, {\n    key: \"getThisField\",\n    value: function getThisField() {\n      var _this$props$editOptio2,\n        _this2 = this;\n      var value = this.getInitialValue();\n      var inputStyle = this.getInputStyle();\n      var inputProps = this.getInputProps();\n      if (this.textFormatter) {\n        inputProps.maxLength = this.textFormatter.getMaxLength(inputProps.maxLength);\n      }\n      var element;\n      var isPasswordBox = ((_this$props$editOptio2 = this.props.editOption) === null || _this$props$editOptio2 === void 0 ? void 0 : _this$props$editOptio2.get('type')) === 'passwordbox';\n      if (!this.state.editing) {\n        if (this.textFormatter) inputStyle.whiteSpace = 'nowrap';\n        if (isPasswordBox && value.length > 0) {\n          value = '••••••';\n        }\n        element = this.renderTextValue(value, inputStyle, inputProps.placeholder); // 父方法\n      } else {\n        inputProps.autoFocus = true;\n        inputProps.onBlur = function (e) {\n          _this2.setState({\n            innerValue: e.target.value\n          });\n          var normalValue = _this2.textFormatter ? _this2.textFormatter.getNormalValue(e.target.value) : e.target.value;\n          _this2.stopEditing(normalValue);\n        }; // 父方法\n        if (isPasswordBox) {\n          inputProps.type = 'password';\n        }\n        var setShowKeyBoard = function setShowKeyBoard(e) {\n          var model = _this2.props.model;\n          var pageId = model.pageId,\n            key = model.key;\n          var isShow = (0, _memoryCacher.getPageData)(pageId, [key, _server.SHOW_SOFT_KEYBOARD_WHEN_FIELD_FOCUSED]);\n          if (isShow === false) {\n            (0, _toolUtils.hideSoftKeyBoardWhenInputFocus)(e.target);\n          }\n        };\n        element = /*#__PURE__*/_react[\"default\"].createElement(_baseComponent.Text, _extends({}, inputProps, {\n          style: inputStyle,\n          onChange: this.handleEditChange,\n          onFocus: setShowKeyBoard,\n          onClick: setShowKeyBoard\n        }));\n      }\n      return element;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props4 = this.props,\n        model = _this$props4.model,\n        editOption = _this$props4.editOption,\n        titleStyle = _this$props4.titleStyle,\n        style = _this$props4.style,\n        showTitle = _this$props4.showTitle,\n        lock = _this$props4.lock,\n        valueStyle = _this$props4.valueStyle;\n      var isLink = model.getMetaProperty('ln');\n      return isLink ? /*#__PURE__*/_react[\"default\"].createElement(_CardField[\"default\"], _extends({\n        isLink: isLink,\n        style: style,\n        valueStyle: valueStyle,\n        showTitle: showTitle,\n        title: model.getMetaLocaleProperty('header'),\n        value: this.getInitialValue(),\n        onClick: this.handleClick,\n        editOption: editOption,\n        titleStyle: titleStyle,\n        lock: lock,\n        onGetPrivateProps: this.handleGetPrivateProps\n      }, this.props.className)) : _get(_getPrototypeOf(TextField.prototype), \"render\", this).call(this);\n    }\n  }]);\n  return TextField;\n}(_BaseField2[\"default\"]);\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/baseCardField/TextField.jsx?");

/***/ }),

/***/ "./src/component/mobile/baseCardField/TimeField.jsx":
/*!**********************************************************!*\
  !*** ./src/component/mobile/baseCardField/TimeField.jsx ***!
  \**********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.get.js */ \"../../node_modules/core-js/modules/es.reflect.get.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.join.js */ \"../../node_modules/core-js/modules/es.array.join.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _Time = _interopRequireDefault(__webpack_require__(/*! ../base/Time */ \"./src/component/mobile/base/Time.js\"));\nvar _serverproperties = __webpack_require__(/*! ../../../constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _BaseField2 = _interopRequireDefault(__webpack_require__(/*! ./BaseField */ \"./src/component/mobile/baseCardField/BaseField.jsx\"));\nvar _KDTime = __webpack_require__(/*! ../KDTime */ \"./src/component/mobile/KDTime.js\");\nvar _gridaction = __webpack_require__(/*! @/action/gridaction */ \"./src/action/gridaction.js\");\nvar _moment = _interopRequireDefault(__webpack_require__(/*! moment */ \"../../node_modules/moment/moment.js\"));\nvar _memoryCacher = __webpack_require__(/*! ../../../model/memoryCacher */ \"./src/model/memoryCacher.js\");\nvar _server = __webpack_require__(/*! @/action/actionname/control/time/server */ \"./src/action/actionname/control/time/server/index.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _get() { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar DateField = exports[\"default\"] = /*#__PURE__*/function (_BaseField) {\n  _inherits(DateField, _BaseField);\n  function DateField() {\n    var _this;\n    _classCallCheck(this, DateField);\n    for (var _len = arguments.length, _args = new Array(_len), _key = 0; _key < _len; _key++) {\n      _args[_key] = arguments[_key];\n    }\n    _this = _callSuper(this, DateField, [].concat(_args));\n    _this.setTimeFieldDefaultValue = function (args) {\n      var _args$ = args[0],\n        focusValue = _args$.focusValue,\n        rowIndex = _args$.rowIndex;\n      if (rowIndex === _this.getRowIndex()) {\n        focusValue = [].concat(focusValue);\n        var time = (0, _KDTime.calcTime)(focusValue.join(','));\n        _this.setState({\n          defaultValue: time\n        });\n      }\n    };\n    return _this;\n  }\n  _createClass(DateField, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var model = this.props.model;\n      var pageId = model && model.pageId;\n      var key = model && model.key;\n      var path = [key, this.getRowIndex(), _server.SET_TIME_FOCUS_VALUE];\n      var initSetTimeFocusValue = (0, _memoryCacher.getPageData)(pageId, path);\n      initSetTimeFocusValue && this.setTimeFieldDefaultValue(initSetTimeFocusValue);\n      this.removeTimeFocusValueListener = (0, _memoryCacher.addDataChangeListener)(pageId, path, this.setTimeFieldDefaultValue);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.removeTimeFocusValueListener && this.removeTimeFocusValueListener();\n    }\n  }, {\n    key: \"getThisField\",\n    value: function getThisField() {\n      var _this2 = this,\n        _this$state$defaultVa;\n      var _this$props = this.props,\n        editOption = _this$props.editOption,\n        isFromCardRow = _this$props.isFromCardRow,\n        _this$props$noValue = _this$props.noValue,\n        noValue = _this$props$noValue === void 0 ? '' : _this$props$noValue;\n      var inputStyle = this.getInputStyle();\n      var inputProps = this.getInputProps();\n      inputProps.mask = editOption.get(_serverproperties.MASK);\n      var handleChange = function handleChange(newValue) {\n        // const { model, data, option, gridKey, rowKey, dispatch } = this.props\n        // const row = data.get(option.get(rowKey))\n        var result = !newValue ? '' : newValue.hour() * 3600 + newValue.minute() * 60 + newValue.second() * 1 + '';\n        // if (result !== data.get(option.get(model.getMetaProperty('dataIndex'))) + '') {\n        //   dispatch(cellChange({ pageId: model.pageId, key: gridKey, fireUpdEvt: true }, [{\n        //     [ROW]: row,\n        //     [VALUE]: result,\n        //     [KEY]: model.getMetaProperty('dataIndex')\n        //   }]))\n        // }\n        _this2.handleEditChange(result, true);\n      };\n      inputProps.value = inputProps.isPrivacyField ? inputProps.value : (0, _KDTime.calcTime)(inputProps.value);\n      return /*#__PURE__*/_react[\"default\"].createElement(_Time[\"default\"], _extends({\n        isFromCardRow: isFromCardRow,\n        style: inputStyle\n      }, inputProps, {\n        onChange: handleChange,\n        format: inputProps.mask,\n        noValue: noValue,\n        timeTextAlign: inputStyle.textAlign,\n        defaultValue: (_this$state$defaultVa = this.state.defaultValue) !== null && _this$state$defaultVa !== void 0 ? _this$state$defaultVa : (0, _moment[\"default\"])()\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return _get(_getPrototypeOf(DateField.prototype), \"render\", this).call(this);\n    }\n  }]);\n  return DateField;\n}(_BaseField2[\"default\"]);\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/baseCardField/TimeField.jsx?");

/***/ }),

/***/ "./src/component/mobile/baseCardField/TimeRangeField.jsx":
/*!***************************************************************!*\
  !*** ./src/component/mobile/baseCardField/TimeRangeField.jsx ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.get.js */ \"../../node_modules/core-js/modules/es.reflect.get.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.join.js */ \"../../node_modules/core-js/modules/es.array.join.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _BaseField2 = _interopRequireDefault(__webpack_require__(/*! ./BaseField */ \"./src/component/mobile/baseCardField/BaseField.jsx\"));\nvar _commonUtils = _interopRequireDefault(__webpack_require__(/*! ../../common/commonUtils */ \"./src/component/common/commonUtils.js\"));\nvar _TimeRangePicker = _interopRequireDefault(__webpack_require__(/*! ../base/TimeRangePicker */ \"./src/component/mobile/base/TimeRangePicker.jsx\"));\nvar _KDTimeRange = __webpack_require__(/*! ../KDTimeRange */ \"./src/component/mobile/KDTimeRange.js\");\nvar _serverproperties = __webpack_require__(/*! ../../../constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _memoryCacher = __webpack_require__(/*! ../../../model/memoryCacher */ \"./src/model/memoryCacher.js\");\nvar _moment = _interopRequireDefault(__webpack_require__(/*! moment */ \"../../node_modules/moment/moment.js\"));\nvar _server = __webpack_require__(/*! @/action/actionname/control/timeRange/server */ \"./src/action/actionname/control/timeRange/server/index.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _get() { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar TimeRangeField = exports[\"default\"] = /*#__PURE__*/function (_BaseField) {\n  _inherits(TimeRangeField, _BaseField);\n  function TimeRangeField() {\n    var _this;\n    _classCallCheck(this, TimeRangeField);\n    for (var _len = arguments.length, _args = new Array(_len), _key = 0; _key < _len; _key++) {\n      _args[_key] = arguments[_key];\n    }\n    _this = _callSuper(this, TimeRangeField, [].concat(_args));\n    _this.doControlMethods = function (pageDatas) {\n      pageDatas.forEach(function (pageData) {\n        var methodname = pageData.methodname,\n          args = pageData.args;\n        switch (methodname) {\n          case _server.SET_TIMERANGE_FOCUS_VALUE:\n            {\n              var _args$ = args[0],\n                focusValue = _args$.focusValue,\n                rowIndex = _args$.rowIndex;\n              if (rowIndex === _this.getRowIndex()) {\n                var time = (0, _KDTimeRange.calcTimes)(focusValue.join(','));\n                _this.setState({\n                  defaultValue: time\n                });\n              }\n              break;\n            }\n          default:\n            break;\n        }\n      });\n    };\n    return _this;\n  }\n  _createClass(TimeRangeField, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n      var model = this.props.model;\n      var pageId = model && model.pageId;\n      var key = model && model.key;\n      this.removeSubscribeMethod = (0, _memoryCacher.subscribeControlMethod)(pageId, key, 'directives', function (pageDatas) {\n        if (pageDatas === undefined) {\n          return;\n        }\n        _this2.doControlMethods(pageDatas);\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.removeSubscribeMethod && this.removeSubscribeMethod();\n    }\n  }, {\n    key: \"getThisField\",\n    value: function getThisField() {\n      var _this3 = this,\n        _this$state$defaultVa;\n      var _this$props = this.props,\n        editOption = _this$props.editOption,\n        model = _this$props.model,\n        mobFieldStyle = _this$props.mobFieldStyle,\n        _this$props$noValue = _this$props.noValue,\n        noValue = _this$props$noValue === void 0 ? '' : _this$props$noValue;\n      var inputProps = this.getInputProps();\n      inputProps.mask = editOption.get(_serverproperties.MASK);\n      inputProps.displayFormat = editOption.get(_serverproperties.DISPLAY_FORMAT);\n      inputProps.minDate = editOption.get(_serverproperties.MIN_VALUE);\n      inputProps.maxDate = editOption.get(_serverproperties.MAX_VALUE);\n      var inputStyle = this.getInputStyle(); // 父方法\n      var AlignSelf = inputStyle.AlignSelf,\n        Grow = inputStyle.Grow,\n        Shrink = inputStyle.Shrink;\n      var value = this.getInitialValue();\n      var handleChange = function handleChange() {\n        var newValue = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n        var result = newValue[0] && !newValue[1] ? '' : (0, _KDTimeRange.legalTimes)(newValue).map(_KDTimeRange.getSecondNumber).join(',');\n        _this3.handleEditChange(result, true);\n      };\n      var timeCls = (0, _commonUtils[\"default\"])({\n        AlignSelf: AlignSelf,\n        Grow: Grow,\n        Shrink: Shrink\n      });\n      var times = (0, _KDTimeRange.calcTimes)(value);\n      return /*#__PURE__*/_react[\"default\"].createElement(_TimeRangePicker[\"default\"], {\n        value: times,\n        model: model,\n        defaultValue: (_this$state$defaultVa = this.state.defaultValue) !== null && _this$state$defaultVa !== void 0 ? _this$state$defaultVa : [(0, _moment[\"default\"])(), (0, _moment[\"default\"])()],\n        isFromCardRow: true,\n        onChange: handleChange,\n        format: inputProps.mask,\n        className: timeCls,\n        placeholder: inputProps.placeholder,\n        readOnly: inputProps.readOnly,\n        mobFieldStyle: mobFieldStyle,\n        noValue: noValue,\n        style: inputStyle,\n        hide: inputProps.hide,\n        validateData: inputProps.validateData,\n        showEmptyFieldTips: inputProps.showEmptyFieldTips\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return _get(_getPrototypeOf(TimeRangeField.prototype), \"render\", this).call(this);\n    }\n  }]);\n  return TimeRangeField;\n}(_BaseField2[\"default\"]);\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/baseCardField/TimeRangeField.jsx?");

/***/ }),

/***/ "./src/component/mobile/baseCardField/index.js":
/*!*****************************************************!*\
  !*** ./src/component/mobile/baseCardField/index.js ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\nvar _LabelStyleField = _interopRequireDefault(__webpack_require__(/*! ./LabelStyleField */ \"./src/component/mobile/baseCardField/LabelStyleField.jsx\"));\nvar _IconField = _interopRequireDefault(__webpack_require__(/*! ./IconField */ \"./src/component/mobile/baseCardField/IconField.jsx\"));\nvar _DateField = _interopRequireDefault(__webpack_require__(/*! ./DateField */ \"./src/component/mobile/baseCardField/DateField.jsx\"));\nvar _TimeField = _interopRequireDefault(__webpack_require__(/*! ./TimeField */ \"./src/component/mobile/baseCardField/TimeField.jsx\"));\nvar _ComboField = _interopRequireDefault(__webpack_require__(/*! ./ComboField */ \"./src/component/mobile/baseCardField/ComboField.jsx\"));\nvar _TextField = _interopRequireDefault(__webpack_require__(/*! ./TextField */ \"./src/component/mobile/baseCardField/TextField.jsx\"));\nvar _NumberField = _interopRequireDefault(__webpack_require__(/*! ./NumberField */ \"./src/component/mobile/baseCardField/NumberField.jsx\"));\nvar _BaseDataField = _interopRequireDefault(__webpack_require__(/*! ./BaseDataField */ \"./src/component/mobile/baseCardField/BaseDataField.jsx\"));\nvar _TextAreaField = _interopRequireDefault(__webpack_require__(/*! ./TextAreaField */ \"./src/component/mobile/baseCardField/TextAreaField.jsx\"));\nvar _CheckboxField = _interopRequireDefault(__webpack_require__(/*! ./CheckboxField */ \"./src/component/mobile/baseCardField/CheckboxField.jsx\"));\nvar _PictureField = _interopRequireDefault(__webpack_require__(/*! ./PictureField */ \"./src/component/mobile/baseCardField/PictureField.jsx\"));\nvar _OtherField = _interopRequireDefault(__webpack_require__(/*! ./OtherField */ \"./src/component/mobile/baseCardField/OtherField.jsx\"));\nvar _AttachmentPanelField = _interopRequireDefault(__webpack_require__(/*! ./AttachmentPanelField */ \"./src/component/mobile/baseCardField/AttachmentPanelField.jsx\"));\nvar _TelephoneField = _interopRequireDefault(__webpack_require__(/*! ./TelephoneField */ \"./src/component/mobile/baseCardField/TelephoneField.jsx\"));\nvar _MulLangField = _interopRequireDefault(__webpack_require__(/*! ./MulLangField */ \"./src/component/mobile/baseCardField/MulLangField.jsx\"));\nvar _StepperField = _interopRequireDefault(__webpack_require__(/*! ./StepperField */ \"./src/component/mobile/baseCardField/StepperField.jsx\"));\nvar _FlexField = _interopRequireDefault(__webpack_require__(/*! ./FlexField */ \"./src/component/mobile/baseCardField/FlexField.jsx\"));\nvar _RadioField = _interopRequireDefault(__webpack_require__(/*! ./RadioField */ \"./src/component/mobile/baseCardField/RadioField.jsx\"));\nvar _TimeRangeField = _interopRequireDefault(__webpack_require__(/*! ./TimeRangeField */ \"./src/component/mobile/baseCardField/TimeRangeField.jsx\"));\nvar _ParticularStyleField = _interopRequireDefault(__webpack_require__(/*! ./ParticularStyleField */ \"./src/component/mobile/baseCardField/ParticularStyleField.jsx\"));\nvar _AdmindivisionField = _interopRequireDefault(__webpack_require__(/*! ./AdmindivisionField */ \"./src/component/mobile/baseCardField/AdmindivisionField.jsx\"));\nvar _EmailField = _interopRequireDefault(__webpack_require__(/*! ./EmailField */ \"./src/component/mobile/baseCardField/EmailField.jsx\"));\nvar _LargeTextField = _interopRequireDefault(__webpack_require__(/*! ./LargeTextField */ \"./src/component/mobile/baseCardField/LargeTextField.jsx\"));\nvar _AddressField = _interopRequireDefault(__webpack_require__(/*! ./AddressField */ \"./src/component/mobile/baseCardField/AddressField.jsx\"));\nvar _PasswordBoxField = _interopRequireDefault(__webpack_require__(/*! ./PasswordBoxField */ \"./src/component/mobile/baseCardField/PasswordBoxField.jsx\"));\nvar _RadioOptGroupField = _interopRequireDefault(__webpack_require__(/*! ./RadioOptGroupField */ \"./src/component/mobile/baseCardField/RadioOptGroupField.jsx\"));\nvar _CheckBoxGroupField = _interopRequireDefault(__webpack_require__(/*! ./CheckBoxGroupField */ \"./src/component/mobile/baseCardField/CheckBoxGroupField.jsx\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nvar CommonField = {\n  particularStyle: _ParticularStyleField[\"default\"],\n  labelStyle: _LabelStyleField[\"default\"],\n  icon: _IconField[\"default\"],\n  time: _TimeField[\"default\"],\n  date: _DateField[\"default\"],\n  datetime: _DateField[\"default\"],\n  daterange: _DateField[\"default\"],\n  timerange: _TimeRangeField[\"default\"],\n  radio: _RadioField[\"default\"],\n  radiogroup: _RadioField[\"default\"],\n  combo: _ComboField[\"default\"],\n  mulcombo: _ComboField[\"default\"],\n  text: _TextField[\"default\"],\n  number: _NumberField[\"default\"],\n  largeText: _LargeTextField[\"default\"],\n  basedata: _BaseDataField[\"default\"],\n  city: _BaseDataField[\"default\"],\n  user: _BaseDataField[\"default\"],\n  org: _BaseDataField[\"default\"],\n  mulbasedata: _BaseDataField[\"default\"],\n  textarea: _TextAreaField[\"default\"],\n  checkbox: _CheckboxField[\"default\"],\n  picture: _PictureField[\"default\"],\n  other: _OtherField[\"default\"],\n  attachmentfield: _AttachmentPanelField[\"default\"],\n  telephone: _TelephoneField[\"default\"],\n  localeText: _MulLangField[\"default\"],\n  stepper: _StepperField[\"default\"],\n  flexfield: _FlexField[\"default\"],\n  cascademenu: _AdmindivisionField[\"default\"],\n  email: _EmailField[\"default\"],\n  address: _AddressField[\"default\"],\n  passwordbox: _PasswordBoxField[\"default\"],\n  radiooptgroup: _RadioOptGroupField[\"default\"],\n  checkboxgroup: _CheckBoxGroupField[\"default\"]\n};\nvar _default = exports[\"default\"] = CommonField;\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/baseCardField/index.js?");

/***/ }),

/***/ "./src/util/CardFieldUtil.js":
/*!***********************************!*\
  !*** ./src/util/CardFieldUtil.js ***!
  \***********************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.getValueStyle = getValueStyle;\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _serverproperties = __webpack_require__(/*! @/constant/serverproperties */ \"./src/constant/serverproperties.js\");\n// 获取值域样式，可以进行一些逻辑处理\nfunction getValueStyle(_ref) {\n  var value = _ref.value,\n    _ref$style = _ref.style,\n    style = _ref$style === void 0 ? {} : _ref$style,\n    type = _ref.type,\n    _ref$editOption = _ref.editOption,\n    editOption = _ref$editOption === void 0 ? (0, _immutable.Map)() : _ref$editOption;\n  var valueStyle = Object.assign({}, style);\n  var textAlign = editOption.get(_serverproperties.TEXT_ALIGN);\n  // 图片字段，值域默认左对齐\n  if (type === 'picture' && !textAlign) {\n    valueStyle.justifyContent = 'flex-start';\n    return valueStyle;\n  }\n  if (typeof value === 'string') {\n    valueStyle.textAlign = textAlign;\n    return valueStyle;\n  }\n  var textAlignToJustifyContentObj = {\n    left: 'flex-start',\n    center: 'center',\n    right: 'flex-end'\n  };\n  valueStyle.justifyContent = textAlignToJustifyContentObj[textAlign] || '';\n  return valueStyle;\n}\n\n//# sourceURL=webpack://bos-platform/./src/util/CardFieldUtil.js?");

/***/ }),

/***/ "./src/component/common/MobileVirtualView.less":
/*!*****************************************************!*\
  !*** ./src/component/common/MobileVirtualView.less ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"init-item-flex-grow\":\"MobileVirtualView_init-item-flex-grow_28Xe\",\"virtual-container\":\"MobileVirtualView_virtual-container_14QI\",\"view-container\":\"MobileVirtualView_view-container_3Ju8\"});\n\n//# sourceURL=webpack://bos-platform/./src/component/common/MobileVirtualView.less?");

/***/ }),

/***/ "./src/component/mobile/KDAdvGrid.less":
/*!*********************************************!*\
  !*** ./src/component/mobile/KDAdvGrid.less ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"bill-list\":\"KDAdvGrid_bill-list_282n\",\"toolbar\":\"KDAdvGrid_toolbar_1MCx\",\"active\":\"KDAdvGrid_active_2Ey0\",\"panel\":\"KDAdvGrid_panel_1W4-\",\"selectedItems\":\"KDAdvGrid_selectedItems_2Fp0\",\"count\":\"KDAdvGrid_count_1L5D\",\"card-header-line\":\"KDAdvGrid_card-header-line_2s1S\"});\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/KDAdvGrid.less?");

/***/ }),

/***/ "./src/component/mobile/KDCardField.less":
/*!***********************************************!*\
  !*** ./src/component/mobile/KDCardField.less ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"span-container-value\":\"KDCardField_span-container-value_3Lk4\",\"span-container-value-textarea\":\"KDCardField_span-container-value-textarea_YgKe\",\"span-container-value-margin\":\"KDCardField_span-container-value-margin_NGYX\",\"span-value\":\"KDCardField_span-value_2aPT\",\"text-wrap\":\"KDCardField_text-wrap_VsyC\",\"lockEmpty\":\"KDCardField_lockEmpty_3kCy\",\"address-span-value\":\"KDCardField_address-span-value_5urz\",\"must-input\":\"KDCardField_must-input_2Tdh\"});\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/KDCardField.less?");

/***/ }),

/***/ "./src/component/mobile/KDCardRowPanel.less":
/*!**************************************************!*\
  !*** ./src/component/mobile/KDCardRowPanel.less ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"intersection\":\"KDCardRowPanel_intersection_1ou6\"});\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/KDCardRowPanel.less?");

/***/ }),

/***/ "./src/component/mobile/KDCardView.less":
/*!**********************************************!*\
  !*** ./src/component/mobile/KDCardView.less ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"chunk\":\"KDCardView_chunk_9Wtl\",\"content\":\"KDCardView_content_y4Iv\",\"operation\":\"KDCardView_operation_3r-g\",\"bar-item\":\"KDCardView_bar-item_2X_j\",\"loadding\":\"KDCardView_loadding_3uEG\",\"rotate\":\"KDCardView_rotate_33oh\",\"nodatabox\":\"KDCardView_nodatabox_q8Kz\",\"no-data-card\":\"KDCardView_no-data-card_gVMT\",\"zhangwei\":\"KDCardView_zhangwei_3grn\",\"no-data-container\":\"KDCardView_no-data-container_1WHB\",\"img-item\":\"KDCardView_img-item_xSq6\",\"cardTitle\":\"KDCardView_cardTitle_FfXN\",\"list\":\"KDCardView_list_1ir4\",\"top-float-btn\":\"KDCardView_top-float-btn_2voI\",\"bottom-float-btn\":\"KDCardView_bottom-float-btn_20d1\",\"error-icon\":\"KDCardView_error-icon_22k4\"});\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/KDCardView.less?");

/***/ }),

/***/ "./src/component/mobile/base/Aggregate.less":
/*!**************************************************!*\
  !*** ./src/component/mobile/base/Aggregate.less ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"aggregate-container\":\"Aggregate_aggregate-container_2Bjh\",\"aggregate-title-area\":\"Aggregate_aggregate-title-area_3WFX\",\"aggregate-loading-text\":\"Aggregate_aggregate-loading-text_2mKj\",\"aggregate-completed-text\":\"Aggregate_aggregate-completed-text_3LDn\",\"aggregate-title\":\"Aggregate_aggregate-title_nwht\",\"theme-color\":\"Aggregate_theme-color_2SjT\",\"aggregate-content-area\":\"Aggregate_aggregate-content-area_2zs3\",\"aggregate-content\":\"Aggregate_aggregate-content_3Rzm\",\"aggregate-content-item\":\"Aggregate_aggregate-content-item_kxNJ\",\"aggregate-content-item-title\":\"Aggregate_aggregate-content-item-title_2x-2\",\"aggregate-content-item-value\":\"Aggregate_aggregate-content-item-value_2-Fj\",\"show-detail-icon\":\"Aggregate_show-detail-icon_qeDX\",\"aggregate-detail\":\"Aggregate_aggregate-detail_3Efy\",\"aggregate-detail-title-area\":\"Aggregate_aggregate-detail-title-area_35Jf\",\"aggregate-detail-title\":\"Aggregate_aggregate-detail-title_3NUX\",\"aggregate-detail-close-icon\":\"Aggregate_aggregate-detail-close-icon_fXoz\",\"aggregate-detail-content\":\"Aggregate_aggregate-detail-content_3Doe\",\"aggregate-detail-item\":\"Aggregate_aggregate-detail-item_2H-5\",\"item-title\":\"Aggregate_item-title_1kzO\",\"item-value\":\"Aggregate_item-value_3izI\",\"mul-currency-aggregate-detail-item\":\"Aggregate_mul-currency-aggregate-detail-item_UD3X\",\"mul-currency-item\":\"Aggregate_mul-currency-item_3qOw\"});\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/base/Aggregate.less?");

/***/ }),

/***/ "./src/component/mobile/base/CardField.less":
/*!**************************************************!*\
  !*** ./src/component/mobile/base/CardField.less ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"field\":\"CardField_field_3h-j\",\"text-align-baseline\":\"CardField_text-align-baseline_3CxN\",\"radio\":\"CardField_radio_2c6X\",\"value-disabled\":\"CardField_value-disabled_3KjX\",\"radioline\":\"CardField_radioline_sy27\",\"value\":\"CardField_value_1Odp\",\"listfieldval\":\"CardField_listfieldval_3jQv\",\"textarea-wrapper\":\"CardField_textarea-wrapper_-C3B\",\"text-value\":\"CardField_text-value_3JH8\",\"text-value-color\":\"CardField_text-value-color_mAOt\",\"text-omit\":\"CardField_text-omit_1_LY\",\"textarea-fold-wrapper\":\"CardField_textarea-fold-wrapper_1CKw\",\"text-wordwrap\":\"CardField_text-wordwrap_CjeG\",\"left\":\"CardField_left_3raP\",\"center\":\"CardField_center_2x6P\",\"right\":\"CardField_right_5g3m\",\"justifyContentEnd\":\"CardField_justifyContentEnd_26h9\",\"style\":\"CardField_style_1R2y\",\"titlebox\":\"CardField_titlebox_3Mbc\",\"notmustInput\":\"CardField_notmustInput_b6bs\",\"listhascolon\":\"CardField_listhascolon_2dJa\",\"title\":\"CardField_title_imGc\",\"listfieldtitle\":\"CardField_listfieldtitle_2HmX\",\"disabled\":\"CardField_disabled_2xk_\",\"link\":\"CardField_link_3LPd\",\"must\":\"CardField_must_3Egt\",\"text-combo\":\"CardField_text-combo_cSvh\",\"field-CT\":\"CardField_field-CT_2Ns1\",\"normal\":\"CardField_normal_heId\",\"checkbox-option\":\"CardField_checkbox-option_1i0Y\",\"checkbox-switch\":\"CardField_checkbox-switch_3_Mc\",\"is-view-value\":\"CardField_is-view-value_15pi\",\"textarealabel\":\"CardField_textarealabel_1WkI\",\"titleTop\":\"CardField_titleTop_3afg\",\"label-width\":\"CardField_label-width_2Dgx\",\"show-validate-box\":\"CardField_show-validate-box_2RjU\",\"validate-box\":\"CardField_validate-box_24-N\",\"fontSizeInherit\":\"CardField_fontSizeInherit_1vCC\",\"label-text-left\":\"CardField_label-text-left_3KOe\",\"label-text-center\":\"CardField_label-text-center_RnSk\",\"label-text-right\":\"CardField_label-text-right_36LT\",\"label-color\":\"CardField_label-color_22ER\",\"label-disabled-color\":\"CardField_label-disabled-color_vEo3\",\"select-popup-header\":\"CardField_select-popup-header_3dUu\",\"btn-active\":\"CardField_btn-active_30Vu\",\"btn-cancel\":\"CardField_btn-cancel_2ET1\",\"btn-confirm\":\"CardField_btn-confirm_SR1K\",\"title-multiple\":\"CardField_title-multiple_1IuB\",\"icon-cancel\":\"CardField_icon-cancel_2szl\",\"select-popup-content\":\"CardField_select-popup-content_3OGp\",\"list\":\"CardField_list_g-H7\",\"textOverflow\":\"CardField_textOverflow_2QyT\",\"text-check-button\":\"CardField_text-check-button_2wUM\",\"is-view-title\":\"CardField_is-view-title_335p\",\"privacy-icon\":\"CardField_privacy-icon_3iTo\",\"privacy-icon-list\":\"CardField_privacy-icon-list_2uwz\",\"label-vertical\":\"CardField_label-vertical_27GC\",\"title-vertical\":\"CardField_title-vertical_2Pi5\",\"field-labelVertical\":\"CardField_field-labelVertical_2DYH\",\"underline\":\"CardField_underline_24BY\",\"border\":\"CardField_border_1p6p\",\"red-border\":\"CardField_red-border_fWVB\",\"textarea-show-count\":\"CardField_textarea-show-count_urR9\",\"textarea-count\":\"CardField_textarea-count_y3If\",\"textarea-count-over\":\"CardField_textarea-count-over_1nK_\",\"attachment-card-field\":\"CardField_attachment-card-field_3NeE\"});\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/base/CardField.less?");

/***/ }),

/***/ "./src/component/mobile/baseCardField/FlexField.less":
/*!***********************************************************!*\
  !*** ./src/component/mobile/baseCardField/FlexField.less ***!
  \***********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"flex-card-field\":\"FlexField_flex-card-field_2_6x\"});\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/baseCardField/FlexField.less?");

/***/ }),

/***/ "./src/component/mobile/baseCardField/ParticularStyleField.less":
/*!**********************************************************************!*\
  !*** ./src/component/mobile/baseCardField/ParticularStyleField.less ***!
  \**********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"labelfieldbox\":\"ParticularStyleField_labelfieldbox_2Lx5\",\"titlebox\":\"ParticularStyleField_titlebox_3j3B\",\"valuebox\":\"ParticularStyleField_valuebox_3jbR\",\"valueheight\":\"ParticularStyleField_valueheight_cOnF\",\"contentbox\":\"ParticularStyleField_contentbox_1rnH\",\"contentheight\":\"ParticularStyleField_contentheight_2t23\",\"seltextbox\":\"ParticularStyleField_seltextbox_1A1C\",\"textareaBox\":\"ParticularStyleField_textareaBox_27bD\",\"multext\":\"ParticularStyleField_multext_1pxY\",\"select-popup-header\":\"ParticularStyleField_select-popup-header_nXgh\",\"btn-active\":\"ParticularStyleField_btn-active_1mW1\",\"btn-cancel\":\"ParticularStyleField_btn-cancel_3FPt\",\"btn-confirm\":\"ParticularStyleField_btn-confirm_2tON\",\"title\":\"ParticularStyleField_title_1C0l\",\"title-multiple\":\"ParticularStyleField_title-multiple_2MSe\",\"icon-cancel\":\"ParticularStyleField_icon-cancel_H6YX\",\"select-popup-content\":\"ParticularStyleField_select-popup-content_2Nva\",\"list\":\"ParticularStyleField_list_182V\",\"textOverflow\":\"ParticularStyleField_textOverflow_3PE7\",\"text-check-button\":\"ParticularStyleField_text-check-button_3keh\",\"label-text-left\":\"ParticularStyleField_label-text-left_9uZq\",\"label-text-center\":\"ParticularStyleField_label-text-center_1Laj\",\"label-text-right\":\"ParticularStyleField_label-text-right_1FWa\",\"showmore\":\"ParticularStyleField_showmore_3CjL\",\"privacy-icon\":\"ParticularStyleField_privacy-icon_3aYO\"});\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/baseCardField/ParticularStyleField.less?");

/***/ }),

/***/ "./src/component/mobile/baseCardField/TextAreaField.less":
/*!***************************************************************!*\
  !*** ./src/component/mobile/baseCardField/TextAreaField.less ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"value_readOnly\":\"TextAreaField_value_readOnly_E497\",\"value_fold\":\"TextAreaField_value_fold_3DWw\"});\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/baseCardField/TextAreaField.less?");

/***/ }),

/***/ "../../node_modules/react-tiny-virtual-list/build/react-tiny-virtual-list.es.js":
/*!***********************************************************************************************************************!*\
  !*** delegated ../../node_modules/react-tiny-virtual-list/build/react-tiny-virtual-list.es.js from dll-reference lib ***!
  \***********************************************************************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("module.exports = (__webpack_require__(/*! dll-reference lib */ \"dll-reference lib\"))(283);\n\n//# sourceURL=webpack://bos-platform/delegated_../../node_modules/react-tiny-virtual-list/build/react-tiny-virtual-list.es.js_from_dll-reference_lib?");

/***/ }),

/***/ "../../node_modules/xss-filters/src/xss-filters.js":
/*!******************************************************************************************!*\
  !*** delegated ../../node_modules/xss-filters/src/xss-filters.js from dll-reference lib ***!
  \******************************************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("module.exports = (__webpack_require__(/*! dll-reference lib */ \"dll-reference lib\"))(8375);\n\n//# sourceURL=webpack://bos-platform/delegated_../../node_modules/xss-filters/src/xss-filters.js_from_dll-reference_lib?");

/***/ })

}]);