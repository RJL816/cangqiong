/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackJsonp_bos-platform"] = self["webpackJsonp_bos-platform"] || []).push([[9880],{

/***/ "./src/action/actionname/control/cityPicker/server/index.js":
/*!******************************************************************!*\
  !*** ./src/action/actionname/control/cityPicker/server/index.js ***!
  \******************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.SET_SEARCH_RESULT = exports.SET_HOT_CITIES = exports.SET_FREQ_CITIES = exports.SET_CITY_DATA = void 0;\n/**\n * showdoc\n * @catalog 控件指令/城市/服务端\n * @title 设置城市数据\n * @description 动态设置城市数据\n * @method setCityData\n * @platform Mobile\n * @eg {\"p\":[{\"key\":\"littlekap\",\"methodname\":\"setCityData\",\"args\":[{\"isDomestic\":true,\"isFirst\":true,\"cityData\":[[{\"lastDivision\":\"河南省\",\"province\":\"河南省\",\"name\":\"安阳市\",\"id\":\"1439\",\"countryName\":\"\",\"ilid\":\"1000001\"}]]}]}],\"a\":\"InvokeControlMethod\"}\n * @eg_p key string key\n * @eg_p methodname string 方法名\n * @eg_p args array 参数列表\n * @eg_p_args_title args参数详细说明\n * @eg_p_args isFirst boolean 是否第一次加载数据\n * @eg_p_args isDomestic boolean 是否国内城市\n * @eg_p_args cityData array 城市数据\n * @eg_p_args lastDivision string 城市所属省份\n * @eg_p_args province string 城市所属省份\n * @eg_p_args name string 城市名称\n * @eg_p_args id string 城市id\n * @version 6.0.0\n * @author chengyin.zhuo\n */\nvar SET_CITY_DATA = exports.SET_CITY_DATA = 'setCityData';\n\n/**\n * showdoc\n * @catalog 控件指令/城市/服务端\n * @title 设置热门城市\n * @description 动态设置热门城市数据\n * @method setHotCities\n * @platform Mobile\n * @eg {\"p\":[{\"key\":\"citylistap\",\"methodname\":\"setHotCities\",\"args\":[{\"isDomestic\":true,\"hc\":[{\"countryName\":\"中国\",\"id\":\"23145\",\"ilid\":\"1000001\",\"lastDivision\":\"辽宁省\",\"name\":\"沈阳市\",\"province\":\"辽宁省\"}]}]}],\"a\":\"InvokeControlMethod\"}\n * @eg_p key string key\n * @eg_p methodname string 方法名\n * @eg_p args array 参数列表\n * @eg_p_args_title args参数详细说明\n * @eg_p_args isDomestic boolean 是否国内城市\n * @eg_p_args hc array 热门城市数据\n * @eg_p_args countryName string 城市所属国家\n * @eg_p_args lastDivision string 城市所属省份\n * @eg_p_args province string 城市所属省份\n * @eg_p_args name string 城市名称\n * @eg_p_args id string 城市id\n * @version 6.0.0\n * @author chengyin.zhuo\n */\nvar SET_HOT_CITIES = exports.SET_HOT_CITIES = 'setHotCities';\n\n/**\n * showdoc\n * @catalog 控件指令/城市/服务端\n * @title 设置常用城市\n * @description 动态设置常用城市数据\n * @method setFreqCities\n * @platform Mobile\n * @eg {\"p\":[{\"key\":\"citylistap\",\"methodname\":\"setFreqCities\",\"args\":[{\"isDomestic\":true,\"fc\":[{\"id\":\"23145\",\"name\":\"沈阳市\",\"frequency\":1}]}]}],\"a\":\"InvokeControlMethod\"}\n * @eg_p key string key\n * @eg_p methodname string 方法名\n * @eg_p args array 参数列表\n * @eg_p_args_title args参数详细说明\n * @eg_p_args isDomestic boolean 是否国内城市\n * @eg_p_args fc array 收藏城市数据\n * @eg_p_args name string 城市名称\n * @eg_p_args id string 城市id\n * @eg_p_args frequency number 收藏标识\n * @version 6.0.0\n * @author chengyin.zhuo\n */\nvar SET_FREQ_CITIES = exports.SET_FREQ_CITIES = 'setFreqCities';\n\n/**\n * showdoc\n * @catalog 控件指令/城市/服务端\n * @platform Mobile\n * @eg {\"p\":[{\"key\":\"citylistap\",\"methodname\":\"setSearchResult\",\"args\":[{\"searchText\":\"阿\",\"result\":[{\"countryName\":\"中国\",\"id\":\"23145\",\"name\":\"阿坝藏族羌族自治州\",\"province\":\"四川省\"}]}]}],\"a\":\"InvokeControlMethod\"}\n * @title 城市搜索\n * @description 动态搜索城市数据\n * @method setSearchResult\n * @eg_p key string key\n * @eg_p methodname string 方法名\n * @eg_p args array 参数列表\n * @eg_p_args_title args参数详细说明\n * @eg_p_args searchText string 搜索内容\n * @eg_p_args result array 搜索结果\n * @eg_p_args countryName string 城市所属国家\n * @eg_p_args province string 城市所属省份\n * @eg_p_args name string 城市名称\n * @eg_p_args id string 城市id\n * @version 6.0.0\n * @author chengyin.zhuo\n */\nvar SET_SEARCH_RESULT = exports.SET_SEARCH_RESULT = 'setSearchResult';\n\n//# sourceURL=webpack://bos-platform/./src/action/actionname/control/cityPicker/server/index.js?");

/***/ }),

/***/ "./src/action/actionname/control/datePicker/client/index.js":
/*!******************************************************************!*\
  !*** ./src/action/actionname/control/datePicker/client/index.js ***!
  \******************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.DATE_CHANGE = void 0;\n/**\n * showdoc\n * @catalog 控件指令/日期选择/客户端\n * @title 改变日期\n * @description 改变日期\n * @method dateChange\n * @platform Mobile\n * @eg [{\"key\":\"ctrlKey\",\"methodName\":\"dateChange\",\"args\":[[]],\"postData\":[{},[]]}]\n * @eg_p key string 控件key\n * @eg_p methodname string 方法名\n * @eg_p args Array 参数列表\n * @version 1.0.0\n * @author chengyin.zhuo\n */\nvar DATE_CHANGE = exports.DATE_CHANGE = 'dateChange';\n\n//# sourceURL=webpack://bos-platform/./src/action/actionname/control/datePicker/client/index.js?");

/***/ }),

/***/ "./src/action/actionname/control/filterSortMobile/client/index.js":
/*!************************************************************************!*\
  !*** ./src/action/actionname/control/filterSortMobile/client/index.js ***!
  \************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.SEARCH = exports.SCHEME_SEARCH = exports.F7_CLICK = void 0;\n/**\n * showdoc\n * @catalog 控件指令/筛选排序控件(Mobile)/客户端\n * @title  向后端发送筛选项的值，请求结果\n * @description 向后端发送筛选项的值，请求结果\n * @ctrl_type 筛选排序控件(Mobile)\n * @method search\n * @platform Mobile\n * @eg [{\"key\":\"mobfiltersortap\",\"methodName\":\"search\",\"args\":[],\"postData\":[{},[]]}]\n * @eg_p key string 筛选排序控件key\n * @eg_p methodname string 方法名\n * @eg_p args array 参数列表为各筛选项的值\n * @version 6.0.0\n * @author yingjin_he\n */\nvar SEARCH = exports.SEARCH = 'search';\n\n/**\n * showdoc\n * @catalog 控件指令/筛选排序控件(Mobile)/客户端\n * @title 方案选中\n * @description 想后端发送方案选中的值，请求结果\n * @ctrl_type 筛选排序控件(Mobile)\n * @method schemeSearch\n * @platform Mobile\n * @eg [{\"key\":\"mobfiltersortap\",\"methodName\":\"schemeSearch\",\"args\":[[{\"fieldName\":\"filterscheme\",\"Id\":[\"3VR38DJCEMJ9\"]}]],\"postData\":[{},[]]}]\n * @eg_p key string 筛选排序控件key\n * @eg_p methodname string 方法名\n * @eg_p args array fieldName：过滤方案，Id：方案id\n * @version 6.0.0\n * @author yingjin_he\n */\nvar SCHEME_SEARCH = exports.SCHEME_SEARCH = 'schemeSearch';\n\n/**\n * showdoc\n * @catalog 控件指令/筛选排序控件(Mobile)/客户端\n * @title  F7列表点击\n * @description 高级筛选面板中基础资料点击打开F7列表\n * @ctrl_type 筛选排序控件(Mobile)\n * @method f7Click\n * @platform Mobile\n * @eg [{\"key\":\"filtercontainerap\",\"methodName\":\"f7Click\",\"args\":[\"creator.id\",true,[]],\"postData\":[{},[]]}]\n * @eg_p key string 列表过滤key\n * @eg_p methodname string 方法名\n * @eg_p args array args[0]表示基础资料的id，args[1]表示基础资料是否是多选基础资料，args[2]表示基础资料当前的已选值\n * @version 6.0.0\n * @author yingjin_he\n */\n\nvar F7_CLICK = exports.F7_CLICK = 'f7Click';\n\n//# sourceURL=webpack://bos-platform/./src/action/actionname/control/filterSortMobile/client/index.js?");

/***/ }),

/***/ "./src/action/actionname/control/generaltreef7Mobile/client/index.js":
/*!***************************************************************************!*\
  !*** ./src/action/actionname/control/generaltreef7Mobile/client/index.js ***!
  \***************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.SELECT = exports.ON_CHANGE = exports.ITEM_SELECT = exports.GET_SEARCH_NEXT_PAGE_DATA = exports.GET_NEXT_PAGE_DATA = exports.END_SELECT = exports.CANCEL = exports.BACK_PRESSED = void 0;\n/**\n * showdoc\n * @catalog 控件指令/通用F7列表控件/客户端\n * @title 查询特定id的组织信息\n * @description 查询特定id的组织信息\n * @method select\n * @platform Mobile\n * @eg [{\"key\":\"ctrlKey\",\"methodName\":\"select\",\"args\":[\"selectOrgId\"],\"postData\":[{},[]]}]\n * @eg_p key string 控件key\n * @eg_p methodname string 方法名\n * @eg_p args Array 参数列表 args[0]表示要查找的层级的id\n * @version 1.0.0\n * @author rubing_yan\n */\nvar SELECT = exports.SELECT = 'select';\n\n/**\n * showdoc\n * @catalog 控件指令/通用F7列表控件/客户端\n * @title 查询子层级信息\n * @description 查询子层级信息\n * @method itemSelect\n * @platform Mobile\n * @eg [{\"key\":\"ctrlKey\",\"methodName\":\"itemSelect\",\"args\":[\"childId\"],\"postData\":[{},[]]}]\n * @eg_p key string 控件key\n * @eg_p methodname string 方法名\n * @eg_p args Array 参数列表 args[0]表示要查找的子层级的id\n * @version 1.0.0\n * @author rubing_yan\n */\nvar ITEM_SELECT = exports.ITEM_SELECT = 'itemSelect';\n\n/**\n * showdoc\n * @catalog 控件指令/通用F7列表控件/客户端\n * @title 查询上一层级数据\n * @description 查询上一层级数据\n * @method backPressed\n * @platform Mobile\n * @eg [{\"key\":\"ctrlKey\",\"methodName\":\"backPressed\",\"args\":[\"currentId\"],\"postData\":[{},[]]}]\n * @eg_p key string 控件key\n * @eg_p methodname string 方法名\n * @eg_p args Array 参数列表 args[0]表示当前层级id\n * @version 1.0.0\n * @author rubing_yan\n */\nvar BACK_PRESSED = exports.BACK_PRESSED = 'backPressed';\n\n/**\n * showdoc\n * @catalog 控件指令/通用F7列表控件/客户端\n * @title 请求更多数据\n * @description 请求更多数据(主界面的分页数据)\n * @method getNextPageData\n * @platform Mobile\n * @eg [{\"key\":\"ctrlKey\",\"methodName\":\"getNextPageData\",\"args\":[\"currentOrgId, nextPageIndex\"],\"postData\":[{},[]]}]\n * @eg_p key string 控件key\n * @eg_p methodname string 方法名\n * @eg_p args Array 参数列表 args[0]表示当前主界面展示的组织节点id,args[1]表示请求下一页数据的页索引号(分页)\n * @version 1.0.0\n * @author rubing_yan\n */\nvar GET_NEXT_PAGE_DATA = exports.GET_NEXT_PAGE_DATA = 'getNextPageData';\n\n/**\n * showdoc\n * @catalog 控件指令/通用F7列表控件/客户端\n * @title 搜索输入框内容改变\n * @description 搜索输入框内容改变\n * @method onChange\n * @platform Mobile\n * @eg [{\"key\":\"ctrlKey\",\"methodName\":\"onChange\",\"args\":[\"Searchvalue\"],\"postData\":[{},[]]}]\n * @eg_p key string 控件key\n * @eg_p methodname string 方法名\n * @eg_p args Array 参数列表 args[0]表示输入框内容\n * @version 1.0.0\n * @author rubing_yan\n */\nvar ON_CHANGE = exports.ON_CHANGE = 'onChange';\n\n/**\n * showdoc\n * @catalog 控件指令/通用F7列表控件/客户端\n * @title 请求'更多搜索结果数据'\n * @description 请求'更多搜索结果数据'\n * @method getSearchNextPageData\n * @platform Mobile\n * @eg [{\"key\":\"ctrlKey\",\"methodName\":\"getSearchNextPageData\",\"args\":[\"nextPageIndex\"],\"postData\":[{},[]]}]\n * @eg_p key string 控件key\n * @eg_p methodname string 方法名\n * @eg_p args Array 参数列表 args[0]表示请求下一页数据的页索引号(分页)\n * @version 1.0.0\n * @author rubing_yan\n */\nvar GET_SEARCH_NEXT_PAGE_DATA = exports.GET_SEARCH_NEXT_PAGE_DATA = 'getSearchNextPageData';\n\n/**\n * showdoc\n * @catalog 控件指令/通用F7列表控件/客户端\n * @title '取消'选择\n * @description '取消'选择\n * @method cancel\n * @platform Mobile\n * @eg [{\"key\":\"ctrlKey\",\"methodName\":\"cancel\",\"args\":[],\"postData\":[{},[]]}]\n * @eg_p key string 控件key\n * @eg_p methodname string 方法名\n * @eg_p args Array 参数列表 args为[]\n * @version 1.0.0\n * @author rubing_yan\n */\nvar CANCEL = exports.CANCEL = 'cancel';\n\n/**\n * showdoc\n * @catalog 控件指令/通用F7列表控件/客户端\n * @title '取消'选择\n * @description '取消'选择\n * @method endSelect\n * @platform Mobile\n * @eg [{\"key\":\"ctrlKey\",\"methodName\":\"endSelect\",\"args\":[\"id1\",\"id2\"],\"postData\":[{},[]]}]\n * @eg_p key string 控件key\n * @eg_p methodname string 方法名\n * @eg_p args Array 参数列表 args为选中的id集合\n * @version 1.0.0\n * @author rubing_yan\n */\nvar END_SELECT = exports.END_SELECT = 'endSelect';\n\n//# sourceURL=webpack://bos-platform/./src/action/actionname/control/generaltreef7Mobile/client/index.js?");

/***/ }),

/***/ "./src/action/actionname/control/searchMobile/server/index.js":
/*!********************************************************************!*\
  !*** ./src/action/actionname/control/searchMobile/server/index.js ***!
  \********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.M_CANCEL_SEARCH = void 0;\n/**\n* showdoc\n* @catalog 控件指令/搜索(Mobile)/服务端\n* @title 移动搜索控件重置搜索\n* @description 可以将搜索控件重置为初始状态\n* @method cancelSearch\n* @platform Mobile\n* @eg {\"p\":[{\"key\":\"mobilesearchap\",\"methodname\":\"cancelSearch\",\"args\":[]}],\"a\":\"InvokeControlMethod\"}\n* @eg_p key string 移动控件key\n* @eg_p args Array 目前仅重置状态，为空数组\n* @eg_p methodname string 方法名\n* @version 6.0.0\n*/\nvar M_CANCEL_SEARCH = exports.M_CANCEL_SEARCH = 'cancelSearch';\n\n//# sourceURL=webpack://bos-platform/./src/action/actionname/control/searchMobile/server/index.js?");

/***/ }),

/***/ "./src/action/dateselectaction.js":
/*!****************************************!*\
  !*** ./src/action/dateselectaction.js ***!
  \****************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.dateChange = dateChange;\nvar _action = __webpack_require__(/*! ./action */ \"./src/action/action.js\");\nvar _appModelFunction = __webpack_require__(/*! ../model/appModelFunction */ \"./src/model/appModelFunction.js\");\nvar _client = __webpack_require__(/*! ./actionname/control/datePicker/client */ \"./src/action/actionname/control/datePicker/client/index.js\");\nfunction dateChange(model) {\n  var args = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return function (dispatch, getState) {\n    (0, _action.invokeControlService)(model, _client.DATE_CHANGE, args, (0, _appModelFunction.getPost)(model.pageId)(getState()), dispatch);\n  };\n}\n\n//# sourceURL=webpack://bos-platform/./src/action/dateselectaction.js?");

/***/ }),

/***/ "./src/action/generalf7action.js":
/*!***************************************!*\
  !*** ./src/action/generalf7action.js ***!
  \***************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.cancel = cancel;\nexports.getNextPageData = getNextPageData;\nexports.loadFrequentData = loadFrequentData;\nvar _appModelFunction = __webpack_require__(/*! ../model/appModelFunction */ \"./src/model/appModelFunction.js\");\nvar action = _interopRequireWildcard(__webpack_require__(/*! ./action */ \"./src/action/action.js\"));\nvar _const = __webpack_require__(/*! @/constant/const */ \"./src/constant/const.js\");\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\n// 通用F7列表控件action\n\n/**\n    请求更多数据\n    nextPageIndex: 请求下一页数据的页索引号(分页)\n*/\nfunction getNextPageData(model, _ref) {\n  var nextPageIndex = _ref.nextPageIndex;\n  return function (dispatch, getState) {\n    var pid = model.pageId;\n    var post = (0, _appModelFunction.getPost)(pid)(getState());\n    action.invokeControlService(model, 'getNextPageData', [nextPageIndex], post, dispatch);\n  };\n}\n\n/**\n    精简模式: 点击'取消'\n    nextPageIndex: 请求下一页数据的页索引号(分页)\n*/\nfunction cancel(model) {\n  return function (dispatch, getState) {\n    var pid = model.pageId;\n    var post = (0, _appModelFunction.getPost)(pid)(getState());\n    action.invokeControlService(model, 'cancel', [], post, dispatch);\n  };\n}\n\n/**\n * 请求“我的常用”数据\n */\nfunction loadFrequentData(model, frequentData) {\n  return function (dispatch, getState) {\n    var pid = model.pageId;\n    var post = (0, _appModelFunction.getPost)(pid)(getState());\n    action.invokeControlService(model, _const.FILTERFREQUENT, [frequentData], post, dispatch);\n  };\n}\n\n//# sourceURL=webpack://bos-platform/./src/action/generalf7action.js?");

/***/ }),

/***/ "./src/action/generaltreef7action.js":
/*!*******************************************!*\
  !*** ./src/action/generaltreef7action.js ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.backPressed = backPressed;\nexports.cancel = cancel;\nexports.endSelect = endSelect;\nexports.getNextPageData = getNextPageData;\nexports.getSearchNextPageData = getSearchNextPageData;\nexports.itemSelect = itemSelect;\nexports.onChange = onChange;\nexports.select = select;\nvar _appModelFunction = __webpack_require__(/*! ../model/appModelFunction */ \"./src/model/appModelFunction.js\");\nvar action = _interopRequireWildcard(__webpack_require__(/*! ./action */ \"./src/action/action.js\"));\nvar _client = __webpack_require__(/*! @/action/actionname/control/generaltreef7Mobile/client */ \"./src/action/actionname/control/generaltreef7Mobile/client/index.js\");\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\n// 通用F7列表控件action\n\n/**\n * 查询特定id的组织信息\n * @param  {[type]} model       [description]\n * @param  {[type]} selectOrgId [要查找的层级的id]\n * @return {[type]}             [description]\n */\nfunction select(model, selectOrgId) {\n  return function (dispatch, getState) {\n    action.invokeControlService(model, _client.SELECT, [selectOrgId], (0, _appModelFunction.getPost)(model.pageId)(getState()), dispatch);\n  };\n}\n\n/**\n * 查询子层级信息\n * @param  {[type]} model      [description]\n * @param  {[type]} childOrgId [要显示的子层级的id]\n * @return {[type]}            [description]\n */\nfunction itemSelect(model, childId) {\n  return function (dispatch, getState) {\n    action.invokeControlService(model, _client.ITEM_SELECT, [childId], (0, _appModelFunction.getPost)(model.pageId)(getState()), dispatch);\n  };\n}\n\n/**\n * 查询上一层级数据 - Back功能\n * @param  {[type]} model        [description]\n * @param  {[type]} currentOrgId [当前层级id]\n * @return {[type]}              [description]\n */\nfunction backPressed(model, currentId) {\n  return function (dispatch, getState) {\n    action.invokeControlService(model, _client.BACK_PRESSED, [currentId], (0, _appModelFunction.getPost)(model.pageId)(getState()), dispatch);\n  };\n}\n\n/**\n    请求更多数据(主界面的分页数据))\n    nextPageIndex: 请求下一页数据的页索引号(分页)\n    currentOrgId: 当前主界面展示的组织节点id\n*/\nfunction getNextPageData(model, _ref) {\n  var currentOrgId = _ref.currentOrgId,\n    nextPageIndex = _ref.nextPageIndex;\n  return function (dispatch, getState) {\n    var pid = model.pageId;\n    var post = (0, _appModelFunction.getPost)(pid)(getState());\n    action.invokeControlService(model, _client.GET_NEXT_PAGE_DATA, [currentOrgId, nextPageIndex], post, dispatch);\n  };\n}\n\n/**\n *  搜索输入框内容改变\n */\nfunction onChange(model, value) {\n  return function (dispatch, getState) {\n    var pid = model.pageId;\n    var post = (0, _appModelFunction.getPost)(pid)(getState());\n    action.invokeControlService(model, _client.ON_CHANGE, [value], post, dispatch);\n  };\n}\n\n/**\n    搜索页面: 请求'更多搜索结果数据'\n    nextPageIndex: 请求下一页数据的页索引号(分页)\n*/\nfunction getSearchNextPageData(model, _ref2) {\n  var nextPageIndex = _ref2.nextPageIndex;\n  return function (dispatch, getState) {\n    var pid = model.pageId;\n    var post = (0, _appModelFunction.getPost)(pid)(getState());\n    action.invokeControlService(model, _client.GET_SEARCH_NEXT_PAGE_DATA, [nextPageIndex], post, dispatch);\n  };\n}\n\n/**\n    ‘取消’选择\n*/\nfunction cancel(model) {\n  return function (dispatch, getState) {\n    var pid = model.pageId;\n    var post = (0, _appModelFunction.getPost)(pid)(getState());\n    action.invokeControlService(model, _client.CANCEL, [], post, dispatch);\n  };\n}\n\n// 结束选择\nfunction endSelect(model) {\n  var args = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return function (dispatch, getState) {\n    action.invokeControlService(model, _client.END_SELECT, [args], (0, _appModelFunction.getPost)(model.pageId)(getState()), dispatch);\n  };\n}\n\n//# sourceURL=webpack://bos-platform/./src/action/generaltreef7action.js?");

/***/ }),

/***/ "./src/action/mobileFilterSortAction.js":
/*!**********************************************!*\
  !*** ./src/action/mobileFilterSortAction.js ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.getMobFilterSchemeResult = getMobFilterSchemeResult;\nexports.getMobSearchResult = getMobSearchResult;\nexports.mobileFilterF7Click = mobileFilterF7Click;\nvar action = _interopRequireWildcard(__webpack_require__(/*! ./action */ \"./src/action/action.js\"));\nvar _appModelFunction = __webpack_require__(/*! ../model/appModelFunction */ \"./src/model/appModelFunction.js\");\nvar _index = __webpack_require__(/*! @/action/actionname/control/filterSortMobile/client/index.js */ \"./src/action/actionname/control/filterSortMobile/client/index.js\");\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\n/**\n * 移动端筛选排序控件的action\n */\n\n/**\n     * 移动端筛选控件：向后端发送筛选项的值，请求结果\n     */\nfunction getMobSearchResult(model) {\n  var args = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return function (dispatch, getState) {\n    action.invokeControlService(model, _index.SEARCH, args, (0, _appModelFunction.getPost)(model.pageId)(getState()), dispatch);\n  };\n}\nfunction getMobFilterSchemeResult(model) {\n  var args = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return function (dispatch, getState) {\n    action.invokeControlService(model, _index.SCHEME_SEARCH, args, (0, _appModelFunction.getPost)(model.pageId)(getState()), dispatch);\n  };\n}\n\n// 移动端筛选控件：筛选F7字段请求弹窗\nfunction mobileFilterF7Click(model, _ref) {\n  var fieldName = _ref.fieldName,\n    isMulti = _ref.isMulti,\n    selectedItems = _ref.selectedItems,\n    selectedFilterVal = _ref.selectedFilterVal;\n  return function (dispatch, getState) {\n    var args = [fieldName, isMulti, selectedItems];\n    if (selectedFilterVal) {\n      args.push(selectedFilterVal);\n    }\n    action.invokeControlService(model, _index.F7_CLICK, args, (0, _appModelFunction.getPost)(model.pageId)(getState()), dispatch);\n  };\n}\n\n//# sourceURL=webpack://bos-platform/./src/action/mobileFilterSortAction.js?");

/***/ }),

/***/ "./src/component/mobile/KDAttachment.jsx":
/*!***********************************************!*\
  !*** ./src/component/mobile/KDAttachment.jsx ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _componentutil = __webpack_require__(/*! ../../util/componentutil */ \"./src/util/componentutil.js\");\nvar _Attachment = _interopRequireDefault(__webpack_require__(/*! @/component/mobile/base/Attachment */ \"./src/component/mobile/base/Attachment/index.js\"));\nvar _attachmentpanelaction = __webpack_require__(/*! ../../action/attachmentpanelaction */ \"./src/action/attachmentpanelaction.js\");\nvar _action = __webpack_require__(/*! ../../action/action */ \"./src/action/action.js\");\nvar _client = __webpack_require__(/*! @/action/actionname/global/system/client */ \"./src/action/actionname/global/system/client/index.js\");\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _VisibleLockWrap = _interopRequireDefault(__webpack_require__(/*! ../common/VisibleLockWrap */ \"./src/component/common/VisibleLockWrap.js\"));\nvar _AttachDataWrap = _interopRequireDefault(__webpack_require__(/*! ../common/AttachDataWrap */ \"./src/component/common/AttachDataWrap.js\"));\nvar _attachmentUtils = __webpack_require__(/*! @/util/attachmentUtils */ \"./src/util/attachmentUtils.js\");\nvar _attachmentConst = __webpack_require__(/*! @/constant/attachmentConst */ \"./src/constant/attachmentConst.js\");\nvar _serverproperties = __webpack_require__(/*! @/constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _imageUtil = __webpack_require__(/*! @/util/imageUtil */ \"./src/util/imageUtil.js\");\nvar _dec, _class;\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n// import { setDataValue, convertAppModelFunctionAction } from '../../model/appModelFunction'\nvar KDAttachment = (_dec = (0, _VisibleLockWrap[\"default\"])(false), _dec(_class = (0, _AttachDataWrap[\"default\"])(_class = /*#__PURE__*/function (_React$Component) {\n  _inherits(KDAttachment, _React$Component);\n  function KDAttachment(props) {\n    var _this;\n    _classCallCheck(this, KDAttachment);\n    _this = _callSuper(this, KDAttachment, [props]);\n    _this.beforeUpload = function (attachment) {\n      var _this$props = _this.props,\n        model = _this$props.model,\n        dispatch = _this$props.dispatch;\n      dispatch((0, _attachmentpanelaction.beforeUpload)(model, attachment));\n    };\n    _this.uploadFile = function (files) {\n      var _this$props2 = _this.props,\n        model = _this$props2.model,\n        dispatch = _this$props2.dispatch;\n      dispatch((0, _attachmentpanelaction.uploadFile)(model, files));\n    };\n    _this.uploadFailed = function (files) {\n      var _this$props3 = _this.props,\n        model = _this$props3.model,\n        dispatch = _this$props3.dispatch;\n      dispatch((0, _attachmentpanelaction.reportUploadResult)(model, files));\n    };\n    _this.afterUpload = function (files) {\n      var _this$props4 = _this.props,\n        model = _this$props4.model,\n        dispatch = _this$props4.dispatch;\n      dispatch((0, _attachmentpanelaction.reportUploadResult)(model, files));\n    };\n    _this.beforeRemove = function (attachment) {\n      var _this$props5 = _this.props,\n        model = _this$props5.model,\n        dispatch = _this$props5.dispatch;\n      dispatch((0, _attachmentpanelaction.comfirmDelete)(model, attachment));\n    };\n    _this.removeFile = function (files) {\n      var _this$props6 = _this.props,\n        model = _this$props6.model,\n        dispatch = _this$props6.dispatch;\n      dispatch((0, _attachmentpanelaction.removeFile)(model, files));\n    };\n    _this.renameFile = function (args) {\n      var _this$props7 = _this.props,\n        model = _this$props7.model,\n        dispatch = _this$props7.dispatch;\n      dispatch((0, _attachmentpanelaction.rename)(model, args));\n    };\n    _this.confirmDelete = function (args) {\n      var _this$props8 = _this.props,\n        model = _this$props8.model,\n        dispatch = _this$props8.dispatch;\n      dispatch((0, _attachmentpanelaction.comfirmDelete)(model, args));\n    };\n    _this.getDisposableUrl = function (args) {\n      var _this$props9 = _this.props,\n        model = _this$props9.model,\n        dispatch = _this$props9.dispatch;\n      dispatch((0, _attachmentpanelaction.getDisposableUrl)(model, args));\n    };\n    _this.updateControlValue = function (value) {\n      var _this$props10 = _this.props,\n        model = _this$props10.model,\n        dispatch = _this$props10.dispatch;\n      var pageId = model.pageId,\n        key = model.key;\n      (0, _action.mergeState)(_client.UPDATE_CONTROL_VALUE, pageId, {\n        key: key,\n        value: (0, _immutable.fromJS)(value),\n        updateData: false\n      }, dispatch);\n      // this.props.dispatch(convertAppModelFunctionAction(setDataValue(pageId, key, value)))\n    };\n    _this.attachOperationCount = function (args) {\n      var _this$props11 = _this.props,\n        model = _this$props11.model,\n        dispatch = _this$props11.dispatch;\n      dispatch((0, _attachmentpanelaction.attachOperationCount)(model, args));\n    };\n    // 自定义操作按钮点击事件\n    _this.handleAttachOperaClick = function (args) {\n      _attachmentpanelaction.attachOperaClick && _this.props.dispatch((0, _attachmentpanelaction.attachOperaClick)(_this.props.model, args));\n    };\n    _this.permissionQuery = function (args) {\n      var _this$props12 = _this.props,\n        model = _this$props12.model,\n        dispatch = _this$props12.dispatch;\n      dispatch((0, _attachmentpanelaction.permissionQuery)(model, args));\n    };\n    var config = props.model.getFormConfig();\n    _this._fileServer = config.attachmentserver;\n    return _this;\n  }\n  _createClass(KDAttachment, [{\n    key: \"_getLocked\",\n    value: function _getLocked() {\n      return this.props.getLocked(this.props.model);\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps) {\n      return !(0, _immutable.is)(this.props.model.componentData, nextProps.model.componentData) || this.props.formStatus !== nextProps.formStatus;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var model = this.props.model;\n      var title = model.getMetaLocaleProperty('text');\n      var style = (0, _componentutil.getCommonStyle)(model);\n      var displayData = model.getDataValue();\n      var attachmentFileSource = model.getMetaProperty('afs') || 7;\n      // 文件最大个数\n      var maxAtmCount = model.getMetaProperty('maxatmcount') || 0;\n      // 文件白名单\n      var extName = model.getMetaProperty('ext');\n      var _getAttachInfoFromRoo = (0, _componentutil.getAttachInfoFromRootConfig)(),\n        attachmentUploadMaxSize = _getAttachInfoFromRoo.attachmentUploadMaxSize,\n        forbidfiletype = _getAttachInfoFromRoo.forbidfiletype,\n        fileTypeWhiteList = _getAttachInfoFromRoo.fileTypeWhiteList; // 服务器最大文件大小，附件上传黑名单，附件上传白名单\n      var maxSize = (0, _attachmentUtils.getMaxSize)(model.getMetaProperty('maxatmsize'), attachmentUploadMaxSize);\n      var _getCommonClass = (0, _componentutil.getCommonClass)(model),\n        Grow = _getCommonClass.Grow,\n        Shrink = _getCommonClass.Shrink,\n        AlignSelf = _getCommonClass.AlignSelf;\n      var showThumbnail = model.getMetaProperty(_serverproperties.ATTACHMENT_SHOW_THUMBNAIL);\n      var sortField = model.getMetaProperty('sortField') || _attachmentConst.ATTACHMENT_SORT_FIELD.FileName;\n      var sortType = model.getMetaProperty('sortType') || _attachmentConst.ATTACHMENT_SORT_TYPE.NoSort;\n      var checkDuplicateFileName = model.getMetaProperty('checkDuplicateFileName');\n      var uploadDomainUrl = model.getMetaProperty('uploadDomainUrl');\n      var showTitle = model.getMetaProperty(_serverproperties.ATTACHMENT_SHOWYITLE) !== undefined ? model.getMetaProperty(_serverproperties.ATTACHMENT_SHOWYITLE) : true;\n      var showAttachmentTips = model.getMetaProperty(_serverproperties.ATTACHMENT_SHOWTIPS) !== undefined ? model.getMetaProperty(_serverproperties.ATTACHMENT_SHOWTIPS) : true;\n      var uploadButtonPosition = model.getMetaProperty(_serverproperties.ATTACHMENT_UPLOADBTNPOS) || 'default';\n      var expanedMore = model.getMetaProperty(_serverproperties.ATTACHMENT_EXPANDMORE) !== undefined ? model.getMetaProperty(_serverproperties.ATTACHMENT_EXPANDMORE) : false;\n      // 图片压缩阈值，先取设计器的值，没有取默认值\n      var convertSize = (model.getMetaProperty(_serverproperties.ATTACHMENT_IMG_COMP_THR) || 0) * 1024 * 1024 || _imageUtil.COMPRESS_IMAGE_CONVERT_SIZE;\n      var previewLimitSize = (0, _attachmentUtils.getPreviewLimitSize)();\n      var isDragSort = model.getMetaProperty(_attachmentConst.DRAGBLE); // 拖拽排序\n      return /*#__PURE__*/_react[\"default\"].createElement(_Attachment[\"default\"], _extends({\n        model: model,\n        locale: model.getUserLocale(),\n        fileServer: this._fileServer,\n        disabled: this._getLocked(),\n        beforeUpload: this.beforeUpload,\n        uploadFile: this.uploadFile,\n        uploadFailed: this.uploadFailed,\n        beforeRemove: this.beforeRemove,\n        removeFile: this.removeFile,\n        getDisposableUrl: this.getDisposableUrl,\n        style: style,\n        displayData: displayData,\n        confirmDelete: this.confirmDelete,\n        updateControlValue: this.updateControlValue,\n        attachOperationCount: this.attachOperationCount,\n        attachmentFileSource: attachmentFileSource,\n        maxSize: maxSize,\n        forbidfiletype: forbidfiletype,\n        maxAtmCount: maxAtmCount,\n        extName: extName,\n        fileTypeWhiteList: fileTypeWhiteList,\n        title: title,\n        showThumbnail: showThumbnail,\n        renameFile: this.renameFile,\n        sortField: sortField,\n        sortType: sortType,\n        attachOperaClick: this.handleAttachOperaClick,\n        checkDuplicateFileName: checkDuplicateFileName,\n        uploadDomainUrl: uploadDomainUrl,\n        showTitle: showTitle,\n        showAttachmentTips: showAttachmentTips,\n        uploadButtonPosition: uploadButtonPosition,\n        expanedMore: expanedMore,\n        afterUpload: this.afterUpload,\n        permissionQuery: this.permissionQuery,\n        previewLimitSize: previewLimitSize,\n        convertSize: convertSize,\n        isDragSort: isDragSort,\n        Grow: Grow,\n        Shrink: Shrink,\n        AlignSelf: AlignSelf\n      }, this.props.attachData));\n    }\n  }]);\n  return KDAttachment;\n}(_react[\"default\"].Component)) || _class) || _class);\nvar _default = exports[\"default\"] = KDAttachment;\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/KDAttachment.jsx?");

/***/ }),

/***/ "./src/component/mobile/KDCityList.jsx":
/*!*********************************************!*\
  !*** ./src/component/mobile/KDCityList.jsx ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = KDCityList;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.find-index.js */ \"../../node_modules/core-js/modules/es.array.find-index.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.array.sort.js */ \"../../node_modules/core-js/modules/es.array.sort.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _CityList = _interopRequireDefault(__webpack_require__(/*! @/component/mobile/base/CityList.jsx */ \"./src/component/mobile/base/CityList.jsx\"));\nvar _server = __webpack_require__(/*! @/action/actionname/control/cityPicker/server */ \"./src/action/actionname/control/cityPicker/server/index.js\");\nvar _cityactions = __webpack_require__(/*! @/action/cityactions.jsx */ \"./src/action/cityactions.jsx\");\nvar _f7action = __webpack_require__(/*! @/action/f7action.js */ \"./src/action/f7action.js\");\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _memoryCacher = __webpack_require__(/*! @/model/memoryCacher.js */ \"./src/model/memoryCacher.js\");\nvar _cityConst = __webpack_require__(/*! @/constant/cityConst.js */ \"./src/constant/cityConst.js\");\nvar _console = _interopRequireDefault(__webpack_require__(/*! @/api/console.js */ \"./src/api/console.js\"));\nvar _useControlBusyTips = _interopRequireDefault(__webpack_require__(/*! @/use/useControlBusyTips.js */ \"./src/use/useControlBusyTips.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; } /**\n * 移动端城市列表控件2.0\n */\nvar currDataCacher = (0, _immutable.Map)();\nvar intnDataCacher = (0, _immutable.Map)();\nvar currentCityLang = 'zh_CN';\nfunction KDCityList(_ref) {\n  var model = _ref.model,\n    dispatch = _ref.dispatch;\n  (0, _useControlBusyTips[\"default\"])(model);\n  var pageId = model.pageId,\n    key = model.key;\n  var localeLang = model.getUserLocale();\n  currDataCacher = localeLang === currentCityLang ? currDataCacher : (0, _immutable.Map)();\n  intnDataCacher = localeLang === currentCityLang ? intnDataCacher : (0, _immutable.Map)();\n  var _useState = (0, _react.useState)((0, _immutable.Map)(_defineProperty(_defineProperty(_defineProperty(_defineProperty({}, _cityConst.CITY_DATA, currDataCacher.get(_cityConst.CITY_DATA) || (0, _immutable.List)()), _cityConst.HOT_CITIES, currDataCacher.get(_cityConst.HOT_CITIES) || (0, _immutable.List)()), _cityConst.GROUPS, currDataCacher.get(_cityConst.GROUPS) || (0, _immutable.List)()), _cityConst.FREQUENT_CITIES, currDataCacher.get(_cityConst.FREQUENT_CITIES) || (0, _immutable.List)()))),\n    _useState2 = _slicedToArray(_useState, 2),\n    currData = _useState2[0],\n    setCurrData = _useState2[1];\n  var _useState3 = (0, _react.useState)((0, _immutable.Map)(_defineProperty(_defineProperty(_defineProperty(_defineProperty({}, _cityConst.CITY_DATA, intnDataCacher.get(_cityConst.CITY_DATA) || (0, _immutable.List)()), _cityConst.HOT_CITIES, intnDataCacher.get(_cityConst.HOT_CITIES) || (0, _immutable.List)()), _cityConst.GROUPS, intnDataCacher.get(_cityConst.GROUPS) || (0, _immutable.List)()), _cityConst.FREQUENT_CITIES, intnDataCacher.get(_cityConst.FREQUENT_CITIES) || (0, _immutable.List)()))),\n    _useState4 = _slicedToArray(_useState3, 2),\n    intnData = _useState4[0],\n    setIntnData = _useState4[1];\n  var _useState5 = (0, _react.useState)((0, _immutable.List)()),\n    _useState6 = _slicedToArray(_useState5, 2),\n    searchResult = _useState6[0],\n    setSearchResult = _useState6[1];\n  var searchTimestamp = (0, _react.useRef)(0);\n  (0, _react.useEffect)(function () {\n    loadInitPageData();\n    var invokeControlMethods = function invokeControlMethods(events) {\n      events.forEach(function (event) {\n        var methodName = event.methodname,\n          args = event.args;\n        switch (methodName) {\n          case _server.SET_CITY_DATA:\n            setCityDataListener(args);\n            break;\n          case _server.SET_HOT_CITIES:\n            setHotCitiesListener(args);\n            break;\n          case _server.SET_SEARCH_RESULT:\n            setSearchResultListener(args);\n            break;\n          case _server.SET_FREQ_CITIES:\n            setFrequentCities(args);\n            break;\n          default:\n            _console[\"default\"].info(\"\".concat(methodName, \" is not been implemented\"));\n            break;\n        }\n      });\n    };\n    var removeDirectivesListener = (0, _memoryCacher.subscribeControlMethod)(pageId, key, 'directives', function (pageData) {\n      if (pageData === undefined) {\n        return;\n      }\n      invokeControlMethods(pageData);\n    });\n    (0, _memoryCacher.setControlMount)(pageId, key, true);\n    return function () {\n      removeDirectivesListener();\n      (0, _memoryCacher.setControlMount)(pageId, key, false);\n    };\n  }, []);\n\n  // 加载页面初始化需要的数据\n  var loadInitPageData = function loadInitPageData() {\n    var isDomestic = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n    var frequentCities = getFrequentCities(isDomestic);\n    if (isDomestic) {\n      // if (currData.get(FREQUENT_CITIES).size === 0 && frequentCities.size > 0) {\n      //   setCurrData(currData => {\n      //     return currData.set(FREQUENT_CITIES, frequentCities)\n      //   })\n      // }\n      if (currData.get(_cityConst.CITY_DATA).size > 0) return;\n    } else {\n      // if (intnData.get(FREQUENT_CITIES).size === 0 && frequentCities.size > 0) {\n      //   setIntnData(intnData => {\n      //     return intnData.set(FREQUENT_CITIES, frequentCities)\n      //   })\n      // }\n      if (intnData.get(_cityConst.CITY_DATA).size > 0) return;\n    }\n    dispatch((0, _cityactions.getCityData)(model, {\n      isDomestic: isDomestic,\n      isFirst: true,\n      dataPerPage: _cityConst.DATA_PER_PAGE\n    }));\n    dispatch((0, _cityactions.getHotCities)(model, {\n      isDomestic: isDomestic\n    }));\n    dispatch((0, _cityactions.getFreqCities)(model, {\n      isDomestic: isDomestic,\n      freqCities: frequentCities\n    }));\n  };\n  var getFrequentCities = function getFrequentCities(isDomestic) {\n    var userUIState = (0, _memoryCacher.getUserUIState)(model);\n    var cacherCities = userUIState.get('cities') || (0, _immutable.Map)();\n    var recentPath = isDomestic ? ['domestic', 'recent'] : ['foreign', 'recent'];\n    var frequentCities = cacherCities.getIn(recentPath, (0, _immutable.List)()).filter(function (city) {\n      return city !== null;\n    });\n    return frequentCities;\n  };\n  var saveCacher = function saveCacher(cityInfo, isDomestic) {\n    var id = cityInfo.get('id');\n    var name = cityInfo.get('name');\n    if (!id) return;\n    var userUIState = (0, _memoryCacher.getUserUIState)(model);\n    var cacherCities = userUIState.get('cities') || (0, _immutable.Map)();\n    var recentPath = isDomestic ? ['domestic', 'recent'] : ['foreign', 'recent'];\n    var recentCities = cacherCities.getIn(recentPath, (0, _immutable.List)());\n    var existRecentCities = false;\n    var newRecentCities = recentCities.map(function (item) {\n      if (item.get('id') === id) {\n        existRecentCities = true;\n        item = item.set('frequency', (item.get('frequency') || 0) + 1);\n      }\n      return item;\n    });\n    if (existRecentCities === false) {\n      newRecentCities = recentCities.insert(0, (0, _immutable.Map)({\n        id: id,\n        name: name,\n        frequency: 1\n      }));\n    }\n    newRecentCities = newRecentCities.sort(function (a, b) {\n      return b.get('frequency', 1) - a.get('frequency');\n    }, 1).slice(0, 10);\n    (0, _memoryCacher.setUserUIState)(model.pageId, ['cities'].concat(recentPath), newRecentCities, true);\n    if (isDomestic) {\n      currDataCacher = currDataCacher.set(_cityConst.FREQUENT_CITIES, newRecentCities);\n    } else {\n      intnDataCacher = intnDataCacher.set(_cityConst.FREQUENT_CITIES, newRecentCities);\n    }\n  };\n  var getMoreData = function getMoreData(item) {\n    var isDomestic = item.get('isDomestic');\n    var gr = item.get('gr');\n    var lastCityId = item.get('lastCityId');\n    dispatch((0, _cityactions.getCityData)(model, {\n      isDomestic: isDomestic,\n      isFirst: false,\n      dataPerPage: _cityConst.DATA_PER_PAGE,\n      gr: gr,\n      lastCityId: lastCityId\n    }));\n  };\n  var onCityItemClick = function onCityItemClick(item, isDomestic) {\n    if (isDomestic === undefined) {\n      isDomestic = item.get('ilid') === '1000001';\n    }\n    var cityId = item.get('id');\n    dispatch((0, _f7action.endSelect)(model, [cityId]));\n    saveCacher(item, isDomestic);\n  };\n  var _onSearch = function _onSearch(text) {\n    if (text === '') {\n      setSearchResult((0, _immutable.List)());\n      return;\n    }\n    var timestamp = new Date().getTime() + '';\n    dispatch((0, _cityactions.onSearch)(model, [text, timestamp]));\n  };\n  var setCityData = function setCityData(data) {\n    var _data$;\n    var isDomestic = data[0].isDomestic;\n    var _cityData = (0, _immutable.fromJS)((_data$ = data[0]) === null || _data$ === void 0 ? void 0 : _data$.cityData);\n    var groups = _cityData.map(function (item) {\n      return item.get('gr');\n    });\n    currentCityLang = localeLang;\n    if (isDomestic) {\n      setCurrData(function (currData) {\n        var newCurrData = currData.set(_cityConst.CITY_DATA, _cityData).set(_cityConst.GROUPS, groups);\n        return newCurrData;\n      });\n      currDataCacher = currDataCacher.set(_cityConst.CITY_DATA, _cityData).set(_cityConst.GROUPS, groups);\n    } else {\n      setIntnData(function (intnData) {\n        var newIntnData = intnData.set(_cityConst.CITY_DATA, _cityData).set(_cityConst.GROUPS, groups);\n        return newIntnData;\n      });\n      intnDataCacher = intnDataCacher.set(_cityConst.CITY_DATA, _cityData).set(_cityConst.GROUPS, groups);\n    }\n  };\n  var addCityData = function addCityData(data) {\n    var _data$2;\n    var isDomestic = data[0].isDomestic;\n    var _cityData = (0, _immutable.fromJS)((_data$2 = data[0]) === null || _data$2 === void 0 ? void 0 : _data$2.cityData);\n    if (isDomestic) {\n      setCurrData(function (currData) {\n        var index = currData.get(_cityConst.GROUPS).findIndex(function (item) {\n          return item === _cityData.getIn([0, 'gr']);\n        });\n        var newCurrData = currData.updateIn([_cityConst.CITY_DATA, index], function (data) {\n          var oldClg = data.get('clg');\n          var hasMore = _cityData.getIn([0, 'hasMore']);\n          var newClg = oldClg.concat(_cityData.getIn([0, 'clg']));\n          return data.set('clg', newClg).set('hasMore', hasMore);\n        });\n        return newCurrData;\n      });\n    } else {\n      setIntnData(function (intnData) {\n        var index = intnData.get(_cityConst.GROUPS).findIndex(function (item) {\n          return item === _cityData.getIn([0, 'gr']);\n        });\n        var newIntnData = intnData.updateIn([_cityConst.CITY_DATA, index], function (data) {\n          var oldClg = data.get('clg');\n          var hasMore = _cityData.getIn([0, 'hasMore']);\n          var newClg = oldClg.concat(_cityData.getIn([0, 'clg']));\n          return data.set('clg', newClg).set('hasMore', hasMore);\n        });\n        return newIntnData;\n      });\n    }\n  };\n  var setCityDataListener = function setCityDataListener(data) {\n    try {\n      var isFirst = data[0].isFirst;\n      isFirst ? setCityData(data) : addCityData(data);\n    } catch (err) {\n      _console[\"default\"].error('setCityData error:', err);\n    }\n  };\n  var setHotCitiesListener = function setHotCitiesListener(data) {\n    var _data$3 = data[0],\n      isDomestic = _data$3.isDomestic,\n      hc = _data$3.hc;\n    var hotCitiesFromServer = (0, _immutable.fromJS)(hc);\n    if (isDomestic) {\n      setCurrData(function (currData) {\n        return currData.set(_cityConst.HOT_CITIES, hotCitiesFromServer);\n      });\n      currDataCacher = currDataCacher.set(_cityConst.HOT_CITIES, hotCitiesFromServer);\n    } else {\n      setIntnData(function (intnData) {\n        return intnData.set(_cityConst.HOT_CITIES, hotCitiesFromServer);\n      });\n      intnDataCacher = intnDataCacher.set(_cityConst.HOT_CITIES, hotCitiesFromServer);\n    }\n  };\n  var setSearchResultListener = function setSearchResultListener(data) {\n    data = (0, _immutable.fromJS)(data[0]);\n    var searchResult = data.get('result') || (0, _immutable.List)();\n    var timestamp = data.get('timestamp') || '';\n    if (timestamp > searchTimestamp.current) {\n      setSearchResult(searchResult);\n      searchTimestamp.current = timestamp;\n    }\n  };\n  var setFrequentCities = function setFrequentCities(data) {\n    var _data$4 = data[0],\n      isDomestic = _data$4.isDomestic,\n      fc = _data$4.fc;\n    var freqCities = (0, _immutable.fromJS)(fc);\n    if (isDomestic) {\n      setCurrData(function (currData) {\n        return currData.set(_cityConst.FREQUENT_CITIES, freqCities);\n      });\n      currDataCacher = currDataCacher.set(_cityConst.FREQUENT_CITIES, freqCities);\n    } else {\n      setIntnData(function (intnData) {\n        return intnData.set(_cityConst.FREQUENT_CITIES, freqCities);\n      });\n      intnDataCacher = intnDataCacher.set(_cityConst.FREQUENT_CITIES, freqCities);\n    }\n    var recentPath = isDomestic ? ['domestic', 'recent'] : ['foreign', 'recent'];\n    (0, _memoryCacher.setUserUIState)(model.pageId, ['cities'].concat(recentPath), freqCities, true);\n  };\n  var onTabClick = function onTabClick(key) {\n    var isDomestic = key === _cityConst.DOMESTIC_KEY;\n    loadInitPageData(isDomestic);\n  };\n  return /*#__PURE__*/_react[\"default\"].createElement(_CityList[\"default\"], {\n    currData: currData,\n    intnData: intnData,\n    getMoreData: getMoreData,\n    onCityItemClick: onCityItemClick,\n    onSearch: _onSearch,\n    searchResult: searchResult,\n    onTabClick: onTabClick,\n    setSearchResult: setSearchResult\n  });\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/KDCityList.jsx?");

/***/ }),

/***/ "./src/component/mobile/KDDateSelect.js":
/*!**********************************************!*\
  !*** ./src/component/mobile/KDDateSelect.js ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _DateSelect = _interopRequireDefault(__webpack_require__(/*! ./base/DateSelect */ \"./src/component/mobile/base/DateSelect.jsx\"));\nvar _VisibleLockWrap = _interopRequireDefault(__webpack_require__(/*! ../common/VisibleLockWrap */ \"./src/component/common/VisibleLockWrap.js\"));\nvar _dateselectaction = __webpack_require__(/*! ../../action/dateselectaction */ \"./src/action/dateselectaction.js\");\nvar _AttachDataWrap = _interopRequireDefault(__webpack_require__(/*! ../common/AttachDataWrap */ \"./src/component/common/AttachDataWrap.js\"));\nvar _serverproperties = __webpack_require__(/*! ../../constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _dec, _class;\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar KDDateSelect = (_dec = (0, _VisibleLockWrap[\"default\"])(false), _dec(_class = (0, _AttachDataWrap[\"default\"])(_class = /*#__PURE__*/function (_React$Component) {\n  _inherits(KDDateSelect, _React$Component);\n  function KDDateSelect(props) {\n    var _this;\n    _classCallCheck(this, KDDateSelect);\n    _this = _callSuper(this, KDDateSelect, [props]);\n    _this.onChange = _this.onChange.bind(_assertThisInitialized(_this));\n    _this.onHandleClearExit = _this.onHandleClearExit.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  _createClass(KDDateSelect, [{\n    key: \"onChange\",\n    value: function onChange(date1, date2, type) {\n      var _this$props = this.props,\n        model = _this$props.model,\n        dispatch = _this$props.dispatch;\n      var key = model.key;\n      if (type === 'datetime') {\n        date1 = date1 && date1.format('YYYY-MM-DD HH:mm:ss');\n      } else if (type === 'daterange') {\n        if (model.getDataProperty(['regionType'], key) === 2) {\n          date1 = date1 && date1.clone().set({\n            hour: 0,\n            minute: 0,\n            second: 0\n          }).format('YYYY-MM-DD HH:mm:ss');\n        } else {\n          date1 = date1 && date1.format('YYYY-MM-DD');\n        }\n      } else {\n        date1 = date1 && date1.format('YYYY-MM-DD');\n      }\n      if (type === 'daterange') {\n        if (model.getDataProperty(['regionType'], key) === 2) {\n          date2 = date2 && date2.clone().set({\n            hour: 0,\n            minute: 0,\n            second: 0\n          }).format('YYYY-MM-DD HH:mm:ss');\n        } else {\n          date2 = date2 && date2.format('YYYY-MM-DD');\n        }\n      } else {\n        date2 = date2 && date2.format('YYYY-MM-DD');\n      }\n      var value = '';\n      if (date1) {\n        value = date1;\n        if (date2) {\n          value += ',' + date2;\n        }\n      }\n      dispatch((0, _dateselectaction.dateChange)(model, [value]));\n    }\n  }, {\n    key: \"onHandleClearExit\",\n    value: function onHandleClearExit(value) {\n      var _this$props2 = this.props,\n        model = _this$props2.model,\n        dispatch = _this$props2.dispatch;\n      dispatch((0, _dateselectaction.dateChange)(model, [value]));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var model = this.props.model;\n      var key = model.key;\n      var isStartDate = model.getDataProperty(['isStart'], key);\n      var editor = model.getDataProperty(['editor'], key);\n      var mustInput = model.getDataProperty(['mustInput'], key);\n      var value = model.getDataProperty(['value'], key) || '';\n      // mixDate minDate\n      var minDate = model.getDataProperty([_serverproperties.MIN_VALUE], key);\n      var maxDate = model.getDataProperty([_serverproperties.MAX_VALUE], key);\n      var today = model.getDataProperty([_serverproperties.TODAY], key);\n      var locale = model.getUserLocale();\n      var type = editor === 'daterange' ? 'daterange' : editor === 'datetime' ? 'datetime' : 'date';\n      if (value.indexOf(',') !== -1) {\n        type = 'daterange';\n      }\n      value = value.split(',');\n      return /*#__PURE__*/_react[\"default\"].createElement(_DateSelect[\"default\"], _extends({\n        isStartDate: isStartDate,\n        value: value,\n        type: type,\n        maxDate: maxDate,\n        minDate: minDate,\n        today: today,\n        locale: locale,\n        mustInput: mustInput,\n        onChange: this.onChange,\n        onHandleClearExit: this.onHandleClearExit\n      }, this.props.attachData));\n    }\n  }]);\n  return KDDateSelect;\n}(_react[\"default\"].Component)) || _class) || _class);\nvar _default = exports[\"default\"] = KDDateSelect;\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/KDDateSelect.js?");

/***/ }),

/***/ "./src/component/mobile/KDF7SelectedList.jsx":
/*!***************************************************!*\
  !*** ./src/component/mobile/KDF7SelectedList.jsx ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = KDF7SelectedList;\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _F7SelectedList = _interopRequireDefault(__webpack_require__(/*! @/component/mobile/base/BaseData/F7SelectedList.jsx */ \"./src/component/mobile/base/BaseData/F7SelectedList.jsx\"));\nvar _componentutil = __webpack_require__(/*! @/util/componentutil.js */ \"./src/util/componentutil.js\");\nvar _commonUtils = _interopRequireDefault(__webpack_require__(/*! @/component/common/commonUtils.js */ \"./src/component/common/commonUtils.js\"));\nvar _f7action = __webpack_require__(/*! @/action/f7action.js */ \"./src/action/f7action.js\");\nvar _f7Util = __webpack_require__(/*! @/util/f7Util.js */ \"./src/util/f7Util.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n// F7已选列表控件\n\n// import { fromJS } from 'immutable'\n\n// const mockdata = fromJS([\n//   {\n//     id: '927468464216473600',\n//     mt: '电池',\n//     st: 'battery'\n//   },\n//   {\n//     id: '927468464610738176',\n//     mt: '计算器',\n//     st: 'calculator'\n//   }\n// ])\n\nfunction KDF7SelectedList(_ref) {\n  var model = _ref.model,\n    dispatch = _ref.dispatch;\n  var onDeleteItem = function onDeleteItem(id) {\n    dispatch((0, _f7action.removeItem)(model, id));\n  };\n  var close = function close() {\n    dispatch((0, _f7action.onClose)(model));\n  };\n  var listData = model.getDataProperty('items');\n  var authorizedInfo = model.getDataProperty('authorizedInfo');\n  var authorizedData = (0, _f7Util.handleSetAuthorized)({\n    dataSource: listData,\n    arg: authorizedInfo,\n    idKey: 'id'\n  });\n  var _getCommonClass = (0, _componentutil.getCommonClass)(model),\n    Grow = _getCommonClass.Grow,\n    Shrink = _getCommonClass.Shrink;\n  var className = (0, _commonUtils[\"default\"])({\n    Grow: Grow,\n    Shrink: Shrink\n  });\n  var style = (0, _componentutil.getCommonStyle)(model);\n  return /*#__PURE__*/_react[\"default\"].createElement(_F7SelectedList[\"default\"], {\n    className: className,\n    style: style,\n    listData: authorizedData,\n    onDeleteItem: onDeleteItem,\n    onClose: close\n  });\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/KDF7SelectedList.jsx?");

/***/ }),

/***/ "./src/component/mobile/KDFilter.jsx":
/*!*******************************************!*\
  !*** ./src/component/mobile/KDFilter.jsx ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.string.search.js */ \"../../node_modules/core-js/modules/es.string.search.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _global = __webpack_require__(/*! @/global */ \"./src/global/index.js\");\nvar _componentutil = __webpack_require__(/*! ../../util/componentutil */ \"./src/util/componentutil.js\");\nvar _Filter = _interopRequireDefault(__webpack_require__(/*! ./base/Filter */ \"./src/component/mobile/base/Filter.jsx\"));\nvar _VisibleLockWrap = _interopRequireDefault(__webpack_require__(/*! ../common/VisibleLockWrap */ \"./src/component/common/VisibleLockWrap.js\"));\nvar _AttachDataWrap = _interopRequireDefault(__webpack_require__(/*! ../common/AttachDataWrap */ \"./src/component/common/AttachDataWrap.js\"));\nvar _mobileFilterSortAction = __webpack_require__(/*! @/action/mobileFilterSortAction.js */ \"./src/action/mobileFilterSortAction.js\");\nvar _const = __webpack_require__(/*! @/constant/const */ \"./src/constant/const.js\");\nvar _memoryCacher = __webpack_require__(/*! @/model/memoryCacher */ \"./src/model/memoryCacher.js\");\nvar _action = __webpack_require__(/*! @/action/action */ \"./src/action/action.js\");\nvar _serverproperties = __webpack_require__(/*! @/constant/serverproperties.js */ \"./src/constant/serverproperties.js\");\nvar _dec, _class;\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar KDFilter = (_dec = (0, _VisibleLockWrap[\"default\"])(false), _dec(_class = (0, _AttachDataWrap[\"default\"])(_class = /*#__PURE__*/function (_React$Component) {\n  _inherits(KDFilter, _React$Component);\n  function KDFilter(props) {\n    var _this;\n    _classCallCheck(this, KDFilter);\n    _this = _callSuper(this, KDFilter, [props]);\n    _this.search = function (args) {\n      var _this$props = _this.props,\n        model = _this$props.model,\n        dispatch = _this$props.dispatch;\n      dispatch((0, _mobileFilterSortAction.getMobSearchResult)(model, args));\n    };\n    _this.schemeSearch = function (args) {\n      var _this$props2 = _this.props,\n        model = _this$props2.model,\n        dispatch = _this$props2.dispatch;\n      dispatch((0, _mobileFilterSortAction.getMobFilterSchemeResult)(model, args));\n    };\n    _this.baseDataClick = function (arg) {\n      var _this$props3 = _this.props,\n        model = _this$props3.model,\n        dispatch = _this$props3.dispatch;\n      dispatch((0, _mobileFilterSortAction.mobileFilterF7Click)(model, arg));\n    };\n    _this.f7resultListener = function (data) {\n      !_this.dispose && _this.setState({\n        f7selected: data\n      });\n    };\n    _this.getUserRememberResult = function (key) {\n      var model = _this.props.model;\n      // const rememberFilterResultKey = `__${model.key}_remember_filter_result__`\n      // const isRememberCheckedKey = `__${model.key}_remember_checked__`\n      var config = model.getFormConfigWithoutMeta();\n      var formId = config.formId,\n        billFormId = config.billFormId;\n      var userUIState = (0, _memoryCacher.getUserUIState)();\n      return userUIState.getIn([\"\".concat(formId, \"_\").concat(billFormId), key]);\n    };\n    _this.setUserRememberResult = function (data) {\n      // data:[...[key, value]]\n      var model = _this.props.model;\n      var config = model.getFormConfigWithoutMeta();\n      var formId = config.formId,\n        billFormId = config.billFormId;\n      data.forEach(function (item) {\n        var _item = _slicedToArray(item, 2),\n          key = _item[0],\n          value = _item[1];\n        (0, _memoryCacher.setUserUIState)(model.pageId, [\"\".concat(formId, \"_\").concat(billFormId), key], value, true);\n      });\n      var userUIState = (0, _memoryCacher.getDiffUserUIState)();\n      // let userUIState = getUserUIState()\n      if (userUIState) {\n        (0, _action.invokeControlService)({\n          pageId: model.pageId\n        }, 'saveSetting', [userUIState], (0, _immutable.List)(), _global.doGlobalDispatch);\n      }\n    };\n    _this.state = {\n      children: props.model.getDataProperty('fields'),\n      entryenties: props.model.getDataProperty('entryenties'),\n      filterscheme: props.model.getDataProperty('filterscheme'),\n      f7selected: ''\n    };\n    return _this;\n  }\n  _createClass(KDFilter, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var model = this.props.model;\n      var pageId = model.pageId,\n        key = model.key;\n      var f7key = \"\".concat(pageId, \"_\").concat(key);\n      this.removeF7ResultListener = (0, _memoryCacher.addDataChangeListener)(pageId, [f7key, _const.FILTER_SIEVE_F7_MOB], this.f7resultListener);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.dispose = true;\n      this.removeF7ResultListener && this.removeF7ResultListener();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var model = this.props.model;\n      var children = this.state.children;\n      // 如果不存在子元素，直接返回\n      if (!children || children.size === 0) return null;\n      var style = (0, _componentutil.getCommonStyle)(model);\n      var _getCommonClass = (0, _componentutil.getCommonClass)(model),\n        Grow = _getCommonClass.Grow,\n        Shrink = _getCommonClass.Shrink,\n        AlignSelf = _getCommonClass.AlignSelf;\n      var schemeQuery = model.getMetaProperty('schemeQuery');\n      var userInitialField = model.getMetaProperty('userInitialField') || (0, _immutable.List)();\n      var userConfiguration = model.getMetaProperty('userConfiguration');\n      var synchronizeFilterItems = model.getMetaProperty('synchronizeFilterItems');\n      var rememberFilterCriteria = model.getMetaProperty('rememberFilterCriteria');\n      var showDirection = model.getMetaProperty(_serverproperties.PANEL_OPEN_STYLE) || _serverproperties.PANEL_OPEN_RIGHT; // 面板打开方式\n      var config = model.getFormConfigWithoutMeta();\n      var formId = config.formId,\n        billFormId = config.billFormId;\n      return /*#__PURE__*/_react[\"default\"].createElement(_Filter[\"default\"], _extends({\n        children: children,\n        entryenties: this.state.entryenties,\n        id: model.key,\n        locale: model.getUserLocale(),\n        Grow: Grow,\n        Shrink: Shrink,\n        AlignSelf: AlignSelf\n      }, this.props.attachData, {\n        style: style,\n        search: this.search,\n        baseDataClick: this.baseDataClick,\n        f7selected: this.state.f7selected,\n        schemeQuery: schemeQuery,\n        filterscheme: this.state.filterscheme,\n        schemeSearch: this.schemeSearch,\n        fid: \"\".concat(formId, \"_\").concat(billFormId),\n        pageId: model.pageId,\n        userInitialField: userInitialField,\n        userConfiguration: userConfiguration,\n        synchronizeFilterItems: synchronizeFilterItems,\n        rememberFilterCriteria: rememberFilterCriteria,\n        getUserRememberResult: this.getUserRememberResult,\n        setUserRememberResult: this.setUserRememberResult,\n        showDirection: showDirection\n      }));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      var nextModel = nextProps.model;\n      var nextFields = nextModel.getDataProperty('fields');\n      var newEntryenties = nextModel.getDataProperty('entryenties');\n      var newFilterScheme = nextModel.getDataProperty('filterscheme');\n      if (!(0, _immutable.is)(prevState.children, nextFields) || !(0, _immutable.is)(prevState.entryenties, newEntryenties) || !(0, _immutable.is)(prevState.filterscheme, newFilterScheme)) {\n        return {\n          children: nextFields,\n          entryenties: newEntryenties,\n          filterscheme: newFilterScheme\n        };\n      }\n      return null;\n    }\n  }]);\n  return KDFilter;\n}(_react[\"default\"].Component)) || _class) || _class);\nvar _default = exports[\"default\"] = KDFilter;\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/KDFilter.jsx?");

/***/ }),

/***/ "./src/component/mobile/KDGeneralF7List.jsx":
/*!**************************************************!*\
  !*** ./src/component/mobile/KDGeneralF7List.jsx ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.find-index.js */ \"../../node_modules/core-js/modules/es.array.find-index.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.array.sort.js */ \"../../node_modules/core-js/modules/es.array.sort.js\");\n__webpack_require__(/*! core-js/modules/es.array.splice.js */ \"../../node_modules/core-js/modules/es.array.splice.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.trim.js */ \"../../node_modules/core-js/modules/es.string.trim.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.timers.js */ \"../../node_modules/core-js/modules/web.timers.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _generalf7action = __webpack_require__(/*! @/action/generalf7action */ \"./src/action/generalf7action.js\");\nvar _generaltreef7action = __webpack_require__(/*! @/action/generaltreef7action */ \"./src/action/generaltreef7action.js\");\nvar _GeneralF7List = _interopRequireDefault(__webpack_require__(/*! ./base/GeneralF7List */ \"./src/component/mobile/base/GeneralF7List.jsx\"));\nvar _VisibleLockWrap = _interopRequireDefault(__webpack_require__(/*! ../common/VisibleLockWrap */ \"./src/component/common/VisibleLockWrap.js\"));\nvar _AttachDataWrap = _interopRequireDefault(__webpack_require__(/*! ../common/AttachDataWrap */ \"./src/component/common/AttachDataWrap.js\"));\nvar _componentutil = __webpack_require__(/*! ../../util/componentutil */ \"./src/util/componentutil.js\");\nvar _serverproperties = __webpack_require__(/*! ../../constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _appModelFunction = __webpack_require__(/*! ../../model/appModelFunction */ \"./src/model/appModelFunction.js\");\nvar _searchaction = __webpack_require__(/*! ../../action/searchaction */ \"./src/action/searchaction.js\");\nvar _PullLoad = __webpack_require__(/*! ../common/PullLoad */ \"./src/component/common/PullLoad.js\");\nvar _invokeActionUtils = __webpack_require__(/*! ../common/invokeActionUtils */ \"./src/component/common/invokeActionUtils.js\");\nvar _memoryCacher = __webpack_require__(/*! ../../model/memoryCacher */ \"./src/model/memoryCacher.js\");\nvar _baseDataUtil = __webpack_require__(/*! @/util/baseDataUtil */ \"./src/util/baseDataUtil.js\");\nvar _f7Util = __webpack_require__(/*! @/util/f7Util */ \"./src/util/f7Util.js\");\nvar _dec, _class; // 通用F7列表控件(移动端通用列表)\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n// 基础资料在memoryCacher中存储的根目录\nvar PATH_BASEDATA_ROOT = ['basedata'];\n// 多选基础资料在memoryCacher中存储的根目录\nvar PATH_MULBASEDATA_ROOT = ['mulbasedata'];\n// '我的常用'在memoryCacher中存储路径(完成路径: basedata-'BaseDataType'-recent-myFrequent)\nvar PATH_RECENT_MY_FREQUENT = ['recent', 'myFrequent'];\n// 搜索'历史记录'在memoryCacher中存储路径(完成路径: basedata-'BaseDataType'-recent-searchHistory)\nvar PATH_RECENT_SEARCH_HISTORY = ['recent', 'searchHistory'];\n\n// '最近使用'数据显示最大数量\nvar Max_Recent_Count = 10;\n// '最近使用'数据保存最大数量\nvar MaxStore_Recent_Count = 15;\nvar CONST_FREQUENCY = 'frequency';\nvar KDGeneralF7List = (_dec = (0, _VisibleLockWrap[\"default\"])(true), _dec(_class = (0, _AttachDataWrap[\"default\"])(_class = /*#__PURE__*/function (_React$Component) {\n  _inherits(KDGeneralF7List, _React$Component);\n  function KDGeneralF7List(props) {\n    var _this;\n    _classCallCheck(this, KDGeneralF7List);\n    _this = _callSuper(this, KDGeneralF7List, [props]);\n    _this.state = {\n      action: _PullLoad.STATS.init // 当前操作状态\n    };\n    _this.handleAction = _this.handleAction.bind(_assertThisInitialized(_this));\n    _this.onHandleCheckChanged = _this.onHandleCheckChanged.bind(_assertThisInitialized(_this));\n    _this.clearSearchResult = _this.clearSearchResult.bind(_assertThisInitialized(_this));\n    _this.onMainStartBtnClick = _this.onMainStartBtnClick.bind(_assertThisInitialized(_this));\n    _this.onSearchCancelClick = _this.onSearchCancelClick.bind(_assertThisInitialized(_this));\n    _this.onSearchStartBtnClick = _this.onSearchStartBtnClick.bind(_assertThisInitialized(_this));\n    _this.onSelectedListPanelClosed = _this.onSelectedListPanelClosed.bind(_assertThisInitialized(_this));\n    _this.onMainLoadMoreClick = _this.onMainLoadMoreClick.bind(_assertThisInitialized(_this));\n    _this.onSearchLoadMoreClick = _this.onSearchLoadMoreClick.bind(_assertThisInitialized(_this));\n    _this.onCancelClick = _this.onCancelClick.bind(_assertThisInitialized(_this));\n    _this.onConfirmClick = _this.onConfirmClick.bind(_assertThisInitialized(_this));\n    _this.onClearHistoryClick = _this.onClearHistoryClick.bind(_assertThisInitialized(_this));\n    _this.onHistoryItemDelClick = _this.onHistoryItemDelClick.bind(_assertThisInitialized(_this));\n    _this.onChange = _this.onChange.bind(_assertThisInitialized(_this));\n    _this.onItemClearClick = _this.onItemClearClick.bind(_assertThisInitialized(_this));\n    _this.onClearFrequentClick = _this.onClearFrequentClick.bind(_assertThisInitialized(_this));\n    _this.loadFrequentData = _this.loadFrequentData.bind(_assertThisInitialized(_this));\n    var config = props.model.getFormConfig();\n    _this._fileServer = config.fileserver;\n    return _this;\n  }\n\n  // 获取搜索历史记录\n  _createClass(KDGeneralF7List, [{\n    key: \"getHistory\",\n    value: function getHistory(type) {\n      // if (!this._searchHistoryData) {\n      //     this._searchHistoryData = List();\n      //     //test data\n      //     this._searchHistoryData = GeneralF7List_SearchHistory;\n      // }\n      // return this._searchHistoryData;\n\n      // test data\n      // return GeneralF7List_SearchHistory;\n\n      var cacherData = this.getCacher(type) || (0, _immutable.Map)();\n      return cacherData.getIn(PATH_RECENT_SEARCH_HISTORY) || (0, _immutable.List)();\n    }\n\n    // 新的获取“我的常用”数据的方法\n  }, {\n    key: \"getFrequentData\",\n    value: function getFrequentData(mainData) {\n      var frequentData = mainData.get('frequentData', (0, _immutable.List)());\n      if (frequentData.size > Max_Recent_Count) {\n        // 取'frequency'最大的几个\n        frequentData = this.sortFrequentData(frequentData);\n        // 取前'Max_Recent_Count'个做我的常用\n        frequentData = frequentData.filter(function (item) {\n          return item.get(2);\n        }).slice(0, Max_Recent_Count);\n      }\n      return frequentData;\n    }\n\n    // 根据CONST_FREQUENCY值按降序排序，值一样的不会改变前后顺序\n  }, {\n    key: \"sortFrequentData\",\n    value: function sortFrequentData(frequentData) {\n      var fValue1, fValue2;\n      frequentData = frequentData.sort(function (frequent1, frequent2) {\n        fValue1 = frequent1.get(CONST_FREQUENCY) || 0;\n        fValue2 = frequent2.get(CONST_FREQUENCY) || 0;\n        if (fValue1 < fValue2) {\n          return 1;\n        }\n        if (fValue1 > fValue2) {\n          return -1;\n        }\n        if (fValue1 === fValue2) {\n          return 0;\n        }\n      });\n      return frequentData;\n    }\n\n    // 选中单个or多个\n  }, {\n    key: \"onHandleCheckChanged\",\n    value: function onHandleCheckChanged(itemInfo) {\n      var needClearResult = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      if (itemInfo) {\n        var _this$props = this.props,\n          model = _this$props.model,\n          dispatch = _this$props.dispatch;\n        var selected = model.getDataProperty('selected') || new _immutable.List();\n        if (this._isMulti) {\n          // 记录到store\n          var targetIndex = selected.findIndex(function (item) {\n            return item.get('id') === itemInfo.get('id');\n          });\n          if (targetIndex > -1) {\n            selected = selected.splice(targetIndex, 1);\n          } else {\n            selected = selected.push((0, _immutable.fromJS)(itemInfo));\n          }\n          dispatch((0, _appModelFunction.convertAppModelFunctionAction)((0, _appModelFunction.setDataProperty)(model.pageId, model.key, 'selected', selected)));\n        } else {\n          (0, _baseDataUtil.setBasedata2Cacher)((0, _immutable.fromJS)([itemInfo]), {\n            pageId: model.pageId,\n            basedataType: this._basedataType,\n            isMulti: this._isMulti\n          });\n          // 单选直接发送选中请求\n          dispatch((0, _searchaction.endSelect)(model, [itemInfo.get('id')]));\n        }\n        needClearResult && this.clearSearchResult();\n      }\n    }\n\n    // 点击主界面底部'确定'\n  }, {\n    key: \"onMainStartBtnClick\",\n    value: function onMainStartBtnClick() {\n      var _this$props2 = this.props,\n        model = _this$props2.model,\n        dispatch = _this$props2.dispatch;\n      var ids = [];\n      var itemsInfo = (0, _immutable.List)();\n      var selected = model.getDataProperty('selected') || new _immutable.List();\n      selected.forEach(function (item) {\n        ids.push(item.get('id'));\n        itemsInfo = itemsInfo.push(item);\n      });\n      (0, _baseDataUtil.setBasedata2Cacher)(itemsInfo, {\n        pageId: model.pageId,\n        basedataType: this._basedataType,\n        isMulti: this._isMulti\n      });\n      dispatch((0, _searchaction.endSelect)(model, ids));\n    }\n\n    // 清空搜索结果数据\n  }, {\n    key: \"clearSearchResult\",\n    value: function clearSearchResult() {\n      var _this$props3 = this.props,\n        model = _this$props3.model,\n        dispatch = _this$props3.dispatch;\n      var searchResultList = model.getDataProperty(['search', 'sr']);\n      if (searchResultList) {\n        dispatch((0, _appModelFunction.convertAppModelFunctionAction)((0, _appModelFunction.setDataProperty)(model.pageId, model.key, ['search', 'sr'], undefined)));\n      }\n    }\n\n    // 点击搜索框'取消'\n  }, {\n    key: \"onSearchCancelClick\",\n    value: function onSearchCancelClick(newSelected) {\n      newSelected = newSelected || new _immutable.List();\n      var _this$props4 = this.props,\n        model = _this$props4.model,\n        dispatch = _this$props4.dispatch;\n      var selected = model.getDataProperty('selected') || new _immutable.List();\n      if (!(0, _immutable.is)(selected, newSelected)) {\n        dispatch((0, _appModelFunction.convertAppModelFunctionAction)((0, _appModelFunction.setDataProperty)(model.pageId, model.key, 'selected', newSelected)));\n      }\n      this.clearSearchResult();\n    }\n\n    // 点击搜索界面底部'确定'\n  }, {\n    key: \"onSearchStartBtnClick\",\n    value: function onSearchStartBtnClick(newSelected) {\n      // alert('onSearchStartBtnClick')\n      // newSelected = newSelected || new List()\n      // let { model } = this.props;\n      // let selected = model.getDataProperty('selected') || new List();\n      // if (!is(selected, newSelected)) {\n      //     this.props.dispatch(convertAppModelFunctionAction(setDataProperty(model.pageId, model.key, 'selected', newSelected)));\n      // }\n      this.updateSelected(newSelected);\n      // 发选中请求\n      var _this$props5 = this.props,\n        model = _this$props5.model,\n        dispatch = _this$props5.dispatch;\n      var ids = [];\n      var itemsInfo = (0, _immutable.List)();\n      newSelected && newSelected.forEach(function (item) {\n        ids.push(item.get('id'));\n        itemsInfo = itemsInfo.push(item);\n      });\n      (0, _baseDataUtil.setBasedata2Cacher)(itemsInfo, {\n        pageId: model.pageId,\n        basedataType: this._basedataType,\n        isMulti: this._isMulti\n      });\n      dispatch((0, _searchaction.endSelect)(model, ids));\n    }\n\n    // 浏览器back关闭已选列表\n  }, {\n    key: \"onSelectedListPanelClosed\",\n    value: function onSelectedListPanelClosed(newSelected) {\n      this.updateSelected(newSelected);\n    }\n  }, {\n    key: \"updateSelected\",\n    value: function updateSelected(newSelected) {\n      newSelected = newSelected || new _immutable.List();\n      var _this$props6 = this.props,\n        model = _this$props6.model,\n        dispatch = _this$props6.dispatch;\n      var selected = model.getDataProperty('selected') || new _immutable.List();\n      if (!(0, _immutable.is)(selected, newSelected)) {\n        dispatch((0, _appModelFunction.convertAppModelFunctionAction)((0, _appModelFunction.setDataProperty)(model.pageId, model.key, 'selected', newSelected)));\n      }\n    }\n\n    // 主界面请求更多数据\n  }, {\n    key: \"onMainLoadMoreClick\",\n    value: function onMainLoadMoreClick() {\n      // alert(`load more`);\n      if (this._hasMore !== false) {\n        // 没有'更多',就不再重复请求数据\n        var _this$props7 = this.props,\n          model = _this$props7.model,\n          dispatch = _this$props7.dispatch;\n        var pageIndex = model.getDataProperty(['data', 'pageIndex']) || 0;\n        dispatch((0, _generalf7action.getNextPageData)(model, {\n          nextPageIndex: pageIndex + 1\n        }));\n      } else {\n        this.endLoadMore();\n      }\n    }\n\n    // 搜索页面请求更多数据\n  }, {\n    key: \"onSearchLoadMoreClick\",\n    value: function onSearchLoadMoreClick() {\n      var _this$props8 = this.props,\n        model = _this$props8.model,\n        dispatch = _this$props8.dispatch;\n      var pageIndex = model.getDataProperty(['search', 'pageIndex']) || 0;\n      dispatch((0, _searchaction.getSearchNextPageData)(model, {\n        nextPageIndex: pageIndex + 1\n      }));\n    }\n  }, {\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this2 = this;\n      var _this$props$model = this.props.model,\n        pageId = _this$props$model.pageId,\n        key = _this$props$model.key;\n      // 监听主界面\n      this._removeListener = (0, _invokeActionUtils.addAjaxStateListener)(pageId, key, 'getNextPageData', function (_ref) {\n        var value = _ref.value,\n          args = _ref.args;\n        if (value === _invokeActionUtils.AJAX_PENDING) {\n          // 向后端发起请求\n        } else if (value === _invokeActionUtils.AJAX_ERROR) {\n          // 请求错误\n          console.warn(\"AjaxState error: \".concat(value));\n          _this2.endLoadMore();\n        } else if (value === _invokeActionUtils.AJAX_SUCCESS) {\n          // 请求结束\n          _this2.endLoadMore();\n        } else {\n          console.warn(\"\\u672A\\u5904\\u7406\\u7684AjaxState\\u7C7B\\u578B: \".concat(value));\n        }\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this._removeListener();\n    }\n\n    // 上拉加载更多\n  }, {\n    key: \"handleLoadMore\",\n    value: function handleLoadMore() {\n      this.onMainLoadMoreClick();\n    }\n\n    // 下拉刷新\n  }, {\n    key: \"handleRefresh\",\n    value: function handleRefresh() {\n      console.log('触发下拉刷新...');\n    }\n\n    // 结束\n  }, {\n    key: \"endLoadMore\",\n    value: function endLoadMore() {\n      this.setState({\n        action: _PullLoad.STATS.reset\n      });\n    }\n  }, {\n    key: \"handleAction\",\n    value: function handleAction(action) {\n      console.info(action, this.state.action, action === this.state.action);\n      // new action must do not equel to old action\n      if (action === this.state.action || action === _PullLoad.STATS.refreshing && this.state.action === _PullLoad.STATS.loading || action === _PullLoad.STATS.loading && this.state.action === _PullLoad.STATS.refreshing) {\n        // console.info(\"It's same action or on loading or on refreshing \", action, this.state.action, action === this.state.action);\n        return false;\n      }\n      if (action === _PullLoad.STATS.refreshing) {\n        // 触发下拉刷新\n        console.warn('action当前值: refreshing');\n        var that = this;\n        setTimeout(function () {\n          that.handleRefresh();\n        }, 500);\n      } else if (action === _PullLoad.STATS.loading) {\n        // 触发上拉加载更多\n        console.warn('action当前值: loading');\n        var _that = this;\n        setTimeout(function () {\n          _that.handleLoadMore();\n        }, 500);\n      }\n\n      // DO NOT modify below code\n      this.setState({\n        action: action\n      });\n    }\n\n    // 退出选择\n  }, {\n    key: \"onCancelClick\",\n    value: function onCancelClick() {\n      var _this$props9 = this.props,\n        model = _this$props9.model,\n        dispatch = _this$props9.dispatch;\n      dispatch((0, _generalf7action.cancel)(model));\n    }\n\n    // 精简模式，点击确认按钮\n  }, {\n    key: \"onConfirmClick\",\n    value: function onConfirmClick() {\n      var _this$props10 = this.props,\n        model = _this$props10.model,\n        dispatch = _this$props10.dispatch;\n      var ids = [];\n      var itemsInfo = (0, _immutable.List)();\n      var selected = model.getDataProperty('selected') || new _immutable.List();\n      selected && selected.forEach(function (item) {\n        ids.push(item.get('id'));\n        itemsInfo = itemsInfo.push(item);\n      });\n      (0, _baseDataUtil.setBasedata2Cacher)(itemsInfo, {\n        pageId: model.pageId,\n        basedataType: this._basedataType,\n        isMulti: this._isMulti\n      });\n      dispatch((0, _searchaction.endSelect)(model, ids));\n    }\n\n    // 清空历史搜索记录\n  }, {\n    key: \"onClearHistoryClick\",\n    value: function onClearHistoryClick() {\n      // alert('onClearHistoryClick');\n      var cacherData = this.getCacher(this._basedataType) || (0, _immutable.Map)();\n      cacherData = cacherData.setIn(PATH_RECENT_SEARCH_HISTORY, (0, _immutable.List)());\n      this.saveCacher(this._basedataType, cacherData);\n      this.forceUpdate(); // 强制刷新\n    }\n\n    // 清空我的常用数据\n  }, {\n    key: \"onClearFrequentClick\",\n    value: function onClearFrequentClick() {\n      var cacherData = this.getCacher(this._basedataType) || (0, _immutable.Map)();\n      cacherData = cacherData.setIn(PATH_RECENT_MY_FREQUENT, (0, _immutable.List)());\n      this.saveCacher(this._basedataType, cacherData);\n    }\n\n    // 删除某条历史搜索记录\n  }, {\n    key: \"onHistoryItemDelClick\",\n    value: function onHistoryItemDelClick(searchWord) {\n      // alert('delete: ' + searchWord);\n      var cacherData = this.getCacher(this._basedataType) || (0, _immutable.Map)();\n      var historyData = cacherData.getIn(PATH_RECENT_SEARCH_HISTORY) || (0, _immutable.List)();\n      var targetIndex = historyData.findIndex(function (item) {\n        return item === searchWord;\n      });\n      if (targetIndex > -1) {\n        historyData = historyData[\"delete\"](targetIndex); // 删除\n        cacherData = cacherData.setIn(PATH_RECENT_SEARCH_HISTORY, historyData);\n        this.saveCacher(this._basedataType, cacherData);\n        this.forceUpdate(); // 强制刷新\n      }\n    }\n\n    // 获取recent信息('我的常用'/搜索'历史记录')\n  }, {\n    key: \"getCacher\",\n    value: function getCacher(type) {\n      // 获取前端缓存数据\n      var userUIState = (0, _memoryCacher.getUserUIState)(this.props.model);\n      var rootPath = this._isMulti ? PATH_MULBASEDATA_ROOT : PATH_BASEDATA_ROOT;\n      var cacherBaseData = userUIState.getIn(rootPath.concat([type]));\n      // const cities = getCommonCityList(fromJS({ name, id, frequency: 1 }), cityType, cacherCities)\n      return cacherBaseData;\n    }\n\n    // 保存recent信息\n    // type:基础资料类型编码, data:缓存的基础资料所有数据(不可变对象)\n  }, {\n    key: \"saveCacher\",\n    value: function saveCacher(type, cacherData) {\n      if (!type) return;\n      var rootPath = this._isMulti ? PATH_MULBASEDATA_ROOT : PATH_BASEDATA_ROOT;\n      (0, _memoryCacher.setUserUIState)(this.props.model.pageId, rootPath.concat([type]), cacherData, true);\n    }\n  }, {\n    key: \"onChange\",\n    value: function onChange(value) {\n      var _this$props11 = this.props,\n        model = _this$props11.model,\n        dispatch = _this$props11.dispatch;\n      // 如果显示了搜索面板，则要缓存用户输入的搜索关键字(点击软键盘上'搜索'按钮触发的)\n      var searchValue = value;\n      var update = false;\n      if (this._showSearchHistoryPanel && searchValue && searchValue.trim && searchValue.trim() !== '') {\n        searchValue = searchValue.trim();\n        var cacherData = this.getCacher(this._basedataType) || (0, _immutable.Map)();\n        var searchHistoryData = cacherData.getIn(PATH_RECENT_SEARCH_HISTORY) || (0, _immutable.List)();\n        var targetIndex = searchHistoryData.findIndex(function (searchStr) {\n          return searchStr === searchValue;\n        });\n        if (targetIndex < 0) {\n          // 不存在且总数超过限制: 就删除已有的末尾那个，并把新的加到首位\n          if (searchHistoryData.size >= Max_Recent_Count) {\n            searchHistoryData = searchHistoryData.pop();\n          }\n          searchHistoryData = searchHistoryData.unshift(searchValue); // 添加到首位\n          update = true;\n        } else if (targetIndex !== 0) {\n          // 已存在,则移动到首位\n          searchHistoryData = searchHistoryData[\"delete\"](targetIndex);\n          searchHistoryData = searchHistoryData.unshift(searchValue);\n        }\n        cacherData = cacherData.setIn(PATH_RECENT_SEARCH_HISTORY, searchHistoryData);\n        this.saveCacher(this._basedataType, cacherData);\n      }\n      dispatch((0, _generaltreef7action.onChange)(model, value));\n      update && this.forceUpdate(); // 强制刷新\n    }\n  }, {\n    key: \"onItemClearClick\",\n    value: function onItemClearClick() {\n      var _this$props12 = this.props,\n        model = _this$props12.model,\n        dispatch = _this$props12.dispatch;\n      var selected = model.getDataProperty('selected'); // 已选列表\n      var authorizedInfo = model.getDataProperty('authorizedInfo'); // 验权信息\n      var disabledData = (0, _f7Util.getF7DisabledData)({\n        dataSource: selected,\n        authorizedInfo: authorizedInfo,\n        idKey: 'id'\n      });\n      if (this._isMulti) {\n        this.updateSelected(disabledData);\n      } else {\n        dispatch((0, _searchaction.endSelect)(model, disabledData));\n      }\n    }\n  }, {\n    key: \"loadFrequentData\",\n    value: function loadFrequentData(type) {\n      var _this$props13 = this.props,\n        model = _this$props13.model,\n        dispatch = _this$props13.dispatch;\n      var cacherData = this.getCacher(type) || (0, _immutable.Map)();\n      var frequentData = cacherData.getIn(PATH_RECENT_MY_FREQUENT) || (0, _immutable.List)();\n      dispatch((0, _generalf7action.loadFrequentData)(model, frequentData));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n      var model = this.props.model;\n      var style = (0, _componentutil.getCommonStyle)(model);\n      var commonClass = (0, _componentutil.getCommonClass)(model);\n      var placeholder = model.getMetaProperty(_serverproperties.PLACE_HOLDER); // 搜索框显示的提示信息\n\n      var mainData = model.getDataProperty('data') || new _immutable.Map(); // 主界面数据(包含config)\n      var hasMore = mainData.get('hasMore'); // 主界面是否还有更多数据\n      var isMulti = mainData.getIn(['config', 'isMulti']);\n      var isMust = mainData.getIn(['config', 'isMust']);\n      var showModel = mainData.getIn(['config', 'showModel']); // 显示模式：默认常规，1:精简模式\n      var title = mainData.getIn(['config', 'title', model.getUserLocale()]); // 基础资料标题名称\n      var showSearchHistoryPanel = (0, _componentutil.getComponentDataProperty)(model, 'showSearchHistory', 'showSearchHistory', 'false'); // 显示搜索历史记录\n      // let showFrequentPanel = getComponentDataProperty(model, 'showFrequent', 'showFrequent', 'false') // 显示'我的常用'\n      var showFrequentPanel = mainData.getIn(['config', _serverproperties.F7_SHOW_FREQUENT]); // 是否显示'我的常用'，默认false\n\n      var searchData = model.getDataProperty('search') || new _immutable.Map(); // 搜索数据\n      var searchResultList = searchData.get('sr'); // 搜索结果列表\n      var searchHasMore = searchData.get('hasMore');\n      var selected = model.getDataProperty('selected'); // 已选列表\n      var authorizedInfo = model.getDataProperty('authorizedInfo'); // 验权信息\n      var selectedAuthorizedData = (0, _f7Util.handleSetAuthorized)({\n        arg: authorizedInfo,\n        dataSource: selected,\n        idKey: 'id'\n      });\n      style = Object.assign({}, style, this.props.style);\n      var basedataType = mainData.getIn(['config', 'type']); // 基础资料类型编码\n      var isSimple = showModel === 1; // 是否精简模式\n      var showSearch = mainData.getIn(['config', 'showSearch']); // 是否显示搜索框，仅在精简模式下生效\n\n      // test data\n      // selected = selected || GeneralF7List_Selected.get('selected');\n      // showModel = 1;\n      // mainData = GeneralF7List_Data;\n      // isMulti = true;\n      // searchResultList = GeneralF7List_Data.get('data');\n      // placeholder = '我是测试placeholder的...';\n      // title = 'xxx基础资料';\n      // showSearchHistoryPanel = true;\n      // showFrequentPanel = false;\n      // basedataType = 'wenqiao';\n\n      this._isMulti = isMulti;\n      this._basedataType = basedataType;\n      this._showSearchHistoryPanel = showSearchHistoryPanel;\n      this._hasMore = hasMore;\n      // data:全部基础资料信息列表\n      return /*#__PURE__*/_react[\"default\"].createElement(_GeneralF7List[\"default\"], _extends({\n        id: model.key,\n        style: style,\n        className: this.props.className,\n        fileServer: this._fileServer,\n        isMulti: isMulti,\n        isMust: isMust,\n        showModel: showModel,\n        data: mainData.get('data'),\n        selected: selectedAuthorizedData,\n        frequent: isSimple ? (0, _immutable.List)() : this.getFrequentData(mainData)\n      }, this.props.attachData, commonClass, {\n        placeholder: placeholder,\n        onHandleCheckChanged: this.onHandleCheckChanged,\n        onMainStartBtnClick: this.onMainStartBtnClick,\n        onSearchClearClick: this.clearSearchResult,\n        onChange: this.onChange,\n        searchResultList: searchResultList,\n        onSearchCancelClick: this.onSearchCancelClick,\n        onSearchStartBtnClick: this.onSearchStartBtnClick,\n        onSelectedListPanelClosed: this.onSelectedListPanelClosed,\n        hasMore: hasMore,\n        onMainLoadMoreClick: this.onMainLoadMoreClick,\n        searchHasMore: searchHasMore,\n        onSearchLoadMoreClick: this.onSearchLoadMoreClick,\n        action: this.state.action,\n        handleAction: this.handleAction,\n        title: title,\n        onCancelClick: this.onCancelClick,\n        onConfirmClick: this.onConfirmClick,\n        showSearchHistoryPanel: showSearchHistoryPanel,\n        showSearch: showSearch,\n        searchHistory: isSimple && !showSearch ? (0, _immutable.List)() : this.getHistory(basedataType),\n        onClearHistoryClick: this.onClearHistoryClick,\n        onHistoryItemDelClick: this.onHistoryItemDelClick,\n        showFrequentPanel: showFrequentPanel,\n        onItemClearClick: this.onItemClearClick,\n        loadFrequentData: function loadFrequentData(e) {\n          return _this3.loadFrequentData(basedataType);\n        },\n        onClearFrequentClick: this.onClearFrequentClick\n      }));\n    }\n  }]);\n  return KDGeneralF7List;\n}(_react[\"default\"].Component)) || _class) || _class);\nvar _default = exports[\"default\"] = KDGeneralF7List;\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/KDGeneralF7List.jsx?");

/***/ }),

/***/ "./src/component/mobile/KDGeneralTreeF7List.jsx":
/*!******************************************************!*\
  !*** ./src/component/mobile/KDGeneralTreeF7List.jsx ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.find-index.js */ \"../../node_modules/core-js/modules/es.array.find-index.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.splice.js */ \"../../node_modules/core-js/modules/es.array.splice.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.timers.js */ \"../../node_modules/core-js/modules/web.timers.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _generaltreef7action = __webpack_require__(/*! ../../action/generaltreef7action */ \"./src/action/generaltreef7action.js\");\nvar _GeneralTreeF7List = _interopRequireDefault(__webpack_require__(/*! ./base/GeneralTreeF7List */ \"./src/component/mobile/base/GeneralTreeF7List.jsx\"));\nvar _VisibleLockWrap = _interopRequireDefault(__webpack_require__(/*! ../common/VisibleLockWrap */ \"./src/component/common/VisibleLockWrap.js\"));\nvar _AttachDataWrap = _interopRequireDefault(__webpack_require__(/*! ../common/AttachDataWrap */ \"./src/component/common/AttachDataWrap.js\"));\nvar _componentutil = __webpack_require__(/*! ../../util/componentutil */ \"./src/util/componentutil.js\");\nvar _serverproperties = __webpack_require__(/*! ../../constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _appModelFunction = __webpack_require__(/*! ../../model/appModelFunction */ \"./src/model/appModelFunction.js\");\nvar _PullLoad = __webpack_require__(/*! ../common/PullLoad */ \"./src/component/common/PullLoad.js\");\nvar _invokeActionUtils = __webpack_require__(/*! ../common/invokeActionUtils */ \"./src/component/common/invokeActionUtils.js\");\nvar _f7Util = __webpack_require__(/*! @/util/f7Util */ \"./src/util/f7Util.js\");\nvar _dec, _class; // 通用Tree F7列表控件(移动端通用列表)\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n// 移动端通用Tree列表控件整体数据结构(前端store中存储))\nvar store_Data = {\n  // 搜素界面数据\n  search: {\n    // 搜索界面分页信息\n    hasMore: true,\n    // 是否有更多数据\n    pageIndex: 5,\n    // 当前数据分页号\n    sr: [{\n      mt: '大标题',\n      id: '111'\n    }, {\n      mt: '大标题2',\n      id: '222'\n    }] // 搜索结果\n  },\n  // 主界面数据\n  data: {\n    config: {\n      isMulti: true,\n      // 是否多选\n      title: {\n        zh_CN: 'xxx_基础资料',\n        en_US: 'xxx_BaseData'\n      },\n      // 标题\n      selected: [{\n        mt: '金蝶集团',\n        id: '585850'\n      }],\n      // 默认选中\n      type: 'user',\n      // 基础资料类型名称（用于前端常用信息搜集）\n      onlyEndNode: true // 只能选择末尾节点(即带子层级的中间节点都不能选择)\n    },\n    data: {\n      // 主页面列表数据\n      mt: '金蝶国际软件集团有限公司',\n      id: '01',\n      hp: false,\n      hc: true,\n      children: [{\n        mt: '金蝶集团',\n        id: '585850',\n        hc: true,\n        hp: true,\n        children: [{\n          mt: 'NextCloudERP-二级部门',\n          id: '585855',\n          hc: true,\n          hp: true,\n          ca: false,\n          children: [{\n            mt: '1-三级部门',\n            id: '24',\n            hc: false,\n            hp: true,\n            children: []\n          }, {\n            mt: '2-三级部门',\n            id: '25',\n            hc: false,\n            hp: true,\n            children: []\n          }, {\n            mt: '3-三级部门',\n            id: '26',\n            hc: false,\n            hp: true,\n            children: []\n          }]\n        }, {\n          mt: '财务部-二级部门',\n          id: '585856',\n          hc: true,\n          hp: true,\n          children: [{\n            mt: '4-三级部门',\n            id: '27',\n            hc: false,\n            hp: true,\n            children: []\n          }]\n        }]\n      }, {\n        mt: '后勤部门',\n        id: '585851',\n        hc: false,\n        hp: true,\n        children: []\n      }, {\n        mt: '友商平台',\n        id: '585852',\n        hc: false,\n        hp: true,\n        children: []\n      }, {\n        mt: '大数据平台',\n        id: '585853',\n        hc: false,\n        hp: true,\n        children: []\n      }, {\n        mt: '神秘部门',\n        id: '585854',\n        hc: false,\n        hp: true,\n        children: []\n      }]\n    },\n    // 主界面分页信息\n    hasMore: true,\n    // 主界面是否有更多分页数据\n    pageIndex: 8\n  },\n  // 当前选中内容（前端维护的，包含预选中部分）\n  selected: [{\n    mt: '大标题',\n    id: '111'\n  }, {\n    mt: '大标题2',\n    id: '222'\n  }]\n};\n\n// 服务端发过来数据的结构\nvar GeneralF7List_Data = {\n  // 配置项\n  config: {\n    isMulti: false,\n    // 是否多选，默认单选\n    title: {\n      zh_CN: 'xxx_基础资料',\n      en_US: 'xxx_BaseData'\n    },\n    // 标题\n    selected: [{\n      mt: '金蝶集团',\n      id: '585850'\n    }],\n    // 默认选中\n    type: 'user' // 基础资料类型名称（用于前端常用信息搜集）\n  },\n  // 数据\n  data: {\n    mt: '金蝶国际软件集团有限公司',\n    id: '01',\n    hp: false,\n    hc: true,\n    children: [{\n      hp: false,\n      hc: true,\n      mt: '中国银行前海分行',\n      id: '01'\n    }, {\n      hp: false,\n      hc: true,\n      mt: '中国人民银行白石洲分行',\n      id: '585851',\n      ca: false\n    }, {\n      hp: false,\n      hc: true,\n      mt: '中国人民银行南山分行',\n      id: '585852',\n      checkAble: false\n    }, {\n      hp: false,\n      hc: true,\n      mt: '中国人民银行福田大厅',\n      id: '585853',\n      checkAble: false\n    }, {\n      hp: false,\n      hc: true,\n      mt: '神秘部门',\n      id: '585854'\n    }, {\n      hp: false,\n      hc: true,\n      mt: '三级部门某支行某部门反正这个银行名字有点长就对了啦',\n      id: '24'\n    }, {\n      hp: false,\n      hc: true,\n      mt: '2-三级部门某支行某部门反正这个银行名字有点长就对了啦',\n      id: '25'\n    }, {\n      hp: false,\n      hc: true,\n      mt: '26-三级部门某支行某部门反正这个银行名字有点长就对了啦',\n      id: '26'\n    }, {\n      hp: false,\n      hc: false,\n      mt: '27-三级部门某支行某部门反正这个银行名字有点长就对了啦',\n      id: '27'\n    }, {\n      hp: false,\n      hc: false,\n      mt: '28-三级部门某支行某部门反正这个银行名字有点长就对了啦',\n      id: '28'\n    }, {\n      hp: false,\n      hc: false,\n      mt: '29-三级部门某支行某部门反正这个银行名字有点长就对了啦',\n      id: '29'\n    }, {\n      hp: false,\n      hc: true,\n      mt: '30-三级部门某支行某部门反正这个银行名字有点长就对了啦',\n      id: '30'\n    }, {\n      hp: false,\n      hc: true,\n      mt: '31-三级部门某支行某部门反正这个银行名字有点长就对了啦',\n      id: '31'\n    }, {\n      hp: false,\n      hc: false,\n      mt: '32-三级部门某支行某部门反正这个银行名字有点长就对了啦',\n      id: '32'\n    }, {\n      hp: false,\n      hc: true,\n      mt: '33-三级部门某支行某部门反正这个银行名字有点长就对了啦',\n      id: '33'\n    }, {\n      hp: false,\n      hc: true,\n      mt: '34-三级部门某支行某部门反正这个银行名字有点长就对了啦',\n      id: '34'\n    }, {\n      hp: false,\n      hc: false,\n      mt: '35-三级部门某支行某部门反正这个银行名字有点长就对了啦',\n      id: '35'\n    }]\n  },\n  hasMore: true,\n  // 主界面分页数据信息\n  pageIndex: 1\n};\nGeneralF7List_Data = (0, _immutable.fromJS)(GeneralF7List_Data);\n\n// '我的常用'数据结构\n// let GeneralF7List_Frequent = [{\n//   mt: '中国银行前海分行',\n//   id: '01'\n// },\n// {\n//   mt: '中国人民银行南山分行',\n//   id: '585851'\n// },\n// {\n//   mt: '三级部门某支行某部门反正这个银行名字有点长就对了啦',\n//   id: '35'\n// }\n// ]\n// GeneralF7List_Frequent = fromJS(GeneralF7List_Frequent)\n\n// '已选'数据结构\nvar GeneralF7List_Selected = {\n  selected: [{\n    mt: '中国银行前海分行',\n    id: '01'\n  }]\n};\nGeneralF7List_Selected = (0, _immutable.fromJS)(GeneralF7List_Selected);\n\n// '搜索历史'数据结构\nvar GeneralF7List_SearchHistory = ['基础资料1', '金蝶', '金蝶国际', '字段辅助信息'];\nGeneralF7List_SearchHistory = (0, _immutable.fromJS)(GeneralF7List_SearchHistory);\n\n// 模型\nvar F7_Model = {\n  // 图标地址, icon url\n  // url: 'https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1554344778&di=89aa28a0f4080a42b9bd07279fb94bf0&imgtype=jpg&er=1&src=http%3A%2F%2F7013619.s21i.faiusr.com%2F2%2FABUIABACGAAg8qHdtQUo6vfPpwYwjAI4jAI.jpg', // 头像网络地址\n  // 主标题, main title\n  mt: '基础资料大标题',\n  // 副标题, sub title\n  // st: '基础资料小标题',\n  // 唯一标示pk id\n  id: 'xxxxxxx' // 唯一F7标示\n};\n\n// 基础资料在memoryCacher中存储的根目录\nvar PATH_BASEDATA_ROOT = ['basedata'];\n// '我的常用'在memoryCacher中存储路径(完成路径: basedata-'BaseDataType'-recent-myFrequent)\n// const PATH_RECENT_MY_FREQUENT = ['recent', 'myFrequent']\n// 搜索'历史记录'在memoryCacher中存储路径(完成路径: basedata-'BaseDataType'-recent-searchHistory)\nvar PATH_RECENT_SEARCH_HISTORY = ['recent', 'searchHistory'];\n// 基础资料在memoryCacher中存储结构\nvar BaseData_Recent = {\n  basedata: {\n    // 根节点\n    user: {\n      // 基础资料编码\n      recent: {\n        // 最近使用\n        myFrequent: [{\n          // 我的常用\n          url: 'xxx1',\n          mt: 'xxxxx1',\n          st: 'xx1',\n          id: 'x1'\n        }, {\n          url: 'xxx2',\n          mt: 'xxxxx2',\n          st: 'xx2',\n          id: 'x2'\n        }],\n        searchHistory: [\n        // 搜素历史记录\n        'xxx1', 'xx2', 'xxx3']\n      }\n    },\n    org: {\n      //\n    }\n  }\n};\n\n// '最近使用'数据显示最大数量\n// const Max_Recent_Count = 4\n// '最近使用'数据保存最大数量\n// const MaxStore_Recent_Count = 8\n// '我的常用'关键字\n// const CONST_FREQUENCY = 'frequency'\nvar KDGeneralTreeF7List = (_dec = (0, _VisibleLockWrap[\"default\"])(true), _dec(_class = (0, _AttachDataWrap[\"default\"])(_class = /*#__PURE__*/function (_Component) {\n  _inherits(KDGeneralTreeF7List, _Component);\n  function KDGeneralTreeF7List(props) {\n    var _this;\n    _classCallCheck(this, KDGeneralTreeF7List);\n    _this = _callSuper(this, KDGeneralTreeF7List, [props]);\n    _this.onItemClearClick = function () {\n      var _this$props = _this.props,\n        model = _this$props.model,\n        dispatch = _this$props.dispatch;\n      var selected = model.getDataProperty('selected'); // 已选列表\n      var authorizedInfo = model.getDataProperty('authorizedInfo'); // 验权信息\n      var disabledData = (0, _f7Util.getF7DisabledData)({\n        dataSource: selected,\n        authorizedInfo: authorizedInfo,\n        idKey: 'id'\n      });\n      if (_this._isMulti) {\n        _this.updateSelected(disabledData);\n      } else {\n        dispatch((0, _generaltreef7action.endSelect)(model, disabledData));\n      }\n    };\n    _this.state = {\n      action: _PullLoad.STATS.init // 当前操作状态\n    };\n    _this.handleAction = _this.handleAction.bind(_assertThisInitialized(_this));\n    _this.onHandleCheckChanged = _this.onHandleCheckChanged.bind(_assertThisInitialized(_this));\n    _this.clearSearchResult = _this.clearSearchResult.bind(_assertThisInitialized(_this));\n    _this.onMainStartBtnClick = _this.onMainStartBtnClick.bind(_assertThisInitialized(_this));\n    _this.onSearchCancelClick = _this.onSearchCancelClick.bind(_assertThisInitialized(_this));\n    _this.onSearchStartBtnClick = _this.onSearchStartBtnClick.bind(_assertThisInitialized(_this));\n    _this.onSelectedListPanelClosed = _this.onSelectedListPanelClosed.bind(_assertThisInitialized(_this));\n    _this.onMainLoadMoreClick = _this.onMainLoadMoreClick.bind(_assertThisInitialized(_this));\n    _this.onSearchLoadMoreClick = _this.onSearchLoadMoreClick.bind(_assertThisInitialized(_this));\n    _this.onCancelClick = _this.onCancelClick.bind(_assertThisInitialized(_this));\n    _this.onConfirmClick = _this.onConfirmClick.bind(_assertThisInitialized(_this));\n    _this.onClearHistoryClick = _this.onClearHistoryClick.bind(_assertThisInitialized(_this));\n    _this.onHistoryItemDelClick = _this.onHistoryItemDelClick.bind(_assertThisInitialized(_this));\n    _this.onChange = _this.onChange.bind(_assertThisInitialized(_this));\n    _this.onHandleOrgItemSelect = _this.onHandleOrgItemSelect.bind(_assertThisInitialized(_this));\n    _this.onHanldeScrollItemClick = _this.onHanldeScrollItemClick.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  // 获取搜索历史记录\n  _createClass(KDGeneralTreeF7List, [{\n    key: \"getHistory\",\n    value: function getHistory(type) {\n      // if (!this._searchHistoryData) {\n      //     this._searchHistoryData = List();\n      //     //test data\n      //     this._searchHistoryData = GeneralF7List_SearchHistory;\n      // }\n      // return this._searchHistoryData;\n\n      // test data\n      // return GeneralF7List_SearchHistory;\n\n      // let cacherData = this.getCacher(type) || Map()\n      // return cacherData.getIn(PATH_RECENT_SEARCH_HISTORY) || List()\n      return (0, _immutable.List)();\n    }\n\n    // 选中单个or多个\n  }, {\n    key: \"onHandleCheckChanged\",\n    value: function onHandleCheckChanged(itemInfo) {\n      var needClearResult = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      if (itemInfo) {\n        if (itemInfo.length && itemInfo.length > 0) {\n          itemInfo = itemInfo[0];\n        }\n        var _this$props2 = this.props,\n          model = _this$props2.model,\n          dispatch = _this$props2.dispatch;\n        var selected = model.getDataProperty('selected') || (0, _immutable.List)();\n        if (this._isMulti) {\n          // 记录到store\n          var targetIndex = selected.findIndex(function (item) {\n            return item.get('id') === itemInfo.get('id');\n          });\n          if (targetIndex > -1) {\n            selected = selected.splice(targetIndex, 1); // 已存在\n          } else {\n            // if (!this._isMulti) {\n            //   selected = List() // 单选则清空之前数据\n            // }\n            selected = selected.push(itemInfo);\n          }\n          dispatch((0, _appModelFunction.convertAppModelFunctionAction)((0, _appModelFunction.setDataProperty)(model.pageId, model.key, 'selected', selected)));\n        } else {\n          // this.setEndSelectBasedata2Cacher(fromJS([itemInfo]))\n          // 单选直接发送选中请求\n          dispatch((0, _generaltreef7action.endSelect)(model, [itemInfo.get('id')]));\n        }\n        needClearResult && this.clearSearchResult();\n      }\n    }\n\n    // 点击主界面底部'确定'\n  }, {\n    key: \"onMainStartBtnClick\",\n    value: function onMainStartBtnClick() {\n      var _this$props3 = this.props,\n        model = _this$props3.model,\n        dispatch = _this$props3.dispatch;\n      var ids = [];\n      var itemsInfo = (0, _immutable.List)();\n      var selected = model.getDataProperty('selected') || (0, _immutable.List)();\n      selected.forEach(function (item) {\n        ids.push(item.get('id'));\n        itemsInfo = itemsInfo.push(item);\n      });\n      // this.setEndSelectBasedata2Cacher(itemsInfo)\n      dispatch((0, _generaltreef7action.endSelect)(model, ids));\n    }\n\n    // 清空搜索结果数据\n  }, {\n    key: \"clearSearchResult\",\n    value: function clearSearchResult() {\n      var _this$props4 = this.props,\n        model = _this$props4.model,\n        dispatch = _this$props4.dispatch;\n      var searchResultList = model.getDataProperty(['search', 'sr']);\n      if (searchResultList) {\n        dispatch((0, _appModelFunction.convertAppModelFunctionAction)((0, _appModelFunction.setDataProperty)(model.pageId, model.key, ['search', 'sr'], undefined)));\n      }\n    }\n\n    // 点击搜索框'取消'\n  }, {\n    key: \"onSearchCancelClick\",\n    value: function onSearchCancelClick(newSelected) {\n      newSelected = newSelected || (0, _immutable.List)();\n      var _this$props5 = this.props,\n        model = _this$props5.model,\n        dispatch = _this$props5.dispatch;\n      var selected = model.getDataProperty('selected') || (0, _immutable.List)();\n      if (!(0, _immutable.is)(selected, newSelected)) {\n        dispatch((0, _appModelFunction.convertAppModelFunctionAction)((0, _appModelFunction.setDataProperty)(model.pageId, model.key, 'selected', newSelected)));\n      }\n      this.clearSearchResult();\n    }\n\n    // 点击搜索界面底部'确定'\n  }, {\n    key: \"onSearchStartBtnClick\",\n    value: function onSearchStartBtnClick(newSelected) {\n      // alert('onSearchStartBtnClick')\n      // newSelected = newSelected || List()\n      // let { model } = this.props;\n      // let selected = model.getDataProperty('selected') || List();\n      // if (!is(selected, newSelected)) {\n      //     this.props.dispatch(convertAppModelFunctionAction(setDataProperty(model.pageId, model.key, 'selected', newSelected)));\n      // }\n      this.updateSelected(newSelected);\n      // 发选中请求\n      var _this$props6 = this.props,\n        model = _this$props6.model,\n        dispatch = _this$props6.dispatch;\n      var ids = [];\n      var itemsInfo = (0, _immutable.List)();\n      newSelected && newSelected.forEach(function (item) {\n        ids.push(item.get('id'));\n        itemsInfo = itemsInfo.push(item);\n      });\n      // this.setEndSelectBasedata2Cacher(itemsInfo)\n      dispatch((0, _generaltreef7action.endSelect)(model, ids));\n    }\n\n    // 浏览器back关闭已选列表\n  }, {\n    key: \"onSelectedListPanelClosed\",\n    value: function onSelectedListPanelClosed(newSelected) {\n      this.updateSelected(newSelected);\n    }\n  }, {\n    key: \"updateSelected\",\n    value: function updateSelected(newSelected) {\n      newSelected = newSelected || (0, _immutable.List)();\n      var _this$props7 = this.props,\n        model = _this$props7.model,\n        dispatch = _this$props7.dispatch;\n      var selected = model.getDataProperty('selected') || (0, _immutable.List)();\n      if (!(0, _immutable.is)(selected, newSelected)) {\n        dispatch((0, _appModelFunction.convertAppModelFunctionAction)((0, _appModelFunction.setDataProperty)(model.pageId, model.key, 'selected', newSelected)));\n      }\n    }\n\n    // 主界面请求更多数据\n  }, {\n    key: \"onMainLoadMoreClick\",\n    value: function onMainLoadMoreClick() {\n      // alert(`load more`);\n      if (this._hasMore !== false) {\n        // 没有'更多',就不再重复请求数据\n        var _this$props8 = this.props,\n          model = _this$props8.model,\n          dispatch = _this$props8.dispatch;\n        var nextPageIndex = (model.getDataProperty(['data', 'pageIndex']) || 0) + 1;\n        var currentOrgId = model.getDataProperty(['data', 'data', 'id']) || '';\n        dispatch((0, _generaltreef7action.getNextPageData)(model, {\n          currentOrgId: currentOrgId,\n          nextPageIndex: nextPageIndex\n        }));\n      } else {\n        this.endLoadMore();\n      }\n    }\n\n    // 搜索页面请求更多数据\n  }, {\n    key: \"onSearchLoadMoreClick\",\n    value: function onSearchLoadMoreClick() {\n      var _this$props9 = this.props,\n        model = _this$props9.model,\n        dispatch = _this$props9.dispatch;\n      var pageIndex = model.getDataProperty(['search', 'pageIndex']) || 0;\n      dispatch((0, _generaltreef7action.getSearchNextPageData)(model, {\n        nextPageIndex: pageIndex + 1\n      }));\n    }\n  }, {\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this2 = this;\n      var _this$props$model = this.props.model,\n        pageId = _this$props$model.pageId,\n        key = _this$props$model.key;\n      // 监听主界面\n      this._removeListener = (0, _invokeActionUtils.addAjaxStateListener)(pageId, key, 'getNextPageData', function (_ref) {\n        var value = _ref.value,\n          args = _ref.args;\n        if (value === _invokeActionUtils.AJAX_PENDING) {\n          // 向后端发起请求\n        } else if (value === _invokeActionUtils.AJAX_ERROR) {\n          // 请求错误\n          console.warn(\"AjaxState error: \".concat(value));\n          _this2.endLoadMore();\n        } else if (value === _invokeActionUtils.AJAX_SUCCESS) {\n          // 请求结束\n          _this2.endLoadMore();\n        } else {\n          console.warn(\"\\u672A\\u5904\\u7406\\u7684AjaxState\\u7C7B\\u578B: \".concat(value));\n        }\n      });\n\n      // 隐藏yunzhijia标题栏\n      // invokeAppFunction('setAppTitleBarVisible', { data: false })\n      var _this$props10 = this.props,\n        model = _this$props10.model,\n        dispatch = _this$props10.dispatch;\n      // 设置忙时提醒\n      dispatch((0, _appModelFunction.convertAppModelFunctionAction)((0, _appModelFunction.setCtlMetaProperty)(model.pageId, model.key, 'busyTip', {\n        zh_CN: '加载中'\n      })));\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this._removeListener();\n      // 还原云之家标题栏\n      // invokeAppFunction('setAppTitleBarVisible', { data: true })\n    }\n\n    // 上拉加载更多\n  }, {\n    key: \"handleLoadMore\",\n    value: function handleLoadMore() {\n      this.onMainLoadMoreClick();\n    }\n\n    // 下拉刷新\n  }, {\n    key: \"handleRefresh\",\n    value: function handleRefresh() {\n      console.log('触发下拉刷新...');\n    }\n\n    // 结束\n  }, {\n    key: \"endLoadMore\",\n    value: function endLoadMore() {\n      this.setState({\n        action: _PullLoad.STATS.reset\n      });\n    }\n  }, {\n    key: \"handleAction\",\n    value: function handleAction(action) {\n      console.info(action, this.state.action, action === this.state.action);\n      // new action must do not equel to old action\n      if (action === this.state.action || action === _PullLoad.STATS.refreshing && this.state.action === _PullLoad.STATS.loading || action === _PullLoad.STATS.loading && this.state.action === _PullLoad.STATS.refreshing) {\n        // console.info(\"It's same action or on loading or on refreshing \", action, this.state.action, action === this.state.action);\n        return false;\n      }\n      if (action === _PullLoad.STATS.refreshing) {\n        // 触发下拉刷新\n        console.warn('action当前值: refreshing');\n        var that = this;\n        setTimeout(function () {\n          that.handleRefresh();\n        }, 500);\n      } else if (action === _PullLoad.STATS.loading) {\n        // 触发上拉加载更多\n        console.warn('action当前值: loading');\n        var _that = this;\n        setTimeout(function () {\n          _that.handleLoadMore();\n        }, 500);\n      }\n\n      // DO NOT modify below code\n      this.setState({\n        action: action\n      });\n    }\n\n    // 退出选择\n  }, {\n    key: \"onCancelClick\",\n    value: function onCancelClick() {\n      var _this$props11 = this.props,\n        model = _this$props11.model,\n        dispatch = _this$props11.dispatch;\n      dispatch((0, _generaltreef7action.cancel)(model));\n    }\n\n    // 确认选择\n  }, {\n    key: \"onConfirmClick\",\n    value: function onConfirmClick() {\n      var _this$props12 = this.props,\n        model = _this$props12.model,\n        dispatch = _this$props12.dispatch;\n      var ids = [];\n      var itemsInfo = (0, _immutable.List)();\n      var selected = model.getDataProperty('selected') || (0, _immutable.List)();\n      selected && selected.forEach(function (item) {\n        ids.push(item.get('id'));\n        itemsInfo = itemsInfo.push(item);\n      });\n      // this.setEndSelectBasedata2Cacher(itemsInfo)\n      dispatch((0, _generaltreef7action.endSelect)(model, ids));\n    }\n\n    // 清空历史搜索记录\n  }, {\n    key: \"onClearHistoryClick\",\n    value: function onClearHistoryClick() {\n      // alert('onClearHistoryClick');\n      // let cacherData = this.getCacher(this._basedataType) || Map()\n      // cacherData = cacherData.setIn(PATH_RECENT_SEARCH_HISTORY, List())\n      // this.saveCacher(this._basedataType, cacherData)\n      // this.forceUpdate() // 强制刷新\n    }\n\n    // 删除某条历史搜索记录\n  }, {\n    key: \"onHistoryItemDelClick\",\n    value: function onHistoryItemDelClick(searchWord) {\n      // alert('delete: ' + searchWord);\n      // let cacherData = this.getCacher(this._basedataType) || Map()\n      // let historyData = cacherData.getIn(PATH_RECENT_SEARCH_HISTORY) || List()\n      // let targetIndex = historyData.findIndex(item => { return item === searchWord })\n      // if (targetIndex > -1) {\n      //   historyData = historyData.delete(targetIndex) // 删除\n      //   cacherData = cacherData.setIn(PATH_RECENT_SEARCH_HISTORY, historyData)\n      //   this.saveCacher(this._basedataType, cacherData)\n      //   this.forceUpdate() // 强制刷新\n      // }\n    }\n\n    // 保存新选择的'我的常用'数据到缓存(通过一定规则计算)\n  }, {\n    key: \"setEndSelectBasedata2Cacher\",\n    value: function setEndSelectBasedata2Cacher() {\n      var itemsInfo = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : (0, _immutable.List)();\n    } // 只处理选择了一个的情况，多个选择用来改变选择频次，不计入'我的常用'\n    // if (itemsInfo && itemsInfo.size > 0) {\n    //   let cacherData = this.getCacher(this._basedataType) || Map()\n    //   let frequentData = cacherData.getIn(PATH_RECENT_MY_FREQUENT) || List()\n    //   let id, targetIndex\n    //   if (itemsInfo.size == 1) {\n    //     // 只选了一个\n    //     let tmpItemInfo = itemsInfo.get(0)\n    //     targetIndex = frequentData.findIndex(fItem => { return fItem.get('id') === tmpItemInfo.get('id') })\n    //     if (targetIndex > -1) { // 已存在,则CONST_FREQUENCY值+1\n    //       frequentData = frequentData.setIn([targetIndex, CONST_FREQUENCY], (frequentData.getIn([targetIndex, CONST_FREQUENCY]) || 0) + 1)\n    //     } else if (frequentData.size < MaxStore_Recent_Count) { // 不存在但已保存总数<MaxStore_Recent_Count,则直接添加到队列尾部\n    //       frequentData = frequentData.push(tmpItemInfo)\n    //     } else { // 不存在且保存总数=8,则剔除最早或CONST_FREQUENCY值最小的记录，再把这条新记录添加到尾部\n    //       targetIndex = frequentData.findIndex(fItem => { return fItem.get(CONST_FREQUENCY) === undefined }) // 查找最早且CONST_FREQUENCY为空(即最小)的记录\n    //       if (targetIndex > 0) {\n    //         frequentData = frequentData.splice(targetIndex, 1)\n    //         frequentData = frequentData.push(tmpItemInfo)\n    //       } else { // 所有记录的CONST_FREQUENCY值都>0\n    //         frequentData = this.sortFrequentData(frequentData)\n    //         let lastFrequency = frequentData.getIn([frequentData.size - 1, CONST_FREQUENCY])\n    //         targetIndex = frequentData.findIndex(fItem => { return fItem.get(CONST_FREQUENCY) === lastFrequency })\n    //         if (targetIndex > -1) {\n    //           frequentData = frequentData.splice(targetIndex, 1) // 删除队列中CONST_FREQUENCY值最小且最早的那个\n    //         } else {\n    //           frequentData = frequentData.splice(frequentData.size - 1, 1) // 删除队列最后一个\n    //         }\n    //         frequentData = frequentData.push(tmpItemInfo) // 新的加到队列尾部\n    //       }\n    //     }\n    //   } else {\n    //     // 选择了多个: 则用于修改CONST_FREQUENCY，不影响已存储的数据列表本身\n    //     itemsInfo.forEach(item => {\n    //       id = item.get('id')\n    //       targetIndex = frequentData.findIndex(fItem => { return fItem.get('id') === id })\n    //       if (targetIndex > -1) { // 存在与已保存列表中\n    //         frequentData = frequentData.setIn([targetIndex, CONST_FREQUENCY], (frequentData.getIn([targetIndex, CONST_FREQUENCY]) || 0) + 1)\n    //       }\n    //     })\n    //   }\n    //   cacherData = cacherData.setIn(PATH_RECENT_MY_FREQUENT, frequentData)\n    //   this.saveCacher(this._basedataType, cacherData)\n    // }\n\n    // 获取recent信息('我的常用'/搜索'历史记录')\n    // getCacher (type) {\n    //   // 获取前端缓存数据\n    //   const userUIState = getUserUIState(this.props.model)\n    //   const cacherBaseData = userUIState.getIn(PATH_BASEDATA_ROOT.concat([type]))\n    //   return cacherBaseData\n    // }\n\n    // 保存recent信息\n    // type:基础资料类型编码, data:缓存的基础资料所有数据(不可变对象)\n    // saveCacher (type, cacherData) {\n    //   if (!type) return\n    //   setUserUIState(this.props.model.pageId, PATH_BASEDATA_ROOT.concat([type]), cacherData, true)\n    // }\n  }, {\n    key: \"onChange\",\n    value: function onChange(value) {\n      var _this$props13 = this.props,\n        model = _this$props13.model,\n        dispatch = _this$props13.dispatch;\n      // 如果显示了搜索面板，则要缓存用户输入的搜索关键字(点击软键盘上'搜索'按钮触发的)\n      // let searchValue = value\n\n      // let update = false\n      // if (this._showSearchHistoryPanel && searchValue && searchValue.trim && searchValue.trim() !== '') {\n      //   searchValue = searchValue.trim()\n      //   let cacherData = this.getCacher(this._basedataType) || Map()\n      //   let searchHistoryData = cacherData.getIn(PATH_RECENT_SEARCH_HISTORY) || List()\n      //   let targetIndex = searchHistoryData.findIndex(searchStr => { return searchStr === searchValue })\n      //   if (targetIndex < 0) { // 不存在且总数超过限制: 就删除已有的末尾那个，并把新的加到首位\n      //     if (searchHistoryData.size >= Max_Recent_Count) {\n      //       searchHistoryData = searchHistoryData.pop()\n      //     }\n      //     searchHistoryData = searchHistoryData.unshift(searchValue) // 添加到首位\n      //     update = true\n      //   } else if (targetIndex !== 0) {\n      //     // 已存在,则移动到首位\n      //     searchHistoryData = searchHistoryData.delete(targetIndex)\n      //     searchHistoryData = searchHistoryData.unshift(searchValue)\n      //   }\n      //   cacherData = cacherData.setIn(PATH_RECENT_SEARCH_HISTORY, searchHistoryData)\n      //   this.saveCacher(this._basedataType, cacherData)\n      // }\n      dispatch((0, _generaltreef7action.onChange)(model, value));\n      // update && this.forceUpdate() // 强制刷新\n    }\n\n    // 查看下一层级组织\n  }, {\n    key: \"onHandleOrgItemSelect\",\n    value: function onHandleOrgItemSelect(childOrgInfo) {\n      var _this$props14 = this.props,\n        model = _this$props14.model,\n        dispatch = _this$props14.dispatch;\n      dispatch((0, _generaltreef7action.itemSelect)(model, childOrgInfo.get('id')));\n    }\n  }, {\n    key: \"onHanldeScrollItemClick\",\n    value: function onHanldeScrollItemClick(orgId) {\n      var _this$props15 = this.props,\n        model = _this$props15.model,\n        dispatch = _this$props15.dispatch;\n      dispatch((0, _generaltreef7action.select)(model, orgId));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var model = this.props.model;\n      var style = (0, _componentutil.getCommonStyle)(model);\n      style = Object.assign({}, style, this.props.style);\n      var commonClass = (0, _componentutil.getCommonClass)(model);\n      var placeholder = model.getMetaProperty(_serverproperties.PLACE_HOLDER); // 搜索框显示的提示信息\n      var mainData = model.getDataProperty('data') || (0, _immutable.Map)(); // 主界面数据(包含config)\n      // 配置\n      var basedataType = mainData.getIn(['config', 'type']); // 基础资料类型编码\n      var hasMore = mainData.get('hasMore'); // 主界面是否还有更多数据\n      var isMulti = mainData.getIn(['config', 'isMulti']);\n      var isMust = mainData.getIn(['config', 'isMust']);\n      var title = mainData.getIn(['config', 'title', model.getUserLocale()]); // 基础资料标题名称\n      var showSearchHistoryPanel = (0, _componentutil.getComponentDataProperty)(model, 'showSearchHistory', 'showSearchHistory', 'false'); // 显示搜索历史记录\n      showSearchHistoryPanel = false; // 暂时隐藏\n      var onlyEndNode = mainData.getIn(['config', 'onlyEndNode']); // 只能选择末尾节点\n      // 搜索数据\n      var searchData = model.getDataProperty('search') || (0, _immutable.Map)(); // 搜索数据\n      var searchResultList = searchData.get('sr'); // 搜索结果列表\n      var searchHasMore = searchData.get('hasMore');\n      // 已选数据\n      var selected = model.getDataProperty('selected'); // 已选列表\n      var authorizedInfo = model.getDataProperty('authorizedInfo'); // 验权信息\n      var selectedAuthorizedData = (0, _f7Util.handleSetAuthorized)({\n        arg: authorizedInfo,\n        dataSource: selected,\n        idKey: 'id'\n      });\n      // test data\n      // selected = selected || GeneralF7List_Selected.get('selected')\n      // mainData = GeneralF7List_Data\n      // isMulti = true\n      // searchResultList = GeneralF7List_Data.getIn(['data', 'children'])\n      // placeholder = '我是测试placeholder的...'\n      // title = 'xxx基础资料'\n      // // showSearchHistoryPanel = true\n      // basedataType = 'wenqiao'\n      // onlyEndNode = true\n\n      this._isMulti = isMulti;\n      // this._basedataType = basedataType\n      this._showSearchHistoryPanel = showSearchHistoryPanel;\n      this._hasMore = hasMore;\n      // data:全部基础资料信息列表\n      return /*#__PURE__*/_react[\"default\"].createElement(_GeneralTreeF7List[\"default\"], _extends({\n        id: model.key,\n        style: style,\n        className: this.props.className,\n        isMulti: isMulti,\n        isMust: isMust,\n        onlyEndNode: onlyEndNode,\n        data: mainData,\n        selected: selectedAuthorizedData\n      }, this.props.attachData, commonClass, {\n        title: title,\n        placeholder: placeholder,\n        onHandleCheckChanged: this.onHandleCheckChanged,\n        onMainStartBtnClick: this.onMainStartBtnClick,\n        onSelectedListPanelClosed: this.onSelectedListPanelClosed,\n        hasMore: hasMore,\n        onMainLoadMoreClick: this.onMainLoadMoreClick,\n        action: this.state.action,\n        handleAction: this.handleAction,\n        onCancelClick: this.onCancelClick,\n        onConfirmClick: this.onConfirmClick,\n        onSearchClearClick: this.clearSearchResult,\n        onChange: this.onChange,\n        searchResultList: searchResultList,\n        onSearchCancelClick: this.onSearchCancelClick,\n        onSearchStartBtnClick: this.onSearchStartBtnClick,\n        searchHasMore: searchHasMore,\n        onSearchLoadMoreClick: this.onSearchLoadMoreClick,\n        showSearchHistoryPanel: showSearchHistoryPanel,\n        searchHistory: this.getHistory(basedataType),\n        onClearHistoryClick: this.onClearHistoryClick,\n        onHistoryItemDelClick: this.onHistoryItemDelClick,\n        onHandleOrgItemSelect: this.onHandleOrgItemSelect,\n        onHanldeScrollItemClick: this.onHanldeScrollItemClick,\n        onItemClearClick: this.onItemClearClick\n      }));\n    }\n  }]);\n  return KDGeneralTreeF7List;\n}(_react.Component)) || _class) || _class);\nvar _default = exports[\"default\"] = KDGeneralTreeF7List;\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/KDGeneralTreeF7List.jsx?");

/***/ }),

/***/ "./src/component/mobile/KDImageList.js":
/*!*********************************************!*\
  !*** ./src/component/mobile/KDImageList.js ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.async-iterator.js */ \"../../node_modules/core-js/modules/es.symbol.async-iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-string-tag.js */ \"../../node_modules/core-js/modules/es.symbol.to-string-tag.js\");\n__webpack_require__(/*! core-js/modules/es.array.reverse.js */ \"../../node_modules/core-js/modules/es.array.reverse.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.json.to-string-tag.js */ \"../../node_modules/core-js/modules/es.json.to-string-tag.js\");\n__webpack_require__(/*! core-js/modules/es.math.to-string-tag.js */ \"../../node_modules/core-js/modules/es.math.to-string-tag.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.join.js */ \"../../node_modules/core-js/modules/es.array.join.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.array.reduce.js */ \"../../node_modules/core-js/modules/es.array.reduce.js\");\n__webpack_require__(/*! core-js/modules/es.date.now.js */ \"../../node_modules/core-js/modules/es.date.now.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.promise.js */ \"../../node_modules/core-js/modules/es.promise.js\");\n__webpack_require__(/*! core-js/modules/es.promise.finally.js */ \"../../node_modules/core-js/modules/es.promise.finally.js\");\n__webpack_require__(/*! core-js/modules/es.set.js */ \"../../node_modules/core-js/modules/es.set.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.url.js */ \"../../node_modules/core-js/modules/web.url.js\");\n__webpack_require__(/*! core-js/modules/web.url-search-params.js */ \"../../node_modules/core-js/modules/web.url-search-params.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _global = __webpack_require__(/*! @/global */ \"./src/global/index.js\");\nvar _ImageList = _interopRequireDefault(__webpack_require__(/*! ./base/ImageList */ \"./src/component/mobile/base/ImageList.js\"));\nvar _ComposeEnhance = _interopRequireDefault(__webpack_require__(/*! ../common/ComposeEnhance */ \"./src/component/common/ComposeEnhance.js\"));\nvar _PropsComparison = _interopRequireDefault(__webpack_require__(/*! ../common/PropsComparison */ \"./src/component/common/PropsComparison.js\"));\nvar _componentutil = __webpack_require__(/*! ../../util/componentutil */ \"./src/util/componentutil.js\");\nvar _clientApi = _interopRequireDefault(__webpack_require__(/*! @/plugin/clientApi */ \"./src/plugin/clientApi.js\"));\nvar _imageUtil = __webpack_require__(/*! @/util/imageUtil.js */ \"./src/util/imageUtil.js\");\nvar _imagelistaction = __webpack_require__(/*! ../../action/imagelistaction */ \"./src/action/imagelistaction.js\");\nvar _toolUtils = __webpack_require__(/*! ../../util/toolUtils */ \"./src/util/toolUtils.js\");\nvar _serverproperties = __webpack_require__(/*! ../../constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _VisibleLockWrap = _interopRequireDefault(__webpack_require__(/*! ../common/VisibleLockWrap */ \"./src/component/common/VisibleLockWrap.js\"));\nvar _AttachDataWrap = _interopRequireDefault(__webpack_require__(/*! ../common/AttachDataWrap */ \"./src/component/common/AttachDataWrap.js\"));\nvar _memoryCacher = __webpack_require__(/*! @/model/memoryCacher.js */ \"./src/model/memoryCacher.js\");\nvar _GlobalDataCacher = __webpack_require__(/*! @/model/GlobalDataCacher */ \"./src/model/GlobalDataCacher.js\");\nvar _symbolConst = __webpack_require__(/*! @/constant/symbolConst */ \"./src/constant/symbolConst.js\");\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nvar _fieldaction = __webpack_require__(/*! @/action/fieldaction.js */ \"./src/action/fieldaction.js\");\nvar _server = __webpack_require__(/*! @/action/actionname/control/pictureMobile/server */ \"./src/action/actionname/control/pictureMobile/server/index.js\");\nvar _uid = _interopRequireDefault(__webpack_require__(/*! @/util/uid */ \"./src/util/uid.js\"));\nvar _clientEnv = _interopRequireDefault(__webpack_require__(/*! @/plugin/clientEnv.js */ \"./src/plugin/clientEnv.js\"));\nvar _requestParamsUtil = __webpack_require__(/*! @/util/requestParamsUtil */ \"./src/util/requestParamsUtil.js\");\nvar _const = __webpack_require__(/*! @/constant/const.js */ \"./src/constant/const.js\");\nvar _invokeActionUtils = __webpack_require__(/*! ../common/invokeActionUtils */ \"./src/component/common/invokeActionUtils.js\");\nvar _urlconst = __webpack_require__(/*! @/constant/urlconst */ \"./src/constant/urlconst.js\");\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _appModelFunction = __webpack_require__(/*! @/model/appModelFunction */ \"./src/model/appModelFunction.js\");\nvar _ImageListSort = __webpack_require__(/*! @/component/common/ImageListSort */ \"./src/component/common/ImageListSort.js\");\nvar _const2 = __webpack_require__(/*! @/constant/const */ \"./src/constant/const.js\");\nvar _componentutil2 = __webpack_require__(/*! @/util/componentutil */ \"./src/util/componentutil.js\");\nvar _dec, _class;\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw new Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw new Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar KDImageList = (_dec = (0, _VisibleLockWrap[\"default\"])(false), _dec(_class = (0, _AttachDataWrap[\"default\"])(_class = /*#__PURE__*/function (_React$Component) {\n  _inherits(KDImageList, _React$Component);\n  function KDImageList(props) {\n    var _this;\n    _classCallCheck(this, KDImageList);\n    _this = _callSuper(this, KDImageList, [props]);\n    _this.getImgUploadMaxSize = function () {\n      // 获取最大图片大小\n      var imgUploadMaxSize = (_this.props.model.getMetaProperty('imgUploadMaxSize') || 0) * 1024 * 1024;\n      return imgUploadMaxSize;\n    };\n    _this.getConvertSize = function () {\n      // 计算图片压缩阈值\n      var convertSize = (0, _imageUtil.getMaxSize)(_this.imgUploadMaxSize || _imageUtil.COMPRESS_IMAGE_CONVERT_SIZE);\n      return convertSize;\n    };\n    _this.revokeImgUrl = function () {\n      _this.state.imageList.forEach(function (item) {\n        var localUrl = item.get('localUrl') || '';\n        URL.revokeObjectURL(localUrl);\n      });\n    };\n    _this.showMessage = function (errMsg) {\n      var confirmData = {\n        content: errMsg,\n        icon: 'kdfont-cuowuweixian',\n        type: 5\n      };\n      (0, _GlobalDataCacher.setData)(_symbolConst.KEY_SHOW_CONFIRM_EVENT, confirmData);\n    };\n    _this.handleUploadImage = function (_ref) {\n      var value = _ref.value,\n        args = _ref.args;\n      if (value === _invokeActionUtils.AJAX_ERROR) {\n        var name = args[0][0].name;\n        _this.updateImageStatus(name, {\n          status: 'fail',\n          errorMsg: (0, _intlApi.getLangMsg)('System.key005')\n        });\n        _this.showMessage((0, _intlApi.getLangMsg)('System.key005'));\n      }\n    };\n    _this.getImageList = function () {\n      var values = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : (0, _immutable.List)();\n      var model = _this.props.model;\n      var pageId = model.pageId;\n      var _model$getFormConfig = model.getFormConfig(),\n        fileserver = _model$getFormConfig.fileserver,\n        imageurl = _model$getFormConfig.imageurl;\n      var imageList = values && values.map(function (value) {\n        var url = (0, _imageUtil.getImageUrl)({\n          fileserver: fileserver,\n          imageurl: imageurl,\n          pageId: pageId,\n          appendFileServer: true\n        }, value);\n        return (0, _immutable.Map)({\n          status: 'success',\n          uid: value.uid || (0, _componentutil2.createNewId)(),\n          // 添加唯一标识\n          url: url,\n          originUrl: value\n        });\n      });\n      return imageList;\n    };\n    _this.invokeControlMethods = function (events) {\n      events.forEach(function (event) {\n        var methodName = event.methodname,\n          args = event.args;\n        switch (methodName) {\n          case _server.SET_WATERMARK_INFOS:\n            _this.setWaterMarkInfo(args);\n            break;\n          default:\n            console.info(\"\".concat(methodName, \" is not been implemented\"));\n            break;\n        }\n      });\n    };\n    _this.setWaterMarkInfo = function (data) {\n      if (data === undefined) return;\n      var waterMarkInfos = data[0];\n      var imgSource = _this.props.model.getMetaProperty('imgSource');\n      (0, _imageUtil.convertWaterMarkInfos)(waterMarkInfos).then(function (infos) {\n        if (imgSource === 1 && _clientEnv[\"default\"].isYzj) {\n          // 图片来源：相机（调用云之家的接口，返回的数据结构跟调用原生的input:file不同）\n          var _this$imageData = _this.imageData,\n            fileExt = _this$imageData.fileExt,\n            fileData = _this$imageData.fileData;\n          var imgUrl = \"data:image/\".concat(fileExt, \";base64,\").concat(fileData); // 组装成base64格式的url\n          _this.uploadImageWithWaterMark({\n            imgUrl: imgUrl,\n            imgExt: fileExt\n          }, infos);\n        } else {\n          Array.from(_this.files).forEach(function (file) {\n            var imgUrl = URL.createObjectURL(file);\n            var imgExt = file.name.split('.').pop();\n            _this.uploadImageWithWaterMark({\n              imgUrl: imgUrl,\n              imgExt: imgExt\n            }, infos);\n          });\n        }\n      });\n    };\n    _this.uploadImageWithWaterMark = function (_ref2, infos) {\n      var imgUrl = _ref2.imgUrl,\n        imgExt = _ref2.imgExt;\n      (0, _imageUtil.setWaterMark)(imgUrl, infos, function (blob) {\n        (0, _imageUtil.compressImg)(blob, {\n          convertSize: _this.convertSize\n        }).then(function (imgData) {\n          var formData = new window.FormData();\n          var imgName = \"\".concat((0, _uid[\"default\"])(12), \".\").concat(imgExt);\n          var downloadParams = (0, _requestParamsUtil.getRequestParams)(_this.props.model);\n          formData.append('file1', imgData, imgName);\n          formData.append('url', 'imglist/' + imgName);\n          Object.keys(downloadParams).forEach(function (key) {\n            if (downloadParams[key]) {\n              formData.append(key, downloadParams[key]);\n            }\n          });\n          var _imgUrl = URL.createObjectURL(imgData);\n          _this.addImageToState(imgName, _imgUrl);\n          _this.uploadImage(formData);\n        });\n      });\n    };\n    _this.formatUploadUrl = function (url) {\n      if (url && typeof url === 'string') {\n        var length = url.length;\n        var isFormated = url.charAt(length - 1) === '/';\n        if (isFormated) {\n          url = url.substring(0, length - 1);\n        }\n      } else {\n        url = '';\n      }\n      return url;\n    };\n    _this.getUploadUrl = function () {\n      var model = _this.props.model;\n      var _model$getFormConfig2 = model.getFormConfig(),\n        mobdomainurl = _model$getFormConfig2.mobdomainurl; // 移动端通过设置config来改变图片上传地址\n      mobdomainurl = _this.formatUploadUrl(mobdomainurl);\n      var context = mobdomainurl || (0, _toolUtils.getContextPath)();\n      var uploadUrl = \"\".concat(context, \"/\").concat(_urlconst.IMAGE_SERVER_URL, \"?thumbparam=[{\\\"scale\\\":\\\"0.20\\\",\\\"thumbnailsTag\\\":\\\"moblieImageList\\\"}]\");\n      return uploadUrl;\n    };\n    _this.addImageToState = function (name, imgUrl) {\n      var item = (0, _immutable.Map)({\n        status: 'uploading',\n        url: imgUrl,\n        localUrl: imgUrl,\n        name: name,\n        uid: (0, _componentutil2.createNewId)() // 添加唯一标识\n      });\n      var newImageList = _this.state.imageList.push(item);\n      _this.setState({\n        imageList: newImageList\n      }, function () {\n        (0, _imageUtil.addUploadingImgNum)(_this.props.model.pageId);\n      });\n    };\n    _this.uploadImage = function (result) {\n      var uploadUrl = _this.getUploadUrl();\n      var name = (0, _imageUtil.getImageName)(result);\n      _this.updatePostData(name, true);\n      var promise = (0, _imageUtil.postImg)(uploadUrl, result).then(function (data) {\n        _this.updatePostData(name, false);\n        if (data.status === 'success') {\n          var _this$props = _this.props,\n            model = _this$props.model,\n            dispatch = _this$props.dispatch;\n          var url = data.url;\n          dispatch((0, _imagelistaction.uploadImgPc)(model, [{\n            url: url,\n            name: data.filename\n          }]));\n          _this.updateImageStatus(name, {\n            status: 'success',\n            url: url\n          });\n        } else if (data.status === 'error') {\n          var confirmData = {\n            msg: data.description\n          };\n          (0, _GlobalDataCacher.setData)(_symbolConst.KEY_SHOW_CONFIRM_EVENT, confirmData);\n          _this.updateImageStatus(name, {\n            status: 'fail',\n            errorMsg: data.description,\n            formData: result\n          });\n        } else if (data.message === 'Failed to fetch') {\n          _this.showMessage((0, _intlApi.getLangMsg)('Picture.key0004'));\n          _this.updateImageStatus(name, {\n            status: 'fail',\n            errorMsg: (0, _intlApi.getLangMsg)('Picture.key0004'),\n            formData: result\n          });\n        } else {\n          console.log('uploadImgToFileServer fail!', data);\n        }\n      })[\"finally\"](function () {\n        var pageId = _this.props.model.pageId;\n        (0, _imageUtil.reduceUploadingImgNum)(pageId);\n      });\n      var item = (0, _immutable.Map)({\n        imgName: name,\n        promise: promise\n      });\n      _this.uploadPromise = _this.uploadPromise.push(item);\n    };\n    _this.updatePostData = function (imgName, isAdd) {\n      var uid = imgName;\n      if (uid.includes('.')) {\n        uid = uid.split('.')[0];\n      }\n      isAdd ? _this.uidSet.add(uid) : _this.uidSet[\"delete\"](uid);\n      var _this$props$model = _this.props.model,\n        pageId = _this$props$model.pageId,\n        key = _this$props$model.key;\n      var uploading = Array.from(_this.uidSet).map(function (uid) {\n        return {\n          uid: uid\n        };\n      });\n      (0, _appModelFunction.setControlPostValue)(pageId, key, [{\n        uploading: uploading\n      }])((0, _global.getGlobalState)());\n    };\n    // 上传前检测图片张数、图片类型\n    _this.checkBeforeUpload = function (files) {\n      var model = _this.props.model;\n      var maxImgNum = model.getMetaProperty('maximgsize');\n      var uploadedImgNum = _this.state.imageList.size;\n      var filesNum = files.length;\n      if (maxImgNum > -1 && uploadedImgNum + filesNum > maxImgNum) {\n        var confirmData = {\n          msg: (0, _intlApi.getLangMsg)({\n            key: 'ImageList.key0001',\n            variables: {\n              maxImgNum: maxImgNum\n            }\n          })\n        };\n        (0, _GlobalDataCacher.setData)(_symbolConst.KEY_SHOW_CONFIRM_EVENT, confirmData);\n        return false;\n      }\n      var unavailableImgs = Array.from(files).reduce(function (result, file) {\n        var fileName = file.name || '';\n        var fileSuffix = fileName.split('.').pop();\n        if (!_const.ALLOWED_IMAGES.extensions.includes(\".\".concat(fileSuffix.toLowerCase()))) {\n          result.push(fileName);\n        }\n        return result;\n      }, []);\n      if (unavailableImgs.length > 0) {\n        var _confirmData = {\n          msg: (0, _intlApi.getLangMsg)({\n            key: 'ImageList.key0004',\n            variables: {\n              unavailableImage: unavailableImgs.join('、')\n            }\n          })\n        };\n        (0, _GlobalDataCacher.setData)(_symbolConst.KEY_SHOW_CONFIRM_EVENT, _confirmData);\n        return false;\n      }\n      return true;\n    };\n    _this.inputFileChange = function (files) {\n      if (!_this.checkBeforeUpload(files)) return;\n      var _this$props2 = _this.props,\n        model = _this$props2.model,\n        dispatch = _this$props2.dispatch;\n      var showWaterMark = model.getMetaProperty('showWaterMark');\n      // const showWaterMark = true\n      if (showWaterMark) {\n        _this.files = files;\n        dispatch((0, _fieldaction.getWaterMarkInfos)(model));\n        // const mockData = [{ mainInfo: '主要信息', subInfo: ['辅助信息1', '辅助信息2', '辅助信息3', '辅助信息4'], needLocation: true }]\n        // this.setWaterMarkInfo(mockData)\n      } else {\n        var styles = window.getComputedStyle(document.body);\n        var newWebkitHasFixedProtraitOrientaion = styles.getPropertyValue('image-orientation') === 'from-image';\n        var compressImgAndUpload = function compressImgAndUpload(file, imgUrl) {\n          (0, _imageUtil.compressImg)(file, {\n            convertSize: _this.convertSize\n          }).then(function (imageData) {\n            var _checkPictureComplian = (0, _imageUtil.checkPictureCompliance)(imageData, {\n                maxSize: _this.imgUploadMaxSize\n              }),\n              status = _checkPictureComplian.status,\n              type = _checkPictureComplian.type,\n              content = _checkPictureComplian.content;\n            if (!status && type === 'size') {\n              (0, _imageUtil.pictureVerifyNotify)([content]);\n              return;\n            }\n            var formData = (0, _imageUtil.creatFormDataByH5)(imageData, model);\n            _this.uploadImage(formData);\n            var name = (0, _imageUtil.getImageName)(formData);\n            _this.addImageToState(name, imgUrl);\n          });\n        };\n        var imgFiles = [];\n        Array.from(files).forEach(function (file) {\n          var imgUrl = URL.createObjectURL(file);\n          imgFiles.push({\n            file: file,\n            imgUrl: imgUrl\n          });\n        });\n        // 批量处理上传图片，防止闪退\n        (0, _imageUtil.correctImageDirections)({\n          files: imgFiles,\n          isReject: false,\n          imgLoadErrorCallback: _this.onImageLoadError,\n          newWebkitHasFixedProtraitOrientaion: newWebkitHasFixedProtraitOrientaion\n        }, function (result, file) {\n          compressImgAndUpload(result, file.imgUrl);\n        });\n      }\n    };\n    _this.onImageLoadError = function () {\n      var msg = (0, _intlApi.getLangMsg)('image.key0014');\n      _this.showMessage(msg);\n    };\n    _this.handleUpload = function () {\n      var type = {};\n      type.type = 'camera';\n      // let imgSource = this.props.model.getMetaProperty('imgSource')\n      // if (imgSource == 1) {\n      //   type.type = 'camera'\n      // } else if (imgSource == 2) {\n      //   type.type = 'photo'\n      // }\n      (0, _clientApi[\"default\"])('selectPic', {\n        data: type,\n        callback: function callback(result) {\n          var _this$props3 = _this.props,\n            model = _this$props3.model,\n            dispatch = _this$props3.dispatch;\n          var showWaterMark = model.getMetaProperty('showWaterMark');\n          // const showWaterMark = true\n          if (showWaterMark) {\n            _this.imageData = result;\n            dispatch((0, _fieldaction.getWaterMarkInfos)(model));\n            // test\n            // const mockData = [{ mainInfo: '主要信息', subInfo: ['辅助信息1', '辅助信息2', '辅助信息3', '辅助信息4'], needLocation: true }]\n            // this.setWaterMarkInfo(mockData)\n          } else {\n            var fileExt = result.fileExt,\n              fileData = result.fileData;\n            var file = (0, _imageUtil.dataURItoBlob)(fileData, fileExt);\n            (0, _imageUtil.compressImg)(file, {\n              convertSize: _this.convertSize\n            }).then(function (imgData, isCompressed) {\n              var _checkPictureComplian2 = (0, _imageUtil.checkPictureCompliance)(imgData, {\n                  maxSize: _this.imgUploadMaxSize\n                }),\n                status = _checkPictureComplian2.status,\n                type = _checkPictureComplian2.type,\n                content = _checkPictureComplian2.content;\n              if (!status && type === 'size') {\n                (0, _imageUtil.pictureVerifyNotify)([content]);\n                return;\n              }\n              var formData, imgUrl;\n              if (isCompressed === false) {\n                // 未压缩\n                formData = (0, _imageUtil.creatFormData)(result, model);\n                imgUrl = \"data:image/\".concat(fileExt, \";base64,\").concat(fileData);\n              } else {\n                formData = (0, _imageUtil.creatFormDataByH5)(imgData, model);\n                imgUrl = URL.createObjectURL(imgData);\n              }\n              _this.uploadImage(formData);\n              var name = (0, _imageUtil.getImageName)(formData);\n              _this.addImageToState(name, imgUrl);\n            });\n          }\n        }\n      });\n    };\n    _this.removeImg = function (index) {\n      var _this$state$imageList, _this$state$imageList2;\n      var _this$props4 = _this.props,\n        model = _this$props4.model,\n        dispatch = _this$props4.dispatch;\n      var thumbparam = [{\n        scale: '0.20',\n        thumbnailsTag: 'moblieImageList'\n      }];\n      var url = (_this$state$imageList = (_this$state$imageList2 = _this.state.imageList).getIn) === null || _this$state$imageList === void 0 ? void 0 : _this$state$imageList.call(_this$state$imageList2, [index, 'originUrl']);\n      dispatch((0, _imagelistaction.removeImage)(model, [{\n        index: index,\n        url: url,\n        thumbparam: thumbparam\n      }]));\n      var imageList = _this.state.imageList.filter(function (item, ind) {\n        return ind !== index;\n      });\n      _this.setState({\n        imageList: imageList\n      });\n    };\n    _this.handleRemove = function (index) {\n      var img = _this.state.imageList.get(index);\n      var imgName = img.get('name');\n      var status = img.get('status');\n      if (status === 'fail') {\n        _this.removeImg(index);\n      } else {\n        var _promiseList$get;\n        var promiseList = _this.uploadPromise.filter(function (promise) {\n          return promise.get('imgName') === imgName;\n        });\n        var imgUploadPromise = (_promiseList$get = promiseList.get(0)) === null || _promiseList$get === void 0 ? void 0 : _promiseList$get.get('promise');\n        if (imgUploadPromise) {\n          imgUploadPromise.then(function () {\n            _this.removeImg(index);\n          });\n        } else {\n          _this.removeImg(index);\n        }\n      }\n    };\n    _this.requestPreviewUrl = function (targetUrls) {\n      return new Promise(function (resolve) {\n        var _this$props$model2 = _this.props.model,\n          pageId = _this$props$model2.pageId,\n          key = _this$props$model2.key;\n        var removeDirectivesListener = (0, _memoryCacher.subscribeControlMethod)(pageId, key, _server.SET_IMAGE_FREE_URL, function (pageData) {\n          removeDirectivesListener && removeDirectivesListener();\n          if (pageData === undefined) {\n            return;\n          }\n          var data = pageData[0] && pageData[0].args[0];\n          resolve(data);\n        });\n        _this.props.dispatch && _this.props.dispatch((0, _imagelistaction.getPreviewUrlNoLogin)(_this.props.model, targetUrls));\n      });\n    };\n    _this.getImagePreviewUrl = /*#__PURE__*/function () {\n      var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(data) {\n        var current, urls, requestUrls, newPreUrlsMap, now, previewUrlResults, time;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              current = data.current, urls = data.urls; // 需要请求的url列表\n              requestUrls = []; // 建立新的缓存对象\n              newPreUrlsMap = {}; // 当前时间\n              now = Date.now(); // 遍历urls\n              urls.forEach(function (url) {\n                if (!_this.preUrlsMap[url] || _this.preUrlsMap[url].time < now - 25 * 60 * 1000) {\n                  requestUrls.push(url);\n                  return;\n                }\n                newPreUrlsMap[url] = _this.preUrlsMap[url];\n              });\n              if (!(requestUrls.length > 0)) {\n                _context.next = 11;\n                break;\n              }\n              _context.next = 8;\n              return _this.requestPreviewUrl(requestUrls);\n            case 8:\n              previewUrlResults = _context.sent;\n              time = Date.now();\n              requestUrls.forEach(function (url, i) {\n                newPreUrlsMap[url] = {\n                  url: previewUrlResults[i],\n                  time: time\n                };\n              });\n            case 11:\n              _this.preUrlsMap = newPreUrlsMap;\n              _this.priviewFun(current, urls);\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }));\n      return function (_x) {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n    _this.priviewFun = function (current, urls) {\n      var imgPreUrls = urls.map(function (url) {\n        return _this.preUrlsMap[url].url;\n      });\n      var data = {\n        current: _this.preUrlsMap[current].url,\n        urls: imgPreUrls\n      };\n      console.warn(imgPreUrls);\n      (0, _clientApi[\"default\"])('previewImage', {\n        data: data\n      });\n    };\n    _this.handleReUpload = function (index) {\n      var imageListFilter = _this.state.imageList.filter(function (image, i) {\n        return index === i;\n      });\n      var imageState = imageListFilter.get(0);\n      if (imageState) {\n        var name = imageState.get('name');\n        var formData = imageState.get('formData');\n        _this.updateImageStatus(name, {\n          status: 'uploading'\n        });\n        _this.uploadImage(formData);\n      }\n    };\n    _this.dragImage = function (data) {\n      var startIndex = data.startIndex,\n        destinationIndex = data.destinationIndex;\n      var _this$props5 = _this.props,\n        dispatch = _this$props5.dispatch,\n        model = _this$props5.model;\n      dispatch((0, _imagelistaction.dragImg)(model, {\n        startIndex: startIndex,\n        destinationIndex: destinationIndex\n      }));\n      var newList = (0, _ImageListSort.arrayInsertBefore)(_this.state.imageList.toJS(), startIndex, destinationIndex);\n      _this.setState({\n        imageList: (0, _immutable.fromJS)(newList)\n      });\n    };\n    _this.state = {\n      imageList: (0, _immutable.List)(),\n      uploadFinish: false // 用于标记图片是否全部上传完成\n    };\n    _this.preUrlsMap = {};\n    _this.uploadPromise = (0, _immutable.List)();\n    _this.throttleRremove = _lodash[\"default\"].throttle(_this.handleRemove, 300);\n    _this.uidSet = new Set();\n    return _this;\n  }\n  _createClass(KDImageList, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n      var model = this.props.model;\n      var pageId = model.pageId,\n        key = model.key;\n      var values = model.getDataValue();\n      var imageList = this.getImageList(values);\n      this.setState({\n        imageList: imageList\n      });\n      this.imgUploadMaxSize = this.getImgUploadMaxSize();\n      this.convertSize = this.getConvertSize();\n      this.removeDirectivesListener = (0, _memoryCacher.subscribeControlMethod)(pageId, key, 'directives', function (pageData) {\n        if (pageData === undefined) {\n          return;\n        }\n        _this2.invokeControlMethods(pageData);\n      });\n      this.removeUploadAjaxListener = (0, _invokeActionUtils.addAjaxStateListener)(pageId, key, 'upload', this.handleUploadImage);\n      this.removeUploadedListener = (0, _memoryCacher.addDataChangeListener)(pageId, [_const2.UPLOADING_FILE], function (pageData) {\n        if (pageData === undefined) {\n          return;\n        }\n        _this2.setState({\n          uploadFinish: pageData === 0\n        });\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this === null || this === void 0 || this.removeDirectivesListener();\n      this === null || this === void 0 || this.removeUploadAjaxListener();\n      this.revokeImgUrl();\n      this.removeUploadedListener();\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      var model = this.props.model;\n      var nextModel = nextProps.model;\n      if (!(0, _immutable.is)(nextModel.getDataValue(), model.getDataValue())) {\n        var values = nextModel.getDataValue();\n        var imageList = this.getImageList(values);\n        this.setState({\n          imageList: imageList,\n          uploadFinish: true\n        });\n      }\n      this.imgUploadMaxSize = this.getImgUploadMaxSize();\n      this.convertSize = this.getConvertSize();\n    }\n  }, {\n    key: \"_getLocked\",\n    value: function _getLocked() {\n      return this.props.getLocked(this.props.model);\n    }\n  }, {\n    key: \"updateImageStatus\",\n    value: function updateImageStatus(name, _ref4) {\n      var _this3 = this;\n      var status = _ref4.status,\n        url = _ref4.url,\n        errorMsg = _ref4.errorMsg,\n        formData = _ref4.formData;\n      var newImageList = this.state.imageList.map(function (image) {\n        if (image.get('name') === name) {\n          image = image.set('status', status);\n          image = image.set('originUrl', url);\n          if (url) {\n            var _this3$props$model$ge = _this3.props.model.getFormConfig(),\n              fileserver = _this3$props$model$ge.fileserver,\n              imageurl = _this3$props$model$ge.imageurl;\n            var pageId = _this3.props.model.pageId;\n            var newUrl = (0, _imageUtil.getImageUrl)({\n              fileserver: fileserver,\n              imageurl: imageurl,\n              pageId: pageId,\n              appendFileServer: true\n            }, url);\n            image = image.set('url', newUrl);\n          }\n          if (errorMsg) {\n            image = image.set('errorMsg', errorMsg);\n          }\n          if (formData) {\n            image = image.set('formData', formData);\n          }\n        }\n        return image;\n      });\n      this.setState({\n        imageList: newImageList\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var model = this.props.model;\n      // let {Grow,Shrink} = getCommonClass(model);\n      var style = (0, _componentutil.getCommonStyle)(model);\n      var imgSource = model.getMetaProperty('imgSource');\n\n      // let lock = this._getLock(model);\n      style = (0, _componentutil.getVisibleStyle)(style, (0, _componentutil.getVisible)(model));\n      var multiImg = model.getMetaProperty('multiImg');\n      var uploadImg = model.getMetaProperty('uploadImg');\n      var maxImgSize = model.getMetaProperty('maximgsize');\n      var colNum = model.getMetaProperty('colnum'); // 展示列数\n      maxImgSize = maxImgSize === -1 || !maxImgSize ? -1 : maxImgSize;\n      var showTitle = model.getMetaProperty(_serverproperties.DISPLAY_TITLE) || false;\n      var caption = model.getMetaLocaleProperty('caption');\n      var slot = /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        \"data-slot\": \"tips\",\n        \"data-page-id\": model.pageId,\n        \"data-ctrl-id\": model.key,\n        style: {\n          display: 'none'\n        }\n      });\n      return /*#__PURE__*/_react[\"default\"].createElement(_ImageList[\"default\"], _extends({\n        style: style,\n        showUploadIcon: uploadImg,\n        onUpload: this.handleUpload,\n        inputChange: this.inputFileChange,\n        items: this.state.imageList,\n        onRemove: this.throttleRremove,\n        locked: this._getLocked(),\n        maxImgSize: maxImgSize,\n        imgSource: imgSource,\n        multiImg: multiImg,\n        colNum: colNum,\n        getImagePreviewUrl: this.getImagePreviewUrl,\n        showTitle: showTitle,\n        title: caption,\n        slot: slot,\n        handleReUpload: this.handleReUpload,\n        dragImage: this.dragImage,\n        uploadFinish: this.state.uploadFinish\n      }, this.props.attachData));\n    }\n  }]);\n  return KDImageList;\n}(_react[\"default\"].Component)) || _class) || _class);\nvar _default = exports[\"default\"] = (0, _ComposeEnhance[\"default\"])(_PropsComparison[\"default\"])(KDImageList);\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/KDImageList.js?");

/***/ }),

/***/ "./src/component/mobile/KDOrgList.js":
/*!*******************************************!*\
  !*** ./src/component/mobile/KDOrgList.js ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.find-index.js */ \"../../node_modules/core-js/modules/es.array.find-index.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.splice.js */ \"../../node_modules/core-js/modules/es.array.splice.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _f7action = __webpack_require__(/*! ../../action/f7action */ \"./src/action/f7action.js\");\nvar _OrganizationF = _interopRequireDefault(__webpack_require__(/*! ./base/OrganizationF7 */ \"./src/component/mobile/base/OrganizationF7.js\"));\nvar _clientApi = _interopRequireDefault(__webpack_require__(/*! @/plugin/clientApi */ \"./src/plugin/clientApi.js\"));\nvar _appModelFunction = __webpack_require__(/*! ../../model/appModelFunction */ \"./src/model/appModelFunction.js\");\nvar _action = __webpack_require__(/*! @/action/action */ \"./src/action/action.js\");\nvar _VisibleLockWrap = _interopRequireDefault(__webpack_require__(/*! ../common/VisibleLockWrap */ \"./src/component/common/VisibleLockWrap.js\"));\nvar _AttachDataWrap = _interopRequireDefault(__webpack_require__(/*! ../common/AttachDataWrap */ \"./src/component/common/AttachDataWrap.js\"));\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nvar _dec, _class;\n/**\r\n * 组织列表\r\n */\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n// test data\nvar OrgPrincipalsData = {\n  // 配置项\n  config: {\n    isMulti: false,\n    // 是否多选，默认单选\n    title: {\n      zh_CN: '费用组织信息',\n      en_US: 'feiyongzuzhixinxi',\n      zh_TW: '费用zuzhixinxi'\n    } // 主标题\n  },\n  name: '金蝶国际软件集团有限公司',\n  id: '01',\n  hp: false,\n  hc: true,\n  // principals:[{headurl:'http://kdweibo.com/space/c/photo/load?id=577f6f15e4b0f5f5ad0d7f46',name:'王富豪',position:'总裁',id:'3233'},{headurl:'http://kdweibo.com/space/c/photo/load?id=577f6f15e4b0f5f5ad0d7f46',name:'李二妞',position:'总裁助理',id:'3232'}],\n  orgs: [{\n    name: '金蝶集团',\n    id: '585850',\n    hc: true,\n    hp: true,\n    orgs: [{\n      name: 'NextCloudERP-二级部门',\n      id: '585855',\n      // principals:[{headurl:'http://kdweibo.com/space/c/photo/load?id=577f6f15e4b0f5f5ad0d7f46',name:'王五',position:'总裁助理',id:'3232'}],\n      orgs: [{\n        name: '1-三级部门',\n        id: '24',\n        hc: false,\n        hp: true,\n        // principals:[],\n        orgs: []\n      }, {\n        name: '2-三级部门',\n        id: '25',\n        hc: false,\n        hp: true,\n        // principals:[],\n        orgs: []\n      }, {\n        name: '3-三级部门',\n        id: '26',\n        hc: false,\n        hp: true,\n        // principals:[],\n        orgs: []\n      }]\n    }, {\n      name: '财务部-二级部门',\n      id: '585856',\n      hc: true,\n      hp: true,\n      // principals:[{headurl:'http://kdweibo.com/space/c/photo/load?id=577f6f15e4b0f5f5ad0d7f46',name:'王五',position:'员工',id:'3242'}],\n      orgs: [{\n        name: '4-三级部门',\n        id: '27',\n        hc: false,\n        hp: true,\n        // principals:[],\n        orgs: []\n      }]\n    }]\n  }, {\n    name: '后勤部门',\n    id: '585851',\n    hc: false,\n    hp: true,\n    // principals:[{headurl:'http://kdweibo.com/space/c/photo/load?id=577f6f15e4b0f5f5ad0d7f46',name:'11',position:'程序员',id:'3232'}],\n    orgs: []\n  }, {\n    name: '友商平台',\n    id: '585852',\n    hc: false,\n    hp: true,\n    // principals:[{headurl:'http://kdweibo.com/space/c/photo/load?id=577f6f15e4b0f5f5ad0d7f46',name:'33',position:'软件工程师',id:'3234'}],\n    orgs: []\n  }, {\n    name: '大数据平台',\n    id: '585853',\n    hc: false,\n    hp: true,\n    // principals:[{headurl:'http://kdweibo.com/space/c/photo/load?id=577f6f15e4b0f5f5ad0d7f46',name:'55',position:'测试',id:'3236'}],\n    orgs: []\n  }, {\n    name: '神秘部门',\n    id: '585854',\n    hc: false,\n    hp: true,\n    // principals:[{headurl:'http://kdweibo.com/space/c/photo/load?id=577f6f15e4b0f5f5ad0d7f46',name:'66',position:'产品经理',id:'3238'}],\n    orgs: []\n  }]\n};\nOrgPrincipalsData = (0, _immutable.fromJS)(OrgPrincipalsData);\n\n// 负责人模型\nvar Principal_Model = {\n  headurl: 'http://kdweibo.com/space/c/photo/load?id=577f6f15e4b0f5f5ad0d7f46',\n  // 头像网络地址\n  name: '张三',\n  position: '员工',\n  // 职位\n  userId: '28218' // 员工id\n};\n\n// 组织模型\nvar OrgInfo_Model = {\n  name: '金蝶集团',\n  orgId: '223514' // 组织编码\n};\nvar KDOrgList = (_dec = (0, _VisibleLockWrap[\"default\"])(true), _dec(_class = (0, _AttachDataWrap[\"default\"])(_class = /*#__PURE__*/function (_React$Component) {\n  _inherits(KDOrgList, _React$Component);\n  function KDOrgList(props) {\n    var _this;\n    _classCallCheck(this, KDOrgList);\n    _this = _callSuper(this, KDOrgList, [props]);\n    // 将选中的组织发送请求给后端\n    _this._selectOrgs = function (orgIds) {\n      var _this$props = _this.props,\n        model = _this$props.model,\n        dispatch = _this$props.dispatch;\n      dispatch((0, _f7action.endSelect)(model, orgIds));\n    };\n    _this._handleOrgItemClick = function (org) {\n      var selectedOrgs = _this.state.selectedOrgs;\n      var orgId = org.get('id');\n      if (_this.isMulti) {\n        var index = selectedOrgs.findIndex(function (item) {\n          return item.get('id') === orgId;\n        });\n        var newSelectedUsers = (0, _immutable.List)();\n        if (index > -1) {\n          newSelectedUsers = selectedOrgs.splice(index, 1);\n        } else {\n          newSelectedUsers = selectedOrgs.push(org);\n        }\n        _this.setState({\n          selectedOrgs: newSelectedUsers\n        });\n      } else {\n        _this._selectOrgs((0, _immutable.List)([orgId]));\n      }\n    };\n    _this._deleteSelectedOrg = function (orgId) {\n      var selectedOrgs = _this.state.selectedOrgs;\n      var index = selectedOrgs.findIndex(function (item) {\n        return item.get('id') === orgId;\n      });\n      var newSelectedUsers = selectedOrgs[\"delete\"](index);\n      _this.setState({\n        selectedOrgs: newSelectedUsers\n      });\n    };\n    _this._queryOrgChildren = function (orgId) {\n      var _this$props2 = _this.props,\n        model = _this$props2.model,\n        dispatch = _this$props2.dispatch;\n      dispatch((0, _f7action.queryOrgChildren)(model, orgId));\n    };\n    // 关闭弹出该控件的动态表单\n    _this._closeForm = function () {\n      var _this$props3 = _this.props,\n        model = _this$props3.model,\n        dispatch = _this$props3.dispatch;\n      dispatch((0, _action.closeForm)(model.pageId));\n    };\n    _this.state = {\n      selectedOrgs: (0, _immutable.List)(),\n      searchWord: ''\n    };\n    // 是否云之家模式(true:调云之家选择, false:调db数据选择)\n    _this._isYzjModel = false;\n    return _this;\n  }\n  _createClass(KDOrgList, [{\n    key: \"onHandleCloseClick\",\n    value:\n    // 关闭\n    function onHandleCloseClick(e) {\n      this._closeForm();\n    }\n\n    // 开始按钮\n  }, {\n    key: \"onHandleStartBtnClick\",\n    value: function onHandleStartBtnClick(orgs) {\n      var _this$props4 = this.props,\n        model = _this$props4.model,\n        dispatch = _this$props4.dispatch;\n      dispatch((0, _f7action.endSelect)(model, orgs));\n    }\n  }, {\n    key: \"onItemClearClick\",\n    value: function onItemClearClick() {\n      var _this$props5 = this.props,\n        model = _this$props5.model,\n        dispatch = _this$props5.dispatch;\n      dispatch((0, _f7action.endSelect)(model, []));\n    }\n  }, {\n    key: \"onHandleOrgItemSelect\",\n    value:\n    // 查看下一层级组织\n    function onHandleOrgItemSelect(childOrgId) {\n      var _this$props6 = this.props,\n        model = _this$props6.model,\n        dispatch = _this$props6.dispatch;\n      dispatch((0, _f7action.queryOrgChildren)(model, childOrgId));\n    }\n\n    // 查看上一层级组织\n  }, {\n    key: \"onHandleOrgItemBack\",\n    value: function onHandleOrgItemBack(parentOrgId) {\n      var _this$props7 = this.props,\n        model = _this$props7.model,\n        dispatch = _this$props7.dispatch;\n      dispatch((0, _f7action.queryOrgParent)(model, parentOrgId));\n    }\n\n    // 单击单个用户\n    // onHandleUserClick(userId){\n    // \tthis.props.itemClick(this.props.model,[userId]);\n    // }\n  }, {\n    key: \"onHanldeScrollItemClick\",\n    value: function onHanldeScrollItemClick(orgId) {\n      var _this$props8 = this.props,\n        model = _this$props8.model,\n        dispatch = _this$props8.dispatch;\n      dispatch((0, _f7action.queryOrg)(model, orgId));\n    }\n\n    // 搜素\n  }, {\n    key: \"onSearchInfoChange\",\n    value: function onSearchInfoChange(searchWord) {\n      var _this$props9 = this.props,\n        model = _this$props9.model,\n        dispatch = _this$props9.dispatch;\n      var pageId = model.pageId,\n        key = model.key;\n      dispatch((0, _appModelFunction.convertAppModelFunctionAction)((0, _appModelFunction.setDataProperty)(pageId, key, ['isSearching'], true)));\n      dispatch((0, _f7action.getLookUpList)(model, searchWord));\n      this.setState({\n        searchWord: searchWord\n      });\n    }\n\n    // 调用云之家选人界面\n  }, {\n    key: \"InvokeSelectOrgsByYzj\",\n    value: function InvokeSelectOrgsByYzj() {\n      var _this2 = this;\n      var configData = {\n        isMulti: false\n      };\n      (0, _clientApi[\"default\"])('selectOrgs', {\n        data: configData,\n        callback: function callback(result) {\n          console.log('回调开始执行: 云之家API,选择组织.');\n          var orgs = [];\n          result.orgs.forEach(function (item) {\n            orgs.push(item.orgId);\n          });\n          _this2.onHandleStartBtnClick(orgs);\n        },\n        failCallback: function failCallback(result) {\n          console.error(\"\\u64CD\\u4F5C\\u5931\\u8D25,\\u9519\\u8BEF\\u7801\\u4E3A:\".concat(result.errorCode, \",\\u9519\\u8BEF\\u4FE1\\u606F\\u4E3A:\").concat(result.error));\n        }\n      });\n    }\n  }, {\n    key: \"renderYzj\",\n    value: function renderYzj() {\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", null, /*#__PURE__*/_react[\"default\"].createElement(\"span\", null, \"yunzhijia.com\"), /*#__PURE__*/_react[\"default\"].createElement(\"span\", null, (0, _intlApi.getLangMsg)('KDOrgList.key001')));\n    }\n  }, {\n    key: \"renderLocal\",\n    value: function renderLocal() {\n      var model = this.props.model;\n      var meta = model.meta;\n      var orgDatas = model.getDataValue();\n      var srDatas = model.getDataProperty('sr'); // 搜索结果\n      var isSearching = model.getDataProperty('isSearching');\n      // test data\n      // orgDatas = OrgPrincipalsData\n      var initOrgHistory = model.getDataProperty('initOrgHistory'); // 初始组织历史记录(层级)\n\n      return /*#__PURE__*/_react[\"default\"].createElement(_OrganizationF[\"default\"], {\n        orgDatas: orgDatas,\n        id: meta.get('id'),\n        onHandleCloseClick: this.onHandleCloseClick.bind(this),\n        onHandleOrgItemBack: this.onHandleOrgItemBack.bind(this),\n        onHandleOrgItemSelect: this.onHandleOrgItemSelect.bind(this),\n        onHandleStartBtnClick: this.onHandleStartBtnClick.bind(this),\n        onHanldeScrollItemClick: this.onHanldeScrollItemClick.bind(this),\n        srDatas: this.state.searchWord === '' ? (0, _immutable.List)() : srDatas,\n        onSearchInfoChange: this.onSearchInfoChange.bind(this),\n        initOrgHistory: initOrgHistory,\n        local: model.getUserLocale(),\n        onItemClearClick: this.onItemClearClick.bind(this),\n        selectedOrgs: this.state.selectedOrgs,\n        selectOrgs: this._selectOrgs,\n        handleOrgItemClick: this._handleOrgItemClick,\n        deleteSelectedOrg: this._deleteSelectedOrg,\n        queryOrgChildren: this._queryOrgChildren,\n        isSearching: isSearching\n      });\n    }\n  }, {\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      // if(this._isYzjModel){\n      // this.InvokeSelectPersonsByYzj();\n      // }\n\n      var model = this.props.model;\n      // 设置忙时提醒\n      this.props.dispatch((0, _appModelFunction.convertAppModelFunctionAction)((0, _appModelFunction.setCtlMetaProperty)(model.pageId, model.key, 'busyTip', {\n        zh_CN: (0, _intlApi.getLangMsg)('KDOrgList.key002')\n      })));\n      // //默认打开的组织页面\n      // let initOrgId = model.getDataProperty('initOrgId')||'';\n      // //组件渲染完成，自动请求根组织信息\n      // setTimeout(()=>{\n      // this.onHandleOrgItemSelect(initOrgId);\n      // },100);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var model = this.props.model;\n      var initOrgId = model.getDataProperty('initOrgId');\n      if (initOrgId !== undefined) {\n        this.onHandleOrgItemSelect(initOrgId);\n      }\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      var oldInitOrgId = this.props.model.getDataProperty('initOrgId');\n      var newInitOrgId = nextProps.model.getDataProperty('initOrgId');\n      if (oldInitOrgId === undefined && newInitOrgId !== oldInitOrgId) {\n        // 只在第一次设置时请求一次\n        this.onHandleOrgItemSelect(newInitOrgId);\n        console.log('org: init to request data');\n      }\n      var data = nextProps.model.getDataValue() || (0, _immutable.Map)();\n      var selected = data.getIn(['config', 'selected'], (0, _immutable.List)());\n      this.setState({\n        selectedOrgs: selected\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var orgSelect;\n      if (this._isYzjModel) {\n        orgSelect = this.renderYzj();\n      } else {\n        orgSelect = this.renderLocal();\n      }\n      var containerStyle = {\n        width: '100%',\n        height: '100%'\n      };\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", _extends({\n        style: containerStyle\n      }, this.props.attachData), orgSelect);\n    }\n  }]);\n  return KDOrgList;\n}(_react[\"default\"].Component)) || _class) || _class);\nvar _default = exports[\"default\"] = KDOrgList;\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/KDOrgList.js?");

/***/ }),

/***/ "./src/component/mobile/KDProgressBar.js":
/*!***********************************************!*\
  !*** ./src/component/mobile/KDProgressBar.js ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.parse-int.js */ \"../../node_modules/core-js/modules/es.parse-int.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.timers.js */ \"../../node_modules/core-js/modules/web.timers.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _ComposeEnhance = _interopRequireDefault(__webpack_require__(/*! ../common/ComposeEnhance */ \"./src/component/common/ComposeEnhance.js\"));\nvar _PropsComparison = _interopRequireDefault(__webpack_require__(/*! ../common/PropsComparison */ \"./src/component/common/PropsComparison.js\"));\nvar _componentutil = __webpack_require__(/*! ../../util/componentutil */ \"./src/util/componentutil.js\");\nvar _progressAction = __webpack_require__(/*! ../../action/progressAction */ \"./src/action/progressAction.js\");\nvar _ProgressBar = _interopRequireDefault(__webpack_require__(/*! ./base/ProgressBar */ \"./src/component/mobile/base/ProgressBar.js\"));\nvar _VisibleLockWrap = _interopRequireDefault(__webpack_require__(/*! ../common/VisibleLockWrap */ \"./src/component/common/VisibleLockWrap.js\"));\nvar _AttachDataWrap = _interopRequireDefault(__webpack_require__(/*! ../common/AttachDataWrap */ \"./src/component/common/AttachDataWrap.js\"));\nvar _memoryCacher = __webpack_require__(/*! ../../model/memoryCacher */ \"./src/model/memoryCacher.js\");\nvar _ControlInfoCollect = _interopRequireDefault(__webpack_require__(/*! @/component/common/ControlInfoCollect */ \"./src/component/common/ControlInfoCollect.js\"));\nvar _dec, _dec2, _class;\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar KDProgressBar = (_dec = (0, _VisibleLockWrap[\"default\"])(true, false, false), _dec2 = (0, _ComposeEnhance[\"default\"])(_PropsComparison[\"default\"]), (0, _AttachDataWrap[\"default\"])(_class = _dec(_class = _dec2(_class = (0, _ControlInfoCollect[\"default\"])(_class = /*#__PURE__*/function (_React$Component) {\n  _inherits(KDProgressBar, _React$Component);\n  function KDProgressBar(props) {\n    var _this;\n    _classCallCheck(this, KDProgressBar);\n    _this = _callSuper(this, KDProgressBar, [props]);\n    _this.createInterval = function (paramArray) {\n      var IntervalTime = _this.props.model.getMetaProperty('itime');\n      var _paramArray = _slicedToArray(paramArray, 1),\n        Isstart = _paramArray[0];\n      if (Isstart && !_this.interval) {\n        _this.setIntervalTime(IntervalTime);\n      }\n      if (!Isstart) {\n        _this.stopProgressBar();\n      }\n    };\n    _this.invokeControlMethods = function (events) {\n      events.forEach(function (event) {\n        var methodName = event.methodname,\n          args = event.args;\n        switch (methodName) {\n          case 'run':\n            _this.createInterval(args);\n            break;\n          default:\n            console.info(\"\".concat(methodName, \" \\u6CA1\\u6709\\u5B9E\\u73B0\"));\n        }\n      });\n    };\n    _this.setIntervalTime = _this.setIntervalTime.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  _createClass(KDProgressBar, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n      var _this$props$model = this.props.model,\n        pageId = _this$props$model.pageId,\n        key = _this$props$model.key;\n      var data = (0, _memoryCacher.getPageData)(pageId, key);\n      if (data) {\n        this.createInterval(data);\n      }\n      // this.removeDataChangeListener = addDataChangeListener(pageId, key, data => {\n      //   createInterval(data)\n      // })\n      this.removeSubscribeRunMethod = (0, _memoryCacher.subscribeControlMethod)(pageId, key, 'directives', function () {\n        var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n        if (data.length === 0) return;\n        _this2.invokeControlMethods(data);\n      });\n    }\n  }, {\n    key: \"stopProgressBar\",\n    value: function stopProgressBar() {\n      this.interval && clearInterval(this.interval);\n      this.interval = null;\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.dispose = true;\n      clearInterval(this.interval);\n      this.removeDataChangeListener && this.removeDataChangeListener();\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      var previousIntervalTime = (0, _componentutil.getComponentDataProperty)(this.props.model, 'itime', 'itime', false);\n      var IntervalTime = (0, _componentutil.getComponentDataProperty)(nextProps.model, 'itime', 'itime', false);\n      if (previousIntervalTime !== IntervalTime) {\n        clearInterval(this.interval);\n        this.setIntervalTime(IntervalTime);\n      }\n    }\n  }, {\n    key: \"setIntervalTime\",\n    value: function setIntervalTime(IntervalTime) {\n      var _this3 = this;\n      if (IntervalTime) {\n        this.interval = setInterval(function () {\n          var _this3$props = _this3.props,\n            model = _this3$props.model,\n            dispatch = _this3$props.dispatch;\n          var percent = model.getDataProperty('percent');\n          if (parseInt(percent) === 100) {\n            clearInterval(_this3.interval);\n          } else {\n            !_this3.dispose && dispatch((0, _progressAction.getPercent)(model, []));\n          }\n        }, IntervalTime);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n        model = _this$props.model,\n        className = _this$props.className;\n      // let style = getCommonStyle(model);\n      var style = Object.assign({}, (0, _componentutil.getCommonStyle)(model), this.props.style);\n      var percent = model.getDataProperty('percent');\n      percent = typeof percent === 'number' ? percent : 0;\n      var progressData = model.getDataProperty('text');\n      var pbs = model.getMetaProperty('pbs') || 0;\n      var _getCommonClass = (0, _componentutil.getCommonClass)(model),\n        Grow = _getCommonClass.Grow,\n        Shrink = _getCommonClass.Shrink;\n      var strokeWidth = model.getMetaProperty('strokeWidth') || 0;\n      return /*#__PURE__*/_react[\"default\"].createElement(_ProgressBar[\"default\"], _extends({\n        percent: percent,\n        style: style,\n        className: className,\n        Grow: Grow,\n        Shrink: Shrink,\n        ProgressBarStyle: pbs,\n        StrokeWidth: strokeWidth,\n        progressData: progressData\n      }, this.props.attachData));\n    }\n  }]);\n  return KDProgressBar;\n}(_react[\"default\"].Component)) || _class) || _class) || _class) || _class);\nvar _default = exports[\"default\"] = KDProgressBar;\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/KDProgressBar.js?");

/***/ }),

/***/ "./src/component/mobile/KDSearchBox.jsx":
/*!**********************************************!*\
  !*** ./src/component/mobile/KDSearchBox.jsx ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.find-index.js */ \"../../node_modules/core-js/modules/es.array.find-index.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.trim.js */ \"../../node_modules/core-js/modules/es.string.trim.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _SearchBox = _interopRequireDefault(__webpack_require__(/*! ./base/SearchBox */ \"./src/component/mobile/base/SearchBox.jsx\"));\nvar _searchaction = __webpack_require__(/*! ../../action/searchaction */ \"./src/action/searchaction.js\");\nvar _componentutil = __webpack_require__(/*! @/util/componentutil */ \"./src/util/componentutil.js\");\nvar _memoryCacher = __webpack_require__(/*! @/model/memoryCacher */ \"./src/model/memoryCacher.js\");\nvar _serverproperties = __webpack_require__(/*! @/constant/serverproperties.js */ \"./src/constant/serverproperties.js\");\nvar _componentutil2 = __webpack_require__(/*! @/util/componentutil.js */ \"./src/util/componentutil.js\");\nvar _commonUtils = _interopRequireDefault(__webpack_require__(/*! @/component/common/commonUtils.js */ \"./src/component/common/commonUtils.js\"));\nvar _formproxy = __webpack_require__(/*! @/proxy/formproxy.js */ \"./src/proxy/formproxy.js\");\nvar _ajaxState = __webpack_require__(/*! @/api/ajaxState.js */ \"./src/api/ajaxState.js\");\nvar _useAdditionalData = _interopRequireDefault(__webpack_require__(/*! @/use/useAdditionalData */ \"./src/use/useAdditionalData.js\"));\nvar _useHashChange2 = _interopRequireDefault(__webpack_require__(/*! @/use/useHashChange.js */ \"./src/use/useHashChange.js\"));\nvar _server = __webpack_require__(/*! @/action/actionname/control/searchMobile/server */ \"./src/action/actionname/control/searchMobile/server/index.js\");\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nvar _VisibleLockWrap = _interopRequireDefault(__webpack_require__(/*! @/component/common/VisibleLockWrap */ \"./src/component/common/VisibleLockWrap.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nvar MAX_HISTORY_RECORDS_SIZE = 20;\nfunction KDSearchBox(_ref) {\n  var model = _ref.model,\n    dispatch = _ref.dispatch;\n  var _useState = (0, _react.useState)((0, _immutable.List)()),\n    _useState2 = _slicedToArray(_useState, 2),\n    historyData = _useState2[0],\n    setHistoryData = _useState2[1];\n  // 是否需要重置搜索\n  var _useState3 = (0, _react.useState)(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    needCancelSearch = _useState4[0],\n    setNeedCancelSearch = _useState4[1];\n  // 显示取消按钮，为兼容以前，默认是false\n  var showCancelBtn = (0, _componentutil.getComponentDataProperty)(model, 'scb', 'scb', false) || false;\n  // 搜索风格，实时搜索/确定搜索，默认是实时搜索\n  var searchStyle = (0, _componentutil.getComponentDataProperty)(model, 'showModel', 'showModel', false) || 0;\n  // 为空提示信息\n  var placeHolder = (0, _componentutil.getComponentDataProperty)(model, _serverproperties.PLACE_HOLDER, _serverproperties.PLACE_HOLDER, true);\n  // 附加信息\n  var additionalData = (0, _useAdditionalData[\"default\"])({\n    model: model\n  });\n  // 激活页\n  var _useHashChange = (0, _useHashChange2[\"default\"])({\n      pageId: model.pageId\n    }),\n    isActivePage = _useHashChange.isActivePage;\n  // 设置值\n  var value = model.getDataValue();\n  var valueTimestamp = model.getDataProperty('__timestamp_fresh__');\n  (0, _react.useEffect)(function () {\n    var pageId = model.pageId,\n      key = model.key;\n    var historyData = getHistoryDataFromCacher();\n    setHistoryData(historyData);\n    (0, _memoryCacher.setControlMount)(pageId, key, true);\n    var userLocale = model.getUserLocale();\n    (0, _memoryCacher.setControlBusyTip)(pageId, key, _defineProperty(_defineProperty({\n      supportMethod: ['onChange']\n    }, userLocale, (0, _intlApi.getLangMsg)('pageLoading.key0002')), \"timeout\", 0));\n    return function () {\n      (0, _memoryCacher.setControlMount)(pageId, key, false);\n    };\n  }, []);\n  (0, _react.useEffect)(function () {\n    var removeSubscribeRemoveAttachMethod = (0, _memoryCacher.subscribeControlMethod)(model === null || model === void 0 ? void 0 : model.pageId, model === null || model === void 0 ? void 0 : model.key, 'directives', function (pageData) {\n      if (pageData === undefined) {\n        return;\n      }\n      doControlMethods(pageData);\n    });\n    return function () {\n      removeSubscribeRemoveAttachMethod();\n    };\n  }, []);\n  var formidAndBillformid = (0, _react.useMemo)(function () {\n    var config = model.getFormConfigWithoutMeta();\n    var formId = config.formId,\n      billFormId = config.billFormId;\n    return \"\".concat(formId, \"_\").concat(billFormId);\n  }, [model]);\n  var updateHistoryData2Cacher = function updateHistoryData2Cacher(value) {\n    var pageId = model.pageId,\n      key = model.key;\n    var path = ['mobilesearch', formidAndBillformid, key, 'history'];\n    var oldData = getHistoryDataFromCacher();\n    var trimedValue = value.trim();\n    var index = oldData.findIndex(function (item) {\n      return item === trimedValue;\n    });\n    var newData = index > -1 ? oldData[\"delete\"](index) : oldData;\n    newData = newData.unshift(trimedValue);\n    newData = newData.slice(0, MAX_HISTORY_RECORDS_SIZE);\n    (0, _memoryCacher.setUserUIState)(pageId, path, newData, true);\n    setHistoryData(newData);\n  };\n  var getHistoryDataFromCacher = function getHistoryDataFromCacher() {\n    var key = model.key;\n    var userUIState = (0, _memoryCacher.getUserUIState)();\n    var historyData = userUIState.getIn(['mobilesearch', formidAndBillformid, key, 'history'], (0, _immutable.List)());\n    return historyData;\n  };\n  var clearHistoryData = function clearHistoryData() {\n    var pageId = model.pageId,\n      key = model.key;\n    var path = ['mobilesearch', formidAndBillformid, key, 'history'];\n    (0, _memoryCacher.setUserUIState)(pageId, path, (0, _immutable.List)(), true);\n    setHistoryData((0, _immutable.List)());\n    dispatch((0, _searchaction.saveSetting)());\n  };\n  var onChange = function onChange(value) {\n    var requestKey = (0, _ajaxState.makeAjaxKey)(model.pageId, model.key, 'onChange');\n    (0, _formproxy.disableDisposeAction)(requestKey);\n    dispatch((0, _searchaction.change)(model, value));\n    (0, _formproxy.allowDisposeAction)(requestKey);\n  };\n  var doControlMethods = function doControlMethods(events) {\n    events.forEach(function (event) {\n      var methodname = event.methodname;\n      switch (methodname) {\n        case _server.M_CANCEL_SEARCH:\n          setNeedCancelSearch(true);\n          break;\n      }\n    });\n  };\n\n  // 测试数据\n  // const showCancelBtn = true\n  // const searchStyle = 1\n  // shrink默认值设置为1，因为基类的flex-shrink为0\n  var _getCommonClass = (0, _componentutil2.getCommonClass)(model),\n    _getCommonClass$Shrin = _getCommonClass.Shrink,\n    Shrink = _getCommonClass$Shrin === void 0 ? 1 : _getCommonClass$Shrin;\n  // 搜索控件以前设置宽高、边距等样式都没生效，现在生效之后可能会有样式问题，代码先注释掉\n  // const style = getCommonStyle(model) || {}\n\n  return /*#__PURE__*/_react[\"default\"].createElement(_SearchBox[\"default\"]\n  // style={style}\n  , {\n    className: (0, _commonUtils[\"default\"])({\n      Shrink: Shrink\n    }),\n    placeHolder: placeHolder,\n    showCancelBtn: showCancelBtn,\n    searchStyle: searchStyle,\n    onFocus: function onFocus() {\n      return dispatch((0, _searchaction.focus)(model));\n    },\n    onCancel: function onCancel() {\n      return dispatch((0, _searchaction.cancel)(model));\n    },\n    onChange: onChange,\n    updateHistoryData2Cacher: updateHistoryData2Cacher,\n    historyData: historyData,\n    saveSetting: function saveSetting() {\n      return dispatch((0, _searchaction.saveSetting)());\n    },\n    clearHistoryData: clearHistoryData,\n    additionalData: additionalData,\n    value: value,\n    valueTimestamp: valueTimestamp,\n    isActivePage: isActivePage,\n    needCancelSearch: needCancelSearch,\n    setNeedCancelSearch: setNeedCancelSearch\n  });\n}\n// KDSearchBox.actions = actions\nvar _default = exports[\"default\"] = (0, _VisibleLockWrap[\"default\"])(false)(KDSearchBox);\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/KDSearchBox.jsx?");

/***/ }),

/***/ "./src/component/mobile/KDTabPage.jsx":
/*!********************************************!*\
  !*** ./src/component/mobile/KDTabPage.jsx ***!
  \********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.promise.js */ \"../../node_modules/core-js/modules/es.promise.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _propTypes = _interopRequireDefault(__webpack_require__(/*! prop-types */ \"../../node_modules/prop-types/index.js\"));\nvar _global = __webpack_require__(/*! @/global */ \"./src/global/index.js\");\nvar _badgeWrap = _interopRequireDefault(__webpack_require__(/*! ../common/badgeWrap */ \"./src/component/common/badgeWrap.js\"));\nvar _AttachDataWrap = _interopRequireDefault(__webpack_require__(/*! ../common/AttachDataWrap */ \"./src/component/common/AttachDataWrap.js\"));\nvar _componentutil = __webpack_require__(/*! ../../util/componentutil */ \"./src/util/componentutil.js\");\nvar _Tabs = __webpack_require__(/*! ./base/Tabs */ \"./src/component/mobile/base/Tabs.js\");\nvar _dec, _class, _KDTabPage;\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar KDTabPage = exports[\"default\"] = (_dec = (0, _badgeWrap[\"default\"])({\n  top: 0,\n  right: 0\n}, false), _dec(_class = (0, _AttachDataWrap[\"default\"])(_class = (_KDTabPage = /*#__PURE__*/function (_React$Component) {\n  _inherits(KDTabPage, _React$Component);\n  function KDTabPage(props) {\n    _classCallCheck(this, KDTabPage);\n    return _callSuper(this, KDTabPage, [props]);\n  }\n  _createClass(KDTabPage, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n        model = _this$props.model,\n        style = _this$props.style,\n        title = _this$props.title,\n        key = _this$props.key,\n        id = _this$props.id,\n        badgeEle = _this$props.badgeEle,\n        active = _this$props.active,\n        className = _this$props.className;\n      var propsObj = {\n        style: style,\n        title: title,\n        key: key,\n        id: id,\n        badgeEle: badgeEle,\n        active: active,\n        className: className\n      };\n      // let style = getCommonStyle(model);\n      var tab = model.meta;\n      return /*#__PURE__*/_react[\"default\"].createElement(_Tabs.TabPanel, propsObj, (0, _componentutil.parseSubComponents)(tab.get('items'), model.pageId, (0, _global.getGlobalState)()), /*#__PURE__*/_react[\"default\"].createElement(_react.Suspense, {\n        fallback: /*#__PURE__*/_react[\"default\"].createElement(\"div\", null)\n      }, _react[\"default\"].Children.toArray((0, _componentutil.parseSubForms)(model.pageId, tab.get('id'), (0, _global.getGlobalState)()))));\n    }\n  }]);\n  return KDTabPage;\n}(_react[\"default\"].Component), _KDTabPage.contextTypes = {\n  store: _propTypes[\"default\"].object\n}, _KDTabPage)) || _class) || _class);\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/KDTabPage.jsx?");

/***/ }),

/***/ "./src/component/mobile/KDTabs.js":
/*!****************************************!*\
  !*** ./src/component/mobile/KDTabs.js ***!
  \****************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.set.js */ \"../../node_modules/core-js/modules/es.set.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.timers.js */ \"../../node_modules/core-js/modules/web.timers.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _propTypes = _interopRequireDefault(__webpack_require__(/*! prop-types */ \"../../node_modules/prop-types/index.js\"));\nvar _global = __webpack_require__(/*! @/global */ \"./src/global/index.js\");\nvar _componentutil = __webpack_require__(/*! ../../util/componentutil */ \"./src/util/componentutil.js\");\nvar _Tabs = __webpack_require__(/*! ./base/Tabs */ \"./src/component/mobile/base/Tabs.js\");\nvar _serverproperties = __webpack_require__(/*! ../../constant/serverproperties */ \"./src/constant/serverproperties.js\");\nvar _ComponentModel = _interopRequireDefault(__webpack_require__(/*! ../../model/ComponentModel */ \"./src/model/ComponentModel.js\"));\nvar _componentFactory = _interopRequireDefault(__webpack_require__(/*! ../../factory/componentFactory */ \"./src/factory/componentFactory.js\"));\nvar _tabaction = __webpack_require__(/*! ../../action/tabaction */ \"./src/action/tabaction.js\");\nvar _VisibleLockWrap = _interopRequireWildcard(__webpack_require__(/*! ../common/VisibleLockWrap */ \"./src/component/common/VisibleLockWrap.js\"));\nvar _AttachDataWrap = _interopRequireDefault(__webpack_require__(/*! ../common/AttachDataWrap */ \"./src/component/common/AttachDataWrap.js\"));\nvar _badgeWrap = __webpack_require__(/*! ../common/badgeWrap */ \"./src/component/common/badgeWrap.js\");\nvar _memoryCacher = __webpack_require__(/*! @/model/memoryCacher */ \"./src/model/memoryCacher.js\");\nvar _const = __webpack_require__(/*! @/constant/const */ \"./src/constant/const.js\");\nvar _dec, _class, _KDTabs;\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar KDTabs = (_dec = (0, _VisibleLockWrap[\"default\"])(true), _dec(_class = (0, _VisibleLockWrap.ContainerLockWrap)(_class = (0, _AttachDataWrap[\"default\"])(_class = (_KDTabs = /*#__PURE__*/function (_React$Component) {\n  _inherits(KDTabs, _React$Component);\n  function KDTabs(props) {\n    var _this;\n    _classCallCheck(this, KDTabs);\n    _this = _callSuper(this, KDTabs, [props]);\n    _this.addListeners = function () {\n      var model = _this.props.model;\n      var pageId = model.pageId;\n      _this.tabsValidateListeners = [];\n      var tabs = model.getMetaProperty('items');\n      tabs.forEach(function (tab) {\n        var key = tab.get('id');\n        var listener = (0, _memoryCacher.addDataChangeListener)(pageId, [_const.CHILDREN_VALIDATE_ERROR, key], function (show) {\n          if (show) {\n            !_this.errorTabs.has(key) && _this.errorTabs.add(key);\n          } else {\n            _this.errorTabs[\"delete\"](key);\n          }\n          _this.setState({\n            errorTabs: Array.from(_this.errorTabs)\n          });\n        });\n        _this.tabsValidateListeners.push(listener);\n      });\n    };\n    _this.removeListeners = function () {\n      _this.tabsValidateListeners.forEach(function (removeListener) {\n        return removeListener();\n      });\n    };\n    _this.onTabClick = function (tabKey) {\n      if (_this.allowDispatchSelectTab === false) {\n        return;\n      }\n      _this.allowDispatchSelectTab = false;\n      var _this$props = _this.props,\n        model = _this$props.model,\n        dispatch = _this$props.dispatch;\n      dispatch((0, _tabaction.selectTab)(model, tabKey));\n      // 直接用lodash的debounce函数不生效，只能用这种方法\n      setTimeout(function () {\n        _this.allowDispatchSelectTab = true;\n      }, 300);\n    };\n    _this.forAutoTestActions = {\n      selectTab: _tabaction.selectTab\n    };\n    _this.state = {\n      errorTabs: []\n    };\n    _this.errorTabs = new Set();\n    return _this;\n  }\n  _createClass(KDTabs, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.addListeners();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.removeListeners();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var model = this.props.model;\n      var tabs = model.getMetaProperty('items');\n\n      // 如果不存在子元素，直接返回\n      if (!tabs || tabs.size === 0) return null;\n      var style = (0, _componentutil.getCommonStyle)(model);\n      // let lock = this._getLock(model);\n      style = (0, _componentutil.getVisibleStyle)(style, (0, _componentutil.getVisible)(model));\n      var tabId, tabTip;\n      var tabTipColor = (0, _componentutil.getComponentDataProperty)(model, _serverproperties.TAB_TIP_COLOR);\n      var activeTab = model.getDataCurrentTab();\n      var activeTimestamp = (0, _componentutil.getComponentDataProperty)(model, 'activeTimestamp');\n      var AlignSelf = model.getMetaProperty('as');\n      var Grow = model.getMetaProperty(_serverproperties.FLEX_GROW);\n      var Shrink = model.getMetaProperty(_serverproperties.FLEX_SHRINK);\n      var tabStyle = model.getMetaProperty('tabStyle') || 0;\n      var showDropdownIcon = model.getMetaProperty('sddi');\n      var tabDirection = model.getMetaProperty('tabDirection') || 'horizontal';\n      var tabBarActiveTextColor = model.getMetaProperty(_serverproperties.TABBAR_ACTIVE_TEXT_COLOR);\n      var isScrollToTopFixed = (0, _componentutil.getComponentDataProperty)(model, _serverproperties.SCROLL_TO_TOP_FIXED, _serverproperties.SCROLL_TO_TOP_FIXED);\n      var tabType = (0, _componentutil.getComponentDataProperty)(model, _serverproperties.TAB_TYPE, _serverproperties.TAB_TYPE);\n      return /*#__PURE__*/_react[\"default\"].createElement(_Tabs.Tabs, _extends({\n        id: model.key,\n        style: style,\n        handleTabClick: this.onTabClick,\n        Grow: Grow,\n        Shrink: Shrink,\n        AlignSelf: AlignSelf,\n        activeKey: activeTab,\n        activeTimestamp: activeTimestamp,\n        tabStyle: tabStyle,\n        showDropdownIcon: showDropdownIcon,\n        tabDirection: tabDirection,\n        tabBarActiveTextColor: tabBarActiveTextColor,\n        isScrollToTopFixed: isScrollToTopFixed,\n        tabType: tabType,\n        pageId: model.pageId,\n        errorTabs: this.state.errorTabs\n      }, this.props.attachData), tabs.map(function (tab, index) {\n        var _style = (0, _componentutil.getCommonStyleFromMeta)(tab);\n        var panelModel = new _ComponentModel[\"default\"](model.pageId, tab, (0, _global.getGlobalState)());\n        var text = panelModel.getMetaLocaleProperty('text');\n        tabId = tab.get('id');\n        tabTip = (0, _componentutil.getComponentDataProperty)(panelModel, _serverproperties.TAB_TIP, _serverproperties.TAB_TIP);\n        var title;\n        if (tabTip) {\n          title = /*#__PURE__*/_react[\"default\"].createElement(\"span\", null, text, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n            style: tabTipColor ? {\n              color: tabTipColor\n            } : null\n          }, \" \".concat(tabTip)));\n        } else {\n          title = text;\n        }\n        var visible = (0, _componentutil.getVisible)(model, tabId);\n        if (visible) {\n          var badgeInfo = panelModel.getDataProperty('badge');\n          var badgeEle = /*#__PURE__*/_react[\"default\"].createElement(_badgeWrap.BadgeElement, {\n            badgeInfo: badgeInfo\n          });\n          var tPanel = (0, _componentFactory[\"default\"])(model.pageId, tab, (0, _global.getGlobalState)());\n          return /*#__PURE__*/_react[\"default\"].cloneElement(tPanel, {\n            style: _style,\n            title: title,\n            key: tabId,\n            id: tabId,\n            badgeEle: badgeEle\n          });\n        }\n      }));\n    }\n  }]);\n  return KDTabs;\n}(_react[\"default\"].Component), _KDTabs.contextTypes = {\n  store: _propTypes[\"default\"].object\n}, _KDTabs)) || _class) || _class) || _class);\nvar _default = exports[\"default\"] = KDTabs;\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/KDTabs.js?");

/***/ }),

/***/ "./src/component/mobile/KDUserList.jsx":
/*!*********************************************!*\
  !*** ./src/component/mobile/KDUserList.jsx ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = KDUserList;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.find-index.js */ \"../../node_modules/core-js/modules/es.array.find-index.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.array.splice.js */ \"../../node_modules/core-js/modules/es.array.splice.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _useControlBusyTips = _interopRequireDefault(__webpack_require__(/*! @/use/useControlBusyTips.js */ \"./src/use/useControlBusyTips.js\"));\nvar _UserList = __webpack_require__(/*! ./base/BaseData/UserList */ \"./src/component/mobile/base/BaseData/UserList.jsx\");\nvar _f7action = __webpack_require__(/*! @/action/f7action */ \"./src/action/f7action.js\");\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _constant = __webpack_require__(/*! ./base/BaseData/constant */ \"./src/component/mobile/base/BaseData/constant.js\");\nvar _KDUserList = _interopRequireDefault(__webpack_require__(/*! ./KDUserList.less */ \"./src/component/mobile/KDUserList.less\"));\nvar _memoryCacher = __webpack_require__(/*! @/model/memoryCacher.js */ \"./src/model/memoryCacher.js\");\nvar _useVisible = _interopRequireDefault(__webpack_require__(/*! @/use/useVisible */ \"./src/use/useVisible.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; } /**\n * 移动端用户列表控件2.0\n * @author haoshuo_chen\n */\nfunction KDUserList(_ref) {\n  var model = _ref.model,\n    dispatch = _ref.dispatch;\n  var _useState = (0, _react.useState)(_constant.PAGE_TYPE.START_PAGE),\n    _useState2 = _slicedToArray(_useState, 2),\n    pageType = _useState2[0],\n    setPageType = _useState2[1];\n  var _useState3 = (0, _react.useState)((0, _immutable.List)()),\n    _useState4 = _slicedToArray(_useState3, 2),\n    selectedUsers = _useState4[0],\n    setSelectedUsers = _useState4[1];\n  var _useState5 = (0, _react.useState)(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    searchStatus = _useState6[0],\n    setSearchStatus = _useState6[1];\n  var preInitOrgId = (0, _react.useRef)(undefined); // 记录前一props中的initOrgId\n  var frequentContacts = (0, _react.useRef)(undefined);\n  (0, _useControlBusyTips[\"default\"])(model);\n  var visibleAttachProps = (0, _useVisible[\"default\"])(model);\n  (0, _react.useEffect)(function () {\n    var oldInitOrgId = preInitOrgId.current;\n    var initOrgId = model.getDataProperty('initOrgId');\n    // 只在第一次设置时请求一次\n    if (oldInitOrgId === undefined && initOrgId !== oldInitOrgId) {\n      _queryOrgChildren(initOrgId); // initOrgId等于\"\"表示请求首页数据，否则请求对应组织下级的数据\n    }\n    preInitOrgId.current = initOrgId;\n    var data = model.getDataValue() || (0, _immutable.Map)();\n    var pageType = data.get('pageType') || _constant.PAGE_TYPE.START_PAGE;\n    setPageType(pageType);\n    if (pageType === _constant.PAGE_TYPE.START_PAGE) {\n      frequentContacts.current = data.get(_constant.USERS, (0, _immutable.List)());\n    }\n  }, [model]);\n  var data = model.getDataValue() || (0, _immutable.Map)();\n  var selected = data.getIn([_constant.CONFIG, 'selected'], (0, _immutable.List)());\n  (0, _react.useEffect)(function () {\n    setSelectedUsers(selected);\n  }, [selected]);\n\n  // 关闭表单\n  // const _closeForm = () => {\n  //   dispatch(closeForm(model.pageId))\n  // }\n\n  // 返回\n  // const _back = () => {\n  //   const pageData = model.getDataValue()\n  //   const orgHierarchy = pageData.get('orgHierarchy') || List()\n  //   const size = orgHierarchy.size\n  //   if (size === 0) {\n  //     dispatch(backPressed(model, null))\n  //   } else if (size === 1) {\n  //     dispatch(backPressed(model, ''))\n  //   } else {\n  //     const org = orgHierarchy.get(size - 2) // 倒数第二个组织\n  //     const orgId = org.get('id')\n  //     dispatch(backPressed(model, orgId))\n  //   }\n  // }\n\n  // 查看下一层组织\n  var _queryOrgChildren = function _queryOrgChildren(orgId) {\n    dispatch((0, _f7action.queryOrgChildren)(model, orgId));\n  };\n\n  // 返回首页\n  var onHomeIconClick = function onHomeIconClick() {\n    dispatch((0, _f7action.backPressed)(model, ''));\n  };\n\n  // 清空选择\n  var _clearSelectedUser = function _clearSelectedUser() {\n    var isMulti = _isMulti();\n    // const isMulti = true\n    if (isMulti) {\n      setSelectedUsers((0, _immutable.List)());\n    } else {\n      dispatch((0, _f7action.endSelect)(model, []));\n    }\n  };\n\n  // 选择用户\n  var _selectUsers = function _selectUsers(userIds) {\n    _setFrequentContacts(userIds);\n    dispatch((0, _f7action.endSelect)(model, userIds));\n  };\n  var _setFrequentContacts = function _setFrequentContacts() {\n    var selectedUserIds = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : (0, _immutable.List)();\n    var _frequentContacts = frequentContacts.current;\n    if (_frequentContacts === undefined || selectedUserIds.size > 1) {\n      // 没有加载过首页数据，不需要设置常用\n      // 多选，暂时不设置常用\n      return false;\n    }\n    var newFrequentContacts = _frequentContacts;\n    var frequentContactsSize = _frequentContacts.size;\n    var userId = selectedUserIds.get(0);\n    // 将常用联系人氛围“最近使用”和“按使用频次排序”两部分\n    var recent = newFrequentContacts.slice(0, 5);\n    var frequency = newFrequentContacts.slice(5);\n    var userInRecentIndex = recent.findIndex(function (item) {\n      return item.get('id') === userId;\n    });\n    var userInFrequencyIndex = frequency.findIndex(function (item) {\n      return item.get('id') === userId;\n    });\n    // 选中的用户在“最近使用”的集合中\n    if (userInRecentIndex > -1) {\n      var userInRecent = recent.get(userInRecentIndex);\n      var frequent = userInRecent.get('frequency') || 1;\n      userInRecent = userInRecent.set('frequency', frequent + 1);\n      var newRecent = (0, _immutable.List)([userInRecent]).concat(recent.splice(userInRecentIndex, 1));\n      newFrequentContacts = newRecent.concat(frequency);\n      newFrequentContacts = newFrequentContacts.map(function (item) {\n        return {\n          id: item.get('id'),\n          frequency: item.get('frequency') || 1\n        };\n      });\n      (0, _memoryCacher.setUserUIState)(model.pageId, ['userList', 'frequentContacts'], newFrequentContacts, true);\n      return false;\n    }\n    // 选中的用户在“按使用频次排序”的集合中\n    if (userInFrequencyIndex > -1) {\n      var userInFrequency = frequency.get(userInFrequencyIndex);\n      var _frequent = userInFrequency.get('frequency') || 1;\n      userInFrequency = userInFrequency.set('frequency', _frequent + 1);\n      var _newRecent = (0, _immutable.List)([userInFrequency]).concat(recent.slice(0, 4));\n      var squeezedOut = recent.slice(4, 5);\n      var newFrequent = squeezedOut.concat(frequency.splice(userInFrequencyIndex, 1)).sortBy(function (user) {\n        return user.get('frequency');\n      });\n      newFrequentContacts = _newRecent.concat(newFrequent);\n      newFrequentContacts = newFrequentContacts.map(function (item) {\n        return {\n          id: item.get('id'),\n          frequency: item.get('frequency') || 1\n        };\n      });\n      (0, _memoryCacher.setUserUIState)(model.pageId, ['userList', 'frequentContacts'], newFrequentContacts, true);\n      return false;\n    }\n    // 选中的用户不在当前的“常用联系人”集合中\n    var newUser = (0, _immutable.Map)({\n      id: userId,\n      frequency: 1\n    });\n    if (frequentContactsSize < 5) {\n      newFrequentContacts = recent.unshift(newUser);\n    } else {\n      var _newRecent2 = (0, _immutable.List)([newUser]).concat(recent.slice(0, 4));\n      var _squeezedOut = recent.slice(4, 5);\n      var _newFrequent = _squeezedOut.concat(frequency).sortBy(function (user) {\n        return user.get('frequency');\n      });\n      newFrequentContacts = _newRecent2.concat(_newFrequent).slice(0, 50);\n    }\n    newFrequentContacts = newFrequentContacts.map(function (item) {\n      return {\n        id: item.get('id'),\n        frequency: item.get('frequency') || 1\n      };\n    });\n    (0, _memoryCacher.setUserUIState)(model.pageId, ['userList', 'frequentContacts'], newFrequentContacts, true);\n    return false;\n  };\n  var _handleUserItemClick = function _handleUserItemClick(user) {\n    var userId = user.get('id');\n    var isMulti = _isMulti();\n    if (isMulti) {\n      var index = selectedUsers.findIndex(function (item) {\n        return item.get('id') === userId;\n      });\n      var newSelectedUsers = (0, _immutable.List)();\n      if (index > -1) {\n        newSelectedUsers = selectedUsers.splice(index, 1);\n      } else {\n        newSelectedUsers = selectedUsers.push(user);\n      }\n      setSelectedUsers(newSelectedUsers);\n    } else {\n      _selectUsers((0, _immutable.List)([userId]));\n    }\n  };\n  var _deleteSelectedUser = function _deleteSelectedUser(userId) {\n    var index = selectedUsers.findIndex(function (item) {\n      return item.get('id') === userId;\n    });\n    var newSelectedUsers = selectedUsers[\"delete\"](index);\n    setSelectedUsers(newSelectedUsers);\n  };\n  var _handleKeyWordChange = function _handleKeyWordChange(keyWord) {\n    dispatch((0, _f7action.getLookUpList)(model, keyWord));\n  };\n  var _isMulti = function _isMulti() {\n    // return true\n    var dataValue = model.getDataValue() || (0, _immutable.Map)();\n    var isMulti = dataValue.getIn([_constant.CONFIG, 'isMulti'], false);\n    return isMulti;\n  };\n  var _isMust = function _isMust() {\n    // return true\n    var dataValue = model.getDataValue() || (0, _immutable.Map)();\n    /**\n     * config数据还没有返回时，默认是必录\n     * config数据返回之后，以config数据为准，默认是非必录\n     */\n    var config = dataValue.get(_constant.CONFIG);\n    if (config === undefined) {\n      return true;\n    } else {\n      return config.get('mustInput') || false;\n    }\n  };\n  if (!visibleAttachProps) return null;\n  var dataValue = model.getDataValue() || (0, _immutable.Map)();\n  var srDatas = model.getDataProperty(_constant.SEARCH_RESULT) || (0, _immutable.List)(); // 搜索结果\n  var config = model.getFormConfig();\n  var fileServer = config.fileserver;\n  var isMulti = _isMulti();\n  var isMust = _isMust();\n  var pageConfig = {\n    isMulti: isMulti,\n    fileServer: fileServer,\n    isMust: isMust\n  };\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _KDUserList[\"default\"]['user-list-root']\n  }, pageType === _constant.PAGE_TYPE.START_PAGE && !searchStatus && /*#__PURE__*/_react[\"default\"].createElement(_UserList.StartPage, {\n    pageData: dataValue,\n    selectOrg: _queryOrgChildren,\n    config: pageConfig,\n    clearSelectedUser: _clearSelectedUser,\n    selectUsers: _selectUsers,\n    handleUserItemClick: _handleUserItemClick,\n    setSearchStatus: setSearchStatus,\n    selectedUsers: selectedUsers,\n    deleteSelectedUser: _deleteSelectedUser\n  }), pageType === _constant.PAGE_TYPE.ORG_PAGE && !searchStatus && /*#__PURE__*/_react[\"default\"].createElement(_UserList.OrgPage, {\n    pageData: dataValue,\n    handleUserItemClick: _handleUserItemClick,\n    config: pageConfig,\n    clearSelectedUser: _clearSelectedUser,\n    selectUsers: _selectUsers,\n    selectOrg: _queryOrgChildren,\n    setSearchStatus: setSearchStatus,\n    selectedUsers: selectedUsers,\n    deleteSelectedUser: _deleteSelectedUser,\n    onHomeIconClick: onHomeIconClick\n  }), searchStatus && /*#__PURE__*/_react[\"default\"].createElement(_UserList.SearchPage, {\n    setSearchStatus: setSearchStatus,\n    handleKeyWordChange: _handleKeyWordChange,\n    srDatas: srDatas,\n    config: pageConfig,\n    selectUsers: _selectUsers,\n    handleUserItemClick: _handleUserItemClick,\n    selectedUsers: selectedUsers,\n    clearSelectedUser: _clearSelectedUser,\n    deleteSelectedUser: _deleteSelectedUser\n  }));\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/KDUserList.jsx?");

/***/ }),

/***/ "./src/component/mobile/base/AdvFilter/AdvFilterContent.jsx":
/*!******************************************************************!*\
  !*** ./src/component/mobile/base/AdvFilter/AdvFilterContent.jsx ***!
  \******************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _AdvFilterList = _interopRequireDefault(__webpack_require__(/*! ./AdvFilterList */ \"./src/component/mobile/base/AdvFilter/AdvFilterList.jsx\"));\nvar _AdvFilterListVertical = _interopRequireDefault(__webpack_require__(/*! ./AdvFilterListVertical */ \"./src/component/mobile/base/AdvFilter/AdvFilterListVertical.jsx\"));\nvar _AdvFilterContent = _interopRequireDefault(__webpack_require__(/*! ./AdvFilterContent.less */ \"./src/component/mobile/base/AdvFilter/AdvFilterContent.less\"));\nvar _serverproperties = __webpack_require__(/*! @/constant/serverproperties.js */ \"./src/constant/serverproperties.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction AdvFilterContent(props) {\n  var rememberFilterCriteria = props.rememberFilterCriteria,\n    advFilterFieldInfoArr = props.advFilterFieldInfoArr,\n    updateAdvFilterArr = props.updateAdvFilterArr,\n    userConfiguration = props.userConfiguration,\n    showDirection = props.showDirection,\n    rememberChecked = props.rememberChecked,\n    handleRemembercheckedStatus = props.handleRemembercheckedStatus,\n    handleButtonClick = props.handleButtonClick,\n    handleAdvCustomSetClick = props.handleAdvCustomSetClick,\n    handleAdvResetClick = props.handleAdvResetClick,\n    handleAdvConfirmClick = props.handleAdvConfirmClick,\n    handleMaskClick = props.handleMaskClick,\n    others = props.others;\n  if (showDirection === _serverproperties.PANEL_OPEN_BOTTOM) {\n    return /*#__PURE__*/_react[\"default\"].createElement(_AdvFilterListVertical[\"default\"], {\n      rememberFilterCriteria: rememberFilterCriteria,\n      advFilterFieldInfoArr: advFilterFieldInfoArr,\n      updateAdvFilterArr: updateAdvFilterArr,\n      userConfiguration: userConfiguration,\n      rememberChecked: rememberChecked,\n      showDirection: showDirection,\n      handleRemembercheckedStatus: handleRemembercheckedStatus,\n      handleButtonClick: handleButtonClick,\n      handleAdvCustomSetClick: handleAdvCustomSetClick,\n      handleAdvResetClick: handleAdvResetClick,\n      handleAdvConfirmClick: handleAdvConfirmClick,\n      handleMaskClick: handleMaskClick,\n      others: others\n    });\n  }\n  return /*#__PURE__*/_react[\"default\"].createElement(_AdvFilterList[\"default\"], {\n    advFilterBoxClassName: _AdvFilterContent[\"default\"]['advFilter-Horizontal'],\n    rememberFilterCriteria: rememberFilterCriteria,\n    advFilterFieldInfoArr: advFilterFieldInfoArr,\n    updateAdvFilterArr: updateAdvFilterArr,\n    userConfiguration: userConfiguration,\n    showDirection: showDirection,\n    rememberChecked: rememberChecked,\n    handleRemembercheckedStatus: handleRemembercheckedStatus,\n    handleButtonClick: handleButtonClick,\n    handleAdvCustomSetClick: handleAdvCustomSetClick,\n    handleAdvResetClick: handleAdvResetClick,\n    handleAdvConfirmClick: handleAdvConfirmClick,\n    handleMaskClick: handleMaskClick,\n    others: others\n  });\n}\nvar _default = exports[\"default\"] = AdvFilterContent;\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/base/AdvFilter/AdvFilterContent.jsx?");

/***/ }),

/***/ "./src/component/mobile/base/AdvFilter/AdvFilterList.jsx":
/*!***************************************************************!*\
  !*** ./src/component/mobile/base/AdvFilter/AdvFilterList.jsx ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = AdvFilterList;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _classnames2 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _FilterModule = _interopRequireDefault(__webpack_require__(/*! @/component/mobile/base/FilterModule.less */ \"./src/component/mobile/base/FilterModule.less\"));\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nvar _FilterModule2 = __webpack_require__(/*! @/component/mobile/base/FilterModule */ \"./src/component/mobile/base/FilterModule.jsx\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction AdvFilterList(props) {\n  var rememberFilterCriteria = props.rememberFilterCriteria,\n    advFilterFieldInfoArr = props.advFilterFieldInfoArr,\n    updateAdvFilterArr = props.updateAdvFilterArr,\n    userConfiguration = props.userConfiguration,\n    rememberChecked = props.rememberChecked,\n    handleRemembercheckedStatus = props.handleRemembercheckedStatus,\n    advFilterBoxClassName = props.advFilterBoxClassName,\n    advFilterContClassName = props.advFilterContClassName,\n    handleButtonClick = props.handleButtonClick,\n    handleAdvCustomSetClick = props.handleAdvCustomSetClick,\n    handleAdvResetClick = props.handleAdvResetClick,\n    handleAdvConfirmClick = props.handleAdvConfirmClick,\n    handleMaskClick = props.handleMaskClick,\n    others = props.others;\n  var handleStopPropagation = function handleStopPropagation(e) {\n    e.stopPropagation();\n  };\n  var handleCheck = function handleCheck() {\n    handleRemembercheckedStatus(!rememberChecked);\n  };\n  var renderCheckbox = (0, _react.useCallback)(function (text) {\n    return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _FilterModule[\"default\"].advfilterCheckbox,\n      onClick: handleCheck\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _FilterModule[\"default\"].checkboxContainer\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: 'kdfont kdfont-danliexuanze' + (0, _classnames2[\"default\"])(_defineProperty({}, _FilterModule[\"default\"].unchecked, !rememberChecked)),\n      style: {\n        color: 'var(--kd-cq-theme-color)',\n        fontSize: '12px'\n      }\n    })), /*#__PURE__*/_react[\"default\"].createElement(\"div\", null, text));\n  }, [rememberChecked]);\n  var advFilterBoxCls = (0, _classnames2[\"default\"])(_FilterModule[\"default\"].advfilterbox, advFilterBoxClassName);\n  var advFiltercontentCls = (0, _classnames2[\"default\"])(_FilterModule[\"default\"].advfiltercontent, advFilterContClassName);\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: advFilterBoxCls,\n    onClick: handleMaskClick\n  }, rememberFilterCriteria && /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FilterModule[\"default\"].advfilterHeader,\n    onClick: handleStopPropagation\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FilterModule[\"default\"].advfilterHeadline\n  }, (0, _intlApi.getLangMsg)({\n    key: 'FilterMob.filterHeadline'\n  })), renderCheckbox((0, _intlApi.getLangMsg)({\n    key: 'FilterMob.rememberLastConditions'\n  }))), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: advFiltercontentCls,\n    onClick: handleStopPropagation\n  }, advFilterFieldInfoArr && advFilterFieldInfoArr.filter(function (item) {\n    return item.get('advField') !== true;\n  }).map(function (item, index) {\n    return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _FilterModule[\"default\"].advbox,\n      key: item.get('fieldName')\n    }, /*#__PURE__*/_react[\"default\"].createElement(_FilterModule2.AdvFilterField, _extends({\n      fieldInfo: item\n    }, others, {\n      updateAdvFilterArr: updateAdvFilterArr\n    })));\n  }), advFilterFieldInfoArr && advFilterFieldInfoArr.filter(function (item) {\n    return item.get('advField') !== true;\n  }).size > 0 && /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FilterModule[\"default\"].normalBlank\n  }), advFilterFieldInfoArr && advFilterFieldInfoArr.filter(function (item) {\n    return item.get('advField') === true;\n  }).map(function (item, index) {\n    return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _FilterModule[\"default\"].advbox,\n      key: item.get('fieldName')\n    }, /*#__PURE__*/_react[\"default\"].createElement(_FilterModule2.AdvFilterField, _extends({\n      fieldInfo: item\n    }, others, {\n      updateAdvFilterArr: updateAdvFilterArr\n    })));\n  })), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FilterModule[\"default\"].buttonbox,\n    onClick: handleButtonClick\n  }, userConfiguration && /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames2[\"default\"])([_FilterModule[\"default\"].buttonset]),\n    onClick: handleAdvCustomSetClick\n  }, (0, _intlApi.getLangMsg)({\n    key: 'FilterMob.set'\n  })), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames2[\"default\"])([_FilterModule[\"default\"].reset, _FilterModule[\"default\"].buttonitem]),\n    onClick: handleAdvResetClick\n  }, (0, _intlApi.getLangMsg)({\n    key: 'FilterMob.reset'\n  })), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames2[\"default\"])([_FilterModule[\"default\"].confirm, _FilterModule[\"default\"].buttonitem]),\n    onClick: handleAdvConfirmClick\n  }, (0, _intlApi.getLangMsg)({\n    key: 'FilterMob.confirm'\n  }))));\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/base/AdvFilter/AdvFilterList.jsx?");

/***/ }),

/***/ "./src/component/mobile/base/AdvFilter/AdvFilterListVertical.jsx":
/*!***********************************************************************!*\
  !*** ./src/component/mobile/base/AdvFilter/AdvFilterListVertical.jsx ***!
  \***********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _AdvFilterList = _interopRequireDefault(__webpack_require__(/*! ./AdvFilterList */ \"./src/component/mobile/base/AdvFilter/AdvFilterList.jsx\"));\nvar _AdvFilterListVertical = _interopRequireDefault(__webpack_require__(/*! ./AdvFilterListVertical.less */ \"./src/component/mobile/base/AdvFilter/AdvFilterListVertical.less\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction AdvFilterListVertical(props) {\n  var rememberFilterCriteria = props.rememberFilterCriteria,\n    advFilterFieldInfoArr = props.advFilterFieldInfoArr,\n    updateAdvFilterArr = props.updateAdvFilterArr,\n    userConfiguration = props.userConfiguration,\n    showDirection = props.showDirection,\n    rememberChecked = props.rememberChecked,\n    handleRemembercheckedStatus = props.handleRemembercheckedStatus,\n    handleButtonClick = props.handleButtonClick,\n    handleAdvCustomSetClick = props.handleAdvCustomSetClick,\n    handleAdvResetClick = props.handleAdvResetClick,\n    handleAdvConfirmClick = props.handleAdvConfirmClick,\n    handleMaskClick = props.handleMaskClick,\n    others = props.others;\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _AdvFilterListVertical[\"default\"]['advFilter-Vertical']\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _AdvFilterListVertical[\"default\"]['advFilter-mask'],\n    onClick: handleMaskClick\n  }), /*#__PURE__*/_react[\"default\"].createElement(_AdvFilterList[\"default\"], {\n    rememberFilterCriteria: rememberFilterCriteria,\n    advFilterFieldInfoArr: advFilterFieldInfoArr,\n    updateAdvFilterArr: updateAdvFilterArr,\n    userConfiguration: userConfiguration,\n    rememberChecked: rememberChecked,\n    handleRemembercheckedStatus: handleRemembercheckedStatus,\n    advFilterBoxClassName: _AdvFilterListVertical[\"default\"][\"advFilterBox-\".concat(showDirection)],\n    advFilterContClassName: _AdvFilterListVertical[\"default\"][\"advFilterCont-\".concat(showDirection)],\n    handleButtonClick: handleButtonClick,\n    handleAdvCustomSetClick: handleAdvCustomSetClick,\n    handleAdvResetClick: handleAdvResetClick,\n    handleAdvConfirmClick: handleAdvConfirmClick,\n    handleMaskClick: handleMaskClick,\n    others: others\n  }));\n}\nvar _default = exports[\"default\"] = AdvFilterListVertical;\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/base/AdvFilter/AdvFilterListVertical.jsx?");

/***/ }),

/***/ "./src/component/mobile/base/AdvFilterModule.jsx":
/*!*******************************************************!*\
  !*** ./src/component/mobile/base/AdvFilterModule.jsx ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-properties.js */ \"../../node_modules/core-js/modules/es.object.define-properties.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptors.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.CustomAdvFilterPanel = CustomAdvFilterPanel;\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.find.js */ \"../../node_modules/core-js/modules/es.array.find.js\");\n__webpack_require__(/*! core-js/modules/es.array.find-index.js */ \"../../node_modules/core-js/modules/es.array.find-index.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.array.splice.js */ \"../../node_modules/core-js/modules/es.array.splice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.ends-with.js */ \"../../node_modules/core-js/modules/es.string.ends-with.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.timers.js */ \"../../node_modules/core-js/modules/web.timers.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _FilterModule = _interopRequireDefault(__webpack_require__(/*! ./FilterModule.less */ \"./src/component/mobile/base/FilterModule.less\"));\nvar _classnames2 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nvar _pushCostomUrl = __webpack_require__(/*! @/util/pushCostomUrl */ \"./src/util/pushCostomUrl.js\");\nvar _clientApi = _interopRequireWildcard(__webpack_require__(/*! @/plugin/clientApi */ \"./src/plugin/clientApi.js\"));\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction CustomAdvFilterPanel(props) {\n  var filterArr = props.filterArr,\n    handleConfirmSaveClick = props.handleConfirmSaveClick,\n    locale = props.locale,\n    needShowField = props.needShowField,\n    handlebackEvent = props.handlebackEvent;\n  var _useState = (0, _react.useState)((0, _immutable.List)()),\n    _useState2 = _slicedToArray(_useState, 2),\n    filterLists = _useState2[0],\n    setFilterLists = _useState2[1];\n  var _useState3 = (0, _react.useState)((0, _immutable.List)()),\n    _useState4 = _slicedToArray(_useState3, 2),\n    selectedItems = _useState4[0],\n    setSelectedItems = _useState4[1];\n  var _useState5 = (0, _react.useState)((0, _immutable.List)()),\n    _useState6 = _slicedToArray(_useState5, 2),\n    noSelectedItems = _useState6[0],\n    setNoSelectedItems = _useState6[1];\n  var _useState7 = (0, _react.useState)(''),\n    _useState8 = _slicedToArray(_useState7, 2),\n    searchText = _useState8[0],\n    setSearchText = _useState8[1];\n  var _useState9 = (0, _react.useState)(false),\n    _useState10 = _slicedToArray(_useState9, 2),\n    searchMode = _useState10[0],\n    setSearchMode = _useState10[1];\n  var _useState11 = (0, _react.useState)((0, _immutable.List)()),\n    _useState12 = _slicedToArray(_useState11, 2),\n    normalFilterItems = _useState12[0],\n    setNormalFilterItems = _useState12[1];\n  var selectedItemsData = (0, _react.useRef)();\n  var advFilterPanelRef = (0, _react.useRef)();\n  (0, _react.useEffect)(function () {\n    // 监听路由回退事件\n    var backEvent = function backEvent() {\n      if (!document.location.href.endsWith('?' + _pushCostomUrl.customAdvFilterUrl)) {\n        handlebackEvent();\n      }\n    };\n    window.addEventListener('popstate', backEvent);\n    if (document.title !== '') {\n      (0, _clientApi[\"default\"])('setWebViewTitle', {\n        data: (0, _intlApi.getLangMsg)({\n          key: 'FilterMob.customFilter'\n        })\n      });\n    }\n    return function () {\n      window.removeEventListener('popstate', backEvent);\n      if (document.title !== '') {\n        (0, _clientApi[\"default\"])('setWebViewTitle', {\n          data: (0, _intlApi.getLangMsg)({\n            key: 'FilterMob.customFilter'\n          })\n        });\n      }\n    };\n  }, []);\n  (0, _react.useEffect)(function () {\n    var advFilterArr = filterArr.filter(function (item) {\n      return item.get('advField') === true;\n    });\n    var normalFilterArr = filterArr.filter(function (item) {\n      return item.get('advField') !== true;\n    });\n    var newFilterLists = advFilterArr.map(function (item, index) {\n      if (needShowField.includes(item.get('fieldName'))) {\n        item = item.set('selected', true);\n      }\n      return item;\n    });\n    var newSelectedItems = newFilterLists.filter(function (item) {\n      return item.get('selected');\n    });\n    var newSelectedDatas = (0, _immutable.fromJS)([]);\n    needShowField.forEach(function (fieldName) {\n      var newField = newSelectedItems.find(function (data) {\n        return data.get('fieldName') === fieldName;\n      });\n      if (newField && newField.size > 0) {\n        newSelectedDatas = newSelectedDatas.push(newField);\n      }\n    });\n    newSelectedDatas = newSelectedDatas.map(function (item, index) {\n      // return { ...item, positionNum: index }\n      item = item.set('positionNum', index);\n      return item;\n    });\n    setSelectedItems(newSelectedDatas);\n    setFilterLists(newFilterLists);\n    setNormalFilterItems(normalFilterArr);\n  }, [filterArr]);\n  (0, _react.useEffect)(function () {\n    var newNoSelectedItems = filterLists.filter(function (item) {\n      return !item.get('selected');\n    });\n    if (searchMode) {\n      newNoSelectedItems = newNoSelectedItems.filter(function (item) {\n        var _item$getIn;\n        return (_item$getIn = item.getIn(['fieldCaption', locale])) === null || _item$getIn === void 0 ? void 0 : _item$getIn.includes(searchText);\n      });\n    }\n    newNoSelectedItems = newNoSelectedItems.map(function (item, index) {\n      // return { ...item, positionNum: index }\n      item = item.set('positionNum', index);\n      return item;\n    });\n    setNoSelectedItems(newNoSelectedItems);\n  }, [filterLists, searchText, searchMode]);\n  var handleSelectedChange = (0, _react.useCallback)(function (newAdvFilterLists, fieldList) {\n    // 数据变更\n    var orderIndex = filterLists.findIndex(function (item) {\n      return item.get('fieldName') === fieldList.fieldName;\n    });\n    var newFieldLists = filterLists.setIn([orderIndex, 'selected'], false);\n    setFilterLists(newFieldLists);\n    setSelectedItems((0, _immutable.fromJS)(newAdvFilterLists));\n    if (selectedItemsData.current) {\n      var originSelectedItemsData = selectedItemsData.current;\n      var startIndex = originSelectedItemsData.find(function (item) {\n        return item.get('fieldName') === fieldList.fieldName;\n      }).get('positionNum');\n      var changeArray = (0, _immutable.fromJS)([]);\n      var _loop = function _loop(i) {\n        var pushData = originSelectedItemsData.find(function (item) {\n          return item.get('positionNum') === i;\n        });\n        changeArray = changeArray.push(pushData);\n      };\n      for (var i = startIndex + 1; i <= originSelectedItemsData.size - 1; i++) {\n        _loop(i);\n      }\n\n      // for (const item of changeArray) {\n      //   // vue的$set使更改数据的同时实时刷新样式\n      //   item.positionNum = item.positionNum - 1\n      // }\n      changeArray = changeArray.map(function (item) {\n        var positionNum = item.get('positionNum');\n        return item.set('positionNum', positionNum - 1);\n      });\n      changeArray.forEach(function (item, index) {\n        var orderIndex = originSelectedItemsData.findIndex(function (data) {\n          return data.get('fieldName') === item.get('fieldName');\n        });\n        originSelectedItemsData = originSelectedItemsData.setIn([orderIndex, 'positionNum'], item.get('positionNum'));\n        // newAdvFilterLists[orderIndex].positionNum = item.positionNum\n      });\n      var deleteIndex = originSelectedItemsData.findIndex(function (data) {\n        return data.get('fieldName') === fieldList.fieldName;\n      });\n      originSelectedItemsData = originSelectedItemsData.splice(deleteIndex, 1);\n      selectedItemsData.current = originSelectedItemsData;\n    }\n  });\n  var handleNoSelectedChange = (0, _react.useCallback)(function (newAdvFilterLists, fieldList) {\n    var orderIndex = filterLists.findIndex(function (item) {\n      return item.get('fieldName') === fieldList.fieldName;\n    });\n    var newFieldLists = filterLists.setIn([orderIndex, 'selected'], true);\n    setFilterLists(newFieldLists);\n    var newSelectedItems = selectedItems.push((0, _immutable.fromJS)(_objectSpread(_objectSpread({}, fieldList), {}, {\n      positionNum: selectedItems.size\n    })));\n    setSelectedItems(newSelectedItems);\n    if (selectedItemsData.current) {\n      var originSelectedItemsData = selectedItemsData.current;\n      originSelectedItemsData = originSelectedItemsData.push((0, _immutable.fromJS)(_objectSpread(_objectSpread({}, fieldList), {}, {\n        positionNum: originSelectedItemsData.size\n      })));\n      selectedItemsData.current = originSelectedItemsData;\n    }\n  });\n  var handleOnChange = (0, _react.useCallback)(function (value) {\n    setSearchText(value);\n    handleDebounceSearch(value);\n  }, [searchMode, selectedItems]);\n  var handleSearch = (0, _react.useCallback)(function (value) {\n    console.log('handleDebounceSearch', value);\n    // setSearchText(value)\n    if (value !== '') {\n      if (!searchMode) {\n        selectedItemsData.current = selectedItems;\n      }\n      var newSelectedSortData = (0, _immutable.fromJS)([]);\n      var _loop2 = function _loop2(i) {\n        var orderIndex = selectedItemsData.current.findIndex(function (item) {\n          return item.get('positionNum') === i;\n        });\n        newSelectedSortData = newSelectedSortData.push(selectedItemsData.current.get(orderIndex));\n      };\n      for (var i = 0; i < selectedItemsData.current.size; i++) {\n        _loop2(i);\n      }\n      var newSelectedItems = newSelectedSortData.filter(function (item) {\n        var _item$getIn2;\n        return (_item$getIn2 = item.getIn(['fieldCaption', locale])) === null || _item$getIn2 === void 0 ? void 0 : _item$getIn2.includes(value);\n      });\n      // console.log(newSelectedSortData)\n      newSelectedItems = newSelectedItems.map(function (item, index) {\n        // return { ...item, positionNum: index }\n        item = item.set('positionNum', index);\n        return item;\n      });\n      setSelectedItems(newSelectedItems);\n      // setNoSelectedItems(newNoSelectedItems)\n      setSearchMode(true);\n    } else {\n      if (searchMode) {\n        var newSelectedItemsData = selectedItemsData.current;\n        selectedItemsData.current = null;\n        setSelectedItems(newSelectedItemsData);\n        // setNoSelectedItems(newNoSelectedItems)\n\n        setSearchMode(false);\n      }\n    }\n  }, [searchMode, selectedItems]);\n  var handleDebounceSearch = _lodash[\"default\"].debounce(handleSearch, 800, {\n    trailing: true\n  });\n  var handleSetSelectedItems = function handleSetSelectedItems(selectedItems) {\n    if (selectedItemsData.current) {\n      selectedItemsData.current = selectedItems;\n    }\n    setSelectedItems(selectedItems);\n  };\n  var saveSelectedData = function saveSelectedData() {\n    var newSelectedSortData = [];\n    if (searchMode) {\n      var _loop3 = function _loop3(i) {\n        var orderIndex = selectedItemsData.current.findIndex(function (item) {\n          return item.get('positionNum') === i;\n        });\n        newSelectedSortData.push(selectedItemsData.current.getIn([orderIndex, 'fieldName']));\n      };\n      for (var i = 0; i < selectedItemsData.current.size; i++) {\n        _loop3(i);\n      }\n    } else {\n      var _loop4 = function _loop4(_i) {\n        var orderIndex = selectedItems.findIndex(function (item) {\n          return item.get('positionNum') === _i;\n        });\n        newSelectedSortData.push(selectedItems.getIn([orderIndex, 'fieldName']));\n      };\n      for (var _i = 0; _i < selectedItems.size; _i++) {\n        _loop4(_i);\n      }\n    }\n    if (document.location.href.endsWith('?' + _pushCostomUrl.customAdvFilterUrl)) {\n      window.history.go(-1);\n    }\n    handleConfirmSaveClick(newSelectedSortData);\n  };\n  var handleForbidScroll = function handleForbidScroll(dragType) {\n    if (dragType === 'dragMove') {\n      advFilterPanelRef.current.style.overflow = 'hidden';\n    } else {\n      advFilterPanelRef.current.style.overflow = 'auto';\n    }\n  };\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FilterModule[\"default\"].advfilterpanel,\n    ref: advFilterPanelRef\n  }, /*#__PURE__*/_react[\"default\"].createElement(SearchBox, {\n    searchText: searchText,\n    onChange: handleOnChange\n  }), /*#__PURE__*/_react[\"default\"].createElement(AdvNormalFilterFieldList, {\n    title: (0, _intlApi.getLangMsg)({\n      key: 'FilterMob.normalSelectedItem'\n    }),\n    fieldLists: normalFilterItems.toJS(),\n    locale: locale\n  }), /*#__PURE__*/_react[\"default\"].createElement(AdvFilterFieldList, {\n    title: (0, _intlApi.getLangMsg)({\n      key: 'FilterMob.selectedItem'\n    }),\n    isShowDragableIcon: !searchMode,\n    fieldLists: selectedItems.toJS(),\n    locale: locale,\n    handleChange: handleSelectedChange,\n    handleSetSelectedItems: handleSetSelectedItems,\n    handleForbidScroll: handleForbidScroll,\n    selected: true\n  }), /*#__PURE__*/_react[\"default\"].createElement(AdvFilterFieldList, {\n    title: (0, _intlApi.getLangMsg)({\n      key: 'FilterMob.noSelectedItem'\n    }),\n    isShowDragableIcon: false,\n    fieldLists: noSelectedItems.toJS(),\n    locale: locale,\n    handleChange: handleNoSelectedChange,\n    handleSetSelectedItems: handleSetSelectedItems,\n    handleForbidScroll: handleForbidScroll\n  }), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FilterModule[\"default\"].btnContainer\n  }, !searchMode && /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FilterModule[\"default\"].confrim,\n    onClick: saveSelectedData\n  }, (0, _intlApi.getLangMsg)({\n    key: 'FilterMob.save'\n  }))));\n}\nfunction SearchBox(props) {\n  var onChange = props.onChange,\n    onClick = props.onClick,\n    searchText = props.searchText,\n    autoFocus = props.autoFocus,\n    readOnly = props.readOnly,\n    placeHolder = props.placeHolder;\n  var _useState13 = (0, _react.useState)(false),\n    _useState14 = _slicedToArray(_useState13, 2),\n    clearIconVisible = _useState14[0],\n    setClearIconVisible = _useState14[1];\n  // const [searchValue, setSearchValue] = useState('')\n  var inputRef = (0, _react.useRef)();\n  var searchBarRef = (0, _react.useRef)();\n  (0, _react.useEffect)(function () {\n    autoFocus && inputRef.current.focus();\n  }, []);\n  (0, _react.useEffect)(function () {\n    setClearIconVisible(searchText !== '');\n  }, [searchText]);\n  var handleInputFocus = (0, _react.useCallback)(function (e) {\n    e.stopPropagation();\n    // const value = e.target.value\n  }, []);\n  var handleInputChange = (0, _react.useCallback)(function (e) {\n    e.stopPropagation();\n    var value = e.target.value;\n    onChange && onChange(value);\n  }, [onChange]);\n  var handleClearBtnClick = (0, _react.useCallback)(function (e) {\n    e.stopPropagation();\n    var inputEle = inputRef.current;\n    inputEle && inputEle.focus();\n    onChange && onChange('');\n  }, [onChange]);\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FilterModule[\"default\"].searchBar,\n    ref: searchBarRef,\n    onClick: onClick\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FilterModule[\"default\"].searchInput\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: \"kdfont kdfont-sousuo2 \".concat(_FilterModule[\"default\"].searchIcon)\n  }), /*#__PURE__*/_react[\"default\"].createElement(\"form\", {\n    action: \"\",\n    className: _FilterModule[\"default\"].searchForm,\n    onSubmit: function onSubmit(e) {\n      return e.preventDefault();\n    }\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"input\", {\n    className: _FilterModule[\"default\"].input,\n    type: \"search\",\n    ref: inputRef,\n    placeholder: placeHolder || (0, _intlApi.getLangMsg)('SearchBox.placeholder'),\n    onFocus: handleInputFocus,\n    value: searchText,\n    onChange: handleInputChange,\n    readOnly: readOnly\n  })), clearIconVisible && /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: \"kdfont kdfont-shurukuangqingkongtubiao \".concat(_FilterModule[\"default\"].clearIcon),\n    onClick: handleClearBtnClick\n  })));\n}\nfunction AdvFilterFieldList(props) {\n  var title = props.title,\n    isShowDragableIcon = props.isShowDragableIcon,\n    fieldLists = props.fieldLists,\n    locale = props.locale,\n    handleChange = props.handleChange,\n    handleSetSelectedItems = props.handleSetSelectedItems,\n    selected = props.selected,\n    handleForbidScroll = props.handleForbidScroll;\n  var _useState15 = (0, _react.useState)([]),\n    _useState16 = _slicedToArray(_useState15, 2),\n    advFilterLists = _useState16[0],\n    setAdvFilterLists = _useState16[1];\n  var _useState17 = (0, _react.useState)([]),\n    _useState18 = _slicedToArray(_useState17, 2),\n    positionsInfo = _useState18[0],\n    setPositionsInfo = _useState18[1];\n\n  // 持有每个节点的位置信息\n  // const positionsInfo = useRef()\n  var filterContainer = (0, _react.useRef)();\n  var dragPostionRange = (0, _react.useRef)();\n  (0, _react.useEffect)(function () {\n    setAdvFilterLists(fieldLists);\n  }, [fieldLists]);\n  (0, _react.useEffect)(function () {\n    var _filterContainer$curr;\n    var offsetWidth = (_filterContainer$curr = filterContainer.current) === null || _filterContainer$curr === void 0 ? void 0 : _filterContainer$curr.offsetWidth;\n    var filterItemHeight = 48;\n    var position = advFilterLists.map(function (_, index) {\n      return {\n        top: index * filterItemHeight,\n        left: 0,\n        width: offsetWidth,\n        height: filterItemHeight,\n        index: index\n      };\n    });\n    dragPostionRange.current = {\n      minY: -10,\n      maxY: (advFilterLists.length - 1) * 48 + 10\n    };\n    setPositionsInfo(position);\n  }, [advFilterLists]);\n  var handleNoticeCurrentEleInfo = function handleNoticeCurrentEleInfo(selectedItem, top, left) {\n    var newPostionData = calcSwapPosition(top, left);\n    if (newPostionData && newPostionData.index !== selectedItem.positionNum) {\n      var newItem = advFilterLists.find(function (item) {\n        return item.positionNum === newPostionData.index;\n      });\n      if (newItem) {\n        swicthPosition(newItem, selectedItem);\n      }\n    }\n  };\n  var calcSwapPosition = function calcSwapPosition(top, left) {\n    var newPos = positionsInfo.find(function (item) {\n      var _filterContainer$curr2;\n      return Math.abs(item.left - left) < ((_filterContainer$curr2 = filterContainer.current) === null || _filterContainer$curr2 === void 0 ? void 0 : _filterContainer$curr2.offsetWidth) / 2 && Math.abs(item.top - top) < 24;\n    });\n    return newPos;\n  };\n  var swicthPosition = function swicthPosition(newItem, originItem) {\n    var OldPositon = originItem.positionNum;\n    var NewPositon = newItem.positionNum;\n    var newAdvFilterLists = advFilterLists.slice();\n    if (NewPositon > OldPositon) {\n      var changeArray = [];\n      // 从小移动到大，那小的号码就会空出来，其余卡片应往前移动一位\n      // 找出两个号码中间对应的卡片数据\n      var _loop5 = function _loop5(i) {\n        var pushData = advFilterLists.find(function (item) {\n          return item.positionNum === i;\n        });\n        changeArray.push(pushData);\n      };\n      for (var i = OldPositon + 1; i <= NewPositon; i++) {\n        _loop5(i);\n      }\n      for (var _i2 = 0, _changeArray = changeArray; _i2 < _changeArray.length; _i2++) {\n        var item = _changeArray[_i2];\n        // vue的$set使更改数据的同时实时刷新样式\n        item.positionNum = item.positionNum - 1;\n      }\n\n      // that.$set(originItem, \"positionNum\", NewPositon);\n      changeArray.push(_objectSpread(_objectSpread({}, originItem), {}, {\n        positionNum: NewPositon\n      }));\n      changeArray.forEach(function (item, index) {\n        var orderIndex = newAdvFilterLists.findIndex(function (data) {\n          return data.fieldName === item.fieldName;\n        });\n        newAdvFilterLists[orderIndex].positionNum = item.positionNum;\n      });\n    }\n\n    // 位置号码从大移动到小\n    if (NewPositon < OldPositon) {\n      var _changeArray2 = [];\n      // 从大移动到小，那大的号码就会空出来，其余卡片应往后移动一位\n      // 找出两个号码中间对应的卡片数据\n      var _loop6 = function _loop6(_i3) {\n        var pushData = advFilterLists.find(function (item) {\n          return item.positionNum === _i3;\n        });\n        _changeArray2.push(pushData);\n      };\n      for (var _i3 = OldPositon - 1; _i3 >= NewPositon; _i3--) {\n        _loop6(_i3);\n      }\n      for (var _i4 = 0, _changeArray3 = _changeArray2; _i4 < _changeArray3.length; _i4++) {\n        var _item = _changeArray3[_i4];\n        _item.positionNum = _item.positionNum + 1;\n      }\n      _changeArray2.push(_objectSpread(_objectSpread({}, originItem), {}, {\n        positionNum: NewPositon\n      }));\n      _changeArray2.forEach(function (item, index) {\n        var orderIndex = newAdvFilterLists.findIndex(function (data) {\n          return data.fieldName === item.fieldName;\n        });\n        newAdvFilterLists[orderIndex].positionNum = item.positionNum;\n      });\n    }\n    setAdvFilterLists(newAdvFilterLists);\n    // setSelectedItems(fromJS(newAdvFilterLists))\n  };\n  var handleNoticeInfo = function handleNoticeInfo() {\n    // setSelectedItems(fromJS(advFilterLists))\n    handleSetSelectedItems((0, _immutable.fromJS)(advFilterLists));\n  };\n  var handleSelectedChange = function handleSelectedChange(fieldList) {\n    var newAdvFilterLists = advFilterLists.slice();\n    var startIndex = fieldList.positionNum;\n    var changeArray = [];\n    var _loop7 = function _loop7(i) {\n      var pushData = advFilterLists.find(function (item) {\n        return item.positionNum === i;\n      });\n      changeArray.push(pushData);\n    };\n    for (var i = startIndex + 1; i <= newAdvFilterLists.length - 1; i++) {\n      _loop7(i);\n    }\n    for (var _i5 = 0, _changeArray4 = changeArray; _i5 < _changeArray4.length; _i5++) {\n      var item = _changeArray4[_i5];\n      // vue的$set使更改数据的同时实时刷新样式\n      item.positionNum = item.positionNum - 1;\n    }\n    changeArray.forEach(function (item, index) {\n      var orderIndex = newAdvFilterLists.findIndex(function (data) {\n        return data.fieldName === item.fieldName;\n      });\n      newAdvFilterLists[orderIndex].positionNum = item.positionNum;\n    });\n    var deleteIndex = newAdvFilterLists.findIndex(function (data) {\n      return data.fieldName === fieldList.fieldName;\n    });\n    newAdvFilterLists.splice(deleteIndex, 1);\n    handleChange(newAdvFilterLists, fieldList);\n  };\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FilterModule[\"default\"].advFieldList\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FilterModule[\"default\"].advFilterListTitle\n  }, title), advFilterLists.length === 0 && selected && /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FilterModule[\"default\"].nodata\n  }, (0, _intlApi.getLangMsg)({\n    key: 'FilterMob.tianJiaXuanXiang'\n  })), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FilterModule[\"default\"].advFilterContainer,\n    ref: filterContainer,\n    style: {\n      height: advFilterLists.length * 48\n    }\n  }, advFilterLists.map(function (fieldList, index) {\n    return /*#__PURE__*/_react[\"default\"].createElement(AdvFilterFieldItem, {\n      key: fieldList.fieldName,\n      isShowDragableIcon: isShowDragableIcon,\n      locale: locale,\n      fieldList: fieldList,\n      handleChange: handleSelectedChange,\n      position: positionsInfo[fieldList.positionNum],\n      handleNoticeCurrentEleInfo: handleNoticeCurrentEleInfo,\n      handleNoticeInfo: handleNoticeInfo,\n      selected: selected,\n      handleForbidScroll: handleForbidScroll,\n      dragPostionRange: dragPostionRange\n    });\n  })));\n}\nfunction AdvFilterFieldItem(props) {\n  var isShowDragableIcon = props.isShowDragableIcon,\n    fieldList = props.fieldList,\n    locale = props.locale,\n    handleChange = props.handleChange,\n    position = props.position,\n    handleNoticeCurrentEleInfo = props.handleNoticeCurrentEleInfo,\n    handleNoticeInfo = props.handleNoticeInfo,\n    selected = props.selected,\n    handleForbidScroll = props.handleForbidScroll,\n    dragPostionRange = props.dragPostionRange;\n  var draggableEle = (0, _react.useRef)();\n  var preTouches = (0, _react.useRef)();\n  var currentPositin = (0, _react.useRef)(position);\n  var isDragabling = (0, _react.useRef)(false);\n  var mousedownTimer = (0, _react.useRef)(null);\n  var touchStartTime = (0, _react.useRef)(null);\n  var touchMoveTime = (0, _react.useRef)(null);\n  var firstDrag = (0, _react.useRef)(true);\n  var handleTouchStart = (0, _react.useCallback)(function (e) {\n    // 1.设置拖拽元素的样式\n    // draggableEle.current.style.zIndex = 1\n    // draggableEle.current.style.boxShadow = '0px 4px 8px 0px rgba(0,0,0,0.16)'\n    // draggableEle.current.style.backgroundColor = '#F5F5F5'\n    // 1.通知父元素当前拖拽的是那个元素\n    // 2.记录起始拖拽坐标\n    preTouches.current = e.touches;\n    // e.target.style.color = '#a9a9a9'\n    handleForbidScroll('dragStart');\n    touchStartTime.current = new Date();\n  }, []);\n  var handleTouchMove = (0, _react.useCallback)(function (e) {\n    // 1.移动过程中不断改变拖拽元素的left,top\n    if (!touchMoveTime.current) {\n      touchMoveTime.current = new Date();\n    }\n    // console.log(touchMoveTime.current - touchStartTime.current)\n    if (touchMoveTime.current - touchStartTime.current > 300) {\n      var _currentPositin$curre, _currentPositin$curre2;\n      // 1.设置拖拽元素的样式\n      if (firstDrag.current) {\n        draggableEle.current.style.zIndex = 1;\n        draggableEle.current.style.boxShadow = '0px 4px 8px 0px rgba(0,0,0,0.16)';\n        draggableEle.current.style.backgroundColor = '#F5F5F5';\n        e.target.style.color = '#a9a9a9';\n        firstDrag.current = false;\n      }\n      var touches = e.touches;\n      var _calcMoveStatus = calcMoveStatus(preTouches, touches),\n        y = _calcMoveStatus.y;\n      var top = ((_currentPositin$curre = currentPositin.current) === null || _currentPositin$curre === void 0 ? void 0 : _currentPositin$curre.top) + y;\n      if (dragPostionRange && dragPostionRange.current) {\n        var _dragPostionRange$cur, _dragPostionRange$cur3;\n        if (top < ((_dragPostionRange$cur = dragPostionRange.current) === null || _dragPostionRange$cur === void 0 ? void 0 : _dragPostionRange$cur.minY)) {\n          var _dragPostionRange$cur2;\n          top = (_dragPostionRange$cur2 = dragPostionRange.current) === null || _dragPostionRange$cur2 === void 0 ? void 0 : _dragPostionRange$cur2.minY;\n        } else if (top > ((_dragPostionRange$cur3 = dragPostionRange.current) === null || _dragPostionRange$cur3 === void 0 ? void 0 : _dragPostionRange$cur3.maxY)) {\n          var _dragPostionRange$cur4;\n          top = (_dragPostionRange$cur4 = dragPostionRange.current) === null || _dragPostionRange$cur4 === void 0 ? void 0 : _dragPostionRange$cur4.maxY;\n        }\n      }\n      var left = (_currentPositin$curre2 = currentPositin.current) === null || _currentPositin$curre2 === void 0 ? void 0 : _currentPositin$curre2.left;\n      draggableEle.current.style.transition = 'none';\n      draggableEle.current.style.top = \"\".concat(top, \"px\");\n      handleNoticeCurrentEleInfo(fieldList, top, left);\n      isDragabling.current = true;\n      handleForbidScroll('dragMove');\n    }\n  }, [position, fieldList]);\n  var handleTouchEnd = (0, _react.useCallback)(function (e) {\n    // 1.当前拖拽元素回到正确位置\n    isDragabling.current = false;\n    draggableEle.current.style.left = \"\".concat(position === null || position === void 0 ? void 0 : position.left, \"px\");\n    draggableEle.current.style.top = \"\".concat(position === null || position === void 0 ? void 0 : position.top, \"px\");\n    draggableEle.current.style.transition = 'all 0.3s';\n    e.target.style.color = '#dadada';\n    handleForbidScroll('dragEnd');\n    if (touchMoveTime.current - touchStartTime.current > 300) {\n      mousedownTimer.current = setTimeout(function () {\n        handleNoticeInfo();\n        draggableEle.current.style.zIndex = 0;\n        draggableEle.current.style.boxShadow = 'none';\n        draggableEle.current.style.backgroundColor = '#FFF';\n        clearTimeout(mousedownTimer.current);\n        mousedownTimer.current = null;\n        touchMoveTime.current = null;\n        firstDrag.current = true;\n      }, 300);\n    } else {\n      touchMoveTime.current = null;\n    }\n  }, [position]);\n  var handleTouchCacle = (0, _react.useCallback)(function (e) {\n    // 1.当前拖拽元素回到正确位置\n    handleForbidScroll('dragCancle');\n    isDragabling.current = false;\n    draggableEle.current.style.left = \"\".concat(position === null || position === void 0 ? void 0 : position.left, \"px\");\n    draggableEle.current.style.top = \"\".concat(position === null || position === void 0 ? void 0 : position.top, \"px\");\n    draggableEle.current.style.transition = 'all 0.3s';\n    e.target.style.color = '#dadada';\n    handleForbidScroll('dragEnd');\n    if (touchMoveTime.current - touchStartTime.current > 300) {\n      mousedownTimer.current = setTimeout(function () {\n        handleNoticeInfo();\n        draggableEle.current.style.zIndex = 0;\n        draggableEle.current.style.boxShadow = 'none';\n        draggableEle.current.style.backgroundColor = '#FFF';\n        clearTimeout(mousedownTimer.current);\n        mousedownTimer.current = null;\n        touchMoveTime.current = null;\n        firstDrag.current = true;\n      }, 300);\n    } else {\n      touchMoveTime.current = null;\n    }\n  }, [position]);\n  var calcMoveStatus = function calcMoveStatus(preTouches, touches) {\n    var _preTouches$current$ = preTouches.current[0],\n      x1 = _preTouches$current$.screenX,\n      y1 = _preTouches$current$.screenY;\n    var _touches$ = touches[0],\n      x2 = _touches$.screenX,\n      y2 = _touches$.screenY;\n    var deltaX = x2 - x1;\n    var deltaY = y2 - y1;\n    return {\n      x: deltaX,\n      y: deltaY\n    };\n  };\n  var handleOperation = (0, _react.useCallback)(function () {\n    handleChange(fieldList);\n  });\n  (0, _react.useEffect)(function () {\n    if (!isDragabling.current) {\n      currentPositin.current = position;\n      draggableEle.current.style.left = \"\".concat(position === null || position === void 0 ? void 0 : position.left, \"px\");\n      draggableEle.current.style.top = \"\".concat(position === null || position === void 0 ? void 0 : position.top, \"px\");\n      if (!isShowDragableIcon) {\n        draggableEle.current.style.transition = 'none';\n      }\n    }\n    // draggableEle.current.style.cssText = `left:${position?.left}px;top:${position?.top}px`\n  }, [position]);\n  var operationStyle = (0, _classnames2[\"default\"])(_FilterModule[\"default\"].operationBtn, _defineProperty(_defineProperty(_defineProperty(_defineProperty({}, _FilterModule[\"default\"].operaddBtn, !selected), _FilterModule[\"default\"].operdelBtn, selected), 'kdfont kdfont-tianjia5', !selected), 'kdfont kdfont-shanchu9', selected));\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FilterModule[\"default\"].advFieldItem,\n    ref: draggableEle\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    onClick: handleOperation,\n    className: operationStyle\n  }), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FilterModule[\"default\"].title\n  }, fieldList === null || fieldList === void 0 ? void 0 : fieldList.fieldCaption[locale]), isShowDragableIcon && /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    onTouchStart: handleTouchStart,\n    onTouchEnd: handleTouchEnd,\n    onTouchMove: handleTouchMove,\n    onTouchCancel: handleTouchCacle,\n    className: (0, _classnames2[\"default\"])(_FilterModule[\"default\"].dragIcon, 'kdfont kdfont-tuozhuai2')\n  }));\n}\nfunction AdvNormalFilterFieldList(props) {\n  var title = props.title,\n    fieldLists = props.fieldLists,\n    locale = props.locale;\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FilterModule[\"default\"].advFieldList\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FilterModule[\"default\"].advFilterListTitle\n  }, title), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FilterModule[\"default\"].advFilterContainer\n  }, fieldLists && fieldLists.map(function (fieldList, index) {\n    return /*#__PURE__*/_react[\"default\"].createElement(AdvNormalFilterFieldItem, {\n      key: fieldList.fieldName,\n      locale: locale,\n      fieldList: fieldList\n    });\n  })));\n}\nfunction AdvNormalFilterFieldItem(props) {\n  var fieldList = props.fieldList,\n    locale = props.locale;\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FilterModule[\"default\"].advNormalFieldItem\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FilterModule[\"default\"].title\n  }, fieldList === null || fieldList === void 0 ? void 0 : fieldList.fieldCaption[locale]));\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/base/AdvFilterModule.jsx?");

/***/ }),

/***/ "./src/component/mobile/base/Filter.jsx":
/*!**********************************************!*\
  !*** ./src/component/mobile/base/Filter.jsx ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = Filter;\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.find.js */ \"../../node_modules/core-js/modules/es.array.find.js\");\n__webpack_require__(/*! core-js/modules/es.array.find-index.js */ \"../../node_modules/core-js/modules/es.array.find-index.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\n__webpack_require__(/*! core-js/modules/es.string.search.js */ \"../../node_modules/core-js/modules/es.string.search.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _Filter = _interopRequireDefault(__webpack_require__(/*! ./Filter.less */ \"./src/component/mobile/base/Filter.less\"));\nvar _classnames7 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _SieveItem = _interopRequireDefault(__webpack_require__(/*! ./SieveItem */ \"./src/component/mobile/base/SieveItem.jsx\"));\nvar _SortItem = _interopRequireWildcard(__webpack_require__(/*! ./SortItem */ \"./src/component/mobile/base/SortItem.jsx\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _serverproperties = __webpack_require__(/*! @/constant/serverproperties.js */ \"./src/constant/serverproperties.js\");\nvar _FilterModule = __webpack_require__(/*! ./FilterModule */ \"./src/component/mobile/base/FilterModule.jsx\");\nvar _lodash = __webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\");\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nvar _resizeObserve = _interopRequireDefault(__webpack_require__(/*! @/util/resizeObserve */ \"./src/util/resizeObserve.js\"));\nvar _excluded = [\"style\", \"className\", \"children\", \"locale\", \"search\", \"entryenties\", \"baseDataClick\", \"f7selected\", \"schemeQuery\", \"filterscheme\", \"schemeSearch\", \"fid\", \"pageId\", \"userConfiguration\", \"userInitialField\", \"synchronizeFilterItems\", \"rememberFilterCriteria\", \"getUserRememberResult\", \"setUserRememberResult\", \"id\", \"showDirection\"];\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nfunction Filter(props) {\n  var _getUserRememberResul;\n  var style = props.style,\n    className = props.className,\n    children = props.children,\n    locale = props.locale,\n    search = props.search,\n    entryenties = props.entryenties,\n    baseDataClick = props.baseDataClick,\n    f7selected = props.f7selected,\n    schemeQuery = props.schemeQuery,\n    filterscheme = props.filterscheme,\n    schemeSearch = props.schemeSearch,\n    fid = props.fid,\n    pageId = props.pageId,\n    userConfiguration = props.userConfiguration,\n    userInitialField = props.userInitialField,\n    synchronizeFilterItems = props.synchronizeFilterItems,\n    rememberFilterCriteria = props.rememberFilterCriteria,\n    getUserRememberResult = props.getUserRememberResult,\n    setUserRememberResult = props.setUserRememberResult,\n    id = props.id,\n    showDirection = props.showDirection,\n    others = _objectWithoutProperties(props, _excluded);\n  var rememberCheckedKey = \"__\".concat(id, \"_remember_checked__\");\n  var rememberFilterResultKey = \"__\".concat(id, \"_remember_filter_result__\");\n  var filterboxRef = (0, _react.useRef)();\n  var _useState = (0, _react.useState)(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    isShowDownDropPanel = _useState2[0],\n    setIsShowDownDropPanel = _useState2[1]; // 是否显示下拉面板\n  var _useState3 = (0, _react.useState)({}),\n    _useState4 = _slicedToArray(_useState3, 2),\n    panelItems = _useState4[0],\n    setPanelItems = _useState4[1]; // 下拉面板信息\n  var _useState5 = (0, _react.useState)([[], [], '']),\n    _useState6 = _slicedToArray(_useState5, 2),\n    filterVal = _useState6[0],\n    setFilterVal = _useState6[1]; // 存储各个筛选项的选择结果，发送给后端\n  var _useState7 = (0, _react.useState)({}),\n    _useState8 = _slicedToArray(_useState7, 2),\n    activeSortItem = _useState8[0],\n    setActiveSortItem = _useState8[1]; // 处于激活状态的排序项key\n  var _useState9 = (0, _react.useState)(''),\n    _useState10 = _slicedToArray(_useState9, 2),\n    activeSieveItem = _useState10[0],\n    setActiveSieveItem = _useState10[1]; // 处于激活状态的过滤项key\n  var _useState11 = (0, _react.useState)(children),\n    _useState12 = _slicedToArray(_useState11, 2),\n    childrenInfo = _useState12[0],\n    setChildrenInfo = _useState12[1]; // 各个筛选项的具体信息\n  var _useState13 = (0, _react.useState)((0, _immutable.List)()),\n    _useState14 = _slicedToArray(_useState13, 2),\n    filterSortInfo = _useState14[0],\n    setFilterSortInfo = _useState14[1]; // 各个筛选项的具体信息\n  var _useState15 = (0, _react.useState)((0, _immutable.List)()),\n    _useState16 = _slicedToArray(_useState15, 2),\n    advFilterArr = _useState16[0],\n    setAdvFilterArr = _useState16[1]; // 高级筛选面板里的各个筛选项的具体信息\n  var _useState17 = (0, _react.useState)(false),\n    _useState18 = _slicedToArray(_useState17, 2),\n    isShowAdvFilterButton = _useState18[0],\n    setShowAdvFilterButton = _useState18[1]; // 是否显示高级筛选按钮\n  var _useState19 = (0, _react.useState)(false),\n    _useState20 = _slicedToArray(_useState19, 2),\n    isShowAdvFilterPanel = _useState20[0],\n    setShowAdvFilterPanel = _useState20[1]; // 是否显示高级筛选面板\n  var _useState21 = (0, _react.useState)(false),\n    _useState22 = _slicedToArray(_useState21, 2),\n    hasAdvVal = _useState22[0],\n    setHasAdvVal = _useState22[1];\n  var _useState23 = (0, _react.useState)(false),\n    _useState24 = _slicedToArray(_useState23, 2),\n    isShowFilterSchemePanel = _useState24[0],\n    setIsShowFilterSchemePanel = _useState24[1]; // 是否显示查询方案面板\n  var _useState25 = (0, _react.useState)(filterscheme),\n    _useState26 = _slicedToArray(_useState25, 2),\n    filterScheme = _useState26[0],\n    setFilterScheme = _useState26[1];\n  var _useState27 = (0, _react.useState)(''),\n    _useState28 = _slicedToArray(_useState27, 2),\n    activeFilterSchemeItem = _useState28[0],\n    setActiveFilterSchemeItem = _useState28[1]; // 处于激活状态的过滤项key\n  var _useState29 = (0, _react.useState)(false),\n    _useState30 = _slicedToArray(_useState29, 2),\n    isShowMultidimensionalSortPanel = _useState30[0],\n    setIsShowMultidimensionalSortPanel = _useState30[1]; // 是否显示查询方案面板\n  var _useState31 = (0, _react.useState)(''),\n    _useState32 = _slicedToArray(_useState31, 2),\n    activeMultidimensionalSortItem = _useState32[0],\n    setActiveMultidimensionalSortItem = _useState32[1]; // 处于激活状态的排序项key\n  var _useState33 = (0, _react.useState)((_getUserRememberResul = getUserRememberResult(rememberCheckedKey)) !== null && _getUserRememberResul !== void 0 ? _getUserRememberResul : false),\n    _useState34 = _slicedToArray(_useState33, 2),\n    rememberChecked = _useState34[0],\n    setRememberChecked = _useState34[1];\n  var filterSchemeItemBottomWhenClick = (0, _react.useRef)(0); // 筛选项点击时，相对页面的bottom，部分手机在render时获取的异常，后续如果需要rect再修改\n\n  var getFilterSchemeActiveItemBottom = (0, _react.useCallback)(function () {\n    return filterSchemeItemBottomWhenClick.current;\n  }, []);\n\n  // 获取当前单体key\n  var getEntryentyKey = (0, _react.useCallback)(function (entryenties) {\n    if (!entryenties || entryenties.size === 0) return '';\n    if (entryenties.size === 1) {\n      var items = entryenties.get(0);\n      if (items.get('parentKey') === '') {\n        return items.get('key') || '';\n      }\n    } else {\n      var _items = entryenties.find(function (i) {\n        return i.get('parentKey') !== '';\n      });\n      return _items ? _items.get('key') : '';\n    }\n    return '';\n  }, []);\n\n  // 如果有isNeedMore，则加上更多\n  var handleIsNeedMore = function handleIsNeedMore(childrenInfos) {\n    return childrenInfos.map(function (childrenInfo) {\n      if (childrenInfo.get('isNeedMore') && childrenInfo.get('items')) {\n        return childrenInfo.updateIn(['items'], function (items) {\n          return items.push((0, _immutable.fromJS)({\n            caption: _defineProperty({}, locale, (0, _intlApi.getLangMsg)('FilterMob.more')),\n            f7Click: true\n          }));\n        });\n      }\n      return childrenInfo;\n    });\n  };\n  (0, _react.useEffect)(function () {\n    var entryKey = getEntryentyKey(entryenties);\n    var newVal = _toConsumableArray(filterVal);\n    newVal[2] = entryKey;\n    setFilterVal(newVal);\n  }, [entryenties]);\n  (0, _react.useEffect)(function () {\n    // 设置值的条件：1.有高级过滤面板，2.记住过滤项属性开启,3.勾选了记住筛选\n    var _advFilterArr = (0, _immutable.List)();\n    if (!synchronizeFilterItems) {\n      _advFilterArr = children.filter(function (item) {\n        return item.get('advField') === true;\n      });\n    } else {\n      _advFilterArr = children.filter(function (item) {\n        return item.get('type') !== _serverproperties.FILTER_TYPE_SORT;\n      });\n    }\n    var rememberChecked = getUserRememberResult(rememberCheckedKey);\n    if (_advFilterArr.size > 0 && rememberFilterCriteria && rememberChecked) {\n      var newChildrenInfo = children.map(function (info) {\n        var _getUserRememberResul2;\n        var result = (_getUserRememberResul2 = getUserRememberResult(rememberFilterResultKey)) !== null && _getUserRememberResul2 !== void 0 ? _getUserRememberResul2 : (0, _immutable.fromJS)([]);\n        var filterSortItem = result.find(function (item) {\n          return item.get('fieldName') === info.get('fieldName');\n        });\n        info = info.set('values', filterSortItem === null || filterSortItem === void 0 ? void 0 : filterSortItem.get('values'));\n        var type = info.get('type');\n        if (_serverproperties.basedataTypes.includes(type)) {\n          info = info.set('items', filterSortItem === null || filterSortItem === void 0 ? void 0 : filterSortItem.get('items'));\n        } else if (_serverproperties.userTypes.includes(type)) {\n          info = info.set('f7Items', filterSortItem === null || filterSortItem === void 0 ? void 0 : filterSortItem.get('f7Items'));\n        }\n        return info;\n      });\n      var a = composeSieveResult(newChildrenInfo);\n      var newVal = _toConsumableArray(filterVal);\n      newVal[0] = a;\n      setFilterVal(newVal);\n      handleSearch(newVal, newChildrenInfo);\n      setChildrenInfo(newChildrenInfo);\n    }\n  }, []);\n  (0, _react.useEffect)(function () {\n    setChildrenInfo(function (childrenInfo) {\n      var newChildrenInfo = children.map(function (info) {\n        var filterSortItem = childrenInfo.find(function (item) {\n          return item.get('fieldName') === info.get('fieldName');\n        });\n        info = info.set('values', filterSortItem === null || filterSortItem === void 0 ? void 0 : filterSortItem.get('values'));\n        var type = filterSortItem === null || filterSortItem === void 0 ? void 0 : filterSortItem.get('type');\n        if (_serverproperties.basedataTypes.includes(type)) {\n          info = info.set('items', filterSortItem === null || filterSortItem === void 0 ? void 0 : filterSortItem.get('items'));\n        } else if (_serverproperties.userTypes.includes(type)) {\n          info = info.set('f7Items', filterSortItem === null || filterSortItem === void 0 ? void 0 : filterSortItem.get('f7Items'));\n        }\n        return info;\n      });\n      return newChildrenInfo;\n    });\n  }, [children]);\n  (0, _react.useEffect)(function () {\n    var notAdvFilterArr = childrenInfo.filter(function (item) {\n      return item.get('advField') !== true;\n    });\n    setFilterSortInfo(notAdvFilterArr);\n    var _advFilterArr;\n    if (!synchronizeFilterItems) {\n      _advFilterArr = childrenInfo.filter(function (item) {\n        return item.get('advField') === true;\n      });\n    } else {\n      _advFilterArr = childrenInfo.filter(function (item) {\n        return item.get('type') !== _serverproperties.FILTER_TYPE_SORT;\n      });\n    }\n    _advFilterArr = handleIsNeedMore(_advFilterArr);\n    setAdvFilterArr(_advFilterArr);\n    if (_advFilterArr.size > 0) {\n      setShowAdvFilterButton(true);\n    }\n    var hasvalArr = _advFilterArr && _advFilterArr.find(function (item) {\n      return item.getIn(['values', 0], '') !== '' || item.get('values') === undefined && item.getIn(['defaultValues', 0], '') !== '';\n    });\n    setHasAdvVal(hasvalArr && hasvalArr.size > 0);\n  }, [childrenInfo]);\n  (0, _react.useEffect)(function () {\n    if (f7selected) {\n      var _tragetInfo$get;\n      var fieldName = f7selected.get('fieldName');\n      var itemname = f7selected.get('value') || (0, _immutable.fromJS)(['']);\n      var itemvalue = f7selected.get('id') || (0, _immutable.fromJS)(['']);\n      var tragetInfo = childrenInfo.filter(function (item) {\n        return item.get('fieldName') === fieldName;\n      }) || (0, _immutable.List)();\n      var isAdvField = ((_tragetInfo$get = tragetInfo.get(0)) === null || _tragetInfo$get === void 0 ? void 0 : _tragetInfo$get.get('advField')) || false;\n      var newChildrenInfo = childrenInfo && childrenInfo.map(function (item) {\n        if (item.get('fieldName') === fieldName) {\n          item = item.set('values', itemvalue);\n          if (_serverproperties.userTypes.includes(item.get('type'))) {\n            item = item.set('f7Items', (0, _immutable.fromJS)([{\n              caption: itemname,\n              value: itemvalue\n            }]));\n          } else {\n            item = item.set('items', itemname);\n          }\n        }\n        return item;\n      });\n      setChildrenInfo(newChildrenInfo);\n      if (!isAdvField) {\n        var a = composeSieveResult(newChildrenInfo);\n        var newVal = _toConsumableArray(filterVal);\n        newVal[0] = a;\n        setFilterVal(newVal);\n        handleSearch(newVal, newChildrenInfo);\n        if (isShowDownDropPanel) {\n          setIsShowDownDropPanel(false);\n          setActiveSieveItem('');\n        }\n      }\n    }\n  }, [f7selected]);\n  (0, _react.useEffect)(function () {\n    var _filterboxRef$current;\n    filterSchemeItemBottomWhenClick.current = (_filterboxRef$current = filterboxRef.current) === null || _filterboxRef$current === void 0 ? void 0 : _filterboxRef$current.getBoundingClientRect().bottom;\n  }, [activeFilterSchemeItem]);\n  var closeAdvFilterPanel = (0, _react.useCallback)(function (_advFilterArr) {\n    setShowAdvFilterPanel(false);\n    if (_advFilterArr && _advFilterArr.size > 0) {\n      /* 此处同步values主要是为了特殊场景：在高级过滤字段配置面板中移除一个有值的字段后点击保存，在高级过滤面板层这个字段的值会\n      置为空，如果此时点击遮罩层关闭高级过滤面板层是不会把这个字段的values的变化同步到Filter这层，导致hasAdvFilter无法更新 */\n      var newChildrenInfo = childrenInfo.map(function (info) {\n        var advFilterItem = _advFilterArr && _advFilterArr.find(function (item) {\n          return item.get('fieldName') === info.get('fieldName');\n        });\n        if (advFilterItem) {\n          info = info.set('values', advFilterItem === null || advFilterItem === void 0 ? void 0 : advFilterItem.get('values'));\n        }\n        return info;\n      });\n      setChildrenInfo(newChildrenInfo);\n    }\n  }, [childrenInfo]);\n  var handleRememberFilterResult = (0, _react.useCallback)(function (newVal, newChildrenInfo) {\n    var _advFilterArr = (0, _immutable.List)();\n    if (!synchronizeFilterItems) {\n      _advFilterArr = newChildrenInfo.filter(function (item) {\n        return item.get('advField') === true;\n      });\n    } else {\n      _advFilterArr = newChildrenInfo.filter(function (item) {\n        return item.get('type') !== _serverproperties.FILTER_TYPE_SORT;\n      });\n    }\n    if (_advFilterArr.size > 0 && rememberFilterCriteria && rememberChecked) {\n      var value = (0, _immutable.List)();\n      newVal[0].forEach(function (item) {\n        if (item.Value[0] !== '') {\n          var filterItem = newChildrenInfo.find(function (data) {\n            return data.get('fieldName') === item.FieldName[0];\n          });\n          var type = filterItem.get('type');\n          if (_serverproperties.basedataTypes.includes(type)) {\n            value = value.push((0, _immutable.fromJS)({\n              fieldName: item.FieldName[0],\n              values: item.Value,\n              items: filterItem.get('items')\n            }));\n          } else if (_serverproperties.userTypes.includes(type)) {\n            value = value.push((0, _immutable.fromJS)({\n              fieldName: item.FieldName[0],\n              values: item.Value,\n              f7Items: filterItem.get('f7Items')\n            }));\n          } else {\n            value = value.push((0, _immutable.fromJS)({\n              fieldName: item.FieldName[0],\n              values: item.Value\n            }));\n          }\n        }\n      });\n      setUserRememberResult([[rememberCheckedKey, true], [rememberFilterResultKey, value]]);\n    } else {\n      // 判断：如果设计器记住筛选项属性关闭或者没有高级筛选面板，则把用户属性rememberCheckedKey设置为false\n      setUserRememberResult([[rememberCheckedKey, false]]);\n    }\n  }, [rememberChecked, synchronizeFilterItems, rememberFilterCriteria]);\n  var handleSearch = (0, _react.useCallback)(function (newVal) {\n    var newChildrenInfo = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : childrenInfo;\n    search && search(newVal);\n    handleRememberFilterResult(newVal, newChildrenInfo);\n  }, [search, childrenInfo, rememberChecked]);\n\n  // 格式化过滤项的选值结果\n  var formatSieveResult = (0, _react.useCallback)(function (item, type) {\n    var fval = {};\n    var values = item.get('values');\n    var defaultValues = item.get('defaultValues');\n    var fieldName = item.get('fieldName');\n    var valItems = item.get('items');\n    var arr = values && values.size >= 0 ? values : defaultValues;\n    if (arr && arr.size > 0) {\n      var Compare = [];\n      arr = arr.map(function (item, index) {\n        if (_serverproperties.userTypes.includes(type)) {\n          var result = valItems && valItems.find(function (i) {\n            return i.get('value') === item;\n          });\n          Compare.push(result && result.get('compare') || '');\n        } else if (!_serverproperties.basedataTypes.includes(type)) {\n          var _result = valItems && valItems.find(function (i) {\n            return i.get('value') === item;\n          });\n          Compare.push(_result && _result.get('compare') || '');\n          if (arr.size === 2 && _serverproperties.dateTypes.includes(type)) {\n            var time = index === 0 ? ' 00:00:00' : ' 23:59:59';\n            item = item + time;\n          }\n        } else {\n          Compare.push('');\n        }\n        return item;\n      });\n      fval = {\n        FieldName: [fieldName],\n        Value: arr.toJS(),\n        Compare: Compare\n      };\n    } else if (arr && arr.size === 0) {\n      fval = {\n        FieldName: [fieldName],\n        Value: [''],\n        Compare: ['']\n      };\n    }\n    return fval;\n  }, []);\n\n  // 合成过滤项的选值结果\n  var composeSieveResult = (0, _react.useCallback)(function () {\n    var children = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : childrenInfo;\n    var sieveResult = [];\n    children && children.forEach(function (item) {\n      var type = item.get('type');\n      if (type !== _serverproperties.FILTER_TYPE_SORT) {\n        var result = formatSieveResult(item, type);\n        sieveResult.push(result);\n      }\n    });\n    return sieveResult;\n  }, [filterSortInfo, advFilterArr]);\n\n  // 筛选项点击事件\n  var handleItemClick = (0, _react.useCallback)(function (show, fieldName, type, option) {\n    if (type === _serverproperties.FILTER_TYPE_SORT) {\n      var newVal = _toConsumableArray(filterVal);\n      var a = composeSieveResult();\n      newVal[0] = a;\n      var newObj, fval;\n      if (option === _serverproperties.FILTER_SORT_DISORDER) {\n        newObj = {};\n        newVal[1] = [];\n      } else {\n        newObj = {\n          fieldName: fieldName,\n          option: option\n        };\n        fval = {\n          FieldName: [fieldName],\n          Value: [option]\n        };\n        newVal[1] = [fval];\n      }\n      setActiveSortItem(newObj);\n      setIsShowDownDropPanel(false);\n      setIsShowMultidimensionalSortPanel(false);\n      setActiveMultidimensionalSortItem('');\n      setActiveSieveItem('');\n      setFilterVal(newVal);\n      handleSearch(newVal);\n    } else if (type === _serverproperties.FILTER_TYPE_FILTERSCHEME) {\n      var newName = activeFilterSchemeItem === fieldName ? '' : fieldName;\n      setActiveFilterSchemeItem(newName);\n      setActiveSieveItem('');\n      setActiveMultidimensionalSortItem('');\n      setIsShowDownDropPanel(false);\n      setIsShowMultidimensionalSortPanel(false);\n      setIsShowFilterSchemePanel(show);\n      show && setPanelItems(option);\n    } else if (type === _serverproperties.SORT_TYPE_MULTIDIMENSIONALSORT) {\n      var _newName = activeMultidimensionalSortItem === fieldName ? '' : fieldName;\n      setActiveMultidimensionalSortItem(_newName);\n      setActiveFilterSchemeItem('');\n      setActiveSieveItem('');\n      setIsShowFilterSchemePanel(false);\n      setIsShowDownDropPanel(false);\n      setIsShowMultidimensionalSortPanel(show);\n      show && setPanelItems(option);\n    } else {\n      var _newName2 = activeSieveItem === fieldName ? '' : fieldName;\n      if (_serverproperties.basedataTypes.includes(type)) {\n        var selectedItems = option.values || option.defaultValues || [];\n        baseDataClick({\n          fieldName: fieldName,\n          isMulti: option.isMulti,\n          selectedItems: selectedItems\n        });\n        setActiveSieveItem('');\n        setPanelItems({});\n      } else {\n        setActiveSieveItem(_newName2);\n        setActiveFilterSchemeItem('');\n        setActiveMultidimensionalSortItem('');\n        setIsShowFilterSchemePanel(false);\n        setIsShowMultidimensionalSortPanel(false);\n        setIsShowDownDropPanel(show);\n        show && setPanelItems(option);\n      }\n    }\n  }, [filterVal, handleSearch, activeSieveItem, baseDataClick, composeSieveResult, activeFilterSchemeItem, activeMultidimensionalSortItem, childrenInfo]);\n  var handleF7ItemClick = (0, _react.useCallback)(function (option, fieldName) {\n    setIsShowFilterSchemePanel(false);\n    setIsShowMultidimensionalSortPanel(false);\n    setIsShowDownDropPanel(false);\n    var selectedItems = option.values || option.defaultValues || [];\n    baseDataClick({\n      fieldName: fieldName,\n      isMulti: option.isMulti,\n      selectedItems: selectedItems\n    });\n    setActiveSieveItem('');\n    setPanelItems({});\n  });\n  var handleAdvF7OptionClick = function handleAdvF7OptionClick(_ref) {\n    var fieldName = _ref.fieldName,\n      isMulti = _ref.isMulti,\n      selectedItems = _ref.selectedItems;\n    var filterItemValues = composeSieveResult(childrenInfo);\n    baseDataClick({\n      fieldName: fieldName,\n      isMulti: isMulti,\n      selectedItems: selectedItems,\n      selectedFilterVal: [filterItemValues, filterVal[2]]\n    });\n  };\n  var handleAdvClick = (0, _react.useCallback)(function () {\n    setShowAdvFilterPanel(true);\n    setActiveMultidimensionalSortItem('');\n    setActiveFilterSchemeItem('');\n    setActiveSieveItem('');\n    setIsShowFilterSchemePanel(false);\n    setIsShowDownDropPanel(false);\n    setIsShowMultidimensionalSortPanel(false);\n  }, []);\n  var closePanel = (0, _react.useCallback)(function () {\n    if (isShowDownDropPanel) {\n      setIsShowDownDropPanel(false);\n      setActiveSieveItem('');\n    }\n    if (isShowFilterSchemePanel) {\n      setIsShowFilterSchemePanel(false);\n      setActiveFilterSchemeItem('');\n    }\n    if (isShowMultidimensionalSortPanel) {\n      setIsShowMultidimensionalSortPanel(false);\n      setActiveMultidimensionalSortItem('');\n    }\n  }, [isShowDownDropPanel, isShowFilterSchemePanel, isShowMultidimensionalSortPanel]);\n  var getSieveResult = (0, _react.useCallback)(function (fieldName, sieveResult) {\n    var newchildrenInfo = childrenInfo && childrenInfo.map(function (item) {\n      if (item.get('fieldName') === fieldName) {\n        item = item.set('values', sieveResult);\n      }\n      return item;\n    });\n    setChildrenInfo(newchildrenInfo);\n    var result = composeSieveResult(newchildrenInfo);\n    var newVal = _toConsumableArray(filterVal);\n    newVal[0] = result;\n    setFilterVal(newVal);\n    return newVal;\n  }, [childrenInfo, filterVal, composeSieveResult]);\n  var updateFilterSchemeResult = (0, _react.useCallback)(function (fieldName, filterSchemeResult) {\n    var newFilterSchemes = filterScheme && filterScheme.map(function (item) {\n      if (item.get('fieldName') === fieldName) {\n        item = item.set('values', filterSchemeResult);\n      }\n      return item;\n    });\n    setFilterScheme(newFilterSchemes);\n    return newFilterSchemes;\n  }, [filterScheme]);\n\n  // 过滤弹出高级筛选面板的确定按钮事件\n  var handleAdvPanelConfirmClick = (0, _react.useCallback)(function (advFilterFieldInfoArr) {\n    var newChildrenInfo = childrenInfo.map(function (info) {\n      var filterSortItem = advFilterFieldInfoArr.find(function (item) {\n        return item.get('fieldName') === info.get('fieldName');\n      });\n      if (filterSortItem) {\n        info = info.set('values', filterSortItem.get('values'));\n      }\n      return info;\n    });\n    setChildrenInfo(newChildrenInfo);\n    var result = composeSieveResult(newChildrenInfo);\n    var newVal = _toConsumableArray(filterVal);\n    newVal[0] = result;\n    setFilterVal(newVal);\n    handleSearch(newVal);\n    closeAdvFilterPanel();\n  }, [childrenInfo, handleSearch, composeSieveResult, filterVal, closeAdvFilterPanel]);\n\n  // 过滤弹出面板的确定按钮事件\n  var handlePanelConfirmClick = (0, _react.useCallback)(function (fieldName, sieveResult) {\n    closePanel();\n    var newVal = getSieveResult(fieldName, sieveResult);\n    handleSearch(newVal);\n  }, [closePanel, getSieveResult]);\n  var handleNotMultiPanelConfirmClick = (0, _react.useCallback)(function (fieldName, sieveResult) {\n    closePanel();\n    if (fieldName === _serverproperties.FILTER_TYPE_FILTERSCHEME) {\n      updateFilterSchemeResult(fieldName, sieveResult);\n      // 发送请求\n      var newVal = [[{\n        fieldName: fieldName,\n        Id: sieveResult\n      }]];\n      schemeSearch && schemeSearch(newVal);\n    }\n  }, [closePanel, updateFilterSchemeResult]);\n  var handleMultidimensionalSortPanelConfirmClick = (0, _react.useCallback)(function (fieldName, option) {\n    var newVal = _toConsumableArray(filterVal);\n    var a = composeSieveResult();\n    newVal[0] = a;\n    var newObj, fval;\n    if (option === _serverproperties.FILTER_SORT_DISORDER) {\n      newObj = {\n        option: option\n      };\n      newVal[1] = [];\n    } else {\n      newObj = {\n        fieldName: fieldName,\n        option: option\n      };\n      fval = {\n        FieldName: [fieldName],\n        Value: [option]\n      };\n      newVal[1] = [fval];\n    }\n    setActiveSortItem(newObj);\n    setIsShowDownDropPanel(false);\n    setIsShowMultidimensionalSortPanel(false);\n    setIsShowFilterSchemePanel(false);\n    setActiveSieveItem('');\n    setActiveMultidimensionalSortItem({});\n    setFilterVal(newVal);\n    handleSearch(newVal);\n  }, [handleSearch, filterVal, composeSieveResult]);\n  var handleRemembercheckedStatus = (0, _react.useCallback)(function (value) {\n    setRememberChecked(value);\n  }, []);\n\n  // 多维排序数据构造\n  var multiDimensionalSort = (0, _react.useCallback)(function (filterSortInfo) {\n    var filtersortArr = (0, _immutable.List)();\n    filterSortInfo && filterSortInfo.forEach(function (item, index) {\n      var type = item.get('type');\n      // const sortItemName = item.get('sortItemtName')\n      var parentFieldName = item.get('parentFieldName');\n      if (type === _serverproperties.FILTER_TYPE_SORT && parentFieldName) {\n        var sortCollection = filtersortArr.filter(function (item) {\n          return item.get('fieldName') === parentFieldName;\n        });\n        if (sortCollection && sortCollection.size > 0) {\n          var _index = filtersortArr.findIndex(function (item) {\n            return item.get('fieldName') === parentFieldName;\n          });\n          var sortItem = filtersortArr.getIn([_index, 'items'], (0, _immutable.List)());\n          sortItem = sortItem.push(item);\n          filtersortArr = filtersortArr.setIn([_index, 'items'], sortItem);\n        } else {\n          var sortArr = (0, _immutable.List)();\n          sortArr = sortArr.push(item);\n          var fieldCaption = item.get('parentCaption');\n          filtersortArr = filtersortArr.push((0, _immutable.Map)({\n            fieldName: parentFieldName,\n            items: sortArr,\n            type: _serverproperties.SORT_TYPE_MULTIDIMENSIONALSORT,\n            fieldCaption: fieldCaption\n          }));\n        }\n      } else {\n        filtersortArr = filtersortArr.push(item);\n      }\n    });\n    return filtersortArr;\n  }, []);\n  (0, _react.useEffect)(function () {\n    var resizeObserver = (0, _resizeObserve[\"default\"])(filterboxRef.current, function (_ref2) {\n      var hide = _ref2.hide;\n      if (hide) {\n        // 移动筛选排序控件不可见时，收起正在展开的面板\n        closePanel();\n      }\n    });\n    return function () {\n      resizeObserver.removeResizeObserve();\n    };\n  }, [closePanel]);\n  var filterbox = (0, _classnames7[\"default\"])(_defineProperty(_defineProperty(_defineProperty({}, _Filter[\"default\"].filterbox, true), _Filter[\"default\"].filterboxpadding, isShowAdvFilterButton), className, className));\n  var advicon = (0, _classnames7[\"default\"])(_defineProperty(_defineProperty({}, _Filter[\"default\"].advicon, true), 'kdfont kdfont-shaixuan', true));\n  var buttonbox = (0, _classnames7[\"default\"])(_defineProperty(_defineProperty({}, _Filter[\"default\"].buttonbox, true), _Filter[\"default\"].hasAdvVal, hasAdvVal));\n  // 多维排序需要对数据结构重新结构，在不改变childrenInfo结构的前提下，在这了重新结构\n  var newChildInfo = multiDimensionalSort(filterSortInfo);\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", _extends({\n    className: filterbox,\n    style: style,\n    ref: filterboxRef\n  }, others), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _Filter[\"default\"].filterScrollArea\n  }, schemeQuery && filterScheme && filterScheme.map(function (item, index) {\n    if (item !== null) {\n      var type = item.get('type');\n      var fieldName = item.get('fieldName');\n      var isActive = activeFilterSchemeItem === fieldName;\n      return /*#__PURE__*/_react[\"default\"].createElement(FilterSchemeItem, {\n        key: index,\n        isMulti: item.get('isMulti'),\n        defaultValues: item.get('defaultValues'),\n        type: type,\n        items: item.get('items'),\n        entryEntity: item.get('entryEntity'),\n        fieldName: fieldName,\n        fieldCaption: item.get('fieldCaption'),\n        isCustom: item.get('isCustom'),\n        locale: locale,\n        isActive: isActive,\n        handleItemClick: handleItemClick,\n        values: item.get('values')\n      });\n    } else {\n      return null;\n    }\n  }), newChildInfo && newChildInfo.map(function (item, index) {\n    if (item !== null) {\n      var type = item.get('type');\n      var fieldName = item.get('fieldName');\n      if (type === _serverproperties.SORT_TYPE_MULTIDIMENSIONALSORT) {\n        var isActive = activeMultidimensionalSortItem === fieldName;\n        return /*#__PURE__*/_react[\"default\"].createElement(_SortItem.MulSortItem, {\n          key: index,\n          type: type,\n          locale: locale,\n          items: item.get('items'),\n          entryEntity: item.get('entryEntity'),\n          fieldName: fieldName,\n          handleItemClick: handleItemClick,\n          activeSortItem: activeSortItem,\n          fieldCaption: item.get('fieldCaption'),\n          isActive: isActive\n        });\n      } else if (type === _serverproperties.FILTER_TYPE_SORT) {\n        var _isActive = activeSortItem.fieldName === fieldName;\n        var order = _isActive && activeSortItem.option;\n        return /*#__PURE__*/_react[\"default\"].createElement(_SortItem[\"default\"], {\n          key: index,\n          defaultValues: item.get('defaultValues'),\n          type: type,\n          isCustom: item.get('isCustom'),\n          locale: locale,\n          isActive: _isActive,\n          items: item.get('items'),\n          entryEntity: item.get('entryEntity'),\n          fieldName: fieldName,\n          fieldCaption: item.get('fieldCaption'),\n          handleItemClick: handleItemClick,\n          order: order\n        });\n      } else {\n        var _isActive2 = activeSieveItem === fieldName;\n        return /*#__PURE__*/_react[\"default\"].createElement(_SieveItem[\"default\"], {\n          key: index,\n          isMulti: item.get('isMulti'),\n          mustInput: item.get('mustInput'),\n          defaultValues: item.get('defaultValues'),\n          type: type,\n          items: item.get('items'),\n          entryEntity: item.get('entryEntity'),\n          fieldName: fieldName,\n          fieldCaption: item.get('fieldCaption'),\n          isCustom: item.get('isCustom'),\n          locale: locale,\n          isActive: _isActive2,\n          handleItemClick: handleItemClick,\n          values: item.get('values'),\n          today: item.get('today'),\n          f7Items: item.get('f7Items'),\n          isNeedMore: item.get('isNeedMore')\n        });\n      }\n    }\n  })), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _Filter[\"default\"].fixedToRight\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _Filter[\"default\"].rightShadow\n  }), isShowAdvFilterButton && /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _Filter[\"default\"].advfilterbutton,\n    onClick: handleAdvClick,\n    \"data-touchfeedback\": true\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: buttonbox\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: _Filter[\"default\"].advtext\n  }, (0, _intlApi.getLangMsg)({\n    key: 'FilterMob.filterSelect'\n  })), /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n    className: advicon\n  })))), isShowDownDropPanel && panelItems.items && /*#__PURE__*/_react[\"default\"].createElement(_FilterModule.DownDropPanel, {\n    panelItems: panelItems,\n    locale: locale,\n    filterboxRef: filterboxRef,\n    handlePanelConfirmClick: handlePanelConfirmClick,\n    closePanel: closePanel,\n    handleF7ItemClick: handleF7ItemClick,\n    getFilterSchemeActiveItemBottom: getFilterSchemeActiveItemBottom\n  }), isShowAdvFilterPanel && advFilterArr && advFilterArr.size > 0 && /*#__PURE__*/_react[\"default\"].createElement(_FilterModule.AdvFilterPanel, {\n    advFilterArr: advFilterArr,\n    locale: locale,\n    closeAdvFilterPanel: closeAdvFilterPanel,\n    baseDataClick: baseDataClick,\n    handleAdvPanelConfirmClick: handleAdvPanelConfirmClick,\n    hasAdvVal: hasAdvVal,\n    fid: fid,\n    controlKey: props.id,\n    pageId: pageId,\n    userConfiguration: userConfiguration,\n    userInitialField: userInitialField,\n    rememberChecked: rememberChecked,\n    handleRemembercheckedStatus: handleRemembercheckedStatus,\n    rememberFilterCriteria: rememberFilterCriteria,\n    handleAdvF7OptionClick: handleAdvF7OptionClick,\n    showDirection: showDirection\n  }), isShowFilterSchemePanel && panelItems && panelItems.items && /*#__PURE__*/_react[\"default\"].createElement(_FilterModule.FilterSchemePanel, {\n    panelItems: panelItems,\n    locale: locale,\n    filterboxRef: filterboxRef,\n    handleNotMultiPanelConfirmClick: handleNotMultiPanelConfirmClick,\n    closePanel: closePanel\n  }), isShowMultidimensionalSortPanel && panelItems.items && /*#__PURE__*/_react[\"default\"].createElement(_FilterModule.MultidimensionalSortPanel, {\n    panelItems: panelItems,\n    locale: locale,\n    filterboxRef: filterboxRef,\n    handleMultidimensionalSortPanelConfirmClick: handleMultidimensionalSortPanelConfirmClick,\n    closePanel: closePanel\n  }));\n}\nfunction FilterSchemeItem(props) {\n  var isMulti = props.isMulti,\n    defaultValues = props.defaultValues,\n    values = props.values,\n    type = props.type,\n    items = props.items,\n    handleItemClick = props.handleItemClick,\n    fieldName = props.fieldName,\n    _props$fieldCaption = props.fieldCaption,\n    fieldCaption = _props$fieldCaption === void 0 ? (0, _immutable.Map)() : _props$fieldCaption,\n    locale = props.locale,\n    isActive = props.isActive;\n  var _useState35 = (0, _react.useState)(defaultValues),\n    _useState36 = _slicedToArray(_useState35, 2),\n    vals = _useState36[0],\n    setVals = _useState36[1];\n  (0, _react.useEffect)(function () {\n    values && setVals(values);\n  }, [values]);\n  var setPanelData = function setPanelData() {\n    var panelData = {\n      values: vals,\n      defaultValues: defaultValues,\n      fieldName: fieldName,\n      type: type,\n      isMulti: isMulti,\n      items: items\n    };\n    return panelData;\n  };\n  var handleClick = (0, _react.useCallback)(function (e) {\n    e.stopPropagation();\n    var option = !isActive ? setPanelData() : {};\n    handleItemClick && handleItemClick(!isActive, fieldName, type, option);\n  }, [isActive, handleItemClick, fieldName, type, setPanelData]);\n  var sievebox = (0, _classnames7[\"default\"])(_defineProperty({}, _Filter[\"default\"].sievebox, true));\n  var textcn = (0, _classnames7[\"default\"])(_defineProperty(_defineProperty({}, _Filter[\"default\"].text, true), _Filter[\"default\"].active, isActive || vals.size > 0 && vals.get('0') !== 'all'));\n  var icon = (0, _classnames7[\"default\"])(_defineProperty(_defineProperty(_defineProperty(_defineProperty({}, _Filter[\"default\"].icon, true), _Filter[\"default\"].active, isActive || vals.size > 0 && vals.get('0') !== 'all'), 'kdfont kdfont-guolvxia', !isActive), 'kdfont kdfont-guolvshang', isActive));\n  var getText = (0, _react.useCallback)(function () {\n    var fieldName = fieldCaption && fieldCaption.get(locale);\n    var text = /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n      className: textcn\n    }, fieldName);\n    var len = vals.size;\n    if (len === 1) {\n      var name = fieldName;\n      items && items.forEach(function (info) {\n        if (_immutable.Map.isMap(info)) {\n          var id = vals.get('0');\n          var value = info.get('value');\n          if (value === id && id !== 'all') {\n            var caption = info.get('caption') || (0, _immutable.Map)();\n            name = id === '' ? fieldName : caption.get(locale) || fieldName;\n          }\n        } else if ((0, _lodash.isString)(info)) {\n          name = info || fieldName;\n        }\n      });\n      text = /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n        className: textcn\n      }, name);\n    }\n    return text;\n  }, [fieldCaption, vals, type, items, locale, textcn]);\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: sievebox,\n    onClick: handleClick\n  }, getText(), /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n    className: icon\n  }));\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/base/Filter.jsx?");

/***/ }),

/***/ "./src/component/mobile/base/FilterModule.jsx":
/*!****************************************************!*\
  !*** ./src/component/mobile/base/FilterModule.jsx ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.AdvFilterField = AdvFilterField;\nexports.AdvFilterPanel = AdvFilterPanel;\nexports.DownDropPanel = DownDropPanel;\nexports.FilterSchemePanel = FilterSchemePanel;\nexports.MultidimensionalSortPanel = MultidimensionalSortPanel;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.find.js */ \"../../node_modules/core-js/modules/es.array.find.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.join.js */ \"../../node_modules/core-js/modules/es.array.join.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.array.reduce.js */ \"../../node_modules/core-js/modules/es.array.reduce.js\");\n__webpack_require__(/*! core-js/modules/es.array.some.js */ \"../../node_modules/core-js/modules/es.array.some.js\");\n__webpack_require__(/*! core-js/modules/es.array.splice.js */ \"../../node_modules/core-js/modules/es.array.splice.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.parse-float.js */ \"../../node_modules/core-js/modules/es.parse-float.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _reactDom = _interopRequireDefault(__webpack_require__(/*! react-dom */ \"webpack/sharing/consume/default/react-dom/react-dom?418d\"));\nvar _classnames16 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _lodash = __webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\");\nvar _global = __webpack_require__(/*! @/global */ \"./src/global/index.js\");\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nvar _RangePicker = __webpack_require__(/*! ./DatePicker/RangePicker */ \"./src/component/mobile/base/DatePicker/RangePicker.jsx\");\nvar _moment = _interopRequireDefault(__webpack_require__(/*! moment */ \"../../node_modules/moment/moment.js\"));\nvar _serverproperties = __webpack_require__(/*! @/constant/serverproperties.js */ \"./src/constant/serverproperties.js\");\nvar _GlobalDataCacher = __webpack_require__(/*! ../../../model/GlobalDataCacher */ \"./src/model/GlobalDataCacher.js\");\nvar _symbolConst = __webpack_require__(/*! @/constant/symbolConst */ \"./src/constant/symbolConst.js\");\nvar _memoryCacher = __webpack_require__(/*! @/model/memoryCacher.js */ \"./src/model/memoryCacher.js\");\nvar _action = __webpack_require__(/*! @/action/action */ \"./src/action/action.js\");\nvar _AdvFilterModule = __webpack_require__(/*! ./AdvFilterModule */ \"./src/component/mobile/base/AdvFilterModule.jsx\");\nvar _pushCostomUrl = __webpack_require__(/*! @/util/pushCostomUrl */ \"./src/util/pushCostomUrl.js\");\nvar _clickOutsideUtil = _interopRequireDefault(__webpack_require__(/*! @/util/clickOutsideUtil */ \"./src/util/clickOutsideUtil.js\"));\nvar _const = __webpack_require__(/*! @/constant/const */ \"./src/constant/const.js\");\nvar _AdvFilterContent = _interopRequireDefault(__webpack_require__(/*! @/component/mobile/base/AdvFilter/AdvFilterContent */ \"./src/component/mobile/base/AdvFilter/AdvFilterContent.jsx\"));\nvar _FilterModule = _interopRequireDefault(__webpack_require__(/*! ./FilterModule.less */ \"./src/component/mobile/base/FilterModule.less\"));\nvar _excluded = [\"advFilterArr\", \"closeAdvFilterPanel\", \"handleAdvPanelConfirmClick\", \"hasAdvVal\", \"userConfiguration\", \"fid\", \"controlKey\", \"pageId\", \"userInitialField\", \"rememberChecked\", \"handleRemembercheckedStatus\", \"rememberFilterCriteria\", \"showDirection\"];\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nvar DateFilterDownPanel = /*#__PURE__*/_react[\"default\"].forwardRef(function (_ref, downDropPanelRef) {\n  var _downDropPanelRef;\n  var style = _ref.style,\n    fieldName = _ref.fieldName,\n    items = _ref.items,\n    selectedVals = _ref.selectedVals,\n    locale = _ref.locale,\n    handlePanelConfirmClick = _ref.handlePanelConfirmClick,\n    values = _ref.values,\n    today = _ref.today,\n    closePanel = _ref.closePanel;\n  downDropPanelRef = (_downDropPanelRef = downDropPanelRef) !== null && _downDropPanelRef !== void 0 ? _downDropPanelRef : (0, _react.useRef)();\n  var _useState = (0, _react.useState)(),\n    _useState2 = _slicedToArray(_useState, 2),\n    maxHeight = _useState2[0],\n    setMaxHeight = _useState2[1];\n  (0, _react.useEffect)(function () {\n    if (downDropPanelRef.current) {\n      var top = parseFloat(style === null || style === void 0 ? void 0 : style.top);\n      top = isNaN(top) ? 0 : top;\n      setMaxHeight(window.innerHeight - top - _const.SHADEHIGHT);\n    }\n  }, [style === null || style === void 0 ? void 0 : style.top]);\n  return /*#__PURE__*/_reactDom[\"default\"].createPortal( /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames16[\"default\"])(_FilterModule[\"default\"].optionbox),\n    onClick: function onClick(e) {\n      return e.stopPropagation();\n    },\n    style: style,\n    ref: downDropPanelRef\n  }, /*#__PURE__*/_react[\"default\"].createElement(DateSelectionPanel, {\n    fieldName: fieldName,\n    items: items,\n    selectedVals: selectedVals,\n    locale: locale,\n    handlePanelConfirmClick: handlePanelConfirmClick,\n    style: {\n      maxHeight: maxHeight\n    },\n    values: values,\n    today: today,\n    shadeHight: _const.SHADEHIGHT\n  }), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FilterModule[\"default\"].shade,\n    onClick: closePanel\n  })), document.body);\n});\nfunction DownDropPanel(props) {\n  var panelItems = props.panelItems,\n    locale = props.locale,\n    filterboxRef = props.filterboxRef,\n    handlePanelConfirmClick = props.handlePanelConfirmClick,\n    closePanel = props.closePanel,\n    handleF7ItemClick = props.handleF7ItemClick,\n    getFilterSchemeActiveItemBottom = props.getFilterSchemeActiveItemBottom;\n  var values = panelItems.values,\n    defaultValues = panelItems.defaultValues,\n    fieldName = panelItems.fieldName,\n    type = panelItems.type,\n    items = panelItems.items,\n    f7Items = panelItems.f7Items,\n    isMulti = panelItems.isMulti,\n    mustInput = panelItems.mustInput,\n    today = panelItems.today,\n    f7OptionIsMulti = panelItems.f7OptionIsMulti;\n  var _useState3 = (0, _react.useState)(values),\n    _useState4 = _slicedToArray(_useState3, 2),\n    selectedVals = _useState4[0],\n    setSelectedVals = _useState4[1];\n  var downDropPanelRef = (0, _react.useRef)(null);\n  var nomust = mustInput && (!selectedVals || selectedVals.size === 0);\n  var confirm = (0, _classnames16[\"default\"])(_defineProperty(_defineProperty(_defineProperty({}, _FilterModule[\"default\"].button, true), _FilterModule[\"default\"].confirm, !mustInput || selectedVals && selectedVals.size > 0), _FilterModule[\"default\"].disabledbut, nomust));\n  var boxstyle = {\n    top: _getDropPanelTop(getFilterSchemeActiveItemBottom === null || getFilterSchemeActiveItemBottom === void 0 ? void 0 : getFilterSchemeActiveItemBottom(), filterboxRef) + 'px'\n  };\n  var setSelVals = (0, _react.useCallback)(function (id, isSelected) {\n    var index = selectedVals.indexOf(id);\n    var newArr = (0, _immutable.List)();\n    if (isSelected && index === -1) {\n      newArr = selectedVals.push(id);\n    } else if (!isSelected) {\n      newArr = selectedVals.splice(index, 1);\n    }\n    setSelectedVals(newArr);\n  }, [selectedVals]);\n  var handleResetClick = (0, _react.useCallback)(function (e) {\n    e.stopPropagation();\n    setSelectedVals(defaultValues);\n  }, [defaultValues]);\n  var handleConfirmClick = (0, _react.useCallback)(function (e) {\n    if (nomust) return;\n    e.stopPropagation();\n    handlePanelConfirmClick && handlePanelConfirmClick(fieldName, selectedVals);\n  }, [nomust, handlePanelConfirmClick, fieldName, selectedVals]);\n  (0, _react.useEffect)(function () {\n    // 过滤面板展开时，监听document上的点击事件，除了downDropPanelRef和filterboxRef点击外，点击其他地方收起面板\n    var removeclickOutside = (0, _clickOutsideUtil[\"default\"])([downDropPanelRef.current, filterboxRef.current], function () {\n      closePanel();\n    });\n    return function () {\n      removeclickOutside();\n    };\n  }, [downDropPanelRef, filterboxRef]);\n  if (_serverproperties.dateTypes.includes(type)) {\n    return /*#__PURE__*/_react[\"default\"].createElement(DateFilterDownPanel, {\n      ref: downDropPanelRef,\n      style: boxstyle,\n      fieldName: fieldName,\n      items: items,\n      selectedVals: selectedVals,\n      locale: locale,\n      handlePanelConfirmClick: handlePanelConfirmClick,\n      values: values,\n      today: today,\n      closePanel: closePanel\n    });\n  } else if (_serverproperties.userTypes.includes(type)) {\n    return /*#__PURE__*/_reactDom[\"default\"].createPortal( /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _FilterModule[\"default\"].optionbox,\n      onClick: function onClick(e) {\n        return e.stopPropagation();\n      },\n      style: boxstyle,\n      ref: downDropPanelRef\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _FilterModule[\"default\"].options\n    }, items && items.map(function (item, index) {\n      var f7ClickItem = item.get('f7Click');\n      var visible = item.get('vi');\n      var value = item.get('value');\n      var isSelected = false;\n      if (f7ClickItem) {\n        f7Items && f7Items.size > 0 && f7Items.forEach(function (data) {\n          if (_immutable.List.isList(data.get('value'))) {\n            isSelected = data.get('value').some(function (val) {\n              return selectedVals.includes(val);\n            });\n          } else if ((0, _lodash.isString)(data.get('value'))) {\n            isSelected = selectedVals.includes(data.get('value'));\n          }\n        });\n      } else {\n        isSelected = selectedVals.includes(value);\n      }\n      return visible !== false && /*#__PURE__*/_react[\"default\"].createElement(OptionItem, {\n        locale: locale,\n        key: index,\n        caption: item.get('caption'),\n        value: value,\n        vi: item.get('vi'),\n        fieldName: fieldName,\n        setSelVals: setSelVals,\n        isSelected: isSelected,\n        compare: item.get('compare'),\n        isMulti: isMulti,\n        handlePanelConfirmClick: handlePanelConfirmClick,\n        f7Items: f7Items,\n        handleF7ItemClick: handleF7ItemClick,\n        selectedVals: selectedVals,\n        f7ClickItem: f7ClickItem,\n        type: type,\n        f7OptionIsMulti: f7OptionIsMulti\n      });\n    })), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _FilterModule[\"default\"].shade,\n      onClick: closePanel\n    })), document.body);\n  } else {\n    return /*#__PURE__*/_reactDom[\"default\"].createPortal( /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _FilterModule[\"default\"].optionbox,\n      onClick: function onClick(e) {\n        return e.stopPropagation();\n      },\n      style: boxstyle,\n      ref: downDropPanelRef\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _FilterModule[\"default\"].options\n    }, items && items.map(function (item, index) {\n      var value = item.get('value');\n      var visible = item.get('vi');\n      var isSelected = selectedVals === null || selectedVals === void 0 ? void 0 : selectedVals.includes(value);\n      return visible !== false && /*#__PURE__*/_react[\"default\"].createElement(OptionItem, {\n        locale: locale,\n        key: index,\n        caption: item.get('caption'),\n        value: value,\n        vi: item.get('vi'),\n        fieldName: fieldName,\n        setSelVals: setSelVals,\n        isSelected: isSelected,\n        compare: item.get('compare'),\n        isMulti: isMulti,\n        handlePanelConfirmClick: handlePanelConfirmClick\n      });\n    })), isMulti && /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _FilterModule[\"default\"].buttons\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n      className: (0, _classnames16[\"default\"])(_FilterModule[\"default\"].button, _FilterModule[\"default\"].reset),\n      onClick: handleResetClick\n    }, (0, _intlApi.getLangMsg)({\n      key: 'FilterMob.reset'\n    })), /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n      className: confirm,\n      onClick: handleConfirmClick\n    }, (0, _intlApi.getLangMsg)({\n      key: 'FilterMob.confirm'\n    }))), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _FilterModule[\"default\"].shade,\n      onClick: closePanel\n    })), document.body);\n  }\n}\nfunction _getDropPanelTop(filterboxBottom, filterboxRef) {\n  var _filterboxRef$current;\n  return filterboxBottom || ((_filterboxRef$current = filterboxRef.current) === null || _filterboxRef$current === void 0 ? void 0 : _filterboxRef$current.getBoundingClientRect().bottom);\n}\nfunction AdvFilterPanel(props) {\n  var advFilterArr = props.advFilterArr,\n    closeAdvFilterPanel = props.closeAdvFilterPanel,\n    handleAdvPanelConfirmClick = props.handleAdvPanelConfirmClick,\n    hasAdvVal = props.hasAdvVal,\n    userConfiguration = props.userConfiguration,\n    fid = props.fid,\n    controlKey = props.controlKey,\n    pageId = props.pageId,\n    userInitialField = props.userInitialField,\n    rememberChecked = props.rememberChecked,\n    handleRemembercheckedStatus = props.handleRemembercheckedStatus,\n    rememberFilterCriteria = props.rememberFilterCriteria,\n    showDirection = props.showDirection,\n    others = _objectWithoutProperties(props, _excluded);\n  var _useState5 = (0, _react.useState)(advFilterArr),\n    _useState6 = _slicedToArray(_useState5, 2),\n    advFilterFieldInfoArr = _useState6[0],\n    setAdvFilterFieldInfoArr = _useState6[1]; // 高级面板内部管理数据\n  var _useState7 = (0, _react.useState)(false),\n    _useState8 = _slicedToArray(_useState7, 2),\n    showCustomAdvFiletrPanel = _useState8[0],\n    setShowCustomAdvFiletrPanel = _useState8[1];\n  var _useState9 = (0, _react.useState)([]),\n    _useState10 = _slicedToArray(_useState9, 2),\n    needShowField = _useState10[0],\n    setNeedShowField = _useState10[1];\n  (0, _react.useEffect)(function () {\n    (0, _GlobalDataCacher.setData)(_symbolConst.KEY_ADVFILTERPANEL_OPEN, true);\n    return function () {\n      (0, _GlobalDataCacher.setData)(_symbolConst.KEY_ADVFILTERPANEL_OPEN, false);\n    };\n  }, []);\n  (0, _react.useEffect)(function () {\n    var normalFilterArr = advFilterArr.filter(function (item) {\n      return item.get('type') !== _serverproperties.FILTER_TYPE_SORT && item.get('advField') !== true;\n    });\n    var _advFilterArr = advFilterArr.filter(function (item) {\n      return item.get('advField') === true;\n    });\n    if (userConfiguration) {\n      var _userUIState$getIn;\n      var userUIState = (0, _memoryCacher.getUserUIState)();\n      var userSelectedIds = (_userUIState$getIn = userUIState.getIn([fid, controlKey])) === null || _userUIState$getIn === void 0 ? void 0 : _userUIState$getIn.toJS();\n      var newAdvFilterArr = (0, _immutable.fromJS)([]);\n      var newNeedShowField = [];\n      if (userSelectedIds) {\n        userSelectedIds.forEach(function (id) {\n          var newField = _advFilterArr.find(function (item) {\n            return item.get('fieldName') === id;\n          });\n          if (newField && newField.size > 0) {\n            newAdvFilterArr = newAdvFilterArr.push(newField);\n            newNeedShowField.push(newField.get('fieldName'));\n          }\n        });\n      } else {\n        _advFilterArr.forEach(function (data) {\n          var newField = userInitialField.find(function (item) {\n            return item.get('fieldName') === data.get('fieldName');\n          });\n          if (!newField) {\n            newAdvFilterArr = newAdvFilterArr.push(data);\n            newNeedShowField.push(data.get('fieldName'));\n          }\n        });\n      }\n      setNeedShowField(newNeedShowField);\n      setAdvFilterFieldInfoArr(normalFilterArr.concat(newAdvFilterArr));\n    } else {\n      setAdvFilterFieldInfoArr(normalFilterArr.concat(_advFilterArr));\n    }\n  }, [advFilterArr]);\n  var updateAdvFilterArr = (0, _react.useCallback)(function (fieldName, selectedVals) {\n    var newAdvInfo = advFilterFieldInfoArr && advFilterFieldInfoArr.map(function (item) {\n      if (item.get('fieldName') === fieldName) {\n        item = item.set('values', selectedVals);\n      }\n      return item;\n    });\n    setAdvFilterFieldInfoArr(newAdvInfo);\n  }, [advFilterFieldInfoArr]);\n  var handleMaskClick = (0, _react.useCallback)(function () {\n    closeAdvFilterPanel(advFilterFieldInfoArr);\n  }, [closeAdvFilterPanel, advFilterFieldInfoArr]);\n  var handleButtonClick = (0, _react.useCallback)(function (e) {\n    e.stopPropagation();\n  }, []);\n  var handleAdvResetClick = (0, _react.useCallback)(function () {\n    var newArr = advFilterFieldInfoArr && advFilterFieldInfoArr.map(function (item) {\n      var defaultValues = item.get('defaultValues');\n      item = item.set('values', defaultValues);\n      return item;\n    });\n    setAdvFilterFieldInfoArr(newArr);\n  }, [advFilterFieldInfoArr]);\n  var handleAdvConfirmClick = (0, _react.useCallback)(function () {\n    var newAdvFilterFieldInfoArr = (0, _immutable.fromJS)([]);\n    advFilterArr.forEach(function (data) {\n      var newField = advFilterFieldInfoArr.find(function (item) {\n        return item.get('fieldName') === data.get('fieldName');\n      });\n      if (newField && newField.size > 0) {\n        newAdvFilterFieldInfoArr = newAdvFilterFieldInfoArr.push(newField);\n      } else {\n        data = data.set('values', undefined);\n        newAdvFilterFieldInfoArr = newAdvFilterFieldInfoArr.push(data);\n      }\n    });\n    handleAdvPanelConfirmClick && handleAdvPanelConfirmClick(newAdvFilterFieldInfoArr);\n  }, [closeAdvFilterPanel, handleAdvPanelConfirmClick, advFilterFieldInfoArr, advFilterArr]);\n  var handleConfirmSaveClick = (0, _react.useCallback)(function (value) {\n    var newAdvFilterArr = (0, _immutable.fromJS)([]);\n    var normalFilterInfoArr = advFilterFieldInfoArr.filter(function (item) {\n      return item.get('type') !== _serverproperties.FILTER_TYPE_SORT && item.get('advField') !== true;\n    });\n    var advFilterInfoArr = advFilterFieldInfoArr.filter(function (item) {\n      return item.get('advField') === true;\n    });\n    newAdvFilterArr = newAdvFilterArr.concat(normalFilterInfoArr);\n    value.forEach(function (id) {\n      var newField = advFilterInfoArr.find(function (item) {\n        return item.get('fieldName') === id;\n      });\n      if (newField && newField.size > 0) {\n        newAdvFilterArr = newAdvFilterArr.push(newField);\n      } else {\n        newField = advFilterArr.find(function (item) {\n          return item.get('fieldName') === id;\n        });\n        newField = newField.set('values', undefined);\n        newAdvFilterArr = newAdvFilterArr.push(newField);\n      }\n    });\n    setAdvFilterFieldInfoArr(newAdvFilterArr);\n    setShowCustomAdvFiletrPanel(false);\n    setNeedShowField(value);\n    (0, _memoryCacher.setUserUIState)(pageId, [fid, controlKey], value, true);\n    var userUIState = (0, _memoryCacher.getDiffUserUIState)();\n    if (userUIState) {\n      userUIState = userUIState.toJS();\n      (0, _action.invokeControlService)({\n        pageId: pageId\n      }, 'saveSetting', [userUIState], (0, _immutable.List)(), _global.doGlobalDispatch);\n    }\n  }, [advFilterFieldInfoArr, advFilterArr]);\n  var handleAdvCustomSetClick = (0, _react.useCallback)(function () {\n    (0, _pushCostomUrl.pushCustomAdvFilterUrl)();\n    !showCustomAdvFiletrPanel && setShowCustomAdvFiletrPanel(true);\n  });\n  var handlebackEvent = function handlebackEvent() {\n    setShowCustomAdvFiletrPanel(false);\n  };\n  return /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, null, /*#__PURE__*/_reactDom[\"default\"].createPortal( /*#__PURE__*/_react[\"default\"].createElement(_AdvFilterContent[\"default\"], {\n    rememberFilterCriteria: rememberFilterCriteria,\n    advFilterFieldInfoArr: advFilterFieldInfoArr,\n    updateAdvFilterArr: updateAdvFilterArr,\n    userConfiguration: userConfiguration,\n    showDirection: showDirection,\n    rememberChecked: rememberChecked,\n    handleRemembercheckedStatus: handleRemembercheckedStatus,\n    handleButtonClick: handleButtonClick,\n    handleAdvCustomSetClick: handleAdvCustomSetClick,\n    handleAdvResetClick: handleAdvResetClick,\n    handleAdvConfirmClick: handleAdvConfirmClick,\n    handleMaskClick: handleMaskClick,\n    others: others\n  }), document.body), showCustomAdvFiletrPanel && /*#__PURE__*/_reactDom[\"default\"].createPortal( /*#__PURE__*/_react[\"default\"].createElement(_AdvFilterModule.CustomAdvFilterPanel, {\n    filterArr: advFilterArr,\n    handleConfirmSaveClick: handleConfirmSaveClick,\n    handlebackEvent: handlebackEvent,\n    locale: props.locale,\n    needShowField: needShowField\n  }), document.body));\n}\nvar AdvDateFilterDownPanel = /*#__PURE__*/_react[\"default\"].forwardRef(function (_ref2, advFilterRef) {\n  var _advFilterRef;\n  var fieldName = _ref2.fieldName,\n    items = _ref2.items,\n    selectedVals = _ref2.selectedVals,\n    locale = _ref2.locale,\n    handleDatePanelClick = _ref2.handleDatePanelClick,\n    values = _ref2.values,\n    today = _ref2.today,\n    closePanel = _ref2.closePanel;\n  advFilterRef = (_advFilterRef = advFilterRef) !== null && _advFilterRef !== void 0 ? _advFilterRef : (0, _react.useRef)(null);\n  var panelHeaderEleRef = (0, _react.useRef)(null);\n  var _useState11 = (0, _react.useState)(),\n    _useState12 = _slicedToArray(_useState11, 2),\n    maxHeight = _useState12[0],\n    setMaxHeight = _useState12[1];\n  (0, _react.useEffect)(function () {\n    if (panelHeaderEleRef.current) {\n      setMaxHeight(window.innerHeight - panelHeaderEleRef.current.getBoundingClientRect().height - _const.SHADEHIGHT);\n    }\n  }, []);\n  return /*#__PURE__*/_reactDom[\"default\"].createPortal( /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FilterModule[\"default\"].advoptionbox,\n    onClick: function onClick(e) {\n      return e.stopPropagation();\n    }\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FilterModule[\"default\"].shade,\n    onClick: closePanel,\n    ref: advFilterRef\n  }), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FilterModule[\"default\"].advdatepanel\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FilterModule[\"default\"].panelheader,\n    ref: panelHeaderEleRef\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: _FilterModule[\"default\"].panelname\n  }, (0, _intlApi.getLangMsg)({\n    key: 'FilterMob.selectDate'\n  })), /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n    className: (0, _classnames16[\"default\"])(_FilterModule[\"default\"].closeicon, 'kdfont kdfont-guanbi6'),\n    onClick: closePanel\n  })), /*#__PURE__*/_react[\"default\"].createElement(DateSelectionPanel, {\n    fieldName: fieldName,\n    items: items,\n    selectedVals: selectedVals,\n    locale: locale,\n    handlePanelConfirmClick: handleDatePanelClick,\n    values: values,\n    today: today,\n    advFilterRef: advFilterRef,\n    shadeHight: _const.SHADEHIGHT,\n    style: {\n      maxHeight: maxHeight\n    }\n  }))), document.body);\n});\nfunction AdvFilterField(props) {\n  var fieldInfo = props.fieldInfo,\n    locale = props.locale,\n    baseDataClick = props.baseDataClick,\n    updateAdvFilterArr = props.updateAdvFilterArr,\n    handleAdvF7OptionClick = props.handleAdvF7OptionClick;\n  var defaultCollapse = fieldInfo.get('defaultcollapse') || false;\n  var values = fieldInfo.get('values');\n  var defaultValues = fieldInfo.get('defaultValues');\n  var items = fieldInfo.get('items') || (0, _immutable.List)();\n  var f7Items = fieldInfo.get('f7Items') || (0, _immutable.List)();\n  var today = fieldInfo.get('today') || (0, _immutable.List)();\n  var _useState13 = (0, _react.useState)(defaultCollapse),\n    _useState14 = _slicedToArray(_useState13, 2),\n    isCollapse = _useState14[0],\n    setCollapse = _useState14[1]; // 折叠状态\n  var _useState15 = (0, _react.useState)(defaultValues),\n    _useState16 = _slicedToArray(_useState15, 2),\n    selectedVals = _useState16[0],\n    setSelectedVals = _useState16[1];\n  var _useState17 = (0, _react.useState)(null),\n    _useState18 = _slicedToArray(_useState17, 2),\n    abstractText = _useState18[0],\n    setAbstractText = _useState18[1];\n  var _useState19 = (0, _react.useState)(false),\n    _useState20 = _slicedToArray(_useState19, 2),\n    showDateSelectionPanel = _useState20[0],\n    setShowDateSelectionPanel = _useState20[1];\n  var advFilterRef = (0, _react.useRef)(null);\n  (0, _react.useEffect)(function () {\n    values && setSelectedVals(values);\n  }, [values]);\n  (0, _react.useEffect)(function () {\n    getAbstractText();\n  }, [selectedVals]);\n  var getAbstractTextDefault = function getAbstractTextDefault(items, newabstractArr) {\n    return items.reduce(function (pre, cur) {\n      var value = cur.get('value');\n      var isSelected = selectedVals === null || selectedVals === void 0 ? void 0 : selectedVals.includes(value);\n      if (isSelected) {\n        var caption = cur.get('caption', (0, _immutable.Map)());\n        var name = value === '' ? '' : caption.get(locale);\n        pre.push(name);\n      }\n      return pre;\n    }, newabstractArr);\n  };\n  var getAbstractText = (0, _react.useCallback)(function () {\n    if (!selectedVals || selectedVals.size === 0) {\n      setAbstractText(null);\n    } else {\n      var newabstractArr = [];\n      var newabstractText = '';\n      if (_serverproperties.dateTypes.includes(type) && selectedVals.size === 2) {\n        var dateRangeText = selectedVals.get('0') + ' ～ ' + selectedVals.get('1');\n        newabstractArr.push(dateRangeText);\n      } else if (_serverproperties.basedataTypes.includes(type)) {\n        items && items.forEach(function (item) {\n          if (_immutable.Map.isMap(item)) {\n            var value = item.get('value');\n            var caption = item.get('caption') || (0, _immutable.Map)();\n            var name = value === '' ? '' : caption.get(locale);\n            newabstractArr.push(name);\n          } else if ((0, _lodash.isString)(item)) {\n            newabstractArr.push(item);\n          }\n        });\n      } else if (_serverproperties.userTypes.includes(type)) {\n        var isSelected = false;\n        f7Items && f7Items.size > 0 && f7Items.forEach(function (data) {\n          if (_immutable.List.isList(data.get('value'))) {\n            isSelected = data.get('value').some(function (val) {\n              return selectedVals.includes(val);\n            });\n          } else if ((0, _lodash.isString)(data.get('value'))) {\n            isSelected = selectedVals.includes(data.get('value'));\n          }\n        });\n        isSelected && f7Items && f7Items.size > 0 && f7Items.forEach(function (item) {\n          var caption = item.get('caption');\n          if (_immutable.Map.isMap(caption)) {\n            var _caption$get;\n            var title = (_caption$get = caption.get(locale)) !== null && _caption$get !== void 0 ? _caption$get : caption;\n            newabstractArr.push(title);\n          } else if (_immutable.List.isList(caption)) {\n            caption.forEach(function (data) {\n              newabstractArr.push(data);\n            });\n          }\n        });\n        if (!isSelected) {\n          newabstractArr = getAbstractTextDefault(items, newabstractArr);\n        }\n      } else {\n        newabstractArr = getAbstractTextDefault(items, newabstractArr);\n      }\n      newabstractText = newabstractArr.join('、');\n      setAbstractText(newabstractText);\n    }\n  }, [selectedVals, items, abstractText]);\n  var type = fieldInfo.get('type');\n  var isMulLine = fieldInfo.get('multiLine') || false; // 多行，默认关闭\n  var isMulti = !(fieldInfo.get('isMulti') === false) && !_serverproperties.userTypes.includes(type); // 多选，默认打开\n  var f7OptionIsMulti = !(fieldInfo.get('isMulti') === false); // 多选，默认打开\n  var mustInput = fieldInfo.get('mustInput') || false; // 必录，默认关闭\n\n  var placeholder = items.size % 3;\n  var fieldCaption = fieldInfo.get('fieldCaption') || (0, _immutable.Map)();\n  var fieldTitle = fieldCaption && fieldCaption.get(locale);\n  var fieldName = fieldInfo.get('fieldName');\n  var handleFoldClick = (0, _react.useCallback)(function () {\n    setCollapse(!isCollapse);\n  }, [isCollapse]);\n  var handleSelFieldClick = (0, _react.useCallback)(function () {\n    if (_serverproperties.basedataTypes.includes(type)) {\n      var selectedItems = selectedVals && selectedVals.size > 0 ? selectedVals.toJS() : defaultValues.toJS();\n      handleAdvF7OptionClick({\n        fieldName: fieldName,\n        isMulti: isMulti,\n        selectedItems: selectedItems\n      });\n    } else {\n      setShowDateSelectionPanel(true);\n    }\n  }, [handleAdvF7OptionClick, fieldName, isMulti, selectedVals]);\n  var closePanel = (0, _react.useCallback)(function () {\n    setShowDateSelectionPanel(false);\n  }, []);\n  var handleDatePanelClick = (0, _react.useCallback)(function (name, vals) {\n    setSelectedVals(vals);\n    updateAdvFilterArr(name, vals);\n    closePanel();\n  }, [updateAdvFilterArr]);\n  var setSelVals = (0, _react.useCallback)(function (newValue) {\n    setSelectedVals(newValue);\n    updateAdvFilterArr(fieldName, newValue);\n  }, [updateAdvFilterArr, fieldName]);\n  var handleF7ItemClickEvent = (0, _react.useCallback)(function () {\n    var selectedItems = selectedVals && selectedVals.size > 0 ? selectedVals.toJS() : defaultValues.toJS();\n    handleAdvF7OptionClick({\n      fieldName: fieldName,\n      isMulti: f7OptionIsMulti,\n      selectedItems: selectedItems\n    });\n  }, [handleAdvF7OptionClick, fieldName, f7OptionIsMulti, selectedVals]);\n  var itemsbox = (0, _classnames16[\"default\"])(_defineProperty(_defineProperty({}, _FilterModule[\"default\"].itemsbox, !isCollapse), _FilterModule[\"default\"].itemboxnone, isCollapse));\n  var xialaicon = (0, _classnames16[\"default\"])(_defineProperty(_defineProperty(_defineProperty({}, _FilterModule[\"default\"].icon, true), 'kdfont kdfont-zhankai4', !isCollapse), 'kdfont kdfont-shouqi7', isCollapse));\n  var itemPlaceholder = (0, _classnames16[\"default\"])(_defineProperty(_defineProperty({}, _FilterModule[\"default\"].itemplaceholder, true), _FilterModule[\"default\"].itemplaceholdermulline, isMulLine));\n  var result;\n  switch (type) {\n    case _serverproperties.FILTER_TYPE_DATETIME:\n    case _serverproperties.FILTER_TYPE_DATE:\n    case _serverproperties.FILTER_TYPE_BASEDATA:\n    case _serverproperties.FILTER_TYPE_BASEDATA_ORG:\n      {\n        var jinruicon = (0, _classnames16[\"default\"])(_defineProperty(_defineProperty({}, _FilterModule[\"default\"].icon, true), 'kdfont kdfont-jinru', true));\n        result = /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n          className: _FilterModule[\"default\"].selectcontent,\n          onClick: handleSelFieldClick\n        }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n          className: _FilterModule[\"default\"].selectname\n        }, fieldTitle), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n          className: _FilterModule[\"default\"].selectbox\n        }, abstractText !== null ? /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n          className: _FilterModule[\"default\"].seleabstract\n        }, abstractText) : /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n          className: _FilterModule[\"default\"].selecttext\n        }, (0, _intlApi.getLangMsg)({\n          key: 'FilterMob.pleaseselect'\n        })), /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n          className: jinruicon\n        })), showDateSelectionPanel ? /*#__PURE__*/_react[\"default\"].createElement(AdvDateFilterDownPanel, {\n          ref: advFilterRef,\n          fieldName: fieldName,\n          items: items,\n          selectedVals: selectedVals,\n          locale: locale,\n          handleDatePanelClick: handleDatePanelClick,\n          values: values,\n          today: today,\n          closePanel: closePanel\n        }) : null);\n        break;\n      }\n    case _serverproperties.FILTER_TYPE_SIEVE:\n      {\n        result = /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n          className: _FilterModule[\"default\"].foldcontent\n        }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n          className: _FilterModule[\"default\"].namebox,\n          onClick: handleFoldClick\n        }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n          className: _FilterModule[\"default\"].selectname\n        }, fieldTitle), isCollapse && abstractText && /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n          className: _FilterModule[\"default\"][\"abstract\"]\n        }, abstractText), /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n          className: xialaicon\n        })), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n          className: itemsbox\n        }, items.map(function (item) {\n          var visible = item.get('vi');\n          var value = item.get('value');\n          var caption = item.get('caption') || (0, _immutable.Map)();\n          var name = caption.get(locale);\n          var isSelected = selectedVals === null || selectedVals === void 0 ? void 0 : selectedVals.includes(value);\n          return visible !== false && /*#__PURE__*/_react[\"default\"].createElement(CommonItem, {\n            selectedVals: selectedVals,\n            key: value,\n            value: value,\n            name: name,\n            isMulLine: isMulLine,\n            isMulti: isMulti,\n            setSelVals: setSelVals,\n            mustInput: mustInput,\n            isSelected: isSelected\n          });\n        }), placeholder >= 1 && /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n          className: itemPlaceholder\n        }), placeholder === 1 && /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n          className: itemPlaceholder\n        })));\n        break;\n      }\n    case _serverproperties.FILTER_TYPE_BASEDATA_USER:\n      {\n        result = /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n          className: _FilterModule[\"default\"].foldcontent\n        }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n          className: _FilterModule[\"default\"].namebox,\n          onClick: handleFoldClick\n        }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n          className: _FilterModule[\"default\"].selectname\n        }, fieldTitle), abstractText && /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n          className: _FilterModule[\"default\"][\"abstract\"]\n        }, abstractText), /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n          className: xialaicon\n        })), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n          className: itemsbox\n        }, items.map(function (item) {\n          var visible = item.get('vi');\n          var value = item.get('value');\n          var caption = item.get('caption') || (0, _immutable.Map)();\n          var f7ClickItem = item.get('f7Click');\n          var name = caption.get(locale);\n          var isSelected = false;\n          if (f7ClickItem) {\n            f7Items && f7Items.size > 0 && f7Items.forEach(function (data) {\n              if (_immutable.List.isList(data.get('value'))) {\n                isSelected = data.get('value').some(function (val) {\n                  return selectedVals.includes(val);\n                });\n              } else if ((0, _lodash.isString)(data.get('value'))) {\n                isSelected = selectedVals.includes(data.get('value'));\n              }\n            });\n          } else {\n            isSelected = selectedVals.includes(value);\n          }\n          return visible !== false && /*#__PURE__*/_react[\"default\"].createElement(CommonItem, {\n            selectedVals: selectedVals,\n            key: value,\n            value: value,\n            name: name,\n            isMulLine: isMulLine,\n            isMulti: isMulti,\n            setSelVals: setSelVals,\n            mustInput: mustInput,\n            isSelected: isSelected,\n            f7ClickItem: f7ClickItem,\n            type: type,\n            f7ClickEvet: handleF7ItemClickEvent,\n            f7OptionIsMulti: f7OptionIsMulti\n          });\n        }), placeholder >= 1 && /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n          className: itemPlaceholder\n        }), placeholder === 1 && /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n          className: itemPlaceholder\n        })));\n        break;\n      }\n    default:\n      result = null;\n  }\n  return result;\n}\nfunction CommonItem(props) {\n  var name = props.name,\n    value = props.value,\n    isMulLine = props.isMulLine,\n    isMulti = props.isMulti,\n    isSelected = props.isSelected,\n    setSelVals = props.setSelVals,\n    mustInput = props.mustInput,\n    selectedVals = props.selectedVals,\n    type = props.type,\n    f7ClickItem = props.f7ClickItem,\n    f7ClickEvet = props.f7ClickEvet,\n    f7OptionIsMulti = props.f7OptionIsMulti;\n  var handleCommonItemClick = (0, _react.useCallback)(function (e) {\n    if (_serverproperties.userTypes.includes(type) && f7ClickItem) {\n      f7ClickEvet();\n    } else {\n      if (mustInput && isSelected && (!isMulti || selectedVals.size === 1)) return;\n      e.stopPropagation();\n      if (isMulti) {\n        var index = selectedVals.indexOf(value);\n        var newArr;\n        if (!isSelected && index === -1) {\n          newArr = selectedVals.push(value);\n        } else if (isSelected) {\n          newArr = selectedVals.splice(index, 1);\n        }\n        setSelVals && setSelVals(newArr);\n      } else {\n        var _index = selectedVals.indexOf(value);\n        var _newArr;\n        if (!isSelected && _index === -1) {\n          _newArr = (0, _immutable.fromJS)([value]);\n        } else if (isSelected) {\n          _newArr = (0, _immutable.fromJS)([]);\n        }\n        setSelVals && setSelVals(_newArr);\n      }\n    }\n  }, [isSelected, setSelVals, value, mustInput, isMulti, selectedVals]);\n  var commonItem = (0, _classnames16[\"default\"])(_defineProperty(_defineProperty(_defineProperty(_defineProperty({}, _FilterModule[\"default\"].commonitem, true), _FilterModule[\"default\"].commonitemsingle, !isMulLine), _FilterModule[\"default\"].commonitemmulline, isMulLine), _FilterModule[\"default\"].commonitemselected, isSelected));\n  var itemTitle = (0, _classnames16[\"default\"])(_defineProperty(_defineProperty(_defineProperty(_defineProperty({}, _FilterModule[\"default\"].itemtitle, true), _FilterModule[\"default\"].itemtitlesingle, !isMulLine), _FilterModule[\"default\"].itemtitlemulline, isMulLine), _FilterModule[\"default\"].itemtitleselected, isSelected));\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: commonItem,\n    key: value,\n    onClick: handleCommonItemClick\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: itemTitle\n  }, name));\n}\nfunction OptionItem(props) {\n  var _props$caption = props.caption,\n    caption = _props$caption === void 0 ? (0, _immutable.Map)() : _props$caption,\n    value = props.value,\n    _props$isMulti = props.isMulti,\n    isMulti = _props$isMulti === void 0 ? true : _props$isMulti,\n    locale = props.locale,\n    setSelVals = props.setSelVals,\n    isSelected = props.isSelected,\n    _props$compare = props.compare,\n    compare = _props$compare === void 0 ? '' : _props$compare,\n    handlePanelConfirmClick = props.handlePanelConfirmClick,\n    fieldName = props.fieldName,\n    handleF7ItemClick = props.handleF7ItemClick,\n    f7Items = props.f7Items,\n    selectedVals = props.selectedVals,\n    type = props.type,\n    defaultValues = props.defaultValues,\n    f7ClickItem = props.f7ClickItem,\n    f7OptionIsMulti = props.f7OptionIsMulti;\n  var _useState21 = (0, _react.useState)(isSelected),\n    _useState22 = _slicedToArray(_useState21, 2),\n    isSeled = _useState22[0],\n    setSelected = _useState22[1]; // 单据头已选表数据\n\n  (0, _react.useEffect)(function () {\n    setSelected(isSelected);\n  }, [isSelected]);\n  var handleOptionClick = (0, _react.useCallback)(function (e) {\n    e.stopPropagation();\n    if (_serverproperties.userTypes.includes(type) && f7ClickItem) {\n      handleF7ItemClick({\n        isMulti: f7OptionIsMulti,\n        values: selectedVals,\n        defaultValues: defaultValues\n      }, fieldName);\n    } else if (isMulti) {\n      setSelected(!isSeled);\n      setSelVals && setSelVals(value, !isSeled);\n    } else {\n      var _selectedVals = (0, _immutable.fromJS)([value]);\n      handlePanelConfirmClick && handlePanelConfirmClick(fieldName, _selectedVals);\n    }\n  }, [isSeled, setSelVals, value, fieldName, handlePanelConfirmClick, defaultValues, f7OptionIsMulti]);\n  var getAbstractText = (0, _react.useCallback)(function () {\n    if (!selectedVals || selectedVals.size === 0) {\n      return null;\n    } else {\n      var newabstractArr = [];\n      var newabstractText = '';\n      if (_serverproperties.userTypes.includes(type)) {\n        f7Items && f7Items.size > 0 && f7Items.forEach(function (item) {\n          if (_immutable.Map.isMap(item)) {\n            var _caption = item.get('caption');\n            if (_immutable.Map.isMap(_caption)) {\n              var _caption$get2;\n              var title = (_caption$get2 = _caption.get(locale)) !== null && _caption$get2 !== void 0 ? _caption$get2 : _caption;\n              newabstractArr.push(title);\n            } else if (_immutable.List.isList(_caption)) {\n              _caption.forEach(function (data) {\n                newabstractArr.push(data);\n              });\n            }\n          }\n        });\n      }\n      newabstractText = newabstractArr.join('、');\n      return newabstractArr.length > 0 && /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n        className: _FilterModule[\"default\"]['option-abstract-text']\n      }, newabstractText);\n    }\n  }, [selectedVals, f7Items]);\n  var selector = (0, _classnames16[\"default\"])(_defineProperty(_defineProperty(_defineProperty(_defineProperty({}, _FilterModule[\"default\"].selector, true), _FilterModule[\"default\"].active, isSeled), 'kdfont kdfont-fuxuanweixuan', !isSeled), 'kdfont kdfont-fuxuanxuanzhong', isSeled));\n  var selecticonor = (0, _classnames16[\"default\"])(_defineProperty(_defineProperty(_defineProperty({}, _FilterModule[\"default\"].selectedIcon, true), _FilterModule[\"default\"].active, isSeled), 'kdfont kdfont-danliexuanze', isSeled));\n  var jinruicon = (0, _classnames16[\"default\"])(_defineProperty(_defineProperty({}, _FilterModule[\"default\"]['default-jin-ru'], true), 'kdfont kdfont-jinru', true));\n  var isUserF7Option = _serverproperties.userTypes.includes(type) && f7ClickItem;\n  var showAbstractText = function showAbstractText(isSelected, isUserF7Option) {\n    if (isSelected && isUserF7Option) {\n      return getAbstractText();\n    } else if (isUserF7Option) {\n      return /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n        className: _FilterModule[\"default\"]['option-abstract-noValue-text']\n      }, (0, _intlApi.getLangMsg)({\n        key: 'FilterMob.pleaseselect'\n      }));\n    } else {\n      return null;\n    }\n  };\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FilterModule[\"default\"].optionItem,\n    onClick: handleOptionClick,\n    \"data-touchfeedback\": true\n  }, isMulti ? /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n    className: selector\n  }) : null, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: _FilterModule[\"default\"].optionname\n  }, caption.get(locale)), isMulti || isUserF7Option ? null : /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n    className: selecticonor\n  }), showAbstractText(isSelected, isUserF7Option), isUserF7Option && /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n    className: jinruicon\n  }));\n}\nvar DATE_ITEMS_MIN_HEIGHT = 56;\nfunction DateSelectionPanel(props) {\n  var fieldName = props.fieldName,\n    items = props.items,\n    selectedVals = props.selectedVals,\n    locale = props.locale,\n    handlePanelConfirmClick = props.handlePanelConfirmClick,\n    style = props.style,\n    values = props.values,\n    today = props.today,\n    shadeHight = props.shadeHight,\n    advFilterRef = props.advFilterRef;\n  var placeholder = items && items.size % 3;\n  var dateItemsEleRef = (0, _react.useRef)(null);\n  var dateItemsInitHeightRef = (0, _react.useRef)();\n  var handleDateOptionClick = (0, _react.useCallback)(function (val) {\n    var selectedVals = (0, _immutable.fromJS)([val]);\n    handlePanelConfirmClick && handlePanelConfirmClick(fieldName, selectedVals);\n  }, [handlePanelConfirmClick, fieldName]);\n  var handleDateRangeChange = (0, _react.useCallback)(function (dateArr) {\n    var selectedVals = (0, _immutable.fromJS)(dateArr);\n    handlePanelConfirmClick && handlePanelConfirmClick(fieldName, selectedVals);\n  }, [handlePanelConfirmClick, fieldName]);\n  (0, _react.useEffect)(function () {\n    if (dateItemsEleRef.current) {\n      var _dateItemsEleRef$curr;\n      // 没展开日期前，要先计算这个真实的宽度\n      dateItemsInitHeightRef.current = (_dateItemsEleRef$curr = dateItemsEleRef.current) === null || _dateItemsEleRef$curr === void 0 ? void 0 : _dateItemsEleRef$curr.getBoundingClientRect().height;\n    }\n  }, []);\n  var getDatePickerHeightData = (0, _react.useCallback)(function () {\n    // 因为常用日期部分可被压缩，这里计算可被压缩的高度\n    var exceedsHeight = dateItemsInitHeightRef.current - DATE_ITEMS_MIN_HEIGHT;\n    return {\n      expandableHeight: exceedsHeight > 0 ? exceedsHeight : 0\n    };\n  }, []);\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FilterModule[\"default\"].dateselectionpanel,\n    onClick: function onClick(e) {\n      return e.stopPropagation();\n    },\n    style: style\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FilterModule[\"default\"].dateoptions\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: _FilterModule[\"default\"].datetitle\n  }, (0, _intlApi.getLangMsg)({\n    key: 'FilterMob.commontime'\n  })), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FilterModule[\"default\"].datebox,\n    ref: dateItemsEleRef,\n    style: {\n      minHeight: DATE_ITEMS_MIN_HEIGHT\n    }\n  }, items && items.map(function (item, index) {\n    var value = item.get('value');\n    var isSelected = selectedVals === null || selectedVals === void 0 ? void 0 : selectedVals.includes(value);\n    return /*#__PURE__*/_react[\"default\"].createElement(OptionDateItem, {\n      locale: locale,\n      key: index,\n      caption: item.get('caption'),\n      value: value,\n      vi: item.get('vi'),\n      isSelected: isSelected,\n      handleDateOptionClick: handleDateOptionClick,\n      compare: item.get('compare')\n    });\n  }), placeholder >= 1 && /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FilterModule[\"default\"].itemplaceholder\n  }), placeholder === 1 && /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FilterModule[\"default\"].itemplaceholder\n  }))), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FilterModule[\"default\"].othertimebox\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: _FilterModule[\"default\"].othertitle\n  }, (0, _intlApi.getLangMsg)({\n    key: 'FilterMob.othertime'\n  })), /*#__PURE__*/_react[\"default\"].createElement(CustomDatePickPanel, {\n    values: values,\n    today: today,\n    shadeHight: shadeHight,\n    advFilterRef: advFilterRef,\n    fieldName: fieldName,\n    handleDateRangeChange: handleDateRangeChange,\n    getDatePickerHeightData: getDatePickerHeightData\n  })));\n}\nfunction OptionDateItem(props) {\n  var _props$caption2 = props.caption,\n    caption = _props$caption2 === void 0 ? (0, _immutable.Map)() : _props$caption2,\n    value = props.value,\n    _props$compare2 = props.compare,\n    compare = _props$compare2 === void 0 ? '' : _props$compare2,\n    locale = props.locale,\n    handleDateOptionClick = props.handleDateOptionClick,\n    isSelected = props.isSelected;\n  // if (!vi) return null\n  var _useState23 = (0, _react.useState)(isSelected),\n    _useState24 = _slicedToArray(_useState23, 2),\n    isSeled = _useState24[0],\n    setSelected = _useState24[1]; // 单据头已选表数据\n\n  (0, _react.useEffect)(function () {\n    setSelected(isSelected);\n  }, [isSelected]);\n  var handleOptionClick = (0, _react.useCallback)(function (e) {\n    e.stopPropagation();\n    setSelected(!isSeled);\n    handleDateOptionClick && handleDateOptionClick(value);\n  }, [isSeled, handleDateOptionClick, value]);\n  var optiondateitem = (0, _classnames16[\"default\"])(_defineProperty(_defineProperty({}, _FilterModule[\"default\"].optiondateitem, true), _FilterModule[\"default\"].activeoptiondate, isSeled));\n  var datetimename = (0, _classnames16[\"default\"])(_defineProperty(_defineProperty({}, _FilterModule[\"default\"].datetimename, true), _FilterModule[\"default\"].activedatename, isSeled));\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: optiondateitem,\n    onClick: handleOptionClick,\n    onTouchStart: function onTouchStart() {}\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: datetimename\n  }, caption.get(locale)));\n}\nfunction CustomDatePickPanel(props) {\n  var today = props.today,\n    handleDateRangeChange = props.handleDateRangeChange,\n    values = props.values,\n    shadeHight = props.shadeHight,\n    advFilterRef = props.advFilterRef,\n    fieldName = props.fieldName,\n    getDatePickerHeightData = props.getDatePickerHeightData;\n  var filterRangePickerRef = (0, _react.useRef)(null);\n  var mask = 'YYYY-MM-DD';\n  var startDate;\n  var endDate;\n  if (values && values.size === 2) {\n    startDate = (0, _moment[\"default\"])(values.get('0'));\n    endDate = (0, _moment[\"default\"])(values.get('1'));\n  }\n  var todatdate = today ? (0, _moment[\"default\"])(today) : (0, _moment[\"default\"])();\n  var onChange = (0, _react.useCallback)(function (startDate, endDate) {\n    var dateString = '';\n    if (startDate) dateString = startDate.format('YYYY-MM-DD');\n    if (dateString) dateString += ',';\n    if (endDate) dateString += endDate.format('YYYY-MM-DD');\n    var dateArr = dateString.split(',');\n    handleDateRangeChange && handleDateRangeChange(dateArr);\n  }, [handleDateRangeChange]);\n  var handleDateChange = (0, _react.useCallback)(function (dateArr) {\n    if (dateArr && dateArr.length === 2) {\n      onChange.apply(void 0, _toConsumableArray(dateArr));\n    }\n  }, [onChange]);\n  (0, _react.useEffect)(function () {\n    filterRangePickerRef.current.updateTimePickerHeight();\n  }, [fieldName]);\n  return /*#__PURE__*/_react[\"default\"].createElement(_RangePicker.FilterRangePicker, {\n    ref: filterRangePickerRef,\n    rangeType: \"date\",\n    format: mask,\n    today: todatdate,\n    title: (0, _intlApi.getLangMsg)({\n      key: 'FilterMob.selectdate'\n    }),\n    value: [startDate, endDate],\n    onDateChange: handleDateChange,\n    shadeHight: shadeHight,\n    advFilterRef: advFilterRef,\n    getDatePickerHeightData: getDatePickerHeightData\n  });\n}\nfunction FilterSchemePanel(props) {\n  var panelItems = props.panelItems,\n    locale = props.locale,\n    filterboxRef = props.filterboxRef,\n    handleNotMultiPanelConfirmClick = props.handleNotMultiPanelConfirmClick,\n    closePanel = props.closePanel;\n  var values = panelItems.values,\n    defaultValues = panelItems.defaultValues,\n    fieldName = panelItems.fieldName,\n    items = panelItems.items,\n    isMulti = panelItems.isMulti;\n  var filterSchemePanelRef = (0, _react.useRef)(null);\n  var filterboxInfo = filterboxRef.current && filterboxRef.current.getBoundingClientRect();\n  var filterboxtop = filterboxInfo && filterboxInfo.top;\n  var filterboxhight = filterboxInfo && filterboxInfo.height;\n  var boxstyle = {\n    top: filterboxtop + filterboxhight + 'px'\n  };\n  var handleConfirmClick = (0, _react.useCallback)(function (fieldName, selectvalue) {\n    handleNotMultiPanelConfirmClick && handleNotMultiPanelConfirmClick(fieldName, selectvalue);\n  }, [handleNotMultiPanelConfirmClick]);\n  (0, _react.useEffect)(function () {\n    // 过滤面板展开时，监听document上的点击事件，除了filterSchemePanelRef和filterboxRef点击外，点击其他地方收起面板\n    var removeclickOutside = (0, _clickOutsideUtil[\"default\"])([filterSchemePanelRef.current, filterboxRef.current], function () {\n      closePanel();\n    });\n    return function () {\n      removeclickOutside();\n    };\n  }, [filterSchemePanelRef, filterboxRef]);\n  return /*#__PURE__*/_reactDom[\"default\"].createPortal( /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FilterModule[\"default\"].optionbox,\n    onClick: function onClick(e) {\n      return e.stopPropagation();\n    },\n    style: boxstyle,\n    ref: filterSchemePanelRef\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FilterModule[\"default\"].options\n  }, items && items.map(function (item, index) {\n    var value = item.get('value');\n    var isSelected = values.includes(value);\n    return /*#__PURE__*/_react[\"default\"].createElement(OptionItem, {\n      locale: locale,\n      key: index,\n      caption: item.get('caption'),\n      value: value,\n      vi: item.get('vi'),\n      isSelected: isSelected,\n      compare: item.get('compare'),\n      isMulti: isMulti,\n      handlePanelConfirmClick: handleConfirmClick,\n      fieldName: fieldName\n    });\n  })), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FilterModule[\"default\"].shade,\n    onClick: closePanel\n  })), document.body);\n}\nfunction MultidimensionalSortPanel(props) {\n  var panelItems = props.panelItems,\n    locale = props.locale,\n    filterboxRef = props.filterboxRef,\n    handleMultidimensionalSortPanelConfirmClick = props.handleMultidimensionalSortPanelConfirmClick,\n    closePanel = props.closePanel;\n  var fieldName = panelItems.fieldName,\n    isMulti = panelItems.isMulti,\n    type = panelItems.type,\n    items = panelItems.items,\n    activeSortItem = panelItems.activeSortItem;\n  var multidimensionalSortPanelRef = (0, _react.useRef)(null);\n  (0, _react.useEffect)(function () {\n    // 过滤面板展开时，监听document上的点击事件，除了multidimensionalSortPanelRef和filterboxRef点击外，点击其他地方收起面板\n    var removeclickOutside = (0, _clickOutsideUtil[\"default\"])([multidimensionalSortPanelRef.current, filterboxRef.current], function () {\n      closePanel();\n    });\n    return function () {\n      removeclickOutside();\n    };\n  }, [multidimensionalSortPanelRef, filterboxRef]);\n  var filterboxInfo = filterboxRef.current && filterboxRef.current.getBoundingClientRect();\n  var filterboxtop = filterboxInfo && filterboxInfo.top;\n  var filterboxhight = filterboxInfo && filterboxInfo.height;\n  var boxstyle = {\n    top: filterboxtop + filterboxhight + 'px'\n  };\n  var handleConfirmClick = (0, _react.useCallback)(function (fieldName, selectedVals) {\n    handleMultidimensionalSortPanelConfirmClick && handleMultidimensionalSortPanelConfirmClick(fieldName, selectedVals);\n  }, [handleMultidimensionalSortPanelConfirmClick, fieldName]);\n  var selecticonor = (0, _classnames16[\"default\"])(_defineProperty(_defineProperty(_defineProperty({}, _FilterModule[\"default\"].selectedIcon, true), _FilterModule[\"default\"].active, (activeSortItem === null || activeSortItem === void 0 ? void 0 : activeSortItem.option) === _serverproperties.FILTER_SORT_DISORDER), 'kdfont kdfont-danliexuanze', (activeSortItem === null || activeSortItem === void 0 ? void 0 : activeSortItem.option) === _serverproperties.FILTER_SORT_DISORDER));\n  return /*#__PURE__*/_reactDom[\"default\"].createPortal( /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FilterModule[\"default\"].optionbox,\n    onClick: function onClick(e) {\n      return e.stopPropagation();\n    },\n    style: boxstyle,\n    ref: multidimensionalSortPanelRef\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FilterModule[\"default\"].options\n  }, items && items.size > 0 && /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FilterModule[\"default\"].optionItem,\n    onClick: function onClick() {\n      return handleConfirmClick((0, _intlApi.getLangMsg)({\n        key: 'FilterSortAsc.key0003'\n      }), _serverproperties.FILTER_SORT_DISORDER);\n    },\n    \"data-touchfeedback\": true\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: _FilterModule[\"default\"].optionname\n  }, (0, _intlApi.getLangMsg)({\n    key: 'FilterSortAsc.key0003'\n  })), /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n    className: selecticonor\n  })), items && items.size > 0 && items.map(function (item, index) {\n    var activeFieldName = activeSortItem === null || activeSortItem === void 0 ? void 0 : activeSortItem.fieldName;\n    var activeOrder = activeSortItem === null || activeSortItem === void 0 ? void 0 : activeSortItem.option;\n    var isSelected = activeFieldName === item.get('fieldName') && activeOrder === item.get('order');\n    var value = item.get('order');\n    return /*#__PURE__*/_react[\"default\"].createElement(MultidimensionalSortOptionItem, {\n      locale: locale,\n      key: index,\n      caption: item.get('fieldCaption'),\n      value: value,\n      isSelected: isSelected,\n      isMulti: false,\n      handlePanelConfirmClick: handleConfirmClick,\n      fieldName: item.get('fieldName')\n    });\n  })), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FilterModule[\"default\"].shade,\n    onClick: closePanel\n  })), document.body);\n}\nfunction MultidimensionalSortOptionItem(props) {\n  var _props$caption3 = props.caption,\n    caption = _props$caption3 === void 0 ? (0, _immutable.Map)() : _props$caption3,\n    value = props.value,\n    vi = props.vi,\n    _props$isMulti2 = props.isMulti,\n    isMulti = _props$isMulti2 === void 0 ? true : _props$isMulti2,\n    locale = props.locale,\n    getSelVals = props.getSelVals,\n    isSelected = props.isSelected,\n    _props$compare3 = props.compare,\n    compare = _props$compare3 === void 0 ? '' : _props$compare3,\n    handlePanelConfirmClick = props.handlePanelConfirmClick,\n    fieldName = props.fieldName;\n  // if (!vi) return null\n  var _useState25 = (0, _react.useState)(isSelected),\n    _useState26 = _slicedToArray(_useState25, 2),\n    isSeled = _useState26[0],\n    setSelected = _useState26[1]; // 单据头已选表数据\n\n  (0, _react.useEffect)(function () {\n    setSelected(isSelected);\n  }, [isSelected]);\n  var handleOptionClick = (0, _react.useCallback)(function (e) {\n    e.stopPropagation();\n    if (isMulti) {\n      setSelected(!isSeled);\n      getSelVals && getSelVals(value, !isSeled);\n    } else {\n      handlePanelConfirmClick && handlePanelConfirmClick(fieldName, value);\n    }\n  }, [isSeled, getSelVals, value, fieldName, handlePanelConfirmClick]);\n  var selector = (0, _classnames16[\"default\"])(_defineProperty(_defineProperty(_defineProperty(_defineProperty({}, _FilterModule[\"default\"].selector, true), _FilterModule[\"default\"].active, isSeled), 'kdfont kdfont-fuxuanweixuan', !isSeled), 'kdfont kdfont-fuxuanxuanzhong', isSeled));\n  var selecticonor = (0, _classnames16[\"default\"])(_defineProperty(_defineProperty(_defineProperty({}, _FilterModule[\"default\"].selectedIcon, true), _FilterModule[\"default\"].active, isSeled), 'kdfont kdfont-danliexuanze', isSeled));\n  var content = value === 'ASC' ? (0, _intlApi.getLangMsg)({\n    key: 'FilterSortAsc.key0001',\n    variables: {\n      title: caption.get(locale)\n    }\n  }) : (0, _intlApi.getLangMsg)({\n    key: 'FilterSortAsc.key0002',\n    variables: {\n      title: caption.get(locale)\n    }\n  });\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FilterModule[\"default\"].optionItem,\n    onClick: handleOptionClick,\n    \"data-touchfeedback\": true\n  }, isMulti ? /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n    className: selector\n  }) : null, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: _FilterModule[\"default\"].optionname\n  }, content), isMulti ? null : /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n    className: selecticonor\n  }));\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/base/FilterModule.jsx?");

/***/ }),

/***/ "./src/component/mobile/base/SieveItem.jsx":
/*!*************************************************!*\
  !*** ./src/component/mobile/base/SieveItem.jsx ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = SieveItem;\nexports.getUserNormalName = exports.getUserF7OptionName = void 0;\n__webpack_require__(/*! core-js/modules/es.array.find.js */ \"../../node_modules/core-js/modules/es.array.find.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\n__webpack_require__(/*! core-js/modules/es.string.replace.js */ \"../../node_modules/core-js/modules/es.string.replace.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _Filter = _interopRequireDefault(__webpack_require__(/*! ./Filter.less */ \"./src/component/mobile/base/Filter.less\"));\nvar _classnames4 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _serverproperties = __webpack_require__(/*! @/constant/serverproperties.js */ \"./src/constant/serverproperties.js\");\nvar _lodash = __webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\");\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction SieveItem(props) {\n  var isMulti = props.isMulti,\n    mustInput = props.mustInput,\n    defaultValues = props.defaultValues,\n    values = props.values,\n    type = props.type,\n    items = props.items,\n    handleItemClick = props.handleItemClick,\n    fieldName = props.fieldName,\n    _props$fieldCaption = props.fieldCaption,\n    fieldCaption = _props$fieldCaption === void 0 ? (0, _immutable.Map)() : _props$fieldCaption,\n    isCustom = props.isCustom,\n    locale = props.locale,\n    isActive = props.isActive,\n    today = props.today,\n    f7Items = props.f7Items,\n    isNeedMore = props.isNeedMore;\n  var _useState = (0, _react.useState)(defaultValues),\n    _useState2 = _slicedToArray(_useState, 2),\n    vals = _useState2[0],\n    setVals = _useState2[1];\n  var itemRef = (0, _react.useRef)();\n  (0, _react.useEffect)(function () {\n    values && setVals(values);\n  }, [values]);\n  var setPanelData = function setPanelData() {\n    var items = props.items;\n    // 如果后端传了isNeedMore为ture，就在后面加上更多，用于过滤面板下拉\n    if (isNeedMore && items) {\n      items = items.push((0, _immutable.fromJS)({\n        caption: _defineProperty({}, locale, (0, _intlApi.getLangMsg)('FilterMob.more')),\n        f7Click: true\n      }));\n    }\n    var panelData = {\n      values: vals,\n      defaultValues: defaultValues,\n      fieldName: fieldName,\n      type: type,\n      isMulti: isMulti && !_serverproperties.userTypes.includes(type),\n      mustInput: mustInput,\n      today: today,\n      items: items,\n      f7Items: f7Items,\n      f7OptionIsMulti: isMulti\n    };\n    return panelData;\n  };\n  var handleClick = (0, _react.useCallback)(function (e) {\n    var _itemRef$current, _itemRef$current2;\n    e.stopPropagation();\n    ((_itemRef$current = itemRef.current) === null || _itemRef$current === void 0 ? void 0 : _itemRef$current.scrollIntoView) && ((_itemRef$current2 = itemRef.current) === null || _itemRef$current2 === void 0 ? void 0 : _itemRef$current2.scrollIntoView({\n      behavior: 'smooth'\n    }));\n    var option = !isActive || _serverproperties.basedataTypes.includes(type) ? setPanelData() : {};\n    handleItemClick && handleItemClick(!isActive, fieldName, type, option);\n  }, [isActive, handleItemClick, fieldName, type, setPanelData]);\n  var sievebox = (0, _classnames4[\"default\"])(_defineProperty({}, _Filter[\"default\"].sievebox, true));\n  var textcn = (0, _classnames4[\"default\"])(_defineProperty(_defineProperty({}, _Filter[\"default\"].text, true), _Filter[\"default\"].active, isActive || vals.size > 0 && vals.get('0') !== ''));\n  var icon = (0, _classnames4[\"default\"])(_defineProperty(_defineProperty(_defineProperty(_defineProperty({}, _Filter[\"default\"].icon, true), _Filter[\"default\"].active, isActive || vals.size > 0 && vals.get('0') !== ''), 'kdfont kdfont-guolvxia', !isActive), 'kdfont kdfont-guolvshang', isActive));\n  var getText = (0, _react.useCallback)(function () {\n    var fieldName = fieldCaption && fieldCaption.get(locale);\n    var text = /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n      className: textcn\n    }, fieldName);\n    var len = vals.size;\n    if (len === 1) {\n      var name = fieldName;\n      if (_serverproperties.userTypes.includes(type)) {\n        var id = vals.get('0');\n        var normalName = getUserNormalName(items, id, locale);\n        var f7OptionName = getUserF7OptionName(f7Items, id, locale);\n        if (id !== '' && normalName) {\n          name = normalName;\n        } else if (id !== '' && f7OptionName) {\n          name = f7OptionName;\n        }\n      } else {\n        items && items.forEach(function (info) {\n          if (_immutable.Map.isMap(info)) {\n            var _id = vals.get('0');\n            var value = info.get('value');\n            if (value === _id) {\n              var caption = info.get('caption') || (0, _immutable.Map)();\n              name = _id === '' ? fieldName : caption.get(locale) || fieldName;\n            }\n          } else if ((0, _lodash.isString)(info)) {\n            name = info || fieldName;\n          }\n        });\n      }\n      text = /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n        className: textcn\n      }, name);\n    } else if (len > 1) {\n      if (_serverproperties.dateTypes.includes(type)) {\n        var startdate = vals.get('0').replace(/[^\\d]/g, '.');\n        var enddate = vals.get('1').replace(/[^\\d]/g, '.');\n        text = /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n          className: _Filter[\"default\"].daterangevalbox\n        }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n          className: _Filter[\"default\"].dateval\n        }, startdate), /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n          className: _Filter[\"default\"].dateval\n        }, enddate));\n      } else {\n        text = /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n          className: _Filter[\"default\"].valnamebox\n        }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n          className: _Filter[\"default\"].valname\n        }, fieldCaption && fieldCaption.get(locale)), /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n          className: _Filter[\"default\"].valnum\n        }, \"(\".concat(len, \")\")));\n      }\n    }\n    return text;\n  }, [fieldCaption, vals, type, items, locale, textcn]);\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: sievebox,\n    onClick: handleClick,\n    ref: itemRef\n  }, getText(), /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n    className: icon\n  }));\n}\nvar getUserNormalName = exports.getUserNormalName = function getUserNormalName(items, id, locale) {\n  var name = '';\n  var filterItemInfo = items === null || items === void 0 ? void 0 : items.find(function (info) {\n    return info.get('value') === id;\n  });\n  name = _immutable.Map.isMap(filterItemInfo) ? filterItemInfo.getIn(['caption', locale]) : name;\n  return name;\n};\nvar getUserF7OptionName = exports.getUserF7OptionName = function getUserF7OptionName(f7Items, id, locale) {\n  var name = '';\n  var filterItemInfo = f7Items === null || f7Items === void 0 ? void 0 : f7Items.find(function (info) {\n    var value = (0, _lodash.isString)(info.getIn(['value'])) ? info.getIn(['value']) : info.getIn(['value', 0]);\n    return value === id;\n  });\n  var caption = filterItemInfo && filterItemInfo.get('caption');\n  if (_immutable.Map.isMap(caption)) {\n    name = caption.get(locale);\n  } else if (_immutable.List.isList(caption)) {\n    name = caption.get(0);\n  }\n  return name;\n};\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/base/SieveItem.jsx?");

/***/ }),

/***/ "./src/component/mobile/base/SortItem.jsx":
/*!************************************************!*\
  !*** ./src/component/mobile/base/SortItem.jsx ***!
  \************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.MulSortItem = MulSortItem;\nexports[\"default\"] = SortItem;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _Filter = _interopRequireDefault(__webpack_require__(/*! ./Filter.less */ \"./src/component/mobile/base/Filter.less\"));\nvar _classnames8 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _serverproperties = __webpack_require__(/*! @/constant/serverproperties.js */ \"./src/constant/serverproperties.js\");\nvar _lodash = __webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\");\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n// desc：降序；asc：升序,disorder:无序/取消排序\nfunction SortItem(props) {\n  var _props$defaultValues = props.defaultValues,\n    defaultValues = _props$defaultValues === void 0 ? _serverproperties.FILTER_SORT_ASC : _props$defaultValues,\n    type = props.type,\n    order = props.order,\n    handleItemClick = props.handleItemClick,\n    fieldName = props.fieldName,\n    _props$fieldCaption = props.fieldCaption,\n    fieldCaption = _props$fieldCaption === void 0 ? (0, _immutable.Map)() : _props$fieldCaption,\n    isCustom = props.isCustom,\n    locale = props.locale,\n    isActive = props.isActive;\n  var itemRef = (0, _react.useRef)();\n  var handleClick = (0, _react.useCallback)(function (e) {\n    var _itemRef$current, _itemRef$current2;\n    e.stopPropagation();\n    ((_itemRef$current = itemRef.current) === null || _itemRef$current === void 0 ? void 0 : _itemRef$current.scrollIntoView) && ((_itemRef$current2 = itemRef.current) === null || _itemRef$current2 === void 0 ? void 0 : _itemRef$current2.scrollIntoView({\n      behavior: 'smooth'\n    }));\n    var neworder = order;\n    switch (order) {\n      case _serverproperties.FILTER_SORT_ASC:\n        neworder = _serverproperties.FILTER_SORT_DESC;\n        break;\n      case _serverproperties.FILTER_SORT_DESC:\n        neworder = _serverproperties.FILTER_SORT_DISORDER;\n        break;\n      case _serverproperties.FILTER_SORT_DISORDER:\n        neworder = _serverproperties.FILTER_SORT_ASC;\n        break;\n      default:\n        neworder = _serverproperties.FILTER_SORT_ASC;\n        break;\n    }\n    handleItemClick && handleItemClick(!isActive, fieldName, type, neworder);\n  }, [order, defaultValues, handleItemClick, isActive, fieldName, type]);\n  var sievebox = (0, _classnames8[\"default\"])(_defineProperty({}, _Filter[\"default\"].sievebox, true));\n  var upicon = (0, _classnames8[\"default\"])(_defineProperty(_defineProperty(_defineProperty(_defineProperty({}, _Filter[\"default\"].icons, true), _Filter[\"default\"].active, order === _serverproperties.FILTER_SORT_ASC), _Filter[\"default\"].sorticon, order === _serverproperties.FILTER_SORT_DESC), 'kdfont kdfont-paixushang', true));\n  var downicon = (0, _classnames8[\"default\"])(_defineProperty(_defineProperty(_defineProperty(_defineProperty({}, _Filter[\"default\"].icons, true), _Filter[\"default\"].active, order === _serverproperties.FILTER_SORT_DESC), _Filter[\"default\"].sorticon, order === _serverproperties.FILTER_SORT_ASC), 'kdfont kdfont-paixuxia3', true));\n  var textcn = (0, _classnames8[\"default\"])(_defineProperty(_defineProperty({}, _Filter[\"default\"].text, true), _Filter[\"default\"].active, isActive));\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: sievebox,\n    onClick: handleClick,\n    ref: itemRef\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: textcn\n  }, fieldCaption.get(locale)), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _Filter[\"default\"].iconbox\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n    className: upicon\n  }), /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n    className: downicon\n  })));\n}\nfunction MulSortItem(props) {\n  var _props$activeSortItem = props.activeSortItem,\n    activeSortItem = _props$activeSortItem === void 0 ? {} : _props$activeSortItem,\n    type = props.type,\n    items = props.items,\n    handleItemClick = props.handleItemClick,\n    fieldName = props.fieldName,\n    _props$fieldCaption2 = props.fieldCaption,\n    fieldCaption = _props$fieldCaption2 === void 0 ? (0, _immutable.Map)() : _props$fieldCaption2,\n    locale = props.locale,\n    isActive = props.isActive;\n  var _useState = (0, _react.useState)((0, _immutable.List)()),\n    _useState2 = _slicedToArray(_useState, 2),\n    val = _useState2[0],\n    setVal = _useState2[1];\n  var itemRef = (0, _react.useRef)();\n  (0, _react.useEffect)(function () {\n    var value = activeSortItem && (items.filter(function (item) {\n      return item.get('fieldName') === activeSortItem.fieldName;\n    }) || (0, _immutable.List)());\n    setVal(value);\n  }, [activeSortItem]);\n  var newItems = (0, _react.useMemo)(function () {\n    var newSortItemArr = (0, _immutable.List)();\n    items && items.forEach(function (item, index) {\n      var itemAsc = (0, _immutable.Map)();\n      var itemDesc = (0, _immutable.Map)();\n      itemAsc = item.set('order', _serverproperties.FILTER_SORT_ASC);\n      itemDesc = item.set('order', _serverproperties.FILTER_SORT_DESC);\n      newSortItemArr = newSortItemArr.push(itemAsc);\n      newSortItemArr = newSortItemArr.push(itemDesc);\n    });\n    return newSortItemArr;\n  }, [items]);\n  var setPanelData = function setPanelData() {\n    var panelData = {\n      fieldName: fieldName,\n      isMulti: false,\n      type: type,\n      items: newItems,\n      activeSortItem: activeSortItem,\n      locale: locale\n    };\n    return panelData;\n  };\n  var handleClick = (0, _react.useCallback)(function (e) {\n    var _itemRef$current3, _itemRef$current4;\n    e.stopPropagation();\n    ((_itemRef$current3 = itemRef.current) === null || _itemRef$current3 === void 0 ? void 0 : _itemRef$current3.scrollIntoView) && ((_itemRef$current4 = itemRef.current) === null || _itemRef$current4 === void 0 ? void 0 : _itemRef$current4.scrollIntoView({\n      behavior: 'smooth'\n    }));\n    var option = !isActive ? setPanelData() : {};\n    handleItemClick && handleItemClick(!isActive, fieldName, type, option);\n  }, [isActive, handleItemClick, fieldName, type, setPanelData]);\n  var sievebox = (0, _classnames8[\"default\"])(_defineProperty({}, _Filter[\"default\"].sievebox, true));\n  var textcn = (0, _classnames8[\"default\"])(_defineProperty(_defineProperty({}, _Filter[\"default\"].text, true), _Filter[\"default\"].active, isActive || val.size > 0 && val.get('0') !== ''));\n  var icon = (0, _classnames8[\"default\"])(_defineProperty(_defineProperty(_defineProperty(_defineProperty({}, _Filter[\"default\"].icon, true), _Filter[\"default\"].active, isActive || val.size > 0 && val.get('0') !== ''), 'kdfont kdfont-guolvxia', !isActive), 'kdfont kdfont-guolvshang', isActive));\n  var getText = (0, _react.useCallback)(function () {\n    var fieldName = fieldCaption && fieldCaption.get(locale);\n    var text = /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n      className: textcn\n    }, fieldName);\n    var len = val.size;\n    if (len === 1) {\n      var name = fieldName;\n      items && items.forEach(function (info) {\n        if (_immutable.Map.isMap(info)) {\n          var activeFieldName = activeSortItem.fieldName;\n          var order = activeSortItem.option;\n          if (activeFieldName === info.get('fieldName')) {\n            var caption = info.get('fieldCaption') || (0, _immutable.Map)();\n            var content = order === 'ASC' ? (0, _intlApi.getLangMsg)({\n              key: 'FilterSortAsc.key0001',\n              variables: {\n                title: caption.get(locale)\n              }\n            }) : (0, _intlApi.getLangMsg)({\n              key: 'FilterSortAsc.key0002',\n              variables: {\n                title: caption.get(locale)\n              }\n            });\n            name = activeFieldName === '' ? fieldName : content || fieldName;\n          }\n        } else if ((0, _lodash.isString)(info)) {\n          name = info || fieldName;\n        }\n      });\n      text = /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n        className: textcn\n      }, name);\n    }\n    return text;\n  }, [fieldCaption, type, items, locale, textcn]);\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: sievebox,\n    onClick: handleClick,\n    ref: itemRef\n  }, getText(), /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n    className: icon\n  }));\n}\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/base/SortItem.jsx?");

/***/ }),

/***/ "./src/use/useControlBusyTips.js":
/*!***************************************!*\
  !*** ./src/use/useControlBusyTips.js ***!
  \***************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\nvar _react = __webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\");\nvar _global = __webpack_require__(/*! @/global */ \"./src/global/index.js\");\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nvar _memoryCacher = __webpack_require__(/*! @/model/memoryCacher */ \"./src/model/memoryCacher.js\");\nvar _appModelFunction = __webpack_require__(/*! @/model/appModelFunction.js */ \"./src/model/appModelFunction.js\");\nvar _toolUtils = __webpack_require__(/*! @/util/toolUtils */ \"./src/util/toolUtils.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); } /**\n * hooks函数使用，设置控件忙时提醒\n */\n/**\n * @param {Object} param0 model\n * @param {Object} busyTipObj （可选参数）设置忙时的提示文本和限定请求名称\n */\nvar useControlBusyTips = function useControlBusyTips(_ref) {\n  var pageId = _ref.pageId,\n    key = _ref.key;\n  var busyTipObj = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  (0, _react.useEffect)(function () {\n    var state = (0, _global.getGlobalState)();\n    var userLocale = (0, _appModelFunction.getUserLocale)(pageId)(state);\n    var text = (0, _toolUtils.isMobileClient)() ? (0, _intlApi.getLangMsg)('pageLoading.key0002') : (0, _intlApi.getLangMsg)('BusyLayer.loading');\n    var defaultTips = _defineProperty(_defineProperty({}, userLocale, text), \"supportMethod\", []);\n    var newBusyTipObj = Object.assign(defaultTips, busyTipObj);\n    (0, _memoryCacher.setControlBusyTip)(pageId, key, newBusyTipObj);\n  }, []);\n};\nvar _default = exports[\"default\"] = useControlBusyTips;\n\n//# sourceURL=webpack://bos-platform/./src/use/useControlBusyTips.js?");

/***/ }),

/***/ "./src/use/useHashChange.js":
/*!**********************************!*\
  !*** ./src/use/useHashChange.js ***!
  \**********************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = useHashChange;\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.string.ends-with.js */ \"../../node_modules/core-js/modules/es.string.ends-with.js\");\nvar _react = __webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\");\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; } /**\n * 监听url哈希变化，用于控件判断是否处于激活页（class版：withLocationChange）\n */\nfunction useHashChange(_ref) {\n  var pageId = _ref.pageId;\n  var _useState = (0, _react.useState)(window.location.href.endsWith(pageId)),\n    _useState2 = _slicedToArray(_useState, 2),\n    isActivePage = _useState2[0],\n    setActivePageStatus = _useState2[1];\n  (0, _react.useEffect)(function () {\n    var handleHashChange = function handleHashChange() {\n      var _isActivePage = window.location.href.endsWith(pageId);\n      setActivePageStatus(_isActivePage);\n    };\n    window.addEventListener('hashchange', handleHashChange);\n    return function () {\n      window.removeEventListener('hashchange', handleHashChange);\n    };\n  }, []);\n  return {\n    isActivePage: isActivePage\n  };\n}\n\n//# sourceURL=webpack://bos-platform/./src/use/useHashChange.js?");

/***/ }),

/***/ "./src/util/clickOutsideUtil.js":
/*!**************************************!*\
  !*** ./src/util/clickOutsideUtil.js ***!
  \**************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.every.js */ \"../../node_modules/core-js/modules/es.array.every.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n/**\n* @Description 判断点击的元素是否为外部元素，可用于选择器下拉点击关闭等场景\n* @authors he_ying_jin (he_ying_jin@kingdee.com)\n* @param {element[array] | element} target 目标元素，可以是数组\n* @param {function} callback 事件触发后回调\n* @param {object} type 监听事件类型 默认为click\n* @returns 返回判断结果，isClickOutside为true表示此次事件在元素外部触发，并调用外部回调\n*/\nvar clickOutside = function clickOutside(target, callback) {\n  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n    _ref$type = _ref.type,\n    type = _ref$type === void 0 ? 'click' : _ref$type;\n  var onClick = function onClick(event) {\n    var targets = Array.isArray(target) ? target : [target];\n    var isClickOutside = targets.every(function (item) {\n      return item && !item.contains(event.target);\n    });\n    if (isClickOutside) {\n      callback(isClickOutside);\n    }\n  };\n  // 使用捕获阶段进行监听，防止被阻止冒泡\n  document.addEventListener(type, onClick, true);\n  return function () {\n    document.removeEventListener(type, onClick, true);\n  };\n};\nvar _default = exports[\"default\"] = clickOutside;\n\n//# sourceURL=webpack://bos-platform/./src/util/clickOutsideUtil.js?");

/***/ }),

/***/ "./src/component/mobile/KDUserList.less":
/*!**********************************************!*\
  !*** ./src/component/mobile/KDUserList.less ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"user-list-root\":\"KDUserList_user-list-root_2GuA\"});\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/KDUserList.less?");

/***/ }),

/***/ "./src/component/mobile/base/AdvFilter/AdvFilterContent.less":
/*!*******************************************************************!*\
  !*** ./src/component/mobile/base/AdvFilter/AdvFilterContent.less ***!
  \*******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"advFilter-Horizontal\":\"AdvFilterContent_advFilter-Horizontal_3BjV\"});\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/base/AdvFilter/AdvFilterContent.less?");

/***/ }),

/***/ "./src/component/mobile/base/AdvFilter/AdvFilterListVertical.less":
/*!************************************************************************!*\
  !*** ./src/component/mobile/base/AdvFilter/AdvFilterListVertical.less ***!
  \************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"advFilter-Vertical\":\"AdvFilterListVertical_advFilter-Vertical_tFki\",\"advFilterBox-bottom\":\"AdvFilterListVertical_advFilterBox-bottom_2liC\",\"showAnimationY\":\"AdvFilterListVertical_showAnimationY_19dm\",\"advFilter-mask\":\"AdvFilterListVertical_advFilter-mask_3W3Q\"});\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/base/AdvFilter/AdvFilterListVertical.less?");

/***/ }),

/***/ "./src/component/mobile/base/Filter.less":
/*!***********************************************!*\
  !*** ./src/component/mobile/base/Filter.less ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"filterbox\":\"Filter_filterbox_1Ul2\",\"filterboxpadding\":\"Filter_filterboxpadding_2gxL\",\"sievebox\":\"Filter_sievebox_2Rig\",\"text\":\"Filter_text_3C3h\",\"icon\":\"Filter_icon_2JQc\",\"iconbox\":\"Filter_iconbox_1lvE\",\"icons\":\"Filter_icons_2BDc\",\"sorticon\":\"Filter_sorticon_2IZI\",\"valnamebox\":\"Filter_valnamebox_kRLj\",\"valname\":\"Filter_valname_3kXd\",\"valnum\":\"Filter_valnum_26R4\",\"daterangevalbox\":\"Filter_daterangevalbox_1lJw\",\"dateval\":\"Filter_dateval_3GUv\",\"active\":\"Filter_active_2C1H\",\"advfilterbutton\":\"Filter_advfilterbutton_3rL2\",\"buttonbox\":\"Filter_buttonbox_1VjC\",\"advtext\":\"Filter_advtext_3pNZ\",\"advicon\":\"Filter_advicon_wkKH\",\"hasAdvVal\":\"Filter_hasAdvVal_39EJ\",\"filterScrollArea\":\"Filter_filterScrollArea_2GHG\",\"rightShadow\":\"Filter_rightShadow_Wz2o\",\"fixedToRight\":\"Filter_fixedToRight_3q9Y\"});\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/base/Filter.less?");

/***/ }),

/***/ "./src/component/mobile/base/FilterModule.less":
/*!*****************************************************!*\
  !*** ./src/component/mobile/base/FilterModule.less ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"optionbox\":\"FilterModule_optionbox_KX2r\",\"options\":\"FilterModule_options_RABx\",\"optionItem\":\"FilterModule_optionItem_1X8C\",\"selector\":\"FilterModule_selector_PGUn\",\"default-jin-ru\":\"FilterModule_default-jin-ru_2ECq\",\"selectedIcon\":\"FilterModule_selectedIcon_2eh3\",\"optionname\":\"FilterModule_optionname_jOI4\",\"option-abstract-text\":\"FilterModule_option-abstract-text_2FHM\",\"option-abstract-noValue-text\":\"FilterModule_option-abstract-noValue-text_2Z2m\",\"buttons\":\"FilterModule_buttons_1Hio\",\"button\":\"FilterModule_button_gDVW\",\"reset\":\"FilterModule_reset_3k-L\",\"confirm\":\"FilterModule_confirm_26Pr\",\"disabledbut\":\"FilterModule_disabledbut_1KwK\",\"binbut\":\"FilterModule_binbut_1cd4\",\"shade\":\"FilterModule_shade_37AT\",\"dateselectionpanel\":\"FilterModule_dateselectionpanel_pIrg\",\"dateoptions\":\"FilterModule_dateoptions_ZhVx\",\"datebox\":\"FilterModule_datebox_79mJ\",\"optiondateitem\":\"FilterModule_optiondateitem_1LF-\",\"datetimename\":\"FilterModule_datetimename_VAdj\",\"activedatename\":\"FilterModule_activedatename_tYe8\",\"itemplaceholder\":\"FilterModule_itemplaceholder_hR35\",\"activeoptiondate\":\"FilterModule_activeoptiondate_1PNT\",\"datetitle\":\"FilterModule_datetitle_2RfT\",\"othertimebox\":\"FilterModule_othertimebox_20Pd\",\"othertitle\":\"FilterModule_othertitle_kI5P\",\"daterangbut\":\"FilterModule_daterangbut_33p9\",\"active\":\"FilterModule_active_20OQ\",\"datepickbox\":\"FilterModule_datepickbox_2SQ6\",\"pickpanel\":\"FilterModule_pickpanel_3fT7\",\"titlebar\":\"FilterModule_titlebar_1pW9\",\"cancel\":\"FilterModule_cancel_1jk-\",\"title\":\"FilterModule_title_4ZN5\",\"advfilterbox\":\"FilterModule_advfilterbox_M6bz\",\"mymove\":\"FilterModule_mymove_3pv8\",\"advfiltermask\":\"FilterModule_advfiltermask_2url\",\"advfilterHeader\":\"FilterModule_advfilterHeader_i3Yh\",\"advfilterHeadline\":\"FilterModule_advfilterHeadline_1RRb\",\"advfilterCheckbox\":\"FilterModule_advfilterCheckbox_2u3T\",\"checkboxContainer\":\"FilterModule_checkboxContainer_14Xe\",\"unchecked\":\"FilterModule_unchecked_3xLN\",\"advfiltercontent\":\"FilterModule_advfiltercontent_2-NU\",\"advbox\":\"FilterModule_advbox_3YoD\",\"buttonbox\":\"FilterModule_buttonbox_3nr7\",\"buttonset\":\"FilterModule_buttonset_2ErT\",\"buttonitem\":\"FilterModule_buttonitem_29gE\",\"normalBlank\":\"FilterModule_normalBlank_2JnS\",\"selectcontent\":\"FilterModule_selectcontent_3u1o\",\"selectbox\":\"FilterModule_selectbox_36-u\",\"selecttext\":\"FilterModule_selecttext_19vm\",\"seleabstract\":\"FilterModule_seleabstract_8u7i\",\"foldcontent\":\"FilterModule_foldcontent_T03G\",\"namebox\":\"FilterModule_namebox_2fTH\",\"itemsbox\":\"FilterModule_itemsbox_3rv-\",\"commonitem\":\"FilterModule_commonitem_1qSi\",\"itemtitle\":\"FilterModule_itemtitle_2J90\",\"commonitemsingle\":\"FilterModule_commonitemsingle_26jb\",\"itemtitlesingle\":\"FilterModule_itemtitlesingle_1pOx\",\"commonitemmulline\":\"FilterModule_commonitemmulline_Wzos\",\"itemtitlemulline\":\"FilterModule_itemtitlemulline_gc-q\",\"commonitemselected\":\"FilterModule_commonitemselected_26ns\",\"itemtitleselected\":\"FilterModule_itemtitleselected_38jZ\",\"itemplaceholdermulline\":\"FilterModule_itemplaceholdermulline_3HCC\",\"itemboxnone\":\"FilterModule_itemboxnone_3Am7\",\"icon\":\"FilterModule_icon_1V6u\",\"selectname\":\"FilterModule_selectname_3IHG\",\"abstract\":\"FilterModule_abstract_3JJ6\",\"advoptionbox\":\"FilterModule_advoptionbox_1tZG\",\"advdatepanel\":\"FilterModule_advdatepanel_1DXV\",\"panelheader\":\"FilterModule_panelheader_7Juw\",\"panelname\":\"FilterModule_panelname_1kIa\",\"closeicon\":\"FilterModule_closeicon_2Zm7\",\"searchBar\":\"FilterModule_searchBar_2rD4\",\"searchInput\":\"FilterModule_searchInput_2O9y\",\"searchIcon\":\"FilterModule_searchIcon_2qIV\",\"searchForm\":\"FilterModule_searchForm_1dyJ\",\"input\":\"FilterModule_input_1qHB\",\"clearIcon\":\"FilterModule_clearIcon_1bAM\",\"cancelBtn\":\"FilterModule_cancelBtn_wThj\",\"advfilterpanel\":\"FilterModule_advfilterpanel_2OaG\",\"advFieldList\":\"FilterModule_advFieldList_vQOT\",\"advFilterListTitle\":\"FilterModule_advFilterListTitle_21ld\",\"nodata\":\"FilterModule_nodata_3psg\",\"advFilterContainer\":\"FilterModule_advFilterContainer_2Wl1\",\"advFieldItem\":\"FilterModule_advFieldItem_1djV\",\"operationBtn\":\"FilterModule_operationBtn_dwZp\",\"operaddBtn\":\"FilterModule_operaddBtn_lacV\",\"operdelBtn\":\"FilterModule_operdelBtn_sunA\",\"dragIcon\":\"FilterModule_dragIcon_TuZ7\",\"advNormalFieldItem\":\"FilterModule_advNormalFieldItem_1M8_\",\"btnContainer\":\"FilterModule_btnContainer_1Yne\",\"confrim\":\"FilterModule_confrim_3yjD\"});\n\n//# sourceURL=webpack://bos-platform/./src/component/mobile/base/FilterModule.less?");

/***/ }),

/***/ "../../node_modules/react-tiny-virtual-list/build/react-tiny-virtual-list.es.js":
/*!***********************************************************************************************************************!*\
  !*** delegated ../../node_modules/react-tiny-virtual-list/build/react-tiny-virtual-list.es.js from dll-reference lib ***!
  \***********************************************************************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("module.exports = (__webpack_require__(/*! dll-reference lib */ \"dll-reference lib\"))(283);\n\n//# sourceURL=webpack://bos-platform/delegated_../../node_modules/react-tiny-virtual-list/build/react-tiny-virtual-list.es.js_from_dll-reference_lib?");

/***/ }),

/***/ "../../node_modules/xss-filters/src/xss-filters.js":
/*!******************************************************************************************!*\
  !*** delegated ../../node_modules/xss-filters/src/xss-filters.js from dll-reference lib ***!
  \******************************************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("module.exports = (__webpack_require__(/*! dll-reference lib */ \"dll-reference lib\"))(8375);\n\n//# sourceURL=webpack://bos-platform/delegated_../../node_modules/xss-filters/src/xss-filters.js_from_dll-reference_lib?");

/***/ })

}]);