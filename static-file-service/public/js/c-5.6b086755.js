(self["webpackJsonp_bos-platform"]=self["webpackJsonp_bos-platform"]||[]).push([[7064,9860],{223204:function(e,t,r){"use strict";r.r(t),t.default={arrowRoot:"_1P5SCSxW",pre:"_2WCaYdKy",next:"JW-s0F7L",hide:"IhJVnR4W",disable:"_1PNiQinM",scroll:"KdavyKwZ",content:"_22l5gEDX",arrow:"_2VDTaOy7",select:"_3JnGewc5",center:"KRMD41wJ",icon:"_1UjKwgZO",title:"_2aq_zwvU",first:"_2k-6v7aT",end:"_2PVgEGJI",noFirst:"_3ajJ1ZB6",top:"_3VrLyAwX",bottom:"_13VPLxhW",noEnd:"_3B4sDlMA",generalWizard:"_2l558OUm"}},967012:function(e,t,r){"use strict";r(606200),Object.defineProperty(t,"__esModule",{value:!0}),t.SELECT_STEP=void 0;t.SELECT_STEP="selectStep"},649772:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(743924),r(606200),r(534440),r(387912),r(78504),r(776512),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.setCurrentStep=function(e,t){return o.doDispath(e,(function(r){var n=r.dispatch,i=r.post,u=void 0===i?[]:i;o.invokeControlService(e,a.SELECT_STEP,[t],u,n)}))};var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var s=a?Object.getOwnPropertyDescriptor(e,u):null;s&&(s.get||s.set)?Object.defineProperty(o,u,s):o[u]=e[u]}return o.default=e,r&&r.set(e,o),o}(r(251536)),a=r(967012);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}},901992:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(743924),r(606200),r(534440),r(387912),r(78504),r(776512),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.sendDate=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(r,n){var l=e.pageId,c=(0,i.getPost)(l)(n()),f=e.key,p=(0,s.makeAjaxKey)(e.pageId,f,"sendDate");u.disableDisposeAction(p),o.invokeControlService(e,a.WORKCALENDARAP_SEND_DATE,t,c,r),u.allowDisposeAction(p)}},t.setDateType=function(e,t){return function(r,n){var l=e.pageId,c=e.key,f=(0,i.getPost)(l)(n()),p=(0,s.makeAjaxKey)(e.pageId,c,"setDateType");u.disableDisposeAction(p),o.invokeControlService(e,a.WORKCALENDARAP_SET_DATETYPE,t,f,r),u.allowDisposeAction(p)}};var o=c(r(251536)),a=r(402032),i=(r(891052),r(218652)),u=c(r(600192)),s=r(497168);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=a?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(o,i,u):o[i]=e[i]}return o.default=e,r&&r.set(e,o),o}},475676:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(360776),r(743924),r(205960),r(297336),r(846428),r(708896),r(606200),r(670864),r(880920),r(387912),r(836887),r(78504),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(835164),r(336368),r(571176),r(633768);var o,a,i=d(r(795520)),u=r(439532),s=r(98296),l=d(r(348896)),c=r(389120),f=d(r(385384)),p=d(r(149236));function d(e){return e&&e.__esModule?e:{default:e}}function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y.apply(this,arguments)}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m(n.key),n)}}function m(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:String(t)}function h(e,t,r){return t=g(t),function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,v()?Reflect.construct(t,r||[],g(e).constructor):t.apply(e,r))}function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(v=function(){return!!e})()}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function S(e,t){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},S(e,t)}var w=(o=(0,l.default)(!1),(0,f.default)(a=o(a=(0,p.default)(a=function(e){function t(e){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=h(this,t,[e])).onHandleClick=function(e){r.props.dispatch((0,c.click)(r.props.model,[e]))};var n=r.props.model.getFormConfig();return r._fileServer=n.fileserver,r}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S(e,t)}(t,e),r=t,(n=[{key:"getItems",value:function(){var e=this,t=this.props.model,r=(0,u.getComponentDataProperty)(t,"value","carouselpicture",!1),n=(0,u.getComponentDataProperty)(t,"defaultImage","defaultImage",!1),o={display:"block",width:"100%",height:"100%",borderRadius:(0,u.getCommonStyle)(t).borderRadius};return r&&r.size?r.map((function(t,r){return/^http(s)*/.test(t)||(t=(0,u.getImgFullPath)(e._fileServer,t,!0)),i.default.createElement("img",{key:r,style:o,"data-image-src":t,alt:"preview"})})).toJS():n&&n.size?(r=n).map((function(e,t){var r=(0,u.getImgFullPath)("",e.get("url"),!1,!1);return i.default.createElement("img",{key:t,style:o,"data-image-src":r,alt:e.get("name")})})).toJS():void 0}},{key:"render",value:function(){var e=this.props.model,t=(0,u.getCommonStyle)(e),r=Object.assign({},t),n=t.height;delete r.height;var o=(0,u.getCommonClass)(e),a=o.Grow,l=o.Shrink,c=o.AlignSelf,f=(0,u.getComponentDataProperty)(e,"duration","duration",!1),p=(0,u.getComponentDataProperty)(e,"carouseldp","carouseldp",!1),d=(0,u.getComponentDataProperty)(e,"carouselsb","carouselsb",!1),b=(0,u.getComponentDataProperty)(e,"carouselsoh","carouselsoh",!1);return i.default.createElement(s.Carousel,y({dotPosition:p,showArrow:d,hoverStop:b,slideSpeed:window.parseInt(f),style:r,height:n,itemClick:this.onHandleClick,Grow:a,Shrink:l,AlignSelf:c},this.props.attachData),this.getItems())}}])&&b(r.prototype,n),o&&b(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(i.default.Component))||a)||a)||a);t.default=w},51112:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(360776),r(743924),r(205960),r(846428),r(708896),r(606200),r(670864),r(880920),r(836887),r(78504),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(233696),r(297336),r(336368),r(387912),r(997308);var o,a,i=y(r(795520)),u=y(r(700968)),s=r(439532),l=y(r(348896)),c=y(r(385384)),f=r(891052),p=r(218652),d=y(r(149236));function y(e){return e&&e.__esModule?e:{default:e}}function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b.apply(this,arguments)}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h(n.key),n)}}function h(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:String(t)}function v(e,t,r){return t=S(t),function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,g()?Reflect.construct(t,r||[],S(e).constructor):t.apply(e,r))}function g(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(g=function(){return!!e})()}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}function w(e,t){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},w(e,t)}var O=(o=(0,l.default)(!0),(0,c.default)(a=o(a=(0,d.default)(a=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=v(this,t,[e])).state={selected:(0,s.getComponentDataProperty)(e.model,"selected","selected",!1)||(0,f.List)()},r}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}(t,e),r=t,n=[{key:"componentWillReceiveProps",value:function(e){var t=(0,s.getComponentDataProperty)(this.props.model,"selected","selected",!1),r=(0,s.getComponentDataProperty)(e.model,"selected","selected",!1);r&&!(0,f.is)(r,t)&&this.setState({selected:r})}},{key:"onSelectChanged",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,f.List)(),t=this.props.model,r=t.pageId,n=t.key,o=(0,f.List)();e.forEach((function(e){o=o.push(e.get("id"))})),this.setState({selected:o}),this.props.dispatch((0,p.convertAppModelFunctionAction)((0,p.setControlPostValue)(r,n,{selected:e.toJS()})))}},{key:"render",value:function(){var e=this.props.model,t=Object.assign({},(0,s.getCommonStyle)(e),this.props.style),r=(0,s.getCommonClass)(e),n=(0,s.getComponentDataProperty)(e,"titles","titles",!1),o=(0,s.getComponentDataProperty)(e,"data","data",!1),a=(0,s.getComponentDataProperty)(e,"size","size",!1),l=(0,s.getComponentDataProperty)(e,"showModel","showModel",!1);return i.default.createElement(u.default,b({id:e.key,style:t,dataSource:o,selected:this.state.selected,titles:n,listStyle:a},r,this.props.attachData,{onSelectChanged:this.onSelectChanged.bind(this),showModel:l,userLocal:e.getUserLocale()}))}}],n&&m(r.prototype,n),o&&m(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(i.default.Component))||a)||a)||a);t.default=O},25536:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(360776),r(505684),r(323784),r(743924),r(693917),r(205960),r(976896),r(721300),r(846428),r(708896),r(606200),r(534440),r(670864),r(880920),r(836887),r(633768),r(690512),r(78504),r(776512),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(9692),r(622676),r(233696),r(443616),r(835164),r(297336),r(336368),r(387912),r(997308);var o,a,i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=n(e)&&"function"!=typeof e)return{default:e};var r=j(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=a?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(o,i,u):o[i]=e[i]}return o.default=e,r&&r.set(e,o),o}(r(795520)),u=r(891052),s=_(r(671252)),l=r(199860),c=r(211152),f=r(424108),p=r(439532),d=_(r(348896)),y=r(218652),b=_(r(385384)),m=r(301792),h=r(649772),v=r(738704),g=_(r(329132)),S=r(306484),w=r(796512),O=_(r(149236)),k=_(r(139224)),P=_(r(959616)),C=_(r(223204));function _(e){return e&&e.__esModule?e:{default:e}}function j(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(j=function(e){return e?r:t})(e)}function E(e,t,r){return(t=z(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,u=[],s=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=a.call(r)).done)&&(u.push(n.value),u.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return u}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T.apply(this,arguments)}function I(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,z(n.key),n)}}function z(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:String(t)}function W(e,t,r){return t=A(t),function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return N(e)}(e,L()?Reflect.construct(t,r||[],A(e).constructor):t.apply(e,r))}function L(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(L=function(){return!!e})()}function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},A(e)}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e,t){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},R(e,t)}var x=(o=(0,d.default)(!0),(0,b.default)(a=o(a=(0,O.default)(a=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=W(this,t,[e])).handleTabWizardClick=r.handleTabWizardClick.bind(N(r)),r.stepsCurrentChange=r.stepsCurrentChange.bind(N(r)),r.state={wizardType:e.model.getMetaProperty("wizardType")||"tab",currentStepInfo:(0,u.Map)({currentStep:0,currentStatus:"process"}),stepsOptions:e.model.getMetaProperty("stepsOptions")},r}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R(e,t)}(t,e),r=t,(n=[{key:"componentDidMount",value:function(){"normal"===this.state.wizardType&&this.stepsWizardSubscribeControlMethod()}},{key:"componentWillReceiveProps",value:function(e){var t=e.model.getMetaProperty("wizardType")||"tab",r=this.state.wizardType;"normal"===t&&t!==r&&this.stepsWizardSubscribeControlMethod(),t!==r&&this.setState({wizardType:t})}},{key:"componentWillUnmount",value:function(){this.removeSubscribeControlMethod&&this.removeSubscribeControlMethod()}},{key:"stepsWizardSubscribeControlMethod",value:function(){var e=this,t=this.props.model,r=t.pageId,n=t.key;this.removeSubscribeControlMethod&&this.removeSubscribeControlMethod(),this.removeSubscribeControlMethod=(0,v.subscribeControlMethod)(r,n,"directives",(function(t){void 0!==t&&e.doStepsWizardEvents(t)}))}},{key:"doStepsWizardEvents",value:function(e){var t=this;e.forEach((function(e){var r=e.methodname,n=e.args;switch(r){case S.SET_WIZARD_CURRENT_STEP:n[0]&&t.handleSetCurrentStep((0,u.Map)(n[0]));break;case S.SET_WIZARD_STEP_OPTIONS:n[0]&&n[0]instanceof Array&&t.handleSetStepsOption((0,u.fromJS)(n[0]))}}))}},{key:"handleSetCurrentStep",value:function(e){var t=this.state.stepsOptions;if(1!==this.props.model.getDataProperty("visualStyle")){var r=e.get("currentStep"),n=e.get("currentStatus"),o=this.props.model.getMetaProperty("stepLength")||4,a=t&&t.size>0?t:(0,u.List)().setSize(o),i=a.size;"number"!=typeof r||r<0?e=e.set("currentStep",0):r>i&&(e=(e=e.set("currentStep",i-1)).set("currentStatus",a.getIn([i-1,"status"]))),["process","wait","finish","error"].includes(n)||(e=e.set("currentStatus","process"));var s=e.get("currentStep");t&&(t=t.map((function(e,t){return t<s&&!["finish","error"].includes(e.get("status")||"")?e.set("status","finish"):t>s&&!["wait"].includes(e.get("status")||"")?e.set("status","wait"):e}))),this.setState({currentStepInfo:e,stepsOptions:t})}else this.setState({currentStepInfo:e,stepsOptions:t})}},{key:"handleSetStepsOption",value:function(e){var t=this.state,r=t.currentStepInfo,n=t.stepsOptions;if(1!==this.props.model.getDataProperty("visualStyle")){r.get("currentStep")>=e.size&&(r=(r=r.set("currentStep",e.size-1)).set("currentStatus",e.getIn([e-1,"status"])));var o=r.get("currentStep"),a=(e=e.map((function(e,t){return t<o&&!["finish","error"].includes(e.get("status"))?e.set("status",n&&n.getIn([t,"status"])||"finish"):t>o&&"wait"!==e.get("status")?e.set("status","wait"):t!==o||["process","wait","finish","error"].includes(e.get("status"))?e:e.set("status",n&&n.getIn([t,"status"])||"process")}))).getIn([o,"status"]);a&&(r=r.set("currentStatus",a)),this.setState({currentStepInfo:r,stepsOptions:e})}else this.setState({currentStepInfo:r,stepsOptions:e})}},{key:"handleTabWizardClick",value:function(e,t){var r=this.props,n=r.model,o=r.dispatch;if(!this._getLock(n)){var a=n.pageId,i=n.getMetaProperty("tabid");o((0,m.setCurrentTab)({pageId:a,key:i},t))}}},{key:"_getLock",value:function(){var e=this.props,t=e.model;return(0,e.getLocked)(t)}},{key:"getLabWizardItems",value:function(){var e=this.props.model,t=e.pageId,r=(0,c.getGlobalState)(),n=e.getMetaProperty("tabid"),o=(0,p.getComponentDataProperty)(e,"NodeLinkageSubTab","NodeLinkageSubTab",!1),a=new u.List;if(n){var i=r.getIn(["forms",t,"data",n,"currentTab"],0),s=(0,p.getMetaFromStateById)(n,t,(0,c.getGlobalState)());if(s){var l=s.get("items");a=l.map((function(o,a){var s=!1,l=o.get("id"),c=new P.default(e.pageId,o,r),f=(0,p.getVisible)(c,l);(0==i&&0==a||i==l)&&(s=!0);var d=c.getMetaLocaleProperty("text");return(0,u.Map)({tabId:n,key:l,pageId:t,title:d,isActive:s,visible:f})})).filter((function(e){return!o||e.get("visible")}));var f=r.getIn(["forms",t,"data",n,"subForms"]);if(f){var d=f.map((function(e,t){var o=(0,y.getFormCaption)(e)(r),s=!1;return(0==i&&0==a.size&&0==t||i==e)&&(s=!0),(0,u.Map)({tabId:n,key:e,pageId:e,title:o,isActive:s,canDelete:!0})}));a=a.concat(d)}}-1==i&&(a=a.updateIn([a.size-1,"isActive"],(function(e){return!0})))}return a=a.toJS()}},{key:"getLabWizard",value:function(){var e=this.props,t=e.model,r=e.style,n=(0,p.getCommonStyle)(t),o=t.getMetaProperty("wizardStyle"),a=this._getLock(t),u=t.getMetaProperty("tDir");return i.default.createElement(f.Wizard,T({disabled:a,tDir:u,onItemClick:this.handleTabWizardClick,items:this.getLabWizardItems(),style:Object.assign(n,r),wizardStyle:o},this.props.attachData))}},{key:"getStatusIcon",value:function(){var e=this.props.model.getMetaProperty("statusIcon")||new u.Map,t={finish:i.default.createElement("i",{className:"kdfont kdfont-gouxuan",style:{fontSize:12}}),error:i.default.createElement("span",null,"!")};return e&&e.forEach&&e.forEach((function(e,r){e&&(t[r]=i.default.createElement("i",{className:e,style:{fontSize:12}}))})),t}},{key:"getStepsWizard",value:function(){var e=this.props,t=e.model,r=e.style,n=e.attachData,o=this.state,a=o.stepsOptions,s=o.currentStepInfo,c=(0,p.getCommonStyle)(t),f=(0,p.getCommonClass)(t),d=f.Grow,y=f.Shrink,b=t.getMetaProperty("stepLength")||4,m=a&&a.size>0?a:(0,u.List)().setSize(b),h=this.getStatusIcon(),v=0===t.getMetaProperty("wizardStyle"),S=v?{minWidth:110*m.size}:{minHeight:110*m.size},O=s.get("currentStep")||0,k=s.get("currentStatus")||"process",P=t.getUserLocale();return i.default.createElement("div",T({"data-page-id":null==n?void 0:n["data-page-id"],className:(0,g.default)({Grow:d,Shrink:y}),style:Object.assign({},c,r)},n),i.default.createElement(l.Steps,{canClickCurrentStep:!0,style:S,current:O,status:k,icons:h,onChange:this.stepsCurrentChange,direction:v?"horizontal":"vertical"},m.map((function(e,t){var r=t===O?k:e&&e.get("status")||void 0,n=e&&(0,w.getValueOfLanguage)(e.get("title"),P)||"",o=e&&(0,w.getValueOfLanguage)(e.get("description"),P)||"";return i.default.createElement(l.Step,{key:t,status:r,icons:h,title:n,description:o})})).toJS()))}},{key:"stepsCurrentChange",value:function(e){var t=this.props,r=t.model,n=t.dispatch;this._getLock(r)||n((0,h.setCurrentStep)(r,e))}},{key:"render",value:function(){var e=this.props,t=e.model,r=e.style,n=t.getMetaProperty("wizardType")||"tab",o=t.getDataProperty("visualStyle");return"tab"===n?this.getLabWizard():1===o?i.default.createElement(J,{model:t,style:r,stepsOptions:this.state.stepsOptions,currentStepInfo:this.state.currentStepInfo,dispatch:this.props.dispatch,attachData:this.props.attachData}):this.getStepsWizard()}}])&&I(r.prototype,n),o&&I(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(i.default.Component))||a)||a)||a),F=(t.default=x,256);function J(e){var t,r=e.model,n=e.style,o=e.stepsOptions,a=e.currentStepInfo,l=e.dispatch,c=e.attachData,f=(0,p.getCommonStyle)(r),d=(0,p.getCommonClass)(r),y=d.Grow,b=d.Shrink,m=r.getMetaProperty("stepLength")||4,v=o&&o.size>0?o:(0,u.List)().setSize(m),S=0===r.getMetaProperty("wizardStyle")?{flexDirection:"row"}:{flexDirection:"column"},O=a.get("currentStep")||0,P=a.get("currentStatus")||"process",_=r.getUserLocale(),j=(0,i.useRef)(),M=(0,i.useRef)(),I=(0,i.useRef)(),z=D((0,i.useState)(0),2),W=z[0],L=z[1],A=D((0,i.useState)(0),2),N=A[0],R=A[1],x=D((0,i.useState)(!1),2),J=x[0],B=x[1],V=D((0,i.useState)(!1),2),q=V[0],U=V[1],Y=D((0,i.useState)(!1),2),K=Y[0],Z=Y[1];(0,i.useEffect)((function(){var e=M.current.offsetWidth;0!==e&&(N>=e?(Z(!1),B(!1),U(!1),L(0)):W<0&&Math.abs(W)+N>e?(L(-(e-N)),U(!0),B(!1),Z(!0)):0===W&&e>N?(B(!0),Z(!0)):W<0&&Math.abs(W)+N<e&&(B(!0),U(!0),Z(!0)))}),[N,null==M||null===(t=M.current)||void 0===t?void 0:t.offsetWidth,W]),(0,i.useEffect)((function(){var e=(0,k.default)(I.current,(function(e){e.hide||R(e.width)}));return function(){e&&e.removeResizeObserve()}}),[]);var H=function(e){N&&(e<Math.abs(W)&&L(-e),e+F>Math.abs(W)+N&&L(N-e-F))},X=function(e){l((0,h.setCurrentStep)(r,e))},Q=r.getMetaProperty("statusIcon")||new u.Map,$=(0,s.default)(E(E(E({},C.default.pre,!0),C.default.hide,!K),C.default.disable,!q)),ee=(0,s.default)(E(E(E({},C.default.next,!0),C.default.hide,!K),C.default.disable,!J)),te={transform:"translateX(".concat(W,"px)")};return i.default.createElement("div",T({style:Object.assign(S,f,n),className:(0,s.default)("kd-cq-control kd-cq-steps",C.default.arrowRoot,(0,g.default)({Grow:y,Shrink:b})),ref:j,"data-page-id":"".concat(r.pageId,"_").concat(r.key)},c),i.default.createElement("div",{className:$,onClick:function(){Math.abs(W)>N?(L(W+N),B(!0),U(!0),Z(!0)):(L(0),B(!0),U(!1),Z(!0))}},i.default.createElement("div",{className:"kdfont kdfont-qianfan"})),i.default.createElement("div",{className:C.default.scroll,style:K?{justifyContent:"flex-start"}:{justifyContent:"center"},ref:I},i.default.createElement("div",{className:C.default.content,ref:M,style:te},v.map((function(e,t){var r=t===O?P:e&&e.get("status"),n=e&&(0,w.getValueOfLanguage)(e.get("title"),_)||"";return i.default.createElement(G,{key:t,status:r||"process",icons:Q,title:n,index:t,curIndex:O,isFirst:0===t,isEnd:t===v.size-1,onClick:X,currentStepChange:H})})).toJS())),i.default.createElement("div",{className:ee,onClick:function(){var e=M.current.offsetWidth;e-N-Math.abs(W)>N?(L(W-N),B(!0),U(!0),Z(!0)):(L(-(e-N)),U(!0),B(!1),Z(!0))}},i.default.createElement("div",{className:"kdfont kdfont-houfan"})))}function G(e){var t=e.icons,r=e.title,n=e.curIndex,o=e.index,a=e.status,u=e.isFirst,l=e.isEnd,c=e.onClick,f=e.currentStepChange,p=D((0,i.useState)({width:20}),2),d=p[0],y=p[1],b=(0,i.useRef)(),m={finish:i.default.createElement("i",{className:"kdfont kdfont-fuxuanxuanzhong"})};null==t||t.forEach((function(e,t){e&&(m[t]=i.default.createElement("i",{className:e}))}));var h=(0,s.default)(E(E({},C.default.first,u),C.default.noFirst,!u)),v=(0,s.default)(E(E({},"".concat(C.default.end," kd-cq-steps-end"),l),"".concat(C.default.noEnd," kd-cq-steps-no-end"),!l));(0,i.useEffect)((function(){var e={};switch(a){case"process":default:e={"--color":"#5582f3","--background-color-level1":"#f2f6ff","--background-color-level2":"#e3ebff","--border-color":"#5582f3"};break;case"wait":e={"--color":"#212121","--background-color-level1":"#f5f5f5","--background-color-level2":"#f2f2f2","--border-color":"#212121"};break;case"finish":e={"--color":"#1ba854","--background-color-level1":"#f2fff5","--background-color-level2":"#dcfae4","--border-color":"#1ba854"};break;case"error":e={"--color":"#fb2323","--background-color-level1":"#FFF2F4","--background-color-level2":"#ffdbe0","--border-color":"#fb2323"}}y(Object.assign({},e))}),[a]);var g=(0,s.default)(E(E({},C.default.arrow,!0),C.default.select,o===n));return(0,i.useEffect)((function(){n===o&&f(b.current.offsetLeft)}),[n]),i.default.createElement("div",{className:g,onClick:function(){c&&c(o)},style:d,ref:b},i.default.createElement("div",{className:h},!u&&i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{className:(0,s.default)("kd-cq-steps-arrow-top",C.default.top)}),i.default.createElement("div",{className:(0,s.default)("kd-cq-steps-arrow-bottom",C.default.bottom)}))),i.default.createElement("div",{className:C.default.center},m[a]&&i.default.createElement("div",{className:(0,s.default)(E({},C.default.icon,!0))},m[a]),i.default.createElement("div",{className:(0,s.default)(E({},C.default.title,!0)),title:r},r)),i.default.createElement("div",{className:v},!l&&i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{className:(0,s.default)("kd-cq-steps-arrow-top",C.default.top)}),i.default.createElement("div",{className:(0,s.default)("kd-cq-steps-arrow-bottom",C.default.bottom)}))))}},466312:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r(182320),r(909112),r(697060),r(360776),r(743924),r(205960),r(846428),r(336368),r(708896),r(606200),r(670864),r(880920),r(836887),r(78504),r(977864),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(233696),r(835164),r(297336),r(387912),r(571176),r(997308);var o,a,i,u=v(r(795520)),s=r(891052),l=v(r(747224)),c=v(r(562507)),f=r(439532),p=v(r(924276)),d=v(r(348896)),y=r(901992),b=v(r(385384)),m=r(471e3),h=v(r(149236));function v(e){return e&&e.__esModule?e:{default:e}}function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g.apply(this,arguments)}function S(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,w(n.key),n)}}function w(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:String(t)}function O(e,t,r){return t=P(t),function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return C(e)}(e,k()?Reflect.construct(t,r||[],P(e).constructor):t.apply(e,r))}function k(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(k=function(){return!!e})()}function P(e){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},P(e)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_(e,t)}var j=(o=(0,d.default)(!1),a=(0,l.default)(c.default),(0,b.default)(i=o(i=a(i=(0,h.default)(i=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=O(this,t,[e])).handleDateSelected=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=r.props,n=t.model,o=t.dispatch;e=e.map((function(e){return e.format("YYYY-MM-DD")})),o((0,y.sendDate)(n,[e]))},r.getFirstDayOfWeek=function(e,t){return e>=0&&e<=6?e:t},r.onDateTypeChange=r.onDateTypeChange.bind(C(r)),r.forAutoTestActions={setDateType:y.setDateType,sendDate:y.sendDate},r}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(t,e),r=t,n=[{key:"onDateTypeChange",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=this.props,n=r.model,o=r.dispatch;e=e.map((function(e){return e.format("YYYY-MM-DD")})),o((0,y.setDateType)(n,[e,t]))}},{key:"render",value:function(){var e=this.props.model,t=(0,f.getCommonStyle)(e),r=(0,f.getCommonClass)(e),n=r.Grow,o=r.Shrink,a=e.getDataValue()||(0,s.Map)(),i=a.get("holidayColor"),l=a.get("workDayColor"),c=a.get("halfWorkDayColor"),d=a.get("weekendColor"),y=a.get("lockedDayColor"),b=a.get("isPassDayLocked"),h=a.get("openPanel"),v=a.get("dateList"),S=a.get("effectiveDate"),w=a.get("today"),O=a.get("year"),k=a.get("data",(0,s.List)()),P=this.getFirstDayOfWeek((0,m.getFirstDayOfWeek)(),1),C=[],_=[],j=[],E=[];k.forEach((function(e){var t=e.get("workDate"),r=e.get("dateType");t&&(1===(r=parseInt(r))?_.push(t):2===r?j.push(t):3===r?C.push(t):4===r&&E.push(t))}));var D=e.getUserLocale();return u.default.createElement(p.default,g({Grow:n,Shrink:o,style:t,locale:D,onSelect:this.handleDateSelected,year:O,holidays:C,workdays:_,halfdays:j,weekends:E,holidayColor:i,workdayColor:l,halfworkdayColor:c,weekendColor:d,lockeddayColor:y,isPass:b,onDateTypeChange:this.onDateTypeChange},this.props.attachData,{isOpenPanel:h,selectedDate:v,effectiveDate:S,today:w,firstDayOfWeek:P}))}}],n&&S(r.prototype,n),o&&S(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(u.default.Component))||i)||i)||i)||i);t.default=j},77240:function(e,t,r){e.exports=r(251656)(8375)}}]);