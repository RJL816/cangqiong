"use strict";(self["webpackJsonp_bos-platform"]=self["webpackJsonp_bos-platform"]||[]).push([[3272],{40892:function(e,t,n){n(182320),n(241872),n(606200),n(76124),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(613468),n(443616),n(633768);var r=n(468840),o=n(276056),c=n(493476),a=n(891052),l=n(331428),s=n(646940),i=["isCommon"],m=["isCommon"];function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var d=["fields","selected"],f=["fields","selected"],S=["getData","updateSelected","getFilterParam","onSchemeSelect","onDelSelectedScheme","onQSDelCondition","onQSSelectItem","onCommonSelect","onSelectedConditionDel","f7Click"];t.default=function(e,t){return function(e){var t=e.instance,n=t.model,p=t.selecteForTest,h=t.dataForTest,g=t.updateSelected,C=t.handleDeleteScheme,v=t.handleSelectedChange,y=t.handleSchemSearch,b=t.handleCommonSearch,k=t.handleCommonF7Click,P=function(){var e=p.current,t=h.current,n=(0,s.getFastConditions)(e.get("fast"),(0,s.getFastOptions)(t.get("fast"),e)),r=(0,s.getCommonConditions)(e.get("common"),t.get("common")),o=(0,s.getSchmeSearchConditons)(e.get("scheme")),c=t.getIn(["scheme","entryenties"]),a=(0,s.getSelectedEntryEntity)(e.getIn(["scheme","grids"]),c);return{commonSearchParam:[n,r,a],schemeSearchParm:[n,o,a]}},w={onSchemeSelect:function(e){var t=p.current,n=h.current,r=(0,s.getSelectedScheme)(n,t,e),o=t.set("scheme",r.delete("status"));p.current=o,g(o);var c=P().schemeSearchParm;y(c)},onDelSelectedScheme:function(e){C(e)},onQSDelCondition:function(e){e.isCommon;var t=u(e,i);e.isCommon?b(t):y(t)},onQSSelectItem:function(e){e.isCommon;var t=u(e,m);e.isCommon?b(t):y(t)},onCommonSelect:function(e){b(e)},onSelectedConditionDel:function(e){b(e)},f7Click:function(){k.apply(void 0,arguments)},getFilterParam:P,updateSelected:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,o=t[0],c=t[1],s=t[2],i=p.current,m=i.get(o);if("common"===o){var u=m.findIndex((function(e){return(null==e?void 0:e.get("k"))===c}));if(-1===u)throw new Error((0,l.getLangMsg)({key:"Control.key002"}));r=i.setIn([o,u,"v"],(0,a.fromJS)(s))}"fast"===o&&(r="clear"===c?i.set(o,(0,a.fromJS)([])):i.set(o,(0,a.fromJS)(s))),g(r)},getData:function(){return{selected:p.current.toJS(),data:h.current.toJS()}}};return{get:function(e){var t=new o.ChainCaller;return t.use((function(t){return d.includes(e)?n.getDataProperty("name"):t()})),t.use((0,o.checkSupportNames)({name:e})),t.exec()},set:function(e,t){var r=new o.ChainCaller;return r.use((function(r){if("selected"!==e){if("fields"!==e)return r();(0,c.updateFields)(n,(0,a.fromJS)(t))}else v("selected",t)})),r.use((0,o.checkSupportNames)({name:e})),r.exec()},performControlMethod:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return w[e].apply(w,n)},supportedProppertyNames:(0,r.createSupportedProppertyNames)({supportGetterNames:d,supportSetterNames:f,supportControlMethodNames:S})}}}}}]);