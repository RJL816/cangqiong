/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackJsonp_bos-platform"] = self["webpackJsonp_bos-platform"] || []).push([[2816],{

/***/ "./src/component/web/KDDesigner.js":
/*!*****************************************!*\
  !*** ./src/component/web/KDDesigner.js ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _propTypes = _interopRequireDefault(__webpack_require__(/*! prop-types */ \"../../node_modules/prop-types/index.js\"));\nvar _IndexPage = _interopRequireDefault(__webpack_require__(/*! ../../designer/IndexPage */ \"./src/designer/IndexPage.jsx\"));\nvar _designeraction = __webpack_require__(/*! ../../action/designeraction */ \"./src/action/designeraction.js\");\nvar _VisibleLockWrap = _interopRequireDefault(__webpack_require__(/*! ../common/VisibleLockWrap */ \"./src/component/common/VisibleLockWrap.js\"));\nvar _appModelFunction = __webpack_require__(/*! ../../model/appModelFunction */ \"./src/model/appModelFunction.js\");\nvar _AttachDataWrap = _interopRequireDefault(__webpack_require__(/*! ../common/AttachDataWrap */ \"./src/component/common/AttachDataWrap.js\"));\nvar _designerContext = __webpack_require__(/*! ../../designer/controls/common/designerContext */ \"./src/designer/controls/common/designerContext.js\");\nvar _action = __webpack_require__(/*! @/action/action */ \"./src/action/action.js\");\nvar _memoryCacher = __webpack_require__(/*! ../../model/memoryCacher */ \"./src/model/memoryCacher.js\");\nvar _const = __webpack_require__(/*! @/constant/const */ \"./src/constant/const.js\");\nvar _server = __webpack_require__(/*! @/action/actionname/control/field/server */ \"./src/action/actionname/control/field/server/index.js\");\nvar _server2 = __webpack_require__(/*! @/action/actionname/control/designer/server */ \"./src/action/actionname/control/designer/server/index.js\");\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _GlobalDataCacher = __webpack_require__(/*! @/model/GlobalDataCacher */ \"./src/model/GlobalDataCacher.js\");\nvar _symbolConst = __webpack_require__(/*! @/constant/symbolConst */ \"./src/constant/symbolConst.js\");\nvar _excluded = [\"modeltype\", \"modelver\"];\nvar _dec, _class, _KDDesigner; // import {getVisible, getLocked, getVisibleStyle} from '../../util/componentutil';\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar KDDesigner = (_dec = (0, _VisibleLockWrap[\"default\"])(false), (0, _AttachDataWrap[\"default\"])(_class = _dec(_class = (_KDDesigner = /*#__PURE__*/function (_Component) {\n  _inherits(KDDesigner, _Component);\n  // static actions = myActions;\n\n  function KDDesigner(props) {\n    var _this;\n    _classCallCheck(this, KDDesigner);\n    _this = _callSuper(this, KDDesigner, [props]);\n    _this.invokeControlMethods = function (events) {\n      events.forEach(function (event) {\n        var methodName = event.methodname,\n          args = event.args;\n        switch (methodName) {\n          case _server.TRANSFORM_MODEL:\n            _this.setEncodeData(args);\n            break;\n          case _server.SET_ENCODING_KEYS:\n            _this.setEncodingKeys(args);\n            break;\n          case _server2.SET_MUL_LANG_PROPERTY:\n            _this.setMulLangProperty(args);\n            break;\n          case _server2.LOCK_PROPERTY:\n            _this.lockProperty(args);\n            break;\n          case _server2.SET_DESIGNER_CONFIG:\n            _this.setDesignerConfig(args);\n            break;\n          case _server2.SET_EMBED_FORM_CONTENT:\n            _this.setEmbedFormContent(args);\n            break;\n          default:\n            break;\n        }\n      });\n    };\n    _this.setMulLangProperty = function () {\n      var args = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      (0, _GlobalDataCacher.setData)(_symbolConst.MUL_LANG_PROPERTY, (0, _immutable.fromJS)(args[0]));\n    };\n    _this.setEncodeData = function () {\n      var args = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      // 是否编码\n      var encodeMethod = (0, _appModelFunction.getRootEncodeMethod)();\n      if (encodeMethod) {\n        var _args = _slicedToArray(args, 2),\n          encodeKeys = _args[1];\n        (0, _memoryCacher.setPageData)(_this.props.model.pageId, _const.KDBASE64, encodeKeys || []);\n      }\n    };\n    _this.setEncodingKeys = function () {\n      var args = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      // 是否编码\n      var encodeMethod = (0, _appModelFunction.getRootEncodeMethod)();\n      if (encodeMethod) {\n        var _args$, _args$2;\n        var encodeDefaultKeys = (_args$ = args[0]) === null || _args$ === void 0 ? void 0 : _args$[\"default\"];\n        var encodePropertyKeys = !!encodeDefaultKeys && ((_args$2 = args[0]) === null || _args$2 === void 0 || (_args$2 = _args$2.propertyClick) === null || _args$2 === void 0 ? void 0 : _args$2.concat(encodeDefaultKeys));\n        (0, _memoryCacher.setPageData)(_this.props.model.pageId, _const.ENCODE_DEFAULT_KEYS, encodeDefaultKeys || []);\n        (0, _memoryCacher.setPageData)(_this.props.model.pageId, _const.ENCODE_PROPERTY_KEYS, encodePropertyKeys || []);\n      }\n    };\n    _this.lockProperty = function () {\n      var args = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var lockPropsMap = args[0];\n      if (!lockPropsMap) return;\n      var _this$props$model = _this.props.model,\n        pageId = _this$props$model.pageId,\n        key = _this$props$model.key;\n      (0, _memoryCacher.setPageData)(pageId, [key, _server2.LOCK_PROPERTY], (0, _immutable.fromJS)(lockPropsMap));\n    };\n    _this.setDesignerConfig = function () {\n      var args = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var config = args[0];\n      if (!config) return;\n      var _this$props$model2 = _this.props.model,\n        pageId = _this$props$model2.pageId,\n        key = _this$props$model2.key;\n      (0, _memoryCacher.setPageData)(pageId, [key, 'config'], config);\n    };\n    _this.setEmbedFormContent = function () {\n      var args = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var _args2 = _slicedToArray(args, 2),\n        id = _args2[0],\n        content = _args2[1];\n      var _this$props$model3 = _this.props.model,\n        pageId = _this$props$model3.pageId,\n        key = _this$props$model3.key;\n      (0, _memoryCacher.setPageData)(pageId, [key, id, 'embedFormContent'], (0, _immutable.fromJS)(content));\n    };\n    _this.state = {\n      openArgs: []\n    };\n    return _this;\n  }\n  _createClass(KDDesigner, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var config = this.props.model.getFormConfig();\n      this.clientParams = config.clientParams || {};\n      var fileserver = config.fileserver;\n      var openArgs = (0, _appModelFunction.getDataProperty)(this.props.model.pageId, this.props.model.key, 'open_args')(this.props.model.state);\n      this.setState({\n        openArgs: openArgs,\n        fileserver: fileserver\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n      var model = this.props.model;\n      this.removeDirectivesListener = (0, _memoryCacher.subscribeControlMethod)(model.pageId, model.key, 'directives', function (pageData) {\n        if (pageData === undefined) {\n          return;\n        }\n        _this2.invokeControlMethods(pageData);\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var _this$removeDirective;\n      (_this$removeDirective = this.removeDirectivesListener) === null || _this$removeDirective === void 0 || _this$removeDirective.call(this);\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      var fileserver = nextProps.model.getFormConfig().fileserver;\n      var openArgs = (0, _appModelFunction.getDataProperty)(this.props.model.pageId, this.props.model.key, 'open_args')(nextProps.model.state);\n      if (!openArgs) {\n        return;\n      }\n      this.setState({\n        openArgs: openArgs,\n        fileserver: fileserver\n      });\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      var openArgs = this.state.openArgs;\n      var nextOpenArgs = (0, _appModelFunction.getDataProperty)(nextProps.model.pageId, nextProps.model.key, 'open_args')(nextProps.model.state);\n      if (!openArgs) {\n        return true;\n      }\n      if (nextOpenArgs === openArgs) {\n        return false;\n      }\n      return true;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var style = {\n        minWidth: 800,\n        // minHeight:768,\n        height: this.props.height,\n        width: this.props.width || '100%',\n        // border:'0px solid #aaa',\n        display: 'flex',\n        flexDirection: 'column',\n        flexGrow: 1,\n        paddingTop: '8px',\n        background: '#E9ECF1'\n      };\n      var _this$props = this.props,\n        model = _this$props.model,\n        dispatch = _this$props.dispatch;\n      var _this$clientParams = this.clientParams,\n        modeltype = _this$clientParams.modeltype,\n        modelver = _this$clientParams.modelver,\n        otherParams = _objectWithoutProperties(_this$clientParams, _excluded);\n      var value = {\n        model: this.props.model,\n        invokeAction: function invokeAction() {\n          return dispatch(_designeraction.property_editor_click.apply(void 0, arguments));\n        },\n        setPostControlValue: function setPostControlValue() {\n          return dispatch(_designeraction.setPostControlValue.apply(void 0, arguments));\n        },\n        setValidMessage: function setValidMessage() {\n          return dispatch(_action.setValidMessage.apply(void 0, arguments));\n        },\n        modelType: this.state.openArgs && this.state.openArgs[0] || modeltype,\n        modelVer: modelver || '1.0',\n        clientParams: otherParams\n      };\n      return /*#__PURE__*/_react[\"default\"].createElement(_designerContext.DesignerContext.Provider, {\n        value: value\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", _extends({\n        id: model.key,\n        ref: this.props.model.key,\n        className: \"designer\",\n        style: style\n      }, this.props.attachData), /*#__PURE__*/_react[\"default\"].createElement(_IndexPage[\"default\"], {\n        openArgs: this.state.openArgs,\n        fileserver: this.state.fileserver\n      })));\n    }\n  }]);\n  return KDDesigner;\n}(_react.Component), _KDDesigner.propTypes = {\n  // this.props.model\n  data: _propTypes[\"default\"].object,\n  pageId: _propTypes[\"default\"].string\n}, _KDDesigner)) || _class) || _class); // KDDesigner.actions = myActions\nvar _default = exports[\"default\"] = KDDesigner;\n\n//# sourceURL=webpack://bos-platform/./src/component/web/KDDesigner.js?");

/***/ }),

/***/ "./src/constant/controlDocInfo.js":
/*!****************************************!*\
  !*** ./src/constant/controlDocInfo.js ***!
  \****************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nvar controlDocInfo = {\n  // 通用字段\n  TextField: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0001'),\n    docAddress: 'commonField/text/',\n    category: '218035423933468928',\n    id: '215128684791905280',\n    productLineId: '29'\n  },\n  DateField: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0002'),\n    docAddress: 'commonField/date/',\n    category: '218035423933468928',\n    id: '220180664904104960',\n    productLineId: '29'\n  },\n  DateTimeField: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0003'),\n    docAddress: 'commonField/datetime/',\n    category: '218035423933468928',\n    id: '221548306877269760',\n    productLineId: '29'\n  },\n  DateRangeField: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0004'),\n    docAddress: 'commonField/daterange/',\n    category: '218035423933468928',\n    id: '221549412948950016',\n    productLineId: '29'\n  },\n  DecimalField: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0005'),\n    docAddress: 'commonField/decimal/',\n    category: '218035423933468928',\n    id: '220153919438712064',\n    productLineId: '29'\n  },\n  IntegerField: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0006'),\n    docAddress: 'commonField/integer/',\n    category: '218035423933468928',\n    id: '220142099956385536',\n    productLineId: '29'\n  },\n  BigIntField: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0007'),\n    docAddress: 'commonField/bigint/',\n    category: '218035423933468928',\n    id: '220175081899995392',\n    productLineId: '29'\n  },\n  TextAreaField: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0008'),\n    docAddress: 'commonField/textarea/',\n    category: '218035423933468928',\n    id: '220176216492230400',\n    productLineId: '29'\n  },\n  LargeTextField: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0009'),\n    docAddress: 'commonField/largetext/',\n    category: '218035423933468928',\n    id: '220178555018588416',\n    productLineId: '29'\n  },\n  MuliLangTextField: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0010'),\n    docAddress: 'commonField/localetext/',\n    category: '218035423933468928',\n    id: '220179325780070656',\n    productLineId: '29'\n  },\n  PictureField: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0011'),\n    docAddress: 'commonField/picture/',\n    category: '218035423933468928',\n    id: '221557353186454784',\n    productLineId: '29'\n  },\n  // IconField: {\n  //   introduction: '图标',\n  //   docAddress: 'commonField/integer/'\n  // },\n  CheckBoxField: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0012'),\n    docAddress: 'commonField/checkbox/',\n    category: '218035423933468928',\n    id: '221552451739577600',\n    productLineId: '29'\n  },\n  ComboField: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0013'),\n    docAddress: 'commonField/combo/',\n    category: '218035423933468928',\n    id: '221555621978878208',\n    productLineId: '29'\n  },\n  MulComboField: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0014'),\n    docAddress: 'commonField/mulcombo/',\n    category: '218035423933468928',\n    id: '221556415758908416',\n    productLineId: '29'\n  },\n  AttachmentField: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0015'),\n    docAddress: 'commonField/attachmentfield/',\n    category: '218035423933468928',\n    id: '221558278130386688',\n    productLineId: '29'\n  },\n  RadioField: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0016'),\n    docAddress: 'commonField/radio/',\n    category: '218035423933468928',\n    id: '221553785326923008',\n    productLineId: '29'\n  },\n  RadioGroupField: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0017'),\n    docAddress: 'commonField/radio/',\n    category: '218035423933468928',\n    id: '221553785326923008',\n    productLineId: '29'\n  },\n  TimeField: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0018'),\n    docAddress: 'commonField/time/',\n    category: '218035423933468928',\n    id: '221550498083106048',\n    productLineId: '29'\n  },\n  TimeRangeField: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0019'),\n    docAddress: 'commonField/timerange/',\n    category: '218035423933468928',\n    id: '221551264331512832',\n    productLineId: '29'\n  },\n  StepperField: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0020'),\n    docAddress: '',\n    category: '218035423933468928',\n    id: '219098725463931904',\n    productLineId: '29'\n  },\n  // 业务字段\n  BasedataField: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0021'),\n    docAddress: 'commonField/basedata/',\n    category: '218035461581541632',\n    id: '221670300038589696',\n    productLineId: '29'\n  },\n  MulBasedataField: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0022'),\n    docAddress: '',\n    category: '218035461581541632',\n    id: '254637283390352384',\n    productLineId: '29'\n  },\n  AssistantField: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0023'),\n    docAddress: '',\n    category: '218035461581541632',\n    id: '254640429957213184',\n    productLineId: '29'\n  },\n  BasedataPropField: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0024'),\n    docAddress: '',\n    category: '218035461581541632',\n    id: '254630112203567616',\n    productLineId: '29'\n  },\n  UserField: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0025'),\n    docAddress: '',\n    category: '218035461581541632',\n    id: '254641688097079040',\n    productLineId: '29'\n  },\n  UserAvatarField: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0026'),\n    docAddress: '',\n    category: '218035461581541632',\n    id: '254645462971018240',\n    productLineId: '29'\n  },\n  OrgField: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0027'),\n    docAddress: '',\n    category: '218035461581541632',\n    id: '254647978647448576',\n    productLineId: '29'\n  },\n  CityField: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0028'),\n    docAddress: '',\n    category: '218035461581541632',\n    id: '221672032084005120',\n    productLineId: '29'\n  },\n  MaterielField: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0029'),\n    docAddress: '',\n    category: '218035461581541632',\n    id: '254649363002462208',\n    productLineId: '29'\n  },\n  UnitField: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0030'),\n    docAddress: '',\n    category: '218035461581541632',\n    id: '254657415831109376',\n    productLineId: '29'\n  },\n  QtyField: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0031'),\n    docAddress: '',\n    category: '218035461581541632',\n    id: '254665469700247552',\n    productLineId: '29'\n  },\n  CurrencyField: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0032'),\n    docAddress: '',\n    category: '218035461581541632',\n    id: '254658799934991360',\n    productLineId: '29'\n  },\n  AmountField: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0033'),\n    docAddress: '',\n    category: '218035461581541632',\n    id: '254664210486415616',\n    productLineId: '29'\n  },\n  PriceField: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0034'),\n    docAddress: '',\n    category: '218035461581541632',\n    id: '254667356264480512',\n    productLineId: '29'\n  },\n  FlexField: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0035'),\n    docAddress: '',\n    category: '218035461581541632',\n    id: '255615264455676160',\n    productLineId: '29'\n  },\n  ItemClassField: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0036'),\n    docAddress: '',\n    category: '218035461581541632',\n    id: '255617779980996608',\n    productLineId: '29'\n  },\n  ItemClassTypeField: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0037'),\n    docAddress: '',\n    category: '218035461581541632',\n    id: '255619669196181504',\n    productLineId: '29'\n  },\n  AdminDivisionField: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0038'),\n    docAddress: '',\n    category: '218035461581541632',\n    id: '224082920489459712',\n    productLineId: '29'\n  },\n  AddressField: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0039'),\n    docAddress: '',\n    category: '218035461581541632',\n    id: '144529579825292800',\n    productLineId: '29'\n  },\n  EmailField: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0040'),\n    docAddress: '',\n    category: '218035461581541632',\n    id: '224081578312137472',\n    productLineId: '29'\n  },\n  TelephoneField: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0041'),\n    docAddress: '',\n    category: '218035461581541632',\n    id: '236778854621456896',\n    productLineId: '29'\n  },\n  // 通用控件\n  AttachmentPanelAp: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0042'),\n    docAddress: 'commonControl/attachment/',\n    category: '218035603349614848',\n    id: '224157659564187392',\n    productLineId: '29'\n  },\n  ButtonAp: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0043'),\n    docAddress: 'commonControl/button/',\n    category: '218035603349614848',\n    id: '224138661196231936',\n    productLineId: '29'\n  },\n  CarouselFigureAp: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0044'),\n    docAddress: 'commonControl/carousel/',\n    category: '218035603349614848',\n    id: '224171406412282624',\n    productLineId: '29'\n  },\n  CustomControlAp: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0045'),\n    docAddress: 'commonControl/customctrl/',\n    category: '249447947539332864',\n    id: '205421332635100416',\n    productLineId: '29'\n  },\n  HtmlAp: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0046'),\n    docAddress: 'commonControl/html/',\n    category: '218035603349614848',\n    id: '224163276727547136',\n    productLineId: '29'\n  },\n  HyperlinkAp: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0047'),\n    docAddress: 'commonControl/hyperlink/',\n    category: '218035603349614848',\n    id: '224140296572138752',\n    productLineId: '29'\n  },\n  IFrameAp: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0048'),\n    docAddress: 'commonControl/iframe/',\n    category: '218035603349614848',\n    id: '224159253316269312',\n    productLineId: '29'\n  },\n  ImageAp: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0049'),\n    docAddress: 'commonControl/image/',\n    category: '218035603349614848',\n    id: '224140799921683200',\n    productLineId: '29'\n  },\n  ImageListAp: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0050'),\n    docAddress: 'commonControl/imagelist/',\n    category: '218035603349614848',\n    id: '224142813137761536',\n    productLineId: '29'\n  },\n  LabelAp: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0051'),\n    docAddress: 'commonControl/label/',\n    category: '218035603349614848',\n    id: '224139751295841536',\n    productLineId: '29'\n  },\n  MarkdownAp: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0052'),\n    docAddress: 'commonControl/markdown/',\n    category: '218035603349614848',\n    id: '226616744045815040',\n    productLineId: '29'\n  },\n  ProgressBarAp: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0053'),\n    docAddress: 'commonControl/progressbar/',\n    category: '218035603349614848',\n    id: '224163738101282560',\n    productLineId: '29'\n  },\n  QRCodeAp: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0054'),\n    docAddress: 'commonControl/qrcode/',\n    category: '218035603349614848',\n    id: '224158750083227648',\n    productLineId: '29'\n  },\n  RichTextEditorAp: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0055'),\n    docAddress: 'commonControl/richtext/',\n    category: '218035603349614848',\n    id: '224167384963981056',\n    productLineId: '29'\n  },\n  CodeEditAp: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0056'),\n    docAddress: 'commonControl/codeedit/',\n    category: '218035603349614848',\n    id: '224143358380056320',\n    productLineId: '29'\n  },\n  SearchAp: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0057'),\n    docAddress: 'commonControl/searchbox/',\n    category: '218035603349614848',\n    id: '224164535035524352',\n    productLineId: '29'\n  },\n  TreeViewAp: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0058'),\n    docAddress: 'commonControl/treecontrol/',\n    category: '218035603349614848',\n    id: '224144029502698752',\n    productLineId: '29'\n  },\n  VectorAp: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0059'),\n    docAddress: 'commonControl/vector/',\n    category: '218035603349614848',\n    id: '224141974276513792',\n    productLineId: '29'\n  },\n  ClientAjaxAp: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0060'),\n    docAddress: 'commonControl/ajax/',\n    category: '218035603349614848',\n    id: '224162647648608256',\n    productLineId: '29'\n  },\n  MapControlAp: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0061'),\n    docAddress: 'commonControl/map/',\n    category: '218035603349614848',\n    id: '224205192453791744',\n    productLineId: '29'\n  },\n  AnchorControlAp: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0062'),\n    docAddress: 'commonControl/anchor/',\n    category: '218035603349614848',\n    id: '224206408802399488',\n    productLineId: '29'\n  },\n  AudioAp: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0063'),\n    docAddress: 'commonControl/audio/',\n    category: '218035603349614848',\n    id: '224207499321439488',\n    productLineId: '29'\n  },\n  VideoAp: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0064'),\n    docAddress: 'commonControl/video/',\n    category: '218035603349614848',\n    id: '224208296222422272',\n    productLineId: '29'\n  },\n  CountDownAp: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0065'),\n    docAddress: 'commonControl/countdown/',\n    category: '218035603349614848',\n    id: '226619005480314368',\n    productLineId: '29'\n  },\n  StepsAp: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0066'),\n    docAddress: 'commonControl/steps/',\n    category: '',\n    id: '',\n    productLineId: ''\n  },\n  TimelineAp: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0067'),\n    docAddress: 'commonControl/timeline/',\n    category: '218035603349614848',\n    id: '224190961297760256',\n    productLineId: '29'\n  },\n  RateAp: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0068'),\n    docAddress: 'commonControl/rate/',\n    category: '218035603349614848',\n    id: '224192094498037760',\n    productLineId: '29'\n  },\n  SliderAp: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0069'),\n    docAddress: 'commonControl/slider/',\n    category: '',\n    id: '',\n    productLineId: ''\n  },\n  TransferContainerAp: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0070'),\n    docAddress: '',\n    category: '218035603349614848',\n    id: '224193142352575232',\n    productLineId: '29'\n  },\n  SpreadAp: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0071'),\n    docAddress: '',\n    category: '218035603349614848',\n    id: '229915214085755648',\n    productLineId: '29'\n  },\n  WebOfficeAp: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0072'),\n    docAddress: '',\n    category: '218035603349614848',\n    id: '224196875316731904',\n    productLineId: '29'\n  },\n  LittleKAp: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0073'),\n    docAddress: '',\n    category: '218035603349614848',\n    id: '281825832387985152',\n    productLineId: '29'\n  },\n  // 容器\n  FlexPanelAp: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0074'),\n    docAddress: 'container/flexpanel/',\n    category: '218035632357421312',\n    id: '226621396334707456',\n    productLineId: '29'\n  },\n  AdvConAp: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0075'),\n    docAddress: '',\n    category: '218035632357421312',\n    id: '226627394155423232',\n    productLineId: '29'\n  },\n  MessageCarouselContainerAp: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0076'),\n    docAddress: 'container/carouselcontainer/',\n    category: '218035632357421312',\n    id: '226624290336908800',\n    productLineId: '29'\n  },\n  FieldsetPanelAp: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0077'),\n    docAddress: 'container/fieldpanel/',\n    category: '218035632357421312',\n    id: '226622402883781376',\n    productLineId: '29'\n  },\n  FilterContainerAp: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0078'),\n    docAddress: 'container/querypanel/',\n    category: '218035632357421312',\n    id: '227018721024124416',\n    productLineId: '29'\n  },\n  SplitContainerAp: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0079'),\n    docAddress: 'container/splitcontainer/',\n    category: '218035632357421312',\n    id: '226990828919301376',\n    productLineId: '29'\n  },\n  TabAp: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0080'),\n    docAddress: 'container/tabcontrol/',\n    category: '218035632357421312',\n    id: '226988606022517248',\n    productLineId: '29'\n  },\n  // 导航控件\n  ToolbarAp: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0081'),\n    docAddress: 'categoryNavigation/toolbar/',\n    category: '218035683124725504',\n    id: '226993177780323072',\n    productLineId: '29'\n  },\n  TreeMenuAp: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0082'),\n    docAddress: 'categoryNavigation/treemenu/',\n    category: '218035683124725504',\n    id: '226994478333330176',\n    productLineId: '29'\n  },\n  ListboxAp: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0083'),\n    docAddress: 'categoryNavigation/listbox/',\n    category: '218035603349614848',\n    id: '226620054090318336',\n    productLineId: '29'\n  },\n  SegmentedControlAp: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0084'),\n    docAddress: 'commonControl/segmentedControl/'\n  },\n  WizardAp: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0085'),\n    docAddress: 'categoryNavigation/guide/',\n    category: '218035683124725504',\n    id: '226992171080254208',\n    productLineId: '29'\n  },\n  // 单据体\n  EntryEntity: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0086'),\n    docAddress: 'grid/entry/',\n    category: '218035559762017280',\n    id: '224093028694948608',\n    productLineId: '29'\n  },\n  SubEntryEntity: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0087'),\n    docAddress: 'grid/subEntry/',\n    category: '218035559762017280',\n    id: '224097852144548608',\n    productLineId: '29'\n  },\n  TreeEntryEntity: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0088'),\n    docAddress: 'grid/treeEntry/',\n    category: '218035559762017280',\n    id: '224102549865733888',\n    productLineId: '29'\n  },\n  CardEntryAp: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0089'),\n    docAddress: 'card/entry/',\n    category: '218035559762017280',\n    id: '224086695346282496',\n    productLineId: '29'\n  },\n  SubCardEntryAp: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0090'),\n    docAddress: 'card/subEntry/',\n    category: '218035559762017280',\n    id: '224091015462583040',\n    productLineId: '29'\n  },\n  BillListAp: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0091'),\n    docAddress: '',\n    category: '218035723876536576',\n    id: '224105443851565824',\n    productLineId: '29'\n  },\n  // 图表控件\n  BarChartAp: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0092'),\n    docAddress: 'chart/barchart/',\n    category: '218035764947207936',\n    id: '221668042009653504',\n    productLineId: '29'\n  },\n  CustomChartAp: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0093'),\n    docAddress: 'chart/customchart/',\n    category: '218035764947207936',\n    id: '614462188224051200',\n    productLineId: '29'\n  },\n  defaultInfo: {\n    introduction: (0, _intlApi.getLangMsg)('bosd.controlDocInfo.key0094'),\n    category: '',\n    id: '',\n    productLineId: ''\n    // docAddress: 'commonControl/attachment/'\n  }\n};\nvar _default = exports[\"default\"] = controlDocInfo;\n\n//# sourceURL=webpack://bos-platform/./src/constant/controlDocInfo.js?");

/***/ }),

/***/ "./src/designer/IndexPage.jsx":
/*!************************************!*\
  !*** ./src/designer/IndexPage.jsx ***!
  \************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _propTypes = _interopRequireDefault(__webpack_require__(/*! prop-types */ \"../../node_modules/prop-types/index.js\"));\nvar _reactRedux = __webpack_require__(/*! react-redux */ \"../../node_modules/react-redux/es/index.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _global = _interopRequireWildcard(__webpack_require__(/*! @/global */ \"./src/global/index.js\"));\nvar _Editui = __webpack_require__(/*! ./page/Editui */ \"./src/designer/page/Editui.jsx\");\nvar _MessagePage = __webpack_require__(/*! ./page/MessagePage */ \"./src/designer/page/MessagePage.jsx\");\nvar _reducer = _interopRequireDefault(__webpack_require__(/*! ./reducer */ \"./src/designer/reducer/index.js\"));\nvar _getDefaultStore = _interopRequireDefault(__webpack_require__(/*! ./store/getDefaultStore */ \"./src/designer/store/getDefaultStore.js\"));\nvar _createStoreWithMiddleware = _interopRequireDefault(__webpack_require__(/*! ./store/createStoreWithMiddleware */ \"./src/designer/store/createStoreWithMiddleware.js\"));\nvar _designerContext = __webpack_require__(/*! ./controls/common/designerContext */ \"./src/designer/controls/common/designerContext.js\");\nvar _GlobalDataCacher = __webpack_require__(/*! @/model/GlobalDataCacher */ \"./src/model/GlobalDataCacher.js\");\nvar _symbolConst = __webpack_require__(/*! @/constant/symbolConst */ \"./src/constant/symbolConst.js\");\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar count = 0;\nvar inc = 0;\nvar IndexPage = /*#__PURE__*/function (_Component) {\n  _inherits(IndexPage, _Component);\n  function IndexPage() {\n    _classCallCheck(this, IndexPage);\n    return _callSuper(this, IndexPage, arguments);\n  }\n  _createClass(IndexPage, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.store = (0, _createStoreWithMiddleware[\"default\"])(_reducer[\"default\"], (0, _getDefaultStore[\"default\"])(this.context.model.pageId));\n      _global[\"default\"][_global.DSTORE] = window.dStore || {};\n      this.number = count++;\n      _global[\"default\"][_global.DSTORE][this.number] = this.store;\n      inc++;\n      (0, _GlobalDataCacher.setData)(_symbolConst.KEY_TRAYMENU, false);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      _global[\"default\"][_global.DSTORE][this.number] = null;\n      inc--;\n      if (inc === 0) {\n        (0, _GlobalDataCacher.setData)(_symbolConst.KEY_TRAYMENU, true);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/_react[\"default\"].createElement(_reactRedux.Provider, {\n        store: this.store\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        style: {\n          display: 'flex',\n          flexDirection: 'column',\n          width: '100%',\n          flexGrow: 1\n        }\n      }, /*#__PURE__*/_react[\"default\"].createElement(_Editui.EdituiContainer, {\n        openArgs: (0, _immutable.fromJS)(this.props.openArgs),\n        fileserver: this.props.fileserver\n      }), /*#__PURE__*/_react[\"default\"].createElement(_MessagePage.MessagePageContainer, null)));\n    }\n  }]);\n  return IndexPage;\n}(_react.Component);\n// static contextTypes = {\n//   model: PropTypes.object\n// }\nIndexPage.contextType = _designerContext.DesignerContext;\nvar _default = exports[\"default\"] = IndexPage;\n\n//# sourceURL=webpack://bos-platform/./src/designer/IndexPage.jsx?");

/***/ }),

/***/ "./src/designer/action/index.js":
/*!**************************************!*\
  !*** ./src/designer/action/index.js ***!
  \**************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.addControl = addControl;\nexports.addEntityInfo = addEntityInfo;\nexports.addFieldControl = addFieldControl;\nexports.addFieldControls = addFieldControls;\nexports.addTempFragment = addTempFragment;\nexports.addUiInfoValue = addUiInfoValue;\nexports.applyContainerTemplate = applyContainerTemplate;\nexports.applyControlTemplate = applyControlTemplate;\nexports.applyPageTemplate = applyPageTemplate;\nexports.clearDirtyData = clearDirtyData;\nexports.copyAndAdd = copyAndAdd;\nexports.copyControl = copyControl;\nexports.cutControl = cutControl;\nexports.deleteControl = deleteControl;\nexports.dragOverControl = dragOverControl;\nexports.fetchUiMetadata = fetchUiMetadata;\nexports.maxWin = maxWin;\nexports.moveControl = moveControl;\nexports.moveToControl = moveToControl;\nexports.notifyMessage = notifyMessage;\nexports.pasteControl = pasteControl;\nexports.pasteControlStyle = pasteControlStyle;\nexports.pushUndo = pushUndo;\nexports.redo = redo;\nexports.refreshAllControls = refreshAllControls;\nexports.resetFillWidthHeight = resetFillWidthHeight;\nexports.selectControlId = selectControlId;\nexports.selectControlIds = selectControlIds;\nexports.setFormatInfo = setFormatInfo;\nexports.setUILoading = setUILoading;\nexports.setUiInfo = setUiInfo;\nexports.setUiLoadError = setUiLoadError;\nexports.setUiMetadata = setUiMetadata;\nexports.switchToFlatPanel = switchToFlatPanel;\nexports.throwOperateInfo = throwOperateInfo;\nexports.undo = undo;\nexports.updatePropValue = updatePropValue;\nexports.updateUIPropValue = updateUIPropValue;\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\nvar _actionnames = _interopRequireWildcard(__webpack_require__(/*! ../constant/actionnames */ \"./src/designer/constant/actionnames.js\"));\nvar actionNames = _actionnames;\nvar api = _interopRequireWildcard(__webpack_require__(/*! ../utils/api */ \"./src/designer/utils/api.js\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\n// import { KEY_PREFIX } from '../constant';\n\n// 清除脏数据（开发使用）\nfunction clearDirtyData() {\n  return {\n    type: _actionnames.clear_dirty_data\n  };\n}\n\n/**\n * 设置元数据信息\n */\nfunction setUiMetadata(metadata) {\n  return {\n    type: _actionnames.set_ui_metadata,\n    metadata: metadata\n  };\n}\n\n/**\n * 设置UIInfo的信息\n * uiInfo             UIInfo数据\n * selectRootControl  是否选择根节点\n */\nfunction setUiInfo(uiInfo) {\n  var selectRootControl = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  return {\n    type: _actionnames.set_ui_info,\n    uiInfo: uiInfo,\n    selectRootControl: selectRootControl\n  };\n}\nfunction setUILoading(value) {\n  return {\n    type: _actionnames.set_ui_loading,\n    value: value\n  };\n}\nfunction setUiLoadError(value) {\n  return {\n    type: _actionnames.set_ui_load_error,\n    value: value\n  };\n}\n\n/**\n * 最大化||最小化\n * max\n */\nfunction maxWin(max) {\n  return {\n    type: _actionnames.max_win,\n    max: max\n  };\n}\n\n/**\n * 设置格式化信息\n * ctrlId  按照ctrlId的控件的样式进行格式化\n * multi   是否允许多次格式化控件。默认false: 格式化一次就取消状态。类似Word的格式化功能\n */\nfunction setFormatInfo(ctrlId) {\n  var multi = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  return {\n    type: _actionnames.set_format_info,\n    ctrlId: ctrlId,\n    multi: multi\n  };\n}\n\n/**\n * 将当前UIInfo信息压入undo栈\n */\nfunction pushUndo() {\n  return {\n    type: _actionnames.push_undo\n  };\n}\n/**\n * 撤销uiInfo的改变\n */\nfunction undo() {\n  return {\n    type: _actionnames.undo_ui_info\n  };\n}\n/**\n * 恢复上一步的撤销\n */\nfunction redo() {\n  return {\n    type: _actionnames.redo_ui_info\n  };\n}\n\n/**\n * 弹出消息通知\n * message       通知内容\n * messageType   通知的类型[]\n */\nfunction notifyMessage(message) {\n  var messageType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'info';\n  return {\n    type: _actionnames.notify_message,\n    message: message,\n    messageType: messageType\n  };\n}\n\n/**\n * 选中指定控件\n * ctrlId  控件Id\n * multi   是否是多选\n * scope   是否是范围选择\n */\nfunction selectControlId(ctrlId) {\n  var multi = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var scope = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  return {\n    type: _actionnames.select_control_id,\n    ctrlId: ctrlId,\n    multi: multi,\n    scope: scope\n  };\n}\n\n/**\n * 拖拽控件悬停时控件的反应\n * ctrlId  悬停在的控件Id\n */\nfunction dragOverControl(ctrlId) {\n  return {\n    type: _actionnames.dragover_control,\n    ctrlId: ctrlId\n  };\n}\n\n/**\n * 剪切控件\n * ctrlId  剪切的控件Id\n * 内置字段不允许剪切\n */\nfunction cutControl(ctrlId, disableDelete) {\n  return {\n    type: _actionnames.copy_control,\n    ctrlId: ctrlId,\n    mode: 'cut',\n    disableDelete: disableDelete || false\n  };\n}\n/**\n * 复制控件\n * ctrlId  复制的控件Id\n * 内置字段不允许复制\n */\nfunction copyControl(ctrlId, disableDelete) {\n  return {\n    type: _actionnames.copy_control,\n    ctrlId: ctrlId,\n    mode: 'copy',\n    disableDelete: disableDelete || false\n  };\n}\n/**\n * 粘贴复制(剪切)的控件\n * ctrlId     粘贴到的目标控件Id\n * uiConfig   元数据信息\n */\nfunction pasteControl(ctrlId, uiConfig) {\n  return {\n    type: _actionnames.paste_control,\n    ctrlId: ctrlId,\n    uiConfig: uiConfig\n  };\n}\nfunction pasteControlStyle() {\n  return {\n    type: actionNames.paste_control_style\n  };\n}\n\n/**\n * 修改字段信息的属性值。\n * fieldId  字段的Id。当为数组时则按批量修改属性处理[{fieldId,propName,value,metaType}]\n * propName 属性名\n * value    属性的值\n * metaType 修改属性的类型[formmeat|entitymeta]\n * uiConfig 元数据信息\n */\nfunction updatePropValue(fieldId, propName, value, metaType, uiConfig) {\n  return function (dispatch) {\n    var propInfos = [];\n    // 如果fieldId是数组，则为修改多个属性\n    if (Array.isArray(fieldId)) {\n      propInfos = fieldId;\n      uiConfig = propName;\n    } else {\n      // 否则修改一个属性\n      propInfos = [{\n        fieldId: fieldId,\n        propName: propName,\n        value: value,\n        metaType: metaType\n      }];\n    }\n    dispatch({\n      type: _actionnames.update_prop_value,\n      propInfos: propInfos,\n      // reducer处理时统一按数组来处理\n      uiConfig: uiConfig,\n      dispatch: dispatch\n    });\n  };\n}\n\n/**\n * 上下移动控件\n * direction   移动的方向【down|up】\n */\nfunction moveControl() {\n  var direction = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'down';\n  return {\n    type: _actionnames.move_control,\n    direction: direction\n  };\n}\n\n/**\n * 复制控件\n * parentId 复制控件到的目标容器Id\n * ctrlId   复制的控件Id\n * uiConfig 元数据信息\n */\nfunction copyAndAdd(parentId, ctrlId, uiConfig) {\n  return {\n    type: _actionnames.copy_and_add,\n    parentId: parentId,\n    ctrlId: ctrlId,\n    uiConfig: uiConfig\n  };\n}\n\n/**\n * 将控件移动到执行容器中\n * parentId   容器Id\n * ctrlId     移动的控件Id\n * uiConfig   元数据信息\n */\nfunction moveToControl(parentId, ctrlId, uiConfig) {\n  return {\n    type: _actionnames.moveto_control,\n    parentId: parentId,\n    ctrlId: ctrlId,\n    uiConfig: uiConfig\n  };\n}\n\n/**\n * 添加控件\n * parentId 容器Id\n * ctrlInfo 控件信息\n * uiConfig 元数据信息\n */\nfunction addControl(parentId, ctrlInfo, uiConfig, selectedFormInfo) {\n  return {\n    type: _actionnames.add_control,\n    parentId: parentId,\n    ctrlInfo: ctrlInfo,\n    uiConfig: uiConfig,\n    selectedFormInfo: selectedFormInfo\n  };\n}\n\n/**\n * 根据实体信息添加控件\n * fieldInfo  字段信息\n * uiConfig   元数据信息\n */\nfunction addFieldControl() {\n  var fieldInfo = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var uiConfig = arguments.length > 1 ? arguments[1] : undefined;\n  return {\n    type: _actionnames.add_field_control,\n    fieldInfo: fieldInfo,\n    uiConfig: uiConfig\n  };\n}\n\n/**\n * 根据实体信息添加多个控件时使用该action，避免多次渲染，提升性能\n * fieldsInfo  字段信息\n * uiConfig   元数据信息\n */\nfunction addFieldControls() {\n  var fieldsInfo = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var uiConfig = arguments.length > 1 ? arguments[1] : undefined;\n  return {\n    type: _actionnames.add_field_controls,\n    fieldsInfo: fieldsInfo,\n    uiConfig: uiConfig\n  };\n}\n\n/**\n * 删除控件\n * ctrlId    删除的控件Id\n * uiConfig  元数据信息\n */\nfunction deleteControl(ctrlId, uiConfig, deleteConfirm, model) {\n  return {\n    type: _actionnames.delete_control,\n    ctrlId: ctrlId,\n    uiConfig: uiConfig,\n    deleteConfirm: deleteConfirm,\n    model: model\n  };\n}\nfunction fetchUiMetadata(modelType, otherParams) {\n  // 获取ui控件配置文件\n  return function (dispatch) {\n    api.getUiMetadata(modelType, otherParams).then(function (json) {\n      dispatch(setUiMetadata(json));\n    })[\"catch\"](function (error) {\n      console.error(error.message, error.stack);\n      // dispatch({type:set_ui_load_error,value:error.message || error});\n    });\n  };\n}\n\n/**\n *\n * @param {*} info {type,message}\n */\nfunction throwOperateInfo(info) {\n  return {\n    type: _actionnames.throw_operate_info,\n    info: info\n  };\n}\n\n/**\n * 重设水平充满表格的宽度和高度，走updatePropValue太重了\n * @param {*} fieldId\n * @param {*} propName\n * @param {*} uiConfig\n */\nfunction resetFillWidthHeight(fieldId, propName, uiConfig) {\n  return {\n    type: _actionnames.reset_fill_wh,\n    postInfo: {\n      fieldId: fieldId,\n      propName: propName,\n      uiConfig: uiConfig\n    }\n  };\n}\nfunction switchToFlatPanel(ctrlId, uiConfig) {\n  return {\n    type: _actionnames.switch_flat_panel,\n    ctrlId: ctrlId,\n    uiConfig: uiConfig\n  };\n}\n/**\n *\n * 设计器添加uiinfo子项\n */\nfunction addUiInfoValue(propName, data) {\n  return {\n    type: _actionnames.add_uiInfo_Item,\n    propName: propName,\n    data: data\n  };\n}\n\n/**\n * 套打区选，选中控件数组\n * ctrlId  控件Id\n */\nfunction selectControlIds(selIds) {\n  return {\n    type: _actionnames.set_select_controlIds,\n    selIds: selIds\n  };\n}\n\n/**\n * 设置页面模版\n * @param {object} templateData 模版数据\n * @param {object} uiConfig\n */\nfunction applyPageTemplate(templateData, uiConfig) {\n  return {\n    type: actionNames.apply_page_template,\n    templateData: templateData,\n    uiConfig: uiConfig\n  };\n}\n\n/**\n * 设置容器类控件的模版\n * @param {*} templateData 模版数据\n * @param {*} uiConfig\n * @param {*} containerId 容器id\n * @param {*} containerType 容器类型，根据容器类型需要设置不同的属性进行适配\n */\nfunction applyContainerTemplate(templateData, uiConfig, containerId) {\n  return {\n    type: actionNames.apply_container_template,\n    templateData: templateData,\n    uiConfig: uiConfig,\n    containerId: containerId\n  };\n}\n\n/**\n * 批量修改字段信息的属性值（通过使用控件模版）。\n * @param {*} templateData 模板数据\n * @param {*} uiConfig 元数据信息\n * @param {*} controlId 选中容器id\n */\nfunction applyControlTemplate(templateData, controlId) {\n  return {\n    type: actionNames.apply_control_template,\n    templateData: templateData,\n    controlId: controlId\n  };\n}\nfunction updateUIPropValue(controlId, propertyName, value) {\n  return {\n    type: actionNames.update_ui_prop_value,\n    controlId: controlId,\n    propertyName: propertyName,\n    value: value\n  };\n}\nfunction addTempFragment(controlId, tempFragmentData) {\n  return {\n    type: actionNames.add_template_fragment,\n    controlId: controlId,\n    tempFragmentData: tempFragmentData\n  };\n}\nfunction refreshAllControls() {\n  return {\n    type: actionNames.refresh_all_controls\n  };\n}\n\n// 添加实体信息\nfunction addEntityInfo(entityInfo) {\n  return {\n    type: actionNames.add_entity_info,\n    entityInfo: entityInfo\n  };\n}\n\n//# sourceURL=webpack://bos-platform/./src/designer/action/index.js?");

/***/ }),

/***/ "./src/designer/component/Collapse.jsx":
/*!*********************************************!*\
  !*** ./src/designer/component/Collapse.jsx ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _propTypes = _interopRequireDefault(__webpack_require__(/*! prop-types */ \"../../node_modules/prop-types/index.js\"));\nvar _classnames3 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _Collapse2 = _interopRequireDefault(__webpack_require__(/*! ./Collapse.less */ \"./src/designer/component/Collapse.less\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar Collapse = /*#__PURE__*/function (_React$Component) {\n  _inherits(Collapse, _React$Component);\n  function Collapse(props) {\n    var _this;\n    _classCallCheck(this, Collapse);\n    _this = _callSuper(this, Collapse, [props]);\n    _this.state = {\n      expand: true\n    };\n    _this.onClick = _this.onClick.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  _createClass(Collapse, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      var expand = this.state.expand;\n      // 节点本身没有发生变化，且折叠无法发生变化，不刷新自己点\n      if (expand === false && expand === nextState.expand) return false;\n      return true;\n    }\n  }, {\n    key: \"onClick\",\n    value: function onClick() {\n      this.setState({\n        expand: !this.state.expand\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n        style = _this$props.style,\n        title = _this$props.title;\n      var expand = this.state.expand;\n      var titleClassName = (0, _classnames3[\"default\"])(_defineProperty(_defineProperty({}, _Collapse2[\"default\"].header, true), _Collapse2[\"default\"].expand, !expand));\n      var contentClassName = (0, _classnames3[\"default\"])(_defineProperty(_defineProperty({}, _Collapse2[\"default\"].content, true), _Collapse2[\"default\"].active, expand));\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _Collapse2[\"default\"].root,\n        style: style\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: titleClassName,\n        onClick: this.onClick\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n        className: _Collapse2[\"default\"].title\n      }, title), /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n        className: _Collapse2[\"default\"].icon\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n        className: \"kdfont kdfont-bottom\"\n      }))), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: contentClassName\n      }, this.props.children));\n    }\n  }]);\n  return Collapse;\n}(_react[\"default\"].Component);\nCollapse.propTypes = {\n  title: _propTypes[\"default\"].string\n};\nvar _default = exports[\"default\"] = Collapse;\n\n//# sourceURL=webpack://bos-platform/./src/designer/component/Collapse.jsx?");

/***/ }),

/***/ "./src/designer/component/Dialog.jsx":
/*!*******************************************!*\
  !*** ./src/designer/component/Dialog.jsx ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _propTypes = _interopRequireDefault(__webpack_require__(/*! prop-types */ \"../../node_modules/prop-types/index.js\"));\nvar _reactDom = _interopRequireDefault(__webpack_require__(/*! react-dom */ \"webpack/sharing/consume/default/react-dom/react-dom?418d\"));\nvar _classnames = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nvar _Dialog2 = _interopRequireDefault(__webpack_require__(/*! ./Dialog.less */ \"./src/designer/component/Dialog.less\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar nof = function nof() {};\nvar Dialog = exports[\"default\"] = /*#__PURE__*/function (_Component) {\n  _inherits(Dialog, _Component);\n  function Dialog(props) {\n    var _this;\n    _classCallCheck(this, Dialog);\n    _this = _callSuper(this, Dialog, [props]);\n    _this.onKeyUp = _this.onKeyUp.bind(_assertThisInitialized(_this));\n    _this.onClose = _this.onClose.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  _createClass(Dialog, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      document.addEventListener('keyup', this.onKeyUp);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      document.removeEventListener('keyup', this.onKeyUp);\n    }\n  }, {\n    key: \"onKeyUp\",\n    value: function onKeyUp(e) {\n      if (this.props.closable && e.keyCode === 27) {\n        this.onClose(e);\n      }\n    }\n  }, {\n    key: \"onClose\",\n    value: function onClose(e) {\n      this.props.onClose(e);\n    }\n  }, {\n    key: \"renderTitle\",\n    value: function renderTitle() {\n      var title = this.props.title;\n      if (typeof title === 'function') {\n        return title();\n      } else if (typeof title === 'boolean' || typeof title === 'string') {\n        return title && /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n          className: (0, _classnames[\"default\"])(_Dialog2[\"default\"]['title'])\n        }, title || '');\n      }\n      return title;\n    }\n  }, {\n    key: \"renderFooter\",\n    value: function renderFooter() {\n      var footer = this.props.footer;\n      if (typeof footer === 'function') {\n        return footer();\n      } else if (typeof footer === 'boolean') {\n        var _this$props = this.props,\n          onOk = _this$props.onOk,\n          onCancel = _this$props.onCancel;\n        return footer && /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n          className: (0, _classnames[\"default\"])(_Dialog2[\"default\"]['toolbar'])\n        }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n          className: (0, _classnames[\"default\"])(_Dialog2[\"default\"]['btn']),\n          onClick: onOk\n        }, (0, _intlApi.getLangMsg)('bosd.dialog.key0001')), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n          className: (0, _classnames[\"default\"])(_Dialog2[\"default\"]['btn']),\n          onClick: onCancel\n        }, (0, _intlApi.getLangMsg)('bosd.dialog.key0002')));\n      }\n      return footer;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var closable = this.props.closable;\n      return /*#__PURE__*/_reactDom[\"default\"].createPortal( /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: (0, _classnames[\"default\"])(_Dialog2[\"default\"]['overlay'])\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: (0, _classnames[\"default\"])(_Dialog2[\"default\"]['dialog'])\n      }, closable && /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n        className: (0, _classnames[\"default\"])(_Dialog2[\"default\"]['close']),\n        onClick: this.onClose\n      }, \"\\xD7\"), this.renderTitle(), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        style: {\n          flexGrow: 1\n        }\n      }, this.props.children), this.renderFooter())), document.body);\n    }\n  }]);\n  return Dialog;\n}(_react.Component);\nDialog.propTypes = {\n  title: _propTypes[\"default\"].any,\n  // function bool string element\n  footer: _propTypes[\"default\"].any,\n  // function bool string element\n  closable: _propTypes[\"default\"].bool,\n  // 是否显示关闭窗体按钮\n  onClose: _propTypes[\"default\"].func,\n  // 关闭按钮事件\n  onOk: _propTypes[\"default\"].func,\n  // 底部菜单确定按钮事件\n  onCancel: _propTypes[\"default\"].func // 底部菜单取消事件\n};\nDialog.defaultProps = {\n  title: true,\n  footer: true,\n  closable: true,\n  onClose: nof\n};\n\n//# sourceURL=webpack://bos-platform/./src/designer/component/Dialog.jsx?");

/***/ }),

/***/ "./src/designer/component/TabView.jsx":
/*!********************************************!*\
  !*** ./src/designer/component/TabView.jsx ***!
  \********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = exports.TabPanel = void 0;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _classnames3 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _TabView = _interopRequireDefault(__webpack_require__(/*! ./TabView.less */ \"./src/designer/component/TabView.less\"));\nvar _GlobalDataCacher = __webpack_require__(/*! ../../model/GlobalDataCacher */ \"./src/model/GlobalDataCacher.js\");\nvar _symbolConst = __webpack_require__(/*! ../../constant/symbolConst */ \"./src/constant/symbolConst.js\");\nvar _formservice = _interopRequireDefault(__webpack_require__(/*! @/api/formservice */ \"./src/api/formservice.js\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar TabView = /*#__PURE__*/function (_React$Component) {\n  _inherits(TabView, _React$Component);\n  function TabView(props) {\n    var _this;\n    _classCallCheck(this, TabView);\n    _this = _callSuper(this, TabView, [props]);\n    _this.state = {\n      hoverKey: '',\n      activeKey: props.defaultActiveKey || props.activeKey\n    };\n    return _this;\n  }\n  _createClass(TabView, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      if (this.props.activeKey != nextProps.activeKey && nextProps.activeKey != this.state.activeKey) {\n        this.setState({\n          activeKey: nextProps.activeKey\n        });\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n      // 打开方案设置面板时需要自动切换到属性栏的业务页签\n      this.removeTemplateSchemeListener = (0, _GlobalDataCacher.addDataChangeListener)(_symbolConst.KEY_OPEN_TEMPLATE_SCHEME, function () {\n        if (_this2.props.name === 'propertyViewer' && _this2.state.activeKey !== 'scheme') {\n          _this2.setState({\n            activeKey: 'scheme'\n          });\n        }\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.removeTemplateSchemeListener && this.removeTemplateSchemeListener();\n    }\n  }, {\n    key: \"getActiveKey\",\n    value: function getActiveKey(props, state) {\n      var activeKey = state.activeKey;\n      var children = props.children;\n      var keys = [];\n      if (children) {\n        children.forEach(function (child, index) {\n          if (!child) return;\n          var key = child.key + '';\n          keys.push(key || index);\n        });\n      }\n      if (_lodash[\"default\"].indexOf(keys, activeKey) === -1) {\n        return keys[0];\n      }\n      return activeKey;\n    }\n  }, {\n    key: \"onTabClick\",\n    value: function onTabClick(e, key, title) {\n      var _this3 = this;\n      var designerType = this.props.designerType;\n      e.stopPropagation();\n      if (key === 'fragments' && ['MobileBillFormModel', 'MobileFormAp', 'MobileBillFormAp'].includes(designerType)) {\n        if (!(0, _GlobalDataCacher.getData)(_symbolConst.KEY_FRAGMENT_DATA)) {\n          var url = 'metatemplate/getFragmentTemplates.do?tempFragmentType=' + designerType;\n          url = \"\".concat(url, \"&random=\").concat(Math.random());\n          _formservice[\"default\"].postApi(url).then(function (data) {\n            (0, _GlobalDataCacher.setData)(_symbolConst.KEY_FRAGMENT_DATA, (0, _immutable.fromJS)(data));\n          })[\"catch\"](function (error) {\n            console.log(error);\n          });\n        }\n      }\n      this.setState({\n        activeKey: key\n      }, function () {\n        if (_this3.props.onChange) {\n          _this3.props.onChange(key, title);\n        }\n      });\n    }\n  }, {\n    key: \"onTabMouseEnter\",\n    value: function onTabMouseEnter(key) {\n      this.setState({\n        hoverKey: key\n      });\n    }\n  }, {\n    key: \"onTabMouseLeave\",\n    value: function onTabMouseLeave() {\n      this.setState({\n        hoverKey: ''\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n      var _this$props = this.props,\n        children = _this$props.children,\n        style = _this$props.style,\n        className = _this$props.className;\n      var activeKey = this.getActiveKey(this.props, this.state);\n      var rootCN = (0, _classnames3[\"default\"])(_defineProperty(_defineProperty({}, _TabView[\"default\"].root, true), className, className));\n      var tabs = [];\n      var panels = [];\n      if (children) {\n        children.forEach(function (child, index) {\n          if (!child) return;\n          var key = child.key + '' || index;\n          var title = child.props.title;\n          var tab = child.props.tab;\n          var selTab = child.props.selTab;\n          var isSelected = activeKey === key;\n          var liClassName = isSelected ? _TabView[\"default\"].active : '';\n          var tabControl = isSelected ? selTab : tab;\n          var isHover = _this4.state.hoverKey === key;\n          if (isHover) {\n            tabControl = selTab;\n          }\n          tabControl = tabControl || title;\n          tabs.push( /*#__PURE__*/_react[\"default\"].createElement(\"li\", {\n            key: 'title_' + key,\n            className: liClassName,\n            title: title,\n            onClick: function onClick(e) {\n              return _this4.onTabClick(e, key, title);\n            },\n            onMouseEnter: function onMouseEnter() {\n              return _this4.onTabMouseEnter(key);\n            },\n            onMouseLeave: function onMouseLeave() {\n              return _this4.onTabMouseLeave();\n            }\n          }, tabControl));\n          panels.push( /*#__PURE__*/_react[\"default\"].cloneElement(child, {\n            isSelected: isSelected\n          }));\n        });\n      }\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: rootCN,\n        style: style\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"ul\", {\n        className: _TabView[\"default\"].bar\n      }, tabs), panels);\n    }\n  }]);\n  return TabView;\n}(_react[\"default\"].Component);\nvar _default = exports[\"default\"] = TabView;\nvar TabPanel = exports.TabPanel = /*#__PURE__*/function (_React$Component2) {\n  _inherits(TabPanel, _React$Component2);\n  function TabPanel(props) {\n    _classCallCheck(this, TabPanel);\n    return _callSuper(this, TabPanel, [props]);\n  }\n  _createClass(TabPanel, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps) {\n      if (this.props.isSelected === nextProps.isSelected && nextProps.isSelected === false) return false;\n      return true;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var isSelected = this.props.isSelected;\n      var className = (0, _classnames3[\"default\"])(_defineProperty(_defineProperty({}, _TabView[\"default\"].panel, true), _TabView[\"default\"].hidden, !isSelected));\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: className\n      }, this.props.children);\n    }\n  }]);\n  return TabPanel;\n}(_react[\"default\"].Component);\n\n//# sourceURL=webpack://bos-platform/./src/designer/component/TabView.jsx?");

/***/ }),

/***/ "./src/designer/component/Tree.jsx":
/*!*****************************************!*\
  !*** ./src/designer/component/Tree.jsx ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = exports.TreeNode = void 0;\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _classnames5 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _Tree = _interopRequireDefault(__webpack_require__(/*! ./Tree.less */ \"./src/designer/component/Tree.less\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar Tree = /*#__PURE__*/function (_Component) {\n  _inherits(Tree, _Component);\n  function Tree(props) {\n    _classCallCheck(this, Tree);\n    return _callSuper(this, Tree, [props]);\n  }\n  _createClass(Tree, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n        onSelect = _this$props.onSelect,\n        _this$props$selectedI = _this$props.selectedIds,\n        selectedIds = _this$props$selectedI === void 0 ? [] : _this$props$selectedI,\n        children = _this$props.children,\n        className = _this$props.className,\n        style = _this$props.style,\n        isPackUpAll = _this$props.isPackUpAll,\n        isExpandAll = _this$props.isExpandAll,\n        handleChildExpandChange = _this$props.handleChildExpandChange,\n        handleChildPackUpChange = _this$props.handleChildPackUpChange;\n      var treeNodes = [];\n      if (children) {\n        _react[\"default\"].Children.forEach(children, function (child) {\n          treeNodes.push( /*#__PURE__*/_react[\"default\"].cloneElement(child, {\n            onSelect: onSelect,\n            selectedIds: selectedIds,\n            isPackUpAll: isPackUpAll,\n            isExpandAll: isExpandAll,\n            handleChildExpandChange: handleChildExpandChange,\n            handleChildPackUpChange: handleChildPackUpChange\n          }));\n        });\n      }\n      var rootClassName = (0, _classnames5[\"default\"])(_defineProperty(_defineProperty({}, _Tree[\"default\"].tree, true), className, className));\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: rootClassName,\n        style: style\n      }, treeNodes);\n    }\n  }]);\n  return Tree;\n}(_react.Component);\nvar _default = exports[\"default\"] = Tree;\nvar TreeNode = exports.TreeNode = /*#__PURE__*/function (_Component2) {\n  _inherits(TreeNode, _Component2);\n  function TreeNode(props) {\n    var _this;\n    _classCallCheck(this, TreeNode);\n    _this = _callSuper(this, TreeNode, [props]);\n    _this.state = {\n      expand: props.expand\n    };\n    _this.onExpand = _this.onExpand.bind(_assertThisInitialized(_this));\n    _this.onSelect = _this.onSelect.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  _createClass(TreeNode, [{\n    key: \"isExpand\",\n    value: function isExpand(props) {\n      var selectedIds = props.selectedIds,\n        children = props.children;\n      var flag = false;\n      var loop = function loop(p) {\n        children = p.children;\n        _lodash[\"default\"].forEach(children, function (child) {\n          if (_lodash[\"default\"].indexOf(selectedIds, child.props.id) >= 0) {\n            flag = true;\n            return false;\n          }\n          loop(child.props);\n        });\n      };\n      loop(props);\n      return flag;\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      if (!this.state.expand && this.isExpand(nextProps) || nextProps.isExpandAll) {\n        // 点击设计器页面中的控件，展开树，也会改变收起所有状态\n        if (this.props.isPackUpAll) {\n          this.props.handleChildPackUpChange && this.props.handleChildPackUpChange();\n        }\n        this.setState({\n          expand: true\n        });\n      } else if (!this.state.expand && this.props.isPackUpAll) {\n        this.props.handleChildPackUpChange && this.props.handleChildPackUpChange();\n      } else if (nextProps.isPackUpAll) {\n        this.setState({\n          expand: false\n        });\n      }\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      var expand = this.state.expand;\n      var _this$props2 = this.props,\n        key = _this$props2.key,\n        id = _this$props2.id,\n        title = _this$props2.title,\n        value = _this$props2.value,\n        icon = _this$props2.icon,\n        selectedIds = _this$props2.selectedIds,\n        _this$props2$children = _this$props2.children,\n        children = _this$props2$children === void 0 ? [] : _this$props2$children;\n      var nextChildren = nextProps.children || [];\n\n      // 如果当前节点有变化， 就刷新\n      if (key != nextProps.key || id != nextProps.id || title != nextProps.title || value != nextProps.value || icon != nextProps.icon) return true;\n      if (_lodash[\"default\"].indexOf(selectedIds, id) === -1 && _lodash[\"default\"].indexOf(nextProps.selectedIds, id) >= 0) return true;\n      if (_lodash[\"default\"].indexOf(selectedIds, id) >= 0 && _lodash[\"default\"].indexOf(nextProps.selectedIds, id) === -1) return true;\n\n      // 数量由无到有或由有到无，需要重新刷新来刷新折叠图标\n      if (children.length === 0 && nextChildren.length > 0 || children.length > 0 && nextChildren.length === 0) return true;\n\n      // 节点树展开所有，收起所有\n      if (this.props.isExpandAll !== nextProps.isExpandAll) return true;\n      if (this.props.isPackUpAll !== nextProps.isPackUpAll) return true;\n\n      // 节点本身没有发生变化，且折叠无法发生变化，不刷新\n      if (expand === false && expand === nextState.expand) return false;\n\n      // 如果有子节点数量不同，刷新\n      if (children.length != nextChildren.length) return true;\n      // 如果无子节点，上面已经都判断来了，这里也用不刷新了\n      if (nextChildren.length === 0) return false;\n\n      // 如果有子节点，且是打开状态，就需要都刷新\n      return true;\n    }\n  }, {\n    key: \"onExpand\",\n    value: function onExpand(e) {\n      e.stopPropagation();\n      var expand = !this.state.expand;\n      // 子节点收起，设置展开全部收起全部为false\n      if (!expand) {\n        this.props.handleChildPackUpChange && this.props.handleChildPackUpChange();\n        this.props.handleChildExpandChange && this.props.handleChildExpandChange();\n      }\n      this.setState({\n        expand: expand\n      });\n    }\n  }, {\n    key: \"onSelect\",\n    value: function onSelect(e) {\n      e.stopPropagation();\n      var _this$props3 = this.props,\n        id = _this$props3.id,\n        title = _this$props3.title,\n        value = _this$props3.value,\n        icon = _this$props3.icon,\n        onSelect = _this$props3.onSelect;\n      if (onSelect) {\n        onSelect(e, {\n          id: id,\n          title: title,\n          value: value,\n          icon: icon\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props4 = this.props,\n        style = _this$props4.style,\n        className = _this$props4.className,\n        children = _this$props4.children,\n        id = _this$props4.id,\n        title = _this$props4.title,\n        icon = _this$props4.icon,\n        onSelect = _this$props4.onSelect,\n        selectedIds = _this$props4.selectedIds,\n        isPackUpAll = _this$props4.isPackUpAll,\n        isExpandAll = _this$props4.isExpandAll,\n        handleChildExpandChange = _this$props4.handleChildExpandChange,\n        handleChildPackUpChange = _this$props4.handleChildPackUpChange;\n      var expand = this.state.expand;\n      var isExpand = isExpandAll || expand;\n      var titleClassName = (0, _classnames5[\"default\"])(_defineProperty(_defineProperty(_defineProperty({}, _Tree[\"default\"].title, true), _Tree[\"default\"]['title-padding'], !children), className, className));\n      var switcherClassName = (0, _classnames5[\"default\"])({\n        kdfont: true,\n        'kdfont-shouqi': isExpand,\n        'kdfont-unfolded-s': !isExpand\n      });\n      var textClassName = (0, _classnames5[\"default\"])(_defineProperty(_defineProperty({}, _Tree[\"default\"].text, true), _Tree[\"default\"]['node-selected'], _lodash[\"default\"].indexOf(selectedIds, id) !== -1));\n      var childClassName = (0, _classnames5[\"default\"])(_defineProperty(_defineProperty({}, _Tree[\"default\"].content, true), _Tree[\"default\"].hidden, !isExpand || !children));\n      var treeNodes = [];\n      if (children) {\n        _react[\"default\"].Children.forEach(children, function (child) {\n          treeNodes.push( /*#__PURE__*/_react[\"default\"].cloneElement(child, {\n            onSelect: onSelect,\n            selectedIds: selectedIds,\n            isPackUpAll: isPackUpAll,\n            isExpandAll: isExpandAll,\n            handleChildExpandChange: handleChildExpandChange,\n            handleChildPackUpChange: handleChildPackUpChange\n          }));\n        });\n      }\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _Tree[\"default\"]['tree-node']\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: titleClassName,\n        style: style,\n        onClick: this.onSelect\n      }, children ? /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n        className: _Tree[\"default\"].switcher,\n        onClick: this.onExpand\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n        className: switcherClassName\n      })) : null, icon ? /*#__PURE__*/_react[\"default\"].createElement(\"img\", {\n        className: _Tree[\"default\"].icon,\n        src: icon\n      }) : null, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n        className: textClassName\n      }, title)), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: childClassName\n      }, treeNodes));\n    }\n  }]);\n  return TreeNode;\n}(_react.Component);\n\n//# sourceURL=webpack://bos-platform/./src/designer/component/Tree.jsx?");

/***/ }),

/***/ "./src/designer/constant/actionnames.js":
/*!**********************************************!*\
  !*** ./src/designer/constant/actionnames.js ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.update_ui_prop_value = exports.update_prop_value = exports.undo_ui_info_and_push_undo = exports.undo_ui_info = exports.throw_operate_info = exports.switch_flat_panel = exports.set_ui_metadata = exports.set_ui_loading = exports.set_ui_load_error = exports.set_ui_info = exports.set_select_controlIds = exports.set_refresh_ctrl_ids = exports.set_format_info = exports.select_control_id = exports.reset_fill_wh = exports.refresh_all_controls = exports.redo_ui_info = exports.push_undo = exports.paste_control_style = exports.paste_control = exports.notify_message = exports.moveto_control = exports.move_control = exports.max_win = exports.dragover_control = exports.delete_control = exports.current_edit_mode = exports.copy_control = exports.copy_and_add = exports.convert_appmodelfunction = exports.clear_dirty_data = exports.apply_page_template = exports.apply_control_template = exports.apply_container_template = exports.add_uiInfo_Item = exports.add_template_fragment = exports.add_field_controls = exports.add_field_control = exports.add_entity_info = exports.add_control = void 0;\nvar current_edit_mode = exports.current_edit_mode = 'current_edit_mode';\nvar set_ui_metadata = exports.set_ui_metadata = 'set_ui_metadata';\nvar set_ui_info = exports.set_ui_info = 'set_ui_info';\nvar select_control_id = exports.select_control_id = 'select_control_id';\nvar copy_and_add = exports.copy_and_add = 'copy_and_add'; // 复制新增控件\nvar add_control = exports.add_control = 'add_control';\nvar add_field_control = exports.add_field_control = 'add_field_control'; // 基于实体字段创建的ui控件\nvar add_field_controls = exports.add_field_controls = 'add_field_controls';\nvar delete_control = exports.delete_control = 'delete_control';\nvar move_control = exports.move_control = 'move_control';\nvar set_ui_loading = exports.set_ui_loading = 'set_ui_loading';\nvar set_ui_load_error = exports.set_ui_load_error = 'set_ui_load_error';\nvar update_prop_value = exports.update_prop_value = 'update_prop_value';\nvar notify_message = exports.notify_message = 'notify_message'; // 发送各种消息到状态消息栏\nvar copy_control = exports.copy_control = 'copy_control'; // 复制控件\nvar paste_control = exports.paste_control = 'paste_control'; // 粘贴控件\nvar moveto_control = exports.moveto_control = 'moveto_control'; // 粘贴控件\nvar dragover_control = exports.dragover_control = 'dragover_control'; // 拖拽悬浮\nvar max_win = exports.max_win = 'max_win'; // 全屏\nvar redo_ui_info = exports.redo_ui_info = 'redo'; // 还原撤销\nvar undo_ui_info = exports.undo_ui_info = 'undo'; // 撤销\nvar push_undo = exports.push_undo = 'push_undo'; // 撤销\nvar set_format_info = exports.set_format_info = 'set_format_info'; // 设置复制控件信息\nvar clear_dirty_data = exports.clear_dirty_data = 'clear_dirty_data'; // 清除脏数据\nvar set_refresh_ctrl_ids = exports.set_refresh_ctrl_ids = 'set_refresh_ctrl_ids'; // 设置刷新的控件id\nvar throw_operate_info = exports.throw_operate_info = 'throw_operate_info'; // 抛出操作提示 如警告、提示等\nvar reset_fill_wh = exports.reset_fill_wh = 'reset_fill_wh'; // 重设水平纵向充满宽高\nvar switch_flat_panel = exports.switch_flat_panel = 'switch_flat_panel'; // 表格分录切换到平铺视图\nvar add_uiInfo_Item = exports.add_uiInfo_Item = 'add_uiInfo_Item'; // uiInfo添加信息\nvar set_select_controlIds = exports.set_select_controlIds = 'setSelectControlIds'; // 套打设计器鼠标区选添加选中控件数组\nvar apply_page_template = exports.apply_page_template = 'apply_page_template'; // 设置页面模版\nvar apply_container_template = exports.apply_container_template = 'apply_container_template'; // 设置容器模版\nvar apply_control_template = exports.apply_control_template = 'apply_control_template'; // 设置控件模版\nvar update_ui_prop_value = exports.update_ui_prop_value = 'update_ui_prop_value'; // 更改ui中的属性值\nvar add_template_fragment = exports.add_template_fragment = 'add_template_fragment'; // 添加模板片段\nvar convert_appmodelfunction = exports.convert_appmodelfunction = 'convert_appmodelfunction'; // 负载是函数执行之后修改store值\nvar undo_ui_info_and_push_undo = exports.undo_ui_info_and_push_undo = 'undo_ui_info_and_push_undo'; // 去掉之前的undo再录入当前的uiInfo进入undo\nvar refresh_all_controls = exports.refresh_all_controls = 'refresh_all_controls'; // 刷新所有控件\nvar add_entity_info = exports.add_entity_info = 'add_entity_info'; // 添加实体\nvar paste_control_style = exports.paste_control_style = 'paste_control_style'; // 粘贴样式\n\n//# sourceURL=webpack://bos-platform/./src/designer/constant/actionnames.js?");

/***/ }),

/***/ "./src/designer/constant/paperSize.js":
/*!********************************************!*\
  !*** ./src/designer/constant/paperSize.js ***!
  \********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.PageSizeEnum = void 0;\nvar PageSizeEnum = exports.PageSizeEnum = {\n  'na-letter': {\n    width: '215.9mm',\n    height: '279.4mm'\n  },\n  'tabloid': {\n    width: '279.4mm',\n    height: '431.8mm'\n  },\n  'na-legal': {\n    width: '215.9mm',\n    height: '355.6mm'\n  },\n  'executive': {\n    width: '184.1mm',\n    height: '266.7mm'\n  },\n  'A3': {\n    width: '297mm',\n    height: '420mm'\n  },\n  'A4': {\n    width: '210mm',\n    height: '297mm'\n  },\n  'iso-a5': {\n    width: '148mm',\n    height: '210mm'\n  },\n  'iso-b4': {\n    width: '257mm',\n    height: '364mm'\n  },\n  'B5': {\n    width: '182mm',\n    height: '257mm'\n  },\n  'na-number-10-envelope': {\n    width: '104.8mm',\n    height: '241.3mm'\n  },\n  'monarch-envelope': {\n    width: '984mm',\n    height: '190.5mm'\n  },\n  'Prc16KRotated': {\n    width: '184mm',\n    height: '260mm'\n  },\n  'Prc32KRotated': {\n    width: '130mm',\n    height: '184mm'\n  },\n  'Prc32KBigRotated': {\n    width: '140mm',\n    height: '203mm'\n  },\n  'KP-J101': {\n    width: '140mm',\n    height: '210mm'\n  },\n  'KP-J102': {\n    width: '140mm',\n    height: '240mm'\n  },\n  'KP-J103': {\n    width: '120mm',\n    height: '240mm'\n  },\n  'KP-J104': {\n    width: '140mm',\n    height: '222mm'\n  },\n  'KP-J105': {\n    width: '140mm',\n    height: '241mm'\n  },\n  'KP-J106': {\n    width: '114mm',\n    height: '241mm'\n  },\n  'KP-J107': {\n    width: '114.3mm',\n    height: '241mm'\n  },\n  'KP-J108': {\n    width: '203mm',\n    height: '312mm'\n  },\n  'KP-J109': {\n    width: '254mm',\n    height: '372mm'\n  }\n};\n\n//# sourceURL=webpack://bos-platform/./src/designer/constant/paperSize.js?");

/***/ }),

/***/ "./src/designer/editors/BtneditPropertyEditor.jsx":
/*!********************************************************!*\
  !*** ./src/designer/editors/BtneditPropertyEditor.jsx ***!
  \********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-properties.js */ \"../../node_modules/core-js/modules/es.object.define-properties.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptors.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _classnames5 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _LabelContainer = _interopRequireWildcard(__webpack_require__(/*! ./common/LabelContainer */ \"./src/designer/editors/common/LabelContainer.jsx\"));\nvar _EditorWarpper = _interopRequireDefault(__webpack_require__(/*! ./common/EditorWarpper */ \"./src/designer/editors/common/EditorWarpper.jsx\"));\nvar _common = _interopRequireDefault(__webpack_require__(/*! ./common/common.less */ \"./src/designer/editors/common/common.less\"));\nvar _BtneditPropertyEditor = _interopRequireDefault(__webpack_require__(/*! ./BtneditPropertyEditor.less */ \"./src/designer/editors/BtneditPropertyEditor.less\"));\nvar _designerContext = __webpack_require__(/*! ../controls/common/designerContext */ \"./src/designer/controls/common/designerContext.js\");\nvar _propnames = __webpack_require__(/*! @/designer/constant/propnames.js */ \"./src/designer/constant/propnames.js\");\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar BtneditPropertyEditorOld = /*#__PURE__*/function (_Component) {\n  _inherits(BtneditPropertyEditorOld, _Component);\n  function BtneditPropertyEditorOld(props) {\n    var _this;\n    _classCallCheck(this, BtneditPropertyEditorOld);\n    _this = _callSuper(this, BtneditPropertyEditorOld, [props]);\n    _this.onClear = _this.onClear.bind(_assertThisInitialized(_this));\n    _this.onChange = _this.onChange.bind(_assertThisInitialized(_this));\n    _this.onClick = _this.onClick.bind(_assertThisInitialized(_this));\n    _this.getPropertyAliasValue = _this.getPropertyAliasValue.bind(_assertThisInitialized(_this));\n    _this.delayUpdateValue = _lodash[\"default\"].debounce(_this.props.updatePropValue, 200);\n    _this.state = {\n      value: props.getPropertyValue()\n    };\n    return _this;\n  }\n  _createClass(BtneditPropertyEditorOld, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      this.setState({\n        value: nextProps.getPropertyValue()\n      });\n    }\n  }, {\n    key: \"onClear\",\n    value: function onClear(event) {\n      event && event.stopPropagation();\n      var prop = this.props.prop;\n      var defaultValue = prop.getIn(['Editor', 'default']);\n      this.props.updatePropValue(defaultValue && '');\n    }\n  }, {\n    key: \"onChange\",\n    value: function onChange() {\n      var value = this.refs.input.value;\n      this.setState({\n        value: value\n      });\n      this.delayUpdateValue(value);\n    }\n  }, {\n    key: \"onClick\",\n    value: function onClick(e) {\n      if (this.props.onClick) {\n        this.props.onClick(e);\n      }\n    }\n  }, {\n    key: \"getPropertyAliasValue\",\n    value: function getPropertyAliasValue() {\n      var _this$props = this.props,\n        uiInfo = _this$props.uiInfo,\n        field = _this$props.field,\n        prop = _this$props.prop,\n        itemId = _this$props.itemId,\n        metaType = _this$props.metaType;\n      var fieldName = prop.get('name');\n      var value = this.props.getPropertyValue();\n      if (value == null) return value;\n      var aliasCtx = this.context.alias;\n      var aliasObj = aliasCtx && aliasCtx.getIn([itemId, metaType, fieldName]);\n      if (aliasObj == null) {\n        return this.props.getPropertyAliasValue(uiInfo, field, prop);\n      }\n      var aliasValue = aliasCtx.getIn([itemId, metaType, fieldName, 'value']) || '';\n      value = value && value.toJS ? value.toJS() : value;\n      aliasValue = aliasValue && aliasValue.toJS ? aliasValue.toJS() : aliasValue;\n      // 如果再取不到别名, 前端可以考虑如下处理: BT-00261891\n      // const aliasValueName = aliasCtx.getIn([itemId, metaType, fieldName, 'alias'])\n      // if(_.isEqual(value, aliasValue) && aliasValueName) {}\n      if (_lodash[\"default\"].isEqual(value, aliasValue)) {\n        return aliasCtx.getIn([itemId, metaType, fieldName, 'alias']) || value;\n      } else {\n        value = this.props.getPropertyAliasValue(uiInfo, field, prop);\n      }\n      return value;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var prop = this.props.prop;\n      var propEditor = prop.get('Editor');\n      var maxlength = propEditor.get('length');\n      var editable = propEditor.get('editable', false);\n      var isAlias = propEditor.get('alias', false);\n      var isRequired = propEditor.get('required', false);\n      var inputProps = {};\n      if (editable === true) {\n        inputProps.maxLength = maxlength;\n        inputProps.onChange = this.onChange;\n        inputProps.value = this.state.value;\n      } else {\n        inputProps.readOnly = true;\n        if (isAlias === false) {\n          inputProps.value = this.props.getPropertyValue();\n        } else {\n          inputProps.value = this.getPropertyAliasValue();\n        }\n      }\n      inputProps.value = inputProps.value || '';\n      if (inputProps.value.toJS) {\n        inputProps.value = inputProps.value.toJS();\n      }\n      if (_typeof(inputProps.value) === 'object') {\n        inputProps.value = JSON.stringify(inputProps.value);\n      }\n      var editDisableAndNotRequired = !editable && !isRequired;\n      var rootClassName = (0, _classnames5[\"default\"])(_common[\"default\"].mixinscontrol, _defineProperty({}, _BtneditPropertyEditor[\"default\"].root, editDisableAndNotRequired));\n      return /*#__PURE__*/_react[\"default\"].createElement(_LabelContainer[\"default\"], (0, _LabelContainer.getLabelContainerProps)(prop, 'Btn'), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: rootClassName\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"input\", _extends({\n        ref: \"input\",\n        type: \"text\"\n      }, inputProps)), editDisableAndNotRequired && !!inputProps.value && /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n        className: _BtneditPropertyEditor[\"default\"].clear,\n        onClick: this.onClear\n      }, \"\\xD7\"), /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n        className: _common[\"default\"].btn,\n        onClick: this.onClick\n      }, \"...\")));\n    }\n  }]);\n  return BtneditPropertyEditorOld;\n}(_react.Component);\nBtneditPropertyEditorOld.contextType = _designerContext.PropertyViewerContext;\nvar BtneditPropertyEditor = function BtneditPropertyEditor(_ref) {\n  var prop = _ref.prop,\n    uiInfo = _ref.uiInfo,\n    field = _ref.field,\n    itemId = _ref.itemId,\n    metaType = _ref.metaType,\n    onClick = _ref.onClick,\n    getPropertyValue = _ref.getPropertyValue,\n    updatePropValue = _ref.updatePropValue,\n    getPropertyAliasValue = _ref.getPropertyAliasValue;\n  var _initValue = getPropertyValue();\n  var context = (0, _react.useContext)(_designerContext.PropertyViewerContext);\n  var aliasCtx = context.alias,\n    inherit = context.inherit;\n  var _useState = (0, _react.useState)(_initValue),\n    _useState2 = _slicedToArray(_useState, 2),\n    value = _useState2[0],\n    setValue = _useState2[1];\n  var _useState3 = (0, _react.useState)({}),\n    _useState4 = _slicedToArray(_useState3, 2),\n    inputProps = _useState4[0],\n    setInputProps = _useState4[1];\n  var _useState5 = (0, _react.useState)(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    disabled = _useState6[0],\n    setDisabled = _useState6[1];\n  var isFocused = (0, _react.useRef)(false);\n  var propEditor = prop.get('Editor');\n  var maxlength = propEditor.get('length');\n  var editable = propEditor.get('editable', false);\n  var isAlias = propEditor.get('alias', false);\n  var isEmptyDisplay = propEditor.get('emptyDisplay', false);\n  var isRequired = propEditor.get('required', false);\n  var btnName = propEditor.get('btnName', '');\n  var name = prop.get('name');\n  (0, _react.useEffect)(function () {\n    var changedValue = getPropertyValue();\n    setValue(changedValue);\n    if (!editable && value && changedValue && value !== changedValue && name !== 'JSPlugins') {\n      delayUpdateValue(changedValue);\n    }\n  }, [getPropertyValue, value, editable, name]);\n  (0, _react.useEffect)(function () {\n    var _disabled = prop.get('ReadOnly');\n    setDisabled(_disabled);\n  }, [prop]);\n  var delayUpdateValue = _lodash[\"default\"].debounce(updatePropValue, 200);\n  var inputRef = (0, _react.useRef)(null);\n  var onClear = (0, _react.useCallback)(function (event) {\n    event && event.stopPropagation();\n    var defaultValue = prop.getIn(['Editor', 'default']);\n    updatePropValue(defaultValue && '');\n  }, [prop, updatePropValue]);\n  var onChange = (0, _react.useCallback)(function () {\n    var value = inputRef.current.value;\n    setInputProps(function (oldProp) {\n      return _objectSpread(_objectSpread({}, oldProp), {}, {\n        value: value\n      });\n    });\n  }, [inputRef.current]);\n  var handleFocus = (0, _react.useCallback)(function () {\n    var _inputRef$current;\n    if ((_inputRef$current = inputRef.current) !== null && _inputRef$current !== void 0 && _inputRef$current.readOnly) return;\n    isFocused.current = true;\n  }, []);\n  var handleBlur = (0, _react.useCallback)(function () {\n    var _inputRef$current2;\n    // 如果输入框禁止输入，则不应该触发，有别名的场景，如果触发则会把别名也带到后端\n    if ((_inputRef$current2 = inputRef.current) !== null && _inputRef$current2 !== void 0 && _inputRef$current2.readOnly) return;\n    isFocused.current = false;\n    var value = inputRef.current.value;\n    updatePropValue(value);\n  }, [inputRef.current]);\n\n  // locktype=speciallock时，按钮允许点击弹出弹窗查看属性内容\n  var disableBtn = disabled && prop.get('LockType') !== _propnames.LOCK_TYPE.SPECIALLOCK;\n  var _onClick = (0, _react.useCallback)(function () {\n    return !disableBtn && onClick && onClick();\n  }, [onClick, disabled]);\n  var _getPropertyAliasValue = (0, _react.useCallback)(function (isEmptyDisplay) {\n    var fieldName = prop.get('name');\n    var _value = getPropertyValue();\n    if (_value == null && !isEmptyDisplay) return _value;\n    var aliasObj = aliasCtx && aliasCtx.getIn([itemId, metaType, fieldName]);\n    if (aliasObj == null) {\n      return getPropertyAliasValue(uiInfo, field, prop);\n    }\n    // 这里不能为空 -> 回退，可以为空\n    var aliasValue = aliasCtx.getIn([itemId, metaType, fieldName, 'value']); // || ''\n    // 如果为true则不走该逻辑\n    if (!isEmptyDisplay) {\n      aliasValue = aliasValue || '';\n    }\n    _value = _value && _value.toJS ? _value.toJS() : _value;\n    aliasValue = aliasValue && aliasValue.toJS ? aliasValue.toJS() : aliasValue;\n    if (_lodash[\"default\"].isEqual(_value, aliasValue)) {\n      /**\n       * 如果切换值后, alias没写入缓存, 此时获取到的alias一直是undefined\n       * 若alias为undefined, 则会默认取value\n       * 导致值更新的时候, 不会向后端发送getPropertyAlias请求\n       * 问题如上, 修改方案如下:\n       * 如果alias为undefined, 尝试发起一次请求; 若请求后alias仍然不是有效值, 则取value\n      */\n      var tempAlias = aliasCtx.getIn([itemId, metaType, fieldName, 'alias']);\n      if (!tempAlias) {\n        _value = getPropertyAliasValue(uiInfo, field, prop) || _value;\n      } else {\n        _value = tempAlias;\n      }\n    } else {\n      _value = getPropertyAliasValue(uiInfo, field, prop);\n    }\n    return _value;\n  }, [prop.hashCode(), aliasCtx.hashCode(), itemId, metaType]);\n  (0, _react.useEffect)(function () {\n    var _inputProps = {};\n    if (editable) {\n      _inputProps.maxLength = maxlength;\n      _inputProps.onChange = onChange;\n      if (isAlias && (value || isEmptyDisplay)) {\n        _inputProps.value = _getPropertyAliasValue(isEmptyDisplay);\n        _inputProps.value = _inputProps.value || value;\n      } else {\n        _inputProps.value = value;\n      }\n    } else {\n      _inputProps.readOnly = true;\n      _inputProps.onChange = onChange;\n      if (isAlias === false || !value) {\n        _inputProps.value = getPropertyValue();\n      } else {\n        _inputProps.value = _getPropertyAliasValue(isEmptyDisplay);\n      }\n    }\n    _inputProps.value = _inputProps.value || '';\n    if (_inputProps.value.toJS) {\n      _inputProps.value = _inputProps.value.toJS();\n    }\n    if (_typeof(_inputProps.value) === 'object') {\n      _inputProps.value = JSON.stringify(_inputProps.value);\n    }\n    setInputProps(_inputProps);\n  }, [editable, isAlias, value, _getPropertyAliasValue, isEmptyDisplay]);\n  (0, _react.useEffect)(function () {\n    /**\n     * 后端新值和alias一起发过来，此时比较alias变化，强刷\n     */\n    var fieldName = prop.get('name');\n    var newAliasValue = aliasCtx.getIn([itemId, metaType, fieldName, 'alias']);\n    if (!isFocused.current && isAlias && newAliasValue && value && value != newAliasValue) {\n      setInputProps(function (oldProp) {\n        return _objectSpread(_objectSpread({}, oldProp), {}, {\n          value: newAliasValue\n        });\n      });\n    }\n  }, [aliasCtx.hashCode(), itemId, metaType]);\n  var editDisableAndNotRequired = !editable && !isRequired;\n  var isSpecialLock = prop.get('LockType') === _propnames.LOCK_TYPE.SPECIALLOCK;\n  // 显示清空按钮的条件：非禁用&&非必录&&有值&&非speciallock\n  var showClearBtn = !disabled && editDisableAndNotRequired && !!inputProps.value && !isSpecialLock;\n  var rootClassName = (0, _classnames5[\"default\"])(_common[\"default\"].mixinscontrol, _defineProperty(_defineProperty({}, _BtneditPropertyEditor[\"default\"].root, editDisableAndNotRequired), _BtneditPropertyEditor[\"default\"].btnEditDisabled, disabled));\n  var disableInput = disabled || isSpecialLock;\n  var inputClass = (0, _classnames5[\"default\"])(_defineProperty({}, _common[\"default\"]['input-disabled'], disableInput));\n  var btnClass = (0, _classnames5[\"default\"])(_defineProperty(_defineProperty({}, _common[\"default\"].btn, true), _common[\"default\"].disabled, disableBtn));\n  return /*#__PURE__*/_react[\"default\"].createElement(_LabelContainer[\"default\"], (0, _LabelContainer.getLabelContainerProps)(prop, 'Btn'), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: rootClassName\n  }, btnName ? /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: _BtneditPropertyEditor[\"default\"].btnName,\n    onClick: _onClick\n  }, btnName) : /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, null, /*#__PURE__*/_react[\"default\"].createElement(\"input\", _extends({\n    disabled: disableInput,\n    ref: inputRef,\n    type: \"text\",\n    className: inputClass\n  }, inputProps, {\n    onFocus: handleFocus,\n    onBlur: handleBlur\n  })), showClearBtn && /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: _BtneditPropertyEditor[\"default\"].clear,\n    onClick: onClear\n  }, \"\\xD7\"), /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: btnClass,\n    onClick: _onClick\n  }, \"...\"))));\n};\nvar _default = exports[\"default\"] = (0, _EditorWarpper[\"default\"])(BtneditPropertyEditor);\n\n//# sourceURL=webpack://bos-platform/./src/designer/editors/BtneditPropertyEditor.jsx?");

/***/ }),

/***/ "./src/designer/editors/CheckboxPropertyEditor.jsx":
/*!*********************************************************!*\
  !*** ./src/designer/editors/CheckboxPropertyEditor.jsx ***!
  \*********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _Switch = _interopRequireDefault(__webpack_require__(/*! ../../component/web/base/Switch */ \"./src/component/web/base/Switch.js\"));\nvar _LabelContainer = _interopRequireWildcard(__webpack_require__(/*! ./common/LabelContainer */ \"./src/designer/editors/common/LabelContainer.jsx\"));\nvar _EditorWarpper = _interopRequireDefault(__webpack_require__(/*! ./common/EditorWarpper */ \"./src/designer/editors/common/EditorWarpper.jsx\"));\nvar _designerContext = __webpack_require__(/*! ../controls/common/designerContext */ \"./src/designer/controls/common/designerContext.js\");\nvar _model = __webpack_require__(/*! ../model */ \"./src/designer/model/index.js\");\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar CheckboxPropertyEditor = /*#__PURE__*/function (_Component) {\n  _inherits(CheckboxPropertyEditor, _Component);\n  function CheckboxPropertyEditor(props) {\n    var _this;\n    _classCallCheck(this, CheckboxPropertyEditor);\n    _this = _callSuper(this, CheckboxPropertyEditor, [props]);\n    _this.onChange = _this.onChange.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  _createClass(CheckboxPropertyEditor, [{\n    key: \"onChange\",\n    value: function onChange(value) {\n      this.props.updatePropValue(!value);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      var _this$props = this.props,\n        prop = _this$props.prop,\n        selection = _this$props.select_control_ids,\n        activeControlId = _this$props.select_control_id,\n        uiInfo = _this$props.uiInfo,\n        metaType = _this$props.metaType,\n        uiConfig = _this$props.uiConfig;\n      var value = !!this.props.getPropertyValue();\n      if (selection.size > 1 && this.props.getPropertyValue() === '') {\n        // 开关属性值不同，显示最后选中的控件值\n        value = _model.uiModel.getPropertyValue(uiInfo, activeControlId, prop, metaType, uiConfig);\n      }\n      var disabled = prop.get('ReadOnly');\n      var _props = {\n        disabled: disabled,\n        onClick: function onClick() {\n          return !disabled && _this2.onChange(value);\n        },\n        style: disabled ? {\n          cursor: 'not-allowed'\n        } : {}\n      };\n      return /*#__PURE__*/_react[\"default\"].createElement(_LabelContainer[\"default\"], (0, _LabelContainer.getLabelContainerProps)(prop, 'Checkbox'), /*#__PURE__*/_react[\"default\"].createElement(_Switch[\"default\"], _extends({\n        value: value,\n        size: 2\n      }, _props)));\n    }\n  }]);\n  return CheckboxPropertyEditor;\n}(_react.Component);\nCheckboxPropertyEditor.contextType = _designerContext.PropertyViewerContext;\nvar _default = exports[\"default\"] = (0, _EditorWarpper[\"default\"])(CheckboxPropertyEditor);\n\n//# sourceURL=webpack://bos-platform/./src/designer/editors/CheckboxPropertyEditor.jsx?");

/***/ }),

/***/ "./src/designer/editors/ColorPropertyEditor.jsx":
/*!******************************************************!*\
  !*** ./src/designer/editors/ColorPropertyEditor.jsx ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.parse-float.js */ \"../../node_modules/core-js/modules/es.parse-float.js\");\n__webpack_require__(/*! core-js/modules/es.parse-int.js */ \"../../node_modules/core-js/modules/es.parse-int.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.match.js */ \"../../node_modules/core-js/modules/es.string.match.js\");\n__webpack_require__(/*! core-js/modules/es.string.repeat.js */ \"../../node_modules/core-js/modules/es.string.repeat.js\");\n__webpack_require__(/*! core-js/modules/es.string.replace.js */ \"../../node_modules/core-js/modules/es.string.replace.js\");\n__webpack_require__(/*! core-js/modules/es.string.starts-with.js */ \"../../node_modules/core-js/modules/es.string.starts-with.js\");\n__webpack_require__(/*! core-js/modules/es.string.trim.js */ \"../../node_modules/core-js/modules/es.string.trim.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _ColorPicker = _interopRequireDefault(__webpack_require__(/*! ./common/ColorPicker */ \"./src/designer/editors/common/ColorPicker.jsx\"));\nvar _common = _interopRequireDefault(__webpack_require__(/*! ./common/common.less */ \"./src/designer/editors/common/common.less\"));\nvar _LabelContainer = _interopRequireWildcard(__webpack_require__(/*! ./common/LabelContainer */ \"./src/designer/editors/common/LabelContainer.jsx\"));\nvar _EditorWarpper = _interopRequireDefault(__webpack_require__(/*! ./common/EditorWarpper */ \"./src/designer/editors/common/EditorWarpper.jsx\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar ColorPropertyEditor = /*#__PURE__*/function (_Component) {\n  _inherits(ColorPropertyEditor, _Component);\n  function ColorPropertyEditor(props) {\n    var _this;\n    _classCallCheck(this, ColorPropertyEditor);\n    _this = _callSuper(this, ColorPropertyEditor, [props]);\n    _this.handleChangeComplete = _this.handleChangeComplete.bind(_assertThisInitialized(_this));\n    _this.handleChangeInput = _this.handleChangeInput.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  _createClass(ColorPropertyEditor, [{\n    key: \"handleChangeComplete\",\n    value: function handleChangeComplete(color) {\n      var alpha = color.alpha;\n      color = color.color;\n      if (color === 'themeColor' && alpha != 100) {\n        color = \"themeColor|\".concat(alpha);\n        this.props.updatePropValue(color);\n        return;\n      }\n      if (alpha !== 100) {\n        var pattern = /^#[0-9a-fA-F]{3}$/;\n        var r, g, b;\n        if (color.match(pattern)) {\n          r = parseInt('0x' + _lodash[\"default\"].repeat(color.slice(1, 2), 2));\n          g = parseInt('0x' + _lodash[\"default\"].repeat(color.slice(2, 3), 2));\n          b = parseInt('0x' + _lodash[\"default\"].repeat(color.slice(3, 4), 2));\n        } else {\n          r = parseInt('0x' + color.slice(1, 3));\n          g = parseInt('0x' + color.slice(3, 5));\n          b = parseInt('0x' + color.slice(5, 7));\n        }\n        color = \"rgba(\".concat(r, \",\").concat(g, \",\").concat(b, \",\").concat(alpha / 100, \")\");\n      }\n      this.props.updatePropValue(color);\n    }\n  }, {\n    key: \"handleChangeInput\",\n    value: function handleChangeInput(e) {\n      this.props.updatePropValue(e.target.value);\n    }\n  }, {\n    key: \"getColor\",\n    value: function getColor(colorValue) {\n      var color = '#ffffff';\n      var alpha = 100;\n      var tempReg = /^themeColor/;\n      if (tempReg.test(colorValue)) {\n        var temp = colorValue.split('|');\n        color = temp[0];\n        alpha = Number(temp[1]) || 100;\n        return {\n          color: color,\n          alpha: alpha\n        };\n      }\n      colorValue = _lodash[\"default\"].trim(colorValue).toLowerCase();\n      // let color='#ffffff',alpha=100;\n      if (_lodash[\"default\"].startsWith(colorValue, '#')) {\n        color = colorValue;\n      } else {\n        var rRgba = /rgba?\\((\\d{1,3}),(\\d{1,3}),(\\d{1,3})(,([.\\d]+))?\\)/;\n        var r;\n        var g;\n        var b;\n        var a;\n        var rsa = colorValue.replace(/\\s+/g, '').match(rRgba);\n        if (rsa) {\n          r = parseInt(rsa[1]).toString(16);\n          r = r.length == 1 ? '0' + r : r;\n          g = parseInt(rsa[2]).toString(16);\n          g = g.length == 1 ? '0' + g : g;\n          b = parseInt(rsa[3]).toString(16);\n          b = b.length == 1 ? '0' + b : b;\n          a = parseFloat(rsa[5]);\n          color = '#' + r + g + b;\n          alpha = isNaN(a) ? 100 : parseInt(a * 100);\n        }\n      }\n      return {\n        color: color,\n        alpha: alpha\n      };\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var prop = this.props.prop;\n      var pv = this.props.getPropertyValue();\n      var color = this.getColor(pv);\n      return /*#__PURE__*/_react[\"default\"].createElement(_LabelContainer[\"default\"], (0, _LabelContainer.getLabelContainerProps)(prop, 'Color'), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _common[\"default\"].mixinscontrol\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"input\", {\n        ref: \"input\",\n        type: \"text\",\n        value: pv || '',\n        onChange: this.handleChangeInput\n      }), /*#__PURE__*/_react[\"default\"].createElement(_ColorPicker[\"default\"], {\n        animation: \"slide-up\",\n        placement: \"bottomRight\",\n        color: color.color,\n        alpha: color.alpha,\n        defaultColor: \"#ffffff\",\n        onChange: this.handleChangeComplete\n      })));\n    }\n  }]);\n  return ColorPropertyEditor;\n}(_react.Component);\nvar _default = exports[\"default\"] = (0, _EditorWarpper[\"default\"])(ColorPropertyEditor);\n\n//# sourceURL=webpack://bos-platform/./src/designer/editors/ColorPropertyEditor.jsx?");

/***/ }),

/***/ "./src/designer/editors/ComboPropertyEditor.jsx":
/*!******************************************************!*\
  !*** ./src/designer/editors/ComboPropertyEditor.jsx ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.find.js */ \"../../node_modules/core-js/modules/es.array.find.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.is.js */ \"../../node_modules/core-js/modules/es.object.is.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _Select = _interopRequireWildcard(__webpack_require__(/*! ./common/Select */ \"./src/designer/editors/common/Select.jsx\"));\nvar _common = _interopRequireDefault(__webpack_require__(/*! ./common/common.less */ \"./src/designer/editors/common/common.less\"));\nvar _LabelContainer = _interopRequireWildcard(__webpack_require__(/*! ./common/LabelContainer */ \"./src/designer/editors/common/LabelContainer.jsx\"));\nvar _EditorWarpper = _interopRequireDefault(__webpack_require__(/*! ./common/EditorWarpper */ \"./src/designer/editors/common/EditorWarpper.jsx\"));\nvar _propnames = __webpack_require__(/*! ../../designer/constant/propnames */ \"./src/designer/constant/propnames.js\");\nvar _DialogPicker = _interopRequireDefault(__webpack_require__(/*! ./common/DialogPicker */ \"./src/designer/editors/common/DialogPicker.jsx\"));\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nvar _ComboPropertyEditor = _interopRequireDefault(__webpack_require__(/*! @/designer/editors/ComboPropertyEditor.less */ \"./src/designer/editors/ComboPropertyEditor.less\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar DEFAULT = 'Default';\nvar FIELD_PROPERTY_FILTER = {\n  FieldStyle: _defineProperty({\n    /**\n     * 字段风格\n     * -1:默认; 0:下划线; 1:标签; 2:边框; 3:问卷\n     * RadioGroupField: 单选按钮组\n     */\n    RadioGroupField: [-1, 1, 3]\n  }, DEFAULT, [-1, 0, 1, 2]),\n  ComboShowType: _defineProperty({\n    /**\n     * 下拉风格\n     * 0:默认风格; 1:气泡风格; 2:筛选风格\n     * ComboField: 下拉列表\n     * MulComboField: 多选下拉列表\n     * RadioOptGroupField: 单选\n     */\n    ComboField: [0, 1, 2, 3],\n    RadioOptGroupField: [0, 1, 2],\n    MulComboField: [0, 2, 3]\n  }, DEFAULT, [0, 2])\n};\nvar ComboPropertyEditor = /*#__PURE__*/function (_Component) {\n  _inherits(ComboPropertyEditor, _Component);\n  function ComboPropertyEditor(props) {\n    var _this;\n    _classCallCheck(this, ComboPropertyEditor);\n    _this = _callSuper(this, ComboPropertyEditor, [props]);\n    _this.state = {\n      valueIsNum: false,\n      showDg: false\n    };\n    _this.onChange = _this.onChange.bind(_assertThisInitialized(_this));\n    _this.showOrHiddenDialog = _this.showOrHiddenDialog.bind(_assertThisInitialized(_this));\n    _this.onChangeInDialog = _this.onChangeInDialog.bind(_assertThisInitialized(_this));\n    _this.setValueType = _this.setValueType.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  _createClass(ComboPropertyEditor, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.setValueType(this.props);\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      this.setValueType(nextProps);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.value = null;\n      this.isHaveDialog = null;\n    }\n  }, {\n    key: \"setValueType\",\n    value: function setValueType(props) {\n      var _ref = props || this.props,\n        prop = _ref.prop;\n      var items = prop.getIn(['Editor', 'items'], (0, _immutable.List)());\n      this.isHaveDialog = !!prop.get('ShowDialog', false);\n      if (items.size === 0) return;\n      var item = items.get(0);\n      var val = item.get('id');\n      this.setState({\n        valueIsNum: _lodash[\"default\"].isNumber(val)\n      });\n    }\n  }, {\n    key: \"onChange\",\n    value: function onChange(value) {\n      if (this.state.valueIsNum) {\n        value = _lodash[\"default\"].parseInt(value);\n      }\n      this.value = value;\n      // 有弹窗内容则onChange时打开弹窗\n      this.isHaveDialog && this.showOrHiddenDialog();\n      // 不需要弹窗则onChange时更新值\n      !this.isHaveDialog && this.props.updatePropValue(value);\n    }\n\n    /**\n    * 显示or隐藏对话框\n    */\n  }, {\n    key: \"showOrHiddenDialog\",\n    value: function showOrHiddenDialog() {\n      this.setState({\n        showDg: !this.state.showDg\n      });\n    }\n  }, {\n    key: \"onChangeInDialog\",\n    value: function onChangeInDialog() {\n      this.showOrHiddenDialog();\n      var _this$props = this.props,\n        prop = _this$props.prop,\n        uiConfig = _this$props.uiConfig,\n        metaType = _this$props.metaType,\n        field = _this$props.field;\n      var propName = prop.get('name');\n      /**\n       * 移动表格切换数据源类型时，清空移动表格列的字段映射\n       */\n      if (Object.is(field.get(_propnames.TYPE), 'MobTableAp') && Object.is(propName, 'MobTableType')) {\n        this.props.resetMobTypeField(field, metaType, uiConfig);\n      }\n\n      // 更新下拉框的值\n      this.props.updatePropValue(this.value);\n    }\n  }, {\n    key: \"createDialog\",\n    value: function createDialog() {\n      var prop = this.props.prop;\n      var showDialog = prop.get('ShowDialog');\n      var content = showDialog && showDialog.get('dialogContent') || '';\n      return /*#__PURE__*/_react[\"default\"].createElement(_DialogPicker[\"default\"], {\n        handleClose: this.showOrHiddenDialog,\n        handleOk: this.onChangeInDialog,\n        title: (0, _intlApi.getLangMsg)('bosd.comboPropertyEditor.key0001'),\n        content: content\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n        prop = _this$props2.prop,\n        field = _this$props2.field;\n      var items = prop.getIn(['Editor', 'items'], (0, _immutable.List)()).toJS();\n      var readOnly = prop.getIn(['Editor', 'readonly']);\n      var proValue = this.props.getPropertyValue() + '';\n      var control;\n      if (readOnly == true) {\n        var selItem = items.find(function (item) {\n          var value = item.id + '';\n          return proValue == value;\n        });\n        var itemName = selItem.name;\n        control = /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n          className: _common[\"default\"].readonly,\n          title: itemName\n        }, itemName);\n      } else {\n        var propertyName = prop.get('name');\n        var fieldType = field.get(_propnames.FieldType);\n        var idList = FIELD_PROPERTY_FILTER[propertyName] && (FIELD_PROPERTY_FILTER[propertyName][fieldType] || FIELD_PROPERTY_FILTER[propertyName][DEFAULT]);\n        idList && (items = items.filter(function (item) {\n          return idList.includes(item.id);\n        }));\n        var disabled = prop.get('ReadOnly');\n        control = /*#__PURE__*/_react[\"default\"].createElement(_Select[\"default\"], {\n          className: disabled ? _common[\"default\"]['select-disabled'] : '',\n          disabled: disabled,\n          style: {\n            flexGrow: 1\n          },\n          value: proValue,\n          showSearch: false,\n          animation: \"slide-up\",\n          choiceTransitionName: \"rc-select-selection__choice-zoom\",\n          optionFilterProp: \"children\",\n          optionLabelProp: \"children\",\n          placeholder: (0, _intlApi.getLangMsg)('bosd.comboPropertyEditor.key0002'),\n          dropdownMenuStyle: {\n            maxHeight: 200,\n            overflow: 'auto'\n          },\n          onChange: this.onChange\n        }, _lodash[\"default\"].map(items, function (item, index) {\n          return /*#__PURE__*/_react[\"default\"].createElement(_Select.Option, {\n            key: index,\n            value: item.id + ''\n          }, item.name);\n        }));\n      }\n      return /*#__PURE__*/_react[\"default\"].createElement(_LabelContainer[\"default\"], _extends({}, (0, _LabelContainer.getLabelContainerProps)(prop, 'Combo'), {\n        containerClassName: _ComboPropertyEditor[\"default\"].comboPropertyOverHidden\n      }), control, this.state.showDg ? this.createDialog() : null);\n    }\n  }]);\n  return ComboPropertyEditor;\n}(_react.Component);\nvar _default = exports[\"default\"] = (0, _EditorWarpper[\"default\"])(ComboPropertyEditor);\n\n//# sourceURL=webpack://bos-platform/./src/designer/editors/ComboPropertyEditor.jsx?");

/***/ }),

/***/ "./src/designer/editors/CustomPropertyEditor.jsx":
/*!*******************************************************!*\
  !*** ./src/designer/editors/CustomPropertyEditor.jsx ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _propTypes = _interopRequireDefault(__webpack_require__(/*! prop-types */ \"../../node_modules/prop-types/index.js\"));\nvar _classnames2 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _LabelContainer = _interopRequireWildcard(__webpack_require__(/*! ./common/LabelContainer */ \"./src/designer/editors/common/LabelContainer.jsx\"));\nvar _EditorWarpper = _interopRequireDefault(__webpack_require__(/*! ./common/EditorWarpper */ \"./src/designer/editors/common/EditorWarpper.jsx\"));\nvar CustomProp = _interopRequireWildcard(__webpack_require__(/*! ./custom */ \"./src/designer/editors/custom/index.js\"));\nvar customPropFactory = _interopRequireWildcard(__webpack_require__(/*! ./custom/customPropFactory */ \"./src/designer/editors/custom/customPropFactory.js\"));\nvar _common = _interopRequireDefault(__webpack_require__(/*! ./common/common.less */ \"./src/designer/editors/common/common.less\"));\nvar _CustomPropertyEditor = _interopRequireDefault(__webpack_require__(/*! ./CustomPropertyEditor.less */ \"./src/designer/editors/CustomPropertyEditor.less\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar CustomPropertyEditor = /*#__PURE__*/function (_Component) {\n  _inherits(CustomPropertyEditor, _Component);\n  function CustomPropertyEditor(props) {\n    var _this;\n    _classCallCheck(this, CustomPropertyEditor);\n    _this = _callSuper(this, CustomPropertyEditor, [props]);\n    _this.state = {\n      open: false\n    };\n    _this.onShow = _this.onShow.bind(_assertThisInitialized(_this));\n    _this.onHide = _this.onHide.bind(_assertThisInitialized(_this));\n    _this.onClear = _this.onClear.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  _createClass(CustomPropertyEditor, [{\n    key: \"onClear\",\n    value: function onClear(e) {\n      e.stopPropagation();\n      var prop = this.props.prop;\n      var defaultValue = prop.getIn(['Editor', 'default']);\n      this.props.updatePropValue(defaultValue && '');\n    }\n  }, {\n    key: \"onShow\",\n    value: function onShow(e) {\n      this.setState({\n        open: true\n      });\n    }\n  }, {\n    key: \"onHide\",\n    value: function onHide(e) {\n      this.setState({\n        open: false\n      });\n    }\n  }, {\n    key: \"renderPage\",\n    value: function renderPage() {\n      if (!this.state.open) return null;\n      var _this$props = this.props,\n        field = _this$props.field,\n        prop = _this$props.prop,\n        uiInfo = _this$props.uiInfo,\n        uiConfig = _this$props.uiConfig;\n      var customPropName = prop.getIn(['Editor', 'CustomPropName']);\n      var CustomPage = customPropFactory.createCustomProp(customPropName);\n      if (!CustomPage) return null;\n      return /*#__PURE__*/_react[\"default\"].createElement(CustomPage, _extends({}, this.props, {\n        onDialogClose: this.onHide\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n        field = _this$props2.field,\n        prop = _this$props2.prop,\n        uiInfo = _this$props2.uiInfo,\n        uiConfig = _this$props2.uiConfig;\n      var value = this.props.getPropertyValue() || '';\n      if (value && value.toJS) {\n        value = value.toJS();\n      }\n      if (_typeof(value) === 'object') {\n        value = JSON.stringify(value);\n      }\n      var rootClassName = (0, _classnames2[\"default\"])(_common[\"default\"].mixinscontrol, _defineProperty({}, _CustomPropertyEditor[\"default\"]['root'], true));\n      return /*#__PURE__*/_react[\"default\"].createElement(_LabelContainer[\"default\"], (0, _LabelContainer.getLabelContainerProps)(prop, 'Custom'), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: rootClassName\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"input\", {\n        type: \"text\",\n        value: value,\n        readOnly: true\n      }), /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n        className: _CustomPropertyEditor[\"default\"]['clear'],\n        onClick: this.onClear\n      }, \"\\xD7\"), /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n        className: _common[\"default\"].btn,\n        onClick: this.onShow\n      }, \"...\"), this.renderPage()));\n    }\n  }]);\n  return CustomPropertyEditor;\n}(_react.Component);\nvar _default = exports[\"default\"] = (0, _EditorWarpper[\"default\"])(CustomPropertyEditor);\n\n//# sourceURL=webpack://bos-platform/./src/designer/editors/CustomPropertyEditor.jsx?");

/***/ }),

/***/ "./src/designer/editors/DateRangePropertyEditor.jsx":
/*!**********************************************************!*\
  !*** ./src/designer/editors/DateRangePropertyEditor.jsx ***!
  \**********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _LabelContainer = _interopRequireWildcard(__webpack_require__(/*! ./common/LabelContainer */ \"./src/designer/editors/common/LabelContainer.jsx\"));\nvar _EditorWarpper = _interopRequireDefault(__webpack_require__(/*! ./common/EditorWarpper */ \"./src/designer/editors/common/EditorWarpper.jsx\"));\nvar _DateRangeField = _interopRequireDefault(__webpack_require__(/*! ../../component/web/baseField/DateRangeField */ \"./src/component/web/baseField/DateRangeField.jsx\"));\nvar _common = _interopRequireDefault(__webpack_require__(/*! ./common/common.less */ \"./src/designer/editors/common/common.less\"));\nvar _classnames2 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar DateRangePropertyEditor = /*#__PURE__*/function (_Component) {\n  _inherits(DateRangePropertyEditor, _Component);\n  function DateRangePropertyEditor(props) {\n    var _this;\n    _classCallCheck(this, DateRangePropertyEditor);\n    _this = _callSuper(this, DateRangePropertyEditor, [props]);\n    _this.onChange = function (value) {\n      _this.props.updatePropValue(value);\n    };\n    _this.state = {\n      value: _this.props.getPropertyValue()\n    };\n    return _this;\n  }\n  _createClass(DateRangePropertyEditor, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      var value = nextProps.getPropertyValue();\n      this.setState({\n        value: value\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props$uiInfo;\n      var prop = this.props.prop;\n      var value = this.state.value;\n      var disabled = prop.get('ReadOnly');\n      var booxClass = (0, _classnames2[\"default\"])(_defineProperty(_defineProperty(_defineProperty({}, _common[\"default\"].input, true), _common[\"default\"].daterange, true), _common[\"default\"].disabled, disabled));\n      var localeCode = (_this$props$uiInfo = this.props.uiInfo) === null || _this$props$uiInfo === void 0 ? void 0 : _this$props$uiInfo.get('language');\n      return /*#__PURE__*/_react[\"default\"].createElement(_LabelContainer[\"default\"], (0, _LabelContainer.getLabelContainerProps)(prop, 'DateRange'), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: booxClass\n      }, /*#__PURE__*/_react[\"default\"].createElement(_DateRangeField[\"default\"], {\n        disabled: disabled,\n        value: value,\n        type: \"daterange\",\n        style: {\n          height: '18px',\n          lineHeight: '18px'\n        },\n        inputProps: {\n          style: {\n            fontSize: '12px',\n            color: '#666'\n          }\n        },\n        localeCode: localeCode,\n        onChange: this.onChange,\n        splitChar: \",\"\n      })));\n    }\n  }]);\n  return DateRangePropertyEditor;\n}(_react.Component);\nvar _default = exports[\"default\"] = (0, _EditorWarpper[\"default\"])(DateRangePropertyEditor);\n\n//# sourceURL=webpack://bos-platform/./src/designer/editors/DateRangePropertyEditor.jsx?");

/***/ }),

/***/ "./src/designer/editors/DefaultPropEditor.jsx":
/*!****************************************************!*\
  !*** ./src/designer/editors/DefaultPropEditor.jsx ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _common = _interopRequireDefault(__webpack_require__(/*! ./common/common.less */ \"./src/designer/editors/common/common.less\"));\nvar _LabelContainer = _interopRequireWildcard(__webpack_require__(/*! ./common/LabelContainer */ \"./src/designer/editors/common/LabelContainer.jsx\"));\nvar _EditorWarpper = _interopRequireDefault(__webpack_require__(/*! ./common/EditorWarpper */ \"./src/designer/editors/common/EditorWarpper.jsx\"));\nvar _classnames2 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar DefaultPropEditor = /*#__PURE__*/function (_Component) {\n  _inherits(DefaultPropEditor, _Component);\n  function DefaultPropEditor(props) {\n    var _this;\n    _classCallCheck(this, DefaultPropEditor);\n    _this = _callSuper(this, DefaultPropEditor, [props]);\n    _this.handleChange = function (e) {\n      _this.setState({\n        value: e.target.value\n      });\n    };\n    _this.handleBlur = function (e) {\n      var value = e.target.value;\n      _this.props.updatePropValue(value);\n    };\n    _this.state = {\n      value: props.getPropertyValue() || ''\n    };\n    return _this;\n  }\n  _createClass(DefaultPropEditor, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      var nextValue = nextProps.getPropertyValue() || '';\n      if (this.state.value !== nextValue) {\n        this.setState({\n          value: nextValue\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var prop = this.props.prop;\n      var propEditor = prop.get('Editor');\n      var inputType = propEditor && propEditor.get('type') == 'integer' ? 'number' : 'text';\n      var disabled = prop.get('ReadOnly');\n      var inputClass = (0, _classnames2[\"default\"])(_defineProperty(_defineProperty({}, _common[\"default\"].input, true), _common[\"default\"].disabled, disabled));\n      return /*#__PURE__*/_react[\"default\"].createElement(_LabelContainer[\"default\"], (0, _LabelContainer.getLabelContainerProps)(prop, 'Default'), /*#__PURE__*/_react[\"default\"].createElement(\"input\", {\n        disabled: disabled,\n        className: inputClass,\n        ref: \"input\",\n        type: inputType,\n        value: this.state.value,\n        onChange: this.handleChange,\n        onBlur: this.handleBlur\n      }));\n    }\n  }]);\n  return DefaultPropEditor;\n}(_react.Component);\nvar _default = exports[\"default\"] = (0, _EditorWarpper[\"default\"])(DefaultPropEditor);\n\n//# sourceURL=webpack://bos-platform/./src/designer/editors/DefaultPropEditor.jsx?");

/***/ }),

/***/ "./src/designer/editors/DimensionPropertyEditor.jsx":
/*!**********************************************************!*\
  !*** ./src/designer/editors/DimensionPropertyEditor.jsx ***!
  \**********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.find.js */ \"../../node_modules/core-js/modules/es.array.find.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.string.ends-with.js */ \"../../node_modules/core-js/modules/es.string.ends-with.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\n__webpack_require__(/*! core-js/modules/es.string.split.js */ \"../../node_modules/core-js/modules/es.string.split.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _common = _interopRequireDefault(__webpack_require__(/*! ./common/common.less */ \"./src/designer/editors/common/common.less\"));\nvar _LabelContainer = _interopRequireWildcard(__webpack_require__(/*! ./common/LabelContainer */ \"./src/designer/editors/common/LabelContainer.jsx\"));\nvar _EditorWarpper = _interopRequireDefault(__webpack_require__(/*! ./common/EditorWarpper */ \"./src/designer/editors/common/EditorWarpper.jsx\"));\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nvar _classnames3 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar DimensionPropertyEditor = /*#__PURE__*/function (_Component) {\n  _inherits(DimensionPropertyEditor, _Component);\n  function DimensionPropertyEditor(props) {\n    var _this;\n    _classCallCheck(this, DimensionPropertyEditor);\n    _this = _callSuper(this, DimensionPropertyEditor, [props]);\n    // 如果有最小值属性, 就重置为最小值\n    _this.handleCorrectValue = function () {\n      var prop = _this.props.prop;\n      var unit = _this.state.unit;\n      var min = prop.getIn(['Editor', 'min'], undefined);\n      var value = _this.state.value;\n      var offset = '';\n      if (value && value.length && !isNaN(value[0])) {\n        offset = Number(value[0]);\n      }\n      if (!isNaN(min) && !isNaN(offset) && offset <= min) {\n        _this.updatePropValue(\"\".concat(min).concat(unit));\n      }\n    };\n    _this.state = _this.getDimensionValue(props.getPropertyValue());\n    _this.defaultUnits = (0, _immutable.List)(['', '%', 'px']);\n    _this.handleBlur = _this.handleBlur.bind(_assertThisInitialized(_this));\n    _this.handleUnitChange = _this.handleUnitChange.bind(_assertThisInitialized(_this));\n    _this.handleValueChange = _this.handleValueChange.bind(_assertThisInitialized(_this));\n    _this.handleCorrectValue = _this.handleCorrectValue.bind(_assertThisInitialized(_this));\n    _this.updatePropValue = props.updatePropValue;\n    return _this;\n  }\n  _createClass(DimensionPropertyEditor, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      var nextDimension = this.getDimensionValue(nextProps.getPropertyValue());\n      var dimension = this.state || {};\n      if (nextDimension.value != dimension.value || nextDimension.unit != dimension.unit) {\n        this.setState(nextDimension);\n      }\n    }\n  }, {\n    key: \"getUnits\",\n    value: function getUnits() {\n      var prop = this.props.prop;\n      var units = prop.getIn(['Editor', 'units'], this.defaultUnits);\n      return units;\n    }\n  }, {\n    key: \"getDimensionValue\",\n    value: function getDimensionValue(propValue) {\n      var value = '';\n      var unit = '';\n      if (_lodash[\"default\"].endsWith(propValue, '%')) {\n        value = _lodash[\"default\"].split(propValue, '%', 1);\n        unit = '%';\n      } else if (_lodash[\"default\"].endsWith(propValue, 'px')) {\n        value = _lodash[\"default\"].split(propValue, 'px', 1);\n        unit = 'px';\n      } else if (_lodash[\"default\"].endsWith(propValue, 'mm')) {\n        value = _lodash[\"default\"].split(propValue, 'mm', 1);\n        unit = 'mm';\n      }\n      return {\n        value: value,\n        unit: unit\n      };\n    }\n  }, {\n    key: \"isDefautUnit\",\n    value: function isDefautUnit(unit) {\n      return unit === '' || unit === (0, _intlApi.getLangMsg)('bosd.dimensionPropertyEditor.key0001') || unit === 'default';\n    }\n  }, {\n    key: \"handleUnitChange\",\n    value: function handleUnitChange(e) {\n      var _this2 = this;\n      var unit = this.refs.unit.value;\n      var value = this.refs.input.value;\n      if (this.isDefautUnit(unit)) {\n        this.setState({\n          value: '',\n          unit: unit\n        });\n        this.props.updatePropValue(undefined);\n      } else {\n        if (value.length === 0) {\n          this.setState({\n            value: value,\n            unit: unit\n          }, function () {\n            _this2.refs.input.focus();\n          });\n        } else {\n          this.setState({\n            value: value,\n            unit: unit\n          });\n          this.props.updatePropValue(value + unit);\n        }\n      }\n    }\n  }, {\n    key: \"handleValueChange\",\n    value: function handleValueChange(e) {\n      var _this3 = this;\n      var value = this.refs.input.value;\n      var unit = this.refs.unit.value;\n      if (this.isDefautUnit(unit)) {\n        if (value.length === 0) {\n          this.setState({\n            value: value,\n            unit: unit\n          });\n          this.updatePropValue(undefined);\n          return;\n        } else {\n          var units = this.getUnits();\n          unit = units.find(function (u) {\n            return !_this3.isDefautUnit(u) && u != '%';\n          });\n          unit = !unit && units.includes('%') ? '%' : unit;\n          unit = unit || '';\n        }\n      }\n      this.setState({\n        value: value,\n        unit: unit\n      });\n      if (value.length > 0) {\n        this.updatePropValue(value + unit);\n      }\n    }\n  }, {\n    key: \"handleBlur\",\n    value: function handleBlur() {\n      var dimension = this.state || {};\n      if (!dimension.value) {\n        if (dimension.unit) {\n          this.updatePropValue(undefined);\n        }\n      }\n      this.handleCorrectValue();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var prop = this.props.prop;\n      var _ref = this.state || {},\n        value = _ref.value,\n        unit = _ref.unit;\n      var disabled = prop.get('ReadOnly');\n      var inputClass = (0, _classnames3[\"default\"])(_defineProperty({}, _common[\"default\"].disabled, disabled));\n      var selectClass = (0, _classnames3[\"default\"])(_defineProperty(_defineProperty({}, _common[\"default\"].triger, true), _common[\"default\"].disabled, disabled));\n      return /*#__PURE__*/_react[\"default\"].createElement(_LabelContainer[\"default\"], (0, _LabelContainer.getLabelContainerProps)(prop, 'Dimension'), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _common[\"default\"].mixinscontrol\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"input\", {\n        ref: \"input\",\n        type: \"number\",\n        disabled: disabled,\n        className: inputClass,\n        value: value,\n        onChange: this.handleValueChange,\n        onBlur: this.handleBlur\n      }), /*#__PURE__*/_react[\"default\"].createElement(\"select\", {\n        ref: \"unit\",\n        disabled: disabled,\n        className: selectClass,\n        onChange: this.handleUnitChange,\n        value: unit\n      }, this.getUnits().map(function (item, index) {\n        return /*#__PURE__*/_react[\"default\"].createElement(\"option\", {\n          key: item,\n          value: item\n        }, item || (0, _intlApi.getLangMsg)('bosd.dimensionPropertyEditor.key0001'));\n      }))));\n    }\n  }]);\n  return DimensionPropertyEditor;\n}(_react.Component);\nvar _default = exports[\"default\"] = (0, _EditorWarpper[\"default\"])(DimensionPropertyEditor);\n\n//# sourceURL=webpack://bos-platform/./src/designer/editors/DimensionPropertyEditor.jsx?");

/***/ }),

/***/ "./src/designer/editors/EcomboPropertyEditor.jsx":
/*!*******************************************************!*\
  !*** ./src/designer/editors/EcomboPropertyEditor.jsx ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.find-index.js */ \"../../node_modules/core-js/modules/es.array.find-index.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _Select = _interopRequireWildcard(__webpack_require__(/*! ./common/Select */ \"./src/designer/editors/common/Select.jsx\"));\nvar _LabelContainer = _interopRequireWildcard(__webpack_require__(/*! ./common/LabelContainer */ \"./src/designer/editors/common/LabelContainer.jsx\"));\nvar _EditorWarpper = _interopRequireDefault(__webpack_require__(/*! ./common/EditorWarpper */ \"./src/designer/editors/common/EditorWarpper.jsx\"));\nvar _propnames = __webpack_require__(/*! ../constant/propnames */ \"./src/designer/constant/propnames.js\");\nvar _model = __webpack_require__(/*! ../model */ \"./src/designer/model/index.js\");\nvar _common = _interopRequireDefault(__webpack_require__(/*! ./common/common.less */ \"./src/designer/editors/common/common.less\"));\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar EcomboPropertyEditor = /*#__PURE__*/function (_Component) {\n  _inherits(EcomboPropertyEditor, _Component);\n  function EcomboPropertyEditor(props) {\n    var _this;\n    _classCallCheck(this, EcomboPropertyEditor);\n    _this = _callSuper(this, EcomboPropertyEditor, [props]);\n    _this.onChange = _this.onChange.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  _createClass(EcomboPropertyEditor, [{\n    key: \"onChange\",\n    value: function onChange(value) {\n      this.props.updatePropValue(value);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n        field = _this$props.field,\n        prop = _this$props.prop,\n        uiInfo = _this$props.uiInfo,\n        metaType = _this$props.metaType;\n      var types = prop.getIn(['Editor', 'types'], (0, _immutable.List)());\n      var scope = prop.getIn(['Editor', 'scope'], 'sibling'); // global sibling child ps(父节点的兄弟节点)\n      metaType = prop.getIn(['Editor', 'metaType']) || metaType;\n      var itemInfos = uiInfo.getIn([metaType, _propnames.ITEMS], (0, _immutable.List)());\n      var fieldId = field.get(_propnames.ID);\n      var fieldInfo, parentId, formInfo;\n      var rootId = itemInfos.getIn([0, _propnames.ID]);\n      var matchItems = (0, _immutable.List)();\n      switch (scope) {\n        case 'sibling':\n          // 查找所有兄弟节点\n          fieldId = field.get(_propnames.ID);\n          if (metaType === _propnames.ENTITYMETA) {\n            fieldInfo = _model.uiModel.getEntityFieldInfo(uiInfo, fieldId);\n            if (!fieldInfo) {\n              fieldId = _model.uiModel.getParentEntityId(uiInfo, fieldId);\n              fieldInfo = _model.uiModel.getEntityFieldInfo(uiInfo, fieldId);\n            }\n          } else {\n            fieldInfo = _model.uiModel.getFormFieldInfo(uiInfo, fieldId);\n          }\n          parentId = fieldInfo.get(_propnames.PARENTID, '');\n          rootId = itemInfos.getIn([0, _propnames.ID]);\n          parentId = parentId || rootId;\n          itemInfos = itemInfos.filter(function (item) {\n            var itemParentId = item.get(_propnames.PARENTID);\n            itemParentId = itemParentId || rootId;\n            return itemParentId === parentId;\n          });\n          break;\n        case 'child':\n          // 子节点\n          parentId = field.get(_propnames.ID);\n          rootId = itemInfos.getIn([0, _propnames.ID]);\n          itemInfos = itemInfos.filter(function (item) {\n            var itemParentId = item.get(_propnames.PARENTID) || rootId;\n            return itemParentId === parentId;\n          });\n          break;\n        case 'ps':\n          // 父节点的兄弟节点\n          fieldId = field.get(_propnames.ID);\n          rootId = itemInfos.getIn([0, _propnames.ID]);\n          formInfo = _model.uiModel.getFormFieldInfo(uiInfo, fieldId);\n          fieldInfo = metaType === _propnames.ENTITYMETA ? _model.uiModel.getEntityFieldInfo(uiInfo, fieldId) || formInfo : formInfo;\n          parentId = fieldInfo.get(_propnames.PARENTID) || rootId;\n          matchItems = (0, _immutable.List)();\n          while (fieldInfo) {\n            matchItems = matchItems.concat(itemInfos.filter(function (item) {\n              var itemParentId = item.get(_propnames.PARENTID);\n              itemParentId = itemParentId || rootId;\n              return itemParentId === parentId;\n            }));\n            if (parentId === rootId) {\n              fieldInfo = null;\n            } else {\n              fieldInfo = _model.uiModel.getFieldInfo(uiInfo, parentId, metaType) || (0, _immutable.Map)();\n              parentId = fieldInfo.get(_propnames.PARENTID) || rootId;\n            }\n          }\n          itemInfos = matchItems;\n          break;\n        default:\n          // 默认超找全部节点\n          break;\n      }\n      var optionItems = [];\n      itemInfos = itemInfos.filter(function (item) {\n        return types.contains(item.get(_propnames._TYPE_)) && item.get(_propnames.ID) !== field.get(_propnames.ID);\n      });\n      itemInfos.forEach(function (itemInfo) {\n        return optionItems.push({\n          Id: itemInfo.get(_propnames.ID),\n          Name: itemInfo.get(_propnames.NAME)\n        });\n      });\n      var defaultValue = prop.getIn(['Editor', 'default'], '');\n      var proValue = this.props.getPropertyValue();\n      var index = _lodash[\"default\"].findIndex(optionItems, function (item) {\n        return item.Id === proValue;\n      });\n      if (index === -1) {\n        proValue = '';\n      }\n      var disabled = prop.get('ReadOnly');\n      return /*#__PURE__*/_react[\"default\"].createElement(_LabelContainer[\"default\"], (0, _LabelContainer.getLabelContainerProps)(prop, 'Ecombo'), /*#__PURE__*/_react[\"default\"].createElement(_Select[\"default\"], {\n        className: disabled ? _common[\"default\"]['select-disabled'] : '',\n        disabled: disabled,\n        allowClear: !disabled,\n        style: {\n          flexGrow: 1\n        },\n        defaultValue: defaultValue,\n        value: proValue,\n        optionFilterProp: \"children\",\n        optionLabelProp: \"children\",\n        placeholder: (0, _intlApi.getLangMsg)('bosd.ecomboPropertyEditor.key0001'),\n        dropdownMenuStyle: {\n          maxHeight: 200,\n          overflow: 'auto'\n        },\n        onChange: this.onChange\n      }, optionItems.map(function (item, index) {\n        return /*#__PURE__*/_react[\"default\"].createElement(_Select.Option, {\n          key: index,\n          value: item.Id\n        }, item.Name);\n      })));\n    }\n  }]);\n  return EcomboPropertyEditor;\n}(_react.Component);\nvar _default = exports[\"default\"] = (0, _EditorWarpper[\"default\"])(EcomboPropertyEditor);\n\n//# sourceURL=webpack://bos-platform/./src/designer/editors/EcomboPropertyEditor.jsx?");

/***/ }),

/***/ "./src/designer/editors/EditcomboPropertyEditor.jsx":
/*!**********************************************************!*\
  !*** ./src/designer/editors/EditcomboPropertyEditor.jsx ***!
  \**********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.find.js */ \"../../node_modules/core-js/modules/es.array.find.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.set.js */ \"../../node_modules/core-js/modules/es.set.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _Select = _interopRequireWildcard(__webpack_require__(/*! ./common/Select */ \"./src/designer/editors/common/Select.jsx\"));\nvar _classnames2 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _EditcomboPropertyEditor2 = _interopRequireDefault(__webpack_require__(/*! ./EditcomboPropertyEditor.less */ \"./src/designer/editors/EditcomboPropertyEditor.less\"));\nvar _common = _interopRequireDefault(__webpack_require__(/*! ./common/common.less */ \"./src/designer/editors/common/common.less\"));\nvar _LabelContainer = _interopRequireWildcard(__webpack_require__(/*! ./common/LabelContainer */ \"./src/designer/editors/common/LabelContainer.jsx\"));\nvar _EditorWarpper = _interopRequireDefault(__webpack_require__(/*! ./common/EditorWarpper */ \"./src/designer/editors/common/EditorWarpper.jsx\"));\nvar _uiModelFunction = __webpack_require__(/*! @/designer/model/uiModelFunction.js */ \"./src/designer/model/uiModelFunction.js\");\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nvar _model = __webpack_require__(/*! ../model */ \"./src/designer/model/index.js\");\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toArray(arr) { return _arrayWithHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n// 属性编辑器，可编辑下拉\nvar EditcomboPropertyEditor = /*#__PURE__*/function (_Component) {\n  _inherits(EditcomboPropertyEditor, _Component);\n  function EditcomboPropertyEditor(_props) {\n    var _this$props$prop$getI;\n    var _this;\n    _classCallCheck(this, EditcomboPropertyEditor);\n    _this = _callSuper(this, EditcomboPropertyEditor, [_props]);\n    _this.getValue = function (props) {\n      // 如果不能手输，按原有的值类型输出，不再自动转换成字符串\n      if (!_this.editable) {\n        var _props$getPropertyVal;\n        return (_props$getPropertyVal = props.getPropertyValue()) !== null && _props$getPropertyVal !== void 0 ? _props$getPropertyVal : '';\n      }\n      // 如果可以手输，自动把值转成字符串\n      return props.getPropertyValue() + '';\n    };\n    _this.handleChange = function (value) {\n      _this.setState({\n        value: value\n      });\n      // 如果不能手输，change时候就改变值\n      if (!_this.editable) {\n        _this.props.updatePropValue(value);\n      }\n    };\n    _this.handleBlur = function (value) {\n      _this.props.updatePropValue(value);\n    };\n    _this.state = {\n      value: _this.getValue(_props)\n    };\n    // 是否可以手输，默认可以手输\n    _this.editable = (_this$props$prop$getI = _this.props.prop.getIn(['Editor', 'editable'])) !== null && _this$props$prop$getI !== void 0 ? _this$props$prop$getI : true;\n    return _this;\n  }\n  _createClass(EditcomboPropertyEditor, [{\n    key: \"UNSAFE_componentWillUpdate\",\n    value: function UNSAFE_componentWillUpdate(nextProps) {\n      var preValue = this.getValue(this.props);\n      var nextValue = this.getValue(nextProps);\n      if (nextValue !== preValue) {\n        this.setState({\n          value: nextValue\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n        prop = _this$props.prop,\n        field = _this$props.field,\n        selection = _this$props.select_control_ids,\n        uiInfo = _this$props.uiInfo;\n      var items = prop.getIn(['Editor', 'items'], (0, _immutable.List)()).toJS();\n      var typeKey = prop.getIn(['Editor', 'typeKey']);\n      // 返回的格式id/name，只在不允许手输时生效，允许手输入时始终返回name\n      var returnDataKey = this.editable ? 'name' : prop.getIn(['Editor', 'returnData']);\n      if ((selection === null || selection === void 0 ? void 0 : selection.size) > 1) {\n        var fieldTypes = selection.map(function (fieldId) {\n          var _getUIFieldInfo;\n          return (_getUIFieldInfo = (0, _uiModelFunction.getUIFieldInfo)(uiInfo, fieldId)) === null || _getUIFieldInfo === void 0 ? void 0 : _getUIFieldInfo.get('FieldType');\n        });\n        fieldTypes = new Set(fieldTypes);\n        if (fieldTypes.size > 1) {\n          var _items$find;\n          // 选择多个控件时，如果可选的下拉值不相同时，属性不显示\n          var _fieldTypes = fieldTypes,\n            _fieldTypes2 = _toArray(_fieldTypes),\n            first = _fieldTypes2[0],\n            rest = _fieldTypes2.slice(1);\n          var firstDropdownItems = ((_items$find = items.find(function (item) {\n            return item.key === first;\n          })) === null || _items$find === void 0 ? void 0 : _items$find.items) || [];\n          var isDropdownItemsDifferent = rest.find(function (fieldType) {\n            var _items$find2;\n            var dropdownItems = ((_items$find2 = items.find(function (item) {\n              return item.key === fieldType;\n            })) === null || _items$find2 === void 0 ? void 0 : _items$find2.items) || [];\n            if (firstDropdownItems.length !== dropdownItems.length) return true;\n            return !(0, _immutable.is)((0, _immutable.fromJS)(firstDropdownItems), (0, _immutable.fromJS)(dropdownItems));\n          });\n          if (isDropdownItemsDifferent) return null;\n        }\n      }\n\n      // 设计器掩码属性不是作为单个控件的属性，后端数据items为具有映射关系的对象\n      // 根据控件类型获取掩码下拉列表\n      var fieldType = field.get('FieldType') || field.get('Type');\n      var fieldId = field.get('Id');\n      var fieldInfo = _model.uiModel.getFieldInfo(uiInfo, fieldId, 'formmeta');\n      var dataType = (fieldInfo === null || fieldInfo === void 0 ? void 0 : fieldInfo.get(typeKey)) || fieldType; // 列表中数字字段的类型都是DecimalListColumnAp，为了区分整数、长整数、数字显示不同的下拉值，增加了typeKey属性表示真实类型\n      var dropdownItems;\n      dropdownItems = items.filter(function (item) {\n        // item.key为控件类型\n        return item.key === dataType;\n      });\n      dropdownItems = dropdownItems && dropdownItems[0] && dropdownItems[0].items || [];\n      var disabled = prop.get('ReadOnly');\n      var selectClass = (0, _classnames2[\"default\"])(_defineProperty(_defineProperty({}, _EditcomboPropertyEditor2[\"default\"]['edit-Input'], true), _common[\"default\"]['select-disabled'], disabled));\n      var control = /*#__PURE__*/_react[\"default\"].createElement(_Select[\"default\"], {\n        className: selectClass,\n        disabled: disabled,\n        style: {\n          flexGrow: 1\n        },\n        value: this.state.value,\n        combobox: this.editable,\n        showSearch: this.editable,\n        filterOption: false,\n        animation: \"slide-up\",\n        optionLabelProp: \"children\",\n        choiceTransitionName: \"rc-select-selection__choice-zoom\",\n        placeholder: (0, _intlApi.getLangMsg)('bosd.editcomboPropertyEditor.key0001'),\n        dropdownMenuStyle: {\n          maxHeight: 200,\n          overflow: 'auto'\n        },\n        onChange: this.handleChange,\n        onBlur: this.handleBlur\n      }, _lodash[\"default\"].map(dropdownItems, function (item, index) {\n        return /*#__PURE__*/_react[\"default\"].createElement(_Select.Option, {\n          key: index,\n          value: item[returnDataKey]\n        }, item.name);\n      }));\n      return /*#__PURE__*/_react[\"default\"].createElement(_LabelContainer[\"default\"], (0, _LabelContainer.getLabelContainerProps)(prop, 'Editcombo'), control);\n    }\n  }]);\n  return EditcomboPropertyEditor;\n}(_react.Component);\nvar _default = exports[\"default\"] = (0, _EditorWarpper[\"default\"])(EditcomboPropertyEditor);\n\n//# sourceURL=webpack://bos-platform/./src/designer/editors/EditcomboPropertyEditor.jsx?");

/***/ }),

/***/ "./src/designer/editors/MBPPropertyEditor.jsx":
/*!****************************************************!*\
  !*** ./src/designer/editors/MBPPropertyEditor.jsx ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = exports.SingleBorderPanel = exports.EditBox = void 0;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.join.js */ \"../../node_modules/core-js/modules/es.array.join.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.parse-float.js */ \"../../node_modules/core-js/modules/es.parse-float.js\");\n__webpack_require__(/*! core-js/modules/es.parse-int.js */ \"../../node_modules/core-js/modules/es.parse-int.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.ends-with.js */ \"../../node_modules/core-js/modules/es.string.ends-with.js\");\n__webpack_require__(/*! core-js/modules/es.string.match.js */ \"../../node_modules/core-js/modules/es.string.match.js\");\n__webpack_require__(/*! core-js/modules/es.string.repeat.js */ \"../../node_modules/core-js/modules/es.string.repeat.js\");\n__webpack_require__(/*! core-js/modules/es.string.replace.js */ \"../../node_modules/core-js/modules/es.string.replace.js\");\n__webpack_require__(/*! core-js/modules/es.string.split.js */ \"../../node_modules/core-js/modules/es.string.split.js\");\n__webpack_require__(/*! core-js/modules/es.string.starts-with.js */ \"../../node_modules/core-js/modules/es.string.starts-with.js\");\n__webpack_require__(/*! core-js/modules/es.string.trim.js */ \"../../node_modules/core-js/modules/es.string.trim.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _LabelContainer = _interopRequireWildcard(__webpack_require__(/*! ./common/LabelContainer */ \"./src/designer/editors/common/LabelContainer.jsx\"));\nvar _EditorWarpper = _interopRequireDefault(__webpack_require__(/*! ./common/EditorWarpper */ \"./src/designer/editors/common/EditorWarpper.jsx\"));\nvar _ColorPicker = _interopRequireDefault(__webpack_require__(/*! ./common/ColorPicker */ \"./src/designer/editors/common/ColorPicker.jsx\"));\nvar printModel = _interopRequireWildcard(__webpack_require__(/*! ../model/printModelFunction */ \"./src/designer/model/printModelFunction.js\"));\nvar _rcSelect = _interopRequireWildcard(__webpack_require__(/*! rc-select */ \"../../node_modules/rc-select/es/index.js\"));\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _common = _interopRequireDefault(__webpack_require__(/*! ./common/common.less */ \"./src/designer/editors/common/common.less\"));\nvar _classnames3 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nvar _excluded = [\"title\", \"bgc\", \"mold\", \"children\", \"value\"];\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar MBPPropertyEditor = /*#__PURE__*/function (_Component) {\n  _inherits(MBPPropertyEditor, _Component);\n  function MBPPropertyEditor(props) {\n    var _this;\n    _classCallCheck(this, MBPPropertyEditor);\n    _this = _callSuper(this, MBPPropertyEditor, [props]);\n    _this.state = {\n      showBorder: false,\n      showSpecialEditBox: false,\n      selectDirection: ''\n    };\n    _this.handleClick = _this.handleClick.bind(_assertThisInitialized(_this));\n    _this.onFocus = _this.onFocus.bind(_assertThisInitialized(_this));\n    _this.onChange = _this.onChange.bind(_assertThisInitialized(_this));\n    _this.clearStyle = _this.clearStyle.bind(_assertThisInitialized(_this));\n    _this.handleColorChange = _this.handleColorChange.bind(_assertThisInitialized(_this));\n    _this.handleStyleChange = _this.handleStyleChange.bind(_assertThisInitialized(_this));\n    _this.getPropValue = _this.getPropValue.bind(_assertThisInitialized(_this));\n    _this.handleChangeComplete = _this.handleChangeComplete.bind(_assertThisInitialized(_this));\n    _this.getColor = _this.getColor.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  _createClass(MBPPropertyEditor, [{\n    key: \"getColor\",\n    value: function getColor(colorValue) {\n      var color = '#ffffff';\n      var alpha = 100;\n      var tempReg = /^themeColor/;\n      if (tempReg.test(colorValue)) {\n        var temp = colorValue.split('|');\n        color = temp[0];\n        alpha = Number(temp[1]) || 100;\n        return {\n          color: color,\n          alpha: alpha\n        };\n      }\n      colorValue = _lodash[\"default\"].trim(colorValue).toLowerCase();\n      // let color='#ffffff', alpha=100;\n      if (_lodash[\"default\"].startsWith(colorValue, '#')) {\n        color = colorValue;\n      } else {\n        var rRgba = /rgba?\\((\\d{1,3}),(\\d{1,3}),(\\d{1,3})(,([.\\d]+))?\\)/;\n        var r;\n        var g;\n        var b;\n        var a;\n        var rsa = colorValue.replace(/\\s+/g, '').match(rRgba);\n        if (rsa) {\n          r = parseInt(rsa[1]).toString(16);\n          r = r.length == 1 ? '0' + r : r;\n          g = parseInt(rsa[2]).toString(16);\n          g = g.length == 1 ? '0' + g : g;\n          b = parseInt(rsa[3]).toString(16);\n          b = b.length == 1 ? '0' + b : b;\n          a = parseFloat(rsa[5]);\n          color = '#' + r + g + b;\n          alpha = isNaN(a) ? 100 : parseInt(a * 100);\n        }\n      }\n      return {\n        color: color,\n        alpha: alpha\n      };\n    }\n  }, {\n    key: \"getPropValue\",\n    value: function getPropValue(mold) {\n      var style = this.props.getPropertyValue();\n      if (!style) {\n        return new _immutable.Map();\n      } else {\n        var item = style.get(mold);\n        return item || (0, _immutable.Map)();\n      }\n    }\n  }, {\n    key: \"handleClick\",\n    value: function handleClick(e) {\n      this.setState({\n        showSpecialEditBox: !this.state.showSpecialEditBox\n      });\n    }\n  }, {\n    key: \"onFocus\",\n    value: function onFocus(mold, direction) {\n      if (mold == 'Border') {\n        this.setState({\n          showBorder: true,\n          selectDirection: direction\n        });\n      } else {\n        this.setState({\n          showBorder: false\n        });\n      }\n    }\n  }, {\n    key: \"onChange\",\n    value: function onChange(value, mold, direction) {\n      var style = this.props.getPropertyValue();\n      if (mold === 'Border') {\n        value = checkStyleBorderWidth(value, this.props.uiInfo, this.props.notifyMsg);\n      }\n      var size = value ? \"\".concat(value, \"px\") : '';\n      var _direction = (0, _immutable.Map)().set(direction, size);\n      if (!style) {\n        if (mold == 'Border') {\n          var obj = new _immutable.Map();\n          obj = obj.set('Width', size);\n          var str = this.borderObj2String(obj);\n          _direction = (0, _immutable.Map)().set(direction, str);\n          this.props.updatePropValue((0, _immutable.Map)().set(mold, _direction));\n        } else {\n          this.props.updatePropValue((0, _immutable.Map)().set(mold, _direction));\n        }\n      } else {\n        if (mold == 'Border') {\n          if (style.has(mold)) {\n            var borderDirection = style.getIn([mold, direction]);\n            var _obj = this.borderString2Obj(borderDirection);\n            _obj = _obj.set('Width', size);\n            var _str = this.borderObj2String(_obj);\n            this.props.updatePropValue(style.update(mold, function (m) {\n              return m.set(direction, _str);\n            }));\n          } else {\n            var _obj2 = new _immutable.Map();\n            _obj2 = _obj2.set('Width', size);\n            var _str2 = this.borderObj2String(_obj2);\n            _direction = (0, _immutable.Map)().set(direction, _str2);\n            this.props.updatePropValue(style.set(mold, _direction));\n          }\n        } else {\n          if (style.has(mold)) {\n            this.props.updatePropValue(style.update(mold, function (m) {\n              return m.set(direction, size);\n            }));\n          } else {\n            this.props.updatePropValue(style.set(mold, _direction));\n          }\n        }\n      }\n    }\n  }, {\n    key: \"clearStyle\",\n    value: function clearStyle() {\n      this.props.updatePropValue(undefined);\n    }\n  }, {\n    key: \"handleColorChange\",\n    value: function handleColorChange(color) {\n      var direction = this.state.selectDirection;\n      var colorValue = this.handleChangeComplete(color);\n      var style = this.props.getPropertyValue();\n      if (!style) {\n        style = (0, _immutable.Map)();\n      }\n      if (!style.has('Border')) {\n        style = style.set('Border', (0, _immutable.Map)());\n      }\n      var borderDirection = style.getIn(['Border', direction]);\n      var obj = this.borderString2Obj(borderDirection);\n      obj = obj.set('Color', colorValue);\n      if (!obj.get('Width')) {\n        obj = obj.set('Width', '1px'); // 色值跟width关联\n      }\n      var str = this.borderObj2String(obj);\n      this.props.updatePropValue(style.updateIn(['Border', direction], function (s) {\n        return str;\n      }));\n    }\n  }, {\n    key: \"handleChangeComplete\",\n    value: function handleChangeComplete(color) {\n      var alpha = color.alpha;\n      color = color.color;\n      if (color === 'themeColor' && alpha != 100) {\n        color = \"themeColor|\".concat(alpha);\n        this.props.updatePropValue(color);\n        return color;\n      }\n      if (alpha != 100) {\n        var pattern = /^#[0-9a-fA-F]{3}$/;\n        var r, g, b;\n        if (color.match(pattern)) {\n          r = parseInt('0x' + _lodash[\"default\"].repeat(color.slice(1, 2), 2));\n          g = parseInt('0x' + _lodash[\"default\"].repeat(color.slice(2, 3), 2));\n          b = parseInt('0x' + _lodash[\"default\"].repeat(color.slice(3, 4), 2));\n        } else {\n          r = parseInt('0x' + color.slice(1, 3));\n          g = parseInt('0x' + color.slice(3, 5));\n          b = parseInt('0x' + color.slice(5, 7));\n        }\n        color = \"rgba(\".concat(r, \",\").concat(g, \",\").concat(b, \",\").concat(alpha / 100, \")\");\n      }\n      return color;\n    }\n  }, {\n    key: \"handleStyleChange\",\n    value: function handleStyleChange(value) {\n      var direction = this.state.selectDirection;\n      var style = this.props.getPropertyValue();\n      if (!style) {\n        style = new _immutable.Map();\n      }\n      if (!style.has('Border')) {\n        style = style.set('Border', (0, _immutable.Map)());\n      }\n      var borderDirection = style.getIn(['Border', direction]);\n      var obj = this.borderString2Obj(borderDirection);\n      obj = obj.set('Style', value);\n      if (!obj.get('Width')) {\n        obj = obj.set('Width', '1px'); // Style跟width关联\n      }\n      var str = this.borderObj2String(obj);\n      this.props.updatePropValue(style.updateIn(['Border', direction], function (s) {\n        return str;\n      }));\n    }\n  }, {\n    key: \"borderString2Obj\",\n    value: function borderString2Obj(str) {\n      if (!str) {\n        return new _immutable.Map();\n      }\n      var array = _lodash[\"default\"].split(str, '_');\n      var obj = {};\n      obj.Width = array[0];\n      obj.Style = array[1];\n      obj.Color = array[2];\n      return (0, _immutable.Map)(obj);\n    }\n  }, {\n    key: \"borderObj2String\",\n    value: function borderObj2String(obj) {\n      if (!obj.get('Width')) return '';\n      var defaultWidth = '0px';\n      var defaultStyle = 'solid';\n      var defaultColor = '#000000';\n      var str = [defaultWidth, defaultStyle, defaultColor];\n      if (obj.get('Style')) {\n        str[1] = obj.get('Style');\n      }\n      if (obj.get('Color')) {\n        str[2] = obj.get('Color');\n      }\n      if (obj.get('Width')) {\n        str[0] = obj.get('Width');\n      }\n      return str.join('_');\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      var _this$props = this.props,\n        field = _this$props.field,\n        prop = _this$props.prop,\n        uiInfo = _this$props.uiInfo;\n      var fieldName = prop.get('name');\n      var name = prop.get('alias', fieldName);\n      var borderStyles = ['solid', 'dotted', 'dashed'];\n      var panelStyle = (0, _classnames3[\"default\"])(_defineProperty(_defineProperty({}, _common[\"default\"].borderpanel, true), _common[\"default\"].hidden, !this.state.showBorder));\n      var border = this.getPropValue('Border');\n      var _d = border.get(this.state.selectDirection);\n      var obj = this.borderString2Obj(_d);\n      var Color = obj.get('Color');\n      var colorValue = this.getColor(Color);\n      var borderStyle = obj.get('Style');\n      var showSpecialEditBox = this.state.showSpecialEditBox;\n      return /*#__PURE__*/_react[\"default\"].createElement(_LabelContainer[\"default\"], _extends({}, (0, _LabelContainer.getLabelContainerProps)(prop, 'MBP'), {\n        name: name\n      }), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _common[\"default\"].singleBorderpanel\n      }, !showSpecialEditBox ? /*#__PURE__*/_react[\"default\"].createElement(\"div\", null, /*#__PURE__*/_react[\"default\"].createElement(EditBox, {\n        title: (0, _intlApi.getLangMsg)('bosd.mBPPropertyEditor.key0001'),\n        mold: \"Margin\",\n        bgc: _common[\"default\"].marginbgc,\n        onFocus: this.onFocus,\n        value: this.getPropValue('Margin'),\n        onChange: this.onChange\n      }, /*#__PURE__*/_react[\"default\"].createElement(EditBox, {\n        title: (0, _intlApi.getLangMsg)('bosd.mBPPropertyEditor.key0002'),\n        mold: \"Border\",\n        bgc: _common[\"default\"].borderbgc,\n        onFocus: this.onFocus,\n        value: this.getPropValue('Border'),\n        onChange: this.onChange\n      }, /*#__PURE__*/_react[\"default\"].createElement(EditBox, {\n        title: (0, _intlApi.getLangMsg)('bosd.mBPPropertyEditor.key0003'),\n        mold: \"Padding\",\n        bgc: _common[\"default\"].paddingbgc,\n        onFocus: this.onFocus,\n        value: this.getPropValue('Padding'),\n        onChange: this.onChange\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _common[\"default\"].whbox\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n        className: \"\".concat(_common[\"default\"].arrow, \" kdfont kdfont-shuaxin\"),\n        \"aria-hidden\": \"true\",\n        onClick: this.clearStyle\n      }))))), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: panelStyle\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _common[\"default\"].root\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"label\", {\n        className: \"\".concat(_common[\"default\"].label, \" \").concat(_common[\"default\"]['label-width'])\n      }, (0, _intlApi.getLangMsg)('bosd.mBPPropertyEditor.key0004')), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: \"\".concat(_common[\"default\"].mixinscontrol, \" \").concat(_common[\"default\"].shrink)\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"input\", {\n        type: \"text\",\n        className: _common[\"default\"].shrink,\n        readOnly: true,\n        value: Color || '',\n        onChange: function onChange(color) {\n          return _this2.handleColorChange(color);\n        }\n      }), /*#__PURE__*/_react[\"default\"].createElement(_ColorPicker[\"default\"], {\n        animation: \"slide-up\",\n        placement: \"bottomRight\",\n        color: colorValue.color,\n        alpha: colorValue.alpha,\n        onChange: function onChange(color) {\n          return _this2.handleColorChange(color);\n        }\n      }))), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _common[\"default\"].root\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"label\", {\n        className: \"\".concat(_common[\"default\"].label, \" \").concat(_common[\"default\"]['label-width'])\n      }, (0, _intlApi.getLangMsg)('bosd.mBPPropertyEditor.key0005')), /*#__PURE__*/_react[\"default\"].createElement(_rcSelect[\"default\"], {\n        style: {\n          flexGrow: 1\n        },\n        onChange: this.handleStyleChange,\n        value: borderStyle\n      }, borderStyles.map(function (item, index) {\n        return /*#__PURE__*/_react[\"default\"].createElement(_rcSelect.Option, {\n          key: index,\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            height: '28px'\n          },\n          value: item\n        }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n          style: {\n            border: \"\".concat(item, \" 1px #000\"),\n            flexGrow: 1\n          }\n        }));\n      }))))) : /*#__PURE__*/_react[\"default\"].createElement(SingleBorderPanel, _extends({}, this.props, {\n        colorValue: colorValue || '',\n        onColorChange: this.handleColorChange,\n        handleChangeComplete: this.handleChangeComplete,\n        getPropValue: this.getPropValue,\n        getPropertyValue: this.props.getPropertyValue,\n        updatePropValue: this.props.updatePropValue,\n        getColor: this.getColor\n      })), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _common[\"default\"].editTap\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _common[\"default\"].arrow,\n        onClick: function onClick() {\n          return _this2.handleClick();\n        }\n      }))));\n    }\n  }]);\n  return MBPPropertyEditor;\n}(_react.Component);\nvar borderString2Obj = function borderString2Obj(str) {\n  if (!str) {\n    return new _immutable.Map();\n  }\n  var array = _lodash[\"default\"].split(str, '_');\n  var obj = {};\n  obj.Width = array[0];\n  obj.Style = array[1];\n  obj.Color = array[2];\n  return (0, _immutable.Map)(obj);\n};\nvar borderObj2String = function borderObj2String(obj) {\n  var defaultWidth = '1px';\n  var defaultStyle = 'solid';\n  var defaultColor = '#000000';\n  var str = [defaultWidth, defaultStyle, defaultColor];\n  if (obj.get('Style')) {\n    str[1] = obj.get('Style');\n  }\n  if (obj.get('Color')) {\n    str[2] = obj.get('Color');\n  }\n  if (obj.get('Width')) {\n    str[0] = obj.get('Width');\n  }\n  return str.join('_');\n};\nvar checkStyleBorderWidth = function checkStyleBorderWidth(val, uiInfo, notifyMsg) {\n  if (val) {\n    var parseValue = parseFloat(val);\n    if (isNaN(parseValue)) return val;\n    var borderLimitedWidth = printModel.getLimitedBorderWidth(uiInfo);\n    if (borderLimitedWidth > 0) {\n      if (parseValue > borderLimitedWidth) {\n        notifyMsg((0, _intlApi.getLangMsg)({\n          key: 'bosd.mBPPropertyEditor.key0006',\n          variables: {\n            borderLimitedWidth: borderLimitedWidth\n          }\n        }));\n        return borderLimitedWidth;\n      }\n    }\n  }\n  return val;\n};\nvar SingleBorderPanel = exports.SingleBorderPanel = /*#__PURE__*/function (_React$Component) {\n  _inherits(SingleBorderPanel, _React$Component);\n  function SingleBorderPanel(props) {\n    var _this3;\n    _classCallCheck(this, SingleBorderPanel);\n    _this3 = _callSuper(this, SingleBorderPanel, [props]);\n    _this3.state = {\n      Margin: _this3.getPropFormatValue('Margin'),\n      Border: _this3.getPropFormatValue('Border'),\n      Padding: _this3.getPropFormatValue('Padding')\n    };\n    _this3.getPropFormatValue = _this3.getPropFormatValue.bind(_assertThisInitialized(_this3));\n    _this3.getFormatNum = _this3.getFormatNum.bind(_assertThisInitialized(_this3));\n    _this3.handleChange = _this3.handleChange.bind(_assertThisInitialized(_this3));\n    return _this3;\n  }\n  _createClass(SingleBorderPanel, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(np) {\n      if (this.props.field.get('Id') != np.field.get('Id')) {\n        this.setState({\n          Margin: this.getPropFormatValue('Margin'),\n          Border: this.getPropFormatValue('Border'),\n          Padding: this.getPropFormatValue('Padding')\n        });\n      }\n    }\n  }, {\n    key: \"getPropFormatValue\",\n    value: function getPropFormatValue(mold) {\n      var formatValue = [];\n      var propValue = this.props.getPropValue(mold);\n      formatValue[0] = this.getFormatNum(propValue, mold, 'Top');\n      formatValue[1] = this.getFormatNum(propValue, mold, 'Right');\n      formatValue[2] = this.getFormatNum(propValue, mold, 'Bottom');\n      formatValue[3] = this.getFormatNum(propValue, mold, 'Left');\n      if (formatValue[0] === formatValue[1] && formatValue[0] === formatValue[2] && formatValue[0] === formatValue[3]) {\n        return formatValue[0] === '0' ? '' : formatValue[0];\n      }\n      if (formatValue[0] === formatValue[2] && formatValue[1] === formatValue[3]) {\n        return \"\".concat(formatValue[0], \" \").concat(formatValue[1]);\n      }\n      if (formatValue[1] === formatValue[3]) {\n        return \"\".concat(formatValue[0], \" \").concat(formatValue[1], \" \").concat(formatValue[2]);\n      }\n      return \"\".concat(formatValue[0], \" \").concat(formatValue[1], \" \").concat(formatValue[2], \" \").concat(formatValue[3]);\n    }\n  }, {\n    key: \"getFormatNum\",\n    value: function getFormatNum(value, mold, dir) {\n      var _v = '0';\n      if (mold == 'Border') {\n        var _d = value.get(dir);\n        var obj = borderString2Obj(_d);\n        _v = obj.get('Width') || '0';\n      } else {\n        _v = value.get(dir) || '0';\n      }\n      if (_lodash[\"default\"].endsWith(_v, 'px')) {\n        _v = _lodash[\"default\"].replace(_v, 'px', '');\n      }\n      return _v;\n    }\n  }, {\n    key: \"getBorderStyle\",\n    value: function getBorderStyle(propArr, style) {\n      var arr1, arr2, arr3, arr4;\n      var length = propArr.length;\n      if (length === 1) {\n        arr1 = arr2 = arr3 = arr4 = propArr[0];\n      } else if (length === 2) {\n        arr1 = arr3 = propArr[0];\n        arr2 = arr4 = propArr[1];\n      } else if (length === 3) {\n        arr1 = propArr[0];\n        arr2 = arr4 = propArr[1];\n        arr3 = propArr[2];\n      } else if (length === 4) {\n        arr1 = propArr[0];\n        arr2 = propArr[1];\n        arr3 = propArr[2];\n        arr4 = propArr[3];\n      }\n      var borderTop = (0, _immutable.Map)({\n        Width: \"\".concat(arr1 || '', \"px\")\n      });\n      var borderRight = (0, _immutable.Map)({\n        Width: \"\".concat(arr2 || '', \"px\")\n      });\n      var borderBottom = (0, _immutable.Map)({\n        Width: \"\".concat(arr3 || '', \"px\")\n      });\n      var borderLeft = (0, _immutable.Map)({\n        Width: \"\".concat(arr4 || '', \"px\")\n      });\n      if (style && style.get('Border')) {\n        /* 某个direction不存在的情况 */\n        borderTop = borderString2Obj(style.getIn(['Border', 'Top'])).set('Width', \"\".concat(arr1, \"px\"));\n        borderRight = borderString2Obj(style.getIn(['Border', 'Right'])).set('Width', \"\".concat(arr2, \"px\"));\n        borderBottom = borderString2Obj(style.getIn(['Border', 'Bottom'])).set('Width', \"\".concat(arr3, \"px\"));\n        borderLeft = borderString2Obj(style.getIn(['Border', 'Left'])).set('Width', \"\".concat(arr4, \"px\"));\n      }\n      return (0, _immutable.fromJS)({\n        Top: borderObj2String(borderTop),\n        Right: borderObj2String(borderRight),\n        Bottom: borderObj2String(borderBottom),\n        Left: borderObj2String(borderLeft)\n      });\n    }\n  }, {\n    key: \"updateMoldStyle\",\n    value: function updateMoldStyle(style, mold, tmp) {\n      var _style = style;\n      if (!_style) {\n        _style = (0, _immutable.Map)().set(mold, tmp);\n        this.props.updatePropValue(_style);\n      } else {\n        this.props.updatePropValue(_style.update(mold, function (m) {\n          return tmp;\n        }));\n      }\n    }\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(val, mold) {\n      var _this4 = this;\n      var reg = /^[\\d\\s]*$/;\n      if (!reg.test(val)) return;\n      var propArr = val.replace(/(^\\s*)|(\\s*$)/g, '').replace(/\\s{2,}/g, ' ').split(' ').slice(0, 4).map(function (v) {\n        if (mold === 'Border') {\n          return checkStyleBorderWidth(val, _this4.props.uiInfo, _this4.props.notifyMsg);\n        }\n        return v;\n      });\n      var _val = propArr.length === 4 ? propArr.join(' ') : val;\n      this.setState(_defineProperty({}, mold, _val));\n      var style = this.props.getPropertyValue();\n      if (propArr.length === 1) {\n        /* 处理val为空字符串 */\n        var isNothing = propArr[0] === '';\n        if (mold === 'Border') {\n          var tmp = isNothing ? (0, _immutable.fromJS)({}) : this.getBorderStyle(propArr, style);\n          this.updateMoldStyle(style, mold, tmp);\n        } else {\n          var _tmp = isNothing ? (0, _immutable.fromJS)({}) : (0, _immutable.fromJS)({\n            Top: \"\".concat(propArr[0], \"px\"),\n            Right: \"\".concat(propArr[0], \"px\"),\n            Bottom: \"\".concat(propArr[0], \"px\"),\n            Left: \"\".concat(propArr[0], \"px\")\n          });\n          this.updateMoldStyle(style, mold, _tmp);\n        }\n      } else if (propArr.length === 2) {\n        if (mold === 'Border') {\n          var _tmp2 = this.getBorderStyle(propArr, style);\n          this.updateMoldStyle(style, mold, _tmp2);\n        } else {\n          var _tmp3 = (0, _immutable.fromJS)({\n            Top: \"\".concat(propArr[0], \"px\"),\n            Right: \"\".concat(propArr[1], \"px\"),\n            Bottom: \"\".concat(propArr[0], \"px\"),\n            Left: \"\".concat(propArr[1], \"px\")\n          });\n          this.updateMoldStyle(style, mold, _tmp3);\n        }\n      } else if (propArr.length === 3) {\n        if (mold === 'Border') {\n          var _tmp4 = this.getBorderStyle(propArr, style);\n          this.updateMoldStyle(style, mold, _tmp4);\n        } else {\n          var _tmp5 = (0, _immutable.fromJS)({\n            Top: \"\".concat(propArr[0], \"px\"),\n            Right: \"\".concat(propArr[1], \"px\"),\n            Bottom: \"\".concat(propArr[2], \"px\"),\n            Left: \"\".concat(propArr[1], \"px\")\n          });\n          this.updateMoldStyle(style, mold, _tmp5);\n        }\n      } else if (propArr.length === 4) {\n        if (mold === 'Border') {\n          var _tmp6 = this.getBorderStyle(propArr, style);\n          this.updateMoldStyle(style, mold, _tmp6);\n        } else {\n          var _tmp7 = (0, _immutable.fromJS)({\n            Top: \"\".concat(propArr[0], \"px\"),\n            Right: \"\".concat(propArr[1], \"px\"),\n            Bottom: \"\".concat(propArr[2], \"px\"),\n            Left: \"\".concat(propArr[3], \"px\")\n          });\n          this.updateMoldStyle(style, mold, _tmp7);\n        }\n      }\n    }\n  }, {\n    key: \"getInitialColor\",\n    value: function getInitialColor() {\n      var style = this.props.getPropertyValue();\n      if (!style || !style.has('Border')) {\n        return '';\n      }\n      var t = style.getIn(['Border', 'Top']);\n      var r = style.getIn(['Border', 'Right']);\n      var b = style.getIn(['Border', 'Bottom']);\n      var l = style.getIn(['Border', 'Left']);\n      t = t ? t.split('_')[2] : '';\n      r = r ? r.split('_')[2] : '';\n      b = b ? b.split('_')[2] : '';\n      l = l ? l.split('_')[2] : '';\n      if (t === r && t === b && t === l) {\n        return t;\n      }\n      return '';\n    }\n  }, {\n    key: \"getDirBorderColor\",\n    value: function getDirBorderColor(style, color, dir) {\n      var topBorderDirection = style.getIn(['Border', dir]);\n      var obj = borderString2Obj(topBorderDirection);\n      obj = obj.set('Color', color);\n      return borderObj2String(obj);\n    }\n  }, {\n    key: \"handleColorInputChange\",\n    value: function handleColorInputChange(event) {\n      var color = event.target.value;\n      this.onColorChange({\n        color: color,\n        alpha: 100\n      });\n    }\n  }, {\n    key: \"onColorChange\",\n    value: function onColorChange(color) {\n      var style = this.props.getPropertyValue();\n      var colorValue = this.props.handleChangeComplete(color);\n      if (!style) {\n        style = (0, _immutable.Map)();\n      }\n      if (!style.has('Border')) {\n        style = style.set('Border', (0, _immutable.Map)());\n        this.setState({\n          Border: 1\n        });\n      }\n      var tBorder = this.getDirBorderColor(style, colorValue, 'Top');\n      var rBorder = this.getDirBorderColor(style, colorValue, 'Right');\n      var bBorder = this.getDirBorderColor(style, colorValue, 'Bottom');\n      var lBorder = this.getDirBorderColor(style, colorValue, 'Left');\n      style = style.updateIn(['Border', 'Top'], function (s) {\n        return tBorder;\n      }).updateIn(['Border', 'Right'], function (s) {\n        return rBorder;\n      }).updateIn(['Border', 'Bottom'], function (s) {\n        return bBorder;\n      }).updateIn(['Border', 'Left'], function (s) {\n        return lBorder;\n      });\n      this.props.updatePropValue(style);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n      var _this$props2 = this.props,\n        colorValue = _this$props2.colorValue,\n        onColorChange = _this$props2.onColorChange,\n        getColor = _this$props2.getColor;\n      var color = getColor(this.getInitialColor());\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _common[\"default\"].singleBorderpanel\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _common[\"default\"].root\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"label\", {\n        className: \"\".concat(_common[\"default\"].label, \" \").concat(_common[\"default\"]['label-width'])\n      }, (0, _intlApi.getLangMsg)('bosd.mBPPropertyEditor.key0001')), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: \"\".concat(_common[\"default\"].mixinscontrol, \" \").concat(_common[\"default\"].shrink)\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"input\", {\n        type: \"text\",\n        className: _common[\"default\"].shrink,\n        value: this.state.Margin,\n        onChange: function onChange(e) {\n          _this5.handleChange(e.target.value, 'Margin');\n        }\n      }))), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _common[\"default\"].root\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"label\", {\n        className: \"\".concat(_common[\"default\"].label, \" \").concat(_common[\"default\"]['label-width'])\n      }, (0, _intlApi.getLangMsg)('bosd.mBPPropertyEditor.key0002')), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: \"\".concat(_common[\"default\"].mixinscontrol, \" \").concat(_common[\"default\"].shrink)\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"input\", {\n        type: \"text\",\n        className: _common[\"default\"].shrink,\n        value: this.state.Border,\n        onChange: function onChange(e) {\n          return _this5.handleChange(e.target.value, 'Border');\n        }\n      }))), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _common[\"default\"].root\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"label\", {\n        className: \"\".concat(_common[\"default\"].label, \" \").concat(_common[\"default\"]['label-width'])\n      }, (0, _intlApi.getLangMsg)('bosd.mBPPropertyEditor.key0004')), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: \"\".concat(_common[\"default\"].mixinscontrol, \" \").concat(_common[\"default\"].shrink)\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"input\", {\n        type: \"text\",\n        className: _common[\"default\"].shrink,\n        value: this.getInitialColor(),\n        onChange: function onChange(color) {\n          return _this5.handleColorInputChange(color);\n        }\n      }), /*#__PURE__*/_react[\"default\"].createElement(_ColorPicker[\"default\"], {\n        animation: \"slide-up\",\n        placement: \"bottomRight\",\n        color: color.color,\n        alpha: color.alpha,\n        onChange: function onChange(color) {\n          return _this5.onColorChange(color);\n        }\n      }))), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _common[\"default\"].root\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"label\", {\n        className: \"\".concat(_common[\"default\"].label, \" \").concat(_common[\"default\"]['label-width'])\n      }, (0, _intlApi.getLangMsg)('bosd.mBPPropertyEditor.key0003')), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: \"\".concat(_common[\"default\"].mixinscontrol, \" \").concat(_common[\"default\"].shrink)\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"input\", {\n        type: \"text\",\n        className: _common[\"default\"].shrink,\n        value: this.state.Padding,\n        onChange: function onChange(e) {\n          return _this5.handleChange(e.target.value, 'Padding');\n        }\n      }))));\n    }\n  }]);\n  return SingleBorderPanel;\n}(_react[\"default\"].Component);\nvar EditBox = exports.EditBox = /*#__PURE__*/function (_Component2) {\n  _inherits(EditBox, _Component2);\n  function EditBox() {\n    _classCallCheck(this, EditBox);\n    return _callSuper(this, EditBox, arguments);\n  }\n  _createClass(EditBox, [{\n    key: \"borderString2Obj\",\n    value: function borderString2Obj(str) {\n      if (!str) {\n        return new _immutable.Map();\n      }\n      var array = _lodash[\"default\"].split(str, '_');\n      var obj = {};\n      obj.Width = array[0];\n      obj.Style = array[1];\n      obj.Color = array[2];\n      return (0, _immutable.Map)(obj);\n    }\n  }, {\n    key: \"onChange\",\n    value: function onChange(value, mold, direction) {\n      // if(!value){\n      this.props.onChange && this.props.onChange(value, mold, direction);\n      // }else{\n      //   // console.log(value);\n      // }\n    }\n  }, {\n    key: \"onFocus\",\n    value: function onFocus(mold, direction) {\n      this.props.onFocus && this.props.onFocus(mold, direction);\n    }\n  }, {\n    key: \"getValue\",\n    value: function getValue(value, direction) {\n      var mold = this.props.mold;\n      var _v = '';\n      if (value) {\n        if (mold == 'Border') {\n          var _d = value.get(direction);\n          var obj = this.borderString2Obj(_d);\n          _v = obj.get('Width') || '';\n        } else {\n          _v = value.get(direction) || '';\n        }\n        if (_lodash[\"default\"].endsWith(_v, 'px')) {\n          _v = _lodash[\"default\"].replace(_v, 'px', '');\n        }\n      }\n      return _v;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this6 = this;\n      var _this$props3 = this.props,\n        title = _this$props3.title,\n        bgc = _this$props3.bgc,\n        mold = _this$props3.mold,\n        children = _this$props3.children,\n        value = _this$props3.value,\n        other = _objectWithoutProperties(_this$props3, _excluded);\n      var rootClass = (0, _classnames3[\"default\"])(_defineProperty(_defineProperty({}, _common[\"default\"].marginbox, true), bgc, bgc));\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: rootClass\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _common[\"default\"].top\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n        className: _common[\"default\"].title\n      }, title), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _common[\"default\"].value\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"input\", {\n        className: _common[\"default\"].ip,\n        onChange: function onChange(e) {\n          return _this6.onChange(e.target.value, mold, 'Top');\n        },\n        onFocus: function onFocus(e) {\n          return _this6.onFocus(mold, 'Top');\n        },\n        value: this.getValue(value, 'Top')\n      }))), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _common[\"default\"].center\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _common[\"default\"].value\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"input\", {\n        className: _common[\"default\"].ip,\n        onChange: function onChange(e) {\n          return _this6.onChange(e.target.value, mold, 'Left');\n        },\n        onFocus: function onFocus(e) {\n          return _this6.onFocus(mold, 'Left');\n        },\n        value: this.getValue(value, 'Left')\n      })), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _common[\"default\"].content\n      }, children), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _common[\"default\"].value\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"input\", {\n        className: _common[\"default\"].ip,\n        onChange: function onChange(e) {\n          return _this6.onChange(e.target.value, mold, 'Right');\n        },\n        onFocus: function onFocus(e) {\n          return _this6.onFocus(mold, 'Right');\n        },\n        value: this.getValue(value, 'Right')\n      }))), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _common[\"default\"].bottom\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _common[\"default\"].value\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"input\", {\n        className: _common[\"default\"].ip,\n        onChange: function onChange(e) {\n          return _this6.onChange(e.target.value, mold, 'Bottom');\n        },\n        onFocus: function onFocus(e) {\n          return _this6.onFocus(mold, 'Bottom');\n        },\n        value: this.getValue(value, 'Bottom')\n      }))));\n    }\n  }]);\n  return EditBox;\n}(_react.Component);\nvar _default = exports[\"default\"] = (0, _EditorWarpper[\"default\"])(MBPPropertyEditor);\n\n//# sourceURL=webpack://bos-platform/./src/designer/editors/MBPPropertyEditor.jsx?");

/***/ }),

/***/ "./src/designer/editors/McomboPropertyEditor.jsx":
/*!*******************************************************!*\
  !*** ./src/designer/editors/McomboPropertyEditor.jsx ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.find.js */ \"../../node_modules/core-js/modules/es.array.find.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.join.js */ \"../../node_modules/core-js/modules/es.array.join.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\n__webpack_require__(/*! core-js/modules/es.string.split.js */ \"../../node_modules/core-js/modules/es.string.split.js\");\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _Select = _interopRequireWildcard(__webpack_require__(/*! ./common/Select */ \"./src/designer/editors/common/Select.jsx\"));\nvar _common = _interopRequireDefault(__webpack_require__(/*! ./common/common.less */ \"./src/designer/editors/common/common.less\"));\nvar _LabelContainer = _interopRequireWildcard(__webpack_require__(/*! ./common/LabelContainer */ \"./src/designer/editors/common/LabelContainer.jsx\"));\nvar _EditorWarpper = _interopRequireDefault(__webpack_require__(/*! ./common/EditorWarpper */ \"./src/designer/editors/common/EditorWarpper.jsx\"));\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nvar _propnames = __webpack_require__(/*! @/designer/constant/propnames.js */ \"./src/designer/constant/propnames.js\");\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar IVALID_FILTER_TYPE = ['1403', '1404'];\nvar McomboPropertyEditor = /*#__PURE__*/function (_Component) {\n  _inherits(McomboPropertyEditor, _Component);\n  function McomboPropertyEditor(props) {\n    var _this;\n    _classCallCheck(this, McomboPropertyEditor);\n    _this = _callSuper(this, McomboPropertyEditor, [props]);\n    _this.isSpecialLock = function () {\n      var prop = _this.props.prop;\n      var lockType = prop.get('LockType');\n      // LOCK_TYPE.SPECIALLOCK: 部分可编辑\n      return lockType === _propnames.LOCK_TYPE.SPECIALLOCK;\n    };\n    _this.onChange = _this.onChange.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  _createClass(McomboPropertyEditor, [{\n    key: \"onChange\",\n    value: function onChange(value) {\n      this.props.updatePropValue(value.join(','));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      var _this$props = this.props,\n        prop = _this$props.prop,\n        uiInfo = _this$props.uiInfo,\n        select_control_id = _this$props.select_control_id,\n        field = _this$props.field;\n      var originPropsValue = prop.get(_propnames.ORIGIN_PROPS_VALUE, '');\n      var items = prop.getIn(['Editor', 'items'], (0, _immutable.List)()).toJS();\n      var proValue = this.props.getPropertyValue();\n      proValue = proValue === '' ? [] : _lodash[\"default\"].split(proValue, ',');\n      proValue = proValue.filter(function (el) {\n        return el != null && el !== '';\n      });\n      var disabled = prop.get('ReadOnly');\n      var nodeInfo = uiInfo.getIn(['formmeta', 'Items'], (0, _immutable.List)()).find(function (item) {\n        return item.get('Id') === select_control_id;\n      }) || (0, _immutable.Map)();\n      // 自定义时间筛选控件，短日期和长日期后端无法区分，前端检测如果是短日期不显示时间和时间范围两个维度\n      if (nodeInfo.get('Type') === 'date' && field.get('Type') === 'CommonDateFilterColumnAp') {\n        proValue = proValue.filter(function (el) {\n          return !IVALID_FILTER_TYPE.includes(el);\n        });\n        items = items.filter(function (el) {\n          return !IVALID_FILTER_TYPE.includes(el.id);\n        });\n      }\n      return /*#__PURE__*/_react[\"default\"].createElement(_LabelContainer[\"default\"], (0, _LabelContainer.getLabelContainerProps)(prop, 'Mcombo'), /*#__PURE__*/_react[\"default\"].createElement(_Select[\"default\"], {\n        className: disabled ? _common[\"default\"]['select-disabled'] : '',\n        disabled: disabled,\n        allowClear: !disabled,\n        style: {\n          flexGrow: 1\n        },\n        value: proValue,\n        multiple: true,\n        optionFilterProp: \"children\",\n        optionLabelProp: \"children\",\n        placeholder: (0, _intlApi.getLangMsg)('bosd.mcomboPropertyEditor.key0001'),\n        dropdownMenuStyle: {\n          maxHeight: 200,\n          overflow: 'auto'\n        },\n        onChange: this.onChange\n      }, _lodash[\"default\"].map(items, function (item, index) {\n        var _proValue;\n        var disabledItem = !disabled && _this2.isSpecialLock() && (originPropsValue === null || originPropsValue === void 0 ? void 0 : originPropsValue.includes(item.id)) && ((_proValue = proValue) === null || _proValue === void 0 ? void 0 : _proValue.includes(item.id));\n        return /*#__PURE__*/_react[\"default\"].createElement(_Select.Option, {\n          key: index,\n          value: item.id,\n          disabled: disabledItem\n        }, item.name);\n      })));\n    }\n  }]);\n  return McomboPropertyEditor;\n}(_react.Component);\nvar _default = exports[\"default\"] = (0, _EditorWarpper[\"default\"])(McomboPropertyEditor);\n\n//# sourceURL=webpack://bos-platform/./src/designer/editors/McomboPropertyEditor.jsx?");

/***/ }),

/***/ "./src/designer/editors/NumberPropertyEditor.jsx":
/*!*******************************************************!*\
  !*** ./src/designer/editors/NumberPropertyEditor.jsx ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.number.is-nan.js */ \"../../node_modules/core-js/modules/es.number.is-nan.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.parse-float.js */ \"../../node_modules/core-js/modules/es.parse-float.js\");\n__webpack_require__(/*! core-js/modules/es.parse-int.js */ \"../../node_modules/core-js/modules/es.parse-int.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _common = _interopRequireDefault(__webpack_require__(/*! ./common/common.less */ \"./src/designer/editors/common/common.less\"));\nvar _LabelContainer = _interopRequireWildcard(__webpack_require__(/*! ./common/LabelContainer */ \"./src/designer/editors/common/LabelContainer.jsx\"));\nvar _EditorWarpper = _interopRequireDefault(__webpack_require__(/*! ./common/EditorWarpper */ \"./src/designer/editors/common/EditorWarpper.jsx\"));\nvar _classnames2 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n// const timer = null\nvar NumberPropertyEditor = /*#__PURE__*/function (_Component) {\n  _inherits(NumberPropertyEditor, _Component);\n  function NumberPropertyEditor(props) {\n    var _this;\n    _classCallCheck(this, NumberPropertyEditor);\n    _this = _callSuper(this, NumberPropertyEditor, [props]);\n    _this.preventBubble = function (event) {\n      return event.stopPropagation();\n    };\n    _this.state = {\n      value: _this.props.getPropertyValue()\n    };\n    _this.onChange = _this.onChange.bind(_assertThisInitialized(_this));\n    _this.onBlur = _this.onBlur.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  _createClass(NumberPropertyEditor, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.refs.input && this.refs.input.addEventListener('mousewheel', this.preventBubble, false);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.refs.input && this.refs.input.removeEventListener('mousewheel', this.preventBubble, false);\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      var nextValue = nextProps.getPropertyValue();\n      var currentValue = this.props.getPropertyValue();\n      if (nextValue !== currentValue && nextValue === undefined) {\n        this.setState({\n          value: ''\n        });\n      } else if (nextValue !== this.state.value) {\n        this.setState({\n          value: nextValue\n        });\n      }\n    }\n  }, {\n    key: \"onChange\",\n    value: function onChange(eve) {\n      var prop = this.props.prop;\n      var propEditor = prop.get('Editor', (0, _immutable.Map)());\n      var type = propEditor.get('type');\n      var value = this.refs.input.valueAsNumber;\n      if (isNaN(value)) {\n        value = '';\n      } else if (type === 'integer') {\n        value = parseInt(value);\n      } else if (type === 'decimal') {\n        value = parseFloat(value);\n      }\n      this.setState({\n        value: value\n      });\n      // clearTimeout(timer)\n      // timer = setTimeout(() => this.props.updatePropValue(value), 200)\n    }\n  }, {\n    key: \"onBlur\",\n    value: function onBlur(e) {\n      var value = this.state.value;\n      var prop = this.props.prop;\n      var propEditor = prop.get('Editor', (0, _immutable.Map)());\n      var min = propEditor.get('min');\n      var max = propEditor.get('max');\n      // 非数字转为空串\n      if (isNaN(value)) {\n        value = '';\n      }\n      // 如果是字符串, 就转为数字; 只需保证比较符的一侧是数字即可\n      value = +value;\n      if (!value && value !== 0) {\n        value = undefined;\n      } else if ((min || min === 0) && value < min) {\n        var propName = prop.get('name');\n        // 字体大小和值域字体大小清空后，恢复成默认值\n        if (this.state.value === '' && ['FontSize', 'FieldFontSize'].includes(propName)) {\n          var defaultValue = propEditor.get('default');\n          value = defaultValue;\n        } else {\n          value = min;\n        }\n      } else if ((max || max === 0) && value > max) {\n        value = max;\n      }\n      this.setState({\n        value: value === undefined ? '' : value\n      });\n      this.props.updatePropValue(value);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var prop = this.props.prop;\n      var propEditor = prop.get('Editor', (0, _immutable.Map)());\n      var type = propEditor.get('type');\n      var min = propEditor.get('min');\n      var max = propEditor.get('max');\n      var value = this.state.value;\n      if (type === 'integer') {\n        value = parseInt(value);\n      } else if (type === 'decimal') {\n        value = parseFloat(value);\n      }\n      if (!Number.isNaN(value) && !Number.isNaN(max) && value > max) value = max;\n      var disabled = prop.get('ReadOnly');\n      var inputClass = (0, _classnames2[\"default\"])(_defineProperty(_defineProperty({}, _common[\"default\"].input, true), _common[\"default\"].disabled, disabled));\n      return /*#__PURE__*/_react[\"default\"].createElement(_LabelContainer[\"default\"], (0, _LabelContainer.getLabelContainerProps)(prop, 'Number'), /*#__PURE__*/_react[\"default\"].createElement(\"input\", {\n        className: inputClass,\n        disabled: disabled,\n        ref: \"input\",\n        type: \"number\",\n        max: max,\n        min: min,\n        value: value,\n        onChange: this.onChange,\n        onBlur: this.onBlur\n      }));\n    }\n  }]);\n  return NumberPropertyEditor;\n}(_react.Component);\nvar _default = exports[\"default\"] = (0, _EditorWarpper[\"default\"])(NumberPropertyEditor);\n\n//# sourceURL=webpack://bos-platform/./src/designer/editors/NumberPropertyEditor.jsx?");

/***/ }),

/***/ "./src/designer/editors/PositionPropertyEditor.jsx":
/*!*********************************************************!*\
  !*** ./src/designer/editors/PositionPropertyEditor.jsx ***!
  \*********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.find-index.js */ \"../../node_modules/core-js/modules/es.array.find-index.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _LabelContainer = _interopRequireWildcard(__webpack_require__(/*! ./common/LabelContainer */ \"./src/designer/editors/common/LabelContainer.jsx\"));\nvar _EditorWarpper = _interopRequireDefault(__webpack_require__(/*! ./common/EditorWarpper */ \"./src/designer/editors/common/EditorWarpper.jsx\"));\nvar _PositionPropertyEditor = _interopRequireDefault(__webpack_require__(/*! ./PositionPropertyEditor.less */ \"./src/designer/editors/PositionPropertyEditor.less\"));\nvar _classnames3 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nvar PositionPropertyEditor = function PositionPropertyEditor(props) {\n  var prop = props.prop;\n  return /*#__PURE__*/_react[\"default\"].createElement(_LabelContainer[\"default\"], (0, _LabelContainer.getLabelContainerProps)(prop, 'Position'), /*#__PURE__*/_react[\"default\"].createElement(PositionSelectBox, props));\n};\nvar _default = exports[\"default\"] = (0, _EditorWarpper[\"default\"])(PositionPropertyEditor);\nvar PositionSelectBox = function PositionSelectBox(props) {\n  var prop = props.prop,\n    value = props.value;\n  var items = prop.getIn(['Editor', 'items'], (0, _immutable.List)()).toJS();\n  var _useState = (0, _react.useState)(0),\n    _useState2 = _slicedToArray(_useState, 2),\n    selectIndex = _useState2[0],\n    changeIndex = _useState2[1];\n  (0, _react.useEffect)(function () {\n    changeIndex(items.findIndex(function (item, index, arr) {\n      return item.id === value;\n    }) || 0);\n  }, [value]);\n  var onChange = function onChange(value) {\n    return props.updatePropValue(value);\n  };\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _PositionPropertyEditor[\"default\"].PositionSelectBox\n  }, _lodash[\"default\"].map(items, function (item, index) {\n    var itemClass = (0, _classnames3[\"default\"])(_defineProperty({}, _PositionPropertyEditor[\"default\"].text, true));\n    if (index === selectIndex) {\n      itemClass = (0, _classnames3[\"default\"])(_defineProperty(_defineProperty({}, itemClass, true), _PositionPropertyEditor[\"default\"]['text-selected'], true));\n    }\n    return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      title: (0, _intlApi.getLangMsg)({\n        key: 'bosd.positionPropertyEditor.key0001',\n        variables: {\n          position: item.name\n        }\n      }),\n      onClick: function onClick() {\n        return onChange(item.id);\n      },\n      className: itemClass,\n      key: index,\n      value: item.id + ''\n    }, item.name);\n  }));\n};\n\n//# sourceURL=webpack://bos-platform/./src/designer/editors/PositionPropertyEditor.jsx?");

/***/ }),

/***/ "./src/designer/editors/RadiusPropertyEditor.jsx":
/*!*******************************************************!*\
  !*** ./src/designer/editors/RadiusPropertyEditor.jsx ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.find.js */ \"../../node_modules/core-js/modules/es.array.find.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.join.js */ \"../../node_modules/core-js/modules/es.array.join.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.parse-float.js */ \"../../node_modules/core-js/modules/es.parse-float.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _common = _interopRequireDefault(__webpack_require__(/*! ./common/common.less */ \"./src/designer/editors/common/common.less\"));\nvar _LabelContainer = _interopRequireWildcard(__webpack_require__(/*! ./common/LabelContainer */ \"./src/designer/editors/common/LabelContainer.jsx\"));\nvar _EditorWarpper = _interopRequireDefault(__webpack_require__(/*! ./common/EditorWarpper */ \"./src/designer/editors/common/EditorWarpper.jsx\"));\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n// 将radius转化为'1;2;3;4'形式的字符串\nfunction getRadiusInputVal(radius) {\n  if (!radius) return '';\n  var radiusArr = radius.split(' ');\n  return radiusArr.map(parseFloat).join(';');\n}\nvar RadiusPropertyEditor = /*#__PURE__*/function (_Component) {\n  _inherits(RadiusPropertyEditor, _Component);\n  function RadiusPropertyEditor(props) {\n    var _this;\n    _classCallCheck(this, RadiusPropertyEditor);\n    _this = _callSuper(this, RadiusPropertyEditor, [props]);\n    // 如果有最小值属性, 就重置为最小值\n    _this.handleCorrectValue = function () {\n      var prop = _this.props.prop;\n      var unit = _this.state.unit;\n      var min = prop.getIn(['Editor', 'min'], undefined);\n      var value = _this.state.value;\n      var offset = '';\n      if (value && value.length && !isNaN(value[0])) {\n        offset = Number(value[0]);\n      }\n      if (!isNaN(min) && !isNaN(offset) && offset <= min) {\n        _this.updatePropValue(\"\".concat(min).concat(unit));\n      }\n    };\n    _this.state = _this.getDimensionValue(props.getPropertyValue());\n    _this.defaultUnits = (0, _immutable.List)(['', '%', 'px']);\n    _this.handleBlur = _this.handleBlur.bind(_assertThisInitialized(_this));\n    _this.handleUnitChange = _this.handleUnitChange.bind(_assertThisInitialized(_this));\n    _this.handleValueChange = _this.handleValueChange.bind(_assertThisInitialized(_this));\n    _this.handleCorrectValue = _this.handleCorrectValue.bind(_assertThisInitialized(_this));\n    _this.updatePropValue = props.updatePropValue;\n    return _this;\n  }\n  _createClass(RadiusPropertyEditor, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      var nextDimension = this.getDimensionValue(nextProps.getPropertyValue());\n      var dimension = this.state || {};\n      if (nextDimension.value != dimension.value || nextDimension.unit != dimension.unit) {\n        this.setState(nextDimension);\n      }\n    }\n  }, {\n    key: \"getUnits\",\n    value: function getUnits() {\n      var prop = this.props.prop;\n      var units = prop.getIn(['Editor', 'units'], this.defaultUnits);\n      return units;\n    }\n  }, {\n    key: \"getDimensionValue\",\n    value: function getDimensionValue(propValue) {\n      var value = '';\n      var unit = '';\n      if (propValue !== null && propValue !== void 0 && propValue.includes('%')) {\n        value = getRadiusInputVal(propValue);\n        unit = '%';\n      } else if (propValue !== null && propValue !== void 0 && propValue.includes('px')) {\n        value = getRadiusInputVal(propValue);\n        unit = 'px';\n      } else if (propValue !== null && propValue !== void 0 && propValue.includes('mm')) {\n        value = getRadiusInputVal(propValue);\n        unit = 'mm';\n      }\n      return {\n        value: value,\n        unit: unit\n      };\n    }\n  }, {\n    key: \"isDefautUnit\",\n    value: function isDefautUnit(unit) {\n      return unit === '' || unit === (0, _intlApi.getLangMsg)('bosd.radiusPropertyEditor.key0001') || unit === 'default';\n    }\n  }, {\n    key: \"handleUnitChange\",\n    value: function handleUnitChange(e) {\n      var _this2 = this;\n      var unit = this.refs.unit.value;\n      var value = this.refs.input.value;\n      if (this.isDefautUnit(unit)) {\n        this.setState({\n          value: '',\n          unit: unit\n        });\n        this.props.updatePropValue(undefined);\n      } else {\n        if (value.length === 0) {\n          this.setState({\n            value: value,\n            unit: unit\n          }, function () {\n            _this2.refs.input.focus();\n          });\n        } else {\n          this.setState({\n            value: value,\n            unit: unit\n          });\n          if (/^(\\d+;){1,3}\\d+$/.test(value)) {\n            // '1;2;3;4'\n            var newRadius = value.split(';').map(function (str) {\n              return \"\".concat(str).concat(unit);\n            }).join(' ');\n            this.updatePropValue(newRadius);\n          } else if (/^\\d+$/.test(value)) {\n            this.updatePropValue(\"\".concat(value).concat(unit));\n          }\n        }\n      }\n    }\n  }, {\n    key: \"handleValueChange\",\n    value: function handleValueChange(e) {\n      var _this3 = this;\n      var value = this.refs.input.value;\n      var unit = this.refs.unit.value;\n      if (this.isDefautUnit(unit)) {\n        if (value.length === 0) {\n          this.setState({\n            value: value,\n            unit: unit\n          });\n          this.updatePropValue(undefined);\n          return;\n        } else {\n          var units = this.getUnits();\n          unit = units.find(function (u) {\n            return !_this3.isDefautUnit(u) && u != '%';\n          });\n          unit = !unit && units.includes('%') ? '%' : unit;\n          unit = unit || '';\n        }\n      }\n      this.setState({\n        value: value,\n        unit: unit\n      });\n      if (/^(\\d+;){1,3}\\d+$/.test(value)) {\n        // '1;2;3;4'\n        var newRadius = value.split(';').map(function (str) {\n          return \"\".concat(str).concat(unit);\n        }).join(' ');\n        this.updatePropValue(newRadius);\n      } else if (/^\\d+$/.test(value)) {\n        this.updatePropValue(\"\".concat(value).concat(unit));\n      }\n      // if (value.length > 0) {\n      //   this.updatePropValue(value + unit)\n      // }\n    }\n  }, {\n    key: \"handleBlur\",\n    value: function handleBlur() {\n      var dimension = this.state || {};\n      if (!dimension.value) {\n        if (dimension.unit) {\n          this.updatePropValue(undefined);\n        }\n      }\n      this.handleCorrectValue();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n        field = _this$props.field,\n        prop = _this$props.prop,\n        uiInfo = _this$props.uiInfo;\n      var fieldName = prop.get('name');\n      var name = prop.get('alias', fieldName);\n      var _ref = this.state || {},\n        value = _ref.value,\n        unit = _ref.unit;\n      return /*#__PURE__*/_react[\"default\"].createElement(_LabelContainer[\"default\"], (0, _LabelContainer.getLabelContainerProps)(prop, 'Radius'), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _common[\"default\"].mixinscontrol\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"input\", {\n        ref: \"input\",\n        type: \"text\",\n        value: value,\n        onChange: this.handleValueChange,\n        onBlur: this.handleBlur\n      }), /*#__PURE__*/_react[\"default\"].createElement(\"select\", {\n        className: _common[\"default\"].triger,\n        ref: \"unit\",\n        onChange: this.handleUnitChange,\n        value: unit\n      }, this.getUnits().map(function (item, index) {\n        return /*#__PURE__*/_react[\"default\"].createElement(\"option\", {\n          key: item,\n          value: item\n        }, item || (0, _intlApi.getLangMsg)('bosd.radiusPropertyEditor.key0001'));\n      }))));\n    }\n  }]);\n  return RadiusPropertyEditor;\n}(_react.Component);\nvar _default = exports[\"default\"] = (0, _EditorWarpper[\"default\"])(RadiusPropertyEditor);\n\n//# sourceURL=webpack://bos-platform/./src/designer/editors/RadiusPropertyEditor.jsx?");

/***/ }),

/***/ "./src/designer/editors/ReadOnlyPropEditor.jsx":
/*!*****************************************************!*\
  !*** ./src/designer/editors/ReadOnlyPropEditor.jsx ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _common = _interopRequireDefault(__webpack_require__(/*! ./common/common.less */ \"./src/designer/editors/common/common.less\"));\nvar _LabelContainer = _interopRequireWildcard(__webpack_require__(/*! ./common/LabelContainer */ \"./src/designer/editors/common/LabelContainer.jsx\"));\nvar _EditorWarpper = _interopRequireDefault(__webpack_require__(/*! ./common/EditorWarpper */ \"./src/designer/editors/common/EditorWarpper.jsx\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar readOnlyPropEditor = /*#__PURE__*/function (_Component) {\n  _inherits(readOnlyPropEditor, _Component);\n  function readOnlyPropEditor() {\n    _classCallCheck(this, readOnlyPropEditor);\n    return _callSuper(this, readOnlyPropEditor, arguments);\n  }\n  _createClass(readOnlyPropEditor, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n        field = _this$props.field,\n        prop = _this$props.prop,\n        uiInfo = _this$props.uiInfo;\n      var propName = prop.get('name');\n      var name = prop.get('alias', propName);\n      var value = this.props.getPropertyValue();\n      return /*#__PURE__*/_react[\"default\"].createElement(_LabelContainer[\"default\"], (0, _LabelContainer.getLabelContainerProps)(prop, 'ReadOnly'), /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n        className: _common[\"default\"].readonly,\n        title: value\n      }, value));\n    }\n  }]);\n  return readOnlyPropEditor;\n}(_react.Component);\nvar _default = exports[\"default\"] = (0, _EditorWarpper[\"default\"])(readOnlyPropEditor);\n\n//# sourceURL=webpack://bos-platform/./src/designer/editors/ReadOnlyPropEditor.jsx?");

/***/ }),

/***/ "./src/designer/editors/RefEditBtnPropertyEditor.jsx":
/*!***********************************************************!*\
  !*** ./src/designer/editors/RefEditBtnPropertyEditor.jsx ***!
  \***********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.RefEditBtnPropertyEditor = RefEditBtnPropertyEditor;\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _common = _interopRequireDefault(__webpack_require__(/*! ./common/common.less */ \"./src/designer/editors/common/common.less\"));\nvar _LabelContainer = _interopRequireWildcard(__webpack_require__(/*! ./common/LabelContainer */ \"./src/designer/editors/common/LabelContainer.jsx\"));\nvar _EditorWarpper = _interopRequireDefault(__webpack_require__(/*! ./common/EditorWarpper */ \"./src/designer/editors/common/EditorWarpper.jsx\"));\nvar _classnames5 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _appModelFunction = __webpack_require__(/*! @/model/appModelFunction */ \"./src/model/appModelFunction.js\");\nvar _kdesign = __webpack_require__(/*! @kdcloudjs/kdesign */ \"webpack/sharing/consume/default/@kdcloudjs/kdesign/@kdcloudjs/kdesign\");\nvar _uiModelFunction = __webpack_require__(/*! @/designer/model/uiModelFunction */ \"./src/designer/model/uiModelFunction.js\");\nvar _RefEditBtnPropertyEditor = _interopRequireDefault(__webpack_require__(/*! ./RefEditBtnPropertyEditor.less */ \"./src/designer/editors/RefEditBtnPropertyEditor.less\"));\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction RefEditBtnPropertyEditor(_ref) {\n  var _getRootConfig;\n  var prop = _ref.prop,\n    field = _ref.field,\n    uiInfo = _ref.uiInfo,\n    updatePropValue = _ref.updatePropValue,\n    getPropertyValue = _ref.getPropertyValue,\n    updateOtherPropValue = _ref.updateOtherPropValue,\n    otherTypeClick = _ref.otherTypeClick;\n  var refId = prop.getIn(['Editor', 'refId']);\n  var maxlength = prop.getIn(['Editor', 'length']);\n  var inputType = prop.getIn(['Editor', 'type']) === 'integer' ? 'number' : 'text';\n  var disabled = prop.get('ReadOnly');\n  var _useState = (0, _react.useState)((0, _intlApi.getLangMsg)('bosd.refEditBtnPropertyEditor.key0001')),\n    _useState2 = _slicedToArray(_useState, 2),\n    refTips = _useState2[0],\n    setRefTips = _useState2[1];\n  var _useState3 = (0, _react.useState)(),\n    _useState4 = _slicedToArray(_useState3, 2),\n    refValue = _useState4[0],\n    setRefValue = _useState4[1];\n  var _useState5 = (0, _react.useState)(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    enableQuote = _useState6[0],\n    setEnableQuote = _useState6[1];\n  var propValue = getPropertyValue();\n  var _useState7 = (0, _react.useState)(propValue || ''),\n    _useState8 = _slicedToArray(_useState7, 2),\n    inputValue = _useState8[0],\n    setInputValue = _useState8[1];\n  var kdesignerRefType = (0, _react.useRef)(((_getRootConfig = (0, _appModelFunction.getRootConfig)()) === null || _getRootConfig === void 0 ? void 0 : _getRootConfig.kdesignerRefType) || '1');\n  (0, _react.useEffect)(function () {\n    var apply = prop.getIn(['Editor', 'apply']);\n    // Allowinheritref 是控制是否需要判断继承字段是否生效，false是需要判断，true是不需要判断\n    var allowInheritRef = apply.get('allowinheritref', true);\n    // modeltype 生效的单据类型数组\n    var applyModelTypes = apply.get('modeltype');\n    // 单据布局类型是否生效\n    var applyBillLayout = apply.get('applyBillLayout', false);\n    var fieldItem = (0, _uiModelFunction.getFormFieldInfo)(uiInfo, field.get('Id'));\n    var fieldType = field.get('FieldType');\n    var inherit = fieldItem.get('Inherit') || false;\n    var modelType = uiInfo.getIn(['formmeta', 'ModelType']);\n    var entityreadonly = uiInfo.getIn(['entityreadonly']);\n    // Inherit 继承字段\n    if (allowInheritRef || !inherit) {\n      // 是否生效引用类型，如果没有传appIy默认生效，传了就判断是否包含该字段\n      var isEnableQuote = apply ? apply.get('field').includes(fieldType) : true;\n      // 当type为3同时没有值时，需要隐藏引用按钮\n      var isEnableType = !(kdesignerRefType.current === '3' && !refValue);\n      // 该单据类型是否生效\n      var isApplyModelType = applyModelTypes === null || applyModelTypes === void 0 ? void 0 : applyModelTypes.includes(modelType);\n      // 单据布局是否生效, entityreadonly为true时表明为单据布局\n      var isApplyBillLayout = entityreadonly ? applyBillLayout : true;\n      setEnableQuote(isEnableQuote && isEnableType && isApplyModelType && isApplyBillLayout);\n    } else {\n      // 继承字段不生效\n      setEnableQuote(false);\n    }\n  }, [prop, field, refValue]);\n  (0, _react.useEffect)(function () {\n    var _newRefValue, _newRefValue2;\n    var newField = (0, _uiModelFunction.getEntityFieldInfo)(uiInfo, field.get('Id'));\n    var newRefValue = newField === null || newField === void 0 ? void 0 : newField.get(refId);\n    if (newRefValue && typeof newRefValue === 'string') {\n      newRefValue = JSON.parse(newRefValue);\n    }\n    newRefValue ? setRefTips((0, _intlApi.getLangMsg)({\n      key: 'bosd.refEditBtnPropertyEditor.key0002',\n      variables: {\n        name: (_newRefValue = newRefValue) === null || _newRefValue === void 0 ? void 0 : _newRefValue.Name,\n        key: (_newRefValue2 = newRefValue) === null || _newRefValue2 === void 0 ? void 0 : _newRefValue2.Key\n      }\n    })) : setRefTips((0, _intlApi.getLangMsg)('bosd.refEditBtnPropertyEditor.key0001'));\n    setRefValue(newRefValue);\n  }, [uiInfo, field]);\n  (0, _react.useEffect)(function () {\n    setInputValue(propValue);\n  }, [propValue]);\n  var handleChange = function handleChange(e) {\n    setInputValue(e.target.value);\n  };\n\n  // 失焦时更新值，和TextPropEditor保持一致\n  var handleBlur = function handleBlur(e) {\n    updatePropValue && updatePropValue(e.target.value);\n  };\n  var handleClick = function handleClick() {\n    if (disabled && !refValue) return;\n    otherTypeClick && otherTypeClick({\n      metaType: 'entitymeta'\n    });\n  };\n  var handleClear = (0, _react.useCallback)(function (event) {\n    event && event.stopPropagation();\n    // 给后端发送原有的数据，防止例如id超过最大值的问题\n    var newField = (0, _uiModelFunction.getEntityFieldInfo)(uiInfo, field.get('Id'));\n    otherTypeClick && otherTypeClick({\n      otherParams: _defineProperty({\n        type: 'del'\n      }, refId, newField === null || newField === void 0 ? void 0 : newField.get(refId)),\n      metaType: 'entitymeta'\n    });\n    refId && updateOtherPropValue(refId, '');\n  }, [updateOtherPropValue, otherTypeClick, uiInfo, field]);\n  var titleIcon = (0, _react.useCallback)(function () {\n    var titleClass = (0, _classnames5[\"default\"])(_defineProperty(_defineProperty(_defineProperty({}, _RefEditBtnPropertyEditor[\"default\"].icon, true), 'kdfont kdfont-yiyinyong', refValue), 'kdfont kdfont-weiyinyong', !refValue));\n    return /*#__PURE__*/_react[\"default\"].createElement(_kdesign.Tooltip, {\n      placement: \"top\",\n      tip: refTips\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n      className: titleClass\n    }));\n  }, [refTips, refValue]);\n  var inputClass = (0, _classnames5[\"default\"])(_defineProperty(_defineProperty({}, _common[\"default\"].input, true), _common[\"default\"].disabled, disabled && !(enableQuote && refValue)));\n  var btnClass = (0, _classnames5[\"default\"])(_defineProperty(_defineProperty({}, _common[\"default\"].btn, true), _common[\"default\"].disabled, disabled && !refValue));\n  var rootClassName = (0, _classnames5[\"default\"])(_common[\"default\"].mixinscontrol, _defineProperty({}, _RefEditBtnPropertyEditor[\"default\"].root, true));\n  return /*#__PURE__*/_react[\"default\"].createElement(_LabelContainer[\"default\"], _extends({}, (0, _LabelContainer.getLabelContainerProps)(prop, 'Default'), {\n    titleSlot: enableQuote && titleIcon\n  }), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: rootClassName\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"input\", {\n    readOnly: Boolean(enableQuote && (refValue || kdesignerRefType.current === '2')),\n    disabled: disabled && !(enableQuote && refValue),\n    className: inputClass,\n    type: inputType,\n    value: inputValue,\n    onChange: handleChange,\n    onBlur: handleBlur,\n    title: maxlength && (0, _intlApi.getLangMsg)({\n      key: 'bosd.refEditBtnPropertyEditor.key0003',\n      variables: {\n        maxlength: maxlength\n      }\n    }),\n    maxLength: maxlength\n  }), enableQuote && refValue && /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: _RefEditBtnPropertyEditor[\"default\"].clear,\n    onClick: handleClear\n  }, \"\\xD7\"), enableQuote && /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    style: {\n      cursor: disabled && !refValue ? 'not-allowed' : 'pointer'\n    },\n    className: btnClass,\n    onClick: handleClick\n  }, \"...\")));\n}\nvar _default = exports[\"default\"] = (0, _EditorWarpper[\"default\"])(RefEditBtnPropertyEditor);\n\n//# sourceURL=webpack://bos-platform/./src/designer/editors/RefEditBtnPropertyEditor.jsx?");

/***/ }),

/***/ "./src/designer/editors/RefcomboPropertyEditor.jsx":
/*!*********************************************************!*\
  !*** ./src/designer/editors/RefcomboPropertyEditor.jsx ***!
  \*********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.join.js */ \"../../node_modules/core-js/modules/es.array.join.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _Select = _interopRequireWildcard(__webpack_require__(/*! ./common/Select */ \"./src/designer/editors/common/Select.jsx\"));\nvar _common = _interopRequireDefault(__webpack_require__(/*! ./common/common.less */ \"./src/designer/editors/common/common.less\"));\nvar _LabelContainer = _interopRequireWildcard(__webpack_require__(/*! ./common/LabelContainer */ \"./src/designer/editors/common/LabelContainer.jsx\"));\nvar _EditorWarpper = _interopRequireDefault(__webpack_require__(/*! ./common/EditorWarpper */ \"./src/designer/editors/common/EditorWarpper.jsx\"));\nvar _model = __webpack_require__(/*! ../model */ \"./src/designer/model/index.js\");\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar RefcomboPropertyEditor = /*#__PURE__*/function (_Component) {\n  _inherits(RefcomboPropertyEditor, _Component);\n  function RefcomboPropertyEditor(props) {\n    var _this;\n    _classCallCheck(this, RefcomboPropertyEditor);\n    _this = _callSuper(this, RefcomboPropertyEditor, [props]);\n    _this.onChange = _this.onChange.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  _createClass(RefcomboPropertyEditor, [{\n    key: \"componentWillUpdate\",\n    value: function componentWillUpdate(nextProps, nextState) {\n      var items = this.getItems(nextProps);\n      var proValue = this.props.getPropertyValue();\n      var isValidValue = false;\n      items.forEach(function (item) {\n        if (_lodash[\"default\"].includes(proValue, item.Id)) {\n          isValidValue = true;\n        }\n      });\n      if (!isValidValue && proValue) {\n        this.onChange(undefined);\n      }\n    }\n  }, {\n    key: \"onChange\",\n    value: function onChange(value) {\n      // if (value == null) return;\n      if (Array.isArray(value)) {\n        value = value.join(',');\n      }\n      this.props.updatePropValue(value);\n    }\n  }, {\n    key: \"getItems\",\n    value: function getItems(props) {\n      var field = props.field,\n        prop = props.prop,\n        uiInfo = props.uiInfo,\n        metaType = props.metaType,\n        uiConfig = props.uiConfig;\n      var editorInfo = prop.get('Editor', (0, _immutable.Map)());\n      var refInfo = editorInfo.get('ref');\n      var refPropValue;\n      var fieldId = field.get('Id');\n      var propMetaType = metaType;\n      var refPropName;\n      while (refInfo) {\n        refPropName = refInfo.get('name');\n        var refType = refInfo.get('type');\n        switch (refType) {\n          case 'entitymeta':\n            propMetaType = 'entitymeta';\n            break;\n          case 'formmeta':\n            propMetaType = 'formmeta';\n            break;\n          case 'entityrootitem':\n            fieldId = _model.uiModel.getEntityRootId(uiInfo);\n            propMetaType = 'entitymeta';\n            break;\n          case 'formrootitem':\n            fieldId = _model.uiModel.getRootId(uiInfo);\n            propMetaType = 'formmeta';\n            break;\n          case 'entityparentitem':\n            var fieldInfo = _model.uiModel.getEntityFieldInfo(uiInfo, fieldId);\n            fieldId = fieldInfo.get('ParentId') || _model.uiModel.getEntityRootId(uiInfo);\n            break;\n          case 'formparentitem':\n            fieldInfo = _model.uiModel.getFormFieldInfo(uiInfo, fieldId);\n            fieldId = fieldInfo.get('ParentId') || _model.uiModel.getRootId(uiInfo);\n            break;\n          default:\n            // 'item'\n            break;\n        }\n        refPropValue = this.props.getPropertyValue(uiInfo, fieldId, refPropName, propMetaType);\n        var nextRefInfo = refInfo.get('ref');\n        if (!nextRefInfo) {\n          break;\n        }\n        fieldId = refPropValue;\n        refInfo = nextRefInfo;\n      }\n      var refItems = refPropValue;\n      if (typeof refPropValue === 'string' && refPropValue !== '') {\n        refItems = refItems.split(',');\n        if (refItems.length > 0) {\n          var refItemValue = refInfo.getIn(['displayItem', 'value']);\n          var refProp = _model.metadataModel.getConfigProp(uiConfig, field.get('Type'), refPropName);\n          var refPropItems = refProp.getIn(['Editor', 'items'], (0, _immutable.List)());\n          refItems = refPropItems.filter(function (item) {\n            return refItems.indexOf(item.get(refItemValue)) >= 0;\n          });\n        }\n      }\n      var optionItems = [];\n      if (refItems) {\n        var refItemCaption = refInfo.getIn(['displayItem', 'caption']);\n        var _refItemValue = refInfo.getIn(['displayItem', 'value']);\n        refItems = Array.isArray(refItems) ? (0, _immutable.fromJS)(refItems) : refItems;\n        if (_immutable.List.isList(refItems)) {\n          refItems.forEach(function (item) {\n            var caption = item.get(refItemCaption);\n            var itemValue = item.get(_refItemValue);\n            if (caption == null || caption == '') caption = itemValue;\n            optionItems.push({\n              Id: itemValue,\n              Name: caption\n            });\n          });\n        } else if (_typeof(refItems) === 'object') {\n          var caption = refItems.get(refItemCaption);\n          var itemValue = refItems.get(_refItemValue);\n          optionItems.push({\n            Id: itemValue,\n            Name: caption\n          });\n        }\n      }\n      return optionItems;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n        prop = _this$props.prop,\n        _this$props$multiple = _this$props.multiple,\n        multiple = _this$props$multiple === void 0 ? false : _this$props$multiple;\n      var proValue = this.props.getPropertyValue();\n      var defaultValue = prop.getIn(['Editor', 'default'], '');\n      var optionItems = this.getItems(this.props);\n      if (multiple) {\n        defaultValue = defaultValue === '' ? [] : defaultValue.split(',');\n        proValue = proValue || '';\n        proValue = proValue === '' ? [] : proValue.split(',');\n      }\n      optionItems = optionItems.filter(function (item) {\n        return item.Id !== '';\n      });\n      var disabled = prop.get('ReadOnly');\n      return /*#__PURE__*/_react[\"default\"].createElement(_LabelContainer[\"default\"], (0, _LabelContainer.getLabelContainerProps)(prop, 'Refcombo'), /*#__PURE__*/_react[\"default\"].createElement(_Select[\"default\"], {\n        className: disabled ? _common[\"default\"]['select-disabled'] : '',\n        disabled: disabled,\n        allowClear: !disabled,\n        multiple: multiple,\n        style: {\n          flexGrow: 1\n        },\n        defaultValue: defaultValue,\n        value: proValue,\n        optionFilterProp: \"children\",\n        optionLabelProp: \"children\",\n        placeholder: (0, _intlApi.getLangMsg)('bosd.refcomboPropertyEditor.key0001'),\n        dropdownMenuStyle: {\n          maxHeight: 200,\n          overflow: 'auto'\n        },\n        onChange: this.onChange\n      }, optionItems.map(function (item, index) {\n        return /*#__PURE__*/_react[\"default\"].createElement(_Select.Option, {\n          key: index,\n          value: item.Id\n        }, item.Name);\n      })));\n    }\n  }]);\n  return RefcomboPropertyEditor;\n}(_react.Component);\nvar _default = exports[\"default\"] = (0, _EditorWarpper[\"default\"])(RefcomboPropertyEditor);\n\n//# sourceURL=webpack://bos-platform/./src/designer/editors/RefcomboPropertyEditor.jsx?");

/***/ }),

/***/ "./src/designer/editors/RefmcomboPropertyEditor.jsx":
/*!**********************************************************!*\
  !*** ./src/designer/editors/RefmcomboPropertyEditor.jsx ***!
  \**********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _RefcomboPropertyEditor = _interopRequireDefault(__webpack_require__(/*! ./RefcomboPropertyEditor */ \"./src/designer/editors/RefcomboPropertyEditor.jsx\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nvar RefmcomboPropertyEditor = function RefmcomboPropertyEditor(props) {\n  return /*#__PURE__*/_react[\"default\"].createElement(_RefcomboPropertyEditor[\"default\"], _extends({}, props, {\n    multiple: true\n  }));\n};\nvar _default = exports[\"default\"] = RefmcomboPropertyEditor;\n\n//# sourceURL=webpack://bos-platform/./src/designer/editors/RefmcomboPropertyEditor.jsx?");

/***/ }),

/***/ "./src/designer/editors/TextPropertyEditor.jsx":
/*!*****************************************************!*\
  !*** ./src/designer/editors/TextPropertyEditor.jsx ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.find-index.js */ \"../../node_modules/core-js/modules/es.array.find-index.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.array.some.js */ \"../../node_modules/core-js/modules/es.array.some.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.constructor.js */ \"../../node_modules/core-js/modules/es.regexp.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.replace.js */ \"../../node_modules/core-js/modules/es.string.replace.js\");\n__webpack_require__(/*! core-js/modules/es.string.trim.js */ \"../../node_modules/core-js/modules/es.string.trim.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _propnames = __webpack_require__(/*! ../constant/propnames */ \"./src/designer/constant/propnames.js\");\nvar _constant = __webpack_require__(/*! ../constant */ \"./src/designer/constant/index.js\");\nvar _common = _interopRequireDefault(__webpack_require__(/*! ./common/common.less */ \"./src/designer/editors/common/common.less\"));\nvar _LabelContainer = _interopRequireWildcard(__webpack_require__(/*! ./common/LabelContainer */ \"./src/designer/editors/common/LabelContainer.jsx\"));\nvar _EditorWarpper = _interopRequireDefault(__webpack_require__(/*! ./common/EditorWarpper */ \"./src/designer/editors/common/EditorWarpper.jsx\"));\nvar _designerContext = __webpack_require__(/*! ../controls/common/designerContext */ \"./src/designer/controls/common/designerContext.js\");\nvar _model = __webpack_require__(/*! ../model */ \"./src/designer/model/index.js\");\nvar _classnames2 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar TextPropEditor = /*#__PURE__*/function (_Component) {\n  _inherits(TextPropEditor, _Component);\n  function TextPropEditor(props) {\n    var _this;\n    _classCallCheck(this, TextPropEditor);\n    _this = _callSuper(this, TextPropEditor, [props]);\n    _this.state = {\n      value: props.value\n    };\n    _this.requiredProps = [_propnames.KEY]; // 必填属性列表\n    _this.uniqueProps = [_propnames.KEY]; // 唯一值属性列表\n    _this.validateProps = ['TableName', 'PkFieldName', 'FieldName', 'DataScope']; // 需校验属性\n    _this.lowerCaseProps = [_propnames.KEY, 'TableName', 'PkFieldName', 'FieldName']; // 需要将值转换成小写的属性\n\n    _this.onKeyDown = _this.onKeyDown.bind(_assertThisInitialized(_this));\n    _this.onBlur = _this.onBlur.bind(_assertThisInitialized(_this));\n    _this.onChange = _this.onChange.bind(_assertThisInitialized(_this));\n    _this.isValidSuccess = _this.isValidSuccess.bind(_assertThisInitialized(_this));\n    _this.updatePropValue = _this.updatePropValue.bind(_assertThisInitialized(_this));\n    _this.delayUpdateValue = _lodash[\"default\"].debounce(_this.updatePropValue, 300);\n    return _this;\n  }\n  _createClass(TextPropEditor, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      var value = this.props.value;\n      var nextValue = nextProps.value;\n      if (value !== nextValue) {\n        this.setState({\n          value: nextValue\n        });\n      }\n    }\n  }, {\n    key: \"updatePropValue\",\n    value: function updatePropValue(value) {\n      // 不更新, 只是失焦再去保存\n      // if (this.isValidSuccess(value)) {\n      //   this.props.updatePropValue(value)\n      // }\n    }\n  }, {\n    key: \"isValidSuccess\",\n    value: function isValidSuccess(value) {\n      var _this2 = this;\n      var _this$props = this.props,\n        prop = _this$props.prop,\n        oldValue = _this$props.value,\n        field = _this$props.field,\n        uiInfo = _this$props.uiInfo;\n      var validGroup = prop.get('Validator', []);\n      var validMessage = {\n        isSuccess: true,\n        errorMessage: ''\n      };\n      if (!validGroup || validGroup.size <= 0) {\n        return validMessage;\n      }\n      // 正则的规则: 如果当前值符合规范, 则与正则匹配成功\n      validGroup.map(function (item) {\n        var type = item.get('type');\n        var format = item.get('format');\n        switch (type) {\n          case 'regex':\n            if (format && format.size > 0) {\n              validMessage.isSuccess = !format.some(function (formatItem) {\n                var rgxStr = formatItem.get(0);\n                var msg = formatItem.get(1);\n                validMessage.errorMessage = msg;\n                var newRegex = rgxStr && new RegExp(rgxStr);\n                return newRegex && !newRegex.test(value);\n              });\n            }\n            break;\n          default:\n            break;\n        }\n      });\n      if (!validMessage.isSuccess) {\n        this.setState({\n          value: oldValue\n        }, function () {\n          var filedName = _model.uiModel.getFormFieldInfo(uiInfo, field.get(_propnames.ID)).get(_propnames.NAME);\n          var propName = prop.get('alias') || prop.get('name');\n          _this2.context.notifyMsg((0, _intlApi.getLangMsg)({\n            key: 'bosd.textPropertyEditor.key0001',\n            variables: {\n              filedName: filedName,\n              propName: propName,\n              errorMessage: validMessage.errorMessage\n            }\n          }), 'warn');\n        });\n      }\n      return validMessage.isSuccess;\n    }\n  }, {\n    key: \"onChange\",\n    value: function onChange() {\n      var prop = this.props.prop;\n      var propName = prop.get('name');\n      var value = this.refs.input.value || '';\n      if (_lodash[\"default\"].indexOf(this.lowerCaseProps, propName) >= 0) {\n        value = (value || '').toLowerCase();\n      }\n      if (propName === _propnames.KEY) {\n        // 由于'.'会影响运行时的属性，所以屏蔽掉‘.’符号\n        value = value.replace(/\\./g, '');\n      }\n      this.setState({\n        value: value\n      });\n      if (_lodash[\"default\"].indexOf(this.requiredProps, propName) === -1 && _lodash[\"default\"].indexOf(this.uniqueProps, propName) === -1 && _lodash[\"default\"].indexOf(this.validateProps, propName) === -1) {\n        this.delayUpdateValue(value);\n      }\n    }\n  }, {\n    key: \"uniqueValidate\",\n    value: function uniqueValidate(value) {\n      var _this$props2 = this.props,\n        uiInfo = _this$props2.uiInfo,\n        field = _this$props2.field,\n        prop = _this$props2.prop;\n      var propName = prop.get('name');\n      var fieldId = field.get(_propnames.ID); // 字段Id\n\n      var path = ['formmeta', _propnames.ITEMS];\n      var propIndex = uiInfo.getIn(path, (0, _immutable.List)()).findIndex(function (item) {\n        return item.get(_propnames.ID) != fieldId && (item.get(propName) == value || item.get('ListFieldId') === value);\n      });\n      return propIndex == -1;\n    }\n  }, {\n    key: \"onKeyDown\",\n    value: function onKeyDown(e) {\n      if (e.nativeEvent.keyCode === 13) {\n        this.onBlur(e);\n      }\n    }\n  }, {\n    key: \"onBlur\",\n    value: function onBlur() {\n      var value = this.refs.input.value || '';\n      var oldValue = this.props.value;\n      if (value === oldValue) return;\n      var prop = this.props.prop;\n      var propName = prop.get('name');\n      var name = prop.get('alias', propName);\n      if (_lodash[\"default\"].indexOf(this.requiredProps, propName) >= 0 && _lodash[\"default\"].isEmpty(value + '')) {\n        this.context.notifyMsg((0, _intlApi.getLangMsg)({\n          key: 'bosd.textPropertyEditor.key0002',\n          variables: {\n            name: name\n          }\n        }), 'warn');\n        this.setState({\n          value: oldValue\n        });\n        return;\n      }\n      if (_lodash[\"default\"].indexOf(this.uniqueProps, propName) >= 0 && !this.uniqueValidate(value)) {\n        // 校验不通过\n        this.context.notifyMsg((0, _intlApi.getLangMsg)({\n          key: 'bosd.textPropertyEditor.key0003',\n          variables: {\n            value: value\n          }\n        }), 'warn');\n        this.setState({\n          value: oldValue\n        });\n        return;\n      }\n      if (_lodash[\"default\"].indexOf(this.validateProps, propName) >= 0 && _lodash[\"default\"].findIndex(_constant.SPECIAL_WORDS, function (val) {\n        return val.toLowerCase() == value;\n      }) >= 0) {\n        this.context.notifyMsg((0, _intlApi.getLangMsg)({\n          key: 'bosd.textPropertyEditor.key0004',\n          variables: {\n            name: name,\n            value: value\n          }\n        }), 'warn');\n        this.setState({\n          value: oldValue\n        });\n        return;\n      }\n      if (propName === _propnames.KEY) {\n        if (_lodash[\"default\"].findIndex(_constant.RESERVEDFILEDKEYS, function (val) {\n          return val.toLowerCase() == value;\n        }) >= 0) {\n          this.context.notifyMsg((0, _intlApi.getLangMsg)({\n            key: 'bosd.textPropertyEditor.key0005',\n            variables: {\n              value: value\n            }\n          }), 'warn');\n          this.setState({\n            value: oldValue\n          });\n          return;\n        } else if (value.indexOf(' ') >= 0) {\n          this.context.notifyMsg((0, _intlApi.getLangMsg)('bosd.textPropertyEditor.key0006'), 'warn');\n          this.setState({\n            value: oldValue\n          });\n          return;\n        } else if (value.indexOf('$$') === 0) {\n          this.context.notifyMsg((0, _intlApi.getLangMsg)('bosd.textPropertyEditor.key0007\"'), 'warn');\n          this.setState({\n            value: oldValue\n          });\n          return;\n        }\n      } else if (propName === 'DataScope' && _lodash[\"default\"].trim(value) !== '') {\n        // 去掉空格\n        value = value.replace(/\\s/g, '');\n        // 数值范围的格式为‘[0,10]’或‘(0,10)’或'[0,10)'或'(0,10]',且最小值小于最大值\n        var exp = new RegExp(/^[\\[|\\(](-?\\d*\\.?\\d*),(-?\\d*\\.?\\d*)[\\]|\\)]$/, 'g');\n        var arr = exp.exec(value);\n        if (arr === null || arr[1] !== '' && arr[2] !== '' && _lodash[\"default\"].toNumber(arr[1]) >= _lodash[\"default\"].toNumber(arr[2])) {\n          this.context.notifyMsg((0, _intlApi.getLangMsg)('bosd.textPropertyEditor.key0008'), 'warn');\n          this.setState({\n            value: oldValue\n          });\n          return;\n        }\n      }\n      if (_lodash[\"default\"].indexOf(this.lowerCaseProps, propName) >= 0) {\n        value = value.toLowerCase();\n      }\n      if (this.isValidSuccess(value)) {\n        this.props.updatePropValue(value);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var prop = this.props.prop;\n      var propName = prop.get('name');\n      var maxlength = prop.getIn(['Editor', 'length']);\n      var eleProp = {};\n      if (maxlength) {\n        eleProp.title = (0, _intlApi.getLangMsg)({\n          key: 'bosd.textPropertyEditor.key0009',\n          variables: {\n            maxlength: maxlength\n          }\n        });\n        eleProp.maxLength = maxlength;\n      }\n      eleProp.onChange = this.onChange;\n      // if (_.indexOf(this.requiredProps, propName) >= 0 ||\n      //     _.indexOf(this.uniqueProps, propName) >= 0 ||\n      //     _.indexOf(this.validateProps, propName) >= 0) {\n      //   eleProp.onBlur = this.onBlur\n      //   eleProp.onKeyDown = this.onKeyDown\n      // }\n\n      eleProp.onBlur = this.onBlur;\n      eleProp.onKeyDown = this.onKeyDown;\n      var disabled = prop.get('ReadOnly');\n      var inputClass = (0, _classnames2[\"default\"])(_defineProperty(_defineProperty({}, _common[\"default\"].input, true), _common[\"default\"].disabled, disabled));\n      return /*#__PURE__*/_react[\"default\"].createElement(_LabelContainer[\"default\"], (0, _LabelContainer.getLabelContainerProps)(prop, 'Text'), /*#__PURE__*/_react[\"default\"].createElement(\"input\", _extends({\n        disabled: disabled,\n        className: inputClass,\n        ref: \"input\",\n        type: \"text\",\n        value: this.state.value == null ? '' : this.state.value\n      }, eleProp)));\n    }\n  }]);\n  return TextPropEditor;\n}(_react.Component);\nTextPropEditor.contextType = _designerContext.EdituiContext;\nvar _default = exports[\"default\"] = (0, _EditorWarpper[\"default\"])(TextPropEditor);\n\n//# sourceURL=webpack://bos-platform/./src/designer/editors/TextPropertyEditor.jsx?");

/***/ }),

/***/ "./src/designer/editors/common/ColorPicker.jsx":
/*!*****************************************************!*\
  !*** ./src/designer/editors/common/ColorPicker.jsx ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.string.match.js */ \"../../node_modules/core-js/modules/es.string.match.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _propTypes = _interopRequireDefault(__webpack_require__(/*! prop-types */ \"../../node_modules/prop-types/index.js\"));\nvar _reactDom = _interopRequireDefault(__webpack_require__(/*! react-dom */ \"webpack/sharing/consume/default/react-dom/react-dom?418d\"));\nvar _colorPicker = _interopRequireDefault(__webpack_require__(/*! ./colorPicker.less */ \"./src/designer/editors/common/colorPicker.less\"));\nvar _picker = _interopRequireDefault(__webpack_require__(/*! ./picker.png */ \"./src/designer/editors/common/picker.png\"));\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _classnames2 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _Switch = _interopRequireDefault(__webpack_require__(/*! ../../../component/web/base/Switch */ \"./src/component/web/base/Switch.js\"));\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar ColorPicker = /*#__PURE__*/function (_React$Component) {\n  _inherits(ColorPicker, _React$Component);\n  function ColorPicker(props) {\n    var _this;\n    _classCallCheck(this, ColorPicker);\n    _this = _callSuper(this, ColorPicker, [props]);\n    _this.state = {\n      showPanel: false,\n      color: props.color,\n      alpha: props.alpha,\n      isCheck: false\n    };\n    _this.clickFunc = _this.clickFunc.bind(_assertThisInitialized(_this));\n    _this.handleCheck = _this.handleCheck.bind(_assertThisInitialized(_this));\n    _this.changeColorFromItems = _this.changeColorFromItems.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  _createClass(ColorPicker, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      var isCheck = false;\n      if (nextProps.color === 'themeColor') {\n        isCheck = true;\n      }\n      this.setState({\n        color: nextProps.color,\n        alpha: nextProps.alpha,\n        isCheck: isCheck\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      document.removeEventListener('click', this.clickFunc);\n    }\n  }, {\n    key: \"clickFunc\",\n    value: function clickFunc(e) {\n      var target = e.target;\n      while (target) {\n        if (target === _reactDom[\"default\"].findDOMNode(this)) {\n          return;\n        }\n        target = target.parentNode;\n      }\n      this.closePanel();\n    }\n  }, {\n    key: \"createColorItems\",\n    value: function createColorItems() {\n      var _this2 = this;\n      if (this.state.showPanel) {\n        var cs = _lodash[\"default\"].flatten(this.props.colors);\n        return _lodash[\"default\"].map(cs, function (color, idx) {\n          color = color === 'current' ? _this2.props.color || '#ffffff' : color;\n          var style = {\n            backgroundColor: color\n          };\n          return /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n            key: idx,\n            className: (0, _classnames2[\"default\"])(_colorPicker[\"default\"].colorItem, 'kd-cq-color-picker-color-block'),\n            title: color,\n            style: style,\n            onClick: function onClick(e) {\n              return _this2.changeColorFromItems({\n                color: color,\n                alpha: _this2.state.alpha\n              });\n            }\n          });\n        });\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: \"openPanel\",\n    value: function openPanel() {\n      var _this3 = this;\n      var isCheck = false;\n      var color = this.props.color;\n      if (color === 'themeColor') {\n        isCheck = true;\n      }\n      this.setState({\n        showPanel: !this.state.showPanel,\n        isCheck: isCheck\n      }, function () {\n        if (_this3.state.showPanel) {\n          document.addEventListener('click', _this3.clickFunc);\n        } else {\n          document.removeEventListener('click', _this3.clickFunc);\n        }\n      });\n    }\n  }, {\n    key: \"closePanel\",\n    value: function closePanel() {\n      this.setState({\n        showPanel: false\n      });\n    }\n  }, {\n    key: \"changeColorFromItems\",\n    value: function changeColorFromItems(_ref) {\n      var color = _ref.color,\n        alpha = _ref.alpha;\n      if (this.state.isCheck) return;\n      this.changeColor({\n        color: color,\n        alpha: alpha\n      });\n    }\n  }, {\n    key: \"changeColor\",\n    value: function changeColor(_ref2) {\n      var _this4 = this;\n      var color = _ref2.color,\n        alpha = _ref2.alpha;\n      this.setState({\n        color: color,\n        alpha: alpha\n      }, function () {\n        var pattern = /^#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})$/;\n        if (color.match(pattern) || /^themeColor/.test(color)) {\n          _this4.props.onChange({\n            color: color,\n            alpha: alpha\n          });\n        }\n      });\n    }\n  }, {\n    key: \"handleChangeText\",\n    value: function handleChangeText(e) {\n      var target = e.target;\n      var value = target.value;\n      this.changeColor({\n        color: value,\n        alpha: this.state.alpha\n      });\n    }\n  }, {\n    key: \"handleChangeAlpha\",\n    value: function handleChangeAlpha(e) {\n      var color = this.state.color;\n      var target = e.target;\n      var value = target.value;\n      // 透明度阈值是[0, 100], 超出则不修改当前值\n      if (value < 0 || value > 100) {\n        return;\n      }\n      this.changeColor({\n        color: color,\n        alpha: value\n      });\n    }\n  }, {\n    key: \"handleCheck\",\n    value: function handleCheck(e) {\n      var _this5 = this;\n      var _this$state = this.state,\n        isCheck = _this$state.isCheck,\n        alpha = _this$state.alpha;\n      isCheck = !isCheck;\n      var color = isCheck ? 'themeColor' : '';\n      alpha = isCheck ? alpha : 100;\n      this.setState({\n        isCheck: isCheck,\n        color: color\n      }, function () {\n        _this5.props.onChange({\n          color: color,\n          alpha: alpha\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this6 = this;\n      var _this$props = this.props,\n        color = _this$props.color,\n        alpha = _this$props.alpha,\n        defaultColor = _this$props.defaultColor;\n      var isCheck = this.state.isCheck;\n      var opacity = 1;\n      if (alpha > -1) {\n        opacity = alpha / 100;\n        // opacity = opacity>1 ? 1 : opacity;\n      }\n      var triggerStyle = {\n        backgroundImage: \"url(\".concat(_picker[\"default\"], \")\"),\n        backgroundColor: color || defaultColor,\n        opacity: opacity,\n        backgroundSize: '100% 100%'\n      };\n      var inputClassName = (0, _classnames2[\"default\"])(_defineProperty(_defineProperty({}, _colorPicker[\"default\"].input, true), _colorPicker[\"default\"]['input-disabled'], isCheck));\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _colorPicker[\"default\"].colorPicker\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n        className: (0, _classnames2[\"default\"])(_colorPicker[\"default\"].trigger, 'kd-cq-color-picker-color-block'),\n        style: triggerStyle,\n        onClick: function onClick(e) {\n          return _this6.openPanel();\n        }\n      }), this.state.showPanel ? /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: (0, _classnames2[\"default\"])(_colorPicker[\"default\"].colorPanel, 'kd-cq-color-picker kd-cq-designer-color-picker')\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _colorPicker[\"default\"].colors\n      }, this.createColorItems()), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _colorPicker[\"default\"].textPanel\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _colorPicker[\"default\"].textItme\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"label\", null, (0, _intlApi.getLangMsg)('bosd.textPropertyEditor.key0010')), /*#__PURE__*/_react[\"default\"].createElement(\"input\", {\n        disabled: isCheck,\n        className: inputClassName,\n        value: this.state.color,\n        onChange: function onChange(e) {\n          return _this6.handleChangeText(e);\n        }\n      })), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _colorPicker[\"default\"].textItme,\n        title: (0, _intlApi.getLangMsg)('bosd.textPropertyEditor.key0011')\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"label\", null, (0, _intlApi.getLangMsg)('bosd.textPropertyEditor.key0012')), /*#__PURE__*/_react[\"default\"].createElement(\"input\", {\n        type: \"number\",\n        min: \"0\",\n        max: \"100\",\n        className: _colorPicker[\"default\"].input,\n        value: this.state.alpha,\n        onChange: function onChange(e) {\n          return _this6.handleChangeAlpha(e);\n        }\n      }))), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _colorPicker[\"default\"].themeBtn,\n        onClick: function onClick(e) {\n          return _this6.handleCheck(e);\n        }\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"label\", null, (0, _intlApi.getLangMsg)('bosd.textPropertyEditor.key0013')), /*#__PURE__*/_react[\"default\"].createElement(_Switch[\"default\"], {\n        size: 3,\n        value: isCheck\n      }))) : null);\n    }\n  }]);\n  return ColorPicker;\n}(_react[\"default\"].Component);\nColorPicker.propTypes = {\n  color: _propTypes[\"default\"].string,\n  alpha: _propTypes[\"default\"].number,\n  defaultColor: _propTypes[\"default\"].string,\n  onChange: _propTypes[\"default\"].func\n};\nColorPicker.defaultProps = {\n  colors: [['#45cdff', '#3dccc0', '#40bd6e', '#99d92b', '#ffd52e', '#ffb44a', '#ff854d', '#ff5257', '#ff3b72', '#9a4dff', '#3987ed', '#5797ff'], ['#16b0f1', '#16b8b1', '#1ba854', '#77c404', '#fdc200', '#ff991c', '#ff5f1f', '#fb2323', '#f90d58', '#701df0', '#0e5fd8', '#276ff5'], ['#ffffff', '#fafafa', '#f5f5f5', '#f2f2f2', '#e5e5e5', '#d9d9d9', '#cccccc', '#999999', '#666666', '#404040', '#212121', '#000000']],\n  alpha: 100,\n  color: '#ffffff',\n  defaultColor: '#ffffff'\n};\nvar _default = exports[\"default\"] = ColorPicker;\n\n//# sourceURL=webpack://bos-platform/./src/designer/editors/common/ColorPicker.jsx?");

/***/ }),

/***/ "./src/designer/editors/common/DialogPicker.jsx":
/*!******************************************************!*\
  !*** ./src/designer/editors/common/DialogPicker.jsx ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _Dialog = _interopRequireDefault(__webpack_require__(/*! ../../../../src/component/web/Dialog */ \"./src/component/web/Dialog.js\"));\nvar _DialogPicker = _interopRequireDefault(__webpack_require__(/*! ./DialogPicker.less */ \"./src/designer/editors/common/DialogPicker.less\"));\nvar _classnames = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction DialogPicker(_ref) {\n  var title = _ref.title,\n    content = _ref.content,\n    handleClose = _ref.handleClose,\n    handleOk = _ref.handleOk;\n  var btnBlueClass = (0, _classnames[\"default\"])(_DialogPicker[\"default\"]['but-blue'], 'theme-bg');\n  return /*#__PURE__*/_react[\"default\"].createElement(_Dialog[\"default\"], {\n    width: \"100%\",\n    height: \"100%\",\n    isShowTitle: true,\n    title: title,\n    onClose: handleClose\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _DialogPicker[\"default\"].content\n  }, content), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _DialogPicker[\"default\"]['button-div']\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"a\", {\n    className: _DialogPicker[\"default\"]['but-grey'],\n    onClick: handleClose\n  }, (0, _intlApi.getLangMsg)('bosd.dialogPicker.key0001')), /*#__PURE__*/_react[\"default\"].createElement(\"a\", {\n    className: btnBlueClass,\n    onClick: handleOk\n  }, (0, _intlApi.getLangMsg)('bosd.dialogPicker.key0002'))));\n}\nvar _default = exports[\"default\"] = DialogPicker;\n\n//# sourceURL=webpack://bos-platform/./src/designer/editors/common/DialogPicker.jsx?");

/***/ }),

/***/ "./src/designer/editors/common/Select.jsx":
/*!************************************************!*\
  !*** ./src/designer/editors/common/Select.jsx ***!
  \************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nObject.defineProperty(exports, \"OptGroup\", ({\n  enumerable: true,\n  get: function get() {\n    return _rcSelect.OptGroup;\n  }\n}));\nObject.defineProperty(exports, \"Option\", ({\n  enumerable: true,\n  get: function get() {\n    return _rcSelect.Option;\n  }\n}));\nObject.defineProperty(exports, \"SelectPropTypes\", ({\n  enumerable: true,\n  get: function get() {\n    return _rcSelect.SelectPropTypes;\n  }\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _reactDom = _interopRequireDefault(__webpack_require__(/*! react-dom */ \"webpack/sharing/consume/default/react-dom/react-dom?418d\"));\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _rcSelect = _interopRequireWildcard(__webpack_require__(/*! rc-select */ \"../../node_modules/rc-select/es/index.js\"));\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n// 因为下拉面板挂载在body上，容器Dom封装的组件内部无法取到\n// 为了判断滚动的对象的，利用dropdownClassName属性，来判断是否是下面面板对象\nvar DropDownContainerFlag = 'rc-select-kingdee-flag';\n\n// 包装Select控件，在滚动时自动关闭下拉框\nvar Select = /*#__PURE__*/function (_Component) {\n  _inherits(Select, _Component);\n  function Select(props) {\n    var _this;\n    _classCallCheck(this, Select);\n    _this = _callSuper(this, Select, [props]);\n    _this.closeSelPanel = _this.closeSelPanel.bind(_assertThisInitialized(_this));\n    _this.closeSelPanelHandler = _lodash[\"default\"].throttle(_this.closeSelPanel, 500);\n    _this.RCSelectRef = /*#__PURE__*/(0, _react.createRef)(null);\n    return _this;\n  }\n  _createClass(Select, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      document.addEventListener('scroll', this.closeSelPanelHandler, true);\n      window.addEventListener('resize', this.closeSelPanelHandler);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.closeSelPanelHandler.cancel();\n      document.removeEventListener('scroll', this.closeSelPanelHandler, true);\n      window.removeEventListener('resize', this.closeSelPanelHandler);\n    }\n  }, {\n    key: \"closeSelPanel\",\n    value: function closeSelPanel(e) {\n      var _target;\n      var target = e.target;\n      // 如果是自身的输入框触发的滚动条，则不关闭面板。否则会出现点击输入框打不开下拉面板的问题\n      if (((_target = target) === null || _target === void 0 || (_target = _target.className) === null || _target === void 0 ? void 0 : _target.indexOf('rc-select-search__field')) >= 0) return;\n      while (target) {\n        var className = target.className || '';\n        if (className.indexOf(DropDownContainerFlag) >= 0) return;\n        target = target.parentNode;\n      }\n      var dom = _reactDom[\"default\"].findDOMNode(this);\n      if (!dom) return;\n      this.RCSelectRef.current && this.RCSelectRef.current.blur();\n      var inputs = dom.getElementsByTagName('input');\n      for (var i = 0; i < inputs.length; i++) {\n        inputs[i].blur();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var dropdownClassName = this.props.dropdownClassName + ' ' + DropDownContainerFlag;\n      return /*#__PURE__*/_react[\"default\"].createElement(_rcSelect[\"default\"], _extends({\n        notFoundContent: (0, _intlApi.getLangMsg)('bosd.select.emptyTips')\n      }, this.props, {\n        dropdownClassName: dropdownClassName,\n        ref: this.RCSelectRef\n      }));\n    }\n  }]);\n  return Select;\n}(_react.Component); // 接口原样暴露出去\nSelect.Option = _rcSelect.Option;\nSelect.OptGroup = _rcSelect.OptGroup;\nvar _default = exports[\"default\"] = Select;\n\n//# sourceURL=webpack://bos-platform/./src/designer/editors/common/Select.jsx?");

/***/ }),

/***/ "./src/designer/editors/custom/AnchorPropertyEditor.jsx":
/*!**************************************************************!*\
  !*** ./src/designer/editors/custom/AnchorPropertyEditor.jsx ***!
  \**************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _classnames2 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _Dialog = _interopRequireDefault(__webpack_require__(/*! ../../component/Dialog */ \"./src/designer/component/Dialog.jsx\"));\nvar _model = __webpack_require__(/*! ../../model */ \"./src/designer/model/index.js\");\nvar _customPropFactory = __webpack_require__(/*! ./customPropFactory */ \"./src/designer/editors/custom/customPropFactory.js\");\nvar _AnchorPropertyEditor = _interopRequireDefault(__webpack_require__(/*! ./AnchorPropertyEditor.less */ \"./src/designer/editors/custom/AnchorPropertyEditor.less\"));\nvar _immutableUtil = __webpack_require__(/*! ../../utils/immutableUtil */ \"./src/designer/utils/immutableUtil.js\");\nvar _propnames = __webpack_require__(/*! ../../constant/propnames */ \"./src/designer/constant/propnames.js\");\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar dataTreeUtils = (0, _immutableUtil.getArrayTreeUtils)('target', 'items');\nvar AnchorItem = /*#__PURE__*/function (_Component) {\n  _inherits(AnchorItem, _Component);\n  function AnchorItem(props) {\n    var _this;\n    _classCallCheck(this, AnchorItem);\n    _this = _callSuper(this, AnchorItem, [props]);\n    _this.onTextChange = _this.onTextChange.bind(_assertThisInitialized(_this));\n    _this.onSelectChange = _this.onSelectChange.bind(_assertThisInitialized(_this));\n    _this.onDelete = _this.onDelete.bind(_assertThisInitialized(_this));\n    _this.onSelect = _this.onSelect.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  _createClass(AnchorItem, [{\n    key: \"onTextChange\",\n    value: function onTextChange(e) {\n      var value = e.target.value;\n      var item = this.props.item;\n      var id = item.get('target');\n      item = item.set('caption', value);\n      this.props.onUpdateItem(id, item);\n      this.props.setSelectId(id);\n    }\n  }, {\n    key: \"onSelectChange\",\n    value: function onSelectChange(e) {\n      var options = e.target.options;\n      var selectedIndex = e.target.selectedIndex;\n      var selectedValue = e.target.value;\n      var selectedText = options[selectedIndex].text;\n      if (selectedValue == '-1' || !selectedValue) {\n        selectedText = '';\n      }\n      var item = this.props.item;\n      var oldId = item.get('target');\n      item = item.set('target', selectedValue);\n      item = item.set('caption', selectedText);\n      this.props.onUpdateItem(oldId, item);\n      this.props.setSelectId(selectedValue);\n    }\n  }, {\n    key: \"onDelete\",\n    value: function onDelete(e) {\n      e.stopPropagation();\n      var item = this.props.item;\n      this.props.onDeleteItem(item.get('target'));\n    }\n  }, {\n    key: \"onSelect\",\n    value: function onSelect(e) {\n      e.stopPropagation();\n      this.props.setSelectId(this.props.item.get('target'));\n    }\n  }, {\n    key: \"getAllIds\",\n    value: function getAllIds(items) {\n      var ids = [];\n      var loop = function loop(items) {\n        if (!items) return;\n        items.forEach(function (item) {\n          ids.push(item.get('target'));\n          loop(item.get('items'));\n        });\n      };\n      loop(items);\n      return ids;\n    }\n  }, {\n    key: \"renderSelectItem\",\n    value: function renderSelectItem() {\n      var _this$props = this.props,\n        uiInfo = _this$props.uiInfo,\n        uiConfig = _this$props.uiConfig,\n        item = _this$props.item,\n        items = _this$props.items;\n      var itemIds = this.getAllIds(items);\n      var options = [];\n      _model.uiModel.getFormmeta(uiInfo).forEach(function (formInfo) {\n        var formId = formInfo && formInfo.get(_propnames.ID);\n        if (!formId) return;\n        if (formId != item.get('target') && _lodash[\"default\"].indexOf(itemIds, formId) >= 0) return;\n        if (!_model.uiModel.isContainerControl(uiConfig, uiInfo, formId)) return;\n        options.push( /*#__PURE__*/_react[\"default\"].createElement(\"option\", {\n          key: formId,\n          value: formId\n        }, formInfo.get(_propnames.NAME)));\n      });\n      return options;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n        selected = _this$props2.selected,\n        item = _this$props2.item;\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _AnchorPropertyEditor[\"default\"].item\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: (0, _classnames2[\"default\"])(_AnchorPropertyEditor[\"default\"]['node-title'], _defineProperty({}, _AnchorPropertyEditor[\"default\"].selected, selected)),\n        onClick: this.onSelect\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"input\", {\n        className: _AnchorPropertyEditor[\"default\"].caption,\n        value: item.get('caption'),\n        onChange: this.onTextChange\n      }), /*#__PURE__*/_react[\"default\"].createElement(\"select\", {\n        className: _AnchorPropertyEditor[\"default\"].target,\n        value: item.get('target'),\n        onChange: this.onSelectChange\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"option\", {\n        key: \"-1\",\n        value: \"-1\"\n      }, (0, _intlApi.getLangMsg)('bosd.anchorPropertyEditor.key0001')), this.renderSelectItem()), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _AnchorPropertyEditor[\"default\"].close,\n        onClick: this.onDelete\n      }, \"\\xD7\")), this.props.children && /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _AnchorPropertyEditor[\"default\"]['node-body']\n      }, this.props.children));\n    }\n  }]);\n  return AnchorItem;\n}(_react.Component);\nvar AnchorPropertyEditor = /*#__PURE__*/function (_Component2) {\n  _inherits(AnchorPropertyEditor, _Component2);\n  function AnchorPropertyEditor(props) {\n    var _this2;\n    _classCallCheck(this, AnchorPropertyEditor);\n    _this2 = _callSuper(this, AnchorPropertyEditor, [props]);\n    _this2.state = {\n      items: props.getPropertyValue() || (0, _immutable.List)(),\n      selId: '-1'\n    }; // target为唯一键值，-1表示添加项\n\n    _this2.onAddItem = _this2.onAddItem.bind(_assertThisInitialized(_this2));\n    _this2.onAddSubItem = _this2.onAddSubItem.bind(_assertThisInitialized(_this2));\n    _this2.onUpdateItem = _this2.onUpdateItem.bind(_assertThisInitialized(_this2));\n    _this2.onDeleteItem = _this2.onDeleteItem.bind(_assertThisInitialized(_this2));\n    _this2.setSelectId = _this2.setSelectId.bind(_assertThisInitialized(_this2));\n    _this2.onOk = _this2.onOk.bind(_assertThisInitialized(_this2));\n    return _this2;\n  }\n  _createClass(AnchorPropertyEditor, [{\n    key: \"getItem\",\n    value: function getItem(items, id) {\n      var path = dataTreeUtils.byId(items, id);\n      path = dataTreeUtils.getRealPath(path);\n      if (path) {\n        return items.getIn(path);\n      }\n    }\n  }, {\n    key: \"updateItem\",\n    value: function updateItem(items, id, item) {\n      var path = dataTreeUtils.byId(items, id);\n      path = dataTreeUtils.getRealPath(path);\n      if (path) {\n        items = items.setIn(path, item);\n      }\n      return items;\n    }\n  }, {\n    key: \"delItem\",\n    value: function delItem(items, id) {\n      var path = dataTreeUtils.byId(items, id);\n      path = dataTreeUtils.getRealPath(path);\n      if (path) {\n        items = items.deleteIn(path);\n      }\n      return items;\n    }\n  }, {\n    key: \"addItem\",\n    value: function addItem(items, parentId, item) {\n      var parentPath = dataTreeUtils.byId(items, parentId);\n      parentPath = dataTreeUtils.getRealPath(parentPath);\n      if (parentPath) {\n        parentPath = parentPath.concat('items');\n        items = items.updateIn(parentPath, (0, _immutable.List)(), function (node) {\n          return node.push(item);\n        });\n      } else {\n        items = items.push(item);\n      }\n      return items;\n    }\n  }, {\n    key: \"setSelectId\",\n    value: function setSelectId(id) {\n      this.setState({\n        selId: id\n      });\n    }\n  }, {\n    key: \"onAddItem\",\n    value: function onAddItem() {\n      var items = this.state.items;\n      var addItem = this.getItem(items, '-1');\n      if (addItem) {\n        this.setSelectId('-1');\n      } else {\n        items = this.addItem(items, null, (0, _immutable.Map)({\n          target: '-1',\n          caption: ''\n        }));\n        this.setState({\n          items: items,\n          selId: '-1'\n        });\n      }\n    }\n  }, {\n    key: \"onAddSubItem\",\n    value: function onAddSubItem() {\n      var _this$state = this.state,\n        items = _this$state.items,\n        selId = _this$state.selId;\n      var addItem = this.getItem(items, '-1');\n      if (addItem) {\n        this.setSelectId('-1');\n      } else {\n        if (!selId) return;\n        items = this.addItem(items, selId, (0, _immutable.Map)({\n          target: '-1',\n          caption: ''\n        }));\n        this.setState({\n          items: items,\n          selId: '-1'\n        });\n      }\n    }\n  }, {\n    key: \"onUpdateItem\",\n    value: function onUpdateItem(id, item) {\n      var items = this.state.items;\n      items = this.updateItem(items, id, item);\n      this.setState({\n        items: items\n      });\n    }\n  }, {\n    key: \"onDeleteItem\",\n    value: function onDeleteItem(id) {\n      var items = this.state.items;\n      items = this.delItem(items, id);\n      this.setState({\n        items: items\n      });\n    }\n  }, {\n    key: \"onOk\",\n    value: function onOk() {\n      var items = this.state.items;\n      if (!items || items.size === 0) items = undefined;\n      this.props.updatePropValue(items);\n      this.props.onDialogClose();\n    }\n  }, {\n    key: \"createItems\",\n    value: function createItems(items, props) {\n      var _this3 = this;\n      if (!items || items.size === 0) return null;\n      return items.map(function (item) {\n        var target = item.get('target');\n        // let caption = item.get('caption');\n        var _items = item.get('items', (0, _immutable.List)());\n        if (_items.size > 0) {\n          _items = _this3.createItems(_items, props);\n          return /*#__PURE__*/_react[\"default\"].createElement(AnchorItem, _extends({\n            key: target,\n            selected: target === _this3.state.selId,\n            item: item\n          }, props), _items);\n        }\n        return /*#__PURE__*/_react[\"default\"].createElement(AnchorItem, _extends({\n          key: target,\n          selected: target === _this3.state.selId,\n          item: item\n        }, props));\n      });\n    }\n  }, {\n    key: \"renderItems\",\n    value: function renderItems() {\n      var _this$props3 = this.props,\n        field = _this$props3.field,\n        uiInfo = _this$props3.uiInfo,\n        uiConfig = _this$props3.uiConfig;\n      var items = this.state.items;\n      var props = {\n        field: field,\n        uiInfo: uiInfo,\n        uiConfig: uiConfig,\n        items: items,\n        onUpdateItem: this.onUpdateItem,\n        onDeleteItem: this.onDeleteItem,\n        setSelectId: this.setSelectId\n      };\n      return this.createItems(items, props);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props4 = this.props,\n        prop = _this$props4.prop,\n        onDialogClose = _this$props4.onDialogClose;\n      var alias = prop.getIn(['alias']);\n      return /*#__PURE__*/_react[\"default\"].createElement(_Dialog[\"default\"], {\n        title: alias,\n        onClose: onDialogClose,\n        onCancel: onDialogClose,\n        onOk: this.onOk\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _AnchorPropertyEditor[\"default\"].root\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _AnchorPropertyEditor[\"default\"].header\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"button\", {\n        onClick: this.onAddItem\n      }, (0, _intlApi.getLangMsg)('bosd.anchorPropertyEditor.key0002')), /*#__PURE__*/_react[\"default\"].createElement(\"button\", {\n        onClick: this.onAddSubItem\n      }, (0, _intlApi.getLangMsg)('bosd.anchorPropertyEditor.key0003'))), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _AnchorPropertyEditor[\"default\"].body\n      }, this.renderItems())));\n    }\n  }]);\n  return AnchorPropertyEditor;\n}(_react.Component);\n(0, _customPropFactory.registCustomProp)('Anchor', AnchorPropertyEditor);\nvar _default = exports[\"default\"] = AnchorPropertyEditor;\n\n//# sourceURL=webpack://bos-platform/./src/designer/editors/custom/AnchorPropertyEditor.jsx?");

/***/ }),

/***/ "./src/designer/editors/custom/customPropFactory.js":
/*!**********************************************************!*\
  !*** ./src/designer/editors/custom/customPropFactory.js ***!
  \**********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.createCustomProp = createCustomProp;\nexports.registCustomProp = registCustomProp;\nvar customProp = {};\nfunction registCustomProp(key, comp) {\n  customProp[key] = comp;\n}\nfunction createCustomProp(key) {\n  return customProp[key];\n}\n\n//# sourceURL=webpack://bos-platform/./src/designer/editors/custom/customPropFactory.js?");

/***/ }),

/***/ "./src/designer/editors/custom/index.js":
/*!**********************************************!*\
  !*** ./src/designer/editors/custom/index.js ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";
eval("\n\nvar _AnchorPropertyEditor = _interopRequireDefault(__webpack_require__(/*! ./AnchorPropertyEditor */ \"./src/designer/editors/custom/AnchorPropertyEditor.jsx\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n//# sourceURL=webpack://bos-platform/./src/designer/editors/custom/index.js?");

/***/ }),

/***/ "./src/designer/editors/index.js":
/*!***************************************!*\
  !*** ./src/designer/editors/index.js ***!
  \***************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nObject.defineProperty(exports, \"BorderPropertyEditor\", ({\n  enumerable: true,\n  get: function get() {\n    return _MBPPropertyEditor[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"BtneditPropertyEditor\", ({\n  enumerable: true,\n  get: function get() {\n    return _BtneditPropertyEditor[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"CheckboxPropertyEditor\", ({\n  enumerable: true,\n  get: function get() {\n    return _CheckboxPropertyEditor[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"ColorPropertyEditor\", ({\n  enumerable: true,\n  get: function get() {\n    return _ColorPropertyEditor[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"ComboPropertyEditor\", ({\n  enumerable: true,\n  get: function get() {\n    return _ComboPropertyEditor[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"CsseditPropertyEditor\", ({\n  enumerable: true,\n  get: function get() {\n    return _CsseditPropertyEditor[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"CustomPropertyEditor\", ({\n  enumerable: true,\n  get: function get() {\n    return _CustomPropertyEditor[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"DaterangePropertyEditor\", ({\n  enumerable: true,\n  get: function get() {\n    return _DateRangePropertyEditor[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"DecimalPropertyEditor\", ({\n  enumerable: true,\n  get: function get() {\n    return _NumberPropertyEditor[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"DefaultPropEditor\", ({\n  enumerable: true,\n  get: function get() {\n    return _DefaultPropEditor[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"DimensionPropertyEditor\", ({\n  enumerable: true,\n  get: function get() {\n    return _DimensionPropertyEditor[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"EcomboPropertyEditor\", ({\n  enumerable: true,\n  get: function get() {\n    return _EcomboPropertyEditor[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"EditcomboPropertyEditor\", ({\n  enumerable: true,\n  get: function get() {\n    return _EditcomboPropertyEditor[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"FontboldPropertyEditor\", ({\n  enumerable: true,\n  get: function get() {\n    return _ComboPropertyEditor[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"IntegerPropertyEditor\", ({\n  enumerable: true,\n  get: function get() {\n    return _NumberPropertyEditor[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"McomboPropertyEditor\", ({\n  enumerable: true,\n  get: function get() {\n    return _McomboPropertyEditor[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"PositionPropertyEditor\", ({\n  enumerable: true,\n  get: function get() {\n    return _PositionPropertyEditor[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"RadiusPropertyEditor\", ({\n  enumerable: true,\n  get: function get() {\n    return _RadiusPropertyEditor[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"ReadOnlyPropEditor\", ({\n  enumerable: true,\n  get: function get() {\n    return _ReadOnlyPropEditor[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"RefcomboPropertyEditor\", ({\n  enumerable: true,\n  get: function get() {\n    return _RefcomboPropertyEditor[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"RefeditbtnPropertyEditor\", ({\n  enumerable: true,\n  get: function get() {\n    return _RefEditBtnPropertyEditor[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"RefmcomboPropertyEditor\", ({\n  enumerable: true,\n  get: function get() {\n    return _RefmcomboPropertyEditor[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"TabselectPropertyEditor\", ({\n  enumerable: true,\n  get: function get() {\n    return _ComboPropertyEditor[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"TextPropertyEditor\", ({\n  enumerable: true,\n  get: function get() {\n    return _TextPropertyEditor[\"default\"];\n  }\n}));\nvar _DefaultPropEditor = _interopRequireDefault(__webpack_require__(/*! ./DefaultPropEditor */ \"./src/designer/editors/DefaultPropEditor.jsx\"));\nvar _ReadOnlyPropEditor = _interopRequireDefault(__webpack_require__(/*! ./ReadOnlyPropEditor */ \"./src/designer/editors/ReadOnlyPropEditor.jsx\"));\nvar _CheckboxPropertyEditor = _interopRequireDefault(__webpack_require__(/*! ./CheckboxPropertyEditor */ \"./src/designer/editors/CheckboxPropertyEditor.jsx\"));\nvar _NumberPropertyEditor = _interopRequireDefault(__webpack_require__(/*! ./NumberPropertyEditor */ \"./src/designer/editors/NumberPropertyEditor.jsx\"));\nvar _TextPropertyEditor = _interopRequireDefault(__webpack_require__(/*! ./TextPropertyEditor */ \"./src/designer/editors/TextPropertyEditor.jsx\"));\nvar _BtneditPropertyEditor = _interopRequireDefault(__webpack_require__(/*! ./BtneditPropertyEditor */ \"./src/designer/editors/BtneditPropertyEditor.jsx\"));\nvar _ComboPropertyEditor = _interopRequireDefault(__webpack_require__(/*! ./ComboPropertyEditor */ \"./src/designer/editors/ComboPropertyEditor.jsx\"));\nvar _ColorPropertyEditor = _interopRequireDefault(__webpack_require__(/*! ./ColorPropertyEditor */ \"./src/designer/editors/ColorPropertyEditor.jsx\"));\nvar _DimensionPropertyEditor = _interopRequireDefault(__webpack_require__(/*! ./DimensionPropertyEditor */ \"./src/designer/editors/DimensionPropertyEditor.jsx\"));\nvar _RadiusPropertyEditor = _interopRequireDefault(__webpack_require__(/*! ./RadiusPropertyEditor */ \"./src/designer/editors/RadiusPropertyEditor.jsx\"));\nvar _McomboPropertyEditor = _interopRequireDefault(__webpack_require__(/*! ./McomboPropertyEditor */ \"./src/designer/editors/McomboPropertyEditor.jsx\"));\nvar _MBPPropertyEditor = _interopRequireDefault(__webpack_require__(/*! ./MBPPropertyEditor */ \"./src/designer/editors/MBPPropertyEditor.jsx\"));\nvar _EcomboPropertyEditor = _interopRequireDefault(__webpack_require__(/*! ./EcomboPropertyEditor */ \"./src/designer/editors/EcomboPropertyEditor.jsx\"));\nvar _RefcomboPropertyEditor = _interopRequireDefault(__webpack_require__(/*! ./RefcomboPropertyEditor */ \"./src/designer/editors/RefcomboPropertyEditor.jsx\"));\nvar _RefmcomboPropertyEditor = _interopRequireDefault(__webpack_require__(/*! ./RefmcomboPropertyEditor */ \"./src/designer/editors/RefmcomboPropertyEditor.jsx\"));\nvar _CustomPropertyEditor = _interopRequireDefault(__webpack_require__(/*! ./CustomPropertyEditor */ \"./src/designer/editors/CustomPropertyEditor.jsx\"));\nvar _CsseditPropertyEditor = _interopRequireDefault(__webpack_require__(/*! ./CsseditPropertyEditor */ \"./src/designer/editors/CsseditPropertyEditor.jsx\"));\nvar _DateRangePropertyEditor = _interopRequireDefault(__webpack_require__(/*! ./DateRangePropertyEditor */ \"./src/designer/editors/DateRangePropertyEditor.jsx\"));\nvar _PositionPropertyEditor = _interopRequireDefault(__webpack_require__(/*! ./PositionPropertyEditor */ \"./src/designer/editors/PositionPropertyEditor.jsx\"));\nvar _EditcomboPropertyEditor = _interopRequireDefault(__webpack_require__(/*! ./EditcomboPropertyEditor */ \"./src/designer/editors/EditcomboPropertyEditor.jsx\"));\nvar _RefEditBtnPropertyEditor = _interopRequireDefault(__webpack_require__(/*! ./RefEditBtnPropertyEditor */ \"./src/designer/editors/RefEditBtnPropertyEditor.jsx\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n//# sourceURL=webpack://bos-platform/./src/designer/editors/index.js?");

/***/ }),

/***/ "./src/designer/icon/fastlayout/index.js":
/*!***********************************************!*\
  !*** ./src/designer/icon/fastlayout/index.js ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nObject.defineProperty(exports, \"layout1\", ({\n  enumerable: true,\n  get: function get() {\n    return _[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"layout10\", ({\n  enumerable: true,\n  get: function get() {\n    return _10[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"layout11\", ({\n  enumerable: true,\n  get: function get() {\n    return _11[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"layout12\", ({\n  enumerable: true,\n  get: function get() {\n    return _12[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"layout2\", ({\n  enumerable: true,\n  get: function get() {\n    return _2[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"layout3\", ({\n  enumerable: true,\n  get: function get() {\n    return _3[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"layout4\", ({\n  enumerable: true,\n  get: function get() {\n    return _4[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"layout5\", ({\n  enumerable: true,\n  get: function get() {\n    return _5[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"layout6\", ({\n  enumerable: true,\n  get: function get() {\n    return _6[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"layout7\", ({\n  enumerable: true,\n  get: function get() {\n    return _7[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"layout8\", ({\n  enumerable: true,\n  get: function get() {\n    return _8[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"layout9\", ({\n  enumerable: true,\n  get: function get() {\n    return _9[\"default\"];\n  }\n}));\nvar _ = _interopRequireDefault(__webpack_require__(/*! ./1.jpg */ \"./src/designer/icon/fastlayout/1.jpg\"));\nvar _2 = _interopRequireDefault(__webpack_require__(/*! ./2.jpg */ \"./src/designer/icon/fastlayout/2.jpg\"));\nvar _3 = _interopRequireDefault(__webpack_require__(/*! ./3.jpg */ \"./src/designer/icon/fastlayout/3.jpg\"));\nvar _4 = _interopRequireDefault(__webpack_require__(/*! ./4.jpg */ \"./src/designer/icon/fastlayout/4.jpg\"));\nvar _5 = _interopRequireDefault(__webpack_require__(/*! ./5.jpg */ \"./src/designer/icon/fastlayout/5.jpg\"));\nvar _6 = _interopRequireDefault(__webpack_require__(/*! ./6.jpg */ \"./src/designer/icon/fastlayout/6.jpg\"));\nvar _7 = _interopRequireDefault(__webpack_require__(/*! ./7.jpg */ \"./src/designer/icon/fastlayout/7.jpg\"));\nvar _8 = _interopRequireDefault(__webpack_require__(/*! ./8.jpg */ \"./src/designer/icon/fastlayout/8.jpg\"));\nvar _9 = _interopRequireDefault(__webpack_require__(/*! ./9.jpg */ \"./src/designer/icon/fastlayout/9.jpg\"));\nvar _10 = _interopRequireDefault(__webpack_require__(/*! ./10.jpg */ \"./src/designer/icon/fastlayout/10.jpg\"));\nvar _11 = _interopRequireDefault(__webpack_require__(/*! ./11.jpg */ \"./src/designer/icon/fastlayout/11.jpg\"));\nvar _12 = _interopRequireDefault(__webpack_require__(/*! ./12.jpg */ \"./src/designer/icon/fastlayout/12.jpg\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n//# sourceURL=webpack://bos-platform/./src/designer/icon/fastlayout/index.js?");

/***/ }),

/***/ "./src/designer/model/fieldBindFunction.js":
/*!*************************************************!*\
  !*** ./src/designer/model/fieldBindFunction.js ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.toTreeData = exports.getNewMappingData = exports.getGroupInfos = exports.formatResultsSingleList = exports.formatResultsSingleForm = exports.formatResultsForm = exports.formatResults = exports.formatNewField = exports.flatten = exports.filterListData = exports.filterData = void 0;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.array.reduce.js */ \"../../node_modules/core-js/modules/es.array.reduce.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _uid = _interopRequireDefault(__webpack_require__(/*! ../utils/uid */ \"./src/designer/utils/uid.js\"));\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n/**\n * 将扁平数组组合成树结构\n * @param {*} data 扁平数组\n * @param {*} pid 父节点id,第一级节点的父id，是null或者0，视情况传入\n * @return 树结构数据\n */\nvar toTreeData = exports.toTreeData = function toTreeData(data, pid) {\n  function tree(id) {\n    var arr = [];\n    data.filter(function (item) {\n      return item.pid === id;\n    }).forEach(function (item) {\n      arr.push({\n        Id: item.Id,\n        Name: item.Name,\n        Items: tree(item.Id),\n        hierarchy: item.hierarchy,\n        isLeafNode: item.isLeafNode\n      });\n    });\n    return arr;\n  }\n  return tree(pid); // 第一级节点的父id，是null或者0，视情况传入\n};\n\n/**\n * 将树结构打平成数组\n * @param {*} data 树形数组\n * @param {*} pid 父节点id，第一级节点的父id，是null或者0，视情况传入\n * @param {*} index 层级，第一级为0\n * @return 扁平数组\n */\nvar flatten = exports.flatten = function flatten(data, pid, index) {\n  return data.reduce(function (result, item) {\n    var el = {};\n    var children = item.get('Items');\n    el.Id = item.get('Id');\n    el.Name = item.get('Name');\n    el.Type = item.get('Type');\n    el.isLeafNode = !children;\n    el.pid = pid;\n    el.visible = true;\n    el.hierarchy = index;\n    return result.concat([el], flatten(children || [], el.Id, index + 1));\n  }, []);\n};\n\n/**\n * 表单过滤\n * @param {*} str 过滤关键字\n * @param {*} arr 过滤目标\n * @return 过滤结果\n */\nvar filterData = exports.filterData = function filterData(str, arr) {\n  return arr && arr.filter(function (item) {\n    var Name = item.Name;\n    var Key = item.Key;\n    var n = Name ? Name.toLocaleLowerCase() : '';\n    var k = Key ? Key.toLocaleLowerCase() : '';\n    return n.indexOf(str.toLocaleLowerCase()) >= 0 || k.indexOf(str.toLocaleLowerCase()) >= 0;\n  });\n};\n\n/**\n * 列表过滤\n * @param {*} str 过滤关键字\n * @param {*} arr 过滤目标\n * @return 过滤结果\n */\nvar filterListData = exports.filterListData = function filterListData(str, arr) {\n  return arr && arr.filter(function (item) {\n    var n = item.Name ? item.Name.toLocaleLowerCase() : '';\n    var k = item.Id ? item.Id.toLocaleLowerCase() : '';\n    return item.isLeafNode !== true || n.indexOf(str.toLocaleLowerCase()) >= 0 || k.indexOf(str.toLocaleLowerCase()) >= 0;\n  });\n};\n\n/**\n * 列表-格式化字段映射属性\n * @param {*} array 已选表数组\n * @param {*} entitytArr 待选表数组\n * @return 格式化数组\n */\nvar formatResults = exports.formatResults = function formatResults(array, entitytArr) {\n  var resultArr = [];\n  array && array.forEach(function (item) {\n    var resultItemArr = [];\n    var id = item.get('id');\n    var fieldId = item.get('fieldId');\n    if (id && fieldId) {\n      var fieldName, fieldType;\n      entitytArr && entitytArr.forEach(function (val) {\n        if (fieldId === val.Id) {\n          fieldName = val.Name;\n          fieldType = 'Card' + val.Type; // 移动端卡片列表字段的类型前加card\n        }\n      });\n      resultItemArr[0] = {\n        itemId: id,\n        metaType: 'formmeta',\n        propertyName: 'ListFieldId',\n        value: fieldId\n      };\n      resultItemArr[1] = {\n        itemId: id,\n        metaType: 'formmeta',\n        propertyName: 'Name',\n        value: fieldName\n      };\n      resultItemArr[2] = {\n        itemId: id,\n        metaType: 'formmeta',\n        propertyName: '_Type_',\n        value: fieldType\n      };\n      resultArr = resultArr.concat(resultItemArr);\n    }\n  });\n  return resultArr;\n};\n\n/**\n * 列表-格式化单个字段映射属性\n * @param {*} array 已选表数组\n * @param {*} entitytArr 待选表数组\n * @return 格式化数组\n */\nvar formatResultsSingleList = exports.formatResultsSingleList = function formatResultsSingleList() {\n  var item = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : (0, _immutable.Map)();\n  var entitytArr = arguments.length > 1 ? arguments[1] : undefined;\n  var resultArr = [];\n  var resultItemArr = [];\n  var id = item.get('id');\n  var fieldId = item.get('fieldId');\n  if (id && fieldId) {\n    var fieldName, fieldType;\n    entitytArr && entitytArr.forEach(function (val) {\n      if (fieldId === val.Id) {\n        fieldName = val.Name;\n        fieldType = 'Card' + val.Type; // 移动端卡片列表字段的类型前加card\n      }\n    });\n    resultItemArr[0] = {\n      itemId: id,\n      metaType: 'formmeta',\n      propertyName: 'ListFieldId',\n      value: fieldId\n    };\n    resultItemArr[1] = {\n      itemId: id,\n      metaType: 'formmeta',\n      propertyName: 'Name',\n      value: fieldName\n    };\n    resultItemArr[2] = {\n      itemId: id,\n      metaType: 'formmeta',\n      propertyName: '_Type_',\n      value: fieldType\n    };\n    resultArr = resultArr.concat(resultItemArr);\n  } else if (id && !fieldId) {\n    var _resultItemArr = [];\n    var _fieldName = item.get('name');\n    _resultItemArr[0] = {\n      itemId: id,\n      metaType: 'formmeta',\n      propertyName: 'ListFieldId',\n      value: ''\n    };\n    _resultItemArr[1] = {\n      itemId: id,\n      metaType: 'formmeta',\n      propertyName: 'Name',\n      value: _fieldName\n    };\n    resultArr = resultArr.concat(_resultItemArr);\n  }\n  return resultArr;\n};\n\n/**\n * 表单-格式化字段映射属性\n * @param {*} array 已选表数组\n * @param {*} entitytArr 待选表数组\n * @return 格式化数组\n */\nvar formatResultsForm = exports.formatResultsForm = function formatResultsForm(array, entitytArr) {\n  var resultArr = [];\n  array && array.forEach(function (item) {\n    var id = item.get('id');\n    var fieldId = item.get('fieldId');\n    var fieldKey = item.get('fieldKey');\n    var newField = item.get('newField');\n    var isFooter = item.get('isFooter');\n    if (id && fieldId && newField !== true) {\n      var resultItemArr = [];\n      var fieldName;\n      entitytArr && entitytArr.forEach(function (val) {\n        if (fieldId === val.Id) {\n          fieldName = val.Name;\n        }\n      });\n      resultItemArr[0] = {\n        alias: fieldKey,\n        itemId: id,\n        metaType: 'formmeta',\n        propertyName: 'FieldId',\n        value: fieldId\n      };\n      resultItemArr[1] = {\n        alias: fieldKey,\n        itemId: id,\n        metaType: 'formmeta',\n        propertyName: 'Name',\n        value: fieldName\n      };\n      resultItemArr[2] = {\n        alias: fieldKey,\n        itemId: id,\n        metaType: 'formmeta',\n        propertyName: 'Key',\n        value: fieldKey\n      };\n      resultArr = resultArr.concat(resultItemArr);\n    } else if (id && !fieldId && !isFooter && newField !== true) {\n      var _resultItemArr2 = [];\n      var _fieldName2 = item.get('name');\n      _resultItemArr2[0] = {\n        alias: fieldKey,\n        itemId: id,\n        metaType: 'formmeta',\n        propertyName: 'FieldId',\n        value: ''\n      };\n      _resultItemArr2[1] = {\n        alias: fieldKey,\n        itemId: id,\n        metaType: 'formmeta',\n        propertyName: 'Name',\n        value: _fieldName2\n      };\n      _resultItemArr2[2] = {\n        alias: fieldKey,\n        itemId: id,\n        metaType: 'formmeta',\n        propertyName: 'Key',\n        value: ''\n      };\n      resultArr = resultArr.concat(_resultItemArr2);\n    }\n  });\n  return resultArr;\n};\n\n/**\n * 表单-格式化单个字段映射属性\n * @param {*} array 选中字段信息\n * @param {*} entitytArr 待选表数组\n * @return 格式化数组\n */\nvar formatResultsSingleForm = exports.formatResultsSingleForm = function formatResultsSingleForm() {\n  var item = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : (0, _immutable.Map)();\n  var entitytArr = arguments.length > 1 ? arguments[1] : undefined;\n  var resultArr = [];\n  var id = item.get('id');\n  var fieldId = item.get('fieldId');\n  var fieldKey = item.get('fieldKey');\n  var newField = item.get('newField');\n  var isFooter = item.get('isFooter');\n  if (id && fieldId && newField !== true) {\n    var resultItemArr = [];\n    var fieldName;\n    entitytArr && entitytArr.forEach(function (val) {\n      if (fieldId === val.Id) {\n        fieldName = val.Name;\n      }\n    });\n    resultItemArr[0] = {\n      alias: fieldKey,\n      itemId: id,\n      metaType: 'formmeta',\n      propertyName: 'FieldId',\n      value: fieldId\n    };\n    resultItemArr[1] = {\n      alias: fieldKey,\n      itemId: id,\n      metaType: 'formmeta',\n      propertyName: 'Name',\n      value: fieldName\n    };\n    resultItemArr[2] = {\n      alias: fieldKey,\n      itemId: id,\n      metaType: 'formmeta',\n      propertyName: 'Key',\n      value: fieldKey\n    };\n    resultArr = resultArr.concat(resultItemArr);\n  } else if (id && !fieldId && !fieldKey && newField !== true && !isFooter) {\n    var _resultItemArr3 = [];\n    var _fieldName3 = item.get('name');\n    _resultItemArr3[0] = {\n      alias: fieldKey,\n      itemId: id,\n      metaType: 'formmeta',\n      propertyName: 'FieldId',\n      value: ''\n    };\n    _resultItemArr3[1] = {\n      alias: fieldKey,\n      itemId: id,\n      metaType: 'formmeta',\n      propertyName: 'Name',\n      value: _fieldName3\n    };\n    _resultItemArr3[2] = {\n      alias: fieldKey,\n      itemId: id,\n      metaType: 'formmeta',\n      propertyName: 'Key',\n      value: ''\n    };\n    resultArr = resultArr.concat(_resultItemArr3);\n  }\n  return resultArr;\n};\n\n/**\n * 根据容器id获取单头字段分组信息\n * @param {*} targetArr 目标数组\n * @param {*} getFormFieldInfo 获取父容器控件信息方法\n * @return 数组\n */\nvar getGroupInfos = exports.getGroupInfos = function getGroupInfos(targetArr, getFormFieldInfo) {\n  var parentIds = [];\n  var result = [];\n  var preParentId = '';\n  targetArr && targetArr.forEach(function (item, index) {\n    var parentId = item.get('parentId');\n    if (!parentIds.includes(parentId)) {\n      if (parentIds.length !== 0) {\n        result.push({\n          name: \"+\".concat((0, _intlApi.getLangMsg)('bosd.fieldBindFunction.key0001')),\n          parentId: preParentId,\n          isFooter: true,\n          id: (0, _uid[\"default\"])(10)\n        });\n      }\n      parentIds.push(parentId);\n      var parentInfo = getFormFieldInfo(parentId);\n      parentInfo = parentInfo.set('isParent', true);\n      result.push(parentInfo);\n      result.push(item);\n      preParentId = parentId;\n    } else {\n      result.push(item);\n    }\n  });\n  result.push({\n    name: \"+\".concat((0, _intlApi.getLangMsg)('bosd.fieldBindFunction.key0001')),\n    parentId: preParentId,\n    isFooter: true,\n    id: (0, _uid[\"default\"])(10)\n  });\n  return (0, _immutable.fromJS)(result);\n};\n\n/**\n * 格式化新增字段信息\n * @param {*} mappingTableData 目标数组\n * @param {*} selControlId 新增字段的id\n * @return 数组\n */\nvar formatNewField = exports.formatNewField = function formatNewField(mappingTableData, selControlId) {\n  var result = mappingTableData && mappingTableData.map(function (item) {\n    var temporaryId = item.get('temporaryId');\n    var newitem = item;\n    if (temporaryId !== undefined) {\n      newitem = item.set('id', selControlId);\n      newitem = newitem.set('temporaryId', undefined);\n    }\n    return newitem;\n  });\n  return result;\n};\n\n/**\n * 获取最新已选表信息\n * @param {*} activeindex 当前激活字段索引\n * @param {*} mappingTableData 已选表数组\n * @param {*} key 已选字段的key\n * @param {*} fieldId 已选字段的fieldId\n * @return 数组／无激活字段返回null\n */\nvar getNewMappingData = exports.getNewMappingData = function getNewMappingData(activeindex, mappingTableData, key, fieldId, Name) {\n  var activedata = mappingTableData && mappingTableData.get(activeindex);\n  var newField = activedata && activedata.get('newField');\n  if (activedata) {\n    var newdata = mappingTableData.setIn([activeindex, 'fieldKey'], key);\n    newdata = newdata.setIn([activeindex, 'fieldId'], fieldId);\n    newdata = newdata.setIn([activeindex, 'Name'], Name);\n    if (newField === true) {\n      newdata = newdata.setIn([activeindex, 'newField'], false);\n    }\n    return newdata;\n  }\n  return null;\n};\n\n//# sourceURL=webpack://bos-platform/./src/designer/model/fieldBindFunction.js?");

/***/ }),

/***/ "./src/designer/page/ActionPanel.jsx":
/*!*******************************************!*\
  !*** ./src/designer/page/ActionPanel.jsx ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nvar _scriptEditorConstant = __webpack_require__(/*! @/designer/constant/scriptEditorConstant */ \"./src/designer/constant/scriptEditorConstant.js\");\nvar _propnames = __webpack_require__(/*! @/designer/constant/propnames */ \"./src/designer/constant/propnames.js\");\nvar _memoryCacher = __webpack_require__(/*! @/model/memoryCacher */ \"./src/model/memoryCacher.js\");\nvar _global = __webpack_require__(/*! @/global */ \"./src/global/index.js\");\nvar _server = __webpack_require__(/*! @/action/actionname/control/designer/server */ \"./src/action/actionname/control/designer/server/index.js\");\nvar _ActionPanel = _interopRequireDefault(__webpack_require__(/*! ./ActionPanel.less */ \"./src/designer/page/ActionPanel.less\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n/**\n * 设计器字段、页面级别动作面板（编辑器）\n */\n\nvar getFormType = function getFormType() {\n  var subDesignerElement = document.querySelector('#tabpagesubdesigner');\n  if ((subDesignerElement === null || subDesignerElement === void 0 ? void 0 : subDesignerElement.dataset.tabHidden) === 'false') {\n    return 'subformdesigner';\n  }\n  return 'formdesigner';\n};\nfunction ActionPanel(_ref) {\n  var element = _ref.element,\n    ctrlInfo = _ref.ctrlInfo;\n  var handleEditClick = function handleEditClick(func) {\n    var rootPageId = (0, _global.getGlobalState)().get('rootPageId');\n    var name = func.name;\n    var content = {\n      snippet: name\n    };\n    if (ctrlInfo) {\n      var _fieldKey = ctrlInfo.get('Key');\n      var fieldName = ctrlInfo.get('Name');\n      var controlType = ctrlInfo.get('_Type_');\n      content.controlKey = _fieldKey;\n      content.controlName = fieldName;\n      content.controlType = controlType;\n    }\n    var formType = getFormType();\n    (0, _memoryCacher.publishControlMethod)(rootPageId, formType, 'directives', [{\n      methodname: _server.SHOW_JS_SCRIPT_EDITOR,\n      args: [{\n        isInternal: true,\n        content: content\n      }]\n    }]);\n  };\n  var elementType = getElementType(element);\n  var funcList = _scriptEditorConstant.FUNCTION_TYPE[elementType];\n  var fieldKey = ctrlInfo ? ctrlInfo.get('Name') : '';\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _ActionPanel[\"default\"].container\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _ActionPanel[\"default\"].title\n  }, fieldKey), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _ActionPanel[\"default\"].item\n  }, funcList.map(function (func) {\n    var editFuncTitle = (0, _intlApi.getLangMsg)('bosd.actionpanel.key0001');\n    var handleClick = function handleClick(evt) {\n      return handleEditClick(func);\n    };\n    return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _ActionPanel[\"default\"]['item-func'],\n      key: func.name\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _ActionPanel[\"default\"].top\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"p\", {\n      className: _ActionPanel[\"default\"]['func-desc'],\n      title: func.desc\n    }, func.desc), /*#__PURE__*/_react[\"default\"].createElement(\"p\", {\n      className: _ActionPanel[\"default\"]['edit-btn'],\n      title: editFuncTitle,\n      onClick: handleClick\n    }, editFuncTitle)), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _ActionPanel[\"default\"]['func-name']\n    }, func.name));\n  })));\n}\nvar getElementType = function getElementType(element) {\n  var type = element.get(_propnames.TYPE);\n  if (_scriptEditorConstant.CONTROL_AP_MAPPER[type]) {\n    return _scriptEditorConstant.CONTROL_AP_MAPPER[type];\n  }\n  return _scriptEditorConstant.CONTROL_AP_MAPPER.Default;\n};\nvar _default = exports[\"default\"] = ActionPanel;\n\n//# sourceURL=webpack://bos-platform/./src/designer/page/ActionPanel.jsx?");

/***/ }),

/***/ "./src/designer/page/ControlsPanel.jsx":
/*!*********************************************!*\
  !*** ./src/designer/page/ControlsPanel.jsx ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.array.some.js */ \"../../node_modules/core-js/modules/es.array.some.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\n__webpack_require__(/*! core-js/modules/es.string.trim.js */ \"../../node_modules/core-js/modules/es.string.trim.js\");\n__webpack_require__(/*! core-js/modules/web.timers.js */ \"../../node_modules/core-js/modules/web.timers.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _propTypes = _interopRequireDefault(__webpack_require__(/*! prop-types */ \"../../node_modules/prop-types/index.js\"));\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _Collapse = _interopRequireDefault(__webpack_require__(/*! ../component/Collapse */ \"./src/designer/component/Collapse.jsx\"));\nvar _ControlsPanel2 = _interopRequireDefault(__webpack_require__(/*! ./ControlsPanel.less */ \"./src/designer/page/ControlsPanel.less\"));\nvar _propnames = __webpack_require__(/*! ../constant/propnames */ \"./src/designer/constant/propnames.js\");\nvar _classnames3 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _DragWarpper = _interopRequireDefault(__webpack_require__(/*! ../controls/common/DragWarpper */ \"./src/designer/controls/common/DragWarpper.js\"));\nvar icons = _interopRequireWildcard(__webpack_require__(/*! ../icon */ \"./src/designer/icon/index.js\"));\nvar _common = __webpack_require__(/*! ../reducer/ui/common */ \"./src/designer/reducer/ui/common.js\");\nvar _model = __webpack_require__(/*! ../model */ \"./src/designer/model/index.js\");\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _filter_s_del = _interopRequireDefault(__webpack_require__(/*! ../../component/web/img/default/filter_s_del.png */ \"./src/component/web/img/default/filter_s_del.png\"));\nvar _async = __webpack_require__(/*! async */ \"../../node_modules/async/dist/async.js\");\nvar _Overlay = _interopRequireDefault(__webpack_require__(/*! ../../page/Overlay */ \"./src/page/Overlay.js\"));\nvar _registWizardPage = __webpack_require__(/*! ../wizard/registWizardPage */ \"./src/designer/wizard/registWizardPage.js\");\nvar _pages = _interopRequireDefault(__webpack_require__(/*! ../wizard/pages */ \"./src/designer/wizard/pages/index.js\"));\nvar _listenInput = _interopRequireDefault(__webpack_require__(/*! ../../util/listenInput */ \"./src/util/listenInput.js\"));\nvar _uiModelFunction = __webpack_require__(/*! ../model/uiModelFunction */ \"./src/designer/model/uiModelFunction.js\");\nvar _metadataModelFunction = __webpack_require__(/*! ../model/metadataModelFunction */ \"./src/designer/model/metadataModelFunction.js\");\nvar _PinYinUtil = __webpack_require__(/*! ../../util/PinYinUtil */ \"./src/util/PinYinUtil.js\");\nvar _reactTooltip = _interopRequireDefault(__webpack_require__(/*! react-tooltip */ \"../../node_modules/react-tooltip/dist/index.es.js\"));\nvar _controlDocInfo = _interopRequireDefault(__webpack_require__(/*! ../../constant/controlDocInfo */ \"./src/constant/controlDocInfo.js\"));\nvar _designerContext = __webpack_require__(/*! ../controls/common/designerContext */ \"./src/designer/controls/common/designerContext.js\");\nvar _componentutil = __webpack_require__(/*! @/util/componentutil */ \"./src/util/componentutil.js\");\nvar _controlsPanelUtil = __webpack_require__(/*! ../utils/controlsPanelUtil.js */ \"./src/designer/utils/controlsPanelUtil.js\");\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nvar _DropdownControl = _interopRequireDefault(__webpack_require__(/*! @/designer/page/DropdownControl.jsx */ \"./src/designer/page/DropdownControl.jsx\"));\nvar _fieldTypeConst = __webpack_require__(/*! @/designer/constant/fieldTypeConst.js */ \"./src/designer/constant/fieldTypeConst.js\");\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); } // 加载所有向导页面\n// const Parallel_eval_path='public/thirdjs/eval.js';//并发库需要的eval文件路径\nvar num = 0;\nvar ControlsPanel = /*#__PURE__*/function (_React$Component) {\n  _inherits(ControlsPanel, _React$Component);\n  function ControlsPanel(_props) {\n    var _this$props$uiConfig;\n    var _this;\n    _classCallCheck(this, ControlsPanel);\n    _this = _callSuper(this, ControlsPanel, [_props]);\n    _this.getGroupControlsData = function (filterStr, uiConfig) {\n      if (!filterStr || filterStr.trim() === '') {\n        return _this.groupControls;\n      }\n      return uiConfig.get(_propnames.GROUPS);\n    };\n    _this.dropHandle = function (ctrl) {\n      return function (containerId, ctrlInfo) {\n        _this.addControl(Object.assign({}, ctrlInfo, _defineProperty({}, _propnames.TYPE, ctrl.get(_propnames.TYPE))), containerId);\n      };\n    };\n    _this.renderControlsItem = function (ctrl, group) {\n      var _this$props = _this.props,\n        pathname = _this$props.pathname,\n        hasTmpCtrls = _this$props.hasTmpCtrls;\n      var hasDataDesignKey = ['CommonField', 'BusinessField', 'CommonControl'].indexOf(group.get(_propnames.ID)) > -1;\n      var groupId = group.get(_propnames.ID);\n      var dataDesignKey = hasDataDesignKey ? \"\".concat(groupId, \":\").concat(ctrl.get(_propnames.ID)) : undefined;\n      var key = ctrl.get(_propnames.TYPE);\n      if (ctrl.get(_fieldTypeConst.CONTROL_TYPE) === _fieldTypeConst.DROPDOWN) {\n        return /*#__PURE__*/_react[\"default\"].createElement(_DropdownControl[\"default\"], {\n          key: key,\n          ctrl: ctrl.get(_fieldTypeConst.CTRL),\n          pathname: pathname,\n          dataDesignKey: dataDesignKey,\n          addControl: _this.addControl,\n          dropdownDatas: ctrl.get(_propnames.CHILDERN),\n          dropHandle: _this.dropHandle(ctrl)\n        });\n      }\n      return /*#__PURE__*/_react[\"default\"].createElement(ControlsItem, {\n        key: key,\n        ctrl: ctrl,\n        pathname: pathname,\n        hasTmpCtrls: hasTmpCtrls,\n        onClick: function onClick() {\n          return _this.addControl(ctrl.get(_propnames.TYPE), undefined, ctrl.get(_propnames.CTRL_NAME));\n        },\n        dropHandle: _this.dropHandle(ctrl),\n        dataDesignKey: dataDesignKey\n      });\n    };\n    // ctrlInfo  [string|object]  string:控件的类型\n    //                           object:控件信息(有默认其他属性)\n    _this.addControl = function (ctrlInfo, containerId, controlName) {\n      try {\n        var wizardCtrlInfo = _typeof(ctrlInfo) === 'object' ? ctrlInfo[_propnames.TYPE] : ctrlInfo;\n        var _ref = (0, _registWizardPage.getWizardPage)(wizardCtrlInfo) || {},\n          WinzardPage = _ref.WinzardPage,\n          props = _ref.props;\n        if (window.wizard && WinzardPage) {\n          _this.setState({\n            OverlayChildren: /*#__PURE__*/_react[\"default\"].createElement(WinzardPage, _extends({\n              setCallback: function setCallback(action) {\n                return _this.action = action;\n              }\n            }, props)),\n            showOverlay: true,\n            ctrlInfo: wizardCtrlInfo,\n            ctrlName: controlName\n          });\n        } else {\n          var newCtrlInfo = _typeof(ctrlInfo) === 'object' ? ctrlInfo : {\n            Type: ctrlInfo,\n            Id: (0, _componentutil.createNewId)()\n          };\n          _this.props.addControl(containerId || _this.props.select_control_id, newCtrlInfo, _this.props.uiConfig);\n        }\n      } catch (error) {\n        console.error(error.message);\n        _this.context.notifyMsg(error.message);\n      }\n    };\n    _this.filterPermission = function (parentInfo) {\n      return function (group) {\n        return group.update('children', function (children) {\n          return children.filter(function (ctrl) {\n            return _this.isAllowAdd(ctrl.get('Type'), parentInfo);\n          });\n        });\n      };\n    };\n    _this.filterName = function (filterStr) {\n      return function (group) {\n        if (!filterStr || filterStr.trim() === '') {\n          return group;\n        } else {\n          filterStr = filterStr.trim();\n        }\n        // let reg = new RegExp(filterStr, 'i')\n        return group.update('children', function (children) {\n          return children.filter(function (ctrl) {\n            if (filterStr === '') return true;\n            var name = ctrl.get('name');\n            if (name && name.toLocaleLowerCase().indexOf(filterStr.toLocaleLowerCase()) >= 0) return true;\n            var spellName = (0, _PinYinUtil.cont2Spell)(ctrl.get('name'));\n            if (spellName && spellName.toLocaleLowerCase().indexOf(filterStr.toLocaleLowerCase()) >= 0) return true;\n          });\n        });\n      };\n    };\n    _this.state = {\n      active: 'all',\n      filterStr: '',\n      // 过滤关键字\n      controls: undefined,\n      showOverlay: false\n    };\n    _this.filterPermission = _this.filterPermission.bind(_assertThisInitialized(_this));\n    _this.isAllowAdd = _this.isAllowAdd.bind(_assertThisInitialized(_this));\n    _this.filterName = _this.filterName.bind(_assertThisInitialized(_this));\n    _this.updateContronPanel = _this.updateContronPanel.bind(_assertThisInitialized(_this));\n    _this.getControlGroups = _this.getControlGroups.bind(_assertThisInitialized(_this));\n    _this.asyncRenderGroups = _this.asyncRenderGroups.bind(_assertThisInitialized(_this));\n    _this.onCloseOverlay = _this.onCloseOverlay.bind(_assertThisInitialized(_this));\n    _this.onOk = _this.onOk.bind(_assertThisInitialized(_this));\n    _this.setInput = _this.setInput.bind(_assertThisInitialized(_this));\n    _this.groupControls = (0, _controlsPanelUtil.getGroupControls)((_this$props$uiConfig = _this.props.uiConfig) === null || _this$props$uiConfig === void 0 ? void 0 : _this$props$uiConfig.get(_propnames.GROUPS));\n    return _this;\n  }\n  _createClass(ControlsPanel, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.isAllowAddCache = {};\n    }\n\n    // shouldComponentUpdate (nextProps, nextState) {\n    //   return this.props.select_control_id != nextProps.select_control_id ||\n    //     this.state.filterStr != nextState.filterStr ||\n    //     !is(this.state.controls, nextState.controls) ||\n    //     this.state.showOverlay != nextState.showOverlay||\n    //     (this.props.uiInfo&&nextProps.uiInfo&&this.props.uiInfo.get('language')!=nextProps.uiInfo.get('language'))\n    // }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      var isSelectControlChanged = this.props.select_control_id != nextProps.select_control_id && nextProps.uiInfo;\n      var isUiConfigChanged = !(0, _immutable.is)(this.props.uiConfig, nextProps.uiConfig);\n      var isLanguageChanged = this.props.uiInfo && nextProps.uiInfo && this.props.uiInfo.get('language') != nextProps.uiInfo.get('language');\n      var isContainerTypeChange = false;\n      var ctrlInfo = (0, _uiModelFunction.getFormFieldInfo)(this.props.uiInfo, this.props.select_control_id);\n      var nextCtrlInfo = (0, _uiModelFunction.getFormFieldInfo)(nextProps.uiInfo, this.props.select_control_id);\n      var ctrlType = ctrlInfo === null || ctrlInfo === void 0 ? void 0 : ctrlInfo.get(_propnames._TYPE_);\n      if (['FlexPanelAp', 'FieldsetPanelAp'].includes(ctrlType)) {\n        var containerTpye = ctrlInfo === null || ctrlInfo === void 0 ? void 0 : ctrlInfo.get('ContainerType');\n        var nextContainerType = nextCtrlInfo === null || nextCtrlInfo === void 0 ? void 0 : nextCtrlInfo.get('ContainerType');\n        isContainerTypeChange = containerTpye !== nextContainerType;\n      }\n      if (isUiConfigChanged) {\n        var _nextProps$uiConfig;\n        this.groupControls = (0, _controlsPanelUtil.getGroupControls)((_nextProps$uiConfig = nextProps.uiConfig) === null || _nextProps$uiConfig === void 0 ? void 0 : _nextProps$uiConfig.get(_propnames.GROUPS));\n      }\n      if (isSelectControlChanged || isUiConfigChanged || isLanguageChanged || isContainerTypeChange) {\n        this.updateContronPanel(nextProps, this.input ? this.input.value : '');\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      num += 1;\n      this.num = num;\n      if (this.props.select_control_id && this.props.uiInfo) {\n        this.updateContronPanel(this.props);\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (prevState.filterStr != this.state.filterStr) {\n        this.updateContronPanel(this.props, this.state.filterStr);\n      }\n    }\n  }, {\n    key: \"updateContronPanel\",\n    value: function updateContronPanel(props, filterStr) {\n      var _this2 = this;\n      var select_control_id = props.select_control_id,\n        uiInfo = props.uiInfo,\n        uiConfig = props.uiConfig;\n      // if (props.uiInfo.get('language') != undefined && props.uiInfo.get('language') !== 'zh_CN') {\n      //   this.setState({\n      //     controls: <div style={{ color: 'red' }}>&nbsp;&nbsp;&nbsp;表单只能在简体中文'zh_CN'下添加控件</div>\n      //   })\n      //   return\n      // }\n      // 如果entityreadonly为true，则将字段和单据体相关控件隐藏\n      var filterGroup = function filterGroup(group) {\n        return group.get('Visible') === false || uiInfo.get('entityreadonly') && _lodash[\"default\"].includes(['Field', 'Entry'], group.get('BaseType'));\n      };\n      var resultGroup = this.getGroupControlsData(filterStr, uiConfig).filterNot(filterGroup);\n      resultGroup = resultGroup.map(this.filterName(filterStr));\n      var parentId = select_control_id || _model.uiModel.getRootId(uiInfo);\n      var containerInfo = _model.uiModel.getContainerControl(uiInfo, parentId, true, uiConfig);\n      if (!containerInfo) return;\n      var filterPermission = this.filterPermission(containerInfo.control);\n      clearTimeout(this.timer);\n      this.timer = setTimeout(function () {\n        _this2.asyncRenderGroups(resultGroup, filterPermission, select_control_id);\n      }, 200);\n    }\n  }, {\n    key: \"asyncRenderGroups\",\n    value: function asyncRenderGroups(resultGroup, filterPermission, select_control_id) {\n      var _this3 = this;\n      var eles = (0, _immutable.List)();\n      var groups = (0, _immutable.List)();\n      var old_groups;\n      /*\n       * 问题说明: IE下控件列表无法正常加载出来. 原因如下,数据异常引发的js error.\n       *\n       * 兼容性说明: eachOfSeries接口+resultGroup(不可变对象List)在IE下会有兼容性问题,\n       *           导致回调返回的group不是resultGroup中单个的对象,而是resultGroup的长度(数字).\n       */\n      (0, _async.eachOfSeries)(resultGroup, function (group, key, callback) {\n        setTimeout(function () {\n          if (_this3.props.select_control_id === select_control_id) {\n            var _old_groups;\n            groups = groups.push(filterPermission(group));\n            groups = groups.filter(function (group) {\n              return group.get('children').size > 0;\n            });\n            if (groups.size === 0) {\n              var ctrInfo = (0, _uiModelFunction.getFormFieldInfo)(_this3.props.uiInfo, _this3.props.select_control_id);\n              var name = '';\n              if (ctrInfo) {\n                var type = ctrInfo.get(_propnames._TYPE_);\n                var ctrmetaData = (0, _metadataModelFunction.getConfigFieldByType)(_this3.props.uiConfig, type);\n                name = ctrmetaData.get('name');\n              }\n              if (_this3.state.filterStr) {\n                eles = /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n                  style: {\n                    margin: 8\n                  }\n                }, (0, _intlApi.getLangMsg)({\n                  key: 'bosd.controlsPanel.key0001',\n                  variables: {\n                    name: /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n                      style: {\n                        color: 'red'\n                      }\n                    }, name),\n                    filterStr: /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n                      style: {\n                        color: 'red'\n                      }\n                    }, _this3.state.filterStr)\n                  }\n                }));\n              } else {\n                eles = /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n                  style: {\n                    margin: 8\n                  }\n                }, (0, _intlApi.getLangMsg)({\n                  key: 'bosd.controlsPanel.key0002',\n                  variables: {\n                    name: /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n                      style: {\n                        color: 'red'\n                      }\n                    }, name)\n                  }\n                }));\n              }\n            } else {\n              eles = groups.map(function (group, i) {\n                return /*#__PURE__*/_react[\"default\"].createElement(_Collapse[\"default\"], {\n                  key: 'group' + i,\n                  title: group.get('name')\n                }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n                  className: _ControlsPanel2[\"default\"].ctrospanel\n                }, group.get('children').map(function (ctrl, index) {\n                  return _this3.renderControlsItem(ctrl, group);\n                })));\n              });\n            }\n            if (eles.size > 0 && old_groups && !(_old_groups = old_groups).includes.apply(_old_groups, _toConsumableArray(groups))) {\n              _this3.setState({\n                controls: eles\n              });\n            }\n            callback();\n          }\n        }, 0);\n      }, function () {\n        old_groups = groups;\n        _this3.setState({\n          controls: eles\n        });\n      });\n    }\n  }, {\n    key: \"switchTab\",\n    value: function switchTab(tab) {\n      this.setState({\n        active: tab\n      });\n    }\n  }, {\n    key: \"onCloseOverlay\",\n    value: function onCloseOverlay() {\n      this.setState({\n        showOverlay: false,\n        OverlayChildren: undefined\n      });\n    }\n  }, {\n    key: \"onOk\",\n    value: function onOk() {\n      // 向导返回的数据\n      var result = this.action();\n      if (result) {\n        this.onCloseOverlay();\n        this.props.addControl(this.props.select_control_id, result, this.props.uiConfig);\n      }\n    }\n  }, {\n    key: \"isInGridFlatPanel\",\n    value:\n    /**\n     * 判断是否在平铺容器中\n     */\n    function isInGridFlatPanel(uiInfo, _ref2) {\n      var uiConfig = _ref2.uiConfig,\n        ctrlInfo = _ref2.ctrlInfo;\n      var panelType;\n      var ctrlType = ctrlInfo === null || ctrlInfo === void 0 ? void 0 : ctrlInfo.get('Type');\n      if (ctrlType === 'FieldsetPanelAp') {\n        var _uiModel$getContainer;\n        var parentInfo = (_uiModel$getContainer = _model.uiModel.getContainerControl(uiInfo, ctrlInfo === null || ctrlInfo === void 0 ? void 0 : ctrlInfo.get('Id'), false, uiConfig)) === null || _uiModel$getContainer === void 0 ? void 0 : _uiModel$getContainer.control;\n        panelType = parentInfo === null || parentInfo === void 0 ? void 0 : parentInfo.get('Type');\n      } else if (ctrlType === 'FieldgroupPanelAp') {\n        var _uiModel$getContainer2, _uiModel$getContainer3;\n        var _parentInfo = (_uiModel$getContainer2 = _model.uiModel.getContainerControl(uiInfo, ctrlInfo === null || ctrlInfo === void 0 ? void 0 : ctrlInfo.get('Id'), false, uiConfig)) === null || _uiModel$getContainer2 === void 0 ? void 0 : _uiModel$getContainer2.control;\n        var $parentInfo = (_uiModel$getContainer3 = _model.uiModel.getContainerControl(uiInfo, _parentInfo === null || _parentInfo === void 0 ? void 0 : _parentInfo.get('Id'), false, uiConfig)) === null || _uiModel$getContainer3 === void 0 ? void 0 : _uiModel$getContainer3.control;\n        panelType = $parentInfo === null || $parentInfo === void 0 ? void 0 : $parentInfo.get('Type');\n      }\n      return panelType === 'GridFlatPanelAp';\n    }\n  }, {\n    key: \"isAllowAdd\",\n    value: function isAllowAdd(ctrlType, parentInfo) {\n      var childrenItems = this.props.uiInfo.getIn(['ui', 'Items'], (0, _immutable.List)());\n      var existTabbarControl = childrenItems.some(function (item) {\n        return item.get('Type') === 'MTabBarAp';\n      });\n      if (existTabbarControl && (parentInfo === null || parentInfo === void 0 ? void 0 : parentInfo.get('Type')) === 'MobileFormAp') return false;\n      var newCtrlType = _model.uiModel.getRealControlType(this.props.uiInfo)(parentInfo.get(_propnames.TYPE), parentInfo.get(_propnames.ID));\n      var key = \"\".concat(ctrlType, \"_\").concat(parentInfo.get(_propnames.ID), \"_\").concat(newCtrlType);\n      if (this.isAllowAddCache[key] === undefined) {\n        var uiConfig = this.props.uiConfig;\n        var uiInfo = this.props.uiInfo;\n        var typeInfo = _model.uiModel.getTypeInfo({\n          ctrlType: ctrlType\n        }, uiConfig);\n        ctrlType = typeInfo.ctrlType;\n        var fieldType = typeInfo.fieldType;\n        var result = false;\n        if (fieldType === 'RichTextField' || fieldType === 'SignatureField') {\n          var isInGridFlatPanel = this.isInGridFlatPanel(uiInfo, {\n            uiConfig: uiConfig,\n            ctrlInfo: parentInfo\n          });\n          if (isInGridFlatPanel) {\n            this.isAllowAddCache[key] = false;\n            return this.isAllowAddCache[key];\n          }\n        }\n        try {\n          result = (0, _common.canAddControl)(uiInfo, {\n            parentId: parentInfo,\n            ctrlType: ctrlType,\n            fieldType: fieldType,\n            uiConfig: uiConfig\n          });\n        } catch (error) {}\n        this.isAllowAddCache[key] = result;\n      }\n      return this.isAllowAddCache[key];\n    }\n  }, {\n    key: \"getControlGroups\",\n    value: function getControlGroups(_ref3, filterStr) {\n      var select_control_id = _ref3.select_control_id,\n        uiInfo = _ref3.uiInfo,\n        uiConfig = _ref3.uiConfig;\n      var filterGroup = function filterGroup(group) {\n        return group.get('Visible') === false || uiInfo.get('entityreadonly') && _lodash[\"default\"].includes(['Field', 'Entry'], group.get('BaseType'));\n      };\n      var resultGroup = uiConfig.get('groups').filterNot(filterGroup);\n      resultGroup = resultGroup.map(this.filterName(filterStr));\n      var parentId = select_control_id || _model.uiModel.getRootId(uiInfo);\n      var containerInfo = _model.uiModel.getContainerControl(uiInfo, parentId, true, uiConfig);\n      resultGroup = resultGroup.map(this.filterPermission(containerInfo.control));\n      resultGroup = resultGroup.filter(function (group) {\n        return group.get('children').size > 0;\n      });\n      return resultGroup;\n    }\n  }, {\n    key: \"setInput\",\n    value: function setInput(input) {\n      var _this4 = this;\n      if (input) {\n        this.input = input;\n        this.removeListener = (0, _listenInput[\"default\"])(input, function (value) {\n          _this4.setState({\n            filterStr: value\n          });\n        });\n      } else {\n        this.removeListener && this.removeListener();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n      if (!this.props.uiInfo || !this.props.uiConfig) {\n        return null;\n      }\n      var isShow = !!this.state.filterStr;\n      // console.log('render outline',this.num)\n      var overlayProps = {\n        ctrlInfo: this.state.ctrlInfo,\n        showColseButton: true,\n        uiInfo: this.props.uiInfo,\n        uiConfig: this.props.uiConfig,\n        title: (0, _intlApi.getLangMsg)({\n          key: 'bosd.controlsPanel.key0003',\n          variables: {\n            ctrlName: this.state.ctrlName\n          }\n        }),\n        onClose: this.onCloseOverlay,\n        onOk: this.onOk\n      };\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _ControlsPanel2[\"default\"].root\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _ControlsPanel2[\"default\"].filterContainer\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"input\", {\n        type: \"text\",\n        onKeyUp: function onKeyUp(e) {\n          if (e.keyCode === 13) {\n            _this5.updateContronPanel(_this5.props, e.target.value);\n          }\n        },\n        className: _ControlsPanel2[\"default\"].filterInput,\n        placeholder: (0, _intlApi.getLangMsg)('bosd.controlsPanel.key0004'),\n        ref: this.setInput\n      }), isShow ? /*#__PURE__*/_react[\"default\"].createElement(\"img\", {\n        src: _filter_s_del[\"default\"],\n        className: _ControlsPanel2[\"default\"].deleteImg,\n        onClick: function onClick(e) {\n          _this5.setState({\n            filterStr: ''\n          });\n          _this5.input.select();\n          document.execCommand('Delete');\n        }\n      }) : null), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _ControlsPanel2[\"default\"].content\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: (0, _classnames3[\"default\"])(_defineProperty(_defineProperty({}, _ControlsPanel2[\"default\"].panel, true), _ControlsPanel2[\"default\"].showpanel, this.state.active == 'all'))\n      }, this.state.controls || /*#__PURE__*/_react[\"default\"].createElement(\"div\", null, \"\\xA0\\xA0\\xA0\", (0, _intlApi.getLangMsg)('bosd.controlsPanel.key0007')))), this.state.OverlayChildren && /*#__PURE__*/_react[\"default\"].createElement(_Overlay[\"default\"], overlayProps, this.state.OverlayChildren));\n    }\n  }]);\n  return ControlsPanel;\n}(_react[\"default\"].Component);\n// static contextTypes = {\n//   notifyMsg: PropTypes.func\n// }\nControlsPanel.contextType = _designerContext.EdituiContext;\nvar ControlItem = /*#__PURE__*/function (_React$Component2) {\n  _inherits(ControlItem, _React$Component2);\n  function ControlItem(props) {\n    var _this6;\n    _classCallCheck(this, ControlItem);\n    _this6 = _callSuper(this, ControlItem, [props]);\n    _this6.state = {\n      mouseDown: false,\n      options: {\n        delayHide: 500,\n        delayUpdate: 500,\n        delayShow: 1000\n      }\n    };\n    _this6.timer = null;\n    _this6.isdragging = false;\n    return _this6;\n  }\n  _createClass(ControlItem, [{\n    key: \"handleMouseUp\",\n    value: function handleMouseUp() {\n      if (!this.isdragging) {\n        clearTimeout(this.timer);\n      } else {\n        this.isdragging = false;\n      }\n      this.setState({\n        mouseDown: false,\n        options: {\n          delayHide: 500,\n          delayShow: 1000,\n          delayUpdate: 500\n        }\n      });\n    }\n  }, {\n    key: \"handleMouseDown\",\n    value: function handleMouseDown() {\n      var _this7 = this;\n      this.setState({\n        mouseDown: true\n      });\n      this.isdragging = false;\n      this.timer = setTimeout(function () {\n        _this7.isdragging = true;\n        _this7.setState({\n          options: {}\n        });\n      }, 200);\n    }\n  }, {\n    key: \"handleMouseLeave\",\n    value: function handleMouseLeave() {\n      if (!this.isdragging) {\n        clearTimeout(this.timer);\n        this.setState({\n          mouseDown: false\n        });\n      } else {\n        this.isdragging = false;\n        this.setState({\n          mouseDown: false,\n          options: {\n            delayHide: 500,\n            delayShow: 1000,\n            delayUpdate: 500\n          }\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this8 = this;\n      var type = this.props.ctrl.get('Type');\n      var fontClass = this.props.ctrl.get('ExtendFontClass');\n      var type_h = \"\".concat(type, \"_h\");\n      var type_tips = \"\".concat(type, \"_tips\");\n      var icon = icons[type] || icons.defaultIcon;\n      var icon_h = icons[type_h] || icons.defaultIcon_h;\n      var conDocInfo = _controlDocInfo[\"default\"][type] || _controlDocInfo[\"default\"].defaultInfo;\n      var thumbnail = icons[type_tips] || icons.defaultIcon_tips;\n      var introduction = conDocInfo.introduction;\n      var docAddress = \"\".concat(this.props.pathname, \"?category=\").concat(conDocInfo.category, \"&id=\").concat(conDocInfo.id, \"&productLineId=\").concat(conDocInfo.productLineId);\n      var moreInfo = _controlDocInfo[\"default\"][type] ? /*#__PURE__*/_react[\"default\"].createElement(\"a\", {\n        className: (0, _classnames3[\"default\"])(_ControlsPanel2[\"default\"].learnMore, 'link-color'),\n        href: docAddress,\n        rel: \"noopener noreferrer\",\n        target: \"_blank\"\n      }, (0, _intlApi.getLangMsg)('bosd.controlsPanel.key0005')) : /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n        className: _ControlsPanel2[\"default\"].learnMore\n      }, (0, _intlApi.getLangMsg)('bosd.controlsPanel.key0006'));\n      var _this$state$options = this.state.options,\n        delayHide = _this$state$options.delayHide,\n        delayShow = _this$state$options.delayShow,\n        delayUpdate = _this$state$options.delayUpdate;\n      var hasTmp = this.props.hasTmpCtrls && Array.isArray(this.props.hasTmpCtrls) && this.props.hasTmpCtrls.includes(type) ? _ControlsPanel2[\"default\"].hasTmp : null;\n      var ctrlTextCls = (0, _classnames3[\"default\"])(_ControlsPanel2[\"default\"].text, hasTmp);\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _ControlsPanel2[\"default\"].tooltipWrap,\n        \"data-design-key\": this.props.dataDesignKey\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        \"data-for\": this.props.ctrl.get('Id'),\n        \"data-tip\": true,\n        className: (0, _classnames3[\"default\"])(_defineProperty(_defineProperty({}, _ControlsPanel2[\"default\"].ctroitem, true), _ControlsPanel2[\"default\"].tooltipItem, true)),\n        onClick: this.props.onClick,\n        onMouseUp: function onMouseUp(e) {\n          return _this8.handleMouseUp();\n        },\n        onMouseLeave: function onMouseLeave(e) {\n          return _this8.handleMouseLeave();\n        },\n        onMouseDown: function onMouseDown(e) {\n          return _this8.handleMouseDown();\n        }\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _ControlsPanel2[\"default\"].icon\n      }, fontClass ? /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n        className: (0, _classnames3[\"default\"])(fontClass, _ControlsPanel2[\"default\"].fontIcon)\n      }) : /*#__PURE__*/_react[\"default\"].createElement(\"img\", {\n        src: this.state.mouseDown ? icon_h : icon\n      })), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: ctrlTextCls\n      }, this.props.ctrl.get('name'))), !this.isdragging && /*#__PURE__*/_react[\"default\"].createElement(_reactTooltip[\"default\"], {\n        id: this.props.ctrl.get('Id'),\n        effect: \"solid\",\n        delayHide: delayHide,\n        delayUpdate: delayUpdate,\n        delayShow: delayShow,\n        overridePosition: function overridePosition(_ref4, currentEvent, currentTarget, node, place, desiredPlace, effect, offset) {\n          var left = _ref4.left,\n            top = _ref4.top;\n          var d = document.documentElement;\n          left = Math.min(d.clientWidth - currentTarget.clientWidth, left);\n          // 设计器链接文档tips高度固定为192，当tips超出页面显示时，重新设置top值\n          top = Math.min(d.clientHeight - 192, top);\n          left = Math.max(0, left);\n          top = Math.max(0, top);\n          return {\n            top: top,\n            left: left\n          };\n        },\n        place: \"right\",\n        type: \"light\",\n        className: _ControlsPanel2[\"default\"].controlToolTips\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _ControlsPanel2[\"default\"].tipContainer\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _ControlsPanel2[\"default\"].thumbnail\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"img\", {\n        src: thumbnail\n      })), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _ControlsPanel2[\"default\"].tipDetail\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"p\", {\n        className: (0, _classnames3[\"default\"])(_ControlsPanel2[\"default\"].tipTitle, 'primary-text-in-light')\n      }, this.props.ctrl.get('name')), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: (0, _classnames3[\"default\"])(_ControlsPanel2[\"default\"].introduction, 'third-text-in-light'),\n        title: introduction\n      }, introduction), moreInfo))));\n    }\n  }]);\n  return ControlItem;\n}(_react[\"default\"].Component);\nvar ControlsItem = (0, _DragWarpper[\"default\"])(ControlItem, true, false);\nvar _default = exports[\"default\"] = ControlsPanel;\n\n//# sourceURL=webpack://bos-platform/./src/designer/page/ControlsPanel.jsx?");

/***/ }),

/***/ "./src/designer/page/ControlsTip.jsx":
/*!*******************************************!*\
  !*** ./src/designer/page/ControlsTip.jsx ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _ControlsTip = _interopRequireDefault(__webpack_require__(/*! ./ControlsTip.less */ \"./src/designer/page/ControlsTip.less\"));\nvar _classnames = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar icons = _interopRequireWildcard(__webpack_require__(/*! ../icon */ \"./src/designer/icon/index.js\"));\nvar _controlDocInfo = _interopRequireDefault(__webpack_require__(/*! @/constant/controlDocInfo */ \"./src/constant/controlDocInfo.js\"));\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction ControlsTip(_ref) {\n  var ctrl = _ref.ctrl,\n    pathname = _ref.pathname;\n  var type = ctrl.get('Type');\n  var typeTips = \"\".concat(type, \"_tips\");\n  var thumbnail = icons[typeTips] || icons.defaultIcon_tips;\n  // tip文字\n  var conDocInfo = _controlDocInfo[\"default\"][type] || _controlDocInfo[\"default\"].defaultInfo;\n  var introduction = conDocInfo.introduction;\n  var docAddress = \"\".concat(pathname, \"?category=\").concat(conDocInfo.category, \"&id=\").concat(conDocInfo.id, \"&productLineId=\").concat(conDocInfo.productLineId);\n  var moreInfo = _controlDocInfo[\"default\"][type] ? /*#__PURE__*/_react[\"default\"].createElement(\"a\", {\n    className: (0, _classnames[\"default\"])(_ControlsTip[\"default\"].learnMore, 'link-color'),\n    href: docAddress,\n    rel: \"noopener noreferrer\",\n    target: \"_blank\"\n  }, (0, _intlApi.getLangMsg)('bosd.controlsPanel.key0005')) : /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: _ControlsTip[\"default\"].learnMore\n  }, (0, _intlApi.getLangMsg)('bosd.controlsPanel.key0006'));\n\n  // 避免点击tip会添加字段\n  var handleStopPropagation = function handleStopPropagation(e) {\n    e.stopPropagation();\n  };\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _ControlsTip[\"default\"].tipContainer,\n    onClick: handleStopPropagation,\n    onMouseDown: handleStopPropagation,\n    onMouseUp: handleStopPropagation\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _ControlsTip[\"default\"].thumbnail\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"img\", {\n    src: thumbnail\n  })), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _ControlsTip[\"default\"].tipDetail\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"p\", {\n    className: (0, _classnames[\"default\"])(_ControlsTip[\"default\"].tipTitle, 'primary-text-in-light')\n  }, ctrl.get('name')), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames[\"default\"])(_ControlsTip[\"default\"].introduction, 'third-text-in-light')\n  }, introduction), moreInfo));\n}\nvar _default = exports[\"default\"] = ControlsTip;\n\n//# sourceURL=webpack://bos-platform/./src/designer/page/ControlsTip.jsx?");

/***/ }),

/***/ "./src/designer/page/DropdownControl.jsx":
/*!***********************************************!*\
  !*** ./src/designer/page/DropdownControl.jsx ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/web.timers.js */ \"../../node_modules/core-js/modules/web.timers.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _kdesign = __webpack_require__(/*! @kdcloudjs/kdesign */ \"webpack/sharing/consume/default/@kdcloudjs/kdesign/@kdcloudjs/kdesign\");\nvar _ControlsPanel = _interopRequireDefault(__webpack_require__(/*! ./ControlsPanel.less */ \"./src/designer/page/ControlsPanel.less\"));\nvar _DropdownControl = _interopRequireDefault(__webpack_require__(/*! ./DropdownControl.less */ \"./src/designer/page/DropdownControl.less\"));\nvar _ControlsTip = _interopRequireDefault(__webpack_require__(/*! @/designer/page/ControlsTip.jsx */ \"./src/designer/page/ControlsTip.jsx\"));\nvar _classnames3 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar icons = _interopRequireWildcard(__webpack_require__(/*! ../icon */ \"./src/designer/icon/index.js\"));\nvar _DragWarpper = _interopRequireDefault(__webpack_require__(/*! ../controls/common/DragWarpper */ \"./src/designer/controls/common/DragWarpper.js\"));\nvar _DropdownControlItem = _interopRequireDefault(__webpack_require__(/*! ./DropdownControlItem */ \"./src/designer/page/DropdownControlItem.jsx\"));\nvar _propnames = __webpack_require__(/*! ../constant/propnames */ \"./src/designer/constant/propnames.js\");\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nvar DropdownControl = /*#__PURE__*/(0, _react.memo)(function (_ref) {\n  var ctrl = _ref.ctrl,\n    pathname = _ref.pathname,\n    dataDesignKey = _ref.dataDesignKey,\n    _ref$dropdownDatas = _ref.dropdownDatas,\n    dropdownDatas = _ref$dropdownDatas === void 0 ? (0, _immutable.List)([]) : _ref$dropdownDatas,\n    addControl = _ref.addControl;\n  var _useState = (0, _react.useState)(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    tipVisible = _useState2[0],\n    setTipVisible = _useState2[1];\n  var _useState3 = (0, _react.useState)(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    showDropItem = _useState4[0],\n    setShowDropItem = _useState4[1];\n  var _useState5 = (0, _react.useState)(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    isActive = _useState6[0],\n    setIsActive = _useState6[1];\n  var type = ctrl.get(_propnames.TYPE);\n  var iconActive = icons[\"\".concat(type, \"_h\")] || icons.defaultIcon_h;\n  var icon = icons[type] || icons.defaultIcon;\n  var handleMouseDown = function handleMouseDown(e) {\n    if (e.target.id === 'dropicon' || e.target.getAttribute('drop-type') || e.target.getAttribute('role')) return;\n    setIsActive(true);\n  };\n  var handleMouseUp = function handleMouseUp(e) {\n    if (e.target.id === 'dropicon' || e.target.getAttribute('drop-type') || e.target.getAttribute('role')) return;\n    setIsActive(false);\n  };\n  var handleClick = function handleClick(e) {\n    setTipVisible(false);\n    var addType = e.target.getAttribute('drop-type') || ctrl.get(_propnames.TYPE);\n    var addName = e.target.getAttribute('drop-name') || ctrl.get(_propnames.CTRL_NAME);\n    addControl(addType, undefined, addName);\n  };\n  var handleIconClick = function handleIconClick(e) {\n    e.stopPropagation();\n    setShowDropItem(!showDropItem);\n    // 正在拖拽时，收起tip浮窗\n    setTipVisible(false);\n  };\n  var hanldeTipVisibleChange = function hanldeTipVisibleChange(visible) {\n    setTipVisible(visible);\n  };\n  var hanldeDropItemVisibleChange = function hanldeDropItemVisibleChange(visible) {\n    setTimeout(function () {\n      !visible && setShowDropItem(visible);\n    }, 0);\n  };\n  var handleDragOver = function handleDragOver() {\n    // 正在拖拽时，收起tip浮窗\n    setTipVisible(false);\n  };\n  var dropHandle = function dropHandle(field) {\n    return function (containerId, ctrlInfo) {\n      addControl(Object.assign({}, ctrlInfo, _defineProperty({}, _propnames.TYPE, field.get(_propnames.TYPE))), containerId);\n    };\n  };\n  var getCtrlMenu = (0, _react.useCallback)(function () {\n    return /*#__PURE__*/_react[\"default\"].createElement(_kdesign.Dropdown.Menu, null, dropdownDatas === null || dropdownDatas === void 0 ? void 0 : dropdownDatas.map(function (field) {\n      return /*#__PURE__*/_react[\"default\"].createElement(_DropdownControlItem[\"default\"], {\n        key: field.get(_propnames.TYPE),\n        \"dorp-type\": field.get(_propnames.TYPE),\n        \"drop-name\": field.get(_propnames.CTRL_NAME),\n        dropdownData: field,\n        dropHandle: dropHandle(field)\n      });\n    }));\n  }, [dropdownDatas]);\n  var dorpDownIcon = (0, _classnames3[\"default\"])(_DropdownControl[\"default\"].dorpDownIcon, 'kdfont kdfont-xiala', _defineProperty(_defineProperty({}, _DropdownControl[\"default\"].showDropdownItemIcon, showDropItem), _DropdownControl[\"default\"]['dorpDownIcon-active'], isActive));\n  var dropDownBox = (0, _classnames3[\"default\"])(_ControlsPanel[\"default\"].ctroitem, _ControlsPanel[\"default\"].tooltipItem, _DropdownControl[\"default\"].dropDownBox, _defineProperty({}, _DropdownControl[\"default\"]['dropDownBox-active'], isActive));\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _ControlsPanel[\"default\"].tooltipWrap,\n    \"data-design-key\": dataDesignKey,\n    onClick: handleClick,\n    onMouseDown: handleMouseDown,\n    onMouseUp: handleMouseUp\n  }, /*#__PURE__*/_react[\"default\"].createElement(_kdesign.Dropdown, {\n    menu: getCtrlMenu(),\n    trigger: \"click\",\n    popperClassName: \"dropdown-animation-not\",\n    placement: \"bottom\",\n    visible: showDropItem,\n    onVisibleChange: hanldeDropItemVisibleChange\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    \"data-for\": ctrl.get(_propnames.ID),\n    \"data-tip\": true,\n    className: dropDownBox\n  }, /*#__PURE__*/_react[\"default\"].createElement(_kdesign.Tooltip, {\n    tip: /*#__PURE__*/_react[\"default\"].createElement(_ControlsTip[\"default\"], {\n      ctrl: ctrl,\n      pathname: pathname\n    }),\n    popperStyle: {\n      maxWidth: 420,\n      padding: 12\n    },\n    placement: \"right\",\n    visible: tipVisible,\n    mouseEnterDelay: 1 // 延时1秒展示\n    ,\n    mouseLeaveDelay: 0.5 // 延时0.5秒收起\n    ,\n    onVisibleChange: hanldeTipVisibleChange\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", null, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _DropdownControl[\"default\"].dorpImg,\n    onDragOver: handleDragOver\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"img\", {\n    src: isActive ? iconActive : icon\n  })), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _DropdownControl[\"default\"].dropDownCont\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _DropdownControl[\"default\"].dropdownName,\n    title: ctrl.get(_propnames.CTRL_NAME)\n  }, ctrl.get(_propnames.CTRL_NAME)), dropdownDatas.size > 0 && /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n    id: \"dropicon\",\n    className: dorpDownIcon,\n    onClick: handleIconClick\n  })))))));\n});\nvar _default = exports[\"default\"] = (0, _DragWarpper[\"default\"])(DropdownControl, true, false);\n\n//# sourceURL=webpack://bos-platform/./src/designer/page/DropdownControl.jsx?");

/***/ }),

/***/ "./src/designer/page/DropdownControlItem.jsx":
/*!***************************************************!*\
  !*** ./src/designer/page/DropdownControlItem.jsx ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _DragWarpper = _interopRequireDefault(__webpack_require__(/*! ../controls/common/DragWarpper */ \"./src/designer/controls/common/DragWarpper.js\"));\nvar _kdesign = __webpack_require__(/*! @kdcloudjs/kdesign */ \"webpack/sharing/consume/default/@kdcloudjs/kdesign/@kdcloudjs/kdesign\");\nvar _propnames = __webpack_require__(/*! ../constant/propnames */ \"./src/designer/constant/propnames.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction DropdownControlItem(_ref) {\n  var dropdownData = _ref.dropdownData;\n  return /*#__PURE__*/_react[\"default\"].createElement(_kdesign.Dropdown.Item, {\n    key: dropdownData.get(_propnames.TYPE)\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    \"drop-type\": dropdownData.get(_propnames.TYPE),\n    \"drop-name\": dropdownData.get(_propnames.CTRL_NAME)\n  }, dropdownData.get(_propnames.CTRL_NAME)));\n}\nvar _default = exports[\"default\"] = (0, _DragWarpper[\"default\"])(DropdownControlItem, true, false);\n\n//# sourceURL=webpack://bos-platform/./src/designer/page/DropdownControlItem.jsx?");

/***/ }),

/***/ "./src/designer/page/EditToolbar.jsx":
/*!*******************************************!*\
  !*** ./src/designer/page/EditToolbar.jsx ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.array.reduce.js */ \"../../node_modules/core-js/modules/es.array.reduce.js\");\n__webpack_require__(/*! core-js/modules/es.array.splice.js */ \"../../node_modules/core-js/modules/es.array.splice.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.parse-float.js */ \"../../node_modules/core-js/modules/es.parse-float.js\");\n__webpack_require__(/*! core-js/modules/es.string.ends-with.js */ \"../../node_modules/core-js/modules/es.string.ends-with.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\n__webpack_require__(/*! core-js/modules/es.string.repeat.js */ \"../../node_modules/core-js/modules/es.string.repeat.js\");\n__webpack_require__(/*! core-js/modules/es.string.starts-with.js */ \"../../node_modules/core-js/modules/es.string.starts-with.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _resizeObserve = _interopRequireDefault(__webpack_require__(/*! ../../util/resizeObserve */ \"./src/util/resizeObserve.js\"));\nvar _icon = __webpack_require__(/*! ../icon */ \"./src/designer/icon/index.js\");\nvar _template = _interopRequireDefault(__webpack_require__(/*! ../icon/toolbar/template.png */ \"./src/designer/icon/toolbar/template.png\"));\nvar _EditToolbar2 = _interopRequireDefault(__webpack_require__(/*! ./EditToolbar.less */ \"./src/designer/page/EditToolbar.less\"));\nvar _model = __webpack_require__(/*! ../model */ \"./src/designer/model/index.js\");\nvar _propnames = __webpack_require__(/*! ../constant/propnames */ \"./src/designer/constant/propnames.js\");\nvar _immutableUtil = _interopRequireDefault(__webpack_require__(/*! ../utils/immutableUtil */ \"./src/designer/utils/immutableUtil.js\"));\nvar _GridDialog = _interopRequireDefault(__webpack_require__(/*! ./GridDialog */ \"./src/designer/page/GridDialog.js\"));\nvar _unit = __webpack_require__(/*! ../utils/unit */ \"./src/designer/utils/unit.js\");\nvar _formservice = _interopRequireDefault(__webpack_require__(/*! @/api/formservice */ \"./src/api/formservice.js\"));\nvar _classnames2 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _designerContext = __webpack_require__(/*! ../controls/common/designerContext */ \"./src/designer/controls/common/designerContext.js\");\nvar _index = __webpack_require__(/*! @/designer/constant/index.js */ \"./src/designer/constant/index.js\");\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar CONTROL_TYPE = 'toolbar';\nvar EditToolbar = /*#__PURE__*/function (_React$Component) {\n  _inherits(EditToolbar, _React$Component);\n  function EditToolbar(props) {\n    var _this;\n    _classCallCheck(this, EditToolbar);\n    _this = _callSuper(this, EditToolbar, [props]);\n    // 自适应宽度\n    _this.insertControl = function (ctrlType) {\n      var ctrlInfo = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var _this$props = _this.props,\n        select_control_id = _this$props.select_control_id,\n        uiInfo = _this$props.uiInfo,\n        uiConfig = _this$props.uiConfig;\n      var formInfo = _model.uiModel.getFormFieldInfo(uiInfo, select_control_id);\n      var fieldType = formInfo.get(_propnames._TYPE_);\n      if (!_lodash[\"default\"].endsWith(fieldType, 'Grid') && !_lodash[\"default\"].endsWith(fieldType, 'Column') && !_lodash[\"default\"].endsWith(fieldType, 'Row') && !_lodash[\"default\"].endsWith(fieldType, 'Cell')) return;\n      if (_lodash[\"default\"].startsWith(fieldType, 'Data')) {\n        ctrlInfo.Type = 'Data' + ctrlType;\n      } else if (_lodash[\"default\"].startsWith(fieldType, 'SubData')) {\n        ctrlInfo.Type = 'SubData' + ctrlType;\n      } else {\n        delete ctrlInfo.RowType;\n        ctrlInfo.Type = 'Layout' + ctrlType;\n      }\n      _this.props.addControl(formInfo.get('Id'), ctrlInfo, uiConfig, formInfo);\n      _this.hideInserDialog && _this.hideInserDialog();\n    };\n    _this.hideInserDialog = function () {\n      _this.setState({\n        isShowInserDialog: false\n      });\n    };\n    _this.showInserDialog = function (showType) {\n      var insertInfo = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      _this.insertInfo = insertInfo;\n      _this.setState({\n        isShowInserDialog: true,\n        inserDialogType: showType || 'Row'\n      });\n    };\n    _this.handleTemplateClick = function () {\n      var _this$props2 = _this.props,\n        designerType = _this$props2.designerType,\n        changeTemplateData = _this$props2.changeTemplateData,\n        changeShowPanleType = _this$props2.changeShowPanleType,\n        changeOriginUiInfo = _this$props2.changeOriginUiInfo,\n        _this$props2$uiInfo = _this$props2.uiInfo,\n        uiInfo = _this$props2$uiInfo === void 0 ? (0, _immutable.Map)() : _this$props2$uiInfo;\n      if (designerType === 'MobileBillFormAp') {\n        changeOriginUiInfo && changeOriginUiInfo(uiInfo); // 录入表单，需要记住初始页面信息，便于后续操作取消，并打开页面模板界面\n      } else {\n        changeShowPanleType && changeShowPanleType(0); // 动态表单／列表，打开页面模板界面\n      }\n      var url = 'metatemplate/getTemplates.do?templateType=' + designerType;\n      url = \"\".concat(url, \"&random=\").concat(Math.random());\n      return _formservice[\"default\"].postApi(url).then(function (data) {\n        changeTemplateData && changeTemplateData(data);\n      })[\"catch\"](function (error) {\n        console.log(error);\n      });\n    };\n    if (props.isPC) {\n      _this.state = {\n        itemWidth: 68,\n        itemHeight: 56,\n        isShowInserDialog: false,\n        inserDialogType: ''\n      };\n    } else {\n      _this.state = {\n        itemWidth: 80,\n        itemHeight: 60,\n        isShowInserDialog: false,\n        inserDialogType: ''\n      };\n    }\n    return _this;\n  }\n  _createClass(EditToolbar, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n      // if (this.props.isPC) {\n      // this.resizeObservePC = addResizeObserve(this.refs.toolbar, ({ width }) => {\n      //   if (this.props.isPC) {\n      //     this.reSetLiPC(width)\n      //   }\n      // })\n\n      // } else {\n      this.resizeObserveMobile = (0, _resizeObserve[\"default\"])(document.body, function (_ref) {\n        var width = _ref.width;\n        if (!_this2.props.isPC) {\n          _this2.reSetLiMobile(width);\n        }\n      });\n      // }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      // this.resizeObservePC && this.resizeObservePC.removeResizeObserve()\n      this.resizeObserveMobile && this.resizeObserveMobile.removeResizeObserve();\n    }\n  }, {\n    key: \"reSetLiPC\",\n    value: function reSetLiPC(width) {\n      if (!this.refs.toolbar) return;\n      var itemWidth = 68;\n      var itemHeight = 56;\n      if (width < 450) {\n        itemWidth = 40;\n        itemHeight = 42;\n      } else if (width < 650) {\n        itemWidth = 45;\n        itemHeight = 45;\n      } else if (width < 850) {\n        itemWidth = 53;\n        itemHeight = 50;\n      } else if (width < 1050) {\n        itemWidth = 60;\n        itemHeight = 52;\n      }\n      if (itemWidth != this.state.itemWidth) {\n        this.setState({\n          itemWidth: itemWidth,\n          itemHeight: itemHeight\n        });\n      }\n    }\n  }, {\n    key: \"reSetLiMobile\",\n    value: function reSetLiMobile(clientWidth) {\n      var itemWidth = 80;\n      var itemHeight = 60;\n      if (clientWidth < 1050) {\n        itemWidth = 55;\n        itemHeight = 50;\n      }\n      if (itemWidth != this.state.itemWidth) {\n        this.setState({\n          itemWidth: itemWidth,\n          itemHeight: itemHeight\n        });\n      }\n    }\n\n    // 表格整体设置等宽等高，获取表格列或表格行ids\n  }, {\n    key: \"getAllTableRowOrColumnIds\",\n    value: function getAllTableRowOrColumnIds(ctrlChilds, type) {\n      var allIds;\n      var column = ['DataColumn', 'LayoutColumn', 'SubDataColumn'];\n      var row = ['DataRow', 'LayoutRow', 'SubDataRow'];\n      var choiceRank = column;\n      if (type === 'height') {\n        choiceRank = row;\n      }\n      allIds = ctrlChilds.filter(function (ctrlChild) {\n        return choiceRank.includes(ctrlChild.get('Type'));\n      }).map(function (ctrlItem) {\n        return ctrlItem.get('Id');\n      });\n      return allIds;\n    }\n\n    // 表格设置等宽等高，获取平均后的宽高\n  }, {\n    key: \"getAverageWidthOrHeight\",\n    value: function getAverageWidthOrHeight(allIds, type, uiConfig, uiInfo) {\n      var total = 0;\n      var propType = 'Width';\n      if (type === 'height') {\n        propType = 'Height';\n      }\n      allIds.forEach(function (ctrlId) {\n        total = (parseFloat(_model.uiModel.getPropertyValue(uiInfo, ctrlId, propType, _propnames.FORMMETA, uiConfig)) || 0) + total;\n      });\n      return (0, _unit.toFloorFix)(total / allIds.size, 1);\n    }\n  }, {\n    key: \"setAlignment\",\n    value: function setAlignment(type) {\n      var _this$props3 = this.props,\n        select_control_ids = _this$props3.select_control_ids,\n        uiInfo = _this$props3.uiInfo,\n        uiConfig = _this$props3.uiConfig,\n        updatePropValue = _this$props3.updatePropValue;\n      select_control_ids = select_control_ids || (0, _immutable.List)();\n      if (select_control_ids.size <= 1 && type !== 'width' && type !== 'height') return;\n      var baseCtrlId = select_control_ids.get(0);\n      var editCtrlIds = select_control_ids.shift(0);\n      var updatePropInfos = [];\n      var top = _model.uiModel.getPropertyValue(uiInfo, baseCtrlId, 'Y', _propnames.FORMMETA, uiConfig);\n      var left = _model.uiModel.getPropertyValue(uiInfo, baseCtrlId, 'X', _propnames.FORMMETA, uiConfig);\n      var height = _model.uiModel.getPropertyValue(uiInfo, baseCtrlId, 'Height', _propnames.FORMMETA, uiConfig);\n      var width = _model.uiModel.getPropertyValue(uiInfo, baseCtrlId, 'Width', _propnames.FORMMETA, uiConfig);\n      top = parseFloat(top) || 0;\n      left = parseFloat(left) || 0;\n      width = parseFloat(width) || 0;\n      height = parseFloat(height) || 0;\n      var bottom = top + height;\n      var right = left + width;\n      // 获取当前控件类型，如果是设置表格等宽等高\n      var ctrlType = _model.uiModel.getPropertyValue(uiInfo, baseCtrlId, '_Type_', _propnames.FORMMETA, uiConfig);\n      if ((ctrlType === 'DataGrid' || ctrlType === 'LayoutGrid' || ctrlType === 'SubDataGrid') && select_control_ids.size === 1) {\n        var path = _immutableUtil[\"default\"].byId(uiInfo, baseCtrlId);\n        var ctrlChild = uiInfo.getIn(path.concat('Items'));\n        editCtrlIds = this.getAllTableRowOrColumnIds(ctrlChild, type);\n        var length = this.getAverageWidthOrHeight(editCtrlIds, type, uiConfig, uiInfo);\n        if (type === 'width') {\n          width = length;\n        } else if (type === 'height') {\n          height = length;\n        }\n      }\n      editCtrlIds.forEach(function (ctrlId) {\n        var ctrlTop = _model.uiModel.getPropertyValue(uiInfo, ctrlId, 'Y', _propnames.FORMMETA, uiConfig);\n        var ctrlLeft = _model.uiModel.getPropertyValue(uiInfo, ctrlId, 'X', _propnames.FORMMETA, uiConfig);\n        var ctrlWidth = _model.uiModel.getPropertyValue(uiInfo, ctrlId, 'Width', _propnames.FORMMETA, uiConfig);\n        var ctrlHeight = _model.uiModel.getPropertyValue(uiInfo, ctrlId, 'Height', _propnames.FORMMETA, uiConfig);\n        ctrlTop = parseFloat(ctrlTop) || 0;\n        ctrlLeft = parseFloat(ctrlLeft) || 0;\n        ctrlWidth = parseFloat(ctrlWidth) || 0;\n        ctrlHeight = parseFloat(ctrlHeight) || 0;\n        switch (type) {\n          case 't':\n            updatePropInfos.push({\n              fieldId: ctrlId,\n              propName: 'Y',\n              value: top + 'mm',\n              metaType: _propnames.FORMMETA\n            });\n            break;\n          case 'b':\n            ctrlTop = bottom - ctrlHeight;\n            updatePropInfos.push({\n              fieldId: ctrlId,\n              propName: 'Y',\n              value: ctrlTop + 'mm',\n              metaType: _propnames.FORMMETA\n            });\n            break;\n          case 'l':\n            updatePropInfos.push({\n              fieldId: ctrlId,\n              propName: 'X',\n              value: left + 'mm',\n              metaType: _propnames.FORMMETA\n            });\n            break;\n          case 'r':\n            ctrlLeft = right - ctrlWidth;\n            updatePropInfos.push({\n              fieldId: ctrlId,\n              propName: 'X',\n              value: ctrlLeft + 'mm',\n              metaType: _propnames.FORMMETA\n            });\n            break;\n          case 'h':\n            ctrlTop = top + height / 2 - ctrlHeight / 2;\n            updatePropInfos.push({\n              fieldId: ctrlId,\n              propName: 'Y',\n              value: ctrlTop + 'mm',\n              metaType: _propnames.FORMMETA\n            });\n            break;\n          case 'v':\n            ctrlLeft = left + width / 2 - ctrlWidth / 2;\n            updatePropInfos.push({\n              fieldId: ctrlId,\n              propName: 'X',\n              value: ctrlLeft + 'mm',\n              metaType: _propnames.FORMMETA\n            });\n            break;\n          case 'width':\n            // 等宽\n            updatePropInfos.push({\n              fieldId: ctrlId,\n              propName: 'Width',\n              value: width + 'mm',\n              metaType: _propnames.FORMMETA\n            });\n            break;\n          case 'height':\n            // 等高\n            updatePropInfos.push({\n              fieldId: ctrlId,\n              propName: 'Height',\n              value: height + 'mm',\n              metaType: _propnames.FORMMETA\n            });\n            break;\n        }\n      });\n      if (updatePropInfos.length > 0 && updatePropValue) {\n        updatePropValue(updatePropInfos, uiConfig);\n      }\n    }\n  }, {\n    key: \"setControlLayout\",\n    value: function setControlLayout(type) {\n      var _this$props4 = this.props,\n        select_control_ids = _this$props4.select_control_ids,\n        select_control_id = _this$props4.select_control_id,\n        uiInfo = _this$props4.uiInfo,\n        uiConfig = _this$props4.uiConfig,\n        updatePropValue = _this$props4.updatePropValue;\n      var editCtrlIds = select_control_ids.size > 0 ? select_control_ids : (0, _immutable.List)([select_control_id]);\n      var updatePropInfos = [];\n      var rootId = _model.uiModel.getRootId(uiInfo);\n      editCtrlIds.forEach(function (ctrlId) {\n        var ctrlWidth = _model.uiModel.getPropertyValue(uiInfo, ctrlId, 'Width', _propnames.FORMMETA, uiConfig);\n        var ctrlHeight = _model.uiModel.getPropertyValue(uiInfo, ctrlId, 'Height', _propnames.FORMMETA, uiConfig);\n        ctrlWidth = parseFloat(ctrlWidth) || 0;\n        ctrlHeight = parseFloat(ctrlHeight) || 0;\n        var parentCtrl = _model.uiModel.getParentControl(uiInfo, select_control_id);\n        var parentId = parentCtrl.get('Id');\n        var width = _model.uiModel.getPropertyValue(uiInfo, parentId, 'Width', _propnames.FORMMETA, uiConfig);\n        var height = _model.uiModel.getPropertyValue(uiInfo, parentId, 'Height', _propnames.FORMMETA, uiConfig);\n        width = parseFloat(width) || 0;\n        height = parseFloat(height) || 0;\n        if (parentId == rootId) {\n          var marginLeft = _model.uiModel.getPropertyValue(uiInfo, rootId, 'MarginLeft', _propnames.FORMMETA, uiConfig);\n          var marginRight = _model.uiModel.getPropertyValue(uiInfo, rootId, 'MarginRight', _propnames.FORMMETA, uiConfig);\n          var marginTop = _model.uiModel.getPropertyValue(uiInfo, rootId, 'MarginTop', _propnames.FORMMETA, uiConfig);\n          var marginBottom = _model.uiModel.getPropertyValue(uiInfo, rootId, 'MarginBottom', _propnames.FORMMETA, uiConfig);\n          marginLeft = parseFloat(marginLeft) || 0;\n          marginTop = parseFloat(marginTop) || 0;\n          marginRight = parseFloat(marginRight) || 0;\n          marginBottom = parseFloat(marginBottom) || 0;\n          width = width - marginLeft - marginRight;\n          height = height - marginTop - marginBottom;\n        }\n        switch (type) {\n          case 'h':\n            {\n              var ctrlLeft = width / 2 - ctrlWidth / 2;\n              updatePropInfos.push({\n                fieldId: ctrlId,\n                propName: 'X',\n                value: ctrlLeft + 'mm',\n                metaType: _propnames.FORMMETA\n              });\n              break;\n            }\n          case 'v':\n            {\n              var ctrlTop = height / 2 - ctrlHeight / 2;\n              updatePropInfos.push({\n                fieldId: ctrlId,\n                propName: 'Y',\n                value: ctrlTop + 'mm',\n                metaType: _propnames.FORMMETA\n              });\n              break;\n            }\n        }\n      });\n      if (updatePropInfos.length > 0 && updatePropValue) {\n        updatePropValue(updatePropInfos, uiConfig);\n      }\n    }\n  }, {\n    key: \"setEqualGapLayout\",\n    value: function setEqualGapLayout(type) {\n      var _this$props5 = this.props,\n        select_control_ids = _this$props5.select_control_ids,\n        uiInfo = _this$props5.uiInfo,\n        uiConfig = _this$props5.uiConfig,\n        updatePropValue = _this$props5.updatePropValue;\n      if (select_control_ids.size < 3) return;\n      var widthSum = 0;\n      var arr = select_control_ids.map(function (ctrlId) {\n        var ctrlWidth = _model.uiModel.getPropertyValue(uiInfo, ctrlId, 'Width', _propnames.FORMMETA, uiConfig);\n        ctrlWidth = parseFloat(ctrlWidth) || 0;\n        switch (type) {\n          case 'd':\n            {\n              widthSum += ctrlWidth;\n              var _x = parseFloat(_model.uiModel.getPropertyValue(uiInfo, ctrlId, 'X', _propnames.FORMMETA, uiConfig)) || 0;\n              return {\n                x: _x,\n                w: ctrlWidth,\n                id: ctrlId\n              };\n            }\n        }\n      });\n      var sortArr = this.quickSort(arr.toJS());\n      var sortArrL = sortArr.length;\n\n      // 排除首个和末尾\n      var _start = sortArr.shift();\n      var _end = sortArr.pop();\n      var gap = _end.x + _end.w - _start.x - widthSum;\n      if (_lodash[\"default\"].isNumber(gap) && gap > 0) {\n        var avgGap = gap / (sortArrL - 1);\n        var updatePropInfos = sortArr.reduce(function (result, item) {\n          var value = _start.x + _start.w + avgGap;\n          result.push({\n            fieldId: item.id,\n            propName: 'X',\n            value: value + 'mm',\n            metaType: _propnames.FORMMETA\n          });\n          item.x = value;\n          _start = item;\n          return result;\n        }, []);\n        if (updatePropInfos.length > 0 && updatePropValue) {\n          updatePropValue(updatePropInfos, uiConfig);\n        }\n      }\n    }\n  }, {\n    key: \"quickSort\",\n    value: function quickSort(arr) {\n      if (arr.length <= 1) {\n        return arr;\n      }\n      var pivotIndex = Math.floor(arr.length / 2); // 基准\n      var pivot = arr.splice(pivotIndex, 1)[0]; // 中间基准并删除\n      var left = [];\n      var right = [];\n      for (var i = 0; i < arr.length; i++) {\n        var _o = arr[i];\n        if (_o.x + _o.w < pivot.x + pivot.w) {\n          left.push(_o);\n        } else {\n          right.push(_o);\n        }\n      }\n      return this.quickSort(left).concat([pivot], this.quickSort(right));\n    }\n  }, {\n    key: \"mergeCells\",\n    value: function mergeCells() {\n      var _this$props6 = this.props,\n        _this$props6$select_c = _this$props6.select_control_ids,\n        select_control_ids = _this$props6$select_c === void 0 ? (0, _immutable.List)() : _this$props6$select_c,\n        uiInfo = _this$props6.uiInfo,\n        uiConfig = _this$props6.uiConfig;\n      if (select_control_ids.size <= 1) return;\n      var gridInfo = _model.printModel.getGridInfo(uiInfo, select_control_ids.first());\n      if (!gridInfo) return;\n      var mergeBlocks = _model.printModel.mergeCells(uiInfo, select_control_ids);\n      if (mergeBlocks && mergeBlocks.type) {\n        // 不同类型行合并\n        this.props.throwOperateInfo(mergeBlocks);\n        return;\n      }\n      if (mergeBlocks) {\n        this.props.updatePropValue(gridInfo.get(_propnames.ID), 'MergeBlocks', mergeBlocks, 'formmeta', uiConfig);\n      } else {\n        this.props.throwOperateInfo({\n          type: 'info',\n          message: (0, _intlApi.getLangMsg)('bosd.editToolBar.key0001')\n        });\n      }\n    }\n  }, {\n    key: \"splitCells\",\n    value: function splitCells() {\n      var _this$props7 = this.props,\n        select_control_id = _this$props7.select_control_id,\n        select_control_ids = _this$props7.select_control_ids,\n        uiInfo = _this$props7.uiInfo,\n        uiConfig = _this$props7.uiConfig;\n      var gridInfo = _model.printModel.getGridInfo(uiInfo, select_control_id);\n      if (!gridInfo) return;\n      var mergeBlocks = _model.printModel.splitCells(uiInfo, select_control_ids);\n      if (mergeBlocks) {\n        this.props.updatePropValue(gridInfo.get(_propnames.ID), 'MergeBlocks', mergeBlocks, 'formmeta', uiConfig);\n      }\n    }\n  }, {\n    key: \"renderPrintToolBar\",\n    value: function renderPrintToolBar(liStyle, isTargetGrid, isDetailCellOrRow, isExtendCellOrRow, isTargetCtrls) {\n      var _this3 = this;\n      return /*#__PURE__*/_react[\"default\"].createElement(\"ul\", {\n        className: _EditToolbar2[\"default\"].layout,\n        style: {\n          margin: '0 10px'\n        }\n      }, /*#__PURE__*/_react[\"default\"].createElement(ToolbarItem, {\n        style: liStyle,\n        icon: _icon.alignment,\n        text: (0, _intlApi.getLangMsg)('bosd.editToolBar.key0002')\n      }, /*#__PURE__*/_react[\"default\"].createElement(ToolbarItem, {\n        icon: _icon.alignment_center,\n        text: (0, _intlApi.getLangMsg)('bosd.editToolBar.key0003'),\n        onClick: function onClick(e) {\n          return _this3.setAlignment('t');\n        }\n      }), /*#__PURE__*/_react[\"default\"].createElement(ToolbarItem, {\n        icon: _icon.alignment_center,\n        text: (0, _intlApi.getLangMsg)('bosd.editToolBar.key0004'),\n        onClick: function onClick(e) {\n          return _this3.setAlignment('b');\n        }\n      }), /*#__PURE__*/_react[\"default\"].createElement(ToolbarItem, {\n        icon: _icon.alignment_left,\n        text: (0, _intlApi.getLangMsg)('bosd.editToolBar.key0005'),\n        onClick: function onClick(e) {\n          return _this3.setAlignment('l');\n        }\n      }), /*#__PURE__*/_react[\"default\"].createElement(ToolbarItem, {\n        icon: _icon.alignment_right,\n        text: (0, _intlApi.getLangMsg)('bosd.editToolBar.key0006'),\n        onClick: function onClick(e) {\n          return _this3.setAlignment('r');\n        }\n      }), /*#__PURE__*/_react[\"default\"].createElement(ToolbarItem, {\n        icon: _icon.alignment_right,\n        text: (0, _intlApi.getLangMsg)('bosd.editToolBar.key0007'),\n        onClick: function onClick(e) {\n          return _this3.setAlignment('v');\n        }\n      }), /*#__PURE__*/_react[\"default\"].createElement(ToolbarItem, {\n        icon: _icon.alignment_right,\n        text: (0, _intlApi.getLangMsg)('bosd.editToolBar.key0008'),\n        onClick: function onClick(e) {\n          return _this3.setAlignment('h');\n        }\n      })), /*#__PURE__*/_react[\"default\"].createElement(ToolbarItem, {\n        style: liStyle,\n        icon: _icon.layout,\n        text: (0, _intlApi.getLangMsg)('bosd.editToolBar.key0009')\n      }, /*#__PURE__*/_react[\"default\"].createElement(ToolbarItem, {\n        icon: _icon.layout_v_center,\n        text: (0, _intlApi.getLangMsg)('bosd.editToolBar.key0010'),\n        onClick: function onClick(e) {\n          return _this3.setControlLayout('v');\n        }\n      }), /*#__PURE__*/_react[\"default\"].createElement(ToolbarItem, {\n        icon: _icon.layout_h_center,\n        text: (0, _intlApi.getLangMsg)('bosd.editToolBar.key0011'),\n        onClick: function onClick(e) {\n          return _this3.setControlLayout('h');\n        }\n      }), /*#__PURE__*/_react[\"default\"].createElement(ToolbarItem, {\n        icon: _icon.layout_h_center,\n        text: (0, _intlApi.getLangMsg)('bosd.editToolBar.key0012'),\n        onClick: function onClick(e) {\n          return _this3.setEqualGapLayout('d');\n        }\n      })), /*#__PURE__*/_react[\"default\"].createElement(ToolbarItem, {\n        style: liStyle,\n        icon: _icon.equal,\n        text: (0, _intlApi.getLangMsg)('bosd.editToolBar.key0013')\n      }, /*#__PURE__*/_react[\"default\"].createElement(ToolbarItem, {\n        icon: _icon.equal_width,\n        text: (0, _intlApi.getLangMsg)('bosd.editToolBar.key0014'),\n        onClick: function onClick(e) {\n          return _this3.setAlignment('width');\n        }\n      }), /*#__PURE__*/_react[\"default\"].createElement(ToolbarItem, {\n        icon: _icon.equal_height,\n        text: (0, _intlApi.getLangMsg)('bosd.editToolBar.key0015'),\n        onClick: function onClick(e) {\n          return _this3.setAlignment('height');\n        }\n      })), isTargetCtrls ? /*#__PURE__*/_react[\"default\"].createElement(ToolbarItem, {\n        style: liStyle,\n        icon: _icon.insert,\n        width: 120,\n        text: (0, _intlApi.getLangMsg)('bosd.editToolBar.key0016')\n      }, isExtendCellOrRow !== true ? /*#__PURE__*/_react[\"default\"].createElement(ToolbarItem, {\n        icon: _icon.insert_row,\n        text: (0, _intlApi.getLangMsg)('bosd.editToolBar.key0017'),\n        onClick: function onClick(e) {\n          return _this3.showInserDialog('Row', {\n            RowType: 'normal'\n          });\n        }\n      }) : null, /*#__PURE__*/_react[\"default\"].createElement(ToolbarItem, {\n        icon: _icon.insert_column,\n        text: (0, _intlApi.getLangMsg)('bosd.editToolBar.key0018'),\n        onClick: function onClick(e) {\n          return _this3.showInserDialog('Column');\n        }\n      }), isTargetGrid === true ? /*#__PURE__*/_react[\"default\"].createElement(ToolbarItem, {\n        icon: _icon.insert_row,\n        text: (0, _intlApi.getLangMsg)('bosd.editToolBar.key0019'),\n        onClick: function onClick(e) {\n          return _this3.insertControl('Row', {\n            RowType: 'extend'\n          });\n        }\n      }) : null, isTargetGrid === true ? /*#__PURE__*/_react[\"default\"].createElement(ToolbarItem, {\n        icon: _icon.insert_row,\n        text: (0, _intlApi.getLangMsg)('bosd.editToolBar.key0020'),\n        onClick: function onClick(e) {\n          return _this3.insertControl('Row', {\n            RowType: 'group'\n          });\n        }\n      }) : null) : null);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n      var _this$props8 = this.props,\n        select_control_id = _this$props8.select_control_id,\n        select_control_ids = _this$props8.select_control_ids,\n        format_control_id = _this$props8.format_control_id,\n        isPC = _this$props8.isPC,\n        history = _this$props8.history,\n        _this$props8$uiInfo = _this$props8.uiInfo,\n        uiInfo = _this$props8$uiInfo === void 0 ? (0, _immutable.Map)() : _this$props8$uiInfo,\n        uiConfig = _this$props8.uiConfig,\n        showPanelType = _this$props8.showPanelType,\n        auxiliaryLine = _this$props8.auxiliaryLine,\n        designerType = _this$props8.designerType;\n      var selectCtrlIds = select_control_ids.size > 0 ? select_control_ids : select_control_id;\n      var _this$state = this.state,\n        isShowInserDialog = _this$state.isShowInserDialog,\n        inserDialogType = _this$state.inserDialogType;\n      var _this$context = this.context,\n        disableDelete = _this$context.disableDelete,\n        permissions = _this$context.permissions;\n      var curIndex = history.get('curIndex');\n      var undos = history.get('undos', (0, _immutable.List)());\n      var isUndoDisable = curIndex == null || curIndex <= 0;\n      var isRedoDisable = curIndex == null || undos.size - 1 <= curIndex;\n      var liStyle = {};\n      if (!isPC) {\n        liStyle.width = this.state.itemWidth;\n        liStyle.height = this.state.itemWidth;\n      } else {\n        liStyle.padding = '0 4px';\n        liStyle.minWidth = '60px';\n      }\n      var barStyle = {\n        height: this.state.itemHeight\n      };\n      var mobileBarStyle = showPanelType === undefined ? {} : {\n        display: 'none'\n      };\n      var maxWinCtrol = null;\n      if (isPC) {\n        var maxWinState = this.props.shareState.get('max_win', false);\n        maxWinCtrol = /*#__PURE__*/_react[\"default\"].createElement(\"ul\", {\n          className: _EditToolbar2[\"default\"].layout\n        }, /*#__PURE__*/_react[\"default\"].createElement(\"li\", {\n          style: liStyle,\n          onClick: function onClick() {\n            return _this4.props.maxWin(!maxWinState);\n          }\n        }, /*#__PURE__*/_react[\"default\"].createElement(\"img\", {\n          src: maxWinState ? _icon.min : _icon.max,\n          className: _EditToolbar2[\"default\"].maxormin\n        })));\n      }\n      var auxiliaryLineCtrl = /*#__PURE__*/_react[\"default\"].createElement(\"ul\", {\n        className: (0, _classnames2[\"default\"])(_EditToolbar2[\"default\"].layout, _defineProperty({}, _EditToolbar2[\"default\"]['layout-mobile'], !isPC))\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"li\", {\n        onClick: function onClick() {\n          return _this4.props.showAuxiliaryLine(!auxiliaryLine);\n        },\n        className: isPC ? _EditToolbar2[\"default\"]['auxiliary-line'] : _EditToolbar2[\"default\"]['auxiliary-line-mobile']\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"img\", {\n        src: auxiliaryLine ? _icon.checked : _icon.unchecked\n      }), /*#__PURE__*/_react[\"default\"].createElement(\"span\", null, (0, _intlApi.getLangMsg)('bosd.editToolBar.key0021'))));\n      var isPrint = _model.printModel.isPrintModel(uiInfo);\n      var isCell = _model.printModel.isCell(uiInfo, select_control_id);\n      var isTargetGrid = _model.printModel.isTargetGrid(uiInfo, select_control_id, 'DataGrid');\n      var isExtendCellOrRow = _model.printModel.isTargetRowType(uiInfo, {\n        cellId: select_control_id,\n        targetType: 'extend'\n      });\n      var isDetailCellOrRow = _model.printModel.isTargetRowType(uiInfo, {\n        cellId: select_control_id,\n        targetType: 'detail'\n      });\n      var isTargetCtrls = _model.uiModel.isTargetCtrls(uiInfo, select_control_id, ['Cell', 'Row', 'Column']);\n      var isRowColumn = _model.uiModel.isTargetCtrls(uiInfo, select_control_id, ['Row', 'Column']);\n      var toolbarCls = (0, _classnames2[\"default\"])(isPC ? _EditToolbar2[\"default\"].sideBar : _EditToolbar2[\"default\"].mobilesideBar);\n      var formatPainterCls = (0, _classnames2[\"default\"])(format_control_id ? _EditToolbar2[\"default\"]['li-active'] : '', 'bos-guide-formatpainter');\n      var disabledCls = (0, _classnames2[\"default\"])(disableDelete && _EditToolbar2[\"default\"]['disabled-toolbar']);\n      var toolbarVisible = {\n        template: !isPC && designerType !== 'MobileUserGuideFormAp',\n        repeat: permissions.repeat && !isTargetCtrls,\n        \"delete\": permissions[\"delete\"],\n        moveUp: permissions.moveUp && !isPrint,\n        moveDown: permissions.moveDown && !isPrint,\n        undo: permissions.undo,\n        redo: permissions.redo,\n        cut: permissions.cut && !isTargetCtrls,\n        copy: permissions.copy && !isRowColumn,\n        paste: permissions.paste && !isRowColumn,\n        brush: permissions.brush\n      };\n      return /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, null, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        ref: \"toolbar\",\n        style: isPC ? barStyle : mobileBarStyle,\n        className: toolbarCls\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"ul\", {\n        className: (0, _classnames2[\"default\"])(_EditToolbar2[\"default\"].layout, 'bos-guide-toolbar'),\n        style: {\n          flexGrow: 1\n        }\n      }, toolbarVisible.template && /*#__PURE__*/_react[\"default\"].createElement(ToolbarItem, {\n        className: \"bos-guide-template\",\n        style: liStyle,\n        icon: _template[\"default\"],\n        text: (0, _intlApi.getLangMsg)('bosd.editToolBar.key0022'),\n        designKey: \"\".concat(CONTROL_TYPE, \":template\"),\n        onClick: this.handleTemplateClick\n      }), toolbarVisible.repeat && /*#__PURE__*/_react[\"default\"].createElement(ToolbarItem, {\n        className: disabledCls,\n        style: liStyle,\n        icon: _icon.repeat,\n        text: (0, _intlApi.getLangMsg)('bosd.editToolBar.key0023'),\n        designKey: \"\".concat(CONTROL_TYPE, \":copyAndAdd\"),\n        onClick: function onClick() {\n          return !disableDelete && _this4.props.copyAndAdd(select_control_id, select_control_id, uiConfig);\n        }\n      }), toolbarVisible[\"delete\"] && /*#__PURE__*/_react[\"default\"].createElement(ToolbarItem, {\n        className: disabledCls,\n        style: liStyle,\n        icon: _icon.del,\n        text: (0, _intlApi.getLangMsg)('bosd.editToolBar.key0024'),\n        designKey: \"\".concat(CONTROL_TYPE, \":delete\"),\n        onClick: function onClick() {\n          return !disableDelete && _this4.props.deleteControl(selectCtrlIds);\n        }\n      }), toolbarVisible.moveUp && /*#__PURE__*/_react[\"default\"].createElement(ToolbarItem, {\n        style: liStyle,\n        icon: _icon.up,\n        text: (0, _intlApi.getLangMsg)('bosd.editToolBar.key0025'),\n        designKey: \"\".concat(CONTROL_TYPE, \":moveUp\"),\n        onClick: function onClick() {\n          return _this4.props.moveControl('up');\n        }\n      }), toolbarVisible.moveDown && /*#__PURE__*/_react[\"default\"].createElement(ToolbarItem, {\n        style: liStyle,\n        icon: _icon.down,\n        text: (0, _intlApi.getLangMsg)('bosd.editToolBar.key0026'),\n        designKey: \"\".concat(CONTROL_TYPE, \":moveDone\"),\n        onClick: function onClick() {\n          return _this4.props.moveControl('down');\n        }\n      }), toolbarVisible.undo && /*#__PURE__*/_react[\"default\"].createElement(ToolbarItem, {\n        style: liStyle,\n        icon: _icon.undo,\n        text: (0, _intlApi.getLangMsg)('bosd.editToolBar.key0027'),\n        designKey: \"\".concat(CONTROL_TYPE, \":undo\"),\n        onClick: function onClick() {\n          return !isUndoDisable ? _this4.props.undo() : null;\n        }\n      }), toolbarVisible.redo && /*#__PURE__*/_react[\"default\"].createElement(ToolbarItem, {\n        style: liStyle,\n        icon: _icon.redo,\n        text: (0, _intlApi.getLangMsg)('bosd.editToolBar.key0028'),\n        designKey: \"\".concat(CONTROL_TYPE, \":redo\"),\n        onClick: function onClick() {\n          return !isRedoDisable ? _this4.props.redo() : null;\n        }\n      }), toolbarVisible.cut && /*#__PURE__*/_react[\"default\"].createElement(ToolbarItem, {\n        className: disabledCls,\n        style: liStyle,\n        icon: _icon.cut,\n        text: (0, _intlApi.getLangMsg)('bosd.editToolBar.key0029'),\n        designKey: \"\".concat(CONTROL_TYPE, \":cut\"),\n        onClick: function onClick() {\n          return !disableDelete && _this4.props.cutControl(selectCtrlIds);\n        }\n      }), toolbarVisible.copy && /*#__PURE__*/_react[\"default\"].createElement(ToolbarItem, {\n        className: \"bos-guide-copy \".concat(disabledCls),\n        style: liStyle,\n        icon: _icon.copy,\n        text: (0, _intlApi.getLangMsg)('bosd.editToolBar.key0030'),\n        designKey: \"\".concat(CONTROL_TYPE, \":copy\"),\n        onClick: function onClick() {\n          return !disableDelete && _this4.props.copyControl(selectCtrlIds);\n        }\n      }), toolbarVisible.paste && /*#__PURE__*/_react[\"default\"].createElement(ToolbarItem, {\n        style: liStyle,\n        icon: _icon.paste,\n        text: (0, _intlApi.getLangMsg)('bosd.editToolBar.key0031'),\n        designKey: \"\".concat(CONTROL_TYPE, \":paste\"),\n        onClick: function onClick() {\n          return _this4.props.pasteControl(select_control_id, uiConfig);\n        }\n      }), toolbarVisible.brush && /*#__PURE__*/_react[\"default\"].createElement(ToolbarItem, {\n        style: liStyle,\n        className: formatPainterCls,\n        icon: _icon.brush,\n        text: (0, _intlApi.getLangMsg)('bosd.editToolBar.key0032'),\n        designKey: \"\".concat(CONTROL_TYPE, \":format\"),\n        onClick: function onClick() {\n          return _this4.props.setFormatInfo(format_control_id ? '' : select_control_id, false);\n        },\n        onDoubleClick: function onDoubleClick() {\n          return _this4.props.setFormatInfo(select_control_id, true);\n        }\n      }), isCell && !isExtendCellOrRow ? /*#__PURE__*/_react[\"default\"].createElement(ToolbarItem, {\n        style: liStyle,\n        icon: _icon.split_cell,\n        text: (0, _intlApi.getLangMsg)('bosd.editToolBar.key0033'),\n        designKey: \"\".concat(CONTROL_TYPE, \":splitCells\"),\n        onClick: function onClick() {\n          return _this4.splitCells();\n        }\n      }) : null, isCell ? /*#__PURE__*/_react[\"default\"].createElement(ToolbarItem, {\n        style: liStyle,\n        icon: _icon.merge_cell,\n        text: (0, _intlApi.getLangMsg)('bosd.editToolBar.key0034'),\n        designKey: \"\".concat(CONTROL_TYPE, \":mergeCells\"),\n        onClick: function onClick() {\n          return _this4.mergeCells();\n        }\n      }) : null), isPrint ? this.renderPrintToolBar(liStyle, isTargetGrid, isDetailCellOrRow, isExtendCellOrRow, isTargetCtrls) : null, isPrint && isShowInserDialog ? /*#__PURE__*/_react[\"default\"].createElement(_GridDialog[\"default\"], {\n        isShowInserDialog: isShowInserDialog,\n        inserDialogType: inserDialogType,\n        hideInserDialog: this.hideInserDialog,\n        insertControl: this.insertControl,\n        insertInfo: this.insertInfo\n      }) : null, isPC && auxiliaryLineCtrl, maxWinCtrol), !isPC && showPanelType === undefined && auxiliaryLineCtrl);\n    }\n  }]);\n  return EditToolbar;\n}(_react[\"default\"].Component);\nEditToolbar.contextType = _designerContext.EdituiContext;\nvar ToolbarItem = /*#__PURE__*/function (_React$Component2) {\n  _inherits(ToolbarItem, _React$Component2);\n  function ToolbarItem(props) {\n    var _this5;\n    _classCallCheck(this, ToolbarItem);\n    _this5 = _callSuper(this, ToolbarItem, [props]);\n    _this5.state = {\n      show: false\n    };\n    _this5.onMouseEnter = _this5.onMouseEnter.bind(_assertThisInitialized(_this5));\n    _this5.onMouseLeave = _this5.onMouseLeave.bind(_assertThisInitialized(_this5));\n    return _this5;\n  }\n  _createClass(ToolbarItem, [{\n    key: \"bindEvent\",\n    value: function bindEvent(dom) {\n      var _this6 = this;\n      if (!dom) return;\n      if (this.props.onClick) {\n        dom.onclick = function (e) {\n          return _this6.props.onClick(e);\n        };\n      }\n      if (this.props.onDoubleClick) {\n        dom.ondblclick = function (e) {\n          return _this6.props.onDoubleClick(e);\n        };\n      }\n    }\n  }, {\n    key: \"onMouseEnter\",\n    value: function onMouseEnter(e) {\n      var parentDom = this.refs.li.parentNode;\n      this.setState({\n        show: true,\n        top: parentDom.offsetHeight\n      });\n    }\n  }, {\n    key: \"onMouseLeave\",\n    value: function onMouseLeave(e) {\n      this.setState({\n        show: false\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this7 = this;\n      var _this$props9 = this.props,\n        icon = _this$props9.icon,\n        text = _this$props9.text,\n        style = _this$props9.style,\n        className = _this$props9.className,\n        children = _this$props9.children,\n        width = _this$props9.width,\n        designKey = _this$props9.designKey;\n      var liProp = {};\n      var childStyle;\n      if (children) {\n        liProp.ref = 'li';\n        liProp.onMouseEnter = this.onMouseEnter;\n        liProp.onMouseLeave = this.onMouseLeave;\n        childStyle = {\n          display: 'none'\n        };\n        if (this.state.show) {\n          childStyle.display = 'block';\n          childStyle.top = this.state.top || 0 + 'px';\n        }\n        if (width) {\n          childStyle.width = width + 'px';\n        }\n        children = /*#__PURE__*/_react[\"default\"].createElement(\"ul\", {\n          className: _EditToolbar2[\"default\"].dropdown,\n          style: childStyle\n        }, children);\n      } else {\n        liProp.ref = function (li) {\n          return _this7.bindEvent(li);\n        };\n      }\n      return /*#__PURE__*/_react[\"default\"].createElement(\"li\", _extends({\n        style: style,\n        className: className,\n        \"data-design-key\": designKey\n      }, liProp), /*#__PURE__*/_react[\"default\"].createElement(\"img\", {\n        src: icon\n      }), /*#__PURE__*/_react[\"default\"].createElement(\"span\", null, text), children);\n    }\n  }]);\n  return ToolbarItem;\n}(_react[\"default\"].Component);\nvar _default = exports[\"default\"] = EditToolbar;\n\n//# sourceURL=webpack://bos-platform/./src/designer/page/EditToolbar.jsx?");

/***/ }),

/***/ "./src/designer/page/Editui.jsx":
/*!**************************************!*\
  !*** ./src/designer/page/Editui.jsx ***!
  \**************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-properties.js */ \"../../node_modules/core-js/modules/es.object.define-properties.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptors.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.EdituiContainer = void 0;\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.find.js */ \"../../node_modules/core-js/modules/es.array.find.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.map.js */ \"../../node_modules/core-js/modules/es.map.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.parse-float.js */ \"../../node_modules/core-js/modules/es.parse-float.js\");\n__webpack_require__(/*! core-js/modules/es.string.ends-with.js */ \"../../node_modules/core-js/modules/es.string.ends-with.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.timers.js */ \"../../node_modules/core-js/modules/web.timers.js\");\n__webpack_require__(/*! whatwg-fetch */ \"../../node_modules/whatwg-fetch/fetch.js\");\nvar _propTypes = _interopRequireDefault(__webpack_require__(/*! prop-types */ \"../../node_modules/prop-types/index.js\"));\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _reactRedux = __webpack_require__(/*! react-redux */ \"../../node_modules/react-redux/es/index.js\");\nvar _reselect = __webpack_require__(/*! reselect */ \"../../node_modules/reselect/lib/index.js\");\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _global = _interopRequireWildcard(__webpack_require__(/*! @/global */ \"./src/global/index.js\"));\nvar _metadataModelFunction = __webpack_require__(/*! ../model/metadataModelFunction */ \"./src/designer/model/metadataModelFunction.js\");\nvar _UICenter = _interopRequireDefault(__webpack_require__(/*! ./UICenter */ \"./src/designer/page/UICenter.jsx\"));\nvar _UILeft = _interopRequireDefault(__webpack_require__(/*! ./UILeft */ \"./src/designer/page/UILeft.jsx\"));\nvar _UIRight = _interopRequireDefault(__webpack_require__(/*! ./UIRight */ \"./src/designer/page/UIRight.jsx\"));\nvar _UIDesigner = _interopRequireDefault(__webpack_require__(/*! ./UIDesigner */ \"./src/designer/page/UIDesigner.jsx\"));\nvar _EditToolbar = _interopRequireDefault(__webpack_require__(/*! ./EditToolbar */ \"./src/designer/page/EditToolbar.jsx\"));\nvar _KDConfirm = _interopRequireDefault(__webpack_require__(/*! @/component/web/KDConfirm */ \"./src/component/web/KDConfirm.js\"));\nvar _model = __webpack_require__(/*! ../model */ \"./src/designer/model/index.js\");\nvar _propnames = __webpack_require__(/*! ../constant/propnames */ \"./src/designer/constant/propnames.js\");\nvar _constant = __webpack_require__(/*! ../constant */ \"./src/designer/constant/index.js\");\nvar actionCreators = _interopRequireWildcard(__webpack_require__(/*! ../action */ \"./src/designer/action/index.js\"));\nvar _notifyMsg = _interopRequireDefault(__webpack_require__(/*! ../utils/notifyMsg */ \"./src/designer/utils/notifyMsg.js\"));\nvar _keyCodeTool = __webpack_require__(/*! ../../util/keyCodeTool */ \"./src/util/keyCodeTool.js\");\nvar _LoadingGIF = _interopRequireDefault(__webpack_require__(/*! ../../component/common/LoadingGIF */ \"./src/component/common/LoadingGIF.js\"));\nvar _TemplatePanel = _interopRequireDefault(__webpack_require__(/*! ./TemplatePanel */ \"./src/designer/page/TemplatePanel.jsx\"));\nvar _FieldBindPanel = _interopRequireDefault(__webpack_require__(/*! ./FieldBindPanel */ \"./src/designer/page/FieldBindPanel.jsx\"));\nvar _ScriptEditor = _interopRequireDefault(__webpack_require__(/*! @/designer/editors/scriptEditor/ScriptEditor */ \"./src/designer/editors/scriptEditor/ScriptEditor.jsx\"));\nvar _ScriptManager = _interopRequireDefault(__webpack_require__(/*! @/designer/editors/scriptManager/ScriptManager */ \"./src/designer/editors/scriptManager/ScriptManager.jsx\"));\nvar _FormFieldBindPanel = _interopRequireDefault(__webpack_require__(/*! ./FormFieldBindPanel */ \"./src/designer/page/FormFieldBindPanel.jsx\"));\nvar _EntityFieldBindPanel = _interopRequireDefault(__webpack_require__(/*! ./EntityFieldBindPanel */ \"./src/designer/page/EntityFieldBindPanel.jsx\"));\nvar _Guide = _interopRequireDefault(__webpack_require__(/*! ./Guide */ \"./src/designer/page/Guide.jsx\"));\nvar _appModelFunction = __webpack_require__(/*! @/model/appModelFunction */ \"./src/model/appModelFunction.js\");\nvar _designerContext = __webpack_require__(/*! ../../designer/controls/common/designerContext */ \"./src/designer/controls/common/designerContext.js\");\nvar _templateUtil = __webpack_require__(/*! ../utils/templateUtil */ \"./src/designer/utils/templateUtil.js\");\nvar _fileSaver = __webpack_require__(/*! file-saver */ \"../../node_modules/file-saver/dist/FileSaver.min.js\");\nvar _typeCheck = __webpack_require__(/*! ../../util/typeCheck */ \"./src/util/typeCheck.js\");\nvar _storage = _interopRequireWildcard(__webpack_require__(/*! ../../util/storage */ \"./src/util/storage.js\"));\nvar _GlobalDataCacher = __webpack_require__(/*! @/model/GlobalDataCacher */ \"./src/model/GlobalDataCacher.js\");\nvar _memoryCacher = __webpack_require__(/*! @/model/memoryCacher */ \"./src/model/memoryCacher.js\");\nvar _index = __webpack_require__(/*! ../../component/web/designerCommonUtils/index */ \"./src/component/web/designerCommonUtils/index.js\");\nvar _ctrlTypeList = __webpack_require__(/*! @/designer/constant/ctrlTypeList.js */ \"./src/designer/constant/ctrlTypeList.js\");\nvar _MessageBox = __webpack_require__(/*! @/page/mobile/MessageBox.js */ \"./src/page/mobile/MessageBox.js\");\nvar _intlApi = __webpack_require__(/*! ../../i18n/intlApi */ \"./src/i18n/intlApi.js\");\nvar _toolUtils = __webpack_require__(/*! @/util/toolUtils */ \"./src/util/toolUtils.js\");\nvar _const = __webpack_require__(/*! ../../constant/const */ \"./src/constant/const.js\");\nvar _server = __webpack_require__(/*! @/action/actionname/control/designer/server */ \"./src/action/actionname/control/designer/server/index.js\");\nvar _scriptEditorConstant = __webpack_require__(/*! @/designer/constant/scriptEditorConstant */ \"./src/designer/constant/scriptEditorConstant.js\");\nvar _symbolConst = __webpack_require__(/*! @/constant/symbolConst */ \"./src/constant/symbolConst.js\");\nvar _constant2 = __webpack_require__(/*! @/designer/constant */ \"./src/designer/constant/index.js\");\nvar _Editui2 = _interopRequireDefault(__webpack_require__(/*! ./Editui.less */ \"./src/designer/page/Editui.less\"));\nvar _ScriptViewer = _interopRequireDefault(__webpack_require__(/*! ../editors/scriptManager/ScriptViewer */ \"./src/designer/editors/scriptManager/ScriptViewer.jsx\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); } // import UIMessage from './UIMessage';\n// import loading_gif from '../../page/loading.gif';\nvar Editui = /*#__PURE__*/function (_Component) {\n  _inherits(Editui, _Component);\n  function Editui(props, context) {\n    var _this;\n    _classCallCheck(this, Editui);\n    _this = _callSuper(this, Editui, [props, context]);\n    _this.invokeControlMethods = function (events) {\n      events.forEach(function (event) {\n        var methodName = event.methodname,\n          args = event.args;\n        switch (methodName) {\n          case _server.SHOW_JS_SCRIPT_EDITOR:\n            _this.showJSScriptEditor(args);\n            break;\n          case _server.SHOW_JS_SCRIPT_MANAGER:\n            _this.showJSScriptManager();\n            break;\n          default:\n            break;\n        }\n      });\n    };\n    _this.onKeyDown = function (e) {\n      // ctrl+alt+t 导出模版文件\n      if ((e.ctrlKey || e.metaKey) && e.altKey && e.code === 'KeyT') {\n        var uiInfo = _this.props.ui.get('uiInfo');\n        var selectId = _this.props.ui.get('select_control_id');\n        var uiFieldinfo = _model.uiModel.getUIFieldInfo(uiInfo, selectId).toJS();\n        var formmeta = _model.uiModel.getFormmeta(uiInfo).toJS();\n        var template = (0, _templateUtil.convertUiInfo2Template)(uiFieldinfo, formmeta);\n        console.log('template:', template);\n        var blob = new window.Blob([JSON.stringify(template)], {\n          type: ''\n        });\n        (0, _fileSaver.saveAs)(blob, 'template.json');\n      }\n    };\n    _this.refreshAllControls = function (data) {\n      if (data === true) {\n        _this.props.refreshAllControls && _this.props.refreshAllControls();\n      }\n    };\n    _this.doDelete = function () {\n      var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var _this$props = _this.props,\n        deleteControl = _this$props.deleteControl,\n        uiConfig = _this$props.uiConfig;\n      if (data[0]) {\n        deleteControl(data[0], uiConfig);\n      }\n    };\n    // 更新页面模板数据\n    _this.changeTemplateData = function (data) {\n      _this.setState({\n        templateData: data\n      });\n    };\n    // 更新模板界面类型\n    _this.changeShowPanleType = function (val) {\n      _this.setState({\n        showPanelType: val\n      });\n    };\n    // 更新页面初始uiinfo，打开页面模板界面\n    _this.changeOriginUiInfo = function (uiInfo) {\n      _this.setState({\n        originUiInfo: uiInfo,\n        showPanelType: 0\n      });\n    };\n    // 更新选中模板信息\n    _this.changeActiveTempInfo = function (info) {\n      _this.setState({\n        activeTempInfo: info\n      });\n    };\n    // 设置单头绑定数据\n    _this.setFormMappingData = function (data) {\n      _this.setState({\n        formMappingData: data\n      });\n    };\n    // 显示引导页\n    _this.showGuide = function () {\n      var guideType = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      _this.setState({\n        showGuideType: guideType\n      });\n    };\n    // 切换显示辅助线\n    _this.toggleShowAuxiliaryLine = function () {\n      var auxiliaryLine = _storage[\"default\"].get(_storage.KD_AUXILIARY_LINE);\n      if (auxiliaryLine !== 'true') {\n        _storage[\"default\"].set(_storage.KD_AUXILIARY_LINE, 'true');\n      } else {\n        _storage[\"default\"].set(_storage.KD_AUXILIARY_LINE, 'false');\n      }\n      _this.forceUpdate();\n    };\n    _this.deleteConfirm = function () {\n      var ctrlIds = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : (0, _immutable.List)();\n      var uiInfo = _this.props.ui.get('uiInfo');\n      var args = ctrlIds.map(function (ctrlId) {\n        var fieldInfo = _model.uiModel.getFieldInfo(uiInfo, ctrlId, _propnames.FORMMETA);\n        var key = fieldInfo.get(_propnames.KEY);\n        var type = fieldInfo.get(_propnames._TYPE_);\n        var isEntity = _ctrlTypeList.entryApRelatedEntity.includes(type);\n        return {\n          key: key,\n          id: ctrlId,\n          isEntity: isEntity\n        };\n      });\n      _this.context.invokeAction(_this.context.model, 'deleteConfirm', [args]);\n    };\n    _this.showJSScriptEditor = function () {\n      var args = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      if ((0, _toolUtils.getBrowserData)() === 'ie') {\n        (0, _KDConfirm[\"default\"])({\n          msg: (0, _intlApi.getLangMsg)('Confirm.unsupportIE'),\n          confirmType: 4\n        });\n        return;\n      }\n      var uiInfo = _this.props.ui.get('uiInfo');\n      if (uiInfo.get('isv') !== uiInfo.getIn([_propnames.FORMMETA, 'Isv'])) {\n        var formMetaItems = uiInfo.getIn([_propnames.FORMMETA, _propnames.ITEMS]);\n        var formAp = formMetaItems.find(function (meta) {\n          return meta.get(_propnames._TYPE_).endsWith('FormAp');\n        });\n        var plugins = formAp.getIn([_propnames.JS_PLUGINS]) || (0, _immutable.List)();\n        var formId = uiInfo.getIn([_propnames.FORMMETA, 'Id']);\n        var script = plugins.find(function (plugin) {\n          var _plugin$get$split = plugin.get('ClassName').split('_'),\n            _plugin$get$split2 = _slicedToArray(_plugin$get$split, 1),\n            scriptFormId = _plugin$get$split2[0];\n          return scriptFormId === formId;\n        });\n        var scriptId = script === null || script === void 0 ? void 0 : script.get('FPK');\n        _this.setState({\n          scriptId: scriptId\n        });\n        return;\n      }\n      _this.setState({\n        showScriptEditor: true\n      }, function () {\n        var _args = _slicedToArray(args, 1),\n          showParams = _args[0];\n        var isInternal = showParams.isInternal,\n          content = showParams.content;\n        var rootPageId = (0, _global.getGlobalState)().get('rootPageId');\n        if (isInternal) {\n          (0, _memoryCacher.setPageData)(rootPageId, [_scriptEditorConstant.JAVASCRIPT_EDITOR, _scriptEditorConstant.JUMP_TO_POSITION], {\n            content: content\n          });\n        }\n      });\n    };\n    _this.showJSScriptManager = function () {\n      var args = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      if ((0, _toolUtils.getBrowserData)() === 'ie') {\n        (0, _KDConfirm[\"default\"])({\n          msg: (0, _intlApi.getLangMsg)('Confirm.unsupportIE'),\n          confirmType: 4\n        });\n        return;\n      }\n      _this.setState({\n        showScriptManager: true\n      });\n    };\n    _this.handleCloseEditor = function () {\n      _this.setState({\n        showScriptEditor: false\n      });\n    };\n    _this.handleCloseManager = function () {\n      _this.setState({\n        showScriptManager: false\n      });\n    };\n    _this.handleCloseViewer = function () {\n      _this.setState({\n        scriptId: ''\n      });\n    };\n    /**\n     * 获取bizAppId\n     * 由于后端的bizAppId只存放在formdesigner中，subformdesigner没有\n     * 只能在formdesigner中取\n     * @returns bizAppId\n     */\n    _this.getBizAppId = function () {\n      var _openArgs$2$bizappid, _openArgs$;\n      var state = (0, _global.getGlobalState)();\n      var rootPageId = (0, _appModelFunction.getRootPageId)()(state);\n      var openArgs = (0, _appModelFunction.getDataProperty)(rootPageId, 'formdesigner', 'open_args')(state);\n      var bizAppId = (_openArgs$2$bizappid = openArgs === null || openArgs === void 0 || (_openArgs$ = openArgs[2]) === null || _openArgs$ === void 0 ? void 0 : _openArgs$.bizappid) !== null && _openArgs$2$bizappid !== void 0 ? _openArgs$2$bizappid : '';\n      return bizAppId;\n    };\n    _this.state = {\n      originUiInfo: (0, _immutable.Map)(),\n      // 设计器点击模板按钮之前的页面信息，用于取消操作\n      templateData: [],\n      // 页面模板数据\n      activeTempInfo: {},\n      // 当前选中的页面模板信息{key, previewSrcs, title}\n      showPanelType: undefined,\n      // 页面模板界面：0，列表绑定字段界面：1，录入表单单头绑定字段界面：2，录入表单单体绑定字段界面：3\n      showGuideType: -1,\n      // bos设计器引导页： -1 关闭 0 默认引导页\n      formMappingData: (0, _immutable.List)(),\n      // 带分录录入模板将单头绑定信息存储起来\n      showScriptEditor: false,\n      // 是否展示脚本编辑器\n      showScriptManager: false,\n      // 是否显示脚本管理器\n      scriptId: '' // 是否显示脚本查看器\n    };\n    _this.save = _this.save.bind(_assertThisInitialized(_this));\n    _this.createUIElement = _this.createUIElement.bind(_assertThisInitialized(_this));\n    _this.createEntityElement = _this.createEntityElement.bind(_assertThisInitialized(_this));\n    _this.removeUIElements = _this.removeUIElements.bind(_assertThisInitialized(_this));\n    _this.addEntityControl = _this.addEntityControl.bind(_assertThisInitialized(_this));\n    _this.resetSideBar = _this.resetSideBar.bind(_assertThisInitialized(_this));\n    _this.showErrorList = _this.showErrorList.bind(_assertThisInitialized(_this));\n    _this.handleOpenArgs = _this.handleOpenArgs.bind(_assertThisInitialized(_this));\n    _this.addControl = _this.addControl.bind(_assertThisInitialized(_this));\n    _this.notifyMsg = _notifyMsg[\"default\"].bind(null, _this.context.model.pageId);\n    _this.customContext = {\n      value: {}\n    };\n    _this.handleAddControlNotifyTobackend = _this.handleAddControlNotifyTobackend.bind(_assertThisInitialized(_this));\n    _this.uiElementsToAdd = [];\n    return _this;\n  }\n  _createClass(Editui, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n      // 获取该单据类型的元数据\n      // this.handleOpenArgs 函数里面也获取了设计器的元元数据，这里再发会引起多余的请求\n      // this.fetchUiMetadata(this.context.modelType, this.context.clientParams)\n      // 注册设计器保存事件\n      this.removeValidateEventListener = (0, _GlobalDataCacher.addDataChangeListener)(_symbolConst.KEY_VALIDATE_EVENT, function (_ref) {\n        var _ref$pageId = _ref.pageId,\n          pageId = _ref$pageId === void 0 ? '' : _ref$pageId;\n        if (pageId !== _this2.context.model.pageId) {\n          return;\n        }\n        _this2.save();\n      });\n      var _this$context$model = this.context.model,\n        pageId = _this$context$model.pageId,\n        key = _this$context$model.key;\n      this.removeDirectivesListener = (0, _memoryCacher.subscribeControlMethod)(pageId, key, 'directives', function (pageData) {\n        if (pageData === undefined) {\n          return;\n        }\n        _this2.invokeControlMethods(pageData);\n      });\n\n      // 初始化ui数据\n      this.handleOpenArgs(this.props.openArgs);\n\n      // 注册服务端调用前端的接口函数\n      this.context.model.sub_Event('createUIElement', this.createUIElement);\n      this.context.model.sub_Event('createEntityElement', this.createEntityElement);\n      this.context.model.sub_Event('removeUIElements', this.removeUIElements);\n      this.context.model.sub_Event('resetSideBar', this.resetSideBar);\n      this.context.model.sub_Event('showErrorList', this.showErrorList);\n      this.context.model.sub_Event('batchSetPropValueFinished', this.refreshAllControls);\n      this.context.model.sub_Event('doDelete', this.doDelete);\n\n      // 开发使用\n      var KDDesignerTool = {};\n      KDDesignerTool.clearDirtyData = this.props.clearDirtyData;\n      _global[\"default\"][_global.KD_DESIGNER_TOOL] = KDDesignerTool;\n      document.addEventListener('keydown', this.onKeyDown);\n      var permissions = _model.uiModel.getDesignerPermissions(this.props.disableFeatures);\n      var propertyViewsVisibility = _model.uiModel.getPropertyViewsVisibility(this.props.hidePropertyViews);\n      this.customContext.value = _objectSpread({\n        addControl: this.props.addControl,\n        notifyMsg: this.notifyMsg,\n        fileserver: this.props.fileserver,\n        pushUndo: this.props.pushUndo,\n        dragOverControl: this.props.dragOverControl,\n        switchToFlatPanel: this.props.switchToFlatPanel,\n        addEntityControl: this.addEntityControl,\n        deleteControl: this.props.deleteControl,\n        deleteConfirm: this.deleteConfirm,\n        selectControl: this.props.selectControlId,\n        showGuide: this.showGuide,\n        moveControl: this.props.moveControl,\n        auxiliaryLine: _storage[\"default\"].get(_storage.KD_AUXILIARY_LINE) === 'true',\n        updatePropValue: this.props.updatePropValue,\n        copyAndAdd: this.props.copyAndAdd,\n        permissions: permissions,\n        propertyViewsVisibility: propertyViewsVisibility\n      }, this.context);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var _this$removeDirective;\n      this.removeValidateEventListener && this.removeValidateEventListener();\n      (_this$removeDirective = this.removeDirectivesListener) === null || _this$removeDirective === void 0 || _this$removeDirective.call(this);\n      document.removeEventListener('keydown', this.onKeyDown);\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      var _this$props$ui;\n      // 数据变化重新初始化UI数据\n      if (!(0, _immutable.is)(this.props.openArgs, nextProps.openArgs)) {\n        this.handleOpenArgs(nextProps.openArgs);\n      }\n      var ui = nextProps.ui,\n        uiConfig = nextProps.uiConfig;\n      var _selectControlId = ui === null || ui === void 0 ? void 0 : ui.get('select_control_id');\n      var prevSelectControlId = (_this$props$ui = this.props.ui) === null || _this$props$ui === void 0 ? void 0 : _this$props$ui.get('select_control_id');\n      if (ui && uiConfig && prevSelectControlId !== _selectControlId) {\n        var uiInfo = ui.get('uiInfo');\n        var ctrlInfo = _model.uiModel.getUIFieldInfo(uiInfo, _selectControlId);\n        if (uiInfo && _selectControlId && ctrlInfo) {\n          var ctrlType = ctrlInfo.get(_propnames.TYPE);\n          var fieldType = ctrlInfo.get(_propnames.FieldType);\n          if (ctrlType === 'FieldAp' && fieldType === 'RadioGroupField') {\n            var _ref2 = [fieldType, ctrlType];\n            ctrlType = _ref2[0];\n            fieldType = _ref2[1];\n          }\n          var metaInfo = _model.metadataModel.getConfigFieldByType(uiConfig, _selectControlId, ctrlType, fieldType);\n          var disableDelete = metaInfo && metaInfo.get('disableDelete');\n          this.customContext.value.disableDelete = disableDelete;\n          this.handleAddControlNotifyTobackend(uiInfo, uiConfig);\n        }\n      }\n      if (!(0, _immutable.is)(this.props.disableFeatures, nextProps.disableFeatures)) {\n        this.customContext.value.permissions = _model.uiModel.getDesignerPermissions(nextProps.disableFeatures);\n      }\n      if (!(0, _immutable.is)(this.props.hidePropertyViews, nextProps.hidePropertyViews)) {\n        this.customContext.value.propertyViewsVisibility = _model.uiModel.getPropertyViewsVisibility(nextProps.hidePropertyViews);\n      }\n      if (this.props.uiConfig === undefined && nextProps.uiConfig) {\n        (0, _metadataModelFunction.setUiConfigCache)(this.context.modelType, nextProps.uiConfig);\n      }\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate( /* nextProps, nextState, nextContext */\n    ) {\n      // props: fileserver, openArgs, shareState, ui, uiConfig\n      // state: sideBarMenuList, errorInfos\n      // context: model, modelType, modelVer\n\n      return true;\n      /* return  true||!is(this.props.ui,nextProps.ui) ||\n           !is(this.props.uiConfig,nextProps.uiConfig)||\n            // this.props.params.uiType!=nextProps.params.uiType ||\n            // this.props.params.metadataType!=nextProps.params.metadataType ||\n            !is(this.props.refEntity,nextProps.refEntity)||\n            !is(this.props.entityConfig,nextProps.entityConfig)||\n            this.context.openArgs.length!=nextContext.openArgs.length; */\n    }\n  }, {\n    key: \"handleAddControlNotifyTobackend\",\n    value: function handleAddControlNotifyTobackend(uiInfo, uiConfig) {\n      var _this3 = this;\n      var allFieldItems = _model.uiModel.getFormmeta(uiInfo);\n      var operations = uiInfo.getIn(['entitymeta', _propnames.ITEMS, 0, 'Operations'], (0, _immutable.List)());\n      var rootId = _model.uiModel.getRootId(uiInfo);\n      var argsMap = new window.Map();\n      allFieldItems.forEach(function (fieldInfo) {\n        var afterAddControlNotify = fieldInfo.getIn(['afterAddControlNotify']);\n        if (afterAddControlNotify) {\n          var id = afterAddControlNotify.get('controlId');\n          var entryId = allFieldItems.find(function (item) {\n            return item.get('Id') === id;\n          }).get('EntryId');\n          var type = afterAddControlNotify.get('type');\n          // if (!argsMap.has(id)) {\n          //   argsMap.set(id, { id, type, rootId, setAttr: [] })\n          // }\n          // if (argsMap.has(id)) {\n          //   const newAttr = argsMap.get(id)\n          //   newAttr.push({ id: fieldInfo.get(ID), prop: 'CardOperationBar', type: ['deleteentry'] })\n          //   argsMap.set(id, newAttr)\n          // } else {\n          //   argsMap.set(id, { id: fieldInfo.get(ID), prop: 'CardOperationBar', type: ['deleteentry'] })\n          // }\n          if (!argsMap.has(id)) {\n            argsMap.set(id, {\n              data: [],\n              operations: operations\n            });\n          }\n          if (['CardEntryAp', 'SubCardEntryAp', 'EntryEntity', 'SubEntryEntity'].includes(type)) {\n            if (['CardEntryRowAp'].includes(fieldInfo.get(_propnames.TYPE))) {\n              var argsMapData = argsMap.get(id);\n              argsMapData.data.push({\n                entryId: entryId,\n                rootId: rootId,\n                controlType: type,\n                setAttr: {\n                  id: fieldInfo.get(_propnames.ID),\n                  prop: 'CardOperationBar',\n                  type: ['deleteentry']\n                }\n              });\n              argsMap.set(id, argsMapData);\n              // args.({ data: [{ id, rootId, controlType: type, setAttr: [{ id: fieldInfo.get(ID), prop: 'CardOperationBar', type: ['deleteentry'] }] }] })\n            }\n            if (['MBarItemAp'].includes(fieldInfo.get(_propnames.TYPE))) {\n              var _argsMapData = argsMap.get(id);\n              _argsMapData.data.push({\n                entryId: entryId,\n                rootId: rootId,\n                controlType: type,\n                setAttr: {\n                  id: fieldInfo.get(_propnames.ID),\n                  prop: 'OperationKey',\n                  type: ['newentry']\n                }\n              });\n              argsMap.set(id, _argsMapData);\n              // args.push({ data: [{ id, rootId, controlType: type, setAttr: [{ id: fieldInfo.get(ID), prop: 'OperationKey', type: ['newentry'] }] }] })\n            }\n            _this3.props.updatePropValue(fieldInfo.get(_propnames.ID), 'afterAddControlNotify', undefined, _propnames.FORMMETA, uiConfig);\n          }\n        }\n      });\n      argsMap.forEach(function (value, key) {\n        _this3.context.invokeAction(_this3.context.model, 'afterAddControlNotify', [value]);\n      });\n      argsMap.clear();\n    }\n  }, {\n    key: \"fetchUiMetadata\",\n    value: function fetchUiMetadata(modelType, clientParams) {\n      if (!modelType) return;\n      this.props.fetchUiMetadata(modelType, clientParams); // 关闭缓存元数据,以后稳定下来再打开\n      // 表示页面首次加载\n      _storage[\"default\"].set(_storage.KD_GET_METADATA, 'true');\n      // }\n    }\n  }, {\n    key: \"save\",\n    value: function save() {\n      var _this4 = this;\n      var model = this.context.model;\n      var pageId = model.pageId;\n      var uiInfo = this.props.ui.get('uiInfo');\n      if (!uiInfo) return;\n      var data = uiInfo.filterNot(function (v, k) {\n        return k === 'ui' || k === 'entitytree' || k === 'entitymeta' && v.get('Readonly') === true;\n      }).updateIn([_propnames.FORMMETA, _propnames.ITEMS], function (items) {\n        return items.map(function (formitem) {\n          // 暂时兼容边框设置，边框修改了值都会更新个新的Map存到后端，导致旧数据无法比较相等进行抹除，在这里统一抹除\n          var fieldType = formitem.get(_propnames._TYPE_);\n          var style = formitem.get('Style');\n          if (style && (0, _metadataModelFunction.isDefaultValue)(_this4.props.uiConfig, fieldType, 'Style', style[\"delete\"](_propnames._TYPE_))) {\n            return formitem[\"delete\"]('Style');\n          }\n          return formitem;\n        });\n      });\n      // 获取加密的Key值列表\n      var encodeKeys = (0, _memoryCacher.getPageData)(pageId, _const.KDBASE64);\n      var encodeDefaultKeys = (0, _memoryCacher.getPageData)(pageId, _const.ENCODE_DEFAULT_KEYS);\n      if ((encodeDefaultKeys === null || encodeDefaultKeys === void 0 ? void 0 : encodeDefaultKeys.length) > 0) {\n        var _data$entitymeta, _data$entitymeta2, _data$formmeta, _data$formmeta2;\n        data = data.toJS();\n        ((_data$entitymeta = data.entitymeta) === null || _data$entitymeta === void 0 ? void 0 : _data$entitymeta.Items) && (0, _index.encodeDesignerValue)((_data$entitymeta2 = data.entitymeta) === null || _data$entitymeta2 === void 0 ? void 0 : _data$entitymeta2.Items, encodeDefaultKeys);\n        ((_data$formmeta = data.formmeta) === null || _data$formmeta === void 0 ? void 0 : _data$formmeta.Items) && (0, _index.encodeDesignerValue)((_data$formmeta2 = data.formmeta) === null || _data$formmeta2 === void 0 ? void 0 : _data$formmeta2.Items, encodeDefaultKeys);\n      } else if ((encodeKeys === null || encodeKeys === void 0 ? void 0 : encodeKeys.length) > 0) {\n        var _data$entitymeta3, _data$entitymeta4, _data$formmeta3, _data$formmeta4;\n        data = data.toJS();\n        ((_data$entitymeta3 = data.entitymeta) === null || _data$entitymeta3 === void 0 ? void 0 : _data$entitymeta3.Items) && (0, _index.encodeDesignerRule)((_data$entitymeta4 = data.entitymeta) === null || _data$entitymeta4 === void 0 ? void 0 : _data$entitymeta4.Items, encodeKeys);\n        ((_data$formmeta3 = data.formmeta) === null || _data$formmeta3 === void 0 ? void 0 : _data$formmeta3.Items) && (0, _index.encodeDesignerRule)((_data$formmeta4 = data.formmeta) === null || _data$formmeta4 === void 0 ? void 0 : _data$formmeta4.Items, encodeKeys);\n      }\n      this.context.setPostControlValue(model, data);\n      this.context.setValidMessage(pageId, {\n        success: true,\n        key: model.key\n      });\n      this.setState({\n        errorInfos: []\n      });\n      // this.context.updateControl(this.context.model,data,undefined,false);\n    }\n  }, {\n    key: \"handleOpenArgs\",\n    value: function handleOpenArgs(openArgs) {\n      if (openArgs) {\n        var _openArgs = _slicedToArray(openArgs, 3),\n          modelType = _openArgs[0],\n          isPC = _openArgs[1],\n          data = _openArgs[2];\n        this.isPC = isPC;\n        if (!_lodash[\"default\"].isEmpty(data)) {\n          this.props.setUiInfo(data);\n        } else {\n          console.error('ui data is null');\n        }\n        this.fetchUiMetadata(modelType, this.context.clientParams);\n      } else {\n        console.warn('没有收到Open 数据');\n      }\n    }\n  }, {\n    key: \"resetSideBar\",\n    value: function resetSideBar() {\n      var args = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      this.setState({\n        sideBarMenuList: args[0]\n      });\n    }\n  }, {\n    key: \"showErrorList\",\n    value: function showErrorList() {\n      var args = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      /**\n       * errorInfo = {type, itemId, error, propertyName, level}\n       * @param {String} type   \"entity\":实体元素;\"form\":表单元素\n       * @param {String} itemId 控件的Id\n       * @param {String} error 错误消息\n       * @param {String} propertyName 控件的属性名\n       * @param {int} level 错误消息的级别。1:警告；2：错误\n       */\n      var errorInfos = args[0] || [];\n      this.setState({\n        errorInfos: errorInfos\n      });\n    }\n  }, {\n    key: \"removeUIElements\",\n    value: function removeUIElements() {\n      var args = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      // 先删除所有元素,然后再增加\n\n      // 父组件ID\n      var ctrlId = args[0];\n\n      // 根据父组件ID获得对应的uiInfo对象\n      var uiInfo = this.props.ui.get('uiInfo', (0, _immutable.Map)());\n      if (!uiInfo || uiInfo.size === 0) return null;\n\n      // 获得info对象\n      var ctrlInfo = _model.uiModel.getUIFieldInfo(uiInfo, ctrlId);\n\n      // 循环子元素，依次删除\n      // ctrlInfo.get(ITEMS, List()).forEach(item => {\n      //   const sub_ctrlId = item.get(ID)\n      //   if (sub_ctrlId) this.props.deleteControl(sub_ctrlId, this.props.uiConfig)\n      // })\n      var subCtrls = ctrlInfo.get(_propnames.ITEMS, (0, _immutable.List)()).map(function (item) {\n        return item.get(_propnames.ID);\n      });\n      if (subCtrls.size > 0) {\n        this.props.deleteControl(subCtrls, this.props.uiConfig);\n      }\n    }\n  }, {\n    key: \"createUIElement\",\n    value: function createUIElement() {\n      var _this5 = this;\n      var args = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var ctrl = args[0];\n      var containerCtrl = args[1];\n      if (containerCtrl.TargetIndex != null && containerCtrl.TargetIndex >= 0) {\n        ctrl.TargetIndex = containerCtrl.TargetIndex;\n      }\n      ctrl.ParentId = ctrl.ParentId || containerCtrl.Id;\n      if (\n      // ctrl._Type_ === 'SchemeFilterColumnAp' ||\n      // ctrl._Type_ === 'CommonFilterColumnAp' ||\n      ctrl._Type_ === 'MobAdvFilterPanelAp') {\n        var parentId = ctrl.ParentId;\n        var fieldName = ctrl.FieldName;\n        var name = ctrl.Name;\n        var items = _model.uiModel.getFormmeta(this.props.ui.get('uiInfo', (0, _immutable.Map)()));\n        var hasItem = items.find(function (itme) {\n          var FieldName = itme.get('FieldName');\n          var Name = itme.get('Name');\n          return itme.get('ParentId') === parentId && (FieldName && FieldName === fieldName || Name && Name === name);\n        });\n        if (!hasItem) {\n          // 添加高级过滤面板时，存一个默认展开状态，让高级筛选过滤面板第一次添加时自动展开。\n          var advFilterCreateInfo = (0, _GlobalDataCacher.getData)(_symbolConst.IS_FIRST_CREATE);\n          (0, _GlobalDataCacher.setData)(_symbolConst.IS_FIRST_CREATE, _objectSpread(_objectSpread({}, advFilterCreateInfo), {}, _defineProperty({}, ctrl.Id, true)));\n          // 不存在时执行添加，防止重复\n          this.props.addFieldControl(ctrl, this.props.uiConfig);\n        } else {\n          var message = (0, _intlApi.getLangMsg)({\n            key: 'bosd.editUi.key0001',\n            variables: {\n              fieldName: fieldName || name\n            }\n          });\n          throw {\n            message: message,\n            type: 'warning'\n          };\n        }\n      } else if (ctrl._Type_ === 'MToolbarAp') {\n        var _fieldName = ctrl.FieldName;\n        var _name = ctrl.Name;\n        var _items = _model.uiModel.getFormmeta(this.props.ui.get('uiInfo', (0, _immutable.Map)()));\n        var _hasItem = _items.find(function (item) {\n          return item.get(_propnames._TYPE_) === 'MToolbarAp' && ctrl.Id === item.get('Id') && (ctrl === null || ctrl === void 0 ? void 0 : ctrl.isMultipleToolbar);\n        });\n        if (!_hasItem) {\n          // 不存在时执行添加，防止重复\n          this.props.addFieldControl(ctrl, this.props.uiConfig);\n        } else {\n          var _message = (0, _intlApi.getLangMsg)({\n            key: 'bosd.editUi.key0001',\n            variables: {\n              fieldName: _fieldName || _name\n            }\n          });\n          throw new Error(_message);\n        }\n      } else {\n        // 列表添加过滤字段时可能一次性返回几百个createUIElement指令，先缓存起来再批量执行，确保只更新一次state\n        this.uiElementsToAdd.push(ctrl);\n        clearTimeout(this.addFieldControlsTimer);\n        this.addFieldControlsTimer = setTimeout(function () {\n          _this5.props.addFieldControls(_this5.uiElementsToAdd, _this5.props.uiConfig);\n          _this5.uiElementsToAdd = [];\n        }, 0);\n      }\n    }\n\n    // {\"args\":[\"ParentId\",{\"_Type_\":\"NameCombineEntity\",\"Id\":\"16K56JWRM28U\",\"Key\":\"namecombine\",\"Name\":\"姓名详情面板\"}]}\n  }, {\n    key: \"createEntityElement\",\n    value: function createEntityElement() {\n      var args = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var ParentId = args[0];\n      var ctrlEntityInfo = args[1];\n      ctrlEntityInfo.ParentId = ParentId;\n      this.props.addEntityInfo(ctrlEntityInfo);\n    }\n  }, {\n    key: \"addEntityControl\",\n    value: function addEntityControl(fieldInfo, containerId) {\n      var _this6 = this;\n      // 基于应用的实体字段添加到ui\n      fieldInfo = _typeof(fieldInfo) !== 'object' ? {\n        FieldId: fieldInfo\n      } : fieldInfo;\n      var fieldId = fieldInfo.FieldId;\n      containerId = containerId || this.props.ui.get('select_control_id');\n      var uiInfo = this.props.ui.get('uiInfo', (0, _immutable.Map)());\n\n      // 如果实体是只读的，不允许基于实体添加控件。这里改成选中实体关联的控件\n      var entityreadonly = uiInfo.get('entityreadonly');\n      if (!entityreadonly) {\n        this.selectEntity(fieldId);\n        return;\n      }\n      var entityInfo = _model.uiModel.getEntityFieldInfo(uiInfo, {\n        entityId: fieldId\n      });\n      entityInfo = entityInfo || _model.uiModel.getEntityTreeInfo(uiInfo, fieldId) || (0, _immutable.Map)();\n      if (entityInfo.get(_propnames._TYPE_) === 'NameCombineEntity') return;\n      var cb = function cb() {\n        var createType = entityInfo.get('CreateType');\n        // 通过实体创建的控件的数据包从后台创建\n        if (createType === 1) {\n          var containerInfo = _model.uiModel.getContainerControl(uiInfo, containerId, true, _this6.props.uiConfig);\n          containerId = containerInfo.control.get(_propnames.ID);\n          var containerField = _model.uiModel.getFormFieldInfo(uiInfo, containerId);\n          if (containerInfo.targetIndex != null) {\n            containerField = containerField.set('TargetIndex', containerInfo.targetIndex);\n          }\n          _this6.context.invokeAction(_this6.context.model, 'createUIElemntByEntityItem', [entityInfo.toJS(), (containerField || (0, _immutable.Map)()).toJS()]);\n        } else {\n          var _uiModel$getUIFieldIn;\n          // 前端创建控件\n          var ctrlType = (_uiModel$getUIFieldIn = _model.uiModel.getUIFieldInfo(uiInfo, fieldId)) === null || _uiModel$getUIFieldIn === void 0 ? void 0 : _uiModel$getUIFieldIn.get('Type');\n          if (ctrlType === 'EntryFieldAp') {\n            fieldInfo.Type = ctrlType;\n          }\n          fieldInfo = Object.assign({}, fieldInfo, {\n            FieldType: entityInfo.get(_propnames._TYPE_) || entityInfo.get(_propnames.TYPE),\n            Name: entityInfo.get(_propnames.NAME),\n            Key: entityInfo.get(_propnames.KEY),\n            ParentId: containerId,\n            FieldId: fieldId\n          });\n          _this6.props.addFieldControl(fieldInfo, _this6.props.uiConfig);\n        }\n      };\n      var targetEntryEntity;\n      var gridInfo = _model.printModel.getGridInfo(uiInfo, containerId);\n      var gridType = gridInfo && gridInfo.get(_propnames.TYPE);\n      if (gridType && _model.uiModel.isTargetCtrls(uiInfo, containerId, ['DataCell']) && ['AmountField', 'PictureField'].indexOf(entityInfo.get(_propnames.TYPE)) < 0) {\n        // 父组件是表格的情况\n        targetEntryEntity = gridType === 'DataGrid' ? ['ReportFormModel', 'EntryEntity', 'SubEntryEntity'] : ['ReportFormModel', 'SubEntryEntity'];\n        var dataSourceInfo = _model.uiModel.getBillEntityDataSource(uiInfo, fieldId, targetEntryEntity);\n        var oldDatasourceId = _model.uiModel.getPropertyValue(uiInfo, gridInfo.get(_propnames.ID), 'DataSource', _propnames.FORMMETA);\n        if ((0, _typeCheck.isJsonString)(oldDatasourceId)) {\n          try {\n            var obj = JSON.parse(oldDatasourceId);\n            oldDatasourceId = obj && obj.key;\n          } catch (e) {}\n        }\n        if (oldDatasourceId && dataSourceInfo[0] !== oldDatasourceId && targetEntryEntity.indexOf(dataSourceInfo[1]) >= 0) {\n          // console.warn('表格绑定的单据体改变')\n          (0, _KDConfirm[\"default\"])({\n            msg: (0, _intlApi.getLangMsg)('bosd.editUi.key0002'),\n            // detail:`当前数据表格数据源将由${oldDatasourceId}变成${dataSourceInfo[0]}，其他单元格已绑定字段可能丢失。`,\n            confirmType: 0,\n            buttonType: 1,\n            onClose: cb\n          });\n        } else {\n          cb();\n        }\n      } else if (gridInfo && gridType) {\n        // 禁止从行或者列来添加数据源数据\n        var containerInfo = _model.uiModel.getUIFieldInfo(uiInfo, containerId);\n        var containerType = containerInfo.get(_propnames.TYPE);\n        if (_model.printModel.blockListToAddEntityTypes.includes(containerType)) {\n          var msg = (0, _intlApi.getLangMsg)('bosd.editUi.key0003');\n          (0, _notifyMsg[\"default\"])(this.context.model.pageId, msg, 'error');\n        } else {\n          cb();\n        }\n      } else {\n        var modelType = uiInfo && uiInfo.getIn(['formmeta', 'ModelType'], '');\n        var _containerInfo = _model.uiModel.getContainerControl(uiInfo, containerId) || {};\n        // PC列表，需要判断实体是否已经添加。如已添加，则给出提示\n        if (modelType === 'BillListCardViewModel' && (_containerInfo === null || _containerInfo === void 0 ? void 0 : _containerInfo.targetId) === 'gridview') {\n          var addedFields = uiInfo && uiInfo.getIn(['formmeta', 'Items'], (0, _immutable.List)()).filter(function (items) {\n            return items.get('ParentId') === 'gridview';\n          });\n          addedFields = addedFields.filter(function (item) {\n            return item.get('ListFieldId') === fieldId;\n          });\n          if (addedFields.size > 0 && entityInfo.get('CreateType') === 1) {\n            var _msg = (0, _intlApi.getLangMsg)('bosd.editUi.key0004');\n            (0, _notifyMsg[\"default\"])(this.context.model.pageId, _msg, 'error');\n            return;\n          }\n        }\n        cb();\n      }\n    }\n\n    /**\n     * 添加控件\n     * parentId 容器Id\n     * ctrlInfo 控件信息\n     * uiConfig 元数据信息\n     */\n  }, {\n    key: \"addControl\",\n    value: function addControl(parentId, ctrlInfo, uiConfig) {\n      var _this7 = this;\n      var uiInfo = this.props.ui.get('uiInfo', (0, _immutable.Map)());\n      var ctrlType = ctrlInfo;\n      if (_typeof(ctrlInfo) === 'object') {\n        ctrlType = ctrlInfo.Type;\n      }\n      var ctrlConfig = _model.metadataModel.getConfigFieldByType(uiConfig, ctrlType);\n      if (ctrlConfig && ctrlConfig.get('CreateType') === 1) {\n        var containerField = _model.uiModel.getFormFieldInfo(uiInfo, parentId);\n        var _ctrlInfo = {\n          CreateType: 1,\n          type: ctrlType\n        };\n        this.context.invokeAction(this.context.model, 'createUIElementByType', [_ctrlInfo, (containerField || (0, _immutable.Map)()).toJS()]);\n      } else {\n        var controls = uiInfo.getIn(['ui', 'Items'], (0, _immutable.List)());\n        if (ctrlType === 'MTabBarAp' && controls.size > 0) {\n          var confirmData = {\n            confirmType: 0,\n            id: 'mtabbar',\n            msg: (0, _intlApi.getLangMsg)('bosd.editUi.key0005'),\n            button_type: _MessageBox.BtnType.YesNoCancel,\n            btn_names: _defineProperty(_defineProperty({}, _MessageBox.BtnKey.Yes, (0, _intlApi.getLangMsg)('bosd.editUi.key0006')), _MessageBox.BtnKey.No, (0, _intlApi.getLangMsg)('bosd.editUi.key0007')),\n            clickCallback: function clickCallback(pageId, id, key, callbackValue) {\n              if (key === _MessageBox.BtnKey.Yes) {\n                var rootId = uiInfo && _model.uiModel.getRootId(uiInfo);\n                _this7.props.addControl(rootId, ctrlInfo, uiConfig);\n                setTimeout(function () {\n                  var _uiInfo$getIn$find;\n                  var uiInfo = _this7.props.ui.get('uiInfo', (0, _immutable.Map)());\n                  var tabbarItemId = (_uiInfo$getIn$find = uiInfo.getIn(['formmeta', 'Items']).find(function (item) {\n                    return item.get('Type') === 'MTabBarItemAp';\n                  })) === null || _uiInfo$getIn$find === void 0 ? void 0 : _uiInfo$getIn$find.get('Id');\n                  var ctrlIds = controls.map(function (item) {\n                    return item.get('Id');\n                  });\n                  _this7.props.moveToControl(tabbarItemId, ctrlIds, uiConfig);\n                });\n              } else if (key === _MessageBox.BtnKey.No) {\n                controls.forEach(function (item) {\n                  var ctrlId = item.get('Id');\n                  _this7.props.deleteControl(ctrlId);\n                });\n                var _rootId = uiInfo && _model.uiModel.getRootId(uiInfo);\n                _this7.props.addControl(_rootId, ctrlInfo, uiConfig);\n              }\n            }\n          };\n          (0, _GlobalDataCacher.setData)(_symbolConst.KEY_SHOW_CONFIRM_EVENT, confirmData);\n        } else {\n          this.props.addControl(parentId, ctrlInfo, uiConfig);\n        }\n      }\n    }\n\n    // 基于实体选中控件\n  }, {\n    key: \"selectEntity\",\n    value: function selectEntity(fieldId) {\n      var uiInfo = this.props.ui.get('uiInfo', (0, _immutable.Map)());\n      var formInfo = _model.uiModel.getFormmeta(uiInfo).find(function (item) {\n        var entityId = _model.uiModel.getEntityIdByFieldId(uiInfo, item.get(_propnames.ID));\n        return entityId === fieldId;\n      });\n      if (formInfo) {\n        this.props.selectControlId(formInfo.get(_propnames.ID));\n      }\n    }\n\n    // 监听整个设计区域的复制、剪切、粘贴快捷键\n  }, {\n    key: \"handleShortcutKey\",\n    value: function handleShortcutKey(e) {\n      var _this$customContext$v;\n      // e.stopPropagation()\n      // if (document.activeElement?.tagName === 'INPUT') {\n      // 无法标识输入状态，不采用一刀切\n      // fix: BT-00347736\n      // 【打印】先复制一个控件，然后复制文字，粘贴至数据表格，展示为复制的控件\n      // 暂时只发现输入框的时候触发会比较怪异\n      // 一刀切: 如果是输入框输入的时候冒泡到这里（有些控件是if一个input在父组件下面导致KEY冒泡到这里来，可以一个一个去阻止冒泡，但是太多了）\n      // return\n      // }\n      var _this$props2 = this.props,\n        ui = _this$props2.ui,\n        uiConfig = _this$props2.uiConfig,\n        disableFeatures = _this$props2.disableFeatures;\n      var disableDelete = (_this$customContext$v = this.customContext.value) === null || _this$customContext$v === void 0 ? void 0 : _this$customContext$v.disableDelete;\n      var uiInfo = ui.get('uiInfo');\n      var select_control_id = ui.get('select_control_id');\n      var select_control_ids = ui.get('select_control_ids', (0, _immutable.List)());\n      select_control_ids = select_control_ids.size > 0 ? select_control_ids : (0, _immutable.List)(select_control_id);\n      var keyCode = (0, _keyCodeTool.getKeyCode)(e);\n      var permissions = _model.uiModel.getDesignerPermissions(disableFeatures);\n      if (permissions.cut && (0, _keyCodeTool.isCtrlKey)(e) && keyCode === _constant.KEYS.X) {\n        // Ctrl+X\n        this.props.cutControl(select_control_ids, disableDelete);\n      } else if (permissions.copy && (0, _keyCodeTool.isCtrlKey)(e) && keyCode === _constant.KEYS.C) {\n        // Ctrl+C\n        this.props.copyControl(select_control_ids, disableDelete);\n      } else if (permissions.paste && (0, _keyCodeTool.isCtrlKey)(e) && keyCode === _constant.KEYS.V) {\n        if ((0, _keyCodeTool.isAltKey)(e)) {\n          // Ctrl+Alt+V\n          this.props.pasteControlStyle();\n        } else {\n          // Ctrl+V\n          this.props.pasteControl(select_control_id, uiConfig);\n        }\n      } else if (permissions.undo && (0, _keyCodeTool.isCtrlKey)(e) && keyCode === _constant.KEYS.Z) {\n        // Ctrl+Z\n        this.props.undo();\n      } else if (permissions.redo && (0, _keyCodeTool.isCtrlKey)(e) && keyCode === _constant.KEYS.Y) {\n        // Ctrl+Y\n        this.props.redo();\n      } else if ((0, _keyCodeTool.isCtrlKey)(e) && keyCode === _constant.KEYS.S) {\n        // 此处将设计器数据存到postData，后端元数据配置了热键，冒泡到外层时触发热键将postData发送到后端\n        this.save();\n      } else if (permissions.moveUp && (0, _keyCodeTool.isCtrlKey)(e) && (keyCode === _constant.KEYS.LEFT || keyCode === _constant.KEYS.UP)) {\n        // 上移\n        this.props.moveControl('up');\n      } else if (permissions.moveDown && (0, _keyCodeTool.isCtrlKey)(e) && (keyCode === _constant.KEYS.RIGHT || keyCode === _constant.KEYS.DOWN)) {\n        // 下移\n        this.props.moveControl('down');\n      } else if (e.shiftKey && _lodash[\"default\"].indexOf([_constant.KEYS.LEFT, _constant.KEYS.UP, _constant.KEYS.RIGHT, _constant.KEYS.DOWN], keyCode) >= 0) {\n        // 调整宽高\n        var propName = keyCode === _constant.KEYS.LEFT || keyCode === _constant.KEYS.RIGHT ? 'Width' : 'Height';\n        var addValue = keyCode === _constant.KEYS.LEFT || keyCode === _constant.KEYS.DOWN ? -1 : 1;\n        var val = _model.uiModel.getPropertyValue(uiInfo, select_control_id, propName, _propnames.FORMMETA, uiConfig);\n        var unit = _lodash[\"default\"].endsWith(val, '%') ? '%' : '';\n        unit = _lodash[\"default\"].endsWith(val, 'px') ? 'px' : unit;\n        unit = _lodash[\"default\"].endsWith(val, 'mm') ? 'mm' : unit;\n        if (!unit) return;\n        val = parseFloat(val) + addValue;\n        val = (val < 0 ? 0 : val) + unit;\n        this.props.updatePropValue(select_control_id, propName, val, _propnames.FORMMETA, uiConfig);\n      } else if (permissions[\"delete\"] && keyCode === _constant.KEYS.DELETE) {\n        // Delete\n        this.props.deleteControl(select_control_ids, uiConfig, this.deleteConfirm, this.context.model);\n      } else if (keyCode === _constant.KEYS.ESC) {\n        // 选中父节点\n        var parentCtrlInfo = _model.uiModel.getParentControl(uiInfo, select_control_id);\n        var ctrlId = parentCtrlInfo && parentCtrlInfo.get(_propnames.ID);\n        ctrlId && this.props.selectControlId(ctrlId);\n      } else if (_lodash[\"default\"].indexOf([_constant.KEYS.LEFT, _constant.KEYS.UP, _constant.KEYS.RIGHT, _constant.KEYS.DOWN], keyCode) >= 0) {\n        // 选中控件\n        e.preventDefault();\n        var isPrint = _model.printModel.isPrintModel(uiInfo);\n        if (isPrint) {\n          var _propName = keyCode === _constant.KEYS.LEFT || keyCode === _constant.KEYS.RIGHT ? 'X' : 'Y';\n          var _addValue = keyCode === _constant.KEYS.UP || keyCode === _constant.KEYS.LEFT ? -0.5 : 0.5;\n          var updateInfos = [];\n          select_control_ids.forEach(function (selId) {\n            var val = _model.uiModel.getPropertyValue(uiInfo, selId, _propName, _propnames.FORMMETA, uiConfig);\n            val = parseFloat(val) + _addValue;\n            // 套打 左/上 移动时, 不允许超出边界\n            val = val < 0 ? 0 : val;\n            updateInfos.push({\n              fieldId: selId,\n              propName: _propName,\n              value: val + 'mm',\n              metaType: _propnames.FORMMETA\n            });\n          });\n          this.props.updatePropValue(updateInfos, uiConfig);\n        } else {\n          var nextControl = keyCode === _constant.KEYS.LEFT || keyCode === _constant.KEYS.UP ? _model.uiModel.getPreControl(uiInfo, select_control_id, true) : _model.uiModel.getNextControl(uiInfo, select_control_id, true);\n          if (nextControl) {\n            this.props.selectControlId(nextControl.get(_propnames.ID));\n          }\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this8 = this;\n      if (this.isPC === undefined || !this.props.uiConfig) {\n        var style = {\n          position: 'absolute',\n          left: '50%',\n          top: '50%',\n          transform: 'translate(-50%,-50%)'\n        };\n        return /*#__PURE__*/_react[\"default\"].createElement(_LoadingGIF[\"default\"], {\n          style: style\n        });\n      }\n      var _this$props3 = this.props,\n        ui = _this$props3.ui,\n        uiConfig = _this$props3.uiConfig,\n        shareState = _this$props3.shareState;\n      var uiInfo = ui.get('uiInfo');\n      var uiInfiUi = uiInfo && uiInfo.get('ui');\n      var designerType = uiInfiUi && uiInfiUi.get('Type');\n      var select_control_id = ui.get('select_control_id');\n      var select_control_ids = ui.get('select_control_ids', (0, _immutable.List)());\n      var refresh_ctrl_ids = ui.get('refresh_ctrl_ids');\n      var format_control_id = ui.get('format_control_id');\n      var _ref3 = this.state || {},\n        sideBarMenuList = _ref3.sideBarMenuList;\n      var rootId = uiInfo && _model.uiModel.getRootId(uiInfo);\n      var clipboard = this.props.ui.get('clipboard');\n      var dragover_control_id = this.props.ui.get('dragover_control_id');\n      var auxiliaryLine = _storage[\"default\"].get(_storage.KD_AUXILIARY_LINE) === 'true';\n      return /*#__PURE__*/_react[\"default\"].createElement(_designerContext.EdituiContext.Provider, {\n        value: this.customContext.value\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _Editui2[\"default\"].root\n      }, /*#__PURE__*/_react[\"default\"].createElement(_Guide[\"default\"], {\n        isPC: this.isPC,\n        showGuideType: this.state.showGuideType,\n        showGuide: this.showGuide\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _Editui2[\"default\"]['ui-content']\n      }, /*#__PURE__*/_react[\"default\"].createElement(_UILeft[\"default\"], {\n        uiConfig: uiConfig,\n        uiInfo: uiInfo,\n        addControl: this.addControl,\n        select_control_id: select_control_id,\n        select_control_ids: select_control_ids,\n        format_control_id: format_control_id,\n        selectControlId: this.props.selectControlId,\n        addEntityControl: this.addEntityControl,\n        moveToControl: this.props.moveToControl,\n        updatePropValue: this.props.updatePropValue,\n        handleShortcutKey: function handleShortcutKey(e) {\n          return _this8.handleShortcutKey(e);\n        },\n        menuList: sideBarMenuList,\n        shareState: shareState,\n        designerType: designerType,\n        rootId: rootId,\n        addTempFragment: this.props.addTempFragment,\n        showGuide: this.showGuide,\n        isPC: this.isPC,\n        dragover_control_id: dragover_control_id\n      }), /*#__PURE__*/_react[\"default\"].createElement(_UICenter[\"default\"], {\n        dragover_control_id: dragover_control_id,\n        clipboard: clipboard,\n        uiConfig: uiConfig,\n        uiInfo: uiInfo,\n        isPC: this.isPC,\n        select_control_id: select_control_id,\n        select_control_ids: select_control_ids,\n        refresh_ctrl_ids: refresh_ctrl_ids,\n        showGuide: this.showGuide\n      }, /*#__PURE__*/_react[\"default\"].createElement(_EditToolbar[\"default\"], {\n        auxiliaryLine: auxiliaryLine,\n        addControl: this.props.addControl,\n        deleteControl: function deleteControl(ctrlId) {\n          _this8.props.deleteControl(ctrlId, uiConfig, _this8.deleteConfirm, _this8.context.model);\n        },\n        copyAndAdd: this.props.copyAndAdd,\n        copyControl: this.props.copyControl,\n        cutControl: this.props.cutControl,\n        pasteControl: this.props.pasteControl,\n        moveControl: this.props.moveControl,\n        showTemplatePanel: this.props.showTemplatePanel,\n        select_control_id: select_control_id,\n        select_control_ids: select_control_ids,\n        uiConfig: uiConfig,\n        maxWin: this.props.maxWin,\n        showAuxiliaryLine: this.toggleShowAuxiliaryLine,\n        shareState: shareState,\n        undo: this.props.undo,\n        redo: this.props.redo,\n        format_control_id: format_control_id,\n        setFormatInfo: this.props.setFormatInfo,\n        history: ui.get('history', (0, _immutable.Map)()),\n        uiInfo: uiInfo,\n        updatePropValue: this.props.updatePropValue,\n        throwOperateInfo: this.props.throwOperateInfo,\n        isPC: this.isPC,\n        designerType: designerType,\n        changeTemplateData: this.changeTemplateData,\n        changeShowPanleType: this.changeShowPanleType,\n        changeOriginUiInfo: this.changeOriginUiInfo,\n        showPanelType: this.state.showPanelType\n      }), /*#__PURE__*/_react[\"default\"].createElement(_UIDesigner[\"default\"], _defineProperty(_defineProperty(_defineProperty(_defineProperty({\n        auxiliaryLine: auxiliaryLine,\n        dragover_control_id: dragover_control_id,\n        clipboard: clipboard,\n        uiConfig: uiConfig,\n        uiInfo: uiInfo,\n        ui: ui,\n        selectControl: this.props.selectControlId,\n        select_control_id: select_control_id,\n        select_control_ids: select_control_ids,\n        refresh_ctrl_ids: refresh_ctrl_ids,\n        format_control_id: format_control_id,\n        addControl: this.props.addControl,\n        moveToControl: this.props.moveToControl,\n        onKeyDown: function onKeyDown(e) {\n          return _this8.handleShortcutKey(e);\n        },\n        updatePropValue: this.props.updatePropValue,\n        resetFillWidthHeight: this.props.resetFillWidthHeight\n      }, \"uiConfig\", uiConfig), \"isPC\", this.isPC), \"switchToFlatPanel\", this.props.switchToFlatPanel), \"selectControlIds\", this.props.selectControlIds))), /*#__PURE__*/_react[\"default\"].createElement(_UIRight[\"default\"], {\n        uiConfig: uiConfig,\n        select_control_id: select_control_id,\n        select_control_ids: select_control_ids,\n        uiInfo: uiInfo,\n        updatePropValue: this.props.updatePropValue,\n        addUiInfoValue: this.props.addUiInfoValue,\n        selectControlId: this.props.selectControlId,\n        getPropertyValue: function getPropertyValue(uiInfo, field, prop, metaType) {\n          return _model.uiModel.getPropertyValue(uiInfo, field, prop, metaType, uiConfig);\n        },\n        shareState: shareState,\n        applyContainerTemplate: this.props.applyContainerTemplate,\n        applyControlTemplate: this.props.applyControlTemplate,\n        updateUIPropValue: this.props.updateUIPropValue,\n        showPanelType: this.state.showPanelType,\n        designerType: designerType\n      })), this.state.showPanelType === 0 && /*#__PURE__*/_react[\"default\"].createElement(_TemplatePanel[\"default\"], {\n        isPC: this.isPC,\n        uiInfo: uiInfo,\n        designerType: designerType,\n        templateData: this.state.templateData,\n        showPanelType: this.state.showPanelType,\n        activeTempInfo: this.state.activeTempInfo,\n        uiConfig: uiConfig,\n        applyPageTemplate: this.props.applyPageTemplate,\n        changeShowPanleType: this.changeShowPanleType,\n        changeActiveTempInfo: this.changeActiveTempInfo,\n        changeTemplateData: this.changeTemplateData\n      }), this.state.showPanelType === 1 && /*#__PURE__*/_react[\"default\"].createElement(_FieldBindPanel[\"default\"], {\n        isPC: this.isPC,\n        changeShowPanleType: this.changeShowPanleType,\n        undo: this.props.undo,\n        showPanelType: this.state.showPanelType,\n        selectControlId: this.props.selectControlId,\n        getPageFieldInfos: function getPageFieldInfos() {\n          return _model.uiModel.getChildrenFieldInfos(uiInfo, uiConfig, rootId);\n        },\n        getBillListEntityTreeInfo: function getBillListEntityTreeInfo() {\n          return _model.uiModel.getBillListEntityTreeInfo(uiInfo);\n        }\n      }), this.state.showPanelType === 2 && /*#__PURE__*/_react[\"default\"].createElement(_FormFieldBindPanel[\"default\"], {\n        setUiInfo: this.props.setUiInfo,\n        originUiInfo: this.state.originUiInfo,\n        isPC: this.isPC,\n        changeShowPanleType: this.changeShowPanleType,\n        activeTempKey: this.state.activeTempInfo.key,\n        showPanelType: this.state.showPanelType,\n        deleteControl: function deleteControl(ctrlId) {\n          return _this8.props.deleteControl(ctrlId, uiConfig);\n        },\n        selectControlId: this.props.selectControlId,\n        getPageFieldInfos: function getPageFieldInfos() {\n          return _model.uiModel.getChildrenFieldInfos(uiInfo, uiConfig, rootId);\n        },\n        selControlId: select_control_id,\n        getBillHeaderFieldInfo: function getBillHeaderFieldInfo() {\n          return _model.uiModel.getBillHeaderFieldInfo(uiInfo);\n        },\n        addEntityControl: function addEntityControl(fieldInfo, containerId) {\n          return _this8.addEntityControl(fieldInfo, containerId);\n        },\n        getFormFieldInfo: function getFormFieldInfo(id) {\n          return _model.uiModel.getFormFieldInfo(uiInfo, id);\n        },\n        setFormMappingData: this.setFormMappingData,\n        formMappingData: this.state.formMappingData\n      }), this.state.showPanelType === 3 && /*#__PURE__*/_react[\"default\"].createElement(_EntityFieldBindPanel[\"default\"], {\n        isPC: this.isPC,\n        changeShowPanleType: this.changeShowPanleType,\n        showPanelType: this.state.showPanelType,\n        setUiInfo: this.props.setUiInfo,\n        selectControlId: this.props.selectControlId,\n        getPageFieldInfos: function getPageFieldInfos() {\n          return _model.uiModel.getChildrenFieldInfos(uiInfo, uiConfig, rootId);\n        },\n        originUiInfo: this.state.originUiInfo,\n        getBillEntryEntityInfo: function getBillEntryEntityInfo() {\n          return _model.uiModel.getBillEntryEntityInfo(uiInfo);\n        },\n        getBillEntryEntityFieldInfo: function getBillEntryEntityFieldInfo(entityId) {\n          return _model.uiModel.getBillEntryEntityFieldInfo(uiInfo, entityId);\n        },\n        setFormMappingData: this.setFormMappingData,\n        selControlId: select_control_id,\n        getControlInfoFromType: function getControlInfoFromType(controlType) {\n          return _model.uiModel.getControlInfoFromType(uiInfo, controlType);\n        },\n        addEntityControl: function addEntityControl(fieldInfo, containerId) {\n          return _this8.addEntityControl(fieldInfo, containerId);\n        },\n        deleteControl: function deleteControl(ctrlId) {\n          return _this8.props.deleteControl(ctrlId, uiConfig);\n        }\n      }), this.state.showScriptEditor && /*#__PURE__*/_react[\"default\"].createElement(_ScriptEditor[\"default\"], {\n        bizAppId: this.getBizAppId(),\n        isMobile: ['MobileBillFormModel', 'MobileFormAp', 'MobileBillFormAp', 'MobileFormModel'].includes(this.customContext.value.modelType),\n        uiConfig: uiConfig,\n        uiInfo: uiInfo,\n        uiModel: _model.uiModel,\n        value: this.props.value,\n        updatePropValue: this.props.updatePropValue,\n        onClose: this.handleCloseEditor\n      }), this.state.showScriptManager && /*#__PURE__*/_react[\"default\"].createElement(_ScriptManager[\"default\"], {\n        bizAppId: this.getBizAppId(),\n        uiInfo: uiInfo,\n        onClose: this.handleCloseManager,\n        updatePropValue: this.props.updatePropValue\n      }), this.state.scriptId && /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _Editui2[\"default\"]['script-viewer']\n      }, /*#__PURE__*/_react[\"default\"].createElement(_ScriptViewer[\"default\"], {\n        scriptId: this.state.scriptId,\n        title: uiInfo.get('caption'),\n        onClose: this.handleCloseViewer\n      })))));\n    }\n  }]);\n  return Editui;\n}(_react.Component);\nEditui.propTypes = {\n  ui: _propTypes[\"default\"].object,\n  uiConfig: _propTypes[\"default\"].object,\n  shareState: _propTypes[\"default\"].object\n};\n// static childContextTypes = {\n//   uiInfo: PropTypes.object,\n//   uiConfig: PropTypes.object,\n//   addControl: PropTypes.func,\n//   notifyMsg: PropTypes.func,\n//   clipboard: PropTypes.object,\n//   dragover_control_id: PropTypes.string,\n//   select_control_ids: PropTypes.object,\n//   fileserver: PropTypes.string,\n//   pushUndo: PropTypes.func,\n//   dragOverControl: PropTypes.func,\n//   switchToFlatPanel: PropTypes.func\n// };\nEditui.contextType = _designerContext.DesignerContext;\nvar getUiConfig = (0, _reselect.createSelector)(function (state) {\n  return state.metadata.get('uiMetadata');\n}, function (uiMetadata) {\n  return _model.metadataModel.transform(uiMetadata);\n});\nfunction mapStateToProps(state) {\n  var hidePropertyViews = state.metadata.getIn(['uiMetadata', 'hidePropertyViews'], (0, _immutable.List)());\n  var uiInfo = state.ui.get('uiInfo');\n  if (uiInfo) {\n    var designerType = uiInfo.get('designer');\n    var isDifferentIsv = uiInfo.get('isv') !== uiInfo.getIn([_propnames.FORMMETA, 'Isv']);\n    if (designerType !== undefined && designerType !== 'MobMeta' || isDifferentIsv) {\n      hidePropertyViews = hidePropertyViews.push(_constant2.PROPERTY_VIEWS.ACTION);\n    }\n  }\n  return {\n    ui: state.ui,\n    uiConfig: getUiConfig(state),\n    shareState: state.shareState,\n    disableFeatures: state.metadata.getIn(['uiMetadata', 'disableFeatures']),\n    hidePropertyViews: hidePropertyViews\n  };\n}\nvar EdituiContainer = exports.EdituiContainer = (0, _reactRedux.connect)(mapStateToProps, actionCreators)(Editui);\n\n//# sourceURL=webpack://bos-platform/./src/designer/page/Editui.jsx?");

/***/ }),

/***/ "./src/designer/page/EntityFieldBindPanel.jsx":
/*!****************************************************!*\
  !*** ./src/designer/page/EntityFieldBindPanel.jsx ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = EntityFieldBindPanel;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.array.splice.js */ \"../../node_modules/core-js/modules/es.array.splice.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _EntityFieldBindPanel = _interopRequireDefault(__webpack_require__(/*! ./EntityFieldBindPanel.less */ \"./src/designer/page/EntityFieldBindPanel.less\"));\nvar _classnames3 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _PanelWithOutside = _interopRequireDefault(__webpack_require__(/*! @/component/common/PanelWithOutside */ \"./src/component/common/PanelWithOutside.js\"));\nvar _designerContext = __webpack_require__(/*! ../controls/common/designerContext */ \"./src/designer/controls/common/designerContext.js\");\nvar _FieldBindingModule = __webpack_require__(/*! ./FieldBindingModule */ \"./src/designer/page/FieldBindingModule.jsx\");\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _uid = _interopRequireDefault(__webpack_require__(/*! ../utils/uid */ \"./src/designer/utils/uid.js\"));\nvar _fieldBindFunction = __webpack_require__(/*! ../model/fieldBindFunction */ \"./src/designer/model/fieldBindFunction.js\");\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nvar entityfieldidname = {}; // 卡片字段id-name集合\n\nfunction EntityFieldBindPanel(props) {\n  var isPC = props.isPC,\n    changeShowPanleType = props.changeShowPanleType,\n    showPanelType = props.showPanelType,\n    selectControlId = props.selectControlId,\n    getPageFieldInfos = props.getPageFieldInfos,\n    setUiInfo = props.setUiInfo,\n    originUiInfo = props.originUiInfo,\n    getBillEntryEntityFieldInfo = props.getBillEntryEntityFieldInfo,\n    getBillEntryEntityInfo = props.getBillEntryEntityInfo,\n    setFormMappingData = props.setFormMappingData,\n    getControlInfoFromType = props.getControlInfoFromType,\n    addEntityControl = props.addEntityControl,\n    selControlId = props.selControlId,\n    deleteControl = props.deleteControl;\n  var inputRef = (0, _react.useRef)();\n  var _useContext = (0, _react.useContext)(_designerContext.EdituiContext),\n    model = _useContext.model;\n  var _useState = (0, _react.useState)((0, _immutable.List)()),\n    _useState2 = _slicedToArray(_useState, 2),\n    mappingTableData = _useState2[0],\n    setMappingTableData = _useState2[1]; // 单据头已选表数据\n  var _useState3 = (0, _react.useState)({}),\n    _useState4 = _slicedToArray(_useState3, 2),\n    mappingActiveIndex = _useState4[0],\n    setmappingActiveIndex = _useState4[1]; // 已选表焦点行索引\n  var _useState5 = (0, _react.useState)((0, _immutable.List)()),\n    _useState6 = _slicedToArray(_useState5, 2),\n    entityTableData = _useState6[0],\n    setEntityTableData = _useState6[1]; // 待选表数据\n  var _useState7 = (0, _react.useState)(false),\n    _useState8 = _slicedToArray(_useState7, 2),\n    isSearch = _useState8[0],\n    setIsSearch = _useState8[1]; // 当前是否搜索结果\n  var _useState9 = (0, _react.useState)((0, _immutable.List)()),\n    _useState10 = _slicedToArray(_useState9, 2),\n    entityAllData = _useState10[0],\n    setEntityAllData = _useState10[1]; // 所有实体字段数据\n  var _useState11 = (0, _react.useState)(),\n    _useState12 = _slicedToArray(_useState11, 2),\n    entitytList = _useState12[0],\n    setEntitytList = _useState12[1]; // 实体中单据体数据\n  var _useState13 = (0, _react.useState)((0, _immutable.Map)()),\n    _useState14 = _slicedToArray(_useState13, 2),\n    EntitylistVal = _useState14[0],\n    setEntitylistVal = _useState14[1]; // 选中的单据体key值\n  var _useState15 = (0, _react.useState)(),\n    _useState16 = _slicedToArray(_useState15, 2),\n    parentCtrlId = _useState16[0],\n    setparentCtrlId = _useState16[1]; // 当前卡片容器ID\n\n  (0, _react.useEffect)(function () {\n    var mappingData = getPageFieldInfos(); // 获取模板字段数据\n    var entitytList = getBillEntryEntityInfo(); // 获取实体单据体数据\n    setEntitytList(entitytList);\n    handleEntityListClick(entitytList && entitytList.get(0));\n    var entityFieldList = mappingData && mappingData.filter(function (item) {\n      return item.get('type') !== 'FieldAp';\n    }); // 过滤出模板字段中的单据体字段\n    var fieldList = entityFieldList && entityFieldList.map(function (item) {\n      var fieldId = item.get('fieldId');\n      var id = item.get('id');\n      var name = item.get('name');\n      if (fieldId) {\n        var newname = entityfieldidname[id];\n        item = item.set('name', newname);\n      } else {\n        entityfieldidname[id] = name;\n      }\n      return item;\n    }); // 如果是二次绑定，需要把name回退到初始值，保证清空时name正确\n    var cardInfo = getControlInfoFromType('CardEntryRowAp');\n    var cardControlId = cardInfo.getIn([0, 'Id']);\n    var footerInfo = (0, _immutable.fromJS)({\n      name: \"+\".concat((0, _intlApi.getLangMsg)('bosd.entityFieldBindPanel.key0001')),\n      parentId: cardControlId,\n      isFooter: true,\n      id: (0, _uid[\"default\"])(10)\n    });\n    var newEntityFieldList = fieldList.push(footerInfo);\n    setMappingTableData(newEntityFieldList);\n    setparentCtrlId(cardControlId);\n    handleMappingItemClick('', 0); // 初始化字段聚焦已选表第一行\n  }, []);\n\n  // 判断当前设计器中选中控件id的变化，如果不是父容器的id，就把id填进已选表新增字段的映射id，并更新已选表\n  (0, _react.useEffect)(function () {\n    if (parentCtrlId && selControlId !== parentCtrlId) {\n      var newdata = (0, _fieldBindFunction.formatNewField)(mappingTableData, selControlId);\n      setMappingTableData(newdata);\n    }\n  }, [selControlId]);\n\n  // 更新已选表数据\n  var changeMappingData = (0, _react.useCallback)(function (key, fieldId, Name) {\n    var activeindex = mappingActiveIndex.index;\n    var newdata = (0, _fieldBindFunction.getNewMappingData)(activeindex, mappingTableData, key, fieldId, Name);\n    newdata && setMappingTableData(newdata);\n    var activedata = newdata && newdata.get(activeindex);\n    setDesignerData(activedata);\n  }, [mappingActiveIndex, mappingTableData]);\n\n  // 已选表字段聚焦事件\n  var handleMappingItemClick = (0, _react.useCallback)(function (key, index) {\n    var isFooter = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    // 设计器选中卡片节点\n    selectControlId(parentCtrlId); // 'yNu9U0rWKc'\n    setmappingActiveIndex({\n      index: index,\n      isFooter: isFooter\n    });\n  }, [selectControlId, parentCtrlId]);\n\n  // 待选表字段点击事件\n  var handleEntityItemClick = (0, _react.useCallback)(function (key, index, fieldId, Name) {\n    var activeindex = mappingActiveIndex.index;\n    var isFooter = mappingActiveIndex.isFooter;\n    if (!isFooter) {\n      // 如果当前已选表焦点行不是当前容器的尾行，更新已选表信息\n      changeMappingData(key, fieldId, Name);\n      var newindex = activeindex + 1;\n      var isNewFooter = mappingTableData.getIn([newindex, 'isFooter']);\n      if (!isNewFooter) {\n        // 如果更新后已选表焦点行不是最后一行，聚焦下一行\n        handleMappingItemClick('', newindex);\n      } else {\n        // 如果更新后已选表焦点行是最后一行，将焦点行索引+1\n        setmappingActiveIndex({\n          index: newindex,\n          isFooter: isNewFooter\n        });\n      }\n    } else {\n      // 如果当前已选表焦点行是最后一行\n      var _newindex = activeindex + 1;\n      var tabledata = entityTableData.get(index);\n      var Id = tabledata.Id;\n      var _Name = tabledata.Name;\n      addEntityControl(Id, parentCtrlId); // 根据父容器id新增字段\n      var newmappingfield = {\n        name: _Name,\n        fieldId: fieldId,\n        fieldKey: key,\n        parentId: parentCtrlId,\n        type: 'CardEntryFieldAp',\n        temporaryId: (0, _uid[\"default\"])(10),\n        newField: true\n      }; // 构建新字段的已选表数据\n\n      var newdata = mappingTableData.splice(activeindex, 0, (0, _immutable.fromJS)(newmappingfield));\n      setMappingTableData(newdata); // 更新已选表数据\n      setmappingActiveIndex({\n        index: _newindex,\n        isFooter: true\n      }); // 焦点行索引+1，下次点击继续新增\n    }\n  }, [mappingActiveIndex, changeMappingData, mappingTableData, handleMappingItemClick, entityTableData, addEntityControl]);\n\n  // 取消操作，关闭界面，将初始页面元数据注入设计器\n  var handleCancelClick = (0, _react.useCallback)(function () {\n    changeShowPanleType();\n    setFormMappingData((0, _immutable.List)());\n    setUiInfo && setUiInfo(originUiInfo);\n  }, [changeShowPanleType, setFormMappingData, setUiInfo, originUiInfo]);\n\n  // 映射关系注入设计器\n  var setDesignerData = (0, _react.useCallback)(function (data) {\n    var result = (0, _fieldBindFunction.formatResultsSingleForm)(data, entityAllData);\n    model.pub_Event('setProperty', [result]);\n  }, [entityAllData]);\n\n  // 确定操作，关闭界面，映射关系注入设计器\n  var handleConfirmClick = function handleConfirmClick() {\n    changeShowPanleType();\n    setFormMappingData((0, _immutable.List)());\n  };\n\n  // 上一步，打开上一个界面\n  var handleBackClick = (0, _react.useCallback)(function () {\n    changeShowPanleType(2);\n  }, [changeShowPanleType]);\n\n  // 清空按钮，清空已选表焦点行的映射信息\n  var handleDeleteClick = (0, _react.useCallback)(function (key) {\n    changeMappingData(key);\n  }, [changeMappingData]);\n\n  // 搜索操作\n  var handleSearch = (0, _react.useCallback)(function (str) {\n    if (str === '' || str == undefined) {\n      setEntityTableData(entityAllData);\n      setIsSearch(false);\n    } else {\n      var filterArr = (0, _fieldBindFunction.filterData)(str, entityAllData) || (0, _immutable.List)();\n      setEntityTableData(filterArr);\n      setIsSearch(true);\n    }\n  }, [entityAllData]);\n\n  // 单据头下拉列表点击事件\n  var handleEntityListClick = function handleEntityListClick(item, bindKey) {\n    if (!item) return;\n    var key = item.get('Key');\n    var id = item.get('EntryId');\n    setEntitylistVal(item);\n    var data = getBillEntryEntityFieldInfo(id); // 获取单据体实体字段数据\n    setEntityTableData(data);\n    setEntityAllData(data);\n    var cardInfo = getControlInfoFromType('CardEntryAp');\n    var cardControlId = cardInfo.getIn([0, 'Id']);\n    var resultItemArr = []; // VAZMFoJDCR\n    resultItemArr[0] = {\n      alias: key,\n      itemId: cardControlId,\n      metaType: 'formmeta',\n      propertyName: 'EntryId',\n      value: id\n    };\n    resultItemArr[1] = {\n      alias: key,\n      itemId: cardControlId,\n      metaType: 'formmeta',\n      propertyName: 'Key',\n      value: key\n    };\n    if (bindKey) {\n      var newmappingdata = mappingTableData && mappingTableData.map(function (v) {\n        var newitem = v.set('fieldKey', '');\n        newitem = newitem.set('fieldId', '');\n        newitem = newitem.set('Name', '');\n        return newitem;\n      });\n      setMappingTableData(newmappingdata);\n      var result = (0, _fieldBindFunction.formatResultsForm)(newmappingdata, entityAllData);\n      resultItemArr = resultItemArr.concat(result);\n      setmappingActiveIndex({\n        index: 0,\n        isFooter: false\n      });\n    }\n    model.pub_Event('setProperty', [resultItemArr]); // 单据体关联实体\n  };\n\n  // 删除已选表中的一行字段\n  var deleteMappingItem = (0, _react.useCallback)(function (index) {\n    var deleteId = mappingTableData.getIn([index, 'id']);\n    deleteControl(deleteId); // 删除设计器中对应的字段\n    var newdata = mappingTableData[\"delete\"](index);\n    setMappingTableData(newdata);\n    var isFooter = newdata.getIn([index, 'isFooter']);\n    handleMappingItemClick('', index, isFooter); // 聚焦下一行\n  }, [mappingTableData, deleteControl, handleMappingItemClick]);\n  if (isPC || showPanelType !== 3) return null;\n  return /*#__PURE__*/_react[\"default\"].createElement(_PanelWithOutside[\"default\"], {\n    onCLickOutside: handleCancelClick\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _EntityFieldBindPanel[\"default\"].shadebox\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _EntityFieldBindPanel[\"default\"].root\n  }, /*#__PURE__*/_react[\"default\"].createElement(_FieldBindingModule.Header, {\n    title: (0, _intlApi.getLangMsg)('bosd.entityFieldBindPanel.key0002')\n  }), /*#__PURE__*/_react[\"default\"].createElement(_FieldBindingModule.HeaderTip, {\n    tiptext: (0, _intlApi.getLangMsg)('bosd.entityFieldBindPanel.key0003')\n  }), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _EntityFieldBindPanel[\"default\"].selectbox\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _EntityFieldBindPanel[\"default\"].titlecontent\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", null, (0, _intlApi.getLangMsg)('bosd.entityFieldBindPanel.key0004')), /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: (0, _classnames3[\"default\"])(_EntityFieldBindPanel[\"default\"].mustinput, 'require-icon')\n  }, \"*\")), /*#__PURE__*/_react[\"default\"].createElement(EntityListPanel, {\n    entitytList: entitytList,\n    handleEntityListClick: handleEntityListClick,\n    EntitylistVal: EntitylistVal\n  })), /*#__PURE__*/_react[\"default\"].createElement(Content, {\n    handleEntityItemClick: handleEntityItemClick,\n    mappingActiveIndex: mappingActiveIndex.index,\n    entityTableData: entityTableData,\n    isSearch: isSearch,\n    deleteMappingItem: deleteMappingItem,\n    handleMappingItemClick: handleMappingItemClick,\n    handleDeleteClick: handleDeleteClick,\n    mappingTableData: mappingTableData,\n    inputRef: inputRef,\n    handleSearch: handleSearch\n  }), /*#__PURE__*/_react[\"default\"].createElement(_FieldBindingModule.Footter, {\n    handleCancelClick: handleCancelClick,\n    handleConfirmClick: handleConfirmClick,\n    handleBackClick: handleBackClick,\n    buttonType: 7\n  })), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _EntityFieldBindPanel[\"default\"].shade\n  })));\n}\nfunction Content(props) {\n  var handleEntityItemClick = props.handleEntityItemClick,\n    handleMappingItemClick = props.handleMappingItemClick,\n    mappingActiveIndex = props.mappingActiveIndex,\n    handleDeleteClick = props.handleDeleteClick,\n    mappingTableData = props.mappingTableData,\n    inputRef = props.inputRef,\n    handleSearch = props.handleSearch,\n    entityTableData = props.entityTableData,\n    isSearch = props.isSearch,\n    deleteMappingItem = props.deleteMappingItem;\n  var divisionIcon = (0, _classnames3[\"default\"])(_defineProperty({\n    'kdfont kdfont-houfan': true\n  }, _EntityFieldBindPanel[\"default\"].divisionicon, true));\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _EntityFieldBindPanel[\"default\"].content\n  }, /*#__PURE__*/_react[\"default\"].createElement(EntityTablePanel, {\n    handleEntityItemClick: handleEntityItemClick,\n    inputRef: inputRef,\n    handleSearch: handleSearch,\n    entityTableData: entityTableData,\n    isSearch: isSearch,\n    mappingTableData: mappingTableData\n  }), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _EntityFieldBindPanel[\"default\"].divisionbox\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: divisionIcon\n  })), /*#__PURE__*/_react[\"default\"].createElement(MappingTablePanel, {\n    handleMappingItemClick: handleMappingItemClick,\n    mappingActiveIndex: mappingActiveIndex,\n    handleDeleteClick: handleDeleteClick,\n    mappingTableData: mappingTableData,\n    deleteMappingItem: deleteMappingItem\n  }));\n}\nfunction MappingTablePanel(props) {\n  var handleDeleteClick = props.handleDeleteClick,\n    mappingTableData = props.mappingTableData,\n    handleMappingItemClick = props.handleMappingItemClick,\n    mappingActiveIndex = props.mappingActiveIndex,\n    deleteMappingItem = props.deleteMappingItem;\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _EntityFieldBindPanel[\"default\"].mappingpanel\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _EntityFieldBindPanel[\"default\"].mappingtitle\n  }, (0, _intlApi.getLangMsg)('bosd.entityFieldBindPanel.key0005')), /*#__PURE__*/_react[\"default\"].createElement(_FieldBindingModule.MappingGroupTable, {\n    handleMappingItemClick: handleMappingItemClick,\n    mappingActiveIndex: mappingActiveIndex,\n    handleDeleteClick: handleDeleteClick,\n    mappingTableData: mappingTableData,\n    deleteMappingItem: deleteMappingItem\n  }));\n}\nfunction EntityTablePanel(props) {\n  var handleSearch = props.handleSearch,\n    inputRef = props.inputRef,\n    handleEntityItemClick = props.handleEntityItemClick,\n    entityTableData = props.entityTableData,\n    isSearch = props.isSearch,\n    mappingTableData = props.mappingTableData;\n  var slectedFieldArr = mappingTableData && mappingTableData.map(function (item) {\n    return item.get('fieldId');\n  });\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _EntityFieldBindPanel[\"default\"].entitytablepanle\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _EntityFieldBindPanel[\"default\"].entityheader\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _EntityFieldBindPanel[\"default\"].entityname\n  }, (0, _intlApi.getLangMsg)('bosd.entityFieldBindPanel.key0006')), /*#__PURE__*/_react[\"default\"].createElement(_FieldBindingModule.SearchBar, {\n    inputRef: inputRef,\n    handleSearch: handleSearch\n  })), /*#__PURE__*/_react[\"default\"].createElement(_FieldBindingModule.EntityTable, {\n    handleEntityItemClick: handleEntityItemClick,\n    entityTableData: entityTableData,\n    isSearch: isSearch,\n    isEntity: true,\n    slectedFieldArr: slectedFieldArr\n  }));\n}\nfunction EntityListPanel(props) {\n  var _useState17 = (0, _react.useState)(false),\n    _useState18 = _slicedToArray(_useState17, 2),\n    isShowpullPanel = _useState18[0],\n    setShowPullPanel = _useState18[1]; // 是否显示单据体下拉列表\n\n  var entitytList = props.entitytList,\n    handleEntityListClick = props.handleEntityListClick,\n    EntitylistVal = props.EntitylistVal;\n  var entityInputClick = (0, _react.useCallback)(function () {\n    setShowPullPanel(function (_isShowpullPanel) {\n      return !_isShowpullPanel;\n    });\n  }, []);\n  var bindKey = EntitylistVal.get('Key');\n  var itemClick = (0, _react.useCallback)(function (item, key) {\n    if (!item) return;\n    setShowPullPanel(false);\n    if (key !== bindKey) {\n      handleEntityListClick(item, bindKey);\n    }\n  }, [handleEntityListClick, bindKey]);\n  var pulldownIcon = (0, _classnames3[\"default\"])({\n    'kdfont kdfont-xiala': !isShowpullPanel,\n    'kdfont kdfont-shangla': isShowpullPanel\n  });\n  return /*#__PURE__*/_react[\"default\"].createElement(_PanelWithOutside[\"default\"], {\n    onCLickOutside: function onCLickOutside() {\n      return setShowPullPanel(false);\n    }\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _EntityFieldBindPanel[\"default\"].selectcontent\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _EntityFieldBindPanel[\"default\"].inputbox,\n    onClick: entityInputClick\n  }, EntitylistVal && EntitylistVal.size > 0 && /*#__PURE__*/_react[\"default\"].createElement(\"input\", {\n    type: \"text\",\n    className: _EntityFieldBindPanel[\"default\"].inputtext,\n    value: \"\".concat(EntitylistVal.get('Name'), \"\\uFF08\").concat(EntitylistVal.get('Key'), \"\\uFF09\"),\n    readOnly: true\n  }), /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n    className: pulldownIcon\n  })), isShowpullPanel && /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _EntityFieldBindPanel[\"default\"].pulldownpanel\n  }, entitytList && entitytList.size > 0 ? entitytList.map(function (item) {\n    var name = item && item.get('Name');\n    var key = item && item.get('Key');\n    var entitylist = (0, _classnames3[\"default\"])(_defineProperty(_defineProperty({}, _EntityFieldBindPanel[\"default\"].entitylist, true), _EntityFieldBindPanel[\"default\"].activeentity, key === bindKey));\n    return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: entitylist,\n      key: item.get('EntryId'),\n      onClick: function onClick() {\n        return itemClick(item, key);\n      }\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n      className: _EntityFieldBindPanel[\"default\"].spantext,\n      title: name\n    }, name), /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n      className: _EntityFieldBindPanel[\"default\"].spantext,\n      title: key\n    }, key));\n  }) : /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _EntityFieldBindPanel[\"default\"].entitynodata\n  }, (0, _intlApi.getLangMsg)('bosd.entityFieldBindPanel.key0007')))));\n}\n\n//# sourceURL=webpack://bos-platform/./src/designer/page/EntityFieldBindPanel.jsx?");

/***/ }),

/***/ "./src/designer/page/FastLayout.jsx":
/*!******************************************!*\
  !*** ./src/designer/page/FastLayout.jsx ***!
  \******************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _reactTooltip = _interopRequireDefault(__webpack_require__(/*! react-tooltip */ \"../../node_modules/react-tooltip/dist/index.es.js\"));\nvar _classnames7 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _Switch = _interopRequireDefault(__webpack_require__(/*! ../../component/web/base/Switch */ \"./src/component/web/base/Switch.js\"));\nvar _commonUtils = _interopRequireDefault(__webpack_require__(/*! ../../component/common/commonUtils */ \"./src/component/common/commonUtils.js\"));\nvar _rcSelect = _interopRequireWildcard(__webpack_require__(/*! rc-select */ \"../../node_modules/rc-select/es/index.js\"));\nvar _FastLayout = _interopRequireDefault(__webpack_require__(/*! ./FastLayout.less */ \"./src/designer/page/FastLayout.less\"));\nvar _layoutTempls = __webpack_require__(/*! ./layoutTempls */ \"./src/designer/page/layoutTempls.js\");\nvar _Collapse = _interopRequireDefault(__webpack_require__(/*! ../component/Collapse */ \"./src/designer/component/Collapse.jsx\"));\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction FastLayout(props) {\n  var onResult = function onResult(newValues) {\n    var Wrap = newValues.Wrap,\n      Direction = newValues.Direction,\n      AlignContent = newValues.AlignContent,\n      AlignItems = newValues.AlignItems,\n      JustifyContent = newValues.JustifyContent;\n    var field = props.field,\n      uiInfo = props.uiInfo,\n      updatePropValue = props.updatePropValue,\n      getPropertyValue = props.getPropertyValue;\n    var oldAlignItems = getPropertyValue(uiInfo, field, 'AlignItems');\n    var oldAlignContent = getPropertyValue(uiInfo, field, 'AlignContent');\n    var oldJustifyContent = getPropertyValue(uiInfo, field, 'JustifyContent');\n    var oldWrap = getPropertyValue(uiInfo, field, 'Wrap');\n    var oldDirection = getPropertyValue(uiInfo, field, 'Direction');\n    var result = [{\n      propName: 'Wrap',\n      newValue: Wrap === oldWrap ? undefined : Wrap\n    }, {\n      propName: 'JustifyContent',\n      newValue: JustifyContent === oldJustifyContent ? undefined : JustifyContent\n    }, {\n      propName: 'Direction',\n      newValue: Direction === oldDirection ? undefined : Direction\n    }, {\n      propName: 'AlignContent',\n      newValue: AlignContent === oldAlignContent ? undefined : AlignContent\n    }, {\n      propName: 'AlignItems',\n      newValue: AlignItems === oldAlignItems ? undefined : AlignItems\n    }];\n    result = result.filter(function (prop) {\n      return prop.newValue !== undefined;\n    });\n    updatePropValue(result);\n  };\n  var field = props.field,\n    uiInfo = props.uiInfo,\n    getPropertyValue = props.getPropertyValue,\n    layoutPropEditors = props.layoutPropEditors;\n  var rootType = uiInfo.getIn(['ui', 'Type']);\n  var types = [rootType, 'FlexPanelAp', 'CardEntryViewAp', 'SubCardEntryViewAp', 'CardEntryFlexPanelAp', 'CardFlexPanelAp', 'AdvConChildPanelAp', 'SplitPanelAp', 'ListCardViewAp', 'MessageCarouselContainerAp', 'CardEntryFixRowAp', 'CardEntryRowAp', 'CardRowPanelAp', 'MessageCarouselFlexPanelAp', 'GridFlatPanelAp', 'EntryFieldContainerAp', 'CardEntryFixRowPanelAp', 'MTabBarItemAp'];\n  if (!_lodash[\"default\"].includes(types, field.get('Type'))) {\n    return null;\n  }\n  var AlignItems = getPropertyValue(uiInfo, field, 'AlignItems');\n  var AlignContent = getPropertyValue(uiInfo, field, 'AlignContent');\n  var JustifyContent = getPropertyValue(uiInfo, field, 'JustifyContent');\n  var Wrap = getPropertyValue(uiInfo, field, 'Wrap');\n  var Direction = getPropertyValue(uiInfo, field, 'Direction');\n  var layout = {\n    AlignItems: AlignItems,\n    AlignContent: AlignContent,\n    JustifyContent: JustifyContent,\n    Wrap: Wrap,\n    Direction: Direction\n  };\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FastLayout[\"default\"].layoutpanel\n  }, /*#__PURE__*/_react[\"default\"].createElement(_Collapse[\"default\"], {\n    title: (0, _intlApi.getLangMsg)('bosd.fastLayout.key0001')\n  }, /*#__PURE__*/_react[\"default\"].createElement(LayoutTemplatePanel, {\n    onResult: onResult\n  })), /*#__PURE__*/_react[\"default\"].createElement(_Collapse[\"default\"], {\n    title: (0, _intlApi.getLangMsg)('bosd.fastLayout.key0002')\n  }, /*#__PURE__*/_react[\"default\"].createElement(AdvancedLayoutPanel, {\n    onResult: onResult,\n    layout: layout,\n    layoutPropEditors: layoutPropEditors\n  })));\n}\nfunction LayoutTemplatePanel(props) {\n  var imgs = _lodash[\"default\"].map(_layoutTempls.layoutTempls, function (item, index) {\n    return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      key: index\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"img\", {\n      \"data-tip\": item.describe,\n      className: _FastLayout[\"default\"].temImg,\n      src: item.imgsrc,\n      onClick: function onClick() {\n        props.onResult(item.layout);\n      }\n    }), /*#__PURE__*/_react[\"default\"].createElement(_reactTooltip[\"default\"], {\n      place: \"left\",\n      type: \"success\"\n    }));\n  });\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FastLayout[\"default\"].tempRoot\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FastLayout[\"default\"].temImgPanel\n  }, imgs));\n}\nfunction AdvancedLayoutPanel(props) {\n  var _useState = (0, _react.useState)(props.layout),\n    _useState2 = _slicedToArray(_useState, 2),\n    layout = _useState2[0],\n    setLayout = _useState2[1];\n  (0, _react.useEffect)(function () {\n    setLayout(props.layout);\n  }, [props.layout]);\n  var choose = function choose(name, value) {\n    var newLayout = Object.assign(layout, _defineProperty({}, name, value));\n    setLayout(newLayout);\n    props.onResult(newLayout);\n  };\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FastLayout[\"default\"].advRoot,\n    tabIndex: \"1\"\n  }, /*#__PURE__*/_react[\"default\"].createElement(ChoosePanel, _extends({\n    choose: choose\n  }, layout)), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FastLayout[\"default\"].preview\n  }, (0, _intlApi.getLangMsg)('bosd.fastLayout.key0003')), /*#__PURE__*/_react[\"default\"].createElement(FlexContainer, _extends({}, layout, {\n    onResult: function onResult() {\n      return props.onResult(layout);\n    }\n  })), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FastLayout[\"default\"]['other-props-list']\n  }, props.layoutPropEditors));\n}\nfunction FlexContainer(props) {\n  var Wrap = props.Wrap,\n    Direction = props.Direction,\n    AlignItems = props.AlignItems,\n    JustifyContent = props.JustifyContent,\n    AlignContent = props.AlignContent;\n  AlignItems = AlignItems === 'default' ? 'flex-start' : AlignItems;\n  AlignContent = AlignContent === 'default' ? 'flex-start' : AlignContent;\n  JustifyContent = JustifyContent === 'default' ? 'flex-start' : JustifyContent;\n  var containerClassNames = (0, _classnames7[\"default\"])(_FastLayout[\"default\"].container, (0, _commonUtils[\"default\"])({\n    Wrap: Wrap,\n    Direction: Direction,\n    AlignItems: AlignItems,\n    JustifyContent: JustifyContent,\n    AlignContent: AlignContent\n  }));\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: containerClassNames\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames7[\"default\"])(_FastLayout[\"default\"].child, _FastLayout[\"default\"].item1, _defineProperty({}, _FastLayout[\"default\"].wrap, !Wrap))\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FastLayout[\"default\"].num\n  }, \"1\")), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames7[\"default\"])(_FastLayout[\"default\"].child, _FastLayout[\"default\"].item2, _defineProperty({}, _FastLayout[\"default\"].wrap, !Wrap))\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FastLayout[\"default\"].num\n  }, \"2\")), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames7[\"default\"])(_FastLayout[\"default\"].child, _FastLayout[\"default\"].item3, _defineProperty({}, _FastLayout[\"default\"].wrap, !Wrap))\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FastLayout[\"default\"].num\n  }, \"3\")), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames7[\"default\"])(_FastLayout[\"default\"].child, _FastLayout[\"default\"].item4, _defineProperty({}, _FastLayout[\"default\"].wrap, !Wrap))\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FastLayout[\"default\"].num\n  }, \"4\")), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames7[\"default\"])(_FastLayout[\"default\"].child, _FastLayout[\"default\"].item5, _defineProperty({}, _FastLayout[\"default\"].wrap, !Wrap))\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FastLayout[\"default\"].num\n  }, \"5\")), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames7[\"default\"])(_FastLayout[\"default\"].child, _FastLayout[\"default\"].item6, _defineProperty({}, _FastLayout[\"default\"].wrap, !Wrap))\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FastLayout[\"default\"].num\n  }, \"6\")));\n}\nvar AlignItemsList = [{\n  show: \"\".concat((0, _intlApi.getLangMsg)('bosd.fastLayout.key0004'), \"(flex-start)\"),\n  val: 'flex-start'\n}, {\n  show: \"\".concat((0, _intlApi.getLangMsg)('bosd.fastLayout.key0005'), \"(center)\"),\n  val: 'center'\n}, {\n  show: \"\".concat((0, _intlApi.getLangMsg)('bosd.fastLayout.key0006'), \"(flex-end)\"),\n  val: 'flex-end'\n}, {\n  show: \"\".concat((0, _intlApi.getLangMsg)('bosd.fastLayout.key0007'), \"(stretch)\"),\n  val: 'stretch'\n}, {\n  show: \"\".concat((0, _intlApi.getLangMsg)('bosd.fastLayout.key0009'), \"(baseline)\"),\n  val: 'baseline'\n}];\nvar AlignContentList = [{\n  show: \"\".concat((0, _intlApi.getLangMsg)('bosd.fastLayout.key0004'), \"(flex-start)\"),\n  val: 'flex-start'\n}, {\n  show: \"\".concat((0, _intlApi.getLangMsg)('bosd.fastLayout.key0005'), \"(center)\"),\n  val: 'center'\n}, {\n  show: \"\".concat((0, _intlApi.getLangMsg)('bosd.fastLayout.key0006'), \"(flex-end)\"),\n  val: 'flex-end'\n}, {\n  show: \"\".concat((0, _intlApi.getLangMsg)('bosd.fastLayout.key0007'), \"(stretch)\"),\n  val: 'stretch'\n}, {\n  show: \"\".concat((0, _intlApi.getLangMsg)('bosd.fastLayout.key0008'), \"(space-between)\"),\n  val: 'space-between'\n}, {\n  show: \"\".concat((0, _intlApi.getLangMsg)('bosd.fastLayout.key0010'), \"(space-around)\"),\n  val: 'space-around'\n}];\nvar JustifyContentList = [{\n  show: \"\".concat((0, _intlApi.getLangMsg)('bosd.fastLayout.key0004'), \"(flex-start)\"),\n  val: 'flex-start'\n}, {\n  show: \"\".concat((0, _intlApi.getLangMsg)('bosd.fastLayout.key0005'), \"(center)\"),\n  val: 'center'\n}, {\n  show: \"\".concat((0, _intlApi.getLangMsg)('bosd.fastLayout.key0006'), \"(flex-end)\"),\n  val: 'flex-end'\n}, {\n  show: \"\".concat((0, _intlApi.getLangMsg)('bosd.fastLayout.key0008'), \"(space-between)\"),\n  val: 'space-between'\n}, {\n  show: \"\".concat((0, _intlApi.getLangMsg)('bosd.fastLayout.key0010'), \"(space-around)\"),\n  val: 'space-around'\n}];\nfunction ChoosePanel(props) {\n  var Wrap = props.Wrap,\n    Direction = props.Direction,\n    JustifyContent = props.JustifyContent,\n    AlignItems = props.AlignItems,\n    AlignContent = props.AlignContent,\n    choose = props.choose;\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    tabIndex: \"2\",\n    className: _FastLayout[\"default\"].choose\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FastLayout[\"default\"].field,\n    title: \"Direction:row\"\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", null, (0, _intlApi.getLangMsg)('bosd.fastLayout.key0011')), /*#__PURE__*/_react[\"default\"].createElement(_Switch[\"default\"], {\n    value: Direction === 'row',\n    size: 3,\n    onClick: function onClick() {\n      return choose('Direction', Direction === 'row' ? 'column' : 'row');\n    }\n  })), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FastLayout[\"default\"].field,\n    title: \"Wrap\"\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", null, (0, _intlApi.getLangMsg)('bosd.fastLayout.key0012')), /*#__PURE__*/_react[\"default\"].createElement(_Switch[\"default\"], {\n    value: Wrap,\n    size: 3,\n    onClick: function onClick(e) {\n      return choose('Wrap', !Wrap);\n    }\n  })), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FastLayout[\"default\"].field,\n    title: \"Direction:column\"\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", null, (0, _intlApi.getLangMsg)('bosd.fastLayout.key0013')), /*#__PURE__*/_react[\"default\"].createElement(_Switch[\"default\"], {\n    value: Direction === 'column',\n    size: 3,\n    onClick: function onClick() {\n      return choose('Direction', Direction === 'row' ? 'column' : 'row');\n    }\n  })), /*#__PURE__*/_react[\"default\"].createElement(FieldPanel, {\n    propName: \"JustifyContent\",\n    title: \"JustifyContent\",\n    showName: Direction === 'row' ? (0, _intlApi.getLangMsg)('bosd.fastLayout.key0014') : (0, _intlApi.getLangMsg)('bosd.fastLayout.key0015'),\n    propValueList: JustifyContentList,\n    value: JustifyContent || 'flex-start',\n    choose: choose\n  }), /*#__PURE__*/_react[\"default\"].createElement(FieldPanel, {\n    propName: \"AlignItems\",\n    title: \"AlignItems\",\n    showName: Direction === 'row' ? (0, _intlApi.getLangMsg)('bosd.fastLayout.key0015') : (0, _intlApi.getLangMsg)('bosd.fastLayout.key0014'),\n    propValueList: AlignItemsList,\n    value: AlignItems || 'flex-start',\n    choose: choose\n  }), Wrap && /*#__PURE__*/_react[\"default\"].createElement(FieldPanel, {\n    propName: \"AlignContent\",\n    title: \"AlignContent\",\n    showName: Direction === 'row' ? (0, _intlApi.getLangMsg)('bosd.fastLayout.key0016') : (0, _intlApi.getLangMsg)('bosd.fastLayout.key0017'),\n    propValueList: AlignContentList,\n    value: AlignContent || 'flex-start',\n    choose: choose\n  }));\n}\nfunction FieldPanel(props) {\n  var value = props.value,\n    propName = props.propName,\n    propValueList = props.propValueList,\n    choose = props.choose,\n    title = props.title,\n    showName = props.showName;\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FastLayout[\"default\"].select_container,\n    title: title\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", null, showName), /*#__PURE__*/_react[\"default\"].createElement(_rcSelect[\"default\"], {\n    defaultValue: value,\n    animation: \"slide-up\",\n    showSearch: false,\n    className: _FastLayout[\"default\"].select + ' __properView__',\n    dropdownMenuStyle: {\n      maxHeight: 200,\n      overflow: 'auto'\n    },\n    onChange: function onChange(value) {\n      return choose(propName, value);\n    },\n    value: value\n  }, /*#__PURE__*/_react[\"default\"].createElement(_rcSelect.Option, {\n    key: \"default\",\n    value: \"default\"\n  }, (0, _intlApi.getLangMsg)('bosd.fastLayout.key0018')), propValueList.map(function (item) {\n    return /*#__PURE__*/_react[\"default\"].createElement(_rcSelect.Option, {\n      key: item.val,\n      value: item.val\n    }, item.show);\n  })));\n}\nvar _default = exports[\"default\"] = FastLayout;\n\n//# sourceURL=webpack://bos-platform/./src/designer/page/FastLayout.jsx?");

/***/ }),

/***/ "./src/designer/page/FieldBindPanel.jsx":
/*!**********************************************!*\
  !*** ./src/designer/page/FieldBindPanel.jsx ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = FieldBindPanel;\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.timers.js */ \"../../node_modules/core-js/modules/web.timers.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _FieldBindPanel = _interopRequireDefault(__webpack_require__(/*! ./FieldBindPanel.less */ \"./src/designer/page/FieldBindPanel.less\"));\nvar _classnames2 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _PanelWithOutside = _interopRequireDefault(__webpack_require__(/*! @/component/common/PanelWithOutside */ \"./src/component/common/PanelWithOutside.js\"));\nvar _designerContext = __webpack_require__(/*! ../controls/common/designerContext */ \"./src/designer/controls/common/designerContext.js\");\nvar _FieldBindingModule = __webpack_require__(/*! ./FieldBindingModule */ \"./src/designer/page/FieldBindingModule.jsx\");\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _fieldBindFunction = __webpack_require__(/*! ../model/fieldBindFunction */ \"./src/designer/model/fieldBindFunction.js\");\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nvar pictureType = ['PictureListColumnAp']; // 实体图片类型\nvar pictureFieldType = 'CardPictureListColumnAp'; // 卡片图片列表字段类型\n\nfunction FieldBindPanel(props) {\n  var isPC = props.isPC,\n    changeShowPanleType = props.changeShowPanleType,\n    showPanelType = props.showPanelType,\n    undo = props.undo,\n    selectControlId = props.selectControlId,\n    getPageFieldInfos = props.getPageFieldInfos,\n    getBillListEntityTreeInfo = props.getBillListEntityTreeInfo;\n  var inputRef = (0, _react.useRef)();\n  var _useContext = (0, _react.useContext)(_designerContext.EdituiContext),\n    model = _useContext.model;\n  var _useState = (0, _react.useState)((0, _immutable.List)()),\n    _useState2 = _slicedToArray(_useState, 2),\n    mappingTableData = _useState2[0],\n    setMappingTableData = _useState2[1]; // 已选表\n  var _useState3 = (0, _react.useState)({}),\n    _useState4 = _slicedToArray(_useState3, 2),\n    mappingActiveInfo = _useState4[0],\n    setmappingActiveInfo = _useState4[1]; // 已选表焦点字段信息{index,type}\n  var _useState5 = (0, _react.useState)([]),\n    _useState6 = _slicedToArray(_useState5, 2),\n    entityTableData = _useState6[0],\n    setEntityTableData = _useState6[1]; // 待选表树结构\n  var _useState7 = (0, _react.useState)({}),\n    _useState8 = _slicedToArray(_useState7, 2),\n    entityImgTreeData = _useState8[0],\n    setEntityImgTreeData = _useState8[1]; // 实体树中所有图片字段的树结构\n  var _useState9 = (0, _react.useState)({}),\n    _useState10 = _slicedToArray(_useState9, 2),\n    entityOtherTreeData = _useState10[0],\n    setEntityOtherTreeData = _useState10[1]; // 实体树中所有非图片字段的树结构\n  var _useState11 = (0, _react.useState)([]),\n    _useState12 = _slicedToArray(_useState11, 2),\n    entityAllData = _useState12[0],\n    setEntityAllData = _useState12[1]; // 实体树的扁平数组\n  var _useState13 = (0, _react.useState)([]),\n    _useState14 = _slicedToArray(_useState13, 2),\n    entityImgArrData = _useState14[0],\n    setEntityImgArrData = _useState14[1]; // 实体树中所有图片字段的扁平结构，用于搜索\n  var _useState15 = (0, _react.useState)([]),\n    _useState16 = _slicedToArray(_useState15, 2),\n    entityOtherArrData = _useState16[0],\n    setEntityOtherArrData = _useState16[1]; // 实体树中所有非图片字段的扁平结构，用于搜索\n  var _useState17 = (0, _react.useState)([]),\n    _useState18 = _slicedToArray(_useState17, 2),\n    filterImgTreeData = _useState18[0],\n    setFilterImgTreeData = _useState18[1]; // 实体树中搜索后的图片字段的树结构，用于展示搜索结果\n  var _useState19 = (0, _react.useState)([]),\n    _useState20 = _slicedToArray(_useState19, 2),\n    filterOtherArrData = _useState20[0],\n    setFilterOtherArrData = _useState20[1]; // 实体树中搜索后的所有非图片字段的树结构，用于展示搜索结果\n\n  (0, _react.useEffect)(function () {\n    var mappingData = getPageFieldInfos(); // 获取模板字段数据\n    var treeData = getBillListEntityTreeInfo(); // 获取实体树数据\n    var newArr = (0, _fieldBindFunction.flatten)([treeData], 0, 0); // 将实体树打平成数组\n    var entityImgData = [];\n    var entityOtherData = [];\n    newArr && newArr.forEach(function (item) {\n      if (!item.isLeafNode || pictureType.includes(item.Type)) {\n        entityImgData.push(item); // 获取图片字段数组以及其父节点\n      }\n      if (!pictureType.includes(item.Type)) {\n        entityOtherData.push(item); // 获取非图片字段数组以及其父节点\n      }\n    });\n    var imgdata = (0, _fieldBindFunction.toTreeData)(entityImgData, 0); // 获取图片字段树，用于渲染\n    var otherdata = (0, _fieldBindFunction.toTreeData)(entityOtherData, 0); // 获取非图片字段树，用于渲染\n\n    setEntityAllData(newArr);\n    setEntityImgTreeData(imgdata);\n    setEntityOtherTreeData(otherdata);\n    setEntityImgArrData(entityImgData);\n    setEntityOtherArrData(entityOtherData);\n    setMappingTableData(mappingData);\n    setFilterImgTreeData(imgdata);\n    setFilterOtherArrData(otherdata);\n\n    //  选完模板后就已经用模板字段覆盖了之前已有的字段，所以在一开始，需要把快速绑定的数据注入到设计器\n    var result = (0, _fieldBindFunction.formatResults)(mappingData, newArr);\n    if (result && result.length > 0) {\n      model.pub_Event('setProperty', [result]);\n    }\n    var firstData = mappingData && mappingData.get('0');\n    var mappingkey = firstData && firstData.get('id');\n    handleMappingItemClick(mappingkey, 0, mappingData, imgdata, otherdata); // 初始化时将焦点定于已选表第一个字段\n  }, []);\n\n  // 更新已选表数据\n  var changeMappingData = (0, _react.useCallback)(function (key, Name) {\n    var mappingActiveIndex = mappingActiveInfo.index;\n    var activedata = mappingTableData.get(mappingActiveIndex);\n    if (activedata) {\n      var newdata = mappingTableData.setIn([mappingActiveIndex, 'fieldId'], key);\n      newdata = newdata.setIn([mappingActiveIndex, 'Name'], Name);\n      setMappingTableData(newdata);\n      var newactivedata = newdata && newdata.get(mappingActiveIndex);\n      setDesignerData(newactivedata);\n    }\n  }, [mappingActiveInfo, mappingTableData]);\n\n  // 映射关系注入设计器\n  var setDesignerData = (0, _react.useCallback)(function (data) {\n    var result = (0, _fieldBindFunction.formatResultsSingleList)(data, entityAllData);\n    model.pub_Event('setProperty', [result]);\n  }, [entityAllData]);\n\n  // 搜索操作\n  var handleSearch = (0, _react.useCallback)(function (str) {\n    var mappingActiveType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : mappingActiveInfo.type;\n    var isPicture = mappingActiveType === pictureFieldType;\n    var data = isPicture ? entityImgTreeData : entityOtherTreeData;\n    if (str === '' || str == undefined) {\n      // 如果搜索内容为空或者点击清除按钮，将焦点字段对应的树赋值给待选表\n      setEntityTableData(data);\n    } else {\n      // 如果有搜索内容为空，过滤对应的打平数组\n      var arrdata = isPicture ? entityImgArrData : entityOtherArrData;\n      var arr = _toConsumableArray(arrdata);\n      var filterArr = (0, _fieldBindFunction.filterListData)(str, arr) || [];\n      data = (0, _fieldBindFunction.toTreeData)(filterArr, 0); // 将搜索结果转换为树结构\n      setEntityTableData(data);\n    }\n    if (isPicture) {\n      setFilterImgTreeData(data);\n    } else {\n      setFilterOtherArrData(data);\n    }\n  }, [mappingActiveInfo.type, entityImgTreeData, entityOtherTreeData, entityImgArrData, entityOtherArrData]);\n\n  // 已选表字段聚焦事件\n  var handleMappingItemClick = (0, _react.useCallback)(function (key, index) {\n    var mappingData = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : mappingTableData;\n    var imgData = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : filterImgTreeData;\n    var otherData = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : filterOtherArrData;\n    selectControlId(key); // 聚焦同时选中设计器相对应的字段\n    var mappingtype = mappingData.getIn([index, 'type']);\n    var isPrePicture = mappingActiveInfo.type === pictureFieldType;\n    var isNextPicture = mappingtype === pictureFieldType;\n    if (mappingActiveInfo.type && isPrePicture !== isNextPicture) {\n      inputRef.current.value = '';\n      handleSearch('', mappingtype);\n    } else if (isNextPicture) {\n      // 判断类型，如果当前焦点字段为图片字段，将图片树赋值给已选表；非图片字段，将非图片树赋值\n      setEntityTableData(imgData);\n    } else {\n      setEntityTableData(otherData);\n    }\n    setmappingActiveInfo({\n      index: index,\n      type: mappingtype\n    }); // 更新焦点行信息\n  }, [mappingTableData, filterImgTreeData, filterOtherArrData, mappingActiveInfo, handleSearch]);\n\n  // 待选表字段点击事件\n  var handleEntityItemClick = (0, _react.useCallback)(function (key, Name) {\n    changeMappingData(key, Name);\n    var newindex = mappingActiveInfo.index + 1;\n    setTimeout(function () {\n      if (newindex < mappingTableData.size) {\n        var mappingkey = mappingTableData.getIn([newindex, 'id']);\n        handleMappingItemClick(mappingkey, newindex); // 将映射id填进已选表后，聚集已选表下一行\n      }\n    }, 0);\n  }, [changeMappingData, mappingActiveInfo, mappingTableData, handleMappingItemClick]);\n\n  // 取消按钮，关闭页面，并撤销选择模板操作\n  var handleCancelClick = (0, _react.useCallback)(function () {\n    changeShowPanleType();\n    undo && undo();\n  }, [changeShowPanleType, undo]);\n\n  // 确定按钮，关闭页面\n  var handleConfirmClick = function handleConfirmClick() {\n    changeShowPanleType();\n  };\n\n  // 上一步按钮，打开页面模板界面\n  var handleBackClick = (0, _react.useCallback)(function () {\n    changeShowPanleType(0);\n    undo && undo();\n  }, [changeShowPanleType, undo]);\n\n  // 清空按钮，清空已选表焦点行的映射信息\n  var handleDeleteClick = (0, _react.useCallback)(function (key) {\n    changeMappingData(key);\n  }, [changeMappingData]);\n  if (isPC || showPanelType !== 1) return null;\n  return /*#__PURE__*/_react[\"default\"].createElement(_PanelWithOutside[\"default\"], {\n    onCLickOutside: handleCancelClick\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FieldBindPanel[\"default\"].shadebox\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FieldBindPanel[\"default\"].root\n  }, /*#__PURE__*/_react[\"default\"].createElement(_FieldBindingModule.Header, {\n    title: (0, _intlApi.getLangMsg)('bosd.fieldBindingPanel.key0001')\n  }), /*#__PURE__*/_react[\"default\"].createElement(_FieldBindingModule.HeaderTip, {\n    tiptext: (0, _intlApi.getLangMsg)('bosd.fieldBindingPanel.key0002')\n  }), /*#__PURE__*/_react[\"default\"].createElement(Content, {\n    handleEntityItemClick: handleEntityItemClick,\n    mappingActiveIndex: mappingActiveInfo.index,\n    handleMappingItemClick: handleMappingItemClick,\n    handleDeleteClick: handleDeleteClick,\n    mappingTableData: mappingTableData,\n    inputRef: inputRef,\n    handleSearch: handleSearch,\n    entityTableData: entityTableData\n  }), /*#__PURE__*/_react[\"default\"].createElement(_FieldBindingModule.Footter, {\n    handleCancelClick: handleCancelClick,\n    handleConfirmClick: handleConfirmClick,\n    handleBackClick: handleBackClick,\n    buttonType: 7\n  })), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FieldBindPanel[\"default\"].shade\n  })));\n}\nfunction Content(props) {\n  var handleEntityItemClick = props.handleEntityItemClick,\n    handleMappingItemClick = props.handleMappingItemClick,\n    mappingActiveIndex = props.mappingActiveIndex,\n    handleDeleteClick = props.handleDeleteClick,\n    mappingTableData = props.mappingTableData,\n    inputRef = props.inputRef,\n    handleSearch = props.handleSearch,\n    entityTableData = props.entityTableData;\n  var divisionIcon = (0, _classnames2[\"default\"])(_defineProperty({\n    'kdfont kdfont-houfan': true\n  }, _FieldBindPanel[\"default\"].divisionicon, true));\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FieldBindPanel[\"default\"].content\n  }, /*#__PURE__*/_react[\"default\"].createElement(EntityTablePanel, {\n    handleEntityItemClick: handleEntityItemClick,\n    inputRef: inputRef,\n    handleSearch: handleSearch,\n    entityTableData: entityTableData,\n    mappingTableData: mappingTableData\n  }), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FieldBindPanel[\"default\"].divisionbox\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: divisionIcon\n  })), /*#__PURE__*/_react[\"default\"].createElement(MappingTablePanel, {\n    handleMappingItemClick: handleMappingItemClick,\n    mappingActiveIndex: mappingActiveIndex,\n    handleDeleteClick: handleDeleteClick,\n    mappingTableData: mappingTableData\n  }));\n}\nfunction MappingTablePanel(props) {\n  var handleDeleteClick = props.handleDeleteClick,\n    mappingTableData = props.mappingTableData,\n    handleMappingItemClick = props.handleMappingItemClick,\n    mappingActiveIndex = props.mappingActiveIndex;\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FieldBindPanel[\"default\"].mappingpanel\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FieldBindPanel[\"default\"].mappingtitle\n  }, (0, _intlApi.getLangMsg)('bosd.fieldBindingPanel.key0003')), /*#__PURE__*/_react[\"default\"].createElement(_FieldBindingModule.MappingTable, {\n    handleMappingItemClick: handleMappingItemClick,\n    mappingActiveIndex: mappingActiveIndex,\n    handleDeleteClick: handleDeleteClick,\n    mappingTableData: mappingTableData,\n    isList: true\n  }));\n}\nfunction EntityTablePanel(props) {\n  var handleSearch = props.handleSearch,\n    inputRef = props.inputRef,\n    handleEntityItemClick = props.handleEntityItemClick,\n    entityTableData = props.entityTableData,\n    mappingTableData = props.mappingTableData;\n  var slectedFieldArr = mappingTableData && mappingTableData.map(function (item) {\n    return item.get('fieldId');\n  });\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FieldBindPanel[\"default\"].entitytablepanle\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FieldBindPanel[\"default\"].entityheader\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FieldBindPanel[\"default\"].entityname\n  }, (0, _intlApi.getLangMsg)('bosd.fieldBindingPanel.key0004')), /*#__PURE__*/_react[\"default\"].createElement(_FieldBindingModule.SearchBar, {\n    inputRef: inputRef,\n    handleSearch: handleSearch\n  })), /*#__PURE__*/_react[\"default\"].createElement(_FieldBindingModule.TreeTable, {\n    treeData: entityTableData,\n    handleEntityItemClick: handleEntityItemClick,\n    slectedFieldArr: slectedFieldArr\n  }));\n}\n\n//# sourceURL=webpack://bos-platform/./src/designer/page/FieldBindPanel.jsx?");

/***/ }),

/***/ "./src/designer/page/FieldBindingModule.jsx":
/*!**************************************************!*\
  !*** ./src/designer/page/FieldBindingModule.jsx ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.EntityTable = EntityTable;\nexports.Footter = Footter;\nexports.Header = Header;\nexports.HeaderTip = HeaderTip;\nexports.MappingGroupTable = MappingGroupTable;\nexports.MappingTable = MappingTable;\nexports.Preview = Preview;\nexports.SearchBar = SearchBar;\nexports.TreeTable = TreeTable;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\n__webpack_require__(/*! core-js/modules/es.string.anchor.js */ \"../../node_modules/core-js/modules/es.string.anchor.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _FieldBindingModule = _interopRequireDefault(__webpack_require__(/*! ./FieldBindingModule.less */ \"./src/designer/page/FieldBindingModule.less\"));\nvar _classnames12 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _entitylistnodata = _interopRequireDefault(__webpack_require__(/*! ../icon/entitylistnodata.png */ \"./src/designer/icon/entitylistnodata.png\"));\nvar _componentutil = __webpack_require__(/*! @/util/componentutil */ \"./src/util/componentutil.js\");\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction MappingTable(props) {\n  var handleDeleteClick = props.handleDeleteClick,\n    mappingTableData = props.mappingTableData,\n    handleMappingItemClick = props.handleMappingItemClick,\n    mappingActiveIndex = props.mappingActiveIndex,\n    isForm = props.isForm,\n    deleteMappingItem = props.deleteMappingItem,\n    isList = props.isList;\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FieldBindingModule[\"default\"].mappingtable\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FieldBindingModule[\"default\"].mappingheaderpanel\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FieldBindingModule[\"default\"].mappingheader\n  }, (0, _intlApi.getLangMsg)('bosd.fieldBindingModule.key0001')), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FieldBindingModule[\"default\"].mapingheaderlast\n  }, (0, _intlApi.getLangMsg)('bosd.fieldBindingModule.key0002'))), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FieldBindingModule[\"default\"].mappingitempanel\n  }, mappingTableData && mappingTableData.map(function (item, index) {\n    return /*#__PURE__*/_react[\"default\"].createElement(MappingItem, {\n      key: item.get('id'),\n      index: index,\n      id: item.get('id'),\n      name: item.get('Name') || item.get('name'),\n      mappingActiveIndex: mappingActiveIndex,\n      fieldKey: isList && item.get('fieldId'),\n      handleMappingItemClick: handleMappingItemClick,\n      handleDeleteClick: handleDeleteClick,\n      isForm: isForm,\n      deleteMappingItem: deleteMappingItem\n    });\n  })));\n}\nfunction MappingGroupTable(props) {\n  var handleDeleteClick = props.handleDeleteClick,\n    mappingTableData = props.mappingTableData,\n    handleMappingItemClick = props.handleMappingItemClick,\n    mappingActiveIndex = props.mappingActiveIndex,\n    deleteMappingItem = props.deleteMappingItem;\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FieldBindingModule[\"default\"].mappingtable\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FieldBindingModule[\"default\"].mappingheaderpanel\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FieldBindingModule[\"default\"].mappingheader\n  }, (0, _intlApi.getLangMsg)('bosd.fieldBindingModule.key0001')), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FieldBindingModule[\"default\"].mapingheaderlast\n  }, (0, _intlApi.getLangMsg)('bosd.fieldBindingModule.key0002'))), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FieldBindingModule[\"default\"].mappingitempanel\n  }, mappingTableData && mappingTableData.map(function (item, index) {\n    var id = item.get('id') || item.get('Id') || item.get('temporaryId');\n    var fieldId = item.get('fieldId');\n    return /*#__PURE__*/_react[\"default\"].createElement(GroupItem, {\n      key: id,\n      isFooter: item.get('isFooter'),\n      isParent: item.get('isParent'),\n      parentId: item.get('parentId'),\n      id: id,\n      name: item.get('Name') || item.get('name'),\n      fieldKey: fieldId && item.get('fieldKey'),\n      newField: item.get('newField'),\n      mappingActiveIndex: mappingActiveIndex,\n      handleMappingItemClick: handleMappingItemClick,\n      handleDeleteClick: handleDeleteClick,\n      deleteMappingItem: deleteMappingItem,\n      index: index\n    });\n  })));\n}\nfunction GroupItem(props) {\n  var isFooter = props.isFooter,\n    isParent = props.isParent,\n    parentId = props.parentId,\n    id = props.id,\n    name = props.name,\n    fieldKey = props.fieldKey,\n    index = props.index,\n    newField = props.newField,\n    mappingActiveIndex = props.mappingActiveIndex,\n    handleMappingItemClick = props.handleMappingItemClick,\n    handleDeleteClick = props.handleDeleteClick,\n    deleteMappingItem = props.deleteMappingItem;\n  var groupTip = (0, _classnames12[\"default\"])(_defineProperty(_defineProperty({}, _FieldBindingModule[\"default\"].grouptip, true), _FieldBindingModule[\"default\"].activetip, mappingActiveIndex === index));\n  var handleHeaderClick = (0, _react.useCallback)(function () {\n    handleMappingItemClick(id, index + 1);\n  }, [handleMappingItemClick, id, index]);\n  var handleFooterClick = (0, _react.useCallback)(function () {\n    handleMappingItemClick(parentId, index, true);\n  }, [handleMappingItemClick, parentId, index]);\n  return isParent ? /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FieldBindingModule[\"default\"].grouppanelheader,\n    onClick: handleHeaderClick\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", null, name)) : isFooter ? /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: groupTip,\n    onClick: handleFooterClick\n  }, name) : /*#__PURE__*/_react[\"default\"].createElement(MappingItem, {\n    index: index,\n    id: id,\n    name: name,\n    mappingActiveIndex: mappingActiveIndex,\n    fieldKey: fieldKey,\n    parentId: parentId,\n    newField: newField,\n    handleMappingItemClick: handleMappingItemClick,\n    handleDeleteClick: handleDeleteClick,\n    isForm: true,\n    deleteMappingItem: deleteMappingItem\n  });\n}\nfunction MappingItem(props) {\n  var name = props.name,\n    id = props.id,\n    mappingActiveIndex = props.mappingActiveIndex,\n    handleMappingItemClick = props.handleMappingItemClick,\n    index = props.index,\n    handleDeleteClick = props.handleDeleteClick,\n    deleteMappingItem = props.deleteMappingItem,\n    fieldKey = props.fieldKey,\n    isForm = props.isForm,\n    parentId = props.parentId,\n    newField = props.newField;\n  var val = fieldKey || (0, _intlApi.getLangMsg)('bosd.fieldBindingModule.key0003');\n  if (index === mappingActiveIndex && !fieldKey) {\n    val = (0, _intlApi.getLangMsg)('bosd.fieldBindingModule.key0004');\n  }\n  var mappingItem = (0, _classnames12[\"default\"])(_defineProperty(_defineProperty({}, _FieldBindingModule[\"default\"].mappingItem, true), _FieldBindingModule[\"default\"].mappingItemAct, index === mappingActiveIndex));\n  var templatefield = (0, _classnames12[\"default\"])(_defineProperty(_defineProperty({}, _FieldBindingModule[\"default\"].templatefield, true), _FieldBindingModule[\"default\"].templatefieldAct, index === mappingActiveIndex));\n  var mappingfield = (0, _classnames12[\"default\"])(_defineProperty(_defineProperty(_defineProperty({}, _FieldBindingModule[\"default\"].mappingfield, true), _FieldBindingModule[\"default\"].mappingfieldAct, val === (0, _intlApi.getLangMsg)('bosd.fieldBindingModule.key0004')), _FieldBindingModule[\"default\"].mappingfieldplaceholder, val === (0, _intlApi.getLangMsg)('bosd.fieldBindingModule.key0003')));\n  var deleteIcon = (0, _classnames12[\"default\"])(_defineProperty({\n    'kdfont kdfont-yidongduanshanchu': true\n  }, _FieldBindingModule[\"default\"].deleteicon, true));\n  var clearIcon = (0, _classnames12[\"default\"])(_defineProperty({\n    'kdfont kdfont-zhuangtai_cuowu': true\n  }, _FieldBindingModule[\"default\"].clearicon, true));\n  var deleteClick = (0, _react.useCallback)(function (e) {\n    e.stopPropagation();\n    deleteMappingItem(index);\n  }, [index, deleteMappingItem]);\n  var itemClick = (0, _react.useCallback)(function () {\n    var key = isForm ? parentId : id;\n    handleMappingItemClick(key, index);\n  }, [isForm, parentId, id, index, handleMappingItemClick]);\n  var clearIconClick = (0, _react.useCallback)(function (e) {\n    e.stopPropagation();\n    handleDeleteClick('');\n  }, [handleDeleteClick]);\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: mappingItem,\n    onClick: itemClick\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: templatefield\n  }, isForm && /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: deleteIcon,\n    onClick: deleteClick\n  }), /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: _FieldBindingModule[\"default\"].name,\n    title: name\n  }, name)), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: mappingfield\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: _FieldBindingModule[\"default\"].mappingname,\n    title: val\n  }, val), newField === undefined && index === mappingActiveIndex && val !== (0, _intlApi.getLangMsg)('bosd.fieldBindingModule.key0004') && /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n    className: clearIcon,\n    onClick: clearIconClick\n  })));\n}\nfunction EntityTable(props) {\n  var handleEntityItemClick = props.handleEntityItemClick,\n    entityTableData = props.entityTableData,\n    isSearch = props.isSearch,\n    isEntity = props.isEntity,\n    slectedFieldArr = props.slectedFieldArr;\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FieldBindingModule[\"default\"].entitytable\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FieldBindingModule[\"default\"].tableheaderpanel\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FieldBindingModule[\"default\"].tableheader\n  }, (0, _intlApi.getLangMsg)('bosd.fieldBindingModule.key0005')), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FieldBindingModule[\"default\"].tableheaderlast\n  }, (0, _intlApi.getLangMsg)('bosd.fieldBindingModule.key0006'))), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FieldBindingModule[\"default\"].tablepanel\n  }, entityTableData && entityTableData.size > 0 ? entityTableData.map(function (item, index) {\n    return /*#__PURE__*/_react[\"default\"].createElement(FormTableItem, {\n      key: item.Id,\n      fieldId: item.Id,\n      id: item.Key,\n      name: item.Name,\n      handleEntityItemClick: handleEntityItemClick,\n      index: index,\n      slectedFieldArr: slectedFieldArr\n    });\n  }) : isSearch || isEntity ? /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FieldBindingModule[\"default\"].nodatabox\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"img\", {\n    src: _entitylistnodata[\"default\"]\n  }), /*#__PURE__*/_react[\"default\"].createElement(\"span\", null, (0, _intlApi.getLangMsg)('bosd.fieldBindingModule.key0007'))) : null));\n}\nfunction FormTableItem(props) {\n  var name = props.name,\n    id = props.id,\n    handleEntityItemClick = props.handleEntityItemClick,\n    index = props.index,\n    fieldId = props.fieldId,\n    slectedFieldArr = props.slectedFieldArr;\n  var handleClick = (0, _react.useCallback)(function () {\n    handleEntityItemClick(id, index, fieldId, name);\n  }, [id, index, fieldId, handleEntityItemClick, name]);\n  var tableitempanel = (0, _classnames12[\"default\"])(_defineProperty(_defineProperty({}, _FieldBindingModule[\"default\"].tableitempanel, true), _FieldBindingModule[\"default\"].tableitemsleted, slectedFieldArr && slectedFieldArr.includes(fieldId)));\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: tableitempanel,\n    onClick: handleClick\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FieldBindingModule[\"default\"].tableitem,\n    title: name\n  }, name), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FieldBindingModule[\"default\"].tableitemlast,\n    title: id\n  }, id));\n}\nfunction SearchBar(props) {\n  var inputRef = props.inputRef,\n    handleSearch = props.handleSearch;\n  var _useState = (0, _react.useState)(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    inputText = _useState2[0],\n    setInputText = _useState2[1];\n  var changeText = (0, _react.useCallback)(function (e) {\n    setInputText(e.target.value);\n  }, []);\n  var handleKeyDown = (0, _react.useCallback)(function (e) {\n    if (e.keyCode === 13) {\n      handleSearch && handleSearch(e.target.value);\n    }\n  }, [handleSearch]);\n  var clearFilterStr = (0, _react.useCallback)(function () {\n    if (inputRef.current.value !== '') {\n      inputRef.current.value = '';\n      handleSearch && handleSearch('');\n      setInputText('');\n    }\n  }, [handleSearch]);\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FieldBindingModule[\"default\"].searchbar\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FieldBindingModule[\"default\"].searchbox\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n    className: (0, _classnames12[\"default\"])('kdfont kdfont-f', _FieldBindingModule[\"default\"].searchicon)\n  }), /*#__PURE__*/_react[\"default\"].createElement(\"input\", {\n    className: _FieldBindingModule[\"default\"].searchinput,\n    placeholder: (0, _intlApi.getLangMsg)('bosd.fieldBindingModule.key0008'),\n    onChange: changeText,\n    onKeyDown: handleKeyDown,\n    type: \"text\",\n    ref: inputRef\n  }), inputText !== '' && /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    onClick: clearFilterStr,\n    className: (0, _classnames12[\"default\"])('kdfont kdfont-qingkong', _FieldBindingModule[\"default\"].searchdel)\n  })), /*#__PURE__*/_react[\"default\"].createElement(\"div\", null));\n}\nfunction Header(props) {\n  var title = props.title;\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FieldBindingModule[\"default\"].header\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FieldBindingModule[\"default\"].title\n  }, title));\n}\nfunction Footter(props) {\n  var buttonType = props.buttonType,\n    handleNextClick = props.handleNextClick,\n    handleConfirmClick = props.handleConfirmClick,\n    handleBackClick = props.handleBackClick,\n    handleCancelClick = props.handleCancelClick,\n    activeTempKey = props.activeTempKey;\n  var buttonCN = (0, _classnames12[\"default\"])(_defineProperty(_defineProperty(_defineProperty({}, _FieldBindingModule[\"default\"].btn, true), _FieldBindingModule[\"default\"].cancelBtn, activeTempKey !== undefined), _FieldBindingModule[\"default\"].disablebtn, !activeTempKey));\n  var cancel = /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: \"\".concat(_FieldBindingModule[\"default\"].btn, \" \").concat(_FieldBindingModule[\"default\"].cancelBtn),\n    onClick: handleCancelClick\n  }, (0, _intlApi.getLangMsg)('bosd.fieldBindingModule.key0009'));\n  var confirm = /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: \"\".concat(_FieldBindingModule[\"default\"].btn, \" \").concat(_FieldBindingModule[\"default\"].confirmBtn),\n    onClick: handleConfirmClick\n  }, (0, _intlApi.getLangMsg)('bosd.fieldBindingModule.key0010'));\n  var back = /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: \"\".concat(_FieldBindingModule[\"default\"].btn, \" \").concat(_FieldBindingModule[\"default\"].cancelBtn),\n    onClick: handleBackClick\n  }, (0, _intlApi.getLangMsg)('bosd.fieldBindingModule.key0011'));\n  var next = /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: \"\".concat(_FieldBindingModule[\"default\"].btn, \" \").concat(_FieldBindingModule[\"default\"].confirmBtn),\n    onClick: handleNextClick\n  }, (0, _intlApi.getLangMsg)('bosd.fieldBindingModule.key0012'));\n  var tempconfirm = /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: buttonCN,\n    onClick: handleConfirmClick\n  }, (0, _intlApi.getLangMsg)('bosd.fieldBindingModule.key0013'));\n  var tempnext = /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: buttonCN,\n    onClick: handleNextClick\n  }, (0, _intlApi.getLangMsg)('bosd.fieldBindingModule.key0014'));\n  var buttonInfo;\n  switch (buttonType) {\n    // 取消／确定\n    case 3:\n      buttonInfo = /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _FieldBindingModule[\"default\"].footter\n      }, cancel, confirm);\n      break;\n    // 取消／上一步／确定\n    case 7:\n      buttonInfo = /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _FieldBindingModule[\"default\"].footter\n      }, cancel, back, confirm);\n      break;\n    // 取消／字段绑定／页面调整\n    case 9:\n      buttonInfo = /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _FieldBindingModule[\"default\"].footter\n      }, cancel, tempnext, tempconfirm);\n      break;\n    // 取消／上一步／下一步\n    case 13:\n      buttonInfo = /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _FieldBindingModule[\"default\"].footter\n      }, cancel, back, next);\n      break;\n  }\n  return buttonInfo;\n}\nfunction Preview(props) {\n  var imgSrcArr = props.imgSrcArr,\n    templateName = props.templateName,\n    activeTempKey = props.activeTempKey;\n  var _useState3 = (0, _react.useState)(0),\n    _useState4 = _slicedToArray(_useState3, 2),\n    activeIndex = _useState4[0],\n    setActiveIndex = _useState4[1];\n  var imgArr = [];\n  imgSrcArr && imgSrcArr.forEach(function (item) {\n    imgArr.push((0, _componentutil.getImgFullPath)('', item, true, false));\n  });\n  (0, _react.useEffect)(function () {\n    setActiveIndex(0);\n  }, [activeTempKey]);\n  var onPre = (0, _react.useCallback)(function (e) {\n    e.stopPropagation();\n    var index = activeIndex - 1;\n    if (index < 0) {\n      index = imgArr.length - 1;\n    }\n    setActiveIndex(index);\n  }, [activeIndex, imgArr]);\n  var onNext = (0, _react.useCallback)(function (e) {\n    e.stopPropagation();\n    var index = activeIndex + 1;\n    if (index >= imgArr.length) {\n      index = 0;\n    }\n    setActiveIndex(index);\n  }, [activeIndex, imgArr]);\n  var preClassName = (0, _classnames12[\"default\"])({\n    'kdfont kdfont-qianfan': true\n  });\n  var nextClassName = (0, _classnames12[\"default\"])({\n    'kdfont kdfont-houfan': true\n  });\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FieldBindingModule[\"default\"].previewcontent\n  }, imgArr.length === 1 ? null : /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FieldBindingModule[\"default\"].buttonbox,\n    onClick: onPre\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: preClassName\n  })), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FieldBindingModule[\"default\"].previewbox\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: _FieldBindingModule[\"default\"].previewtitle\n  }, templateName), /*#__PURE__*/_react[\"default\"].createElement(\"img\", {\n    className: _FieldBindingModule[\"default\"].previewImg,\n    src: imgArr[activeIndex]\n  }), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FieldBindingModule[\"default\"].checkbox\n  }, imgArr && imgArr.map(function (item, index) {\n    var anchorPoint = (0, _classnames12[\"default\"])(_defineProperty(_defineProperty({}, _FieldBindingModule[\"default\"].anchor, true), _FieldBindingModule[\"default\"].activeanchor, index === activeIndex));\n    return /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n      className: anchorPoint,\n      key: index\n    });\n  }))), imgArr.length === 1 ? null : /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FieldBindingModule[\"default\"].buttonbox,\n    onClick: onNext\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: nextClassName\n  })));\n}\nfunction HeaderTip(props) {\n  var tiptext = props.tiptext;\n  var _useState5 = (0, _react.useState)(true),\n    _useState6 = _slicedToArray(_useState5, 2),\n    isShowTip = _useState6[0],\n    setShowTip = _useState6[1];\n  var close = (0, _react.useCallback)(function (e) {\n    setShowTip(false);\n  }, []);\n  return isShowTip && /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FieldBindingModule[\"default\"].tipbox\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n    className: (0, _classnames12[\"default\"])('kdfont kdfont-jinggao-mian', _FieldBindingModule[\"default\"].jinggao)\n  }), /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: _FieldBindingModule[\"default\"].text\n  }, tiptext), /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n    className: (0, _classnames12[\"default\"])('kdfont kdfont-tupianyulanguanbi', _FieldBindingModule[\"default\"].close),\n    onClick: close\n  }));\n}\nfunction TreeTable(props) {\n  var handleEntityItemClick = props.handleEntityItemClick,\n    treeData = props.treeData,\n    slectedFieldArr = props.slectedFieldArr;\n  var generateMenu = function generateMenu(menuObj) {\n    if (!menuObj) return null;\n    var vdom = [];\n    if (menuObj instanceof Array) {\n      var list = [];\n      menuObj && menuObj.forEach(function (item) {\n        list.push(generateMenu(item));\n      });\n      vdom.push( /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _FieldBindingModule[\"default\"].nodecontent\n      }, list));\n    } else {\n      var type = menuObj.Type;\n      var isTitle = menuObj.Items && menuObj.Items.length > 0 || type === 'Entity';\n      vdom.push( /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _FieldBindingModule[\"default\"].treenodebox\n      }, /*#__PURE__*/_react[\"default\"].createElement(TreeItem, {\n        name: menuObj.Name,\n        id: menuObj.Id,\n        isLeafNode: menuObj.isLeafNode,\n        hierarchy: menuObj.hierarchy,\n        children: menuObj.Items,\n        handleEntityItemClick: handleEntityItemClick,\n        type: type,\n        slectedFieldArr: slectedFieldArr\n      }), isTitle ? generateMenu(menuObj.Items) : null));\n    }\n    return vdom;\n  };\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FieldBindingModule[\"default\"].treetable\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FieldBindingModule[\"default\"].tableheaderpanel\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FieldBindingModule[\"default\"].tableheader\n  }, (0, _intlApi.getLangMsg)('bosd.fieldBindingModule.key0005')), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FieldBindingModule[\"default\"].tableheaderlast\n  }, (0, _intlApi.getLangMsg)('bosd.fieldBindingModule.key0006'))), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FieldBindingModule[\"default\"].tablepanel\n  }, generateMenu(treeData)));\n}\nfunction TreeItem(props) {\n  var name = props.name,\n    id = props.id,\n    handleEntityItemClick = props.handleEntityItemClick,\n    hierarchy = props.hierarchy,\n    isLeafNode = props.isLeafNode,\n    children = props.children,\n    slectedFieldArr = props.slectedFieldArr;\n  if (!isLeafNode && (!children || children.length < 1)) {\n    return hierarchy === 0 ? /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _FieldBindingModule[\"default\"].nodatabox\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"img\", {\n      src: _entitylistnodata[\"default\"]\n    }), /*#__PURE__*/_react[\"default\"].createElement(\"span\", null, (0, _intlApi.getLangMsg)('bosd.fieldBindingModule.key0007'))) : null;\n  }\n  var domRef = (0, _react.useRef)();\n  var _useState7 = (0, _react.useState)(true),\n    _useState8 = _slicedToArray(_useState7, 2),\n    isOpen = _useState8[0],\n    setIsOpen = _useState8[1];\n  var fold = (0, _classnames12[\"default\"])(_defineProperty({\n    'kdfont kdfont-shouqi': isOpen,\n    'kdfont kdfont-unfolded-s': !isOpen\n  }, _FieldBindingModule[\"default\"].fold, true));\n  var handleClick = (0, _react.useCallback)(function () {\n    if (!isLeafNode) {\n      setIsOpen(function (_isOpen) {\n        var val = !_isOpen ? 'flex' : 'none';\n        domRef.current.nextSibling.style.display = val;\n        return !_isOpen;\n      });\n    } else {\n      handleEntityItemClick(id, name);\n    }\n  }, [isLeafNode, handleEntityItemClick, name]);\n  var paddingLeft = isLeafNode ? 24 * (hierarchy - 1) + 60 : 24 * hierarchy + 13;\n  var tableitempanel = (0, _classnames12[\"default\"])(_defineProperty(_defineProperty(_defineProperty({}, _FieldBindingModule[\"default\"].tableitempanels, true), _FieldBindingModule[\"default\"].tableitempanel, isLeafNode), _FieldBindingModule[\"default\"].seltableitem, slectedFieldArr && slectedFieldArr.includes(id)));\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: tableitempanel,\n    style: {\n      paddingLeft: \"\".concat(paddingLeft, \"px\")\n    },\n    ref: domRef,\n    onClick: handleClick\n  }, !isLeafNode && /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n    className: fold\n  }), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FieldBindingModule[\"default\"].tableitem,\n    title: name\n  }, name), isLeafNode && /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FieldBindingModule[\"default\"].tableitemlast,\n    title: id\n  }, id));\n}\n\n//# sourceURL=webpack://bos-platform/./src/designer/page/FieldBindingModule.jsx?");

/***/ }),

/***/ "./src/designer/page/FormFieldBindPanel.jsx":
/*!**************************************************!*\
  !*** ./src/designer/page/FormFieldBindPanel.jsx ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = FormFieldBindPanel;\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.array.splice.js */ \"../../node_modules/core-js/modules/es.array.splice.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _FieldBindPanel = _interopRequireDefault(__webpack_require__(/*! ./FieldBindPanel.less */ \"./src/designer/page/FieldBindPanel.less\"));\nvar _classnames2 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _PanelWithOutside = _interopRequireDefault(__webpack_require__(/*! @/component/common/PanelWithOutside */ \"./src/component/common/PanelWithOutside.js\"));\nvar _designerContext = __webpack_require__(/*! ../controls/common/designerContext */ \"./src/designer/controls/common/designerContext.js\");\nvar _FieldBindingModule = __webpack_require__(/*! ./FieldBindingModule */ \"./src/designer/page/FieldBindingModule.jsx\");\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _uid = _interopRequireDefault(__webpack_require__(/*! ../utils/uid */ \"./src/designer/utils/uid.js\"));\nvar _fieldBindFunction = __webpack_require__(/*! ../model/fieldBindFunction */ \"./src/designer/model/fieldBindFunction.js\");\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nvar entitytForm = ['bos_entryinput_mobform', 'bos_cardentry_mobform', 'bos_billdetails_mobform', 'bos_clientdetails_mobform']; // 带分录的录入单据编码\n\nfunction FormFieldBindPanel(props) {\n  var isPC = props.isPC,\n    changeShowPanleType = props.changeShowPanleType,\n    showPanelType = props.showPanelType,\n    selectControlId = props.selectControlId,\n    getPageFieldInfos = props.getPageFieldInfos,\n    getBillHeaderFieldInfo = props.getBillHeaderFieldInfo,\n    addEntityControl = props.addEntityControl,\n    activeTempKey = props.activeTempKey,\n    deleteControl = props.deleteControl,\n    selControlId = props.selControlId,\n    setUiInfo = props.setUiInfo,\n    originUiInfo = props.originUiInfo,\n    getFormFieldInfo = props.getFormFieldInfo,\n    setFormMappingData = props.setFormMappingData,\n    formMappingData = props.formMappingData;\n  var inputRef = (0, _react.useRef)();\n  var _useContext = (0, _react.useContext)(_designerContext.EdituiContext),\n    model = _useContext.model;\n  var _useState = (0, _react.useState)((0, _immutable.List)()),\n    _useState2 = _slicedToArray(_useState, 2),\n    entityAllData = _useState2[0],\n    setEntityAllData = _useState2[1]; // 所有实体字段数据\n  var _useState3 = (0, _react.useState)(formMappingData),\n    _useState4 = _slicedToArray(_useState3, 2),\n    mappingTableData = _useState4[0],\n    setMappingTableData = _useState4[1]; // 单据头已选表数据\n  var _useState5 = (0, _react.useState)({}),\n    _useState6 = _slicedToArray(_useState5, 2),\n    mappingActiveIndex = _useState6[0],\n    setmappingActiveIndex = _useState6[1]; // 已选表焦点行索引\n  var _useState7 = (0, _react.useState)((0, _immutable.List)()),\n    _useState8 = _slicedToArray(_useState7, 2),\n    entityTableData = _useState8[0],\n    setEntityTableData = _useState8[1]; // 待选表数据\n  var _useState9 = (0, _react.useState)(),\n    _useState10 = _slicedToArray(_useState9, 2),\n    parentCtrlId = _useState10[0],\n    setparentCtrlId = _useState10[1]; // 当前焦点行字段的父容器ID\n  var _useState11 = (0, _react.useState)(false),\n    _useState12 = _slicedToArray(_useState11, 2),\n    isSearch = _useState12[0],\n    setIsSearch = _useState12[1]; // 当前是否搜索结果\n\n  (0, _react.useEffect)(function () {\n    var headerFieldData = getBillHeaderFieldInfo(); // 获取单据头实体字段数据\n    setEntityTableData(headerFieldData);\n    setEntityAllData(headerFieldData);\n    var mappingGroupInfo = formMappingData;\n    if (formMappingData && formMappingData.size === 0) {\n      var mappingData = getPageFieldInfos(); // 获取模板字段数据\n      var formFieldList = mappingData && mappingData.filter(function (item) {\n        return item.get('type') === 'FieldAp';\n      }); // 过滤出模板字段中的单据头字段\n      mappingGroupInfo = (0, _fieldBindFunction.getGroupInfos)(formFieldList, getFormFieldInfo);\n      setMappingTableData(mappingGroupInfo);\n    }\n    var firstData = mappingGroupInfo && mappingGroupInfo.get('0');\n    var parentId = firstData && firstData.get('Id');\n    handleMappingItemClick(parentId, 1); // 初始化字段聚焦已选表第一行\n  }, []);\n\n  // 判断当前设计器中选中控件id的变化，如果不是父容器的id，就把id填进已选表新增字段的映射id，并更新已选表\n  (0, _react.useEffect)(function () {\n    if (parentCtrlId && selControlId !== parentCtrlId) {\n      var newdata = (0, _fieldBindFunction.formatNewField)(mappingTableData, selControlId);\n      setMappingTableData(newdata);\n    }\n  }, [selControlId]);\n\n  // 更新已选表数据\n  var changeMappingData = (0, _react.useCallback)(function (key, fieldId, Name) {\n    var activeindex = mappingActiveIndex.index;\n    var newdata = (0, _fieldBindFunction.getNewMappingData)(activeindex, mappingTableData, key, fieldId, Name);\n    newdata && setMappingTableData(newdata);\n    var activedata = newdata && newdata.get(activeindex);\n    setDesignerData(activedata);\n  }, [mappingActiveIndex, mappingTableData]);\n\n  // 已选表字段聚焦事件\n  var handleMappingItemClick = (0, _react.useCallback)(function (parentId, index) {\n    var isFooter = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    // 设计器选中父节点\n    selectControlId(parentId);\n    setmappingActiveIndex({\n      index: index,\n      isFooter: isFooter\n    });\n    if (isFooter) {\n      setparentCtrlId(parentId);\n    }\n  }, [selectControlId]);\n\n  // 待选表字段点击事件\n  var handleEntityItemClick = (0, _react.useCallback)(function (key, index, fieldId, Name) {\n    var activeindex = mappingActiveIndex.index;\n    var isFooter = mappingActiveIndex.isFooter;\n    if (!isFooter) {\n      // 如果当前已选表焦点行不是当前容器的尾行，更新已选表信息\n      changeMappingData(key, fieldId, Name);\n      var newindex = activeindex + 1;\n      var isNewFooter = mappingTableData.getIn([newindex, 'isFooter']);\n      if (!isNewFooter) {\n        // 如果更新后已选表焦点行不是最后一行，聚焦下一行\n        var parentId = mappingTableData.getIn([newindex, 'parentId']);\n        handleMappingItemClick(parentId, newindex);\n      } else {\n        // 如果更新后已选表焦点行是最后一行，将焦点行索引+1，并将父容器id保存以便下一次点击新增字段\n        var _parentId = mappingTableData.getIn([activeindex, 'parentId']);\n        setmappingActiveIndex({\n          index: newindex,\n          isFooter: isNewFooter\n        });\n        setparentCtrlId(_parentId);\n      }\n    } else {\n      // 如果当前已选表焦点行是最后一行\n      var _newindex = activeindex + 1;\n      var tabledata = entityTableData.get(index);\n      var Id = tabledata.Id;\n      var _Name = tabledata.Name;\n      addEntityControl(Id, parentCtrlId); // 根据父容器id新增字段\n      var newmappingfield = {\n        name: _Name,\n        fieldId: fieldId,\n        fieldKey: key,\n        parentId: parentCtrlId,\n        type: 'FieldAp',\n        temporaryId: (0, _uid[\"default\"])(10),\n        newField: true\n      }; // 构建新字段的已选表数据\n\n      var newdata = mappingTableData.splice(activeindex, 0, (0, _immutable.fromJS)(newmappingfield));\n      setMappingTableData(newdata); // 更新已选表数据\n      setmappingActiveIndex({\n        index: _newindex,\n        isFooter: true\n      }); // 焦点行索引+1，下次点击继续新增\n    }\n  }, [mappingActiveIndex, changeMappingData, mappingTableData, handleMappingItemClick, entityTableData, addEntityControl]);\n\n  // 映射关系注入设计器\n  var setDesignerData = (0, _react.useCallback)(function (data) {\n    var result = (0, _fieldBindFunction.formatResultsSingleForm)(data, entityAllData);\n    model.pub_Event('setProperty', [result]);\n  }, [entityAllData]);\n\n  // 下一步，打开下一个界面\n  var handleNextClick = function handleNextClick() {\n    changeShowPanleType(3);\n    setFormMappingData(mappingTableData);\n  };\n\n  // 取消操作，关闭界面，将初始页面元数据注入设计器\n  var handleCancelClick = (0, _react.useCallback)(function () {\n    changeShowPanleType();\n    setFormMappingData((0, _immutable.List)());\n    setUiInfo && setUiInfo(originUiInfo);\n  }, [changeShowPanleType, setFormMappingData, setUiInfo, originUiInfo]);\n\n  // 确定操作，关闭界面\n  var handleConfirmClick = function handleConfirmClick() {\n    changeShowPanleType();\n  };\n\n  // 上一步，将初始页面元数据注入设计器\n  var handleBackClick = (0, _react.useCallback)(function () {\n    changeShowPanleType(0);\n    setFormMappingData((0, _immutable.List)());\n    setUiInfo && setUiInfo(originUiInfo);\n  }, [changeShowPanleType, setFormMappingData, setUiInfo, originUiInfo]);\n\n  // 清空按钮，清空已选表焦点行的映射信息\n  var handleDeleteClick = (0, _react.useCallback)(function (key) {\n    changeMappingData(key);\n  }, [changeMappingData]);\n\n  // 搜索操作\n  var handleSearch = (0, _react.useCallback)(function (str) {\n    if (str === '' || str == undefined) {\n      setEntityTableData(entityAllData);\n      setIsSearch(false);\n    } else {\n      var filterArr = (0, _fieldBindFunction.filterData)(str, entityAllData) || (0, _immutable.List)();\n      setEntityTableData(filterArr);\n      setIsSearch(true); // 设置为搜索结果\n    }\n  }, [entityAllData]);\n\n  // 删除已选表中的一行字段\n  var deleteMappingItem = (0, _react.useCallback)(function (index) {\n    var deleteId = mappingTableData.getIn([index, 'id']);\n    deleteControl(deleteId); // 删除设计器中对应的字段\n    var newdata = mappingTableData[\"delete\"](index);\n    setMappingTableData(newdata);\n    var parentId = newdata.getIn([index, 'parentId']);\n    var isFooter = newdata.getIn([index, 'isFooter']);\n    handleMappingItemClick(parentId, index, isFooter); // 聚焦下一行\n  }, [mappingTableData, deleteControl, handleMappingItemClick]);\n  if (isPC || showPanelType !== 2) return null;\n  var buttonType = entitytForm.includes(activeTempKey) ? 13 : 7;\n  return /*#__PURE__*/_react[\"default\"].createElement(_PanelWithOutside[\"default\"], {\n    onCLickOutside: handleCancelClick\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FieldBindPanel[\"default\"].shadebox\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FieldBindPanel[\"default\"].root\n  }, /*#__PURE__*/_react[\"default\"].createElement(_FieldBindingModule.Header, {\n    title: (0, _intlApi.getLangMsg)('bosd.formFieldBindPanel.key0001')\n  }), /*#__PURE__*/_react[\"default\"].createElement(_FieldBindingModule.HeaderTip, {\n    tiptext: (0, _intlApi.getLangMsg)('bosd.formFieldBindPanel.key0002')\n  }), /*#__PURE__*/_react[\"default\"].createElement(Content, {\n    handleEntityItemClick: handleEntityItemClick,\n    mappingActiveIndex: mappingActiveIndex.index,\n    deleteMappingItem: deleteMappingItem,\n    handleMappingItemClick: handleMappingItemClick,\n    handleDeleteClick: handleDeleteClick,\n    mappingTableData: mappingTableData,\n    inputRef: inputRef,\n    handleSearch: handleSearch,\n    entityTableData: entityTableData,\n    isSearch: isSearch\n  }), /*#__PURE__*/_react[\"default\"].createElement(_FieldBindingModule.Footter, {\n    handleCancelClick: handleCancelClick,\n    handleConfirmClick: handleConfirmClick,\n    handleBackClick: handleBackClick,\n    buttonType: buttonType,\n    handleNextClick: handleNextClick\n  })), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FieldBindPanel[\"default\"].shade\n  })));\n}\nfunction Content(props) {\n  var handleEntityItemClick = props.handleEntityItemClick,\n    handleMappingItemClick = props.handleMappingItemClick,\n    mappingActiveIndex = props.mappingActiveIndex,\n    handleDeleteClick = props.handleDeleteClick,\n    mappingTableData = props.mappingTableData,\n    inputRef = props.inputRef,\n    handleSearch = props.handleSearch,\n    entityTableData = props.entityTableData,\n    deleteMappingItem = props.deleteMappingItem,\n    isSearch = props.isSearch;\n  var divisionIcon = (0, _classnames2[\"default\"])(_defineProperty({\n    'kdfont kdfont-houfan': true\n  }, _FieldBindPanel[\"default\"].divisionicon, true));\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FieldBindPanel[\"default\"].content\n  }, /*#__PURE__*/_react[\"default\"].createElement(EntityTablePanel, {\n    handleEntityItemClick: handleEntityItemClick,\n    inputRef: inputRef,\n    handleSearch: handleSearch,\n    entityTableData: entityTableData,\n    isSearch: isSearch,\n    mappingTableData: mappingTableData\n  }), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FieldBindPanel[\"default\"].divisionbox\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: divisionIcon\n  })), /*#__PURE__*/_react[\"default\"].createElement(MappingTablePanel, {\n    handleMappingItemClick: handleMappingItemClick,\n    mappingActiveIndex: mappingActiveIndex,\n    deleteMappingItem: deleteMappingItem,\n    handleDeleteClick: handleDeleteClick,\n    mappingTableData: mappingTableData\n  }));\n}\nfunction MappingTablePanel(props) {\n  var handleDeleteClick = props.handleDeleteClick,\n    mappingTableData = props.mappingTableData,\n    handleMappingItemClick = props.handleMappingItemClick,\n    mappingActiveIndex = props.mappingActiveIndex,\n    deleteMappingItem = props.deleteMappingItem;\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FieldBindPanel[\"default\"].mappingpanel\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FieldBindPanel[\"default\"].mappingtitle\n  }, (0, _intlApi.getLangMsg)('bosd.formFieldBindPanel.key0003')), /*#__PURE__*/_react[\"default\"].createElement(_FieldBindingModule.MappingGroupTable, {\n    handleMappingItemClick: handleMappingItemClick,\n    mappingActiveIndex: mappingActiveIndex,\n    deleteMappingItem: deleteMappingItem,\n    handleDeleteClick: handleDeleteClick,\n    mappingTableData: mappingTableData\n  }));\n}\nfunction EntityTablePanel(props) {\n  var handleSearch = props.handleSearch,\n    inputRef = props.inputRef,\n    handleEntityItemClick = props.handleEntityItemClick,\n    entityTableData = props.entityTableData,\n    isSearch = props.isSearch,\n    mappingTableData = props.mappingTableData;\n  var slectedFieldArr = mappingTableData && mappingTableData.map(function (item) {\n    return item.get('fieldId');\n  });\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FieldBindPanel[\"default\"].entitytablepanle\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FieldBindPanel[\"default\"].entityheader\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _FieldBindPanel[\"default\"].entityname\n  }, (0, _intlApi.getLangMsg)('bosd.formFieldBindPanel.key0004')), /*#__PURE__*/_react[\"default\"].createElement(_FieldBindingModule.SearchBar, {\n    inputRef: inputRef,\n    handleSearch: handleSearch\n  })), /*#__PURE__*/_react[\"default\"].createElement(_FieldBindingModule.EntityTable, {\n    handleEntityItemClick: handleEntityItemClick,\n    entityTableData: entityTableData,\n    isSearch: isSearch,\n    slectedFieldArr: slectedFieldArr\n  }));\n}\n\n//# sourceURL=webpack://bos-platform/./src/designer/page/FormFieldBindPanel.jsx?");

/***/ }),

/***/ "./src/designer/page/GridDialog.js":
/*!*****************************************!*\
  !*** ./src/designer/page/GridDialog.js ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-properties.js */ \"../../node_modules/core-js/modules/es.object.define-properties.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptors.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = GridDialog;\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.parse-int.js */ \"../../node_modules/core-js/modules/es.parse-int.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.string.replace.js */ \"../../node_modules/core-js/modules/es.string.replace.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _classnames2 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _reactDom = _interopRequireDefault(__webpack_require__(/*! react-dom */ \"webpack/sharing/consume/default/react-dom/react-dom?418d\"));\nvar _kdesign = __webpack_require__(/*! @kdcloudjs/kdesign */ \"webpack/sharing/consume/default/@kdcloudjs/kdesign/@kdcloudjs/kdesign\");\nvar _BaseComponents = __webpack_require__(/*! ../../component/web/base/BaseComponents */ \"./src/component/web/base/BaseComponents/index.js\");\nvar _GridDialog = _interopRequireDefault(__webpack_require__(/*! ./GridDialog.less */ \"./src/designer/page/GridDialog.less\"));\nvar _intlApi = __webpack_require__(/*! ../../i18n/intlApi */ \"./src/i18n/intlApi.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectDestructuringEmpty(obj) { if (obj == null) throw new TypeError(\"Cannot destructure \" + obj); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; } /*\n * @Author: qinghui_wu\n * @Date: 2018-10-18 13:47:14\n * @Last Modified by: qinghui_wu\n * @Last Modified time: 2019-04-17 19:49:01\n */\nfunction GridDialog(_ref) {\n  var isShowInserDialog = _ref.isShowInserDialog,\n    inserDialogType = _ref.inserDialogType,\n    insertInfo = _ref.insertInfo,\n    hideInserDialog = _ref.hideInserDialog,\n    insertControl = _ref.insertControl;\n  var _useState = (0, _react.useState)('next'),\n    _useState2 = _slicedToArray(_useState, 2),\n    checkedValue = _useState2[0],\n    setCheckedValue = _useState2[1];\n  var _useState3 = (0, _react.useState)(1),\n    _useState4 = _slicedToArray(_useState3, 2),\n    count = _useState4[0],\n    setCount = _useState4[1];\n  var _useState5 = (0, _react.useState)(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    isOut = _useState6[0],\n    setIsOut = _useState6[1];\n  var onChange = function onChange(e) {\n    setCheckedValue(e.target.value);\n  };\n  var onInpuntChange = function onInpuntChange(e) {\n    setCount(e.target.value.replace(/\\D/g, ''));\n  };\n  var onBlurHandle = function onBlurHandle(e) {\n    if (e.target.value > 20 || e.target.value <= 0) {\n      setIsOut(true);\n    } else if (isOut === true) {\n      setIsOut(false);\n    }\n  };\n  var okHandle = function okHandle() {\n    if (isOut === false && insertControl && count > 0 && count <= 20) {\n      insertControl(inserDialogType, _objectSpread({\n        isNext: checkedValue === 'next',\n        repeatCount: parseInt(count)\n      }, insertInfo));\n    }\n  };\n  var cancelHandle = function cancelHandle() {\n    hideInserDialog && hideInserDialog(false);\n  };\n  var okBtnClass = (0, _classnames2[\"default\"])(_defineProperty({}, _GridDialog[\"default\"].button, true));\n  var isRow = inserDialogType === 'Row';\n  var dom = isShowInserDialog === true ? /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _GridDialog[\"default\"].dialogRoot\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _GridDialog[\"default\"].dialog\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _GridDialog[\"default\"].title\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: _GridDialog[\"default\"].text\n  }, isRow ? (0, _intlApi.getLangMsg)('bosd.gridDialog.key0001') : (0, _intlApi.getLangMsg)('bosd.gridDialog.key0002')), /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: (0, _classnames2[\"default\"])('kdfont kdfont-guanbiyulan kd-hover-color', _GridDialog[\"default\"].icon),\n    onClick: cancelHandle\n  })), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _GridDialog[\"default\"].content\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _GridDialog[\"default\"].position\n  }, (0, _intlApi.getLangMsg)('bosd.gridDialog.key0003'), /*#__PURE__*/_react[\"default\"].createElement(_BaseComponents.Radio, {\n    checked: checkedValue === 'before',\n    group: \"printGridRadiogroup\",\n    onChange: onChange,\n    text: isRow ? (0, _intlApi.getLangMsg)('bosd.gridDialog.key0004') : (0, _intlApi.getLangMsg)('bosd.gridDialog.key0006'),\n    value: \"before\"\n  }), /*#__PURE__*/_react[\"default\"].createElement(_BaseComponents.Radio, {\n    checked: checkedValue === 'next',\n    group: \"printGridRadiogroup\",\n    onChange: onChange,\n    text: isRow ? (0, _intlApi.getLangMsg)('bosd.gridDialog.key0005') : (0, _intlApi.getLangMsg)('bosd.gridDialog.key0007'),\n    value: \"next\"\n  })), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _GridDialog[\"default\"].inputCount\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _GridDialog[\"default\"].label\n  }, isRow ? (0, _intlApi.getLangMsg)('bosd.gridDialog.key0008') : (0, _intlApi.getLangMsg)('bosd.gridDialog.key0009')), /*#__PURE__*/_react[\"default\"].createElement(\"div\", null, /*#__PURE__*/_react[\"default\"].createElement(NumberInput, {\n    value: count,\n    onChange: onInpuntChange,\n    onBlur: onBlurHandle\n  }), isOut === true ? /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _GridDialog[\"default\"].error\n  }, (0, _intlApi.getLangMsg)('bosd.gridDialog.key0010'), \" [0,20]\") : null))), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _GridDialog[\"default\"].footer\n  }, /*#__PURE__*/_react[\"default\"].createElement(_kdesign.Button, {\n    className: _GridDialog[\"default\"].button,\n    type: \"ghost\",\n    onClick: cancelHandle\n  }, (0, _intlApi.getLangMsg)('bosd.gridDialog.key0011')), /*#__PURE__*/_react[\"default\"].createElement(_kdesign.Button, {\n    className: okBtnClass,\n    onClick: okHandle,\n    type: \"primary\"\n  }, (0, _intlApi.getLangMsg)('bosd.gridDialog.key0012'))))) : null;\n  return /*#__PURE__*/_reactDom[\"default\"].createPortal(dom, document.body);\n}\nfunction NumberInput(_ref2) {\n  var other = Object.assign({}, (_objectDestructuringEmpty(_ref2), _ref2));\n  return /*#__PURE__*/_react[\"default\"].createElement(\"input\", _extends({\n    className: _GridDialog[\"default\"].numberInput,\n    type: \"text\"\n  }, other));\n}\n\n//# sourceURL=webpack://bos-platform/./src/designer/page/GridDialog.js?");

/***/ }),

/***/ "./src/designer/page/Guide.jsx":
/*!*************************************!*\
  !*** ./src/designer/page/Guide.jsx ***!
  \*************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.GuideBubble = GuideBubble;\nexports.StartPage = StartPage;\nexports[\"default\"] = void 0;\nexports.getCurrentEnvrionment = getCurrentEnvrionment;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.parse-int.js */ \"../../node_modules/core-js/modules/es.parse-int.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\n__webpack_require__(/*! core-js/modules/es.string.match.js */ \"../../node_modules/core-js/modules/es.string.match.js\");\n__webpack_require__(/*! core-js/modules/es.string.replace.js */ \"../../node_modules/core-js/modules/es.string.replace.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _propTypes = _interopRequireDefault(__webpack_require__(/*! prop-types */ \"../../node_modules/prop-types/index.js\"));\nvar _Guide = _interopRequireDefault(__webpack_require__(/*! ./Guide.less */ \"./src/designer/page/Guide.less\"));\nvar _classnames = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _index = __webpack_require__(/*! ../icon/index */ \"./src/designer/icon/index.js\");\nvar _storage = _interopRequireWildcard(__webpack_require__(/*! @/util/storage */ \"./src/util/storage.js\"));\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nvar defaultGuideSteps = [{\n  selector: '',\n  content: {\n    title: 'home',\n    desc: (0, _intlApi.getLangMsg)('bosd.guide.key0001'),\n    img: _index.GxiaoKImg\n  }\n}, {\n  selector: '.bos-guide-toolbar',\n  content: {\n    title: (0, _intlApi.getLangMsg)('bosd.guide.key0002'),\n    desc: (0, _intlApi.getLangMsg)('bosd.guide.key0003'),\n    img: _index.GtoolbarImg\n  }\n}, {\n  selector: '.bos-guide-template',\n  content: {\n    title: (0, _intlApi.getLangMsg)('bosd.guide.key0004'),\n    desc: (0, _intlApi.getLangMsg)('bosd.guide.key0005'),\n    img: _index.GtemplateImg\n  }\n}, {\n  selector: '',\n  content: {\n    direction: '',\n    title: (0, _intlApi.getLangMsg)('bosd.guide.key0006'),\n    desc: (0, _intlApi.getLangMsg)('bosd.guide.key0007'),\n    img: _index.GtemplatePickImg,\n    fakeTarget: [{\n      id: 1,\n      img: _index.GtemplateListImg,\n      style: {\n        position: 'absolute',\n        width: '640px',\n        top: 58,\n        left: 0\n      }\n    }, {\n      id: 2,\n      img: _index.GtemplateBtnImg,\n      style: {\n        position: 'absolute',\n        width: '640px',\n        bottom: 0,\n        left: 0\n      }\n    }],\n    pos: {\n      left: 680,\n      top: '50%',\n      fingerDirection: 'left'\n    }\n  }\n}, {\n  selector: '',\n  content: {\n    title: (0, _intlApi.getLangMsg)('bosd.guide.key0008'),\n    desc: (0, _intlApi.getLangMsg)('bosd.guide.key0009'),\n    img: _index.GfieldBindModuleImg,\n    fakeTarget: [{\n      id: 1,\n      img: _index.GfieldBindListImg,\n      style: {\n        position: 'absolute',\n        width: '640px',\n        top: 58,\n        left: 0\n      }\n    }, {\n      id: 2,\n      img: _index.GfieldBindBtnImg,\n      style: {\n        position: 'absolute',\n        width: '640px',\n        bottom: 0,\n        left: 0\n      }\n    }],\n    pos: {\n      left: 680,\n      top: '50%',\n      fingerDirection: 'left'\n    }\n  }\n}, {\n  selector: '.bos-guide-copy',\n  content: {\n    title: (0, _intlApi.getLangMsg)('bosd.guide.key0010'),\n    desc: (0, _intlApi.getLangMsg)('bosd.guide.key0011'),\n    img: _index.GcopeImg\n  }\n}, {\n  selector: '.bos-guide-formatpainter',\n  content: {\n    title: (0, _intlApi.getLangMsg)('bosd.guide.key0012'),\n    desc: (0, _intlApi.getLangMsg)('bosd.guide.key0013'),\n    img: _index.GformatPainterImg\n  },\n  img: ''\n}, {\n  selector: '.bos-guide-mobile-receipt',\n  content: {\n    title: (0, _intlApi.getLangMsg)('bosd.guide.key0014'),\n    desc: (0, _intlApi.getLangMsg)('bosd.guide.key0015'),\n    img: _index.GstartImg\n  }\n}];\nvar guideStepsBranch = {\n  toolbox: {\n    selector: '',\n    content: {\n      direction: '',\n      title: (0, _intlApi.getLangMsg)('bosd.guide.key0016'),\n      desc: (0, _intlApi.getLangMsg)('bosd.guide.key0017').replace('*', \"<span style='color: red'>*</span>\"),\n      img: _index.GControlSImg,\n      fakeTarget: [{\n        id: 1,\n        img: _index.GControlBImg,\n        style: {\n          position: 'absolute',\n          width: '270px',\n          top: 58,\n          left: 0\n        }\n      }],\n      pos: {\n        left: 310,\n        top: '50%',\n        fingerDirection: 'left'\n      }\n    }\n  },\n  fragments: {\n    selector: '',\n    content: {\n      direction: '',\n      title: (0, _intlApi.getLangMsg)('bosd.guide.key0018'),\n      desc: (0, _intlApi.getLangMsg)('bosd.guide.key0019'),\n      img: _index.GModuleSImg,\n      fakeTarget: [{\n        id: 1,\n        img: _index.GModuleBImg,\n        style: {\n          position: 'absolute',\n          width: '270px',\n          top: 58,\n          left: 0\n        }\n      }],\n      pos: {\n        left: 310,\n        top: '58px',\n        fingerDirection: 'left',\n        transform: 'translateY(0)'\n      },\n      fingerPos: {\n        top: '35px'\n      }\n    }\n  },\n  CardListColumnAp: {\n    // 卡片视图子元素\n    selector: '.bos-guide-selectPanel',\n    content: {\n      direction: '',\n      title: (0, _intlApi.getLangMsg)('bosd.guide.key0020'),\n      desc: (0, _intlApi.getLangMsg)('bosd.guide.key0021'),\n      img: _index.GfastPickCard,\n      pos: {\n        left: '50%',\n        top: '100%',\n        fingerDirection: 'left',\n        transform: 'translate(-50%, -130%)'\n      },\n      fingerPos: {\n        top: '220px',\n        transform: 'rotate(-90deg)',\n        left: '50%'\n      }\n    }\n  },\n  CardRowPanelAp: {\n    // 选中卡片视图行\n    selector: '',\n    content: {\n      direction: '',\n      title: (0, _intlApi.getLangMsg)('bosd.guide.key0022'),\n      desc: (0, _intlApi.getLangMsg)('bosd.guide.key0023'),\n      img: _index.GCardRowListImg,\n      fakeTarget: [{\n        id: 1,\n        img: _index.GCardRowPanelImg,\n        style: {\n          position: 'absolute',\n          width: '280px',\n          top: 58,\n          left: '100%',\n          transform: 'translateX(-100%)'\n        }\n      }],\n      pos: {\n        left: '100%',\n        top: '58px',\n        transform: 'translateX(-640px)'\n      },\n      fingerPos: {\n        top: '35px'\n      }\n    }\n  },\n  CardListColumnApBind: {\n    // 单字段绑定\n    selector: '[title=\"[ListFieldId]\"]',\n    content: {\n      direction: '',\n      title: (0, _intlApi.getLangMsg)('bosd.guide.key0024'),\n      desc: (0, _intlApi.getLangMsg)('bosd.guide.key0025'),\n      img: _index.GsingFieldBindImg\n    }\n  }\n};\nfunction getCurrentEnvrionment() {\n  var pathname = window.location.pathname;\n  var matchArr = pathname.match(/\\/(\\w+)\\//);\n  return matchArr ? matchArr[1] : '';\n}\nfunction StartPage(props) {\n  var pathname = getCurrentEnvrionment();\n  var userInfo = _storage[\"default\"].get(\"\".concat(pathname).concat(_storage.KD_DESIGNER_LOGIN_USER_INFO));\n  userInfo = userInfo ? JSON.parse(userInfo) : {};\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _Guide[\"default\"]['guide-start-page']\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _Guide[\"default\"]['start-img']\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"img\", {\n    src: _index.GxiaoKImg,\n    alt: \"\"\n  })), /*#__PURE__*/_react[\"default\"].createElement(\"p\", {\n    className: _Guide[\"default\"].username\n  }, \"Hi, \", userInfo ? userInfo.username : ''), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _Guide[\"default\"]['start-word']\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"p\", null, (0, _intlApi.getLangMsg)('bosd.guide.key0026')), /*#__PURE__*/_react[\"default\"].createElement(\"p\", null, (0, _intlApi.getLangMsg)('bosd.guide.key0027'))), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _Guide[\"default\"]['start-footer']\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"button\", {\n    onClick: props.handleSkipGuide\n  }, (0, _intlApi.getLangMsg)('bosd.guide.key0028')), /*#__PURE__*/_react[\"default\"].createElement(\"button\", {\n    className: _Guide[\"default\"]['active-btn'],\n    onClick: props.handleStartGuide\n  }, (0, _intlApi.getLangMsg)('bosd.guide.key0029'))));\n}\nfunction GuideBubble(props) {\n  var guideBubbleRef = (0, _react.useRef)(null);\n  var _useState = (0, _react.useState)({}),\n    _useState2 = _slicedToArray(_useState, 2),\n    targetPos = _useState2[0],\n    setTargetPos = _useState2[1];\n  var _useState3 = (0, _react.useState)({}),\n    _useState4 = _slicedToArray(_useState3, 2),\n    fingerPos = _useState4[0],\n    setFingerPos = _useState4[1];\n  var isLastPage = props.guideIndex === props.totalStep - 1;\n  var fakeTargets = props.fakeTarget;\n  var fakeTarget = fakeTargets ? fakeTargets.map(function (item) {\n    return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      key: item.id\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"img\", {\n      src: item.img,\n      alt: \"\",\n      style: item.style\n    }));\n  }) : '';\n  var fingerCls = (0, _classnames[\"default\"])(_Guide[\"default\"].finger, props.pos && props.pos.fingerDirection ? _Guide[\"default\"]['finger-left'] : '');\n  var calculatePos = function calculatePos() {\n    if (props.pos) {\n      // 自定义位置\n      props.fingerPos ? setFingerPos(props.fingerPos) : setFingerPos({\n        top: '50%'\n      });\n      return Object.assign({}, props.pos, {\n        visibility: 'visible'\n      });\n    }\n    var _ref = props.targetNode ? props.targetNode.getBoundingClientRect() : {},\n      left = _ref.left,\n      top = _ref.top,\n      width = _ref.width,\n      height = _ref.height;\n    var bubblePosition = guideBubbleRef.current ? guideBubbleRef.current.getBoundingClientRect() : {};\n    var gapWidth = 40;\n    // const gapTop = 32\n    var pos = {\n      position: 'absolute',\n      left: left - gapWidth - bubblePosition.width,\n      top: top + Math.floor(height / 2),\n      visibility: 'visible'\n    };\n    // 判断是否出了上边界\n    var isOutTop = (parseInt(bubblePosition.height) - parseInt(height)) / 2 - top;\n    // 判断是否出了下边界\n    // const iw = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth\n    var ih = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight;\n    var isBottom = top + (parseInt(bubblePosition.height) - parseInt(height)) / 2 - ih;\n    if (isOutTop > 0) {\n      // let translateRate = parseInt(isOutTop / parseInt(bubblePosition.height) * 100) + 10\n      // const translateYRate =\n      pos.transform = 'translateY(-10%)';\n      setFingerPos({\n        top: '10%'\n      });\n    } else if (isBottom > 0) {\n      pos.transform = 'translateY(-90%)';\n      setFingerPos({\n        top: '90%'\n      });\n    } else {\n      setFingerPos({\n        top: '50%'\n      });\n    }\n    return pos;\n  };\n  (0, _react.useEffect)(function () {\n    // const { left, top, width, height } = guideBubbleRef.current ? guideBubbleRef.current.getBoundingClientRect() : {}\n    setTargetPos(calculatePos());\n  }, [props.guideIndex]);\n  var guideIndex = props.guideIndex;\n  var totalStep = props.totalStep;\n  if (props.isFirstGuide) {\n    // 第一次引导， polyfill 步骤显示bug\n    guideIndex = guideIndex - 1;\n    totalStep = totalStep - 1;\n  }\n  return /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, null, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _Guide[\"default\"]['guide-info'],\n    style: targetPos,\n    ref: guideBubbleRef\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _Guide[\"default\"].header\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: _Guide[\"default\"].title\n  }, props.title), props.showSkip && !isLastPage && /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: _Guide[\"default\"].jump,\n    onClick: props.handleSkipGuide\n  }, (0, _intlApi.getLangMsg)('bosd.guide.key0030'))), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _Guide[\"default\"].main\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"p\", {\n    dangerouslySetInnerHTML: {\n      __html: props.desc\n    }\n  }), /*#__PURE__*/_react[\"default\"].createElement(\"img\", {\n    src: props.img,\n    alt: \"\"\n  })), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _Guide[\"default\"].footer\n  }, !props.showSkip ? /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    style: {\n      width: '100%',\n      textAlign: 'right'\n    }\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"button\", {\n    className: _Guide[\"default\"]['active-btn'],\n    onClick: props.handleNextStep\n  }, (0, _intlApi.getLangMsg)('bosd.guide.key0031'))) : /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, null, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: _Guide[\"default\"].page\n  }, guideIndex + 1, \"/\", totalStep, \" \"), /*#__PURE__*/_react[\"default\"].createElement(\"div\", null, guideIndex > 0 && /*#__PURE__*/_react[\"default\"].createElement(\"button\", {\n    onClick: props.handlePrevStep\n  }, (0, _intlApi.getLangMsg)('bosd.guide.key0032')), /*#__PURE__*/_react[\"default\"].createElement(\"button\", {\n    className: _Guide[\"default\"]['active-btn'],\n    onClick: props.handleNextStep\n  }, isLastPage ? (0, _intlApi.getLangMsg)('bosd.guide.key0033') : (0, _intlApi.getLangMsg)('bosd.guide.key0034'))))), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: fingerCls,\n    style: fingerPos\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", null)), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _Guide[\"default\"]['target-mask']\n  })), fakeTarget);\n}\nfunction Guide(props) {\n  var _useState5 = (0, _react.useState)(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    visible = _useState6[0],\n    setVisible = _useState6[1];\n  var _useState7 = (0, _react.useState)(0),\n    _useState8 = _slicedToArray(_useState7, 2),\n    guideIndex = _useState8[0],\n    setGuideIndex = _useState8[1];\n  var _useState9 = (0, _react.useState)(),\n    _useState10 = _slicedToArray(_useState9, 2),\n    targetNode = _useState10[0],\n    setTargetNode = _useState10[1];\n  var _useState11 = (0, _react.useState)(true),\n    _useState12 = _slicedToArray(_useState11, 2),\n    showSkip = _useState12[0],\n    setShowSkip = _useState12[1];\n  var _useState13 = (0, _react.useState)({}),\n    _useState14 = _slicedToArray(_useState13, 2),\n    overlayShapeStyle = _useState14[0],\n    setOverlayStyle = _useState14[1];\n  var guideRef = (0, _react.useRef)(null);\n  var isPc = props.isPC;\n  var _useState15 = (0, _react.useState)(defaultGuideSteps),\n    _useState16 = _slicedToArray(_useState15, 2),\n    guideSteps = _useState16[0],\n    setGuideSteps = _useState16[1];\n  var getGuideStorage = function getGuideStorage() {\n    var key = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    var guideStorage = _storage[\"default\"].get(_storage.IERP_BOS_GUIDE) || '{}';\n    var ret = JSON.parse(guideStorage);\n    return key ? ret[key] : ret;\n  };\n  var guideStepsBranchKey = {\n    toolbox: 'toolbox',\n    fragments: 'fragments',\n    CardRowPanelAp: 'CardRowPanelAp',\n    // 视图行\n    CardListColumnApBind: 'CardListColumnApBind',\n    CardListColumnAp: 'CardListColumnAp',\n    CardFlexPanelAp: 'CardListColumnAp',\n    CardPictureListColumnAp: 'CardListColumnAp',\n    CardDateListColumnAp: 'CardListColumnAp',\n    CardTimeListColumnAp: 'CardListColumnAp',\n    CardCheckBoxListColumnAp: 'CardListColumnAp',\n    CardComboListColumnAp: 'CardListColumnAp',\n    CardMulComboListColumnAp: 'CardListColumnAp',\n    CardDecimalListColumnAp: 'CardListColumnAp',\n    CardFlexListColumnAp: 'CardListColumnAp'\n  };\n  // 需要展示卡片视图行和字段映射引导的控件\n  var cardListColumnApArr = ['CardListColumnAp', 'CardPictureListColumnAp', 'CardDateListColumnAp', 'CardTimeListColumnAp', 'CardCheckBoxListColumnAp', 'CardComboListColumnAp', 'CardMulComboListColumnAp', 'CardDecimalListColumnAp', 'CardFlexListColumnAp'];\n  var isBranchGuide = getGuideStorage().isFirstGuide === 1 && Object.keys(guideStepsBranchKey).includes(props.showGuideType);\n  (0, _react.useEffect)(function () {\n    // showGuideType 默认 -1\n    var showGuideType = props.showGuideType;\n    if (!isPc && (getGuideStorage().isFirstGuide !== 1 || showGuideType === 0)) {\n      // 触发条件\n      setVisible(true);\n    }\n    if (isBranchGuide) {\n      if (getGuideStorage(guideStepsBranchKey[showGuideType]) !== 1) {\n        setVisible(true);\n      }\n      if (showGuideType === 'CardListColumnAp' && getGuideStorage('CardListColumnApBind') !== 1) {\n        setVisible(true);\n      }\n    }\n    return function () {\n      setVisible(false);\n    };\n  });\n  (0, _react.useEffect)(function () {\n    var showGuideType = props.showGuideType;\n    var steps = [];\n    if (isBranchGuide) {\n      // 开始分支引导\n      var branchKey = guideStepsBranchKey[showGuideType];\n      var branchHasShow = getGuideStorage(branchKey) === 1;\n      if (branchHasShow && showGuideType !== 'CardListColumnAp') return;\n      steps = [guideStepsBranch[branchKey]];\n      if (cardListColumnApArr.includes(showGuideType)) {\n        // 卡片视图字段绑定\n        steps = branchHasShow ? [guideStepsBranch.CardListColumnApBind] : [guideStepsBranch.CardListColumnApBind, guideStepsBranch[branchKey]];\n      }\n    } else if (showGuideType === 0) {\n      // 主干二次引导\n      steps = defaultGuideSteps.slice(1);\n    }\n    if (steps.length === 0) return;\n    if (steps.length === 1) {\n      setShowSkip(false);\n    }\n    setGuideIndex(0);\n    setGuideSteps(steps);\n    setTargetNodeBySelector(steps[0].selector, brandeNotFindDom);\n  }, [props.showGuideType]);\n  var brandeNotFindDom = function brandeNotFindDom() {\n    setVisible(false);\n    setGuideIndex(0);\n    setShowSkip(true);\n    setTargetNode(null);\n    props.showGuide && props.showGuide(-1);\n  };\n  (0, _react.useEffect)(function () {\n    if (targetNode) {\n      var _ref2 = targetNode.getBoundingClientRect() || {},\n        left = _ref2.left,\n        top = _ref2.top,\n        width = _ref2.width,\n        height = _ref2.height;\n      setOverlayStyle({\n        width: width,\n        height: height,\n        left: left,\n        top: top\n      });\n    }\n    return function () {\n      setOverlayStyle({\n        width: 0,\n        height: 0\n      });\n    };\n  }, [targetNode]);\n  var totalStep = guideSteps.length;\n  var guideContentCls = (0, _classnames[\"default\"])('guide-content-container', _Guide[\"default\"]['guide-content']);\n  var skipGuide = function skipGuide() {\n    setShowSkip(false);\n    handleStep(totalStep - 1);\n  };\n  var endGuide = function endGuide() {\n    var guideStorage = getGuideStorage() || {};\n    if (!isBranchGuide) {\n      guideStorage.isFirstGuide = 1;\n    } else {\n      var branchKey = guideStepsBranchKey[props.showGuideType];\n      guideStorage[branchKey] = 1;\n      if (cardListColumnApArr.includes(props.showGuideType)) {\n        guideStorage.CardListColumnApBind = 1;\n      }\n    }\n    _storage[\"default\"].set(_storage.IERP_BOS_GUIDE, JSON.stringify(guideStorage));\n    setVisible(false);\n    setGuideIndex(0);\n    setShowSkip(true);\n    setTargetNode(null);\n    props.showGuide && props.showGuide(-1);\n  };\n  var setTargetNodeBySelector = function setTargetNodeBySelector(targetSelector, brandeNotFindDom) {\n    if (!targetSelector) return setTargetNode(null);\n    var targetNodes = guideRef && guideRef.current && guideRef.current.querySelectorAll(targetSelector);\n    if (!targetNodes.length && brandeNotFindDom) {\n      brandeNotFindDom();\n      return;\n    }\n    if (targetNodes && targetNodes.length) {\n      var _targetNode = targetNodes[0];\n      setTargetNode(_targetNode);\n    }\n  };\n  var handlePrevStep = function handlePrevStep() {\n    return handleStep(guideIndex - 1);\n  };\n  var handleNextStep = function handleNextStep() {\n    return handleStep(guideIndex + 1);\n  };\n  var handleStep = function handleStep(currentIndex) {\n    var steps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : guideSteps;\n    if (currentIndex === totalStep) return endGuide();\n    setGuideIndex(currentIndex);\n    if (steps[currentIndex]) {\n      setTargetNodeBySelector(steps[currentIndex].selector);\n    }\n  };\n  var nextProps = Object.assign({\n    showSkip: showSkip,\n    guideIndex: guideIndex,\n    totalStep: totalStep,\n    targetNode: targetNode\n  }, guideSteps[guideIndex].content);\n  var isFirstGuide = !isBranchGuide && getGuideStorage().isFirstGuide !== 1;\n  var showStartPage = isFirstGuide && guideIndex === 0;\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _Guide[\"default\"]['guide-container'],\n    ref: guideRef\n  }, props.children, visible && /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, null, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _Guide[\"default\"]['guide-overlay']\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n    className: _Guide[\"default\"]['guide-overlay-shape'],\n    style: overlayShapeStyle,\n    \"data-content\": (0, _intlApi.getLangMsg)('bosd.guide.key0035')\n  })), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: guideContentCls,\n    key: \"guide-content\"\n  }, showStartPage ? /*#__PURE__*/_react[\"default\"].createElement(StartPage, {\n    handleSkipGuide: skipGuide,\n    handleStartGuide: handleNextStep\n  }) : /*#__PURE__*/_react[\"default\"].createElement(GuideBubble, _extends({\n    handlePrevStep: handlePrevStep,\n    handleNextStep: handleNextStep\n  }, nextProps, {\n    handleSkipGuide: skipGuide,\n    isFirstGuide: isFirstGuide\n  })))));\n}\nvar _default = exports[\"default\"] = Guide;\n\n//# sourceURL=webpack://bos-platform/./src/designer/page/Guide.jsx?");

/***/ }),

/***/ "./src/designer/page/MessagePage.jsx":
/*!*******************************************!*\
  !*** ./src/designer/page/MessagePage.jsx ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.MessagePageContainer = void 0;\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/web.timers.js */ \"../../node_modules/core-js/modules/web.timers.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _propTypes = _interopRequireDefault(__webpack_require__(/*! prop-types */ \"../../node_modules/prop-types/index.js\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _reactRedux = __webpack_require__(/*! react-redux */ \"../../node_modules/react-redux/es/index.js\");\nvar actionCreators = _interopRequireWildcard(__webpack_require__(/*! ../action */ \"./src/designer/action/index.js\"));\nvar _postal = _interopRequireDefault(__webpack_require__(/*! postal */ \"../../node_modules/postal/lib/postal.js\"));\nvar _designerContext = __webpack_require__(/*! ../controls/common/designerContext */ \"./src/designer/controls/common/designerContext.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar MessagePage = /*#__PURE__*/function (_Component) {\n  _inherits(MessagePage, _Component);\n  function MessagePage() {\n    _classCallCheck(this, MessagePage);\n    return _callSuper(this, MessagePage, arguments);\n  }\n  _createClass(MessagePage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this = this;\n      this.subscribe = _postal[\"default\"].subscribe({\n        channel: this.context.model.pageId,\n        topic: 'notify_message:designer',\n        callback: function callback(_ref) {\n          var message = _ref.message,\n            messageType = _ref.messageType;\n          _this.props.notifyMessage(message, messageType);\n        }\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      _postal[\"default\"].unsubscribe(this.subscribe);\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      var _this2 = this;\n      if (nextProps.notify_message && !nextProps.notify_message.get('message')) {\n        return;\n      }\n      if (!(0, _immutable.is)(this.props.notify_message, nextProps.notify_message)) {\n        clearTimeout(this.timeId);\n        // show message\n        this.timeId = setTimeout(function () {\n          _this2.props.notifyMessage();\n        }, 3000);\n      }\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      return !(0, _immutable.is)(this.props.notify_message, nextProps.notify_message);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (!this.props.notify_message || this.props.notify_message && !this.props.notify_message.get('message')) {\n        return null;\n      }\n      var style = {\n        position: 'fixed',\n        width: '100%',\n        backgroundColor: 'black',\n        height: 40,\n        bottom: 0,\n        border: '1px solid ',\n        display: 'flex',\n        alignItems: 'center',\n        paddingLeft: 20,\n        zIndex: 1050\n      };\n      var notify_message = this.props.notify_message;\n      var messageStyle = {\n        color: notify_message.get('messageType') == 'warn' ? 'darkorange' : '#ffffff'\n      };\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        id: \"message-page\",\n        style: style\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n        style: messageStyle\n      }, notify_message.get('message')));\n    }\n  }]);\n  return MessagePage;\n}(_react.Component);\nMessagePage.propTypes = {\n  notify_message: _propTypes[\"default\"].object\n};\nMessagePage.contextType = _designerContext.DesignerContext;\nfunction mapStateToProps(state) {\n  return {\n    notify_message: state.shareState.get('notify_message')\n  };\n}\nvar MessagePageContainer = exports.MessagePageContainer = (0, _reactRedux.connect)(mapStateToProps, actionCreators)(MessagePage);\n\n//# sourceURL=webpack://bos-platform/./src/designer/page/MessagePage.jsx?");

/***/ }),

/***/ "./src/designer/page/MobileReceipt.jsx":
/*!*********************************************!*\
  !*** ./src/designer/page/MobileReceipt.jsx ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.parse-int.js */ \"../../node_modules/core-js/modules/es.parse-int.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.string.ends-with.js */ \"../../node_modules/core-js/modules/es.string.ends-with.js\");\n__webpack_require__(/*! core-js/modules/es.string.replace.js */ \"../../node_modules/core-js/modules/es.string.replace.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _classnames2 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _global = _interopRequireWildcard(__webpack_require__(/*! @/global */ \"./src/global/index.js\"));\nvar _PanelWithOutside = _interopRequireDefault(__webpack_require__(/*! ../../component/common/PanelWithOutside */ \"./src/component/common/PanelWithOutside.js\"));\nvar _qrcode = _interopRequireDefault(__webpack_require__(/*! qrcode.react */ \"./node_modules/qrcode.react/lib/index.js\"));\nvar _intlApi = __webpack_require__(/*! ../../../src/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nvar _client = __webpack_require__(/*! @/action/actionname/global/custom/client */ \"./src/action/actionname/global/custom/client/index.js\");\nvar _MobileReceipt = _interopRequireDefault(__webpack_require__(/*! ./MobileReceipt.less */ \"./src/designer/page/MobileReceipt.less\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n/**\n * 移动端组件展示入口组件\n * @author mengjie_wu 2019/11/06\n */\nfunction MobileReceipt(props) {\n  var _useState = (0, _react.useState)(true),\n    _useState2 = _slicedToArray(_useState, 2),\n    isHidden = _useState2[0],\n    handleChangeState = _useState2[1];\n  var _useState3 = (0, _react.useState)(0),\n    _useState4 = _slicedToArray(_useState3, 2),\n    qrCodeRight = _useState4[0],\n    setQrCodeRight = _useState4[1];\n  var wrapperRef = (0, _react.useRef)();\n  (0, _react.useLayoutEffect)(function () {\n    var wrapperWidth = window.parseInt(window.getComputedStyle(wrapperRef.current).width);\n    setQrCodeRight(wrapperWidth + 20);\n  }, []);\n  var wrapStyle = isHidden ? (0, _classnames2[\"default\"])(_MobileReceipt[\"default\"].wrap, _MobileReceipt[\"default\"].codeHidden) : (0, _classnames2[\"default\"])(_MobileReceipt[\"default\"].wrap, _MobileReceipt[\"default\"].code);\n  var guideWrapStyle = (0, _classnames2[\"default\"])(_MobileReceipt[\"default\"].wrap, 'bos-guide-mobile-receipt');\n  var tipStyle = (0, _classnames2[\"default\"])(_MobileReceipt[\"default\"].tip, _defineProperty({}, _MobileReceipt[\"default\"].clicked, isHidden === false));\n  var guideCls = (0, _classnames2[\"default\"])(_MobileReceipt[\"default\"].tip);\n  var handleShowGuide = function handleShowGuide() {\n    props.showGuide && props.showGuide();\n  };\n  return /*#__PURE__*/_react[\"default\"].createElement(_PanelWithOutside[\"default\"], {\n    onCLickOutside: function onCLickOutside() {\n      return handleChangeState(true);\n    }\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _MobileReceipt[\"default\"].wrapContainer,\n    ref: wrapperRef\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: wrapStyle\n  }, isHidden ? null : /*#__PURE__*/_react[\"default\"].createElement(MobileReceiptQRcode, {\n    qrCodeRight: qrCodeRight\n  }), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: tipStyle,\n    onClick: function onClick() {\n      return handleChangeState(!isHidden);\n    }\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: \"kdfont kdfont-shili \".concat(_MobileReceipt[\"default\"].icon)\n  }), /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: _MobileReceipt[\"default\"].text\n  }, (0, _intlApi.getLangMsg)('mobile.mobileReceiptQRcode.key0001')))), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: guideWrapStyle\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: guideCls,\n    onClick: function onClick() {\n      return handleShowGuide();\n    }\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: \"kdfont kdfont-yindao2 \".concat(_MobileReceipt[\"default\"].icon)\n  }), /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: _MobileReceipt[\"default\"].text\n  }, (0, _intlApi.getLangMsg)('mobile.mobileReceiptQRcode.key0004'))))));\n}\nvar MobileReceiptQRcode = function MobileReceiptQRcode(_ref) {\n  var qrCodeRight = _ref.qrCodeRight;\n  // 点击直接打开移动端页面\n  var handleClick = function handleClick(e) {\n    e.preventDefault();\n    var rooPageId = (0, _global.getGlobalState)().get('rootPageId');\n    _global[\"default\"][_global.INVOKE_CUSTOM_EVENT] && _global[\"default\"][_global.INVOKE_CUSTOM_EVENT](rooPageId, '', [_client.CUSTOM_EVENT_SHOW_MOBILE_CTRL, '', '']);\n  };\n  var getUrl = function getUrl() {\n    var _window$location = window.location,\n      origin = _window$location.origin,\n      pathname = _window$location.pathname;\n    var suffix = '?userId=Guest#/form/cos_component';\n    var _pathName = pathname.endsWith('html') ? pathname.replace('index', 'mobile') : pathname + 'mobile.html';\n    return origin + _pathName + suffix;\n  };\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _MobileReceipt[\"default\"].box,\n    style: {\n      right: qrCodeRight\n    }\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"h4\", null, \" \", (0, _intlApi.getLangMsg)('mobile.mobileReceiptQRcode.key0002')), /*#__PURE__*/_react[\"default\"].createElement(_qrcode[\"default\"], {\n    value: getUrl(),\n    size: 130,\n    bgColor: \"#FFFFFF\",\n    fgColor: \"#000000\",\n    level: \"L\"\n  }), /*#__PURE__*/_react[\"default\"].createElement(\"a\", {\n    href: getUrl(),\n    target: \"_blank\",\n    rel: \"noopener noreferrer\",\n    onClick: handleClick\n  }, (0, _intlApi.getLangMsg)('mobile.mobileReceiptQRcode.key0003')));\n};\nvar _default = exports[\"default\"] = MobileReceipt;\n\n//# sourceURL=webpack://bos-platform/./src/designer/page/MobileReceipt.jsx?");

/***/ }),

/***/ "./src/designer/page/Outline.jsx":
/*!***************************************!*\
  !*** ./src/designer/page/Outline.jsx ***!
  \***************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.constructor.js */ \"../../node_modules/core-js/modules/es.regexp.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.search.js */ \"../../node_modules/core-js/modules/es.string.search.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _propTypes = _interopRequireDefault(__webpack_require__(/*! prop-types */ \"../../node_modules/prop-types/index.js\"));\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _classnames2 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _icon = _interopRequireWildcard(__webpack_require__(/*! ../icon */ \"./src/designer/icon/index.js\"));\nvar icons = _icon;\nvar _propnames = __webpack_require__(/*! ../constant/propnames */ \"./src/designer/constant/propnames.js\");\nvar _DragWarpper = _interopRequireDefault(__webpack_require__(/*! ../controls/common/DragWarpper */ \"./src/designer/controls/common/DragWarpper.js\"));\nvar _Switch = _interopRequireDefault(__webpack_require__(/*! ../../component/web/base/Switch */ \"./src/component/web/base/Switch.js\"));\nvar _Tree = _interopRequireWildcard(__webpack_require__(/*! ../component/Tree */ \"./src/designer/component/Tree.jsx\"));\nvar _Outline2 = _interopRequireDefault(__webpack_require__(/*! ./Outline.less */ \"./src/designer/page/Outline.less\"));\nvar _keyCodeTool = __webpack_require__(/*! ../../util/keyCodeTool */ \"./src/util/keyCodeTool.js\");\nvar _model = __webpack_require__(/*! ../model */ \"./src/designer/model/index.js\");\nvar _designerContext = __webpack_require__(/*! ../controls/common/designerContext */ \"./src/designer/controls/common/designerContext.js\");\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n// 一次实例化\nvar DraggableTreeNode = (0, _DragWarpper[\"default\"])(_Tree.TreeNode, true, false);\nvar AcceptableTreeNode = (0, _DragWarpper[\"default\"])(_Tree.TreeNode, false, true);\nvar DragTreeNode = (0, _DragWarpper[\"default\"])(_Tree.TreeNode, true, true);\n\n// 禁止拖拽的控件列表\nvar undragableTypes = ['ColumnAp', 'TabPageAp', 'SplitPanelAp', 'AdvConSummaryPanelAp', 'AdvConToolbarAp', 'AdvConChildPanelAp'];\nfunction getOutlineIcon(itemType) {\n  return icons[itemType] || icons.defaultIcon;\n}\nvar Outline = /*#__PURE__*/function (_Component) {\n  _inherits(Outline, _Component);\n  function Outline(props) {\n    var _this;\n    _classCallCheck(this, Outline);\n    _this = _callSuper(this, Outline, [props]);\n    _this.state = {\n      showContentModel: false,\n      // 大纲树形界面显示内容(false:名称,true:id),默认显示名称\n      isExpand: false,\n      // 展开全部图标状态\n      isExpandAll: false,\n      // 大纲及实体展开全部\n      isPackUpAll: false // 大纲及实体收起所有(默认收起)\n    };\n    _this.onSelect = _this.onSelect.bind(_assertThisInitialized(_this));\n    _this.handleSearch = _this.handleSearch.bind(_assertThisInitialized(_this));\n    _this.getIdInTree = _this.getIdInTree.bind(_assertThisInitialized(_this));\n    _this.handleSwitch = _this.handleSwitch.bind(_assertThisInitialized(_this));\n    _this.handlePackUpAll = _this.handlePackUpAll.bind(_assertThisInitialized(_this));\n    _this.handleChildExpandChange = _this.handleChildExpandChange.bind(_assertThisInitialized(_this));\n    _this.handleChildPackUpChange = _this.handleChildPackUpChange.bind(_assertThisInitialized(_this));\n    _this.handlePreventBubble = _this.handlePreventBubble.bind(_assertThisInitialized(_this));\n    _this.getKeyById = _this.getKeyById.bind(_assertThisInitialized(_this));\n    _this.searchInfo = {\n      // 记录大纲树搜索的信息\n      ids: [],\n      name: '',\n      index: 0\n    };\n    return _this;\n  }\n  _createClass(Outline, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState, nextContext) {\n      return !(0, _immutable.is)(this.props.uiInfo, nextProps.uiInfo) || this.props.select_control_id != nextProps.select_control_id || this.props.select_control_ids != nextProps.select_control_ids || this.props.format_control_id != nextProps.format_control_id || this.props.dragover_control_id != nextProps.dragover_control_id || this.state.showContentModel !== nextState.showContentModel || this.state.isExpandAll !== nextState.isExpandAll || this.state.isPackUpAll !== nextState.isPackUpAll;\n    }\n  }, {\n    key: \"handleSearch\",\n    value: function handleSearch(e) {\n      var _this$props = this.props,\n        isEntity = _this$props.isEntity,\n        uiInfo = _this$props.uiInfo,\n        select_control_id = _this$props.select_control_id;\n      var currentName = e.target.value;\n      var tree = this.props.uiInfo.getIn(['ui']);\n      if (isEntity) {\n        tree = this.props.uiInfo.getIn(['entitytree']);\n      }\n      if (e.which === 13) {\n        if (currentName === '') {\n          this.resetSearch();\n          if (isEntity) {\n            this.props.initSelectControlId(tree.getIn(['Id']));\n          } else {\n            this.props.selectControlId(tree.getIn(['Id']));\n          }\n          return;\n        }\n        var name = this.searchInfo.name;\n        if (name === currentName) {\n          this.searchInfo.index++;\n          if (this.searchInfo.index === this.searchInfo.ids.length) {\n            this.searchInfo.index = 0;\n          }\n        } else {\n          this.searchInfo.name = currentName;\n          this.searchInfo.ids.length = 0;\n          this.searchInfo.index = 0;\n          this.getIdInTree(tree);\n        }\n        // 未搜索到节点则默认选中根节点\n        if (isEntity) {\n          var _uiModel$getFormmetaI;\n          var entityId = this.searchInfo.ids[this.searchInfo.index];\n          var reg = new RegExp(this.searchInfo.name, 'i');\n          var field = (_uiModel$getFormmetaI = _model.uiModel.getFormmetaItemsByFieldId(uiInfo, entityId)) === null || _uiModel$getFormmetaI === void 0 ? void 0 : _uiModel$getFormmetaI.filter(function (item) {\n            return reg.test(item.get('Name')) || reg.test(item.get('Key'));\n          }); // 搜索单据体字段，根据FieldId查找可能会定位到平铺视图中的字段，所以把Name和Key也匹配上\n          var fieldId = field.getIn([0, _propnames.ID]);\n          // 单据的移动表单中，有实体id，有控件id，且！==时，将entityId换为控件id\n          // 单据的移动表单中,有实体id，无控件id时，控件维持上次被选中状态\n          if (entityId && fieldId && entityId !== fieldId) {\n            entityId = fieldId;\n          } else if (entityId && !fieldId && uiInfo.get('designer') === 'MobMeta') {\n            entityId = select_control_id;\n          }\n          this.searchInfo.ids.length ? this.props.initSelectControlId(entityId) : this.props.initSelectControlId(tree.getIn(['Id']));\n        } else {\n          this.searchInfo.ids.length ? this.props.selectControlId(this.searchInfo.ids[this.searchInfo.index]) : this.props.selectControlId(tree.getIn(['Id']));\n        }\n      }\n    }\n\n    // 阻止冒泡, 防止在搜索框里面执行 粘贴组件 的操作\n  }, {\n    key: \"handlePreventBubble\",\n    value: function handlePreventBubble(e) {\n      if (e.stopPropagation) {\n        e.stopPropagation();\n      } else {\n        e.cancelBubble = true;\n      }\n    }\n  }, {\n    key: \"getIdInTree\",\n    value: function getIdInTree(node) {\n      var _this2 = this;\n      var _this$props2 = this.props,\n        isEntity = _this$props2.isEntity,\n        uiInfo = _this$props2.uiInfo;\n      var items = node.getIn(['Items']);\n      var Id = node.getIn(['Id']);\n      var reg = new RegExp(this.searchInfo.name, 'i');\n      var name = this.getNameById(Id);\n      var key = this.getKeyById(Id);\n      // 数据源中获取名称（name）、标识（id）信息\n      if (isEntity && _model.printModel.isPrintModel(uiInfo)) {\n        name = node.getIn(['Name']);\n        key = Id;\n      }\n      // 单据的移动表单中，使用getKeyById()取不到标识时\n      if (isEntity && !key) {\n        var data = _model.uiModel.getEntityFieldInfo(uiInfo, {\n          entityId: Id\n        });\n        key = data.get(_propnames.KEY, Id);\n      }\n      if (reg.test(name) || reg.test(key)) {\n        this.searchInfo.ids.push(Id);\n      }\n      if (!node || !items) {\n        return;\n      }\n      items.forEach(function (ele) {\n        _this2.getIdInTree(ele);\n      });\n    }\n  }, {\n    key: \"getKeyById\",\n    value: function getKeyById(id) {\n      var _uiModel$getFormField;\n      var uiInfo = this.props.uiInfo;\n      var key = (_uiModel$getFormField = _model.uiModel.getFormFieldInfo(uiInfo, id)) === null || _uiModel$getFormField === void 0 ? void 0 : _uiModel$getFormField.get(_propnames.KEY);\n      return key;\n    }\n  }, {\n    key: \"getNameById\",\n    value: function getNameById(id) {\n      var _this$props3 = this.props,\n        uiInfo = _this$props3.uiInfo,\n        isEntity = _this$props3.isEntity;\n      var treeNode = this.props.uiInfo.getIn(['ui']);\n      var data = isEntity ? _model.uiModel.getEntityFieldInfo(uiInfo, {\n        entityId: id\n      }) : _model.uiModel.getFormFieldInfo(uiInfo, id);\n      var key = id;\n      var name = treeNode.get(_propnames.NAME);\n      var type = '';\n      if (data) {\n        key = data.get(_propnames.KEY, id);\n        name = data.get(_propnames.NAME, id);\n        type = data.get(_propnames._TYPE_);\n        if (type === 'DataRow' && name === '数据表格的行' || type === 'SubDataRow' && name === '子数据表格的行') {\n          name = _model.uiModel.changeDataGridEntityName(data.get(_propnames.ROWTYPE), name);\n        }\n      }\n      name = this.state.showContentModel ? name + '(' + key + ')' : name;\n      return name;\n    }\n  }, {\n    key: \"onSelect\",\n    value: function onSelect(e, selNode) {\n      var _this$props4 = this.props,\n        isEntity = _this$props4.isEntity,\n        selectControlId = _this$props4.selectControlId,\n        uiInfo = _this$props4.uiInfo,\n        updatePropValue = _this$props4.updatePropValue;\n      if (isEntity) {\n        selectControlId(selNode.id);\n      } else {\n        selectControlId(selNode.id, (0, _keyCodeTool.isCtrlKey)(e), e.shiftKey);\n      }\n    }\n  }, {\n    key: \"resetSearch\",\n    value: function resetSearch() {\n      this.searchInfo.name = '';\n      this.searchInfo.ids.length = 0;\n      this.searchInfo.index = 0;\n      if (this.refs.searchInput) {\n        this.refs.searchInput.value = '';\n      }\n      // this.props.selectControlId('')\n    }\n  }, {\n    key: \"handleSwitch\",\n    value: function handleSwitch(e) {\n      this.setState({\n        showContentModel: !this.state.showContentModel\n      });\n      this.resetSearch();\n    }\n  }, {\n    key: \"handleChildExpandChange\",\n    value: function handleChildExpandChange() {\n      this.setState({\n        isExpandAll: false\n      });\n    }\n  }, {\n    key: \"handleChildPackUpChange\",\n    value: function handleChildPackUpChange() {\n      this.setState({\n        isPackUpAll: false\n      });\n    }\n  }, {\n    key: \"handlePackUpAll\",\n    value: function handlePackUpAll(e) {\n      var isExpand = this.state.isExpand;\n      this.setState({\n        isPackUpAll: isExpand,\n        isExpandAll: !isExpand,\n        isExpand: !isExpand\n      });\n    }\n  }, {\n    key: \"createTreeNode\",\n    value: function createTreeNode(treeNode, isRoot, selectedIds) {\n      var _this3 = this;\n      var _this$props5 = this.props,\n        uiInfo = _this$props5.uiInfo,\n        isEntity = _this$props5.isEntity,\n        format_control_id = _this$props5.format_control_id,\n        select_control_id = _this$props5.select_control_id,\n        select_control_ids = _this$props5.select_control_ids;\n      var _this$state = this.state,\n        isExpandAll = _this$state.isExpandAll,\n        isPackUpAll = _this$state.isPackUpAll;\n      var id = treeNode.get(_propnames.ID);\n      var data = isEntity ? _model.uiModel.getEntityFieldInfo(uiInfo, {\n        entityId: id\n      }) : _model.uiModel.getFormFieldInfo(uiInfo, id);\n      var key = id;\n      var name = treeNode.get(_propnames.NAME);\n      var type = '';\n      if (data) {\n        key = data.get(_propnames.KEY, id);\n        name = data.get(_propnames.NAME, id);\n        type = data.get(_propnames._TYPE_);\n        if (type === 'DataRow' && name === '数据表格的行' || type === 'SubDataRow' && name === '子数据表格的行') {\n          name = _model.uiModel.changeDataGridEntityName(data.get(_propnames.ROWTYPE), name);\n        }\n      }\n      if (name === null) {\n        name = '';\n      }\n      // 大纲树和实体树，控件名称为空时显示控件的key\n      name = this.state.showContentModel ? name + '(' + key + ')' : name || key;\n      var Node;\n      var isDraggable = !isRoot && _lodash[\"default\"].indexOf(undragableTypes, type) === -1; // 是否可拖拽\n      var extProps = {\n        field: treeNode,\n        select_control_id: select_control_id,\n        select_control_ids: select_control_ids\n      }; // 扩展属性，拖拽包装器使用\n      var nodeStyle = {};\n      var className = '';\n      if (format_control_id) {\n        nodeStyle.cursor = 'url(' + _icon.cursor_brush + ') 16 16, auto';\n      }\n      if (isEntity) {\n        Node = isDraggable ? DraggableTreeNode : _Tree.TreeNode;\n        extProps.dropHandle = function (containerId, ctrlId) {\n          return _this3.props.selectControlId(ctrlId, containerId);\n        };\n      } else {\n        Node = isDraggable ? DragTreeNode : AcceptableTreeNode;\n        extProps.dropHandle = this.props.moveToControl;\n        className = (0, _classnames2[\"default\"])(_defineProperty({}, _Outline2[\"default\"]['hidden-node'], _lodash[\"default\"].indexOf(selectedIds, id) === -1 && (_model.uiModel.getPropertyValue(uiInfo, id, 'Hidden') || _model.uiModel.getPropertyValue(uiInfo, id, 'Invisible'))));\n      }\n      var icon = getOutlineIcon(type);\n      var ctrlType = treeNode.get('Type');\n      if (!isEntity && _model.printModel.isPrintModel(uiInfo) && (ctrlType === 'DataCell' || ctrlType === 'LayoutCell')) {\n        var gridInfo = _model.printModel.getGridInfo(uiInfo, id);\n        if (gridInfo) {\n          var posInfo = _model.printModel.getCellPosition(gridInfo, id);\n          var mergeBlocks = _model.printModel.getMergeBlocks(uiInfo, gridInfo.get(_propnames.ID));\n          var mergeBlock = mergeBlocks && posInfo && _model.printModel.getMergeBlock(mergeBlocks, posInfo);\n          if (mergeBlock && !_model.printModel.isMainMergeCell(mergeBlock, posInfo)) return;\n        }\n      }\n      var children = treeNode.get(_propnames.ITEMS, (0, _immutable.List)());\n      var isPrint = _model.printModel.isPrintModel(uiInfo);\n      if (children.size > 0) {\n        var nodes = [];\n        children.forEach(function (child) {\n          var node = _this3.createTreeNode(child, false, selectedIds);\n          node && nodes.push(node);\n        });\n        // 表单设计器的大纲树和实体树默认展开第一级（打印设计器不处理）\n        return /*#__PURE__*/_react[\"default\"].createElement(Node, _extends({\n          expand: isRoot && !isPrint,\n          style: nodeStyle,\n          className: className,\n          key: id,\n          id: id,\n          title: name,\n          value: key,\n          icon: icon,\n          isExpandAll: isExpandAll,\n          isPackUpAll: isPackUpAll,\n          handleChildExpandChange: this.handleChildExpandChange,\n          handleChildPackUpChange: this.handleChildPackUpChange\n        }, extProps), nodes);\n      }\n      return /*#__PURE__*/_react[\"default\"].createElement(Node, _extends({\n        expand: isRoot && !isPrint,\n        style: nodeStyle,\n        className: className,\n        key: id,\n        id: id,\n        title: name,\n        value: key,\n        icon: icon\n      }, extProps));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n      var _this$props6 = this.props,\n        uiInfo = _this$props6.uiInfo,\n        isEntity = _this$props6.isEntity,\n        select_control_id = _this$props6.select_control_id,\n        select_control_ids = _this$props6.select_control_ids,\n        format_control_id = _this$props6.format_control_id,\n        dragover_control_id = _this$props6.dragover_control_id;\n      var _this$state2 = this.state,\n        isExpandAll = _this$state2.isExpandAll,\n        isPackUpAll = _this$state2.isPackUpAll,\n        isExpand = _this$state2.isExpand,\n        showContentModel = _this$state2.showContentModel;\n      if (!uiInfo) return null;\n      var isPrint = _model.printModel.isPrintModel(uiInfo);\n      var selectedIds = select_control_ids ? select_control_ids.toJS() : [];\n      selectedIds = _lodash[\"default\"].concat(selectedIds, [select_control_id, dragover_control_id]);\n      var rootNode;\n      var searchPlaceHolder = (0, _intlApi.getLangMsg)('bosd.outline.key0003');\n      // 是否隐藏实体树搜索框\n      var isHideEntitySearch = false;\n      if (isEntity) {\n        rootNode = uiInfo.get('entitytree', (0, _immutable.Map)());\n        /**\n         * 1. 当前表单是 PC列表/移动列表，且是子设计器/卡片视图设计器 时，无需实体树搜索框\n         * 2. 布局表单且是查询列表时，也无需实体树搜索框\n        */\n        isHideEntitySearch = ['ListMeta', 'MobListMeta'].includes(uiInfo.get('designer', '')) && ['subformdesigner', 'cardviewdesigner'].includes(uiInfo.getIn(['formmeta', 'Key'], '')) || ['QueryListModel'].includes(uiInfo.get('modelType', ''));\n        searchPlaceHolder = (0, _intlApi.getLangMsg)('bosd.outline.key0004');\n        selectedIds = _lodash[\"default\"].map(selectedIds, function (selId) {\n          if (isPrint) {\n            var formInfo = _model.uiModel.getFormFieldInfo(uiInfo, selId);\n            return formInfo ? formInfo.get('BindField') : selId;\n          } else {\n            // 单据的移动表单中，有实体id且！==控件id时，返回实体id\n            var entityId = _this4.searchInfo.ids[_this4.searchInfo.index];\n            var field = _model.uiModel.getFormmetaItemsByFieldId(uiInfo, entityId);\n            var fieldId = field.getIn([0, _propnames.ID]);\n            if (entityId && entityId !== fieldId) {\n              return entityId;\n            }\n            return _model.uiModel.getEntityIdByFieldId(uiInfo, selId);\n          }\n        });\n      } else {\n        rootNode = uiInfo.get('ui', (0, _immutable.Map)());\n      }\n      var treeNodes = this.createTreeNode(rootNode, true, selectedIds);\n      var existFormulaTree = uiInfo.get('formulatree') || false;\n      var existWorkflowTree = uiInfo.get('workflowtree') || false;\n      var existAttachmentTree = uiInfo.get('attachPanelTree') || false;\n      var expandTitle = isExpand ? (0, _intlApi.getLangMsg)('bosd.outline.key0005') : (0, _intlApi.getLangMsg)('bosd.outline.key0006');\n      var showMark = showContentModel ? (0, _intlApi.getLangMsg)('bosd.outline.key0007') : (0, _intlApi.getLangMsg)('bosd.outline.key0008');\n      var selectControlProps = {\n        select_control_id: select_control_id,\n        select_control_ids: select_control_ids\n      };\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        id: \"outline\",\n        tabIndex: \"-1\",\n        className: _Outline2[\"default\"].outline,\n        onKeyDown: this.props.handleShortcutKey\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'space-around'\n        }\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _Outline2[\"default\"].showContentC\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n        className: (0, _classnames2[\"default\"])('kdfont', isExpand ? 'kdfont-shouqi' : 'kdfont-unfolded-s', _Outline2[\"default\"].showContent),\n        onClick: function onClick(e) {\n          return _this4.handlePackUpAll(e);\n        }\n      }), /*#__PURE__*/_react[\"default\"].createElement(\"label\", {\n        className: _Outline2[\"default\"].showC,\n        onClick: function onClick(e) {\n          return _this4.handlePackUpAll(e);\n        }\n      }, expandTitle)), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _Outline2[\"default\"].showContentC\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n        className: (0, _classnames2[\"default\"])('kdfont', showContentModel ? 'kdfont-yincang' : 'kdfont-yulan', _Outline2[\"default\"].showContent),\n        onClick: function onClick(e) {\n          return _this4.handleSwitch(e);\n        }\n      }), /*#__PURE__*/_react[\"default\"].createElement(\"label\", {\n        className: _Outline2[\"default\"].showC,\n        onClick: function onClick(e) {\n          return _this4.handleSwitch(e);\n        }\n      }, showMark))), !isHideEntitySearch && /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _Outline2[\"default\"].search\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"input\", {\n        ref: \"searchInput\",\n        onKeyDown: this.handlePreventBubble,\n        onKeyUp: function onKeyUp(e) {\n          return _this4.handleSearch(e);\n        },\n        className: _Outline2[\"default\"].input,\n        type: \"text\",\n        placeholder: searchPlaceHolder\n      })), isPrint && isEntity ? /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _Outline2[\"default\"]['tree-wrapper']\n      }, existFormulaTree && /*#__PURE__*/_react[\"default\"].createElement(CustomTree, _extends({\n        formmetaKey: \"formulatree\",\n        bindFunction: bindFormula,\n        showContentModel: showContentModel,\n        isExpandAll: isExpandAll,\n        handleChildExpandChange: this.handleChildExpandChange,\n        handleChildPackUpChange: this.handleChildPackUpChange,\n        isPackUpAll: isPackUpAll\n      }, this.props)), existWorkflowTree && /*#__PURE__*/_react[\"default\"].createElement(CustomTree, _extends({\n        formmetaKey: \"workflowtree\",\n        bindFunction: buildWorkflow,\n        showContentModel: showContentModel,\n        isExpandAll: isExpandAll,\n        handleChildExpandChange: this.handleChildExpandChange,\n        handleChildPackUpChange: this.handleChildPackUpChange,\n        isPackUpAll: isPackUpAll\n      }, this.props)), existAttachmentTree && /*#__PURE__*/_react[\"default\"].createElement(CustomTree, _extends({\n        formmetaKey: \"attachPanelTree\",\n        bindFunction: buildWorkflow,\n        showContentModel: showContentModel,\n        isExpandAll: isExpandAll,\n        handleChildExpandChange: this.handleChildExpandChange,\n        handleChildPackUpChange: this.handleChildPackUpChange,\n        isPackUpAll: isPackUpAll\n      }, this.props)), rootNode ? /*#__PURE__*/_react[\"default\"].createElement(_Tree[\"default\"], _extends({\n        onSelect: this.onSelect,\n        selectedIds: selectedIds,\n        style: {\n          flexShrink: 0\n        }\n      }, selectControlProps, {\n        isExpandAll: isExpandAll,\n        handleChildExpandChange: this.handleChildExpandChange,\n        handleChildPackUpChange: this.handleChildPackUpChange,\n        isPackUpAll: isPackUpAll\n      }), treeNodes) : null) : /*#__PURE__*/_react[\"default\"].createElement(_Tree[\"default\"], _extends({\n        onSelect: this.onSelect,\n        selectedIds: selectedIds,\n        isExpandAll: isExpandAll,\n        handleChildExpandChange: this.handleChildExpandChange,\n        handleChildPackUpChange: this.handleChildPackUpChange,\n        isPackUpAll: isPackUpAll\n      }, selectControlProps), treeNodes));\n    }\n  }]);\n  return Outline;\n}(_react.Component);\nOutline.propTypes = {\n  uiInfo: _propTypes[\"default\"].object,\n  select_control_id: _propTypes[\"default\"].string,\n  select_control_ids: _propTypes[\"default\"].object,\n  selectControlId: _propTypes[\"default\"].func\n};\n// static contextTypes = {\n//   dragover_control_id: PropTypes.string\n// }\nOutline.contextType = _designerContext.EdituiContext;\nvar _default = exports[\"default\"] = Outline;\nfunction bindFormula(_ref) {\n  var formula = _ref.bindValue,\n    ctrlId = _ref.ctrlId,\n    formulaCtrlInfo = _ref.bindCtrlInfo,\n    isDrop = _ref.isDrop,\n    uiInfo = _ref.uiInfo,\n    uiConfig = _ref.uiConfig,\n    updatePropValue = _ref.updatePropValue,\n    addControl = _ref.addControl;\n  if (formula === 'formula') return; // 根节点不处理\n\n  var ctrlInfo = _model.uiModel.getUIFieldInfo(uiInfo, ctrlId);\n  if (!ctrlInfo) return;\n  var ctrlType = ctrlInfo.get(_propnames.TYPE);\n  var updateProps = [];\n  var isUpdateProps = true;\n  if (ctrlType === 'Text') {\n    updateProps = [{\n      fieldId: ctrlId,\n      propName: 'BindType',\n      value: 'text',\n      metaType: 'formmeta',\n      isUpdateProps: isUpdateProps\n    }, {\n      fieldId: ctrlId,\n      propName: 'BindText',\n      value: formula,\n      metaType: 'formmeta'\n    }];\n  } else if (ctrlType === 'LayoutCell') {\n    updateProps = [{\n      fieldId: ctrlId,\n      propName: 'BindText',\n      value: formula,\n      metaType: 'formmeta'\n    }];\n  } else if (ctrlType === 'DataCell') {\n    updateProps = [{\n      fieldId: ctrlId,\n      propName: 'CellType',\n      value: 'text',\n      metaType: 'formmeta'\n    }, {\n      fieldId: ctrlId,\n      propName: 'BindText',\n      value: formula,\n      metaType: 'formmeta'\n    }];\n  }\n  if (updateProps.length > 0) {\n    updatePropValue(updateProps, uiConfig);\n  } else {\n    // 判断是否是拖入公式，是则根据选中位置添加\n    var addCtrlInfo;\n    if (isDrop) {\n      addCtrlInfo = _defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty({}, _propnames.TYPE, 'Text'), \"BindType\", 'text'), \"BindText\", formula), \"X\", formulaCtrlInfo.X), \"Y\", formulaCtrlInfo.Y);\n    } else {\n      addCtrlInfo = _defineProperty(_defineProperty(_defineProperty({}, _propnames.TYPE, 'Text'), \"BindType\", 'text'), \"BindText\", formula);\n    }\n    addControl(ctrlId, addCtrlInfo, uiConfig);\n  }\n}\nfunction buildWorkflow(_ref2) {\n  var workflow = _ref2.bindValue,\n    ctrlId = _ref2.ctrlId,\n    workflowCtrlInfo = _ref2.ctrlInfo,\n    isDrop = _ref2.isDrop,\n    uiInfo = _ref2.uiInfo,\n    uiConfig = _ref2.uiConfig,\n    updatePropValue = _ref2.updatePropValue,\n    addControl = _ref2.addControl,\n    formmetaKey = _ref2.formmetaKey;\n  var workflowEntityInfo = _model.printModel.getFormmetaTreeInfo(uiInfo, workflow, formmetaKey);\n  if (workflowEntityInfo.get(_propnames.ITEMS)) return;\n  var dataSourceId = _model.printModel.getEntityDataSource(uiInfo, workflowEntityInfo, formmetaKey);\n  if (!dataSourceId) return;\n  var ctrlInfo = _model.uiModel.getUIFieldInfo(uiInfo, ctrlId);\n  if (!ctrlInfo) return;\n  var name = workflowEntityInfo.get(_propnames.NAME);\n  var ctrlType = ctrlInfo.get(_propnames.TYPE);\n  var updateProps = [];\n  var isUpdateProps = true;\n  if (ctrlType === 'DataCell') {\n    var gridInfo = _model.printModel.getGridInfo(uiInfo, ctrlId);\n    var gridId = gridInfo.get(_propnames.ID);\n    updateProps = [{\n      fieldId: gridId,\n      propName: 'DataSource',\n      value: dataSourceId,\n      metaType: 'formmeta',\n      isUpdateProps: isUpdateProps\n    }, {\n      fieldId: ctrlId,\n      propName: 'DataSource',\n      value: dataSourceId,\n      metaType: 'formmeta',\n      isUpdateProps: isUpdateProps\n    }, {\n      fieldId: ctrlId,\n      propName: 'BindField',\n      value: workflow,\n      metaType: 'formmeta'\n    }, {\n      fieldId: ctrlId,\n      propName: 'Name',\n      value: name,\n      metaType: 'formmeta'\n    }, {\n      fieldId: ctrlId,\n      propName: 'CellType',\n      value: 'field',\n      metaType: 'formmeta'\n    }];\n  } else if (ctrlType === 'Text' || ctrlType === 'LayoutCell') {\n    updateProps = [{\n      fieldId: ctrlId,\n      propName: 'Name',\n      value: name,\n      metaType: 'formmeta'\n    }, {\n      fieldId: ctrlId,\n      propName: 'BindField',\n      value: workflow,\n      metaType: 'formmeta'\n    }, {\n      fieldId: ctrlId,\n      propName: 'DataSource',\n      value: dataSourceId,\n      metaType: 'formmeta',\n      isUpdateProps: isUpdateProps\n    }, {\n      fieldId: ctrlId,\n      propName: 'CellType',\n      value: 'field',\n      metaType: 'formmeta'\n    }];\n  }\n  if (updateProps.length > 0) {\n    updatePropValue(updateProps, uiConfig);\n  } else {\n    // 判断是否是拖入工作流，是则根据拖入位置添加控件\n    var addCtrlInfo;\n    if (isDrop) {\n      addCtrlInfo = _defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty({}, _propnames.TYPE, 'Text'), \"Name\", name), \"BindField\", workflow), \"DataSource\", dataSourceId), \"X\", workflowCtrlInfo.X), \"Y\", workflowCtrlInfo.Y);\n    } else {\n      addCtrlInfo = _defineProperty(_defineProperty(_defineProperty(_defineProperty({}, _propnames.TYPE, 'Text'), \"Name\", name), \"BindField\", workflow), \"DataSource\", dataSourceId);\n    }\n    addControl(ctrlId, addCtrlInfo, uiConfig);\n  }\n}\nfunction CustomTree(_ref3) {\n  var isExpandAll = _ref3.isExpandAll,\n    isPackUpAll = _ref3.isPackUpAll,\n    handleChildExpandChange = _ref3.handleChildExpandChange,\n    handleChildPackUpChange = _ref3.handleChildPackUpChange,\n    bindFunction = _ref3.bindFunction,\n    select_control_id = _ref3.select_control_id,\n    formmetaKey = _ref3.formmetaKey,\n    showContentModel = _ref3.showContentModel,\n    uiInfo = _ref3.uiInfo,\n    uiConfig = _ref3.uiConfig,\n    updatePropValue = _ref3.updatePropValue,\n    addControl = _ref3.addControl;\n  // TODO: useReduce ? 分离?\n  function onNodeSelect(e, selNode) {\n    bindFunction({\n      bindValue: selNode.value,\n      ctrlId: select_control_id,\n      uiInfo: uiInfo,\n      uiConfig: uiConfig,\n      updatePropValue: updatePropValue,\n      addControl: addControl,\n      formmetaKey: formmetaKey\n    });\n  }\n  function onNodeDrop(targetId, bindValue, ctrlInfo) {\n    var isDrop = true;\n    bindFunction({\n      bindValue: bindValue,\n      ctrlId: targetId,\n      ctrlInfo: ctrlInfo,\n      isDrop: isDrop,\n      uiInfo: uiInfo,\n      uiConfig: uiConfig,\n      updatePropValue: updatePropValue,\n      addControl: addControl,\n      formmetaKey: formmetaKey\n    });\n  }\n  var useDropHandleRef = (0, _react.useRef)(onNodeDrop);\n  (0, _react.useEffect)(function () {\n    useDropHandleRef.current = onNodeDrop;\n  });\n  function createTreeNode(treeNode) {\n    var icon = getOutlineIcon();\n    var id = treeNode.get('Id');\n    var name = treeNode.get('Name');\n    name = showContentModel ? name + '(' + id + ')' : name;\n    var children = treeNode.get(_propnames.ITEMS, (0, _immutable.List)());\n    if (children.size > 0) {\n      var nodes = [];\n      children.forEach(function (child) {\n        nodes.push(createTreeNode(child));\n      });\n      return /*#__PURE__*/_react[\"default\"].createElement(DraggableTreeNode, {\n        key: id + name,\n        id: id,\n        title: name,\n        value: id,\n        icon: icon\n      }, nodes);\n    }\n    return /*#__PURE__*/_react[\"default\"].createElement(DraggableTreeNode, {\n      className: _Outline2[\"default\"]['formula-treenode'],\n      key: id + name,\n      id: id,\n      title: name,\n      value: id,\n      icon: icon,\n      dropHandle: function dropHandle(targetId, ctrlInfo) {\n        useDropHandleRef.current && useDropHandleRef.current(targetId, id, ctrlInfo);\n      }\n    });\n  }\n  var data = uiInfo.get(formmetaKey, (0, _immutable.Map)());\n  if (!data) return null;\n  var treeNodes = _react[\"default\"].useMemo(function () {\n    return createTreeNode(data);\n  }, [data]);\n  return /*#__PURE__*/_react[\"default\"].createElement(_Tree[\"default\"], {\n    className: _Outline2[\"default\"]['formula-tree'],\n    style: {\n      flexShrink: 0\n    },\n    onSelect: onNodeSelect,\n    isExpandAll: isExpandAll,\n    handleChildExpandChange: handleChildExpandChange,\n    handleChildPackUpChange: handleChildPackUpChange,\n    isPackUpAll: isPackUpAll\n  }, treeNodes);\n}\n\n//# sourceURL=webpack://bos-platform/./src/designer/page/Outline.jsx?");

/***/ }),

/***/ "./src/designer/page/ParentControlSelectPanel.jsx":
/*!********************************************************!*\
  !*** ./src/designer/page/ParentControlSelectPanel.jsx ***!
  \********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-properties.js */ \"../../node_modules/core-js/modules/es.object.define-properties.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptors.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.TIPS_NEW_FEATURE = void 0;\nexports[\"default\"] = ParentControlSelectPanel;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.array.reverse.js */ \"../../node_modules/core-js/modules/es.array.reverse.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.parse-int.js */ \"../../node_modules/core-js/modules/es.parse-int.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.split.js */ \"../../node_modules/core-js/modules/es.string.split.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _designerContext = __webpack_require__(/*! ../controls/common/designerContext */ \"./src/designer/controls/common/designerContext.js\");\nvar _uiModelFunction = __webpack_require__(/*! ../../designer/model/uiModelFunction */ \"./src/designer/model/uiModelFunction.js\");\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _keyCodeTool = __webpack_require__(/*! ../../util/keyCodeTool */ \"./src/util/keyCodeTool.js\");\nvar _ParentControlSelectPanel = _interopRequireDefault(__webpack_require__(/*! ./ParentControlSelectPanel.less */ \"./src/designer/page/ParentControlSelectPanel.less\"));\nvar _classnames = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _usePrevious = _interopRequireDefault(__webpack_require__(/*! ../../use/usePrevious */ \"./src/use/usePrevious.js\"));\nvar _storage = _interopRequireDefault(__webpack_require__(/*! ../../util/storage */ \"./src/util/storage.js\"));\nvar _BaseComponents = __webpack_require__(/*! ../../component/web/base/BaseComponents */ \"./src/component/web/base/BaseComponents/index.js\");\nvar _useTraceElementPosition = _interopRequireDefault(__webpack_require__(/*! ../../use/useTraceElementPosition */ \"./src/use/useTraceElementPosition.js\"));\nvar _GlobalDataCacher = __webpack_require__(/*! @/model/GlobalDataCacher */ \"./src/model/GlobalDataCacher.js\");\nvar _symbolConst = __webpack_require__(/*! @/constant/symbolConst */ \"./src/constant/symbolConst.js\");\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n/**\n * 面包屑\n * 如果某个控件有新特性, 需要有提示\n * 字段需要取FieldType作为key值存入\n * 调试方法: localStorage.clear()\n */\nvar splitStr = '##_&&'; // 原来的$$_&&国际化之后会变成$_&&，换成##_&&\nvar TIPS_NEW_FEATURE = exports.TIPS_NEW_FEATURE = {\n  CardRowPanelAp: [(0, _intlApi.getLangMsg)({\n    key: 'bosd.parentControlSelectPanel.key0001',\n    variables: {\n      splitStr: splitStr\n    }\n  })]\n};\nvar NEW_FEAT = 'ierp-ide_ctrl_new_feature';\nvar preventDefault = function preventDefault(event) {\n  if (event) {\n    event.stopPropagation();\n    event.preventDefault();\n  }\n};\nvar crumbSelectCtrlId = 'kd-designer-crumb-select-control-id';\nvar crumbTipsWrap = 'kd-designer-crumb-tool-tips-wrap';\nvar isClickOutSide = function isClickOutSide(event) {\n  var target = event.target;\n  while (target && target !== document) {\n    if (target.id === crumbTipsWrap) {\n      return false;\n    } else if (target.id === '__kd_content__') {\n      return true;\n    }\n    target = target.parentNode;\n  }\n};\nvar isShowModel = function isShowModel(showModel, selectCtrlInfo) {\n  return showModel && selectCtrlInfo.constant && (selectCtrlInfo.storage && !selectCtrlInfo.storage.noMoreTips || !selectCtrlInfo.storage);\n};\nfunction ParentControlSelectPanel(props) {\n  var _useContext = (0, _react.useContext)(_designerContext.EdituiContext),\n    selectControl = _useContext.selectControl;\n  var select_control_id = props.select_control_id,\n    refresh_ctrl_ids = props.refresh_ctrl_ids,\n    uiInfo = props.uiInfo;\n  var ancestor = (0, _react.useRef)(undefined);\n  var _useState = (0, _react.useState)((0, _immutable.List)()),\n    _useState2 = _slicedToArray(_useState, 2),\n    fields = _useState2[0],\n    setfields = _useState2[1];\n  var _useState3 = (0, _react.useState)((0, _immutable.List)()),\n    _useState4 = _slicedToArray(_useState3, 2),\n    list = _useState4[0],\n    setList = _useState4[1];\n  var _useState5 = (0, _react.useState)(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    prev = _useState6[0],\n    setPrev = _useState6[1];\n  var _useState7 = (0, _react.useState)(false),\n    _useState8 = _slicedToArray(_useState7, 2),\n    next = _useState8[0],\n    setNext = _useState8[1];\n  var scrollRef = (0, _react.useRef)();\n  var animatedRef = (0, _react.useRef)();\n  var currentIndex = (0, _react.useRef)(0); // 当前所在页码\n  var maxIndex = (0, _react.useRef)(1); // 最大页码\n  var isScrollToAct = (0, _react.useRef)(true); // 是否需要滚动到当前选中元素\n  var isAncestorChange = (0, _react.useRef)(false);\n  var prevAncestor = ancestor && (0, _usePrevious[\"default\"])(ancestor.current);\n  var _useState9 = (0, _react.useState)(false),\n    _useState10 = _slicedToArray(_useState9, 2),\n    isRefresh = _useState10[0],\n    setIsRefresh = _useState10[1];\n  var _useState11 = (0, _react.useState)(true),\n    _useState12 = _slicedToArray(_useState11, 2),\n    showModel = _useState12[0],\n    setShowModel = _useState12[1];\n  // 弹框中, 复选框是否被选中, 默认不选中\n  var _useState13 = (0, _react.useState)(false),\n    _useState14 = _slicedToArray(_useState13, 2),\n    enable = _useState14[0],\n    setEnable = _useState14[1];\n\n  // 选中id改变获取对应祖先元素\n  (0, _react.useEffect)(function () {\n    if (!select_control_id) return;\n    ancestor.current = (0, _uiModelFunction.getAncestorIds)(uiInfo, select_control_id);\n    isAncestorChange.current = !(0, _immutable.is)(prevAncestor, ancestor.current);\n  });\n  // 通过GlobalDataCacher, 每次在reducer里设置选中id时, 触发当前操作\n  (0, _react.useEffect)(function () {\n    var removeDataListener = (0, _GlobalDataCacher.addDataChangeListener)(_symbolConst.KEY_DESIGNER_SELECT_CTRL, function () {\n      setShowModel(true);\n    });\n    return function () {\n      removeDataListener && removeDataListener();\n    };\n  }, []);\n  // 刷新整个面包屑组件\n  var handleRefresh = (0, _react.useCallback)(function () {\n    setIsRefresh(!isRefresh);\n  }, [isRefresh]);\n  // 弹框的显隐\n  var toggleModal = (0, _react.useCallback)(function () {\n    setShowModel(!showModel);\n  }, [showModel]);\n  (0, _react.useEffect)(function () {\n    var ancestorFieldInfo = ancestor && ancestor.current && ancestor.current.reverse().concat([select_control_id]).map(function (item) {\n      return (0, _uiModelFunction.getFormFieldInfo)(uiInfo, item);\n    });\n    setfields(ancestorFieldInfo);\n    isScrollToAct.current = true;\n  }, [refresh_ctrl_ids, isAncestorChange && isAncestorChange.current]);\n  function selectControlid(event, id) {\n    isScrollToAct.current = true;\n    selectControl(id, (0, _keyCodeTool.isCtrlKey)(event), event.shiftKey);\n  }\n  (0, _react.useEffect)(function () {\n    scrollToSelect();\n  }, [scrollRef && scrollRef.current, animatedRef && animatedRef.current, isAncestorChange && isAncestorChange.current]);\n  (0, _react.useEffect)(function () {\n    setNxetPrev();\n  });\n  function setTransform(style, v) {\n    style.transform = v;\n    style.webkitTransform = v;\n    style.mozTransform = v;\n  }\n  function isTransformSupported(style) {\n    return 'transform' in style || 'webkitTransform' in style || 'MozTransform' in style;\n  }\n  function setOffset(value) {\n    var navStyle = animatedRef.current.style;\n    var transformSupported = isTransformSupported(navStyle);\n    if (transformSupported) {\n      value = \"translate(\".concat(value, \"px,0)\");\n      setTransform(navStyle, value);\n    } else {\n      navStyle.left = \"\".concat(value, \"px\");\n    }\n  }\n  var scrollToSelect = function scrollToSelect() {\n    if (maxIndex.current - 1 >= 0 && isScrollToAct && isScrollToAct.current) {\n      var scroll = scrollRef && scrollRef.current.getBoundingClientRect();\n      var scrollWidth = scroll.width;\n      var animateoffset = animatedRef.current.getBoundingClientRect();\n      var animateoffsetW = animateoffset.width;\n      var width = scrollWidth - animateoffsetW;\n      var value = width >= 0 ? 0 : width;\n      setOffset(value);\n      maxIndex.current = Math.ceil(animateoffsetW / scrollWidth) || 1;\n      currentIndex.current = maxIndex.current - 1;\n    }\n  };\n  // 生成面包屑\n  (0, _react.useEffect)(function () {\n    var newFeatureOfStorage = _storage[\"default\"].get(NEW_FEAT);\n    try {\n      newFeatureOfStorage = newFeatureOfStorage && JSON.parse(newFeatureOfStorage);\n    } catch (error) {\n      console.error('取数据失败: 因为数据不是经过JSON序列化的字符串');\n    }\n    var filedList = fields && fields.map(function (item) {\n      if (!item) return null;\n      var id = item.get('Id');\n      // 通过id取到控件类型\n      // 控件类型是关联常量与缓存的唯一桥梁\n      var uiFieldInfo = (0, _uiModelFunction.getUIFieldInfo)(uiInfo, id);\n      var ctrlType = uiFieldInfo && (uiFieldInfo.get('FieldType') || uiFieldInfo.get('Type'));\n      // 控件新特性常量\n      var ctrlNewFeatOfConst = TIPS_NEW_FEATURE[ctrlType];\n      var select = id === select_control_id;\n      var name = item.get('Name') || item.get('Key') || item.get('Id');\n      return /*#__PURE__*/_react[\"default\"].createElement(Crumbs, {\n        name: name,\n        key: id,\n        select: select,\n        selectControlid: selectControlid,\n        id: id,\n        ctrlNewFeatOfConst: ctrlNewFeatOfConst,\n        newFeatureOfStorage: Object(newFeatureOfStorage),\n        ctrlType: ctrlType,\n        handleRefresh: handleRefresh,\n        toggleModal: toggleModal,\n        showModel: showModel\n      });\n    });\n    setList(filedList);\n  }, [fields, isRefresh, uiInfo, showModel]);\n\n  // 监听页面缩放\n  (0, _react.useEffect)(function () {\n    var setMaxIndex = function setMaxIndex() {\n      var scroll = scrollRef && scrollRef.current.getBoundingClientRect();\n      var scrollWidth = scroll.width;\n      var animate = animatedRef && animatedRef.current.getBoundingClientRect();\n      var animateWidth = animate.width;\n      maxIndex.current = Math.ceil(animateWidth / scrollWidth) || 1;\n      setNxetPrev();\n    };\n    // setMaxIndex()\n    var resizeCallback = function resizeCallback() {\n      setMaxIndex();\n      isScrollToAct.current = true;\n      scrollToSelect();\n    };\n    window.addEventListener('resize', resizeCallback);\n    return function () {\n      window.removeEventListener('resize', resizeCallback);\n    };\n  });\n  var setNxetPrev = (0, _react.useCallback)(function () {\n    var cur = currentIndex.current;\n    var max = maxIndex.current;\n    if (cur > 0) {\n      setPrev(true);\n    } else if (cur <= 0) {\n      setPrev(false);\n    }\n    if (cur >= max - 1) {\n      setNext(false);\n    } else {\n      setNext(true);\n    }\n  }, [currentIndex && currentIndex.current, maxIndex && maxIndex.current]);\n  function clickArrow(direction, index) {\n    var scroll = scrollRef && scrollRef.current.getBoundingClientRect();\n    var scrollWidth = scroll.width;\n    var moveWidth;\n    if (direction === 'prev') {\n      index = index - 1;\n      if (index < 0) {\n        currentIndex.current = 0;\n      } else {\n        currentIndex.current = index;\n        moveWidth = Math.floor(scrollWidth * index);\n        var value = -moveWidth;\n        setOffset(value);\n        // animatedRef.current.style.transform = `translate(${-moveWidth}px,0)`\n      }\n    } else {\n      index = index + 1;\n      if (index >= maxIndex.current) {\n        currentIndex.current = maxIndex.current - 1;\n      } else {\n        currentIndex.current = index;\n        moveWidth = Math.floor(scrollWidth * index);\n        var animateoffset = animatedRef.current.getBoundingClientRect();\n        var animateoffsetW = animateoffset.width;\n        if (animateoffsetW - moveWidth < scrollWidth) {\n          var _value = scrollWidth - animateoffsetW;\n          setOffset(_value);\n          // animatedRef.current.style.transform = `translate(${scrollWidth - animateoffsetW}px,0)`\n        } else {\n          var _value2 = -moveWidth;\n          setOffset(_value2);\n          // animatedRef.current.style.transform = `translate(${-moveWidth}px,0)`\n        }\n      }\n    }\n    setNxetPrev();\n    isScrollToAct.current = false;\n  }\n  var checkboxClick = (0, _react.useCallback)(function () {\n    setEnable(!enable);\n  }, [enable]);\n  var selectCtrlInfo = (0, _react.useMemo)(function () {\n    // 通过id取到控件类型\n    // 控件类型是关联常量与缓存的唯一桥梁\n    var uiFieldInfo = (0, _uiModelFunction.getUIFieldInfo)(uiInfo, select_control_id);\n    var ctrlType = uiFieldInfo && (uiFieldInfo.get('FieldType') || uiFieldInfo.get('Type'));\n    // 控件新特性常量\n    var ctrlNewFeatOfConst = TIPS_NEW_FEATURE[ctrlType];\n    return {\n      constant: ctrlNewFeatOfConst,\n      ctrlType: ctrlType\n    };\n  }, [uiInfo, select_control_id]);\n  // 缓存中的控件数据\n  var newFeatureOfStorage = _storage[\"default\"].get(NEW_FEAT);\n  try {\n    newFeatureOfStorage = newFeatureOfStorage && JSON.parse(newFeatureOfStorage);\n  } catch (error) {\n    console.error('useMemo取数据失败: 因为数据不是经过JSON序列化的字符串');\n  }\n  var ctrlNewFeatOfStorage = Object(newFeatureOfStorage)[selectCtrlInfo.ctrlType];\n  var mergedProps = _objectSpread(_objectSpread({}, selectCtrlInfo), {}, {\n    storage: ctrlNewFeatOfStorage,\n    newFeatureOfStorage: newFeatureOfStorage\n  });\n  // 点击按钮和右上角的关闭, 操作一样\n  var closeClick = function closeClick() {\n    if (enable) {\n      setStorage(mergedProps.newFeatureOfStorage, mergedProps.ctrlType, {\n        key: 'noMoreTips',\n        value: enable\n      });\n    }\n    toggleModal();\n  };\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames[\"default\"])(_defineProperty(_defineProperty({}, _ParentControlSelectPanel[\"default\"].root, true), _ParentControlSelectPanel[\"default\"].mobile, !props.isPC), 'bos-guide-selectPanel')\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: (0, _classnames[\"default\"])(_defineProperty(_defineProperty(_defineProperty({}, _ParentControlSelectPanel[\"default\"].arrowFont, true), _ParentControlSelectPanel[\"default\"].arrowLeft, true), _ParentControlSelectPanel[\"default\"].arrowDisabled, !prev), 'kdfont kdfont-left'),\n    onClick: function onClick() {\n      return clickArrow('prev', currentIndex.current);\n    }\n  }), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _ParentControlSelectPanel[\"default\"].crumbScroll,\n    ref: scrollRef\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _ParentControlSelectPanel[\"default\"].animated,\n    ref: animatedRef\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames[\"default\"])(_defineProperty({}, _ParentControlSelectPanel[\"default\"].list, true))\n  }, list), isShowModel(showModel, mergedProps) && /*#__PURE__*/_react[\"default\"].createElement(ToolTips, {\n    checkboxClick: checkboxClick,\n    enable: enable,\n    closeClick: closeClick,\n    uiInfo: uiInfo,\n    select_control_id: select_control_id,\n    ctrlType: mergedProps.ctrlType,\n    key: \"tool-tips\",\n    handleRefresh: handleRefresh,\n    toggleModal: toggleModal,\n    parentNode: scrollRef.current\n  }))), /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    className: (0, _classnames[\"default\"])(_defineProperty(_defineProperty(_defineProperty({}, _ParentControlSelectPanel[\"default\"].arrowFont, true), _ParentControlSelectPanel[\"default\"].arrowRight, true), _ParentControlSelectPanel[\"default\"].arrowDisabled, !next), 'kdfont kdfont-right'),\n    onClick: function onClick() {\n      return clickArrow('next', currentIndex.current);\n    }\n  }));\n}\n\n/**\n * 缓存写入\n * @param newFeatureOfStorage 本地缓存中, 关于新特性的所有数据\n * @param ctrlType 控件类型(如: FieldsetPanelAp), 如果是字段, 则是FieldType(如: TextField)\n * @param {key, value} 键值对\n*/\nvar setStorage = function setStorage(newFeatureOfStorage, ctrlType, _ref) {\n  var key = _ref.key,\n    value = _ref.value;\n  var newFeatureOfStorageTemp = Object.assign(newFeatureOfStorage && {}, {});\n  newFeatureOfStorageTemp[ctrlType] = _objectSpread(_objectSpread({}, newFeatureOfStorageTemp[ctrlType]), {}, _defineProperty({}, key, value));\n  _storage[\"default\"].set(NEW_FEAT, newFeatureOfStorageTemp);\n};\n\n// 面包屑\nvar Crumbs = function Crumbs(props) {\n  var select = props.select,\n    name = props.name,\n    id = props.id,\n    selectControlid = props.selectControlid,\n    ctrlNewFeatOfConst = props.ctrlNewFeatOfConst,\n    newFeatureOfStorage = props.newFeatureOfStorage,\n    ctrlType = props.ctrlType,\n    showModel = props.showModel;\n  // 缓存中的控件数据\n  var ctrlNewFeatOfStorage = newFeatureOfStorage[ctrlType] || {};\n  var textCls = (0, _classnames[\"default\"])(_defineProperty(_defineProperty({}, _ParentControlSelectPanel[\"default\"].newFeature, ctrlNewFeatOfConst && !ctrlNewFeatOfStorage), _ParentControlSelectPanel[\"default\"].text, true));\n  var wrapCls = (0, _classnames[\"default\"])(_defineProperty(_defineProperty(_defineProperty({}, _ParentControlSelectPanel[\"default\"].active, select), _ParentControlSelectPanel[\"default\"].crumbToolTips, ctrlNewFeatOfConst && select && showModel && !ctrlNewFeatOfStorage.noMoreTips), crumbSelectCtrlId, select), _ParentControlSelectPanel[\"default\"].pointer);\n  (0, _react.useEffect)(function () {\n    // 控件有新特性, 且是第一次选中, 则将特性置为false, 防止下次进入仍有小红点\n    var localCtrlFeat = newFeatureOfStorage[ctrlType];\n    if (select && ctrlNewFeatOfConst && !localCtrlFeat) {\n      setStorage(newFeatureOfStorage, ctrlType, {\n        key: 'newFeat',\n        value: false\n      });\n    }\n  }, [ctrlNewFeatOfConst, select, ctrlType, newFeatureOfStorage]);\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: wrapCls,\n    onClick: function onClick(e) {\n      return selectControlid(e, id);\n    }\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: textCls\n  }, name), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames[\"default\"])(_defineProperty({}, _ParentControlSelectPanel[\"default\"].arrowActive, select), _ParentControlSelectPanel[\"default\"].arrow)\n  }));\n};\nvar getCurrentDom = function getCurrentDom(nodeArr) {\n  return _toConsumableArray(nodeArr).filter(function (node) {\n    return node.getBoundingClientRect().width !== 0;\n  })[0].getBoundingClientRect();\n};\n\n/**\n * 实时计算弹框的位置\n * @param toolTipsWrap 弹框的DOM引用\n * @param handleRefresh 刷新整个面包屑控件\n * @param domClientRect 当前选中面包屑的DOMRect\n*/\nvar calcDomPosition = function calcDomPosition(toolTipsWrap, handleRefresh) {\n  return function (domClientRect) {\n    if (!domClientRect || !toolTipsWrap.current) return;\n    var left = domClientRect.left,\n      width = domClientRect.width,\n      height = domClientRect.height;\n    if (left === 0 && width === 0) {\n      handleRefresh();\n      return;\n    }\n    var _top = parseInt(window.getComputedStyle(toolTipsWrap.current).top);\n    var _toolTipsWrap$current = toolTipsWrap.current.getBoundingClientRect(),\n      tipsBottom = _toolTipsWrap$current.bottom,\n      tipsWidth = _toolTipsWrap$current.width;\n    var _document$body$getBou = document.body.getBoundingClientRect(),\n      bodyWidth = _document$body$getBou.width,\n      bodyHeight = _document$body$getBou.height;\n    var _getCurrentDom = getCurrentDom(document.querySelectorAll('#designer-UILeft')),\n      leftWidth = _getCurrentDom.width;\n    var _getCurrentDom2 = getCurrentDom(document.querySelectorAll('#designer-UIRight')),\n      rightWidth = _getCurrentDom2.width;\n    var halfOver = (tipsWidth - width) / 2;\n    var _left, _right;\n    if (width < tipsWidth) {\n      _left = left - leftWidth - tipsWidth + width - 10;\n    }\n    // 230: UILeft的宽; 13: 左侧箭头的宽\n    if (left - halfOver <= leftWidth + 13) {\n      _left = 0;\n    } else if (left + tipsWidth >= bodyWidth - rightWidth) {\n      // 280: UIRight的宽\n      _right = 0;\n      _left = undefined;\n    }\n    // 5: 设计器底部与页面底部的空隙; 8: 弹框小箭头的高度\n    var distance = parseInt(tipsBottom - bodyHeight + (height + 5 + 8));\n    if (distance > 0) {\n      _top = _top - distance;\n    }\n    var _cssText = '';\n    _cssText = \"top:\".concat(_top, \"px;\");\n    _left !== undefined && (_cssText = \"\".concat(_cssText, \"left:\").concat(_left, \"px;\"));\n    _right !== undefined && (_cssText = \"\".concat(_cssText, \"right:\").concat(_right, \"px;\"));\n    toolTipsWrap.current && (toolTipsWrap.current.style.cssText = _cssText);\n  };\n};\n\n// 将数据拼成DOM\nvar getTipsList = function getTipsList(ctrlNewFeatOfConst) {\n  var arrayDesc = Array.isArray(ctrlNewFeatOfConst) && ctrlNewFeatOfConst.map(function (item) {\n    var _ref2 = item && item.split(splitStr),\n      _ref3 = _slicedToArray(_ref2, 2),\n      title = _ref3[0],\n      desc = _ref3[1];\n    return {\n      title: title,\n      desc: desc\n    };\n  });\n  var tipsList = [];\n  if (Array.isArray(arrayDesc)) {\n    tipsList = arrayDesc.map(function (_ref4, index) {\n      var title = _ref4.title,\n        desc = _ref4.desc;\n      return /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, {\n        key: index.toString()\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"p\", {\n        className: _ParentControlSelectPanel[\"default\"]['tips-title']\n      }, title), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _ParentControlSelectPanel[\"default\"]['tips-content']\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", null, desc)));\n    });\n  }\n  return tipsList;\n};\n\n// 通过select_control_id获取控件信息\n// 如果有该控件类型的提示，则展示tips\nvar ToolTips = function ToolTips(_ref5) {\n  var checkboxClick = _ref5.checkboxClick,\n    enable = _ref5.enable,\n    closeClick = _ref5.closeClick,\n    ctrlType = _ref5.ctrlType,\n    handleRefresh = _ref5.handleRefresh,\n    toggleModal = _ref5.toggleModal,\n    parentNode = _ref5.parentNode;\n  var toolTipsWrap = (0, _react.useRef)(null);\n  // 控件新特性常量\n  var ctrlNewFeatOfConst = TIPS_NEW_FEATURE[ctrlType];\n  var selectCrumb = parentNode && parentNode.querySelector(\".\".concat(crumbSelectCtrlId));\n  (0, _react.useEffect)(function () {\n    var clickOutSide = function clickOutSide(event) {\n      var isClickOut = isClickOutSide(event);\n      if (isClickOut) toggleModal();\n    };\n    document.addEventListener('click', clickOutSide, false);\n    return function () {\n      document.removeEventListener('click', clickOutSide, false);\n    };\n  }, []);\n  (0, _useTraceElementPosition[\"default\"])({\n    selectedCtrlNode: selectCrumb,\n    callback: calcDomPosition(toolTipsWrap, handleRefresh)\n  });\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _ParentControlSelectPanel[\"default\"]['tool-tips-warp'],\n    ref: toolTipsWrap,\n    onClick: preventDefault,\n    id: crumbTipsWrap\n  }, getTipsList(ctrlNewFeatOfConst), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _ParentControlSelectPanel[\"default\"]['tips-action']\n  }, /*#__PURE__*/_react[\"default\"].createElement(_BaseComponents.CheckBox, {\n    styleType: 2,\n    text: (0, _intlApi.getLangMsg)('bosd.parentControlSelectPanel.key0002'),\n    fieldWidth: 72,\n    value: enable,\n    onMouseDown: checkboxClick\n  }), /*#__PURE__*/_react[\"default\"].createElement(_BaseComponents.Button, {\n    Name: (0, _intlApi.getLangMsg)('bosd.parentControlSelectPanel.key0003'),\n    className: _ParentControlSelectPanel[\"default\"]['tips-btn'],\n    onClick: closeClick\n  })));\n};\n\n//# sourceURL=webpack://bos-platform/./src/designer/page/ParentControlSelectPanel.jsx?");

/***/ }),

/***/ "./src/designer/page/PropertyViewer.jsx":
/*!**********************************************!*\
  !*** ./src/designer/page/PropertyViewer.jsx ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-properties.js */ \"../../node_modules/core-js/modules/es.object.define-properties.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptors.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.find.js */ \"../../node_modules/core-js/modules/es.array.find.js\");\n__webpack_require__(/*! core-js/modules/es.array.find-index.js */ \"../../node_modules/core-js/modules/es.array.find-index.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.array.reduce.js */ \"../../node_modules/core-js/modules/es.array.reduce.js\");\n__webpack_require__(/*! core-js/modules/es.array.some.js */ \"../../node_modules/core-js/modules/es.array.some.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.is.js */ \"../../node_modules/core-js/modules/es.object.is.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.promise.js */ \"../../node_modules/core-js/modules/es.promise.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.ends-with.js */ \"../../node_modules/core-js/modules/es.string.ends-with.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.string.replace.js */ \"../../node_modules/core-js/modules/es.string.replace.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.timers.js */ \"../../node_modules/core-js/modules/web.timers.js\");\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _propTypes = _interopRequireDefault(__webpack_require__(/*! prop-types */ \"../../node_modules/prop-types/index.js\"));\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _exprEval = __webpack_require__(/*! expr-eval */ \"./node_modules/expr-eval/dist/bundle.js\");\nvar editors = _interopRequireWildcard(__webpack_require__(/*! ../editors */ \"./src/designer/editors/index.js\"));\nvar _Collapse = _interopRequireDefault(__webpack_require__(/*! ../component/Collapse */ \"./src/designer/component/Collapse.jsx\"));\nvar _FastLayout = _interopRequireDefault(__webpack_require__(/*! ./FastLayout */ \"./src/designer/page/FastLayout.jsx\"));\nvar _TabView = _interopRequireWildcard(__webpack_require__(/*! ../component/TabView */ \"./src/designer/component/TabView.jsx\"));\nvar _ActionPanel = _interopRequireDefault(__webpack_require__(/*! ./ActionPanel */ \"./src/designer/page/ActionPanel.jsx\"));\nvar _model = __webpack_require__(/*! ../model */ \"./src/designer/model/index.js\");\nvar _propnames = __webpack_require__(/*! ../constant/propnames */ \"./src/designer/constant/propnames.js\");\nvar _TemplateScheme = _interopRequireDefault(__webpack_require__(/*! ./TemplateScheme */ \"./src/designer/page/TemplateScheme.jsx\"));\nvar _delayRequestAnimationFrame = _interopRequireDefault(__webpack_require__(/*! ../../util/delayRequestAnimationFrame */ \"./src/util/delayRequestAnimationFrame.js\"));\nvar templateModel = _interopRequireWildcard(__webpack_require__(/*! ../template */ \"./src/designer/template/index.js\"));\nvar _designerContext = __webpack_require__(/*! ../controls/common/designerContext */ \"./src/designer/controls/common/designerContext.js\");\nvar _memoryCacher = __webpack_require__(/*! @/model/memoryCacher */ \"./src/model/memoryCacher.js\");\nvar _const = __webpack_require__(/*! ../../constant/const */ \"./src/constant/const.js\");\nvar _index = __webpack_require__(/*! ../../component/web/designerCommonUtils/index */ \"./src/component/web/designerCommonUtils/index.js\");\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nvar _server = __webpack_require__(/*! @/action/actionname/control/designer/server */ \"./src/action/actionname/control/designer/server/index.js\");\nvar _PropertyViewer2 = _interopRequireDefault(__webpack_require__(/*! ./PropertyViewer.css */ \"./src/designer/page/PropertyViewer.css\"));\nvar _appModelFunction = __webpack_require__(/*! @/model/appModelFunction */ \"./src/model/appModelFunction.js\");\nvar _client = __webpack_require__(/*! @/action/actionname/control/designer/client */ \"./src/action/actionname/control/designer/client/index.js\");\nvar _scriptEditorConstant = __webpack_require__(/*! @/designer/constant/scriptEditorConstant */ \"./src/designer/constant/scriptEditorConstant.js\");\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nvar TYPE_WITH_JS_PLUGINS = [].concat(_toConsumableArray(_scriptEditorConstant.FORM_WITH_JS_PLUGINS), _toConsumableArray(_scriptEditorConstant.CONTROL_WITH_JS_PLUGINS));\nvar EXTEND_CONTEOL_ISV_LIST = ['kingdee', 'kdxk', 'kdtest', 'test']; // 受扩展控制的ISV：苍穹、星空\nvar PropertyViewer = /*#__PURE__*/function (_React$Component) {\n  _inherits(PropertyViewer, _React$Component);\n  // static childContextTypes = {\n  //   alias: PropTypes.object\n  // }\n\n  function PropertyViewer(_props2) {\n    var _getRootConfig;\n    var _this;\n    _classCallCheck(this, PropertyViewer);\n    _this = _callSuper(this, PropertyViewer, [_props2]);\n    _this.handleConfigChange = function () {\n      var _this$context$model = _this.context.model,\n        pageId = _this$context$model.pageId,\n        key = _this$context$model.key;\n      var _ref = (0, _memoryCacher.getPageData)(pageId, [key, 'config']) || {},\n        _ref$enableGlobalCont = _ref.enableGlobalControl,\n        enableGlobalControl = _ref$enableGlobalCont === void 0 ? false : _ref$enableGlobalCont,\n        _ref$enableBillContro = _ref.enableBillControl,\n        enableBillControl = _ref$enableBillContro === void 0 ? false : _ref$enableBillContro;\n      if (enableGlobalControl !== _this.enableGlobalControl || enableBillControl !== _this.enableBillControl) {\n        _this.enableGlobalControl = enableGlobalControl;\n        _this.enableBillControl = enableBillControl;\n        _this.forceUpdate();\n      }\n    };\n    // 调用服务端接口获取属性的别名（btnedit）\n    _this.getPropertyAliasValue = function (uiInfo, field, prop, metaType) {\n      var value = _this.getPropertyValue(uiInfo, field, prop, metaType);\n      var isAlias = prop.getIn(['Editor', 'alias'], false);\n      if (isAlias === true) {\n        var params = _this.getInvokeActionParams(prop, metaType);\n        // 避免首次发送请求时，获取不到encodeKeys\n        setTimeout(function () {\n          return _this.getEncodeParamsDelay(uiInfo, field, prop, metaType, params);\n        }, 0);\n      }\n      return value;\n    };\n    _this.encodeValue = function (params) {\n      var pageId = _this.context.model.pageId;\n      // 获取加密key值列表\n      var encodeKeys = (0, _memoryCacher.getPageData)(pageId, _const.KDBASE64);\n      var encodePropertyKeys = (0, _memoryCacher.getPageData)(pageId, _const.ENCODE_PROPERTY_KEYS);\n      if ((encodePropertyKeys === null || encodePropertyKeys === void 0 ? void 0 : encodePropertyKeys.length) > 0) {\n        (0, _index.encodePropertyValue)(params, encodePropertyKeys);\n      } else if ((encodeKeys === null || encodeKeys === void 0 ? void 0 : encodeKeys.length) > 0) {\n        _this.encodeListValueByKeys(params, encodeKeys);\n      }\n    };\n    _this.encodeListValueByKeys = function () {\n      var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var encodeKeys = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n      if (Array.isArray(params) && params.find(function (item) {\n        return _index.RuleKeys.includes(item);\n      })) {\n        params.forEach(function (item) {\n          if (item && Object.prototype.toString.call(item) === '[object Object]' && item.value) {\n            var itemValue = item.value;\n            if (_immutable.List.isList(itemValue)) {\n              itemValue = itemValue.toJS();\n            }\n            if (Array.isArray(itemValue)) {\n              itemValue.forEach(function (valueItem) {\n                (0, _index.encodeObjectValueByKeys)(valueItem, encodeKeys);\n              });\n            }\n            item.value = itemValue;\n          }\n        });\n      }\n    };\n    // 过滤实体类型控件的属性，根据ExtElements的数据，给对应属性添加上ReadOnly属性\n    _this.addReadOnlyProperty = function (props, fieldId) {\n      var _extElements$find, _props4;\n      var uiInfo = _this.props.uiInfo;\n      var fieldInfo = _model.uiModel.getFieldInfo(uiInfo, fieldId, _propnames.FORMMETA);\n      var fieldIsv = fieldInfo.get('IsvFlag');\n      var formIsv = uiInfo.getIn(['formmeta', 'Isv']) || uiInfo.getIn(['entitymeta', 'Isv']) || 'kingdee';\n      var isCurrentIsvField = fieldIsv === formIsv; // 判断字段和当前表单的开发商是否一致\n      if (!EXTEND_CONTEOL_ISV_LIST.includes(fieldIsv) || isCurrentIsvField) {\n        var _props3;\n        props = (_props3 = props) === null || _props3 === void 0 ? void 0 : _props3.map(function (prop) {\n          return prop === null || prop === void 0 ? void 0 : prop[\"delete\"]('LockType');\n        });\n        return props;\n      }\n      var extElements = uiInfo.getIn(['entitymeta', 'ExtElements'], (0, _immutable.List)());\n      var emtityMetaItems = uiInfo.getIn(['entitymeta', 'Items'], (0, _immutable.List)());\n      var fieldExtensible = ((_extElements$find = extElements.find(function (item) {\n        return item.get('Type') === 'Field';\n      })) === null || _extElements$find === void 0 ? void 0 : _extElements$find.get('Items')) || (0, _immutable.List)();\n      // if (fieldExtensible.size === 0) return props\n\n      fieldExtensible = fieldExtensible.map(function (item) {\n        if (item.get('Id') === emtityMetaItems.getIn([0, 'PkId'])) {\n          // pkid是原单根节点的id\n          item = item.set('Id', emtityMetaItems.getIn([0, 'Id']));\n        }\n        return item;\n      });\n      var ids = [fieldInfo.get(_propnames.ID), fieldInfo.get(_propnames.FIELDID), fieldInfo.get(_propnames.ENTRYID)];\n      var matchedField = fieldExtensible.find(function (item) {\n        return ids.includes(item.get('Id'));\n      });\n      var isInherit = fieldInfo.get('Inherit') || false;\n      props = (_props4 = props) === null || _props4 === void 0 ? void 0 : _props4.map(function (prop) {\n        var isReadOnly = prop.get('ReadOnly');\n        // 全局扩展控制\n        if (_this.enableGlobalControl) {\n          var lockType = prop.get('LockType');\n          if (!isInherit && lockType === _propnames.LOCK_TYPE.SPECIALLOCK) {\n            // 新增字段（非继承）不受locktype限制，所以重置为unlock\n            prop = prop.set('LockType', 'unlock');\n          }\n          if (!isReadOnly && lockType === _propnames.LOCK_TYPE.LOCK && isInherit) {\n            prop = prop.set('ReadOnly', true);\n          }\n        } else {\n          prop = prop.set('LockType', _propnames.LOCK_TYPE.UNLOCK);\n        }\n        // 单据级扩展控制\n        if (_this.enableBillControl && matchedField) {\n          var _matchedField$get;\n          (_matchedField$get = matchedField.get('Props')) === null || _matchedField$get === void 0 || _matchedField$get.forEach(function (item) {\n            var lockType = item.get('LockType') || _propnames.LOCK_TYPE.LOCK;\n            if (prop.get('name') === item.get('Id')) {\n              prop = prop.set('LockType', lockType);\n              if (lockType === _propnames.LOCK_TYPE.LOCK) {\n                prop = prop.set('ReadOnly', true);\n              } else if (!isReadOnly && lockType === _propnames.LOCK_TYPE.UNLOCK) {\n                prop = prop.set('ReadOnly', false);\n              }\n            }\n          });\n        }\n        return prop;\n      });\n      return props;\n    };\n    _this.renderActionTab = function () {\n      var _this$props = _this.props,\n        uiInfo = _this$props.uiInfo,\n        selectControlId = _this$props.select_control_id;\n      if (!uiInfo || _this.isLightExtension) return null;\n      // 当前仅支持字段以及页面级，控件会在后续规划\n      var field = _model.uiModel.getUIFieldInfo(uiInfo, selectControlId);\n      if (!field || !TYPE_WITH_JS_PLUGINS.includes(field.get(_propnames.TYPE))) {\n        return null;\n      }\n      var ctrlType = field.get(_propnames.TYPE);\n      var ctrlInfo = _scriptEditorConstant.CONTROL_WITH_JS_PLUGINS.includes(ctrlType) ? _model.uiModel.getFormFieldInfo(uiInfo, selectControlId) : null;\n      return /*#__PURE__*/_react[\"default\"].createElement(_TabView.TabPanel, {\n        key: \"action\",\n        title: (0, _intlApi.getLangMsg)('bosd.propertyView.key0009')\n      }, /*#__PURE__*/_react[\"default\"].createElement(_ActionPanel[\"default\"], {\n        element: field,\n        ctrlInfo: ctrlInfo\n      }));\n    };\n    _this.state = {\n      alias: (0, _immutable.Map)()\n    };\n    _this.getPropertyValue = _this.getPropertyValue.bind(_assertThisInitialized(_this));\n    _this.onPropClick = _this.onPropClick.bind(_assertThisInitialized(_this));\n    _this.updateGroupPropValue = _this.updateGroupPropValue.bind(_assertThisInitialized(_this));\n    _this.isExtBill = _model.uiModel.isExtBill(_props2.uiInfo);\n    _this.isLightExtension = ((_getRootConfig = (0, _appModelFunction.getRootConfig)()) === null || _getRootConfig === void 0 || (_getRootConfig = _getRootConfig.clientParams) === null || _getRootConfig === void 0 ? void 0 : _getRootConfig.bizext) === 'true'; // 轻扩展\n    return _this;\n  }\n\n  // getChildContext () {\n  //   return { alias: this.state.alias }\n  // }\n  _createClass(PropertyViewer, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      return !(0, _immutable.is)(this.props.uiConfig, nextProps.uiConfig) || this.props.select_control_id != nextProps.select_control_id || !(0, _immutable.is)(this.props.select_control_ids, nextProps.select_control_ids) || !(0, _immutable.is)(this.props.uiInfo, nextProps.uiInfo) || !(0, _immutable.is)(this.state.alias, nextState.alias);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n      // 注册后台调用前端设置控件属性的方法\n      this.context.model.sub_Event('setProperty', function () {\n        var args = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n        return _this2.setProperty(args);\n      });\n      var _this$props2 = this.props,\n        uiInfo = _this$props2.uiInfo,\n        select_control_id = _this$props2.select_control_id;\n      var _this$context$model2 = this.context.model,\n        key = _this$context$model2.key,\n        pageId = _this$context$model2.pageId;\n      this.fieldInfo = _model.uiModel.getFormFieldInfo(uiInfo, select_control_id);\n      this.isExtBill = _model.uiModel.isExtBill(uiInfo);\n      this.handleConfigChange();\n      this.removeDesignerConfigListener = (0, _memoryCacher.addDataChangeListener)(pageId, [key, 'config'], this.handleConfigChange);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(preProps) {\n      var uiInfo = this.props.uiInfo;\n      if (!(0, _immutable.is)(uiInfo, preProps.uiInfo)) {\n        this.isExtBill = _model.uiModel.isExtBill(uiInfo);\n        this.handleConfigChange();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.fieldInfo = null;\n      this.removeDesignerConfigListener();\n    }\n  }, {\n    key: \"setProperty\",\n    value: function setProperty(args) {\n      var _this3 = this;\n      if (!args || !args[0]) return;\n      var data = args[0];\n      data = _lodash[\"default\"].isArray(data) ? data : [data];\n      var _this$props3 = this.props,\n        uiInfo = _this$props3.uiInfo,\n        uiConfig = _this$props3.uiConfig;\n      var ctrlIds = (0, _immutable.Set)();\n      var allPromises = data.map(function (prop, index) {\n        return new Promise(function (resolve, reject) {\n          if (!prop) {\n            resolve(true);\n          } else {\n            var _uiModel$getUIFieldIn;\n            // 当metaType==‘entitymeta’时 itemId为实体Id\n            // 当metaType==‘formmeta’时 itemId为控件的Id\n            var itemId = prop.itemId,\n              value = prop.value,\n              metaType = prop.metaType,\n              propertyName = prop.propertyName,\n              alias = prop.alias;\n            var oValue;\n            if (metaType === _propnames.ENTITYMETA) {\n              oValue = _model.uiModel.getEntityPropertyValue(uiInfo, itemId, propertyName, uiConfig);\n            } else {\n              oValue = _model.uiModel.getPropertyValue(uiInfo, itemId, propertyName, metaType);\n            }\n            // 此时的值可能是不可变的对象， 后台传过来的value为普通对象\n            // 例如插件属性值是[{},{}],去除的oValue是不可变对象\n            oValue = oValue && oValue.toJS ? oValue.toJS() : oValue;\n            var isValChange = !_lodash[\"default\"].isEqual(oValue, value);\n            (0, _delayRequestAnimationFrame[\"default\"])(function () {\n              if (isValChange) {\n                ctrlIds = ctrlIds.concat([itemId]);\n                _this3.props.updatePropValue(itemId, propertyName, value, metaType);\n                _this3.afterUpdatePropValue(itemId, propertyName, value, metaType, alias);\n\n                // 移动表格切换数据源时，清空字段映射\n                var field = _model.uiModel.getUIFieldInfo(uiInfo, itemId);\n                if (Object.is(field === null || field === void 0 ? void 0 : field.get(_propnames.TYPE), 'MobTableAp') && Object.is(propertyName, 'MobTableDataSource')) {\n                  var items = field && field.get('Items');\n                  items && items.map(function (item) {\n                    var id = item.get('Id');\n                    _this3.context.updatePropValue(id, 'MobTableField', undefined, metaType, uiConfig);\n                  });\n                }\n              }\n              var tempAlias = _this3.state.alias;\n              var propAlias = tempAlias.getIn([itemId, metaType, propertyName, 'alias']);\n              var propValue = tempAlias.getIn([itemId, metaType, propertyName, 'value']);\n              var typePropValue = Object.prototype.toString.call(propValue);\n              var typeValue = Object.prototype.toString.call(value);\n              var objectType = ['[object Array]', '[object Object]'];\n              if (propAlias === alias && typePropValue === typeValue && (objectType.includes(typeValue) ? JSON.stringify(propValue) === JSON.stringify(value) : propValue === value)) {\n                resolve(true);\n                return;\n              }\n              // 修改属性的别名\n              _this3.setAliasContext(itemId, propertyName, alias, value, metaType);\n              resolve(true);\n            }, index);\n            var ctrlType = (_uiModel$getUIFieldIn = _model.uiModel.getUIFieldInfo(uiInfo, itemId)) === null || _uiModel$getUIFieldIn === void 0 ? void 0 : _uiModel$getUIFieldIn.get(_propnames.TYPE);\n            if (isValChange && propertyName === 'Language') {\n              setTimeout(function () {\n                var data = _this3.props.uiInfo.filterNot(function (v, k) {\n                  return k === 'ui' || k === 'entitytree' || k === 'entitymeta' && v.get('Readonly') === true;\n                });\n                _this3.context.setPostControlValue(_this3.context.model, data); // 准备设计器的post数据\n                // params:[{\"key\":\"formdesigner\",\"methodName\":\"afterSetProperty\",\"args\":[\"3fa59610000032ac\",\"formmeta\",\"Language\",\"zh_TW\"]\n                var args = [itemId, 'formmeta', 'Language', value];\n                _this3.context.invokeAction(_this3.context.model, 'afterSetProperty', args);\n              }, 0);\n            } else if (ctrlType === 'EmbedFormAp' && propertyName === 'ShowParam' && isValChange) {\n              var _this3$context = _this3.context,\n                invokeAction = _this3$context.invokeAction,\n                model = _this3$context.model;\n              var pageId = model.pageId,\n                key = model.key;\n              var showDesign = (0, _memoryCacher.getPageData)(pageId, [key, itemId, 'showDesign']);\n              if (showDesign) {\n                var ctrlInfo = _model.uiModel.getFieldInfo(uiInfo, itemId, _propnames.FORMMETA);\n                ctrlInfo = ctrlInfo.set('ShowParam', value);\n                invokeAction(_this3.context.model, _client.OPEN_EMBED_FORM, [itemId, 'formmeta', {\n                  value: true,\n                  item: {\n                    Id: itemId,\n                    _Type_: 'EmbedFormAp'\n                  },\n                  form: {},\n                  context: [[ctrlInfo]]\n                }]);\n              }\n            }\n          }\n        });\n      });\n      Promise.all(allPromises).then(function (result) {\n        // 更新控件属性值的控件不一定是选中的控件，需要通知页面实时刷新\n        // 1.更新多个控件的属性值\n        // 2.更新一个控件的属性值，但该控件不是选中控件的时候\n        if (ctrlIds.size > 1 || ctrlIds.size === 1 && ctrlIds.first() !== _this3.props.select_control_id) {\n          _this3.context.model.pub_Event('batchSetPropValueFinished', true);\n        }\n      });\n    }\n\n    // 当metaType==‘entitymeta’时 itemId为实体Id\n    // 当metaType==‘formmeta’时 itemId为控件的Id\n  }, {\n    key: \"setAliasContext\",\n    value: function setAliasContext(itemId, propName, aliasName, value, metaType) {\n      var alias = this.state.alias;\n      alias = alias.updateIn([itemId, metaType, propName], (0, _immutable.Map)(), function (info) {\n        return info.set('alias', aliasName).set('value', value);\n      });\n      this.setState({\n        alias: alias\n      });\n    }\n  }, {\n    key: \"afterUpdatePropValue\",\n    value: function afterUpdatePropValue(fieldId, propName, newValue, metaType, newValueAlias) {\n      var _this4 = this;\n      // 处理卡片字段CardEntryFieldAp 联动修改名称\n      var uiInfo = this.props.uiInfo;\n      var field;\n      if (metaType === _propnames.FORMMETA) {\n        field = _model.uiModel.getFormFieldInfo(uiInfo, fieldId);\n      } else if (metaType === _propnames.ENTITYMETA) {\n        field = _model.uiModel.getEntityFieldInfo(uiInfo, fieldId);\n      }\n      if (!field) return;\n      var fieldType = field.get(_propnames._TYPE_);\n      if (newValueAlias && (fieldType === 'CardEntryFieldAp' && propName == 'FieldId' || propName === 'BindField' && this.props.uiInfo.get('modelType') === 'PrintModel' || (fieldType === 'CardListColumnAp' || fieldType === 'ListColumnAp') && propName == 'ListFieldId')) {\n        // 更新Name值为别名\n        // fix: BT-00183899 修复模板绑定字段后，大纲中卡片的名称变成了字段标识\n        if (fieldId === this.props.select_control_id) {\n          this.updatePropValue(_propnames.NAME, newValueAlias, _propnames.FORMMETA);\n        }\n      }\n      if (propName === 'ListFieldId' || propName === 'FieldId') {\n        var entityFiledInfo = _model.uiModel.getEntityFieldInfo(uiInfo, fieldId) || (0, _immutable.Map)();\n        var newFieldType = entityFiledInfo.get('_Type_');\n        this.props.updateUIPropValue(fieldId, 'FieldType', newFieldType);\n      }\n\n      // 更新JsPlugins的值\n      if (TYPE_WITH_JS_PLUGINS.includes(fieldType) && ['Key', 'Name'].includes(propName)) {\n        var property = propName === 'Key' ? 'SourceNumber' : 'SourceName';\n        var plugins = field.get(_propnames.JS_PLUGINS);\n        if (plugins) {\n          plugins = plugins.map(function (plugin) {\n            var id = plugin.get('ClassName').split('_')[0];\n            if (id === fieldId) {\n              return plugin.update(property, function () {\n                return newValue;\n              });\n            }\n            return plugin;\n          });\n          this.updatePropValue(_propnames.JS_PLUGINS, plugins, 'formmeta');\n        }\n      }\n\n      /**\n      * 这部分代码做两个事情\n      * 1. 单选按钮在挂靠组别时，将‘风格’属性修改成 单选按钮组的 ‘风格’属性，保持统一\n      * 2. 单选按钮组修改‘风格’属性时，同时修改单选按钮的‘风格’属性\n      * 目的：单选按钮和单选按钮组的‘风格’属性要保持一致\n      * @author 洪程\n      */\n      var uiFieldInfo = _model.uiModel.getUIFieldInfo(uiInfo, fieldId);\n      if (!uiFieldInfo) return uiInfo;\n      var _fieldType = uiFieldInfo.get('FieldType');\n      if (Object.is(_fieldType, 'RadioField') && Object.is(propName, 'Group')) {\n        // 获得单选按钮组的显示风格值\n        // 获取到的按钮组可能为空\n        var radioGroupField = _model.uiModel.getFormFieldInfo(uiInfo, newValue);\n        if (!radioGroupField) {\n          return;\n        }\n        var radioGroupFieldStyle = radioGroupField.get('FieldStyle');\n        // 更新单选按钮‘风格’属性\n        this.updatePropValue('FieldStyle', radioGroupFieldStyle, _propnames.FORMMETA);\n      } else if (Object.is(_fieldType, 'RadioGroupField') && Object.is(propName, 'FieldStyle')) {\n        // 单选按钮组修改‘风格’属性时，同时修改单选按钮的‘风格’属性\n        var radioFieldIds = [];\n        // 将属于单选按钮组的单选按钮id放到数组中\n        _model.uiModel.getEntitymeta(uiInfo).forEach(function (item) {\n          if (Object.is(fieldId, item.get('Group'))) {\n            radioFieldIds.push(item.get(_propnames.ID));\n          }\n        });\n        // 循环数组，更新单选按钮formmeta数据，将FidldStyle值修改成和单选按钮组一致\n        radioFieldIds.forEach(function (radioId) {\n          _this4.props.updatePropValue(radioId, propName, newValue, _propnames.FORMMETA, _this4.props.uiConfig);\n        });\n      }\n    }\n  }, {\n    key: \"updatePropValue\",\n    value: function updatePropValue(propName, newValue, metaType) {\n      var _this5 = this;\n      if (propName instanceof Array) {\n        var propList = propName;\n        propList.forEach(function (prop) {\n          var propName = prop.propName,\n            newValue = prop.newValue,\n            _prop$metaType = prop.metaType,\n            metaType = _prop$metaType === void 0 ? _propnames.FORMMETA : _prop$metaType;\n          _this5.updatePropValue(propName, newValue, metaType);\n        });\n        return;\n      }\n      var fieldId = this.props.select_control_id;\n      var uiInfo = this.props.uiInfo;\n      if (propName === _propnames.ID && newValue === '') return;\n      var field = _model.uiModel.getFieldInfoByCtrlId(uiInfo, fieldId, metaType);\n      if (!field) return;\n\n      /**\n      * 如果单选按钮在单选按钮组内，直接修改单选按钮的‘风格’属性无效，必须修改单选按钮组的‘风格’属性\n      * @author 洪程\n      */\n      if (Object.is(propName, 'FieldStyle') && Object.is(this.getPropertyValue(uiInfo, field, _propnames._TYPE_, _propnames.ENTITYMETA), 'RadioField') && this.getPropertyValue(uiInfo, field, 'Group', _propnames.ENTITYMETA)) return;\n      if (field) {\n        var fieldType = field.get(_propnames._TYPE_);\n        var _id = field.get(_propnames.ID);\n        var selection = this.props.select_control_ids || (0, _immutable.List)();\n        var isMulti = selection.size > 1;\n        if (_model.metadataModel.isDefaultValue(this.props.uiConfig, fieldType, propName, newValue)) {\n          if (isMulti) {\n            var propInfos = selection.map(function (fieldId) {\n              var field = _model.uiModel.getFieldInfoByCtrlId(uiInfo, fieldId, metaType);\n              return {\n                fieldId: field === null || field === void 0 ? void 0 : field.get(_propnames.ID),\n                propName: propName,\n                value: undefined,\n                metaType: metaType\n              };\n            }).toJS();\n            this.props.updatePropValue(propInfos); // 删除默认属性\n          } else {\n            this.props.updatePropValue(_id, propName, undefined, metaType, this.props.uiConfig); // 删除默认属性\n          }\n        } else {\n          if (isMulti) {\n            var _propInfos = selection.map(function (fieldId) {\n              var field = _model.uiModel.getFieldInfoByCtrlId(uiInfo, fieldId, metaType);\n              return {\n                fieldId: field === null || field === void 0 ? void 0 : field.get(_propnames.ID),\n                propName: propName,\n                value: newValue,\n                metaType: metaType\n              };\n            }).toJS();\n            this.props.updatePropValue(_propInfos);\n          } else {\n            this.props.updatePropValue(_id, propName, newValue, metaType, this.props.uiConfig);\n          }\n        }\n        this.afterUpdatePropValue(_id, propName, newValue, metaType);\n      }\n    }\n  }, {\n    key: \"updateGroupPropValue\",\n    value: function updateGroupPropValue(propName, newValue, metaType, curSelectId) {\n      var _this6 = this;\n      var fields = this.props.uiInfo && this.props.uiInfo.getIn([metaType, 'Items'], (0, _immutable.List)());\n      fields.forEach(function (item) {\n        var _id = item.get(_propnames.ID);\n\n        // BT-00307818\n        // curSelectId不传或者不存在的时候，走之前的逻辑。this.props.updatePropValue(_id, propName, newValue, metaType, this.props.uiConfig)\n        // curSelectId传了或者存在的时候，先判断_id是否和当前选中的curSelectId相等，相等的才会去更新值，不相等不处理\n        if (!curSelectId) {\n          _this6.props.updatePropValue(_id, propName, newValue, metaType, _this6.props.uiConfig);\n        } else if (curSelectId === _id) {\n          _this6.props.updatePropValue(_id, propName, newValue, metaType, _this6.props.uiConfig);\n        }\n      });\n    }\n  }, {\n    key: \"getEncodeParamsDelay\",\n    value: function getEncodeParamsDelay(uiInfo, field, prop, metaType, params) {\n      this.encodeValue(params);\n      this.context.invokeAction(this.context.model, 'getPropertyAlias', params);\n    }\n  }, {\n    key: \"getPropertyValue\",\n    value: function getPropertyValue(uiInfo, field, prop, metaType) {\n      var value = this.props.getPropertyValue(uiInfo, field, prop, metaType);\n      var propName = _immutable.Map.isMap(prop) ? prop.get('name') : prop;\n      // 元素类型字段特殊处理，当为_Type_属性，直接获取控件的名称\n      if (propName === _propnames._TYPE_ || propName === 'ContainerType' && value === 'FlexPanelAp') {\n        var fieldType = value; // 此时value为控件类型，例如：FieldAp，ButtonAp,\n        var configField = _model.metadataModel.getConfigFieldByType(this.props.uiConfig, fieldType);\n        var typeName = configField && configField.get('name');\n        if (!_lodash[\"default\"].isUndefined(typeName)) return typeName;\n      }\n      if (propName === _propnames.NAME && (value === '数据表格的行' || value === '子数据表格的行')) {\n        var rowType = this.props.getPropertyValue(uiInfo, field, 'RowType', metaType);\n        value = rowType ? _model.uiModel.changeDataGridEntityName(rowType, value) : value;\n      }\n      // EntityType代表去单据体类型\n      if (propName === 'EntityType') {\n        var entitytreeType = this.props.getPropertyValue(uiInfo, field, _propnames._TYPE_, _propnames.ENTITYMETA);\n        value = entitytreeType;\n      }\n      // 改为在添加步进器时添加默认值\n      // if (propName === 'Mask' && field.get('FieldType') === 'StepperField') {\n      //   value = value || '#'\n      //   const fieldId = field.get('Id')\n      //   this.props.updatePropValue(fieldId, propName, value, metaType)\n      // }\n      return value;\n    }\n  }, {\n    key: \"getInvokeActionContext\",\n    value: function getInvokeActionContext(uiInfo, fieldInfo, extendData) {\n      var retContext = [];\n      var properties = extendData.get('properties', new _immutable.List());\n      if (properties.size == 0) return retContext;\n      var getFieldContext = function getFieldContext(info) {\n        if (!info) return;\n        var context = null;\n        properties.forEach(function (item) {\n          var itemValue = info.get(item);\n          if (itemValue != undefined) {\n            context = context || {};\n            context[item] = itemValue;\n          }\n        });\n        if (context) {\n          retContext.push(context);\n        }\n      };\n\n      // 'item'||'formmeta'||'entitymeta'||'entityrootitem'||'formrootitem'||'entityparentitem'||'formparentitem'\n      var type = extendData.get('type', '');\n      var parentType = extendData.get('parentType');\n      if (type === 'item') {\n        // 获取当前字段的属性\n        getFieldContext(fieldInfo);\n      } else if (type === 'formmeta' || type === 'entitymeta') {\n        // 获取(form||entity)中所有字段的属性\n        var formInfos = uiInfo.getIn([type, _propnames.ITEMS], (0, _immutable.List)());\n        formInfos.forEach(function (formInfo) {\n          return getFieldContext(formInfo);\n        });\n      } else if (type === 'entityrootitem') {\n        // 获取entity根节点属性\n        var rootId = uiInfo.getIn(['ui', _propnames.ID]);\n        var rootEntityInfo = _model.uiModel.getEntityFieldInfo(uiInfo, rootId);\n        getFieldContext(rootEntityInfo);\n      } else if (type === 'formrootitem') {\n        // 获取form根节点属性\n        var _rootId = uiInfo.getIn(['ui', _propnames.ID]);\n        var rootFormInfo = _model.uiModel.getFormFieldInfo(uiInfo, _rootId);\n        var entityId = uiInfo.getIn(['formmeta', 'EntityId']);\n        rootFormInfo = rootFormInfo.set('EntityId', entityId);\n        getFieldContext(rootFormInfo);\n      } else if (type === 'entityparentitem') {\n        var itemId = fieldInfo.get('ParentId');\n        var parentFieldInfo = itemId && _model.uiModel.getEntityFieldInfo(uiInfo, {\n          entityId: itemId\n        });\n        getFieldContext(parentFieldInfo);\n      } else if (type === 'formparentitem') {\n        var _itemId = fieldInfo.get(_propnames.ID);\n        var parentCtrl = _model.uiModel.getParentControl(uiInfo, _itemId, parentType);\n        var parentId = parentCtrl && parentCtrl.get(_propnames.ID);\n        var _parentFieldInfo = parentId && _model.uiModel.getFormFieldInfo(uiInfo, parentId);\n        getFieldContext(_parentFieldInfo);\n      }\n      return retContext;\n    }\n  }, {\n    key: \"getInvokeActionParams\",\n    value: function getInvokeActionParams(prop, metaType) {\n      var _this7 = this;\n      var otherParams = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var _this$props4 = this.props,\n        uiInfo = _this$props4.uiInfo,\n        uiConfig = _this$props4.uiConfig,\n        select_control_id = _this$props4.select_control_id;\n      var fieldInfo = metaType === _propnames.ENTITYMETA ? _model.uiModel.getEntityFieldInfo(uiInfo, select_control_id) : _model.uiModel.getFormFieldInfo(uiInfo, select_control_id);\n      var itemId = fieldInfo.get(_propnames.ID);\n      var propertyName = prop.get('name');\n      var propEditor = prop.get('Editor', (0, _immutable.Map)());\n      var form = propEditor.get('form', (0, _immutable.Map)());\n      var extenddata = propEditor.get('extenddata');\n      var context = [];\n      if (extenddata) {\n        if (_immutable.List.isList(extenddata)) {\n          extenddata.forEach(function (item) {\n            context.push(_this7.getInvokeActionContext(uiInfo, fieldInfo, item));\n          });\n        } else {\n          context = this.getInvokeActionContext(uiInfo, fieldInfo, extenddata);\n        }\n      }\n      var value = metaType === _propnames.ENTITYMETA ? _model.uiModel.getEntityPropertyValue(uiInfo, itemId, propertyName, uiConfig) : _model.uiModel.getPropertyValue(uiInfo, itemId, propertyName, metaType, uiConfig);\n      var param = _objectSpread({\n        form: form.toJS(),\n        value: value,\n        context: context,\n        item: _defineProperty(_defineProperty({}, _propnames.ID, itemId), _propnames._TYPE_, fieldInfo.get(_propnames._TYPE_))\n      }, otherParams);\n      return [itemId, metaType, propertyName, param];\n    }\n  }, {\n    key: \"onPropClick\",\n    value: function onPropClick(prop, metaType, otherParams) {\n      // 属性点击发送参数的方法\n      // 点击前端脚本时，由前端进行拦截，不往后端发送请求\n      if ((prop === null || prop === void 0 ? void 0 : prop.get('name')) === 'JSPlugins') {\n        var _this$context$model3 = this.context.model,\n          pageId = _this$context$model3.pageId,\n          key = _this$context$model3.key;\n        (0, _memoryCacher.publishControlMethod)(pageId, key, 'directives', [{\n          key: key,\n          methodname: _server.SHOW_JS_SCRIPT_MANAGER\n        }]);\n        return;\n      }\n      var params = this.getInvokeActionParams(prop, metaType, otherParams);\n      this.encodeValue(params);\n      this.context.invokeAction(this.context.model, 'click', params);\n    }\n  }, {\n    key: \"renderEditorGroups\",\n    value: function renderEditorGroups(field, groups, metaType) {\n      var _this8 = this;\n      var showGroupTitle = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n      var editorGroups = [];\n      var _this$props5 = this.props,\n        uiInfo = _this$props5.uiInfo,\n        uiConfig = _this$props5.uiConfig,\n        select_control_id = _this$props5.select_control_id;\n      var fieldInfo = metaType === _propnames.ENTITYMETA ? _model.uiModel.getEntityFieldInfo(uiInfo, select_control_id) : _model.uiModel.getFormFieldInfo(uiInfo, select_control_id);\n      var selectControlKey = fieldInfo.get(_propnames.KEY);\n      groups.forEach(function (props, key) {\n        editorGroups.push( /*#__PURE__*/_react[\"default\"].createElement(EditorGroup, {\n          key: key + metaType,\n          groupName: key,\n          groupProps: props,\n          uiInfo: uiInfo,\n          uiConfig: uiConfig,\n          field: field,\n          metaType: metaType,\n          updatePropValue: function updatePropValue(propName, newValue, metaType) {\n            _this8.updatePropValue(propName, newValue, metaType);\n          },\n          addUiInfoValue: function addUiInfoValue(propName, data) {\n            _this8.props.addUiInfoValue(propName, data);\n          },\n          getPropertyValue: _this8.getPropertyValue,\n          getPropertyAliasValue: _this8.getPropertyAliasValue,\n          updateGroupPropValue: _this8.updateGroupPropValue,\n          onPropClick: _this8.onPropClick,\n          applyContainerTemplate: _this8.props.applyContainerTemplate,\n          select_control_id: _this8.props.select_control_id,\n          select_control_ids: _this8.props.select_control_ids,\n          applyControlTemplate: _this8.props.applyControlTemplate,\n          selectControlKey: selectControlKey,\n          showGroupTitle: showGroupTitle\n        }));\n      });\n      return editorGroups;\n    }\n  }, {\n    key: \"getBusinessEditorGroups\",\n    value: function getBusinessEditorGroups(field, groups, metaType) {\n      if (!groups || groups.size === 0) return;\n      var baseGroup = groups.filter(function (_, key) {\n        return key === '_base_';\n      });\n      // 这里的“样式”两个字不需要抽取成多语言词条，因为这个主要是用于属性分类，跟后端约定好了不管什么语言，样式属性分类都是返回“样式”两个字\n      var notBaseGroup = groups.filter(function (_, key) {\n        return key !== '_base_' && key !== '样式' && key !== 'layout';\n      });\n      groups = baseGroup.concat(notBaseGroup);\n      return this.renderEditorGroups(field, groups, metaType);\n    }\n  }, {\n    key: \"getStyleEditorGroups\",\n    value: function getStyleEditorGroups(field, groups, metaType) {\n      if (!groups || groups.size === 0) return;\n      var baseGroup = groups.filter(function (_, key) {\n        return key == '_base_';\n      });\n      var cssGroup = groups.filter(function (_, key) {\n        return key == '样式';\n      });\n      var w_h_props = baseGroup.get('_base_').filter(function (prop) {\n        return prop.get('name') == 'Width' || prop.get('name') == 'Height';\n      });\n      groups = cssGroup.update('样式', function (props) {\n        return props && props.concat(w_h_props);\n      });\n      return this.renderEditorGroups(field, groups, metaType);\n    }\n  }, {\n    key: \"getLayoutEditorGroups\",\n    value: function getLayoutEditorGroups(field, groups, metaType) {\n      if (!groups || groups.size === 0) return;\n      var layoutGroups = groups.filter(function (_, key) {\n        return key === 'layout';\n      });\n      return this.renderEditorGroups(field, layoutGroups, metaType, false);\n    }\n  }, {\n    key: \"renderBusinessEditorGroup\",\n    value: function renderBusinessEditorGroup() {\n      var _this9 = this;\n      var _this$props6 = this.props,\n        uiInfo = _this$props6.uiInfo,\n        select_control_id = _this$props6.select_control_id,\n        uiConfig = _this$props6.uiConfig,\n        selection = _this$props6.select_control_ids;\n      if (!uiInfo) return null;\n      var field = _model.uiModel.getUIFieldInfo(uiInfo, select_control_id);\n      if (!field) return null;\n      var propsArr = selection.map(function (ctrlId) {\n        var field = _model.uiModel.getUIFieldInfo(uiInfo, ctrlId);\n        var ctrlType = _model.uiModel.getRealControlType(uiInfo)(field.get(_propnames.TYPE), ctrlId);\n        var configField = _model.metadataModel.getConfigFieldByType(uiConfig, ctrlType);\n        var props = configField && configField.get('properties');\n        props = _model.uiModel.convertProperty(props)(uiInfo, select_control_id);\n        props = _this9.isExtBill ? _this9.addReadOnlyProperty(props, ctrlId) : props;\n        return props;\n      });\n      var props = _model.uiModel.getCommonProperties(propsArr);\n      if (!props) return null;\n      var groups = props.groupBy(function (prop) {\n        return prop.get('group', '_base_');\n      });\n      var list = this.getBusinessEditorGroups(field, groups, _propnames.FORMMETA);\n\n      // entity属性\n      var entityReadonly = this.props.uiInfo.get('entityreadonly');\n      // 如果entityReadonly为true，则不显示字段相关属性\n      if (!entityReadonly) {\n        var _propsArr = selection.map(function (ctrlId) {\n          var entityField = _model.uiModel.getEntityFieldInfo(uiInfo, ctrlId);\n          if (!entityField) return (0, _immutable.List)();\n          var fieldType = entityField.get(_propnames._TYPE_);\n          var configField = _model.metadataModel.getConfigFieldByType(uiConfig, fieldType);\n          var entityProps = configField && configField.get('properties');\n          entityProps = _this9.isExtBill ? _this9.addReadOnlyProperty(entityProps, ctrlId) : entityProps;\n          return entityProps || (0, _immutable.List)();\n        });\n        var entityProps = _model.uiModel.getCommonProperties(_propsArr);\n        var entityGroups = entityProps.groupBy(function (prop) {\n          return prop.get('group', '_base_');\n        });\n        list = _lodash[\"default\"].concat(list, this.getBusinessEditorGroups(field, entityGroups, _propnames.ENTITYMETA));\n      }\n      return list;\n    }\n  }, {\n    key: \"renderStyleTab\",\n    value: function renderStyleTab() {\n      var _this$props7 = this.props,\n        uiInfo = _this$props7.uiInfo,\n        select_control_id = _this$props7.select_control_id,\n        uiConfig = _this$props7.uiConfig;\n      if (!uiInfo) return null;\n      var field = _model.uiModel.getUIFieldInfo(uiInfo, select_control_id);\n      if (!field) return null;\n      var ctrlType = _model.uiModel.getRealControlType(uiInfo)(field.get(_propnames.TYPE), select_control_id);\n      // form属性\n      var configField = _model.metadataModel.getConfigFieldByType(uiConfig, ctrlType);\n      var props = configField && configField.get('properties');\n      if (!props) return null;\n      var groups = props.groupBy(function (prop) {\n        return prop.get('group', '_base_');\n      });\n      var list = this.getStyleEditorGroups(field, groups, _propnames.FORMMETA);\n      var showStyleEditor = list && list.length > 0;\n      return showStyleEditor && /*#__PURE__*/_react[\"default\"].createElement(_TabView.TabPanel, {\n        key: \"style\",\n        title: (0, _intlApi.getLangMsg)('bosd.propertyView.key0001')\n      }, list);\n    }\n  }, {\n    key: \"renderLayoutTab\",\n    value: function renderLayoutTab() {\n      var _this10 = this;\n      var _this$props8 = this.props,\n        uiInfo = _this$props8.uiInfo,\n        select_control_id = _this$props8.select_control_id,\n        uiConfig = _this$props8.uiConfig;\n      if (!uiInfo) return null;\n      var rootType = uiInfo.getIn(['ui', 'Type']);\n      var types = [rootType, 'FlexPanelAp', 'CardEntryViewAp', 'SubCardEntryViewAp', 'CardEntryFlexPanelAp', 'CardFlexPanelAp', 'AdvConChildPanelAp', 'SplitPanelAp', 'ListCardViewAp', 'MessageCarouselContainerAp', 'CardEntryFixRowAp', 'CardEntryRowAp', 'CardRowPanelAp', 'MessageCarouselFlexPanelAp', 'GridFlatPanelAp', 'EntryFieldContainerAp', 'CardEntryFixRowPanelAp', 'MTabBarItemAp'];\n      var field = _model.uiModel.getUIFieldInfo(uiInfo, select_control_id);\n      var fieldType = field && field.get('Type');\n      if (fieldType) {\n        fieldType = _model.uiModel.getRealControlType(uiInfo)(fieldType, select_control_id);\n        field = field.set('Type', fieldType);\n      }\n      var isContainer = _lodash[\"default\"].includes(types, fieldType);\n      var showLayoutTab = isContainer && uiInfo.get('modelType') !== 'PrintModel';\n      if (!showLayoutTab) return null;\n      var ctrlType = _model.uiModel.getRealControlType(uiInfo)(field.get(_propnames.TYPE), select_control_id);\n      // form属性\n      var configField = _model.metadataModel.getConfigFieldByType(uiConfig, ctrlType);\n      var props = configField && configField.get('properties');\n      if (!props) return null;\n      var groups = props.groupBy(function (prop) {\n        return prop.get('group', '_base_');\n      });\n      var layoutPropEditors = this.getLayoutEditorGroups(field, groups, _propnames.FORMMETA);\n      return /*#__PURE__*/_react[\"default\"].createElement(_TabView.TabPanel, {\n        key: \"layout\",\n        title: (0, _intlApi.getLangMsg)('bosd.propertyView.key0002')\n      }, /*#__PURE__*/_react[\"default\"].createElement(_FastLayout[\"default\"], {\n        field: field,\n        uiInfo: uiInfo,\n        getPropertyValue: this.getPropertyValue,\n        updatePropValue: function updatePropValue(propName, newValue, metaType) {\n          _this10.updatePropValue(propName, newValue, metaType);\n        },\n        layoutPropEditors: layoutPropEditors\n      }));\n    }\n  }, {\n    key: \"renderSechemeTab\",\n    value: function renderSechemeTab() {\n      var _this$props9 = this.props,\n        uiInfo = _this$props9.uiInfo,\n        select_control_id = _this$props9.select_control_id,\n        applyControlTemplate = _this$props9.applyControlTemplate,\n        applyContainerTemplate = _this$props9.applyContainerTemplate,\n        uiConfig = _this$props9.uiConfig,\n        select_control_ids = _this$props9.select_control_ids;\n      if (!uiInfo) return null;\n      var field = _model.uiModel.getUIFieldInfo(uiInfo, select_control_id);\n      var ctrlType = field && field.get(_propnames.TYPE);\n      var isPc = uiInfo.get('isPC');\n      var controlType = isPc ? ctrlType : \"Mobile\".concat(ctrlType);\n      var hasSchemes = templateModel.hasSchemesSelectControl(select_control_ids, uiInfo);\n      var filterOptions, isGroupScheme;\n      if (hasSchemes) {\n        // schemes = templateModel.getSchemes(controlType, field, uiInfo)\n        filterOptions = templateModel.getFilterOptions(controlType);\n        isGroupScheme = templateModel.isGroupScheme(controlType);\n      }\n      // const controlTypes = ['MobileButtonAp', 'MobileLabelAp', 'MobileMToolbarAp', 'MobileRateAp', 'MobileProgressBarAp', 'MobileSuspendButtonAp', 'MobileTimelineAp', 'MobileCountDownAp', 'MobileStepsAp']\n      var otherProps = templateModel.hasSchemesOfController(controlType) ? {\n        applyControlTemplate: applyControlTemplate\n      } : {\n        applyContainerTemplate: applyContainerTemplate,\n        uiConfig: uiConfig\n      };\n      return hasSchemes && /*#__PURE__*/_react[\"default\"].createElement(_TabView.TabPanel, {\n        key: \"scheme\",\n        title: (0, _intlApi.getLangMsg)('bosd.propertyView.key0003')\n      }, /*#__PURE__*/_react[\"default\"].createElement(_TemplateScheme[\"default\"], _extends({\n        uiInfo: uiInfo,\n        designerType: this.props.designerType,\n        field: field,\n        controlType: controlType,\n        filterOptions: filterOptions,\n        selectControlId: select_control_id,\n        isGroupScheme: isGroupScheme\n      }, otherProps)));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var value = _objectSpread({\n        alias: this.state.alias,\n        inherit: this.fieldInfo && this.fieldInfo.get('Inherit')\n      }, this.context);\n      var propertyViewsVisibility = this.context.propertyViewsVisibility;\n      return /*#__PURE__*/_react[\"default\"].createElement(_designerContext.PropertyViewerContext.Provider, {\n        value: value\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _PropertyViewer2[\"default\"].propertyViewer\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _PropertyViewer2[\"default\"].title\n      }, (0, _intlApi.getLangMsg)('bosd.propertyView.key0004')), /*#__PURE__*/_react[\"default\"].createElement(_TabView[\"default\"], {\n        name: \"propertyViewer\"\n      }, propertyViewsVisibility.business && /*#__PURE__*/_react[\"default\"].createElement(_TabView.TabPanel, {\n        key: \"common\",\n        title: (0, _intlApi.getLangMsg)('bosd.propertyView.key0005')\n      }, this.renderBusinessEditorGroup()), propertyViewsVisibility.style && this.renderStyleTab(), propertyViewsVisibility.layout && this.renderLayoutTab(), propertyViewsVisibility.scheme && this.renderSechemeTab(), propertyViewsVisibility.action && this.renderActionTab())));\n    }\n  }]);\n  return PropertyViewer;\n}(_react[\"default\"].Component);\n/**\n{\n\"PropertyName\": \"ButtonStyle\",\n\"_Type_\": \"Property\",\n\"Action\": {\n\"condition\": \"is('ButtonStyle',0)|| is('ButtonStyle',1)\",\n\"action\": {\n\"name\": \"hideproperty\",\n\"args\": [\"ImageKey\"]\n}\n},\n*/\n// 根据规则隐藏属性\nPropertyViewer.propTypes = {\n  uiConfig: _propTypes[\"default\"].object,\n  uiInfo: _propTypes[\"default\"].object,\n  selectControlId: _propTypes[\"default\"].func,\n  updatePropValue: _propTypes[\"default\"].func,\n  getPropertyValue: _propTypes[\"default\"].func,\n  select_control_id: _propTypes[\"default\"].string,\n  applyContainerTemplate: _propTypes[\"default\"].func\n};\nPropertyViewer.contextType = _designerContext.EdituiContext;\nfunction propIsHide(uiInfo, field, prop, parentType) {\n  var hideConfig = prop.get('Hide');\n  if (hideConfig && _typeof(hideConfig) === 'object') {\n    var _hideConfig$toJS = hideConfig.toJS(),\n      types = _hideConfig$toJS.types,\n      fieldTypes = _hideConfig$toJS.fieldTypes,\n      parentTypes = _hideConfig$toJS.parentTypes,\n      hide = _hideConfig$toJS.hide;\n    if (types && fieldTypes) {\n      var fieldId = field.get(_propnames.ID);\n      var type = field.get(_propnames.TYPE);\n      var entityInfo = _model.uiModel.getEntityFieldInfo(uiInfo, fieldId);\n      var fieldType = entityInfo && entityInfo.get(_propnames._TYPE_);\n      if (hide == null || hide == true) {\n        return _lodash[\"default\"].includes(types, type) && _lodash[\"default\"].includes(fieldTypes, fieldType);\n      } else {\n        return !(_lodash[\"default\"].includes(types, type) && _lodash[\"default\"].includes(fieldTypes, fieldType));\n      }\n    } else if (parentTypes) {\n      if (hide == null || hide == true) {\n        return _lodash[\"default\"].includes(parentTypes, parentType);\n      } else {\n        // hide=false,满足条件就显示\n        return !_lodash[\"default\"].includes(parentTypes, parentType);\n      }\n    } else {\n      return hide;\n    }\n  }\n}\nvar isExpFunction = function isExpFunction(getValue) {\n  return function (propName, value) {\n    return getValue(propName) == value;\n  };\n};\nvar isGlobalExpFunction = function isGlobalExpFunction(getGlobalValue) {\n  return function (propName, value) {\n    return getGlobalValue(propName) == value;\n  };\n};\nvar isChangeExpFunction = function isChangeExpFunction(getPropName) {\n  return function (propName) {\n    return getPropName() == propName;\n  };\n};\nfunction hidePropListWithAction() {\n  var groupProps = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : (0, _immutable.List)();\n  var uiInfo = arguments.length > 1 ? arguments[1] : undefined;\n  var field = arguments.length > 2 ? arguments[2] : undefined;\n  var getPropertyValue = arguments.length > 3 ? arguments[3] : undefined;\n  var metaType = arguments.length > 4 ? arguments[4] : undefined;\n  var out = (0, _immutable.Set)();\n  groupProps.forEach(function (prop) {\n    var action = prop.get('Action');\n    var actionArray = action instanceof _immutable.List ? action : _immutable.List.of(action);\n    actionArray && actionArray.forEach(function (action) {\n      var _field = field;\n      if (action && action.getIn(['action', 'name']) === 'hideproperty') {\n        // 父容器属性影响子容器属性是否隐藏，获取父容器信息(处理页签控件，页签风格为默认时，页签的首页签属性隐藏)\n        var affectedByParent = action.getIn(['action', 'affectedByParent'], false);\n        if (affectedByParent) {\n          _field = _model.uiModel.getParentControl(uiInfo, field.get('Id'));\n        }\n        var condition = action.get('condition');\n        // 支持指定不同元数据类型的属性值作为判断条件\n        var getValue = function getValue(propName) {\n          var type;\n          var conditionTypes = action.getIn(['action', 'conditionTypes']);\n          if (conditionTypes && _immutable.List.isList(conditionTypes)) {\n            type = conditionTypes.find(function (metaType) {\n              return getPropertyValue(uiInfo, _field, propName, metaType);\n            });\n          }\n          return getPropertyValue(uiInfo, _field, propName, type || metaType);\n        };\n        try {\n          // expr-eval 不支持&& 先强制转换成and\n          // !在expr-eval中是阶乘的意思，在项目中是取反，所以这里转换成not取反\n          // 保险起见也将 || 转换成 or\n          condition = condition.replace(/&&/g, ' and ').replace(/!/g, ' not ').replace(/\\|\\|/g, ' or ');\n          var expr = _exprEval.Parser.parse(condition);\n          var result = expr.evaluate({\n            is: isExpFunction(getValue),\n            \"null\": null\n          });\n          if (result) {\n            out = out.concat(action.get('action').get('args'));\n          }\n        } catch (error) {\n          console.error('eval condition scripts error:', condition);\n        }\n      }\n    });\n  });\n  return out;\n}\nfunction lockPropListWithAction() {\n  var groupProps = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : (0, _immutable.List)();\n  var uiInfo = arguments.length > 1 ? arguments[1] : undefined;\n  var field = arguments.length > 2 ? arguments[2] : undefined;\n  var getPropertyValue = arguments.length > 3 ? arguments[3] : undefined;\n  var metaType = arguments.length > 4 ? arguments[4] : undefined;\n  var out = (0, _immutable.Set)();\n  groupProps.forEach(function (prop) {\n    var action = prop.get('Action');\n    var actionArray = action instanceof _immutable.List ? action : _immutable.List.of(action);\n    actionArray && actionArray.forEach(function (action) {\n      if (action && action.getIn(['action', 'name']) === 'lockproperty') {\n        // 查询所有类型的属性是否有值,不在局限类型\n        var getValue = function getValue(propName) {\n          return getPropertyValue(uiInfo, field, propName, metaType) || getPropertyValue(uiInfo, field, propName, _propnames.FORMMETA) || getPropertyValue(uiInfo, field, propName, _propnames.ENTITYMETA);\n        };\n        var getGlobalValue = function getGlobalValue(propName) {\n          return uiInfo.get(propName);\n        };\n        var condition = action.get('condition');\n        try {\n          condition = condition.replace(/&&/g, ' and ').replace(/!/g, ' not ').replace(/\\|\\|/g, ' or ');\n          var expr = _exprEval.Parser.parse(condition);\n          var result = expr.evaluate({\n            is: isExpFunction(getValue),\n            isGlobal: isGlobalExpFunction(getGlobalValue),\n            \"null\": null\n          });\n          if (result) {\n            // prop = prop.set('ReadOnly', true)\n            out = out.concat(action.get('action').get('args'));\n          }\n        } catch (error) {\n          console.error('eval condition scripts error:', condition);\n        }\n      }\n    });\n  });\n  return out;\n}\nfunction resetPropListWithAction() {\n  var groupProp = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : (0, _immutable.Map)();\n  var propName = arguments.length > 1 ? arguments[1] : undefined;\n  var newValue = arguments.length > 2 ? arguments[2] : undefined;\n  var metaType = arguments.length > 3 ? arguments[3] : undefined;\n  var out = (0, _immutable.Set)();\n  var outTypes = (0, _immutable.Map)({});\n  var action = groupProp.get('Action');\n  var actionArray = action instanceof _immutable.List ? action : _immutable.List.of(action);\n  actionArray && actionArray.forEach(function (action) {\n    if (action && action.getIn(['action', 'name']) === 'resetproperty') {\n      var condition = action.get('condition');\n      var getPropName = function getPropName() {\n        return propName;\n      };\n      var getValue = function getValue() {\n        return newValue;\n      };\n      try {\n        condition = condition.replace(/&&/g, ' and ').replace(/!/g, ' not ').replace(/\\|\\|/g, ' or ');\n        var expr = _exprEval.Parser.parse(condition);\n        var result = expr.evaluate({\n          isChange: isChangeExpFunction(getPropName),\n          is: isExpFunction(getValue),\n          \"null\": null\n        });\n        if (result) {\n          // 支持重置其他元数据类型\n          var args = action.getIn(['action', 'args']);\n          var types = action.getIn(['action', 'argsTypes']);\n          if (args) {\n            out = out.concat(args);\n            types && args.forEach(function (key) {\n              types.get(key) && (outTypes = outTypes.set(key, types.get(key)));\n            });\n          }\n        }\n      } catch (error) {\n        console.error('eval condition scripts error:', condition);\n      }\n    }\n  });\n  return {\n    out: out,\n    outTypes: outTypes\n  };\n}\n\n// 设计器属性规则：属性关联\nfunction relatedPropListWithAction() {\n  var groupProps = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : (0, _immutable.List)();\n  var uiInfo = arguments.length > 1 ? arguments[1] : undefined;\n  var field = arguments.length > 2 ? arguments[2] : undefined;\n  var propValue = arguments.length > 3 ? arguments[3] : undefined;\n  var name = arguments.length > 4 ? arguments[4] : undefined;\n  var metaType = arguments.length > 5 ? arguments[5] : undefined;\n  // 不要一直取uiInfo里面的东西, 意义不大: 因为下面的循环仍然会取或更新\n  var out = (0, _immutable.List)();\n  var relatedInfo = (0, _immutable.Map)();\n  var relatedOptions;\n  var relatedPropName;\n  groupProps.forEach(function (prop) {\n    var action = prop.get('Action');\n    var actionArray = action instanceof _immutable.List ? action : _immutable.List.of(action);\n    actionArray && actionArray.forEach(function (action) {\n      if (action && action.getIn(['action', 'name']) === 'relatedProperty') {\n        var beRelatedPropName = prop && prop.get('name');\n        var relatedOptionList = action.getIn(['action', 'relatedOptionList']);\n        relatedOptions = relatedOptionList.get(propValue, (0, _immutable.List)());\n        if (beRelatedPropName !== name) return;\n        // relatedPropName现在仅支持关联一个属性表示被关联的控件属性\n        relatedPropName = action.getIn(['action', 'relatedPropName']) && action.getIn(['action', 'relatedPropName', 0]);\n        relatedInfo = relatedInfo.set('beRelatedPropName', beRelatedPropName);\n        relatedInfo = relatedInfo.set('relatedOptions', (0, _immutable.fromJS)(relatedOptions));\n        relatedInfo = relatedInfo.set('value', propValue);\n        relatedInfo = relatedInfo.set('relatedPropName', relatedPropName);\n        if (out.size === 0) {\n          out = out.push(relatedInfo);\n          return out;\n        }\n        out.forEach(function (item, index) {\n          if (item.get('beRelatedPropName') === beRelatedPropName) {\n            out = out.update(index, function (val) {\n              return relatedInfo;\n            });\n          } else {\n            out = out.push(relatedInfo);\n          }\n        });\n      }\n    });\n  });\n  return out;\n}\n\n// 通过Id获取类型\nvar typeListById = ['KeyFieldId'];\n// 设计器属性规则: 改变其他属性的值\nfunction setPropertyValueWithAction() {\n  var groupProp = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : (0, _immutable.Map)();\n  var propName = arguments.length > 1 ? arguments[1] : undefined;\n  var newValue = arguments.length > 2 ? arguments[2] : undefined;\n  var metaType = arguments.length > 3 ? arguments[3] : undefined;\n  var out = (0, _immutable.List)();\n  var action = groupProp.get('Action');\n  var actionArray = action instanceof _immutable.List ? action : _immutable.List.of(action);\n  actionArray && actionArray.forEach(function (action) {\n    if (action && action.getIn(['action', 'name']) === 'setpropertyvalue') {\n      var condition = action.get('condition');\n      var getPropName = function getPropName() {\n        return propName;\n      };\n      var getValue = function getValue() {\n        return newValue;\n      };\n      try {\n        condition = condition.replace(/&&/g, ' and ').replace(/!/g, ' not ').replace(/\\|\\|/g, ' or ');\n        var expr = _exprEval.Parser.parse(condition);\n        var result = expr.evaluate({\n          isChange: isChangeExpFunction(getPropName),\n          is: isExpFunction(getValue),\n          \"null\": null\n        });\n        if (result) {\n          out = out.concat(action.get('action').get('args'));\n        }\n      } catch (error) {\n        console.error('eval condition scripts error:', condition);\n      }\n    }\n  });\n  return out;\n}\n\n// checkbox/btnedit/... 类的属性, 无论ReadOnly取值如何, 始终调用对应的属性编辑器\nvar inheritEditorTypeList = ['checkbox', 'btnedit', 'text', 'integer', 'ecombo', 'combo', 'refcombo', 'editcombo', 'decimal', 'mcombo', 'refmcombo', 'daterange', 'dimension'];\nfunction getPropEditor(prop) {\n  var configEdit = prop.get('Editor');\n  var editType = configEdit && configEdit.get('type');\n  var name = prop.get('name');\n  var isReadOnly = prop.get('ReadOnly');\n  // 不在inheritEditorTypeList中的属性类型如果有ReadOnly，返回ReadOnlyPropEditor编辑器\n  // _Type_如果有ReadOnly，返回ReadOnlyPropEditor编辑器\n  if (isReadOnly && (editType && !inheritEditorTypeList.includes(editType) || ['_Type_', 'ContainerType'].includes(name))) {\n    return editors.ReadOnlyPropEditor;\n  }\n  if (configEdit) {\n    // 如果是自定义属性，返回自定义属性\n    var customPropName = configEdit.get('CustomPropName');\n    var editorName = '';\n    if (customPropName) {\n      editorName = 'CustomPropertyEditor';\n    } else {\n      editorName = \"\".concat(_lodash[\"default\"].upperFirst(configEdit.get('type')), \"PropertyEditor\");\n    }\n    var editor = editors[editorName];\n    if (editor) {\n      return editor;\n    }\n  }\n  return editors.DefaultPropEditor;\n}\nvar EditorGroup = /*#__PURE__*/function (_Component) {\n  _inherits(EditorGroup, _Component);\n  function EditorGroup() {\n    _classCallCheck(this, EditorGroup);\n    return _callSuper(this, EditorGroup, arguments);\n  }\n  _createClass(EditorGroup, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this11 = this;\n      var _this$props10 = this.props,\n        groupProps = _this$props10.groupProps,\n        uiInfo = _this$props10.uiInfo,\n        field = _this$props10.field;\n      groupProps.forEach(function (prop) {\n        var action = prop.get('Action');\n        var actionArray = action instanceof _immutable.List ? action : _immutable.List.of(action);\n        actionArray && actionArray.forEach(function (action) {\n          if (action && action.getIn(['action', 'name']) === 'relatedProperty') {\n            var value = _this11.props.getPropertyValue(uiInfo, field, prop, _this11.props.metaType);\n            var name = prop.get('name');\n            var relatedPropList = relatedPropListWithAction(groupProps, uiInfo, field, value, name, _this11.props.metaType);\n            if (relatedPropList.size > 0) {\n              _this11.props.addUiInfoValue('relatedList', relatedPropList);\n            }\n          }\n        });\n      });\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState, nextContext) {\n      return this.props.groupName != nextProps.groupName || !(0, _immutable.is)(this.props.groupProps, nextProps.groupProps) || !(0, _immutable.is)(this.props.field, nextProps.field) || !(0, _immutable.is)(this.props.uiInfo, nextProps.uiInfo) || !(0, _immutable.is)(this.context.alias, nextContext.alias);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this12 = this;\n      var containerStyle = {\n        fontSize: '1em',\n        paddingLeft: 4,\n        paddingTop: 5\n      };\n      var _this$props11 = this.props,\n        uiInfo = _this$props11.uiInfo,\n        field = _this$props11.field,\n        metaType = _this$props11.metaType,\n        select_control_ids = _this$props11.select_control_ids;\n      var title = this.props.groupName;\n      // formmeta：字段ID  entitymeta：实体ID\n      var itemId = this.props.field.get(_propnames.ID);\n      var excludeProp = []; // 不显示的字段\n      if (metaType === _propnames.FORMMETA) {\n        if (title === '_base_') title = (0, _intlApi.getLangMsg)('bosd.propertyView.key0006');\n        if (title === '_scheme_') title = (0, _intlApi.getLangMsg)('bosd.propertyView.key0003');\n        if (title === '_control_scheme_') title = (0, _intlApi.getLangMsg)('bosd.propertyView.key0007');\n        if (title === '样式') title = (0, _intlApi.getLangMsg)('bosd.propertyView.key0001');\n        excludeProp = [_propnames.ID, _propnames.TYPE];\n      } else if (metaType === _propnames.ENTITYMETA) {\n        if (title === '_base_') title = (0, _intlApi.getLangMsg)('bosd.propertyView.key0008');\n        excludeProp = [_propnames.ID, _propnames.TYPE, _propnames.KEY, _propnames.NAME];\n        var entityInfo = _model.uiModel.getEntityFieldInfo(this.props.uiInfo, itemId);\n        itemId = entityInfo.get(_propnames.ID);\n      }\n      var groupProps = this.props.groupProps.filterNot(function (v) {\n        return _lodash[\"default\"].includes(excludeProp, v.get('name'));\n      });\n      groupProps = groupProps.filterNot(function (prop) {\n        return select_control_ids.some(function (fieldId) {\n          var field = _model.uiModel.getUIFieldInfo(uiInfo, fieldId);\n          var parentCtrl = _model.uiModel.getParentControl(uiInfo, fieldId);\n          return propIsHide(uiInfo, field, prop, parentCtrl && parentCtrl.get('Type'));\n        });\n      });\n      var relatedPropList = this.props.uiInfo.get('relatedList', (0, _immutable.List)());\n      relatedPropList.map(function (propItem, key) {\n        var relatedIndex = groupProps.findIndex(function (item) {\n          return item.get('name') === propItem.get('relatedPropName');\n        });\n        if (relatedIndex >= 0) {\n          groupProps = groupProps.updateIn([relatedIndex, 'Editor'], function (val) {\n            return val.set('items', propItem.get('relatedOptions'));\n          });\n        }\n      });\n      var hidePropList = select_control_ids.reduce(function (hideList, fieldId) {\n        var field = _model.uiModel.getUIFieldInfo(uiInfo, fieldId);\n        var currentHideList = hidePropListWithAction(groupProps, uiInfo, field, _this12.props.getPropertyValue, metaType);\n        hideList = hideList.concat(currentHideList);\n        return hideList;\n      }, (0, _immutable.Set)());\n      hidePropList = hidePropList.concat(['AlignContent', 'JustifyContent', 'AlignItems', 'Direction', 'Wrap']); // 该五个布局相关属性统一只在快速布局面板中设置，在属性栏中隐藏\n      groupProps = groupProps.filterNot(function (prop) {\n        return hidePropList.includes(prop.get('name'));\n      });\n      var _this$context$model4 = this.context.model,\n        pageId = _this$context$model4.pageId,\n        key = _this$context$model4.key;\n      var _this$props$select_co = this.props.select_control_ids.reduce(function (_ref2, ctrlId) {\n          var lockPropList = _ref2.lockPropList,\n            specialLockPropList = _ref2.specialLockPropList;\n          var field = _model.uiModel.getUIFieldInfo(uiInfo, ctrlId);\n          // 不在过滤数据，隐藏的元素也可以让action生效\n          var _lockPropList = lockPropListWithAction(_this12.props.groupProps, _this12.props.uiInfo, field, _this12.props.getPropertyValue, metaType);\n          // 后端通过lockProperty指令设置的属性锁定\n          var lockPropListByEndside = (0, _memoryCacher.getPageData)(pageId, [key, _server.LOCK_PROPERTY, ctrlId]) || (0, _immutable.List)();\n          if (lockPropListByEndside.size > 0) {\n            var _lockPropListByEndside = lockPropListByEndside.filter(function (item) {\n              return typeof item === 'string';\n            }) || (0, _immutable.List)();\n            lockPropList = lockPropList.concat(_lockPropList, _lockPropListByEndside);\n            var _specialLockPropList = lockPropListByEndside.filter(function (item) {\n              return _typeof(item) === 'object';\n            }) || (0, _immutable.List)();\n            specialLockPropList = specialLockPropList.concat(_specialLockPropList);\n          } else {\n            lockPropList = lockPropList.concat(_lockPropList);\n          }\n          return {\n            lockPropList: lockPropList,\n            specialLockPropList: specialLockPropList\n          };\n        }, {\n          lockPropList: (0, _immutable.Set)(),\n          specialLockPropList: (0, _immutable.Set)()\n        }),\n        lockPropList = _this$props$select_co.lockPropList,\n        specialLockPropList = _this$props$select_co.specialLockPropList;\n      if (groupProps.size === 0) return null;\n      var groupPropsList = groupProps.map(function (prop) {\n        var propName = prop.get('name');\n        var specialLockProp = specialLockPropList.find(function (item) {\n          return item.get(propName) !== undefined;\n        });\n        if (lockPropList.includes(propName)) {\n          prop = prop.set('ReadOnly', true);\n        } else if (specialLockProp) {\n          prop = prop.set('LockType', _propnames.LOCK_TYPE.SPECIALLOCK).set(_propnames.ORIGIN_PROPS_VALUE, specialLockProp.get(propName));\n        }\n        if (propName === 'JSPlugins') {\n          prop = prop.set('LockType', _propnames.LOCK_TYPE.SPECIALLOCK);\n        }\n        var name = prop.get('name');\n        var propEditor = getPropEditor(prop);\n        // 如属性B依赖属性A而变化, newValue则是属性A的值\n        var newValue = _this12.props.getPropertyValue(uiInfo, field, prop, metaType);\n        // 每次渲染属性A时, 要根据属性A的值, 实时更新依赖项(属性B)\n        var newRelatedPropList = relatedPropListWithAction(_this12.props.groupProps, uiInfo, field, newValue, name, metaType);\n        if (newRelatedPropList.size > 0) {\n          _this12.props.addUiInfoValue('relatedList', newRelatedPropList);\n        }\n        prop = prop.merge((0, _immutable.fromJS)({\n          SelectControlKey: _this12.props.selectControlKey,\n          metaType: _this12.props.metaType\n        }));\n        var _props = {\n          uiConfig: _this12.props.uiConfig,\n          uiInfo: _this12.props.uiInfo,\n          prop: prop,\n          key: \"\".concat(itemId, \"_\").concat(propName),\n          itemId: itemId,\n          field: _this12.props.field,\n          metaType: _this12.props.metaType,\n          notifyMsg: _this12.context.notifyMsg,\n          select_control_id: _this12.props.select_control_id,\n          select_control_ids: _this12.props.select_control_ids,\n          updatePropValue: function updatePropValue(newValue, metaType) {\n            _this12.props.updatePropValue(propName, newValue, metaType || _this12.props.metaType);\n            // 被关联属性值改变后，关联属性随之改变\n            var relatedPropList = relatedPropListWithAction(_this12.props.groupProps, _this12.props.uiInfo, _this12.props.field, newValue, name, metaType);\n            if (relatedPropList.size > 0) {\n              _this12.props.addUiInfoValue('relatedList', relatedPropList);\n              relatedPropList.map(function (item) {\n                if (item.get('beRelatedPropName') === propName) {\n                  _this12.props.updateGroupPropValue(item.get('relatedPropName'), undefined, metaType || _this12.props.metaType, itemId);\n                }\n              });\n            }\n\n            /* 值改变之后指定属性值重置规则 */\n            var prop = _this12.props.groupProps.find(function (g) {\n              return g.get('name') === propName;\n            });\n            var resetPropList = resetPropListWithAction(prop, propName, newValue, metaType || _this12.props.metaType);\n            resetPropList.out.forEach(function (resetProp) {\n              // 可以指定刷新的元数据类型 数据结构为对象\n              _this12.props.updatePropValue(resetProp, undefined, resetPropList.outTypes.get(resetProp) || metaType || _this12.props.metaType);\n            });\n            var _newValue = newValue;\n            if (typeListById.includes(propName)) {\n              var fieldInfo = _model.uiModel.getUIFieldInfo(_this12.props.uiInfo, newValue);\n              _newValue = fieldInfo ? fieldInfo.get(_propnames.FieldType) : newValue;\n            }\n            /* 值改变之后指定属性成对应值(可以设置其他属性的值) */\n            var setPropList = setPropertyValueWithAction(prop, propName, _newValue, metaType || _this12.props.metaType);\n            setPropList && setPropList.size > 0 && setPropList.forEach(function (item) {\n              var _propName = item.get('property');\n              var _value = item.get('value', undefined);\n              _this12.props.updatePropValue(_propName, _value, metaType || _this12.props.metaType);\n            });\n          },\n          getPropertyValue: function getPropertyValue(uiInfo, field, prop, metaType) {\n            if (propName === 'JSPlugins') {\n              var formAp = uiInfo.getIn([_propnames.FORMMETA, _propnames.ITEMS]).find(function (item) {\n                return item.get(_propnames._TYPE_).endsWith('FormAp');\n              });\n              if (!formAp) {\n                return '';\n              }\n              var scripts = formAp.get('JsPlugins') ? formAp.get('JsPlugins').toJS() : '';\n              return scripts ? JSON.stringify(scripts) : '';\n            }\n            return _this12.props.getPropertyValue(uiInfo, field, prop, metaType || _this12.props.metaType);\n          },\n          getPropertyAliasValue: function getPropertyAliasValue(uiInfo, field, prop, metaType) {\n            return _this12.props.getPropertyAliasValue(uiInfo, field, prop, metaType || _this12.props.metaType);\n          },\n          updateOtherPropValue: function updateOtherPropValue(propName, newValue, metaType) {\n            _this12.props.updatePropValue(propName, newValue, metaType || _this12.props.metaType);\n          }\n        };\n        var editorType = prop.getIn(['Editor', 'type'], '');\n        var canClicks = ['btnedit', 'refeditbtn'];\n        if (canClicks.includes(editorType.toLowerCase())) {\n          _props.onClick = function () {\n            return _this12.props.onPropClick(prop, _this12.props.metaType);\n          };\n          // 其他点击类型调用，如删除，otherParams 需为object类型\n          _props.otherTypeClick = function (_ref3) {\n            var metaType = _ref3.metaType,\n              otherParams = _ref3.otherParams;\n            _this12.props.onPropClick(prop, metaType || _this12.props.metaType, otherParams);\n          };\n        }\n        return /*#__PURE__*/_react[\"default\"].createElement(propEditor, _props);\n      });\n      if (this.props.showGroupTitle === false) {\n        return groupPropsList;\n      }\n      return /*#__PURE__*/_react[\"default\"].createElement(_Collapse[\"default\"], {\n        title: title\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        style: containerStyle\n      }, groupPropsList));\n    }\n  }]);\n  return EditorGroup;\n}(_react.Component);\n// static contextTypes={\n//   alias: PropTypes.object\n// }\nEditorGroup.contextType = _designerContext.PropertyViewerContext;\nvar _default = exports[\"default\"] = PropertyViewer;\n\n//# sourceURL=webpack://bos-platform/./src/designer/page/PropertyViewer.jsx?");

/***/ }),

/***/ "./src/designer/page/TempFragment.jsx":
/*!********************************************!*\
  !*** ./src/designer/page/TempFragment.jsx ***!
  \********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = TempFragment;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.array.splice.js */ \"../../node_modules/core-js/modules/es.array.splice.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\n__webpack_require__(/*! core-js/modules/web.timers.js */ \"../../node_modules/core-js/modules/web.timers.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _Collapse = _interopRequireDefault(__webpack_require__(/*! ../component/Collapse */ \"./src/designer/component/Collapse.jsx\"));\nvar _TempFragment = _interopRequireDefault(__webpack_require__(/*! ./TempFragment.less */ \"./src/designer/page/TempFragment.less\"));\nvar _formservice = _interopRequireDefault(__webpack_require__(/*! @/api/formservice */ \"./src/api/formservice.js\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _GlobalDataCacher = __webpack_require__(/*! ../../model/GlobalDataCacher */ \"./src/model/GlobalDataCacher.js\");\nvar _symbolConst = __webpack_require__(/*! ../../constant/symbolConst */ \"./src/constant/symbolConst.js\");\nvar _ControlLoading = _interopRequireDefault(__webpack_require__(/*! @/component/mobile/base/ControlLoading */ \"./src/component/mobile/base/ControlLoading/index.js\"));\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; } // import getTempFragments from '../tempFragment'\nvar templateCacher = new _immutable.Map();\nfunction TempFragment(props) {\n  var designerType = props.designerType,\n    addTempFragment = props.addTempFragment,\n    rootId = props.rootId;\n  var _useState = (0, _react.useState)((0, _immutable.List)()),\n    _useState2 = _slicedToArray(_useState, 2),\n    fragmentData = _useState2[0],\n    setFragmentData = _useState2[1];\n  (0, _react.useEffect)(function () {\n    var data = (0, _GlobalDataCacher.getData)(_symbolConst.KEY_FRAGMENT_DATA);\n    data && dataMessageListener(data);\n  }, [designerType]);\n  (0, _react.useEffect)(function () {\n    var removeDataMessageListener = (0, _GlobalDataCacher.addDataChangeListener)(_symbolConst.KEY_FRAGMENT_DATA, dataMessageListener);\n    return function () {\n      removeDataMessageListener();\n    };\n  }, []);\n  var dataMessageListener = function dataMessageListener(data) {\n    setFragmentData(data);\n  };\n  var renderFragmentData = (0, _react.useMemo)(function () {\n    var simplifyData = [];\n    fragmentData && fragmentData.map(function (item) {\n      var _item$get;\n      var groupType = item.get('groupType');\n      return (_item$get = item.get('children')) === null || _item$get === void 0 ? void 0 : _item$get.map(function (child) {\n        simplifyData.push((0, _immutable.fromJS)({\n          groupType: groupType,\n          groupName: child.get('groupName'),\n          groupId: child.get('groupId'),\n          tempFragments: child.get('tempFragments')\n        }));\n      });\n    });\n    return simplifyData;\n  }, [fragmentData]);\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _TempFragment[\"default\"].root\n  }, renderFragmentData && renderFragmentData.map(function (item, index) {\n    return /*#__PURE__*/_react[\"default\"].createElement(_Collapse[\"default\"], {\n      key: item.get('groupId'),\n      title: item.get('groupName')\n    }, /*#__PURE__*/_react[\"default\"].createElement(FragmentComponemt, {\n      tempFragments: item.get('tempFragments'),\n      groupType: item.get('groupType'),\n      addTempFragment: addTempFragment,\n      rootId: rootId\n    }));\n  }), renderFragmentData.length === 0 && /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _TempFragment[\"default\"]['no-data']\n  }, (0, _intlApi.getLangMsg)('bosd.tempFragment.key0001')));\n}\nfunction FragmentComponemt(props) {\n  var tempFragments = props.tempFragments,\n    groupType = props.groupType,\n    addTempFragment = props.addTempFragment,\n    rootId = props.rootId;\n  var _useState3 = (0, _react.useState)((0, _immutable.List)()),\n    _useState4 = _slicedToArray(_useState3, 2),\n    jsonStateKeys = _useState4[0],\n    setJsonStateKeys = _useState4[1];\n  var fragmentDataQuest = function fragmentDataQuest(fragmentId) {\n    var templateData = templateCacher.get(fragmentId);\n    if (templateData) {\n      addTempFragment(rootId, templateData);\n      return;\n    }\n    if (jsonStateKeys.includes(fragmentId)) return;\n    var url = \"metatemplate/getDesignerFragmentMetadata.do?groupType=\".concat(groupType, \"&fragmentId=\").concat(fragmentId);\n    var timer = setTimeout(function () {\n      setJsonStateKeys(function (jsonKeys) {\n        return jsonKeys.push(fragmentId);\n      });\n    }, 300);\n    _formservice[\"default\"].postApi(url).then(function (data) {\n      clearTimeout(timer);\n      setJsonStateKeys(function (jsonKeys) {\n        if (jsonKeys.includes(fragmentId)) {\n          jsonKeys = jsonKeys.splice(jsonKeys.indexOf(fragmentId), 1);\n        }\n        return jsonKeys;\n      });\n      templateCacher = templateCacher.set(fragmentId, (0, _immutable.fromJS)(data));\n      addTempFragment(rootId, (0, _immutable.fromJS)(data));\n    })[\"catch\"](function (error) {\n      console.log(error);\n    });\n  };\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _TempFragment[\"default\"].fragmentPanel\n  }, tempFragments.map(function (item, index) {\n    return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      key: item.get('key'),\n      className: _TempFragment[\"default\"].fragmentItem,\n      onClick: function onClick() {\n        return fragmentDataQuest(item.get('key'));\n      }\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"img\", {\n      src: item.get('src'),\n      className: _TempFragment[\"default\"].img\n    }), jsonStateKeys.includes(item.get('key')) && /*#__PURE__*/_react[\"default\"].createElement(_ControlLoading[\"default\"], {\n      loading: {\n        showLoading: true,\n        loadingType: 2\n      },\n      style: {\n        backgroundColor: '#FFFFFF'\n      }\n    }));\n  }));\n}\n\n//# sourceURL=webpack://bos-platform/./src/designer/page/TempFragment.jsx?");

/***/ }),

/***/ "./src/designer/page/TemplatePanel.jsx":
/*!*********************************************!*\
  !*** ./src/designer/page/TemplatePanel.jsx ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-properties.js */ \"../../node_modules/core-js/modules/es.object.define-properties.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptors.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = TemplatePanel;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.find.js */ \"../../node_modules/core-js/modules/es.array.find.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.anchor.js */ \"../../node_modules/core-js/modules/es.string.anchor.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _global = _interopRequireWildcard(__webpack_require__(/*! @/global */ \"./src/global/index.js\"));\nvar _classnames3 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _Collapse = _interopRequireDefault(__webpack_require__(/*! ../component/Collapse */ \"./src/designer/component/Collapse.jsx\"));\nvar _reactTooltip = _interopRequireDefault(__webpack_require__(/*! react-tooltip */ \"../../node_modules/react-tooltip/dist/index.es.js\"));\nvar _formservice = _interopRequireDefault(__webpack_require__(/*! @/api/formservice */ \"./src/api/formservice.js\"));\nvar _componentutil = __webpack_require__(/*! @/util/componentutil */ \"./src/util/componentutil.js\");\nvar _LoadingGIF = _interopRequireDefault(__webpack_require__(/*! @/component/common/LoadingGIF */ \"./src/component/common/LoadingGIF.js\"));\nvar _PanelWithOutside = _interopRequireDefault(__webpack_require__(/*! @/component/common/PanelWithOutside */ \"./src/component/common/PanelWithOutside.js\"));\nvar _FieldBindingModule = __webpack_require__(/*! ./FieldBindingModule */ \"./src/designer/page/FieldBindingModule.jsx\");\nvar _symbolConst = __webpack_require__(/*! @/constant/symbolConst */ \"./src/constant/symbolConst.js\");\nvar _GlobalDataCacher = __webpack_require__(/*! @/model/GlobalDataCacher */ \"./src/model/GlobalDataCacher.js\");\nvar _console = _interopRequireDefault(__webpack_require__(/*! @/api/console */ \"./src/api/console.js\"));\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nvar _TemplatePanel = _interopRequireDefault(__webpack_require__(/*! ./TemplatePanel.less */ \"./src/designer/page/TemplatePanel.less\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nvar listTempKeys = ['bos_doublepicrow_moblist', 'bos_doublerow_mobbilltpl', 'bos_multiopera_moblist', 'bos_singlecol_moblisttpl', 'bos_singleopera_moblist', 'bos_singlepicrow_mobbill'];\nfunction TemplatePanel(props) {\n  var isPC = props.isPC,\n    designerType = props.designerType,\n    applyPageTemplate = props.applyPageTemplate,\n    uiConfig = props.uiConfig,\n    templateData = props.templateData,\n    changeShowPanleType = props.changeShowPanleType,\n    showPanelType = props.showPanelType,\n    changeActiveTempInfo = props.changeActiveTempInfo,\n    activeTempInfo = props.activeTempInfo,\n    changeTemplateData = props.changeTemplateData,\n    uiInfo = props.uiInfo;\n  var templateAllData = Array.isArray(templateData) && templateData[0];\n  var _useState = (0, _react.useState)(true),\n    _useState2 = _slicedToArray(_useState, 2),\n    showLoading = _useState2[0],\n    setShowLoading = _useState2[1];\n  var _useState3 = (0, _react.useState)(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    showNoData = _useState4[0],\n    setShowNodata = _useState4[1];\n  var uiActionRef = (0, _react.useRef)({}); // 收集用户使用模板的行为\n  // useEffect(() => {\n  //   if (showPanelType === 0) {\n  //     setShowLoading(true)\n  //     setTimeout(() => {\n  //       setShowLoading(false)\n  //     }, 10000) // 如果十秒后还未取到数据，隐藏loading\n  //   }\n  // }, [])\n\n  (0, _react.useEffect)(function () {\n    if (templateAllData) {\n      setShowLoading(false);\n      if ((!templateAllData.children || templateAllData.children.length === 0) && (!templateAllData.pages || templateAllData.pages.length === 0)) {\n        setShowNodata(true); // 数据不符合规范，显示无数据提示\n      } else if (!activeTempInfo.key) {\n        var temArr = templateAllData.children || [];\n        var firstTem = templateAllData || {};\n        if (temArr.length > 0) {\n          firstTem = temArr.find(function (item) {\n            return item.pages !== undefined;\n          });\n        }\n        var groupId = firstTem.groupId;\n        var groupName = firstTem.groupName;\n        var pagesArr = firstTem.pages || [];\n        var firstPage = pagesArr[0];\n        if (firstPage) {\n          changeActiveTempInfo({\n            key: firstPage.key,\n            previewSrcs: firstPage.prevpaths,\n            title: firstPage.name,\n            groupId: groupId,\n            groupName: groupName\n          });\n        }\n      }\n    }\n  }, [templateData]);\n  (0, _react.useEffect)(function () {\n    // 表单和列表互相切换时，清空不属于当前模板的激活模板信息\n    if (activeTempInfo.key) {\n      if (designerType === 'MobileBillFormAp') {\n        listTempKeys.includes(activeTempInfo.key) && changeActiveTempInfo({});\n      } else if (designerType === 'MobileListFormAp') {\n        !listTempKeys.includes(activeTempInfo.key) && changeActiveTempInfo({});\n      }\n    }\n  }, [designerType, activeTempInfo]);\n\n  // 页面模板点击时，更新激活模板信息\n  var handletemItemClick = function handletemItemClick(_ref) {\n    var key = _ref.key,\n      previewSrcs = _ref.previewSrcs,\n      title = _ref.title,\n      groupId = _ref.groupId,\n      groupName = _ref.groupName;\n    if (key === activeTempInfo.key) {} else {\n      changeActiveTempInfo({\n        key: key,\n        previewSrcs: previewSrcs,\n        title: title,\n        groupId: groupId,\n        groupName: groupName\n      });\n    }\n  };\n\n  // 取消时，关闭界面，将模板数据清空\n  var handleCancelClick = function handleCancelClick() {\n    changeShowPanleType();\n    changeTemplateData([]);\n  };\n  var getPostData = function getPostData() {\n    if (!uiInfo || uiInfo.size === 0) {\n      return {};\n    }\n    var srcFormId = uiInfo.get('id');\n    var jsPlugins = uiInfo.getIn(['formmeta', 'Items', 0, 'JsPlugins']) || (0, _immutable.List)();\n    var plugin = jsPlugins.find(function (plugin) {\n      var _plugin$get$split = plugin.get('ClassName', '').split('_'),\n        _plugin$get$split2 = _slicedToArray(_plugin$get$split, 1),\n        formId = _plugin$get$split2[0];\n      return formId === srcFormId;\n    });\n    var srcScriptId = plugin ? plugin.get('FPK') : '';\n    return {\n      srcFormId: srcFormId,\n      srcScriptId: srcScriptId\n    };\n  };\n\n  // 给后端发送激活模板的key和当前表单类型，获取模板元数据\n  var postTempInfo = function postTempInfo(key, type, callback) {\n    var url = \"metadata/getDesignerMetadata.do?formId=\".concat(key, \"&designerMetaType=\").concat(type, \"&random=\").concat(Math.random());\n    var data = getPostData();\n    return _formservice[\"default\"].postApi(url, data).then(function (data) {\n      try {\n        var uiData = _global[\"default\"][_global.DSTORE][0].getState().ui;\n        uiActionRef.current = Object.assign(uiActionRef.current, {\n          appId: uiData && uiData.getIn(['uiInfo', 'appNum']),\n          formId: uiData && uiData.getIn(['uiInfo', 'formmeta', 'Key']),\n          templateId: key,\n          templateName: data.formmeta.Name,\n          tempGroupId: activeTempInfo.groupId,\n          tempGroupName: activeTempInfo.groupName,\n          pageType: designerType\n        });\n      } catch (error) {\n        _console[\"default\"].log(error);\n      }\n      if (typeof callback === 'function') {\n        callback(data);\n      }\n    })[\"catch\"](function (error) {\n      _console[\"default\"].log(error);\n    });\n  };\n\n  // 下一步绑定字段，先将模板元数据注入设计器，再打开绑定字段界面\n  var handleNextClick = function handleNextClick() {\n    if (!activeTempInfo.key) {\n      return;\n    }\n    var showtype = designerType === 'MobileBillFormAp' ? 2 : 1;\n    var callback = function callback(data) {\n      applyPageTemplate(data, uiConfig);\n      changeShowPanleType(showtype);\n    };\n    postTempInfo(activeTempInfo.key, designerType, callback);\n  };\n\n  // 确定调整页面，将模板元数据注入设计器，关闭模板选择界面\n  var handleConfirmClick = function handleConfirmClick() {\n    if (!activeTempInfo.key) {\n      return;\n    }\n    var callback = function callback(data) {\n      applyPageTemplate(data, uiConfig);\n      handleCancelClick();\n      (0, _GlobalDataCacher.setData)(_symbolConst.KEY_UI_ACTION, _objectSpread(_objectSpread({}, uiActionRef.current), {}, {\n        tableName: 'mob_page_template'\n      }));\n    };\n    postTempInfo(activeTempInfo.key, designerType, callback);\n  };\n  if (isPC || showPanelType !== 0) return null;\n  var buttonType = designerType === 'MobileFormAp' ? 3 : 9;\n  return /*#__PURE__*/_react[\"default\"].createElement(_PanelWithOutside[\"default\"], {\n    onCLickOutside: handleCancelClick\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _TemplatePanel[\"default\"].shadebox\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _TemplatePanel[\"default\"].root\n  }, /*#__PURE__*/_react[\"default\"].createElement(_FieldBindingModule.Header, {\n    title: (0, _intlApi.getLangMsg)('bosd.templatePanel.key0001')\n  }), showLoading ? /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _TemplatePanel[\"default\"].noData\n  }, /*#__PURE__*/_react[\"default\"].createElement(_LoadingGIF[\"default\"], {\n    loadingType: 2\n  })) : showNoData ? /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _TemplatePanel[\"default\"].noData\n  }, (0, _intlApi.getLangMsg)('bosd.templatePanel.key0002')) : /*#__PURE__*/_react[\"default\"].createElement(Content, {\n    templateData: templateAllData,\n    handletemItemClick: handletemItemClick,\n    activeTempInfo: activeTempInfo\n  }), /*#__PURE__*/_react[\"default\"].createElement(_FieldBindingModule.Footter, {\n    buttonType: buttonType,\n    handleCancelClick: handleCancelClick,\n    handleConfirmClick: handleConfirmClick,\n    handleNextClick: handleNextClick,\n    activeTempKey: activeTempInfo.key\n  })), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _TemplatePanel[\"default\"].shade\n  }, activeTempInfo.previewSrcs && activeTempInfo.previewSrcs.length > 0 && /*#__PURE__*/_react[\"default\"].createElement(_FieldBindingModule.Preview, {\n    imgSrcArr: activeTempInfo.previewSrcs,\n    templateName: activeTempInfo.title,\n    activeTempKey: activeTempInfo.key\n  }))));\n}\nfunction Content(props) {\n  var templateData = props.templateData,\n    handletemItemClick = props.handletemItemClick,\n    activeTempInfo = props.activeTempInfo;\n  var scrollToAnchor = function scrollToAnchor(anchorName) {\n    if (anchorName) {\n      // 找到锚点\n      var anchorElement = document.getElementById(anchorName);\n      // 如果对应id的锚点存在，就跳转到锚点\n      if (anchorElement) {\n        anchorElement.scrollIntoView({\n          block: 'start',\n          behavior: 'smooth'\n        });\n      }\n    }\n  };\n  var templateGroupData = templateData && templateData.children;\n  if (templateGroupData && templateGroupData.length > 0) {\n    var groupNameList = [];\n    var templateGroupItemDomArr = [];\n    templateGroupData && templateGroupData.forEach(function (item, index) {\n      if (item.pages && item.pages.length > 0) {\n        var anchorMsg = {\n          anchorname: item.groupName,\n          anchorid: item.groupId\n        };\n        groupNameList.push(anchorMsg);\n        var templateGroupItemDom = /*#__PURE__*/_react[\"default\"].createElement(TemplateGroupItem, {\n          key: item.groupId,\n          id: item.groupId,\n          groupname: item.groupName,\n          pages: item.pages,\n          handletemItemClick: handletemItemClick,\n          activeTempInfo: activeTempInfo\n        });\n        templateGroupItemDomArr.push(templateGroupItemDom);\n      }\n    });\n    var tnLength = groupNameList.length - 1;\n    return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _TemplatePanel[\"default\"].content\n    }, tnLength > 0 && /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _TemplatePanel[\"default\"].anchorbox\n    }, groupNameList && groupNameList.map(function (item, index) {\n      var dom = null;\n      if (index < tnLength) {\n        dom = /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n          className: _TemplatePanel[\"default\"].anchorf\n        }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n          key: index,\n          className: _TemplatePanel[\"default\"].anchor,\n          onClick: function onClick() {\n            return scrollToAnchor(item.anchorid);\n          }\n        }, item.anchorname), /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n          className: _TemplatePanel[\"default\"].anchorborder\n        }));\n      } else if (index === tnLength) {\n        dom = /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n          className: _TemplatePanel[\"default\"].anchorf\n        }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n          key: index,\n          className: _TemplatePanel[\"default\"].anchor,\n          onClick: function onClick() {\n            return scrollToAnchor(item.anchorid);\n          }\n        }, item.anchorname));\n      }\n      return dom;\n    })), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _TemplatePanel[\"default\"].templatebox\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _TemplatePanel[\"default\"].templateCon\n    }, templateGroupItemDomArr.length > 0 ? templateGroupItemDomArr : /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _TemplatePanel[\"default\"].noData\n    }, (0, _intlApi.getLangMsg)('bosd.templatePanel.key0002')))));\n  } else {\n    var templatePagesData = templateData && templateData.pages;\n    var _ref2 = templateData || {},\n      groupId = _ref2.groupId,\n      groupName = _ref2.groupName;\n    return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _TemplatePanel[\"default\"].content\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _TemplatePanel[\"default\"].subtitle\n    }, (0, _intlApi.getLangMsg)('bosd.templatePanel.key0003')), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _TemplatePanel[\"default\"].templateList\n    }, templatePagesData && templatePagesData.map(function (item, index) {\n      return /*#__PURE__*/_react[\"default\"].createElement(TemplateItem, {\n        key: item.key,\n        id: item.key,\n        name: item.name,\n        src: item.src,\n        description: item.description,\n        activeTempInfo: activeTempInfo,\n        handletemItemClick: handletemItemClick,\n        prevpaths: item.prevpaths,\n        groupId: groupId,\n        groupName: groupName\n      });\n    })));\n  }\n}\nfunction TemplateGroupItem(props) {\n  var groupname = props.groupname,\n    pages = props.pages,\n    key = props.key,\n    handletemItemClick = props.handletemItemClick,\n    activeTempInfo = props.activeTempInfo,\n    id = props.id;\n  return pages && pages.length > 0 && /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _TemplatePanel[\"default\"].templateGroupItem,\n    id: id\n  }, /*#__PURE__*/_react[\"default\"].createElement(_Collapse[\"default\"], {\n    key: key,\n    title: groupname\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _TemplatePanel[\"default\"].templateItemContent\n  }, pages && pages.map(function (item, index) {\n    return /*#__PURE__*/_react[\"default\"].createElement(TemplateItem, {\n      key: item.key,\n      id: item.key,\n      name: item.name,\n      src: item.src,\n      description: item.description,\n      activeTempInfo: activeTempInfo,\n      handletemItemClick: handletemItemClick,\n      prevpaths: item.prevpaths,\n      groupName: groupname,\n      groupId: id\n    });\n  }))));\n}\nfunction TemplateItem(props) {\n  var name = props.name,\n    id = props.id,\n    src = props.src,\n    description = props.description,\n    activeTempInfo = props.activeTempInfo,\n    handletemItemClick = props.handletemItemClick,\n    prevpaths = props.prevpaths,\n    groupId = props.groupId,\n    groupName = props.groupName;\n  var templateImg = (0, _componentutil.getImgFullPath)('', src, true, false);\n  var previewSrcs = prevpaths || [];\n  var nametip = (0, _classnames3[\"default\"])(_defineProperty({\n    'kdfont kdfont-wenhao': true\n  }, _TemplatePanel[\"default\"].nametip, true));\n  var templateImgClass = (0, _classnames3[\"default\"])(_defineProperty(_defineProperty({}, _TemplatePanel[\"default\"].templateImg, true), _TemplatePanel[\"default\"].templateImgAct, id === activeTempInfo.key));\n  var tempItemClick = (0, _react.useCallback)(function () {\n    handletemItemClick({\n      key: id,\n      previewSrcs: previewSrcs,\n      title: name,\n      groupId: groupId,\n      groupName: groupName\n    });\n  }, [id, previewSrcs, name, handletemItemClick, groupId, groupName]);\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _TemplatePanel[\"default\"].templateItem\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: templateImgClass,\n    onClick: tempItemClick\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"img\", {\n    src: templateImg\n  })), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _TemplatePanel[\"default\"].templateName\n  }, name, /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n    className: nametip,\n    \"data-tip\": true,\n    \"data-for\": id\n  }), description && /*#__PURE__*/_react[\"default\"].createElement(_reactTooltip[\"default\"], {\n    className: (0, _classnames3[\"default\"])(_TemplatePanel[\"default\"].tooltip, 'primary-text-in-light'),\n    id: id,\n    effect: \"solid\",\n    place: \"top\",\n    type: \"light\"\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n    id: id,\n    className: (0, _classnames3[\"default\"])(_TemplatePanel[\"default\"].tiptext, 'third-text-in-light')\n  }, description))));\n}\n\n//# sourceURL=webpack://bos-platform/./src/designer/page/TemplatePanel.jsx?");

/***/ }),

/***/ "./src/designer/page/TemplateScheme.jsx":
/*!**********************************************!*\
  !*** ./src/designer/page/TemplateScheme.jsx ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-properties.js */ \"../../node_modules/core-js/modules/es.object.define-properties.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptors.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = TemplateScheme;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.array.reduce.js */ \"../../node_modules/core-js/modules/es.array.reduce.js\");\n__webpack_require__(/*! core-js/modules/es.date.now.js */ \"../../node_modules/core-js/modules/es.date.now.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _classnames4 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _TemplateScheme = _interopRequireDefault(__webpack_require__(/*! ./TemplateScheme.less */ \"./src/designer/page/TemplateScheme.less\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _Collapse = _interopRequireDefault(__webpack_require__(/*! ../component/Collapse */ \"./src/designer/component/Collapse.jsx\"));\nvar templateModel = _interopRequireWildcard(__webpack_require__(/*! ../template */ \"./src/designer/template/index.js\"));\nvar _notempscheme = _interopRequireDefault(__webpack_require__(/*! ../icon/notempscheme.png */ \"./src/designer/icon/notempscheme.png\"));\nvar _uid = _interopRequireDefault(__webpack_require__(/*! ../../util/uid */ \"./src/util/uid.js\"));\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nvar _symbolConst = __webpack_require__(/*! @/constant/symbolConst */ \"./src/constant/symbolConst.js\");\nvar _GlobalDataCacher = __webpack_require__(/*! @/model/GlobalDataCacher */ \"./src/model/GlobalDataCacher.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction TemplateScheme(props) {\n  var _useState = (0, _react.useState)(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    activeScheme = _useState2[0],\n    setActiveScheme = _useState2[1];\n  var _useState3 = (0, _react.useState)((0, _immutable.List)()),\n    _useState4 = _slicedToArray(_useState3, 2),\n    activeOptions = _useState4[0],\n    setActiveOptions = _useState4[1];\n  var _useState5 = (0, _react.useState)((0, _immutable.List)()),\n    _useState6 = _slicedToArray(_useState5, 2),\n    schemes = _useState6[0],\n    setSchemes = _useState6[1];\n  var _useState7 = (0, _react.useState)(props.filterOptions),\n    _useState8 = _slicedToArray(_useState7, 2),\n    filterOptions = _useState8[0],\n    setFilterOptions = _useState8[1];\n  var _useState9 = (0, _react.useState)(props.isGroupScheme),\n    _useState10 = _slicedToArray(_useState9, 2),\n    isGroupScheme = _useState10[0],\n    setIsGroupScheme = _useState10[1];\n  var warmmingVisible = props.warmmingVisible,\n    selectControlId = props.selectControlId,\n    uiInfo = props.uiInfo,\n    controlType = props.controlType,\n    field = props.field,\n    designerType = props.designerType;\n  var currentcontrolType = (0, _react.useRef)(null);\n  (0, _react.useEffect)(function () {\n    setSchemes((0, _immutable.List)());\n    setFilterOptions(templateModel.getFilterOptions(controlType));\n    setIsGroupScheme(templateModel.isGroupScheme(controlType));\n    templateModel.getTemplateScheme(designerType, controlType, field, uiInfo, function (controlType, data) {\n      setSchemes(data);\n      currentcontrolType.current = controlType;\n    });\n  }, [controlType]);\n  (0, _react.useEffect)(function () {\n    setActiveScheme('');\n  }, [selectControlId]);\n  var hasFilterPanel = !!filterOptions;\n  var filterValue = activeOptions.reduce(function (sum, item) {\n    return sum + Math.pow(2, item);\n  }, 0);\n  var filterSchemes = !isGroupScheme && schemes && schemes.filter(function (item) {\n    var _item$get;\n    return (Number('0b' + ((_item$get = item.get('value')) === null || _item$get === void 0 ? void 0 : _item$get.toString(2))) & Number('0b' + (filterValue === null || filterValue === void 0 ? void 0 : filterValue.toString(2)))) === Number('0b' + (filterValue === null || filterValue === void 0 ? void 0 : filterValue.toString(2)));\n  });\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _TemplateScheme[\"default\"].root\n  }, schemes && /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _TemplateScheme[\"default\"].panel\n  }, /*#__PURE__*/_react[\"default\"].createElement(Warmming, {\n    visible: warmmingVisible\n  }), /*#__PURE__*/_react[\"default\"].createElement(FilterPanel, {\n    options: filterOptions,\n    activeOptions: activeOptions,\n    setActiveOptions: setActiveOptions\n  }), isGroupScheme ? /*#__PURE__*/_react[\"default\"].createElement(GroupSchemList, _extends({}, props, {\n    schemes: schemes,\n    hasFilter: hasFilterPanel,\n    activeScheme: activeScheme,\n    setActiveScheme: setActiveScheme\n  })) : /*#__PURE__*/_react[\"default\"].createElement(SechemeList, _extends({}, props, {\n    schemes: filterSchemes,\n    hasFilter: hasFilterPanel,\n    activeScheme: activeScheme,\n    setActiveScheme: setActiveScheme\n  }))));\n}\nfunction Warmming(props) {\n  var _useState11 = (0, _react.useState)(props.visible),\n    _useState12 = _slicedToArray(_useState11, 2),\n    visible = _useState12[0],\n    setVisible = _useState12[1];\n  if (!visible) return null;\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _TemplateScheme[\"default\"].warmming\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _TemplateScheme[\"default\"].icon\n  }, \"!\"), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _TemplateScheme[\"default\"].text\n  }, (0, _intlApi.getLangMsg)('bosd.templateScheme.key0001')), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _TemplateScheme[\"default\"].close + ' kdfont kdfont-guanbiyulan',\n    onClick: function onClick(e) {\n      return setVisible(false);\n    }\n  }));\n}\nfunction FilterPanel(props) {\n  var options = props.options,\n    activeOptions = props.activeOptions,\n    setActiveOptions = props.setActiveOptions;\n  if (options === undefined || options.size <= 0) return null;\n  var list = options.map(function (item, index) {\n    var onItemClick = function onItemClick(e, index) {\n      var isSelected = activeOptions.includes(index);\n      var newActiveOptions = isSelected ? activeOptions.filter(function (item) {\n        return item !== index;\n      }) : activeOptions.push(index);\n      setActiveOptions(newActiveOptions);\n    };\n    var isSelected = activeOptions.includes(index);\n    var itemClass = (0, _classnames4[\"default\"])(_defineProperty(_defineProperty({}, _TemplateScheme[\"default\"].item, true), _TemplateScheme[\"default\"]['blue-border'], isSelected));\n    return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      key: index,\n      className: itemClass,\n      onClick: function onClick(e) {\n        return onItemClick(e, index);\n      }\n    }, item, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: isSelected ? _TemplateScheme[\"default\"].conner : ''\n    }));\n  });\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _TemplateScheme[\"default\"].filter\n  }, list);\n}\nfunction SechemeList(props) {\n  var _designerType$toLower;\n  var schemes = props.schemes,\n    field = props.field,\n    controlType = props.controlType,\n    uiInfo = props.uiInfo,\n    uiConfig = props.uiConfig,\n    selectControlId = props.selectControlId,\n    applyContainerTemplate = props.applyContainerTemplate,\n    applyControlTemplate = props.applyControlTemplate,\n    hasFilter = props.hasFilter,\n    activeScheme = props.activeScheme,\n    setActiveScheme = props.setActiveScheme,\n    mulColums = props.mulColums,\n    schemeCategory = props.schemeCategory,\n    designerType = props.designerType;\n  var clientType = designerType !== null && designerType !== void 0 && (_designerType$toLower = designerType.toLowerCase()) !== null && _designerType$toLower !== void 0 && _designerType$toLower.includes('mobile') ? 'mobile' : 'pc';\n  var formId = uiInfo === null || uiInfo === void 0 ? void 0 : uiInfo.getIn(['formmeta', 'Key']);\n  var itemClick = function itemClick(scheme) {\n    var schemeName = scheme.get('name');\n    if (schemeName === activeScheme && templateModel.hasSchemesOfController(controlType) && applyControlTemplate) {\n      var json = templateModel.getDefControlJson(controlType, field, uiInfo);\n      applyControlTemplate(json, selectControlId);\n      setActiveScheme('');\n      return;\n    }\n    setActiveScheme(schemeName);\n    if (applyControlTemplate) {\n      // 控件\n      applyControlTemplate(scheme.get('json'), selectControlId);\n    } else {\n      applyContainerTemplate(scheme.get('json'), uiConfig, selectControlId);\n    }\n    sendControlSchemeEventTracking({\n      controlType: field.get('Type'),\n      clientType: clientType,\n      schemeKey: scheme.get('key'),\n      schemeName: scheme.get('name'),\n      schemeCategory: schemeCategory,\n      startTime: Date.now(),\n      formId: formId\n    });\n  };\n  // 设计器控件方案点击时，上报控件方案的相关信息\n  var sendControlSchemeEventTracking = function sendControlSchemeEventTracking(data) {\n    (0, _GlobalDataCacher.setData)(_symbolConst.KEY_UI_ACTION, _objectSpread({\n      tableName: 'control_scheme'\n    }, data));\n  };\n  var list = schemes.map(function (scheme) {\n    var isSelected = activeScheme === scheme.get('name');\n    var smallImg = scheme.get('smallImg', false);\n    var itemClass = (0, _classnames4[\"default\"])(_defineProperty(_defineProperty({}, _TemplateScheme[\"default\"]['scheme-item'], true), _TemplateScheme[\"default\"]['blue-border'], isSelected));\n    return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      key: scheme.get('name'),\n      className: itemClass,\n      onClick: function onClick(e) {\n        return itemClick(scheme);\n      }\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"img\", {\n      src: scheme.get('image'),\n      className: !smallImg ? _TemplateScheme[\"default\"]['scheme-image'] : _TemplateScheme[\"default\"]['scheme-smallImage']\n    }), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: isSelected ? _TemplateScheme[\"default\"].conner : ''\n    }));\n  });\n  var nodata = /*#__PURE__*/_react[\"default\"].createElement(NoTempScheme, null);\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: (0, _classnames4[\"default\"])(_TemplateScheme[\"default\"].list, _defineProperty(_defineProperty({}, _TemplateScheme[\"default\"].listWithoutFilterPanel, !hasFilter), _TemplateScheme[\"default\"].mulColums, mulColums))\n  }, list.size === 0 ? nodata : list);\n}\nfunction GroupSchemList(props) {\n  var schemes = props.schemes,\n    hasFilter = props.hasFilter,\n    field = props.field;\n  var list = schemes.map(function (scheme, index) {\n    var title = scheme.get('title');\n    var mulColums = scheme.get('mulColums', false);\n    var id = field.get('Id');\n    return /*#__PURE__*/_react[\"default\"].createElement(_Collapse[\"default\"], {\n      title: title,\n      key: \"\".concat(title, \"-\").concat(id)\n    }, /*#__PURE__*/_react[\"default\"].createElement(SechemeList, _extends({}, props, {\n      schemes: scheme.get('items'),\n      hasFilter: hasFilter,\n      mulColums: mulColums,\n      schemeCategory: title\n    })));\n  });\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", null, list);\n}\nfunction NoTempScheme() {\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: _TemplateScheme[\"default\"].noscheme\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"img\", {\n    src: _notempscheme[\"default\"],\n    alt: \"\",\n    srcset: \"\"\n  }), /*#__PURE__*/_react[\"default\"].createElement(\"p\", null, (0, _intlApi.getLangMsg)('bosd.templateScheme.key0002')));\n}\n\n//# sourceURL=webpack://bos-platform/./src/designer/page/TemplateScheme.jsx?");

/***/ }),

/***/ "./src/designer/page/UICenter.jsx":
/*!****************************************!*\
  !*** ./src/designer/page/UICenter.jsx ***!
  \****************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _classnames2 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _UICenter = _interopRequireDefault(__webpack_require__(/*! ./UICenter.css */ \"./src/designer/page/UICenter.css\"));\nvar _MobileReceipt = _interopRequireDefault(__webpack_require__(/*! ./MobileReceipt */ \"./src/designer/page/MobileReceipt.jsx\"));\nvar _ParentControlSelectPanel = _interopRequireDefault(__webpack_require__(/*! ./ParentControlSelectPanel */ \"./src/designer/page/ParentControlSelectPanel.jsx\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar UICenter = function UICenter(props) {\n  var isPC = props.isPC,\n    uiInfo = props.uiInfo,\n    select_control_id = props.select_control_id,\n    refresh_ctrl_ids = props.refresh_ctrl_ids,\n    showGuide = props.showGuide;\n  var className = (0, _classnames2[\"default\"])(_defineProperty(_defineProperty(_defineProperty({}, _UICenter[\"default\"]['ui-center'], true), _UICenter[\"default\"]['ui-center-pc'], isPC), _UICenter[\"default\"]['ui-center-mobile'], !isPC));\n  if (isPC) return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: className\n  }, props.children, /*#__PURE__*/_react[\"default\"].createElement(_ParentControlSelectPanel[\"default\"], {\n    uiInfo: uiInfo,\n    isPC: isPC,\n    select_control_id: select_control_id,\n    refresh_ctrl_ids: refresh_ctrl_ids\n  }));\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: className\n  }, props.children, /*#__PURE__*/_react[\"default\"].createElement(_MobileReceipt[\"default\"], {\n    showGuide: showGuide\n  }), /*#__PURE__*/_react[\"default\"].createElement(_ParentControlSelectPanel[\"default\"], {\n    uiInfo: uiInfo,\n    select_control_id: select_control_id,\n    refresh_ctrl_ids: refresh_ctrl_ids\n  }));\n};\nvar _default = exports[\"default\"] = UICenter;\n\n//# sourceURL=webpack://bos-platform/./src/designer/page/UICenter.jsx?");

/***/ }),

/***/ "./src/designer/page/UIDesigner.jsx":
/*!******************************************!*\
  !*** ./src/designer/page/UIDesigner.jsx ***!
  \******************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _utils = __webpack_require__(/*! ../utils */ \"./src/designer/utils/index.js\");\nvar _UIDesigner = _interopRequireDefault(__webpack_require__(/*! ./UIDesigner.css */ \"./src/designer/page/UIDesigner.css\"));\nvar _icon = __webpack_require__(/*! ../icon */ \"./src/designer/icon/index.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar UIDesigner = /*#__PURE__*/function (_Component) {\n  _inherits(UIDesigner, _Component);\n  function UIDesigner() {\n    _classCallCheck(this, UIDesigner);\n    return _callSuper(this, UIDesigner, arguments);\n  }\n  _createClass(UIDesigner, [{\n    key: \"render\",\n    value: function render() {\n      var isPC = this.props.isPC;\n      var rootField = this.props.ui.getIn(['uiInfo', 'ui']);\n      var style = {};\n      if (this.props.format_control_id) {\n        style.cursor = 'url(' + _icon.cursor_brush + ') 16 16, auto';\n      }\n      var isLoading = this.props.ui.get('ui_loading');\n      var error = this.props.ui.get('ui_load_error');\n      if (!rootField) {\n        return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n          id: \"ui-designer\",\n          className: isPC ? _UIDesigner[\"default\"].pcDesignerMain : _UIDesigner[\"default\"].modileDesignerMain,\n          style: style\n        }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n          style: {\n            color: !isLoading ? 'red' : undefined,\n            wordBreak: 'break-word',\n            overflow: 'auto'\n          }\n        }, isLoading ? 'loading' : error));\n      }\n      var _this$props = this.props,\n        selectControl = _this$props.selectControl,\n        select_control_id = _this$props.select_control_id,\n        select_control_ids = _this$props.select_control_ids,\n        refresh_ctrl_ids = _this$props.refresh_ctrl_ids,\n        addControl = _this$props.addControl,\n        moveToControl = _this$props.moveToControl,\n        updatePropValue = _this$props.updatePropValue,\n        uiConfig = _this$props.uiConfig,\n        resetFillWidthHeight = _this$props.resetFillWidthHeight,\n        selectControlIds = _this$props.selectControlIds,\n        clipboard = _this$props.clipboard,\n        dragover_control_id = _this$props.dragover_control_id,\n        auxiliaryLine = _this$props.auxiliaryLine;\n      var rootControl = (0, _utils.parseUIControl)(rootField, false, isPC);\n      rootControl = /*#__PURE__*/_react[\"default\"].cloneElement(rootControl, {\n        selectControl: selectControl,\n        select_control_id: select_control_id,\n        select_control_ids: select_control_ids,\n        clipboard: clipboard,\n        auxiliaryLine: auxiliaryLine,\n        dragover_control_id: dragover_control_id,\n        refresh_ctrl_ids: refresh_ctrl_ids,\n        addControl: addControl,\n        resetFillWidthHeight: resetFillWidthHeight,\n        dropHandle: function dropHandle(containerId, ctrlId) {\n          return moveToControl(containerId, ctrlId, uiConfig);\n        },\n        updatePropValue: updatePropValue,\n        uiConfig: uiConfig,\n        uiInfo: this.props.ui.get('uiInfo'),\n        isPC: isPC,\n        selectControlIds: selectControlIds\n      });\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        id: \"ui-designer\",\n        className: isPC ? _UIDesigner[\"default\"].pcDesignerMain : _UIDesigner[\"default\"].modileDesignerMain,\n        style: style\n      }, error ? /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        style: {\n          color: 'red'\n        }\n      }, error) : isLoading ? 'loading' : /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        id: !isPC && 'ui-mobileView',\n        className: isPC ? _UIDesigner[\"default\"].pcView : _UIDesigner[\"default\"].mobileView,\n        onKeyDown: this.props.onKeyDown\n      }, rootControl));\n    }\n  }]);\n  return UIDesigner;\n}(_react.Component);\nvar _default = exports[\"default\"] = UIDesigner;\n\n//# sourceURL=webpack://bos-platform/./src/designer/page/UIDesigner.jsx?");

/***/ }),

/***/ "./src/designer/page/UILeft.jsx":
/*!**************************************!*\
  !*** ./src/designer/page/UILeft.jsx ***!
  \**************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.array.last-index-of.js */ \"../../node_modules/core-js/modules/es.array.last-index-of.js\");\n__webpack_require__(/*! core-js/modules/es.array.some.js */ \"../../node_modules/core-js/modules/es.array.some.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _propTypes = _interopRequireDefault(__webpack_require__(/*! prop-types */ \"../../node_modules/prop-types/index.js\"));\nvar _classnames2 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _Outline = _interopRequireDefault(__webpack_require__(/*! ./Outline */ \"./src/designer/page/Outline.jsx\"));\nvar _ControlsPanel = _interopRequireDefault(__webpack_require__(/*! ./ControlsPanel */ \"./src/designer/page/ControlsPanel.jsx\"));\nvar _TempFragment = _interopRequireDefault(__webpack_require__(/*! ./TempFragment */ \"./src/designer/page/TempFragment.jsx\"));\nvar _TabView = _interopRequireWildcard(__webpack_require__(/*! ../component/TabView */ \"./src/designer/component/TabView.jsx\"));\nvar _icon = __webpack_require__(/*! ../icon */ \"./src/designer/icon/index.js\");\nvar _UILeft2 = _interopRequireDefault(__webpack_require__(/*! ./UILeft.css */ \"./src/designer/page/UILeft.css\"));\nvar _model = __webpack_require__(/*! ../model */ \"./src/designer/model/index.js\");\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar UILeft = /*#__PURE__*/function (_React$Component) {\n  _inherits(UILeft, _React$Component);\n  function UILeft(props) {\n    var _this;\n    _classCallCheck(this, UILeft);\n    _this = _callSuper(this, UILeft, [props]);\n    _this.onTabChange = _this.onTabChange.bind(_assertThisInitialized(_this));\n    _this.selTabInfo = {\n      key: 'toolbox',\n      name: (0, _intlApi.getLangMsg)('bosd.uiLeft.key0001')\n    };\n    _this.menuInfos = _this.getMenuInfos(props);\n    _this.pathname = 'https://vip.kingdee.com/knowledge/specialDetail/218022218066869248'; // this.getLocation(window.location, 'fddoc/#/ctrl/')\n    _this.hasTmpCtrls = ['ButtonAp', 'LabelAp', 'MToolbarAp', 'RateAp', 'BillListAp', 'ProgressBarAp', 'SuspendButtonAp', 'TimelineAp', 'StepsAp', 'CountDownAp'];\n    _this.hasTmpCtrlsPC = ['BillListAp'];\n    return _this;\n  }\n  _createClass(UILeft, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.menuInfos = this.getMenuInfos(this.props);\n    }\n  }, {\n    key: \"componentWillUpdate\",\n    value: function componentWillUpdate(nextProps, nextState) {\n      this.menuInfos = this.getMenuInfos(this.props);\n    }\n  }, {\n    key: \"getMenuInfos\",\n    value: function getMenuInfos(props) {\n      return {\n        toolbox: {\n          name: (0, _intlApi.getLangMsg)('bosd.uiLeft.key0001'),\n          icon: _icon.control,\n          selIcon: _icon.control_h\n        },\n        outline: {\n          name: (0, _intlApi.getLangMsg)('bosd.uiLeft.key0002'),\n          icon: _icon.outline,\n          selIcon: _icon.outline_h\n        },\n        entitytree: {\n          name: _model.printModel.isPrintModel(props.uiInfo) ? (0, _intlApi.getLangMsg)('bosd.uiLeft.key0003') : (0, _intlApi.getLangMsg)('bosd.uiLeft.key0004'),\n          icon: _icon.entry,\n          selIcon: _icon.entry_h\n        },\n        tempFragment: {\n          name: (0, _intlApi.getLangMsg)('bosd.uiLeft.key0005'),\n          icon: _icon.tempFragment,\n          selIcon: _icon.tempFragment_h\n        }\n      };\n    }\n  }, {\n    key: \"onTabChange\",\n    value: function onTabChange(key, title) {\n      this.selTabInfo = {\n        key: key,\n        name: title\n      };\n      this.refs.text.innerText = title;\n      if (key === 'toolbox' || key === 'fragments') {\n        this.props.showGuide && this.props.showGuide(key);\n      }\n    }\n\n    // 参数1:location， 参数2:控件文档地址前缀\n  }, {\n    key: \"getLocation\",\n    value: function getLocation(location, docPrePath) {\n      var origin = location.origin;\n      var index = location.pathname.lastIndexOf('/');\n      var pathname = location.pathname;\n      if (index >= 0) {\n        pathname = pathname.substring(0, index + 1);\n      }\n      return origin + pathname + docPrePath;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      var _this$props = this.props,\n        menuList = _this$props.menuList,\n        uiInfo = _this$props.uiInfo,\n        uiConfig = _this$props.uiConfig,\n        shareState = _this$props.shareState,\n        designerType = _this$props.designerType,\n        rootId = _this$props.rootId,\n        addTempFragment = _this$props.addTempFragment,\n        isPC = _this$props.isPC,\n        select_control_id = _this$props.select_control_id;\n      var hasTmpCtrls = isPC ? this.hasTmpCtrlsPC : this.hasTmpCtrls;\n      var rootClassName = (0, _classnames2[\"default\"])(_defineProperty(_defineProperty({}, _UILeft2[\"default\"].root, true), _UILeft2[\"default\"].hidden, shareState.get('max_win')));\n      if (_lodash[\"default\"].indexOf(menuList, this.selTabInfo.key) === -1 && this.selTabInfo.key !== 'fragments') {\n        var menuInfo = this.menuInfos[menuList[0]];\n        this.selTabInfo.key = menuList[0];\n        this.selTabInfo.name = menuInfo.name;\n      }\n      var tabPanels = [];\n      _lodash[\"default\"].forEach(menuList, function (key) {\n        var menuInfo = _this2.menuInfos[key];\n        switch (key) {\n          case 'toolbox':\n            tabPanels.push( /*#__PURE__*/_react[\"default\"].createElement(_TabView.TabPanel, {\n              key: key,\n              title: menuInfo.name,\n              tab: /*#__PURE__*/_react[\"default\"].createElement(\"img\", {\n                src: menuInfo.icon\n              }),\n              selTab: /*#__PURE__*/_react[\"default\"].createElement(\"img\", {\n                src: menuInfo.selIcon\n              })\n            }, /*#__PURE__*/_react[\"default\"].createElement(_ControlsPanel[\"default\"], {\n              uiInfo: uiInfo,\n              uiConfig: uiConfig,\n              addControl: _this2.props.addControl,\n              contentWidth: 270,\n              select_control_id: _this2.props.select_control_id,\n              pathname: _this2.pathname,\n              hasTmpCtrls: hasTmpCtrls\n            })));\n            break;\n          case 'outline':\n            tabPanels.push( /*#__PURE__*/_react[\"default\"].createElement(_TabView.TabPanel, {\n              key: key,\n              title: menuInfo.name,\n              tab: /*#__PURE__*/_react[\"default\"].createElement(\"img\", {\n                src: menuInfo.icon\n              }),\n              selTab: /*#__PURE__*/_react[\"default\"].createElement(\"img\", {\n                src: menuInfo.selIcon\n              })\n            }, /*#__PURE__*/_react[\"default\"].createElement(_Outline[\"default\"], {\n              uiInfo: uiInfo,\n              uiConfig: uiConfig,\n              select_control_id: _this2.props.select_control_id,\n              select_control_ids: _this2.props.select_control_ids,\n              format_control_id: _this2.props.format_control_id,\n              selectControlId: _this2.props.selectControlId,\n              handleShortcutKey: _this2.props.handleShortcutKey,\n              updatePropValue: _this2.props.updatePropValue,\n              moveToControl: function moveToControl(containerId, ctrlId) {\n                return _this2.props.moveToControl(containerId, ctrlId, _this2.props.uiConfig);\n              }\n            })));\n            break;\n          case 'entitytree':\n            tabPanels.push( /*#__PURE__*/_react[\"default\"].createElement(_TabView.TabPanel, {\n              key: key,\n              title: menuInfo.name,\n              tab: /*#__PURE__*/_react[\"default\"].createElement(\"img\", {\n                src: menuInfo.icon\n              }),\n              selTab: /*#__PURE__*/_react[\"default\"].createElement(\"img\", {\n                src: menuInfo.selIcon\n              })\n            }, /*#__PURE__*/_react[\"default\"].createElement(_Outline[\"default\"], {\n              isEntity: true,\n              uiInfo: uiInfo,\n              uiConfig: uiConfig,\n              select_control_id: _this2.props.select_control_id,\n              select_control_ids: _this2.props.select_control_ids,\n              format_control_id: _this2.props.format_control_id,\n              updatePropValue: _this2.props.updatePropValue,\n              selectControlId: _this2.props.addEntityControl,\n              addControl: _this2.props.addControl,\n              initSelectControlId: _this2.props.selectControlId\n            })));\n            break;\n        }\n      });\n      if (designerType === 'MobileBillFormModel' || designerType === 'MobileFormAp' || designerType === 'MobileBillFormAp') {\n        var _menuInfo = this.menuInfos.tempFragment;\n        var targetId = rootId;\n        var _ref = _model.uiModel.getContainerControl(uiInfo, select_control_id, true, uiConfig) || {},\n          _control = _ref.control;\n        var ctrlType = _control === null || _control === void 0 ? void 0 : _control.get('Type');\n        if (ctrlType === 'MTabBarItemAp') {\n          targetId = _control.get('Id');\n        }\n        var childrenItems = (uiInfo === null || uiInfo === void 0 ? void 0 : uiInfo.getIn(['ui', 'Items'])) || (0, _immutable.List)();\n        var existTabbarControl = childrenItems.some(function (item) {\n          return item.get('Type') === 'MTabBarAp';\n        });\n        if (!existTabbarControl || existTabbarControl && ctrlType === 'MTabBarItemAp') {\n          tabPanels.push( /*#__PURE__*/_react[\"default\"].createElement(_TabView.TabPanel, {\n            key: \"fragments\",\n            title: (0, _intlApi.getLangMsg)('bosd.uiLeft.key0005'),\n            tab: /*#__PURE__*/_react[\"default\"].createElement(\"img\", {\n              src: _menuInfo.icon\n            }),\n            selTab: /*#__PURE__*/_react[\"default\"].createElement(\"img\", {\n              src: _menuInfo.selIcon\n            })\n          }, /*#__PURE__*/_react[\"default\"].createElement(_TempFragment[\"default\"], {\n            designerType: designerType,\n            addTempFragment: addTempFragment,\n            rootId: targetId\n          })));\n        }\n      }\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: rootClassName,\n        id: \"designer-UILeft\"\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _UILeft2[\"default\"].title\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n        ref: \"text\",\n        className: _UILeft2[\"default\"].text\n      }, this.selTabInfo.name)), /*#__PURE__*/_react[\"default\"].createElement(_TabView[\"default\"], {\n        activeKey: this.selTabInfo.key,\n        onChange: this.onTabChange,\n        designerType: this.props.designerType\n      }, tabPanels));\n    }\n  }]);\n  return UILeft;\n}(_react[\"default\"].Component);\nUILeft.propTypes = {\n  uiConfig: _propTypes[\"default\"].object,\n  uiInfo: _propTypes[\"default\"].object,\n  shareState: _propTypes[\"default\"].object,\n  addControl: _propTypes[\"default\"].func,\n  select_control_id: _propTypes[\"default\"].string,\n  select_control_ids: _propTypes[\"default\"].object\n};\nUILeft.defaultProps = {\n  menuList: ['toolbox', 'outline', 'entitytree']\n};\nvar _default = exports[\"default\"] = UILeft;\n\n//# sourceURL=webpack://bos-platform/./src/designer/page/UILeft.jsx?");

/***/ }),

/***/ "./src/designer/page/UIRight.jsx":
/*!***************************************!*\
  !*** ./src/designer/page/UIRight.jsx ***!
  \***************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _PropertyViewer = _interopRequireDefault(__webpack_require__(/*! ./PropertyViewer */ \"./src/designer/page/PropertyViewer.jsx\"));\nvar _UIRight = _interopRequireDefault(__webpack_require__(/*! ./UIRight.less */ \"./src/designer/page/UIRight.less\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar UIRight = /*#__PURE__*/function (_Component) {\n  _inherits(UIRight, _Component);\n  function UIRight() {\n    _classCallCheck(this, UIRight);\n    return _callSuper(this, UIRight, arguments);\n  }\n  _createClass(UIRight, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      return !(0, _immutable.is)(this.props.uiConfig, nextProps.uiConfig) || this.props.select_control_id !== nextProps.select_control_id || !(0, _immutable.is)(this.props.select_control_ids, nextProps.select_control_ids) || !(0, _immutable.is)(this.props.uiInfo, nextProps.uiInfo) || !(0, _immutable.is)(this.props.shareState, nextProps.shareState) || !(0, _immutable.is)(this.props.showPanelType, nextProps.showPanelType);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var style = {};\n      if (this.props.shareState.get('max_win') || this.props.showPanelType !== undefined) {\n        style.display = 'none';\n      }\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _UIRight[\"default\"].root,\n        style: style,\n        id: \"designer-UIRight\"\n      }, /*#__PURE__*/_react[\"default\"].createElement(_PropertyViewer[\"default\"], {\n        uiConfig: this.props.uiConfig,\n        uiInfo: this.props.uiInfo,\n        addUiInfoValue: this.props.addUiInfoValue,\n        select_control_id: this.props.select_control_id,\n        select_control_ids: this.props.select_control_ids,\n        updatePropValue: this.props.updatePropValue,\n        selectControlId: this.props.selectControlId,\n        getPropertyValue: this.props.getPropertyValue,\n        applyContainerTemplate: this.props.applyContainerTemplate,\n        applyControlTemplate: this.props.applyControlTemplate,\n        updateUIPropValue: this.props.updateUIPropValue,\n        designerType: this.props.designerType\n      }));\n    }\n  }]);\n  return UIRight;\n}(_react.Component);\nvar _default = exports[\"default\"] = UIRight;\n\n//# sourceURL=webpack://bos-platform/./src/designer/page/UIRight.jsx?");

/***/ }),

/***/ "./src/designer/page/layoutTempls.js":
/*!*******************************************!*\
  !*** ./src/designer/page/layoutTempls.js ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.layoutTempls = void 0;\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nvar layoutIcon = _interopRequireWildcard(__webpack_require__(/*! ../icon/fastlayout */ \"./src/designer/icon/fastlayout/index.js\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nvar layoutTempls = exports.layoutTempls = [{\n  name: '1',\n  describe: (0, _intlApi.getLangMsg)('bosd.layoutTempls.key0001'),\n  imgsrc: layoutIcon.layout1,\n  layout: {\n    Wrap: false,\n    Direction: 'column',\n    JustifyContent: 'flex-start',\n    AlignItems: 'flex-start'\n  }\n}, {\n  name: '2',\n  describe: (0, _intlApi.getLangMsg)('bosd.layoutTempls.key0002'),\n  imgsrc: layoutIcon.layout2,\n  layout: {\n    Wrap: false,\n    Direction: 'column',\n    JustifyContent: 'flex-start',\n    AlignItems: 'center'\n  }\n}, {\n  name: '3',\n  describe: (0, _intlApi.getLangMsg)('bosd.layoutTempls.key0003'),\n  imgsrc: layoutIcon.layout3,\n  layout: {\n    Wrap: false,\n    Direction: 'column',\n    JustifyContent: 'center',\n    AlignItems: 'flex-start'\n  }\n}, {\n  name: '4',\n  describe: (0, _intlApi.getLangMsg)('bosd.layoutTempls.key0004'),\n  imgsrc: layoutIcon.layout4,\n  layout: {\n    Wrap: false,\n    Direction: 'column',\n    JustifyContent: 'space-between',\n    AlignItems: 'flex-start'\n  }\n}, {\n  name: '5',\n  describe: (0, _intlApi.getLangMsg)('bosd.layoutTempls.key0005'),\n  imgsrc: layoutIcon.layout5,\n  layout: {\n    Wrap: false,\n    Direction: 'row',\n    JustifyContent: 'flex-start',\n    AlignItems: 'flex-start'\n  }\n}, {\n  name: '6',\n  describe: (0, _intlApi.getLangMsg)('bosd.layoutTempls.key0006'),\n  imgsrc: layoutIcon.layout6,\n  layout: {\n    Wrap: false,\n    Direction: 'row',\n    JustifyContent: 'center',\n    AlignItems: 'flex-start'\n  }\n}, {\n  name: '7',\n  describe: (0, _intlApi.getLangMsg)('bosd.layoutTempls.key0007'),\n  imgsrc: layoutIcon.layout7,\n  layout: {\n    Wrap: false,\n    Direction: 'row',\n    JustifyContent: 'space-between',\n    AlignItems: 'flex-start'\n  }\n}, {\n  name: '8',\n  describe: (0, _intlApi.getLangMsg)('bosd.layoutTempls.key0008'),\n  imgsrc: layoutIcon.layout8,\n  layout: {\n    Wrap: false,\n    Direction: 'row',\n    JustifyContent: 'center',\n    AlignItems: 'center'\n  }\n}, {\n  name: '9',\n  describe: (0, _intlApi.getLangMsg)('bosd.layoutTempls.key0009'),\n  imgsrc: layoutIcon.layout9,\n  layout: {\n    Wrap: false,\n    Direction: 'column',\n    JustifyContent: 'flex-start',\n    AlignItems: 'stretch'\n  }\n}, {\n  name: '10',\n  describe: (0, _intlApi.getLangMsg)('bosd.layoutTempls.key0010'),\n  imgsrc: layoutIcon.layout10,\n  layout: {\n    Wrap: false,\n    Direction: 'column',\n    JustifyContent: 'center',\n    AlignItems: 'center'\n  }\n}, {\n  name: '11',\n  describe: (0, _intlApi.getLangMsg)('bosd.layoutTempls.key0011'),\n  imgsrc: layoutIcon.layout11,\n  layout: {\n    Wrap: true,\n    Direction: 'column',\n    JustifyContent: 'flex-start',\n    AlignItems: 'flex-start',\n    AlignContent: 'flex-start'\n  }\n}, {\n  name: '12',\n  describe: (0, _intlApi.getLangMsg)('bosd.layoutTempls.key0012'),\n  imgsrc: layoutIcon.layout12,\n  layout: {\n    Wrap: true,\n    Direction: 'row',\n    JustifyContent: 'flex-start',\n    AlignItems: 'flex-start',\n    AlignContent: 'flex-start'\n  }\n}];\n\n//# sourceURL=webpack://bos-platform/./src/designer/page/layoutTempls.js?");

/***/ }),

/***/ "./src/designer/reducer/index.js":
/*!***************************************!*\
  !*** ./src/designer/reducer/index.js ***!
  \***************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\nvar _redux = __webpack_require__(/*! redux */ \"../../node_modules/redux/es/index.js\");\nvar _ui = _interopRequireDefault(__webpack_require__(/*! ./ui */ \"./src/designer/reducer/ui/index.js\"));\nvar _metadata = _interopRequireDefault(__webpack_require__(/*! ./metadata */ \"./src/designer/reducer/metadata.js\"));\nvar _shareState = _interopRequireDefault(__webpack_require__(/*! ./shareState */ \"./src/designer/reducer/shareState.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nvar _default = exports[\"default\"] = (0, _redux.combineReducers)({\n  shareState: _shareState[\"default\"],\n  ui: _ui[\"default\"],\n  metadata: _metadata[\"default\"]\n});\n\n//# sourceURL=webpack://bos-platform/./src/designer/reducer/index.js?");

/***/ }),

/***/ "./src/designer/reducer/metadata.js":
/*!******************************************!*\
  !*** ./src/designer/reducer/metadata.js ***!
  \******************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = metadataAction;\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _propnames = __webpack_require__(/*! ../constant/propnames */ \"./src/designer/constant/propnames.js\");\nvar _actionnames = __webpack_require__(/*! ../constant/actionnames */ \"./src/designer/constant/actionnames.js\");\nfunction metadataAction() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : (0, _immutable.Map)();\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case _actionnames.set_ui_metadata:\n      return state.set('uiMetadata', (0, _immutable.fromJS)(action.metadata || {}));\n  }\n  return state;\n}\n\n//# sourceURL=webpack://bos-platform/./src/designer/reducer/metadata.js?");

/***/ }),

/***/ "./src/designer/reducer/shareState.js":
/*!********************************************!*\
  !*** ./src/designer/reducer/shareState.js ***!
  \********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = shareStateAction;\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _actionnames = __webpack_require__(/*! ../constant/actionnames */ \"./src/designer/constant/actionnames.js\");\nfunction shareStateAction() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : (0, _immutable.Map)();\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case _actionnames.current_edit_mode:\n      return state.set('current_edit_mode', action.value);\n    case _actionnames.notify_message:\n      return state.set('notify_message', (0, _immutable.Map)({\n        message: action.message,\n        messageType: action.messageType\n      }));\n    case _actionnames.max_win:\n      return state.set('max_win', action.max);\n  }\n  return state;\n}\n\n//# sourceURL=webpack://bos-platform/./src/designer/reducer/shareState.js?");

/***/ }),

/***/ "./src/designer/reducer/ui/common.js":
/*!*******************************************!*\
  !*** ./src/designer/reducer/ui/common.js ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.actionWrap = actionWrap;\nexports.canAddControl = canAddControl;\nexports.canAddUniqueFeild = canAddUniqueFeild;\nexports.canDeleteControl = canDeleteControl;\nexports.cloneControls = cloneControls;\nexports.createUIInfo = createUIInfo;\nexports.getCopyContent = getCopyContent;\nexports.setCopyContent = setCopyContent;\nexports.setDragoverControlId = setDragoverControlId;\nexports.setSelectControlId = setSelectControlId;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.find.js */ \"../../node_modules/core-js/modules/es.array.find.js\");\n__webpack_require__(/*! core-js/modules/es.array.find-index.js */ \"../../node_modules/core-js/modules/es.array.find-index.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.array.some.js */ \"../../node_modules/core-js/modules/es.array.some.js\");\n__webpack_require__(/*! core-js/modules/es.array.splice.js */ \"../../node_modules/core-js/modules/es.array.splice.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.ends-with.js */ \"../../node_modules/core-js/modules/es.string.ends-with.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _propnames = __webpack_require__(/*! ../../constant/propnames */ \"./src/designer/constant/propnames.js\");\nvar _ctrlTypeList = __webpack_require__(/*! ../../constant/ctrlTypeList */ \"./src/designer/constant/ctrlTypeList.js\");\nvar _constant = __webpack_require__(/*! ../../constant */ \"./src/designer/constant/index.js\");\nvar _immutableUtil = _interopRequireDefault(__webpack_require__(/*! ../../utils/immutableUtil */ \"./src/designer/utils/immutableUtil.js\"));\nvar _utils = __webpack_require__(/*! ../../utils */ \"./src/designer/utils/index.js\");\nvar _model = __webpack_require__(/*! ../../model */ \"./src/designer/model/index.js\");\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _storage = _interopRequireDefault(__webpack_require__(/*! @/util/storage */ \"./src/util/storage.js\"));\nvar _GlobalDataCacher = __webpack_require__(/*! @/model/GlobalDataCacher */ \"./src/model/GlobalDataCacher.js\");\nvar _symbolConst = __webpack_require__(/*! @/constant/symbolConst */ \"./src/constant/symbolConst.js\");\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction actionWrap(func, beforeFunc, afterFunc) {\n  return function () {\n    // 这里不要改成箭头函数，箭头函数会导致arguments参数获取不懂（打包引起）\n    var ctx = arguments[0];\n    var args = Array.prototype.slice.call(arguments).slice(1);\n    if (beforeFunc) {\n      ctx = beforeFunc.apply(void 0, [ctx].concat(_toConsumableArray(args)));\n    }\n    ctx = func.apply(void 0, [ctx].concat(_toConsumableArray(args)));\n    if (afterFunc) {\n      ctx = afterFunc.apply(void 0, [ctx].concat(_toConsumableArray(args)));\n    }\n    return ctx;\n  };\n}\n\n/** ***将制定的控件构建成一个独立的元数据结构*****/\nfunction createUIInfo(uiInfo, ctrlIds) {\n  // 结构与uiInfo保持一致\n  var copyContent = {\n    ui: _defineProperty({}, _propnames.ITEMS, []),\n    formmeta: _defineProperty({}, _propnames.ITEMS, []),\n    entitymeta: _defineProperty({}, _propnames.ITEMS, [])\n  };\n  var getCopyInfo = function getCopyInfo(control) {\n    var ctrlId = control.get(_propnames.ID);\n    var formInfo = _model.uiModel.getFormFieldInfo(uiInfo, ctrlId);\n    var entityInfo = _model.uiModel.getEntityFieldInfo(uiInfo, ctrlId);\n    if (formInfo) {\n      copyContent.formmeta[_propnames.ITEMS].push(formInfo.toJS());\n    }\n    if (entityInfo) {\n      copyContent.entitymeta[_propnames.ITEMS].push(entityInfo.toJS());\n    }\n    var childCtrls = control.get(_propnames.ITEMS, (0, _immutable.List)());\n    childCtrls.forEach(function (ctrl) {\n      return getCopyInfo(ctrl);\n    });\n  };\n  ctrlIds.forEach(function (ctrlId) {\n    var uiControl = _model.uiModel.getUIFieldInfo(uiInfo, ctrlId);\n    if (uiControl) {\n      copyContent.ui[_propnames.ITEMS].push(uiControl.toJS());\n      getCopyInfo(uiControl);\n    }\n  });\n  return (0, _immutable.fromJS)(copyContent);\n}\nfunction setCopyContent(uiInfo, ctrlIds) {\n  if (!ctrlIds) {\n    _storage[\"default\"].remove(_constant.COPY_CONTENT_KEY);\n    return;\n  }\n  var copyContent = createUIInfo(uiInfo, ctrlIds);\n  var modelType = uiInfo.get('modelType') || uiInfo.getIn(['formmeta', 'ModelType']);\n  copyContent = copyContent.set('modelType', modelType);\n  _storage[\"default\"].set(_constant.COPY_CONTENT_KEY, JSON.stringify(copyContent.toJS()));\n}\nfunction getCopyContent() {\n  var copyControls = _storage[\"default\"].get(_constant.COPY_CONTENT_KEY);\n  if (!copyControls) return;\n  copyControls = (0, _immutable.fromJS)(JSON.parse(copyControls));\n  return copyControls;\n}\nfunction cloneControls(uiInfo, copyUiInfo, copyCtrlId, parentId, entityParentId) {\n  var options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {};\n  var _ref = options || {},\n    isCopyAndAdd = _ref.isCopyAndAdd;\n  var uiType = uiInfo && uiInfo.getIn(['ui', 'Type']);\n  var formmeta, entitymeta;\n  formmeta = entitymeta = (0, _immutable.List)();\n  var entityreadonly = uiInfo.get('entityreadonly'); // 实体是否只读\n  var isPrint = _model.printModel.isPrintModel(uiInfo); // 是否是套打\n  var eParentIds = [entityParentId];\n  var addIds = [];\n  var renameControlId = function renameControlId(control, newParentId, entitytree) {\n    var _entitytree = entitytree; // 非字段时，将entitytree直接往下传递\n    var newId = (0, _utils.createNewId)();\n    var id = control.get(_propnames.ID);\n    var fieldType = control.get(_propnames.FieldType);\n    var formInfo = _model.uiModel.getFormFieldInfo(copyUiInfo, id);\n    var ctrlType = formInfo.get(_propnames._TYPE_);\n    var originalKey = formInfo.get(_propnames.KEY);\n    if (isCopyAndAdd) {\n      // 如果是重复操作，Key不能重复出现开发商标识，所以传入真正的type进去\n      var isv = uiInfo.get('isv', 'kingdee');\n      if (isv && originalKey.indexOf(isv) === 0) {\n        originalKey = fieldType || originalKey;\n      }\n    }\n    var key = (0, _utils.createNewKey)(uiInfo, originalKey, addIds);\n    addIds.push(key);\n    var overrideProp = _defineProperty(_defineProperty({}, _propnames.ID, newId), _propnames.KEY, key); // 需要重写的数据信息\n    var inherit = formInfo.get('Inherit'); // 继承控件复制后删除继承属性\n    if (inherit) {\n      overrideProp.Inherit = false;\n    }\n    var entityInfo = !isPrint && _model.uiModel.getEntityFieldInfo(copyUiInfo, id);\n    if (entityInfo) {\n      _entitytree = []; // 如果含有实体，使用空数组记录子项的数据并在完成后push到entitytree中\n      overrideProp[_propnames.PARENTID] = eParentIds[eParentIds.length - 1]; // 获取当前元素父实体ID\n      eParentIds.push(newId); // 存储当前实体Id，供子元素的实体获取\n\n      entityInfo = entityInfo.merge((0, _immutable.fromJS)(overrideProp));\n      entitymeta = entitymeta.push(entityInfo);\n\n      /**\n       * 移动表单, 当对字段进行 重复/粘贴 时, 该字段禁止创建新的实体\n       * 受影响范围: 移动表单的字段, 执行 重复/粘贴 操作\n       * 体现在页面上: 新旧字段的 FieldId(字段映射) 应与旧字段保持一致\n      */\n      if (_ctrlTypeList.entryApRelatedEntity.includes(ctrlType)) {\n        overrideProp[_ctrlTypeList.entityNameOfEntry] = newId; // 卡片分录情况下，也是走的EntryId\n      } else if (_ctrlTypeList.panelApRelatedEntity.includes(ctrlType)) {\n        overrideProp[_ctrlTypeList.entityNameOfPanelAp] = newId;\n      } else if (uiType !== 'MobileBillFormAp') {\n        overrideProp.FieldId = newId;\n      }\n    }\n    overrideProp[_propnames.PARENTID] = newParentId;\n    formInfo = formInfo.merge((0, _immutable.fromJS)(overrideProp));\n    formmeta = formmeta.push(formInfo);\n    var ctrl = control.withMutations(function (control) {\n      control.update(_propnames.ID, function (id) {\n        return newId;\n      }).update(_propnames.ITEMS, function (children) {\n        return children && children.map(function (ctrl) {\n          return renameControlId(ctrl, newId, _entitytree);\n        });\n      });\n    });\n\n    // 所有子元素遍历结束\n\n    if (entityInfo) {\n      eParentIds.pop();\n      var entitytreeInfo = _defineProperty(_defineProperty({}, _propnames.ID, entityInfo.get(_propnames.ID)), _propnames.TYPE, entityInfo.get(_propnames._TYPE_));\n      if (_entitytree.length > 0) {\n        entitytreeInfo[_propnames.ITEMS] = _entitytree;\n      }\n      entitytree.push(entitytreeInfo);\n    }\n    return ctrl;\n  };\n  var ctrl = _model.uiModel.getUIFieldInfo(copyUiInfo, copyCtrlId);\n  var entitytree = [];\n  var ui = renameControlId(ctrl, parentId, entitytree);\n  if (!entityreadonly) {\n    entitytree = (0, _immutable.fromJS)(entitytree);\n    return (0, _immutable.fromJS)({\n      ui: ui,\n      formmeta: formmeta,\n      entitymeta: entitymeta,\n      entitytree: entitytree\n    });\n  }\n  return (0, _immutable.fromJS)({\n    ui: ui,\n    formmeta: formmeta,\n    entitymeta: entitymeta\n  });\n}\n\n/**\n * 设置选择的控件Id\n * @param {[type]}  ctrlId      控件Id\n * @param {Boolean} multi       是否多选\n * @param {Boolean} scope       是否是范围选择\n */\nfunction setSelectControlId(state, ctrlId) {\n  var multi = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var scope = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  var selIds;\n  if (scope === true) {\n    selIds = setScopeSelectIds(state, ctrlId);\n  } else if (multi === true) {\n    selIds = setMutiSelectIds(state, ctrlId);\n  } else {\n    selIds = _immutable.List.of(ctrlId);\n  }\n  if (!selIds || selIds.size === 0) return state;\n  state = state.set('select_control_ids', selIds);\n  state = state.set('select_control_id', selIds.last());\n  state = state.set('dragover_control_id', '');\n  (0, _GlobalDataCacher.setData)(_symbolConst.KEY_DESIGNER_SELECT_CTRL, selIds.last());\n  return state;\n}\nfunction setMutiSelectIds(state, ctrlId) {\n  var uiInfo = state.get('uiInfo');\n  var select_control_ids = state.get('select_control_ids', (0, _immutable.List)());\n  var selId = select_control_ids.last();\n  if (_model.uiModel.isRootCtrl(uiInfo, selId)) return;\n  var selInfo, selGridinfo;\n  if (_model.printModel.isPrintModel(uiInfo) && (selInfo = _model.uiModel.getUIFieldInfo(uiInfo, selId)) && (selGridinfo = _model.printModel.getGridInfo(uiInfo, selInfo)) && selGridinfo.get(_propnames.ID) != selId) {\n    var ctrlInfo = _model.uiModel.getUIFieldInfo(uiInfo, ctrlId);\n    var gridInfo = _model.printModel.getGridInfo(uiInfo, ctrlInfo);\n    // 判断选中的控件是否是表格\n    if (!gridInfo) return;\n    // 判断与选中控件是否是同一表格里面的控件\n    if (gridInfo.get(_propnames.ID) != selGridinfo.get(_propnames.ID)) {\n      var verTicalFill = _model.uiModel.getPropertyValue(uiInfo, gridInfo.get(_propnames.ID), 'VerticalFill', _propnames.FORMMETA, state.get('uiConfig'));\n      var horizontalFill = _model.uiModel.getPropertyValue(uiInfo, gridInfo.get(_propnames.ID), 'HorizontalFill', _propnames.FORMMETA, state.get('uiConfig'));\n      // 跨表格限制必须同时选中列或同时选中行\n      if (_lodash[\"default\"].endsWith(ctrlInfo.get(_propnames.TYPE), 'Column') !== _lodash[\"default\"].endsWith(selInfo.get(_propnames.TYPE), 'Column') || _lodash[\"default\"].endsWith(ctrlInfo.get(_propnames.TYPE), 'Row') !== _lodash[\"default\"].endsWith(selInfo.get(_propnames.TYPE), 'Row')) return;\n      // 跨表格，不能将设置了横向充满表格的列作为多选列的非首选列（纵向充满的行类似）\n      if (_lodash[\"default\"].endsWith(selInfo.get(_propnames.TYPE), 'Column') && horizontalFill || _lodash[\"default\"].endsWith(selInfo.get(_propnames.TYPE), 'Row') && verTicalFill) return;\n    }\n    // if (ctrlInfo.get(TYPE) != selInfo.get(TYPE)) return\n  } else {\n    var _grid = _model.printModel.getGridInfo(uiInfo, ctrlId);\n    if (_grid && _model.uiModel.isTargetCtrls(uiInfo, selId, ['Text', 'Amount', 'Barcode', 'QRCode', 'Image', 'Grid'])) {\n      // 多选时选中表格\n      ctrlId = _grid.get(_propnames.ID);\n    }\n    if (!_model.uiModel.isSiblingControl(uiInfo, selId, ctrlId)) {\n      return;\n    }\n  }\n  var selIds = select_control_ids;\n  var index = selIds.findIndex(function (item) {\n    return item == ctrlId;\n  });\n  // 不允许取消最后一个选中项目\n  if (index >= 0 && selIds.size === 1) return;\n  selIds = index === -1 ? selIds.push(ctrlId) : selIds.splice(index, 1);\n  return selIds;\n}\nfunction setScopeSelectIds(state, ctrlId) {\n  var uiInfo = state.get('uiInfo');\n  var select_control_ids = state.get('select_control_ids', (0, _immutable.List)());\n  var selId = select_control_ids.last();\n  if (selId == ctrlId) return;\n  if (_model.uiModel.isRootCtrl(uiInfo, selId)) return;\n  var selIds = (0, _immutable.List)();\n  var selInfo, selGridinfo;\n  // 如果是套打，而且选中的是表格行、列、单元格\n  if (_model.printModel.isPrintModel(uiInfo) && (selInfo = _model.uiModel.getUIFieldInfo(uiInfo, selId)) && (selGridinfo = _model.printModel.getGridInfo(uiInfo, selInfo)) && selGridinfo.get(_propnames.ID) != selId) {\n    var ctrlInfo = _model.uiModel.getUIFieldInfo(uiInfo, ctrlId);\n    var gridInfo = _model.printModel.getGridInfo(uiInfo, ctrlInfo);\n    if (!gridInfo || gridInfo.get(_propnames.ID) != selGridinfo.get(_propnames.ID)) return;\n    var ctrlType = ctrlInfo.get(_propnames.TYPE);\n    if (ctrlType != selInfo.get(_propnames.TYPE)) return;\n    var selPosInfo = _model.printModel.getCellPosition(gridInfo, selId);\n    var posInfo = _model.printModel.getCellPosition(gridInfo, ctrlId);\n    if (!selPosInfo || !posInfo) return;\n    return getScopeCellIds(gridInfo, selPosInfo, posInfo);\n  } else {\n    var _grid = _model.printModel.getGridInfo(uiInfo, ctrlId);\n    if (_grid && _model.uiModel.isTargetCtrls(uiInfo, selId, ['Text', 'Amount', 'Barcode', 'QRCode', 'Image', 'Grid'])) {\n      // 多选时选中表格\n      ctrlId = _grid.get(_propnames.ID);\n    }\n    if (!_model.uiModel.isSiblingControl(uiInfo, selId, ctrlId)) return;\n    var beginIndex = _immutableUtil[\"default\"].childIndex(uiInfo, selId);\n    var endIndex = _immutableUtil[\"default\"].childIndex(uiInfo, ctrlId);\n    var container = _model.uiModel.getParentControl(uiInfo, selId);\n    var children = container.get(_propnames.ITEMS, (0, _immutable.List)());\n    return getScopeIds(children, beginIndex, endIndex);\n  }\n}\nfunction getScopeIds(items, beginIndex, endIndex) {\n  var selIds = (0, _immutable.List)();\n  if (beginIndex > endIndex) {\n    var temp = beginIndex;\n    beginIndex = endIndex;\n    endIndex = temp;\n  }\n  var loop = function loop(i) {\n    var item = items.get(i);\n    if (item) {\n      selIds = selIds.push(item.get(_propnames.ID));\n    }\n    ;\n  };\n  for (var i = beginIndex; i <= endIndex; i++) {\n    var item = items.get(i);\n    if (item) {\n      selIds = selIds.push(item.get(_propnames.ID));\n    }\n  }\n  ;\n  return selIds;\n}\nfunction getScopeCellIds(gridInfo, beginPosInfo, endPosInfo) {\n  var selIds = (0, _immutable.List)();\n  var beginRowIndex = beginPosInfo.rowIndex,\n    beginColIndex = beginPosInfo.colIndex;\n  var endRowIndex = endPosInfo.rowIndex,\n    endColIndex = endPosInfo.colIndex;\n  if (beginRowIndex > endRowIndex) {\n    var temp = beginRowIndex;\n    beginRowIndex = endRowIndex;\n    endRowIndex = temp;\n  }\n  if (beginColIndex > endColIndex) {\n    var _temp = beginColIndex;\n    beginColIndex = endColIndex;\n    endColIndex = _temp;\n  }\n  var loop = function loop(rowIndex, colIndex) {\n    var cell = _model.printModel.getCellInfo(gridInfo, {\n      rowIndex: rowIndex,\n      colIndex: colIndex\n    });\n    if (cell) {\n      selIds = selIds.push(cell.get(_propnames.ID));\n    }\n  };\n\n  // 行列信息都存在，说明选中是单元格\n  if (beginRowIndex >= 0 && beginColIndex >= 0) {\n    for (var i = beginRowIndex; i <= endRowIndex; i++) {\n      for (var j = beginColIndex; j <= endColIndex; j++) {\n        loop(i, j);\n      }\n    }\n  } else if (beginRowIndex >= 0) {\n    // 行信息存在，说明选中是行\n    for (var _i = beginRowIndex; _i <= endRowIndex; _i++) {\n      loop(_i);\n    }\n  } else if (beginColIndex >= 0) {\n    // 列信息存在，说明选中是列\n    for (var _j = beginColIndex; _j <= endColIndex; _j++) {\n      loop(undefined, _j);\n    }\n  }\n  return selIds;\n}\nfunction setDragoverControlId(state, ctrlId) {\n  state = state.set('dragover_control_id', ctrlId);\n  return state;\n}\nfunction canAddControl(uiInfo, _ref2) {\n  var ctrlId = _ref2.ctrlId,\n    parentId = _ref2.parentId,\n    ctrlType = _ref2.ctrlType,\n    fieldType = _ref2.fieldType,\n    uiConfig = _ref2.uiConfig,\n    isPaste = _ref2.isPaste;\n  var parentInfo = typeof parentId === 'string' ? _model.uiModel.getUIFieldInfo(uiInfo, parentId) : parentId;\n  var ctrlInfo = ctrlId ? typeof ctrlId === 'string' ? _model.uiModel.getUIFieldInfo(uiInfo, ctrlId) : ctrlId : (0, _immutable.fromJS)(_defineProperty(_defineProperty(_defineProperty({}, _propnames.TYPE, ctrlType), \"FieldType\", fieldType), \"isPaste\", isPaste));\n  return isAllowAddControl(parentInfo, ctrlInfo, uiConfig, uiInfo, {\n    isPaste: isPaste\n  });\n}\nfunction isAllowAddControl(parentField, childField, uiConfig, uiInfo, options) {\n  var _uiModel$getFormField, _uiModel$getFormField2;\n  // return true;\n  if (!parentField) return true;\n  var parentType = _model.uiModel.getRealControlType(uiInfo)(parentField.get(_propnames.TYPE), parentField.get(_propnames.ID));\n  var parentFieldType = parentField.get('FieldType');\n  var parentBaseType = _model.metadataModel.getConfigCtrlBaseType(parentType, uiConfig);\n  var parentFieldBaseType = _model.metadataModel.getConfigCtrlBaseType(parentFieldType, uiConfig);\n  var childType = childField.get(_propnames.TYPE);\n  var childFieldType = childField.get('FieldType') || ((_uiModel$getFormField = _model.uiModel.getFormFieldInfo(uiInfo, childField.get(_propnames.ID))) === null || _uiModel$getFormField === void 0 ? void 0 : _uiModel$getFormField.get(_propnames.FieldType));\n  var isInherit = (_uiModel$getFormField2 = _model.uiModel.getFormFieldInfo(uiInfo, childField.get(_propnames.ID))) === null || _uiModel$getFormField2 === void 0 ? void 0 : _uiModel$getFormField2.get('Inherit');\n  var baseType = _model.metadataModel.getConfigCtrlBaseType(childType, uiConfig);\n  var fieldBaseType = _model.metadataModel.getConfigCtrlBaseType(childFieldType, uiConfig);\n  if (parentType === 'EntryAp' && parentFieldType === undefined) {\n    var _uiModel$getFieldInfo;\n    // 根据控件id查找entryId，再根据entryId查找单据体真实的type\n    var entryId = (_uiModel$getFieldInfo = _model.uiModel.getFieldInfo(uiInfo, parentField.get(_propnames.ID), _propnames.FORMMETA)) === null || _uiModel$getFieldInfo === void 0 ? void 0 : _uiModel$getFieldInfo.get('EntryId');\n    if (entryId) {\n      var _uiModel$getFieldInfo2;\n      var _parentFieldType = (_uiModel$getFieldInfo2 = _model.uiModel.getFieldInfo(uiInfo, entryId, _propnames.ENTITYMETA)) === null || _uiModel$getFieldInfo2 === void 0 ? void 0 : _uiModel$getFieldInfo2.get('_Type_');\n      if (['SubEntryEntity', 'EmbedSubEntryEntity'].includes(_parentFieldType)) {\n        parentFieldType = _parentFieldType;\n      }\n    }\n  }\n\n  /**\n   * 移动表单, 父容器如果是 卡片分录视图 或 单据体 不允许重复\n  */\n  var uiType = uiInfo && uiInfo.getIn(['ui', 'Type']);\n  if (['MobileBillFormAp'].includes(uiType) && ['CardEntryAp', 'EntryAp'].includes(parentType)) {\n    throw {\n      message: (0, _intlApi.getLangMsg)('bosd.common.key0001'),\n      type: 'warning'\n    };\n  }\n  var panelWarningMsg = (0, _intlApi.getLangMsg)('bosd.common.key0002');\n  if (_ctrlTypeList.panelApRelatedEntity.includes(parentType) && !_ctrlTypeList.FieldTypeListOfPanel.includes(childFieldType)) {\n    throw {\n      message: panelWarningMsg,\n      type: 'warning'\n    };\n  }\n  if (_ctrlTypeList.panelApRelatedEntity.includes(parentType) && _ctrlTypeList.FieldTypeListOfPanel.includes(childFieldType) && _model.uiModel.getPropertyValue(uiInfo, childField, 'RelatedParentId', _propnames.FORMMETA, uiConfig) !== parentField.get('Id')) {\n    throw {\n      message: panelWarningMsg,\n      type: 'warning'\n    };\n  }\n\n  // 继承的单据体字段，不允许在两个单据体之间相互拖动\n  if (isInherit && ['EntryFieldAp', 'CardEntryFieldAp'].includes(childType)) {\n    var childId = childField.get(_propnames.ID);\n    var originParent = _model.uiModel.getParentControl(uiInfo, childId);\n    var originEntityId = _model.uiModel.getParentEntityId(uiInfo, originParent.get(_propnames.ID));\n    var targetEntityId = _model.uiModel.getParentEntityId(uiInfo, parentField.get(_propnames.ID));\n    if (originEntityId !== targetEntityId) {\n      var _uiModel$getFormField3, _uiModel$getFormField4;\n      var fieldName = (_uiModel$getFormField3 = _model.uiModel.getFormFieldInfo(uiInfo, childId)) === null || _uiModel$getFormField3 === void 0 ? void 0 : _uiModel$getFormField3.get(_propnames.NAME);\n      var fieldKey = (_uiModel$getFormField4 = _model.uiModel.getFormFieldInfo(uiInfo, childId)) === null || _uiModel$getFormField4 === void 0 ? void 0 : _uiModel$getFormField4.get(_propnames.KEY);\n      if (options.isPaste) {\n        throw {\n          message: (0, _intlApi.getLangMsg)({\n            key: 'bosd.common.key0017',\n            variables: {\n              fieldName: fieldName,\n              fieldKey: fieldKey\n            }\n          }),\n          type: 'warning'\n        };\n      } else {\n        throw {\n          message: (0, _intlApi.getLangMsg)({\n            key: 'bosd.common.key0016',\n            variables: {\n              fieldName: fieldName,\n              fieldKey: fieldKey\n            }\n          }),\n          type: 'warning'\n        };\n      }\n    }\n  }\n  if (childField.get(_propnames.ID) || childField.get('isPaste')) {\n    if (parentType === 'EntryAp' || parentType === 'EmbedSubEntryAp') {\n      var isAllowAddInEntryTypes = ['EntryFieldAp', 'EntryFieldGroupAp', 'OperationColumnAp', 'EntryFieldContainerAp'];\n      if (isAllowAddInEntryTypes.indexOf(childType) > -1) {\n        return true;\n      } else {\n        throw {\n          message: (0, _intlApi.getLangMsg)('bosd.common.key0001'),\n          type: 'warning'\n        };\n      }\n    }\n    // 禁止将单据头的字段拖到 卡片分录/表格字段分组/表格字段容器 里去\n    if (['EntryFieldGroupAp', 'EntryFieldContainerAp', 'CardEntryRowAp', 'CardEntryFlexPanelAp'].includes(parentType) && childType === 'FieldAp') {\n      throw {\n        message: (0, _intlApi.getLangMsg)('bosd.common.key0001'),\n        type: 'warning'\n      };\n    }\n  }\n  if (['MTabBarItemAp', 'MTabBarFormAp'].includes(childType)) {\n    var itemSize = parentField.get('Items').size;\n    if (itemSize === 6) {\n      throw {\n        message: (0, _intlApi.getLangMsg)('bosd.common.key0003'),\n        type: 'warning'\n      };\n    }\n  }\n  var checkNotAccept = function checkNotAccept(pType) {\n    var configParent = _model.metadataModel.getConfigFieldByType(uiConfig, pType);\n    var accept = configParent && configParent.get('NotAccept');\n    accept = accept || (0, _immutable.Map)();\n    var idItems = accept.get('ids', (0, _immutable.List)());\n    return idItems.includes(childType) || idItems.includes(childFieldType);\n  };\n  var ret = checkNotAccept(parentType) || checkNotAccept(parentFieldType);\n  if (ret) throw {\n    message: (0, _intlApi.getLangMsg)('bosd.common.key0001'),\n    type: 'warning'\n  };\n  var checkAccept = function checkAccept(pType) {\n    var configParent = _model.metadataModel.getConfigFieldByType(uiConfig, pType);\n    var accept = configParent && configParent.get('Accept');\n    if (!accept) return true;\n    var idItems = accept.get('ids', (0, _immutable.List)());\n    var baseTypes = accept.get('basetypes', (0, _immutable.List)());\n    return idItems.includes(childType) || idItems.includes(childFieldType) || baseTypes.includes(baseType) || baseTypes.includes(fieldBaseType);\n  };\n  ret = checkAccept(parentType) && checkAccept(parentFieldType);\n  if (!ret) throw {\n    message: (0, _intlApi.getLangMsg)('bosd.common.key0001'),\n    type: 'warning'\n  };\n  var checkParentAccept = function checkParentAccept(cType) {\n    var configField = _model.metadataModel.getConfigFieldByType(uiConfig, cType);\n    var accept = configField && configField.get('AcceptParent');\n    if (!accept) return true;\n    var idItems = accept.get('ids', (0, _immutable.List)());\n    var baseTypes = accept.get('basetypes', (0, _immutable.List)());\n    return idItems.includes(parentType) || idItems.includes(parentFieldType) || baseTypes.includes(parentBaseType) || baseTypes.includes(parentFieldBaseType);\n  };\n  ret = checkParentAccept(childType) && checkParentAccept(childFieldType);\n  if (!ret) throw {\n    message: (0, _intlApi.getLangMsg)('bosd.common.key0004'),\n    type: 'warning'\n  };\n  return true;\n}\n\n// 平铺视图中，允许放入的控件类型\nvar GRID_FLAT_CTRL = ['ButtonAp', 'LabelAp', 'ImageAp'];\nfunction canDeleteControl(uiInfo, _ref3) {\n  var ctrlId = _ref3.ctrlId,\n    uiConfig = _ref3.uiConfig;\n  var ctrl = _model.uiModel.getUIFieldInfo(uiInfo, ctrlId);\n  if (!ctrl) return false;\n  var fieldInfo = _model.uiModel.getFormFieldInfo(uiInfo, ctrlId);\n  var fieldName = fieldInfo.get('Name');\n  var fieldKey = fieldInfo.get('Key');\n  var ctrlType = ctrl.get(_propnames.TYPE);\n  var fieldType = ctrl.get(_propnames.FieldType);\n  if (_model.uiModel.isRootCtrl(uiInfo, ctrlId)) {\n    var msg = (0, _intlApi.getLangMsg)({\n      key: 'bosd.common.key0005',\n      variables: {\n        fieldName: fieldName,\n        fieldKey: fieldKey\n      }\n    });\n    throw new Error(msg);\n  }\n  if (_ctrlTypeList.FieldTypeListOfPanel.includes(fieldType)) {\n    var relatedParentId = _model.uiModel.getPropertyValue(uiInfo, ctrl, 'RelatedParentId', _propnames.FORMMETA, uiConfig);\n    if (relatedParentId && _model.uiModel.getUIFieldInfo(uiInfo, relatedParentId)) {\n      var _Name_ = _model.uiModel.getPropertyValue(uiInfo, relatedParentId, 'Name', _propnames.FORMMETA, uiConfig);\n      var _msg = (0, _intlApi.getLangMsg)({\n        key: 'bosd.common.key0006',\n        variables: {\n          fieldName: fieldName,\n          fieldKey: fieldKey,\n          name: _Name_\n        }\n      });\n      throw new Error(_msg);\n    }\n  }\n  var parentType = ctrlType;\n  var inheritCtrls = [];\n  var checkChild = function checkChild(_ctrlInfo) {\n    var _ctrlType = _ctrlInfo.get(_propnames.TYPE);\n    var _ctrlId = _ctrlInfo.get(_propnames.ID);\n    var _fieldInfo = _model.uiModel.getFormFieldInfo(uiInfo, _ctrlId);\n    var _inherit = _fieldInfo.get('Inherit');\n    var _fieldName = _fieldInfo.get(_propnames.NAME);\n    var _fieldKey = _fieldInfo.get(_propnames.KEY);\n    var _fieldType = _fieldInfo.get(_propnames.TYPE);\n    var _fieldName1 = _fieldInfo.get(_propnames.FIELD_NAME);\n    // 一般继承的容器如果没有包含Inherit=true的子控件，则该容器可被删除，以下几个容器例外\n    var excludesContainersType = ['EntryAp', 'ReportCommFilterPanelAp', 'ReportMoreFilterPanelAp', 'ReportListAp'];\n    var isContainer = _model.uiModel.isContainerControl(uiConfig, uiInfo, _ctrlId);\n    if (_inherit == true) {\n      var isListDesigner = _model.uiModel.isListDesigner(uiInfo);\n      if (excludesContainersType.includes(_ctrlType) || !isListDesigner && !isContainer) {\n        var key = _fieldName1 || _fieldKey;\n        var _msg2 = (0, _intlApi.getLangMsg)({\n          key: 'bosd.common.key0007',\n          variables: {\n            fieldName: _fieldName,\n            key: key\n          }\n        });\n        throw new Error(_msg2);\n      } else if (isListDesigner) {\n        var _key = _fieldName1 || _fieldKey;\n        inheritCtrls.push({\n          key: _key,\n          name: _fieldName\n        });\n      }\n    }\n    if (_ctrlTypeList.FieldTypeListOfPanel.includes(_fieldType) && !_ctrlTypeList.panelApRelatedEntity.includes(parentType)) {\n      var _relatedParentId = _model.uiModel.getPropertyValue(uiInfo, _ctrlInfo, 'RelatedParentId', _propnames.FORMMETA, uiConfig);\n      if (_relatedParentId && _model.uiModel.getUIFieldInfo(uiInfo, _relatedParentId)) {\n        var _Name_2 = _model.uiModel.getPropertyValue(uiInfo, _relatedParentId, 'Name', _propnames.FORMMETA, uiConfig);\n        var _msg3 = (0, _intlApi.getLangMsg)({\n          key: 'bosd.common.key0008',\n          variables: {\n            fieldName: _fieldName,\n            fieldKey: _fieldKey,\n            name: _Name_2\n          }\n        });\n        throw new Error(_msg3);\n      }\n    }\n    var _items = _ctrlInfo.get(_propnames.ITEMS, (0, _immutable.List)());\n    if (_items && _items.size > 0) {\n      parentType = _ctrlType;\n      _items.forEach(function (_item) {\n        return checkChild(_item);\n      });\n    }\n  };\n  checkChild(ctrl);\n  if (inheritCtrls.length > 0) {\n    return {\n      needConfirm: true,\n      inheritCtrls: inheritCtrls\n    };\n  }\n  var configCtrl = _model.metadataModel.getConfigFieldByType(uiConfig, ctrlType, fieldType);\n  var disableDelete = configCtrl && configCtrl.get('disableDelete');\n  if (disableDelete) {\n    var _msg4 = (0, _intlApi.getLangMsg)({\n      key: 'bosd.common.key0009',\n      variables: {\n        fieldName: fieldName,\n        fieldKey: fieldKey\n      }\n    });\n    throw new Error(_msg4);\n  }\n  var parentInfo = _model.uiModel.getParentControl(uiInfo, ctrlId);\n  var isControlInFlat = GRID_FLAT_CTRL.includes(ctrlType) && (parentInfo === null || parentInfo === void 0 ? void 0 : parentInfo.get(_propnames.TYPE)) === 'GridFlatPanelAp';\n  if (isControlInFlat) {\n    return true;\n  }\n  var path = _immutableUtil[\"default\"].byId(uiInfo, ctrlId);\n  path && path.forEach(function (item, index) {\n    if (uiInfo.getIn(path.slice(0, index)).get('Type') === 'GridFlatPanelAp') {\n      var _msg5 = (0, _intlApi.getLangMsg)({\n        key: 'bosd.common.key0010',\n        variables: {\n          fieldName: fieldName,\n          fieldKey: fieldKey\n        }\n      });\n      throw new Error(_msg5);\n    }\n  });\n  return true;\n}\n\n/**\n * 是否可以添加具有唯一性的字段\n * 以下两个条件都满足，则不能添加\n * 1.字段在元数据中的定义是唯一的（isUnique）\n * 2.所属的区域（单头或单体）中存在该类型的字段\n * @param {*} parentId 父容器id\n * @param {*} childField 待添加字段\n * @param {*} uiConfig 控件源元数据\n * @param {*} uiInfo 页面元数据\n */\nfunction canAddUniqueFeild(parentId, childField, uiConfig, uiInfo) {\n  var options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n  var isMove = options.isMove;\n  var parentField = _model.uiModel.getUIFieldInfo(uiInfo, parentId);\n  var childType = childField.get(_propnames.TYPE);\n  var childFieldType = childField.get('FieldType');\n  var ctrlConfig = _model.metadataModel.getConfigFieldByType(uiConfig, childType, childFieldType) || (0, _immutable.Map)();\n  var isUnique = ctrlConfig.get('isUnique') || false;\n  var name = ctrlConfig.get('name') || ctrlConfig.get('Id');\n  if (isUnique) {\n    var parentFieldId = parentField.get('Id');\n    var parentEntityId = _model.uiModel.getParentEntityId(uiInfo, parentFieldId);\n    var rootEntityId = uiInfo.getIn(['entitytree', 'Id']);\n    var entityTree = uiInfo.get('entitytree');\n    if (parentEntityId === rootEntityId) {\n      // 单头\n      if (isMove) return true;\n      var items = entityTree.getIn(['Items']);\n      var existField = items.some(function (item) {\n        return item.get('Type') === childFieldType;\n      });\n      if (existField) {\n        var msg = (0, _intlApi.getLangMsg)({\n          key: 'bosd.common.key0011',\n          variables: {\n            name: name\n          }\n        });\n        throw {\n          message: msg,\n          type: 'warning'\n        };\n      }\n    } else {\n      // 单体\n      var entityInfo = _model.uiModel.getEntityTreeInfo(uiInfo, parentEntityId) || (0, _immutable.Map)();\n      var entityItems = entityInfo.get('Items', (0, _immutable.List)());\n      var _existField = entityItems.find(function (item) {\n        return item.get('Type') === childFieldType;\n      });\n      var existFieldId = _existField && _existField.get(_propnames.ID);\n      var childId = childField && childField.get(_propnames.ID);\n      var _msg6 = (0, _intlApi.getLangMsg)({\n        key: 'bosd.common.key0012',\n        variables: {\n          name: name\n        }\n      });\n      if (isMove) {\n        if (_existField && existFieldId !== childId) {\n          throw {\n            message: _msg6,\n            type: 'warning'\n          };\n        }\n      } else {\n        if (_existField) {\n          throw {\n            message: _msg6,\n            type: 'warning'\n          };\n        }\n      }\n    }\n  }\n}\n\n//# sourceURL=webpack://bos-platform/./src/designer/reducer/ui/common.js?");

/***/ }),

/***/ "./src/designer/reducer/ui/commonReducer.js":
/*!**************************************************!*\
  !*** ./src/designer/reducer/ui/commonReducer.js ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = commonAction;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.find-index.js */ \"../../node_modules/core-js/modules/es.array.find-index.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.array.reverse.js */ \"../../node_modules/core-js/modules/es.array.reverse.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _model = __webpack_require__(/*! ../../model */ \"./src/designer/model/index.js\");\nvar _common = __webpack_require__(/*! ./common */ \"./src/designer/reducer/ui/common.js\");\nvar _utils = __webpack_require__(/*! ../../utils */ \"./src/designer/utils/index.js\");\nvar _constant = __webpack_require__(/*! ../../constant */ \"./src/designer/constant/index.js\");\nvar _immutableUtil = _interopRequireDefault(__webpack_require__(/*! ../../utils/immutableUtil */ \"./src/designer/utils/immutableUtil.js\"));\nvar actionnames = _interopRequireWildcard(__webpack_require__(/*! ../../constant/actionnames */ \"./src/designer/constant/actionnames.js\"));\nvar _propnames = __webpack_require__(/*! ../../constant/propnames */ \"./src/designer/constant/propnames.js\");\nvar _ctrlTypeList = __webpack_require__(/*! ../../constant/ctrlTypeList */ \"./src/designer/constant/ctrlTypeList.js\");\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n// 除了图片字段，其他卡片列表字段应该能互相格式刷\nvar CARD_LIST_COLUMN_AP = ['CardListColumnAp', 'CardDateListColumnAp', 'CardTimeListColumnAp', 'CardCheckBoxListColumnAp', 'CardComboListColumnAp', 'CardMulComboListColumnAp', 'CardDecimalListColumnAp', 'CardFlexListColumnAp'];\nfunction commonAction(state, action) {\n  // state一些初始的参数设置\n  switch (action.type) {\n    case actionnames.set_ui_loading:\n      return state.set('ui_loading', action.value);\n    case actionnames.set_ui_load_error:\n      return state.set('ui_load_error', action.value);\n    case actionnames.set_ui_info:\n      var info = (0, _immutable.fromJS)(action.uiInfo || {});\n      state = state.set('uiInfo', info).set('originUiInfo', info).set('clipboard', (0, _immutable.Map)());\n      if (action.selectRootControl) {\n        state = (0, _common.setSelectControlId)(state, _model.uiModel.getRootId(info));\n      }\n      state = state.set('history', (0, _immutable.Map)()); // 清空undo栈\n      return state;\n    case actionnames.set_refresh_ctrl_ids:\n      return state.set('refresh_ctrl_ids', action.value);\n    case actionnames.clear_dirty_data:\n      // 清除脏数据（开发使用）\n      return clearDirtyData(state);\n  }\n\n  // ui通用的action处理逻辑\n  switch (action.type) {\n    case actionnames.dragover_control:\n      return (0, _common.setDragoverControlId)(state, action.ctrlId);\n    case actionnames.select_control_id:\n      // ui control id\n      state = (0, _common.setSelectControlId)(state, action.ctrlId, action.multi, action.scope);\n      return formatControl(state, action.ctrlId);\n    case actionnames.set_format_info:\n      return setFormatInfoAction(state, action);\n    case actionnames.paste_control_style:\n      return pasteControlStyle(state);\n    case actionnames.move_control:\n      return moveControlAction(state, action);\n    case actionnames.copy_control:\n      // 复制\\剪切控件\n      return copyControlAction(state, action);\n  }\n  return state;\n}\n\n// 清除脏数据（开发使用）\nfunction clearDirtyData(state) {\n  return state.update('uiInfo', function (uiInfo) {\n    var dirtyEntitys = []; //\n    var formmeta = _model.uiModel.getFormmeta(uiInfo);\n    var rootEntityId = uiInfo.getIn([_propnames.ENTITYMETA, _propnames.ID]);\n    uiInfo = uiInfo.updateIn([_propnames.ENTITYMETA, _propnames.ITEMS], function (items) {\n      return items.filter(function (item) {\n        var entityId = item.get(_propnames.ID);\n        var Inherit = item.get('Inherit', false);\n        if (Inherit === false && entityId !== rootEntityId && formmeta.findIndex(function (item) {\n          return item.get('FieldId') === entityId || item.get(_ctrlTypeList.entityNameOfEntry) === entityId || item.get(_ctrlTypeList.entityNameOfPanelAp) === entityId;\n        }) === -1) {\n          dirtyEntitys.push(item.toJS());\n          return false;\n        }\n        return true;\n      });\n    });\n    // console.warn('清除无效实体个数：' + dirtyEntitys.length, dirtyEntitys)\n    return uiInfo;\n  });\n}\n\n/** ***格式化功能 begin*****/\nfunction setFormatInfoAction(state, action) {\n  var ctrlId = action.ctrlId,\n    multi = action.multi;\n  return state.set('format_control_id', ctrlId).set('multi_format_state', multi);\n}\nfunction canFormat(uiInfo, formatInfo, formInfo) {\n  var formatType = formatInfo.get(_propnames._TYPE_);\n  var formType = formInfo.get(_propnames._TYPE_);\n  if (formatType === formType || CARD_LIST_COLUMN_AP.includes(formatType) && CARD_LIST_COLUMN_AP.includes(formType)) return true;\n  var modelType = uiInfo.get('modelType');\n  var isPrint = modelType === 'PrintModel';\n  var allowFormat = ['Text', 'Amount'];\n  if (isPrint && allowFormat.indexOf(formatType) > -1 && allowFormat.indexOf(formType) > -1) {\n    return true;\n  }\n  return false;\n}\nfunction formatControl(state, ctrlId, formatCtrlId) {\n  var format_control_id = formatCtrlId || state.get('format_control_id', '');\n  if (!format_control_id) return state;\n  var uiInfo = state.get('uiInfo');\n  var formatFormInfo = _model.uiModel.getFormFieldInfo(uiInfo, format_control_id);\n  if (!formatFormInfo) return state;\n  var modelType = state.getIn(['uiInfo', 'modelType']);\n  var isPrint = modelType === 'PrintModel';\n  var selection = state.get('select_control_ids', (0, _immutable.List)());\n  var ctrlIds = isPrint ? (0, _utils.convertToList)(ctrlId) : selection.concat(_model.uiModel.getDescendantIds(uiInfo, selection));\n  ctrlIds.forEach(function (cid) {\n    var formInfo = _model.uiModel.getFormFieldInfo(uiInfo, cid);\n    if (canFormat(uiInfo, formatFormInfo, formInfo)) {\n      _constant.FORMAT_PROPS.forEach(function (propName) {\n        var propValue = _model.uiModel.getPropertyValue(uiInfo, format_control_id, propName);\n        uiInfo = _model.uiModel.updatePropValue({\n          fieldId: cid,\n          propName: propName,\n          value: propValue,\n          metaType: 'formmeta'\n        })(uiInfo);\n      });\n    }\n  });\n  state = state.set('uiInfo', uiInfo);\n  var multi_format_state = state.get('multi_format_state', false);\n  if (!multi_format_state) {\n    state = state.set('format_control_id', '').set('multi_format_state', false);\n  }\n  return state;\n}\nfunction pasteControlStyle(state) {\n  var selection = state.getIn(['clipboard', 'copy_control_id'], (0, _immutable.List)());\n  if (selection.size === 1) {\n    var formatCtrlId = selection.get(0);\n    var ctrlId = state.get('select_control_id');\n    state = formatControl(state, ctrlId, formatCtrlId);\n  }\n  return state;\n}\n/** ***格式化功能 end*****/\n\n/** ***移动控件 begin*****/\nfunction moveControlAction(state, action) {\n  var direction = action.direction;\n  var select_control_id = state.get('select_control_id');\n  var select_control_ids = state.get('select_control_ids', (0, _immutable.List)());\n  var selIds = select_control_ids.size > 0 ? select_control_ids : _immutable.List.of(select_control_id);\n  return state.update('uiInfo', function (uiInfo) {\n    return (0, _common.actionWrap)(moveControl, null, afterMoveControl)(uiInfo, selIds, action.direction);\n  });\n}\nfunction moveControl(uiInfo, selIds, direction) {\n  var parentCtrlInfo = _model.uiModel.getParentControl(uiInfo, selIds.first());\n  // 根节点前移后移报错\n  if (!parentCtrlInfo) {\n    return uiInfo;\n  }\n  var items = parentCtrlInfo.get(_propnames.ITEMS, (0, _immutable.List)());\n  // 按顺序排序所有的ID\n  selIds = items.map(function (item) {\n    return item.get(_propnames.ID);\n  }).filter(function (id) {\n    return selIds.includes(id);\n  });\n  selIds = direction == 'up' ? selIds : selIds.reverse();\n  var findFunc = direction == 'up' ? _model.uiModel.getPreControl : _model.uiModel.getNextControl;\n  var getNextId = function getNextId(ctrlId) {\n    if (!ctrlId) return;\n    var nextControl = findFunc(uiInfo, ctrlId, false);\n    if (!nextControl) return;\n    var nextId = nextControl.get(_propnames.ID);\n    if (nextId != ctrlId) {\n      var isHidden = _model.uiModel.getPropertyValue(uiInfo, nextId, 'Hidden', _propnames.FORMMETA);\n      var invisible = _model.uiModel.getPropertyValue(uiInfo, nextId, 'Invisible', _propnames.FORMMETA);\n      if (isHidden || invisible) {\n        return getNextId(nextId);\n      }\n    }\n    return nextId;\n  };\n  selIds.forEach(function (ctrlId) {\n    var nextId = getNextId(ctrlId);\n    if (!nextId) return;\n    if (selIds.contains(nextId)) return;\n    var nextPath = _immutableUtil[\"default\"].byId(uiInfo, nextId);\n    var nextNode = uiInfo.getIn(nextPath);\n    var currentPath = _immutableUtil[\"default\"].byId(uiInfo, ctrlId);\n    var currentNode = uiInfo.getIn(currentPath);\n    uiInfo = uiInfo.updateIn(currentPath, function () {\n      return nextNode;\n    }).updateIn(nextPath, function () {\n      return currentNode;\n    });\n  });\n  return uiInfo;\n}\nfunction afterMoveControl(uiInfo, selIds, direction) {\n  var ctrlInfo = _model.uiModel.getFormFieldInfo(uiInfo, selIds.first());\n  var parentId = ctrlInfo.get('ParentId');\n  return _model.uiModel.updateFormIndex(parentId)(uiInfo);\n}\n/** ***移动控件 end*****/\n\n/** ***复制、剪切功能 begin*****/\nfunction copyControlAction(state, action) {\n  var ctrlId = action.ctrlId,\n    mode = action.mode,\n    disableDelete = action.disableDelete;\n  if (disableDelete) return state;\n  var ctrlIds = typeof ctrlId === 'string' ? _immutable.List.of(ctrlId) : ctrlId;\n  if (ctrlIds.size === 0) return state;\n  mode = mode || 'copy';\n  var uiInfo = state.get('uiInfo');\n  var firstType = _model.uiModel.getPropertyValue(uiInfo, ctrlIds.get(0), _propnames._TYPE_);\n  var firstTypeIndex = ['LayoutRow', 'LayoutColumn', 'DataRow', 'DataColumn', 'SubDataRow', 'SubDataColumn'].indexOf(firstType);\n  if (_model.uiModel.isRootCtrl(uiInfo, ctrlIds.get(0)) || firstTypeIndex > -1) {\n    // let ctrlName = '表单根布局'\n    // ctrlName = firstTypeIndex > -1 && firstTypeIndex % 2 === 0 ? '行布局' : '列布局'\n    var msg = firstTypeIndex > -1 && firstTypeIndex % 2 === 0 ? (0, _intlApi.getLangMsg)('bosd.common.key0013') : (0, _intlApi.getLangMsg)('bosd.common.key0014');\n    throw {\n      message: msg,\n      type: 'warn'\n    };\n  }\n  if (['LayoutCell', 'DataCell'].indexOf(firstType) > -1 && mode === 'cut') {\n    throw {\n      message: (0, _intlApi.getLangMsg)('bosd.common.key0015'),\n      type: 'warn'\n    };\n  }\n\n  // 提取复制内容存储在LocalStorage中\n  (0, _common.setCopyContent)(uiInfo, mode === 'copy' ? ctrlIds : null);\n  return state.update('clipboard', (0, _immutable.Map)(), function (clipboard) {\n    return clipboard.set('mode', mode).set('copy_control_id', ctrlIds);\n  });\n}\n/** ***复制、剪切功能 end*****/\n\n//# sourceURL=webpack://bos-platform/./src/designer/reducer/ui/commonReducer.js?");

/***/ }),

/***/ "./src/designer/reducer/ui/defaultReducer.js":
/*!***************************************************!*\
  !*** ./src/designer/reducer/ui/defaultReducer.js ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-properties.js */ \"../../node_modules/core-js/modules/es.object.define-properties.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptors.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = defaultDesignerAction;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.find.js */ \"../../node_modules/core-js/modules/es.array.find.js\");\n__webpack_require__(/*! core-js/modules/es.array.find-index.js */ \"../../node_modules/core-js/modules/es.array.find-index.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.join.js */ \"../../node_modules/core-js/modules/es.array.join.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.array.reduce.js */ \"../../node_modules/core-js/modules/es.array.reduce.js\");\n__webpack_require__(/*! core-js/modules/es.array.reverse.js */ \"../../node_modules/core-js/modules/es.array.reverse.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.is.js */ \"../../node_modules/core-js/modules/es.object.is.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.object.values.js */ \"../../node_modules/core-js/modules/es.object.values.js\");\n__webpack_require__(/*! core-js/modules/es.promise.js */ \"../../node_modules/core-js/modules/es.promise.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.ends-with.js */ \"../../node_modules/core-js/modules/es.string.ends-with.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _global = __webpack_require__(/*! @/global */ \"./src/global/index.js\");\nvar actionnames = _interopRequireWildcard(__webpack_require__(/*! ../../constant/actionnames */ \"./src/designer/constant/actionnames.js\"));\nvar _propnames = __webpack_require__(/*! ../../constant/propnames */ \"./src/designer/constant/propnames.js\");\nvar _ctrlTypeList = __webpack_require__(/*! ../../constant/ctrlTypeList */ \"./src/designer/constant/ctrlTypeList.js\");\nvar _immutableUtil = _interopRequireWildcard(__webpack_require__(/*! ../../utils/immutableUtil */ \"./src/designer/utils/immutableUtil.js\"));\nvar _utils = __webpack_require__(/*! ../../utils */ \"./src/designer/utils/index.js\");\nvar _common = __webpack_require__(/*! ./common */ \"./src/designer/reducer/ui/common.js\");\nvar _model = __webpack_require__(/*! ../../model */ \"./src/designer/model/index.js\");\nvar _templateUtil = __webpack_require__(/*! ../../utils/templateUtil */ \"./src/designer/utils/templateUtil.js\");\nvar _index2 = __webpack_require__(/*! @/designer/template/index.js */ \"./src/designer/template/index.js\");\nvar _themeVariableNameConst = __webpack_require__(/*! ../../../constant/themeVariableNameConst */ \"./src/constant/themeVariableNameConst.js\");\nvar _GlobalDataCacher = __webpack_require__(/*! @/model/GlobalDataCacher */ \"./src/model/GlobalDataCacher.js\");\nvar _symbolConst = __webpack_require__(/*! @/constant/symbolConst */ \"./src/constant/symbolConst.js\");\nvar _appModelFunction = __webpack_require__(/*! @/model/appModelFunction */ \"./src/model/appModelFunction.js\");\nvar _uiModelFunction = __webpack_require__(/*! @/designer/model/uiModelFunction */ \"./src/designer/model/uiModelFunction.js\");\nvar _commonUiModelFunction = __webpack_require__(/*! @/designer/model/commonUiModelFunction */ \"./src/designer/model/commonUiModelFunction.js\");\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nvar _enum = __webpack_require__(/*! @/util/enum.js */ \"./src/util/enum.js\");\nvar _designerTemplate_zh_CN = _interopRequireDefault(__webpack_require__(/*! @/lang/designerTemplate_zh_CN.json */ \"./src/lang/designerTemplate_zh_CN.json\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nvar cardContainer = ['CardEntryRowAp', 'CardRowPanelAp', 'CardEntryFlexPanelAp', 'CardFlexPanelAp'];\nfunction defaultDesignerAction(state, action) {\n  // 普通设计器使用的action处理逻辑\n  switch (action.type) {\n    case actionnames.add_control:\n      return addControlAction(state, action);\n    case actionnames.add_field_control:\n      return addFieldControlAction(state, action);\n    case actionnames.add_field_controls:\n      return addFieldControlsAction(state, action);\n    case actionnames.delete_control:\n      return deleteControlAction(state, action);\n    case actionnames.update_prop_value:\n      return updatePropValueAction(state, action);\n    case actionnames.update_ui_prop_value:\n      return updateUIPropValue(state, action);\n    case actionnames.paste_control:\n      // 粘贴控件\n      return pasteControlAction(state, action);\n    case actionnames.moveto_control:\n      // 将一个控件移动到另一个控件中\n      return moveToControlAction(state, action);\n    case actionnames.copy_and_add:\n      return copyAndAddAction(state, action);\n    case actionnames.switch_flat_panel:\n      return switchFlatPanelAction(state, action);\n    case actionnames.add_uiInfo_Item:\n      state = state.setIn(['uiInfo', action.propName], action.data);\n      return state;\n    case actionnames.apply_page_template:\n      return applyPageTemplate(state, action);\n    case actionnames.apply_container_template:\n      return applyContainerTemplate(state, action);\n    case actionnames.apply_control_template:\n      return applyControlTemplate(state, action);\n    case actionnames.add_template_fragment:\n      return addTempFragment(state, action);\n    case actionnames.add_entity_info:\n      return addEntityInfo(state, action);\n  }\n  return state;\n}\n\n/** ***添加控件功能 begin*****/\nfunction addControlAction(state, action) {\n  var ctrlInfo = action.ctrlInfo,\n    parentId = action.parentId,\n    uiConfig = action.uiConfig;\n  var ctrlType;\n  if (_typeof(ctrlInfo) !== 'object') {\n    ctrlType = ctrlInfo;\n    ctrlInfo = {};\n  } else {\n    ctrlType = ctrlInfo[_propnames.TYPE];\n    delete ctrlInfo[_propnames.TYPE];\n  }\n  var typeInfo = _model.uiModel.getTypeInfo({\n    ctrlType: ctrlType\n  }, uiConfig);\n  ctrlType = typeInfo.ctrlType;\n  var fieldType = typeInfo.fieldType;\n  var uiInfo = state.get('uiInfo');\n  parentId = parentId || _model.uiModel.getRootId(uiInfo);\n  var containerInfo = _model.uiModel.getContainerControl(uiInfo, parentId, true, uiConfig);\n  parentId = containerInfo.control.get(_propnames.ID);\n  var index = containerInfo.targetIndex;\n  if (!isNaN(index)) index++;\n  if (!(0, _common.canAddControl)(uiInfo, {\n    parentId: parentId,\n    ctrlType: ctrlType,\n    fieldType: fieldType,\n    uiConfig: uiConfig\n  })) {\n    var msg = (0, _intlApi.getLangMsg)({\n      key: 'bosd.defaultReducer.key0001',\n      variables: {\n        type: fieldType || ctrlType\n      }\n    });\n    throw {\n      message: msg,\n      type: 'warning'\n    };\n  }\n  var childField = (0, _immutable.fromJS)(_defineProperty(_defineProperty({}, _propnames.TYPE, ctrlType), _propnames.FieldType, fieldType));\n  (0, _common.canAddUniqueFeild)(parentId, childField, uiConfig, uiInfo);\n  var newId = ctrlInfo[_propnames.ID] || (0, _utils.createNewId)();\n  var key = (0, _utils.createNewKey)(uiInfo, fieldType || ctrlType);\n  if (ctrlInfo.Items && ctrlInfo.Items.length > 0) {\n    // 向导生成的带有子控件\n    var items = ctrlInfo.Items;\n    delete ctrlInfo.Items;\n    var params = {\n      _id: newId,\n      key: key,\n      parentId: parentId,\n      ctrlType: ctrlType,\n      fieldType: fieldType,\n      index: index,\n      formInfo: ctrlInfo,\n      uiConfig: uiConfig,\n      items: items\n    };\n    state = addControlFromWizard(params)(state);\n  } else {\n    state = state.update('uiInfo', function (uiInfo) {\n      var params = {\n        state: state,\n        _id: newId,\n        key: key,\n        parentId: parentId,\n        ctrlType: ctrlType,\n        fieldType: fieldType,\n        index: index,\n        formInfo: ctrlInfo,\n        uiConfig: uiConfig\n      };\n      uiInfo = (0, _common.actionWrap)(addControl, beforeAddControl, afterAddControl)(uiInfo, params);\n      // _id = params._id\n      newId = params._id;\n      return uiInfo;\n    });\n  }\n  state = (0, _common.setSelectControlId)(state, newId);\n  return state;\n}\nfunction addControlFromWizard(_ref) {\n  var _id = _ref._id,\n    key = _ref.key,\n    parentId = _ref.parentId,\n    ctrlType = _ref.ctrlType,\n    fieldType = _ref.fieldType,\n    index = _ref.index,\n    formInfo = _ref.formInfo,\n    uiConfig = _ref.uiConfig,\n    items = _ref.items;\n  return function (state) {\n    state = state.update('uiInfo', function (uiInfo) {\n      uiInfo = addControl(uiInfo, {\n        _id: _id,\n        key: key,\n        parentId: parentId,\n        ctrlType: ctrlType,\n        fieldType: fieldType,\n        index: index,\n        formInfo: formInfo,\n        uiConfig: uiConfig\n      });\n      return uiInfo;\n    });\n    items && items.forEach(function (item, index) {\n      state = addControlFromWizard({\n        _id: item.Id,\n        key: item.Key,\n        parentId: _id,\n        ctrlType: item.Type,\n        fieldType: item.FieldType,\n        index: index,\n        formInfo: item,\n        uiConfig: uiConfig\n      })(state);\n      // uiInfo=addControl(uiInfo,{_id:item.Id,key:item.Key,parentId,ctrlType:item.Type,fieldType:item.FieldType,index,formInfo:item,uiConfig:params.uiConfig})\n    });\n    return state;\n  };\n}\nfunction beforeAddControl(uiInfo, params) {\n  var fieldType = params.fieldType,\n    ctrlType = params.ctrlType,\n    parentId = params.parentId;\n  // 如果是添加字段或者分录控件要转换控件类型\n  if (fieldType) {\n    var parentInfo = _model.uiModel.getUIFieldInfo(uiInfo, parentId);\n    var parentType = parentInfo.get(_propnames.TYPE);\n    if (ctrlType !== 'EntryFieldGroupAp' && ctrlType !== 'EntryFieldContainerAp' && (parentType === 'EntryAp' || parentType === 'EntryFieldGroupAp' || parentType === 'ReportListAp' || parentType === 'EntryFieldContainerAp' || parentType === 'EmbedSubEntryAp')) {\n      ctrlType = 'EntryFieldAp';\n    } else if ((parentType === 'CardEntryRowAp' || parentType === 'CardEntryFlexPanelAp') && ctrlType === 'FieldAp') {\n      ctrlType = 'CardEntryFieldAp';\n    }\n    params.ctrlType = ctrlType;\n  }\n  return uiInfo;\n}\nfunction addControl(uiInfo, _ref2) {\n  var _id = _ref2._id,\n    key = _ref2.key,\n    parentId = _ref2.parentId,\n    ctrlType = _ref2.ctrlType,\n    fieldType = _ref2.fieldType,\n    index = _ref2.index,\n    _ref2$formInfo = _ref2.formInfo,\n    formInfo = _ref2$formInfo === void 0 ? {} : _ref2$formInfo,\n    uiConfig = _ref2.uiConfig,\n    fieldId = _ref2.fieldId,\n    ctrlName = _ref2.ctrlName;\n  formInfo[_propnames.ID] = _id;\n  formInfo[_propnames.KEY] = key;\n  formInfo[_propnames.NAME] = ctrlName || _model.metadataModel.getConfigCtrlName(fieldType || ctrlType, uiConfig) || formInfo[_propnames.ID];\n  if (['FieldAp', 'EntryFieldAp', 'CardEntryFieldAp'].includes(ctrlType)) {\n    formInfo[_propnames.NAME] = ctrlName || (0, _utils.createNewName)(uiInfo, fieldType, formInfo[_propnames.NAME]);\n  }\n  formInfo[_propnames.TYPE] = ctrlType;\n  // fieldType存在，表示添加的控件为字段或者分录\n  if (fieldType) {\n    formInfo.FieldType = fieldType;\n    if (_ctrlTypeList.entryApRelatedEntity.includes(ctrlType)) {\n      formInfo[_ctrlTypeList.entityNameOfEntry] = formInfo[_propnames.ID];\n    } else if (_ctrlTypeList.panelApRelatedEntity.includes(ctrlType)) {\n      formInfo[_ctrlTypeList.entityNameOfPanelAp] = formInfo[_propnames.ID];\n    } else {\n      formInfo.FieldId = fieldId || _id;\n    }\n    // formInfo[ctrlType == 'EntryAp' || ctrlType == 'CardEntryAp' || ctrlType == 'SubCardEntryAp' ? 'EntryId' : 'FieldId'] = formInfo[ID]\n  }\n  if (ctrlType === 'SuspendButtonAp') {\n    // 新增的悬浮按钮添加到根节点上\n    var rootId = _model.uiModel.getRootId(uiInfo);\n    uiInfo = _model.uiModel.addControl(rootId, (0, _immutable.fromJS)(formInfo), index)(uiInfo);\n  } else {\n    uiInfo = _model.uiModel.addControl(parentId, (0, _immutable.fromJS)(formInfo), index)(uiInfo);\n  }\n  // 如果属性存在“字段名”属性，初始化该值\n  var prop = _model.metadataModel.getConfigProp(uiConfig, fieldType, 'FieldName');\n  if (prop && ctrlType !== 'FlatFieldAp') {\n    var isv = uiInfo.get('isv', 'kingdee');\n    var producerKey = \"f\".concat(key);\n    // 二开的时候添加isv标识\n    if (isv && isv !== 'kingdee') {\n      producerKey = \"fk_\".concat(key);\n    }\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: fieldId || _id,\n      propName: 'FieldName',\n      value: producerKey,\n      metaType: _propnames.ENTITYMETA\n    })(uiInfo);\n  }\n\n  // 过滤出需要发送默认值的属性(editor中带有value)，设置到item\n  if (_model.uiModel.hasEntitymeta({\n    ctrlType: ctrlType\n  })) {\n    var configField = _model.metadataModel.getConfigFieldByType(uiConfig, fieldType);\n    var entityProps = configField && configField.get('properties');\n    if (entityProps) {\n      var entityGroups = entityProps.groupBy(function (prop) {\n        return prop.get('group', '_base_');\n      });\n      entityGroups.forEach(function (props) {\n        var defaultSetProps = props.filter(function (item) {\n          return item.getIn(['Editor', 'value']);\n        });\n        defaultSetProps.forEach(function (item) {\n          var propName = item.get('name');\n          var value = item.getIn(['Editor', 'value']);\n          uiInfo = _model.uiModel.updatePropValue({\n            fieldId: fieldId || _id,\n            propName: propName,\n            value: value,\n            metaType: _propnames.ENTITYMETA\n          })(uiInfo);\n        });\n      });\n    }\n  }\n  return uiInfo;\n}\nfunction afterAddControl(uiInfo, params) {\n  var _id = params._id,\n    parentId = params.parentId,\n    ctrlType = params.ctrlType,\n    fieldType = params.fieldType,\n    uiConfig = params.uiConfig,\n    fieldId = params.fieldId;\n  // 新增控件后,调整控件\n  var isPC = uiInfo && uiInfo.get('isPC');\n  var buildChildControl = function buildChildControl(_ctrlType) {\n    var _parentId = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _id;\n    var formInfo = arguments.length > 2 ? arguments[2] : undefined;\n    var newId = (0, _utils.createNewId)();\n    var key = (0, _utils.createNewKey)(uiInfo, _ctrlType);\n    uiInfo = addControl(uiInfo, {\n      _id: newId,\n      key: key,\n      ctrlType: _ctrlType,\n      parentId: _parentId,\n      uiConfig: uiConfig,\n      formInfo: formInfo\n    });\n    return newId;\n  };\n  if (ctrlType === 'SearchAp') {\n    // todo:pc端搜索控件添加默认样式\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: _id,\n      propName: 'Width',\n      value: '200px',\n      metaType: 'formmeta'\n    })(uiInfo);\n  }\n  if (ctrlType === 'TreeViewAp') {\n    // 新增树默认打开大数据优化\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: _id,\n      propName: 'BigDataRender',\n      value: true,\n      metaType: 'formmeta'\n    })(uiInfo);\n  }\n  if (ctrlType === 'EntryFieldAp') {\n    // 新增分录字段，需要新增平铺视图的对应字段\n    var colPanelInfo = _model.uiModel.getParentControl(uiInfo, _id, 'EntryAp');\n    if (colPanelInfo) {\n      var panelId = colPanelInfo.get(_propnames.ID);\n      var showFlatPanel = _model.uiModel.getPropertyValue(uiInfo, panelId, 'ShowFlatPanel', 'formmeta', uiConfig);\n      if (showFlatPanel) {\n        var items = colPanelInfo.get(_propnames.ITEMS);\n        var gridFlatPanel = items && items.filter(function (item) {\n          return item.get('Type') === 'GridFlatPanelAp';\n        });\n        if (gridFlatPanel.size > 0) {\n          uiInfo = updateGridFlatPanel(uiInfo, colPanelInfo, gridFlatPanel, uiConfig);\n        } else {\n          uiInfo = createGridFlatPanel(uiInfo, colPanelInfo, uiConfig);\n        }\n      }\n    }\n  }\n  if (ctrlType === 'MarkdownAp') {\n    // 旧版设计器，新增markdown控件时，新增defoc属性，默认为false\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: _id,\n      propName: 'defoc',\n      value: false,\n      metaType: 'formmeta'\n    })(uiInfo);\n  }\n\n  // 嵌套子单据体添加时默认宽度修改为100%\n  if (fieldType === 'EmbedSubEntryEntity') {\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: _id,\n      propName: 'Width',\n      value: '100%',\n      metaType: 'formmeta'\n    })(uiInfo);\n  }\n  if (fieldType === 'StepperField') {\n    // 步进器掩码默认值为#\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: _id,\n      propName: 'AdvFormatString',\n      value: '#',\n      metaType: 'formmeta'\n    })(uiInfo);\n  }\n\n  // 富文本字段，在字段布局面板中,更改FullLine默认属性值为true\n  if (fieldType === 'RichTextField') {\n    var parentFormInfo = _model.uiModel.getFormFieldInfo(uiInfo, parentId);\n    var parentType = parentFormInfo && parentFormInfo.get(_propnames._TYPE_);\n    if (parentType === 'FieldsetPanelAp') {\n      uiInfo = _model.uiModel.updatePropValue({\n        fieldId: _id,\n        propName: 'FullLine',\n        value: true,\n        metaType: 'formmeta'\n      })(uiInfo);\n    }\n  }\n  if (!isPC && fieldType === 'TextAreaField' && ['FieldAp', 'CardEntryFieldAp'].includes(ctrlType)) {\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: _id,\n      propName: 'MobShowLines',\n      value: 3,\n      metaType: 'formmeta'\n    })(uiInfo);\n  }\n  if (!isPC && fieldType === 'PictureField') {\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: _id,\n      propName: 'EditPreview',\n      value: true,\n      metaType: 'formmeta'\n    })(uiInfo);\n  }\n  if (!isPC && fieldType === 'PictureField' && ['CardEntryFieldAp'].includes(ctrlType)) {\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: _id,\n      propName: 'MobCanUpload',\n      value: true,\n      metaType: 'formmeta'\n    })(uiInfo);\n  }\n\n  // 新增控件时设置默认压缩比\n  var defaultShrinkToZeroCrtlType = ['ButtonAp', 'LabelAp', 'HyperlinkAp', 'ImageAp', 'VectorAp', 'QRCodeAp', 'IFrameAp', 'HtmlAp', 'ProgressBarAp', 'CarouselFigureAp', 'RateAp', 'MapControlAp', 'AudioAp', 'VideoAp', 'CustomControlAp', 'SliderAp', 'StepsAp', 'SegmentedControlAp', 'CountDownAp', 'MobileSearchAp', 'MBlockMenuAp', 'BarChartAp', 'HistogramChartAp', 'PieChartAp', 'PointLineChartAp', 'RadarChartAp', 'CustomChartAp', 'GaugeChartAp'];\n  if (!isPC && defaultShrinkToZeroCrtlType.includes(ctrlType)) {\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: _id,\n      propName: 'Shrink',\n      value: 0,\n      metaType: 'formmeta'\n    })(uiInfo);\n  }\n  if (!isPC && (Object.is(ctrlType, 'FieldAp') || Object.is(ctrlType, 'CardEntryFieldAp'))) {\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: _id,\n      propName: 'MobFieldPattern',\n      value: 1,\n      metaType: 'formmeta'\n    })(uiInfo);\n    if (fieldType === 'TelephoneField') {\n      uiInfo = _model.uiModel.updatePropValue({\n        fieldId: _id,\n        propName: 'MobFieldOpenSelector',\n        value: true,\n        metaType: 'formmeta'\n      })(uiInfo);\n    }\n  }\n\n  // 新增列布局时默认添加列\n  if (ctrlType === 'ColumnPanelAp') {\n    var cols = _model.metadataModel.getControlPropertyDefaultValue('ColumnPanelAp', 'Cols', uiConfig).defaultValue;\n    for (var i = 0; i < cols; i++) {\n      buildChildControl('ColumnAp');\n    }\n  } else if (ctrlType === 'SpreadAp') {\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: _id,\n      propName: 'Height',\n      value: '500px',\n      metaType: 'formmeta'\n    })(uiInfo);\n  } else if (ctrlType === 'MBlockMenuAp') {\n    var _cols = _model.metadataModel.getControlPropertyDefaultValue('MBlockMenuAp', 'Cols', uiConfig).defaultValue;\n    for (var _i = 0; _i < _cols; _i++) {\n      buildChildControl('MBlockMenuItemAp');\n    }\n  } else if (ctrlType === 'TabAp') {\n    buildChildControl('TabPageAp');\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: _id,\n      propName: 'Shrink',\n      value: 0,\n      metaType: 'formmeta'\n    })(uiInfo);\n    if (isPC) {\n      uiInfo = _model.uiModel.updatePropValue({\n        fieldId: _id,\n        propName: 'TabStyle',\n        value: 3,\n        metaType: 'formmeta'\n      })(uiInfo);\n      uiInfo = _model.uiModel.updatePropValue({\n        fieldId: _id,\n        propName: 'BackColor',\n        value: _themeVariableNameConst.CONTAINER_BACKGROUND_COLOR,\n        metaType: 'formmeta'\n      })(uiInfo);\n    } else {\n      // 显示风格为“等分”\n      uiInfo = _model.uiModel.updatePropValue({\n        fieldId: _id,\n        propName: 'TabStyle',\n        value: 1,\n        metaType: 'formmeta'\n      })(uiInfo);\n    }\n  } else if (ctrlType === 'SuspendButtonAp') {\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: _id,\n      propName: 'Height',\n      value: '48px',\n      metaType: 'formmeta'\n    })(uiInfo);\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: _id,\n      propName: 'Width',\n      value: '48px',\n      metaType: 'formmeta'\n    })(uiInfo);\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: _id,\n      propName: 'FloatPos',\n      value: 8,\n      metaType: 'formmeta'\n    })(uiInfo); // 右下角\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: _id,\n      propName: 'OffsetH',\n      value: '-12px',\n      metaType: 'formmeta'\n    })(uiInfo);\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: _id,\n      propName: 'OffsetV',\n      value: '-24px',\n      metaType: 'formmeta'\n    })(uiInfo);\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: _id,\n      propName: 'TextBtnIcon',\n      value: 'kdfont kdfont-zengjia3',\n      metaType: 'formmeta'\n    })(uiInfo);\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: _id,\n      propName: 'FontSize',\n      value: '16',\n      metaType: 'formmeta'\n    })(uiInfo);\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: _id,\n      propName: 'BackColor',\n      value: 'themeColor',\n      metaType: 'formmeta'\n    })(uiInfo);\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: _id,\n      propName: 'ForeColor',\n      value: '#fff',\n      metaType: 'formmeta'\n    })(uiInfo);\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: _id,\n      propName: 'Pinned',\n      value: true,\n      metaType: 'formmeta'\n    })(uiInfo);\n  } else if (ctrlType === 'MobileSearchAp') {\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: _id,\n      propName: 'ShowCancelButton',\n      value: true,\n      metaType: 'formmeta'\n    })(uiInfo);\n  } else if (ctrlType === 'GuidePageAp') {\n    buildChildControl('GuideItemAp');\n  } else if (ctrlType === 'SplitContainerAp') {\n    buildChildControl('SplitPanelAp');\n    buildChildControl('SplitPanelAp');\n  } else if (ctrlType === 'MToolbarAp') {\n    buildChildControl('MBarItemAp');\n    buildChildControl('MBarItemAp');\n    var _parentFormInfo = _model.uiModel.getFormFieldInfo(uiInfo, parentId);\n    var _parentType = _parentFormInfo && _parentFormInfo.get(_propnames._TYPE_);\n    if (!cardContainer.includes(_parentType)) {\n      uiInfo = _model.uiModel.updatePropValue({\n        fieldId: _id,\n        propName: 'Position',\n        value: 2,\n        metaType: 'formmeta'\n      })(uiInfo);\n    }\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: _id,\n      propName: 'TextStyle',\n      value: 0,\n      metaType: 'formmeta'\n    })(uiInfo);\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: _id,\n      propName: 'Shrink',\n      value: 0,\n      metaType: 'formmeta'\n    })(uiInfo);\n    // 新增的控件存在方案，默认打开方案页签\n    switchPropTab(ctrlType, {\n      isPC: isPC,\n      parentType: _parentType\n    });\n    return uiInfo;\n  } else if (ctrlType === 'ToolbarAp') {\n    buildChildControl('BarItemAp');\n    buildChildControl('BarItemAp');\n    buildChildControl('BarItemAp');\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: _id,\n      propName: 'Shrink',\n      value: 0,\n      metaType: 'formmeta'\n    })(uiInfo);\n  } else if (ctrlType === 'AdvConAp') {\n    // 高级面板\n    buildChildControl('AdvConSummaryPanelAp'); // 折叠摘要，放到高级面板设计期中\n    var barId = buildChildControl('AdvConToolbarAp');\n    buildChildControl('AdvConBarItemAp', barId);\n    buildChildControl('AdvConBarItemAp', barId);\n    var _panelId = buildChildControl('AdvConChildPanelAp');\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: _id,\n      propName: 'Shrink',\n      value: 0,\n      metaType: 'formmeta'\n    })(uiInfo);\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: _id,\n      propName: 'Grow',\n      value: 0,\n      metaType: 'formmeta'\n    })(uiInfo);\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: _id,\n      propName: 'Collapsible',\n      value: true,\n      metaType: 'formmeta'\n    })(uiInfo);\n    if (isPC) {\n      uiInfo = _model.uiModel.updatePropValue({\n        fieldId: _id,\n        propName: 'BackColor',\n        value: _themeVariableNameConst.CONTAINER_BACKGROUND_COLOR,\n        metaType: 'formmeta'\n      })(uiInfo);\n    }\n    params._id = _panelId;\n  } else if (ctrlType === 'BillListAp') {\n    if (isPC) {\n      buildChildControl('ListGridViewAp');\n    }\n    // pc端新增列表卡片默认值修改\n    if (isPC) {\n      var viewId = buildChildControl('ListCardViewAp', _id, {\n        LayoutStyle: 2,\n        AlignContent: 'flex-start',\n        AlignItems: 'flex-start',\n        JustifyContent: 'flex-start'\n      });\n      buildChildControl('CardRowPanelAp', viewId, {\n        Shrink: 0,\n        Grow: 0,\n        Height: '250px',\n        Width: '300px'\n      });\n    } else {\n      var columnLayout = {\n        Direction: 'column',\n        JustifyContent: 'flex-start',\n        AlignItems: 'stretch',\n        Wrap: false\n      };\n      var _viewId = buildChildControl('ListCardViewAp', _id, _objectSpread({\n        LayoutStyle: 2\n      }, columnLayout));\n      buildChildControl('CardRowPanelAp', _viewId, columnLayout);\n      // 修复移动端单据列表无法滚动加载更多的问题\n      uiInfo = _model.uiModel.updatePropValue({\n        fieldId: _id,\n        propName: 'Height',\n        value: '0px',\n        metaType: 'formmeta'\n      })(uiInfo);\n    }\n  } else if (ctrlType === 'CardEntryAp' || ctrlType === 'SubCardEntryAp') {\n    if (isPC) {\n      // pc端新增分录卡片默认值修改\n      // 固定卡片初始为隐藏并可见性设置为空\n      var _viewId2 = buildChildControl('CardEntryViewAp');\n      buildChildControl('CardEntryFixRowAp', _viewId2, {\n        CardType: 0,\n        Hidden: true,\n        Shrink: 0,\n        Grow: 0,\n        Height: '250px',\n        Width: '300px'\n      });\n      buildChildControl('CardEntryRowAp', _viewId2, {\n        CardType: 1,\n        Shrink: 0,\n        Grow: 0,\n        Height: '250px',\n        Width: '300px'\n      });\n      buildChildControl('CardEntryFixRowAp', _viewId2, {\n        CardType: 0,\n        Hidden: true,\n        Shrink: 0,\n        Grow: 0,\n        Height: '250px',\n        Width: '300px'\n      });\n    } else {\n      uiInfo = _model.uiModel.updatePropValue({\n        fieldId: _id,\n        propName: 'Grow',\n        value: 0,\n        metaType: 'formmeta'\n      })(uiInfo);\n      uiInfo = _model.uiModel.updatePropValue({\n        fieldId: _id,\n        propName: 'Shrink',\n        value: 0,\n        metaType: 'formmeta'\n      })(uiInfo);\n      // 移动端卡片分录视图、卡片、固定卡片 的默认布局修改成垂直方向\n      var _columnLayout = {\n        Direction: 'column',\n        JustifyContent: 'flex-start',\n        AlignItems: 'stretch',\n        Wrap: false\n      };\n      var _viewId3 = buildChildControl('CardEntryViewAp', _id, _columnLayout);\n      buildChildControl('CardEntryFixRowAp', _viewId3, _objectSpread({\n        CardType: 0,\n        Hidden: true,\n        Shrink: 0,\n        Grow: 0\n      }, _columnLayout));\n      buildChildControl('CardEntryRowAp', _viewId3, _objectSpread({\n        CardType: 1,\n        Shrink: 0,\n        Grow: 0,\n        afterAddControlNotify: {\n          controlId: _id,\n          type: ctrlType\n        }\n      }, _columnLayout));\n      var fixFooterCardId = buildChildControl('CardEntryFixRowAp', _viewId3, _objectSpread({\n        CardType: 0,\n        Hidden: false,\n        Shrink: 0,\n        Grow: 0\n      }, _columnLayout));\n      var fixFooterCardToolbarId = buildChildControl('MToolbarAp', fixFooterCardId, {\n        Height: '36px'\n      });\n      buildChildControl('MBarItemAp', fixFooterCardToolbarId, {\n        BackColor: 'rgba(255,255,255,0)',\n        ForeColor: 'themeColor',\n        afterAddControlNotify: {\n          controlId: _id,\n          type: ctrlType\n        }\n      });\n    }\n  } else if (Object.is(ctrlType, 'CardEntryFieldAp') && Object.is(fieldType, 'AttachmentField')) {\n    // 卡片分录附件字段，显示标题属性改为默认false\n    if (isPC) {\n      uiInfo = _model.uiModel.updatePropValue({\n        fieldId: _id,\n        propName: 'ShowTitle',\n        value: false,\n        metaType: 'formmeta'\n      })(uiInfo);\n    }\n  } else if (Object.is(ctrlType, 'FieldAp') && Object.is(fieldType, 'AttachmentField')) {\n    // 单据头附件字段，显示标题属性改为默认false；即时更新属性设为true\n    if (isPC) {\n      uiInfo = _model.uiModel.updatePropValue({\n        fieldId: _id,\n        propName: 'ShowTitle',\n        value: false,\n        metaType: 'formmeta'\n      })(uiInfo);\n    }\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: _id,\n      propName: 'FireUpdEvt',\n      value: true,\n      metaType: 'formmeta'\n    })(uiInfo);\n  } else if ((Object.is(ctrlType, 'FieldAp') || Object.is(ctrlType, 'CardEntryFieldAp')) && (Object.is(fieldType, 'DateRangeField') || Object.is(fieldType, 'DateField'))) {\n    // 日期范围 默认使用滚轮\n    if (!isPC) {\n      uiInfo = _model.uiModel.updatePropValue({\n        fieldId: _id,\n        propName: 'DateSelectType',\n        value: 1,\n        metaType: 'formmeta'\n      })(uiInfo);\n    }\n  } else if (Object.is(ctrlType, 'FieldAp') && Object.is(fieldType, 'RadioField')) {\n    /**\n     * 添加单选按钮增加优化交互需求\n     * 新建一个单选按钮，分两种情况\n     * 1. 已经存在单选按钮组，新建的单选按钮和已存在的按钮组关联\n     * 2. 不存在单选按钮组，新建一个按钮组，并将单选按钮和它关联\n     * 3. 为单选按钮设置初始默认值\n     */\n    var radioGroupId = _getRadioGroupId(fieldId, uiInfo, ctrlType, _id);\n    if (Object.is(radioGroupId, null) || Object.prototype.toString.call(radioGroupId) === '[object Object]') {\n      // 不存在按钮组，新建按钮组，并和单选按钮关联；如果实体中有按钮组，优先取实体按钮组的id\n      var newId = (0, _utils.createNewId)();\n      if (Object.prototype.toString.call(radioGroupId) === '[object Object]') {\n        newId = radioGroupId.newid;\n      }\n      radioGroupId = newId;\n      var key = (0, _utils.createNewKey)(uiInfo, 'RadioGroupField');\n      uiInfo = addControl(uiInfo, {\n        _id: newId,\n        key: key,\n        ctrlType: 'FieldAp',\n        fieldType: 'RadioGroupField',\n        parentId: parentId,\n        uiConfig: uiConfig\n      });\n      // 单选按钮新增Group属性和按钮组关联\n      uiInfo = _model.uiModel.updatePropValue({\n        fieldId: _id,\n        propName: 'Group',\n        value: newId,\n        metaType: 'entitymeta'\n      })(uiInfo);\n    } else {\n      // 已经存在按钮组，和单选按钮关联\n      uiInfo = _model.uiModel.updatePropValue({\n        fieldId: _id,\n        propName: 'Group',\n        value: radioGroupId,\n        metaType: 'entitymeta'\n      })(uiInfo);\n    }\n    uiInfo = _setDefaultRadioValue(_id, radioGroupId, uiInfo, uiConfig);\n  } else if (Object.is(ctrlType, 'CardEntryFieldAp') && Object.is(fieldType, 'RadioField')) {\n    /**\n     * 添加单选按钮增加优化交互需求\n     * 新建一个单选按钮，分两种情况\n     * 1. 已经存在单选按钮组，新建的单选按钮和已存在的按钮组关联\n     * 2. 不存在单选按钮组，新建一个按钮组，并将单选按钮和它关联\n     * 3. 为单选按钮设置初始默认值\n     */\n    var _radioGroupId = _getRadioGroupId(fieldId, uiInfo, ctrlType, _id);\n    if (Object.is(_radioGroupId, null) || Object.prototype.toString.call(_radioGroupId) === '[object Object]') {\n      // 不存在按钮组，新建按钮组，并和单选按钮关联；如果实体中有按钮组，优先取实体按钮组的id\n      var _newId = (0, _utils.createNewId)();\n      if (Object.prototype.toString.call(_radioGroupId) === '[object Object]') {\n        _newId = _radioGroupId.newid;\n      }\n      _radioGroupId = _newId;\n      var _key = (0, _utils.createNewKey)(uiInfo, 'RadioGroupField');\n      uiInfo = addControl(uiInfo, {\n        _id: _newId,\n        key: _key,\n        ctrlType: 'CardEntryFieldAp',\n        fieldType: 'RadioGroupField',\n        parentId: parentId,\n        uiConfig: uiConfig\n      });\n      // 单选按钮新增Group属性和按钮组关联\n      uiInfo = _model.uiModel.updatePropValue({\n        fieldId: _id,\n        propName: 'Group',\n        value: _newId,\n        metaType: 'entitymeta'\n      })(uiInfo);\n    } else {\n      // 已经存在按钮组，和单选按钮关联\n      uiInfo = _model.uiModel.updatePropValue({\n        fieldId: _id,\n        propName: 'Group',\n        value: _radioGroupId,\n        metaType: 'entitymeta'\n      })(uiInfo);\n    }\n    uiInfo = _setDefaultRadioValue(_id, _radioGroupId, uiInfo, uiConfig);\n  } else if (ctrlType === 'LayoutFlexAp') {\n    // 不扩展\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: _id,\n      propName: 'Grow',\n      value: 0,\n      metaType: 'formmeta'\n    })(uiInfo);\n  } else if (_lodash[\"default\"].endsWith(ctrlType, 'ChartAp')) {\n    // 图标控件初始化默认宽高250px\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: _id,\n      propName: 'Width',\n      value: '250px',\n      metaType: 'formmeta'\n    })(uiInfo);\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: _id,\n      propName: 'Height',\n      value: '250px',\n      metaType: 'formmeta'\n    })(uiInfo);\n  } else if (ctrlType === 'FieldsetPanelAp') {\n    if (isPC) {\n      uiInfo = _model.uiModel.updatePropValue({\n        fieldId: _id,\n        propName: 'BackColor',\n        value: _themeVariableNameConst.CONTAINER_BACKGROUND_COLOR,\n        metaType: 'formmeta'\n      })(uiInfo);\n    }\n  } else if (ctrlType === 'MTabBarAp') {\n    var tabbarItemId = buildChildControl('MTabBarItemAp');\n    var tabbarFormId = buildChildControl('MTabBarFormAp');\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: tabbarItemId,\n      propName: 'DefaultIcon',\n      value: 'kdfont-yingyong7',\n      metaType: 'formmeta'\n    })(uiInfo);\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: tabbarItemId,\n      propName: 'Direction',\n      value: 'column',\n      metaType: 'formmeta'\n    })(uiInfo);\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: tabbarItemId,\n      propName: 'Wrap',\n      value: false,\n      metaType: 'formmeta'\n    })(uiInfo);\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: tabbarItemId,\n      propName: 'AlignItems',\n      value: 'stretch',\n      metaType: 'formmeta'\n    })(uiInfo);\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: tabbarFormId,\n      propName: 'DefaultIcon',\n      value: 'kdfont-dingdan6',\n      metaType: 'formmeta'\n    })(uiInfo);\n  } else if (ctrlType === 'MTabBarItemAp') {\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: _id,\n      propName: 'Direction',\n      value: 'column',\n      metaType: 'formmeta'\n    })(uiInfo);\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: _id,\n      propName: 'Wrap',\n      value: false,\n      metaType: 'formmeta'\n    })(uiInfo);\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: _id,\n      propName: 'AlignItems',\n      value: 'stretch',\n      metaType: 'formmeta'\n    })(uiInfo);\n  } else if (fieldType === 'PrintCountField') {\n    // 新增打印次数字段时，默认为真实打印次数\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: _id,\n      propName: 'RecordModel',\n      value: 'print',\n      metaType: 'entitymeta'\n    })(uiInfo);\n  } else if (ctrlType === 'WizardAp') {\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: _id,\n      propName: 'NodeLinkageSubTab',\n      value: true,\n      metaType: 'formmeta'\n    })(uiInfo);\n  }\n  // else if(ctrlType === 'MessageCarouselContainerAp'){\n  //   buildChildControl('MessageCarouselPanelAp');\n  // }\n  // 新增的控件存在方案，默认打开方案页签\n  switchPropTab(ctrlType, {\n    isPC: isPC,\n    fieldType: fieldType\n  });\n  // 移动端Flex面板、卡片布局容器（分录）、卡片布局容器（单据列表）、固定卡片布局容器 的默认布局修改成垂直方向\n  if (!isPC && ['FlexPanelAp', 'CardEntryFlexPanelAp', 'CardFlexPanelAp', 'CardEntryFixRowPanelAp'].includes(ctrlType)) {\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: _id,\n      propName: 'Direction',\n      value: 'column',\n      metaType: 'formmeta'\n    })(uiInfo);\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: _id,\n      propName: 'JustifyContent',\n      value: 'flex-start',\n      metaType: 'formmeta'\n    })(uiInfo);\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: _id,\n      propName: 'AlignItems',\n      value: 'stretch',\n      metaType: 'formmeta'\n    })(uiInfo);\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: _id,\n      propName: 'Wrap',\n      value: false,\n      metaType: 'formmeta'\n    })(uiInfo);\n  }\n  return uiInfo;\n}\nfunction switchPropTab(ctrlType, _ref3) {\n  var isPC = _ref3.isPC,\n    _ref3$parentType = _ref3.parentType,\n    parentType = _ref3$parentType === void 0 ? '' : _ref3$parentType,\n    fieldType = _ref3.fieldType;\n  var type = isPC ? ctrlType : 'Mobile' + ctrlType;\n  if ((0, _index2.hasSchemes)(type, {\n    parentType: parentType,\n    fieldType: fieldType\n  })) {\n    (0, _GlobalDataCacher.setData)(_symbolConst.KEY_OPEN_TEMPLATE_SCHEME, true);\n  }\n}\n\n/**\n * 为单选按钮设置默认值\n * 找到下拉项中已经存在的最大数加1为默认值\n * @param {string} _id 控件ID\n * @param {string} radioGroupId 按钮组ID\n * @param {object} uiInfo ui对象\n * @param {object} uiConfig uiConfig对象\n */\nvar _setDefaultRadioValue = function _setDefaultRadioValue(_id, radioGroupId, uiInfo, uiConfig) {\n  var entityItems = uiInfo.getIn(['entitymeta', 'Items']) || new _immutable.List();\n  var radioName = _model.uiModel.getPropertyValue(uiInfo, _id, 'Name', 'entitymeta', uiConfig);\n  var radioGroupItems = _model.uiModel.getPropertyValue(uiInfo, radioGroupId, 'Items', 'entitymeta', uiConfig) || new _immutable.List();\n  var defaultValue = entityItems.filter(function (entity) {\n    return entity.get(_propnames._TYPE_) === 'RadioField';\n  }).count() + '';\n  uiInfo = _model.uiModel.updatePropValue({\n    fieldId: _id,\n    propName: 'Items',\n    value: defaultValue,\n    metaType: 'entitymeta'\n  })(uiInfo);\n  uiInfo = _model.uiModel.updatePropValue({\n    fieldId: radioGroupId,\n    propName: 'Items',\n    value: radioGroupItems.push({\n      Caption: radioName,\n      Value: defaultValue,\n      _Type_: 'ComboItem'\n    }).toArray(),\n    metaType: 'entitymeta'\n  })(uiInfo);\n  return uiInfo;\n};\n\n/**\n * 从实体元数据获得单选按钮组ID\n * @param {object} entityMeta 实体元数据\n */\nvar _getRadioGroupId = function _getRadioGroupId(fileId, uiInfo, ctrlType, id) {\n  var entityMeta = _model.uiModel.getEntitymeta(uiInfo);\n  var radioGroupId = null;\n  var _entity = entityMeta.filter(function (item) {\n    var _ctrlId = item.get('Id');\n    return Object.is(_ctrlId, fileId);\n  });\n  if (_entity.size > 0) {\n    var groupId = _entity.get(0).get('Group');\n    var _ctrlFormInfo = _model.uiModel.getFormFieldInfo(uiInfo, groupId);\n    if (_ctrlFormInfo) {\n      radioGroupId = groupId;\n    } else {\n      radioGroupId = {\n        newid: groupId,\n        isNew: true\n      };\n    }\n    return radioGroupId;\n  } else {\n    var _uiModel$getParentCon;\n    var parentControlId = (_uiModel$getParentCon = _model.uiModel.getParentControl(uiInfo, id)) === null || _uiModel$getParentCon === void 0 ? void 0 : _uiModel$getParentCon.get('Id');\n    var parentEntityId = _model.uiModel.getParentEntityId(uiInfo, parentControlId);\n    var entity = entityMeta.filter(function (item) {\n      var _ctrlId = item.get('Id');\n      var _ctrlFormInfo = _model.uiModel.getFormFieldInfo(uiInfo, _ctrlId);\n      var _ctrlType = _ctrlFormInfo && _ctrlFormInfo.get('_Type_');\n      if (ctrlType === 'CardEntryFieldAp') {\n        var _uiModel$getParentCon2;\n        var itemParentControlId = (_uiModel$getParentCon2 = _model.uiModel.getParentControl(uiInfo, _ctrlId)) === null || _uiModel$getParentCon2 === void 0 ? void 0 : _uiModel$getParentCon2.get('Id');\n        var itemParentEntityId = _model.uiModel.getParentEntityId(uiInfo, itemParentControlId);\n        return Object.is(item.get('_Type_'), 'RadioGroupField') && Object.is(_ctrlType, ctrlType) && parentEntityId === itemParentEntityId;\n      } else {\n        return Object.is(item.get('_Type_'), 'RadioGroupField') && Object.is(_ctrlType, ctrlType);\n      }\n    });\n    // 如果有已存在多个按钮组，获取第一个\n    radioGroupId = entity.size > 0 && entity.get(0).get('Id') || null;\n    return radioGroupId;\n  }\n};\n/** ***添加控件功能 end*****/\n\n/** ***根据实体添加控件功能 begin*****/\nfunction addFieldControlAction(state, action) {\n  var uiInfo = state.get('uiInfo');\n  var uiConfig = action.uiConfig,\n    fieldInfo = action.fieldInfo;\n  var _id = fieldInfo[_propnames.ID];\n  if (_id) {\n    var index = fieldInfo.TargetIndex;\n    if (!isNaN(index) && (fieldInfo === null || fieldInfo === void 0 ? void 0 : fieldInfo.insertedmode) !== 'forward') index++;\n    delete fieldInfo.TargetIndex;\n    var ctrlType = fieldInfo[_propnames._TYPE_] || fieldInfo[_propnames.TYPE];\n    var parentId = fieldInfo.ParentId,\n      fieldName = fieldInfo.Name,\n      key = fieldInfo.Key,\n      fieldType = fieldInfo.FieldType;\n\n    // 后端代码添加实体控件信息\n    // state = addFieldControlByBgEnd(state, action)\n    var params = {\n      state: state,\n      parentId: parentId,\n      index: index,\n      fieldName: fieldName,\n      ctrlType: ctrlType,\n      fieldType: fieldType,\n      _id: _id,\n      key: key,\n      uiConfig: uiConfig,\n      fieldInfo: fieldInfo\n    };\n    state = state.update('uiInfo', function (uiInfo) {\n      return (0, _common.actionWrap)(addFieldControlByBgEnd, beforeAddFieldControlByBgEnd, afterAddFieldControlByBgEnd)(uiInfo, params);\n    });\n  } else {\n    _id = (0, _utils.createNewId)();\n    var _parentId2 = fieldInfo.ParentId,\n      _fieldName = fieldInfo.Name,\n      _fieldType = fieldInfo.FieldType,\n      fieldId = fieldInfo.FieldId,\n      _key2 = fieldInfo.Key,\n      _ctrlType2 = fieldInfo._Type_;\n    _parentId2 = _parentId2 || _model.uiModel.getRootId(uiInfo);\n    var targetContainerInfo = _model.uiModel.getContainerControl(uiInfo, _parentId2, true, uiConfig);\n    if (!targetContainerInfo) return state;\n    _parentId2 = targetContainerInfo.control.get(_propnames.ID);\n    var parentType = targetContainerInfo.control.get(_propnames.TYPE);\n    var _index = targetContainerInfo.targetIndex;\n    if (!isNaN(_index)) _index++;\n    _ctrlType2 = _ctrlType2 || 'FieldAp';\n    var isPC = uiInfo.get('isPC');\n    if (_fieldType === 'EntryEntity' || _fieldType === 'SubEntryEntity') {\n      _ctrlType2 = isPC ? 'EntryAp' : 'CardEntryAp';\n    } else if (_fieldType === 'TreeEntryEntity' && isPC) {\n      _ctrlType2 = 'EntryAp';\n    } else if (_fieldType === 'NameCombineEntity') {\n      _ctrlType2 = 'NameCombinePanelAp';\n    }\n    var configCardEntryField = _model.metadataModel.getConfigFieldByType(uiConfig, 'CardEntryFieldAp');\n    var acceptParent = configCardEntryField && configCardEntryField.get('AcceptParent');\n    var acceptIds = acceptParent && acceptParent.get('ids', (0, _immutable.List)());\n    if (acceptIds && acceptIds.size > 0 && acceptIds.includes(parentType)) {\n      _ctrlType2 = 'CardEntryFieldAp';\n    }\n    if (!canAddFieldControl(uiInfo, {\n      parentId: _parentId2,\n      fieldType: _fieldType,\n      ctrlType: _ctrlType2,\n      fieldId: fieldId,\n      uiConfig: uiConfig\n    })) {\n      var msg = (0, _intlApi.getLangMsg)({\n        key: 'bosd.defaultReducer.key0001',\n        variables: {\n          type: _fieldType\n        }\n      });\n      throw {\n        message: msg,\n        type: 'warning'\n      };\n    }\n    var _params2 = {\n      state: state,\n      parentId: _parentId2,\n      index: _index,\n      fieldName: _fieldName,\n      fieldType: _fieldType,\n      ctrlType: _ctrlType2,\n      fieldId: fieldId,\n      _id: _id,\n      key: _key2,\n      uiConfig: uiConfig\n    };\n    state = state.update('uiInfo', function (uiInfo) {\n      return (0, _common.actionWrap)(addFieldControl, beforeAddControl, afterAddControl)(uiInfo, _params2);\n    });\n  }\n  return (0, _common.setSelectControlId)(state, _id);\n}\n\n// 根据实体添加多个字段\nfunction addFieldControlsAction(state, action) {\n  var uiConfig = action.uiConfig,\n    fieldsInfo = action.fieldsInfo;\n  return fieldsInfo.reduce(function (state, fieldInfo) {\n    return addFieldControlAction(state, {\n      uiConfig: uiConfig,\n      fieldInfo: fieldInfo\n    });\n  }, state);\n}\nfunction isDirectChildren(uiInfo, fieldId, parentField) {\n  var parentType = parentField.get(_propnames.TYPE);\n  if (parentType === 'EntryAp' || parentType === 'EmbedSubEntryAp') {\n    var parentId = parentField.get(_propnames.ID);\n    var formmetaItem = _model.uiModel.getFormFieldInfo(uiInfo, parentId);\n    if (formmetaItem) {\n      var entityId = formmetaItem.get('EntryId');\n      var entityTreeInfo = _model.uiModel.getEntityTreeInfo(uiInfo, entityId);\n      if (entityTreeInfo) {\n        return entityTreeInfo.get(_propnames.ITEMS, (0, _immutable.List)()).find(function (item) {\n          return item.get(_propnames.ID) === fieldId;\n        });\n      }\n    }\n  } else {\n    return false;\n  }\n}\n\n// 判断是否是单据头字段\nfunction isDanjutouField(uiInfo, fieldId) {\n  var entityId = _model.uiModel.getEntityRootId(uiInfo);\n  var entityTreeInfo = _model.uiModel.getEntityTreeInfo(uiInfo, entityId);\n  var index = entityTreeInfo.get(_propnames.ITEMS).findIndex(function (item) {\n    return item.get(_propnames.ID) === fieldId;\n  });\n  return index > -1;\n}\nfunction canAddFieldControl(uiInfo, _ref4) {\n  var parentId = _ref4.parentId,\n    fieldType = _ref4.fieldType,\n    ctrlType = _ref4.ctrlType,\n    fieldId = _ref4.fieldId,\n    uiConfig = _ref4.uiConfig;\n  if (fieldType === 'BillEntity') return false;\n  var parentField = _model.uiModel.getUIFieldInfo(uiInfo, parentId);\n  var parentType = parentField.get(_propnames.TYPE);\n  var isDanjutoufield = isDanjutouField(uiInfo, fieldId) || fieldType === 'SubEntryEntity';\n  if (parentType === 'FieldAp') return false;\n  if (parentType === 'EntryAp' || parentType === 'EmbedSubEntryAp') {\n    if (fieldType === 'EntryEntity' || fieldType === 'SubEntryEntity') {\n      return false;\n    }\n    // no direct children return false;\n    if (!isDirectChildren(uiInfo, fieldId, parentField)) {\n      return false;\n    }\n  } else if (parentType === 'CardEntryRowAp' || parentType === 'CardEntryFlexPanelAp') {\n    // 移动表单的卡片分录禁止添加单据头的字段\n    // isAddedFromCurrentEntity--移动表单，单据体添加字段仅能从本单据体实体添加\n    if (isDanjutoufield || isAddedFromCurrentEntity(uiInfo, fieldId, parentId, 'CardEntryAp')) {\n      return false;\n    }\n  } else if (['MobileBillFormAp', 'TabPageAp', 'FlexPanelAp', 'LayoutFlexAp'].includes(parentType)) {\n    // 移动表单的单据头|页签面板|Flex面板|字段布局容器 不允许添加单据体的字段\n    if (!isDanjutoufield) {\n      return false;\n    }\n  } else if (parentType === 'NameCombinePanelAp' && fieldType === 'NameCombineEntity') {\n    return false;\n  }\n  return (0, _common.canAddControl)(uiInfo, {\n    parentId: parentId,\n    ctrlType: ctrlType,\n    fieldType: fieldType,\n    uiConfig: uiConfig\n  });\n}\n\n// 移动表单，多单据体卡片分录插入字段合法性校验(单据a字段不能插入单据b)根据实体id做判断\nfunction isAddedFromCurrentEntity(uiInfo, entityId, parentId, type) {\n  // 获取父实体（entitytree）信息\n  var entityParentInfo = _model.uiModel.getEntityParentTreeInfo(uiInfo, entityId);\n  var entryId = entityParentInfo.get('Id');\n  // 获取当前添加字段ui信息中的卡片信息\n  var formInfo = _model.uiModel.getParentControl(uiInfo, parentId, type);\n  var uiFeildId = formInfo.get('Id');\n  // 获取当前卡片的实体id\n  var formFieldInfo = _model.uiModel.getFormFieldInfo(uiInfo, uiFeildId);\n  return entryId !== formFieldInfo.get('EntryId');\n}\nfunction beforeAddFieldControlByBgEnd(uiInfo, params) {\n  var ctrlType = params.ctrlType,\n    fieldInfo = params.fieldInfo;\n  var isPC = uiInfo && uiInfo.get('isPC');\n  if (ctrlType === 'MToolbarAp' && !isPC) {\n    if (fieldInfo !== null && fieldInfo !== void 0 && fieldInfo.isMultipleToolbar) {\n      var rootId = _model.uiModel.getRootId(uiInfo);\n      params.parentId = rootId;\n      fieldInfo[_propnames.PARENTID] = rootId;\n    }\n  }\n  return uiInfo;\n}\n\n// 后台代码生成form数据包，后台生成的不用校验，直接添加\nfunction addFieldControlByBgEnd(uiInfo, _ref5) {\n  var parentId = _ref5.parentId,\n    index = _ref5.index,\n    fieldName = _ref5.fieldName,\n    ctrlType = _ref5.ctrlType,\n    fieldType = _ref5.fieldType,\n    _id = _ref5._id,\n    key = _ref5.key,\n    uiConfig = _ref5.uiConfig,\n    fieldInfo = _ref5.fieldInfo;\n  var fieldInfoKey = (0, _utils.createNewKey)(uiInfo, key || ctrlType);\n  if (fieldInfo !== null && fieldInfo !== void 0 && fieldInfo.LockKey && key) {\n    fieldInfoKey = key;\n  }\n  fieldInfo[_propnames.KEY] = fieldInfoKey;\n  var uiItem = _defineProperty(_defineProperty({}, _propnames.ID, _id), _propnames.TYPE, ctrlType);\n  if (_ctrlTypeList.panelApRelatedEntity.includes(ctrlType)) {\n    fieldInfo[_propnames.TYPE] = ctrlType;\n    uiItem.FieldType = _ctrlTypeList.entityNameOfPanelAp;\n  }\n  if (fieldInfo && fieldInfo[_propnames.TYPE] && fieldInfo[_propnames.TYPE].includes('NameSeg')) {\n    uiItem[_propnames.FieldType] = fieldInfo[_propnames.TYPE];\n  }\n  // 通过createUIElement创建字段时, 完全信赖数据包中的FieldType(真实字段类型)\n  if (fieldType) {\n    uiItem.FieldType = fieldType;\n  }\n  // 在设计器中手动第一次创建高级过滤组件\n  if (ctrlType === 'MobAdvFilterPanelAp') {\n    fieldInfo.isFirstCreate = true;\n  }\n  // 列表过滤不允许添加相同的条件\n  if (['schemefilterview', 'filtergridview', 'fastsearchgridview'].includes(parentId)) {\n    // 通过parentId判断，列表过滤parentId都是固定的\n    var childFieldName = (0, _uiModelFunction.findAllReletiveChildIds)(uiInfo, parentId, 'formmeta').map(function (id) {\n      var childFieldInfo = (0, _commonUiModelFunction.getFieldInfo)(uiInfo, id, 'formmeta');\n      return childFieldInfo === null || childFieldInfo === void 0 ? void 0 : childFieldInfo.get('FieldName');\n    });\n    if (childFieldName.includes(fieldInfo.FieldName)) return uiInfo;\n  }\n  var reverseAdd = (fieldInfo === null || fieldInfo === void 0 ? void 0 : fieldInfo.insertedmode) === 'forward';\n  uiInfo = _model.uiModel.addUIItem(parentId, (0, _immutable.Map)(uiItem), index, reverseAdd)(uiInfo);\n  uiInfo = _model.uiModel.addFormItem((0, _immutable.Map)(fieldInfo))(uiInfo);\n  return _model.uiModel.updateFormIndex(parentId)(uiInfo);\n}\nfunction afterAddFieldControlByBgEnd(uiInfo, params) {\n  var _id = params._id,\n    ctrlType = params.ctrlType,\n    uiConfig = params.uiConfig,\n    fieldInfo = params.fieldInfo;\n  // 新增控件后,调整控件\n  var isPC = uiInfo && uiInfo.get('isPC');\n  // parentId, index, fieldName, ctrlType, fieldType, _id, key, uiConfig\n  var buildChildControl = function buildChildControl(_ctrlType, _parentId) {\n    var newId = (0, _utils.createNewId)();\n    var key = (0, _utils.createNewKey)(uiInfo, _ctrlType);\n    var fieldName = _model.metadataModel.getConfigCtrlName(_ctrlType, uiConfig);\n    var fieldInfo = {\n      Id: newId,\n      Key: key,\n      Name: fieldName || newId,\n      _Type_: _ctrlType,\n      ParentId: _parentId\n    };\n    uiInfo = addFieldControlByBgEnd(uiInfo, {\n      _id: newId,\n      key: key,\n      ctrlType: _ctrlType,\n      fieldName: fieldName,\n      parentId: _parentId,\n      uiConfig: uiConfig,\n      fieldInfo: fieldInfo\n    });\n    return newId;\n  };\n  if (ctrlType === 'MToolbarAp' && !isPC) {\n    if (fieldInfo !== null && fieldInfo !== void 0 && fieldInfo.isMultipleToolbar) {\n      uiInfo = _model.uiModel.updatePropValue({\n        fieldId: _id,\n        propName: 'Position',\n        value: 2,\n        metaType: 'formmeta'\n      })(uiInfo);\n      uiInfo = _model.uiModel.updatePropValue({\n        fieldId: _id,\n        propName: 'ItemStyle',\n        value: 3,\n        metaType: 'formmeta'\n      })(uiInfo);\n      var selectId = buildChildControl('MBarItemAp', _id);\n      uiInfo = _model.uiModel.updatePropValue({\n        fieldId: selectId,\n        propName: 'Name',\n        value: (0, _intlApi.getLangMsg)('bosd.defaultReducer.key0002'),\n        metaType: 'formmeta'\n      })(uiInfo);\n      uiInfo = _model.uiModel.updatePropValue({\n        fieldId: selectId,\n        propName: 'InteractionTypes',\n        value: 0,\n        metaType: 'formmeta'\n      })(uiInfo);\n      uiInfo = _model.uiModel.updatePropValue({\n        fieldId: selectId,\n        propName: 'OperationKey',\n        value: 'mobtoolbarselect',\n        metaType: 'formmeta'\n      })(uiInfo);\n      uiInfo = setMultipleToolbarDefaultValue(selectId, uiInfo);\n      var cancelId = buildChildControl('MBarItemAp', _id);\n      uiInfo = _model.uiModel.updatePropValue({\n        fieldId: cancelId,\n        propName: 'Name',\n        value: (0, _intlApi.getLangMsg)('bosd.defaultReducer.key0003'),\n        metaType: 'formmeta'\n      })(uiInfo);\n      uiInfo = _model.uiModel.updatePropValue({\n        fieldId: cancelId,\n        propName: 'InteractionTypes',\n        value: 1,\n        metaType: 'formmeta'\n      })(uiInfo);\n      uiInfo = _model.uiModel.updatePropValue({\n        fieldId: cancelId,\n        propName: 'OperationKey',\n        value: 'mobtoolbarcancel',\n        metaType: 'formmeta'\n      })(uiInfo);\n      uiInfo = setMultipleToolbarDefaultValue(cancelId, uiInfo);\n    }\n  } else if (ctrlType === 'MBarItemAp' && !isPC) {\n    if (fieldInfo !== null && fieldInfo !== void 0 && fieldInfo.isMultipleToolbarItem) {\n      uiInfo = setMultipleToolbarDefaultValue(_id, uiInfo);\n    }\n  }\n  return uiInfo;\n}\nfunction setMultipleToolbarDefaultValue(_id, uiInfo) {\n  uiInfo = _model.uiModel.updatePropValue({\n    fieldId: _id,\n    propName: 'BackColor',\n    value: '#ffffff',\n    metaType: 'formmeta'\n  })(uiInfo);\n  uiInfo = _model.uiModel.updatePropValue({\n    fieldId: _id,\n    propName: 'ForeColor',\n    value: '#212121',\n    metaType: 'formmeta'\n  })(uiInfo);\n  uiInfo = _model.uiModel.updatePropValue({\n    fieldId: _id,\n    propName: 'FontSize',\n    value: '16',\n    metaType: 'formmeta'\n  })(uiInfo);\n  return uiInfo;\n}\nfunction addFieldControl(uiInfo, _ref6) {\n  var parentId = _ref6.parentId,\n    index = _ref6.index,\n    fieldName = _ref6.fieldName,\n    fieldType = _ref6.fieldType,\n    ctrlType = _ref6.ctrlType,\n    fieldId = _ref6.fieldId,\n    _id = _ref6._id,\n    key = _ref6.key,\n    uiConfig = _ref6.uiConfig,\n    formInfo = _ref6.formInfo;\n  var ctrlInfo = _defineProperty(_defineProperty(_defineProperty({}, _propnames.ID, _id), _propnames.TYPE, ctrlType), _propnames.FieldType, fieldType);\n  var propertyKey = 'FieldId';\n  if (_ctrlTypeList.entryApRelatedEntity.includes(ctrlType)) {\n    propertyKey = _ctrlTypeList.entityNameOfEntry;\n  } else if (_ctrlTypeList.panelApRelatedEntity.includes(ctrlType)) {\n    propertyKey = _ctrlTypeList.entityNameOfPanelAp;\n  }\n  formInfo = Object.assign({}, formInfo, _defineProperty({\n    Id: _id,\n    Key: key,\n    Name: fieldName || _id,\n    _Type_: ctrlType,\n    Index: 0,\n    ParentId: parentId\n  }, propertyKey, fieldId));\n  uiInfo = _model.uiModel.addUIItem(parentId, (0, _immutable.fromJS)(ctrlInfo), index)(uiInfo);\n  uiInfo = _model.uiModel.addFormItem((0, _immutable.fromJS)(formInfo))(uiInfo);\n  uiInfo = _model.uiModel.updateFormIndex(parentId)(uiInfo);\n  return uiInfo;\n}\n/** ***根据实体添加控件功能 end*****/\n\n/** ***删除功能 begin*****/\nfunction deleteControlAction(state, action) {\n  var ctrlId = action.ctrlId,\n    uiConfig = action.uiConfig,\n    fromTemplate = action.fromTemplate,\n    deleteConfirm = action.deleteConfirm,\n    model = action.model;\n  var ctrlIds = (0, _utils.convertToList)(ctrlId);\n  var uiInfo = state.get('uiInfo');\n  var errorMsg = '';\n  ctrlId = ctrlIds.first();\n  var parentControl = _model.uiModel.getParentControl(uiInfo, ctrlId);\n  var selectControl, selectId;\n  // 单选直接选中前一个控件\n  if (ctrlIds.size === 1) {\n    selectControl = _model.uiModel.getPreControl(uiInfo, ctrlId, false);\n    selectControl = selectControl || _model.uiModel.getNextControl(uiInfo, ctrlId, false);\n    selectId = selectControl && selectControl.get(_propnames.ID);\n  }\n  var listInheritCtrls = []; // 列表继承的控件\n  ctrlIds.forEach(function (ctrlId, index, arr) {\n    try {\n      // 如果fromTemplate为true跳过删除检查,因为某些模板内置字段不允许删除\n      if (fromTemplate === undefined) {\n        var canDelete = (0, _common.canDeleteControl)(uiInfo, {\n          ctrlId: ctrlId,\n          uiConfig: uiConfig\n        });\n        if (_typeof(canDelete) === 'object' && canDelete.needConfirm && deleteConfirm) {\n          listInheritCtrls = listInheritCtrls.concat(canDelete.inheritCtrls);\n          return;\n        }\n        if (!canDelete) return uiInfo;\n      }\n      var ctrlInfo = _model.uiModel.getUIFieldInfo(uiInfo, ctrlId);\n      if (ctrlInfo === undefined) return;\n      uiInfo = (0, _common.actionWrap)(deleteControl, beforeDeleteControl)(uiInfo, {\n        ctrlId: ctrlId,\n        uiConfig: uiConfig\n      });\n    } catch (e) {\n      var mark = index === arr.size - 1 ? (0, _intlApi.getLangMsg)('bosd.marker.key0001') : (0, _intlApi.getLangMsg)('bosd.marker.key0002');\n      errorMsg += e.message + mark;\n    }\n  });\n  if (errorMsg !== '') {\n    var msg = (0, _intlApi.getLangMsg)({\n      key: 'bosd.defaultReducer.key0004',\n      variables: {\n        errorMsg: errorMsg\n      }\n    });\n    throw {\n      message: msg,\n      type: 'warning'\n    };\n  } else if (deleteConfirm) {\n    // 单据表单、基础资料表单 发送确定删除的指令\n    var _uiInfo = state.get('uiInfo');\n    var hasField = _model.uiModel.hasEntityMetaInCtrls(_uiInfo, ctrlIds);\n    var modelType = _uiInfo.get('modelType');\n    if (['BillFormModel', 'BaseFormModel'].includes(modelType) && hasField) {\n      deleteConfirm === null || deleteConfirm === void 0 || deleteConfirm(ctrlIds);\n      return state;\n    } else if (listInheritCtrls.length > 0) {\n      var rootPageId = (0, _appModelFunction.getRootPageId)()((0, _global.getGlobalState)());\n      var fieldsName = listInheritCtrls.map(function (item) {\n        return item.name;\n      }).join('、');\n      var confirmData = {\n        id: 'deleteConfirm',\n        pageId: rootPageId,\n        msg: (0, _intlApi.getLangMsg)({\n          key: 'bosd.deleteAction.tips',\n          variables: {\n            fieldsName: fieldsName\n          }\n        }),\n        confirmType: 2,\n        button_type: 1,\n        clickCallback: function clickCallback(pageId, id, key, callbackValue) {\n          if (key === 6) {\n            // 确认\n            model === null || model === void 0 || model.pub_Event('doDelete', [ctrlIds]);\n          }\n        }\n      };\n      (0, _GlobalDataCacher.setData)(_symbolConst.KEY_SHOW_CONFIRM_EVENT, confirmData);\n      return state.set('uiInfo', _uiInfo);\n    }\n  }\n  state = state.set('uiInfo', uiInfo);\n\n  // 校验selectId是否存在\n  selectControl = selectId && _model.uiModel.getUIFieldInfo(uiInfo, selectId);\n  selectControl = selectControl || parentControl;\n  selectId = selectControl ? selectControl.get(_propnames.ID) : _model.uiModel.getRootId(uiInfo);\n  return (0, _common.setSelectControlId)(state, selectId);\n}\nfunction beforeDeleteControl(uiInfo, _ref7) {\n  var ctrlId = _ref7.ctrlId,\n    uiConfig = _ref7.uiConfig;\n  var ctrlInfo = _model.uiModel.getUIFieldInfo(uiInfo, ctrlId);\n  if (ctrlInfo.get(_propnames.TYPE) === 'ColumnAp') {\n    var colPanelInfo = _model.uiModel.getParentControl(uiInfo, ctrlId, 'ColumnPanelAp');\n    if (colPanelInfo) {\n      var panelId = colPanelInfo.get(_propnames.ID);\n      var cols = _model.uiModel.getPropertyValue(uiInfo, panelId, 'Cols', 'formmeta', uiConfig);\n      uiInfo = _model.uiModel.updatePropValue({\n        fieldId: panelId,\n        propName: 'Cols',\n        value: cols - 1,\n        metaType: 'formmeta'\n      })(uiInfo);\n    }\n  } else if (ctrlInfo.get('FieldType') === 'RadioField' && ['FieldAp', 'CardEntryFieldAp'].includes(ctrlInfo.get(_propnames.TYPE))) {\n    /**\n     * 删除单选按钮\n     * 1. 如果是最后一个单选按钮，一并删除和其关联的单选按钮组\n     * 2. 不是最后一个，删除按钮组中对应的下拉项数据\n     */\n    var groupId = _model.uiModel.getPropertyValue(uiInfo, ctrlId, 'Group', 'entitymeta', uiConfig);\n    if (groupId) {\n      var entityMeta = _model.uiModel.getEntitymeta(uiInfo);\n      var formMeta = _model.uiModel.getFormmeta(uiInfo);\n      var radioField = entityMeta.filter(function (entity) {\n        return Object.is(entity.get(_propnames._TYPE_), 'RadioField') && Object.is(entity.get('Group'), groupId);\n      });\n      if (uiInfo.get('designer') === 'MobMeta') {\n        // 单据中的移动表单 计算单选按钮数量不能仅根据entityMeta，还需要按formMeta过滤下\n        var fieldIds = formMeta.reduce(function (list, item) {\n          if (item.get('_Type_') === 'FieldAp') {\n            return list.push(item.get('FieldId'));\n          } else {\n            return list;\n          }\n        }, (0, _immutable.List)());\n        radioField = radioField.filter(function (entity) {\n          return fieldIds.includes(entity.get('Id'));\n        });\n      }\n      var radioFieldCount = radioField.count();\n      if (radioFieldCount === 1) {\n        // 删除最后一个单选按钮关联的按钮组\n        uiInfo = _model.uiModel.deleteControl(groupId)(uiInfo);\n      } else {\n        // 删除按钮组中对应下拉项数据\n        var radioName = _model.uiModel.getPropertyValue(uiInfo, ctrlId, 'Name', 'entitymeta', uiConfig);\n        var radioValue = _model.uiModel.getPropertyValue(uiInfo, ctrlId, 'Items', 'entitymeta', uiConfig);\n        var groupItemsList = _model.uiModel.getPropertyValue(uiInfo, groupId, 'Items', 'entitymeta', uiConfig) || new _immutable.List();\n        var newItemList = groupItemsList.filterNot(function (entity) {\n          return entity.get('Value') === radioValue && entity.get('Caption') === radioName;\n        });\n        uiInfo = _model.uiModel.updatePropValue({\n          fieldId: groupId,\n          propName: 'Items',\n          value: newItemList.toArray(),\n          metaType: 'entitymeta'\n        })(uiInfo);\n      }\n    }\n  } else if (ctrlInfo.get(_propnames.TYPE) === 'EntryFieldAp') {\n    // 删除分录字段，需要删除平铺视图的对应字段\n    var _colPanelInfo = _model.uiModel.getParentControl(uiInfo, ctrlId, 'EntryAp');\n    if (_colPanelInfo) {\n      var _colPanelInfo$get;\n      // let panelId = colPanelInfo.get(ID)\n      // let showFlatPanel = uiModel.getPropertyValue(uiInfo, panelId, 'ShowFlatPanel', 'formmeta', uiConfig)\n      // if (showFlatPanel) {\n\n      var flatPanelInfo = (_colPanelInfo$get = _colPanelInfo.get(_propnames.ITEMS)) === null || _colPanelInfo$get === void 0 ? void 0 : _colPanelInfo$get.filter(function (item) {\n        return item.get(_propnames.TYPE) === 'GridFlatPanelAp';\n      });\n      var fieldSetPanel = _immutable.List.isList(flatPanelInfo) && flatPanelInfo.size > 0 ? flatPanelInfo.getIn([0, 'Items']).find(function (item) {\n        return item.get('Type') === 'FieldsetPanelAp';\n      }) : null;\n      // 查找当前单据体下的平铺字段，避免多实体映射时找到别的单据体字段的场景\n      var fieldSetPanelId = fieldSetPanel && fieldSetPanel.get('Id');\n      var fieldId = _model.uiModel.getPropertyValue(uiInfo, ctrlId, 'FieldId', 'formmeta', uiConfig);\n      var flatField = uiInfo.getIn(['formmeta', 'Items'], new _immutable.List()).filter(function (item) {\n        return item.get('FieldId') === fieldId && item.get('Id') !== ctrlId && item.get('_Type_') === 'FlatFieldAp' && item.get('ParentId') === fieldSetPanelId;\n      });\n      if (flatField.size > 0) {\n        uiInfo = deleteControl(uiInfo, {\n          ctrlId: flatField.getIn([0, 'Id']),\n          uiConfig: uiConfig\n        });\n      }\n      // }\n    }\n  } else if (['EntryFieldGroupAp', 'OperationColumnAp', 'EntryFieldContainerAp'].includes(ctrlInfo.get(_propnames.TYPE))) {\n    var _entryInfo$get;\n    // 删除单据体里面的容器(表格字段分组 / 操作列 / 表格字段容器)，需要同步删除容器里面字段所对应的平铺字段\n    // 获取单据体的uiInfo信息\n    var entryInfo = _model.uiModel.getParentControl(uiInfo, ctrlId, 'EntryAp');\n    // 从单据体里面取出平铺容器\n    var _flatPanelInfo = (_entryInfo$get = entryInfo.get(_propnames.ITEMS)) === null || _entryInfo$get === void 0 ? void 0 : _entryInfo$get.filter(function (item) {\n      return item.get(_propnames.TYPE) === 'GridFlatPanelAp';\n    });\n    // 获取平铺容器里面的平铺字段\n    var flatPanelFields = _flatPanelInfo.getIn([0, _propnames.ITEMS, 0, _propnames.ITEMS], (0, _immutable.List)([]));\n    if (flatPanelFields.size > 0) {\n      // 获取被删除容器的所有字段所对应的实体ID\n      var childrenEntityIds = _model.uiModel.getChildEntityId(uiInfo, ctrlId);\n      flatPanelFields.forEach(function (item) {\n        // 取出平铺字段的fieldId，跟之前的实体ID作比较：如果在之前的实体ID里面，则同步删除该平铺字段\n        var fieldIdOfField = item.get(_propnames.ID);\n        var formInfo = _model.uiModel.getFormFieldInfo(uiInfo, fieldIdOfField);\n        if (childrenEntityIds.includes(formInfo === null || formInfo === void 0 ? void 0 : formInfo.get('FieldId'))) {\n          uiInfo = deleteControl(uiInfo, {\n            ctrlId: fieldIdOfField\n          });\n        }\n      });\n    }\n  }\n  return uiInfo;\n}\nfunction deleteControl(uiInfo, _ref8) {\n  var ctrlId = _ref8.ctrlId,\n    uiConfig = _ref8.uiConfig;\n  var fieldInfo = _model.uiModel.getFormFieldInfo(uiInfo, ctrlId);\n  var parentId = fieldInfo.get('ParentId');\n  uiInfo = _model.uiModel.deleteControl(ctrlId)(uiInfo);\n  uiInfo = _model.uiModel.updateFormIndex(parentId)(uiInfo);\n  return uiInfo;\n}\n/** ***删除功能 end*****/\n\n/** ***更改控件的属性值 begin*****/\nfunction updatePropValueAction(state, action) {\n  // propInfo结构：{fieldId, propName, value, metaType}\n  var _action$propInfos = action.propInfos,\n    propInfos = _action$propInfos === void 0 ? [] : _action$propInfos,\n    uiConfig = action.uiConfig;\n  propInfos.forEach(function (propInfo) {\n    propInfo.metaType = propInfo.metaType || 'formmeta';\n    state = state.update('uiInfo', function (uiInfo) {\n      return (0, _common.actionWrap)(updatePropValue, beforeUpdatePropValue, afterUpdatePropValue)(uiInfo, _objectSpread(_objectSpread({}, propInfo), {}, {\n        uiConfig: uiConfig\n      }));\n    });\n  });\n  return state;\n}\nfunction beforeUpdatePropValue(uiInfo, _ref9) {\n  var fieldId = _ref9.fieldId,\n    propName = _ref9.propName,\n    value = _ref9.value,\n    metaType = _ref9.metaType,\n    uiConfig = _ref9.uiConfig;\n  var fieldInfo = _model.uiModel.getFormFieldInfo(uiInfo, fieldId);\n  if (!fieldInfo) return uiInfo;\n  var ctrlType = fieldInfo.get('_Type_');\n  if (Object.is(ctrlType, 'FieldAp') && Object.is(propName, 'Group')) {\n    /**\n     * 单选按钮切换按钮组做两个事情\n     * 1. 清空前一个按钮组中相对应的下拉项\n     * 2. 清空原先的按钮值\n     */\n    var oldGroupId = _model.uiModel.getPropertyValue(uiInfo, fieldId, 'Group', 'entitymeta', uiConfig);\n    var oldGroupItemsList = _model.uiModel.getPropertyValue(uiInfo, oldGroupId, 'Items', 'entitymeta', uiConfig) || new _immutable.List();\n    var oldValue = _model.uiModel.getPropertyValue(uiInfo, fieldId, 'Items', 'entitymeta', uiConfig);\n    var _ary = oldGroupItemsList.filter(function (item) {\n      return !Object.is(item.get('Value'), oldValue);\n    });\n\n    // 删除已关联按钮组对应的下拉项\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: oldGroupId,\n      propName: 'Items',\n      value: _ary.toArray(),\n      metaType: 'entitymeta'\n    })(uiInfo);\n\n    // 清空原按钮值 ***带原有值\n    // uiInfo = uiModel.updatePropValue({fieldId: fieldId, propName: 'Items', value: '', metaType: 'entitymeta'})(uiInfo)\n  }\n  return uiInfo;\n}\nfunction updatePropValue(uiInfo, _ref10) {\n  var fieldId = _ref10.fieldId,\n    propName = _ref10.propName,\n    value = _ref10.value,\n    metaType = _ref10.metaType,\n    uiConfig = _ref10.uiConfig;\n  return _model.uiModel.updatePropValue({\n    fieldId: fieldId,\n    propName: propName,\n    value: value,\n    metaType: metaType,\n    uiConfig: uiConfig\n  })(uiInfo);\n}\nfunction afterUpdatePropValue(uiInfo, _ref11) {\n  var fieldId = _ref11.fieldId,\n    propName = _ref11.propName,\n    value = _ref11.value,\n    metaType = _ref11.metaType,\n    uiConfig = _ref11.uiConfig;\n  // if (metaType !== 'formmeta') return uiInfo\n\n  var fieldInfo = _model.uiModel.getFormFieldInfo(uiInfo, fieldId);\n  if (!fieldInfo) return uiInfo;\n  var ctrlType = fieldInfo.get('_Type_');\n  var designerType = uiInfo && uiInfo.getIn(['ui', 'Type']);\n  var ctrlFieldType = _model.uiModel.getUIFieldInfo(uiInfo, fieldId).get(_propnames.FieldType);\n  // 修改Key和Name是同时修改实体的相应属性值，单据中的移动表单除外\n  if (designerType !== 'MobileBillFormAp' && (propName === 'Key' || propName === 'Name')) {\n    if (_model.uiModel.hasEntitymeta({\n      ctrlType: ctrlType\n    })) {\n      var entityId = _model.uiModel.getEntityIdByFieldId(uiInfo, fieldId);\n      if (entityId) {\n        uiInfo = _model.uiModel.updatePropValue({\n          fieldId: entityId,\n          propName: propName,\n          value: value,\n          metaType: 'entitymeta',\n          uiConfig: uiConfig\n        })(uiInfo);\n      }\n    }\n  }\n\n  // 修改列布局的列数时修改formmeta\n  if (ctrlType === 'ColumnPanelAp' && propName === 'Cols') {\n    var ctrlInfo = _model.uiModel.getUIFieldInfo(uiInfo, fieldId);\n    var itemSize = ctrlInfo.get(_propnames.ITEMS).size;\n    value = _model.uiModel.getPropertyValue(uiInfo, fieldId, propName, metaType, uiConfig);\n    var i = value - itemSize;\n    for (; i > 0; i--) {\n      var tabPageId = (0, _utils.createNewId)();\n      var key = (0, _utils.createNewKey)(uiInfo, 'ColumnAp');\n      var _params = {\n        _id: tabPageId,\n        key: key,\n        parentId: fieldId,\n        ctrlType: 'ColumnAp',\n        uiConfig: uiConfig\n      };\n      uiInfo = addControl(uiInfo, _params);\n    }\n    for (; i < 0; i++) {\n      uiInfo = uiInfo.updateIn(path.concat('Items'), function (items) {\n        return items.pop();\n      });\n    }\n  } else if (Object.is(ctrlType, 'FieldAp') && Object.is(propName, 'Items')) {\n    /**\n     * 修改单选按钮的‘按钮值’ 属性，将值回填到单选按钮组的‘下拉项’\n     * [{Caption: '1', Value: '1', _Type_: 'ComboItem'}]\n     */\n    // 获得关联按钮组ID\n    var groupId = _model.uiModel.getPropertyValue(uiInfo, fieldId, 'Group', 'entitymeta', uiConfig);\n    if (groupId) {\n      // 获得单选名称\n      var itemName = _model.uiModel.getPropertyValue(uiInfo, fieldId, 'Name', 'entitymeta', uiConfig);\n      // 获得按钮组下拉项集合\n      var groupItemsList = _model.uiModel.getPropertyValue(uiInfo, groupId, 'Items', 'entitymeta', uiConfig) || new _immutable.List();\n\n      // 在group中挑出当前单选按钮的值\n      var currOption = groupItemsList.filter(function (option) {\n        return option.get('Caption') === itemName;\n      }).get(0);\n      // 判断集合中是否已经存在相同的值\n      if (_hasItemValue(groupItemsList, 'Value', value) && currOption.get('Value') !== value) {\n        var msg = (0, _intlApi.getLangMsg)({\n          key: 'bosd.defaultReducer.key0005',\n          variables: {\n            value: value\n          }\n        });\n        throw {\n          message: msg,\n          type: 'warning'\n        };\n      } else {\n        if (_hasItemValue(groupItemsList, 'Caption', itemName)) {\n          var _ary = groupItemsList.map(function (item) {\n            if (Object.is(item.get('Caption'), itemName)) {\n              return item.set('Value', value);\n            }\n            return item;\n          });\n          uiInfo = _model.uiModel.updatePropValue({\n            fieldId: groupId,\n            propName: 'Items',\n            value: _ary.toArray(),\n            metaType: 'entitymeta'\n          })(uiInfo);\n        } else {\n          uiInfo = _model.uiModel.updatePropValue({\n            fieldId: groupId,\n            propName: 'Items',\n            value: groupItemsList.push({\n              Caption: itemName,\n              Value: value,\n              _Type_: 'ComboItem'\n            }).toArray(),\n            metaType: 'entitymeta'\n          })(uiInfo);\n        }\n      }\n    }\n  } else if (Object.is(ctrlType, 'FieldAp') && Object.is(propName, 'Name')) {\n    // 获取组ID\n    var _groupId = _model.uiModel.getPropertyValue(uiInfo, fieldId, 'Group', 'entitymeta', uiConfig);\n    if (_groupId) {\n      var radioValue = _model.uiModel.getPropertyValue(uiInfo, fieldId, 'Items', 'entitymeta', uiConfig);\n      if (radioValue && !Object.is(radioValue, '')) {\n        // 获得按钮组下拉项集合\n        var _groupItemsList = _model.uiModel.getPropertyValue(uiInfo, _groupId, 'Items', 'entitymeta', uiConfig) || new _immutable.List();\n\n        // 判断集合中是否已经存在相同的值\n        if (_hasItemValue(_groupItemsList, 'Caption', value)) {\n          var _msg = (0, _intlApi.getLangMsg)({\n            key: 'bosd.defaultReducer.key0006',\n            variables: {\n              value: value\n            }\n          });\n          throw {\n            message: _msg,\n            type: 'warning'\n          };\n        } else {\n          if (_hasItemValue(_groupItemsList, 'Value', radioValue)) {\n            var _ary2 = _groupItemsList.map(function (item) {\n              if (Object.is(item.get('Value'), radioValue)) {\n                return item.set('Caption', value);\n              }\n              return item;\n            });\n            uiInfo = _model.uiModel.updatePropValue({\n              fieldId: _groupId,\n              propName: 'Items',\n              value: _ary2.toArray(),\n              metaType: 'entitymeta'\n            })(uiInfo);\n          } else {\n            uiInfo = _model.uiModel.updatePropValue({\n              fieldId: _groupId,\n              propName: 'Items',\n              value: _groupItemsList.push({\n                Caption: value,\n                Value: radioValue,\n                _Type_: 'ComboItem'\n              }).toArray(),\n              metaType: 'entitymeta'\n            })(uiInfo);\n          }\n        }\n      }\n    }\n  } else if (ctrlType === 'SplitPanelAp' && propName === 'DefaultCollapse' && value === true) {\n    // 修改分割面板的‘默认折叠’属性，将另一个面板属性修改成相反值\n    var _parentCtl = _model.uiModel.getParentControl(uiInfo, fieldId);\n    var bortherCtl = _parentCtl.get('Items').filter(function (item) {\n      return item.get('Id') !== fieldId;\n    });\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: bortherCtl.get(0).get('Id'),\n      propName: 'DefaultCollapse',\n      value: false,\n      metaType: 'formmeta'\n    })(uiInfo);\n  } else if (ctrlType === 'TabPageAp' && propName === 'HomeTab' && value === true) {\n    var _parentCtl2 = _model.uiModel.getParentControl(uiInfo, fieldId);\n    var brotherCtl = _parentCtl2.get('Items').filter(function (item) {\n      return item.get('Id') !== fieldId;\n    });\n    brotherCtl.forEach(function (item) {\n      uiInfo = _model.uiModel.updatePropValue({\n        fieldId: item.get('Id'),\n        propName: 'HomeTab',\n        value: false,\n        metaType: 'formmeta'\n      })(uiInfo);\n    });\n  } else if (['MTabBarItemAp', 'MTabBarFormAp'].includes(ctrlType) && propName === 'DefaultSelected' && value === true) {\n    var _parentCtl3 = _model.uiModel.getParentControl(uiInfo, fieldId);\n    var _brotherCtl = _parentCtl3.get('Items').filter(function (item) {\n      return item.get('Id') !== fieldId;\n    });\n    _brotherCtl.forEach(function (item) {\n      uiInfo = _model.uiModel.updatePropValue({\n        fieldId: item.get('Id'),\n        propName: 'DefaultSelected',\n        value: false,\n        metaType: 'formmeta'\n      })(uiInfo);\n    });\n  } else if (ctrlType === 'SuspendButtonAp' && propName === 'FloatPos') {\n    // 浮动按钮浮动位置发生改变时，垂直、水平偏移量也跟着改变\n    switch (value) {\n      case 1:\n        {\n          uiInfo = _model.uiModel.updatePropValue({\n            fieldId: fieldId,\n            propName: 'OffsetH',\n            value: '12px',\n            metaType: 'formmeta'\n          })(uiInfo);\n          uiInfo = _model.uiModel.updatePropValue({\n            fieldId: fieldId,\n            propName: 'OffsetV',\n            value: '24px',\n            metaType: 'formmeta'\n          })(uiInfo);\n          break;\n        }\n      case 2:\n        {\n          uiInfo = _model.uiModel.updatePropValue({\n            fieldId: fieldId,\n            propName: 'OffsetH',\n            value: '',\n            metaType: 'formmeta'\n          })(uiInfo);\n          uiInfo = _model.uiModel.updatePropValue({\n            fieldId: fieldId,\n            propName: 'OffsetV',\n            value: '24px',\n            metaType: 'formmeta'\n          })(uiInfo);\n          break;\n        }\n      case 3:\n        {\n          uiInfo = _model.uiModel.updatePropValue({\n            fieldId: fieldId,\n            propName: 'OffsetH',\n            value: '-12px',\n            metaType: 'formmeta'\n          })(uiInfo);\n          uiInfo = _model.uiModel.updatePropValue({\n            fieldId: fieldId,\n            propName: 'OffsetV',\n            value: '24px',\n            metaType: 'formmeta'\n          })(uiInfo);\n          break;\n        }\n      case 4:\n        {\n          uiInfo = _model.uiModel.updatePropValue({\n            fieldId: fieldId,\n            propName: 'OffsetH',\n            value: '12px',\n            metaType: 'formmeta'\n          })(uiInfo);\n          uiInfo = _model.uiModel.updatePropValue({\n            fieldId: fieldId,\n            propName: 'OffsetV',\n            value: '',\n            metaType: 'formmeta'\n          })(uiInfo);\n          break;\n        }\n      case 5:\n        {\n          uiInfo = _model.uiModel.updatePropValue({\n            fieldId: fieldId,\n            propName: 'OffsetH',\n            value: '-12px',\n            metaType: 'formmeta'\n          })(uiInfo);\n          uiInfo = _model.uiModel.updatePropValue({\n            fieldId: fieldId,\n            propName: 'OffsetV',\n            value: '',\n            metaType: 'formmeta'\n          })(uiInfo);\n          break;\n        }\n      case 6:\n        {\n          uiInfo = _model.uiModel.updatePropValue({\n            fieldId: fieldId,\n            propName: 'OffsetH',\n            value: '12px',\n            metaType: 'formmeta'\n          })(uiInfo);\n          uiInfo = _model.uiModel.updatePropValue({\n            fieldId: fieldId,\n            propName: 'OffsetV',\n            value: '-24px',\n            metaType: 'formmeta'\n          })(uiInfo);\n          break;\n        }\n      case 7:\n        {\n          uiInfo = _model.uiModel.updatePropValue({\n            fieldId: fieldId,\n            propName: 'OffsetH',\n            value: '',\n            metaType: 'formmeta'\n          })(uiInfo);\n          uiInfo = _model.uiModel.updatePropValue({\n            fieldId: fieldId,\n            propName: 'OffsetV',\n            value: '-24px',\n            metaType: 'formmeta'\n          })(uiInfo);\n          break;\n        }\n      case 8:\n        {\n          uiInfo = _model.uiModel.updatePropValue({\n            fieldId: fieldId,\n            propName: 'OffsetH',\n            value: '-12px',\n            metaType: 'formmeta'\n          })(uiInfo);\n          uiInfo = _model.uiModel.updatePropValue({\n            fieldId: fieldId,\n            propName: 'OffsetV',\n            value: '-24px',\n            metaType: 'formmeta'\n          })(uiInfo);\n          break;\n        }\n      case 9:\n        {\n          uiInfo = _model.uiModel.updatePropValue({\n            fieldId: fieldId,\n            propName: 'OffsetH',\n            value: '',\n            metaType: 'formmeta'\n          })(uiInfo);\n          uiInfo = _model.uiModel.updatePropValue({\n            fieldId: fieldId,\n            propName: 'OffsetV',\n            value: '',\n            metaType: 'formmeta'\n          })(uiInfo);\n          break;\n        }\n    }\n  } else if (['MulComboField', 'ComboField'].includes(ctrlFieldType)) {\n    if (propName === 'ComboShowType' && (value === 2 || value === 3)) {\n      uiInfo = _model.uiModel.updatePropValue({\n        fieldId: fieldId,\n        propName: 'LabelDirection',\n        value: 'h',\n        metaType: 'formmeta'\n      })(uiInfo);\n    } else if (propName === 'LabelDirection' && value === 'v') {\n      if ([2, 3].includes(fieldInfo.get('ComboShowType'))) {\n        uiInfo = _model.uiModel.updatePropValue({\n          fieldId: fieldId,\n          propName: 'ComboShowType',\n          value: 0,\n          metaType: 'formmeta'\n        })(uiInfo);\n      }\n    }\n  } else if (['EntryFieldAp', 'FlatFieldAp'].includes(ctrlType) && Object.is(propName, 'Hidden')) {\n    // 控件类型是单据体字段或者平铺字段，同时当前修改的属性名为‘隐藏元素’时，需要同时关联对应的平铺字段或者单据体字段\n    var control = _model.uiModel.getFormFieldInfo(uiInfo, fieldId);\n    var _entityId = control.get('FieldId');\n    var otherCtrlId = '';\n    if (ctrlType === 'EntryFieldAp') {\n      var entryInfo = _model.uiModel.getParentControl(uiInfo, fieldId, (0, _immutable.List)(['EntryAp', 'SubEntryAp']));\n      var entryFromInfo = _model.uiModel.getFormFieldInfo(uiInfo, entryInfo.get(_propnames.ID));\n      if (entryFromInfo.get('ShowFlatPanel', false)) {\n        var _uiModel$getFormmetaI;\n        otherCtrlId = (_uiModel$getFormmetaI = _model.uiModel.getFormmetaItemsByFieldId(uiInfo, _entityId)) === null || _uiModel$getFormmetaI === void 0 || (_uiModel$getFormmetaI = _uiModel$getFormmetaI.filter(function (formItem) {\n          return formItem.get(_propnames.ID) !== fieldId;\n        })) === null || _uiModel$getFormmetaI === void 0 ? void 0 : _uiModel$getFormmetaI.getIn([0, _propnames.ID]);\n      }\n    } else if (ctrlType === 'FlatFieldAp') {\n      var _uiModel$getFormmetaI2;\n      otherCtrlId = (_uiModel$getFormmetaI2 = _model.uiModel.getFormmetaItemsByFieldId(uiInfo, _entityId)) === null || _uiModel$getFormmetaI2 === void 0 || (_uiModel$getFormmetaI2 = _uiModel$getFormmetaI2.filter(function (formItem) {\n        return formItem.get(_propnames.ID) !== fieldId;\n      })) === null || _uiModel$getFormmetaI2 === void 0 ? void 0 : _uiModel$getFormmetaI2.getIn([0, _propnames.ID]);\n    }\n    if (otherCtrlId) {\n      // uiInfo = uiModel.updatePropValue({ fieldId: otherCtrlId, propName, value, metaType: 'formmeta' })(uiInfo)\n    }\n  } else if (ctrlType === 'EntryFieldGroupAp' && propName === 'Merge' && value === true) {\n    var uiFieldInfo = _model.uiModel.getUIFieldInfo(uiInfo, fieldId);\n    var childFields = uiFieldInfo.get(_propnames.ITEMS, (0, _immutable.List)()).filter(function (item) {\n      return item.get('FieldType') === 'FlexField';\n    });\n    childFields.forEach(function (item) {\n      uiInfo = _model.uiModel.updatePropValue({\n        fieldId: item.get('Id'),\n        propName: 'NeedSplit',\n        value: false,\n        metaType: 'formmeta'\n      })(uiInfo);\n    });\n  }\n  return uiInfo;\n}\nfunction _hasItemValue(groupItemsList, propName, value) {\n  var _iterator = _createForOfIteratorHelper(groupItemsList),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var item = _step.value;\n      if (Object.is(item.get(propName), value)) {\n        return true;\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n  return false;\n}\n/** ***更改控件的属性值 end*****/\n\n/** ***粘贴功能 begin*****/\nfunction pasteControlAction(state, action) {\n  var ctrlId = action.ctrlId,\n    uiConfig = action.uiConfig;\n  var targetId = ctrlId;\n  if (!targetId) return state;\n  var mode = state.getIn(['clipboard', 'mode'], 'copy');\n  if (mode === 'cut') {\n    var ctrlIds = state.getIn(['clipboard', 'copy_control_id'], (0, _immutable.List)());\n    if (ctrlIds.size === 0) return state;\n    state = state.update('uiInfo', function (uiInfo) {\n      return moveToControl(uiInfo, targetId, ctrlIds, uiConfig, {\n        isPaste: true\n      });\n    });\n    state = state.set('clipboard', (0, _immutable.Map)());\n  } else {\n    state = state.update('uiInfo', function (uiInfo) {\n      return copyToControl(uiInfo, targetId, null, uiConfig);\n    });\n  }\n  return state;\n}\n/*\n * @params options 可配置参数, 之后追加的参数应该放在这里面\n * options现有参数: isDrag-是否拖拽(用于区分 拖拽 与 粘贴 操作)\n**/\nfunction moveToControl(uiInfo, targetId, ctrlId, uiConfig, options) {\n  var _uiModel$getParentCon3, _targetContainerInfo$;\n  var ctrlIds = (0, _utils.convertToList)(ctrlId);\n  var entityreadonly = uiInfo.get('entityreadonly'); // 实体是否只读\n\n  var childField = _model.uiModel.getUIFieldInfo(uiInfo, ctrlIds.get(0));\n  var isContainer = _model.uiModel.isContainerControl(uiConfig, uiInfo, targetId);\n  var isRootCtrl = _model.uiModel.isRootCtrl(uiInfo, targetId);\n  var parentId = isContainer || isRootCtrl ? targetId : (_uiModel$getParentCon3 = _model.uiModel.getParentControl(uiInfo, targetId)) === null || _uiModel$getParentCon3 === void 0 ? void 0 : _uiModel$getParentCon3.get(_propnames.ID);\n  (0, _common.canAddUniqueFeild)(parentId, childField, uiConfig, uiInfo, {\n    isMove: true\n  });\n\n  // 计算移动到的容器ID\n  var targetContainerInfo = _model.uiModel.getContainerControl(uiInfo, targetId, true, uiConfig);\n  var isDrag = options ? Boolean(options.isDrag) : false;\n  if (!targetContainerInfo) return uiInfo;\n  if (targetContainerInfo.control.get(_propnames.TYPE) === 'GridFlatPanelAp') {\n    throw {\n      message: (0, _intlApi.getLangMsg)('bosd.defaultReducer.key0007'),\n      type: 'warning'\n    };\n  }\n\n  // 平铺视图不允许外部字段拖入，仅允许内部字段拖拽调整顺序\n  var targetParentId = targetContainerInfo === null || targetContainerInfo === void 0 || (_targetContainerInfo$ = targetContainerInfo.control) === null || _targetContainerInfo$ === void 0 ? void 0 : _targetContainerInfo$.get(_propnames.ID);\n  var ctrlParentInfo = _model.uiModel.getParentControl(uiInfo, ctrlIds.get(0));\n  var ctrlParentId = ctrlParentInfo === null || ctrlParentInfo === void 0 ? void 0 : ctrlParentInfo.get(_propnames.ID);\n  if (targetParentId !== ctrlParentId) {\n    var targetGrandPaInfo = _model.uiModel.getParentControl(uiInfo, targetParentId);\n    var ctrlGrandPaInfo = _model.uiModel.getParentControl(uiInfo, ctrlParentId);\n    if (targetGrandPaInfo && targetGrandPaInfo.get(_propnames.TYPE) === 'GridFlatPanelAp') {\n      throw {\n        message: (0, _intlApi.getLangMsg)('bosd.defaultReducer.key0008'),\n        type: 'warning'\n      };\n    }\n    if ((ctrlGrandPaInfo === null || ctrlGrandPaInfo === void 0 ? void 0 : ctrlGrandPaInfo.get(_propnames.TYPE)) === 'GridFlatPanelAp') {\n      throw {\n        message: (0, _intlApi.getLangMsg)('bosd.defaultReducer.key0009'),\n        type: 'warning'\n      };\n    }\n  }\n  targetId = targetContainerInfo.targetId;\n  var targetIndex = targetContainerInfo.targetIndex;\n  var targetParentEntityId = _model.uiModel.getParentEntityId(uiInfo, targetParentId);\n\n  // 提取合法的控件信息&并删除uiInfo中相应的控件信息\n  var ctrls = (0, _immutable.List)();\n  var entitytrees = (0, _immutable.List)();\n  ctrlIds.forEach(function (ctrlId) {\n    var ctrlInfo = _model.uiModel.getUIFieldInfo(uiInfo, ctrlId);\n\n    // 如果存在拖拽目标，目标等于控件本身\n    if (targetId === ctrlId) return;\n    var parentInfo = _model.uiModel.getContainerControl(uiInfo, ctrlId);\n    var parentId = parentInfo && parentInfo.control.get(_propnames.ID);\n    // 如果不存在拖拽目标，其容器等于控件容器本身\n    if (!targetId && parentId === targetParentId) return;\n    // 将父控件拖拽到子控件中，直接退出\n    if ((0, _immutableUtil.getTreeUtils)((0, _immutable.Seq)(), _propnames.ID, _propnames.ITEMS).byId(ctrlInfo, targetParentId)) return;\n    if (!(0, _common.canAddControl)(uiInfo, {\n      parentId: targetParentId,\n      ctrlId: ctrlId,\n      uiConfig: uiConfig,\n      isPaste: options.isPaste\n    })) return;\n    var uiType = uiInfo && uiInfo.getIn(['ui', 'Type']);\n    var isMobileForm = ['MobileFormAp', 'MobileBillFormAp'].includes(uiType);\n    if (isMobileForm && !canMoveInEntry(uiInfo, parentInfo, targetContainerInfo, ctrlInfo)) {\n      var fieldType = ctrlInfo.get('FieldType');\n      var msg = (0, _intlApi.getLangMsg)({\n        key: 'bosd.defaultReducer.key0001',\n        variables: {\n          type: fieldType\n        }\n      });\n      throw {\n        message: msg,\n        type: 'warning'\n      };\n    }\n    if (!entityreadonly) {\n      var entityIds = _model.uiModel.getChildEntityId(uiInfo, ctrlId);\n      _lodash[\"default\"].forEach(entityIds, function (entityId) {\n        var entitytreeInfo = _model.uiModel.getEntityTreeInfo(uiInfo, entityId);\n        uiInfo = _model.uiModel.deleteEntityTreeItem(entityId)(uiInfo);\n        entitytrees = entitytrees.push(entitytreeInfo);\n      });\n    }\n\n    /**\n     * 单据体: 开启平铺视图后, 在表格视图拖拽字段后,\n     * 平铺视图的字段继承关系没有实时更新, 导致预览报错\n     */\n    uiInfo = recurMapFlattenField(uiInfo, uiConfig, ctrlInfo);\n    uiInfo = _model.uiModel.deleteUIItem(ctrlId)(uiInfo);\n    ctrls = ctrls.push(ctrlInfo);\n    if (targetParentId === parentId && parentInfo.targetIndex < targetIndex) {\n      targetIndex--;\n    }\n  });\n\n  // 将提取的控件信息插入指定的容器&更新ParentId&索引\n  if (ctrls.size > 0) {\n    // 是拖拽, 则让当前下标后移一位, 从而保证设计器里的拖拽与工具箱的拖拽效果保持一致\n    if (isDrag) {\n      targetIndex += 1;\n    }\n    uiInfo = _model.uiModel.addUIItem(targetParentId, ctrls, targetIndex)(uiInfo);\n    if (entitytrees.size > 0) {\n      uiInfo = _model.uiModel.addEntityTreeItem(targetParentEntityId, entitytrees)(uiInfo);\n    }\n    uiInfo = _model.uiModel.updateParentId(targetParentId, {\n      isMove: true\n    })(uiInfo);\n    uiInfo = _model.uiModel.updateFormIndex(targetParentId)(uiInfo);\n  }\n  return uiInfo;\n}\n\n/**\n * 递归遍历平铺字段\n */\nfunction recurMapFlattenField(uiInfo, uiConfig, ctrlInfo) {\n  var ctrlType = ctrlInfo.get(_propnames.TYPE);\n  var children = ctrlInfo.get(_propnames.ITEMS, (0, _immutable.List)());\n  var ctrlId = ctrlInfo.get(_propnames.ID);\n  if (children.size > 0) {\n    children.map(function (child) {\n      uiInfo = recurMapFlattenField(uiInfo, uiConfig, child);\n    });\n  }\n  if (ctrlType === 'EntryFieldAp') {\n    var colPanelInfo = _model.uiModel.getParentControl(uiInfo, ctrlId, 'EntryAp');\n    if (colPanelInfo) {\n      var fieldId = _model.uiModel.getPropertyValue(uiInfo, ctrlId, 'FieldId', 'formmeta', uiConfig);\n      var flatField = uiInfo.getIn(['formmeta', 'Items'], new _immutable.List()).filter(function (item) {\n        return item.get('FieldId') === fieldId && item.get('Id') !== ctrlId;\n      });\n      if (flatField.size > 0) {\n        uiInfo = deleteControl(uiInfo, {\n          ctrlId: flatField.getIn([0, 'Id']),\n          uiConfig: uiConfig\n        });\n      }\n    }\n  }\n  return uiInfo;\n}\nvar excludeProps = ['Inherit', /* 'FieldName', */'TableName', 'SplitTables', 'Suffix'];\nfunction filterProp(prop, uiInfo) {\n  prop = prop.filterNot(function (value, key) {\n    return _lodash[\"default\"].includes(excludeProps, key);\n  });\n  var id = prop.get(_propnames.ID);\n  var fieldName = prop.get('FieldName');\n  if (fieldName) {\n    if (uiInfo) {\n      var entitymeta = uiInfo.getIn(['entitymeta', _propnames.ITEMS], (0, _immutable.List)());\n      entitymeta.forEach(function (item) {\n        if (item.get('FieldName') === fieldName && item.get(_propnames.ID) !== id) {\n          prop = prop[\"delete\"]('FieldName');\n          return false;\n        }\n      });\n    } else {\n      prop = prop[\"delete\"]('FieldName');\n    }\n  }\n  return prop;\n}\n\n/*\n * canMoveInEntry\n * @description 判断单据体 被拖动控件与目标控件的父控件是否一致, 若一致, 允许拖动; 否则禁止拖动\n**/\nfunction canMoveInEntry(uiInfo, parentInfo, targetContainerInfo, ctrlInfo) {\n  // 当前表单类型\n  var uiType = uiInfo && uiInfo.getIn(['ui', 'Type']);\n  // 控件不做处理\n  var excludeCtrl = ['VectorAp', 'ImageAp', 'LabelAp', 'ButtonAp', 'CustomControlAp'];\n  // 移动表单: 卡片/卡片布局容器; PC表单: 单据体/卡片分录/子卡片分录/表格字段分组 都需要做校验\n  var includeContainer = ['CardEntryRowAp', 'CardEntryFlexPanelAp', 'EntryAp', 'EmbedSubEntryAp', 'CardEntryAp', 'SubCardEntryAp', 'EntryFieldGroupAp'];\n  // 当前被拖动控件的ID\n  var ctrlId = parentInfo.targetId;\n  // 被拖动控件 的 目标控件ID\n  var targetId = targetContainerInfo.targetId;\n  // 被拖动控件的父控件类型\n  var parentType = parentInfo && parentInfo.control.get(_propnames.TYPE);\n  var targetParentType = targetContainerInfo && targetContainerInfo.control.get(_propnames.TYPE);\n  // 被拖动控件的类型\n  var ctrlType = ctrlInfo.get(_propnames.TYPE);\n  if (includeContainer.includes(parentType) && includeContainer.includes(targetParentType) && !excludeCtrl.includes(ctrlType)) {\n    var rootCtrlParentInfo;\n    // 目标控件特殊: 有容器和控件的区分\n    var rootTargetParentInfo = targetContainerInfo.control;\n    // 区分移动表单和PC表单\n    if (['MobileFormAp', 'MobileBillFormAp'].includes(uiType)) {\n      // 被拖动控件的父控件, 且父控件类型必须是卡片(移动端单据体)\n      rootCtrlParentInfo = _model.uiModel.getParentControl(uiInfo, ctrlId, 'CardEntryRowAp');\n      var _targetParentType = rootTargetParentInfo.get(_propnames.TYPE);\n      // 若targetId 不存在 或者 目标控件是容器, 则targetId需要重新赋值, 则父控件也需要重新获取\n      if (targetId || ['CardEntryRowAp', 'CardEntryFlexPanelAp'].includes(_targetParentType)) {\n        targetId = targetId || rootTargetParentInfo.get(_propnames.ID);\n        if (_targetParentType !== 'CardEntryRowAp') {\n          rootTargetParentInfo = _model.uiModel.getParentControl(uiInfo, targetId, 'CardEntryRowAp');\n        }\n      }\n    } else {\n      // PC表单允许互相拖拽, 因为PC表单的单据体可以修改表名\n      // rootCtrlParentInfo = uiModel.getParentControl(uiInfo, ctrlId, List(['EntryAp', 'CardEntryAp', 'SubCardEntryAp']))\n      // if (targetId || !['EntryAp', 'CardEntryAp', 'SubCardEntryAp'].includes(targetContainerInfo.control.get(TYPE))) {\n      //   rootTargetParentInfo = uiModel.getParentControl(uiInfo, targetId || targetContainerInfo.control.get(ID), List(['EntryAp', 'CardEntryAp', 'SubCardEntryAp']))\n      // }\n      return true;\n    }\n\n    // 获取被拖动控件的父控件ID, 获取目标控件的父控件ID, 如果前后相同, 表明是在同一个单据体内, 允许拖动; 否则禁止拖动\n    var rootParentId = rootCtrlParentInfo && rootCtrlParentInfo.get(_propnames.ID);\n    var rootTargetParentId = rootTargetParentInfo && rootTargetParentInfo.get(_propnames.ID);\n    if (rootTargetParentId && rootParentId && rootTargetParentId !== rootParentId) {\n      return false;\n    }\n  }\n  return true;\n}\n\n// 递归遍历控件，挑出具有实体属性的控件ID\nfunction getCtrlIdOfHasEntity(ctrlList, ctrlIds) {\n  if (ctrlList.size > 0) {\n    ctrlList = ctrlList.forEach(function (item) {\n      var children = item.get(_propnames.ITEMS, (0, _immutable.List)());\n      if (children.size > 0) {\n        getCtrlIdOfHasEntity(children, ctrlIds);\n      }\n      var itemCtrlType = item.get(_propnames.TYPE);\n      var itemId = item.get(_propnames.ID);\n      if (_model.uiModel.hasEntitymeta({\n        ctrlType: itemCtrlType\n      })) {\n        ctrlIds.push(itemId);\n      }\n    });\n  }\n  return ctrlIds;\n}\nfunction getCopyControls(uiInfo, copyControls) {\n  // 部分表单(如：布局表单)之间禁止复制实体控件\n  var isNotAllowPasteEntity = uiInfo.getIn(['options', 'isNotAllowPasteEntity'], false);\n  var items = copyControls.getIn(['ui', 'Items']);\n  if (isNotAllowPasteEntity) {\n    var ctrlIds = getCtrlIdOfHasEntity(items, []);\n    if (ctrlIds.length <= 0) return copyControls;\n    // 需要从后往前删，保证其他数据的顺序正确\n    ctrlIds.reverse().forEach(function (id) {\n      var uiPath = _immutableUtil[\"default\"].byId(copyControls, id);\n      copyControls = uiPath ? copyControls.deleteIn(uiPath) : copyControls;\n      var formPath = _immutableUtil.formmetatreeUtils.byId(copyControls, id);\n      copyControls = formPath ? copyControls.deleteIn(formPath) : copyControls;\n      var entityPath = _immutableUtil.entitymetatreeUtils.byId(copyControls, id);\n      copyControls = entityPath ? copyControls.deleteIn(entityPath) : copyControls;\n    });\n    var rootPageId = (0, _appModelFunction.getRootPageId)()((0, _global.getGlobalState)());\n    var msg = {\n      type: 2,\n      content: (0, _intlApi.getLangMsg)('bosd.defaultReducer.key0010')\n    };\n    (0, _appModelFunction.setDataMessages)(rootPageId, msg);\n  }\n  return copyControls;\n}\n\n/**\n * @ctrlId 有值, 说明是重复操作; 无值, 是粘贴操作\n*/\nfunction copyToControl(uiInfo, targetId, ctrlId, uiConfig) {\n  var _targetContainerInfo$2;\n  var isCopyFromLocalStorage = ctrlId == null; // 是否从剪切板复制\n  var copyControls;\n  if (isCopyFromLocalStorage) {\n    copyControls = (0, _common.getCopyContent)();\n    if (!copyControls) {\n      console.warn('复制源控件不存在');\n      return uiInfo;\n    }\n    var targetModelType = uiInfo.get('modelType') || uiInfo.getIn(['formmeta', 'ModelType']);\n    var originModelType = copyControls.get('modelType');\n    if (targetModelType !== originModelType) {\n      var msg = (0, _intlApi.getLangMsg)({\n        key: 'bosd.defaultReducer.key0011',\n        variables: {\n          modelType1: originModelType,\n          modelType2: targetModelType\n        }\n      });\n      throw {\n        message: msg,\n        type: 'warning'\n      };\n    }\n  } else {\n    copyControls = (0, _common.createUIInfo)(uiInfo, (0, _utils.convertToList)(ctrlId));\n  }\n  copyControls = getCopyControls(uiInfo, copyControls);\n  copyControls.getIn(['ui', 'Items']).forEach(function (control) {\n    var _uiModel$getParentCon4;\n    var isContainer = _model.uiModel.isContainerControl(uiConfig, uiInfo, targetId);\n    var isRootCtrl = _model.uiModel.isRootCtrl(uiInfo, targetId);\n    var insideParentId = isContainer || isRootCtrl ? targetId : (_uiModel$getParentCon4 = _model.uiModel.getParentControl(uiInfo, targetId)) === null || _uiModel$getParentCon4 === void 0 ? void 0 : _uiModel$getParentCon4.get('Id');\n    (0, _common.canAddUniqueFeild)(insideParentId, control, uiConfig, uiInfo);\n  });\n\n  // 计算复制到的容器ID\n  var targetContainerInfo = _model.uiModel.getContainerControl(uiInfo, targetId, true, uiConfig);\n  if (!targetContainerInfo) return uiInfo;\n  if (targetContainerInfo.control.get(_propnames.TYPE) === 'GridFlatPanelAp') {\n    throw {\n      message: (0, _intlApi.getLangMsg)('bosd.defaultReducer.key0012'),\n      type: 'warning'\n    };\n  }\n  var containerParentInfo = _model.uiModel.getParentControl(uiInfo, targetContainerInfo === null || targetContainerInfo === void 0 || (_targetContainerInfo$2 = targetContainerInfo.control) === null || _targetContainerInfo$2 === void 0 ? void 0 : _targetContainerInfo$2.get(_propnames.ID));\n  if ((containerParentInfo === null || containerParentInfo === void 0 ? void 0 : containerParentInfo.get(_propnames.TYPE)) === 'GridFlatPanelAp') {\n    throw {\n      message: (0, _intlApi.getLangMsg)('bosd.defaultReducer.key0013'),\n      type: 'warning'\n    };\n  }\n  var parentId = targetContainerInfo.control.get(_propnames.ID);\n  if (!isCopyFromLocalStorage) {\n    /**\n     * 容器的 重复 操作, 类似俄罗斯套娃, 一直在嵌套\n     * 想要的效果是: 同级 重复, 所以需要找到当前控件的父容器\n    */\n    var _uiModel$getContainer = _model.uiModel.getContainerControl(uiInfo, (0, _utils.convertToList)(ctrlId).get(0), false, uiConfig),\n      control = _uiModel$getContainer.control;\n    parentId = control.get(_propnames.ID);\n  }\n  targetId = targetContainerInfo.targetId;\n  var targetIndex = targetContainerInfo.targetIndex;\n  var entityParentId = _model.uiModel.getParentEntityId(uiInfo, parentId);\n\n  // 提取复制的信息\n  var ctrls, formInfos, entityInfos, entitytrees;\n  ctrls = formInfos = entityInfos = entitytrees = (0, _immutable.List)();\n  copyControls.getIn(['ui', _propnames.ITEMS], (0, _immutable.List)()).forEach(function (ctrlInfo) {\n    var ctrlId = ctrlInfo.get(_propnames.ID);\n    var ctrlType = ctrlInfo.get(_propnames.TYPE);\n    var fieldType = ctrlInfo.get('FieldType');\n    var validParams = {\n      parentId: parentId,\n      ctrlType: ctrlType,\n      fieldType: fieldType,\n      uiConfig: uiConfig\n    };\n    if (!isCopyFromLocalStorage) {\n      validParams.ctrlId = ctrlId;\n    } else {\n      validParams.isPaste = true;\n    }\n    if (!(0, _common.canAddControl)(uiInfo, validParams)) return;\n    var uiType = uiInfo && uiInfo.getIn(['ui', 'Type']);\n    var isMobileForm = ['MobileFormAp', 'MobileBillFormAp'].includes(uiType);\n    var parentInfo = _model.uiModel.getContainerControl(uiInfo, ctrlId);\n    // 在根节点进行跨表单复制, parentInfo取值为空\n    if (isMobileForm && parentInfo && !canMoveInEntry(uiInfo, parentInfo, targetContainerInfo, ctrlInfo)) {\n      var _fieldType2 = ctrlInfo.get('FieldType');\n      var _msg2 = (0, _intlApi.getLangMsg)({\n        key: 'bosd.defaultReducer.key0001',\n        variables: {\n          type: _fieldType2\n        }\n      });\n      throw {\n        message: _msg2,\n        type: 'warning'\n      };\n    }\n    var newControls = (0, _common.cloneControls)(uiInfo, copyControls, ctrlId, parentId, entityParentId, {\n      isCopyAndAdd: !isCopyFromLocalStorage\n    });\n    var ui = newControls.get('ui');\n    var formmeta = newControls.get('formmeta', (0, _immutable.List)());\n    var entitymeta = newControls.get('entitymeta', (0, _immutable.List)());\n    var entitytree = newControls.get('entitytree', (0, _immutable.List)());\n    ctrls = ctrls.push(ui);\n    if (formmeta.size > 0) {\n      var _formInfos;\n      formInfos = (_formInfos = formInfos).push.apply(_formInfos, _toConsumableArray(formmeta));\n    }\n    if (entitymeta.size > 0) {\n      var _entityInfos;\n      entityInfos = (_entityInfos = entityInfos).push.apply(_entityInfos, _toConsumableArray(entitymeta));\n    }\n    if (entitytree.size > 0) {\n      var _entitytrees;\n      entitytrees = (_entitytrees = entitytrees).push.apply(_entitytrees, _toConsumableArray(entitytree));\n    }\n  });\n\n  // 将信息插入&更新索引\n  if (ctrls.size > 0) {\n    if (!isCopyFromLocalStorage) {\n      targetIndex = ctrls.size === 1 ? targetIndex : null;\n    }\n    uiInfo = _model.uiModel.addUIItem(parentId, ctrls, targetIndex)(uiInfo);\n    uiInfo = _model.uiModel.addFormItem(formInfos)(uiInfo);\n    entityInfos = entityInfos.map(function (prop) {\n      var _prop = filterProp(prop, uiInfo);\n      var type = _prop.get('_Type_');\n      var isExistFieldNameProp = _model.metadataModel.getConfigProp(uiConfig, type, 'FieldName') !== undefined;\n      if (isExistFieldNameProp && _prop.get('FieldName', '') === '' && type !== 'RadioField') {\n        var fieldNamePrefix = getPrefixOfFieldName(null, uiInfo);\n        _prop = _prop.set('FieldName', \"\".concat(fieldNamePrefix).concat(_prop.get(_propnames.KEY)));\n      }\n      return _prop;\n    });\n    uiInfo = _model.uiModel.addEntityItem(entityInfos)(uiInfo);\n    if (entitytrees.size > 0) {\n      uiInfo = _model.uiModel.addEntityTreeItem(entityParentId, entitytrees)(uiInfo);\n    }\n    uiInfo = _model.uiModel.updateFormIndex(parentId)(uiInfo);\n  }\n  return uiInfo;\n}\n/** ***粘贴功能 end*****/\n\n/** ***重复功能 begin*****/\nfunction copyAndAddAction(state, action) {\n  var parentId = action.parentId,\n    ctrlId = action.ctrlId,\n    uiConfig = action.uiConfig;\n  var uiInfo = state.get('uiInfo');\n  var parentControl = _model.uiModel.getParentControl(uiInfo, ctrlId);\n  var childField = _model.uiModel.getUIFieldInfo(uiInfo, ctrlId);\n  (0, _common.canAddUniqueFeild)(parentControl.get(_propnames.ID), childField, uiConfig, uiInfo);\n  var select_control_id = state.get('select_control_id');\n  var select_control_ids = state.get('select_control_ids', (0, _immutable.List)());\n  var selIds = select_control_ids.size > 0 ? select_control_ids : _immutable.List.of(select_control_id);\n  selIds = selIds.filter(function (ctrlId) {\n    return !_model.uiModel.isRootCtrl(uiInfo, ctrlId);\n  });\n  if (selIds.size === 0) return state;\n  return state.update('uiInfo', function (uiInfo) {\n    return copyToControl(uiInfo, parentId, selIds, uiConfig);\n  });\n}\n/** ***重复功能 end*****/\n\n/** ***拖拽移动控件功能 begin*****/\nfunction moveToControlAction(state, action) {\n  var ctrlId = action.ctrlId,\n    parentId = action.parentId,\n    uiConfig = action.uiConfig;\n  var ctrlIds = typeof ctrlId === 'string' ? _immutable.List.of(ctrlId) : ctrlId;\n  if (ctrlIds.size === 0) return state;\n  ctrlId = ctrlIds.get(0);\n  var uiInfo = state.get('uiInfo');\n  if (_model.uiModel.isRootCtrl(uiInfo, ctrlId)) return state;\n  // 刷新被拖动的控件父容器\n  // const dragParentCtrl = uiModel.getParentControl(uiInfo, ctrlId)\n\n  var selectId = ctrlId;\n  if (ctrlIds.size === 1 && isBindReflect(uiInfo, ctrlId, parentId)) {\n    state = state.update('uiInfo', function (uiInfo) {\n      return bindCardFieldReflect(uiInfo, ctrlId, parentId);\n    });\n    selectId = parentId;\n  } else {\n    state = state.update('uiInfo', function (uiInfo) {\n      return moveToControl(uiInfo, parentId, ctrlIds, uiConfig, {\n        isDrag: true\n      });\n    });\n  }\n  state = (0, _common.setSelectControlId)(state, selectId || _model.uiModel.getRootId(uiInfo));\n  return state;\n}\n/**\n * [是否绑定实体映射，（将fieldId的实体绑定到targetId字段上）]\n * @param  {[type]}  fieldId  [绑定源]\n * @param  {[type]}  targetId [绑定目标]\n */\nfunction isBindReflect(uiInfo, fieldId, targetId) {\n  var ctrlInfo = _model.uiModel.getUIFieldInfo(uiInfo, fieldId);\n  var ctrlType = ctrlInfo && ctrlInfo.get(_propnames.TYPE);\n  var targetInfo = _model.uiModel.getUIFieldInfo(uiInfo, targetId);\n  var targetType = targetInfo && targetInfo.get(_propnames.TYPE);\n  if (ctrlType === 'EntryFieldAp' && targetType === 'CardEntryFieldAp') {\n    var cardEntryCtrl = _model.uiModel.getParentControl(uiInfo, targetId, 'CardEntryAp');\n    if (!cardEntryCtrl) return false;\n    var cardEntryFormInfo = _model.uiModel.getFormFieldInfo(uiInfo, cardEntryCtrl.get(_propnames.ID));\n    var entryId = cardEntryFormInfo.get('EntryId', '');\n    if (entryId.length === 0) {\n      return true;\n    } else if (entryId.length > 0) {\n      var entryCtrl = _model.uiModel.getParentControl(uiInfo, fieldId);\n      var entryFormInfo = _model.uiModel.getFormFieldInfo(uiInfo, entryCtrl.get(_propnames.ID));\n      if (entryFormInfo.get('EntryId', '') === entryId) {\n        return true;\n      } else {\n        throw {\n          message: (0, _intlApi.getLangMsg)('bosd.defaultReducer.key0014'),\n          type: 'warning'\n        };\n      }\n    }\n  }\n  return false;\n}\n/**\n * 绑定卡片(列表)字段映射\n * @param  {[type]} ctrlId   [EntryFieldAp字段Id]\n * @param  {[type]} entityId [CardField字段Id]\n */\nfunction bindCardFieldReflect(uiInfo, fieldId, targetId) {\n  var cardEntryCtrl = _model.uiModel.getParentControl(uiInfo, targetId, 'CardEntryAp');\n  if (!cardEntryCtrl) return uiInfo;\n  var entryCtrl = _model.uiModel.getParentControl(uiInfo, fieldId);\n  if (!entryCtrl) return uiInfo;\n  var cardEntryFormInfo = _model.uiModel.getFormFieldInfo(uiInfo, cardEntryCtrl.get(_propnames.ID));\n  var entryFormInfo = _model.uiModel.getFormFieldInfo(uiInfo, entryCtrl.get(_propnames.ID));\n  var entryId = entryFormInfo.get('EntryId', '');\n  var cardEntryId = cardEntryFormInfo.get('EntryId', '');\n  if (cardEntryId.length > 0 && entryId !== cardEntryId) return uiInfo;\n  if (cardEntryId.length === 0) {\n    var _cardEntryId = cardEntryCtrl.get(_propnames.ID);\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: _cardEntryId,\n      propName: 'EntryId',\n      value: entryId,\n      metaType: 'formmeta'\n    })(uiInfo);\n  }\n  var entityInfo = _model.uiModel.getEntityFieldInfo(uiInfo, fieldId);\n  if (!entityInfo) return uiInfo;\n  var entityId = entityInfo.get(_propnames.ID);\n  var name = entityInfo.get('Name');\n  uiInfo = _model.uiModel.updatePropValue({\n    fieldId: targetId,\n    propName: 'FieldId',\n    value: entityId,\n    metaType: 'formmeta'\n  })(uiInfo);\n  uiInfo = _model.uiModel.updatePropValue({\n    fieldId: targetId,\n    propName: 'Name',\n    value: name,\n    metaType: 'formmeta'\n  })(uiInfo);\n  return uiInfo;\n}\n/** ***拖拽移动控件功能 end*****/\n\n/**\n * 分录切换到平铺视图\n * @param {*} state\n * @param {*} action\n */\nfunction switchFlatPanelAction(state, action) {\n  var ctrlId = action.ctrlId,\n    uiConfig = action.uiConfig;\n  var uiInfo = state.get('uiInfo');\n  var path = (0, _immutableUtil.getTreeUtils)((0, _immutable.Seq)(['ui']), _propnames.ID, _propnames.ITEMS).byId(uiInfo, ctrlId);\n  var entryentity = uiInfo.getIn(path);\n  var items = entryentity.get('Items', (0, _immutable.List)());\n  var gridFlatPanel = items.filter(function (item) {\n    return item.get('Type') === 'GridFlatPanelAp';\n  });\n  if (gridFlatPanel.size > 0) {\n    state = state.update('uiInfo', function (uiInfo) {\n      return updateGridFlatPanel(uiInfo, entryentity, gridFlatPanel, uiConfig);\n    });\n  } else {\n    state = state.update('uiInfo', function (uiInfo) {\n      return createGridFlatPanel(uiInfo, entryentity, uiConfig);\n    });\n  }\n  return state;\n}\n\n// 创建分录平铺容器\nfunction createGridFlatPanel(uiInfo, entryentity, uiConfig) {\n  var ctrlId = entryentity.get('Id');\n  var entryFields = getAllEntryField(entryentity, uiInfo);\n  if (entryFields.size < 1) {\n    return uiInfo;\n  }\n  var newId = (0, _utils.createNewId)();\n  uiInfo = addControl(uiInfo, {\n    _id: newId,\n    key: (0, _utils.createNewKey)(uiInfo, 'GridFlatPanelAp'),\n    ctrlType: 'GridFlatPanelAp',\n    parentId: ctrlId,\n    uiConfig: uiConfig\n  });\n  uiInfo = _model.uiModel.updatePropValue({\n    fieldId: newId,\n    propName: 'Direction',\n    value: 'column',\n    metaType: 'formmeta'\n  })(uiInfo);\n  uiInfo = _model.uiModel.updatePropValue({\n    fieldId: newId,\n    propName: 'Grow',\n    value: 1,\n    metaType: 'formmeta'\n  })(uiInfo);\n  var panleId = (0, _utils.createNewId)();\n  uiInfo = addControl(uiInfo, {\n    _id: panleId,\n    key: (0, _utils.createNewKey)(uiInfo, 'FieldsetPanelAp'),\n    ctrlType: 'FieldsetPanelAp',\n    parentId: newId,\n    uiConfig: uiConfig\n  });\n  entryFields.forEach(function (field, index) {\n    var fieldType = field.get('_Type_');\n    var fieldId = field.get('Id');\n    var formmetaItems = uiInfo.getIn(['formmeta', 'Items'], new _immutable.List());\n    var newFieldId = (0, _utils.createNewId)();\n    var fieldKey = (0, _utils.createNewKey)(uiInfo, fieldType);\n    // 只找当前单据体下的字段，若同一个单据体里面有两个字段映射同一实体，就只取第一个\n    var fieldInfo = formmetaItems.find(function (item) {\n      if (item.get('FieldId') !== fieldId || item.get('_Type_') !== 'EntryFieldAp') return false;\n      var parentId = item.get('ParentId');\n      if (parentId === ctrlId) return true;\n\n      // 处理分组列时字段找到的parentId是分组列的场景\n      var parent = formmetaItems.find(function (item) {\n        return item.get('Id') === parentId;\n      });\n      while (parent && parent.get('_Type_') !== 'EntryAp') {\n        parent = formmetaItems.find(function (item) {\n          return item.get('Id') === parent.get('ParentId');\n        });\n      }\n      parentId = parent && parent.get('Id') || '';\n\n      // 分组列往上查找能找到单据体id\n      if (parentId === ctrlId) return true;\n      return false;\n    });\n    if (!fieldInfo) return;\n    var ctrlName = fieldInfo.get('Name');\n    var entryFieldId = fieldInfo.get('Id');\n    var ctrlType = 'FlatFieldAp';\n    var formInfo = _defineProperty({\n      inflat: true\n    }, _propnames.RELATE_ENTRY_FIELD_ID, entryFieldId);\n    uiInfo = addControl(uiInfo, {\n      _id: newFieldId,\n      key: fieldKey,\n      ctrlType: ctrlType,\n      fieldType: fieldType,\n      index: index,\n      parentId: panleId,\n      uiConfig: uiConfig,\n      fieldId: fieldId,\n      formInfo: formInfo,\n      ctrlName: ctrlName\n    });\n  });\n  return uiInfo;\n}\n\n// 更新分录平铺容器\nfunction updateGridFlatPanel(uiInfo, entryentity, gridFlatPanel, uiConfig) {\n  var entryFields = getAllEntryField(entryentity, uiInfo);\n  var ctrlId = entryentity.get('Id');\n  var parentId = gridFlatPanel.getIn([0, 'Id']);\n  var fieldSetPanel = gridFlatPanel.getIn([0, 'Items']).find(function (item) {\n    return item.get('Type') === 'FieldsetPanelAp';\n  });\n  if (fieldSetPanel) {\n    parentId = fieldSetPanel.get('Id');\n  }\n  entryFields.forEach(function (field, index) {\n    var fieldId = field.get('Id');\n    var formmetaItems = uiInfo.getIn(['formmeta', 'Items'], new _immutable.List());\n\n    // 只找当前单据体下的实体字段，若同一个单据体里面有两个字段映射同一实体，就只取第一个\n    var fieldInfo = formmetaItems.find(function (item) {\n      if (item.get('FieldId') !== fieldId || item.get('_Type_') !== 'EntryFieldAp') return false;\n      var _parentId = item.get('ParentId');\n      if (_parentId === ctrlId) return true;\n\n      // 处理分组列时字段找到的parentId是分组列的场景\n      var parent = formmetaItems.find(function (item) {\n        return item.get('Id') === _parentId;\n      });\n      while (parent && parent.get('_Type_') !== 'EntryAp') {\n        parent = formmetaItems.find(function (item) {\n          return item.get('Id') === parent.get('ParentId');\n        });\n      }\n      _parentId = parent && parent.get('Id') || '';\n\n      // 分组列往上查找能找到单据体id\n      if (_parentId === ctrlId) return true;\n      return false;\n    });\n\n    // 找到当前平铺容器中是否存在对应字段\n    var size = formmetaItems.filter(function (item) {\n      return item.get('FieldId') === fieldId && item.get('ParentId') === parentId;\n    }).size;\n    // 不存在时增加一个平铺字段\n    if (fieldInfo && size === 0) {\n      var fieldType = field.get('_Type_');\n      var ctrlName = fieldInfo.get('Name');\n      var entryFieldId = fieldInfo.get('Id');\n      var newFieldId = (0, _utils.createNewId)();\n      var fieldKey = (0, _utils.createNewKey)(uiInfo, fieldType);\n      var ctrlType = 'FlatFieldAp';\n      var formInfo = _defineProperty({\n        inflat: true\n      }, _propnames.RELATE_ENTRY_FIELD_ID, entryFieldId);\n      // 目前index可能会重复\n      uiInfo = addControl(uiInfo, {\n        _id: newFieldId,\n        key: fieldKey,\n        ctrlType: ctrlType,\n        fieldType: fieldType,\n        index: index,\n        parentId: parentId,\n        uiConfig: uiConfig,\n        fieldId: fieldId,\n        formInfo: formInfo,\n        ctrlName: ctrlName\n      });\n    }\n  });\n  return uiInfo;\n}\n/**\n * 获取分录下的所有字段（pc布局下有问题）\n * @param {*} entryentity\n */\nfunction getAllEntryField(entryentity, uiInfo) {\n  var entryFieldApPaths = (0, _immutableUtil.getTreeUtils)((0, _immutable.Seq)(), _propnames.ID, _propnames.ITEMS).filter(entryentity, function (node) {\n    return node.get('Type') === 'EntryFieldAp';\n  });\n  var entryFieldAps = entryFieldApPaths.map(function (path) {\n    return entryentity.getIn(path);\n  });\n  var entryFields = entryFieldAps.reverse().map(function (item) {\n    var id = item.get('Id');\n    var field = uiInfo.getIn(['formmeta', 'Items'], new _immutable.List()).find(function (item) {\n      return item.get('Id') === id;\n    }, (0, _immutable.List)());\n    if (field) {\n      var fieldId = field.get('FieldId');\n      return uiInfo.getIn(['entitymeta', 'Items'], new _immutable.List()).find(function (item) {\n        return item.get('Id') === fieldId;\n      }, (0, _immutable.List)());\n    }\n  });\n  // let entryentityId = entryentity.get('Id')\n  // let entryFields = uiInfo.getIn(['entitymeta', 'Items'], new List()).filter(item => item.get('ParentId') === entryentityId && item.get('_Type_') !== 'SubEntryEntity', List())\n  return entryFields;\n}\nfunction applyPageTemplate(state, action) {\n  var templateData = action.templateData,\n    uiConfig = action.uiConfig;\n  // 设置页面模版需要先拿到大纲根结点id\n  var rootId = state.getIn(['uiInfo', 'id']);\n  // 拿到单据列表的实体id替换模板的实体id\n  var formmeta = state.getIn(['uiInfo', 'formmeta', 'Items'], (0, _immutable.List)());\n  var billList = formmeta.find(function (item) {\n    return item.get('Id') === '_BillList_';\n  });\n  var entityId = billList && billList.get('EntityId');\n  // 拿到当前已经映射的字段信息\n  var uiInfo = state.get('uiInfo');\n  var pageFieldInfos = state.getIn(['uiInfo', 'pageFieldInfos'], (0, _immutable.Map)());\n  var fieldInfos = getChildrenFieldInfos(uiInfo, rootId);\n  var newPageFieldInfos = pageFieldInfos.merge(fieldInfos);\n  state = state.setIn(['uiInfo', 'pageFieldInfos'], newPageFieldInfos);\n  state = deleteChildControls(state, {\n    containerId: rootId,\n    uiConfig: uiConfig\n  });\n  state = state.update('uiInfo', function (uiInfo) {\n    return _model.uiModel.convertPageTemplateToUiInfo(uiInfo, rootId, templateData, entityId);\n  });\n  return state;\n}\nfunction applyContainerTemplate(state, action) {\n  var templateData = action.templateData,\n    uiConfig = action.uiConfig,\n    containerId = action.containerId;\n  // todo: 拿到容器内字段的映射信息，并缓存一下\n  var uiInfo = state.get('uiInfo');\n  var pageFieldInfos = state.getIn(['uiInfo', 'pageFieldInfos'], (0, _immutable.Map)());\n  var childrenFieldInfos = getChildrenFieldInfos(uiInfo, containerId);\n  var newPageFieldInfos = pageFieldInfos.merge(childrenFieldInfos);\n  state = state.setIn(['uiInfo', 'pageFieldInfos'], newPageFieldInfos);\n  var entitytree = uiInfo.get('entitytree', (0, _immutable.Map)());\n  var billList = getBillList(entitytree);\n  state = deleteChildControls(state, {\n    containerId: containerId,\n    uiConfig: uiConfig\n  });\n  state = state.update('uiInfo', function (uiInfo) {\n    return _model.uiModel.convertContainerTemplateToUiInfo(uiInfo, containerId, templateData, newPageFieldInfos, billList);\n  });\n  return state;\n}\nfunction getChildrenFieldInfos(uiInfo, containerId) {\n  var fieldInfo = _model.uiModel.getUIFieldInfo(uiInfo, containerId);\n  var formmetas = uiInfo.getIn(['formmeta', 'Items']);\n  var treeUtils = (0, _immutableUtil.getTreeUtils)((0, _immutable.Seq)(), _propnames.ID, _propnames.ITEMS);\n  var childrenInfos = (0, _immutable.Map)();\n  treeUtils.nodes(fieldInfo).forEach(function (keyPath) {\n    // console.log(treeUtils.id(fieldInfo, keyPath))\n    var id = treeUtils.id(fieldInfo, keyPath);\n    var item = formmetas.find(function (item) {\n      return item.get(_propnames.ID) === id;\n    });\n    var listFieldId = item && item.get('ListFieldId');\n    if (listFieldId) {\n      var key = item.get('Key');\n      // const type = item.get('_Type_')\n      childrenInfos = childrenInfos.set(key, (0, _immutable.Map)({\n        ListFieldId: listFieldId,\n        Name: item.get('Name')\n      }));\n    }\n  });\n  return childrenInfos;\n}\nfunction getBillList(entitytree) {\n  return entitytree.get('Items', (0, _immutable.List)()).find(function (item) {\n    return item.get('Type') === 'billList';\n  }, null, (0, _immutable.Map)()).get('Items', (0, _immutable.List)());\n}\n\n/**\n * 删除某一个容器的所有子控件\n */\nfunction deleteChildControls(state, _ref12) {\n  var containerId = _ref12.containerId,\n    uiConfig = _ref12.uiConfig;\n  var uiInfo = state.get('uiInfo');\n  var uiFieldInfo = _model.uiModel.getUIFieldInfo(uiInfo, containerId);\n  var childControls = uiFieldInfo.get(_propnames.ITEMS) || (0, _immutable.List)();\n  if (childControls.size > 0) {\n    var childControlIds = childControls.map(function (item) {\n      return item.get(_propnames.ID);\n    });\n    state = deleteControlAction(state, {\n      ctrlId: childControlIds,\n      uiConfig: uiConfig,\n      fromTemplate: true\n    });\n  }\n  return state;\n}\nfunction applyControlTemplate(state, action) {\n  var templateData = action.templateData,\n    controlId = action.controlId;\n  var selectControliIds = state.get('select_control_ids', (0, _immutable.List)());\n  var selIds = selectControliIds.size > 0 ? selectControliIds : [controlId];\n  selIds.forEach(function (controlId) {\n    state = state.update('uiInfo', function (uiInfo) {\n      return _model.uiModel.updateControlFormInfo(uiInfo, controlId, templateData);\n    });\n    var uiInfo = state.get('uiInfo');\n    var fieldInfo = _model.uiModel.getUIFieldInfo(uiInfo, controlId);\n    // TODO 兼容工具栏这类容器控件\n    if (fieldInfo.get(_propnames.TYPE) === 'MToolbarAp') {\n      var items = fieldInfo.get(_propnames.ITEMS);\n      var templateItems = templateData.getIn(['formMeta', 'items']);\n      items.forEach(function (item, index) {\n        var childlControlId = item.get('Id');\n        var itemTemplateData = templateItems[index]; // immutable obj\n        state = state.update('uiInfo', function (uiInfo) {\n          return _model.uiModel.updateControlFormInfo(uiInfo, childlControlId, itemTemplateData);\n        });\n      });\n    }\n  });\n  return state;\n}\nfunction updateUIPropValue(state, action) {\n  var controlId = action.controlId,\n    propertyName = action.propertyName,\n    value = action.value;\n  return state.update('uiInfo', function (uiInfo) {\n    return _model.uiModel.updateUIPropValue(controlId, propertyName, value)(uiInfo);\n  });\n}\n\n// 场景卡片中文词条枚举，可以根据key或value相互获取\nvar FRAGMENT_TEMPLATE_WORDS_ENUM = (0, _enum.getEnum)(Object.keys(_designerTemplate_zh_CN[\"default\"]), Object.values(_designerTemplate_zh_CN[\"default\"]));\nfunction addTempFragment(state, action) {\n  var controlId = action.controlId,\n    tempFragmentData = action.tempFragmentData;\n  var selectId = controlId;\n  state = state.update('uiInfo', function (uiInfo) {\n    var tempMap = (0, _templateUtil.convertTemplate2UiInfo)(tempFragmentData);\n    var ui = tempMap.get('ui');\n    selectId = ui.get('Id');\n    uiInfo = _model.uiModel.addUIItem(controlId, ui, null)(uiInfo);\n    var addIds = [];\n    var formmetaItems = tempMap.getIn(['formmeta', 'Items'], (0, _immutable.List)()).map(function (item) {\n      var _item;\n      var oldkey = item.get(_propnames.KEY);\n      var key = (0, _utils.createNewKey)(uiInfo, oldkey, addIds); // 替换模板之后按照规范修改控件的key\n      var wordKey = FRAGMENT_TEMPLATE_WORDS_ENUM.get((_item = item) === null || _item === void 0 ? void 0 : _item.get(_propnames.NAME)); // 根据名称获取多语言词条的key\n      if (wordKey) {\n        var name = (0, _intlApi.getLangMsg)(wordKey);\n        if (name) {\n          item = item.set(_propnames.NAME, name);\n        }\n      }\n      addIds.push(key);\n      item = item.set(_propnames.KEY, key);\n      if (item.get(_propnames.ID) === selectId) {\n        item = item.set(_propnames.PARENTID, controlId);\n      }\n      return item;\n    });\n    uiInfo = _model.uiModel.addFormItem(formmetaItems)(uiInfo);\n    uiInfo = _model.uiModel.updateFormIndex(controlId)(uiInfo);\n    return uiInfo;\n  });\n  state = (0, _common.setSelectControlId)(state, selectId);\n  return state;\n}\nvar _prefix = '';\n/**\n * 获取字段名属性前缀\n*/\nfunction getPrefixOfFieldName(state, uiInfoParam) {\n  // 只需要获取一次\n  if (!_prefix) {\n    var uiInfo = uiInfoParam || state.get('uiInfo');\n    var isv = uiInfo.get('isv', 'kingdee');\n    _prefix = 'f';\n    if (isv && isv !== 'kingdee') {\n      _prefix = 'fk_';\n    }\n  }\n  return _prefix;\n}\n/** 添加实体, 并将实体与表单关联 */\nfunction addEntityInfo(state, action) {\n  var prefix = getPrefixOfFieldName(state);\n  var entityInfo = action.entityInfo;\n  entityInfo = (0, _immutable.fromJS)(entityInfo);\n  state = state.update('uiInfo', function (uiInfo) {\n    var newKey = (0, _utils.createNewKey)(uiInfo, entityInfo.get(_propnames.KEY));\n    var entityParentId = _model.uiModel.getParentEntityId(uiInfo, entityInfo.get(_propnames.PARENTID)) || entityInfo.get(_propnames.PARENTID);\n    entityInfo = entityInfo.set(_propnames.KEY, newKey);\n    entityInfo = entityInfo.set('FieldName', \"\".concat(prefix).concat(newKey));\n    entityInfo = entityInfo.set(_propnames.PARENTID, entityParentId);\n    uiInfo = _model.uiModel.addEntityItem(entityInfo)(uiInfo);\n    var entityreadonly = uiInfo.get('entityreadonly');\n    if (!entityreadonly) {\n      uiInfo = _model.uiModel.addEntityTreeItem(entityParentId, (0, _immutable.Map)(_defineProperty(_defineProperty(_defineProperty({}, _propnames.ID, entityInfo.get(_propnames.ID)), _propnames.TYPE, entityInfo.get(_propnames._TYPE_)), _propnames.NAME, entityInfo.get(_propnames.NAME))))(uiInfo);\n    }\n    return uiInfo;\n  });\n  return state;\n}\n\n//# sourceURL=webpack://bos-platform/./src/designer/reducer/ui/defaultReducer.js?");

/***/ }),

/***/ "./src/designer/reducer/ui/historyReducer.js":
/*!***************************************************!*\
  !*** ./src/designer/reducer/ui/historyReducer.js ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = historyAction;\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _constant = __webpack_require__(/*! ../../constant */ \"./src/designer/constant/index.js\");\nvar actionnames = _interopRequireWildcard(__webpack_require__(/*! ../../constant/actionnames */ \"./src/designer/constant/actionnames.js\"));\nvar _model = __webpack_require__(/*! ../../model */ \"./src/designer/model/index.js\");\nvar _common = __webpack_require__(/*! ./common */ \"./src/designer/reducer/ui/common.js\");\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction historyAction(state, action) {\n  switch (action.type) {\n    case actionnames.push_undo:\n      // 将信息压入undo栈\n      state = pushUndo(state);\n      break;\n    case actionnames.undo_ui_info:\n      // 撤销\n      state = undoAction(state);\n      break;\n    case actionnames.redo_ui_info:\n      // 还原\n      state = redoAction(state);\n      break;\n    case actionnames.undo_ui_info_and_push_undo:\n      // 去掉之前的undo再录入当前的uiInfo进入undo\n      state = popUndoAndPush(state);\n      break;\n  }\n  return state;\n}\n\n/** ***撤销、重做功能 begin*****/\nfunction pushUndo(state) {\n  var uiInfo = state.get('uiInfo');\n  if (!uiInfo) return state;\n  state = state.update('history', (0, _immutable.Map)(), function (history) {\n    var index = history.get('curIndex', -1);\n    var undos = history.get('undos', (0, _immutable.List)());\n    var begin = 0;\n    var end = index + 1;\n    if (index === _constant.UNDO_STACK_SIZE - 1) {\n      begin = 1;\n    } else {\n      index = index + 1;\n    }\n    var select_control_id = state.get('select_control_id');\n    var select_control_ids = state.get('select_control_ids');\n    undos = undos.slice(begin, end).push((0, _immutable.Map)({\n      uiInfo: uiInfo,\n      select_control_id: select_control_id,\n      select_control_ids: select_control_ids\n    }));\n    return history.set('undos', undos).set('curIndex', index);\n  });\n  return state;\n}\nfunction popUndoAndPush(state) {\n  var uiInfo = state.get('uiInfo');\n  if (!uiInfo) return state;\n  state = state.update('history', (0, _immutable.Map)(), function (history) {\n    var index = history.get('curIndex', -1);\n    var undos = history.get('undos', (0, _immutable.List)());\n    if (undos.size === 1 || index === 0) return history;\n    index--;\n    undos = undos.slice(0, undos.size - 1);\n    return history.set('undos', undos).set('curIndex', index);\n  });\n  return pushUndo(state);\n}\nfunction undoAction(state) {\n  var index = state.getIn(['history', 'curIndex'], 0);\n  if (index <= 0) return state;\n  index = index - 1;\n  var info = state.getIn(['history', 'undos', index]);\n  if (!info) return state;\n  var uiInfo = info.get('uiInfo');\n  var select_control_id = info.get('select_control_id');\n  var select_control_ids = info.get('select_control_ids');\n  state = state.set('uiInfo', uiInfo);\n  state = state.set('select_control_id', select_control_id);\n  state = state.set('select_control_ids', select_control_ids);\n  state = state.setIn(['history', 'curIndex'], index);\n  return state;\n}\nfunction redoAction(state) {\n  var index = state.getIn(['history', 'curIndex'], 0);\n  var undos = state.getIn(['history', 'undos'], (0, _immutable.List)());\n  if (undos.size - 1 <= index) return state;\n  index = index + 1;\n  var info = state.getIn(['history', 'undos', index]);\n  if (!info) return state;\n  var uiInfo = info.get('uiInfo');\n  var select_control_id = info.get('select_control_id');\n  var select_control_ids = info.get('select_control_ids');\n  state = state.set('uiInfo', uiInfo);\n  state = state.set('select_control_id', select_control_id);\n  state = state.set('select_control_ids', select_control_ids);\n  state = state.setIn(['history', 'curIndex'], index);\n  return state;\n}\n/** ***撤销、重做功能 end*****/\n\n//# sourceURL=webpack://bos-platform/./src/designer/reducer/ui/historyReducer.js?");

/***/ }),

/***/ "./src/designer/reducer/ui/index.js":
/*!******************************************!*\
  !*** ./src/designer/reducer/ui/index.js ***!
  \******************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = uiAction;\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _commonReducer = _interopRequireDefault(__webpack_require__(/*! ./commonReducer */ \"./src/designer/reducer/ui/commonReducer.js\"));\nvar _historyReducer = _interopRequireDefault(__webpack_require__(/*! ./historyReducer */ \"./src/designer/reducer/ui/historyReducer.js\"));\nvar _defaultReducer = _interopRequireDefault(__webpack_require__(/*! ./defaultReducer */ \"./src/designer/reducer/ui/defaultReducer.js\"));\nvar _printReducer = _interopRequireDefault(__webpack_require__(/*! ./printReducer */ \"./src/designer/reducer/ui/printReducer.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction uiAction() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : (0, _immutable.Map)();\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  state = (0, _commonReducer[\"default\"])(state, action);\n  state = (0, _historyReducer[\"default\"])(state, action);\n  var uiInfo = state.get('uiInfo');\n  if (uiInfo && uiInfo.get('modelType') === 'PrintModel') {\n    state = (0, _printReducer[\"default\"])(state, action);\n  } else {\n    state = (0, _defaultReducer[\"default\"])(state, action);\n  }\n  return state;\n}\n\n//# sourceURL=webpack://bos-platform/./src/designer/reducer/ui/index.js?");

/***/ }),

/***/ "./src/designer/reducer/ui/printReducer.js":
/*!*************************************************!*\
  !*** ./src/designer/reducer/ui/printReducer.js ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.from.js */ \"../../node_modules/core-js/modules/es.array.from.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-properties.js */ \"../../node_modules/core-js/modules/es.object.define-properties.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptors.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = printDesignerAction;\nexports.setSelectControlIds = setSelectControlIds;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.find.js */ \"../../node_modules/core-js/modules/es.array.find.js\");\n__webpack_require__(/*! core-js/modules/es.array.find-index.js */ \"../../node_modules/core-js/modules/es.array.find-index.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.array.reduce.js */ \"../../node_modules/core-js/modules/es.array.reduce.js\");\n__webpack_require__(/*! core-js/modules/es.array.slice.js */ \"../../node_modules/core-js/modules/es.array.slice.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.parse-float.js */ \"../../node_modules/core-js/modules/es.parse-float.js\");\n__webpack_require__(/*! core-js/modules/es.parse-int.js */ \"../../node_modules/core-js/modules/es.parse-int.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.string.ends-with.js */ \"../../node_modules/core-js/modules/es.string.ends-with.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.string.replace.js */ \"../../node_modules/core-js/modules/es.string.replace.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.timers.js */ \"../../node_modules/core-js/modules/web.timers.js\");\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _global = _interopRequireWildcard(__webpack_require__(/*! @/global */ \"./src/global/index.js\"));\nvar _propnames = __webpack_require__(/*! ../../constant/propnames */ \"./src/designer/constant/propnames.js\");\nvar actionnames = _interopRequireWildcard(__webpack_require__(/*! ../../constant/actionnames */ \"./src/designer/constant/actionnames.js\"));\nvar _immutableUtil = _interopRequireWildcard(__webpack_require__(/*! ../../utils/immutableUtil */ \"./src/designer/utils/immutableUtil.js\"));\nvar _utils = __webpack_require__(/*! ../../utils */ \"./src/designer/utils/index.js\");\nvar _common = __webpack_require__(/*! ./common */ \"./src/designer/reducer/ui/common.js\");\nvar _model = __webpack_require__(/*! ../../model */ \"./src/designer/model/index.js\");\nvar _unit = __webpack_require__(/*! ../../utils/unit */ \"./src/designer/utils/unit.js\");\nvar _paperSize = __webpack_require__(/*! ../../constant/paperSize */ \"./src/designer/constant/paperSize.js\");\nvar _printSelectUtil = _interopRequireDefault(__webpack_require__(/*! ../../utils/printSelectUtil */ \"./src/designer/utils/printSelectUtil.js\"));\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nvar _excluded = [\"Id\", \"ParentId\", \"Name\", \"FieldId\", \"FieldType\", \"Key\", \"_Type_\"];\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction printDesignerAction() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : (0, _immutable.Map)();\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case actionnames.add_control:\n      return addControlAction(state, action);\n    case actionnames.add_field_control:\n      return addFieldControlAction(state, action);\n    case actionnames.delete_control:\n      return deleteControlAction(state, action);\n    case actionnames.update_prop_value:\n      return updatePropValueAction(state, action);\n    case actionnames.reset_fill_wh:\n      return resetFillWidthHeightAction(state, action);\n    case actionnames.paste_control:\n      // 粘贴控件\n      return pasteControlAction(state, action);\n    case actionnames.moveto_control:\n      // 将一个控件移动到另一个控件中\n      return moveToControlAction(state, action);\n    case actionnames.copy_and_add:\n      return copyAndAddAction(state, action);\n    case actionnames.throw_operate_info:\n      return throwInfoAction(state, action);\n    case actionnames.set_select_controlIds:\n      return setSelectControlIds(state, action);\n    case actionnames.convert_appmodelfunction:\n      return action.action(state);\n  }\n  return state;\n}\n// TODO: 添加行列，当父是表格类时修改整体宽高与行列高度? 太多限制了暂时不处理\n/** ***添加控件功能 begin*****/\nfunction addControlAction(state, action) {\n  var ctrlInfo = action.ctrlInfo,\n    parentId = action.parentId,\n    uiConfig = action.uiConfig,\n    selectedFormInfo = action.selectedFormInfo;\n  var targetId = parentId;\n  var ctrlType;\n  if (_typeof(ctrlInfo) !== 'object') {\n    ctrlType = ctrlInfo;\n    ctrlInfo = null;\n  } else {\n    ctrlType = ctrlInfo[_propnames.TYPE];\n    delete ctrlInfo[_propnames.TYPE];\n  }\n\n  // 单元格不允许手动添加, 只属于行、列容器的添加\n  if (_model.printModel.isCell(ctrlType)) return state;\n  var _id = (0, _utils.createNewId)();\n  state = state.update('uiInfo', function (uiInfo) {\n    var key = (0, _utils.createNewKey)(uiInfo, ctrlType);\n    var params = {\n      state: state,\n      _id: _id,\n      key: key,\n      parentId: parentId,\n      targetId: targetId,\n      ctrlType: ctrlType,\n      index: null,\n      formInfo: ctrlInfo,\n      uiConfig: uiConfig,\n      selectedFormInfo: selectedFormInfo\n    };\n    // params参数不要使用{}展开。具体查看beforeAddControl方法\n    return (0, _common.actionWrap)(addControl, beforeAddControl, afterAddControl)(uiInfo, params);\n  });\n  state = (0, _common.setSelectControlId)(state, _id);\n  return state;\n}\n/**\n * params参数不要使用{}展开。\n * 因为会在方法里面修改参数，展开的话就没办法修改了，会导致之后的addControl方法获取参数错误\n * @sideEffects params = {formInfo: {Height, GroupID, RowType, Width}, index, parentId, ...}\n * updatePropValue\n */\nfunction beforeAddControl(uiInfo, params) {\n  var index = params.index,\n    ctrlType = params.ctrlType,\n    targetId = params.targetId,\n    parentId = params.parentId,\n    formInfo = params.formInfo,\n    uiConfig = params.uiConfig,\n    state = params.state;\n  if (ctrlType === 'DataRow' || ctrlType === 'LayoutRow' || ctrlType === 'SubDataRow') {\n    var gridInfo = _model.printModel.getGridInfo(uiInfo, parentId);\n    if (!gridInfo) throw {\n      message: (0, _intlApi.getLangMsg)('bosd.printReducer.key0001'),\n      type: 'warning'\n    };\n    parentId = gridInfo.get(_propnames.ID);\n    var posInfo = _model.printModel.getCellPosition(gridInfo, targetId) || {};\n    var rowId = posInfo && posInfo.rowId;\n    var rowFormInfo;\n    // let targetInfo=uiModel.getFormFieldInfo(uiInfo, targetId);\n    var rowType = formInfo && formInfo.RowType;\n    var isNext = formInfo && formInfo.isNext;\n    var detailRowId;\n    var detailIndex = gridInfo.get(_propnames.ITEMS, (0, _immutable.List)()).findIndex(function (item) {\n      var itemFormInfo = _model.uiModel.getFormFieldInfo(uiInfo, item.get(_propnames.ID));\n      if (itemFormInfo.get(_propnames._TYPE_) === ctrlType && itemFormInfo.get('RowType') === 'detail') {\n        detailRowId = item.get(_propnames.ID);\n        return true;\n      }\n    });\n    if (rowId) {\n      index = _immutableUtil[\"default\"].childIndex(uiInfo, rowId);\n      if (isNext === true && rowType !== 'extend' && rowType !== 'detail') {\n        // 在下方插入\n        index += 1;\n      }\n      rowFormInfo = _model.uiModel.getFormFieldInfo(uiInfo, rowId);\n      // 插入行时高度默认与选择的行等高\n      var height = rowFormInfo && rowFormInfo.get('Height');\n      if (height && formInfo && formInfo.RowType !== 'extend') {\n        params.formInfo.Height = height;\n      }\n    }\n    var rowIndex = posInfo.rowIndex;\n    if (ctrlType === 'DataRow' || ctrlType === 'SubDataRow') {\n      if (rowType === 'detail' && detailIndex >= 0) {\n        throw {\n          message: (0, _intlApi.getLangMsg)('bosd.printReducer.key0002'),\n          type: 'warning'\n        };\n      } else if (_lodash[\"default\"].endsWith(rowType, 'group')) {\n        if (detailIndex === -1) throw {\n          message: (0, _intlApi.getLangMsg)('bosd.printReducer.key0003'),\n          type: 'warning'\n        };\n        // 如果添加分组行，判断之前是否存在，如果存在直接添加\n        if (rowFormInfo && _lodash[\"default\"].endsWith(rowFormInfo.get('RowType'), 'group')) {\n          if (rowFormInfo.get('RowType') === 'startgroup') {\n            rowIndex = detailRowId !== rowId ? _model.printModel.getCellPosition(gridInfo, detailRowId).rowIndex : rowIndex; // 插入位置表格行坐标\n            index = detailIndex;\n          }\n          params.formInfo.GroupID = rowFormInfo.get('GroupID');\n        } else {\n          rowIndex = detailRowId !== rowId ? _model.printModel.getCellPosition(gridInfo, detailRowId).rowIndex : rowIndex; // 插入位置表格行坐标\n          index = detailIndex;\n          params.formInfo.GroupID = (0, _utils.createNewId)();\n          params.formInfo.RowType = 'startgroup';\n        }\n      } else if (rowType === 'extend') {\n        if (detailIndex === -1) throw {\n          message: (0, _intlApi.getLangMsg)('bosd.printReducer.key0004'),\n          type: 'warning'\n        };\n        var extendIndex = gridInfo.get(_propnames.ITEMS, (0, _immutable.List)()).findIndex(function (item) {\n          var itemFormInfo = _model.uiModel.getFormFieldInfo(uiInfo, item.get(_propnames.ID));\n          return itemFormInfo.get(_propnames._TYPE_) === ctrlType && itemFormInfo.get('RowType') === 'extend';\n        });\n        if (extendIndex !== -1) throw {\n          message: (0, _intlApi.getLangMsg)('bosd.printReducer.key0005'),\n          type: 'warning'\n        };\n        rowIndex = detailRowId !== rowId ? _model.printModel.getCellPosition(gridInfo, detailRowId).rowIndex + 1 : rowIndex + 1; // 插入位置表格行坐标\n        params.formInfo.Height = '24mm';\n        index = detailIndex + 1; // 数据行下一行\n      }\n    }\n    var repeatCount = formInfo && formInfo.repeatCount || 1;\n    // mergeBlocks = {left:0,right:2,top:2,bottom:3}表示合并行||合并列的区域即合并表格的0-2列2-3行\n    var mergeBlocks = _model.printModel.getMergeBlocks(uiInfo, parentId);\n    if (mergeBlocks) {\n      rowIndex = isNext === true ? rowIndex + 1 : rowIndex; // 下方插入时，位置+1\n      mergeBlocks = _model.printModel.updateMergeBlockVertical(mergeBlocks, rowIndex, repeatCount);\n      uiInfo = _model.uiModel.updatePropValue({\n        fieldId: parentId,\n        propName: 'MergeBlocks',\n        value: mergeBlocks,\n        metaType: _propnames.FORMMETA\n      })(uiInfo);\n    }\n  } else if (ctrlType === 'DataColumn' || ctrlType === 'LayoutColumn' || ctrlType === 'SubDataColumn') {\n    var _gridInfo = _model.printModel.getGridInfo(uiInfo, parentId);\n    if (!_gridInfo) throw {\n      message: (0, _intlApi.getLangMsg)('bosd.printReducer.key0006'),\n      type: 'warning'\n    };\n    parentId = _gridInfo.get(_propnames.ID);\n    var _posInfo = _model.printModel.getCellPosition(_gridInfo, targetId);\n    var colId = _posInfo && _posInfo.colId;\n    var _isNext = formInfo && formInfo.isNext;\n    var colFormInfo;\n    var _repeatCount = formInfo && formInfo.repeatCount;\n    if (colId) {\n      index = _immutableUtil[\"default\"].childIndex(uiInfo, colId);\n      if (_isNext === true) {\n        // 在右方插入\n        index += 1;\n      }\n      colFormInfo = _model.uiModel.getFormFieldInfo(uiInfo, colId);\n      // 插入列时宽度默认登与选择的列宽\n      var width = colFormInfo.get('Width');\n      if (width) {\n        params.formInfo.Width = width;\n      }\n      var _mergeBlocks = _model.printModel.getMergeBlocks(uiInfo, parentId);\n      if (_mergeBlocks) {\n        var colIndex = _posInfo.colIndex;\n        colIndex = _isNext === true ? colIndex + 1 : colIndex; // 下方插入时，位置+1\n        // 数据表格插入扩展行后，选中所有列插入列时，插入列有分隔（判断是否选中所有列）\n        var select_control_ids = state.get('select_control_ids', (0, _immutable.List)());\n        var tableCols = _model.printModel.getCols(_gridInfo);\n        var tableColIds = tableCols.map(function (colInfo) {\n          return colInfo.get('Id');\n        });\n        var needSplit = false;\n        var selectIdsSize = select_control_ids.size;\n        var tableColsSize = tableColIds.size;\n        var notContainIds = select_control_ids.filter(function (item) {\n          return !tableColIds.includes(item);\n        });\n        if (selectIdsSize === tableColsSize && !(notContainIds.size > 0)) {\n          needSplit = true;\n        }\n        // TOTEST\n        _mergeBlocks = _mergeBlocks.map(function (block) {\n          var left = block.get('left');\n          var right = block.get('right');\n          // 如果存在扩展行，添加列时不产生分隔\n          // 如果存在扩展行，并且选中所有列，添加列，产生分隔\n          var isExtendRow = block.get('isExtendRow');\n          if (isExtendRow) {\n            if (needSplit) {\n              if (_isNext) {\n                block = block.set('right', right);\n              } else {\n                index = 0;\n                block = block.set('left', left + _repeatCount).set('right', right + _repeatCount);\n              }\n            } else {\n              if (colIndex <= left) {\n                block = block.set('left', left).set('right', right + _repeatCount);\n              } else if (colIndex > left && colIndex <= (_isNext ? right + 1 : right)) {\n                block = block.set('right', right + _repeatCount);\n              } else {\n                block = block.set('right', right);\n              }\n            }\n          } else {\n            if (needSplit) {\n              if (_isNext) {\n                block = block.set('right', right);\n              } else {\n                block = block.set('left', left + _repeatCount).set('right', right + _repeatCount);\n              }\n            } else {\n              if (colIndex <= left) {\n                block = block.set('left', left + _repeatCount).set('right', right + _repeatCount);\n              } else if (colIndex > left && colIndex <= right + 1) {\n                block = block.set('right', right + _repeatCount);\n              }\n            }\n          }\n          return block;\n        });\n        uiInfo = _model.uiModel.updatePropValue({\n          fieldId: parentId,\n          propName: 'MergeBlocks',\n          value: _mergeBlocks,\n          metaType: _propnames.FORMMETA\n        })(uiInfo);\n      }\n    }\n    var nextWidth;\n    var gridParentControl = _model.uiModel.getParentControl(uiInfo, parentId); // gird的父容器\n    var gridParentType = gridParentControl && gridParentControl.get(_propnames.TYPE);\n    if (_gridInfo && gridParentType == 'PrintFormAp') {\n      // 仅支持可绘制区域\n      var gridParentControlId = gridParentControl.get(_propnames.ID);\n      var children = _gridInfo.get(_propnames.ITEMS, (0, _immutable.List)());\n      var getProp = function getProp(prop, id) {\n        return _model.uiModel.getPropertyValue(uiInfo, id, prop, 'formmeta', uiConfig);\n      };\n      var parentWidth = (0, _unit.convertMMToNum)(getProp('Width', gridParentControlId));\n      var parentMarginLeft = (0, _unit.convertMMToNum)(getProp('MarginLeft', gridParentControlId));\n      var parentMarginRight = (0, _unit.convertMMToNum)(getProp('MarginRight', gridParentControlId));\n      var parentUseWidth = parentWidth - parentMarginLeft - parentMarginRight;\n      // TOTEST\n      var _nextWidth = colFormInfo ? colFormInfo.get('Width') : _model.uiModel.getPropertyValue(uiInfo, parentId, 'PreColumnWidth', _propnames.FORMMETA, uiConfig);\n      _nextWidth = _nextWidth || '25mm';\n      _nextWidth = (0, _unit.convertMMToNum)(_nextWidth);\n      // 添加多列时，宽度随之增加\n      var _repeatCount2 = formInfo && formInfo.repeatCount;\n      var widthSum = _nextWidth * _repeatCount2; // 加上默认宽度\n\n      children.forEach(function (item) {\n        if (_lodash[\"default\"].endsWith(item.get(_propnames.TYPE), 'Column')) {\n          var _w = (0, _unit.convertMMToNum)(getProp('Width', item.get(_propnames.ID)));\n          widthSum += _w;\n        }\n      });\n      if (parentUseWidth < widthSum) {\n        // 宽度不足 自动缩小\n        var setProp = function setProp(prop, id, value) {\n          return _model.uiModel.updatePropValue({\n            fieldId: id,\n            propName: prop,\n            value: value,\n            metaType: _propnames.FORMMETA\n          })(uiInfo);\n        };\n        nextWidth = (0, _unit.toFloorFix)(_nextWidth * parentUseWidth / widthSum, 1) || 1;\n        params.formInfo.Width = nextWidth + 'mm';\n        if (nextWidth < 25) {\n          uiInfo = setProp('PreColumnWidth', parentId, nextWidth);\n        }\n        // uiInfo = setProp('Width', parentId, parentUseWidth + 'mm');//宽度充满时，设置表格宽度为父亲容器宽度\n        children.forEach(function (item) {\n          if (_lodash[\"default\"].endsWith(item.get(_propnames.TYPE), 'Column')) {\n            var _id = item.get(_propnames.ID);\n            var _w = (0, _unit.convertMMToNum)(getProp('Width', _id));\n            uiInfo = setProp('Width', _id, ((0, _unit.toFloorFix)(_w * parentUseWidth / widthSum, 1) || 1) + 'mm');\n          }\n        });\n        // 宽度不足，表格放置在最左边\n        uiInfo = setProp('X', parentId, '0mm');\n      }\n    }\n  } else {\n    parentId = parentId || _model.uiModel.getRootId(uiInfo);\n    var containerInfo = _model.uiModel.getContainerControl(uiInfo, parentId, true, uiConfig);\n    index = _lodash[\"default\"].isNumber(containerInfo.targetIndex) ? containerInfo.targetIndex + 1 : containerInfo.targetIndex;\n    parentId = containerInfo.control.get(_propnames.ID);\n    if (!(0, _common.canAddControl)(uiInfo, {\n      parentId: parentId,\n      ctrlType: ctrlType,\n      uiConfig: uiConfig\n    })) {\n      var msg = (0, _intlApi.getLangMsg)({\n        key: 'bosd.defaultReducer.key0001',\n        variables: {\n          type: ctrlType\n        }\n      });\n      throw {\n        message: msg,\n        type: 'warning'\n      };\n    }\n\n    // 如果没有坐标，添加多个时会出现遮盖。这里从新计算位置，增加偏移量\n    if (!formInfo || !formInfo.X && !formInfo.Y) {\n      formInfo = formInfo || {};\n      var x = 0;\n      var y = 0;\n      var _children2 = containerInfo.control.get(_propnames.ITEMS, (0, _immutable.List)());\n      _children2.forEach(function (child) {\n        var childId = child.get(_propnames.ID);\n        var childX = _model.uiModel.getPropertyValue(uiInfo, childId, 'X', 'formmeta', uiConfig);\n        var childY = _model.uiModel.getPropertyValue(uiInfo, childId, 'Y', 'formmeta', uiConfig);\n        childX = childX ? parseFloat(childX) : 0;\n        childY = childY ? parseFloat(childY) : 0;\n        // TOTEST\n        if (childX == x) {\n          x += 2;\n        }\n        if (childY == y) {\n          y += 2;\n        }\n      });\n      formInfo.X = x + 'mm';\n      formInfo.Y = y + 'mm';\n      params.formInfo = formInfo;\n    }\n  }\n  params.index = index;\n  params.parentId = parentId;\n  return uiInfo;\n}\nfunction addControl(uiInfo, _ref) {\n  var _id = _ref._id,\n    key = _ref.key,\n    parentId = _ref.parentId,\n    ctrlType = _ref.ctrlType,\n    index = _ref.index,\n    _ref$formInfo = _ref.formInfo,\n    formInfo = _ref$formInfo === void 0 ? {} : _ref$formInfo,\n    uiConfig = _ref.uiConfig;\n  var ctrlInfo = {\n    Id: _id,\n    Type: ctrlType\n  };\n  uiInfo = _model.uiModel.addUIItem(parentId, (0, _immutable.fromJS)(ctrlInfo), index)(uiInfo);\n  var repeatCount = formInfo.repeatCount && formInfo.repeatCount - 1;\n  var addControlName = formInfo.Name;\n  var fieldName;\n  if (addControlName) {\n    fieldName = addControlName;\n  } else {\n    fieldName = _model.metadataModel.getConfigCtrlName(ctrlType, uiConfig);\n  }\n  var props = Object.assign({}, formInfo, {\n    _Type_: ctrlType,\n    Index: 0,\n    Id: _id,\n    Key: key,\n    Name: fieldName || _id,\n    ParentId: parentId\n  });\n  uiInfo = _model.uiModel.addFormItem((0, _immutable.fromJS)(props))(uiInfo);\n  uiInfo = _model.uiModel.updateFormIndex(parentId)(uiInfo);\n  // TOTEST repeatCount\n  if (repeatCount > 0) {\n    formInfo.repeatCount = repeatCount;\n    var myId = (0, _utils.createNewId)();\n    uiInfo = addControl(uiInfo, {\n      _id: myId,\n      key: (0, _utils.createNewKey)(uiInfo, ctrlType),\n      parentId: parentId,\n      ctrlType: ctrlType,\n      index: index,\n      formInfo: formInfo,\n      uiConfig: uiConfig\n    });\n    return afterAddControl(uiInfo, {\n      _id: myId,\n      parentId: parentId,\n      targetId: myId,\n      ctrlType: ctrlType,\n      uiConfig: uiConfig,\n      formInfo: Object.assign(formInfo, {\n        repeatCount: 0\n      })\n    });\n  }\n  return uiInfo;\n}\nvar FIELDTYPES = ['Text', 'Amount', 'Barcode', 'QRCode', 'Image', 'Label'];\nvar GRID_TYPES = ['DataGrid', 'SubDataGrid', 'LayoutGrid'];\nvar ACCEPT_GRID_TYPES = ['DataCell', 'LayoutCell'];\nvar updateGridFillStateWhenParentIsGrid = function updateGridFillStateWhenParentIsGrid(_ref2) {\n  var parentType = _ref2.parentType,\n    uiInfo = _ref2.uiInfo,\n    fieldId = _ref2.fieldId,\n    uiConfig = _ref2.uiConfig;\n  if (ACCEPT_GRID_TYPES.includes(parentType)) {\n    uiInfo = (0, _common.actionWrap)(updatePropValue, beforeUpdatePropValue, afterUpdatePropValue)(uiInfo, {\n      fieldId: fieldId,\n      propName: 'HorizontalFill',\n      value: true,\n      metaType: 'formmeta',\n      uiConfig: uiConfig\n    });\n    uiInfo = (0, _common.actionWrap)(updatePropValue, beforeUpdatePropValue, afterUpdatePropValue)(uiInfo, {\n      fieldId: fieldId,\n      propName: 'VerticalFill',\n      value: true,\n      metaType: 'formmeta',\n      uiConfig: uiConfig\n    });\n  }\n  return uiInfo;\n};\nfunction afterAddControl(uiInfo, _ref3) {\n  var _id = _ref3._id,\n    parentId = _ref3.parentId,\n    targetId = _ref3.targetId,\n    ctrlType = _ref3.ctrlType,\n    uiConfig = _ref3.uiConfig,\n    formInfo = _ref3.formInfo;\n  var _updateGridFillStateWhenParentIsGrid = function _updateGridFillStateWhenParentIsGrid(parentType) {\n    uiInfo = updateGridFillStateWhenParentIsGrid({\n      parentType: parentType,\n      uiInfo: uiInfo,\n      fieldId: _id,\n      uiConfig: uiConfig\n    });\n  };\n  var buildChildControl = function buildChildControl(_ctrlType) {\n    var _parentId = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _id;\n    var formInfo = arguments.length > 2 ? arguments[2] : undefined;\n    var index = arguments.length > 3 ? arguments[3] : undefined;\n    var newId = (0, _utils.createNewId)();\n    var key = (0, _utils.createNewKey)(uiInfo, _ctrlType);\n    uiInfo = addControl(uiInfo, {\n      _id: newId,\n      key: key,\n      ctrlType: _ctrlType,\n      parentId: _parentId,\n      uiConfig: uiConfig,\n      formInfo: formInfo,\n      index: index\n    });\n    return newId;\n  };\n  var setHeightAndWidthByParent = function setHeightAndWidthByParent() {\n    var _parentId = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : parentId;\n    var _mid = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _id;\n    var parentUseWidth = 0;\n    var parentUseHeight = 0;\n    var dataGridInfo = _model.printModel.getGridInfo(uiInfo, _parentId); // 单元格的父表格\n    var _printModel$getCellPo = _model.printModel.getCellPosition(dataGridInfo, _parentId),\n      rowId = _printModel$getCellPo.rowId,\n      colId = _printModel$getCellPo.colId,\n      rowIndex = _printModel$getCellPo.rowIndex,\n      colIndex = _printModel$getCellPo.colIndex;\n    var mergeBlocks = _model.printModel.getMergeBlocks(uiInfo, dataGridInfo.get(_propnames.ID));\n    var mergeBlock = _model.printModel.getMergeBlock(mergeBlocks, {\n      rowIndex: rowIndex,\n      colIndex: colIndex\n    });\n    if (mergeBlock) {\n      var _mergeBlock$toJS = mergeBlock.toJS(),\n        left = _mergeBlock$toJS.left,\n        right = _mergeBlock$toJS.right,\n        top = _mergeBlock$toJS.top,\n        bottom = _mergeBlock$toJS.bottom;\n      if (left !== right) {\n        var _childrenCols = _model.printModel.getCols(dataGridInfo);\n        var _colSize = _childrenCols.size;\n        for (var i = left; i <= right; i++) {\n          if (left > _colSize) return;\n          parentUseWidth += (0, _unit.convertMMToNum)(_model.uiModel.getPropertyValue(uiInfo, _childrenCols.getIn([i, _propnames.ID]), 'Width', _propnames.FORMMETA, uiConfig));\n        }\n      } else {\n        parentUseWidth = (0, _unit.convertMMToNum)(_model.uiModel.getPropertyValue(uiInfo, colId, 'Width', _propnames.FORMMETA, uiConfig));\n      }\n      if (top !== bottom) {\n        var _childrenRoWs = _model.printModel.getRows(dataGridInfo);\n        var _rowSize = _childrenRoWs.size;\n        for (var j = top; j <= bottom; j++) {\n          if (bottom > _rowSize) return;\n          parentUseHeight += (0, _unit.convertMMToNum)(_model.uiModel.getPropertyValue(uiInfo, _childrenRoWs.getIn([j, _propnames.ID]), 'Height', _propnames.FORMMETA, uiConfig));\n        }\n      } else {\n        parentUseHeight = (0, _unit.convertMMToNum)(_model.uiModel.getPropertyValue(uiInfo, rowId, 'Height', _propnames.FORMMETA, uiConfig));\n      }\n    } else {\n      parentUseWidth = (0, _unit.convertMMToNum)(_model.uiModel.getPropertyValue(uiInfo, colId, 'Width', _propnames.FORMMETA, uiConfig));\n      parentUseHeight = (0, _unit.convertMMToNum)(_model.uiModel.getPropertyValue(uiInfo, rowId, 'Height', _propnames.FORMMETA, uiConfig));\n    }\n    var _width = (0, _unit.convertMMToNum)(_model.uiModel.getPropertyValue(uiInfo, _mid, 'Width', _propnames.FORMMETA, uiConfig));\n    var _height = (0, _unit.convertMMToNum)(_model.uiModel.getPropertyValue(uiInfo, _mid, 'Height', _propnames.FORMMETA, uiConfig));\n    var _x = (0, _unit.convertMMToNum)(formInfo.X) || 0;\n    var _y = (0, _unit.convertMMToNum)(formInfo.Y) || 0;\n    return {\n      parentUseWidth: parentUseWidth,\n      parentUseHeight: parentUseHeight,\n      _width: _width,\n      _height: _height,\n      _x: _x,\n      _y: _y\n    };\n  };\n\n  // 新增列布局时默认添加列\n  if (ctrlType === 'DataGrid' || ctrlType === 'SubDataGrid') {\n    var colIds = [];\n    var _rowType = 'DataRow';\n    var _columnType = 'DataColumn';\n    if (ctrlType === 'SubDataGrid') {\n      _rowType = 'SubDataRow';\n      _columnType = 'SubDataColumn';\n    }\n    var colFormInfo = Object.assign({});\n    var rowFormInfo = Object.assign({});\n    var parentCtrlInfo = _model.uiModel.getUIFieldInfo(uiInfo, parentId);\n    var parentType = parentCtrlInfo && parentCtrlInfo.get(_propnames.TYPE);\n    if (_lodash[\"default\"].endsWith(parentType, 'Cell')) {\n      // 插入位置在单元格时限定宽高\n      var _setHeightAndWidthByP = setHeightAndWidthByParent(parentId, _id),\n        parentUseWidth = _setHeightAndWidthByP.parentUseWidth,\n        parentUseHeight = _setHeightAndWidthByP.parentUseHeight;\n      var _width = 25; // 默认一列25mm\n      var _height = 8; // 默认一行8mm\n      if (_width * 3 > parentUseWidth) {\n        // parentUseWidth -= convertToMM(2, 'x');//表格算出来会多出2px\n        colFormInfo.Width = ((0, _unit.toFloorFix)(parentUseWidth / 3, 1) || 1) + 'mm';\n      }\n      if (_height * 5 > parentUseHeight) {\n        // parentUseHeight -= convertToMM(parentUseHeight * 0.14, 'y');//表格算出来会多出1px\n        rowFormInfo.Height = (0, _unit.toFloorFix)(parentUseHeight / 5, 1) + 'mm';\n      }\n    }\n    colIds.push(buildChildControl(_columnType, undefined, colFormInfo));\n    colIds.push(buildChildControl(_columnType, undefined, colFormInfo));\n    colIds.push(buildChildControl(_columnType, undefined, colFormInfo));\n    for (var i = 0; i < 3; i++) {\n      var rowId = buildChildControl(_rowType, undefined, i == 1 ? Object.assign({\n        RowType: 'detail'\n      }, rowFormInfo) : Object.assign({\n        RowType: 'normal'\n      }, rowFormInfo));\n      for (var j = 0; j < 3; j++) {\n        buildChildControl('DataCell', rowId);\n      }\n    }\n    uiInfo = afterUpdatePropValue(uiInfo, {\n      fieldId: _id,\n      propName: 'OuterBorder',\n      value: undefined,\n      metaType: 'formmeta',\n      uiConfig: uiConfig\n    });\n    uiInfo = afterUpdatePropValue(uiInfo, {\n      fieldId: _id,\n      propName: 'InnerBorder',\n      value: undefined,\n      metaType: 'formmeta',\n      uiConfig: uiConfig\n    });\n    _updateGridFillStateWhenParentIsGrid(parentType);\n  } else if (ctrlType === 'DataRow' || ctrlType === 'SubDataRow') {\n    var gridId = parentId;\n    var gridInfo = _model.uiModel.getUIFieldInfo(uiInfo, gridId);\n    var items = gridInfo.get(_propnames.ITEMS, (0, _immutable.List)());\n    var cols = _model.printModel.getCols(gridInfo);\n    var rowFromInfo = _model.uiModel.getFormFieldInfo(uiInfo, _id);\n    var rowType = rowFromInfo.get('RowType');\n    // cols && cols.forEach(() => buildChildControl('DataCell', _id))\n    cols && cols.forEach(function () {\n      var newCellId = buildChildControl('DataCell', _id);\n      uiInfo = _model.uiModel.setDefaultBorderStyle(uiInfo, uiConfig, newCellId, _model.uiModel);\n    });\n    if (rowType === 'extend') {\n      var rowPosInfo = _model.printModel.getCellPosition(gridInfo, _id);\n      var rowIndex = rowPosInfo.rowIndex;\n      var mergeBlocks = _model.printModel.getMergeBlocks(uiInfo, gridId);\n      var extendMapBlock = (0, _immutable.Map)({\n        left: 0,\n        right: parseFloat(cols.size) - 1,\n        top: rowIndex,\n        bottom: rowIndex,\n        isExtendRow: true\n      });\n      mergeBlocks = mergeBlocks ? mergeBlocks.push(extendMapBlock) : (0, _immutable.List)([extendMapBlock]);\n      // 当数据表格中存在扩展行，添加列时，扩展行会合并当前添加列的行，而普通合并行不会合并当前添加列的行\n      uiInfo = _model.uiModel.updatePropValue({\n        fieldId: gridId,\n        propName: 'MergeBlocks',\n        value: mergeBlocks,\n        metaType: _propnames.FORMMETA\n      })(uiInfo);\n      // uiInfo = afterUpdatePropValue(uiInfo, { fieldId: gridId, propName: 'MergeBlocks', value: mergeBlocks, metaType: 'formmeta', uiConfig });\n    }\n    if (_lodash[\"default\"].endsWith(rowType, 'group')) {\n      var posInfo = _model.printModel.getCellPosition(gridInfo, targetId);\n      var targetFormInfo = posInfo && posInfo.rowId && _model.uiModel.getFormFieldInfo(uiInfo, posInfo.rowId);\n      var targetRowType = targetFormInfo && targetFormInfo.get('RowType');\n      if (!_lodash[\"default\"].endsWith(targetRowType, 'group')) {\n        var detailRowId;\n        var index = items.findIndex(function (item) {\n          var itemFormInfo = _model.uiModel.getFormFieldInfo(uiInfo, item.get(_propnames.ID));\n          if (itemFormInfo.get(_propnames._TYPE_) === ctrlType && itemFormInfo.get('RowType') === 'detail') {\n            detailRowId = item.get(_propnames.ID);\n            return true;\n          }\n        });\n        var extendIndex = gridInfo.get(_propnames.ITEMS, (0, _immutable.List)()).findIndex(function (item) {\n          var itemFormInfo = _model.uiModel.getFormFieldInfo(uiInfo, item.get(_propnames.ID));\n          return itemFormInfo.get(_propnames._TYPE_) === ctrlType && itemFormInfo.get('RowType') === 'extend';\n        });\n        if (extendIndex > 0) {\n          index += 1; // 算入扩展行\n        }\n        var _mergeBlocks2 = _model.printModel.getMergeBlocks(uiInfo, parentId);\n        if (_mergeBlocks2) {\n          var _rowIndex = extendIndex > 0 ? 2 : 1;\n          var detailInfo = _model.printModel.getCellPosition(gridInfo, detailRowId);\n          _rowIndex += detailInfo.rowIndex;\n          _mergeBlocks2 = _model.printModel.updateMergeBlockVertical(_mergeBlocks2, _rowIndex, 1);\n          uiInfo = _model.uiModel.updatePropValue({\n            fieldId: parentId,\n            propName: 'MergeBlocks',\n            value: _mergeBlocks2,\n            metaType: _propnames.FORMMETA\n          })(uiInfo);\n        }\n        var _rowId2 = buildChildControl(ctrlType, gridId, {\n          RowType: 'endgroup',\n          GroupID: rowFromInfo.get('GroupID')\n        }, index + 1);\n        // cols && cols.forEach(() => buildChildControl('DataCell', rowId))\n        cols && cols.forEach(function () {\n          var newCellId = buildChildControl('DataCell', _rowId2);\n          uiInfo = _model.uiModel.setDefaultBorderStyle(uiInfo, uiConfig, newCellId, _model.uiModel);\n        });\n      }\n    }\n    // const outerBorder = uiModel.getPropertyValue(uiInfo, gridId, 'OuterBorder', 'formmeta', uiConfig)\n    // const innerBorder = uiModel.getPropertyValue(uiInfo, gridId, 'InnerBorder', 'formmeta', uiConfig)\n    // uiInfo = afterUpdatePropValue(uiInfo, { fieldId: gridId, propName: 'OuterBorder', value: outerBorder, metaType: 'formmeta', uiConfig })\n    // uiInfo = afterUpdatePropValue(uiInfo, { fieldId: gridId, propName: 'InnerBorder', value: innerBorder, metaType: 'formmeta', uiConfig })\n  } else if (ctrlType === 'DataColumn' || ctrlType === 'SubDataColumn') {\n    var _gridId = parentId;\n    var _gridInfo2 = _model.printModel.getGridInfo(uiInfo, _gridId);\n    var rows = _model.printModel.getRows(_gridInfo2);\n    var colIndex = _immutableUtil[\"default\"].childIndex(uiInfo, _id);\n    rows && rows.forEach(function (row) {\n      var rowId = row.get(_propnames.ID);\n      var newCellId = buildChildControl('DataCell', rowId, {}, colIndex);\n      uiInfo = _model.uiModel.setDefaultBorderStyle(uiInfo, uiConfig, newCellId, _model.uiModel);\n    });\n\n    // 初始化列的内外边框状态\n    // const outerBorder = uiModel.getPropertyValue(uiInfo, gridId, 'OuterBorder', 'formmeta', uiConfig)\n    // const innerBorder = uiModel.getPropertyValue(uiInfo, gridId, 'InnerBorder', 'formmeta', uiConfig)\n    // uiInfo = afterUpdatePropValue(uiInfo, { fieldId: gridId, propName: 'OuterBorder', value: outerBorder, metaType: 'formmeta', uiConfig })\n    // uiInfo = afterUpdatePropValue(uiInfo, { fieldId: gridId, propName: 'InnerBorder', value: innerBorder, metaType: 'formmeta', uiConfig })\n  } else if (ctrlType === 'LayoutGrid') {\n    var _colFormInfo = Object.assign({});\n    var _rowFormInfo = Object.assign({});\n    var _parentCtrlInfo = _model.uiModel.getUIFieldInfo(uiInfo, parentId);\n    var _parentType = _parentCtrlInfo && _parentCtrlInfo.get(_propnames.TYPE);\n    if (_lodash[\"default\"].endsWith(_parentType, 'Cell')) {\n      // 插入位置在单元格时限定宽高\n      var _setHeightAndWidthByP2 = setHeightAndWidthByParent(parentId, _id),\n        _parentUseWidth = _setHeightAndWidthByP2.parentUseWidth,\n        _parentUseHeight = _setHeightAndWidthByP2.parentUseHeight;\n      var _width2 = 25; // 默认一列25mm\n      var _height2 = 8; // 默认一行8mm\n      if (_width2 * 3 > _parentUseWidth) {\n        // parentUseWidth = parentUseWidth - convertToMM(2, 'x');//表格算出来会多出2px\n        _colFormInfo.Width = ((0, _unit.toFloorFix)(_parentUseWidth / 3, 1) || 1) + 'mm';\n      }\n      if (_height2 * 3 > _parentUseHeight) {\n        // parentUseHeight -= convertToMM(parentUseHeight * 0.11, 'y');//表格算出来会多出1px\n        _rowFormInfo.Height = ((0, _unit.toFloorFix)(_parentUseHeight / 3, 1) || 1) + 'mm';\n      }\n    }\n    var _colIds = [];\n    _colIds.push(buildChildControl('LayoutColumn', undefined, _colFormInfo));\n    _colIds.push(buildChildControl('LayoutColumn', undefined, _colFormInfo));\n    _colIds.push(buildChildControl('LayoutColumn', undefined, _colFormInfo));\n    for (var _i = 0; _i < 3; _i++) {\n      var _rowId3 = buildChildControl('LayoutRow', undefined, _rowFormInfo);\n      for (var _j = 0; _j < 3; _j++) {\n        var newCellId = buildChildControl('LayoutCell', _rowId3);\n        uiInfo = _model.uiModel.setDefaultBorderStyle(uiInfo, uiConfig, newCellId, _model.uiModel);\n      }\n    }\n    uiInfo = afterUpdatePropValue(uiInfo, {\n      fieldId: _id,\n      propName: 'OuterBorder',\n      value: undefined,\n      metaType: 'formmeta',\n      uiConfig: uiConfig\n    });\n    uiInfo = afterUpdatePropValue(uiInfo, {\n      fieldId: _id,\n      propName: 'InnerBorder',\n      value: undefined,\n      metaType: 'formmeta',\n      uiConfig: uiConfig\n    });\n    _updateGridFillStateWhenParentIsGrid(_parentType);\n  } else if (ctrlType === 'LayoutRow') {\n    var _gridId2 = parentId;\n    var _gridInfo3 = _model.printModel.getGridInfo(uiInfo, _gridId2);\n    var _cols = _model.printModel.getCols(_gridInfo3);\n    _cols && _cols.forEach(function () {\n      var newCellId = buildChildControl('LayoutCell', _id);\n      uiInfo = _model.uiModel.setDefaultBorderStyle(uiInfo, uiConfig, newCellId, _model.uiModel);\n    });\n\n    // const outerBorder = uiModel.getPropertyValue(uiInfo, gridId, 'OuterBorder', 'formmeta', uiConfig)\n    // const innerBorder = uiModel.getPropertyValue(uiInfo, gridId, 'InnerBorder', 'formmeta', uiConfig)\n    // uiInfo = afterUpdatePropValue(uiInfo, { fieldId: gridId, propName: 'OuterBorder', value: outerBorder, metaType: 'formmeta', uiConfig })\n    // uiInfo = afterUpdatePropValue(uiInfo, { fieldId: gridId, propName: 'InnerBorder', value: innerBorder, metaType: 'formmeta', uiConfig })\n  } else if (ctrlType === 'LayoutColumn') {\n    var _gridId3 = parentId;\n    var _gridInfo4 = _model.printModel.getGridInfo(uiInfo, _gridId3);\n    var _rows = _model.printModel.getRows(_gridInfo4);\n    var _colIndex = _immutableUtil[\"default\"].childIndex(uiInfo, _id);\n    _rows && _rows.forEach(function (row) {\n      var newCellId = buildChildControl('LayoutCell', row.get(_propnames.ID), {}, _colIndex);\n      uiInfo = _model.uiModel.setDefaultBorderStyle(uiInfo, uiConfig, newCellId, _model.uiModel);\n    });\n\n    // 初始化列的内外边框状态\n    // const outerBorder = uiModel.getPropertyValue(uiInfo, gridId, 'OuterBorder', 'formmeta', uiConfig)\n    // const innerBorder = uiModel.getPropertyValue(uiInfo, gridId, 'InnerBorder', 'formmeta', uiConfig)\n    // uiInfo = afterUpdatePropValue(uiInfo, { fieldId: gridId, propName: 'OuterBorder', value: outerBorder, metaType: 'formmeta', uiConfig })\n    // uiInfo = afterUpdatePropValue(uiInfo, { fieldId: gridId, propName: 'InnerBorder', value: innerBorder, metaType: 'formmeta', uiConfig })\n  } else if (FIELDTYPES.indexOf(ctrlType) !== -1) {\n    // 不允许超出父容器操作\n    var _parentCtrlInfo2 = _model.uiModel.getUIFieldInfo(uiInfo, parentId);\n    var _parentType2 = _parentCtrlInfo2 && _parentCtrlInfo2.get(_propnames.TYPE);\n    if (_parentType2 === 'PrintFormAp') return uiInfo;\n    if (_lodash[\"default\"].endsWith(_parentType2, 'Cell')) {\n      // 插入位置在单元格时\n      var _setHeightAndWidthByP3 = setHeightAndWidthByParent(parentId, _id),\n        _parentUseWidth2 = _setHeightAndWidthByP3.parentUseWidth,\n        _parentUseHeight2 = _setHeightAndWidthByP3.parentUseHeight,\n        _width3 = _setHeightAndWidthByP3._width,\n        _height3 = _setHeightAndWidthByP3._height,\n        _x = _setHeightAndWidthByP3._x,\n        _y = _setHeightAndWidthByP3._y;\n      if (_width3 && _width3 > _parentUseWidth2 - _x) {\n        // 限制宽高\n        uiInfo = _model.uiModel.updatePropValue({\n          fieldId: _id,\n          propName: 'Width',\n          value: _parentUseWidth2 - _x + 'mm',\n          metaType: _propnames.FORMMETA\n        })(uiInfo);\n      } else if (!_x && _parentUseWidth2 >= _width3) {\n        // 默认水平充满\n        uiInfo = _model.uiModel.updatePropValue({\n          fieldId: _id,\n          propName: 'HorizontalFill',\n          value: true,\n          metaType: _propnames.FORMMETA\n        })(uiInfo);\n      }\n      if (_height3 && _height3 > _parentUseHeight2 - _y) {\n        uiInfo = _model.uiModel.updatePropValue({\n          fieldId: _id,\n          propName: 'Height',\n          value: _parentUseHeight2 - _y + 'mm',\n          metaType: _propnames.FORMMETA\n        })(uiInfo);\n      } else if (!_y && _parentUseHeight2 >= _height3) {\n        // 默认竖直充满\n        uiInfo = _model.uiModel.updatePropValue({\n          fieldId: _id,\n          propName: 'VerticalFill',\n          value: true,\n          metaType: _propnames.FORMMETA\n        })(uiInfo);\n      }\n    }\n    // 插入位置在页眉页脚时，限制插入控件高度\n    if (_lodash[\"default\"].endsWith(_parentType2, 'Header') || _lodash[\"default\"].endsWith(_parentType2, 'Footer')) {\n      // 获取元数据中页眉页脚的高度默认值,限制插入元素高度不能大于这个值\n      var defaultHeight = (0, _unit.convertMMToNum)(_model.uiModel.getPropertyValue(uiInfo, parentId, 'Height', 'formmeta', uiConfig)) || 15;\n      var controlHeight = (0, _unit.convertMMToNum)(_model.uiModel.getPropertyValue(uiInfo, _id, 'Height', _propnames.FORMMETA, uiConfig));\n      if (controlHeight > defaultHeight) {\n        uiInfo = _model.uiModel.updatePropValue({\n          fieldId: _id,\n          propName: 'Height',\n          value: defaultHeight + 'mm',\n          metaType: _propnames.FORMMETA\n        })(uiInfo);\n      }\n    }\n  }\n  return uiInfo;\n}\n\n// TODO: 可以考虑增加插入列会跟随之前行列的功能, 但是这就不是改bug了，而是加功能\n// function copyColumnRowInfo (uiInfo, { _id, parentId, targetId, ctrlType, uiConfig, formInfo }) {\n// }\n/** ***添加控件功能 end*****/\n\n/** ***根据实体生成控件&绑定字段功能 begin*****/\nvar bindFieldTypes = ['Text', 'Amount', 'Barcode', 'QRCode', 'Image', 'DataCell'];\nvar fieldMapping = {\n  Amount: ['AmountField', 'PriceField'],\n  Image: ['PictureField']\n};\nfunction addFieldControlAction(state, action) {\n  var fieldInfo = action.fieldInfo,\n    uiConfig = action.uiConfig;\n  var id = fieldInfo.Id,\n    parentId = fieldInfo.ParentId,\n    name = fieldInfo.Name,\n    fieldId = fieldInfo.FieldId,\n    fieldType = fieldInfo.FieldType,\n    key = fieldInfo.Key,\n    ctrlType = fieldInfo._Type_,\n    others = _objectWithoutProperties(fieldInfo, _excluded);\n  var uiInfo = state.get('uiInfo', (0, _immutable.Map)());\n  if (_lodash[\"default\"].indexOf(['EntryEntity', 'SubEntryEntity'], fieldType) >= 0) return state;\n  if (_model.uiModel.getEntityRootId(uiInfo) == fieldId) return state;\n  parentId = parentId || state.get('select_control_id');\n  var parentCtrlInfo = _model.uiModel.getUIFieldInfo(uiInfo, parentId);\n  var parentType = parentCtrlInfo.get(_propnames.TYPE);\n  var entitytreeInfo = _model.uiModel.getEntityTreeInfo(uiInfo, fieldId);\n  if (entitytreeInfo && entitytreeInfo.get(_propnames.ITEMS, (0, _immutable.List)()).size > 0) return state;\n\n  // 绑定字段\n  if (bindFieldTypes.indexOf(parentType) >= 0 /* && ['AmountField', 'PictureField'].indexOf(fieldType) < 0 */) {\n    // 属于绑定字段，且其类型不是金额和图片时绑定\n    // if (fieldMapping[parentType] && fieldMapping[parentType] != fieldType) return state\n    state = state.update('uiInfo', function (uiInfo) {\n      return bindPrintField(uiInfo, {\n        id: parentId,\n        name: name,\n        ctrlType: parentType,\n        fieldId: fieldId,\n        fieldType: fieldType\n      });\n    });\n    return (0, _common.setSelectControlId)(state, parentId);\n  } else {\n    // 添加字段\n    var targetContainerInfo = _model.uiModel.getContainerControl(uiInfo, parentId, true, uiConfig);\n    if (!targetContainerInfo) return state;\n    parentId = targetContainerInfo.control.get(_propnames.ID);\n    parentType = targetContainerInfo.control.get(_propnames.TYPE);\n    var targetIndex = _lodash[\"default\"].isNumber(targetContainerInfo.targetIndex) ? targetContainerInfo.targetIndex + 1 : targetContainerInfo.targetIndex;\n    id = (0, _utils.createNewId)();\n    ctrlType = 'Text';\n    _lodash[\"default\"].forEach(fieldMapping, function (value, key) {\n      if (value.includes(fieldType)) {\n        ctrlType = key;\n        return false;\n      }\n    });\n    key = key || (0, _utils.createNewKey)(uiInfo, ctrlType);\n    state = state.update('uiInfo', function (uiInfo) {\n      var isAddSpecial = false;\n      if (_lodash[\"default\"].endsWith(parentType, 'Cell') && ctrlType !== 'Text') {\n        uiInfo = deleteBindField(uiInfo, {\n          ctrlId: parentId,\n          ctrlType: parentType,\n          uiConfig: uiConfig\n        }); // 表格单元格绑定字段自动添加控件时，将其绑定字段删除\n        others.X = 0;\n        others.Y = 0;\n        isAddSpecial = true;\n      }\n      uiInfo = addFieldControl(uiInfo, {\n        id: id,\n        key: key,\n        name: name,\n        ctrlType: ctrlType,\n        fieldType: fieldType,\n        parentId: parentId,\n        targetIndex: targetIndex,\n        formInfo: others,\n        uiConfig: uiConfig,\n        isAddSpecial: isAddSpecial\n      });\n      return bindPrintField(uiInfo, {\n        id: id,\n        name: name,\n        ctrlType: ctrlType,\n        fieldId: fieldId\n      });\n    });\n    return (0, _common.setSelectControlId)(state, id);\n  }\n}\nfunction addFieldControl(uiInfo, _ref4) {\n  var id = _ref4.id,\n    key = _ref4.key,\n    name = _ref4.name,\n    ctrlType = _ref4.ctrlType,\n    parentId = _ref4.parentId,\n    targetIndex = _ref4.targetIndex,\n    formInfo = _ref4.formInfo,\n    uiConfig = _ref4.uiConfig,\n    isAddSpecial = _ref4.isAddSpecial;\n  var ctrlInfo = _defineProperty(_defineProperty({}, _propnames.ID, id), _propnames.TYPE, ctrlType);\n  uiInfo = _model.uiModel.addUIItem(parentId, (0, _immutable.fromJS)(ctrlInfo), targetIndex)(uiInfo);\n  var formProp = Object.assign({}, formInfo, {\n    _Type_: ctrlType,\n    Index: 0,\n    Id: id,\n    Key: key,\n    Name: name || id,\n    ParentId: parentId\n  });\n  uiInfo = _model.uiModel.addFormItem((0, _immutable.fromJS)(formProp))(uiInfo);\n  uiInfo = _model.uiModel.updateFormIndex(parentId)(uiInfo);\n  if (isAddSpecial) {\n    return afterAddControl(uiInfo, {\n      _id: id,\n      parentId: parentId,\n      ctrlType: ctrlType,\n      uiConfig: uiConfig,\n      formInfo: formInfo\n    });\n  } else {\n    return uiInfo;\n  }\n}\nfunction bindPrintField(uiInfo, _ref5) {\n  var id = _ref5.id,\n    name = _ref5.name,\n    ctrlType = _ref5.ctrlType,\n    fieldId = _ref5.fieldId,\n    fieldType = _ref5.fieldType;\n  var entitytreeInfo = (0, _immutable.Map)({\n    ui: uiInfo.get('entitytree')\n  });\n  var entityRootId = _model.uiModel.getRootId(entitytreeInfo);\n  var gridInfo = _model.printModel.getGridInfo(uiInfo, id);\n  var gridType = gridInfo && gridInfo.get(_propnames.TYPE);\n  var targetEntryEntity;\n  var DataGridDealType = ['ReportFormModel', 'EntryEntity', 'SubEntryEntity', 'TreeEntryEntity'];\n  if (gridType) {\n    // 父组件是表格的情况\n    targetEntryEntity = gridType === 'DataGrid' ? DataGridDealType.slice() : ['ReportFormModel', 'SubEntryEntity'];\n  } else {\n    targetEntryEntity = DataGridDealType.slice();\n  }\n  var path, pathSize;\n  var entityParentInfo, dataSourceId, dataSourceType;\n  path = _immutableUtil[\"default\"].byId(entitytreeInfo, fieldId); // 第一个满足id的路径\n  pathSize = path && path.size;\n  while (pathSize > 0) {\n    var _path = path.slice(0, pathSize);\n    entityParentInfo = entitytreeInfo.getIn(_path);\n    if (!entityParentInfo) break;\n    dataSourceId = entityParentInfo.get(_propnames.ID);\n    dataSourceType = entityParentInfo.get(_propnames.TYPE);\n    if (!dataSourceId || !dataSourceType) break;\n    if (dataSourceId === entityRootId) break;\n    if (targetEntryEntity.indexOf(dataSourceType) >= 0) break;\n    pathSize = pathSize - 2;\n  }\n  if (!entityParentInfo || !dataSourceId || !dataSourceType) return uiInfo;\n  if (ctrlType == 'DataCell') {\n    if (!DataGridDealType.includes(dataSourceType) && gridType === 'DataGrid') {\n      throw {\n        message: (0, _intlApi.getLangMsg)('bosd.printReducer.key0007'),\n        type: 'warning'\n      };\n    }\n    if (dataSourceType !== 'SubEntryEntity' && uiInfo.get('modelType') !== 'ReportFormModel' && gridType === 'SubDataGrid') {\n      throw {\n        message: (0, _intlApi.getLangMsg)('bosd.printReducer.key0008'),\n        type: 'warning'\n      };\n    }\n    var gridId = gridInfo.get(_propnames.ID);\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: gridId,\n      propName: 'DataSource',\n      value: dataSourceId,\n      metaType: 'formmeta'\n    })(uiInfo);\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: id,\n      propName: 'DataSource',\n      value: dataSourceId,\n      metaType: 'formmeta'\n    })(uiInfo);\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: id,\n      propName: 'BindField',\n      value: fieldId,\n      metaType: 'formmeta'\n    })(uiInfo);\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: id,\n      propName: 'Name',\n      value: name,\n      metaType: 'formmeta'\n    })(uiInfo);\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: id,\n      propName: 'CellType',\n      value: 'field',\n      metaType: 'formmeta'\n    })(uiInfo);\n  } else {\n    if (_lodash[\"default\"].endsWith(fieldType, 'Field')) {\n      // 左侧选择字段\n      var _bindType = _model.uiModel.getPropertyValue(uiInfo, id, 'BindType', _propnames.FORMMETA);\n      if (_bindType === 'custom') {\n        // 右侧为自定义，应该切换成绑定类型为字段\n        uiInfo = _model.uiModel.updatePropValue({\n          fieldId: id,\n          propName: 'BindType',\n          value: 'field',\n          metaType: 'formmeta'\n        })(uiInfo);\n      }\n    }\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: id,\n      propName: 'DataSource',\n      value: dataSourceId,\n      metaType: 'formmeta'\n    })(uiInfo);\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: id,\n      propName: 'BindField',\n      value: fieldId,\n      metaType: 'formmeta'\n    })(uiInfo);\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: id,\n      propName: 'Name',\n      value: name,\n      metaType: 'formmeta'\n    })(uiInfo);\n  }\n  return uiInfo;\n}\n/** ***根据实体生成控件&绑定字段功能 end*****/\n\n/** ***删除功能 begin*****/\nfunction deleteControlAction(state, action) {\n  var ctrlId = action.ctrlId,\n    uiConfig = action.uiConfig;\n  var uiInfo = state.get('uiInfo');\n  var ctrlIds = (0, _utils.convertToList)(ctrlId);\n  var params = {\n    selId: null,\n    uiConfig: uiConfig\n  };\n  var errorMsg = '';\n  ctrlIds.forEach(function (ctrlId) {\n    try {\n      var ctrlInfo = _model.uiModel.getUIFieldInfo(uiInfo, ctrlId);\n      var ctrlType = ctrlInfo.get(_propnames.TYPE);\n      params.ctrlId = ctrlId;\n      params.ctrlType = ctrlType;\n      var gridInfo = _model.printModel.getGridInfo(uiInfo, ctrlInfo);\n      params.gridInfo = gridInfo;\n      if (_model.printModel.isCell(ctrlInfo)) {\n        var _gridInfo5 = _model.printModel.getGridInfo(uiInfo, ctrlInfo);\n        var rows = _model.printModel.getRows(_gridInfo5);\n        var posInfo = _model.printModel.getCellPosition(_gridInfo5, ctrlId);\n        var rowInfo = _model.uiModel.getUIFieldInfo(uiInfo, posInfo.rowId);\n        if (rowInfo.get(_propnames.ITEMS, (0, _immutable.List)()).size === 1) {\n          params.ctrlId = rowInfo.get(_propnames.ID);\n          params.ctrlType = rowInfo.get(_propnames.TYPE);\n        } else if (rows.size === 1) {\n          var colId = posInfo && posInfo.colId;\n          var colInfo = _model.uiModel.getUIFieldInfo(uiInfo, colId);\n          params.ctrlId = colId;\n          params.ctrlType = colInfo.get(_propnames.TYPE);\n        } else {\n          uiInfo = deleteBindField(uiInfo, params);\n          params.selId = ctrlId;\n          return;\n        }\n      }\n      if (!(0, _common.canDeleteControl)(uiInfo, {\n        ctrlId: ctrlId,\n        uiConfig: uiConfig\n      })) return uiInfo;\n      if (!canDeletePrintControl(uiInfo, {\n        ctrlId: ctrlId,\n        uiConfig: uiConfig\n      })) return uiInfo;\n      uiInfo = (0, _common.actionWrap)(deleteControl, beforeDeleteControl, afterDeleteControl)(uiInfo, params);\n    } catch (e) {\n      errorMsg += e.message + '; ';\n    }\n  });\n  if (errorMsg != '') {\n    var msg = (0, _intlApi.getLangMsg)({\n      key: 'bosd.defaultReducer.key0004',\n      variables: {\n        errorMsg: errorMsg\n      }\n    });\n    throw {\n      message: msg,\n      type: 'warning'\n    };\n  }\n  state = state.set('uiInfo', uiInfo);\n  return (0, _common.setSelectControlId)(state, params.selId || _model.uiModel.getRootId(uiInfo));\n}\nfunction canDeletePrintControl(uiInfo, _ref6) {\n  var ctrlId = _ref6.ctrlId;\n  var formInfo = _model.uiModel.getFormFieldInfo(uiInfo, ctrlId);\n  var ctrlType = formInfo.get(_propnames._TYPE_);\n  if ((ctrlType === 'DataRow' || ctrlType === 'SubDataRow') && formInfo.get('RowType') === 'detail') throw {\n    message: (0, _intlApi.getLangMsg)('bosd.printReducer.key0009')\n  };\n  return true;\n}\nfunction deleteBindField(uiInfo, _ref7) {\n  var ctrlId = _ref7.ctrlId,\n    ctrlType = _ref7.ctrlType,\n    uiConfig = _ref7.uiConfig;\n  uiInfo = _model.uiModel.updatePropValue({\n    fieldId: ctrlId,\n    propName: 'CellType',\n    value: undefined,\n    metaType: 'formmeta'\n  })(uiInfo);\n  uiInfo = _model.uiModel.updatePropValue({\n    fieldId: ctrlId,\n    propName: 'BindField',\n    value: undefined,\n    metaType: 'formmeta'\n  })(uiInfo);\n  uiInfo = _model.uiModel.updatePropValue({\n    fieldId: ctrlId,\n    propName: 'BindText',\n    value: undefined,\n    metaType: 'formmeta'\n  })(uiInfo);\n  if (ctrlType === 'DataCell') {\n    var name = _model.metadataModel.getConfigCtrlName(ctrlType, uiConfig);\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: ctrlId,\n      propName: 'DataSource',\n      value: undefined,\n      metaType: 'formmeta'\n    })(uiInfo);\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: ctrlId,\n      propName: 'Name',\n      value: name,\n      metaType: 'formmeta'\n    })(uiInfo);\n  }\n  return uiInfo;\n}\nfunction beforeDeleteControl(uiInfo, params) {\n  var ctrlId = params.ctrlId,\n    ctrlType = params.ctrlType,\n    uiConfig = params.uiConfig;\n  if (_lodash[\"default\"].endsWith(ctrlType, 'Column')) {\n    var gridInfo = _model.printModel.getGridInfo(uiInfo, ctrlId);\n    var cols = _model.printModel.getCols(gridInfo);\n    var gridId = gridInfo.get(_propnames.ID);\n    var gridParentControl = _model.uiModel.getParentControl(uiInfo, gridId); // gird的父容器\n    var gridParentType = gridParentControl && gridParentControl.get(_propnames.TYPE);\n    if (gridInfo && gridParentType == 'PrintFormAp') {\n      // 仅支持可绘制区域\n      var gridParentControlId = gridParentControl.get(_propnames.ID);\n      var children = gridInfo.get(_propnames.ITEMS, (0, _immutable.List)());\n      var getProp = function getProp(prop, id) {\n        return _model.uiModel.getPropertyValue(uiInfo, id, prop, 'formmeta', uiConfig);\n      };\n      var parseFloatMM = function parseFloatMM(val) {\n        return val ? parseFloat(val.replace(/mm/, '')) : 0;\n      };\n      var parentWidth = parseFloatMM(getProp('Width', gridParentControlId));\n      var parentMarginLeft = parseFloatMM(getProp('MarginLeft', gridParentControlId));\n      var parentMarginRight = parseFloatMM(getProp('MarginRight', gridParentControlId));\n      var parentUseWidth = parentWidth - parentMarginLeft - parentMarginRight;\n      var widthSum = 0;\n      children.forEach(function (item) {\n        if (item.get(_propnames.TYPE) == 'DataColumn') {\n          var _w = parseFloatMM(getProp('Width', item.get(_propnames.ID)));\n          widthSum += _w;\n        }\n      });\n      widthSum -= parseFloatMM(getProp('Width', ctrlId)); // 减去删除行的宽度\n      var difW = parentUseWidth - widthSum;\n      if (difW > 0) {\n        // 宽度大于 删除行之前的宽度\n        // nextWidth = (_nextWidth * parentUseWidth / widthSum) + 'mm';\n        var preColumnWidth = difW > 25 ? 25 : difW; // 如果宽度超过25mm 则默认25mm\n        // uiInfo = uiInfo.setIn([PREWIDTHS, 'PreColumnWidth'], preColumnWidth+'mm');\n        uiInfo = _model.uiModel.updatePropValue({\n          fieldId: gridId,\n          propName: 'PreColumnWidth',\n          value: preColumnWidth,\n          metaType: _propnames.FORMMETA\n        })(uiInfo);\n      }\n    }\n\n    // 删除最后一列时删除整个表格\n    if (cols.size === 1) {\n      params.ctrlId = gridId;\n    } else {\n      var colPosInfo = _model.printModel.getCellPosition(gridInfo, ctrlId);\n      var _ref8 = colPosInfo || {},\n        colIndex = _ref8.colIndex;\n      var mergeBlocks = _model.printModel.getMergeBlocks(uiInfo, gridId);\n      if (mergeBlocks) {\n        mergeBlocks = mergeBlocks.map(function (block) {\n          var left = block.get('left');\n          var right = block.get('right');\n          if (colIndex === left) {\n            if (left === right) {\n              block = block.set('top', 0).set('bottom', 0); // 选中列单列合并，删除\n            } else {\n              block = block.set('right', right - 1);\n            }\n          } else if (colIndex < left) {\n            block = block.set('left', left - 1).set('right', right - 1);\n          } else if (colIndex > left && colIndex <= right) {\n            block = block.set('right', right - 1);\n          }\n          return block;\n        });\n        mergeBlocks = mergeBlocks.filterNot(function (block) {\n          return block.get('left') == block.get('right') && block.get('top') == block.get('bottom');\n        });\n        mergeBlocks = mergeBlocks.size === 0 ? undefined : mergeBlocks;\n        uiInfo = _model.uiModel.updatePropValue({\n          fieldId: gridId,\n          propName: 'MergeBlocks',\n          value: mergeBlocks,\n          metaType: _propnames.FORMMETA\n        })(uiInfo);\n      }\n      var rows = _model.printModel.getRows(gridInfo);\n      rows.forEach(function (row) {\n        var cell = row.getIn([_propnames.ITEMS, colIndex]);\n        if (!cell) return;\n        uiInfo = deleteControl(uiInfo, {\n          ctrlId: cell.get(_propnames.ID),\n          uiConfig: uiConfig\n        });\n      });\n    }\n  } else if (_lodash[\"default\"].endsWith(ctrlType, 'Row')) {\n    var _gridInfo6 = _model.printModel.getGridInfo(uiInfo, ctrlId);\n    var _rows2 = _model.printModel.getRows(_gridInfo6);\n    var _gridId4 = _gridInfo6.get(_propnames.ID);\n\n    // 删除最后一行时删除整个单元格\n    if (_rows2.size === 1) {\n      params.ctrlId = _gridId4;\n    } else {\n      var _mergeBlocks3 = _model.printModel.getMergeBlocks(uiInfo, _gridId4);\n      var setMergeBlocks = function setMergeBlocks(_rowId) {\n        var diff = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n        if (_mergeBlocks3) {\n          var _rowPosInfo = _model.printModel.getCellPosition(_gridInfo6, _rowId);\n          var _ref9 = _rowPosInfo || {},\n            rowIndex = _ref9.rowIndex;\n          // mergeBlocks = mergeBlocks.filterNot(block => block.get('top') == rowIndex - 1 && block.get('top') == block.get('bottom'));//当前单元格合并删除\n          _mergeBlocks3 = _model.printModel.updateMergeBlockVertical(_mergeBlocks3, rowIndex + diff, -1);\n          _mergeBlocks3 = _mergeBlocks3.filterNot(function (block) {\n            return block.get('left') == block.get('right') && block.get('top') == block.get('bottom');\n          });\n          _mergeBlocks3 = _mergeBlocks3.size === 0 ? undefined : _mergeBlocks3;\n          return _model.uiModel.updatePropValue({\n            fieldId: _gridId4,\n            propName: 'MergeBlocks',\n            value: _mergeBlocks3,\n            metaType: _propnames.FORMMETA\n          })(uiInfo);\n        } else {\n          return uiInfo;\n        }\n      };\n      uiInfo = setMergeBlocks(ctrlId);\n\n      // 如果删除数据表格分组行 子数据表格\n      if (ctrlType === 'DataRow' || ctrlType === 'SubDataRow') {\n        var formInfo = _model.uiModel.getFormFieldInfo(uiInfo, ctrlId);\n        var rowType = formInfo.get('RowType');\n        if (_lodash[\"default\"].endsWith(rowType, 'group')) {\n          var groupId = formInfo.get('GroupID');\n          var beforeGroupRowIds = [];\n          var afterGroupRowIds = [];\n          var detailRowId;\n          _rows2.forEach(function (row) {\n            var rowId = row.get(_propnames.ID);\n            var rowFormInfo = _model.uiModel.getFormFieldInfo(uiInfo, rowId);\n            var _rowType = rowFormInfo.get('RowType');\n            if (_lodash[\"default\"].endsWith(_rowType, 'group') && rowFormInfo.get('GroupID') === groupId) {\n              if (!detailRowId) {\n                beforeGroupRowIds.push(rowId);\n              } else {\n                afterGroupRowIds.push(rowId);\n              }\n            }\n            if (beforeGroupRowIds.length > 0 && afterGroupRowIds.length === 0 && _rowType === 'detail') {\n              detailRowId = rowId;\n            }\n          });\n          var deleteIds = [];\n          if (beforeGroupRowIds.length === 1 && beforeGroupRowIds.indexOf(ctrlId) > -1) {\n            deleteIds = afterGroupRowIds;\n            afterGroupRowIds.forEach(function (id) {\n              uiInfo = setMergeBlocks(id, -1);\n            });\n          } else if (afterGroupRowIds.length === 1 && afterGroupRowIds.indexOf(ctrlId) > -1) {\n            deleteIds = beforeGroupRowIds;\n            beforeGroupRowIds.forEach(function (id) {\n              uiInfo = setMergeBlocks(id, -1);\n            });\n          }\n          _lodash[\"default\"].forEach(deleteIds, function (delId) {\n            uiInfo = deleteControl(uiInfo, {\n              ctrlId: delId,\n              uiConfig: uiConfig\n            });\n          });\n        }\n      }\n    }\n  }\n  // 删除页眉页脚同时需要更改显示页眉页脚属性\n  var updatePropWhenDel = ['Header', 'Footer'];\n  var parentId = _model.uiModel.getRootId(uiInfo);\n  if (updatePropWhenDel.indexOf(ctrlType) > -1) {\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: parentId,\n      propName: 'Show' + ctrlType,\n      value: false,\n      metaType: _propnames.FORMMETA\n    })(uiInfo);\n  }\n  var selectControl = _model.uiModel.getPreControl(uiInfo, params.ctrlId, false) || _model.uiModel.getNextControl(uiInfo, params.ctrlId, false);\n  params.selId = selectControl && selectControl.get(_propnames.ID);\n  return uiInfo;\n}\nfunction afterDeleteControl(uiInfo, _ref10) {\n  var uiConfig = _ref10.uiConfig,\n    gridInfo = _ref10.gridInfo;\n  try {\n    if (gridInfo) {\n      uiInfo = resetFillWidthHeight(uiInfo, {\n        fieldId: gridInfo.get(_propnames.ID),\n        propName: 'HorizontalFill',\n        uiConfig: uiConfig\n      });\n      uiInfo = resetFillWidthHeight(uiInfo, {\n        fieldId: gridInfo.get(_propnames.ID),\n        propName: 'VerticalFill',\n        uiConfig: uiConfig\n      });\n    }\n  } catch (error) {\n    console.log(error);\n  }\n  return uiInfo;\n}\nfunction deleteControl(uiInfo, _ref11) {\n  var ctrlId = _ref11.ctrlId;\n  var fieldInfo = _model.uiModel.getFormFieldInfo(uiInfo, ctrlId);\n  uiInfo = _model.uiModel.deleteFormItem(ctrlId)(uiInfo);\n  uiInfo = _model.uiModel.deleteUIItem(ctrlId)(uiInfo);\n  var parentId = fieldInfo.get('ParentId');\n  uiInfo = _model.uiModel.updateFormIndex(parentId)(uiInfo);\n  return uiInfo;\n}\n/** ***删除功能 end*****/\n\n/** ***更改控件的属性值 begin*****/\nfunction updatePropValueAction(state, action) {\n  // propInfo结构：{fieldId, propName, value, metaType}\n  var _action$propInfos = action.propInfos,\n    propInfos = _action$propInfos === void 0 ? [] : _action$propInfos,\n    uiConfig = action.uiConfig,\n    dispatch = action.dispatch;\n  propInfos.forEach(function (propInfo) {\n    // 更改属性添加控件（页眉，页脚）\n    var propName = propInfo.propName,\n      value = propInfo.value;\n    if (propName === 'ShowHeader' || propName === 'ShowFooter') {\n      var _id = (0, _utils.createNewId)();\n      var ctrlType = propName === 'ShowHeader' ? 'Header' : 'Footer';\n      state = state.update('uiInfo', function (uiInfo) {\n        if (value === true) {\n          var parentId = _model.uiModel.getRootId(uiInfo);\n          var targetId = parentId;\n          var parentCtrlInfo = _model.uiModel.getFormFieldInfo(uiInfo, parentId);\n          var parentWidth = (0, _unit.convertMMToNum)(parentCtrlInfo.get('Width'));\n          var parentHeight = (0, _unit.convertMMToNum)(parentCtrlInfo.get('Height'));\n          var parentMarginLeft = (0, _unit.convertMMToNum)(parentCtrlInfo.get('MarginLeft'));\n          var parentMarginRight = (0, _unit.convertMMToNum)(parentCtrlInfo.get('MarginRight'));\n          var parentMarginTop = (0, _unit.convertMMToNum)(parentCtrlInfo.get('MarginTop'));\n          var parentMarginBottom = (0, _unit.convertMMToNum)(parentCtrlInfo.get('MarginBottom'));\n          // 获取元数据中的高度默认值\n          var defaultHeight = (0, _unit.convertMMToNum)(_model.metadataModel.getControlPropertyDefaultValue('Footer', 'Height', uiConfig).defaultValue) || 15;\n          var ctrlY = parentHeight - parentMarginBottom - parentMarginTop - defaultHeight;\n          ctrlY = propName === 'ShowHeader' ? 0 + 'mm' : ctrlY + 'mm';\n          var ctrlWidth = parentWidth - parentMarginRight - parentMarginLeft;\n          var key = (0, _utils.createNewKey)(uiInfo, ctrlType);\n          var params = {\n            state: state,\n            _id: _id,\n            key: key,\n            parentId: parentId,\n            targetId: targetId,\n            ctrlType: ctrlType,\n            index: null,\n            formInfo: {\n              X: '0mm',\n              Width: ctrlWidth + 'mm',\n              Y: ctrlY\n            },\n            uiConfig: uiConfig\n          };\n          return (0, _common.actionWrap)(addControl, beforeAddControl, afterAddControl)(uiInfo, params);\n        } else {\n          var ctrlInfo = uiInfo.getIn(['ui', 'Items']).find(function (item) {\n            return item.get('Type') === ctrlType;\n          });\n          var ctrlId = ctrlInfo && ctrlInfo.get('Id');\n          var _params = {\n            ctrlId: ctrlId,\n            ctrlType: ctrlType,\n            uiConfig: uiConfig\n          };\n          return (0, _common.actionWrap)(deleteControl, beforeDeleteControl)(uiInfo, _params);\n        }\n      });\n      var rootId = state.getIn(['uiInfo', 'ui']).get('Id');\n      state = (0, _common.setSelectControlId)(state, value ? _id : rootId);\n    }\n    propInfo.metaType = propInfo.metaType || 'formmeta';\n    state = state.update('uiInfo', function (uiInfo) {\n      return (0, _common.actionWrap)(updatePropValue, beforeUpdatePropValue, afterUpdatePropValue)(uiInfo, _objectSpread(_objectSpread({}, propInfo), {}, {\n        uiConfig: uiConfig,\n        dispatch: dispatch\n      }));\n    });\n  });\n  return state;\n}\nfunction beforeUpdatePropValue(uiInfo, _ref12) {\n  var fieldId = _ref12.fieldId,\n    propName = _ref12.propName,\n    value = _ref12.value,\n    metaType = _ref12.metaType,\n    uiConfig = _ref12.uiConfig;\n  var fieldInfo = _model.uiModel.getFieldInfo(uiInfo, fieldId, _propnames.FORMMETA);\n  if (fieldInfo && _lodash[\"default\"].endsWith(fieldInfo.get(_propnames._TYPE_), 'Grid')) {\n    // 仅表格充满需要进行操作\n    uiInfo = setGridWidthAndHeight(uiInfo, fieldId, propName, value, uiConfig);\n    // } else {\n    //   if (propName === 'HorizontalFill') {\n    //     // uiInfo = uiModel.updatePropValue({ fieldId: fieldId, propName: 'X', value: '0mm', metaType: FORMMETA })(uiInfo)\n    //     if (value) {\n    //       const preWidth = uiModel.getPropertyValue(uiInfo, fieldId, 'Width', FORMMETA, uiConfig)\n    //       uiInfo = uiModel.updatePropValue({ fieldId, propName: 'PreWidth', value: preWidth, metaType: 'formmeta', uiConfig })(uiInfo)\n    //       const parentInfo = printModel.getCanUseWidthandHeight(uiInfo, fieldId, uiConfig)\n    //       const ctrlWidth = (parentInfo && parentInfo.width) || 0\n    //       uiInfo = uiModel.updatePropValue({ fieldId: fieldId, propName: 'Width', value: ctrlWidth + 'mm', metaType: FORMMETA })(uiInfo)\n    //     } else {\n    //       const preWidth = uiModel.getPropertyValue(uiInfo, fieldId, 'PreWidth', FORMMETA, uiConfig)\n    //       uiInfo = uiModel.updatePropValue({ fieldId: fieldId, propName: 'Width', value: preWidth, metaType: FORMMETA })(uiInfo)\n    //     }\n    //   } else if (propName === 'VerticalFill') {\n    //     // uiInfo = uiModel.updatePropValue({ fieldId: fieldId, propName: 'Y', value: '0mm', metaType: FORMMETA })(uiInfo)\n    //     if (value) {\n    //       const preHeight = uiModel.getPropertyValue(uiInfo, fieldId, 'Height', FORMMETA, uiConfig)\n    //       uiInfo = uiModel.updatePropValue({ fieldId, propName: 'PreHeight', value: preHeight, metaType: 'formmeta', uiConfig })(uiInfo)\n    //       const parentInfo = printModel.getCanUseWidthandHeight(uiInfo, fieldId, uiConfig)\n    //       const ctrlHeight = (parentInfo && parentInfo.height) || 0\n    //       uiInfo = uiModel.updatePropValue({ fieldId: fieldId, propName: 'Height', value: ctrlHeight + 'mm', metaType: FORMMETA })(uiInfo)\n    //     } else {\n    //       const preHeight = uiModel.getPropertyValue(uiInfo, fieldId, 'PreHeight', FORMMETA, uiConfig)\n    //       uiInfo = uiModel.updatePropValue({ fieldId: fieldId, propName: 'Height', value: preHeight, metaType: FORMMETA })(uiInfo)\n    //     }\n    //   }\n  }\n  return uiInfo;\n}\nfunction setGridWidthAndHeight(uiInfo, fieldId, propName, value, uiConfig) {\n  var gridInfo = _model.printModel.getGridInfo(uiInfo, fieldId);\n  switch (propName) {\n    case 'HorizontalFill':\n      {\n        var getProp = function getProp(prop, id) {\n          return _model.uiModel.getPropertyValue(uiInfo, id, prop, 'formmeta', uiConfig);\n        };\n        if (value === true) {\n          // 设置水平充满，获取父组件宽度，自适应宽度 ——可能还需要处理合并单元格\n          var gridParentControl = _model.uiModel.getParentControl(uiInfo, fieldId); // gird的父容器\n          var gridParentType = gridParentControl && gridParentControl.get(_propnames.TYPE);\n          var parentUseWidth = 0;\n          if (gridInfo) {\n            // 仅支持可绘制区域、单元格\n            var gridParentControlId = gridParentControl.get(_propnames.ID);\n            var children = _model.printModel.getCols(gridInfo);\n            if (_lodash[\"default\"].endsWith(gridParentType, 'Cell')) {\n              // 如果在单元格内\n              var dataGridInfo = _model.printModel.getGridInfo(uiInfo, gridParentControlId); // 单元格的父表格\n              var _printModel$getCellPo2 = _model.printModel.getCellPosition(dataGridInfo, gridParentControlId),\n                colId = _printModel$getCellPo2.colId,\n                rowIndex = _printModel$getCellPo2.rowIndex,\n                colIndex = _printModel$getCellPo2.colIndex;\n              var mergeBlocks = _model.printModel.getMergeBlocks(uiInfo, dataGridInfo.get(_propnames.ID));\n              var mergeBlock = _model.printModel.getMergeBlock(mergeBlocks, {\n                rowIndex: rowIndex,\n                colIndex: colIndex\n              });\n              if (mergeBlock) {\n                // 计算合并宽度\n                var _children = _model.printModel.getCols(dataGridInfo);\n                var _mergeBlock$toJS2 = mergeBlock.toJS(),\n                  left = _mergeBlock$toJS2.left,\n                  right = _mergeBlock$toJS2.right;\n                var _size = _children.size;\n                for (var i = left; i <= right; i++) {\n                  if (left > _size) return;\n                  parentUseWidth += (0, _unit.convertMMToNum)(getProp('Width', _children.getIn([i, _propnames.ID])));\n                }\n              } else {\n                parentUseWidth = (0, _unit.convertMMToNum)(getProp('Width', colId));\n              }\n            } else {\n              var parentWidth = (0, _unit.convertMMToNum)(getProp('Width', gridParentControlId));\n              var parentMarginLeft = (0, _unit.convertMMToNum)(getProp('MarginLeft', gridParentControlId));\n              var parentMarginRight = (0, _unit.convertMMToNum)(getProp('MarginRight', gridParentControlId));\n              parentUseWidth = parentWidth - parentMarginLeft - parentMarginRight;\n            }\n            // parentUseWidth -= convertToMM(0.95 * children.size, 'x');//表格算出来会多出1px乘以列数\n            var widthSum = 0; // 列宽和\n            children.forEach(function (item) {\n              var _w = (0, _unit.convertMMToNum)(getProp('Width', item.get(_propnames.ID)));\n              widthSum += _w;\n            });\n            if (parentUseWidth > 0 && parentUseWidth !== widthSum) {\n              // 宽度不一致时候处理\n              var setProp = function setProp(prop, id, value) {\n                return _model.uiModel.updatePropValue({\n                  fieldId: id,\n                  propName: prop,\n                  value: value,\n                  metaType: _propnames.FORMMETA\n                })(uiInfo);\n              };\n              var lastColumnWidth = parentUseWidth;\n              children.forEach(function (item, index) {\n                var _id = item.get(_propnames.ID);\n                var _w = (0, _unit.convertMMToNum)(getProp('Width', _id));\n                if (index === children.size - 1) {\n                  uiInfo = setProp('Width', _id, lastColumnWidth + 'mm');\n                } else {\n                  // fix: PRJ-00030532\n                  // 有数值在计算在最后予以弥补了，是table布局问题\n                  var newWidth = (0, _unit.toFloorFix)(_w * parentUseWidth / widthSum, 1);\n                  uiInfo = setProp('Width', _id, newWidth + 'mm');\n                  var getAfterWidth = newWidth;\n                  lastColumnWidth = (0, _unit.toFloorFix)((0, _unit.numAdd)(lastColumnWidth, -getAfterWidth), 1);\n                }\n                var isFillWidth = getProp('isFillWidth', fieldId);\n                if (!isFillWidth) {\n                  uiInfo = setProp('PreFillWidth', _id, _w + 'mm'); // 扩展前的宽度\n                }\n              });\n              uiInfo = setProp('isFillWidth', fieldId, true);\n            }\n          }\n        } else if (value === false) {\n          var _children3 = _model.printModel.getCols(gridInfo);\n          var _setProp = function _setProp(prop, id, value) {\n            return _model.uiModel.updatePropValue({\n              fieldId: id,\n              propName: prop,\n              value: value,\n              metaType: _propnames.FORMMETA\n            })(uiInfo);\n          };\n          _children3.forEach(function (item) {\n            var _id = item.get(_propnames.ID);\n            var _w = (0, _unit.convertMMToNum)(getProp('PreFillWidth', _id)) || (0, _unit.convertMMToNum)(getProp('Width', _id));\n            uiInfo = _setProp('Width', _id, _w + 'mm'); // 扩展前的宽度\n          });\n          uiInfo = _setProp('isFillWidth', fieldId, false);\n        }\n        break;\n      }\n    case 'VerticalFill':\n      {\n        var _getProp = function _getProp(prop, id) {\n          return _model.uiModel.getPropertyValue(uiInfo, id, prop, 'formmeta', uiConfig);\n        };\n        if (value === true) {\n          // 设置垂直充满，获取父组件高度，自适应高度 ——可能还需要处理合并单元格\n          var _gridParentControl = _model.uiModel.getParentControl(uiInfo, fieldId); // gird的父容器\n          var _gridParentType = _gridParentControl && _gridParentControl.get(_propnames.TYPE);\n          var parentUseHeight = 0;\n          if (gridInfo) {\n            // 仅支持可绘制区域、单元格\n            var _gridParentControlId = _gridParentControl.get(_propnames.ID);\n            var _children4 = _model.printModel.getRows(gridInfo);\n            if (_lodash[\"default\"].endsWith(_gridParentType, 'Cell')) {\n              var _dataGridInfo = _model.printModel.getGridInfo(uiInfo, _gridParentControlId); // 单元格的父表格\n              var _printModel$getCellPo3 = _model.printModel.getCellPosition(_dataGridInfo, _gridParentControlId),\n                rowId = _printModel$getCellPo3.rowId,\n                _rowIndex2 = _printModel$getCellPo3.rowIndex,\n                _colIndex2 = _printModel$getCellPo3.colIndex;\n              var _mergeBlocks4 = _model.printModel.getMergeBlocks(uiInfo, _dataGridInfo.get(_propnames.ID));\n              var _mergeBlock = _model.printModel.getMergeBlock(_mergeBlocks4, {\n                rowIndex: _rowIndex2,\n                colIndex: _colIndex2\n              });\n              if (_mergeBlock) {\n                // 计算合并高度\n                var _children5 = _model.printModel.getRows(_dataGridInfo);\n                var _mergeBlock$toJS3 = _mergeBlock.toJS(),\n                  top = _mergeBlock$toJS3.top,\n                  bottom = _mergeBlock$toJS3.bottom;\n                var _size2 = _children5.size;\n                for (var _i2 = top; _i2 <= bottom; _i2++) {\n                  if (top > _size2) return;\n                  parentUseHeight += (0, _unit.convertMMToNum)(_getProp('Height', _children5.getIn([_i2, _propnames.ID])));\n                }\n              } else {\n                parentUseHeight = (0, _unit.convertMMToNum)(_getProp('Height', rowId));\n              }\n              // let rowInfo = uiModel.getParentControl(uiInfo, gridParentControlId);//单元格的行\n            } else {\n              var parentHeight = (0, _unit.convertMMToNum)(_getProp('Height', _gridParentControlId));\n              var parentMarginTop = (0, _unit.convertMMToNum)(_getProp('MarginTop', _gridParentControlId));\n              var parentMarginBottom = (0, _unit.convertMMToNum)(_getProp('MarginBottom', _gridParentControlId));\n              parentUseHeight = parentHeight - parentMarginTop - parentMarginBottom;\n            }\n            // parentUseHeight -= convertToMM(1, 'y');//表格算出来会多出1px乘以行数\n            var heightSum = 0; // 列宽和\n            _children4.forEach(function (item) {\n              var _h = (0, _unit.convertMMToNum)(_getProp('Height', item.get(_propnames.ID)), true);\n              if (_getProp(_propnames.ROWTYPE, item.get(_propnames.ID)) === 'detail') {\n                var repeatTime = _model.uiModel.getPropertyValue(uiInfo, item.get(_propnames.ID), 'RepeatTimes', _propnames.FORMMETA, uiConfig);\n                repeatTime = parseInt(repeatTime) || 1;\n                _h = _h * repeatTime; // 数据行重复次数\n              }\n              heightSum += _h;\n            });\n            if (parentUseHeight > 0 && parentUseHeight !== heightSum) {\n              // 高度不一致时候处理\n              var _setProp2 = function _setProp2(prop, id, value) {\n                return _model.uiModel.updatePropValue({\n                  fieldId: id,\n                  propName: prop,\n                  value: value,\n                  metaType: _propnames.FORMMETA\n                })(uiInfo);\n              };\n              var lastRowHeight = parentUseHeight;\n              _children4.forEach(function (item, index) {\n                var _id = item.get(_propnames.ID);\n                var _h = (0, _unit.convertMMToNum)(_getProp('Height', _id), true);\n                if (index === _children4.size - 1 && _getProp(_propnames.ROWTYPE, item.get(_propnames.ID)) !== 'detail') {\n                  uiInfo = _setProp2('Height', _id, lastRowHeight + 'mm');\n                } else {\n                  // afterHeight充满后的高度平均值\n                  var afterHeight = (0, _unit.toFloorFix)(_h * parentUseHeight / heightSum, 1);\n                  uiInfo = _setProp2('Height', _id, afterHeight + 'mm');\n                  if (_getProp(_propnames.ROWTYPE, item.get(_propnames.ID)) === 'detail') {\n                    var repeatTime = _model.uiModel.getPropertyValue(uiInfo, item.get(_propnames.ID), 'RepeatTimes', _propnames.FORMMETA, uiConfig);\n                    repeatTime = parseInt(repeatTime) || 1;\n                    for (var _i3 = 0; _i3 < repeatTime; _i3++) {\n                      lastRowHeight = (0, _unit.toFloorFix)((0, _unit.numAdd)(lastRowHeight, -afterHeight), 1);\n                    }\n                  } else {\n                    lastRowHeight = (0, _unit.toFloorFix)((0, _unit.numAdd)(lastRowHeight, -afterHeight), 1);\n                  }\n                }\n                var isFillHeight = _getProp('isFillHeight', fieldId);\n                if (!isFillHeight) {\n                  uiInfo = _setProp2('PreFillHeight', _id, _h + 'mm'); // 扩展前的高度\n                }\n              });\n              uiInfo = _setProp2('isFillHeight', fieldId, true);\n            }\n          }\n        } else if (value === false) {\n          var _children6 = _model.printModel.getRows(gridInfo);\n          var _setProp3 = function _setProp3(prop, id, value) {\n            return _model.uiModel.updatePropValue({\n              fieldId: id,\n              propName: prop,\n              value: value,\n              metaType: _propnames.FORMMETA\n            })(uiInfo);\n          };\n          _children6.forEach(function (item) {\n            var _id = item.get(_propnames.ID);\n            var _h = (0, _unit.convertMMToNum)(_getProp('PreFillHeight', _id)) || (0, _unit.convertMMToNum)(_getProp('Height', _id));\n            uiInfo = _setProp3('Height', _id, _h + 'mm'); // 扩展前的高度\n          });\n          uiInfo = _setProp3('isFillHeight', fieldId, false);\n        }\n        break;\n      }\n  }\n  return uiInfo;\n}\nfunction updatePropValue(uiInfo, _ref13) {\n  var fieldId = _ref13.fieldId,\n    propName = _ref13.propName,\n    value = _ref13.value,\n    metaType = _ref13.metaType,\n    uiConfig = _ref13.uiConfig;\n  return _model.uiModel.updatePropValue({\n    fieldId: fieldId,\n    propName: propName,\n    value: value,\n    metaType: metaType,\n    uiConfig: uiConfig\n  })(uiInfo);\n}\nfunction filterBySelectedStyleProp(innerValue, transferStyleProps) {\n  return innerValue.filter(function (val, key) {\n    if (transferStyleProps.includes(key)) return true;\n    return false;\n  });\n}\nvar defaultBoderStyle = '1px_solid_#000000';\nvar transferProps = ['HorAlignment', 'VerAlignment', 'HorizontalFill', 'VerticalFill', 'WrapText', 'Shrink', 'Format', 'FontSize', 'FontName', 'Style', 'ForeColor']; // 表格需要传递影响单据格的属性\nvar transferStyleProps = ['Border']; // Style是复合属性，暂时下发边框\nvar delayTaskTimer;\n// TODO: 获取当前\nfunction getInnerValAndSize(value, transferStyleProps) {\n  if (!value || !_immutable.Map.isMap(value)) return [];\n  var innerValue = value.filter(function (val, key) {\n    return transferStyleProps.includes(key);\n  });\n  return [innerValue, innerValue.reduce(function (prevVal, nextVal) {\n    var _ref14;\n    return (_ref14 = prevVal + (nextVal === null || nextVal === void 0 ? void 0 : nextVal.size)) !== null && _ref14 !== void 0 ? _ref14 : 0;\n  }, 0)];\n}\n// TODO: 实际上还是有点精度问题\nfunction updateDataGridByPaddingChange(uiInfo, preFieldId) {\n  // 直接获取当前的，因为实际状态并没有修改\n  var gridInfo = _model.printModel.getGridInfo(uiInfo, preFieldId);\n  var metaType = 'formmeta';\n  var rows = _model.printModel.getRows(gridInfo);\n  var _ref15 = _model.printModel.getCellPosition(gridInfo, preFieldId) || {},\n    colIndex = _ref15.colIndex,\n    rowIndex = _ref15.rowIndex;\n  var parentRowInfo = rows.get(rowIndex);\n  var parentColumnInfo = _model.printModel.getCols(gridInfo).find(function (cols, index) {\n    return index === colIndex;\n  });\n  // TOFIX: Dom值更新只能在这个store更新之后，用延时任务驱动\n  if (parentRowInfo) {\n    var _printSelectedUtil$ge, _printSelectedUtil$ge2;\n    var defaultColumnWidth = 25;\n    var parentRowId = parentRowInfo.get(_propnames.ID);\n    var MaxCellHeight = _model.uiModel.getPropertyValue(uiInfo, parentRowId, 'MaxCellHeight', _propnames.FORMMETA, uiInfo) || (0, _unit.convertMMToNum)(_model.uiModel.getPropertyValue(uiInfo, parentRowId, 'Height', _propnames.FORMMETA, uiInfo)) || defaultColumnWidth;\n    //\n    var curCellHeight = (_printSelectedUtil$ge = (_printSelectedUtil$ge2 = _printSelectUtil[\"default\"].getSelectDom()) === null || _printSelectedUtil$ge2 === void 0 ? void 0 : _printSelectedUtil$ge2.clientHeight) !== null && _printSelectedUtil$ge !== void 0 ? _printSelectedUtil$ge : 0;\n    if (MaxCellHeight && MaxCellHeight < curCellHeight) {\n      uiInfo = _model.uiModel.updatePropValue({\n        fieldId: parentRowId,\n        propName: 'MaxCellHeight',\n        value: curCellHeight,\n        metaType: _propnames.FORMMETA,\n        uiInfo: uiInfo\n      })(uiInfo);\n      uiInfo = (0, _common.actionWrap)(updatePropValue, null, afterUpdatePropValue)(uiInfo, {\n        fieldId: parentRowId,\n        propName: 'Height',\n        value: (0, _unit.convertToMM)(curCellHeight + 'px', 'y') + 'mm',\n        metaType: metaType,\n        uiConfig: uiInfo\n      });\n    }\n  }\n  if (parentColumnInfo) {\n    var _printSelectedUtil$ge3, _printSelectedUtil$ge4;\n    var defaultRowHeight = 8;\n    var parentColumnId = parentColumnInfo.get(_propnames.ID);\n    var MaxCellWidth = _model.uiModel.getPropertyValue(uiInfo, parentColumnId, 'MaxCellWidth', _propnames.FORMMETA, uiInfo) || (0, _unit.convertMMToNum)(_model.uiModel.getPropertyValue(uiInfo, parentColumnId, 'Width', _propnames.FORMMETA, uiInfo)) || defaultRowHeight;\n    var curCellWidth = (_printSelectedUtil$ge3 = (_printSelectedUtil$ge4 = _printSelectUtil[\"default\"].getSelectDom()) === null || _printSelectedUtil$ge4 === void 0 ? void 0 : _printSelectedUtil$ge4.clientWidth) !== null && _printSelectedUtil$ge3 !== void 0 ? _printSelectedUtil$ge3 : 0;\n    if (MaxCellWidth && MaxCellWidth < curCellWidth) {\n      uiInfo = _model.uiModel.updatePropValue({\n        fieldId: parentColumnId,\n        propName: 'MaxCellWidth',\n        value: curCellWidth,\n        metaType: _propnames.FORMMETA,\n        uiInfo: uiInfo\n      })(uiInfo);\n      uiInfo = (0, _common.actionWrap)(updatePropValue, null, afterUpdatePropValue)(uiInfo, {\n        fieldId: parentColumnId,\n        propName: 'Width',\n        value: (0, _unit.convertToMM)(curCellWidth + 'px', 'x') + 'mm',\n        metaType: metaType,\n        uiConfig: uiInfo\n      });\n    }\n  }\n  return uiInfo;\n}\nfunction afterUpdatePropValue(uiInfo, _ref16) {\n  var fieldId = _ref16.fieldId,\n    propName = _ref16.propName,\n    value = _ref16.value,\n    metaType = _ref16.metaType,\n    uiConfig = _ref16.uiConfig,\n    isUpdateProps = _ref16.isUpdateProps,\n    dispatch = _ref16.dispatch;\n  if (metaType !== 'formmeta') return uiInfo;\n  var fieldInfo = _model.uiModel.getFormFieldInfo(uiInfo, fieldId);\n  var ctrlType = fieldInfo.get(_propnames._TYPE_);\n  // 套打纸张大小设置\n  if (propName === 'Paper') {\n    var paperDirection = _model.uiModel.getPropertyValue(uiInfo, fieldId, 'PaperDirection', 'formmeta', uiConfig);\n    var _ref17 = _paperSize.PageSizeEnum[value] || {},\n      width = _ref17.width,\n      height = _ref17.height;\n    if (paperDirection == 'horizontal') {\n      if (width) {\n        uiInfo = _model.uiModel.updatePropValue({\n          fieldId: fieldId,\n          propName: 'Height',\n          value: width,\n          metaType: 'formmeta',\n          uiConfig: uiConfig\n        })(uiInfo);\n      }\n      if (height) {\n        uiInfo = _model.uiModel.updatePropValue({\n          fieldId: fieldId,\n          propName: 'Width',\n          value: height,\n          metaType: 'formmeta',\n          uiConfig: uiConfig\n        })(uiInfo);\n      }\n    } else {\n      if (width) {\n        uiInfo = _model.uiModel.updatePropValue({\n          fieldId: fieldId,\n          propName: 'Width',\n          value: width,\n          metaType: 'formmeta',\n          uiConfig: uiConfig\n        })(uiInfo);\n      }\n      if (height) {\n        uiInfo = _model.uiModel.updatePropValue({\n          fieldId: fieldId,\n          propName: 'Height',\n          value: height,\n          metaType: 'formmeta',\n          uiConfig: uiConfig\n        })(uiInfo);\n      }\n    }\n  } else if (propName === 'OuterBorder') {\n    // 表格的外边框\n    value = _model.uiModel.getPropertyValue(uiInfo, fieldId, propName, metaType, uiConfig);\n    var ctrlInfo = _model.uiModel.getUIFieldInfo(uiInfo, fieldId);\n    var gridInfo, rows, colIndex;\n    if (_lodash[\"default\"].endsWith(ctrlType, 'Grid')) {\n      // 表格\n      gridInfo = ctrlInfo;\n      rows = ctrlInfo.get(_propnames.ITEMS, (0, _immutable.List)()).filter(function (item) {\n        return _lodash[\"default\"].endsWith(item.get(_propnames.TYPE, ''), 'Row');\n      });\n    } else if (_lodash[\"default\"].endsWith(ctrlType, 'Row')) {\n      // 行\n      rows = _immutable.List.of(ctrlInfo);\n    } else if (_lodash[\"default\"].endsWith(ctrlType, 'Column')) {\n      // 列\n      gridInfo = _model.uiModel.getParentControl(uiInfo, fieldId);\n      var items = gridInfo.get(_propnames.ITEMS, (0, _immutable.List)());\n      rows = items.filter(function (item) {\n        return _lodash[\"default\"].endsWith(item.get(_propnames.TYPE, ''), 'Row');\n      });\n      colIndex = items.findIndex(function (item) {\n        return item.get(_propnames.ID) == fieldId;\n      });\n    }\n    var rowSize = rows && rows.size;\n    rows && rows.forEach(function (row, rIndex) {\n      var cells = row.get(_propnames.ITEMS, (0, _immutable.List)());\n      var cellSize = cells.size;\n      cells.forEach(function (cell, cIndex) {\n        if (colIndex != null && cIndex != colIndex) return;\n        var cellId = cell.get(_propnames.ID);\n        var style = _model.uiModel.getPropertyValue(uiInfo, cellId, 'Style', 'formmeta', uiConfig) || (0, _immutable.Map)();\n        var border = style.get('Border', (0, _immutable.Map)());\n        // TOTEST value: 0 ? '0' ?\n        if (rIndex === 0) {\n          border = value ? border.set('Top', defaultBoderStyle) : border[\"delete\"]('Top');\n        }\n        if (rIndex === rowSize - 1) {\n          border = value ? border.set('Bottom', defaultBoderStyle) : border[\"delete\"]('Bottom');\n        }\n        if (cIndex === 0 || colIndex != null) {\n          border = value ? border.set('Left', defaultBoderStyle) : border[\"delete\"]('Left');\n        }\n        if (cIndex === cellSize - 1 || colIndex != null) {\n          border = value ? border.set('Right', defaultBoderStyle) : border[\"delete\"]('Right');\n        }\n        style = style.set('Border', border);\n        uiInfo = _model.uiModel.updatePropValue({\n          fieldId: cellId,\n          propName: 'Style',\n          value: style,\n          metaType: 'formmeta',\n          uiConfig: uiConfig\n        })(uiInfo);\n      });\n    });\n  } else if (propName === 'InnerBorder') {\n    // 表格的内边框\n    value = _model.uiModel.getPropertyValue(uiInfo, fieldId, propName, metaType, uiConfig);\n    var _ctrlInfo2 = _model.uiModel.getUIFieldInfo(uiInfo, fieldId);\n    var _gridInfo7, _rows3, _colIndex3;\n    if (_lodash[\"default\"].endsWith(ctrlType, 'Grid')) {\n      _gridInfo7 = _ctrlInfo2;\n      _rows3 = _ctrlInfo2.get(_propnames.ITEMS, (0, _immutable.List)()).filter(function (item) {\n        return _lodash[\"default\"].endsWith(item.get(_propnames.TYPE, ''), 'Row');\n      });\n    } else if (_lodash[\"default\"].endsWith(ctrlType, 'Row')) {\n      _rows3 = _immutable.List.of(_ctrlInfo2);\n    } else if (_lodash[\"default\"].endsWith(ctrlType, 'Column')) {\n      _gridInfo7 = _model.uiModel.getParentControl(uiInfo, fieldId);\n      var _items = _gridInfo7.get(_propnames.ITEMS, (0, _immutable.List)());\n      _rows3 = _items.filter(function (item) {\n        return _lodash[\"default\"].endsWith(item.get(_propnames.TYPE, ''), 'Row');\n      });\n      _colIndex3 = _items.findIndex(function (item) {\n        return item.get(_propnames.ID) == fieldId;\n      });\n    }\n    var _rowSize2 = _rows3 && _rows3.size;\n    _rows3 && _rows3.forEach(function (row, rIndex) {\n      var cells = row.get(_propnames.ITEMS, (0, _immutable.List)());\n      var cellSize = cells.size;\n      cells.forEach(function (cell, cIndex) {\n        if (_colIndex3 != null && cIndex != _colIndex3) return;\n        var cellId = cell.get(_propnames.ID);\n        var style = _model.uiModel.getPropertyValue(uiInfo, cellId, 'Style', 'formmeta', uiConfig) || (0, _immutable.Map)();\n        var border = style.get('Border', (0, _immutable.Map)());\n        var newBorder = (0, _immutable.Map)({\n          Top: defaultBoderStyle,\n          Bottom: defaultBoderStyle,\n          Left: defaultBoderStyle,\n          Right: defaultBoderStyle\n        });\n        if (rIndex === 0) {\n          newBorder = newBorder[\"delete\"]('Top');\n        }\n        if (rIndex === _rowSize2 - 1) {\n          newBorder = newBorder[\"delete\"]('Bottom');\n        }\n        if (cIndex === 0 || _colIndex3 != null) {\n          newBorder = newBorder[\"delete\"]('Left');\n        }\n        if (cIndex === cellSize - 1 || _colIndex3 != null) {\n          newBorder = newBorder[\"delete\"]('Right');\n        }\n        if (value) {\n          border = border.concat(newBorder);\n        } else {\n          border = border.filterNot(function (v, k) {\n            return newBorder.has(k);\n          });\n        }\n        style = style.set('Border', border);\n        uiInfo = _model.uiModel.updatePropValue({\n          fieldId: cellId,\n          propName: 'Style',\n          value: style,\n          metaType: 'formmeta',\n          uiConfig: uiConfig\n        })(uiInfo);\n      });\n    });\n  } else if (propName === 'PaperDirection') {\n    var _width4 = _model.uiModel.getPropertyValue(uiInfo, fieldId, 'Width', 'formmeta', uiConfig);\n    var _height4 = _model.uiModel.getPropertyValue(uiInfo, fieldId, 'Height', 'formmeta', uiConfig);\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: fieldId,\n      propName: 'Width',\n      value: _height4,\n      metaType: 'formmeta',\n      uiConfig: uiConfig\n    })(uiInfo);\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: fieldId,\n      propName: 'Height',\n      value: _width4,\n      metaType: 'formmeta',\n      uiConfig: uiConfig\n    })(uiInfo);\n  } else if (propName === 'MergeBlocks' && _lodash[\"default\"].endsWith(ctrlType, 'Grid')) {\n    var _gridInfo8 = _model.printModel.getGridInfo(uiInfo, fieldId);\n    var mergeBlocks = value || (0, _immutable.List)();\n    // TOTEST\n    mergeBlocks.forEach(function (block) {\n      var _block$toJS = block.toJS(),\n        left = _block$toJS.left,\n        right = _block$toJS.right,\n        top = _block$toJS.top,\n        bottom = _block$toJS.bottom;\n      var majorCell = _model.printModel.getCellInfo(_gridInfo8, {\n        rowIndex: top,\n        colIndex: left\n      });\n      var colWidths = [];\n      var rowHeights = [];\n      for (var i = top; i <= bottom; i++) {\n        var rowInfo = _model.printModel.getCellInfo(_gridInfo8, {\n          rowIndex: i\n        });\n        rowHeights[i] = parseFloat(_model.uiModel.getPropertyValue(uiInfo, rowInfo, 'Height', _propnames.FORMMETA, uiConfig)) || 0;\n      }\n      for (var _i4 = left; _i4 <= right; _i4++) {\n        var colInfo = _model.printModel.getCellInfo(_gridInfo8, {\n          colIndex: _i4\n        });\n        colWidths[_i4] = parseFloat(_model.uiModel.getPropertyValue(uiInfo, colInfo, 'Width', _propnames.FORMMETA, uiConfig)) || 0;\n      }\n      for (var _i5 = top; _i5 <= bottom; _i5++) {\n        var _loop = function _loop() {\n          if (_i5 === top && j === left) return 1; // continue\n          var cellInfo = _model.printModel.getCellInfo(_gridInfo8, {\n            rowIndex: _i5,\n            colIndex: j\n          });\n          var cellId = cellInfo.get(_propnames.ID);\n          var width = _lodash[\"default\"].reduce(colWidths.slice(left, j), function (sum, w) {\n            return sum + w;\n          });\n          var height = _lodash[\"default\"].reduce(rowHeights.slice(top, _i5), function (sum, h) {\n            return sum + h;\n          });\n          cellInfo.get(_propnames.ITEMS, (0, _immutable.List)()).forEach(function (child) {\n            var ctrlId = child.get(_propnames.ID);\n            uiInfo = _model.uiModel.deleteUIItem(ctrlId)(uiInfo);\n            uiInfo = _model.uiModel.addUIItem(majorCell.get(_propnames.ID), child)(uiInfo);\n            if (width > 0) {\n              var _left = parseFloat(_model.uiModel.getPropertyValue(uiInfo, child, 'X', _propnames.FORMMETA, uiConfig)) || 0;\n              uiInfo = _model.uiModel.updatePropValue({\n                fieldId: ctrlId,\n                propName: 'X',\n                value: _left + width + 'mm',\n                metaType: _propnames.FORMMETA\n              })(uiInfo);\n            }\n            if (height > 0) {\n              var _top = parseFloat(_model.uiModel.getPropertyValue(uiInfo, child, 'Y', _propnames.FORMMETA, uiConfig)) || 0;\n              uiInfo = _model.uiModel.updatePropValue({\n                fieldId: ctrlId,\n                propName: 'Y',\n                value: _top + height + 'mm',\n                metaType: _propnames.FORMMETA\n              })(uiInfo);\n            }\n          });\n          uiInfo = _model.uiModel.updatePropValue({\n            fieldId: cellId,\n            propName: 'BindText',\n            value: undefined,\n            metaType: 'formmeta'\n          })(uiInfo);\n        };\n        for (var j = left; j <= right; j++) {\n          if (_loop()) continue;\n        }\n      }\n      uiInfo = _model.uiModel.updateParentId(majorCell.get(_propnames.ID))(uiInfo);\n      uiInfo = _model.uiModel.updateFormIndex(majorCell.get(_propnames.ID))(uiInfo);\n    });\n  } else if (_lodash[\"default\"].indexOf(transferProps, propName) > -1) {\n    if (_lodash[\"default\"].endsWith(ctrlType, 'Grid') || _lodash[\"default\"].endsWith(ctrlType, 'Row')) {\n      // if ((_.endsWith(ctrlType, 'Grid') && propName !== 'HorizontalFill' && propName !== 'VerticalFill') || _.endsWith(ctrlType, 'Row')) {\n      var _ctrlInfo3 = _model.uiModel.getUIFieldInfo(uiInfo, fieldId);\n      var children = _ctrlInfo3.get(_propnames.ITEMS, (0, _immutable.List)());\n      if (propName == 'HorizontalFill') {\n        // 水平充满只跟表格自身、传递到单元格有关\n        children.forEach(function (child) {\n          if (!_lodash[\"default\"].endsWith(child.get(_propnames.TYPE), 'Column')) {\n            // 跟列无关\n            uiInfo = afterUpdatePropValue(uiInfo, {\n              fieldId: child.get(_propnames.ID),\n              propName: propName,\n              value: value,\n              metaType: metaType,\n              uiConfig: uiConfig\n            });\n          }\n        });\n      } else if (propName == 'VerticalFill') {\n        children.forEach(function (child) {\n          if (!_lodash[\"default\"].endsWith(child.get(_propnames.TYPE), 'Column')) {\n            // 跟列无关 但是跟行的单元格有关\n            uiInfo = afterUpdatePropValue(uiInfo, {\n              fieldId: child.get(_propnames.ID),\n              propName: propName,\n              value: value,\n              metaType: metaType,\n              uiConfig: uiConfig\n            });\n          }\n        });\n      } else if (propName === 'Style') {\n        // 边框下发代码\n        var _getInnerValAndSize = getInnerValAndSize(value, transferStyleProps),\n          _getInnerValAndSize2 = _slicedToArray(_getInnerValAndSize, 2),\n          innerValue = _getInnerValAndSize2[0],\n          size = _getInnerValAndSize2[1];\n        if (size > 0) {\n          // 放到input交互时干预\n          // const borderLimitedWidth = printModel.getLimitedBorderWidth(uiInfo)\n          // const updateValue = borderLimitedWidth === 0 ? innerValue : innerValue.updateIn(['Border'], (borderEntities) => {\n          //   return borderEntities.map(val => {\n          //     if (val) {\n          //       let pixelVal = parseFloat(val)\n          //       if (pixelVal > 0 && pixelVal > borderLimitedWidth) {\n          //         pixelVal = borderLimitedWidth\n          //         return borderLimitedWidth + val.slice(String(pixelVal).length)\n          //       }\n          //       return val\n          //     }\n          //     return val\n          //   })\n          // })\n          children.forEach(function (child) {\n            uiInfo = (0, _common.actionWrap)(updatePropValue, null, afterUpdatePropValue)(uiInfo, {\n              fieldId: child.get(_propnames.ID),\n              propName: propName,\n              value: filterBySelectedStyleProp(innerValue, transferStyleProps),\n              metaType: metaType,\n              uiConfig: uiConfig\n            });\n          });\n        }\n      } else {\n        children.forEach(function (child) {\n          uiInfo = (0, _common.actionWrap)(updatePropValue, null, afterUpdatePropValue)(uiInfo, {\n            fieldId: child.get(_propnames.ID),\n            propName: propName,\n            value: value,\n            metaType: metaType,\n            uiConfig: uiConfig,\n            dispatch: dispatch\n          });\n        });\n      }\n    } else if (_lodash[\"default\"].endsWith(ctrlType, 'Column')) {\n      var _gridInfo9 = _model.printModel.getGridInfo(uiInfo, fieldId);\n      var _ref18 = _model.printModel.getCellPosition(_gridInfo9, fieldId) || {},\n        _colIndex4 = _ref18.colIndex;\n      var _rows4 = _model.printModel.getRows(_gridInfo9);\n      _rows4.forEach(function (row) {\n        var cell = row.getIn([_propnames.ITEMS, _colIndex4]);\n        if (cell) {\n          if (propName === 'Style') {\n            var _getInnerValAndSize3 = getInnerValAndSize(value, transferStyleProps),\n              _getInnerValAndSize4 = _slicedToArray(_getInnerValAndSize3, 2),\n              _innerValue = _getInnerValAndSize4[0],\n              _size3 = _getInnerValAndSize4[1];\n            if (_size3 > 0) {\n              // 放到input交互时干预\n              uiInfo = (0, _common.actionWrap)(updatePropValue, null, afterUpdatePropValue)(uiInfo, {\n                fieldId: cell.get(_propnames.ID),\n                propName: propName,\n                value: filterBySelectedStyleProp(_innerValue, transferStyleProps),\n                metaType: metaType,\n                uiConfig: uiConfig\n              });\n            }\n          } else {\n            uiInfo = (0, _common.actionWrap)(updatePropValue, null, afterUpdatePropValue)(uiInfo, {\n              fieldId: cell.get(_propnames.ID),\n              propName: propName,\n              value: value,\n              metaType: metaType,\n              uiConfig: uiConfig,\n              dispatch: dispatch\n            });\n          }\n        }\n      });\n    } else if (_lodash[\"default\"].endsWith(ctrlType, 'Cell')) {\n      var _getInnerValAndSize5 = getInnerValAndSize(value, ['Padding']),\n        _getInnerValAndSize6 = _slicedToArray(_getInnerValAndSize5, 2),\n        _innerValue2 = _getInnerValAndSize6[0],\n        _size4 = _getInnerValAndSize6[1];\n      if (_size4 > 0) {\n        // 改为取Dom值不计算\n        // Padding -> width, height\n        // TODO：从width, height -> Padding由于难以计算去缩小Padding、清除值又可能不是用户意愿，搁置\n        if (delayTaskTimer) {\n          clearTimeout(delayTaskTimer);\n          delayTaskTimer = null;\n        }\n        delayTaskTimer = setTimeout(function () {\n          // 由于没有可能是递归死循环的，不加限制\n          (dispatch || _global[\"default\"][_global.DSTORE][0].dispatch)({\n            type: actionnames.convert_appmodelfunction,\n            // 没必要用之前的state\n            action: function action(state) {\n              return state.update('uiInfo', function (uiInfo) {\n                return updateDataGridByPaddingChange(uiInfo, state.get('select_control_id'));\n              });\n            }\n          });\n        }, 100);\n      }\n      // 下发单元格的子元素排除Style\n      if (propName !== 'Style') {\n        var _ctrlInfo4 = _model.uiModel.getUIFieldInfo(uiInfo, fieldId);\n        var _children7 = _ctrlInfo4.get(_propnames.ITEMS, (0, _immutable.List)());\n        _children7.forEach(function (child) {\n          uiInfo = (0, _common.actionWrap)(updatePropValue, beforeUpdatePropValue, afterUpdatePropValue)(uiInfo, {\n            fieldId: child.get(_propnames.ID),\n            propName: propName,\n            value: value,\n            metaType: metaType,\n            uiConfig: uiConfig,\n            dispatch: dispatch\n          });\n        });\n      }\n    }\n  } else if ((propName === 'BindType' || propName === 'DataSource') && !isUpdateProps) {\n    var cleanPropVal = propName === 'BindType' ? ['DataSource', 'BindField', 'CombineField', 'BindText', 'CustomField'] : ['BindField', 'CombineField', 'CustomField'];\n    cleanPropVal.forEach(function (item) {\n      uiInfo = _model.uiModel.updatePropValue({\n        fieldId: fieldId,\n        propName: item,\n        value: undefined,\n        metaType: 'formmeta',\n        uiConfig: uiConfig\n      })(uiInfo);\n    });\n  } else if (propName === 'Height' && _lodash[\"default\"].endsWith(ctrlType, 'Footer')) {\n    // 设置footer高度同时需要修改y坐标\n    var rootId = _model.uiModel.getRootId(uiInfo);\n    var ctrlHeight = (0, _unit.convertMMToNum)(fieldInfo.get('Height'));\n    var parentCtrlInfo = _model.uiModel.getFormFieldInfo(uiInfo, rootId);\n    var parentlHeight = (0, _unit.convertMMToNum)(parentCtrlInfo.get('Height'));\n    var parentMarginBottom = (0, _unit.convertMMToNum)(parentCtrlInfo.get('MarginBottom'));\n    var parentMarginTop = (0, _unit.convertMMToNum)(parentCtrlInfo.get('MarginTop'));\n    var footerY = parentlHeight - parentMarginBottom - ctrlHeight - parentMarginTop;\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: fieldId,\n      propName: 'Y',\n      value: footerY + 'mm',\n      metaType: _propnames.FORMMETA\n    })(uiInfo);\n  } else if (propName === 'ColumnType') {\n    // 改变表格动态列属性\n    var _gridInfo10 = _model.printModel.getGridInfo(uiInfo, fieldId);\n    var _rows5 = _model.printModel.getRows(_gridInfo10);\n    var colPosInfo = _model.printModel.getCellPosition(_gridInfo10, fieldId);\n    var _ref19 = colPosInfo || {},\n      _colIndex5 = _ref19.colIndex;\n    var cellInCollumns = _rows5.map(function (row) {\n      var cell = row.getIn([_propnames.ITEMS, _colIndex5]);\n      return cell.get(_propnames.ID);\n    });\n    // 需要清除的绑定源\n    var _cleanPropVal = ['DataSource', 'BindField', 'CombineField', 'BindText', 'CustomField'];\n    cellInCollumns.forEach(function (cellId) {\n      var relativeIDs = _model.uiModel.findAllReletiveChildIds(uiInfo, cellId, metaType);\n      relativeIDs.forEach(function (relId) {\n        _cleanPropVal.forEach(function (item) {\n          uiInfo = _model.uiModel.updatePropValue({\n            fieldId: relId,\n            propName: item,\n            value: undefined,\n            metaType: 'formmeta'\n          })(uiInfo);\n        });\n      });\n    });\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: fieldId,\n      propName: propName,\n      value: value,\n      metaType: 'formmeta'\n    })(uiInfo);\n  } else if (propName === 'MarginTop' || propName === 'MarginBottom') {\n    // 修改套打页面顶部边距，存在页脚，页脚位置也需要修改\n    var _rootId = _model.uiModel.getRootId(uiInfo);\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: fieldId,\n      propName: propName,\n      value: value,\n      metaType: 'formmeta'\n    })(uiInfo);\n    if (_rootId !== fieldId) return uiInfo;\n    var parentInfo = _model.uiModel.getUIFieldInfo(uiInfo, _rootId);\n    var footer = parentInfo && parentInfo.getIn(['Items']) && parentInfo.getIn(['Items']).find(function (item) {\n      return item.get('Type') === 'Footer';\n    });\n    if (!footer) return uiInfo;\n    var footerInfo = _model.uiModel.getFormFieldInfo(uiInfo, footer.get('Id'));\n    var _parentlHeight = (0, _unit.convertMMToNum)(fieldInfo.get('Height'));\n    var _parentMarginBottom = (0, _unit.convertMMToNum)(fieldInfo.get('MarginBottom'));\n    var _parentMarginTop = (0, _unit.convertMMToNum)(fieldInfo.get('MarginTop'));\n    var _ctrlHeight = (0, _unit.convertMMToNum)(footerInfo.get('Height', 15));\n    var _footerY = _parentlHeight - _parentMarginBottom - _ctrlHeight - _parentMarginTop;\n    uiInfo = _model.uiModel.updatePropValue({\n      fieldId: footer.get('Id'),\n      propName: 'Y',\n      value: _footerY + 'mm',\n      metaType: _propnames.FORMMETA\n    })(uiInfo);\n  }\n  return uiInfo;\n}\n/** ***更改控件的属性值 end*****/\n\nfunction moveToControl(uiInfo, targetId, ctrlId, uiConfig) {\n  var ctrlIds = typeof ctrlId === 'string' ? _immutable.List.of(ctrlId) : ctrlId;\n\n  // 计算移动到的容器ID\n  var targetContainerInfo = _model.uiModel.getContainerControl(uiInfo, targetId, true, uiConfig);\n  if (!targetContainerInfo) return uiInfo;\n  var targetParentId = targetContainerInfo.control.get(_propnames.ID);\n  var targetParentType = targetContainerInfo.control.get(_propnames.TYPE);\n  targetId = targetContainerInfo.targetId;\n  var targetIndex = targetContainerInfo.targetIndex;\n\n  // 提取合法的控件信息&并删除uiInfo中相应的控件信息\n  var ctrls = (0, _immutable.List)();\n  ctrlIds.forEach(function (ctrlId) {\n    var ctrlInfo = _model.uiModel.getUIFieldInfo(uiInfo, ctrlId);\n\n    // 如果存在拖拽目标，目标等于控件本身\n    if (targetId == ctrlId) return;\n    var parentInfo = _model.uiModel.getContainerControl(uiInfo, ctrlId);\n    var parentId = parentInfo && parentInfo.control.get(_propnames.ID);\n    // 如果不存在拖拽目标，其容器等于控件容器本身\n    if (!targetId && parentId == targetParentId) return;\n    // 将父控件拖拽到子控件中，直接退出\n    if ((0, _immutableUtil.getTreeUtils)((0, _immutable.Seq)(), _propnames.ID, _propnames.ITEMS).byId(ctrlInfo, targetParentId)) return;\n    if (!(0, _common.canAddControl)(uiInfo, {\n      parentId: targetParentId,\n      ctrlId: ctrlId,\n      uiConfig: uiConfig\n    })) return;\n    uiInfo = _model.uiModel.deleteUIItem(ctrlId)(uiInfo);\n    ctrls = ctrls.push(ctrlInfo);\n    // TOTEST\n    if (targetParentId == parentId && parentInfo.targetIndex < targetIndex) {\n      targetIndex--;\n    }\n  });\n\n  // 将提取的控件信息插入指定的容器&更新ParentId&索引\n  if (ctrls.size > 0) {\n    uiInfo = _model.uiModel.addUIItem(targetParentId, ctrls, targetIndex)(uiInfo);\n    uiInfo = _model.uiModel.updateParentId(targetParentId)(uiInfo);\n    uiInfo = _model.uiModel.updateFormIndex(targetParentId)(uiInfo);\n    // 移动过来后，出事化一些参数\n    ctrls.forEach(function (ctrl) {\n      var ctrlId = ctrl.get(_propnames.ID);\n      var formInfo = _model.uiModel.getFormFieldInfo(uiInfo, ctrlId);\n      if (formInfo.get('X')) {\n        uiInfo = _model.uiModel.updatePropValue({\n          fieldId: ctrlId,\n          propName: 'X',\n          value: '0mm',\n          metaType: 'formmeta'\n        })(uiInfo);\n        uiInfo = _model.uiModel.updatePropValue({\n          fieldId: ctrlId,\n          propName: 'Y',\n          value: '0mm',\n          metaType: 'formmeta'\n        })(uiInfo);\n      }\n      var formInfoType = formInfo.get(_propnames._TYPE_);\n      if (GRID_TYPES.includes(formInfoType)) {\n        uiInfo = updateGridFillStateWhenParentIsGrid({\n          parentType: targetParentType,\n          uiInfo: uiInfo,\n          fieldId: ctrlId,\n          uiConfig: uiConfig\n        });\n      }\n    });\n  }\n  return uiInfo;\n}\nfunction copyToControl(uiInfo, targetId, ctrlId, uiConfig) {\n  var isCopyFromLocalStorage = ctrlId == null; // 是否从剪切板复制\n  var copyControls;\n  if (isCopyFromLocalStorage) {\n    copyControls = (0, _common.getCopyContent)();\n    if (!copyControls || uiInfo.get('modelType') != copyControls.get('modelType')) {\n      // console.warn('复制类型不匹配，源单据类型：' + copyControls.get('modelType') + '，目标单据类型:' + uiInfo.get('modelType'))\n      return uiInfo;\n    }\n  } else {\n    copyControls = (0, _common.createUIInfo)(uiInfo, (0, _utils.convertToList)(ctrlId));\n  }\n\n  // 计算复制到的容器ID\n  var targetContainerInfo = _model.uiModel.getContainerControl(uiInfo, targetId, true, uiConfig);\n  if (!targetContainerInfo) return uiInfo;\n  var targetParentId = targetContainerInfo.control.get(_propnames.ID);\n  var targetParentType = targetContainerInfo.control.get(_propnames.TYPE);\n  targetId = targetContainerInfo.targetId;\n  var targetIndex = targetContainerInfo.targetIndex;\n\n  // 提取复制的信息\n  var ctrls = (0, _immutable.List)();\n  var formProps = (0, _immutable.List)();\n  var copyCtrls = copyControls.getIn(['ui', _propnames.ITEMS], (0, _immutable.List)());\n  if (_lodash[\"default\"].endsWith(copyCtrls.getIn([0, _propnames.TYPE], ''), 'Cell')) {\n    copyCtrls = copyCtrls.getIn([0, _propnames.ITEMS], (0, _immutable.List)([])); // 单元格复制仅支持一对一\n    if (copyCtrls.size === 0) {\n      return uiInfo;\n    }\n  }\n  copyCtrls.forEach(function (ctrlInfo) {\n    var ctrlId = ctrlInfo.get(_propnames.ID);\n    var ctrlType = ctrlInfo.get(_propnames.TYPE);\n    var validParams = {\n      parentId: targetParentId,\n      ctrlType: ctrlType,\n      uiConfig: uiConfig\n    };\n    if (!isCopyFromLocalStorage) {\n      validParams.ctrlId = ctrlId;\n    }\n    if (!(0, _common.canAddControl)(uiInfo, validParams)) return;\n    var newControls = (0, _common.cloneControls)(uiInfo, copyControls, ctrlId, targetParentId);\n    ctrls = ctrls.push(newControls.get('ui'));\n    var formProperties = newControls.get('formmeta', (0, _immutable.List)());\n    if (formProperties.size > 0) {\n      var _formProps;\n      formProps = (_formProps = formProps).push.apply(_formProps, _toConsumableArray(formProperties));\n    }\n  });\n\n  // 将信息插入&更新索引\n  if (ctrls.size > 0) {\n    if (!isCopyFromLocalStorage) {\n      // TOTEST\n      targetIndex = ctrls.size === 1 ? targetIndex : null;\n    }\n    uiInfo = _model.uiModel.addUIItem(targetParentId, ctrls, targetIndex)(uiInfo);\n    formProps = formProps.map(function (prop) {\n      prop = filterProp(prop);\n      if (GRID_TYPES.includes(prop.get(_propnames._TYPE_)) && ACCEPT_GRID_TYPES.includes(targetParentType)) {\n        prop = updateGridFillState(prop);\n      }\n      return initPropValue(prop);\n    });\n    uiInfo = _model.uiModel.addFormItem(formProps)(uiInfo);\n    uiInfo = _model.uiModel.updateFormIndex(targetParentId)(uiInfo);\n  }\n  return uiInfo;\n}\nfunction initPropValue(prop) {\n  if (prop.get('X')) {\n    prop = prop.set('X', '0mm');\n    prop = prop.set('Y', '0mm');\n  }\n  return prop;\n}\nfunction filterProp(prop) {\n  return prop.filterNot(function (value, key) {\n    return key == 'Inherit';\n  });\n}\nfunction updateGridFillState(prop) {\n  prop = prop.set('HorizontalFill', true);\n  prop = prop.set('VerticalFill', true);\n  return prop;\n}\n/** ***粘贴功能 begin*****/\nfunction pasteControlAction(state, action) {\n  var ctrlId = action.ctrlId,\n    uiConfig = action.uiConfig;\n  var targetId = ctrlId;\n  if (!targetId) return state;\n  var mode = state.getIn(['clipboard', 'mode'], 'copy');\n  if (mode === 'cut') {\n    var ctrlIds = state.getIn(['clipboard', 'copy_control_id'], (0, _immutable.List)());\n    if (ctrlIds.size == 0) return state;\n    state = state.update('uiInfo', function (uiInfo) {\n      return moveToControl(uiInfo, targetId, ctrlIds, uiConfig);\n    });\n    state = state.set('clipboard', (0, _immutable.Map)());\n  } else {\n    state = state.update('uiInfo', function (uiInfo) {\n      return copyToControl(uiInfo, targetId, null, uiConfig);\n    });\n  }\n  return state;\n}\n/** ***粘贴功能 end*****/\n\n/** ***重复功能 begin*****/\nfunction copyAndAddAction(state, action) {\n  var parentId = action.parentId,\n    ctrlId = action.ctrlId,\n    uiConfig = action.uiConfig;\n  var uiInfo = state.get('uiInfo');\n  if (!parentId || parentId == ctrlId) {\n    var parentInfo = _model.uiModel.getParentControl(uiInfo, ctrlId);\n    if (parentInfo) {\n      parentId = parentInfo.get(_propnames.ID);\n    }\n  }\n  var select_control_id = state.get('select_control_id');\n  var select_control_ids = state.get('select_control_ids', (0, _immutable.List)());\n  var selIds = select_control_ids.size > 0 ? select_control_ids : _immutable.List.of(select_control_id);\n  selIds = selIds.filter(function (ctrlId) {\n    return !_model.uiModel.isRootCtrl(uiInfo, ctrlId);\n  });\n  if (selIds.size === 0) return state;\n  return state.update('uiInfo', function (uiInfo) {\n    return copyToControl(uiInfo, parentId, selIds, uiConfig);\n  });\n}\n/** ***重复功能 end*****/\n\n/** ***拖拽移动控件功能 begin*****/\nfunction moveToControlAction(state, action) {\n  var ctrlId = action.ctrlId,\n    parentId = action.parentId,\n    uiConfig = action.uiConfig;\n  // 从大纲将已有控件拖拽到布局传递过来的是object\n  if (_typeof(ctrlId) === 'object' && ctrlId.FieldId) {\n    ctrlId = ctrlId.FieldId;\n  }\n  var ctrlIds = typeof ctrlId === 'string' ? _immutable.List.of(ctrlId) : ctrlId;\n  if (ctrlIds.size === 0) return state;\n  ctrlId = ctrlIds.get(0);\n  var uiInfo = state.get('uiInfo');\n  if (_model.uiModel.isRootCtrl(uiInfo, ctrlId)) return state;\n  var selectId = ctrlId;\n  state = state.update('uiInfo', function (uiInfo) {\n    return moveToControl(uiInfo, parentId, ctrlIds, uiConfig);\n  });\n  state = (0, _common.setSelectControlId)(state, selectId || _model.uiModel.getRootId(uiInfo));\n  return state;\n}\n/** ***拖拽移动控件功能 end*****/\n\n/**\n * 抛出信息提示\n * @param {*} state\n * @param {*} action\n */\nfunction throwInfoAction(state, action) {\n  var info = action.info; // {message,type}\n  if (info) {\n    var message = info.message,\n      type = info.type;\n    throw {\n      message: message,\n      type: type\n    };\n  }\n  return state;\n}\nfunction resetFillWidthHeightAction(state, action) {\n  var postInfo = action.postInfo;\n  return state = state.update('uiInfo', function (uiInfo) {\n    return (0, _common.actionWrap)(resetFillWidthHeight, null, null)(uiInfo, _objectSpread({}, postInfo));\n  });\n}\n\n/**\n * 重设水平纵向充满宽高\n * @param {*} state\n * @param {*} action\n */\nfunction resetFillWidthHeight(uiInfo, _ref20) {\n  var fieldId = _ref20.fieldId,\n    propName = _ref20.propName,\n    uiConfig = _ref20.uiConfig;\n  var isReset = _model.uiModel.getPropertyValue(uiInfo, fieldId, propName, _propnames.FORMMETA);\n  if (isReset === true) {\n    return setGridWidthAndHeight(uiInfo, fieldId, propName, isReset, uiConfig);\n  } else {\n    return uiInfo;\n  }\n}\n/**\n * 设置套打区选选择的控件Ids\n * @param {[type]}  selIds      控件Id数组\n */\nfunction setSelectControlIds(state, action) {\n  var selIds = action.selIds;\n  selIds = (0, _immutable.List)(selIds);\n  if (!selIds || selIds.size === 0) return state;\n  state = state.set('select_control_ids', selIds);\n  state = state.set('select_control_id', selIds.last());\n  state = state.set('dragover_control_id', '');\n  return state;\n}\n\n//# sourceURL=webpack://bos-platform/./src/designer/reducer/ui/printReducer.js?");

/***/ }),

/***/ "./src/designer/store/createStoreWithMiddleware.js":
/*!*********************************************************!*\
  !*** ./src/designer/store/createStoreWithMiddleware.js ***!
  \*********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\nvar _reduxThunk = _interopRequireDefault(__webpack_require__(/*! redux-thunk */ \"../../node_modules/redux-thunk/es/index.js\"));\nvar _redux = __webpack_require__(/*! redux */ \"../../node_modules/redux/es/index.js\");\nvar _exceptionMiddleware = _interopRequireDefault(__webpack_require__(/*! ./exceptionMiddleware */ \"./src/designer/store/exceptionMiddleware.js\"));\nvar _historyMiddleware = _interopRequireDefault(__webpack_require__(/*! ./historyMiddleware */ \"./src/designer/store/historyMiddleware.js\"));\nvar _refreshMiddleware = _interopRequireDefault(__webpack_require__(/*! ./refreshMiddleware */ \"./src/designer/store/refreshMiddleware.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nvar createStoreWithMiddleware = (0, _redux.applyMiddleware)(_reduxThunk[\"default\"], _exceptionMiddleware[\"default\"], _historyMiddleware[\"default\"], _refreshMiddleware[\"default\"] /*, logger */)(_redux.createStore);\nvar _default = exports[\"default\"] = createStoreWithMiddleware;\n\n//# sourceURL=webpack://bos-platform/./src/designer/store/createStoreWithMiddleware.js?");

/***/ }),

/***/ "./src/designer/store/exceptionMiddleware.js":
/*!***************************************************!*\
  !*** ./src/designer/store/exceptionMiddleware.js ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nvar _notifyMsg = _interopRequireDefault(__webpack_require__(/*! ../utils/notifyMsg */ \"./src/designer/utils/notifyMsg.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nvar messageUtils = function messageUtils(message, type, pageId) {\n  switch (type) {\n    case 'warning':\n      console.warn(message);\n      break;\n    case 'error':\n      console.error(message);\n      break;\n    default:\n      console.log(message);\n  }\n  if (pageId) {\n    (0, _notifyMsg[\"default\"])(pageId, message, type || 'message');\n  }\n};\nvar exceptionHandler = function exceptionHandler(store) {\n  return function (next) {\n    return function (action) {\n      try {\n        return next(action);\n      } catch (e) {\n        var errorType = 'message';\n        var message;\n        var state = store.getState();\n        var pageId = state && state.shareState && state.shareState.get('pageId');\n        if (_typeof(e) !== 'object') {\n          messageUtils(e, errorType, pageId);\n        } else if (e.constructor.name == 'Object') {\n          messageUtils(e.message || e.msg || e.toString(), e.type || errorType, pageId);\n        } else {\n          throw e;\n        }\n      }\n    };\n  };\n};\nvar _default = exports[\"default\"] = exceptionHandler;\n\n//# sourceURL=webpack://bos-platform/./src/designer/store/exceptionMiddleware.js?");

/***/ }),

/***/ "./src/designer/store/getDefaultStore.js":
/*!***********************************************!*\
  !*** ./src/designer/store/getDefaultStore.js ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = getDefaultStore;\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\n/**\n * store数据中出根节点（ui,metadata等）为普通对象外，其余所有子节点均为不可变对象\n */\nfunction getDefaultStore(pageId) {\n  return {\n    /**\n            {\n                \"uiInfo\": {}, //描述界面信息的对象\n                \"originUiInfo\": {}, //界面加载时缓存一份原始的UIInfo信息\n                \"clipboard\": {\n                  \"copy_control_id\": [\"52BUwt5GzL\"], //复制或者剪切控件的ID\n                  \"mode\": {copy | cut} //操作的类型。注：为了解决跨单据（页面）复制，在复制时会深拷贝复制控件的所有信息临时存储在localStorage中，在粘贴是读出\n                },\n                \"select_control_ids\": [], //多选择的控件Id\n                \"select_control_id\": \"04015cb6000001ac\", //单选控件的ID\n                \"dragover_control_id\": \"\", //拖拽控件悬停在其他控件时，显示高亮使用\n                \"history\": {\n                    \"undos\": [],\n                    \"curIndex\": 0\n                }, //撤销重做记录的数据栈\n            }\n         */\n    ui: (0, _immutable.Map)(),\n    /**\n         * 不在使用以后去掉，这里不在写注释\n         */\n    // entity: Map(),\n\n    /**\n          {\n            uiMetadata: {} //描述当前单据类型下使用的所有控件信息&&控件属性控制\n          }\n         */\n    metadata: (0, _immutable.Map)(),\n    /**\n         * 设计器共享的数据\n         * 默认只有属性pageId，打开的设计器单据的pageId\n         */\n    shareState: (0, _immutable.Map)({\n      pageId: pageId\n    })\n  };\n}\n\n//# sourceURL=webpack://bos-platform/./src/designer/store/getDefaultStore.js?");

/***/ }),

/***/ "./src/designer/store/historyMiddleware.js":
/*!*************************************************!*\
  !*** ./src/designer/store/historyMiddleware.js ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _actionnames = __webpack_require__(/*! ../constant/actionnames */ \"./src/designer/constant/actionnames.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nvar actionList = [_actionnames.set_ui_info, _actionnames.add_control, _actionnames.add_field_control, _actionnames.delete_control, _actionnames.copy_and_add, _actionnames.move_control, _actionnames.paste_control, _actionnames.moveto_control, _actionnames.select_control_id, _actionnames.update_prop_value, _actionnames.apply_page_template, _actionnames.apply_container_template, _actionnames.apply_control_template, _actionnames.add_template_fragment, _actionnames.add_entity_info, _actionnames.paste_control_style];\nvar operationHistory = function operationHistory(store) {\n  return function (next) {\n    return function (action) {\n      var preUI = store.getState().ui;\n      var result = next(action);\n      var nextUI = store.getState().ui;\n      if (_lodash[\"default\"].includes(actionList, action.type) && !(0, _immutable.is)(preUI.get('uiInfo'), nextUI.get('uiInfo'))) {\n        if (!(0, _immutable.is)(preUI.getIn(['uiInfo', 'ui']), nextUI.getIn(['uiInfo', 'ui'])) || !(0, _immutable.is)(preUI.getIn(['uiInfo', 'formmeta']), nextUI.getIn(['uiInfo', 'formmeta']))) {\n          store.dispatch({\n            type: _actionnames.push_undo\n          });\n        }\n        /* if (action.type === select_control_id && !is(preUI.getIn(['uiInfo','formmeta']), nextUI.getIn(['uiInfo','formmeta']))) {\n              store.dispatch({type: push_undo});\n            } else if (!is(preUI.getIn(['uiInfo','ui']), nextUI.getIn(['uiInfo','ui']))) {\n              store.dispatch({type: push_undo});\n            } */\n      }\n      // 去除中间态 // 副作用的影响\n      if (action.type === _actionnames.convert_appmodelfunction && !(0, _immutable.is)(preUI.get('uiInfo'), nextUI.get('uiInfo'))) {\n        if (!(0, _immutable.is)(preUI.getIn(['uiInfo', 'ui']), nextUI.getIn(['uiInfo', 'ui'])) || !(0, _immutable.is)(preUI.getIn(['uiInfo', 'formmeta']), nextUI.getIn(['uiInfo', 'formmeta']))) {\n          store.dispatch({\n            type: _actionnames.undo_ui_info_and_push_undo\n          });\n        }\n      }\n      return result;\n    };\n  };\n};\nvar _default = exports[\"default\"] = operationHistory;\n\n//# sourceURL=webpack://bos-platform/./src/designer/store/historyMiddleware.js?");

/***/ }),

/***/ "./src/designer/store/refreshMiddleware.js":
/*!*************************************************!*\
  !*** ./src/designer/store/refreshMiddleware.js ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar actionnames = _interopRequireWildcard(__webpack_require__(/*! ../constant/actionnames */ \"./src/designer/constant/actionnames.js\"));\nvar _model = __webpack_require__(/*! ../model */ \"./src/designer/model/index.js\");\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nvar refresh_actions = [actionnames.dragover_control, actionnames.select_control_id, actionnames.move_control, actionnames.copy_control, actionnames.undo_ui_info, actionnames.redo_ui_info, actionnames.add_control, actionnames.add_field_control, actionnames.delete_control, actionnames.update_prop_value, actionnames.paste_control, actionnames.moveto_control, actionnames.copy_and_add, actionnames.add_template_fragment, actionnames.add_entity_info];\n\n/**\n *  计算控制刷新的控件范围（refresh_ctrl_ids）\n */\nvar refreshMiddleware = function refreshMiddleware(store) {\n  return function (next) {\n    return function (action) {\n      var preUI = store.getState().ui;\n      var result = next(action);\n      var nextUI = store.getState().ui;\n      var refreshIds;\n      // 重新设置uiInfo时，全部重新刷新一遍\n      var refreshAllListActions = [actionnames.set_ui_info, actionnames.apply_page_template, actionnames.refresh_all_controls];\n      if (refreshAllListActions.includes(action.type)) {\n        refreshIds = (0, _immutable.Set)([-1]); // -1 ： list中包含-1时控件全部重新刷新\n        // } else if (_.indexOf(_.filter(refresh_actions, id => _.indexOf([actionnames.select_control_id, actionnames.dragover_control], id) === -1), action.type) >= 0 && printModel.isPrintModel(nextUI.get('uiInfo'))) {\n        // 暂时注释上面语句（修复套打设计器中表格合并行中添加充满表格时，拖动外部表格改变宽度，内部表格无法获取改变后的uiinfo）\n      } else if (_lodash[\"default\"].indexOf(refresh_actions, action.type) >= 0 && _model.printModel.isPrintModel(nextUI.get('uiInfo'))) {\n        // 由于套打表格更改表格或者列数据可能影响单元格，刷新逻辑比较复杂，暂时使用默认刷新流程\n        refreshIds = (0, _immutable.Set)([0]); // 0 : 按照默认的属性流程走\n      } else if (_lodash[\"default\"].indexOf(refresh_actions, action.type) >= 0) {\n        var pre_dragover_control_id = preUI.get('dragover_control_id');\n        var pre_select_control_id = preUI.get('select_control_id');\n        var pre_select_control_ids = preUI.get('select_control_ids', (0, _immutable.List)());\n        var dragover_control_id = nextUI.get('dragover_control_id');\n        var select_control_id = nextUI.get('select_control_id');\n        var select_control_ids = nextUI.get('select_control_ids', (0, _immutable.List)());\n        if (pre_dragover_control_id != dragover_control_id || pre_select_control_id != select_control_id || !(0, _immutable.is)(pre_select_control_ids, select_control_ids)) {\n          refreshIds = (0, _immutable.Set)([pre_dragover_control_id, pre_select_control_id, dragover_control_id, select_control_id]);\n          refreshIds = refreshIds.concat(pre_select_control_ids, select_control_ids);\n          var preUIInfo = preUI.get('uiInfo');\n          var uiInfo = nextUI.get('uiInfo');\n          var ancestor_ids = (0, _immutable.Set)();\n          refreshIds.forEach(function (id) {\n            if (!id) return;\n            var pre_ids = _model.uiModel.getAncestorIds(preUIInfo, id);\n            var next_ids = _model.uiModel.getAncestorIds(uiInfo, id);\n            if (action.type === actionnames.select_control_id && preUI.get('format_control_id')) {\n              // 格式化时需要刷新后代的控件\n              next_ids = next_ids.concat(_model.uiModel.getDescendantIds(uiInfo, select_control_ids));\n            }\n            ancestor_ids = ancestor_ids.concat(pre_ids).concat(next_ids);\n          });\n          refreshIds = refreshIds.concat(ancestor_ids);\n        }\n      } else if (action.type === actionnames.paste_control_style) {\n        var _select_control_ids = nextUI.get('select_control_ids', (0, _immutable.List)());\n        var _uiInfo = nextUI.get('uiInfo');\n        refreshIds = (0, _immutable.Set)(_select_control_ids).concat(_model.uiModel.getDescendantIds(_uiInfo, _select_control_ids));\n      }\n      if (refreshIds) {\n        store.dispatch({\n          type: actionnames.set_refresh_ctrl_ids,\n          value: refreshIds\n        });\n      }\n      return result;\n    };\n  };\n};\nvar _default = exports[\"default\"] = refreshMiddleware;\n\n//# sourceURL=webpack://bos-platform/./src/designer/store/refreshMiddleware.js?");

/***/ }),

/***/ "./src/designer/template/index.js":
/*!****************************************!*\
  !*** ./src/designer/template/index.js ***!
  \****************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-properties.js */ \"../../node_modules/core-js/modules/es.object.define-properties.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptors.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.getDefControlJson = getDefControlJson;\nexports.getFilterOptions = getFilterOptions;\nexports.getRemoteSchemes = getRemoteSchemes;\nexports.getRemoteTemplateByCtlType = getRemoteTemplateByCtlType;\nexports.getTemplateScheme = getTemplateScheme;\nexports.hasSchemes = hasSchemes;\nexports.hasSchemesOfController = hasSchemesOfController;\nexports.hasSchemesSelectControl = hasSchemesSelectControl;\nexports.isGroupScheme = isGroupScheme;\nexports.preventOverWriteingStyle = preventOverWriteingStyle;\n__webpack_require__(/*! core-js/modules/es.array.every.js */ \"../../node_modules/core-js/modules/es.array.every.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.function.name.js */ \"../../node_modules/core-js/modules/es.function.name.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _index = _interopRequireDefault(__webpack_require__(/*! ./mobile/mtoolbar/index */ \"./src/designer/template/mobile/mtoolbar/index.js\"));\nvar _model = __webpack_require__(/*! ../model */ \"./src/designer/model/index.js\");\nvar _templateUtils = __webpack_require__(/*! ./templateUtils */ \"./src/designer/template/templateUtils.js\");\nvar _propnames = __webpack_require__(/*! ../constant/propnames */ \"./src/designer/constant/propnames.js\");\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n/**\n * 循环模板数据, 重置每一项的excludeProp, 防止覆盖非样式数据\n * 每个控件不需要被覆盖的元数据, 挑出来形成数组\n * 注意命名, 否则重置excludeProp不生效或者报错\n * 暂时先写了移动端控件, 以后PC端也可以按照类似处理\n * 还有一种处理是: 直接写在模板数据里面, 但不容易修改\n */\nvar mbButtonExcludeProps = ['Id', '_Type_', 'Key', 'Name', 'ParentId', 'Hidden', 'Visible', 'Lock', 'CommitValidate', 'OperationKey', 'BusyTip', 'ControlLoading', 'Index'];\nvar mbLabelExcludeProps = ['Id', '_Type_', 'Key', 'Name', 'ParentId', 'Hidden', 'Visible', 'Lock', 'Clickable', 'Uploadable', 'OperationKey', 'UploadConfig', 'ControlLoading', 'Index'];\nvar mbRateExcludeProps = ['Id', '_Type_', 'Key', 'Name', 'ParentId', 'Hidden', 'Visible', 'Lock', 'RateType', 'ShowTextType', 'RateMode', 'StarsNum', 'Index'];\nvar mbTimelineExcludeProps = ['Id', '_Type_', 'Key', 'Name', 'ParentId', 'Hidden', 'Visible', 'Lock', 'TimelineOptions', 'Index'];\nvar mbStepsExcludeProps = ['Id', '_Type_', 'Key', 'Name', 'ParentId', 'Hidden', 'Visible', 'Lock', 'StepLength', 'StepsOptions', 'Index'];\nvar objectMbExcludeProps = {\n  mbButtonExcludeProps: mbButtonExcludeProps,\n  mbLabelExcludeProps: mbLabelExcludeProps,\n  mbRateExcludeProps: mbRateExcludeProps,\n  mbTimelineExcludeProps: mbTimelineExcludeProps,\n  mbStepsExcludeProps: mbStepsExcludeProps\n};\nvar controlDefaultJsonValue = {\n  MobileButtonAp: {\n    formMeta: {\n      AlignSelf: 'default',\n      Style: {\n        Padding: {\n          Left: '',\n          Right: ''\n        },\n        Margin: {\n          Left: '',\n          Right: ''\n        }\n      },\n      Height: undefined,\n      ButtonStyle: 0,\n      ImageKey: undefined,\n      ForeColor: ''\n    },\n    excludeProp: ['Id', '_Type_', 'Key', 'Name', 'ParentId', 'Hidden', 'Visible', 'Lock', 'OperationKey', 'BusyTip', 'ControlLoading']\n  },\n  MobileLabelAp: {\n    formMeta: {\n      AlignSelf: 'default',\n      BackColor: '',\n      LabelStyle: '1',\n      Style: {\n        Padding: {\n          Left: '',\n          Right: ''\n        }\n      },\n      ForeColor: ''\n    },\n    excludeProp: ['Id', '_Type_', 'Key', 'Name', 'ParentId', 'Hidden', 'Visible', 'Lock', 'Clickable', 'AlignSelf']\n  },\n  MobileMToolbarAp: {\n    formMeta: {\n      TextStyle: 0,\n      Position: 2,\n      flex: {\n        Grow: 0\n      },\n      Shrink: 0,\n      items: [{\n        formMeta: {\n          Index: 2,\n          FontWeight: 'normal'\n        },\n        excludeProp: ['Id', '_Type_', 'Key', 'Name', 'ParentId', 'Hidden', 'Visible', 'Lock', 'ImageKey', 'ImgHeight', 'ImgWidth', 'OperationKey', 'fontClass', 'DropdownItems', 'BusyTip', 'CommitValidate', 'ControlLoading']\n      }, {\n        formMeta: {\n          Index: 1,\n          FontWeight: 'normal'\n        },\n        excludeProp: ['Id', '_Type_', 'Key', 'Name', 'ParentId', 'Hidden', 'Visible', 'Lock', 'ImageKey', 'ImgHeight', 'ImgWidth', 'OperationKey', 'fontClass', 'DropdownItems', 'BusyTip', 'CommitValidate', 'ControlLoading']\n      }]\n    },\n    excludeProp: ['Id', '_Type_', 'Key', 'Name', 'ParentId', 'Hidden', 'Visible', 'Lock', 'Width', 'Height', 'Position']\n  },\n  MobileRateAp: {\n    formMeta: {\n      StarsNum: 5,\n      AlignSelf: 'default',\n      ShowTextType: 0,\n      BackColor: '#ffffff',\n      Zindex: '0',\n      RateType: 'normal',\n      LightStarsNum: 3\n    },\n    excludeProp: ['Id', '_Type_', 'Key', 'Name', 'ParentId', 'AlignSelf']\n  },\n  MobileProgressBarAp: {\n    excludeProp: ['Id', '_Type_', 'Key', 'Name', 'ParentId'],\n    formMeta: {\n      ProgressBarStyle: 0,\n      StrokeWidth: 0\n    }\n  },\n  MobileSuspendButtonAp: {\n    excludeProp: ['Id', '_Type_', 'Key', 'ParentId', 'OffsetV', 'OffsetH', 'FloatPos', 'AlignSelf', 'DropdownItems', 'Name'],\n    formMeta: {\n      BackColor: '#276FF5',\n      ForeColor: '#FFFFFF',\n      ShowTitle: false,\n      TextBtnIcon: 'kdfont kdfont-zengjia3',\n      Width: '48px',\n      Height: '48px',\n      Pinned: true\n    }\n  },\n  MobileTimelineAp: {\n    excludeProp: ['Id', '_Type_', 'Key', 'Name', 'ParentId', 'AlignSelf', 'TimelineOptions'],\n    formMeta: {\n      AxisPosition: 'left',\n      Index: 10,\n      LayoutType: 'leftandright'\n    }\n  },\n  MobileCountDownAp: {\n    formMeta: {\n      CountdownStyle: 1,\n      ForeColor: '',\n      CountdownSplitMode: 1,\n      CountdownShowDay: false,\n      Index: 10,\n      BackColor: ''\n    }\n  },\n  MobileStepsAp: {\n    excludeProp: ['Id', '_Type_', 'Key', 'Name', 'ParentId', 'AlignSelf', 'StepLength', 'StepsOptions'],\n    formMeta: {\n      StepsType: 'normal',\n      Index: 6,\n      StepLength: 4,\n      StepsDirection: 'horizontal'\n    }\n  },\n  MobileFieldAp: {\n    excludeProp: ['Id', '_Type_', 'Key', 'Name', 'ParentId', 'Index', 'FieldId'],\n    formMeta: {\n      LabelDirection: 'h',\n      ValueAreaStyle: 'underline',\n      MobFieldPattern: 1\n    }\n  },\n  MobileCardEntryFieldAp: {\n    excludeProp: ['Id', '_Type_', 'Key', 'Name', 'ParentId', 'Index', 'FieldId'],\n    formMeta: {\n      LabelDirection_New: 'h',\n      ValueAreaStyle_New: 'underline',\n      MobFieldPattern: 1\n    }\n  }\n};\nfunction getDefControlJson(controlType, currentField, uiInfo) {\n  var json = controlDefaultJsonValue[controlType];\n  if (controlType === 'MobileMToolbarAp') {\n    var items = currentField.get('Items');\n    if (!items) return [];\n    var itemsLength = items.size;\n    var itemsFormFieldInfo = items.map(function (item) {\n      return _model.uiModel.getFormFieldInfo(uiInfo, item.get('Id'));\n    });\n    json = (0, _index[\"default\"])('', itemsLength, itemsFormFieldInfo, controlDefaultJsonValue[controlType]);\n  }\n  return (0, _immutable.fromJS)(json);\n}\nfunction hasSchemesOfController(type) {\n  var template = ['MobileButtonAp', 'MobileLabelAp', 'MobileMToolbarAp', 'MobileRateAp', 'MobileProgressBarAp', 'MobileSuspendButtonAp', 'MobileTimelineAp', 'MobileCountDownAp', 'MobileStepsAp', 'MobileFieldAp', 'MobileCardEntryFieldAp'];\n  return template.includes(type);\n}\nfunction getFilterOptions(type) {\n  if (type === 'MobileCardRowPanelAp' || type === 'CardRowPanelAp') {\n    return (0, _immutable.List)([(0, _intlApi.getLangMsg)('bosd.template.key0001'), (0, _intlApi.getLangMsg)('bosd.template.key0002'), (0, _intlApi.getLangMsg)('bosd.template.key0003')]);\n  }\n}\nfunction isGroupScheme(type) {\n  var groupList = ['MobileButtonAp', 'MobileLabelAp', 'MobileMToolbarAp', 'MobileRateAp', 'MobileProgressBarAp', 'MobileSuspendButtonAp', 'MobileTimelineAp', 'MobileCountDownAp', 'MobileStepsAp', 'MobileFieldAp', 'MobileCardEntryFieldAp'];\n  return groupList.indexOf(type) > -1;\n}\nfunction hasSchemes(type, _ref) {\n  var _ref$parentType = _ref.parentType,\n    parentType = _ref$parentType === void 0 ? '' : _ref$parentType,\n    _ref$fieldType = _ref.fieldType,\n    fieldType = _ref$fieldType === void 0 ? '' : _ref$fieldType;\n  var template = ['MobileButtonAp', 'MobileLabelAp', 'MobileMToolbarAp', 'MobileRateAp', 'CardRowPanelAp', 'MobileCardRowPanelAp', 'MobileProgressBarAp', 'MobileSuspendButtonAp', 'MobileTimelineAp', 'MobileCountDownAp', 'MobileStepsAp', 'MobileFieldAp', 'MobileCardEntryFieldAp'];\n  var cardContainer = ['CardEntryRowAp', 'CardRowPanelAp', 'CardEntryFlexPanelAp', 'CardFlexPanelAp'];\n  if (type === 'MobileMToolbarAp' && cardContainer.includes(parentType)) return false;\n  var withoutSchemesFieldTypes = ['CheckBoxField', 'RadioField', 'PictureField', 'AttachmentField', 'UserAvatarField', 'RadioGroupField', 'SignatureField'];\n  if ((type === 'MobileFieldAp' || type === 'MobileCardEntryFieldAp') && withoutSchemesFieldTypes.includes(fieldType)) return false;\n  return template.includes(type);\n}\n\n/**\n* @Description:'选中字段是否有方案'\n* @authors he_ying_jin (he_ying_jin@kingdee.com)\n* @param {[string]} select_control_ids '选中的字段'\n* @param {map} uiInfo\n* @returns {Boolean}\n*/\nfunction hasSchemesSelectControl(select_control_ids, uiInfo) {\n  if (!select_control_ids) return false;\n  var controlType = '';\n  // 是否所有选中字段都有方案，只要其中一个没有方案，返回false\n  return select_control_ids.every(function (select_control_id) {\n    var field = _model.uiModel.getUIFieldInfo(uiInfo, select_control_id);\n    var ctrlType = field && field.get(_propnames.TYPE);\n    var isPc = uiInfo.get('isPC');\n    var controlTypeNew = isPc ? ctrlType : \"Mobile\".concat(ctrlType);\n    if (!controlType) {\n      controlType = controlTypeNew;\n    }\n    // 如果有多个方案直接返回false\n    if (controlType && controlTypeNew !== controlType) {\n      return false;\n    }\n    var parentType;\n    // 工具栏，父级需要符合条件才展示方案\n    if (controlType === 'MobileMToolbarAp') {\n      var parentFormInfo = _model.uiModel.getParentControl(uiInfo, select_control_id);\n      parentType = parentFormInfo && parentFormInfo.get('Type');\n    }\n    var fieldType = field === null || field === void 0 ? void 0 : field.get('FieldType');\n    return hasSchemes(controlType, {\n      parentType: parentType,\n      fieldType: fieldType\n    });\n  });\n}\nfunction getTemplateScheme(designerType, controlType, currentField, uiInfo, callback) {\n  (0, _templateUtils.getTemplateSchemeWithCache)(designerType, controlType).then(function (data) {\n    var templateData = data;\n    templateData = adapterData(controlType, templateData);\n    templateData = getRemoteSchemes(controlType, currentField, uiInfo, templateData);\n    callback(controlType, templateData);\n  });\n}\nfunction getRemoteSchemes(controlType, currentField, uiInfo, template) {\n  return (0, _immutable.fromJS)(getRemoteTemplateByCtlType(controlType, currentField, uiInfo, template));\n}\nfunction getRemoteTemplateByCtlType(controlType, currentField, uiInfo, template) {\n  // 增加组件特殊处理逻辑\n  if (controlType === 'MobileMToolbarAp') {\n    if (currentField) {\n      var items = currentField.get('Items');\n      if (!items) return [];\n      var itemsLength = items.size;\n      var itemsFormFieldInfo = items.map(function (item) {\n        return _model.uiModel.getFormFieldInfo(uiInfo, item.get('Id'));\n      });\n      return template.map(function (tmp) {\n        var tmpItems = tmp.items.map(function (item) {\n          var json = (0, _index[\"default\"])(item.name, itemsLength, itemsFormFieldInfo, item.json);\n          return _objectSpread(_objectSpread({}, item), {}, {\n            json: json\n          });\n        });\n        return _objectSpread(_objectSpread({}, tmp), {}, {\n          items: tmpItems\n        });\n      });\n    }\n  }\n  return template;\n}\nfunction preventOverWriteingStyle(contrplType, templateJSON) {\n  var excludePropType;\n  if (contrplType === 'MobileButtonAp') {\n    excludePropType = 'mbButtonExcludeProps';\n  } else if (contrplType === 'MobileLabelAp') {\n    excludePropType = 'mbLabelExcludeProps';\n  } else if (contrplType === 'MobileRateAp') {\n    excludePropType = 'mbRateExcludeProps';\n  } else if (contrplType === 'MobileTimelineAp') {\n    excludePropType = 'mbTimelineExcludeProps';\n  } else if (contrplType === 'MobileStepsAp') {\n    excludePropType = 'mbStepsExcludeProps';\n  } else {\n    return templateJSON;\n  }\n  return templateJSON.map(function (item, index) {\n    item.items.map(function (item, index) {\n      item.json.excludeProp = objectMbExcludeProps[excludePropType];\n      return item;\n    });\n    return item;\n  });\n}\nfunction adapterData(controlType, data) {\n  var templateData = preventOverWriteingStyle(controlType, data[0].children);\n  var extractData = [];\n  if (controlType === 'CardRowPanelAp' || controlType === 'MobileCardRowPanelAp') {\n    templateData.forEach(function (item) {\n      item.items.forEach(function (item) {\n        extractData.push(item);\n      });\n    });\n    templateData = extractData;\n  }\n  return templateData;\n}\n\n//# sourceURL=webpack://bos-platform/./src/designer/template/index.js?");

/***/ }),

/***/ "./src/designer/template/mobile/mtoolbar/index.js":
/*!********************************************************!*\
  !*** ./src/designer/template/mobile/mtoolbar/index.js ***!
  \********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-properties.js */ \"../../node_modules/core-js/modules/es.object.define-properties.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptors.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\nvar _mtoolbarTemp = _interopRequireDefault(__webpack_require__(/*! ./mtoolbarTemp.json */ \"./src/designer/template/mobile/mtoolbar/mtoolbarTemp.json\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction getTemplateJson(name, itemLength, itemsFormFieldInfo, json) {\n  var tmpJson = json;\n  if (!tmpJson || !tmpJson.formMeta) return;\n  tmpJson = (0, _immutable.fromJS)(tmpJson);\n  var formMeta = tmpJson.get('formMeta');\n  var items = tmpJson.getIn(['formMeta', 'items']);\n  if (!items) return tmpJson;\n  var defaultItemTmp = items.get(1);\n  var highlightItemTmp = items.get(0);\n  var currItems = [];\n  itemsFormFieldInfo.map(function (ctrlFormInfo, index) {\n    var hasImageKey = ctrlFormInfo && ctrlFormInfo.get('ImageKey');\n    var template = index === itemLength - 1 ? highlightItemTmp : defaultItemTmp;\n    if (hasImageKey) {\n      template = template.deleteIn(['formMeta', 'ImageKey']);\n      template = template.deleteIn(['formMeta', 'ImgWidth']);\n      template = template.deleteIn(['formMeta', 'ImgHeight']);\n    }\n    currItems.push(template);\n  });\n  var newFormMeta = formMeta.set('items', currItems);\n  return _objectSpread(_objectSpread({}, tmpJson), {}, {\n    formMeta: newFormMeta\n  });\n}\nvar _default = exports[\"default\"] = getTemplateJson;\n\n//# sourceURL=webpack://bos-platform/./src/designer/template/mobile/mtoolbar/index.js?");

/***/ }),

/***/ "./src/designer/utils/controlsPanelUtil.js":
/*!*************************************************!*\
  !*** ./src/designer/utils/controlsPanelUtil.js ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.getGroupControls = getGroupControls;\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _propnames = __webpack_require__(/*! ../constant/propnames */ \"./src/designer/constant/propnames.js\");\nvar _fieldTypeConst = __webpack_require__(/*! @/designer/constant/fieldTypeConst.js */ \"./src/designer/constant/fieldTypeConst.js\");\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n// 获取设计器左侧字段数据，对数据进行了转换，把下拉类型的图标数据合并到一个新对象中\nfunction getGroupControls(groups) {\n  if (!_immutable.List.isList(groups)) return groups;\n  var groupControls = (0, _immutable.List)([]);\n  groups.forEach(function (group) {\n    var resGroup = group;\n    var tmpCtrlIndexs = {};\n    var tmpdropDowns = {};\n    resGroup = resGroup.set(_propnames.CHILDERN, (0, _immutable.List)([]));\n    if (_immutable.List.isList(group === null || group === void 0 ? void 0 : group.get(_propnames.CHILDERN))) {\n      group.get(_propnames.CHILDERN).forEach(function (ctrl) {\n        var ctrlType = ctrl.get(_propnames.TYPE);\n        if (_fieldTypeConst.DROPDOWN_CONTROL_FIELDS.includes(ctrlType)) {\n          resGroup = resGroup.update(_propnames.CHILDERN, function (childrenDatas) {\n            tmpCtrlIndexs[ctrlType] = childrenDatas.size;\n            return childrenDatas.push((0, _immutable.fromJS)(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty({\n              controlType: _fieldTypeConst.DROPDOWN\n            }, _propnames.ID, ctrl.get(_propnames.ID)), _propnames.TYPE, ctrl.get(_propnames.TYPE)), \"name\", ctrl.get(_propnames.CTRL_NAME)), \"ctrl\", ctrl), \"children\", (0, _immutable.List)([]))));\n          });\n          return;\n        }\n        var ownerTypeId = ctrl.get(_propnames.OWNER_TYPE_ID);\n        if (_fieldTypeConst.DROPDOWN_CONTROL_FIELDS.includes(ownerTypeId)) {\n          if (!tmpdropDowns[ownerTypeId]) {\n            tmpdropDowns[ownerTypeId] = (0, _immutable.List)([]);\n          }\n          tmpdropDowns[ownerTypeId] = tmpdropDowns[ownerTypeId].push(ctrl);\n          return;\n        }\n        resGroup = resGroup.update(_propnames.CHILDERN, function (childrenDatas) {\n          return childrenDatas.push(ctrl);\n        });\n      });\n    }\n    Object.keys(tmpdropDowns).forEach(function (key) {\n      if (tmpCtrlIndexs.hasOwnProperty(key)) {\n        resGroup = resGroup.update(_propnames.CHILDERN, function (childrenDatas) {\n          return childrenDatas.update(tmpCtrlIndexs[key], function (ctrl) {\n            return ctrl.set(_propnames.CHILDERN, tmpdropDowns[key]);\n          });\n        });\n      }\n    });\n    groupControls = groupControls.push(resGroup);\n  });\n  return groupControls;\n}\n\n//# sourceURL=webpack://bos-platform/./src/designer/utils/controlsPanelUtil.js?");

/***/ }),

/***/ "./src/designer/validator/index.js":
/*!*****************************************!*\
  !*** ./src/designer/validator/index.js ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.find.js */ \"../../node_modules/core-js/modules/es.array.find.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.starts-with.js */ \"../../node_modules/core-js/modules/es.string.starts-with.js\");\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _intlApi = __webpack_require__(/*! @/i18n/intlApi */ \"./src/i18n/intlApi.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n// 校验为了统一，所用校验器success：true为校验成功，false为校验失败\n\nvar _require = function require() {\n  return function (value) {\n    if (!value && value !== 0) {\n      return {\n        success: false,\n        message: (0, _intlApi.getLangMsg)('bosd.validator.key0001')\n      };\n    }\n    return {\n      success: true\n    };\n  };\n};\nvar unique = function unique() {\n  var exsitVals = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  return function (value) {\n    if (exsitVals.indexOf(value) >= 0) {\n      return {\n        success: false,\n        message: (0, _intlApi.getLangMsg)('bosd.validator.key0002')\n      };\n    }\n    return {\n      success: true\n    };\n  };\n};\nvar reservedWord = function reservedWord() {\n  var reservedValues = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  return function (value) {\n    var rValue = _lodash[\"default\"].find(reservedValues, function (word) {\n      return word.toLowerCase() === value.toLowerCase();\n    });\n    if (rValue) {\n      return {\n        success: false,\n        message: (0, _intlApi.getLangMsg)({\n          key: 'bosd.validator.key0002',\n          variables: {\n            rValue: rValue\n          }\n        })\n      };\n    }\n    return {\n      success: true\n    };\n  };\n};\nvar beginWith = function beginWith() {\n  var reservedValues = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  return function (value) {\n    var rValue = _lodash[\"default\"].find(reservedValues, function (word) {\n      return _lodash[\"default\"].startsWith(value.toLowerCase(), word.toLowerCase());\n    });\n    if (rValue) {\n      return {\n        success: false,\n        message: (0, _intlApi.getLangMsg)({\n          key: 'bosd.validator.key0002',\n          variables: {\n            rValue: rValue\n          }\n        })\n      };\n    }\n    return {\n      success: true\n    };\n  };\n};\nvar validator = {\n  require: _require,\n  unique: unique,\n  reservedWord: reservedWord,\n  beginWith: beginWith\n};\nvar _default = exports[\"default\"] = validator;\n\n//# sourceURL=webpack://bos-platform/./src/designer/validator/index.js?");

/***/ }),

/***/ "./src/designer/wizard/Wizard.jsx":
/*!****************************************!*\
  !*** ./src/designer/wizard/Wizard.jsx ***!
  \****************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-properties.js */ \"../../node_modules/core-js/modules/es.object.define-properties.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptors.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptors.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.array.is-array.js */ \"../../node_modules/core-js/modules/es.array.is-array.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _propTypes = _interopRequireDefault(__webpack_require__(/*! prop-types */ \"../../node_modules/prop-types/index.js\"));\nvar _classnames = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _Wizard2 = _interopRequireDefault(__webpack_require__(/*! ./Wizard.less */ \"./src/designer/wizard/Wizard.less\"));\nvar _model = __webpack_require__(/*! ../model */ \"./src/designer/model/index.js\");\nvar _utils = __webpack_require__(/*! ../utils */ \"./src/designer/utils/index.js\");\nvar _propnames = __webpack_require__(/*! ../constant/propnames */ \"./src/designer/constant/propnames.js\");\nvar _immutableUtil = __webpack_require__(/*! ../utils/immutableUtil */ \"./src/designer/utils/immutableUtil.js\");\nvar _designerContext = __webpack_require__(/*! ../controls/common/designerContext */ \"./src/designer/controls/common/designerContext.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar dataUtils = (0, _immutableUtil.getTreeUtils)((0, _immutable.Seq)(['ui']), _propnames.ID, _propnames.ITEMS);\nvar Wizard = /*#__PURE__*/function (_React$Component) {\n  _inherits(Wizard, _React$Component);\n  function Wizard(props) {\n    var _this;\n    _classCallCheck(this, Wizard);\n    _this = _callSuper(this, Wizard, [props]);\n    var data = (0, _immutable.Map)().set('ui', _this.createItem({\n      ctrlType: props.ctrlInfo\n    }, props));\n    _this.state = {\n      step: 1,\n      data: data,\n      validateResult: (0, _immutable.Map)()\n    };\n\n    // 已经实例化的页面\n    _this.initPages = (0, _immutable.Set)();\n    _this.onSubmit = _this.onSubmit.bind(_assertThisInitialized(_this));\n    _this.go = _this.go.bind(_assertThisInitialized(_this));\n    _this.setButtonState = _this.setButtonState.bind(_assertThisInitialized(_this));\n    _this.createItem = _this.createItem.bind(_assertThisInitialized(_this));\n    _this.addItem = _this.addItem.bind(_assertThisInitialized(_this));\n    _this.setItemValue = _this.setItemValue.bind(_assertThisInitialized(_this));\n    _this.removeItem = _this.removeItem.bind(_assertThisInitialized(_this));\n    _this.getItem = _this.getItem.bind(_assertThisInitialized(_this));\n    _this.getItemValue = _this.getItemValue.bind(_assertThisInitialized(_this));\n    _this.getRootId = _this.getRootId.bind(_assertThisInitialized(_this));\n    _this.setValidation = _this.setValidation.bind(_assertThisInitialized(_this));\n    _this.getValidation = _this.getValidation.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  _createClass(Wizard, [{\n    key: \"componentDidMount\",\n    value:\n    // static childContextTypes = {\n    //   getValidation: PropTypes.func,\n    //   setValidation: PropTypes.func\n    // }\n\n    // getChildContext () {\n    //   return {\n    //     getValidation: this.getValidation,\n    //     setValidation: this.setValidation\n    //   }\n    // }\n\n    function componentDidMount() {\n      // 注册点击“确定”按钮时回调函数\n      this.props.setCallback && this.props.setCallback(this.onSubmit);\n      // 注册切换向导页的回调函数\n      this.props.setDoStep && this.props.setDoStep(this.go);\n      // 设置向导按钮的状态\n      if (this.props.setButtonState) {\n        var buttonState = {\n          pre: false,\n          next: true,\n          cancel: true,\n          ok: false\n        };\n        var _this$props$children = this.props.children,\n          children = _this$props$children === void 0 ? [] : _this$props$children;\n        buttonState.ok = children.length === 0;\n        this.setButtonState(buttonState);\n      }\n    }\n  }, {\n    key: \"createItem\",\n    value: function createItem(_ref) {\n      var ctrlType = _ref.ctrlType,\n        fieldType = _ref.fieldType,\n        parentType = _ref.parentType;\n      var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.props;\n      var uiInfo = props.uiInfo,\n        uiConfig = props.uiConfig;\n      var ctrlInfo = _model.uiModel.getTypeInfo({\n        ctrlType: ctrlType,\n        fieldType: fieldType,\n        parentType: parentType\n      }, uiConfig);\n      ctrlType = ctrlInfo.ctrlType;\n      fieldType = ctrlInfo.fieldType;\n      var _ref2 = this.state || {},\n        _ref2$data = _ref2.data,\n        data = _ref2$data === void 0 ? (0, _immutable.Map)() : _ref2$data;\n      var addedIds = this.getAllKeys(data.get('ui', (0, _immutable.Map)())); // 已经使用的Id\n\n      var Id = (0, _utils.createNewId)();\n      var Key = (0, _utils.createNewKey)(uiInfo, fieldType || ctrlType, addedIds);\n      var Name = _model.metadataModel.getConfigCtrlName(fieldType || ctrlType, uiConfig);\n      var info = _defineProperty(_defineProperty(_defineProperty(_defineProperty({}, _propnames.ID, Id), _propnames.KEY, Key), _propnames.NAME, Name), _propnames.TYPE, ctrlType);\n      if (fieldType) {\n        info['FieldType'] = fieldType;\n      }\n      return (0, _immutable.Map)(info);\n    }\n    // 获取data中已有的所有Key值\n  }, {\n    key: \"getAllKeys\",\n    value: function getAllKeys(item) {\n      var addedIds = []; // 已经使用的Id\n      var loop = function loop(item) {\n        addedIds.push(item.get(_propnames.KEY));\n        var children = item.get(_propnames.ITEMS, (0, _immutable.List)());\n        children.forEach(function (child) {\n          loop(child);\n        });\n      };\n      loop(item);\n      return addedIds;\n    }\n  }, {\n    key: \"addItem\",\n    value: function addItem(ctrlType, parentId) {\n      var data = this.state.data;\n      var parentItem = this.getItem(parentId);\n      var parentType = parentItem.get(_propnames.TYPE);\n      var item = this.createItem({\n        ctrlType: ctrlType,\n        parentType: parentType\n      });\n      var path = dataUtils.byId(data, parentId);\n      data = data.updateIn(path.concat(_propnames.ITEMS), (0, _immutable.List)(), function (items) {\n        return items.push(item);\n      });\n      this.setState({\n        data: data\n      });\n      return item;\n    }\n  }, {\n    key: \"setItemValue\",\n    value: function setItemValue(id, propName, value, metaType) {\n      var data = this.state.data;\n      var path = dataUtils.byId(data, id);\n      if (!path) return;\n      if (metaType === _propnames.ENTITYMETA) {\n        path = path.concat(['Entity', propName]);\n      } else {\n        path = path.concat([propName]);\n      }\n      data = data.setIn(path, value);\n      this.setState({\n        data: data\n      });\n    }\n  }, {\n    key: \"removeItem\",\n    value: function removeItem(itemId /* or itemIds*/) {\n      var data = this.state.data;\n      var itemIds = itemId;\n      if (!Array.isArray(itemId)) {\n        itemIds = [itemId];\n      }\n      itemIds.forEach(function (itemId) {\n        var path = dataUtils.byId(data, itemId);\n        if (!path) return;\n        data = data.deleteIn(path);\n      });\n      this.setState({\n        data: data\n      });\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem(itemId) {\n      var data = this.state.data;\n      var path = dataUtils.byId(data, itemId);\n      if (!path) return;\n      return data.getIn(path);\n    }\n  }, {\n    key: \"getItemValue\",\n    value: function getItemValue(itemId, name, metaType) {\n      var item = this.getItem(itemId);\n      if (!item) return;\n      if (metaType === _propnames.ENTITYMETA) {\n        return item.getIn(['Entity', name]);\n      } else {\n        return item.getIn([name]);\n      }\n    }\n  }, {\n    key: \"getRootId\",\n    value: function getRootId() {\n      var _ref3 = this.state || {},\n        data = _ref3.data;\n      return data.getIn(['ui', _propnames.ID]);\n    }\n\n    // 设置按钮的状态\n  }, {\n    key: \"setButtonState\",\n    value: function setButtonState(btnState /* = { pre, next, cancel, ok } */) {\n      if (_typeof(btnState) !== 'object') return;\n      if (!this.props.setButtonState) return;\n      var buttonState = {};\n      for (var key in btnState) {\n        if (typeof btnState[key] !== 'boolean') continue;\n        buttonState[key] = btnState[key] ? 'visible' : 'hidden';\n      }\n      this.props.setButtonState(buttonState);\n    }\n  }, {\n    key: \"onSubmit\",\n    value: function onSubmit() {\n      if (this.getValidation()) {\n        return this.state.data.get('ui', (0, _immutable.Map)()).toJS();\n      }\n    }\n  }, {\n    key: \"go\",\n    value: function go(step) {\n      // 输入内容不合法时不能跳转\n      if (!this.getValidation()) return;\n      var _this$props$children2 = this.props.children,\n        children = _this$props$children2 === void 0 ? [] : _this$props$children2;\n      var len = children.length;\n\n      //这是跳转步数\n      step = step + this.state.step;\n      step = step < 1 ? 1 : step;\n      step = step > len ? len : step;\n      this.setState({\n        step: step\n      });\n\n      // 设置按钮状态\n      var buttonState = {};\n      buttonState.pre = step === 1 ? false : true;\n      buttonState.next = step === len ? false : true;\n      buttonState.ok = step === len ? true : false;\n      this.setButtonState(buttonState);\n    }\n  }, {\n    key: \"setValidation\",\n    value: function setValidation(_ref4) {\n      var id = _ref4.id,\n        propName = _ref4.propName,\n        message = _ref4.message,\n        success = _ref4.success;\n      var validateResult = this.state.validateResult;\n      validateResult = validateResult.setIn([id, propName, 'Message'], message);\n      validateResult = validateResult.setIn([id, propName, 'Success'], success);\n      this.setState({\n        validateResult: validateResult\n      });\n    }\n  }, {\n    key: \"getValidation\",\n    value: function getValidation(id, propname) {\n      var validateResult = this.state.validateResult;\n      if (!id) {\n        var flag = true;\n        validateResult.forEach(function (validate) {\n          validate.forEach(function (propValidate) {\n            flag = propValidate.get('Success', true);\n            return flag;\n          });\n          return flag;\n        });\n        return flag;\n      } else {\n        var path = [id];\n        if (propname) {\n          path.push(propname);\n        }\n        return validateResult.getIn(path);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      var _this$props = this.props,\n        className = _this$props.className,\n        style = _this$props.style,\n        _this$props$children3 = _this$props.children,\n        children = _this$props$children3 === void 0 ? [] : _this$props$children3,\n        uiInfo = _this$props.uiInfo,\n        uiConfig = _this$props.uiConfig;\n      var _this$state = this.state,\n        step = _this$state.step,\n        data = _this$state.data;\n      var value = {\n        getValidation: this.getValidation,\n        setValidation: this.setValidation\n      };\n      var props = {\n        addItem: this.addItem,\n        setItemValue: this.setItemValue,\n        removeItem: this.removeItem,\n        getItem: this.getItem,\n        getItemValue: this.getItemValue,\n        go: this.go,\n        setButtonState: this.setButtonState,\n        getRootId: this.getRootId,\n        uiInfo: uiInfo,\n        uiConfig: uiConfig,\n        data: data\n      };\n      children = _react[\"default\"].Children.map(children, function (child, index) {\n        var key = child.key || index;\n        if (step - 1 === index) {\n          _this2.initPages = _this2.initPages.add(key);\n          return /*#__PURE__*/_react[\"default\"].cloneElement(child, props);\n        } else {\n          if (_this2.initPages.includes(key)) {\n            return /*#__PURE__*/_react[\"default\"].cloneElement(child, _objectSpread(_objectSpread({}, props), {}, {\n              className: _Wizard2[\"default\"].hidden\n            }));\n          }\n        }\n        return null;\n      });\n      return /*#__PURE__*/_react[\"default\"].createElement(_designerContext.WizardContext.Provider, {\n        value: value\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: className,\n        style: style\n      }, children));\n    }\n  }]);\n  return Wizard;\n}(_react[\"default\"].Component);\nWizard.propTypes = {\n  uiInfo: _propTypes[\"default\"].object.isRequired,\n  uiConfig: _propTypes[\"default\"].object.isRequired,\n  ctrlInfo: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].object]).isRequired,\n  setCallback: _propTypes[\"default\"].func,\n  // 注册点击“确定”按钮时回调函数\n  setDoStep: _propTypes[\"default\"].func,\n  // 注册切换向导页的回调函数\n  setButtonState: _propTypes[\"default\"].func // 设置向导按钮的状态\n};\nvar _default = exports[\"default\"] = Wizard;\n\n//# sourceURL=webpack://bos-platform/./src/designer/wizard/Wizard.jsx?");

/***/ }),

/***/ "./src/designer/wizard/base/Input.jsx":
/*!********************************************!*\
  !*** ./src/designer/wizard/base/Input.jsx ***!
  \********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _propTypes = _interopRequireDefault(__webpack_require__(/*! prop-types */ \"../../node_modules/prop-types/index.js\"));\nvar _classnames2 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _Input2 = _interopRequireDefault(__webpack_require__(/*! ./Input.less */ \"./src/designer/wizard/base/Input.less\"));\nvar _excluded = [\"addonBefore\", \"addonAfter\", \"className\"];\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar Input = /*#__PURE__*/function (_React$Component) {\n  _inherits(Input, _React$Component);\n  function Input(props) {\n    _classCallCheck(this, Input);\n    return _callSuper(this, Input, [props]);\n  }\n  _createClass(Input, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n        addonBefore = _this$props.addonBefore,\n        addonAfter = _this$props.addonAfter,\n        className = _this$props.className,\n        others = _objectWithoutProperties(_this$props, _excluded);\n      className = (0, _classnames2[\"default\"])(_defineProperty(_defineProperty({}, _Input2[\"default\"]['input'], true), className, className));\n      if (addonBefore) {}\n      if (addonAfter) {}\n      return /*#__PURE__*/_react[\"default\"].createElement(\"input\", _extends({}, others, {\n        className: className\n      }));\n    }\n  }]);\n  return Input;\n}(_react[\"default\"].Component);\nInput.defaultProps = {\n  type: 'text'\n};\nvar _default = exports[\"default\"] = Input;\n\n//# sourceURL=webpack://bos-platform/./src/designer/wizard/base/Input.jsx?");

/***/ }),

/***/ "./src/designer/wizard/editors/PropertyEditor.jsx":
/*!********************************************************!*\
  !*** ./src/designer/wizard/editors/PropertyEditor.jsx ***!
  \********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _propTypes = _interopRequireDefault(__webpack_require__(/*! prop-types */ \"../../node_modules/prop-types/index.js\"));\nvar _classnames3 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _PropertyEditor2 = _interopRequireDefault(__webpack_require__(/*! ./PropertyEditor.less */ \"./src/designer/wizard/editors/PropertyEditor.less\"));\nvar _validator = _interopRequireDefault(__webpack_require__(/*! ../../validator */ \"./src/designer/validator/index.js\"));\nvar editors = _interopRequireWildcard(__webpack_require__(/*! ./index */ \"./src/designer/wizard/editors/index.js\"));\nvar _designerContext = __webpack_require__(/*! ../../controls/common/designerContext */ \"./src/designer/controls/common/designerContext.js\");\nvar _excluded = [\"validations\"];\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar PropertyEditor = /*#__PURE__*/function (_React$Component) {\n  _inherits(PropertyEditor, _React$Component);\n  function PropertyEditor(props) {\n    var _this;\n    _classCallCheck(this, PropertyEditor);\n    _this = _callSuper(this, PropertyEditor, [props]);\n    _this.onChange = _this.onChange.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  _createClass(PropertyEditor, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.onValidate(this.props.value);\n    }\n  }, {\n    key: \"onValidate\",\n    value: function onValidate(value) {\n      var validations = this.props.validations;\n      if (!validations) return;\n      validations = _lodash[\"default\"].filter(validations, function (v) {\n        return v !== 'lowerCase';\n      });\n      if (validations.length === 0) return;\n      var result;\n      _lodash[\"default\"].forEach(validations, function (valid) {\n        var func;\n        if (typeof valid === 'string') {\n          func = _validator[\"default\"][valid];\n          if (func) func = func();\n        } else if (typeof valid === 'function') {\n          func = valid;\n        }\n        if (typeof func === 'function') {\n          result = func(value);\n        }\n        if (result && result.success !== true) {\n          return false; // 跳出循环\n        }\n      });\n      var message = '';\n      var success = true;\n      if (result) {\n        message = result.message;\n        success = result.success;\n      }\n      var _this$props = this.props,\n        id = _this$props.id,\n        prop = _this$props.prop;\n      var propName = prop.get('name');\n      this.context.setValidation({\n        id: id,\n        propName: propName,\n        message: message,\n        success: success\n      });\n    }\n  }, {\n    key: \"onChange\",\n    value: function onChange(value) {\n      this.onValidate(value);\n      var validations = this.props.validations;\n      if (validations && validations.indexOf('lowerCase') >= 0) {\n        value = value.toLowerCase();\n      }\n      this.props.onChange(value);\n    }\n  }, {\n    key: \"getValidation\",\n    value: function getValidation() {\n      var _this$props2 = this.props,\n        id = _this$props2.id,\n        prop = _this$props2.prop;\n      var propName = prop.get('name');\n      var result = this.context.getValidation(id, propName);\n      return _immutable.Map.isMap(result) ? result : null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props3 = this.props,\n        className = _this$props3.className,\n        style = _this$props3.style,\n        labelStyle = _this$props3.labelStyle,\n        prop = _this$props3.prop;\n      className = (0, _classnames3[\"default\"])(_defineProperty(_defineProperty({}, _PropertyEditor2[\"default\"].root, true), className, className));\n      var _this$props4 = this.props,\n        validations = _this$props4.validations,\n        editorProps = _objectWithoutProperties(_this$props4, _excluded);\n      var name = prop.get('name');\n      var alias = prop.get('alias') || name;\n      var editor = prop.get('Editor', (0, _immutable.Map)());\n      var propType = editor.get('type');\n      var Property = editors[\"\".concat(_lodash[\"default\"].upperFirst(propType), \"PropertyEditor\")] || editors.TextPropertyEditor;\n      var validateResult = this.getValidation();\n      var errorClassName = (0, _classnames3[\"default\"])(_defineProperty(_defineProperty({}, _PropertyEditor2[\"default\"].error, true), _PropertyEditor2[\"default\"].hidden, !validateResult || validateResult.get('Success') != false));\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: className,\n        style: style\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _PropertyEditor2[\"default\"].title,\n        style: labelStyle,\n        title: alias\n      }, alias), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _PropertyEditor2[\"default\"].content\n      }, /*#__PURE__*/_react[\"default\"].createElement(Property, _extends({}, editorProps, {\n        onChange: this.onChange\n      })), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: errorClassName\n      }, validateResult && validateResult.get('Message'))));\n    }\n  }]);\n  return PropertyEditor;\n}(_react[\"default\"].Component);\nPropertyEditor.propTypes = {\n  validations: _propTypes[\"default\"].array\n};\n// static contextTypes = {\n//   getValidation: PropTypes.func,\n//   setValidation: PropTypes.func\n// }\nPropertyEditor.contextType = _designerContext.WizardContext;\nvar _default = exports[\"default\"] = PropertyEditor;\n\n//# sourceURL=webpack://bos-platform/./src/designer/wizard/editors/PropertyEditor.jsx?");

/***/ }),

/***/ "./src/designer/wizard/editors/TextPropertyEditor.jsx":
/*!************************************************************!*\
  !*** ./src/designer/wizard/editors/TextPropertyEditor.jsx ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _propTypes = _interopRequireDefault(__webpack_require__(/*! prop-types */ \"../../node_modules/prop-types/index.js\"));\nvar _classnames2 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _constant = __webpack_require__(/*! ../../constant */ \"./src/designer/constant/index.js\");\nvar _TextPropertyEditor = _interopRequireDefault(__webpack_require__(/*! ./TextPropertyEditor.less */ \"./src/designer/wizard/editors/TextPropertyEditor.less\"));\nvar _validator = _interopRequireDefault(__webpack_require__(/*! ../../validator */ \"./src/designer/validator/index.js\"));\nvar _Input = _interopRequireDefault(__webpack_require__(/*! ../base/Input */ \"./src/designer/wizard/base/Input.jsx\"));\nvar _excluded = [\"className\", \"style\", \"labelStyle\", \"title\", \"prop\", \"onValidate\", \"uiInfo\", \"data\"];\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar TextPropertyEditor = /*#__PURE__*/function (_React$Component) {\n  _inherits(TextPropertyEditor, _React$Component);\n  function TextPropertyEditor(props) {\n    var _this;\n    _classCallCheck(this, TextPropertyEditor);\n    _this = _callSuper(this, TextPropertyEditor, [props]);\n    _this.onChange = _this.onChange.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  _createClass(TextPropertyEditor, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {}\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {}\n  }, {\n    key: \"onChange\",\n    value: function onChange(e) {\n      if (this.props.onChange) {\n        this.props.onChange(e.target.value);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n        className = _this$props.className,\n        style = _this$props.style,\n        labelStyle = _this$props.labelStyle,\n        title = _this$props.title,\n        prop = _this$props.prop,\n        onValidate = _this$props.onValidate,\n        uiInfo = _this$props.uiInfo,\n        data = _this$props.data,\n        others = _objectWithoutProperties(_this$props, _excluded);\n      var rootClassName = (0, _classnames2[\"default\"])(_defineProperty(_defineProperty({}, _TextPropertyEditor[\"default\"]['root'], true), className, className));\n      return /*#__PURE__*/_react[\"default\"].createElement(_Input[\"default\"], _extends({\n        type: \"text\"\n      }, others, {\n        onChange: this.onChange\n      }));\n    }\n  }]);\n  return TextPropertyEditor;\n}(_react[\"default\"].Component);\nvar _default = exports[\"default\"] = TextPropertyEditor;\n\n//# sourceURL=webpack://bos-platform/./src/designer/wizard/editors/TextPropertyEditor.jsx?");

/***/ }),

/***/ "./src/designer/wizard/editors/index.js":
/*!**********************************************!*\
  !*** ./src/designer/wizard/editors/index.js ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nObject.defineProperty(exports, \"TextPropertyEditor\", ({\n  enumerable: true,\n  get: function get() {\n    return _TextPropertyEditor[\"default\"];\n  }\n}));\nvar _TextPropertyEditor = _interopRequireDefault(__webpack_require__(/*! ./TextPropertyEditor */ \"./src/designer/wizard/editors/TextPropertyEditor.jsx\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n//# sourceURL=webpack://bos-platform/./src/designer/wizard/editors/index.js?");

/***/ }),

/***/ "./src/designer/wizard/pages/ButtonWizard.js":
/*!***************************************************!*\
  !*** ./src/designer/wizard/pages/ButtonWizard.js ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _registWizardPage = _interopRequireDefault(__webpack_require__(/*! ../registWizardPage */ \"./src/designer/wizard/registWizardPage.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar ButtonWizard = /*#__PURE__*/function (_React$Component) {\n  _inherits(ButtonWizard, _React$Component);\n  function ButtonWizard(props) {\n    _classCallCheck(this, ButtonWizard);\n    return _callSuper(this, ButtonWizard, [props]);\n  }\n  _createClass(ButtonWizard, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this = this;\n      this.props.setCallback(function () {\n        return {\n          Type: _this.props.ctrlInfo,\n          BackColor: _this.c.value\n        };\n      });\n      this.props.setDoStep(function (step) {\n        console.log(\"\\u5411\\u5BFC\".concat(step === -1 ? '上' : '下', \"\\u4E00\\u6B65\"));\n        _this.props.setButtonState({\n          ok: 'visible',\n          pre: 'visible'\n        });\n      });\n      this.props.setButtonState({\n        ok: 'hidden',\n        pre: 'hidden'\n      }); // [pre,next,ok,cancel]\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      var style = Object.assign({}, this.props.style);\n      return /*#__PURE__*/_react[\"default\"].createElement(\"input\", {\n        ref: function ref(c) {\n          return _this2.c = c;\n        },\n        style: style,\n        placeholder: \"\\u80CC\\u666F\\u989C\\u8272\"\n      });\n    }\n  }]);\n  return ButtonWizard;\n}(_react[\"default\"].Component); // registWizardPage('ButtonAp', ButtonWizard,{style:{width:'50%',height:'50%'}})\n\n//# sourceURL=webpack://bos-platform/./src/designer/wizard/pages/ButtonWizard.js?");

/***/ }),

/***/ "./src/designer/wizard/pages/EntryWizard/EntryWizard1.jsx":
/*!****************************************************************!*\
  !*** ./src/designer/wizard/pages/EntryWizard/EntryWizard1.jsx ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _propTypes = _interopRequireDefault(__webpack_require__(/*! prop-types */ \"../../node_modules/prop-types/index.js\"));\nvar _classnames2 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _EntryWizard = _interopRequireDefault(__webpack_require__(/*! ./EntryWizard1.less */ \"./src/designer/wizard/pages/EntryWizard/EntryWizard1.less\"));\nvar _propnames = __webpack_require__(/*! ../../../constant/propnames */ \"./src/designer/constant/propnames.js\");\nvar _constant = __webpack_require__(/*! ../../../constant */ \"./src/designer/constant/index.js\");\nvar _model = __webpack_require__(/*! ../../../model */ \"./src/designer/model/index.js\");\nvar _PropertyEditor = _interopRequireDefault(__webpack_require__(/*! ../../editors/PropertyEditor */ \"./src/designer/wizard/editors/PropertyEditor.jsx\"));\nvar _validator = _interopRequireDefault(__webpack_require__(/*! ../../../validator */ \"./src/designer/validator/index.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar PropNames = [_propnames.KEY, _propnames.NAME, 'TableName'];\nvar EntryWizard = /*#__PURE__*/function (_React$Component) {\n  _inherits(EntryWizard, _React$Component);\n  function EntryWizard(props) {\n    var _this;\n    _classCallCheck(this, EntryWizard);\n    _this = _callSuper(this, EntryWizard, [props]);\n    _this.onChange = _this.onChange.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  _createClass(EntryWizard, [{\n    key: \"onChange\",\n    value: function onChange(name, value, metaType) {\n      var rootId = this.props.getRootId();\n      this.props.setItemValue(rootId, name, value, metaType);\n    }\n  }, {\n    key: \"getAllKeys\",\n    value: function getAllKeys() {\n      var _this$props = this.props,\n        data = _this$props.data,\n        uiInfo = _this$props.uiInfo;\n      var existValues = [];\n      uiInfo.getIn([_propnames.FORMMETA, _propnames.ITEMS], (0, _immutable.List)()).forEach(function (item) {\n        return existValues.push(item.get(_propnames.KEY));\n      });\n      var loop = function loop(item) {\n        existValues.push(item.get(_propnames.KEY));\n        item.get(_propnames.ITEMS, (0, _immutable.List)()).forEach(function (_item) {\n          return loop(_item);\n        });\n      };\n      loop(data.get('ui', (0, _immutable.Map)()));\n      return existValues;\n    }\n  }, {\n    key: \"renderProp\",\n    value: function renderProp(prop, metaType) {\n      var _this2 = this;\n      var rootId = this.props.getRootId();\n      var name = prop.get('name');\n      var value = this.props.getItemValue(rootId, name, metaType);\n      var validations = [];\n      switch (name) {\n        case _propnames.KEY:\n          validations.push('lowerCase');\n          validations.push('require');\n          var allkeys = _lodash[\"default\"].filter(this.getAllKeys(), function (val) {\n            return val != value;\n          });\n          validations.push(_validator[\"default\"].unique(allkeys));\n          var reservedWords = _lodash[\"default\"].clone(_constant.RESERVEDFILEDKEYS);\n          reservedWords.push(' ');\n          validations.push(_validator[\"default\"].reservedWord(reservedWords));\n          validations.push(_validator[\"default\"].beginWith(['$$']));\n          break;\n        case 'TableName':\n        case 'PkFieldName':\n        case 'FieldName':\n          validations.push('lowerCase');\n          validations.push(_validator[\"default\"].reservedWord(_constant.SPECIAL_WORDS));\n          break;\n      }\n      return /*#__PURE__*/_react[\"default\"].createElement(_PropertyEditor[\"default\"], {\n        key: name + metaType,\n        id: rootId,\n        prop: prop,\n        className: _EntryWizard[\"default\"]['item'],\n        validations: validations,\n        value: value || '',\n        onChange: function onChange(value) {\n          return _this2.onChange(name, value, metaType);\n        }\n      });\n    }\n  }, {\n    key: \"renderProps\",\n    value: function renderProps() {\n      var _this3 = this;\n      var uiConfig = this.props.uiConfig;\n      var rootId = this.props.getRootId();\n      var ctrlType = this.props.getItemValue(rootId, _propnames.TYPE, _propnames.FORMMETA);\n      var props = _model.metadataModel.getConfigFieldByType(uiConfig, ctrlType);\n      var propItems = props.get('properties', (0, _immutable.List)()).filter(function (item) {\n        return PropNames.indexOf(item.get('name')) >= 0;\n      });\n      propItems = propItems.map(function (item) {\n        return _this3.renderProp(item, _propnames.FORMMETA);\n      });\n      var fieldType = this.props.getItemValue(rootId, 'FieldType', _propnames.FORMMETA);\n      var fieldProps = _model.metadataModel.getConfigFieldByType(uiConfig, fieldType);\n      var fieldPropItems = fieldProps.get('properties', (0, _immutable.List)()).filter(function (item) {\n        return PropNames.indexOf(item.get('name')) >= 0 && [_propnames.ID, _propnames.KEY, _propnames.NAME].indexOf(item.get('name')) === -1;\n      });\n      propItems = propItems.concat(fieldPropItems.map(function (item) {\n        return _this3.renderProp(item, _propnames.ENTITYMETA);\n      }));\n      return propItems;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n        style = _this$props2.style,\n        className = _this$props2.className,\n        addItem = _this$props2.addItem,\n        createItem = _this$props2.createItem,\n        getItem = _this$props2.getItem,\n        getItemValue = _this$props2.getItemValue,\n        go = _this$props2.go,\n        removeItem = _this$props2.removeItem,\n        setButtonState = _this$props2.setButtonState,\n        setItemValue = _this$props2.setItemValue;\n      className = (0, _classnames2[\"default\"])(_defineProperty(_defineProperty({}, _EntryWizard[\"default\"]['root'], true), className, className));\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        style: style,\n        className: className\n      }, this.renderProps());\n    }\n  }]);\n  return EntryWizard;\n}(_react[\"default\"].Component);\nvar _default = exports[\"default\"] = EntryWizard;\n\n//# sourceURL=webpack://bos-platform/./src/designer/wizard/pages/EntryWizard/EntryWizard1.jsx?");

/***/ }),

/***/ "./src/designer/wizard/pages/EntryWizard/EntryWizard2.jsx":
/*!****************************************************************!*\
  !*** ./src/designer/wizard/pages/EntryWizard/EntryWizard2.jsx ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.concat.js */ \"../../node_modules/core-js/modules/es.array.concat.js\");\n__webpack_require__(/*! core-js/modules/es.array.filter.js */ \"../../node_modules/core-js/modules/es.array.filter.js\");\n__webpack_require__(/*! core-js/modules/es.array.find-index.js */ \"../../node_modules/core-js/modules/es.array.find-index.js\");\n__webpack_require__(/*! core-js/modules/es.array.for-each.js */ \"../../node_modules/core-js/modules/es.array.for-each.js\");\n__webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"../../node_modules/core-js/modules/es.array.index-of.js\");\n__webpack_require__(/*! core-js/modules/es.array.map.js */ \"../../node_modules/core-js/modules/es.array.map.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ \"../../node_modules/core-js/modules/web.dom-collections.for-each.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _propTypes = _interopRequireDefault(__webpack_require__(/*! prop-types */ \"../../node_modules/prop-types/index.js\"));\nvar _classnames3 = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _lodash = _interopRequireDefault(__webpack_require__(/*! lodash */ \"../../node_modules/lodash/lodash.js\"));\nvar _common = __webpack_require__(/*! ../../../reducer/ui/common */ \"./src/designer/reducer/ui/common.js\");\nvar _model = __webpack_require__(/*! ../../../model */ \"./src/designer/model/index.js\");\nvar _propnames = __webpack_require__(/*! ../../../constant/propnames */ \"./src/designer/constant/propnames.js\");\nvar _constant = __webpack_require__(/*! ../../../constant */ \"./src/designer/constant/index.js\");\nvar _EntryWizard = _interopRequireDefault(__webpack_require__(/*! ./EntryWizard2.less */ \"./src/designer/wizard/pages/EntryWizard/EntryWizard2.less\"));\nvar _PropertyEditor = _interopRequireDefault(__webpack_require__(/*! ../../editors/PropertyEditor */ \"./src/designer/wizard/editors/PropertyEditor.jsx\"));\nvar _Collapse = _interopRequireDefault(__webpack_require__(/*! ../../../component/Collapse */ \"./src/designer/component/Collapse.jsx\"));\nvar _validator = _interopRequireDefault(__webpack_require__(/*! ../../../validator */ \"./src/designer/validator/index.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar PropNames = [_propnames.KEY, _propnames.NAME, 'FieldName', 'DefValue'];\nvar EntryWizard = /*#__PURE__*/function (_React$Component) {\n  _inherits(EntryWizard, _React$Component);\n  function EntryWizard(props) {\n    var _this;\n    _classCallCheck(this, EntryWizard);\n    _this = _callSuper(this, EntryWizard, [props]);\n    _this.state = {};\n    _this.onChange = _this.onChange.bind(_assertThisInitialized(_this));\n    _this.addItem = _this.addItem.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  _createClass(EntryWizard, [{\n    key: \"selectItem\",\n    value: function selectItem(e, id) {\n      e && e.stopPropagation();\n      this.setState({\n        select_control_id: id\n      });\n    }\n  }, {\n    key: \"addItem\",\n    value: function addItem(e, ctrlType) {\n      e.stopPropagation();\n      var rootId = this.props.getRootId();\n      var item = this.props.addItem(ctrlType, rootId);\n      this.selectItem(null, item.get(_propnames.ID));\n    }\n  }, {\n    key: \"deleteItem\",\n    value: function deleteItem(e, id) {\n      e.stopPropagation();\n      var rootId = this.props.getRootId();\n      var rootItem = this.props.getItem(rootId);\n      var children = rootItem.get(_propnames.ITEMS, (0, _immutable.List)());\n      var index = children.findIndex(function (child) {\n        return child.get(_propnames.ID) === id;\n      });\n      var size = children.size;\n      var selId = null;\n      var nextItem = children.get(index + 1);\n      if (nextItem && index + 1 < size) {\n        selId = nextItem.get(_propnames.ID);\n      } else {\n        nextItem = children.get(index - 1);\n        if (nextItem && index - 1 >= 0) {\n          selId = nextItem.get(_propnames.ID);\n        }\n      }\n      this.setState({\n        select_control_id: selId\n      });\n      this.props.removeItem(id);\n    }\n  }, {\n    key: \"deleteAddItem\",\n    value: function deleteAddItem(e) {\n      e.stopPropagation();\n      var rootId = this.props.getRootId();\n      var rootItem = this.props.getItem(rootId);\n      var delIds = [];\n      var children = rootItem.get(_propnames.ITEMS, (0, _immutable.List)());\n      children.forEach(function (child) {\n        return delIds.push(child.get(_propnames.ID));\n      });\n      this.setState({\n        select_control_id: null\n      });\n      this.props.removeItem(delIds);\n    }\n  }, {\n    key: \"isAllowAdd\",\n    value: function isAllowAdd(ctrlType, parentInfo) {\n      var _this$props = this.props,\n        uiConfig = _this$props.uiConfig,\n        uiInfo = _this$props.uiInfo;\n      var ctrlInfo = _model.uiModel.getTypeInfo({\n        ctrlType: ctrlType\n      }, uiConfig);\n      ctrlType = ctrlInfo.ctrlType;\n      var fieldType = ctrlInfo.fieldType;\n      var result = false;\n      try {\n        result = (0, _common.canAddControl)(uiInfo, {\n          parentId: parentInfo,\n          ctrlType: ctrlType,\n          fieldType: fieldType,\n          uiConfig: uiConfig\n        });\n      } catch (e) {}\n      return result;\n    }\n  }, {\n    key: \"renderControl\",\n    value: function renderControl() {\n      var _this2 = this;\n      var uiConfig = this.props.uiConfig;\n      var rootId = this.props.getRootId();\n      var rootItem = this.props.getItem(rootId);\n      var ctrlType = rootItem.get(_propnames.TYPE);\n      var fieldType = rootItem.get('FieldType');\n      var parentInfo = (0, _immutable.Map)({\n        Type: ctrlType,\n        FieldType: fieldType\n      });\n      var resultGroup = uiConfig.get('groups').filter(function (group) {\n        return group.get('BaseType') === 'Field';\n      });\n      resultGroup = resultGroup.map(function (group) {\n        return group.update('children', function (children) {\n          return children.filter(function (ctrl) {\n            return _this2.isAllowAdd(ctrl.get(_propnames.TYPE), parentInfo);\n          });\n        });\n      });\n      resultGroup = resultGroup.filter(function (group) {\n        return group.get('children', (0, _immutable.List)()).size > 0;\n      });\n      var tnClassName = (0, _classnames3[\"default\"])(_defineProperty(_defineProperty({}, _EntryWizard[\"default\"]['item'], true), _EntryWizard[\"default\"]['item-hover'], true));\n      resultGroup = resultGroup.map(function (group) {\n        var children = group.get('children', (0, _immutable.List)());\n        children = children.map(function (child) {\n          return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n            key: child.get(_propnames.ID),\n            className: tnClassName,\n            onClick: function onClick(e) {\n              return _this2.addItem(e, child.get(_propnames.ID));\n            }\n          }, child.get('name'));\n        });\n        return /*#__PURE__*/_react[\"default\"].createElement(_Collapse[\"default\"], {\n          key: group.get(_propnames.ID),\n          title: group.get('name'),\n          className: _EntryWizard[\"default\"]['item']\n        }, children.toJS());\n      });\n      return resultGroup.toJS();\n    }\n  }, {\n    key: \"renderList\",\n    value: function renderList() {\n      var _this3 = this;\n      var select_control_id = this.state.select_control_id;\n      var rootId = this.props.getRootId();\n      var rootItem = this.props.getItem(rootId);\n      var items = rootItem.get(_propnames.ITEMS, (0, _immutable.List)());\n      return items.map(function (item) {\n        var id = item.get(_propnames.ID);\n        var key = item.get(_propnames.KEY);\n        var name = item.get(_propnames.NAME);\n        var className = _EntryWizard[\"default\"]['item'];\n        if (id === select_control_id) className += ' ' + _EntryWizard[\"default\"]['item-selected'];\n        return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n          key: id,\n          className: className,\n          onClick: function onClick(e) {\n            return _this3.selectItem(e, id);\n          }\n        }, \"\".concat(name, \"\\uFF08\").concat(key, \"\\uFF09\"), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n          className: _EntryWizard[\"default\"]['delete'],\n          onClick: function onClick(e) {\n            return _this3.deleteItem(e, id);\n          }\n        }, \"\\xD7\"));\n      });\n    }\n  }, {\n    key: \"onChange\",\n    value: function onChange(name, value, metaType) {\n      var select_control_id = this.state.select_control_id;\n      this.props.setItemValue(select_control_id, name, value, metaType);\n    }\n  }, {\n    key: \"getAllKeys\",\n    value: function getAllKeys() {\n      var _this$props2 = this.props,\n        data = _this$props2.data,\n        uiInfo = _this$props2.uiInfo;\n      var existValues = [];\n      uiInfo.getIn([_propnames.FORMMETA, _propnames.ITEMS], (0, _immutable.List)()).forEach(function (item) {\n        return existValues.push(item.get(_propnames.KEY));\n      });\n      var loop = function loop(item) {\n        existValues.push(item.get(_propnames.KEY));\n        item.get(_propnames.ITEMS, (0, _immutable.List)()).forEach(function (_item) {\n          return loop(_item);\n        });\n      };\n      loop(data.get('ui', (0, _immutable.Map)()));\n      return existValues;\n    }\n  }, {\n    key: \"renderProp\",\n    value: function renderProp(prop, metaType) {\n      var _this4 = this;\n      var select_control_id = this.state.select_control_id;\n      var name = prop.get('name');\n      var value = this.props.getItemValue(select_control_id, name, metaType);\n      var validations = [];\n      switch (name) {\n        case _propnames.KEY:\n          validations.push('lowerCase');\n          validations.push('require');\n          var allkeys = _lodash[\"default\"].filter(this.getAllKeys(), function (val) {\n            return val != value;\n          });\n          validations.push(_validator[\"default\"].unique(allkeys));\n          var reservedWords = _lodash[\"default\"].clone(_constant.RESERVEDFILEDKEYS);\n          reservedWords.push(' ');\n          validations.push(_validator[\"default\"].reservedWord(reservedWords));\n          validations.push(_validator[\"default\"].beginWith(['$$']));\n          break;\n        case 'TableName':\n        case 'PkFieldName':\n        case 'FieldName':\n          validations.push('lowerCase');\n          validations.push(_validator[\"default\"].reservedWord(_constant.SPECIAL_WORDS));\n          break;\n      }\n      return /*#__PURE__*/_react[\"default\"].createElement(_PropertyEditor[\"default\"], {\n        key: name + metaType,\n        id: select_control_id,\n        className: _EntryWizard[\"default\"]['item'],\n        prop: prop,\n        validations: validations,\n        value: value || '',\n        onChange: function onChange(value) {\n          return _this4.onChange(name, value, metaType);\n        }\n      });\n    }\n  }, {\n    key: \"renderProps\",\n    value: function renderProps() {\n      var _this5 = this;\n      var select_control_id = this.state.select_control_id;\n      if (!select_control_id) return null;\n      var uiConfig = this.props.uiConfig;\n      var ctrlType = this.props.getItemValue(select_control_id, _propnames.TYPE, _propnames.FORMMETA);\n      var props = _model.metadataModel.getConfigFieldByType(uiConfig, ctrlType);\n      var propItems = props.get('properties', (0, _immutable.List)()).filter(function (item) {\n        return PropNames.indexOf(item.get('name')) >= 0;\n      });\n      propItems = propItems.map(function (item) {\n        return _this5.renderProp(item, _propnames.FORMMETA);\n      });\n      var fieldType = this.props.getItemValue(select_control_id, 'FieldType', _propnames.FORMMETA);\n      var fieldProps = _model.metadataModel.getConfigFieldByType(uiConfig, fieldType);\n      var fieldPropItems = fieldProps.get('properties', (0, _immutable.List)()).filter(function (item) {\n        return PropNames.indexOf(item.get('name')) >= 0 && [_propnames.ID, _propnames.KEY, _propnames.NAME].indexOf(item.get('name')) === -1;\n      });\n      propItems = propItems.concat(fieldPropItems.map(function (item) {\n        return _this5.renderProp(item, _propnames.ENTITYMETA);\n      }));\n      return propItems;\n    }\n  }, {\n    key: \"getChildCount\",\n    value: function getChildCount() {\n      var rootId = this.props.getRootId();\n      var rootItem = this.props.getItem(rootId);\n      return rootItem ? rootItem.get(_propnames.ITEMS, (0, _immutable.List)()).size : 0;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this6 = this;\n      var _this$props3 = this.props,\n        style = _this$props3.style,\n        className = _this$props3.className;\n      className = (0, _classnames3[\"default\"])(_defineProperty(_defineProperty({}, _EntryWizard[\"default\"]['root'], true), className, className));\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: className,\n        style: style\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _EntryWizard[\"default\"]['control-panel']\n      }, this.renderControl()), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _EntryWizard[\"default\"]['list-panel']\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _EntryWizard[\"default\"]['title']\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _EntryWizard[\"default\"]['select-count']\n      }, \"\\u5DF2\\u9009\\uFF08\", this.getChildCount(), \"\\uFF09\"), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _EntryWizard[\"default\"]['clear-all'],\n        onClick: function onClick(e) {\n          return _this6.deleteAddItem(e);\n        }\n      }, \"\\u5168\\u90E8\\u6E05\\u9664\")), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _EntryWizard[\"default\"]['content']\n      }, this.renderList())), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _EntryWizard[\"default\"]['prop-panel']\n      }, this.renderProps()));\n    }\n  }]);\n  return EntryWizard;\n}(_react[\"default\"].Component);\nvar _default = exports[\"default\"] = EntryWizard;\n\n//# sourceURL=webpack://bos-platform/./src/designer/wizard/pages/EntryWizard/EntryWizard2.jsx?");

/***/ }),

/***/ "./src/designer/wizard/pages/EntryWizard/index.js":
/*!********************************************************!*\
  !*** ./src/designer/wizard/pages/EntryWizard/index.js ***!
  \********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\nvar _react = _interopRequireDefault(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _propTypes = _interopRequireDefault(__webpack_require__(/*! prop-types */ \"../../node_modules/prop-types/index.js\"));\nvar _classnames = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nvar _registWizardPage = _interopRequireDefault(__webpack_require__(/*! ../../registWizardPage */ \"./src/designer/wizard/registWizardPage.js\"));\nvar _Wizard = _interopRequireDefault(__webpack_require__(/*! ../../Wizard */ \"./src/designer/wizard/Wizard.jsx\"));\nvar _EntryWizard = _interopRequireDefault(__webpack_require__(/*! ./EntryWizard1 */ \"./src/designer/wizard/pages/EntryWizard/EntryWizard1.jsx\"));\nvar _EntryWizard2 = _interopRequireDefault(__webpack_require__(/*! ./EntryWizard2 */ \"./src/designer/wizard/pages/EntryWizard/EntryWizard2.jsx\"));\nvar _EntryWizard3 = _interopRequireDefault(__webpack_require__(/*! ./EntryWizard.less */ \"./src/designer/wizard/pages/EntryWizard/EntryWizard.less\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nvar EntryWizard = /*#__PURE__*/function (_React$Component) {\n  _inherits(EntryWizard, _React$Component);\n  function EntryWizard(props) {\n    _classCallCheck(this, EntryWizard);\n    return _callSuper(this, EntryWizard, [props]);\n  }\n  _createClass(EntryWizard, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {}\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/_react[\"default\"].createElement(_Wizard[\"default\"], _extends({}, this.props, {\n        className: _EntryWizard3[\"default\"]['root']\n      }), /*#__PURE__*/_react[\"default\"].createElement(_EntryWizard[\"default\"], {\n        key: \"entrywizard1\"\n      }), /*#__PURE__*/_react[\"default\"].createElement(_EntryWizard2[\"default\"], {\n        key: \"wntrywizard2\"\n      }));\n    }\n  }]);\n  return EntryWizard;\n}(_react[\"default\"].Component);\n(0, _registWizardPage[\"default\"])('EntryEntity', EntryWizard);\nvar _default = exports[\"default\"] = EntryWizard;\n\n//# sourceURL=webpack://bos-platform/./src/designer/wizard/pages/EntryWizard/index.js?");

/***/ }),

/***/ "./src/designer/wizard/pages/index.js":
/*!********************************************!*\
  !*** ./src/designer/wizard/pages/index.js ***!
  \********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nObject.defineProperty(exports, \"ButtonWizard\", ({\n  enumerable: true,\n  get: function get() {\n    return _ButtonWizard[\"default\"];\n  }\n}));\nObject.defineProperty(exports, \"EntryWizard\", ({\n  enumerable: true,\n  get: function get() {\n    return _EntryWizard[\"default\"];\n  }\n}));\nvar _ButtonWizard = _interopRequireDefault(__webpack_require__(/*! ./ButtonWizard */ \"./src/designer/wizard/pages/ButtonWizard.js\"));\nvar _EntryWizard = _interopRequireDefault(__webpack_require__(/*! ./EntryWizard */ \"./src/designer/wizard/pages/EntryWizard/index.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n//# sourceURL=webpack://bos-platform/./src/designer/wizard/pages/index.js?");

/***/ }),

/***/ "./src/designer/wizard/registWizardPage.js":
/*!*************************************************!*\
  !*** ./src/designer/wizard/registWizardPage.js ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = RegistWizardPage;\nexports.getWizardPage = getWizardPage;\nvar pages = {};\nfunction RegistWizardPage(ctrlType, WinzardPage, props) {\n  pages[ctrlType] = {\n    WinzardPage: WinzardPage,\n    props: props\n  };\n}\nfunction getWizardPage(ctrlType) {\n  return pages[ctrlType];\n}\n\n//# sourceURL=webpack://bos-platform/./src/designer/wizard/registWizardPage.js?");

/***/ }),

/***/ "./src/page/Overlay.js":
/*!*****************************!*\
  !*** ./src/page/Overlay.js ***!
  \*****************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n__webpack_require__(/*! core-js/modules/es.symbol.js */ \"../../node_modules/core-js/modules/es.symbol.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.description.js */ \"../../node_modules/core-js/modules/es.symbol.description.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ \"../../node_modules/core-js/modules/es.symbol.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.symbol.to-primitive.js */ \"../../node_modules/core-js/modules/es.symbol.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.array.iterator.js */ \"../../node_modules/core-js/modules/es.array.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.date.to-primitive.js */ \"../../node_modules/core-js/modules/es.date.to-primitive.js\");\n__webpack_require__(/*! core-js/modules/es.number.constructor.js */ \"../../node_modules/core-js/modules/es.number.constructor.js\");\n__webpack_require__(/*! core-js/modules/es.object.create.js */ \"../../node_modules/core-js/modules/es.object.create.js\");\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-own-property-descriptor.js */ \"../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js\");\n__webpack_require__(/*! core-js/modules/es.object.get-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.get-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.reflect.construct.js */ \"../../node_modules/core-js/modules/es.reflect.construct.js\");\n__webpack_require__(/*! core-js/modules/es.string.iterator.js */ \"../../node_modules/core-js/modules/es.string.iterator.js\");\n__webpack_require__(/*! core-js/modules/es.weak-map.js */ \"../../node_modules/core-js/modules/es.weak-map.js\");\n__webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"../../node_modules/core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\n__webpack_require__(/*! core-js/modules/es.array.includes.js */ \"../../node_modules/core-js/modules/es.array.includes.js\");\n__webpack_require__(/*! core-js/modules/es.function.bind.js */ \"../../node_modules/core-js/modules/es.function.bind.js\");\n__webpack_require__(/*! core-js/modules/es.object.assign.js */ \"../../node_modules/core-js/modules/es.object.assign.js\");\n__webpack_require__(/*! core-js/modules/es.object.set-prototype-of.js */ \"../../node_modules/core-js/modules/es.object.set-prototype-of.js\");\n__webpack_require__(/*! core-js/modules/es.string.includes.js */ \"../../node_modules/core-js/modules/es.string.includes.js\");\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"webpack/sharing/consume/default/react/react?dca2\"));\nvar _reactDom = _interopRequireDefault(__webpack_require__(/*! react-dom */ \"webpack/sharing/consume/default/react-dom/react-dom?418d\"));\nvar _classnames = _interopRequireDefault(__webpack_require__(/*! classnames */ \"../../node_modules/classnames/index.js\"));\nvar _Overlay = _interopRequireDefault(__webpack_require__(/*! ./Overlay.less */ \"./src/page/Overlay.less\"));\nvar _immutable = __webpack_require__(/*! immutable */ \"webpack/sharing/consume/default/immutable/immutable?f2ca\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { \"default\": e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n[\"default\"] = e, t && t.set(e, n), n; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); } /**\n * 自定义弹出层\n * @authors daosheng_chen(you@example.org)\n * @date    2017-12-05 16:17:07\n * @version $Id$\n */\nvar Overlay = exports[\"default\"] = /*#__PURE__*/function (_Component) {\n  _inherits(Overlay, _Component);\n  function Overlay(props) {\n    var _this;\n    _classCallCheck(this, Overlay);\n    _this = _callSuper(this, Overlay, [props]);\n    _this.onKeyup = _this.onKeyup.bind(_assertThisInitialized(_this));\n    _this.renderBody = _this.renderBody.bind(_assertThisInitialized(_this));\n    _this.renderTitle = _this.renderTitle.bind(_assertThisInitialized(_this));\n    _this.renderToolbar = _this.renderToolbar.bind(_assertThisInitialized(_this));\n    _this.onOk = _this.onOk.bind(_assertThisInitialized(_this));\n    _this.setButtonState = _this.setButtonState.bind(_assertThisInitialized(_this));\n    _this.container = document.createElement('div');\n    document.body.appendChild(_this.container);\n    _this.state = {\n      buttonState: (0, _immutable.Map)()\n    }; // [pre,next,ok,cancel]\n    return _this;\n  }\n  _createClass(Overlay, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      document.addEventListener('keyup', this.onKeyup, true);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      document.body.removeChild(this.container);\n      document.removeEventListener('keyup', this.onKeyup, true);\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      return !(0, _immutable.is)(this.state.buttonState, nextState.buttonState);\n    }\n  }, {\n    key: \"onKeyup\",\n    value: function onKeyup(e) {\n      if (e.keyCode === 27) {\n        this.props.onClose();\n      }\n    }\n  }, {\n    key: \"renderBody\",\n    value: function renderBody() {\n      var _this2 = this;\n      var style = Object.assign({}, this.props.children.props.style, {\n        flexGrow: 1\n      });\n      var _style$width = style.width,\n        width = _style$width === void 0 ? '' : _style$width,\n        _style$height = style.height,\n        height = _style$height === void 0 ? '' : _style$height;\n      if (typeof width === 'string' && width.includes('%')) {\n        delete style.width;\n      }\n      if (typeof height === 'string' && height.includes('%')) {\n        delete style.height;\n      }\n      return /*#__PURE__*/_react[\"default\"].cloneElement(this.props.children, {\n        style: style,\n        uiInfo: this.props.uiInfo,\n        ctrlInfo: this.props.ctrlInfo,\n        uiConfig: this.props.uiConfig,\n        setDoStep: function setDoStep(step) {\n          return _this2.stepFunc = step;\n        },\n        setButtonState: this.setButtonState\n      });\n    }\n  }, {\n    key: \"setButtonState\",\n    value: function setButtonState() {\n      var buttonState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      this.setState({\n        buttonState: this.state.buttonState.mergeDeep((0, _immutable.fromJS)(buttonState))\n      });\n    }\n  }, {\n    key: \"renderTitle\",\n    value: function renderTitle() {\n      if (this.props.title) {\n        return /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n          className: (0, _classnames[\"default\"])(_Overlay[\"default\"]['title'])\n        }, this.props.title);\n      }\n      return null;\n    }\n  }, {\n    key: \"getButtonStyle\",\n    value: function getButtonStyle(name) {\n      var buttonStateName = this.state.buttonState.get(name);\n      switch (buttonStateName) {\n        case 'visible':\n          return {};\n        case 'hidden':\n          return {\n            display: 'none'\n          };\n      }\n    }\n  }, {\n    key: \"renderToolbar\",\n    value: function renderToolbar() {\n      var _this3 = this;\n      if (this.props.showToolbar != false) {\n        return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n          className: (0, _classnames[\"default\"])(_Overlay[\"default\"]['toolbar'])\n        }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n          style: this.getButtonStyle('pre'),\n          onClick: function onClick() {\n            return _this3.stepFunc && _this3.stepFunc(-1);\n          }\n        }, \"\\u4E0A\\u4E00\\u6B65\"), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n          style: this.getButtonStyle('next'),\n          onClick: function onClick() {\n            return _this3.stepFunc && _this3.stepFunc(1);\n          }\n        }, \"\\u4E0B\\u4E00\\u6B65\"), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n          style: this.getButtonStyle('cancel'),\n          onClick: this.props.onClose\n        }, \"\\u53D6\\u6D88\"), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n          style: this.getButtonStyle('ok'),\n          onClick: this.onOk\n        }, \"\\u786E\\u5B9A\"));\n      }\n      return null;\n    }\n  }, {\n    key: \"onOk\",\n    value: function onOk(e) {\n      // get result\n      this.props.onOk(this.props.ctrlInfo);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var title = this.renderTitle();\n      var dialogBody = this.renderBody();\n      var toolbar = this.renderToolbar();\n      var style = this.props.children.props.style || {};\n      var dialogStyle = {};\n      if (typeof style.width === 'string' && style.width.includes('%')) {\n        dialogStyle.width = style.width;\n      }\n      if (typeof style.height === 'string' && style.height.includes('%')) {\n        dialogStyle.height = style.height;\n      }\n      return /*#__PURE__*/_reactDom[\"default\"].createPortal( /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: (0, _classnames[\"default\"])(_Overlay[\"default\"]['overlay'])\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: (0, _classnames[\"default\"])(_Overlay[\"default\"]['dialog']),\n        style: dialogStyle\n      }, this.props.showColseButton && /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n        className: (0, _classnames[\"default\"])(_Overlay[\"default\"]['overlay-close']),\n        onClick: this.props.onClose\n      }, \"\\xD7\"), title, dialogBody, toolbar)), this.container);\n    }\n  }]);\n  return Overlay;\n}(_react.Component);\n\n//# sourceURL=webpack://bos-platform/./src/page/Overlay.js?");

/***/ }),

/***/ "./src/util/delayRequestAnimationFrame.js":
/*!************************************************!*\
  !*** ./src/util/delayRequestAnimationFrame.js ***!
  \************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = delayRequestAnimationFrame;\n/**\n * 指定延时运行\n *\n * @export\n * @param {*} callback\n * @param {*} num 延时几个动画帧\n */\nfunction delayRequestAnimationFrame(callback) {\n  var num = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  window.requestAnimationFrame(function () {\n    if (num === 0) {\n      callback();\n    } else {\n      delayRequestAnimationFrame(callback, num - 1);\n    }\n  });\n}\n\n//# sourceURL=webpack://bos-platform/./src/util/delayRequestAnimationFrame.js?");

/***/ }),

/***/ "./src/util/typeCheck.js":
/*!*******************************!*\
  !*** ./src/util/typeCheck.js ***!
  \*******************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! core-js/modules/es.object.define-property.js */ \"../../node_modules/core-js/modules/es.object.define-property.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.isPhoneNumber = exports.isJsonString = exports.isIdCard = exports.isEmail = void 0;\n__webpack_require__(/*! core-js/modules/es.date.to-string.js */ \"../../node_modules/core-js/modules/es.date.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.object.keys.js */ \"../../node_modules/core-js/modules/es.object.keys.js\");\n__webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"../../node_modules/core-js/modules/es.object.to-string.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"../../node_modules/core-js/modules/es.regexp.exec.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ \"../../node_modules/core-js/modules/es.regexp.to-string.js\");\nvar isEmail = exports.isEmail = function isEmail(value) {\n  var tempRegExp = /^\\w+([\\._\\\\-]*\\w)*@(\\w+[\\w|\\-]*\\.){1,63}[\\w|\\-]+$/;\n  return tempRegExp.test(value);\n};\nvar isPhoneNumber = exports.isPhoneNumber = function isPhoneNumber(value) {\n  var tempRegExp = /^1[3456789]\\d{9}$/;\n  return tempRegExp.test(value);\n};\nvar isIdCard = exports.isIdCard = function isIdCard(value) {\n  var tempRegExp = /^(^[1-9]\\d{7}((0\\d)|(1[0-2]))(([0|1|2]\\d)|3[0-1])\\d{3}$)|(^[1-9]\\d{5}[1-9]\\d{3}((0\\d)|(1[0-2]))(([0|1|2]\\d)|3[0-1])((\\d{4})|\\d{3}[Xx])$)$/;\n  return tempRegExp.test(value);\n};\nvar isJsonString = exports.isJsonString = function isJsonString(str) {\n  try {\n    if (Object.prototype.toString.call(JSON.parse(str)) === '[object Object]') {\n      return true;\n    }\n  } catch (e) {}\n  return false;\n};\n\n//# sourceURL=webpack://bos-platform/./src/util/typeCheck.js?");

/***/ }),

/***/ "./src/designer/component/Collapse.less":
/*!**********************************************!*\
  !*** ./src/designer/component/Collapse.less ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"root\":\"Collapse_root_k2Oj\",\"header\":\"Collapse_header_3u_C\",\"title\":\"Collapse_title_3Wos\",\"icon\":\"Collapse_icon_1ER5\",\"expand\":\"Collapse_expand_-8g3\",\"content\":\"Collapse_content_wexc\",\"active\":\"Collapse_active_AbkT\"});\n\n//# sourceURL=webpack://bos-platform/./src/designer/component/Collapse.less?");

/***/ }),

/***/ "./src/designer/component/Dialog.less":
/*!********************************************!*\
  !*** ./src/designer/component/Dialog.less ***!
  \********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"overlay\":\"Dialog_overlay_KloS\",\"dialog\":\"Dialog_dialog_1x01\",\"close\":\"Dialog_close_3WIr\",\"title\":\"Dialog_title_179J\",\"toolbar\":\"Dialog_toolbar_2o9r\",\"btn\":\"Dialog_btn_2lO4\"});\n\n//# sourceURL=webpack://bos-platform/./src/designer/component/Dialog.less?");

/***/ }),

/***/ "./src/designer/component/TabView.less":
/*!*********************************************!*\
  !*** ./src/designer/component/TabView.less ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"root\":\"TabView_root_1Ynx\",\"bar\":\"TabView_bar_17Cg\",\"active\":\"TabView_active_20BV\",\"panel\":\"TabView_panel_2Iyf\",\"hidden\":\"TabView_hidden_4cIB\"});\n\n//# sourceURL=webpack://bos-platform/./src/designer/component/TabView.less?");

/***/ }),

/***/ "./src/designer/component/Tree.less":
/*!******************************************!*\
  !*** ./src/designer/component/Tree.less ***!
  \******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"tree\":\"Tree_tree_3q8r\",\"tree-node\":\"Tree_tree-node_xSmj\",\"title\":\"Tree_title_zUHv\",\"switcher\":\"Tree_switcher_1F1K\",\"icon\":\"Tree_icon_2QQY\",\"text\":\"Tree_text_1uj8\",\"title-padding\":\"Tree_title-padding_1I1W\",\"content\":\"Tree_content_1ulP\",\"node-selected\":\"Tree_node-selected_2rfD\",\"hidden\":\"Tree_hidden_1GWN\"});\n\n//# sourceURL=webpack://bos-platform/./src/designer/component/Tree.less?");

/***/ }),

/***/ "./src/designer/editors/BtneditPropertyEditor.less":
/*!*********************************************************!*\
  !*** ./src/designer/editors/BtneditPropertyEditor.less ***!
  \*********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"root\":\"BtneditPropertyEditor_root_3c9d\",\"clear\":\"BtneditPropertyEditor_clear_2tdV\",\"btnEditDisabled\":\"BtneditPropertyEditor_btnEditDisabled_3pZM\",\"btnEditDisabledMask\":\"BtneditPropertyEditor_btnEditDisabledMask_3kJR\",\"btnName\":\"BtneditPropertyEditor_btnName_32K6\"});\n\n//# sourceURL=webpack://bos-platform/./src/designer/editors/BtneditPropertyEditor.less?");

/***/ }),

/***/ "./src/designer/editors/ComboPropertyEditor.less":
/*!*******************************************************!*\
  !*** ./src/designer/editors/ComboPropertyEditor.less ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"comboPropertyOverHidden\":\"ComboPropertyEditor_comboPropertyOverHidden_3O8J\"});\n\n//# sourceURL=webpack://bos-platform/./src/designer/editors/ComboPropertyEditor.less?");

/***/ }),

/***/ "./src/designer/editors/CustomPropertyEditor.less":
/*!********************************************************!*\
  !*** ./src/designer/editors/CustomPropertyEditor.less ***!
  \********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"root\":\"CustomPropertyEditor_root_3XnQ\",\"clear\":\"CustomPropertyEditor_clear_2v8w\"});\n\n//# sourceURL=webpack://bos-platform/./src/designer/editors/CustomPropertyEditor.less?");

/***/ }),

/***/ "./src/designer/editors/EditcomboPropertyEditor.less":
/*!***********************************************************!*\
  !*** ./src/designer/editors/EditcomboPropertyEditor.less ***!
  \***********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"edit-Input\":\"EditcomboPropertyEditor_edit-Input_3QuN\"});\n\n//# sourceURL=webpack://bos-platform/./src/designer/editors/EditcomboPropertyEditor.less?");

/***/ }),

/***/ "./src/designer/editors/PositionPropertyEditor.less":
/*!**********************************************************!*\
  !*** ./src/designer/editors/PositionPropertyEditor.less ***!
  \**********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"PositionSelectBox\":\"PositionPropertyEditor_PositionSelectBox_zd8H\",\"text\":\"PositionPropertyEditor_text_1JAE\",\"text-selected\":\"PositionPropertyEditor_text-selected_z0nP\"});\n\n//# sourceURL=webpack://bos-platform/./src/designer/editors/PositionPropertyEditor.less?");

/***/ }),

/***/ "./src/designer/editors/RefEditBtnPropertyEditor.less":
/*!************************************************************!*\
  !*** ./src/designer/editors/RefEditBtnPropertyEditor.less ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"root\":\"RefEditBtnPropertyEditor_root_3B3i\",\"clear\":\"RefEditBtnPropertyEditor_clear_1oe7\",\"icon\":\"RefEditBtnPropertyEditor_icon_3EPC\"});\n\n//# sourceURL=webpack://bos-platform/./src/designer/editors/RefEditBtnPropertyEditor.less?");

/***/ }),

/***/ "./src/designer/editors/common/DialogPicker.less":
/*!*******************************************************!*\
  !*** ./src/designer/editors/common/DialogPicker.less ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"content\":\"DialogPicker_content_QGZb\",\"button-div\":\"DialogPicker_button-div_YesN\",\"but-grey\":\"DialogPicker_but-grey_2Cna\",\"but-large-grey\":\"DialogPicker_but-large-grey_1jFY\",\"but-gap-grey\":\"DialogPicker_but-gap-grey_v10R\",\"but-blue\":\"DialogPicker_but-blue_1w8N\"});\n\n//# sourceURL=webpack://bos-platform/./src/designer/editors/common/DialogPicker.less?");

/***/ }),

/***/ "./src/designer/editors/common/colorPicker.less":
/*!******************************************************!*\
  !*** ./src/designer/editors/common/colorPicker.less ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"colorPicker\":\"colorPicker_colorPicker_1ySu\",\"trigger\":\"colorPicker_trigger_18CT\",\"colorPanel\":\"colorPicker_colorPanel_3bnA\",\"colors\":\"colorPicker_colors_tRB6\",\"colorItem\":\"colorPicker_colorItem_1jce\",\"textPanel\":\"colorPicker_textPanel_3oIt\",\"textItme\":\"colorPicker_textItme_hPWg\",\"input\":\"colorPicker_input_2s3O\",\"input-disabled\":\"colorPicker_input-disabled_DYVM\",\"themeBtn\":\"colorPicker_themeBtn_m2s6\"});\n\n//# sourceURL=webpack://bos-platform/./src/designer/editors/common/colorPicker.less?");

/***/ }),

/***/ "./src/designer/editors/custom/AnchorPropertyEditor.less":
/*!***************************************************************!*\
  !*** ./src/designer/editors/custom/AnchorPropertyEditor.less ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"root\":\"AnchorPropertyEditor_root_2lBq\",\"header\":\"AnchorPropertyEditor_header_27MP\",\"body\":\"AnchorPropertyEditor_body_3y84\",\"item\":\"AnchorPropertyEditor_item_2wlG\",\"selected\":\"AnchorPropertyEditor_selected_1WEr\",\"node-title\":\"AnchorPropertyEditor_node-title_FX-A\",\"caption\":\"AnchorPropertyEditor_caption_2hTb\",\"target\":\"AnchorPropertyEditor_target_O-4q\",\"close\":\"AnchorPropertyEditor_close_1yqk\",\"node-body\":\"AnchorPropertyEditor_node-body_15tg\"});\n\n//# sourceURL=webpack://bos-platform/./src/designer/editors/custom/AnchorPropertyEditor.less?");

/***/ }),

/***/ "./src/designer/page/ActionPanel.less":
/*!********************************************!*\
  !*** ./src/designer/page/ActionPanel.less ***!
  \********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"container\":\"ActionPanel_container_1Yg-\",\"title\":\"ActionPanel_title_335O\",\"item\":\"ActionPanel_item_2SUi\",\"item-func\":\"ActionPanel_item-func_WCBq\",\"top\":\"ActionPanel_top_2j7W\",\"func-desc\":\"ActionPanel_func-desc_3tJy\",\"edit-btn\":\"ActionPanel_edit-btn_3LzT\",\"func-name\":\"ActionPanel_func-name_Mi-C\"});\n\n//# sourceURL=webpack://bos-platform/./src/designer/page/ActionPanel.less?");

/***/ }),

/***/ "./src/designer/page/ControlsPanel.less":
/*!**********************************************!*\
  !*** ./src/designer/page/ControlsPanel.less ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"root\":\"ControlsPanel_root_Z_A5\",\"content\":\"ControlsPanel_content_1vLo\",\"panel\":\"ControlsPanel_panel_1ok4\",\"showpanel\":\"ControlsPanel_showpanel_2fm5\",\"ctrospanel\":\"ControlsPanel_ctrospanel_2b8Y\",\"ctroitem\":\"ControlsPanel_ctroitem_li-W\",\"text\":\"ControlsPanel_text_2n2R\",\"hasTmp\":\"ControlsPanel_hasTmp_12Kj\",\"filterContainer\":\"ControlsPanel_filterContainer_pd3p\",\"filterInput\":\"ControlsPanel_filterInput_3ma6\",\"deleteImg\":\"ControlsPanel_deleteImg_2qc7\",\"controlToolTips\":\"ControlsPanel_controlToolTips_2Rk6\",\"tooltipWrap\":\"ControlsPanel_tooltipWrap_QPaV\",\"tooltipItem\":\"ControlsPanel_tooltipItem_UXpx\",\"fontIcon\":\"ControlsPanel_fontIcon_3L8d\",\"tipContainer\":\"ControlsPanel_tipContainer_2lGb\",\"thumbnail\":\"ControlsPanel_thumbnail_24gw\",\"tipDetail\":\"ControlsPanel_tipDetail_1UuM\",\"introduction\":\"ControlsPanel_introduction_P8q0\",\"tipTitle\":\"ControlsPanel_tipTitle_22CT\",\"learnMore\":\"ControlsPanel_learnMore_1AmF\"});\n\n//# sourceURL=webpack://bos-platform/./src/designer/page/ControlsPanel.less?");

/***/ }),

/***/ "./src/designer/page/ControlsTip.less":
/*!********************************************!*\
  !*** ./src/designer/page/ControlsTip.less ***!
  \********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"tipContainer\":\"ControlsTip_tipContainer_OXt3\",\"thumbnail\":\"ControlsTip_thumbnail_3Ybi\",\"tipDetail\":\"ControlsTip_tipDetail_3U8c\",\"tipTitle\":\"ControlsTip_tipTitle_38Px\",\"introduction\":\"ControlsTip_introduction_2cRY\",\"learnMore\":\"ControlsTip_learnMore_18f6\"});\n\n//# sourceURL=webpack://bos-platform/./src/designer/page/ControlsTip.less?");

/***/ }),

/***/ "./src/designer/page/DropdownControl.less":
/*!************************************************!*\
  !*** ./src/designer/page/DropdownControl.less ***!
  \************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"dropDownBox\":\"DropdownControl_dropDownBox_2nad\",\"dorpDownIcon\":\"DropdownControl_dorpDownIcon_3QP9\",\"dropDownCont\":\"DropdownControl_dropDownCont_2pOJ\",\"dorpImg\":\"DropdownControl_dorpImg_2Iei\",\"dorpDownIcon-active\":\"DropdownControl_dorpDownIcon-active_3sOK\",\"showDropdownItemIcon\":\"DropdownControl_showDropdownItemIcon_10Cw\",\"dropDownBox-active\":\"DropdownControl_dropDownBox-active_17oq\",\"dropdownName\":\"DropdownControl_dropdownName_-uDz\"});\n\n//# sourceURL=webpack://bos-platform/./src/designer/page/DropdownControl.less?");

/***/ }),

/***/ "./src/designer/page/EditToolbar.less":
/*!********************************************!*\
  !*** ./src/designer/page/EditToolbar.less ***!
  \********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"li-active\":\"EditToolbar_li-active_1pz6\",\"li-disabled\":\"EditToolbar_li-disabled_9nBw\",\"auxiliary-line-base\":\"EditToolbar_auxiliary-line-base_hsUg\",\"sideBar\":\"EditToolbar_sideBar_3rux\",\"layout\":\"EditToolbar_layout_1Po1\",\"disabled-toolbar\":\"EditToolbar_disabled-toolbar_1tZ_\",\"auxiliary-line\":\"EditToolbar_auxiliary-line_1yTY\",\"dropdown\":\"EditToolbar_dropdown_kY3c\",\"maxormin\":\"EditToolbar_maxormin_1s3D\",\"layout-mobile\":\"EditToolbar_layout-mobile_3AuF\",\"auxiliary-line-mobile\":\"EditToolbar_auxiliary-line-mobile_3jzR\",\"mobilesideBar\":\"EditToolbar_mobilesideBar_3lrq\"});\n\n//# sourceURL=webpack://bos-platform/./src/designer/page/EditToolbar.less?");

/***/ }),

/***/ "./src/designer/page/Editui.less":
/*!***************************************!*\
  !*** ./src/designer/page/Editui.less ***!
  \***************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"root\":\"Editui_root_2jHe\",\"root-empty\":\"Editui_root-empty_2z2l\",\"ui-content\":\"Editui_ui-content_1j2m\",\"script-viewer\":\"Editui_script-viewer_3zhQ\"});\n\n//# sourceURL=webpack://bos-platform/./src/designer/page/Editui.less?");

/***/ }),

/***/ "./src/designer/page/EntityFieldBindPanel.less":
/*!*****************************************************!*\
  !*** ./src/designer/page/EntityFieldBindPanel.less ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"shadebox\":\"EntityFieldBindPanel_shadebox_VYCK\",\"shade\":\"EntityFieldBindPanel_shade_4pbb\",\"root\":\"EntityFieldBindPanel_root_3Ysf\",\"selectbox\":\"EntityFieldBindPanel_selectbox_3ufU\",\"titlecontent\":\"EntityFieldBindPanel_titlecontent_1NDE\",\"mustinput\":\"EntityFieldBindPanel_mustinput_2TZN\",\"selectcontent\":\"EntityFieldBindPanel_selectcontent_2kWf\",\"inputbox\":\"EntityFieldBindPanel_inputbox_394g\",\"inputtext\":\"EntityFieldBindPanel_inputtext_1q2C\",\"pulldownpanel\":\"EntityFieldBindPanel_pulldownpanel_1pM2\",\"entitynodata\":\"EntityFieldBindPanel_entitynodata_3QRt\",\"entitylist\":\"EntityFieldBindPanel_entitylist_2wcc\",\"activeentity\":\"EntityFieldBindPanel_activeentity_1Iob\",\"spantext\":\"EntityFieldBindPanel_spantext_KDDx\",\"content\":\"EntityFieldBindPanel_content_3R8c\",\"mappingpanel\":\"EntityFieldBindPanel_mappingpanel_3cla\",\"mappingtitle\":\"EntityFieldBindPanel_mappingtitle_1Ts9\",\"entitytablepanle\":\"EntityFieldBindPanel_entitytablepanle_b1pu\",\"entityheader\":\"EntityFieldBindPanel_entityheader_30vA\",\"entityname\":\"EntityFieldBindPanel_entityname_1aFb\",\"divisionbox\":\"EntityFieldBindPanel_divisionbox_1NGO\",\"divisionicon\":\"EntityFieldBindPanel_divisionicon_2zpA\"});\n\n//# sourceURL=webpack://bos-platform/./src/designer/page/EntityFieldBindPanel.less?");

/***/ }),

/***/ "./src/designer/page/FastLayout.less":
/*!*******************************************!*\
  !*** ./src/designer/page/FastLayout.less ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"layoutpanel\":\"FastLayout_layoutpanel_1j3a\",\"tempRoot\":\"FastLayout_tempRoot_XTM9\",\"tipPanel\":\"FastLayout_tipPanel_2Wc1\",\"temImgPanel\":\"FastLayout_temImgPanel_7Fyi\",\"temImg\":\"FastLayout_temImg_3Bny\",\"advRoot\":\"FastLayout_advRoot_R_qG\",\"preview\":\"FastLayout_preview_2g7z\",\"choose\":\"FastLayout_choose_afvG\",\"field\":\"FastLayout_field_57fV\",\"select_container\":\"FastLayout_select_container_Nujz\",\"select\":\"FastLayout_select_3jmF\",\"container\":\"FastLayout_container_3ALV\",\"child\":\"FastLayout_child_uXbv\",\"num\":\"FastLayout_num_2RvQ\",\"item1\":\"FastLayout_item1_3g2P\",\"item2\":\"FastLayout_item2_G0eV\",\"item3\":\"FastLayout_item3_34_M\",\"item4\":\"FastLayout_item4_lqD-\",\"item5\":\"FastLayout_item5_20m7\",\"item6\":\"FastLayout_item6_3d5Q\",\"wrap\":\"FastLayout_wrap_3BeG\",\"other-props-list\":\"FastLayout_other-props-list_fRpX\"});\n\n//# sourceURL=webpack://bos-platform/./src/designer/page/FastLayout.less?");

/***/ }),

/***/ "./src/designer/page/FieldBindPanel.less":
/*!***********************************************!*\
  !*** ./src/designer/page/FieldBindPanel.less ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"shadebox\":\"FieldBindPanel_shadebox_38CS\",\"shade\":\"FieldBindPanel_shade_3mHb\",\"previewImg\":\"FieldBindPanel_previewImg_wmJt\",\"root\":\"FieldBindPanel_root_2feT\",\"content\":\"FieldBindPanel_content_2h1c\",\"mappingpanel\":\"FieldBindPanel_mappingpanel_ibZm\",\"mappingtitle\":\"FieldBindPanel_mappingtitle_fJC-\",\"entitytablepanle\":\"FieldBindPanel_entitytablepanle_3b9J\",\"entityheader\":\"FieldBindPanel_entityheader_2QXU\",\"entityname\":\"FieldBindPanel_entityname_2e9g\",\"divisionbox\":\"FieldBindPanel_divisionbox_16ME\",\"divisionicon\":\"FieldBindPanel_divisionicon_SznU\"});\n\n//# sourceURL=webpack://bos-platform/./src/designer/page/FieldBindPanel.less?");

/***/ }),

/***/ "./src/designer/page/FieldBindingModule.less":
/*!***************************************************!*\
  !*** ./src/designer/page/FieldBindingModule.less ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"header\":\"FieldBindingModule_header_3fgt\",\"title\":\"FieldBindingModule_title_zyVw\",\"mappingtable\":\"FieldBindingModule_mappingtable_Dgn6\",\"mappingheaderpanel\":\"FieldBindingModule_mappingheaderpanel_2Dlt\",\"mappingheader\":\"FieldBindingModule_mappingheader_1zL2\",\"mapingheaderlast\":\"FieldBindingModule_mapingheaderlast_1riR\",\"mappingitempanel\":\"FieldBindingModule_mappingitempanel_w55l\",\"mappingItemAct\":\"FieldBindingModule_mappingItemAct_27C_\",\"mappingItem\":\"FieldBindingModule_mappingItem_3qOo\",\"templatefield\":\"FieldBindingModule_templatefield_2j81\",\"name\":\"FieldBindingModule_name_1sxG\",\"deleteicon\":\"FieldBindingModule_deleteicon_hd-O\",\"templatefieldAct\":\"FieldBindingModule_templatefieldAct_kAQf\",\"mappingfield\":\"FieldBindingModule_mappingfield_C1bR\",\"clearicon\":\"FieldBindingModule_clearicon_bRTu\",\"mappingname\":\"FieldBindingModule_mappingname_1pIK\",\"mappingfieldAct\":\"FieldBindingModule_mappingfieldAct_ltFh\",\"mappingfieldplaceholder\":\"FieldBindingModule_mappingfieldplaceholder_9RaD\",\"grouppanelheader\":\"FieldBindingModule_grouppanelheader_3wJ8\",\"grouparrow\":\"FieldBindingModule_grouparrow_1WVr\",\"grouptip\":\"FieldBindingModule_grouptip_1B9S\",\"activetip\":\"FieldBindingModule_activetip_dyYu\",\"footter\":\"FieldBindingModule_footter_3RpN\",\"btn\":\"FieldBindingModule_btn_1rl9\",\"cancelBtn\":\"FieldBindingModule_cancelBtn_2q5k\",\"confirmBtn\":\"FieldBindingModule_confirmBtn_3jdl\",\"disablebtn\":\"FieldBindingModule_disablebtn_-qYj\",\"searchbar\":\"FieldBindingModule_searchbar_1ysd\",\"searchbox\":\"FieldBindingModule_searchbox_18gO\",\"searchicon\":\"FieldBindingModule_searchicon_1AWG\",\"searchinput\":\"FieldBindingModule_searchinput_277I\",\"searchdel\":\"FieldBindingModule_searchdel_J-c-\",\"entitytable\":\"FieldBindingModule_entitytable_2XYB\",\"tableheaderpanel\":\"FieldBindingModule_tableheaderpanel_QBsO\",\"tableheader\":\"FieldBindingModule_tableheader_1Qx5\",\"tableheaderlast\":\"FieldBindingModule_tableheaderlast_ohes\",\"tablepanel\":\"FieldBindingModule_tablepanel_n-WG\",\"nodatabox\":\"FieldBindingModule_nodatabox_1-B2\",\"tableitempanel\":\"FieldBindingModule_tableitempanel_f1al\",\"tableitem\":\"FieldBindingModule_tableitem_h9KY\",\"tableitemlast\":\"FieldBindingModule_tableitemlast_1bJl\",\"tableitemsleted\":\"FieldBindingModule_tableitemsleted_1xTK\",\"previewcontent\":\"FieldBindingModule_previewcontent_2Vmr\",\"buttonbox\":\"FieldBindingModule_buttonbox_Z1SZ\",\"previewbox\":\"FieldBindingModule_previewbox_2rm7\",\"previewtitle\":\"FieldBindingModule_previewtitle_oZAt\",\"previewImg\":\"FieldBindingModule_previewImg_KMk9\",\"checkbox\":\"FieldBindingModule_checkbox_3C6A\",\"anchor\":\"FieldBindingModule_anchor_1E0T\",\"activeanchor\":\"FieldBindingModule_activeanchor_uFBV\",\"tipbox\":\"FieldBindingModule_tipbox_1Bhi\",\"jinggao\":\"FieldBindingModule_jinggao_J5Py\",\"text\":\"FieldBindingModule_text_1g5b\",\"close\":\"FieldBindingModule_close_RdRD\",\"treetable\":\"FieldBindingModule_treetable_1Wmx\",\"treenodebox\":\"FieldBindingModule_treenodebox_2kqN\",\"tableitempanels\":\"FieldBindingModule_tableitempanels_1SwG\",\"fold\":\"FieldBindingModule_fold_1ddk\",\"seltableitem\":\"FieldBindingModule_seltableitem_2IO9\",\"nodecontent\":\"FieldBindingModule_nodecontent_3PSb\"});\n\n//# sourceURL=webpack://bos-platform/./src/designer/page/FieldBindingModule.less?");

/***/ }),

/***/ "./src/designer/page/GridDialog.less":
/*!*******************************************!*\
  !*** ./src/designer/page/GridDialog.less ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"dialogRoot\":\"GridDialog_dialogRoot_1ONk\",\"dialog\":\"GridDialog_dialog_3vYY\",\"diag_in\":\"GridDialog_diag_in_1Ssr\",\"title\":\"GridDialog_title_1l2T\",\"text\":\"GridDialog_text_2oAw\",\"icon\":\"GridDialog_icon_19Q7\",\"content\":\"GridDialog_content_23LG\",\"position\":\"GridDialog_position_2_XE\",\"inputCount\":\"GridDialog_inputCount_1t3O\",\"label\":\"GridDialog_label_1gxT\",\"error\":\"GridDialog_error_2CSo\",\"numberInput\":\"GridDialog_numberInput_fz8A\",\"footer\":\"GridDialog_footer_3vhP\",\"button\":\"GridDialog_button_1AQa\"});\n\n//# sourceURL=webpack://bos-platform/./src/designer/page/GridDialog.less?");

/***/ }),

/***/ "./src/designer/page/Guide.less":
/*!**************************************!*\
  !*** ./src/designer/page/Guide.less ***!
  \**************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"guide-container\":\"Guide_guide-container_64Fg\",\"guide-content\":\"Guide_guide-content_2SEN\",\"guide-overlay\":\"Guide_guide-overlay_2ArU\",\"guide-overlay-shape\":\"Guide_guide-overlay-shape_Q6LI\",\"guide-start-page\":\"Guide_guide-start-page_3Lbq\",\"username\":\"Guide_username_2XjC\",\"start-img\":\"Guide_start-img_2Tmk\",\"start-word\":\"Guide_start-word_AYhT\",\"start-footer\":\"Guide_start-footer_3qqX\",\"active-btn\":\"Guide_active-btn_21ND\",\"guide-info\":\"Guide_guide-info_2JTn\",\"header\":\"Guide_header_2Un1\",\"title\":\"Guide_title_3AIP\",\"jump\":\"Guide_jump_1Qqc\",\"main\":\"Guide_main_2Cfc\",\"footer\":\"Guide_footer_1oGI\",\"page\":\"Guide_page_fa6Y\",\"finger\":\"Guide_finger_1WL0\",\"finger-left\":\"Guide_finger-left_24he\",\"finger-top\":\"Guide_finger-top_3im_\",\"finger-bottom\":\"Guide_finger-bottom_1T7r\",\"target-mask\":\"Guide_target-mask_19k8\"});\n\n//# sourceURL=webpack://bos-platform/./src/designer/page/Guide.less?");

/***/ }),

/***/ "./src/designer/page/MobileReceipt.less":
/*!**********************************************!*\
  !*** ./src/designer/page/MobileReceipt.less ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"wrapContainer\":\"MobileReceipt_wrapContainer_1M_Z\",\"wrap\":\"MobileReceipt_wrap__XyU\",\"tip\":\"MobileReceipt_tip_31jc\",\"icon\":\"MobileReceipt_icon_3HCd\",\"text\":\"MobileReceipt_text_fsok\",\"box\":\"MobileReceipt_box_ZqJz\",\"codeHidden\":\"MobileReceipt_codeHidden_2JGh\",\"code\":\"MobileReceipt_code_1ZJ8\",\"clicked\":\"MobileReceipt_clicked_2nPX\"});\n\n//# sourceURL=webpack://bos-platform/./src/designer/page/MobileReceipt.less?");

/***/ }),

/***/ "./src/designer/page/Outline.less":
/*!****************************************!*\
  !*** ./src/designer/page/Outline.less ***!
  \****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"outline\":\"Outline_outline_21A-\",\"showContentC\":\"Outline_showContentC_NYyx\",\"showContent\":\"Outline_showContent_1-Xn\",\"showC\":\"Outline_showC_2TiY\",\"hidden-node\":\"Outline_hidden-node_2bhU\",\"tree-wrapper\":\"Outline_tree-wrapper_2zYW\",\"formula-tree\":\"Outline_formula-tree_2sEm\",\"formula-treenode\":\"Outline_formula-treenode_36zx\",\"search\":\"Outline_search_2hI3\",\"input\":\"Outline_input_1iYK\"});\n\n//# sourceURL=webpack://bos-platform/./src/designer/page/Outline.less?");

/***/ }),

/***/ "./src/designer/page/ParentControlSelectPanel.less":
/*!*********************************************************!*\
  !*** ./src/designer/page/ParentControlSelectPanel.less ***!
  \*********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"root\":\"ParentControlSelectPanel_root_3ZT2\",\"pointer\":\"ParentControlSelectPanel_pointer_278H\",\"newFeature\":\"ParentControlSelectPanel_newFeature_Bu9l\",\"arrow\":\"ParentControlSelectPanel_arrow_25RC\",\"arrowActive\":\"ParentControlSelectPanel_arrowActive_2R6E\",\"active\":\"ParentControlSelectPanel_active_EbsB\",\"crumbToolTips\":\"ParentControlSelectPanel_crumbToolTips_1GaF\",\"crumbScroll\":\"ParentControlSelectPanel_crumbScroll_YVX3\",\"animated\":\"ParentControlSelectPanel_animated_31r-\",\"list\":\"ParentControlSelectPanel_list_3yCE\",\"mobile\":\"ParentControlSelectPanel_mobile_3IiQ\",\"arrowFont\":\"ParentControlSelectPanel_arrowFont_3475\",\"arrowLeft\":\"ParentControlSelectPanel_arrowLeft_1Bq5\",\"arrowRight\":\"ParentControlSelectPanel_arrowRight_39ox\",\"arrowDisabled\":\"ParentControlSelectPanel_arrowDisabled_nsLp\",\"tips-trigger\":\"ParentControlSelectPanel_tips-trigger_zNWg\",\"tool-tips-warp\":\"ParentControlSelectPanel_tool-tips-warp_2LQN\",\"tips-title-wrap\":\"ParentControlSelectPanel_tips-title-wrap_S0h1\",\"tips-title\":\"ParentControlSelectPanel_tips-title_1Wlu\",\"tips-content\":\"ParentControlSelectPanel_tips-content_3f6i\",\"tips-action\":\"ParentControlSelectPanel_tips-action_gqeK\",\"tips-btn\":\"ParentControlSelectPanel_tips-btn_1SwY\",\"rotate180deg\":\"ParentControlSelectPanel_rotate180deg_24gD\"});\n\n//# sourceURL=webpack://bos-platform/./src/designer/page/ParentControlSelectPanel.less?");

/***/ }),

/***/ "./src/designer/page/PropertyViewer.css":
/*!**********************************************!*\
  !*** ./src/designer/page/PropertyViewer.css ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"propertyViewer\":\"PropertyViewer_propertyViewer_sUTr\",\"title\":\"PropertyViewer_title_3hxY\"});\n\n//# sourceURL=webpack://bos-platform/./src/designer/page/PropertyViewer.css?");

/***/ }),

/***/ "./src/designer/page/TempFragment.less":
/*!*********************************************!*\
  !*** ./src/designer/page/TempFragment.less ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"root\":\"TempFragment_root_3pO7\",\"fragmentPanel\":\"TempFragment_fragmentPanel_2Zat\",\"fragmentItem\":\"TempFragment_fragmentItem_2Kki\",\"img\":\"TempFragment_img_1O1x\",\"no-data\":\"TempFragment_no-data_19dL\"});\n\n//# sourceURL=webpack://bos-platform/./src/designer/page/TempFragment.less?");

/***/ }),

/***/ "./src/designer/page/TemplatePanel.less":
/*!**********************************************!*\
  !*** ./src/designer/page/TemplatePanel.less ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"shadebox\":\"TemplatePanel_shadebox_1Cyc\",\"shade\":\"TemplatePanel_shade_buY3\",\"root\":\"TemplatePanel_root_3Vai\",\"noData\":\"TemplatePanel_noData_30gq\",\"content\":\"TemplatePanel_content_3H64\",\"subtitle\":\"TemplatePanel_subtitle_DLY3\",\"templateList\":\"TemplatePanel_templateList_3TM8\",\"anchorbox\":\"TemplatePanel_anchorbox_19qV\",\"anchorf\":\"TemplatePanel_anchorf_1f4i\",\"anchor\":\"TemplatePanel_anchor_1QXV\",\"anchorborder\":\"TemplatePanel_anchorborder_OMAC\",\"templatebox\":\"TemplatePanel_templatebox_37Ov\",\"templateCon\":\"TemplatePanel_templateCon_2J42\",\"templateGroupItem\":\"TemplatePanel_templateGroupItem_3jMp\",\"templateItemContent\":\"TemplatePanel_templateItemContent_2oGu\",\"templateItem\":\"TemplatePanel_templateItem_1j7a\",\"templateName\":\"TemplatePanel_templateName_1vpy\",\"nametip\":\"TemplatePanel_nametip_29Jr\",\"tooltip\":\"TemplatePanel_tooltip_2_XQ\",\"tiptext\":\"TemplatePanel_tiptext_3z7H\",\"templateImg\":\"TemplatePanel_templateImg_31fS\",\"templateImgAct\":\"TemplatePanel_templateImgAct_2URi\"});\n\n//# sourceURL=webpack://bos-platform/./src/designer/page/TemplatePanel.less?");

/***/ }),

/***/ "./src/designer/page/TemplateScheme.less":
/*!***********************************************!*\
  !*** ./src/designer/page/TemplateScheme.less ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"root\":\"TemplateScheme_root_tCVe\",\"btn\":\"TemplateScheme_btn_Tlyz\",\"panel\":\"TemplateScheme_panel_2jH-\",\"warmming\":\"TemplateScheme_warmming_7bWv\",\"icon\":\"TemplateScheme_icon_26IM\",\"text\":\"TemplateScheme_text_2YWF\",\"close\":\"TemplateScheme_close_1IgC\",\"filter\":\"TemplateScheme_filter_2V3N\",\"item\":\"TemplateScheme_item_2uMx\",\"conner\":\"TemplateScheme_conner_xc76\",\"blue-border\":\"TemplateScheme_blue-border_uyn7\",\"list\":\"TemplateScheme_list_2J47\",\"scheme-item\":\"TemplateScheme_scheme-item_36F6\",\"scheme-image\":\"TemplateScheme_scheme-image_ppPp\",\"scheme-smallImage\":\"TemplateScheme_scheme-smallImage_1pid\",\"listWithoutFilterPanel\":\"TemplateScheme_listWithoutFilterPanel_2vmo\",\"mulColums\":\"TemplateScheme_mulColums_1LWC\",\"display-none\":\"TemplateScheme_display-none_2Lrc\",\"noscheme\":\"TemplateScheme_noscheme_1WYC\"});\n\n//# sourceURL=webpack://bos-platform/./src/designer/page/TemplateScheme.less?");

/***/ }),

/***/ "./src/designer/page/UICenter.css":
/*!****************************************!*\
  !*** ./src/designer/page/UICenter.css ***!
  \****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"ui-center\":\"UICenter_ui-center_3Yy-\",\"ui-center-pc\":\"UICenter_ui-center-pc_3rrX\",\"ui-center-mobile\":\"UICenter_ui-center-mobile_iJZ1\"});\n\n//# sourceURL=webpack://bos-platform/./src/designer/page/UICenter.css?");

/***/ }),

/***/ "./src/designer/page/UIDesigner.css":
/*!******************************************!*\
  !*** ./src/designer/page/UIDesigner.css ***!
  \******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"modileDesignerMain\":\"UIDesigner_modileDesignerMain_3h5V\",\"mobileView\":\"UIDesigner_mobileView_ro2h\",\"home\":\"UIDesigner_home_9qcc\",\"top\":\"UIDesigner_top_3NH1\",\"pcDesignerMain\":\"UIDesigner_pcDesignerMain_k4rg\",\"pcView\":\"UIDesigner_pcView_qyc2\"});\n\n//# sourceURL=webpack://bos-platform/./src/designer/page/UIDesigner.css?");

/***/ }),

/***/ "./src/designer/page/UILeft.css":
/*!**************************************!*\
  !*** ./src/designer/page/UILeft.css ***!
  \**************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"root\":\"UILeft_root_3kUX\",\"title\":\"UILeft_title_1wRn\",\"text\":\"UILeft_text_2fTQ\",\"hidden\":\"UILeft_hidden_M_jr\"});\n\n//# sourceURL=webpack://bos-platform/./src/designer/page/UILeft.css?");

/***/ }),

/***/ "./src/designer/page/UIRight.less":
/*!****************************************!*\
  !*** ./src/designer/page/UIRight.less ***!
  \****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"root\":\"UIRight_root_2wDR\"});\n\n//# sourceURL=webpack://bos-platform/./src/designer/page/UIRight.less?");

/***/ }),

/***/ "./src/designer/wizard/Wizard.less":
/*!*****************************************!*\
  !*** ./src/designer/wizard/Wizard.less ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"hidden\":\"Wizard_hidden_Hrc1\"});\n\n//# sourceURL=webpack://bos-platform/./src/designer/wizard/Wizard.less?");

/***/ }),

/***/ "./src/designer/wizard/base/Input.less":
/*!*********************************************!*\
  !*** ./src/designer/wizard/base/Input.less ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"input\":\"Input_input_2Mlv\"});\n\n//# sourceURL=webpack://bos-platform/./src/designer/wizard/base/Input.less?");

/***/ }),

/***/ "./src/designer/wizard/editors/PropertyEditor.less":
/*!*********************************************************!*\
  !*** ./src/designer/wizard/editors/PropertyEditor.less ***!
  \*********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"root\":\"PropertyEditor_root_EstE\",\"title\":\"PropertyEditor_title_atLU\",\"content\":\"PropertyEditor_content_h4Ty\",\"error\":\"PropertyEditor_error_1z1J\",\"hidden\":\"PropertyEditor_hidden_uyP9\"});\n\n//# sourceURL=webpack://bos-platform/./src/designer/wizard/editors/PropertyEditor.less?");

/***/ }),

/***/ "./src/designer/wizard/editors/TextPropertyEditor.less":
/*!*************************************************************!*\
  !*** ./src/designer/wizard/editors/TextPropertyEditor.less ***!
  \*************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"root\":\"TextPropertyEditor_root_1ZQp\",\"title\":\"TextPropertyEditor_title_1ZPJ\",\"content\":\"TextPropertyEditor_content_3n9U\",\"error\":\"TextPropertyEditor_error_ah9z\"});\n\n//# sourceURL=webpack://bos-platform/./src/designer/wizard/editors/TextPropertyEditor.less?");

/***/ }),

/***/ "./src/designer/wizard/pages/EntryWizard/EntryWizard.less":
/*!****************************************************************!*\
  !*** ./src/designer/wizard/pages/EntryWizard/EntryWizard.less ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"root\":\"EntryWizard_root_XUa1\"});\n\n//# sourceURL=webpack://bos-platform/./src/designer/wizard/pages/EntryWizard/EntryWizard.less?");

/***/ }),

/***/ "./src/designer/wizard/pages/EntryWizard/EntryWizard1.less":
/*!*****************************************************************!*\
  !*** ./src/designer/wizard/pages/EntryWizard/EntryWizard1.less ***!
  \*****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"root\":\"EntryWizard1_root_32mJ\",\"item\":\"EntryWizard1_item_30x1\"});\n\n//# sourceURL=webpack://bos-platform/./src/designer/wizard/pages/EntryWizard/EntryWizard1.less?");

/***/ }),

/***/ "./src/designer/wizard/pages/EntryWizard/EntryWizard2.less":
/*!*****************************************************************!*\
  !*** ./src/designer/wizard/pages/EntryWizard/EntryWizard2.less ***!
  \*****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"root\":\"EntryWizard2_root_1bGD\",\"control-panel\":\"EntryWizard2_control-panel_1JFO\",\"item\":\"EntryWizard2_item__eAk\",\"item-hover\":\"EntryWizard2_item-hover_25bu\",\"list-panel\":\"EntryWizard2_list-panel_2UJu\",\"title\":\"EntryWizard2_title_1t8c\",\"select-count\":\"EntryWizard2_select-count_2qle\",\"clear-all\":\"EntryWizard2_clear-all_1zb1\",\"content\":\"EntryWizard2_content_1E2k\",\"delete\":\"EntryWizard2_delete_2Cd6\",\"item-selected\":\"EntryWizard2_item-selected_VFia\",\"prop-panel\":\"EntryWizard2_prop-panel_1QBX\"});\n\n//# sourceURL=webpack://bos-platform/./src/designer/wizard/pages/EntryWizard/EntryWizard2.less?");

/***/ }),

/***/ "./src/page/Overlay.less":
/*!*******************************!*\
  !*** ./src/page/Overlay.less ***!
  \*******************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\"overlay\":\"Overlay_overlay_3L5C\",\"overlay-close\":\"Overlay_overlay-close_25g2\",\"dialog\":\"Overlay_dialog_1F6v\",\"title\":\"Overlay_title_14PV\",\"toolbar\":\"Overlay_toolbar_3Ga8\"});\n\n//# sourceURL=webpack://bos-platform/./src/page/Overlay.less?");

/***/ }),

/***/ "./src/component/web/img/default/filter_s_del.png":
/*!********************************************************!*\
  !*** ./src/component/web/img/default/filter_s_del.png ***!
  \********************************************************/
/***/ (function(module) {

eval("module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUBAMAAAB/pwA+AAAAIVBMVEUAAAC5xN26xNy6xN27xt67xt3ByuXb2/+5xdy5xNz///+8D9VqAAAACXRSTlMA5sfDingdBxZSq0mtAAAAZ0lEQVQI12NAAWzBksJhYBa750wgcAcxm2aCwKQGoKDmTDBQZ2BgmQkBUxgYMmdCQQJD5MyZK8EogMFy5sxZQDhzpgGDJJBcuRJICDAACbDgzAnIogi1yCYgzEXYhuwGhMsQ7kXxBQDh71L1KnH65QAAAABJRU5ErkJggg==\"\n\n//# sourceURL=webpack://bos-platform/./src/component/web/img/default/filter_s_del.png?");

/***/ }),

/***/ "./src/designer/editors/common/picker.png":
/*!************************************************!*\
  !*** ./src/designer/editors/common/picker.png ***!
  \************************************************/
/***/ (function(module) {

eval("module.exports = \"data:image/png;base64,R0lGODlhGQAYAKIEANjY2P////Dw8BseI////wAAAAAAAAAAACH5BAEAAAQALAAAAAAZABgAAANXKLDc/kvBSWO4OOssVyBgKI5i0HxkOpoMqr6s984x4M5kfePlyae6X84n7LWKRhltE+jYcLXJblh50qpWWGMAma4Yg/DDawybHeRQFCJgcrDwijPuECQAADsA\"\n\n//# sourceURL=webpack://bos-platform/./src/designer/editors/common/picker.png?");

/***/ }),

/***/ "./src/designer/icon/entitylistnodata.png":
/*!************************************************!*\
  !*** ./src/designer/icon/entitylistnodata.png ***!
  \************************************************/
/***/ (function(module) {

eval("module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKcAAABjCAMAAADJseB8AAACT1BMVEUAAADz9Pn09vvp6vTz9vvy9vrz9vv09vvy8/jz9frx9Pny9vvy9fnz9vvy9vry9fvz9vvs7/r09/rz9vvz9fvz9vrz9vvy9fry+Pz09fvy9fry9frz9vvz9fvz9vry9fry9vr19v7z9vvz9frz9fry9vrz9fr0///y9fvy9vrx9Prz9vrz9vvz9fry9fvy9vrz9fv09/3z9fvz9/rz9vvy9vsgNGbo7PHf4+guP2nw9PwTJ2uFq/JJfupGeM/g4+gXLGUXMWSyye8AHGYxRG45U5F2kuMvQWosPmeXoLcVLGnuxsQCGngwQWkBHV8rPGUnOmdypvp0gJ36494rPWYJI2Lh4+n/0cWSsu717Ow/f/Vrd5YCHV5FXIpWivIWKVtgaZWAjafMtcQHJH9xfZ3vuLpRguxgn/9Fc8D/yr5pi+Py9frh8P9Xl//e4eb3+v4rPWhUlv/2+Pzg4+jl5+z/zcAnb/Xr7vNQk/8tQW5fnP9nof671PwhbPb5+vrK3vza6fvp7/pxp/4qO2MBHWDn6u/k8v/W5v2pyvx4rP7y9Pn7/v+cw/6Ds/50qf7e6/yvzPza3+eOuv7A1/y20fwobOz/0b41R3LN4f2kxv3n9P+31//2ysL/yLxDbrpupv+JtfwvdPWbvfQ0dPE0SoRmm/g/fPX64NvAw9R8iqoAHnuv0v/C0e706eqUrOq2rdDG2/t8q/lSjfLu1NL90cY+YqLFzNyHk9eioNPTu8jWsMD6ubGIk6xnj+q1uN+Un9u1vcyLoMtWbKmBdZzAorHrjgj6AAAAa3RSTlMAIiwEYVpIPhUm/nE45INPiQoajrYylFQQwKWee3drZn0dsNLYyGoL65lD4qrMu97oRO9R9vMe0E3xOgv+/v7sLhL8p3f+/duQfUT9/czAuV76+cil9/DwsKuAcXBtUeXf3NTSsZHWyb29LhElXzkAAAjASURBVHja7ZuHV9NAGMDTUqAUOgEVBUVBKbigFtQKCA5U3HvvbVuhV1uxw1IcIENAsKKAinvvvdcf5t01NOlOGsS8pz9qaJPzvR/fd9/d5fJKxIBKECNJKmL4yMucDmpio2XmLGLYSG0B+hgBM+cOm6g4t0Ufu6d52ESF0hoOnkfDifLN8+ixDSFFeed59FjIiPLPM3TqeegZMvV89GSXeu6eEj+YerJNPXdPM50zTD1Zp56751EarDyDU89Xz8DU88pTrz5Ooc8VEBT88gR6ippCIUHBL086NdL/nv89/3v+9/xXPY/TOHOcMgAnvQCeeAaDJd2Nri5Ht6PL1eg+CfjpCfRux4Xzdpuprq7OZLOfv+Bw6wHvPIG+/rLdaIIYEfiN/XK9HvDLE7gv25EiBZa1X3YDXnl2NdRhy0DTuoauv+spodEs6bBhy1Cmtg54fZDh9zxGw3zDaKJyXYcwUSeMN8y+lsPveZSis5S0QrZtTd0Oh6O7qQ19Is1LOweb/s35yHzDJ9TQ1GgwnEUYDI1NDT79G2ay6V/0NM8jA2eyt9Yb6NS32skrxnlmf88WjbBkDsEc7p7mRzZS5lzPFYM/V1znyGu2R2a6J3izcO/e+SxEuffPzuekyvV6QzD118mrzzvp/VPyY9mDBw+qh9RNpZPHi0Txcp2AIJKC632ekYwm1gwWhRHFzKPVe8v3Zchz6AIaJ0yekKPWgpYWIFHnZihEgeNns9vrYWpoNISmscHb4JwbjaKk549lP2/dWrisYmgslQVT1MUSiVZbjNBqJVpN4IbXyWdkEbkM4XCRpfTspH6Qlvs/LX19v3aJh0QzMV9drNFo1Go1OmI0+kBa67DFBUN4LuC/pK6VNmu+/2ixWJbuGQrPPNnkYnVhAOqAeIL2ayZczj0RPHtsuM21dmpF0vwKem5MHIrKHl0onTyIVEq+Lwz0dHlj1WaIRJs35i5A/cfH0PNwHHfN9IzJ00MgDeyfTd4iab0SQfNKq7dRk56iub+/f/9QaE7PDUHOdMrzOOY6TqndZYiEy45bXYftvVkAekn/x490zzglhHV8k9Jyc0KSizzp89FqbNBQH9GzHk70ptInT8j5CNR3lz7/8uHG6i1bdhzBI3SBLG2qVDp1QqZOzKqE8nOmhiYnwLPTG6nzhsg0mG6XPunre4k9Qc8Lp3Pg9m37wMCdO2U7CNWkjGI49uGBrzgtfhRzz7FTJ4YhRxvgaTNiz7MRNc+er7t9rw9Wzkvk2XzbaYUMWJ1lN63OA/ET8aBHotFMK2Jc6mkZYZg2NUZPk9FW+mWp5RX0BI+gHQTKQk/rnVzpZD8Kc5OZ9VOlLGNaGNImamPMO7pTemKxvGrWSz47rWVVVZ9vOq0XoefAvNxApmcqmYUzPBna2OoIt1r90mK5Cx7BaN552rf0fRVMPMx/aU4w45h4Zk0Iy5RpWi7j0hnYRR+/fHux7F2fx+OxPC0rdzpvVoUohoyU6JqCMVPCMjpNC7iM83ehaL/lw9uv775Wvfd4+p6+ffdhaUYI8qOPTwmjwzMGenKZNx9jT88TJ869xePp7/dY1qYFM60gquek0WPCkj9BC7isQ2BAIXc7rBCntWqpB31cO2VCEGmycKUkTikaOTJBp8rLHpMflhFTigGndV2zBdW8y4pxlj1Fnhs3h0qdIPSyXZSdOgJ6pMqyUkeEJ3V0MeC2Tr6LSr59gBS9uQeJbg6VuqK4uKAJf7xIkcoIxZhiEPt9h3dB97hZ775jJdm0dqNlbciQZMVnKxRZI5Noqjp4hhky6MnyPq598D7OQWXCDWdOzMAmRf5mBSTV7wVBgUMHhUhFkBTISLLRC/6L8MrXAHb3xe0XyKtttJWrpPQiySZZNBTJZE8VZmZnZmZmZ+MjDeoM9TFrhAaw2mfoGdxnsPcAmuf9EyT7MqMim4RXUKqxWcxJTtUAFvs27b59G1sXvf7OXKolWZ4cnawE1EcTklkwVqEBLPbBzvv2wdoMAK3iSTprB1k0buykqIwTw1IfN5YF42QawGRfscvR20HfVzz3sLdd0tgOBjeXfJ6zl4gYkE4QiZPGsUCUrQHs92lNbQ97ex+22ewdpOc9mmc8AwoIpVzEhvhMDWC/7325t7e36RoydwDs+Y3mOWOG3PsDgb8g8qAzRYR4ZDwbRmapAfvnCKC99yG5DOgG/vG8tCSBAYnQkxXyZDWI5blMI9LE3bcD90+aZyIDUgjVDDkbEsaqQQzPuQBapZKi3cAbz1OnvJ7pKdEREip5AhsKJqlBDM8NAZqUKFGv587ZyHOrkAHQM6HAS1FRke9InsFQlxCJIjWI5Tmsy0YTbfL2z+VeT0FSdASEuCCRDbqwnpGfa4NuI03Uget95SJ4OLFVNT46KkKcqEuJiE5Hb5Aejz3ZAzpoorbvyHPdSuS5fZSYAcSolHQ2CEcWAn1MAAdtgC1HhosXY09lHkKJfxDke/8zxCghK5Lk6hp9rKJGk5/nggXouIqIYwCRJ0xig0BeiDy5pr4cG1Z7PRmRJ2CFKgF7ckk95VmBo8rMUwmLCYGqznekzgQiLsCeHFOPPS9tL2HjqRKL4YtEFXSkPuHDqEQp8uSa+qvIsHzLbOaecaNYoUzBnlxT/7oWUm48gaqeoWee0gcaAKIQl449uab+Ksp7mfEWC092kM9hOaYeeZ669cK48BTy/BNw9sSpH/R8jTzxPgIPPaEo3XMdfmTMR089eIg9YTflt6e+5j70XIg9a3nt+cnrWQ49V1YSEH56AuxpMx6q5bcnjufrgzuq0aqez573oeAuHVGBPEsICI8916QTFXCCX8RzzxO7Q3jy43umlOcaOL3vVhEli+DGjb8nH7636++5j4CeJwI9+fA9aB8t0LMWLjwrV85GdfSHUAk4krRg/enT67cRBFG98/SKEoKfVKyafxoxH77fhn7PIfhI5YrTmPXYc8WKFfMrCV5SUV1dUVFSUoL05lRWzmEUzt8BsQDzYJUBCQAAAABJRU5ErkJggg==\"\n\n//# sourceURL=webpack://bos-platform/./src/designer/icon/entitylistnodata.png?");

/***/ }),

/***/ "./src/designer/icon/fastlayout/1.jpg":
/*!********************************************!*\
  !*** ./src/designer/icon/fastlayout/1.jpg ***!
  \********************************************/
/***/ (function(module) {

eval("module.exports = \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAYEBAUEBAYFBQUGBgYHCQ4JCQgICRINDQoOFRIWFhUSFBQXGiEcFxgfGRQUHScdHyIjJSUlFhwpLCgkKyEkJST/2wBDAQYGBgkICREJCREkGBQYJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCT/wgARCABQAFADAREAAhEBAxEB/8QAHAAAAgIDAQEAAAAAAAAAAAAAAAUDBgQHCAEC/8QAGwEBAAIDAQEAAAAAAAAAAAAAAAEFAgQGBwP/2gAMAwEAAhADEAAAAN20dVl6lOzsrV9a3AB4LxiRGq6nPI161hYWTmztrD86eeIhFQ7Ijl6y9xx/rtgHQVb41bPlULxUWUjOUO931FvoeG0uLv8AdlBS5sfJWKC1kZx765yaboOa8T0P5Z2e1uWuvtmoExcCM5pvfNsDa5APvGZcNjpznvbVMZJS6kZpiy5f4+3N+J9RJj9tz1PoqRKQvJGKp3nMaIAAUorxtYjFU7zmNEAAFYlLcRmJOeXGAAAAARH/xABDEAABAgMDBwYIDQUAAAAAAAADAQIABAUGERIHEBMhMVOSNFJhcpGxFhciNkFRdLMUICM1QlRVgZOistHSCDJkcaH/2gAIAQEAAT8AplZn5ySYU0y5VxPbq8nY9U9H+o+HTX1kvEsUGcMYzxFI4iYcSKq7NcXRdF0KmqKBOvqVDp88bDpZmWEV+HUmJzUVbvvWLomGosuW/mL3RJV+lUyUbLzU+BhcZL2Xqqt+Udtu2R4YUL7SF2O/aKNbezcoV5TVcTb24UTC79o8ZNk/tkXA/wDaATApkLDhe0gnojmubrRUXYqZpomhlTP5g3O7EixTsVkaP7GJOxqZpjk5eovdFTS6qz3tJf1rnXZGS97yWGpmN2LURv3IRyJmrxNDQqiTmSpXdjFjJwbT2IpK+oSs4XKmY/Jy9Re6LWV0Ia7OBlpPAojEYRziKukdjd5SJ6PQl0eED9wziWPCAn1dnEsZNLGUi3tFfOlPPSxwGUJhsc1Wu1IqK1VSKVTZekSAZGVbgABqMYnRmtR5s1jokj+7WMlnmJTOhCe8dmPycvUXui2UscNqKorwkbjmiuaqtXykxrrTojA/mO7Iwu5ruyP6eZM8pZSdMcTxMPN4hY/ptRqIqxjbzs1rvNWs+wn926MlD8dhpHocVPzuzH5OXqL3RXTlNWZ9pCPegpkzGI5b0a3SO1J6k1rmuhDlRLkK+7rLEvUZuTmBzAJgoyDXE1yOXUsAcrwjeu1zUVeyLauw2RrK/wCGX9KxkgW+xIOgxU/NmPycvUXug2TCrVqYmqjIzEnojzUwuErnNVqoVyXakW+PE3aTfU38V38Y8Tdpd9TfxXfxjxN2k31N/Fd/GJbIxXHnYkzNSIw3pjcx7nLd0JhTvgbEGNrE2NREi3eqxtY9lfGRt99jGt5kwRO5cx+Tl6i90WV+a3e1TPvyfGyoVtaVZ48uSXeQM8NwEMz6BNqI5PUqRkYrj1lS0QcqR+Er5kp9jBsVrUanS5VzH5OXqL3RZX5rf7XNe/J8a0dEDaGizdMNc1p2XNftwOTW113QqJGTeyb7LULDNMRs9Mu0huhNjW/cmY/Jy9Re6JAUpIgUQCMwOI8utyLre5XL/wBcsacO+HxJGnDvh8SRpw74fEkacO+HxJGnDvh8SRpw74fEkacO+HxJGnDvh8SQc4fg5flR/wBi/ST1R//EACkRAAEDAgQFBAMAAAAAAAAAAAEAAgMEEQUUICEGExZRUhIxMpEVMFD/2gAIAQIBAT8Aq6mQSloOwWam8lh9Q95LXG/6KjD55JC9jbgr8XU+KoMPmjJc8Lkv7Ii2x1Q/AaJ/mdWCcOsqaRssjzv2XSlP5ldKU/mVjdK7Dqjlg3BFwnOLjc6uGpWOw6MAjb3+yvW3uuY3uuL5mS1gDDewsfs66PaIWVyrlWTmgggjVT1jWMDXD2WfjWfjWfjTsQZbYfxP/8QAMhEAAQIDAwkHBQEAAAAAAAAAAQIDAAQFBhESFiAwMVFScqGyFyEzU4KR0RAUNEGxgf/aAAgBAwEBPwCuurYnVtNG5Iu/gMfeP7ximTLjhKVm/QVezdQnJxb8u0VJN3f6RtjIus+QfcfMU6ydVZUVLZPL5g2eqIHhHlCklJKVC4jOkfx2+EfwZleAFQdu251St9O0yZMq0gFKQnXwiO1SoeWnnHapUPLTzinW/nJprHgSD/vzD7633C64byc61aSKkskawnpT9aCnCwb/ANmMQ251t1qVV3ATqCOhMYjGIxjVthh9xtYWlXeDCTeAc21Vmn5qoqfaULlBGvgTGR83vCMj5veEZHze8IZshM4xjULoAuF2bUvH9KOkaKpeMOFHSNE66pxWJWu4D2Fw5DRf/9k=\"\n\n//# sourceURL=webpack://bos-platform/./src/designer/icon/fastlayout/1.jpg?");

/***/ }),

/***/ "./src/designer/icon/fastlayout/10.jpg":
/*!*********************************************!*\
  !*** ./src/designer/icon/fastlayout/10.jpg ***!
  \*********************************************/
/***/ (function(module) {

eval("module.exports = \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAYEBQUFBAYFBQUHBgYHCQ8KCQgICRMNDgsPFhMXFxYTFRUYGyMeGBohGhUVHikfISQlJygnGB0rLismLiMmJyb/2wBDAQYHBwkICRIKChImGRUZJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJib/wgARCABQAFADAREAAhEBAxEB/8QAHAAAAgIDAQEAAAAAAAAAAAAAAAcDBQIEBggB/8QAGwEBAAEFAQAAAAAAAAAAAAAAAAQBAgMFBgf/2gAMAwEAAhADEAAAAPVIABrVyYm3TGFabhMAEVttZGwYLriVmzrXmjoSQAKyFr+V0HPx0r23TdNt55PIHVkgGrW5LSvQ6yFHxrW9m3uuH59wZ3BIBoXZvMW19uxX4UbdIvqbVeJLkYRIAHm30vjlj1uq+48zj4ncPzgeoWIySUCgza1DdrxHHbyF8skMDnZb15Ht1/jmNEkAVWz4VVbTgflsjG2Xnk1jn03ptHB6ttEoFZfFpc2rhZNNIsUO3wbdG253+bQABArXVkXFIwVhun//xABEEAABAwIBBgcLCQkAAAAAAAABAgMEAAURBhAhMXKxBxITNFFSYQgUFSAnM3FzkbLSFyIyNTZVYnSUQUJFgYOSo7PC/9oACAEBAAE/AMBWGbCp3M5HqlbjVq+rYnqUe6KwzQp/fN0uMHkwnvItjjdbjJ41SUpVGdSoAgoOIPo8R55DKCtZwSNZqZdYSoj6Q6cS2ofRPRVpukLwbDBdIPII1pPVFNqC0BQ1HVmsTmOWeVDXU70PtbNP82d2Du8S/cwVtCn/ADD2yd1W3TbonqUbhVs5gxsDNYF+UPKtv8EQ+xun+bO7B3Z50gRoT8kgkMtqWQOwY1N4T75I46BBgBk6gpKyf5njDdTmXN2U2oGND/sV8VRcuLqzHZaTGhqCEJSMUL0gDaq1cKN0RKYanQ4giBQSvkUKCkp6Rio6qFWB3ysZStdaO0r2JbFP82d2Duz3ltTtonMt6VuMLSkdJKTTjEhlxTTrDja0nBSVJIINKQ5gfmK1dFNoXyafmHVUCBMuE1mJFjrcdcUEpASdfb0ChWTx8sV//LDc1T/Nndg7s5AIwNd0DKfXlo3DLpLDUVBS1+6CSaFOedXtGu5zmyjc7rblvFcUMJdCOqoKzWBfllvPayoewIqRzd3YO7PlLlJAycituzitRcJCG2xipWGvDVXCfIg5VXxu7W5Ulk8iGltvoA1Y4EEKNGyPDTyyNHYa8DPrxWHWwFYka64Krlacjn5s2eJUiTJQGkhhtPFSAcTpKhiSasF4h3u3pnQVEtKJBChgpJGsEdNWJflpuQ6Uue6mn+bO7B3Z+HH+E/1f+cytR9FMeZRsitFcCv2Zl9sxXuIq1OYcN7467rqf8RNPkGM6R1Duz3qz268xgxcoyZCEnFIJIIPSCNIr5Pckfus/qHfiqRwf5JIYdULXqQTzhz4qyeyFyWk2C2yX7aVOuxGlrPLuDElAJOhVfJ5kj91n9Q58VIslubs7lpjMhiKtJAS3oKT1gdeIOnHXjUa13xeXfgtUp4XLly25JQo8bi4aV46/oaabYbiW0RmRg2y1xEjsAwoHHxJnNH/Vq3Vkj9k7L+QY/wBac6bRCF8Ve+SAmqYDBV+HHH2/sx6KkkJjPFRAAQcSfRX/xAArEQABBAAEAwkAAwAAAAAAAAABAAIDEQQUICEFElEGEBUwMTIzQXETQpH/2gAIAQIBAT8A0DyXODRZQxkN1azkN1zIG9xrx3wlN9Qne4rD/E381AWaT8JHI3lcvCIBvZXhMB3srLNa2m/WpvqChv6ItNJoNJxob6+ysLMoZK3JO/8AikaOQ7fSwzR/Cz8C7XQsDY5ANzY1RROlNNXBeIZCEwyixd7J/H4S0jlKg47C2JrS07ALjeLdxHkbGKDeqkjdG7ldpwH9u4pntHdjfePzSyRzDbSs1L1Wal6oYiUCrWal6pzi427zf//EADMRAAECAwMKBAYDAAAAAAAAAAECAwAEEQUgsQYSEyExMzRBcdEWMlGBEFNykaHBMEJh/9oACAEDAQE/ALjW8T1EPb1XU/wKUEip2QzPMF1ICuYxiYnZfTKGdzPr6wDUVF+0OHPtjErvkdRjE3xC+pxiV3Kel5tBcWEDmaR4Ok1t5jq1H7dobyEs1CwoKVUGu0dodyFs1xZWVL1mu0dofyTlkMEsqNQNVaU1e16WUEPIUdgIxhMw0oZwUKdYDzdfMPvBcRWlRE1MstsLUpQpQ879sur0+ZXUBEutWmRr5jGLQWoTbor/AGOMWG6sqWgnVenrRZkEBTvPYBFoWvLTLmkQD7gd4lp1rTI27RjFozjQnHRr8ysYs62ZWVzlKCiT/g7xJzjU40HWtl3K3Y17/qKRL75HUYxavHPfUrH4ZL8GfqP6uzUoxNIzHk1EeH7O+X+T3hqwLPC0kN8/U94nrCs9c04pTesqPM+vWPD9nfL/ACe8MS7UugNtCgF9HnETnEufUcbv/9k=\"\n\n//# sourceURL=webpack://bos-platform/./src/designer/icon/fastlayout/10.jpg?");

/***/ }),

/***/ "./src/designer/icon/fastlayout/11.jpg":
/*!*********************************************!*\
  !*** ./src/designer/icon/fastlayout/11.jpg ***!
  \*********************************************/
/***/ (function(module) {

eval("module.exports = \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAYEBAUEBAYFBQUGBgYHCQ4JCQgICRINDQoOFRIWFhUSFBQXGiEcFxgfGRQUHScdHyIjJSUlFhwpLCgkKyEkJST/2wBDAQYGBgkICREJCREkGBQYJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCT/wgARCABQAFADAREAAhEBAxEB/8QAHAAAAQUBAQEAAAAAAAAAAAAABgADBAUHCAIB/8QAGwEAAgIDAQAAAAAAAAAAAAAAAAUDBgEEBwL/2gAMAwEAAhADEAAAANor6qfAm9uXpfvMa02MeRclk61c+4jLWV5OmvQMnTEiFfFdOTPZ37WNdhSWiOxK7fWQmrW1HDO+cns+9+pM/IK59nsesreN1iW1QJFxL5n1JnR0HIXQWUFgv9rcarXrAUolVzrMqHOoWgRTrEHFPZqewxRPKGG/0ew3lXsRgZGiAxBAg5bsHMWJq63Czei2H5dfpVB2MaxCZAgQcntKlCkRFUe3O8zWcmvsinpA6QGAIEHEIybFuwBrAX5L4PdGa5UCBBmQxli6lDWwjZkaJc5zpm+M32PSCk9b1350UCCLn2ySWGIECDyH/8QAQBAAAQMDAgIDCwoFBQAAAAAAAQIDBAAFEQYhEjEHE0EQFCAiIzVxc6GxshYyUlNVYXSBktEXQlGCkzRUkZTh/9oACAEBAAE/ALBcZRsNuAfUgJjNgAHH8orv6V9e9+o1orUT18duTbiCBCkrjA8fFxcON+Qxz5b9zUACrDcQQCDGd+E1M1tcWA0p64SQVpBCGSdkgbnA7BSdRXVYCk3OUpJHY4cEV8oLt9pS/wDIa0Beps+TIiyn1vpQ3xpKzk8wKKQoEEZB2INW/UFptdqgR5U9lDpjNqKRlRTlI54Gxr5aWD7RR+hX7V0eawsFpaub064oZXJmvOhPAo5BUMHYUjpL0otQQLu3+aFj2kVdnUP2Ga40sKQuM4UqByCOE7irPBcntOT3G+JMhPVtgnk2NvyzuasbLyoPUHxlxnFMK7Pmnb2YqLaZsx0NMM8bh5J4gCfbWg9Pz7XIkSJjPUhSOBKScnmDnuI/rnPcDiX0pcTnKioq9JUT7sUeVT7s9D6I7bDYJMy5tiG0B9Ek8R9AQCKhNoahsIbSEoS2kADsGKtHkrrd2OwOodH96f3BqxbXmF65Pvody8agjCUluBE6tLbaULLiyeNwDClAdgz2b0jUD4Wk9S1sfv8A3p+8uMOFptpCgkDc5znG9dHOhrLruwC5rfnxnW3Sy80Ckp4gAcg45EEU/bmpWpX4DAxA0za1JbSPrnUHGf7BULQ8F+FGdD76AtpB4RggZSKRpKM10hOW7vh0NvWxL+dslSXCKt2jolvlokh55xTZykKxgGhy7lzivxZrqXmVtlR4wFJxlJ3BH3Eb0yCHUZTtkVcEkTF4HMA+wV0EZtGgJk6cCwx3y6/xr+rShOVVouK6NGXG7SkFEq8F+cvPPhUDwD9IBFWjzXC9Q38Iq6nvbpQsbn+6gSGP0kL8B6W/ODZkLU51aA2gK5JSBgAf0pQASdhyqN4zDZUATjFPvOFvqetWAvxMZOw7fZmmrhLiHrI77rSkpIHCojAxy9FWjzTB/Dt/CK1j5DWGjpf0ZT7H+RvHgXS5W21vNstzO+VFpK1htJ8mojJQTyJH3e/avlDCX4o63J2+b/7Wj9JzdWR3U2yREU7G4Q604spUgKGQeW4NQujy93G8zrewYpctwSHldYeAKWMgA43OB+VHoiv6ELXJdhttIQSpSVlRwBnYYqzeZ4H4dv4RWv8AaTph76F5ZH/IUPAm/wCtf9Yr302cOJO2xHPlXQjPatF21LcXz5GNAS6uujm3vRtPC4TMd+3Z1U9/0r3SPyTirpvbpXqV/Casnma3/h2/hFa+b42bGfoXiMfaR4Fo6I9IahsttuU62kyXorZcU08pAWeEbkA4r+A+hfs+T/2nKidHtyYuUzTqLeGrNJnCU9PLmS7GTuhjGc54qSkJHCkAAbACrj5uleqX7jVj8yQPwzXwiumHT1+dMe7Webc1I6xtC4jL7mEOZwhxKQcA5wK0dZptjsTEa4z5U6afHedfdU4Qo/ygqJ2HLu6PbWzpe1tuoUhaYrYUlQwQcciPAngmFIAGSWlAAeg1ZEqRZoKVpwtMdsEdoPCPAUpKElSiAkDJJOwr/8QALhEAAgEDAQUFCQEAAAAAAAAAAQIDAAQREAUGEiEyEyAxQVIUFSIwUXGBkbGh/9oACAECAQE/ALi6l7QgHFe1S+o1as/SxzkA/vVWuZ2YoaNzOpwWNe0zeo1s64eQlXOdJdnXDuWRcg17rufRUNq/FxY8gK7F/pRq6V14Y4/Ac/zV5Axk4lHI86W1kY4ArZ9u8RLOMZ0j6BpB0aTdZpzliak5opqLrGuyd21ltUllc5Izypt1YAp+M/5Wxt3YrmzSZ2IJz/TW2bdtn3HY5yMZH2okk5NG2UnNGAFeGkt1U512JMj2MRU+Qqcjs2+xrdth7ti/P9Nb3yq98ApzhQD+z37X4Ihw8qZ2wedWjEQqAauua8I8SaeJeAjHl3ob1FQK3lRvoyKhvI0QKaN0jShz4Cmvo+EgfKHyhoDkYFE51PcHe//EADoRAAECBAMFBQQIBwAAAAAAAAECAwAEBREGIbEQEjFBcRMgMzRRFWFyoQcUFiJSU5HBFyMkQoHR4f/aAAgBAwEBPwDEE477SfCVWAUdY+tvfiMSSliyVqvcA9L7JMkTDZH4hrBXWanOPmXcslKiONhxyA98O1mptrLa3VAjIiPbtQ/OVGDKtNTS3GX1bwAuL8dlWwzUpqeeeYaKklRzy9ffH2NrP5B+USdAnnT2jbZIA3eXEcYNAqAF+yMS/wBx9G9lZQ1it4eqrhbbprRLaSV3uBdRN78eUV3B9Tm51b0oySlVr8MjbMGHcE1ppO8tggdR/uMIUWakluOzCd24sBsGzC7ZEgCeZVrb9tlYa36k42OarQloNDs08BlEmd2YeR7wf1ET/ll9NtV+kWdkZx2VQhKglRFze8fxTnzkWk59YGP5ymf0bTaSlPM3vnn6+piQx/NzTO/2aQeHOG3lvTaXXDclQPzh2tOocUmwNidYTVXEvF4AXItExVnnkFsgAHbidBTVZi4/uOsNj746xWPNr/xoIoCSmX6mJU/z0dRrE14y+p17uMZh1ytTO8rgsj5wwtXaJz5iK+tXtB3Pn+wigKV26phxR3W0lXHj6CKZPPmfac3zcrHP1Iia8dfU693FWF5l6rTDrRFlKJzhvCc6lYUSMj6/8iq4am5maW+3axPrDeH5pqnrYTbfWRfPkOA/WKZhSbRNtKWQAFA8feIm/HX1OvdrHnXfiPcl/FT1GsTnjudTr3av5134jr3JfxU9RrE75hz4jrBGdzCRYbaooKnHVJNwVHuNGziSfURNkF9ZHC517v8A/9k=\"\n\n//# sourceURL=webpack://bos-platform/./src/designer/icon/fastlayout/11.jpg?");

/***/ }),

/***/ "./src/designer/icon/fastlayout/12.jpg":
/*!*********************************************!*\
  !*** ./src/designer/icon/fastlayout/12.jpg ***!
  \*********************************************/
/***/ (function(module) {

eval("module.exports = \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAYEBAUEBAYFBQUGBgYHCQ4JCQgICRINDQoOFRIWFhUSFBQXGiEcFxgfGRQUHScdHyIjJSUlFhwpLCgkKyEkJST/2wBDAQYGBgkICREJCREkGBQYJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCT/wgARCABQAFADAREAAhEBAxEB/8QAHAABAAEFAQEAAAAAAAAAAAAAAAYBAwQFBwII/8QAGwEBAAEFAQAAAAAAAAAAAAAAAAYBAgMEBQf/2gAMAwEAAhADEAAAAOyR7l0tpFe36BEex6FcpgtVY/Yg2lmPllu+3rUKkGdBIrrMlmk6csjXQmGTTPr8fa8dCH6uRefbzWy9i521ymnkni7GAxb0RjvtdSQH1qVPn3W8JwqauFuSKSZpVLbJFqsXSsG5OnA+fY54pj3Zs/TjXUpB6/Kd2VgADX0xRW3Hapjy8m56VqVMsit9nT7LwAAAI7dbIrbgAAAAAAAAAAAAAAP/xABDEAACAQIEAgQFDw0AAAAAAAABAgMEBQAGESESMQcTUWEWMkGBwQgQFCAiNFJVcXKTlKHR8BUYMFBTVFZzkaKy0uH/2gAIAQEAAT8Aa1qXJFddFBOyiul0H92PyUP3+6fXZf8AbGeaurskNIlFX3GNpWYs5q5WOg023bTHhHfPjm4/WH+/D3rMMfj3O6L86aQenBzHefLea/6w/wB+K/N17p6B1guFdJO7qFk6+QmMaEnQBtN9uYOJc55qhIWW8XJCRqA8rDbHhxmX47r/AKZsdCmucbdczep62qlppUCP7MmXVWB2IVwDjMiWSa5SJVX+rp5IxwGOlqSq9u4AO++DSZUPj36vfvaqk+7GabXZPYsM9quHXSo5Do87s+nkI129OHplcaMgJ7S5PpxQ2+eqqEpqWngkmc6IjKmrHsHFiuako6uWCpeBJo3KuikEKRzHudsO1KbXPVUtxoI6iNlCwSAM0q78XDqCBpsd9Nd9MU0lwqxM8RhYIurksibdgGo1+QYpMi5lvlsNVS2WonDH3EqLoG5a6Enf5RtjoPyddsqWq4m8QGllqpUKREgsFUYlJMrknUljqT7TrGiPWIxR0OqsDpoe3XCWyQqXmdYl56k/gY6yggA4Y2mcbksdvx5jz546PaxqvPdjheOLqWq0BQgEEa4ChRoAAByA9a7Wa31FyqJaMzQws5KoWB07dNuWGsMCgs0795OmGhoi5jp5KmrkG2kKggHvbkP64yt0YXPMkRqpquGgpdSP20uo7tlGKDoTtNPVRz1NZPWKm/VyoNH7j/wDFf6nO1VdZNPFe66JHJIR0DkecnU4/Npt38QVf0C4yj0F2rKt7gu5uVVWzU+8SOioA3r3qrltkvU9WomeUxjrTwqh8vEcJaROeO4TtVt4wTxYwe5Rz8+I40hQJGqoq8guwGOj2N48vAuCOKV2Ht66x2y5K6VlBTVCuNGEkQbXFR0R2IOXt89wt3YkE5KDzNrgZFzHRe88w0FUg5JW2uMnzuu5xGvSHRIFRMs1KDyDrYzjwkztT7T5KScfDprlH/iw1x4c3eL3xki+L/L4JB9hwOkXgOkuVM0p8lBxD7DiHPVHL41pzDD8+1zehTjJ/TBFc7s9nu8Binedo6eeNDo++iq6c1b9FlzJFoyzNNU0sPHWVDs71EmhfckkL8Edw/UH/8QAMxEAAQMCAwUFBgcAAAAAAAAAAQIDEQAEBRIhBhMgMVEUInGR8BYjU2Gh0TAyQVBSgbH/2gAIAQIBAT8AVfuzzrt73WsJcVcBW8/StwjpW5b9Gty16NYJhtrcvkPnugTzifrSNmcLWJQiR8lH717LYb8P6q+9bTYaxYOthgQFA6STy8aRY3aAQhsEdYrs198IeQqwtXyDv0x0rsielKtkJEkV7msNXhwey3iZSRz10P8AWtFrZzmDHgV1h+LW7F8EsOqDIBnOZB6ZRzGtbU4mxevI3BkJB18aHLgcICDPEdo3E90IBihtI6TAbFJxh+MziAkfM0nEy8mWzp660XZGok9TxMW2dSs+gHnSrvJKWU5f9pS1LMqMmsPBDInjyjnGtFtCvzCa3KP4jyoCOEgTp+EVT+wf/8QAOhEAAQIEAQYLBQkAAAAAAAAAAQIDAAQFEQYSICExQZETFBUWUVJTYXGS0SKBorHSMEJQYoKDk6Hh/9oACAEDAQE/ADiec2BHkR6RzonehHkR6RgeZNULxm0pORa3sJGu/QI5Mk+yTuEcXpvVR8McXpvVR8MY5nRT5ZtynBOUpVjZKVaLX2gwcXVUGyikfto+mOeNT6yf42/pij4inZlC+FKdH5Ebf0w5U2ZRamSUk38Y5wtdZO6MM4goxK01R0AHVa48b2gVnBnbg+9cM1TBzywht1JJ71wleHQLAJ/uMXOSpZQKQAFg3Nhstq0wHKttF/cmJqSdcl7uIBXsyRvvFGk3JdCuEFiYdJKyTmSDa1vIDYJNxq8c6fnmlzCywiyb7T/kImFuKCUIuTsEMUSZKA7N5LSDtUbHdrv3G0Uah0yYb4dslwXtp0DR3aDvhMgUqAbVkIH3UgC/idfyzqXReNTDomLhLdyQBdR7gIexCZcKZprQZGq+tZ8SYfmHH1lx1RUo7SbmMGoKKYm4tck54ZQF8IEjK6bad8OyjDpu6gKPeAfnHJsn2KfKPSEpAFkiwzQo20/ZBNvwD//Z\"\n\n//# sourceURL=webpack://bos-platform/./src/designer/icon/fastlayout/12.jpg?");

/***/ }),

/***/ "./src/designer/icon/fastlayout/2.jpg":
/*!********************************************!*\
  !*** ./src/designer/icon/fastlayout/2.jpg ***!
  \********************************************/
/***/ (function(module) {

eval("module.exports = \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAYEBQUFBAYFBQUHBgYHCQ8KCQgICRMNDgsPFhMXFxYTFRUYGyMeGBohGhUVHikfISQlJygnGB0rLismLiMmJyb/2wBDAQYHBwkICRIKChImGRUZJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJib/wgARCABQAFADAREAAhEBAxEB/8QAHAAAAgIDAQEAAAAAAAAAAAAAAAYDBwIEBQgB/8QAGwEBAAIDAQEAAAAAAAAAAAAAAAQFAQIGAwf/2gAMAwEAAhADEAAAAPVIAaEaIoUdNNjzbeg6DY9pHHOsSgYiXrZK9PWSNWm6tWxWrwxEgHP29/MNr91x1z9Dbx9SVPwlexhoJAIjzb2kxJvIwzYnOyL+5GGqDkSAYsecPpPHVj1VaY3t3jbW9Pn/AFaay+EgFYWPGVNa/O8dZo9ctq22ab6bsQuqsMkATZVAjTeVjxIje2xtAca/sebHubIJAADXztqYkdNFRxDLuJgADXzvqYkdNEUCvy6z4fQAhbaOZHUxF+HMOgf/xABGEAABAgMCCQcGCgsAAAAAAAABAgMABAUGEQcSEyExNFFysRAiMnGRkrIjQVNic3QIFBUgNlJUYdHSFyQlJjM1QoGhoqP/2gAIAQEAAT8A5au6pmSWtBuVeADFUmppNOmlJmnQQ0oghZBBuMSs1NfF2VZd0nEB6ZPminLLkk04rpKF5hw3NrOwExYuZenLLU2ZmHVOvOMgrWrOVHaYmBew7unhyrUEJKjoAvMVe21lnWHJYVdGPtDS1J7QLon7U0JyRmGxUAVFpQAya9N3VEraqgpl2UKqABCEg+SXs6opFtLMrEvItVVKnjchILa0gnrIAh8/qrp9Qn/EYNjjWJpW4odi1CH9Xd3Dw5a5/JagQdEs54TA0QvoK6ob6A6ozhQINxEPG6muexPhjBWvHsLTfVyg/wCiof1d3cPDleaQ60ttYxkrSUkbQYwsS9OsvX0UylMOkraDyy65elIUSAlI09pgVh9XNLLefN5/xg1eYTmDTebN5/xjA7J0u01UmGKmw5l5RIfQEr8msaLlC6+KjzabM/cyrwmMD7mPYpgfUecTD+ru7h4cq1BOckAR8IGVfFsmZsIJYdlEJS56ySqEpXeOaYWFY6uadJj4Oks+it1SeW0USwlg1jnQVFQMVVQNJnSCNXWf9TGBRd9k3xsnF+FMP6u7uHhy4app9qUpss26pLTyllaUnTdi3RjKIuJJH3mF9E9RhsDJp6hAUoC4EiMG80+9YSspeWVhgOpRjHopyd/EmMCCv3dnvez4Ew/q7u4eHLhBsq9aWVlRKvoZfllKKce+5QOkQMFtf+1yHfV+WHsGNeQ0tZm5HMkk89X5YkMG1dmZCXmUTciEOtJWAVq0EX/Vj9Ftf+1SHfV+WKLZ92zViKxLvvJdedYedWUdEHJkXCMBiv2RUkbH0ntTD+ru7h4fNnNTf9mrgYs59HqZ7o14ByW9tQ1SGZulTsm8lE7JuBiZRcpJUUkEEea4kbYwa2oaoDE3JiTdm5ydebTLtIIAJzjOTo7Icxviq8YAKxDeBovu+bN6o9uK4RZv6OUz3RrwDkwm0L5asy8Wk3zUn5Zrabhzk/3EYHKIZ2uuVR5F7EiOZ7Q6OwXmH9Xd3DwgPMkfxUd4RlWfTI7wjKs+mR3hGVZ9MjvCJl1oyzoDqCSg6FDZFnFoRZ6mNuKCFplGgUqNxBxBmIjKs+mR3hBdYIuLrZG8IoNMplElnZaQLbaHXlOq5w0qOjqAuAh95nIOeVR0D/UNkf/EACsRAAIBAgQDCAMBAAAAAAAAAAECAwAEBREhMQYgURASExQiQbHRMDJQof/aAAgBAgEBPwDtuXMcRZd6SaQuPUaaeUMfUagYvGGPPPaySxlQKXDblSCV+KOG3JOYX/ajt3jjCkbcy/sOxtjS7D8GCYUt/CZZWyGeWlTcO2yRswZtAen1UPDts8SsWOoHT6rHMNGHqrxNmG0135+FZkFoyE6g7VcOphfX2PxVtIvgJr7D4riyaNo441OZzJ5rFQSSaGm1MT3TSE9wUdd6u1AcZctvOIicxvXnY+ho3kZGWRpbyMKBka87F0NTy+K2Y/g//8QANBEAAgADBAcFBwUAAAAAAAAAAQIAAwQFBhExICFBUXFysRIyNGHRBxATFjBSoRQVM7LB/9oACAEDAQE/APfVzGlySy5xRTpj1UpWYkFl6iKifNSe4DHUT1incvKVjnhpzru2lUSCFl5+Y9YpLp2xLqZbtK1BgcxsI84n3Sth57sJWok7Rv4wLAtClkAvL1KNeXrpU38ycR19wzg5w/cPCGzOiCVOIziuv1aNGRKVVJwzIP8AhEU3tCtObPRCiYEgZHaeMVftBtOTPdAiYAkZHYeMUd9rQr1eUwVThmB6k6ROEW0p+OG2YRRaqqXzDqItDxs7mbqYsNSHZjlhA0b1TnSXLRTgCTjBY74oCf1UrmXqItUn9wn87f2Mdpt8XYmu9IQxxwOrRtmy2r5ahDgV3x8q1f3L+fSKW7FUk9GLLqIO3fwi07sVT1s5wy62Y7d58o+Vaz7l/PpFj2caCR2GOJJxOnL744xW+Jmcx6/Rl98cYrfFTOY9foocGEVpDVMwjLtHro//2Q==\"\n\n//# sourceURL=webpack://bos-platform/./src/designer/icon/fastlayout/2.jpg?");

/***/ }),

/***/ "./src/designer/icon/fastlayout/3.jpg":
/*!********************************************!*\
  !*** ./src/designer/icon/fastlayout/3.jpg ***!
  \********************************************/
/***/ (function(module) {

eval("module.exports = \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAYEBQUFBAYFBQUHBgYHCQ8KCQgICRMNDgsPFhMXFxYTFRUYGyMeGBohGhUVHikfISQlJygnGB0rLismLiMmJyb/2wBDAQYHBwkICRIKChImGRUZJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJib/wgARCABQAFADAREAAhEBAxEB/8QAHAAAAgIDAQEAAAAAAAAAAAAAAAYFBwEECAMC/8QAGwEBAAIDAQEAAAAAAAAAAAAAAAUGAQMEAgf/2gAMAwEAAhADEAAAAOhcyTJiNAAAAjiRFDn6Z3VD+27fub+gAAE4cStK7FSvFXd+Rk2eesgAHkIJYZz/AJv3g9eu7fudHTavJQGHXHBHCQWQcxyf12K6u8Z2NPu+4/5S3aIUIcRi0Tj36vWoC0VML0+cWu7aPZgCCEUtc5Xu1TgZ2k4erBq0w7w0nY8fcdjGxcEUt05im/nul2UkAGel659qk9fapCEXUJnvpmPUKAfT1Mau/JWpXp0YKGe6fxw4MmDJgDRN8//EAEMQAAEDAgIECAgLCQAAAAAAAAIBAwQFEQAGBxAS0QgVQVFSVZGUExQWIDF0orMhNVNhZGVxgZKT4RczNDdDVHKDsv/aAAgBAQABPwDInw0d/wBdke8LFsWxbFsWxbVQKmzWqJCqzAE21LZF0QP0iipey4tjJs+NGpT4OnYvHZHvSxxxB+UX8K4jTo8gtho1JfO0QP8AjGjWgO/Rtn8JKOqgfuJXrj/vF1UD4xT/ABwnmSHPAx3XegCl2JjQCe3omof+8ex9zVOzXNpsyVAhss2akvKRmiqpKrirz48t610Y35a78RdIFejHttBEv87S78ftQzP9D/JXfjJVYdrmXo1SkAIOvbSEI+i4qqa8wuIzQKm70IjpdgLjg8rfRPSPmN/3x6szRnmavMkONqLL8l1Wz5Csaovw/amNsekmPCB0xw1DmvNibUR9wC9BA2qov2Y0ZRH4WTobEtomXbmqgSWVEUlVNecStlGuFzU9/wB2WODee3ouiD0JL6e3qz244ebKkBmpC2+YgnRTaVbJ96quvg1vvHFrsYzuy0bJgHRUkO/bbzM9FbJGYV+rZHuixwaP5Zh669qzjSIkmsyX2JLgyDfd8OChcUVHCRLLfmtyY4iX+69j9ccRFyyfY/XGjWvw8lxJYJDdmPyyFXHNtAGw32URLLhrSvEVwUdo7whykLqEvZZMRH25MVqS0u028CGK86Kl01aR12MgZjL6uf8A+FxwYTvo4eToVF0fYDVW0VK3UFVLIslxU/EuL4vi+rLiKOXqaJJZUitJ7KatJ77SZBzIxtj4bi14tjltsql7Y4Lr7QZBng66gXq5j2tNasqUil1GkG5Pp8eUYzJKITraEtvClz48mMudRQO7jux5L5b6igd3HdjyXy31FA7uO7AZay8BiYUSCJCt0VI47sCiClk9CatO2VnK/kt+VB+MaahPNqF7m3/Ub+8ccGLK7r7snNMz+GYImYIF8qqWcc7LDqyhUqdDpRsy58Vh3xp8thx4RJEVwlS6KvNjjyi9bwe8hvxx5Ret4PeQ3448ovW8HvIb8ceUXriD3kN+OPKL1vB7yG/HHlF64g95Dfha3Ret4PeA34o7+VqPAbp1MnU2LFaUlBpt8ERFJVVeXlVVXHHdF63g94Dfj//EADMRAAECAgUJBgcAAAAAAAAAAAECAwARBAUTICEGFCIwM1FSkaEQEhYxU4EVMkBhcbHR/9oACAECAQE/ADqnKS22ZKMZ6xvhp9t3BJ1FO257KBtvbUZgy/pr84+E0b784aq9hozTFgiHE9xUr1GQpaJJE5RYO8J5GLB3hPIwrRMlYGHiCvC9kykCrkneT++3K9CQ40sDEg9Jf2/UlbqotFslImATKPEKfT6x4hHp9Yrd9dZuJUdEJ8veMxVvgggyN2ibEXXdor83UrUn5TKLZziMWznEYtnOIwXnDh3j9B//xAA7EQABAwEDBwgGCwAAAAAAAAABAgMEAAURkQYVICExU7ISFDBBUmJykhAWIqHR4RMzNDVRYXGBgrHB/9oACAEDAQE/ALRFziPAjhHRWvKaZeQlZ18hHCK5/H7VNSWntSD0GUX2xPgRwj0Wb9f+3QJyWhWk23IkX3lKdhu2JFeotk97GmcjLMZN6eVj8q9VoHex+VWpEEKUphJvAu94v0oM6MiK2244AQlO0gdQPXWcYe9T5h8azhD3qfMPjQmxlC9LicRVuvtvz1rbN41e4aWVRJnjwI4R6bCUSlaerV/unlhJaanpGsnkIv8AKK5+ns1z5P4VAt5qGkj6Mkn86TlW0TrbIH602tLiAtOw69HLX71/g3wCrquq6gKgAiK2D2R/WjbMSO++guoCvYRtHdFZshbpOArNkLdJwFZshbpOApNmw0m8NJwGlPcQ46koN/spGCRf0X//2Q==\"\n\n//# sourceURL=webpack://bos-platform/./src/designer/icon/fastlayout/3.jpg?");

/***/ }),

/***/ "./src/designer/icon/fastlayout/4.jpg":
/*!********************************************!*\
  !*** ./src/designer/icon/fastlayout/4.jpg ***!
  \********************************************/
/***/ (function(module) {

eval("module.exports = \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAMCAgMCAgMDAwMEAwMEBQgFBQQEBQoHBwYIDAoMDAsKCwsNDhIQDQ4RDgsLEBYQERMUFRUVDA8XGBYUGBIUFRT/2wBDAQMEBAUEBQkFBQkUDQsNFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBT/wgARCABQAFADAREAAhEBAxEB/8QAHQAAAQQDAQEAAAAAAAAAAAAABQAGBwgCBAkDAf/EABwBAQACAgMBAAAAAAAAAAAAAAAFBgQHAQMIAv/aAAwDAQACEAMQAAAAt7rWluWOoz0t94flsuqEIaI7gORNU491YlMcE7ZHRMz65IxIxJQBJDORss/9xycZcfEpYtJ2TwIqJcBJy2svvTLI7EfHHSyr+JXl1QWkRATYCSuubucx2YqMuOqd8HVe/wDPWMIVJ9BJSnb8B6zlNXC0Wor3IsFLIBkKFhwScY/aemB1qoaOlPk/d9mtZXRDaIWLHAkjqQkT2ZWlwd8JI7z7QzyGCy4JKMW3SHrlUJCfRfolLw0/0tCZDJdIEnNK7+bNXLoCPgcx5johRfXXkAhxA8//xABEEAABAwIDAwQPBQYHAAAAAAABAgMEBQYABxEIECESE1FhFBcYIjE2QVNVc5GUodLTGVZXlaIVMlJxk7EWIDVCVJLC/9oACAEBAAE/AMtlKXYNB1UTpDbA6hpwGOPTjLh1a1zWyolCAkgHya66/wBhjQY5IxoMckYyquCVddhUyqzXOekyC7y1hITryXVpHAcPAkDGgxdaR/hyf1Nk/HGVdiy52WttyGH2Qh2A0vkrJBGqR0A47XVQ/wCRH/7K+XFq227QOfLrqXFuga8jXQafzH+Qq0BPkAxs0PmRklbTh8okfCQ4N10+Ls/1RxYGfliWRl7a1LrFfRHnNUxjnGUMuvFBKBwUW0qAOO6syx+8h9wk/Tx3VeWP3kPuEn6eIu1FlpLkoaRcqQtwhILsR9CQetSkAAdZIGIsluWwl1tSVtrGoUk6gjpB8o3TVciG+robUfgcbKj/AD2RlAHm1ykn3l07rr8XKh6o4B5RVrx4nGh3HQDGThK8qLPUeKjSIpJPqk7qwvm6ROV0MLP6TjY/f57JaGnzUyQj9fK/9brqGtuzx0tHFnbKVn3xZNuVt9+pwJUumx3XkQnmwhayhJKtFoVoT1HHcTWV6Xr/APXZ+jjuJrK9LV/+uz9HDGxTZDT6VrqVcfQCCW1vtBKuo8loH2EYpFMj0anRoEVAajRm0tNNp4BCEjRIHUAAN1yr5u3Kqvoiun9BxsWP87lDJT5qqvI/Q0rddXi5P9UcQdviJl7QqLbcC0F1oUyAxFelOz+xgXEIAWEgNL1AII1JGPtL3fw7R+dH6GPtLnfw6H50foYySzdgZ02FFuWAw5DC3FMPxXdFKZdT+8NRwUOIIPQd97uc1ZdfX/DT5CvY2rGxEvXK+rI6Kus+1lnddQ1t2eOlo4uCO7FrU1Dzam1lwuALGhKVd8k/yKSCOo79gCE/EyGK3mltIfqsh1orH76NG08r2pO/MlzmsurqX/DSpZ9jK8bD69cva6noqh+LTe66/FyoeqOMvssbQu/LOy5ldtai1qWKJDSH6hAafWBzKDoCtJOmO0Llp+Hlrfk0f5MdobLX8PrW/Jo/yYp1OjUuIzFiMNxozKQhtllAShCQNAlIHAADyDfm4+lrKu8+IChRpfxZWBjYddAsq40nyVFHxaTuurxdn+qOIG01e1IotJplImsQIECDHiNt9jNrKuQ2lJJUoE6kgnHdWZl+m2fcWfkx3VmZfptn3Fn5Md1ZmX6bZ9xZ+TFn7VN+LuemNVGcxPhPPoaeZVFbQShSgCUlIBB0PDwjdtS2TOuLLyVVaQ9JZqNMQsuojrI5+KoaPNqAPfDQBWh18GNjeyZlfuGZWJLz/wCwqWsLRG5xQaelkd6oo8CihPsJG66vF2oeqOJ9BlUZbLTvNLK2W3QWnUrACkA8k6Hgoa6EHiCDjsR3zf8AbHYzo/2fEY7Ge838Rix6M9ULupTfLYjIElta3pLyGm0ISsFSlKUQOAB6z4Bxx2xbU+81H9/a+bDuYNoSGltOXLRVoWClSTPaIIPAg99ixZeX2XdBFHotfo7ENLq3f9QaKlFaieJ5XHQaJHUkDHbGtP7z0b39r5sVu9beqlIlRIdepkyU8jkNsR5bbi1qPkCQoknH/8QAOBEAAQIDBAcDCgcAAAAAAAAAAQIDAAQRBRQgIRIVMVFSodEHVJETF0FhcYGSosHiBhAiIzAz8P/aAAgBAgEBPwCfWtU05U+mNI74sJxag4knIU+v8E1YzjzynELFDnnGoXuMc+kWdIGSCtJVSfpA2Y0S7q0hQTlF1d3RdXd0XV3hxsf1J9mB4fuK9uJubcbSEihpF+c3Dn1i/Obhz6xfndw/3vgknM4rH7OXrTkkTbkwEaYBA0dLI7K5jbHmqV3z5PvjzUq758n3xbdjPWFPKknlA0zBHpB2HH+GFpXY0oUmo8mjxAAPP8+0VxLluqCTWiEg+o545e0p6TToS760A50SogV9xEa8tXvbnxq6xry1u9ufGrrC1rcUXFmqjmScyTjlbOYcZStwVJFdsasleHmY1ZK8PMxqyV4eZh6y5cNqKBQj14pSZY8ggFYBApF5Z4x4xeWeMeMXlnjHjD02ylpX6wcsX//EADgRAAIABAIGBgcJAQAAAAAAAAECAwQFEQAGFiAhU5LREhUxUVSiEBcwYZGh0gcTFEFCUrLB4WP/2gAIAQMBAT8AzxEZsyzwJ7IjD546Td+MuRGZYiE7Bb+/YZwoUWYr87FhuLNEY7b9+NHJj94+fLFKprU8OXa5bu93sKplesVKpTUxKwCyF2sbgX2nsuRfGg+YfDeZPqxoPmDw3mT6sPkqvw0LmWNh3FSfgDc4KlSQRYjWhgdEWxYei2K8AKtNgbx/5HWn8+VWlT8zKIqOquwHSBuBc7NjLj1nVjdQuF/rx6zqxuoXC/14f7S6y6kBIYv+YVrj4uR8QcRYrx4jRYhuzEknvJ7dbOGbEk8wT0BIXS6MVwTe20Mfccaa/wDDzf5jTYbjzf5imVBKlLCYQWvst3HXzyCuZ6kDvon8z6cpqVpoJHax/rXzHJy0xWZxosNWP3j9oB/UcdWyO4ThHLHVkluU4RhUVFCqLAa+e88VaWzRUoEs4VEjRFA6IPY7C5Jxp9Xt6OBeWNPq9vRwLyxp9Xt6OBeWKbnysNNw1mHV0LAEdEDYTbtA1s+UWoRs0VGYgQWdIkWI6soJBVnJBBGOoKr4Z+E8sdQVXwz8J5Y6hqvhn4TyxScuVWLOwh+HZQGBJYEAAEX2nW//2Q==\"\n\n//# sourceURL=webpack://bos-platform/./src/designer/icon/fastlayout/4.jpg?");

/***/ }),

/***/ "./src/designer/icon/fastlayout/5.jpg":
/*!********************************************!*\
  !*** ./src/designer/icon/fastlayout/5.jpg ***!
  \********************************************/
/***/ (function(module) {

eval("module.exports = \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAcFBQYFBAcGBgYIBwcICxILCwoKCxYPEA0SGhYbGhkWGRgcICgiHB4mHhgZIzAkJiorLS4tGyIyNTEsNSgsLSz/2wBDAQcICAsJCxULCxUsHRkdLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCz/wgARCABQAFADAREAAhEBAxEB/8QAGwABAAIDAQEAAAAAAAAAAAAAAAMGAgQFAQf/xAAcAQEAAwEBAAMAAAAAAAAAAAAABAUGAQcCAwj/2gAMAwEAAhADEAAAAPrdPAp9vvuLO0fC3fhnneWTG1UfPrukTSXKJoxo0mSpF36TwLDVVz0T88Y9+NrwlPD2Pf4OwvsLTgAAAAAAAAADXMSEwIjTPCE4JdyIiBgRGJ4a5wC9HUAAAAAAAAAAAAAAAAAAAB//xAA9EAABAwMBAgYOCwEAAAAAAAABAgMEAAUGESFVBxIWMUGTFRcyUVRhcXKSo7HB0dITFCIjQERQgYKRlOH/2gAIAQEAAT8AfhqRIcSmbLCUqIH3n/Kyu73G1XFmNEnSED6ILUSrUkkkd6mspvQeQV3B5xIUNUkgajvbBTufZGt5akXJ1tBUSlOgOg6BrpSc9yRK0lVzdUAdSkgCnsmuy33FMz322iolKOMDxR0DXTbXKW9bzf8A7HwrAnH7+JqJ8uSssFJSpLnF2HWuTjHhUzrjXJ6N4VN641KhSPrThDRWFKJBHjrNMYu8qexLjQnZCC0EENjUpIJO0VFw+/SZTTRtkhoKVoVutlKUjvkmpeA5PDmOMdhpbwQrQLabK0qHQQRUfA8nlSW2RZJjZWQNXGihI8ZJ5hUzD75EluMi3yHkpP2VttlSVDoOyuTN93RM6lVcG1kn2tqa9OYLAf4oQhexWzXUkfh1ToiFcVUplJHQXAK7JQfDI/Wp+NKvtpb7u6Qkec+ge+uUti31b/8ASj405llga7u8wv4vBXso59jCDobqOqWfYmu2Hi+8/UufLS+EjGh+ccPkZVSOFFhi8OtONmVblK1beSOK4gHoKTsOhq03223uMHoMpt4aalIOi0+VPOKXi1icJK7PCJJ1JDKRRwzHd0RvRrkXju6I3o0cIxw89pYo4BjCue1jrXPmrtd4tuv17vzUeDrF92+vc+al8GWOr5mn2/NePv1pHBYHru8S84xbk7G0khbq/wB9NAKtGP22xs8SBFQ0SNFL51r8qjt/Sf/EACcRAAEDAwIEBwAAAAAAAAAAAAEAAgMEERMFEgYUIXEQIiMxUWCR/9oACAECAQE/AJauRryAqH149z/dYGlM4dotouCT3R4dorGwP6uTjHRcrGp4Wx22+M9PJkJAutPGKLa/oVkaOt1Fq9HIwOyAdzZSatRsYXZAexuuYjf5rrNH8hVMjXEBv1P/xAAsEQABAwMBBgQHAAAAAAAAAAABAgMEAAUREgYUIVKRkhMVFkFCU2BhYnKh/9oACAEDAQE/AHrw6lZSlCcD8a2aaZuEUvSG05zjgMU5aYYQdLYBxS7/ACAogIR2ivUEjPFCe0UvauZrOlCAP1FeqpvKjtFWW9vTAsOoTkY+Ee9b2eRPSt7PInoKfjO+ISE5zWykpmJFLL6gk5zxqRdoaG1EOA8PY05BkBRGgmkQZCjjQaftMttZSGyfuBXlsz5SuhqwQnoyVrdGM4/n0n//2Q==\"\n\n//# sourceURL=webpack://bos-platform/./src/designer/icon/fastlayout/5.jpg?");

/***/ }),

/***/ "./src/designer/icon/fastlayout/6.jpg":
/*!********************************************!*\
  !*** ./src/designer/icon/fastlayout/6.jpg ***!
  \********************************************/
/***/ (function(module) {

eval("module.exports = \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAUEBAQEAwUEBAQGBQUGCA0ICAcHCBALDAkNExAUExIQEhIUFx0ZFBYcFhISGiMaHB4fISEhFBkkJyQgJh0gISD/2wBDAQUGBggHCA8ICA8gFRIVICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICD/wgARCABQAFADAREAAhEBAxEB/8QAGwABAAIDAQEAAAAAAAAAAAAAAAMGBAUHAQj/xAAcAQEBAQEAAwEBAAAAAAAAAAAABQYHAwQIAQL/2gAMAwEAAhADEAAAAPqf+qtZz+c55T6FQND1jRdO+VdZSkXrmkWPwej0WftOuzN1ZPydVoWdoFPe8/v9V0vTPlrV0ZV65tIx/F6HR5206vM3kwAAABCTAAAAEJojAMMxDGMQxDGK2d2N+ADwiIyErpbCYAAAAhJgAAACEmAAAAISYAAAAgP/xAA+EAACAQIEAQgFBw0AAAAAAAABAgMEBQAGESEHEjAxNEFxcrETFDJD0RAiI1GRk8IXICVFVFZihJKUosHS/9oACAEBAAE/ABkjKg/UkX2t8cXfLVhhuLww2yNEUDoZu0d+M/RU9poKKnt9MkDTuxeVS3L0UDYHXo3wtXVoQwqpiRvu5I88X3Mt1q73UvDO1FEjejSGmdlQBdtenUk6ak/WewYW/XpGDC6VJIOu8hI+w4ku9VcVhqurcqNNUgdlXXkjU9PadTj1mq/a6j71vjjhVBSXq811tutP64gg9OjvI/KQhgCNj0HlYGUsv0nKqYLcEljQlSXc9h7CdPku9uq5rg80MRkVgBt2aDGfMlX+8W2knoKT00lOzawggOQ2m412xHw6zrLIsYsE6FiN3KgDvOuMw8Hs90t7n9Us73GnmPpEmgcdvYQxBBGIuEnEaRwgyvUqWI3d0AHeeVip4X5wtohpYqA1ypGn0kBBGum430Oxx+T7On7v1P8Aj8ccLMn3qx3Ssul3pjS8uH0CRsQWbVgSx08OKjqs/gby5qo6rP4G8uaqOqz+BvLFVnGzUc8sEvr5eMlTyLdOw1B0OhCaHvB0xLxGsEfuLmf5CUeYGH4rZdjHUrt/aEeZw/GPLSDqF1+4UebYfjdlobC2XL+iMfjw/HO0e6sdY3idVw/HaL3WWHbxVgH4Dh+Ok7ggZZi7jVH/AIxZuKt/s9bJoBV21mJSjqHLGFddlWT2thtvriyX5cxZde4Cgq6EMh+ZUpySdulfrH5pAI0IBwaaBvagjbvQYNuoD7VDTt3xL8MPZrSyn9FUZP8AFAp/1iycPbBaq6S5z0yV1xlcyGaVAERidfo4x81B9XSRio6pN4G8uaqOqz+BvLmqjqk3gby5qo6tN4G8sAgjmaplWinZmAARiSTsNsf/xAArEQABBAECBAMJAAAAAAAAAAABAAIDEQUEEwYSFCFBUqEQUWBhcZGxwdH/2gAIAQIBAT8AWu1MscnKw0Fh3unD93vS2Ge5Yzh/QdLG6SMOJFkn590eHsYRWyPVajHQQTPiaLAJ/K6WHyrWQsYA5gpX7NbpZZJOdgsLERmAO3e1/pGaMeKxfEmP6VjJX8paKog+H3TuJcWBe96H+KbIwzyvlurJPf6rqofMtZOyQBrDfwl//8QALxEAAQIFAgIHCQAAAAAAAAAAAQIDAAQFBhES0RZBMVFTcYGRoRAVISIjVGBhsf/aAAgBAwEBPwD3xPdqfSKhcdTbe0IeIA7tosKdmakt4zjhXoxjOOeYMu0RjSIrFzVZiffYafIShRA+A6AcRxbWe3PkNonL5rpeOl8pA5ADaON6/wDcnyTtFr3XVpxxxqYeKgBkZCeuHalNuoLa15B/Q29lQk3XHdaBkGLEm2qUt4TnyheMHuz0468wq5KYkH6ufA7RV6fMPzzz7SMpWokeJzApE4TjR/Inrcn0PHQjUDzEcP1HsT6RbFJmZNa3phOnIwB+Jf/Z\"\n\n//# sourceURL=webpack://bos-platform/./src/designer/icon/fastlayout/6.jpg?");

/***/ }),

/***/ "./src/designer/icon/fastlayout/7.jpg":
/*!********************************************!*\
  !*** ./src/designer/icon/fastlayout/7.jpg ***!
  \********************************************/
/***/ (function(module) {

eval("module.exports = \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wgARCABQAFADAREAAhEBAxEB/8QAGwABAAIDAQEAAAAAAAAAAAAAAAMHAgUGBAj/xAAbAQEAAgMBAQAAAAAAAAAAAAAABQYDBAcBAv/aAAwDAQACEAMQAAAAuGAiuim56ipPp++xxm8k+a0ldq7YtblutreKut2qS+ZbupMx0s1P0TJdM3+OM3shzijbzXbKrMv1ddxVtv1Gf42foKI6QAAABESgAAAERKCA8xCQnnPMc4d4eY8REYmBiYGBoiwzbAAAAERKAAAAREoAAABESgAAAER//8QAPxAAAQMCAgUHCAcJAAAAAAAAAQIDBAAFBhEHEiExcjAyNEGDsdEVF1RVYZOh0hATFBYiUaIjJEVSU2RxgYT/2gAIAQEAAT8ANnhE5hpQ9gdXl31Bw1aXojTi4p1lJzP7VfzVe50jyvNS08802h5SEoQ6oBIBIA31ozV5RxMiFPLshh1tZyW6vYRtBGRrTUw1h3DEd60hbD78kNFYeWSE6qldZry9dvWUz3yvGtCUpy+YhmQLut6U0IpfQVvLBSUqSOo7jrVpTjsWZiA1bUOtLfUtSnA+5mAnV2bVdetX22Z6ZL9+vxqPc5bLyHFyJDqUnMoW+vJQ/I7aNtlBZSGSfaNxqC0WYbbauckZGr9ga/i8TCxBW+046paHGyNxPwNaMcJ3a3YiE+4xTGZaQoALIzUSMtgFaZsOT8SYZZYtLQeksPh7U2AqGRBAJrzc4t9Ryv01oSwXebFe5lyu8QxEFgsIQsgqJKkqJ/TWlPD069xoLtub+tXHKwpsEAkKy2jP8tWvuXiP1U/8PGomBr8++EPQXGGt63HCMkjr69vJSOju8B7uSkdHd4D3fQSBTkuO3z5DKeJYFLvNsRz7jDT/AJfT40cR2VO+7QR26fGjiywI513g++BpzG+HEb7sweEKV3Cl6Q8MI/iWfCw58tQdKMZq5PMTWy/CCiGpbIIUU9Wsg/EioN2g3WA4/b5TUhvUOeodo2dY3j/dScLWmW6tySw6ta1FSv3l0DM+wKyFLwBhpzn24q/6Xfmo6OcL+riO3c+avNvhn0FY7dfjR0a4a9FeHbqo6MsN/wBB8dsaOjDD38kr31HRdh7+8HbDwqDotQ9c33ZTq2LaFkNMghTqkjYCVbhnVustvs1vcYtsVthGoQSkfiVs6zvPJSOju8B7uSkdHd4D3clI6O7wHuoHkZBAjO8B7q//xAAoEQABBAEBBwQDAAAAAAAAAAABAAIDBBEGBRIUIUGh0RVRU7EWYJH/2gAIAQIBAT8ANuYnO8oXl8YceqbE3A5KWNobkLT1KG7ZLJhkAZx/AvQaPxjv5Wo9mVqkLZYG4Ocdj4VWJshO90XDR+ydWjweSNOUHGFEwsYGnomzNwppGluAtP34qNgvm5AjH0vyDZ/ydj4Wo9rV7cTYYDvc8/aqTNjJDuq4mL3T7UYacH9R/8QALxEAAQIEAwUGBwAAAAAAAAAAAQIDAAQFERIT0QYWITFBFTNSU4GhUWBhcaKx0v/aAAgBAwEBPwDeGoE957DSGKtNONpUVc/oNIkpZvIQVJBJANyBpFfQJeVzmbJII6Dr6RVK3OS7QLa7En4J0jeWpeZ7J0ilV6efcKHF34eFOkbQ7RT8mhAZWBivxwp6ekb3VfzfxT/MM7XVXMTicuL8sKdIMi8DbDDKC22EnpElXZLIQFrsQACOPSK9WJaZlsllWIk/qKpLLfaAb5g3jsya8EUqSeZcK3BbhaNoac9ONoUyLlN+H3jsOe8sxK0KdU6kKRYX5/KP/9k=\"\n\n//# sourceURL=webpack://bos-platform/./src/designer/icon/fastlayout/7.jpg?");

/***/ }),

/***/ "./src/designer/icon/fastlayout/8.jpg":
/*!********************************************!*\
  !*** ./src/designer/icon/fastlayout/8.jpg ***!
  \********************************************/
/***/ (function(module) {

eval("module.exports = \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAUDBAQEAwUEBAQFBQUGBwwIBwcHBw8LCwkMEQ8SEhEPERETFhwXExQaFRERGCEYGh0dHx8fExciJCIeJBweHx7/2wBDAQUFBQcGBw4ICA4eFBEUHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh7/wgARCABQAFADAREAAhEBAxEB/8QAHAAAAgIDAQEAAAAAAAAAAAAAAAUDBgEEBwII/8QAHAEBAAMBAAMBAAAAAAAAAAAAAAEFBgQCAwcI/9oADAMBAAIQAxAAAAD7KAAEc2LuK7IAREwAAimweRX5ACIlAAEU2DyK/IAREpgAEc97yOAMwxKMXT112jz1FsNxzvQfWEu7/PKjRYroHzen0/TWdI4Nh16q38qaxR56iWO4ol/9WR7n8/LtBjrt84r4fVwXjg2HS63dv3JgAEU9zCOHVh5K3K7iU0jSIRHPVtxywGmV07OWAAASTYO4rwAIgAAEvlYOvGvAAiP/xABEEAABAgUABAcLCAsAAAAAAAABAgMABAUGEQcUIbEgMTJTcZLSEBIWIjQ2QVZzdJQjQ1FSYXKy0RUXJDNCRlSBgpPB/9oACAEBAAE/AAAIwIwIwIvzzLrHubn4TCQO9HRGBGBGBE4AZR4Hm1buDffmZWPdHPwmE8XAnPJXvZq3cG/PM6r+6OboHAnPJXvZq3dwkRkRkRfZBs6q+6r3RxCMjuZETnkr3s1boFx2+eKu0w9E0j84rlyymuqalqzLBtOCC3MJ3gxpNveqyNIlpWl1gIL61BbrawXAkAbArjG08cMXtdbLqHU3LU1FHoXNKWk9KSSDF6aSbyrtYcQ9WpqWlQA3q8q4WmyMDOQD42Tt8bMS+kC+2H0PIu6uFSFAgLnXFgn7UqJBH2EERUNIt1VduVfXWH5P5BslEq6WwVFIKlHGCcnJwegR4YXR6zVb45f5xoNu2rT9WmqXVqmuaYSwXkLmXMrBCgOUdsTU5K6q9+0s8hXzg+iNTlf6Zj/WIrtGLs+t2Xk21pVgeK2Bg4EaSrHrNXp0qulyDa3mVqJZGEKUk4GcnA2EcWcwjRneyjj9AOJ6XW+1F16Jb2pk+/Nopwm5FCQ4p9t5ISB0LIVsMDRBpL9Wn/iWe3D+iq7JNDEuzThOgMNhbqFpACwkBQ8cg7COgiP1Z3l6uuddrtRoh0ezshWJmbuSiywZLBbbafQhzKu+B77G0CJu1rZ1V4+D1I5CiDqTf5dwgGMCMCL7wLSqeSACwRDtVpTOx+pyTf330p3mDc1tJ47hpI6Z1vtQbstUfzNRR0zzXaihaTrcnKi/TJ+bYkpllwoDpdCpd7B5SHBswftxEyoKk3VJIILaiCOiKnaFBqM65NzcvMredIKymdeQDsxyUrAH9hD2jq1nOVKznx753rhzRTZ7nKl534xw7zC9ENmq+anvijF06I7XkaJNzss9Ug60jKQXklP4IOhC2PRUqx12uxDug6iH91Waij74QdwEL0FSvrI8OmUHbig6H6xUp94uv6lTErIaeeaw66nOxQbz4uR9YiLctuRtmgOSEg7NuICDkvvqXk49AOxP+IHBvfzVqHsv+iBwJzyV72at0CYY59rriNYY59rriNYY59rriNYY59rriL1fY8F54B5vagDlD6wgTDHPtdcRrDHPtdcRrDHPtdcRrDHPtdcRNTEvqr3y7XIV/GPoj//EAC8RAAEDAwEEBwkAAAAAAAAAAAECAxEABAUSBhMhQRAUIFFhodEwM0BQUoGCscH/2gAIAQIBAT8A+IHsh28g9cJd0okDwrCLW7qD3KIn71u2jwgVaYjFN4rXCVOFMySCZ/lKwuEUmC2jy9aubC1t31toggExJnhyrcW/0ir5lpCQpA6chaPOO60CRWDaVbai7wmPKt8131b7Q4xeK3K1aVhMQQf2BR2mwen3gP4n0q5ydrcPrcSIBJjhynwrrNt3ir19paQlHaA6IqPkP//EADcRAAECBAAJCwIHAAAAAAAAAAECAwAEBREGEhMgMDE0kdEHFCFBUVJhcXKSwUKxFUNTgeHi8P/aAAgBAwEBPwDMo+3teoffRUfbmvUPvoqRtzXqGipO3NeoZxp04Pyl+08IqcvVEu4jbSwPBKuEcndIXOuvfiDSiEAYuMCL3vfXrtaF4N0xSSksJ6fCCxUWcJsi2hYaS5YdBtYHttGUrAN7Objwip1OuuPkJStIHYkj4jn9dH1OblRgjO1KYfWzM4xFri4N7+cZJzundGXc7x3xU2Jtx3HbJIPjHJ5URSHXTPKICwLaza19fneFYW0kC4ev+yuEZKbfwm503fJrcKh06gT1i8CQq9/q938xUKPXkPXaWpQNtS+JECnYSjv+/wDtGCrFZlnVuzTigLWAKifkxz+a/VVvObSyBONk9uZbOkmUvzCG1aidFSdsb8/jRUnbEf7qOd//2Q==\"\n\n//# sourceURL=webpack://bos-platform/./src/designer/icon/fastlayout/8.jpg?");

/***/ }),

/***/ "./src/designer/icon/fastlayout/9.jpg":
/*!********************************************!*\
  !*** ./src/designer/icon/fastlayout/9.jpg ***!
  \********************************************/
/***/ (function(module) {

eval("module.exports = \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAYEBQUFBAYFBQUHBgYHCQ8KCQgICRMNDgsPFhMXFxYTFRUYGyMeGBohGhUVHikfISQlJygnGB0rLismLiMmJyb/2wBDAQYHBwkICRIKChImGRUZJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJib/wgARCABQAFADAREAAhEBAxEB/8QAGwABAAIDAQEAAAAAAAAAAAAAAAQFAQIDBwb/xAAcAQEAAgMBAQEAAAAAAAAAAAAAAwQBAgUGBwj/2gAMAwEAAhADEAAAAPY+BzuccTARt5JGkYA6z2O2tDhHoZMV001hBDnJjLKVNJ5B7H9BV+90DWLk53v52nAuY+ZA6nmKuayBmtRxJOlnAva1P5j6L8Iqr8AEjh39LUXLpVQL/lXNqkVTeqsh24vS0sRc+lSzgyv+ZevvDceFJWA4VuwzF3scwC1hvfe0/Sx9oQKOK9vnW5kpgTNLPolP04A8xB6cAAACGak4AH//xABAEAABAgMCCAkJCAMAAAAAAAABAgQAAwURFQYSEzFUVZPRBxQXICF0kpTiNkFEU2GhsbLSIzA1UWKBgpEzNHH/2gAIAQEAAT8AcUOm5eYBJmWBRzT5n1RcVN9VN7xM+qLipnqZu3mfVFw0z1MzbzPqh/TKSyZT3cxvNUiUgrUEz12kD+UXDS/Ur2698XBStHXtl74uClaOdsvfFwUrRlbZe+GeD9HW7lIW0KkqUAQZq98PqnTpL6dKmvpCFhZBCpgBEXzStYtdoIvilaya7QRfNK1i12gjCKq02bQ30qU+kLWqSoJAmgkmyE1qklIN4ttqIvmlaxa7QRfNL1i12gi+KVrJrtBFJqdPn1KRLkvpMyYpQ6EzASYwi/H6j1iZ8x5is0J5mBnlbSOty/jGFLlrIwlqUtTpBIcLtKQojPb+UF+z0lPZVujj7PSU9hW6OPs9JT2VboQ7bTVBCJ4Kj+lXT7oL1oglKnABHQRiq3QX7PSUn+Kt0cfZ6SnsK3Rx9npKewrdGAjhrPwwpKEOkY3GUEBQItsNtmbPGFflPVetzPmPMp3+9K/6fgYdCxzNH6jzOD/y4oXXZXzCMLqY/ThTVRkCQXUwgpIIIJJg01+PRle6LtfaOr3QKa/Po6v7EMmTqU5RMmyVJQLbSfN0GHDB5MnzFokKUlSiQR54NNfD0dXui7X+jK90Xa/0dX9iOD2mvjhtRVGQUpQ7QtVpGYG0xX/x1/1hfxPMd/4Fft8Yam2QnmYIeVNK61L+MVHg244/cO0VjJZaYV4hb42f24wjkrXrwd18ccla9eDuvjjkrXrwd18cYY4CXFQJ9SvUOMmpAxMhi51AZ8YxghgEqtYPNaneuQy2P9nkMbFsWU58YRyVr14O6+OOStevB3XxxyVr14O6+OKLwc3dVWr9VWywbzBMxMhi2kZunGPN4Zmb9FOQ+bOJvEVlMt3IzptBtQveY4GWj9dOW+dOJpZSiqU0kZki02rV9zVmMip05xT3KcaU4QUK/fzj2jPFGYSKVTG9ObCyU3QEJ9v5k+0m083/xAAxEQABAwEFBQcDBQAAAAAAAAABAAIDBAURFBVSIFNikdESITIzUaGxEzE0QGFxcoH/2gAIAQIBAT8Alqpg8gFYubUsXNqWLm1JlRO9waHfdYqbUsVNqWKm1LFTalT1MplaCVLTTF5IaVhJ9B5LCT6DyWEn0HkoKaZsrS5puRpJ7/AeSwk+g8lhJ9B5LCT6DyUFNM2VpLTcm+EbEvgKb9hsSeEqCyqyWJr2s7iPUdVktdu/cdVktdu/cdVk1du/cdVV2XVwwukey4D9x1UNk1skbXtZ3Eeo6rJq7d+46rJa7d+46rJa7d+46qqsurhhdI9ncB6jqrO/Fj/gfGxbxus6X/PkKzDfRRHhHxsWx+BL/Uqz7RpRSxgvANwWZUm8CzOj3gWZ0m8CtuuppaCRjHgk3fIVl19Myiia94BAWZ0m8CzKk3gWZ0m8CtWvpX0UrWvBJCj8A2KnyyoPLGxN5ZTavsi65YzhWM4VjOFS1H1G9m5R1PYb2bljOFYzhWM4U6q7TS279L//xAA5EQAABAIECwYEBwAAAAAAAAAAAQIDBAURFlPRBhIVIDE0UXGhouEhQWFjkrEUYoHBIiQzNUBykf/aAAgBAwEBPwB3CKZJWZE5o+VNwrJM7TlTcKyTO05U3CscztOVNwRhDNFqJJO6flTcKxzS14JuFY5pa8E3Csc0teCbhWOaWvBNwh8IZmp1KVO9h+CbguUx7izWhlRkfeRGMizKwV6TGRZlYK9JjIsysFekwzKY5pZLcZUSS0mZH2DI0xPtJhX+GMizKwV6TGRplYK9JjIsysFekwzK45lwnHGVERaTMjoEBqre4vbMnP7e7u+4hjxmUH4F7Zk21B3+piGwuk7DKWnHaFJIiPsV9ioFdJJbcqrhXSSW3Kq4V0kltyquEfhTKYyGXDsOUqVoKhRd5H3kIfC+TsspbcdoUkiI/wAKtJFQfcK6SS25VXCukktuVVwrpJLblVcI3CuUxUMthl2lSioIqDL3IRP6yt55ku1tH19jEX2RC955kDrKN4ijSl9ZGZaRjo2jHTtGOnaQliknFooPb7GI5SSiVkZ94x07SGOnaQx07RAGlUUgiPvEZrC955kkL86n6+wmxURrm/7Zkt1tveH8HydWpZOUUns6irfm8Ooq35vDqKt+bw6iBkvwjxO49NHh1EbJPin1O49FPh1FW/N4dRVvzeHUVb83h1ELISYeS6blNHh1/i//2Q==\"\n\n//# sourceURL=webpack://bos-platform/./src/designer/icon/fastlayout/9.jpg?");

/***/ }),

/***/ "./src/designer/icon/notempscheme.png":
/*!********************************************!*\
  !*** ./src/designer/icon/notempscheme.png ***!
  \********************************************/
/***/ (function(module) {

eval("module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOAAAACACAYAAAFl3lUtAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAA4KADAAQAAAABAAAAgAAAAAAYo3FDAAAbn0lEQVR4Ae1dW3McN3YGunsunBmSomxJFK0bbVOipXhtr7XZ2k0lcbYqSSXv+5DX/RF5Xe9rfkjysO+pSlWSclJbqdTWen2JSVEmJUqWzKsp3maGc+lLzkH3Gfb0ZRrN6SGbFFDkHODg4AD4TgNooNFoxi664zIV/G7j0BkkNz5e+81UlX86SIbiNPIMQx2H/Xq34Xwqo0O6hhsbG0Lf9PR0rN5b0+OJ+jKpYWwJIiKMCF4ka1DNIhPEMGMzXHy69hfM4bWCbX2NaQnSGD1MtkCRGT56tvlzUGzC/17bsW8btiWtMK5AxA8ZeWF5/QFFEq1UKt9sb29RUNCoGu0cmVOG2fqQavHe3PXP+hJBoC/Dr5Zf3ggKYHiyOv5C05Kvr9bR0Uf+9F2zyx/MvfWFn0eFEbxDq74/dfmyaOS7r15x9COd5OP+NLF+u23vi8iyK6IXdLb0bGOWtRibn59eRW5fDV2x8G9ST0MpnLZ1mfxI6/VDXquNO0gfPLj5Cnl9NUTGMO7WrUm3hj0lk56PqGyGnK8zx7ne0xPj4ZzbMVGKPToEhr5Ka7Uau1zjUnqwGsmtWaKyr+owIko66QzjOu96vQ7trc5k26p0hpIVSBSTzjCqs07UHiEQ29MsPln/e5S//871f0UaBynGoZMtUOTV9c3K93+GSnTDcCzT5BO1id9hOMnJ3NP0ZRg1FmImcBv4TbCGUTVqHNb/CuVx5Eb3fsR42IP0q5WNq6ZjBjpfNyH+RmVwHMugq3WYzdzhqWQUYptJr4YLW1s1oWAbfq8wRuMh8sbtsUMRN+DHtmzW6h69LURg/PM7GguR16vhg6tX634hvx/amD8Y6ecaZ1ajKxDCMTBSCJi9DOMEZPkwNLH792/sJclnliFmpMbDJLhHEd9rFVkolx0wgnmlmV4G0yaFpceKJEUnrRzqxeksDuGyU9qksvjjM6ugX+lJ/aOoaGaXKFnQP4QljS6DgJAZVwelp7hMu1FUOkylqFBZ0swr6LfgSQqaNUCpKri0svELLLQF/3pM6bMuYEw20mypCsKdmLb0ZP0juB8T9yrYMwVvVizLYrquZ3ajjDVYXl4umcbEJ+jv3XNCid+bvfZvgifxE9vJLKy8eDcufbFYdDqdTl/aamV8WdPi7BqnKZ5fP2z8TNzZ4c00moFuqskkEL4/N/2/8RrcmL5CkvDjx2tvkl+Wlser21xijUpGnw0reof15v2gbLEAwHY7nCjGk79WaK/Ozs4Gbrxj7n4PD9diJxao9OOPP3Y+//zzPnDKE3cxKhvHNaYXC6E7aQsaBvChD3ApZkb+I1aYguB6sAB9hQxGpgnTOJgmTZwszr62nXq1L37NC80ART9RZHv+hw9nmhj0O7qi/bwz9+Nc6OH1cGHPvGCqAAoBhYBCIIhAZsPEi836P0P3/g/BDGTCWU2NovLKbMJ70sphodIsyEdVYhAvswoOykQmblSVzE0FEYRRVDJXFRxFJTPrZOhe1D+jH2bym1XHkzsLyrTXNDIXvoKZzyaGuSzTWEZWVllQFimS83cyxEtDs74CUl2icLfCHz3d+Dt/gemxs5+XJ7/0MLG0sgmPtp1S1Jqo1dZ+P/5G8nPZNBXPapiQsiA+cDYPuvjcvuXAc3sHnt9jYfEZPlK9yn+ENI9OqoLagXkPHuC2mAmLu7gPDCg64UcPhG3bZri1LakNpmljj1Y3/xbV+9dEtQ7buHfv2leCL/ETe4kuPd2+Z1mmFACYD24W1PXsKoibKGjNF/WTn2jUJkOUC7rICuCqtmW3LDCWaypfqqhVbYzm3F3MT2Mhn9o+Lz4GcAze0qE2DpYQKK6Zo19Q5EOHBy74BKFPDwYiK2g6cDnGOLPdhZgow0fxYpQksHHZ0DGtdgF2pODuTKT+JF3W5YvPtj8A3pd+fpQ/soJlW4utYJQS5GVXPWEdZgPI7S5ekJwhpSV6pBDHGfAer/4wT0v592bfXIoqW+SdzLZz0IZttS3xb3oUwsj3x5EfqZNhDTlUqlDUWgUAWlDwO22zjX6iGOdw4CGFONgefTuqgtEWrNdbR7DNrue+c324xdb/XALDKIcUNuy6Qln8wrYim+ktoZj0YSbo4qhona6I/zezUtF80K/8pH7oQFj91f4btG84uHeK9hSTfgrfvn1pl3hEIy1IkWdJj6b01hGDZylTOjta856p0AOXmQDvCMJToecuovi5tCCW7Oa1WuqnqdD7hvZW59aCUYU9yRUV2YueRJFKoxBQCCgEFAIKAYWAQuB0EcjsRjSrYg/zHHyYMuCLZjCHln7xepi8skybOwNmOadMAxQakNx5MqSaSJDVfHQUbzb41GfqVQYcAOd5MKQy4AADUlSeDZn7MTDuMVwWD3fIQGloVg9k0+Q5SFa1wEHonIM4ZcBzYKRBRcztej0V+qy6Sso/71S1wLxbKKF8p9YC4UGt9uWzZxPj1ljRcQ735+bm2gllE9FxNzEyabOQyXsPMDIDLjxff6BZ2lsE4tLqFuwYqLCuaPMT7NHTTYoSdH726n/AY87QVqM+IRUIIZD5NGLx2dqPmW2IdSluWUK/o8NMSjj3eqGrBvf1BF2tMvZfQV6ewnmbRhCWmWC08O3GT50OqrJF9+jQhi6TTOU2sC4rBPLD/W7o4IVj2Iqp6bC3CV5MPg8O3u2f6OjVD7jDJ4LlNXTn6d07M4+C/CzDQ7XAFy9ejLValcK7715uwGa/K4bjXMPCHZvDLSpsBvTKTIbrD/e43S6r1mpf4mMB3XsFf9gxMOsxDFvgwsLqNC8U/8SrlDS5f/etf5cWlhRMZUDccgobFjN8/z9cynK5KDZB0jmfeTPgYePwz8OlJg51aNTjEP+Yckfbu//u9DfHnOF80gZcXnZKprlxPSq74FZZ2t5IsnHxxPfLj01UVnHAxM3eeXO4r7rdav5k2HJpFmvcvZtN1yptwIXVrelhCy6Tvloui8M1NOhG8+TQeLjruHl09L7Ju6Jw1PVTOR2nfx85yRken8KUjgYSjDcKvHn39rWnpEuWSqO0urp7iZTSkSc9BkVI0rj0yJ8q67tYKNxknyeHx9mgax4djnQIwTzee/vGCtS/76UC5Ec56rSj4vp46+v19vXrN4RSMtz6+kuBMvEp3JcQAnHxRwFBlOPMt+09EH+2QfeCspzwyxVjgYIF60XRJBeMD/K/ebJ2A9K8oHSDqPRljjcwgxRhHAkELx1qTDQbHKQH9sSENlgPkj+tOAfeMsO74w7jV0N5+t+1CEUCw9uu0Ww0BESVatWFiNLRdg5feO76OJ4im+ikW6Bsk8YcyZDB3MmQQb4/DHti/MH8+LHw8GfprZa+B2+o9LmiCFmX7L5rl+QseL0SBUqT3gsDe3Q0m9vbWN57lzorCr079Y0+7YMC0gYcpOS1iYNOyNp6s22xRa/KgRPetvr5PbktknPjQ+uFW28KfSQ/zkg+GVllwGSMhATdVD14wMVak2SykYvlb7I18ipfrAxyZ0CtoN/MK8QwQIlvnOS1fKpcCgGFgEJAIaAQUAgoBBQCCgGFgEJAIaAQUAjkHIHAqvrZl/blTvOGbdq/l/luapalzdt2Qdm65W4pze5aL07beAjWKA7vljXCMHK5M+AwlRk27Xk0ojJgwOrnzYjKgAEDYvA8GVEZMMKA58mIyoAxBjwvRlQGHGDA82BEZcAEA+bdiMqAEgbMsxFztxITPCst7u2krF8bk7Qjy9uKjWqBspbLqZwyYE4NI1ssZUBZpHIqpwyYU8PIFksZUBapnMrl/t2Is7rbzKm9QsVSLTAEyfliKAOeL3uFSqsMGILkfDFyPwbGrcScFsx5H4NPzYD/A6c6jXeLE+VJ4+jdy5cP07yyfVrGOo/5jNSAjx+/eAve/8bvbTI4HQCczbp7HfZob4MtPllncBxaY/7O9H8rYyI2J3MjGQPhRAsdjpP8G7tQfACH1plx/8zRSnAM5V8vPd3M7ceUTwbr6aXK/GkEHoDXaBd+hlWgl/llPuYIRu7ce+fq74JPI04PCrmc8vY0ItMuFM+SebS6/RPuwLlU4Lh3TqjtfXGZMos5Ck57/HTT7W7lsFRSgABhmgkYC0/Wfg6KLL3gfm/epu/NwzmUmAG1SOJTpvCdehHfNc1aGY5a4cFjWEhQ0RACmRlwbc2p7NY3ReOyO+55N/i9ZnR2h07mcI95g9NAvYK4x7355fFMMl3LrFhePqMjj568vOswfS6UA3cOC1bjSzgb/CAUlyEjM6T2GuvzcEZroHckQ1GJg6doUTzxIRw4zmnYeeCo5nGPnmy8zzQ+gzXjZqDeLqpjJpv42aPlTdbYv/qfDx9yOpyQwMiEntiAeKe5srJS3a9WzYczM01d1y0q4fFximGOW2pXoicHJ/UKVwAOGNCGHjdvx0360V5YevkLGOY1GBNoVPBHHx9Z7HErE2t/ubT03eL8/K21fsHhQ6nvQr9+/nxK7xTFlTd89mENlUrlGzwuW/POzM5bC2wc1j+BbkbgFrz6qfshfjAMpxQu/HjuutQhdmFkojmUV3RsgLuysnPTtOwKDGFUtoDE8EHRg+IQmvrSGj7vJA146KutOdD0XEcdP90L0ghC/KBcibF70HP9kOXChbQBcX530G6W4L4kutuIqH2xWBR3M50Onc4XIRRiud0osUc1hpH+VBQuKq5pxyMeoWcGTEZ8Uk6XO/AXn699COwvKGpYGswqVl+9blyDK4qKIuTozGtK5D/7Gnn1LlXMzYbiKR2FKT3yK3AioDirlu5vKPKMqY3nhcLlqNm2yYJNi8JURqo2hSle8HmmNZM2YMew+oyHZaNyUTlpskDhuHjiR8kHbkJJVW6oZTtWwXDPxu6a3tnZXjiukCTHPDk8vnp2dopOno5LJsWXNqBhFEMGlMohrVBeLeiNy5Zmm5r7XRPmfdqCwX2BGCqoqnS4OR12DmnEiF7w0h2y9s2vn7y4SfEoX+w2ns3Pz6c+7VbegJ3e51eonCOhvORhkTNDOth/wh+39Agg3D6zWHDHfKvrGoxWpChMLaDkyXW67r1BqTDmsNLYW18svrA+un9zOQ2w0vd62OypzdOh52kyQtm49H6+BqfWoywdsIr+PLjTOrW+xPT2O+/MfCdbZ+kW+H1705q6fFk0jyZppxnNFWK4dPfVq74Lg9K5J0sz9r0XT/yGF25A8hvl6zCD6Ever/ysQnjmO/xpesFkg+7CsHx0dxaUiwtTnSAdLGnAIwAH1jF48FaIpPqoNFKrqw4Vi9HnBeI+J0A5JMUH5TCsleviVP6c9aBM3IVC+Q6b9VtUbvpcAIWDnxMgPskF4+P4RtdpvvfejR1KP4hKt8Cdnc9787+i15R2djaFbgoHM7pzx/3OBMgNvFBID6a/8tbd3HWfol7eFaX7buaCd9Fx8wOSC8bH8UvjY9J2GQis3yD4rM8f9vspwrv96EVRK5L5XgQlyu13I7xK9H03gr7zQIUP0hN8L0KoAL1zkktu8paW+BQMGTJYDzJkkB8Vzu13I7CwYMTO7r5Vq42La7XeMUWVKRyqT8fttDptd75YLFjuNV70Ok8vvqenE4gPKQwzpA0YTvqacYSpOCsWK2bHAx78AoSjSrev8+l98MP7EIhecW8fOnvuF03p7HTr0iWRrtipCO3rHfeu8JLHl0FYGVAGJZTxTLRfbdN07jjl82Ov8M14YeJTeJ/kqq6n6j1G8/jGjMuv0+M1Eh9AlQEHgNMfhY3EYWO7u2DAwJdVxvq/2MJ2vfCYJ9cL92tku148padwQGxQUDTdQQKnHZf3XWk3r9WCN5MjgUh2HqhaYEr4ZYFNqfbE4vRg4MQKVMKzRUAZ8GzxHzp3ZcA0EHIuvu+bJsmoZXNnQLiryu0HpjRD+9NRG0TpVwgoBBQCCgGFgEJAIaAQUAgoBBQCCgGFgEJAIaAQUAgoBBQCCgGFgEJAIaAQUAgoBBQCCgGFgELgbBHI3Y7Qs4UjnDt+T9vpWl/BluzL4diLx6nBqzjwFstvpqr804tXu/zVKHe7mfIGEX7M/nVpfIQ9vH31a/yA8G7D+ZR4io4GAdUAk3B1nOtJIhc1XjXE0VtWNcDRY3zuc1ANcXQmVA1wdNheOM2qIWZvUtUAs8f0wmtUDTE7E6sGmB2Wr50m1RCHN7lqgMNj+NprUA3x5JeAaoAnx06lDCCgGmIAEImgaoASICmRdAiohiiPl9oJk4BV0lltab/llKsvzyTUPYvovH3hNIs6ZalDjYBZoql0KQRSIqAaYErAlLhCIEsEVAPMEk2lSyGQEgHVAFMCpsQVAlkioBpglmgqXQqBlAioDwykBCwo/rqtagbrr8LDIaBGwOHwU6kVAkMhoBrgUPCpxAqB4RBQDXA4/FRqhcBQCKg54FDwMZZ2J8yQ2eUuuZoDD2eSc98A8Rvoz57tTdp298pRt3tV07RLHI8VQocf1MSvRXsf1nQskNad/ZJjbJgm35yfv3KIYsopBM4KgXO5F3RhYXVaK5bv2dwZozaGAJLfa28hTKktul9wP5Y3OKtrNn88N3fd/da3L2XWe0F9qi+EN2kEVHtBB5v53IyAa2trlf2m/qHDWQWrhF9uLzBm4nfbgQpH/vC33N147G1s+Kdeh/zQIMuWxj5YfLLJYJQ8rBSOvpqdnW25qdSvQmB0CNC1OLochtS8urpabpmFj2C8KiWpsrjFdbjHRIqy5EeK4aR4lCFnMN7qdHb+OP7GrTbxFE2PgBoBB2OW6xFw8ena7WaH3TIMAxuQCY6jHylWi/xePLNNh2uG7iDFePIjFWG8SYUYzZsUmpbJC0bRQYrxfn0wOhrMmPqp7dhM42qxGPFRLnsEctsAF5af3+eWPQnXvmnbHVFzDdoB+pGis20H/LagGC4WNWicDkeKYfIjxTBjXfjHG1akKI+NuQPyooGDvOtHivGYj2ODfo75xM0sUVK5LBD4wx/WKpU3O5Naq1zmJbvEmVHuml1eKJRajFttm2utklV/dZGmB7lsgF9/u/k2XPhVmJvFTec8e+MsDhsGUmgwQCxslG6w50ee60jWbUyCb+tCTsSTHyi6AqLjtV0bGiKssAq++hkegaWl7XFW6N6zHH6FtBlgS7y54QbgDJPyLixhG7zAoBEKEc5t3nTKzuKTdbdDhavDMpwtU2uvfDQ7u0d6zhP1Rob8FHlha6vG9rtzJysRjW60LNM/4iXrDKevVGp/dJd8oIHrGtzB9kN21s8Bk1Yhk+s8Wgn/HHB5eWeiq1sfWpZZxlx1HebrFszbgWKY/EgxHHRB+WC8aVptVur+349u394NxuU1fGojIDyB0779dv0yL+sTlulUowAxoIOzd82CbegJI19UauT1j4jHo6M7osWlOuaH07tPFN3rwYGRlGuR18axCuULIbD03faM1bHmLaPjOCaHW0ouhjRL3F5CIwSKiTRuwC1/V1BXCV4GeIm6l4NjaxBng4x7J6IbDqTlHCnK6xrO9osfLqxscAgsPpi9uoH8PLuRXk2ffupov/rVD9Mtm0+6IOBcrgj/7pwue2BIN1J0w+dXLFYWXV34y0O3oWoEPEYn6MNmcbB38Gd6CVoWuv72FBRPDlNbpGEjQZ+tOVbJmfnD3BzP7Uo2VSW58iklVlY2rnb49mSj24EljKLowkpFg7U7NkOKrtPBRY+igxTDIAczLiEvejTyI5WLtyE9LpnQpA/zwVEtupolaKdtaKNI0ZEfKTo3X8xaFIf214g49TMYAbF4BSvIBk6kbfG4FoY4SIPmkJ5Ko92olWFa8GtCHwTAkR+pcCQrLjexOmDytY+fPt188vbb1zY9oVyRkYyAeMvBbCvxuV0QiU6nDQ2yBA2yLcpFfqRB2ahwUvqk+KBO6Bf4RK38hDLHQqmFmCBK4TAuWMGUQ0Q020c/DUucAadQWXlwc/LVGeQ8MEvqOgYKpYlcXd291OweoV6rVC457VabI43SQXFIMV7XCzARtwXFsFEowCTd5kgxHJQP6idZpFHpQQ+yUa+gqK9SrYkyIiOsr83BwQAYWXyhQ/1EICDgQhPAnNkyYDhyVzEjJFOywotk/sdKA5VZjTvQKRyAPd3hcaDw6UWKCzXL7J5ubl7r7LbdVQ/cNNaEf7F5zOdHHrqkeFcq/jcpfVJ8vOZeTHli8vteADxqBPSjEfbjyEejH8a2Wq0PwlJnw+EFfefwxhtbYy9fjnOrXCqaeO/awg6/2zTanaPNzcOHDx9m1VtIVTLzBvgVzP0ilzgjitMAHsoijXIUR/qC8sH4KB1+XlL6qHijUtn0g6RWQf2Ihv24c8ibMovIbtd8EJY6GSe4ZkDrB0hlNCal98d3TNb4cH765ahHTP+1JVOHRJmFF/s5+pb6AZR3Av6RoiM/UjlXM/iOX1LckvoZyt+HgG3RuyYuu3XYmO8TSBMYdlF72PRQVsOwrb29zeejGhkzb4DLOzsTLG6qi00T4+KaKMXFpU9jPJQN5pekP0K+OF7Y9/foqgEONoIFCzB+V2+03vWHz6u/ohV+eOedy/tZlz/zBri25tCML+uyRuhbBx5+wh0pOvIjjXJp5WERnNf775AzRyyqnOeXhyugftdsNe74w+fZf6nMtmdmZmgFI5OqZH45LS8vp378kElNRqSkWLvW916gGgEHA427hXq79cDbsjo3xELc4GSnE5t2US4g39k7MN9//+1Mnydm/hjiiy++gGXeX8YA+lvgYxxSdOR35X8J5LcQhRQd+ZHKuHD634KuX4IeT0FYwM2M4iPK891GvfcAXj2NkLCCv0sHf6Frmb03piWSj1QkuDU4+FQjmHlAvlCtBiWGDvvhGlrZRVSQdCTFRazzMHVy/KugcHW1DhpX7CrtTJoA1QfwjxQe6TTq3IbnsEgFY8gf0oU0Sj8eADQO/3QQEPmRyrp792Z+kJWVkct8BJTJVMlcXAT8zwPwzZFms21OGJOCfXCwwycmJh2kPQSaKbZpXoJU+NIRUnTkR4qOdBH188CPD6dxAkdb88lPkzq3bPuijJj04MD1I8XwKJxqgKNA9TXWKa5U71A6hKFYrJqtlrv5pFhswoP5KvDokg8CdQUY2/CPNMJhMny0QMnJj1Q4SosUXYK+Xl6uPJUNKTooO5TXFFQwhLzry+p3ZC07qwKetR51C5rOAv5dMJjSbu2MpdOQb+ms38ZXI2C+7X3uShdcJb5z587I9l5+Buh8Av9I0X0C/595FEjm7rPMNca9pzOCjJTK1xMBaJAja4AXAVHpN7MuQmVVHRQCeUNANcC8WUSV57VCQDXA18rcqrJ5Q0A1wASLwBzmXxJEVHQMAgq7GGB8bPUYwgdGnPflTvOGY9r/BE+TP4G3TeN2esclf734nOOhnZ/B2Z7/eOONysvXq/KqtgoBhYBCQCGgEFAIKAQUAgoBhYBCQCGgEFAIKAQUAgoBhYBCQCHQj8D/A1Kkh/+fu1sDAAAAAElFTkSuQmCC\"\n\n//# sourceURL=webpack://bos-platform/./src/designer/icon/notempscheme.png?");

/***/ }),

/***/ "./src/designer/icon/toolbar/template.png":
/*!************************************************!*\
  !*** ./src/designer/icon/toolbar/template.png ***!
  \************************************************/
/***/ (function(module) {

eval("module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYAgMAAACdGdVrAAAACVBMVEUAAAD///////9zeKVjAAAAAnRSTlMAtc2YijsAAAAkSURBVAjXY8AKGFcBgQMDE4hqwE5BAJCnBeRRiWIEUQ5YXQQAnvQvSVIqTKwAAAAASUVORK5CYII=\"\n\n//# sourceURL=webpack://bos-platform/./src/designer/icon/toolbar/template.png?");

/***/ }),

/***/ "./src/reducer/registerReducer sync recursive ^(?%21\\.\\/index).*\\.js$":
/*!*******************************************************************!*\
  !*** ./src/reducer/registerReducer/ sync ^(?%21\.\/index).*\.js$ ***!
  \*******************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("var map = {\n\t\"./actionReducer.js\": \"./src/reducer/registerReducer/actionReducer.js\",\n\t\"./admindivisionReducer.js\": \"./src/reducer/registerReducer/admindivisionReducer.js\",\n\t\"./approvalProcessingReducer.js\": \"./src/reducer/registerReducer/approvalProcessingReducer.js\",\n\t\"./approvalRecordReducer.js\": \"./src/reducer/registerReducer/approvalRecordReducer.js\",\n\t\"./appstartReducer.js\": \"./src/reducer/registerReducer/appstartReducer.js\",\n\t\"./attachmentpanelReducer.js\": \"./src/reducer/registerReducer/attachmentpanelReducer.js\",\n\t\"./baseCardFieldReducer.js\": \"./src/reducer/registerReducer/baseCardFieldReducer.js\",\n\t\"./billReducer.js\": \"./src/reducer/registerReducer/billReducer.js\",\n\t\"./buttonReducer.js\": \"./src/reducer/registerReducer/buttonReducer.js\",\n\t\"./commonFilterReducer.js\": \"./src/reducer/registerReducer/commonFilterReducer.js\",\n\t\"./commonFunctionPanelReducer.js\": \"./src/reducer/registerReducer/commonFunctionPanelReducer.js\",\n\t\"./dateselectReducer.js\": \"./src/reducer/registerReducer/dateselectReducer.js\",\n\t\"./entitydesignerReducer.js\": \"./src/reducer/registerReducer/entitydesignerReducer.js\",\n\t\"./f7Reducer.js\": \"./src/reducer/registerReducer/f7Reducer.js\",\n\t\"./fieldReducer.js\": \"./src/reducer/registerReducer/fieldReducer.js\",\n\t\"./generalf7Reducer.js\": \"./src/reducer/registerReducer/generalf7Reducer.js\",\n\t\"./generaltreef7Reducer.js\": \"./src/reducer/registerReducer/generaltreef7Reducer.js\",\n\t\"./gridReducer.js\": \"./src/reducer/registerReducer/gridReducer.js\",\n\t\"./gridcontainerReducer.js\": \"./src/reducer/registerReducer/gridcontainerReducer.js\",\n\t\"./guideReducer.js\": \"./src/reducer/registerReducer/guideReducer.js\",\n\t\"./homePageTabReducer.js\": \"./src/reducer/registerReducer/homePageTabReducer.js\",\n\t\"./htmlReducer.js\": \"./src/reducer/registerReducer/htmlReducer.js\",\n\t\"./hyperLinkReducer.js\": \"./src/reducer/registerReducer/hyperLinkReducer.js\",\n\t\"./iconReducer.js\": \"./src/reducer/registerReducer/iconReducer.js\",\n\t\"./iframeReducer.js\": \"./src/reducer/registerReducer/iframeReducer.js\",\n\t\"./littlekReducer.js\": \"./src/reducer/registerReducer/littlekReducer.js\",\n\t\"./mapReducer.js\": \"./src/reducer/registerReducer/mapReducer.js\",\n\t\"./mobilefilterReducer.js\": \"./src/reducer/registerReducer/mobilefilterReducer.js\",\n\t\"./myApplicationReducer.js\": \"./src/reducer/registerReducer/myApplicationReducer.js\",\n\t\"./qingReducer.js\": \"./src/reducer/registerReducer/qingReducer.js\",\n\t\"./qrcodeReducer.js\": \"./src/reducer/registerReducer/qrcodeReducer.js\",\n\t\"./querypanelReducer.js\": \"./src/reducer/registerReducer/querypanelReducer.js\",\n\t\"./reportfilterReducer.js\": \"./src/reducer/registerReducer/reportfilterReducer.js\",\n\t\"./searchReducer.js\": \"./src/reducer/registerReducer/searchReducer.js\",\n\t\"./splitcontainerReducer.js\": \"./src/reducer/registerReducer/splitcontainerReducer.js\",\n\t\"./subGridReducer.js\": \"./src/reducer/registerReducer/subGridReducer.js\",\n\t\"./tabReducer.js\": \"./src/reducer/registerReducer/tabReducer.js\",\n\t\"./tilePanelReducer.js\": \"./src/reducer/registerReducer/tilePanelReducer.js\",\n\t\"./transferContainerReducer.js\": \"./src/reducer/registerReducer/transferContainerReducer.js\",\n\t\"./treeReducer.js\": \"./src/reducer/registerReducer/treeReducer.js\",\n\t\"./wFNavigationBarReducer.js\": \"./src/reducer/registerReducer/wFNavigationBarReducer.js\",\n\t\"./wfConditionReducer.js\": \"./src/reducer/registerReducer/wfConditionReducer.js\",\n\t\"./workcalendarReducer.js\": \"./src/reducer/registerReducer/workcalendarReducer.js\",\n\t\"./yzjChatReducer.js\": \"./src/reducer/registerReducer/yzjChatReducer.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./src/reducer/registerReducer sync recursive ^(?%21\\\\.\\\\/index).*\\\\.js$\";\n\n//# sourceURL=webpack://bos-platform/./src/reducer/registerReducer/_sync_^(?");

/***/ }),

/***/ "./static/theme/echarts-theme-default.js":
/*!***********************************************!*\
  !*** ./static/theme/echarts-theme-default.js ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  //调色盘颜色列表。如果系列没有设置颜色，则会依次循环从该列表中取颜色作为系列颜色\n  color: [\n    '#40a9ff',\n    '#45dad1',\n    '#73d13d',\n    '#ffc53d',\n    '#ffa940',\n    '#f57582',\n    '#9f69e2',\n    '#6682f5',\n    '#f273b5',\n  ],\n  //关系图\n  graph: {\n    color: [\n      '#40a9ff',\n      '#45dad1',\n      '#73d13d',\n      '#ffc53d',\n      '#ffa940',\n      '#f57582',\n      '#9f69e2',\n      '#6682f5',\n      '#f273b5',\n    ],\n  },\n  // 热力图\n  visualMap: {\n    color: ['#40a9ff'],\n    inRange: {\n      //颜色的明暗度\n      colorLightness: [0.9, 0.15],\n      color: ['#40a9ff'],\n    },\n  },\n  geo: {\n    //文本标签\n    label: {\n      normal: {\n        textStyle: {\n          color: '#ffffff',\n        },\n      },\n      emphasis: {\n        textStyle: {\n          color: '#ffffff',\n        },\n      },\n    },\n    itemStyle: {\n      normal: {\n        //图形的描边颜色\n        borderColor: '#eee',\n      },\n      emphasis: {\n        //高亮状态下的\n        areaColor: '#fe994e',\n      },\n    },\n  },\n  //仪表盘\n  gauge: {\n    axisLine: {\n      //线相关设置\n      lineStyle: {\n        color: [\n          [0.2, '#40A9FF'],\n          [0.5, '#26C9C3'],\n          [0.8, '#FFC53D'],\n          [1, '#F57582'],\n        ],\n      },\n    },\n    title: {\n      //标题相对于仪表盘中心的偏移位置\n      offsetCenter: [0, '20%'],\n      color: '#999999',\n      fontWeight: 'bold',\n    },\n    detail: {\n      //详情相对于仪表盘中心的偏移位置\n      offsetCenter: [0, '40%'],\n    },\n  },\n  title: {\n    textStyle: {\n      color: 'rgba(33,33,33,1)',\n      fontSize: 14,\n    },\n    //副标题\n    subtextStyle: {\n      color: '#6E7079',\n    },\n  },\n  //图例图形\n  legend: {\n    textStyle: {\n      color: '#666666',\n    },\n  },\n  //提示框组件\n  tooltip: {\n    trigger: 'axis',\n    confine: true,  //将 tooltip 框限制在图表的区域内\n    backgroundColor: 'rgba(0, 0, 0, 0.6)',\n    textStyle: {\n      align: 'left',\n      fontSize: 14,\n      lineHeight: 18,\n      color: '#ffffff',\n    },\n    padding: 8,\n  },\n  //条形图\n  bar: {\n    tooltip: {},\n  },\n  //折线图\n  line: {\n    itemStyle: {\n      borderWidth: 2,\n    },\n    tooltip: {},\n  },\n  //扇形图\n  pie: {\n    itemStyle: {\n      borderColor: '#fff',\n      borderWidth: 1,\n    },\n  },\n  //雷达图\n  radar: {\n    areaStyle: {\n      opacity: 0.3,\n    },\n    lineStyle: {\n      width: 2,\n    },\n  },\n  //散点图\n  scatter: {\n    itemStyle: {\n      opacity: 0.7,\n    },\n  },\n  //漏斗图\n  funnel: {\n    color: [\n      '#40a9ff',\n      '#45dad1',\n      '#73d13d',\n      '#ffc53d',\n      '#ffa940',\n      '#f57582',\n      '#9f69e2',\n      '#6682f5',\n      '#f273b5',\n    ],\n  },\n  //类目轴\n  categoryAxis: {\n    axisLine: {\n      show: true,\n      lineStyle: {\n        color: '#D9D9D9',\n      },\n    },\n    axisTick: {\n      alignWithLabel: true,\n      lineStyle: {\n        //刻度标签\n        color: '#B2B2B2',\n      },\n    },\n    axisLabel: {\n      textStyle: {\n        color: '#666666',\n      },\n    },\n    splitLine: {\n      lineStyle: {\n        type: 'dashed',\n        color: '#D9D9D9',\n      },\n    },\n    splitArea: {\n      areaStyle: {\n        color: '#666666',\n      },\n    },\n  },\n  //数值轴\n  valueAxis: {\n    axisLine: {\n      show: false,\n    },\n    axisTick: {\n      alignWithLabel: true,\n      lineStyle: {\n        color: '#B2B2B2',\n      },\n    },\n    axisLabel: {\n      textStyle: {\n        color: '#666666',\n      },\n    },\n    splitLine: {\n      lineStyle: {\n        type: 'dashed',\n        color: '#D9D9D9',\n      },\n    },\n    splitArea: {\n      areaStyle: {\n        color: '#666666',\n      },\n    },\n  },\n});\n\n//# sourceURL=webpack://bos-platform/./static/theme/echarts-theme-default.js?");

/***/ }),

/***/ "../../node_modules/react-tiny-virtual-list/build/react-tiny-virtual-list.es.js":
/*!***********************************************************************************************************************!*\
  !*** delegated ../../node_modules/react-tiny-virtual-list/build/react-tiny-virtual-list.es.js from dll-reference lib ***!
  \***********************************************************************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("module.exports = (__webpack_require__(/*! dll-reference lib */ \"dll-reference lib\"))(283);\n\n//# sourceURL=webpack://bos-platform/delegated_../../node_modules/react-tiny-virtual-list/build/react-tiny-virtual-list.es.js_from_dll-reference_lib?");

/***/ }),

/***/ "../../node_modules/xss-filters/src/xss-filters.js":
/*!******************************************************************************************!*\
  !*** delegated ../../node_modules/xss-filters/src/xss-filters.js from dll-reference lib ***!
  \******************************************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("module.exports = (__webpack_require__(/*! dll-reference lib */ \"dll-reference lib\"))(8375);\n\n//# sourceURL=webpack://bos-platform/delegated_../../node_modules/xss-filters/src/xss-filters.js_from_dll-reference_lib?");

/***/ }),

/***/ "../../node_modules/react-router/es/index.js":
/*!************************************************************************************!*\
  !*** delegated ../../node_modules/react-router/es/index.js from dll-reference lib ***!
  \************************************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("module.exports = (__webpack_require__(/*! dll-reference lib */ \"dll-reference lib\"))(9177);\n\n//# sourceURL=webpack://bos-platform/delegated_../../node_modules/react-router/es/index.js_from_dll-reference_lib?");

/***/ }),

/***/ "../../node_modules/redux/es/index.js":
/*!*****************************************************************************!*\
  !*** delegated ../../node_modules/redux/es/index.js from dll-reference lib ***!
  \*****************************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("module.exports = (__webpack_require__(/*! dll-reference lib */ \"dll-reference lib\"))(9249);\n\n//# sourceURL=webpack://bos-platform/delegated_../../node_modules/redux/es/index.js_from_dll-reference_lib?");

/***/ }),

/***/ "./src/designer/template/mobile/mtoolbar/mtoolbarTemp.json":
/*!*****************************************************************!*\
  !*** ./src/designer/template/mobile/mtoolbar/mtoolbarTemp.json ***!
  \*****************************************************************/
/***/ (function(module) {

"use strict";
eval("module.exports = /*#__PURE__*/JSON.parse('{\"temp1\":{\"excludeProp\":[\"Id\",\"_Type_\",\"Key\",\"Name\",\"ParentId\",\"Hidden\",\"Visible\",\"Lock\",\"Width\",\"Height\"],\"formMeta\":{\"type\":\"MToolbarAp\",\"flex\":{\"Grow\":0},\"Position\":2,\"Shrink\":0,\"Name\":\"工具栏\",\"ItemStyle\":2,\"Style\":{\"Border\":{\"Top\":\"0.5px_solid_#e5e5e5\"}},\"items\":[{\"excludeProp\":[\"Id\",\"_Type_\",\"Key\",\"Name\",\"ParentId\",\"Hidden\",\"Visible\",\"Lock\",\"ImageKey\",\"ImgHeight\",\"ImgWidth\",\"OperationKey\",\"fontClass\",\"DropdownItems\",\"BusyTip\",\"CommitValidate\",\"ControlLoading\"],\"formMeta\":{\"ImgWidth\":\"24px\",\"ImageKey\":\"/icons/mobile/tab_bar/icon_yy(x)_64_64.png\",\"ForeColor\":\"#666666\",\"ImgHeight\":\"24px\"}},{\"excludeProp\":[\"Id\",\"_Type_\",\"Key\",\"Name\",\"ParentId\",\"Hidden\",\"Visible\",\"Lock\",\"ImageKey\",\"ImgHeight\",\"ImgWidth\",\"OperationKey\",\"fontClass\",\"DropdownItems\",\"BusyTip\",\"CommitValidate\",\"ControlLoading\"],\"formMeta\":{\"ImgWidth\":\"24px\",\"ImageKey\":\"/icons/mobile/tab_bar/icon_yy(x)_64_64.png\",\"ForeColor\":\"#666666\",\"ImgHeight\":\"24px\"}}]}},\"temp2\":{\"excludeProp\":[\"Id\",\"_Type_\",\"Key\",\"Name\",\"ParentId\",\"Hidden\",\"Visible\",\"Lock\",\"Width\",\"Height\"],\"formMeta\":{\"flex\":{\"Grow\":0},\"Position\":2,\"TextStyle\":0,\"Shrink\":0,\"items\":[{\"excludeProp\":[\"Id\",\"_Type_\",\"Key\",\"Name\",\"ParentId\",\"Hidden\",\"Visible\",\"Lock\",\"ImageKey\",\"ImgHeight\",\"ImgWidth\",\"OperationKey\",\"fontClass\",\"DropdownItems\",\"BusyTip\",\"CommitValidate\",\"ControlLoading\"],\"formMeta\":{\"Index\":2,\"FontSize\":14,\"FontWeight\":\"bold\",\"Style\":{\"_Type_\":\"Style\",\"Margin\":{\"_Type_\":\"Margin\",\"Left\":\"6px\",\"Top\":\"\",\"Right\":\"6px\",\"Bottom\":\"\"}},\"Radius\":\"4px\"}},{\"excludeProp\":[\"Id\",\"_Type_\",\"Key\",\"Name\",\"ParentId\",\"Hidden\",\"Visible\",\"Lock\",\"ImageKey\",\"ImgHeight\",\"ImgWidth\",\"OperationKey\",\"fontClass\",\"DropdownItems\",\"BusyTip\",\"CommitValidate\",\"ControlLoading\"],\"formMeta\":{\"ForeColor\":\"#666666\",\"FontSize\":14,\"FontWeight\":\"bold\",\"Style\":{\"Border\":{\"Top\":\"0.5px_solid_#cccccc\",\"Left\":\"0.5px_solid_#cccccc\",\"Right\":\"0.5px_solid_#cccccc\",\"Bottom\":\"0.5px_solid_#cccccc\"},\"Margin\":{\"Left\":\"6px\",\"Right\":\"6px\",\"Top\":\"\",\"Bottom\":\"\"}},\"Index\":1,\"Radius\":\"4px\",\"BackColor\":\"#ffffff\"}}]}},\"temp4\":{\"excludeProp\":[\"Id\",\"_Type_\",\"Key\",\"Name\",\"ParentId\",\"Hidden\",\"Visible\",\"Lock\",\"Width\",\"Height\"],\"formMeta\":{\"type\":\"MToolbarAp\",\"flex\":{\"Grow\":0},\"Position\":2,\"Shrink\":0,\"Index\":0,\"ItemStyle\":3,\"items\":[{\"excludeProp\":[\"Id\",\"_Type_\",\"Key\",\"Name\",\"ParentId\",\"Hidden\",\"Visible\",\"Lock\",\"ImageKey\",\"ImgHeight\",\"ImgWidth\",\"OperationKey\",\"fontClass\",\"DropdownItems\",\"BusyTip\",\"CommitValidate\",\"ControlLoading\"],\"formMeta\":{\"ImgWidth\":\"20px\",\"ImageKey\":\"/icons/mobile/tab_bar/icon_commit_64_64.png\",\"ForeColor\":\"#666666\",\"BackColor\":\"#ffffff\",\"ImgHeight\":\"20px\",\"FontSize\":16}},{\"excludeProp\":[\"Id\",\"_Type_\",\"Key\",\"Name\",\"ParentId\",\"Hidden\",\"Visible\",\"Lock\",\"ImageKey\",\"ImgHeight\",\"ImgWidth\",\"OperationKey\",\"fontClass\",\"DropdownItems\",\"BusyTip\",\"CommitValidate\",\"ControlLoading\",\"ZIndex\",\"CustomeStyles\"],\"formMeta\":{\"ImgWidth\":\"20px\",\"ImageKey\":\"/icons/mobile/tab_bar/icon_save_64_64.png\",\"ForeColor\":\"#666666\",\"BackColor\":\"#ffffff\",\"ImgHeight\":\"20px\",\"FontSize\":16}}]}}}');\n\n//# sourceURL=webpack://bos-platform/./src/designer/template/mobile/mtoolbar/mtoolbarTemp.json?");

/***/ })

}]);